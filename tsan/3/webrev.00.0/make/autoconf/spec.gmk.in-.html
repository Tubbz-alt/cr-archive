<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old make/autoconf/spec.gmk.in</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
  <body>
    <pre>
  1 #
  2 # Copyright (c) 2011, 2019, Oracle and/or its affiliates. All rights reserved.
  3 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4 #
  5 # This code is free software; you can redistribute it and/or modify it
  6 # under the terms of the GNU General Public License version 2 only, as
  7 # published by the Free Software Foundation.  Oracle designates this
  8 # particular file as subject to the &quot;Classpath&quot; exception as provided
  9 # by Oracle in the LICENSE file that accompanied this code.
 10 #
 11 # This code is distributed in the hope that it will be useful, but WITHOUT
 12 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14 # version 2 for more details (a copy is included in the LICENSE file that
 15 # accompanied this code).
 16 #
 17 # You should have received a copy of the GNU General Public License version
 18 # 2 along with this work; if not, write to the Free Software Foundation,
 19 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20 #
 21 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22 # or visit www.oracle.com if you need additional information or have any
 23 # questions.
 24 #
 25 
 26 # Configured @DATE_WHEN_CONFIGURED@ to build
 27 # for target system @OPENJDK_TARGET_OS@-@OPENJDK_TARGET_CPU@
 28 #   (called @OPENJDK_TARGET_AUTOCONF_NAME@ by autoconf)
 29 # on build system @OPENJDK_BUILD_OS@-@OPENJDK_BUILD_CPU@
 30 #   (called @OPENJDK_BUILD_AUTOCONF_NAME@ by autoconf)
 31 # using &#39;configure @CONFIGURE_COMMAND_LINE@&#39;
 32 
 33 # The command line given to configure.
 34 CONFIGURE_COMMAND_LINE:=@CONFIGURE_COMMAND_LINE@
 35 
 36 # A self-referential reference to this file.
 37 SPEC:=@SPEC@
 38 
 39 # Path to autoconf if overriden by the user, to be used by &quot;make reconfigure&quot;
 40 AUTOCONF := @AUTOCONF@
 41 
 42 # SPACE and COMMA are defined in MakeBase.gmk, but they are also used in
 43 # some definitions here, and are needed if MakeBase.gmk is not included before
 44 # this file.
 45 X:=
 46 SPACE:=$(X) $(X)
 47 COMMA:=,
 48 
 49 # What make to use for main processing, after bootstrapping top-level Makefile.
 50 MAKE := @MAKE@
 51 
 52 # The default make arguments
 53 MAKE_ARGS = $(MAKE_LOG_FLAGS) -r -R -I $(TOPDIR)/make/common SPEC=$(SPEC) \
 54     MAKE_LOG_FLAGS=&quot;$(MAKE_LOG_FLAGS)&quot; $(MAKE_LOG_VARS)
 55 
 56 OUTPUT_SYNC_SUPPORTED:=@OUTPUT_SYNC_SUPPORTED@
 57 OUTPUT_SYNC:=@OUTPUT_SYNC@
 58 
 59 # Override the shell with bash
 60 BASH:=@BASH@
 61 BASH_ARGS:=@BASH_ARGS@
 62 SHELL:=$(BASH) $(BASH_ARGS)
 63 
 64 # The &quot;human readable&quot; name of this configuration
 65 CONF_NAME:=@CONF_NAME@
 66 
 67 # The built jdk will run in this target system.
 68 OPENJDK_TARGET_OS:=@OPENJDK_TARGET_OS@
 69 OPENJDK_TARGET_OS_TYPE:=@OPENJDK_TARGET_OS_TYPE@
 70 OPENJDK_TARGET_OS_ENV:=@OPENJDK_TARGET_OS_ENV@
 71 OPENJDK_TARGET_OS_UPPERCASE:=@OPENJDK_TARGET_OS_UPPERCASE@
 72 
 73 OPENJDK_TARGET_CPU:=@OPENJDK_TARGET_CPU@
 74 OPENJDK_TARGET_CPU_ARCH:=@OPENJDK_TARGET_CPU_ARCH@
 75 OPENJDK_TARGET_CPU_BITS:=@OPENJDK_TARGET_CPU_BITS@
 76 OPENJDK_TARGET_CPU_ENDIAN:=@OPENJDK_TARGET_CPU_ENDIAN@
 77 
 78 COMPILE_TYPE:=@COMPILE_TYPE@
 79 
 80 # Legacy support
 81 OPENJDK_TARGET_CPU_ISADIR:=@OPENJDK_TARGET_CPU_ISADIR@
 82 OPENJDK_TARGET_CPU_LEGACY:=@OPENJDK_TARGET_CPU_LEGACY@
 83 OPENJDK_TARGET_CPU_LEGACY_LIB:=@OPENJDK_TARGET_CPU_LEGACY_LIB@
 84 OPENJDK_TARGET_CPU_OSARCH:=@OPENJDK_TARGET_CPU_OSARCH@
 85 OPENJDK_TARGET_OS_INCLUDE_SUBDIR:=@OPENJDK_TARGET_OS_INCLUDE_SUBDIR@
 86 
 87 HOTSPOT_TARGET_OS := @HOTSPOT_TARGET_OS@
 88 HOTSPOT_TARGET_OS_TYPE := @HOTSPOT_TARGET_OS_TYPE@
 89 
 90 HOTSPOT_TARGET_CPU := @HOTSPOT_TARGET_CPU@
 91 HOTSPOT_TARGET_CPU_ARCH := @HOTSPOT_TARGET_CPU_ARCH@
 92 HOTSPOT_TARGET_CPU_DEFINE := @HOTSPOT_TARGET_CPU_DEFINE@
 93 
 94 OPENJDK_TARGET_BUNDLE_PLATFORM:=@OPENJDK_TARGET_BUNDLE_PLATFORM@
 95 JDK_ARCH_ABI_PROP_NAME := @JDK_ARCH_ABI_PROP_NAME@
 96 
 97 # We are building on this build system.
 98 # When not cross-compiling, it is the same as the target.
 99 OPENJDK_BUILD_OS:=@OPENJDK_BUILD_OS@
100 OPENJDK_BUILD_OS_TYPE:=@OPENJDK_BUILD_OS_TYPE@
101 OPENJDK_BUILD_OS_ENV:=@OPENJDK_BUILD_OS_ENV@
102 
103 OPENJDK_BUILD_CPU:=@OPENJDK_BUILD_CPU@
104 OPENJDK_BUILD_CPU_ARCH:=@OPENJDK_BUILD_CPU_ARCH@
105 OPENJDK_BUILD_CPU_BITS:=@OPENJDK_BUILD_CPU_BITS@
106 OPENJDK_BUILD_CPU_ENDIAN:=@OPENJDK_BUILD_CPU_ENDIAN@
107 
108 OPENJDK_BUILD_OS_INCLUDE_SUBDIR:=@OPENJDK_TARGET_OS_INCLUDE_SUBDIR@
109 
110 # Target platform value in ModuleTarget class file attribute.
111 OPENJDK_MODULE_TARGET_PLATFORM:=@OPENJDK_MODULE_TARGET_PLATFORM@
112 
113 # OS_* properties in release file
114 RELEASE_FILE_OS_NAME:=@RELEASE_FILE_OS_NAME@
115 RELEASE_FILE_OS_ARCH:=@RELEASE_FILE_OS_ARCH@
116 
117 LIBM:=@LIBM@
118 LIBDL:=@LIBDL@
119 
120 # colon or semicolon
121 PATH_SEP:=@PATH_SEP@
122 
123 # Save the original path before replacing it with the Visual Studio tools
124 ORIGINAL_PATH:=@ORIGINAL_PATH@
125 ifeq ($(OPENJDK_TARGET_OS), windows)
126   # On Windows, the Visual Studio toolchain needs the PATH to be adjusted
127   # to include Visual Studio tools (this needs to be in cygwin/msys style).
128   ifeq ($(OPENJDK_TARGET_OS_ENV), windows.wsl)
129     export FIXPATH_PATH:=@VS_PATH_WINDOWS@
130     export WSLENV:=$(WSLENV):FIXPATH_PATH:DEBUG_FIXPATH
131   else
132     export PATH:=@VS_PATH@
133   endif
134 endif
135 
136 SYSROOT_CFLAGS := @SYSROOT_CFLAGS@
137 SYSROOT_LDFLAGS := @SYSROOT_LDFLAGS@
138 
139 # The top-level directory of the source repository
140 TOPDIR:=@TOPDIR@
141 
142 
143 IMPORT_MODULES_CLASSES:=@IMPORT_MODULES_CLASSES@
144 IMPORT_MODULES_CMDS:=@IMPORT_MODULES_CMDS@
145 IMPORT_MODULES_LIBS:=@IMPORT_MODULES_LIBS@
146 IMPORT_MODULES_CONF:=@IMPORT_MODULES_CONF@
147 IMPORT_MODULES_LEGAL:=@IMPORT_MODULES_LEGAL@
148 IMPORT_MODULES_MAN:=@IMPORT_MODULES_MAN@
149 IMPORT_MODULES_SRC:=@IMPORT_MODULES_SRC@
150 IMPORT_MODULES_MAKE:=@IMPORT_MODULES_MAKE@
151 
152 COPYRIGHT_YEAR:=@COPYRIGHT_YEAR@
153 
154 # Platform naming variables
155 LAUNCHER_NAME:=@LAUNCHER_NAME@
156 PRODUCT_NAME:=@PRODUCT_NAME@
157 PRODUCT_SUFFIX:=@PRODUCT_SUFFIX@
158 JDK_RC_PLATFORM_NAME:=@JDK_RC_PLATFORM_NAME@
159 COMPANY_NAME:=@COMPANY_NAME@
160 HOTSPOT_VM_DISTRO:=@HOTSPOT_VM_DISTRO@
161 MACOSX_BUNDLE_NAME_BASE=@MACOSX_BUNDLE_NAME_BASE@
162 MACOSX_BUNDLE_ID_BASE=@MACOSX_BUNDLE_ID_BASE@
163 USERNAME:=@USERNAME@
164 VENDOR_URL:=@VENDOR_URL@
165 VENDOR_URL_BUG:=@VENDOR_URL_BUG@
166 VENDOR_URL_VM_BUG:=@VENDOR_URL_VM_BUG@
167 
168 # New (JEP-223) version information
169 
170 ## Building blocks of the version string
171 # First three version numbers, with well-specified meanings (numerical)
172 VERSION_FEATURE := @VERSION_FEATURE@
173 VERSION_INTERIM := @VERSION_INTERIM@
174 VERSION_UPDATE := @VERSION_UPDATE@
175 VERSION_PATCH := @VERSION_PATCH@
176 VERSION_EXTRA1 := @VERSION_EXTRA1@
177 VERSION_EXTRA2 := @VERSION_EXTRA2@
178 VERSION_EXTRA3 := @VERSION_EXTRA3@
179 # The pre-release identifier (string)
180 VERSION_PRE := @VERSION_PRE@
181 # The build number (numerical)
182 VERSION_BUILD := @VERSION_BUILD@
183 # Optional build information (string)
184 VERSION_OPT := @VERSION_OPT@
185 
186 ## Composite variables
187 # The version number as a dot separated sequence of numbers, e.g. 9.0.1
188 VERSION_NUMBER := @VERSION_NUMBER@
189 # VERSION_NUMBER but always with exactly 4 positions, with 0 for empty positions.
190 VERSION_NUMBER_FOUR_POSITIONS := @VERSION_NUMBER_FOUR_POSITIONS@
191 # The complete version string, with additional build information
192 VERSION_STRING := @VERSION_STRING@
193 # The short version string, without trailing zeroes and just PRE, if present.
194 VERSION_SHORT := @VERSION_SHORT@
195 # The Java specification version. It usually equals the feature version number.
196 VERSION_SPECIFICATION := @VERSION_FEATURE@
197 # A GA version is defined by the PRE string being empty. Rather than testing for
198 # that, this variable defines it with true/false.
199 VERSION_IS_GA := @VERSION_IS_GA@
200 
201 # Version date
202 VERSION_DATE := @VERSION_DATE@
203 
204 # Vendor version string
205 VENDOR_VERSION_STRING := @VENDOR_VERSION_STRING@
206 
207 # Class-file version
208 VERSION_CLASSFILE_MAJOR := @VERSION_CLASSFILE_MAJOR@
209 VERSION_CLASSFILE_MINOR := @VERSION_CLASSFILE_MINOR@
210 
211 # Convenience CFLAGS settings for passing version information into native programs.
212 VERSION_CFLAGS := \
213     -DVERSION_FEATURE=$(VERSION_FEATURE) \
214     -DVERSION_INTERIM=$(VERSION_INTERIM) \
215     -DVERSION_UPDATE=$(VERSION_UPDATE) \
216     -DVERSION_PATCH=$(VERSION_PATCH) \
217     -DVERSION_EXTRA1=$(VERSION_EXTRA1) \
218     -DVERSION_EXTRA2=$(VERSION_EXTRA2) \
219     -DVERSION_EXTRA3=$(VERSION_EXTRA3) \
220     -DVERSION_PRE=&#39;&quot;$(VERSION_PRE)&quot;&#39; \
221     -DVERSION_BUILD=$(VERSION_BUILD) \
222     -DVERSION_OPT=&#39;&quot;$(VERSION_OPT)&quot;&#39; \
223     -DVERSION_NUMBER=&#39;&quot;$(VERSION_NUMBER)&quot;&#39; \
224     -DVERSION_STRING=&#39;&quot;$(VERSION_STRING)&quot;&#39; \
225     -DVERSION_SHORT=&#39;&quot;$(VERSION_SHORT)&quot;&#39; \
226     -DVERSION_SPECIFICATION=&#39;&quot;$(VERSION_SPECIFICATION)&quot;&#39; \
227     -DVERSION_DATE=&#39;&quot;$(VERSION_DATE)&quot;&#39; \
228     -DVENDOR_VERSION_STRING=&#39;&quot;$(VENDOR_VERSION_STRING)&quot;&#39; \
229     -DVERSION_CLASSFILE_MAJOR=$(VERSION_CLASSFILE_MAJOR) \
230     -DVERSION_CLASSFILE_MINOR=$(VERSION_CLASSFILE_MINOR) \
231     #
232 
233 ifneq ($(COMPANY_NAME),)
234   # COMPANY_NAME is set to &quot;N/A&quot; in $AUTOCONF_DIR/version-numbers by default,
235   # but can be customized with the &#39;--with-vendor-name&#39; configure option.
236   # Only export &quot;VENDOR&quot; to the build if COMPANY_NAME contains a real value.
237   # Otherwise the default value for VENDOR, which is used to set the &quot;java.vendor&quot;
238   # and &quot;java.vm.vendor&quot; properties is hard-coded into the source code (i.e. in
239   # VersionProps.java.template in the jdk for &quot;vm.vendor&quot; and
240   # vm_version.cpp in the VM for &quot;java.vm.vendor&quot;)
241   ifneq ($(COMPANY_NAME), N/A)
242     VERSION_CFLAGS += -DVENDOR=&#39;&quot;$(COMPANY_NAME)&quot;&#39;
243   endif
244 endif
245 
246 # Only export VENDOR_URL, VENDOR_URL_BUG and VENDOR_VM_URL_BUG to the build if
247 # they are not empty. Otherwise, default values which are defined in the sources
248 # will be used.
249 ifneq ($(VENDOR_URL),)
250   VERSION_CFLAGS += -DVENDOR_URL=&#39;&quot;$(VENDOR_URL)&quot;&#39;
251 endif
252 ifneq ($(VENDOR_URL_BUG),)
253   VERSION_CFLAGS += -DVENDOR_URL_BUG=&#39;&quot;$(VENDOR_URL_BUG)&quot;&#39;
254 endif
255 ifneq ($(VENDOR_URL_VM_BUG),)
256   VERSION_CFLAGS += -DVENDOR_URL_VM_BUG=&#39;&quot;$(VENDOR_URL_VM_BUG)&quot;&#39;
257 endif
258 
259 # Different naming strings generated from the above information.
260 RUNTIME_NAME=$(PRODUCT_NAME) $(PRODUCT_SUFFIX)
261 
262 # How to compile the code: release, fastdebug or slowdebug
263 DEBUG_LEVEL:=@DEBUG_LEVEL@
264 HOTSPOT_DEBUG_LEVEL:=@HOTSPOT_DEBUG_LEVEL@
265 
266 # Which JVM variants to build (space-separated list)
267 JVM_VARIANTS := @JVM_VARIANTS@
268 JVM_VARIANT_MAIN := @JVM_VARIANT_MAIN@
269 
270 # Lists of features per variant. Only relevant for the variants listed in
271 # JVM_VARIANTS.
272 JVM_FEATURES_server := @JVM_FEATURES_server@
273 JVM_FEATURES_client := @JVM_FEATURES_client@
274 JVM_FEATURES_core := @JVM_FEATURES_core@
275 JVM_FEATURES_minimal := @JVM_FEATURES_minimal@
276 JVM_FEATURES_zero := @JVM_FEATURES_zero@
277 JVM_FEATURES_custom := @JVM_FEATURES_custom@
278 
279 # Used for make-time verifications
280 VALID_JVM_FEATURES := @VALID_JVM_FEATURES@
281 VALID_JVM_VARIANTS := @VALID_JVM_VARIANTS@
282 
283 # Control wether Hotspot builds gtest tests
284 BUILD_GTEST := @BUILD_GTEST@
285 
286 # Allow overriding the default hotspot library path
287 HOTSPOT_OVERRIDE_LIBPATH := @HOTSPOT_OVERRIDE_LIBPATH@
288 
289 # Control use of precompiled header in hotspot libjvm build
290 USE_PRECOMPILED_HEADER := @USE_PRECOMPILED_HEADER@
291 
292 # Only build headless support or not
293 ENABLE_HEADLESS_ONLY := @ENABLE_HEADLESS_ONLY@
294 
295 ENABLE_FULL_DOCS := @ENABLE_FULL_DOCS@
296 
297 # JDK_OUTPUTDIR specifies where a working jvm is built.
298 # You can run $(JDK_OUTPUTDIR)/bin/java
299 
300 OUTPUTDIR := @OUTPUTDIR@
301 # Colon left out to be able to override IMAGES_OUTPUTDIR for bootcycle-images
302 SUPPORT_OUTPUTDIR=$(OUTPUTDIR)/support
303 BUILDTOOLS_OUTPUTDIR=$(OUTPUTDIR)/buildtools
304 
305 HOTSPOT_OUTPUTDIR=$(OUTPUTDIR)/hotspot
306 JDK_OUTPUTDIR=$(OUTPUTDIR)/jdk
307 IMAGES_OUTPUTDIR=$(OUTPUTDIR)/images
308 BUNDLES_OUTPUTDIR=$(OUTPUTDIR)/bundles
309 TESTMAKE_OUTPUTDIR=$(OUTPUTDIR)/test-make
310 MAKESUPPORT_OUTPUTDIR=$(OUTPUTDIR)/make-support
311 
312 # This does not get overridden in a bootcycle build
313 CONFIGURESUPPORT_OUTPUTDIR:=@CONFIGURESUPPORT_OUTPUTDIR@
314 BUILDJDK_OUTPUTDIR=$(OUTPUTDIR)/buildjdk
315 
316 BUILD_FAILURE_HANDLER := @BUILD_FAILURE_HANDLER@
317 
318 ENABLE_GENERATE_CLASSLIST := @ENABLE_GENERATE_CLASSLIST@
319 
320 EXCLUDE_TRANSLATIONS := @EXCLUDE_TRANSLATIONS@
321 
322 BUILD_MANPAGES := @BUILD_MANPAGES@
323 
324 BUILD_CDS_ARCHIVE := @BUILD_CDS_ARCHIVE@
325 
326 # The boot jdk to use. This is overridden in bootcycle-spec.gmk. Make sure to keep
327 # it in sync.
328 BOOT_JDK:=@BOOT_JDK@
329 
330 BUILD_JDK:=@BUILD_JDK@
331 CREATE_BUILDJDK:=@CREATE_BUILDJDK@
332 EXTERNAL_BUILDJDK:=@EXTERNAL_BUILDJDK@
333 
334 # When compiling Java source to be run by the boot jdk
335 # use these extra flags, eg -source 6 -target 6
336 BOOT_JDK_SOURCETARGET:=@BOOT_JDK_SOURCETARGET@
337 
338 # Information about the build system
339 NUM_CORES:=@NUM_CORES@
340 MEMORY_SIZE:=@MEMORY_SIZE@
341 # Enable sjavac support = use a javac server,
342 # multi core javac compilation and dependency tracking.
343 ENABLE_SJAVAC:=@ENABLE_SJAVAC@
344 ENABLE_JAVAC_SERVER:=@ENABLE_JAVAC_SERVER@
345 # Store sjavac server synchronization files here, and
346 # the sjavac server log files.
347 SJAVAC_SERVER_DIR=$(MAKESUPPORT_OUTPUTDIR)/javacservers
348 
349 # Number of parallel jobs to use for compilation
350 JOBS?=@JOBS@
351 TEST_JOBS?=@TEST_JOBS@
352 
353 # Default make target
354 DEFAULT_MAKE_TARGET:=@DEFAULT_MAKE_TARGET@
355 DEFAULT_LOG:=@DEFAULT_LOG@
356 
357 FREETYPE_TO_USE:=@FREETYPE_TO_USE@
358 FREETYPE_LIBS:=@FREETYPE_LIBS@
359 FREETYPE_CFLAGS:=@FREETYPE_CFLAGS@
360 FONTCONFIG_CFLAGS:=@FONTCONFIG_CFLAGS@
361 CUPS_CFLAGS:=@CUPS_CFLAGS@
362 ALSA_LIBS:=@ALSA_LIBS@
363 ALSA_CFLAGS:=@ALSA_CFLAGS@
364 LIBFFI_LIBS:=@LIBFFI_LIBS@
365 LIBFFI_CFLAGS:=@LIBFFI_CFLAGS@
366 ENABLE_LIBFFI_BUNDLING:=@ENABLE_LIBFFI_BUNDLING@
367 LIBFFI_LIB_FILE:=@LIBFFI_LIB_FILE@
368 GRAALUNIT_LIB := @GRAALUNIT_LIB@
369 
370 JMH_CORE_JAR := @JMH_CORE_JAR@
371 JMH_GENERATOR_JAR := @JMH_GENERATOR_JAR@
372 JMH_JOPT_SIMPLE_JAR := @JMH_JOPT_SIMPLE_JAR@
373 JMH_COMMONS_MATH_JAR := @JMH_COMMONS_MATH_JAR@
374 JMH_VERSION := @JMH_VERSION@
375 
376 # Source file for cacerts
377 CACERTS_FILE=@CACERTS_FILE@
378 
379 # Enable unlimited crypto policy
380 UNLIMITED_CRYPTO=@UNLIMITED_CRYPTO@
381 
382 GCOV_ENABLED=@GCOV_ENABLED@
383 JCOV_ENABLED=@JCOV_ENABLED@
384 JCOV_HOME=@JCOV_HOME@
385 JCOV_INPUT_JDK=@JCOV_INPUT_JDK@
386 
387 # AddressSanitizer
388 export ASAN_ENABLED:=@ASAN_ENABLED@
389 export DEVKIT_LIB_DIR:=@DEVKIT_LIB_DIR@
390 ifeq ($(ASAN_ENABLED), yes)
391   export ASAN_OPTIONS=&quot;handle_segv=0 detect_leaks=0&quot;
392   ifneq ($(DEVKIT_LIB_DIR),)
393     export LD_LIBRARY_PATH:=$(LD_LIBRARY_PATH):$(DEVKIT_LIB_DIR)
394   endif
395 endif
396 
397 # Necessary additional compiler flags to compile X11
398 X_CFLAGS:=@X_CFLAGS@
399 X_LIBS:=@X_LIBS@
400 
401 # The lowest required version of macosx
402 MACOSX_VERSION_MIN=@MACOSX_VERSION_MIN@
403 # The highest allowed version of macosx
404 MACOSX_VERSION_MAX=@MACOSX_VERSION_MAX@
405 
406 # Toolchain type: gcc, clang, solstudio, lxc, microsoft...
407 TOOLCHAIN_TYPE:=@TOOLCHAIN_TYPE@
408 TOOLCHAIN_VERSION := @TOOLCHAIN_VERSION@
409 CC_VERSION_NUMBER := @CC_VERSION_NUMBER@
410 CXX_VERSION_NUMBER := @CXX_VERSION_NUMBER@
411 
412 # Legacy support
413 HOTSPOT_TOOLCHAIN_TYPE := @HOTSPOT_TOOLCHAIN_TYPE@
414 
415 # Option used to tell the compiler whether to create 32- or 64-bit executables
416 COMPILER_TARGET_BITS_FLAG:=@COMPILER_TARGET_BITS_FLAG@
417 COMPILER_SUPPORTS_TARGET_BITS_FLAG=@COMPILER_SUPPORTS_TARGET_BITS_FLAG@
418 
419 # Option used to pass a command file to the compiler
420 COMPILER_COMMAND_FILE_FLAG:=@COMPILER_COMMAND_FILE_FLAG@
421 
422 # Option for specifying a file which saves the binder commands
423 # produced by the link step (for debugging, currently AIX only)
424 COMPILER_BINDCMD_FILE_FLAG:=@COMPILER_BINDCMD_FILE_FLAG@
425 
426 CC_OUT_OPTION:=@CC_OUT_OPTION@
427 LD_OUT_OPTION:=@LD_OUT_OPTION@
428 AR_OUT_OPTION:=@AR_OUT_OPTION@
429 
430 # Flags used for overriding the default opt setting for a C/C++ source file.
431 C_O_FLAG_HIGHEST_JVM:=@C_O_FLAG_HIGHEST_JVM@
432 C_O_FLAG_HIGHEST:=@C_O_FLAG_HIGHEST@
433 C_O_FLAG_HI:=@C_O_FLAG_HI@
434 C_O_FLAG_NORM:=@C_O_FLAG_NORM@
435 C_O_FLAG_NONE:=@C_O_FLAG_NONE@
436 C_O_FLAG_SIZE:=@C_O_FLAG_SIZE@
437 CXX_O_FLAG_HIGHEST_JVM:=@CXX_O_FLAG_HIGHEST_JVM@
438 CXX_O_FLAG_HIGHEST:=@CXX_O_FLAG_HIGHEST@
439 CXX_O_FLAG_HI:=@CXX_O_FLAG_HI@
440 CXX_O_FLAG_NORM:=@CXX_O_FLAG_NORM@
441 CXX_O_FLAG_NONE:=@CXX_O_FLAG_NONE@
442 CXX_O_FLAG_SIZE:=@CXX_O_FLAG_SIZE@
443 
444 C_FLAG_DEPS:=@C_FLAG_DEPS@
445 CXX_FLAG_DEPS:=@CXX_FLAG_DEPS@
446 
447 DISABLE_WARNING_PREFIX := @DISABLE_WARNING_PREFIX@
448 CFLAGS_WARNINGS_ARE_ERRORS:=@CFLAGS_WARNINGS_ARE_ERRORS@
449 LDFLAGS_WARNINGS_ARE_ERRORS:=@LDFLAGS_WARNINGS_ARE_ERRORS@
450 DISABLED_WARNINGS := @DISABLED_WARNINGS@
451 DISABLED_WARNINGS_C := @DISABLED_WARNINGS_C@
452 DISABLED_WARNINGS_CXX := @DISABLED_WARNINGS_CXX@
453 
454 # A global flag (true or false) determining if native warnings are considered errors.
455 WARNINGS_AS_ERRORS := @WARNINGS_AS_ERRORS@
456 
457 CFLAGS_CCACHE:=@CFLAGS_CCACHE@
458 ADLC_CXXFLAG=@ADLC_CXXFLAG@
459 
460 # Tools that potentially need to be cross compilation aware.
461 CC:=@FIXPATH@ @CCACHE@ @ICECC@ @CC@
462 
463 # CFLAGS used to compile the jdk native libraries (C-code)
464 CFLAGS_JDKLIB:=@CFLAGS_JDKLIB@
465 CXXFLAGS_JDKLIB:=@CXXFLAGS_JDKLIB@
466 
467 # CFLAGS used to compile the jdk native launchers (C-code)
468 CFLAGS_JDKEXE:=@CFLAGS_JDKEXE@
469 CXXFLAGS_JDKEXE:=@CXXFLAGS_JDKEXE@
470 
471 LIBJSIG_HASHSTYLE_LDFLAGS := @LIBJSIG_HASHSTYLE_LDFLAGS@
472 LIBJSIG_NOEXECSTACK_LDFLAGS := @LIBJSIG_NOEXECSTACK_LDFLAGS@
473 
474 FDLIBM_CFLAGS := @FDLIBM_CFLAGS@
475 JVM_CFLAGS := @JVM_CFLAGS@
476 JVM_LDFLAGS := @JVM_LDFLAGS@
477 JVM_ASFLAGS := @JVM_ASFLAGS@
478 JVM_LIBS := @JVM_LIBS@
479 JVM_RCFLAGS := @JVM_RCFLAGS@
480 
481 # These flags might contain variables set by a custom extension that is included later.
482 EXTRA_CFLAGS = @EXTRA_CFLAGS@
483 EXTRA_CXXFLAGS = @EXTRA_CXXFLAGS@
484 EXTRA_LDFLAGS = @EXTRA_LDFLAGS@
485 
486 CXX:=@FIXPATH@ @CCACHE@ @ICECC@ @CXX@
487 
488 CPP:=@FIXPATH@ @CPP@
489 
490 # The linker can be gcc or ld on unix systems, or link.exe on windows systems.
491 LD:=@FIXPATH@ @LD@
492 
493 # Linker used by the jaotc tool for AOT compilation.
494 LD_JAOTC:=@LD_JAOTC@
495 
496 # Xcode SDK path
497 SDKROOT:=@SDKROOT@
498 
499 # LDFLAGS used to link the jdk native libraries (C-code)
500 LDFLAGS_JDKLIB:=@LDFLAGS_JDKLIB@
501 JDKLIB_LIBS:=@JDKLIB_LIBS@
502 GLOBAL_LIBS:=@GLOBAL_LIBS@
503 
504 # LDFLAGS used to link the jdk native launchers (C-code)
505 LDFLAGS_JDKEXE:=@LDFLAGS_JDKEXE@
506 JDKEXE_LIBS:=@JDKEXE_LIBS@
507 
508 # LDFLAGS specific to C++ linking.
509 LDFLAGS_CXX_JDK:=@LDFLAGS_CXX_JDK@
510 
511 # Sometimes a different linker is needed for c++ libs
512 LDCXX:=@FIXPATH@ @LDCXX@
513 # The flags for linking libstdc++ linker.
514 LIBCXX:=@LIBCXX@
515 
516 # Compiler and linker flags used when building native tests
517 LDFLAGS_TESTEXE:=@LDFLAGS_TESTEXE@
518 
519 # BUILD_CC/BUILD_LD is a compiler/linker that generates code that is runnable on the
520 # build platform.
521 BUILD_CC:=@FIXPATH@ @BUILD_ICECC@ @BUILD_CC@
522 BUILD_CXX:=@FIXPATH@ @BUILD_ICECC@ @BUILD_CXX@
523 BUILD_LD:=@FIXPATH@ @BUILD_LD@
524 BUILD_LDCXX:=@FIXPATH@ @BUILD_LDCXX@
525 BUILD_AS:=@FIXPATH@ @BUILD_AS@
526 BUILD_AR:=@FIXPATH@ @BUILD_AR@
527 BUILD_NM:=@FIXPATH@ @BUILD_NM@
528 BUILD_OBJCOPY:=@BUILD_OBJCOPY@
529 BUILD_STRIP:=@BUILD_STRIP@
530 BUILD_SYSROOT_CFLAGS:=@BUILD_SYSROOT_CFLAGS@
531 BUILD_SYSROOT_LDFLAGS:=@BUILD_SYSROOT_LDFLAGS@
532 
533 AS:=@FIXPATH@ @AS@
534 
535 # AR is used to create a static library (is ar in unix, lib.exe in windows)
536 AR:=@FIXPATH@ @AR@
537 ARFLAGS:=@ARFLAGS@
538 
539 NM:=@NM@
540 GNM:=@GNM@
541 STRIP:=@STRIP@
542 OBJDUMP:=@OBJDUMP@
543 CXXFILT:=@CXXFILT@
544 
545 LIPO:=@LIPO@
546 INSTALL_NAME_TOOL:=@INSTALL_NAME_TOOL@
547 
548 # Options to linker to specify a mapfile.
549 # (Note absence of := assignment, because we do not want to evaluate the macro body here)
550 SET_SHARED_LIBRARY_MAPFILE=@SET_SHARED_LIBRARY_MAPFILE@
551 
552 # Options for C/CXX compiler to be used if linking is performed
553 #   using reorder file
554 C_FLAG_REORDER:=@C_FLAG_REORDER@
555 
556 #
557 # Options for generating debug symbols
558 COMPILE_WITH_DEBUG_SYMBOLS := @COMPILE_WITH_DEBUG_SYMBOLS@
559 COPY_DEBUG_SYMBOLS := @COPY_DEBUG_SYMBOLS@
560 ZIP_EXTERNAL_DEBUG_SYMBOLS := @ZIP_EXTERNAL_DEBUG_SYMBOLS@
561 
562 CFLAGS_DEBUG_SYMBOLS:=@CFLAGS_DEBUG_SYMBOLS@
563 ASFLAGS_DEBUG_SYMBOLS:=@ASFLAGS_DEBUG_SYMBOLS@
564 
565 #
566 # Compress (or not) jars
567 COMPRESS_JARS=@COMPRESS_JARS@
568 
569 # Options to linker to specify the library name.
570 # (Note absence of := assignment, because we do not want to evaluate the macro body here)
571 SET_SHARED_LIBRARY_NAME=@SET_SHARED_LIBRARY_NAME@
572 
573 SHARED_LIBRARY_FLAGS=@SHARED_LIBRARY_FLAGS@
574 
575 # Set origin using the linker, ie use the relative path to the dependent library to find the dependees.
576 # (Note absence of := assignment, because we do not want to evaluate the macro body here)
577 SET_SHARED_LIBRARY_ORIGIN=@SET_SHARED_LIBRARY_ORIGIN@
578 SET_EXECUTABLE_ORIGIN=@SET_EXECUTABLE_ORIGIN@
579 
580 # Different OS:es have different ways of naming shared libraries.
581 # The SHARED_LIBRARY macro takes &quot;verify&quot; as and argument and returns:
582 #    &quot;libverify.so&quot; or &quot;libverify.dylib&quot; or &quot;verify.dll&quot; depending on platform.
583 # (Note absence of := assignment, because we do not want to evaluate the macro body here)
584 SHARED_LIBRARY=@SHARED_LIBRARY@
585 STATIC_LIBRARY=@STATIC_LIBRARY@
586 LIBRARY_PREFIX:=@LIBRARY_PREFIX@
587 SHARED_LIBRARY_SUFFIX:=@SHARED_LIBRARY_SUFFIX@
588 STATIC_LIBRARY_SUFFIX:=@STATIC_LIBRARY_SUFFIX@
589 EXE_SUFFIX:=@EXE_SUFFIX@
590 OBJ_SUFFIX:=@OBJ_SUFFIX@
591 STATIC_BUILD:=@STATIC_BUILD@
592 
593 STRIPFLAGS:=@STRIPFLAGS@
594 
595 JAVA_FLAGS:=@JAVA_FLAGS@
596 JAVA_FLAGS_BIG:=@JAVA_FLAGS_BIG@
597 JAVA_FLAGS_SMALL:=@JAVA_FLAGS_SMALL@
598 JAVA_FLAGS_JAVAC:=@JAVA_FLAGS_JAVAC@
599 JAVA_TOOL_FLAGS_SMALL:=@JAVA_TOOL_FLAGS_SMALL@
600 SJAVAC_SERVER_JAVA_FLAGS:=@SJAVAC_SERVER_JAVA_FLAGS@
601 
602 # The *_CMD variables are defined separately to be easily overridden in bootcycle-spec.gmk
603 # for bootcycle-images build. Make sure to keep them in sync. Do not use the *_CMD
604 # versions of the variables directly.
605 JAVA_CMD:=@JAVA@
606 JAVAC_CMD:=@JAVAC@
607 JAVADOC_CMD:=@JAVADOC@
608 JAR_CMD:=@JAR@
609 JLINK_CMD := @JLINK@
610 JMOD_CMD := @JMOD@
611 JARSIGNER_CMD:=@JARSIGNER@
612 SJAVAC_SERVER_JAVA_CMD:=@SJAVAC_SERVER_JAVA@
613 # These variables are meant to be used. They are defined with = instead of := to make
614 # it possible to override only the *_CMD variables.
615 JAVA=@FIXPATH@ $(JAVA_CMD) $(JAVA_FLAGS_BIG) $(JAVA_FLAGS)
616 JAVA_SMALL=@FIXPATH@ $(JAVA_CMD) $(JAVA_FLAGS_SMALL) $(JAVA_FLAGS)
617 JAVA_JAVAC=@FIXPATH@ $(JAVA_CMD) $(JAVA_FLAGS_JAVAC) $(JAVA_FLAGS)
618 JAVAC=@FIXPATH@ $(JAVAC_CMD)
619 JAVADOC=@FIXPATH@ $(JAVADOC_CMD)
620 JAR=@FIXPATH@ $(JAR_CMD)
621 JLINK = @FIXPATH@ $(JLINK_CMD) $(JAVA_TOOL_FLAGS_SMALL)
622 JMOD = @FIXPATH@ $(JMOD_CMD) $(JAVA_TOOL_FLAGS_SMALL)
623 JARSIGNER=@FIXPATH@ $(JARSIGNER_CMD)
624 # A specific java binary with specific options can be used to run
625 # the long running background sjavac servers and other long running tasks.
626 SJAVAC_SERVER_JAVA=@FIXPATH@ @FIXPATH_DETACH_FLAG@ $(SJAVAC_SERVER_JAVA_CMD) \
627     $(SJAVAC_SERVER_JAVA_FLAGS)
628 
629 # Hotspot sets this variable before reading the SPEC when compiling sa-jdi.jar. Avoid
630 # overriding that value by using ?=.
631 JAVAC_FLAGS?=@JAVAC_FLAGS@
632 
633 
634 BUILD_JAVA_FLAGS := @BOOTCYCLE_JVM_ARGS_BIG@
635 BUILD_JAVA=@FIXPATH@ $(BUILD_JDK)/bin/java $(BUILD_JAVA_FLAGS)
636 BUILD_JAR=@FIXPATH@ $(BUILD_JDK)/bin/jar
637 
638 # Interim langtools and rmic modules and arguments
639 INTERIM_LANGTOOLS_BASE_MODULES := java.compiler jdk.compiler jdk.javadoc
640 INTERIM_LANGTOOLS_MODULES := $(addsuffix .interim, $(INTERIM_LANGTOOLS_BASE_MODULES))
641 INTERIM_LANGTOOLS_ADD_EXPORTS := \
642     --add-exports java.base/sun.reflect.annotation=jdk.compiler.interim \
643     --add-exports java.base/jdk.internal.jmod=jdk.compiler.interim \
644     --add-exports java.base/jdk.internal.misc=jdk.compiler.interim \
645     #
646 INTERIM_LANGTOOLS_MODULES_COMMA := $(strip $(subst $(SPACE),$(COMMA),$(strip \
647     $(INTERIM_LANGTOOLS_MODULES))))
648 INTERIM_LANGTOOLS_ARGS := \
649     --limit-modules java.base,jdk.zipfs,$(INTERIM_LANGTOOLS_MODULES_COMMA) \
650     --add-modules $(INTERIM_LANGTOOLS_MODULES_COMMA) \
651     --module-path $(BUILDTOOLS_OUTPUTDIR)/interim_langtools_modules \
652     $(INTERIM_LANGTOOLS_ADD_EXPORTS) \
653     #
654 JAVAC_MAIN_CLASS = -m jdk.compiler.interim/com.sun.tools.javac.Main
655 JAVADOC_MAIN_CLASS = -m jdk.javadoc.interim/jdk.javadoc.internal.tool.Main
656 
657 INTERIM_RMIC_BASE_MODULES := jdk.rmic
658 INTERIM_RMIC_MODULES := $(addsuffix .interim, $(INTERIM_RMIC_BASE_MODULES))
659     #
660 # Use = to delay expansion of PathList since it&#39;s not available in this file.
661 INTERIM_RMIC_ARGS = --limit-modules java.base,jdk.compiler,jdk.javadoc \
662     --module-path $(call PathList, $(BUILDTOOLS_OUTPUTDIR)/interim_rmic_modules \
663         $(BUILDTOOLS_OUTPUTDIR)/interim_langtools_modules) \
664     #
665 
666 # You run the new javac using the boot jdk with $(BOOT_JDK)/bin/java $(NEW_JAVAC) ...
667 # Use = assignment to be able to override in bootcycle-spec.gmk
668 NEW_JAVAC   = $(INTERIM_LANGTOOLS_ARGS) $(JAVAC_MAIN_CLASS)
669 NEW_JAVADOC = $(INTERIM_LANGTOOLS_ARGS) $(JAVADOC_MAIN_CLASS)
670 
671 JLINK_KEEP_PACKAGED_MODULES:=@JLINK_KEEP_PACKAGED_MODULES@
672 
673 # Base flags for RC
674 # Guarding this against resetting value. Legacy make files include spec multiple
675 # times.
676 ifndef RC_FLAGS
677   RC_FLAGS:=@RC_FLAGS@
678 endif
679 
680 # Tools adhering to a minimal and common standard of posix compliance.
681 AWK:=@AWK@
682 BASENAME:=@BASENAME@
683 CAT:=@CAT@
684 CCACHE:=@CCACHE@
685 # CD is going away, but remains to cater for legacy makefiles.
686 CD:=cd
687 CHMOD:=@CHMOD@
688 CODESIGN:=@CODESIGN@
689 COMM:=@COMM@
690 CP:=@CP@
691 CPIO:=@CPIO@
692 CUT:=@CUT@
693 DATE:=@DATE@
694 DIFF:=@DIFF@
695 DIRNAME:=@DIRNAME@
696 DSYMUTIL:=@DSYMUTIL@
697 FIND:=@FIND@
698 FIND_DELETE:=@FIND_DELETE@
699 FLOCK:=@FLOCK@
700 ECHO:=@ECHO@
701 EGREP:=@EGREP@
702 FGREP:=@FGREP@
703 GREP:=@GREP@
704 GZIP:=@GZIP@
705 HEAD:=@HEAD@
706 LS:=@LS@
707 LN:=@LN@
708 MIG:=@MIG@
709 MKDIR:=@MKDIR@
710 MV:=@MV@
711 NAWK:=@NAWK@
712 NICE:=@NICE@
713 PANDOC:=@FIXPATH@ @PANDOC@
714 PATCH:=@PATCH@
715 PRINTF:=@PRINTF@
716 READLINK:=@READLINK@
717 RM:=@RM@
718 RMDIR:=@RMDIR@
719 SED:=@SED@
720 SH:=@SH@
721 SORT:=@SORT@
722 TAR:=@TAR@
723 TAIL:=@TAIL@
724 TEE:=@TEE@
725 TIME:=@TIME@
726 IS_GNU_TIME:=@IS_GNU_TIME@
727 TR:=@TR@
728 TOUCH:=@TOUCH@
729 UNIQ:=@UNIQ@
730 WC:=@WC@
731 XARGS:=@XARGS@
732 ZIPEXE:=@ZIPEXE@
733 UNZIP:=@UNZIP@
734 MT:=@FIXPATH@ @MT@
735 RC:=@FIXPATH@ @RC@
736 DUMPBIN:=@FIXPATH@ @DUMPBIN@
737 CYGPATH:=@CYGPATH@
738 WSLPATH:=@WSLPATH@
739 LDD:=@LDD@
740 OTOOL:=@OTOOL@
741 READELF:=@READELF@
742 ELFEDIT:=@ELFEDIT@
743 EXPR:=@EXPR@
744 FILE:=@FILE@
745 DOT:=@DOT@
746 HG:=@HG@
747 GIT:=@GIT@
748 OBJCOPY:=@OBJCOPY@
749 SETFILE:=@SETFILE@
750 XATTR:=@XATTR@
751 JT_HOME:=@JT_HOME@
752 JTREGEXE:=@JTREGEXE@
753 JIB_HOME:=@JIB_HOME@
754 XCODEBUILD=@XCODEBUILD@
755 DTRACE := @DTRACE@
756 FIXPATH:=@FIXPATH@
757 
758 TAR_TYPE:=@TAR_TYPE@
759 TAR_CREATE_EXTRA_PARAM:=@TAR_CREATE_EXTRA_PARAM@
760 TAR_INCLUDE_PARAM:=@TAR_INCLUDE_PARAM@
761 TAR_SUPPORTS_TRANSFORM:=@TAR_SUPPORTS_TRANSFORM@
762 
763 # Build setup
764 ENABLE_AOT:=@ENABLE_AOT@
765 ENABLE_INTREE_EC:=@ENABLE_INTREE_EC@
766 USE_EXTERNAL_LIBJPEG:=@USE_EXTERNAL_LIBJPEG@
767 USE_EXTERNAL_LIBGIF:=@USE_EXTERNAL_LIBGIF@
768 USE_EXTERNAL_LIBZ:=@USE_EXTERNAL_LIBZ@
769 LIBZ_CFLAGS:=@LIBZ_CFLAGS@
770 LIBZ_LIBS:=@LIBZ_LIBS@
771 LIBZIP_CAN_USE_MMAP:=@LIBZIP_CAN_USE_MMAP@
772 MSVCR_DLL:=@MSVCR_DLL@
773 MSVCP_DLL:=@MSVCP_DLL@
774 UCRT_DLL_DIR:=@UCRT_DLL_DIR@
775 STLPORT_LIB:=@STLPORT_LIB@
776 ENABLE_PANDOC:=@ENABLE_PANDOC@
777 PANDOC_MARKDOWN_FLAG:=@PANDOC_MARKDOWN_FLAG@
778 
779 ####################################################
780 #
781 # INSTALLATION
782 #
783 
784 # Common prefix for all installed files. Defaults to /usr/local,
785 # but /opt/myjdk is another common version.
786 INSTALL_PREFIX=@prefix@
787 
788 # Directories containing architecture-dependent files should be relative to exec_prefix
789 INSTALL_EXECPREFIX=@exec_prefix@
790 
791 # java,javac,javap etc are installed here.
792 INSTALL_BINDIR=@bindir@
793 
794 # Read only architecture-independent data
795 INSTALL_DATADIR=@datadir@
796 
797 # Root of above.
798 INSTALL_DATAROOTDIR=@datarootdir@
799 
800 # Doc files, other than info and man.
801 INSTALL_DOCDIR=@docdir@
802 
803 # Html documentation
804 INSTALL_HTMLDIR=@htmldir@
805 
806 # Installing C header files, JNI headers for example.
807 INSTALL_INCLUDEDIR=@includedir@
808 
809 # Installing library files....
810 INSTALL_INCLUDEDIR=@libdir@
811 
812 # Executables that other programs run.
813 INSTALL_LIBEXECDIR=@libexecdir@
814 
815 # Locale-dependent but architecture-independent data, such as message catalogs.
816 INSTALL_LOCALEDIR=@localedir@
817 
818 # Modifiable single-machine data
819 INSTALL_LOCALSTATEDIR=@localstatedir@
820 
821 # Man pages
822 INSTALL_MANDIR=@mandir@
823 
824 # Modifiable architecture-independent data.
825 INSTALL_SHAREDSTATEDIR=@sharedstatedir@
826 
827 # Read-only single-machine data
828 INSTALL_SYSCONFDIR=@sysconfdir@
829 
830 ####################################################
831 #
832 # Libraries
833 #
834 
835 USE_EXTERNAL_LCMS:=@USE_EXTERNAL_LCMS@
836 LCMS_CFLAGS:=@LCMS_CFLAGS@
837 LCMS_LIBS:=@LCMS_LIBS@
838 
839 USE_EXTERNAL_LIBPNG:=@USE_EXTERNAL_LIBPNG@
840 PNG_LIBS:=@PNG_LIBS@
841 PNG_CFLAGS:=@PNG_CFLAGS@
842 
843 ####################################################
844 #
845 # Misc
846 #
847 
848 INCLUDE_SA=@INCLUDE_SA@
849 INCLUDE_GRAAL=@INCLUDE_GRAAL@
850 INCLUDE_JVMCI=@INCLUDE_JVMCI@
851 INCLUDE_TSAN:=@INCLUDE_TSAN@
852 
853 OS_VERSION_MAJOR:=@OS_VERSION_MAJOR@
854 OS_VERSION_MINOR:=@OS_VERSION_MINOR@
855 OS_VERSION_MICRO:=@OS_VERSION_MICRO@
856 
857 # Images directory definitions
858 JDK_IMAGE_SUBDIR:=jdk
859 JRE_IMAGE_SUBDIR:=jre
860 JCOV_IMAGE_SUBDIR := jdk-jcov
861 
862 # Colon left out to be able to override output dir for bootcycle-images
863 JDK_IMAGE_DIR=$(IMAGES_OUTPUTDIR)/$(JDK_IMAGE_SUBDIR)
864 JRE_IMAGE_DIR=$(IMAGES_OUTPUTDIR)/$(JRE_IMAGE_SUBDIR)
865 JCOV_IMAGE_DIR = $(IMAGES_OUTPUTDIR)/$(JCOV_IMAGE_SUBDIR)
866 
867 # Test image, as above
868 TEST_IMAGE_SUBDIR:=test
869 TEST_IMAGE_DIR=$(IMAGES_OUTPUTDIR)/$(TEST_IMAGE_SUBDIR)
870 
871 # Symbols image
872 SYMBOLS_IMAGE_SUBDIR:=symbols
873 SYMBOLS_IMAGE_DIR=$(IMAGES_OUTPUTDIR)/$(SYMBOLS_IMAGE_SUBDIR)
874 
875 # Interim image
876 INTERIM_JMODS_DIR := $(SUPPORT_OUTPUTDIR)/interim-jmods
877 INTERIM_IMAGE_DIR := $(SUPPORT_OUTPUTDIR)/interim-image
878 
879 # Docs image
880 DOCS_IMAGE_SUBDIR := docs
881 DOCS_IMAGE_DIR = $(IMAGES_OUTPUTDIR)/$(DOCS_IMAGE_SUBDIR)
882 # Output docs directly into image
883 DOCS_OUTPUTDIR := $(DOCS_IMAGE_DIR)
884 
885 # Macosx bundles directory definitions
886 JDK_MACOSX_BUNDLE_SUBDIR=jdk-bundle
887 JRE_MACOSX_BUNDLE_SUBDIR=jre-bundle
888 JDK_MACOSX_BUNDLE_DIR=$(IMAGES_OUTPUTDIR)/$(JDK_MACOSX_BUNDLE_SUBDIR)
889 JRE_MACOSX_BUNDLE_DIR=$(IMAGES_OUTPUTDIR)/$(JRE_MACOSX_BUNDLE_SUBDIR)
890 JDK_MACOSX_CONTENTS_SUBDIR=jdk-$(VERSION_NUMBER).jdk/Contents
891 JRE_MACOSX_CONTENTS_SUBDIR=jre-$(VERSION_NUMBER).jre/Contents
892 JDK_MACOSX_CONTENTS_DIR=$(JDK_MACOSX_BUNDLE_DIR)/$(JDK_MACOSX_CONTENTS_SUBDIR)
893 JRE_MACOSX_CONTENTS_DIR=$(JRE_MACOSX_BUNDLE_DIR)/$(JRE_MACOSX_CONTENTS_SUBDIR)
894 
895 # Bundle names
896 BASE_NAME := $(VERSION_SHORT)+$(VERSION_BUILD)_$(OPENJDK_TARGET_BUNDLE_PLATFORM)
897 ifeq ($(DEBUG_LEVEL), fastdebug)
898   DEBUG_PART := -debug
899 else ifneq ($(DEBUG_LEVEL), release)
900   DEBUG_PART := -$(DEBUG_LEVEL)
901 endif
902 ifeq ($(OPENJDK_TARGET_OS), windows)
903   JDK_BUNDLE_EXTENSION := zip
904 else
905   JDK_BUNDLE_EXTENSION := tar.gz
906 endif
907 JDK_BUNDLE_NAME := jdk-$(BASE_NAME)_bin$(DEBUG_PART).$(JDK_BUNDLE_EXTENSION)
908 JDK_SYMBOLS_BUNDLE_NAME := jdk-$(BASE_NAME)_bin$(DEBUG_PART)-symbols.tar.gz
909 TEST_DEMOS_BUNDLE_NAME := jdk-$(BASE_NAME)_bin-tests-demos$(DEBUG_PART).tar.gz
910 TEST_BUNDLE_NAME := jdk-$(BASE_NAME)_bin-tests$(DEBUG_PART).tar.gz
911 DOCS_BUNDLE_NAME := jdk-$(BASE_NAME)_doc-api-spec$(DEBUG_PART).tar.gz
912 JCOV_BUNDLE_NAME := jdk-jcov-$(BASE_NAME)_bin$(DEBUG_PART).$(JDK_BUNDLE_EXTENSION)
913 
914 JDK_BUNDLE := $(BUNDLES_OUTPUTDIR)/$(JDK_BUNDLE_NAME)
915 JDK_SYMBOLS_BUNDLE :=  $(BUNDLES_OUTPUTDIR)/$(JDK_SYMBOLS_BUNDLE_NAME)
916 TEST_DEMOS_BUNDLE := $(BUNDLES_OUTPUTDIR)/$(TEST_DEMOS_BUNDLE_NAME)
917 TEST_BUNDLE :=  $(BUNDLES_OUTPUTDIR)/$(TEST_BUNDLE_NAME)
918 DOCS_BUNDLE :=  $(BUNDLES_OUTPUTDIR)/$(DOCS_BUNDLE_NAME)
919 JCOV_BUNDLE := $(BUNDLES_OUTPUTDIR)/$(JCOV_BUNDLE_NAME)
920 
921 # This macro is called to allow inclusion of closed source counterparts.
922 # Unless overridden in closed sources, it expands to nothing.
923 # Usage: This function is called in an open makefile, with the following
924 # argument:
925 # $1 the name of the makefile
926 define IncludeCustomExtension
927 endef
928 
929 # Include the custom-spec.gmk file if it exists
930 -include $(dir @SPEC@)/custom-spec.gmk
    </pre>
  </body>
</html>