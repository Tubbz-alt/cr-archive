<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/autoconf/spec.gmk.in</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="hotspot.m4.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="../hotspot/lib/JvmFeatures.gmk.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/autoconf/spec.gmk.in</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 #
<span class="line-modified">  2 # Copyright (c) 2011, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4 #
  5 # This code is free software; you can redistribute it and/or modify it
  6 # under the terms of the GNU General Public License version 2 only, as
  7 # published by the Free Software Foundation.  Oracle designates this
  8 # particular file as subject to the &quot;Classpath&quot; exception as provided
  9 # by Oracle in the LICENSE file that accompanied this code.
 10 #
 11 # This code is distributed in the hope that it will be useful, but WITHOUT
 12 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14 # version 2 for more details (a copy is included in the LICENSE file that
 15 # accompanied this code).
 16 #
 17 # You should have received a copy of the GNU General Public License version
 18 # 2 along with this work; if not, write to the Free Software Foundation,
 19 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20 #
 21 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22 # or visit www.oracle.com if you need additional information or have any
 23 # questions.
 24 #
 25 
 26 # Configured @DATE_WHEN_CONFIGURED@ to build
 27 # for target system @OPENJDK_TARGET_OS@-@OPENJDK_TARGET_CPU@
 28 #   (called @OPENJDK_TARGET_AUTOCONF_NAME@ by autoconf)
 29 # on build system @OPENJDK_BUILD_OS@-@OPENJDK_BUILD_CPU@
 30 #   (called @OPENJDK_BUILD_AUTOCONF_NAME@ by autoconf)
 31 # using &#39;configure @CONFIGURE_COMMAND_LINE@&#39;
 32 
 33 # The command line given to configure.
 34 CONFIGURE_COMMAND_LINE:=@CONFIGURE_COMMAND_LINE@


 35 
 36 # A self-referential reference to this file.
 37 SPEC:=@SPEC@
 38 
 39 # Path to autoconf if overriden by the user, to be used by &quot;make reconfigure&quot;
 40 AUTOCONF := @AUTOCONF@
 41 
 42 # SPACE and COMMA are defined in MakeBase.gmk, but they are also used in
 43 # some definitions here, and are needed if MakeBase.gmk is not included before
 44 # this file.
 45 X:=
 46 SPACE:=$(X) $(X)
 47 COMMA:=,
 48 
 49 # What make to use for main processing, after bootstrapping top-level Makefile.
 50 MAKE := @MAKE@
 51 



 52 # The default make arguments
 53 MAKE_ARGS = $(MAKE_LOG_FLAGS) -r -R -I $(TOPDIR)/make/common SPEC=$(SPEC) \
 54     MAKE_LOG_FLAGS=&quot;$(MAKE_LOG_FLAGS)&quot; $(MAKE_LOG_VARS)
 55 
 56 OUTPUT_SYNC_SUPPORTED:=@OUTPUT_SYNC_SUPPORTED@
 57 OUTPUT_SYNC:=@OUTPUT_SYNC@
 58 
 59 # Override the shell with bash
 60 BASH:=@BASH@
 61 BASH_ARGS:=@BASH_ARGS@
 62 SHELL:=$(BASH) $(BASH_ARGS)
 63 
 64 # The &quot;human readable&quot; name of this configuration
 65 CONF_NAME:=@CONF_NAME@
 66 
 67 # The built jdk will run in this target system.
 68 OPENJDK_TARGET_OS:=@OPENJDK_TARGET_OS@
 69 OPENJDK_TARGET_OS_TYPE:=@OPENJDK_TARGET_OS_TYPE@
 70 OPENJDK_TARGET_OS_ENV:=@OPENJDK_TARGET_OS_ENV@
 71 OPENJDK_TARGET_OS_UPPERCASE:=@OPENJDK_TARGET_OS_UPPERCASE@
</pre>
<hr />
<pre>
121 PATH_SEP:=@PATH_SEP@
122 
123 # Save the original path before replacing it with the Visual Studio tools
124 ORIGINAL_PATH:=@ORIGINAL_PATH@
125 ifeq ($(OPENJDK_TARGET_OS), windows)
126   # On Windows, the Visual Studio toolchain needs the PATH to be adjusted
127   # to include Visual Studio tools (this needs to be in cygwin/msys style).
128   ifeq ($(OPENJDK_TARGET_OS_ENV), windows.wsl)
129     export FIXPATH_PATH:=@VS_PATH_WINDOWS@
130     export WSLENV:=$(WSLENV):FIXPATH_PATH:DEBUG_FIXPATH
131   else
132     export PATH:=@VS_PATH@
133   endif
134 endif
135 
136 SYSROOT_CFLAGS := @SYSROOT_CFLAGS@
137 SYSROOT_LDFLAGS := @SYSROOT_LDFLAGS@
138 
139 # The top-level directory of the source repository
140 TOPDIR:=@TOPDIR@
<span class="line-modified">141 </span>
<span class="line-modified">142 </span>

143 IMPORT_MODULES_CLASSES:=@IMPORT_MODULES_CLASSES@
144 IMPORT_MODULES_CMDS:=@IMPORT_MODULES_CMDS@
145 IMPORT_MODULES_LIBS:=@IMPORT_MODULES_LIBS@
146 IMPORT_MODULES_CONF:=@IMPORT_MODULES_CONF@
147 IMPORT_MODULES_LEGAL:=@IMPORT_MODULES_LEGAL@
148 IMPORT_MODULES_MAN:=@IMPORT_MODULES_MAN@
149 IMPORT_MODULES_SRC:=@IMPORT_MODULES_SRC@
150 IMPORT_MODULES_MAKE:=@IMPORT_MODULES_MAKE@
151 
152 COPYRIGHT_YEAR:=@COPYRIGHT_YEAR@
153 
154 # Platform naming variables
155 LAUNCHER_NAME:=@LAUNCHER_NAME@
156 PRODUCT_NAME:=@PRODUCT_NAME@
157 PRODUCT_SUFFIX:=@PRODUCT_SUFFIX@
158 JDK_RC_PLATFORM_NAME:=@JDK_RC_PLATFORM_NAME@

159 COMPANY_NAME:=@COMPANY_NAME@
160 HOTSPOT_VM_DISTRO:=@HOTSPOT_VM_DISTRO@
161 MACOSX_BUNDLE_NAME_BASE=@MACOSX_BUNDLE_NAME_BASE@
162 MACOSX_BUNDLE_ID_BASE=@MACOSX_BUNDLE_ID_BASE@
163 USERNAME:=@USERNAME@
164 VENDOR_URL:=@VENDOR_URL@
165 VENDOR_URL_BUG:=@VENDOR_URL_BUG@
166 VENDOR_URL_VM_BUG:=@VENDOR_URL_VM_BUG@
167 
168 # New (JEP-223) version information
169 
170 ## Building blocks of the version string
171 # First three version numbers, with well-specified meanings (numerical)
172 VERSION_FEATURE := @VERSION_FEATURE@
173 VERSION_INTERIM := @VERSION_INTERIM@
174 VERSION_UPDATE := @VERSION_UPDATE@
175 VERSION_PATCH := @VERSION_PATCH@
176 VERSION_EXTRA1 := @VERSION_EXTRA1@
177 VERSION_EXTRA2 := @VERSION_EXTRA2@
178 VERSION_EXTRA3 := @VERSION_EXTRA3@
</pre>
<hr />
<pre>
191 # The complete version string, with additional build information
192 VERSION_STRING := @VERSION_STRING@
193 # The short version string, without trailing zeroes and just PRE, if present.
194 VERSION_SHORT := @VERSION_SHORT@
195 # The Java specification version. It usually equals the feature version number.
196 VERSION_SPECIFICATION := @VERSION_FEATURE@
197 # A GA version is defined by the PRE string being empty. Rather than testing for
198 # that, this variable defines it with true/false.
199 VERSION_IS_GA := @VERSION_IS_GA@
200 
201 # Version date
202 VERSION_DATE := @VERSION_DATE@
203 
204 # Vendor version string
205 VENDOR_VERSION_STRING := @VENDOR_VERSION_STRING@
206 
207 # Class-file version
208 VERSION_CLASSFILE_MAJOR := @VERSION_CLASSFILE_MAJOR@
209 VERSION_CLASSFILE_MINOR := @VERSION_CLASSFILE_MINOR@
210 


211 # Convenience CFLAGS settings for passing version information into native programs.
212 VERSION_CFLAGS := \
213     -DVERSION_FEATURE=$(VERSION_FEATURE) \
214     -DVERSION_INTERIM=$(VERSION_INTERIM) \
215     -DVERSION_UPDATE=$(VERSION_UPDATE) \
216     -DVERSION_PATCH=$(VERSION_PATCH) \
217     -DVERSION_EXTRA1=$(VERSION_EXTRA1) \
218     -DVERSION_EXTRA2=$(VERSION_EXTRA2) \
219     -DVERSION_EXTRA3=$(VERSION_EXTRA3) \
220     -DVERSION_PRE=&#39;&quot;$(VERSION_PRE)&quot;&#39; \
221     -DVERSION_BUILD=$(VERSION_BUILD) \
222     -DVERSION_OPT=&#39;&quot;$(VERSION_OPT)&quot;&#39; \
223     -DVERSION_NUMBER=&#39;&quot;$(VERSION_NUMBER)&quot;&#39; \
224     -DVERSION_STRING=&#39;&quot;$(VERSION_STRING)&quot;&#39; \
225     -DVERSION_SHORT=&#39;&quot;$(VERSION_SHORT)&quot;&#39; \
226     -DVERSION_SPECIFICATION=&#39;&quot;$(VERSION_SPECIFICATION)&quot;&#39; \
227     -DVERSION_DATE=&#39;&quot;$(VERSION_DATE)&quot;&#39; \
228     -DVENDOR_VERSION_STRING=&#39;&quot;$(VENDOR_VERSION_STRING)&quot;&#39; \
229     -DVERSION_CLASSFILE_MAJOR=$(VERSION_CLASSFILE_MAJOR) \
230     -DVERSION_CLASSFILE_MINOR=$(VERSION_CLASSFILE_MINOR) \
</pre>
<hr />
<pre>
263 DEBUG_LEVEL:=@DEBUG_LEVEL@
264 HOTSPOT_DEBUG_LEVEL:=@HOTSPOT_DEBUG_LEVEL@
265 
266 # Which JVM variants to build (space-separated list)
267 JVM_VARIANTS := @JVM_VARIANTS@
268 JVM_VARIANT_MAIN := @JVM_VARIANT_MAIN@
269 
270 # Lists of features per variant. Only relevant for the variants listed in
271 # JVM_VARIANTS.
272 JVM_FEATURES_server := @JVM_FEATURES_server@
273 JVM_FEATURES_client := @JVM_FEATURES_client@
274 JVM_FEATURES_core := @JVM_FEATURES_core@
275 JVM_FEATURES_minimal := @JVM_FEATURES_minimal@
276 JVM_FEATURES_zero := @JVM_FEATURES_zero@
277 JVM_FEATURES_custom := @JVM_FEATURES_custom@
278 
279 # Used for make-time verifications
280 VALID_JVM_FEATURES := @VALID_JVM_FEATURES@
281 VALID_JVM_VARIANTS := @VALID_JVM_VARIANTS@
282 
<span class="line-modified">283 # Control wether Hotspot builds gtest tests</span>
284 BUILD_GTEST := @BUILD_GTEST@
285 
286 # Allow overriding the default hotspot library path
287 HOTSPOT_OVERRIDE_LIBPATH := @HOTSPOT_OVERRIDE_LIBPATH@
288 
289 # Control use of precompiled header in hotspot libjvm build
290 USE_PRECOMPILED_HEADER := @USE_PRECOMPILED_HEADER@
291 
292 # Only build headless support or not
293 ENABLE_HEADLESS_ONLY := @ENABLE_HEADLESS_ONLY@
294 


295 ENABLE_FULL_DOCS := @ENABLE_FULL_DOCS@
296 
297 # JDK_OUTPUTDIR specifies where a working jvm is built.
298 # You can run $(JDK_OUTPUTDIR)/bin/java
299 
300 OUTPUTDIR := @OUTPUTDIR@
301 # Colon left out to be able to override IMAGES_OUTPUTDIR for bootcycle-images
302 SUPPORT_OUTPUTDIR=$(OUTPUTDIR)/support
303 BUILDTOOLS_OUTPUTDIR=$(OUTPUTDIR)/buildtools
304 
305 HOTSPOT_OUTPUTDIR=$(OUTPUTDIR)/hotspot
306 JDK_OUTPUTDIR=$(OUTPUTDIR)/jdk
307 IMAGES_OUTPUTDIR=$(OUTPUTDIR)/images
308 BUNDLES_OUTPUTDIR=$(OUTPUTDIR)/bundles
309 TESTMAKE_OUTPUTDIR=$(OUTPUTDIR)/test-make
310 MAKESUPPORT_OUTPUTDIR=$(OUTPUTDIR)/make-support
311 
312 # This does not get overridden in a bootcycle build
313 CONFIGURESUPPORT_OUTPUTDIR:=@CONFIGURESUPPORT_OUTPUTDIR@
314 BUILDJDK_OUTPUTDIR=$(OUTPUTDIR)/buildjdk
</pre>
<hr />
<pre>
350 JOBS?=@JOBS@
351 TEST_JOBS?=@TEST_JOBS@
352 
353 # Default make target
354 DEFAULT_MAKE_TARGET:=@DEFAULT_MAKE_TARGET@
355 DEFAULT_LOG:=@DEFAULT_LOG@
356 
357 FREETYPE_TO_USE:=@FREETYPE_TO_USE@
358 FREETYPE_LIBS:=@FREETYPE_LIBS@
359 FREETYPE_CFLAGS:=@FREETYPE_CFLAGS@
360 FONTCONFIG_CFLAGS:=@FONTCONFIG_CFLAGS@
361 CUPS_CFLAGS:=@CUPS_CFLAGS@
362 ALSA_LIBS:=@ALSA_LIBS@
363 ALSA_CFLAGS:=@ALSA_CFLAGS@
364 LIBFFI_LIBS:=@LIBFFI_LIBS@
365 LIBFFI_CFLAGS:=@LIBFFI_CFLAGS@
366 ENABLE_LIBFFI_BUNDLING:=@ENABLE_LIBFFI_BUNDLING@
367 LIBFFI_LIB_FILE:=@LIBFFI_LIB_FILE@
368 GRAALUNIT_LIB := @GRAALUNIT_LIB@
369 


370 JMH_CORE_JAR := @JMH_CORE_JAR@
371 JMH_GENERATOR_JAR := @JMH_GENERATOR_JAR@
372 JMH_JOPT_SIMPLE_JAR := @JMH_JOPT_SIMPLE_JAR@
373 JMH_COMMONS_MATH_JAR := @JMH_COMMONS_MATH_JAR@
374 JMH_VERSION := @JMH_VERSION@
375 
376 # Source file for cacerts
377 CACERTS_FILE=@CACERTS_FILE@
378 
379 # Enable unlimited crypto policy
380 UNLIMITED_CRYPTO=@UNLIMITED_CRYPTO@
381 
382 GCOV_ENABLED=@GCOV_ENABLED@
383 JCOV_ENABLED=@JCOV_ENABLED@
384 JCOV_HOME=@JCOV_HOME@
385 JCOV_INPUT_JDK=@JCOV_INPUT_JDK@

386 
387 # AddressSanitizer
388 export ASAN_ENABLED:=@ASAN_ENABLED@
389 export DEVKIT_LIB_DIR:=@DEVKIT_LIB_DIR@
390 ifeq ($(ASAN_ENABLED), yes)
<span class="line-modified">391   export ASAN_OPTIONS=&quot;handle_segv=0 detect_leaks=0&quot;</span>
392   ifneq ($(DEVKIT_LIB_DIR),)
393     export LD_LIBRARY_PATH:=$(LD_LIBRARY_PATH):$(DEVKIT_LIB_DIR)
394   endif
395 endif
396 
397 # Necessary additional compiler flags to compile X11
398 X_CFLAGS:=@X_CFLAGS@
399 X_LIBS:=@X_LIBS@
400 
401 # The lowest required version of macosx
402 MACOSX_VERSION_MIN=@MACOSX_VERSION_MIN@
403 # The highest allowed version of macosx
404 MACOSX_VERSION_MAX=@MACOSX_VERSION_MAX@
405 



406 # Toolchain type: gcc, clang, solstudio, lxc, microsoft...
407 TOOLCHAIN_TYPE:=@TOOLCHAIN_TYPE@
408 TOOLCHAIN_VERSION := @TOOLCHAIN_VERSION@
409 CC_VERSION_NUMBER := @CC_VERSION_NUMBER@
410 CXX_VERSION_NUMBER := @CXX_VERSION_NUMBER@
411 
412 # Legacy support
413 HOTSPOT_TOOLCHAIN_TYPE := @HOTSPOT_TOOLCHAIN_TYPE@
414 
415 # Option used to tell the compiler whether to create 32- or 64-bit executables
416 COMPILER_TARGET_BITS_FLAG:=@COMPILER_TARGET_BITS_FLAG@
417 COMPILER_SUPPORTS_TARGET_BITS_FLAG=@COMPILER_SUPPORTS_TARGET_BITS_FLAG@
418 
419 # Option used to pass a command file to the compiler
420 COMPILER_COMMAND_FILE_FLAG:=@COMPILER_COMMAND_FILE_FLAG@
421 
422 # Option for specifying a file which saves the binder commands
423 # produced by the link step (for debugging, currently AIX only)
424 COMPILER_BINDCMD_FILE_FLAG:=@COMPILER_BINDCMD_FILE_FLAG@
425 
</pre>
<hr />
<pre>
465 CXXFLAGS_JDKLIB:=@CXXFLAGS_JDKLIB@
466 
467 # CFLAGS used to compile the jdk native launchers (C-code)
468 CFLAGS_JDKEXE:=@CFLAGS_JDKEXE@
469 CXXFLAGS_JDKEXE:=@CXXFLAGS_JDKEXE@
470 
471 LIBJSIG_HASHSTYLE_LDFLAGS := @LIBJSIG_HASHSTYLE_LDFLAGS@
472 LIBJSIG_NOEXECSTACK_LDFLAGS := @LIBJSIG_NOEXECSTACK_LDFLAGS@
473 
474 FDLIBM_CFLAGS := @FDLIBM_CFLAGS@
475 JVM_CFLAGS := @JVM_CFLAGS@
476 JVM_LDFLAGS := @JVM_LDFLAGS@
477 JVM_ASFLAGS := @JVM_ASFLAGS@
478 JVM_LIBS := @JVM_LIBS@
479 JVM_RCFLAGS := @JVM_RCFLAGS@
480 
481 # These flags might contain variables set by a custom extension that is included later.
482 EXTRA_CFLAGS = @EXTRA_CFLAGS@
483 EXTRA_CXXFLAGS = @EXTRA_CXXFLAGS@
484 EXTRA_LDFLAGS = @EXTRA_LDFLAGS@

485 
486 CXX:=@FIXPATH@ @CCACHE@ @ICECC@ @CXX@
487 
488 CPP:=@FIXPATH@ @CPP@
489 
490 # The linker can be gcc or ld on unix systems, or link.exe on windows systems.
491 LD:=@FIXPATH@ @LD@
492 
493 # Linker used by the jaotc tool for AOT compilation.
494 LD_JAOTC:=@LD_JAOTC@
495 
496 # Xcode SDK path
497 SDKROOT:=@SDKROOT@
498 
499 # LDFLAGS used to link the jdk native libraries (C-code)
500 LDFLAGS_JDKLIB:=@LDFLAGS_JDKLIB@
501 JDKLIB_LIBS:=@JDKLIB_LIBS@
502 GLOBAL_LIBS:=@GLOBAL_LIBS@
503 
504 # LDFLAGS used to link the jdk native launchers (C-code)
</pre>
<hr />
<pre>
737 CYGPATH:=@CYGPATH@
738 WSLPATH:=@WSLPATH@
739 LDD:=@LDD@
740 OTOOL:=@OTOOL@
741 READELF:=@READELF@
742 ELFEDIT:=@ELFEDIT@
743 EXPR:=@EXPR@
744 FILE:=@FILE@
745 DOT:=@DOT@
746 HG:=@HG@
747 GIT:=@GIT@
748 OBJCOPY:=@OBJCOPY@
749 SETFILE:=@SETFILE@
750 XATTR:=@XATTR@
751 JT_HOME:=@JT_HOME@
752 JTREGEXE:=@JTREGEXE@
753 JIB_HOME:=@JIB_HOME@
754 XCODEBUILD=@XCODEBUILD@
755 DTRACE := @DTRACE@
756 FIXPATH:=@FIXPATH@

757 
758 TAR_TYPE:=@TAR_TYPE@
759 TAR_CREATE_EXTRA_PARAM:=@TAR_CREATE_EXTRA_PARAM@
760 TAR_INCLUDE_PARAM:=@TAR_INCLUDE_PARAM@
761 TAR_SUPPORTS_TRANSFORM:=@TAR_SUPPORTS_TRANSFORM@
762 
763 # Build setup
764 ENABLE_AOT:=@ENABLE_AOT@
765 ENABLE_INTREE_EC:=@ENABLE_INTREE_EC@
766 USE_EXTERNAL_LIBJPEG:=@USE_EXTERNAL_LIBJPEG@
767 USE_EXTERNAL_LIBGIF:=@USE_EXTERNAL_LIBGIF@
768 USE_EXTERNAL_LIBZ:=@USE_EXTERNAL_LIBZ@
769 LIBZ_CFLAGS:=@LIBZ_CFLAGS@
770 LIBZ_LIBS:=@LIBZ_LIBS@
771 LIBZIP_CAN_USE_MMAP:=@LIBZIP_CAN_USE_MMAP@
772 MSVCR_DLL:=@MSVCR_DLL@
773 MSVCP_DLL:=@MSVCP_DLL@
774 UCRT_DLL_DIR:=@UCRT_DLL_DIR@
775 STLPORT_LIB:=@STLPORT_LIB@
776 ENABLE_PANDOC:=@ENABLE_PANDOC@
</pre>
<hr />
<pre>
865 JCOV_IMAGE_DIR = $(IMAGES_OUTPUTDIR)/$(JCOV_IMAGE_SUBDIR)
866 
867 # Test image, as above
868 TEST_IMAGE_SUBDIR:=test
869 TEST_IMAGE_DIR=$(IMAGES_OUTPUTDIR)/$(TEST_IMAGE_SUBDIR)
870 
871 # Symbols image
872 SYMBOLS_IMAGE_SUBDIR:=symbols
873 SYMBOLS_IMAGE_DIR=$(IMAGES_OUTPUTDIR)/$(SYMBOLS_IMAGE_SUBDIR)
874 
875 # Interim image
876 INTERIM_JMODS_DIR := $(SUPPORT_OUTPUTDIR)/interim-jmods
877 INTERIM_IMAGE_DIR := $(SUPPORT_OUTPUTDIR)/interim-image
878 
879 # Docs image
880 DOCS_IMAGE_SUBDIR := docs
881 DOCS_IMAGE_DIR = $(IMAGES_OUTPUTDIR)/$(DOCS_IMAGE_SUBDIR)
882 # Output docs directly into image
883 DOCS_OUTPUTDIR := $(DOCS_IMAGE_DIR)
884 








885 # Macosx bundles directory definitions
886 JDK_MACOSX_BUNDLE_SUBDIR=jdk-bundle
887 JRE_MACOSX_BUNDLE_SUBDIR=jre-bundle


888 JDK_MACOSX_BUNDLE_DIR=$(IMAGES_OUTPUTDIR)/$(JDK_MACOSX_BUNDLE_SUBDIR)
889 JRE_MACOSX_BUNDLE_DIR=$(IMAGES_OUTPUTDIR)/$(JRE_MACOSX_BUNDLE_SUBDIR)
<span class="line-modified">890 JDK_MACOSX_CONTENTS_SUBDIR=jdk-$(VERSION_NUMBER).jdk/Contents</span>
<span class="line-modified">891 JRE_MACOSX_CONTENTS_SUBDIR=jre-$(VERSION_NUMBER).jre/Contents</span>




892 JDK_MACOSX_CONTENTS_DIR=$(JDK_MACOSX_BUNDLE_DIR)/$(JDK_MACOSX_CONTENTS_SUBDIR)
893 JRE_MACOSX_CONTENTS_DIR=$(JRE_MACOSX_BUNDLE_DIR)/$(JRE_MACOSX_CONTENTS_SUBDIR)
894 
895 # Bundle names
896 BASE_NAME := $(VERSION_SHORT)+$(VERSION_BUILD)_$(OPENJDK_TARGET_BUNDLE_PLATFORM)
897 ifeq ($(DEBUG_LEVEL), fastdebug)
898   DEBUG_PART := -debug
899 else ifneq ($(DEBUG_LEVEL), release)
900   DEBUG_PART := -$(DEBUG_LEVEL)
901 endif
902 ifeq ($(OPENJDK_TARGET_OS), windows)
903   JDK_BUNDLE_EXTENSION := zip
904 else
905   JDK_BUNDLE_EXTENSION := tar.gz
906 endif
907 JDK_BUNDLE_NAME := jdk-$(BASE_NAME)_bin$(DEBUG_PART).$(JDK_BUNDLE_EXTENSION)

908 JDK_SYMBOLS_BUNDLE_NAME := jdk-$(BASE_NAME)_bin$(DEBUG_PART)-symbols.tar.gz
909 TEST_DEMOS_BUNDLE_NAME := jdk-$(BASE_NAME)_bin-tests-demos$(DEBUG_PART).tar.gz
910 TEST_BUNDLE_NAME := jdk-$(BASE_NAME)_bin-tests$(DEBUG_PART).tar.gz
911 DOCS_BUNDLE_NAME := jdk-$(BASE_NAME)_doc-api-spec$(DEBUG_PART).tar.gz

912 JCOV_BUNDLE_NAME := jdk-jcov-$(BASE_NAME)_bin$(DEBUG_PART).$(JDK_BUNDLE_EXTENSION)
913 
914 JDK_BUNDLE := $(BUNDLES_OUTPUTDIR)/$(JDK_BUNDLE_NAME)

915 JDK_SYMBOLS_BUNDLE :=  $(BUNDLES_OUTPUTDIR)/$(JDK_SYMBOLS_BUNDLE_NAME)
916 TEST_DEMOS_BUNDLE := $(BUNDLES_OUTPUTDIR)/$(TEST_DEMOS_BUNDLE_NAME)
917 TEST_BUNDLE :=  $(BUNDLES_OUTPUTDIR)/$(TEST_BUNDLE_NAME)
918 DOCS_BUNDLE :=  $(BUNDLES_OUTPUTDIR)/$(DOCS_BUNDLE_NAME)
919 JCOV_BUNDLE := $(BUNDLES_OUTPUTDIR)/$(JCOV_BUNDLE_NAME)
920 
921 # This macro is called to allow inclusion of closed source counterparts.
922 # Unless overridden in closed sources, it expands to nothing.
923 # Usage: This function is called in an open makefile, with the following
924 # argument:
925 # $1 the name of the makefile
926 define IncludeCustomExtension
927 endef
928 
929 # Include the custom-spec.gmk file if it exists
930 -include $(dir @SPEC@)/custom-spec.gmk
</pre>
</td>
<td>
<hr />
<pre>
  1 #
<span class="line-modified">  2 # Copyright (c) 2011, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4 #
  5 # This code is free software; you can redistribute it and/or modify it
  6 # under the terms of the GNU General Public License version 2 only, as
  7 # published by the Free Software Foundation.  Oracle designates this
  8 # particular file as subject to the &quot;Classpath&quot; exception as provided
  9 # by Oracle in the LICENSE file that accompanied this code.
 10 #
 11 # This code is distributed in the hope that it will be useful, but WITHOUT
 12 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14 # version 2 for more details (a copy is included in the LICENSE file that
 15 # accompanied this code).
 16 #
 17 # You should have received a copy of the GNU General Public License version
 18 # 2 along with this work; if not, write to the Free Software Foundation,
 19 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20 #
 21 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22 # or visit www.oracle.com if you need additional information or have any
 23 # questions.
 24 #
 25 
 26 # Configured @DATE_WHEN_CONFIGURED@ to build
 27 # for target system @OPENJDK_TARGET_OS@-@OPENJDK_TARGET_CPU@
 28 #   (called @OPENJDK_TARGET_AUTOCONF_NAME@ by autoconf)
 29 # on build system @OPENJDK_BUILD_OS@-@OPENJDK_BUILD_CPU@
 30 #   (called @OPENJDK_BUILD_AUTOCONF_NAME@ by autoconf)
 31 # using &#39;configure @CONFIGURE_COMMAND_LINE@&#39;
 32 
 33 # The command line given to configure.
 34 CONFIGURE_COMMAND_LINE:=@CONFIGURE_COMMAND_LINE@
<span class="line-added"> 35 # The current directory when configure was run</span>
<span class="line-added"> 36 CONFIGURE_START_DIR:=@CONFIGURE_START_DIR@</span>
 37 
 38 # A self-referential reference to this file.
 39 SPEC:=@SPEC@
 40 
 41 # Path to autoconf if overriden by the user, to be used by &quot;make reconfigure&quot;
 42 AUTOCONF := @AUTOCONF@
 43 
 44 # SPACE and COMMA are defined in MakeBase.gmk, but they are also used in
 45 # some definitions here, and are needed if MakeBase.gmk is not included before
 46 # this file.
 47 X:=
 48 SPACE:=$(X) $(X)
 49 COMMA:=,
 50 
 51 # What make to use for main processing, after bootstrapping top-level Makefile.
 52 MAKE := @MAKE@
 53 
<span class="line-added"> 54 # Make sure all shell commands are executed with the C locale</span>
<span class="line-added"> 55 export LC_ALL := C</span>
<span class="line-added"> 56 </span>
 57 # The default make arguments
 58 MAKE_ARGS = $(MAKE_LOG_FLAGS) -r -R -I $(TOPDIR)/make/common SPEC=$(SPEC) \
 59     MAKE_LOG_FLAGS=&quot;$(MAKE_LOG_FLAGS)&quot; $(MAKE_LOG_VARS)
 60 
 61 OUTPUT_SYNC_SUPPORTED:=@OUTPUT_SYNC_SUPPORTED@
 62 OUTPUT_SYNC:=@OUTPUT_SYNC@
 63 
 64 # Override the shell with bash
 65 BASH:=@BASH@
 66 BASH_ARGS:=@BASH_ARGS@
 67 SHELL:=$(BASH) $(BASH_ARGS)
 68 
 69 # The &quot;human readable&quot; name of this configuration
 70 CONF_NAME:=@CONF_NAME@
 71 
 72 # The built jdk will run in this target system.
 73 OPENJDK_TARGET_OS:=@OPENJDK_TARGET_OS@
 74 OPENJDK_TARGET_OS_TYPE:=@OPENJDK_TARGET_OS_TYPE@
 75 OPENJDK_TARGET_OS_ENV:=@OPENJDK_TARGET_OS_ENV@
 76 OPENJDK_TARGET_OS_UPPERCASE:=@OPENJDK_TARGET_OS_UPPERCASE@
</pre>
<hr />
<pre>
126 PATH_SEP:=@PATH_SEP@
127 
128 # Save the original path before replacing it with the Visual Studio tools
129 ORIGINAL_PATH:=@ORIGINAL_PATH@
130 ifeq ($(OPENJDK_TARGET_OS), windows)
131   # On Windows, the Visual Studio toolchain needs the PATH to be adjusted
132   # to include Visual Studio tools (this needs to be in cygwin/msys style).
133   ifeq ($(OPENJDK_TARGET_OS_ENV), windows.wsl)
134     export FIXPATH_PATH:=@VS_PATH_WINDOWS@
135     export WSLENV:=$(WSLENV):FIXPATH_PATH:DEBUG_FIXPATH
136   else
137     export PATH:=@VS_PATH@
138   endif
139 endif
140 
141 SYSROOT_CFLAGS := @SYSROOT_CFLAGS@
142 SYSROOT_LDFLAGS := @SYSROOT_LDFLAGS@
143 
144 # The top-level directory of the source repository
145 TOPDIR:=@TOPDIR@
<span class="line-modified">146 # Usually the top level directory, but could be something else if a custom</span>
<span class="line-modified">147 # root is defined.</span>
<span class="line-added">148 WORKSPACE_ROOT:=@WORKSPACE_ROOT@</span>
149 IMPORT_MODULES_CLASSES:=@IMPORT_MODULES_CLASSES@
150 IMPORT_MODULES_CMDS:=@IMPORT_MODULES_CMDS@
151 IMPORT_MODULES_LIBS:=@IMPORT_MODULES_LIBS@
152 IMPORT_MODULES_CONF:=@IMPORT_MODULES_CONF@
153 IMPORT_MODULES_LEGAL:=@IMPORT_MODULES_LEGAL@
154 IMPORT_MODULES_MAN:=@IMPORT_MODULES_MAN@
155 IMPORT_MODULES_SRC:=@IMPORT_MODULES_SRC@
156 IMPORT_MODULES_MAKE:=@IMPORT_MODULES_MAKE@
157 
158 COPYRIGHT_YEAR:=@COPYRIGHT_YEAR@
159 
160 # Platform naming variables
161 LAUNCHER_NAME:=@LAUNCHER_NAME@
162 PRODUCT_NAME:=@PRODUCT_NAME@
163 PRODUCT_SUFFIX:=@PRODUCT_SUFFIX@
164 JDK_RC_PLATFORM_NAME:=@JDK_RC_PLATFORM_NAME@
<span class="line-added">165 JDK_RC_NAME:=@JDK_RC_NAME@</span>
166 COMPANY_NAME:=@COMPANY_NAME@
167 HOTSPOT_VM_DISTRO:=@HOTSPOT_VM_DISTRO@
168 MACOSX_BUNDLE_NAME_BASE=@MACOSX_BUNDLE_NAME_BASE@
169 MACOSX_BUNDLE_ID_BASE=@MACOSX_BUNDLE_ID_BASE@
170 USERNAME:=@USERNAME@
171 VENDOR_URL:=@VENDOR_URL@
172 VENDOR_URL_BUG:=@VENDOR_URL_BUG@
173 VENDOR_URL_VM_BUG:=@VENDOR_URL_VM_BUG@
174 
175 # New (JEP-223) version information
176 
177 ## Building blocks of the version string
178 # First three version numbers, with well-specified meanings (numerical)
179 VERSION_FEATURE := @VERSION_FEATURE@
180 VERSION_INTERIM := @VERSION_INTERIM@
181 VERSION_UPDATE := @VERSION_UPDATE@
182 VERSION_PATCH := @VERSION_PATCH@
183 VERSION_EXTRA1 := @VERSION_EXTRA1@
184 VERSION_EXTRA2 := @VERSION_EXTRA2@
185 VERSION_EXTRA3 := @VERSION_EXTRA3@
</pre>
<hr />
<pre>
198 # The complete version string, with additional build information
199 VERSION_STRING := @VERSION_STRING@
200 # The short version string, without trailing zeroes and just PRE, if present.
201 VERSION_SHORT := @VERSION_SHORT@
202 # The Java specification version. It usually equals the feature version number.
203 VERSION_SPECIFICATION := @VERSION_FEATURE@
204 # A GA version is defined by the PRE string being empty. Rather than testing for
205 # that, this variable defines it with true/false.
206 VERSION_IS_GA := @VERSION_IS_GA@
207 
208 # Version date
209 VERSION_DATE := @VERSION_DATE@
210 
211 # Vendor version string
212 VENDOR_VERSION_STRING := @VENDOR_VERSION_STRING@
213 
214 # Class-file version
215 VERSION_CLASSFILE_MAJOR := @VERSION_CLASSFILE_MAJOR@
216 VERSION_CLASSFILE_MINOR := @VERSION_CLASSFILE_MINOR@
217 
<span class="line-added">218 JDK_SOURCE_TARGET_VERSION := @JDK_SOURCE_TARGET_VERSION@</span>
<span class="line-added">219 </span>
220 # Convenience CFLAGS settings for passing version information into native programs.
221 VERSION_CFLAGS := \
222     -DVERSION_FEATURE=$(VERSION_FEATURE) \
223     -DVERSION_INTERIM=$(VERSION_INTERIM) \
224     -DVERSION_UPDATE=$(VERSION_UPDATE) \
225     -DVERSION_PATCH=$(VERSION_PATCH) \
226     -DVERSION_EXTRA1=$(VERSION_EXTRA1) \
227     -DVERSION_EXTRA2=$(VERSION_EXTRA2) \
228     -DVERSION_EXTRA3=$(VERSION_EXTRA3) \
229     -DVERSION_PRE=&#39;&quot;$(VERSION_PRE)&quot;&#39; \
230     -DVERSION_BUILD=$(VERSION_BUILD) \
231     -DVERSION_OPT=&#39;&quot;$(VERSION_OPT)&quot;&#39; \
232     -DVERSION_NUMBER=&#39;&quot;$(VERSION_NUMBER)&quot;&#39; \
233     -DVERSION_STRING=&#39;&quot;$(VERSION_STRING)&quot;&#39; \
234     -DVERSION_SHORT=&#39;&quot;$(VERSION_SHORT)&quot;&#39; \
235     -DVERSION_SPECIFICATION=&#39;&quot;$(VERSION_SPECIFICATION)&quot;&#39; \
236     -DVERSION_DATE=&#39;&quot;$(VERSION_DATE)&quot;&#39; \
237     -DVENDOR_VERSION_STRING=&#39;&quot;$(VENDOR_VERSION_STRING)&quot;&#39; \
238     -DVERSION_CLASSFILE_MAJOR=$(VERSION_CLASSFILE_MAJOR) \
239     -DVERSION_CLASSFILE_MINOR=$(VERSION_CLASSFILE_MINOR) \
</pre>
<hr />
<pre>
272 DEBUG_LEVEL:=@DEBUG_LEVEL@
273 HOTSPOT_DEBUG_LEVEL:=@HOTSPOT_DEBUG_LEVEL@
274 
275 # Which JVM variants to build (space-separated list)
276 JVM_VARIANTS := @JVM_VARIANTS@
277 JVM_VARIANT_MAIN := @JVM_VARIANT_MAIN@
278 
279 # Lists of features per variant. Only relevant for the variants listed in
280 # JVM_VARIANTS.
281 JVM_FEATURES_server := @JVM_FEATURES_server@
282 JVM_FEATURES_client := @JVM_FEATURES_client@
283 JVM_FEATURES_core := @JVM_FEATURES_core@
284 JVM_FEATURES_minimal := @JVM_FEATURES_minimal@
285 JVM_FEATURES_zero := @JVM_FEATURES_zero@
286 JVM_FEATURES_custom := @JVM_FEATURES_custom@
287 
288 # Used for make-time verifications
289 VALID_JVM_FEATURES := @VALID_JVM_FEATURES@
290 VALID_JVM_VARIANTS := @VALID_JVM_VARIANTS@
291 
<span class="line-modified">292 # Control whether Hotspot builds gtest tests</span>
293 BUILD_GTEST := @BUILD_GTEST@
294 
295 # Allow overriding the default hotspot library path
296 HOTSPOT_OVERRIDE_LIBPATH := @HOTSPOT_OVERRIDE_LIBPATH@
297 
298 # Control use of precompiled header in hotspot libjvm build
299 USE_PRECOMPILED_HEADER := @USE_PRECOMPILED_HEADER@
300 
301 # Only build headless support or not
302 ENABLE_HEADLESS_ONLY := @ENABLE_HEADLESS_ONLY@
303 
<span class="line-added">304 ENABLE_LINKTIME_GC := @ENABLE_LINKTIME_GC@</span>
<span class="line-added">305 </span>
306 ENABLE_FULL_DOCS := @ENABLE_FULL_DOCS@
307 
308 # JDK_OUTPUTDIR specifies where a working jvm is built.
309 # You can run $(JDK_OUTPUTDIR)/bin/java
310 
311 OUTPUTDIR := @OUTPUTDIR@
312 # Colon left out to be able to override IMAGES_OUTPUTDIR for bootcycle-images
313 SUPPORT_OUTPUTDIR=$(OUTPUTDIR)/support
314 BUILDTOOLS_OUTPUTDIR=$(OUTPUTDIR)/buildtools
315 
316 HOTSPOT_OUTPUTDIR=$(OUTPUTDIR)/hotspot
317 JDK_OUTPUTDIR=$(OUTPUTDIR)/jdk
318 IMAGES_OUTPUTDIR=$(OUTPUTDIR)/images
319 BUNDLES_OUTPUTDIR=$(OUTPUTDIR)/bundles
320 TESTMAKE_OUTPUTDIR=$(OUTPUTDIR)/test-make
321 MAKESUPPORT_OUTPUTDIR=$(OUTPUTDIR)/make-support
322 
323 # This does not get overridden in a bootcycle build
324 CONFIGURESUPPORT_OUTPUTDIR:=@CONFIGURESUPPORT_OUTPUTDIR@
325 BUILDJDK_OUTPUTDIR=$(OUTPUTDIR)/buildjdk
</pre>
<hr />
<pre>
361 JOBS?=@JOBS@
362 TEST_JOBS?=@TEST_JOBS@
363 
364 # Default make target
365 DEFAULT_MAKE_TARGET:=@DEFAULT_MAKE_TARGET@
366 DEFAULT_LOG:=@DEFAULT_LOG@
367 
368 FREETYPE_TO_USE:=@FREETYPE_TO_USE@
369 FREETYPE_LIBS:=@FREETYPE_LIBS@
370 FREETYPE_CFLAGS:=@FREETYPE_CFLAGS@
371 FONTCONFIG_CFLAGS:=@FONTCONFIG_CFLAGS@
372 CUPS_CFLAGS:=@CUPS_CFLAGS@
373 ALSA_LIBS:=@ALSA_LIBS@
374 ALSA_CFLAGS:=@ALSA_CFLAGS@
375 LIBFFI_LIBS:=@LIBFFI_LIBS@
376 LIBFFI_CFLAGS:=@LIBFFI_CFLAGS@
377 ENABLE_LIBFFI_BUNDLING:=@ENABLE_LIBFFI_BUNDLING@
378 LIBFFI_LIB_FILE:=@LIBFFI_LIB_FILE@
379 GRAALUNIT_LIB := @GRAALUNIT_LIB@
380 
<span class="line-added">381 STATIC_LIBS_CFLAGS := @STATIC_LIBS_CFLAGS@</span>
<span class="line-added">382 </span>
383 JMH_CORE_JAR := @JMH_CORE_JAR@
384 JMH_GENERATOR_JAR := @JMH_GENERATOR_JAR@
385 JMH_JOPT_SIMPLE_JAR := @JMH_JOPT_SIMPLE_JAR@
386 JMH_COMMONS_MATH_JAR := @JMH_COMMONS_MATH_JAR@
387 JMH_VERSION := @JMH_VERSION@
388 
389 # Source file for cacerts
390 CACERTS_FILE=@CACERTS_FILE@
391 
392 # Enable unlimited crypto policy
393 UNLIMITED_CRYPTO=@UNLIMITED_CRYPTO@
394 
395 GCOV_ENABLED=@GCOV_ENABLED@
396 JCOV_ENABLED=@JCOV_ENABLED@
397 JCOV_HOME=@JCOV_HOME@
398 JCOV_INPUT_JDK=@JCOV_INPUT_JDK@
<span class="line-added">399 JCOV_FILTERS=@JCOV_FILTERS@</span>
400 
401 # AddressSanitizer
402 export ASAN_ENABLED:=@ASAN_ENABLED@
403 export DEVKIT_LIB_DIR:=@DEVKIT_LIB_DIR@
404 ifeq ($(ASAN_ENABLED), yes)
<span class="line-modified">405   export ASAN_OPTIONS=handle_segv=0 detect_leaks=0</span>
406   ifneq ($(DEVKIT_LIB_DIR),)
407     export LD_LIBRARY_PATH:=$(LD_LIBRARY_PATH):$(DEVKIT_LIB_DIR)
408   endif
409 endif
410 
411 # Necessary additional compiler flags to compile X11
412 X_CFLAGS:=@X_CFLAGS@
413 X_LIBS:=@X_LIBS@
414 
415 # The lowest required version of macosx
416 MACOSX_VERSION_MIN=@MACOSX_VERSION_MIN@
417 # The highest allowed version of macosx
418 MACOSX_VERSION_MAX=@MACOSX_VERSION_MAX@
419 
<span class="line-added">420 # The macosx code signing identity to use</span>
<span class="line-added">421 MACOSX_CODESIGN_IDENTITY=@MACOSX_CODESIGN_IDENTITY@</span>
<span class="line-added">422 </span>
423 # Toolchain type: gcc, clang, solstudio, lxc, microsoft...
424 TOOLCHAIN_TYPE:=@TOOLCHAIN_TYPE@
425 TOOLCHAIN_VERSION := @TOOLCHAIN_VERSION@
426 CC_VERSION_NUMBER := @CC_VERSION_NUMBER@
427 CXX_VERSION_NUMBER := @CXX_VERSION_NUMBER@
428 
429 # Legacy support
430 HOTSPOT_TOOLCHAIN_TYPE := @HOTSPOT_TOOLCHAIN_TYPE@
431 
432 # Option used to tell the compiler whether to create 32- or 64-bit executables
433 COMPILER_TARGET_BITS_FLAG:=@COMPILER_TARGET_BITS_FLAG@
434 COMPILER_SUPPORTS_TARGET_BITS_FLAG=@COMPILER_SUPPORTS_TARGET_BITS_FLAG@
435 
436 # Option used to pass a command file to the compiler
437 COMPILER_COMMAND_FILE_FLAG:=@COMPILER_COMMAND_FILE_FLAG@
438 
439 # Option for specifying a file which saves the binder commands
440 # produced by the link step (for debugging, currently AIX only)
441 COMPILER_BINDCMD_FILE_FLAG:=@COMPILER_BINDCMD_FILE_FLAG@
442 
</pre>
<hr />
<pre>
482 CXXFLAGS_JDKLIB:=@CXXFLAGS_JDKLIB@
483 
484 # CFLAGS used to compile the jdk native launchers (C-code)
485 CFLAGS_JDKEXE:=@CFLAGS_JDKEXE@
486 CXXFLAGS_JDKEXE:=@CXXFLAGS_JDKEXE@
487 
488 LIBJSIG_HASHSTYLE_LDFLAGS := @LIBJSIG_HASHSTYLE_LDFLAGS@
489 LIBJSIG_NOEXECSTACK_LDFLAGS := @LIBJSIG_NOEXECSTACK_LDFLAGS@
490 
491 FDLIBM_CFLAGS := @FDLIBM_CFLAGS@
492 JVM_CFLAGS := @JVM_CFLAGS@
493 JVM_LDFLAGS := @JVM_LDFLAGS@
494 JVM_ASFLAGS := @JVM_ASFLAGS@
495 JVM_LIBS := @JVM_LIBS@
496 JVM_RCFLAGS := @JVM_RCFLAGS@
497 
498 # These flags might contain variables set by a custom extension that is included later.
499 EXTRA_CFLAGS = @EXTRA_CFLAGS@
500 EXTRA_CXXFLAGS = @EXTRA_CXXFLAGS@
501 EXTRA_LDFLAGS = @EXTRA_LDFLAGS@
<span class="line-added">502 EXTRA_ASFLAGS = @EXTRA_ASFLAGS@</span>
503 
504 CXX:=@FIXPATH@ @CCACHE@ @ICECC@ @CXX@
505 
506 CPP:=@FIXPATH@ @CPP@
507 
508 # The linker can be gcc or ld on unix systems, or link.exe on windows systems.
509 LD:=@FIXPATH@ @LD@
510 
511 # Linker used by the jaotc tool for AOT compilation.
512 LD_JAOTC:=@LD_JAOTC@
513 
514 # Xcode SDK path
515 SDKROOT:=@SDKROOT@
516 
517 # LDFLAGS used to link the jdk native libraries (C-code)
518 LDFLAGS_JDKLIB:=@LDFLAGS_JDKLIB@
519 JDKLIB_LIBS:=@JDKLIB_LIBS@
520 GLOBAL_LIBS:=@GLOBAL_LIBS@
521 
522 # LDFLAGS used to link the jdk native launchers (C-code)
</pre>
<hr />
<pre>
755 CYGPATH:=@CYGPATH@
756 WSLPATH:=@WSLPATH@
757 LDD:=@LDD@
758 OTOOL:=@OTOOL@
759 READELF:=@READELF@
760 ELFEDIT:=@ELFEDIT@
761 EXPR:=@EXPR@
762 FILE:=@FILE@
763 DOT:=@DOT@
764 HG:=@HG@
765 GIT:=@GIT@
766 OBJCOPY:=@OBJCOPY@
767 SETFILE:=@SETFILE@
768 XATTR:=@XATTR@
769 JT_HOME:=@JT_HOME@
770 JTREGEXE:=@JTREGEXE@
771 JIB_HOME:=@JIB_HOME@
772 XCODEBUILD=@XCODEBUILD@
773 DTRACE := @DTRACE@
774 FIXPATH:=@FIXPATH@
<span class="line-added">775 ULIMIT:=@ULIMIT@</span>
776 
777 TAR_TYPE:=@TAR_TYPE@
778 TAR_CREATE_EXTRA_PARAM:=@TAR_CREATE_EXTRA_PARAM@
779 TAR_INCLUDE_PARAM:=@TAR_INCLUDE_PARAM@
780 TAR_SUPPORTS_TRANSFORM:=@TAR_SUPPORTS_TRANSFORM@
781 
782 # Build setup
783 ENABLE_AOT:=@ENABLE_AOT@
784 ENABLE_INTREE_EC:=@ENABLE_INTREE_EC@
785 USE_EXTERNAL_LIBJPEG:=@USE_EXTERNAL_LIBJPEG@
786 USE_EXTERNAL_LIBGIF:=@USE_EXTERNAL_LIBGIF@
787 USE_EXTERNAL_LIBZ:=@USE_EXTERNAL_LIBZ@
788 LIBZ_CFLAGS:=@LIBZ_CFLAGS@
789 LIBZ_LIBS:=@LIBZ_LIBS@
790 LIBZIP_CAN_USE_MMAP:=@LIBZIP_CAN_USE_MMAP@
791 MSVCR_DLL:=@MSVCR_DLL@
792 MSVCP_DLL:=@MSVCP_DLL@
793 UCRT_DLL_DIR:=@UCRT_DLL_DIR@
794 STLPORT_LIB:=@STLPORT_LIB@
795 ENABLE_PANDOC:=@ENABLE_PANDOC@
</pre>
<hr />
<pre>
884 JCOV_IMAGE_DIR = $(IMAGES_OUTPUTDIR)/$(JCOV_IMAGE_SUBDIR)
885 
886 # Test image, as above
887 TEST_IMAGE_SUBDIR:=test
888 TEST_IMAGE_DIR=$(IMAGES_OUTPUTDIR)/$(TEST_IMAGE_SUBDIR)
889 
890 # Symbols image
891 SYMBOLS_IMAGE_SUBDIR:=symbols
892 SYMBOLS_IMAGE_DIR=$(IMAGES_OUTPUTDIR)/$(SYMBOLS_IMAGE_SUBDIR)
893 
894 # Interim image
895 INTERIM_JMODS_DIR := $(SUPPORT_OUTPUTDIR)/interim-jmods
896 INTERIM_IMAGE_DIR := $(SUPPORT_OUTPUTDIR)/interim-image
897 
898 # Docs image
899 DOCS_IMAGE_SUBDIR := docs
900 DOCS_IMAGE_DIR = $(IMAGES_OUTPUTDIR)/$(DOCS_IMAGE_SUBDIR)
901 # Output docs directly into image
902 DOCS_OUTPUTDIR := $(DOCS_IMAGE_DIR)
903 
<span class="line-added">904 # Static libs image</span>
<span class="line-added">905 STATIC_LIBS_IMAGE_SUBDIR := static-libs</span>
<span class="line-added">906 STATIC_LIBS_IMAGE_DIR := $(IMAGES_OUTPUTDIR)/$(STATIC_LIBS_IMAGE_SUBDIR)</span>
<span class="line-added">907 </span>
<span class="line-added">908 # Graal builder image</span>
<span class="line-added">909 GRAAL_BUILDER_IMAGE_SUBDIR := graal-builder-jdk</span>
<span class="line-added">910 GRAAL_BUILDER_IMAGE_DIR := $(IMAGES_OUTPUTDIR)/$(GRAAL_BUILDER_IMAGE_SUBDIR)</span>
<span class="line-added">911 </span>
912 # Macosx bundles directory definitions
913 JDK_MACOSX_BUNDLE_SUBDIR=jdk-bundle
914 JRE_MACOSX_BUNDLE_SUBDIR=jre-bundle
<span class="line-added">915 JDK_MACOSX_BUNDLE_SUBDIR_SIGNED=jdk-bundle-signed</span>
<span class="line-added">916 JRE_MACOSX_BUNDLE_SUBDIR_SIGNED=jre-bundle-signed</span>
917 JDK_MACOSX_BUNDLE_DIR=$(IMAGES_OUTPUTDIR)/$(JDK_MACOSX_BUNDLE_SUBDIR)
918 JRE_MACOSX_BUNDLE_DIR=$(IMAGES_OUTPUTDIR)/$(JRE_MACOSX_BUNDLE_SUBDIR)
<span class="line-modified">919 JDK_MACOSX_BUNDLE_DIR_SIGNED=$(IMAGES_OUTPUTDIR)/$(JDK_MACOSX_BUNDLE_SUBDIR_SIGNED)</span>
<span class="line-modified">920 JRE_MACOSX_BUNDLE_DIR_SIGNED=$(IMAGES_OUTPUTDIR)/$(JRE_MACOSX_BUNDLE_SUBDIR_SIGNED)</span>
<span class="line-added">921 JDK_MACOSX_BUNDLE_TOP_DIR=jdk-$(VERSION_NUMBER).jdk</span>
<span class="line-added">922 JRE_MACOSX_BUNDLE_TOP_DIR=jre-$(VERSION_NUMBER).jre</span>
<span class="line-added">923 JDK_MACOSX_CONTENTS_SUBDIR=$(JDK_MACOSX_BUNDLE_TOP_DIR)/Contents</span>
<span class="line-added">924 JRE_MACOSX_CONTENTS_SUBDIR=$(JRE_MACOSX_BUNDLE_TOP_DIR)/Contents</span>
925 JDK_MACOSX_CONTENTS_DIR=$(JDK_MACOSX_BUNDLE_DIR)/$(JDK_MACOSX_CONTENTS_SUBDIR)
926 JRE_MACOSX_CONTENTS_DIR=$(JRE_MACOSX_BUNDLE_DIR)/$(JRE_MACOSX_CONTENTS_SUBDIR)
927 
928 # Bundle names
929 BASE_NAME := $(VERSION_SHORT)+$(VERSION_BUILD)_$(OPENJDK_TARGET_BUNDLE_PLATFORM)
930 ifeq ($(DEBUG_LEVEL), fastdebug)
931   DEBUG_PART := -debug
932 else ifneq ($(DEBUG_LEVEL), release)
933   DEBUG_PART := -$(DEBUG_LEVEL)
934 endif
935 ifeq ($(OPENJDK_TARGET_OS), windows)
936   JDK_BUNDLE_EXTENSION := zip
937 else
938   JDK_BUNDLE_EXTENSION := tar.gz
939 endif
940 JDK_BUNDLE_NAME := jdk-$(BASE_NAME)_bin$(DEBUG_PART).$(JDK_BUNDLE_EXTENSION)
<span class="line-added">941 JRE_BUNDLE_NAME := jre-$(BASE_NAME)_bin$(DEBUG_PART).$(JDK_BUNDLE_EXTENSION)</span>
942 JDK_SYMBOLS_BUNDLE_NAME := jdk-$(BASE_NAME)_bin$(DEBUG_PART)-symbols.tar.gz
943 TEST_DEMOS_BUNDLE_NAME := jdk-$(BASE_NAME)_bin-tests-demos$(DEBUG_PART).tar.gz
944 TEST_BUNDLE_NAME := jdk-$(BASE_NAME)_bin-tests$(DEBUG_PART).tar.gz
945 DOCS_BUNDLE_NAME := jdk-$(BASE_NAME)_doc-api-spec$(DEBUG_PART).tar.gz
<span class="line-added">946 STATIC_LIBS_BUNDLE_NAME := jdk-$(BASE_NAME)_bin-static-libs$(DEBUG_PART).tar.gz</span>
947 JCOV_BUNDLE_NAME := jdk-jcov-$(BASE_NAME)_bin$(DEBUG_PART).$(JDK_BUNDLE_EXTENSION)
948 
949 JDK_BUNDLE := $(BUNDLES_OUTPUTDIR)/$(JDK_BUNDLE_NAME)
<span class="line-added">950 JRE_BUNDLE :=  $(BUNDLES_OUTPUTDIR)/$(JRE_BUNDLE_NAME)</span>
951 JDK_SYMBOLS_BUNDLE :=  $(BUNDLES_OUTPUTDIR)/$(JDK_SYMBOLS_BUNDLE_NAME)
952 TEST_DEMOS_BUNDLE := $(BUNDLES_OUTPUTDIR)/$(TEST_DEMOS_BUNDLE_NAME)
953 TEST_BUNDLE :=  $(BUNDLES_OUTPUTDIR)/$(TEST_BUNDLE_NAME)
954 DOCS_BUNDLE :=  $(BUNDLES_OUTPUTDIR)/$(DOCS_BUNDLE_NAME)
955 JCOV_BUNDLE := $(BUNDLES_OUTPUTDIR)/$(JCOV_BUNDLE_NAME)
956 
957 # This macro is called to allow inclusion of closed source counterparts.
958 # Unless overridden in closed sources, it expands to nothing.
959 # Usage: This function is called in an open makefile, with the following
960 # argument:
961 # $1 the name of the makefile
962 define IncludeCustomExtension
963 endef
964 
965 # Include the custom-spec.gmk file if it exists
966 -include $(dir @SPEC@)/custom-spec.gmk
</pre>
</td>
</tr>
</table>
<center><a href="hotspot.m4.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="../hotspot/lib/JvmFeatures.gmk.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>