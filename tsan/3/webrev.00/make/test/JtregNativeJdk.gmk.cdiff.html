<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff make/test/JtregNativeJdk.gmk</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="JtregNativeHotspot.gmk.cdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="../../src/demo/share/java2d/J2DBench/src/j2dbench/ResultSet.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>make/test/JtregNativeJdk.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  #
<span class="line-modified">! # Copyright (c) 2015, 2018, Oracle and/or its affiliates. All rights reserved.</span>
  # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  #
  # This code is free software; you can redistribute it and/or modify it
  # under the terms of the GNU General Public License version 2 only, as
  # published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  #
<span class="line-modified">! # Copyright (c) 2015, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  #
  # This code is free software; you can redistribute it and/or modify it
  # under the terms of the GNU General Public License version 2 only, as
  # published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 59,19 ***</span>
<span class="line-new-header">--- 59,23 ---</span>
  
    WIN_LIB_JAVA := $(SUPPORT_OUTPUTDIR)/native/java.base/libjava/java.lib
    BUILD_JDK_JTREG_LIBRARIES_LIBS_libstringPlatformChars := $(WIN_LIB_JAVA)
    WIN_LIB_JLI := $(SUPPORT_OUTPUTDIR)/native/java.base/libjli/jli.lib
    BUILD_JDK_JTREG_EXECUTABLES_LIBS_exeJliLaunchTest := $(WIN_LIB_JLI)
<span class="line-added">+   BUILD_JDK_JTREG_EXECUTABLES_LIBS_exeCallerAccessTest := jvm.lib</span>
<span class="line-added">+   BUILD_JDK_JTREG_EXECUTABLES_LIBS_exerevokeall := advapi32.lib</span>
  else
    BUILD_JDK_JTREG_LIBRARIES_LIBS_libstringPlatformChars := -ljava
    BUILD_JDK_JTREG_LIBRARIES_LIBS_libDirectIO := -ljava
<span class="line-added">+   BUILD_JDK_JTREG_EXCLUDE += exerevokeall.c</span>
    ifeq ($(call isTargetOs, linux), true)
      BUILD_JDK_JTREG_LIBRARIES_LIBS_libInheritedChannel := -ljava
    else ifeq ($(call isTargetOs, solaris), true)
      BUILD_JDK_JTREG_LIBRARIES_LIBS_libInheritedChannel := -ljava -lsocket -lnsl
    endif
    BUILD_JDK_JTREG_EXECUTABLES_LIBS_exeJliLaunchTest := -ljli
<span class="line-added">+   BUILD_JDK_JTREG_EXECUTABLES_LIBS_exeCallerAccessTest := -ljvm</span>
  endif
  
  ifeq ($(call isTargetOs, macosx), true)
    BUILD_JDK_JTREG_LIBRARIES_CFLAGS_libTestMainKeyWindow := -ObjC
    BUILD_JDK_JTREG_LIBRARIES_LIBS_libTestMainKeyWindow := -framework JavaVM \
</pre>
<hr />
<pre>
<span class="line-old-header">*** 80,10 ***</span>
<span class="line-new-header">--- 84,17 ---</span>
  else
    BUILD_JDK_JTREG_EXCLUDE += libTestMainKeyWindow.c
    BUILD_JDK_JTREG_EXCLUDE += exeJniInvocationTest.c
  endif
  
<span class="line-added">+ ifeq ($(call isTargetOs, linux), true)</span>
<span class="line-added">+   # Unconditionally compile with debug symbols and don&#39;t ever perform</span>
<span class="line-added">+   # stripping during the test libraries&#39; build.</span>
<span class="line-added">+   BUILD_JDK_JTREG_LIBRARIES_CFLAGS_libFib := -g</span>
<span class="line-added">+   BUILD_JDK_JTREG_LIBRARIES_STRIP_SYMBOLS_libFib := false</span>
<span class="line-added">+ endif</span>
<span class="line-added">+ </span>
  # This evaluation is expensive and should only be done if this target was
  # explicitly called.
  ifneq ($(filter build-test-jdk-jtreg-native, $(MAKECMDGOALS)), )
    $(eval $(call SetupTestFilesCompilation, BUILD_JDK_JTREG_LIBRARIES, \
        TYPE := LIBRARY, \
</pre>
<center><a href="JtregNativeHotspot.gmk.cdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="../../src/demo/share/java2d/J2DBench/src/j2dbench/ResultSet.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>