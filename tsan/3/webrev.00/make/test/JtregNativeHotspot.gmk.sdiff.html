<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/test/JtregNativeHotspot.gmk</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="JtregGraalUnit.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="JtregNativeJdk.gmk.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/test/JtregNativeHotspot.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
   1 #
<span class="line-modified">   2 # Copyright (c) 2015, 2018, Oracle and/or its affiliates. All rights reserved.</span>
   3 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4 #
   5 # This code is free software; you can redistribute it and/or modify it
   6 # under the terms of the GNU General Public License version 2 only, as
   7 # published by the Free Software Foundation.  Oracle designates this
   8 # particular file as subject to the &quot;Classpath&quot; exception as provided
   9 # by Oracle in the LICENSE file that accompanied this code.
  10 #
  11 # This code is distributed in the hope that it will be useful, but WITHOUT
  12 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14 # version 2 for more details (a copy is included in the LICENSE file that
  15 # accompanied this code).
  16 #
  17 # You should have received a copy of the GNU General Public License version
  18 # 2 along with this work; if not, write to the Free Software Foundation,
  19 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20 #
  21 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22 # or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 719 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgetstacktr002 := $(NSK_JVMTI_AGENT_INCLUDES)
 720 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgetstacktr005 := $(NSK_JVMTI_AGENT_INCLUDES)
 721 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgetstacktr004 := $(NSK_JVMTI_AGENT_INCLUDES)
 722 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgetstacktr003 := $(NSK_JVMTI_AGENT_INCLUDES)
 723 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_liblocaltab001 := $(NSK_JVMTI_AGENT_INCLUDES)
 724 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_liblocaltab004 := $(NSK_JVMTI_AGENT_INCLUDES)
 725 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_liblocaltab003 := $(NSK_JVMTI_AGENT_INCLUDES)
 726 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_liblocaltab002 := $(NSK_JVMTI_AGENT_INCLUDES)
 727 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_liblocaltab005 := $(NSK_JVMTI_AGENT_INCLUDES)
 728 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libclassload001 := $(NSK_JVMTI_AGENT_INCLUDES)
 729 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libisintrf004 := $(NSK_JVMTI_AGENT_INCLUDES)
 730 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libisintrf005 := $(NSK_JVMTI_AGENT_INCLUDES)
 731 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libframepop001 := $(NSK_JVMTI_AGENT_INCLUDES)
 732 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libframepop002 := $(NSK_JVMTI_AGENT_INCLUDES)
 733 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgetclsig005 := $(NSK_JVMTI_AGENT_INCLUDES)
 734 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgetclsig004 := $(NSK_JVMTI_AGENT_INCLUDES)
 735 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgetclsig006 := $(NSK_JVMTI_AGENT_INCLUDES)
 736 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libdisposeenv002 := $(NSK_JVMTI_AGENT_INCLUDES)
 737 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libdisposeenv001 := $(NSK_JVMTI_AGENT_INCLUDES)
 738 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libexception001 := $(NSK_JVMTI_AGENT_INCLUDES)

 739 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libresexhausted := $(NSK_JVMTI_AGENT_INCLUDES)
 740 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgcstart001 := $(NSK_JVMTI_AGENT_INCLUDES)
 741 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgcstart002 := $(NSK_JVMTI_AGENT_INCLUDES)
 742 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libiterinstcls005 := $(NSK_JVMTI_AGENT_INCLUDES)
 743 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libiterinstcls002 := $(NSK_JVMTI_AGENT_INCLUDES)
 744 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libiterinstcls003 := $(NSK_JVMTI_AGENT_INCLUDES)
 745 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libiterinstcls004 := $(NSK_JVMTI_AGENT_INCLUDES)
 746 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libiterinstcls001 := $(NSK_JVMTI_AGENT_INCLUDES)
 747 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libiterinstcls006 := $(NSK_JVMTI_AGENT_INCLUDES)
 748 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libiterinstcls007 := $(NSK_JVMTI_AGENT_INCLUDES)
 749 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libmethname002 := $(NSK_JVMTI_AGENT_INCLUDES)
 750 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libmethname003 := $(NSK_JVMTI_AGENT_INCLUDES)
 751 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libmethname001 := $(NSK_JVMTI_AGENT_INCLUDES)
 752 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libforcegc001 := $(NSK_JVMTI_AGENT_INCLUDES)
 753 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libforcegc002 := $(NSK_JVMTI_AGENT_INCLUDES)
 754 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgettime001 := $(NSK_JVMTI_AGENT_INCLUDES)
 755 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libobjmonusage004 := $(NSK_JVMTI_AGENT_INCLUDES)
 756 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libobjmonusage003 := $(NSK_JVMTI_AGENT_INCLUDES)
 757 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libobjmonusage002 := $(NSK_JVMTI_AGENT_INCLUDES)
 758 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libobjmonusage005 := $(NSK_JVMTI_AGENT_INCLUDES)
</pre>
<hr />
<pre>
 844 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libVirtualMachine07agent01 := $(NSK_AOD_INCLUDES)
 845 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libVirtualMachine07agent02 := $(NSK_AOD_INCLUDES)
 846 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libVirtualMachine07agent03 := $(NSK_AOD_INCLUDES)
 847 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libVirtualMachine09agent00 := $(NSK_AOD_INCLUDES)
 848 
 849 ################################################################################
 850 
 851 # Platform specific setup
 852 ifeq ($(call And, $(call isTargetOs, solaris) $(call isTargetCpuArch, sparc)), false)
 853   BUILD_HOTSPOT_JTREG_EXCLUDE += liboverflow.c exeThreadSignalMask.c
 854 endif
 855 
 856 ifeq ($(call isTargetOs, linux), true)
 857     BUILD_HOTSPOT_JTREG_LIBRARIES_LDFLAGS_libtest-rw := -z noexecstack
 858     BUILD_HOTSPOT_JTREG_LIBRARIES_LDFLAGS_libtest-rwx := -z execstack
 859     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libstepBreakPopReturn := -lpthread
 860     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libIndyRedefineClass := -lpthread
 861     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libredefineClasses := -lpthread
 862     BUILD_HOTSPOT_JTREG_EXECUTABLES_LIBS_exeinvoke := -ljvm -lpthread
 863     BUILD_HOTSPOT_JTREG_EXECUTABLES_LIBS_exestack-gap := -ljvm -lpthread

 864     BUILD_TEST_exeinvoke_exeinvoke.c_OPTIMIZATION := NONE
 865     BUILD_HOTSPOT_JTREG_EXECUTABLES_LIBS_exeFPRegs := -ldl

 866 
 867     BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libAbstractNativeLoop := -fsanitize=thread
 868     ifeq ($(TOOLCHAIN_TYPE), gcc)
 869       # Ignore unresolved symbols from TSAN&#39;s runtime.
 870       # The symbols will be available at runtime as TSAN runtime is linked with the launcher.
 871       BUILD_HOTSPOT_JTREG_LIBRARIES_LDFLAGS_libAbstractNativeLoop := -Wl,--unresolved-symbols=ignore-in-object-files
 872     endif
 873 else
 874   BUILD_HOTSPOT_JTREG_EXCLUDE += libtest-rw.c libtest-rwx.c libTestJNI.c \
<span class="line-modified"> 875       exeinvoke.c exestack-gap.c</span>
 876 endif
 877 
 878 BUILD_HOTSPOT_JTREG_EXECUTABLES_LIBS_exesigtest := -ljvm
 879 
 880 ifeq ($(call isTargetOs, solaris), true)
 881     BUILD_HOTSPOT_JTREG_EXCLUDE += libterminatedThread.c
 882 endif
 883 
 884 ifeq ($(call isTargetOs, windows), true)
 885     BUILD_HOTSPOT_JTREG_EXECUTABLES_CFLAGS_exeFPRegs := -MT
 886     BUILD_HOTSPOT_JTREG_EXCLUDE += exesigtest.c libterminatedThread.c

 887 
 888 else

 889     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libbootclssearch_agent += -lpthread
 890     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libsystemclssearch_agent += -lpthread
 891     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libgetsysprop001 += -lpthread
 892     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libgetsysprop002 += -lpthread
 893     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libgetlocal001 += -lpthread
 894     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libgetlocal002 += -lpthread
 895     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libGetEnv001 += -lpthread
 896     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libgetvern001 += -lpthread
 897     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libgetfldecl002 += -lpthread
 898     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libgetfldecl004 += -lpthread
 899     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libgetfldecl001 += -lpthread
 900     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libloadedclss001 += -lpthread
 901     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libloadedclss002 += -lpthread
 902     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libextevents001 += -lpthread
 903     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libdatadumpreq001 += -lpthread
 904     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libtimerinfo001 += -lpthread
 905     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libthrstat002 += -lpthread
 906     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libthrstat005 += -lpthread
 907     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libthrstat004 += -lpthread
 908     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libthrstat003 += -lpthread
</pre>
<hr />
<pre>
1365     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap05t001 += -lpthread
1366     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap05t002 += -lpthread
1367     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap04t001 += -lpthread
1368     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap04t002 += -lpthread
1369     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap04t003 += -lpthread
1370     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap03t001 += -lpthread
1371     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap12t001 += -lpthread
1372     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap06t001 += -lpthread
1373     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap01t001 += -lpthread
1374     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap09t001 += -lpthread
1375     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap07t001 += -lpthread
1376     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap07t002 += -lpthread
1377     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libthreadstart001 += -lpthread
1378     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libthreadstart003 += -lpthread
1379     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libthreadstart002 += -lpthread
1380     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_librawmonenter002 += -lpthread
1381     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_librawmonenter003 += -lpthread
1382     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_librawmonenter004 += -lpthread
1383     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_librawmonenter001 += -lpthread
1384     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libdealloc001 += -lpthread

1385     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libisfldsin003 += -lpthread
1386     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libisfldsin002 += -lpthread
1387     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libthrgrpinfo001 += -lpthread
1388     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libthrgrpinfo002 += -lpthread
1389     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libAbort += -lpthread
1390     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libCallbacks += -lpthread
1391     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libNonConcreteKlassFilter += -lpthread
1392     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libConcreteKlassFilter += -lpthread
1393     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libHeapFilter += -lpthread
1394     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libmcontenter001 += -lpthread
1395     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libclrbrk001 += -lpthread
1396     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libclrbrk002 += -lpthread
1397     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libclrbrk005 += -lpthread
1398     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libtopthrgrp002 += -lpthread
1399     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libtopthrgrp001 += -lpthread
1400     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libisarray004 += -lpthread
1401     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libisarray005 += -lpthread
1402     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libbytecodes003 += -lpthread
1403     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libbytecodes002 += -lpthread
1404     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libbytecodes001 += -lpthread
</pre>
</td>
<td>
<hr />
<pre>
   1 #
<span class="line-modified">   2 # Copyright (c) 2015, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   3 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4 #
   5 # This code is free software; you can redistribute it and/or modify it
   6 # under the terms of the GNU General Public License version 2 only, as
   7 # published by the Free Software Foundation.  Oracle designates this
   8 # particular file as subject to the &quot;Classpath&quot; exception as provided
   9 # by Oracle in the LICENSE file that accompanied this code.
  10 #
  11 # This code is distributed in the hope that it will be useful, but WITHOUT
  12 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14 # version 2 for more details (a copy is included in the LICENSE file that
  15 # accompanied this code).
  16 #
  17 # You should have received a copy of the GNU General Public License version
  18 # 2 along with this work; if not, write to the Free Software Foundation,
  19 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20 #
  21 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22 # or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 719 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgetstacktr002 := $(NSK_JVMTI_AGENT_INCLUDES)
 720 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgetstacktr005 := $(NSK_JVMTI_AGENT_INCLUDES)
 721 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgetstacktr004 := $(NSK_JVMTI_AGENT_INCLUDES)
 722 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgetstacktr003 := $(NSK_JVMTI_AGENT_INCLUDES)
 723 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_liblocaltab001 := $(NSK_JVMTI_AGENT_INCLUDES)
 724 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_liblocaltab004 := $(NSK_JVMTI_AGENT_INCLUDES)
 725 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_liblocaltab003 := $(NSK_JVMTI_AGENT_INCLUDES)
 726 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_liblocaltab002 := $(NSK_JVMTI_AGENT_INCLUDES)
 727 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_liblocaltab005 := $(NSK_JVMTI_AGENT_INCLUDES)
 728 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libclassload001 := $(NSK_JVMTI_AGENT_INCLUDES)
 729 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libisintrf004 := $(NSK_JVMTI_AGENT_INCLUDES)
 730 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libisintrf005 := $(NSK_JVMTI_AGENT_INCLUDES)
 731 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libframepop001 := $(NSK_JVMTI_AGENT_INCLUDES)
 732 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libframepop002 := $(NSK_JVMTI_AGENT_INCLUDES)
 733 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgetclsig005 := $(NSK_JVMTI_AGENT_INCLUDES)
 734 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgetclsig004 := $(NSK_JVMTI_AGENT_INCLUDES)
 735 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgetclsig006 := $(NSK_JVMTI_AGENT_INCLUDES)
 736 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libdisposeenv002 := $(NSK_JVMTI_AGENT_INCLUDES)
 737 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libdisposeenv001 := $(NSK_JVMTI_AGENT_INCLUDES)
 738 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libexception001 := $(NSK_JVMTI_AGENT_INCLUDES)
<span class="line-added"> 739 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libexceptionjni001 := $(NSK_JVMTI_AGENT_INCLUDES)</span>
 740 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libresexhausted := $(NSK_JVMTI_AGENT_INCLUDES)
 741 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgcstart001 := $(NSK_JVMTI_AGENT_INCLUDES)
 742 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgcstart002 := $(NSK_JVMTI_AGENT_INCLUDES)
 743 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libiterinstcls005 := $(NSK_JVMTI_AGENT_INCLUDES)
 744 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libiterinstcls002 := $(NSK_JVMTI_AGENT_INCLUDES)
 745 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libiterinstcls003 := $(NSK_JVMTI_AGENT_INCLUDES)
 746 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libiterinstcls004 := $(NSK_JVMTI_AGENT_INCLUDES)
 747 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libiterinstcls001 := $(NSK_JVMTI_AGENT_INCLUDES)
 748 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libiterinstcls006 := $(NSK_JVMTI_AGENT_INCLUDES)
 749 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libiterinstcls007 := $(NSK_JVMTI_AGENT_INCLUDES)
 750 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libmethname002 := $(NSK_JVMTI_AGENT_INCLUDES)
 751 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libmethname003 := $(NSK_JVMTI_AGENT_INCLUDES)
 752 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libmethname001 := $(NSK_JVMTI_AGENT_INCLUDES)
 753 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libforcegc001 := $(NSK_JVMTI_AGENT_INCLUDES)
 754 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libforcegc002 := $(NSK_JVMTI_AGENT_INCLUDES)
 755 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libgettime001 := $(NSK_JVMTI_AGENT_INCLUDES)
 756 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libobjmonusage004 := $(NSK_JVMTI_AGENT_INCLUDES)
 757 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libobjmonusage003 := $(NSK_JVMTI_AGENT_INCLUDES)
 758 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libobjmonusage002 := $(NSK_JVMTI_AGENT_INCLUDES)
 759 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libobjmonusage005 := $(NSK_JVMTI_AGENT_INCLUDES)
</pre>
<hr />
<pre>
 845 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libVirtualMachine07agent01 := $(NSK_AOD_INCLUDES)
 846 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libVirtualMachine07agent02 := $(NSK_AOD_INCLUDES)
 847 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libVirtualMachine07agent03 := $(NSK_AOD_INCLUDES)
 848 BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libVirtualMachine09agent00 := $(NSK_AOD_INCLUDES)
 849 
 850 ################################################################################
 851 
 852 # Platform specific setup
 853 ifeq ($(call And, $(call isTargetOs, solaris) $(call isTargetCpuArch, sparc)), false)
 854   BUILD_HOTSPOT_JTREG_EXCLUDE += liboverflow.c exeThreadSignalMask.c
 855 endif
 856 
 857 ifeq ($(call isTargetOs, linux), true)
 858     BUILD_HOTSPOT_JTREG_LIBRARIES_LDFLAGS_libtest-rw := -z noexecstack
 859     BUILD_HOTSPOT_JTREG_LIBRARIES_LDFLAGS_libtest-rwx := -z execstack
 860     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libstepBreakPopReturn := -lpthread
 861     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libIndyRedefineClass := -lpthread
 862     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libredefineClasses := -lpthread
 863     BUILD_HOTSPOT_JTREG_EXECUTABLES_LIBS_exeinvoke := -ljvm -lpthread
 864     BUILD_HOTSPOT_JTREG_EXECUTABLES_LIBS_exestack-gap := -ljvm -lpthread
<span class="line-added"> 865     BUILD_HOTSPOT_JTREG_EXECUTABLES_LIBS_exestack-tls := -ljvm</span>
 866     BUILD_TEST_exeinvoke_exeinvoke.c_OPTIMIZATION := NONE
 867     BUILD_HOTSPOT_JTREG_EXECUTABLES_LIBS_exeFPRegs := -ldl
<span class="line-added"> 868     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libAsyncGetCallTraceTest := -ldl</span>
 869 
 870     BUILD_HOTSPOT_JTREG_LIBRARIES_CFLAGS_libAbstractNativeLoop := -fsanitize=thread
 871     ifeq ($(TOOLCHAIN_TYPE), gcc)
 872       # Ignore unresolved symbols from TSAN&#39;s runtime.
 873       # The symbols will be available at runtime as TSAN runtime is linked with the launcher.
 874       BUILD_HOTSPOT_JTREG_LIBRARIES_LDFLAGS_libAbstractNativeLoop := -Wl,--unresolved-symbols=ignore-in-object-files
 875     endif
 876 else
 877   BUILD_HOTSPOT_JTREG_EXCLUDE += libtest-rw.c libtest-rwx.c libTestJNI.c \
<span class="line-modified"> 878       exeinvoke.c exestack-gap.c exestack-tls.c libAsyncGetCallTraceTest.cpp</span>
 879 endif
 880 
 881 BUILD_HOTSPOT_JTREG_EXECUTABLES_LIBS_exesigtest := -ljvm
 882 
 883 ifeq ($(call isTargetOs, solaris), true)
 884     BUILD_HOTSPOT_JTREG_EXCLUDE += libterminatedThread.c
 885 endif
 886 
 887 ifeq ($(call isTargetOs, windows), true)
 888     BUILD_HOTSPOT_JTREG_EXECUTABLES_CFLAGS_exeFPRegs := -MT
 889     BUILD_HOTSPOT_JTREG_EXCLUDE += exesigtest.c libterminatedThread.c
<span class="line-added"> 890     BUILD_HOTSPOT_JTREG_EXECUTABLES_LIBS_exejvm-test-launcher := jvm.lib</span>
 891 
 892 else
<span class="line-added"> 893     BUILD_HOTSPOT_JTREG_EXECUTABLES_LIBS_exejvm-test-launcher := -ljvm</span>
 894     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libbootclssearch_agent += -lpthread
 895     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libsystemclssearch_agent += -lpthread
 896     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libgetsysprop001 += -lpthread
 897     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libgetsysprop002 += -lpthread
 898     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libgetlocal001 += -lpthread
 899     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libgetlocal002 += -lpthread
 900     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libGetEnv001 += -lpthread
 901     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libgetvern001 += -lpthread
 902     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libgetfldecl002 += -lpthread
 903     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libgetfldecl004 += -lpthread
 904     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libgetfldecl001 += -lpthread
 905     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libloadedclss001 += -lpthread
 906     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libloadedclss002 += -lpthread
 907     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libextevents001 += -lpthread
 908     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libdatadumpreq001 += -lpthread
 909     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libtimerinfo001 += -lpthread
 910     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libthrstat002 += -lpthread
 911     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libthrstat005 += -lpthread
 912     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libthrstat004 += -lpthread
 913     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libthrstat003 += -lpthread
</pre>
<hr />
<pre>
1370     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap05t001 += -lpthread
1371     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap05t002 += -lpthread
1372     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap04t001 += -lpthread
1373     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap04t002 += -lpthread
1374     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap04t003 += -lpthread
1375     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap03t001 += -lpthread
1376     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap12t001 += -lpthread
1377     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap06t001 += -lpthread
1378     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap01t001 += -lpthread
1379     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap09t001 += -lpthread
1380     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap07t001 += -lpthread
1381     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libap07t002 += -lpthread
1382     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libthreadstart001 += -lpthread
1383     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libthreadstart003 += -lpthread
1384     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libthreadstart002 += -lpthread
1385     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_librawmonenter002 += -lpthread
1386     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_librawmonenter003 += -lpthread
1387     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_librawmonenter004 += -lpthread
1388     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_librawmonenter001 += -lpthread
1389     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libdealloc001 += -lpthread
<span class="line-added">1390     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libexceptionjni001 += -lpthread</span>
1391     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libisfldsin003 += -lpthread
1392     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libisfldsin002 += -lpthread
1393     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libthrgrpinfo001 += -lpthread
1394     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libthrgrpinfo002 += -lpthread
1395     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libAbort += -lpthread
1396     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libCallbacks += -lpthread
1397     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libNonConcreteKlassFilter += -lpthread
1398     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libConcreteKlassFilter += -lpthread
1399     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libHeapFilter += -lpthread
1400     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libmcontenter001 += -lpthread
1401     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libclrbrk001 += -lpthread
1402     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libclrbrk002 += -lpthread
1403     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libclrbrk005 += -lpthread
1404     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libtopthrgrp002 += -lpthread
1405     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libtopthrgrp001 += -lpthread
1406     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libisarray004 += -lpthread
1407     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libisarray005 += -lpthread
1408     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libbytecodes003 += -lpthread
1409     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libbytecodes002 += -lpthread
1410     BUILD_HOTSPOT_JTREG_LIBRARIES_LIBS_libbytecodes001 += -lpthread
</pre>
</td>
</tr>
</table>
<center><a href="JtregGraalUnit.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="JtregNativeJdk.gmk.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>