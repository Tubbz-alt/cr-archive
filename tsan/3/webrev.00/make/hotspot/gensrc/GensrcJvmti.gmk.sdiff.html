<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/hotspot/gensrc/GensrcJvmti.gmk</title>
    <link rel="stylesheet" href="../../../style.css" />
  </head>
<body>
<center><a href="GensrcDtrace.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../../index.html" target="_top">index</a> <a href="../lib/CompileDtraceLibraries.gmk.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/hotspot/gensrc/GensrcJvmti.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 83 
 84 JVMTI_SRCDIR := $(TOPDIR)/src/hotspot/share/prims
 85 JVMTI_OUTPUTDIR := $(JVM_VARIANT_OUTPUTDIR)/gensrc/jvmtifiles
 86 
 87 # Setup rule for generating a jvmti file
 88 #
 89 # $1 is generated source file name in $(JVMTI_OUTPUTDIR)
 90 # $2 is XSL file to use in $(JVMTI_SRCDIR)
 91 # $3 is optional extra arguments to jvmtiGen
 92 define SetupJvmtiGeneration
 93   $$(eval $$(call SetupXslTransform, $1, \
 94       XML_FILE := $$(JVMTI_SRCDIR)/jvmti.xml, \
 95       XSL_FILE := $$(JVMTI_SRCDIR)/$(strip $2), \
 96       OUTPUT_DIR := $$(JVMTI_OUTPUTDIR), \
 97       ARGS := $3, \
 98       DEPS := $$(JVMTI_SRCDIR)/jvmtiLib.xsl, \
 99   ))
100 endef
101 
102 $(eval $(call SetupJvmtiGeneration, jvmtiEnter.cpp, jvmtiEnter.xsl, \

103     -PARAM interface jvmti))
104 $(eval $(call SetupJvmtiGeneration, jvmtiEnterTrace.cpp, jvmtiEnter.xsl, \

105     -PARAM interface jvmti -PARAM trace Trace))
<span class="line-modified">106 $(eval $(call SetupJvmtiGeneration, jvmtiEnv.hpp, jvmtiHpp.xsl))</span>
<span class="line-modified">107 $(eval $(call SetupJvmtiGeneration, jvmti.h, jvmtiH.xsl))</span>
<span class="line-modified">108 $(eval $(call SetupJvmtiGeneration, jvmti.html, jvmti.xsl))</span>



109 
110 JVMTI_BC_SRCDIR := $(TOPDIR)/src/hotspot/share/interpreter
111 
112 $(eval $(call SetupXslTransform, bytecodeInterpreterWithChecks.cpp, \
113     XML_FILE := $(JVMTI_BC_SRCDIR)/bytecodeInterpreterWithChecks.xml, \
114     XSL_FILE := $(JVMTI_BC_SRCDIR)/bytecodeInterpreterWithChecks.xsl, \
115     OUTPUT_DIR := $(JVMTI_OUTPUTDIR), \
116     DEPS := $(JVMTI_BC_SRCDIR)/bytecodeInterpreter.cpp, \
117 ))
118 
119 ################################################################################
120 # Copy jvmti.h to include dir
121 
122 # The file is the same regardless of jvm variant. Only let one do the copy.
123 ifeq ($(JVM_VARIANT), $(firstword $(JVM_VARIANTS)))
124   $(eval $(call SetupCopyFiles, COPY_JVMTI_H, \
125       DEST := $(SUPPORT_OUTPUTDIR)/modules_include/java.base, \
126       FILES := $(JVMTI_OUTPUTDIR)/jvmti.h, \
127   ))
128 
</pre>
</td>
<td>
<hr />
<pre>
 83 
 84 JVMTI_SRCDIR := $(TOPDIR)/src/hotspot/share/prims
 85 JVMTI_OUTPUTDIR := $(JVM_VARIANT_OUTPUTDIR)/gensrc/jvmtifiles
 86 
 87 # Setup rule for generating a jvmti file
 88 #
 89 # $1 is generated source file name in $(JVMTI_OUTPUTDIR)
 90 # $2 is XSL file to use in $(JVMTI_SRCDIR)
 91 # $3 is optional extra arguments to jvmtiGen
 92 define SetupJvmtiGeneration
 93   $$(eval $$(call SetupXslTransform, $1, \
 94       XML_FILE := $$(JVMTI_SRCDIR)/jvmti.xml, \
 95       XSL_FILE := $$(JVMTI_SRCDIR)/$(strip $2), \
 96       OUTPUT_DIR := $$(JVMTI_OUTPUTDIR), \
 97       ARGS := $3, \
 98       DEPS := $$(JVMTI_SRCDIR)/jvmtiLib.xsl, \
 99   ))
100 endef
101 
102 $(eval $(call SetupJvmtiGeneration, jvmtiEnter.cpp, jvmtiEnter.xsl, \
<span class="line-added">103     -PARAM majorversion $(VERSION_FEATURE) \</span>
104     -PARAM interface jvmti))
105 $(eval $(call SetupJvmtiGeneration, jvmtiEnterTrace.cpp, jvmtiEnter.xsl, \
<span class="line-added">106     -PARAM majorversion $(VERSION_FEATURE) \</span>
107     -PARAM interface jvmti -PARAM trace Trace))
<span class="line-modified">108 $(eval $(call SetupJvmtiGeneration, jvmtiEnv.hpp, jvmtiHpp.xsl, \</span>
<span class="line-modified">109     -PARAM majorversion $(VERSION_FEATURE)))</span>
<span class="line-modified">110 $(eval $(call SetupJvmtiGeneration, jvmti.h, jvmtiH.xsl, \</span>
<span class="line-added">111     -PARAM majorversion $(VERSION_FEATURE)))</span>
<span class="line-added">112 $(eval $(call SetupJvmtiGeneration, jvmti.html, jvmti.xsl, \</span>
<span class="line-added">113     -PARAM majorversion $(VERSION_FEATURE)))</span>
114 
115 JVMTI_BC_SRCDIR := $(TOPDIR)/src/hotspot/share/interpreter
116 
117 $(eval $(call SetupXslTransform, bytecodeInterpreterWithChecks.cpp, \
118     XML_FILE := $(JVMTI_BC_SRCDIR)/bytecodeInterpreterWithChecks.xml, \
119     XSL_FILE := $(JVMTI_BC_SRCDIR)/bytecodeInterpreterWithChecks.xsl, \
120     OUTPUT_DIR := $(JVMTI_OUTPUTDIR), \
121     DEPS := $(JVMTI_BC_SRCDIR)/bytecodeInterpreter.cpp, \
122 ))
123 
124 ################################################################################
125 # Copy jvmti.h to include dir
126 
127 # The file is the same regardless of jvm variant. Only let one do the copy.
128 ifeq ($(JVM_VARIANT), $(firstword $(JVM_VARIANTS)))
129   $(eval $(call SetupCopyFiles, COPY_JVMTI_H, \
130       DEST := $(SUPPORT_OUTPUTDIR)/modules_include/java.base, \
131       FILES := $(JVMTI_OUTPUTDIR)/jvmti.h, \
132   ))
133 
</pre>
</td>
</tr>
</table>
<center><a href="GensrcDtrace.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../../index.html" target="_top">index</a> <a href="../lib/CompileDtraceLibraries.gmk.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>