<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/hotspot/lib/JvmOverrideFiles.gmk</title>
    <link rel="stylesheet" href="../../../style.css" />
  </head>
<body>
<center><a href="JvmMapfile.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../../index.html" target="_top">index</a> <a href="../src/classes/build/tools/projectcreator/WinGammaPlatformVC10.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/hotspot/lib/JvmOverrideFiles.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 #
<span class="line-modified">  2 # Copyright (c) 2013, 2018, Oracle and/or its affiliates. All rights reserved.</span>
  3 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4 #
  5 # This code is free software; you can redistribute it and/or modify it
  6 # under the terms of the GNU General Public License version 2 only, as
  7 # published by the Free Software Foundation.  Oracle designates this
  8 # particular file as subject to the &quot;Classpath&quot; exception as provided
  9 # by Oracle in the LICENSE file that accompanied this code.
 10 #
 11 # This code is distributed in the hope that it will be useful, but WITHOUT
 12 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14 # version 2 for more details (a copy is included in the LICENSE file that
 15 # accompanied this code).
 16 #
 17 # You should have received a copy of the GNU General Public License version
 18 # 2 along with this work; if not, write to the Free Software Foundation,
 19 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20 #
 21 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22 # or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 53 
 54 ifeq ($(call isTargetOs, linux), true)
 55   BUILD_LIBJVM_ostream.cpp_CXXFLAGS := -D_FILE_OFFSET_BITS=64
 56   BUILD_LIBJVM_logFileOutput.cpp_CXXFLAGS := -D_FILE_OFFSET_BITS=64
 57 
 58   BUILD_LIBJVM_sharedRuntimeTrig.cpp_CXXFLAGS := -DNO_PCH $(FDLIBM_CFLAGS) $(LIBJVM_FDLIBM_COPY_OPT_FLAG)
 59   BUILD_LIBJVM_sharedRuntimeTrans.cpp_CXXFLAGS := -DNO_PCH $(FDLIBM_CFLAGS) $(LIBJVM_FDLIBM_COPY_OPT_FLAG)
 60 
 61   ifeq ($(TOOLCHAIN_TYPE), clang)
 62     JVM_PRECOMPILED_HEADER_EXCLUDE := \
 63 	sharedRuntimeTrig.cpp \
 64 	sharedRuntimeTrans.cpp \
 65 	#
 66   endif
 67 
 68   ifeq ($(call isTargetCpu, x86), true)
 69     # Performance measurements show that by compiling GC related code, we could
 70     # significantly reduce the GC pause time on 32 bit Linux/Unix platforms by
 71     # compiling without the PIC flag (-fPIC on linux).
 72     # See 6454213 for more details.
<span class="line-modified"> 73     ALL_SRC := $(filter %.cpp, $(call CacheFind, $(TOPDIR)/src/hotspot/share))</span>
 74     NONPIC_FILTER := $(addsuffix %, $(addprefix $(TOPDIR)/src/hotspot/share/, \
 75         memory oops gc))
 76     # Due to what looks like a bug in the old build implementation of this, add a
 77     # couple of more files that were accidentally matched as substrings of GC related
 78     # files.
 79     NONPIC_SRC := $(filter $(NONPIC_FILTER), $(ALL_SRC)) globals.cpp location.cpp
 80     # Declare variables for each source file that needs the pic flag like this:
 81     # BUILD_JVM_&lt;srcfile&gt;_CXXFLAGS := -fno-PIC
 82     # This will get implicitly picked up by SetupNativeCompilation below.
 83     $(foreach s, $(NONPIC_SRC), $(eval BUILD_LIBJVM_$(notdir $s)_CXXFLAGS := -fno-PIC))
 84   endif
 85 
 86 else ifeq ($(call isTargetOs, solaris), true)
 87   ifneq ($(DEBUG_LEVEL), slowdebug)
 88     # dev studio 12.6 workaround
 89     BUILD_LIBJVM_arguments.cpp_OPTIMIZATION := LOW
 90     # Workaround for a bug in dtrace.  If ciEnv::post_compiled_method_load_event()
 91     # is inlined, the resulting dtrace object file needs a reference to this
 92     # function, whose symbol name is too long for dtrace.  So disable inlining
 93     # for this method for now. (fix this when dtrace bug 6258412 is fixed)
</pre>
</td>
<td>
<hr />
<pre>
  1 #
<span class="line-modified">  2 # Copyright (c) 2013, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4 #
  5 # This code is free software; you can redistribute it and/or modify it
  6 # under the terms of the GNU General Public License version 2 only, as
  7 # published by the Free Software Foundation.  Oracle designates this
  8 # particular file as subject to the &quot;Classpath&quot; exception as provided
  9 # by Oracle in the LICENSE file that accompanied this code.
 10 #
 11 # This code is distributed in the hope that it will be useful, but WITHOUT
 12 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14 # version 2 for more details (a copy is included in the LICENSE file that
 15 # accompanied this code).
 16 #
 17 # You should have received a copy of the GNU General Public License version
 18 # 2 along with this work; if not, write to the Free Software Foundation,
 19 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20 #
 21 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22 # or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 53 
 54 ifeq ($(call isTargetOs, linux), true)
 55   BUILD_LIBJVM_ostream.cpp_CXXFLAGS := -D_FILE_OFFSET_BITS=64
 56   BUILD_LIBJVM_logFileOutput.cpp_CXXFLAGS := -D_FILE_OFFSET_BITS=64
 57 
 58   BUILD_LIBJVM_sharedRuntimeTrig.cpp_CXXFLAGS := -DNO_PCH $(FDLIBM_CFLAGS) $(LIBJVM_FDLIBM_COPY_OPT_FLAG)
 59   BUILD_LIBJVM_sharedRuntimeTrans.cpp_CXXFLAGS := -DNO_PCH $(FDLIBM_CFLAGS) $(LIBJVM_FDLIBM_COPY_OPT_FLAG)
 60 
 61   ifeq ($(TOOLCHAIN_TYPE), clang)
 62     JVM_PRECOMPILED_HEADER_EXCLUDE := \
 63 	sharedRuntimeTrig.cpp \
 64 	sharedRuntimeTrans.cpp \
 65 	#
 66   endif
 67 
 68   ifeq ($(call isTargetCpu, x86), true)
 69     # Performance measurements show that by compiling GC related code, we could
 70     # significantly reduce the GC pause time on 32 bit Linux/Unix platforms by
 71     # compiling without the PIC flag (-fPIC on linux).
 72     # See 6454213 for more details.
<span class="line-modified"> 73     ALL_SRC := $(call FindFiles, $(TOPDIR)/src/hotspot/share, *.cpp)</span>
 74     NONPIC_FILTER := $(addsuffix %, $(addprefix $(TOPDIR)/src/hotspot/share/, \
 75         memory oops gc))
 76     # Due to what looks like a bug in the old build implementation of this, add a
 77     # couple of more files that were accidentally matched as substrings of GC related
 78     # files.
 79     NONPIC_SRC := $(filter $(NONPIC_FILTER), $(ALL_SRC)) globals.cpp location.cpp
 80     # Declare variables for each source file that needs the pic flag like this:
 81     # BUILD_JVM_&lt;srcfile&gt;_CXXFLAGS := -fno-PIC
 82     # This will get implicitly picked up by SetupNativeCompilation below.
 83     $(foreach s, $(NONPIC_SRC), $(eval BUILD_LIBJVM_$(notdir $s)_CXXFLAGS := -fno-PIC))
 84   endif
 85 
 86 else ifeq ($(call isTargetOs, solaris), true)
 87   ifneq ($(DEBUG_LEVEL), slowdebug)
 88     # dev studio 12.6 workaround
 89     BUILD_LIBJVM_arguments.cpp_OPTIMIZATION := LOW
 90     # Workaround for a bug in dtrace.  If ciEnv::post_compiled_method_load_event()
 91     # is inlined, the resulting dtrace object file needs a reference to this
 92     # function, whose symbol name is too long for dtrace.  So disable inlining
 93     # for this method for now. (fix this when dtrace bug 6258412 is fixed)
</pre>
</td>
</tr>
</table>
<center><a href="JvmMapfile.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../../index.html" target="_top">index</a> <a href="../src/classes/build/tools/projectcreator/WinGammaPlatformVC10.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>