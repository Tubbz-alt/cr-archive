<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/common/ProcessMarkdown.gmk</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="NativeCompilation.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="RMICompilation.gmk.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/common/ProcessMarkdown.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
<span class="line-modified">  1 # Copyright (c) 2017, 2018, Oracle and/or its affiliates. All rights reserved.</span>
  2 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  3 #
  4 # This code is free software; you can redistribute it and/or modify it
  5 # under the terms of the GNU General Public License version 2 only, as
  6 # published by the Free Software Foundation.  Oracle designates this
  7 # particular file as subject to the &quot;Classpath&quot; exception as provided
  8 # by Oracle in the LICENSE file that accompanied this code.
  9 #
 10 # This code is distributed in the hope that it will be useful, but WITHOUT
 11 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 12 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 13 # version 2 for more details (a copy is included in the LICENSE file that
 14 # accompanied this code).
 15 #
 16 # You should have received a copy of the GNU General Public License version
 17 # 2 along with this work; if not, write to the Free Software Foundation,
 18 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 19 #
 20 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 21 # or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 86 	    $$(PANDOC) $$($1_OPTIONS) -f $$(PANDOC_MARKDOWN_FLAG) \
 87 	    -t $$($1_FORMAT) --standalone \
 88 	    $$($1_$2_CSS_OPTION) $$($1_$2_OPTIONS_FROM_SRC) $$($1_$2_OPTIONS) \
 89 	    &#39;$$($1_$2_PANDOC_INPUT)&#39; -o &#39;$$($1_$2_PANDOC_OUTPUT)&#39;)
 90         ifneq ($$(findstring $$(LOG_LEVEL), debug trace),)
 91 	  TOO_LONG_LINES=`$$(GREP) -E -e &#39;^.{80}.+$$$$&#39; $$&lt;` || true ; \
 92 	  if [ &quot;x$$$$TOO_LONG_LINES&quot; != x ]; then \
 93 	    $$(ECHO) &quot;Warning: Unsuitable markdown in $$&lt;:&quot; ; \
 94 	    $$(ECHO) &quot;The following lines are longer than 80 characters:&quot; ; \
 95 	    $$(GREP) -E -n -e &#39;^.{80}.+$$$$&#39; $$&lt; || true ; \
 96 	  fi
 97         endif
 98 
 99   # If we have no post processing, PANDOC_OUTPUT is set to OUTPUT_FILE. Otherwise
100   # PANDOC_OUTPUT is a temporary file, and we must now create the real OUTPUT_FILE.
101   ifneq ($$($1_POST_PROCESS), )
102     $$($1_$2_OUTPUT_FILE): $$($1_$2_PANDOC_OUTPUT)
103 	$$(call LogInfo, Post-processing markdown file $2)
104 	$$(call MakeDir, $$(SUPPORT_OUTPUTDIR)/markdown $$($1_$2_TARGET_DIR))
105 	$$(call ExecuteWithLog, $$(SUPPORT_OUTPUTDIR)/markdown/$$($1_$2_MARKER)_post, \
<span class="line-modified">106 	    $$($1_POST_PROCESS) &lt; $$($1_$2_PANDOC_OUTPUT) &gt; $$($1_$2_OUTPUT_FILE))</span>
107   endif
108 
109   $1 += $$($1_$2_OUTPUT_FILE)
110 endef
111 
112 ################################################################################
113 # Setup make rules for converting a markdown file to html.
114 #
115 # Parameter 1 is the name of the rule. This name is used as variable prefix,
116 # and the targets generated are listed in a variable by that name.
117 #
118 # Remaining parameters are named arguments. These include:
119 #   DEST     : Destination root dir
120 #   FILES    : List of files to copy with absolute paths, or path relative to SRC.
121 #   SRC      : Source root dir; if given keep input files hierarchy relative to
122 #              SRC in DEST, otherwise flatten structure into DEST.
123 #   FORMAT   : The target format (defaults to html5)
124 #   FILE_EXT : The file extension to replace .md with (defaults to .html)
125 #   OPTIONS  : Additional options to pandoc
126 #   EXTRA_DEPS : Additional dependencies to add to each pandoc call
</pre>
</td>
<td>
<hr />
<pre>
<span class="line-modified">  1 # Copyright (c) 2017, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  2 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  3 #
  4 # This code is free software; you can redistribute it and/or modify it
  5 # under the terms of the GNU General Public License version 2 only, as
  6 # published by the Free Software Foundation.  Oracle designates this
  7 # particular file as subject to the &quot;Classpath&quot; exception as provided
  8 # by Oracle in the LICENSE file that accompanied this code.
  9 #
 10 # This code is distributed in the hope that it will be useful, but WITHOUT
 11 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 12 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 13 # version 2 for more details (a copy is included in the LICENSE file that
 14 # accompanied this code).
 15 #
 16 # You should have received a copy of the GNU General Public License version
 17 # 2 along with this work; if not, write to the Free Software Foundation,
 18 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 19 #
 20 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 21 # or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 86 	    $$(PANDOC) $$($1_OPTIONS) -f $$(PANDOC_MARKDOWN_FLAG) \
 87 	    -t $$($1_FORMAT) --standalone \
 88 	    $$($1_$2_CSS_OPTION) $$($1_$2_OPTIONS_FROM_SRC) $$($1_$2_OPTIONS) \
 89 	    &#39;$$($1_$2_PANDOC_INPUT)&#39; -o &#39;$$($1_$2_PANDOC_OUTPUT)&#39;)
 90         ifneq ($$(findstring $$(LOG_LEVEL), debug trace),)
 91 	  TOO_LONG_LINES=`$$(GREP) -E -e &#39;^.{80}.+$$$$&#39; $$&lt;` || true ; \
 92 	  if [ &quot;x$$$$TOO_LONG_LINES&quot; != x ]; then \
 93 	    $$(ECHO) &quot;Warning: Unsuitable markdown in $$&lt;:&quot; ; \
 94 	    $$(ECHO) &quot;The following lines are longer than 80 characters:&quot; ; \
 95 	    $$(GREP) -E -n -e &#39;^.{80}.+$$$$&#39; $$&lt; || true ; \
 96 	  fi
 97         endif
 98 
 99   # If we have no post processing, PANDOC_OUTPUT is set to OUTPUT_FILE. Otherwise
100   # PANDOC_OUTPUT is a temporary file, and we must now create the real OUTPUT_FILE.
101   ifneq ($$($1_POST_PROCESS), )
102     $$($1_$2_OUTPUT_FILE): $$($1_$2_PANDOC_OUTPUT)
103 	$$(call LogInfo, Post-processing markdown file $2)
104 	$$(call MakeDir, $$(SUPPORT_OUTPUTDIR)/markdown $$($1_$2_TARGET_DIR))
105 	$$(call ExecuteWithLog, $$(SUPPORT_OUTPUTDIR)/markdown/$$($1_$2_MARKER)_post, \
<span class="line-modified">106 	    ( $$($1_POST_PROCESS) &lt; $$($1_$2_PANDOC_OUTPUT) &gt; $$($1_$2_OUTPUT_FILE) ) )</span>
107   endif
108 
109   $1 += $$($1_$2_OUTPUT_FILE)
110 endef
111 
112 ################################################################################
113 # Setup make rules for converting a markdown file to html.
114 #
115 # Parameter 1 is the name of the rule. This name is used as variable prefix,
116 # and the targets generated are listed in a variable by that name.
117 #
118 # Remaining parameters are named arguments. These include:
119 #   DEST     : Destination root dir
120 #   FILES    : List of files to copy with absolute paths, or path relative to SRC.
121 #   SRC      : Source root dir; if given keep input files hierarchy relative to
122 #              SRC in DEST, otherwise flatten structure into DEST.
123 #   FORMAT   : The target format (defaults to html5)
124 #   FILE_EXT : The file extension to replace .md with (defaults to .html)
125 #   OPTIONS  : Additional options to pandoc
126 #   EXTRA_DEPS : Additional dependencies to add to each pandoc call
</pre>
</td>
</tr>
</table>
<center><a href="NativeCompilation.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="RMICompilation.gmk.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>