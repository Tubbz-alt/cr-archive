<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/common/Modules.gmk</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="MakeBase.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="NativeCompilation.gmk.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/common/Modules.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 #
<span class="line-modified">  2 # Copyright (c) 2014, 2018, Oracle and/or its affiliates. All rights reserved.</span>
  3 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4 #
  5 # This code is free software; you can redistribute it and/or modify it
  6 # under the terms of the GNU General Public License version 2 only, as
  7 # published by the Free Software Foundation.  Oracle designates this
  8 # particular file as subject to the &quot;Classpath&quot; exception as provided
  9 # by Oracle in the LICENSE file that accompanied this code.
 10 #
 11 # This code is distributed in the hope that it will be useful, but WITHOUT
 12 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14 # version 2 for more details (a copy is included in the LICENSE file that
 15 # accompanied this code).
 16 #
 17 # You should have received a copy of the GNU General Public License version
 18 # 2 along with this work; if not, write to the Free Software Foundation,
 19 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20 #
 21 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22 # or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 41 UPGRADEABLE_MODULES :=
 42 AGGREGATOR_MODULES :=
 43 DOCS_MODULES :=
 44 
 45 # Hook to include the corresponding custom file, if present.
 46 $(eval $(call IncludeCustomExtension, common/Modules.gmk))
 47 
 48 BOOT_MODULES += \
 49     java.base \
 50     java.datatransfer \
 51     java.desktop \
 52     java.instrument \
 53     java.logging \
 54     java.management \
 55     java.management.rmi \
 56     java.naming \
 57     java.prefs \
 58     java.rmi \
 59     java.security.sasl \
 60     java.xml \

 61     jdk.internal.vm.ci \
 62     jdk.jfr \
 63     jdk.management \
 64     jdk.management.jfr \
 65     jdk.management.agent \
 66     jdk.net \

 67     jdk.sctp \
 68     jdk.unsupported \
 69     #
 70 
 71 # to be deprivileged
 72 BOOT_MODULES += \
 73     jdk.naming.rmi \
 74     #
 75 
 76 # Modules that directly or indirectly requiring upgradeable modules
 77 # should carefully be considered if it should be upgradeable or not.
 78 UPGRADEABLE_MODULES += \
 79     java.compiler \
 80     jdk.aot \
 81     jdk.internal.vm.compiler \
 82     jdk.internal.vm.compiler.management \
 83     #
 84 
 85 
 86 AGGREGATOR_MODULES += \
</pre>
<hr />
<pre>
110     jdk.jsobject \
111     jdk.localedata \
112     jdk.naming.dns \
113     jdk.scripting.nashorn \
114     jdk.security.auth \
115     jdk.security.jgss \
116     jdk.xml.dom \
117     jdk.zipfs \
118     #
119 
120 ifeq ($(call isTargetOs, windows), true)
121   PLATFORM_MODULES += jdk.crypto.mscapi
122 endif
123 
124 ifeq ($(call isTargetOs, solaris), true)
125   PLATFORM_MODULES += jdk.crypto.ucrypto
126 endif
127 
128 JRE_TOOL_MODULES += \
129     jdk.jdwp.agent \
<span class="line-modified">130     jdk.pack \</span>
131     jdk.scripting.nashorn.shell \
132     #
133 
134 ################################################################################
135 
136 # DOCS_MODULES defines the root modules for javadoc generation.
137 # All of their `require transitive` modules directly and indirectly will be included.
138 DOCS_MODULES += \
139     java.se \
140     java.smartcardio \
141     jdk.accessibility \
142     jdk.attach \
143     jdk.charsets \
144     jdk.compiler \
145     jdk.crypto.cryptoki \
146     jdk.crypto.ec \
147     jdk.dynalink \
148     jdk.editpad \
149     jdk.hotspot.agent \
150     jdk.httpserver \

151     jdk.jartool \
152     jdk.javadoc \
153     jdk.jcmd \
154     jdk.jconsole \
155     jdk.jdeps \
156     jdk.jdi \
157     jdk.jdwp.agent \
158     jdk.jfr \
159     jdk.jlink \
160     jdk.jsobject \
161     jdk.jshell \
162     jdk.jstatd \

163     jdk.localedata \
164     jdk.management \
165     jdk.management.agent \
166     jdk.management.jfr \
167     jdk.naming.dns \
168     jdk.naming.rmi \
169     jdk.net \
<span class="line-removed">170     jdk.pack \</span>
171     jdk.rmic \
172     jdk.scripting.nashorn \
173     jdk.sctp \
174     jdk.security.auth \
175     jdk.security.jgss \
176     jdk.xml.dom \
177     jdk.zipfs \
178     #
179 
180 # These modules are included in the interim image which is used to run profiling
181 # before building the real images.
182 INTERIM_IMAGE_MODULES := java.base java.logging
183 
184 LANGTOOLS_MODULES := \
185     java.compiler \
186     jdk.compiler \
187     jdk.javadoc \
188     jdk.jdeps \
189     jdk.jshell \
190     #
191 
192 HOTSPOT_MODULES := \
193     jdk.aot \
194     jdk.hotspot.agent \
195     jdk.internal.vm.ci \
196     jdk.internal.vm.compiler \
197     jdk.internal.vm.compiler.management \
198     #
199 















200 ################################################################################
201 # Some platforms don&#39;t have the serviceability agent
202 
203 ifeq ($(INCLUDE_SA), false)
204   MODULES_FILTER += jdk.hotspot.agent
205 endif
206 
207 ################################################################################
208 # Filter out jvmci specific modules if jvmci is disabled
209 
210 ifeq ($(INCLUDE_JVMCI), false)
211   MODULES_FILTER += jdk.internal.vm.ci
212 endif
213 
214 ################################################################################
215 # Filter out Graal specific modules if Graal is disabled
216 
217 ifeq ($(INCLUDE_GRAAL), false)
218   MODULES_FILTER += jdk.internal.vm.compiler
219   MODULES_FILTER += jdk.internal.vm.compiler.management
220 endif
221 
222 ################################################################################
223 # Filter out aot specific modules if aot is disabled
224 
225 ifeq ($(ENABLE_AOT), false)
226   MODULES_FILTER += jdk.aot
227 endif
228 







229 ################################################################################
230 # Module list macros
231 
232 # Use append so that the custom extension may add to these variables
233 
234 GENERATED_SRC_DIRS += \
235     $(SUPPORT_OUTPUTDIR)/gensrc \
236     #
237 
238 TOP_SRC_DIRS += \
239     $(TOPDIR)/src \
240     #
241 
242 SRC_SUBDIRS += $(OPENJDK_TARGET_OS)/classes
243 ifneq ($(OPENJDK_TARGET_OS), $(OPENJDK_TARGET_OS_TYPE))
244   SRC_SUBDIRS += $(OPENJDK_TARGET_OS_TYPE)/classes
245 endif
246 SRC_SUBDIRS += share/classes
247 
248 SPEC_SUBDIRS += share/specs
</pre>
</td>
<td>
<hr />
<pre>
  1 #
<span class="line-modified">  2 # Copyright (c) 2014, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4 #
  5 # This code is free software; you can redistribute it and/or modify it
  6 # under the terms of the GNU General Public License version 2 only, as
  7 # published by the Free Software Foundation.  Oracle designates this
  8 # particular file as subject to the &quot;Classpath&quot; exception as provided
  9 # by Oracle in the LICENSE file that accompanied this code.
 10 #
 11 # This code is distributed in the hope that it will be useful, but WITHOUT
 12 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14 # version 2 for more details (a copy is included in the LICENSE file that
 15 # accompanied this code).
 16 #
 17 # You should have received a copy of the GNU General Public License version
 18 # 2 along with this work; if not, write to the Free Software Foundation,
 19 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20 #
 21 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22 # or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 41 UPGRADEABLE_MODULES :=
 42 AGGREGATOR_MODULES :=
 43 DOCS_MODULES :=
 44 
 45 # Hook to include the corresponding custom file, if present.
 46 $(eval $(call IncludeCustomExtension, common/Modules.gmk))
 47 
 48 BOOT_MODULES += \
 49     java.base \
 50     java.datatransfer \
 51     java.desktop \
 52     java.instrument \
 53     java.logging \
 54     java.management \
 55     java.management.rmi \
 56     java.naming \
 57     java.prefs \
 58     java.rmi \
 59     java.security.sasl \
 60     java.xml \
<span class="line-added"> 61     jdk.incubator.foreign \</span>
 62     jdk.internal.vm.ci \
 63     jdk.jfr \
 64     jdk.management \
 65     jdk.management.jfr \
 66     jdk.management.agent \
 67     jdk.net \
<span class="line-added"> 68     jdk.nio.mapmode \</span>
 69     jdk.sctp \
 70     jdk.unsupported \
 71     #
 72 
 73 # to be deprivileged
 74 BOOT_MODULES += \
 75     jdk.naming.rmi \
 76     #
 77 
 78 # Modules that directly or indirectly requiring upgradeable modules
 79 # should carefully be considered if it should be upgradeable or not.
 80 UPGRADEABLE_MODULES += \
 81     java.compiler \
 82     jdk.aot \
 83     jdk.internal.vm.compiler \
 84     jdk.internal.vm.compiler.management \
 85     #
 86 
 87 
 88 AGGREGATOR_MODULES += \
</pre>
<hr />
<pre>
112     jdk.jsobject \
113     jdk.localedata \
114     jdk.naming.dns \
115     jdk.scripting.nashorn \
116     jdk.security.auth \
117     jdk.security.jgss \
118     jdk.xml.dom \
119     jdk.zipfs \
120     #
121 
122 ifeq ($(call isTargetOs, windows), true)
123   PLATFORM_MODULES += jdk.crypto.mscapi
124 endif
125 
126 ifeq ($(call isTargetOs, solaris), true)
127   PLATFORM_MODULES += jdk.crypto.ucrypto
128 endif
129 
130 JRE_TOOL_MODULES += \
131     jdk.jdwp.agent \
<span class="line-modified">132     jdk.incubator.jpackage \</span>
133     jdk.scripting.nashorn.shell \
134     #
135 
136 ################################################################################
137 
138 # DOCS_MODULES defines the root modules for javadoc generation.
139 # All of their `require transitive` modules directly and indirectly will be included.
140 DOCS_MODULES += \
141     java.se \
142     java.smartcardio \
143     jdk.accessibility \
144     jdk.attach \
145     jdk.charsets \
146     jdk.compiler \
147     jdk.crypto.cryptoki \
148     jdk.crypto.ec \
149     jdk.dynalink \
150     jdk.editpad \
151     jdk.hotspot.agent \
152     jdk.httpserver \
<span class="line-added">153     jdk.incubator.jpackage \</span>
154     jdk.jartool \
155     jdk.javadoc \
156     jdk.jcmd \
157     jdk.jconsole \
158     jdk.jdeps \
159     jdk.jdi \
160     jdk.jdwp.agent \
161     jdk.jfr \
162     jdk.jlink \
163     jdk.jsobject \
164     jdk.jshell \
165     jdk.jstatd \
<span class="line-added">166     jdk.incubator.foreign \</span>
167     jdk.localedata \
168     jdk.management \
169     jdk.management.agent \
170     jdk.management.jfr \
171     jdk.naming.dns \
172     jdk.naming.rmi \
173     jdk.net \

174     jdk.rmic \
175     jdk.scripting.nashorn \
176     jdk.sctp \
177     jdk.security.auth \
178     jdk.security.jgss \
179     jdk.xml.dom \
180     jdk.zipfs \
181     #
182 
183 # These modules are included in the interim image which is used to run profiling
184 # before building the real images.
185 INTERIM_IMAGE_MODULES := java.base java.logging
186 
187 LANGTOOLS_MODULES := \
188     java.compiler \
189     jdk.compiler \
190     jdk.javadoc \
191     jdk.jdeps \
192     jdk.jshell \
193     #
194 
195 HOTSPOT_MODULES := \
196     jdk.aot \
197     jdk.hotspot.agent \
198     jdk.internal.vm.ci \
199     jdk.internal.vm.compiler \
200     jdk.internal.vm.compiler.management \
201     #
202 
<span class="line-added">203 # The native dynamic libraries in these modules will also get built into static</span>
<span class="line-added">204 # libraries for consumption by downstream projects that need to statically link</span>
<span class="line-added">205 # the JDK libraries. Those static libraries are not part of the main JDK</span>
<span class="line-added">206 # distribution. </span>
<span class="line-added">207 STATIC_LIBS_MODULES := \</span>
<span class="line-added">208     java.base \</span>
<span class="line-added">209     jdk.crypto.ec \</span>
<span class="line-added">210     jdk.security.auth \</span>
<span class="line-added">211     java.prefs \</span>
<span class="line-added">212     java.security.jgss \</span>
<span class="line-added">213     java.smartcardio \</span>
<span class="line-added">214     jdk.crypto.cryptoki \</span>
<span class="line-added">215     jdk.net \</span>
<span class="line-added">216     #</span>
<span class="line-added">217 </span>
218 ################################################################################
219 # Some platforms don&#39;t have the serviceability agent
220 
221 ifeq ($(INCLUDE_SA), false)
222   MODULES_FILTER += jdk.hotspot.agent
223 endif
224 
225 ################################################################################
226 # Filter out jvmci specific modules if jvmci is disabled
227 
228 ifeq ($(INCLUDE_JVMCI), false)
229   MODULES_FILTER += jdk.internal.vm.ci
230 endif
231 
232 ################################################################################
233 # Filter out Graal specific modules if Graal is disabled
234 
235 ifeq ($(INCLUDE_GRAAL), false)
236   MODULES_FILTER += jdk.internal.vm.compiler
237   MODULES_FILTER += jdk.internal.vm.compiler.management
238 endif
239 
240 ################################################################################
241 # Filter out aot specific modules if aot is disabled
242 
243 ifeq ($(ENABLE_AOT), false)
244   MODULES_FILTER += jdk.aot
245 endif
246 
<span class="line-added">247 ################################################################################</span>
<span class="line-added">248 # jpackage is only on windows, macosx, and linux</span>
<span class="line-added">249 </span>
<span class="line-added">250 ifeq ($(call isTargetOs, windows macosx linux), false)</span>
<span class="line-added">251   MODULES_FILTER += jdk.incubator.jpackage</span>
<span class="line-added">252 endif</span>
<span class="line-added">253 </span>
254 ################################################################################
255 # Module list macros
256 
257 # Use append so that the custom extension may add to these variables
258 
259 GENERATED_SRC_DIRS += \
260     $(SUPPORT_OUTPUTDIR)/gensrc \
261     #
262 
263 TOP_SRC_DIRS += \
264     $(TOPDIR)/src \
265     #
266 
267 SRC_SUBDIRS += $(OPENJDK_TARGET_OS)/classes
268 ifneq ($(OPENJDK_TARGET_OS), $(OPENJDK_TARGET_OS_TYPE))
269   SRC_SUBDIRS += $(OPENJDK_TARGET_OS_TYPE)/classes
270 endif
271 SRC_SUBDIRS += share/classes
272 
273 SPEC_SUBDIRS += share/specs
</pre>
</td>
</tr>
</table>
<center><a href="MakeBase.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="NativeCompilation.gmk.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>