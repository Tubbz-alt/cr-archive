<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/autoconf/configure</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="compare.sh.in.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="configure.ac.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/autoconf/configure</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 26   echo &quot;ERROR: Calling this wrapper script directly is not supported.&quot;
 27   echo &quot;Use the &#39;configure&#39; script in the top-level directory instead.&quot;
 28   exit 1
 29 fi
 30 
 31 # The next argument is the absolute top-level directory path.
 32 # The TOPDIR variable is passed on to configure.ac.
 33 TOPDIR=&quot;$2&quot;
 34 # Remove these two arguments to get to the user supplied arguments
 35 shift
 36 shift
 37 
 38 if test &quot;x$BASH&quot; = x; then
 39   echo &quot;Error: This script must be run using bash.&quot; 1&gt;&amp;2
 40   exit 1
 41 fi
 42 # Force autoconf to use bash. This also means we must disable autoconf re-exec.
 43 export CONFIG_SHELL=$BASH
 44 export _as_can_reexec=no
 45 



 46 if test &quot;x$CUSTOM_CONFIG_DIR&quot; != x; then
 47   custom_hook=$CUSTOM_CONFIG_DIR/custom-hook.m4
 48   if test ! -e $custom_hook; then
 49     echo &quot;CUSTOM_CONFIG_DIR not pointing to a proper custom config dir.&quot;
 50     echo &quot;Error: Cannot continue&quot; 1&gt;&amp;2
 51     exit 1
 52   fi
 53 fi
 54 
 55 CURRENT_DIR=`pwd`
 56 if test &quot;x$CURRENT_DIR&quot; = &quot;x$TOPDIR&quot;; then
 57   # We are running configure from the src root.
 58   # Create &#39;.configure-support&#39; under $TOPDIR/build
 59   build_support_dir=&quot;$TOPDIR/build/.configure-support&quot;
 60 elif test &quot;x$CURRENT_DIR&quot; = &quot;x$CUSTOM_ROOT&quot;; then
 61   # We are running configure from the custom root.
 62   # Create &#39;.configure-support&#39; under $CUSTOM_ROOT/build
 63   build_support_dir=&quot;$CUSTOM_ROOT/build/.configure-support&quot;
 64 else
 65   # We are running configure from outside of the src dir.
</pre>
</td>
<td>
<hr />
<pre>
 26   echo &quot;ERROR: Calling this wrapper script directly is not supported.&quot;
 27   echo &quot;Use the &#39;configure&#39; script in the top-level directory instead.&quot;
 28   exit 1
 29 fi
 30 
 31 # The next argument is the absolute top-level directory path.
 32 # The TOPDIR variable is passed on to configure.ac.
 33 TOPDIR=&quot;$2&quot;
 34 # Remove these two arguments to get to the user supplied arguments
 35 shift
 36 shift
 37 
 38 if test &quot;x$BASH&quot; = x; then
 39   echo &quot;Error: This script must be run using bash.&quot; 1&gt;&amp;2
 40   exit 1
 41 fi
 42 # Force autoconf to use bash. This also means we must disable autoconf re-exec.
 43 export CONFIG_SHELL=$BASH
 44 export _as_can_reexec=no
 45 
<span class="line-added"> 46 # Make sure all shell commands are executed with the C locale</span>
<span class="line-added"> 47 export LC_ALL=C</span>
<span class="line-added"> 48 </span>
 49 if test &quot;x$CUSTOM_CONFIG_DIR&quot; != x; then
 50   custom_hook=$CUSTOM_CONFIG_DIR/custom-hook.m4
 51   if test ! -e $custom_hook; then
 52     echo &quot;CUSTOM_CONFIG_DIR not pointing to a proper custom config dir.&quot;
 53     echo &quot;Error: Cannot continue&quot; 1&gt;&amp;2
 54     exit 1
 55   fi
 56 fi
 57 
 58 CURRENT_DIR=`pwd`
 59 if test &quot;x$CURRENT_DIR&quot; = &quot;x$TOPDIR&quot;; then
 60   # We are running configure from the src root.
 61   # Create &#39;.configure-support&#39; under $TOPDIR/build
 62   build_support_dir=&quot;$TOPDIR/build/.configure-support&quot;
 63 elif test &quot;x$CURRENT_DIR&quot; = &quot;x$CUSTOM_ROOT&quot;; then
 64   # We are running configure from the custom root.
 65   # Create &#39;.configure-support&#39; under $CUSTOM_ROOT/build
 66   build_support_dir=&quot;$CUSTOM_ROOT/build/.configure-support&quot;
 67 else
 68   # We are running configure from outside of the src dir.
</pre>
</td>
</tr>
</table>
<center><a href="compare.sh.in.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="configure.ac.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>