<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff make/autoconf/lib-bundled.m4</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="jdk-version.m4.cdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="lib-x11.m4.cdiff.html" target="_top">next &gt;</a></center>    <h2>make/autoconf/lib-bundled.m4</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  #
<span class="line-modified">! # Copyright (c) 2011, 2018, Oracle and/or its affiliates. All rights reserved.</span>
  # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  #
  # This code is free software; you can redistribute it and/or modify it
  # under the terms of the GNU General Public License version 2 only, as
  # published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  #
<span class="line-modified">! # Copyright (c) 2011, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  #
  # This code is free software; you can redistribute it and/or modify it
  # under the terms of the GNU General Public License version 2 only, as
  # published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 24,13 ***</span>
  #
  
  ################################################################################
  # Setup bundled libraries.
  #
<span class="line-modified">! # For libjpeg, giflib, libpng, lcms2 and zlib, the source is present in the</span>
<span class="line-modified">! # OpenJDK repository. Default is to use these libraries as bundled, but they</span>
<span class="line-modified">! # might be replaced by en external version by the user.</span>
  ################################################################################
  AC_DEFUN_ONCE([LIB_SETUP_BUNDLED_LIBS],
  [
    LIB_SETUP_LIBJPEG
    LIB_SETUP_GIFLIB
<span class="line-new-header">--- 24,16 ---</span>
  #
  
  ################################################################################
  # Setup bundled libraries.
  #
<span class="line-modified">! # For libjpeg, giflib, libpng, lcms2 and zlib the source is present in the</span>
<span class="line-modified">! # OpenJDK repository (referred to as &quot;bundled&quot;). Default is to use libjpeg,</span>
<span class="line-modified">! # giflib, libpng and lcms2 libraries as &quot;bundled&quot;. The default for zlib is</span>
<span class="line-added">+ # to use the bundled zlib on Windows and AIX, otherwise the external (&quot;system&quot;)</span>
<span class="line-added">+ # zlib, if present. However the libs may be replaced by an external (&quot;system&quot;)</span>
<span class="line-added">+ # version by the user.</span>
  ################################################################################
  AC_DEFUN_ONCE([LIB_SETUP_BUNDLED_LIBS],
  [
    LIB_SETUP_LIBJPEG
    LIB_SETUP_GIFLIB
</pre>
<hr />
<pre>
<span class="line-old-header">*** 159,12 ***</span>
        [ ZLIB_FOUND=no ])
  
    AC_MSG_CHECKING([for which zlib to use])
  
    DEFAULT_ZLIB=system
<span class="line-modified">!   if test &quot;x$OPENJDK_TARGET_OS&quot; = xwindows; then</span>
<span class="line-modified">!     # On windows default is bundled...on others default is system</span>
      DEFAULT_ZLIB=bundled
    fi
  
    if test &quot;x${ZLIB_FOUND}&quot; != &quot;xyes&quot;; then
      # If we don&#39;t find any system...set default to bundled
<span class="line-new-header">--- 162,12 ---</span>
        [ ZLIB_FOUND=no ])
  
    AC_MSG_CHECKING([for which zlib to use])
  
    DEFAULT_ZLIB=system
<span class="line-modified">!   if test &quot;x$OPENJDK_TARGET_OS&quot; = xwindows -o &quot;x$OPENJDK_TARGET_OS&quot; = xaix; then</span>
<span class="line-modified">!     # On windows and aix default is bundled, on others default is system</span>
      DEFAULT_ZLIB=bundled
    fi
  
    if test &quot;x${ZLIB_FOUND}&quot; != &quot;xyes&quot;; then
      # If we don&#39;t find any system...set default to bundled
</pre>
<center><a href="jdk-version.m4.cdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="lib-x11.m4.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>