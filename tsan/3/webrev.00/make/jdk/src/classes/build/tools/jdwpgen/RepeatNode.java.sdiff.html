<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/jdk/src/classes/build/tools/jdwpgen/RepeatNode.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="Node.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="RootNode.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/jdk/src/classes/build/tools/jdwpgen/RepeatNode.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 27 
 28 import java.util.*;
 29 import java.io.*;
 30 
 31 class RepeatNode extends AbstractTypeNode {
 32 
 33     Node member = null;
 34 
 35     void constrain(Context ctx) {
 36         super.constrain(ctx);
 37         if (components.size() != 1) {
 38             error(&quot;Repeat must have exactly one member, use Group for more&quot;);
 39         }
 40         member = components.get(0);
 41         if (!(member instanceof TypeNode)) {
 42             error(&quot;Repeat member must be type specifier&quot;);
 43         }
 44     }
 45 
 46     void document(PrintWriter writer) {
<span class="line-modified"> 47         docRowStart(writer);</span>
<span class="line-modified"> 48         writer.println(&quot;&lt;td colspan=&quot; +</span>
<span class="line-modified"> 49                        (maxStructIndent - structIndent) + &quot;&gt;&quot;);</span>
<span class="line-modified"> 50         writer.println(&quot;int&lt;td&gt;&lt;i&gt;&quot; + name + &quot;&lt;/i&gt;&lt;td&gt;&quot; +</span>
<span class="line-modified"> 51                        comment() + &quot;&amp;nbsp;&quot;);</span>
<span class="line-modified"> 52         docRowStart(writer);</span>
<span class="line-modified"> 53         writer.println(&quot;&lt;td colspan=&quot; +</span>
<span class="line-modified"> 54                        (maxStructIndent - structIndent + 2) + &quot;&gt;&quot;);</span>
<span class="line-modified"> 55         writer.println(&quot;Repeated &lt;i&gt;&quot; + name + &quot;&lt;/i&gt; times:&quot;);</span>


 56         ++structIndent;
 57         member.document(writer);
 58         --structIndent;
 59     }
 60 
 61     String docType() {
 62         return &quot;-BOGUS-&quot;; // should never call this
 63     }
 64 
 65     String javaType() {
 66         return member.javaType() + &quot;[]&quot;;
 67     }
 68 
 69     public void genJavaWrite(PrintWriter writer, int depth,
 70                              String writeLabel) {
 71         genJavaDebugWrite(writer, depth, writeLabel, &quot;\&quot;\&quot;&quot;);
 72         indent(writer, depth);
 73         writer.println(&quot;ps.writeInt(&quot; + writeLabel + &quot;.length);&quot;);
 74         indent(writer, depth);
 75         writer.println(&quot;for (int i = 0; i &lt; &quot; + writeLabel + &quot;.length; i++) {;&quot;);
</pre>
</td>
<td>
<hr />
<pre>
 27 
 28 import java.util.*;
 29 import java.io.*;
 30 
 31 class RepeatNode extends AbstractTypeNode {
 32 
 33     Node member = null;
 34 
 35     void constrain(Context ctx) {
 36         super.constrain(ctx);
 37         if (components.size() != 1) {
 38             error(&quot;Repeat must have exactly one member, use Group for more&quot;);
 39         }
 40         member = components.get(0);
 41         if (!(member instanceof TypeNode)) {
 42             error(&quot;Repeat member must be type specifier&quot;);
 43         }
 44     }
 45 
 46     void document(PrintWriter writer) {
<span class="line-modified"> 47         writer.println(&quot;&lt;tr&gt;&quot;);</span>
<span class="line-modified"> 48         writer.println(&quot;&lt;td&gt;&quot; + indentElement(structIndent, &quot;int&quot;));</span>
<span class="line-modified"> 49         writer.println(&quot;&lt;th scope=\&quot;row\&quot;&gt;&lt;i&gt;&quot; + name() + &quot;&lt;/i&gt;&quot;);</span>
<span class="line-modified"> 50         writer.println(&quot;&lt;td&gt;&quot; + comment() + &quot;&amp;nbsp;&quot;);</span>
<span class="line-modified"> 51         writer.println(&quot;&lt;/tr&gt;&quot;);</span>
<span class="line-modified"> 52 </span>
<span class="line-modified"> 53         writer.println(&quot;&lt;tr&gt;&quot;);</span>
<span class="line-modified"> 54         writer.println(&quot;&lt;th colspan=\&quot;3\&quot; scope=\&quot;rowgroup\&quot;&gt;&quot;</span>
<span class="line-modified"> 55                 + indentElement(structIndent, &quot;Repeated &lt;i&gt;&quot; + name() + &quot;&lt;/i&gt; times:&quot;));</span>
<span class="line-added"> 56         writer.println(&quot;&lt;/tr&gt;&quot;);</span>
<span class="line-added"> 57 </span>
 58         ++structIndent;
 59         member.document(writer);
 60         --structIndent;
 61     }
 62 
 63     String docType() {
 64         return &quot;-BOGUS-&quot;; // should never call this
 65     }
 66 
 67     String javaType() {
 68         return member.javaType() + &quot;[]&quot;;
 69     }
 70 
 71     public void genJavaWrite(PrintWriter writer, int depth,
 72                              String writeLabel) {
 73         genJavaDebugWrite(writer, depth, writeLabel, &quot;\&quot;\&quot;&quot;);
 74         indent(writer, depth);
 75         writer.println(&quot;ps.writeInt(&quot; + writeLabel + &quot;.length);&quot;);
 76         indent(writer, depth);
 77         writer.println(&quot;for (int i = 0; i &lt; &quot; + writeLabel + &quot;.length; i++) {;&quot;);
</pre>
</td>
</tr>
</table>
<center><a href="Node.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="RootNode.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>