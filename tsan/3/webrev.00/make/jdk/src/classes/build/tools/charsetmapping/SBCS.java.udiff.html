<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff make/jdk/src/classes/build/tools/charsetmapping/SBCS.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../idea/template/vcs.xml.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../classlist/HelloClasslist.java.udiff.html" target="_top">next &gt;</a></center>    <h2>make/jdk/src/classes/build/tools/charsetmapping/SBCS.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 2008, 2015, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 2008, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -44,10 +44,11 @@</span>
          String clzName = cs.clzName;
          String csName  = cs.csName;
          String hisName = cs.hisName;
          String pkgName = cs.pkgName;
          boolean isASCII = cs.isASCII;
<span class="udiff-line-added">+         boolean isLatin1Decodable = true;</span>
  
          StringBuilder b2cSB = new StringBuilder();
          StringBuilder b2cNRSB = new StringBuilder();
          StringBuilder c2bNRSB = new StringBuilder();
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -67,10 +68,13 @@</span>
              sb[e.bs] = (char)e.cp;
              if (c2bIndex[e.cp&gt;&gt;8] == UNMAPPABLE_DECODING) {
                  c2bOff += 0x100;
                  c2bIndex[e.cp&gt;&gt;8] = 1;
              }
<span class="udiff-line-added">+             if (e.cp &gt; 0xFF) {</span>
<span class="udiff-line-added">+                 isLatin1Decodable = false;</span>
<span class="udiff-line-added">+             }</span>
          }
  
          Formatter fm = new Formatter(b2cSB);
          fm.format(&quot;%n&quot;);
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -176,10 +180,13 @@</span>
                      line = &quot;        return (cs instanceof &quot; + clzName + &quot;);&quot;;
              }
              if (line.indexOf(&quot;$ASCIICOMPATIBLE$&quot;) != -1) {
                  line = line.replace(&quot;$ASCIICOMPATIBLE$&quot;, isASCII ? &quot;true&quot; : &quot;false&quot;);
              }
<span class="udiff-line-added">+             if (line.indexOf(&quot;$LATIN1DECODABLE$&quot;) != -1) {</span>
<span class="udiff-line-added">+                 line = line.replace(&quot;$LATIN1DECODABLE$&quot;, isLatin1Decodable ? &quot;true&quot; : &quot;false&quot;);</span>
<span class="udiff-line-added">+             }</span>
              if (line.indexOf(&quot;$B2CTABLE$&quot;) != -1) {
                  line = line.replace(&quot;$B2CTABLE$&quot;, b2c);
              }
              if (line.indexOf(&quot;$C2BLENGTH$&quot;) != -1) {
                  line = line.replace(&quot;$C2BLENGTH$&quot;, &quot;0x&quot; + Integer.toString(c2bOff, 16));
</pre>
<center><a href="../../../../../../idea/template/vcs.xml.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../classlist/HelloClasslist.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>