<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff make/CompileJavaModules.gmk</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center><a href="CompileInterimLangtools.gmk.cdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="CompileToolsJdk.gmk.cdiff.html" target="_top">next &gt;</a></center>    <h2>make/CompileJavaModules.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  #
<span class="line-modified">! # Copyright (c) 2014, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  #
  # This code is free software; you can redistribute it and/or modify it
  # under the terms of the GNU General Public License version 2 only, as
  # published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  #
<span class="line-modified">! # Copyright (c) 2014, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  #
  # This code is free software; you can redistribute it and/or modify it
  # under the terms of the GNU General Public License version 2 only, as
  # published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 37,11 ***</span>
  
  ################################################################################
  # Module specific build settings
  
  java.base_ADD_JAVAC_FLAGS += -Xdoclint:all/protected,-reference,-accessibility &#39;-Xdoclint/package:java.*,javax.*&#39; -XDstringConcat=inline
<span class="line-modified">! java.base_COPY += .icu .dat .spp content-types.properties hijrah-config-islamic-umalqura.properties</span>
  java.base_CLEAN += intrinsic.properties
  
  java.base_EXCLUDE_FILES += \
    $(TOPDIR)/src/java.base/share/classes/jdk/internal/module/ModuleLoaderMap.java
  
<span class="line-new-header">--- 37,11 ---</span>
  
  ################################################################################
  # Module specific build settings
  
  java.base_ADD_JAVAC_FLAGS += -Xdoclint:all/protected,-reference,-accessibility &#39;-Xdoclint/package:java.*,javax.*&#39; -XDstringConcat=inline
<span class="line-modified">! java.base_COPY += .icu .dat .spp .nrm content-types.properties hijrah-config-Hijrah-umalqura_islamic-umalqura.properties</span>
  java.base_CLEAN += intrinsic.properties
  
  java.base_EXCLUDE_FILES += \
    $(TOPDIR)/src/java.base/share/classes/jdk/internal/module/ModuleLoaderMap.java
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 68,20 ***</span>
        #
  endif
  
  ################################################################################
  
<span class="line-modified">! java.compiler_ADD_JAVAC_FLAGS += -Xdoclint:all/protected,-accessibility &#39;-Xdoclint/package:java.*,javax.*&#39;</span>
  
  ################################################################################
  
  java.datatransfer_ADD_JAVAC_FLAGS += -Xdoclint:all/protected,-reference &#39;-Xdoclint/package:java.*,javax.*&#39;
  java.datatransfer_COPY += flavormap.properties
  
  ################################################################################
  
<span class="line-modified">! java.desktop_ADD_JAVAC_FLAGS += -Xdoclint:all/protected,-reference,-accessibility \</span>
      &#39;-Xdoclint/package:java.*,javax.*&#39; -Xlint:exports \
      --doclint-format html4
  java.desktop_COPY += .gif .png .wav .txt .xml .css .pf
  java.desktop_CLEAN += iio-plugin.properties cursors.properties
  
<span class="line-new-header">--- 68,20 ---</span>
        #
  endif
  
  ################################################################################
  
<span class="line-modified">! java.compiler_ADD_JAVAC_FLAGS += -Xdoclint:all/protected &#39;-Xdoclint/package:java.*,javax.*&#39;</span>
  
  ################################################################################
  
  java.datatransfer_ADD_JAVAC_FLAGS += -Xdoclint:all/protected,-reference &#39;-Xdoclint/package:java.*,javax.*&#39;
  java.datatransfer_COPY += flavormap.properties
  
  ################################################################################
  
<span class="line-modified">! java.desktop_ADD_JAVAC_FLAGS += -Xdoclint:all/protected,-reference \</span>
      &#39;-Xdoclint/package:java.*,javax.*&#39; -Xlint:exports \
      --doclint-format html4
  java.desktop_COPY += .gif .png .wav .txt .xml .css .pf
  java.desktop_CLEAN += iio-plugin.properties cursors.properties
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 378,10 ***</span>
<span class="line-new-header">--- 378,17 ---</span>
    jdk.sctp_EXCLUDE_FILES += $(SCTP_IMPL_CLASSES)
  endif
  
  ################################################################################
  
<span class="line-added">+ jdk.incubator.jpackage_COPY += .gif .png .txt .spec .script .prerm .preinst .postrm .postinst .list .sh \</span>
<span class="line-added">+     .desktop .copyright .control .plist .template .icns .scpt .entitlements .wxs .wxl .wxi .ico .bmp .tiff</span>
<span class="line-added">+ </span>
<span class="line-added">+ jdk.incubator.jpackage_CLEAN += .properties</span>
<span class="line-added">+ </span>
<span class="line-added">+ ################################################################################</span>
<span class="line-added">+ </span>
  jdk.jconsole_COPY += .gif .png
  
  jdk.jconsole_CLEAN_FILES += $(wildcard \
      $(TOPDIR)/src/jdk.jconsole/share/classes/sun/tools/jconsole/resources/*.properties)
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 458,10 ***</span>
<span class="line-new-header">--- 465,11 ---</span>
      org.graalvm.compiler.core.jdk9.test \
      org.graalvm.compiler.core.match.processor \
      org.graalvm.compiler.core.test \
      org.graalvm.compiler.debug.test \
      org.graalvm.compiler.graph.test \
<span class="line-added">+     org.graalvm.compiler.hotspot.aarch64.test \</span>
      org.graalvm.compiler.hotspot.amd64.test \
      org.graalvm.compiler.hotspot.jdk9.test \
      org.graalvm.compiler.hotspot.lir.test \
      org.graalvm.compiler.hotspot.sparc.test \
      org.graalvm.compiler.hotspot.test \
</pre>
<hr />
<pre>
<span class="line-old-header">*** 651,11 ***</span>
  # If this is an imported module, copy the pre built classes and resources into
  # the modules output dir
  
  ifneq ($(wildcard $(IMPORT_MODULE_DIR)), )
    $(JDK_OUTPUTDIR)/modules/$(MODULE)/_imported.marker: \
<span class="line-modified">!       $(call CacheFind, $(IMPORT_MODULE_DIR))</span>
  	$(call MakeDir, $(@D))
          # Do not delete marker and build meta data files
  	$(RM) -r $(filter-out $(@D)/_%, $(wildcard $(@D)/*))
  	$(CP) -R $(IMPORT_MODULE_DIR)/* $(@D)/
  	$(TOUCH) $@
<span class="line-new-header">--- 659,11 ---</span>
  # If this is an imported module, copy the pre built classes and resources into
  # the modules output dir
  
  ifneq ($(wildcard $(IMPORT_MODULE_DIR)), )
    $(JDK_OUTPUTDIR)/modules/$(MODULE)/_imported.marker: \
<span class="line-modified">!       $(call FindFiles, $(IMPORT_MODULE_DIR))</span>
  	$(call MakeDir, $(@D))
          # Do not delete marker and build meta data files
  	$(RM) -r $(filter-out $(@D)/_%, $(wildcard $(@D)/*))
  	$(CP) -R $(IMPORT_MODULE_DIR)/* $(@D)/
  	$(TOUCH) $@
</pre>
<center><a href="CompileInterimLangtools.gmk.cdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="CompileToolsJdk.gmk.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>