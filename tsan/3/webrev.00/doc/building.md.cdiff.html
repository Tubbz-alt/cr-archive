<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff doc/building.md</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center><a href="building.html.cdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="testing.html.cdiff.html" target="_top">next &gt;</a></center>    <h2>doc/building.md</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 118,10 ***</span>
<span class="line-new-header">--- 118,12 ---</span>
  
  At a minimum, a machine with 4 cores is advisable, as well as 4 GB of RAM. (The
  more cores to use, the more memory you need.) At least 8 GB of free disk space
  is required.
  
<span class="line-added">+ Note: The sparc port is deprecated.</span>
<span class="line-added">+ </span>
  ### Building on aarch64
  
  At a minimum, a machine with 8 cores is advisable, as well as 8 GB of RAM.
  (The more cores to use, the more memory you need.) At least 6 GB of free disk
  space is required.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 148,18 ***</span>
  information is always subject to change, but this table is up to date at the
  time of writing.
  
   Operating system   Vendor/version used
   -----------------  -------------------------------------------------------
<span class="line-modified">!  Linux              Oracle Enterprise Linux 6.4 / 7.1 (using kernel 3.8.13)</span>
<span class="line-modified">!  Solaris            Solaris 11.1 SRU 21.4.1 / 11.2 SRU 5.5</span>
<span class="line-modified">!  macOS              Mac OS X 10.9 (Mavericks) / 10.10 (Yosemite)</span>
   Windows            Windows Server 2012 R2
  
<span class="line-modified">! The double version numbers for Linux, Solaris and macOS is due to the hybrid</span>
<span class="line-modified">! model used at Oracle, where header files and external libraries from an older</span>
<span class="line-modified">! version are used when building on a more modern version of the OS.</span>
  
  The Build Group has a wiki page with [Supported Build Platforms](
  https://wiki.openjdk.java.net/display/Build/Supported+Build+Platforms). From
  time to time, this is updated by contributors to list successes or failures of
  building on different platforms.
<span class="line-new-header">--- 150,18 ---</span>
  information is always subject to change, but this table is up to date at the
  time of writing.
  
   Operating system   Vendor/version used
   -----------------  -------------------------------------------------------
<span class="line-modified">!  Linux              Oracle Enterprise Linux 6.4 / 7.6</span>
<span class="line-modified">!  Solaris            Solaris 11.3 SRU 20</span>
<span class="line-modified">!  macOS              Mac OS X 10.13 (High Sierra)</span>
   Windows            Windows Server 2012 R2
  
<span class="line-modified">! The double version numbers for Linux and Solaris are due to the hybrid model</span>
<span class="line-modified">! used at Oracle, where header files and external libraries from an older version</span>
<span class="line-modified">! are used when building on a more modern version of the OS.</span>
  
  The Build Group has a wiki page with [Supported Build Platforms](
  https://wiki.openjdk.java.net/display/Build/Supported+Build+Platforms). From
  time to time, this is updated by contributors to list successes or failures of
  building on different platforms.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 256,10 ***</span>
<span class="line-new-header">--- 258,12 ---</span>
  version 2.21.1 is needed, which is provided by Solaris 11 Update 1. Objcopy is
  needed if you want to have external debug symbols. Please make sure you are
  using at least version 2.21.1 of objcopy, or that you disable external debug
  symbols.
  
<span class="line-added">+ Note: The Solaris port is deprecated.</span>
<span class="line-added">+ </span>
  ### macOS
  
  Apple is using a quite aggressive scheme of pushing OS updates, and coupling
  these updates with required updates of Xcode. Unfortunately, this makes it
  difficult for a project such as the JDK to keep pace with a continuously updated
</pre>
<hr />
<pre>
<span class="line-old-header">*** 321,21 ***</span>
  you stay to this list, the more likely you are to compile successfully without
  issues.
  
   Operating system   Toolchain version
   ------------------ -------------------------------------------------------
<span class="line-modified">!  Linux              gcc 7.3.0</span>
<span class="line-modified">!  macOS              Apple Xcode 9.4 (using clang 9.1.0)</span>
<span class="line-modified">!  Solaris            Oracle Solaris Studio 12.4 (with compiler version 5.13)</span>
<span class="line-modified">!  Windows            Microsoft Visual Studio 2017 update 15.5.5</span>
  
  ### gcc
  
<span class="line-modified">! The minimum accepted version of gcc is 4.8. Older versions will generate a warning</span>
  by `configure` and are unlikely to work.
  
<span class="line-modified">! The JDK is currently known to be able to compile with at least version 7.4 of</span>
  gcc.
  
  In general, any version between these two should be usable.
  
  ### clang
<span class="line-new-header">--- 325,26 ---</span>
  you stay to this list, the more likely you are to compile successfully without
  issues.
  
   Operating system   Toolchain version
   ------------------ -------------------------------------------------------
<span class="line-modified">!  Linux              gcc 8.3.0</span>
<span class="line-modified">!  macOS              Apple Xcode 10.1 (using clang 10.0.0)</span>
<span class="line-modified">!  Solaris            Oracle Solaris Studio 12.6 (with compiler version 5.15)</span>
<span class="line-modified">!  Windows            Microsoft Visual Studio 2017 update 15.9.16</span>
<span class="line-added">+ </span>
<span class="line-added">+ All compilers are expected to be able to compile to the C99 language standard,</span>
<span class="line-added">+ as some C99 features are used in the source code. Microsoft Visual Studio</span>
<span class="line-added">+ doesn&#39;t fully support C99 so in practice shared code is limited to using C99</span>
<span class="line-added">+ features that it does support.</span>
  
  ### gcc
  
<span class="line-modified">! The minimum accepted version of gcc is 5.0. Older versions will generate a warning</span>
  by `configure` and are unlikely to work.
  
<span class="line-modified">! The JDK is currently known to be able to compile with at least version 8.3 of</span>
  gcc.
  
  In general, any version between these two should be usable.
  
  ### clang
</pre>
<hr />
<pre>
<span class="line-old-header">*** 402,11 ***</span>
  
  ### Microsoft Visual Studio
  
  The minimum accepted version of Visual Studio is 2010. Older versions will not
  be accepted by `configure`. The maximum accepted version of Visual Studio is
<span class="line-modified">! 2017. Versions older than 2017 are unlikely to continue working for long.</span>
  
  If you have multiple versions of Visual Studio installed, `configure` will by
  default pick the latest. You can request a specific version to be used by
  setting `--with-toolchain-version`, e.g. `--with-toolchain-version=2015`.
  
<span class="line-new-header">--- 411,11 ---</span>
  
  ### Microsoft Visual Studio
  
  The minimum accepted version of Visual Studio is 2010. Older versions will not
  be accepted by `configure`. The maximum accepted version of Visual Studio is
<span class="line-modified">! 2019. Versions older than 2017 are unlikely to continue working for long.</span>
  
  If you have multiple versions of Visual Studio installed, `configure` will by
  default pick the latest. You can request a specific version to be used by
  setting `--with-toolchain-version`, e.g. `--with-toolchain-version=2015`.
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 466,22 ***</span>
  
  If a required library is not detected by `configure`, you need to provide the
  path to it. There are two forms of the `configure` arguments to point to an
  external library: `--with-&lt;LIB&gt;=&lt;path&gt;` or `--with-&lt;LIB&gt;-include=&lt;path to
  include&gt; --with-&lt;LIB&gt;-lib=&lt;path to lib&gt;`. The first variant is more concise,
<span class="line-modified">! but require the include files an library files to reside in a default hierarchy</span>
<span class="line-modified">! under this directory. In most cases, it works fine.</span>
  
  As a fallback, the second version allows you to point to the include directory
  and the lib directory separately.
  
  ### FreeType
  
  FreeType2 from [The FreeType Project](http://www.freetype.org/) is not required
  on any platform. The exception is on Unix-based platforms when configuring such
  that the build artifacts will reference a system installed library,
<span class="line-modified">! rather than bundling the JDKâ€™s own copy.</span>
  
    * To install on an apt-based Linux, try running `sudo apt-get install
      libfreetype6-dev`.
    * To install on an rpm-based Linux, try running `sudo yum install
      freetype-devel`.
<span class="line-new-header">--- 475,22 ---</span>
  
  If a required library is not detected by `configure`, you need to provide the
  path to it. There are two forms of the `configure` arguments to point to an
  external library: `--with-&lt;LIB&gt;=&lt;path&gt;` or `--with-&lt;LIB&gt;-include=&lt;path to
  include&gt; --with-&lt;LIB&gt;-lib=&lt;path to lib&gt;`. The first variant is more concise,
<span class="line-modified">! but require the include files and library files to reside in a default</span>
<span class="line-modified">! hierarchy under this directory. In most cases, it works fine.</span>
  
  As a fallback, the second version allows you to point to the include directory
  and the lib directory separately.
  
  ### FreeType
  
  FreeType2 from [The FreeType Project](http://www.freetype.org/) is not required
  on any platform. The exception is on Unix-based platforms when configuring such
  that the build artifacts will reference a system installed library,
<span class="line-modified">! rather than bundling the JDK&#39;s own copy.</span>
  
    * To install on an apt-based Linux, try running `sudo apt-get install
      libfreetype6-dev`.
    * To install on an rpm-based Linux, try running `sudo yum install
      freetype-devel`.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 616,12 ***</span>
  bash configure [options]
  ```
  
  This will create an output directory containing the configuration and setup an
  area for the build result. This directory typically looks like
<span class="line-modified">! `build/linux-x64-normal-server-release`, but the actual name depends on your</span>
<span class="line-modified">! specific configuration. (It can also be set directly, see [Using Multiple</span>
  Configurations](#using-multiple-configurations)). This directory is referred to
  as `$BUILD` in this documentation.
  
  `configure` will try to figure out what system you are running on and where all
  necessary build components are. If you have all prerequisites for building
<span class="line-new-header">--- 625,12 ---</span>
  bash configure [options]
  ```
  
  This will create an output directory containing the configuration and setup an
  area for the build result. This directory typically looks like
<span class="line-modified">! `build/linux-x64-server-release`, but the actual name depends on your specific</span>
<span class="line-modified">! configuration. (It can also be set directly, see [Using Multiple</span>
  Configurations](#using-multiple-configurations)). This directory is referred to
  as `$BUILD` in this documentation.
  
  `configure` will try to figure out what system you are running on and where all
  necessary build components are. If you have all prerequisites for building
</pre>
<hr />
<pre>
<span class="line-old-header">*** 720,13 ***</span>
    * `--with-jtreg=&lt;path&gt;` - Set the path to JTReg. See [Running Tests](
      #running-tests)
  
  Certain third-party libraries used by the JDK (libjpeg, giflib, libpng, lcms
  and zlib) are included in the JDK repository. The default behavior of the
<span class="line-modified">! JDK build is to use this version of these libraries, but they might be</span>
<span class="line-modified">! replaced by an external version. To do so, specify `system` as the `&lt;source&gt;`</span>
<span class="line-modified">! option in these arguments. (The default is `bundled`).</span>
  
    * `--with-libjpeg=&lt;source&gt;` - Use the specified source for libjpeg
    * `--with-giflib=&lt;source&gt;` - Use the specified source for giflib
    * `--with-libpng=&lt;source&gt;` - Use the specified source for libpng
    * `--with-lcms=&lt;source&gt;` - Use the specified source for lcms
<span class="line-new-header">--- 729,16 ---</span>
    * `--with-jtreg=&lt;path&gt;` - Set the path to JTReg. See [Running Tests](
      #running-tests)
  
  Certain third-party libraries used by the JDK (libjpeg, giflib, libpng, lcms
  and zlib) are included in the JDK repository. The default behavior of the
<span class="line-modified">! JDK build is to use the included (&quot;bundled&quot;) versions of libjpeg, giflib,</span>
<span class="line-modified">! libpng and lcms.</span>
<span class="line-modified">! For zlib, the system lib (if present) is used except on Windows and AIX.</span>
<span class="line-added">+ However the bundled libraries may be replaced by an external version.</span>
<span class="line-added">+ To do so, specify `system` as the `&lt;source&gt;` option in these arguments.</span>
<span class="line-added">+ (The default is `bundled`).</span>
  
    * `--with-libjpeg=&lt;source&gt;` - Use the specified source for libjpeg
    * `--with-giflib=&lt;source&gt;` - Use the specified source for giflib
    * `--with-libpng=&lt;source&gt;` - Use the specified source for libpng
    * `--with-lcms=&lt;source&gt;` - Use the specified source for lcms
</pre>
<hr />
<pre>
<span class="line-old-header">*** 861,10 ***</span>
<span class="line-new-header">--- 873,11 ---</span>
  
    * `SPEC`
    * `CONF_CHECK`
    * `COMPARE_BUILD`
    * `JDK_FILTER`
<span class="line-added">+   * `SPEC_FILTER`</span>
  
  ## Running Tests
  
  Most of the JDK tests are using the [JTReg](http://openjdk.java.net/jtreg)
  test framework. Make sure that your configuration knows where to find your
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1023,18 ***</span>
  appending the directory when searching for cross-compilations tools
  (`--with-toolchain-path`). As a compact form, you can also use `--with-devkit`
  to point to a single directory, if it is correctly setup. (See `basics.m4` for
  details.)
  
<span class="line-removed">- If you are unsure what toolchain and versions to use, these have been proved</span>
<span class="line-removed">- working at the time of writing:</span>
<span class="line-removed">- </span>
<span class="line-removed">-   * [aarch64](</span>
<span class="line-removed">- https://releases.linaro.org/archive/13.11/components/toolchain/binaries/gcc-linaro-aarch64-linux-gnu-4.8-2013.11_linux.tar.xz)</span>
<span class="line-removed">-   * [arm 32-bit hardware floating  point](</span>
<span class="line-removed">- https://launchpad.net/linaro-toolchain-unsupported/trunk/2012.09/+download/gcc-linaro-arm-linux-gnueabihf-raspbian-2012.09-20120921_linux.tar.bz2)</span>
<span class="line-removed">- </span>
  ### Native Libraries
  
  You will need copies of external native libraries for the *target* system,
  present on the *build* machine while building.
  
<span class="line-new-header">--- 1036,10 ---</span>
</pre>
<center><a href="building.html.cdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="testing.html.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>