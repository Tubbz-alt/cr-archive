<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff doc/building.html</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center><a href="../bin/idea.sh.sdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="building.md.sdiff.html" target="_top">next &gt;</a></center>    <h2>doc/building.html</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 144 &lt;ul&gt;
 145 &lt;li&gt;&lt;p&gt;Do not check out the source code in a path which contains spaces. Chances are the build will not work. This is most likely to be an issue on Windows systems.&lt;/p&gt;&lt;/li&gt;
 146 &lt;li&gt;&lt;p&gt;Do not check out the source code in a path which has a very long name or is nested many levels deep. Chances are you will hit an OS limitation during the build.&lt;/p&gt;&lt;/li&gt;
 147 &lt;li&gt;&lt;p&gt;Put the source code on a local disk, not a network share. If possible, use an SSD. The build process is very disk intensive, and having slow disk access will significantly increase build times. If you need to use a network share for the source code, see below for suggestions on how to keep the build artifacts on a local disk.&lt;/p&gt;&lt;/li&gt;
 148 &lt;li&gt;&lt;p&gt;On Windows, if using &lt;a href=&quot;#cygwin&quot;&gt;Cygwin&lt;/a&gt;, extra care must be taken to make sure the environment is consistent. It is recommended that you follow this procedure:&lt;/p&gt;
 149 &lt;ul&gt;
 150 &lt;li&gt;&lt;p&gt;Create the directory that is going to contain the top directory of the JDK clone by using the &lt;code&gt;mkdir&lt;/code&gt; command in the Cygwin bash shell. That is, do &lt;em&gt;not&lt;/em&gt; create it using Windows Explorer. This will ensure that it will have proper Cygwin attributes, and that it&#39;s children will inherit those attributes.&lt;/p&gt;&lt;/li&gt;
 151 &lt;li&gt;&lt;p&gt;Do not put the JDK clone in a path under your Cygwin home directory. This is especially important if your user name contains spaces and/or mixed upper and lower case letters.&lt;/p&gt;&lt;/li&gt;
 152 &lt;li&gt;&lt;p&gt;Clone the JDK repository using the Cygwin command line &lt;code&gt;hg&lt;/code&gt; client as instructed in this document. That is, do &lt;em&gt;not&lt;/em&gt; use another Mercurial client such as TortoiseHg.&lt;/p&gt;&lt;/li&gt;
 153 &lt;/ul&gt;
 154 &lt;p&gt;Failure to follow this procedure might result in hard-to-debug build problems.&lt;/p&gt;&lt;/li&gt;
 155 &lt;/ul&gt;
 156 &lt;h2 id=&quot;build-hardware-requirements&quot;&gt;Build Hardware Requirements&lt;/h2&gt;
 157 &lt;p&gt;The JDK is a massive project, and require machines ranging from decent to powerful to be able to build in a reasonable amount of time, or to be able to complete a build at all.&lt;/p&gt;
 158 &lt;p&gt;We &lt;em&gt;strongly&lt;/em&gt; recommend usage of an SSD disk for the build, since disk speed is one of the limiting factors for build performance.&lt;/p&gt;
 159 &lt;h3 id=&quot;building-on-x86&quot;&gt;Building on x86&lt;/h3&gt;
 160 &lt;p&gt;At a minimum, a machine with 2-4 cores is advisable, as well as 2-4 GB of RAM. (The more cores to use, the more memory you need.) At least 6 GB of free disk space is required (8 GB minimum for building on Solaris).&lt;/p&gt;
 161 &lt;p&gt;Even for 32-bit builds, it is recommended to use a 64-bit build machine, and instead create a 32-bit target using &lt;code&gt;--with-target-bits=32&lt;/code&gt;.&lt;/p&gt;
 162 &lt;h3 id=&quot;building-on-sparc&quot;&gt;Building on sparc&lt;/h3&gt;
 163 &lt;p&gt;At a minimum, a machine with 4 cores is advisable, as well as 4 GB of RAM. (The more cores to use, the more memory you need.) At least 8 GB of free disk space is required.&lt;/p&gt;

 164 &lt;h3 id=&quot;building-on-aarch64&quot;&gt;Building on aarch64&lt;/h3&gt;
 165 &lt;p&gt;At a minimum, a machine with 8 cores is advisable, as well as 8 GB of RAM. (The more cores to use, the more memory you need.) At least 6 GB of free disk space is required.&lt;/p&gt;
 166 &lt;p&gt;If you do not have access to sufficiently powerful hardware, it is also possible to use &lt;a href=&quot;#cross-compiling&quot;&gt;cross-compiling&lt;/a&gt;.&lt;/p&gt;
 167 &lt;h3 id=&quot;building-on-32-bit-arm&quot;&gt;Building on 32-bit arm&lt;/h3&gt;
 168 &lt;p&gt;This is not recommended. Instead, see the section on &lt;a href=&quot;#cross-compiling&quot;&gt;Cross-compiling&lt;/a&gt;.&lt;/p&gt;
 169 &lt;h2 id=&quot;operating-system-requirements&quot;&gt;Operating System Requirements&lt;/h2&gt;
 170 &lt;p&gt;The mainline JDK project supports Linux, Solaris, macOS, AIX and Windows. Support for other operating system, e.g. BSD, exists in separate &amp;quot;port&amp;quot; projects.&lt;/p&gt;
 171 &lt;p&gt;In general, the JDK can be built on a wide range of versions of these operating systems, but the further you deviate from what is tested on a daily basis, the more likely you are to run into problems.&lt;/p&gt;
 172 &lt;p&gt;This table lists the OS versions used by Oracle when building the JDK. Such information is always subject to change, but this table is up to date at the time of writing.&lt;/p&gt;
 173 &lt;table&gt;
 174 &lt;thead&gt;
 175 &lt;tr class=&quot;header&quot;&gt;
 176 &lt;th style=&quot;text-align: left;&quot;&gt;Operating system&lt;/th&gt;
 177 &lt;th style=&quot;text-align: left;&quot;&gt;Vendor/version used&lt;/th&gt;
 178 &lt;/tr&gt;
 179 &lt;/thead&gt;
 180 &lt;tbody&gt;
 181 &lt;tr class=&quot;odd&quot;&gt;
 182 &lt;td style=&quot;text-align: left;&quot;&gt;Linux&lt;/td&gt;
<span class="line-modified"> 183 &lt;td style=&quot;text-align: left;&quot;&gt;Oracle Enterprise Linux 6.4 / 7.1 (using kernel 3.8.13)&lt;/td&gt;</span>
 184 &lt;/tr&gt;
 185 &lt;tr class=&quot;even&quot;&gt;
 186 &lt;td style=&quot;text-align: left;&quot;&gt;Solaris&lt;/td&gt;
<span class="line-modified"> 187 &lt;td style=&quot;text-align: left;&quot;&gt;Solaris 11.1 SRU 21.4.1 / 11.2 SRU 5.5&lt;/td&gt;</span>
 188 &lt;/tr&gt;
 189 &lt;tr class=&quot;odd&quot;&gt;
 190 &lt;td style=&quot;text-align: left;&quot;&gt;macOS&lt;/td&gt;
<span class="line-modified"> 191 &lt;td style=&quot;text-align: left;&quot;&gt;Mac OS X 10.9 (Mavericks) / 10.10 (Yosemite)&lt;/td&gt;</span>
 192 &lt;/tr&gt;
 193 &lt;tr class=&quot;even&quot;&gt;
 194 &lt;td style=&quot;text-align: left;&quot;&gt;Windows&lt;/td&gt;
 195 &lt;td style=&quot;text-align: left;&quot;&gt;Windows Server 2012 R2&lt;/td&gt;
 196 &lt;/tr&gt;
 197 &lt;/tbody&gt;
 198 &lt;/table&gt;
<span class="line-modified"> 199 &lt;p&gt;The double version numbers for Linux, Solaris and macOS is due to the hybrid model used at Oracle, where header files and external libraries from an older version are used when building on a more modern version of the OS.&lt;/p&gt;</span>
 200 &lt;p&gt;The Build Group has a wiki page with &lt;a href=&quot;https://wiki.openjdk.java.net/display/Build/Supported+Build+Platforms&quot;&gt;Supported Build Platforms&lt;/a&gt;. From time to time, this is updated by contributors to list successes or failures of building on different platforms.&lt;/p&gt;
 201 &lt;h3 id=&quot;windows&quot;&gt;Windows&lt;/h3&gt;
 202 &lt;p&gt;Windows XP is not a supported platform, but all newer Windows should be able to build the JDK.&lt;/p&gt;
 203 &lt;p&gt;On Windows, it is important that you pay attention to the instructions in the &lt;a href=&quot;#special-considerations&quot;&gt;Special Considerations&lt;/a&gt;.&lt;/p&gt;
 204 &lt;p&gt;Windows is the only non-POSIX OS supported by the JDK, and as such, requires some extra care. A POSIX support layer is required to build on Windows. Currently, the only supported such layers are Cygwin and Windows Subsystem for Linux (WSL). (Msys is no longer supported due to a too old bash; msys2 would likely be possible to support in a future version but that would require effort to implement.)&lt;/p&gt;
 205 &lt;p&gt;Internally in the build system, all paths are represented as Unix-style paths, e.g. &lt;code&gt;/cygdrive/c/hg/jdk9/Makefile&lt;/code&gt; rather than &lt;code&gt;C:\hg\jdk9\Makefile&lt;/code&gt;. This rule also applies to input to the build system, e.g. in arguments to &lt;code&gt;configure&lt;/code&gt;. So, use &lt;code&gt;--with-msvcr-dll=/cygdrive/c/msvcr100.dll&lt;/code&gt; rather than &lt;code&gt;--with-msvcr-dll=c:\msvcr100.dll&lt;/code&gt;. For details on this conversion, see the section on &lt;a href=&quot;#fixpath&quot;&gt;Fixpath&lt;/a&gt;.&lt;/p&gt;
 206 &lt;h4 id=&quot;cygwin&quot;&gt;Cygwin&lt;/h4&gt;
 207 &lt;p&gt;A functioning &lt;a href=&quot;http://www.cygwin.com/&quot;&gt;Cygwin&lt;/a&gt; environment is required for building the JDK on Windows. If you have a 64-bit OS, we strongly recommend using the 64-bit version of Cygwin.&lt;/p&gt;
 208 &lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Cygwin has a model of continuously updating all packages without any easy way to install or revert to a specific version of a package. This means that whenever you add or update a package in Cygwin, you might (inadvertently) update tools that are used by the JDK build process, and that can cause unexpected build problems.&lt;/p&gt;
 209 &lt;p&gt;The JDK requires GNU Make 4.0 or greater in Cygwin. This is usually not a problem, since Cygwin currently only distributes GNU Make at a version above 4.0.&lt;/p&gt;
 210 &lt;p&gt;Apart from the basic Cygwin installation, the following packages must also be installed:&lt;/p&gt;
 211 &lt;ul&gt;
 212 &lt;li&gt;&lt;code&gt;autoconf&lt;/code&gt;&lt;/li&gt;
 213 &lt;li&gt;&lt;code&gt;make&lt;/code&gt;&lt;/li&gt;
 214 &lt;li&gt;&lt;code&gt;zip&lt;/code&gt;&lt;/li&gt;
 215 &lt;li&gt;&lt;code&gt;unzip&lt;/code&gt;&lt;/li&gt;
 216 &lt;/ul&gt;
 217 &lt;p&gt;Often, you can install these packages using the following command line:&lt;/p&gt;
 218 &lt;pre&gt;&lt;code&gt;&amp;lt;path to Cygwin setup&amp;gt;/setup-x86_64 -q -P autoconf -P make -P unzip -P zip&lt;/code&gt;&lt;/pre&gt;
 219 &lt;p&gt;Unfortunately, Cygwin can be unreliable in certain circumstances. If you experience build tool crashes or strange issues when building on Windows, please check the Cygwin FAQ on the &lt;a href=&quot;https://cygwin.com/faq/faq.html#faq.using.bloda&quot;&gt;&amp;quot;BLODA&amp;quot; list&lt;/a&gt; and the section on &lt;a href=&quot;https://cygwin.com/faq/faq.html#faq.using.fixing-fork-failures&quot;&gt;fork() failures&lt;/a&gt;.&lt;/p&gt;
 220 &lt;h4 id=&quot;windows-subsystem-for-linux-wsl&quot;&gt;Windows Subsystem for Linux (WSL)&lt;/h4&gt;
 221 &lt;p&gt;Windows 10 1809 or newer is supported due to a dependency on the wslpath utility and support for environment variable sharing through WSLENV. Version 1803 can work but intermittent build failures have been observed.&lt;/p&gt;
 222 &lt;p&gt;It&#39;s possible to build both Windows and Linux binaries from WSL. To build Windows binaries, you must use a Windows boot JDK (located in a Windows-accessible directory). To build Linux binaries, you must use a Linux boot JDK. The default behavior is to build for Windows. To build for Linux, pass &lt;code&gt;--build=x86_64-unknown-linux-gnu --host=x86_64-unknown-linux-gnu&lt;/code&gt; to &lt;code&gt;configure&lt;/code&gt;.&lt;/p&gt;
 223 &lt;p&gt;If building Windows binaries, the source code must be located in a Windows- accessible directory. This is because Windows executables (such as Visual Studio and the boot JDK) must be able to access the source code. Also, the drive where the source is stored must be mounted as case-insensitive by changing either /etc/fstab or /etc/wsl.conf in WSL. Individual directories may be corrected using the fsutil tool in case the source was cloned before changing the mount options.&lt;/p&gt;
 224 &lt;p&gt;Note that while it&#39;s possible to build on WSL, testing is still not fully supported.&lt;/p&gt;
 225 &lt;h3 id=&quot;solaris&quot;&gt;Solaris&lt;/h3&gt;
 226 &lt;p&gt;See &lt;code&gt;make/devkit/solaris11.1-package-list.txt&lt;/code&gt; for a list of recommended packages to install when building on Solaris. The versions specified in this list is the versions used by the daily builds at Oracle, and is likely to work properly.&lt;/p&gt;
 227 &lt;p&gt;Older versions of Solaris shipped a broken version of &lt;code&gt;objcopy&lt;/code&gt;. At least version 2.21.1 is needed, which is provided by Solaris 11 Update 1. Objcopy is needed if you want to have external debug symbols. Please make sure you are using at least version 2.21.1 of objcopy, or that you disable external debug symbols.&lt;/p&gt;

 228 &lt;h3 id=&quot;macos&quot;&gt;macOS&lt;/h3&gt;
 229 &lt;p&gt;Apple is using a quite aggressive scheme of pushing OS updates, and coupling these updates with required updates of Xcode. Unfortunately, this makes it difficult for a project such as the JDK to keep pace with a continuously updated machine running macOS. See the section on &lt;a href=&quot;#apple-xcode&quot;&gt;Apple Xcode&lt;/a&gt; on some strategies to deal with this.&lt;/p&gt;
 230 &lt;p&gt;It is recommended that you use at least Mac OS X 10.13 (High Sierra). At the time of writing, the JDK has been successfully compiled on macOS 10.12 (Sierra).&lt;/p&gt;
 231 &lt;p&gt;The standard macOS environment contains the basic tooling needed to build, but for external libraries a package manager is recommended. The JDK uses &lt;a href=&quot;https://brew.sh/&quot;&gt;homebrew&lt;/a&gt; in the examples, but feel free to use whatever manager you want (or none).&lt;/p&gt;
 232 &lt;h3 id=&quot;linux&quot;&gt;Linux&lt;/h3&gt;
 233 &lt;p&gt;It is often not much problem to build the JDK on Linux. The only general advice is to try to use the compilers, external libraries and header files as provided by your distribution.&lt;/p&gt;
 234 &lt;p&gt;The basic tooling is provided as part of the core operating system, but you will most likely need to install developer packages.&lt;/p&gt;
 235 &lt;p&gt;For apt-based distributions (Debian, Ubuntu, etc), try this:&lt;/p&gt;
 236 &lt;pre&gt;&lt;code&gt;sudo apt-get install build-essential&lt;/code&gt;&lt;/pre&gt;
 237 &lt;p&gt;For rpm-based distributions (Fedora, Red Hat, etc), try this:&lt;/p&gt;
 238 &lt;pre&gt;&lt;code&gt;sudo yum groupinstall &amp;quot;Development Tools&amp;quot;&lt;/code&gt;&lt;/pre&gt;
 239 &lt;h3 id=&quot;aix&quot;&gt;AIX&lt;/h3&gt;
 240 &lt;p&gt;Please consult the AIX section of the &lt;a href=&quot;https://wiki.openjdk.java.net/display/Build/Supported+Build+Platforms&quot;&gt;Supported Build Platforms&lt;/a&gt; OpenJDK Build Wiki page for details about which versions of AIX are supported.&lt;/p&gt;
 241 &lt;h2 id=&quot;native-compiler-toolchain-requirements&quot;&gt;Native Compiler (Toolchain) Requirements&lt;/h2&gt;
 242 &lt;p&gt;Large portions of the JDK consists of native code, that needs to be compiled to be able to run on the target platform. In theory, toolchain and operating system should be independent factors, but in practice there&#39;s more or less a one-to-one correlation between target operating system and toolchain.&lt;/p&gt;
 243 &lt;table&gt;
 244 &lt;thead&gt;
 245 &lt;tr class=&quot;header&quot;&gt;
 246 &lt;th style=&quot;text-align: left;&quot;&gt;Operating system&lt;/th&gt;
 247 &lt;th style=&quot;text-align: left;&quot;&gt;Supported toolchain&lt;/th&gt;
</pre>
<hr />
<pre>
 264 &lt;td style=&quot;text-align: left;&quot;&gt;AIX&lt;/td&gt;
 265 &lt;td style=&quot;text-align: left;&quot;&gt;IBM XL C/C++&lt;/td&gt;
 266 &lt;/tr&gt;
 267 &lt;tr class=&quot;odd&quot;&gt;
 268 &lt;td style=&quot;text-align: left;&quot;&gt;Windows&lt;/td&gt;
 269 &lt;td style=&quot;text-align: left;&quot;&gt;Microsoft Visual Studio&lt;/td&gt;
 270 &lt;/tr&gt;
 271 &lt;/tbody&gt;
 272 &lt;/table&gt;
 273 &lt;p&gt;Please see the individual sections on the toolchains for version recommendations. As a reference, these versions of the toolchains are used, at the time of writing, by Oracle for the daily builds of the JDK. It should be possible to compile the JDK with both older and newer versions, but the closer you stay to this list, the more likely you are to compile successfully without issues.&lt;/p&gt;
 274 &lt;table&gt;
 275 &lt;thead&gt;
 276 &lt;tr class=&quot;header&quot;&gt;
 277 &lt;th style=&quot;text-align: left;&quot;&gt;Operating system&lt;/th&gt;
 278 &lt;th style=&quot;text-align: left;&quot;&gt;Toolchain version&lt;/th&gt;
 279 &lt;/tr&gt;
 280 &lt;/thead&gt;
 281 &lt;tbody&gt;
 282 &lt;tr class=&quot;odd&quot;&gt;
 283 &lt;td style=&quot;text-align: left;&quot;&gt;Linux&lt;/td&gt;
<span class="line-modified"> 284 &lt;td style=&quot;text-align: left;&quot;&gt;gcc 7.3.0&lt;/td&gt;</span>
 285 &lt;/tr&gt;
 286 &lt;tr class=&quot;even&quot;&gt;
 287 &lt;td style=&quot;text-align: left;&quot;&gt;macOS&lt;/td&gt;
<span class="line-modified"> 288 &lt;td style=&quot;text-align: left;&quot;&gt;Apple Xcode 9.4 (using clang 9.1.0)&lt;/td&gt;</span>
 289 &lt;/tr&gt;
 290 &lt;tr class=&quot;odd&quot;&gt;
 291 &lt;td style=&quot;text-align: left;&quot;&gt;Solaris&lt;/td&gt;
<span class="line-modified"> 292 &lt;td style=&quot;text-align: left;&quot;&gt;Oracle Solaris Studio 12.4 (with compiler version 5.13)&lt;/td&gt;</span>
 293 &lt;/tr&gt;
 294 &lt;tr class=&quot;even&quot;&gt;
 295 &lt;td style=&quot;text-align: left;&quot;&gt;Windows&lt;/td&gt;
<span class="line-modified"> 296 &lt;td style=&quot;text-align: left;&quot;&gt;Microsoft Visual Studio 2017 update 15.5.5&lt;/td&gt;</span>
 297 &lt;/tr&gt;
 298 &lt;/tbody&gt;
 299 &lt;/table&gt;

 300 &lt;h3 id=&quot;gcc&quot;&gt;gcc&lt;/h3&gt;
<span class="line-modified"> 301 &lt;p&gt;The minimum accepted version of gcc is 4.8. Older versions will generate a warning by &lt;code&gt;configure&lt;/code&gt; and are unlikely to work.&lt;/p&gt;</span>
<span class="line-modified"> 302 &lt;p&gt;The JDK is currently known to be able to compile with at least version 7.4 of gcc.&lt;/p&gt;</span>
 303 &lt;p&gt;In general, any version between these two should be usable.&lt;/p&gt;
 304 &lt;h3 id=&quot;clang&quot;&gt;clang&lt;/h3&gt;
 305 &lt;p&gt;The minimum accepted version of clang is 3.2. Older versions will not be accepted by &lt;code&gt;configure&lt;/code&gt;.&lt;/p&gt;
 306 &lt;p&gt;To use clang instead of gcc on Linux, use &lt;code&gt;--with-toolchain-type=clang&lt;/code&gt;.&lt;/p&gt;
 307 &lt;h3 id=&quot;apple-xcode&quot;&gt;Apple Xcode&lt;/h3&gt;
 308 &lt;p&gt;The oldest supported version of Xcode is 8.&lt;/p&gt;
 309 &lt;p&gt;You will need the Xcode command lines developers tools to be able to build the JDK. (Actually, &lt;em&gt;only&lt;/em&gt; the command lines tools are needed, not the IDE.) The simplest way to install these is to run:&lt;/p&gt;
 310 &lt;pre&gt;&lt;code&gt;xcode-select --install&lt;/code&gt;&lt;/pre&gt;
 311 &lt;p&gt;It is advisable to keep an older version of Xcode for building the JDK when updating Xcode. This &lt;a href=&quot;http://iosdevelopertips.com/xcode/install-multiple-versions-of-xcode.html&quot;&gt;blog page&lt;/a&gt; has good suggestions on managing multiple Xcode versions. To use a specific version of Xcode, use &lt;code&gt;xcode-select -s&lt;/code&gt; before running &lt;code&gt;configure&lt;/code&gt;, or use &lt;code&gt;--with-toolchain-path&lt;/code&gt; to point to the version of Xcode to use, e.g. &lt;code&gt;configure --with-toolchain-path=/Applications/Xcode8.app/Contents/Developer/usr/bin&lt;/code&gt;&lt;/p&gt;
 312 &lt;p&gt;If you have recently (inadvertently) updated your OS and/or Xcode version, and the JDK can no longer be built, please see the section on &lt;a href=&quot;#problems-with-the-build-environment&quot;&gt;Problems with the Build Environment&lt;/a&gt;, and &lt;a href=&quot;#getting-help&quot;&gt;Getting Help&lt;/a&gt; to find out if there are any recent, non-merged patches available for this update.&lt;/p&gt;
 313 &lt;h3 id=&quot;oracle-solaris-studio&quot;&gt;Oracle Solaris Studio&lt;/h3&gt;
 314 &lt;p&gt;The minimum accepted version of the Solaris Studio compilers is 5.13 (corresponding to Solaris Studio 12.4). Older versions will not be accepted by configure.&lt;/p&gt;
 315 &lt;p&gt;The Solaris Studio installation should contain at least these packages:&lt;/p&gt;
 316 &lt;table&gt;
 317 &lt;thead&gt;
 318 &lt;tr class=&quot;header&quot;&gt;
 319 &lt;th style=&quot;text-align: left;&quot;&gt;Package&lt;/th&gt;
 320 &lt;th style=&quot;text-align: left;&quot;&gt;Version&lt;/th&gt;
 321 &lt;/tr&gt;
 322 &lt;/thead&gt;
</pre>
<hr />
<pre>
 352 &lt;tr class=&quot;even&quot;&gt;
 353 &lt;td style=&quot;text-align: left;&quot;&gt;developer/solarisstudio-124/studio-ja&lt;/td&gt;
 354 &lt;td style=&quot;text-align: left;&quot;&gt;12.4-1.0.0.1&lt;/td&gt;
 355 &lt;/tr&gt;
 356 &lt;tr class=&quot;odd&quot;&gt;
 357 &lt;td style=&quot;text-align: left;&quot;&gt;developer/solarisstudio-124/studio-legal&lt;/td&gt;
 358 &lt;td style=&quot;text-align: left;&quot;&gt;12.4-1.0.0.1&lt;/td&gt;
 359 &lt;/tr&gt;
 360 &lt;tr class=&quot;even&quot;&gt;
 361 &lt;td style=&quot;text-align: left;&quot;&gt;developer/solarisstudio-124/studio-zhCN&lt;/td&gt;
 362 &lt;td style=&quot;text-align: left;&quot;&gt;12.4-1.0.0.1&lt;/td&gt;
 363 &lt;/tr&gt;
 364 &lt;/tbody&gt;
 365 &lt;/table&gt;
 366 &lt;p&gt;Compiling with Solaris Studio can sometimes be finicky. This is the exact version used by Oracle, which worked correctly at the time of writing:&lt;/p&gt;
 367 &lt;pre&gt;&lt;code&gt;$ cc -V
 368 cc: Sun C 5.13 SunOS_i386 2014/10/20
 369 $ CC -V
 370 CC: Sun C++ 5.13 SunOS_i386 151846-10 2015/10/30&lt;/code&gt;&lt;/pre&gt;
 371 &lt;h3 id=&quot;microsoft-visual-studio&quot;&gt;Microsoft Visual Studio&lt;/h3&gt;
<span class="line-modified"> 372 &lt;p&gt;The minimum accepted version of Visual Studio is 2010. Older versions will not be accepted by &lt;code&gt;configure&lt;/code&gt;. The maximum accepted version of Visual Studio is 2017. Versions older than 2017 are unlikely to continue working for long.&lt;/p&gt;</span>
 373 &lt;p&gt;If you have multiple versions of Visual Studio installed, &lt;code&gt;configure&lt;/code&gt; will by default pick the latest. You can request a specific version to be used by setting &lt;code&gt;--with-toolchain-version&lt;/code&gt;, e.g. &lt;code&gt;--with-toolchain-version=2015&lt;/code&gt;.&lt;/p&gt;
 374 &lt;p&gt;If you get &lt;code&gt;LINK: fatal error LNK1123: failure during conversion to COFF: file invalid&lt;/code&gt; when building using Visual Studio 2010, you have encountered &lt;a href=&quot;http://support.microsoft.com/kb/2757355&quot;&gt;KB2757355&lt;/a&gt;, a bug triggered by a specific installation order. However, the solution suggested by the KB article does not always resolve the problem. See &lt;a href=&quot;https://stackoverflow.com/questions/10888391&quot;&gt;this stackoverflow discussion&lt;/a&gt; for other suggestions.&lt;/p&gt;
 375 &lt;h3 id=&quot;ibm-xl-cc&quot;&gt;IBM XL C/C++&lt;/h3&gt;
 376 &lt;p&gt;Please consult the AIX section of the &lt;a href=&quot;https://wiki.openjdk.java.net/display/Build/Supported+Build+Platforms&quot;&gt;Supported Build Platforms&lt;/a&gt; OpenJDK Build Wiki page for details about which versions of XLC are supported.&lt;/p&gt;
 377 &lt;h2 id=&quot;boot-jdk-requirements&quot;&gt;Boot JDK Requirements&lt;/h2&gt;
 378 &lt;p&gt;Paradoxically, building the JDK requires a pre-existing JDK. This is called the &amp;quot;boot JDK&amp;quot;. The boot JDK does not, however, have to be a JDK built directly from the source code available in the OpenJDK Community. If you are porting the JDK to a new platform, chances are that there already exists another JDK for that platform that is usable as boot JDK.&lt;/p&gt;
 379 &lt;p&gt;The rule of thumb is that the boot JDK for building JDK major version &lt;em&gt;N&lt;/em&gt; should be a JDK of major version &lt;em&gt;N-1&lt;/em&gt;, so for building JDK 9 a JDK 8 would be suitable as boot JDK. However, the JDK should be able to &amp;quot;build itself&amp;quot;, so an up-to-date build of the current JDK source is an acceptable alternative. If you are following the &lt;em&gt;N-1&lt;/em&gt; rule, make sure you&#39;ve got the latest update version, since JDK 8 GA might not be able to build JDK 9 on all platforms.&lt;/p&gt;
 380 &lt;p&gt;Early in the release cycle, version &lt;em&gt;N-1&lt;/em&gt; may not yet have been released. In that case, the preferred boot JDK will be version &lt;em&gt;N-2&lt;/em&gt; until version &lt;em&gt;N-1&lt;/em&gt; is available.&lt;/p&gt;
 381 &lt;p&gt;If the boot JDK is not automatically detected, or the wrong JDK is picked, use &lt;code&gt;--with-boot-jdk&lt;/code&gt; to point to the JDK to use.&lt;/p&gt;
 382 &lt;h3 id=&quot;getting-jdk-binaries&quot;&gt;Getting JDK binaries&lt;/h3&gt;
 383 &lt;p&gt;JDK binaries for Linux, Windows and macOS can be downloaded from &lt;a href=&quot;http://jdk.java.net&quot;&gt;jdk.java.net&lt;/a&gt;. An alternative is to download the &lt;a href=&quot;http://www.oracle.com/technetwork/java/javase/downloads&quot;&gt;Oracle JDK&lt;/a&gt;. Another is the &lt;a href=&quot;https://adoptopenjdk.net/&quot;&gt;Adopt OpenJDK Project&lt;/a&gt;, which publishes experimental prebuilt binaries for various platforms.&lt;/p&gt;
 384 &lt;p&gt;On Linux you can also get a JDK from the Linux distribution. On apt-based distros (like Debian and Ubuntu), &lt;code&gt;sudo apt-get install openjdk-&amp;lt;VERSION&amp;gt;-jdk&lt;/code&gt; is typically enough to install a JDK &amp;lt;VERSION&amp;gt;. On rpm-based distros (like Fedora and Red Hat), try &lt;code&gt;sudo yum install java-&amp;lt;VERSION&amp;gt;-openjdk-devel&lt;/code&gt;.&lt;/p&gt;
 385 &lt;h2 id=&quot;external-library-requirements&quot;&gt;External Library Requirements&lt;/h2&gt;
 386 &lt;p&gt;Different platforms require different external libraries. In general, libraries are not optional - that is, they are either required or not used.&lt;/p&gt;
<span class="line-modified"> 387 &lt;p&gt;If a required library is not detected by &lt;code&gt;configure&lt;/code&gt;, you need to provide the path to it. There are two forms of the &lt;code&gt;configure&lt;/code&gt; arguments to point to an external library: &lt;code&gt;--with-&amp;lt;LIB&amp;gt;=&amp;lt;path&amp;gt;&lt;/code&gt; or &lt;code&gt;--with-&amp;lt;LIB&amp;gt;-include=&amp;lt;path to include&amp;gt; --with-&amp;lt;LIB&amp;gt;-lib=&amp;lt;path to lib&amp;gt;&lt;/code&gt;. The first variant is more concise, but require the include files an library files to reside in a default hierarchy under this directory. In most cases, it works fine.&lt;/p&gt;</span>
 388 &lt;p&gt;As a fallback, the second version allows you to point to the include directory and the lib directory separately.&lt;/p&gt;
 389 &lt;h3 id=&quot;freetype&quot;&gt;FreeType&lt;/h3&gt;
<span class="line-modified"> 390 &lt;p&gt;FreeType2 from &lt;a href=&quot;http://www.freetype.org/&quot;&gt;The FreeType Project&lt;/a&gt; is not required on any platform. The exception is on Unix-based platforms when configuring such that the build artifacts will reference a system installed library, rather than bundling the JDK’s own copy.&lt;/p&gt;</span>
 391 &lt;ul&gt;
 392 &lt;li&gt;To install on an apt-based Linux, try running &lt;code&gt;sudo apt-get install libfreetype6-dev&lt;/code&gt;.&lt;/li&gt;
 393 &lt;li&gt;To install on an rpm-based Linux, try running &lt;code&gt;sudo yum install freetype-devel&lt;/code&gt;.&lt;/li&gt;
 394 &lt;li&gt;To install on Solaris, try running &lt;code&gt;pkg install system/library/freetype-2&lt;/code&gt;.&lt;/li&gt;
 395 &lt;/ul&gt;
 396 &lt;p&gt;Use &lt;code&gt;--with-freetype-include=&amp;lt;path&amp;gt;&lt;/code&gt; and &lt;code&gt;--with-freetype-lib=&amp;lt;path&amp;gt;&lt;/code&gt; if &lt;code&gt;configure&lt;/code&gt; does not automatically locate the platform FreeType files.&lt;/p&gt;
 397 &lt;h3 id=&quot;cups&quot;&gt;CUPS&lt;/h3&gt;
 398 &lt;p&gt;CUPS, &lt;a href=&quot;http://www.cups.org&quot;&gt;Common UNIX Printing System&lt;/a&gt; header files are required on all platforms, except Windows. Often these files are provided by your operating system.&lt;/p&gt;
 399 &lt;ul&gt;
 400 &lt;li&gt;To install on an apt-based Linux, try running &lt;code&gt;sudo apt-get install libcups2-dev&lt;/code&gt;.&lt;/li&gt;
 401 &lt;li&gt;To install on an rpm-based Linux, try running &lt;code&gt;sudo yum install cups-devel&lt;/code&gt;.&lt;/li&gt;
 402 &lt;li&gt;To install on Solaris, try running &lt;code&gt;pkg install print/cups&lt;/code&gt;.&lt;/li&gt;
 403 &lt;/ul&gt;
 404 &lt;p&gt;Use &lt;code&gt;--with-cups=&amp;lt;path&amp;gt;&lt;/code&gt; if &lt;code&gt;configure&lt;/code&gt; does not properly locate your CUPS files.&lt;/p&gt;
 405 &lt;h3 id=&quot;x11&quot;&gt;X11&lt;/h3&gt;
 406 &lt;p&gt;Certain &lt;a href=&quot;http://www.x.org/&quot;&gt;X11&lt;/a&gt; libraries and include files are required on Linux and Solaris.&lt;/p&gt;
 407 &lt;ul&gt;
 408 &lt;li&gt;To install on an apt-based Linux, try running &lt;code&gt;sudo apt-get install libx11-dev libxext-dev libxrender-dev libxrandr-dev libxtst-dev libxt-dev&lt;/code&gt;.&lt;/li&gt;
 409 &lt;li&gt;To install on an rpm-based Linux, try running &lt;code&gt;sudo yum install libXtst-devel libXt-devel libXrender-devel libXrandr-devel libXi-devel&lt;/code&gt;.&lt;/li&gt;
 410 &lt;li&gt;To install on Solaris, try running &lt;code&gt;pkg install x11/header/x11-protocols x11/library/libice x11/library/libpthread-stubs x11/library/libsm x11/library/libx11 x11/library/libxau x11/library/libxcb x11/library/libxdmcp x11/library/libxevie x11/library/libxext x11/library/libxrender x11/library/libxrandr x11/library/libxscrnsaver x11/library/libxtst x11/library/toolkit/libxt&lt;/code&gt;.&lt;/li&gt;
</pre>
<hr />
<pre>
 431 &lt;li&gt;To install on an apt-based Linux, try running &lt;code&gt;sudo apt-get install autoconf&lt;/code&gt;.&lt;/li&gt;
 432 &lt;li&gt;To install on an rpm-based Linux, try running &lt;code&gt;sudo yum install autoconf&lt;/code&gt;.&lt;/li&gt;
 433 &lt;li&gt;To install on macOS, try running &lt;code&gt;brew install autoconf&lt;/code&gt;.&lt;/li&gt;
 434 &lt;li&gt;To install on Windows, try running &lt;code&gt;&amp;lt;path to Cygwin setup&amp;gt;/setup-x86_64 -q -P autoconf&lt;/code&gt;.&lt;/li&gt;
 435 &lt;/ul&gt;
 436 &lt;p&gt;If &lt;code&gt;configure&lt;/code&gt; has problems locating your installation of autoconf, you can specify it using the &lt;code&gt;AUTOCONF&lt;/code&gt; environment variable, like this:&lt;/p&gt;
 437 &lt;pre&gt;&lt;code&gt;AUTOCONF=&amp;lt;path to autoconf&amp;gt; configure ...&lt;/code&gt;&lt;/pre&gt;
 438 &lt;h3 id=&quot;gnu-make&quot;&gt;GNU Make&lt;/h3&gt;
 439 &lt;p&gt;The JDK requires &lt;a href=&quot;http://www.gnu.org/software/make&quot;&gt;GNU Make&lt;/a&gt;. No other flavors of make are supported.&lt;/p&gt;
 440 &lt;p&gt;At least version 3.81 of GNU Make must be used. For distributions supporting GNU Make 4.0 or above, we strongly recommend it. GNU Make 4.0 contains useful functionality to handle parallel building (supported by &lt;code&gt;--with-output-sync&lt;/code&gt;) and speed and stability improvements.&lt;/p&gt;
 441 &lt;p&gt;Note that &lt;code&gt;configure&lt;/code&gt; locates and verifies a properly functioning version of &lt;code&gt;make&lt;/code&gt; and stores the path to this &lt;code&gt;make&lt;/code&gt; binary in the configuration. If you start a build using &lt;code&gt;make&lt;/code&gt; on the command line, you will be using the version of make found first in your &lt;code&gt;PATH&lt;/code&gt;, and not necessarily the one stored in the configuration. This initial make will be used as &amp;quot;bootstrap make&amp;quot;, and in a second stage, the make located by &lt;code&gt;configure&lt;/code&gt; will be called. Normally, this will present no issues, but if you have a very old &lt;code&gt;make&lt;/code&gt;, or a non-GNU Make &lt;code&gt;make&lt;/code&gt; in your path, this might cause issues.&lt;/p&gt;
 442 &lt;p&gt;If you want to override the default make found by &lt;code&gt;configure&lt;/code&gt;, use the &lt;code&gt;MAKE&lt;/code&gt; configure variable, e.g. &lt;code&gt;configure MAKE=/opt/gnu/make&lt;/code&gt;.&lt;/p&gt;
 443 &lt;p&gt;On Solaris, it is common to call the GNU version of make by using &lt;code&gt;gmake&lt;/code&gt;.&lt;/p&gt;
 444 &lt;h3 id=&quot;gnu-bash&quot;&gt;GNU Bash&lt;/h3&gt;
 445 &lt;p&gt;The JDK requires &lt;a href=&quot;http://www.gnu.org/software/bash&quot;&gt;GNU Bash&lt;/a&gt;. No other shells are supported.&lt;/p&gt;
 446 &lt;p&gt;At least version 3.2 of GNU Bash must be used.&lt;/p&gt;
 447 &lt;h2 id=&quot;running-configure&quot;&gt;Running Configure&lt;/h2&gt;
 448 &lt;p&gt;To build the JDK, you need a &amp;quot;configuration&amp;quot;, which consists of a directory where to store the build output, coupled with information about the platform, the specific build machine, and choices that affect how the JDK is built.&lt;/p&gt;
 449 &lt;p&gt;The configuration is created by the &lt;code&gt;configure&lt;/code&gt; script. The basic invocation of the &lt;code&gt;configure&lt;/code&gt; script looks like this:&lt;/p&gt;
 450 &lt;pre&gt;&lt;code&gt;bash configure [options]&lt;/code&gt;&lt;/pre&gt;
<span class="line-modified"> 451 &lt;p&gt;This will create an output directory containing the configuration and setup an area for the build result. This directory typically looks like &lt;code&gt;build/linux-x64-normal-server-release&lt;/code&gt;, but the actual name depends on your specific configuration. (It can also be set directly, see &lt;a href=&quot;#using-multiple-configurations&quot;&gt;Using Multiple Configurations&lt;/a&gt;). This directory is referred to as &lt;code&gt;$BUILD&lt;/code&gt; in this documentation.&lt;/p&gt;</span>
 452 &lt;p&gt;&lt;code&gt;configure&lt;/code&gt; will try to figure out what system you are running on and where all necessary build components are. If you have all prerequisites for building installed, it should find everything. If it fails to detect any component automatically, it will exit and inform you about the problem.&lt;/p&gt;
 453 &lt;p&gt;Some command line examples:&lt;/p&gt;
 454 &lt;ul&gt;
 455 &lt;li&gt;&lt;p&gt;Create a 32-bit build for Windows with FreeType2 in &lt;code&gt;C:\freetype-i586&lt;/code&gt;:&lt;/p&gt;
 456 &lt;pre&gt;&lt;code&gt;bash configure --with-freetype=/cygdrive/c/freetype-i586 --with-target-bits=32&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
 457 &lt;li&gt;&lt;p&gt;Create a debug build with the &lt;code&gt;server&lt;/code&gt; JVM and DTrace enabled:&lt;/p&gt;
 458 &lt;pre&gt;&lt;code&gt;bash configure --enable-debug --with-jvm-variants=server --enable-dtrace&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
 459 &lt;/ul&gt;
 460 &lt;h3 id=&quot;common-configure-arguments&quot;&gt;Common Configure Arguments&lt;/h3&gt;
 461 &lt;p&gt;Here follows some of the most common and important &lt;code&gt;configure&lt;/code&gt; argument.&lt;/p&gt;
 462 &lt;p&gt;To get up-to-date information on &lt;em&gt;all&lt;/em&gt; available &lt;code&gt;configure&lt;/code&gt; argument, please run:&lt;/p&gt;
 463 &lt;pre&gt;&lt;code&gt;bash configure --help&lt;/code&gt;&lt;/pre&gt;
 464 &lt;p&gt;(Note that this help text also include general autoconf options, like &lt;code&gt;--dvidir&lt;/code&gt;, that is not relevant to the JDK. To list only JDK-specific features, use &lt;code&gt;bash configure --help=short&lt;/code&gt; instead.)&lt;/p&gt;
 465 &lt;h4 id=&quot;configure-arguments-for-tailoring-the-build&quot;&gt;Configure Arguments for Tailoring the Build&lt;/h4&gt;
 466 &lt;ul&gt;
 467 &lt;li&gt;&lt;code&gt;--enable-debug&lt;/code&gt; - Set the debug level to &lt;code&gt;fastdebug&lt;/code&gt; (this is a shorthand for &lt;code&gt;--with-debug-level=fastdebug&lt;/code&gt;)&lt;/li&gt;
 468 &lt;li&gt;&lt;code&gt;--with-debug-level=&amp;lt;level&amp;gt;&lt;/code&gt; - Set the debug level, which can be &lt;code&gt;release&lt;/code&gt;, &lt;code&gt;fastdebug&lt;/code&gt;, &lt;code&gt;slowdebug&lt;/code&gt; or &lt;code&gt;optimized&lt;/code&gt;. Default is &lt;code&gt;release&lt;/code&gt;. &lt;code&gt;optimized&lt;/code&gt; is variant of &lt;code&gt;release&lt;/code&gt; with additional Hotspot debug code.&lt;/li&gt;
 469 &lt;li&gt;&lt;code&gt;--with-native-debug-symbols=&amp;lt;method&amp;gt;&lt;/code&gt; - Specify if and how native debug symbols should be built. Available methods are &lt;code&gt;none&lt;/code&gt;, &lt;code&gt;internal&lt;/code&gt;, &lt;code&gt;external&lt;/code&gt;, &lt;code&gt;zipped&lt;/code&gt;. Default behavior depends on platform. See &lt;a href=&quot;#native-debug-symbols&quot;&gt;Native Debug Symbols&lt;/a&gt; for more details.&lt;/li&gt;
 470 &lt;li&gt;&lt;code&gt;--with-version-string=&amp;lt;string&amp;gt;&lt;/code&gt; - Specify the version string this build will be identified with.&lt;/li&gt;
 471 &lt;li&gt;&lt;code&gt;--with-version-&amp;lt;part&amp;gt;=&amp;lt;value&amp;gt;&lt;/code&gt; - A group of options, where &lt;code&gt;&amp;lt;part&amp;gt;&lt;/code&gt; can be any of &lt;code&gt;pre&lt;/code&gt;, &lt;code&gt;opt&lt;/code&gt;, &lt;code&gt;build&lt;/code&gt;, &lt;code&gt;major&lt;/code&gt;, &lt;code&gt;minor&lt;/code&gt;, &lt;code&gt;security&lt;/code&gt; or &lt;code&gt;patch&lt;/code&gt;. Use these options to modify just the corresponding part of the version string from the default, or the value provided by &lt;code&gt;--with-version-string&lt;/code&gt;.&lt;/li&gt;
</pre>
<hr />
<pre>
 480 &lt;h4 id=&quot;configure-arguments-for-native-compilation&quot;&gt;Configure Arguments for Native Compilation&lt;/h4&gt;
 481 &lt;ul&gt;
 482 &lt;li&gt;&lt;code&gt;--with-devkit=&amp;lt;path&amp;gt;&lt;/code&gt; - Use this devkit for compilers, tools and resources&lt;/li&gt;
 483 &lt;li&gt;&lt;code&gt;--with-sysroot=&amp;lt;path&amp;gt;&lt;/code&gt; - Use this directory as sysroot&lt;/li&gt;
 484 &lt;li&gt;&lt;code&gt;--with-extra-path=&amp;lt;path&amp;gt;[;&amp;lt;path&amp;gt;]&lt;/code&gt; - Prepend these directories to the default path when searching for all kinds of binaries&lt;/li&gt;
 485 &lt;li&gt;&lt;code&gt;--with-toolchain-path=&amp;lt;path&amp;gt;[;&amp;lt;path&amp;gt;]&lt;/code&gt; - Prepend these directories when searching for toolchain binaries (compilers etc)&lt;/li&gt;
 486 &lt;li&gt;&lt;code&gt;--with-extra-cflags=&amp;lt;flags&amp;gt;&lt;/code&gt; - Append these flags when compiling JDK C files&lt;/li&gt;
 487 &lt;li&gt;&lt;code&gt;--with-extra-cxxflags=&amp;lt;flags&amp;gt;&lt;/code&gt; - Append these flags when compiling JDK C++ files&lt;/li&gt;
 488 &lt;li&gt;&lt;code&gt;--with-extra-ldflags=&amp;lt;flags&amp;gt;&lt;/code&gt; - Append these flags when linking JDK libraries&lt;/li&gt;
 489 &lt;/ul&gt;
 490 &lt;h4 id=&quot;configure-arguments-for-external-dependencies&quot;&gt;Configure Arguments for External Dependencies&lt;/h4&gt;
 491 &lt;ul&gt;
 492 &lt;li&gt;&lt;code&gt;--with-boot-jdk=&amp;lt;path&amp;gt;&lt;/code&gt; - Set the path to the &lt;a href=&quot;#boot-jdk-requirements&quot;&gt;Boot JDK&lt;/a&gt;&lt;/li&gt;
 493 &lt;li&gt;&lt;code&gt;--with-freetype=&amp;lt;path&amp;gt;&lt;/code&gt; - Set the path to &lt;a href=&quot;#freetype&quot;&gt;FreeType&lt;/a&gt;&lt;/li&gt;
 494 &lt;li&gt;&lt;code&gt;--with-cups=&amp;lt;path&amp;gt;&lt;/code&gt; - Set the path to &lt;a href=&quot;#cups&quot;&gt;CUPS&lt;/a&gt;&lt;/li&gt;
 495 &lt;li&gt;&lt;code&gt;--with-x=&amp;lt;path&amp;gt;&lt;/code&gt; - Set the path to &lt;a href=&quot;#x11&quot;&gt;X11&lt;/a&gt;&lt;/li&gt;
 496 &lt;li&gt;&lt;code&gt;--with-alsa=&amp;lt;path&amp;gt;&lt;/code&gt; - Set the path to &lt;a href=&quot;#alsa&quot;&gt;ALSA&lt;/a&gt;&lt;/li&gt;
 497 &lt;li&gt;&lt;code&gt;--with-libffi=&amp;lt;path&amp;gt;&lt;/code&gt; - Set the path to &lt;a href=&quot;#libffi&quot;&gt;libffi&lt;/a&gt;&lt;/li&gt;
 498 &lt;li&gt;&lt;code&gt;--with-jtreg=&amp;lt;path&amp;gt;&lt;/code&gt; - Set the path to JTReg. See &lt;a href=&quot;#running-tests&quot;&gt;Running Tests&lt;/a&gt;&lt;/li&gt;
 499 &lt;/ul&gt;
<span class="line-modified"> 500 &lt;p&gt;Certain third-party libraries used by the JDK (libjpeg, giflib, libpng, lcms and zlib) are included in the JDK repository. The default behavior of the JDK build is to use this version of these libraries, but they might be replaced by an external version. To do so, specify &lt;code&gt;system&lt;/code&gt; as the &lt;code&gt;&amp;lt;source&amp;gt;&lt;/code&gt; option in these arguments. (The default is &lt;code&gt;bundled&lt;/code&gt;).&lt;/p&gt;</span>
 501 &lt;ul&gt;
 502 &lt;li&gt;&lt;code&gt;--with-libjpeg=&amp;lt;source&amp;gt;&lt;/code&gt; - Use the specified source for libjpeg&lt;/li&gt;
 503 &lt;li&gt;&lt;code&gt;--with-giflib=&amp;lt;source&amp;gt;&lt;/code&gt; - Use the specified source for giflib&lt;/li&gt;
 504 &lt;li&gt;&lt;code&gt;--with-libpng=&amp;lt;source&amp;gt;&lt;/code&gt; - Use the specified source for libpng&lt;/li&gt;
 505 &lt;li&gt;&lt;code&gt;--with-lcms=&amp;lt;source&amp;gt;&lt;/code&gt; - Use the specified source for lcms&lt;/li&gt;
 506 &lt;li&gt;&lt;code&gt;--with-zlib=&amp;lt;source&amp;gt;&lt;/code&gt; - Use the specified source for zlib&lt;/li&gt;
 507 &lt;/ul&gt;
 508 &lt;p&gt;On Linux, it is possible to select either static or dynamic linking of the C++ runtime. The default is static linking, with dynamic linking as fallback if the static library is not found.&lt;/p&gt;
 509 &lt;ul&gt;
 510 &lt;li&gt;&lt;code&gt;--with-stdc++lib=&amp;lt;method&amp;gt;&lt;/code&gt; - Use the specified method (&lt;code&gt;static&lt;/code&gt;, &lt;code&gt;dynamic&lt;/code&gt; or &lt;code&gt;default&lt;/code&gt;) for linking the C++ runtime.&lt;/li&gt;
 511 &lt;/ul&gt;
 512 &lt;h3 id=&quot;configure-control-variables&quot;&gt;Configure Control Variables&lt;/h3&gt;
 513 &lt;p&gt;It is possible to control certain aspects of &lt;code&gt;configure&lt;/code&gt; by overriding the value of &lt;code&gt;configure&lt;/code&gt; variables, either on the command line or in the environment.&lt;/p&gt;
 514 &lt;p&gt;Normally, this is &lt;strong&gt;not recommended&lt;/strong&gt;. If used improperly, it can lead to a broken configuration. Unless you&#39;re well versed in the build system, this is hard to use properly. Therefore, &lt;code&gt;configure&lt;/code&gt; will print a warning if this is detected.&lt;/p&gt;
 515 &lt;p&gt;However, there are a few &lt;code&gt;configure&lt;/code&gt; variables, known as &lt;em&gt;control variables&lt;/em&gt; that are supposed to be overriden on the command line. These are variables that describe the location of tools needed by the build, like &lt;code&gt;MAKE&lt;/code&gt; or &lt;code&gt;GREP&lt;/code&gt;. If any such variable is specified, &lt;code&gt;configure&lt;/code&gt; will use that value instead of trying to autodetect the tool. For instance, &lt;code&gt;bash configure MAKE=/opt/gnumake4.0/bin/make&lt;/code&gt;.&lt;/p&gt;
 516 &lt;p&gt;If a configure argument exists, use that instead, e.g. use &lt;code&gt;--with-jtreg&lt;/code&gt; instead of setting &lt;code&gt;JTREGEXE&lt;/code&gt;.&lt;/p&gt;
 517 &lt;p&gt;Also note that, despite what autoconf claims, setting &lt;code&gt;CFLAGS&lt;/code&gt; will not accomplish anything. Instead use &lt;code&gt;--with-extra-cflags&lt;/code&gt; (and similar for &lt;code&gt;cxxflags&lt;/code&gt; and &lt;code&gt;ldflags&lt;/code&gt;).&lt;/p&gt;
 518 &lt;h2 id=&quot;running-make&quot;&gt;Running Make&lt;/h2&gt;
 519 &lt;p&gt;When you have a proper configuration, all you need to do to build the JDK is to run &lt;code&gt;make&lt;/code&gt;. (But see the warning at &lt;a href=&quot;#gnu-make&quot;&gt;GNU Make&lt;/a&gt; about running the correct version of make.)&lt;/p&gt;
 520 &lt;p&gt;When running &lt;code&gt;make&lt;/code&gt; without any arguments, the default target is used, which is the same as running &lt;code&gt;make default&lt;/code&gt; or &lt;code&gt;make jdk&lt;/code&gt;. This will build a minimal (or roughly minimal) set of compiled output (known as an &amp;quot;exploded image&amp;quot;) needed for a developer to actually execute the newly built JDK. The idea is that in an incremental development fashion, when doing a normal make, you should only spend time recompiling what&#39;s changed (making it purely incremental) and only do the work that&#39;s needed to actually run and test your code.&lt;/p&gt;
</pre>
<hr />
<pre>
 554 &lt;ul&gt;
 555 &lt;li&gt;&lt;code&gt;JOBS&lt;/code&gt; - Specify the number of jobs to build with. See &lt;a href=&quot;#build-performance&quot;&gt;Build Performance&lt;/a&gt;.&lt;/li&gt;
 556 &lt;li&gt;&lt;code&gt;LOG&lt;/code&gt; - Specify the logging level and functionality. See &lt;a href=&quot;#checking-the-build-log-file&quot;&gt;Checking the Build Log File&lt;/a&gt;&lt;/li&gt;
 557 &lt;li&gt;&lt;code&gt;CONF&lt;/code&gt; and &lt;code&gt;CONF_NAME&lt;/code&gt; - Selecting the configuration(s) to use. See &lt;a href=&quot;#using-multiple-configurations&quot;&gt;Using Multiple Configurations&lt;/a&gt;&lt;/li&gt;
 558 &lt;/ul&gt;
 559 &lt;h4 id=&quot;test-make-control-variables&quot;&gt;Test Make Control Variables&lt;/h4&gt;
 560 &lt;p&gt;These make control variables only make sense when running tests. Please see &lt;a href=&quot;testing.html&quot;&gt;Testing the JDK&lt;/a&gt; for details.&lt;/p&gt;
 561 &lt;ul&gt;
 562 &lt;li&gt;&lt;code&gt;TEST&lt;/code&gt;&lt;/li&gt;
 563 &lt;li&gt;&lt;code&gt;TEST_JOBS&lt;/code&gt;&lt;/li&gt;
 564 &lt;li&gt;&lt;code&gt;JTREG&lt;/code&gt;&lt;/li&gt;
 565 &lt;li&gt;&lt;code&gt;GTEST&lt;/code&gt;&lt;/li&gt;
 566 &lt;/ul&gt;
 567 &lt;h4 id=&quot;advanced-make-control-variables&quot;&gt;Advanced Make Control Variables&lt;/h4&gt;
 568 &lt;p&gt;These advanced make control variables can be potentially unsafe. See &lt;a href=&quot;#hints-and-suggestions-for-advanced-users&quot;&gt;Hints and Suggestions for Advanced Users&lt;/a&gt; and &lt;a href=&quot;#understanding-the-build-system&quot;&gt;Understanding the Build System&lt;/a&gt; for details.&lt;/p&gt;
 569 &lt;ul&gt;
 570 &lt;li&gt;&lt;code&gt;SPEC&lt;/code&gt;&lt;/li&gt;
 571 &lt;li&gt;&lt;code&gt;CONF_CHECK&lt;/code&gt;&lt;/li&gt;
 572 &lt;li&gt;&lt;code&gt;COMPARE_BUILD&lt;/code&gt;&lt;/li&gt;
 573 &lt;li&gt;&lt;code&gt;JDK_FILTER&lt;/code&gt;&lt;/li&gt;

 574 &lt;/ul&gt;
 575 &lt;h2 id=&quot;running-tests&quot;&gt;Running Tests&lt;/h2&gt;
 576 &lt;p&gt;Most of the JDK tests are using the &lt;a href=&quot;http://openjdk.java.net/jtreg&quot;&gt;JTReg&lt;/a&gt; test framework. Make sure that your configuration knows where to find your installation of JTReg. If this is not picked up automatically, use the &lt;code&gt;--with-jtreg=&amp;lt;path to jtreg home&amp;gt;&lt;/code&gt; option to point to the JTReg framework. Note that this option should point to the JTReg home, i.e. the top directory, containing &lt;code&gt;lib/jtreg.jar&lt;/code&gt; etc.&lt;/p&gt;
 577 &lt;p&gt;The &lt;a href=&quot;https://wiki.openjdk.java.net/display/Adoption&quot;&gt;Adoption Group&lt;/a&gt; provides recent builds of jtreg &lt;a href=&quot;https://adopt-openjdk.ci.cloudbees.com/job/jtreg/lastSuccessfulBuild/artifact&quot;&gt;here&lt;/a&gt;. Download the latest &lt;code&gt;.tar.gz&lt;/code&gt; file, unpack it, and point &lt;code&gt;--with-jtreg&lt;/code&gt; to the &lt;code&gt;jtreg&lt;/code&gt; directory that you just unpacked.&lt;/p&gt;
 578 &lt;p&gt;To execute the most basic tests (tier 1), use:&lt;/p&gt;
 579 &lt;pre&gt;&lt;code&gt;make run-test-tier1&lt;/code&gt;&lt;/pre&gt;
 580 &lt;p&gt;For more details on how to run tests, please see the &lt;a href=&quot;testing.html&quot;&gt;Testing the JDK&lt;/a&gt; document.&lt;/p&gt;
 581 &lt;h2 id=&quot;cross-compiling&quot;&gt;Cross-compiling&lt;/h2&gt;
 582 &lt;p&gt;Cross-compiling means using one platform (the &lt;em&gt;build&lt;/em&gt; platform) to generate output that can ran on another platform (the &lt;em&gt;target&lt;/em&gt; platform).&lt;/p&gt;
 583 &lt;p&gt;The typical reason for cross-compiling is that the build is performed on a more powerful desktop computer, but the resulting binaries will be able to run on a different, typically low-performing system. Most of the complications that arise when building for embedded is due to this separation of &lt;em&gt;build&lt;/em&gt; and &lt;em&gt;target&lt;/em&gt; systems.&lt;/p&gt;
 584 &lt;p&gt;This requires a more complex setup and build procedure. This section assumes you are familiar with cross-compiling in general, and will only deal with the particularities of cross-compiling the JDK. If you are new to cross-compiling, please see the &lt;a href=&quot;https://en.wikipedia.org/wiki/Cross_compiler#External_links&quot;&gt;external links at Wikipedia&lt;/a&gt; for a good start on reading materials.&lt;/p&gt;
 585 &lt;p&gt;Cross-compiling the JDK requires you to be able to build both for the build platform and for the target platform. The reason for the former is that we need to build and execute tools during the build process, both native tools and Java tools.&lt;/p&gt;
 586 &lt;p&gt;If all you want to do is to compile a 32-bit version, for the same OS, on a 64-bit machine, consider using &lt;code&gt;--with-target-bits=32&lt;/code&gt; instead of doing a full-blown cross-compilation. (While this surely is possible, it&#39;s a lot more work and will take much longer to build.)&lt;/p&gt;
 587 &lt;h3 id=&quot;cross-compiling-the-easy-way-with-openjdk-devkits&quot;&gt;Cross compiling the easy way with OpenJDK devkits&lt;/h3&gt;
 588 &lt;p&gt;The OpenJDK build system provides out-of-the box support for creating and using so called devkits. A &lt;code&gt;devkit&lt;/code&gt; is basically a collection of a cross-compiling toolchain and a sysroot environment which can easily be used together with the &lt;code&gt;--with-devkit&lt;/code&gt; configure option to cross compile the OpenJDK. On Linux/x86_64, the following command:&lt;/p&gt;
 589 &lt;pre&gt;&lt;code&gt;bash configure --with-devkit=&amp;lt;devkit-path&amp;gt; --openjdk-target=ppc64-linux-gnu &amp;amp;&amp;amp; make&lt;/code&gt;&lt;/pre&gt;
 590 &lt;p&gt;will configure and build OpenJDK for Linux/ppc64 assuming that &lt;code&gt;&amp;lt;devkit-path&amp;gt;&lt;/code&gt; points to a Linux/x86_64 to Linux/ppc64 devkit.&lt;/p&gt;
 591 &lt;p&gt;Devkits can be created from the &lt;code&gt;make/devkit&lt;/code&gt; directory by executing:&lt;/p&gt;
 592 &lt;pre&gt;&lt;code&gt;make [ TARGETS=&amp;quot;&amp;lt;TARGET_TRIPLET&amp;gt;+&amp;quot; ] [ BASE_OS=&amp;lt;OS&amp;gt; ] [ BASE_OS_VERSION=&amp;lt;VER&amp;gt; ]&lt;/code&gt;&lt;/pre&gt;
 593 &lt;p&gt;where &lt;code&gt;TARGETS&lt;/code&gt; contains one or more &lt;code&gt;TARGET_TRIPLET&lt;/code&gt;s of the form described in &lt;a href=&quot;https://sourceware.org/autobook/autobook/autobook_17.html&quot;&gt;section 3.4 of the GNU Autobook&lt;/a&gt;. If no targets are given, a native toolchain for the current platform will be created. Currently, at least the following targets are known to work:&lt;/p&gt;
</pre>
<hr />
<pre>
 618 &lt;/tr&gt;
 619 &lt;/tbody&gt;
 620 &lt;/table&gt;
 621 &lt;p&gt;&lt;code&gt;BASE_OS&lt;/code&gt; must be one of &amp;quot;OEL6&amp;quot; for Oracle Enterprise Linux 6 or &amp;quot;Fedora&amp;quot; (if not specified &amp;quot;OEL6&amp;quot; will be the default). If the base OS is &amp;quot;Fedora&amp;quot; the corresponding Fedora release can be specified with the help of the &lt;code&gt;BASE_OS_VERSION&lt;/code&gt; option (with &amp;quot;27&amp;quot; as default version). If the build is successful, the new devkits can be found in the &lt;code&gt;build/devkit/result&lt;/code&gt; subdirectory:&lt;/p&gt;
 622 &lt;pre&gt;&lt;code&gt;cd make/devkit
 623 make TARGETS=&amp;quot;ppc64le-linux-gnu aarch64-linux-gnu&amp;quot; BASE_OS=Fedora BASE_OS_VERSION=21
 624 ls -1 ../../build/devkit/result/
 625 x86_64-linux-gnu-to-aarch64-linux-gnu
 626 x86_64-linux-gnu-to-ppc64le-linux-gnu&lt;/code&gt;&lt;/pre&gt;
 627 &lt;p&gt;Notice that devkits are not only useful for targeting different build platforms. Because they contain the full build dependencies for a system (i.e. compiler and root file system), they can easily be used to build well-known, reliable and reproducible build environments. You can for example create and use a devkit with GCC 7.3 and a Fedora 12 sysroot environment (with glibc 2.11) on Ubuntu 14.04 (which doesn&#39;t have GCC 7.3 by default) to produce OpenJDK binaries which will run on all Linux systems with runtime libraries newer than the ones from Fedora 12 (e.g. Ubuntu 16.04, SLES 11 or RHEL 6).&lt;/p&gt;
 628 &lt;h3 id=&quot;boot-jdk-and-build-jdk&quot;&gt;Boot JDK and Build JDK&lt;/h3&gt;
 629 &lt;p&gt;When cross-compiling, make sure you use a boot JDK that runs on the &lt;em&gt;build&lt;/em&gt; system, and not on the &lt;em&gt;target&lt;/em&gt; system.&lt;/p&gt;
 630 &lt;p&gt;To be able to build, we need a &amp;quot;Build JDK&amp;quot;, which is a JDK built from the current sources (that is, the same as the end result of the entire build process), but able to run on the &lt;em&gt;build&lt;/em&gt; system, and not the &lt;em&gt;target&lt;/em&gt; system. (In contrast, the Boot JDK should be from an older release, e.g. JDK 8 when building JDK 9.)&lt;/p&gt;
 631 &lt;p&gt;The build process will create a minimal Build JDK for you, as part of building. To speed up the build, you can use &lt;code&gt;--with-build-jdk&lt;/code&gt; to &lt;code&gt;configure&lt;/code&gt; to point to a pre-built Build JDK. Please note that the build result is unpredictable, and can possibly break in subtle ways, if the Build JDK does not &lt;strong&gt;exactly&lt;/strong&gt; match the current sources.&lt;/p&gt;
 632 &lt;h3 id=&quot;specifying-the-target-platform&quot;&gt;Specifying the Target Platform&lt;/h3&gt;
 633 &lt;p&gt;You &lt;em&gt;must&lt;/em&gt; specify the target platform when cross-compiling. Doing so will also automatically turn the build into a cross-compiling mode. The simplest way to do this is to use the &lt;code&gt;--openjdk-target&lt;/code&gt; argument, e.g. &lt;code&gt;--openjdk-target=arm-linux-gnueabihf&lt;/code&gt;. or &lt;code&gt;--openjdk-target=aarch64-oe-linux&lt;/code&gt;. This will automatically set the &lt;code&gt;--build&lt;/code&gt;, &lt;code&gt;--host&lt;/code&gt; and &lt;code&gt;--target&lt;/code&gt; options for autoconf, which can otherwise be confusing. (In autoconf terminology, the &amp;quot;target&amp;quot; is known as &amp;quot;host&amp;quot;, and &amp;quot;target&amp;quot; is used for building a Canadian cross-compiler.)&lt;/p&gt;
 634 &lt;h3 id=&quot;toolchain-considerations&quot;&gt;Toolchain Considerations&lt;/h3&gt;
 635 &lt;p&gt;You will need two copies of your toolchain, one which generates output that can run on the target system (the normal, or &lt;em&gt;target&lt;/em&gt;, toolchain), and one that generates output that can run on the build system (the &lt;em&gt;build&lt;/em&gt; toolchain). Note that cross-compiling is only supported for gcc at the time being. The gcc standard is to prefix cross-compiling toolchains with the target denominator. If you follow this standard, &lt;code&gt;configure&lt;/code&gt; is likely to pick up the toolchain correctly.&lt;/p&gt;
 636 &lt;p&gt;The &lt;em&gt;build&lt;/em&gt; toolchain will be autodetected just the same way the normal &lt;em&gt;build&lt;/em&gt;/&lt;em&gt;target&lt;/em&gt; toolchain will be autodetected when not cross-compiling. If this is not what you want, or if the autodetection fails, you can specify a devkit containing the &lt;em&gt;build&lt;/em&gt; toolchain using &lt;code&gt;--with-build-devkit&lt;/code&gt; to &lt;code&gt;configure&lt;/code&gt;, or by giving &lt;code&gt;BUILD_CC&lt;/code&gt; and &lt;code&gt;BUILD_CXX&lt;/code&gt; arguments.&lt;/p&gt;
 637 &lt;p&gt;It is often helpful to locate the cross-compilation tools, headers and libraries in a separate directory, outside the normal path, and point out that directory to &lt;code&gt;configure&lt;/code&gt;. Do this by setting the sysroot (&lt;code&gt;--with-sysroot&lt;/code&gt;) and appending the directory when searching for cross-compilations tools (&lt;code&gt;--with-toolchain-path&lt;/code&gt;). As a compact form, you can also use &lt;code&gt;--with-devkit&lt;/code&gt; to point to a single directory, if it is correctly setup. (See &lt;code&gt;basics.m4&lt;/code&gt; for details.)&lt;/p&gt;
<span class="line-removed"> 638 &lt;p&gt;If you are unsure what toolchain and versions to use, these have been proved working at the time of writing:&lt;/p&gt;</span>
<span class="line-removed"> 639 &lt;ul&gt;</span>
<span class="line-removed"> 640 &lt;li&gt;&lt;a href=&quot;https://releases.linaro.org/archive/13.11/components/toolchain/binaries/gcc-linaro-aarch64-linux-gnu-4.8-2013.11_linux.tar.xz&quot;&gt;aarch64&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-removed"> 641 &lt;li&gt;&lt;a href=&quot;https://launchpad.net/linaro-toolchain-unsupported/trunk/2012.09/+download/gcc-linaro-arm-linux-gnueabihf-raspbian-2012.09-20120921_linux.tar.bz2&quot;&gt;arm 32-bit hardware floating point&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-removed"> 642 &lt;/ul&gt;</span>
 643 &lt;h3 id=&quot;native-libraries&quot;&gt;Native Libraries&lt;/h3&gt;
 644 &lt;p&gt;You will need copies of external native libraries for the &lt;em&gt;target&lt;/em&gt; system, present on the &lt;em&gt;build&lt;/em&gt; machine while building.&lt;/p&gt;
 645 &lt;p&gt;Take care not to replace the &lt;em&gt;build&lt;/em&gt; system&#39;s version of these libraries by mistake, since that can render the &lt;em&gt;build&lt;/em&gt; machine unusable.&lt;/p&gt;
 646 &lt;p&gt;Make sure that the libraries you point to (ALSA, X11, etc) are for the &lt;em&gt;target&lt;/em&gt;, not the &lt;em&gt;build&lt;/em&gt;, platform.&lt;/p&gt;
 647 &lt;h4 id=&quot;alsa-1&quot;&gt;ALSA&lt;/h4&gt;
 648 &lt;p&gt;You will need alsa libraries suitable for your &lt;em&gt;target&lt;/em&gt; system. For most cases, using Debian&#39;s pre-built libraries work fine.&lt;/p&gt;
 649 &lt;p&gt;Note that alsa is needed even if you only want to build a headless JDK.&lt;/p&gt;
 650 &lt;ul&gt;
 651 &lt;li&gt;&lt;p&gt;Go to &lt;a href=&quot;https://www.debian.org/distrib/packages&quot;&gt;Debian Package Search&lt;/a&gt; and search for the &lt;code&gt;libasound2&lt;/code&gt; and &lt;code&gt;libasound2-dev&lt;/code&gt; packages for your &lt;em&gt;target&lt;/em&gt; system. Download them to /tmp.&lt;/p&gt;&lt;/li&gt;
 652 &lt;li&gt;Install the libraries into the cross-compilation toolchain. For instance:&lt;/li&gt;
 653 &lt;/ul&gt;
 654 &lt;pre&gt;&lt;code&gt;cd /tools/gcc-linaro-arm-linux-gnueabihf-raspbian-2012.09-20120921_linux/arm-linux-gnueabihf/libc
 655 dpkg-deb -x /tmp/libasound2_1.0.25-4_armhf.deb .
 656 dpkg-deb -x /tmp/libasound2-dev_1.0.25-4_armhf.deb .&lt;/code&gt;&lt;/pre&gt;
 657 &lt;ul&gt;
 658 &lt;li&gt;If alsa is not properly detected by &lt;code&gt;configure&lt;/code&gt;, you can point it out by &lt;code&gt;--with-alsa&lt;/code&gt;.&lt;/li&gt;
 659 &lt;/ul&gt;
 660 &lt;h4 id=&quot;x11-1&quot;&gt;X11&lt;/h4&gt;
 661 &lt;p&gt;You will need X11 libraries suitable for your &lt;em&gt;target&lt;/em&gt; system. For most cases, using Debian&#39;s pre-built libraries work fine.&lt;/p&gt;
 662 &lt;p&gt;Note that X11 is needed even if you only want to build a headless JDK.&lt;/p&gt;
</pre>
</td>
<td>
<hr />
<pre>
 144 &lt;ul&gt;
 145 &lt;li&gt;&lt;p&gt;Do not check out the source code in a path which contains spaces. Chances are the build will not work. This is most likely to be an issue on Windows systems.&lt;/p&gt;&lt;/li&gt;
 146 &lt;li&gt;&lt;p&gt;Do not check out the source code in a path which has a very long name or is nested many levels deep. Chances are you will hit an OS limitation during the build.&lt;/p&gt;&lt;/li&gt;
 147 &lt;li&gt;&lt;p&gt;Put the source code on a local disk, not a network share. If possible, use an SSD. The build process is very disk intensive, and having slow disk access will significantly increase build times. If you need to use a network share for the source code, see below for suggestions on how to keep the build artifacts on a local disk.&lt;/p&gt;&lt;/li&gt;
 148 &lt;li&gt;&lt;p&gt;On Windows, if using &lt;a href=&quot;#cygwin&quot;&gt;Cygwin&lt;/a&gt;, extra care must be taken to make sure the environment is consistent. It is recommended that you follow this procedure:&lt;/p&gt;
 149 &lt;ul&gt;
 150 &lt;li&gt;&lt;p&gt;Create the directory that is going to contain the top directory of the JDK clone by using the &lt;code&gt;mkdir&lt;/code&gt; command in the Cygwin bash shell. That is, do &lt;em&gt;not&lt;/em&gt; create it using Windows Explorer. This will ensure that it will have proper Cygwin attributes, and that it&#39;s children will inherit those attributes.&lt;/p&gt;&lt;/li&gt;
 151 &lt;li&gt;&lt;p&gt;Do not put the JDK clone in a path under your Cygwin home directory. This is especially important if your user name contains spaces and/or mixed upper and lower case letters.&lt;/p&gt;&lt;/li&gt;
 152 &lt;li&gt;&lt;p&gt;Clone the JDK repository using the Cygwin command line &lt;code&gt;hg&lt;/code&gt; client as instructed in this document. That is, do &lt;em&gt;not&lt;/em&gt; use another Mercurial client such as TortoiseHg.&lt;/p&gt;&lt;/li&gt;
 153 &lt;/ul&gt;
 154 &lt;p&gt;Failure to follow this procedure might result in hard-to-debug build problems.&lt;/p&gt;&lt;/li&gt;
 155 &lt;/ul&gt;
 156 &lt;h2 id=&quot;build-hardware-requirements&quot;&gt;Build Hardware Requirements&lt;/h2&gt;
 157 &lt;p&gt;The JDK is a massive project, and require machines ranging from decent to powerful to be able to build in a reasonable amount of time, or to be able to complete a build at all.&lt;/p&gt;
 158 &lt;p&gt;We &lt;em&gt;strongly&lt;/em&gt; recommend usage of an SSD disk for the build, since disk speed is one of the limiting factors for build performance.&lt;/p&gt;
 159 &lt;h3 id=&quot;building-on-x86&quot;&gt;Building on x86&lt;/h3&gt;
 160 &lt;p&gt;At a minimum, a machine with 2-4 cores is advisable, as well as 2-4 GB of RAM. (The more cores to use, the more memory you need.) At least 6 GB of free disk space is required (8 GB minimum for building on Solaris).&lt;/p&gt;
 161 &lt;p&gt;Even for 32-bit builds, it is recommended to use a 64-bit build machine, and instead create a 32-bit target using &lt;code&gt;--with-target-bits=32&lt;/code&gt;.&lt;/p&gt;
 162 &lt;h3 id=&quot;building-on-sparc&quot;&gt;Building on sparc&lt;/h3&gt;
 163 &lt;p&gt;At a minimum, a machine with 4 cores is advisable, as well as 4 GB of RAM. (The more cores to use, the more memory you need.) At least 8 GB of free disk space is required.&lt;/p&gt;
<span class="line-added"> 164 &lt;p&gt;Note: The sparc port is deprecated.&lt;/p&gt;</span>
 165 &lt;h3 id=&quot;building-on-aarch64&quot;&gt;Building on aarch64&lt;/h3&gt;
 166 &lt;p&gt;At a minimum, a machine with 8 cores is advisable, as well as 8 GB of RAM. (The more cores to use, the more memory you need.) At least 6 GB of free disk space is required.&lt;/p&gt;
 167 &lt;p&gt;If you do not have access to sufficiently powerful hardware, it is also possible to use &lt;a href=&quot;#cross-compiling&quot;&gt;cross-compiling&lt;/a&gt;.&lt;/p&gt;
 168 &lt;h3 id=&quot;building-on-32-bit-arm&quot;&gt;Building on 32-bit arm&lt;/h3&gt;
 169 &lt;p&gt;This is not recommended. Instead, see the section on &lt;a href=&quot;#cross-compiling&quot;&gt;Cross-compiling&lt;/a&gt;.&lt;/p&gt;
 170 &lt;h2 id=&quot;operating-system-requirements&quot;&gt;Operating System Requirements&lt;/h2&gt;
 171 &lt;p&gt;The mainline JDK project supports Linux, Solaris, macOS, AIX and Windows. Support for other operating system, e.g. BSD, exists in separate &amp;quot;port&amp;quot; projects.&lt;/p&gt;
 172 &lt;p&gt;In general, the JDK can be built on a wide range of versions of these operating systems, but the further you deviate from what is tested on a daily basis, the more likely you are to run into problems.&lt;/p&gt;
 173 &lt;p&gt;This table lists the OS versions used by Oracle when building the JDK. Such information is always subject to change, but this table is up to date at the time of writing.&lt;/p&gt;
 174 &lt;table&gt;
 175 &lt;thead&gt;
 176 &lt;tr class=&quot;header&quot;&gt;
 177 &lt;th style=&quot;text-align: left;&quot;&gt;Operating system&lt;/th&gt;
 178 &lt;th style=&quot;text-align: left;&quot;&gt;Vendor/version used&lt;/th&gt;
 179 &lt;/tr&gt;
 180 &lt;/thead&gt;
 181 &lt;tbody&gt;
 182 &lt;tr class=&quot;odd&quot;&gt;
 183 &lt;td style=&quot;text-align: left;&quot;&gt;Linux&lt;/td&gt;
<span class="line-modified"> 184 &lt;td style=&quot;text-align: left;&quot;&gt;Oracle Enterprise Linux 6.4 / 7.6&lt;/td&gt;</span>
 185 &lt;/tr&gt;
 186 &lt;tr class=&quot;even&quot;&gt;
 187 &lt;td style=&quot;text-align: left;&quot;&gt;Solaris&lt;/td&gt;
<span class="line-modified"> 188 &lt;td style=&quot;text-align: left;&quot;&gt;Solaris 11.3 SRU 20&lt;/td&gt;</span>
 189 &lt;/tr&gt;
 190 &lt;tr class=&quot;odd&quot;&gt;
 191 &lt;td style=&quot;text-align: left;&quot;&gt;macOS&lt;/td&gt;
<span class="line-modified"> 192 &lt;td style=&quot;text-align: left;&quot;&gt;Mac OS X 10.13 (High Sierra)&lt;/td&gt;</span>
 193 &lt;/tr&gt;
 194 &lt;tr class=&quot;even&quot;&gt;
 195 &lt;td style=&quot;text-align: left;&quot;&gt;Windows&lt;/td&gt;
 196 &lt;td style=&quot;text-align: left;&quot;&gt;Windows Server 2012 R2&lt;/td&gt;
 197 &lt;/tr&gt;
 198 &lt;/tbody&gt;
 199 &lt;/table&gt;
<span class="line-modified"> 200 &lt;p&gt;The double version numbers for Linux and Solaris are due to the hybrid model used at Oracle, where header files and external libraries from an older version are used when building on a more modern version of the OS.&lt;/p&gt;</span>
 201 &lt;p&gt;The Build Group has a wiki page with &lt;a href=&quot;https://wiki.openjdk.java.net/display/Build/Supported+Build+Platforms&quot;&gt;Supported Build Platforms&lt;/a&gt;. From time to time, this is updated by contributors to list successes or failures of building on different platforms.&lt;/p&gt;
 202 &lt;h3 id=&quot;windows&quot;&gt;Windows&lt;/h3&gt;
 203 &lt;p&gt;Windows XP is not a supported platform, but all newer Windows should be able to build the JDK.&lt;/p&gt;
 204 &lt;p&gt;On Windows, it is important that you pay attention to the instructions in the &lt;a href=&quot;#special-considerations&quot;&gt;Special Considerations&lt;/a&gt;.&lt;/p&gt;
 205 &lt;p&gt;Windows is the only non-POSIX OS supported by the JDK, and as such, requires some extra care. A POSIX support layer is required to build on Windows. Currently, the only supported such layers are Cygwin and Windows Subsystem for Linux (WSL). (Msys is no longer supported due to a too old bash; msys2 would likely be possible to support in a future version but that would require effort to implement.)&lt;/p&gt;
 206 &lt;p&gt;Internally in the build system, all paths are represented as Unix-style paths, e.g. &lt;code&gt;/cygdrive/c/hg/jdk9/Makefile&lt;/code&gt; rather than &lt;code&gt;C:\hg\jdk9\Makefile&lt;/code&gt;. This rule also applies to input to the build system, e.g. in arguments to &lt;code&gt;configure&lt;/code&gt;. So, use &lt;code&gt;--with-msvcr-dll=/cygdrive/c/msvcr100.dll&lt;/code&gt; rather than &lt;code&gt;--with-msvcr-dll=c:\msvcr100.dll&lt;/code&gt;. For details on this conversion, see the section on &lt;a href=&quot;#fixpath&quot;&gt;Fixpath&lt;/a&gt;.&lt;/p&gt;
 207 &lt;h4 id=&quot;cygwin&quot;&gt;Cygwin&lt;/h4&gt;
 208 &lt;p&gt;A functioning &lt;a href=&quot;http://www.cygwin.com/&quot;&gt;Cygwin&lt;/a&gt; environment is required for building the JDK on Windows. If you have a 64-bit OS, we strongly recommend using the 64-bit version of Cygwin.&lt;/p&gt;
 209 &lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Cygwin has a model of continuously updating all packages without any easy way to install or revert to a specific version of a package. This means that whenever you add or update a package in Cygwin, you might (inadvertently) update tools that are used by the JDK build process, and that can cause unexpected build problems.&lt;/p&gt;
 210 &lt;p&gt;The JDK requires GNU Make 4.0 or greater in Cygwin. This is usually not a problem, since Cygwin currently only distributes GNU Make at a version above 4.0.&lt;/p&gt;
 211 &lt;p&gt;Apart from the basic Cygwin installation, the following packages must also be installed:&lt;/p&gt;
 212 &lt;ul&gt;
 213 &lt;li&gt;&lt;code&gt;autoconf&lt;/code&gt;&lt;/li&gt;
 214 &lt;li&gt;&lt;code&gt;make&lt;/code&gt;&lt;/li&gt;
 215 &lt;li&gt;&lt;code&gt;zip&lt;/code&gt;&lt;/li&gt;
 216 &lt;li&gt;&lt;code&gt;unzip&lt;/code&gt;&lt;/li&gt;
 217 &lt;/ul&gt;
 218 &lt;p&gt;Often, you can install these packages using the following command line:&lt;/p&gt;
 219 &lt;pre&gt;&lt;code&gt;&amp;lt;path to Cygwin setup&amp;gt;/setup-x86_64 -q -P autoconf -P make -P unzip -P zip&lt;/code&gt;&lt;/pre&gt;
 220 &lt;p&gt;Unfortunately, Cygwin can be unreliable in certain circumstances. If you experience build tool crashes or strange issues when building on Windows, please check the Cygwin FAQ on the &lt;a href=&quot;https://cygwin.com/faq/faq.html#faq.using.bloda&quot;&gt;&amp;quot;BLODA&amp;quot; list&lt;/a&gt; and the section on &lt;a href=&quot;https://cygwin.com/faq/faq.html#faq.using.fixing-fork-failures&quot;&gt;fork() failures&lt;/a&gt;.&lt;/p&gt;
 221 &lt;h4 id=&quot;windows-subsystem-for-linux-wsl&quot;&gt;Windows Subsystem for Linux (WSL)&lt;/h4&gt;
 222 &lt;p&gt;Windows 10 1809 or newer is supported due to a dependency on the wslpath utility and support for environment variable sharing through WSLENV. Version 1803 can work but intermittent build failures have been observed.&lt;/p&gt;
 223 &lt;p&gt;It&#39;s possible to build both Windows and Linux binaries from WSL. To build Windows binaries, you must use a Windows boot JDK (located in a Windows-accessible directory). To build Linux binaries, you must use a Linux boot JDK. The default behavior is to build for Windows. To build for Linux, pass &lt;code&gt;--build=x86_64-unknown-linux-gnu --host=x86_64-unknown-linux-gnu&lt;/code&gt; to &lt;code&gt;configure&lt;/code&gt;.&lt;/p&gt;
 224 &lt;p&gt;If building Windows binaries, the source code must be located in a Windows- accessible directory. This is because Windows executables (such as Visual Studio and the boot JDK) must be able to access the source code. Also, the drive where the source is stored must be mounted as case-insensitive by changing either /etc/fstab or /etc/wsl.conf in WSL. Individual directories may be corrected using the fsutil tool in case the source was cloned before changing the mount options.&lt;/p&gt;
 225 &lt;p&gt;Note that while it&#39;s possible to build on WSL, testing is still not fully supported.&lt;/p&gt;
 226 &lt;h3 id=&quot;solaris&quot;&gt;Solaris&lt;/h3&gt;
 227 &lt;p&gt;See &lt;code&gt;make/devkit/solaris11.1-package-list.txt&lt;/code&gt; for a list of recommended packages to install when building on Solaris. The versions specified in this list is the versions used by the daily builds at Oracle, and is likely to work properly.&lt;/p&gt;
 228 &lt;p&gt;Older versions of Solaris shipped a broken version of &lt;code&gt;objcopy&lt;/code&gt;. At least version 2.21.1 is needed, which is provided by Solaris 11 Update 1. Objcopy is needed if you want to have external debug symbols. Please make sure you are using at least version 2.21.1 of objcopy, or that you disable external debug symbols.&lt;/p&gt;
<span class="line-added"> 229 &lt;p&gt;Note: The Solaris port is deprecated.&lt;/p&gt;</span>
 230 &lt;h3 id=&quot;macos&quot;&gt;macOS&lt;/h3&gt;
 231 &lt;p&gt;Apple is using a quite aggressive scheme of pushing OS updates, and coupling these updates with required updates of Xcode. Unfortunately, this makes it difficult for a project such as the JDK to keep pace with a continuously updated machine running macOS. See the section on &lt;a href=&quot;#apple-xcode&quot;&gt;Apple Xcode&lt;/a&gt; on some strategies to deal with this.&lt;/p&gt;
 232 &lt;p&gt;It is recommended that you use at least Mac OS X 10.13 (High Sierra). At the time of writing, the JDK has been successfully compiled on macOS 10.12 (Sierra).&lt;/p&gt;
 233 &lt;p&gt;The standard macOS environment contains the basic tooling needed to build, but for external libraries a package manager is recommended. The JDK uses &lt;a href=&quot;https://brew.sh/&quot;&gt;homebrew&lt;/a&gt; in the examples, but feel free to use whatever manager you want (or none).&lt;/p&gt;
 234 &lt;h3 id=&quot;linux&quot;&gt;Linux&lt;/h3&gt;
 235 &lt;p&gt;It is often not much problem to build the JDK on Linux. The only general advice is to try to use the compilers, external libraries and header files as provided by your distribution.&lt;/p&gt;
 236 &lt;p&gt;The basic tooling is provided as part of the core operating system, but you will most likely need to install developer packages.&lt;/p&gt;
 237 &lt;p&gt;For apt-based distributions (Debian, Ubuntu, etc), try this:&lt;/p&gt;
 238 &lt;pre&gt;&lt;code&gt;sudo apt-get install build-essential&lt;/code&gt;&lt;/pre&gt;
 239 &lt;p&gt;For rpm-based distributions (Fedora, Red Hat, etc), try this:&lt;/p&gt;
 240 &lt;pre&gt;&lt;code&gt;sudo yum groupinstall &amp;quot;Development Tools&amp;quot;&lt;/code&gt;&lt;/pre&gt;
 241 &lt;h3 id=&quot;aix&quot;&gt;AIX&lt;/h3&gt;
 242 &lt;p&gt;Please consult the AIX section of the &lt;a href=&quot;https://wiki.openjdk.java.net/display/Build/Supported+Build+Platforms&quot;&gt;Supported Build Platforms&lt;/a&gt; OpenJDK Build Wiki page for details about which versions of AIX are supported.&lt;/p&gt;
 243 &lt;h2 id=&quot;native-compiler-toolchain-requirements&quot;&gt;Native Compiler (Toolchain) Requirements&lt;/h2&gt;
 244 &lt;p&gt;Large portions of the JDK consists of native code, that needs to be compiled to be able to run on the target platform. In theory, toolchain and operating system should be independent factors, but in practice there&#39;s more or less a one-to-one correlation between target operating system and toolchain.&lt;/p&gt;
 245 &lt;table&gt;
 246 &lt;thead&gt;
 247 &lt;tr class=&quot;header&quot;&gt;
 248 &lt;th style=&quot;text-align: left;&quot;&gt;Operating system&lt;/th&gt;
 249 &lt;th style=&quot;text-align: left;&quot;&gt;Supported toolchain&lt;/th&gt;
</pre>
<hr />
<pre>
 266 &lt;td style=&quot;text-align: left;&quot;&gt;AIX&lt;/td&gt;
 267 &lt;td style=&quot;text-align: left;&quot;&gt;IBM XL C/C++&lt;/td&gt;
 268 &lt;/tr&gt;
 269 &lt;tr class=&quot;odd&quot;&gt;
 270 &lt;td style=&quot;text-align: left;&quot;&gt;Windows&lt;/td&gt;
 271 &lt;td style=&quot;text-align: left;&quot;&gt;Microsoft Visual Studio&lt;/td&gt;
 272 &lt;/tr&gt;
 273 &lt;/tbody&gt;
 274 &lt;/table&gt;
 275 &lt;p&gt;Please see the individual sections on the toolchains for version recommendations. As a reference, these versions of the toolchains are used, at the time of writing, by Oracle for the daily builds of the JDK. It should be possible to compile the JDK with both older and newer versions, but the closer you stay to this list, the more likely you are to compile successfully without issues.&lt;/p&gt;
 276 &lt;table&gt;
 277 &lt;thead&gt;
 278 &lt;tr class=&quot;header&quot;&gt;
 279 &lt;th style=&quot;text-align: left;&quot;&gt;Operating system&lt;/th&gt;
 280 &lt;th style=&quot;text-align: left;&quot;&gt;Toolchain version&lt;/th&gt;
 281 &lt;/tr&gt;
 282 &lt;/thead&gt;
 283 &lt;tbody&gt;
 284 &lt;tr class=&quot;odd&quot;&gt;
 285 &lt;td style=&quot;text-align: left;&quot;&gt;Linux&lt;/td&gt;
<span class="line-modified"> 286 &lt;td style=&quot;text-align: left;&quot;&gt;gcc 8.3.0&lt;/td&gt;</span>
 287 &lt;/tr&gt;
 288 &lt;tr class=&quot;even&quot;&gt;
 289 &lt;td style=&quot;text-align: left;&quot;&gt;macOS&lt;/td&gt;
<span class="line-modified"> 290 &lt;td style=&quot;text-align: left;&quot;&gt;Apple Xcode 10.1 (using clang 10.0.0)&lt;/td&gt;</span>
 291 &lt;/tr&gt;
 292 &lt;tr class=&quot;odd&quot;&gt;
 293 &lt;td style=&quot;text-align: left;&quot;&gt;Solaris&lt;/td&gt;
<span class="line-modified"> 294 &lt;td style=&quot;text-align: left;&quot;&gt;Oracle Solaris Studio 12.6 (with compiler version 5.15)&lt;/td&gt;</span>
 295 &lt;/tr&gt;
 296 &lt;tr class=&quot;even&quot;&gt;
 297 &lt;td style=&quot;text-align: left;&quot;&gt;Windows&lt;/td&gt;
<span class="line-modified"> 298 &lt;td style=&quot;text-align: left;&quot;&gt;Microsoft Visual Studio 2017 update 15.9.16&lt;/td&gt;</span>
 299 &lt;/tr&gt;
 300 &lt;/tbody&gt;
 301 &lt;/table&gt;
<span class="line-added"> 302 &lt;p&gt;All compilers are expected to be able to compile to the C99 language standard, as some C99 features are used in the source code. Microsoft Visual Studio doesn&#39;t fully support C99 so in practice shared code is limited to using C99 features that it does support.&lt;/p&gt;</span>
 303 &lt;h3 id=&quot;gcc&quot;&gt;gcc&lt;/h3&gt;
<span class="line-modified"> 304 &lt;p&gt;The minimum accepted version of gcc is 5.0. Older versions will generate a warning by &lt;code&gt;configure&lt;/code&gt; and are unlikely to work.&lt;/p&gt;</span>
<span class="line-modified"> 305 &lt;p&gt;The JDK is currently known to be able to compile with at least version 8.3 of gcc.&lt;/p&gt;</span>
 306 &lt;p&gt;In general, any version between these two should be usable.&lt;/p&gt;
 307 &lt;h3 id=&quot;clang&quot;&gt;clang&lt;/h3&gt;
 308 &lt;p&gt;The minimum accepted version of clang is 3.2. Older versions will not be accepted by &lt;code&gt;configure&lt;/code&gt;.&lt;/p&gt;
 309 &lt;p&gt;To use clang instead of gcc on Linux, use &lt;code&gt;--with-toolchain-type=clang&lt;/code&gt;.&lt;/p&gt;
 310 &lt;h3 id=&quot;apple-xcode&quot;&gt;Apple Xcode&lt;/h3&gt;
 311 &lt;p&gt;The oldest supported version of Xcode is 8.&lt;/p&gt;
 312 &lt;p&gt;You will need the Xcode command lines developers tools to be able to build the JDK. (Actually, &lt;em&gt;only&lt;/em&gt; the command lines tools are needed, not the IDE.) The simplest way to install these is to run:&lt;/p&gt;
 313 &lt;pre&gt;&lt;code&gt;xcode-select --install&lt;/code&gt;&lt;/pre&gt;
 314 &lt;p&gt;It is advisable to keep an older version of Xcode for building the JDK when updating Xcode. This &lt;a href=&quot;http://iosdevelopertips.com/xcode/install-multiple-versions-of-xcode.html&quot;&gt;blog page&lt;/a&gt; has good suggestions on managing multiple Xcode versions. To use a specific version of Xcode, use &lt;code&gt;xcode-select -s&lt;/code&gt; before running &lt;code&gt;configure&lt;/code&gt;, or use &lt;code&gt;--with-toolchain-path&lt;/code&gt; to point to the version of Xcode to use, e.g. &lt;code&gt;configure --with-toolchain-path=/Applications/Xcode8.app/Contents/Developer/usr/bin&lt;/code&gt;&lt;/p&gt;
 315 &lt;p&gt;If you have recently (inadvertently) updated your OS and/or Xcode version, and the JDK can no longer be built, please see the section on &lt;a href=&quot;#problems-with-the-build-environment&quot;&gt;Problems with the Build Environment&lt;/a&gt;, and &lt;a href=&quot;#getting-help&quot;&gt;Getting Help&lt;/a&gt; to find out if there are any recent, non-merged patches available for this update.&lt;/p&gt;
 316 &lt;h3 id=&quot;oracle-solaris-studio&quot;&gt;Oracle Solaris Studio&lt;/h3&gt;
 317 &lt;p&gt;The minimum accepted version of the Solaris Studio compilers is 5.13 (corresponding to Solaris Studio 12.4). Older versions will not be accepted by configure.&lt;/p&gt;
 318 &lt;p&gt;The Solaris Studio installation should contain at least these packages:&lt;/p&gt;
 319 &lt;table&gt;
 320 &lt;thead&gt;
 321 &lt;tr class=&quot;header&quot;&gt;
 322 &lt;th style=&quot;text-align: left;&quot;&gt;Package&lt;/th&gt;
 323 &lt;th style=&quot;text-align: left;&quot;&gt;Version&lt;/th&gt;
 324 &lt;/tr&gt;
 325 &lt;/thead&gt;
</pre>
<hr />
<pre>
 355 &lt;tr class=&quot;even&quot;&gt;
 356 &lt;td style=&quot;text-align: left;&quot;&gt;developer/solarisstudio-124/studio-ja&lt;/td&gt;
 357 &lt;td style=&quot;text-align: left;&quot;&gt;12.4-1.0.0.1&lt;/td&gt;
 358 &lt;/tr&gt;
 359 &lt;tr class=&quot;odd&quot;&gt;
 360 &lt;td style=&quot;text-align: left;&quot;&gt;developer/solarisstudio-124/studio-legal&lt;/td&gt;
 361 &lt;td style=&quot;text-align: left;&quot;&gt;12.4-1.0.0.1&lt;/td&gt;
 362 &lt;/tr&gt;
 363 &lt;tr class=&quot;even&quot;&gt;
 364 &lt;td style=&quot;text-align: left;&quot;&gt;developer/solarisstudio-124/studio-zhCN&lt;/td&gt;
 365 &lt;td style=&quot;text-align: left;&quot;&gt;12.4-1.0.0.1&lt;/td&gt;
 366 &lt;/tr&gt;
 367 &lt;/tbody&gt;
 368 &lt;/table&gt;
 369 &lt;p&gt;Compiling with Solaris Studio can sometimes be finicky. This is the exact version used by Oracle, which worked correctly at the time of writing:&lt;/p&gt;
 370 &lt;pre&gt;&lt;code&gt;$ cc -V
 371 cc: Sun C 5.13 SunOS_i386 2014/10/20
 372 $ CC -V
 373 CC: Sun C++ 5.13 SunOS_i386 151846-10 2015/10/30&lt;/code&gt;&lt;/pre&gt;
 374 &lt;h3 id=&quot;microsoft-visual-studio&quot;&gt;Microsoft Visual Studio&lt;/h3&gt;
<span class="line-modified"> 375 &lt;p&gt;The minimum accepted version of Visual Studio is 2010. Older versions will not be accepted by &lt;code&gt;configure&lt;/code&gt;. The maximum accepted version of Visual Studio is 2019. Versions older than 2017 are unlikely to continue working for long.&lt;/p&gt;</span>
 376 &lt;p&gt;If you have multiple versions of Visual Studio installed, &lt;code&gt;configure&lt;/code&gt; will by default pick the latest. You can request a specific version to be used by setting &lt;code&gt;--with-toolchain-version&lt;/code&gt;, e.g. &lt;code&gt;--with-toolchain-version=2015&lt;/code&gt;.&lt;/p&gt;
 377 &lt;p&gt;If you get &lt;code&gt;LINK: fatal error LNK1123: failure during conversion to COFF: file invalid&lt;/code&gt; when building using Visual Studio 2010, you have encountered &lt;a href=&quot;http://support.microsoft.com/kb/2757355&quot;&gt;KB2757355&lt;/a&gt;, a bug triggered by a specific installation order. However, the solution suggested by the KB article does not always resolve the problem. See &lt;a href=&quot;https://stackoverflow.com/questions/10888391&quot;&gt;this stackoverflow discussion&lt;/a&gt; for other suggestions.&lt;/p&gt;
 378 &lt;h3 id=&quot;ibm-xl-cc&quot;&gt;IBM XL C/C++&lt;/h3&gt;
 379 &lt;p&gt;Please consult the AIX section of the &lt;a href=&quot;https://wiki.openjdk.java.net/display/Build/Supported+Build+Platforms&quot;&gt;Supported Build Platforms&lt;/a&gt; OpenJDK Build Wiki page for details about which versions of XLC are supported.&lt;/p&gt;
 380 &lt;h2 id=&quot;boot-jdk-requirements&quot;&gt;Boot JDK Requirements&lt;/h2&gt;
 381 &lt;p&gt;Paradoxically, building the JDK requires a pre-existing JDK. This is called the &amp;quot;boot JDK&amp;quot;. The boot JDK does not, however, have to be a JDK built directly from the source code available in the OpenJDK Community. If you are porting the JDK to a new platform, chances are that there already exists another JDK for that platform that is usable as boot JDK.&lt;/p&gt;
 382 &lt;p&gt;The rule of thumb is that the boot JDK for building JDK major version &lt;em&gt;N&lt;/em&gt; should be a JDK of major version &lt;em&gt;N-1&lt;/em&gt;, so for building JDK 9 a JDK 8 would be suitable as boot JDK. However, the JDK should be able to &amp;quot;build itself&amp;quot;, so an up-to-date build of the current JDK source is an acceptable alternative. If you are following the &lt;em&gt;N-1&lt;/em&gt; rule, make sure you&#39;ve got the latest update version, since JDK 8 GA might not be able to build JDK 9 on all platforms.&lt;/p&gt;
 383 &lt;p&gt;Early in the release cycle, version &lt;em&gt;N-1&lt;/em&gt; may not yet have been released. In that case, the preferred boot JDK will be version &lt;em&gt;N-2&lt;/em&gt; until version &lt;em&gt;N-1&lt;/em&gt; is available.&lt;/p&gt;
 384 &lt;p&gt;If the boot JDK is not automatically detected, or the wrong JDK is picked, use &lt;code&gt;--with-boot-jdk&lt;/code&gt; to point to the JDK to use.&lt;/p&gt;
 385 &lt;h3 id=&quot;getting-jdk-binaries&quot;&gt;Getting JDK binaries&lt;/h3&gt;
 386 &lt;p&gt;JDK binaries for Linux, Windows and macOS can be downloaded from &lt;a href=&quot;http://jdk.java.net&quot;&gt;jdk.java.net&lt;/a&gt;. An alternative is to download the &lt;a href=&quot;http://www.oracle.com/technetwork/java/javase/downloads&quot;&gt;Oracle JDK&lt;/a&gt;. Another is the &lt;a href=&quot;https://adoptopenjdk.net/&quot;&gt;Adopt OpenJDK Project&lt;/a&gt;, which publishes experimental prebuilt binaries for various platforms.&lt;/p&gt;
 387 &lt;p&gt;On Linux you can also get a JDK from the Linux distribution. On apt-based distros (like Debian and Ubuntu), &lt;code&gt;sudo apt-get install openjdk-&amp;lt;VERSION&amp;gt;-jdk&lt;/code&gt; is typically enough to install a JDK &amp;lt;VERSION&amp;gt;. On rpm-based distros (like Fedora and Red Hat), try &lt;code&gt;sudo yum install java-&amp;lt;VERSION&amp;gt;-openjdk-devel&lt;/code&gt;.&lt;/p&gt;
 388 &lt;h2 id=&quot;external-library-requirements&quot;&gt;External Library Requirements&lt;/h2&gt;
 389 &lt;p&gt;Different platforms require different external libraries. In general, libraries are not optional - that is, they are either required or not used.&lt;/p&gt;
<span class="line-modified"> 390 &lt;p&gt;If a required library is not detected by &lt;code&gt;configure&lt;/code&gt;, you need to provide the path to it. There are two forms of the &lt;code&gt;configure&lt;/code&gt; arguments to point to an external library: &lt;code&gt;--with-&amp;lt;LIB&amp;gt;=&amp;lt;path&amp;gt;&lt;/code&gt; or &lt;code&gt;--with-&amp;lt;LIB&amp;gt;-include=&amp;lt;path to include&amp;gt; --with-&amp;lt;LIB&amp;gt;-lib=&amp;lt;path to lib&amp;gt;&lt;/code&gt;. The first variant is more concise, but require the include files and library files to reside in a default hierarchy under this directory. In most cases, it works fine.&lt;/p&gt;</span>
 391 &lt;p&gt;As a fallback, the second version allows you to point to the include directory and the lib directory separately.&lt;/p&gt;
 392 &lt;h3 id=&quot;freetype&quot;&gt;FreeType&lt;/h3&gt;
<span class="line-modified"> 393 &lt;p&gt;FreeType2 from &lt;a href=&quot;http://www.freetype.org/&quot;&gt;The FreeType Project&lt;/a&gt; is not required on any platform. The exception is on Unix-based platforms when configuring such that the build artifacts will reference a system installed library, rather than bundling the JDK&#39;s own copy.&lt;/p&gt;</span>
 394 &lt;ul&gt;
 395 &lt;li&gt;To install on an apt-based Linux, try running &lt;code&gt;sudo apt-get install libfreetype6-dev&lt;/code&gt;.&lt;/li&gt;
 396 &lt;li&gt;To install on an rpm-based Linux, try running &lt;code&gt;sudo yum install freetype-devel&lt;/code&gt;.&lt;/li&gt;
 397 &lt;li&gt;To install on Solaris, try running &lt;code&gt;pkg install system/library/freetype-2&lt;/code&gt;.&lt;/li&gt;
 398 &lt;/ul&gt;
 399 &lt;p&gt;Use &lt;code&gt;--with-freetype-include=&amp;lt;path&amp;gt;&lt;/code&gt; and &lt;code&gt;--with-freetype-lib=&amp;lt;path&amp;gt;&lt;/code&gt; if &lt;code&gt;configure&lt;/code&gt; does not automatically locate the platform FreeType files.&lt;/p&gt;
 400 &lt;h3 id=&quot;cups&quot;&gt;CUPS&lt;/h3&gt;
 401 &lt;p&gt;CUPS, &lt;a href=&quot;http://www.cups.org&quot;&gt;Common UNIX Printing System&lt;/a&gt; header files are required on all platforms, except Windows. Often these files are provided by your operating system.&lt;/p&gt;
 402 &lt;ul&gt;
 403 &lt;li&gt;To install on an apt-based Linux, try running &lt;code&gt;sudo apt-get install libcups2-dev&lt;/code&gt;.&lt;/li&gt;
 404 &lt;li&gt;To install on an rpm-based Linux, try running &lt;code&gt;sudo yum install cups-devel&lt;/code&gt;.&lt;/li&gt;
 405 &lt;li&gt;To install on Solaris, try running &lt;code&gt;pkg install print/cups&lt;/code&gt;.&lt;/li&gt;
 406 &lt;/ul&gt;
 407 &lt;p&gt;Use &lt;code&gt;--with-cups=&amp;lt;path&amp;gt;&lt;/code&gt; if &lt;code&gt;configure&lt;/code&gt; does not properly locate your CUPS files.&lt;/p&gt;
 408 &lt;h3 id=&quot;x11&quot;&gt;X11&lt;/h3&gt;
 409 &lt;p&gt;Certain &lt;a href=&quot;http://www.x.org/&quot;&gt;X11&lt;/a&gt; libraries and include files are required on Linux and Solaris.&lt;/p&gt;
 410 &lt;ul&gt;
 411 &lt;li&gt;To install on an apt-based Linux, try running &lt;code&gt;sudo apt-get install libx11-dev libxext-dev libxrender-dev libxrandr-dev libxtst-dev libxt-dev&lt;/code&gt;.&lt;/li&gt;
 412 &lt;li&gt;To install on an rpm-based Linux, try running &lt;code&gt;sudo yum install libXtst-devel libXt-devel libXrender-devel libXrandr-devel libXi-devel&lt;/code&gt;.&lt;/li&gt;
 413 &lt;li&gt;To install on Solaris, try running &lt;code&gt;pkg install x11/header/x11-protocols x11/library/libice x11/library/libpthread-stubs x11/library/libsm x11/library/libx11 x11/library/libxau x11/library/libxcb x11/library/libxdmcp x11/library/libxevie x11/library/libxext x11/library/libxrender x11/library/libxrandr x11/library/libxscrnsaver x11/library/libxtst x11/library/toolkit/libxt&lt;/code&gt;.&lt;/li&gt;
</pre>
<hr />
<pre>
 434 &lt;li&gt;To install on an apt-based Linux, try running &lt;code&gt;sudo apt-get install autoconf&lt;/code&gt;.&lt;/li&gt;
 435 &lt;li&gt;To install on an rpm-based Linux, try running &lt;code&gt;sudo yum install autoconf&lt;/code&gt;.&lt;/li&gt;
 436 &lt;li&gt;To install on macOS, try running &lt;code&gt;brew install autoconf&lt;/code&gt;.&lt;/li&gt;
 437 &lt;li&gt;To install on Windows, try running &lt;code&gt;&amp;lt;path to Cygwin setup&amp;gt;/setup-x86_64 -q -P autoconf&lt;/code&gt;.&lt;/li&gt;
 438 &lt;/ul&gt;
 439 &lt;p&gt;If &lt;code&gt;configure&lt;/code&gt; has problems locating your installation of autoconf, you can specify it using the &lt;code&gt;AUTOCONF&lt;/code&gt; environment variable, like this:&lt;/p&gt;
 440 &lt;pre&gt;&lt;code&gt;AUTOCONF=&amp;lt;path to autoconf&amp;gt; configure ...&lt;/code&gt;&lt;/pre&gt;
 441 &lt;h3 id=&quot;gnu-make&quot;&gt;GNU Make&lt;/h3&gt;
 442 &lt;p&gt;The JDK requires &lt;a href=&quot;http://www.gnu.org/software/make&quot;&gt;GNU Make&lt;/a&gt;. No other flavors of make are supported.&lt;/p&gt;
 443 &lt;p&gt;At least version 3.81 of GNU Make must be used. For distributions supporting GNU Make 4.0 or above, we strongly recommend it. GNU Make 4.0 contains useful functionality to handle parallel building (supported by &lt;code&gt;--with-output-sync&lt;/code&gt;) and speed and stability improvements.&lt;/p&gt;
 444 &lt;p&gt;Note that &lt;code&gt;configure&lt;/code&gt; locates and verifies a properly functioning version of &lt;code&gt;make&lt;/code&gt; and stores the path to this &lt;code&gt;make&lt;/code&gt; binary in the configuration. If you start a build using &lt;code&gt;make&lt;/code&gt; on the command line, you will be using the version of make found first in your &lt;code&gt;PATH&lt;/code&gt;, and not necessarily the one stored in the configuration. This initial make will be used as &amp;quot;bootstrap make&amp;quot;, and in a second stage, the make located by &lt;code&gt;configure&lt;/code&gt; will be called. Normally, this will present no issues, but if you have a very old &lt;code&gt;make&lt;/code&gt;, or a non-GNU Make &lt;code&gt;make&lt;/code&gt; in your path, this might cause issues.&lt;/p&gt;
 445 &lt;p&gt;If you want to override the default make found by &lt;code&gt;configure&lt;/code&gt;, use the &lt;code&gt;MAKE&lt;/code&gt; configure variable, e.g. &lt;code&gt;configure MAKE=/opt/gnu/make&lt;/code&gt;.&lt;/p&gt;
 446 &lt;p&gt;On Solaris, it is common to call the GNU version of make by using &lt;code&gt;gmake&lt;/code&gt;.&lt;/p&gt;
 447 &lt;h3 id=&quot;gnu-bash&quot;&gt;GNU Bash&lt;/h3&gt;
 448 &lt;p&gt;The JDK requires &lt;a href=&quot;http://www.gnu.org/software/bash&quot;&gt;GNU Bash&lt;/a&gt;. No other shells are supported.&lt;/p&gt;
 449 &lt;p&gt;At least version 3.2 of GNU Bash must be used.&lt;/p&gt;
 450 &lt;h2 id=&quot;running-configure&quot;&gt;Running Configure&lt;/h2&gt;
 451 &lt;p&gt;To build the JDK, you need a &amp;quot;configuration&amp;quot;, which consists of a directory where to store the build output, coupled with information about the platform, the specific build machine, and choices that affect how the JDK is built.&lt;/p&gt;
 452 &lt;p&gt;The configuration is created by the &lt;code&gt;configure&lt;/code&gt; script. The basic invocation of the &lt;code&gt;configure&lt;/code&gt; script looks like this:&lt;/p&gt;
 453 &lt;pre&gt;&lt;code&gt;bash configure [options]&lt;/code&gt;&lt;/pre&gt;
<span class="line-modified"> 454 &lt;p&gt;This will create an output directory containing the configuration and setup an area for the build result. This directory typically looks like &lt;code&gt;build/linux-x64-server-release&lt;/code&gt;, but the actual name depends on your specific configuration. (It can also be set directly, see &lt;a href=&quot;#using-multiple-configurations&quot;&gt;Using Multiple Configurations&lt;/a&gt;). This directory is referred to as &lt;code&gt;$BUILD&lt;/code&gt; in this documentation.&lt;/p&gt;</span>
 455 &lt;p&gt;&lt;code&gt;configure&lt;/code&gt; will try to figure out what system you are running on and where all necessary build components are. If you have all prerequisites for building installed, it should find everything. If it fails to detect any component automatically, it will exit and inform you about the problem.&lt;/p&gt;
 456 &lt;p&gt;Some command line examples:&lt;/p&gt;
 457 &lt;ul&gt;
 458 &lt;li&gt;&lt;p&gt;Create a 32-bit build for Windows with FreeType2 in &lt;code&gt;C:\freetype-i586&lt;/code&gt;:&lt;/p&gt;
 459 &lt;pre&gt;&lt;code&gt;bash configure --with-freetype=/cygdrive/c/freetype-i586 --with-target-bits=32&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
 460 &lt;li&gt;&lt;p&gt;Create a debug build with the &lt;code&gt;server&lt;/code&gt; JVM and DTrace enabled:&lt;/p&gt;
 461 &lt;pre&gt;&lt;code&gt;bash configure --enable-debug --with-jvm-variants=server --enable-dtrace&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
 462 &lt;/ul&gt;
 463 &lt;h3 id=&quot;common-configure-arguments&quot;&gt;Common Configure Arguments&lt;/h3&gt;
 464 &lt;p&gt;Here follows some of the most common and important &lt;code&gt;configure&lt;/code&gt; argument.&lt;/p&gt;
 465 &lt;p&gt;To get up-to-date information on &lt;em&gt;all&lt;/em&gt; available &lt;code&gt;configure&lt;/code&gt; argument, please run:&lt;/p&gt;
 466 &lt;pre&gt;&lt;code&gt;bash configure --help&lt;/code&gt;&lt;/pre&gt;
 467 &lt;p&gt;(Note that this help text also include general autoconf options, like &lt;code&gt;--dvidir&lt;/code&gt;, that is not relevant to the JDK. To list only JDK-specific features, use &lt;code&gt;bash configure --help=short&lt;/code&gt; instead.)&lt;/p&gt;
 468 &lt;h4 id=&quot;configure-arguments-for-tailoring-the-build&quot;&gt;Configure Arguments for Tailoring the Build&lt;/h4&gt;
 469 &lt;ul&gt;
 470 &lt;li&gt;&lt;code&gt;--enable-debug&lt;/code&gt; - Set the debug level to &lt;code&gt;fastdebug&lt;/code&gt; (this is a shorthand for &lt;code&gt;--with-debug-level=fastdebug&lt;/code&gt;)&lt;/li&gt;
 471 &lt;li&gt;&lt;code&gt;--with-debug-level=&amp;lt;level&amp;gt;&lt;/code&gt; - Set the debug level, which can be &lt;code&gt;release&lt;/code&gt;, &lt;code&gt;fastdebug&lt;/code&gt;, &lt;code&gt;slowdebug&lt;/code&gt; or &lt;code&gt;optimized&lt;/code&gt;. Default is &lt;code&gt;release&lt;/code&gt;. &lt;code&gt;optimized&lt;/code&gt; is variant of &lt;code&gt;release&lt;/code&gt; with additional Hotspot debug code.&lt;/li&gt;
 472 &lt;li&gt;&lt;code&gt;--with-native-debug-symbols=&amp;lt;method&amp;gt;&lt;/code&gt; - Specify if and how native debug symbols should be built. Available methods are &lt;code&gt;none&lt;/code&gt;, &lt;code&gt;internal&lt;/code&gt;, &lt;code&gt;external&lt;/code&gt;, &lt;code&gt;zipped&lt;/code&gt;. Default behavior depends on platform. See &lt;a href=&quot;#native-debug-symbols&quot;&gt;Native Debug Symbols&lt;/a&gt; for more details.&lt;/li&gt;
 473 &lt;li&gt;&lt;code&gt;--with-version-string=&amp;lt;string&amp;gt;&lt;/code&gt; - Specify the version string this build will be identified with.&lt;/li&gt;
 474 &lt;li&gt;&lt;code&gt;--with-version-&amp;lt;part&amp;gt;=&amp;lt;value&amp;gt;&lt;/code&gt; - A group of options, where &lt;code&gt;&amp;lt;part&amp;gt;&lt;/code&gt; can be any of &lt;code&gt;pre&lt;/code&gt;, &lt;code&gt;opt&lt;/code&gt;, &lt;code&gt;build&lt;/code&gt;, &lt;code&gt;major&lt;/code&gt;, &lt;code&gt;minor&lt;/code&gt;, &lt;code&gt;security&lt;/code&gt; or &lt;code&gt;patch&lt;/code&gt;. Use these options to modify just the corresponding part of the version string from the default, or the value provided by &lt;code&gt;--with-version-string&lt;/code&gt;.&lt;/li&gt;
</pre>
<hr />
<pre>
 483 &lt;h4 id=&quot;configure-arguments-for-native-compilation&quot;&gt;Configure Arguments for Native Compilation&lt;/h4&gt;
 484 &lt;ul&gt;
 485 &lt;li&gt;&lt;code&gt;--with-devkit=&amp;lt;path&amp;gt;&lt;/code&gt; - Use this devkit for compilers, tools and resources&lt;/li&gt;
 486 &lt;li&gt;&lt;code&gt;--with-sysroot=&amp;lt;path&amp;gt;&lt;/code&gt; - Use this directory as sysroot&lt;/li&gt;
 487 &lt;li&gt;&lt;code&gt;--with-extra-path=&amp;lt;path&amp;gt;[;&amp;lt;path&amp;gt;]&lt;/code&gt; - Prepend these directories to the default path when searching for all kinds of binaries&lt;/li&gt;
 488 &lt;li&gt;&lt;code&gt;--with-toolchain-path=&amp;lt;path&amp;gt;[;&amp;lt;path&amp;gt;]&lt;/code&gt; - Prepend these directories when searching for toolchain binaries (compilers etc)&lt;/li&gt;
 489 &lt;li&gt;&lt;code&gt;--with-extra-cflags=&amp;lt;flags&amp;gt;&lt;/code&gt; - Append these flags when compiling JDK C files&lt;/li&gt;
 490 &lt;li&gt;&lt;code&gt;--with-extra-cxxflags=&amp;lt;flags&amp;gt;&lt;/code&gt; - Append these flags when compiling JDK C++ files&lt;/li&gt;
 491 &lt;li&gt;&lt;code&gt;--with-extra-ldflags=&amp;lt;flags&amp;gt;&lt;/code&gt; - Append these flags when linking JDK libraries&lt;/li&gt;
 492 &lt;/ul&gt;
 493 &lt;h4 id=&quot;configure-arguments-for-external-dependencies&quot;&gt;Configure Arguments for External Dependencies&lt;/h4&gt;
 494 &lt;ul&gt;
 495 &lt;li&gt;&lt;code&gt;--with-boot-jdk=&amp;lt;path&amp;gt;&lt;/code&gt; - Set the path to the &lt;a href=&quot;#boot-jdk-requirements&quot;&gt;Boot JDK&lt;/a&gt;&lt;/li&gt;
 496 &lt;li&gt;&lt;code&gt;--with-freetype=&amp;lt;path&amp;gt;&lt;/code&gt; - Set the path to &lt;a href=&quot;#freetype&quot;&gt;FreeType&lt;/a&gt;&lt;/li&gt;
 497 &lt;li&gt;&lt;code&gt;--with-cups=&amp;lt;path&amp;gt;&lt;/code&gt; - Set the path to &lt;a href=&quot;#cups&quot;&gt;CUPS&lt;/a&gt;&lt;/li&gt;
 498 &lt;li&gt;&lt;code&gt;--with-x=&amp;lt;path&amp;gt;&lt;/code&gt; - Set the path to &lt;a href=&quot;#x11&quot;&gt;X11&lt;/a&gt;&lt;/li&gt;
 499 &lt;li&gt;&lt;code&gt;--with-alsa=&amp;lt;path&amp;gt;&lt;/code&gt; - Set the path to &lt;a href=&quot;#alsa&quot;&gt;ALSA&lt;/a&gt;&lt;/li&gt;
 500 &lt;li&gt;&lt;code&gt;--with-libffi=&amp;lt;path&amp;gt;&lt;/code&gt; - Set the path to &lt;a href=&quot;#libffi&quot;&gt;libffi&lt;/a&gt;&lt;/li&gt;
 501 &lt;li&gt;&lt;code&gt;--with-jtreg=&amp;lt;path&amp;gt;&lt;/code&gt; - Set the path to JTReg. See &lt;a href=&quot;#running-tests&quot;&gt;Running Tests&lt;/a&gt;&lt;/li&gt;
 502 &lt;/ul&gt;
<span class="line-modified"> 503 &lt;p&gt;Certain third-party libraries used by the JDK (libjpeg, giflib, libpng, lcms and zlib) are included in the JDK repository. The default behavior of the JDK build is to use the included (&amp;quot;bundled&amp;quot;) versions of libjpeg, giflib, libpng and lcms. For zlib, the system lib (if present) is used except on Windows and AIX. However the bundled libraries may be replaced by an external version. To do so, specify &lt;code&gt;system&lt;/code&gt; as the &lt;code&gt;&amp;lt;source&amp;gt;&lt;/code&gt; option in these arguments. (The default is &lt;code&gt;bundled&lt;/code&gt;).&lt;/p&gt;</span>
 504 &lt;ul&gt;
 505 &lt;li&gt;&lt;code&gt;--with-libjpeg=&amp;lt;source&amp;gt;&lt;/code&gt; - Use the specified source for libjpeg&lt;/li&gt;
 506 &lt;li&gt;&lt;code&gt;--with-giflib=&amp;lt;source&amp;gt;&lt;/code&gt; - Use the specified source for giflib&lt;/li&gt;
 507 &lt;li&gt;&lt;code&gt;--with-libpng=&amp;lt;source&amp;gt;&lt;/code&gt; - Use the specified source for libpng&lt;/li&gt;
 508 &lt;li&gt;&lt;code&gt;--with-lcms=&amp;lt;source&amp;gt;&lt;/code&gt; - Use the specified source for lcms&lt;/li&gt;
 509 &lt;li&gt;&lt;code&gt;--with-zlib=&amp;lt;source&amp;gt;&lt;/code&gt; - Use the specified source for zlib&lt;/li&gt;
 510 &lt;/ul&gt;
 511 &lt;p&gt;On Linux, it is possible to select either static or dynamic linking of the C++ runtime. The default is static linking, with dynamic linking as fallback if the static library is not found.&lt;/p&gt;
 512 &lt;ul&gt;
 513 &lt;li&gt;&lt;code&gt;--with-stdc++lib=&amp;lt;method&amp;gt;&lt;/code&gt; - Use the specified method (&lt;code&gt;static&lt;/code&gt;, &lt;code&gt;dynamic&lt;/code&gt; or &lt;code&gt;default&lt;/code&gt;) for linking the C++ runtime.&lt;/li&gt;
 514 &lt;/ul&gt;
 515 &lt;h3 id=&quot;configure-control-variables&quot;&gt;Configure Control Variables&lt;/h3&gt;
 516 &lt;p&gt;It is possible to control certain aspects of &lt;code&gt;configure&lt;/code&gt; by overriding the value of &lt;code&gt;configure&lt;/code&gt; variables, either on the command line or in the environment.&lt;/p&gt;
 517 &lt;p&gt;Normally, this is &lt;strong&gt;not recommended&lt;/strong&gt;. If used improperly, it can lead to a broken configuration. Unless you&#39;re well versed in the build system, this is hard to use properly. Therefore, &lt;code&gt;configure&lt;/code&gt; will print a warning if this is detected.&lt;/p&gt;
 518 &lt;p&gt;However, there are a few &lt;code&gt;configure&lt;/code&gt; variables, known as &lt;em&gt;control variables&lt;/em&gt; that are supposed to be overriden on the command line. These are variables that describe the location of tools needed by the build, like &lt;code&gt;MAKE&lt;/code&gt; or &lt;code&gt;GREP&lt;/code&gt;. If any such variable is specified, &lt;code&gt;configure&lt;/code&gt; will use that value instead of trying to autodetect the tool. For instance, &lt;code&gt;bash configure MAKE=/opt/gnumake4.0/bin/make&lt;/code&gt;.&lt;/p&gt;
 519 &lt;p&gt;If a configure argument exists, use that instead, e.g. use &lt;code&gt;--with-jtreg&lt;/code&gt; instead of setting &lt;code&gt;JTREGEXE&lt;/code&gt;.&lt;/p&gt;
 520 &lt;p&gt;Also note that, despite what autoconf claims, setting &lt;code&gt;CFLAGS&lt;/code&gt; will not accomplish anything. Instead use &lt;code&gt;--with-extra-cflags&lt;/code&gt; (and similar for &lt;code&gt;cxxflags&lt;/code&gt; and &lt;code&gt;ldflags&lt;/code&gt;).&lt;/p&gt;
 521 &lt;h2 id=&quot;running-make&quot;&gt;Running Make&lt;/h2&gt;
 522 &lt;p&gt;When you have a proper configuration, all you need to do to build the JDK is to run &lt;code&gt;make&lt;/code&gt;. (But see the warning at &lt;a href=&quot;#gnu-make&quot;&gt;GNU Make&lt;/a&gt; about running the correct version of make.)&lt;/p&gt;
 523 &lt;p&gt;When running &lt;code&gt;make&lt;/code&gt; without any arguments, the default target is used, which is the same as running &lt;code&gt;make default&lt;/code&gt; or &lt;code&gt;make jdk&lt;/code&gt;. This will build a minimal (or roughly minimal) set of compiled output (known as an &amp;quot;exploded image&amp;quot;) needed for a developer to actually execute the newly built JDK. The idea is that in an incremental development fashion, when doing a normal make, you should only spend time recompiling what&#39;s changed (making it purely incremental) and only do the work that&#39;s needed to actually run and test your code.&lt;/p&gt;
</pre>
<hr />
<pre>
 557 &lt;ul&gt;
 558 &lt;li&gt;&lt;code&gt;JOBS&lt;/code&gt; - Specify the number of jobs to build with. See &lt;a href=&quot;#build-performance&quot;&gt;Build Performance&lt;/a&gt;.&lt;/li&gt;
 559 &lt;li&gt;&lt;code&gt;LOG&lt;/code&gt; - Specify the logging level and functionality. See &lt;a href=&quot;#checking-the-build-log-file&quot;&gt;Checking the Build Log File&lt;/a&gt;&lt;/li&gt;
 560 &lt;li&gt;&lt;code&gt;CONF&lt;/code&gt; and &lt;code&gt;CONF_NAME&lt;/code&gt; - Selecting the configuration(s) to use. See &lt;a href=&quot;#using-multiple-configurations&quot;&gt;Using Multiple Configurations&lt;/a&gt;&lt;/li&gt;
 561 &lt;/ul&gt;
 562 &lt;h4 id=&quot;test-make-control-variables&quot;&gt;Test Make Control Variables&lt;/h4&gt;
 563 &lt;p&gt;These make control variables only make sense when running tests. Please see &lt;a href=&quot;testing.html&quot;&gt;Testing the JDK&lt;/a&gt; for details.&lt;/p&gt;
 564 &lt;ul&gt;
 565 &lt;li&gt;&lt;code&gt;TEST&lt;/code&gt;&lt;/li&gt;
 566 &lt;li&gt;&lt;code&gt;TEST_JOBS&lt;/code&gt;&lt;/li&gt;
 567 &lt;li&gt;&lt;code&gt;JTREG&lt;/code&gt;&lt;/li&gt;
 568 &lt;li&gt;&lt;code&gt;GTEST&lt;/code&gt;&lt;/li&gt;
 569 &lt;/ul&gt;
 570 &lt;h4 id=&quot;advanced-make-control-variables&quot;&gt;Advanced Make Control Variables&lt;/h4&gt;
 571 &lt;p&gt;These advanced make control variables can be potentially unsafe. See &lt;a href=&quot;#hints-and-suggestions-for-advanced-users&quot;&gt;Hints and Suggestions for Advanced Users&lt;/a&gt; and &lt;a href=&quot;#understanding-the-build-system&quot;&gt;Understanding the Build System&lt;/a&gt; for details.&lt;/p&gt;
 572 &lt;ul&gt;
 573 &lt;li&gt;&lt;code&gt;SPEC&lt;/code&gt;&lt;/li&gt;
 574 &lt;li&gt;&lt;code&gt;CONF_CHECK&lt;/code&gt;&lt;/li&gt;
 575 &lt;li&gt;&lt;code&gt;COMPARE_BUILD&lt;/code&gt;&lt;/li&gt;
 576 &lt;li&gt;&lt;code&gt;JDK_FILTER&lt;/code&gt;&lt;/li&gt;
<span class="line-added"> 577 &lt;li&gt;&lt;code&gt;SPEC_FILTER&lt;/code&gt;&lt;/li&gt;</span>
 578 &lt;/ul&gt;
 579 &lt;h2 id=&quot;running-tests&quot;&gt;Running Tests&lt;/h2&gt;
 580 &lt;p&gt;Most of the JDK tests are using the &lt;a href=&quot;http://openjdk.java.net/jtreg&quot;&gt;JTReg&lt;/a&gt; test framework. Make sure that your configuration knows where to find your installation of JTReg. If this is not picked up automatically, use the &lt;code&gt;--with-jtreg=&amp;lt;path to jtreg home&amp;gt;&lt;/code&gt; option to point to the JTReg framework. Note that this option should point to the JTReg home, i.e. the top directory, containing &lt;code&gt;lib/jtreg.jar&lt;/code&gt; etc.&lt;/p&gt;
 581 &lt;p&gt;The &lt;a href=&quot;https://wiki.openjdk.java.net/display/Adoption&quot;&gt;Adoption Group&lt;/a&gt; provides recent builds of jtreg &lt;a href=&quot;https://adopt-openjdk.ci.cloudbees.com/job/jtreg/lastSuccessfulBuild/artifact&quot;&gt;here&lt;/a&gt;. Download the latest &lt;code&gt;.tar.gz&lt;/code&gt; file, unpack it, and point &lt;code&gt;--with-jtreg&lt;/code&gt; to the &lt;code&gt;jtreg&lt;/code&gt; directory that you just unpacked.&lt;/p&gt;
 582 &lt;p&gt;To execute the most basic tests (tier 1), use:&lt;/p&gt;
 583 &lt;pre&gt;&lt;code&gt;make run-test-tier1&lt;/code&gt;&lt;/pre&gt;
 584 &lt;p&gt;For more details on how to run tests, please see the &lt;a href=&quot;testing.html&quot;&gt;Testing the JDK&lt;/a&gt; document.&lt;/p&gt;
 585 &lt;h2 id=&quot;cross-compiling&quot;&gt;Cross-compiling&lt;/h2&gt;
 586 &lt;p&gt;Cross-compiling means using one platform (the &lt;em&gt;build&lt;/em&gt; platform) to generate output that can ran on another platform (the &lt;em&gt;target&lt;/em&gt; platform).&lt;/p&gt;
 587 &lt;p&gt;The typical reason for cross-compiling is that the build is performed on a more powerful desktop computer, but the resulting binaries will be able to run on a different, typically low-performing system. Most of the complications that arise when building for embedded is due to this separation of &lt;em&gt;build&lt;/em&gt; and &lt;em&gt;target&lt;/em&gt; systems.&lt;/p&gt;
 588 &lt;p&gt;This requires a more complex setup and build procedure. This section assumes you are familiar with cross-compiling in general, and will only deal with the particularities of cross-compiling the JDK. If you are new to cross-compiling, please see the &lt;a href=&quot;https://en.wikipedia.org/wiki/Cross_compiler#External_links&quot;&gt;external links at Wikipedia&lt;/a&gt; for a good start on reading materials.&lt;/p&gt;
 589 &lt;p&gt;Cross-compiling the JDK requires you to be able to build both for the build platform and for the target platform. The reason for the former is that we need to build and execute tools during the build process, both native tools and Java tools.&lt;/p&gt;
 590 &lt;p&gt;If all you want to do is to compile a 32-bit version, for the same OS, on a 64-bit machine, consider using &lt;code&gt;--with-target-bits=32&lt;/code&gt; instead of doing a full-blown cross-compilation. (While this surely is possible, it&#39;s a lot more work and will take much longer to build.)&lt;/p&gt;
 591 &lt;h3 id=&quot;cross-compiling-the-easy-way-with-openjdk-devkits&quot;&gt;Cross compiling the easy way with OpenJDK devkits&lt;/h3&gt;
 592 &lt;p&gt;The OpenJDK build system provides out-of-the box support for creating and using so called devkits. A &lt;code&gt;devkit&lt;/code&gt; is basically a collection of a cross-compiling toolchain and a sysroot environment which can easily be used together with the &lt;code&gt;--with-devkit&lt;/code&gt; configure option to cross compile the OpenJDK. On Linux/x86_64, the following command:&lt;/p&gt;
 593 &lt;pre&gt;&lt;code&gt;bash configure --with-devkit=&amp;lt;devkit-path&amp;gt; --openjdk-target=ppc64-linux-gnu &amp;amp;&amp;amp; make&lt;/code&gt;&lt;/pre&gt;
 594 &lt;p&gt;will configure and build OpenJDK for Linux/ppc64 assuming that &lt;code&gt;&amp;lt;devkit-path&amp;gt;&lt;/code&gt; points to a Linux/x86_64 to Linux/ppc64 devkit.&lt;/p&gt;
 595 &lt;p&gt;Devkits can be created from the &lt;code&gt;make/devkit&lt;/code&gt; directory by executing:&lt;/p&gt;
 596 &lt;pre&gt;&lt;code&gt;make [ TARGETS=&amp;quot;&amp;lt;TARGET_TRIPLET&amp;gt;+&amp;quot; ] [ BASE_OS=&amp;lt;OS&amp;gt; ] [ BASE_OS_VERSION=&amp;lt;VER&amp;gt; ]&lt;/code&gt;&lt;/pre&gt;
 597 &lt;p&gt;where &lt;code&gt;TARGETS&lt;/code&gt; contains one or more &lt;code&gt;TARGET_TRIPLET&lt;/code&gt;s of the form described in &lt;a href=&quot;https://sourceware.org/autobook/autobook/autobook_17.html&quot;&gt;section 3.4 of the GNU Autobook&lt;/a&gt;. If no targets are given, a native toolchain for the current platform will be created. Currently, at least the following targets are known to work:&lt;/p&gt;
</pre>
<hr />
<pre>
 622 &lt;/tr&gt;
 623 &lt;/tbody&gt;
 624 &lt;/table&gt;
 625 &lt;p&gt;&lt;code&gt;BASE_OS&lt;/code&gt; must be one of &amp;quot;OEL6&amp;quot; for Oracle Enterprise Linux 6 or &amp;quot;Fedora&amp;quot; (if not specified &amp;quot;OEL6&amp;quot; will be the default). If the base OS is &amp;quot;Fedora&amp;quot; the corresponding Fedora release can be specified with the help of the &lt;code&gt;BASE_OS_VERSION&lt;/code&gt; option (with &amp;quot;27&amp;quot; as default version). If the build is successful, the new devkits can be found in the &lt;code&gt;build/devkit/result&lt;/code&gt; subdirectory:&lt;/p&gt;
 626 &lt;pre&gt;&lt;code&gt;cd make/devkit
 627 make TARGETS=&amp;quot;ppc64le-linux-gnu aarch64-linux-gnu&amp;quot; BASE_OS=Fedora BASE_OS_VERSION=21
 628 ls -1 ../../build/devkit/result/
 629 x86_64-linux-gnu-to-aarch64-linux-gnu
 630 x86_64-linux-gnu-to-ppc64le-linux-gnu&lt;/code&gt;&lt;/pre&gt;
 631 &lt;p&gt;Notice that devkits are not only useful for targeting different build platforms. Because they contain the full build dependencies for a system (i.e. compiler and root file system), they can easily be used to build well-known, reliable and reproducible build environments. You can for example create and use a devkit with GCC 7.3 and a Fedora 12 sysroot environment (with glibc 2.11) on Ubuntu 14.04 (which doesn&#39;t have GCC 7.3 by default) to produce OpenJDK binaries which will run on all Linux systems with runtime libraries newer than the ones from Fedora 12 (e.g. Ubuntu 16.04, SLES 11 or RHEL 6).&lt;/p&gt;
 632 &lt;h3 id=&quot;boot-jdk-and-build-jdk&quot;&gt;Boot JDK and Build JDK&lt;/h3&gt;
 633 &lt;p&gt;When cross-compiling, make sure you use a boot JDK that runs on the &lt;em&gt;build&lt;/em&gt; system, and not on the &lt;em&gt;target&lt;/em&gt; system.&lt;/p&gt;
 634 &lt;p&gt;To be able to build, we need a &amp;quot;Build JDK&amp;quot;, which is a JDK built from the current sources (that is, the same as the end result of the entire build process), but able to run on the &lt;em&gt;build&lt;/em&gt; system, and not the &lt;em&gt;target&lt;/em&gt; system. (In contrast, the Boot JDK should be from an older release, e.g. JDK 8 when building JDK 9.)&lt;/p&gt;
 635 &lt;p&gt;The build process will create a minimal Build JDK for you, as part of building. To speed up the build, you can use &lt;code&gt;--with-build-jdk&lt;/code&gt; to &lt;code&gt;configure&lt;/code&gt; to point to a pre-built Build JDK. Please note that the build result is unpredictable, and can possibly break in subtle ways, if the Build JDK does not &lt;strong&gt;exactly&lt;/strong&gt; match the current sources.&lt;/p&gt;
 636 &lt;h3 id=&quot;specifying-the-target-platform&quot;&gt;Specifying the Target Platform&lt;/h3&gt;
 637 &lt;p&gt;You &lt;em&gt;must&lt;/em&gt; specify the target platform when cross-compiling. Doing so will also automatically turn the build into a cross-compiling mode. The simplest way to do this is to use the &lt;code&gt;--openjdk-target&lt;/code&gt; argument, e.g. &lt;code&gt;--openjdk-target=arm-linux-gnueabihf&lt;/code&gt;. or &lt;code&gt;--openjdk-target=aarch64-oe-linux&lt;/code&gt;. This will automatically set the &lt;code&gt;--build&lt;/code&gt;, &lt;code&gt;--host&lt;/code&gt; and &lt;code&gt;--target&lt;/code&gt; options for autoconf, which can otherwise be confusing. (In autoconf terminology, the &amp;quot;target&amp;quot; is known as &amp;quot;host&amp;quot;, and &amp;quot;target&amp;quot; is used for building a Canadian cross-compiler.)&lt;/p&gt;
 638 &lt;h3 id=&quot;toolchain-considerations&quot;&gt;Toolchain Considerations&lt;/h3&gt;
 639 &lt;p&gt;You will need two copies of your toolchain, one which generates output that can run on the target system (the normal, or &lt;em&gt;target&lt;/em&gt;, toolchain), and one that generates output that can run on the build system (the &lt;em&gt;build&lt;/em&gt; toolchain). Note that cross-compiling is only supported for gcc at the time being. The gcc standard is to prefix cross-compiling toolchains with the target denominator. If you follow this standard, &lt;code&gt;configure&lt;/code&gt; is likely to pick up the toolchain correctly.&lt;/p&gt;
 640 &lt;p&gt;The &lt;em&gt;build&lt;/em&gt; toolchain will be autodetected just the same way the normal &lt;em&gt;build&lt;/em&gt;/&lt;em&gt;target&lt;/em&gt; toolchain will be autodetected when not cross-compiling. If this is not what you want, or if the autodetection fails, you can specify a devkit containing the &lt;em&gt;build&lt;/em&gt; toolchain using &lt;code&gt;--with-build-devkit&lt;/code&gt; to &lt;code&gt;configure&lt;/code&gt;, or by giving &lt;code&gt;BUILD_CC&lt;/code&gt; and &lt;code&gt;BUILD_CXX&lt;/code&gt; arguments.&lt;/p&gt;
 641 &lt;p&gt;It is often helpful to locate the cross-compilation tools, headers and libraries in a separate directory, outside the normal path, and point out that directory to &lt;code&gt;configure&lt;/code&gt;. Do this by setting the sysroot (&lt;code&gt;--with-sysroot&lt;/code&gt;) and appending the directory when searching for cross-compilations tools (&lt;code&gt;--with-toolchain-path&lt;/code&gt;). As a compact form, you can also use &lt;code&gt;--with-devkit&lt;/code&gt; to point to a single directory, if it is correctly setup. (See &lt;code&gt;basics.m4&lt;/code&gt; for details.)&lt;/p&gt;





 642 &lt;h3 id=&quot;native-libraries&quot;&gt;Native Libraries&lt;/h3&gt;
 643 &lt;p&gt;You will need copies of external native libraries for the &lt;em&gt;target&lt;/em&gt; system, present on the &lt;em&gt;build&lt;/em&gt; machine while building.&lt;/p&gt;
 644 &lt;p&gt;Take care not to replace the &lt;em&gt;build&lt;/em&gt; system&#39;s version of these libraries by mistake, since that can render the &lt;em&gt;build&lt;/em&gt; machine unusable.&lt;/p&gt;
 645 &lt;p&gt;Make sure that the libraries you point to (ALSA, X11, etc) are for the &lt;em&gt;target&lt;/em&gt;, not the &lt;em&gt;build&lt;/em&gt;, platform.&lt;/p&gt;
 646 &lt;h4 id=&quot;alsa-1&quot;&gt;ALSA&lt;/h4&gt;
 647 &lt;p&gt;You will need alsa libraries suitable for your &lt;em&gt;target&lt;/em&gt; system. For most cases, using Debian&#39;s pre-built libraries work fine.&lt;/p&gt;
 648 &lt;p&gt;Note that alsa is needed even if you only want to build a headless JDK.&lt;/p&gt;
 649 &lt;ul&gt;
 650 &lt;li&gt;&lt;p&gt;Go to &lt;a href=&quot;https://www.debian.org/distrib/packages&quot;&gt;Debian Package Search&lt;/a&gt; and search for the &lt;code&gt;libasound2&lt;/code&gt; and &lt;code&gt;libasound2-dev&lt;/code&gt; packages for your &lt;em&gt;target&lt;/em&gt; system. Download them to /tmp.&lt;/p&gt;&lt;/li&gt;
 651 &lt;li&gt;Install the libraries into the cross-compilation toolchain. For instance:&lt;/li&gt;
 652 &lt;/ul&gt;
 653 &lt;pre&gt;&lt;code&gt;cd /tools/gcc-linaro-arm-linux-gnueabihf-raspbian-2012.09-20120921_linux/arm-linux-gnueabihf/libc
 654 dpkg-deb -x /tmp/libasound2_1.0.25-4_armhf.deb .
 655 dpkg-deb -x /tmp/libasound2-dev_1.0.25-4_armhf.deb .&lt;/code&gt;&lt;/pre&gt;
 656 &lt;ul&gt;
 657 &lt;li&gt;If alsa is not properly detected by &lt;code&gt;configure&lt;/code&gt;, you can point it out by &lt;code&gt;--with-alsa&lt;/code&gt;.&lt;/li&gt;
 658 &lt;/ul&gt;
 659 &lt;h4 id=&quot;x11-1&quot;&gt;X11&lt;/h4&gt;
 660 &lt;p&gt;You will need X11 libraries suitable for your &lt;em&gt;target&lt;/em&gt; system. For most cases, using Debian&#39;s pre-built libraries work fine.&lt;/p&gt;
 661 &lt;p&gt;Note that X11 is needed even if you only want to build a headless JDK.&lt;/p&gt;
</pre>
</td>
</tr>
</table>
<center><a href="../bin/idea.sh.sdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="building.md.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>