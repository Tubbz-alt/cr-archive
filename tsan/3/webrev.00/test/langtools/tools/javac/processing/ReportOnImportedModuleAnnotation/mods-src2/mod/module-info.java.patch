diff a/test/langtools/tools/javac/processing/ReportOnImportedModuleAnnotation/mods-src2/mod/module-info.java b/test/langtools/tools/javac/processing/ReportOnImportedModuleAnnotation/mods-src2/mod/module-info.java
--- /dev/null
+++ b/test/langtools/tools/javac/processing/ReportOnImportedModuleAnnotation/mods-src2/mod/module-info.java
@@ -0,0 +1,8 @@
+/* /nodynamiccopyright/ */
+
+import annotation.ModuleWarn;
+
+@ModuleWarn
+module mod {
+    requires annotation;
+}
