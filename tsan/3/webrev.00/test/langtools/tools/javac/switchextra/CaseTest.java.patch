diff a/test/langtools/tools/javac/switchextra/CaseTest.java b/test/langtools/tools/javac/switchextra/CaseTest.java
--- a/test/langtools/tools/javac/switchextra/CaseTest.java
+++ b/test/langtools/tools/javac/switchextra/CaseTest.java
@@ -135,11 +135,11 @@
         assert tool != null;
         DiagnosticListener<JavaFileObject> noErrors = d -> {};
 
         StringWriter out = new StringWriter();
         JavacTask ct = (JavacTask) tool.getTask(out, null, noErrors,
-            List.of("-XDdev", "--enable-preview", "-source", sourceVersion), null,
+            List.of("-XDdev"), null,
             Arrays.asList(new MyFileObject(code)));
         return ct.parse().iterator().next();
     }
 
     static class MyFileObject extends SimpleJavaFileObject {
