<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/langtools/tools/javac/switchexpr/ExpressionSwitchFlow.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="ExpressionSwitchFallThrough1.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="ExpressionSwitchFlow.out.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/langtools/tools/javac/switchexpr/ExpressionSwitchFlow.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,17 ***</span>
  /*
   * @test /nodynamiccopyright/
   * @bug 8212982
   * @summary Verify a compile-time error is produced if switch expression does not provide a value
<span class="line-modified">!  * @compile/fail/ref=ExpressionSwitchFlow.out --enable-preview -source ${jdk.version} -XDrawDiagnostics ExpressionSwitchFlow.java</span>
   */
  
  public class ExpressionSwitchFlow {
      private String test1(int i) {
          return switch (i) {
              case 0 -&gt; {}
<span class="line-modified">!             default -&gt; { break &quot;other&quot;; }</span>
          };
      }
      private String test2(int i) {
          return switch (i) {
              case 0 -&gt; {
<span class="line-new-header">--- 1,17 ---</span>
  /*
   * @test /nodynamiccopyright/
   * @bug 8212982
   * @summary Verify a compile-time error is produced if switch expression does not provide a value
<span class="line-modified">!  * @compile/fail/ref=ExpressionSwitchFlow.out -XDrawDiagnostics ExpressionSwitchFlow.java</span>
   */
  
  public class ExpressionSwitchFlow {
      private String test1(int i) {
          return switch (i) {
              case 0 -&gt; {}
<span class="line-modified">!             default -&gt; { yield &quot;other&quot;; }</span>
          };
      }
      private String test2(int i) {
          return switch (i) {
              case 0 -&gt; {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 20,16 ***</span>
          };
      }
      private String test3(int i) {
          return switch (i) {
              case 0 -&gt; {}
              default -&gt; throw new IllegalStateException();
          };
      }
      private String test4(int i) {
          return switch (i) {
<span class="line-modified">!             case 0 -&gt; { break &quot;other&quot;; }</span>
              default -&gt; {}
          };
      }
      private String test5(int i) {
          return switch (i) {
<span class="line-new-header">--- 20,17 ---</span>
          };
      }
      private String test3(int i) {
          return switch (i) {
              case 0 -&gt; {}
<span class="line-added">+             case 1 -&gt; &quot;&quot;;</span>
              default -&gt; throw new IllegalStateException();
          };
      }
      private String test4(int i) {
          return switch (i) {
<span class="line-modified">!             case 0 -&gt; { yield &quot;other&quot;; }</span>
              default -&gt; {}
          };
      }
      private String test5(int i) {
          return switch (i) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 38,28 ***</span>
<span class="line-new-header">--- 39,32 ---</span>
          };
      }
      private String test6(int i) {
          return switch (i) {
              case 0 -&gt; throw new IllegalStateException();
<span class="line-added">+             case 1 -&gt; &quot;&quot;;</span>
              default -&gt; {}
          };
      }
      private String test7(int i) {
          return switch (i) {
              case 0: throw new IllegalStateException();
<span class="line-added">+             case 1: yield &quot;&quot;;</span>
              default:
          };
      }
      private String test8(int i) {
          return switch (i) {
<span class="line-added">+             case 1: yield &quot;&quot;;</span>
              case 0: i++;
              default: {
              }
          };
      }
      private String test9(int i) {
          return switch (i) {
<span class="line-added">+             case 1: yield &quot;&quot;;</span>
              case 0:
              default:
                  System.err.println();
          };
      }
</pre>
<center><a href="ExpressionSwitchFallThrough1.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="ExpressionSwitchFlow.out.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>