<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames test/langtools/tools/javac/switchexpr/ExpressionSwitchFlow.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
    <script type="text/javascript" src="../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre> 1 /*
 2  * @test /nodynamiccopyright/
 3  * @bug 8212982
 4  * @summary Verify a compile-time error is produced if switch expression does not provide a value
<a name="1" id="anc1"></a><span class="line-modified"> 5  * @compile/fail/ref=ExpressionSwitchFlow.out -XDrawDiagnostics ExpressionSwitchFlow.java</span>
 6  */
 7 
 8 public class ExpressionSwitchFlow {
 9     private String test1(int i) {
10         return switch (i) {
11             case 0 -&gt; {}
<a name="2" id="anc2"></a><span class="line-modified">12             default -&gt; { yield &quot;other&quot;; }</span>
13         };
14     }
15     private String test2(int i) {
16         return switch (i) {
17             case 0 -&gt; {
18             }
19             default -&gt; &quot;other&quot;;
20         };
21     }
22     private String test3(int i) {
23         return switch (i) {
24             case 0 -&gt; {}
<a name="3" id="anc3"></a><span class="line-added">25             case 1 -&gt; &quot;&quot;;</span>
26             default -&gt; throw new IllegalStateException();
27         };
28     }
29     private String test4(int i) {
30         return switch (i) {
<a name="4" id="anc4"></a><span class="line-modified">31             case 0 -&gt; { yield &quot;other&quot;; }</span>
32             default -&gt; {}
33         };
34     }
35     private String test5(int i) {
36         return switch (i) {
37             case 0 -&gt; &quot;other&quot;;
38             default -&gt; {}
39         };
40     }
41     private String test6(int i) {
42         return switch (i) {
43             case 0 -&gt; throw new IllegalStateException();
<a name="5" id="anc5"></a><span class="line-added">44             case 1 -&gt; &quot;&quot;;</span>
45             default -&gt; {}
46         };
47     }
48     private String test7(int i) {
49         return switch (i) {
50             case 0: throw new IllegalStateException();
<a name="6" id="anc6"></a><span class="line-added">51             case 1: yield &quot;&quot;;</span>
52             default:
53         };
54     }
55     private String test8(int i) {
56         return switch (i) {
<a name="7" id="anc7"></a><span class="line-added">57             case 1: yield &quot;&quot;;</span>
58             case 0: i++;
59             default: {
60             }
61         };
62     }
63     private String test9(int i) {
64         return switch (i) {
<a name="8" id="anc8"></a><span class="line-added">65             case 1: yield &quot;&quot;;</span>
66             case 0:
67             default:
68                 System.err.println();
69         };
70     }
71 }
<a name="9" id="anc9"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="9" type="hidden" />
</body>
</html>