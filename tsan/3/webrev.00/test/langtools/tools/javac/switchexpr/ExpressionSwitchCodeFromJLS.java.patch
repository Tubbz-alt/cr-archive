diff a/test/langtools/tools/javac/switchexpr/ExpressionSwitchCodeFromJLS.java b/test/langtools/tools/javac/switchexpr/ExpressionSwitchCodeFromJLS.java
--- a/test/langtools/tools/javac/switchexpr/ExpressionSwitchCodeFromJLS.java
+++ b/test/langtools/tools/javac/switchexpr/ExpressionSwitchCodeFromJLS.java
@@ -23,12 +23,12 @@
 
 /*
  * @test
  * @bug 8206986
  * @summary Check switch expressions
- * @compile --enable-preview -source ${jdk.version} ExpressionSwitchCodeFromJLS.java
- * @run main/othervm --enable-preview ExpressionSwitchCodeFromJLS
+ * @compile ExpressionSwitchCodeFromJLS.java
+ * @run main ExpressionSwitchCodeFromJLS
  */
 
 public class ExpressionSwitchCodeFromJLS {
     static void howMany(int k) {
         switch (k) {
