diff a/test/langtools/tools/javac/switchexpr/ExpressionSwitchBugsInGen.java b/test/langtools/tools/javac/switchexpr/ExpressionSwitchBugsInGen.java
--- a/test/langtools/tools/javac/switchexpr/ExpressionSwitchBugsInGen.java
+++ b/test/langtools/tools/javac/switchexpr/ExpressionSwitchBugsInGen.java
@@ -23,12 +23,12 @@
 
 /*
  * @test
  * @bug 8214031
  * @summary Verify various corner cases with nested switch expressions.
- * @compile --enable-preview -source ${jdk.version} ExpressionSwitchBugsInGen.java
- * @run main/othervm --enable-preview ExpressionSwitchBugsInGen
+ * @compile ExpressionSwitchBugsInGen.java
+ * @run main ExpressionSwitchBugsInGen
  */
 
 public class ExpressionSwitchBugsInGen {
     public static void main(String... args) {
         new ExpressionSwitchBugsInGen().test(0, 0, 0, false);
