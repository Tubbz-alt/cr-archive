<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames test/langtools/tools/javac/switchexpr/ExpressionSwitchFlow.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
    <script type="text/javascript" src="../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre> 1 /*
 2  * @test /nodynamiccopyright/
 3  * @bug 8212982
 4  * @summary Verify a compile-time error is produced if switch expression does not provide a value
<a name="1" id="anc1"></a><span class="line-modified"> 5  * @compile/fail/ref=ExpressionSwitchFlow.out --enable-preview -source ${jdk.version} -XDrawDiagnostics ExpressionSwitchFlow.java</span>
 6  */
 7 
 8 public class ExpressionSwitchFlow {
 9     private String test1(int i) {
10         return switch (i) {
11             case 0 -&gt; {}
<a name="2" id="anc2"></a><span class="line-modified">12             default -&gt; { break &quot;other&quot;; }</span>
13         };
14     }
15     private String test2(int i) {
16         return switch (i) {
17             case 0 -&gt; {
18             }
19             default -&gt; &quot;other&quot;;
20         };
21     }
22     private String test3(int i) {
23         return switch (i) {
24             case 0 -&gt; {}
<a name="3" id="anc3"></a>
25             default -&gt; throw new IllegalStateException();
26         };
27     }
28     private String test4(int i) {
29         return switch (i) {
<a name="4" id="anc4"></a><span class="line-modified">30             case 0 -&gt; { break &quot;other&quot;; }</span>
31             default -&gt; {}
32         };
33     }
34     private String test5(int i) {
35         return switch (i) {
36             case 0 -&gt; &quot;other&quot;;
37             default -&gt; {}
38         };
39     }
40     private String test6(int i) {
41         return switch (i) {
42             case 0 -&gt; throw new IllegalStateException();
<a name="5" id="anc5"></a>
43             default -&gt; {}
44         };
45     }
46     private String test7(int i) {
47         return switch (i) {
48             case 0: throw new IllegalStateException();
<a name="6" id="anc6"></a>
49             default:
50         };
51     }
52     private String test8(int i) {
53         return switch (i) {
<a name="7" id="anc7"></a>
54             case 0: i++;
55             default: {
56             }
57         };
58     }
59     private String test9(int i) {
60         return switch (i) {
<a name="8" id="anc8"></a>
61             case 0:
62             default:
63                 System.err.println();
64         };
65     }
66 }
<a name="9" id="anc9"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="9" type="hidden" />
</body>
</html>