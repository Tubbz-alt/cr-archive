<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/langtools/tools/javac/switchexpr/ExpressionSwitchFlow.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="ExpressionSwitchFallThrough1.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="ExpressionSwitchFlow.out.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/langtools/tools/javac/switchexpr/ExpressionSwitchFlow.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 1 /*
 2  * @test /nodynamiccopyright/
 3  * @bug 8212982
 4  * @summary Verify a compile-time error is produced if switch expression does not provide a value
<span class="line-modified"> 5  * @compile/fail/ref=ExpressionSwitchFlow.out --enable-preview -source ${jdk.version} -XDrawDiagnostics ExpressionSwitchFlow.java</span>
 6  */
 7 
 8 public class ExpressionSwitchFlow {
 9     private String test1(int i) {
10         return switch (i) {
11             case 0 -&gt; {}
<span class="line-modified">12             default -&gt; { break &quot;other&quot;; }</span>
13         };
14     }
15     private String test2(int i) {
16         return switch (i) {
17             case 0 -&gt; {
18             }
19             default -&gt; &quot;other&quot;;
20         };
21     }
22     private String test3(int i) {
23         return switch (i) {
24             case 0 -&gt; {}

25             default -&gt; throw new IllegalStateException();
26         };
27     }
28     private String test4(int i) {
29         return switch (i) {
<span class="line-modified">30             case 0 -&gt; { break &quot;other&quot;; }</span>
31             default -&gt; {}
32         };
33     }
34     private String test5(int i) {
35         return switch (i) {
36             case 0 -&gt; &quot;other&quot;;
37             default -&gt; {}
38         };
39     }
40     private String test6(int i) {
41         return switch (i) {
42             case 0 -&gt; throw new IllegalStateException();

43             default -&gt; {}
44         };
45     }
46     private String test7(int i) {
47         return switch (i) {
48             case 0: throw new IllegalStateException();

49             default:
50         };
51     }
52     private String test8(int i) {
53         return switch (i) {

54             case 0: i++;
55             default: {
56             }
57         };
58     }
59     private String test9(int i) {
60         return switch (i) {

61             case 0:
62             default:
63                 System.err.println();
64         };
65     }
66 }
</pre>
</td>
<td>
<hr />
<pre>
 1 /*
 2  * @test /nodynamiccopyright/
 3  * @bug 8212982
 4  * @summary Verify a compile-time error is produced if switch expression does not provide a value
<span class="line-modified"> 5  * @compile/fail/ref=ExpressionSwitchFlow.out -XDrawDiagnostics ExpressionSwitchFlow.java</span>
 6  */
 7 
 8 public class ExpressionSwitchFlow {
 9     private String test1(int i) {
10         return switch (i) {
11             case 0 -&gt; {}
<span class="line-modified">12             default -&gt; { yield &quot;other&quot;; }</span>
13         };
14     }
15     private String test2(int i) {
16         return switch (i) {
17             case 0 -&gt; {
18             }
19             default -&gt; &quot;other&quot;;
20         };
21     }
22     private String test3(int i) {
23         return switch (i) {
24             case 0 -&gt; {}
<span class="line-added">25             case 1 -&gt; &quot;&quot;;</span>
26             default -&gt; throw new IllegalStateException();
27         };
28     }
29     private String test4(int i) {
30         return switch (i) {
<span class="line-modified">31             case 0 -&gt; { yield &quot;other&quot;; }</span>
32             default -&gt; {}
33         };
34     }
35     private String test5(int i) {
36         return switch (i) {
37             case 0 -&gt; &quot;other&quot;;
38             default -&gt; {}
39         };
40     }
41     private String test6(int i) {
42         return switch (i) {
43             case 0 -&gt; throw new IllegalStateException();
<span class="line-added">44             case 1 -&gt; &quot;&quot;;</span>
45             default -&gt; {}
46         };
47     }
48     private String test7(int i) {
49         return switch (i) {
50             case 0: throw new IllegalStateException();
<span class="line-added">51             case 1: yield &quot;&quot;;</span>
52             default:
53         };
54     }
55     private String test8(int i) {
56         return switch (i) {
<span class="line-added">57             case 1: yield &quot;&quot;;</span>
58             case 0: i++;
59             default: {
60             }
61         };
62     }
63     private String test9(int i) {
64         return switch (i) {
<span class="line-added">65             case 1: yield &quot;&quot;;</span>
66             case 0:
67             default:
68                 System.err.println();
69         };
70     }
71 }
</pre>
</td>
</tr>
</table>
<center><a href="ExpressionSwitchFallThrough1.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="ExpressionSwitchFlow.out.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>