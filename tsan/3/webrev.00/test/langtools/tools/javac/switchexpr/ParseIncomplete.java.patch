diff a/test/langtools/tools/javac/switchexpr/ParseIncomplete.java b/test/langtools/tools/javac/switchexpr/ParseIncomplete.java
--- a/test/langtools/tools/javac/switchexpr/ParseIncomplete.java
+++ b/test/langtools/tools/javac/switchexpr/ParseIncomplete.java
@@ -48,13 +48,13 @@
             "            default: i++; break;" +
             "        }" +
             "    }" +
             "    int t2(Integer i) {" +
             "        return switch (i) {" +
-            "            case null: break 0;" +
-            "            case 0, 1: break 1;" +
-            "            default: break 2;" +
+            "            case null: yield 0;" +
+            "            case 0, 1: yield 1;" +
+            "            default: yield 2;" +
             "        }" +
             "    }" +
             "}";
 
     public static void main(String[] args) throws Exception {
@@ -66,11 +66,11 @@
         for (int i = 0; i < CODE.length(); i++) {
             String code = CODE.substring(0, i + 1);
             StringWriter out = new StringWriter();
             try {
                 JavacTask ct = (JavacTask) tool.getTask(out, null, noErrors,
-                    List.of("-XDdev", "--enable-preview", "-source", sourceVersion), null,
+                    List.of("-XDdev"), null,
                     Arrays.asList(new MyFileObject(code)));
                 ct.parse().iterator().next();
             } catch (Throwable t) {
                 System.err.println("Unexpected exception for code: " + code);
                 System.err.println("output: " + out);
