diff a/test/langtools/jdk/jshell/ToolTabSnippetTest.java b/test/langtools/jdk/jshell/ToolTabSnippetTest.java
--- a/test/langtools/jdk/jshell/ToolTabSnippetTest.java
+++ b/test/langtools/jdk/jshell/ToolTabSnippetTest.java
@@ -21,11 +21,11 @@
  * questions.
  */
 
 /**
  * @test
- * @bug 8177076 8185426 8189595 8188072
+ * @bug 8177076 8185426 8189595 8188072 8221759
  * @modules
  *     jdk.compiler/com.sun.tools.javac.api
  *     jdk.compiler/com.sun.tools.javac.main
  *     jdk.jshell/jdk.internal.jshell.tool
  *     jdk.jshell/jdk.internal.jshell.tool.resources:open
@@ -264,10 +264,19 @@
                     resource("jshell.console.completion.all.completions");
             waitOutput(out, ".*xyzAA.*" + allCompletions + ".*\u0005String s = xyzA");
         });
     }
 
+    public void testCrash8221759() throws Exception {
+        doRunTest((inputSink, out) -> {
+            inputSink.write("java.io.File.path" + TAB);
+            waitOutput(out, "java.io.File.path\n" +
+                            "pathSeparator       pathSeparatorChar   " +
+                            REDRAW_PROMPT + "java.io.File.pathSeparator");
+        });
+    }
+
     private Path prepareZip() {
         String clazz1 =
                 "package jshelltest;\n" +
                 "/**JShellTest 0" +
                 " */\n" +
