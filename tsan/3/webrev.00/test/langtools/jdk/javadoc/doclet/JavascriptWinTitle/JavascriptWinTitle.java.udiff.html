<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff test/langtools/jdk/javadoc/doclet/JavascriptWinTitle/JavascriptWinTitle.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../InheritDocForUserTags/DocTest.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="package-list.udiff.html" target="_top">next &gt;</a></center>    <h2>test/langtools/jdk/javadoc/doclet/JavascriptWinTitle/JavascriptWinTitle.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -21,14 +21,13 @@</span>
   * questions.
   */
  
  /*
   * @test
<span class="udiff-line-modified-removed">-  * @bug 4645058 4747738 4855054 8024756 8141492 8196202 8205593</span>
<span class="udiff-line-modified-added">+  * @bug 4645058 4747738 4855054 8024756 8141492 8196202 8205593 8215599</span>
   * @summary  Javascript IE load error when linked by -linkoffline
   *           Window title shouldn&#39;t change when loading left frames (javascript)
<span class="udiff-line-removed">-  * @author dkramer</span>
   * @library ../../lib
   * @modules jdk.javadoc/jdk.javadoc.internal.tool
   * @build javadoc.tester.*
   * @run main JavascriptWinTitle
   */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -44,36 +43,22 @@</span>
  
      @Test
      public void test() {
          javadoc(&quot;-d&quot;, &quot;out&quot;,
                  &quot;-source&quot;, &quot;8&quot;,
<span class="udiff-line-removed">-                 &quot;--frames&quot;,</span>
                  &quot;-doctitle&quot;, &quot;Document Title&quot;,
                  &quot;-windowtitle&quot;, &quot;Window Title&quot;,
                  &quot;-overview&quot;, testSrc(&quot;overview.html&quot;),
                  &quot;-linkoffline&quot;, &quot;http://java.sun.com/j2se/1.4/docs/api&quot;, testSrc,
                  &quot;-sourcepath&quot;, testSrc,
                  &quot;p1&quot;, &quot;p2&quot;);
          checkExit(Exit.OK);
<span class="udiff-line-modified-removed">-         checkOutput(&quot;overview-summary.html&quot;, true,</span>
<span class="udiff-line-modified-added">+         checkOutput(&quot;index.html&quot;, true,</span>
                  &quot;&lt;script type=\&quot;text/javascript\&quot;&gt;&quot;,
                  &quot;&lt;body class=\&quot;package-index\&quot;&gt;&quot;);
  
          // Test that &quot;onload&quot; is not present in BODY tag:
          checkOutput(&quot;p1/package-summary.html&quot;, true, &quot;&lt;body class=\&quot;package-declaration\&quot;&gt;&quot;);
<span class="udiff-line-removed">-         checkOutput(&quot;overview-frame.html&quot;, true, &quot;&lt;body class=\&quot;package-index-frame\&quot;&gt;&quot;);</span>
<span class="udiff-line-removed">-         checkOutput(&quot;allclasses-frame.html&quot;, true, &quot;&lt;body class=\&quot;all-classes-frame\&quot;&gt;&quot;);</span>
<span class="udiff-line-removed">-         checkOutput(&quot;p1/package-frame.html&quot;, true, &quot;&lt;body class=\&quot;package-frame\&quot;&gt;&quot;);</span>
  
<span class="udiff-line-modified-removed">-         // Test that win title javascript is followed by NOSCRIPT code.</span>
<span class="udiff-line-removed">-         checkOutput(&quot;p1/C.html&quot;, true,</span>
<span class="udiff-line-removed">-                 &quot;&lt;script type=\&quot;text/javascript\&quot;&gt;&lt;!--\n&quot;</span>
<span class="udiff-line-removed">-                 + &quot;    try {\n&quot;</span>
<span class="udiff-line-removed">-                 + &quot;        if (location.href.indexOf(&#39;is-external=true&#39;) == -1) {\n&quot;</span>
<span class="udiff-line-removed">-                 + &quot;            parent.document.title=\&quot;C (Window Title)\&quot;;\n&quot;</span>
<span class="udiff-line-removed">-                 + &quot;        }\n&quot;</span>
<span class="udiff-line-removed">-                 + &quot;    }\n&quot;</span>
<span class="udiff-line-removed">-                 + &quot;    catch(err) {\n&quot;</span>
<span class="udiff-line-removed">-                 + &quot;    }\n&quot;</span>
<span class="udiff-line-removed">-                 + &quot;//--&gt;\n&quot;);</span>
<span class="udiff-line-modified-added">+         checkOutput(&quot;p1/C.html&quot;, true, &quot;&lt;title&gt;C (Window Title)&lt;/title&gt;&quot;);</span>
      }
  }
</pre>
<center><a href="../InheritDocForUserTags/DocTest.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="package-list.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>