<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/langtools/jdk/javadoc/doclet/testIndexTaglet/TestIndexTaglet.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../testIndexInPackageFiles/TestIndexInPackageFiles.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../testIndexWithModules/TestIndexWithModules.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/langtools/jdk/javadoc/doclet/testIndexTaglet/TestIndexTaglet.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 45,11 ***</span>
  
      final ToolBox tb;
  
      public static void main(String... args) throws Exception {
          TestIndexTaglet tester = new TestIndexTaglet();
<span class="line-modified">!         tester.runTests(m -&gt; new Object[]{Paths.get(m.getName())});</span>
      }
  
      TestIndexTaglet() {
          tb = new ToolBox();
      }
<span class="line-new-header">--- 45,11 ---</span>
  
      final ToolBox tb;
  
      public static void main(String... args) throws Exception {
          TestIndexTaglet tester = new TestIndexTaglet();
<span class="line-modified">!         tester.runTests(m -&gt; new Object[] { Paths.get(m.getName()) });</span>
      }
  
      TestIndexTaglet() {
          tb = new ToolBox();
      }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 73,13 ***</span>
                  &quot;pkg&quot;);
  
          checkExit(Exit.OK);
  
          checkOrder(&quot;pkg/A.html&quot;,
<span class="line-modified">!                 &quot;&lt;h2&gt;Method Detail&lt;/h2&gt;\n&quot;,</span>
<span class="line-modified">!                 &quot;&lt;div class=\&quot;block\&quot;&gt;test description with &lt;a id=\&quot;search_phrase_a\&quot; &quot;</span>
<span class="line-modified">!                  +    &quot;class=\&quot;searchTagResult\&quot;&gt;search_phrase_a&lt;/a&gt;&lt;/div&gt;&quot;);</span>
  
          checkOrder(&quot;pkg/A.html&quot;,
                  &quot;&lt;h2&gt;Method Summary&lt;/h2&gt;\n&quot;,
                  &quot;&lt;div class=\&quot;block\&quot;&gt;test description with search_phrase_a&lt;/div&gt;&quot;);
      }
<span class="line-new-header">--- 73,13 ---</span>
                  &quot;pkg&quot;);
  
          checkExit(Exit.OK);
  
          checkOrder(&quot;pkg/A.html&quot;,
<span class="line-modified">!                 &quot;&lt;h2&gt;Method Details&lt;/h2&gt;\n&quot;,</span>
<span class="line-modified">!                 &quot;&lt;div class=\&quot;block\&quot;&gt;test description with &lt;span id=\&quot;search_phrase_a\&quot; &quot;</span>
<span class="line-modified">!                  +    &quot;class=\&quot;searchTagResult\&quot;&gt;search_phrase_a&lt;/span&gt;&lt;/div&gt;&quot;);</span>
  
          checkOrder(&quot;pkg/A.html&quot;,
                  &quot;&lt;h2&gt;Method Summary&lt;/h2&gt;\n&quot;,
                  &quot;&lt;div class=\&quot;block\&quot;&gt;test description with search_phrase_a&lt;/div&gt;&quot;);
      }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 102,6 ***</span>
<span class="line-new-header">--- 102,29 ---</span>
          checkExit(Exit.OK);
  
          checkOutput(Output.OUT, true,
                  &quot;warning: {@index} tag, which expands to &lt;a&gt;, within &lt;a&gt;&quot;);
      }
<span class="line-added">+ </span>
<span class="line-added">+     @Test</span>
<span class="line-added">+     public void testDuplicateReferences(Path base) throws Exception {</span>
<span class="line-added">+         Path srcDir = base.resolve(&quot;src&quot;);</span>
<span class="line-added">+         Path outDir = base.resolve(&quot;out&quot;);</span>
<span class="line-added">+ </span>
<span class="line-added">+         new ClassBuilder(tb, &quot;pkg.A&quot;)</span>
<span class="line-added">+                 .setModifiers(&quot;public&quot;, &quot;class&quot;)</span>
<span class="line-added">+                 .setComments(&quot;This is a class. Here is {@index foo first}.&quot;)</span>
<span class="line-added">+                 .addMembers(MethodBuilder.parse(&quot;public void m() {}&quot;)</span>
<span class="line-added">+                         .setComments(&quot;This is a method. Here is {@index foo second}.&quot;))</span>
<span class="line-added">+                 .write(srcDir);</span>
<span class="line-added">+ </span>
<span class="line-added">+         javadoc(&quot;-d&quot;, outDir.toString(),</span>
<span class="line-added">+                 &quot;-sourcepath&quot;, srcDir.toString(),</span>
<span class="line-added">+                 &quot;pkg&quot;);</span>
<span class="line-added">+ </span>
<span class="line-added">+         checkExit(Exit.OK);</span>
<span class="line-added">+ </span>
<span class="line-added">+         checkOutput(&quot;pkg/A.html&quot;, true,</span>
<span class="line-added">+                 &quot;This is a class. Here is &lt;span id=\&quot;foo\&quot; class=\&quot;searchTagResult\&quot;&gt;foo&lt;/span&gt;.&quot;,</span>
<span class="line-added">+                 &quot;This is a method. Here is &lt;span id=\&quot;foo-1\&quot; class=\&quot;searchTagResult\&quot;&gt;foo&lt;/span&gt;.&quot;);</span>
<span class="line-added">+     }</span>
  }
</pre>
<center><a href="../testIndexInPackageFiles/TestIndexInPackageFiles.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../testIndexWithModules/TestIndexWithModules.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>