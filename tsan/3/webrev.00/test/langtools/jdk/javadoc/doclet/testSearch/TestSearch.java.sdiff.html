<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/langtools/jdk/javadoc/doclet/testSearch/TestSearch.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../testReturnTag/TestReturnTag.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="pkg/AnnotationType.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/langtools/jdk/javadoc/doclet/testSearch/TestSearch.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2015, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
 23 
 24 /*
 25  * @test
 26  * @bug 8141492 8071982 8141636 8147890 8166175 8168965 8176794 8175218 8147881
 27  *      8181622 8182263 8074407 8187521 8198522 8182765 8199278 8196201 8196202
<span class="line-modified"> 28  *      8184205 8214468</span>
 29  * @summary Test the search feature of javadoc.
<span class="line-removed"> 30  * @author bpatel</span>
 31  * @library ../../lib
 32  * @modules jdk.javadoc/jdk.javadoc.internal.tool
 33  * @build javadoc.tester.*
 34  * @run main TestSearch
 35  */



 36 import javadoc.tester.JavadocTester;
 37 
 38 public class TestSearch extends JavadocTester {
 39 
 40     public static void main(String... args) throws Exception {
 41         TestSearch tester = new TestSearch();
 42         tester.runTests();
 43     }
 44 
 45     @Test
 46     public void test1() {
 47         javadoc(&quot;-d&quot;, &quot;out-1&quot;,
 48                 &quot;-sourcepath&quot;,
 49                 &quot;-use&quot;,
 50                 testSrc(&quot;UnnamedPkgClass.java&quot;));
 51         checkExit(Exit.OK);
 52         checkSearchOutput(&quot;UnnamedPkgClass.html&quot;, true, true);
 53         checkJqueryAndImageFiles(true);
 54         checkSearchJS();
 55         checkFiles(false,
<span class="line-removed"> 56                 &quot;tag-search-index.zip&quot;,</span>
 57                 &quot;tag-search-index.js&quot;);
 58         checkFiles(true,
<span class="line-removed"> 59                 &quot;package-search-index.zip&quot;,</span>
<span class="line-removed"> 60                 &quot;member-search-index.zip&quot;,</span>
<span class="line-removed"> 61                 &quot;type-search-index.zip&quot;,</span>
 62                 &quot;package-search-index.js&quot;,
 63                 &quot;member-search-index.js&quot;,
 64                 &quot;type-search-index.js&quot;);
 65     }
 66 
 67     @Test
 68     public void test2() {
 69         javadoc(&quot;-d&quot;, &quot;out-2&quot;,
 70                 &quot;-Xdoclint:none&quot;,
 71                 &quot;-sourcepath&quot;, testSrc,
 72                 &quot;-use&quot;,
<span class="line-removed"> 73                 &quot;--frames&quot;,</span>
 74                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
 75         checkExit(Exit.OK);
 76         checkInvalidUsageIndexTag();
 77         checkSearchOutput(true);
 78         checkSingleIndex(true, true);
 79         checkSingleIndexSearchTagDuplication();
 80         checkJqueryAndImageFiles(true);
 81         checkSearchJS();
 82         checkAllPkgsAllClasses();
 83         checkFiles(true,
<span class="line-removed"> 84                 &quot;member-search-index.zip&quot;,</span>
<span class="line-removed"> 85                 &quot;package-search-index.zip&quot;,</span>
<span class="line-removed"> 86                 &quot;tag-search-index.zip&quot;,</span>
<span class="line-removed"> 87                 &quot;type-search-index.zip&quot;,</span>
 88                 &quot;member-search-index.js&quot;,
 89                 &quot;package-search-index.js&quot;,
 90                 &quot;tag-search-index.js&quot;,
 91                 &quot;type-search-index.js&quot;);
 92     }
 93 
 94     @Test
 95     public void test2a() {
 96         javadoc(&quot;-d&quot;, &quot;out-2a&quot;,
 97                 &quot;-Xdoclint:all&quot;,
 98                 &quot;-sourcepath&quot;, testSrc,
 99                 &quot;-use&quot;,
<span class="line-removed">100                 &quot;--frames&quot;,</span>
101                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
102         checkExit(Exit.ERROR);
103         checkDocLintErrors();
104         checkSearchOutput(true);
105         checkSingleIndex(true, true);
106         checkSingleIndexSearchTagDuplication();
107         checkJqueryAndImageFiles(true);
108         checkSearchJS();
109         checkFiles(true,
<span class="line-removed">110                 &quot;member-search-index.zip&quot;,</span>
<span class="line-removed">111                 &quot;package-search-index.zip&quot;,</span>
<span class="line-removed">112                 &quot;tag-search-index.zip&quot;,</span>
<span class="line-removed">113                 &quot;type-search-index.zip&quot;,</span>
114                 &quot;member-search-index.js&quot;,
115                 &quot;package-search-index.js&quot;,
116                 &quot;tag-search-index.js&quot;,
117                 &quot;type-search-index.js&quot;);
118     }
119 
120     @Test
121     public void test3() {
122         javadoc(&quot;-d&quot;, &quot;out-3&quot;,
123                 &quot;-noindex&quot;,
124                 &quot;-Xdoclint:none&quot;,
125                 &quot;-sourcepath&quot;, testSrc,
126                 &quot;-use&quot;,
<span class="line-removed">127                 &quot;--frames&quot;,</span>
128                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
129         checkExit(Exit.OK);
130         checkSearchOutput(false);
131         checkJqueryAndImageFiles(false);
132         checkFiles(false,
<span class="line-removed">133                 &quot;member-search-index.zip&quot;,</span>
<span class="line-removed">134                 &quot;package-search-index.zip&quot;,</span>
<span class="line-removed">135                 &quot;tag-search-index.zip&quot;,</span>
<span class="line-removed">136                 &quot;type-search-index.zip&quot;,</span>
137                 &quot;member-search-index.js&quot;,
138                 &quot;package-search-index.js&quot;,
139                 &quot;tag-search-index.js&quot;,
140                 &quot;type-search-index.js&quot;,
141                 &quot;index-all.html&quot;,
142                 &quot;allpackages-index.html&quot;,
143                 &quot;allclasses-index.html&quot;);
144     }
145 
146     @Test
147     public void test4() {
148         javadoc(&quot;-d&quot;, &quot;out-4&quot;,
149                 &quot;-html5&quot;,
150                 &quot;-Xdoclint:none&quot;,
151                 &quot;-sourcepath&quot;, testSrc,
152                 &quot;-use&quot;,
<span class="line-removed">153                 &quot;--frames&quot;,</span>
154                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
155         checkExit(Exit.OK);
156         checkSearchOutput(true);
157         checkSingleIndex(true, true);
158         checkSingleIndexSearchTagDuplication();
159         checkJqueryAndImageFiles(true);
160         checkSearchJS();
161         checkFiles(true,
<span class="line-removed">162                 &quot;member-search-index.zip&quot;,</span>
<span class="line-removed">163                 &quot;package-search-index.zip&quot;,</span>
<span class="line-removed">164                 &quot;tag-search-index.zip&quot;,</span>
<span class="line-removed">165                 &quot;type-search-index.zip&quot;,</span>
166                 &quot;member-search-index.js&quot;,
167                 &quot;package-search-index.js&quot;,
168                 &quot;tag-search-index.js&quot;,
169                 &quot;type-search-index.js&quot;);
170     }
171 
172     @Test
173     public void test5() {
174         javadoc(&quot;-d&quot;, &quot;out-5&quot;,
175                 &quot;-html5&quot;,
176                 &quot;-noindex&quot;,
177                 &quot;-Xdoclint:none&quot;,
178                 &quot;-sourcepath&quot;, testSrc,
179                 &quot;-use&quot;,
<span class="line-removed">180                 &quot;--frames&quot;,</span>
181                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
182         checkExit(Exit.OK);
183         checkSearchOutput(false);
184         checkJqueryAndImageFiles(false);
185         checkFiles(false,
<span class="line-removed">186                 &quot;member-search-index.zip&quot;,</span>
<span class="line-removed">187                 &quot;package-search-index.zip&quot;,</span>
<span class="line-removed">188                 &quot;tag-search-index.zip&quot;,</span>
<span class="line-removed">189                 &quot;type-search-index.zip&quot;,</span>
190                 &quot;member-search-index.js&quot;,
191                 &quot;package-search-index.js&quot;,
192                 &quot;tag-search-index.js&quot;,
193                 &quot;type-search-index.js&quot;,
194                 &quot;index-all.html&quot;);
195     }
196 
197     @Test
198     public void test6() {
199         javadoc(&quot;-d&quot;, &quot;out-6&quot;,
200                 &quot;-nocomment&quot;,
201                 &quot;-Xdoclint:none&quot;,
202                 &quot;-sourcepath&quot;, testSrc,
203                 &quot;-use&quot;,
<span class="line-removed">204                 &quot;--frames&quot;,</span>
205                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
206         checkExit(Exit.OK);
207         checkSearchOutput(true);
208         checkIndexNoComment();
209         checkJqueryAndImageFiles(true);
210         checkSearchJS();
211         checkFiles(true,
<span class="line-removed">212                 &quot;member-search-index.zip&quot;,</span>
<span class="line-removed">213                 &quot;package-search-index.zip&quot;,</span>
<span class="line-removed">214                 &quot;tag-search-index.zip&quot;,</span>
<span class="line-removed">215                 &quot;type-search-index.zip&quot;,</span>
216                 &quot;member-search-index.js&quot;,
217                 &quot;package-search-index.js&quot;,
218                 &quot;tag-search-index.js&quot;,
219                 &quot;type-search-index.js&quot;);
220     }
221 
222     @Test
223     public void test7() {
224         javadoc(&quot;-d&quot;, &quot;out-7&quot;,
225                 &quot;-nodeprecated&quot;,
226                 &quot;-Xdoclint:none&quot;,
227                 &quot;-sourcepath&quot;, testSrc,
228                 &quot;-use&quot;,
<span class="line-removed">229                 &quot;--frames&quot;,</span>
230                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
231 
232         checkExit(Exit.OK);
233         checkSearchOutput(true);
234         checkIndexNoDeprecated();
235         checkJqueryAndImageFiles(true);
236         checkSearchJS();
237         checkFiles(true,
<span class="line-removed">238                 &quot;member-search-index.zip&quot;,</span>
<span class="line-removed">239                 &quot;package-search-index.zip&quot;,</span>
<span class="line-removed">240                 &quot;tag-search-index.zip&quot;,</span>
<span class="line-removed">241                 &quot;type-search-index.zip&quot;,</span>
242                 &quot;member-search-index.js&quot;,
243                 &quot;package-search-index.js&quot;,
244                 &quot;tag-search-index.js&quot;,
245                 &quot;type-search-index.js&quot;);
246     }
247 
248     @Test
249     public void test8() {
250         javadoc(&quot;-d&quot;, &quot;out-8&quot;,
251                 &quot;-splitindex&quot;,
252                 &quot;-Xdoclint:none&quot;,
253                 &quot;-sourcepath&quot;, testSrc,
254                 &quot;-use&quot;,
<span class="line-removed">255                 &quot;--frames&quot;,</span>
256                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
257         checkExit(Exit.OK);
258         checkInvalidUsageIndexTag();
259         checkSearchOutput(true);
260         checkSplitIndex();
261         checkSplitIndexSearchTagDuplication();
262         checkJqueryAndImageFiles(true);
263         checkSearchJS();
264         checkFiles(true,
<span class="line-removed">265                 &quot;member-search-index.zip&quot;,</span>
<span class="line-removed">266                 &quot;package-search-index.zip&quot;,</span>
<span class="line-removed">267                 &quot;tag-search-index.zip&quot;,</span>
<span class="line-removed">268                 &quot;type-search-index.zip&quot;,</span>
269                 &quot;member-search-index.js&quot;,
270                 &quot;package-search-index.js&quot;,
271                 &quot;tag-search-index.js&quot;,
272                 &quot;type-search-index.js&quot;);
273     }
274 
275     @Test
276     public void test9() {
277         javadoc(&quot;-d&quot;, &quot;out-9&quot;,
278                 &quot;-sourcepath&quot;, testSrc,
279                 &quot;-javafx&quot;,
280                 &quot;--disable-javafx-strict-checks&quot;,
281                 &quot;-package&quot;,
282                 &quot;-use&quot;,
<span class="line-removed">283                 &quot;--frames&quot;,</span>
284                 &quot;pkgfx&quot;, &quot;pkg3&quot;);
285         checkExit(Exit.OK);
286         checkSearchOutput(true);
287         checkJavaFXOutput();
288         checkJqueryAndImageFiles(true);
289         checkSearchJS();
290         checkFiles(false,
<span class="line-removed">291                 &quot;tag-search-index.zip&quot;,</span>
292                 &quot;tag-search-index.js&quot;);
293         checkFiles(true,
<span class="line-removed">294                 &quot;member-search-index.zip&quot;,</span>
<span class="line-removed">295                 &quot;package-search-index.zip&quot;,</span>
<span class="line-removed">296                 &quot;type-search-index.zip&quot;,</span>
297                 &quot;member-search-index.js&quot;,
298                 &quot;package-search-index.js&quot;,
299                 &quot;type-search-index.js&quot;);
300     }
301 
<span class="line-removed">302     @Test</span>
<span class="line-removed">303     public void testNoModuleDirectories() {</span>
<span class="line-removed">304         javadoc(&quot;-d&quot;, &quot;out-noMdlDir&quot;,</span>
<span class="line-removed">305                 &quot;--no-module-directories&quot;,</span>
<span class="line-removed">306                 &quot;-Xdoclint:none&quot;,</span>
<span class="line-removed">307                 &quot;-sourcepath&quot;, testSrc,</span>
<span class="line-removed">308                 &quot;-use&quot;,</span>
<span class="line-removed">309                 &quot;--frames&quot;,</span>
<span class="line-removed">310                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);</span>
<span class="line-removed">311         checkExit(Exit.OK);</span>
<span class="line-removed">312         checkSearchOutput(true, false);</span>
<span class="line-removed">313         checkSearchJS();</span>
<span class="line-removed">314     }</span>
<span class="line-removed">315 </span>
316     @Test
317     public void testURLEncoding() {
318         javadoc(&quot;-d&quot;, &quot;out-encode-html5&quot;,
<span class="line-removed">319                 &quot;--no-module-directories&quot;,</span>
320                 &quot;-Xdoclint:none&quot;,
321                 &quot;-sourcepath&quot;, testSrc,
322                 &quot;-use&quot;,
323                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
324         checkExit(Exit.OK);
325         checkSearchJS();
326         checkSearchIndex(true);
327     }
328 
329     @Test
<span class="line-modified">330     public void testJapaneseLocale() {</span>























331         javadoc(&quot;-locale&quot;, &quot;ja_JP&quot;,
<span class="line-modified">332                 &quot;-d&quot;, &quot;out-jp&quot;,</span>
<span class="line-removed">333                 &quot;--no-module-directories&quot;,</span>
334                 &quot;-Xdoclint:none&quot;,
335                 &quot;-sourcepath&quot;, testSrc,
336                 &quot;-use&quot;,
337                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
338         checkExit(Exit.OK);
339         checkOutput(Output.OUT, true,
<span class="line-modified">340                 &quot;\u30d1\u30c3\u30b1\u30fc\u30b8pkg\u306e\u30bd\u30fc\u30b9\u30fb\u30d5\u30a1&quot; +</span>
<span class="line-modified">341                         &quot;\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3044\u307e\u3059...\n&quot;,</span>
<span class="line-modified">342                 &quot;\u30d1\u30c3\u30b1\u30fc\u30b8pkg1\u306e\u30bd\u30fc\u30b9\u30fb\u30d5\u30a1&quot; +</span>
<span class="line-modified">343                         &quot;\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3044\u307e\u3059...\n&quot;);</span>
344         checkSearchJS();
345         checkSearchIndex(true);
346     }
347 
348     @Test
<span class="line-modified">349     public void testChineseLocale() {</span>























350         javadoc(&quot;-locale&quot;, &quot;zh_CN&quot;,
<span class="line-modified">351                 &quot;-d&quot;, &quot;out-cn&quot;,</span>
<span class="line-removed">352                 &quot;--no-module-directories&quot;,</span>
353                 &quot;-Xdoclint:none&quot;,
354                 &quot;-sourcepath&quot;, testSrc,
355                 &quot;-use&quot;,
356                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
357         checkExit(Exit.OK);
358         checkOutput(Output.OUT, true,
<span class="line-modified">359                 &quot;\u6b63\u5728\u52a0\u8f7d\u7a0b\u5e8f\u5305pkg\u7684\u6e90\u6587\u4ef6...\n&quot;,</span>
<span class="line-modified">360                 &quot;\u6b63\u5728\u52a0\u8f7d\u7a0b\u5e8f\u5305pkg1\u7684\u6e90\u6587\u4ef6...\n&quot;,</span>
<span class="line-modified">361                 &quot;\u6b63\u5728\u52a0\u8f7d\u7a0b\u5e8f\u5305pkg2\u7684\u6e90\u6587\u4ef6...\n&quot;,</span>
<span class="line-modified">362                 &quot;\u6b63\u5728\u52a0\u8f7d\u7a0b\u5e8f\u5305pkg3\u7684\u6e90\u6587\u4ef6...\n&quot;);</span>


363         checkSearchJS();
364         checkSearchIndex(true);
365     }
366 
367     void checkDocLintErrors() {
368         checkOutput(Output.OUT, true,
369                 &quot;A sample method. Testing search tag for {@index \&quot;unclosed quote}.&quot;,
370                 &quot;Another test class. Testing empty {@index }.&quot;,
371                 &quot;Constant field. Testing no text in index tag {@index}.&quot;,
372                 &quot;A test field. Testing only white-spaces in index tag text {@index       }.&quot;);
373     }
374 
375     void checkSearchOutput(boolean expectedOutput) {
<span class="line-modified">376         checkSearchOutput(&quot;overview-summary.html&quot;, expectedOutput, true);</span>
377     }
378 
379     void checkSearchIndex(boolean expectedOutput) {
380         checkOutput(&quot;member-search-index.js&quot;, expectedOutput,
<span class="line-modified">381                 &quot;{\&quot;p\&quot;:\&quot;pkg\&quot;,\&quot;c\&quot;:\&quot;AnotherClass\&quot;,\&quot;l\&quot;:\&quot;AnotherClass()\&quot;,\&quot;url\&quot;:\&quot;%3Cinit%3E()\&quot;}&quot;,</span>
<span class="line-modified">382                 &quot;{\&quot;p\&quot;:\&quot;pkg1\&quot;,\&quot;c\&quot;:\&quot;RegClass\&quot;,\&quot;l\&quot;:\&quot;RegClass()\&quot;,\&quot;url\&quot;:\&quot;%3Cinit%3E()\&quot;}&quot;,</span>
<span class="line-modified">383                 &quot;{\&quot;p\&quot;:\&quot;pkg2\&quot;,\&quot;c\&quot;:\&quot;TestError\&quot;,\&quot;l\&quot;:\&quot;TestError()\&quot;,\&quot;url\&quot;:\&quot;%3Cinit%3E()\&quot;}&quot;,</span>
<span class="line-modified">384                 &quot;{\&quot;p\&quot;:\&quot;pkg\&quot;,\&quot;c\&quot;:\&quot;AnotherClass\&quot;,\&quot;l\&quot;:\&quot;method(byte[], int, String)\&quot;,\&quot;url\&quot;:\&quot;method(byte[],int,java.lang.String)\&quot;}&quot;);</span>
385         checkOutput(&quot;member-search-index.js&quot;, !expectedOutput,
<span class="line-modified">386                 &quot;{\&quot;p\&quot;:\&quot;pkg\&quot;,\&quot;c\&quot;:\&quot;AnotherClass\&quot;,\&quot;l\&quot;:\&quot;method(RegClass)\&quot;,\&quot;url\&quot;:\&quot;method-pkg1.RegClass-\&quot;}&quot;,</span>
<span class="line-modified">387                 &quot;{\&quot;p\&quot;:\&quot;pkg2\&quot;,\&quot;c\&quot;:\&quot;TestClass\&quot;,\&quot;l\&quot;:\&quot;TestClass()\&quot;,\&quot;url\&quot;:\&quot;TestClass--\&quot;}&quot;,</span>
<span class="line-modified">388                 &quot;{\&quot;p\&quot;:\&quot;pkg\&quot;,\&quot;c\&quot;:\&quot;TestError\&quot;,\&quot;l\&quot;:\&quot;TestError()\&quot;,\&quot;url\&quot;:\&quot;TestError--\&quot;}&quot;,</span>
<span class="line-modified">389                 &quot;{\&quot;p\&quot;:\&quot;pkg\&quot;,\&quot;c\&quot;:\&quot;AnotherClass\&quot;,\&quot;l\&quot;:\&quot;method(byte[], int, String)\&quot;,\&quot;url\&quot;:\&quot;method-byte:A-int-java.lang.String-\&quot;}&quot;);</span>
390     }
391 
392     void checkSearchOutput(boolean expectedOutput, boolean moduleDirectoriesVar) {
<span class="line-modified">393         checkSearchOutput(&quot;overview-summary.html&quot;, expectedOutput, moduleDirectoriesVar);</span>
394     }
395 
396     void checkSearchOutput(String fileName, boolean expectedOutput, boolean moduleDirectoriesVar) {
397         // Test for search related markup
398         checkOutput(fileName, expectedOutput,
<span class="line-modified">399                 &quot;&lt;link rel=\&quot;stylesheet\&quot; type=\&quot;text/css\&quot; href=\&quot;jquery/jquery-ui.css\&quot; title=\&quot;Style\&quot;&gt;\n&quot;,</span>
<span class="line-modified">400                 &quot;&lt;script type=\&quot;text/javascript\&quot; src=\&quot;jquery/jszip/dist/jszip.min.js\&quot;&gt;&lt;/script&gt;\n&quot;,</span>
<span class="line-modified">401                 &quot;&lt;script type=\&quot;text/javascript\&quot; src=\&quot;jquery/jszip-utils/dist/jszip-utils.min.js\&quot;&gt;&lt;/script&gt;\n&quot;,</span>
<span class="line-removed">402                 &quot;&lt;!--[if IE]&gt;\n&quot;,</span>
<span class="line-removed">403                 &quot;&lt;script type=\&quot;text/javascript\&quot; src=\&quot;jquery/jszip-utils/dist/jszip-utils-ie.min.js\&quot;&gt;&lt;/script&gt;\n&quot;,</span>
<span class="line-removed">404                 &quot;&lt;![endif]--&gt;\n&quot;,</span>
<span class="line-removed">405                 &quot;&lt;script type=\&quot;text/javascript\&quot; src=\&quot;jquery/jquery-3.3.1.js\&quot;&gt;&lt;/script&gt;\n&quot;,</span>
<span class="line-removed">406                 &quot;&lt;script type=\&quot;text/javascript\&quot; src=\&quot;jquery/jquery-migrate-3.0.1.js\&quot;&gt;&lt;/script&gt;\n&quot;,</span>
<span class="line-removed">407                 &quot;&lt;script type=\&quot;text/javascript\&quot; src=\&quot;jquery/jquery-ui.js\&quot;&gt;&lt;/script&gt;&quot;,</span>
408                 &quot;var pathtoroot = \&quot;./\&quot;;\n&quot;
<span class="line-removed">409                 + &quot;var useModuleDirectories = &quot; + moduleDirectoriesVar + &quot;;\n&quot;</span>
410                 + &quot;loadScripts(document, &#39;script&#39;);&quot;,
<span class="line-modified">411                 &quot;&lt;ul class=\&quot;navListSearch\&quot;&gt;\n&quot;,</span>
<span class="line-modified">412                 &quot;&lt;li&gt;&lt;label for=\&quot;search\&quot;&gt;SEARCH:&lt;/label&gt;\n&quot;</span>
413                 + &quot;&lt;input type=\&quot;text\&quot; id=\&quot;search\&quot; value=\&quot;search\&quot; disabled=\&quot;disabled\&quot;&gt;\n&quot;
414                 + &quot;&lt;input type=\&quot;reset\&quot; id=\&quot;reset\&quot; value=\&quot;reset\&quot; disabled=\&quot;disabled\&quot;&gt;\n&quot;);
415         checkOutput(fileName, true,
<span class="line-modified">416                 &quot;&lt;div class=\&quot;fixedNav\&quot;&gt;&quot;);</span>
417     }
418 
419     void checkSingleIndex(boolean expectedOutput, boolean html5) {
420         String html_span_see_span = html5 ? &quot;html%3Cspan%3Esee%3C/span%3E&quot; : &quot;html-span-see-/span-&quot;;
421 
422         // Test for search tags markup in index file.
423         checkOutput(&quot;index-all.html&quot;, expectedOutput,
424                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#phrasewithspaces\&quot;&gt;&quot;
<span class="line-modified">425                 + &quot;phrase with spaces&lt;/a&gt;&lt;/span&gt; - Search tag in pkg&lt;/dt&gt;&quot;,</span>
426                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#pkg\&quot;&gt;&quot;
<span class="line-modified">427                 + &quot;pkg&lt;/a&gt;&lt;/span&gt; - Search tag in pkg&lt;/dt&gt;&quot;,</span>
428                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#pkg2.5\&quot;&gt;&quot;
<span class="line-modified">429                 + &quot;pkg2.5&lt;/a&gt;&lt;/span&gt; - Search tag in pkg&lt;/dt&gt;&quot;,</span>
430                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#r\&quot;&gt;&quot;
<span class="line-modified">431                 + &quot;r&lt;/a&gt;&lt;/span&gt; - Search tag in pkg&lt;/dt&gt;&quot;,</span>
432                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg1/RegClass.html#searchphrase\&quot;&gt;&quot;
<span class="line-modified">433                 + &quot;search phrase&lt;/a&gt;&lt;/span&gt; - Search tag in pkg1.RegClass&lt;/dt&gt;&quot;,</span>
434                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg1/RegClass.html#SearchWordWithDescription\&quot;&gt;&quot;
435                 + &quot;SearchWordWithDescription&lt;/a&gt;&lt;/span&gt; - Search tag in pkg1.RegClass.CONSTANT_FIELD_1&lt;/dt&gt;&quot;,
436                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestAnnotationType.html#searchphrasewithdescdeprecated\&quot;&gt;&quot;
<span class="line-modified">437                 + &quot;search phrase with desc deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestAnnotationType&lt;/dt&gt;&quot;,</span>
438                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestClass.html#SearchTagDeprecatedClass\&quot;&gt;&quot;
<span class="line-modified">439                 + &quot;SearchTagDeprecatedClass&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestClass&lt;/dt&gt;&quot;,</span>
440                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestEnum.html#searchphrasedeprecated\&quot;&gt;&quot;
441                 + &quot;search phrase deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestEnum.ONE&lt;/dt&gt;&quot;,
442                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestEnum.html#searchphrasedeprecated\&quot;&gt;&quot;
443                 + &quot;search phrase deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestEnum.ONE&lt;/dt&gt;&quot;,
444                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">445                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError&lt;/dt&gt;&quot;,</span>
446                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">447                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError&lt;/dt&gt;&quot;,</span>
448                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#SingleWord\&quot;&gt;&quot;
<span class="line-modified">449                 + &quot;SingleWord&lt;/a&gt;&lt;/span&gt; - Search tag in pkg&lt;/dt&gt;&quot;,</span>
450                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/AnotherClass.ModalExclusionType.html&quot;
451                 + &quot;#nested%7B@indexnested_tag_test%7D\&quot;&gt;nested {@index nested_tag_test}&lt;/a&gt;&lt;/span&gt; - &quot;
452                 + &quot;Search tag in pkg.AnotherClass.ModalExclusionType.NO_EXCLUDE&lt;/dt&gt;&quot;,
453                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/AnotherClass.ModalExclusionType.html&quot;
454                 + &quot;#&quot; + html_span_see_span + &quot;\&quot;&gt;html &amp;lt;span&amp;gt; see &amp;lt;/span&amp;gt;&lt;/a&gt;&lt;/span&gt; - Search &quot;
455                 + &quot;tag in pkg.AnotherClass.ModalExclusionType.APPLICATION_EXCLUDE&lt;/dt&gt;&quot;,
456                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/AnotherClass.html#quoted\&quot;&gt;quoted&lt;/a&gt;&quot;
457                 + &quot;&lt;/span&gt; - Search tag in pkg.AnotherClass.CONSTANT1&lt;/dt&gt;&quot;,
458                 &quot;&lt;dt&gt;&lt;span class=\&quot;memberNameLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestEnum.html#ONE\&quot;&gt;ONE&lt;/a&gt;&lt;/span&gt; - &quot;
459                 + &quot;pkg2.&lt;a href=\&quot;pkg2/TestEnum.html\&quot; title=\&quot;enum in pkg2\&quot;&gt;TestEnum&lt;/a&gt;&lt;/dt&gt;&quot;,
460                 &quot;&lt;dt&gt;&lt;span class=\&quot;memberNameLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestEnum.html#THREE\&quot;&gt;THREE&lt;/a&gt;&lt;/span&gt; - &quot;
461                 + &quot;pkg2.&lt;a href=\&quot;pkg2/TestEnum.html\&quot; title=\&quot;enum in pkg2\&quot;&gt;TestEnum&lt;/a&gt;&lt;/dt&gt;&quot;,
462                 &quot;&lt;dt&gt;&lt;span class=\&quot;memberNameLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestEnum.html#TWO\&quot;&gt;TWO&lt;/a&gt;&lt;/span&gt; - &quot;
463                 + &quot;pkg2.&lt;a href=\&quot;pkg2/TestEnum.html\&quot; title=\&quot;enum in pkg2\&quot;&gt;TestEnum&lt;/a&gt;&lt;/dt&gt;&quot;);
464         checkOutput(&quot;index-all.html&quot;, true,
465                 &quot;&lt;div class=\&quot;deprecationComment\&quot;&gt;class_test1 passes. Search tag&quot;
<span class="line-modified">466                 + &quot; &lt;a id=\&quot;SearchTagDeprecatedClass\&quot; class=\&quot;searchTagResult\&quot;&gt;SearchTagDeprecatedClass&lt;/a&gt;&lt;/div&gt;&quot;,</span>
467                 &quot;&lt;div class=\&quot;deprecationComment\&quot;&gt;error_test3 passes. Search tag for\n&quot;
<span class="line-modified">468                 + &quot; method &lt;a id=\&quot;SearchTagDeprecatedMethod\&quot; class=\&quot;searchTagResult\&quot;&gt;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/div&gt;&quot;);</span>
469     }
470 
471     void checkSplitIndex() {
472         // Test for search tags markup in split index file.
473         checkOutput(&quot;index-files/index-13.html&quot;, true,
474                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg1/RegClass.html#searchphrase\&quot;&gt;&quot;
<span class="line-modified">475                 + &quot;search phrase&lt;/a&gt;&lt;/span&gt; - Search tag in pkg1.RegClass&lt;/dt&gt;&quot;,</span>
476                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg1/RegClass.html#SearchWordWithDescription\&quot;&gt;&quot;
477                 + &quot;SearchWordWithDescription&lt;/a&gt;&lt;/span&gt; - Search tag in pkg1.RegClass.CONSTANT_FIELD_1&lt;/dt&gt;&quot;,
478                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestAnnotationType.html#searchphrasewithdescdeprecated\&quot;&gt;&quot;
<span class="line-modified">479                 + &quot;search phrase with desc deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestAnnotationType&lt;/dt&gt;&quot;,</span>
480                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestClass.html#SearchTagDeprecatedClass\&quot;&gt;&quot;
<span class="line-modified">481                 + &quot;SearchTagDeprecatedClass&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestClass&lt;/dt&gt;&quot;,</span>
482                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestEnum.html#searchphrasedeprecated\&quot;&gt;&quot;
483                 + &quot;search phrase deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestEnum.ONE&lt;/dt&gt;&quot;,
484                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestEnum.html#searchphrasedeprecated\&quot;&gt;&quot;
485                 + &quot;search phrase deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestEnum.ONE&lt;/dt&gt;&quot;,
486                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">487                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError&lt;/dt&gt;&quot;,</span>
488                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">489                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError&lt;/dt&gt;&quot;,</span>
490                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg/package-summary.html#SingleWord\&quot;&gt;&quot;
<span class="line-modified">491                 + &quot;SingleWord&lt;/a&gt;&lt;/span&gt; - Search tag in pkg&lt;/dt&gt;&quot;,</span>
<span class="line-modified">492                 &quot;&lt;br&gt;&lt;a href=\&quot;../allclasses-index.html\&quot;&gt;All&amp;nbsp;Classes&lt;/a&gt;&amp;nbsp;&quot;</span>

493                 + &quot;&lt;a href=\&quot;../allpackages-index.html\&quot;&gt;All&amp;nbsp;Packages&lt;/a&gt;&quot;);
494         checkOutput(&quot;index-files/index-10.html&quot;, true,
495                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg/package-summary.html#phrasewithspaces\&quot;&gt;&quot;
<span class="line-modified">496                 + &quot;phrase with spaces&lt;/a&gt;&lt;/span&gt; - Search tag in pkg&lt;/dt&gt;&quot;,</span>
497                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg/package-summary.html#pkg\&quot;&gt;&quot;
<span class="line-modified">498                 + &quot;pkg&lt;/a&gt;&lt;/span&gt; - Search tag in pkg&lt;/dt&gt;&quot;,</span>
499                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg/package-summary.html#pkg2.5\&quot;&gt;&quot;
<span class="line-modified">500                 + &quot;pkg2.5&lt;/a&gt;&lt;/span&gt; - Search tag in pkg&lt;/dt&gt;&quot;);</span>
501         checkOutput(&quot;index-files/index-12.html&quot;, true,
502                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg/package-summary.html#r\&quot;&gt;&quot;
<span class="line-modified">503                 + &quot;r&lt;/a&gt;&lt;/span&gt; - Search tag in pkg&lt;/dt&gt;&quot;);</span>
504         checkOutput(&quot;index-files/index-8.html&quot;, true,
505                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg/AnotherClass.ModalExclusionType.html&quot;
506                 + &quot;#nested%7B@indexnested_tag_test%7D\&quot;&gt;nested {@index nested_tag_test}&lt;/a&gt;&lt;/span&gt; - &quot;
507                 + &quot;Search tag in pkg.AnotherClass.ModalExclusionType.NO_EXCLUDE&lt;/dt&gt;&quot;);
508         checkOutput(&quot;index-files/index-5.html&quot;, true,
509                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg/AnotherClass.ModalExclusionType.html&quot;
510                 + &quot;#html%3Cspan%3Esee%3C/span%3E\&quot;&gt;html &amp;lt;span&amp;gt; see &amp;lt;/span&amp;gt;&lt;/a&gt;&lt;/span&gt; - Search &quot;
511                 + &quot;tag in pkg.AnotherClass.ModalExclusionType.APPLICATION_EXCLUDE&lt;/dt&gt;&quot;);
512         checkOutput(&quot;index-files/index-11.html&quot;, true,
513                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg/AnotherClass.html#quoted\&quot;&gt;quoted&lt;/a&gt;&quot;
514                 + &quot;&lt;/span&gt; - Search tag in pkg.AnotherClass.CONSTANT1&lt;/dt&gt;&quot;);
515         checkOutput(&quot;index-files/index-9.html&quot;, true,
516                 &quot;&lt;dt&gt;&lt;span class=\&quot;memberNameLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestEnum.html#ONE\&quot;&gt;ONE&lt;/a&gt;&quot;
517                 + &quot;&lt;/span&gt; - pkg2.&lt;a href=\&quot;../pkg2/TestEnum.html\&quot; title=\&quot;enum in pkg2\&quot;&gt;TestEnum&lt;/a&gt;&lt;/dt&gt;&quot;);
518         checkOutput(&quot;index-files/index-14.html&quot;, true,
519                 &quot;&lt;dt&gt;&lt;span class=\&quot;memberNameLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestEnum.html#THREE\&quot;&gt;THREE&lt;/a&gt;&lt;/span&gt; - &quot;
520                 + &quot;pkg2.&lt;a href=\&quot;../pkg2/TestEnum.html\&quot; title=\&quot;enum in pkg2\&quot;&gt;TestEnum&lt;/a&gt;&lt;/dt&gt;&quot;,
521                 &quot;&lt;dt&gt;&lt;span class=\&quot;memberNameLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestEnum.html#TWO\&quot;&gt;TWO&lt;/a&gt;&lt;/span&gt; - &quot;
522                 + &quot;pkg2.&lt;a href=\&quot;../pkg2/TestEnum.html\&quot; title=\&quot;enum in pkg2\&quot;&gt;TestEnum&lt;/a&gt;&lt;/dt&gt;&quot;);
523     }
524 
525     void checkIndexNoComment() {
526         // Test for search tags markup in index file when javadoc is executed with -nocomment.
527         checkOutput(&quot;index-all.html&quot;, false,
528                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#phrasewithspaces\&quot;&gt;&quot;
<span class="line-modified">529                 + &quot;phrase with spaces&lt;/a&gt;&lt;/span&gt; - Search tag in pkg&lt;/dt&gt;&quot;,</span>
530                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#pkg\&quot;&gt;&quot;
<span class="line-modified">531                 + &quot;pkg&lt;/a&gt;&lt;/span&gt; - Search tag in pkg&lt;/dt&gt;&quot;,</span>
532                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#pkg2.5\&quot;&gt;&quot;
<span class="line-modified">533                 + &quot;pkg2.5&lt;/a&gt;&lt;/span&gt; - Search tag in pkg&lt;/dt&gt;&quot;,</span>
534                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#r\&quot;&gt;&quot;
<span class="line-modified">535                 + &quot;r&lt;/a&gt;&lt;/span&gt; - Search tag in pkg&lt;/dt&gt;&quot;,</span>
536                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg1/RegClass.html#searchphrase\&quot;&gt;&quot;
<span class="line-modified">537                 + &quot;search phrase&lt;/a&gt;&lt;/span&gt; - Search tag in pkg1.RegClass&lt;/dt&gt;&quot;,</span>
538                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg1/RegClass.html#SearchWordWithDescription\&quot;&gt;&quot;
539                 + &quot;SearchWordWithDescription&lt;/a&gt;&lt;/span&gt; - Search tag in pkg1.RegClass.CONSTANT_FIELD_1&lt;/dt&gt;&quot;,
540                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestAnnotationType.html#searchphrasewithdescdeprecated\&quot;&gt;&quot;
<span class="line-modified">541                 + &quot;search phrase with desc deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestAnnotationType&lt;/dt&gt;&quot;,</span>
542                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestClass.html#SearchTagDeprecatedClass\&quot;&gt;&quot;
<span class="line-modified">543                 + &quot;SearchTagDeprecatedClass&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestClass&lt;/dt&gt;&quot;,</span>
544                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#SingleWord\&quot;&gt;&quot;
<span class="line-modified">545                 + &quot;SingleWord&lt;/a&gt;&lt;/span&gt; - Search tag in pkg&lt;/dt&gt;&quot;,</span>
546                 &quot;&lt;div class=\&quot;deprecationComment\&quot;&gt;class_test1 passes. Search tag&quot;
<span class="line-modified">547                 + &quot; &lt;a id=\&quot;SearchTagDeprecatedClass\&quot;&gt;SearchTagDeprecatedClass&lt;/a&gt;&lt;/div&gt;&quot;,</span>
548                 &quot;&lt;div class=\&quot;deprecationComment\&quot;&gt;error_test3 passes. Search tag for\n&quot;
<span class="line-modified">549                 + &quot; method &lt;a id=\&quot;SearchTagDeprecatedMethod\&quot;&gt;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/div&gt;&quot;);</span>
550         checkOutput(&quot;index-all.html&quot;, true,
551                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestEnum.html#searchphrasedeprecated\&quot;&gt;&quot;
552                 + &quot;search phrase deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestEnum.ONE&lt;/dt&gt;&quot;,
553                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">554                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError&lt;/dt&gt;&quot;);</span>
555     }
556 
557     void checkIndexNoDeprecated() {
558         // Test for search tags markup in index file when javadoc is executed using -nodeprecated.
559         checkOutput(&quot;index-all.html&quot;, true,
560                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#phrasewithspaces\&quot;&gt;&quot;
<span class="line-modified">561                 + &quot;phrase with spaces&lt;/a&gt;&lt;/span&gt; - Search tag in pkg&lt;/dt&gt;&quot;,</span>
562                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg1/RegClass.html#searchphrase\&quot;&gt;&quot;
<span class="line-modified">563                 + &quot;search phrase&lt;/a&gt;&lt;/span&gt; - Search tag in pkg1.RegClass&lt;/dt&gt;&quot;,</span>
564                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg1/RegClass.html#SearchWordWithDescription\&quot;&gt;&quot;
565                 + &quot;SearchWordWithDescription&lt;/a&gt;&lt;/span&gt; - Search tag in pkg1.RegClass.CONSTANT_FIELD_1&lt;/dt&gt;&quot;,
566                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#SingleWord\&quot;&gt;&quot;
<span class="line-modified">567                 + &quot;SingleWord&lt;/a&gt;&lt;/span&gt; - Search tag in pkg&lt;/dt&gt;&quot;);</span>
568         checkOutput(&quot;index-all.html&quot;, false,
569                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestAnnotationType.html#searchphrasewithdescdeprecated\&quot;&gt;&quot;
<span class="line-modified">570                 + &quot;search phrase with desc deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestAnnotationType&lt;/dt&gt;&quot;,</span>
571                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestClass.html#SearchTagDeprecatedClass\&quot;&gt;&quot;
<span class="line-modified">572                 + &quot;SearchTagDeprecatedClass&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestClass&lt;/dt&gt;&quot;,</span>
573                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestEnum.html#searchphrasedeprecated\&quot;&gt;&quot;
574                 + &quot;search phrase deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestEnum.ONE&lt;/dt&gt;&quot;,
575                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">576                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError&lt;/dt&gt;&quot;,</span>
577                 &quot;&lt;div class=\&quot;deprecationComment\&quot;&gt;class_test1 passes. Search tag&quot;
<span class="line-modified">578                 + &quot; &lt;a id=\&quot;SearchTagDeprecatedClass\&quot;&gt;SearchTagDeprecatedClass&lt;/a&gt;&lt;/div&gt;&quot;,</span>
579                 &quot;&lt;div class=\&quot;deprecationComment\&quot;&gt;error_test3 passes. Search tag for\n&quot;
<span class="line-modified">580                 + &quot; method &lt;a id=\&quot;SearchTagDeprecatedMethod\&quot;&gt;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/div&gt;&quot;);</span>
581     }
582 
583     void checkJavaFXOutput() {
584         checkOutput(&quot;index-all.html&quot;, false, &quot;test treat as private&quot;);
585     }
586 
587     void checkInvalidUsageIndexTag() {
588         checkOutput(Output.OUT, true,
589                 &quot;AnotherClass.java:29: warning - invalid usage of tag {@index&quot;,
<span class="line-modified">590                 &quot;AnotherClass.java:41: warning - invalid usage of tag {@index&quot;,</span>
<span class="line-modified">591                 &quot;AnotherClass.java:36: warning - invalid usage of tag {@index&quot;,</span>
<span class="line-modified">592                 &quot;AnotherClass.java:70: warning - invalid usage of tag {@index&quot;);</span>
593     }
594 
595     void checkJqueryAndImageFiles(boolean expectedOutput) {
596         checkFiles(expectedOutput,
597                 &quot;search.js&quot;,
<span class="line-modified">598                 &quot;jquery/jquery-3.3.1.js&quot;,</span>
<span class="line-modified">599                 &quot;jquery/jquery-migrate-3.0.1.js&quot;,</span>
<span class="line-modified">600                 &quot;jquery/jquery-ui.js&quot;,</span>
<span class="line-modified">601                 &quot;jquery/jquery-ui.css&quot;,</span>
<span class="line-modified">602                 &quot;jquery/jquery-ui.min.js&quot;,</span>
<span class="line-modified">603                 &quot;jquery/jquery-ui.min.css&quot;,</span>
<span class="line-modified">604                 &quot;jquery/jquery-ui.structure.min.css&quot;,</span>
<span class="line-modified">605                 &quot;jquery/jquery-ui.structure.css&quot;,</span>
<span class="line-modified">606                 &quot;jquery/external/jquery/jquery.js&quot;,</span>
<span class="line-modified">607                 &quot;jquery/jszip/dist/jszip.js&quot;,</span>
<span class="line-modified">608                 &quot;jquery/jszip/dist/jszip.min.js&quot;,</span>
<span class="line-modified">609                 &quot;jquery/jszip-utils/dist/jszip-utils.js&quot;,</span>
<span class="line-modified">610                 &quot;jquery/jszip-utils/dist/jszip-utils.min.js&quot;,</span>
<span class="line-modified">611                 &quot;jquery/jszip-utils/dist/jszip-utils-ie.js&quot;,</span>
<span class="line-modified">612                 &quot;jquery/jszip-utils/dist/jszip-utils-ie.min.js&quot;,</span>
<span class="line-modified">613                 &quot;jquery/images/ui-bg_glass_65_dadada_1x400.png&quot;,</span>
<span class="line-modified">614                 &quot;jquery/images/ui-icons_454545_256x240.png&quot;,</span>
<span class="line-modified">615                 &quot;jquery/images/ui-bg_glass_95_fef1ec_1x400.png&quot;,</span>
<span class="line-removed">616                 &quot;jquery/images/ui-bg_glass_75_dadada_1x400.png&quot;,</span>
<span class="line-removed">617                 &quot;jquery/images/ui-bg_highlight-soft_75_cccccc_1x100.png&quot;,</span>
<span class="line-removed">618                 &quot;jquery/images/ui-icons_888888_256x240.png&quot;,</span>
<span class="line-removed">619                 &quot;jquery/images/ui-icons_2e83ff_256x240.png&quot;,</span>
<span class="line-removed">620                 &quot;jquery/images/ui-icons_cd0a0a_256x240.png&quot;,</span>
<span class="line-removed">621                 &quot;jquery/images/ui-bg_glass_55_fbf9ee_1x400.png&quot;,</span>
<span class="line-removed">622                 &quot;jquery/images/ui-icons_222222_256x240.png&quot;,</span>
<span class="line-removed">623                 &quot;jquery/images/ui-bg_glass_75_e6e6e6_1x400.png&quot;,</span>
624                 &quot;resources/x.png&quot;,
625                 &quot;resources/glass.png&quot;);
626     }
627 
628     void checkSearchJS() {
629         checkOutput(&quot;search.js&quot;, true,
<span class="line-removed">630                 &quot;camelCaseRegexp = ($.ui.autocomplete.escapeRegex(request.term)).split(/(?=[A-Z])/).join(\&quot;([a-z0-9_$]*?)\&quot;);&quot;,</span>
<span class="line-removed">631                 &quot;var camelCaseMatcher = new RegExp(\&quot;^\&quot; + camelCaseRegexp);&quot;,</span>
<span class="line-removed">632                 &quot;camelCaseMatcher.test(item.l)&quot;,</span>
<span class="line-removed">633                 &quot;var secondaryresult = new Array();&quot;,</span>
<span class="line-removed">634                 &quot;function nestedName(e) {&quot;,</span>
635                 &quot;function concatResults(a1, a2) {&quot;,
<span class="line-modified">636                 &quot;if (exactMatcher.test(item.l)) {\n&quot;</span>
<span class="line-removed">637                 + &quot;                        presult.push(item);&quot;,</span>
<span class="line-removed">638                 &quot;$(\&quot;#search\&quot;).on(&#39;click keydown&#39;, function() {\n&quot;</span>
639                 + &quot;        if ($(this).val() == watermark) {\n&quot;
640                 + &quot;            $(this).val(&#39;&#39;).removeClass(&#39;watermark&#39;);\n&quot;
641                 + &quot;        }\n&quot;
642                 + &quot;    });&quot;,
643                 &quot;function getURLPrefix(ui) {\n&quot;
644                 + &quot;    var urlPrefix=\&quot;\&quot;;\n&quot;
<span class="line-modified">645                 + &quot;    if (useModuleDirectories) {\n&quot;</span>
<span class="line-modified">646                 + &quot;        var slash = \&quot;/\&quot;;\n&quot;</span>
<span class="line-modified">647                 + &quot;        if (ui.item.category === catModules) {\n&quot;</span>
<span class="line-modified">648                 + &quot;            return ui.item.l + slash;\n&quot;</span>
<span class="line-modified">649                 + &quot;        } else if (ui.item.category === catPackages &amp;&amp; ui.item.m) {\n&quot;</span>
<span class="line-modified">650                 + &quot;            return ui.item.m + slash;\n&quot;</span>
<span class="line-modified">651                 + &quot;        } else if ((ui.item.category === catTypes &amp;&amp; ui.item.p) || ui.item.category === catMembers) {\n&quot;</span>
<span class="line-modified">652                 + &quot;            $.each(packageSearchIndex, function(index, item) {\n&quot;</span>
<span class="line-modified">653                 + &quot;                if (item.m &amp;&amp; ui.item.p == item.l) {\n&quot;</span>
<span class="line-modified">654                 + &quot;                    urlPrefix = item.m + slash;\n&quot;</span>
<span class="line-modified">655                 + &quot;                }\n&quot;</span>
<span class="line-modified">656                 + &quot;            });\n&quot;</span>
<span class="line-modified">657                 + &quot;            return urlPrefix;\n&quot;</span>
<span class="line-modified">658                 + &quot;        } else {\n&quot;</span>
<span class="line-removed">659                 + &quot;            return urlPrefix;\n&quot;</span>
<span class="line-removed">660                 + &quot;        }\n&quot;</span>
661                 + &quot;    }\n&quot;
662                 + &quot;    return urlPrefix;\n&quot;
663                 + &quot;}&quot;,
664                 &quot;url += ui.item.l;&quot;);
665     }
666 
667     void checkSingleIndexSearchTagDuplication() {
668         // Test for search tags duplication in index file.
669         checkOutput(&quot;index-all.html&quot;, true,
670                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">671                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError&lt;/dt&gt;\n&quot;</span>
672                 + &quot;&lt;dd&gt;with description&lt;/dd&gt;&quot;);
673         checkOutput(&quot;index-all.html&quot;, false,
674                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">675                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError&lt;/dt&gt;\n&quot;</span>
676                 + &quot;&lt;dd&gt;with description&lt;/dd&gt;\n&quot;
677                 + &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">678                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError&lt;/dt&gt;\n&quot;</span>
679                 + &quot;&lt;dd&gt;with description&lt;/dd&gt;&quot;);
680     }
681 
682     void checkSplitIndexSearchTagDuplication() {
683         // Test for search tags duplication in index file.
684         checkOutput(&quot;index-files/index-13.html&quot;, true,
685                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">686                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError&lt;/dt&gt;\n&quot;</span>
687                 + &quot;&lt;dd&gt;with description&lt;/dd&gt;&quot;);
688         checkOutput(&quot;index-files/index-13.html&quot;, false,
689                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">690                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError&lt;/dt&gt;\n&quot;</span>
691                 + &quot;&lt;dd&gt;with description&lt;/dd&gt;\n&quot;
692                 + &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">693                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError&lt;/dt&gt;\n&quot;</span>
694                 + &quot;&lt;dd&gt;with description&lt;/dd&gt;&quot;);
695     }
696 
697     void checkAllPkgsAllClasses() {
698         checkOutput(&quot;allclasses-index.html&quot;, true,
699                 &quot;&lt;div class=\&quot;typeSummary\&quot;&gt;\n&quot;
700                 + &quot;&lt;div role=\&quot;tablist\&quot; aria-orientation=\&quot;horizontal\&quot;&gt;&lt;button role=\&quot;tab\&quot;&quot;
701                 + &quot; aria-selected=\&quot;true\&quot; aria-controls=\&quot;typeSummary_tabpanel\&quot; tabindex=\&quot;0\&quot;&quot;
702                 + &quot; onkeydown=\&quot;switchTab(event)\&quot; id=\&quot;t0\&quot; class=\&quot;activeTableTab\&quot;&gt;All Classes&lt;/button&gt;&quot;
703                 + &quot;&lt;button role=\&quot;tab\&quot; aria-selected=\&quot;false\&quot; aria-controls=\&quot;typeSummary_tabpanel\&quot;&quot;
704                 + &quot; tabindex=\&quot;-1\&quot; onkeydown=\&quot;switchTab(event)\&quot; id=\&quot;t1\&quot; class=\&quot;tableTab\&quot;&quot;
705                 + &quot; onclick=\&quot;show(1);\&quot;&gt;Interface Summary&lt;/button&gt;&lt;button role=\&quot;tab\&quot; aria-selected=\&quot;false\&quot;&quot;
706                 + &quot; aria-controls=\&quot;typeSummary_tabpanel\&quot; tabindex=\&quot;-1\&quot; onkeydown=\&quot;switchTab(event)\&quot;&quot;
707                 + &quot; id=\&quot;t2\&quot; class=\&quot;tableTab\&quot; onclick=\&quot;show(2);\&quot;&gt;Class Summary&lt;/button&gt;&lt;button role=\&quot;tab\&quot;&quot;
708                 + &quot; aria-selected=\&quot;false\&quot; aria-controls=\&quot;typeSummary_tabpanel\&quot; tabindex=\&quot;-1\&quot;&quot;
709                 + &quot; onkeydown=\&quot;switchTab(event)\&quot; id=\&quot;t3\&quot; class=\&quot;tableTab\&quot; onclick=\&quot;show(4);\&quot;&gt;&quot;
710                 + &quot;Enum Summary&lt;/button&gt;&lt;button role=\&quot;tab\&quot; aria-selected=\&quot;false\&quot;&quot;
711                 + &quot; aria-controls=\&quot;typeSummary_tabpanel\&quot; tabindex=\&quot;-1\&quot; onkeydown=\&quot;switchTab(event)\&quot;&quot;
712                 + &quot; id=\&quot;t4\&quot; class=\&quot;tableTab\&quot; onclick=\&quot;show(8);\&quot;&gt;Exception Summary&lt;/button&gt;&lt;button role=\&quot;tab\&quot;&quot;
713                 + &quot; aria-selected=\&quot;false\&quot; aria-controls=\&quot;typeSummary_tabpanel\&quot; tabindex=\&quot;-1\&quot;&quot;
714                 + &quot; onkeydown=\&quot;switchTab(event)\&quot; id=\&quot;t5\&quot; class=\&quot;tableTab\&quot; onclick=\&quot;show(16);\&quot;&gt;&quot;
715                 + &quot;Error Summary&lt;/button&gt;&lt;button role=\&quot;tab\&quot; aria-selected=\&quot;false\&quot;&quot;
716                 + &quot; aria-controls=\&quot;typeSummary_tabpanel\&quot; tabindex=\&quot;-1\&quot; onkeydown=\&quot;switchTab(event)\&quot;&quot;
717                 + &quot; id=\&quot;t6\&quot; class=\&quot;tableTab\&quot; onclick=\&quot;show(32);\&quot;&gt;Annotation Types Summary&lt;/button&gt;&lt;/div&gt;\n&quot;
718                 + &quot;&lt;div id=\&quot;typeSummary_tabpanel\&quot; role=\&quot;tabpanel\&quot;&gt;\n&quot;
719                 + &quot;&lt;table aria-labelledby=\&quot;t0\&quot;&gt;\n&quot;

720                 + &quot;&lt;tr&gt;\n&quot;
721                 + &quot;&lt;th class=\&quot;colFirst\&quot; scope=\&quot;col\&quot;&gt;Class&lt;/th&gt;\n&quot;
722                 + &quot;&lt;th class=\&quot;colLast\&quot; scope=\&quot;col\&quot;&gt;Description&lt;/th&gt;\n&quot;
723                 + &quot;&lt;/tr&gt;&quot;,
724                 &quot;var data = {\&quot;i0\&quot;:32,\&quot;i1\&quot;:2,\&quot;i2\&quot;:4,\&quot;i3\&quot;:2,\&quot;i4\&quot;:2,\&quot;i5\&quot;:1,\&quot;i6\&quot;:2,\&quot;i7\&quot;:32,&quot;
725                 + &quot;\&quot;i8\&quot;:2,\&quot;i9\&quot;:4,\&quot;i10\&quot;:16,\&quot;i11\&quot;:16,\&quot;i12\&quot;:8,\&quot;i13\&quot;:8,\&quot;i14\&quot;:1,\&quot;i15\&quot;:2};&quot;);
726         checkOutput(&quot;allpackages-index.html&quot;, true,
727                 &quot;&lt;div class=\&quot;packagesSummary\&quot;&gt;\n&lt;table&gt;\n&quot;
728                 + &quot;&lt;caption&gt;&lt;span&gt;Package Summary&lt;/span&gt;&lt;span class=\&quot;tabEnd\&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/caption&gt;\n&quot;

729                 + &quot;&lt;tr&gt;\n&quot;
730                 + &quot;&lt;th class=\&quot;colFirst\&quot; scope=\&quot;col\&quot;&gt;Package&lt;/th&gt;\n&quot;
731                 + &quot;&lt;th class=\&quot;colLast\&quot; scope=\&quot;col\&quot;&gt;Description&lt;/th&gt;\n&quot;
732                 + &quot;&lt;/tr&gt;\n&quot;);
733         checkOutput(&quot;type-search-index.js&quot;, true,
<span class="line-modified">734                 &quot;{\&quot;l\&quot;:\&quot;All Classes\&quot;,\&quot;url\&quot;:\&quot;allclasses-index.html\&quot;}&quot;);</span>
735         checkOutput(&quot;package-search-index.js&quot;, true,
<span class="line-modified">736                 &quot;{\&quot;l\&quot;:\&quot;All Packages\&quot;,\&quot;url\&quot;:\&quot;allpackages-index.html\&quot;}&quot;);</span>
737         checkOutput(&quot;index-all.html&quot;, true,
<span class="line-modified">738                 &quot;&lt;br&gt;&lt;a href=\&quot;allclasses-index.html\&quot;&gt;All&amp;nbsp;Classes&lt;/a&gt;&amp;nbsp;&quot;</span>
<span class="line-modified">739                 + &quot;&lt;a href=\&quot;allpackages-index.html\&quot;&gt;All&amp;nbsp;Packages&lt;/a&gt;&quot;);</span>
<span class="line-modified">740 }</span>

741 }
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2015, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
 23 
 24 /*
 25  * @test
 26  * @bug 8141492 8071982 8141636 8147890 8166175 8168965 8176794 8175218 8147881
 27  *      8181622 8182263 8074407 8187521 8198522 8182765 8199278 8196201 8196202
<span class="line-modified"> 28  *      8184205 8214468 8222548 8223378 8234746</span>
 29  * @summary Test the search feature of javadoc.

 30  * @library ../../lib
 31  * @modules jdk.javadoc/jdk.javadoc.internal.tool
 32  * @build javadoc.tester.*
 33  * @run main TestSearch
 34  */
<span class="line-added"> 35 </span>
<span class="line-added"> 36 import java.util.Locale;</span>
<span class="line-added"> 37 </span>
 38 import javadoc.tester.JavadocTester;
 39 
 40 public class TestSearch extends JavadocTester {
 41 
 42     public static void main(String... args) throws Exception {
 43         TestSearch tester = new TestSearch();
 44         tester.runTests();
 45     }
 46 
 47     @Test
 48     public void test1() {
 49         javadoc(&quot;-d&quot;, &quot;out-1&quot;,
 50                 &quot;-sourcepath&quot;,
 51                 &quot;-use&quot;,
 52                 testSrc(&quot;UnnamedPkgClass.java&quot;));
 53         checkExit(Exit.OK);
 54         checkSearchOutput(&quot;UnnamedPkgClass.html&quot;, true, true);
 55         checkJqueryAndImageFiles(true);
 56         checkSearchJS();
 57         checkFiles(false,

 58                 &quot;tag-search-index.js&quot;);
 59         checkFiles(true,



 60                 &quot;package-search-index.js&quot;,
 61                 &quot;member-search-index.js&quot;,
 62                 &quot;type-search-index.js&quot;);
 63     }
 64 
 65     @Test
 66     public void test2() {
 67         javadoc(&quot;-d&quot;, &quot;out-2&quot;,
 68                 &quot;-Xdoclint:none&quot;,
 69                 &quot;-sourcepath&quot;, testSrc,
 70                 &quot;-use&quot;,

 71                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
 72         checkExit(Exit.OK);
 73         checkInvalidUsageIndexTag();
 74         checkSearchOutput(true);
 75         checkSingleIndex(true, true);
 76         checkSingleIndexSearchTagDuplication();
 77         checkJqueryAndImageFiles(true);
 78         checkSearchJS();
 79         checkAllPkgsAllClasses();
 80         checkFiles(true,




 81                 &quot;member-search-index.js&quot;,
 82                 &quot;package-search-index.js&quot;,
 83                 &quot;tag-search-index.js&quot;,
 84                 &quot;type-search-index.js&quot;);
 85     }
 86 
 87     @Test
 88     public void test2a() {
 89         javadoc(&quot;-d&quot;, &quot;out-2a&quot;,
 90                 &quot;-Xdoclint:all&quot;,
 91                 &quot;-sourcepath&quot;, testSrc,
 92                 &quot;-use&quot;,

 93                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
 94         checkExit(Exit.ERROR);
 95         checkDocLintErrors();
 96         checkSearchOutput(true);
 97         checkSingleIndex(true, true);
 98         checkSingleIndexSearchTagDuplication();
 99         checkJqueryAndImageFiles(true);
100         checkSearchJS();
101         checkFiles(true,




102                 &quot;member-search-index.js&quot;,
103                 &quot;package-search-index.js&quot;,
104                 &quot;tag-search-index.js&quot;,
105                 &quot;type-search-index.js&quot;);
106     }
107 
108     @Test
109     public void test3() {
110         javadoc(&quot;-d&quot;, &quot;out-3&quot;,
111                 &quot;-noindex&quot;,
112                 &quot;-Xdoclint:none&quot;,
113                 &quot;-sourcepath&quot;, testSrc,
114                 &quot;-use&quot;,

115                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
116         checkExit(Exit.OK);
117         checkSearchOutput(false);
118         checkJqueryAndImageFiles(false);
119         checkFiles(false,




120                 &quot;member-search-index.js&quot;,
121                 &quot;package-search-index.js&quot;,
122                 &quot;tag-search-index.js&quot;,
123                 &quot;type-search-index.js&quot;,
124                 &quot;index-all.html&quot;,
125                 &quot;allpackages-index.html&quot;,
126                 &quot;allclasses-index.html&quot;);
127     }
128 
129     @Test
130     public void test4() {
131         javadoc(&quot;-d&quot;, &quot;out-4&quot;,
132                 &quot;-html5&quot;,
133                 &quot;-Xdoclint:none&quot;,
134                 &quot;-sourcepath&quot;, testSrc,
135                 &quot;-use&quot;,

136                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
137         checkExit(Exit.OK);
138         checkSearchOutput(true);
139         checkSingleIndex(true, true);
140         checkSingleIndexSearchTagDuplication();
141         checkJqueryAndImageFiles(true);
142         checkSearchJS();
143         checkFiles(true,




144                 &quot;member-search-index.js&quot;,
145                 &quot;package-search-index.js&quot;,
146                 &quot;tag-search-index.js&quot;,
147                 &quot;type-search-index.js&quot;);
148     }
149 
150     @Test
151     public void test5() {
152         javadoc(&quot;-d&quot;, &quot;out-5&quot;,
153                 &quot;-html5&quot;,
154                 &quot;-noindex&quot;,
155                 &quot;-Xdoclint:none&quot;,
156                 &quot;-sourcepath&quot;, testSrc,
157                 &quot;-use&quot;,

158                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
159         checkExit(Exit.OK);
160         checkSearchOutput(false);
161         checkJqueryAndImageFiles(false);
162         checkFiles(false,




163                 &quot;member-search-index.js&quot;,
164                 &quot;package-search-index.js&quot;,
165                 &quot;tag-search-index.js&quot;,
166                 &quot;type-search-index.js&quot;,
167                 &quot;index-all.html&quot;);
168     }
169 
170     @Test
171     public void test6() {
172         javadoc(&quot;-d&quot;, &quot;out-6&quot;,
173                 &quot;-nocomment&quot;,
174                 &quot;-Xdoclint:none&quot;,
175                 &quot;-sourcepath&quot;, testSrc,
176                 &quot;-use&quot;,

177                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
178         checkExit(Exit.OK);
179         checkSearchOutput(true);
180         checkIndexNoComment();
181         checkJqueryAndImageFiles(true);
182         checkSearchJS();
183         checkFiles(true,




184                 &quot;member-search-index.js&quot;,
185                 &quot;package-search-index.js&quot;,
186                 &quot;tag-search-index.js&quot;,
187                 &quot;type-search-index.js&quot;);
188     }
189 
190     @Test
191     public void test7() {
192         javadoc(&quot;-d&quot;, &quot;out-7&quot;,
193                 &quot;-nodeprecated&quot;,
194                 &quot;-Xdoclint:none&quot;,
195                 &quot;-sourcepath&quot;, testSrc,
196                 &quot;-use&quot;,

197                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
198 
199         checkExit(Exit.OK);
200         checkSearchOutput(true);
201         checkIndexNoDeprecated();
202         checkJqueryAndImageFiles(true);
203         checkSearchJS();
204         checkFiles(true,




205                 &quot;member-search-index.js&quot;,
206                 &quot;package-search-index.js&quot;,
207                 &quot;tag-search-index.js&quot;,
208                 &quot;type-search-index.js&quot;);
209     }
210 
211     @Test
212     public void test8() {
213         javadoc(&quot;-d&quot;, &quot;out-8&quot;,
214                 &quot;-splitindex&quot;,
215                 &quot;-Xdoclint:none&quot;,
216                 &quot;-sourcepath&quot;, testSrc,
217                 &quot;-use&quot;,

218                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
219         checkExit(Exit.OK);
220         checkInvalidUsageIndexTag();
221         checkSearchOutput(true);
222         checkSplitIndex();
223         checkSplitIndexSearchTagDuplication();
224         checkJqueryAndImageFiles(true);
225         checkSearchJS();
226         checkFiles(true,




227                 &quot;member-search-index.js&quot;,
228                 &quot;package-search-index.js&quot;,
229                 &quot;tag-search-index.js&quot;,
230                 &quot;type-search-index.js&quot;);
231     }
232 
233     @Test
234     public void test9() {
235         javadoc(&quot;-d&quot;, &quot;out-9&quot;,
236                 &quot;-sourcepath&quot;, testSrc,
237                 &quot;-javafx&quot;,
238                 &quot;--disable-javafx-strict-checks&quot;,
239                 &quot;-package&quot;,
240                 &quot;-use&quot;,

241                 &quot;pkgfx&quot;, &quot;pkg3&quot;);
242         checkExit(Exit.OK);
243         checkSearchOutput(true);
244         checkJavaFXOutput();
245         checkJqueryAndImageFiles(true);
246         checkSearchJS();
247         checkFiles(false,

248                 &quot;tag-search-index.js&quot;);
249         checkFiles(true,



250                 &quot;member-search-index.js&quot;,
251                 &quot;package-search-index.js&quot;,
252                 &quot;type-search-index.js&quot;);
253     }
254 














255     @Test
256     public void testURLEncoding() {
257         javadoc(&quot;-d&quot;, &quot;out-encode-html5&quot;,

258                 &quot;-Xdoclint:none&quot;,
259                 &quot;-sourcepath&quot;, testSrc,
260                 &quot;-use&quot;,
261                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
262         checkExit(Exit.OK);
263         checkSearchJS();
264         checkSearchIndex(true);
265     }
266 
267     @Test
<span class="line-modified">268     public void testDefaultJapaneseLocale() {</span>
<span class="line-added">269         Locale prev = Locale.getDefault();</span>
<span class="line-added">270         Locale.setDefault(Locale.forLanguageTag(&quot;ja-JP&quot;));</span>
<span class="line-added">271         try {</span>
<span class="line-added">272             javadoc(&quot;-d&quot;, &quot;out-jp-default&quot;,</span>
<span class="line-added">273                     &quot;-Xdoclint:none&quot;,</span>
<span class="line-added">274                     &quot;-sourcepath&quot;, testSrc,</span>
<span class="line-added">275                     &quot;-use&quot;,</span>
<span class="line-added">276                     &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);</span>
<span class="line-added">277             checkExit(Exit.OK);</span>
<span class="line-added">278             checkOutput(Output.OUT, true,</span>
<span class="line-added">279                     &quot;\u30d1\u30c3\u30b1\u30fc\u30b8pkg\u306e\u30bd\u30fc\u30b9\u30fb\u30d5\u30a1&quot; +</span>
<span class="line-added">280                             &quot;\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3044\u307e\u3059...\n&quot;,</span>
<span class="line-added">281                     &quot;\u30d1\u30c3\u30b1\u30fc\u30b8pkg1\u306e\u30bd\u30fc\u30b9\u30fb\u30d5\u30a1&quot; +</span>
<span class="line-added">282                             &quot;\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3044\u307e\u3059...\n&quot;);</span>
<span class="line-added">283             checkSearchJS();</span>
<span class="line-added">284             checkSearchIndex(true);</span>
<span class="line-added">285         } finally {</span>
<span class="line-added">286             Locale.setDefault(prev);</span>
<span class="line-added">287         }</span>
<span class="line-added">288     }</span>
<span class="line-added">289 </span>
<span class="line-added">290     @Test</span>
<span class="line-added">291     public void testJapaneseLocaleOption() {</span>
292         javadoc(&quot;-locale&quot;, &quot;ja_JP&quot;,
<span class="line-modified">293                 &quot;-d&quot;, &quot;out-jp-option&quot;,</span>

294                 &quot;-Xdoclint:none&quot;,
295                 &quot;-sourcepath&quot;, testSrc,
296                 &quot;-use&quot;,
297                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
298         checkExit(Exit.OK);
299         checkOutput(Output.OUT, true,
<span class="line-modified">300                 &quot;Loading source files for package pkg...\n&quot;,</span>
<span class="line-modified">301                 &quot;Loading source files for package pkg1...\n&quot;);</span>
<span class="line-modified">302         checkOutput(&quot;index.html&quot;, true,</span>
<span class="line-modified">303                 &quot;&lt;span&gt;\u30d1\u30c3\u30b1\u30fc\u30b8&lt;/span&gt;&quot;);</span>
304         checkSearchJS();
305         checkSearchIndex(true);
306     }
307 
308     @Test
<span class="line-modified">309     public void testDefaultChineseLocale() {</span>
<span class="line-added">310         Locale prev = Locale.getDefault();</span>
<span class="line-added">311         Locale.setDefault(Locale.forLanguageTag(&quot;zh-CN&quot;));</span>
<span class="line-added">312         try {</span>
<span class="line-added">313             javadoc(&quot;-d&quot;, &quot;out-cn-default&quot;,</span>
<span class="line-added">314                     &quot;-Xdoclint:none&quot;,</span>
<span class="line-added">315                     &quot;-sourcepath&quot;, testSrc,</span>
<span class="line-added">316                     &quot;-use&quot;,</span>
<span class="line-added">317                     &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);</span>
<span class="line-added">318             checkExit(Exit.OK);</span>
<span class="line-added">319             checkOutput(Output.OUT, true,</span>
<span class="line-added">320                     &quot;\u6b63\u5728\u52a0\u8f7d\u7a0b\u5e8f\u5305pkg\u7684\u6e90\u6587\u4ef6...\n&quot;,</span>
<span class="line-added">321                     &quot;\u6b63\u5728\u52a0\u8f7d\u7a0b\u5e8f\u5305pkg1\u7684\u6e90\u6587\u4ef6...\n&quot;,</span>
<span class="line-added">322                     &quot;\u6b63\u5728\u52a0\u8f7d\u7a0b\u5e8f\u5305pkg2\u7684\u6e90\u6587\u4ef6...\n&quot;,</span>
<span class="line-added">323                     &quot;\u6b63\u5728\u52a0\u8f7d\u7a0b\u5e8f\u5305pkg3\u7684\u6e90\u6587\u4ef6...\n&quot;);</span>
<span class="line-added">324             checkSearchJS();</span>
<span class="line-added">325             checkSearchIndex(true);</span>
<span class="line-added">326         } finally {</span>
<span class="line-added">327             Locale.setDefault(prev);</span>
<span class="line-added">328         }</span>
<span class="line-added">329     }</span>
<span class="line-added">330 </span>
<span class="line-added">331     @Test</span>
<span class="line-added">332     public void testChineseLocaleOption() {</span>
333         javadoc(&quot;-locale&quot;, &quot;zh_CN&quot;,
<span class="line-modified">334                 &quot;-d&quot;, &quot;out-cn-option&quot;,</span>

335                 &quot;-Xdoclint:none&quot;,
336                 &quot;-sourcepath&quot;, testSrc,
337                 &quot;-use&quot;,
338                 &quot;pkg&quot;, &quot;pkg1&quot;, &quot;pkg2&quot;, &quot;pkg3&quot;);
339         checkExit(Exit.OK);
340         checkOutput(Output.OUT, true,
<span class="line-modified">341                 &quot;Loading source files for package pkg...\n&quot;,</span>
<span class="line-modified">342                 &quot;Loading source files for package pkg1...\n&quot;,</span>
<span class="line-modified">343                 &quot;Loading source files for package pkg2...\n&quot;,</span>
<span class="line-modified">344                 &quot;Loading source files for package pkg3...\n&quot;);</span>
<span class="line-added">345         checkOutput(&quot;index.html&quot;, true,</span>
<span class="line-added">346                 &quot;&lt;span&gt;\u7a0b\u5e8f\u5305&lt;/span&gt;&quot;);</span>
347         checkSearchJS();
348         checkSearchIndex(true);
349     }
350 
351     void checkDocLintErrors() {
352         checkOutput(Output.OUT, true,
353                 &quot;A sample method. Testing search tag for {@index \&quot;unclosed quote}.&quot;,
354                 &quot;Another test class. Testing empty {@index }.&quot;,
355                 &quot;Constant field. Testing no text in index tag {@index}.&quot;,
356                 &quot;A test field. Testing only white-spaces in index tag text {@index       }.&quot;);
357     }
358 
359     void checkSearchOutput(boolean expectedOutput) {
<span class="line-modified">360         checkSearchOutput(&quot;index.html&quot;, expectedOutput, true);</span>
361     }
362 
363     void checkSearchIndex(boolean expectedOutput) {
364         checkOutput(&quot;member-search-index.js&quot;, expectedOutput,
<span class="line-modified">365                 &quot;{\&quot;p\&quot;:\&quot;pkg\&quot;,\&quot;c\&quot;:\&quot;AnotherClass\&quot;,\&quot;l\&quot;:\&quot;AnotherClass()\&quot;,\&quot;u\&quot;:\&quot;%3Cinit%3E()\&quot;}&quot;,</span>
<span class="line-modified">366                 &quot;{\&quot;p\&quot;:\&quot;pkg1\&quot;,\&quot;c\&quot;:\&quot;RegClass\&quot;,\&quot;l\&quot;:\&quot;RegClass()\&quot;,\&quot;u\&quot;:\&quot;%3Cinit%3E()\&quot;}&quot;,</span>
<span class="line-modified">367                 &quot;{\&quot;p\&quot;:\&quot;pkg2\&quot;,\&quot;c\&quot;:\&quot;TestError\&quot;,\&quot;l\&quot;:\&quot;TestError()\&quot;,\&quot;u\&quot;:\&quot;%3Cinit%3E()\&quot;}&quot;,</span>
<span class="line-modified">368                 &quot;{\&quot;p\&quot;:\&quot;pkg\&quot;,\&quot;c\&quot;:\&quot;AnotherClass\&quot;,\&quot;l\&quot;:\&quot;method(byte[], int, String)\&quot;,\&quot;u\&quot;:\&quot;method(byte[],int,java.lang.String)\&quot;}&quot;);</span>
369         checkOutput(&quot;member-search-index.js&quot;, !expectedOutput,
<span class="line-modified">370                 &quot;{\&quot;p\&quot;:\&quot;pkg\&quot;,\&quot;c\&quot;:\&quot;AnotherClass\&quot;,\&quot;l\&quot;:\&quot;method(RegClass)\&quot;,\&quot;u\&quot;:\&quot;method-pkg1.RegClass-\&quot;}&quot;,</span>
<span class="line-modified">371                 &quot;{\&quot;p\&quot;:\&quot;pkg2\&quot;,\&quot;c\&quot;:\&quot;TestClass\&quot;,\&quot;l\&quot;:\&quot;TestClass()\&quot;,\&quot;u\&quot;:\&quot;TestClass--\&quot;}&quot;,</span>
<span class="line-modified">372                 &quot;{\&quot;p\&quot;:\&quot;pkg\&quot;,\&quot;c\&quot;:\&quot;TestError\&quot;,\&quot;l\&quot;:\&quot;TestError()\&quot;,\&quot;u\&quot;:\&quot;TestError--\&quot;}&quot;,</span>
<span class="line-modified">373                 &quot;{\&quot;p\&quot;:\&quot;pkg\&quot;,\&quot;c\&quot;:\&quot;AnotherClass\&quot;,\&quot;l\&quot;:\&quot;method(byte[], int, String)\&quot;,\&quot;u\&quot;:\&quot;method-byte:A-int-java.lang.String-\&quot;}&quot;);</span>
374     }
375 
376     void checkSearchOutput(boolean expectedOutput, boolean moduleDirectoriesVar) {
<span class="line-modified">377         checkSearchOutput(&quot;index.html&quot;, expectedOutput, moduleDirectoriesVar);</span>
378     }
379 
380     void checkSearchOutput(String fileName, boolean expectedOutput, boolean moduleDirectoriesVar) {
381         // Test for search related markup
382         checkOutput(fileName, expectedOutput,
<span class="line-modified">383                 &quot;&lt;link rel=\&quot;stylesheet\&quot; type=\&quot;text/css\&quot; href=\&quot;script-dir/jquery-ui.css\&quot; title=\&quot;Style\&quot;&gt;\n&quot;,</span>
<span class="line-modified">384                 &quot;&lt;script type=\&quot;text/javascript\&quot; src=\&quot;script-dir/jquery-3.4.1.js\&quot;&gt;&lt;/script&gt;\n&quot;,</span>
<span class="line-modified">385                 &quot;&lt;script type=\&quot;text/javascript\&quot; src=\&quot;script-dir/jquery-ui.js\&quot;&gt;&lt;/script&gt;&quot;,</span>






386                 &quot;var pathtoroot = \&quot;./\&quot;;\n&quot;

387                 + &quot;loadScripts(document, &#39;script&#39;);&quot;,
<span class="line-modified">388                 &quot;&lt;div class=\&quot;navListSearch\&quot;&gt;&quot;,</span>
<span class="line-modified">389                 &quot;&lt;label for=\&quot;search\&quot;&gt;SEARCH:&lt;/label&gt;\n&quot;</span>
390                 + &quot;&lt;input type=\&quot;text\&quot; id=\&quot;search\&quot; value=\&quot;search\&quot; disabled=\&quot;disabled\&quot;&gt;\n&quot;
391                 + &quot;&lt;input type=\&quot;reset\&quot; id=\&quot;reset\&quot; value=\&quot;reset\&quot; disabled=\&quot;disabled\&quot;&gt;\n&quot;);
392         checkOutput(fileName, true,
<span class="line-modified">393                 &quot;&lt;div class=\&quot;flexBox\&quot;&gt;&quot;);</span>
394     }
395 
396     void checkSingleIndex(boolean expectedOutput, boolean html5) {
397         String html_span_see_span = html5 ? &quot;html%3Cspan%3Esee%3C/span%3E&quot; : &quot;html-span-see-/span-&quot;;
398 
399         // Test for search tags markup in index file.
400         checkOutput(&quot;index-all.html&quot;, expectedOutput,
401                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#phrasewithspaces\&quot;&gt;&quot;
<span class="line-modified">402                 + &quot;phrase with spaces&lt;/a&gt;&lt;/span&gt; - Search tag in package pkg&lt;/dt&gt;&quot;,</span>
403                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#pkg\&quot;&gt;&quot;
<span class="line-modified">404                 + &quot;pkg&lt;/a&gt;&lt;/span&gt; - Search tag in package pkg&lt;/dt&gt;&quot;,</span>
405                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#pkg2.5\&quot;&gt;&quot;
<span class="line-modified">406                 + &quot;pkg2.5&lt;/a&gt;&lt;/span&gt; - Search tag in package pkg&lt;/dt&gt;&quot;,</span>
407                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#r\&quot;&gt;&quot;
<span class="line-modified">408                 + &quot;r&lt;/a&gt;&lt;/span&gt; - Search tag in package pkg&lt;/dt&gt;&quot;,</span>
409                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg1/RegClass.html#searchphrase\&quot;&gt;&quot;
<span class="line-modified">410                 + &quot;search phrase&lt;/a&gt;&lt;/span&gt; - Search tag in class pkg1.RegClass&lt;/dt&gt;&quot;,</span>
411                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg1/RegClass.html#SearchWordWithDescription\&quot;&gt;&quot;
412                 + &quot;SearchWordWithDescription&lt;/a&gt;&lt;/span&gt; - Search tag in pkg1.RegClass.CONSTANT_FIELD_1&lt;/dt&gt;&quot;,
413                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestAnnotationType.html#searchphrasewithdescdeprecated\&quot;&gt;&quot;
<span class="line-modified">414                 + &quot;search phrase with desc deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in annotation type pkg2.TestAnnotationType&lt;/dt&gt;&quot;,</span>
415                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestClass.html#SearchTagDeprecatedClass\&quot;&gt;&quot;
<span class="line-modified">416                 + &quot;SearchTagDeprecatedClass&lt;/a&gt;&lt;/span&gt; - Search tag in class pkg2.TestClass&lt;/dt&gt;&quot;,</span>
417                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestEnum.html#searchphrasedeprecated\&quot;&gt;&quot;
418                 + &quot;search phrase deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestEnum.ONE&lt;/dt&gt;&quot;,
419                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestEnum.html#searchphrasedeprecated\&quot;&gt;&quot;
420                 + &quot;search phrase deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestEnum.ONE&lt;/dt&gt;&quot;,
421                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">422                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError.TestError()&lt;/dt&gt;&quot;,</span>
423                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">424                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError.TestError()&lt;/dt&gt;&quot;,</span>
425                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#SingleWord\&quot;&gt;&quot;
<span class="line-modified">426                 + &quot;SingleWord&lt;/a&gt;&lt;/span&gt; - Search tag in package pkg&lt;/dt&gt;&quot;,</span>
427                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/AnotherClass.ModalExclusionType.html&quot;
428                 + &quot;#nested%7B@indexnested_tag_test%7D\&quot;&gt;nested {@index nested_tag_test}&lt;/a&gt;&lt;/span&gt; - &quot;
429                 + &quot;Search tag in pkg.AnotherClass.ModalExclusionType.NO_EXCLUDE&lt;/dt&gt;&quot;,
430                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/AnotherClass.ModalExclusionType.html&quot;
431                 + &quot;#&quot; + html_span_see_span + &quot;\&quot;&gt;html &amp;lt;span&amp;gt; see &amp;lt;/span&amp;gt;&lt;/a&gt;&lt;/span&gt; - Search &quot;
432                 + &quot;tag in pkg.AnotherClass.ModalExclusionType.APPLICATION_EXCLUDE&lt;/dt&gt;&quot;,
433                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/AnotherClass.html#quoted\&quot;&gt;quoted&lt;/a&gt;&quot;
434                 + &quot;&lt;/span&gt; - Search tag in pkg.AnotherClass.CONSTANT1&lt;/dt&gt;&quot;,
435                 &quot;&lt;dt&gt;&lt;span class=\&quot;memberNameLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestEnum.html#ONE\&quot;&gt;ONE&lt;/a&gt;&lt;/span&gt; - &quot;
436                 + &quot;pkg2.&lt;a href=\&quot;pkg2/TestEnum.html\&quot; title=\&quot;enum in pkg2\&quot;&gt;TestEnum&lt;/a&gt;&lt;/dt&gt;&quot;,
437                 &quot;&lt;dt&gt;&lt;span class=\&quot;memberNameLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestEnum.html#THREE\&quot;&gt;THREE&lt;/a&gt;&lt;/span&gt; - &quot;
438                 + &quot;pkg2.&lt;a href=\&quot;pkg2/TestEnum.html\&quot; title=\&quot;enum in pkg2\&quot;&gt;TestEnum&lt;/a&gt;&lt;/dt&gt;&quot;,
439                 &quot;&lt;dt&gt;&lt;span class=\&quot;memberNameLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestEnum.html#TWO\&quot;&gt;TWO&lt;/a&gt;&lt;/span&gt; - &quot;
440                 + &quot;pkg2.&lt;a href=\&quot;pkg2/TestEnum.html\&quot; title=\&quot;enum in pkg2\&quot;&gt;TestEnum&lt;/a&gt;&lt;/dt&gt;&quot;);
441         checkOutput(&quot;index-all.html&quot;, true,
442                 &quot;&lt;div class=\&quot;deprecationComment\&quot;&gt;class_test1 passes. Search tag&quot;
<span class="line-modified">443                 + &quot; &lt;span id=\&quot;SearchTagDeprecatedClass\&quot; class=\&quot;searchTagResult\&quot;&gt;SearchTagDeprecatedClass&lt;/span&gt;&lt;/div&gt;&quot;,</span>
444                 &quot;&lt;div class=\&quot;deprecationComment\&quot;&gt;error_test3 passes. Search tag for\n&quot;
<span class="line-modified">445                 + &quot; method &lt;span id=\&quot;SearchTagDeprecatedMethod\&quot; class=\&quot;searchTagResult\&quot;&gt;SearchTagDeprecatedMethod&lt;/span&gt;&lt;/div&gt;&quot;);</span>
446     }
447 
448     void checkSplitIndex() {
449         // Test for search tags markup in split index file.
450         checkOutput(&quot;index-files/index-13.html&quot;, true,
451                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg1/RegClass.html#searchphrase\&quot;&gt;&quot;
<span class="line-modified">452                 + &quot;search phrase&lt;/a&gt;&lt;/span&gt; - Search tag in class pkg1.RegClass&lt;/dt&gt;&quot;,</span>
453                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg1/RegClass.html#SearchWordWithDescription\&quot;&gt;&quot;
454                 + &quot;SearchWordWithDescription&lt;/a&gt;&lt;/span&gt; - Search tag in pkg1.RegClass.CONSTANT_FIELD_1&lt;/dt&gt;&quot;,
455                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestAnnotationType.html#searchphrasewithdescdeprecated\&quot;&gt;&quot;
<span class="line-modified">456                 + &quot;search phrase with desc deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in annotation type pkg2.TestAnnotationType&lt;/dt&gt;&quot;,</span>
457                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestClass.html#SearchTagDeprecatedClass\&quot;&gt;&quot;
<span class="line-modified">458                 + &quot;SearchTagDeprecatedClass&lt;/a&gt;&lt;/span&gt; - Search tag in class pkg2.TestClass&lt;/dt&gt;&quot;,</span>
459                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestEnum.html#searchphrasedeprecated\&quot;&gt;&quot;
460                 + &quot;search phrase deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestEnum.ONE&lt;/dt&gt;&quot;,
461                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestEnum.html#searchphrasedeprecated\&quot;&gt;&quot;
462                 + &quot;search phrase deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestEnum.ONE&lt;/dt&gt;&quot;,
463                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">464                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError.TestError()&lt;/dt&gt;&quot;,</span>
465                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">466                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError.TestError()&lt;/dt&gt;&quot;,</span>
467                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg/package-summary.html#SingleWord\&quot;&gt;&quot;
<span class="line-modified">468                 + &quot;SingleWord&lt;/a&gt;&lt;/span&gt; - Search tag in package pkg&lt;/dt&gt;&quot;,</span>
<span class="line-modified">469                 &quot;&lt;br&gt;&lt;a href=\&quot;../allclasses-index.html\&quot;&gt;All&amp;nbsp;Classes&lt;/a&gt;&quot;</span>
<span class="line-added">470                 + &quot;&lt;span class=\&quot;verticalSeparator\&quot;&gt;|&lt;/span&gt;&quot;</span>
471                 + &quot;&lt;a href=\&quot;../allpackages-index.html\&quot;&gt;All&amp;nbsp;Packages&lt;/a&gt;&quot;);
472         checkOutput(&quot;index-files/index-10.html&quot;, true,
473                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg/package-summary.html#phrasewithspaces\&quot;&gt;&quot;
<span class="line-modified">474                 + &quot;phrase with spaces&lt;/a&gt;&lt;/span&gt; - Search tag in package pkg&lt;/dt&gt;&quot;,</span>
475                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg/package-summary.html#pkg\&quot;&gt;&quot;
<span class="line-modified">476                 + &quot;pkg&lt;/a&gt;&lt;/span&gt; - Search tag in package pkg&lt;/dt&gt;&quot;,</span>
477                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg/package-summary.html#pkg2.5\&quot;&gt;&quot;
<span class="line-modified">478                 + &quot;pkg2.5&lt;/a&gt;&lt;/span&gt; - Search tag in package pkg&lt;/dt&gt;&quot;);</span>
479         checkOutput(&quot;index-files/index-12.html&quot;, true,
480                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg/package-summary.html#r\&quot;&gt;&quot;
<span class="line-modified">481                 + &quot;r&lt;/a&gt;&lt;/span&gt; - Search tag in package pkg&lt;/dt&gt;&quot;);</span>
482         checkOutput(&quot;index-files/index-8.html&quot;, true,
483                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg/AnotherClass.ModalExclusionType.html&quot;
484                 + &quot;#nested%7B@indexnested_tag_test%7D\&quot;&gt;nested {@index nested_tag_test}&lt;/a&gt;&lt;/span&gt; - &quot;
485                 + &quot;Search tag in pkg.AnotherClass.ModalExclusionType.NO_EXCLUDE&lt;/dt&gt;&quot;);
486         checkOutput(&quot;index-files/index-5.html&quot;, true,
487                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg/AnotherClass.ModalExclusionType.html&quot;
488                 + &quot;#html%3Cspan%3Esee%3C/span%3E\&quot;&gt;html &amp;lt;span&amp;gt; see &amp;lt;/span&amp;gt;&lt;/a&gt;&lt;/span&gt; - Search &quot;
489                 + &quot;tag in pkg.AnotherClass.ModalExclusionType.APPLICATION_EXCLUDE&lt;/dt&gt;&quot;);
490         checkOutput(&quot;index-files/index-11.html&quot;, true,
491                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg/AnotherClass.html#quoted\&quot;&gt;quoted&lt;/a&gt;&quot;
492                 + &quot;&lt;/span&gt; - Search tag in pkg.AnotherClass.CONSTANT1&lt;/dt&gt;&quot;);
493         checkOutput(&quot;index-files/index-9.html&quot;, true,
494                 &quot;&lt;dt&gt;&lt;span class=\&quot;memberNameLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestEnum.html#ONE\&quot;&gt;ONE&lt;/a&gt;&quot;
495                 + &quot;&lt;/span&gt; - pkg2.&lt;a href=\&quot;../pkg2/TestEnum.html\&quot; title=\&quot;enum in pkg2\&quot;&gt;TestEnum&lt;/a&gt;&lt;/dt&gt;&quot;);
496         checkOutput(&quot;index-files/index-14.html&quot;, true,
497                 &quot;&lt;dt&gt;&lt;span class=\&quot;memberNameLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestEnum.html#THREE\&quot;&gt;THREE&lt;/a&gt;&lt;/span&gt; - &quot;
498                 + &quot;pkg2.&lt;a href=\&quot;../pkg2/TestEnum.html\&quot; title=\&quot;enum in pkg2\&quot;&gt;TestEnum&lt;/a&gt;&lt;/dt&gt;&quot;,
499                 &quot;&lt;dt&gt;&lt;span class=\&quot;memberNameLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestEnum.html#TWO\&quot;&gt;TWO&lt;/a&gt;&lt;/span&gt; - &quot;
500                 + &quot;pkg2.&lt;a href=\&quot;../pkg2/TestEnum.html\&quot; title=\&quot;enum in pkg2\&quot;&gt;TestEnum&lt;/a&gt;&lt;/dt&gt;&quot;);
501     }
502 
503     void checkIndexNoComment() {
504         // Test for search tags markup in index file when javadoc is executed with -nocomment.
505         checkOutput(&quot;index-all.html&quot;, false,
506                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#phrasewithspaces\&quot;&gt;&quot;
<span class="line-modified">507                 + &quot;phrase with spaces&lt;/a&gt;&lt;/span&gt; - Search tag in package pkg&lt;/dt&gt;&quot;,</span>
508                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#pkg\&quot;&gt;&quot;
<span class="line-modified">509                 + &quot;pkg&lt;/a&gt;&lt;/span&gt; - Search tag in package pkg&lt;/dt&gt;&quot;,</span>
510                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#pkg2.5\&quot;&gt;&quot;
<span class="line-modified">511                 + &quot;pkg2.5&lt;/a&gt;&lt;/span&gt; - Search tag in package pkg&lt;/dt&gt;&quot;,</span>
512                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#r\&quot;&gt;&quot;
<span class="line-modified">513                 + &quot;r&lt;/a&gt;&lt;/span&gt; - Search tag in package pkg&lt;/dt&gt;&quot;,</span>
514                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg1/RegClass.html#searchphrase\&quot;&gt;&quot;
<span class="line-modified">515                 + &quot;search phrase&lt;/a&gt;&lt;/span&gt; - Search tag in class pkg1.RegClass&lt;/dt&gt;&quot;,</span>
516                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg1/RegClass.html#SearchWordWithDescription\&quot;&gt;&quot;
517                 + &quot;SearchWordWithDescription&lt;/a&gt;&lt;/span&gt; - Search tag in pkg1.RegClass.CONSTANT_FIELD_1&lt;/dt&gt;&quot;,
518                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestAnnotationType.html#searchphrasewithdescdeprecated\&quot;&gt;&quot;
<span class="line-modified">519                 + &quot;search phrase with desc deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in annotation type pkg2.TestAnnotationType&lt;/dt&gt;&quot;,</span>
520                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestClass.html#SearchTagDeprecatedClass\&quot;&gt;&quot;
<span class="line-modified">521                 + &quot;SearchTagDeprecatedClass&lt;/a&gt;&lt;/span&gt; - Search tag in class pkg2.TestClass&lt;/dt&gt;&quot;,</span>
522                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#SingleWord\&quot;&gt;&quot;
<span class="line-modified">523                 + &quot;SingleWord&lt;/a&gt;&lt;/span&gt; - Search tag in package pkg&lt;/dt&gt;&quot;,</span>
524                 &quot;&lt;div class=\&quot;deprecationComment\&quot;&gt;class_test1 passes. Search tag&quot;
<span class="line-modified">525                 + &quot; &lt;span id=\&quot;SearchTagDeprecatedClass\&quot;&gt;SearchTagDeprecatedClass&lt;/span&gt;&lt;/div&gt;&quot;,</span>
526                 &quot;&lt;div class=\&quot;deprecationComment\&quot;&gt;error_test3 passes. Search tag for\n&quot;
<span class="line-modified">527                 + &quot; method &lt;span id=\&quot;SearchTagDeprecatedMethod\&quot;&gt;SearchTagDeprecatedMethod&lt;/span&gt;&lt;/div&gt;&quot;);</span>
528         checkOutput(&quot;index-all.html&quot;, true,
529                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestEnum.html#searchphrasedeprecated\&quot;&gt;&quot;
530                 + &quot;search phrase deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestEnum.ONE&lt;/dt&gt;&quot;,
531                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">532                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError.TestError()&lt;/dt&gt;&quot;);</span>
533     }
534 
535     void checkIndexNoDeprecated() {
536         // Test for search tags markup in index file when javadoc is executed using -nodeprecated.
537         checkOutput(&quot;index-all.html&quot;, true,
538                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#phrasewithspaces\&quot;&gt;&quot;
<span class="line-modified">539                 + &quot;phrase with spaces&lt;/a&gt;&lt;/span&gt; - Search tag in package pkg&lt;/dt&gt;&quot;,</span>
540                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg1/RegClass.html#searchphrase\&quot;&gt;&quot;
<span class="line-modified">541                 + &quot;search phrase&lt;/a&gt;&lt;/span&gt; - Search tag in class pkg1.RegClass&lt;/dt&gt;&quot;,</span>
542                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg1/RegClass.html#SearchWordWithDescription\&quot;&gt;&quot;
543                 + &quot;SearchWordWithDescription&lt;/a&gt;&lt;/span&gt; - Search tag in pkg1.RegClass.CONSTANT_FIELD_1&lt;/dt&gt;&quot;,
544                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg/package-summary.html#SingleWord\&quot;&gt;&quot;
<span class="line-modified">545                 + &quot;SingleWord&lt;/a&gt;&lt;/span&gt; - Search tag in package pkg&lt;/dt&gt;&quot;);</span>
546         checkOutput(&quot;index-all.html&quot;, false,
547                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestAnnotationType.html#searchphrasewithdescdeprecated\&quot;&gt;&quot;
<span class="line-modified">548                 + &quot;search phrase with desc deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in annotation type pkg2.TestAnnotationType&lt;/dt&gt;&quot;,</span>
549                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestClass.html#SearchTagDeprecatedClass\&quot;&gt;&quot;
<span class="line-modified">550                 + &quot;SearchTagDeprecatedClass&lt;/a&gt;&lt;/span&gt; - Search tag in class pkg2.TestClass&lt;/dt&gt;&quot;,</span>
551                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestEnum.html#searchphrasedeprecated\&quot;&gt;&quot;
552                 + &quot;search phrase deprecated&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestEnum.ONE&lt;/dt&gt;&quot;,
553                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">554                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError.TestError()&lt;/dt&gt;&quot;,</span>
555                 &quot;&lt;div class=\&quot;deprecationComment\&quot;&gt;class_test1 passes. Search tag&quot;
<span class="line-modified">556                 + &quot; &lt;span id=\&quot;SearchTagDeprecatedClass\&quot;&gt;SearchTagDeprecatedClass&lt;/span&gt;&lt;/div&gt;&quot;,</span>
557                 &quot;&lt;div class=\&quot;deprecationComment\&quot;&gt;error_test3 passes. Search tag for\n&quot;
<span class="line-modified">558                 + &quot; method &lt;span id=\&quot;SearchTagDeprecatedMethod\&quot;&gt;SearchTagDeprecatedMethod&lt;/span&gt;&lt;/div&gt;&quot;);</span>
559     }
560 
561     void checkJavaFXOutput() {
562         checkOutput(&quot;index-all.html&quot;, false, &quot;test treat as private&quot;);
563     }
564 
565     void checkInvalidUsageIndexTag() {
566         checkOutput(Output.OUT, true,
567                 &quot;AnotherClass.java:29: warning - invalid usage of tag {@index&quot;,
<span class="line-modified">568                 &quot;AnotherClass.java:39: warning - invalid usage of tag {@index&quot;,</span>
<span class="line-modified">569                 &quot;AnotherClass.java:34: warning - invalid usage of tag {@index&quot;,</span>
<span class="line-modified">570                 &quot;AnotherClass.java:68: warning - invalid usage of tag {@index&quot;);</span>
571     }
572 
573     void checkJqueryAndImageFiles(boolean expectedOutput) {
574         checkFiles(expectedOutput,
575                 &quot;search.js&quot;,
<span class="line-modified">576                 &quot;script-dir/jquery-3.4.1.js&quot;,</span>
<span class="line-modified">577                 &quot;script-dir/jquery-ui.js&quot;,</span>
<span class="line-modified">578                 &quot;script-dir/jquery-ui.css&quot;,</span>
<span class="line-modified">579                 &quot;script-dir/jquery-ui.min.js&quot;,</span>
<span class="line-modified">580                 &quot;script-dir/jquery-ui.min.css&quot;,</span>
<span class="line-modified">581                 &quot;script-dir/jquery-ui.structure.min.css&quot;,</span>
<span class="line-modified">582                 &quot;script-dir/jquery-ui.structure.css&quot;,</span>
<span class="line-modified">583                 &quot;script-dir/images/ui-bg_glass_65_dadada_1x400.png&quot;,</span>
<span class="line-modified">584                 &quot;script-dir/images/ui-icons_454545_256x240.png&quot;,</span>
<span class="line-modified">585                 &quot;script-dir/images/ui-bg_glass_95_fef1ec_1x400.png&quot;,</span>
<span class="line-modified">586                 &quot;script-dir/images/ui-bg_glass_75_dadada_1x400.png&quot;,</span>
<span class="line-modified">587                 &quot;script-dir/images/ui-bg_highlight-soft_75_cccccc_1x100.png&quot;,</span>
<span class="line-modified">588                 &quot;script-dir/images/ui-icons_888888_256x240.png&quot;,</span>
<span class="line-modified">589                 &quot;script-dir/images/ui-icons_2e83ff_256x240.png&quot;,</span>
<span class="line-modified">590                 &quot;script-dir/images/ui-icons_cd0a0a_256x240.png&quot;,</span>
<span class="line-modified">591                 &quot;script-dir/images/ui-bg_glass_55_fbf9ee_1x400.png&quot;,</span>
<span class="line-modified">592                 &quot;script-dir/images/ui-icons_222222_256x240.png&quot;,</span>
<span class="line-modified">593                 &quot;script-dir/images/ui-bg_glass_75_e6e6e6_1x400.png&quot;,</span>








594                 &quot;resources/x.png&quot;,
595                 &quot;resources/glass.png&quot;);
596     }
597 
598     void checkSearchJS() {
599         checkOutput(&quot;search.js&quot;, true,





600                 &quot;function concatResults(a1, a2) {&quot;,
<span class="line-modified">601                 &quot;$(\&quot;#search\&quot;).on(&#39;click keydown paste&#39;, function() {\n&quot;</span>


602                 + &quot;        if ($(this).val() == watermark) {\n&quot;
603                 + &quot;            $(this).val(&#39;&#39;).removeClass(&#39;watermark&#39;);\n&quot;
604                 + &quot;        }\n&quot;
605                 + &quot;    });&quot;,
606                 &quot;function getURLPrefix(ui) {\n&quot;
607                 + &quot;    var urlPrefix=\&quot;\&quot;;\n&quot;
<span class="line-modified">608                 + &quot;    var slash = \&quot;/\&quot;;\n&quot;</span>
<span class="line-modified">609                 + &quot;    if (ui.item.category === catModules) {\n&quot;</span>
<span class="line-modified">610                 + &quot;        return ui.item.l + slash;\n&quot;</span>
<span class="line-modified">611                 + &quot;    } else if (ui.item.category === catPackages &amp;&amp; ui.item.m) {\n&quot;</span>
<span class="line-modified">612                 + &quot;        return ui.item.m + slash;\n&quot;</span>
<span class="line-modified">613                 + &quot;    } else if ((ui.item.category === catTypes &amp;&amp; ui.item.p) || ui.item.category === catMembers) {\n&quot;</span>
<span class="line-modified">614                 + &quot;        $.each(packageSearchIndex, function(index, item) {\n&quot;</span>
<span class="line-modified">615                 + &quot;            if (item.m &amp;&amp; ui.item.p == item.l) {\n&quot;</span>
<span class="line-modified">616                 + &quot;                urlPrefix = item.m + slash;\n&quot;</span>
<span class="line-modified">617                 + &quot;            }\n&quot;</span>
<span class="line-modified">618                 + &quot;        });\n&quot;</span>
<span class="line-modified">619                 + &quot;        return urlPrefix;\n&quot;</span>
<span class="line-modified">620                 + &quot;    } else {\n&quot;</span>
<span class="line-modified">621                 + &quot;        return urlPrefix;\n&quot;</span>


622                 + &quot;    }\n&quot;
623                 + &quot;    return urlPrefix;\n&quot;
624                 + &quot;}&quot;,
625                 &quot;url += ui.item.l;&quot;);
626     }
627 
628     void checkSingleIndexSearchTagDuplication() {
629         // Test for search tags duplication in index file.
630         checkOutput(&quot;index-all.html&quot;, true,
631                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">632                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError.TestError()&lt;/dt&gt;\n&quot;</span>
633                 + &quot;&lt;dd&gt;with description&lt;/dd&gt;&quot;);
634         checkOutput(&quot;index-all.html&quot;, false,
635                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">636                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError.TestError()&lt;/dt&gt;\n&quot;</span>
637                 + &quot;&lt;dd&gt;with description&lt;/dd&gt;\n&quot;
638                 + &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">639                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError.TestError()&lt;/dt&gt;\n&quot;</span>
640                 + &quot;&lt;dd&gt;with description&lt;/dd&gt;&quot;);
641     }
642 
643     void checkSplitIndexSearchTagDuplication() {
644         // Test for search tags duplication in index file.
645         checkOutput(&quot;index-files/index-13.html&quot;, true,
646                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">647                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError.TestError()&lt;/dt&gt;\n&quot;</span>
648                 + &quot;&lt;dd&gt;with description&lt;/dd&gt;&quot;);
649         checkOutput(&quot;index-files/index-13.html&quot;, false,
650                 &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">651                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError.TestError()&lt;/dt&gt;\n&quot;</span>
652                 + &quot;&lt;dd&gt;with description&lt;/dd&gt;\n&quot;
653                 + &quot;&lt;dt&gt;&lt;span class=\&quot;searchTagLink\&quot;&gt;&lt;a href=\&quot;../pkg2/TestError.html#SearchTagDeprecatedMethod\&quot;&gt;&quot;
<span class="line-modified">654                 + &quot;SearchTagDeprecatedMethod&lt;/a&gt;&lt;/span&gt; - Search tag in pkg2.TestError.TestError()&lt;/dt&gt;\n&quot;</span>
655                 + &quot;&lt;dd&gt;with description&lt;/dd&gt;&quot;);
656     }
657 
658     void checkAllPkgsAllClasses() {
659         checkOutput(&quot;allclasses-index.html&quot;, true,
660                 &quot;&lt;div class=\&quot;typeSummary\&quot;&gt;\n&quot;
661                 + &quot;&lt;div role=\&quot;tablist\&quot; aria-orientation=\&quot;horizontal\&quot;&gt;&lt;button role=\&quot;tab\&quot;&quot;
662                 + &quot; aria-selected=\&quot;true\&quot; aria-controls=\&quot;typeSummary_tabpanel\&quot; tabindex=\&quot;0\&quot;&quot;
663                 + &quot; onkeydown=\&quot;switchTab(event)\&quot; id=\&quot;t0\&quot; class=\&quot;activeTableTab\&quot;&gt;All Classes&lt;/button&gt;&quot;
664                 + &quot;&lt;button role=\&quot;tab\&quot; aria-selected=\&quot;false\&quot; aria-controls=\&quot;typeSummary_tabpanel\&quot;&quot;
665                 + &quot; tabindex=\&quot;-1\&quot; onkeydown=\&quot;switchTab(event)\&quot; id=\&quot;t1\&quot; class=\&quot;tableTab\&quot;&quot;
666                 + &quot; onclick=\&quot;show(1);\&quot;&gt;Interface Summary&lt;/button&gt;&lt;button role=\&quot;tab\&quot; aria-selected=\&quot;false\&quot;&quot;
667                 + &quot; aria-controls=\&quot;typeSummary_tabpanel\&quot; tabindex=\&quot;-1\&quot; onkeydown=\&quot;switchTab(event)\&quot;&quot;
668                 + &quot; id=\&quot;t2\&quot; class=\&quot;tableTab\&quot; onclick=\&quot;show(2);\&quot;&gt;Class Summary&lt;/button&gt;&lt;button role=\&quot;tab\&quot;&quot;
669                 + &quot; aria-selected=\&quot;false\&quot; aria-controls=\&quot;typeSummary_tabpanel\&quot; tabindex=\&quot;-1\&quot;&quot;
670                 + &quot; onkeydown=\&quot;switchTab(event)\&quot; id=\&quot;t3\&quot; class=\&quot;tableTab\&quot; onclick=\&quot;show(4);\&quot;&gt;&quot;
671                 + &quot;Enum Summary&lt;/button&gt;&lt;button role=\&quot;tab\&quot; aria-selected=\&quot;false\&quot;&quot;
672                 + &quot; aria-controls=\&quot;typeSummary_tabpanel\&quot; tabindex=\&quot;-1\&quot; onkeydown=\&quot;switchTab(event)\&quot;&quot;
673                 + &quot; id=\&quot;t4\&quot; class=\&quot;tableTab\&quot; onclick=\&quot;show(8);\&quot;&gt;Exception Summary&lt;/button&gt;&lt;button role=\&quot;tab\&quot;&quot;
674                 + &quot; aria-selected=\&quot;false\&quot; aria-controls=\&quot;typeSummary_tabpanel\&quot; tabindex=\&quot;-1\&quot;&quot;
675                 + &quot; onkeydown=\&quot;switchTab(event)\&quot; id=\&quot;t5\&quot; class=\&quot;tableTab\&quot; onclick=\&quot;show(16);\&quot;&gt;&quot;
676                 + &quot;Error Summary&lt;/button&gt;&lt;button role=\&quot;tab\&quot; aria-selected=\&quot;false\&quot;&quot;
677                 + &quot; aria-controls=\&quot;typeSummary_tabpanel\&quot; tabindex=\&quot;-1\&quot; onkeydown=\&quot;switchTab(event)\&quot;&quot;
678                 + &quot; id=\&quot;t6\&quot; class=\&quot;tableTab\&quot; onclick=\&quot;show(32);\&quot;&gt;Annotation Types Summary&lt;/button&gt;&lt;/div&gt;\n&quot;
679                 + &quot;&lt;div id=\&quot;typeSummary_tabpanel\&quot; role=\&quot;tabpanel\&quot;&gt;\n&quot;
680                 + &quot;&lt;table aria-labelledby=\&quot;t0\&quot;&gt;\n&quot;
<span class="line-added">681                 + &quot;&lt;thead&gt;\n&quot;</span>
682                 + &quot;&lt;tr&gt;\n&quot;
683                 + &quot;&lt;th class=\&quot;colFirst\&quot; scope=\&quot;col\&quot;&gt;Class&lt;/th&gt;\n&quot;
684                 + &quot;&lt;th class=\&quot;colLast\&quot; scope=\&quot;col\&quot;&gt;Description&lt;/th&gt;\n&quot;
685                 + &quot;&lt;/tr&gt;&quot;,
686                 &quot;var data = {\&quot;i0\&quot;:32,\&quot;i1\&quot;:2,\&quot;i2\&quot;:4,\&quot;i3\&quot;:2,\&quot;i4\&quot;:2,\&quot;i5\&quot;:1,\&quot;i6\&quot;:2,\&quot;i7\&quot;:32,&quot;
687                 + &quot;\&quot;i8\&quot;:2,\&quot;i9\&quot;:4,\&quot;i10\&quot;:16,\&quot;i11\&quot;:16,\&quot;i12\&quot;:8,\&quot;i13\&quot;:8,\&quot;i14\&quot;:1,\&quot;i15\&quot;:2};&quot;);
688         checkOutput(&quot;allpackages-index.html&quot;, true,
689                 &quot;&lt;div class=\&quot;packagesSummary\&quot;&gt;\n&lt;table&gt;\n&quot;
690                 + &quot;&lt;caption&gt;&lt;span&gt;Package Summary&lt;/span&gt;&lt;span class=\&quot;tabEnd\&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/caption&gt;\n&quot;
<span class="line-added">691                 + &quot;&lt;thead&gt;\n&quot;</span>
692                 + &quot;&lt;tr&gt;\n&quot;
693                 + &quot;&lt;th class=\&quot;colFirst\&quot; scope=\&quot;col\&quot;&gt;Package&lt;/th&gt;\n&quot;
694                 + &quot;&lt;th class=\&quot;colLast\&quot; scope=\&quot;col\&quot;&gt;Description&lt;/th&gt;\n&quot;
695                 + &quot;&lt;/tr&gt;\n&quot;);
696         checkOutput(&quot;type-search-index.js&quot;, true,
<span class="line-modified">697                 &quot;{\&quot;l\&quot;:\&quot;All Classes\&quot;,\&quot;u\&quot;:\&quot;allclasses-index.html\&quot;}&quot;);</span>
698         checkOutput(&quot;package-search-index.js&quot;, true,
<span class="line-modified">699                 &quot;{\&quot;l\&quot;:\&quot;All Packages\&quot;,\&quot;u\&quot;:\&quot;allpackages-index.html\&quot;}&quot;);</span>
700         checkOutput(&quot;index-all.html&quot;, true,
<span class="line-modified">701                     &quot;&lt;br&gt;&lt;a href=\&quot;allclasses-index.html\&quot;&gt;All&amp;nbsp;Classes&lt;/a&gt;&quot;</span>
<span class="line-modified">702                     + &quot;&lt;span class=\&quot;verticalSeparator\&quot;&gt;|&lt;/span&gt;&quot;</span>
<span class="line-modified">703                     + &quot;&lt;a href=\&quot;allpackages-index.html\&quot;&gt;All&amp;nbsp;Packages&lt;/a&gt;&quot;);</span>
<span class="line-added">704     }</span>
705 }
</pre>
</td>
</tr>
</table>
<center><a href="../testReturnTag/TestReturnTag.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="pkg/AnnotationType.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>