<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/langtools/jdk/javadoc/lib/javadoc/tester/JavadocTester.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="HtmlParser.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../../tool/NoStar.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/langtools/jdk/javadoc/lib/javadoc/tester/JavadocTester.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 94,11 ***</span>
   *          MyTester tester = new MyTester();
   *          tester.runTests();
   *      }
   *
   *      // test methods...
<span class="line-modified">!  *      @Test</span>
   *      void test() {
   *          javadoc(&lt;i&gt;args&lt;/i&gt;);
   *          checkExit(Exit.OK);
   *          checkOutput(&lt;i&gt;file&lt;/i&gt;, true,
   *              &lt;i&gt;strings-to-find&lt;/i&gt;);
<span class="line-new-header">--- 94,11 ---</span>
   *          MyTester tester = new MyTester();
   *          tester.runTests();
   *      }
   *
   *      // test methods...
<span class="line-modified">!  *      {@literal @}Test</span>
   *      void test() {
   *          javadoc(&lt;i&gt;args&lt;/i&gt;);
   *          checkExit(Exit.OK);
   *          checkOutput(&lt;i&gt;file&lt;/i&gt;, true,
   *              &lt;i&gt;strings-to-find&lt;/i&gt;);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 132,20 ***</span>
   * annotation. However, you should &lt;b&gt;not&lt;/b&gt; assume they will be called
   * in the order declared in your source file.  If the order of a series
   * of javadoc invocations is important, do that within a single method.
   * If the invocations are independent, for better clarity, use separate
   * test methods, each with their own set of checks on the results.
<span class="line-removed">-  *</span>
<span class="line-removed">-  * @author Doug Kramer</span>
<span class="line-removed">-  * @author Jamie Ho</span>
<span class="line-removed">-  * @author Jonathan Gibbons (rewrite)</span>
   */
  public abstract class JavadocTester {
  
      public static final String FS = System.getProperty(&quot;file.separator&quot;);
      public static final String PS = System.getProperty(&quot;path.separator&quot;);
      public static final String NL = System.getProperty(&quot;line.separator&quot;);
      public static final Path currDir = Paths.get(&quot;.&quot;).toAbsolutePath().normalize();
  
      public enum Output {
          /** The name of the output stream from javadoc. */
          OUT,
<span class="line-new-header">--- 132,18 ---</span>
   * annotation. However, you should &lt;b&gt;not&lt;/b&gt; assume they will be called
   * in the order declared in your source file.  If the order of a series
   * of javadoc invocations is important, do that within a single method.
   * If the invocations are independent, for better clarity, use separate
   * test methods, each with their own set of checks on the results.
   */
  public abstract class JavadocTester {
  
      public static final String FS = System.getProperty(&quot;file.separator&quot;);
      public static final String PS = System.getProperty(&quot;path.separator&quot;);
      public static final String NL = System.getProperty(&quot;line.separator&quot;);
<span class="line-added">+     public static final String thisRelease = System.getProperty(&quot;java.specification.version&quot;);</span>
<span class="line-added">+ </span>
      public static final Path currDir = Paths.get(&quot;.&quot;).toAbsolutePath().normalize();
  
      public enum Output {
          /** The name of the output stream from javadoc. */
          OUT,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 770,11 ***</span>
  
      protected String readFile(String baseDir, String fileName) throws Error {
          return readFile(new File(baseDir), fileName);
      }
  
<span class="line-modified">!     private String readFile(Path file) {</span>
          File baseDir;
          if (file.startsWith(outputDir.toPath())) {
              baseDir = outputDir;
          } else if (file.startsWith(currDir)) {
              baseDir = currDir.toFile();
<span class="line-new-header">--- 768,11 ---</span>
  
      protected String readFile(String baseDir, String fileName) throws Error {
          return readFile(new File(baseDir), fileName);
      }
  
<span class="line-modified">!     protected String readFile(Path file) {</span>
          File baseDir;
          if (file.startsWith(outputDir.toPath())) {
              baseDir = outputDir;
          } else if (file.startsWith(currDir)) {
              baseDir = currDir.toFile();
</pre>
<center><a href="HtmlParser.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../../tool/NoStar.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>