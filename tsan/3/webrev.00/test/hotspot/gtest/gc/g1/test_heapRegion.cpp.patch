diff a/test/hotspot/gtest/gc/g1/test_heapRegion.cpp b/test/hotspot/gtest/gc/g1/test_heapRegion.cpp
--- a/test/hotspot/gtest/gc/g1/test_heapRegion.cpp
+++ b/test/hotspot/gtest/gc/g1/test_heapRegion.cpp
@@ -43,11 +43,11 @@
 public:
   VerifyAndCountMarkClosure(G1CMBitMap* bm) : _count(0), _bm(bm) { }
 
   virtual size_t apply(oop object) {
     _count++;
-    ensure_marked((HeapWord*) object);
+    ensure_marked(cast_from_oop<HeapWord*>(object));
     // Must return positive size to advance the iteration.
     return MinObjAlignment;
   }
 
   void reset() {
