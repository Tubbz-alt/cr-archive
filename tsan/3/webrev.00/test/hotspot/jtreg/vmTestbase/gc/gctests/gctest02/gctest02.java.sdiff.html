<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/hotspot/jtreg/vmTestbase/gc/gctests/gctest02/gctest02.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../g1/unloading/tests/unloading_redefinition_keep_obj/TestDescription.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../../jit/escape/LockCoarsening/LockCoarsening.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/vmTestbase/gc/gctests/gctest02/gctest02.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
163                 while ( doit() ) {
164                         if ( LocalRandom.random() &gt; 0.6668) {
165                                 try {
166                                         sleep(10);   // to be nice
167                                 }
168                                 catch (InterruptedException e) {
169                                 }
170                         }
171                         Thread.yield();
172                 }
173                 //we&#39;ve reached the population limit, so we&#39;re exiting the thread
174                 ThreadCount.dec();
175         }
176 }
177 
178 class Escaper extends Thread {
179         public void run() {
180                 while ( ThreadCount.get() &gt; 0 ) {
181                         int buf[] = new int[32];
182                         {
<span class="line-modified">183                                                 yield();</span>
184                         }
185                 }
186         }
187 }
188 
189 public class gctest02 {
190         public static void main(String args[] ) {
191                 int bufsz = 8;
192                 int peopleLimit = 1000;
193                 long randomSeed = System.currentTimeMillis();
194                 Memevil me=null;
195                 if (args.length &gt; 0)
196                 {
197                         try
198                         {
199                                 peopleLimit = new Integer(args[0]).intValue();
200                         }
201                         catch (NumberFormatException e)
202                         {
203                                 throw new TestBug(
</pre>
</td>
<td>
<hr />
<pre>
163                 while ( doit() ) {
164                         if ( LocalRandom.random() &gt; 0.6668) {
165                                 try {
166                                         sleep(10);   // to be nice
167                                 }
168                                 catch (InterruptedException e) {
169                                 }
170                         }
171                         Thread.yield();
172                 }
173                 //we&#39;ve reached the population limit, so we&#39;re exiting the thread
174                 ThreadCount.dec();
175         }
176 }
177 
178 class Escaper extends Thread {
179         public void run() {
180                 while ( ThreadCount.get() &gt; 0 ) {
181                         int buf[] = new int[32];
182                         {
<span class="line-modified">183                                                 Thread.yield();</span>
184                         }
185                 }
186         }
187 }
188 
189 public class gctest02 {
190         public static void main(String args[] ) {
191                 int bufsz = 8;
192                 int peopleLimit = 1000;
193                 long randomSeed = System.currentTimeMillis();
194                 Memevil me=null;
195                 if (args.length &gt; 0)
196                 {
197                         try
198                         {
199                                 peopleLimit = new Integer(args[0]).intValue();
200                         }
201                         catch (NumberFormatException e)
202                         {
203                                 throw new TestBug(
</pre>
</td>
</tr>
</table>
<center><a href="../../g1/unloading/tests/unloading_redefinition_keep_obj/TestDescription.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../../jit/escape/LockCoarsening/LockCoarsening.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>