<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/hotspot/jtreg/vmTestbase/jit/regression/b4446672/b4446672.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../graph/test6.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../../metaspace/gc/HighWaterMarkTest.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/vmTestbase/jit/regression/b4446672/b4446672.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
59       System.out.println (&quot;TestThread.&quot;);
60       testing = true;
61     }
62   }
63 
64   class TestThreadStarter extends Thread {
65     public void run() {
66       System.out.println (&quot;TestThreadStarter.&quot;);
67       starting=true;
68       testThread.start();
69     }
70   }
71 
72   class GCThread extends Thread {
73     public void run() {
74       System.out.println (&quot;GCThread run.&quot;);
75       synchronized (testThread) {
76         System.out.println (&quot;GCThread synchronized.&quot;);
77               while (!done) {
78                 gcing=true;
<span class="line-modified">79                 yield();</span>
80                 System.gc();
81               }
82             }
83         System.out.println (&quot;GCThread done.&quot;);
84     }
85   }
86 
87   TestThread testThread = new TestThread();
88   boolean done = false;
89   boolean gcing = false;
90   boolean testing = false;
91   boolean starting = false;
92 }
</pre>
</td>
<td>
<hr />
<pre>
59       System.out.println (&quot;TestThread.&quot;);
60       testing = true;
61     }
62   }
63 
64   class TestThreadStarter extends Thread {
65     public void run() {
66       System.out.println (&quot;TestThreadStarter.&quot;);
67       starting=true;
68       testThread.start();
69     }
70   }
71 
72   class GCThread extends Thread {
73     public void run() {
74       System.out.println (&quot;GCThread run.&quot;);
75       synchronized (testThread) {
76         System.out.println (&quot;GCThread synchronized.&quot;);
77               while (!done) {
78                 gcing=true;
<span class="line-modified">79                 Thread.yield();</span>
80                 System.gc();
81               }
82             }
83         System.out.println (&quot;GCThread done.&quot;);
84     }
85   }
86 
87   TestThread testThread = new TestThread();
88   boolean done = false;
89   boolean gcing = false;
90   boolean testing = false;
91   boolean starting = false;
92 }
</pre>
</td>
</tr>
</table>
<center><a href="../../graph/test6.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../../metaspace/gc/HighWaterMarkTest.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>