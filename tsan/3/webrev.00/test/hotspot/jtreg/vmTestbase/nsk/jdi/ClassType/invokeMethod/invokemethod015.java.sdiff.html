<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/hotspot/jtreg/vmTestbase/nsk/jdi/ClassType/invokeMethod/invokemethod015.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../ClassPrepareRequest/addClassFilter_s/filter_s002.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../DoubleType/_itself_/doubletype001.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/vmTestbase/nsk/jdi/ClassType/invokeMethod/invokemethod015.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
333                 }
334             }
335         } catch (Exception e) {
336             throw new Failure(&quot;Unexpected exception while waiting for an event: &quot; + e);
337         }
338         return resultEvent;
339     }
340 
341     private void getEventSet() {
342         try {
343             eventSet = vm.eventQueue().remove(waitTime);
344             if (eventSet == null) {
345                 throw new Failure(&quot;TIMEOUT while waiting for an event&quot;);
346             }
347             eventIterator = eventSet.eventIterator();
348         } catch (Exception e) {
349             throw new Failure(&quot;getEventSet(): Unexpected exception while waiting for an event: &quot; + e);
350         }
351     }
352 
<span class="line-removed">353 </span>
<span class="line-removed">354     private ThreadReference threadByName(String name) throws Failure{</span>
<span class="line-removed">355         List all = vm.allThreads();</span>
<span class="line-removed">356         ListIterator li = all.listIterator();</span>
<span class="line-removed">357 </span>
<span class="line-removed">358         while (li.hasNext()) {</span>
<span class="line-removed">359             ThreadReference thread = (ThreadReference) li.next();</span>
<span class="line-removed">360             if (thread.name().equals(name))</span>
<span class="line-removed">361                 return thread;</span>
<span class="line-removed">362         }</span>
<span class="line-removed">363         throw new Failure(&quot;Thread with searching for name is not found: &quot; + name);</span>
<span class="line-removed">364     }</span>
<span class="line-removed">365 </span>
366     private ReferenceType waitForDebuggeeClassPrepared () {
367         display(&quot;Creating request for ClassPrepareEvent for debuggee.&quot;);
368         ClassPrepareRequest cpRequest = eventRManager.createClassPrepareRequest();
369         cpRequest.addClassFilter(debuggeeName);
370         cpRequest.addCountFilter(1);
371         cpRequest.enable();
372 
373         ClassPrepareEvent event = (ClassPrepareEvent) waitForEvent(cpRequest);
374         cpRequest.disable();
375 
376         if (!event.referenceType().name().equals(debuggeeName)) {
377            throw new Failure(&quot;Unexpected class name for ClassPrepareEvent : &quot; + debuggeeClass.name());
378         }
379         return event.referenceType();
380     }
381 }
</pre>
</td>
<td>
<hr />
<pre>
333                 }
334             }
335         } catch (Exception e) {
336             throw new Failure(&quot;Unexpected exception while waiting for an event: &quot; + e);
337         }
338         return resultEvent;
339     }
340 
341     private void getEventSet() {
342         try {
343             eventSet = vm.eventQueue().remove(waitTime);
344             if (eventSet == null) {
345                 throw new Failure(&quot;TIMEOUT while waiting for an event&quot;);
346             }
347             eventIterator = eventSet.eventIterator();
348         } catch (Exception e) {
349             throw new Failure(&quot;getEventSet(): Unexpected exception while waiting for an event: &quot; + e);
350         }
351     }
352 













353     private ReferenceType waitForDebuggeeClassPrepared () {
354         display(&quot;Creating request for ClassPrepareEvent for debuggee.&quot;);
355         ClassPrepareRequest cpRequest = eventRManager.createClassPrepareRequest();
356         cpRequest.addClassFilter(debuggeeName);
357         cpRequest.addCountFilter(1);
358         cpRequest.enable();
359 
360         ClassPrepareEvent event = (ClassPrepareEvent) waitForEvent(cpRequest);
361         cpRequest.disable();
362 
363         if (!event.referenceType().name().equals(debuggeeName)) {
364            throw new Failure(&quot;Unexpected class name for ClassPrepareEvent : &quot; + debuggeeClass.name());
365         }
366         return event.referenceType();
367     }
368 }
</pre>
</td>
</tr>
</table>
<center><a href="../../ClassPrepareRequest/addClassFilter_s/filter_s002.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../DoubleType/_itself_/doubletype001.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>