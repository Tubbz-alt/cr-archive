<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/hotspot/jtreg/vmTestbase/nsk/jvmti/scenarios/sampling/SP02/sp02t003/sp02t003.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../hotswap/HS302/hs302t012/hs302t012.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../SP06/sp06t003/sp06t003.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/vmTestbase/nsk/jvmti/scenarios/sampling/SP02/sp02t003/sp02t003.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 304,28 ***</span>
                                          j, (void*)frameStack[j].method,
                                          (long)frameStack[j].location);
              /* query frame location */
              if (!NSK_JVMTI_VERIFY(
                      jvmti-&gt;GetFrameLocation(threadsDesc[i].thread, j, &amp;qMethod, &amp;qLocation))
<span class="line-modified">!                 &amp;&amp; (suspended == NSK_TRUE)) {</span>
                  nsk_jvmti_setFailStatus();
                  continue;
              }
  
              NSK_DISPLAY2(&quot;      queried: method: %p, location: %ld\n&quot;,
                                          (void*)qMethod, (long)qLocation);
  
              /* check frame equality */
<span class="line-modified">!             if ((suspended == NSK_TRUE) &amp;&amp; (frameStack[j].method != qMethod)) {</span>
                  NSK_COMPLAIN6(&quot;Different method in stack frame #%d for %s thread #%d (%s):\n&quot;
                              &quot;#   GetStackTrace():    %p\n&quot;
                              &quot;#   GetFrameLocation(): %p\n&quot;,
                              j, kind, i, threadsDesc[i].threadName,
                              (void*)frameStack[j].method, (void*)qMethod);
                  nsk_jvmti_setFailStatus();
              }
<span class="line-modified">!             if ((suspended == NSK_TRUE) &amp;&amp; (frameStack[j].location != qLocation)) {</span>
                  NSK_COMPLAIN6(&quot;Different location in stack frame #%d for %s thread #%d (%s):\n&quot;
                              &quot;#   GetStackTrace():    %ld\n&quot;
                              &quot;#   GetFrameLocation(): %ld\n&quot;,
                              j, kind, i, threadsDesc[i].threadName,
                              (long)frameStack[j].location, (long)qLocation);
<span class="line-new-header">--- 304,28 ---</span>
                                          j, (void*)frameStack[j].method,
                                          (long)frameStack[j].location);
              /* query frame location */
              if (!NSK_JVMTI_VERIFY(
                      jvmti-&gt;GetFrameLocation(threadsDesc[i].thread, j, &amp;qMethod, &amp;qLocation))
<span class="line-modified">!                 &amp;&amp; suspended) {</span>
                  nsk_jvmti_setFailStatus();
                  continue;
              }
  
              NSK_DISPLAY2(&quot;      queried: method: %p, location: %ld\n&quot;,
                                          (void*)qMethod, (long)qLocation);
  
              /* check frame equality */
<span class="line-modified">!             if (suspended &amp;&amp; (frameStack[j].method != qMethod)) {</span>
                  NSK_COMPLAIN6(&quot;Different method in stack frame #%d for %s thread #%d (%s):\n&quot;
                              &quot;#   GetStackTrace():    %p\n&quot;
                              &quot;#   GetFrameLocation(): %p\n&quot;,
                              j, kind, i, threadsDesc[i].threadName,
                              (void*)frameStack[j].method, (void*)qMethod);
                  nsk_jvmti_setFailStatus();
              }
<span class="line-modified">!             if (suspended &amp;&amp; (frameStack[j].location != qLocation)) {</span>
                  NSK_COMPLAIN6(&quot;Different location in stack frame #%d for %s thread #%d (%s):\n&quot;
                              &quot;#   GetStackTrace():    %ld\n&quot;
                              &quot;#   GetFrameLocation(): %ld\n&quot;,
                              j, kind, i, threadsDesc[i].threadName,
                              (long)frameStack[j].location, (long)qLocation);
</pre>
<center><a href="../../../hotswap/HS302/hs302t012/hs302t012.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../SP06/sp06t003/sp06t003.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>