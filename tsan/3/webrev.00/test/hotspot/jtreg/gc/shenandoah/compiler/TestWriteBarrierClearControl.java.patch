diff a/test/hotspot/jtreg/gc/shenandoah/compiler/TestWriteBarrierClearControl.java b/test/hotspot/jtreg/gc/shenandoah/compiler/TestWriteBarrierClearControl.java
--- a/test/hotspot/jtreg/gc/shenandoah/compiler/TestWriteBarrierClearControl.java
+++ b/test/hotspot/jtreg/gc/shenandoah/compiler/TestWriteBarrierClearControl.java
@@ -23,11 +23,12 @@
 
 /**
  * @test TestWriteBarrierClearControl
  * @summary Clearing control during final graph reshape causes memory barrier to loose dependency on null check
  * @key gc
- * @requires vm.gc.Shenandoah
+ * @requires vm.gc.Shenandoah & !vm.graal.enabled
+ * @requires vm.flavor == "server"
  * @run main/othervm -XX:-BackgroundCompilation -XX:-UseOnStackReplacement -XX:-TieredCompilation
  *                   -XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC
  *                   -XX:+UnlockDiagnosticVMOptions -XX:+StressLCM -XX:+StressGCM
  *                   TestWriteBarrierClearControl
  *
