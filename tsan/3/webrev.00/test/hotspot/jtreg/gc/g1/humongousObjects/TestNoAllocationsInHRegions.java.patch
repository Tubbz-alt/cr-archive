diff a/test/hotspot/jtreg/gc/g1/humongousObjects/TestNoAllocationsInHRegions.java b/test/hotspot/jtreg/gc/g1/humongousObjects/TestNoAllocationsInHRegions.java
--- a/test/hotspot/jtreg/gc/g1/humongousObjects/TestNoAllocationsInHRegions.java
+++ b/test/hotspot/jtreg/gc/g1/humongousObjects/TestNoAllocationsInHRegions.java
@@ -24,11 +24,11 @@
 package gc.g1.humongousObjects;
 
 import jdk.test.lib.Utils;
 import sun.hotspot.WhiteBox;
 
-import static java.lang.ref.Reference.reachabilityFence;
+import static gc.testlibrary.Allocation.blackHole;
 
 import java.util.LinkedList;
 import java.util.List;
 import java.util.Random;
 import java.util.stream.Collectors;
@@ -139,11 +139,11 @@
                     },
 
                     // Dead object allocation
                     () -> {
                         int size = RND.nextInt(DEAD_OBJECT_MAX_SIZE);
-                        reachabilityFence(new byte[size]);
+                        blackHole(new byte[size]);
                     },
 
                     // Check
                     () -> {
                         List<byte[]> wrongHumongousAllocations = liveObjects.stream()
