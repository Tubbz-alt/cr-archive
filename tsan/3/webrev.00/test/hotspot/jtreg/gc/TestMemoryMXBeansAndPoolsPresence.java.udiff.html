<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff test/hotspot/jtreg/gc/TestMemoryMXBeansAndPoolsPresence.java</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="TestHumongousReferenceObject.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="TestNumWorkerOutput.java.udiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/gc/TestMemoryMXBeansAndPoolsPresence.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -26,30 +26,38 @@</span>
  import java.util.List;
  import java.lang.management.*;
  import static jdk.test.lib.Asserts.*;
  import java.util.stream.*;
  
<span class="udiff-line-modified-removed">- /* @test TestMemoryMXBeansAndPoolsPresence</span>
<span class="udiff-line-modified-added">+ /* @test TestMemoryMXBeansAndPoolsPresenceG1</span>
   * @bug 8191564
   * @summary Tests that GarbageCollectorMXBeans and GC MemoryPools are created.
   * @library /test/lib
   * @modules java.base/jdk.internal.misc
   *          java.management
<span class="udiff-line-modified-removed">-  * @requires vm.gc == null</span>
<span class="udiff-line-modified-added">+  * @requires vm.gc.G1</span>
   * @run main/othervm -XX:+UseG1GC gc.TestMemoryMXBeansAndPoolsPresence G1
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ /* @test TestMemoryMXBeansAndPoolsPresenceParallel</span>
<span class="udiff-line-added">+  * @bug 8191564</span>
<span class="udiff-line-added">+  * @summary Tests that GarbageCollectorMXBeans and GC MemoryPools are created.</span>
<span class="udiff-line-added">+  * @library /test/lib</span>
<span class="udiff-line-added">+  * @modules java.base/jdk.internal.misc</span>
<span class="udiff-line-added">+  *          java.management</span>
<span class="udiff-line-added">+  * @requires vm.gc.Parallel</span>
   * @run main/othervm -XX:+UseParallelGC gc.TestMemoryMXBeansAndPoolsPresence Parallel
<span class="udiff-line-removed">-  * @run main/othervm -XX:+UseSerialGC gc.TestMemoryMXBeansAndPoolsPresence Serial</span>
   */
  
<span class="udiff-line-modified-removed">- /* @test TestMemoryMXBeansAndPoolsPresenceCMS</span>
<span class="udiff-line-modified-added">+ /* @test TestMemoryMXBeansAndPoolsPresenceSerial</span>
   * @bug 8191564
<span class="udiff-line-added">+  * @summary Tests that GarbageCollectorMXBeans and GC MemoryPools are created.</span>
   * @library /test/lib
   * @modules java.base/jdk.internal.misc
   *          java.management
<span class="udiff-line-modified-removed">-  * @comment Graal does not support CMS</span>
<span class="udiff-line-modified-removed">-  * @requires vm.gc == null &amp; !vm.graal.enabled</span>
<span class="udiff-line-removed">-  * @run main/othervm -XX:+UseConcMarkSweepGC gc.TestMemoryMXBeansAndPoolsPresence CMS</span>
<span class="udiff-line-modified-added">+  * @requires vm.gc.Serial</span>
<span class="udiff-line-modified-added">+  * @run main/othervm -XX:+UseSerialGC gc.TestMemoryMXBeansAndPoolsPresence Serial</span>
   */
  
  class GCBeanDescription {
      public String name;
      public String[] poolNames;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -88,14 +96,10 @@</span>
          switch (args[0]) {
              case &quot;G1&quot;:
                  test(new GCBeanDescription(&quot;G1 Young Generation&quot;, new String[] {&quot;G1 Eden Space&quot;, &quot;G1 Survivor Space&quot;, &quot;G1 Old Gen&quot;}),
                       new GCBeanDescription(&quot;G1 Old Generation&quot;,   new String[] {&quot;G1 Eden Space&quot;, &quot;G1 Survivor Space&quot;, &quot;G1 Old Gen&quot;}));
                  break;
<span class="udiff-line-removed">-             case &quot;CMS&quot;:</span>
<span class="udiff-line-removed">-                 test(new GCBeanDescription(&quot;ParNew&quot;,              new String[] {&quot;Par Eden Space&quot;, &quot;Par Survivor Space&quot;}),</span>
<span class="udiff-line-removed">-                      new GCBeanDescription(&quot;ConcurrentMarkSweep&quot;, new String[] {&quot;Par Eden Space&quot;, &quot;Par Survivor Space&quot;, &quot;CMS Old Gen&quot;}));</span>
<span class="udiff-line-removed">-                 break;</span>
              case &quot;Parallel&quot;:
                  test(new GCBeanDescription(&quot;PS Scavenge&quot;,         new String[] {&quot;PS Eden Space&quot;, &quot;PS Survivor Space&quot;}),
                       new GCBeanDescription(&quot;PS MarkSweep&quot;,        new String[] {&quot;PS Eden Space&quot;, &quot;PS Survivor Space&quot;, &quot;PS Old Gen&quot;}));
                  break;
              case &quot;Serial&quot;:
</pre>
<center><a href="TestHumongousReferenceObject.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="TestNumWorkerOutput.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>