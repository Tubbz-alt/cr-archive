diff a/test/hotspot/jtreg/testlibrary/ctw/src/sun/hotspot/tools/ctw/CompileTheWorld.java b/test/hotspot/jtreg/testlibrary/ctw/src/sun/hotspot/tools/ctw/CompileTheWorld.java
--- a/test/hotspot/jtreg/testlibrary/ctw/src/sun/hotspot/tools/ctw/CompileTheWorld.java
+++ b/test/hotspot/jtreg/testlibrary/ctw/src/sun/hotspot/tools/ctw/CompileTheWorld.java
@@ -97,13 +97,15 @@
                     System.currentTimeMillis() - start));
             passed = true;
         } catch (Throwable t){
             t.printStackTrace(ERR);
         } finally {
-            try {
-                OUT.close();
-            } catch (Throwable ignore) {
+            if (OUT != System.out) {
+                try {
+                    OUT.close();
+                } catch (Throwable ignore) {
+                }
             }
             // <clinit> might have started new threads
             System.exit(passed ? 0 : 1);
         }
     }
