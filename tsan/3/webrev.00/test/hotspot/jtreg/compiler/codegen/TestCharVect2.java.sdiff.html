<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/hotspot/jtreg/compiler/codegen/TestCharVect2.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../codecache/stress/UnexpectedDeoptimizationTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="aes/TestAESBase.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/compiler/codegen/TestCharVect2.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
   7  * published by the Free Software Foundation.
   8  *
   9  * This code is distributed in the hope that it will be useful, but WITHOUT
  10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  12  * version 2 for more details (a copy is included in the LICENSE file that
  13  * accompanied this code).
  14  *
  15  * You should have received a copy of the GNU General Public License version
  16  * 2 along with this work; if not, write to the Free Software Foundation,
  17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  18  *
  19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  20  * or visit www.oracle.com if you need additional information or have any
  21  * questions.
  22  */
  23 
  24 /**
  25  * @test
  26  * @bug 8001183
<span class="line-modified">  27  * @summary incorrect results of char vectors right shift operaiton</span>
  28  *
  29  * @run main/othervm/timeout=400 -Xbatch -Xmx128m compiler.codegen.TestCharVect2








  30  * @run main/othervm/timeout=400 -Xbatch -Xmx128m -XX:MaxVectorSize=8 compiler.codegen.TestCharVect2
  31  * @run main/othervm/timeout=400 -Xbatch -Xmx128m -XX:MaxVectorSize=16 compiler.codegen.TestCharVect2
  32  * @run main/othervm/timeout=400 -Xbatch -Xmx128m -XX:MaxVectorSize=32 compiler.codegen.TestCharVect2
  33  */
  34 
  35 package compiler.codegen;
  36 
  37 public class TestCharVect2 {
  38   private static final int ARRLEN = 997;
  39   private static final int ITERS  = 11000;
  40   private static final int ADD_INIT = Character.MAX_VALUE-500;
  41   private static final int BIT_MASK = 0xB731;
  42   private static final int VALUE = 7;
  43   private static final int SHIFT = 16;
  44 
  45   public static void main(String args[]) {
  46     System.out.println(&quot;Testing Char vectors&quot;);
  47     int errn = test();
  48     if (errn &gt; 0) {
  49       System.err.println(&quot;FAILED: &quot; + errn + &quot; errors&quot;);
</pre>
</td>
<td>
<hr />
<pre>
   7  * published by the Free Software Foundation.
   8  *
   9  * This code is distributed in the hope that it will be useful, but WITHOUT
  10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  12  * version 2 for more details (a copy is included in the LICENSE file that
  13  * accompanied this code).
  14  *
  15  * You should have received a copy of the GNU General Public License version
  16  * 2 along with this work; if not, write to the Free Software Foundation,
  17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  18  *
  19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  20  * or visit www.oracle.com if you need additional information or have any
  21  * questions.
  22  */
  23 
  24 /**
  25  * @test
  26  * @bug 8001183
<span class="line-modified">  27  * @summary incorrect results of char vectors right shift operation</span>
  28  *
  29  * @run main/othervm/timeout=400 -Xbatch -Xmx128m compiler.codegen.TestCharVect2
<span class="line-added">  30  */</span>
<span class="line-added">  31 </span>
<span class="line-added">  32 /**</span>
<span class="line-added">  33  * @test</span>
<span class="line-added">  34  * @bug 8001183</span>
<span class="line-added">  35  * @summary incorrect results of char vectors right shift operation</span>
<span class="line-added">  36  * @requires vm.compiler2.enabled | vm.graal.enabled</span>
<span class="line-added">  37  *</span>
  38  * @run main/othervm/timeout=400 -Xbatch -Xmx128m -XX:MaxVectorSize=8 compiler.codegen.TestCharVect2
  39  * @run main/othervm/timeout=400 -Xbatch -Xmx128m -XX:MaxVectorSize=16 compiler.codegen.TestCharVect2
  40  * @run main/othervm/timeout=400 -Xbatch -Xmx128m -XX:MaxVectorSize=32 compiler.codegen.TestCharVect2
  41  */
  42 
  43 package compiler.codegen;
  44 
  45 public class TestCharVect2 {
  46   private static final int ARRLEN = 997;
  47   private static final int ITERS  = 11000;
  48   private static final int ADD_INIT = Character.MAX_VALUE-500;
  49   private static final int BIT_MASK = 0xB731;
  50   private static final int VALUE = 7;
  51   private static final int SHIFT = 16;
  52 
  53   public static void main(String args[]) {
  54     System.out.println(&quot;Testing Char vectors&quot;);
  55     int errn = test();
  56     if (errn &gt; 0) {
  57       System.err.println(&quot;FAILED: &quot; + errn + &quot; errors&quot;);
</pre>
</td>
</tr>
</table>
<center><a href="../codecache/stress/UnexpectedDeoptimizationTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="aes/TestAESBase.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>