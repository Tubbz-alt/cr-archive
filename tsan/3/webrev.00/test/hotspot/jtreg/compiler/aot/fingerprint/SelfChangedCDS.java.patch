diff a/test/hotspot/jtreg/compiler/aot/fingerprint/SelfChangedCDS.java b/test/hotspot/jtreg/compiler/aot/fingerprint/SelfChangedCDS.java
--- a/test/hotspot/jtreg/compiler/aot/fingerprint/SelfChangedCDS.java
+++ b/test/hotspot/jtreg/compiler/aot/fingerprint/SelfChangedCDS.java
@@ -1,7 +1,7 @@
 /*
- * Copyright (c) 2016, 2018, Oracle and/or its affiliates. All rights reserved.
+ * Copyright (c) 2016, 2019, Oracle and/or its affiliates. All rights reserved.
  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  *
  * This code is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License version 2 only, as
  * published by the Free Software Foundation.
@@ -25,13 +25,13 @@
  * @test
  * @summary AOT methods should be swept if a super class has changed (with CDS).
  * @library /test/lib /
  * @modules java.base/jdk.internal.misc
  *          java.management
- * @requires vm.aot
+ * @requires vm.aot & vm.cds
  * @build compiler.aot.fingerprint.SelfChanged
- *        compiler.aot.AotCompiler
+ *        sun.hotspot.WhiteBox
  *
  * @run main compiler.aot.fingerprint.SelfChanged WRITE-UNMODIFIED-CLASS
  * @run driver compiler.aot.AotCompiler -libname libSelfChanged.so
  *      -class compiler.aot.fingerprint.Blah
  *
@@ -40,11 +40,12 @@
  *      compiler.aot.fingerprint.Blah
  *
  * @run main compiler.aot.fingerprint.CDSRunner -cp SelfChangedCDS.jar
  *      compiler.aot.fingerprint.Blah TEST-UNMODIFIED
  * @run main compiler.aot.fingerprint.CDSRunner -cp SelfChangedCDS.jar
- *      -XX:+UseAOT -XX:+PrintAOT -XX:AOTLibrary=./libSelfChanged.so
+ *      -XX:+UnlockExperimentalVMOptions -XX:+UseAOT -XX:+PrintAOT
+ *      -XX:AOTLibrary=./libSelfChanged.so
  *      -XX:SharedArchiveFile=SelfChangedCDS.jsa
  *      -XX:+IgnoreUnrecognizedVMOptions
  *      -Xshare:auto -showversion
  *      -Xlog:cds -Xlog:gc+heap+coops
  *      -Xlog:aot+class+fingerprint=trace -Xlog:aot+class+load=trace
@@ -56,11 +57,12 @@
  *      -class compiler.aot.fingerprint.Blah
  *
  * @run main compiler.aot.fingerprint.CDSRunner -cp SelfChangedCDS.jar
  *      compiler.aot.fingerprint.Blah TEST-MODIFIED
  * @run main compiler.aot.fingerprint.CDSRunner -cp SelfChangedCDS.jar
- *      -XX:+UseAOT -XX:+PrintAOT -XX:AOTLibrary=./libSelfChanged.so
+ *      -XX:+UnlockExperimentalVMOptions -XX:+UseAOT -XX:+PrintAOT
+ *      -XX:AOTLibrary=./libSelfChanged.so
  *      -XX:SharedArchiveFile=SelfChangedCDS.jsa
  *      -XX:+IgnoreUnrecognizedVMOptions
  *      -Xshare:auto -showversion
  *      -Xlog:cds -Xlog:gc+heap+coops
  *      -Xlog:aot+class+fingerprint=trace -Xlog:aot+class+load=trace
@@ -75,11 +77,12 @@
  *      compiler.aot.fingerprint.Blah
  *
  * @run main compiler.aot.fingerprint.CDSRunner -Xmx512m -cp SelfChangedCDS.jar
  *      compiler.aot.fingerprint.Blah TEST-UNMODIFIED
  * @run main compiler.aot.fingerprint.CDSRunner -Xmx512m -cp SelfChangedCDS.jar
- *      -XX:+UseAOT -XX:+PrintAOT -XX:AOTLibrary=./libSelfChanged.so
+ *      -XX:+UnlockExperimentalVMOptions -XX:+UseAOT -XX:+PrintAOT
+ *      -XX:AOTLibrary=./libSelfChanged.so
  *      -XX:SharedArchiveFile=SelfChangedCDS.jsa
  *      -XX:+IgnoreUnrecognizedVMOptions
  *      -Xshare:auto -showversion
  *      -Xlog:cds -Xlog:gc+heap+coops
  *      -Xlog:aot+class+fingerprint=trace -Xlog:aot+class+load=trace
