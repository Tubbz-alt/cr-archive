<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/hotspot/jtreg/compiler/jvmci/common/CTVMUtilities.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../TestJVMCIPrintProperties.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="patches/jdk.internal.vm.ci/jdk/vm/ci/hotspot/CompilerToVMHelper.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/compiler/jvmci/common/CTVMUtilities.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 30,11 ***</span>
<span class="line-new-header">--- 30,13 ---</span>
  import jdk.internal.org.objectweb.asm.MethodVisitor;
  import jdk.internal.org.objectweb.asm.Opcodes;
  import jdk.internal.org.objectweb.asm.tree.ClassNode;
  import jdk.test.lib.Utils;
  import jdk.vm.ci.code.InstalledCode;
<span class="line-added">+ import jdk.vm.ci.meta.ResolvedJavaMethod;</span>
  import jdk.vm.ci.hotspot.CompilerToVMHelper;
<span class="line-added">+ import jdk.vm.ci.hotspot.HotSpotNmethod;</span>
  import jdk.vm.ci.hotspot.HotSpotResolvedJavaMethod;
  
  import java.io.IOException;
  import java.lang.reflect.Constructor;
  import java.lang.reflect.Executable;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 62,21 ***</span>
      public static HotSpotResolvedJavaMethod getResolvedMethod(
              Executable method) {
          return getResolvedMethod(method.getDeclaringClass(), method);
      }
  
<span class="line-modified">!     public static InstalledCode getInstalledCode(String name, long address,</span>
<span class="line-modified">!             long entryPoint) {</span>
<span class="line-removed">-         return new InstalledCodeStub(name, address, entryPoint);</span>
<span class="line-removed">-     }</span>
<span class="line-removed">-     private static class InstalledCodeStub extends InstalledCode {</span>
<span class="line-removed">-         private InstalledCodeStub(String name, long address, long entryPoint) {</span>
<span class="line-removed">-             super(name);</span>
<span class="line-removed">-             this.address = address;</span>
<span class="line-removed">-             this.entryPoint = entryPoint;</span>
<span class="line-removed">-         }</span>
      }
      public static Map&lt;Integer, Integer&gt; getBciToLineNumber(Executable method) {
          Map&lt;Integer, Integer&gt; lineNumbers = new TreeMap&lt;&gt;();
          Class&lt;?&gt; aClass = method.getDeclaringClass();
          ClassReader cr;
          try {
<span class="line-new-header">--- 64,14 ---</span>
      public static HotSpotResolvedJavaMethod getResolvedMethod(
              Executable method) {
          return getResolvedMethod(method.getDeclaringClass(), method);
      }
  
<span class="line-modified">!     public static InstalledCode getInstalledCode(ResolvedJavaMethod method, String name, long address, long entryPoint) {</span>
<span class="line-modified">!         return CompilerToVMHelper.getInstalledCode(method, name, address, entryPoint);</span>
      }
<span class="line-added">+ </span>
      public static Map&lt;Integer, Integer&gt; getBciToLineNumber(Executable method) {
          Map&lt;Integer, Integer&gt; lineNumbers = new TreeMap&lt;&gt;();
          Class&lt;?&gt; aClass = method.getDeclaringClass();
          ClassReader cr;
          try {
</pre>
<center><a href="../TestJVMCIPrintProperties.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="patches/jdk.internal.vm.ci/jdk/vm/ci/hotspot/CompilerToVMHelper.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>