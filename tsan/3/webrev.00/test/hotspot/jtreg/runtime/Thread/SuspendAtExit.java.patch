diff a/test/hotspot/jtreg/runtime/Thread/SuspendAtExit.java b/test/hotspot/jtreg/runtime/Thread/SuspendAtExit.java
--- a/test/hotspot/jtreg/runtime/Thread/SuspendAtExit.java
+++ b/test/hotspot/jtreg/runtime/Thread/SuspendAtExit.java
@@ -24,10 +24,11 @@
 /**
  * @test
  * @bug 8167108
  * @summary Stress test java.lang.Thread.suspend() at thread exit.
  * @run main/othervm -Xlog:thread+smr=debug SuspendAtExit
+ * @run main/othervm -Xlog:thread+smr=debug -XX:+UnlockDiagnosticVMOptions -XX:GuaranteedSafepointInterval=1 -XX:+HandshakeALot SuspendAtExit
  */
 
 import java.util.concurrent.CountDownLatch;
 
 public class SuspendAtExit extends Thread {
