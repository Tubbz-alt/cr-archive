<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/hotspot/jtreg/runtime/ErrorHandling/ErrorHandler.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="BadNativeStackInErrorHandlingTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="SafeFetchInErrorHandlingTest.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/runtime/ErrorHandling/ErrorHandler.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
49 
50     public static void main(String[] args) throws Exception {
51         // Keep this in sync with hotspot/src/share/vm/utilities/debug.cpp
52         int i = 1;
53         String[] strings = {
54             &quot;assert(str == NULL) failed: expected null&quot;,
55             &quot;assert(num == 1023 &amp;&amp; *str == &#39;X&#39;) failed: num=&quot;,
56             &quot;guarantee(str == NULL) failed: expected null&quot;,
57             &quot;guarantee(num == 1023 &amp;&amp; *str == &#39;X&#39;) failed: num=&quot;,
58             &quot;fatal error: expected null&quot;,
59             &quot;fatal error: num=&quot;,
60             &quot;fatal error: this message should be truncated during formatting&quot;,
61             &quot;ChunkPool::allocate&quot;,
62             &quot;Error: ShouldNotCall()&quot;,
63             &quot;Error: ShouldNotReachHere()&quot;,
64             &quot;Error: Unimplemented()&quot;
65         };
66 
67         String[] patterns = {
68             &quot;(SIGILL|SIGSEGV|EXCEPTION_ACCESS_VIOLATION).* at pc=&quot;,
<span class="line-modified">69             &quot;(SIGBUS|SIGSEGV|SIGILL|EXCEPTION_ACCESS_VIOLATION).* at pc=&quot;</span>
70             // -XX:ErrorHandlerTest=14 is tested by SafeFetchInErrorHandlingTest.java
71             // -XX:ErrorHandlerTest=15 is tested by SecondaryErrorTest.java
72             // -XX:ErrorHandlerTest=16 is tested by ThreadsListHandleInErrorHandlingTest.java
73             // -XX:ErrorHandlerTest=17 is tested by NestedThreadsListHandleInErrorHandlingTest.java
74         };
75 
76         for (String s : strings) {
77             runTest(i++).shouldContain(s);
78         }
79 
80         for (String p : patterns) {
81             runTest(i++).shouldMatch(p);
82         }
83     }
84 }
</pre>
</td>
<td>
<hr />
<pre>
49 
50     public static void main(String[] args) throws Exception {
51         // Keep this in sync with hotspot/src/share/vm/utilities/debug.cpp
52         int i = 1;
53         String[] strings = {
54             &quot;assert(str == NULL) failed: expected null&quot;,
55             &quot;assert(num == 1023 &amp;&amp; *str == &#39;X&#39;) failed: num=&quot;,
56             &quot;guarantee(str == NULL) failed: expected null&quot;,
57             &quot;guarantee(num == 1023 &amp;&amp; *str == &#39;X&#39;) failed: num=&quot;,
58             &quot;fatal error: expected null&quot;,
59             &quot;fatal error: num=&quot;,
60             &quot;fatal error: this message should be truncated during formatting&quot;,
61             &quot;ChunkPool::allocate&quot;,
62             &quot;Error: ShouldNotCall()&quot;,
63             &quot;Error: ShouldNotReachHere()&quot;,
64             &quot;Error: Unimplemented()&quot;
65         };
66 
67         String[] patterns = {
68             &quot;(SIGILL|SIGSEGV|EXCEPTION_ACCESS_VIOLATION).* at pc=&quot;,
<span class="line-modified">69             // -XX:ErrorHandlerTest=13 is too unreliable. It sometimes fails to crash in the expected way.</span>
70             // -XX:ErrorHandlerTest=14 is tested by SafeFetchInErrorHandlingTest.java
71             // -XX:ErrorHandlerTest=15 is tested by SecondaryErrorTest.java
72             // -XX:ErrorHandlerTest=16 is tested by ThreadsListHandleInErrorHandlingTest.java
73             // -XX:ErrorHandlerTest=17 is tested by NestedThreadsListHandleInErrorHandlingTest.java
74         };
75 
76         for (String s : strings) {
77             runTest(i++).shouldContain(s);
78         }
79 
80         for (String p : patterns) {
81             runTest(i++).shouldMatch(p);
82         }
83     }
84 }
</pre>
</td>
</tr>
</table>
<center><a href="BadNativeStackInErrorHandlingTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="SafeFetchInErrorHandlingTest.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>