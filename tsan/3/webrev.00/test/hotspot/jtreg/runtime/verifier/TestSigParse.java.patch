diff a/test/hotspot/jtreg/runtime/verifier/TestSigParse.java b/test/hotspot/jtreg/runtime/verifier/TestSigParse.java
--- a/test/hotspot/jtreg/runtime/verifier/TestSigParse.java
+++ b/test/hotspot/jtreg/runtime/verifier/TestSigParse.java
@@ -25,11 +25,11 @@
  * @test
  * @bug 8129579
  * @summary Test that signatures are properly parsed when verification of local
  *          classes is requested but verification of remote classes is not.
  * @compile BadSignatures.jcod
- * @run main/othervm -XX:+BytecodeVerificationLocal -XX:-BytecodeVerificationRemote TestSigParse
+ * @run main/othervm -XX:+UnlockDiagnosticVMOptions -XX:+BytecodeVerificationLocal -XX:-BytecodeVerificationRemote TestSigParse
  */
 
 public class TestSigParse {
 
     public static void main(String args[]) throws Throwable {
@@ -61,11 +61,11 @@
         try {
             Class newClass = Class.forName("BadMethodSig");
             throw new RuntimeException("Expected ClasFormatError exception not thrown");
         } catch (java.lang.ClassFormatError e) {
             String eMsg = e.getMessage();
-            if (!eMsg.contains("Class name contains illegal character")) {
+            if (!eMsg.contains("Class name is empty or contains illegal character")) {
                 throw new RuntimeException("Unexpected exception: " + eMsg);
             }
         }
     }
 
