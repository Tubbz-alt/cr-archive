diff a/test/jdk/java/awt/FileDialog/FilenameFilterTest/FilenameFilterTest.java b/test/jdk/java/awt/FileDialog/FilenameFilterTest/FilenameFilterTest.java
--- a/test/jdk/java/awt/FileDialog/FilenameFilterTest/FilenameFilterTest.java
+++ b/test/jdk/java/awt/FileDialog/FilenameFilterTest/FilenameFilterTest.java
@@ -1,7 +1,7 @@
 /*
- * Copyright (c) 2006, 2010, Oracle and/or its affiliates. All rights reserved.
+ * Copyright (c) 2006, 2018, Oracle and/or its affiliates. All rights reserved.
  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  *
  * This code is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License version 2 only, as
  * published by the Free Software Foundation.
@@ -20,53 +20,32 @@
  * or visit www.oracle.com if you need additional information or have any
  * questions.
  */
 
 /*
-  test
+  @test
+  @key headful
   @bug 6448069
   @summary namefilter is not called for file dialog on windows
-  @author oleg.sukhodolsky: area= awt.filedialog
-  @run applet FilenameFilterTest.html
+  @library ../../regtesthelpers
+  @build Util
+  @run main FilenameFilterTest
 */
 
-/**
- * FilenameFilterTest.java
- *
- * summary: namefilter is not called for file dialog on windows
- */
-
-import java.applet.Applet;
 import java.awt.*;
 
 import java.io.File;
 import java.io.FilenameFilter;
 
 import test.java.awt.regtesthelpers.Util;
 
-public class FilenameFilterTest extends Applet
-{
-    //Declare things used in the test, like buttons and labels here
-    volatile boolean filter_was_called = false;
-    FileDialog fd;
-
-    public void init()
-    {
-        // Set up the environment -- set the layout manager, add
-        // buttons, etc.
+public class FilenameFilterTest {
 
-        setLayout (new BorderLayout ());
-
-    }//End  init()
-
-    public void start ()
-    {
-        //Get things going.  Request focus, set size, et cetera
-        setSize (200,200);
-        setVisible(true);
-        validate();
+    static volatile boolean filter_was_called = false;
+    static FileDialog fd;
 
+    public static void main(final String[] args) {
         EventQueue.invokeLater(new Runnable() {
                 public void run() {
                     fd = new FileDialog(new Frame(""), "hello world", FileDialog.LOAD);
                     fd.setFilenameFilter(new FilenameFilter() {
                             public boolean accept(File dir, String name) {
@@ -91,8 +70,7 @@
         }
         fd.dispose();
         if (!filter_was_called) {
             throw new RuntimeException("Filter was not called");
         }
-    }// start()
-
+    }
 }// class FilenameFilterTest
