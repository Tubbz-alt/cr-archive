<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/java/awt/Toolkit/RealSync/Test.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../LockingKeyStateTest/LockingKeyStateTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../Window/AlwaysOnTop/AutoTestOnTop.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/java/awt/Toolkit/RealSync/Test.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2005, 2015, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
</pre>
<hr />
<pre>
202 
203     public static void testType() {
204         Frame f = new Frame(&quot;testType&quot;);
205         f.setLayout(new BorderLayout());
206         TextField b = new TextField();
207         f.add(b, BorderLayout.CENTER);
208         f.setBounds(100, 100, 200, 200);
209 
210         f.setVisible(true);
211         realSync(f);
212 
213         f.toFront();
214         realSync(f);
215         b.requestFocus();
216         realSync(f);
217         asser(b.isFocusOwner(), &quot;Couldn&#39;t focus text field&quot;);
218 
219         robot.keyPress(KeyEvent.VK_A);
220         robot.keyRelease(KeyEvent.VK_A);
221         realSync(f);
<span class="line-modified">222         asser(&quot;a&quot;.equals(b.getText()), &quot;Wrong text: &quot; + b.getText());</span>

223         f.dispose();
224     }
225 
226     public static void testTypeSwing() {
227         JFrame f = new JFrame(&quot;testTypeSwing&quot;);
228         f.setLayout(new BorderLayout());
229         JTextField b = new JTextField();
230         f.add(b, BorderLayout.CENTER);
231         f.setBounds(100, 100, 200, 200);
232 
233         f.setVisible(true);
234         realSync(f);
235 
236         f.toFront();
237         realSync(f);
238         b.requestFocus();
239         realSync(f);
240         asser(b.isFocusOwner(), &quot;Couldn&#39;t focus text field&quot;);
241 
242         robot.keyPress(KeyEvent.VK_A);
243         robot.keyRelease(KeyEvent.VK_A);
244         realSync(f);
<span class="line-modified">245         asser(&quot;a&quot;.equals(b.getText()), &quot;Wrong text: &quot; + b.getText());</span>

246         f.dispose();
247     }
248 
249     private static boolean pressed;
250     public static void testPress() {
251         Frame f = new Frame(&quot;testPress&quot;);
252         f.setLayout(new FlowLayout());
253         Button b = new Button(&quot;b&quot;);
254         b.addActionListener(new ActionListener() {
255                 public void actionPerformed(ActionEvent e) {
256                     pressed = true;
257                 }
258             });
259         f.add(b);
260         f.setBounds(100, 100, 200, 200);
261 
262         f.setVisible(true);
263         realSync(f);
264 
265         Point loc = b.getLocationOnScreen();
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2005, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
</pre>
<hr />
<pre>
202 
203     public static void testType() {
204         Frame f = new Frame(&quot;testType&quot;);
205         f.setLayout(new BorderLayout());
206         TextField b = new TextField();
207         f.add(b, BorderLayout.CENTER);
208         f.setBounds(100, 100, 200, 200);
209 
210         f.setVisible(true);
211         realSync(f);
212 
213         f.toFront();
214         realSync(f);
215         b.requestFocus();
216         realSync(f);
217         asser(b.isFocusOwner(), &quot;Couldn&#39;t focus text field&quot;);
218 
219         robot.keyPress(KeyEvent.VK_A);
220         robot.keyRelease(KeyEvent.VK_A);
221         realSync(f);
<span class="line-modified">222         asser(&quot;a&quot;.equals(b.getText()), &quot;Expected &#39;a&#39; got &quot; + &quot;&#39;&quot; +</span>
<span class="line-added">223             b.getText() + &quot;&#39;.&quot;);</span>
224         f.dispose();
225     }
226 
227     public static void testTypeSwing() {
228         JFrame f = new JFrame(&quot;testTypeSwing&quot;);
229         f.setLayout(new BorderLayout());
230         JTextField b = new JTextField();
231         f.add(b, BorderLayout.CENTER);
232         f.setBounds(100, 100, 200, 200);
233 
234         f.setVisible(true);
235         realSync(f);
236 
237         f.toFront();
238         realSync(f);
239         b.requestFocus();
240         realSync(f);
241         asser(b.isFocusOwner(), &quot;Couldn&#39;t focus text field&quot;);
242 
243         robot.keyPress(KeyEvent.VK_A);
244         robot.keyRelease(KeyEvent.VK_A);
245         realSync(f);
<span class="line-modified">246         asser(&quot;a&quot;.equals(b.getText()), &quot;Expected &#39;a&#39; got &quot; + &quot;&#39;&quot; +</span>
<span class="line-added">247             b.getText() + &quot;&#39;.&quot;);</span>
248         f.dispose();
249     }
250 
251     private static boolean pressed;
252     public static void testPress() {
253         Frame f = new Frame(&quot;testPress&quot;);
254         f.setLayout(new FlowLayout());
255         Button b = new Button(&quot;b&quot;);
256         b.addActionListener(new ActionListener() {
257                 public void actionPerformed(ActionEvent e) {
258                     pressed = true;
259                 }
260             });
261         f.add(b);
262         f.setBounds(100, 100, 200, 200);
263 
264         f.setVisible(true);
265         realSync(f);
266 
267         Point loc = b.getLocationOnScreen();
</pre>
</td>
</tr>
</table>
<center><a href="../LockingKeyStateTest/LockingKeyStateTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../Window/AlwaysOnTop/AutoTestOnTop.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>