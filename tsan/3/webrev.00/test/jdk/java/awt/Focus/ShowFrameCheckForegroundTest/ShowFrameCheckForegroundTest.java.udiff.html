<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff test/jdk/java/awt/Focus/ShowFrameCheckForegroundTest/ShowFrameCheckForegroundTest.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../RestoreFocusOnDisabledComponentTest/RestoreFocusOnDisabledComponentTest.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../ToFrontFocusTest/ToFrontFocus.java.udiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/java/awt/Focus/ShowFrameCheckForegroundTest/ShowFrameCheckForegroundTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -26,22 +26,18 @@</span>
    @key headful
    @bug       6492970
    @summary   Tests that showing a toplvel in a not foreground Java process activates it.
    @library   ../../regtesthelpers
    @build     Util
<span class="udiff-line-removed">-   @author    Anton Tarasov: area=awt-focus</span>
    @run       main ShowFrameCheckForegroundTest
   */
  
  import java.awt.*;
  import java.awt.event.*;
<span class="udiff-line-removed">- import java.applet.Applet;</span>
<span class="udiff-line-removed">- import java.util.concurrent.atomic.AtomicBoolean;</span>
<span class="udiff-line-removed">- import java.lang.reflect.InvocationTargetException;</span>
  import test.java.awt.regtesthelpers.Util;
  
<span class="udiff-line-modified-removed">- public class ShowFrameCheckForegroundTest extends Applet {</span>
<span class="udiff-line-modified-added">+ public class ShowFrameCheckForegroundTest {</span>
      Robot robot;
      Frame nofocusFrame = new Frame(&quot;Non-focusable&quot;);
      Frame frame = new Frame(&quot;Frame&quot;);
      Dialog dialog1 = new Dialog(nofocusFrame, &quot;Owned Dialog&quot;, false);
      Dialog dialog2 = new Dialog((Frame)null, &quot;Owned Dialog&quot;, false);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -68,16 +64,17 @@</span>
      }
  
      public void start() {
          showButton.addActionListener(new ActionListener() {
              public void actionPerformed(ActionEvent e) {
<span class="udiff-line-modified-removed">-                 testToplevel.setVisible(true);</span>
<span class="udiff-line-modified-added">+                 Util.showWindowWait(testToplevel);</span>
              }
          });
          nofocusFrame.add(showButton);
          nofocusFrame.pack();
          nofocusFrame.setFocusableWindowState(false);
<span class="udiff-line-added">+         nofocusFrame.setLocation(200, 200);</span>
          nofocusFrame.setVisible(true);
          Util.waitForIdle(robot);
  
          robot.delay(3000);
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -95,18 +92,20 @@</span>
      }
  
      private void test(Window toplevel, int stage) {
          toplevel.add(testButton);
          toplevel.pack();
<span class="udiff-line-modified-removed">-         toplevel.setLocation(200, 0);</span>
<span class="udiff-line-modified-added">+         toplevel.setLocation(400, 200);</span>
  
          switch (stage) {
              case 1:
<span class="udiff-line-modified-removed">-                 toplevel.setVisible(true);</span>
<span class="udiff-line-modified-added">+                 Util.showWindowWait(toplevel);</span>
                  break;
              case 2:
                  testToplevel = toplevel;
<span class="udiff-line-added">+                 Util.showWindowWait(nofocusFrame);</span>
<span class="udiff-line-added">+                 Util.waitForIdle(robot);</span>
                  Util.clickOnComp(showButton, robot);
                  break;
          }
          Util.waitForIdle(robot);
  
</pre>
<center><a href="../RestoreFocusOnDisabledComponentTest/RestoreFocusOnDisabledComponentTest.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../ToFrontFocusTest/ToFrontFocus.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>