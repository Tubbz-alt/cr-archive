<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/jdk/java/util/regex/GraphemeTest.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../logging/TestConfigurationListeners.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="RegExTest.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/java/util/regex/GraphemeTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 2016, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 2016, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 21,12 ***</span>
   * questions.
   */
  
  /*
   * @test
<span class="line-modified">!  * @bug 7071819</span>
   * @summary tests Unicode Extended Grapheme support
   * @run main GraphemeTest
   */
  
  import java.io.IOException;
  import java.nio.file.Files;
<span class="line-new-header">--- 21,13 ---</span>
   * questions.
   */
  
  /*
   * @test
<span class="line-modified">!  * @bug 7071819 8221431</span>
   * @summary tests Unicode Extended Grapheme support
<span class="line-added">+  * @library /lib/testlibrary/java/lang</span>
   * @run main GraphemeTest
   */
  
  import java.io.IOException;
  import java.nio.file.Files;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 39,19 ***</span>
  import java.util.regex.Matcher;
  
  public class GraphemeTest {
  
      public static void main(String[] args) throws Throwable {
<span class="line-modified">!         testProps(Paths.get(System.getProperty(&quot;test.src&quot;, &quot;.&quot;),</span>
<span class="line-modified">!                             &quot;GraphemeBreakProperty.txt&quot;));</span>
<span class="line-removed">-         testBreak(Paths.get(System.getProperty(&quot;test.src&quot;, &quot;.&quot;),</span>
<span class="line-removed">-                             &quot;GraphemeBreakTest.txt&quot;));</span>
      }
  
      private static void testProps(Path path) throws IOException {
          Files.lines(path)
<span class="line-modified">!             .filter( ln -&gt; ln.length() != 0 &amp;&amp; !ln.startsWith(&quot;#&quot;) )</span>
              .forEach(ln -&gt; {
                      String[] strs = ln.split(&quot;\\s+&quot;);
                      int off = strs[0].indexOf(&quot;..&quot;);
                      int cp0, cp1;
                      String expected = strs[2];
<span class="line-new-header">--- 40,18 ---</span>
  import java.util.regex.Matcher;
  
  public class GraphemeTest {
  
      public static void main(String[] args) throws Throwable {
<span class="line-modified">!         testProps(UCDFiles.GRAPHEME_BREAK_PROPERTY);</span>
<span class="line-modified">!         testProps(UCDFiles.EMOJI_DATA);</span>
      }
  
      private static void testProps(Path path) throws IOException {
          Files.lines(path)
<span class="line-modified">!             .map( ln -&gt; ln.replaceFirst(&quot;#.*&quot;, &quot;&quot;) )</span>
<span class="line-added">+             .filter( ln -&gt; ln.length() != 0 )</span>
              .forEach(ln -&gt; {
                      String[] strs = ln.split(&quot;\\s+&quot;);
                      int off = strs[0].indexOf(&quot;..&quot;);
                      int cp0, cp1;
                      String expected = strs[2];
</pre>
<hr />
<pre>
<span class="line-old-header">*** 60,10 ***</span>
<span class="line-new-header">--- 60,15 ---</span>
                          cp1 = Integer.parseInt(strs[0], off + 2, strs[0].length(), 16);
                      } else {
                          cp0 = cp1 = Integer.parseInt(strs[0], 16);
                      }
                      for (int cp = cp0; cp &lt;=  cp1; cp++) {
<span class="line-added">+                         // Ignore Emoji* for now (only interested in Extended_Pictographic)</span>
<span class="line-added">+                         if (expected.startsWith(&quot;Emoji&quot;)) {</span>
<span class="line-added">+                             continue;</span>
<span class="line-added">+                         }</span>
<span class="line-added">+ </span>
                          // NOTE:
                          // #tr29 &quot;plus a few General_Category = Spacing_Mark needed for
                          // canonical equivalence.&quot;
                          // For &quot;extended grapheme clusters&quot; support, there is no
                          // need actually to diff &quot;extend&quot; and &quot;spackmark&quot; given GB9, GB9a.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 79,72 ***</span>
                          }
                      }
                  });
      }
  
<span class="line-removed">-     private static void testBreak(Path path) throws IOException {</span>
<span class="line-removed">-         Files.lines(path)</span>
<span class="line-removed">-             .filter( ln -&gt; ln.length() != 0 &amp;&amp; !ln.startsWith(&quot;#&quot;) )</span>
<span class="line-removed">-             .forEach(ln -&gt; {</span>
<span class="line-removed">-                     String str = ln.replaceAll(&quot;\\s+|\\([a-zA-Z]+\\)|\\[[a-zA-Z]]+\\]|#.*&quot;, &quot;&quot;);</span>
<span class="line-removed">-                     // System.out.println(str);</span>
<span class="line-removed">-                     String[] cstrs = str.split(&quot;\u00f7|\u00d7&quot;);</span>
<span class="line-removed">-                     int prevCp = -1;</span>
<span class="line-removed">-                     char prevBk = &#39;\u00f7&#39;;</span>
<span class="line-removed">-                     int offBk = 0;</span>
<span class="line-removed">-                     for (String cstr : cstrs) {</span>
<span class="line-removed">-                         if (cstr.length() == 0)  // first empty str</span>
<span class="line-removed">-                             continue;</span>
<span class="line-removed">-                         int cp = Integer.parseInt(cstr, 16);</span>
<span class="line-removed">-                         if (prevCp == -1) {</span>
<span class="line-removed">-                             prevCp = cp;</span>
<span class="line-removed">-                         } else {</span>
<span class="line-removed">-                             // test against the rules directly</span>
<span class="line-removed">-                             if (rules[getType(prevCp)][getType(cp)] != (prevBk == &#39;\u00f7&#39;)) {</span>
<span class="line-removed">-                                 throw new RuntimeException(String.format(</span>
<span class="line-removed">-                                     &quot;NG %x[%d] %x[%d] -&gt; %b  [%s]%n&quot;,</span>
<span class="line-removed">-                                     prevCp, getType(prevCp), cp, getType(cp),</span>
<span class="line-removed">-                                     rules[getType(prevCp)][getType(cp)],</span>
<span class="line-removed">-                                     ln));</span>
<span class="line-removed">-                             }</span>
<span class="line-removed">-                         }</span>
<span class="line-removed">-                         prevCp = cp;</span>
<span class="line-removed">-                         offBk += (cstr.length() + 1);</span>
<span class="line-removed">-                         prevBk = str.charAt(offBk);</span>
<span class="line-removed">-                     }</span>
<span class="line-removed">-                 });</span>
<span class="line-removed">-     }</span>
<span class="line-removed">- </span>
      private static final String[] types = {
<span class="line-modified">!         &quot;Other&quot;, &quot;CR&quot;, &quot;LF&quot;, &quot;Control&quot;, &quot;Extend&quot;, &quot;Regional_Indicator&quot;,</span>
          &quot;Prepend&quot;, &quot;SpacingMark&quot;,
<span class="line-modified">!         &quot;L&quot;, &quot;V&quot;, &quot;T&quot;, &quot;LV&quot;, &quot;LVT&quot; };</span>
  
      ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
  
      // types
      private static final int OTHER = 0;
      private static final int CR = 1;
      private static final int LF = 2;
      private static final int CONTROL = 3;
      private static final int EXTEND = 4;
<span class="line-modified">!     private static final int RI = 5;</span>
<span class="line-modified">!     private static final int PREPEND = 6;</span>
<span class="line-modified">!     private static final int SPACINGMARK = 7;</span>
<span class="line-modified">!     private static final int L = 8;</span>
<span class="line-modified">!     private static final int V = 9;</span>
<span class="line-modified">!     private static final int T = 10;</span>
<span class="line-modified">!     private static final int LV = 11;</span>
<span class="line-modified">!     private static final int LVT = 12;</span>
  
      private static final int FIRST_TYPE = 0;
<span class="line-modified">!     private static final int LAST_TYPE = 12;</span>
  
      private static boolean[][] rules;
      static {
          rules = new boolean[LAST_TYPE + 1][LAST_TYPE + 1];
<span class="line-modified">!         // default, any + any</span>
          for (int i = FIRST_TYPE; i &lt;= LAST_TYPE; i++)
              for (int j = FIRST_TYPE; j &lt;= LAST_TYPE; j++)
                  rules[i][j] = true;
          // GB 6 L x (L | V | LV | VT)
          rules[L][L] = false;
<span class="line-new-header">--- 84,43 ---</span>
                          }
                      }
                  });
      }
  
      private static final String[] types = {
<span class="line-modified">!         &quot;Other&quot;, &quot;CR&quot;, &quot;LF&quot;, &quot;Control&quot;, &quot;Extend&quot;, &quot;ZWJ&quot;, &quot;Regional_Indicator&quot;,</span>
          &quot;Prepend&quot;, &quot;SpacingMark&quot;,
<span class="line-modified">!         &quot;L&quot;, &quot;V&quot;, &quot;T&quot;, &quot;LV&quot;, &quot;LVT&quot;,</span>
<span class="line-added">+         &quot;Extended_Pictographic&quot; };</span>
  
      ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
  
<span class="line-added">+     // from java.util.regex.Grapheme.java</span>
      // types
      private static final int OTHER = 0;
      private static final int CR = 1;
      private static final int LF = 2;
      private static final int CONTROL = 3;
      private static final int EXTEND = 4;
<span class="line-modified">!     private static final int ZWJ = 5;</span>
<span class="line-modified">!     private static final int RI = 6;</span>
<span class="line-modified">!     private static final int PREPEND = 7;</span>
<span class="line-modified">!     private static final int SPACINGMARK = 8;</span>
<span class="line-modified">!     private static final int L = 9;</span>
<span class="line-modified">!     private static final int V = 10;</span>
<span class="line-modified">!     private static final int T = 11;</span>
<span class="line-modified">!     private static final int LV = 12;</span>
<span class="line-added">+     private static final int LVT = 13;</span>
<span class="line-added">+     private static final int EXTENDED_PICTOGRAPHIC = 14;</span>
  
      private static final int FIRST_TYPE = 0;
<span class="line-modified">!     private static final int LAST_TYPE = 14;</span>
  
      private static boolean[][] rules;
      static {
          rules = new boolean[LAST_TYPE + 1][LAST_TYPE + 1];
<span class="line-modified">!         // GB 999 Any + Any  -&gt; default</span>
          for (int i = FIRST_TYPE; i &lt;= LAST_TYPE; i++)
              for (int j = FIRST_TYPE; j &lt;= LAST_TYPE; j++)
                  rules[i][j] = true;
          // GB 6 L x (L | V | LV | VT)
          rules[L][L] = false;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 157,17 ***</span>
          rules[V][V] = false;
          rules[V][T] = false;
          // GB 8 (LVT | T) x T
          rules[LVT][T] = false;
          rules[T][T] = false;
<span class="line-modified">!         // GB 8a RI x RI</span>
<span class="line-removed">-         rules[RI][RI] = false;</span>
<span class="line-removed">-         // GB 9 x Extend</span>
          // GB 9a x Spacing Mark
          // GB 9b Prepend x
          for (int i = FIRST_TYPE; i &lt;= LAST_TYPE; i++) {
              rules[i][EXTEND] = false;
              rules[i][SPACINGMARK] = false;
              rules[PREPEND][i] = false;
          }
          // GB 4  (Control | CR | LF) +
          // GB 5  + (Control | CR | LF)
<span class="line-new-header">--- 133,16 ---</span>
          rules[V][V] = false;
          rules[V][T] = false;
          // GB 8 (LVT | T) x T
          rules[LVT][T] = false;
          rules[T][T] = false;
<span class="line-modified">!         // GB 9 x (Extend|ZWJ)</span>
          // GB 9a x Spacing Mark
          // GB 9b Prepend x
          for (int i = FIRST_TYPE; i &lt;= LAST_TYPE; i++) {
              rules[i][EXTEND] = false;
<span class="line-added">+             rules[i][ZWJ] = false;</span>
              rules[i][SPACINGMARK] = false;
              rules[PREPEND][i] = false;
          }
          // GB 4  (Control | CR | LF) +
          // GB 5  + (Control | CR | LF)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 176,11 ***</span>
                  rules[i][j] = true;
                  rules[j][i] = true;
              }
          // GB 3 CR x LF
          rules[CR][LF] = false;
<span class="line-modified">!         // GB 10 Any + Any  -&gt; default</span>
      }
  
      // Hangul syllables
      private static final int SYLLABLE_BASE = 0xAC00;
      private static final int LCOUNT = 19;
<span class="line-new-header">--- 151,13 ---</span>
                  rules[i][j] = true;
                  rules[j][i] = true;
              }
          // GB 3 CR x LF
          rules[CR][LF] = false;
<span class="line-modified">!         // GB 11 Exended_Pictographic x (Extend|ZWJ)</span>
<span class="line-added">+         rules[EXTENDED_PICTOGRAPHIC][EXTEND] = false;</span>
<span class="line-added">+         rules[EXTENDED_PICTOGRAPHIC][ZWJ] = false;</span>
      }
  
      // Hangul syllables
      private static final int SYLLABLE_BASE = 0xAC00;
      private static final int LCOUNT = 19;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 202,41 ***</span>
                 cp &gt;= 0x109A &amp;&amp; cp &lt;= 0x109C ||
                 cp == 0x1A61 || cp == 0x1A63 || cp == 0x1A64 ||
                 cp == 0xAA7B || cp == 0xAA7D;
      }
  
      private static int getType(int cp) {
          int type = Character.getType(cp);
          switch(type) {
          case Character.CONTROL:
              if (cp == 0x000D)
                  return CR;
              if (cp == 0x000A)
                  return LF;
              return CONTROL;
<span class="line-modified">!          case Character.UNASSIGNED:</span>
              // NOTE: #tr29 lists &quot;Unassigned and Default_Ignorable_Code_Point&quot; as Control
              // but GraphemeBreakTest.txt lists u+0378/reserved-0378 as &quot;Other&quot;
              // so type it as &quot;Other&quot; to make the test happy
<span class="line-modified">!              if (cp == 0x0378)</span>
<span class="line-modified">!                  return OTHER;</span>
          case Character.LINE_SEPARATOR:
          case Character.PARAGRAPH_SEPARATOR:
          case Character.SURROGATE:
              return CONTROL;
          case Character.FORMAT:
<span class="line-modified">!             if (cp == 0x200C || cp == 0x200D)</span>
                  return EXTEND;
              return CONTROL;
          case Character.NON_SPACING_MARK:
          case Character.ENCLOSING_MARK:
<span class="line-modified">!              // NOTE:</span>
<span class="line-modified">!              // #tr29 &quot;plus a few General_Category = Spacing_Mark needed for</span>
<span class="line-modified">!              // canonical equivalence.&quot;</span>
<span class="line-modified">!              // but for &quot;extended grapheme clusters&quot; support, there is no</span>
<span class="line-modified">!              // need actually to diff &quot;extend&quot; and &quot;spackmark&quot; given GB9, GB9a</span>
<span class="line-modified">!              return EXTEND;</span>
          case  Character.COMBINING_SPACING_MARK:
              if (isExcludedSpacingMark(cp))
                  return OTHER;
              // NOTE:
              // 0x11720 and 0x11721 are mentioned in #tr29 as
<span class="line-new-header">--- 179,54 ---</span>
                 cp &gt;= 0x109A &amp;&amp; cp &lt;= 0x109C ||
                 cp == 0x1A61 || cp == 0x1A63 || cp == 0x1A64 ||
                 cp == 0xAA7B || cp == 0xAA7D;
      }
  
<span class="line-added">+     @SuppressWarnings(&quot;fallthrough&quot;)</span>
      private static int getType(int cp) {
<span class="line-added">+         if (isExtendedPictographic(cp)) {</span>
<span class="line-added">+             return EXTENDED_PICTOGRAPHIC;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
          int type = Character.getType(cp);
          switch(type) {
          case Character.CONTROL:
              if (cp == 0x000D)
                  return CR;
              if (cp == 0x000A)
                  return LF;
              return CONTROL;
<span class="line-modified">!         case Character.UNASSIGNED:</span>
              // NOTE: #tr29 lists &quot;Unassigned and Default_Ignorable_Code_Point&quot; as Control
              // but GraphemeBreakTest.txt lists u+0378/reserved-0378 as &quot;Other&quot;
              // so type it as &quot;Other&quot; to make the test happy
<span class="line-modified">!             if (cp == 0x0378)</span>
<span class="line-modified">!                 return OTHER;</span>
<span class="line-added">+ </span>
          case Character.LINE_SEPARATOR:
          case Character.PARAGRAPH_SEPARATOR:
          case Character.SURROGATE:
              return CONTROL;
          case Character.FORMAT:
<span class="line-modified">!             if (cp == 0x200C ||</span>
<span class="line-added">+                 cp &gt;= 0xE0020 &amp;&amp; cp &lt;= 0xE007F)</span>
                  return EXTEND;
<span class="line-added">+             if (cp == 0x200D)</span>
<span class="line-added">+                 return ZWJ;</span>
<span class="line-added">+             if (cp &gt;= 0x0600 &amp;&amp; cp &lt;= 0x0605 ||</span>
<span class="line-added">+                 cp == 0x06DD || cp == 0x070F || cp == 0x08E2 ||</span>
<span class="line-added">+                 cp == 0x110BD || cp == 0x110CD)</span>
<span class="line-added">+                 return PREPEND;</span>
              return CONTROL;
          case Character.NON_SPACING_MARK:
          case Character.ENCLOSING_MARK:
<span class="line-modified">!             // NOTE:</span>
<span class="line-modified">!             // #tr29 &quot;plus a few General_Category = Spacing_Mark needed for</span>
<span class="line-modified">!             // canonical equivalence.&quot;</span>
<span class="line-modified">!             // but for &quot;extended grapheme clusters&quot; support, there is no</span>
<span class="line-modified">!             // need actually to diff &quot;extend&quot; and &quot;spackmark&quot; given GB9, GB9a</span>
<span class="line-modified">!             return EXTEND;</span>
          case  Character.COMBINING_SPACING_MARK:
              if (isExcludedSpacingMark(cp))
                  return OTHER;
              // NOTE:
              // 0x11720 and 0x11721 are mentioned in #tr29 as
</pre>
<hr />
<pre>
<span class="line-old-header">*** 246,13 ***</span>
          case Character.OTHER_SYMBOL:
              if (cp &gt;= 0x1F1E6 &amp;&amp; cp &lt;= 0x1F1FF)
                  return RI;
              return OTHER;
          case Character.MODIFIER_LETTER:
              // WARNING:
              // not mentioned in #tr29 but listed in GraphemeBreakProperty.txt
<span class="line-modified">!             if (cp == 0xFF9E || cp == 0xFF9F)</span>
                  return EXTEND;
              return OTHER;
          case Character.OTHER_LETTER:
              if (cp == 0x0E33 || cp == 0x0EB3)
                  return SPACINGMARK;
<span class="line-new-header">--- 236,15 ---</span>
          case Character.OTHER_SYMBOL:
              if (cp &gt;= 0x1F1E6 &amp;&amp; cp &lt;= 0x1F1FF)
                  return RI;
              return OTHER;
          case Character.MODIFIER_LETTER:
<span class="line-added">+         case Character.MODIFIER_SYMBOL:</span>
              // WARNING:
              // not mentioned in #tr29 but listed in GraphemeBreakProperty.txt
<span class="line-modified">!             if (cp == 0xFF9E || cp == 0xFF9F ||</span>
<span class="line-added">+                 cp &gt;= 0x1F3FB &amp;&amp; cp &lt;= 0x1F3FF)</span>
                  return EXTEND;
              return OTHER;
          case Character.OTHER_LETTER:
              if (cp == 0x0E33 || cp == 0x0EB3)
                  return SPACINGMARK;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 278,9 ***</span>
<span class="line-new-header">--- 270,115 ---</span>
              //  hangul jamo_extended B
              if (cp &gt;= 0xD7B0 &amp;&amp; cp &lt;= 0xD7C6)
                  return V;
              if (cp &gt;= 0xD7CB &amp;&amp; cp &lt;= 0xD7FB)
                  return T;
<span class="line-added">+ </span>
<span class="line-added">+             // Prepend</span>
<span class="line-added">+             switch (cp) {</span>
<span class="line-added">+                 case 0x0D4E:</span>
<span class="line-added">+                 case 0x111C2:</span>
<span class="line-added">+                 case 0x111C3:</span>
<span class="line-added">+                 case 0x11A3A:</span>
<span class="line-added">+                 case 0x11A84:</span>
<span class="line-added">+                 case 0x11A85:</span>
<span class="line-added">+                 case 0x11A86:</span>
<span class="line-added">+                 case 0x11A87:</span>
<span class="line-added">+                 case 0x11A88:</span>
<span class="line-added">+                 case 0x11A89:</span>
<span class="line-added">+                 case 0x11D46:</span>
<span class="line-added">+                     return PREPEND;</span>
<span class="line-added">+             }</span>
          }
          return OTHER;
      }
<span class="line-added">+ </span>
<span class="line-added">+     // from generated java.util.regex.EmojiData.java</span>
<span class="line-added">+     static boolean isExtendedPictographic(int cp) {</span>
<span class="line-added">+         return</span>
<span class="line-added">+             cp == 0x00A9 ||</span>
<span class="line-added">+             cp == 0x00AE ||</span>
<span class="line-added">+             cp == 0x203C ||</span>
<span class="line-added">+             cp == 0x2049 ||</span>
<span class="line-added">+             cp == 0x2122 ||</span>
<span class="line-added">+             cp == 0x2139 ||</span>
<span class="line-added">+            (cp &gt;= 0x2194 &amp;&amp; cp &lt;= 0x2199) ||</span>
<span class="line-added">+             cp == 0x21A9 ||</span>
<span class="line-added">+             cp == 0x21AA ||</span>
<span class="line-added">+             cp == 0x231A ||</span>
<span class="line-added">+             cp == 0x231B ||</span>
<span class="line-added">+             cp == 0x2328 ||</span>
<span class="line-added">+             cp == 0x2388 ||</span>
<span class="line-added">+             cp == 0x23CF ||</span>
<span class="line-added">+            (cp &gt;= 0x23E9 &amp;&amp; cp &lt;= 0x23F3) ||</span>
<span class="line-added">+            (cp &gt;= 0x23F8 &amp;&amp; cp &lt;= 0x23FA) ||</span>
<span class="line-added">+             cp == 0x24C2 ||</span>
<span class="line-added">+             cp == 0x25AA ||</span>
<span class="line-added">+             cp == 0x25AB ||</span>
<span class="line-added">+             cp == 0x25B6 ||</span>
<span class="line-added">+             cp == 0x25C0 ||</span>
<span class="line-added">+            (cp &gt;= 0x25FB &amp;&amp; cp &lt;= 0x25FE) ||</span>
<span class="line-added">+            (cp &gt;= 0x2600 &amp;&amp; cp &lt;= 0x2605) ||</span>
<span class="line-added">+            (cp &gt;= 0x2607 &amp;&amp; cp &lt;= 0x2612) ||</span>
<span class="line-added">+            (cp &gt;= 0x2614 &amp;&amp; cp &lt;= 0x2685) ||</span>
<span class="line-added">+            (cp &gt;= 0x2690 &amp;&amp; cp &lt;= 0x2705) ||</span>
<span class="line-added">+            (cp &gt;= 0x2708 &amp;&amp; cp &lt;= 0x2712) ||</span>
<span class="line-added">+             cp == 0x2714 ||</span>
<span class="line-added">+             cp == 0x2716 ||</span>
<span class="line-added">+             cp == 0x271D ||</span>
<span class="line-added">+             cp == 0x2721 ||</span>
<span class="line-added">+             cp == 0x2728 ||</span>
<span class="line-added">+             cp == 0x2733 ||</span>
<span class="line-added">+             cp == 0x2734 ||</span>
<span class="line-added">+             cp == 0x2744 ||</span>
<span class="line-added">+             cp == 0x2747 ||</span>
<span class="line-added">+             cp == 0x274C ||</span>
<span class="line-added">+             cp == 0x274E ||</span>
<span class="line-added">+            (cp &gt;= 0x2753 &amp;&amp; cp &lt;= 0x2755) ||</span>
<span class="line-added">+             cp == 0x2757 ||</span>
<span class="line-added">+            (cp &gt;= 0x2763 &amp;&amp; cp &lt;= 0x2767) ||</span>
<span class="line-added">+            (cp &gt;= 0x2795 &amp;&amp; cp &lt;= 0x2797) ||</span>
<span class="line-added">+             cp == 0x27A1 ||</span>
<span class="line-added">+             cp == 0x27B0 ||</span>
<span class="line-added">+             cp == 0x27BF ||</span>
<span class="line-added">+             cp == 0x2934 ||</span>
<span class="line-added">+             cp == 0x2935 ||</span>
<span class="line-added">+            (cp &gt;= 0x2B05 &amp;&amp; cp &lt;= 0x2B07) ||</span>
<span class="line-added">+             cp == 0x2B1B ||</span>
<span class="line-added">+             cp == 0x2B1C ||</span>
<span class="line-added">+             cp == 0x2B50 ||</span>
<span class="line-added">+             cp == 0x2B55 ||</span>
<span class="line-added">+             cp == 0x3030 ||</span>
<span class="line-added">+             cp == 0x303D ||</span>
<span class="line-added">+             cp == 0x3297 ||</span>
<span class="line-added">+             cp == 0x3299 ||</span>
<span class="line-added">+            (cp &gt;= 0x1F000 &amp;&amp; cp &lt;= 0x1F0FF) ||</span>
<span class="line-added">+            (cp &gt;= 0x1F10D &amp;&amp; cp &lt;= 0x1F10F) ||</span>
<span class="line-added">+             cp == 0x1F12F ||</span>
<span class="line-added">+            (cp &gt;= 0x1F16C &amp;&amp; cp &lt;= 0x1F171) ||</span>
<span class="line-added">+             cp == 0x1F17E ||</span>
<span class="line-added">+             cp == 0x1F17F ||</span>
<span class="line-added">+             cp == 0x1F18E ||</span>
<span class="line-added">+            (cp &gt;= 0x1F191 &amp;&amp; cp &lt;= 0x1F19A) ||</span>
<span class="line-added">+            (cp &gt;= 0x1F1AD &amp;&amp; cp &lt;= 0x1F1E5) ||</span>
<span class="line-added">+            (cp &gt;= 0x1F201 &amp;&amp; cp &lt;= 0x1F20F) ||</span>
<span class="line-added">+             cp == 0x1F21A ||</span>
<span class="line-added">+             cp == 0x1F22F ||</span>
<span class="line-added">+            (cp &gt;= 0x1F232 &amp;&amp; cp &lt;= 0x1F23A) ||</span>
<span class="line-added">+            (cp &gt;= 0x1F23C &amp;&amp; cp &lt;= 0x1F23F) ||</span>
<span class="line-added">+            (cp &gt;= 0x1F249 &amp;&amp; cp &lt;= 0x1F3FA) ||</span>
<span class="line-added">+            (cp &gt;= 0x1F400 &amp;&amp; cp &lt;= 0x1F53D) ||</span>
<span class="line-added">+            (cp &gt;= 0x1F546 &amp;&amp; cp &lt;= 0x1F64F) ||</span>
<span class="line-added">+            (cp &gt;= 0x1F680 &amp;&amp; cp &lt;= 0x1F6FF) ||</span>
<span class="line-added">+            (cp &gt;= 0x1F774 &amp;&amp; cp &lt;= 0x1F77F) ||</span>
<span class="line-added">+            (cp &gt;= 0x1F7D5 &amp;&amp; cp &lt;= 0x1F7FF) ||</span>
<span class="line-added">+            (cp &gt;= 0x1F80C &amp;&amp; cp &lt;= 0x1F80F) ||</span>
<span class="line-added">+            (cp &gt;= 0x1F848 &amp;&amp; cp &lt;= 0x1F84F) ||</span>
<span class="line-added">+            (cp &gt;= 0x1F85A &amp;&amp; cp &lt;= 0x1F85F) ||</span>
<span class="line-added">+            (cp &gt;= 0x1F888 &amp;&amp; cp &lt;= 0x1F88F) ||</span>
<span class="line-added">+            (cp &gt;= 0x1F8AE &amp;&amp; cp &lt;= 0x1F8FF) ||</span>
<span class="line-added">+            (cp &gt;= 0x1F90C &amp;&amp; cp &lt;= 0x1F93A) ||</span>
<span class="line-added">+            (cp &gt;= 0x1F93C &amp;&amp; cp &lt;= 0x1F945) ||</span>
<span class="line-added">+            (cp &gt;= 0x1F947 &amp;&amp; cp &lt;= 0x1FFFD);</span>
<span class="line-added">+ </span>
<span class="line-added">+     }</span>
  }
</pre>
<center><a href="../logging/TestConfigurationListeners.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="RegExTest.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>