<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/jdk/java/util/concurrent/tck/SplittableRandomTest.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="SemaphoreTest.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="StampedLockTest.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/java/util/concurrent/tck/SplittableRandomTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 163,29 ***</span>
      /**
       * nextInt(non-positive) throws IllegalArgumentException
       */
      public void testNextIntBoundNonPositive() {
          SplittableRandom sr = new SplittableRandom();
<span class="line-modified">!         Runnable[] throwingActions = {</span>
              () -&gt; sr.nextInt(-17),
              () -&gt; sr.nextInt(0),
<span class="line-modified">!             () -&gt; sr.nextInt(Integer.MIN_VALUE),</span>
<span class="line-removed">-         };</span>
<span class="line-removed">-         assertThrows(IllegalArgumentException.class, throwingActions);</span>
      }
  
      /**
       * nextInt(least &gt;= bound) throws IllegalArgumentException
       */
      public void testNextIntBadBounds() {
          SplittableRandom sr = new SplittableRandom();
<span class="line-modified">!         Runnable[] throwingActions = {</span>
              () -&gt; sr.nextInt(17, 2),
              () -&gt; sr.nextInt(-42, -42),
<span class="line-modified">!             () -&gt; sr.nextInt(Integer.MAX_VALUE, Integer.MIN_VALUE),</span>
<span class="line-removed">-         };</span>
<span class="line-removed">-         assertThrows(IllegalArgumentException.class, throwingActions);</span>
      }
  
      /**
       * nextInt(bound) returns 0 &lt;= value &lt; bound;
       * repeated calls produce at least two distinct results
<span class="line-new-header">--- 163,27 ---</span>
      /**
       * nextInt(non-positive) throws IllegalArgumentException
       */
      public void testNextIntBoundNonPositive() {
          SplittableRandom sr = new SplittableRandom();
<span class="line-modified">!         assertThrows(</span>
<span class="line-added">+             IllegalArgumentException.class,</span>
              () -&gt; sr.nextInt(-17),
              () -&gt; sr.nextInt(0),
<span class="line-modified">!             () -&gt; sr.nextInt(Integer.MIN_VALUE));</span>
      }
  
      /**
       * nextInt(least &gt;= bound) throws IllegalArgumentException
       */
      public void testNextIntBadBounds() {
          SplittableRandom sr = new SplittableRandom();
<span class="line-modified">!         assertThrows(</span>
<span class="line-added">+             IllegalArgumentException.class,</span>
              () -&gt; sr.nextInt(17, 2),
              () -&gt; sr.nextInt(-42, -42),
<span class="line-modified">!             () -&gt; sr.nextInt(Integer.MAX_VALUE, Integer.MIN_VALUE));</span>
      }
  
      /**
       * nextInt(bound) returns 0 &lt;= value &lt; bound;
       * repeated calls produce at least two distinct results
</pre>
<hr />
<pre>
<span class="line-old-header">*** 233,29 ***</span>
      /**
       * nextLong(non-positive) throws IllegalArgumentException
       */
      public void testNextLongBoundNonPositive() {
          SplittableRandom sr = new SplittableRandom();
<span class="line-modified">!         Runnable[] throwingActions = {</span>
              () -&gt; sr.nextLong(-17L),
              () -&gt; sr.nextLong(0L),
<span class="line-modified">!             () -&gt; sr.nextLong(Long.MIN_VALUE),</span>
<span class="line-removed">-         };</span>
<span class="line-removed">-         assertThrows(IllegalArgumentException.class, throwingActions);</span>
      }
  
      /**
       * nextLong(least &gt;= bound) throws IllegalArgumentException
       */
      public void testNextLongBadBounds() {
          SplittableRandom sr = new SplittableRandom();
<span class="line-modified">!         Runnable[] throwingActions = {</span>
              () -&gt; sr.nextLong(17L, 2L),
              () -&gt; sr.nextLong(-42L, -42L),
<span class="line-modified">!             () -&gt; sr.nextLong(Long.MAX_VALUE, Long.MIN_VALUE),</span>
<span class="line-removed">-         };</span>
<span class="line-removed">-         assertThrows(IllegalArgumentException.class, throwingActions);</span>
      }
  
      /**
       * nextLong(bound) returns 0 &lt;= value &lt; bound;
       * repeated calls produce at least two distinct results
<span class="line-new-header">--- 231,27 ---</span>
      /**
       * nextLong(non-positive) throws IllegalArgumentException
       */
      public void testNextLongBoundNonPositive() {
          SplittableRandom sr = new SplittableRandom();
<span class="line-modified">!         assertThrows(</span>
<span class="line-added">+             IllegalArgumentException.class,</span>
              () -&gt; sr.nextLong(-17L),
              () -&gt; sr.nextLong(0L),
<span class="line-modified">!             () -&gt; sr.nextLong(Long.MIN_VALUE));</span>
      }
  
      /**
       * nextLong(least &gt;= bound) throws IllegalArgumentException
       */
      public void testNextLongBadBounds() {
          SplittableRandom sr = new SplittableRandom();
<span class="line-modified">!         assertThrows(</span>
<span class="line-added">+             IllegalArgumentException.class,</span>
              () -&gt; sr.nextLong(17L, 2L),
              () -&gt; sr.nextLong(-42L, -42L),
<span class="line-modified">!             () -&gt; sr.nextLong(Long.MAX_VALUE, Long.MIN_VALUE));</span>
      }
  
      /**
       * nextLong(bound) returns 0 &lt;= value &lt; bound;
       * repeated calls produce at least two distinct results
</pre>
<hr />
<pre>
<span class="line-old-header">*** 302,33 ***</span>
      /**
       * nextDouble(non-positive) throws IllegalArgumentException
       */
      public void testNextDoubleBoundNonPositive() {
          SplittableRandom sr = new SplittableRandom();
<span class="line-modified">!         Runnable[] throwingActions = {</span>
              () -&gt; sr.nextDouble(-17.0d),
              () -&gt; sr.nextDouble(0.0d),
              () -&gt; sr.nextDouble(-Double.MIN_VALUE),
              () -&gt; sr.nextDouble(Double.NEGATIVE_INFINITY),
<span class="line-modified">!             () -&gt; sr.nextDouble(Double.NaN),</span>
<span class="line-removed">-         };</span>
<span class="line-removed">-         assertThrows(IllegalArgumentException.class, throwingActions);</span>
      }
  
      /**
       * nextDouble(! (least &lt; bound)) throws IllegalArgumentException
       */
      public void testNextDoubleBadBounds() {
          SplittableRandom sr = new SplittableRandom();
<span class="line-modified">!         Runnable[] throwingActions = {</span>
              () -&gt; sr.nextDouble(17.0d, 2.0d),
              () -&gt; sr.nextDouble(-42.0d, -42.0d),
              () -&gt; sr.nextDouble(Double.MAX_VALUE, Double.MIN_VALUE),
              () -&gt; sr.nextDouble(Double.NaN, 0.0d),
<span class="line-modified">!             () -&gt; sr.nextDouble(0.0d, Double.NaN),</span>
<span class="line-removed">-         };</span>
<span class="line-removed">-         assertThrows(IllegalArgumentException.class, throwingActions);</span>
      }
  
      // TODO: Test infinite bounds!
      //() -&gt; sr.nextDouble(Double.NEGATIVE_INFINITY, 0.0d),
      //() -&gt; sr.nextDouble(0.0d, Double.POSITIVE_INFINITY),
<span class="line-new-header">--- 298,31 ---</span>
      /**
       * nextDouble(non-positive) throws IllegalArgumentException
       */
      public void testNextDoubleBoundNonPositive() {
          SplittableRandom sr = new SplittableRandom();
<span class="line-modified">!         assertThrows(</span>
<span class="line-added">+             IllegalArgumentException.class,</span>
              () -&gt; sr.nextDouble(-17.0d),
              () -&gt; sr.nextDouble(0.0d),
              () -&gt; sr.nextDouble(-Double.MIN_VALUE),
              () -&gt; sr.nextDouble(Double.NEGATIVE_INFINITY),
<span class="line-modified">!             () -&gt; sr.nextDouble(Double.NaN));</span>
      }
  
      /**
       * nextDouble(! (least &lt; bound)) throws IllegalArgumentException
       */
      public void testNextDoubleBadBounds() {
          SplittableRandom sr = new SplittableRandom();
<span class="line-modified">!         assertThrows(</span>
<span class="line-added">+             IllegalArgumentException.class,</span>
              () -&gt; sr.nextDouble(17.0d, 2.0d),
              () -&gt; sr.nextDouble(-42.0d, -42.0d),
              () -&gt; sr.nextDouble(Double.MAX_VALUE, Double.MIN_VALUE),
              () -&gt; sr.nextDouble(Double.NaN, 0.0d),
<span class="line-modified">!             () -&gt; sr.nextDouble(0.0d, Double.NaN));</span>
      }
  
      // TODO: Test infinite bounds!
      //() -&gt; sr.nextDouble(Double.NEGATIVE_INFINITY, 0.0d),
      //() -&gt; sr.nextDouble(0.0d, Double.POSITIVE_INFINITY),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 359,36 ***</span>
       * Invoking sized ints, long, doubles, with negative sizes throws
       * IllegalArgumentException
       */
      public void testBadStreamSize() {
          SplittableRandom r = new SplittableRandom();
<span class="line-modified">!         Runnable[] throwingActions = {</span>
              () -&gt; { java.util.stream.IntStream x = r.ints(-1L); },
              () -&gt; { java.util.stream.IntStream x = r.ints(-1L, 2, 3); },
              () -&gt; { java.util.stream.LongStream x = r.longs(-1L); },
              () -&gt; { java.util.stream.LongStream x = r.longs(-1L, -1L, 1L); },
              () -&gt; { java.util.stream.DoubleStream x = r.doubles(-1L); },
<span class="line-modified">!             () -&gt; { java.util.stream.DoubleStream x = r.doubles(-1L, .5, .6); },</span>
<span class="line-removed">-         };</span>
<span class="line-removed">-         assertThrows(IllegalArgumentException.class, throwingActions);</span>
      }
  
      /**
       * Invoking bounded ints, long, doubles, with illegal bounds throws
       * IllegalArgumentException
       */
      public void testBadStreamBounds() {
          SplittableRandom r = new SplittableRandom();
<span class="line-modified">!         Runnable[] throwingActions = {</span>
              () -&gt; { java.util.stream.IntStream x = r.ints(2, 1); },
              () -&gt; { java.util.stream.IntStream x = r.ints(10, 42, 42); },
              () -&gt; { java.util.stream.LongStream x = r.longs(-1L, -1L); },
              () -&gt; { java.util.stream.LongStream x = r.longs(10, 1L, -2L); },
              () -&gt; { java.util.stream.DoubleStream x = r.doubles(0.0, 0.0); },
<span class="line-modified">!             () -&gt; { java.util.stream.DoubleStream x = r.doubles(10, .5, .4); },</span>
<span class="line-removed">-         };</span>
<span class="line-removed">-         assertThrows(IllegalArgumentException.class, throwingActions);</span>
      }
  
      /**
       * A parallel sized stream of ints generates the given number of values
       */
<span class="line-new-header">--- 353,34 ---</span>
       * Invoking sized ints, long, doubles, with negative sizes throws
       * IllegalArgumentException
       */
      public void testBadStreamSize() {
          SplittableRandom r = new SplittableRandom();
<span class="line-modified">!         assertThrows(</span>
<span class="line-added">+             IllegalArgumentException.class,</span>
              () -&gt; { java.util.stream.IntStream x = r.ints(-1L); },
              () -&gt; { java.util.stream.IntStream x = r.ints(-1L, 2, 3); },
              () -&gt; { java.util.stream.LongStream x = r.longs(-1L); },
              () -&gt; { java.util.stream.LongStream x = r.longs(-1L, -1L, 1L); },
              () -&gt; { java.util.stream.DoubleStream x = r.doubles(-1L); },
<span class="line-modified">!             () -&gt; { java.util.stream.DoubleStream x = r.doubles(-1L, .5, .6); });</span>
      }
  
      /**
       * Invoking bounded ints, long, doubles, with illegal bounds throws
       * IllegalArgumentException
       */
      public void testBadStreamBounds() {
          SplittableRandom r = new SplittableRandom();
<span class="line-modified">!         assertThrows(</span>
<span class="line-added">+             IllegalArgumentException.class,</span>
              () -&gt; { java.util.stream.IntStream x = r.ints(2, 1); },
              () -&gt; { java.util.stream.IntStream x = r.ints(10, 42, 42); },
              () -&gt; { java.util.stream.LongStream x = r.longs(-1L, -1L); },
              () -&gt; { java.util.stream.LongStream x = r.longs(10, 1L, -2L); },
              () -&gt; { java.util.stream.DoubleStream x = r.doubles(0.0, 0.0); },
<span class="line-modified">!             () -&gt; { java.util.stream.DoubleStream x = r.doubles(10, .5, .4); });</span>
      }
  
      /**
       * A parallel sized stream of ints generates the given number of values
       */
</pre>
<center><a href="SemaphoreTest.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="StampedLockTest.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>