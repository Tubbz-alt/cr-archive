<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/java/util/concurrent/ConcurrentHashMap/MapCheck.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="ConcurrentAssociateTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="MapLoops.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/java/util/concurrent/ConcurrentHashMap/MapCheck.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
520         t9(s);
521         rtest(s, size);
522 
523         t4(&quot;ContainsKey            &quot;, size, s, key, 0);
524         t2(&quot;Remove (absent)        &quot;, size, s, key, 0);
525         t3(&quot;Put (presized)         &quot;, size, s, key, size);
526         dtest(s, size, key);
527     }
528 
529     static class TestTimer {
530         private String name;
531         private long numOps;
532         private long startTime;
533         private String cname;
534 
535         static final java.util.TreeMap accum = new java.util.TreeMap();
536 
537         static void printStats() {
538             for (Iterator it = accum.entrySet().iterator(); it.hasNext(); ) {
539                 Map.Entry e = (Map.Entry)(it.next());
<span class="line-modified">540                 Stats stats = ((Stats)(e.getValue()));</span>
541                 int n = stats.number;
542                 double t;
543                 if (n &gt; 0)
544                     t = stats.sum / n;
545                 else
546                     t = stats.least;
547                 long nano = Math.round(1000000.0 * t);
548                 System.out.println(e.getKey() + &quot;: &quot; + nano);
549             }
550         }
551 
552         void start(String name, long numOps) {
553             this.name = name;
554             this.cname = classify();
555             this.numOps = numOps;
556             startTime = System.currentTimeMillis();
557         }
558 
559 
560         String classify() {
</pre>
</td>
<td>
<hr />
<pre>
520         t9(s);
521         rtest(s, size);
522 
523         t4(&quot;ContainsKey            &quot;, size, s, key, 0);
524         t2(&quot;Remove (absent)        &quot;, size, s, key, 0);
525         t3(&quot;Put (presized)         &quot;, size, s, key, size);
526         dtest(s, size, key);
527     }
528 
529     static class TestTimer {
530         private String name;
531         private long numOps;
532         private long startTime;
533         private String cname;
534 
535         static final java.util.TreeMap accum = new java.util.TreeMap();
536 
537         static void printStats() {
538             for (Iterator it = accum.entrySet().iterator(); it.hasNext(); ) {
539                 Map.Entry e = (Map.Entry)(it.next());
<span class="line-modified">540                 Stats stats = (Stats)(e.getValue());</span>
541                 int n = stats.number;
542                 double t;
543                 if (n &gt; 0)
544                     t = stats.sum / n;
545                 else
546                     t = stats.least;
547                 long nano = Math.round(1000000.0 * t);
548                 System.out.println(e.getKey() + &quot;: &quot; + nano);
549             }
550         }
551 
552         void start(String name, long numOps) {
553             this.name = name;
554             this.cname = classify();
555             this.numOps = numOps;
556             startTime = System.currentTimeMillis();
557         }
558 
559 
560         String classify() {
</pre>
</td>
</tr>
</table>
<center><a href="ConcurrentAssociateTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="MapLoops.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>