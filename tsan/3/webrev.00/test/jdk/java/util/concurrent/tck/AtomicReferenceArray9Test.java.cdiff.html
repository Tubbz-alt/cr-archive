<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/jdk/java/util/concurrent/tck/AtomicReferenceArray9Test.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="AtomicLongArray9Test.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="BlockingQueueTest.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/java/util/concurrent/tck/AtomicReferenceArray9Test.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 49,11 ***</span>
       */
      public void testIndexing() {
          AtomicReferenceArray&lt;Integer&gt; aa = new AtomicReferenceArray&lt;&gt;(SIZE);
          for (int index : new int[] { -1, SIZE }) {
              final int j = index;
<span class="line-modified">!             final Runnable[] tasks = {</span>
                  () -&gt; aa.getPlain(j),
                  () -&gt; aa.getOpaque(j),
                  () -&gt; aa.getAcquire(j),
                  () -&gt; aa.setPlain(j, null),
                  () -&gt; aa.setOpaque(j, null),
<span class="line-new-header">--- 49,12 ---</span>
       */
      public void testIndexing() {
          AtomicReferenceArray&lt;Integer&gt; aa = new AtomicReferenceArray&lt;&gt;(SIZE);
          for (int index : new int[] { -1, SIZE }) {
              final int j = index;
<span class="line-modified">!             assertThrows(</span>
<span class="line-added">+                 IndexOutOfBoundsException.class,</span>
                  () -&gt; aa.getPlain(j),
                  () -&gt; aa.getOpaque(j),
                  () -&gt; aa.getAcquire(j),
                  () -&gt; aa.setPlain(j, null),
                  () -&gt; aa.setOpaque(j, null),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 62,14 ***</span>
                  () -&gt; aa.compareAndExchangeAcquire(j, null, null),
                  () -&gt; aa.compareAndExchangeRelease(j, null, null),
                  () -&gt; aa.weakCompareAndSetPlain(j, null, null),
                  () -&gt; aa.weakCompareAndSetVolatile(j, null, null),
                  () -&gt; aa.weakCompareAndSetAcquire(j, null, null),
<span class="line-modified">!                 () -&gt; aa.weakCompareAndSetRelease(j, null, null),</span>
<span class="line-removed">-             };</span>
<span class="line-removed">- </span>
<span class="line-removed">-             assertThrows(IndexOutOfBoundsException.class, tasks);</span>
          }
      }
  
      /**
       * getPlain returns the last value set
<span class="line-new-header">--- 63,11 ---</span>
                  () -&gt; aa.compareAndExchangeAcquire(j, null, null),
                  () -&gt; aa.compareAndExchangeRelease(j, null, null),
                  () -&gt; aa.weakCompareAndSetPlain(j, null, null),
                  () -&gt; aa.weakCompareAndSetVolatile(j, null, null),
                  () -&gt; aa.weakCompareAndSetAcquire(j, null, null),
<span class="line-modified">!                 () -&gt; aa.weakCompareAndSetRelease(j, null, null));</span>
          }
      }
  
      /**
       * getPlain returns the last value set
</pre>
<center><a href="AtomicLongArray9Test.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="BlockingQueueTest.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>