<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/java/rmi/testlibrary/RMIDSelectorProvider.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../activation/rmidViaInheritedChannel/InheritedChannelNotServerSocket.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="TestSocketFactory.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/java/rmi/testlibrary/RMIDSelectorProvider.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 30 import java.nio.channels.Pipe;
 31 import java.nio.channels.ServerSocketChannel;
 32 import java.nio.channels.SocketChannel;
 33 import java.nio.channels.spi.AbstractSelector;
 34 import java.nio.channels.spi.SelectorProvider;
 35 import java.time.LocalTime;
 36 import static java.net.StandardSocketOptions.SO_REUSEADDR;
 37 import static java.net.StandardSocketOptions.SO_REUSEPORT;
 38 
 39 /**
 40  * A SelectorProvider, that can be loaded by the child rmid process, whose
 41  * inheritedChannel method will create a new server socket channel and report
 42  * it back to the parent process, over stdout.
 43  */
 44 public class RMIDSelectorProvider extends SelectorProvider {
 45 
 46     private final SelectorProvider provider;
 47     private ServerSocketChannel channel;
 48 
 49     public RMIDSelectorProvider() {
<span class="line-modified"> 50         provider = sun.nio.ch.DefaultSelectorProvider.create();</span>
 51     }
 52 
 53     public DatagramChannel openDatagramChannel()
 54         throws IOException
 55     {
 56         return provider.openDatagramChannel();
 57     }
 58 
 59     public DatagramChannel openDatagramChannel(ProtocolFamily family)
 60         throws IOException
 61     {
 62         return provider.openDatagramChannel(family);
 63     }
 64 
 65     public Pipe openPipe()
 66         throws IOException
 67     {
 68         return provider.openPipe();
 69     }
 70 
</pre>
</td>
<td>
<hr />
<pre>
 30 import java.nio.channels.Pipe;
 31 import java.nio.channels.ServerSocketChannel;
 32 import java.nio.channels.SocketChannel;
 33 import java.nio.channels.spi.AbstractSelector;
 34 import java.nio.channels.spi.SelectorProvider;
 35 import java.time.LocalTime;
 36 import static java.net.StandardSocketOptions.SO_REUSEADDR;
 37 import static java.net.StandardSocketOptions.SO_REUSEPORT;
 38 
 39 /**
 40  * A SelectorProvider, that can be loaded by the child rmid process, whose
 41  * inheritedChannel method will create a new server socket channel and report
 42  * it back to the parent process, over stdout.
 43  */
 44 public class RMIDSelectorProvider extends SelectorProvider {
 45 
 46     private final SelectorProvider provider;
 47     private ServerSocketChannel channel;
 48 
 49     public RMIDSelectorProvider() {
<span class="line-modified"> 50         provider = sun.nio.ch.DefaultSelectorProvider.get();</span>
 51     }
 52 
 53     public DatagramChannel openDatagramChannel()
 54         throws IOException
 55     {
 56         return provider.openDatagramChannel();
 57     }
 58 
 59     public DatagramChannel openDatagramChannel(ProtocolFamily family)
 60         throws IOException
 61     {
 62         return provider.openDatagramChannel(family);
 63     }
 64 
 65     public Pipe openPipe()
 66         throws IOException
 67     {
 68         return provider.openPipe();
 69     }
 70 
</pre>
</td>
</tr>
</table>
<center><a href="../activation/rmidViaInheritedChannel/InheritedChannelNotServerSocket.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="TestSocketFactory.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>