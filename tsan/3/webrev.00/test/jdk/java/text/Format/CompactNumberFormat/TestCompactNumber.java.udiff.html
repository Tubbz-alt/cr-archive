<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff test/jdk/java/text/Format/CompactNumberFormat/TestCompactNumber.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../../Bidi/Bug7051769.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="TestEquality.java.udiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/java/text/Format/CompactNumberFormat/TestCompactNumber.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -20,11 +20,11 @@</span>
   * or visit www.oracle.com if you need additional information or have any
   * questions.
   */
  /*
   * @test
<span class="udiff-line-modified-removed">-  * @bug 8177552 8217721</span>
<span class="udiff-line-modified-added">+  * @bug 8177552 8217721 8222756</span>
   * @summary Checks the functioning of compact number format
   * @modules jdk.localedata
   * @run testng/othervm TestCompactNumber
   */
  import java.math.BigDecimal;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -73,10 +73,16 @@</span>
              .getCompactNumberInstance(new Locale(&quot;sw&quot;), NumberFormat.Style.LONG);
  
      private static final NumberFormat FORMAT_SE_SHORT = NumberFormat
              .getCompactNumberInstance(new Locale(&quot;se&quot;), NumberFormat.Style.SHORT);
  
<span class="udiff-line-added">+     private static final NumberFormat FORMAT_DE_LONG = NumberFormat</span>
<span class="udiff-line-added">+             .getCompactNumberInstance(Locale.GERMAN, NumberFormat.Style.LONG);</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+     private static final NumberFormat FORMAT_SL_LONG = NumberFormat</span>
<span class="udiff-line-added">+             .getCompactNumberInstance(new Locale(&quot;sl&quot;), NumberFormat.Style.LONG);</span>
<span class="udiff-line-added">+ </span>
      @DataProvider(name = &quot;format&quot;)
      Object[][] compactFormatData() {
          return new Object[][]{
              // compact number format instance, number to format, formatted output
              {FORMAT_DZ_LONG, 1000.09, &quot;\u0F66\u0F9F\u0F7C\u0F44\u0F0B\u0F55&quot;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -246,11 +252,11 @@</span>
                  &quot;12345679\u00a0Bln&quot;},
              {FORMAT_CA_LONG, 999, &quot;999&quot;},
              {FORMAT_CA_LONG, 999.99, &quot;1 miler&quot;},
              {FORMAT_CA_LONG, 99000, &quot;99 milers&quot;},
              {FORMAT_CA_LONG, 330000, &quot;330 milers&quot;},
<span class="udiff-line-modified-removed">-             {FORMAT_CA_LONG, 3000.90, &quot;3 miler&quot;},</span>
<span class="udiff-line-modified-added">+             {FORMAT_CA_LONG, 3000.90, &quot;3 milers&quot;},</span>
              {FORMAT_CA_LONG, 1000000, &quot;1 mili\u00f3&quot;},
              {FORMAT_CA_LONG, new BigInteger(&quot;12345678901234567890&quot;),
                  &quot;12345679 bilions&quot;},
              {FORMAT_CA_LONG, new BigDecimal(&quot;12345678901234567890.89&quot;),
                  &quot;12345679 bilions&quot;},
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -318,11 +324,24 @@</span>
              // Double
              {FORMAT_SE_SHORT, -8000.98, &quot;\u22128\u00a0dt&quot;},
              // BigInteger
              {FORMAT_SE_SHORT, new BigInteger(&quot;-12345678901234567890&quot;), &quot;\u221212345679\u00a0bn&quot;},
              // BigDecimal
<span class="udiff-line-modified-removed">-             {FORMAT_SE_SHORT, new BigDecimal(&quot;-12345678901234567890.98&quot;), &quot;\u221212345679\u00a0bn&quot;},};</span>
<span class="udiff-line-modified-added">+             {FORMAT_SE_SHORT, new BigDecimal(&quot;-12345678901234567890.98&quot;), &quot;\u221212345679\u00a0bn&quot;},</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+             // Plurals</span>
<span class="udiff-line-added">+             // DE: one:i = 1 and v = 0</span>
<span class="udiff-line-added">+             {FORMAT_DE_LONG, 1_000_000, &quot;1 Million&quot;},</span>
<span class="udiff-line-added">+             {FORMAT_DE_LONG, 2_000_000, &quot;2 Millionen&quot;},</span>
<span class="udiff-line-added">+             // SL: one:v = 0 and i % 100 = 1</span>
<span class="udiff-line-added">+             //     two:v = 0 and i % 100 = 2</span>
<span class="udiff-line-added">+             //     few:v = 0 and i % 100 = 3..4 or v != 0</span>
<span class="udiff-line-added">+             {FORMAT_SL_LONG, 1_000_000, &quot;1 milijon&quot;},</span>
<span class="udiff-line-added">+             {FORMAT_SL_LONG, 2_000_000, &quot;2 milijona&quot;},</span>
<span class="udiff-line-added">+             {FORMAT_SL_LONG, 3_000_000, &quot;3 milijone&quot;},</span>
<span class="udiff-line-added">+             {FORMAT_SL_LONG, 5_000_000, &quot;5 milijonov&quot;},</span>
<span class="udiff-line-added">+         };</span>
      }
  
      @DataProvider(name = &quot;parse&quot;)
      Object[][] compactParseData() {
          return new Object[][]{
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -407,11 +426,24 @@</span>
                  {FORMAT_SE_SHORT, &quot;12345679,89\u00a0bn&quot;, 1.2345679890000001E19, Double.class},
                  {FORMAT_SE_SHORT, &quot;\u2212999&quot;, -999L, Long.class},
                  {FORMAT_SE_SHORT, &quot;\u22128\u00a0mn&quot;, -8000000L, Long.class},
                  {FORMAT_SE_SHORT, &quot;\u22128\u00a0dt&quot;, -8000L, Long.class},
                  {FORMAT_SE_SHORT, &quot;\u221212345679\u00a0bn&quot;, -1.2345679E19, Double.class},
<span class="udiff-line-modified-removed">-                 {FORMAT_SE_SHORT, &quot;\u221212345679,89\u00a0bn&quot;, -1.2345679890000001E19, Double.class},};</span>
<span class="udiff-line-modified-added">+                 {FORMAT_SE_SHORT, &quot;\u221212345679,89\u00a0bn&quot;, -1.2345679890000001E19, Double.class},</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+                 // Plurals</span>
<span class="udiff-line-added">+                 // DE: one:i = 1 and v = 0</span>
<span class="udiff-line-added">+                 {FORMAT_DE_LONG, &quot;1 Million&quot;,   1_000_000L, Long.class},</span>
<span class="udiff-line-added">+                 {FORMAT_DE_LONG, &quot;2 Millionen&quot;, 2_000_000L, Long.class},</span>
<span class="udiff-line-added">+                 // SL: one:v = 0 and i % 100 = 1</span>
<span class="udiff-line-added">+                 //     two:v = 0 and i % 100 = 2</span>
<span class="udiff-line-added">+                 //     few:v = 0 and i % 100 = 3..4 or v != 0</span>
<span class="udiff-line-added">+                 {FORMAT_SL_LONG, &quot;1 milijon&quot;,   1_000_000L, Long.class},</span>
<span class="udiff-line-added">+                 {FORMAT_SL_LONG, &quot;2 milijona&quot;,  2_000_000L, Long.class},</span>
<span class="udiff-line-added">+                 {FORMAT_SL_LONG, &quot;3 milijone&quot;,  3_000_000L, Long.class},</span>
<span class="udiff-line-added">+                 {FORMAT_SL_LONG, &quot;5 milijonov&quot;, 5_000_000L, Long.class},</span>
<span class="udiff-line-added">+         };</span>
      }
  
      @DataProvider(name = &quot;exceptionParse&quot;)
      Object[][] exceptionParseData() {
          return new Object[][]{
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -442,11 +474,24 @@</span>
              // Default instance does not allow grouping
              {FORMAT_EN_US_SHORT, &quot;12,347&quot;, 12L},
              // Take partial suffix &quot;K&quot; as 1000 for en_US_SHORT patterns
              {FORMAT_EN_US_SHORT, &quot;12KM&quot;, 12000L},
              // Invalid suffix
<span class="udiff-line-modified-removed">-             {FORMAT_HI_IN_LONG, &quot;-1 \u00a0\u0915.&quot;, -1L},};</span>
<span class="udiff-line-modified-added">+             {FORMAT_HI_IN_LONG, &quot;-1 \u00a0\u0915.&quot;, -1L},</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+             // invalid plurals</span>
<span class="udiff-line-added">+             {FORMAT_DE_LONG, &quot;2 Million&quot;, 2L},</span>
<span class="udiff-line-added">+             {FORMAT_SL_LONG, &quot;2 milijon&quot;, 2L},</span>
<span class="udiff-line-added">+             {FORMAT_SL_LONG, &quot;2 milijone&quot;, 2L},</span>
<span class="udiff-line-added">+             {FORMAT_SL_LONG, &quot;2 milijonv&quot;, 2L},</span>
<span class="udiff-line-added">+             {FORMAT_SL_LONG, &quot;3 milijon&quot;, 3L},</span>
<span class="udiff-line-added">+             {FORMAT_SL_LONG, &quot;3 milijona&quot;, 3L},</span>
<span class="udiff-line-added">+             {FORMAT_SL_LONG, &quot;3 milijonv&quot;, 3L},</span>
<span class="udiff-line-added">+             {FORMAT_SL_LONG, &quot;5 milijon&quot;, 5L},</span>
<span class="udiff-line-added">+             {FORMAT_SL_LONG, &quot;5 milijona&quot;, 5L},</span>
<span class="udiff-line-added">+             {FORMAT_SL_LONG, &quot;5 milijone&quot;, 5L},</span>
<span class="udiff-line-added">+         };</span>
      }
  
      @DataProvider(name = &quot;fieldPosition&quot;)
      Object[][] formatFieldPositionData() {
          return new Object[][]{
</pre>
<center><a href="../../Bidi/Bug7051769.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="TestEquality.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>