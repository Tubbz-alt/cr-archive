<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old test/jdk/java/time/tck/java/time/chrono/TCKJapaneseEra.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (c) 2012, 2018, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 /*
 27  * Copyright (c) 2008-2012, Stephen Colebourne &amp; Michael Nascimento Santos
 28  *
 29  * All rights reserved.
 30  *
 31  * Redistribution and use in source and binary forms, with or without
 32  * modification, are permitted provided that the following conditions are met:
 33  *
 34  *  * Redistributions of source code must retain the above copyright notice,
 35  *    this list of conditions and the following disclaimer.
 36  *
 37  *  * Redistributions in binary form must reproduce the above copyright notice,
 38  *    this list of conditions and the following disclaimer in the documentation
 39  *    and/or other materials provided with the distribution.
 40  *
 41  *  * Neither the name of JSR-310 nor the names of its contributors
 42  *    may be used to endorse or promote products derived from this software
 43  *    without specific prior written permission.
 44  *
 45  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 46  * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 47  * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 48  * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 49  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 50  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 51  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 52  * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 53  * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 54  * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 55  * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 56  */
 57 package tck.java.time.chrono;
 58 
 59 import static java.time.temporal.ChronoField.ERA;
 60 import static org.testng.Assert.assertEquals;
 61 import static org.testng.Assert.assertTrue;
 62 import static org.testng.Assert.fail;
 63 
 64 import java.time.chrono.Era;
 65 import java.time.chrono.JapaneseChronology;
 66 import java.time.chrono.JapaneseEra;
 67 import java.util.List;
 68 
 69 import org.testng.annotations.DataProvider;
 70 import org.testng.annotations.Test;
 71 
 72 /**
 73  * Tests for JapaneseEra
 74  * @bug 8068278
 75  */
 76 @Test
 77 public class TCKJapaneseEra {
 78 
 79     @DataProvider(name = &quot;JapaneseEras&quot;)
 80     Object[][] data_of_eras() {
 81         return new Object[][] {
 82                     {JapaneseEra.of(3), &quot;NewEra&quot;, 3}, // NEWERA
 83                     {JapaneseEra.HEISEI, &quot;Heisei&quot;, 2},
 84                     {JapaneseEra.SHOWA, &quot;Showa&quot;, 1},
 85                     {JapaneseEra.TAISHO, &quot;Taisho&quot;, 0},
 86                     {JapaneseEra.MEIJI, &quot;Meiji&quot;, -1},
 87         };
 88     }
 89 
 90     @DataProvider(name = &quot;InvalidJapaneseEras&quot;)
 91     Object[][] data_of_invalid_eras() {
 92         return new Object[][] {
 93                 {-2},
 94                 {-3},
 95                 {4},
 96                 {Integer.MIN_VALUE},
 97                 {Integer.MAX_VALUE},
 98         };
 99     }
100 
101     //-----------------------------------------------------------------------
102     // JapaneseEra value test
103     //-----------------------------------------------------------------------
104     @Test(dataProvider=&quot;JapaneseEras&quot;)
105     public void test_valueOf(JapaneseEra era , String eraName, int eraValue) {
106         assertEquals(era.getValue(), eraValue);
107         assertEquals(JapaneseEra.of(eraValue), era);
108         assertEquals(JapaneseEra.valueOf(eraName), era);
109     }
110 
111     //-----------------------------------------------------------------------
112     // values()
113     //-----------------------------------------------------------------------
114     @Test
115     public void test_values() {
116         List&lt;Era&gt; eraList = JapaneseChronology.INSTANCE.eras();
117         JapaneseEra[] eras = JapaneseEra.values();
118         assertEquals(eraList.size(), eras.length);
119         for (JapaneseEra era : eras) {
120             assertTrue(eraList.contains(era));
121         }
122     }
123 
124     //-----------------------------------------------------------------------
125     // range()
126     //-----------------------------------------------------------------------
127     @Test
128     public void test_range() {
129         // eras may be added after release
130         for (JapaneseEra era : JapaneseEra.values()) {
131             assertEquals(era.range(ERA).getMinimum(), -1);
132             assertEquals(era.range(ERA).getLargestMinimum(), -1);
133             assertEquals(era.range(ERA).getSmallestMaximum(), era.range(ERA).getMaximum());
134             assertEquals(era.range(ERA).getMaximum() &gt;= 2, true);
135         }
136     }
137 
138     //-----------------------------------------------------------------------
139     // JapaneseChronology.INSTANCE.eraOf invalid era test
140     //-----------------------------------------------------------------------
141     @Test(dataProvider=&quot;InvalidJapaneseEras&quot;, expectedExceptions=java.time.DateTimeException.class)
142     public void test_outofrange(int era) {
143         JapaneseChronology.INSTANCE.eraOf(era);
144     }
145 }
    </pre>
  </body>
</html>