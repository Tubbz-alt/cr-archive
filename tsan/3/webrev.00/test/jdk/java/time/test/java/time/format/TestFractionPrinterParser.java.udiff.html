<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff test/jdk/java/time/test/java/time/format/TestFractionPrinterParser.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="TestDateTimeTextProviderWithLocale.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="TestNonIsoFormatter.java.udiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/java/time/test/java/time/format/TestFractionPrinterParser.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 2012, 2013, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 2012, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -57,10 +57,11 @@</span>
   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   */
  package test.java.time.format;
  
<span class="udiff-line-added">+ import static java.time.temporal.ChronoField.MILLI_OF_SECOND;</span>
  import static java.time.temporal.ChronoField.NANO_OF_SECOND;
  import static java.time.temporal.ChronoField.SECOND_OF_MINUTE;
  import static org.testng.Assert.assertEquals;
  import static org.testng.Assert.fail;
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -75,10 +76,12 @@</span>
  import org.testng.annotations.Test;
  import test.java.time.temporal.MockFieldValue;
  
  /**
   * Test FractionPrinterParser.
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * @bug 8230136</span>
   */
  @Test
  public class TestFractionPrinterParser extends AbstractTestPrinterParser {
  
      private DateTimeFormatter getFormatter(TemporalField field, int minWidth, int maxWidth, boolean decimalPoint) {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -329,10 +332,28 @@</span>
          TemporalAccessor parsed = getFormatter(field, min, max, decimalPoint).parseUnresolved(text, ppos);
          assertEquals(ppos.getErrorIndex(), expected);
          assertEquals(parsed, null);
      }
  
<span class="udiff-line-added">+     @DataProvider(name=&quot;ParseMinWidth&quot;)</span>
<span class="udiff-line-added">+     Object[][] provider_parseMinWidth() {</span>
<span class="udiff-line-added">+         return new Object[][] {</span>
<span class="udiff-line-added">+             {MILLI_OF_SECOND, 3, 3, true, &quot;.1x&quot;},</span>
<span class="udiff-line-added">+             {MILLI_OF_SECOND, 3, 3, true, &quot;.12x&quot;},</span>
<span class="udiff-line-added">+             {MILLI_OF_SECOND, 3, 3, true, &quot;.1234x&quot;},</span>
<span class="udiff-line-added">+         };</span>
<span class="udiff-line-added">+     }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+     @Test(dataProvider=&quot;ParseMinWidth&quot;, expectedExceptions=DateTimeException.class)</span>
<span class="udiff-line-added">+     public void test_parse_minWidth(TemporalField field, int min, int max, boolean decimalPoint, String text) throws Exception {</span>
<span class="udiff-line-added">+         builder</span>
<span class="udiff-line-added">+             .appendFraction(field, min, max, decimalPoint)</span>
<span class="udiff-line-added">+             .appendLiteral(&quot;x&quot;)</span>
<span class="udiff-line-added">+             .toFormatter(locale)</span>
<span class="udiff-line-added">+             .parse(text);</span>
<span class="udiff-line-added">+     }</span>
<span class="udiff-line-added">+ </span>
      //-----------------------------------------------------------------------
      public void test_toString() throws Exception {
          assertEquals(getFormatter(NANO_OF_SECOND, 3, 6, true).toString(), &quot;Fraction(NanoOfSecond,3,6,DecimalPoint)&quot;);
      }
  
</pre>
<center><a href="TestDateTimeTextProviderWithLocale.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="TestNonIsoFormatter.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>