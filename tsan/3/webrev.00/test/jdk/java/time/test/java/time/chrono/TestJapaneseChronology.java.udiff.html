<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff test/jdk/java/time/test/java/time/chrono/TestJapaneseChronology.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="TestEraDisplayName.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="TestUmmAlQuraChronology.java.udiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/java/time/test/java/time/chrono/TestJapaneseChronology.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 2013, 2018, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 2013, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -32,10 +32,11 @@</span>
  import java.util.Locale;
  
  import org.testng.annotations.DataProvider;
  import org.testng.annotations.Test;
  import static org.testng.Assert.assertEquals;
<span class="udiff-line-added">+ import static org.testng.Assert.assertTrue;</span>
  
  /**
   * Tests for the Japanese chronology
   */
  @Test
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -57,11 +58,11 @@</span>
              { JapaneseEra.TAISHO,    15, 12, 24, 1926 },
              { JapaneseEra.SHOWA,      1, 12, 25, 1926 },
              { JapaneseEra.SHOWA,     64,  1,  7, 1989 },
              { JapaneseEra.HEISEI,     1,  1,  8, 1989 },
              { JapaneseEra.HEISEI,    31,  4, 30, 2019 },
<span class="udiff-line-modified-removed">-             { JapaneseEra.of(3),      1,  5,  1, 2019 }, // NEWERA</span>
<span class="udiff-line-modified-added">+             { JapaneseEra.REIWA,      1,  5,  1, 2019 },</span>
          };
      }
  
      @DataProvider(name=&quot;day_year_data&quot;)
      Object[][] dayYearData() {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -75,11 +76,11 @@</span>
              { JapaneseEra.SHOWA,   2,    8,  1,  8 },
              { JapaneseEra.SHOWA,  64,    7,  1,  7 },
              { JapaneseEra.HEISEI,  1,    1,  1,  8 },
              { JapaneseEra.HEISEI,  2,    8,  1,  8 },
              { JapaneseEra.HEISEI, 31,  120,  4, 30 },
<span class="udiff-line-modified-removed">-             { JapaneseEra.of(3),   1,    1,  5,  1 }, // NEWERA</span>
<span class="udiff-line-modified-added">+             { JapaneseEra.REIWA,   1,    1,  5,  1 },</span>
          };
      }
  
      @DataProvider(name=&quot;range_data&quot;)
      Object[][] rangeData() {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -108,12 +109,12 @@</span>
              { JapaneseEra.SHOWA,     64,  1,  8 },
              { JapaneseEra.SHOWA,     65,  1,  1 },
              { JapaneseEra.HEISEI,     1,  1,  7 },
              { JapaneseEra.HEISEI,     1,  2, 29 },
              { JapaneseEra.HEISEI,    31,  5,  1 },
<span class="udiff-line-modified-removed">-             { JapaneseEra.of(3),      1,  4, 30 }, // NEWERA</span>
<span class="udiff-line-modified-removed">-             { JapaneseEra.of(3), Year.MAX_VALUE,  12, 31 }, // NEWERA</span>
<span class="udiff-line-modified-added">+             { JapaneseEra.REIWA,      1,  4, 30 },</span>
<span class="udiff-line-modified-added">+             { JapaneseEra.REIWA, Year.MAX_VALUE,  12, 31 },</span>
          };
      }
  
      @DataProvider(name=&quot;invalid_eraYear&quot;)
      Object[][] invalidEraYearData() {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -129,13 +130,13 @@</span>
              { JapaneseEra.SHOWA,      0 },
              { JapaneseEra.SHOWA,     65 },
              { JapaneseEra.HEISEI,    -1 },
              { JapaneseEra.HEISEI,     0 },
              { JapaneseEra.HEISEI,    32 },
<span class="udiff-line-modified-removed">-             { JapaneseEra.of(3),     -1 }, // NEWERA</span>
<span class="udiff-line-modified-removed">-             { JapaneseEra.of(3),      0 }, // NEWERA</span>
<span class="udiff-line-modified-removed">-             { JapaneseEra.of(3), Year.MAX_VALUE }, // NEWERA</span>
<span class="udiff-line-modified-added">+             { JapaneseEra.REIWA,     -1 },</span>
<span class="udiff-line-modified-added">+             { JapaneseEra.REIWA,      0 },</span>
<span class="udiff-line-modified-added">+             { JapaneseEra.REIWA, Year.MAX_VALUE },</span>
          };
      }
  
      @DataProvider(name=&quot;invalid_day_year_data&quot;)
      Object[][] invalidDayYearData() {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -149,12 +150,25 @@</span>
              { JapaneseEra.SHOWA,   2, 366 },
              { JapaneseEra.SHOWA,  64,   8 },
              { JapaneseEra.HEISEI,  1, 360 },
              { JapaneseEra.HEISEI,  2, 366 },
              { JapaneseEra.HEISEI, 31, 121 },
<span class="udiff-line-modified-removed">-             { JapaneseEra.of(3),   1, 246 }, // NEWERA</span>
<span class="udiff-line-modified-removed">-             { JapaneseEra.of(3),   2, 367 }, // NEWERA</span>
<span class="udiff-line-modified-added">+             { JapaneseEra.REIWA,   1, 246 },</span>
<span class="udiff-line-modified-added">+             { JapaneseEra.REIWA,   2, 367 },</span>
<span class="udiff-line-added">+         };</span>
<span class="udiff-line-added">+     }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+     @DataProvider</span>
<span class="udiff-line-added">+     Object[][] eraNameData() {</span>
<span class="udiff-line-added">+         return new Object[][] {</span>
<span class="udiff-line-added">+             // Japanese era, name, exception</span>
<span class="udiff-line-added">+             { &quot;Meiji&quot;,  JapaneseEra.MEIJI,      null },</span>
<span class="udiff-line-added">+             { &quot;Taisho&quot;, JapaneseEra.TAISHO,     null },</span>
<span class="udiff-line-added">+             { &quot;Showa&quot;,  JapaneseEra.SHOWA,      null },</span>
<span class="udiff-line-added">+             { &quot;Heisei&quot;, JapaneseEra.HEISEI,     null },</span>
<span class="udiff-line-added">+             { &quot;Reiwa&quot;, JapaneseEra.REIWA,       null },</span>
<span class="udiff-line-added">+             { &quot;NewEra&quot;, null,                   IllegalArgumentException.class},</span>
          };
      }
  
      @Test
      public void test_ofLocale() {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -202,6 +216,15 @@</span>
      @Test(dataProvider=&quot;invalid_day_year_data&quot;, expectedExceptions=DateTimeException.class)
      public void test_invalidDayYear(JapaneseEra era, int yearOfEra, int dayOfYear) {
          JapaneseDate date = JAPANESE.dateYearDay(era, yearOfEra, dayOfYear);
          System.out.printf(&quot;No DateTimeException with era=%s, year=%d, dayOfYear=%d%n&quot;, era, yearOfEra, dayOfYear);
      }
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+     @Test(dataProvider=&quot;eraNameData&quot;)</span>
<span class="udiff-line-added">+     public void test_eraName(String eraName, JapaneseEra era, Class expectedEx) {</span>
<span class="udiff-line-added">+         try {</span>
<span class="udiff-line-added">+             assertEquals(JapaneseEra.valueOf(eraName), era);</span>
<span class="udiff-line-added">+         } catch (Exception ex) {</span>
<span class="udiff-line-added">+             assertTrue(expectedEx.isInstance(ex));</span>
<span class="udiff-line-added">+         }</span>
<span class="udiff-line-added">+     }</span>
  }
</pre>
<center><a href="TestEraDisplayName.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="TestUmmAlQuraChronology.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>