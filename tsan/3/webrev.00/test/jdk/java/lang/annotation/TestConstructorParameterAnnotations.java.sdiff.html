<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/java/lang/annotation/TestConstructorParameterAnnotations.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="ParameterAnnotations.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="loaderLeak/Main.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/java/lang/annotation/TestConstructorParameterAnnotations.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2017, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
</pre>
<hr />
<pre>
112             if (!Objects.equals(annotationString, expectedString)) {
113                 System.err.println(&quot;Annotation mismatch on &quot; + ctor +
114                                    &quot; on param &quot; + param +
115                                    &quot;\n\tExpected:&quot; + expectedString +
116                                    &quot;\n\tActual:  &quot; + annotationString);
117                 errors++;
118             }
119             i++;
120         }
121         return errors;
122     }
123 
124     @ExpectedGetParameterAnnotations(&quot;[[]]&quot;)
125     @ExpectedParameterAnnotations({&quot;null&quot;})
126     public class NestedClass0 {
127         public NestedClass0() {}
128     }
129 
130     @ExpectedGetParameterAnnotations(
131         &quot;[[], &quot; +
<span class="line-modified">132         &quot;[@TestConstructorParameterAnnotations$MarkerAnnotation(value=1)]]&quot;)</span>
133     @ExpectedParameterAnnotations({
134         &quot;null&quot;,
<span class="line-modified">135         &quot;@TestConstructorParameterAnnotations$MarkerAnnotation(value=1)&quot;})</span>
136     public class NestedClass1 {
137         public NestedClass1(@MarkerAnnotation(1) int parameter) {}
138     }
139 
140     @ExpectedGetParameterAnnotations(
141         &quot;[[], &quot; +
<span class="line-modified">142         &quot;[@TestConstructorParameterAnnotations$MarkerAnnotation(value=2)], &quot; +</span>
143         &quot;[]]&quot;)
144     @ExpectedParameterAnnotations({
145         &quot;null&quot;,
<span class="line-modified">146         &quot;@TestConstructorParameterAnnotations$MarkerAnnotation(value=2)&quot;,</span>
147         &quot;null&quot;})
148     public class NestedClass2 {
149         public NestedClass2(@MarkerAnnotation(2) int parameter1,
150                             int parameter2) {}
151     }
152 
153     @ExpectedGetParameterAnnotations(
154         &quot;[[], &quot; +
<span class="line-modified">155         &quot;[@TestConstructorParameterAnnotations$MarkerAnnotation(value=3)], &quot; +</span>
156         &quot;[]]&quot;)
157     @ExpectedParameterAnnotations({
158         &quot;null&quot;,
<span class="line-modified">159         &quot;@TestConstructorParameterAnnotations$MarkerAnnotation(value=3)&quot;,</span>
160             &quot;null&quot;})
161     public class NestedClass3 {
162         public &lt;P&gt; NestedClass3(@MarkerAnnotation(3) P parameter1,
163                                 int parameter2) {}
164     }
165 
166     @ExpectedGetParameterAnnotations(
167         &quot;[[], &quot; +
<span class="line-modified">168         &quot;[@TestConstructorParameterAnnotations$MarkerAnnotation(value=4)], &quot; +</span>
169         &quot;[]]&quot;)
170     @ExpectedParameterAnnotations({
171         &quot;null&quot;,
<span class="line-modified">172         &quot;@TestConstructorParameterAnnotations$MarkerAnnotation(value=4)&quot;,</span>
173         &quot;null&quot;})
174     public class NestedClass4 {
175         public &lt;P, Q&gt; NestedClass4(@MarkerAnnotation(4) P parameter1,
176                                    Q parameter2) {}
177     }
178 
179     @ExpectedGetParameterAnnotations(&quot;[]&quot;)
180     @ExpectedParameterAnnotations({&quot;null&quot;})
181     public static class StaticNestedClass0 {
182         public StaticNestedClass0() {}
183     }
184 
185     @ExpectedGetParameterAnnotations(
<span class="line-modified">186         &quot;[[@TestConstructorParameterAnnotations$MarkerAnnotation(value=1)]]&quot;)</span>
187     @ExpectedParameterAnnotations({
<span class="line-modified">188         &quot;@TestConstructorParameterAnnotations$MarkerAnnotation(value=1)&quot;})</span>
189     public static class StaticNestedClass1 {
190         public StaticNestedClass1(@MarkerAnnotation(1) int parameter) {}
191     }
192 
193     @ExpectedGetParameterAnnotations(
<span class="line-modified">194         &quot;[[@TestConstructorParameterAnnotations$MarkerAnnotation(value=2)], &quot; +</span>
195         &quot;[]]&quot;)
196     @ExpectedParameterAnnotations({
<span class="line-modified">197         &quot;@TestConstructorParameterAnnotations$MarkerAnnotation(value=2)&quot;,</span>
198         &quot;null&quot;})
199     public static class StaticNestedClass2 {
200         public StaticNestedClass2(@MarkerAnnotation(2) int parameter1,
201                             int parameter2) {}
202     }
203 
204     @ExpectedGetParameterAnnotations(
<span class="line-modified">205         &quot;[[@TestConstructorParameterAnnotations$MarkerAnnotation(value=3)], &quot; +</span>
206         &quot;[]]&quot;)
207     @ExpectedParameterAnnotations({
<span class="line-modified">208         &quot;@TestConstructorParameterAnnotations$MarkerAnnotation(value=3)&quot;,</span>
209         &quot;null&quot;})
210     public static class StaticNestedClass3 {
211         public &lt;P&gt; StaticNestedClass3(@MarkerAnnotation(3) P parameter1,
212                                       int parameter2) {}
213     }
214 
215     @ExpectedGetParameterAnnotations(
<span class="line-modified">216         &quot;[[@TestConstructorParameterAnnotations$MarkerAnnotation(value=4)], &quot; +</span>
217         &quot;[]]&quot;)
218     @ExpectedParameterAnnotations({
<span class="line-modified">219         &quot;@TestConstructorParameterAnnotations$MarkerAnnotation(value=4)&quot;,</span>
220         &quot;null&quot;})
221     public static class StaticNestedClass4 {
222         public &lt;P, Q&gt; StaticNestedClass4(@MarkerAnnotation(4) P parameter1,
223                                          Q parameter2) {}
224     }
225 
226     @Target(ElementType.PARAMETER)
227     @Retention(RetentionPolicy.RUNTIME)
228     @interface MarkerAnnotation {
229         int value();
230     }
231 
232     /**
233      * String form of expected value of calling
234      * getParameterAnnotations on a constructor.
235      */
236     @Target(ElementType.TYPE)
237     @Retention(RetentionPolicy.RUNTIME)
238     @interface ExpectedGetParameterAnnotations {
239         String value();
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2017, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
</pre>
<hr />
<pre>
112             if (!Objects.equals(annotationString, expectedString)) {
113                 System.err.println(&quot;Annotation mismatch on &quot; + ctor +
114                                    &quot; on param &quot; + param +
115                                    &quot;\n\tExpected:&quot; + expectedString +
116                                    &quot;\n\tActual:  &quot; + annotationString);
117                 errors++;
118             }
119             i++;
120         }
121         return errors;
122     }
123 
124     @ExpectedGetParameterAnnotations(&quot;[[]]&quot;)
125     @ExpectedParameterAnnotations({&quot;null&quot;})
126     public class NestedClass0 {
127         public NestedClass0() {}
128     }
129 
130     @ExpectedGetParameterAnnotations(
131         &quot;[[], &quot; +
<span class="line-modified">132         &quot;[@TestConstructorParameterAnnotations$MarkerAnnotation(1)]]&quot;)</span>
133     @ExpectedParameterAnnotations({
134         &quot;null&quot;,
<span class="line-modified">135         &quot;@TestConstructorParameterAnnotations$MarkerAnnotation(1)&quot;})</span>
136     public class NestedClass1 {
137         public NestedClass1(@MarkerAnnotation(1) int parameter) {}
138     }
139 
140     @ExpectedGetParameterAnnotations(
141         &quot;[[], &quot; +
<span class="line-modified">142         &quot;[@TestConstructorParameterAnnotations$MarkerAnnotation(2)], &quot; +</span>
143         &quot;[]]&quot;)
144     @ExpectedParameterAnnotations({
145         &quot;null&quot;,
<span class="line-modified">146         &quot;@TestConstructorParameterAnnotations$MarkerAnnotation(2)&quot;,</span>
147         &quot;null&quot;})
148     public class NestedClass2 {
149         public NestedClass2(@MarkerAnnotation(2) int parameter1,
150                             int parameter2) {}
151     }
152 
153     @ExpectedGetParameterAnnotations(
154         &quot;[[], &quot; +
<span class="line-modified">155         &quot;[@TestConstructorParameterAnnotations$MarkerAnnotation(3)], &quot; +</span>
156         &quot;[]]&quot;)
157     @ExpectedParameterAnnotations({
158         &quot;null&quot;,
<span class="line-modified">159         &quot;@TestConstructorParameterAnnotations$MarkerAnnotation(3)&quot;,</span>
160             &quot;null&quot;})
161     public class NestedClass3 {
162         public &lt;P&gt; NestedClass3(@MarkerAnnotation(3) P parameter1,
163                                 int parameter2) {}
164     }
165 
166     @ExpectedGetParameterAnnotations(
167         &quot;[[], &quot; +
<span class="line-modified">168         &quot;[@TestConstructorParameterAnnotations$MarkerAnnotation(4)], &quot; +</span>
169         &quot;[]]&quot;)
170     @ExpectedParameterAnnotations({
171         &quot;null&quot;,
<span class="line-modified">172         &quot;@TestConstructorParameterAnnotations$MarkerAnnotation(4)&quot;,</span>
173         &quot;null&quot;})
174     public class NestedClass4 {
175         public &lt;P, Q&gt; NestedClass4(@MarkerAnnotation(4) P parameter1,
176                                    Q parameter2) {}
177     }
178 
179     @ExpectedGetParameterAnnotations(&quot;[]&quot;)
180     @ExpectedParameterAnnotations({&quot;null&quot;})
181     public static class StaticNestedClass0 {
182         public StaticNestedClass0() {}
183     }
184 
185     @ExpectedGetParameterAnnotations(
<span class="line-modified">186         &quot;[[@TestConstructorParameterAnnotations$MarkerAnnotation(1)]]&quot;)</span>
187     @ExpectedParameterAnnotations({
<span class="line-modified">188         &quot;@TestConstructorParameterAnnotations$MarkerAnnotation(1)&quot;})</span>
189     public static class StaticNestedClass1 {
190         public StaticNestedClass1(@MarkerAnnotation(1) int parameter) {}
191     }
192 
193     @ExpectedGetParameterAnnotations(
<span class="line-modified">194         &quot;[[@TestConstructorParameterAnnotations$MarkerAnnotation(2)], &quot; +</span>
195         &quot;[]]&quot;)
196     @ExpectedParameterAnnotations({
<span class="line-modified">197         &quot;@TestConstructorParameterAnnotations$MarkerAnnotation(2)&quot;,</span>
198         &quot;null&quot;})
199     public static class StaticNestedClass2 {
200         public StaticNestedClass2(@MarkerAnnotation(2) int parameter1,
201                             int parameter2) {}
202     }
203 
204     @ExpectedGetParameterAnnotations(
<span class="line-modified">205         &quot;[[@TestConstructorParameterAnnotations$MarkerAnnotation(3)], &quot; +</span>
206         &quot;[]]&quot;)
207     @ExpectedParameterAnnotations({
<span class="line-modified">208         &quot;@TestConstructorParameterAnnotations$MarkerAnnotation(3)&quot;,</span>
209         &quot;null&quot;})
210     public static class StaticNestedClass3 {
211         public &lt;P&gt; StaticNestedClass3(@MarkerAnnotation(3) P parameter1,
212                                       int parameter2) {}
213     }
214 
215     @ExpectedGetParameterAnnotations(
<span class="line-modified">216         &quot;[[@TestConstructorParameterAnnotations$MarkerAnnotation(4)], &quot; +</span>
217         &quot;[]]&quot;)
218     @ExpectedParameterAnnotations({
<span class="line-modified">219         &quot;@TestConstructorParameterAnnotations$MarkerAnnotation(4)&quot;,</span>
220         &quot;null&quot;})
221     public static class StaticNestedClass4 {
222         public &lt;P, Q&gt; StaticNestedClass4(@MarkerAnnotation(4) P parameter1,
223                                          Q parameter2) {}
224     }
225 
226     @Target(ElementType.PARAMETER)
227     @Retention(RetentionPolicy.RUNTIME)
228     @interface MarkerAnnotation {
229         int value();
230     }
231 
232     /**
233      * String form of expected value of calling
234      * getParameterAnnotations on a constructor.
235      */
236     @Target(ElementType.TYPE)
237     @Retention(RetentionPolicy.RUNTIME)
238     @interface ExpectedGetParameterAnnotations {
239         String value();
</pre>
</td>
</tr>
</table>
<center><a href="ParameterAnnotations.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="loaderLeak/Main.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>