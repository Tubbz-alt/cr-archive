<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/java/lang/reflect/PublicMethods/PublicMethodsTest.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../AccessibleObject/TrySetAccessibleTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../../math/BigDecimal/LongValueExactTests.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/java/lang/reflect/PublicMethods/PublicMethodsTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
205         }
206 
207         return Case.PLACEHOLDER_PATTERN
208             .matcher(c.template())
209             .replaceAll(match -&gt; map.get(match.group(1)));
210     }
211 
212     /**
213      * compile expanded template into a ClassLoader that sees compiled classes
214      */
215     static TestClassLoader compile(String source) throws CompileException {
216         JavaCompiler javac = ToolProvider.getSystemJavaCompiler();
217         if (javac == null) {
218             throw new AssertionError(&quot;No Java compiler tool found.&quot;);
219         }
220 
221         ErrorsCollector errorsCollector = new ErrorsCollector();
222         StandardJavaFileManager standardJavaFileManager =
223             javac.getStandardFileManager(errorsCollector, Locale.ROOT,
224                                          Charset.forName(&quot;UTF-8&quot;));





225         TestFileManager testFileManager = new TestFileManager(
226             standardJavaFileManager, source);
227 
228         JavaCompiler.CompilationTask javacTask;
229         try {
230             javacTask = javac.getTask(
231                 null, // use System.err
232                 testFileManager,
233                 errorsCollector,
234                 null,
235                 null,
236                 List.of(testFileManager.getJavaFileForInput(
237                     StandardLocation.SOURCE_PATH,
238                     TestFileManager.TEST_CLASS_NAME,
239                     JavaFileObject.Kind.SOURCE))
240             );
241         } catch (IOException e) {
242             throw new UncheckedIOException(e);
243         }
244 
</pre>
</td>
<td>
<hr />
<pre>
205         }
206 
207         return Case.PLACEHOLDER_PATTERN
208             .matcher(c.template())
209             .replaceAll(match -&gt; map.get(match.group(1)));
210     }
211 
212     /**
213      * compile expanded template into a ClassLoader that sees compiled classes
214      */
215     static TestClassLoader compile(String source) throws CompileException {
216         JavaCompiler javac = ToolProvider.getSystemJavaCompiler();
217         if (javac == null) {
218             throw new AssertionError(&quot;No Java compiler tool found.&quot;);
219         }
220 
221         ErrorsCollector errorsCollector = new ErrorsCollector();
222         StandardJavaFileManager standardJavaFileManager =
223             javac.getStandardFileManager(errorsCollector, Locale.ROOT,
224                                          Charset.forName(&quot;UTF-8&quot;));
<span class="line-added">225         try {</span>
<span class="line-added">226             standardJavaFileManager.setLocation(StandardLocation.CLASS_PATH, List.of());</span>
<span class="line-added">227         } catch (IOException e) {</span>
<span class="line-added">228             throw new UncheckedIOException(e);</span>
<span class="line-added">229         }</span>
230         TestFileManager testFileManager = new TestFileManager(
231             standardJavaFileManager, source);
232 
233         JavaCompiler.CompilationTask javacTask;
234         try {
235             javacTask = javac.getTask(
236                 null, // use System.err
237                 testFileManager,
238                 errorsCollector,
239                 null,
240                 null,
241                 List.of(testFileManager.getJavaFileForInput(
242                     StandardLocation.SOURCE_PATH,
243                     TestFileManager.TEST_CLASS_NAME,
244                     JavaFileObject.Kind.SOURCE))
245             );
246         } catch (IOException e) {
247             throw new UncheckedIOException(e);
248         }
249 
</pre>
</td>
</tr>
</table>
<center><a href="../AccessibleObject/TrySetAccessibleTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../../math/BigDecimal/LongValueExactTests.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>