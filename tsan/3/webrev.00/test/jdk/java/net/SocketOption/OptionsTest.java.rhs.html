<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames test/jdk/java/net/SocketOption/OptionsTest.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
    <script type="text/javascript" src="../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /*
  2  * Copyright (c) 2014, 2019, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
 23 
 24 /*
 25  * @test
<a name="1" id="anc1"></a><span class="line-modified"> 26  * @bug 8036979 8072384 8044773 8225214 8233296 8234083</span>
<span class="line-added"> 27  * @library /test/lib</span>
 28  * @requires !vm.graal.enabled
 29  * @run main/othervm -Xcheck:jni OptionsTest
<a name="2" id="anc2"></a><span class="line-added"> 30  * @run main/othervm -Djdk.net.usePlainSocketImpl OptionsTest</span>
 31  * @run main/othervm -Xcheck:jni -Djava.net.preferIPv4Stack=true OptionsTest
 32  * @run main/othervm --limit-modules=java.base OptionsTest
 33  */
 34 
 35 import java.lang.reflect.Method;
 36 import java.net.*;
 37 import java.util.*;
<a name="3" id="anc3"></a><span class="line-added"> 38 import jdk.test.lib.net.IPSupport;</span>
 39 
 40 public class OptionsTest {
 41 
<a name="4" id="anc4"></a><span class="line-modified"> 42     static class Test&lt;T&gt; {</span>
<span class="line-modified"> 43         final SocketOption&lt;T&gt; option;</span>
<span class="line-added"> 44         final T value;</span>
<span class="line-added"> 45         Test(SocketOption&lt;T&gt; option, T value) {</span>
 46             this.option = option;
<a name="5" id="anc5"></a><span class="line-modified"> 47             this.value = value;</span>
 48         }
<a name="6" id="anc6"></a><span class="line-modified"> 49         static &lt;T&gt; Test&lt;T&gt; create(SocketOption&lt;T&gt; option, T value) {</span>
<span class="line-modified"> 50             return new Test&lt;T&gt;(option, value);</span>
 51         }
<a name="7" id="anc7"></a><span class="line-modified"> 52 </span>

 53     }
 54 
 55     // The tests set the option using the new API, read back the set value
<a name="8" id="anc8"></a><span class="line-modified"> 56     // which could be different, and then use the legacy get API to check</span>
 57     // these values are the same
 58 
<a name="9" id="anc9"></a><span class="line-modified"> 59     static Test&lt;?&gt;[] socketTests = new Test&lt;?&gt;[] {</span>
 60         Test.create(StandardSocketOptions.SO_KEEPALIVE, Boolean.TRUE),
 61         Test.create(StandardSocketOptions.SO_SNDBUF, Integer.valueOf(10 * 100)),
 62         Test.create(StandardSocketOptions.SO_RCVBUF, Integer.valueOf(8 * 100)),
 63         Test.create(StandardSocketOptions.SO_REUSEADDR, Boolean.FALSE),
 64         Test.create(StandardSocketOptions.SO_REUSEPORT, Boolean.FALSE),
<a name="10" id="anc10"></a><span class="line-added"> 65         Test.create(StandardSocketOptions.SO_LINGER, Integer.valueOf(-1)),</span>
<span class="line-added"> 66         Test.create(StandardSocketOptions.SO_LINGER, Integer.valueOf(0)),</span>
 67         Test.create(StandardSocketOptions.SO_LINGER, Integer.valueOf(80)),
<a name="11" id="anc11"></a><span class="line-modified"> 68         Test.create(StandardSocketOptions.IP_TOS, Integer.valueOf(0)),  // lower-bound</span>
<span class="line-added"> 69         Test.create(StandardSocketOptions.IP_TOS, Integer.valueOf(100)),</span>
<span class="line-added"> 70         Test.create(StandardSocketOptions.IP_TOS, Integer.valueOf(255))  //upper-bound</span>
 71     };
 72 
<a name="12" id="anc12"></a><span class="line-modified"> 73     static Test&lt;?&gt;[] serverSocketTests = new Test&lt;?&gt;[] {</span>
 74         Test.create(StandardSocketOptions.SO_RCVBUF, Integer.valueOf(8 * 100)),
 75         Test.create(StandardSocketOptions.SO_REUSEADDR, Boolean.FALSE),
 76         Test.create(StandardSocketOptions.SO_REUSEPORT, Boolean.FALSE),
<a name="13" id="anc13"></a><span class="line-modified"> 77         Test.create(StandardSocketOptions.IP_TOS, Integer.valueOf(0)),  // lower-bound</span>
<span class="line-added"> 78         Test.create(StandardSocketOptions.IP_TOS, Integer.valueOf(100)),</span>
<span class="line-added"> 79         Test.create(StandardSocketOptions.IP_TOS, Integer.valueOf(255))  //upper-bound</span>
 80     };
 81 
<a name="14" id="anc14"></a><span class="line-modified"> 82     static Test&lt;?&gt;[] datagramSocketTests = new Test&lt;?&gt;[] {</span>
 83         Test.create(StandardSocketOptions.SO_SNDBUF, Integer.valueOf(10 * 100)),
 84         Test.create(StandardSocketOptions.SO_RCVBUF, Integer.valueOf(8 * 100)),
 85         Test.create(StandardSocketOptions.SO_REUSEADDR, Boolean.FALSE),
 86         Test.create(StandardSocketOptions.SO_REUSEPORT, Boolean.FALSE),
<a name="15" id="anc15"></a><span class="line-modified"> 87         Test.create(StandardSocketOptions.SO_BROADCAST, Boolean.FALSE),</span>
<span class="line-added"> 88         Test.create(StandardSocketOptions.SO_BROADCAST, Boolean.TRUE),</span>
<span class="line-added"> 89         Test.create(StandardSocketOptions.IP_TOS, Integer.valueOf(0)),  // lower-bound</span>
<span class="line-added"> 90         Test.create(StandardSocketOptions.IP_TOS, Integer.valueOf(100)),</span>
<span class="line-added"> 91         Test.create(StandardSocketOptions.IP_TOS, Integer.valueOf(255))  //upper-bound</span>
 92     };
 93 
<a name="16" id="anc16"></a><span class="line-modified"> 94     static Test&lt;?&gt;[] multicastSocketTests = new Test&lt;?&gt;[] {</span>
<span class="line-added"> 95         Test.create(StandardSocketOptions.SO_BROADCAST, Boolean.FALSE),</span>
<span class="line-added"> 96         Test.create(StandardSocketOptions.SO_BROADCAST, Boolean.TRUE),</span>
 97         Test.create(StandardSocketOptions.IP_MULTICAST_IF, getNetworkInterface()),
<a name="17" id="anc17"></a><span class="line-added"> 98         Test.create(StandardSocketOptions.IP_MULTICAST_TTL, Integer.valueOf(0)),   // lower-bound</span>
 99         Test.create(StandardSocketOptions.IP_MULTICAST_TTL, Integer.valueOf(10)),
<a name="18" id="anc18"></a><span class="line-added">100         Test.create(StandardSocketOptions.IP_MULTICAST_TTL, Integer.valueOf(255)), //upper-bound</span>
101         Test.create(StandardSocketOptions.IP_MULTICAST_LOOP, Boolean.TRUE)
102     };
103 
104     static NetworkInterface getNetworkInterface() {
105         try {
106             Enumeration&lt;NetworkInterface&gt; nifs = NetworkInterface.getNetworkInterfaces();
107             while (nifs.hasMoreElements()) {
<a name="19" id="anc19"></a><span class="line-modified">108                 NetworkInterface ni = nifs.nextElement();</span>
109                 if (ni.supportsMulticast()) {
110                     return ni;
111                 }
112             }
113         } catch (Exception e) {
114         }
115         return null;
116     }
117 
<a name="20" id="anc20"></a><span class="line-added">118     static boolean okayToTest(Socket s, SocketOption&lt;?&gt; option) {</span>
<span class="line-added">119         if (option == StandardSocketOptions.SO_REUSEPORT) {</span>
<span class="line-added">120             // skip SO_REUSEPORT if option is not supported</span>
<span class="line-added">121             return s.supportedOptions().contains(StandardSocketOptions.SO_REUSEPORT);</span>
<span class="line-added">122         }</span>
<span class="line-added">123         if (option == StandardSocketOptions.IP_TOS &amp;&amp; s.isConnected()) {</span>
<span class="line-added">124             // skip IP_TOS if connected</span>
<span class="line-added">125             return false;</span>
<span class="line-added">126         }</span>
<span class="line-added">127         return true;</span>
<span class="line-added">128     }</span>
<span class="line-added">129 </span>
<span class="line-added">130     static &lt;T&gt; void testEqual(SocketOption&lt;T&gt; option, T value1, T value2) {</span>
<span class="line-added">131         if (!value1.equals(value2)) {</span>
<span class="line-added">132             throw new RuntimeException(&quot;Test of &quot; + option.name() + &quot; failed: &quot;</span>
<span class="line-added">133                     + value1 + &quot; != &quot; + value2);</span>
<span class="line-added">134         }</span>
<span class="line-added">135     }</span>
<span class="line-added">136 </span>
<span class="line-added">137     static &lt;T&gt; void test(Socket s, Test&lt;T&gt; test) throws Exception {</span>
<span class="line-added">138         SocketOption&lt;T&gt; option = test.option;</span>
<span class="line-added">139         s.setOption(option, test.value);</span>
<span class="line-added">140         T value1 = s.getOption(test.option);</span>
<span class="line-added">141         T value2 = (T) legacyGetOption(Socket.class, s, test.option);</span>
<span class="line-added">142         testEqual(option, value1, value2);</span>
<span class="line-added">143     }</span>
<span class="line-added">144 </span>
<span class="line-added">145     static &lt;T&gt; void test(ServerSocket ss, Test&lt;T&gt; test) throws Exception {</span>
<span class="line-added">146         SocketOption&lt;T&gt; option = test.option;</span>
<span class="line-added">147         ss.setOption(option, test.value);</span>
<span class="line-added">148         T value1 = ss.getOption(test.option);</span>
<span class="line-added">149         T value2 = (T) legacyGetOption(ServerSocket.class, ss, test.option);</span>
<span class="line-added">150         testEqual(option, value1, value2);</span>
<span class="line-added">151     }</span>
<span class="line-added">152 </span>
<span class="line-added">153     static &lt;T&gt; void test(DatagramSocket ds, Test&lt;T&gt; test) throws Exception {</span>
<span class="line-added">154         SocketOption&lt;T&gt; option = test.option;</span>
<span class="line-added">155         ds.setOption(option, test.value);</span>
<span class="line-added">156         T value1 = ds.getOption(test.option);</span>
<span class="line-added">157         T value2 = (T) legacyGetOption(ds.getClass(), ds, test.option);</span>
<span class="line-added">158         testEqual(option, value1, value2);</span>
<span class="line-added">159     }</span>
<span class="line-added">160 </span>
<span class="line-added">161     // Tests default and negative values of SO_LINGER. All negative values should</span>
<span class="line-added">162     // retrieve as -1.</span>
<span class="line-added">163     static void testSoLingerValues() throws Exception {</span>
<span class="line-added">164         try (Socket s = new Socket()) {</span>
<span class="line-added">165             // retrieve without set</span>
<span class="line-added">166             int defaultValue = s.getOption(StandardSocketOptions.SO_LINGER);</span>
<span class="line-added">167             testEqual(StandardSocketOptions.SO_LINGER, -1, defaultValue);</span>
<span class="line-added">168 </span>
<span class="line-added">169             for (int v : List.of(-1, -2, -100, -65534, -65535, -65536, -100000)) {</span>
<span class="line-added">170                 System.out.println(&quot;Testing SO_LINGER with:&quot; + v);</span>
<span class="line-added">171                 s.setOption(StandardSocketOptions.SO_LINGER, v);</span>
<span class="line-added">172                 int value = s.getOption(StandardSocketOptions.SO_LINGER);</span>
<span class="line-added">173                 testEqual(StandardSocketOptions.SO_LINGER, -1, value);</span>
<span class="line-added">174             }</span>
<span class="line-added">175         }</span>
<span class="line-added">176     }</span>
<span class="line-added">177 </span>
<span class="line-added">178     @SuppressWarnings(&quot;try&quot;)</span>
179     static void doSocketTests() throws Exception {
<a name="21" id="anc21"></a><span class="line-modified">180         // unconnected socket</span>
<span class="line-modified">181         try (Socket s = new Socket()) {</span>
<span class="line-modified">182             for (Test&lt;?&gt; test : socketTests) {</span>
<span class="line-modified">183                 if (okayToTest(s, test.option)) {</span>
<span class="line-modified">184                     test(s, test);</span>













185                 }
186             }
187         }
<a name="22" id="anc22"></a>
188 
<a name="23" id="anc23"></a><span class="line-modified">189         // connected socket</span>
<span class="line-modified">190         try (ServerSocket ss = new ServerSocket()) {</span>
<span class="line-modified">191             var loopback = InetAddress.getLoopbackAddress();</span>
<span class="line-modified">192             ss.bind(new InetSocketAddress(loopback, 0));</span>
<span class="line-modified">193             try (Socket s1 = new Socket()) {</span>
<span class="line-modified">194                 s1.connect(ss.getLocalSocketAddress());</span>
<span class="line-modified">195                 try (Socket s2 = ss.accept()) {</span>
<span class="line-modified">196                     for (Test&lt;?&gt; test : socketTests) {</span>
<span class="line-modified">197                         if (okayToTest(s1, test.option)) {</span>
<span class="line-modified">198                             test(s1, test);</span>
<span class="line-modified">199                         }</span>





200                     }
201                 }
202             }
203         }
<a name="24" id="anc24"></a><span class="line-added">204 </span>
<span class="line-added">205         testSoLingerValues();</span>
206     }
207 
<a name="25" id="anc25"></a><span class="line-modified">208     static void doServerSocketTests() throws Exception {</span>
<span class="line-modified">209         try (ServerSocket ss = new ServerSocket(0)) {</span>
<span class="line-modified">210             Set&lt;SocketOption&lt;?&gt;&gt; options = ss.supportedOptions();</span>
<span class="line-modified">211             boolean reuseport = options.contains(StandardSocketOptions.SO_REUSEPORT);</span>
<span class="line-modified">212             for (Test&lt;?&gt; test : serverSocketTests) {</span>
<span class="line-modified">213                 if (!(test.option == StandardSocketOptions.SO_REUSEPORT &amp;&amp; !reuseport)) {</span>
<span class="line-modified">214                     test(ss, test);</span>






215                 }
216             }
217         }
218     }
219 
<a name="26" id="anc26"></a><span class="line-modified">220     static void doDatagramSocketTests() throws Exception {</span>
<span class="line-modified">221         try (DatagramSocket ds = new DatagramSocket(0)) {</span>
<span class="line-modified">222             Set&lt;SocketOption&lt;?&gt;&gt; options = ds.supportedOptions();</span>


223             boolean reuseport = options.contains(StandardSocketOptions.SO_REUSEPORT);
<a name="27" id="anc27"></a><span class="line-modified">224             for (Test&lt;?&gt; test : datagramSocketTests) {</span>

225                 if (!(test.option == StandardSocketOptions.SO_REUSEPORT &amp;&amp; !reuseport)) {
<a name="28" id="anc28"></a><span class="line-modified">226                     test(ds, test);</span>









227                 }
228             }
229         }
230     }
231 
<a name="29" id="anc29"></a><span class="line-modified">232     static void doMulticastSocketTests() throws Exception {</span>
<span class="line-modified">233         try (MulticastSocket ms = new MulticastSocket(0)) {</span>
<span class="line-added">234             for (Test&lt;?&gt; test : multicastSocketTests) {</span>
<span class="line-added">235                 test(ms, test);</span>
<span class="line-added">236             }</span>
<span class="line-added">237         }</span>
<span class="line-added">238     }</span>
239 
<a name="30" id="anc30"></a><span class="line-modified">240     static Object legacyGetOption(Class&lt;?&gt; type, Object s, Object option) throws Exception {</span>

241         if (type.equals(Socket.class)) {
242             Socket socket = (Socket)s;
243             Set&lt;SocketOption&lt;?&gt;&gt; options = socket.supportedOptions();
244             boolean reuseport = options.contains(StandardSocketOptions.SO_REUSEPORT);
245 
246             if (option.equals(StandardSocketOptions.SO_KEEPALIVE)) {
247                 return Boolean.valueOf(socket.getKeepAlive());
248             } else if (option.equals(StandardSocketOptions.SO_SNDBUF)) {
249                 return Integer.valueOf(socket.getSendBufferSize());
250             } else if (option.equals(StandardSocketOptions.SO_RCVBUF)) {
251                 return Integer.valueOf(socket.getReceiveBufferSize());
252             } else if (option.equals(StandardSocketOptions.SO_REUSEADDR)) {
253                 return Boolean.valueOf(socket.getReuseAddress());
254             } else if (option.equals(StandardSocketOptions.SO_REUSEPORT) &amp;&amp; reuseport) {
255                 return Boolean.valueOf(socket.getOption(StandardSocketOptions.SO_REUSEPORT));
256             } else if (option.equals(StandardSocketOptions.SO_LINGER)) {
257                 return Integer.valueOf(socket.getSoLinger());
258             } else if (option.equals(StandardSocketOptions.IP_TOS)) {
259                 return Integer.valueOf(socket.getTrafficClass());
260             } else if (option.equals(StandardSocketOptions.TCP_NODELAY)) {
261                 return Boolean.valueOf(socket.getTcpNoDelay());
262             } else {
<a name="31" id="anc31"></a><span class="line-modified">263                 throw new RuntimeException(&quot;unexpected socket option&quot;);</span>
264             }
265         } else if  (type.equals(ServerSocket.class)) {
266             ServerSocket socket = (ServerSocket)s;
267             Set&lt;SocketOption&lt;?&gt;&gt; options = socket.supportedOptions();
268             boolean reuseport = options.contains(StandardSocketOptions.SO_REUSEPORT);
269 
270             if (option.equals(StandardSocketOptions.SO_RCVBUF)) {
271                 return Integer.valueOf(socket.getReceiveBufferSize());
272             } else if (option.equals(StandardSocketOptions.SO_REUSEADDR)) {
273                 return Boolean.valueOf(socket.getReuseAddress());
274             } else if (option.equals(StandardSocketOptions.SO_REUSEPORT) &amp;&amp; reuseport) {
275                 return Boolean.valueOf(socket.getOption(StandardSocketOptions.SO_REUSEPORT));
276             } else if (option.equals(StandardSocketOptions.IP_TOS)) {
277                 return getServerSocketTrafficClass(socket);
278             } else {
<a name="32" id="anc32"></a><span class="line-modified">279                 throw new RuntimeException(&quot;unexpected socket option&quot;);</span>
280             }
281         } else if  (type.equals(DatagramSocket.class)) {
282             DatagramSocket socket = (DatagramSocket)s;
283             Set&lt;SocketOption&lt;?&gt;&gt; options = socket.supportedOptions();
284             boolean reuseport = options.contains(StandardSocketOptions.SO_REUSEPORT);
285 
286             if (option.equals(StandardSocketOptions.SO_SNDBUF)) {
287                 return Integer.valueOf(socket.getSendBufferSize());
288             } else if (option.equals(StandardSocketOptions.SO_RCVBUF)) {
289                 return Integer.valueOf(socket.getReceiveBufferSize());
290             } else if (option.equals(StandardSocketOptions.SO_REUSEADDR)) {
291                 return Boolean.valueOf(socket.getReuseAddress());
<a name="33" id="anc33"></a><span class="line-added">292             } else if (option.equals(StandardSocketOptions.SO_BROADCAST)) {</span>
<span class="line-added">293                 return Boolean.valueOf(socket.getBroadcast());</span>
294             } else if (option.equals(StandardSocketOptions.SO_REUSEPORT) &amp;&amp; reuseport) {
295                 return Boolean.valueOf(socket.getOption(StandardSocketOptions.SO_REUSEPORT));
296             } else if (option.equals(StandardSocketOptions.IP_TOS)) {
297                 return Integer.valueOf(socket.getTrafficClass());
298             } else {
<a name="34" id="anc34"></a><span class="line-modified">299                 throw new RuntimeException(&quot;unexpected socket option&quot;);</span>
300             }
301 
302         } else if  (type.equals(MulticastSocket.class)) {
303             MulticastSocket socket = (MulticastSocket)s;
304             Set&lt;SocketOption&lt;?&gt;&gt; options = socket.supportedOptions();
305             boolean reuseport = options.contains(StandardSocketOptions.SO_REUSEPORT);
306 
307             if (option.equals(StandardSocketOptions.SO_SNDBUF)) {
308                 return Integer.valueOf(socket.getSendBufferSize());
309             } else if (option.equals(StandardSocketOptions.SO_RCVBUF)) {
310                 return Integer.valueOf(socket.getReceiveBufferSize());
311             } else if (option.equals(StandardSocketOptions.SO_REUSEADDR)) {
312                 return Boolean.valueOf(socket.getReuseAddress());
<a name="35" id="anc35"></a><span class="line-added">313             } else if (option.equals(StandardSocketOptions.SO_BROADCAST)) {</span>
<span class="line-added">314                 return Boolean.valueOf(socket.getBroadcast());</span>
315             } else if (option.equals(StandardSocketOptions.SO_REUSEPORT) &amp;&amp; reuseport) {
316                 return Boolean.valueOf(socket.getOption(StandardSocketOptions.SO_REUSEPORT));
317             } else if (option.equals(StandardSocketOptions.IP_TOS)) {
318                 return Integer.valueOf(socket.getTrafficClass());
319             } else if (option.equals(StandardSocketOptions.IP_MULTICAST_IF)) {
320                 return socket.getNetworkInterface();
321             } else if (option.equals(StandardSocketOptions.IP_MULTICAST_TTL)) {
322                 return Integer.valueOf(socket.getTimeToLive());
323             } else if (option.equals(StandardSocketOptions.IP_MULTICAST_LOOP)) {
<a name="36" id="anc36"></a><span class="line-modified">324                 return !Boolean.valueOf(socket.getLoopbackMode());</span>
325             } else {
<a name="37" id="anc37"></a><span class="line-modified">326                 throw new RuntimeException(&quot;unexpected socket option&quot;);</span>
327             }
328         }
<a name="38" id="anc38"></a><span class="line-modified">329         throw new RuntimeException(&quot;unexpected socket type&quot;);</span>
330     }
331 
332     public static void main(String args[]) throws Exception {
<a name="39" id="anc39"></a><span class="line-added">333         IPSupport.throwSkippedExceptionIfNonOperational();</span>
334         doSocketTests();
335         doServerSocketTests();
<a name="40" id="anc40"></a><span class="line-modified">336         doDatagramSocketTests();</span>
<span class="line-modified">337         doMulticastSocketTests();</span>
338     }
339 
340     // Reflectively access jdk.net.Sockets.getOption so that the test can run
341     // without the jdk.net module.
342     static Object getServerSocketTrafficClass(ServerSocket ss) throws Exception {
343         try {
344             Class&lt;?&gt; c = Class.forName(&quot;jdk.net.Sockets&quot;);
345             Method m = c.getDeclaredMethod(&quot;getOption&quot;, ServerSocket.class, SocketOption.class);
346             return m.invoke(null, ss, StandardSocketOptions.IP_TOS);
347         } catch (ClassNotFoundException e) {
348             // Ok, jdk.net module not present, just fall back
349             System.out.println(&quot;jdk.net module not present, falling back.&quot;);
350             return Integer.valueOf(ss.getOption(StandardSocketOptions.IP_TOS));
351         } catch (ReflectiveOperationException e) {
352             throw new AssertionError(e);
353         }
354     }
355 }
<a name="41" id="anc41"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="41" type="hidden" />
</body>
</html>