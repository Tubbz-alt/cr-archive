<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New test/jdk/java/net/httpclient/reactivestreams-tck/org/reactivestreams/tck/flow/support/SubscriberBlackboxVerificationRules.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (c) 2019, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
 23 
 24 package org.reactivestreams.tck.flow.support;
 25 
 26 import org.reactivestreams.tck.SubscriberBlackboxVerification;
 27 
 28 /**
 29  * Internal TCK use only.
 30  * Add / Remove tests for SubscriberBlackboxVerification here to make sure that they arre added/removed in the other places.
 31  */
 32 public interface SubscriberBlackboxVerificationRules {
 33   /**
 34    * Asks for a {@code Subscriber} instance, expects it to call {@code request()} in
 35    * a timely manner and signals as many {@code onNext} items as the very first request
 36    * amount specified by the {@code Subscriber}.
 37    * &lt;p&gt;
 38    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#2.1&#39;&gt;2.1&lt;/a&gt;
 39    * &lt;p&gt;
 40    * Notes:
 41    * &lt;ul&gt;
 42    * &lt;li&gt;This test emits the number of items requested thus the {@code Subscriber} implementation
 43    * should not request too much.&lt;/li&gt;
 44    * &lt;li&gt;Only the very first {@code request} amount is considered.&lt;/li&gt;
 45    * &lt;li&gt;This test doesn&#39;t signal {@code onComplete} after the first set of {@code onNext} signals
 46    * has been emitted and may cause resource leak in
 47    * {@code Subscriber}s that expect a finite {@code Publisher}.&lt;/li&gt;
 48    * &lt;li&gt;The test ignores cancellation from the {@code Subscriber} and emits the requested amount regardless.&lt;/li&gt;
 49    * &lt;/ul&gt;
 50    * &lt;p&gt;
 51    * If this test fails, the following could be checked within the {@code Subscriber} implementation:
 52    * &lt;ul&gt;
 53    * &lt;li&gt;if the {@code Subscriber} requires external stimulus to begin requesting; override the
 54    * {@link SubscriberBlackboxVerification#triggerRequest(org.reactivestreams.Subscriber)} method
 55    *  in this case,&lt;/li&gt;
 56    * &lt;li&gt;the {@code TestEnvironment} has large enough timeout specified in case the {@code Subscriber} has some time-delay behavior,&lt;/li&gt;
 57    * &lt;li&gt;if the {@code Subscriber} requests zero or a negative value in some circumstances,&lt;/li&gt;
 58    * &lt;li&gt;if the {@code Subscriber} throws an unchecked exception from its {@code onSubscribe} or
 59    * {@code onNext} methods.
 60    * &lt;/ul&gt;
 61    */
 62   void required_spec201_blackbox_mustSignalDemandViaSubscriptionRequest() throws Throwable;
 63   /**
 64    * Currently, this test is skipped because there is no agreed upon approach how
 65    * to detect if the {@code Subscriber} really goes async or just responds in
 66    * a timely manner.
 67    * &lt;p&gt;
 68    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#2.2&#39;&gt;2.2&lt;/a&gt;
 69    */
 70   void untested_spec202_blackbox_shouldAsynchronouslyDispatch() throws Exception;
 71   /**
 72    * Asks for a {@code Subscriber}, signals an {@code onSubscribe} followed by an {@code onComplete} synchronously,
 73    * and checks if neither {@code request} nor {@code cancel} was called from within the {@code Subscriber}&#39;s
 74    * {@code onComplete} implementation.
 75    * &lt;p&gt;
 76    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#2.3&#39;&gt;2.3&lt;/a&gt;
 77    * &lt;p&gt;
 78    * Notes:
 79    * &lt;ul&gt;
 80    * &lt;li&gt;The test checks for the presensce of method named &quot;onComplete&quot; in the current stacktrace when handling
 81    * the {@code request} or {@code cancel} calls in the test&#39;s own {@code Subscription}.
 82    * &lt;/ul&gt;
 83    * &lt;p&gt;
 84    * If this test fails, the following could be checked within the {@code Subscriber} implementation:
 85    * &lt;ul&gt;
 86    * &lt;li&gt;no calls happen to {@code request} or {@code cancel} in response to an {@code onComplete}
 87    * directly or indirectly,&lt;/li&gt;
 88    * &lt;li&gt;if the {@code Subscriber} throws an unchecked exception from its {@code onSubscribe} or
 89    * {@code onComplete} methods.
 90    * &lt;/ul&gt;
 91    */
 92   void required_spec203_blackbox_mustNotCallMethodsOnSubscriptionOrPublisherInOnComplete() throws Throwable;
 93   /**
 94    * Asks for a {@code Subscriber}, signals an {@code onSubscribe} followed by an {@code onError} synchronously,
 95    * and checks if neither {@code request} nor {@code cancel} was called from within the {@code Subscriber}&#39;s
 96    * {@code onComplete} implementation.
 97    * &lt;p&gt;
 98    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#2.3&#39;&gt;2.3&lt;/a&gt;
 99    * &lt;p&gt;
100    * Notes:
101    * &lt;ul&gt;
102    * &lt;li&gt;The test checks for the presensce of method named &quot;onError&quot; in the current stacktrace when handling
103    * the {@code request} or {@code cancel} calls in the test&#39;s own {@code Subscription}.
104    * &lt;/ul&gt;
105    * &lt;p&gt;
106    * If this test fails, the following could be checked within the {@code Subscriber} implementation:
107    * &lt;ul&gt;
108    * &lt;li&gt;no calls happen to {@code request} or {@code cancel} in response to an {@code onError}
109    * directly or indirectly,&lt;/li&gt;
110    * &lt;li&gt;if the {@code Subscriber} throws an unchecked exception from its {@code onSubscribe} or
111    * {@code onError} methods.
112    * &lt;/ul&gt;
113    */
114   void required_spec203_blackbox_mustNotCallMethodsOnSubscriptionOrPublisherInOnError() throws Throwable;
115   /**
116    * Currently, this test is skipped because there is no way to check what the {@code Subscriber} &quot;considers&quot;
117    * since rule ยง2.3 forbids interaction from within the {@code onError} and {@code onComplete} methods.
118    * &lt;p&gt;
119    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#2.4&#39;&gt;2.4&lt;/a&gt;
120    * &lt;p&gt;
121    * Notes:
122    * &lt;ul&gt;
123    * &lt;li&gt;It would be possible to check if there was an async interaction with the test&#39;s {@code Subscription}
124    * within a grace period but such check is still not generally decisive.&lt;/li&gt;
125    * &lt;/ul&gt;
126    */
127   void untested_spec204_blackbox_mustConsiderTheSubscriptionAsCancelledInAfterRecievingOnCompleteOrOnError() throws Exception;
128   /**
129    * Asks for a {@code Subscriber}, signals {@code onSubscribe} twice synchronously and expects the second {@code Subscription} gets
130    * cancelled in a timely manner and without any calls to its {@code request} method.
131    * &lt;p&gt;
132    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#2.5&#39;&gt;2.5&lt;/a&gt;
133    * &lt;p&gt;
134    * Notes:
135    * &lt;ul&gt;
136    * &lt;li&gt;The test doesn&#39;t signal any other events than {@code onSubscribe} and may cause resource leak in
137    * {@code Subscriber}s that expect a finite {@code Publisher}.
138    * &lt;/ul&gt;
139    * &lt;p&gt;
140    * If this test fails, the following could be checked within the {@code Subscriber} implementation:
141    * &lt;ul&gt;
142    * &lt;li&gt;if the {@code Subscribe.onSubscribe} implementation actually tries to detect multiple calls to it,&lt;/li&gt;
143    * &lt;li&gt;if the second {@code Subscription} is cancelled asynchronously and that takes longer time than
144    * the {@code TestEnvironment}&#39;s timeout permits.&lt;/li&gt;
145    * &lt;/ul&gt;
146    */
147   void required_spec205_blackbox_mustCallSubscriptionCancelIfItAlreadyHasAnSubscriptionAndReceivesAnotherOnSubscribeSignal() throws Exception;
148 
149   /**
150    * Currently, this test is skipped because it requires more control over the {@code Subscriber} implementation
151    * to make it cancel the {@code Subscription} for some external condition.
152    * &lt;p&gt;
153    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#2.6&#39;&gt;2.6&lt;/a&gt;
154    */
155   void untested_spec206_blackbox_mustCallSubscriptionCancelIfItIsNoLongerValid() throws Exception;
156   /**
157    * Currently, this test is skipped because it requires more control over the {@code Subscriber} implementation
158    * to issue requests based on external stimulus.
159    * &lt;p&gt;
160    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#2.7&#39;&gt;2.7&lt;/a&gt;
161    */
162   void untested_spec207_blackbox_mustEnsureAllCallsOnItsSubscriptionTakePlaceFromTheSameThreadOrTakeCareOfSynchronization() throws Exception;
163   /**
164    * Currently, this test is skipped because there is no way to make the {@code Subscriber} implementation
165    * cancel the test&#39;s {@code Subscription} and check the outcome of sending {@code onNext}s after such
166    * cancel.
167    * &lt;p&gt;
168    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#2.8&#39;&gt;2.8&lt;/a&gt;
169    */
170   void untested_spec208_blackbox_mustBePreparedToReceiveOnNextSignalsAfterHavingCalledSubscriptionCancel() throws Throwable;
171   /**
172    * Asks for a {@code Subscriber}, expects it to request some amount and in turn be able to receive an {@code onComplete}
173    * synchronously from the {@code request} call without any {@code onNext} signals before that.
174    * &lt;p&gt;
175    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#2.9&#39;&gt;2.9&lt;/a&gt;
176    * &lt;p&gt;
177    * Notes:
178    * &lt;ul&gt;
179    * &lt;li&gt;The test ignores cancellation from the {@code Subscriber}.&lt;/li&gt;
180    * &lt;li&gt;Invalid request amounts are ignored by this test.&lt;/li&gt;
181    * &lt;li&gt;Concurrent calls to the test&#39;s {@code Subscription.request()} must be externally synchronized, otherwise
182    * such case results probabilistically in multiple {@code onComplete} calls by the test.&lt;/li&gt;
183    * &lt;/ul&gt;
184    * &lt;p&gt;
185    * If this test fails, the following could be checked within the {@code Subscriber} implementation:
186    * &lt;ul&gt;
187    * &lt;li&gt;if the {@code Subscriber} throws an unchecked exception from its {@code onSubscribe} or
188    * {@code onComplete} methods.
189    * &lt;li&gt;if the {@code Subscriber} requires external stimulus to begin requesting; override the
190    * {@link SubscriberBlackboxVerification#triggerRequest(org.reactivestreams.Subscriber)} method
191    *  in this case,&lt;/li&gt;
192    * &lt;/ul&gt;
193    */
194   void required_spec209_blackbox_mustBePreparedToReceiveAnOnCompleteSignalWithPrecedingRequestCall() throws Throwable;
195   /**
196    * Asks for a {@code Subscriber} and expects it to handle {@code onComplete} independent of whether the {@code Subscriber}
197    * requests items or not.
198    * &lt;p&gt;
199    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#2.9&#39;&gt;2.9&lt;/a&gt;
200    * &lt;p&gt;
201    * Notes:
202    * &lt;ul&gt;
203    * &lt;li&gt;Currently, the test doesn&#39;t call {@code onSubscribe} on the {@code Subscriber} which violates ยง1.9.
204    * &lt;/ul&gt;
205    * &lt;p&gt;
206    * If this test fails, the following could be checked within the {@code Subscriber} implementation:
207    * &lt;ul&gt;
208    * &lt;li&gt;if the {@code Subscriber} throws an unchecked exception from its {@code onSubscribe} or
209    * {@code onComplete} methods.
210    * &lt;/ul&gt;
211    */
212   void required_spec209_blackbox_mustBePreparedToReceiveAnOnCompleteSignalWithoutPrecedingRequestCall() throws Throwable;
213   /**
214    * Asks for a {@code Subscriber}, signals {@code onSubscribe} followed by an {@code onError} synchronously.
215    * &lt;p&gt;
216    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#2.10&#39;&gt;2.10&lt;/a&gt;
217    * &lt;p&gt;
218    * Notes:
219    * &lt;ul&gt;
220    * &lt;li&gt;Despite the method name, the test doesn&#39;t expect a request signal from {@code Subscriber} and emits the
221    * {@code onError} signal anyway.
222    * &lt;/ul&gt;
223    * &lt;p&gt;
224    * If this test fails, the following could be checked within the {@code Subscriber} implementation:
225    * &lt;ul&gt;
226    * &lt;li&gt;if the {@code Subscriber} throws an unchecked exception from its {@code onSubscribe} or
227    * {@code onError} methods.
228    * &lt;/ul&gt;
229    */
230   void required_spec210_blackbox_mustBePreparedToReceiveAnOnErrorSignalWithPrecedingRequestCall() throws Throwable;
231 
232   /**
233    * Asks for a {@code Subscriber}, signals {@code onSubscribe} followed by an {@code onError} synchronously.
234    * &lt;p&gt;
235    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#2.10&#39;&gt;2.10&lt;/a&gt;
236    * &lt;p&gt;
237    * If this test fails, the following could be checked within the {@code Subscriber} implementation:
238    * &lt;ul&gt;
239    * &lt;li&gt;if the {@code Subscriber} throws an unchecked exception from its {@code onSubscribe} or
240    * {@code onError} methods.
241    * &lt;/ul&gt;
242    */
243   void required_spec210_blackbox_mustBePreparedToReceiveAnOnErrorSignalWithoutPrecedingRequestCall() throws Throwable;
244 
245   /**
246    * Currently, this test is skipped because it would require analyzing what the {@code Subscriber} implementation
247    * does.
248    * &lt;p&gt;
249    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#2.11&#39;&gt;2.11&lt;/a&gt;
250    */
251   void untested_spec211_blackbox_mustMakeSureThatAllCallsOnItsMethodsHappenBeforeTheProcessingOfTheRespectiveEvents() throws Exception;
252   /**
253    * Currently, this test is skipped because the test for
254    * {@link #required_spec205_blackbox_mustCallSubscriptionCancelIfItAlreadyHasAnSubscriptionAndReceivesAnotherOnSubscribeSignal ยง2.5}
255    * is in a better position to test for handling the reuse of the same {@code Subscriber}.
256    * &lt;p&gt;
257    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#2.12&#39;&gt;2.12&lt;/a&gt;
258    * &lt;p&gt;
259    * Notes:
260    * &lt;ul&gt;
261    * &lt;li&gt;In addition to ยง2.5, this rule could be better verified when testing a {@code Publisher}&#39;s subscription behavior.
262    * &lt;/ul&gt;
263    */
264   void untested_spec212_blackbox_mustNotCallOnSubscribeMoreThanOnceBasedOnObjectEquality() throws Throwable;
265   /**
266    * Currently, this test is skipped because it would require more control over the {@code Subscriber} to
267    * fail internally in response to a set of legal event emissions, not throw any exception from the {@code Subscriber}
268    * methods and have it cancel the {@code Subscription}.
269    * &lt;p&gt;
270    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#2.13&#39;&gt;2.13&lt;/a&gt;
271    */
272   void untested_spec213_blackbox_failingOnSignalInvocation() throws Exception;
273   /**
274    * Asks for a {@code Subscriber} and signals an {@code onSubscribe} event with {@code null} as a parameter and
275    * expects an immediate {@code NullPointerException} to be thrown by the {@code Subscriber.onSubscribe} method.
276    * &lt;p&gt;
277    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#2.13&#39;&gt;2.13&lt;/a&gt;
278    * &lt;p&gt;
279    * If this test fails, the following could be checked within the {@code Subscriber} implementation:
280    * &lt;ul&gt;
281    * &lt;li&gt;if the {@code Subscriber} throws a {@code NullPointerException} from its {@code onSubscribe} method
282    * in response to a {@code null} parameter and not some other unchecked exception or no exception at all.
283    * &lt;/ul&gt;
284    */
285   void required_spec213_blackbox_onSubscribe_mustThrowNullPointerExceptionWhenParametersAreNull() throws Throwable;
286   /**
287    * Asks for a {@code Subscriber}, signals an {@code onSubscribe} event followed by a
288    * {@code onNext} with {@code null} as a parameter and
289    * expects an immediate {@code NullPointerException} to be thrown by the {@code Subscriber.onNext} method.
290    * &lt;p&gt;
291    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#2.13&#39;&gt;2.13&lt;/a&gt;
292    * &lt;p&gt;
293    * Notes:
294    * &lt;ul&gt;
295    * &lt;li&gt;The test ignores cancellation and requests from the {@code Subscriber} and emits the {@code onNext}
296    * signal with a {@code null} parameter anyway.&lt;/li&gt;
297    * &lt;/ul&gt;
298    * &lt;p&gt;
299    * If this test fails, the following could be checked within the {@code Subscriber} implementation:
300    * &lt;ul&gt;
301    * &lt;li&gt;if the {@code Subscriber} throws a {@code NullPointerException} from its {@code onNext} method
302    * in response to a {@code null} parameter and not some other unchecked exception or no exception at all.
303    * &lt;/ul&gt;
304    */
305   void required_spec213_blackbox_onNext_mustThrowNullPointerExceptionWhenParametersAreNull() throws Throwable;
306   /**
307    * Asks for a {@code Subscriber}, signals an {@code onSubscribe} event followed by a
308    * {@code onError} with {@code null} as a parameter and
309    * expects an immediate {@code NullPointerException} to be thrown by the {@code Subscriber.onError} method.
310    * &lt;p&gt;
311    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#2.13&#39;&gt;2.13&lt;/a&gt;
312    * &lt;p&gt;
313    * Notes:
314    * &lt;ul&gt;
315    * &lt;li&gt;The test ignores cancellation from the {@code Subscriber} and emits the {@code onError}
316    * signal with a {@code null} parameter anyway.&lt;/li&gt;
317    * &lt;/ul&gt;
318    * &lt;p&gt;
319    * If this test fails, the following could be checked within the {@code Subscriber} implementation:
320    * &lt;ul&gt;
321    * &lt;li&gt;if the {@code Subscriber} throws a {@code NullPointerException} from its {@code onNext} method
322    * in response to a {@code null} parameter and not some other unchecked exception or no exception at all.
323    * &lt;/ul&gt;
324    */
325   void required_spec213_blackbox_onError_mustThrowNullPointerExceptionWhenParametersAreNull() throws Throwable;
326   /**
327    * Currently, this test is skipped because there is no agreed upon way for specifying, enforcing and testing
328    * a {@code Subscriber} with an arbitrary context.
329    * &lt;p&gt;
330    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#3.1&#39;&gt;3.1&lt;/a&gt;
331    */
332   void untested_spec301_blackbox_mustNotBeCalledOutsideSubscriberContext() throws Exception;
333   /**
334    * Currently, this test is skipped because element production is the responsibility of the {@code Publisher} and
335    * a {@code Subscription} is not expected to be the active element in an established subscription.
336    * &lt;p&gt;
337    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#3.8&#39;&gt;3.8&lt;/a&gt;
338    */
339   void untested_spec308_blackbox_requestMustRegisterGivenNumberElementsToBeProduced() throws Throwable;
340   /**
341    * Currently, this test is skipped because element production is the responsibility of the {@code Publisher} and
342    * a {@code Subscription} is not expected to be the active element in an established subscription.
343    * &lt;p&gt;
344    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#3.10&#39;&gt;3.10&lt;/a&gt;
345    * &lt;p&gt;
346    * Notes:
347    * &lt;ul&gt;
348    * &lt;li&gt;This could be tested with a synchronous source currently not available within the TCK.&lt;/li&gt;
349    * &lt;/ul&gt;
350    */
351   void untested_spec310_blackbox_requestMaySynchronouslyCallOnNextOnSubscriber() throws Exception;
352   /**
353    * Currently, this test is skipped because signal production is the responsibility of the {@code Publisher} and
354    * a {@code Subscription} is not expected to be the active element in an established subscription.
355    * &lt;p&gt;
356    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#3.11&#39;&gt;3.11&lt;/a&gt;
357    * &lt;p&gt;
358    * Notes:
359    * &lt;ul&gt;
360    * &lt;li&gt;Tests {@link #required_spec209_blackbox_mustBePreparedToReceiveAnOnCompleteSignalWithPrecedingRequestCall() ยง2.9}
361    * and {@link #required_spec210_blackbox_mustBePreparedToReceiveAnOnErrorSignalWithPrecedingRequestCall() ยง2.10} are
362    * supposed to cover this case from the {@code Subscriber&#39;s} perspective.&lt;/li&gt;
363    * &lt;/ul&gt;
364    */
365   void untested_spec311_blackbox_requestMaySynchronouslyCallOnCompleteOrOnError() throws Exception;
366   /**
367    * Currently, this test is skipped because it is the responsibility of the {@code Publisher} deal with the case
368    * that all subscribers have cancelled their subscription.
369    * &lt;p&gt;
370    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#3.14&#39;&gt;3.14&lt;/a&gt;
371    * &lt;p&gt;
372    * Notes:
373    * &lt;ul&gt;
374    * &lt;li&gt;The specification lists this as an optional behavior because only some {@code Publisher} implementations
375    * (most likely {@code Processor}s) would coordinate with multiple {@code Subscriber}s.&lt;/li&gt;
376    * &lt;/ul&gt;
377    */
378   void untested_spec314_blackbox_cancelMayCauseThePublisherToShutdownIfNoOtherSubscriptionExists() throws Exception;
379   /**
380    * Currently, this test is skipped because it requires more control over the {@code Subscriber} implementation
381    * thus there is no way to detect that the {@code Subscriber} called its own {@code onError} method in response
382    * to an exception thrown from {@code Subscription.cancel}.
383    * &lt;p&gt;
384    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#3.15&#39;&gt;3.15&lt;/a&gt;
385    */
386   void untested_spec315_blackbox_cancelMustNotThrowExceptionAndMustSignalOnError() throws Exception;
387   /**
388    * Currently, this test is skipped because it requires more control over the {@code Subscriber} implementation
389    * thus there is no way to detect that the {@code Subscriber} called its own {@code onError} method in response
390    * to an exception thrown from {@code Subscription.request}.
391    * &lt;p&gt;
392    * &lt;b&gt;Verifies rule:&lt;/b&gt; &lt;a href=&#39;https://github.com/reactive-streams/reactive-streams-jvm#3.16&#39;&gt;3.16&lt;/a&gt;
393    */
394   void untested_spec316_blackbox_requestMustNotThrowExceptionAndMustOnErrorTheSubscriber() throws Exception;
395 }
    </pre>
  </body>
</html>