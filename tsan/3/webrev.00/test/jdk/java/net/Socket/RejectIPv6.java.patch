diff a/test/jdk/java/net/Socket/RejectIPv6.java b/test/jdk/java/net/Socket/RejectIPv6.java
--- a/test/jdk/java/net/Socket/RejectIPv6.java
+++ b/test/jdk/java/net/Socket/RejectIPv6.java
@@ -22,23 +22,27 @@
  */
 
 /*
  * @test
  * @bug 8201510
+ * @library /test/lib
  * @summary Make sure IPv6 addresses are rejected when the System option
  *          java.net.preferIPv4Stack is set to true
  * @run main/othervm -Djava.net.preferIPv4Stack=true RejectIPv6
  */
 
 import java.net.InetSocketAddress;
 import java.net.ServerSocket;
 import java.net.Socket;
 import java.net.SocketException;
+import jdk.test.lib.net.IPSupport;
 
 public class RejectIPv6 {
 
     public static void main(String [] argv) throws Throwable {
+        IPSupport.throwSkippedExceptionIfNonOperational();
+
         ServerSocket serverSocket = new ServerSocket(0);
         serverSocket.setSoTimeout(1000);
         int serverPort = serverSocket.getLocalPort();
         Socket clientSocket = new Socket();
 
