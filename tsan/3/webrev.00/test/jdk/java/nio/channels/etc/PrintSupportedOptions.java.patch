diff a/test/jdk/java/nio/channels/etc/PrintSupportedOptions.java b/test/jdk/java/nio/channels/etc/PrintSupportedOptions.java
--- a/test/jdk/java/nio/channels/etc/PrintSupportedOptions.java
+++ b/test/jdk/java/nio/channels/etc/PrintSupportedOptions.java
@@ -21,28 +21,33 @@
  * questions.
  */
 
 /**
  * @test
+ * @library /test/lib
  * @requires (os.family == "linux" | os.family == "mac" | os.family == "windows")
  * @bug 8209152
  * @run main PrintSupportedOptions
  * @run main/othervm -Djava.net.preferIPv4Stack=true PrintSupportedOptions
  */
 
 import java.io.IOException;
 import java.net.SocketOption;
 import java.nio.channels.*;
 
+import jdk.test.lib.net.IPSupport;
+
 public class PrintSupportedOptions {
 
     @FunctionalInterface
     interface NetworkChannelSupplier<T extends NetworkChannel> {
         T get() throws IOException;
     }
 
     public static void main(String[] args) throws IOException {
+        IPSupport.throwSkippedExceptionIfNonOperational();
+
         test(() -> SocketChannel.open());
         test(() -> ServerSocketChannel.open());
         test(() -> DatagramChannel.open());
 
         test(() -> AsynchronousSocketChannel.open());
