<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/java/io/Serializable/subclass/AbstractObjectInputStream.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../stopCustomDeserialization/Write.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="AbstractObjectOutputStream.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/java/io/Serializable/subclass/AbstractObjectInputStream.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 1998, 2004, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
</pre>
<hr />
<pre>
236     /**
237      * Enable allocation for subclass reimplementing serialization.&lt;p&gt;
238      *
239      * Note: Default allocation does not have the java access priviledges
240      * to invoke package and protected constructors.&lt;p&gt;
241      *
242      * Security alert: this JVM native method is private within ObjectInputStream; however,
243      *                 it was anticipated that re-implementors of serialization would need
244      *                 access to this method. Is this allocator considered a security problem? &lt;p&gt;
245      *
246      * @param ctorClass  is the same class or a superclass of &lt;STRONG&gt;ofClass&lt;/STRONG&gt;
247      * @param ofClass    the type of the object to allocate.
248      * @return   an object of &lt;STRONG&gt;ofClass&lt;/STRONG&gt; type.
249      *
250      * @exception IllegalAccessException if no-arg constructor of
251      *            &lt;STRONG&gt;ctorClass&lt;/STRONG&gt; is not accessible from
252      *            &lt;STRONG&gt;ofClass&lt;/STRONG&gt;.
253      * @exception InstantiationException  TBD.
254      */
255     protected final native Object
<span class="line-modified">256         allocateNewObject(Class ofClass, Class ctorClass)</span>
257         throws InstantiationException, IllegalAccessException;
258 
259     /**
260      * Enable allocation for subclass reimplementing serialization.&lt;p&gt;
261      *
262      * Note: Default allocation does not have the java access priviledges
263      * to invoke package and protected constructors.&lt;p&gt;
264      *
265      * Security alert: this JVM native method is private within ObjectInputStream; however,
266      *                 it was anticipated that re-implementors of serialization would need
267      *                 access to this method. Is this allocator considered a security problem?&lt;p&gt;
268      *
269      *
270      * @exception IllegalAccessException  TBD.
271      * @exception InstantiationException  TBD.
272      */
273     protected final native Object
<span class="line-modified">274         allocateNewArray(Class componentClass, int length)</span>
275         throws InstantiationException, IllegalAccessException;
276 
277     /**
278      * Reads the Serializable fields from the stream into a buffer
279      * and makes the fields available by name.
280      *
281      * @exception java.lang.ClassNotFoundException if the class of a serialized
282      *              object could not be found.
283      * @exception IOException        if an I/O error occurs.
284      * @exception NotActiveException if readObject() is not currently active.
285      */
286     public abstract ObjectInputStream.GetField readFields()
287         throws IOException, ClassNotFoundException, NotActiveException;
288 
289     protected abstract boolean enableResolveObject(boolean enable) throws SecurityException;
290 
291     public abstract void registerValidation(ObjectInputValidation obj,
292                                             int prio)
293         throws NotActiveException, InvalidObjectException;
294 
</pre>
<hr />
<pre>
300     public abstract int read() throws IOException;
301     public abstract int read(byte[] data, int offset, int length)
302         throws IOException;
303     public abstract boolean readBoolean() throws IOException;
304     public abstract byte readByte() throws IOException;
305     public abstract int readUnsignedByte()  throws IOException;
306     public abstract short readShort()  throws IOException;
307     public abstract int readUnsignedShort() throws IOException;
308     public abstract char readChar()  throws IOException;
309     public abstract int readInt()  throws IOException;
310     public abstract long readLong()  throws IOException;
311     public abstract float readFloat() throws IOException;
312     public abstract double readDouble() throws IOException;
313     public abstract void readFully(byte[] data) throws IOException;
314     public abstract void readFully(byte[] data, int offset, int size) throws IOException;
315     public abstract String readUTF() throws IOException;
316     public abstract int available() throws IOException;
317     public abstract int skipBytes(int len) throws IOException;
318 
319     /* @deprecated */

320     public abstract String readLine() throws IOException;
321 };
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 1998, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
</pre>
<hr />
<pre>
236     /**
237      * Enable allocation for subclass reimplementing serialization.&lt;p&gt;
238      *
239      * Note: Default allocation does not have the java access priviledges
240      * to invoke package and protected constructors.&lt;p&gt;
241      *
242      * Security alert: this JVM native method is private within ObjectInputStream; however,
243      *                 it was anticipated that re-implementors of serialization would need
244      *                 access to this method. Is this allocator considered a security problem? &lt;p&gt;
245      *
246      * @param ctorClass  is the same class or a superclass of &lt;STRONG&gt;ofClass&lt;/STRONG&gt;
247      * @param ofClass    the type of the object to allocate.
248      * @return   an object of &lt;STRONG&gt;ofClass&lt;/STRONG&gt; type.
249      *
250      * @exception IllegalAccessException if no-arg constructor of
251      *            &lt;STRONG&gt;ctorClass&lt;/STRONG&gt; is not accessible from
252      *            &lt;STRONG&gt;ofClass&lt;/STRONG&gt;.
253      * @exception InstantiationException  TBD.
254      */
255     protected final native Object
<span class="line-modified">256         allocateNewObject(Class&lt;?&gt; ofClass, Class&lt;?&gt; ctorClass)</span>
257         throws InstantiationException, IllegalAccessException;
258 
259     /**
260      * Enable allocation for subclass reimplementing serialization.&lt;p&gt;
261      *
262      * Note: Default allocation does not have the java access priviledges
263      * to invoke package and protected constructors.&lt;p&gt;
264      *
265      * Security alert: this JVM native method is private within ObjectInputStream; however,
266      *                 it was anticipated that re-implementors of serialization would need
267      *                 access to this method. Is this allocator considered a security problem?&lt;p&gt;
268      *
269      *
270      * @exception IllegalAccessException  TBD.
271      * @exception InstantiationException  TBD.
272      */
273     protected final native Object
<span class="line-modified">274         allocateNewArray(Class&lt;?&gt; componentClass, int length)</span>
275         throws InstantiationException, IllegalAccessException;
276 
277     /**
278      * Reads the Serializable fields from the stream into a buffer
279      * and makes the fields available by name.
280      *
281      * @exception java.lang.ClassNotFoundException if the class of a serialized
282      *              object could not be found.
283      * @exception IOException        if an I/O error occurs.
284      * @exception NotActiveException if readObject() is not currently active.
285      */
286     public abstract ObjectInputStream.GetField readFields()
287         throws IOException, ClassNotFoundException, NotActiveException;
288 
289     protected abstract boolean enableResolveObject(boolean enable) throws SecurityException;
290 
291     public abstract void registerValidation(ObjectInputValidation obj,
292                                             int prio)
293         throws NotActiveException, InvalidObjectException;
294 
</pre>
<hr />
<pre>
300     public abstract int read() throws IOException;
301     public abstract int read(byte[] data, int offset, int length)
302         throws IOException;
303     public abstract boolean readBoolean() throws IOException;
304     public abstract byte readByte() throws IOException;
305     public abstract int readUnsignedByte()  throws IOException;
306     public abstract short readShort()  throws IOException;
307     public abstract int readUnsignedShort() throws IOException;
308     public abstract char readChar()  throws IOException;
309     public abstract int readInt()  throws IOException;
310     public abstract long readLong()  throws IOException;
311     public abstract float readFloat() throws IOException;
312     public abstract double readDouble() throws IOException;
313     public abstract void readFully(byte[] data) throws IOException;
314     public abstract void readFully(byte[] data, int offset, int size) throws IOException;
315     public abstract String readUTF() throws IOException;
316     public abstract int available() throws IOException;
317     public abstract int skipBytes(int len) throws IOException;
318 
319     /* @deprecated */
<span class="line-added">320     @SuppressWarnings(&quot;deprecation&quot;)</span>
321     public abstract String readLine() throws IOException;
322 };
</pre>
</td>
</tr>
</table>
<center><a href="../stopCustomDeserialization/Write.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="AbstractObjectOutputStream.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>