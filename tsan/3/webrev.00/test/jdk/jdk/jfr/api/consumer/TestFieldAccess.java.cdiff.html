<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/jdk/jdk/jfr/api/consumer/TestFieldAccess.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../internal/ref/Cleaner/ExitOnThrow.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="TestGetStackTrace.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/jdk/jfr/api/consumer/TestFieldAccess.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 43,10 ***</span>
<span class="line-new-header">--- 43,12 ---</span>
   * @run main/othervm jdk.jfr.api.consumer.TestFieldAccess
   */
  public class TestFieldAccess {
  
      private static class MyEvent extends Event {
<span class="line-added">+         byte byteField = 42;</span>
<span class="line-added">+         char charField = &#39;X&#39;;</span>
          String stringField = &quot;Hello&quot;;
          int intField = 4711;
          long longField = 4712L;
          short shortField = (short)67;
          double doubleField = Double.NaN;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 70,10 ***</span>
<span class="line-new-header">--- 72,16 ---</span>
              testGetField(event, myEvent);
          }
      }
  
      private static void testGetField(RecordedEvent event, MyEvent myEvent) {
<span class="line-added">+         char charField = event.getValue(&quot;charField&quot;);</span>
<span class="line-added">+         Asserts.assertEquals(charField, myEvent.charField);</span>
<span class="line-added">+ </span>
<span class="line-added">+         byte byteField = event.getValue(&quot;byteField&quot;);</span>
<span class="line-added">+         Asserts.assertEquals(byteField, myEvent.byteField);</span>
<span class="line-added">+ </span>
          String stringField = event.getValue(&quot;stringField&quot;);
          Asserts.assertEquals(stringField, myEvent.stringField);
  
          int intField = event.getValue(&quot;intField&quot;);
          Asserts.assertEquals(intField, myEvent.intField);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 101,11 ***</span>
          RecordedClass  classField = event.getValue(&quot;classField&quot;);
          Asserts.assertEquals(classField.getName(), myEvent.classField.getName());
          String className = event.getValue(&quot;classField.name&quot;);
          Asserts.assertEquals(classField.getName(), className.replace(&quot;/&quot;, &quot;.&quot;));
  
<span class="line-removed">- </span>
          try {
              event.getValue(&quot;doesnotexist&quot;);
          } catch (IllegalArgumentException iae) {
              // as expected
          }
<span class="line-new-header">--- 109,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 123,10 ***</span>
<span class="line-new-header">--- 130,12 ---</span>
          }
      }
  
      private static void testHasField(RecordedEvent event) {
          System.out.println(event);
<span class="line-added">+         Asserts.assertTrue(event.hasField(&quot;charField&quot;));</span>
<span class="line-added">+         Asserts.assertTrue(event.hasField(&quot;byteField&quot;));</span>
          Asserts.assertTrue(event.hasField(&quot;stringField&quot;));
          Asserts.assertTrue(event.hasField(&quot;intField&quot;));
          Asserts.assertTrue(event.hasField(&quot;longField&quot;));
          Asserts.assertTrue(event.hasField(&quot;shortField&quot;));
          Asserts.assertTrue(event.hasField(&quot;doubleField&quot;));
</pre>
<center><a href="../../../internal/ref/Cleaner/ExitOnThrow.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="TestGetStackTrace.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>