<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old test/jdk/jdk/jfr/event/io/MakeJAR.sh</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
  <body>
    <pre>
 1 #!/bin/sh
 2 
 3 AGENT=&quot;$1&quot;
 4 
 5 if [ &quot;${TESTSRC}&quot; = &quot;&quot; ]
 6 then
 7   echo &quot;TESTSRC not set.  Test cannot execute.  Failed.&quot;
 8   exit 1
 9 fi
10 echo &quot;TESTSRC=${TESTSRC}&quot;
11 
12 if [ &quot;${TESTJAVA}&quot; = &quot;&quot; ]
13 then
14   echo &quot;TESTJAVA not set.  Test cannot execute.  Failed.&quot;
15   exit 1
16 fi
17 echo &quot;TESTJAVA=${TESTJAVA}&quot;
18 
19 if [ &quot;${TESTCLASSES}&quot; = &quot;&quot; ]
20 then
21   echo &quot;TESTCLASSES not set.  Test cannot execute.  Failed.&quot;
22   exit 1
23 fi
24 
25 if [ -z &quot;${COMPILEJAVA}&quot; ]
26 then
27   COMPILEJAVA=${TESTJAVA}
28 fi
29 
30 JAVAC=&quot;${COMPILEJAVA}/bin/javac -g&quot;
31 JAR=&quot;${COMPILEJAVA}/bin/jar&quot;
32 
33 cp ${TESTSRC}/${AGENT}.java .
34 ${JAVAC} -cp ${TESTCLASSPATH} ${AGENT}.java
35 
36 echo &quot;Manifest-Version: 1.0&quot;    &gt;  ${AGENT}.mf
37 echo Premain-Class: jdk.jfr.event.io.${AGENT} &gt;&gt; ${AGENT}.mf
38 shift
39 while [ $# != 0 ] ; do
40   echo $1 &gt;&gt; ${AGENT}.mf
41   shift
42 done
43 
44 
45 ${JAR} cvfm ${AGENT}.jar ${AGENT}.mf ${AGENT}*.class
    </pre>
  </body>
</html>