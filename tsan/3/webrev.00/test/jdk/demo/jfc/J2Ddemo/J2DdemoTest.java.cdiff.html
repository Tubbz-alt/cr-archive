<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/jdk/demo/jfc/J2Ddemo/J2DdemoTest.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../../../com/sun/nio/sctp/SctpMultiChannel/SocketOptionTests.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../../java/awt/Choice/ChoiceKeyEventReaction/ChoiceKeyEventReaction.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/demo/jfc/J2Ddemo/J2DdemoTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 37,11 ***</span>
  
      public static void main(String args[]) throws Exception {
          DemoRun test;
  
          /* Run the J2Ddemo.jar with the -runs=1 option */
<span class="line-modified">!         test = new DemoRun(&quot;demo/jfc/J2Ddemo/J2Ddemo.jar&quot;, &quot;-runs=1&quot;);</span>
          test.runit();
  
          /* Make sure patterns in output look ok */
          if (test.output_contains(&quot;ERROR&quot;)) {
              throw new RuntimeException(&quot;Test failed - ERROR seen in output&quot;);
<span class="line-new-header">--- 37,11 ---</span>
  
      public static void main(String args[]) throws Exception {
          DemoRun test;
  
          /* Run the J2Ddemo.jar with the -runs=1 option */
<span class="line-modified">!         test = new DemoRun(&quot;jfc/J2Ddemo/J2Ddemo.jar&quot;, &quot;-runs=1&quot;);</span>
          test.runit();
  
          /* Make sure patterns in output look ok */
          if (test.output_contains(&quot;ERROR&quot;)) {
              throw new RuntimeException(&quot;Test failed - ERROR seen in output&quot;);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 156,11 ***</span>
                  cmdLine += (cmd[i++] = vopt);
                  cmdLine += &quot; &quot;;
              }
              cmdLine += (cmd[i++] = &quot;-jar&quot;);
              cmdLine += &quot; &quot;;
<span class="line-modified">!             cmdLine += (cmd[i++] = sdk_home + File.separator + demo_name);</span>
              cmdLine += &quot; &quot;;
              cmdLine += (cmd[i++] = demo_options);
  
              /* Begin process */
              Process p;
<span class="line-new-header">--- 156,22 ---</span>
                  cmdLine += (cmd[i++] = vopt);
                  cmdLine += &quot; &quot;;
              }
              cmdLine += (cmd[i++] = &quot;-jar&quot;);
              cmdLine += &quot; &quot;;
<span class="line-modified">!             String demo_path;</span>
<span class="line-added">+             String test_dir = System.getenv(&quot;TEST_IMAGE_DIR&quot;);</span>
<span class="line-added">+             System.out.println(&quot;TEST_IMAGE_DIR=&quot;+test_dir);</span>
<span class="line-added">+             if (test_dir != null) {</span>
<span class="line-added">+                 demo_path = test_dir + File.separator + &quot;jdk&quot; + File.separator +</span>
<span class="line-added">+                             &quot;demos&quot; + File.separator + demo_name;</span>
<span class="line-added">+             } else {</span>
<span class="line-added">+                 demo_path = sdk_home + File.separator +</span>
<span class="line-added">+                             &quot;demo&quot; + File.separator + demo_name;</span>
<span class="line-added">+             }</span>
<span class="line-added">+             System.out.println(&quot;demo_path=&quot;+demo_path);</span>
<span class="line-added">+             cmdLine += cmd[i++] = demo_path;</span>
              cmdLine += &quot; &quot;;
              cmdLine += (cmd[i++] = demo_options);
  
              /* Begin process */
              Process p;
</pre>
<center><a href="../../../com/sun/nio/sctp/SctpMultiChannel/SocketOptionTests.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../../java/awt/Choice/ChoiceKeyEventReaction/ChoiceKeyEventReaction.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>