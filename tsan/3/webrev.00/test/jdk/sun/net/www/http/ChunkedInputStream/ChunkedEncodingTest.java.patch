diff a/test/jdk/sun/net/www/http/ChunkedInputStream/ChunkedEncodingTest.java b/test/jdk/sun/net/www/http/ChunkedInputStream/ChunkedEncodingTest.java
--- a/test/jdk/sun/net/www/http/ChunkedInputStream/ChunkedEncodingTest.java
+++ b/test/jdk/sun/net/www/http/ChunkedInputStream/ChunkedEncodingTest.java
@@ -1,7 +1,7 @@
 /*
- * Copyright (c) 2004, 2016, Oracle and/or its affiliates. All rights reserved.
+ * Copyright (c) 2004, 2019, Oracle and/or its affiliates. All rights reserved.
  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  *
  * This code is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License version 2 only, as
  * published by the Free Software Foundation.
@@ -23,10 +23,11 @@
 
 /**
  * @test
  * @bug 4333920
  * @modules jdk.httpserver
+ * @library /test/lib
  * @run main ChunkedEncodingTest
  * @summary ChunkedEncodingTest unit test
  */
 
 import java.io.*;
@@ -34,10 +35,11 @@
 import java.security.*;
 import com.sun.net.httpserver.HttpServer;
 import com.sun.net.httpserver.HttpHandler;
 import com.sun.net.httpserver.HttpExchange;
 import static java.lang.System.out;
+import jdk.test.lib.net.URIBuilder;
 
 public class ChunkedEncodingTest{
     private static MessageDigest serverDigest, clientDigest;
     private static volatile byte[] serverMac, clientMac;
 
@@ -59,11 +61,17 @@
             clientDigest = MessageDigest.getInstance("MD5");
             server = startHttpServer();
 
             int port = server.getAddress().getPort();
             out.println ("Server listening on port: " + port);
-            client("http://localhost:" + port + "/chunked/");
+            String url = URIBuilder.newBuilder()
+                .scheme("http")
+                .host(server.getAddress().getAddress())
+                .port(port)
+                .path("/chunked/")
+                .build().toString();
+            client(url);
 
             if (!MessageDigest.isEqual(clientMac, serverMac)) {
                 throw new RuntimeException(
                  "Data received is NOT equal to the data sent");
             }
@@ -81,11 +89,12 @@
 
     /**
      * Http Server
      */
     static HttpServer startHttpServer() throws IOException {
-        HttpServer httpServer = HttpServer.create(new InetSocketAddress(0), 0);
+        InetAddress loopback = InetAddress.getLoopbackAddress();
+        HttpServer httpServer = HttpServer.create(new InetSocketAddress(loopback, 0), 0);
         HttpHandler httpHandler = new SimpleHandler();
         httpServer.createContext("/chunked/", httpHandler);
         httpServer.start();
         return httpServer;
     }
