diff a/test/jdk/sun/security/pkcs12/ParamsTest.java b/test/jdk/sun/security/pkcs12/ParamsTest.java
--- a/test/jdk/sun/security/pkcs12/ParamsTest.java
+++ b/test/jdk/sun/security/pkcs12/ParamsTest.java
@@ -112,11 +112,12 @@
         check("ksnormal", "a", "changeit", "changeit", true, true, true);
         check("ksnormal", "a", null, "changeit", true, false, true);
         check("ksnormal", "a", "wrongpass", "-", IOException.class, "-", "-");
 
         // Add a new entry with password-less settings, still has a storepass
-        keytool("-keystore ksnormal -genkeypair -storepass changeit -alias b -dname CN=b "
+        keytool("-keystore ksnormal -genkeypair -keyalg DSA "
+                + "-storepass changeit -alias b -dname CN=b "
                 + "-J-Dkeystore.pkcs12.certProtectionAlgorithm=NONE "
                 + "-J-Dkeystore.pkcs12.macAlgorithm=NONE");
         data = Files.readAllBytes(Path.of("ksnormal"));
         checkInt(data, "22", 100000); // Mac ic
         checkAlg(data, "2000", SHA_oid); // Mac alg
@@ -144,11 +145,12 @@
         check("ksnopass", "a", null, "changeit", true, true, true);
         check("ksnopass", "a", "changeit", "changeit", true, true, true);
         check("ksnopass", "a", "wrongpass", "changeit", true, true, true);
 
         // Add a new entry with normal settings, still password-less
-        keytool("-keystore ksnopass -genkeypair -storepass changeit -alias b -dname CN=B");
+        keytool("-keystore ksnopass -genkeypair -keyalg DSA "
+                + "-storepass changeit -alias b -dname CN=B");
         data = Files.readAllBytes(Path.of("ksnopass"));
         shouldNotExist(data, "2"); // no Mac
         checkAlg(data, "110c010c01000", pbeWithSHA1AndRC4_128_oid);
         checkInt(data, "110c010c010011", 50000);
         checkAlg(data, "110c010c11000", pbeWithSHA1AndDESede_oid);
@@ -169,17 +171,19 @@
         checkInt(data, "110c010c010011", 7777); // key ic
         checkAlg(data, "110c110110", pbeWithSHA1AndRC2_40_oid); // cert alg
         checkInt(data, "110c1101111", 6666); // cert ic
 
         // keypbe alg cannot be NONE
-        keytool("-keystore ksnewic -genkeypair -storepass changeit -alias b -dname CN=B "
+        keytool("-keystore ksnewic -genkeypair -keyalg DSA "
+                + "-storepass changeit -alias b -dname CN=B "
                 + "-J-Dkeystore.pkcs12.keyProtectionAlgorithm=NONE")
                 .shouldContain("NONE AlgorithmParameters not available")
                 .shouldHaveExitValue(1);
 
         // new entry new keypbe alg (and default ic), else unchanged
-        keytool("-keystore ksnewic -genkeypair -storepass changeit -alias b -dname CN=B "
+        keytool("-keystore ksnewic -genkeypair -keyalg DSA "
+                + "-storepass changeit -alias b -dname CN=B "
                 + "-J-Dkeystore.pkcs12.keyProtectionAlgorithm=PBEWithSHA1AndRC4_128");
         data = Files.readAllBytes(Path.of("ksnewic"));
         checkInt(data, "22", 5555); // Mac ic
         checkAlg(data, "2000", SHA_oid); // Mac alg
         checkAlg(data, "110c010c01000", pbeWithSHA1AndDESede_oid); // key alg
@@ -334,11 +338,12 @@
                 + "-J-Dkeystore.pkcs12.macAlgorithm=NONE")
                 .shouldNotContain("Enter keystore password:");
 
         // still prompt for keypass for genkeypair and certreq
         SecurityTools.setResponse("changeit", "changeit");
-        keytool("-keystore ksnopassnew -genkeypair -alias a -dname CN=A "
+        keytool("-keystore ksnopassnew -genkeypair -keyalg DSA "
+                + "-alias a -dname CN=A "
                 + "-J-Dkeystore.pkcs12.certProtectionAlgorithm=NONE "
                 + "-J-Dkeystore.pkcs12.macAlgorithm=NONE")
                 .shouldNotContain("Enter keystore password:")
                 .shouldContain("Enter key password for <a>");
         keytool("-keystore ksnopassnew -certreq -alias a")
@@ -349,11 +354,12 @@
                 .shouldNotContain("Enter key password for <a>");
 
         // params only read on demand
 
         // keyPbeIterationCount is used by -genkeypair
-        keytool("-keystore ksgenbadkeyic -genkeypair -alias a -dname CN=A "
+        keytool("-keystore ksgenbadkeyic -genkeypair -keyalg DSA "
+                + "-alias a -dname CN=A "
                 + "-storepass changeit "
                 + "-J-Dkeystore.pkcs12.keyPbeIterationCount=abc")
                 .shouldContain("keyPbeIterationCount is not a number: abc")
                 .shouldHaveExitValue(1);
 
