<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames test/jdk/sun/security/tools/keytool/i18n.html</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 &lt;html&gt;
  2 &lt;body&gt;
  3 
<a name="1" id="anc1"></a><span class="line-modified">  4 &lt;applet width=100 height=100 code=i18n.class&gt;</span>
<span class="line-removed">  5 &lt;/applet&gt;</span>
<span class="line-removed">  6 </span>
<span class="line-removed">  7 This is a multi-stage test.  Click on &quot;done&quot; when you have completed</span>
<span class="line-removed">  8 reading these instructions.  For each instruction, make sure the output</span>
  9 from keytool is correct (you can read everything in english fine).
 10 
 11 &lt;ol&gt;
 12 &lt;li&gt;    rm ~/.keystore
 13         If you are on a Windows platform, delete the .keystore file in
 14         your home directory.
 15 &lt;li&gt;	keytool -help
<a name="2" id="anc2"></a><span class="line-modified"> 16 &lt;li&gt;	keytool -genkey -v -keysize 512</span>
 17 	Enter &quot;a&quot; for the keystore password.  Check error (password too short).
 18 	Enter &quot;password&quot; for the keystore password.
 19         Re-enter &quot;password&quot; to confirm.
 20 	Hit &#39;return&#39; for &quot;first and last name&quot;, &quot;organizational unit&quot;,
 21 	&quot;organization&quot;, &quot;City&quot;, &quot;State&quot;, and &quot;Country Code&quot;.
 22 	Type &quot;yes&quot; when they ask you if everything is correct.
 23 	Type &#39;return&#39; for new key password.
 24 &lt;li&gt;	keytool -list -v -storepass password
 25 &lt;li&gt;	keytool -list -v
 26 	Type &quot;a&quot; for the keystore password.
 27 	Check error (wrong keystore password).
<a name="3" id="anc3"></a><span class="line-modified"> 28 &lt;li&gt;	keytool -genkey -v -keysize 512</span>
 29 	Enter &quot;password&quot; as the password.
 30 	Check error (alias &#39;mykey&#39; already exists).
<a name="4" id="anc4"></a><span class="line-modified"> 31 &lt;li&gt;	keytool -genkey -v -keysize 512 -alias mykey2 -storepass password</span>
 32 	Hit &#39;return&#39; for &quot;first and last name&quot;, &quot;organizational unit&quot;,
 33 	&quot;organization&quot;, &quot;City&quot;, &quot;State&quot;, and &quot;Country Code&quot;.
 34 	Type &quot;yes&quot; when they ask you if everything is correct.
 35 	Type &#39;return&#39; for new key password.
 36 &lt;li&gt;	keytool -list -v
 37 	Type &#39;password&#39; for the store password.
 38 &lt;li&gt;	keytool -keypasswd -v -alias mykey2 -storepass password
 39 	Type &quot;a&quot; for the new key password.
 40 	Type &quot;aaaaaa&quot; for the new key password.
 41 	Type &quot;bbbbbb&quot; when re-entering the new key password.
 42 	Type &quot;a&quot; for the new key password.
 43 	Check Error (too many failures).
 44 &lt;li&gt;	keytool -keypasswd -v -alias mykey2 -storepass password
 45 	Type &quot;aaaaaa&quot; for the new key password.
 46 	Type &quot;aaaaaa&quot; when re-entering the new key password.
 47 &lt;li&gt;	keytool -selfcert -v -alias mykey -storepass password
 48 &lt;li&gt;	keytool -list -v -storepass password
 49 &lt;li&gt;	keytool -export -v -alias mykey -file /tmp/cert -storepass password
 50 &lt;li&gt;	keytool -import -v -file /tmp/cert -storepass password
 51 	Check error (Certificate reply and cert are the same)
 52 &lt;li&gt;	keytool -printcert -file /tmp/cert
 53 &lt;li&gt;	keytool -list -storepass password -addprovider SUN
 54 &lt;/ol&gt;
 55 
 56 Error tests
 57 
 58 &lt;ol&gt;
 59 &lt;li&gt;	keytool -storepasswd -storepass password -new abc
 60 	Check error (password too short)
 61 &lt;!--li&gt;	keytool -list -storetype PKCS11
 62 	Check error (-keystore must be NONE)--&gt;
 63 &lt;li&gt;	keytool -storepasswd -storetype PKCS11 -keystore NONE
 64 	Check error (unsupported operation)
 65 &lt;li&gt;	keytool -keypasswd -storetype PKCS11 -keystore NONE
 66 	Check error (unsupported operation)
 67 &lt;li&gt;	keytool -list -protected -storepass password
 68 	Check error (password can not be specified with -protected)
 69 &lt;li&gt;	keytool -keypasswd -protected -keypass password
 70 	Check error (password can not be specified with -protected)
 71 &lt;li&gt;	keytool -keypasswd -protected -new password
 72 	Check error (password can not be specified with -protected)
 73 &lt;/ol&gt;
 74 
 75 MSCAPI tests (Only run on Windows)
 76 
 77 &lt;ol&gt;
 78     &lt;li&gt;keytool -storetype Windows-MY -list
 79     should list entries (may be 0) without asking for password
 80     should not show ****** WARNING WARNING WARNING ****** lines
 81     &lt;li&gt;keytool -storetype Windows-MY -list -keystore NONE
 82     should list entries without asking for password
 83     &lt;li&gt;keytool -storetype Windows-MY -list -keystore other
 84     Error: storetype must be NONE
 85     &lt;li&gt;keytool -storetype Windows-MY -list -storepass changeit
 86     Error: storepass cannot be specfied
 87     &lt;li&gt;keytool -storetype Windows-MY -list -storepasswd
 88     Error: storepasswd not supported
 89 &lt;/ol&gt;
 90 
 91 PKCS#11 tests
 92 
 93 &lt;ol&gt;
 94 &lt;li&gt;	sccs edit cert8.db key3.db
 95 
 96 &lt;li&gt;	keytool -keystore NONE -storepass test12 -storetype PKCS11 -providerName SunPKCS11-nss -addprovider SunPKCS11 -providerArg p11-nss.txt -genkey -alias genkey -dname cn=genkey -keysize 512 -keyalg rsa
 97 &lt;li&gt;	keytool -keystore NONE -storepass test12 -storetype PKCS11 -providerName SunPKCS11-nss -addprovider SunPKCS11 -providerArg p11-nss.txt -list
 98 &lt;li&gt;	keytool -keystore NONE -storepass test12 -storetype PKCS11 -providerName SunPKCS11-nss -addprovider SunPKCS11 -providerArg p11-nss.txt -list -alias genkey
 99 &lt;li&gt;	keytool -keystore NONE -storepass test12 -storetype PKCS11 -providerName SunPKCS11-nss -addprovider SunPKCS11 -providerArg p11-nss.txt -certreq -alias genkey -file genkey.certreq
100 &lt;li&gt;	keytool -keystore NONE -storepass test12 -storetype PKCS11 -providerName SunPKCS11-nss -addprovider SunPKCS11 -providerArg p11-nss.txt -export -alias genkey -file genkey.cert
101 &lt;li&gt;	keytool -printcert -file genkey.cert
102 &lt;li&gt;	keytool -keystore NONE -storepass test12 -storetype PKCS11 -providerName SunPKCS11-nss -addprovider SunPKCS11 -providerArg p11-nss.txt -selfcert -alias genkey -dname cn=selfCert
103 
104 &lt;li&gt;	keytool -keystore NONE -storepass test12 -storetype PKCS11 -providerName SunPKCS11-nss -addprovider SunPKCS11 -providerArg p11-nss.txt -list -alias genkey -v
105 (check that cert subject DN is [cn=selfCert])
106 
107 &lt;li&gt;	keytool -keystore NONE -storepass test12 -storetype PKCS11 -providerName SunPKCS11-nss -addprovider SunPKCS11 -providerArg p11-nss.txt -delete -alias genkey
108 &lt;li&gt;	keytool -keystore NONE -storepass test12 -storetype PKCS11 -providerName SunPKCS11-nss -addprovider SunPKCS11 -providerArg p11-nss.txt -list
109 (check for empty database listing)
110 
111 &lt;li&gt;	sccs unedit cert8.db key3.db
112 
113 &lt;/ol&gt;
114 
115 If all the output (english) is correct, then the test passed.
116 Otherwise, the test failed.
117 
<a name="5" id="anc5"></a><span class="line-removed">118 Press &quot;Pass&quot; if ... press &quot;Fail&quot; otherwise.</span>
<span class="line-removed">119 </span>
120 &lt;/body&gt;
121 &lt;/html&gt;
<a name="6" id="anc6"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="6" type="hidden" />
</body>
</html>