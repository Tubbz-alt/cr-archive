diff a/test/jdk/sun/security/tools/keytool/WeakAlg.java b/test/jdk/sun/security/tools/keytool/WeakAlg.java
--- a/test/jdk/sun/security/tools/keytool/WeakAlg.java
+++ b/test/jdk/sun/security/tools/keytool/WeakAlg.java
@@ -176,11 +176,11 @@
         rm("ks3");
 
         // no warning if all certs
         kt("-importcert -alias b -file a.crt -storetype jks -noprompt")
                 .shouldNotContain("Warning:");
-        kt("-genkeypair -alias a -dname CN=A")
+        kt("-genkeypair -keyalg DSA -alias a -dname CN=A")
                 .shouldContain("JKS keystore uses a proprietary format");
         kt("-list")
                 .shouldContain("JKS keystore uses a proprietary format");
         kt("-list -storetype pkcs12") // warn if JKS used as PKCS12
                 .shouldContain("JKS keystore uses a proprietary format");
@@ -200,11 +200,11 @@
         importkeystore("ks", "ks3", "-deststoretype pkcs12")
                 .shouldNotContain("Warning:");
 
         rm("ks");
 
-        kt("-genkeypair -alias a -dname CN=A -storetype jceks")
+        kt("-genkeypair -keyalg DSA -alias a -dname CN=A -storetype jceks")
                 .shouldContain("JCEKS keystore uses a proprietary format");
         kt("-list")
                 .shouldContain("JCEKS keystore uses a proprietary format");
         kt("-importcert -alias b -file a.crt -noprompt")
                 .shouldContain("JCEKS keystore uses a proprietary format");
@@ -237,11 +237,11 @@
     }
 
     static void checkInplaceImportKeyStore() throws Exception {
 
         rm("ks");
-        genkeypair("a", "");
+        genkeypair("a", "-keyalg DSA");
 
         // Same type backup
         importkeystore("ks", "ks", "")
                 .shouldContain("Warning:")
                 .shouldMatch("original.*ks.old");
