<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff test/jdk/sun/security/tools/keytool/PKCS12Passwd.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="NssTest.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="ProbingFailure.java.udiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/sun/security/tools/keytool/PKCS12Passwd.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 2017, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 2017, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -47,15 +47,15 @@</span>
  public class PKCS12Passwd {
  
      public static void main(String[] args) throws Exception {
  
          // A PrivateKeyEntry
<span class="udiff-line-modified-removed">-         kt(&quot;-genkeypair -alias a -dname CN=A&quot;)</span>
<span class="udiff-line-modified-added">+         kt(&quot;-genkeypair -alias a -dname CN=A -keyalg DSA&quot;)</span>
                  .shouldHaveExitValue(0);
  
          // A TrustedCertificateEntry (genkeypair, export, delete, import)
<span class="udiff-line-modified-removed">-         kt(&quot;-genkeypair -alias b -dname CN=B&quot;)</span>
<span class="udiff-line-modified-added">+         kt(&quot;-genkeypair -alias b -dname CN=B -keyalg DSA&quot;)</span>
                  .shouldHaveExitValue(0);
          kt(&quot;-exportcert -alias b -file b.cert&quot;)
                  .shouldHaveExitValue(0);
          kt(&quot;-delete -alias b&quot;)
                  .shouldHaveExitValue(0);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -88,11 +88,11 @@</span>
          // Other facts. Not necessarily the correct thing.
  
          // A PKCS12 keystore can be loaded as a JKS, and it follows JKS rules
          // which means the storepass and keypass can be changed separately!
  
<span class="udiff-line-modified-removed">-         ktFull(&quot;-genkeypair -alias a -dname CN=A -storetype pkcs12 &quot;</span>
<span class="udiff-line-modified-added">+         ktFull(&quot;-genkeypair -alias a -dname CN=A -storetype pkcs12 -keyalg DSA &quot;</span>
                      + &quot;-storepass changeit -keypass changeit -keystore p12&quot;)
                  .shouldHaveExitValue(0);
  
          // Only storepass is changed
          ktFull(&quot;-storepasswd -storepass changeit -new newpass &quot;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -110,11 +110,11 @@</span>
  
          // Conversely, a JKS keystore can be laoded as a PKCS12, and it follows
          // PKCS12 rules that both passwords are changed at the same time and
          // some commands are rejected.
  
<span class="udiff-line-modified-removed">-         ktFull(&quot;-genkeypair -alias a -dname CN=A -storetype jks &quot;</span>
<span class="udiff-line-modified-added">+         ktFull(&quot;-genkeypair -alias a -dname CN=A -storetype jks -keyalg DSA &quot;</span>
                      + &quot;-storepass changeit -keypass changeit -keystore jks&quot;)
                  .shouldHaveExitValue(0);
  
          // Both storepass and keypass changed.
          ktFull(&quot;-storepasswd -storepass changeit -new newpass &quot;
</pre>
<center><a href="NssTest.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="ProbingFailure.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>