<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff test/jdk/com/sun/crypto/provider/Cipher/AES/Padding.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../TEST.groups.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../Blowfish/TestCipherBlowfish.java.udiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/com/sun/crypto/provider/Cipher/AES/Padding.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 2014, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 2014, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -46,23 +46,28 @@</span>
   */
  public class Padding {
  
      private static final String ALGORITHM = &quot;AES&quot;;
      private static final String PROVIDER = &quot;SunJCE&quot;;
<span class="udiff-line-modified-removed">-     private static final String[] MODES = { &quot;ECb&quot;, &quot;CbC&quot;, &quot;PCBC&quot;, &quot;OFB&quot;,</span>
<span class="udiff-line-modified-added">+     private static final String[] MODES_PKCS5PAD = {</span>
<span class="udiff-line-added">+         &quot;ECb&quot;, &quot;CbC&quot;, &quot;PCBC&quot;, &quot;OFB&quot;,</span>
          &quot;OFB150&quot;, &quot;cFB&quot;, &quot;CFB7&quot;, &quot;cFB8&quot;, &quot;cFB16&quot;, &quot;cFB24&quot;, &quot;cFB32&quot;,
          &quot;Cfb40&quot;, &quot;cfB48&quot;, &quot;cfB56&quot;, &quot;cfB64&quot;, &quot;cfB72&quot;, &quot;cfB80&quot;, &quot;cfB88&quot;,
          &quot;cfB96&quot;, &quot;cfb104&quot;, &quot;cfB112&quot;, &quot;cfB120&quot;, &quot;OFB8&quot;, &quot;OFB16&quot;, &quot;OFB24&quot;,
          &quot;OFB32&quot;, &quot;OFB40&quot;, &quot;OFB48&quot;, &quot;OFB56&quot;, &quot;OFB64&quot;, &quot;OFB72&quot;, &quot;OFB80&quot;,
<span class="udiff-line-modified-removed">-         &quot;OFB88&quot;, &quot;OFB96&quot;, &quot;OFB104&quot;, &quot;OFB112&quot;, &quot;OFB120&quot;, &quot;GCM&quot; };</span>
<span class="udiff-line-modified-removed">-     private static final String PADDING = &quot;PKCS5Padding&quot;;</span>
<span class="udiff-line-modified-added">+         &quot;OFB88&quot;, &quot;OFB96&quot;, &quot;OFB104&quot;, &quot;OFB112&quot;, &quot;OFB120&quot; };</span>
<span class="udiff-line-modified-added">+     private static final String[] MODES_NOPAD = { &quot;CTR&quot;, &quot;CTS&quot;, &quot;GCM&quot; };</span>
<span class="udiff-line-added">+ </span>
      private static final int KEY_LENGTH = 128;
  
      public static void main(String argv[]) throws Exception {
          Padding test = new Padding();
<span class="udiff-line-modified-removed">-         for (String mode : MODES) {</span>
<span class="udiff-line-modified-removed">-             test.runTest(ALGORITHM, mode, PADDING);</span>
<span class="udiff-line-modified-added">+         for (String mode : MODES_PKCS5PAD) {</span>
<span class="udiff-line-modified-added">+             test.runTest(ALGORITHM, mode, &quot;PKCS5Padding&quot;);</span>
<span class="udiff-line-added">+         }</span>
<span class="udiff-line-added">+         for (String mode : MODES_NOPAD) {</span>
<span class="udiff-line-added">+             test.runTest(ALGORITHM, mode, &quot;NoPadding&quot;);</span>
          }
      }
  
      public void runTest(String algo, String mo, String pad) throws Exception {
          Cipher ci = null;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -90,11 +95,10 @@</span>
  
                  byte[] cipherText = new byte[ci.getOutputSize(plainText.length)];
                  int offset = ci.update(plainText, 0, plainText.length,
                          cipherText, 0);
                  ci.doFinal(cipherText, offset);
<span class="udiff-line-removed">- </span>
                  if (!mo.equalsIgnoreCase(&quot;ECB&quot;)) {
                      iv = ci.getIV();
                      aps = new IvParameterSpec(iv);
                  } else {
                      aps = null;
</pre>
<center><a href="../../../../../../TEST.groups.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../Blowfish/TestCipherBlowfish.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>