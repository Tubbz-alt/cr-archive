<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/jdk/com/sun/nio/sctp/SctpMultiChannel/Send.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="Branch.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="SendFailed.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/com/sun/nio/sctp/SctpMultiChannel/Send.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 274,11 ***</span>
                  Association assoc = it.next();
  
                  /* echo the message */
                  debug(&quot;Server: echoing first message&quot;);
                  buffer.flip();
<span class="line-modified">!                 int bytes = serverChannel.send(buffer, info);</span>
                  debug(&quot;Server: sent &quot; + bytes + &quot;bytes&quot;);
  
                  /* receive a large message */
                  buffer.clear();
                  do {
<span class="line-new-header">--- 274,12 ---</span>
                  Association assoc = it.next();
  
                  /* echo the message */
                  debug(&quot;Server: echoing first message&quot;);
                  buffer.flip();
<span class="line-modified">!                 MessageInfo sendInfo = MessageInfo.createOutgoing(assoc, null, info.streamNumber());</span>
<span class="line-added">+                 int bytes = serverChannel.send(buffer, sendInfo);</span>
                  debug(&quot;Server: sent &quot; + bytes + &quot;bytes&quot;);
  
                  /* receive a large message */
                  buffer.clear();
                  do {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 300,11 ***</span>
                    &quot;received message not the same as sent message&quot;);
  
                  /* echo the message */
                  debug(&quot;Server: echoing second message&quot;);
                  buffer.flip();
<span class="line-modified">!                 bytes = serverChannel.send(buffer, info);</span>
                  debug(&quot;Server: sent &quot; + bytes + &quot;bytes&quot;);
  
                  /* TEST 6 */
                  ByteBuffer expected = ByteBuffer.allocate(Util.SMALL_BUFFER);
                  expected.put(Util.SMALL_MESSAGE.getBytes(&quot;ISO-8859-1&quot;));
<span class="line-new-header">--- 301,12 ---</span>
                    &quot;received message not the same as sent message&quot;);
  
                  /* echo the message */
                  debug(&quot;Server: echoing second message&quot;);
                  buffer.flip();
<span class="line-modified">!                 sendInfo = MessageInfo.createOutgoing(assoc, null, info.streamNumber());</span>
<span class="line-added">+                 bytes = serverChannel.send(buffer, sendInfo);</span>
                  debug(&quot;Server: sent &quot; + bytes + &quot;bytes&quot;);
  
                  /* TEST 6 */
                  ByteBuffer expected = ByteBuffer.allocate(Util.SMALL_BUFFER);
                  expected.put(Util.SMALL_MESSAGE.getBytes(&quot;ISO-8859-1&quot;));
</pre>
<center><a href="Branch.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="SendFailed.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>