diff a/test/jdk/com/sun/net/httpserver/Test10.java b/test/jdk/com/sun/net/httpserver/Test10.java
--- a/test/jdk/com/sun/net/httpserver/Test10.java
+++ b/test/jdk/com/sun/net/httpserver/Test10.java
@@ -1,7 +1,7 @@
 /*
- * Copyright (c) 2010, 2011, Oracle and/or its affiliates. All rights reserved.
+ * Copyright (c) 2010, 2019, Oracle and/or its affiliates. All rights reserved.
  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  *
  * This code is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License version 2 only, as
  * published by the Free Software Foundation.
@@ -24,10 +24,12 @@
 /**
  * @test
  * @bug 7005016
  * @summary  pit jdk7 b121  sqe test jhttp/HttpServer150013 failing
  * @run main/othervm -Dsun.net.httpserver.clockTick=1000 -Dsun.net.httpserver.idleInterval=3 Test10
+ * @run main/othervm -Dsun.net.httpserver.clockTick=1000 -Dsun.net.httpserver.idleInterval=3
+ *                   -Djava.net.preferIPv6Addresses Test10
  */
 
 import com.sun.net.httpserver.*;
 
 import java.io.*;
@@ -40,11 +42,12 @@
 
 public class Test10 extends Test {
     public static void main (String[] args) throws Exception {
         System.out.print ("Test10: ");
         Handler handler = new Handler();
-        InetSocketAddress addr = new InetSocketAddress (0);
+        InetAddress loopback = InetAddress.getLoopbackAddress();
+        InetSocketAddress addr = new InetSocketAddress(loopback, 0);
         HttpServer server = HttpServer.create (addr, 0);
         int port = server.getAddress().getPort();
         HttpContext c2 = server.createContext ("/test", handler);
 
         ExecutorService exec = Executors.newCachedThreadPool();
@@ -76,11 +79,11 @@
     }
 
     public static void doClient (int port) throws Exception {
         String s = "GET /test/1.html HTTP/1.1\r\n\r\n";
 
-        Socket socket = new Socket ("localhost", port);
+        Socket socket = new Socket (InetAddress.getLoopbackAddress(), port);
         OutputStream os = socket.getOutputStream();
         os.write (s.getBytes());
         socket.setSoTimeout (10 * 1000);
         InputStream is = socket.getInputStream();
         int c;
