<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old test/jdk/tools/pack200/pack200-verifier/data/README</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
  <body>
    <pre>
 1 The files contained in the golden.jar have been harvested from many
 2 different sources, some are hand-crafted invalid class files (odds directory),
 3 or from random JDK builds.
 4 
 5 Generally these files serve to ensure the integrity of the packer and 
 6 unpacker by,
 7    * maximizing the test coverage.
 8    * exercising all the Bands in the pack200 specification.
 9    * testing the behavior of the packer with invalid classes.
10    * testing the archive integrity, ordering and description (date, sizes,
11       CRC etc.)
12 
13 Build:
14 To rebuild this JAR follow these steps:
15     1. unzip the golden.jar to some directory lets call it &quot;example&quot;
16     2. now we can add any directories with files into example.
17     3. run the script BUILDME.sh  as
18        % sh BUILDME.sh example
19 
20 Note: the BUILDME.sh is known to work on all Unix platforms as well as Windows
21       using Cygwin.
22 
23 The above will create two JAR files in the current directory,
24 example.jar and example-cls.jar, now the example.jar can be used as the
25 golden.jar.
26 
27 To ensure the JAR has been built correctly use jar -tvf and compare the
28 results of the old jar and the newly built one, note that the compressed sizes
29 may differ, however the timestamps etc. should be consistent.
30 
31 Test:
32     Basic:
33         % pack200 --repack test.jar golden.jar
34 
35     Advanced: inspection of band contents
36        Create a pack.conf as follows:
37        % cat pack.conf
38        com.sun.java.util.jar.pack.dump.bands=true
39 
40        % pack200 --no-gzip --config-file=pack.conf \
41            --verbose golden.jar.pack golden.jar
42 
43        This command will dump the Bands in a unique directory BD_XXXXXX,
44        one can then inspect the directory to ensure all of the bands are being
45        generated. Familiarity of the Pack200 specification is strongly
46        suggested.
    </pre>
  </body>
</html>