<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old test/jdk/tools/pack200/typeannos/TargetTypes.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (c) 2009, 2013, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
 23 import java.lang.annotation.*;
 24 import static java.lang.annotation.ElementType.*;
 25 
 26 import java.util.*;
 27 import java.io.*;
 28 
 29 /*
 30  * @Xtest
 31  * @summary compiler accepts all values
 32  * @author Mahmood Ali
 33  * @author Yuri Gaevsky
 34  * @compile TargetTypes.java
 35  */
 36 
 37 @Target({TYPE_USE, TYPE_PARAMETER, TYPE})
 38 @Retention(RetentionPolicy.RUNTIME)
 39 @interface A {}
 40 
 41 /** wildcard bound */
 42 class T0x1C {
 43     void m0x1C(List&lt;? extends @A String&gt; lst) {}
 44 }
 45 
 46 /** wildcard bound generic/array */
 47 class T0x1D&lt;T&gt; {
 48     void m0x1D(List&lt;? extends @A List&lt;int[]&gt;&gt; lst) {}
 49 }
 50 
 51 /** typecast */
 52 class T0x00 {
 53     void m0x00(Long l1) {
 54         Object l2 = (@A Long) l1;
 55     }
 56 }
 57 
 58 /** typecast generic/array */
 59 class T0x01&lt;T&gt; {
 60     void m0x01(List&lt;T&gt; list) {
 61         List&lt;T&gt; l = (List&lt;@A T&gt;) list;
 62     }
 63 }
 64 
 65 /** instanceof */
 66 class T0x02 {
 67     boolean m0x02(String s) {
 68         return (s instanceof @A String);
 69     }
 70 }
 71 
 72 /** object creation (new) */
 73 class T0x04 {
 74     void m0x04() {
 75         new @A ArrayList&lt;String&gt;();
 76     }
 77 }
 78 
 79 /** local variable */
 80 class T0x08 {
 81     void m0x08() {
 82       @A String s = null;
 83     }
 84 }
 85 
 86 /** method parameter generic/array */
 87 class T0x0D {
 88     void m0x0D(HashMap&lt;@A Object, List&lt;@A List&lt;@A Class&gt;&gt;&gt; s1) {}
 89 }
 90 
 91 /** method receiver */
 92 class T0x06 {
 93     void m0x06(@A T0x06 this) {}
 94 }
 95 
 96 /** method return type generic/array */
 97 class T0x0B {
 98     Class&lt;@A Object&gt; m0x0B() { return null; }
 99 }
100 
101 /** field generic/array */
102 class T0x0F {
103     HashMap&lt;@A Object, @A Object&gt; c1;
104 }
105 
106 /** method type parameter */
107 class T0x20&lt;T, U&gt; {
108     &lt;@A T, @A U&gt; void m0x20() {}
109 }
110 
111 /** class type parameter */
112 class T0x22&lt;@A T, @A U&gt; {
113 }
114 
115 /** class type parameter bound */
116 class T0x10&lt;T extends @A Object&gt; {
117 }
118 
119 /** method type parameter bound */
120 class T0x12&lt;T&gt; {
121     &lt;T extends @A Object&gt; void m0x12() {}
122 }
123 
124 /** class type parameter bound generic/array */
125 class T0x11&lt;T extends List&lt;@A T&gt;&gt; {
126 }
127 
128 
129 /** method type parameter bound generic/array */
130 class T0x13 {
131     static &lt;T extends Comparable&lt;@A T&gt;&gt; T m0x13() {
132         return null;
133     }
134 }
135 
136 /** class extends/implements generic/array */
137 class T0x15&lt;T&gt; extends ArrayList&lt;@A T&gt; {
138 }
139 
140 /** type test (instanceof) generic/array */
141 class T0x03&lt;T&gt; {
142     void m0x03(T typeObj, Object obj) {
143         boolean ok = obj instanceof String @A [];
144     }
145 }
146 
147 /** object creation (new) generic/array */
148 class T0x05&lt;T&gt; {
149     void m0x05() {
150         new ArrayList&lt;@A T&gt;();
151     }
152 }
153 
154 /** local variable generic/array */
155 class T0x09&lt;T&gt; {
156     void g() {
157         List&lt;@A String&gt; l = null;
158     }
159 
160     void a() {
161         String @A [] as = null;
162     }
163 }
164 
165 /** type argument in constructor call generic/array */
166 class T0x19 {
167     &lt;T&gt; T0x19() {}
168 
169     void g() {
170        new &lt;List&lt;@A String&gt;&gt; T0x19();
171     }
172 }
173 
174 /** type argument in method call generic/array */
175 class T0x1B&lt;T&gt; {
176     void m0x1B() {
177         Collections.&lt;T @A []&gt;emptyList();
178     }
179 }
180 
181 /** type argument in constructor call */
182 class T0x18&lt;T&gt; {
183     &lt;T&gt; T0x18() {}
184 
185     void m() {
186         new &lt;@A Integer&gt; T0x18();
187     }
188 }
189 
190 /** type argument in method call */
191 class T0x1A&lt;T,U&gt; {
192     public static &lt;T, U&gt; T m() { return null; }
193     static void m0x1A() {
194         T0x1A.&lt;@A Integer, @A Short&gt;m();
195     }
196 }
197 
198 /** class extends/implements */
199 class T0x14 extends @A Object implements @A Serializable, @A Cloneable {
200 }
201 
202 /** exception type in throws */
203 class T0x16 {
204     void m0x16() throws @A Exception {}
205 }
206 
207 /** resource variables **/
208 class ResourceVariables {
209     void m() throws Exception {
210         try (@A InputStream is = new @A FileInputStream(&quot;x&quot;)){}
211     }
212 }
213 
214 /** exception parameters **/
215 class ExceptionParameters {
216     void multipleExceptions() {
217         try {
218             new Object();
219         } catch (@A Exception e) {}
220         try {
221             new Object();
222         } catch (@A Exception e) {}
223         try {
224             new Object();
225         } catch (@A Exception e) {}
226     }
227 }
    </pre>
  </body>
</html>