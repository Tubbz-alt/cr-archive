<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/tools/jlink/plugins/ExcludeVMPluginTest.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../basic/BasicTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="GenerateJLIClassesPluginTest.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/tools/jlink/plugins/ExcludeVMPluginTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
211         out.entries().forEach(md -&gt; {
212             if (md.path().equals(&quot;/java.base/lib/jvm.cfg&quot;) ||
213                 md.path().equals(&quot;/java.base/module-info.class&quot;)) {
214                 return;
215             }
216             boolean contained = false;
217             for (String o : expectedOutput) {
218                 if (md.path().equals(o)) {
219                     contained = true;
220                     break;
221                 }
222             }
223             if (!contained) {
224                 throw new RuntimeException(md.path() + &quot; not expected&quot;);
225             }
226         });
227     }
228 
229     // read java.base/module-info.class from jrt-fs
230     private static Path getJavaBaseModuleInfo() {
<span class="line-modified">231         return Paths.get(URI.create(&quot;jrt:/modules/java.base/module-info.class&quot;));</span>
232     }
233 
234     private static boolean isWindows() {
235         return System.getProperty(&quot;os.name&quot;).startsWith(&quot;Windows&quot;);
236     }
237 
238     private static boolean isMac() {
239         return System.getProperty(&quot;os.name&quot;).startsWith(&quot;Mac OS&quot;);
240     }
241 
242     private static String jvmlib() {
243         String lib = &quot;libjvm.so&quot;;
244         if (isWindows()) {
245             lib = &quot;jvm.dll&quot;;
246         } else if (isMac()) {
247             lib = &quot;libjvm.dylib&quot;;
248         }
249         return lib;
250     }
251 }
</pre>
</td>
<td>
<hr />
<pre>
211         out.entries().forEach(md -&gt; {
212             if (md.path().equals(&quot;/java.base/lib/jvm.cfg&quot;) ||
213                 md.path().equals(&quot;/java.base/module-info.class&quot;)) {
214                 return;
215             }
216             boolean contained = false;
217             for (String o : expectedOutput) {
218                 if (md.path().equals(o)) {
219                     contained = true;
220                     break;
221                 }
222             }
223             if (!contained) {
224                 throw new RuntimeException(md.path() + &quot; not expected&quot;);
225             }
226         });
227     }
228 
229     // read java.base/module-info.class from jrt-fs
230     private static Path getJavaBaseModuleInfo() {
<span class="line-modified">231         return Paths.get(URI.create(&quot;jrt:/java.base/module-info.class&quot;));</span>
232     }
233 
234     private static boolean isWindows() {
235         return System.getProperty(&quot;os.name&quot;).startsWith(&quot;Windows&quot;);
236     }
237 
238     private static boolean isMac() {
239         return System.getProperty(&quot;os.name&quot;).startsWith(&quot;Mac OS&quot;);
240     }
241 
242     private static String jvmlib() {
243         String lib = &quot;libjvm.so&quot;;
244         if (isWindows()) {
245             lib = &quot;jvm.dll&quot;;
246         } else if (isMac()) {
247             lib = &quot;libjvm.dylib&quot;;
248         }
249         return lib;
250     }
251 }
</pre>
</td>
</tr>
</table>
<center><a href="../basic/BasicTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="GenerateJLIClassesPluginTest.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>