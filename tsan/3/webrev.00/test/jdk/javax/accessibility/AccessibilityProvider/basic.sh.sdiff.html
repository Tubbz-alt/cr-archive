<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/javax/accessibility/AccessibilityProvider/basic.sh</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../../../java/util/zip/ZipFile/MultiThreadedReadTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../crypto/Cipher/CipherInputStreamExceptions.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/javax/accessibility/AccessibilityProvider/basic.sh</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 #
<span class="line-modified">  2 # Copyright (c) 2015, Oracle and/or its affiliates. All rights reserved.</span>
  3 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4 #
  5 # This code is free software; you can redistribute it and/or modify it
  6 # under the terms of the GNU General Public License version 2 only, as
  7 # published by the Free Software Foundation.
  8 #
  9 # This code is distributed in the hope that it will be useful, but WITHOUT
 10 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12 # version 2 for more details (a copy is included in the LICENSE file that
 13 # accompanied this code).
 14 #
 15 # You should have received a copy of the GNU General Public License version
 16 # 2 along with this work; if not, write to the Free Software Foundation,
 17 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18 #
 19 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20 # or visit www.oracle.com if you need additional information or have any
 21 # questions.
 22 #
 23 # @test
 24 # @key headful
<span class="line-modified"> 25 # @bug 8055160</span>
 26 # @summary Unit test for javax.accessibility.AccessibilitySPI
 27 #
 28 # @build Load FooProvider BarProvider UnusedProvider
 29 # @run shell basic.sh
 30 
 31 # Command-line usage: sh basic.sh /path/to/build
 32 
 33 if [ -z &quot;$TESTJAVA&quot; ]; then
 34   if [ $# -lt 1 ]; then exit 1; fi
 35   TESTJAVA=&quot;$1&quot;
 36   TESTSRC=`pwd`
 37   TESTCLASSES=&quot;`pwd`&quot;
 38 fi
 39 
 40 JAVA=&quot;$TESTJAVA/bin/java&quot;
 41 
 42 OS=`uname -s`
 43 case &quot;$OS&quot; in
 44     SunOS | Darwin | AIX )
 45       FS=&#39;/&#39;
</pre>
<hr />
<pre>
 72   echo &#39;&#39;
 73   sh -xc &quot;$JAVA $SECURITY_MANAGER -Djavax.accessibility.assistive_technologies=$PROVIDER1$COMMA$PROVIDER2 -cp $CP Load $1 $2 $3&quot; 2&gt;&amp;1
 74   if [ $? != 0 ]; then failures=`expr $failures + 1`; fi
 75 }
 76 
 77 # find one provider
 78 PROVIDER1=&quot;FooProvider&quot;
 79 go pass $PROVIDER1
 80 
 81 # start using security manager
 82 SECURITY_MANAGER=&quot;-Djava.security.manager -Djava.security.policy=$TESTSRC/accessibilityProvider.sp&quot;
 83 
 84 # find one provider (with security manager)
 85 go pass $PROVIDER1
 86 SECURITY_MANAGER=
 87 
 88 # fail if no provider found
 89 PROVIDER1=&quot;NoProvider&quot;
 90 go fail $PROVIDER1
 91 







 92 # setup for two providers
 93 COMMA=&quot;,&quot;
 94 
 95 # find two providers, both exist
 96 PROVIDER1=&quot;FooProvider&quot;
 97 PROVIDER2=&quot;BarProvider&quot;
 98 go pass $PROVIDER1 $PROVIDER2
 99 
100 # find two providers, where second one doesn&#39;t exist
101 PROVIDER1=&quot;FooProvider&quot;
102 PROVIDER2=&quot;NoProvider&quot;
103 go fail $PROVIDER1 $PROVIDER2
104 
105 # find two providers, where first one doesn&#39;t exist
106 PROVIDER1=&quot;NoProvider&quot;
107 PROVIDER2=&quot;BarProvider&quot;
108 go fail $PROVIDER1 $PROVIDER2
109 
110 echo &#39;&#39;
111 if [ $failures -gt 0 ];
</pre>
</td>
<td>
<hr />
<pre>
  1 #
<span class="line-modified">  2 # Copyright (c) 2015, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4 #
  5 # This code is free software; you can redistribute it and/or modify it
  6 # under the terms of the GNU General Public License version 2 only, as
  7 # published by the Free Software Foundation.
  8 #
  9 # This code is distributed in the hope that it will be useful, but WITHOUT
 10 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12 # version 2 for more details (a copy is included in the LICENSE file that
 13 # accompanied this code).
 14 #
 15 # You should have received a copy of the GNU General Public License version
 16 # 2 along with this work; if not, write to the Free Software Foundation,
 17 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18 #
 19 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20 # or visit www.oracle.com if you need additional information or have any
 21 # questions.
 22 #
 23 # @test
 24 # @key headful
<span class="line-modified"> 25 # @bug 8055160 8216008</span>
 26 # @summary Unit test for javax.accessibility.AccessibilitySPI
 27 #
 28 # @build Load FooProvider BarProvider UnusedProvider
 29 # @run shell basic.sh
 30 
 31 # Command-line usage: sh basic.sh /path/to/build
 32 
 33 if [ -z &quot;$TESTJAVA&quot; ]; then
 34   if [ $# -lt 1 ]; then exit 1; fi
 35   TESTJAVA=&quot;$1&quot;
 36   TESTSRC=`pwd`
 37   TESTCLASSES=&quot;`pwd`&quot;
 38 fi
 39 
 40 JAVA=&quot;$TESTJAVA/bin/java&quot;
 41 
 42 OS=`uname -s`
 43 case &quot;$OS&quot; in
 44     SunOS | Darwin | AIX )
 45       FS=&#39;/&#39;
</pre>
<hr />
<pre>
 72   echo &#39;&#39;
 73   sh -xc &quot;$JAVA $SECURITY_MANAGER -Djavax.accessibility.assistive_technologies=$PROVIDER1$COMMA$PROVIDER2 -cp $CP Load $1 $2 $3&quot; 2&gt;&amp;1
 74   if [ $? != 0 ]; then failures=`expr $failures + 1`; fi
 75 }
 76 
 77 # find one provider
 78 PROVIDER1=&quot;FooProvider&quot;
 79 go pass $PROVIDER1
 80 
 81 # start using security manager
 82 SECURITY_MANAGER=&quot;-Djava.security.manager -Djava.security.policy=$TESTSRC/accessibilityProvider.sp&quot;
 83 
 84 # find one provider (with security manager)
 85 go pass $PROVIDER1
 86 SECURITY_MANAGER=
 87 
 88 # fail if no provider found
 89 PROVIDER1=&quot;NoProvider&quot;
 90 go fail $PROVIDER1
 91 
<span class="line-added"> 92 # pass if none provider found</span>
<span class="line-added"> 93 PROVIDER1=</span>
<span class="line-added"> 94 go pass $PROVIDER1</span>
<span class="line-added"> 95 </span>
<span class="line-added"> 96 PROVIDER1=&quot; &quot;</span>
<span class="line-added"> 97 go pass $PROVIDER1</span>
<span class="line-added"> 98 </span>
 99 # setup for two providers
100 COMMA=&quot;,&quot;
101 
102 # find two providers, both exist
103 PROVIDER1=&quot;FooProvider&quot;
104 PROVIDER2=&quot;BarProvider&quot;
105 go pass $PROVIDER1 $PROVIDER2
106 
107 # find two providers, where second one doesn&#39;t exist
108 PROVIDER1=&quot;FooProvider&quot;
109 PROVIDER2=&quot;NoProvider&quot;
110 go fail $PROVIDER1 $PROVIDER2
111 
112 # find two providers, where first one doesn&#39;t exist
113 PROVIDER1=&quot;NoProvider&quot;
114 PROVIDER2=&quot;BarProvider&quot;
115 go fail $PROVIDER1 $PROVIDER2
116 
117 echo &#39;&#39;
118 if [ $failures -gt 0 ];
</pre>
</td>
</tr>
</table>
<center><a href="../../../java/util/zip/ZipFile/MultiThreadedReadTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../crypto/Cipher/CipherInputStreamExceptions.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>