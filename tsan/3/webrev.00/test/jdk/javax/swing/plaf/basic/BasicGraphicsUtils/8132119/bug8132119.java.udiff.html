<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff test/jdk/javax/swing/plaf/basic/BasicGraphicsUtils/8132119/bug8132119.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../RepaintManager/IconifyTest/IconifyTest.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../BasicMenuUI/4983388/bug4983388.java.udiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/javax/swing/plaf/basic/BasicGraphicsUtils/8132119/bug8132119.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -24,10 +24,11 @@</span>
  import java.awt.Color;
  import java.awt.Font;
  import java.awt.FontMetrics;
  import java.awt.Graphics2D;
  import java.awt.GraphicsEnvironment;
<span class="udiff-line-added">+ import java.awt.RenderingHints;</span>
  import java.awt.font.FontRenderContext;
  import java.awt.font.NumericShaper;
  import java.awt.font.TextAttribute;
  import java.awt.font.TextLayout;
  import java.awt.image.BufferedImage;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -143,10 +144,12 @@</span>
          BufferedImage buffImage = createBufferedImage(WIDTH, HEIGHT);
          Graphics2D g2 = buffImage.createGraphics();
  
          g2.setColor(DRAW_COLOR);
          g2.setFont(comp.getFont());
<span class="udiff-line-added">+         g2.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,</span>
<span class="udiff-line-added">+                             RenderingHints.VALUE_TEXT_ANTIALIAS_OFF);</span>
  
          FontMetrics fontMetrices = comp.getFontMetrics(comp.getFont());
          float width = BasicGraphicsUtils.getStringWidth(comp, fontMetrices, str);
          float x = (WIDTH - width) / 2;
          int y = 3 * HEIGHT / 4;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -157,11 +160,11 @@</span>
              BasicGraphicsUtils.drawString(comp, g2, str, x, y);
          }
          g2.dispose();
  
          float xx = BasicGraphicsUtils.getStringWidth(comp, fontMetrices, &quot;A&quot;) +
<span class="udiff-line-modified-removed">-                 BasicGraphicsUtils.getStringWidth(comp, fontMetrices, &quot;O&quot;)/2;</span>
<span class="udiff-line-modified-added">+                 BasicGraphicsUtils.getStringWidth(comp, fontMetrices, &quot;O&quot;)/2 -  10;</span>
  
          checkImageContainsSymbol(buffImage, (int) xx, underlined ? 3 : 2);
      }
  
      private static void checkNullArguments() {
</pre>
<center><a href="../../../../RepaintManager/IconifyTest/IconifyTest.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../BasicMenuUI/4983388/bug4983388.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>