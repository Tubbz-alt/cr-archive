diff a/test/jdk/javax/swing/Action/8133039/bug8133039.java b/test/jdk/javax/swing/Action/8133039/bug8133039.java
--- a/test/jdk/javax/swing/Action/8133039/bug8133039.java
+++ b/test/jdk/javax/swing/Action/8133039/bug8133039.java
@@ -43,14 +43,19 @@
  */
 public class bug8133039 {
 
     private static volatile int ACTION_PERFORMED_CALLS = 0;
     private static volatile int ACTION_ACCEPTED_CALLS = 0;
+    private static JFrame frame;
 
     public static void main(String[] args) throws Exception {
-        testActionNotification();
-        testPopupAction();
+        try {
+            testActionNotification();
+            testPopupAction();
+        } finally {
+            if (frame != null) SwingUtilities.invokeAndWait(() -> frame.dispose());
+        }
     }
 
     private static void testActionNotification() {
 
         KeyEvent keyEvent = new KeyEvent(new JLabel("Test"), 0, 0, 0, 0, 'A');
@@ -112,11 +117,11 @@
         }
     }
 
     private static void createAndShowGUI() {
 
-        JFrame frame = new JFrame();
+        frame = new JFrame();
         frame.setSize(300, 300);
         frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
 
         JComboBox<String> comboBox = new JComboBox<>(new String[]{"1", "2", "3"});
 
