<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/javax/swing/JRadioButton/8075609/bug8075609.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../8041561/bug8041561.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../JRootPane/4670486/bug4670486.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/javax/swing/JRadioButton/8075609/bug8075609.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 23 
 24  /*
 25  * @test
 26  * @key headful
 27  * @library ../../regtesthelpers
 28  * @build Util
 29  * @bug 8075609
 30  * @summary  IllegalArgumentException when transferring focus from JRadioButton using tab
 31  * @author Vivi An
 32  * @run main bug8075609
 33  */
 34 
 35 import javax.swing.*;
 36 import javax.swing.event.*;
 37 import java.awt.event.*;
 38 import java.awt.*;
 39 
 40 public class bug8075609 {
 41     private static Robot robot;
 42     private static JTextField textField;

 43 
 44     public static void main(String args[]) throws Throwable {
<span class="line-modified"> 45         SwingUtilities.invokeAndWait(new Runnable() {</span>
<span class="line-modified"> 46             public void run() {</span>
<span class="line-modified"> 47                 createAndShowGUI();</span>
<span class="line-modified"> 48             }</span>
<span class="line-modified"> 49         });</span>

 50 
<span class="line-modified"> 51         robot = new Robot();</span>
<span class="line-modified"> 52         Thread.sleep(100);</span>
 53 
<span class="line-modified"> 54         robot.setAutoDelay(100);</span>
 55 
<span class="line-modified"> 56         // Radio button group tab key test</span>
<span class="line-modified"> 57         runTest1();</span>



 58     }
 59 
 60     private static void createAndShowGUI() {
<span class="line-modified"> 61         JFrame mainFrame = new JFrame(&quot;Bug 8075609 - 1 test&quot;);</span>
 62 
 63         JPanel rootPanel = new JPanel();
 64         rootPanel.setLayout(new BorderLayout());
 65 
 66         JPanel formPanel = new JPanel();
 67         formPanel.setFocusTraversalPolicy(new LayoutFocusTraversalPolicy());
 68         formPanel.setFocusCycleRoot(true);
 69 
 70         JRadioButton option1 = new JRadioButton(&quot;Option 1&quot;, true);
 71         JRadioButton option2 = new JRadioButton(&quot;Option 2&quot;);
 72 
 73         ButtonGroup radioButtonGroup = new ButtonGroup();
 74         radioButtonGroup.add(option1);
 75         radioButtonGroup.add(option2);
 76 
 77         formPanel.add(option1);
 78         formPanel.add(option2);
 79         textField = new JTextField(&quot;Another focusable component&quot;);
 80         formPanel.add(textField);
 81 
</pre>
</td>
<td>
<hr />
<pre>
 23 
 24  /*
 25  * @test
 26  * @key headful
 27  * @library ../../regtesthelpers
 28  * @build Util
 29  * @bug 8075609
 30  * @summary  IllegalArgumentException when transferring focus from JRadioButton using tab
 31  * @author Vivi An
 32  * @run main bug8075609
 33  */
 34 
 35 import javax.swing.*;
 36 import javax.swing.event.*;
 37 import java.awt.event.*;
 38 import java.awt.*;
 39 
 40 public class bug8075609 {
 41     private static Robot robot;
 42     private static JTextField textField;
<span class="line-added"> 43     private static JFrame mainFrame;</span>
 44 
 45     public static void main(String args[]) throws Throwable {
<span class="line-modified"> 46         try {</span>
<span class="line-modified"> 47             SwingUtilities.invokeAndWait(new Runnable() {</span>
<span class="line-modified"> 48                 public void run() {</span>
<span class="line-modified"> 49                     createAndShowGUI();</span>
<span class="line-modified"> 50                 }</span>
<span class="line-added"> 51             });</span>
 52 
<span class="line-modified"> 53             robot = new Robot();</span>
<span class="line-modified"> 54             Thread.sleep(100);</span>
 55 
<span class="line-modified"> 56             robot.setAutoDelay(100);</span>
 57 
<span class="line-modified"> 58             // Radio button group tab key test</span>
<span class="line-modified"> 59             runTest1();</span>
<span class="line-added"> 60         } finally {</span>
<span class="line-added"> 61             if (mainFrame != null) SwingUtilities.invokeAndWait(() -&gt; mainFrame.dispose());</span>
<span class="line-added"> 62         }</span>
 63     }
 64 
 65     private static void createAndShowGUI() {
<span class="line-modified"> 66         mainFrame = new JFrame(&quot;Bug 8075609 - 1 test&quot;);</span>
 67 
 68         JPanel rootPanel = new JPanel();
 69         rootPanel.setLayout(new BorderLayout());
 70 
 71         JPanel formPanel = new JPanel();
 72         formPanel.setFocusTraversalPolicy(new LayoutFocusTraversalPolicy());
 73         formPanel.setFocusCycleRoot(true);
 74 
 75         JRadioButton option1 = new JRadioButton(&quot;Option 1&quot;, true);
 76         JRadioButton option2 = new JRadioButton(&quot;Option 2&quot;);
 77 
 78         ButtonGroup radioButtonGroup = new ButtonGroup();
 79         radioButtonGroup.add(option1);
 80         radioButtonGroup.add(option2);
 81 
 82         formPanel.add(option1);
 83         formPanel.add(option2);
 84         textField = new JTextField(&quot;Another focusable component&quot;);
 85         formPanel.add(textField);
 86 
</pre>
</td>
</tr>
</table>
<center><a href="../8041561/bug8041561.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../JRootPane/4670486/bug4670486.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>