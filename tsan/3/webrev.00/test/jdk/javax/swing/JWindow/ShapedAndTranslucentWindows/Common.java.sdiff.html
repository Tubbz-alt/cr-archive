<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/javax/swing/JWindow/ShapedAndTranslucentWindows/Common.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../../JTable/6777378/bug6777378.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../MultiUIDefaults/4300666/bug4300666.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/javax/swing/JWindow/ShapedAndTranslucentWindows/Common.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
350         window.add(panel);
351 
352         JComboBox comboBox2 = new JComboBox(new String[]{&quot;JComboBox2&quot;, &quot;Another item&quot;});
353         window.add(comboBox2);
354 
355         JRadioButton radioButton = new JRadioButton(&quot;JRadioButton&quot;);
356         radioButton.setOpaque(false);
357         window.add(radioButton);
358     }
359 
360     Color colorWithOpacity(Color color, float opacity) {
361         return new Color(color.getColorSpace(), color.getColorComponents(null), opacity);
362     }
363 
364     public void checkTranslucent() throws Exception {
365         checkTranslucentShape();
366 
367         // Drag
368         Point location = window.getLocationOnScreen();
369         robot.dragAndDrop(location.x + 30, location.y + 5, location.x + dl + random.nextInt(dl), location.y + random.nextInt(dl));
<span class="line-modified">370         robot.waitForIdle(delay);</span>
371         checkTranslucentShape();
372 
373         // Resize
374         location = window.getLocationOnScreen();
375         robot.dragAndDrop(location.x + 4, location.y + 4, location.x + random.nextInt(2*dl)-dl, location.y + random.nextInt(2*dl)-dl);
<span class="line-modified">376         robot.waitForIdle(delay);</span>
377         checkTranslucentShape();
378 
379         EventQueue.invokeAndWait(this::dispose);
380     }
381 
382     public void checkDynamic() throws Exception {
383         checkDynamicShape();
384 
385         // Drag
386         Point location = window.getLocationOnScreen();
387         robot.dragAndDrop(location.x + 30, location.y + 5, location.x + dl + random.nextInt(dl), location.y + random.nextInt(dl));
<span class="line-modified">388         robot.waitForIdle(delay);</span>
389         checkDynamicShape();
390 
391         // Resize
392         location = window.getLocationOnScreen();
393         robot.dragAndDrop(location.x + 4, location.y + 4, location.x + random.nextInt(2*dl)-dl, location.y + random.nextInt(2*dl)-dl);
<span class="line-modified">394         robot.waitForIdle(delay);</span>
395         checkDynamicShape();
396 
397         EventQueue.invokeAndWait(this::dispose);
398     }
399 
400     void checkClick(int x, int y, int flag) throws Exception {
401 
402         System.out.println(&quot;Trying to click point &quot; + x + &quot;, &quot; + y + &quot;, looking for &quot; + flag + &quot; flag to trigger.&quot;);
403 
404         clicked = 0;
405         robot.mouseMove(x, y);
406         robot.click();
407 
408         for (int i = 0; i &lt; 100; i++)
409             if ((clicked &amp; (1 &lt;&lt; flag)) == 0)
410                 robot.delay(50);
411             else
412                 break;
413 
414         if ((clicked &amp; (1 &lt;&lt; flag)) == 0)
</pre>
</td>
<td>
<hr />
<pre>
350         window.add(panel);
351 
352         JComboBox comboBox2 = new JComboBox(new String[]{&quot;JComboBox2&quot;, &quot;Another item&quot;});
353         window.add(comboBox2);
354 
355         JRadioButton radioButton = new JRadioButton(&quot;JRadioButton&quot;);
356         radioButton.setOpaque(false);
357         window.add(radioButton);
358     }
359 
360     Color colorWithOpacity(Color color, float opacity) {
361         return new Color(color.getColorSpace(), color.getColorComponents(null), opacity);
362     }
363 
364     public void checkTranslucent() throws Exception {
365         checkTranslucentShape();
366 
367         // Drag
368         Point location = window.getLocationOnScreen();
369         robot.dragAndDrop(location.x + 30, location.y + 5, location.x + dl + random.nextInt(dl), location.y + random.nextInt(dl));
<span class="line-modified">370         robot.waitForIdle(2*delay);</span>
371         checkTranslucentShape();
372 
373         // Resize
374         location = window.getLocationOnScreen();
375         robot.dragAndDrop(location.x + 4, location.y + 4, location.x + random.nextInt(2*dl)-dl, location.y + random.nextInt(2*dl)-dl);
<span class="line-modified">376         robot.waitForIdle(2*delay);</span>
377         checkTranslucentShape();
378 
379         EventQueue.invokeAndWait(this::dispose);
380     }
381 
382     public void checkDynamic() throws Exception {
383         checkDynamicShape();
384 
385         // Drag
386         Point location = window.getLocationOnScreen();
387         robot.dragAndDrop(location.x + 30, location.y + 5, location.x + dl + random.nextInt(dl), location.y + random.nextInt(dl));
<span class="line-modified">388         robot.waitForIdle(2*delay);</span>
389         checkDynamicShape();
390 
391         // Resize
392         location = window.getLocationOnScreen();
393         robot.dragAndDrop(location.x + 4, location.y + 4, location.x + random.nextInt(2*dl)-dl, location.y + random.nextInt(2*dl)-dl);
<span class="line-modified">394         robot.waitForIdle(2*delay);</span>
395         checkDynamicShape();
396 
397         EventQueue.invokeAndWait(this::dispose);
398     }
399 
400     void checkClick(int x, int y, int flag) throws Exception {
401 
402         System.out.println(&quot;Trying to click point &quot; + x + &quot;, &quot; + y + &quot;, looking for &quot; + flag + &quot; flag to trigger.&quot;);
403 
404         clicked = 0;
405         robot.mouseMove(x, y);
406         robot.click();
407 
408         for (int i = 0; i &lt; 100; i++)
409             if ((clicked &amp; (1 &lt;&lt; flag)) == 0)
410                 robot.delay(50);
411             else
412                 break;
413 
414         if ((clicked &amp; (1 &lt;&lt; flag)) == 0)
</pre>
</td>
</tr>
</table>
<center><a href="../../JTable/6777378/bug6777378.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../MultiUIDefaults/4300666/bug4300666.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>