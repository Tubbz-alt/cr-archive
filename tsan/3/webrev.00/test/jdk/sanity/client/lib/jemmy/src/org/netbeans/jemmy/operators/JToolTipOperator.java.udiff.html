<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff test/jdk/sanity/client/lib/jemmy/src/org/netbeans/jemmy/operators/JToolTipOperator.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="JInternalFrameOperator.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="../version_info.udiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/sanity/client/lib/jemmy/src/org/netbeans/jemmy/operators/JToolTipOperator.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -35,12 +35,15 @@</span>
  import javax.swing.JToolTip;
  import javax.swing.plaf.ToolTipUI;
  
  import org.netbeans.jemmy.ComponentChooser;
  import org.netbeans.jemmy.ComponentSearcher;
<span class="udiff-line-added">+ import org.netbeans.jemmy.JemmyException;</span>
  import org.netbeans.jemmy.TimeoutExpiredException;
<span class="udiff-line-added">+ import org.netbeans.jemmy.Timeouts;</span>
  import org.netbeans.jemmy.Waitable;
<span class="udiff-line-added">+ import org.netbeans.jemmy.Waiter;</span>
  
  /**
   * &lt;BR&gt;
   * &lt;BR&gt;
   * Timeouts used: &lt;BR&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -50,17 +53,22 @@</span>
   *
   * @see org.netbeans.jemmy.Timeouts
   */
  public class JToolTipOperator extends JComponentOperator {
  
<span class="udiff-line-added">+     private static long WAIT_TOOLTIP_TIMEOUT = 60000;</span>
<span class="udiff-line-added">+ </span>
      /**
       * Identifier for a &quot;tip text&quot; property.
       *
       * @see #getDump()
       */
      public static final String TIP_TEXT_DPROP = &quot;TipText&quot;;
  
<span class="udiff-line-added">+     static {</span>
<span class="udiff-line-added">+         Timeouts.initDefault(&quot;JToolTipOperator.WaitToolTipTimeout&quot;, WAIT_TOOLTIP_TIMEOUT);</span>
<span class="udiff-line-added">+     }</span>
      /**
       * Constructs a JToolTipOperator object, waiting for a shown
       * JToolTip.
       */
      public JToolTipOperator() {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -284,12 +292,11 @@</span>
       * @return JToolTip instance.
       * @see TimeoutExpiredException
       */
      public static JToolTip waitJToolTip(ComponentOperator comp,
              ComponentChooser chooser) {
<span class="udiff-line-modified-removed">-         return Operator.getEnvironmentOperator().</span>
<span class="udiff-line-removed">-                 waitState(new Waitable&lt;JToolTip, Void&gt;() {</span>
<span class="udiff-line-modified-added">+         Waitable&lt;JToolTip, Void&gt; waitable = new Waitable&lt;JToolTip, Void&gt;() {</span>
              @Override
              public JToolTip actionProduced(Void obj) {
                  return findJToolTip(comp, chooser);
              }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -302,11 +309,23 @@</span>
              @Override
              public String toString() {
                  return &quot;JToolTipOperator.waitJToolTip.Waitable{description = &quot;
                          + getDescription() + &#39;}&#39;;
              }
<span class="udiff-line-modified-removed">-         });</span>
<span class="udiff-line-modified-added">+         };</span>
<span class="udiff-line-added">+         Waiter&lt;JToolTip, Void&gt; stateWaiter = new Waiter&lt;&gt;(waitable);</span>
<span class="udiff-line-added">+         stateWaiter.setTimeoutsToCloneOf(Operator.getEnvironmentOperator().</span>
<span class="udiff-line-added">+                 getTimeouts(), &quot;JToolTipOperator.WaitToolTipTimeout&quot;);</span>
<span class="udiff-line-added">+         stateWaiter.setOutput(Operator.getEnvironmentOperator().</span>
<span class="udiff-line-added">+                 getOutput().createErrorOutput());</span>
<span class="udiff-line-added">+         try {</span>
<span class="udiff-line-added">+             return stateWaiter.waitAction(null);</span>
<span class="udiff-line-added">+         } catch (InterruptedException e) {</span>
<span class="udiff-line-added">+            Thread.currentThread().interrupt();</span>
<span class="udiff-line-added">+            throw (new JemmyException(&quot;Waiting of &quot; + waitable.getDescription()</span>
<span class="udiff-line-added">+                + &quot; state has been interrupted!&quot;));</span>
<span class="udiff-line-added">+         }</span>
      }
  
      /**
       * Waits for the JToolTip associated with the given component and having
       * the given tip text compared using given string comparator options.
</pre>
<center><a href="JInternalFrameOperator.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="../version_info.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>