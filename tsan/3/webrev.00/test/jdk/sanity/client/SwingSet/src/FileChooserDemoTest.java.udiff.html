<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff test/jdk/sanity/client/SwingSet/src/FileChooserDemoTest.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="EditorPaneDemoTest.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="InternalFrameDemoTest.java.udiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/sanity/client/SwingSet/src/FileChooserDemoTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 2018, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 2018, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -59,10 +59,11 @@</span>
  import org.netbeans.jemmy.operators.JToggleButtonOperator;
  import org.netbeans.jemmy.operators.JFileChooserOperator;
  import org.netbeans.jemmy.operators.JDialogOperator;
  import org.netbeans.jemmy.operators.JComponentOperator.JComponentByTipFinder;
  import org.netbeans.jemmy.util.Platform;
<span class="udiff-line-added">+ import org.netbeans.jemmy.util.LookAndFeel;</span>
  import org.testng.annotations.BeforeTest;
  import org.testng.annotations.Listeners;
  import org.jemmy2ext.JemmyExt.ByToolTipChooser;
  
  /*
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -139,13 +140,11 @@</span>
      private void checkSelectImage() throws Exception {
          selectImageButton.push();
          fileChooser = new JFileChooserOperator(JFileChooserOperator.findJFileChooser((Container) frame.getSource()));
          // In Aqua, GTK and Motif L&amp;Fs, JFileChooser does not have
          // &quot;Go Home&quot;, &quot;Up One Level&quot;, &quot;Get Details&quot;, &quot;Get List&quot; buttons.
<span class="udiff-line-modified-removed">-         if (!UIManager.getLookAndFeel().getID().equals(&quot;Aqua&quot;)</span>
<span class="udiff-line-removed">-                 &amp;&amp; !UIManager.getLookAndFeel().getID().equals(&quot;Motif&quot;)</span>
<span class="udiff-line-removed">-                 &amp;&amp; !UIManager.getLookAndFeel().getID().equals(&quot;GTK&quot;)) {</span>
<span class="udiff-line-modified-added">+         if (!LookAndFeel.isAqua() &amp;&amp; !LookAndFeel.isMotif() &amp;&amp; !LookAndFeel.isGTK()) {</span>
              File previousDirectory = fileChooser.getCurrentDirectory();
              fileChooser.goHome();
              // In Windows, pressing goHome navigates to Desktop inside the home directory.
              // This is the expected behavior for windows.
              if (!Platform.isWindows()) {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -155,11 +154,11 @@</span>
              }
              fileChooser.setCurrentDirectory(previousDirectory);
              fileChooser.rescanCurrentDirectory();
              // In Windows and Windows Classic L&amp;F, List and Details views are
              // implemented as a popup menu item
<span class="udiff-line-modified-removed">-             if(UIManager.getLookAndFeel().getID().equals(&quot;Windows&quot;)) {</span>
<span class="udiff-line-modified-added">+             if(LookAndFeel.isWindows() || LookAndFeel.isWindowsClassic()) {</span>
                  JButtonOperator popupButton = new JButtonOperator(fileChooser, new JComponentByTipFinder(
                          UIManager.getString(&quot;FileChooser.viewMenuButtonToolTipText&quot;, fileChooser.getLocale())));
                  popupButton.push();
                  JPopupMenuOperator popup = new JPopupMenuOperator();
                  popup.pushKey(KeyEvent.VK_ENTER);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -272,12 +271,11 @@</span>
      private void initializeSelectWithPreviewDialog() {
          fileChooser = new JFileChooserOperator();
          fileChooserDialog = new JDialogOperator(OPEN);
          String openButtonText = OPEN;
          // In GTK and Motif L&amp;F, open button text is &#39;OK&#39;
<span class="udiff-line-modified-removed">-         if (UIManager.getLookAndFeel().getID().equals(&quot;Motif&quot;)</span>
<span class="udiff-line-removed">-                 || UIManager.getLookAndFeel().getID().equals(&quot;GTK&quot;)) {</span>
<span class="udiff-line-modified-added">+         if (LookAndFeel.isMotif() || LookAndFeel.isGTK()) {</span>
              openButtonText = OK;
          }
          openButton = new JButtonOperator(fileChooser, openButtonText);
          cancelButton = new JButtonOperator(fileChooser, CANCEL);
      }
</pre>
<center><a href="EditorPaneDemoTest.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="InternalFrameDemoTest.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>