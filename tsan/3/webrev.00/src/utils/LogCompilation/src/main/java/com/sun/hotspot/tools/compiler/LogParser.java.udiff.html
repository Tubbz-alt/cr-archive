<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/utils/LogCompilation/src/main/java/com/sun/hotspot/tools/compiler/LogParser.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="LogCompilation.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="Method.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/utils/LogCompilation/src/main/java/com/sun/hotspot/tools/compiler/LogParser.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -864,15 +864,15 @@</span>
              compile.setStart(Double.parseDouble(search(atts, &quot;stamp&quot;)));
              compile.setICount(search(atts, &quot;count&quot;, &quot;0&quot;));
              compile.setBCount(search(atts, &quot;backedge_count&quot;, &quot;0&quot;));
              compile.setBCI(Integer.parseInt(search(atts, &quot;osr_bci&quot;, &quot;-1&quot;)));
              String compiler = atts.getValue(&quot;compiler&quot;);
<span class="udiff-line-modified-removed">-             if (compiler == null) {</span>
<span class="udiff-line-modified-removed">-                 compiler = &quot;&quot;;</span>
<span class="udiff-line-modified-added">+             assert compiler == null : &quot;Compiler is not specified in task&quot;;</span>
<span class="udiff-line-modified-added">+             long level = parseLong(search(atts, &quot;level&quot;, &quot;0&quot;));</span>
<span class="udiff-line-added">+             if (level != 0) {</span>
<span class="udiff-line-added">+                 compile.setLevel(level);</span>
              }
<span class="udiff-line-removed">-             compile.setCompiler(compiler);</span>
<span class="udiff-line-removed">- </span>
              // Extract the name of the compiled method.
              String[] parts = spacePattern.split(atts.getValue(&quot;method&quot;));
              String methodName = parts[0] + &quot;::&quot; + parts[1];
  
              // Continue collecting compilation meta-data.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -894,10 +894,11 @@</span>
              m.setHolder(parts[0]);
              m.setName(parts[1]);
              m.setSignature(parts[2]);
              m.setFlags(&quot;0&quot;);
              m.setBytes(search(atts, &quot;bytes&quot;, &quot;unknown&quot;));
<span class="udiff-line-added">+             m.setLevel(compile.getLevel());</span>
              compile.setMethod(m);
              events.add(compile);
              compiles.put(id, compile);
              site = compile.getCall();
          } else if (qname.equals(&quot;type&quot;)) {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -930,10 +931,16 @@</span>
              if (search(atts, &quot;unloaded&quot;, &quot;0&quot;).equals(&quot;0&quot;)) {
                 m.setBytes(search(atts, &quot;bytes&quot;));
                 m.setIICount(search(atts, &quot;iicount&quot;));
                 m.setFlags(search(atts, &quot;flags&quot;));
              }
<span class="udiff-line-added">+             String compiler = search(atts, &quot;compiler&quot;, &quot;&quot;);</span>
<span class="udiff-line-added">+             m.setCompiler(compiler);</span>
<span class="udiff-line-added">+             long level = parseLong(search(atts, &quot;level&quot;, &quot;0&quot;));</span>
<span class="udiff-line-added">+             if (level != 0) {</span>
<span class="udiff-line-added">+                 m.setLevel(level);</span>
<span class="udiff-line-added">+             }</span>
              methods.put(id, m);
          } else if (qname.equals(&quot;call&quot;)) {
              if (methodHandleSite != null) {
                  methodHandleSite = null;
              }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1098,10 +1105,12 @@</span>
                      parseLong(atts.getValue(&quot;size&quot;)));
              String level = atts.getValue(&quot;level&quot;);
              if (level != null) {
                  nm.setLevel(parseLong(level));
              }
<span class="udiff-line-added">+             String compiler = search(atts, &quot;compiler&quot;, &quot;&quot;);</span>
<span class="udiff-line-added">+             nm.setCompiler(compiler);</span>
              nmethods.put(id, nm);
              events.add(nm);
          } else if (qname.equals(&quot;parse&quot;)) {
              if (failureReason != null &amp;&amp; scopes.size() == 0 &amp;&amp; !lateInlining) {
                  // A compilation just failed, and we&#39;re back at a top
</pre>
<center><a href="LogCompilation.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="Method.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>