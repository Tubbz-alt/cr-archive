<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/unix/classes/sun/font/XRGlyphCache.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="FontConfigManager.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="XRTextRenderer.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/unix/classes/sun/font/XRGlyphCache.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 97         int id = XRGlyphCacheEntry.getGlyphID(imgPtr);
 98 
 99         if (id == 0) {
100             return null;
101         }
102 
103         tmp.setValue(id);
104         return cacheMap.get(tmp);
105     }
106 
107     public XRGlyphCacheEntry[] cacheGlyphs(GlyphList glyphList) {
108         time++;
109 
110         XRGlyphCacheEntry[] entries = new XRGlyphCacheEntry[glyphList.getNumGlyphs()];
111         long[] imgPtrs = glyphList.getImages();
112         ArrayList&lt;XRGlyphCacheEntry&gt; uncachedGlyphs = null;
113 
114         for (int i = 0; i &lt; glyphList.getNumGlyphs(); i++) {
115             XRGlyphCacheEntry glyph;
116 



117             // Find uncached glyphs and queue them for upload
118             if ((glyph = getEntryForPointer(imgPtrs[i])) == null) {
119                 glyph = new XRGlyphCacheEntry(imgPtrs[i], glyphList);
120                 glyph.setGlyphID(getFreeGlyphID());
121                 cacheMap.put(new MutableInteger(glyph.getGlyphID()), glyph);
122 
123                 if (uncachedGlyphs == null) {
124                     uncachedGlyphs = new ArrayList&lt;XRGlyphCacheEntry&gt;();
125                 }
126                 uncachedGlyphs.add(glyph);
127             }
128             glyph.setLastUsed(time);
129             entries[i] = glyph;
130         }
131 
132         // Add glyphs to cache
133         if (uncachedGlyphs != null) {
134             uploadGlyphs(entries, uncachedGlyphs, glyphList, null);
135         }
136 
</pre>
</td>
<td>
<hr />
<pre>
 97         int id = XRGlyphCacheEntry.getGlyphID(imgPtr);
 98 
 99         if (id == 0) {
100             return null;
101         }
102 
103         tmp.setValue(id);
104         return cacheMap.get(tmp);
105     }
106 
107     public XRGlyphCacheEntry[] cacheGlyphs(GlyphList glyphList) {
108         time++;
109 
110         XRGlyphCacheEntry[] entries = new XRGlyphCacheEntry[glyphList.getNumGlyphs()];
111         long[] imgPtrs = glyphList.getImages();
112         ArrayList&lt;XRGlyphCacheEntry&gt; uncachedGlyphs = null;
113 
114         for (int i = 0; i &lt; glyphList.getNumGlyphs(); i++) {
115             XRGlyphCacheEntry glyph;
116 
<span class="line-added">117             if (imgPtrs[i] == 0L) {</span>
<span class="line-added">118                 continue;</span>
<span class="line-added">119             }</span>
120             // Find uncached glyphs and queue them for upload
121             if ((glyph = getEntryForPointer(imgPtrs[i])) == null) {
122                 glyph = new XRGlyphCacheEntry(imgPtrs[i], glyphList);
123                 glyph.setGlyphID(getFreeGlyphID());
124                 cacheMap.put(new MutableInteger(glyph.getGlyphID()), glyph);
125 
126                 if (uncachedGlyphs == null) {
127                     uncachedGlyphs = new ArrayList&lt;XRGlyphCacheEntry&gt;();
128                 }
129                 uncachedGlyphs.add(glyph);
130             }
131             glyph.setLastUsed(time);
132             entries[i] = glyph;
133         }
134 
135         // Add glyphs to cache
136         if (uncachedGlyphs != null) {
137             uploadGlyphs(entries, uncachedGlyphs, glyphList, null);
138         }
139 
</pre>
</td>
</tr>
</table>
<center><a href="FontConfigManager.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="XRTextRenderer.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>