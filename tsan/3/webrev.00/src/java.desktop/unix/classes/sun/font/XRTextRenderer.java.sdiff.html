<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/unix/classes/sun/font/XRTextRenderer.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="XRGlyphCache.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../java2d/opengl/GLXGraphicsConfig.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/unix/classes/sun/font/XRTextRenderer.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 71             int oldPosX = 0, oldPosY = 0;
 72 
 73             if (gl.isSubPixPos()) {
 74                 advX += 0.1666667f;
 75                 advY += 0.1666667f;
 76             } else {
 77                 advX += 0.5f;
 78                 advY += 0.5f;
 79             }
 80 
 81             XRGlyphCacheEntry[] cachedGlyphs = glyphCache.cacheGlyphs(gl);
 82             boolean containsLCDGlyphs = false;
 83             int activeGlyphSet = cachedGlyphs[0].getGlyphSet();
 84 
 85             int eltIndex = -1;
 86             gl.getBounds();
 87             float[] positions = gl.getPositions();
 88             for (int i = 0; i &lt; gl.getNumGlyphs(); i++) {
 89                 gl.setGlyphIndex(i);
 90                 XRGlyphCacheEntry cacheEntry = cachedGlyphs[i];



 91 
 92                 eltList.getGlyphs().addInt(cacheEntry.getGlyphID());
 93                 int glyphSet = cacheEntry.getGlyphSet();
 94 
 95                 containsLCDGlyphs |= (glyphSet == glyphCache.lcdGlyphSet);
 96 
 97                 int posX = 0, posY = 0;
 98                 if (gl.usePositions()
 99                         || cacheEntry.getXAdvance() != ((float) cacheEntry.getXOff())
100                         || cacheEntry.getYAdvance() != ((float) cacheEntry.getYOff())
101                         || glyphSet != activeGlyphSet
102                         || eltIndex &lt; 0
103                         || eltList.getCharCnt(eltIndex) == MAX_ELT_GLYPH_COUNT) {
104 
105                     eltIndex = eltList.getNextIndex();
106                     eltList.setCharCnt(eltIndex, 1);
107                     activeGlyphSet = glyphSet;
108                     eltList.setGlyphSet(eltIndex, glyphSet);
109 
110                     if (gl.usePositions()) {
</pre>
</td>
<td>
<hr />
<pre>
 71             int oldPosX = 0, oldPosY = 0;
 72 
 73             if (gl.isSubPixPos()) {
 74                 advX += 0.1666667f;
 75                 advY += 0.1666667f;
 76             } else {
 77                 advX += 0.5f;
 78                 advY += 0.5f;
 79             }
 80 
 81             XRGlyphCacheEntry[] cachedGlyphs = glyphCache.cacheGlyphs(gl);
 82             boolean containsLCDGlyphs = false;
 83             int activeGlyphSet = cachedGlyphs[0].getGlyphSet();
 84 
 85             int eltIndex = -1;
 86             gl.getBounds();
 87             float[] positions = gl.getPositions();
 88             for (int i = 0; i &lt; gl.getNumGlyphs(); i++) {
 89                 gl.setGlyphIndex(i);
 90                 XRGlyphCacheEntry cacheEntry = cachedGlyphs[i];
<span class="line-added"> 91                 if (cacheEntry == null) {</span>
<span class="line-added"> 92                     continue;</span>
<span class="line-added"> 93                 }</span>
 94 
 95                 eltList.getGlyphs().addInt(cacheEntry.getGlyphID());
 96                 int glyphSet = cacheEntry.getGlyphSet();
 97 
 98                 containsLCDGlyphs |= (glyphSet == glyphCache.lcdGlyphSet);
 99 
100                 int posX = 0, posY = 0;
101                 if (gl.usePositions()
102                         || cacheEntry.getXAdvance() != ((float) cacheEntry.getXOff())
103                         || cacheEntry.getYAdvance() != ((float) cacheEntry.getYOff())
104                         || glyphSet != activeGlyphSet
105                         || eltIndex &lt; 0
106                         || eltList.getCharCnt(eltIndex) == MAX_ELT_GLYPH_COUNT) {
107 
108                     eltIndex = eltList.getNextIndex();
109                     eltList.setCharCnt(eltIndex, 1);
110                     activeGlyphSet = glyphSet;
111                     eltList.setGlyphSet(eltIndex, glyphSet);
112 
113                     if (gl.usePositions()) {
</pre>
</td>
</tr>
</table>
<center><a href="XRGlyphCache.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../java2d/opengl/GLXGraphicsConfig.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>