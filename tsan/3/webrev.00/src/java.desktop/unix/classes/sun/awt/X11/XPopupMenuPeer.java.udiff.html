<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.desktop/unix/classes/sun/awt/X11/XPopupMenuPeer.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="XMenuPeer.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="XTextAreaPeer.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/unix/classes/sun/awt/X11/XPopupMenuPeer.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 2002, 2018, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 2002, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -77,46 +77,36 @@</span>
       *
       ************************************************/
      /*
       * From MenuComponentPeer
       */
<span class="udiff-line-added">+     @Override</span>
      public void setFont(Font f) {
          resetMapping();
          setItemsFont(f);
          postPaintEvent();
      }
  
      /*
       * From MenuItemPeer
       */
<span class="udiff-line-added">+     @Override</span>
      public void setLabel(String label) {
          resetMapping();
          postPaintEvent();
      }
  
  
<span class="udiff-line-added">+     @Override</span>
      public void setEnabled(boolean enabled) {
          postPaintEvent();
      }
  
<span class="udiff-line-removed">-     /*</span>
<span class="udiff-line-removed">-      * From MenuPeer</span>
<span class="udiff-line-removed">-      */</span>
<span class="udiff-line-removed">-     /**</span>
<span class="udiff-line-removed">-      * addSeparator routines are not used</span>
<span class="udiff-line-removed">-      * in peers. Shared code invokes addItem(&quot;-&quot;)</span>
<span class="udiff-line-removed">-      * for adding separators</span>
<span class="udiff-line-removed">-      */</span>
<span class="udiff-line-removed">-     public void addSeparator() {</span>
<span class="udiff-line-removed">-         if (log.isLoggable(PlatformLogger.Level.FINER)) {</span>
<span class="udiff-line-removed">-             log.finer(&quot;addSeparator is not implemented&quot;);</span>
<span class="udiff-line-removed">-         }</span>
<span class="udiff-line-removed">-     }</span>
<span class="udiff-line-removed">- </span>
      /*
       * From PopupMenuPeer
       */
<span class="udiff-line-added">+     @Override</span>
      @SuppressWarnings(&quot;deprecation&quot;)
      public void show(Event e) {
          target = (Component)e.target;
          // Get menus from the target.
          Vector&lt;MenuItem&gt; targetItemVector = getMenuTargetItems();
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -171,10 +161,11 @@</span>
              return false;
          }
          return AWTAccessor.getMenuItemAccessor().isEnabled(popupMenuTarget);
      }
  
<span class="udiff-line-added">+     @Override</span>
      Vector&lt;MenuItem&gt; getMenuTargetItems() {
          if (popupMenuTarget == null) {
              return null;
          }
          return AWTAccessor.getMenuAccessor().getItems(popupMenuTarget);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -229,13 +220,14 @@</span>
       ************************************************/
      /**
       * Returns height of menu window&#39;s caption.
       * Can be overriden for popup menus and tear-off menus
       */
<span class="udiff-line-added">+     @Override</span>
      protected Dimension getCaptionSize() {
          String s = getTargetLabel();
<span class="udiff-line-modified-removed">-         if (s.equals(&quot;&quot;)) {</span>
<span class="udiff-line-modified-added">+         if (s.isEmpty()) {</span>
              return null;
          }
          Graphics g = getGraphics();
          if (g == null) {
              return null;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -256,13 +248,14 @@</span>
      /**
       * Paints menu window&#39;s caption.
       * Can be overriden for popup menus and tear-off menus.
       * Default implementation does nothing
       */
<span class="udiff-line-added">+     @Override</span>
      protected void paintCaption(Graphics g, Rectangle rect) {
          String s = getTargetLabel();
<span class="udiff-line-modified-removed">-         if (s.equals(&quot;&quot;)) {</span>
<span class="udiff-line-modified-added">+         if (s.isEmpty()) {</span>
              return;
          }
          g.setFont(getTargetFont());
          FontMetrics fm = g.getFontMetrics();
          String str = getTargetLabel();
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -278,15 +271,17 @@</span>
      /************************************************
       *
       * Overriden XBaseMenuWindow functions
       *
       ************************************************/
<span class="udiff-line-added">+     @Override</span>
      protected void doDispose() {
          super.doDispose();
          XToolkit.targetDisposedPeer(popupMenuTarget, this);
      }
  
<span class="udiff-line-added">+     @Override</span>
      protected void handleEvent(AWTEvent event) {
          switch(event.getID()) {
          case MouseEvent.MOUSE_PRESSED:
          case MouseEvent.MOUSE_RELEASED:
          case MouseEvent.MOUSE_CLICKED:
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -309,10 +304,11 @@</span>
      /************************************************
       *
       * Overriden XWindow general-purpose functions
       *
       ************************************************/
<span class="udiff-line-added">+     @Override</span>
      void ungrabInputImpl() {
          hide();
      }
  
      /************************************************
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -324,10 +320,11 @@</span>
      /*
       * In previous version keys were handled in handleKeyPress.
       * Now we override this function do disable F10 explicit
       * processing. All processing is done using KeyEvent.
       */
<span class="udiff-line-added">+     @Override</span>
      public void handleKeyPress(XEvent xev) {
          XKeyEvent xkey = xev.get_xkey();
          if (log.isLoggable(PlatformLogger.Level.FINE)) {
              log.fine(xkey.toString());
          }
</pre>
<center><a href="XMenuPeer.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="XTextAreaPeer.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>