<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/unix/classes/sun/awt/UNIXToolkit.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="FcFontManager.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="X11/MotifColorUtilities.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/unix/classes/sun/awt/UNIXToolkit.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 76         // major GTK version number
 77         public int getNumber() {
 78             return number;
 79         }
 80     };
 81 
 82     private Boolean nativeGTKAvailable;
 83     private Boolean nativeGTKLoaded;
 84     private BufferedImage tmpImage = null;
 85 
 86     public static int getDatatransferTimeout() {
 87         Integer dt = AccessController.doPrivileged(
 88                 new GetIntegerAction(&quot;sun.awt.datatransfer.timeout&quot;));
 89         if (dt == null || dt &lt;= 0) {
 90             return DEFAULT_DATATRANSFER_TIMEOUT;
 91         } else {
 92             return dt;
 93         }
 94     }
 95 








 96     /**
 97      * Returns true if the native GTK libraries are capable of being
 98      * loaded and are expected to work properly, false otherwise.  Note
 99      * that this method will not leave the native GTK libraries loaded if
100      * they haven&#39;t already been loaded.  This allows, for example, Swing&#39;s
101      * GTK L&amp;F to test for the presence of native GTK support without
102      * leaving the native libraries loaded.  To attempt long-term loading
103      * of the native GTK libraries, use the loadGTK() method instead.
104      */
105     @Override
106     public boolean isNativeGTKAvailable() {
107         synchronized (GTK_LOCK) {
108             if (nativeGTKLoaded != null) {
109                 // We&#39;ve already attempted to load GTK, so just return the
110                 // status of that attempt.
111                 return nativeGTKLoaded;
112 
113             } else if (nativeGTKAvailable != null) {
114                 // We&#39;ve already checked the availability of the native GTK
115                 // libraries, so just return the status of that attempt.
</pre>
</td>
<td>
<hr />
<pre>
 76         // major GTK version number
 77         public int getNumber() {
 78             return number;
 79         }
 80     };
 81 
 82     private Boolean nativeGTKAvailable;
 83     private Boolean nativeGTKLoaded;
 84     private BufferedImage tmpImage = null;
 85 
 86     public static int getDatatransferTimeout() {
 87         Integer dt = AccessController.doPrivileged(
 88                 new GetIntegerAction(&quot;sun.awt.datatransfer.timeout&quot;));
 89         if (dt == null || dt &lt;= 0) {
 90             return DEFAULT_DATATRANSFER_TIMEOUT;
 91         } else {
 92             return dt;
 93         }
 94     }
 95 
<span class="line-added"> 96     @Override</span>
<span class="line-added"> 97     public String getDesktop() {</span>
<span class="line-added"> 98         String gsi = AccessController.doPrivileged(</span>
<span class="line-added"> 99                         (PrivilegedAction&lt;String&gt;) ()</span>
<span class="line-added">100                                 -&gt; System.getenv(&quot;GNOME_DESKTOP_SESSION_ID&quot;));</span>
<span class="line-added">101         return (gsi != null) ? &quot;gnome&quot; : null;</span>
<span class="line-added">102     }</span>
<span class="line-added">103 </span>
104     /**
105      * Returns true if the native GTK libraries are capable of being
106      * loaded and are expected to work properly, false otherwise.  Note
107      * that this method will not leave the native GTK libraries loaded if
108      * they haven&#39;t already been loaded.  This allows, for example, Swing&#39;s
109      * GTK L&amp;F to test for the presence of native GTK support without
110      * leaving the native libraries loaded.  To attempt long-term loading
111      * of the native GTK libraries, use the loadGTK() method instead.
112      */
113     @Override
114     public boolean isNativeGTKAvailable() {
115         synchronized (GTK_LOCK) {
116             if (nativeGTKLoaded != null) {
117                 // We&#39;ve already attempted to load GTK, so just return the
118                 // status of that attempt.
119                 return nativeGTKLoaded;
120 
121             } else if (nativeGTKAvailable != null) {
122                 // We&#39;ve already checked the availability of the native GTK
123                 // libraries, so just return the status of that attempt.
</pre>
</td>
</tr>
</table>
<center><a href="FcFontManager.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="X11/MotifColorUtilities.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>