<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/share/classes/java/awt/MediaTracker.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="List.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="MenuBar.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/classes/java/awt/MediaTracker.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
168  */
169 public class MediaTracker implements java.io.Serializable {
170 
171     /**
172      * A given {@code Component} that will be
173      * tracked by a media tracker where the image will
174      * eventually be drawn.
175      *
176      * @serial
177      * @see #MediaTracker(Component)
178      */
179     Component target;
180     /**
181      * The head of the list of {@code Images} that is being
182      * tracked by the {@code MediaTracker}.
183      *
184      * @serial
185      * @see #addImage(Image, int)
186      * @see #removeImage(Image)
187      */

188     MediaEntry head;
189 
190     /*
191      * JDK 1.1 serialVersionUID
192      */
193     private static final long serialVersionUID = -483174189758638095L;
194 
195     /**
196      * Creates a media tracker to track images for a given component.
197      * @param     comp the component on which the images
198      *                     will eventually be drawn
199      */
200     public MediaTracker(Component comp) {
201         target = comp;
202     }
203 
204     /**
205      * Adds an image to the list of images being tracked by this media
206      * tracker. The image will eventually be rendered at its default
207      * (unscaled) size.
</pre>
<hr />
<pre>
905 
906     static final int LOADSTARTED = (LOADING | ERRORED | COMPLETE);
907     static final int DONE = (ABORTED | ERRORED | COMPLETE);
908 
909     synchronized int getStatus(boolean doLoad, boolean doVerify) {
910         if (doLoad &amp;&amp; ((status &amp; LOADSTARTED) == 0)) {
911             status = (status &amp; ~ABORTED) | LOADING;
912             startLoad();
913         }
914         return status;
915     }
916 
917     void setStatus(int flag) {
918         synchronized (this) {
919             status = flag;
920         }
921         tracker.setDone();
922     }
923 }
924 

925 class ImageMediaEntry extends MediaEntry implements ImageObserver,
926 java.io.Serializable {

927     Image image;
928     int width;
929     int height;
930 
931     /*
932      * JDK 1.1 serialVersionUID
933      */
934     private static final long serialVersionUID = 4739377000350280650L;
935 
936     ImageMediaEntry(MediaTracker mt, Image img, int c, int w, int h) {
937         super(mt, c);
938         image = img;
939         width = w;
940         height = h;
941     }
942 
943     boolean matches(Image img, int w, int h) {
944         return (image == img &amp;&amp; width == w &amp;&amp; height == h);
945     }
946 
</pre>
</td>
<td>
<hr />
<pre>
168  */
169 public class MediaTracker implements java.io.Serializable {
170 
171     /**
172      * A given {@code Component} that will be
173      * tracked by a media tracker where the image will
174      * eventually be drawn.
175      *
176      * @serial
177      * @see #MediaTracker(Component)
178      */
179     Component target;
180     /**
181      * The head of the list of {@code Images} that is being
182      * tracked by the {@code MediaTracker}.
183      *
184      * @serial
185      * @see #addImage(Image, int)
186      * @see #removeImage(Image)
187      */
<span class="line-added">188     @SuppressWarnings(&quot;serial&quot;) // Not statically typed as Serializable</span>
189     MediaEntry head;
190 
191     /*
192      * JDK 1.1 serialVersionUID
193      */
194     private static final long serialVersionUID = -483174189758638095L;
195 
196     /**
197      * Creates a media tracker to track images for a given component.
198      * @param     comp the component on which the images
199      *                     will eventually be drawn
200      */
201     public MediaTracker(Component comp) {
202         target = comp;
203     }
204 
205     /**
206      * Adds an image to the list of images being tracked by this media
207      * tracker. The image will eventually be rendered at its default
208      * (unscaled) size.
</pre>
<hr />
<pre>
906 
907     static final int LOADSTARTED = (LOADING | ERRORED | COMPLETE);
908     static final int DONE = (ABORTED | ERRORED | COMPLETE);
909 
910     synchronized int getStatus(boolean doLoad, boolean doVerify) {
911         if (doLoad &amp;&amp; ((status &amp; LOADSTARTED) == 0)) {
912             status = (status &amp; ~ABORTED) | LOADING;
913             startLoad();
914         }
915         return status;
916     }
917 
918     void setStatus(int flag) {
919         synchronized (this) {
920             status = flag;
921         }
922         tracker.setDone();
923     }
924 }
925 
<span class="line-added">926 @SuppressWarnings(&quot;serial&quot;) // MediaEntry does not have a no-arg ctor</span>
927 class ImageMediaEntry extends MediaEntry implements ImageObserver,
928 java.io.Serializable {
<span class="line-added">929     @SuppressWarnings(&quot;serial&quot;) // Not statically typed as Serializable</span>
930     Image image;
931     int width;
932     int height;
933 
934     /*
935      * JDK 1.1 serialVersionUID
936      */
937     private static final long serialVersionUID = 4739377000350280650L;
938 
939     ImageMediaEntry(MediaTracker mt, Image img, int c, int w, int h) {
940         super(mt, c);
941         image = img;
942         width = w;
943         height = h;
944     }
945 
946     boolean matches(Image img, int w, int h) {
947         return (image == img &amp;&amp; width == w &amp;&amp; height == h);
948     }
949 
</pre>
</td>
</tr>
</table>
<center><a href="List.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="MenuBar.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>