<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/java.desktop/share/classes/java/awt/doc-files/DesktopProperties.html</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 &lt;!doctype html&gt;
  2 &lt;html lang=&quot;en&quot;&gt;
  3 &lt;head&gt;
  4   &lt;meta charset=&quot;utf-8&quot;/&gt;
  5   &lt;title&gt;AWT Desktop Properties&lt;/title&gt;
  6 &lt;/head&gt;
  7 &lt;!--
<a name="1" id="anc1"></a><span class="line-modified">  8  Copyright (c) 2005, 2018, Oracle and/or its affiliates. All rights reserved.</span>
  9  DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 10 
 11  This code is free software; you can redistribute it and/or modify it
 12  under the terms of the GNU General Public License version 2 only, as
 13  published by the Free Software Foundation.  Oracle designates this
 14  particular file as subject to the &quot;Classpath&quot; exception as provided
 15  by Oracle in the LICENSE file that accompanied this code.
 16 
 17  This code is distributed in the hope that it will be useful, but WITHOUT
 18  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 19  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 20  version 2 for more details (a copy is included in the LICENSE file that
 21  accompanied this code).
 22 
 23  You should have received a copy of the GNU General Public License version
 24  2 along with this work; if not, write to the Free Software Foundation,
 25  Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 26 
 27  Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 28  or visit www.oracle.com if you need additional information or have any
 29  questions.
 30 --&gt;
 31 
 32 &lt;body&gt;
 33 &lt;main role=&quot;main&quot;&gt;
<a name="2" id="anc2"></a>
 34 &lt;h1&gt;AWT Desktop Properties&lt;/h1&gt;
 35 
 36 The following refers to standard AWT desktop properties that
 37 may be obtained via the
 38 &lt;a href=&quot;../Toolkit.html#getDesktopProperty(java.lang.String)&quot;&gt;
 39 &lt;code&gt;Toolkit.getDesktopProperty&lt;/code&gt;&lt;/a&gt; method.
 40 &lt;p&gt;
 41 Each desktop property is named by a unique string, which
 42 is the &quot;name&quot; of that property.
 43 &lt;p&gt;
 44 Desktop properties supported by the AWT but not documented
 45 elsewhere - typically because there is no suitable
 46 method or class - are documented here.
 47 &lt;p&gt;
 48 Desktop properties documented elsewhere are those which are
 49 tightly coupled with a method or class which documents them.
 50 &lt;p&gt;
 51 Since desktop properties abstract an underlying platform
 52 setting, they may not be available in environments that do
 53 not support them. In the event that a desktop property is
 54 unavailable for any reason, the implementation will return
 55 &lt;code&gt;null&lt;/code&gt;.
 56 &lt;p&gt;
 57 The following table summarizes the desktop properties documented
 58 here, and their value types.
 59 &lt;br&gt;&lt;br&gt;
<a name="3" id="anc3"></a><span class="line-modified"> 60 &lt;table&gt;</span>
<span class="line-modified"> 61 &lt;tr bgcolor=&quot;#ccccff&quot;&gt;</span>
<span class="line-modified"> 62 &lt;th&gt;Property Name&lt;/th&gt;</span>
<span class="line-modified"> 63 &lt;th&gt;Value Type&lt;/th&gt;</span>
<span class="line-modified"> 64 &lt;th&gt;Summary Description&lt;/th&gt;</span>

 65 &lt;/tr&gt;
<a name="4" id="anc4"></a>

 66 &lt;tr&gt;
<a name="5" id="anc5"></a><span class="line-modified"> 67 &lt;td&gt;&lt;A href=&quot;#awt.font.desktophints&quot;&gt;awt.font.desktophints&lt;/A&gt;&lt;/td&gt;</span>
<span class="line-modified"> 68 &lt;td&gt;&lt;a href=&quot;../../util/Map.html&quot;&gt;java.util.Map&lt;/a&gt;&lt;/td&gt;</span>
 69 &lt;td&gt;Font smoothing (text antialiasing) settings.&lt;/td&gt;
 70 &lt;/tr&gt;
 71 &lt;tr&gt;
<a name="6" id="anc6"></a><span class="line-modified"> 72 &lt;td&gt;&lt;A href=&quot;#sun.awt.enableExtraMouseButtons&quot;&gt;sun.awt.enableExtraMouseButtons&lt;/A&gt;&lt;/td&gt;</span>
<span class="line-modified"> 73 &lt;td&gt;&lt;a href=&quot;../../lang/Boolean.html&quot;&gt;java.lang.Boolean&lt;/a&gt;&lt;/td&gt;</span>
 74 &lt;td&gt;Controls if mouse events from extra buttons are to be generated or not&lt;/td&gt;
 75 &lt;/tr&gt;
<a name="7" id="anc7"></a>
 76 &lt;/table&gt;
 77 
 78 &lt;h2&gt;Desktop Font Rendering Hints&lt;/h2&gt;
 79 &lt;b&gt;Desktop Property: &lt;a id=&quot;awt.font.desktophints&quot;&gt;&quot;awt.font.desktophints&quot;&lt;/A&gt;&lt;/b&gt;
 80 &lt;p&gt;
 81 Modern desktops support various forms of text antialiasing (font smoothing).
 82 &lt;p&gt;
 83 These are applied by platform-specific heavyweight components.
 84 However an application may want to render text using the same text
 85 antialiasing on a drawing surface or lightweight (non-platform) component using
 86 &lt;a href=&quot;../Graphics2D.html&quot;&gt; &lt;code&gt;Graphics2D&lt;/code&gt;&lt;/a&gt; methods.
 87 This is particularly important when creating
 88 &lt;a href=&quot;../../../javax/swing/JComponent.html&quot;&gt; Swing components&lt;/a&gt; which
 89 are required to appear consistent with native desktop components or other
 90 Swing components.
 91 
 92 &lt;h3&gt;Basic Usage&lt;/h3&gt;
 93 The standard desktop property named
 94 &lt;b&gt;&quot;awt.font.desktophints&quot;&lt;/b&gt;
 95 can be used to obtain the rendering hints that best match the desktop settings.
 96 
 97 The return value is a
 98 &lt;a href=&quot;../../util/Map.html&quot;&gt; Map&lt;/a&gt; of
 99 &lt;a href=&quot;../RenderingHints.html&quot;&gt; &lt;code&gt;RenderingHints&lt;/code&gt;&lt;/a&gt; which
100 can be directly applied to a &lt;code&gt;Graphics2D&lt;/code&gt;.
101 &lt;p&gt;
102 It is a &lt;code&gt;Map&lt;/code&gt; as more than one hint may be needed.
103 If non-null this can be directly applied to the &lt;code&gt;Graphics2D&lt;/code&gt;.
104 &lt;pre&gt;&lt;code&gt;
105 Toolkit tk = Toolkit.getDefaultToolkit();
106 Map map = (Map)(tk.getDesktopProperty(&quot;awt.font.desktophints&quot;));
107 if (map != null) {
108     graphics2D.addRenderingHints(map);
109 }
110 &lt;/code&gt;&lt;/pre&gt;
111 &lt;h3&gt;Advanced Usage Tips&lt;/h3&gt;
112 
113 &lt;h4&gt;Listening for changes&lt;/h4&gt;
114 &lt;p&gt;
115 An application can listen for changes in the property
116 using a &lt;a href=&quot;../../beans/PropertyChangeListener.html&quot;&gt;
117 &lt;code&gt;PropertyChangeListener&lt;/code&gt;&lt;/a&gt; :
118 &lt;pre&gt;&lt;code&gt;
119 tk.addPropertyChangeListener(&quot;awt.font.desktophints&quot;, pcl);
120 &lt;/code&gt;&lt;/pre&gt;
121 Listening for changes is recommended as users can, on rare occasions,
122 reconfigure a desktop environment whilst applications are running
123 in a way that may affect the selection of these hints, and furthermore
124 many desktop environments support dynamic reconfiguration of these
125 running applications to conform to the new settings.
126 &lt;p&gt;
127 There is no direct way to discover if dynamic reconfiguration
128 is expected of running applications but the default assumption
129 should be that it is expected, since most modern desktop environments
130 do provide this capability.
131 &lt;h4&gt;Text Measurement&lt;/h4&gt;
132 &lt;p&gt;
133 Text always needs to be measured using the same
134 &lt;a href=&quot;../font/FontRenderContext.html&quot;&gt; &lt;code&gt;FontRenderContext&lt;/code&gt;&lt;/a&gt;
135 as used for rendering. The text anti-aliasing hint is a component of
136 the &lt;code&gt;FontRenderContext&lt;/code&gt;.
137 A &lt;a href=&quot;../FontMetrics.html&quot;&gt; &lt;code&gt;FontMetrics&lt;/code&gt;&lt;/a&gt;
138 obtained from the &lt;code&gt;Graphics&lt;/code&gt; object on which the hint
139 has been set will measure text appropriately.
140 This is not a unique requirement for clients that specify this hint
141 directly, since the value of the &lt;code&gt;FontRenderContext&lt;/code&gt; should
142 never be assumed, so is discussed here principally as a reminder.
143 &lt;h4&gt;Saving and restoring Graphics State&lt;/h4&gt;
144 &lt;p&gt;
145 Sometimes an application may need to apply these hints on a shared
146 Graphics only temporarily, restoring the previous values after they
147 have been applied to text rendering operations.
148 The following sample code shows one way to do this.
149 &lt;pre&gt;&lt;code&gt;
150 /**
151   * Get rendering hints from a Graphics instance.
152   * &quot;hintsToSave&quot; is a Map of RenderingHint key-values.
153   * For each hint key present in that map, the value of that
154   * hint is obtained from the Graphics and stored as the value
155   * for the key in savedHints.
156   */
157 RenderingHints getRenderingHints(Graphics2D g2d,
158                                   RenderingHints hintsToSave,
159                                   RenderingHints savedHints) {
160      if (savedHints == null) {
161          savedHints = new RenderingHints(null);
162      } else {
163          savedHints.clear();
164      }
165      if (hintsToSave.size() == 0) {
166          return savedHints;
167      }
168      /* RenderingHints.keySet() returns Set&amp;lt;Object&amp;gt; */
169      for (Object o : hintsToSave.keySet()) {
170          RenderingHints.Key key = (RenderingHints.Key)o;
171          Object value = g2d.getRenderingHint(key);
172          savedHints.put(key, value);
173      }
174      return savedHints;
175 }
176 
177 
178 Toolkit tk = Toolkit.getDefaultToolkit();
179 Map map = (Map)(tk.getDesktopProperty(&quot;awt.font.desktophints&quot;));
180 Map oldHints;
181 if (map != null) {
182      oldHints = getRenderingHints(graphic2D, map, null);
183      graphics2D.addRenderingHints(map);
184      ..
185      graphics2D.addRenderingHints(oldHints);
186 }
187 &lt;/code&gt;&lt;/pre&gt;
188 
189 &lt;h3&gt;Details&lt;/h3&gt;
190 &lt;ul&gt;
191 &lt;li&gt;The return value will always be null or a &lt;code&gt;Map&lt;/code&gt;
192 &lt;br&gt;&lt;br&gt;
193 &lt;li&gt;If the return value is null, then no desktop properties are available,
194 and dynamic updates will not be available. This is a typical behaviour if
195 the JDK does not recognise the desktop environment, or it is one which
196 has no such settings. The &lt;b&gt;Headless&lt;/b&gt; toolkit is one such example.
197 Therefore it is important to test against null before using the map.
198 &lt;br&gt;&lt;br&gt;
199 &lt;li&gt;If non-null the value will be a &lt;code&gt;Map&lt;/code&gt; of
200 &lt;code&gt;RenderingHints&lt;/code&gt; such that every key is an instance of
201 &lt;code&gt;RenderingHints.Key&lt;/code&gt; and the value is a legal value for that key.
202 &lt;br&gt;&lt;br&gt;
203 &lt;li&gt;The map may contain the default value for a hint. This is
204 needed in the event there is a previously a non-default value for the hint
205 set on the &lt;code&gt;Graphics2D&lt;/code&gt;. If the map did not contain
206 the default value, then &lt;code&gt;addRenderingHints(Map)&lt;/code&gt; would leave
207 the previous hint which may not correspond to the desktop setting.
208 &lt;p&gt;
209 An application can use &lt;code&gt;setRenderingHints(Map)&lt;/code&gt; to reinitialise
210 all hints, but this would affect unrelated hints too.
211 &lt;br&gt;&lt;br&gt;
212 &lt;li&gt;A multi-screen desktop may support per-screen device settings in which
213 case the returned value is for the default screen of the desktop.
214 An application may want to use the settings for the screen on
215 which they will be applied.
216 The per-screen device hints may be obtained by per-device property names
217 which are constructed as the String concatenation
218 &lt;pre&gt;&lt;code&gt;
219 &quot;awt.font.desktophints&quot; + &quot;.&quot; + GraphicsDevice.getIDstring();
220 &lt;/code&gt;&lt;/pre&gt;
221 &lt;p&gt;
222 An application can also listen for changes on these properties.
223 &lt;p&gt;
224 However this is an extremely unlikely configuration, so to help
225 ease of development, if only a single, desktop-wide setting is supported,
226 then querying each of these per-device settings will return null.
227 So to determine if there are per-device settings it is sufficient to
228 determine that there is a non-null return for any screen device using
229 the per-device property name.
230 &lt;/ul&gt;
231 &lt;h2&gt;Mouse Functionality&lt;/h2&gt;
232 &lt;b&gt;Desktop Property: &lt;a id=&quot;sun.awt.enableExtraMouseButtons&quot;&gt;&quot;sun.awt.enableExtraMouseButtons&quot;&lt;/A&gt;&lt;/b&gt;
233 &lt;p&gt;
234 This property determines if events from extra mouse buttons (if they are exist and are
235 enabled by the underlying operating system) are allowed to be processed and posted into
236 {@code EventQueue}.
237 &lt;br&gt;
238 The value could be changed by passing &quot;sun.awt.enableExtraMouseButtons&quot;
239 property value into java before application starts. This could be done with the following command:
240 &lt;pre&gt;
241 java -Dsun.awt.enableExtraMouseButtons=false Application
242 &lt;/pre&gt;
243 Once set on application startup, it is impossible to change this value after.
244 &lt;br&gt;
245 Current value could also be queried using getDesktopProperty(&quot;sun.awt.enableExtraMouseButtons&quot;)
246 method.
247 &lt;br&gt;
248 If the property is set to {@code true} then
249 &lt;ul&gt;
250 &lt;li&gt; it is still legal to create {@code MouseEvent} objects with
251 standard buttons and, if the mouse has more
252 then three buttons, it is also legal to use buttons from the range started
253 from 0 up to {@link java.awt.MouseInfo#getNumberOfButtons() getNumberOfButtons()}.
254 
255 &lt;li&gt; it is legal to use standard button masks when using {@code Robot.mousePress()}
256 and {@code Robot.mouseRelease()} methods and, if the mouse has more then three buttons,
257 it is also legal to use masks for existing extended mouse buttons.
258 That way, if there are more then three buttons on the mouse then it is allowed to
259 use button masks corresponding to the buttons
260 in the range from 1 up to {@link java.awt.MouseInfo#getNumberOfButtons() getNumberOfButtons()}
261 &lt;/ul&gt;
262 &lt;br&gt;
263 If the property is set to {@code false} then
264 &lt;ul&gt;
265 &lt;li&gt; it is legal to create {@code MouseEvent} objects with standard buttons
266 only: {@code NOBUTTON}, {@code BUTTON1}, {@code BUTTON2} and
267 {@code BUTTON3}
268 &lt;li&gt; it is legal to use standard button masks only:
269 {@code InputEvent.BUTTON1_DOWN_MASK}, {@code InputEvent.BUTTON2_DOWN_MASK},
270 {@code InputEvent.BUTTON3_DOWN_MASK}
271 &lt;/ul&gt;
272 
273 This property should be used when there is no need in listening mouse events fired as a result of
274 activity with extra mouse button.
275 By default this property is set to {@code true}.
<a name="8" id="anc8"></a>
276 &lt;/main&gt;
277 &lt;/body&gt;
278 &lt;/html&gt;
<a name="9" id="anc9"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="9" type="hidden" />
</body>
</html>