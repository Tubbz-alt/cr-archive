<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.desktop/share/classes/java/awt/Robot.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="RenderingHints.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="ScrollPaneAdjustable.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/classes/java/awt/Robot.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -640,24 +640,29 @@</span>
          delay(autoDelay);
      }
  
      /**
       * Sleeps for the specified time.
<span class="udiff-line-modified-removed">-      * To catch any {@code InterruptedException}s that occur,</span>
<span class="udiff-line-modified-removed">-      * {@code Thread.sleep()} may be used instead.</span>
<span class="udiff-line-modified-added">+      * &lt;p&gt;</span>
<span class="udiff-line-modified-added">+      * If the invoking thread is interrupted while waiting, then it will return</span>
<span class="udiff-line-added">+      * immediately with the interrupt status set. If the interrupted status is</span>
<span class="udiff-line-added">+      * already set, this method returns immediately with the interrupt status</span>
<span class="udiff-line-added">+      * set.</span>
       *
       * @param  ms time to sleep in milliseconds
<span class="udiff-line-modified-removed">-      * @throws IllegalArgumentException if {@code ms}</span>
<span class="udiff-line-modified-removed">-      *         is not between 0 and 60,000 milliseconds inclusive</span>
<span class="udiff-line-removed">-      * @see java.lang.Thread#sleep</span>
<span class="udiff-line-modified-added">+      * @throws IllegalArgumentException if {@code ms} is not between {@code 0}</span>
<span class="udiff-line-modified-added">+      *         and {@code 60,000} milliseconds inclusive</span>
       */
<span class="udiff-line-modified-removed">-     public synchronized void delay(int ms) {</span>
<span class="udiff-line-modified-added">+     public void delay(int ms) {</span>
          checkDelayArgument(ms);
<span class="udiff-line-modified-removed">-         try {</span>
<span class="udiff-line-modified-removed">-             Thread.sleep(ms);</span>
<span class="udiff-line-modified-removed">-         } catch(InterruptedException ite) {</span>
<span class="udiff-line-modified-removed">-             ite.printStackTrace();</span>
<span class="udiff-line-modified-added">+         Thread thread = Thread.currentThread();</span>
<span class="udiff-line-modified-added">+         if (!thread.isInterrupted()) {</span>
<span class="udiff-line-modified-added">+             try {</span>
<span class="udiff-line-modified-added">+                 Thread.sleep(ms);</span>
<span class="udiff-line-added">+             } catch (final InterruptedException ignored) {</span>
<span class="udiff-line-added">+                 thread.interrupt(); // Preserve interrupt status</span>
<span class="udiff-line-added">+             }</span>
          }
      }
  
      private void checkDelayArgument(int ms) {
          if (ms &lt; 0 || ms &gt; MAX_DELAY) {
</pre>
<center><a href="RenderingHints.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="ScrollPaneAdjustable.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>