<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/java.desktop/share/classes/com/sun/java/swing/plaf/gtk/GTKLookAndFeel.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>   1 /*
   2  * Copyright (c) 2002, 2018, Oracle and/or its affiliates. All rights reserved.
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.  Oracle designates this
   8  * particular file as subject to the &quot;Classpath&quot; exception as provided
   9  * by Oracle in the LICENSE file that accompanied this code.
  10  *
  11  * This code is distributed in the hope that it will be useful, but WITHOUT
  12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  * version 2 for more details (a copy is included in the LICENSE file that
  15  * accompanied this code).
  16  *
  17  * You should have received a copy of the GNU General Public License version
  18  * 2 along with this work; if not, write to the Free Software Foundation,
  19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20  *
  21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  * or visit www.oracle.com if you need additional information or have any
  23  * questions.
  24  */
  25 
  26 package com.sun.java.swing.plaf.gtk;
  27 
  28 import java.awt.*;
  29 import java.beans.*;
  30 import java.io.File;
  31 import java.lang.ref.*;
  32 import java.security.AccessController;
  33 import java.security.PrivilegedAction;
  34 import java.util.Locale;
  35 import javax.swing.*;
  36 import javax.swing.colorchooser.*;
  37 import javax.swing.plaf.*;
  38 import javax.swing.plaf.synth.*;
  39 import javax.swing.text.DefaultEditorKit;
  40 
  41 import com.sun.java.swing.plaf.gtk.GTKConstants.PositionType;
  42 import com.sun.java.swing.plaf.gtk.GTKConstants.StateType;
  43 import java.util.HashMap;
  44 import java.util.Map;
  45 import sun.awt.SunToolkit;
  46 import sun.awt.UNIXToolkit;
  47 import sun.awt.OSInfo;
  48 import sun.security.action.GetPropertyAction;
  49 import sun.swing.DefaultLayoutStyle;
  50 import sun.swing.SwingAccessor;
  51 import sun.swing.SwingUtilities2;
  52 
  53 /**
  54  * @author Scott Violet
  55  */
  56 @SuppressWarnings(&quot;serial&quot;) // Superclass not serializable
  57 public class GTKLookAndFeel extends SynthLookAndFeel {
  58     private static boolean IS_22;
  59     private static boolean IS_3;
  60 
  61     /**
  62      * Whether or not text is drawn antialiased.  This keys off the
  63      * desktop property &#39;gnome.Xft/Antialias&#39; and &#39;gnome.Xft/RGBA&#39;
  64      * We should assume ON - or some variation of ON as no GTK desktop
  65      * ships with it OFF.
  66      */
  67     static Map&lt;Object, Object&gt; aaTextInfo;
  68 
  69     /*
  70      * Used to override if system (desktop) text anti-aliasing settings should
  71      * be used. The reasons for this are are is that currently its &quot;off&quot;
  72      * for CJK locales which is not likely to be a good universal answer, and
  73      * also its off for remote display. So this provides an unsupported
  74      * way to explicitly request that it be &quot;on&quot;.
  75      */
  76     private static boolean gtkAAFontSettingsCond;
  77 
  78     /**
  79      * Font to use in places where there is no widget.
  80      */
  81     private Font fallbackFont;
  82 
  83     /**
  84      * If true, GTKLookAndFeel is inside the &lt;code&gt;initialize&lt;/code&gt;
  85      * method.
  86      */
  87     private boolean inInitialize;
  88 
  89     /**
  90      * If true, PropertyChangeListeners have been installed for the
  91      * Toolkit.
  92      */
  93     private boolean pclInstalled;
  94 
  95     /**
  96      * StyleFactory needs to be created only the first time.
  97      */
  98     private GTKStyleFactory styleFactory;
  99 
 100     /**
 101      * Cached theme name. Used by GTKGraphicsUtils
 102      */
 103     private static String gtkThemeName = &quot;Default&quot;;
 104 
 105     /**
 106      * Returns true if running on system containing at least 2.2.
 107      */
 108     static boolean is2_2() {
 109         // NOTE: We&#39;re currently hard coding to use 2.2.
 110         // If we want to support both GTK 2.0 and 2.2, we&#39;ll
 111         // need to get the major/minor/micro version from the .so.
 112         // Refer to bug 4912613 for details.
 113         return IS_22;
 114     }
 115 
 116     static boolean is3() {
 117         return IS_3;
 118     }
 119 
 120     /**
 121      * Maps a swing constant to a GTK constant.
 122      */
 123     static PositionType SwingOrientationConstantToGTK(int side) {
 124         switch (side) {
 125         case SwingConstants.LEFT:
 126             return PositionType.LEFT;
 127         case SwingConstants.RIGHT:
 128             return PositionType.RIGHT;
 129         case SwingConstants.TOP:
 130             return PositionType.TOP;
 131         case SwingConstants.BOTTOM:
 132             return PositionType.BOTTOM;
 133         }
 134         assert false : &quot;Unknown orientation: &quot; + side;
 135         return PositionType.TOP;
 136     }
 137 
 138     /**
 139      * Maps from Synth state to native GTK state using typesafe enumeration
 140      * StateType.  This is only used by GTKEngine.
 141      */
 142     static StateType synthStateToGTKStateType(int state) {
 143         StateType result;
 144         switch (state) {
 145             case SynthConstants.PRESSED:
 146                 result = StateType.ACTIVE;
 147                 break;
 148             case SynthConstants.MOUSE_OVER:
 149                 result = StateType.PRELIGHT;
 150                 break;
 151             case SynthConstants.SELECTED:
 152                 result = StateType.SELECTED;
 153                 break;
 154             case SynthConstants.DISABLED:
 155                 result = StateType.INSENSITIVE;
 156                 break;
 157             case SynthConstants.ENABLED:
 158             default:
 159                 result = StateType.NORMAL;
 160                 break;
 161         }
 162         return result;
 163     }
 164 
 165     /**
 166      * Maps from a Synth state to the corresponding GTK state.
 167      * The GTK states are named differently than Synth&#39;s states, the
 168      * following gives the mapping:
 169      * &lt;table&gt;&lt;tr&gt;&lt;td&gt;Synth&lt;td&gt;GTK
 170      * &lt;tr&gt;&lt;td&gt;SynthConstants.PRESSED&lt;td&gt;ACTIVE
 171      * &lt;tr&gt;&lt;td&gt;SynthConstants.SELECTED&lt;td&gt;SELECTED
 172      * &lt;tr&gt;&lt;td&gt;SynthConstants.MOUSE_OVER&lt;td&gt;PRELIGHT
 173      * &lt;tr&gt;&lt;td&gt;SynthConstants.DISABLED&lt;td&gt;INSENSITIVE
 174      * &lt;tr&gt;&lt;td&gt;SynthConstants.ENABLED&lt;td&gt;NORMAL
 175      * &lt;/table&gt;
 176      * Additionally some widgets are special cased.
 177      */
 178     static int synthStateToGTKState(Region region, int state) {
 179         if ((state &amp; SynthConstants.PRESSED) != 0) {
 180             if (region == Region.RADIO_BUTTON
 181                     || region == Region.CHECK_BOX
 182                     || region == Region.MENU
 183                     || region == Region.MENU_ITEM
 184                     || region == Region.RADIO_BUTTON_MENU_ITEM
 185                     || region == Region.CHECK_BOX_MENU_ITEM
 186                     || region == Region.SPLIT_PANE) {
 187                 state = SynthConstants.MOUSE_OVER;
 188             } else {
 189                 state = SynthConstants.PRESSED;
 190             }
 191 
 192         } else if (region == Region.TABBED_PANE_TAB) {
 193             if ((state &amp; SynthConstants.DISABLED) != 0) {
 194                 state = SynthConstants.DISABLED;
 195             }
 196             else if ((state &amp; SynthConstants.SELECTED) != 0) {
 197                 state = SynthConstants.ENABLED;
 198             } else {
 199                 state = SynthConstants.PRESSED;
 200             }
 201 
 202         } else if ((state &amp; SynthConstants.SELECTED) != 0) {
 203             if (region == Region.MENU) {
 204                 state = SynthConstants.MOUSE_OVER;
 205             } else if (region == Region.RADIO_BUTTON ||
 206                           region == Region.TOGGLE_BUTTON ||
 207                           region == Region.RADIO_BUTTON_MENU_ITEM ||
 208                           region == Region.CHECK_BOX_MENU_ITEM ||
 209                           region == Region.CHECK_BOX ||
 210                           region == Region.BUTTON) {
 211                 if ((state &amp; SynthConstants.DISABLED) != 0) {
 212                     state = SynthConstants.DISABLED;
 213                 }
 214                 // If the button is SELECTED and is PRELIGHT we need to
 215                 // make the state MOUSE_OVER otherwise we don&#39;t paint the
 216                 // PRELIGHT.
 217                 else if ((state &amp; SynthConstants.MOUSE_OVER) != 0) {
 218                     state = SynthConstants.MOUSE_OVER;
 219                 } else {
 220                     state = SynthConstants.PRESSED;
 221                 }
 222             } else {
 223                 state = SynthConstants.SELECTED;
 224             }
 225         }
 226 
 227         else if ((state &amp; SynthConstants.MOUSE_OVER) != 0) {
 228             state = SynthConstants.MOUSE_OVER;
 229         }
 230         else if ((state &amp; SynthConstants.DISABLED) != 0) {
 231             state = SynthConstants.DISABLED;
 232         }
 233         else {
 234             if (region == Region.SLIDER_TRACK) {
 235                 state = SynthConstants.PRESSED;
 236             } else {
 237                 state = SynthConstants.ENABLED;
 238             }
 239         }
 240         return state;
 241     }
 242 
 243     static boolean isText(Region region) {
 244         // These Regions treat FOREGROUND as TEXT.
 245         return (region == Region.TEXT_FIELD ||
 246                 region == Region.FORMATTED_TEXT_FIELD ||
 247                 region == Region.LIST ||
 248                 region == Region.PASSWORD_FIELD ||
 249                 region == Region.SPINNER ||
 250                 region == Region.TABLE ||
 251                 region == Region.TEXT_AREA ||
 252                 region == Region.TEXT_FIELD ||
 253                 region == Region.TEXT_PANE ||
 254                 region == Region.TREE);
 255     }
 256 
 257     public UIDefaults getDefaults() {
 258         // We need to call super for basic&#39;s properties file.
 259         UIDefaults table = super.getDefaults();
 260 
 261         // SynthTabbedPaneUI supports rollover on tabs, GTK does not
 262         table.put(&quot;TabbedPane.isTabRollover&quot;, Boolean.FALSE);
 263 
 264         // Prevents Synth from setting text AA by itself
 265         table.put(&quot;Synth.doNotSetTextAA&quot;, true);
 266 
 267         initResourceBundle(table);
 268         // For compatibility with apps expecting certain defaults we&#39;ll
 269         // populate the table with the values from basic.
 270         initSystemColorDefaults(table);
 271         initComponentDefaults(table);
 272         installPropertyChangeListeners();
 273         return table;
 274     }
 275 
 276     private void installPropertyChangeListeners() {
 277         if(!pclInstalled) {
 278             Toolkit kit = Toolkit.getDefaultToolkit();
 279             WeakPCL pcl = new WeakPCL(this, kit, &quot;gnome.Net/ThemeName&quot;);
 280             kit.addPropertyChangeListener(pcl.getKey(), pcl);
 281             pcl = new WeakPCL(this, kit, &quot;gnome.Gtk/FontName&quot;);
 282             kit.addPropertyChangeListener(pcl.getKey(), pcl);
 283             pcl = new WeakPCL(this, kit, &quot;gnome.Xft/DPI&quot;);
 284             kit.addPropertyChangeListener(pcl.getKey(), pcl);
 285 
 286             flushUnreferenced();
 287             pclInstalled = true;
 288         }
 289     }
 290 
 291     private void initResourceBundle(UIDefaults table) {
 292         SwingAccessor.getUIDefaultsAccessor()
 293                      .addInternalBundle(table,
 294                              &quot;com.sun.java.swing.plaf.gtk.resources.gtk&quot;);
 295     }
 296 
 297     protected void initComponentDefaults(UIDefaults table) {
 298         // For compatibility with apps expecting certain defaults we&#39;ll
 299         // populate the table with the values from basic.
 300         super.initComponentDefaults(table);
 301 
 302         UIDefaults.LazyValue zeroBorder =
 303             t -&gt; new BorderUIResource.EmptyBorderUIResource(0, 0, 0, 0);
 304 
 305         Object focusBorder = new GTKStyle.GTKLazyValue(
 306             &quot;com.sun.java.swing.plaf.gtk.GTKPainter$ListTableFocusBorder&quot;,
 307             &quot;getUnselectedCellBorder&quot;);
 308         Object focusSelectedBorder = new GTKStyle.GTKLazyValue(
 309             &quot;com.sun.java.swing.plaf.gtk.GTKPainter$ListTableFocusBorder&quot;,
 310             &quot;getSelectedCellBorder&quot;);
 311         Object noFocusBorder = new GTKStyle.GTKLazyValue(
 312             &quot;com.sun.java.swing.plaf.gtk.GTKPainter$ListTableFocusBorder&quot;,
 313             &quot;getNoFocusCellBorder&quot;);
 314 
<a name="1" id="anc1"></a><span class="line-modified"> 315         GTKStyleFactory factory = (GTKStyleFactory)getStyleFactory();</span>
 316         GTKStyle tableStyle = (GTKStyle)factory.getStyle(null, Region.TREE);
 317         Color tableBg = tableStyle.getGTKColor(SynthConstants.ENABLED,
 318                 GTKColorType.TEXT_BACKGROUND);
 319         Color tableFocusCellBg = tableStyle.getGTKColor(SynthConstants.ENABLED,
 320                 GTKColorType.BACKGROUND);
 321         Color tableFocusCellFg = tableStyle.getGTKColor(SynthConstants.ENABLED,
 322                 GTKColorType.FOREGROUND);
 323 
 324         // The following progress bar size calculations come from
 325         // gtkprogressbar.c (version 2.8.20), see MIN_* constants and
 326         // the gtk_progress_bar_size_request() method.
 327         GTKStyle progStyle = (GTKStyle)
 328             factory.getStyle(null, Region.PROGRESS_BAR);
 329         int progXThickness = progStyle.getXThickness();
 330         int progYThickness = progStyle.getYThickness();
 331         int hProgWidth  = 150 - (progXThickness * 2);
 332         int hProgHeight =  20 - (progYThickness * 2);
 333         int vProgWidth  =  22 - (progXThickness * 2);
 334         int vProgHeight =  80 - (progYThickness * 2);
 335 
 336         Integer caretBlinkRate;
 337         if (Boolean.FALSE.equals(GTKEngine.INSTANCE.getSetting(
 338                 GTKEngine.Settings.GTK_CURSOR_BLINK))) {
 339             caretBlinkRate = Integer.valueOf(0);
 340         } else {
 341             caretBlinkRate = (Integer) GTKEngine.INSTANCE.getSetting(
 342                     GTKEngine.Settings.GTK_CURSOR_BLINK_TIME);
 343             if (caretBlinkRate == null) {
 344                 caretBlinkRate = Integer.valueOf(500);
 345             }
 346         }
 347         Insets zeroInsets = new InsetsUIResource(0, 0, 0, 0);
 348 
 349         Double defaultCaretAspectRatio = Double.valueOf(0.025);
 350         Color caretColor = table.getColor(&quot;caretColor&quot;);
 351         Color controlText = table.getColor(&quot;controlText&quot;);
 352 
 353         Object fieldInputMap = new UIDefaults.LazyInputMap(new Object[] {
 354                        &quot;ctrl C&quot;, DefaultEditorKit.copyAction,
 355                        &quot;ctrl V&quot;, DefaultEditorKit.pasteAction,
 356                        &quot;ctrl X&quot;, DefaultEditorKit.cutAction,
 357                          &quot;COPY&quot;, DefaultEditorKit.copyAction,
 358                         &quot;PASTE&quot;, DefaultEditorKit.pasteAction,
 359                           &quot;CUT&quot;, DefaultEditorKit.cutAction,
 360                &quot;control INSERT&quot;, DefaultEditorKit.copyAction,
 361                  &quot;shift INSERT&quot;, DefaultEditorKit.pasteAction,
 362                  &quot;shift DELETE&quot;, DefaultEditorKit.cutAction,
 363                    &quot;shift LEFT&quot;, DefaultEditorKit.selectionBackwardAction,
 364                 &quot;shift KP_LEFT&quot;, DefaultEditorKit.selectionBackwardAction,
 365                   &quot;shift RIGHT&quot;, DefaultEditorKit.selectionForwardAction,
 366                &quot;shift KP_RIGHT&quot;, DefaultEditorKit.selectionForwardAction,
 367                     &quot;ctrl LEFT&quot;, DefaultEditorKit.previousWordAction,
 368                  &quot;ctrl KP_LEFT&quot;, DefaultEditorKit.previousWordAction,
 369                    &quot;ctrl RIGHT&quot;, DefaultEditorKit.nextWordAction,
 370                 &quot;ctrl KP_RIGHT&quot;, DefaultEditorKit.nextWordAction,
 371               &quot;ctrl shift LEFT&quot;, DefaultEditorKit.selectionPreviousWordAction,
 372            &quot;ctrl shift KP_LEFT&quot;, DefaultEditorKit.selectionPreviousWordAction,
 373              &quot;ctrl shift RIGHT&quot;, DefaultEditorKit.selectionNextWordAction,
 374           &quot;ctrl shift KP_RIGHT&quot;, DefaultEditorKit.selectionNextWordAction,
 375                        &quot;ctrl A&quot;, DefaultEditorKit.selectAllAction,
 376                          &quot;HOME&quot;, DefaultEditorKit.beginLineAction,
 377                           &quot;END&quot;, DefaultEditorKit.endLineAction,
 378                    &quot;shift HOME&quot;, DefaultEditorKit.selectionBeginLineAction,
 379                     &quot;shift END&quot;, DefaultEditorKit.selectionEndLineAction,
 380                    &quot;BACK_SPACE&quot;, DefaultEditorKit.deletePrevCharAction,
 381              &quot;shift BACK_SPACE&quot;, DefaultEditorKit.deletePrevCharAction,
 382                        &quot;ctrl H&quot;, DefaultEditorKit.deletePrevCharAction,
 383                        &quot;DELETE&quot;, DefaultEditorKit.deleteNextCharAction,
 384                   &quot;ctrl DELETE&quot;, DefaultEditorKit.deleteNextWordAction,
 385               &quot;ctrl BACK_SPACE&quot;, DefaultEditorKit.deletePrevWordAction,
 386                         &quot;RIGHT&quot;, DefaultEditorKit.forwardAction,
 387                          &quot;LEFT&quot;, DefaultEditorKit.backwardAction,
 388                      &quot;KP_RIGHT&quot;, DefaultEditorKit.forwardAction,
 389                       &quot;KP_LEFT&quot;, DefaultEditorKit.backwardAction,
 390                         &quot;ENTER&quot;, JTextField.notifyAction,
 391               &quot;ctrl BACK_SLASH&quot;, &quot;unselect&quot;/*DefaultEditorKit.unselectAction*/,
 392                &quot;control shift O&quot;, &quot;toggle-componentOrientation&quot;/*DefaultEditorKit.toggleComponentOrientation*/
 393             });
 394 
 395         Object passwordInputMap = new UIDefaults.LazyInputMap(new Object[] {
 396                        &quot;ctrl C&quot;, DefaultEditorKit.copyAction,
 397                        &quot;ctrl V&quot;, DefaultEditorKit.pasteAction,
 398                        &quot;ctrl X&quot;, DefaultEditorKit.cutAction,
 399                          &quot;COPY&quot;, DefaultEditorKit.copyAction,
 400                         &quot;PASTE&quot;, DefaultEditorKit.pasteAction,
 401                           &quot;CUT&quot;, DefaultEditorKit.cutAction,
 402                &quot;control INSERT&quot;, DefaultEditorKit.copyAction,
 403                  &quot;shift INSERT&quot;, DefaultEditorKit.pasteAction,
 404                  &quot;shift DELETE&quot;, DefaultEditorKit.cutAction,
 405                    &quot;shift LEFT&quot;, DefaultEditorKit.selectionBackwardAction,
 406                 &quot;shift KP_LEFT&quot;, DefaultEditorKit.selectionBackwardAction,
 407                   &quot;shift RIGHT&quot;, DefaultEditorKit.selectionForwardAction,
 408                &quot;shift KP_RIGHT&quot;, DefaultEditorKit.selectionForwardAction,
 409                     &quot;ctrl LEFT&quot;, DefaultEditorKit.beginLineAction,
 410                  &quot;ctrl KP_LEFT&quot;, DefaultEditorKit.beginLineAction,
 411                    &quot;ctrl RIGHT&quot;, DefaultEditorKit.endLineAction,
 412                 &quot;ctrl KP_RIGHT&quot;, DefaultEditorKit.endLineAction,
 413               &quot;ctrl shift LEFT&quot;, DefaultEditorKit.selectionBeginLineAction,
 414            &quot;ctrl shift KP_LEFT&quot;, DefaultEditorKit.selectionBeginLineAction,
 415              &quot;ctrl shift RIGHT&quot;, DefaultEditorKit.selectionEndLineAction,
 416           &quot;ctrl shift KP_RIGHT&quot;, DefaultEditorKit.selectionEndLineAction,
 417                        &quot;ctrl A&quot;, DefaultEditorKit.selectAllAction,
 418                          &quot;HOME&quot;, DefaultEditorKit.beginLineAction,
 419                           &quot;END&quot;, DefaultEditorKit.endLineAction,
 420                    &quot;shift HOME&quot;, DefaultEditorKit.selectionBeginLineAction,
 421                     &quot;shift END&quot;, DefaultEditorKit.selectionEndLineAction,
 422                    &quot;BACK_SPACE&quot;, DefaultEditorKit.deletePrevCharAction,
 423              &quot;shift BACK_SPACE&quot;, DefaultEditorKit.deletePrevCharAction,
 424                        &quot;ctrl H&quot;, DefaultEditorKit.deletePrevCharAction,
 425                        &quot;DELETE&quot;, DefaultEditorKit.deleteNextCharAction,
 426                         &quot;RIGHT&quot;, DefaultEditorKit.forwardAction,
 427                          &quot;LEFT&quot;, DefaultEditorKit.backwardAction,
 428                      &quot;KP_RIGHT&quot;, DefaultEditorKit.forwardAction,
 429                       &quot;KP_LEFT&quot;, DefaultEditorKit.backwardAction,
 430                         &quot;ENTER&quot;, JTextField.notifyAction,
 431               &quot;ctrl BACK_SLASH&quot;, &quot;unselect&quot;/*DefaultEditorKit.unselectAction*/,
 432                &quot;control shift O&quot;, &quot;toggle-componentOrientation&quot;/*DefaultEditorKit.toggleComponentOrientation*/
 433             });
 434 
 435         Object editorMargin = new InsetsUIResource(3,3,3,3);
 436 
 437         Object multilineInputMap = new UIDefaults.LazyInputMap(new Object[] {
 438                            &quot;ctrl C&quot;, DefaultEditorKit.copyAction,
 439                            &quot;ctrl V&quot;, DefaultEditorKit.pasteAction,
 440                            &quot;ctrl X&quot;, DefaultEditorKit.cutAction,
 441                              &quot;COPY&quot;, DefaultEditorKit.copyAction,
 442                             &quot;PASTE&quot;, DefaultEditorKit.pasteAction,
 443                               &quot;CUT&quot;, DefaultEditorKit.cutAction,
 444                    &quot;control INSERT&quot;, DefaultEditorKit.copyAction,
 445                      &quot;shift INSERT&quot;, DefaultEditorKit.pasteAction,
 446                      &quot;shift DELETE&quot;, DefaultEditorKit.cutAction,
 447                        &quot;shift LEFT&quot;, DefaultEditorKit.selectionBackwardAction,
 448                     &quot;shift KP_LEFT&quot;, DefaultEditorKit.selectionBackwardAction,
 449                       &quot;shift RIGHT&quot;, DefaultEditorKit.selectionForwardAction,
 450                    &quot;shift KP_RIGHT&quot;, DefaultEditorKit.selectionForwardAction,
 451                         &quot;ctrl LEFT&quot;, DefaultEditorKit.previousWordAction,
 452                      &quot;ctrl KP_LEFT&quot;, DefaultEditorKit.previousWordAction,
 453                        &quot;ctrl RIGHT&quot;, DefaultEditorKit.nextWordAction,
 454                     &quot;ctrl KP_RIGHT&quot;, DefaultEditorKit.nextWordAction,
 455                   &quot;ctrl shift LEFT&quot;, DefaultEditorKit.selectionPreviousWordAction,
 456                &quot;ctrl shift KP_LEFT&quot;, DefaultEditorKit.selectionPreviousWordAction,
 457                  &quot;ctrl shift RIGHT&quot;, DefaultEditorKit.selectionNextWordAction,
 458               &quot;ctrl shift KP_RIGHT&quot;, DefaultEditorKit.selectionNextWordAction,
 459                            &quot;ctrl A&quot;, DefaultEditorKit.selectAllAction,
 460                              &quot;HOME&quot;, DefaultEditorKit.beginLineAction,
 461                               &quot;END&quot;, DefaultEditorKit.endLineAction,
 462                        &quot;shift HOME&quot;, DefaultEditorKit.selectionBeginLineAction,
 463                         &quot;shift END&quot;, DefaultEditorKit.selectionEndLineAction,
 464 
 465                                &quot;UP&quot;, DefaultEditorKit.upAction,
 466                             &quot;KP_UP&quot;, DefaultEditorKit.upAction,
 467                              &quot;DOWN&quot;, DefaultEditorKit.downAction,
 468                           &quot;KP_DOWN&quot;, DefaultEditorKit.downAction,
 469                           &quot;PAGE_UP&quot;, DefaultEditorKit.pageUpAction,
 470                         &quot;PAGE_DOWN&quot;, DefaultEditorKit.pageDownAction,
 471                     &quot;shift PAGE_UP&quot;, &quot;selection-page-up&quot;,
 472                   &quot;shift PAGE_DOWN&quot;, &quot;selection-page-down&quot;,
 473                &quot;ctrl shift PAGE_UP&quot;, &quot;selection-page-left&quot;,
 474              &quot;ctrl shift PAGE_DOWN&quot;, &quot;selection-page-right&quot;,
 475                          &quot;shift UP&quot;, DefaultEditorKit.selectionUpAction,
 476                       &quot;shift KP_UP&quot;, DefaultEditorKit.selectionUpAction,
 477                        &quot;shift DOWN&quot;, DefaultEditorKit.selectionDownAction,
 478                     &quot;shift KP_DOWN&quot;, DefaultEditorKit.selectionDownAction,
 479                             &quot;ENTER&quot;, DefaultEditorKit.insertBreakAction,
 480                        &quot;BACK_SPACE&quot;, DefaultEditorKit.deletePrevCharAction,
 481                  &quot;shift BACK_SPACE&quot;, DefaultEditorKit.deletePrevCharAction,
 482                            &quot;ctrl H&quot;, DefaultEditorKit.deletePrevCharAction,
 483                            &quot;DELETE&quot;, DefaultEditorKit.deleteNextCharAction,
 484                       &quot;ctrl DELETE&quot;, DefaultEditorKit.deleteNextWordAction,
 485                   &quot;ctrl BACK_SPACE&quot;, DefaultEditorKit.deletePrevWordAction,
 486                             &quot;RIGHT&quot;, DefaultEditorKit.forwardAction,
 487                              &quot;LEFT&quot;, DefaultEditorKit.backwardAction,
 488                          &quot;KP_RIGHT&quot;, DefaultEditorKit.forwardAction,
 489                           &quot;KP_LEFT&quot;, DefaultEditorKit.backwardAction,
 490                               &quot;TAB&quot;, DefaultEditorKit.insertTabAction,
 491                   &quot;ctrl BACK_SLASH&quot;, &quot;unselect&quot;/*DefaultEditorKit.unselectAction*/,
 492                         &quot;ctrl HOME&quot;, DefaultEditorKit.beginAction,
 493                          &quot;ctrl END&quot;, DefaultEditorKit.endAction,
 494                   &quot;ctrl shift HOME&quot;, DefaultEditorKit.selectionBeginAction,
 495                    &quot;ctrl shift END&quot;, DefaultEditorKit.selectionEndAction,
 496                            &quot;ctrl T&quot;, &quot;next-link-action&quot;,
 497                      &quot;ctrl shift T&quot;, &quot;previous-link-action&quot;,
 498                        &quot;ctrl SPACE&quot;, &quot;activate-link-action&quot;,
 499                    &quot;control shift O&quot;, &quot;toggle-componentOrientation&quot;/*DefaultEditorKit.toggleComponentOrientation*/
 500             });
 501 
 502         class FontLazyValue implements UIDefaults.LazyValue {
 503             private Region region;
 504             FontLazyValue(Region region) {
 505                 this.region = region;
 506             }
 507             public Object createValue(UIDefaults table) {
<a name="2" id="anc2"></a><span class="line-modified"> 508                 GTKStyleFactory factory = (GTKStyleFactory)getStyleFactory();</span>
 509                 GTKStyle style = (GTKStyle)factory.getStyle(null, region);
 510                 return style.getDefaultFont();
 511             }
 512         }
 513 
 514         Object[] defaults = new Object[] {
 515             &quot;ArrowButton.size&quot;, Integer.valueOf(13),
 516 
 517 
 518             &quot;Button.defaultButtonFollowsFocus&quot;, Boolean.FALSE,
 519             &quot;Button.focusInputMap&quot;, new UIDefaults.LazyInputMap(new Object[] {
 520                          &quot;SPACE&quot;, &quot;pressed&quot;,
 521                 &quot;released SPACE&quot;, &quot;released&quot;,
 522                          &quot;ENTER&quot;, &quot;pressed&quot;,
 523                 &quot;released ENTER&quot;, &quot;released&quot;
 524               }),
 525             &quot;Button.font&quot;, new FontLazyValue(Region.BUTTON),
 526             &quot;Button.margin&quot;, zeroInsets,
 527 
 528 
 529             &quot;CheckBox.focusInputMap&quot;, new UIDefaults.LazyInputMap(new Object[]{
 530                          &quot;SPACE&quot;, &quot;pressed&quot;,
 531                 &quot;released SPACE&quot;, &quot;released&quot;
 532               }),
 533             &quot;CheckBox.icon&quot;, new GTKStyle.GTKLazyValue(
 534                               &quot;com.sun.java.swing.plaf.gtk.GTKIconFactory&quot;,
 535                               &quot;getCheckBoxIcon&quot;),
 536             &quot;CheckBox.font&quot;, new FontLazyValue(Region.CHECK_BOX),
 537             &quot;CheckBox.margin&quot;, zeroInsets,
 538 
 539 
 540             &quot;CheckBoxMenuItem.arrowIcon&quot;, null,
 541             &quot;CheckBoxMenuItem.checkIcon&quot;, new GTKStyle.GTKLazyValue(
 542                               &quot;com.sun.java.swing.plaf.gtk.GTKIconFactory&quot;,
 543                               &quot;getCheckBoxMenuItemCheckIcon&quot;),
 544             &quot;CheckBoxMenuItem.font&quot;,
 545                 new FontLazyValue(Region.CHECK_BOX_MENU_ITEM),
 546             &quot;CheckBoxMenuItem.margin&quot;, zeroInsets,
 547             &quot;CheckBoxMenuItem.alignAcceleratorText&quot;, Boolean.FALSE,
 548 
 549 
 550             &quot;ColorChooser.showPreviewPanelText&quot;, Boolean.FALSE,
 551             &quot;ColorChooser.panels&quot;, new UIDefaults.ActiveValue() {
 552                 public Object createValue(UIDefaults table) {
 553                     return new AbstractColorChooserPanel[] {
 554                                        new GTKColorChooserPanel() };
 555                 }
 556             },
 557             &quot;ColorChooser.font&quot;, new FontLazyValue(Region.COLOR_CHOOSER),
 558 
 559 
 560             &quot;ComboBox.ancestorInputMap&quot;,
 561                new UIDefaults.LazyInputMap(new Object[] {
 562                      &quot;ESCAPE&quot;, &quot;hidePopup&quot;,
 563                     &quot;PAGE_UP&quot;, &quot;pageUpPassThrough&quot;,
 564                   &quot;PAGE_DOWN&quot;, &quot;pageDownPassThrough&quot;,
 565                        &quot;HOME&quot;, &quot;homePassThrough&quot;,
 566                         &quot;END&quot;, &quot;endPassThrough&quot;,
 567                        &quot;DOWN&quot;, &quot;selectNext&quot;,
 568                     &quot;KP_DOWN&quot;, &quot;selectNext&quot;,
 569                    &quot;alt DOWN&quot;, &quot;togglePopup&quot;,
 570                 &quot;alt KP_DOWN&quot;, &quot;togglePopup&quot;,
 571                      &quot;alt UP&quot;, &quot;togglePopup&quot;,
 572                   &quot;alt KP_UP&quot;, &quot;togglePopup&quot;,
 573                       &quot;SPACE&quot;, &quot;spacePopup&quot;,
 574                       &quot;ENTER&quot;, &quot;enterPressed&quot;,
 575                          &quot;UP&quot;, &quot;selectPrevious&quot;,
 576                       &quot;KP_UP&quot;, &quot;selectPrevious&quot;
 577 
 578                  }),
 579             &quot;ComboBox.font&quot;, new FontLazyValue(Region.COMBO_BOX),
 580             &quot;ComboBox.isEnterSelectablePopup&quot;, Boolean.TRUE,
 581 
 582 
 583             &quot;EditorPane.caretForeground&quot;, caretColor,
 584             &quot;EditorPane.caretAspectRatio&quot;, defaultCaretAspectRatio,
 585             &quot;EditorPane.caretBlinkRate&quot;, caretBlinkRate,
 586             &quot;EditorPane.margin&quot;, editorMargin,
 587             &quot;EditorPane.focusInputMap&quot;, multilineInputMap,
 588             &quot;EditorPane.font&quot;, new FontLazyValue(Region.EDITOR_PANE),
 589 
 590 
 591             &quot;FileChooser.ancestorInputMap&quot;,
 592                new UIDefaults.LazyInputMap(new Object[] {
 593                      &quot;ESCAPE&quot;, &quot;cancelSelection&quot;,
 594                  &quot;ctrl ENTER&quot;, &quot;approveSelection&quot;
 595                  }),
 596             &quot;FileChooserUI&quot;, &quot;com.sun.java.swing.plaf.gtk.GTKLookAndFeel&quot;,
 597 
 598 
 599             &quot;FormattedTextField.caretForeground&quot;, caretColor,
 600             &quot;FormattedTextField.caretAspectRatio&quot;, defaultCaretAspectRatio,
 601             &quot;FormattedTextField.caretBlinkRate&quot;, caretBlinkRate,
 602             &quot;FormattedTextField.focusInputMap&quot;,
 603               new UIDefaults.LazyInputMap(new Object[] {
 604                            &quot;ctrl C&quot;, DefaultEditorKit.copyAction,
 605                            &quot;ctrl V&quot;, DefaultEditorKit.pasteAction,
 606                            &quot;ctrl X&quot;, DefaultEditorKit.cutAction,
 607                              &quot;COPY&quot;, DefaultEditorKit.copyAction,
 608                             &quot;PASTE&quot;, DefaultEditorKit.pasteAction,
 609                               &quot;CUT&quot;, DefaultEditorKit.cutAction,
 610                    &quot;control INSERT&quot;, DefaultEditorKit.copyAction,
 611                      &quot;shift INSERT&quot;, DefaultEditorKit.pasteAction,
 612                      &quot;shift DELETE&quot;, DefaultEditorKit.cutAction,
 613                        &quot;shift LEFT&quot;, DefaultEditorKit.selectionBackwardAction,
 614                     &quot;shift KP_LEFT&quot;, DefaultEditorKit.selectionBackwardAction,
 615                       &quot;shift RIGHT&quot;, DefaultEditorKit.selectionForwardAction,
 616                    &quot;shift KP_RIGHT&quot;, DefaultEditorKit.selectionForwardAction,
 617                         &quot;ctrl LEFT&quot;, DefaultEditorKit.previousWordAction,
 618                      &quot;ctrl KP_LEFT&quot;, DefaultEditorKit.previousWordAction,
 619                        &quot;ctrl RIGHT&quot;, DefaultEditorKit.nextWordAction,
 620                     &quot;ctrl KP_RIGHT&quot;, DefaultEditorKit.nextWordAction,
 621                   &quot;ctrl shift LEFT&quot;, DefaultEditorKit.selectionPreviousWordAction,
 622                &quot;ctrl shift KP_LEFT&quot;, DefaultEditorKit.selectionPreviousWordAction,
 623                  &quot;ctrl shift RIGHT&quot;, DefaultEditorKit.selectionNextWordAction,
 624               &quot;ctrl shift KP_RIGHT&quot;, DefaultEditorKit.selectionNextWordAction,
 625                            &quot;ctrl A&quot;, DefaultEditorKit.selectAllAction,
 626                              &quot;HOME&quot;, DefaultEditorKit.beginLineAction,
 627                               &quot;END&quot;, DefaultEditorKit.endLineAction,
 628                        &quot;shift HOME&quot;, DefaultEditorKit.selectionBeginLineAction,
 629                         &quot;shift END&quot;, DefaultEditorKit.selectionEndLineAction,
 630                        &quot;BACK_SPACE&quot;, DefaultEditorKit.deletePrevCharAction,
 631                  &quot;shift BACK_SPACE&quot;, DefaultEditorKit.deletePrevCharAction,
 632                            &quot;ctrl H&quot;, DefaultEditorKit.deletePrevCharAction,
 633                            &quot;DELETE&quot;, DefaultEditorKit.deleteNextCharAction,
 634                       &quot;ctrl DELETE&quot;, DefaultEditorKit.deleteNextWordAction,
 635                   &quot;ctrl BACK_SPACE&quot;, DefaultEditorKit.deletePrevWordAction,
 636                             &quot;RIGHT&quot;, DefaultEditorKit.forwardAction,
 637                              &quot;LEFT&quot;, DefaultEditorKit.backwardAction,
 638                          &quot;KP_RIGHT&quot;, DefaultEditorKit.forwardAction,
 639                           &quot;KP_LEFT&quot;, DefaultEditorKit.backwardAction,
 640                             &quot;ENTER&quot;, JTextField.notifyAction,
 641                   &quot;ctrl BACK_SLASH&quot;, &quot;unselect&quot;,
 642                   &quot;control shift O&quot;, &quot;toggle-componentOrientation&quot;,
 643                            &quot;ESCAPE&quot;, &quot;reset-field-edit&quot;,
 644                                &quot;UP&quot;, &quot;increment&quot;,
 645                             &quot;KP_UP&quot;, &quot;increment&quot;,
 646                              &quot;DOWN&quot;, &quot;decrement&quot;,
 647                           &quot;KP_DOWN&quot;, &quot;decrement&quot;,
 648               }),
 649             &quot;FormattedTextField.font&quot;,
 650                 new FontLazyValue(Region.FORMATTED_TEXT_FIELD),
 651 
 652 
 653             &quot;InternalFrameTitlePane.titlePaneLayout&quot;,
 654                                 new GTKStyle.GTKLazyValue(&quot;com.sun.java.swing.plaf.gtk.Metacity&quot;,
 655                                                  &quot;getTitlePaneLayout&quot;),
 656             &quot;InternalFrame.windowBindings&quot;, new Object[] {
 657                   &quot;shift ESCAPE&quot;, &quot;showSystemMenu&quot;,
 658                     &quot;ctrl SPACE&quot;, &quot;showSystemMenu&quot;,
 659                         &quot;ESCAPE&quot;, &quot;hideSystemMenu&quot; },
 660             &quot;InternalFrame.layoutTitlePaneAtOrigin&quot;, Boolean.TRUE,
 661             &quot;InternalFrame.useTaskBar&quot;, Boolean.TRUE,
 662 
 663             &quot;InternalFrameTitlePane.iconifyButtonOpacity&quot;, null,
 664             &quot;InternalFrameTitlePane.maximizeButtonOpacity&quot;, null,
 665             &quot;InternalFrameTitlePane.closeButtonOpacity&quot;, null,
 666 
 667             &quot;Label.font&quot;, new FontLazyValue(Region.LABEL),
 668 
 669             &quot;List.background&quot;, tableBg,
 670             &quot;List.focusCellHighlightBorder&quot;, focusBorder,
 671             &quot;List.focusSelectedCellHighlightBorder&quot;, focusSelectedBorder,
 672             &quot;List.noFocusBorder&quot;, noFocusBorder,
 673             &quot;List.focusInputMap&quot;,
 674                new UIDefaults.LazyInputMap(new Object[] {
 675                            &quot;ctrl C&quot;, &quot;copy&quot;,
 676                            &quot;ctrl V&quot;, &quot;paste&quot;,
 677                            &quot;ctrl X&quot;, &quot;cut&quot;,
 678                              &quot;COPY&quot;, &quot;copy&quot;,
 679                             &quot;PASTE&quot;, &quot;paste&quot;,
 680                               &quot;CUT&quot;, &quot;cut&quot;,
 681                    &quot;control INSERT&quot;, &quot;copy&quot;,
 682                      &quot;shift INSERT&quot;, &quot;paste&quot;,
 683                      &quot;shift DELETE&quot;, &quot;cut&quot;,
 684                                &quot;UP&quot;, &quot;selectPreviousRow&quot;,
 685                             &quot;KP_UP&quot;, &quot;selectPreviousRow&quot;,
 686                          &quot;shift UP&quot;, &quot;selectPreviousRowExtendSelection&quot;,
 687                       &quot;shift KP_UP&quot;, &quot;selectPreviousRowExtendSelection&quot;,
 688                     &quot;ctrl shift UP&quot;, &quot;selectPreviousRowExtendSelection&quot;,
 689                  &quot;ctrl shift KP_UP&quot;, &quot;selectPreviousRowExtendSelection&quot;,
 690                           &quot;ctrl UP&quot;, &quot;selectPreviousRowChangeLead&quot;,
 691                        &quot;ctrl KP_UP&quot;, &quot;selectPreviousRowChangeLead&quot;,
 692                              &quot;DOWN&quot;, &quot;selectNextRow&quot;,
 693                           &quot;KP_DOWN&quot;, &quot;selectNextRow&quot;,
 694                        &quot;shift DOWN&quot;, &quot;selectNextRowExtendSelection&quot;,
 695                     &quot;shift KP_DOWN&quot;, &quot;selectNextRowExtendSelection&quot;,
 696                   &quot;ctrl shift DOWN&quot;, &quot;selectNextRowExtendSelection&quot;,
 697                &quot;ctrl shift KP_DOWN&quot;, &quot;selectNextRowExtendSelection&quot;,
 698                         &quot;ctrl DOWN&quot;, &quot;selectNextRowChangeLead&quot;,
 699                      &quot;ctrl KP_DOWN&quot;, &quot;selectNextRowChangeLead&quot;,
 700                              &quot;LEFT&quot;, &quot;selectPreviousColumn&quot;,
 701                           &quot;KP_LEFT&quot;, &quot;selectPreviousColumn&quot;,
 702                        &quot;shift LEFT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
 703                     &quot;shift KP_LEFT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
 704                   &quot;ctrl shift LEFT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
 705                &quot;ctrl shift KP_LEFT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
 706                         &quot;ctrl LEFT&quot;, &quot;selectPreviousColumnChangeLead&quot;,
 707                      &quot;ctrl KP_LEFT&quot;, &quot;selectPreviousColumnChangeLead&quot;,
 708                             &quot;RIGHT&quot;, &quot;selectNextColumn&quot;,
 709                          &quot;KP_RIGHT&quot;, &quot;selectNextColumn&quot;,
 710                       &quot;shift RIGHT&quot;, &quot;selectNextColumnExtendSelection&quot;,
 711                    &quot;shift KP_RIGHT&quot;, &quot;selectNextColumnExtendSelection&quot;,
 712                  &quot;ctrl shift RIGHT&quot;, &quot;selectNextColumnExtendSelection&quot;,
 713               &quot;ctrl shift KP_RIGHT&quot;, &quot;selectNextColumnExtendSelection&quot;,
 714                        &quot;ctrl RIGHT&quot;, &quot;selectNextColumnChangeLead&quot;,
 715                     &quot;ctrl KP_RIGHT&quot;, &quot;selectNextColumnChangeLead&quot;,
 716                              &quot;HOME&quot;, &quot;selectFirstRow&quot;,
 717                        &quot;shift HOME&quot;, &quot;selectFirstRowExtendSelection&quot;,
 718                   &quot;ctrl shift HOME&quot;, &quot;selectFirstRowExtendSelection&quot;,
 719                         &quot;ctrl HOME&quot;, &quot;selectFirstRowChangeLead&quot;,
 720                               &quot;END&quot;, &quot;selectLastRow&quot;,
 721                         &quot;shift END&quot;, &quot;selectLastRowExtendSelection&quot;,
 722                    &quot;ctrl shift END&quot;, &quot;selectLastRowExtendSelection&quot;,
 723                          &quot;ctrl END&quot;, &quot;selectLastRowChangeLead&quot;,
 724                           &quot;PAGE_UP&quot;, &quot;scrollUp&quot;,
 725                     &quot;shift PAGE_UP&quot;, &quot;scrollUpExtendSelection&quot;,
 726                &quot;ctrl shift PAGE_UP&quot;, &quot;scrollUpExtendSelection&quot;,
 727                      &quot;ctrl PAGE_UP&quot;, &quot;scrollUpChangeLead&quot;,
 728                         &quot;PAGE_DOWN&quot;, &quot;scrollDown&quot;,
 729                   &quot;shift PAGE_DOWN&quot;, &quot;scrollDownExtendSelection&quot;,
 730              &quot;ctrl shift PAGE_DOWN&quot;, &quot;scrollDownExtendSelection&quot;,
 731                    &quot;ctrl PAGE_DOWN&quot;, &quot;scrollDownChangeLead&quot;,
 732                            &quot;ctrl A&quot;, &quot;selectAll&quot;,
 733                        &quot;ctrl SLASH&quot;, &quot;selectAll&quot;,
 734                   &quot;ctrl BACK_SLASH&quot;, &quot;clearSelection&quot;,
 735                             &quot;SPACE&quot;, &quot;addToSelection&quot;,
 736                        &quot;ctrl SPACE&quot;, &quot;toggleAndAnchor&quot;,
 737                       &quot;shift SPACE&quot;, &quot;extendTo&quot;,
 738                  &quot;ctrl shift SPACE&quot;, &quot;moveSelectionTo&quot;
 739                  }),
 740             &quot;List.focusInputMap.RightToLeft&quot;,
 741                new UIDefaults.LazyInputMap(new Object[] {
 742                              &quot;LEFT&quot;, &quot;selectNextColumn&quot;,
 743                           &quot;KP_LEFT&quot;, &quot;selectNextColumn&quot;,
 744                        &quot;shift LEFT&quot;, &quot;selectNextColumnExtendSelection&quot;,
 745                     &quot;shift KP_LEFT&quot;, &quot;selectNextColumnExtendSelection&quot;,
 746                   &quot;ctrl shift LEFT&quot;, &quot;selectNextColumnExtendSelection&quot;,
 747                &quot;ctrl shift KP_LEFT&quot;, &quot;selectNextColumnExtendSelection&quot;,
 748                         &quot;ctrl LEFT&quot;, &quot;selectNextColumnChangeLead&quot;,
 749                      &quot;ctrl KP_LEFT&quot;, &quot;selectNextColumnChangeLead&quot;,
 750                             &quot;RIGHT&quot;, &quot;selectPreviousColumn&quot;,
 751                          &quot;KP_RIGHT&quot;, &quot;selectPreviousColumn&quot;,
 752                       &quot;shift RIGHT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
 753                    &quot;shift KP_RIGHT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
 754                  &quot;ctrl shift RIGHT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
 755               &quot;ctrl shift KP_RIGHT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
 756                        &quot;ctrl RIGHT&quot;, &quot;selectPreviousColumnChangeLead&quot;,
 757                     &quot;ctrl KP_RIGHT&quot;, &quot;selectPreviousColumnChangeLead&quot;,
 758                  }),
 759             &quot;List.font&quot;, new FontLazyValue(Region.LIST),
 760             &quot;List.rendererUseUIBorder&quot;, Boolean.FALSE,
 761 
 762             &quot;Menu.arrowIcon&quot;, new GTKStyle.GTKLazyValue(
 763                               &quot;com.sun.java.swing.plaf.gtk.GTKIconFactory&quot;,
 764                               &quot;getMenuArrowIcon&quot;),
 765             &quot;Menu.checkIcon&quot;, null,
 766             &quot;Menu.font&quot;, new FontLazyValue(Region.MENU),
 767             &quot;Menu.margin&quot;, zeroInsets,
 768             &quot;Menu.cancelMode&quot;, &quot;hideMenuTree&quot;,
 769             &quot;Menu.alignAcceleratorText&quot;, Boolean.FALSE,
 770             &quot;Menu.useMenuBarForTopLevelMenus&quot;, Boolean.TRUE,
 771 
 772 
 773                 &quot;MenuBar.windowBindings&quot;, new Object[] {
 774                 &quot;F10&quot;, &quot;takeFocus&quot; },
 775             &quot;MenuBar.font&quot;, new FontLazyValue(Region.MENU_BAR),
 776 
 777 
 778             &quot;MenuItem.arrowIcon&quot;, null,
 779             &quot;MenuItem.checkIcon&quot;, null,
 780             &quot;MenuItem.font&quot;, new FontLazyValue(Region.MENU_ITEM),
 781             &quot;MenuItem.margin&quot;, zeroInsets,
 782             &quot;MenuItem.alignAcceleratorText&quot;, Boolean.FALSE,
 783 
 784 
 785             &quot;OptionPane.setButtonMargin&quot;, Boolean.FALSE,
 786             &quot;OptionPane.sameSizeButtons&quot;, Boolean.TRUE,
 787             &quot;OptionPane.buttonOrientation&quot;, SwingConstants.RIGHT,
 788             &quot;OptionPane.minimumSize&quot;, new DimensionUIResource(262, 90),
 789             &quot;OptionPane.buttonPadding&quot;, 10,
 790             &quot;OptionPane.windowBindings&quot;, new Object[] {
 791                 &quot;ESCAPE&quot;, &quot;close&quot; },
 792             &quot;OptionPane.buttonClickThreshhold&quot;, 500,
 793             &quot;OptionPane.isYesLast&quot;, Boolean.TRUE,
 794             &quot;OptionPane.font&quot;, new FontLazyValue(Region.OPTION_PANE),
 795 
 796             &quot;Panel.font&quot;, new FontLazyValue(Region.PANEL),
 797 
 798             &quot;PasswordField.caretForeground&quot;, caretColor,
 799             &quot;PasswordField.caretAspectRatio&quot;, defaultCaretAspectRatio,
 800             &quot;PasswordField.caretBlinkRate&quot;, caretBlinkRate,
 801             &quot;PasswordField.margin&quot;, zeroInsets,
 802             &quot;PasswordField.focusInputMap&quot;, passwordInputMap,
 803             &quot;PasswordField.font&quot;, new FontLazyValue(Region.PASSWORD_FIELD),
 804 
 805 
 806             &quot;PopupMenu.consumeEventOnClose&quot;, Boolean.TRUE,
 807             &quot;PopupMenu.selectedWindowInputMapBindings&quot;, new Object[] {
 808                   &quot;ESCAPE&quot;, &quot;cancel&quot;,
 809                     &quot;DOWN&quot;, &quot;selectNext&quot;,
 810                  &quot;KP_DOWN&quot;, &quot;selectNext&quot;,
 811                       &quot;UP&quot;, &quot;selectPrevious&quot;,
 812                    &quot;KP_UP&quot;, &quot;selectPrevious&quot;,
 813                     &quot;LEFT&quot;, &quot;selectParent&quot;,
 814                  &quot;KP_LEFT&quot;, &quot;selectParent&quot;,
 815                    &quot;RIGHT&quot;, &quot;selectChild&quot;,
 816                 &quot;KP_RIGHT&quot;, &quot;selectChild&quot;,
 817                    &quot;ENTER&quot;, &quot;return&quot;,
 818                    &quot;SPACE&quot;, &quot;return&quot;
 819             },
 820             &quot;PopupMenu.selectedWindowInputMapBindings.RightToLeft&quot;,
 821                   new Object[] {
 822                     &quot;LEFT&quot;, &quot;selectChild&quot;,
 823                  &quot;KP_LEFT&quot;, &quot;selectChild&quot;,
 824                    &quot;RIGHT&quot;, &quot;selectParent&quot;,
 825                 &quot;KP_RIGHT&quot;, &quot;selectParent&quot;,
 826             },
 827             &quot;PopupMenu.font&quot;, new FontLazyValue(Region.POPUP_MENU),
 828 
 829             &quot;ProgressBar.horizontalSize&quot;,
 830                 new DimensionUIResource(hProgWidth, hProgHeight),
 831             &quot;ProgressBar.verticalSize&quot;,
 832                 new DimensionUIResource(vProgWidth, vProgHeight),
 833             &quot;ProgressBar.font&quot;, new FontLazyValue(Region.PROGRESS_BAR),
 834 
 835             &quot;RadioButton.focusInputMap&quot;,
 836                    new UIDefaults.LazyInputMap(new Object[] {
 837                             &quot;SPACE&quot;, &quot;pressed&quot;,
 838                    &quot;released SPACE&quot;, &quot;released&quot;,
 839                            &quot;RETURN&quot;, &quot;pressed&quot;
 840                    }),
 841             &quot;RadioButton.icon&quot;, new GTKStyle.GTKLazyValue(
 842                               &quot;com.sun.java.swing.plaf.gtk.GTKIconFactory&quot;,
 843                               &quot;getRadioButtonIcon&quot;),
 844             &quot;RadioButton.font&quot;, new FontLazyValue(Region.RADIO_BUTTON),
 845             &quot;RadioButton.margin&quot;, zeroInsets,
 846 
 847 
 848             &quot;RadioButtonMenuItem.arrowIcon&quot;, null,
 849             &quot;RadioButtonMenuItem.checkIcon&quot;, new GTKStyle.GTKLazyValue(
 850                               &quot;com.sun.java.swing.plaf.gtk.GTKIconFactory&quot;,
 851                               &quot;getRadioButtonMenuItemCheckIcon&quot;),
 852             &quot;RadioButtonMenuItem.font&quot;, new FontLazyValue(Region.RADIO_BUTTON_MENU_ITEM),
 853             &quot;RadioButtonMenuItem.margin&quot;, zeroInsets,
 854             &quot;RadioButtonMenuItem.alignAcceleratorText&quot;, Boolean.FALSE,
 855 
 856 
 857             // These bindings are only enabled when there is a default
 858             // button set on the rootpane.
 859             &quot;RootPane.defaultButtonWindowKeyBindings&quot;, new Object[] {
 860                                &quot;ENTER&quot;, &quot;press&quot;,
 861                       &quot;released ENTER&quot;, &quot;release&quot;,
 862                           &quot;ctrl ENTER&quot;, &quot;press&quot;,
 863                  &quot;ctrl released ENTER&quot;, &quot;release&quot;
 864             },
 865 
 866 
 867             &quot;ScrollBar.squareButtons&quot;, Boolean.FALSE,
 868             &quot;ScrollBar.thumbHeight&quot;, Integer.valueOf(14),
 869             &quot;ScrollBar.width&quot;, Integer.valueOf(16),
 870             &quot;ScrollBar.minimumThumbSize&quot;, new Dimension(8, 8),
 871             &quot;ScrollBar.maximumThumbSize&quot;, new Dimension(4096, 4096),
 872             &quot;ScrollBar.allowsAbsolutePositioning&quot;, Boolean.TRUE,
 873             &quot;ScrollBar.alwaysShowThumb&quot;, Boolean.TRUE,
 874             &quot;ScrollBar.ancestorInputMap&quot;,
 875                    new UIDefaults.LazyInputMap(new Object[] {
 876                        &quot;RIGHT&quot;, &quot;positiveUnitIncrement&quot;,
 877                     &quot;KP_RIGHT&quot;, &quot;positiveUnitIncrement&quot;,
 878                         &quot;DOWN&quot;, &quot;positiveUnitIncrement&quot;,
 879                      &quot;KP_DOWN&quot;, &quot;positiveUnitIncrement&quot;,
 880                    &quot;PAGE_DOWN&quot;, &quot;positiveBlockIncrement&quot;,
 881                         &quot;LEFT&quot;, &quot;negativeUnitIncrement&quot;,
 882                      &quot;KP_LEFT&quot;, &quot;negativeUnitIncrement&quot;,
 883                           &quot;UP&quot;, &quot;negativeUnitIncrement&quot;,
 884                        &quot;KP_UP&quot;, &quot;negativeUnitIncrement&quot;,
 885                      &quot;PAGE_UP&quot;, &quot;negativeBlockIncrement&quot;,
 886                         &quot;HOME&quot;, &quot;minScroll&quot;,
 887                          &quot;END&quot;, &quot;maxScroll&quot;
 888                    }),
 889             &quot;ScrollBar.ancestorInputMap.RightToLeft&quot;,
 890                     new UIDefaults.LazyInputMap(new Object[] {
 891                        &quot;RIGHT&quot;, &quot;negativeUnitIncrement&quot;,
 892                     &quot;KP_RIGHT&quot;, &quot;negativeUnitIncrement&quot;,
 893                         &quot;LEFT&quot;, &quot;positiveUnitIncrement&quot;,
 894                      &quot;KP_LEFT&quot;, &quot;positiveUnitIncrement&quot;,
 895                     }),
 896 
 897 
 898             &quot;Spinner.disableOnBoundaryValues&quot;, Boolean.TRUE,
 899 
 900 
 901             &quot;ScrollPane.fillUpperCorner&quot;, Boolean.TRUE,
 902             &quot;ScrollPane.fillLowerCorner&quot;, Boolean.TRUE,
 903             &quot;ScrollPane.ancestorInputMap&quot;,
 904                     new UIDefaults.LazyInputMap(new Object[] {
 905                            &quot;RIGHT&quot;, &quot;unitScrollRight&quot;,
 906                         &quot;KP_RIGHT&quot;, &quot;unitScrollRight&quot;,
 907                             &quot;DOWN&quot;, &quot;unitScrollDown&quot;,
 908                          &quot;KP_DOWN&quot;, &quot;unitScrollDown&quot;,
 909                             &quot;LEFT&quot;, &quot;unitScrollLeft&quot;,
 910                          &quot;KP_LEFT&quot;, &quot;unitScrollLeft&quot;,
 911                               &quot;UP&quot;, &quot;unitScrollUp&quot;,
 912                            &quot;KP_UP&quot;, &quot;unitScrollUp&quot;,
 913                          &quot;PAGE_UP&quot;, &quot;scrollUp&quot;,
 914                        &quot;PAGE_DOWN&quot;, &quot;scrollDown&quot;,
 915                     &quot;ctrl PAGE_UP&quot;, &quot;scrollLeft&quot;,
 916                   &quot;ctrl PAGE_DOWN&quot;, &quot;scrollRight&quot;,
 917                        &quot;ctrl HOME&quot;, &quot;scrollHome&quot;,
 918                         &quot;ctrl END&quot;, &quot;scrollEnd&quot;
 919                     }),
 920             &quot;ScrollPane.ancestorInputMap.RightToLeft&quot;,
 921                     new UIDefaults.LazyInputMap(new Object[] {
 922                     &quot;ctrl PAGE_UP&quot;, &quot;scrollRight&quot;,
 923                   &quot;ctrl PAGE_DOWN&quot;, &quot;scrollLeft&quot;,
 924                     }),
 925             &quot;ScrollPane.font&quot;, new FontLazyValue(Region.SCROLL_PANE),
 926 
 927 
 928             &quot;Separator.insets&quot;, zeroInsets,
 929             &quot;Separator.thickness&quot;, Integer.valueOf(2),
 930 
 931 
 932             &quot;Slider.paintValue&quot;, Boolean.TRUE,
 933             &quot;Slider.thumbWidth&quot;, Integer.valueOf(30),
 934             &quot;Slider.thumbHeight&quot;, Integer.valueOf(14),
 935             &quot;Slider.focusInputMap&quot;,
 936                     new UIDefaults.LazyInputMap(new Object[] {
 937                             &quot;RIGHT&quot;, &quot;positiveUnitIncrement&quot;,
 938                          &quot;KP_RIGHT&quot;, &quot;positiveUnitIncrement&quot;,
 939                              &quot;DOWN&quot;, &quot;negativeUnitIncrement&quot;,
 940                           &quot;KP_DOWN&quot;, &quot;negativeUnitIncrement&quot;,
 941                         &quot;PAGE_DOWN&quot;, &quot;negativeBlockIncrement&quot;,
 942                              &quot;LEFT&quot;, &quot;negativeUnitIncrement&quot;,
 943                           &quot;KP_LEFT&quot;, &quot;negativeUnitIncrement&quot;,
 944                                &quot;UP&quot;, &quot;positiveUnitIncrement&quot;,
 945                             &quot;KP_UP&quot;, &quot;positiveUnitIncrement&quot;,
 946                           &quot;PAGE_UP&quot;, &quot;positiveBlockIncrement&quot;,
 947                              &quot;HOME&quot;, &quot;minScroll&quot;,
 948                               &quot;END&quot;, &quot;maxScroll&quot;
 949                         }),
 950             &quot;Slider.focusInputMap.RightToLeft&quot;,
 951                     new UIDefaults.LazyInputMap(new Object[] {
 952                             &quot;RIGHT&quot;, &quot;negativeUnitIncrement&quot;,
 953                          &quot;KP_RIGHT&quot;, &quot;negativeUnitIncrement&quot;,
 954                              &quot;LEFT&quot;, &quot;positiveUnitIncrement&quot;,
 955                           &quot;KP_LEFT&quot;, &quot;positiveUnitIncrement&quot;,
 956                          }),
 957             &quot;Slider.onlyLeftMouseButtonDrag&quot;, Boolean.FALSE,
 958 
 959             &quot;Spinner.ancestorInputMap&quot;,
 960                new UIDefaults.LazyInputMap(new Object[] {
 961                                &quot;UP&quot;, &quot;increment&quot;,
 962                             &quot;KP_UP&quot;, &quot;increment&quot;,
 963                              &quot;DOWN&quot;, &quot;decrement&quot;,
 964                           &quot;KP_DOWN&quot;, &quot;decrement&quot;,
 965                }),
 966             &quot;Spinner.font&quot;, new FontLazyValue(Region.SPINNER),
 967             &quot;Spinner.editorAlignment&quot;, JTextField.LEADING,
 968 
 969             &quot;SplitPane.ancestorInputMap&quot;,
 970                     new UIDefaults.LazyInputMap(new Object[] {
 971                         &quot;UP&quot;, &quot;negativeIncrement&quot;,
 972                       &quot;DOWN&quot;, &quot;positiveIncrement&quot;,
 973                       &quot;LEFT&quot;, &quot;negativeIncrement&quot;,
 974                      &quot;RIGHT&quot;, &quot;positiveIncrement&quot;,
 975                      &quot;KP_UP&quot;, &quot;negativeIncrement&quot;,
 976                    &quot;KP_DOWN&quot;, &quot;positiveIncrement&quot;,
 977                    &quot;KP_LEFT&quot;, &quot;negativeIncrement&quot;,
 978                   &quot;KP_RIGHT&quot;, &quot;positiveIncrement&quot;,
 979                       &quot;HOME&quot;, &quot;selectMin&quot;,
 980                        &quot;END&quot;, &quot;selectMax&quot;,
 981                         &quot;F8&quot;, &quot;startResize&quot;,
 982                         &quot;F6&quot;, &quot;toggleFocus&quot;,
 983                   &quot;ctrl TAB&quot;, &quot;focusOutForward&quot;,
 984             &quot;ctrl shift TAB&quot;, &quot;focusOutBackward&quot;
 985                     }),
 986 
 987 
 988             &quot;SplitPane.size&quot;, Integer.valueOf(7),
 989             &quot;SplitPane.oneTouchOffset&quot;, Integer.valueOf(2),
 990             &quot;SplitPane.oneTouchButtonSize&quot;, Integer.valueOf(5),
 991             &quot;SplitPane.supportsOneTouchButtons&quot;, Boolean.FALSE,
 992 
 993 
 994             &quot;TabbedPane.focusInputMap&quot;,
 995               new UIDefaults.LazyInputMap(new Object[] {
 996                          &quot;RIGHT&quot;, &quot;navigateRight&quot;,
 997                       &quot;KP_RIGHT&quot;, &quot;navigateRight&quot;,
 998                           &quot;LEFT&quot;, &quot;navigateLeft&quot;,
 999                        &quot;KP_LEFT&quot;, &quot;navigateLeft&quot;,
1000                             &quot;UP&quot;, &quot;navigateUp&quot;,
1001                          &quot;KP_UP&quot;, &quot;navigateUp&quot;,
1002                           &quot;DOWN&quot;, &quot;navigateDown&quot;,
1003                        &quot;KP_DOWN&quot;, &quot;navigateDown&quot;,
1004                      &quot;ctrl DOWN&quot;, &quot;requestFocusForVisibleComponent&quot;,
1005                   &quot;ctrl KP_DOWN&quot;, &quot;requestFocusForVisibleComponent&quot;,
1006                          &quot;SPACE&quot;, &quot;selectTabWithFocus&quot;
1007                 }),
1008             &quot;TabbedPane.ancestorInputMap&quot;,
1009                new UIDefaults.LazyInputMap(new Object[] {
1010                          &quot;ctrl TAB&quot;, &quot;navigateNext&quot;,
1011                    &quot;ctrl shift TAB&quot;, &quot;navigatePrevious&quot;,
1012                    &quot;ctrl PAGE_DOWN&quot;, &quot;navigatePageDown&quot;,
1013                      &quot;ctrl PAGE_UP&quot;, &quot;navigatePageUp&quot;,
1014                           &quot;ctrl UP&quot;, &quot;requestFocus&quot;,
1015                        &quot;ctrl KP_UP&quot;, &quot;requestFocus&quot;,
1016                  }),
1017 
1018             &quot;TabbedPane.labelShift&quot;, 3,
1019             &quot;TabbedPane.selectedLabelShift&quot;, 3,
1020             &quot;TabbedPane.font&quot;, new FontLazyValue(Region.TABBED_PANE),
1021             &quot;TabbedPane.selectedTabPadInsets&quot;, new InsetsUIResource(2, 2, 0, 1),
1022 
1023             &quot;Table.scrollPaneBorder&quot;, zeroBorder,
1024             &quot;Table.background&quot;, tableBg,
1025             &quot;Table.focusCellBackground&quot;, tableFocusCellBg,
1026             &quot;Table.focusCellForeground&quot;, tableFocusCellFg,
1027             &quot;Table.focusCellHighlightBorder&quot;, focusBorder,
1028             &quot;Table.focusSelectedCellHighlightBorder&quot;, focusSelectedBorder,
1029             &quot;Table.ancestorInputMap&quot;,
1030                     new UIDefaults.LazyInputMap(new Object[] {
1031                                &quot;ctrl C&quot;, &quot;copy&quot;,
1032                                &quot;ctrl V&quot;, &quot;paste&quot;,
1033                                &quot;ctrl X&quot;, &quot;cut&quot;,
1034                                  &quot;COPY&quot;, &quot;copy&quot;,
1035                                 &quot;PASTE&quot;, &quot;paste&quot;,
1036                                   &quot;CUT&quot;, &quot;cut&quot;,
1037                        &quot;control INSERT&quot;, &quot;copy&quot;,
1038                          &quot;shift INSERT&quot;, &quot;paste&quot;,
1039                          &quot;shift DELETE&quot;, &quot;cut&quot;,
1040                                 &quot;RIGHT&quot;, &quot;selectNextColumn&quot;,
1041                              &quot;KP_RIGHT&quot;, &quot;selectNextColumn&quot;,
1042                           &quot;shift RIGHT&quot;, &quot;selectNextColumnExtendSelection&quot;,
1043                        &quot;shift KP_RIGHT&quot;, &quot;selectNextColumnExtendSelection&quot;,
1044                      &quot;ctrl shift RIGHT&quot;, &quot;selectNextColumnExtendSelection&quot;,
1045                   &quot;ctrl shift KP_RIGHT&quot;, &quot;selectNextColumnExtendSelection&quot;,
1046                            &quot;ctrl RIGHT&quot;, &quot;selectNextColumnChangeLead&quot;,
1047                         &quot;ctrl KP_RIGHT&quot;, &quot;selectNextColumnChangeLead&quot;,
1048                                  &quot;LEFT&quot;, &quot;selectPreviousColumn&quot;,
1049                               &quot;KP_LEFT&quot;, &quot;selectPreviousColumn&quot;,
1050                            &quot;shift LEFT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
1051                         &quot;shift KP_LEFT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
1052                       &quot;ctrl shift LEFT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
1053                    &quot;ctrl shift KP_LEFT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
1054                             &quot;ctrl LEFT&quot;, &quot;selectPreviousColumnChangeLead&quot;,
1055                          &quot;ctrl KP_LEFT&quot;, &quot;selectPreviousColumnChangeLead&quot;,
1056                                  &quot;DOWN&quot;, &quot;selectNextRow&quot;,
1057                               &quot;KP_DOWN&quot;, &quot;selectNextRow&quot;,
1058                            &quot;shift DOWN&quot;, &quot;selectNextRowExtendSelection&quot;,
1059                         &quot;shift KP_DOWN&quot;, &quot;selectNextRowExtendSelection&quot;,
1060                       &quot;ctrl shift DOWN&quot;, &quot;selectNextRowExtendSelection&quot;,
1061                    &quot;ctrl shift KP_DOWN&quot;, &quot;selectNextRowExtendSelection&quot;,
1062                             &quot;ctrl DOWN&quot;, &quot;selectNextRowChangeLead&quot;,
1063                          &quot;ctrl KP_DOWN&quot;, &quot;selectNextRowChangeLead&quot;,
1064                                    &quot;UP&quot;, &quot;selectPreviousRow&quot;,
1065                                 &quot;KP_UP&quot;, &quot;selectPreviousRow&quot;,
1066                              &quot;shift UP&quot;, &quot;selectPreviousRowExtendSelection&quot;,
1067                           &quot;shift KP_UP&quot;, &quot;selectPreviousRowExtendSelection&quot;,
1068                         &quot;ctrl shift UP&quot;, &quot;selectPreviousRowExtendSelection&quot;,
1069                      &quot;ctrl shift KP_UP&quot;, &quot;selectPreviousRowExtendSelection&quot;,
1070                               &quot;ctrl UP&quot;, &quot;selectPreviousRowChangeLead&quot;,
1071                            &quot;ctrl KP_UP&quot;, &quot;selectPreviousRowChangeLead&quot;,
1072                                  &quot;HOME&quot;, &quot;selectFirstColumn&quot;,
1073                            &quot;shift HOME&quot;, &quot;selectFirstColumnExtendSelection&quot;,
1074                       &quot;ctrl shift HOME&quot;, &quot;selectFirstRowExtendSelection&quot;,
1075                             &quot;ctrl HOME&quot;, &quot;selectFirstRow&quot;,
1076                                   &quot;END&quot;, &quot;selectLastColumn&quot;,
1077                             &quot;shift END&quot;, &quot;selectLastColumnExtendSelection&quot;,
1078                        &quot;ctrl shift END&quot;, &quot;selectLastRowExtendSelection&quot;,
1079                              &quot;ctrl END&quot;, &quot;selectLastRow&quot;,
1080                               &quot;PAGE_UP&quot;, &quot;scrollUpChangeSelection&quot;,
1081                         &quot;shift PAGE_UP&quot;, &quot;scrollUpExtendSelection&quot;,
1082                    &quot;ctrl shift PAGE_UP&quot;, &quot;scrollLeftExtendSelection&quot;,
1083                          &quot;ctrl PAGE_UP&quot;, &quot;scrollLeftChangeSelection&quot;,
1084                             &quot;PAGE_DOWN&quot;, &quot;scrollDownChangeSelection&quot;,
1085                       &quot;shift PAGE_DOWN&quot;, &quot;scrollDownExtendSelection&quot;,
1086                  &quot;ctrl shift PAGE_DOWN&quot;, &quot;scrollRightExtendSelection&quot;,
1087                        &quot;ctrl PAGE_DOWN&quot;, &quot;scrollRightChangeSelection&quot;,
1088                                   &quot;TAB&quot;, &quot;selectNextColumnCell&quot;,
1089                             &quot;shift TAB&quot;, &quot;selectPreviousColumnCell&quot;,
1090                                 &quot;ENTER&quot;, &quot;selectNextRowCell&quot;,
1091                           &quot;shift ENTER&quot;, &quot;selectPreviousRowCell&quot;,
1092                                &quot;ctrl A&quot;, &quot;selectAll&quot;,
1093                            &quot;ctrl SLASH&quot;, &quot;selectAll&quot;,
1094                       &quot;ctrl BACK_SLASH&quot;, &quot;clearSelection&quot;,
1095                                &quot;ESCAPE&quot;, &quot;cancel&quot;,
1096                                    &quot;F2&quot;, &quot;startEditing&quot;,
1097                                 &quot;SPACE&quot;, &quot;addToSelection&quot;,
1098                            &quot;ctrl SPACE&quot;, &quot;toggleAndAnchor&quot;,
1099                           &quot;shift SPACE&quot;, &quot;extendTo&quot;,
1100                      &quot;ctrl shift SPACE&quot;, &quot;moveSelectionTo&quot;,
1101                                    &quot;F8&quot;, &quot;focusHeader&quot;
1102                     }),
1103             &quot;Table.ancestorInputMap.RightToLeft&quot;,
1104                     new UIDefaults.LazyInputMap(new Object[] {
1105                                 &quot;RIGHT&quot;, &quot;selectPreviousColumn&quot;,
1106                              &quot;KP_RIGHT&quot;, &quot;selectPreviousColumn&quot;,
1107                           &quot;shift RIGHT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
1108                        &quot;shift KP_RIGHT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
1109                      &quot;ctrl shift RIGHT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
1110                   &quot;ctrl shift KP_RIGHT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
1111                           &quot;shift RIGHT&quot;, &quot;selectPreviousColumnChangeLead&quot;,
1112                        &quot;shift KP_RIGHT&quot;, &quot;selectPreviousColumnChangeLead&quot;,
1113                                  &quot;LEFT&quot;, &quot;selectNextColumn&quot;,
1114                               &quot;KP_LEFT&quot;, &quot;selectNextColumn&quot;,
1115                            &quot;shift LEFT&quot;, &quot;selectNextColumnExtendSelection&quot;,
1116                         &quot;shift KP_LEFT&quot;, &quot;selectNextColumnExtendSelection&quot;,
1117                       &quot;ctrl shift LEFT&quot;, &quot;selectNextColumnExtendSelection&quot;,
1118                    &quot;ctrl shift KP_LEFT&quot;, &quot;selectNextColumnExtendSelection&quot;,
1119                             &quot;ctrl LEFT&quot;, &quot;selectNextColumnChangeLead&quot;,
1120                          &quot;ctrl KP_LEFT&quot;, &quot;selectNextColumnChangeLead&quot;,
1121                          &quot;ctrl PAGE_UP&quot;, &quot;scrollRightChangeSelection&quot;,
1122                        &quot;ctrl PAGE_DOWN&quot;, &quot;scrollLeftChangeSelection&quot;,
1123                    &quot;ctrl shift PAGE_UP&quot;, &quot;scrollRightExtendSelection&quot;,
1124                  &quot;ctrl shift PAGE_DOWN&quot;, &quot;scrollLeftExtendSelection&quot;,
1125                     }),
1126             &quot;Table.font&quot;, new FontLazyValue(Region.TABLE),
1127             &quot;Table.ascendingSortIcon&quot;,  new GTKStyle.GTKLazyValue(
1128                               &quot;com.sun.java.swing.plaf.gtk.GTKIconFactory&quot;,
1129                               &quot;getAscendingSortIcon&quot;),
1130             &quot;Table.descendingSortIcon&quot;,  new GTKStyle.GTKLazyValue(
1131                               &quot;com.sun.java.swing.plaf.gtk.GTKIconFactory&quot;,
1132                               &quot;getDescendingSortIcon&quot;),
1133 
1134             &quot;TableHeader.font&quot;, new FontLazyValue(Region.TABLE_HEADER),
1135             &quot;TableHeader.alignSorterArrow&quot;, Boolean.TRUE,
1136 
1137             &quot;TextArea.caretForeground&quot;, caretColor,
1138             &quot;TextArea.caretAspectRatio&quot;, defaultCaretAspectRatio,
1139             &quot;TextArea.caretBlinkRate&quot;, caretBlinkRate,
1140             &quot;TextArea.margin&quot;, zeroInsets,
1141             &quot;TextArea.focusInputMap&quot;, multilineInputMap,
1142             &quot;TextArea.font&quot;, new FontLazyValue(Region.TEXT_AREA),
1143 
1144 
1145             &quot;TextField.caretForeground&quot;, caretColor,
1146             &quot;TextField.caretAspectRatio&quot;, defaultCaretAspectRatio,
1147             &quot;TextField.caretBlinkRate&quot;, caretBlinkRate,
1148             &quot;TextField.margin&quot;, zeroInsets,
1149             &quot;TextField.focusInputMap&quot;, fieldInputMap,
1150             &quot;TextField.font&quot;, new FontLazyValue(Region.TEXT_FIELD),
1151 
1152 
1153             &quot;TextPane.caretForeground&quot;, caretColor,
1154             &quot;TextPane.caretAspectRatio&quot;, defaultCaretAspectRatio,
1155             &quot;TextPane.caretBlinkRate&quot;, caretBlinkRate,
1156             &quot;TextPane.margin&quot;, editorMargin,
1157             &quot;TextPane.focusInputMap&quot;, multilineInputMap,
1158             &quot;TextPane.font&quot;, new FontLazyValue(Region.TEXT_PANE),
1159 
1160 
1161             &quot;TitledBorder.titleColor&quot;, controlText,
1162             &quot;TitledBorder.border&quot;, new UIDefaults.LazyValue() {
1163                 public Object createValue(UIDefaults table) {
1164                     return new GTKPainter.TitledBorder();
1165                 }
1166             },
1167 
1168             &quot;ToggleButton.focusInputMap&quot;,
1169                    new UIDefaults.LazyInputMap(new Object[] {
1170                             &quot;SPACE&quot;, &quot;pressed&quot;,
1171                    &quot;released SPACE&quot;, &quot;released&quot;
1172                    }),
1173             &quot;ToggleButton.font&quot;, new FontLazyValue(Region.TOGGLE_BUTTON),
1174             &quot;ToggleButton.margin&quot;, zeroInsets,
1175 
1176 
1177             &quot;ToolBar.separatorSize&quot;, new DimensionUIResource(10, 10),
1178             &quot;ToolBar.handleIcon&quot;, new UIDefaults.ActiveValue() {
1179                 public Object createValue(UIDefaults table) {
1180                     return GTKIconFactory.getToolBarHandleIcon();
1181                 }
1182             },
1183             &quot;ToolBar.ancestorInputMap&quot;,
1184                new UIDefaults.LazyInputMap(new Object[] {
1185                         &quot;UP&quot;, &quot;navigateUp&quot;,
1186                      &quot;KP_UP&quot;, &quot;navigateUp&quot;,
1187                       &quot;DOWN&quot;, &quot;navigateDown&quot;,
1188                    &quot;KP_DOWN&quot;, &quot;navigateDown&quot;,
1189                       &quot;LEFT&quot;, &quot;navigateLeft&quot;,
1190                    &quot;KP_LEFT&quot;, &quot;navigateLeft&quot;,
1191                      &quot;RIGHT&quot;, &quot;navigateRight&quot;,
1192                   &quot;KP_RIGHT&quot;, &quot;navigateRight&quot;
1193                  }),
1194             &quot;ToolBar.font&quot;, new FontLazyValue(Region.TOOL_BAR),
1195 
1196             &quot;ToolTip.font&quot;, new FontLazyValue(Region.TOOL_TIP),
1197 
1198             &quot;Tree.padding&quot;, Integer.valueOf(4),
1199             &quot;Tree.background&quot;, tableBg,
1200             &quot;Tree.drawHorizontalLines&quot;, Boolean.FALSE,
1201             &quot;Tree.drawVerticalLines&quot;, Boolean.FALSE,
1202             &quot;Tree.rowHeight&quot;, Integer.valueOf(-1),
1203             &quot;Tree.scrollsOnExpand&quot;, Boolean.FALSE,
1204             &quot;Tree.expanderSize&quot;, Integer.valueOf(10),
1205             &quot;Tree.repaintWholeRow&quot;, Boolean.TRUE,
1206             &quot;Tree.closedIcon&quot;, null,
1207             &quot;Tree.leafIcon&quot;, null,
1208             &quot;Tree.openIcon&quot;, null,
1209             &quot;Tree.expandedIcon&quot;, new GTKStyle.GTKLazyValue(
1210                               &quot;com.sun.java.swing.plaf.gtk.GTKIconFactory&quot;,
1211                               &quot;getTreeExpandedIcon&quot;),
1212             &quot;Tree.collapsedIcon&quot;, new GTKStyle.GTKLazyValue(
1213                               &quot;com.sun.java.swing.plaf.gtk.GTKIconFactory&quot;,
1214                               &quot;getTreeCollapsedIcon&quot;),
1215             &quot;Tree.leftChildIndent&quot;, Integer.valueOf(2),
1216             &quot;Tree.rightChildIndent&quot;, Integer.valueOf(12),
1217             &quot;Tree.scrollsHorizontallyAndVertically&quot;, Boolean.FALSE,
1218             &quot;Tree.drawsFocusBorder&quot;, Boolean.TRUE,
1219             &quot;Tree.focusInputMap&quot;,
1220                     new UIDefaults.LazyInputMap(new Object[] {
1221                                  &quot;ctrl C&quot;, &quot;copy&quot;,
1222                                  &quot;ctrl V&quot;, &quot;paste&quot;,
1223                                  &quot;ctrl X&quot;, &quot;cut&quot;,
1224                                    &quot;COPY&quot;, &quot;copy&quot;,
1225                                   &quot;PASTE&quot;, &quot;paste&quot;,
1226                                     &quot;CUT&quot;, &quot;cut&quot;,
1227                          &quot;control INSERT&quot;, &quot;copy&quot;,
1228                            &quot;shift INSERT&quot;, &quot;paste&quot;,
1229                            &quot;shift DELETE&quot;, &quot;cut&quot;,
1230                                      &quot;UP&quot;, &quot;selectPrevious&quot;,
1231                                   &quot;KP_UP&quot;, &quot;selectPrevious&quot;,
1232                                &quot;shift UP&quot;, &quot;selectPreviousExtendSelection&quot;,
1233                             &quot;shift KP_UP&quot;, &quot;selectPreviousExtendSelection&quot;,
1234                           &quot;ctrl shift UP&quot;, &quot;selectPreviousExtendSelection&quot;,
1235                        &quot;ctrl shift KP_UP&quot;, &quot;selectPreviousExtendSelection&quot;,
1236                                 &quot;ctrl UP&quot;, &quot;selectPreviousChangeLead&quot;,
1237                              &quot;ctrl KP_UP&quot;, &quot;selectPreviousChangeLead&quot;,
1238                                    &quot;DOWN&quot;, &quot;selectNext&quot;,
1239                                 &quot;KP_DOWN&quot;, &quot;selectNext&quot;,
1240                              &quot;shift DOWN&quot;, &quot;selectNextExtendSelection&quot;,
1241                           &quot;shift KP_DOWN&quot;, &quot;selectNextExtendSelection&quot;,
1242                         &quot;ctrl shift DOWN&quot;, &quot;selectNextExtendSelection&quot;,
1243                      &quot;ctrl shift KP_DOWN&quot;, &quot;selectNextExtendSelection&quot;,
1244                               &quot;ctrl DOWN&quot;, &quot;selectNextChangeLead&quot;,
1245                            &quot;ctrl KP_DOWN&quot;, &quot;selectNextChangeLead&quot;,
1246                                   &quot;RIGHT&quot;, &quot;selectChild&quot;,
1247                                &quot;KP_RIGHT&quot;, &quot;selectChild&quot;,
1248                                    &quot;LEFT&quot;, &quot;selectParent&quot;,
1249                                 &quot;KP_LEFT&quot;, &quot;selectParent&quot;,
1250                                 &quot;typed +&quot;, &quot;expand&quot;,
1251                                 &quot;typed -&quot;, &quot;collapse&quot;,
1252                              &quot;BACK_SPACE&quot;, &quot;moveSelectionToParent&quot;,
1253                                 &quot;PAGE_UP&quot;, &quot;scrollUpChangeSelection&quot;,
1254                           &quot;shift PAGE_UP&quot;, &quot;scrollUpExtendSelection&quot;,
1255                      &quot;ctrl shift PAGE_UP&quot;, &quot;scrollUpExtendSelection&quot;,
1256                            &quot;ctrl PAGE_UP&quot;, &quot;scrollUpChangeLead&quot;,
1257                               &quot;PAGE_DOWN&quot;, &quot;scrollDownChangeSelection&quot;,
1258                         &quot;shift PAGE_DOWN&quot;, &quot;scrollDownExtendSelection&quot;,
1259                    &quot;ctrl shift PAGE_DOWN&quot;, &quot;scrollDownExtendSelection&quot;,
1260                          &quot;ctrl PAGE_DOWN&quot;, &quot;scrollDownChangeLead&quot;,
1261                                    &quot;HOME&quot;, &quot;selectFirst&quot;,
1262                              &quot;shift HOME&quot;, &quot;selectFirstExtendSelection&quot;,
1263                         &quot;ctrl shift HOME&quot;, &quot;selectFirstExtendSelection&quot;,
1264                               &quot;ctrl HOME&quot;, &quot;selectFirstChangeLead&quot;,
1265                                     &quot;END&quot;, &quot;selectLast&quot;,
1266                               &quot;shift END&quot;, &quot;selectLastExtendSelection&quot;,
1267                          &quot;ctrl shift END&quot;, &quot;selectLastExtendSelection&quot;,
1268                                &quot;ctrl END&quot;, &quot;selectLastChangeLead&quot;,
1269                                      &quot;F2&quot;, &quot;startEditing&quot;,
1270                                  &quot;ctrl A&quot;, &quot;selectAll&quot;,
1271                              &quot;ctrl SLASH&quot;, &quot;selectAll&quot;,
1272                         &quot;ctrl BACK_SLASH&quot;, &quot;clearSelection&quot;,
1273                               &quot;ctrl LEFT&quot;, &quot;scrollLeft&quot;,
1274                            &quot;ctrl KP_LEFT&quot;, &quot;scrollLeft&quot;,
1275                              &quot;ctrl RIGHT&quot;, &quot;scrollRight&quot;,
1276                           &quot;ctrl KP_RIGHT&quot;, &quot;scrollRight&quot;,
1277                                   &quot;SPACE&quot;, &quot;addToSelection&quot;,
1278                              &quot;ctrl SPACE&quot;, &quot;toggleAndAnchor&quot;,
1279                             &quot;shift SPACE&quot;, &quot;extendTo&quot;,
1280                        &quot;ctrl shift SPACE&quot;, &quot;moveSelectionTo&quot;
1281                     }),
1282             &quot;Tree.focusInputMap.RightToLeft&quot;,
1283                     new UIDefaults.LazyInputMap(new Object[] {
1284                                   &quot;RIGHT&quot;, &quot;selectParent&quot;,
1285                                &quot;KP_RIGHT&quot;, &quot;selectParent&quot;,
1286                                    &quot;LEFT&quot;, &quot;selectChild&quot;,
1287                                 &quot;KP_LEFT&quot;, &quot;selectChild&quot;,
1288                  }),
1289             &quot;Tree.ancestorInputMap&quot;,
1290                       new UIDefaults.LazyInputMap(new Object[] {
1291                          &quot;ESCAPE&quot;, &quot;cancel&quot;
1292                       }),
1293             &quot;Tree.font&quot;, new FontLazyValue(Region.TREE),
1294 
1295             &quot;Viewport.font&quot;, new FontLazyValue(Region.VIEWPORT)
1296         };
1297         table.putDefaults(defaults);
1298 
1299         if (fallbackFont != null) {
1300             table.put(&quot;TitledBorder.font&quot;, fallbackFont);
1301         }
1302         if (aaTextInfo != null) {
1303             table.putAll(aaTextInfo);
1304         }
1305     }
1306 
1307     protected void initSystemColorDefaults(UIDefaults table) {
<a name="3" id="anc3"></a><span class="line-modified">1308         GTKStyleFactory factory = (GTKStyleFactory)getStyleFactory();</span>
1309         GTKStyle windowStyle =
1310                 (GTKStyle)factory.getStyle(null, Region.INTERNAL_FRAME);
1311         table.put(&quot;window&quot;, windowStyle.getGTKColor(SynthConstants.ENABLED,
1312                 GTKColorType.BACKGROUND));
1313         table.put(&quot;windowText&quot;, windowStyle.getGTKColor(SynthConstants.ENABLED,
1314                 GTKColorType.TEXT_FOREGROUND));
1315 
1316         GTKStyle entryStyle = (GTKStyle)factory.getStyle(null, Region.TEXT_FIELD);
1317         table.put(&quot;text&quot;, entryStyle.getGTKColor(SynthConstants.ENABLED,
1318                                            GTKColorType.TEXT_BACKGROUND));
1319         table.put(&quot;textText&quot;, entryStyle.getGTKColor(SynthConstants.ENABLED,
1320                                            GTKColorType.TEXT_FOREGROUND));
1321         table.put(&quot;textHighlight&quot;,
1322                 entryStyle.getGTKColor(SynthConstants.SELECTED,
1323                                          GTKColorType.TEXT_BACKGROUND));
1324         table.put(&quot;textHighlightText&quot;,
1325                   entryStyle.getGTKColor(SynthConstants.SELECTED,
1326                                          GTKColorType.TEXT_FOREGROUND));
1327         table.put(&quot;textInactiveText&quot;,
1328                   entryStyle.getGTKColor(SynthConstants.DISABLED,
1329                                          GTKColorType.TEXT_FOREGROUND));
1330         Object caretColor =
1331             entryStyle.getClassSpecificValue(&quot;cursor-color&quot;);
1332         if (caretColor == null) {
1333             caretColor = GTKStyle.BLACK_COLOR;
1334         }
1335         table.put(&quot;caretColor&quot;, caretColor);
1336 
1337         GTKStyle menuStyle = (GTKStyle)factory.getStyle(null, Region.MENU_ITEM);
1338         table.put(&quot;menu&quot;, menuStyle.getGTKColor(SynthConstants.ENABLED,
1339                                            GTKColorType.BACKGROUND));
1340         table.put(&quot;menuText&quot;, menuStyle.getGTKColor(SynthConstants.ENABLED,
1341                                            GTKColorType.TEXT_FOREGROUND));
1342 
1343         GTKStyle scrollbarStyle = (GTKStyle)factory.getStyle(null, Region.SCROLL_BAR);
1344         table.put(&quot;scrollbar&quot;, scrollbarStyle.getGTKColor(SynthConstants.ENABLED,
1345                                            GTKColorType.BACKGROUND));
1346 
1347         GTKStyle infoStyle = (GTKStyle)factory.getStyle(null, Region.OPTION_PANE);
1348         table.put(&quot;info&quot;, infoStyle.getGTKColor(SynthConstants.ENABLED,
1349                                            GTKColorType.BACKGROUND));
1350         table.put(&quot;infoText&quot;, infoStyle.getGTKColor(SynthConstants.ENABLED,
1351                                            GTKColorType.TEXT_FOREGROUND));
1352 
1353         GTKStyle desktopStyle = (GTKStyle)factory.getStyle(null, Region.DESKTOP_PANE);
1354         table.put(&quot;desktop&quot;, desktopStyle.getGTKColor(SynthConstants.ENABLED,
1355                                            GTKColorType.BACKGROUND));
1356 
1357         // colors specific only for GTK
1358         // It is impossible to create a simple GtkWidget without specifying the
1359         // type. So for GtkWidget we can use any appropriate concrete type of
1360         // wigdet. LABEL in this case.
1361         GTKStyle widgetStyle = (GTKStyle)factory.getStyle(null, Region.LABEL);
1362         Color bg = widgetStyle.getGTKColor(SynthConstants.ENABLED,
1363                                            GTKColorType.BACKGROUND);
1364         table.put(&quot;control&quot;, bg);
1365         table.put(&quot;controlHighlight&quot;, bg);
1366         table.put(&quot;controlText&quot;, widgetStyle.getGTKColor(SynthConstants.ENABLED,
1367                                                GTKColorType.TEXT_FOREGROUND));
1368         table.put(&quot;controlLtHighlight&quot;, widgetStyle.getGTKColor(
1369                 SynthConstants.ENABLED, GTKColorType.LIGHT));
1370         table.put(&quot;controlShadow&quot;, widgetStyle.getGTKColor(
1371                 SynthConstants.ENABLED, GTKColorType.DARK));
1372         table.put(&quot;controlDkShadow&quot;, widgetStyle.getGTKColor(
1373                 SynthConstants.ENABLED, GTKColorType.BLACK));
1374         table.put(&quot;light&quot;, widgetStyle.getGTKColor(
1375                 SynthConstants.ENABLED, GTKColorType.LIGHT));
1376         table.put(&quot;mid&quot;, widgetStyle.getGTKColor(
1377                 SynthConstants.ENABLED, GTKColorType.MID));
1378         table.put(&quot;dark&quot;, widgetStyle.getGTKColor(
1379                 SynthConstants.ENABLED, GTKColorType.DARK));
1380         table.put(&quot;black&quot;, widgetStyle.getGTKColor(
1381                 SynthConstants.ENABLED, GTKColorType.BLACK));
1382         table.put(&quot;white&quot;, widgetStyle.getGTKColor(
1383                 SynthConstants.ENABLED, GTKColorType.WHITE));
1384     }
1385 
1386     /**
1387      * Creates the GTK look and feel class for the passed in Component.
1388      */
1389     public static ComponentUI createUI(JComponent c) {
1390         String key = c.getUIClassID().intern();
1391 
1392         if (key == &quot;FileChooserUI&quot;) {
1393             return GTKFileChooserUI.createUI(c);
1394         }
1395         return SynthLookAndFeel.createUI(c);
1396     }
1397 
1398     /**
1399      * Returns the cached gtkThemeName
1400      */
1401     static String getGtkThemeName() {
1402         return gtkThemeName;
1403     }
1404 
1405     static boolean isLeftToRight(Component c) {
1406         return c.getComponentOrientation().isLeftToRight();
1407     }
1408 
1409     public void initialize() {
1410         /*
1411          * We need to call loadGTK() to ensure that the native GTK
1412          * libraries are loaded.  It is very unlikely that this call will
1413          * fail (since we&#39;ve already verified native GTK support in
1414          * isSupportedLookAndFeel()), but we can throw an error in the
1415          * failure situation just in case.
1416          */
1417         Toolkit toolkit = Toolkit.getDefaultToolkit();
1418         if (toolkit instanceof UNIXToolkit &amp;&amp;
1419             !((UNIXToolkit)toolkit).loadGTK())
1420         {
1421             throw new InternalError(&quot;Unable to load native GTK libraries&quot;);
1422         }
1423 
1424         if (UNIXToolkit.getGtkVersion() == UNIXToolkit.GtkVersions.GTK2) {
1425             String version = AccessController.doPrivileged(
1426                     new GetPropertyAction(&quot;jdk.gtk.version&quot;));
1427             if (version != null) {
1428                 IS_22 = version.equals(&quot;2.2&quot;);
1429             } else {
1430                 IS_22 = true;
1431             }
1432         } else if (UNIXToolkit.getGtkVersion() ==
1433                                 UNIXToolkit.GtkVersions.GTK3) {
1434             IS_3 = true;
1435         }
1436 
1437         super.initialize();
1438         inInitialize = true;
1439         loadStyles();
1440         inInitialize = false;
1441 
1442         /*
1443          * Check if system AA font settings should be used.
1444          * REMIND: See comment on isLocalDisplay() definition regarding
1445          * XRender.
1446          */
1447         gtkAAFontSettingsCond = SwingUtilities2.isLocalDisplay();
1448         aaTextInfo = new HashMap&lt;&gt;(2);
1449         SwingUtilities2.putAATextInfo(gtkAAFontSettingsCond, aaTextInfo);
1450     }
1451 
1452     static ReferenceQueue&lt;GTKLookAndFeel&gt; queue = new ReferenceQueue&lt;GTKLookAndFeel&gt;();
1453 
1454     private static void flushUnreferenced() {
1455         WeakPCL pcl;
1456 
1457         while ((pcl = (WeakPCL)queue.poll()) != null) {
1458             pcl.dispose();
1459         }
1460     }
1461 
1462     static class WeakPCL extends WeakReference&lt;GTKLookAndFeel&gt; implements
1463             PropertyChangeListener {
1464         private Toolkit kit;
1465         private String key;
1466 
1467         WeakPCL(GTKLookAndFeel target, Toolkit kit, String key) {
1468             super(target, queue);
1469             this.kit = kit;
1470             this.key = key;
1471         }
1472 
1473         public String getKey() { return key; }
1474 
1475         public void propertyChange(final PropertyChangeEvent pce) {
1476             final GTKLookAndFeel lnf = get();
1477 
1478             if (lnf == null || UIManager.getLookAndFeel() != lnf) {
1479                 // The property was GC&#39;ed, we&#39;re no longer interested in
1480                 // PropertyChanges, remove the listener.
1481                 dispose();
1482             }
1483             else {
1484                 // We are using invokeLater here because we are getting called
1485                 // on the AWT-Motif thread which can cause a deadlock.
1486                 SwingUtilities.invokeLater(new Runnable() {
1487                     public void run() {
1488                         String name = pce.getPropertyName();
1489                         /* We are listening for GTK desktop text AA settings:
1490                          * &quot;gnome.Xft/Antialias&quot; and &quot;gnome.Xft/RGBA&quot;.
1491                          * However we don&#39;t need to read these here as
1492                          * the UIDefaults reads them and this event causes
1493                          * those to be reinitialised.
1494                          */
1495                         if (&quot;gnome.Net/ThemeName&quot;.equals(name)) {
1496                             GTKEngine.INSTANCE.themeChanged();
1497                             GTKIconFactory.resetIcons();
1498                         }
1499                         lnf.loadStyles();
1500                         Window[] appWindows = Window.getWindows();
1501                         for (int i = 0; i &lt; appWindows.length; i++) {
1502                             SynthLookAndFeel.updateStyles(appWindows[i]);
1503                         }
1504                     }
1505                 });
1506             }
1507         }
1508 
1509         void dispose() {
1510             kit.removePropertyChangeListener(key, this);
1511         }
1512     }
1513 
1514     public boolean isSupportedLookAndFeel() {
1515         Toolkit toolkit = Toolkit.getDefaultToolkit();
1516         return (toolkit instanceof SunToolkit &amp;&amp;
1517                 ((SunToolkit)toolkit).isNativeGTKAvailable());
1518     }
1519 
1520     public boolean isNativeLookAndFeel() {
1521         return true;
1522     }
1523 
1524     public String getDescription() {
1525         return &quot;GTK look and feel&quot;;
1526     }
1527 
1528     public String getName() {
1529         return &quot;GTK look and feel&quot;;
1530     }
1531 
1532     public String getID() {
1533         return &quot;GTK&quot;;
1534     }
1535 
1536     // Subclassed to pass in false to the superclass, we don&#39;t want to try
1537     // and load the system colors.
1538     protected void loadSystemColors(UIDefaults table, String[] systemColors, boolean useNative) {
1539         super.loadSystemColors(table, systemColors, false);
1540     }
1541 
1542     private void loadStyles() {
1543         gtkThemeName = (String)Toolkit.getDefaultToolkit().
1544                 getDesktopProperty(&quot;gnome.Net/ThemeName&quot;);
1545 
1546         setStyleFactory(getGTKStyleFactory());
1547 
1548         // If we are in initialize initializations will be
1549         // called later, don&#39;t do it now.
1550         if (!inInitialize) {
1551             UIDefaults table = UIManager.getLookAndFeelDefaults();
1552             initSystemColorDefaults(table);
1553             initComponentDefaults(table);
1554         }
1555     }
1556 
1557     private GTKStyleFactory getGTKStyleFactory() {
1558 
1559         GTKEngine engine = GTKEngine.INSTANCE;
1560         Object iconSizes = engine.getSetting(GTKEngine.Settings.GTK_ICON_SIZES);
1561         if (iconSizes instanceof String) {
1562             if (!configIconSizes((String)iconSizes)) {
1563                 System.err.println(&quot;Error parsing gtk-icon-sizes string: &#39;&quot; + iconSizes + &quot;&#39;&quot;);
1564             }
1565         }
1566 
1567         // Desktop property appears to have preference over rc font.
1568         Object fontName = Toolkit.getDefaultToolkit().getDesktopProperty(
1569                                   &quot;gnome.Gtk/FontName&quot;);
1570 
1571        if (!(fontName instanceof String)) {
1572             fontName = engine.getSetting(GTKEngine.Settings.GTK_FONT_NAME);
1573             if (!(fontName instanceof String)) {
1574                fontName = &quot;sans 10&quot;;
1575             }
1576         }
1577 
1578         if (styleFactory == null) {
1579             styleFactory = new GTKStyleFactory();
1580         }
1581 
1582         Font defaultFont = PangoFonts.lookupFont((String)fontName);
1583         fallbackFont = defaultFont;
1584         styleFactory.initStyles(defaultFont);
1585 
1586         return styleFactory;
1587     }
1588 
1589     private boolean configIconSizes(String sizeString) {
1590         String[] sizes = sizeString.split(&quot;:&quot;);
1591         for (int i = 0; i &lt; sizes.length; i++) {
1592             String[] splits = sizes[i].split(&quot;=&quot;);
1593 
1594             if (splits.length != 2) {
1595                 return false;
1596             }
1597 
1598             String size = splits[0].trim().intern();
1599             if (size.length() &lt; 1) {
1600                 return false;
1601             }
1602 
1603             splits = splits[1].split(&quot;,&quot;);
1604 
1605             if (splits.length != 2) {
1606                 return false;
1607             }
1608 
1609             String width = splits[0].trim();
1610             String height = splits[1].trim();
1611 
1612             if (width.length() &lt; 1 || height.length() &lt; 1) {
1613                 return false;
1614             }
1615 
1616             int w;
1617             int h;
1618 
1619             try {
1620                 w = Integer.parseInt(width);
1621                 h = Integer.parseInt(height);
1622             } catch (NumberFormatException nfe) {
1623                 return false;
1624             }
1625 
1626             if (w &gt; 0 &amp;&amp; h &gt; 0) {
1627                 int type = GTKStyle.GTKStockIconInfo.getIconType(size);
1628                 GTKStyle.GTKStockIconInfo.setIconSize(type, w, h);
1629             } else {
1630                 System.err.println(&quot;Invalid size in gtk-icon-sizes: &quot; + w + &quot;,&quot; + h);
1631             }
1632         }
1633 
1634         return true;
1635     }
1636 
1637     /**
1638      * Returns whether or not the UIs should update their
1639      * &lt;code&gt;SynthStyles&lt;/code&gt; from the &lt;code&gt;SynthStyleFactory&lt;/code&gt;
1640      * when the ancestor of the Component changes.
1641      *
1642      * @return whether or not the UIs should update their
1643      * &lt;code&gt;SynthStyles&lt;/code&gt; from the &lt;code&gt;SynthStyleFactory&lt;/code&gt;
1644      * when the ancestor changed.
1645      */
1646     public boolean shouldUpdateStyleOnAncestorChanged() {
1647         return true;
1648     }
1649 
1650     /**
1651      * {@inheritDoc}
1652      */
1653     public LayoutStyle getLayoutStyle() {
1654         return GnomeLayoutStyle.INSTANCE;
1655     }
1656 
1657 
1658     /**
1659      * Gnome layout style.  From:
1660      * http://developer.gnome.org/projects/gup/hig/2.0/design-window.html#window-layout-spacing
1661      * You&#39;ll notice this doesn&#39;t do the radiobutton/checkbox border
1662      * adjustments that windows/metal do.  This is because gtk doesn&#39;t
1663      * provide margins/insets for checkbox/radiobuttons.
1664      */
1665     @SuppressWarnings(&quot;fallthrough&quot;)
1666     private static class GnomeLayoutStyle extends DefaultLayoutStyle {
1667         private static GnomeLayoutStyle INSTANCE = new GnomeLayoutStyle();
1668 
1669         @Override
1670         public int getPreferredGap(JComponent component1,
1671                 JComponent component2, ComponentPlacement type, int position,
1672                 Container parent) {
1673             // Checks args
1674             super.getPreferredGap(component1, component2, type, position,
1675                                   parent);
1676 
1677             switch(type) {
1678             case INDENT:
1679                 if (position == SwingConstants.EAST ||
1680                         position == SwingConstants.WEST) {
1681                     // Indent group members 12 pixels to denote hierarchy and
1682                     // association.
1683                     return 12;
1684                 }
1685                 // Fall through to related
1686             // As a basic rule of thumb, leave space between user
1687             // interface components in increments of 6 pixels, going up as
1688             // the relationship between related elements becomes more
1689             // distant. For example, between icon labels and associated
1690             // graphics within an icon, 6 pixels are adequate. Between
1691             // labels and associated components, leave 12 horizontal
1692             // pixels. For vertical spacing between groups of components,
1693             // 18 pixels is adequate.
1694             //
1695             // The first part of this is handled automatically by Icon (which
1696             // won&#39;t give you 6 pixels).
1697             case RELATED:
1698                 if (isLabelAndNonlabel(component1, component2, position)) {
1699                     return 12;
1700                 }
1701                 return 6;
1702             case UNRELATED:
1703                 return 12;
1704             }
1705             return 0;
1706         }
1707 
1708         @Override
1709         public int getContainerGap(JComponent component, int position,
1710                                    Container parent) {
1711             // Checks args
1712             super.getContainerGap(component, position, parent);
1713             // A general padding of 12 pixels is
1714             // recommended between the contents of a dialog window and the
1715             // window borders.
1716             return 12;
1717         }
1718     }
1719 }
<a name="4" id="anc4"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="4" type="hidden" />
</body>
</html>