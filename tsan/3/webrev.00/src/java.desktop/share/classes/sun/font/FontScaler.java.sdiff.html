<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/share/classes/sun/font/FontScaler.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="Font2D.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="FontStrikeDisposer.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/classes/sun/font/FontScaler.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
156     abstract long getGlyphImage(long pScalerContext, int glyphCode)
157                 throws FontScalerException;
158 
159     abstract Rectangle2D.Float getGlyphOutlineBounds(long pContext,
160                                                      int glyphCode)
161                 throws FontScalerException;
162 
163     abstract GeneralPath getGlyphOutline(long pScalerContext, int glyphCode,
164                                          float x, float y)
165                 throws FontScalerException;
166 
167     abstract GeneralPath getGlyphVectorOutline(long pScalerContext, int[] glyphs,
168                                                int numGlyphs, float x, float y)
169                 throws FontScalerException;
170 
171     /* Used by Java2D disposer to ensure native resources are released.
172        Note: this method does not release any of created
173              scaler context objects! */
174     public void dispose() {}
175 






176     /* At the moment these 3 methods are needed for Type1 fonts only.
177      * For Truetype fonts we extract required info outside of scaler
178      * on java layer.
179      */
180     abstract int getNumGlyphs() throws FontScalerException;
181     abstract int getMissingGlyphCode() throws FontScalerException;
182     abstract int getGlyphCode(char charCode) throws FontScalerException;
183 
<span class="line-removed">184     /* This method returns table cache used by native layout engine.</span>
<span class="line-removed">185      * This cache is essentially just small collection of</span>
<span class="line-removed">186      * pointers to various truetype tables. See definition of TTLayoutTableCache</span>
<span class="line-removed">187      * in the fontscalerdefs.h for more details.</span>
<span class="line-removed">188      *</span>
<span class="line-removed">189      * Note that tables themselves have same format as defined in the truetype</span>
<span class="line-removed">190      * specification, i.e. font scaler do not need to perform any preprocessing.</span>
<span class="line-removed">191      *</span>
<span class="line-removed">192      * Probably it is better to have API to request pointers to each table</span>
<span class="line-removed">193      * separately instead of requesting pointer to some native structure.</span>
<span class="line-removed">194      * (then there is not need to share its definition by different</span>
<span class="line-removed">195      * implementations of scaler).</span>
<span class="line-removed">196      * However, this means multiple JNI calls and potential impact on performance.</span>
<span class="line-removed">197      *</span>
<span class="line-removed">198      * Note: return value 0 is legal.</span>
<span class="line-removed">199      *   This means tables are not available (e.g. type1 font).</span>
<span class="line-removed">200      */</span>
<span class="line-removed">201     abstract long getLayoutTableCache() throws FontScalerException;</span>
<span class="line-removed">202 </span>
203     /* Used by the OpenType engine for mark positioning. */
204     abstract Point2D.Float getGlyphPoint(long pScalerContext,
205                                 int glyphCode, int ptNumber)
206         throws FontScalerException;
207 
208     abstract long getUnitsPerEm();
209 
210     /* Returns pointer to native structure describing rasterization attributes.
211        Format of this structure is scaler-specific.
212 
213        Callee is responsible for freeing scaler context (using free()).
214 
215        Note:
216          Context is tightly associated with strike and it is actually
217         freed when corresponding strike is being released.
218      */
219     abstract long createScalerContext(double[] matrix,
220                                       int aa, int fm,
221                                       float boldness, float italic,
222                                       boolean disableHinting);
</pre>
</td>
<td>
<hr />
<pre>
156     abstract long getGlyphImage(long pScalerContext, int glyphCode)
157                 throws FontScalerException;
158 
159     abstract Rectangle2D.Float getGlyphOutlineBounds(long pContext,
160                                                      int glyphCode)
161                 throws FontScalerException;
162 
163     abstract GeneralPath getGlyphOutline(long pScalerContext, int glyphCode,
164                                          float x, float y)
165                 throws FontScalerException;
166 
167     abstract GeneralPath getGlyphVectorOutline(long pScalerContext, int[] glyphs,
168                                                int numGlyphs, float x, float y)
169                 throws FontScalerException;
170 
171     /* Used by Java2D disposer to ensure native resources are released.
172        Note: this method does not release any of created
173              scaler context objects! */
174     public void dispose() {}
175 
<span class="line-added">176     /**</span>
<span class="line-added">177      * Used when the native resources held by the scaler need</span>
<span class="line-added">178      * to be released before the 2D disposer runs.</span>
<span class="line-added">179      */</span>
<span class="line-added">180     public void disposeScaler() {}</span>
<span class="line-added">181 </span>
182     /* At the moment these 3 methods are needed for Type1 fonts only.
183      * For Truetype fonts we extract required info outside of scaler
184      * on java layer.
185      */
186     abstract int getNumGlyphs() throws FontScalerException;
187     abstract int getMissingGlyphCode() throws FontScalerException;
188     abstract int getGlyphCode(char charCode) throws FontScalerException;
189 



















190     /* Used by the OpenType engine for mark positioning. */
191     abstract Point2D.Float getGlyphPoint(long pScalerContext,
192                                 int glyphCode, int ptNumber)
193         throws FontScalerException;
194 
195     abstract long getUnitsPerEm();
196 
197     /* Returns pointer to native structure describing rasterization attributes.
198        Format of this structure is scaler-specific.
199 
200        Callee is responsible for freeing scaler context (using free()).
201 
202        Note:
203          Context is tightly associated with strike and it is actually
204         freed when corresponding strike is being released.
205      */
206     abstract long createScalerContext(double[] matrix,
207                                       int aa, int fm,
208                                       float boldness, float italic,
209                                       boolean disableHinting);
</pre>
</td>
</tr>
</table>
<center><a href="Font2D.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="FontStrikeDisposer.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>