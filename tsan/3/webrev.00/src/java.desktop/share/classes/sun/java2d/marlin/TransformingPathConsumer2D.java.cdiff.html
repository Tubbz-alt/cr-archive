<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.desktop/share/classes/sun/java2d/marlin/TransformingPathConsumer2D.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="Stroker.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="Version.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/classes/sun/java2d/marlin/TransformingPathConsumer2D.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 529,10 ***</span>
<span class="line-new-header">--- 529,13 ---</span>
          // the cumulated (and) outcode of the complete path
          private int gOutCode = MarlinConst.OUTCODE_MASK_T_B_L_R;
  
          private boolean outside = false;
  
<span class="line-added">+         // The starting point of the path</span>
<span class="line-added">+         private float sx0, sy0;</span>
<span class="line-added">+ </span>
          // The current point (TODO stupid repeated info)
          private float cx0, cy0;
  
          // The current point OUTSIDE
          private float cox0, coy0;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 629,21 ***</span>
          @Override
          public void closePath() {
              finishPath();
  
              out.closePath();
          }
  
          @Override
          public void moveTo(final float x0, final float y0) {
              finishPath();
  
<span class="line-removed">-             this.cOutCode = Helpers.outcode(x0, y0, clipRect);</span>
<span class="line-removed">-             this.outside = false;</span>
              out.moveTo(x0, y0);
              this.cx0 = x0;
              this.cy0 = y0;
          }
  
          @Override
          public void lineTo(final float xe, final float ye) {
              final int outcode0 = this.cOutCode;
<span class="line-new-header">--- 632,30 ---</span>
          @Override
          public void closePath() {
              finishPath();
  
              out.closePath();
<span class="line-added">+ </span>
<span class="line-added">+             // back to starting point:</span>
<span class="line-added">+             this.cOutCode = Helpers.outcode(sx0, sy0, clipRect);</span>
<span class="line-added">+             this.cx0 = sx0;</span>
<span class="line-added">+             this.cy0 = sy0;</span>
          }
  
          @Override
          public void moveTo(final float x0, final float y0) {
              finishPath();
  
              out.moveTo(x0, y0);
<span class="line-added">+ </span>
<span class="line-added">+             // update starting point:</span>
<span class="line-added">+             this.cOutCode = Helpers.outcode(x0, y0, clipRect);</span>
              this.cx0 = x0;
              this.cy0 = y0;
<span class="line-added">+ </span>
<span class="line-added">+             this.sx0 = x0;</span>
<span class="line-added">+             this.sy0 = y0;</span>
          }
  
          @Override
          public void lineTo(final float xe, final float ye) {
              final int outcode0 = this.cOutCode;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 654,11 ***</span>
              if (orCode != 0) {
                  final int sideCode = (outcode0 &amp; outcode1);
  
                  // basic rejection criteria:
                  if (sideCode == 0) {
<span class="line-modified">!                     // ovelap clip:</span>
                      if (subdivide) {
                          // avoid reentrance
                          subdivide = false;
                          boolean ret;
                          // subdivide curve =&gt; callback with subdivided parts:
<span class="line-new-header">--- 666,11 ---</span>
              if (orCode != 0) {
                  final int sideCode = (outcode0 &amp; outcode1);
  
                  // basic rejection criteria:
                  if (sideCode == 0) {
<span class="line-modified">!                     // overlap clip:</span>
                      if (subdivide) {
                          // avoid reentrance
                          subdivide = false;
                          boolean ret;
                          // subdivide curve =&gt; callback with subdivided parts:
</pre>
<hr />
<pre>
<span class="line-old-header">*** 753,11 ***</span>
              if (orCode != 0) {
                  final int sideCode = outcode0 &amp; outcode1 &amp; outcode2 &amp; outcode3;
  
                  // basic rejection criteria:
                  if (sideCode == 0) {
<span class="line-modified">!                     // ovelap clip:</span>
                      if (subdivide) {
                          // avoid reentrance
                          subdivide = false;
                          // subdivide curve =&gt; callback with subdivided parts:
                          boolean ret;
<span class="line-new-header">--- 765,11 ---</span>
              if (orCode != 0) {
                  final int sideCode = outcode0 &amp; outcode1 &amp; outcode2 &amp; outcode3;
  
                  // basic rejection criteria:
                  if (sideCode == 0) {
<span class="line-modified">!                     // overlap clip:</span>
                      if (subdivide) {
                          // avoid reentrance
                          subdivide = false;
                          // subdivide curve =&gt; callback with subdivided parts:
                          boolean ret;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 815,11 ***</span>
              if (orCode != 0) {
                  final int sideCode = outcode0 &amp; outcode1 &amp; outcode2;
  
                  // basic rejection criteria:
                  if (sideCode == 0) {
<span class="line-modified">!                     // ovelap clip:</span>
                      if (subdivide) {
                          // avoid reentrance
                          subdivide = false;
                          // subdivide curve =&gt; callback with subdivided parts:
                          boolean ret;
<span class="line-new-header">--- 827,11 ---</span>
              if (orCode != 0) {
                  final int sideCode = outcode0 &amp; outcode1 &amp; outcode2;
  
                  // basic rejection criteria:
                  if (sideCode == 0) {
<span class="line-modified">!                     // overlap clip:</span>
                      if (subdivide) {
                          // avoid reentrance
                          subdivide = false;
                          // subdivide curve =&gt; callback with subdivided parts:
                          boolean ret;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1152,44 ***</span>
              return this; // fluent API
          }
  
          @Override
          public void moveTo(float x0, float y0) {
<span class="line-modified">!             log(&quot;moveTo (&quot; + x0 + &quot;, &quot; + y0 + &#39;)&#39;);</span>
              out.moveTo(x0, y0);
          }
  
          @Override
          public void lineTo(float x1, float y1) {
<span class="line-modified">!             log(&quot;lineTo (&quot; + x1 + &quot;, &quot; + y1 + &#39;)&#39;);</span>
              out.lineTo(x1, y1);
          }
  
          @Override
          public void curveTo(float x1, float y1,
                              float x2, float y2,
                              float x3, float y3)
          {
<span class="line-modified">!             log(&quot;curveTo P1(&quot; + x1 + &quot;, &quot; + y1 + &quot;) P2(&quot; + x2 + &quot;, &quot; + y2  + &quot;) P3(&quot; + x3 + &quot;, &quot; + y3 + &#39;)&#39;);</span>
              out.curveTo(x1, y1, x2, y2, x3, y3);
          }
  
          @Override
<span class="line-modified">!         public void quadTo(float x1, float y1, float x2, float y2) {</span>
<span class="line-modified">!             log(&quot;quadTo P1(&quot; + x1 + &quot;, &quot; + y1 + &quot;) P2(&quot; + x2 + &quot;, &quot; + y2  + &#39;)&#39;);</span>
              out.quadTo(x1, y1, x2, y2);
          }
  
          @Override
          public void closePath() {
<span class="line-modified">!             log(&quot;closePath&quot;);</span>
              out.closePath();
          }
  
          @Override
          public void pathDone() {
<span class="line-modified">!             log(&quot;pathDone&quot;);</span>
              out.pathDone();
          }
  
          private void log(final String message) {
              MarlinUtils.logInfo(prefix + message);
<span class="line-new-header">--- 1164,45 ---</span>
              return this; // fluent API
          }
  
          @Override
          public void moveTo(float x0, float y0) {
<span class="line-modified">!             log(&quot;p.moveTo(&quot; + x0 + &quot;, &quot; + y0 + &quot;);&quot;);</span>
              out.moveTo(x0, y0);
          }
  
          @Override
          public void lineTo(float x1, float y1) {
<span class="line-modified">!             log(&quot;p.lineTo(&quot; + x1 + &quot;, &quot; + y1 + &quot;);&quot;);</span>
              out.lineTo(x1, y1);
          }
  
          @Override
          public void curveTo(float x1, float y1,
                              float x2, float y2,
                              float x3, float y3)
          {
<span class="line-modified">!             log(&quot;p.curveTo(&quot; + x1 + &quot;, &quot; + y1 + &quot;, &quot; + x2 + &quot;, &quot; + y2  + &quot;, &quot; + x3 + &quot;, &quot; + y3 + &quot;);&quot;);</span>
              out.curveTo(x1, y1, x2, y2, x3, y3);
          }
  
          @Override
<span class="line-modified">!         public void quadTo(float x1, float y1,</span>
<span class="line-modified">!                            float x2, float y2) {</span>
<span class="line-added">+             log(&quot;p.quadTo(&quot; + x1 + &quot;, &quot; + y1 + &quot;, &quot; + x2 + &quot;, &quot; + y2  + &quot;);&quot;);</span>
              out.quadTo(x1, y1, x2, y2);
          }
  
          @Override
          public void closePath() {
<span class="line-modified">!             log(&quot;p.closePath();&quot;);</span>
              out.closePath();
          }
  
          @Override
          public void pathDone() {
<span class="line-modified">!             log(&quot;p.pathDone();&quot;);</span>
              out.pathDone();
          }
  
          private void log(final String message) {
              MarlinUtils.logInfo(prefix + message);
</pre>
<center><a href="Stroker.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="Version.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>