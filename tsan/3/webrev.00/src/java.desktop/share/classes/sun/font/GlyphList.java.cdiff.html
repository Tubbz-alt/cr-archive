<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.desktop/share/classes/sun/font/GlyphList.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="FreetypeFontScaler.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="NullFontScaler.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/classes/sun/font/GlyphList.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 301,10 ***</span>
<span class="line-new-header">--- 301,18 ---</span>
       * Note that a laid out GlyphVector which has assigned glyph positions
       * doesn&#39;t have this stricture..
       */
      public void setGlyphIndex(int i) {
          glyphindex = i;
<span class="line-added">+         if (images[i] == 0L) {</span>
<span class="line-added">+            metrics[0] = (int)gposx;</span>
<span class="line-added">+            metrics[1] = (int)gposy;</span>
<span class="line-added">+            metrics[2] = 0;</span>
<span class="line-added">+            metrics[3] = 0;</span>
<span class="line-added">+            metrics[4] = 0;</span>
<span class="line-added">+            return;</span>
<span class="line-added">+         }</span>
          float gx =
              StrikeCache.unsafe.getFloat(images[i]+StrikeCache.topLeftXOffset);
          float gy =
              StrikeCache.unsafe.getFloat(images[i]+StrikeCache.topLeftYOffset);
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 339,10 ***</span>
<span class="line-new-header">--- 347,13 ---</span>
          } else {
              if (len &gt; graybits.length) {
                  graybits = new byte[len];
              }
          }
<span class="line-added">+         if (images[glyphindex] == 0L) {</span>
<span class="line-added">+             return graybits;</span>
<span class="line-added">+         }</span>
          long pixelDataAddress =
              StrikeCache.unsafe.getAddress(images[glyphindex] +
                                            StrikeCache.pixelDataOffset);
  
          if (pixelDataAddress == 0L) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 446,10 ***</span>
<span class="line-new-header">--- 457,13 ---</span>
          float glx = x + 0.5f;
          float gly = y + 0.5f;
          char gw, gh;
          float gx, gy, gx0, gy0, gx1, gy1;
          for (int i=0; i&lt;len; i++) {
<span class="line-added">+             if (images[i] == 0L) {</span>
<span class="line-added">+                 continue;</span>
<span class="line-added">+             }</span>
              gx = StrikeCache.unsafe.getFloat(images[i]+xOffset);
              gy = StrikeCache.unsafe.getFloat(images[i]+yOffset);
              gw = StrikeCache.unsafe.getChar(images[i]+wOffset);
              gh = StrikeCache.unsafe.getChar(images[i]+hOffset);
  
</pre>
<center><a href="FreetypeFontScaler.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="NullFontScaler.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>