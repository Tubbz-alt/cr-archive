<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/share/classes/javax/swing/text/Document.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="AbstractDocument.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ElementIterator.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/classes/javax/swing/text/Document.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
148  * &lt;ul&gt;
149  *   &lt;li&gt;{@link #addDocumentListener(DocumentListener)}
150  *   &lt;li&gt;{@link #removeDocumentListener(DocumentListener)}
151  *   &lt;li&gt;{@link #addUndoableEditListener(UndoableEditListener)}
152  *   &lt;li&gt;{@link #removeUndoableEditListener(UndoableEditListener)}
153  * &lt;/ul&gt;
154  *
155  * &lt;p&gt;&lt;b&gt;Properties&lt;/b&gt;
156  * &lt;p&gt;
157  * Document implementations will generally have some set of properties
158  * associated with them at runtime.  Two well known properties are the
159  * &lt;a href=&quot;#StreamDescriptionProperty&quot;&gt;StreamDescriptionProperty&lt;/a&gt;,
160  * which can be used to describe where the &lt;code&gt;Document&lt;/code&gt; came from,
161  * and the &lt;a href=&quot;#TitleProperty&quot;&gt;TitleProperty&lt;/a&gt;, which can be used to
162  * name the &lt;code&gt;Document&lt;/code&gt;.  The methods related to the properties are:
163  * &lt;ul&gt;
164  * &lt;li&gt;{@link #getProperty(java.lang.Object)}
165  * &lt;li&gt;{@link #putProperty(java.lang.Object, java.lang.Object)}
166  * &lt;/ul&gt;
167  *
<span class="line-modified">168  * &lt;p&gt;For more information on the &lt;code&gt;Document&lt;/code&gt; class, see</span>
<span class="line-modified">169  * &lt;a href=&quot;http://www.oracle.com/technetwork/java/javase/tech/articles-jsp-139072.html&quot;&gt;The Swing Connection&lt;/a&gt;</span>
<span class="line-modified">170  * and most particularly the article,</span>
<span class="line-modified">171  * &lt;a href=&quot;http://java.sun.com/products/jfc/tsc/articles/text/element_interface&quot;&gt;</span>
<span class="line-modified">172  * The Element Interface&lt;/a&gt;.</span>











































































































































































173  *
174  * @author  Timothy Prinzing
175  *
176  * @see javax.swing.event.DocumentEvent
177  * @see javax.swing.event.DocumentListener
178  * @see javax.swing.event.UndoableEditEvent
179  * @see javax.swing.event.UndoableEditListener
180  * @see Element
181  * @see Position
182  * @see AttributeSet
183  */
184 public interface Document {
185 
186     /**
187      * Returns number of characters of content currently
188      * in the document.
189      *
190      * @return number of characters &amp;gt;= 0
191      */
192     public int getLength();
</pre>
</td>
<td>
<hr />
<pre>
148  * &lt;ul&gt;
149  *   &lt;li&gt;{@link #addDocumentListener(DocumentListener)}
150  *   &lt;li&gt;{@link #removeDocumentListener(DocumentListener)}
151  *   &lt;li&gt;{@link #addUndoableEditListener(UndoableEditListener)}
152  *   &lt;li&gt;{@link #removeUndoableEditListener(UndoableEditListener)}
153  * &lt;/ul&gt;
154  *
155  * &lt;p&gt;&lt;b&gt;Properties&lt;/b&gt;
156  * &lt;p&gt;
157  * Document implementations will generally have some set of properties
158  * associated with them at runtime.  Two well known properties are the
159  * &lt;a href=&quot;#StreamDescriptionProperty&quot;&gt;StreamDescriptionProperty&lt;/a&gt;,
160  * which can be used to describe where the &lt;code&gt;Document&lt;/code&gt; came from,
161  * and the &lt;a href=&quot;#TitleProperty&quot;&gt;TitleProperty&lt;/a&gt;, which can be used to
162  * name the &lt;code&gt;Document&lt;/code&gt;.  The methods related to the properties are:
163  * &lt;ul&gt;
164  * &lt;li&gt;{@link #getProperty(java.lang.Object)}
165  * &lt;li&gt;{@link #putProperty(java.lang.Object, java.lang.Object)}
166  * &lt;/ul&gt;
167  *
<span class="line-modified">168  * &lt;p&gt;&lt;b&gt;Overview and Programming Tips&lt;/b&gt;</span>
<span class="line-modified">169  * &lt;p&gt;&lt;u&gt;{@link javax.swing.text.Element}&lt;/u&gt; is an important interface used in constructing a Document.</span>
<span class="line-modified">170  * It has the power to describe various structural parts of a document,</span>
<span class="line-modified">171  * such as paragraphs, lines of text, or even (in HTML documents) items in lists.</span>
<span class="line-modified">172  * Conceptually, the Element interface captures some of the spirit of an SGML document.</span>
<span class="line-added">173  * So if you know SGML, you may already have some understanding of Swing&#39;s Element interface.</span>
<span class="line-added">174  * &lt;p&gt;In the Swing text API&#39;s document model, the interface Element defines a structural piece of a Document,</span>
<span class="line-added">175  * like a paragraph, a line of text, or a list item in an HTML document.</span>
<span class="line-added">176  * &lt;p&gt;Every Element is either a &lt;i&gt;branch&lt;/i&gt; or a &lt;i&gt;leaf&lt;/i&gt;. If an element is a branch,</span>
<span class="line-added">177  * the &lt;code&gt;isLeaf()&lt;/code&gt; method returns false. If an element is a a leaf, &lt;code&gt;isLeaf()&lt;/code&gt; returns true.</span>
<span class="line-added">178  * &lt;p&gt;Branches can have any number of children. Leaves do not have children.</span>
<span class="line-added">179  * To determine how many children a branch has, you can call &lt;code&gt;getElementCount()&lt;/code&gt;.</span>
<span class="line-added">180  * To determine the parent of an Element, you can call &lt;code&gt;getParentElement()&lt;/code&gt;.</span>
<span class="line-added">181  * Root elements don&#39;t have parents, so calling &lt;code&gt;getParentElement()&lt;/code&gt; on a root returns null.</span>
<span class="line-added">182  * &lt;p&gt;An Element represents a specific region in a Document that begins with startOffset</span>
<span class="line-added">183  * and ends just before endOffset.</span>
<span class="line-added">184  * The start offset of a branch Element is usually the start offset of its first child.</span>
<span class="line-added">185  * Similarly, the end offset of a branch Element is usually the end offset of its last child.</span>
<span class="line-added">186  * &lt;p&gt;Every Element is associated with an AttributeSet that you can access by calling &lt;code&gt;getAttributes()&lt;/code&gt;.</span>
<span class="line-added">187  * In an Element, and AttributeSet is essentially a set of key/value pairs.</span>
<span class="line-added">188  * These pairs are generally used for markup -- such as determining the Element&#39;s</span>
<span class="line-added">189  * foreground color, font size, and so on. But it is up to the model, and the developer,</span>
<span class="line-added">190  * to determine what is stored in the AttributeSet.</span>
<span class="line-added">191  * &lt;p&gt;You can obtain the root Element (or Elements) of a Document by calling the</span>
<span class="line-added">192  * methods &lt;code&gt;getDefaultRootElement()&lt;/code&gt; and &lt;code&gt;getRootElements()&lt;/code&gt;, which are defined in the Document interface.</span>
<span class="line-added">193  * &lt;p&gt;The Document interface is responsible for translating a linear view of the</span>
<span class="line-added">194  * characters into Element operations. It is up to each Document implementation</span>
<span class="line-added">195  * to define what the Element structure is.</span>
<span class="line-added">196  *</span>
<span class="line-added">197  * &lt;p&gt;&lt;b&gt;The PlainDocument class&lt;/b&gt;</span>
<span class="line-added">198  * &lt;p&gt;The &lt;u&gt;{@link javax.swing.text.PlainDocument}&lt;/u&gt; class defines an Element</span>
<span class="line-added">199  * structure in which the root node has a child node for each line of text in the model.</span>
<span class="line-added">200  * &lt;u&gt;Figure 1&lt;/u&gt; shows how two lines of text would be modeled by a PlainDocument</span>
<span class="line-added">201  * &lt;p style=&quot;text-align:center&quot;&gt;&lt;img src=&quot;doc-files/plain1.gif&quot;</span>
<span class="line-added">202  * alt=&quot;The preceding text describes this graphic.&quot;&gt;</span>
<span class="line-added">203  * &lt;p&gt;&lt;u&gt;Figure 2&lt;/u&gt; shows how how those same two lines of text might map to actual content:</span>
<span class="line-added">204  * &lt;p style=&quot;text-align:center&quot;&gt;&lt;img src=&quot;doc-files/plain2.gif&quot;</span>
<span class="line-added">205  * alt=&quot;The preceding text describes this graphic.&quot;&gt;</span>
<span class="line-added">206  *</span>
<span class="line-added">207  * &lt;p&gt;&lt;b&gt;Inserting text into a PlainDocument&lt;/b&gt;</span>
<span class="line-added">208  * &lt;p&gt;As just mentioned, a PlainDocument contains a root Element, which in turn</span>
<span class="line-added">209  * contains an Element for each line of text.</span>
<span class="line-added">210  * When text is inserted into a PlainDocument, it creates the Elements that</span>
<span class="line-added">211  * are needed for an Element to exist for each newline.</span>
<span class="line-added">212  * To illustrate, let&#39;s say you wanted to insert a newline at offset 2 in &lt;u&gt;Figure 2&lt;/u&gt;, above.</span>
<span class="line-added">213  * To accomplish this objective, you could use the Document method &lt;code&gt;insertString()&lt;/code&gt;,</span>
<span class="line-added">214  * using this syntax:</span>
<span class="line-added">215  * &lt;pre&gt;&lt;code&gt;document.insertString(2, &quot;\n&quot;, null);&lt;/code&gt;&lt;/pre&gt;</span>
<span class="line-added">216  * &lt;p&gt;After invoking the &lt;code&gt;insertString()&lt;/code&gt; method, the Element structure would look</span>
<span class="line-added">217  * like the one shown in &lt;u&gt;Figure 3&lt;/u&gt;.</span>
<span class="line-added">218  * &lt;p style=&quot;text-align:center&quot;&gt;&lt;img src=&quot;doc-files/plain3.gif&quot;</span>
<span class="line-added">219  * alt=&quot;The preceding text describes this graphic.&quot;&gt;</span>
<span class="line-added">220  * &lt;p&gt;As another example, let&#39;s say you wanted to insert the pattern &quot;new\ntext\n&quot;</span>
<span class="line-added">221  * at offset 2 as shown previously in &lt;u&gt;Figure 2&lt;/u&gt;. This operation would have the</span>
<span class="line-added">222  * result shown in &lt;u&gt;Figure 4&lt;/u&gt;.</span>
<span class="line-added">223  * &lt;p style=&quot;text-align:center&quot;&gt;&lt;img src=&quot;doc-files/plain4.gif&quot;</span>
<span class="line-added">224  * alt=&quot;The preceding text describes this graphic.&quot;&gt;</span>
<span class="line-added">225  * &lt;p&gt;In the preceding illustrations, the name of the line Elements is changed</span>
<span class="line-added">226  * after the insertion to match the line numbers.</span>
<span class="line-added">227  * But notice that when this is done, the AttributeSets remain the same.</span>
<span class="line-added">228  * For example, in &lt;u&gt;Figure 2&lt;/u&gt;, the AttributeSet of Line 2 matches that of the</span>
<span class="line-added">229  * AttributeSet of Line 4 in &lt;u&gt;Figure 4&lt;/u&gt;.</span>
<span class="line-added">230  *</span>
<span class="line-added">231  * &lt;p&gt;&lt;b&gt;Removing text from a PlainDocument&lt;/b&gt;</span>
<span class="line-added">232  * &lt;p&gt;Removal of text results in a structure change if the deletion spans more than one line.</span>
<span class="line-added">233  * Consider a deletion of seven characters starting at Offset 1 shown previously in &lt;u&gt;Figure 3&lt;/u&gt;.</span>
<span class="line-added">234  * In this case, the Element representing Line 2 is completely removed, as the</span>
<span class="line-added">235  * region it represents is contained in the deleted region.</span>
<span class="line-added">236  * The Elements representing Lines 1 and 3 are joined, as they are partially</span>
<span class="line-added">237  * contained in the deleted region. Thus, we have the result:</span>
<span class="line-added">238  * &lt;p style=&quot;text-align:center&quot;&gt;&lt;img src=&quot;doc-files/plain5.gif&quot;</span>
<span class="line-added">239  * alt=&quot;The preceding text describes this graphic.&quot;&gt;</span>
<span class="line-added">240  *</span>
<span class="line-added">241  * &lt;p&gt;&lt;b&gt;The Default StyledDocument Class&lt;/b&gt;</span>
<span class="line-added">242  * &lt;p&gt;The &lt;u&gt;{@link javax.swing.text.DefaultStyledDocument}&lt;/u&gt; class, used for styled text,</span>
<span class="line-added">243  * contains another level of Elements.</span>
<span class="line-added">244  * This extra level is needed so that each paragraph can contain different styles of text.</span>
<span class="line-added">245  * In the two paragraphs shown in &lt;u&gt;Figure 6&lt;/u&gt;, the first paragraph contains</span>
<span class="line-added">246  * two styles and the second paragraph contains three styles.</span>
<span class="line-added">247  * &lt;p style=&quot;text-align:center&quot;&gt;&lt;img src=&quot;doc-files/plain6.gif&quot;</span>
<span class="line-added">248  * alt=&quot;The preceding text describes this graphic.&quot;&gt;</span>
<span class="line-added">249  * &lt;p&gt;&lt;u&gt;Figure 7&lt;/u&gt; shows how those same Elements might map to content.</span>
<span class="line-added">250  * &lt;p style=&quot;text-align:center&quot;&gt;&lt;img src=&quot;doc-files/plain7.gif&quot;</span>
<span class="line-added">251  * alt=&quot;The preceding text describes this graphic.&quot;&gt;</span>
<span class="line-added">252  *</span>
<span class="line-added">253  * &lt;p&gt;&lt;b&gt;Inserting text into a DefaultStyledDocument&lt;/b&gt;</span>
<span class="line-added">254  * &lt;p&gt;As previously mentioned, DefaultStyledDocument maintains an Element structure</span>
<span class="line-added">255  * such that the root Element</span>
<span class="line-added">256  * contains a child Element for each paragraph. In turn, each of these</span>
<span class="line-added">257  * paragraph Elements contains an Element for each style of text in the paragraph.</span>
<span class="line-added">258  * As an example, let&#39;s say you had a document containing one paragraph,</span>
<span class="line-added">259  * and that this paragraph contained two styles, as shown in &lt;u&gt;Figure 8&lt;/u&gt;.</span>
<span class="line-added">260  * &lt;p style=&quot;text-align:center&quot;&gt;&lt;img src=&quot;doc-files/plain8.gif&quot;</span>
<span class="line-added">261  * alt=&quot;The preceding text describes this graphic.&quot;&gt;</span>
<span class="line-added">262  * &lt;p&gt;If you then wanted to insert a newline at offset 2, you would again use the</span>
<span class="line-added">263  * method &lt;code&gt;insertString()&lt;/code&gt;, as follows:</span>
<span class="line-added">264  *</span>
<span class="line-added">265  *  &lt;pre&gt;&lt;code&gt; styledDocument.insertString(2, &quot;\n&quot;,</span>
<span class="line-added">266                 styledDocument.getCharacterElement(0).getAttributes());&lt;/code&gt;&lt;/pre&gt;</span>
<span class="line-added">267 </span>
<span class="line-added">268  * &lt;p&gt;This operation would have the result shown in &lt;u&gt;Figure 9&lt;/u&gt;.</span>
<span class="line-added">269  * &lt;p style=&quot;text-align:center&quot;&gt;&lt;img src=&quot;doc-files/plain9.gif&quot;</span>
<span class="line-added">270  * alt=&quot;The preceding text describes this graphic.&quot;&gt;</span>
<span class="line-added">271  * &lt;p&gt;It&#39;s important to note that the AttributeSet passed to &lt;code&gt;insertString()&lt;/code&gt; matches</span>
<span class="line-added">272  * that of the attributes of Style 1. If the AttributeSet passed to &lt;code&gt;insertString()&lt;/code&gt;</span>
<span class="line-added">273  *  did not match, the result would be the situation shown in &lt;u&gt;Figure 10&lt;/u&gt;.</span>
<span class="line-added">274  * &lt;p style=&quot;text-align:center&quot;&gt;&lt;img src=&quot;doc-files/plain10.gif&quot;</span>
<span class="line-added">275  * alt=&quot;The preceding text describes this graphic.&quot;&gt;</span>
<span class="line-added">276  * &lt;p&gt;&lt;b&gt;Removing text from a DefaultStyledDocument&lt;/b&gt;</span>
<span class="line-added">277  * &lt;p&gt;Removing text from a DefaultStyledDocument is similar to removing text from</span>
<span class="line-added">278  * a PlainDocument. The only difference is the extra level of Elements.</span>
<span class="line-added">279  * Consider what would happen if you deleted two characters at Offset 1</span>
<span class="line-added">280  * from Figure 10, above. Since the the second Element of Paragraph 1 is</span>
<span class="line-added">281  * completely contained in the deleted region, it would be removed.</span>
<span class="line-added">282  * Assuming the attributes of Paragraph 1&#39;s first child matched those of</span>
<span class="line-added">283  * Paragraph2&#39;s first child, the results would be those shown in &lt;u&gt;Figure 11&lt;/u&gt;.</span>
<span class="line-added">284  * &lt;p style=&quot;text-align:center&quot;&gt;&lt;img src=&quot;doc-files/plain11.gif&quot;</span>
<span class="line-added">285  * alt=&quot;The preceding text describes this graphic.&quot;&gt;</span>
<span class="line-added">286  * &lt;p&gt;If the attributes did not match, we would get the results shown in &lt;u&gt;Figure 12&lt;/u&gt;.</span>
<span class="line-added">287  * &lt;p style=&quot;text-align:center&quot;&gt;&lt;img src=&quot;doc-files/plain12.gif&quot;</span>
<span class="line-added">288  * alt=&quot;The preceding text describes this graphic.&quot;&gt;</span>
<span class="line-added">289  *</span>
<span class="line-added">290  * &lt;p&gt;&lt;b&gt;The StyledDocument Class&lt;/b&gt;</span>
<span class="line-added">291  * &lt;p&gt;The &lt;u&gt;{@link javax.swing.text.StyledDocument}&lt;/u&gt; class provides a method</span>
<span class="line-added">292  * named &lt;code&gt;setCharacterAttributes()&lt;/code&gt;, which allows you to set the attributes</span>
<span class="line-added">293  * on the character Elements in a given range:</span>
<span class="line-added">294 </span>
<span class="line-added">295  *   &lt;pre&gt;&lt;code&gt; public void setCharacterAttributes</span>
<span class="line-added">296  *          (int offset, int length, AttributeSet s, boolean replace);&lt;/code&gt;&lt;/pre&gt;</span>
<span class="line-added">297  *</span>
<span class="line-added">298  * &lt;p&gt;Recall that in the diagrams shown in the previous section, all leaf Elements</span>
<span class="line-added">299  * shown in the drawings were also character Elements.</span>
<span class="line-added">300  * That means that the &lt;code&gt;setCharacterAttributes()&lt;/code&gt; method could be used to set their attributes.</span>
<span class="line-added">301  * &lt;p&gt;The &lt;code&gt;setCharacterAttributes()&lt;/code&gt; method takes four arguments .</span>
<span class="line-added">302  * The first and second arguments identify a region in the Document that is</span>
<span class="line-added">303  * to be changed. The third argument specifies the new attributes</span>
<span class="line-added">304  * (as an AttributeSet), and the fourth argument determines if the new attributes</span>
<span class="line-added">305  * should be added to the existing attributes (a value of false) or</span>
<span class="line-added">306  * if the character Element should replace its existing attributes</span>
<span class="line-added">307  * with the new attributes (a value of true).</span>
<span class="line-added">308  * &lt;p&gt;As an example, let&#39;s say you wanted to change the attributes of the</span>
<span class="line-added">309  * first three characters in &lt;u&gt;Figure 9&lt;/u&gt;, shown previously.</span>
<span class="line-added">310  * The first two arguments passed to &lt;code&gt;setCharacterAttributes()&lt;/code&gt; would be 0 and 3.</span>
<span class="line-added">311  * The third argument would be the AttributeSet containing the new attributes.</span>
<span class="line-added">312  * In the example we are considering, it doesn&#39;t matter what the fourth argument is.</span>
<span class="line-added">313  * &lt;p&gt;As the start and end offsets of the changed region (0 and 3) fall on</span>
<span class="line-added">314  * character Element boundaries, no structure change is needed.</span>
<span class="line-added">315  * That is, only the attributes of the character Element style 1 will change.</span>
<span class="line-added">316  * &lt;p&gt;Now let&#39;s look at an example that requires a structure change.</span>
<span class="line-added">317  * Instead of changing the first three characters shown in &lt;u&gt;Figure 9&lt;/u&gt;,</span>
<span class="line-added">318  * let&#39;s change the first two characters.</span>
<span class="line-added">319  * Because the end change offset (2) does not fall on a character Element boundary,</span>
<span class="line-added">320  * the Element at offset 2 must be split in such a way</span>
<span class="line-added">321  * that offset 2 is the boundary of two Elements.</span>
<span class="line-added">322  * Invoking &lt;code&gt;setCharacterAttributes()&lt;/code&gt; with a start offset of 0</span>
<span class="line-added">323  * and length of 2 has the result shown earlier in &lt;u&gt;Figure 10&lt;/u&gt;.</span>
<span class="line-added">324  * &lt;p&gt;&lt;b&gt;Changing Paragraph Attributes in a StyledDocument&lt;/b&gt;</span>
<span class="line-added">325  * &lt;p&gt;The StyledDocument class provides a method named &lt;code&gt;setParagraphAttributes()&lt;/code&gt;,</span>
<span class="line-added">326  * which can be used to change the attributes of a paragraph Element:</span>
<span class="line-added">327 </span>
<span class="line-added">328  *   &lt;pre&gt;&lt;code&gt; public void setParagraphAttributes</span>
<span class="line-added">329  *         (int offset, int length, AttributeSet s, boolean replace);&lt;/code&gt;&lt;/pre&gt;</span>
<span class="line-added">330  *</span>
<span class="line-added">331  *  &lt;p&gt;This method is similar to &lt;code&gt;setCharacterAttributes()&lt;/code&gt;,</span>
<span class="line-added">332  *  but it allows you to change the attributes of paragraph Elements.</span>
<span class="line-added">333  *  It is up to the implementation of a StyledDocument to define which Elements</span>
<span class="line-added">334  *  are paragraphs. DefaultStyledDocument interprets paragraph Elements</span>
<span class="line-added">335  *  to be the parent Element of the character Element.</span>
<span class="line-added">336  *  Invoking this method does not result in a structure change;</span>
<span class="line-added">337  *  only the attributes of the paragraph Element change.</span>
<span class="line-added">338  *</span>
<span class="line-added">339  * &lt;p&gt;It is recommended to look into {@link javax.swing.text.EditorKit} and</span>
<span class="line-added">340  * {@link javax.swing.text.View}.</span>
<span class="line-added">341  * View is responsible for rendering a particular Element, and</span>
<span class="line-added">342  * EditorKit is responsible for a ViewFactory that is able to decide what</span>
<span class="line-added">343  * View should be created based on an Element.</span>
344  *
345  * @author  Timothy Prinzing
346  *
347  * @see javax.swing.event.DocumentEvent
348  * @see javax.swing.event.DocumentListener
349  * @see javax.swing.event.UndoableEditEvent
350  * @see javax.swing.event.UndoableEditListener
351  * @see Element
352  * @see Position
353  * @see AttributeSet
354  */
355 public interface Document {
356 
357     /**
358      * Returns number of characters of content currently
359      * in the document.
360      *
361      * @return number of characters &amp;gt;= 0
362      */
363     public int getLength();
</pre>
</td>
</tr>
</table>
<center><a href="AbstractDocument.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ElementIterator.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>