<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.desktop/share/classes/javax/swing/UIManager.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="ToolTipManager.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="plaf/basic/BasicButtonUI.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/classes/javax/swing/UIManager.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 68,11 ***</span>
   * {@code UIManager} manages the current look and feel, the set of
   * available look and feels, {@code PropertyChangeListeners} that
   * are notified when the look and feel changes, look and feel defaults, and
   * convenience methods for obtaining various default values.
   *
<span class="line-modified">!  * &lt;h3&gt;Specifying the look and feel&lt;/h3&gt;</span>
   *
   * The look and feel can be specified in two distinct ways: by
   * specifying the fully qualified name of the class for the look and
   * feel, or by creating an instance of {@code LookAndFeel} and passing
   * it to {@code setLookAndFeel}. The following example illustrates
<span class="line-new-header">--- 68,11 ---</span>
   * {@code UIManager} manages the current look and feel, the set of
   * available look and feels, {@code PropertyChangeListeners} that
   * are notified when the look and feel changes, look and feel defaults, and
   * convenience methods for obtaining various default values.
   *
<span class="line-modified">!  * &lt;h2&gt;Specifying the look and feel&lt;/h2&gt;</span>
   *
   * The look and feel can be specified in two distinct ways: by
   * specifying the fully qualified name of the class for the look and
   * feel, or by creating an instance of {@code LookAndFeel} and passing
   * it to {@code setLookAndFeel}. The following example illustrates
</pre>
<hr />
<pre>
<span class="line-old-header">*** 92,11 ***</span>
   * details. The exact behavior of not invoking {@code
   * updateUI} after changing the look and feel is
   * unspecified. It is very possible to receive unexpected exceptions,
   * painting problems, or worse.
   *
<span class="line-modified">!  * &lt;h3&gt;Default look and feel&lt;/h3&gt;</span>
   *
   * The class used for the default look and feel is chosen in the following
   * manner:
   * &lt;ol&gt;
   *   &lt;li&gt;If the system property &lt;code&gt;swing.defaultlaf&lt;/code&gt; is
<span class="line-new-header">--- 92,11 ---</span>
   * details. The exact behavior of not invoking {@code
   * updateUI} after changing the look and feel is
   * unspecified. It is very possible to receive unexpected exceptions,
   * painting problems, or worse.
   *
<span class="line-modified">!  * &lt;h2&gt;Default look and feel&lt;/h2&gt;</span>
   *
   * The class used for the default look and feel is chosen in the following
   * manner:
   * &lt;ol&gt;
   *   &lt;li&gt;If the system property &lt;code&gt;swing.defaultlaf&lt;/code&gt; is
</pre>
<hr />
<pre>
<span class="line-old-header">*** 112,11 ***</span>
   *       Refer to the release notes of the implementation being used for
   *       further details.
   *   &lt;li&gt;Otherwise use the cross platform look and feel.
   * &lt;/ol&gt;
   *
<span class="line-modified">!  * &lt;h3&gt;Defaults&lt;/h3&gt;</span>
   *
   * {@code UIManager} manages three sets of {@code UIDefaults}. In order, they
   * are:
   * &lt;ol&gt;
   *   &lt;li&gt;Developer defaults. With few exceptions Swing does not
<span class="line-new-header">--- 112,11 ---</span>
   *       Refer to the release notes of the implementation being used for
   *       further details.
   *   &lt;li&gt;Otherwise use the cross platform look and feel.
   * &lt;/ol&gt;
   *
<span class="line-modified">!  * &lt;h2&gt;Defaults&lt;/h2&gt;</span>
   *
   * {@code UIManager} manages three sets of {@code UIDefaults}. In order, they
   * are:
   * &lt;ol&gt;
   *   &lt;li&gt;Developer defaults. With few exceptions Swing does not
</pre>
<hr />
<pre>
<span class="line-old-header">*** 655,17 ***</span>
          }
          OSInfo.OSType osType = AccessController.doPrivileged(OSInfo.getOSTypeAction());
          if (osType == OSInfo.OSType.WINDOWS) {
              return &quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;;
          } else {
<span class="line-removed">-             String desktop = AccessController.doPrivileged(new GetPropertyAction(&quot;sun.desktop&quot;));</span>
              Toolkit toolkit = Toolkit.getDefaultToolkit();
<span class="line-modified">!             if (&quot;gnome&quot;.equals(desktop) &amp;&amp;</span>
<span class="line-modified">!                     toolkit instanceof SunToolkit &amp;&amp;</span>
<span class="line-modified">!                     ((SunToolkit) toolkit).isNativeGTKAvailable()) {</span>
<span class="line-modified">!                 // May be set on Linux and Solaris boxs.</span>
<span class="line-modified">!                 return &quot;com.sun.java.swing.plaf.gtk.GTKLookAndFeel&quot;;</span>
              }
              if (osType == OSInfo.OSType.MACOSX) {
                  if (toolkit.getClass() .getName()
                                         .equals(&quot;sun.lwawt.macosx.LWCToolkit&quot;)) {
                      return &quot;com.apple.laf.AquaLookAndFeel&quot;;
<span class="line-new-header">--- 655,18 ---</span>
          }
          OSInfo.OSType osType = AccessController.doPrivileged(OSInfo.getOSTypeAction());
          if (osType == OSInfo.OSType.WINDOWS) {
              return &quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;;
          } else {
              Toolkit toolkit = Toolkit.getDefaultToolkit();
<span class="line-modified">!             if (toolkit instanceof SunToolkit) {</span>
<span class="line-modified">!                 SunToolkit suntk = (SunToolkit)toolkit;</span>
<span class="line-modified">!                 String desktop = suntk.getDesktop();</span>
<span class="line-modified">!                 boolean gtkAvailable = suntk.isNativeGTKAvailable();</span>
<span class="line-modified">!                 if (&quot;gnome&quot;.equals(desktop) &amp;&amp; gtkAvailable) {</span>
<span class="line-added">+                     return &quot;com.sun.java.swing.plaf.gtk.GTKLookAndFeel&quot;;</span>
<span class="line-added">+                 }</span>
              }
              if (osType == OSInfo.OSType.MACOSX) {
                  if (toolkit.getClass() .getName()
                                         .equals(&quot;sun.lwawt.macosx.LWCToolkit&quot;)) {
                      return &quot;com.apple.laf.AquaLookAndFeel&quot;;
</pre>
<center><a href="ToolTipManager.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="plaf/basic/BasicButtonUI.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>