<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.desktop/share/classes/javax/swing/plaf/basic/BasicTextUI.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="BasicTabbedPaneUI.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="BasicToggleButtonUI.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/classes/javax/swing/plaf/basic/BasicTextUI.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -945,15 +945,13 @@</span>
          }
          try {
              if ((d.width &gt; (i.left + i.right + caretMargin)) &amp;&amp; (d.height &gt; (i.top + i.bottom))) {
                  rootView.setSize(d.width - i.left - i.right -
                          caretMargin, d.height - i.top - i.bottom);
<span class="udiff-line-modified-removed">-             }</span>
<span class="udiff-line-removed">-             else if (!rootViewInitialized &amp;&amp; (d.width &lt;= 0 || d.height &lt;= 0)) {</span>
<span class="udiff-line-modified-added">+             } else if (d.width == 0 &amp;&amp; d.height == 0) {</span>
                  // Probably haven&#39;t been layed out yet, force some sort of
                  // initial sizing.
<span class="udiff-line-removed">-                 rootViewInitialized = true;</span>
                  rootView.setSize(Integer.MAX_VALUE, Integer.MAX_VALUE);
              }
              d.width = (int) Math.min((long) rootView.getPreferredSpan(View.X_AXIS) +
                           (long) i.left + (long) i.right + caretMargin, Integer.MAX_VALUE);
              d.height = (int) Math.min((long) rootView.getPreferredSpan(View.Y_AXIS) +
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1401,11 +1399,10 @@</span>
      private static final TransferHandler defaultTransferHandler = new TextTransferHandler();
      private final DragListener dragListener = getDragListener();
      private static final Position.Bias[] discardBias = new Position.Bias[1];
      private DefaultCaret dropCaret;
      private int caretMargin;
<span class="udiff-line-removed">-     private boolean rootViewInitialized;</span>
  
      /**
       * Root view that acts as a gateway between the component
       * and the View hierarchy.
       */
</pre>
<center><a href="BasicTabbedPaneUI.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="BasicToggleButtonUI.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>