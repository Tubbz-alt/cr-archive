<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.desktop/share/classes/javax/swing/JTable.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="JScrollPane.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="SizeSequence.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/classes/javax/swing/JTable.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 1997, 2018, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 1997, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -3048,22 +3048,22 @@</span>
       *   &lt;code&gt;Resizable3&lt;/code&gt; is a private
       *   interface that allows any data structure containing a collection
       *   of elements with a size, preferred size, maximum size and minimum size
       *   to have its elements manipulated by the algorithm.
       *
<span class="udiff-line-modified-removed">-      * &lt;H3&gt; Distributing the delta &lt;/H3&gt;</span>
<span class="udiff-line-modified-added">+      * &lt;H4&gt; Distributing the delta &lt;/H4&gt;</span>
       *
<span class="udiff-line-modified-removed">-      * &lt;H4&gt; Overview &lt;/H4&gt;</span>
<span class="udiff-line-modified-added">+      * &lt;H5&gt; Overview &lt;/H5&gt;</span>
       * &lt;P&gt;
       * Call &quot;DELTA&quot; the difference between the target size and the
       * sum of the preferred sizes of the elements in r. The individual
       * sizes are calculated by taking the original preferred
       * sizes and adding a share of the DELTA - that share being based on
       * how far each preferred size is from its limiting bound (minimum or
       * maximum).
       *
<span class="udiff-line-modified-removed">-      * &lt;H4&gt;Definition&lt;/H4&gt;</span>
<span class="udiff-line-modified-added">+      * &lt;H5&gt;Definition&lt;/H5&gt;</span>
       * &lt;P&gt;
       * Call the individual constraints min[i], max[i], and pref[i].
       * &lt;p&gt;
       * Call their respective sums: MIN, MAX, and PREF.
       * &lt;p&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -3091,22 +3091,22 @@</span>
       * &lt;P&gt;
       * The overall effect is that the total size moves that same percentage,
       * k, towards the total minimum or maximum and that percentage guarantees
       * accommodation of the required space, DELTA.
       *
<span class="udiff-line-modified-removed">-      * &lt;H4&gt;Details&lt;/H4&gt;</span>
<span class="udiff-line-modified-added">+      * &lt;H5&gt;Details&lt;/H5&gt;</span>
       * &lt;P&gt;
       * Naive evaluation of the formulae presented here would be subject to
       * the aggregated rounding errors caused by doing this operation in finite
       * precision (using ints). To deal with this, the multiplying factor above,
       * is constantly recalculated and this takes account of the rounding
       * errors in the previous iterations. The result is an algorithm that
       * produces a set of integers whose values exactly sum to the supplied
       * &lt;code&gt;targetSize&lt;/code&gt;, and does so by spreading the rounding
       * errors evenly over the given elements.
       *
<span class="udiff-line-modified-removed">-      * &lt;H4&gt;When the MAX and MIN bounds are hit&lt;/H4&gt;</span>
<span class="udiff-line-modified-added">+      * &lt;H5&gt;When the MAX and MIN bounds are hit&lt;/H5&gt;</span>
       * &lt;P&gt;
       * When &lt;code&gt;targetSize&lt;/code&gt; is outside the [MIN, MAX] range,
       * the algorithm sets all sizes to their appropriate limiting value
       * (maximum or minimum).
       *
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5276,11 +5276,12 @@</span>
                      return false;
                  }
                  // Don&#39;t start when just a modifier is pressed
                  int code = e.getKeyCode();
                  if (code == KeyEvent.VK_SHIFT || code == KeyEvent.VK_CONTROL ||
<span class="udiff-line-modified-removed">-                     code == KeyEvent.VK_ALT) {</span>
<span class="udiff-line-modified-added">+                     code == KeyEvent.VK_ALT || code == KeyEvent.VK_META ||</span>
<span class="udiff-line-added">+                     code == KeyEvent.VK_ALT_GRAPH) {</span>
                      return false;
                  }
                  // Try to install the editor
                  int leadRow = getSelectionModel().getLeadSelectionIndex();
                  int leadColumn = getColumnModel().getSelectionModel().
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5300,11 +5301,13 @@</span>
                  retValue = ((JComponent)editorComponent).processKeyBinding
                                          (ks, e, WHEN_FOCUSED, pressed);
                  // If we have started an editor as a result of the user
                  // pressing a key and the surrendersFocusOnKeystroke property
                  // is true, give the focus to the new editor.
<span class="udiff-line-modified-removed">-                 if (getSurrendersFocusOnKeystroke()) {</span>
<span class="udiff-line-modified-added">+                 Object prop = getClientProperty(&quot;JTable.forceAutoStartsEdit&quot;);</span>
<span class="udiff-line-added">+                 if (getSurrendersFocusOnKeystroke()</span>
<span class="udiff-line-added">+                         || Boolean.TRUE.equals(prop)) {</span>
                      editorComponent.requestFocus();
                  }
              }
          }
          return retValue;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -6666,10 +6669,11 @@</span>
           *
           * @since 1.5
           */
          protected AccessibleJTable() {
              super();
<span class="udiff-line-added">+             JTable.this.putClientProperty(&quot;JTable.forceAutoStartsEdit&quot;, true);</span>
              JTable.this.addPropertyChangeListener(this);
              JTable.this.getSelectionModel().addListSelectionListener(this);
              TableColumnModel tcm = JTable.this.getColumnModel();
              tcm.addColumnModelListener(this);
              tcm.getSelectionModel().addListSelectionListener(this);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -7102,19 +7106,16 @@</span>
          public Accessible getAccessibleAt(Point p) {
              int column = columnAtPoint(p);
              int row = rowAtPoint(p);
  
              if ((column != -1) &amp;&amp; (row != -1)) {
<span class="udiff-line-modified-removed">-                 TableColumn aColumn = getColumnModel().getColumn(column);</span>
<span class="udiff-line-modified-removed">-                 TableCellRenderer renderer = aColumn.getCellRenderer();</span>
<span class="udiff-line-modified-removed">-                 if (renderer == null) {</span>
<span class="udiff-line-modified-removed">-                     Class&lt;?&gt; columnClass = getColumnClass(column);</span>
<span class="udiff-line-modified-removed">-                     renderer = getDefaultRenderer(columnClass);</span>
<span class="udiff-line-modified-added">+                 if (row == getEditingRow() &amp;&amp; column == getEditingColumn()) {</span>
<span class="udiff-line-modified-added">+                     Component editor = getEditorComponent();</span>
<span class="udiff-line-modified-added">+                     if (editor instanceof Accessible) {</span>
<span class="udiff-line-modified-added">+                         return (Accessible) editor;</span>
<span class="udiff-line-modified-added">+                     }</span>
                  }
<span class="udiff-line-removed">-                 Component component = renderer.getTableCellRendererComponent(</span>
<span class="udiff-line-removed">-                                   JTable.this, null, false, false,</span>
<span class="udiff-line-removed">-                                   row, column);</span>
                  return new AccessibleJTableCell(JTable.this, row, column,
                        getAccessibleIndexAt(row, column));
              }
              return null;
          }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -7143,19 +7144,16 @@</span>
                  // children increase across, and then down, for tables
                  // (arbitrary decision)
                  int column = getAccessibleColumnAtIndex(i);
                  int row = getAccessibleRowAtIndex(i);
  
<span class="udiff-line-modified-removed">-                 TableColumn aColumn = getColumnModel().getColumn(column);</span>
<span class="udiff-line-modified-removed">-                 TableCellRenderer renderer = aColumn.getCellRenderer();</span>
<span class="udiff-line-modified-removed">-                 if (renderer == null) {</span>
<span class="udiff-line-modified-removed">-                     Class&lt;?&gt; columnClass = getColumnClass(column);</span>
<span class="udiff-line-modified-removed">-                     renderer = getDefaultRenderer(columnClass);</span>
<span class="udiff-line-modified-added">+                 if (row == getEditingRow() &amp;&amp; column == getEditingColumn()) {</span>
<span class="udiff-line-modified-added">+                     Component editor = getEditorComponent();</span>
<span class="udiff-line-modified-added">+                     if (editor instanceof Accessible) {</span>
<span class="udiff-line-modified-added">+                         return (Accessible) editor;</span>
<span class="udiff-line-modified-added">+                     }</span>
                  }
<span class="udiff-line-removed">-                 Component component = renderer.getTableCellRendererComponent(</span>
<span class="udiff-line-removed">-                                   JTable.this, null, false, false,</span>
<span class="udiff-line-removed">-                                   row, column);</span>
                  return new AccessibleJTableCell(JTable.this, row, column,
                        getAccessibleIndexAt(row, column));
              }
          }
  
</pre>
<center><a href="JScrollPane.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="SizeSequence.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>