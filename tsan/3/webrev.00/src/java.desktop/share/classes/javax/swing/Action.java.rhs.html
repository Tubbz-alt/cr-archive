<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/java.desktop/share/classes/javax/swing/Action.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /*
  2  * Copyright (c) 1997, 2017, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 package javax.swing;
 26 
 27 import java.awt.*;
 28 import java.awt.event.*;
 29 import java.beans.*;
 30 
 31 /**
 32  * The &lt;code&gt;Action&lt;/code&gt; interface provides a useful extension to the
 33  * &lt;code&gt;ActionListener&lt;/code&gt;
 34  * interface in cases where the same functionality may be accessed by
 35  * several controls.
 36  * &lt;p&gt;
 37  * In addition to the &lt;code&gt;actionPerformed&lt;/code&gt; method defined by the
 38  * &lt;code&gt;ActionListener&lt;/code&gt; interface, this interface allows the
 39  * application to define, in a single place:
 40  * &lt;ul&gt;
 41  * &lt;li&gt;One or more text strings that describe the function. These strings
 42  *     can be used, for example, to display the flyover text for a button
 43  *     or to set the text in a menu item.
 44  * &lt;li&gt;One or more icons that depict the function. These icons can be used
 45  *     for the images in a menu control, or for composite entries in a more
 46  *     sophisticated user interface.
 47  * &lt;li&gt;The enabled/disabled state of the functionality. Instead of having
 48  *     to separately disable the menu item and the toolbar button, the
 49  *     application can disable the function that implements this interface.
 50  *     All components which are registered as listeners for the state change
 51  *     then know to disable event generation for that item and to modify the
 52  *     display accordingly.
 53  * &lt;/ul&gt;
 54  * &lt;p&gt;
 55  * This interface can be added to an existing class or used to create an
 56  * adapter (typically, by subclassing &lt;code&gt;AbstractAction&lt;/code&gt;).
 57  * The &lt;code&gt;Action&lt;/code&gt; object
 58  * can then be added to multiple &lt;code&gt;Action&lt;/code&gt;-aware containers
 59  * and connected to &lt;code&gt;Action&lt;/code&gt;-capable
 60  * components. The GUI controls can then be activated or
 61  * deactivated all at once by invoking the &lt;code&gt;Action&lt;/code&gt; object&#39;s
 62  * &lt;code&gt;setEnabled&lt;/code&gt; method.
 63  * &lt;p&gt;
 64  * Note that &lt;code&gt;Action&lt;/code&gt; implementations tend to be more expensive
 65  * in terms of storage than a typical &lt;code&gt;ActionListener&lt;/code&gt;,
 66  * which does not offer the benefits of centralized control of
 67  * functionality and broadcast of property changes.  For this reason,
 68  * you should take care to only use &lt;code&gt;Action&lt;/code&gt;s where their benefits
 69  * are desired, and use simple &lt;code&gt;ActionListener&lt;/code&gt;s elsewhere.
 70  * &lt;br&gt;
 71  *
<a name="1" id="anc1"></a><span class="line-modified"> 72  * &lt;h2&gt;&lt;a id=&quot;buttonActions&quot;&gt;&lt;/a&gt;Swing Components Supporting &lt;code&gt;Action&lt;/code&gt;&lt;/h2&gt;</span>
 73  * &lt;p&gt;
 74  * Many of Swing&#39;s components have an &lt;code&gt;Action&lt;/code&gt; property.  When
 75  * an &lt;code&gt;Action&lt;/code&gt; is set on a component, the following things
 76  * happen:
 77  * &lt;ul&gt;
 78  * &lt;li&gt;The &lt;code&gt;Action&lt;/code&gt; is added as an &lt;code&gt;ActionListener&lt;/code&gt; to
 79  *     the component.
 80  * &lt;li&gt;The component configures some of its properties to match the
 81  *      &lt;code&gt;Action&lt;/code&gt;.
 82  * &lt;li&gt;The component installs a &lt;code&gt;PropertyChangeListener&lt;/code&gt; on the
 83  *     &lt;code&gt;Action&lt;/code&gt; so that the component can change its properties
 84  *     to reflect changes in the &lt;code&gt;Action&lt;/code&gt;&#39;s properties.
 85  * &lt;/ul&gt;
 86  * &lt;p&gt;
 87  * The following table describes the properties used by
 88  * &lt;code&gt;Swing&lt;/code&gt; components that support &lt;code&gt;Actions&lt;/code&gt;.
 89  * In the table, &lt;em&gt;button&lt;/em&gt; refers to any
 90  * &lt;code&gt;AbstractButton&lt;/code&gt; subclass, which includes not only
 91  * &lt;code&gt;JButton&lt;/code&gt; but also classes such as
 92  * &lt;code&gt;JMenuItem&lt;/code&gt;. Unless otherwise stated, a
 93  * &lt;code&gt;null&lt;/code&gt; property value in an &lt;code&gt;Action&lt;/code&gt; (or a
 94  * &lt;code&gt;Action&lt;/code&gt; that is &lt;code&gt;null&lt;/code&gt;) results in the
 95  * button&#39;s corresponding property being set to &lt;code&gt;null&lt;/code&gt;.
 96  *
 97  * &lt;table class=&quot;striped&quot;&gt;
 98  * &lt;caption&gt;Supported Action properties&lt;/caption&gt;
 99  * &lt;thead&gt;
100  *  &lt;tr&gt;
101  *    &lt;th scope=&quot;col&quot;&gt;Component Property
102  *    &lt;th scope=&quot;col&quot;&gt;Components
103  *    &lt;th scope=&quot;col&quot;&gt;Action Key
104  *    &lt;th scope=&quot;col&quot;&gt;Notes
105  * &lt;/thead&gt;
106  * &lt;tbody&gt;
107  *  &lt;tr&gt;
108  *    &lt;th scope=&quot;row&quot;&gt;{@code enabled}
109  *    &lt;td&gt;All
110  *    &lt;td&gt;The {@code isEnabled} method
111  *    &lt;td&gt;&amp;nbsp;
112  *  &lt;tr&gt;
113  *    &lt;th scope=&quot;row&quot;&gt;{@code toolTipText}
114  *    &lt;td&gt;All
115  *    &lt;td&gt;{@code SHORT_DESCRIPTION}
116  *    &lt;td&gt;&amp;nbsp;
117  *  &lt;tr&gt;
118  *    &lt;th scope=&quot;row&quot;&gt;{@code actionCommand}
119  *    &lt;td&gt;All
120  *    &lt;td&gt;{@code ACTION_COMMAND_KEY}
121  *    &lt;td&gt;&amp;nbsp;
122  *  &lt;tr&gt;
123  *    &lt;th scope=&quot;row&quot;&gt;{@code mnemonic}
124  *    &lt;td&gt;All buttons
125  *    &lt;td&gt;{@code MNEMONIC_KEY}
126  *    &lt;td&gt;A {@code null} value or {@code Action} results in the button&#39;s
127  *    {@code mnemonic} property being set to {@code &#39;\0&#39;}.
128  *  &lt;tr&gt;
129  *    &lt;th scope=&quot;row&quot;&gt;{@code text}
130  *    &lt;td&gt;All buttons
131  *    &lt;td&gt;{@code NAME}
132  *    &lt;td&gt;If you do not want the text of the button to mirror that of the
133  *    {@code Action}, set the property {@code hideActionText} to {@code true}.
134  *    If {@code hideActionText} is {@code true}, setting the {@code Action}
135  *    changes the text of the button to {@code null} and any changes to
136  *    {@code NAME} are ignored. {@code hideActionText} is useful for tool bar
137  *    buttons that typically only show an {@code Icon}.
138  *    {@code JToolBar.add(Action)} sets the property to {@code true} if the
139  *    {@code Action} has a non-{@code null} value for {@code LARGE_ICON_KEY} or
140  *    {@code SMALL_ICON}.
141  *  &lt;tr&gt;
142  *    &lt;th scope=&quot;row&quot;&gt;{@code displayedMnemonicIndex}
143  *    &lt;td&gt;All buttons
144  *    &lt;td&gt;{@code DISPLAYED_MNEMONIC_INDEX_KEY}
145  *    &lt;td&gt;If the value of {@code DISPLAYED_MNEMONIC_INDEX_KEY} is beyond the
146  *    bounds of the text, it is ignored. When {@code setAction} is called, if
147  *    the value from the {@code Action} is {@code null}, the displayed mnemonic
148  *    index is not updated. In any subsequent changes to
149  *    {@code DISPLAYED_MNEMONIC_INDEX_KEY}, {@code null} is treated as -1.
150  *  &lt;tr&gt;
151  *    &lt;th scope=&quot;row&quot;&gt;{@code icon}
152  *    &lt;td&gt;All buttons except of {@code JCheckBox}, {@code JToggleButton} and
153  *    {@code JRadioButton}.
154  *    &lt;td&gt;either {@code LARGE_ICON_KEY} or {@code SMALL_ICON}
155  *    &lt;td&gt;The {@code JMenuItem} subclasses only use {@code SMALL_ICON}. All
156  *    other buttons will use {@code LARGE_ICON_KEY}; if the value is
157  *    {@code null} they use {@code SMALL_ICON}.
158  *  &lt;tr&gt;
159  *    &lt;th scope=&quot;row&quot;&gt;{@code accelerator}
160  *    &lt;td&gt;All {@code JMenuItem} subclasses, with the exception of {@code JMenu}.
161  *    &lt;td&gt;{@code ACCELERATOR_KEY}
162  *    &lt;td&gt;&amp;nbsp;
163  *  &lt;tr&gt;
164  *    &lt;th scope=&quot;row&quot;&gt;{@code selected}
165  *    &lt;td&gt;{@code JToggleButton}, {@code JCheckBox}, {@code JRadioButton},
166  *    {@code JCheckBoxMenuItem} and {@code JRadioButtonMenuItem}
167  *    &lt;td&gt;{@code SELECTED_KEY}
168  *    &lt;td&gt;Components that honor this property only use the value if it is
169  *    {@code non-null}. For example, if you set an {@code Action} that has a
170  *    {@code null} value for {@code SELECTED_KEY} on a {@code JToggleButton},
171  *    the {@code JToggleButton} will not update it&#39;s selected state in any way.
172  *    Similarly, any time the {@code JToggleButton}&#39;s selected state changes it
173  *    will only set the value back on the {@code Action} if the {@code Action}
174  *    has a {@code non-null} value for {@code SELECTED_KEY}.
175  *    &lt;br&gt;
176  *    Components that honor this property keep their selected state in sync with
177  *    this property. When the same {@code Action} is used with multiple
178  *    components, all the components keep their selected state in sync with this
179  *    property. Mutually exclusive buttons, such as {@code JToggleButton}s in a
180  *    {@code ButtonGroup}, force only one of the buttons to be selected. As
181  *    such, do not use the same {@code Action} that defines a value for the
182  *    {@code SELECTED_KEY} property with multiple mutually exclusive buttons.
183  * &lt;/tbody&gt;
184  * &lt;/table&gt;
185  * &lt;p&gt;
186  * &lt;code&gt;JPopupMenu&lt;/code&gt;, &lt;code&gt;JToolBar&lt;/code&gt; and &lt;code&gt;JMenu&lt;/code&gt;
187  * all provide convenience methods for creating a component and setting the
188  * &lt;code&gt;Action&lt;/code&gt; on the corresponding component.  Refer to each of
189  * these classes for more information.
190  * &lt;p&gt;
191  * &lt;code&gt;Action&lt;/code&gt; uses &lt;code&gt;PropertyChangeListener&lt;/code&gt; to
192  * inform listeners the &lt;code&gt;Action&lt;/code&gt; has changed.  The beans
193  * specification indicates that a &lt;code&gt;null&lt;/code&gt; property name can
194  * be used to indicate multiple values have changed.  By default Swing
195  * components that take an &lt;code&gt;Action&lt;/code&gt; do not handle such a
196  * change.  To indicate that Swing should treat &lt;code&gt;null&lt;/code&gt;
197  * according to the beans specification set the system property
198  * &lt;code&gt;swing.actions.reconfigureOnNull&lt;/code&gt; to the &lt;code&gt;String&lt;/code&gt;
199  * value &lt;code&gt;true&lt;/code&gt;.
200  *
201  * @author Georges Saab
202  * @see AbstractAction
203  * @since 1.2
204  */
205 public interface Action extends ActionListener {
206     /**
207      * Useful constants that can be used as the storage-retrieval key
208      * when setting or getting one of this object&#39;s properties (text
209      * or icon).
210      */
211     /**
212      * Not currently used.
213      */
214     public static final String DEFAULT = &quot;Default&quot;;
215     /**
216      * The key used for storing the &lt;code&gt;String&lt;/code&gt; name
217      * for the action, used for a menu or button.
218      */
219     public static final String NAME = &quot;Name&quot;;
220     /**
221      * The key used for storing a short &lt;code&gt;String&lt;/code&gt;
222      * description for the action, used for tooltip text.
223      */
224     public static final String SHORT_DESCRIPTION = &quot;ShortDescription&quot;;
225     /**
226      * The key used for storing a longer &lt;code&gt;String&lt;/code&gt;
227      * description for the action, could be used for context-sensitive help.
228      */
229     public static final String LONG_DESCRIPTION = &quot;LongDescription&quot;;
230     /**
231      * The key used for storing a small &lt;code&gt;Icon&lt;/code&gt;, such
232      * as &lt;code&gt;ImageIcon&lt;/code&gt;.  This is typically used with
233      * menus such as &lt;code&gt;JMenuItem&lt;/code&gt;.
234      * &lt;p&gt;
235      * If the same &lt;code&gt;Action&lt;/code&gt; is used with menus and buttons you&#39;ll
236      * typically specify both a &lt;code&gt;SMALL_ICON&lt;/code&gt; and a
237      * &lt;code&gt;LARGE_ICON_KEY&lt;/code&gt;.  The menu will use the
238      * &lt;code&gt;SMALL_ICON&lt;/code&gt; and the button will use the
239      * &lt;code&gt;LARGE_ICON_KEY&lt;/code&gt;.
240      */
241     public static final String SMALL_ICON = &quot;SmallIcon&quot;;
242 
243     /**
244      * The key used to determine the command &lt;code&gt;String&lt;/code&gt; for the
245      * &lt;code&gt;ActionEvent&lt;/code&gt; that will be created when an
246      * &lt;code&gt;Action&lt;/code&gt; is going to be notified as the result of
247      * residing in a &lt;code&gt;Keymap&lt;/code&gt; associated with a
248      * &lt;code&gt;JComponent&lt;/code&gt;.
249      */
250     public static final String ACTION_COMMAND_KEY = &quot;ActionCommandKey&quot;;
251 
252     /**
253      * The key used for storing a &lt;code&gt;KeyStroke&lt;/code&gt; to be used as the
254      * accelerator for the action.
255      *
256      * @since 1.3
257      */
258     public static final String ACCELERATOR_KEY=&quot;AcceleratorKey&quot;;
259 
260     /**
261      * The key used for storing an &lt;code&gt;Integer&lt;/code&gt; that corresponds to
262      * one of the &lt;code&gt;KeyEvent&lt;/code&gt; key codes.  The value is
263      * commonly used to specify a mnemonic.  For example:
264      * &lt;code&gt;myAction.putValue(Action.MNEMONIC_KEY, KeyEvent.VK_A)&lt;/code&gt;
265      * sets the mnemonic of &lt;code&gt;myAction&lt;/code&gt; to &#39;a&#39;, while
266      * &lt;code&gt;myAction.putValue(Action.MNEMONIC_KEY, KeyEvent.getExtendedKeyCodeForChar(&#39;\u0444&#39;))&lt;/code&gt;
267      * sets the mnemonic of &lt;code&gt;myAction&lt;/code&gt; to Cyrillic letter &quot;Ef&quot;.
268      *
269      * @since 1.3
270      */
271     public static final String MNEMONIC_KEY=&quot;MnemonicKey&quot;;
272 
273     /**
274      * The key used for storing a &lt;code&gt;Boolean&lt;/code&gt; that corresponds
275      * to the selected state.  This is typically used only for components
276      * that have a meaningful selection state.  For example,
277      * &lt;code&gt;JRadioButton&lt;/code&gt; and &lt;code&gt;JCheckBox&lt;/code&gt; make use of
278      * this but instances of &lt;code&gt;JMenu&lt;/code&gt; don&#39;t.
279      * &lt;p&gt;
280      * This property differs from the others in that it is both read
281      * by the component and set by the component.  For example,
282      * if an &lt;code&gt;Action&lt;/code&gt; is attached to a &lt;code&gt;JCheckBox&lt;/code&gt;
283      * the selected state of the &lt;code&gt;JCheckBox&lt;/code&gt; will be set from
284      * that of the &lt;code&gt;Action&lt;/code&gt;.  If the user clicks on the
285      * &lt;code&gt;JCheckBox&lt;/code&gt; the selected state of the &lt;code&gt;JCheckBox&lt;/code&gt;
286      * &lt;b&gt;and&lt;/b&gt; the &lt;code&gt;Action&lt;/code&gt; will &lt;b&gt;both&lt;/b&gt; be updated.
287      * &lt;p&gt;
288      * Note: the value of this field is prefixed with &#39;Swing&#39; to
289      * avoid possible collisions with existing &lt;code&gt;Actions&lt;/code&gt;.
290      *
291      * @since 1.6
292      */
293     public static final String SELECTED_KEY = &quot;SwingSelectedKey&quot;;
294 
295     /**
296      * The key used for storing an &lt;code&gt;Integer&lt;/code&gt; that corresponds
297      * to the index in the text (identified by the &lt;code&gt;NAME&lt;/code&gt;
298      * property) that the decoration for a mnemonic should be rendered at.  If
299      * the value of this property is greater than or equal to the length of
300      * the text, it will treated as -1.
301      * &lt;p&gt;
302      * Note: the value of this field is prefixed with &#39;Swing&#39; to
303      * avoid possible collisions with existing &lt;code&gt;Actions&lt;/code&gt;.
304      *
305      * @see AbstractButton#setDisplayedMnemonicIndex
306      * @since 1.6
307      */
308     public static final String DISPLAYED_MNEMONIC_INDEX_KEY =
309                                  &quot;SwingDisplayedMnemonicIndexKey&quot;;
310 
311     /**
312      * The key used for storing an &lt;code&gt;Icon&lt;/code&gt;.  This is typically
313      * used by buttons, such as &lt;code&gt;JButton&lt;/code&gt; and
314      * &lt;code&gt;JToggleButton&lt;/code&gt;.
315      * &lt;p&gt;
316      * If the same &lt;code&gt;Action&lt;/code&gt; is used with menus and buttons you&#39;ll
317      * typically specify both a &lt;code&gt;SMALL_ICON&lt;/code&gt; and a
318      * &lt;code&gt;LARGE_ICON_KEY&lt;/code&gt;.  The menu will use the
319      * &lt;code&gt;SMALL_ICON&lt;/code&gt; and the button the &lt;code&gt;LARGE_ICON_KEY&lt;/code&gt;.
320      * &lt;p&gt;
321      * Note: the value of this field is prefixed with &#39;Swing&#39; to
322      * avoid possible collisions with existing &lt;code&gt;Actions&lt;/code&gt;.
323      *
324      * @since 1.6
325      */
326     public static final String LARGE_ICON_KEY = &quot;SwingLargeIconKey&quot;;
327 
328     /**
329      * Gets one of this object&#39;s properties
330      * using the associated key.
331      *
332      * @param key a {@code String} containing the key
333      * @return the {@code Object} value
334      * @see #putValue
335      */
336     public Object getValue(String key);
337     /**
338      * Sets one of this object&#39;s properties
339      * using the associated key. If the value has
340      * changed, a &lt;code&gt;PropertyChangeEvent&lt;/code&gt; is sent
341      * to listeners.
342      *
343      * @param key    a &lt;code&gt;String&lt;/code&gt; containing the key
344      * @param value  an &lt;code&gt;Object&lt;/code&gt; value
345      */
346     public void putValue(String key, Object value);
347 
348     /**
349      * Sets the enabled state of the {@code Action}.  When enabled,
350      * any component associated with this object is active and
351      * able to fire this object&#39;s {@code actionPerformed} method.
352      * If the value has changed, a {@code PropertyChangeEvent} is sent
353      * to listeners.
354      *
355      * @param  b true to enable this {@code Action}, false to disable it
356      * @see #accept
357      */
358     public void setEnabled(boolean b);
359     /**
360      * Returns the enabled state of the {@code Action}. When enabled,
361      * any component associated with this object is active and
362      * able to fire this object&#39;s {@code actionPerformed} method.
363      *
364      * @return true if this {@code Action} is enabled
365      * @see #accept
366      */
367     public boolean isEnabled();
368 
369     /**
370      * Determines whether the action should be performed with the specified
371      * sender object. The {@code sender} can be {@code null}.
372      * The method must return false if the action is disabled.
373      *
374      * @param sender the object to check, can be null
375      * @return {@code true} if the action should be performed with the sender
376      *         object, must be false if the action is disabled.
377      * @see #isEnabled
378      * @see #setEnabled
379      */
380     default boolean accept(Object sender) {
381         return isEnabled();
382     }
383 
384     /**
385      * Adds a &lt;code&gt;PropertyChange&lt;/code&gt; listener. Containers and attached
386      * components use these methods to register interest in this
387      * &lt;code&gt;Action&lt;/code&gt; object. When its enabled state or other property
388      * changes, the registered listeners are informed of the change.
389      *
390      * @param listener  a &lt;code&gt;PropertyChangeListener&lt;/code&gt; object
391      */
392     public void addPropertyChangeListener(PropertyChangeListener listener);
393     /**
394      * Removes a &lt;code&gt;PropertyChange&lt;/code&gt; listener.
395      *
396      * @param listener  a &lt;code&gt;PropertyChangeListener&lt;/code&gt; object
397      * @see #addPropertyChangeListener
398      */
399     public void removePropertyChangeListener(PropertyChangeListener listener);
400 
401 }
<a name="2" id="anc2"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="2" type="hidden" />
</body>
</html>