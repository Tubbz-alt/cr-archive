<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.desktop/share/native/libfontmanager/harfbuzz/hb-ot-shape-complex-myanmar-machine.hh</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="hb-ot-shape-complex-khmer.cc.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="hb-ot-shape-complex-myanmar.cc.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfontmanager/harfbuzz/hb-ot-shape-complex-myanmar-machine.hh</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -27,11 +27,11 @@</span>
   */
  
  #ifndef HB_OT_SHAPE_COMPLEX_MYANMAR_MACHINE_HH
  #define HB_OT_SHAPE_COMPLEX_MYANMAR_MACHINE_HH
  
<span class="udiff-line-modified-removed">- #include &quot;hb-private.hh&quot;</span>
<span class="udiff-line-modified-added">+ #include &quot;hb.hh&quot;</span>
  
  
  #line 36 &quot;hb-ot-shape-complex-myanmar-machine.hh&quot;
  static const unsigned char _myanmar_syllable_machine_trans_keys[] = {
          1u, 32u, 3u, 30u, 5u, 29u, 5u, 8u, 5u, 29u, 3u, 25u, 5u, 25u, 5u, 25u,
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -281,43 +281,41 @@</span>
  #line 94 &quot;hb-ot-shape-complex-myanmar-machine.rl&quot;
  
  
  #define found_syllable(syllable_type) \
    HB_STMT_START { \
<span class="udiff-line-modified-removed">-     if (0) fprintf (stderr, &quot;syllable %d..%d %s\n&quot;, last, p+1, #syllable_type); \</span>
<span class="udiff-line-modified-removed">-     for (unsigned int i = last; i &lt; p+1; i++) \</span>
<span class="udiff-line-modified-added">+     if (0) fprintf (stderr, &quot;syllable %d..%d %s\n&quot;, ts, te, #syllable_type); \</span>
<span class="udiff-line-modified-added">+     for (unsigned int i = ts; i &lt; te; i++) \</span>
        info[i].syllable() = (syllable_serial &lt;&lt; 4) | syllable_type; \
<span class="udiff-line-removed">-     last = p+1; \</span>
      syllable_serial++; \
      if (unlikely (syllable_serial == 16)) syllable_serial = 1; \
    } HB_STMT_END
  
  static void
  find_syllables (hb_buffer_t *buffer)
  {
<span class="udiff-line-modified-removed">-   unsigned int p, pe, eof, ts HB_UNUSED, te HB_UNUSED, act HB_UNUSED;</span>
<span class="udiff-line-modified-added">+   unsigned int p, pe, eof, ts, te, act HB_UNUSED;</span>
    int cs;
    hb_glyph_info_t *info = buffer-&gt;info;
  
<span class="udiff-line-modified-removed">- #line 302 &quot;hb-ot-shape-complex-myanmar-machine.hh&quot;</span>
<span class="udiff-line-modified-added">+ #line 301 &quot;hb-ot-shape-complex-myanmar-machine.hh&quot;</span>
          {
          cs = myanmar_syllable_machine_start;
          ts = 0;
          te = 0;
          act = 0;
          }
  
<span class="udiff-line-modified-removed">- #line 115 &quot;hb-ot-shape-complex-myanmar-machine.rl&quot;</span>
<span class="udiff-line-modified-added">+ #line 114 &quot;hb-ot-shape-complex-myanmar-machine.rl&quot;</span>
  
  
    p = 0;
    pe = eof = buffer-&gt;len;
  
<span class="udiff-line-removed">-   unsigned int last = 0;</span>
    unsigned int syllable_serial = 1;
  
<span class="udiff-line-modified-removed">- #line 319 &quot;hb-ot-shape-complex-myanmar-machine.hh&quot;</span>
<span class="udiff-line-modified-added">+ #line 317 &quot;hb-ot-shape-complex-myanmar-machine.hh&quot;</span>
          {
          int _slen;
          int _trans;
          const unsigned char *_keys;
          const char *_inds;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -327,11 +325,11 @@</span>
          switch ( _myanmar_syllable_machine_from_state_actions[cs] ) {
          case 2:
  #line 1 &quot;NONE&quot;
          {ts = p;}
          break;
<span class="udiff-line-modified-removed">- #line 333 &quot;hb-ot-shape-complex-myanmar-machine.hh&quot;</span>
<span class="udiff-line-modified-added">+ #line 331 &quot;hb-ot-shape-complex-myanmar-machine.hh&quot;</span>
          }
  
          _keys = _myanmar_syllable_machine_trans_keys + (cs&lt;&lt;1);
          _inds = _myanmar_syllable_machine_indicies + _myanmar_syllable_machine_index_offsets[cs];
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -377,20 +375,20 @@</span>
          break;
          case 9:
  #line 90 &quot;hb-ot-shape-complex-myanmar-machine.rl&quot;
          {te = p;p--;{ found_syllable (non_myanmar_cluster); }}
          break;
<span class="udiff-line-modified-removed">- #line 383 &quot;hb-ot-shape-complex-myanmar-machine.hh&quot;</span>
<span class="udiff-line-modified-added">+ #line 381 &quot;hb-ot-shape-complex-myanmar-machine.hh&quot;</span>
          }
  
  _again:
          switch ( _myanmar_syllable_machine_to_state_actions[cs] ) {
          case 1:
  #line 1 &quot;NONE&quot;
          {ts = 0;}
          break;
<span class="udiff-line-modified-removed">- #line 392 &quot;hb-ot-shape-complex-myanmar-machine.hh&quot;</span>
<span class="udiff-line-modified-added">+ #line 390 &quot;hb-ot-shape-complex-myanmar-machine.hh&quot;</span>
          }
  
          if ( ++p != pe )
                  goto _resume;
          _test_eof: {}
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -402,11 +400,11 @@</span>
          }
          }
  
          }
  
<span class="udiff-line-modified-removed">- #line 124 &quot;hb-ot-shape-complex-myanmar-machine.rl&quot;</span>
<span class="udiff-line-modified-added">+ #line 122 &quot;hb-ot-shape-complex-myanmar-machine.rl&quot;</span>
  
  }
  
  #undef found_syllable
  
</pre>
<center><a href="hb-ot-shape-complex-khmer.cc.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="hb-ot-shape-complex-myanmar.cc.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>