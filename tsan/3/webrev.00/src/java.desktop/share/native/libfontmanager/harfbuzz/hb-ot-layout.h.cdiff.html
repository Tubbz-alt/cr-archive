<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.desktop/share/native/libfontmanager/harfbuzz/hb-ot-layout.h</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="hb-ot-layout.cc.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="hb-ot-map.cc.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfontmanager/harfbuzz/hb-ot-layout.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 31,11 ***</span>
  #ifndef HB_OT_LAYOUT_H
  #define HB_OT_LAYOUT_H
  
  #include &quot;hb.h&quot;
  
<span class="line-modified">! #include &quot;hb-ot-tag.h&quot;</span>
  
  HB_BEGIN_DECLS
  
  
  #define HB_OT_TAG_BASE HB_TAG(&#39;B&#39;,&#39;A&#39;,&#39;S&#39;,&#39;E&#39;)
<span class="line-new-header">--- 31,11 ---</span>
  #ifndef HB_OT_LAYOUT_H
  #define HB_OT_LAYOUT_H
  
  #include &quot;hb.h&quot;
  
<span class="line-modified">! #include &quot;hb-ot-name.h&quot;</span>
  
  HB_BEGIN_DECLS
  
  
  #define HB_OT_TAG_BASE HB_TAG(&#39;B&#39;,&#39;A&#39;,&#39;S&#39;,&#39;E&#39;)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 43,10 ***</span>
<span class="line-new-header">--- 43,51 ---</span>
  #define HB_OT_TAG_GSUB HB_TAG(&#39;G&#39;,&#39;S&#39;,&#39;U&#39;,&#39;B&#39;)
  #define HB_OT_TAG_GPOS HB_TAG(&#39;G&#39;,&#39;P&#39;,&#39;O&#39;,&#39;S&#39;)
  #define HB_OT_TAG_JSTF HB_TAG(&#39;J&#39;,&#39;S&#39;,&#39;T&#39;,&#39;F&#39;)
  
  
<span class="line-added">+ /*</span>
<span class="line-added">+  * Script &amp; Language tags.</span>
<span class="line-added">+  */</span>
<span class="line-added">+ </span>
<span class="line-added">+ #define HB_OT_TAG_DEFAULT_SCRIPT        HB_TAG (&#39;D&#39;, &#39;F&#39;, &#39;L&#39;, &#39;T&#39;)</span>
<span class="line-added">+ #define HB_OT_TAG_DEFAULT_LANGUAGE      HB_TAG (&#39;d&#39;, &#39;f&#39;, &#39;l&#39;, &#39;t&#39;)</span>
<span class="line-added">+ </span>
<span class="line-added">+ /**</span>
<span class="line-added">+  * HB_OT_MAX_TAGS_PER_SCRIPT:</span>
<span class="line-added">+  *</span>
<span class="line-added">+  * Since: 2.0.0</span>
<span class="line-added">+  **/</span>
<span class="line-added">+ #define HB_OT_MAX_TAGS_PER_SCRIPT       3u</span>
<span class="line-added">+ /**</span>
<span class="line-added">+  * HB_OT_MAX_TAGS_PER_LANGUAGE:</span>
<span class="line-added">+  *</span>
<span class="line-added">+  * Since: 2.0.0</span>
<span class="line-added">+  **/</span>
<span class="line-added">+ #define HB_OT_MAX_TAGS_PER_LANGUAGE     3u</span>
<span class="line-added">+ </span>
<span class="line-added">+ HB_EXTERN void</span>
<span class="line-added">+ hb_ot_tags_from_script_and_language (hb_script_t   script,</span>
<span class="line-added">+                                      hb_language_t language,</span>
<span class="line-added">+                                      unsigned int *script_count /* IN/OUT */,</span>
<span class="line-added">+                                      hb_tag_t     *script_tags /* OUT */,</span>
<span class="line-added">+                                      unsigned int *language_count /* IN/OUT */,</span>
<span class="line-added">+                                      hb_tag_t     *language_tags /* OUT */);</span>
<span class="line-added">+ </span>
<span class="line-added">+ HB_EXTERN hb_script_t</span>
<span class="line-added">+ hb_ot_tag_to_script (hb_tag_t tag);</span>
<span class="line-added">+ </span>
<span class="line-added">+ HB_EXTERN hb_language_t</span>
<span class="line-added">+ hb_ot_tag_to_language (hb_tag_t tag);</span>
<span class="line-added">+ </span>
<span class="line-added">+ HB_EXTERN void</span>
<span class="line-added">+ hb_ot_tags_to_script_and_language (hb_tag_t       script_tag,</span>
<span class="line-added">+                                    hb_tag_t       language_tag,</span>
<span class="line-added">+                                    hb_script_t   *script /* OUT */,</span>
<span class="line-added">+                                    hb_language_t *language /* OUT */);</span>
<span class="line-added">+ </span>
<span class="line-added">+ </span>
  /*
   * GDEF
   */
  
  HB_EXTERN hb_bool_t
</pre>
<hr />
<pre>
<span class="line-old-header">*** 109,17 ***</span>
  hb_ot_layout_table_find_script (hb_face_t    *face,
                                  hb_tag_t      table_tag,
                                  hb_tag_t      script_tag,
                                  unsigned int *script_index);
  
<span class="line-removed">- /* Like find_script, but takes zero-terminated array of scripts to test */</span>
  HB_EXTERN hb_bool_t
<span class="line-modified">! hb_ot_layout_table_choose_script (hb_face_t      *face,</span>
                                    hb_tag_t        table_tag,
                                    const hb_tag_t *script_tags,
<span class="line-modified">!                                   unsigned int   *script_index,</span>
<span class="line-modified">!                                   hb_tag_t       *chosen_script);</span>
  
  HB_EXTERN unsigned int
  hb_ot_layout_table_get_feature_tags (hb_face_t    *face,
                                       hb_tag_t      table_tag,
                                       unsigned int  start_offset,
<span class="line-new-header">--- 150,17 ---</span>
  hb_ot_layout_table_find_script (hb_face_t    *face,
                                  hb_tag_t      table_tag,
                                  hb_tag_t      script_tag,
                                  unsigned int *script_index);
  
  HB_EXTERN hb_bool_t
<span class="line-modified">! hb_ot_layout_table_select_script (hb_face_t      *face,</span>
                                    hb_tag_t        table_tag,
<span class="line-added">+                                   unsigned int    script_count,</span>
                                    const hb_tag_t *script_tags,
<span class="line-modified">!                                   unsigned int   *script_index /* OUT */,</span>
<span class="line-modified">!                                   hb_tag_t       *chosen_script /* OUT */);</span>
  
  HB_EXTERN unsigned int
  hb_ot_layout_table_get_feature_tags (hb_face_t    *face,
                                       hb_tag_t      table_tag,
                                       unsigned int  start_offset,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 133,15 ***</span>
                                         unsigned int  start_offset,
                                         unsigned int *language_count /* IN/OUT */,
                                         hb_tag_t     *language_tags /* OUT */);
  
  HB_EXTERN hb_bool_t
<span class="line-modified">! hb_ot_layout_script_find_language (hb_face_t    *face,</span>
<span class="line-modified">!                                    hb_tag_t      table_tag,</span>
<span class="line-modified">!                                    unsigned int  script_index,</span>
<span class="line-modified">!                                    hb_tag_t      language_tag,</span>
<span class="line-modified">!                                    unsigned int *language_index);</span>
  
  HB_EXTERN hb_bool_t
  hb_ot_layout_language_get_required_feature_index (hb_face_t    *face,
                                                    hb_tag_t      table_tag,
                                                    unsigned int  script_index,
<span class="line-new-header">--- 174,16 ---</span>
                                         unsigned int  start_offset,
                                         unsigned int *language_count /* IN/OUT */,
                                         hb_tag_t     *language_tags /* OUT */);
  
  HB_EXTERN hb_bool_t
<span class="line-modified">! hb_ot_layout_script_select_language (hb_face_t      *face,</span>
<span class="line-modified">!                                      hb_tag_t        table_tag,</span>
<span class="line-modified">!                                      unsigned int    script_index,</span>
<span class="line-modified">!                                      unsigned int    language_count,</span>
<span class="line-modified">!                                      const hb_tag_t *language_tags,</span>
<span class="line-added">+                                      unsigned int   *language_index /* OUT */);</span>
  
  HB_EXTERN hb_bool_t
  hb_ot_layout_language_get_required_feature_index (hb_face_t    *face,
                                                    hb_tag_t      table_tag,
                                                    unsigned int  script_index,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 192,10 ***</span>
<span class="line-new-header">--- 234,17 ---</span>
  
  HB_EXTERN unsigned int
  hb_ot_layout_table_get_lookup_count (hb_face_t    *face,
                                       hb_tag_t      table_tag);
  
<span class="line-added">+ HB_EXTERN void</span>
<span class="line-added">+ hb_ot_layout_collect_features (hb_face_t      *face,</span>
<span class="line-added">+                                hb_tag_t        table_tag,</span>
<span class="line-added">+                                const hb_tag_t *scripts,</span>
<span class="line-added">+                                const hb_tag_t *languages,</span>
<span class="line-added">+                                const hb_tag_t *features,</span>
<span class="line-added">+                                hb_set_t       *feature_indexes /* OUT */);</span>
  
  HB_EXTERN void
  hb_ot_layout_collect_lookups (hb_face_t      *face,
                                hb_tag_t        table_tag,
                                const hb_tag_t *scripts,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 205,14 ***</span>
  
  HB_EXTERN void
  hb_ot_layout_lookup_collect_glyphs (hb_face_t    *face,
                                      hb_tag_t      table_tag,
                                      unsigned int  lookup_index,
<span class="line-modified">!                                     hb_set_t     *glyphs_before, /* OUT. May be NULL */</span>
<span class="line-modified">!                                     hb_set_t     *glyphs_input,  /* OUT. May be NULL */</span>
<span class="line-modified">!                                     hb_set_t     *glyphs_after,  /* OUT. May be NULL */</span>
<span class="line-modified">!                                     hb_set_t     *glyphs_output  /* OUT. May be NULL */);</span>
  
  #ifdef HB_NOT_IMPLEMENTED
  typedef struct
  {
    const hb_codepoint_t *before,
<span class="line-new-header">--- 254,14 ---</span>
  
  HB_EXTERN void
  hb_ot_layout_lookup_collect_glyphs (hb_face_t    *face,
                                      hb_tag_t      table_tag,
                                      unsigned int  lookup_index,
<span class="line-modified">!                                     hb_set_t     *glyphs_before, /* OUT.  May be NULL */</span>
<span class="line-modified">!                                     hb_set_t     *glyphs_input,  /* OUT.  May be NULL */</span>
<span class="line-modified">!                                     hb_set_t     *glyphs_after,  /* OUT.  May be NULL */</span>
<span class="line-modified">!                                     hb_set_t     *glyphs_output  /* OUT.  May be NULL */);</span>
  
  #ifdef HB_NOT_IMPLEMENTED
  typedef struct
  {
    const hb_codepoint_t *before,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 313,32 ***</span>
  #endif
  
  /* Optical &#39;size&#39; feature info.  Returns true if found.
   * https://docs.microsoft.com/en-us/typography/opentype/spec/features_pt#size */
  HB_EXTERN hb_bool_t
<span class="line-modified">! hb_ot_layout_get_size_params (hb_face_t    *face,</span>
<span class="line-modified">!                               unsigned int *design_size,       /* OUT.  May be NULL */</span>
<span class="line-modified">!                               unsigned int *subfamily_id,      /* OUT.  May be NULL */</span>
<span class="line-modified">!                               unsigned int *subfamily_name_id, /* OUT.  May be NULL */</span>
<span class="line-modified">!                               unsigned int *range_start,       /* OUT.  May be NULL */</span>
<span class="line-modified">!                               unsigned int *range_end          /* OUT.  May be NULL */);</span>
<span class="line-removed">- </span>
  
<span class="line-removed">- /*</span>
<span class="line-removed">-  * BASE</span>
<span class="line-removed">-  */</span>
<span class="line-removed">- #if 0</span>
  
<span class="line-modified">! #define HB_OT_TAG_BASE_HANG HB_TAG(&#39;h&#39;,&#39;a&#39;,&#39;n&#39;,&#39;g&#39;)</span>
<span class="line-modified">! #define HB_OT_TAG_BASE_ICFB HB_TAG(&#39;i&#39;,&#39;c&#39;,&#39;f&#39;,&#39;b&#39;)</span>
<span class="line-modified">! #define HB_OT_TAG_BASE_ICFT HB_TAG(&#39;i&#39;,&#39;c&#39;,&#39;f&#39;,&#39;t&#39;)</span>
<span class="line-modified">! #define HB_OT_TAG_BASE_IDEO HB_TAG(&#39;i&#39;,&#39;d&#39;,&#39;e&#39;,&#39;o&#39;)</span>
<span class="line-modified">! #define HB_OT_TAG_BASE_IDTB HB_TAG(&#39;i&#39;,&#39;d&#39;,&#39;t&#39;,&#39;b&#39;)</span>
<span class="line-modified">! #define HB_OT_TAG_BASE_MATH HB_TAG(&#39;m&#39;,&#39;a&#39;,&#39;t&#39;,&#39;h&#39;)</span>
<span class="line-modified">! #define HB_OT_TAG_BASE_ROMN HB_TAG(&#39;r&#39;,&#39;o&#39;,&#39;m&#39;,&#39;n&#39;)</span>
  
<span class="line-removed">- #endif</span>
  
  
  HB_END_DECLS
  
  #endif /* HB_OT_LAYOUT_H */
<span class="line-new-header">--- 362,35 ---</span>
  #endif
  
  /* Optical &#39;size&#39; feature info.  Returns true if found.
   * https://docs.microsoft.com/en-us/typography/opentype/spec/features_pt#size */
  HB_EXTERN hb_bool_t
<span class="line-modified">! hb_ot_layout_get_size_params (hb_face_t       *face,</span>
<span class="line-modified">!                               unsigned int    *design_size,       /* OUT.  May be NULL */</span>
<span class="line-modified">!                               unsigned int    *subfamily_id,      /* OUT.  May be NULL */</span>
<span class="line-modified">!                               hb_ot_name_id_t *subfamily_name_id, /* OUT.  May be NULL */</span>
<span class="line-modified">!                               unsigned int    *range_start,       /* OUT.  May be NULL */</span>
<span class="line-modified">!                               unsigned int    *range_end          /* OUT.  May be NULL */);</span>
  
  
<span class="line-modified">! HB_EXTERN hb_bool_t</span>
<span class="line-modified">! hb_ot_layout_feature_get_name_ids (hb_face_t       *face,</span>
<span class="line-modified">!                                    hb_tag_t         table_tag,</span>
<span class="line-modified">!                                    unsigned int     feature_index,</span>
<span class="line-modified">!                                    hb_ot_name_id_t *label_id             /* OUT.  May be NULL */,</span>
<span class="line-modified">!                                    hb_ot_name_id_t *tooltip_id           /* OUT.  May be NULL */,</span>
<span class="line-modified">!                                    hb_ot_name_id_t *sample_id            /* OUT.  May be NULL */,</span>
<span class="line-added">+                                    unsigned int    *num_named_parameters /* OUT.  May be NULL */,</span>
<span class="line-added">+                                    hb_ot_name_id_t *first_param_id       /* OUT.  May be NULL */);</span>
  
  
<span class="line-added">+ HB_EXTERN unsigned int</span>
<span class="line-added">+ hb_ot_layout_feature_get_characters (hb_face_t      *face,</span>
<span class="line-added">+                                      hb_tag_t        table_tag,</span>
<span class="line-added">+                                      unsigned int    feature_index,</span>
<span class="line-added">+                                      unsigned int    start_offset,</span>
<span class="line-added">+                                      unsigned int   *char_count    /* IN/OUT.  May be NULL */,</span>
<span class="line-added">+                                      hb_codepoint_t *characters    /* OUT.     May be NULL */);</span>
  
  HB_END_DECLS
  
  #endif /* HB_OT_LAYOUT_H */
</pre>
<center><a href="hb-ot-layout.cc.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="hb-ot-map.cc.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>