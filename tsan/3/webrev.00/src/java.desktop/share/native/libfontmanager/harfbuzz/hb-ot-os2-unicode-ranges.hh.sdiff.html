<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/share/native/libfontmanager/harfbuzz/hb-ot-os2-unicode-ranges.hh</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="hb-ot-os2-table.hh.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="hb-ot-post-macroman.hh.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfontmanager/harfbuzz/hb-ot-os2-unicode-ranges.hh</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 10  * all copies of this software.
 11  *
 12  * IN NO EVENT SHALL THE COPYRIGHT HOLDER BE LIABLE TO ANY PARTY FOR
 13  * DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES
 14  * ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN
 15  * IF THE COPYRIGHT HOLDER HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH
 16  * DAMAGE.
 17  *
 18  * THE COPYRIGHT HOLDER SPECIFICALLY DISCLAIMS ANY WARRANTIES, INCLUDING,
 19  * BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
 20  * FITNESS FOR A PARTICULAR PURPOSE.  THE SOFTWARE PROVIDED HEREUNDER IS
 21  * ON AN &quot;AS IS&quot; BASIS, AND THE COPYRIGHT HOLDER HAS NO OBLIGATION TO
 22  * PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS.
 23  *
 24  * Google Author(s): Garret Rieger
 25  */
 26 
 27 #ifndef HB_OT_OS2_UNICODE_RANGES_HH
 28 #define HB_OT_OS2_UNICODE_RANGES_HH
 29 
<span class="line-modified"> 30 #include &quot;hb-private.hh&quot;</span>
<span class="line-removed"> 31 #include &quot;hb-dsalgs.hh&quot;</span>
 32 
 33 namespace OT {
 34 
<span class="line-modified"> 35 struct Range {</span>















 36   hb_codepoint_t start;
 37   hb_codepoint_t end;
 38   unsigned int bit;
 39 };
 40 
<span class="line-modified"> 41 /* Note: The contents of this array was generated using src/gen-unicode-ranges.py. */</span>
<span class="line-modified"> 42 static Range os2UnicodeRangesSorted[] =</span>
 43 {
 44   {     0x0,     0x7F,   0}, // Basic Latin
 45   {    0x80,     0xFF,   1}, // Latin-1 Supplement
 46   {   0x100,    0x17F,   2}, // Latin Extended-A
 47   {   0x180,    0x24F,   3}, // Latin Extended-B
 48   {   0x250,    0x2AF,   4}, // IPA Extensions
 49   {   0x2B0,    0x2FF,   5}, // Spacing Modifier Letters
 50   {   0x300,    0x36F,   6}, // Combining Diacritical Marks
 51   {   0x370,    0x3FF,   7}, // Greek and Coptic
 52   {   0x400,    0x4FF,   9}, // Cyrillic
 53   {   0x500,    0x52F,   9}, // Cyrillic Supplement
 54   {   0x530,    0x58F,  10}, // Armenian
 55   {   0x590,    0x5FF,  11}, // Hebrew
 56   {   0x600,    0x6FF,  13}, // Arabic
 57   {   0x700,    0x74F,  71}, // Syriac
 58   {   0x750,    0x77F,  13}, // Arabic Supplement
 59   {   0x780,    0x7BF,  72}, // Thaana
 60   {   0x7C0,    0x7FF,  14}, // NKo
 61   {   0x900,    0x97F,  15}, // Devanagari
 62   {   0x980,    0x9FF,  16}, // Bengali
</pre>
<hr />
<pre>
195   { 0x10920,  0x1093F, 121}, // Lydian
196   { 0x10A00,  0x10A5F, 108}, // Kharoshthi
197   { 0x12000,  0x123FF, 110}, // Cuneiform
198   { 0x12400,  0x1247F, 110}, // Cuneiform Numbers and Punctuation
199   { 0x1D000,  0x1D0FF,  88}, // Byzantine Musical Symbols
200   { 0x1D100,  0x1D1FF,  88}, // Musical Symbols
201   { 0x1D200,  0x1D24F,  88}, // Ancient Greek Musical Notation
202   { 0x1D300,  0x1D35F, 109}, // Tai Xuan Jing Symbols
203   { 0x1D360,  0x1D37F, 111}, // Counting Rod Numerals
204   { 0x1D400,  0x1D7FF,  89}, // Mathematical Alphanumeric Symbols
205   { 0x1F000,  0x1F02F, 122}, // Mahjong Tiles
206   { 0x1F030,  0x1F09F, 122}, // Domino Tiles
207   { 0x20000,  0x2A6DF,  59}, // CJK Unified Ideographs Extension B
208   { 0x2F800,  0x2FA1F,  61}, // CJK Compatibility Ideographs Supplement
209   { 0xE0000,  0xE007F,  92}, // Tags
210   { 0xE0100,  0xE01EF,  91}, // Variation Selectors Supplement
211   { 0xF0000,  0xFFFFD,  90}, // Private Use (plane 15)
212   {0x100000, 0x10FFFD,  90}, // Private Use (plane 16)
213 };
214 
<span class="line-removed">215 static int</span>
<span class="line-removed">216 _compare_range (const void *_key, const void *_item, void *_arg)</span>
<span class="line-removed">217 {</span>
<span class="line-removed">218   hb_codepoint_t cp = *((hb_codepoint_t *) _key);</span>
<span class="line-removed">219   const Range *range = (Range *) _item;</span>
<span class="line-removed">220 </span>
<span class="line-removed">221   if (cp &lt; range-&gt;start)</span>
<span class="line-removed">222     return -1;</span>
<span class="line-removed">223   else if (cp &lt;= range-&gt;end)</span>
<span class="line-removed">224     return 0;</span>
<span class="line-removed">225   else</span>
<span class="line-removed">226     return 1;</span>
<span class="line-removed">227 }</span>
<span class="line-removed">228 </span>
229 /**
<span class="line-modified">230  * hb_get_unicode_range_bit:</span>
<span class="line-modified">231  * Returns the bit to be set in os/2 ulUnicodeRange for a given codepoint.</span>
232  **/
233 static unsigned int
<span class="line-modified">234 hb_get_unicode_range_bit (hb_codepoint_t cp)</span>
235 {
<span class="line-modified">236   Range *range = (Range*) hb_bsearch_r (&amp;cp, os2UnicodeRangesSorted,</span>
<span class="line-modified">237                                         sizeof (os2UnicodeRangesSorted) / sizeof(Range),</span>
<span class="line-modified">238                                         sizeof(Range),</span>
<span class="line-modified">239                                         _compare_range, nullptr);</span>
240   if (range != nullptr)
241     return range-&gt;bit;
242   return -1;
243 }
244 
245 } /* namespace OT */
246 
247 #endif /* HB_OT_OS2_UNICODE_RANGES_HH */
</pre>
</td>
<td>
<hr />
<pre>
 10  * all copies of this software.
 11  *
 12  * IN NO EVENT SHALL THE COPYRIGHT HOLDER BE LIABLE TO ANY PARTY FOR
 13  * DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES
 14  * ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN
 15  * IF THE COPYRIGHT HOLDER HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH
 16  * DAMAGE.
 17  *
 18  * THE COPYRIGHT HOLDER SPECIFICALLY DISCLAIMS ANY WARRANTIES, INCLUDING,
 19  * BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
 20  * FITNESS FOR A PARTICULAR PURPOSE.  THE SOFTWARE PROVIDED HEREUNDER IS
 21  * ON AN &quot;AS IS&quot; BASIS, AND THE COPYRIGHT HOLDER HAS NO OBLIGATION TO
 22  * PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS.
 23  *
 24  * Google Author(s): Garret Rieger
 25  */
 26 
 27 #ifndef HB_OT_OS2_UNICODE_RANGES_HH
 28 #define HB_OT_OS2_UNICODE_RANGES_HH
 29 
<span class="line-modified"> 30 #include &quot;hb.hh&quot;</span>

 31 
 32 namespace OT {
 33 
<span class="line-modified"> 34 struct OS2Range</span>
<span class="line-added"> 35 {</span>
<span class="line-added"> 36   static int</span>
<span class="line-added"> 37   cmp (const void *_key, const void *_item)</span>
<span class="line-added"> 38   {</span>
<span class="line-added"> 39     hb_codepoint_t cp = *((hb_codepoint_t *) _key);</span>
<span class="line-added"> 40     const OS2Range *range = (OS2Range *) _item;</span>
<span class="line-added"> 41 </span>
<span class="line-added"> 42     if (cp &lt; range-&gt;start)</span>
<span class="line-added"> 43       return -1;</span>
<span class="line-added"> 44     else if (cp &lt;= range-&gt;end)</span>
<span class="line-added"> 45       return 0;</span>
<span class="line-added"> 46     else</span>
<span class="line-added"> 47       return +1;</span>
<span class="line-added"> 48   }</span>
<span class="line-added"> 49 </span>
 50   hb_codepoint_t start;
 51   hb_codepoint_t end;
 52   unsigned int bit;
 53 };
 54 
<span class="line-modified"> 55 /* Note: The contents of this array was generated using gen-os2-unicode-ranges.py. */</span>
<span class="line-modified"> 56 static const OS2Range _hb_os2_unicode_ranges[] =</span>
 57 {
 58   {     0x0,     0x7F,   0}, // Basic Latin
 59   {    0x80,     0xFF,   1}, // Latin-1 Supplement
 60   {   0x100,    0x17F,   2}, // Latin Extended-A
 61   {   0x180,    0x24F,   3}, // Latin Extended-B
 62   {   0x250,    0x2AF,   4}, // IPA Extensions
 63   {   0x2B0,    0x2FF,   5}, // Spacing Modifier Letters
 64   {   0x300,    0x36F,   6}, // Combining Diacritical Marks
 65   {   0x370,    0x3FF,   7}, // Greek and Coptic
 66   {   0x400,    0x4FF,   9}, // Cyrillic
 67   {   0x500,    0x52F,   9}, // Cyrillic Supplement
 68   {   0x530,    0x58F,  10}, // Armenian
 69   {   0x590,    0x5FF,  11}, // Hebrew
 70   {   0x600,    0x6FF,  13}, // Arabic
 71   {   0x700,    0x74F,  71}, // Syriac
 72   {   0x750,    0x77F,  13}, // Arabic Supplement
 73   {   0x780,    0x7BF,  72}, // Thaana
 74   {   0x7C0,    0x7FF,  14}, // NKo
 75   {   0x900,    0x97F,  15}, // Devanagari
 76   {   0x980,    0x9FF,  16}, // Bengali
</pre>
<hr />
<pre>
209   { 0x10920,  0x1093F, 121}, // Lydian
210   { 0x10A00,  0x10A5F, 108}, // Kharoshthi
211   { 0x12000,  0x123FF, 110}, // Cuneiform
212   { 0x12400,  0x1247F, 110}, // Cuneiform Numbers and Punctuation
213   { 0x1D000,  0x1D0FF,  88}, // Byzantine Musical Symbols
214   { 0x1D100,  0x1D1FF,  88}, // Musical Symbols
215   { 0x1D200,  0x1D24F,  88}, // Ancient Greek Musical Notation
216   { 0x1D300,  0x1D35F, 109}, // Tai Xuan Jing Symbols
217   { 0x1D360,  0x1D37F, 111}, // Counting Rod Numerals
218   { 0x1D400,  0x1D7FF,  89}, // Mathematical Alphanumeric Symbols
219   { 0x1F000,  0x1F02F, 122}, // Mahjong Tiles
220   { 0x1F030,  0x1F09F, 122}, // Domino Tiles
221   { 0x20000,  0x2A6DF,  59}, // CJK Unified Ideographs Extension B
222   { 0x2F800,  0x2FA1F,  61}, // CJK Compatibility Ideographs Supplement
223   { 0xE0000,  0xE007F,  92}, // Tags
224   { 0xE0100,  0xE01EF,  91}, // Variation Selectors Supplement
225   { 0xF0000,  0xFFFFD,  90}, // Private Use (plane 15)
226   {0x100000, 0x10FFFD,  90}, // Private Use (plane 16)
227 };
228 














229 /**
<span class="line-modified">230  * _hb_ot_os2_get_unicode_range_bit:</span>
<span class="line-modified">231  * Returns the bit to be set in os/2 ulUnicodeOS2Range for a given codepoint.</span>
232  **/
233 static unsigned int
<span class="line-modified">234 _hb_ot_os2_get_unicode_range_bit (hb_codepoint_t cp)</span>
235 {
<span class="line-modified">236   OS2Range *range = (OS2Range*) hb_bsearch (&amp;cp, _hb_os2_unicode_ranges,</span>
<span class="line-modified">237                                             ARRAY_LENGTH (_hb_os2_unicode_ranges),</span>
<span class="line-modified">238                                             sizeof (OS2Range),</span>
<span class="line-modified">239                                             OS2Range::cmp);</span>
240   if (range != nullptr)
241     return range-&gt;bit;
242   return -1;
243 }
244 
245 } /* namespace OT */
246 
247 #endif /* HB_OT_OS2_UNICODE_RANGES_HH */
</pre>
</td>
</tr>
</table>
<center><a href="hb-ot-os2-table.hh.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="hb-ot-post-macroman.hh.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>