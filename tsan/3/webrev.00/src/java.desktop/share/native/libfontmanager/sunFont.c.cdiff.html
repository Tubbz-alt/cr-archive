<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.desktop/share/native/libfontmanager/sunFont.c</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="hb-jdk.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../libfreetype/UPDATING.txt.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfontmanager/sunFont.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 342,34 ***</span>
      nresults[11] = (size_t)&amp;(info-&gt;cellInfo)-baseAddr;
      nresults[12] = (size_t)&amp;(info-&gt;managed)-baseAddr;
  
      (*env)-&gt;ReleasePrimitiveArrayCritical(env, results, nresults, 0);
  }
<span class="line-removed">- </span>
<span class="line-removed">- JNIEXPORT TTLayoutTableCache* newLayoutTableCache() {</span>
<span class="line-removed">-   TTLayoutTableCache* ltc = calloc(1, sizeof(TTLayoutTableCache));</span>
<span class="line-removed">-   if (ltc) {</span>
<span class="line-removed">-     int i;</span>
<span class="line-removed">-     for(i=0;i&lt;LAYOUTCACHE_ENTRIES;i++) {</span>
<span class="line-removed">-       ltc-&gt;entries[i].len = -1;</span>
<span class="line-removed">-     }</span>
<span class="line-removed">-     ltc-&gt;entries[0].tag = GDEF_TAG;</span>
<span class="line-removed">-     ltc-&gt;entries[1].tag = GPOS_TAG;</span>
<span class="line-removed">-     ltc-&gt;entries[2].tag = GSUB_TAG;</span>
<span class="line-removed">-     ltc-&gt;entries[3].tag = HEAD_TAG;</span>
<span class="line-removed">-     ltc-&gt;entries[4].tag = KERN_TAG;</span>
<span class="line-removed">-     ltc-&gt;entries[5].tag = MORT_TAG;</span>
<span class="line-removed">-     ltc-&gt;entries[6].tag = MORX_TAG;</span>
<span class="line-removed">-   }</span>
<span class="line-removed">-   return ltc;</span>
<span class="line-removed">- }</span>
<span class="line-removed">- </span>
<span class="line-removed">- JNIEXPORT void freeLayoutTableCache(TTLayoutTableCache* ltc) {</span>
<span class="line-removed">-   if (ltc) {</span>
<span class="line-removed">-     int i;</span>
<span class="line-removed">-     for(i=0;i&lt;LAYOUTCACHE_ENTRIES;i++) {</span>
<span class="line-removed">-       if(ltc-&gt;entries[i].ptr) free (ltc-&gt;entries[i].ptr);</span>
<span class="line-removed">-     }</span>
<span class="line-removed">-     if (ltc-&gt;kernPairs) free(ltc-&gt;kernPairs);</span>
<span class="line-removed">-     free(ltc);</span>
<span class="line-removed">-   }</span>
<span class="line-removed">- }</span>
<span class="line-new-header">--- 342,5 ---</span>
</pre>
<center><a href="hb-jdk.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../libfreetype/UPDATING.txt.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>