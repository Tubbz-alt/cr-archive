<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.desktop/share/native/libfreetype/src/sfnt/ttload.c</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="ttkern.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ttload.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfreetype/src/sfnt/ttload.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,22 ***</span>
<span class="line-modified">! /***************************************************************************/</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  ttload.c                                                               */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*    Load the basic TrueType tables, i.e., tables that can be either in   */</span>
<span class="line-modified">! /*    TTF or OTF fonts (body).                                             */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  Copyright 1996-2018 by                                                 */</span>
<span class="line-modified">! /*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  This file is part of the FreeType project, and may only be used,       */</span>
<span class="line-modified">! /*  modified, and distributed under the terms of the FreeType project      */</span>
<span class="line-modified">! /*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */</span>
<span class="line-modified">! /*  this file you indicate that you have read the license and              */</span>
<span class="line-modified">! /*  understand and accept it fully.                                        */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /***************************************************************************/</span>
  
  
  #include &lt;ft2build.h&gt;
  #include FT_INTERNAL_DEBUG_H
  #include FT_INTERNAL_STREAM_H
<span class="line-new-header">--- 1,22 ---</span>
<span class="line-modified">! /****************************************************************************</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * ttload.c</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  *   Load the basic TrueType tables, i.e., tables that can be either in</span>
<span class="line-modified">!  *   TTF or OTF fonts (body).</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * Copyright (C) 1996-2019 by</span>
<span class="line-modified">!  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified">!  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified">!  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified">!  * this file you indicate that you have read the license and</span>
<span class="line-modified">!  * understand and accept it fully.</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  */</span>
  
  
  #include &lt;ft2build.h&gt;
  #include FT_INTERNAL_DEBUG_H
  #include FT_INTERNAL_STREAM_H
</pre>
<hr />
<pre>
<span class="line-old-header">*** 24,36 ***</span>
  #include &quot;ttload.h&quot;
  
  #include &quot;sferrors.h&quot;
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* The macro FT_COMPONENT is used in trace mode.  It is an implicit      */</span>
<span class="line-modified">!   /* parameter of the FT_TRACE() and FT_ERROR() macros, used to print/log  */</span>
<span class="line-modified">!   /* messages during execution.                                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #undef  FT_COMPONENT
<span class="line-modified">! #define FT_COMPONENT  trace_ttload</span>
<span class="line-modified">! </span>
<span class="line-modified">! </span>
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    tt_face_lookup_table                                               */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Looks for a TrueType table by name.                                */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    face :: A face object handle.                                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    tag  :: The searched tag.                                          */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    A pointer to the table directory entry.  0 if not found.           */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_LOCAL_DEF( TT_Table  )
    tt_face_lookup_table( TT_Face   face,
                          FT_ULong  tag  )
    {
      TT_Table  entry;
<span class="line-new-header">--- 24,38 ---</span>
  #include &quot;ttload.h&quot;
  
  #include &quot;sferrors.h&quot;
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * The macro FT_COMPONENT is used in trace mode.  It is an implicit</span>
<span class="line-modified">!    * parameter of the FT_TRACE() and FT_ERROR() macros, used to print/log</span>
<span class="line-modified">!    * messages during execution.</span>
<span class="line-modified">!    */</span>
  #undef  FT_COMPONENT
<span class="line-modified">! #define FT_COMPONENT  ttload</span>
<span class="line-modified">! </span>
<span class="line-modified">! </span>
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Function:</span>
<span class="line-modified">!    *   tt_face_lookup_table</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Description:</span>
<span class="line-modified">!    *   Looks for a TrueType table by name.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Input:</span>
<span class="line-modified">!    *   face ::</span>
<span class="line-modified">!    *     A face object handle.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   tag ::</span>
<span class="line-modified">!    *     The searched tag.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Return:</span>
<span class="line-added">+    *   A pointer to the table directory entry.  0 if not found.</span>
<span class="line-added">+    */</span>
    FT_LOCAL_DEF( TT_Table  )
    tt_face_lookup_table( TT_Face   face,
                          FT_ULong  tag  )
    {
      TT_Table  entry;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 99,31 ***</span>
  
      return NULL;
    }
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    tt_face_goto_table                                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Looks for a TrueType table by name, then seek a stream to it.      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    face   :: A face object handle.                                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    tag    :: The searched tag.                                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    stream :: The stream to seek when the table is found.              */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">!   /*    length :: The length of the table if found, undefined otherwise.   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0 means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_LOCAL_DEF( FT_Error )
    tt_face_goto_table( TT_Face    face,
                        FT_ULong   tag,
                        FT_Stream  stream,
                        FT_ULong*  length )
<span class="line-new-header">--- 101,35 ---</span>
  
      return NULL;
    }
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Function:</span>
<span class="line-modified">!    *   tt_face_goto_table</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Description:</span>
<span class="line-modified">!    *   Looks for a TrueType table by name, then seek a stream to it.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Input:</span>
<span class="line-modified">!    *   face ::</span>
<span class="line-modified">!    *     A face object handle.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   tag ::</span>
<span class="line-modified">!    *     The searched tag.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   stream ::</span>
<span class="line-modified">!    *     The stream to seek when the table is found.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Output:</span>
<span class="line-modified">!    *   length ::</span>
<span class="line-modified">!    *     The length of the table if found, undefined otherwise.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @Return:</span>
<span class="line-added">+    *   FreeType error code.  0 means success.</span>
<span class="line-added">+    */</span>
    FT_LOCAL_DEF( FT_Error )
    tt_face_goto_table( TT_Face    face,
                        FT_ULong   tag,
                        FT_Stream  stream,
                        FT_ULong*  length )
</pre>
<hr />
<pre>
<span class="line-old-header">*** 307,32 ***</span>
    Exit:
      return error;
    }
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    tt_face_load_font_dir                                              */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Loads the header of a SFNT font file.                              */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    face       :: A handle to the target face object.                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    stream     :: The input stream.                                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">!   /*    sfnt       :: The SFNT header.                                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0 means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    The stream cursor must be at the beginning of the font directory.  */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_LOCAL_DEF( FT_Error )
    tt_face_load_font_dir( TT_Face    face,
                           FT_Stream  stream )
    {
      SFNT_HeaderRec  sfnt;
<span class="line-new-header">--- 313,35 ---</span>
    Exit:
      return error;
    }
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Function:</span>
<span class="line-modified">!    *   tt_face_load_font_dir</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Description:</span>
<span class="line-modified">!    *   Loads the header of a SFNT font file.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Input:</span>
<span class="line-modified">!    *   face ::</span>
<span class="line-modified">!    *     A handle to the target face object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   stream ::</span>
<span class="line-modified">!    *     The input stream.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Output:</span>
<span class="line-modified">!    *   sfnt ::</span>
<span class="line-modified">!    *     The SFNT header.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Return:</span>
<span class="line-modified">!    *   FreeType error code.  0 means success.</span>
<span class="line-modified">!    *</span>
<span class="line-added">+    * @Note:</span>
<span class="line-added">+    *   The stream cursor must be at the beginning of the font directory.</span>
<span class="line-added">+    */</span>
    FT_LOCAL_DEF( FT_Error )
    tt_face_load_font_dir( TT_Face    face,
                           FT_Stream  stream )
    {
      SFNT_HeaderRec  sfnt;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 494,50 ***</span>
    Exit:
      return error;
    }
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    tt_face_load_any                                                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Loads any font table into client memory.                           */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    face   :: The face object to look for.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    tag    :: The tag of table to load.  Use the value 0 if you want   */</span>
<span class="line-modified">!   /*              to access the whole font file, else set this parameter   */</span>
<span class="line-modified">!   /*              to a valid TrueType table tag that you can forge with    */</span>
<span class="line-modified">!   /*              the MAKE_TT_TAG macro.                                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    offset :: The starting offset in the table (or the file if         */</span>
<span class="line-modified">!   /*              tag == 0).                                               */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    length :: The address of the decision variable:                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*                If length == NULL:                                     */</span>
<span class="line-modified">!   /*                  Loads the whole table.  Returns an error if          */</span>
<span class="line-modified">!   /*                  `offset&#39; == 0!                                       */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*                If *length == 0:                                       */</span>
<span class="line-modified">!   /*                  Exits immediately; returning the length of the given */</span>
<span class="line-modified">!   /*                  table or of the font file, depending on the value of */</span>
<span class="line-modified">!   /*                  `tag&#39;.                                               */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*                If *length != 0:                                       */</span>
<span class="line-modified">!   /*                  Loads the next `length&#39; bytes of table or font,      */</span>
<span class="line-modified">!   /*                  starting at offset `offset&#39; (in table or font too).  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">!   /*    buffer :: The address of target buffer.                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0 means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_LOCAL_DEF( FT_Error )
    tt_face_load_any( TT_Face    face,
                      FT_ULong   tag,
                      FT_Long    offset,
                      FT_Byte*   buffer,
<span class="line-new-header">--- 503,55 ---</span>
    Exit:
      return error;
    }
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Function:</span>
<span class="line-modified">!    *   tt_face_load_any</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Description:</span>
<span class="line-modified">!    *   Loads any font table into client memory.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Input:</span>
<span class="line-modified">!    *   face ::</span>
<span class="line-modified">!    *     The face object to look for.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   tag ::</span>
<span class="line-modified">!    *     The tag of table to load.  Use the value 0 if you want</span>
<span class="line-modified">!    *     to access the whole font file, else set this parameter</span>
<span class="line-modified">!    *     to a valid TrueType table tag that you can forge with</span>
<span class="line-modified">!    *     the MAKE_TT_TAG macro.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   offset ::</span>
<span class="line-modified">!    *     The starting offset in the table (or the file if</span>
<span class="line-modified">!    *     tag == 0).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   length ::</span>
<span class="line-modified">!    *     The address of the decision variable:</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *     If length == NULL:</span>
<span class="line-modified">!    *       Loads the whole table.  Returns an error if</span>
<span class="line-modified">!    *       `offset&#39; == 0!</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *     If *length == 0:</span>
<span class="line-modified">!    *       Exits immediately; returning the length of the given</span>
<span class="line-modified">!    *       table or of the font file, depending on the value of</span>
<span class="line-modified">!    *       `tag&#39;.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *     If *length != 0:</span>
<span class="line-modified">!    *       Loads the next `length&#39; bytes of table or font,</span>
<span class="line-modified">!    *       starting at offset `offset&#39; (in table or font too).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Output:</span>
<span class="line-modified">!    *   buffer ::</span>
<span class="line-added">+    *     The address of target buffer.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @Return:</span>
<span class="line-added">+    *   FreeType error code.  0 means success.</span>
<span class="line-added">+    */</span>
    FT_LOCAL_DEF( FT_Error )
    tt_face_load_any( TT_Face    face,
                      FT_ULong   tag,
                      FT_Long    offset,
                      FT_Byte*   buffer,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 584,26 ***</span>
    Exit:
      return error;
    }
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    tt_face_load_generic_header                                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Loads the TrueType table `head&#39; or `bhed&#39;.                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    face   :: A handle to the target face object.                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    stream :: The input stream.                                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0 means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
    static FT_Error
    tt_face_load_generic_header( TT_Face    face,
                                 FT_Stream  stream,
                                 FT_ULong   tag )
    {
<span class="line-new-header">--- 598,28 ---</span>
    Exit:
      return error;
    }
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Function:</span>
<span class="line-modified">!    *   tt_face_load_generic_header</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Description:</span>
<span class="line-modified">!    *   Loads the TrueType table `head&#39; or `bhed&#39;.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Input:</span>
<span class="line-modified">!    *   face ::</span>
<span class="line-modified">!    *     A handle to the target face object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   stream ::</span>
<span class="line-modified">!    *     The input stream.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Return:</span>
<span class="line-added">+    *   FreeType error code.  0 means success.</span>
<span class="line-added">+    */</span>
    static FT_Error
    tt_face_load_generic_header( TT_Face    face,
                                 FT_Stream  stream,
                                 FT_ULong   tag )
    {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 620,14 ***</span>
          FT_FRAME_ULONG ( Font_Revision ),
          FT_FRAME_LONG  ( CheckSum_Adjust ),
          FT_FRAME_LONG  ( Magic_Number ),
          FT_FRAME_USHORT( Flags ),
          FT_FRAME_USHORT( Units_Per_EM ),
<span class="line-modified">!         FT_FRAME_LONG  ( Created[0] ),</span>
<span class="line-modified">!         FT_FRAME_LONG  ( Created[1] ),</span>
<span class="line-modified">!         FT_FRAME_LONG  ( Modified[0] ),</span>
<span class="line-modified">!         FT_FRAME_LONG  ( Modified[1] ),</span>
          FT_FRAME_SHORT ( xMin ),
          FT_FRAME_SHORT ( yMin ),
          FT_FRAME_SHORT ( xMax ),
          FT_FRAME_SHORT ( yMax ),
          FT_FRAME_USHORT( Mac_Style ),
<span class="line-new-header">--- 636,14 ---</span>
          FT_FRAME_ULONG ( Font_Revision ),
          FT_FRAME_LONG  ( CheckSum_Adjust ),
          FT_FRAME_LONG  ( Magic_Number ),
          FT_FRAME_USHORT( Flags ),
          FT_FRAME_USHORT( Units_Per_EM ),
<span class="line-modified">!         FT_FRAME_ULONG ( Created[0] ),</span>
<span class="line-modified">!         FT_FRAME_ULONG ( Created[1] ),</span>
<span class="line-modified">!         FT_FRAME_ULONG ( Modified[0] ),</span>
<span class="line-modified">!         FT_FRAME_ULONG ( Modified[1] ),</span>
          FT_FRAME_SHORT ( xMin ),
          FT_FRAME_SHORT ( yMin ),
          FT_FRAME_SHORT ( xMax ),
          FT_FRAME_SHORT ( yMax ),
          FT_FRAME_USHORT( Mac_Style ),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 674,26 ***</span>
    }
  
  #endif /* TT_CONFIG_OPTION_EMBEDDED_BITMAPS */
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    tt_face_load_maxp                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Loads the maximum profile into a face object.                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    face   :: A handle to the target face object.                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    stream :: The input stream.                                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0 means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_LOCAL_DEF( FT_Error )
    tt_face_load_maxp( TT_Face    face,
                       FT_Stream  stream )
    {
      FT_Error        error;
<span class="line-new-header">--- 690,28 ---</span>
    }
  
  #endif /* TT_CONFIG_OPTION_EMBEDDED_BITMAPS */
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Function:</span>
<span class="line-modified">!    *   tt_face_load_maxp</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Description:</span>
<span class="line-modified">!    *   Loads the maximum profile into a face object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Input:</span>
<span class="line-modified">!    *   face ::</span>
<span class="line-modified">!    *     A handle to the target face object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   stream ::</span>
<span class="line-modified">!    *     The input stream.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Return:</span>
<span class="line-added">+    *   FreeType error code.  0 means success.</span>
<span class="line-added">+    */</span>
    FT_LOCAL_DEF( FT_Error )
    tt_face_load_maxp( TT_Face    face,
                       FT_Stream  stream )
    {
      FT_Error        error;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 782,26 ***</span>
    Exit:
      return error;
    }
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    tt_face_load_name                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Loads the name records.                                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    face   :: A handle to the target face object.                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    stream :: The input stream.                                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0 means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_LOCAL_DEF( FT_Error )
    tt_face_load_name( TT_Face    face,
                       FT_Stream  stream )
    {
      FT_Error      error;
<span class="line-new-header">--- 800,28 ---</span>
    Exit:
      return error;
    }
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Function:</span>
<span class="line-modified">!    *   tt_face_load_name</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Description:</span>
<span class="line-modified">!    *   Loads the name records.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Input:</span>
<span class="line-modified">!    *   face ::</span>
<span class="line-modified">!    *     A handle to the target face object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   stream ::</span>
<span class="line-modified">!    *     The input stream.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Return:</span>
<span class="line-added">+    *   FreeType error code.  0 means success.</span>
<span class="line-added">+    */</span>
    FT_LOCAL_DEF( FT_Error )
    tt_face_load_name( TT_Face    face,
                       FT_Stream  stream )
    {
      FT_Error      error;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 979,21 ***</span>
    Exit:
      return error;
    }
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    tt_face_free_name                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Frees the name records.                                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    face :: A handle to the target face object.                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_LOCAL_DEF( void )
    tt_face_free_name( TT_Face  face )
    {
      FT_Memory     memory = face-&gt;root.driver-&gt;root.memory;
      TT_NameTable  table  = &amp;face-&gt;name_table;
<span class="line-new-header">--- 999,22 ---</span>
    Exit:
      return error;
    }
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Function:</span>
<span class="line-modified">!    *   tt_face_free_name</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Description:</span>
<span class="line-modified">!    *   Frees the name records.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Input:</span>
<span class="line-modified">!    *   face ::</span>
<span class="line-modified">!    *     A handle to the target face object.</span>
<span class="line-added">+    */</span>
    FT_LOCAL_DEF( void )
    tt_face_free_name( TT_Face  face )
    {
      FT_Memory     memory = face-&gt;root.driver-&gt;root.memory;
      TT_NameTable  table  = &amp;face-&gt;name_table;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1028,27 ***</span>
      table-&gt;format            = 0;
      table-&gt;storageOffset     = 0;
    }
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    tt_face_load_cmap                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Loads the cmap directory in a face object.  The cmaps themselves   */</span>
<span class="line-modified">!   /*    are loaded on demand in the `ttcmap.c&#39; module.                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    face   :: A handle to the target face object.                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    stream :: A handle to the input stream.                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0 means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
  
    FT_LOCAL_DEF( FT_Error )
    tt_face_load_cmap( TT_Face    face,
                       FT_Stream  stream )
    {
<span class="line-new-header">--- 1049,29 ---</span>
      table-&gt;format            = 0;
      table-&gt;storageOffset     = 0;
    }
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Function:</span>
<span class="line-modified">!    *   tt_face_load_cmap</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Description:</span>
<span class="line-modified">!    *   Loads the cmap directory in a face object.  The cmaps themselves</span>
<span class="line-modified">!    *   are loaded on demand in the `ttcmap.c&#39; module.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Input:</span>
<span class="line-modified">!    *   face ::</span>
<span class="line-modified">!    *     A handle to the target face object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   stream ::</span>
<span class="line-modified">!    *     A handle to the input stream.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Return:</span>
<span class="line-added">+    *   FreeType error code.  0 means success.</span>
<span class="line-added">+    */</span>
  
    FT_LOCAL_DEF( FT_Error )
    tt_face_load_cmap( TT_Face    face,
                       FT_Stream  stream )
    {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1066,26 ***</span>
      return error;
    }
  
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    tt_face_load_os2                                                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Loads the OS2 table.                                               */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    face   :: A handle to the target face object.                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    stream :: A handle to the input stream.                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0 means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_LOCAL_DEF( FT_Error )
    tt_face_load_os2( TT_Face    face,
                      FT_Stream  stream )
    {
      FT_Error  error;
<span class="line-new-header">--- 1089,28 ---</span>
      return error;
    }
  
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Function:</span>
<span class="line-modified">!    *   tt_face_load_os2</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Description:</span>
<span class="line-modified">!    *   Loads the OS2 table.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Input:</span>
<span class="line-modified">!    *   face ::</span>
<span class="line-modified">!    *     A handle to the target face object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   stream ::</span>
<span class="line-modified">!    *     A handle to the input stream.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Return:</span>
<span class="line-added">+    *   FreeType error code.  0 means success.</span>
<span class="line-added">+    */</span>
    FT_LOCAL_DEF( FT_Error )
    tt_face_load_os2( TT_Face    face,
                      FT_Stream  stream )
    {
      FT_Error  error;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1226,26 ***</span>
    Exit:
      return error;
    }
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    tt_face_load_postscript                                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Loads the Postscript table.                                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    face   :: A handle to the target face object.                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    stream :: A handle to the input stream.                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0 means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_LOCAL_DEF( FT_Error )
    tt_face_load_post( TT_Face    face,
                       FT_Stream  stream )
    {
      FT_Error        error;
<span class="line-new-header">--- 1251,28 ---</span>
    Exit:
      return error;
    }
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Function:</span>
<span class="line-modified">!    *   tt_face_load_postscript</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Description:</span>
<span class="line-modified">!    *   Loads the Postscript table.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Input:</span>
<span class="line-modified">!    *   face ::</span>
<span class="line-modified">!    *     A handle to the target face object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   stream ::</span>
<span class="line-modified">!    *     A handle to the input stream.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Return:</span>
<span class="line-added">+    *   FreeType error code.  0 means success.</span>
<span class="line-added">+    */</span>
    FT_LOCAL_DEF( FT_Error )
    tt_face_load_post( TT_Face    face,
                       FT_Stream  stream )
    {
      FT_Error        error;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1286,26 ***</span>
  
      return FT_Err_Ok;
    }
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    tt_face_load_pclt                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Loads the PCL 5 Table.                                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    face   :: A handle to the target face object.                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    stream :: A handle to the input stream.                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0 means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_LOCAL_DEF( FT_Error )
    tt_face_load_pclt( TT_Face    face,
                       FT_Stream  stream )
    {
      static const FT_Frame_Field  pclt_fields[] =
<span class="line-new-header">--- 1313,28 ---</span>
  
      return FT_Err_Ok;
    }
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Function:</span>
<span class="line-modified">!    *   tt_face_load_pclt</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Description:</span>
<span class="line-modified">!    *   Loads the PCL 5 Table.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Input:</span>
<span class="line-modified">!    *   face ::</span>
<span class="line-modified">!    *     A handle to the target face object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   stream ::</span>
<span class="line-modified">!    *     A handle to the input stream.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Return:</span>
<span class="line-added">+    *   FreeType error code.  0 means success.</span>
<span class="line-added">+    */</span>
    FT_LOCAL_DEF( FT_Error )
    tt_face_load_pclt( TT_Face    face,
                       FT_Stream  stream )
    {
      static const FT_Frame_Field  pclt_fields[] =
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1347,26 ***</span>
    Exit:
      return error;
    }
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    tt_face_load_gasp                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Loads the `gasp&#39; table into a face object.                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    face   :: A handle to the target face object.                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    stream :: The input stream.                                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0 means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_LOCAL_DEF( FT_Error )
    tt_face_load_gasp( TT_Face    face,
                       FT_Stream  stream )
    {
      FT_Error   error;
<span class="line-new-header">--- 1376,28 ---</span>
    Exit:
      return error;
    }
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Function:</span>
<span class="line-modified">!    *   tt_face_load_gasp</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Description:</span>
<span class="line-modified">!    *   Loads the `gasp&#39; table into a face object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Input:</span>
<span class="line-modified">!    *   face ::</span>
<span class="line-modified">!    *     A handle to the target face object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   stream ::</span>
<span class="line-modified">!    *     The input stream.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @Return:</span>
<span class="line-added">+    *   FreeType error code.  0 means success.</span>
<span class="line-added">+    */</span>
    FT_LOCAL_DEF( FT_Error )
    tt_face_load_gasp( TT_Face    face,
                       FT_Stream  stream )
    {
      FT_Error   error;
</pre>
<center><a href="ttkern.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ttload.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>