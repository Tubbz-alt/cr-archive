<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.desktop/share/native/libfreetype/include/freetype/ftoutln.h</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="ftmoderr.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ftparams.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfreetype/include/freetype/ftoutln.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,22 ***</span>
<span class="line-modified">! /***************************************************************************/</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  ftoutln.h                                                              */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*    Support for the FT_Outline type used to store glyph shapes of        */</span>
<span class="line-modified">! /*    most scalable font formats (specification).                          */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  Copyright 1996-2018 by                                                 */</span>
<span class="line-modified">! /*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  This file is part of the FreeType project, and may only be used,       */</span>
<span class="line-modified">! /*  modified, and distributed under the terms of the FreeType project      */</span>
<span class="line-modified">! /*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */</span>
<span class="line-modified">! /*  this file you indicate that you have read the license and              */</span>
<span class="line-modified">! /*  understand and accept it fully.                                        */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /***************************************************************************/</span>
  
  
  #ifndef FTOUTLN_H_
  #define FTOUTLN_H_
  
<span class="line-new-header">--- 1,22 ---</span>
<span class="line-modified">! /****************************************************************************</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * ftoutln.h</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  *   Support for the FT_Outline type used to store glyph shapes of</span>
<span class="line-modified">!  *   most scalable font formats (specification).</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * Copyright (C) 1996-2019 by</span>
<span class="line-modified">!  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified">!  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified">!  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified">!  * this file you indicate that you have read the license and</span>
<span class="line-modified">!  * understand and accept it fully.</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  */</span>
  
  
  #ifndef FTOUTLN_H_
  #define FTOUTLN_H_
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 32,504 ***</span>
  
  
  FT_BEGIN_HEADER
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Section&gt;                                                             */</span>
<span class="line-modified">!   /*    outline_processing                                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Title&gt;                                                               */</span>
<span class="line-modified">!   /*    Outline Processing                                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Abstract&gt;                                                            */</span>
<span class="line-modified">!   /*    Functions to create, transform, and render vectorial glyph images. */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    This section contains routines used to create and destroy scalable */</span>
<span class="line-modified">!   /*    glyph images known as `outlines&#39;.  These can also be measured,     */</span>
<span class="line-modified">!   /*    transformed, and converted into bitmaps and pixmaps.               */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Order&gt;                                                               */</span>
<span class="line-modified">!   /*    FT_Outline                                                         */</span>
<span class="line-modified">!   /*    FT_Outline_New                                                     */</span>
<span class="line-modified">!   /*    FT_Outline_Done                                                    */</span>
<span class="line-modified">!   /*    FT_Outline_Copy                                                    */</span>
<span class="line-modified">!   /*    FT_Outline_Translate                                               */</span>
<span class="line-modified">!   /*    FT_Outline_Transform                                               */</span>
<span class="line-modified">!   /*    FT_Outline_Embolden                                                */</span>
<span class="line-modified">!   /*    FT_Outline_EmboldenXY                                              */</span>
<span class="line-modified">!   /*    FT_Outline_Reverse                                                 */</span>
<span class="line-modified">!   /*    FT_Outline_Check                                                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    FT_Outline_Get_CBox                                                */</span>
<span class="line-modified">!   /*    FT_Outline_Get_BBox                                                */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    FT_Outline_Get_Bitmap                                              */</span>
<span class="line-modified">!   /*    FT_Outline_Render                                                  */</span>
<span class="line-modified">!   /*    FT_Outline_Decompose                                               */</span>
<span class="line-modified">!   /*    FT_Outline_Funcs                                                   */</span>
<span class="line-modified">!   /*    FT_Outline_MoveToFunc                                              */</span>
<span class="line-modified">!   /*    FT_Outline_LineToFunc                                              */</span>
<span class="line-modified">!   /*    FT_Outline_ConicToFunc                                             */</span>
<span class="line-modified">!   /*    FT_Outline_CubicToFunc                                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    FT_Orientation                                                     */</span>
<span class="line-modified">!   /*    FT_Outline_Get_Orientation                                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    FT_OUTLINE_XXX                                                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">! </span>
<span class="line-modified">! </span>
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Outline_Decompose                                               */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Walk over an outline&#39;s structure to decompose it into individual   */</span>
<span class="line-modified">!   /*    segments and Bezier arcs.  This function also emits `move to&#39;      */</span>
<span class="line-modified">!   /*    operations to indicate the start of new contours in the outline.   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    outline        :: A pointer to the source target.                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    func_interface :: A table of `emitters&#39;, i.e., function pointers   */</span>
<span class="line-modified">!   /*                      called during decomposition to indicate path     */</span>
<span class="line-modified">!   /*                      operations.                                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">!   /*    user           :: A typeless pointer that is passed to each        */</span>
<span class="line-modified">!   /*                      emitter during the decomposition.  It can be     */</span>
<span class="line-modified">!   /*                      used to store the state during the               */</span>
<span class="line-modified">!   /*                      decomposition.                                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    A contour that contains a single point only is represented by a    */</span>
<span class="line-modified">!   /*    `move to&#39; operation followed by `line to&#39; to the same point.  In   */</span>
<span class="line-modified">!   /*    most cases, it is best to filter this out before using the         */</span>
<span class="line-modified">!   /*    outline for stroking purposes (otherwise it would result in a      */</span>
<span class="line-modified">!   /*    visible dot when round caps are used).                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    Similarly, the function returns success for an empty outline also  */</span>
<span class="line-modified">!   /*    (doing nothing, this is, not calling any emitter); if necessary,   */</span>
<span class="line-modified">!   /*    you should filter this out, too.                                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( FT_Error )
    FT_Outline_Decompose( FT_Outline*              outline,
                          const FT_Outline_Funcs*  func_interface,
                          void*                    user );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Outline_New                                                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Create a new outline of a given size.                              */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    library     :: A handle to the library object from where the       */</span>
<span class="line-modified">!   /*                   outline is allocated.  Note however that the new    */</span>
<span class="line-modified">!   /*                   outline will *not* necessarily be *freed*, when     */</span>
<span class="line-modified">!   /*                   destroying the library, by @FT_Done_FreeType.       */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    numPoints   :: The maximum number of points within the outline.    */</span>
<span class="line-modified">!   /*                   Must be smaller than or equal to 0xFFFF (65535).    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    numContours :: The maximum number of contours within the outline.  */</span>
<span class="line-modified">!   /*                   This value must be in the range 0 to `numPoints&#39;.   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">!   /*    anoutline   :: A handle to the new outline.                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    The reason why this function takes a `library&#39; parameter is simply */</span>
<span class="line-modified">!   /*    to use the library&#39;s memory allocator.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( FT_Error )
    FT_Outline_New( FT_Library   library,
                    FT_UInt      numPoints,
                    FT_Int       numContours,
                    FT_Outline  *anoutline );
  
  
<span class="line-modified">!   FT_EXPORT( FT_Error )</span>
<span class="line-modified">!   FT_Outline_New_Internal( FT_Memory    memory,</span>
<span class="line-modified">!                            FT_UInt      numPoints,</span>
<span class="line-modified">!                            FT_Int       numContours,</span>
<span class="line-modified">!                            FT_Outline  *anoutline );</span>
<span class="line-modified">! </span>
<span class="line-modified">! </span>
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Outline_Done                                                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Destroy an outline created with @FT_Outline_New.                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    library :: A handle of the library object used to allocate the     */</span>
<span class="line-modified">!   /*               outline.                                                */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    outline :: A pointer to the outline object to be discarded.        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-removed">-   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-removed">-   /*                                                                       */</span>
<span class="line-removed">-   /* &lt;Note&gt;                                                                */</span>
<span class="line-removed">-   /*    If the outline&#39;s `owner&#39; field is not set, only the outline        */</span>
<span class="line-removed">-   /*    descriptor will be released.                                       */</span>
<span class="line-removed">-   /*                                                                       */</span>
    FT_EXPORT( FT_Error )
    FT_Outline_Done( FT_Library   library,
                     FT_Outline*  outline );
  
  
<span class="line-modified">!   FT_EXPORT( FT_Error )</span>
<span class="line-modified">!   FT_Outline_Done_Internal( FT_Memory    memory,</span>
<span class="line-modified">!                             FT_Outline*  outline );</span>
<span class="line-modified">! </span>
<span class="line-modified">! </span>
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Outline_Check                                                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Check the contents of an outline descriptor.                       */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    outline :: A handle to a source outline.                           */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-removed">-   /* &lt;Note&gt;                                                                */</span>
<span class="line-removed">-   /*    An empty outline, or an outline with a single point only is also   */</span>
<span class="line-removed">-   /*    valid.                                                             */</span>
<span class="line-removed">-   /*                                                                       */</span>
    FT_EXPORT( FT_Error )
    FT_Outline_Check( FT_Outline*  outline );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Outline_Get_CBox                                                */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Return an outline&#39;s `control box&#39;.  The control box encloses all   */</span>
<span class="line-modified">!   /*    the outline&#39;s points, including Bezier control points.  Though it  */</span>
<span class="line-modified">!   /*    coincides with the exact bounding box for most glyphs, it can be   */</span>
<span class="line-modified">!   /*    slightly larger in some situations (like when rotating an outline  */</span>
<span class="line-modified">!   /*    that contains Bezier outside arcs).                                */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    Computing the control box is very fast, while getting the bounding */</span>
<span class="line-modified">!   /*    box can take much more time as it needs to walk over all segments  */</span>
<span class="line-modified">!   /*    and arcs in the outline.  To get the latter, you can use the       */</span>
<span class="line-modified">!   /*    `ftbbox&#39; component, which is dedicated to this single task.        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    outline :: A pointer to the source outline descriptor.             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">!   /*    acbox   :: The outline&#39;s control box.                              */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    See @FT_Glyph_Get_CBox for a discussion of tricky fonts.           */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( void )
    FT_Outline_Get_CBox( const FT_Outline*  outline,
                         FT_BBox           *acbox );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Outline_Translate                                               */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Apply a simple translation to the points of an outline.            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">!   /*    outline :: A pointer to the target outline descriptor.             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    xOffset :: The horizontal offset.                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    yOffset :: The vertical offset.                                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( void )
    FT_Outline_Translate( const FT_Outline*  outline,
                          FT_Pos             xOffset,
                          FT_Pos             yOffset );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Outline_Copy                                                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Copy an outline into another one.  Both objects must have the      */</span>
<span class="line-modified">!   /*    same sizes (number of points &amp; number of contours) when this       */</span>
<span class="line-modified">!   /*    function is called.                                                */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    source :: A handle to the source outline.                          */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">!   /*    target :: A handle to the target outline.                          */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( FT_Error )
    FT_Outline_Copy( const FT_Outline*  source,
                     FT_Outline        *target );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Outline_Transform                                               */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Apply a simple 2x2 matrix to all of an outline&#39;s points.  Useful   */</span>
<span class="line-modified">!   /*    for applying rotations, slanting, flipping, etc.                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">!   /*    outline :: A pointer to the target outline descriptor.             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    matrix  :: A pointer to the transformation matrix.                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    You can use @FT_Outline_Translate if you need to translate the     */</span>
<span class="line-modified">!   /*    outline&#39;s points.                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( void )
    FT_Outline_Transform( const FT_Outline*  outline,
                          const FT_Matrix*   matrix );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Outline_Embolden                                                */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Embolden an outline.  The new outline will be at most 4~times      */</span>
<span class="line-modified">!   /*    `strength&#39; pixels wider and higher.  You may think of the left and */</span>
<span class="line-modified">!   /*    bottom borders as unchanged.                                       */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    Negative `strength&#39; values to reduce the outline thickness are     */</span>
<span class="line-modified">!   /*    possible also.                                                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">!   /*    outline  :: A handle to the target outline.                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    strength :: How strong the glyph is emboldened.  Expressed in      */</span>
<span class="line-modified">!   /*                26.6 pixel format.                                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    The used algorithm to increase or decrease the thickness of the    */</span>
<span class="line-modified">!   /*    glyph doesn&#39;t change the number of points; this means that certain */</span>
<span class="line-modified">!   /*    situations like acute angles or intersections are sometimes        */</span>
<span class="line-modified">!   /*    handled incorrectly.                                               */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    If you need `better&#39; metrics values you should call                */</span>
<span class="line-modified">!   /*    @FT_Outline_Get_CBox or @FT_Outline_Get_BBox.                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    Example call:                                                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    {                                                                  */</span>
<span class="line-modified">!   /*      FT_Load_Glyph( face, index, FT_LOAD_DEFAULT );                   */</span>
<span class="line-modified">!   /*      if ( face-&gt;glyph-&gt;format == FT_GLYPH_FORMAT_OUTLINE )            */</span>
<span class="line-modified">!   /*        FT_Outline_Embolden( &amp;face-&gt;glyph-&gt;outline, strength );        */</span>
<span class="line-modified">!   /*    }                                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    To get meaningful results, font scaling values must be set with    */</span>
<span class="line-modified">!   /*    functions like @FT_Set_Char_Size before calling FT_Render_Glyph.   */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( FT_Error )
    FT_Outline_Embolden( FT_Outline*  outline,
                         FT_Pos       strength );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Outline_EmboldenXY                                              */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Embolden an outline.  The new outline will be `xstrength&#39; pixels   */</span>
<span class="line-modified">!   /*    wider and `ystrength&#39; pixels higher.  Otherwise, it is similar to  */</span>
<span class="line-modified">!   /*    @FT_Outline_Embolden, which uses the same strength in both         */</span>
<span class="line-modified">!   /*    directions.                                                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Since&gt;                                                               */</span>
<span class="line-modified">!   /*    2.4.10                                                             */</span>
<span class="line-removed">-   /*                                                                       */</span>
    FT_EXPORT( FT_Error )
    FT_Outline_EmboldenXY( FT_Outline*  outline,
                           FT_Pos       xstrength,
                           FT_Pos       ystrength );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Outline_Reverse                                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Reverse the drawing direction of an outline.  This is used to      */</span>
<span class="line-modified">!   /*    ensure consistent fill conventions for mirrored glyphs.            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">!   /*    outline :: A pointer to the target outline descriptor.             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    This function toggles the bit flag @FT_OUTLINE_REVERSE_FILL in     */</span>
<span class="line-modified">!   /*    the outline&#39;s `flags&#39; field.                                       */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    It shouldn&#39;t be used by a normal client application, unless it     */</span>
<span class="line-modified">!   /*    knows what it is doing.                                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( void )
    FT_Outline_Reverse( FT_Outline*  outline );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Outline_Get_Bitmap                                              */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Render an outline within a bitmap.  The outline&#39;s image is simply  */</span>
<span class="line-modified">!   /*    OR-ed to the target bitmap.                                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    library :: A handle to a FreeType library object.                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    outline :: A pointer to the source outline descriptor.             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">!   /*    abitmap :: A pointer to the target bitmap descriptor.              */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    This function does NOT CREATE the bitmap, it only renders an       */</span>
<span class="line-modified">!   /*    outline image within the one you pass to it!  Consequently, the    */</span>
<span class="line-modified">!   /*    various fields in `abitmap&#39; should be set accordingly.             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    It will use the raster corresponding to the default glyph format.  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    The value of the `num_grays&#39; field in `abitmap&#39; is ignored.  If    */</span>
<span class="line-modified">!   /*    you select the gray-level rasterizer, and you want less than 256   */</span>
<span class="line-modified">!   /*    gray levels, you have to use @FT_Outline_Render directly.          */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( FT_Error )
    FT_Outline_Get_Bitmap( FT_Library        library,
                           FT_Outline*       outline,
                           const FT_Bitmap  *abitmap );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Outline_Render                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Render an outline within a bitmap using the current scan-convert.  */</span>
<span class="line-modified">!   /*    This function uses an @FT_Raster_Params structure as an argument,  */</span>
<span class="line-modified">!   /*    allowing advanced features like direct composition, translucency,  */</span>
<span class="line-modified">!   /*    etc.                                                               */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    library :: A handle to a FreeType library object.                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    outline :: A pointer to the source outline descriptor.             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">!   /*    params  :: A pointer to an @FT_Raster_Params structure used to     */</span>
<span class="line-modified">!   /*               describe the rendering operation.                       */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    You should know what you are doing and how @FT_Raster_Params works */</span>
<span class="line-modified">!   /*    to use this function.                                              */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    The field `params.source&#39; will be set to `outline&#39; before the scan */</span>
<span class="line-modified">!   /*    converter is called, which means that the value you give to it is  */</span>
<span class="line-modified">!   /*    actually ignored.                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    The gray-level rasterizer always uses 256 gray levels.  If you     */</span>
<span class="line-modified">!   /*    want less gray levels, you have to provide your own span callback. */</span>
<span class="line-modified">!   /*    See the @FT_RASTER_FLAG_DIRECT value of the `flags&#39; field in the   */</span>
<span class="line-modified">!   /*    @FT_Raster_Params structure for more details.                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( FT_Error )
    FT_Outline_Render( FT_Library         library,
                       FT_Outline*        outline,
                       FT_Raster_Params*  params );
  
  
<span class="line-modified">!  /**************************************************************************</span>
<span class="line-modified">!   *</span>
<span class="line-modified">!   * @enum:</span>
<span class="line-modified">!   *   FT_Orientation</span>
<span class="line-modified">!   *</span>
<span class="line-modified">!   * @description:</span>
<span class="line-modified">!   *   A list of values used to describe an outline&#39;s contour orientation.</span>
<span class="line-modified">!   *</span>
<span class="line-modified">!   *   The TrueType and PostScript specifications use different conventions</span>
<span class="line-modified">!   *   to determine whether outline contours should be filled or unfilled.</span>
<span class="line-modified">!   *</span>
<span class="line-modified">!   * @values:</span>
<span class="line-modified">!   *   FT_ORIENTATION_TRUETYPE ::</span>
<span class="line-modified">!   *     According to the TrueType specification, clockwise contours must</span>
<span class="line-modified">!   *     be filled, and counter-clockwise ones must be unfilled.</span>
<span class="line-modified">!   *</span>
<span class="line-modified">!   *   FT_ORIENTATION_POSTSCRIPT ::</span>
<span class="line-modified">!   *     According to the PostScript specification, counter-clockwise contours</span>
<span class="line-modified">!   *     must be filled, and clockwise ones must be unfilled.</span>
<span class="line-modified">!   *</span>
<span class="line-modified">!   *   FT_ORIENTATION_FILL_RIGHT ::</span>
<span class="line-modified">!   *     This is identical to @FT_ORIENTATION_TRUETYPE, but is used to</span>
<span class="line-modified">!   *     remember that in TrueType, everything that is to the right of</span>
<span class="line-modified">!   *     the drawing direction of a contour must be filled.</span>
<span class="line-modified">!   *</span>
<span class="line-modified">!   *   FT_ORIENTATION_FILL_LEFT ::</span>
<span class="line-modified">!   *     This is identical to @FT_ORIENTATION_POSTSCRIPT, but is used to</span>
<span class="line-modified">!   *     remember that in PostScript, everything that is to the left of</span>
<span class="line-modified">!   *     the drawing direction of a contour must be filled.</span>
<span class="line-modified">!   *</span>
<span class="line-modified">!   *   FT_ORIENTATION_NONE ::</span>
<span class="line-modified">!   *     The orientation cannot be determined.  That is, different parts of</span>
<span class="line-modified">!   *     the glyph have different orientation.</span>
<span class="line-modified">!   *</span>
<span class="line-modified">!   */</span>
    typedef enum  FT_Orientation_
    {
      FT_ORIENTATION_TRUETYPE   = 0,
      FT_ORIENTATION_POSTSCRIPT = 1,
      FT_ORIENTATION_FILL_RIGHT = FT_ORIENTATION_TRUETYPE,
<span class="line-new-header">--- 32,514 ---</span>
  
  
  FT_BEGIN_HEADER
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @section:</span>
<span class="line-modified">!    *   outline_processing</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @title:</span>
<span class="line-modified">!    *   Outline Processing</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @abstract:</span>
<span class="line-modified">!    *   Functions to create, transform, and render vectorial glyph images.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   This section contains routines used to create and destroy scalable</span>
<span class="line-modified">!    *   glyph images known as &#39;outlines&#39;.  These can also be measured,</span>
<span class="line-modified">!    *   transformed, and converted into bitmaps and pixmaps.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @order:</span>
<span class="line-modified">!    *   FT_Outline</span>
<span class="line-modified">!    *   FT_Outline_New</span>
<span class="line-modified">!    *   FT_Outline_Done</span>
<span class="line-modified">!    *   FT_Outline_Copy</span>
<span class="line-modified">!    *   FT_Outline_Translate</span>
<span class="line-modified">!    *   FT_Outline_Transform</span>
<span class="line-modified">!    *   FT_Outline_Embolden</span>
<span class="line-modified">!    *   FT_Outline_EmboldenXY</span>
<span class="line-modified">!    *   FT_Outline_Reverse</span>
<span class="line-modified">!    *   FT_Outline_Check</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FT_Outline_Get_CBox</span>
<span class="line-modified">!    *   FT_Outline_Get_BBox</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FT_Outline_Get_Bitmap</span>
<span class="line-modified">!    *   FT_Outline_Render</span>
<span class="line-modified">!    *   FT_Outline_Decompose</span>
<span class="line-modified">!    *   FT_Outline_Funcs</span>
<span class="line-modified">!    *   FT_Outline_MoveToFunc</span>
<span class="line-modified">!    *   FT_Outline_LineToFunc</span>
<span class="line-modified">!    *   FT_Outline_ConicToFunc</span>
<span class="line-modified">!    *   FT_Outline_CubicToFunc</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FT_Orientation</span>
<span class="line-modified">!    *   FT_Outline_Get_Orientation</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FT_OUTLINE_XXX</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    */</span>
<span class="line-modified">! </span>
<span class="line-modified">! </span>
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Outline_Decompose</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Walk over an outline&#39;s structure to decompose it into individual</span>
<span class="line-modified">!    *   segments and Bezier arcs.  This function also emits &#39;move to&#39;</span>
<span class="line-modified">!    *   operations to indicate the start of new contours in the outline.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   outline ::</span>
<span class="line-modified">!    *     A pointer to the source target.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   func_interface ::</span>
<span class="line-modified">!    *     A table of &#39;emitters&#39;, i.e., function pointers called during</span>
<span class="line-modified">!    *     decomposition to indicate path operations.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @inout:</span>
<span class="line-modified">!    *   user ::</span>
<span class="line-modified">!    *     A typeless pointer that is passed to each emitter during the</span>
<span class="line-modified">!    *     decomposition.  It can be used to store the state during the</span>
<span class="line-modified">!    *     decomposition.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *   FreeType error code.  0~means success.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-modified">!    *   A contour that contains a single point only is represented by a &#39;move</span>
<span class="line-modified">!    *   to&#39; operation followed by &#39;line to&#39; to the same point.  In most cases,</span>
<span class="line-modified">!    *   it is best to filter this out before using the outline for stroking</span>
<span class="line-modified">!    *   purposes (otherwise it would result in a visible dot when round caps</span>
<span class="line-modified">!    *   are used).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Similarly, the function returns success for an empty outline also</span>
<span class="line-modified">!    *   (doing nothing, this is, not calling any emitter); if necessary, you</span>
<span class="line-modified">!    *   should filter this out, too.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( FT_Error )
    FT_Outline_Decompose( FT_Outline*              outline,
                          const FT_Outline_Funcs*  func_interface,
                          void*                    user );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Outline_New</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Create a new outline of a given size.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   library ::</span>
<span class="line-modified">!    *     A handle to the library object from where the outline is allocated.</span>
<span class="line-modified">!    *     Note however that the new outline will **not** necessarily be</span>
<span class="line-modified">!    *     **freed**, when destroying the library, by @FT_Done_FreeType.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   numPoints ::</span>
<span class="line-modified">!    *     The maximum number of points within the outline.  Must be smaller</span>
<span class="line-modified">!    *     than or equal to 0xFFFF (65535).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   numContours ::</span>
<span class="line-modified">!    *     The maximum number of contours within the outline.  This value must</span>
<span class="line-modified">!    *     be in the range 0 to `numPoints`.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @output:</span>
<span class="line-modified">!    *   anoutline ::</span>
<span class="line-modified">!    *     A handle to the new outline.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *   FreeType error code.  0~means success.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-added">+    *   The reason why this function takes a `library` parameter is simply to</span>
<span class="line-added">+    *   use the library&#39;s memory allocator.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( FT_Error )
    FT_Outline_New( FT_Library   library,
                    FT_UInt      numPoints,
                    FT_Int       numContours,
                    FT_Outline  *anoutline );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Outline_Done</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Destroy an outline created with @FT_Outline_New.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   library ::</span>
<span class="line-modified">!    *     A handle of the library object used to allocate the outline.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   outline ::</span>
<span class="line-modified">!    *     A pointer to the outline object to be discarded.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *   FreeType error code.  0~means success.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-modified">!    *   If the outline&#39;s &#39;owner&#39; field is not set, only the outline descriptor</span>
<span class="line-modified">!    *   will be released.</span>
<span class="line-modified">!    */</span>
    FT_EXPORT( FT_Error )
    FT_Outline_Done( FT_Library   library,
                     FT_Outline*  outline );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Outline_Check</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Check the contents of an outline descriptor.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   outline ::</span>
<span class="line-modified">!    *     A handle to a source outline.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *   FreeType error code.  0~means success.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-modified">!    *   An empty outline, or an outline with a single point only is also</span>
<span class="line-modified">!    *   valid.</span>
<span class="line-modified">!    */</span>
    FT_EXPORT( FT_Error )
    FT_Outline_Check( FT_Outline*  outline );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Outline_Get_CBox</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Return an outline&#39;s &#39;control box&#39;.  The control box encloses all the</span>
<span class="line-modified">!    *   outline&#39;s points, including Bezier control points.  Though it</span>
<span class="line-modified">!    *   coincides with the exact bounding box for most glyphs, it can be</span>
<span class="line-modified">!    *   slightly larger in some situations (like when rotating an outline that</span>
<span class="line-modified">!    *   contains Bezier outside arcs).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Computing the control box is very fast, while getting the bounding box</span>
<span class="line-modified">!    *   can take much more time as it needs to walk over all segments and arcs</span>
<span class="line-modified">!    *   in the outline.  To get the latter, you can use the &#39;ftbbox&#39;</span>
<span class="line-modified">!    *   component, which is dedicated to this single task.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   outline ::</span>
<span class="line-modified">!    *     A pointer to the source outline descriptor.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @output:</span>
<span class="line-modified">!    *   acbox ::</span>
<span class="line-modified">!    *     The outline&#39;s control box.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-added">+    *   See @FT_Glyph_Get_CBox for a discussion of tricky fonts.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( void )
    FT_Outline_Get_CBox( const FT_Outline*  outline,
                         FT_BBox           *acbox );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Outline_Translate</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Apply a simple translation to the points of an outline.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @inout:</span>
<span class="line-modified">!    *   outline ::</span>
<span class="line-modified">!    *     A pointer to the target outline descriptor.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   xOffset ::</span>
<span class="line-modified">!    *     The horizontal offset.</span>
<span class="line-modified">!    *</span>
<span class="line-added">+    *   yOffset ::</span>
<span class="line-added">+    *     The vertical offset.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( void )
    FT_Outline_Translate( const FT_Outline*  outline,
                          FT_Pos             xOffset,
                          FT_Pos             yOffset );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Outline_Copy</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Copy an outline into another one.  Both objects must have the same</span>
<span class="line-modified">!    *   sizes (number of points &amp; number of contours) when this function is</span>
<span class="line-modified">!    *   called.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   source ::</span>
<span class="line-modified">!    *     A handle to the source outline.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @output:</span>
<span class="line-modified">!    *   target ::</span>
<span class="line-modified">!    *     A handle to the target outline.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-added">+    *   FreeType error code.  0~means success.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( FT_Error )
    FT_Outline_Copy( const FT_Outline*  source,
                     FT_Outline        *target );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Outline_Transform</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Apply a simple 2x2 matrix to all of an outline&#39;s points.  Useful for</span>
<span class="line-modified">!    *   applying rotations, slanting, flipping, etc.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @inout:</span>
<span class="line-modified">!    *   outline ::</span>
<span class="line-modified">!    *     A pointer to the target outline descriptor.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   matrix ::</span>
<span class="line-modified">!    *     A pointer to the transformation matrix.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-modified">!    *   You can use @FT_Outline_Translate if you need to translate the</span>
<span class="line-added">+    *   outline&#39;s points.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( void )
    FT_Outline_Transform( const FT_Outline*  outline,
                          const FT_Matrix*   matrix );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Outline_Embolden</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Embolden an outline.  The new outline will be at most 4~times</span>
<span class="line-modified">!    *   `strength` pixels wider and higher.  You may think of the left and</span>
<span class="line-modified">!    *   bottom borders as unchanged.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Negative `strength` values to reduce the outline thickness are</span>
<span class="line-modified">!    *   possible also.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @inout:</span>
<span class="line-modified">!    *   outline ::</span>
<span class="line-modified">!    *     A handle to the target outline.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   strength ::</span>
<span class="line-modified">!    *     How strong the glyph is emboldened.  Expressed in 26.6 pixel format.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *   FreeType error code.  0~means success.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-modified">!    *   The used algorithm to increase or decrease the thickness of the glyph</span>
<span class="line-modified">!    *   doesn&#39;t change the number of points; this means that certain</span>
<span class="line-modified">!    *   situations like acute angles or intersections are sometimes handled</span>
<span class="line-modified">!    *   incorrectly.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   If you need &#39;better&#39; metrics values you should call</span>
<span class="line-modified">!    *   @FT_Outline_Get_CBox or @FT_Outline_Get_BBox.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   To get meaningful results, font scaling values must be set with</span>
<span class="line-modified">!    *   functions like @FT_Set_Char_Size before calling FT_Render_Glyph.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @example:</span>
<span class="line-modified">!    *   ```</span>
<span class="line-modified">!    *     FT_Load_Glyph( face, index, FT_LOAD_DEFAULT );</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *     if ( face-&gt;glyph-&gt;format == FT_GLYPH_FORMAT_OUTLINE )</span>
<span class="line-modified">!    *       FT_Outline_Embolden( &amp;face-&gt;glyph-&gt;outline, strength );</span>
<span class="line-modified">!    *   ```</span>
<span class="line-added">+    *</span>
<span class="line-added">+    */</span>
    FT_EXPORT( FT_Error )
    FT_Outline_Embolden( FT_Outline*  outline,
                         FT_Pos       strength );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Outline_EmboldenXY</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Embolden an outline.  The new outline will be `xstrength` pixels wider</span>
<span class="line-modified">!    *   and `ystrength` pixels higher.  Otherwise, it is similar to</span>
<span class="line-modified">!    *   @FT_Outline_Embolden, which uses the same strength in both directions.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @since:</span>
<span class="line-modified">!    *   2.4.10</span>
<span class="line-modified">!    */</span>
    FT_EXPORT( FT_Error )
    FT_Outline_EmboldenXY( FT_Outline*  outline,
                           FT_Pos       xstrength,
                           FT_Pos       ystrength );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Outline_Reverse</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Reverse the drawing direction of an outline.  This is used to ensure</span>
<span class="line-modified">!    *   consistent fill conventions for mirrored glyphs.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @inout:</span>
<span class="line-modified">!    *   outline ::</span>
<span class="line-modified">!    *     A pointer to the target outline descriptor.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-modified">!    *   This function toggles the bit flag @FT_OUTLINE_REVERSE_FILL in the</span>
<span class="line-modified">!    *   outline&#39;s `flags` field.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   It shouldn&#39;t be used by a normal client application, unless it knows</span>
<span class="line-modified">!    *   what it is doing.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( void )
    FT_Outline_Reverse( FT_Outline*  outline );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Outline_Get_Bitmap</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Render an outline within a bitmap.  The outline&#39;s image is simply</span>
<span class="line-modified">!    *   OR-ed to the target bitmap.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   library ::</span>
<span class="line-modified">!    *     A handle to a FreeType library object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   outline ::</span>
<span class="line-modified">!    *     A pointer to the source outline descriptor.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @inout:</span>
<span class="line-modified">!    *   abitmap ::</span>
<span class="line-modified">!    *     A pointer to the target bitmap descriptor.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *   FreeType error code.  0~means success.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-modified">!    *   This function does **not create** the bitmap, it only renders an</span>
<span class="line-modified">!    *   outline image within the one you pass to it!  Consequently, the</span>
<span class="line-modified">!    *   various fields in `abitmap` should be set accordingly.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   It will use the raster corresponding to the default glyph format.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   The value of the `num_grays` field in `abitmap` is ignored.  If you</span>
<span class="line-added">+    *   select the gray-level rasterizer, and you want less than 256 gray</span>
<span class="line-added">+    *   levels, you have to use @FT_Outline_Render directly.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( FT_Error )
    FT_Outline_Get_Bitmap( FT_Library        library,
                           FT_Outline*       outline,
                           const FT_Bitmap  *abitmap );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Outline_Render</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Render an outline within a bitmap using the current scan-convert.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   library ::</span>
<span class="line-modified">!    *     A handle to a FreeType library object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   outline ::</span>
<span class="line-modified">!    *     A pointer to the source outline descriptor.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @inout:</span>
<span class="line-modified">!    *   params ::</span>
<span class="line-modified">!    *     A pointer to an @FT_Raster_Params structure used to describe the</span>
<span class="line-modified">!    *     rendering operation.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *   FreeType error code.  0~means success.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-modified">!    *   This advanced function uses @FT_Raster_Params as an argument,</span>
<span class="line-modified">!    *   allowing FreeType rasterizer to be used for direct composition,</span>
<span class="line-modified">!    *   translucency, etc.  You should know how to set up @FT_Raster_Params</span>
<span class="line-modified">!    *   for this function to work.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   The field `params.source` will be set to `outline` before the scan</span>
<span class="line-modified">!    *   converter is called, which means that the value you give to it is</span>
<span class="line-modified">!    *   actually ignored.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   The gray-level rasterizer always uses 256 gray levels.  If you want</span>
<span class="line-modified">!    *   less gray levels, you have to provide your own span callback.  See the</span>
<span class="line-modified">!    *   @FT_RASTER_FLAG_DIRECT value of the `flags` field in the</span>
<span class="line-added">+    *   @FT_Raster_Params structure for more details.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( FT_Error )
    FT_Outline_Render( FT_Library         library,
                       FT_Outline*        outline,
                       FT_Raster_Params*  params );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @enum:</span>
<span class="line-modified">!    *   FT_Orientation</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   A list of values used to describe an outline&#39;s contour orientation.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   The TrueType and PostScript specifications use different conventions</span>
<span class="line-modified">!    *   to determine whether outline contours should be filled or unfilled.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @values:</span>
<span class="line-modified">!    *   FT_ORIENTATION_TRUETYPE ::</span>
<span class="line-modified">!    *     According to the TrueType specification, clockwise contours must be</span>
<span class="line-modified">!    *     filled, and counter-clockwise ones must be unfilled.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FT_ORIENTATION_POSTSCRIPT ::</span>
<span class="line-modified">!    *     According to the PostScript specification, counter-clockwise</span>
<span class="line-modified">!    *     contours must be filled, and clockwise ones must be unfilled.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FT_ORIENTATION_FILL_RIGHT ::</span>
<span class="line-modified">!    *     This is identical to @FT_ORIENTATION_TRUETYPE, but is used to</span>
<span class="line-modified">!    *     remember that in TrueType, everything that is to the right of the</span>
<span class="line-modified">!    *     drawing direction of a contour must be filled.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FT_ORIENTATION_FILL_LEFT ::</span>
<span class="line-modified">!    *     This is identical to @FT_ORIENTATION_POSTSCRIPT, but is used to</span>
<span class="line-modified">!    *     remember that in PostScript, everything that is to the left of the</span>
<span class="line-modified">!    *     drawing direction of a contour must be filled.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FT_ORIENTATION_NONE ::</span>
<span class="line-modified">!    *     The orientation cannot be determined.  That is, different parts of</span>
<span class="line-modified">!    *     the glyph have different orientation.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    */</span>
    typedef enum  FT_Orientation_
    {
      FT_ORIENTATION_TRUETYPE   = 0,
      FT_ORIENTATION_POSTSCRIPT = 1,
      FT_ORIENTATION_FILL_RIGHT = FT_ORIENTATION_TRUETYPE,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 537,37 ***</span>
      FT_ORIENTATION_NONE
  
    } FT_Orientation;
  
  
<span class="line-modified">!  /**************************************************************************</span>
<span class="line-modified">!   *</span>
<span class="line-modified">!   * @function:</span>
<span class="line-modified">!   *   FT_Outline_Get_Orientation</span>
<span class="line-modified">!   *</span>
<span class="line-modified">!   * @description:</span>
<span class="line-modified">!   *   This function analyzes a glyph outline and tries to compute its</span>
<span class="line-modified">!   *   fill orientation (see @FT_Orientation).  This is done by integrating</span>
<span class="line-modified">!   *   the total area covered by the outline. The positive integral</span>
<span class="line-modified">!   *   corresponds to the clockwise orientation and @FT_ORIENTATION_POSTSCRIPT</span>
<span class="line-modified">!   *   is returned. The negative integral corresponds to the counter-clockwise</span>
<span class="line-modified">!   *   orientation and @FT_ORIENTATION_TRUETYPE is returned.</span>
<span class="line-modified">!   *</span>
<span class="line-modified">!   *   Note that this will return @FT_ORIENTATION_TRUETYPE for empty</span>
<span class="line-modified">!   *   outlines.</span>
<span class="line-modified">!   *</span>
<span class="line-modified">!   * @input:</span>
<span class="line-modified">!   *   outline ::</span>
<span class="line-modified">!   *     A handle to the source outline.</span>
<span class="line-modified">!   *</span>
<span class="line-modified">!   * @return:</span>
<span class="line-modified">!   *   The orientation.</span>
<span class="line-modified">!   *</span>
<span class="line-modified">!   */</span>
    FT_EXPORT( FT_Orientation )
    FT_Outline_Get_Orientation( FT_Outline*  outline );
  
    /* */
  
  
  FT_END_HEADER
  
<span class="line-new-header">--- 547,38 ---</span>
      FT_ORIENTATION_NONE
  
    } FT_Orientation;
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Outline_Get_Orientation</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   This function analyzes a glyph outline and tries to compute its fill</span>
<span class="line-modified">!    *   orientation (see @FT_Orientation).  This is done by integrating the</span>
<span class="line-modified">!    *   total area covered by the outline. The positive integral corresponds</span>
<span class="line-modified">!    *   to the clockwise orientation and @FT_ORIENTATION_POSTSCRIPT is</span>
<span class="line-modified">!    *   returned. The negative integral corresponds to the counter-clockwise</span>
<span class="line-modified">!    *   orientation and @FT_ORIENTATION_TRUETYPE is returned.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Note that this will return @FT_ORIENTATION_TRUETYPE for empty</span>
<span class="line-modified">!    *   outlines.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   outline ::</span>
<span class="line-modified">!    *     A handle to the source outline.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *   The orientation.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    */</span>
    FT_EXPORT( FT_Orientation )
    FT_Outline_Get_Orientation( FT_Outline*  outline );
  
<span class="line-added">+ </span>
    /* */
  
  
  FT_END_HEADER
  
</pre>
<center><a href="ftmoderr.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ftparams.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>