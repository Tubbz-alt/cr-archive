<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.desktop/share/native/libfreetype/include/freetype/config/ftoption.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ftmodule.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ftstdlib.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfreetype/include/freetype/config/ftoption.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,21 ***</span>
<span class="line-modified">! /***************************************************************************/</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  ftoption.h                                                             */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*    User-selectable configuration macros (specification only).           */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  Copyright 1996-2018 by                                                 */</span>
<span class="line-modified">! /*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  This file is part of the FreeType project, and may only be used,       */</span>
<span class="line-modified">! /*  modified, and distributed under the terms of the FreeType project      */</span>
<span class="line-modified">! /*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */</span>
<span class="line-modified">! /*  this file you indicate that you have read the license and              */</span>
<span class="line-modified">! /*  understand and accept it fully.                                        */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /***************************************************************************/</span>
  
  
  #ifndef FTOPTION_H_
  #define FTOPTION_H_
  
<span class="line-new-header">--- 1,21 ---</span>
<span class="line-modified">! /****************************************************************************</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * ftoption.h</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  *   User-selectable configuration macros (specification only).</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * Copyright (C) 1996-2019 by</span>
<span class="line-modified">!  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified">!  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified">!  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified">!  * this file you indicate that you have read the license and</span>
<span class="line-modified">!  * understand and accept it fully.</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  */</span>
  
  
  #ifndef FTOPTION_H_
  #define FTOPTION_H_
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 23,49 ***</span>
  #include &lt;ft2build.h&gt;
  
  
  FT_BEGIN_HEADER
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*                 USER-SELECTABLE CONFIGURATION MACROS                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* This file contains the default configuration macro definitions for    */</span>
<span class="line-modified">!   /* a standard build of the FreeType library.  There are three ways to    */</span>
<span class="line-modified">!   /* use this file to build project-specific versions of the library:      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*  - You can modify this file by hand, but this is not recommended in   */</span>
<span class="line-modified">!   /*    cases where you would like to build several versions of the        */</span>
<span class="line-modified">!   /*    library from a single source directory.                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*  - You can put a copy of this file in your build directory, more      */</span>
<span class="line-modified">!   /*    precisely in `$BUILD/freetype/config/ftoption.h&#39;, where `$BUILD&#39;   */</span>
<span class="line-modified">!   /*    is the name of a directory that is included _before_ the FreeType  */</span>
<span class="line-modified">!   /*    include path during compilation.                                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    The default FreeType Makefiles and Jamfiles use the build          */</span>
<span class="line-modified">!   /*    directory `builds/&lt;system&gt;&#39; by default, but you can easily change  */</span>
<span class="line-modified">!   /*    that for your own projects.                                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*  - Copy the file &lt;ft2build.h&gt; to `$BUILD/ft2build.h&#39; and modify it    */</span>
<span class="line-modified">!   /*    slightly to pre-define the macro FT_CONFIG_OPTIONS_H used to       */</span>
<span class="line-modified">!   /*    locate this file during the build.  For example,                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*      #define FT_CONFIG_OPTIONS_H  &lt;myftoptions.h&gt;                     */</span>
<span class="line-modified">!   /*      #include &lt;freetype/config/ftheader.h&gt;                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    will use `$BUILD/myftoptions.h&#39; instead of this file for macro     */</span>
<span class="line-modified">!   /*    definitions.                                                       */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    Note also that you can similarly pre-define the macro              */</span>
<span class="line-modified">!   /*    FT_CONFIG_MODULES_H used to locate the file listing of the modules */</span>
<span class="line-modified">!   /*    that are statically linked to the library at compile time.  By     */</span>
<span class="line-modified">!   /*    default, this file is &lt;freetype/config/ftmodule.h&gt;.                */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* We highly recommend using the third method whenever possible.         */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*************************************************************************/</span>
  
  
    /*************************************************************************/
    /*************************************************************************/
    /****                                                                 ****/
<span class="line-new-header">--- 23,51 ---</span>
  #include &lt;ft2build.h&gt;
  
  
  FT_BEGIN_HEADER
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *                USER-SELECTABLE CONFIGURATION MACROS</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * This file contains the default configuration macro definitions for a</span>
<span class="line-modified">!    * standard build of the FreeType library.  There are three ways to use</span>
<span class="line-modified">!    * this file to build project-specific versions of the library:</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * - You can modify this file by hand, but this is not recommended in</span>
<span class="line-modified">!    *   cases where you would like to build several versions of the library</span>
<span class="line-modified">!    *   from a single source directory.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * - You can put a copy of this file in your build directory, more</span>
<span class="line-modified">!    *   precisely in `$BUILD/freetype/config/ftoption.h`, where `$BUILD` is</span>
<span class="line-modified">!    *   the name of a directory that is included _before_ the FreeType include</span>
<span class="line-modified">!    *   path during compilation.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   The default FreeType Makefiles and Jamfiles use the build directory</span>
<span class="line-modified">!    *   `builds/&lt;system&gt;` by default, but you can easily change that for your</span>
<span class="line-modified">!    *   own projects.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * - Copy the file &lt;ft2build.h&gt; to `$BUILD/ft2build.h` and modify it</span>
<span class="line-modified">!    *   slightly to pre-define the macro `FT_CONFIG_OPTIONS_H` used to locate</span>
<span class="line-modified">!    *   this file during the build.  For example,</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   ```</span>
<span class="line-modified">!    *     #define FT_CONFIG_OPTIONS_H  &lt;myftoptions.h&gt;</span>
<span class="line-modified">!    *     #include &lt;freetype/config/ftheader.h&gt;</span>
<span class="line-modified">!    *   ```</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   will use `$BUILD/myftoptions.h` instead of this file for macro</span>
<span class="line-modified">!    *   definitions.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Note also that you can similarly pre-define the macro</span>
<span class="line-modified">!    *   `FT_CONFIG_MODULES_H` used to locate the file listing of the modules</span>
<span class="line-modified">!    *   that are statically linked to the library at compile time.  By</span>
<span class="line-modified">!    *   default, this file is `&lt;freetype/config/ftmodule.h&gt;`.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * We highly recommend using the third method whenever possible.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    */</span>
  
  
    /*************************************************************************/
    /*************************************************************************/
    /****                                                                 ****/
</pre>
<hr />
<pre>
<span class="line-old-header">*** 73,448 ***</span>
    /****                                                                 ****/
    /*************************************************************************/
    /*************************************************************************/
  
  
<span class="line-modified">!   /*#***********************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* If you enable this configuration option, FreeType recognizes an       */</span>
<span class="line-modified">!   /* environment variable called `FREETYPE_PROPERTIES&#39;, which can be used  */</span>
<span class="line-modified">!   /* to control the various font drivers and modules.  The controllable    */</span>
<span class="line-modified">!   /* properties are listed in the section @properties.                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* You have to undefine this configuration option on platforms that lack */</span>
<span class="line-modified">!   /* the concept of environment variables (and thus don&#39;t have the         */</span>
<span class="line-modified">!   /* `getenv&#39; function), for example Windows CE.                           */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* `FREETYPE_PROPERTIES&#39; has the following syntax form (broken here into */</span>
<span class="line-modified">!   /* multiple lines for better readability).                               */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* {                                                                     */</span>
<span class="line-modified">!   /*   &lt;optional whitespace&gt;                                               */</span>
<span class="line-modified">!   /*   &lt;module-name1&gt; &#39;:&#39;                                                  */</span>
<span class="line-modified">!   /*   &lt;property-name1&gt; &#39;=&#39; &lt;property-value1&gt;                              */</span>
<span class="line-modified">!   /*   &lt;whitespace&gt;                                                        */</span>
<span class="line-modified">!   /*   &lt;module-name2&gt; &#39;:&#39;                                                  */</span>
<span class="line-modified">!   /*   &lt;property-name2&gt; &#39;=&#39; &lt;property-value2&gt;                              */</span>
<span class="line-modified">!   /*   ...                                                                 */</span>
<span class="line-modified">!   /* }                                                                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Example:                                                              */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   FREETYPE_PROPERTIES=truetype:interpreter-version=35 \               */</span>
<span class="line-modified">!   /*                       cff:no-stem-darkening=1 \                       */</span>
<span class="line-modified">!   /*                       autofitter:warping=1                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #define FT_CONFIG_OPTION_ENVIRONMENT_PROPERTIES
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Uncomment the line below if you want to activate LCD rendering        */</span>
<span class="line-modified">!   /* technology similar to ClearType in this build of the library.  This   */</span>
<span class="line-modified">!   /* technology triples the resolution in the direction color subpixels.   */</span>
<span class="line-modified">!   /* To mitigate color fringes inherent to this technology, you also need  */</span>
<span class="line-modified">!   /* to explicitly set up LCD filtering.                                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Note that this feature is covered by several Microsoft patents        */</span>
<span class="line-modified">!   /* and should not be activated in any default build of the library.      */</span>
<span class="line-modified">!   /* When this macro is not defined, FreeType offers alternative LCD       */</span>
<span class="line-modified">!   /* rendering technology that produces excellent output without LCD       */</span>
<span class="line-modified">!   /* filtering.                                                            */</span>
<span class="line-removed">-   /*                                                                       */</span>
  /* #define FT_CONFIG_OPTION_SUBPIXEL_RENDERING */
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Many compilers provide a non-ANSI 64-bit data type that can be used   */</span>
<span class="line-modified">!   /* by FreeType to speed up some computations.  However, this will create */</span>
<span class="line-modified">!   /* some problems when compiling the library in strict ANSI mode.         */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* For this reason, the use of 64-bit integers is normally disabled when */</span>
<span class="line-modified">!   /* the __STDC__ macro is defined.  You can however disable this by       */</span>
<span class="line-modified">!   /* defining the macro FT_CONFIG_OPTION_FORCE_INT64 here.                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* For most compilers, this will only create compilation warnings when   */</span>
<span class="line-modified">!   /* building the library.                                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* ObNote: The compiler-specific 64-bit integers are detected in the     */</span>
<span class="line-modified">!   /*         file `ftconfig.h&#39; either statically or through the            */</span>
<span class="line-modified">!   /*         `configure&#39; script on supported platforms.                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #undef FT_CONFIG_OPTION_FORCE_INT64
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* If this macro is defined, do not try to use an assembler version of   */</span>
<span class="line-modified">!   /* performance-critical functions (e.g. FT_MulFix).  You should only do  */</span>
<span class="line-modified">!   /* that to verify that the assembler function works properly, or to      */</span>
<span class="line-modified">!   /* execute benchmark tests of the various implementations.               */</span>
  /* #define FT_CONFIG_OPTION_NO_ASSEMBLER */
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* If this macro is defined, try to use an inlined assembler version of  */</span>
<span class="line-modified">!   /* the `FT_MulFix&#39; function, which is a `hotspot&#39; when loading and       */</span>
<span class="line-modified">!   /* hinting glyphs, and which should be executed as fast as possible.     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Note that if your compiler or CPU is not supported, this will default */</span>
<span class="line-modified">!   /* to the standard and portable implementation found in `ftcalc.c&#39;.      */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #define FT_CONFIG_OPTION_INLINE_MULFIX
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* LZW-compressed file support.                                          */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   FreeType now handles font files that have been compressed with the  */</span>
<span class="line-modified">!   /*   `compress&#39; program.  This is mostly used to parse many of the PCF   */</span>
<span class="line-modified">!   /*   files that come with various X11 distributions.  The implementation */</span>
<span class="line-modified">!   /*   uses NetBSD&#39;s `zopen&#39; to partially uncompress the file on the fly   */</span>
<span class="line-modified">!   /*   (see src/lzw/ftgzip.c).                                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Define this macro if you want to enable this `feature&#39;.             */</span>
<span class="line-modified">!   /*                                                                       */</span>
  /* #define FT_CONFIG_OPTION_USE_LZW */
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Gzip-compressed file support.                                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   FreeType now handles font files that have been compressed with the  */</span>
<span class="line-modified">!   /*   `gzip&#39; program.  This is mostly used to parse many of the PCF files */</span>
<span class="line-modified">!   /*   that come with XFree86.  The implementation uses `zlib&#39; to          */</span>
<span class="line-modified">!   /*   partially uncompress the file on the fly (see src/gzip/ftgzip.c).   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Define this macro if you want to enable this `feature&#39;.  See also   */</span>
<span class="line-modified">!   /*   the macro FT_CONFIG_OPTION_SYSTEM_ZLIB below.                       */</span>
<span class="line-modified">!   /*                                                                       */</span>
  /* #define FT_CONFIG_OPTION_USE_ZLIB */
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* ZLib library selection                                                */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   This macro is only used when FT_CONFIG_OPTION_USE_ZLIB is defined.  */</span>
<span class="line-modified">!   /*   It allows FreeType&#39;s `ftgzip&#39; component to link to the system&#39;s     */</span>
<span class="line-modified">!   /*   installation of the ZLib library.  This is useful on systems like   */</span>
<span class="line-modified">!   /*   Unix or VMS where it generally is already available.                */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   If you let it undefined, the component will use its own copy        */</span>
<span class="line-modified">!   /*   of the zlib sources instead.  These have been modified to be        */</span>
<span class="line-modified">!   /*   included directly within the component and *not* export external    */</span>
<span class="line-modified">!   /*   function names.  This allows you to link any program with FreeType  */</span>
<span class="line-modified">!   /*   _and_ ZLib without linking conflicts.                               */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Do not #undef this macro here since the build system might define   */</span>
<span class="line-modified">!   /*   it for certain configurations only.                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   If you use a build system like cmake or the `configure&#39; script,     */</span>
<span class="line-modified">!   /*   options set by those programs have precendence, overwriting the     */</span>
<span class="line-modified">!   /*   value here with the configured one.                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
  /* #define FT_CONFIG_OPTION_SYSTEM_ZLIB */
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Bzip2-compressed file support.                                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   FreeType now handles font files that have been compressed with the  */</span>
<span class="line-modified">!   /*   `bzip2&#39; program.  This is mostly used to parse many of the PCF      */</span>
<span class="line-modified">!   /*   files that come with XFree86.  The implementation uses `libbz2&#39; to  */</span>
<span class="line-modified">!   /*   partially uncompress the file on the fly (see src/bzip2/ftbzip2.c). */</span>
<span class="line-modified">!   /*   Contrary to gzip, bzip2 currently is not included and need to use   */</span>
<span class="line-modified">!   /*   the system available bzip2 implementation.                          */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Define this macro if you want to enable this `feature&#39;.             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   If you use a build system like cmake or the `configure&#39; script,     */</span>
<span class="line-modified">!   /*   options set by those programs have precendence, overwriting the     */</span>
<span class="line-modified">!   /*   value here with the configured one.                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
  /* #define FT_CONFIG_OPTION_USE_BZIP2 */
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Define to disable the use of file stream functions and types, FILE,   */</span>
<span class="line-modified">!   /* fopen() etc.  Enables the use of smaller system libraries on embedded */</span>
<span class="line-modified">!   /* systems that have multiple system libraries, some with or without     */</span>
<span class="line-modified">!   /* file stream support, in the cases where file stream support is not    */</span>
<span class="line-modified">!   /* necessary such as memory loading of font files.                       */</span>
<span class="line-modified">!   /*                                                                       */</span>
  /* #define FT_CONFIG_OPTION_DISABLE_STREAM_SUPPORT */
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* PNG bitmap support.                                                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   FreeType now handles loading color bitmap glyphs in the PNG format. */</span>
<span class="line-modified">!   /*   This requires help from the external libpng library.  Uncompressed  */</span>
<span class="line-modified">!   /*   color bitmaps do not need any external libraries and will be        */</span>
<span class="line-modified">!   /*   supported regardless of this configuration.                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Define this macro if you want to enable this `feature&#39;.             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   If you use a build system like cmake or the `configure&#39; script,     */</span>
<span class="line-modified">!   /*   options set by those programs have precendence, overwriting the     */</span>
<span class="line-modified">!   /*   value here with the configured one.                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
  /* #define FT_CONFIG_OPTION_USE_PNG */
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* HarfBuzz support.                                                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   FreeType uses the HarfBuzz library to improve auto-hinting of       */</span>
<span class="line-modified">!   /*   OpenType fonts.  If available, many glyphs not directly addressable */</span>
<span class="line-modified">!   /*   by a font&#39;s character map will be hinted also.                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Define this macro if you want to enable this `feature&#39;.             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   If you use a build system like cmake or the `configure&#39; script,     */</span>
<span class="line-modified">!   /*   options set by those programs have precendence, overwriting the     */</span>
<span class="line-modified">!   /*   value here with the configured one.                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
  /* #define FT_CONFIG_OPTION_USE_HARFBUZZ */
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Glyph Postscript Names handling                                       */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   By default, FreeType 2 is compiled with the `psnames&#39; module.  This */</span>
<span class="line-modified">!   /*   module is in charge of converting a glyph name string into a        */</span>
<span class="line-modified">!   /*   Unicode value, or return a Macintosh standard glyph name for the    */</span>
<span class="line-modified">!   /*   use with the TrueType `post&#39; table.                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Undefine this macro if you do not want `psnames&#39; compiled in your   */</span>
<span class="line-modified">!   /*   build of FreeType.  This has the following effects:                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   - The TrueType driver will provide its own set of glyph names,      */</span>
<span class="line-modified">!   /*     if you build it to support postscript names in the TrueType       */</span>
<span class="line-modified">!   /*     `post&#39; table, but will not synthesize a missing Unicode charmap.  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   - The Type 1 driver will not be able to synthesize a Unicode        */</span>
<span class="line-modified">!   /*     charmap out of the glyphs found in the fonts.                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   You would normally undefine this configuration macro when building  */</span>
<span class="line-modified">!   /*   a version of FreeType that doesn&#39;t contain a Type 1 or CFF driver.  */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #define FT_CONFIG_OPTION_POSTSCRIPT_NAMES
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Postscript Names to Unicode Values support                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   By default, FreeType 2 is built with the `PSNames&#39; module compiled  */</span>
<span class="line-modified">!   /*   in.  Among other things, the module is used to convert a glyph name */</span>
<span class="line-modified">!   /*   into a Unicode value.  This is especially useful in order to        */</span>
<span class="line-modified">!   /*   synthesize on the fly a Unicode charmap from the CFF/Type 1 driver  */</span>
<span class="line-modified">!   /*   through a big table named the `Adobe Glyph List&#39; (AGL).             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Undefine this macro if you do not want the Adobe Glyph List         */</span>
<span class="line-modified">!   /*   compiled in your `PSNames&#39; module.  The Type 1 driver will not be   */</span>
<span class="line-modified">!   /*   able to synthesize a Unicode charmap out of the glyphs found in the */</span>
<span class="line-modified">!   /*   fonts.                                                              */</span>
<span class="line-removed">-   /*                                                                       */</span>
  #define FT_CONFIG_OPTION_ADOBE_GLYPH_LIST
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Support for Mac fonts                                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Define this macro if you want support for outline fonts in Mac      */</span>
<span class="line-modified">!   /*   format (mac dfont, mac resource, macbinary containing a mac         */</span>
<span class="line-modified">!   /*   resource) on non-Mac platforms.                                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Note that the `FOND&#39; resource isn&#39;t checked.                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #define FT_CONFIG_OPTION_MAC_FONTS
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Guessing methods to access embedded resource forks                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Enable extra Mac fonts support on non-Mac platforms (e.g.           */</span>
<span class="line-modified">!   /*   GNU/Linux).                                                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Resource forks which include fonts data are stored sometimes in     */</span>
<span class="line-modified">!   /*   locations which users or developers don&#39;t expected.  In some cases, */</span>
<span class="line-modified">!   /*   resource forks start with some offset from the head of a file.  In  */</span>
<span class="line-modified">!   /*   other cases, the actual resource fork is stored in file different   */</span>
<span class="line-modified">!   /*   from what the user specifies.  If this option is activated,         */</span>
<span class="line-modified">!   /*   FreeType tries to guess whether such offsets or different file      */</span>
<span class="line-modified">!   /*   names must be used.                                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Note that normal, direct access of resource forks is controlled via */</span>
<span class="line-removed">-   /*   the FT_CONFIG_OPTION_MAC_FONTS option.                              */</span>
<span class="line-removed">-   /*                                                                       */</span>
  #ifdef FT_CONFIG_OPTION_MAC_FONTS
  #define FT_CONFIG_OPTION_GUESSING_EMBEDDED_RFORK
  #endif
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Allow the use of FT_Incremental_Interface to load typefaces that      */</span>
<span class="line-modified">!   /* contain no glyph data, but supply it via a callback function.         */</span>
<span class="line-modified">!   /* This is required by clients supporting document formats which         */</span>
<span class="line-modified">!   /* supply font data incrementally as the document is parsed, such        */</span>
<span class="line-modified">!   /* as the Ghostscript interpreter for the PostScript language.           */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #define FT_CONFIG_OPTION_INCREMENTAL
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* The size in bytes of the render pool used by the scan-line converter  */</span>
<span class="line-modified">!   /* to do all of its work.                                                */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #define FT_RENDER_POOL_SIZE  16384L
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* FT_MAX_MODULES                                                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   The maximum number of modules that can be registered in a single    */</span>
<span class="line-modified">!   /*   FreeType library object.  32 is the default.                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #define FT_MAX_MODULES  32
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Debug level                                                           */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   FreeType can be compiled in debug or trace mode.  In debug mode,    */</span>
<span class="line-modified">!   /*   errors are reported through the `ftdebug&#39; component.  In trace      */</span>
<span class="line-modified">!   /*   mode, additional messages are sent to the standard output during    */</span>
<span class="line-modified">!   /*   execution.                                                          */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Define FT_DEBUG_LEVEL_ERROR to build the library in debug mode.     */</span>
<span class="line-modified">!   /*   Define FT_DEBUG_LEVEL_TRACE to build it in trace mode.              */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Don&#39;t define any of these macros to compile in `release&#39; mode!      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Do not #undef these macros here since the build system might define */</span>
<span class="line-modified">!   /*   them for certain configurations only.                               */</span>
<span class="line-removed">-   /*                                                                       */</span>
  /* #define FT_DEBUG_LEVEL_ERROR */
  /* #define FT_DEBUG_LEVEL_TRACE */
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Autofitter debugging                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   If FT_DEBUG_AUTOFIT is defined, FreeType provides some means to     */</span>
<span class="line-modified">!   /*   control the autofitter behaviour for debugging purposes with global */</span>
<span class="line-modified">!   /*   boolean variables (consequently, you should *never* enable this     */</span>
<span class="line-modified">!   /*   while compiling in `release&#39; mode):                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*     _af_debug_disable_horz_hints                                      */</span>
<span class="line-modified">!   /*     _af_debug_disable_vert_hints                                      */</span>
<span class="line-modified">!   /*     _af_debug_disable_blue_hints                                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Additionally, the following functions provide dumps of various      */</span>
<span class="line-modified">!   /*   internal autofit structures to stdout (using `printf&#39;):             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*     af_glyph_hints_dump_points                                        */</span>
<span class="line-modified">!   /*     af_glyph_hints_dump_segments                                      */</span>
<span class="line-modified">!   /*     af_glyph_hints_dump_edges                                         */</span>
<span class="line-modified">!   /*     af_glyph_hints_get_num_segments                                   */</span>
<span class="line-modified">!   /*     af_glyph_hints_get_segment_offset                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   As an argument, they use another global variable:                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*     _af_debug_hints                                                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Please have a look at the `ftgrid&#39; demo program to see how those    */</span>
<span class="line-modified">!   /*   variables and macros should be used.                                */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Do not #undef these macros here since the build system might define */</span>
<span class="line-modified">!   /*   them for certain configurations only.                               */</span>
<span class="line-modified">!   /*                                                                       */</span>
  /* #define FT_DEBUG_AUTOFIT */
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Memory Debugging                                                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   FreeType now comes with an integrated memory debugger that is       */</span>
<span class="line-modified">!   /*   capable of detecting simple errors like memory leaks or double      */</span>
<span class="line-modified">!   /*   deletes.  To compile it within your build of the library, you       */</span>
<span class="line-modified">!   /*   should define FT_DEBUG_MEMORY here.                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Note that the memory debugger is only activated at runtime when     */</span>
<span class="line-modified">!   /*   when the _environment_ variable `FT2_DEBUG_MEMORY&#39; is defined also! */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Do not #undef this macro here since the build system might define   */</span>
<span class="line-modified">!   /*   it for certain configurations only.                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
  /* #define FT_DEBUG_MEMORY */
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Module errors                                                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   If this macro is set (which is _not_ the default), the higher byte  */</span>
<span class="line-modified">!   /*   of an error code gives the module in which the error has occurred,  */</span>
<span class="line-modified">!   /*   while the lower byte is the real error code.                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Setting this macro makes sense for debugging purposes only, since   */</span>
<span class="line-modified">!   /*   it would break source compatibility of certain programs that use    */</span>
<span class="line-modified">!   /*   FreeType 2.                                                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   More details can be found in the files ftmoderr.h and fterrors.h.   */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #undef FT_CONFIG_OPTION_USE_MODULE_ERRORS
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Position Independent Code                                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   If this macro is set (which is _not_ the default), FreeType2 will   */</span>
<span class="line-modified">!   /*   avoid creating constants that require address fixups.  Instead the  */</span>
<span class="line-modified">!   /*   constants will be moved into a struct and additional intialization  */</span>
<span class="line-modified">!   /*   code will be used.                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Setting this macro is needed for systems that prohibit address      */</span>
<span class="line-modified">!   /*   fixups, such as BREW.  [Note that standard compilers like gcc or    */</span>
<span class="line-removed">-   /*   clang handle PIC generation automatically; you don&#39;t have to set    */</span>
<span class="line-removed">-   /*   FT_CONFIG_OPTION_PIC, which is only necessary for very special      */</span>
<span class="line-removed">-   /*   compilers.]                                                         */</span>
<span class="line-removed">-   /*                                                                       */</span>
<span class="line-removed">-   /*   Note that FT_CONFIG_OPTION_PIC support is not available for all     */</span>
<span class="line-removed">-   /*   modules (see `modules.cfg&#39; for a complete list).  For building with */</span>
<span class="line-removed">-   /*   FT_CONFIG_OPTION_PIC support, do the following.                     */</span>
<span class="line-removed">-   /*                                                                       */</span>
<span class="line-removed">-   /*     0. Clone the repository.                                          */</span>
<span class="line-removed">-   /*     1. Define FT_CONFIG_OPTION_PIC.                                   */</span>
<span class="line-removed">-   /*     2. Remove all subdirectories in `src&#39; that don&#39;t have             */</span>
<span class="line-removed">-   /*        FT_CONFIG_OPTION_PIC support.                                  */</span>
<span class="line-removed">-   /*     3. Comment out the corresponding modules in `modules.cfg&#39;.        */</span>
<span class="line-removed">-   /*     4. Compile.                                                       */</span>
<span class="line-removed">-   /*                                                                       */</span>
<span class="line-removed">- /* #define FT_CONFIG_OPTION_PIC */</span>
  
  
    /*************************************************************************/
    /*************************************************************************/
    /****                                                                 ****/
<span class="line-new-header">--- 75,437 ---</span>
    /****                                                                 ****/
    /*************************************************************************/
    /*************************************************************************/
  
  
<span class="line-modified">!   /*#************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * If you enable this configuration option, FreeType recognizes an</span>
<span class="line-modified">!    * environment variable called `FREETYPE_PROPERTIES`, which can be used to</span>
<span class="line-modified">!    * control the various font drivers and modules.  The controllable</span>
<span class="line-modified">!    * properties are listed in the section @properties.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * You have to undefine this configuration option on platforms that lack</span>
<span class="line-modified">!    * the concept of environment variables (and thus don&#39;t have the `getenv`</span>
<span class="line-modified">!    * function), for example Windows CE.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * `FREETYPE_PROPERTIES` has the following syntax form (broken here into</span>
<span class="line-modified">!    * multiple lines for better readability).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * ```</span>
<span class="line-modified">!    *   &lt;optional whitespace&gt;</span>
<span class="line-modified">!    *   &lt;module-name1&gt; &#39;:&#39;</span>
<span class="line-modified">!    *   &lt;property-name1&gt; &#39;=&#39; &lt;property-value1&gt;</span>
<span class="line-modified">!    *   &lt;whitespace&gt;</span>
<span class="line-modified">!    *   &lt;module-name2&gt; &#39;:&#39;</span>
<span class="line-modified">!    *   &lt;property-name2&gt; &#39;=&#39; &lt;property-value2&gt;</span>
<span class="line-modified">!    *   ...</span>
<span class="line-modified">!    * ```</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Example:</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * ```</span>
<span class="line-modified">!    *   FREETYPE_PROPERTIES=truetype:interpreter-version=35 \</span>
<span class="line-modified">!    *                       cff:no-stem-darkening=1 \</span>
<span class="line-modified">!    *                       autofitter:warping=1</span>
<span class="line-added">+    * ```</span>
<span class="line-added">+    *</span>
<span class="line-added">+    */</span>
  #define FT_CONFIG_OPTION_ENVIRONMENT_PROPERTIES
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Uncomment the line below if you want to activate LCD rendering</span>
<span class="line-modified">!    * technology similar to ClearType in this build of the library.  This</span>
<span class="line-modified">!    * technology triples the resolution in the direction color subpixels.  To</span>
<span class="line-modified">!    * mitigate color fringes inherent to this technology, you also need to</span>
<span class="line-modified">!    * explicitly set up LCD filtering.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Note that this feature is covered by several Microsoft patents and</span>
<span class="line-modified">!    * should not be activated in any default build of the library.  When this</span>
<span class="line-modified">!    * macro is not defined, FreeType offers alternative LCD rendering</span>
<span class="line-modified">!    * technology that produces excellent output without LCD filtering.</span>
<span class="line-modified">!    */</span>
  /* #define FT_CONFIG_OPTION_SUBPIXEL_RENDERING */
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Many compilers provide a non-ANSI 64-bit data type that can be used by</span>
<span class="line-modified">!    * FreeType to speed up some computations.  However, this will create some</span>
<span class="line-modified">!    * problems when compiling the library in strict ANSI mode.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * For this reason, the use of 64-bit integers is normally disabled when</span>
<span class="line-modified">!    * the `__STDC__` macro is defined.  You can however disable this by</span>
<span class="line-modified">!    * defining the macro `FT_CONFIG_OPTION_FORCE_INT64` here.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * For most compilers, this will only create compilation warnings when</span>
<span class="line-modified">!    * building the library.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * ObNote: The compiler-specific 64-bit integers are detected in the</span>
<span class="line-modified">!    *         file `ftconfig.h` either statically or through the `configure`</span>
<span class="line-modified">!    *         script on supported platforms.</span>
<span class="line-modified">!    */</span>
  #undef FT_CONFIG_OPTION_FORCE_INT64
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * If this macro is defined, do not try to use an assembler version of</span>
<span class="line-modified">!    * performance-critical functions (e.g., @FT_MulFix).  You should only do</span>
<span class="line-modified">!    * that to verify that the assembler function works properly, or to execute</span>
<span class="line-modified">!    * benchmark tests of the various implementations.</span>
<span class="line-added">+    */</span>
  /* #define FT_CONFIG_OPTION_NO_ASSEMBLER */
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * If this macro is defined, try to use an inlined assembler version of the</span>
<span class="line-modified">!    * @FT_MulFix function, which is a &#39;hotspot&#39; when loading and hinting</span>
<span class="line-modified">!    * glyphs, and which should be executed as fast as possible.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Note that if your compiler or CPU is not supported, this will default to</span>
<span class="line-modified">!    * the standard and portable implementation found in `ftcalc.c`.</span>
<span class="line-modified">!    */</span>
  #define FT_CONFIG_OPTION_INLINE_MULFIX
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * LZW-compressed file support.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FreeType now handles font files that have been compressed with the</span>
<span class="line-modified">!    *   `compress` program.  This is mostly used to parse many of the PCF</span>
<span class="line-modified">!    *   files that come with various X11 distributions.  The implementation</span>
<span class="line-modified">!    *   uses NetBSD&#39;s `zopen` to partially uncompress the file on the fly (see</span>
<span class="line-modified">!    *   `src/lzw/ftgzip.c`).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Define this macro if you want to enable this &#39;feature&#39;.</span>
<span class="line-modified">!    */</span>
  /* #define FT_CONFIG_OPTION_USE_LZW */
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Gzip-compressed file support.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FreeType now handles font files that have been compressed with the</span>
<span class="line-modified">!    *   `gzip` program.  This is mostly used to parse many of the PCF files</span>
<span class="line-modified">!    *   that come with XFree86.  The implementation uses &#39;zlib&#39; to partially</span>
<span class="line-modified">!    *   uncompress the file on the fly (see `src/gzip/ftgzip.c`).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Define this macro if you want to enable this &#39;feature&#39;.  See also the</span>
<span class="line-modified">!    *   macro `FT_CONFIG_OPTION_SYSTEM_ZLIB` below.</span>
<span class="line-modified">!    */</span>
  /* #define FT_CONFIG_OPTION_USE_ZLIB */
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * ZLib library selection</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   This macro is only used when `FT_CONFIG_OPTION_USE_ZLIB` is defined.</span>
<span class="line-modified">!    *   It allows FreeType&#39;s &#39;ftgzip&#39; component to link to the system&#39;s</span>
<span class="line-modified">!    *   installation of the ZLib library.  This is useful on systems like</span>
<span class="line-modified">!    *   Unix or VMS where it generally is already available.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   If you let it undefined, the component will use its own copy of the</span>
<span class="line-modified">!    *   zlib sources instead.  These have been modified to be included</span>
<span class="line-modified">!    *   directly within the component and **not** export external function</span>
<span class="line-modified">!    *   names.  This allows you to link any program with FreeType _and_ ZLib</span>
<span class="line-modified">!    *   without linking conflicts.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Do not `#undef` this macro here since the build system might define</span>
<span class="line-modified">!    *   it for certain configurations only.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   If you use a build system like cmake or the `configure` script,</span>
<span class="line-modified">!    *   options set by those programs have precedence, overwriting the value</span>
<span class="line-modified">!    *   here with the configured one.</span>
<span class="line-modified">!    */</span>
  /* #define FT_CONFIG_OPTION_SYSTEM_ZLIB */
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Bzip2-compressed file support.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FreeType now handles font files that have been compressed with the</span>
<span class="line-modified">!    *   `bzip2` program.  This is mostly used to parse many of the PCF files</span>
<span class="line-modified">!    *   that come with XFree86.  The implementation uses `libbz2` to partially</span>
<span class="line-modified">!    *   uncompress the file on the fly (see `src/bzip2/ftbzip2.c`).  Contrary</span>
<span class="line-modified">!    *   to gzip, bzip2 currently is not included and need to use the system</span>
<span class="line-modified">!    *   available bzip2 implementation.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Define this macro if you want to enable this &#39;feature&#39;.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   If you use a build system like cmake or the `configure` script,</span>
<span class="line-modified">!    *   options set by those programs have precedence, overwriting the value</span>
<span class="line-modified">!    *   here with the configured one.</span>
<span class="line-modified">!    */</span>
  /* #define FT_CONFIG_OPTION_USE_BZIP2 */
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Define to disable the use of file stream functions and types, `FILE`,</span>
<span class="line-modified">!    * `fopen`, etc.  Enables the use of smaller system libraries on embedded</span>
<span class="line-modified">!    * systems that have multiple system libraries, some with or without file</span>
<span class="line-modified">!    * stream support, in the cases where file stream support is not necessary</span>
<span class="line-modified">!    * such as memory loading of font files.</span>
<span class="line-modified">!    */</span>
  /* #define FT_CONFIG_OPTION_DISABLE_STREAM_SUPPORT */
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * PNG bitmap support.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FreeType now handles loading color bitmap glyphs in the PNG format.</span>
<span class="line-modified">!    *   This requires help from the external libpng library.  Uncompressed</span>
<span class="line-modified">!    *   color bitmaps do not need any external libraries and will be supported</span>
<span class="line-modified">!    *   regardless of this configuration.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Define this macro if you want to enable this &#39;feature&#39;.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   If you use a build system like cmake or the `configure` script,</span>
<span class="line-modified">!    *   options set by those programs have precedence, overwriting the value</span>
<span class="line-modified">!    *   here with the configured one.</span>
<span class="line-modified">!    */</span>
  /* #define FT_CONFIG_OPTION_USE_PNG */
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * HarfBuzz support.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FreeType uses the HarfBuzz library to improve auto-hinting of OpenType</span>
<span class="line-modified">!    *   fonts.  If available, many glyphs not directly addressable by a font&#39;s</span>
<span class="line-modified">!    *   character map will be hinted also.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Define this macro if you want to enable this &#39;feature&#39;.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   If you use a build system like cmake or the `configure` script,</span>
<span class="line-modified">!    *   options set by those programs have precedence, overwriting the value</span>
<span class="line-modified">!    *   here with the configured one.</span>
<span class="line-modified">!    */</span>
  /* #define FT_CONFIG_OPTION_USE_HARFBUZZ */
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Glyph Postscript Names handling</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   By default, FreeType 2 is compiled with the &#39;psnames&#39; module.  This</span>
<span class="line-modified">!    *   module is in charge of converting a glyph name string into a Unicode</span>
<span class="line-modified">!    *   value, or return a Macintosh standard glyph name for the use with the</span>
<span class="line-modified">!    *   TrueType &#39;post&#39; table.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Undefine this macro if you do not want &#39;psnames&#39; compiled in your</span>
<span class="line-modified">!    *   build of FreeType.  This has the following effects:</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   - The TrueType driver will provide its own set of glyph names, if you</span>
<span class="line-modified">!    *     build it to support postscript names in the TrueType &#39;post&#39; table,</span>
<span class="line-modified">!    *     but will not synthesize a missing Unicode charmap.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   - The Type~1 driver will not be able to synthesize a Unicode charmap</span>
<span class="line-modified">!    *     out of the glyphs found in the fonts.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   You would normally undefine this configuration macro when building a</span>
<span class="line-modified">!    *   version of FreeType that doesn&#39;t contain a Type~1 or CFF driver.</span>
<span class="line-modified">!    */</span>
  #define FT_CONFIG_OPTION_POSTSCRIPT_NAMES
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Postscript Names to Unicode Values support</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   By default, FreeType~2 is built with the &#39;psnames&#39; module compiled in.</span>
<span class="line-modified">!    *   Among other things, the module is used to convert a glyph name into a</span>
<span class="line-modified">!    *   Unicode value.  This is especially useful in order to synthesize on</span>
<span class="line-modified">!    *   the fly a Unicode charmap from the CFF/Type~1 driver through a big</span>
<span class="line-modified">!    *   table named the &#39;Adobe Glyph List&#39; (AGL).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Undefine this macro if you do not want the Adobe Glyph List compiled</span>
<span class="line-modified">!    *   in your &#39;psnames&#39; module.  The Type~1 driver will not be able to</span>
<span class="line-modified">!    *   synthesize a Unicode charmap out of the glyphs found in the fonts.</span>
<span class="line-modified">!    */</span>
  #define FT_CONFIG_OPTION_ADOBE_GLYPH_LIST
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Support for Mac fonts</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Define this macro if you want support for outline fonts in Mac format</span>
<span class="line-modified">!    *   (mac dfont, mac resource, macbinary containing a mac resource) on</span>
<span class="line-modified">!    *   non-Mac platforms.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Note that the &#39;FOND&#39; resource isn&#39;t checked.</span>
<span class="line-modified">!    */</span>
  #define FT_CONFIG_OPTION_MAC_FONTS
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Guessing methods to access embedded resource forks</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Enable extra Mac fonts support on non-Mac platforms (e.g., GNU/Linux).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Resource forks which include fonts data are stored sometimes in</span>
<span class="line-modified">!    *   locations which users or developers don&#39;t expected.  In some cases,</span>
<span class="line-modified">!    *   resource forks start with some offset from the head of a file.  In</span>
<span class="line-modified">!    *   other cases, the actual resource fork is stored in file different from</span>
<span class="line-modified">!    *   what the user specifies.  If this option is activated, FreeType tries</span>
<span class="line-modified">!    *   to guess whether such offsets or different file names must be used.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Note that normal, direct access of resource forks is controlled via</span>
<span class="line-modified">!    *   the `FT_CONFIG_OPTION_MAC_FONTS` option.</span>
<span class="line-modified">!    */</span>
  #ifdef FT_CONFIG_OPTION_MAC_FONTS
  #define FT_CONFIG_OPTION_GUESSING_EMBEDDED_RFORK
  #endif
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Allow the use of `FT_Incremental_Interface` to load typefaces that</span>
<span class="line-modified">!    * contain no glyph data, but supply it via a callback function.  This is</span>
<span class="line-modified">!    * required by clients supporting document formats which supply font data</span>
<span class="line-modified">!    * incrementally as the document is parsed, such as the Ghostscript</span>
<span class="line-modified">!    * interpreter for the PostScript language.</span>
<span class="line-modified">!    */</span>
  #define FT_CONFIG_OPTION_INCREMENTAL
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * The size in bytes of the render pool used by the scan-line converter to</span>
<span class="line-modified">!    * do all of its work.</span>
<span class="line-modified">!    */</span>
  #define FT_RENDER_POOL_SIZE  16384L
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * FT_MAX_MODULES</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   The maximum number of modules that can be registered in a single</span>
<span class="line-modified">!    *   FreeType library object.  32~is the default.</span>
<span class="line-modified">!    */</span>
  #define FT_MAX_MODULES  32
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Debug level</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FreeType can be compiled in debug or trace mode.  In debug mode,</span>
<span class="line-modified">!    *   errors are reported through the &#39;ftdebug&#39; component.  In trace mode,</span>
<span class="line-modified">!    *   additional messages are sent to the standard output during execution.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Define `FT_DEBUG_LEVEL_ERROR` to build the library in debug mode.</span>
<span class="line-modified">!    *   Define `FT_DEBUG_LEVEL_TRACE` to build it in trace mode.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Don&#39;t define any of these macros to compile in &#39;release&#39; mode!</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Do not `#undef` these macros here since the build system might define</span>
<span class="line-modified">!    *   them for certain configurations only.</span>
<span class="line-modified">!    */</span>
  /* #define FT_DEBUG_LEVEL_ERROR */
  /* #define FT_DEBUG_LEVEL_TRACE */
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Autofitter debugging</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   If `FT_DEBUG_AUTOFIT` is defined, FreeType provides some means to</span>
<span class="line-modified">!    *   control the autofitter behaviour for debugging purposes with global</span>
<span class="line-modified">!    *   boolean variables (consequently, you should **never** enable this</span>
<span class="line-modified">!    *   while compiling in &#39;release&#39; mode):</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   ```</span>
<span class="line-modified">!    *     _af_debug_disable_horz_hints</span>
<span class="line-modified">!    *     _af_debug_disable_vert_hints</span>
<span class="line-modified">!    *     _af_debug_disable_blue_hints</span>
<span class="line-modified">!    *   ```</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Additionally, the following functions provide dumps of various</span>
<span class="line-modified">!    *   internal autofit structures to stdout (using `printf`):</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   ```</span>
<span class="line-modified">!    *     af_glyph_hints_dump_points</span>
<span class="line-modified">!    *     af_glyph_hints_dump_segments</span>
<span class="line-modified">!    *     af_glyph_hints_dump_edges</span>
<span class="line-modified">!    *     af_glyph_hints_get_num_segments</span>
<span class="line-modified">!    *     af_glyph_hints_get_segment_offset</span>
<span class="line-modified">!    *   ```</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   As an argument, they use another global variable:</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   ```</span>
<span class="line-modified">!    *     _af_debug_hints</span>
<span class="line-modified">!    *   ```</span>
<span class="line-modified">!    *</span>
<span class="line-added">+    *   Please have a look at the `ftgrid` demo program to see how those</span>
<span class="line-added">+    *   variables and macros should be used.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   Do not `#undef` these macros here since the build system might define</span>
<span class="line-added">+    *   them for certain configurations only.</span>
<span class="line-added">+    */</span>
  /* #define FT_DEBUG_AUTOFIT */
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Memory Debugging</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FreeType now comes with an integrated memory debugger that is capable</span>
<span class="line-modified">!    *   of detecting simple errors like memory leaks or double deletes.  To</span>
<span class="line-modified">!    *   compile it within your build of the library, you should define</span>
<span class="line-modified">!    *   `FT_DEBUG_MEMORY` here.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Note that the memory debugger is only activated at runtime when when</span>
<span class="line-modified">!    *   the _environment_ variable `FT2_DEBUG_MEMORY` is defined also!</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Do not `#undef` this macro here since the build system might define it</span>
<span class="line-modified">!    *   for certain configurations only.</span>
<span class="line-modified">!    */</span>
  /* #define FT_DEBUG_MEMORY */
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Module errors</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   If this macro is set (which is _not_ the default), the higher byte of</span>
<span class="line-modified">!    *   an error code gives the module in which the error has occurred, while</span>
<span class="line-modified">!    *   the lower byte is the real error code.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Setting this macro makes sense for debugging purposes only, since it</span>
<span class="line-modified">!    *   would break source compatibility of certain programs that use</span>
<span class="line-modified">!    *   FreeType~2.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   More details can be found in the files `ftmoderr.h` and `fterrors.h`.</span>
<span class="line-modified">!    */</span>
  #undef FT_CONFIG_OPTION_USE_MODULE_ERRORS
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Error Strings</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   If this macro is set, `FT_Error_String` will return meaningful</span>
<span class="line-modified">!    *   descriptions.  This is not enabled by default to reduce the overall</span>
<span class="line-modified">!    *   size of FreeType.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   More details can be found in the file `fterrors.h`.</span>
<span class="line-modified">!    */</span>
<span class="line-modified">! /* #define FT_CONFIG_OPTION_ERROR_STRINGS */</span>
  
  
    /*************************************************************************/
    /*************************************************************************/
    /****                                                                 ****/
</pre>
<hr />
<pre>
<span class="line-old-header">*** 522,54 ***</span>
    /****                                                                 ****/
    /*************************************************************************/
    /*************************************************************************/
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Define TT_CONFIG_OPTION_EMBEDDED_BITMAPS if you want to support       */</span>
<span class="line-modified">!   /* embedded bitmaps in all formats using the SFNT module (namely         */</span>
<span class="line-modified">!   /* TrueType &amp; OpenType).                                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #define TT_CONFIG_OPTION_EMBEDDED_BITMAPS
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Define TT_CONFIG_OPTION_POSTSCRIPT_NAMES if you want to be able to    */</span>
<span class="line-modified">!   /* load and enumerate the glyph Postscript names in a TrueType or        */</span>
<span class="line-modified">!   /* OpenType file.                                                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Note that when you do not compile the `PSNames&#39; module by undefining  */</span>
<span class="line-modified">!   /* the above FT_CONFIG_OPTION_POSTSCRIPT_NAMES, the `sfnt&#39; module will   */</span>
<span class="line-modified">!   /* contain additional code used to read the PS Names table from a font.  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* (By default, the module uses `PSNames&#39; to extract glyph names.)       */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #define TT_CONFIG_OPTION_POSTSCRIPT_NAMES
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Define TT_CONFIG_OPTION_SFNT_NAMES if your applications need to       */</span>
<span class="line-modified">!   /* access the internal name table in a SFNT-based format like TrueType   */</span>
<span class="line-modified">!   /* or OpenType.  The name table contains various strings used to         */</span>
<span class="line-modified">!   /* describe the font, like family name, copyright, version, etc.  It     */</span>
<span class="line-modified">!   /* does not contain any glyph name though.                               */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Accessing SFNT names is done through the functions declared in        */</span>
<span class="line-modified">!   /* `ftsnames.h&#39;.                                                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #define TT_CONFIG_OPTION_SFNT_NAMES
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* TrueType CMap support                                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Here you can fine-tune which TrueType CMap table format shall be    */</span>
<span class="line-modified">!   /*   supported.                                                          */</span>
  #define TT_CONFIG_CMAP_FORMAT_0
  #define TT_CONFIG_CMAP_FORMAT_2
  #define TT_CONFIG_CMAP_FORMAT_4
  #define TT_CONFIG_CMAP_FORMAT_6
  #define TT_CONFIG_CMAP_FORMAT_8
<span class="line-new-header">--- 513,64 ---</span>
    /****                                                                 ****/
    /*************************************************************************/
    /*************************************************************************/
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Define `TT_CONFIG_OPTION_EMBEDDED_BITMAPS` if you want to support</span>
<span class="line-modified">!    * embedded bitmaps in all formats using the &#39;sfnt&#39; module (namely</span>
<span class="line-modified">!    * TrueType~&amp; OpenType).</span>
<span class="line-modified">!    */</span>
  #define TT_CONFIG_OPTION_EMBEDDED_BITMAPS
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Define `TT_CONFIG_OPTION_COLOR_LAYERS` if you want to support coloured</span>
<span class="line-modified">!    * outlines (from the &#39;COLR&#39;/&#39;CPAL&#39; tables) in all formats using the &#39;sfnt&#39;</span>
<span class="line-modified">!    * module (namely TrueType~&amp; OpenType).</span>
<span class="line-modified">!    */</span>
<span class="line-modified">! #define TT_CONFIG_OPTION_COLOR_LAYERS</span>
<span class="line-modified">! </span>
<span class="line-modified">! </span>
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Define `TT_CONFIG_OPTION_POSTSCRIPT_NAMES` if you want to be able to</span>
<span class="line-added">+    * load and enumerate the glyph Postscript names in a TrueType or OpenType</span>
<span class="line-added">+    * file.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * Note that when you do not compile the &#39;psnames&#39; module by undefining the</span>
<span class="line-added">+    * above `FT_CONFIG_OPTION_POSTSCRIPT_NAMES`, the &#39;sfnt&#39; module will</span>
<span class="line-added">+    * contain additional code used to read the PS Names table from a font.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * (By default, the module uses &#39;psnames&#39; to extract glyph names.)</span>
<span class="line-added">+    */</span>
  #define TT_CONFIG_OPTION_POSTSCRIPT_NAMES
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Define `TT_CONFIG_OPTION_SFNT_NAMES` if your applications need to access</span>
<span class="line-modified">!    * the internal name table in a SFNT-based format like TrueType or</span>
<span class="line-modified">!    * OpenType.  The name table contains various strings used to describe the</span>
<span class="line-modified">!    * font, like family name, copyright, version, etc.  It does not contain</span>
<span class="line-modified">!    * any glyph name though.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Accessing SFNT names is done through the functions declared in</span>
<span class="line-modified">!    * `ftsnames.h`.</span>
<span class="line-modified">!    */</span>
  #define TT_CONFIG_OPTION_SFNT_NAMES
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * TrueType CMap support</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Here you can fine-tune which TrueType CMap table format shall be</span>
<span class="line-modified">!    *   supported.</span>
<span class="line-added">+    */</span>
  #define TT_CONFIG_CMAP_FORMAT_0
  #define TT_CONFIG_CMAP_FORMAT_2
  #define TT_CONFIG_CMAP_FORMAT_4
  #define TT_CONFIG_CMAP_FORMAT_6
  #define TT_CONFIG_CMAP_FORMAT_8
</pre>
<hr />
<pre>
<span class="line-old-header">*** 585,135 ***</span>
    /****    T R U E T Y P E   D R I V E R    C O N F I G U R A T I O N   ****/
    /****                                                                 ****/
    /*************************************************************************/
    /*************************************************************************/
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Define TT_CONFIG_OPTION_BYTECODE_INTERPRETER if you want to compile   */</span>
<span class="line-modified">!   /* a bytecode interpreter in the TrueType driver.                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* By undefining this, you will only compile the code necessary to load  */</span>
<span class="line-modified">!   /* TrueType glyphs without hinting.                                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   Do not #undef this macro here, since the build system might         */</span>
<span class="line-modified">!   /*   define it for certain configurations only.                          */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #define TT_CONFIG_OPTION_BYTECODE_INTERPRETER
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Define TT_CONFIG_OPTION_SUBPIXEL_HINTING if you want to compile       */</span>
<span class="line-modified">!   /* subpixel hinting support into the TrueType driver.  This modifies the */</span>
<span class="line-modified">!   /* TrueType hinting mechanism when anything but FT_RENDER_MODE_MONO is   */</span>
<span class="line-modified">!   /* requested.                                                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* In particular, it modifies the bytecode interpreter to interpret (or  */</span>
<span class="line-modified">!   /* not) instructions in a certain way so that all TrueType fonts look    */</span>
<span class="line-modified">!   /* like they do in a Windows ClearType (DirectWrite) environment.  See   */</span>
<span class="line-modified">!   /* [1] for a technical overview on what this means.  See `ttinterp.h&#39;    */</span>
<span class="line-modified">!   /* for more details on the LEAN option.                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* There are three possible values.                                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Value 1:                                                              */</span>
<span class="line-modified">!   /*    This value is associated with the `Infinality&#39; moniker,            */</span>
<span class="line-modified">!   /*    contributed by an individual nicknamed Infinality with the goal of */</span>
<span class="line-modified">!   /*    making TrueType fonts render better than on Windows.  A high       */</span>
<span class="line-modified">!   /*    amount of configurability and flexibility, down to rules for       */</span>
<span class="line-modified">!   /*    single glyphs in fonts, but also very slow.  Its experimental and  */</span>
<span class="line-modified">!   /*    slow nature and the original developer losing interest meant that  */</span>
<span class="line-modified">!   /*    this option was never enabled in default builds.                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    The corresponding interpreter version is v38.                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Value 2:                                                              */</span>
<span class="line-modified">!   /*    The new default mode for the TrueType driver.  The Infinality code */</span>
<span class="line-modified">!   /*    base was stripped to the bare minimum and all configurability      */</span>
<span class="line-modified">!   /*    removed in the name of speed and simplicity.  The configurability  */</span>
<span class="line-modified">!   /*    was mainly aimed at legacy fonts like Arial, Times New Roman, or   */</span>
<span class="line-modified">!   /*    Courier.  Legacy fonts are fonts that modify vertical stems to     */</span>
<span class="line-modified">!   /*    achieve clean black-and-white bitmaps.  The new mode focuses on    */</span>
<span class="line-modified">!   /*    applying a minimal set of rules to all fonts indiscriminately so   */</span>
<span class="line-modified">!   /*    that modern and web fonts render well while legacy fonts render    */</span>
<span class="line-modified">!   /*    okay.                                                              */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    The corresponding interpreter version is v40.                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Value 3:                                                              */</span>
<span class="line-modified">!   /*    Compile both, making both v38 and v40 available (the latter is the */</span>
<span class="line-modified">!   /*    default).                                                          */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* By undefining these, you get rendering behavior like on Windows       */</span>
<span class="line-modified">!   /* without ClearType, i.e., Windows XP without ClearType enabled and     */</span>
<span class="line-modified">!   /* Win9x (interpreter version v35).  Or not, depending on how much       */</span>
<span class="line-modified">!   /* hinting blood and testing tears the font designer put into a given    */</span>
<span class="line-modified">!   /* font.  If you define one or both subpixel hinting options, you can    */</span>
<span class="line-modified">!   /* switch between between v35 and the ones you define (using             */</span>
<span class="line-modified">!   /* `FT_Property_Set&#39;).                                                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* This option requires TT_CONFIG_OPTION_BYTECODE_INTERPRETER to be      */</span>
<span class="line-modified">!   /* defined.                                                              */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* [1] https://www.microsoft.com/typography/cleartype/truetypecleartype.aspx */</span>
<span class="line-removed">-   /*                                                                       */</span>
  /* #define TT_CONFIG_OPTION_SUBPIXEL_HINTING  1         */
  #define TT_CONFIG_OPTION_SUBPIXEL_HINTING  2
  /* #define TT_CONFIG_OPTION_SUBPIXEL_HINTING  ( 1 | 2 ) */
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Define TT_CONFIG_OPTION_COMPONENT_OFFSET_SCALED to compile the        */</span>
<span class="line-modified">!   /* TrueType glyph loader to use Apple&#39;s definition of how to handle      */</span>
<span class="line-modified">!   /* component offsets in composite glyphs.                                */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Apple and MS disagree on the default behavior of component offsets    */</span>
<span class="line-modified">!   /* in composites.  Apple says that they should be scaled by the scaling  */</span>
<span class="line-modified">!   /* factors in the transformation matrix (roughly, it&#39;s more complex)     */</span>
<span class="line-modified">!   /* while MS says they should not.  OpenType defines two bits in the      */</span>
<span class="line-modified">!   /* composite flags array which can be used to disambiguate, but old      */</span>
<span class="line-modified">!   /* fonts will not have them.                                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   https://www.microsoft.com/typography/otspec/glyf.htm                */</span>
<span class="line-modified">!   /*   https://developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6glyf.html */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #undef TT_CONFIG_OPTION_COMPONENT_OFFSET_SCALED
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Define TT_CONFIG_OPTION_GX_VAR_SUPPORT if you want to include         */</span>
<span class="line-modified">!   /* support for Apple&#39;s distortable font technology (fvar, gvar, cvar,    */</span>
<span class="line-modified">!   /* and avar tables).  This has many similarities to Type 1 Multiple      */</span>
<span class="line-modified">!   /* Masters support.                                                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #define TT_CONFIG_OPTION_GX_VAR_SUPPORT
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Define TT_CONFIG_OPTION_BDF if you want to include support for        */</span>
<span class="line-modified">!   /* an embedded `BDF &#39; table within SFNT-based bitmap formats.            */</span>
<span class="line-modified">!   /*                                                                       */</span>
  /* #define TT_CONFIG_OPTION_BDF */
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Option TT_CONFIG_OPTION_MAX_RUNNABLE_OPCODES controls the maximum     */</span>
<span class="line-modified">!   /* number of bytecode instructions executed for a single run of the      */</span>
<span class="line-modified">!   /* bytecode interpreter, needed to prevent infinite loops.  You don&#39;t    */</span>
<span class="line-modified">!   /* want to change this except for very special situations (e.g., making  */</span>
<span class="line-modified">!   /* a library fuzzer spend less time to handle broken fonts).             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* It is not expected that this value is ever modified by a configuring  */</span>
<span class="line-modified">!   /* script; instead, it gets surrounded with #ifndef ... #endif so that   */</span>
<span class="line-modified">!   /* the value can be set as a preprocessor option on the compiler&#39;s       */</span>
<span class="line-modified">!   /* command line.                                                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #ifndef TT_CONFIG_OPTION_MAX_RUNNABLE_OPCODES
  #define TT_CONFIG_OPTION_MAX_RUNNABLE_OPCODES  1000000L
  #endif
  
  
<span class="line-new-header">--- 586,134 ---</span>
    /****    T R U E T Y P E   D R I V E R    C O N F I G U R A T I O N   ****/
    /****                                                                 ****/
    /*************************************************************************/
    /*************************************************************************/
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Define `TT_CONFIG_OPTION_BYTECODE_INTERPRETER` if you want to compile a</span>
<span class="line-modified">!    * bytecode interpreter in the TrueType driver.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * By undefining this, you will only compile the code necessary to load</span>
<span class="line-modified">!    * TrueType glyphs without hinting.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Do not `#undef` this macro here, since the build system might define it</span>
<span class="line-modified">!    * for certain configurations only.</span>
<span class="line-modified">!    */</span>
  #define TT_CONFIG_OPTION_BYTECODE_INTERPRETER
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Define `TT_CONFIG_OPTION_SUBPIXEL_HINTING` if you want to compile</span>
<span class="line-modified">!    * subpixel hinting support into the TrueType driver.  This modifies the</span>
<span class="line-modified">!    * TrueType hinting mechanism when anything but `FT_RENDER_MODE_MONO` is</span>
<span class="line-modified">!    * requested.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * In particular, it modifies the bytecode interpreter to interpret (or</span>
<span class="line-modified">!    * not) instructions in a certain way so that all TrueType fonts look like</span>
<span class="line-modified">!    * they do in a Windows ClearType (DirectWrite) environment.  See [1] for a</span>
<span class="line-modified">!    * technical overview on what this means.  See `ttinterp.h` for more</span>
<span class="line-modified">!    * details on the LEAN option.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * There are three possible values.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Value 1:</span>
<span class="line-modified">!    *   This value is associated with the &#39;Infinality&#39; moniker, contributed by</span>
<span class="line-modified">!    *   an individual nicknamed Infinality with the goal of making TrueType</span>
<span class="line-modified">!    *   fonts render better than on Windows.  A high amount of configurability</span>
<span class="line-modified">!    *   and flexibility, down to rules for single glyphs in fonts, but also</span>
<span class="line-modified">!    *   very slow.  Its experimental and slow nature and the original</span>
<span class="line-modified">!    *   developer losing interest meant that this option was never enabled in</span>
<span class="line-modified">!    *   default builds.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   The corresponding interpreter version is v38.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Value 2:</span>
<span class="line-modified">!    *   The new default mode for the TrueType driver.  The Infinality code</span>
<span class="line-modified">!    *   base was stripped to the bare minimum and all configurability removed</span>
<span class="line-modified">!    *   in the name of speed and simplicity.  The configurability was mainly</span>
<span class="line-modified">!    *   aimed at legacy fonts like &#39;Arial&#39;, &#39;Times New Roman&#39;, or &#39;Courier&#39;.</span>
<span class="line-modified">!    *   Legacy fonts are fonts that modify vertical stems to achieve clean</span>
<span class="line-modified">!    *   black-and-white bitmaps.  The new mode focuses on applying a minimal</span>
<span class="line-modified">!    *   set of rules to all fonts indiscriminately so that modern and web</span>
<span class="line-modified">!    *   fonts render well while legacy fonts render okay.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   The corresponding interpreter version is v40.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Value 3:</span>
<span class="line-modified">!    *   Compile both, making both v38 and v40 available (the latter is the</span>
<span class="line-modified">!    *   default).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * By undefining these, you get rendering behavior like on Windows without</span>
<span class="line-modified">!    * ClearType, i.e., Windows XP without ClearType enabled and Win9x</span>
<span class="line-modified">!    * (interpreter version v35).  Or not, depending on how much hinting blood</span>
<span class="line-modified">!    * and testing tears the font designer put into a given font.  If you</span>
<span class="line-modified">!    * define one or both subpixel hinting options, you can switch between</span>
<span class="line-modified">!    * between v35 and the ones you define (using `FT_Property_Set`).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * This option requires `TT_CONFIG_OPTION_BYTECODE_INTERPRETER` to be</span>
<span class="line-modified">!    * defined.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * [1]</span>
<span class="line-modified">!    * https://www.microsoft.com/typography/cleartype/truetypecleartype.aspx</span>
<span class="line-modified">!    */</span>
  /* #define TT_CONFIG_OPTION_SUBPIXEL_HINTING  1         */
  #define TT_CONFIG_OPTION_SUBPIXEL_HINTING  2
  /* #define TT_CONFIG_OPTION_SUBPIXEL_HINTING  ( 1 | 2 ) */
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Define `TT_CONFIG_OPTION_COMPONENT_OFFSET_SCALED` to compile the</span>
<span class="line-modified">!    * TrueType glyph loader to use Apple&#39;s definition of how to handle</span>
<span class="line-modified">!    * component offsets in composite glyphs.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Apple and MS disagree on the default behavior of component offsets in</span>
<span class="line-modified">!    * composites.  Apple says that they should be scaled by the scaling</span>
<span class="line-modified">!    * factors in the transformation matrix (roughly, it&#39;s more complex) while</span>
<span class="line-modified">!    * MS says they should not.  OpenType defines two bits in the composite</span>
<span class="line-modified">!    * flags array which can be used to disambiguate, but old fonts will not</span>
<span class="line-modified">!    * have them.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   https://www.microsoft.com/typography/otspec/glyf.htm</span>
<span class="line-modified">!    *   https://developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6glyf.html</span>
<span class="line-modified">!    */</span>
  #undef TT_CONFIG_OPTION_COMPONENT_OFFSET_SCALED
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Define `TT_CONFIG_OPTION_GX_VAR_SUPPORT` if you want to include support</span>
<span class="line-modified">!    * for Apple&#39;s distortable font technology (&#39;fvar&#39;, &#39;gvar&#39;, &#39;cvar&#39;, and</span>
<span class="line-modified">!    * &#39;avar&#39; tables).  Tagged &#39;Font Variations&#39;, this is now part of OpenType</span>
<span class="line-modified">!    * also.  This has many similarities to Type~1 Multiple Masters support.</span>
<span class="line-modified">!    */</span>
  #define TT_CONFIG_OPTION_GX_VAR_SUPPORT
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Define `TT_CONFIG_OPTION_BDF` if you want to include support for an</span>
<span class="line-modified">!    * embedded &#39;BDF~&#39; table within SFNT-based bitmap formats.</span>
<span class="line-modified">!    */</span>
  /* #define TT_CONFIG_OPTION_BDF */
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Option `TT_CONFIG_OPTION_MAX_RUNNABLE_OPCODES` controls the maximum</span>
<span class="line-modified">!    * number of bytecode instructions executed for a single run of the</span>
<span class="line-modified">!    * bytecode interpreter, needed to prevent infinite loops.  You don&#39;t want</span>
<span class="line-modified">!    * to change this except for very special situations (e.g., making a</span>
<span class="line-modified">!    * library fuzzer spend less time to handle broken fonts).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * It is not expected that this value is ever modified by a configuring</span>
<span class="line-modified">!    * script; instead, it gets surrounded with `#ifndef ... #endif` so that</span>
<span class="line-modified">!    * the value can be set as a preprocessor option on the compiler&#39;s command</span>
<span class="line-modified">!    * line.</span>
<span class="line-modified">!    */</span>
  #ifndef TT_CONFIG_OPTION_MAX_RUNNABLE_OPCODES
  #define TT_CONFIG_OPTION_MAX_RUNNABLE_OPCODES  1000000L
  #endif
  
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 724,63 ***</span>
    /****                                                                 ****/
    /*************************************************************************/
    /*************************************************************************/
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* T1_MAX_DICT_DEPTH is the maximum depth of nest dictionaries and       */</span>
<span class="line-modified">!   /* arrays in the Type 1 stream (see t1load.c).  A minimum of 4 is        */</span>
<span class="line-modified">!   /* required.                                                             */</span>
<span class="line-removed">-   /*                                                                       */</span>
  #define T1_MAX_DICT_DEPTH  5
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* T1_MAX_SUBRS_CALLS details the maximum number of nested sub-routine   */</span>
<span class="line-modified">!   /* calls during glyph loading.                                           */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #define T1_MAX_SUBRS_CALLS  16
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* T1_MAX_CHARSTRING_OPERANDS is the charstring stack&#39;s capacity.  A     */</span>
<span class="line-modified">!   /* minimum of 16 is required.                                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* The Chinese font MingTiEG-Medium (CNS 11643 character set) needs 256. */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #define T1_MAX_CHARSTRINGS_OPERANDS  256
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Define this configuration macro if you want to prevent the            */</span>
<span class="line-modified">!   /* compilation of `t1afm&#39;, which is in charge of reading Type 1 AFM      */</span>
<span class="line-modified">!   /* files into an existing face.  Note that if set, the T1 driver will be */</span>
<span class="line-modified">!   /* unable to produce kerning distances.                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #undef T1_CONFIG_OPTION_NO_AFM
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Define this configuration macro if you want to prevent the            */</span>
<span class="line-modified">!   /* compilation of the Multiple Masters font support in the Type 1        */</span>
<span class="line-modified">!   /* driver.                                                               */</span>
<span class="line-removed">-   /*                                                                       */</span>
  #undef T1_CONFIG_OPTION_NO_MM_SUPPORT
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* T1_CONFIG_OPTION_OLD_ENGINE controls whether the pre-Adobe Type 1     */</span>
<span class="line-modified">!   /* engine gets compiled into FreeType.  If defined, it is possible to    */</span>
<span class="line-modified">!   /* switch between the two engines using the `hinting-engine&#39; property of */</span>
<span class="line-modified">!   /* the type1 driver module.                                              */</span>
<span class="line-modified">!   /*                                                                       */</span>
  /* #define T1_CONFIG_OPTION_OLD_ENGINE */
  
  
    /*************************************************************************/
    /*************************************************************************/
<span class="line-new-header">--- 724,62 ---</span>
    /****                                                                 ****/
    /*************************************************************************/
    /*************************************************************************/
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * `T1_MAX_DICT_DEPTH` is the maximum depth of nest dictionaries and arrays</span>
<span class="line-modified">!    * in the Type~1 stream (see `t1load.c`).  A minimum of~4 is required.</span>
<span class="line-modified">!    */</span>
  #define T1_MAX_DICT_DEPTH  5
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * `T1_MAX_SUBRS_CALLS` details the maximum number of nested sub-routine</span>
<span class="line-modified">!    * calls during glyph loading.</span>
<span class="line-modified">!    */</span>
  #define T1_MAX_SUBRS_CALLS  16
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * `T1_MAX_CHARSTRING_OPERANDS` is the charstring stack&#39;s capacity.  A</span>
<span class="line-modified">!    * minimum of~16 is required.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * The Chinese font &#39;MingTiEG-Medium&#39; (covering the CNS 11643 character</span>
<span class="line-modified">!    * set) needs 256.</span>
<span class="line-added">+    */</span>
  #define T1_MAX_CHARSTRINGS_OPERANDS  256
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Define this configuration macro if you want to prevent the compilation</span>
<span class="line-modified">!    * of the &#39;t1afm&#39; module, which is in charge of reading Type~1 AFM files</span>
<span class="line-modified">!    * into an existing face.  Note that if set, the Type~1 driver will be</span>
<span class="line-modified">!    * unable to produce kerning distances.</span>
<span class="line-modified">!    */</span>
  #undef T1_CONFIG_OPTION_NO_AFM
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Define this configuration macro if you want to prevent the compilation</span>
<span class="line-modified">!    * of the Multiple Masters font support in the Type~1 driver.</span>
<span class="line-modified">!    */</span>
  #undef T1_CONFIG_OPTION_NO_MM_SUPPORT
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * `T1_CONFIG_OPTION_OLD_ENGINE` controls whether the pre-Adobe Type~1</span>
<span class="line-modified">!    * engine gets compiled into FreeType.  If defined, it is possible to</span>
<span class="line-modified">!    * switch between the two engines using the `hinting-engine` property of</span>
<span class="line-modified">!    * the &#39;type1&#39; driver module.</span>
<span class="line-modified">!    */</span>
  /* #define T1_CONFIG_OPTION_OLD_ENGINE */
  
  
    /*************************************************************************/
    /*************************************************************************/
</pre>
<hr />
<pre>
<span class="line-old-header">*** 789,21 ***</span>
    /****                                                                 ****/
    /*************************************************************************/
    /*************************************************************************/
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Using CFF_CONFIG_OPTION_DARKENING_PARAMETER_{X,Y}{1,2,3,4} it is      */</span>
<span class="line-modified">!   /* possible to set up the default values of the four control points that */</span>
<span class="line-modified">!   /* define the stem darkening behaviour of the (new) CFF engine.  For     */</span>
<span class="line-modified">!   /* more details please read the documentation of the                     */</span>
<span class="line-modified">!   /* `darkening-parameters&#39; property (file `ftdriver.h&#39;), which allows the */</span>
<span class="line-modified">!   /* control at run-time.                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Do *not* undefine these macros!                                       */</span>
<span class="line-removed">-   /*                                                                       */</span>
  #define CFF_CONFIG_OPTION_DARKENING_PARAMETER_X1   500
  #define CFF_CONFIG_OPTION_DARKENING_PARAMETER_Y1   400
  
  #define CFF_CONFIG_OPTION_DARKENING_PARAMETER_X2  1000
  #define CFF_CONFIG_OPTION_DARKENING_PARAMETER_Y2   275
<span class="line-new-header">--- 788,20 ---</span>
    /****                                                                 ****/
    /*************************************************************************/
    /*************************************************************************/
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Using `CFF_CONFIG_OPTION_DARKENING_PARAMETER_{X,Y}{1,2,3,4}` it is</span>
<span class="line-modified">!    * possible to set up the default values of the four control points that</span>
<span class="line-modified">!    * define the stem darkening behaviour of the (new) CFF engine.  For more</span>
<span class="line-modified">!    * details please read the documentation of the `darkening-parameters`</span>
<span class="line-modified">!    * property (file `ftdriver.h`), which allows the control at run-time.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Do **not** undefine these macros!</span>
<span class="line-modified">!    */</span>
  #define CFF_CONFIG_OPTION_DARKENING_PARAMETER_X1   500
  #define CFF_CONFIG_OPTION_DARKENING_PARAMETER_Y1   400
  
  #define CFF_CONFIG_OPTION_DARKENING_PARAMETER_X2  1000
  #define CFF_CONFIG_OPTION_DARKENING_PARAMETER_Y2   275
</pre>
<hr />
<pre>
<span class="line-old-header">*** 813,17 ***</span>
  
  #define CFF_CONFIG_OPTION_DARKENING_PARAMETER_X4  2333
  #define CFF_CONFIG_OPTION_DARKENING_PARAMETER_Y4     0
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* CFF_CONFIG_OPTION_OLD_ENGINE controls whether the pre-Adobe CFF       */</span>
<span class="line-modified">!   /* engine gets compiled into FreeType.  If defined, it is possible to    */</span>
<span class="line-modified">!   /* switch between the two engines using the `hinting-engine&#39; property of */</span>
<span class="line-modified">!   /* the cff driver module.                                                */</span>
<span class="line-modified">!   /*                                                                       */</span>
  /* #define CFF_CONFIG_OPTION_OLD_ENGINE */
  
  
    /*************************************************************************/
    /*************************************************************************/
<span class="line-new-header">--- 811,17 ---</span>
  
  #define CFF_CONFIG_OPTION_DARKENING_PARAMETER_X4  2333
  #define CFF_CONFIG_OPTION_DARKENING_PARAMETER_Y4     0
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * `CFF_CONFIG_OPTION_OLD_ENGINE` controls whether the pre-Adobe CFF engine</span>
<span class="line-modified">!    * gets compiled into FreeType.  If defined, it is possible to switch</span>
<span class="line-modified">!    * between the two engines using the `hinting-engine` property of the &#39;cff&#39;</span>
<span class="line-modified">!    * driver module.</span>
<span class="line-modified">!    */</span>
  /* #define CFF_CONFIG_OPTION_OLD_ENGINE */
  
  
    /*************************************************************************/
    /*************************************************************************/
</pre>
<hr />
<pre>
<span class="line-old-header">*** 832,25 ***</span>
    /****                                                                 ****/
    /*************************************************************************/
    /*************************************************************************/
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* There are many PCF fonts just called `Fixed&#39; which look completely    */</span>
<span class="line-modified">!   /* different, and which have nothing to do with each other.  When        */</span>
<span class="line-modified">!   /* selecting `Fixed&#39; in KDE or Gnome one gets results that appear rather */</span>
<span class="line-modified">!   /* random, the style changes often if one changes the size and one       */</span>
<span class="line-modified">!   /* cannot select some fonts at all.  This option makes the PCF module    */</span>
<span class="line-modified">!   /* prepend the foundry name (plus a space) to the family name.           */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* We also check whether we have `wide&#39; characters; all put together, we */</span>
<span class="line-modified">!   /* get family names like `Sony Fixed&#39; or `Misc Fixed Wide&#39;.              */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* If this option is activated, it can be controlled with the            */</span>
<span class="line-modified">!   /* `no-long-family-names&#39; property of the pcf driver module.             */</span>
<span class="line-modified">!   /*                                                                       */</span>
  /* #define PCF_CONFIG_OPTION_LONG_FAMILY_NAMES */
  
  
    /*************************************************************************/
    /*************************************************************************/
<span class="line-new-header">--- 830,25 ---</span>
    /****                                                                 ****/
    /*************************************************************************/
    /*************************************************************************/
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * There are many PCF fonts just called &#39;Fixed&#39; which look completely</span>
<span class="line-modified">!    * different, and which have nothing to do with each other.  When selecting</span>
<span class="line-modified">!    * &#39;Fixed&#39; in KDE or Gnome one gets results that appear rather random, the</span>
<span class="line-modified">!    * style changes often if one changes the size and one cannot select some</span>
<span class="line-modified">!    * fonts at all.  This option makes the &#39;pcf&#39; module prepend the foundry</span>
<span class="line-modified">!    * name (plus a space) to the family name.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * We also check whether we have &#39;wide&#39; characters; all put together, we</span>
<span class="line-modified">!    * get family names like &#39;Sony Fixed&#39; or &#39;Misc Fixed Wide&#39;.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * If this option is activated, it can be controlled with the</span>
<span class="line-modified">!    * `no-long-family-names` property of the &#39;pcf&#39; driver module.</span>
<span class="line-modified">!    */</span>
  /* #define PCF_CONFIG_OPTION_LONG_FAMILY_NAMES */
  
  
    /*************************************************************************/
    /*************************************************************************/
</pre>
<hr />
<pre>
<span class="line-old-header">*** 859,73 ***</span>
    /****                                                                 ****/
    /*************************************************************************/
    /*************************************************************************/
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Compile autofit module with CJK (Chinese, Japanese, Korean) script    */</span>
<span class="line-modified">!   /* support.                                                              */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #define AF_CONFIG_OPTION_CJK
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Compile autofit module with fallback Indic script support, covering   */</span>
<span class="line-modified">!   /* some scripts that the `latin&#39; submodule of the autofit module doesn&#39;t */</span>
<span class="line-modified">!   /* (yet) handle.                                                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #define AF_CONFIG_OPTION_INDIC
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Compile autofit module with warp hinting.  The idea of the warping    */</span>
<span class="line-modified">!   /* code is to slightly scale and shift a glyph within a single dimension */</span>
<span class="line-modified">!   /* so that as much of its segments are aligned (more or less) on the     */</span>
<span class="line-modified">!   /* grid.  To find out the optimal scaling and shifting value, various    */</span>
<span class="line-modified">!   /* parameter combinations are tried and scored.                          */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* This experimental option is active only if the rendering mode is      */</span>
<span class="line-modified">!   /* FT_RENDER_MODE_LIGHT; you can switch warping on and off with the      */</span>
<span class="line-modified">!   /* `warping&#39; property of the auto-hinter (see file `ftdriver.h&#39; for more */</span>
<span class="line-modified">!   /* information; by default it is switched off).                          */</span>
<span class="line-modified">!   /*                                                                       */</span>
  #define AF_CONFIG_OPTION_USE_WARPER
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Use TrueType-like size metrics for `light&#39; auto-hinting.              */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* It is strongly recommended to avoid this option, which exists only to */</span>
<span class="line-modified">!   /* help some legacy applications retain its appearance and behaviour     */</span>
<span class="line-modified">!   /* with respect to auto-hinted TrueType fonts.                           */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* The very reason this option exists at all are GNU/Linux distributions */</span>
<span class="line-modified">!   /* like Fedora that did not un-patch the following change (which was     */</span>
<span class="line-modified">!   /* present in FreeType between versions 2.4.6 and 2.7.1, inclusive).     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*   2011-07-16  Steven Chu  &lt;steven.f.chu@gmail.com&gt;                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*     [truetype] Fix metrics on size request for scalable fonts.        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* This problematic commit is now reverted (more or less).               */</span>
<span class="line-modified">!   /*                                                                       */</span>
  /* #define AF_CONFIG_OPTION_TT_SIZE_METRICS */
  
    /* */
  
  
    /*
<span class="line-modified">!    * This macro is obsolete.  Support has been removed in FreeType</span>
<span class="line-modified">!    * version 2.5.</span>
     */
  /* #define FT_CONFIG_OPTION_OLD_INTERNALS */
  
  
    /*
<span class="line-modified">!    * This macro is defined if native TrueType hinting is requested by the</span>
<span class="line-modified">!    * definitions above.</span>
     */
  #ifdef TT_CONFIG_OPTION_BYTECODE_INTERPRETER
  #define  TT_USE_BYTECODE_INTERPRETER
  
  #ifdef TT_CONFIG_OPTION_SUBPIXEL_HINTING
<span class="line-new-header">--- 857,80 ---</span>
    /****                                                                 ****/
    /*************************************************************************/
    /*************************************************************************/
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Compile &#39;autofit&#39; module with CJK (Chinese, Japanese, Korean) script</span>
<span class="line-modified">!    * support.</span>
<span class="line-modified">!    */</span>
  #define AF_CONFIG_OPTION_CJK
  
<span class="line-modified">! </span>
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Compile &#39;autofit&#39; module with fallback Indic script support, covering</span>
<span class="line-modified">!    * some scripts that the &#39;latin&#39; submodule of the &#39;autofit&#39; module doesn&#39;t</span>
<span class="line-modified">!    * (yet) handle.</span>
<span class="line-added">+    */</span>
  #define AF_CONFIG_OPTION_INDIC
  
<span class="line-modified">! </span>
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Compile &#39;autofit&#39; module with warp hinting.  The idea of the warping</span>
<span class="line-modified">!    * code is to slightly scale and shift a glyph within a single dimension so</span>
<span class="line-modified">!    * that as much of its segments are aligned (more or less) on the grid.  To</span>
<span class="line-modified">!    * find out the optimal scaling and shifting value, various parameter</span>
<span class="line-modified">!    * combinations are tried and scored.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * You can switch warping on and off with the `warping` property of the</span>
<span class="line-modified">!    * auto-hinter (see file `ftdriver.h` for more information; by default it</span>
<span class="line-modified">!    * is switched off).</span>
<span class="line-modified">!    *</span>
<span class="line-added">+    * This experimental option is not active if the rendering mode is</span>
<span class="line-added">+    * `FT_RENDER_MODE_LIGHT`.</span>
<span class="line-added">+    */</span>
  #define AF_CONFIG_OPTION_USE_WARPER
  
<span class="line-modified">! </span>
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Use TrueType-like size metrics for &#39;light&#39; auto-hinting.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * It is strongly recommended to avoid this option, which exists only to</span>
<span class="line-modified">!    * help some legacy applications retain its appearance and behaviour with</span>
<span class="line-modified">!    * respect to auto-hinted TrueType fonts.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * The very reason this option exists at all are GNU/Linux distributions</span>
<span class="line-modified">!    * like Fedora that did not un-patch the following change (which was</span>
<span class="line-modified">!    * present in FreeType between versions 2.4.6 and 2.7.1, inclusive).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * ```</span>
<span class="line-modified">!    *   2011-07-16  Steven Chu  &lt;steven.f.chu@gmail.com&gt;</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *     [truetype] Fix metrics on size request for scalable fonts.</span>
<span class="line-modified">!    * ```</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * This problematic commit is now reverted (more or less).</span>
<span class="line-added">+    */</span>
  /* #define AF_CONFIG_OPTION_TT_SIZE_METRICS */
  
    /* */
  
  
    /*
<span class="line-modified">!    * This macro is obsolete.  Support has been removed in FreeType version</span>
<span class="line-modified">!    * 2.5.</span>
     */
  /* #define FT_CONFIG_OPTION_OLD_INTERNALS */
  
  
    /*
<span class="line-modified">!    * The next three macros are defined if native TrueType hinting is</span>
<span class="line-modified">!    * requested by the definitions above.  Don&#39;t change this.</span>
     */
  #ifdef TT_CONFIG_OPTION_BYTECODE_INTERPRETER
  #define  TT_USE_BYTECODE_INTERPRETER
  
  #ifdef TT_CONFIG_OPTION_SUBPIXEL_HINTING
</pre>
<hr />
<pre>
<span class="line-old-header">*** 940,11 ***</span>
  #endif
  
  
    /*
     * Check CFF darkening parameters.  The checks are the same as in function
<span class="line-modified">!    * `cff_property_set&#39; in file `cffdrivr.c&#39;.</span>
     */
  #if CFF_CONFIG_OPTION_DARKENING_PARAMETER_X1 &lt; 0   || \
      CFF_CONFIG_OPTION_DARKENING_PARAMETER_X2 &lt; 0   || \
      CFF_CONFIG_OPTION_DARKENING_PARAMETER_X3 &lt; 0   || \
      CFF_CONFIG_OPTION_DARKENING_PARAMETER_X4 &lt; 0   || \
<span class="line-new-header">--- 945,11 ---</span>
  #endif
  
  
    /*
     * Check CFF darkening parameters.  The checks are the same as in function
<span class="line-modified">!    * `cff_property_set` in file `cffdrivr.c`.</span>
     */
  #if CFF_CONFIG_OPTION_DARKENING_PARAMETER_X1 &lt; 0   || \
      CFF_CONFIG_OPTION_DARKENING_PARAMETER_X2 &lt; 0   || \
      CFF_CONFIG_OPTION_DARKENING_PARAMETER_X3 &lt; 0   || \
      CFF_CONFIG_OPTION_DARKENING_PARAMETER_X4 &lt; 0   || \
</pre>
<center><a href="ftmodule.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ftstdlib.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>