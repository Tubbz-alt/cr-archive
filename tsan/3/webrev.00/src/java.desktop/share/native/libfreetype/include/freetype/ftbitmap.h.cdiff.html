<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.desktop/share/native/libfreetype/include/freetype/ftbitmap.h</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="ftbdf.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ftchapters.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfreetype/include/freetype/ftbitmap.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,29 ***</span>
<span class="line-modified">! /***************************************************************************/</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  ftbitmap.h                                                             */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*    FreeType utility functions for bitmaps (specification).              */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  Copyright 2004-2018 by                                                 */</span>
<span class="line-modified">! /*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  This file is part of the FreeType project, and may only be used,       */</span>
<span class="line-modified">! /*  modified, and distributed under the terms of the FreeType project      */</span>
<span class="line-modified">! /*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */</span>
<span class="line-modified">! /*  this file you indicate that you have read the license and              */</span>
<span class="line-modified">! /*  understand and accept it fully.                                        */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /***************************************************************************/</span>
  
  
  #ifndef FTBITMAP_H_
  #define FTBITMAP_H_
  
  
  #include &lt;ft2build.h&gt;
  #include FT_FREETYPE_H
  
  #ifdef FREETYPE_H
  #error &quot;freetype.h of FreeType 1 has been loaded!&quot;
  #error &quot;Please fix the directory search order for header files&quot;
  #error &quot;so that freetype.h of FreeType 2 is found first.&quot;
<span class="line-new-header">--- 1,30 ---</span>
<span class="line-modified">! /****************************************************************************</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * ftbitmap.h</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  *   FreeType utility functions for bitmaps (specification).</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * Copyright (C) 2004-2019 by</span>
<span class="line-modified">!  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified">!  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified">!  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified">!  * this file you indicate that you have read the license and</span>
<span class="line-modified">!  * understand and accept it fully.</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  */</span>
  
  
  #ifndef FTBITMAP_H_
  #define FTBITMAP_H_
  
  
  #include &lt;ft2build.h&gt;
  #include FT_FREETYPE_H
<span class="line-added">+ #include FT_COLOR_H</span>
  
  #ifdef FREETYPE_H
  #error &quot;freetype.h of FreeType 1 has been loaded!&quot;
  #error &quot;Please fix the directory search order for header files&quot;
  #error &quot;so that freetype.h of FreeType 2 is found first.&quot;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 31,201 ***</span>
  
  
  FT_BEGIN_HEADER
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Section&gt;                                                             */</span>
<span class="line-modified">!   /*    bitmap_handling                                                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Title&gt;                                                               */</span>
<span class="line-modified">!   /*    Bitmap Handling                                                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Abstract&gt;                                                            */</span>
<span class="line-modified">!   /*    Handling FT_Bitmap objects.                                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    This section contains functions for handling @FT_Bitmap objects.   */</span>
<span class="line-modified">!   /*    Note that none of the functions changes the bitmap&#39;s `flow&#39; (as    */</span>
<span class="line-modified">!   /*    indicated by the sign of the `pitch&#39; field in `FT_Bitmap&#39;).        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">! </span>
<span class="line-modified">! </span>
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Bitmap_Init                                                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Initialize a pointer to an @FT_Bitmap structure.                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">!   /*    abitmap :: A pointer to the bitmap structure.                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    A deprecated name for the same function is `FT_Bitmap_New&#39;.        */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( void )
    FT_Bitmap_Init( FT_Bitmap  *abitmap );
  
  
    /* deprecated */
    FT_EXPORT( void )
    FT_Bitmap_New( FT_Bitmap  *abitmap );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Bitmap_Copy                                                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Copy a bitmap into another one.                                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    library :: A handle to a library object.                           */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    source  :: A handle to the source bitmap.                          */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">!   /*    target  :: A handle to the target bitmap.                          */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( FT_Error )
    FT_Bitmap_Copy( FT_Library        library,
                    const FT_Bitmap  *source,
                    FT_Bitmap        *target );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Bitmap_Embolden                                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Embolden a bitmap.  The new bitmap will be about `xStrength&#39;       */</span>
<span class="line-modified">!   /*    pixels wider and `yStrength&#39; pixels higher.  The left and bottom   */</span>
<span class="line-modified">!   /*    borders are kept unchanged.                                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    library   :: A handle to a library object.                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    xStrength :: How strong the glyph is emboldened horizontally.      */</span>
<span class="line-modified">!   /*                 Expressed in 26.6 pixel format.                       */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    yStrength :: How strong the glyph is emboldened vertically.        */</span>
<span class="line-modified">!   /*                 Expressed in 26.6 pixel format.                       */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">!   /*    bitmap    :: A handle to the target bitmap.                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    The current implementation restricts `xStrength&#39; to be less than   */</span>
<span class="line-modified">!   /*    or equal to~8 if bitmap is of pixel_mode @FT_PIXEL_MODE_MONO.      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    If you want to embolden the bitmap owned by a @FT_GlyphSlotRec,    */</span>
<span class="line-modified">!   /*    you should call @FT_GlyphSlot_Own_Bitmap on the slot first.        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    Bitmaps in @FT_PIXEL_MODE_GRAY2 and @FT_PIXEL_MODE_GRAY@ format    */</span>
<span class="line-modified">!   /*    are converted to @FT_PIXEL_MODE_GRAY format (i.e., 8bpp).          */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( FT_Error )
    FT_Bitmap_Embolden( FT_Library  library,
                        FT_Bitmap*  bitmap,
                        FT_Pos      xStrength,
                        FT_Pos      yStrength );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Bitmap_Convert                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Convert a bitmap object with depth 1bpp, 2bpp, 4bpp, 8bpp or 32bpp */</span>
<span class="line-modified">!   /*    to a bitmap object with depth 8bpp, making the number of used      */</span>
<span class="line-modified">!   /*    bytes line (a.k.a. the `pitch&#39;) a multiple of `alignment&#39;.         */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    library   :: A handle to a library object.                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    source    :: The source bitmap.                                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    alignment :: The pitch of the bitmap is a multiple of this         */</span>
<span class="line-modified">!   /*                 parameter.  Common values are 1, 2, or 4.             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">!   /*    target    :: The target bitmap.                                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    It is possible to call @FT_Bitmap_Convert multiple times without   */</span>
<span class="line-modified">!   /*    calling @FT_Bitmap_Done (the memory is simply reallocated).        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    Use @FT_Bitmap_Done to finally remove the bitmap object.           */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    The `library&#39; argument is taken to have access to FreeType&#39;s       */</span>
<span class="line-modified">!   /*    memory handling functions.                                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( FT_Error )
    FT_Bitmap_Convert( FT_Library        library,
                       const FT_Bitmap  *source,
                       FT_Bitmap        *target,
                       FT_Int            alignment );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_GlyphSlot_Own_Bitmap                                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Make sure that a glyph slot owns `slot-&gt;bitmap&#39;.                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    slot :: The glyph slot.                                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    This function is to be used in combination with                    */</span>
<span class="line-modified">!   /*    @FT_Bitmap_Embolden.                                               */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( FT_Error )
    FT_GlyphSlot_Own_Bitmap( FT_GlyphSlot  slot );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Bitmap_Done                                                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Destroy a bitmap object initialized with @FT_Bitmap_Init.          */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    library :: A handle to a library object.                           */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    bitmap  :: The bitmap object to be freed.                          */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    The `library&#39; argument is taken to have access to FreeType&#39;s       */</span>
<span class="line-modified">!   /*    memory handling functions.                                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( FT_Error )
    FT_Bitmap_Done( FT_Library  library,
                    FT_Bitmap  *bitmap );
  
  
<span class="line-new-header">--- 32,290 ---</span>
  
  
  FT_BEGIN_HEADER
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @section:</span>
<span class="line-modified">!    *   bitmap_handling</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @title:</span>
<span class="line-modified">!    *   Bitmap Handling</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @abstract:</span>
<span class="line-modified">!    *   Handling FT_Bitmap objects.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   This section contains functions for handling @FT_Bitmap objects,</span>
<span class="line-modified">!    *   automatically adjusting the target&#39;s bitmap buffer size as needed.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Note that none of the functions changes the bitmap&#39;s &#39;flow&#39; (as</span>
<span class="line-modified">!    *   indicated by the sign of the `pitch` field in @FT_Bitmap).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   To set the flow, assign an appropriate positive or negative value to</span>
<span class="line-modified">!    *   the `pitch` field of the target @FT_Bitmap object after calling</span>
<span class="line-modified">!    *   @FT_Bitmap_Init but before calling any of the other functions</span>
<span class="line-modified">!    *   described here.</span>
<span class="line-modified">!    */</span>
<span class="line-modified">! </span>
<span class="line-modified">! </span>
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Bitmap_Init</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Initialize a pointer to an @FT_Bitmap structure.</span>
<span class="line-modified">!    *</span>
<span class="line-added">+    * @inout:</span>
<span class="line-added">+    *   abitmap ::</span>
<span class="line-added">+    *     A pointer to the bitmap structure.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @note:</span>
<span class="line-added">+    *   A deprecated name for the same function is `FT_Bitmap_New`.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( void )
    FT_Bitmap_Init( FT_Bitmap  *abitmap );
  
  
    /* deprecated */
    FT_EXPORT( void )
    FT_Bitmap_New( FT_Bitmap  *abitmap );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Bitmap_Copy</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Copy a bitmap into another one.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   library ::</span>
<span class="line-modified">!    *     A handle to a library object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   source ::</span>
<span class="line-modified">!    *     A handle to the source bitmap.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @output:</span>
<span class="line-modified">!    *   target ::</span>
<span class="line-modified">!    *     A handle to the target bitmap.</span>
<span class="line-modified">!    *</span>
<span class="line-added">+    * @return:</span>
<span class="line-added">+    *   FreeType error code.  0~means success.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @note:</span>
<span class="line-added">+    *   `source-&gt;buffer` and `target-&gt;buffer` must neither be equal nor</span>
<span class="line-added">+    *   overlap.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( FT_Error )
    FT_Bitmap_Copy( FT_Library        library,
                    const FT_Bitmap  *source,
                    FT_Bitmap        *target );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Bitmap_Embolden</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Embolden a bitmap.  The new bitmap will be about `xStrength` pixels</span>
<span class="line-modified">!    *   wider and `yStrength` pixels higher.  The left and bottom borders are</span>
<span class="line-modified">!    *   kept unchanged.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   library ::</span>
<span class="line-modified">!    *     A handle to a library object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   xStrength ::</span>
<span class="line-modified">!    *     How strong the glyph is emboldened horizontally.  Expressed in 26.6</span>
<span class="line-modified">!    *     pixel format.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   yStrength ::</span>
<span class="line-modified">!    *     How strong the glyph is emboldened vertically.  Expressed in 26.6</span>
<span class="line-modified">!    *     pixel format.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @inout:</span>
<span class="line-modified">!    *   bitmap ::</span>
<span class="line-modified">!    *     A handle to the target bitmap.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *   FreeType error code.  0~means success.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-modified">!    *   The current implementation restricts `xStrength` to be less than or</span>
<span class="line-modified">!    *   equal to~8 if bitmap is of pixel_mode @FT_PIXEL_MODE_MONO.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   If you want to embolden the bitmap owned by a @FT_GlyphSlotRec, you</span>
<span class="line-modified">!    *   should call @FT_GlyphSlot_Own_Bitmap on the slot first.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   Bitmaps in @FT_PIXEL_MODE_GRAY2 and @FT_PIXEL_MODE_GRAY@ format are</span>
<span class="line-added">+    *   converted to @FT_PIXEL_MODE_GRAY format (i.e., 8bpp).</span>
<span class="line-added">+    */</span>
    FT_EXPORT( FT_Error )
    FT_Bitmap_Embolden( FT_Library  library,
                        FT_Bitmap*  bitmap,
                        FT_Pos      xStrength,
                        FT_Pos      yStrength );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Bitmap_Convert</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Convert a bitmap object with depth 1bpp, 2bpp, 4bpp, 8bpp or 32bpp to</span>
<span class="line-modified">!    *   a bitmap object with depth 8bpp, making the number of used bytes per</span>
<span class="line-modified">!    *   line (a.k.a. the &#39;pitch&#39;) a multiple of `alignment`.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   library ::</span>
<span class="line-modified">!    *     A handle to a library object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   source ::</span>
<span class="line-modified">!    *     The source bitmap.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   alignment ::</span>
<span class="line-modified">!    *     The pitch of the bitmap is a multiple of this argument.  Common</span>
<span class="line-modified">!    *     values are 1, 2, or 4.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @output:</span>
<span class="line-modified">!    *   target ::</span>
<span class="line-modified">!    *     The target bitmap.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *   FreeType error code.  0~means success.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-modified">!    *   It is possible to call @FT_Bitmap_Convert multiple times without</span>
<span class="line-modified">!    *   calling @FT_Bitmap_Done (the memory is simply reallocated).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Use @FT_Bitmap_Done to finally remove the bitmap object.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   The `library` argument is taken to have access to FreeType&#39;s memory</span>
<span class="line-added">+    *   handling functions.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   `source-&gt;buffer` and `target-&gt;buffer` must neither be equal nor</span>
<span class="line-added">+    *   overlap.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( FT_Error )
    FT_Bitmap_Convert( FT_Library        library,
                       const FT_Bitmap  *source,
                       FT_Bitmap        *target,
                       FT_Int            alignment );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Bitmap_Blend</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Blend a bitmap onto another bitmap, using a given color.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   library ::</span>
<span class="line-modified">!    *     A handle to a library object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   source ::</span>
<span class="line-modified">!    *     The source bitmap, which can have any @FT_Pixel_Mode format.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   source_offset ::</span>
<span class="line-modified">!    *     The offset vector to the upper left corner of the source bitmap in</span>
<span class="line-modified">!    *     26.6 pixel format.  It should represent an integer offset; the</span>
<span class="line-added">+    *     function will set the lowest six bits to zero to enforce that.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   color ::</span>
<span class="line-added">+    *     The color used to draw `source` onto `target`.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @inout:</span>
<span class="line-added">+    *   target ::</span>
<span class="line-added">+    *     A handle to an `FT_Bitmap` object.  It should be either initialized</span>
<span class="line-added">+    *     as empty with a call to @FT_Bitmap_Init, or it should be of type</span>
<span class="line-added">+    *     @FT_PIXEL_MODE_BGRA.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   atarget_offset ::</span>
<span class="line-added">+    *     The offset vector to the upper left corner of the target bitmap in</span>
<span class="line-added">+    *     26.6 pixel format.  It should represent an integer offset; the</span>
<span class="line-added">+    *     function will set the lowest six bits to zero to enforce that.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @return:</span>
<span class="line-added">+    *   FreeType error code.  0~means success.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @note:</span>
<span class="line-added">+    *   This function doesn&#39;t perform clipping.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   The bitmap in `target` gets allocated or reallocated as needed; the</span>
<span class="line-added">+    *   vector `atarget_offset` is updated accordingly.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   In case of allocation or reallocation, the bitmap&#39;s pitch is set to</span>
<span class="line-added">+    *   `4 * width`.  Both `source` and `target` must have the same bitmap</span>
<span class="line-added">+    *   flow (as indicated by the sign of the `pitch` field).</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   `source-&gt;buffer` and `target-&gt;buffer` must neither be equal nor</span>
<span class="line-added">+    *   overlap.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @since:</span>
<span class="line-added">+    *   2.10</span>
<span class="line-added">+    */</span>
<span class="line-added">+   FT_EXPORT( FT_Error )</span>
<span class="line-added">+   FT_Bitmap_Blend( FT_Library         library,</span>
<span class="line-added">+                    const FT_Bitmap*   source,</span>
<span class="line-added">+                    const FT_Vector    source_offset,</span>
<span class="line-added">+                    FT_Bitmap*         target,</span>
<span class="line-added">+                    FT_Vector         *atarget_offset,</span>
<span class="line-added">+                    FT_Color           color );</span>
<span class="line-added">+ </span>
<span class="line-added">+ </span>
<span class="line-added">+   /**************************************************************************</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @function:</span>
<span class="line-added">+    *   FT_GlyphSlot_Own_Bitmap</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @description:</span>
<span class="line-added">+    *   Make sure that a glyph slot owns `slot-&gt;bitmap`.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @input:</span>
<span class="line-added">+    *   slot ::</span>
<span class="line-added">+    *     The glyph slot.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @return:</span>
<span class="line-added">+    *   FreeType error code.  0~means success.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @note:</span>
<span class="line-added">+    *   This function is to be used in combination with @FT_Bitmap_Embolden.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( FT_Error )
    FT_GlyphSlot_Own_Bitmap( FT_GlyphSlot  slot );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Bitmap_Done</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Destroy a bitmap object initialized with @FT_Bitmap_Init.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   library ::</span>
<span class="line-modified">!    *     A handle to a library object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   bitmap ::</span>
<span class="line-modified">!    *     The bitmap object to be freed.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *   FreeType error code.  0~means success.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-modified">!    *   The `library` argument is taken to have access to FreeType&#39;s memory</span>
<span class="line-added">+    *   handling functions.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( FT_Error )
    FT_Bitmap_Done( FT_Library  library,
                    FT_Bitmap  *bitmap );
  
  
</pre>
<center><a href="ftbdf.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ftchapters.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>