<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/java.desktop/share/native/libfreetype/include/freetype/fterrors.h</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre><a name="1" id="anc1"></a><span class="line-modified">  1 /****************************************************************************</span>
<span class="line-modified">  2  *</span>
<span class="line-modified">  3  * fterrors.h</span>
<span class="line-modified">  4  *</span>
<span class="line-modified">  5  *   FreeType error code handling (specification).</span>
<span class="line-modified">  6  *</span>
<span class="line-modified">  7  * Copyright (C) 1996-2019 by</span>
<span class="line-modified">  8  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified">  9  *</span>
<span class="line-modified"> 10  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified"> 11  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified"> 12  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified"> 13  * this file you indicate that you have read the license and</span>
<span class="line-modified"> 14  * understand and accept it fully.</span>
<span class="line-modified"> 15  *</span>
<span class="line-modified"> 16  */</span>
<span class="line-modified"> 17 </span>
<span class="line-modified"> 18 </span>
<span class="line-modified"> 19   /**************************************************************************</span>
<span class="line-modified"> 20    *</span>
<span class="line-modified"> 21    * @section:</span>
<span class="line-modified"> 22    *   error_enumerations</span>
<span class="line-modified"> 23    *</span>
<span class="line-modified"> 24    * @title:</span>
<span class="line-modified"> 25    *   Error Enumerations</span>
<span class="line-modified"> 26    *</span>
<span class="line-modified"> 27    * @abstract:</span>
<span class="line-modified"> 28    *   How to handle errors and error strings.</span>
<span class="line-modified"> 29    *</span>
<span class="line-modified"> 30    * @description:</span>
<span class="line-modified"> 31    *   The header file `fterrors.h` (which is automatically included by</span>
<span class="line-modified"> 32    *   `freetype.h` defines the handling of FreeType&#39;s enumeration</span>
<span class="line-modified"> 33    *   constants.  It can also be used to generate error message strings</span>
<span class="line-modified"> 34    *   with a small macro trick explained below.</span>
<span class="line-modified"> 35    *</span>
<span class="line-modified"> 36    *   **Error Formats**</span>
<span class="line-modified"> 37    *</span>
<span class="line-modified"> 38    *   The configuration macro `FT_CONFIG_OPTION_USE_MODULE_ERRORS` can be</span>
<span class="line-modified"> 39    *   defined in `ftoption.h` in order to make the higher byte indicate the</span>
<span class="line-modified"> 40    *   module where the error has happened (this is not compatible with</span>
<span class="line-modified"> 41    *   standard builds of FreeType~2, however).  See the file `ftmoderr.h`</span>
<span class="line-modified"> 42    *   for more details.</span>
<span class="line-modified"> 43    *</span>
<span class="line-modified"> 44    *   **Error Message Strings**</span>
<span class="line-modified"> 45    *</span>
<span class="line-modified"> 46    *   Error definitions are set up with special macros that allow client</span>
<span class="line-modified"> 47    *   applications to build a table of error message strings.  The strings</span>
<span class="line-modified"> 48    *   are not included in a normal build of FreeType~2 to save space (most</span>
<span class="line-modified"> 49    *   client applications do not use them).</span>
<span class="line-modified"> 50    *</span>
<span class="line-modified"> 51    *   To do so, you have to define the following macros before including</span>
<span class="line-modified"> 52    *   this file.</span>
<span class="line-modified"> 53    *</span>
<span class="line-modified"> 54    *   ```</span>
<span class="line-modified"> 55    *     FT_ERROR_START_LIST</span>
<span class="line-modified"> 56    *   ```</span>
<span class="line-modified"> 57    *</span>
<span class="line-modified"> 58    *   This macro is called before anything else to define the start of the</span>
<span class="line-modified"> 59    *   error list.  It is followed by several `FT_ERROR_DEF` calls.</span>
<span class="line-modified"> 60    *</span>
<span class="line-modified"> 61    *   ```</span>
<span class="line-modified"> 62    *     FT_ERROR_DEF( e, v, s )</span>
<span class="line-modified"> 63    *   ```</span>
<span class="line-modified"> 64    *</span>
<span class="line-modified"> 65    *   This macro is called to define one single error.  &#39;e&#39; is the error</span>
<span class="line-modified"> 66    *   code identifier (e.g., `Invalid_Argument`), &#39;v&#39; is the error&#39;s</span>
<span class="line-modified"> 67    *   numerical value, and &#39;s&#39; is the corresponding error string.</span>
<span class="line-modified"> 68    *</span>
<span class="line-modified"> 69    *   ```</span>
<span class="line-modified"> 70    *     FT_ERROR_END_LIST</span>
<span class="line-modified"> 71    *   ```</span>
<span class="line-modified"> 72    *</span>
<span class="line-modified"> 73    *   This macro ends the list.</span>
<span class="line-modified"> 74    *</span>
<span class="line-modified"> 75    *   Additionally, you have to undefine `FTERRORS_H_` before #including</span>
<span class="line-modified"> 76    *   this file.</span>
<span class="line-modified"> 77    *</span>
<span class="line-modified"> 78    *   Here is a simple example.</span>
<span class="line-modified"> 79    *</span>
<span class="line-modified"> 80    *   ```</span>
<span class="line-modified"> 81    *     #undef FTERRORS_H_</span>
<span class="line-modified"> 82    *     #define FT_ERRORDEF( e, v, s )  { e, s },</span>
<span class="line-modified"> 83    *     #define FT_ERROR_START_LIST     {</span>
<span class="line-modified"> 84    *     #define FT_ERROR_END_LIST       { 0, NULL } };</span>
<span class="line-modified"> 85    *</span>
<span class="line-modified"> 86    *     const struct</span>
<span class="line-modified"> 87    *     {</span>
<span class="line-modified"> 88    *       int          err_code;</span>
<span class="line-modified"> 89    *       const char*  err_msg;</span>
<span class="line-modified"> 90    *     } ft_errors[] =</span>
<span class="line-modified"> 91    *</span>
<span class="line-modified"> 92    *     #include FT_ERRORS_H</span>
<span class="line-modified"> 93    *   ```</span>
<span class="line-modified"> 94    *</span>
<span class="line-modified"> 95    *   An alternative to using an array is a switch statement.</span>
<span class="line-modified"> 96    *</span>
<span class="line-modified"> 97    *   ```</span>
<span class="line-modified"> 98    *     #undef FTERRORS_H_</span>
<span class="line-added"> 99    *     #define FT_ERROR_START_LIST     switch ( error_code ) {</span>
<span class="line-added">100    *     #define FT_ERRORDEF( e, v, s )    case v: return s;</span>
<span class="line-added">101    *     #define FT_ERROR_END_LIST       }</span>
<span class="line-added">102    *   ```</span>
<span class="line-added">103    *</span>
<span class="line-added">104    *   If you use `FT_CONFIG_OPTION_USE_MODULE_ERRORS`, `error_code` should</span>
<span class="line-added">105    *   be replaced with `FT_ERROR_BASE(error_code)` in the last example.</span>
<span class="line-added">106    */</span>
107 
108   /* */
109 
<a name="2" id="anc2"></a><span class="line-modified">110   /* In previous FreeType versions we used `__FTERRORS_H__`.  However, */</span>
111   /* using two successive underscores in a non-system symbol name      */
112   /* violates the C (and C++) standard, so it was changed to the       */
113   /* current form.  In spite of this, we have to make                  */
114   /*                                                                   */
<a name="3" id="anc3"></a><span class="line-added">115   /* ```                                                               */</span>
116   /*   #undefine __FTERRORS_H__                                        */
<a name="4" id="anc4"></a><span class="line-added">117   /* ```                                                               */</span>
118   /*                                                                   */
119   /* work for backward compatibility.                                  */
120   /*                                                                   */
121 #if !( defined( FTERRORS_H_ ) &amp;&amp; defined ( __FTERRORS_H__ ) )
122 #define FTERRORS_H_
123 #define __FTERRORS_H__
124 
125 
126   /* include module base error codes */
127 #include FT_MODULE_ERRORS_H
128 
129 
130   /*******************************************************************/
131   /*******************************************************************/
132   /*****                                                         *****/
133   /*****                       SETUP MACROS                      *****/
134   /*****                                                         *****/
135   /*******************************************************************/
136   /*******************************************************************/
137 
138 
139 #undef  FT_NEED_EXTERN_C
140 
141 
142   /* FT_ERR_PREFIX is used as a prefix for error identifiers. */
<a name="5" id="anc5"></a><span class="line-modified">143   /* By default, we use `FT_Err_`.                            */</span>
144   /*                                                          */
145 #ifndef FT_ERR_PREFIX
146 #define FT_ERR_PREFIX  FT_Err_
147 #endif
148 
149 
150   /* FT_ERR_BASE is used as the base for module-specific errors. */
151   /*                                                             */
152 #ifdef FT_CONFIG_OPTION_USE_MODULE_ERRORS
153 
154 #ifndef FT_ERR_BASE
155 #define FT_ERR_BASE  FT_Mod_Err_Base
156 #endif
157 
158 #else
159 
160 #undef FT_ERR_BASE
161 #define FT_ERR_BASE  0
162 
163 #endif /* FT_CONFIG_OPTION_USE_MODULE_ERRORS */
164 
165 
166   /* If FT_ERRORDEF is not defined, we need to define a simple */
167   /* enumeration type.                                         */
168   /*                                                           */
169 #ifndef FT_ERRORDEF
170 
<a name="6" id="anc6"></a><span class="line-added">171 #define FT_INCLUDE_ERR_PROTOS</span>
<span class="line-added">172 </span>
173 #define FT_ERRORDEF( e, v, s )  e = v,
174 #define FT_ERROR_START_LIST     enum {
175 #define FT_ERROR_END_LIST       FT_ERR_CAT( FT_ERR_PREFIX, Max ) };
176 
177 #ifdef __cplusplus
178 #define FT_NEED_EXTERN_C
179   extern &quot;C&quot; {
180 #endif
181 
182 #endif /* !FT_ERRORDEF */
183 
184 
185   /* this macro is used to define an error */
186 #define FT_ERRORDEF_( e, v, s )                                             \
187           FT_ERRORDEF( FT_ERR_CAT( FT_ERR_PREFIX, e ), v + FT_ERR_BASE, s )
188 
189   /* this is only used for &lt;module&gt;_Err_Ok, which must be 0! */
190 #define FT_NOERRORDEF_( e, v, s )                             \
191           FT_ERRORDEF( FT_ERR_CAT( FT_ERR_PREFIX, e ), v, s )
192 
193 
194 #ifdef FT_ERROR_START_LIST
195   FT_ERROR_START_LIST
196 #endif
197 
198 
199   /* now include the error codes */
200 #include FT_ERROR_DEFINITIONS_H
201 
202 
203 #ifdef FT_ERROR_END_LIST
204   FT_ERROR_END_LIST
205 #endif
206 
207 
208   /*******************************************************************/
209   /*******************************************************************/
210   /*****                                                         *****/
211   /*****                      SIMPLE CLEANUP                     *****/
212   /*****                                                         *****/
213   /*******************************************************************/
214   /*******************************************************************/
215 
216 #ifdef FT_NEED_EXTERN_C
217   }
218 #endif
219 
220 #undef FT_ERROR_START_LIST
221 #undef FT_ERROR_END_LIST
222 
223 #undef FT_ERRORDEF
224 #undef FT_ERRORDEF_
225 #undef FT_NOERRORDEF_
226 
227 #undef FT_NEED_EXTERN_C
228 #undef FT_ERR_BASE
229 
230   /* FT_ERR_PREFIX is needed internally */
231 #ifndef FT2_BUILD_LIBRARY
232 #undef FT_ERR_PREFIX
233 #endif
234 
<a name="7" id="anc7"></a><span class="line-added">235   /* FT_INCLUDE_ERR_PROTOS:  Control if function prototypes should be       */</span>
<span class="line-added">236   /*                         included with `#include FT_ERRORS_H&#39;.  This is */</span>
<span class="line-added">237   /*                         only true where `FT_ERRORDEF` is undefined.    */</span>
<span class="line-added">238   /* FT_ERR_PROTOS_DEFINED:  Actual multiple-inclusion protection of        */</span>
<span class="line-added">239   /*                         `fterrors.h`.                                  */</span>
<span class="line-added">240 #ifdef FT_INCLUDE_ERR_PROTOS</span>
<span class="line-added">241 #undef FT_INCLUDE_ERR_PROTOS</span>
<span class="line-added">242 </span>
<span class="line-added">243 #ifndef FT_ERR_PROTOS_DEFINED</span>
<span class="line-added">244 #define FT_ERR_PROTOS_DEFINED</span>
<span class="line-added">245 </span>
<span class="line-added">246 </span>
<span class="line-added">247 FT_BEGIN_HEADER</span>
<span class="line-added">248 </span>
<span class="line-added">249   /**************************************************************************</span>
<span class="line-added">250    *</span>
<span class="line-added">251    * @function:</span>
<span class="line-added">252    *   FT_Error_String</span>
<span class="line-added">253    *</span>
<span class="line-added">254    * @description:</span>
<span class="line-added">255    *   Retrieve the description of a valid FreeType error code.</span>
<span class="line-added">256    *</span>
<span class="line-added">257    * @input:</span>
<span class="line-added">258    *   error_code ::</span>
<span class="line-added">259    *     A valid FreeType error code.</span>
<span class="line-added">260    *</span>
<span class="line-added">261    * @return:</span>
<span class="line-added">262    *   A C~string or `NULL`, if any error occurred.</span>
<span class="line-added">263    *</span>
<span class="line-added">264    * @note:</span>
<span class="line-added">265    *   FreeType has to be compiled with `FT_CONFIG_OPTION_ERROR_STRINGS` or</span>
<span class="line-added">266    *   `FT_DEBUG_LEVEL_ERROR` to get meaningful descriptions.</span>
<span class="line-added">267    *   &#39;error_string&#39; will be `NULL` otherwise.</span>
<span class="line-added">268    *</span>
<span class="line-added">269    *   Module identification will be ignored:</span>
<span class="line-added">270    *</span>
<span class="line-added">271    *   ```c</span>
<span class="line-added">272    *     strcmp( FT_Error_String(  FT_Err_Unknown_File_Format ),</span>
<span class="line-added">273    *             FT_Error_String( BDF_Err_Unknown_File_Format ) ) == 0;</span>
<span class="line-added">274    *   ```</span>
<span class="line-added">275    */</span>
<span class="line-added">276   FT_EXPORT( const char* )</span>
<span class="line-added">277   FT_Error_String( FT_Error  error_code );</span>
<span class="line-added">278 </span>
<span class="line-added">279 FT_END_HEADER</span>
<span class="line-added">280 </span>
<span class="line-added">281 </span>
<span class="line-added">282 #endif /* FT_ERR_PROTOS_DEFINED */</span>
<span class="line-added">283 </span>
<span class="line-added">284 #endif /* FT_INCLUDE_ERR_PROTOS */</span>
<span class="line-added">285 </span>
286 #endif /* !(FTERRORS_H_ &amp;&amp; __FTERRORS_H__) */
287 
288 
289 /* END */
<a name="8" id="anc8"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="8" type="hidden" />
</body>
</html>