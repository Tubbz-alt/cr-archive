<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/java.desktop/share/native/libfreetype/include/freetype/internal/autohint.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre><a name="1" id="anc1"></a><span class="line-modified">  1 /***************************************************************************/</span>
<span class="line-modified">  2 /*                                                                         */</span>
<span class="line-modified">  3 /*  autohint.h                                                             */</span>
<span class="line-modified">  4 /*                                                                         */</span>
<span class="line-modified">  5 /*    High-level `autohint&#39; module-specific interface (specification).     */</span>
<span class="line-modified">  6 /*                                                                         */</span>
<span class="line-modified">  7 /*  Copyright 1996-2018 by                                                 */</span>
<span class="line-modified">  8 /*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */</span>
<span class="line-modified">  9 /*                                                                         */</span>
<span class="line-modified"> 10 /*  This file is part of the FreeType project, and may only be used,       */</span>
<span class="line-modified"> 11 /*  modified, and distributed under the terms of the FreeType project      */</span>
<span class="line-modified"> 12 /*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */</span>
<span class="line-modified"> 13 /*  this file you indicate that you have read the license and              */</span>
<span class="line-modified"> 14 /*  understand and accept it fully.                                        */</span>
<span class="line-modified"> 15 /*                                                                         */</span>
<span class="line-modified"> 16 /***************************************************************************/</span>
<span class="line-modified"> 17 </span>
<span class="line-modified"> 18 </span>
<span class="line-modified"> 19   /*************************************************************************/</span>
<span class="line-modified"> 20   /*                                                                       */</span>
<span class="line-modified"> 21   /* The auto-hinter is used to load and automatically hint glyphs if a    */</span>
<span class="line-modified"> 22   /* format-specific hinter isn&#39;t available.                               */</span>
<span class="line-modified"> 23   /*                                                                       */</span>
<span class="line-modified"> 24   /*************************************************************************/</span>
 25 
 26 
 27 #ifndef AUTOHINT_H_
 28 #define AUTOHINT_H_
 29 
 30 
<a name="2" id="anc2"></a><span class="line-modified"> 31   /*************************************************************************/</span>
<span class="line-modified"> 32   /*                                                                       */</span>
<span class="line-modified"> 33   /* A small technical note regarding automatic hinting in order to        */</span>
<span class="line-modified"> 34   /* clarify this module interface.                                        */</span>
<span class="line-modified"> 35   /*                                                                       */</span>
<span class="line-modified"> 36   /* An automatic hinter might compute two kinds of data for a given face: */</span>
<span class="line-modified"> 37   /*                                                                       */</span>
<span class="line-modified"> 38   /* - global hints: Usually some metrics that describe global properties  */</span>
<span class="line-modified"> 39   /*                 of the face.  It is computed by scanning more or less */</span>
<span class="line-modified"> 40   /*                 aggressively the glyphs in the face, and thus can be  */</span>
<span class="line-modified"> 41   /*                 very slow to compute (even if the size of global      */</span>
<span class="line-modified"> 42   /*                 hints is really small).                               */</span>
<span class="line-modified"> 43   /*                                                                       */</span>
<span class="line-modified"> 44   /* - glyph hints:  These describe some important features of the glyph   */</span>
<span class="line-modified"> 45   /*                 outline, as well as how to align them.  They are      */</span>
<span class="line-modified"> 46   /*                 generally much faster to compute than global hints.   */</span>
<span class="line-modified"> 47   /*                                                                       */</span>
<span class="line-modified"> 48   /* The current FreeType auto-hinter does a pretty good job while         */</span>
<span class="line-modified"> 49   /* performing fast computations for both global and glyph hints.         */</span>
<span class="line-modified"> 50   /* However, we might be interested in introducing more complex and       */</span>
<span class="line-modified"> 51   /* powerful algorithms in the future, like the one described in the John */</span>
<span class="line-modified"> 52   /* D. Hobby paper, which unfortunately requires a lot more horsepower.   */</span>
<span class="line-modified"> 53   /*                                                                       */</span>
<span class="line-modified"> 54   /* Because a sufficiently sophisticated font management system would     */</span>
<span class="line-modified"> 55   /* typically implement an LRU cache of opened face objects to reduce     */</span>
<span class="line-modified"> 56   /* memory usage, it is a good idea to be able to avoid recomputing       */</span>
<span class="line-modified"> 57   /* global hints every time the same face is re-opened.                   */</span>
<span class="line-modified"> 58   /*                                                                       */</span>
<span class="line-modified"> 59   /* We thus provide the ability to cache global hints outside of the face */</span>
<span class="line-modified"> 60   /* object, in order to speed up font re-opening time.  Of course, this   */</span>
<span class="line-modified"> 61   /* feature is purely optional, so most client programs won&#39;t even notice */</span>
<span class="line-modified"> 62   /* it.                                                                   */</span>
<span class="line-modified"> 63   /*                                                                       */</span>
<span class="line-modified"> 64   /* I initially thought that it would be a good idea to cache the glyph   */</span>
<span class="line-modified"> 65   /* hints too.  However, my general idea now is that if you really need   */</span>
<span class="line-modified"> 66   /* to cache these too, you are simply in need of a new font format,      */</span>
<span class="line-modified"> 67   /* where all this information could be stored within the font file and   */</span>
<span class="line-modified"> 68   /* decoded on the fly.                                                   */</span>
<span class="line-modified"> 69   /*                                                                       */</span>
<span class="line-modified"> 70   /*************************************************************************/</span>
 71 
 72 
 73 #include &lt;ft2build.h&gt;
 74 #include FT_FREETYPE_H
 75 
 76 
 77 FT_BEGIN_HEADER
 78 
 79 
 80   typedef struct FT_AutoHinterRec_  *FT_AutoHinter;
 81 
 82 
<a name="3" id="anc3"></a><span class="line-modified"> 83   /*************************************************************************/</span>
<span class="line-modified"> 84   /*                                                                       */</span>
<span class="line-modified"> 85   /* &lt;FuncType&gt;                                                            */</span>
<span class="line-modified"> 86   /*    FT_AutoHinter_GlobalGetFunc                                        */</span>
<span class="line-modified"> 87   /*                                                                       */</span>
<span class="line-modified"> 88   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified"> 89   /*    Retrieve the global hints computed for a given face object.  The   */</span>
<span class="line-modified"> 90   /*    resulting data is dissociated from the face and will survive a     */</span>
<span class="line-modified"> 91   /*    call to FT_Done_Face().  It must be discarded through the API      */</span>
<span class="line-modified"> 92   /*    FT_AutoHinter_GlobalDoneFunc().                                    */</span>
<span class="line-modified"> 93   /*                                                                       */</span>
<span class="line-modified"> 94   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified"> 95   /*    hinter       :: A handle to the source auto-hinter.                */</span>
<span class="line-modified"> 96   /*                                                                       */</span>
<span class="line-modified"> 97   /*    face         :: A handle to the source face object.                */</span>
<span class="line-modified"> 98   /*                                                                       */</span>
<span class="line-modified"> 99   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">100   /*    global_hints :: A typeless pointer to the global hints.            */</span>
<span class="line-modified">101   /*                                                                       */</span>
<span class="line-modified">102   /*    global_len   :: The size in bytes of the global hints.             */</span>
<span class="line-modified">103   /*                                                                       */</span>




104   typedef void
105   (*FT_AutoHinter_GlobalGetFunc)( FT_AutoHinter  hinter,
106                                   FT_Face        face,
107                                   void**         global_hints,
108                                   long*          global_len );
109 
110 
<a name="4" id="anc4"></a><span class="line-modified">111   /*************************************************************************/</span>
<span class="line-modified">112   /*                                                                       */</span>
<span class="line-modified">113   /* &lt;FuncType&gt;                                                            */</span>
<span class="line-modified">114   /*    FT_AutoHinter_GlobalDoneFunc                                       */</span>
<span class="line-modified">115   /*                                                                       */</span>
<span class="line-modified">116   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">117   /*    Discard the global hints retrieved through                         */</span>
<span class="line-modified">118   /*    FT_AutoHinter_GlobalGetFunc().  This is the only way these hints   */</span>
<span class="line-modified">119   /*    are freed from memory.                                             */</span>
<span class="line-modified">120   /*                                                                       */</span>
<span class="line-modified">121   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">122   /*    hinter :: A handle to the auto-hinter module.                      */</span>
<span class="line-modified">123   /*                                                                       */</span>
<span class="line-modified">124   /*    global :: A pointer to retrieved global hints to discard.          */</span>
<span class="line-modified">125   /*                                                                       */</span>


126   typedef void
127   (*FT_AutoHinter_GlobalDoneFunc)( FT_AutoHinter  hinter,
128                                    void*          global );
129 
130 
<a name="5" id="anc5"></a><span class="line-modified">131   /*************************************************************************/</span>
<span class="line-modified">132   /*                                                                       */</span>
<span class="line-modified">133   /* &lt;FuncType&gt;                                                            */</span>
<span class="line-modified">134   /*    FT_AutoHinter_GlobalResetFunc                                      */</span>
<span class="line-modified">135   /*                                                                       */</span>
<span class="line-modified">136   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">137   /*    This function is used to recompute the global metrics in a given   */</span>
<span class="line-modified">138   /*    font.  This is useful when global font data changes (e.g. Multiple */</span>
<span class="line-modified">139   /*    Masters fonts where blend coordinates change).                     */</span>
<span class="line-modified">140   /*                                                                       */</span>
<span class="line-modified">141   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">142   /*    hinter :: A handle to the source auto-hinter.                      */</span>
<span class="line-modified">143   /*                                                                       */</span>
<span class="line-modified">144   /*    face   :: A handle to the face.                                    */</span>
<span class="line-modified">145   /*                                                                       */</span>


146   typedef void
147   (*FT_AutoHinter_GlobalResetFunc)( FT_AutoHinter  hinter,
148                                     FT_Face        face );
149 
150 
<a name="6" id="anc6"></a><span class="line-modified">151   /*************************************************************************/</span>
<span class="line-modified">152   /*                                                                       */</span>
<span class="line-modified">153   /* &lt;FuncType&gt;                                                            */</span>
<span class="line-modified">154   /*    FT_AutoHinter_GlyphLoadFunc                                        */</span>
<span class="line-modified">155   /*                                                                       */</span>
<span class="line-modified">156   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">157   /*    This function is used to load, scale, and automatically hint a     */</span>
<span class="line-modified">158   /*    glyph from a given face.                                           */</span>
<span class="line-modified">159   /*                                                                       */</span>
<span class="line-modified">160   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">161   /*    face        :: A handle to the face.                               */</span>
<span class="line-modified">162   /*                                                                       */</span>
<span class="line-modified">163   /*    glyph_index :: The glyph index.                                    */</span>
<span class="line-modified">164   /*                                                                       */</span>
<span class="line-modified">165   /*    load_flags  :: The load flags.                                     */</span>
<span class="line-modified">166   /*                                                                       */</span>
<span class="line-modified">167   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">168   /*    This function is capable of loading composite glyphs by hinting    */</span>
<span class="line-modified">169   /*    each sub-glyph independently (which improves quality).             */</span>
<span class="line-modified">170   /*                                                                       */</span>
<span class="line-modified">171   /*    It will call the font driver with @FT_Load_Glyph, with             */</span>
<span class="line-modified">172   /*    @FT_LOAD_NO_SCALE set.                                             */</span>
<span class="line-modified">173   /*                                                                       */</span>



174   typedef FT_Error
175   (*FT_AutoHinter_GlyphLoadFunc)( FT_AutoHinter  hinter,
176                                   FT_GlyphSlot   slot,
177                                   FT_Size        size,
178                                   FT_UInt        glyph_index,
179                                   FT_Int32       load_flags );
180 
181 
<a name="7" id="anc7"></a><span class="line-modified">182   /*************************************************************************/</span>
<span class="line-modified">183   /*                                                                       */</span>
<span class="line-modified">184   /* &lt;Struct&gt;                                                              */</span>
<span class="line-modified">185   /*    FT_AutoHinter_InterfaceRec                                         */</span>
<span class="line-modified">186   /*                                                                       */</span>
<span class="line-modified">187   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">188   /*    The auto-hinter module&#39;s interface.                                */</span>
<span class="line-modified">189   /*                                                                       */</span>
190   typedef struct  FT_AutoHinter_InterfaceRec_
191   {
192     FT_AutoHinter_GlobalResetFunc  reset_face;
193     FT_AutoHinter_GlobalGetFunc    get_global_hints;
194     FT_AutoHinter_GlobalDoneFunc   done_global_hints;
195     FT_AutoHinter_GlyphLoadFunc    load_glyph;
196 
197   } FT_AutoHinter_InterfaceRec, *FT_AutoHinter_Interface;
198 
199 
<a name="8" id="anc8"></a><span class="line-removed">200 #ifndef FT_CONFIG_OPTION_PIC</span>
<span class="line-removed">201 </span>
202 #define FT_DEFINE_AUTOHINTER_INTERFACE(       \
203           class_,                             \
204           reset_face_,                        \
205           get_global_hints_,                  \
206           done_global_hints_,                 \
207           load_glyph_ )                       \
208   FT_CALLBACK_TABLE_DEF                       \
209   const FT_AutoHinter_InterfaceRec  class_ =  \
210   {                                           \
211     reset_face_,                              \
212     get_global_hints_,                        \
213     done_global_hints_,                       \
214     load_glyph_                               \
215   };
216 
<a name="9" id="anc9"></a><span class="line-removed">217 #else /* FT_CONFIG_OPTION_PIC */</span>
<span class="line-removed">218 </span>
<span class="line-removed">219 #define FT_DEFINE_AUTOHINTER_INTERFACE(                            \</span>
<span class="line-removed">220           class_,                                                  \</span>
<span class="line-removed">221           reset_face_,                                             \</span>
<span class="line-removed">222           get_global_hints_,                                       \</span>
<span class="line-removed">223           done_global_hints_,                                      \</span>
<span class="line-removed">224           load_glyph_ )                                            \</span>
<span class="line-removed">225   void                                                             \</span>
<span class="line-removed">226   FT_Init_Class_ ## class_( FT_Library                   library,  \</span>
<span class="line-removed">227                             FT_AutoHinter_InterfaceRec*  clazz )   \</span>
<span class="line-removed">228   {                                                                \</span>
<span class="line-removed">229     FT_UNUSED( library );                                          \</span>
<span class="line-removed">230                                                                    \</span>
<span class="line-removed">231     clazz-&gt;reset_face        = reset_face_;                        \</span>
<span class="line-removed">232     clazz-&gt;get_global_hints  = get_global_hints_;                  \</span>
<span class="line-removed">233     clazz-&gt;done_global_hints = done_global_hints_;                 \</span>
<span class="line-removed">234     clazz-&gt;load_glyph        = load_glyph_;                        \</span>
<span class="line-removed">235   }</span>
<span class="line-removed">236 </span>
<span class="line-removed">237 #endif /* FT_CONFIG_OPTION_PIC */</span>
238 
239 FT_END_HEADER
240 
241 #endif /* AUTOHINT_H_ */
242 
243 
244 /* END */
<a name="10" id="anc10"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="10" type="hidden" />
</body>
</html>