<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/share/native/libfreetype/include/freetype/ftstroke.h</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="ftsnames.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ftsynth.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfreetype/include/freetype/ftstroke.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
<span class="line-modified">  1 /***************************************************************************/</span>
<span class="line-modified">  2 /*                                                                         */</span>
<span class="line-modified">  3 /*  ftstroke.h                                                             */</span>
<span class="line-modified">  4 /*                                                                         */</span>
<span class="line-modified">  5 /*    FreeType path stroker (specification).                               */</span>
<span class="line-modified">  6 /*                                                                         */</span>
<span class="line-modified">  7 /*  Copyright 2002-2018 by                                                 */</span>
<span class="line-modified">  8 /*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */</span>
<span class="line-modified">  9 /*                                                                         */</span>
<span class="line-modified"> 10 /*  This file is part of the FreeType project, and may only be used,       */</span>
<span class="line-modified"> 11 /*  modified, and distributed under the terms of the FreeType project      */</span>
<span class="line-modified"> 12 /*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */</span>
<span class="line-modified"> 13 /*  this file you indicate that you have read the license and              */</span>
<span class="line-modified"> 14 /*  understand and accept it fully.                                        */</span>
<span class="line-modified"> 15 /*                                                                         */</span>
<span class="line-modified"> 16 /***************************************************************************/</span>
 17 
 18 
 19 #ifndef FTSTROKE_H_
 20 #define FTSTROKE_H_
 21 
 22 #include &lt;ft2build.h&gt;
 23 #include FT_OUTLINE_H
 24 #include FT_GLYPH_H
 25 
 26 
 27 FT_BEGIN_HEADER
 28 
 29 
<span class="line-modified"> 30  /************************************************************************</span>
<span class="line-modified"> 31   *</span>
<span class="line-modified"> 32   * @section:</span>
<span class="line-modified"> 33   *    glyph_stroker</span>
<span class="line-modified"> 34   *</span>
<span class="line-modified"> 35   * @title:</span>
<span class="line-modified"> 36   *    Glyph Stroker</span>
<span class="line-modified"> 37   *</span>
<span class="line-modified"> 38   * @abstract:</span>
<span class="line-modified"> 39   *    Generating bordered and stroked glyphs.</span>
<span class="line-modified"> 40   *</span>
<span class="line-modified"> 41   * @description:</span>
<span class="line-modified"> 42   *    This component generates stroked outlines of a given vectorial</span>
<span class="line-modified"> 43   *    glyph.  It also allows you to retrieve the `outside&#39; and/or the</span>
<span class="line-modified"> 44   *    `inside&#39; borders of the stroke.</span>
<span class="line-modified"> 45   *</span>
<span class="line-modified"> 46   *    This can be useful to generate `bordered&#39; glyph, i.e., glyphs</span>
<span class="line-modified"> 47   *    displayed with a coloured (and anti-aliased) border around their</span>
<span class="line-modified"> 48   *    shape.</span>
<span class="line-modified"> 49   *</span>
<span class="line-modified"> 50   * @order:</span>
<span class="line-modified"> 51   *    FT_Stroker</span>
<span class="line-modified"> 52   *</span>
<span class="line-modified"> 53   *    FT_Stroker_LineJoin</span>
<span class="line-modified"> 54   *    FT_Stroker_LineCap</span>
<span class="line-modified"> 55   *    FT_StrokerBorder</span>
<span class="line-modified"> 56   *</span>
<span class="line-modified"> 57   *    FT_Outline_GetInsideBorder</span>
<span class="line-modified"> 58   *    FT_Outline_GetOutsideBorder</span>
<span class="line-modified"> 59   *</span>
<span class="line-modified"> 60   *    FT_Glyph_Stroke</span>
<span class="line-modified"> 61   *    FT_Glyph_StrokeBorder</span>
<span class="line-modified"> 62   *</span>
<span class="line-modified"> 63   *    FT_Stroker_New</span>
<span class="line-modified"> 64   *    FT_Stroker_Set</span>
<span class="line-modified"> 65   *    FT_Stroker_Rewind</span>
<span class="line-modified"> 66   *    FT_Stroker_ParseOutline</span>
<span class="line-modified"> 67   *    FT_Stroker_Done</span>
<span class="line-modified"> 68   *</span>
<span class="line-modified"> 69   *    FT_Stroker_BeginSubPath</span>
<span class="line-modified"> 70   *    FT_Stroker_EndSubPath</span>
<span class="line-modified"> 71   *</span>
<span class="line-modified"> 72   *    FT_Stroker_LineTo</span>
<span class="line-modified"> 73   *    FT_Stroker_ConicTo</span>
<span class="line-modified"> 74   *    FT_Stroker_CubicTo</span>
<span class="line-modified"> 75   *</span>
<span class="line-modified"> 76   *    FT_Stroker_GetBorderCounts</span>
<span class="line-modified"> 77   *    FT_Stroker_ExportBorder</span>
<span class="line-modified"> 78   *    FT_Stroker_GetCounts</span>
<span class="line-modified"> 79   *    FT_Stroker_Export</span>
<span class="line-modified"> 80   *</span>
<span class="line-modified"> 81   */</span>
<span class="line-modified"> 82 </span>
<span class="line-modified"> 83 </span>
<span class="line-modified"> 84  /**************************************************************</span>
<span class="line-modified"> 85   *</span>
<span class="line-modified"> 86   * @type:</span>
<span class="line-modified"> 87   *   FT_Stroker</span>
<span class="line-modified"> 88   *</span>
<span class="line-modified"> 89   * @description:</span>
<span class="line-modified"> 90   *   Opaque handle to a path stroker object.</span>
<span class="line-modified"> 91   */</span>
 92   typedef struct FT_StrokerRec_*  FT_Stroker;
 93 
 94 
<span class="line-modified"> 95   /**************************************************************</span>
 96    *
 97    * @enum:
 98    *   FT_Stroker_LineJoin
 99    *
100    * @description:
<span class="line-modified">101    *   These values determine how two joining lines are rendered</span>
<span class="line-modified">102    *   in a stroker.</span>
103    *
104    * @values:
105    *   FT_STROKER_LINEJOIN_ROUND ::
<span class="line-modified">106    *     Used to render rounded line joins.  Circular arcs are used</span>
<span class="line-modified">107    *     to join two lines smoothly.</span>
108    *
109    *   FT_STROKER_LINEJOIN_BEVEL ::
<span class="line-modified">110    *     Used to render beveled line joins.  The outer corner of</span>
<span class="line-modified">111    *     the joined lines is filled by enclosing the triangular</span>
<span class="line-modified">112    *     region of the corner with a straight line between the</span>
<span class="line-removed">113    *     outer corners of each stroke.</span>
114    *
115    *   FT_STROKER_LINEJOIN_MITER_FIXED ::
<span class="line-modified">116    *     Used to render mitered line joins, with fixed bevels if the</span>
<span class="line-modified">117    *     miter limit is exceeded.  The outer edges of the strokes</span>
<span class="line-modified">118    *     for the two segments are extended until they meet at an</span>
<span class="line-modified">119    *     angle.  If the segments meet at too sharp an angle (such</span>
<span class="line-modified">120    *     that the miter would extend from the intersection of the</span>
<span class="line-modified">121    *     segments a distance greater than the product of the miter</span>
<span class="line-modified">122    *     limit value and the border radius), then a bevel join (see</span>
<span class="line-modified">123    *     above) is used instead.  This prevents long spikes being</span>
<span class="line-modified">124    *     created.  FT_STROKER_LINEJOIN_MITER_FIXED generates a miter</span>
<span class="line-removed">125    *     line join as used in PostScript and PDF.</span>
126    *
127    *   FT_STROKER_LINEJOIN_MITER_VARIABLE ::
128    *   FT_STROKER_LINEJOIN_MITER ::
<span class="line-modified">129    *     Used to render mitered line joins, with variable bevels if</span>
<span class="line-modified">130    *     the miter limit is exceeded.  The intersection of the</span>
<span class="line-modified">131    *     strokes is clipped at a line perpendicular to the bisector</span>
<span class="line-modified">132    *     of the angle between the strokes, at the distance from the</span>
<span class="line-modified">133    *     intersection of the segments equal to the product of the</span>
<span class="line-modified">134    *     miter limit value and the border radius.  This prevents</span>
<span class="line-modified">135    *     long spikes being created.</span>
<span class="line-modified">136    *     FT_STROKER_LINEJOIN_MITER_VARIABLE generates a mitered line</span>
<span class="line-modified">137    *     join as used in XPS.  FT_STROKER_LINEJOIN_MITER is an alias</span>
<span class="line-modified">138    *     for FT_STROKER_LINEJOIN_MITER_VARIABLE, retained for</span>
<span class="line-removed">139    *     backward compatibility.</span>
140    */
141   typedef enum  FT_Stroker_LineJoin_
142   {
143     FT_STROKER_LINEJOIN_ROUND          = 0,
144     FT_STROKER_LINEJOIN_BEVEL          = 1,
145     FT_STROKER_LINEJOIN_MITER_VARIABLE = 2,
146     FT_STROKER_LINEJOIN_MITER          = FT_STROKER_LINEJOIN_MITER_VARIABLE,
147     FT_STROKER_LINEJOIN_MITER_FIXED    = 3
148 
149   } FT_Stroker_LineJoin;
150 
151 
<span class="line-modified">152   /**************************************************************</span>
153    *
154    * @enum:
155    *   FT_Stroker_LineCap
156    *
157    * @description:
<span class="line-modified">158    *   These values determine how the end of opened sub-paths are</span>
<span class="line-modified">159    *   rendered in a stroke.</span>
160    *
161    * @values:
162    *   FT_STROKER_LINECAP_BUTT ::
<span class="line-modified">163    *     The end of lines is rendered as a full stop on the last</span>
<span class="line-modified">164    *     point itself.</span>
165    *
166    *   FT_STROKER_LINECAP_ROUND ::
<span class="line-modified">167    *     The end of lines is rendered as a half-circle around the</span>
<span class="line-removed">168    *     last point.</span>
169    *
170    *   FT_STROKER_LINECAP_SQUARE ::
<span class="line-modified">171    *     The end of lines is rendered as a square around the</span>
<span class="line-removed">172    *     last point.</span>
173    */
174   typedef enum  FT_Stroker_LineCap_
175   {
176     FT_STROKER_LINECAP_BUTT = 0,
177     FT_STROKER_LINECAP_ROUND,
178     FT_STROKER_LINECAP_SQUARE
179 
180   } FT_Stroker_LineCap;
181 
182 
<span class="line-modified">183   /**************************************************************</span>
184    *
185    * @enum:
186    *   FT_StrokerBorder
187    *
188    * @description:
<span class="line-modified">189    *   These values are used to select a given stroke border</span>
<span class="line-modified">190    *   in @FT_Stroker_GetBorderCounts and @FT_Stroker_ExportBorder.</span>
191    *
192    * @values:
193    *   FT_STROKER_BORDER_LEFT ::
194    *     Select the left border, relative to the drawing direction.
195    *
196    *   FT_STROKER_BORDER_RIGHT ::
197    *     Select the right border, relative to the drawing direction.
198    *
199    * @note:
<span class="line-modified">200    *   Applications are generally interested in the `inside&#39; and `outside&#39;</span>
201    *   borders.  However, there is no direct mapping between these and the
<span class="line-modified">202    *   `left&#39; and `right&#39; ones, since this really depends on the glyph&#39;s</span>
203    *   drawing orientation, which varies between font formats.
204    *
205    *   You can however use @FT_Outline_GetInsideBorder and
206    *   @FT_Outline_GetOutsideBorder to get these.
207    */
208   typedef enum  FT_StrokerBorder_
209   {
210     FT_STROKER_BORDER_LEFT = 0,
211     FT_STROKER_BORDER_RIGHT
212 
213   } FT_StrokerBorder;
214 
215 
<span class="line-modified">216   /**************************************************************</span>
217    *
218    * @function:
219    *   FT_Outline_GetInsideBorder
220    *
221    * @description:
<span class="line-modified">222    *   Retrieve the @FT_StrokerBorder value corresponding to the</span>
<span class="line-modified">223    *   `inside&#39; borders of a given outline.</span>
224    *
225    * @input:
226    *   outline ::
227    *     The source outline handle.
228    *
229    * @return:
230    *   The border index.  @FT_STROKER_BORDER_RIGHT for empty or invalid
231    *   outlines.
232    */
233   FT_EXPORT( FT_StrokerBorder )
234   FT_Outline_GetInsideBorder( FT_Outline*  outline );
235 
236 
<span class="line-modified">237   /**************************************************************</span>
238    *
239    * @function:
240    *   FT_Outline_GetOutsideBorder
241    *
242    * @description:
<span class="line-modified">243    *   Retrieve the @FT_StrokerBorder value corresponding to the</span>
<span class="line-modified">244    *   `outside&#39; borders of a given outline.</span>
245    *
246    * @input:
247    *   outline ::
248    *     The source outline handle.
249    *
250    * @return:
251    *   The border index.  @FT_STROKER_BORDER_LEFT for empty or invalid
252    *   outlines.
253    */
254   FT_EXPORT( FT_StrokerBorder )
255   FT_Outline_GetOutsideBorder( FT_Outline*  outline );
256 
257 
<span class="line-modified">258   /**************************************************************</span>
259    *
260    * @function:
261    *   FT_Stroker_New
262    *
263    * @description:
264    *   Create a new stroker object.
265    *
266    * @input:
267    *   library ::
268    *     FreeType library handle.
269    *
270    * @output:
271    *   astroker ::
<span class="line-modified">272    *     A new stroker object handle.  NULL in case of error.</span>
273    *
274    * @return:
275    *    FreeType error code.  0~means success.
276    */
277   FT_EXPORT( FT_Error )
278   FT_Stroker_New( FT_Library   library,
279                   FT_Stroker  *astroker );
280 
281 
<span class="line-modified">282   /**************************************************************</span>
283    *
284    * @function:
285    *   FT_Stroker_Set
286    *
287    * @description:
288    *   Reset a stroker object&#39;s attributes.
289    *
290    * @input:
291    *   stroker ::
292    *     The target stroker handle.
293    *
294    *   radius ::
295    *     The border radius.
296    *
297    *   line_cap ::
298    *     The line cap style.
299    *
300    *   line_join ::
301    *     The line join style.
302    *
303    *   miter_limit ::
<span class="line-modified">304    *     The miter limit for the FT_STROKER_LINEJOIN_MITER_FIXED and</span>
<span class="line-modified">305    *     FT_STROKER_LINEJOIN_MITER_VARIABLE line join styles,</span>
<span class="line-modified">306    *     expressed as 16.16 fixed-point value.</span>
307    *
308    * @note:
<span class="line-modified">309    *   The radius is expressed in the same units as the outline</span>
<span class="line-removed">310    *   coordinates.</span>
311    *
312    *   This function calls @FT_Stroker_Rewind automatically.
313    */
314   FT_EXPORT( void )
315   FT_Stroker_Set( FT_Stroker           stroker,
316                   FT_Fixed             radius,
317                   FT_Stroker_LineCap   line_cap,
318                   FT_Stroker_LineJoin  line_join,
319                   FT_Fixed             miter_limit );
320 
321 
<span class="line-modified">322   /**************************************************************</span>
323    *
324    * @function:
325    *   FT_Stroker_Rewind
326    *
327    * @description:
<span class="line-modified">328    *   Reset a stroker object without changing its attributes.</span>
<span class="line-modified">329    *   You should call this function before beginning a new</span>
<span class="line-modified">330    *   series of calls to @FT_Stroker_BeginSubPath or</span>
<span class="line-removed">331    *   @FT_Stroker_EndSubPath.</span>
332    *
333    * @input:
334    *   stroker ::
335    *     The target stroker handle.
336    */
337   FT_EXPORT( void )
338   FT_Stroker_Rewind( FT_Stroker  stroker );
339 
340 
<span class="line-modified">341   /**************************************************************</span>
342    *
343    * @function:
344    *   FT_Stroker_ParseOutline
345    *
346    * @description:
<span class="line-modified">347    *   A convenience function used to parse a whole outline with</span>
<span class="line-modified">348    *   the stroker.  The resulting outline(s) can be retrieved</span>
<span class="line-modified">349    *   later by functions like @FT_Stroker_GetCounts and @FT_Stroker_Export.</span>
350    *
351    * @input:
352    *   stroker ::
353    *     The target stroker handle.
354    *
355    *   outline ::
356    *     The source outline.
357    *
358    *   opened ::
<span class="line-modified">359    *     A boolean.  If~1, the outline is treated as an open path instead</span>
<span class="line-modified">360    *     of a closed one.</span>
361    *
362    * @return:
363    *   FreeType error code.  0~means success.
364    *
365    * @note:
<span class="line-modified">366    *   If `opened&#39; is~0 (the default), the outline is treated as a closed</span>
<span class="line-modified">367    *   path, and the stroker generates two distinct `border&#39; outlines.</span>
368    *
<span class="line-modified">369    *   If `opened&#39; is~1, the outline is processed as an open path, and the</span>
<span class="line-modified">370    *   stroker generates a single `stroke&#39; outline.</span>
371    *
372    *   This function calls @FT_Stroker_Rewind automatically.
373    */
374   FT_EXPORT( FT_Error )
375   FT_Stroker_ParseOutline( FT_Stroker   stroker,
376                            FT_Outline*  outline,
377                            FT_Bool      opened );
378 
379 
<span class="line-modified">380   /**************************************************************</span>
381    *
382    * @function:
383    *   FT_Stroker_BeginSubPath
384    *
385    * @description:
386    *   Start a new sub-path in the stroker.
387    *
388    * @input:
389    *   stroker ::
390    *     The target stroker handle.
391    *
392    *   to ::
393    *     A pointer to the start vector.
394    *
395    *   open ::
396    *     A boolean.  If~1, the sub-path is treated as an open one.
397    *
398    * @return:
399    *   FreeType error code.  0~means success.
400    *
401    * @note:
<span class="line-modified">402    *   This function is useful when you need to stroke a path that is</span>
<span class="line-modified">403    *   not stored as an @FT_Outline object.</span>
404    */
405   FT_EXPORT( FT_Error )
406   FT_Stroker_BeginSubPath( FT_Stroker  stroker,
407                            FT_Vector*  to,
408                            FT_Bool     open );
409 
410 
<span class="line-modified">411   /**************************************************************</span>
412    *
413    * @function:
414    *   FT_Stroker_EndSubPath
415    *
416    * @description:
417    *   Close the current sub-path in the stroker.
418    *
419    * @input:
420    *   stroker ::
421    *     The target stroker handle.
422    *
423    * @return:
424    *   FreeType error code.  0~means success.
425    *
426    * @note:
<span class="line-modified">427    *   You should call this function after @FT_Stroker_BeginSubPath.</span>
<span class="line-modified">428    *   If the subpath was not `opened&#39;, this function `draws&#39; a</span>
<span class="line-modified">429    *   single line segment to the start position when needed.</span>
430    */
431   FT_EXPORT( FT_Error )
432   FT_Stroker_EndSubPath( FT_Stroker  stroker );
433 
434 
<span class="line-modified">435   /**************************************************************</span>
436    *
437    * @function:
438    *   FT_Stroker_LineTo
439    *
440    * @description:
<span class="line-modified">441    *   `Draw&#39; a single line segment in the stroker&#39;s current sub-path,</span>
<span class="line-modified">442    *   from the last position.</span>
443    *
444    * @input:
445    *   stroker ::
446    *     The target stroker handle.
447    *
448    *   to ::
449    *     A pointer to the destination point.
450    *
451    * @return:
452    *   FreeType error code.  0~means success.
453    *
454    * @note:
455    *   You should call this function between @FT_Stroker_BeginSubPath and
456    *   @FT_Stroker_EndSubPath.
457    */
458   FT_EXPORT( FT_Error )
459   FT_Stroker_LineTo( FT_Stroker  stroker,
460                      FT_Vector*  to );
461 
462 
<span class="line-modified">463   /**************************************************************</span>
464    *
465    * @function:
466    *   FT_Stroker_ConicTo
467    *
468    * @description:
<span class="line-modified">469    *   `Draw&#39; a single quadratic Bezier in the stroker&#39;s current sub-path,</span>
470    *   from the last position.
471    *
472    * @input:
473    *   stroker ::
474    *     The target stroker handle.
475    *
476    *   control ::
477    *     A pointer to a Bezier control point.
478    *
479    *   to ::
480    *     A pointer to the destination point.
481    *
482    * @return:
483    *   FreeType error code.  0~means success.
484    *
485    * @note:
486    *   You should call this function between @FT_Stroker_BeginSubPath and
487    *   @FT_Stroker_EndSubPath.
488    */
489   FT_EXPORT( FT_Error )
490   FT_Stroker_ConicTo( FT_Stroker  stroker,
491                       FT_Vector*  control,
492                       FT_Vector*  to );
493 
494 
<span class="line-modified">495   /**************************************************************</span>
496    *
497    * @function:
498    *   FT_Stroker_CubicTo
499    *
500    * @description:
<span class="line-modified">501    *   `Draw&#39; a single cubic Bezier in the stroker&#39;s current sub-path,</span>
<span class="line-modified">502    *   from the last position.</span>
503    *
504    * @input:
505    *   stroker ::
506    *     The target stroker handle.
507    *
508    *   control1 ::
509    *     A pointer to the first Bezier control point.
510    *
511    *   control2 ::
512    *     A pointer to second Bezier control point.
513    *
514    *   to ::
515    *     A pointer to the destination point.
516    *
517    * @return:
518    *   FreeType error code.  0~means success.
519    *
520    * @note:
521    *   You should call this function between @FT_Stroker_BeginSubPath and
522    *   @FT_Stroker_EndSubPath.
523    */
524   FT_EXPORT( FT_Error )
525   FT_Stroker_CubicTo( FT_Stroker  stroker,
526                       FT_Vector*  control1,
527                       FT_Vector*  control2,
528                       FT_Vector*  to );
529 
530 
<span class="line-modified">531   /**************************************************************</span>
532    *
533    * @function:
534    *   FT_Stroker_GetBorderCounts
535    *
536    * @description:
<span class="line-modified">537    *   Call this function once you have finished parsing your paths</span>
<span class="line-modified">538    *   with the stroker.  It returns the number of points and</span>
<span class="line-modified">539    *   contours necessary to export one of the `border&#39; or `stroke&#39;</span>
<span class="line-modified">540    *   outlines generated by the stroker.</span>
541    *
542    * @input:
543    *   stroker ::
544    *     The target stroker handle.
545    *
546    *   border ::
547    *     The border index.
548    *
549    * @output:
550    *   anum_points ::
551    *     The number of points.
552    *
553    *   anum_contours ::
554    *     The number of contours.
555    *
556    * @return:
557    *   FreeType error code.  0~means success.
558    *
559    * @note:
<span class="line-modified">560    *   When an outline, or a sub-path, is `closed&#39;, the stroker generates</span>
<span class="line-modified">561    *   two independent `border&#39; outlines, named `left&#39; and `right&#39;.</span>
562    *
<span class="line-modified">563    *   When the outline, or a sub-path, is `opened&#39;, the stroker merges</span>
<span class="line-modified">564    *   the `border&#39; outlines with caps.  The `left&#39; border receives all</span>
<span class="line-modified">565    *   points, while the `right&#39; border becomes empty.</span>
566    *
<span class="line-modified">567    *   Use the function @FT_Stroker_GetCounts instead if you want to</span>
<span class="line-modified">568    *   retrieve the counts associated to both borders.</span>
569    */
570   FT_EXPORT( FT_Error )
571   FT_Stroker_GetBorderCounts( FT_Stroker        stroker,
572                               FT_StrokerBorder  border,
573                               FT_UInt          *anum_points,
574                               FT_UInt          *anum_contours );
575 
576 
<span class="line-modified">577   /**************************************************************</span>
578    *
579    * @function:
580    *   FT_Stroker_ExportBorder
581    *
582    * @description:
<span class="line-modified">583    *   Call this function after @FT_Stroker_GetBorderCounts to</span>
<span class="line-modified">584    *   export the corresponding border to your own @FT_Outline</span>
<span class="line-removed">585    *   structure.</span>
586    *
<span class="line-modified">587    *   Note that this function appends the border points and</span>
<span class="line-modified">588    *   contours to your outline, but does not try to resize its</span>
<span class="line-removed">589    *   arrays.</span>
590    *
591    * @input:
592    *   stroker ::
593    *     The target stroker handle.
594    *
595    *   border ::
596    *     The border index.
597    *
598    *   outline ::
599    *     The target outline handle.
600    *
601    * @note:
<span class="line-modified">602    *   Always call this function after @FT_Stroker_GetBorderCounts to</span>
<span class="line-modified">603    *   get sure that there is enough room in your @FT_Outline object to</span>
<span class="line-modified">604    *   receive all new data.</span>
605    *
<span class="line-modified">606    *   When an outline, or a sub-path, is `closed&#39;, the stroker generates</span>
<span class="line-modified">607    *   two independent `border&#39; outlines, named `left&#39; and `right&#39;.</span>
608    *
<span class="line-modified">609    *   When the outline, or a sub-path, is `opened&#39;, the stroker merges</span>
<span class="line-modified">610    *   the `border&#39; outlines with caps.  The `left&#39; border receives all</span>
<span class="line-modified">611    *   points, while the `right&#39; border becomes empty.</span>
612    *
<span class="line-modified">613    *   Use the function @FT_Stroker_Export instead if you want to</span>
<span class="line-modified">614    *   retrieve all borders at once.</span>
615    */
616   FT_EXPORT( void )
617   FT_Stroker_ExportBorder( FT_Stroker        stroker,
618                            FT_StrokerBorder  border,
619                            FT_Outline*       outline );
620 
621 
<span class="line-modified">622   /**************************************************************</span>
623    *
624    * @function:
625    *   FT_Stroker_GetCounts
626    *
627    * @description:
<span class="line-modified">628    *   Call this function once you have finished parsing your paths</span>
<span class="line-modified">629    *   with the stroker.  It returns the number of points and</span>
<span class="line-modified">630    *   contours necessary to export all points/borders from the stroked</span>
<span class="line-removed">631    *   outline/path.</span>
632    *
633    * @input:
634    *   stroker ::
635    *     The target stroker handle.
636    *
637    * @output:
638    *   anum_points ::
639    *     The number of points.
640    *
641    *   anum_contours ::
642    *     The number of contours.
643    *
644    * @return:
645    *   FreeType error code.  0~means success.
646    */
647   FT_EXPORT( FT_Error )
648   FT_Stroker_GetCounts( FT_Stroker  stroker,
649                         FT_UInt    *anum_points,
650                         FT_UInt    *anum_contours );
651 
652 
<span class="line-modified">653   /**************************************************************</span>
654    *
655    * @function:
656    *   FT_Stroker_Export
657    *
658    * @description:
<span class="line-modified">659    *   Call this function after @FT_Stroker_GetBorderCounts to</span>
<span class="line-modified">660    *   export all borders to your own @FT_Outline structure.</span>
661    *
<span class="line-modified">662    *   Note that this function appends the border points and</span>
<span class="line-modified">663    *   contours to your outline, but does not try to resize its</span>
<span class="line-removed">664    *   arrays.</span>
665    *
666    * @input:
667    *   stroker ::
668    *     The target stroker handle.
669    *
670    *   outline ::
671    *     The target outline handle.
672    */
673   FT_EXPORT( void )
674   FT_Stroker_Export( FT_Stroker   stroker,
675                      FT_Outline*  outline );
676 
677 
<span class="line-modified">678   /**************************************************************</span>
679    *
680    * @function:
681    *   FT_Stroker_Done
682    *
683    * @description:
684    *   Destroy a stroker object.
685    *
686    * @input:
687    *   stroker ::
<span class="line-modified">688    *     A stroker handle.  Can be NULL.</span>
689    */
690   FT_EXPORT( void )
691   FT_Stroker_Done( FT_Stroker  stroker );
692 
693 
<span class="line-modified">694   /**************************************************************</span>
695    *
696    * @function:
697    *   FT_Glyph_Stroke
698    *
699    * @description:
700    *   Stroke a given outline glyph object with a given stroker.
701    *
702    * @inout:
703    *   pglyph ::
704    *     Source glyph handle on input, new glyph handle on output.
705    *
706    * @input:
707    *   stroker ::
708    *     A stroker handle.
709    *
710    *   destroy ::
<span class="line-modified">711    *     A Boolean.  If~1, the source glyph object is destroyed</span>
<span class="line-removed">712    *     on success.</span>
713    *
714    * @return:
715    *    FreeType error code.  0~means success.
716    *
717    * @note:
718    *   The source glyph is untouched in case of error.
719    *
720    *   Adding stroke may yield a significantly wider and taller glyph
721    *   depending on how large of a radius was used to stroke the glyph.  You
<span class="line-modified">722    *   may need to manually adjust horizontal and vertical advance amounts</span>
<span class="line-modified">723    *   to account for this added size.</span>
724    */
725   FT_EXPORT( FT_Error )
726   FT_Glyph_Stroke( FT_Glyph    *pglyph,
727                    FT_Stroker   stroker,
728                    FT_Bool      destroy );
729 
730 
<span class="line-modified">731   /**************************************************************</span>
732    *
733    * @function:
734    *   FT_Glyph_StrokeBorder
735    *
736    * @description:
<span class="line-modified">737    *   Stroke a given outline glyph object with a given stroker, but</span>
<span class="line-modified">738    *   only return either its inside or outside border.</span>
739    *
740    * @inout:
741    *   pglyph ::
742    *     Source glyph handle on input, new glyph handle on output.
743    *
744    * @input:
745    *   stroker ::
746    *     A stroker handle.
747    *
748    *   inside ::
<span class="line-modified">749    *     A Boolean.  If~1, return the inside border, otherwise</span>
<span class="line-modified">750    *     the outside border.</span>
751    *
752    *   destroy ::
<span class="line-modified">753    *     A Boolean.  If~1, the source glyph object is destroyed</span>
<span class="line-removed">754    *     on success.</span>
755    *
756    * @return:
757    *    FreeType error code.  0~means success.
758    *
759    * @note:
760    *   The source glyph is untouched in case of error.
761    *
762    *   Adding stroke may yield a significantly wider and taller glyph
763    *   depending on how large of a radius was used to stroke the glyph.  You
<span class="line-modified">764    *   may need to manually adjust horizontal and vertical advance amounts</span>
<span class="line-modified">765    *   to account for this added size.</span>
766    */
767   FT_EXPORT( FT_Error )
768   FT_Glyph_StrokeBorder( FT_Glyph    *pglyph,
769                          FT_Stroker   stroker,
770                          FT_Bool      inside,
771                          FT_Bool      destroy );
772 
773   /* */
774 
775 FT_END_HEADER
776 
777 #endif /* FTSTROKE_H_ */
778 
779 
780 /* END */
781 
782 
783 /* Local Variables: */
784 /* coding: utf-8    */
785 /* End:             */
</pre>
</td>
<td>
<hr />
<pre>
<span class="line-modified">  1 /****************************************************************************</span>
<span class="line-modified">  2  *</span>
<span class="line-modified">  3  * ftstroke.h</span>
<span class="line-modified">  4  *</span>
<span class="line-modified">  5  *   FreeType path stroker (specification).</span>
<span class="line-modified">  6  *</span>
<span class="line-modified">  7  * Copyright (C) 2002-2019 by</span>
<span class="line-modified">  8  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified">  9  *</span>
<span class="line-modified"> 10  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified"> 11  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified"> 12  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified"> 13  * this file you indicate that you have read the license and</span>
<span class="line-modified"> 14  * understand and accept it fully.</span>
<span class="line-modified"> 15  *</span>
<span class="line-modified"> 16  */</span>
 17 
 18 
 19 #ifndef FTSTROKE_H_
 20 #define FTSTROKE_H_
 21 
 22 #include &lt;ft2build.h&gt;
 23 #include FT_OUTLINE_H
 24 #include FT_GLYPH_H
 25 
 26 
 27 FT_BEGIN_HEADER
 28 
 29 
<span class="line-modified"> 30   /**************************************************************************</span>
<span class="line-modified"> 31    *</span>
<span class="line-modified"> 32    * @section:</span>
<span class="line-modified"> 33    *    glyph_stroker</span>
<span class="line-modified"> 34    *</span>
<span class="line-modified"> 35    * @title:</span>
<span class="line-modified"> 36    *    Glyph Stroker</span>
<span class="line-modified"> 37    *</span>
<span class="line-modified"> 38    * @abstract:</span>
<span class="line-modified"> 39    *    Generating bordered and stroked glyphs.</span>
<span class="line-modified"> 40    *</span>
<span class="line-modified"> 41    * @description:</span>
<span class="line-modified"> 42    *    This component generates stroked outlines of a given vectorial glyph.</span>
<span class="line-modified"> 43    *    It also allows you to retrieve the &#39;outside&#39; and/or the &#39;inside&#39;</span>
<span class="line-modified"> 44    *    borders of the stroke.</span>
<span class="line-modified"> 45    *</span>
<span class="line-modified"> 46    *    This can be useful to generate &#39;bordered&#39; glyph, i.e., glyphs</span>
<span class="line-modified"> 47    *    displayed with a coloured (and anti-aliased) border around their</span>
<span class="line-modified"> 48    *    shape.</span>
<span class="line-modified"> 49    *</span>
<span class="line-modified"> 50    * @order:</span>
<span class="line-modified"> 51    *    FT_Stroker</span>
<span class="line-modified"> 52    *</span>
<span class="line-modified"> 53    *    FT_Stroker_LineJoin</span>
<span class="line-modified"> 54    *    FT_Stroker_LineCap</span>
<span class="line-modified"> 55    *    FT_StrokerBorder</span>
<span class="line-modified"> 56    *</span>
<span class="line-modified"> 57    *    FT_Outline_GetInsideBorder</span>
<span class="line-modified"> 58    *    FT_Outline_GetOutsideBorder</span>
<span class="line-modified"> 59    *</span>
<span class="line-modified"> 60    *    FT_Glyph_Stroke</span>
<span class="line-modified"> 61    *    FT_Glyph_StrokeBorder</span>
<span class="line-modified"> 62    *</span>
<span class="line-modified"> 63    *    FT_Stroker_New</span>
<span class="line-modified"> 64    *    FT_Stroker_Set</span>
<span class="line-modified"> 65    *    FT_Stroker_Rewind</span>
<span class="line-modified"> 66    *    FT_Stroker_ParseOutline</span>
<span class="line-modified"> 67    *    FT_Stroker_Done</span>
<span class="line-modified"> 68    *</span>
<span class="line-modified"> 69    *    FT_Stroker_BeginSubPath</span>
<span class="line-modified"> 70    *    FT_Stroker_EndSubPath</span>
<span class="line-modified"> 71    *</span>
<span class="line-modified"> 72    *    FT_Stroker_LineTo</span>
<span class="line-modified"> 73    *    FT_Stroker_ConicTo</span>
<span class="line-modified"> 74    *    FT_Stroker_CubicTo</span>
<span class="line-modified"> 75    *</span>
<span class="line-modified"> 76    *    FT_Stroker_GetBorderCounts</span>
<span class="line-modified"> 77    *    FT_Stroker_ExportBorder</span>
<span class="line-modified"> 78    *    FT_Stroker_GetCounts</span>
<span class="line-modified"> 79    *    FT_Stroker_Export</span>
<span class="line-modified"> 80    *</span>
<span class="line-modified"> 81    */</span>
<span class="line-modified"> 82 </span>
<span class="line-modified"> 83 </span>
<span class="line-modified"> 84   /**************************************************************************</span>
<span class="line-modified"> 85    *</span>
<span class="line-modified"> 86    * @type:</span>
<span class="line-modified"> 87    *   FT_Stroker</span>
<span class="line-modified"> 88    *</span>
<span class="line-modified"> 89    * @description:</span>
<span class="line-modified"> 90    *   Opaque handle to a path stroker object.</span>
<span class="line-modified"> 91    */</span>
 92   typedef struct FT_StrokerRec_*  FT_Stroker;
 93 
 94 
<span class="line-modified"> 95   /**************************************************************************</span>
 96    *
 97    * @enum:
 98    *   FT_Stroker_LineJoin
 99    *
100    * @description:
<span class="line-modified">101    *   These values determine how two joining lines are rendered in a</span>
<span class="line-modified">102    *   stroker.</span>
103    *
104    * @values:
105    *   FT_STROKER_LINEJOIN_ROUND ::
<span class="line-modified">106    *     Used to render rounded line joins.  Circular arcs are used to join</span>
<span class="line-modified">107    *     two lines smoothly.</span>
108    *
109    *   FT_STROKER_LINEJOIN_BEVEL ::
<span class="line-modified">110    *     Used to render beveled line joins.  The outer corner of the joined</span>
<span class="line-modified">111    *     lines is filled by enclosing the triangular region of the corner</span>
<span class="line-modified">112    *     with a straight line between the outer corners of each stroke.</span>

113    *
114    *   FT_STROKER_LINEJOIN_MITER_FIXED ::
<span class="line-modified">115    *     Used to render mitered line joins, with fixed bevels if the miter</span>
<span class="line-modified">116    *     limit is exceeded.  The outer edges of the strokes for the two</span>
<span class="line-modified">117    *     segments are extended until they meet at an angle.  If the segments</span>
<span class="line-modified">118    *     meet at too sharp an angle (such that the miter would extend from</span>
<span class="line-modified">119    *     the intersection of the segments a distance greater than the product</span>
<span class="line-modified">120    *     of the miter limit value and the border radius), then a bevel join</span>
<span class="line-modified">121    *     (see above) is used instead.  This prevents long spikes being</span>
<span class="line-modified">122    *     created.  `FT_STROKER_LINEJOIN_MITER_FIXED` generates a miter line</span>
<span class="line-modified">123    *     join as used in PostScript and PDF.</span>

124    *
125    *   FT_STROKER_LINEJOIN_MITER_VARIABLE ::
126    *   FT_STROKER_LINEJOIN_MITER ::
<span class="line-modified">127    *     Used to render mitered line joins, with variable bevels if the miter</span>
<span class="line-modified">128    *     limit is exceeded.  The intersection of the strokes is clipped at a</span>
<span class="line-modified">129    *     line perpendicular to the bisector of the angle between the strokes,</span>
<span class="line-modified">130    *     at the distance from the intersection of the segments equal to the</span>
<span class="line-modified">131    *     product of the miter limit value and the border radius.  This</span>
<span class="line-modified">132    *     prevents long spikes being created.</span>
<span class="line-modified">133    *     `FT_STROKER_LINEJOIN_MITER_VARIABLE` generates a mitered line join</span>
<span class="line-modified">134    *     as used in XPS.  `FT_STROKER_LINEJOIN_MITER` is an alias for</span>
<span class="line-modified">135    *     `FT_STROKER_LINEJOIN_MITER_VARIABLE`, retained for backward</span>
<span class="line-modified">136    *     compatibility.</span>

137    */
138   typedef enum  FT_Stroker_LineJoin_
139   {
140     FT_STROKER_LINEJOIN_ROUND          = 0,
141     FT_STROKER_LINEJOIN_BEVEL          = 1,
142     FT_STROKER_LINEJOIN_MITER_VARIABLE = 2,
143     FT_STROKER_LINEJOIN_MITER          = FT_STROKER_LINEJOIN_MITER_VARIABLE,
144     FT_STROKER_LINEJOIN_MITER_FIXED    = 3
145 
146   } FT_Stroker_LineJoin;
147 
148 
<span class="line-modified">149   /**************************************************************************</span>
150    *
151    * @enum:
152    *   FT_Stroker_LineCap
153    *
154    * @description:
<span class="line-modified">155    *   These values determine how the end of opened sub-paths are rendered in</span>
<span class="line-modified">156    *   a stroke.</span>
157    *
158    * @values:
159    *   FT_STROKER_LINECAP_BUTT ::
<span class="line-modified">160    *     The end of lines is rendered as a full stop on the last point</span>
<span class="line-modified">161    *     itself.</span>
162    *
163    *   FT_STROKER_LINECAP_ROUND ::
<span class="line-modified">164    *     The end of lines is rendered as a half-circle around the last point.</span>

165    *
166    *   FT_STROKER_LINECAP_SQUARE ::
<span class="line-modified">167    *     The end of lines is rendered as a square around the last point.</span>

168    */
169   typedef enum  FT_Stroker_LineCap_
170   {
171     FT_STROKER_LINECAP_BUTT = 0,
172     FT_STROKER_LINECAP_ROUND,
173     FT_STROKER_LINECAP_SQUARE
174 
175   } FT_Stroker_LineCap;
176 
177 
<span class="line-modified">178   /**************************************************************************</span>
179    *
180    * @enum:
181    *   FT_StrokerBorder
182    *
183    * @description:
<span class="line-modified">184    *   These values are used to select a given stroke border in</span>
<span class="line-modified">185    *   @FT_Stroker_GetBorderCounts and @FT_Stroker_ExportBorder.</span>
186    *
187    * @values:
188    *   FT_STROKER_BORDER_LEFT ::
189    *     Select the left border, relative to the drawing direction.
190    *
191    *   FT_STROKER_BORDER_RIGHT ::
192    *     Select the right border, relative to the drawing direction.
193    *
194    * @note:
<span class="line-modified">195    *   Applications are generally interested in the &#39;inside&#39; and &#39;outside&#39;</span>
196    *   borders.  However, there is no direct mapping between these and the
<span class="line-modified">197    *   &#39;left&#39; and &#39;right&#39; ones, since this really depends on the glyph&#39;s</span>
198    *   drawing orientation, which varies between font formats.
199    *
200    *   You can however use @FT_Outline_GetInsideBorder and
201    *   @FT_Outline_GetOutsideBorder to get these.
202    */
203   typedef enum  FT_StrokerBorder_
204   {
205     FT_STROKER_BORDER_LEFT = 0,
206     FT_STROKER_BORDER_RIGHT
207 
208   } FT_StrokerBorder;
209 
210 
<span class="line-modified">211   /**************************************************************************</span>
212    *
213    * @function:
214    *   FT_Outline_GetInsideBorder
215    *
216    * @description:
<span class="line-modified">217    *   Retrieve the @FT_StrokerBorder value corresponding to the &#39;inside&#39;</span>
<span class="line-modified">218    *   borders of a given outline.</span>
219    *
220    * @input:
221    *   outline ::
222    *     The source outline handle.
223    *
224    * @return:
225    *   The border index.  @FT_STROKER_BORDER_RIGHT for empty or invalid
226    *   outlines.
227    */
228   FT_EXPORT( FT_StrokerBorder )
229   FT_Outline_GetInsideBorder( FT_Outline*  outline );
230 
231 
<span class="line-modified">232   /**************************************************************************</span>
233    *
234    * @function:
235    *   FT_Outline_GetOutsideBorder
236    *
237    * @description:
<span class="line-modified">238    *   Retrieve the @FT_StrokerBorder value corresponding to the &#39;outside&#39;</span>
<span class="line-modified">239    *   borders of a given outline.</span>
240    *
241    * @input:
242    *   outline ::
243    *     The source outline handle.
244    *
245    * @return:
246    *   The border index.  @FT_STROKER_BORDER_LEFT for empty or invalid
247    *   outlines.
248    */
249   FT_EXPORT( FT_StrokerBorder )
250   FT_Outline_GetOutsideBorder( FT_Outline*  outline );
251 
252 
<span class="line-modified">253   /**************************************************************************</span>
254    *
255    * @function:
256    *   FT_Stroker_New
257    *
258    * @description:
259    *   Create a new stroker object.
260    *
261    * @input:
262    *   library ::
263    *     FreeType library handle.
264    *
265    * @output:
266    *   astroker ::
<span class="line-modified">267    *     A new stroker object handle.  `NULL` in case of error.</span>
268    *
269    * @return:
270    *    FreeType error code.  0~means success.
271    */
272   FT_EXPORT( FT_Error )
273   FT_Stroker_New( FT_Library   library,
274                   FT_Stroker  *astroker );
275 
276 
<span class="line-modified">277   /**************************************************************************</span>
278    *
279    * @function:
280    *   FT_Stroker_Set
281    *
282    * @description:
283    *   Reset a stroker object&#39;s attributes.
284    *
285    * @input:
286    *   stroker ::
287    *     The target stroker handle.
288    *
289    *   radius ::
290    *     The border radius.
291    *
292    *   line_cap ::
293    *     The line cap style.
294    *
295    *   line_join ::
296    *     The line join style.
297    *
298    *   miter_limit ::
<span class="line-modified">299    *     The miter limit for the `FT_STROKER_LINEJOIN_MITER_FIXED` and</span>
<span class="line-modified">300    *     `FT_STROKER_LINEJOIN_MITER_VARIABLE` line join styles, expressed as</span>
<span class="line-modified">301    *     16.16 fixed-point value.</span>
302    *
303    * @note:
<span class="line-modified">304    *   The radius is expressed in the same units as the outline coordinates.</span>

305    *
306    *   This function calls @FT_Stroker_Rewind automatically.
307    */
308   FT_EXPORT( void )
309   FT_Stroker_Set( FT_Stroker           stroker,
310                   FT_Fixed             radius,
311                   FT_Stroker_LineCap   line_cap,
312                   FT_Stroker_LineJoin  line_join,
313                   FT_Fixed             miter_limit );
314 
315 
<span class="line-modified">316   /**************************************************************************</span>
317    *
318    * @function:
319    *   FT_Stroker_Rewind
320    *
321    * @description:
<span class="line-modified">322    *   Reset a stroker object without changing its attributes.  You should</span>
<span class="line-modified">323    *   call this function before beginning a new series of calls to</span>
<span class="line-modified">324    *   @FT_Stroker_BeginSubPath or @FT_Stroker_EndSubPath.</span>

325    *
326    * @input:
327    *   stroker ::
328    *     The target stroker handle.
329    */
330   FT_EXPORT( void )
331   FT_Stroker_Rewind( FT_Stroker  stroker );
332 
333 
<span class="line-modified">334   /**************************************************************************</span>
335    *
336    * @function:
337    *   FT_Stroker_ParseOutline
338    *
339    * @description:
<span class="line-modified">340    *   A convenience function used to parse a whole outline with the stroker.</span>
<span class="line-modified">341    *   The resulting outline(s) can be retrieved later by functions like</span>
<span class="line-modified">342    *   @FT_Stroker_GetCounts and @FT_Stroker_Export.</span>
343    *
344    * @input:
345    *   stroker ::
346    *     The target stroker handle.
347    *
348    *   outline ::
349    *     The source outline.
350    *
351    *   opened ::
<span class="line-modified">352    *     A boolean.  If~1, the outline is treated as an open path instead of</span>
<span class="line-modified">353    *     a closed one.</span>
354    *
355    * @return:
356    *   FreeType error code.  0~means success.
357    *
358    * @note:
<span class="line-modified">359    *   If `opened` is~0 (the default), the outline is treated as a closed</span>
<span class="line-modified">360    *   path, and the stroker generates two distinct &#39;border&#39; outlines.</span>
361    *
<span class="line-modified">362    *   If `opened` is~1, the outline is processed as an open path, and the</span>
<span class="line-modified">363    *   stroker generates a single &#39;stroke&#39; outline.</span>
364    *
365    *   This function calls @FT_Stroker_Rewind automatically.
366    */
367   FT_EXPORT( FT_Error )
368   FT_Stroker_ParseOutline( FT_Stroker   stroker,
369                            FT_Outline*  outline,
370                            FT_Bool      opened );
371 
372 
<span class="line-modified">373   /**************************************************************************</span>
374    *
375    * @function:
376    *   FT_Stroker_BeginSubPath
377    *
378    * @description:
379    *   Start a new sub-path in the stroker.
380    *
381    * @input:
382    *   stroker ::
383    *     The target stroker handle.
384    *
385    *   to ::
386    *     A pointer to the start vector.
387    *
388    *   open ::
389    *     A boolean.  If~1, the sub-path is treated as an open one.
390    *
391    * @return:
392    *   FreeType error code.  0~means success.
393    *
394    * @note:
<span class="line-modified">395    *   This function is useful when you need to stroke a path that is not</span>
<span class="line-modified">396    *   stored as an @FT_Outline object.</span>
397    */
398   FT_EXPORT( FT_Error )
399   FT_Stroker_BeginSubPath( FT_Stroker  stroker,
400                            FT_Vector*  to,
401                            FT_Bool     open );
402 
403 
<span class="line-modified">404   /**************************************************************************</span>
405    *
406    * @function:
407    *   FT_Stroker_EndSubPath
408    *
409    * @description:
410    *   Close the current sub-path in the stroker.
411    *
412    * @input:
413    *   stroker ::
414    *     The target stroker handle.
415    *
416    * @return:
417    *   FreeType error code.  0~means success.
418    *
419    * @note:
<span class="line-modified">420    *   You should call this function after @FT_Stroker_BeginSubPath.  If the</span>
<span class="line-modified">421    *   subpath was not &#39;opened&#39;, this function &#39;draws&#39; a single line segment</span>
<span class="line-modified">422    *   to the start position when needed.</span>
423    */
424   FT_EXPORT( FT_Error )
425   FT_Stroker_EndSubPath( FT_Stroker  stroker );
426 
427 
<span class="line-modified">428   /**************************************************************************</span>
429    *
430    * @function:
431    *   FT_Stroker_LineTo
432    *
433    * @description:
<span class="line-modified">434    *   &#39;Draw&#39; a single line segment in the stroker&#39;s current sub-path, from</span>
<span class="line-modified">435    *   the last position.</span>
436    *
437    * @input:
438    *   stroker ::
439    *     The target stroker handle.
440    *
441    *   to ::
442    *     A pointer to the destination point.
443    *
444    * @return:
445    *   FreeType error code.  0~means success.
446    *
447    * @note:
448    *   You should call this function between @FT_Stroker_BeginSubPath and
449    *   @FT_Stroker_EndSubPath.
450    */
451   FT_EXPORT( FT_Error )
452   FT_Stroker_LineTo( FT_Stroker  stroker,
453                      FT_Vector*  to );
454 
455 
<span class="line-modified">456   /**************************************************************************</span>
457    *
458    * @function:
459    *   FT_Stroker_ConicTo
460    *
461    * @description:
<span class="line-modified">462    *   &#39;Draw&#39; a single quadratic Bezier in the stroker&#39;s current sub-path,</span>
463    *   from the last position.
464    *
465    * @input:
466    *   stroker ::
467    *     The target stroker handle.
468    *
469    *   control ::
470    *     A pointer to a Bezier control point.
471    *
472    *   to ::
473    *     A pointer to the destination point.
474    *
475    * @return:
476    *   FreeType error code.  0~means success.
477    *
478    * @note:
479    *   You should call this function between @FT_Stroker_BeginSubPath and
480    *   @FT_Stroker_EndSubPath.
481    */
482   FT_EXPORT( FT_Error )
483   FT_Stroker_ConicTo( FT_Stroker  stroker,
484                       FT_Vector*  control,
485                       FT_Vector*  to );
486 
487 
<span class="line-modified">488   /**************************************************************************</span>
489    *
490    * @function:
491    *   FT_Stroker_CubicTo
492    *
493    * @description:
<span class="line-modified">494    *   &#39;Draw&#39; a single cubic Bezier in the stroker&#39;s current sub-path, from</span>
<span class="line-modified">495    *   the last position.</span>
496    *
497    * @input:
498    *   stroker ::
499    *     The target stroker handle.
500    *
501    *   control1 ::
502    *     A pointer to the first Bezier control point.
503    *
504    *   control2 ::
505    *     A pointer to second Bezier control point.
506    *
507    *   to ::
508    *     A pointer to the destination point.
509    *
510    * @return:
511    *   FreeType error code.  0~means success.
512    *
513    * @note:
514    *   You should call this function between @FT_Stroker_BeginSubPath and
515    *   @FT_Stroker_EndSubPath.
516    */
517   FT_EXPORT( FT_Error )
518   FT_Stroker_CubicTo( FT_Stroker  stroker,
519                       FT_Vector*  control1,
520                       FT_Vector*  control2,
521                       FT_Vector*  to );
522 
523 
<span class="line-modified">524   /**************************************************************************</span>
525    *
526    * @function:
527    *   FT_Stroker_GetBorderCounts
528    *
529    * @description:
<span class="line-modified">530    *   Call this function once you have finished parsing your paths with the</span>
<span class="line-modified">531    *   stroker.  It returns the number of points and contours necessary to</span>
<span class="line-modified">532    *   export one of the &#39;border&#39; or &#39;stroke&#39; outlines generated by the</span>
<span class="line-modified">533    *   stroker.</span>
534    *
535    * @input:
536    *   stroker ::
537    *     The target stroker handle.
538    *
539    *   border ::
540    *     The border index.
541    *
542    * @output:
543    *   anum_points ::
544    *     The number of points.
545    *
546    *   anum_contours ::
547    *     The number of contours.
548    *
549    * @return:
550    *   FreeType error code.  0~means success.
551    *
552    * @note:
<span class="line-modified">553    *   When an outline, or a sub-path, is &#39;closed&#39;, the stroker generates two</span>
<span class="line-modified">554    *   independent &#39;border&#39; outlines, named &#39;left&#39; and &#39;right&#39;.</span>
555    *
<span class="line-modified">556    *   When the outline, or a sub-path, is &#39;opened&#39;, the stroker merges the</span>
<span class="line-modified">557    *   &#39;border&#39; outlines with caps.  The &#39;left&#39; border receives all points,</span>
<span class="line-modified">558    *   while the &#39;right&#39; border becomes empty.</span>
559    *
<span class="line-modified">560    *   Use the function @FT_Stroker_GetCounts instead if you want to retrieve</span>
<span class="line-modified">561    *   the counts associated to both borders.</span>
562    */
563   FT_EXPORT( FT_Error )
564   FT_Stroker_GetBorderCounts( FT_Stroker        stroker,
565                               FT_StrokerBorder  border,
566                               FT_UInt          *anum_points,
567                               FT_UInt          *anum_contours );
568 
569 
<span class="line-modified">570   /**************************************************************************</span>
571    *
572    * @function:
573    *   FT_Stroker_ExportBorder
574    *
575    * @description:
<span class="line-modified">576    *   Call this function after @FT_Stroker_GetBorderCounts to export the</span>
<span class="line-modified">577    *   corresponding border to your own @FT_Outline structure.</span>

578    *
<span class="line-modified">579    *   Note that this function appends the border points and contours to your</span>
<span class="line-modified">580    *   outline, but does not try to resize its arrays.</span>

581    *
582    * @input:
583    *   stroker ::
584    *     The target stroker handle.
585    *
586    *   border ::
587    *     The border index.
588    *
589    *   outline ::
590    *     The target outline handle.
591    *
592    * @note:
<span class="line-modified">593    *   Always call this function after @FT_Stroker_GetBorderCounts to get</span>
<span class="line-modified">594    *   sure that there is enough room in your @FT_Outline object to receive</span>
<span class="line-modified">595    *   all new data.</span>
596    *
<span class="line-modified">597    *   When an outline, or a sub-path, is &#39;closed&#39;, the stroker generates two</span>
<span class="line-modified">598    *   independent &#39;border&#39; outlines, named &#39;left&#39; and &#39;right&#39;.</span>
599    *
<span class="line-modified">600    *   When the outline, or a sub-path, is &#39;opened&#39;, the stroker merges the</span>
<span class="line-modified">601    *   &#39;border&#39; outlines with caps.  The &#39;left&#39; border receives all points,</span>
<span class="line-modified">602    *   while the &#39;right&#39; border becomes empty.</span>
603    *
<span class="line-modified">604    *   Use the function @FT_Stroker_Export instead if you want to retrieve</span>
<span class="line-modified">605    *   all borders at once.</span>
606    */
607   FT_EXPORT( void )
608   FT_Stroker_ExportBorder( FT_Stroker        stroker,
609                            FT_StrokerBorder  border,
610                            FT_Outline*       outline );
611 
612 
<span class="line-modified">613   /**************************************************************************</span>
614    *
615    * @function:
616    *   FT_Stroker_GetCounts
617    *
618    * @description:
<span class="line-modified">619    *   Call this function once you have finished parsing your paths with the</span>
<span class="line-modified">620    *   stroker.  It returns the number of points and contours necessary to</span>
<span class="line-modified">621    *   export all points/borders from the stroked outline/path.</span>

622    *
623    * @input:
624    *   stroker ::
625    *     The target stroker handle.
626    *
627    * @output:
628    *   anum_points ::
629    *     The number of points.
630    *
631    *   anum_contours ::
632    *     The number of contours.
633    *
634    * @return:
635    *   FreeType error code.  0~means success.
636    */
637   FT_EXPORT( FT_Error )
638   FT_Stroker_GetCounts( FT_Stroker  stroker,
639                         FT_UInt    *anum_points,
640                         FT_UInt    *anum_contours );
641 
642 
<span class="line-modified">643   /**************************************************************************</span>
644    *
645    * @function:
646    *   FT_Stroker_Export
647    *
648    * @description:
<span class="line-modified">649    *   Call this function after @FT_Stroker_GetBorderCounts to export all</span>
<span class="line-modified">650    *   borders to your own @FT_Outline structure.</span>
651    *
<span class="line-modified">652    *   Note that this function appends the border points and contours to your</span>
<span class="line-modified">653    *   outline, but does not try to resize its arrays.</span>

654    *
655    * @input:
656    *   stroker ::
657    *     The target stroker handle.
658    *
659    *   outline ::
660    *     The target outline handle.
661    */
662   FT_EXPORT( void )
663   FT_Stroker_Export( FT_Stroker   stroker,
664                      FT_Outline*  outline );
665 
666 
<span class="line-modified">667   /**************************************************************************</span>
668    *
669    * @function:
670    *   FT_Stroker_Done
671    *
672    * @description:
673    *   Destroy a stroker object.
674    *
675    * @input:
676    *   stroker ::
<span class="line-modified">677    *     A stroker handle.  Can be `NULL`.</span>
678    */
679   FT_EXPORT( void )
680   FT_Stroker_Done( FT_Stroker  stroker );
681 
682 
<span class="line-modified">683   /**************************************************************************</span>
684    *
685    * @function:
686    *   FT_Glyph_Stroke
687    *
688    * @description:
689    *   Stroke a given outline glyph object with a given stroker.
690    *
691    * @inout:
692    *   pglyph ::
693    *     Source glyph handle on input, new glyph handle on output.
694    *
695    * @input:
696    *   stroker ::
697    *     A stroker handle.
698    *
699    *   destroy ::
<span class="line-modified">700    *     A Boolean.  If~1, the source glyph object is destroyed on success.</span>

701    *
702    * @return:
703    *    FreeType error code.  0~means success.
704    *
705    * @note:
706    *   The source glyph is untouched in case of error.
707    *
708    *   Adding stroke may yield a significantly wider and taller glyph
709    *   depending on how large of a radius was used to stroke the glyph.  You
<span class="line-modified">710    *   may need to manually adjust horizontal and vertical advance amounts to</span>
<span class="line-modified">711    *   account for this added size.</span>
712    */
713   FT_EXPORT( FT_Error )
714   FT_Glyph_Stroke( FT_Glyph    *pglyph,
715                    FT_Stroker   stroker,
716                    FT_Bool      destroy );
717 
718 
<span class="line-modified">719   /**************************************************************************</span>
720    *
721    * @function:
722    *   FT_Glyph_StrokeBorder
723    *
724    * @description:
<span class="line-modified">725    *   Stroke a given outline glyph object with a given stroker, but only</span>
<span class="line-modified">726    *   return either its inside or outside border.</span>
727    *
728    * @inout:
729    *   pglyph ::
730    *     Source glyph handle on input, new glyph handle on output.
731    *
732    * @input:
733    *   stroker ::
734    *     A stroker handle.
735    *
736    *   inside ::
<span class="line-modified">737    *     A Boolean.  If~1, return the inside border, otherwise the outside</span>
<span class="line-modified">738    *     border.</span>
739    *
740    *   destroy ::
<span class="line-modified">741    *     A Boolean.  If~1, the source glyph object is destroyed on success.</span>

742    *
743    * @return:
744    *    FreeType error code.  0~means success.
745    *
746    * @note:
747    *   The source glyph is untouched in case of error.
748    *
749    *   Adding stroke may yield a significantly wider and taller glyph
750    *   depending on how large of a radius was used to stroke the glyph.  You
<span class="line-modified">751    *   may need to manually adjust horizontal and vertical advance amounts to</span>
<span class="line-modified">752    *   account for this added size.</span>
753    */
754   FT_EXPORT( FT_Error )
755   FT_Glyph_StrokeBorder( FT_Glyph    *pglyph,
756                          FT_Stroker   stroker,
757                          FT_Bool      inside,
758                          FT_Bool      destroy );
759 
760   /* */
761 
762 FT_END_HEADER
763 
764 #endif /* FTSTROKE_H_ */
765 
766 
767 /* END */
768 
769 
770 /* Local Variables: */
771 /* coding: utf-8    */
772 /* End:             */
</pre>
</td>
</tr>
</table>
<center><a href="ftsnames.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ftsynth.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>