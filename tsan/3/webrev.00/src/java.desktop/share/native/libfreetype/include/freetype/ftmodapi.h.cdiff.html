<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.desktop/share/native/libfreetype/include/freetype/ftmodapi.h</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="ftmm.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ftmoderr.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfreetype/include/freetype/ftmodapi.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,21 ***</span>
<span class="line-modified">! /***************************************************************************/</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  ftmodapi.h                                                             */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*    FreeType modules public interface (specification).                   */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  Copyright 1996-2018 by                                                 */</span>
<span class="line-modified">! /*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  This file is part of the FreeType project, and may only be used,       */</span>
<span class="line-modified">! /*  modified, and distributed under the terms of the FreeType project      */</span>
<span class="line-modified">! /*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */</span>
<span class="line-modified">! /*  this file you indicate that you have read the license and              */</span>
<span class="line-modified">! /*  understand and accept it fully.                                        */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /***************************************************************************/</span>
  
  
  #ifndef FTMODAPI_H_
  #define FTMODAPI_H_
  
<span class="line-new-header">--- 1,21 ---</span>
<span class="line-modified">! /****************************************************************************</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * ftmodapi.h</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  *   FreeType modules public interface (specification).</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * Copyright (C) 1996-2019 by</span>
<span class="line-modified">!  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified">!  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified">!  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified">!  * this file you indicate that you have read the license and</span>
<span class="line-modified">!  * understand and accept it fully.</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  */</span>
  
  
  #ifndef FTMODAPI_H_
  #define FTMODAPI_H_
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 31,81 ***</span>
  
  
  FT_BEGIN_HEADER
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Section&gt;                                                             */</span>
<span class="line-modified">!   /*    module_management                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Title&gt;                                                               */</span>
<span class="line-modified">!   /*    Module Management                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Abstract&gt;                                                            */</span>
<span class="line-modified">!   /*    How to add, upgrade, remove, and control modules from FreeType.    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    The definitions below are used to manage modules within FreeType.  */</span>
<span class="line-modified">!   /*    Modules can be added, upgraded, and removed at runtime.            */</span>
<span class="line-modified">!   /*    Additionally, some module properties can be controlled also.       */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    Here is a list of possible values of the `module_name&#39; field in    */</span>
<span class="line-modified">!   /*    the @FT_Module_Class structure.                                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    {                                                                  */</span>
<span class="line-modified">!   /*      autofitter                                                       */</span>
<span class="line-modified">!   /*      bdf                                                              */</span>
<span class="line-modified">!   /*      cff                                                              */</span>
<span class="line-modified">!   /*      gxvalid                                                          */</span>
<span class="line-modified">!   /*      otvalid                                                          */</span>
<span class="line-modified">!   /*      pcf                                                              */</span>
<span class="line-modified">!   /*      pfr                                                              */</span>
<span class="line-modified">!   /*      psaux                                                            */</span>
<span class="line-modified">!   /*      pshinter                                                         */</span>
<span class="line-modified">!   /*      psnames                                                          */</span>
<span class="line-modified">!   /*      raster1                                                          */</span>
<span class="line-modified">!   /*      sfnt                                                             */</span>
<span class="line-modified">!   /*      smooth, smooth-lcd, smooth-lcdv                                  */</span>
<span class="line-modified">!   /*      truetype                                                         */</span>
<span class="line-modified">!   /*      type1                                                            */</span>
<span class="line-modified">!   /*      type42                                                           */</span>
<span class="line-modified">!   /*      t1cid                                                            */</span>
<span class="line-modified">!   /*      winfonts                                                         */</span>
<span class="line-modified">!   /*    }                                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    Note that the FreeType Cache sub-system is not a FreeType module.  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Order&gt;                                                               */</span>
<span class="line-modified">!   /*    FT_Module                                                          */</span>
<span class="line-modified">!   /*    FT_Module_Constructor                                              */</span>
<span class="line-modified">!   /*    FT_Module_Destructor                                               */</span>
<span class="line-modified">!   /*    FT_Module_Requester                                                */</span>
<span class="line-modified">!   /*    FT_Module_Class                                                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    FT_Add_Module                                                      */</span>
<span class="line-modified">!   /*    FT_Get_Module                                                      */</span>
<span class="line-modified">!   /*    FT_Remove_Module                                                   */</span>
<span class="line-modified">!   /*    FT_Add_Default_Modules                                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    FT_Property_Set                                                    */</span>
<span class="line-modified">!   /*    FT_Property_Get                                                    */</span>
<span class="line-modified">!   /*    FT_Set_Default_Properties                                          */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    FT_New_Library                                                     */</span>
<span class="line-modified">!   /*    FT_Done_Library                                                    */</span>
<span class="line-modified">!   /*    FT_Reference_Library                                               */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    FT_Renderer                                                        */</span>
<span class="line-modified">!   /*    FT_Renderer_Class                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    FT_Get_Renderer                                                    */</span>
<span class="line-modified">!   /*    FT_Set_Renderer                                                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    FT_Set_Debug_Hook                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*************************************************************************/</span>
  
  
    /* module bit flags */
  #define FT_MODULE_FONT_DRIVER         1  /* this module is a font driver  */
  #define FT_MODULE_RENDERER            2  /* this module is a renderer     */
<span class="line-new-header">--- 31,81 ---</span>
  
  
  FT_BEGIN_HEADER
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @section:</span>
<span class="line-modified">!    *   module_management</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @title:</span>
<span class="line-modified">!    *   Module Management</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @abstract:</span>
<span class="line-modified">!    *   How to add, upgrade, remove, and control modules from FreeType.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   The definitions below are used to manage modules within FreeType.</span>
<span class="line-modified">!    *   Modules can be added, upgraded, and removed at runtime.  Additionally,</span>
<span class="line-modified">!    *   some module properties can be controlled also.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Here is a list of possible values of the `module_name` field in the</span>
<span class="line-modified">!    *   @FT_Module_Class structure.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   ```</span>
<span class="line-modified">!    *     autofitter</span>
<span class="line-modified">!    *     bdf</span>
<span class="line-modified">!    *     cff</span>
<span class="line-modified">!    *     gxvalid</span>
<span class="line-modified">!    *     otvalid</span>
<span class="line-modified">!    *     pcf</span>
<span class="line-modified">!    *     pfr</span>
<span class="line-modified">!    *     psaux</span>
<span class="line-modified">!    *     pshinter</span>
<span class="line-modified">!    *     psnames</span>
<span class="line-modified">!    *     raster1</span>
<span class="line-modified">!    *     sfnt</span>
<span class="line-modified">!    *     smooth, smooth-lcd, smooth-lcdv</span>
<span class="line-modified">!    *     truetype</span>
<span class="line-modified">!    *     type1</span>
<span class="line-modified">!    *     type42</span>
<span class="line-modified">!    *     t1cid</span>
<span class="line-modified">!    *     winfonts</span>
<span class="line-modified">!    *   ```</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Note that the FreeType Cache sub-system is not a FreeType module.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @order:</span>
<span class="line-modified">!    *   FT_Module</span>
<span class="line-modified">!    *   FT_Module_Constructor</span>
<span class="line-modified">!    *   FT_Module_Destructor</span>
<span class="line-modified">!    *   FT_Module_Requester</span>
<span class="line-modified">!    *   FT_Module_Class</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FT_Add_Module</span>
<span class="line-modified">!    *   FT_Get_Module</span>
<span class="line-modified">!    *   FT_Remove_Module</span>
<span class="line-modified">!    *   FT_Add_Default_Modules</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FT_Property_Set</span>
<span class="line-modified">!    *   FT_Property_Get</span>
<span class="line-modified">!    *   FT_Set_Default_Properties</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FT_New_Library</span>
<span class="line-modified">!    *   FT_Done_Library</span>
<span class="line-modified">!    *   FT_Reference_Library</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FT_Renderer</span>
<span class="line-modified">!    *   FT_Renderer_Class</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FT_Get_Renderer</span>
<span class="line-modified">!    *   FT_Set_Renderer</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FT_Set_Debug_Hook</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    */</span>
  
  
    /* module bit flags */
  #define FT_MODULE_FONT_DRIVER         1  /* this module is a font driver  */
  #define FT_MODULE_RENDERER            2  /* this module is a renderer     */
</pre>
<hr />
<pre>
<span class="line-old-header">*** 135,87 ***</span>
  
  
    typedef FT_Pointer  FT_Module_Interface;
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;FuncType&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Module_Constructor                                              */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    A function used to initialize (not create) a new module object.    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    module :: The module to initialize.                                */</span>
<span class="line-modified">!   /*                                                                       */</span>
    typedef FT_Error
    (*FT_Module_Constructor)( FT_Module  module );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;FuncType&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Module_Destructor                                               */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    A function used to finalize (not destroy) a given module object.   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    module :: The module to finalize.                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
    typedef void
    (*FT_Module_Destructor)( FT_Module  module );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;FuncType&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Module_Requester                                                */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    A function used to query a given module for a specific interface.  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    module :: The module to be searched.                               */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    name ::   The name of the interface in the module.                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
    typedef FT_Module_Interface
    (*FT_Module_Requester)( FT_Module    module,
                            const char*  name );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Struct&gt;                                                              */</span>
<span class="line-modified">!   /*    FT_Module_Class                                                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    The module class descriptor.                                       */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Fields&gt;                                                              */</span>
<span class="line-modified">!   /*    module_flags    :: Bit flags describing the module.                */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    module_size     :: The size of one module object/instance in       */</span>
<span class="line-modified">!   /*                       bytes.                                          */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    module_name     :: The name of the module.                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    module_version  :: The version, as a 16.16 fixed number            */</span>
<span class="line-modified">!   /*                       (major.minor).                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    module_requires :: The version of FreeType this module requires,   */</span>
<span class="line-modified">!   /*                       as a 16.16 fixed number (major.minor).  Starts  */</span>
<span class="line-modified">!   /*                       at version 2.0, i.e., 0x20000.                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    module_init     :: The initializing function.                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    module_done     :: The finalizing function.                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    get_interface   :: The interface requesting function.              */</span>
<span class="line-modified">!   /*                                                                       */</span>
    typedef struct  FT_Module_Class_
    {
      FT_ULong               module_flags;
      FT_Long                module_size;
      const FT_String*       module_name;
<span class="line-new-header">--- 135,103 ---</span>
  
  
    typedef FT_Pointer  FT_Module_Interface;
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @functype:</span>
<span class="line-modified">!    *   FT_Module_Constructor</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   A function used to initialize (not create) a new module object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   module ::</span>
<span class="line-modified">!    *     The module to initialize.</span>
<span class="line-added">+    */</span>
    typedef FT_Error
    (*FT_Module_Constructor)( FT_Module  module );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @functype:</span>
<span class="line-modified">!    *   FT_Module_Destructor</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   A function used to finalize (not destroy) a given module object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   module ::</span>
<span class="line-modified">!    *     The module to finalize.</span>
<span class="line-added">+    */</span>
    typedef void
    (*FT_Module_Destructor)( FT_Module  module );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @functype:</span>
<span class="line-modified">!    *   FT_Module_Requester</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   A function used to query a given module for a specific interface.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   module ::</span>
<span class="line-modified">!    *     The module to be searched.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   name ::</span>
<span class="line-added">+    *     The name of the interface in the module.</span>
<span class="line-added">+    */</span>
    typedef FT_Module_Interface
    (*FT_Module_Requester)( FT_Module    module,
                            const char*  name );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @struct:</span>
<span class="line-modified">!    *   FT_Module_Class</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   The module class descriptor.  While being a public structure necessary</span>
<span class="line-modified">!    *   for FreeType&#39;s module bookkeeping, most of the fields are essentially</span>
<span class="line-modified">!    *   internal, not to be used directly by an application.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @fields:</span>
<span class="line-modified">!    *   module_flags ::</span>
<span class="line-modified">!    *     Bit flags describing the module.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   module_size ::</span>
<span class="line-modified">!    *     The size of one module object/instance in bytes.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   module_name ::</span>
<span class="line-modified">!    *     The name of the module.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   module_version ::</span>
<span class="line-modified">!    *     The version, as a 16.16 fixed number (major.minor).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   module_requires ::</span>
<span class="line-modified">!    *     The version of FreeType this module requires, as a 16.16 fixed</span>
<span class="line-modified">!    *     number (major.minor).  Starts at version 2.0, i.e., 0x20000.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   module_interface ::</span>
<span class="line-modified">!    *     A typeless pointer to a structure (which varies between different</span>
<span class="line-added">+    *     modules) that holds the module&#39;s interface functions.  This is</span>
<span class="line-added">+    *     essentially what `get_interface` returns.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   module_init ::</span>
<span class="line-added">+    *     The initializing function.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   module_done ::</span>
<span class="line-added">+    *     The finalizing function.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   get_interface ::</span>
<span class="line-added">+    *     The interface requesting function.</span>
<span class="line-added">+    */</span>
    typedef struct  FT_Module_Class_
    {
      FT_ULong               module_flags;
      FT_Long                module_size;
      const FT_String*       module_name;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 229,188 ***</span>
      FT_Module_Requester    get_interface;
  
    } FT_Module_Class;
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Add_Module                                                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Add a new module to a given library instance.                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">!   /*    library :: A handle to the library object.                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    clazz   :: A pointer to class descriptor for the module.           */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    An error will be returned if a module already exists by that name, */</span>
<span class="line-modified">!   /*    or if the module requires a version of FreeType that is too great. */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( FT_Error )
    FT_Add_Module( FT_Library              library,
                   const FT_Module_Class*  clazz );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Get_Module                                                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Find a module by its name.                                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    library     :: A handle to the library object.                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    module_name :: The module&#39;s name (as an ASCII string).             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    A module handle.  0~if none was found.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    FreeType&#39;s internal modules aren&#39;t documented very well, and you   */</span>
<span class="line-modified">!   /*    should look up the source code for details.                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( FT_Module )
    FT_Get_Module( FT_Library   library,
                   const char*  module_name );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Remove_Module                                                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Remove a given module from a library instance.                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">!   /*    library :: A handle to a library object.                           */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    module  :: A handle to a module object.                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    The module object is destroyed by the function in case of success. */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( FT_Error )
    FT_Remove_Module( FT_Library  library,
                      FT_Module   module );
  
  
<span class="line-modified">!   /**********************************************************************</span>
     *
     * @function:
     *    FT_Property_Set
     *
     * @description:
     *    Set a property for a given module.
     *
     * @input:
     *    library ::
<span class="line-modified">!    *       A handle to the library the module is part of.</span>
     *
     *    module_name ::
<span class="line-modified">!    *       The module name.</span>
     *
     *    property_name ::
<span class="line-modified">!    *       The property name.  Properties are described in section</span>
<span class="line-modified">!    *       @properties.</span>
     *
<span class="line-modified">!    *       Note that only a few modules have properties.</span>
     *
     *    value ::
<span class="line-modified">!    *       A generic pointer to a variable or structure that gives the new</span>
<span class="line-modified">!    *       value of the property.  The exact definition of `value&#39; is</span>
<span class="line-modified">!    *       dependent on the property; see section @properties.</span>
     *
     * @return:
     *   FreeType error code.  0~means success.
     *
     * @note:
<span class="line-modified">!    *    If `module_name&#39; isn&#39;t a valid module name, or `property_name&#39;</span>
<span class="line-modified">!    *    doesn&#39;t specify a valid property, or if `value&#39; doesn&#39;t represent a</span>
     *    valid value for the given property, an error is returned.
     *
<span class="line-modified">!    *    The following example sets property `bar&#39; (a simple integer) in</span>
<span class="line-modified">!    *    module `foo&#39; to value~1.</span>
     *
<span class="line-modified">!    *    {</span>
     *      FT_UInt  bar;
     *
     *
     *      bar = 1;
     *      FT_Property_Set( library, &quot;foo&quot;, &quot;bar&quot;, &amp;bar );
<span class="line-modified">!    *    }</span>
     *
     *    Note that the FreeType Cache sub-system doesn&#39;t recognize module
     *    property changes.  To avoid glyph lookup confusion within the cache
<span class="line-modified">!    *    you should call @FTC_Manager_Reset to completely flush the cache if</span>
<span class="line-modified">!    *    a module property gets changed after @FTC_Manager_New has been</span>
<span class="line-removed">-    *    called.</span>
     *
<span class="line-modified">!    *    It is not possible to set properties of the FreeType Cache</span>
<span class="line-modified">!    *    sub-system itself with FT_Property_Set; use @FTC_Property_Set</span>
<span class="line-removed">-    *    instead.</span>
     *
<span class="line-modified">!    *  @since:</span>
<span class="line-modified">!    *    2.4.11</span>
     *
     */
    FT_EXPORT( FT_Error )
    FT_Property_Set( FT_Library        library,
                     const FT_String*  module_name,
                     const FT_String*  property_name,
                     const void*       value );
  
  
<span class="line-modified">!   /**********************************************************************</span>
     *
     * @function:
     *    FT_Property_Get
     *
     * @description:
     *    Get a module&#39;s property value.
     *
     * @input:
     *    library ::
<span class="line-modified">!    *       A handle to the library the module is part of.</span>
     *
     *    module_name ::
<span class="line-modified">!    *       The module name.</span>
     *
     *    property_name ::
<span class="line-modified">!    *       The property name.  Properties are described in section</span>
<span class="line-modified">!    *       @properties.</span>
     *
     * @inout:
     *    value ::
<span class="line-modified">!    *       A generic pointer to a variable or structure that gives the</span>
<span class="line-modified">!    *       value of the property.  The exact definition of `value&#39; is</span>
<span class="line-modified">!    *       dependent on the property; see section @properties.</span>
     *
     * @return:
     *   FreeType error code.  0~means success.
     *
     * @note:
<span class="line-modified">!    *    If `module_name&#39; isn&#39;t a valid module name, or `property_name&#39;</span>
<span class="line-modified">!    *    doesn&#39;t specify a valid property, or if `value&#39; doesn&#39;t represent a</span>
     *    valid value for the given property, an error is returned.
     *
<span class="line-modified">!    *    The following example gets property `baz&#39; (a range) in module `foo&#39;.</span>
     *
<span class="line-modified">!    *    {</span>
     *      typedef  range_
     *      {
     *        FT_Int32  min;
     *        FT_Int32  max;
     *
<span class="line-new-header">--- 245,192 ---</span>
      FT_Module_Requester    get_interface;
  
    } FT_Module_Class;
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Add_Module</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Add a new module to a given library instance.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @inout:</span>
<span class="line-modified">!    *   library ::</span>
<span class="line-modified">!    *     A handle to the library object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   clazz ::</span>
<span class="line-modified">!    *     A pointer to class descriptor for the module.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *   FreeType error code.  0~means success.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-modified">!    *   An error will be returned if a module already exists by that name, or</span>
<span class="line-added">+    *   if the module requires a version of FreeType that is too great.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( FT_Error )
    FT_Add_Module( FT_Library              library,
                   const FT_Module_Class*  clazz );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Get_Module</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Find a module by its name.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   library ::</span>
<span class="line-modified">!    *     A handle to the library object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   module_name ::</span>
<span class="line-modified">!    *     The module&#39;s name (as an ASCII string).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *   A module handle.  0~if none was found.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-modified">!    *   FreeType&#39;s internal modules aren&#39;t documented very well, and you</span>
<span class="line-added">+    *   should look up the source code for details.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( FT_Module )
    FT_Get_Module( FT_Library   library,
                   const char*  module_name );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Remove_Module</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Remove a given module from a library instance.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @inout:</span>
<span class="line-modified">!    *   library ::</span>
<span class="line-modified">!    *     A handle to a library object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   module ::</span>
<span class="line-modified">!    *     A handle to a module object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *   FreeType error code.  0~means success.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-added">+    *   The module object is destroyed by the function in case of success.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( FT_Error )
    FT_Remove_Module( FT_Library  library,
                      FT_Module   module );
  
  
<span class="line-modified">!   /**************************************************************************</span>
     *
     * @function:
     *    FT_Property_Set
     *
     * @description:
     *    Set a property for a given module.
     *
     * @input:
     *    library ::
<span class="line-modified">!    *      A handle to the library the module is part of.</span>
     *
     *    module_name ::
<span class="line-modified">!    *      The module name.</span>
     *
     *    property_name ::
<span class="line-modified">!    *      The property name.  Properties are described in section</span>
<span class="line-modified">!    *      @properties.</span>
     *
<span class="line-modified">!    *      Note that only a few modules have properties.</span>
     *
     *    value ::
<span class="line-modified">!    *      A generic pointer to a variable or structure that gives the new</span>
<span class="line-modified">!    *      value of the property.  The exact definition of `value` is</span>
<span class="line-modified">!    *      dependent on the property; see section @properties.</span>
     *
     * @return:
     *   FreeType error code.  0~means success.
     *
     * @note:
<span class="line-modified">!    *    If `module_name` isn&#39;t a valid module name, or `property_name`</span>
<span class="line-modified">!    *    doesn&#39;t specify a valid property, or if `value` doesn&#39;t represent a</span>
     *    valid value for the given property, an error is returned.
     *
<span class="line-modified">!    *    The following example sets property &#39;bar&#39; (a simple integer) in</span>
<span class="line-modified">!    *    module &#39;foo&#39; to value~1.</span>
     *
<span class="line-modified">!    *    ```</span>
     *      FT_UInt  bar;
     *
     *
     *      bar = 1;
     *      FT_Property_Set( library, &quot;foo&quot;, &quot;bar&quot;, &amp;bar );
<span class="line-modified">!    *    ```</span>
     *
     *    Note that the FreeType Cache sub-system doesn&#39;t recognize module
     *    property changes.  To avoid glyph lookup confusion within the cache
<span class="line-modified">!    *    you should call @FTC_Manager_Reset to completely flush the cache if a</span>
<span class="line-modified">!    *    module property gets changed after @FTC_Manager_New has been called.</span>
     *
<span class="line-modified">!    *    It is not possible to set properties of the FreeType Cache sub-system</span>
<span class="line-modified">!    *    itself with FT_Property_Set; use @FTC_Property_Set instead.</span>
     *
<span class="line-modified">!    * @since:</span>
<span class="line-modified">!    *   2.4.11</span>
     *
     */
    FT_EXPORT( FT_Error )
    FT_Property_Set( FT_Library        library,
                     const FT_String*  module_name,
                     const FT_String*  property_name,
                     const void*       value );
  
  
<span class="line-modified">!   /**************************************************************************</span>
     *
     * @function:
     *    FT_Property_Get
     *
     * @description:
     *    Get a module&#39;s property value.
     *
     * @input:
     *    library ::
<span class="line-modified">!    *      A handle to the library the module is part of.</span>
     *
     *    module_name ::
<span class="line-modified">!    *      The module name.</span>
     *
     *    property_name ::
<span class="line-modified">!    *      The property name.  Properties are described in section</span>
<span class="line-modified">!    *      @properties.</span>
     *
     * @inout:
     *    value ::
<span class="line-modified">!    *      A generic pointer to a variable or structure that gives the value</span>
<span class="line-modified">!    *      of the property.  The exact definition of `value` is dependent on</span>
<span class="line-modified">!    *      the property; see section @properties.</span>
     *
     * @return:
     *   FreeType error code.  0~means success.
     *
     * @note:
<span class="line-modified">!    *    If `module_name` isn&#39;t a valid module name, or `property_name`</span>
<span class="line-modified">!    *    doesn&#39;t specify a valid property, or if `value` doesn&#39;t represent a</span>
     *    valid value for the given property, an error is returned.
     *
<span class="line-modified">!    *    The following example gets property &#39;baz&#39; (a range) in module &#39;foo&#39;.</span>
     *
<span class="line-modified">!    *    ```</span>
     *      typedef  range_
     *      {
     *        FT_Int32  min;
     *        FT_Int32  max;
     *
</pre>
<hr />
<pre>
<span class="line-old-header">*** 418,209 ***</span>
     *
     *      range  baz;
     *
     *
     *      FT_Property_Get( library, &quot;foo&quot;, &quot;baz&quot;, &amp;baz );
<span class="line-modified">!    *    }</span>
     *
     *    It is not possible to retrieve properties of the FreeType Cache
     *    sub-system with FT_Property_Get; use @FTC_Property_Get instead.
     *
<span class="line-modified">!    *  @since:</span>
<span class="line-modified">!    *    2.4.11</span>
     *
     */
    FT_EXPORT( FT_Error )
    FT_Property_Get( FT_Library        library,
                     const FT_String*  module_name,
                     const FT_String*  property_name,
                     void*             value );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Set_Default_Properties                                          */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    If compilation option FT_CONFIG_OPTION_ENVIRONMENT_PROPERTIES is   */</span>
<span class="line-modified">!   /*    set, this function reads the `FREETYPE_PROPERTIES&#39; environment     */</span>
<span class="line-modified">!   /*    variable to control driver properties.  See section @properties    */</span>
<span class="line-modified">!   /*    for more.                                                          */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    If the compilation option is not set, this function does nothing.  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    `FREETYPE_PROPERTIES&#39; has the following syntax form (broken here   */</span>
<span class="line-modified">!   /*    into multiple lines for better readability).                       */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    {                                                                  */</span>
<span class="line-modified">!   /*      &lt;optional whitespace&gt;                                            */</span>
<span class="line-modified">!   /*      &lt;module-name1&gt; &#39;:&#39;                                               */</span>
<span class="line-modified">!   /*      &lt;property-name1&gt; &#39;=&#39; &lt;property-value1&gt;                           */</span>
<span class="line-modified">!   /*      &lt;whitespace&gt;                                                     */</span>
<span class="line-modified">!   /*      &lt;module-name2&gt; &#39;:&#39;                                               */</span>
<span class="line-modified">!   /*      &lt;property-name2&gt; &#39;=&#39; &lt;property-value2&gt;                           */</span>
<span class="line-modified">!   /*      ...                                                              */</span>
<span class="line-modified">!   /*    }                                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    Example:                                                           */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    {                                                                  */</span>
<span class="line-modified">!   /*      FREETYPE_PROPERTIES=truetype:interpreter-version=35 \            */</span>
<span class="line-modified">!   /*                          cff:no-stem-darkening=1 \                    */</span>
<span class="line-modified">!   /*                          autofitter:warping=1                         */</span>
<span class="line-modified">!   /*    }                                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">!   /*    library :: A handle to a new library object.                       */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Since&gt;                                                               */</span>
<span class="line-modified">!   /*    2.8                                                                */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( void )
    FT_Set_Default_Properties( FT_Library  library );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Reference_Library                                               */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    A counter gets initialized to~1 at the time an @FT_Library         */</span>
<span class="line-modified">!   /*    structure is created.  This function increments the counter.       */</span>
<span class="line-modified">!   /*    @FT_Done_Library then only destroys a library if the counter is~1, */</span>
<span class="line-modified">!   /*    otherwise it simply decrements the counter.                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    This function helps in managing life-cycles of structures that     */</span>
<span class="line-modified">!   /*    reference @FT_Library objects.                                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    library :: A handle to a target library object.                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Since&gt;                                                               */</span>
<span class="line-modified">!   /*    2.4.2                                                              */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( FT_Error )
    FT_Reference_Library( FT_Library  library );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_New_Library                                                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    This function is used to create a new FreeType library instance    */</span>
<span class="line-modified">!   /*    from a given memory object.  It is thus possible to use libraries  */</span>
<span class="line-modified">!   /*    with distinct memory allocators within the same program.  Note,    */</span>
<span class="line-modified">!   /*    however, that the used @FT_Memory structure is expected to remain  */</span>
<span class="line-modified">!   /*    valid for the life of the @FT_Library object.                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    Normally, you would call this function (followed by a call to      */</span>
<span class="line-modified">!   /*    @FT_Add_Default_Modules or a series of calls to @FT_Add_Module,    */</span>
<span class="line-modified">!   /*    and a call to @FT_Set_Default_Properties) instead of               */</span>
<span class="line-modified">!   /*    @FT_Init_FreeType to initialize the FreeType library.              */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    Don&#39;t use @FT_Done_FreeType but @FT_Done_Library to destroy a      */</span>
<span class="line-modified">!   /*    library instance.                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    memory   :: A handle to the original memory object.                */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">!   /*    alibrary :: A pointer to handle of a new library object.           */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    See the discussion of reference counters in the description of     */</span>
<span class="line-modified">!   /*    @FT_Reference_Library.                                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( FT_Error )
    FT_New_Library( FT_Memory    memory,
                    FT_Library  *alibrary );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Done_Library                                                    */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Discard a given library object.  This closes all drivers and       */</span>
<span class="line-modified">!   /*    discards all resource objects.                                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    library :: A handle to the target library.                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    See the discussion of reference counters in the description of     */</span>
<span class="line-modified">!   /*    @FT_Reference_Library.                                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( FT_Error )
    FT_Done_Library( FT_Library  library );
  
<span class="line-removed">-   /* */</span>
  
<span class="line-modified">!   typedef void</span>
    (*FT_DebugHook_Func)( void*  arg );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Set_Debug_Hook                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Set a debug hook function for debugging the interpreter of a font  */</span>
<span class="line-modified">!   /*    format.                                                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">!   /*    library    :: A handle to the library object.                      */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    hook_index :: The index of the debug hook.  You should use the     */</span>
<span class="line-modified">!   /*                  values defined in `ftobjs.h&#39;, e.g.,                  */</span>
<span class="line-modified">!   /*                  `FT_DEBUG_HOOK_TRUETYPE&#39;.                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    debug_hook :: The function used to debug the interpreter.          */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    Currently, four debug hook slots are available, but only two (for  */</span>
<span class="line-modified">!   /*    the TrueType and the Type~1 interpreter) are defined.              */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*    Since the internal headers of FreeType are no longer installed,    */</span>
<span class="line-modified">!   /*    the symbol `FT_DEBUG_HOOK_TRUETYPE&#39; isn&#39;t available publicly.      */</span>
<span class="line-modified">!   /*    This is a bug and will be fixed in a forthcoming release.          */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( void )
    FT_Set_Debug_Hook( FT_Library         library,
                       FT_UInt            hook_index,
                       FT_DebugHook_Func  debug_hook );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Add_Default_Modules                                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Add the set of default drivers to a given library object.          */</span>
<span class="line-modified">!   /*    This is only useful when you create a library object with          */</span>
<span class="line-modified">!   /*    @FT_New_Library (usually to plug a custom memory manager).         */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">!   /*    library :: A handle to a new library object.                       */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_EXPORT( void )
    FT_Add_Default_Modules( FT_Library  library );
  
  
  
<span class="line-new-header">--- 438,263 ---</span>
     *
     *      range  baz;
     *
     *
     *      FT_Property_Get( library, &quot;foo&quot;, &quot;baz&quot;, &amp;baz );
<span class="line-modified">!    *    ```</span>
     *
     *    It is not possible to retrieve properties of the FreeType Cache
     *    sub-system with FT_Property_Get; use @FTC_Property_Get instead.
     *
<span class="line-modified">!    * @since:</span>
<span class="line-modified">!    *   2.4.11</span>
     *
     */
    FT_EXPORT( FT_Error )
    FT_Property_Get( FT_Library        library,
                     const FT_String*  module_name,
                     const FT_String*  property_name,
                     void*             value );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Set_Default_Properties</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   If compilation option `FT_CONFIG_OPTION_ENVIRONMENT_PROPERTIES` is</span>
<span class="line-modified">!    *   set, this function reads the `FREETYPE_PROPERTIES` environment</span>
<span class="line-modified">!    *   variable to control driver properties.  See section @properties for</span>
<span class="line-modified">!    *   more.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   If the compilation option is not set, this function does nothing.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   `FREETYPE_PROPERTIES` has the following syntax form (broken here into</span>
<span class="line-modified">!    *   multiple lines for better readability).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   ```</span>
<span class="line-modified">!    *     &lt;optional whitespace&gt;</span>
<span class="line-modified">!    *     &lt;module-name1&gt; &#39;:&#39;</span>
<span class="line-modified">!    *     &lt;property-name1&gt; &#39;=&#39; &lt;property-value1&gt;</span>
<span class="line-modified">!    *     &lt;whitespace&gt;</span>
<span class="line-modified">!    *     &lt;module-name2&gt; &#39;:&#39;</span>
<span class="line-modified">!    *     &lt;property-name2&gt; &#39;=&#39; &lt;property-value2&gt;</span>
<span class="line-modified">!    *     ...</span>
<span class="line-modified">!    *   ```</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Example:</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   ```</span>
<span class="line-modified">!    *     FREETYPE_PROPERTIES=truetype:interpreter-version=35 \</span>
<span class="line-modified">!    *                         cff:no-stem-darkening=1 \</span>
<span class="line-modified">!    *                         autofitter:warping=1</span>
<span class="line-modified">!    *   ```</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @inout:</span>
<span class="line-modified">!    *   library ::</span>
<span class="line-modified">!    *     A handle to a new library object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @since:</span>
<span class="line-modified">!    *   2.8</span>
<span class="line-added">+    */</span>
    FT_EXPORT( void )
    FT_Set_Default_Properties( FT_Library  library );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Reference_Library</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   A counter gets initialized to~1 at the time an @FT_Library structure</span>
<span class="line-modified">!    *   is created.  This function increments the counter.  @FT_Done_Library</span>
<span class="line-modified">!    *   then only destroys a library if the counter is~1, otherwise it simply</span>
<span class="line-modified">!    *   decrements the counter.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   This function helps in managing life-cycles of structures that</span>
<span class="line-modified">!    *   reference @FT_Library objects.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   library ::</span>
<span class="line-modified">!    *     A handle to a target library object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *   FreeType error code.  0~means success.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @since:</span>
<span class="line-modified">!    *   2.4.2</span>
<span class="line-added">+    */</span>
    FT_EXPORT( FT_Error )
    FT_Reference_Library( FT_Library  library );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_New_Library</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   This function is used to create a new FreeType library instance from a</span>
<span class="line-modified">!    *   given memory object.  It is thus possible to use libraries with</span>
<span class="line-modified">!    *   distinct memory allocators within the same program.  Note, however,</span>
<span class="line-modified">!    *   that the used @FT_Memory structure is expected to remain valid for the</span>
<span class="line-modified">!    *   life of the @FT_Library object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Normally, you would call this function (followed by a call to</span>
<span class="line-modified">!    *   @FT_Add_Default_Modules or a series of calls to @FT_Add_Module, and a</span>
<span class="line-modified">!    *   call to @FT_Set_Default_Properties) instead of @FT_Init_FreeType to</span>
<span class="line-modified">!    *   initialize the FreeType library.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Don&#39;t use @FT_Done_FreeType but @FT_Done_Library to destroy a library</span>
<span class="line-modified">!    *   instance.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   memory ::</span>
<span class="line-modified">!    *     A handle to the original memory object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @output:</span>
<span class="line-modified">!    *   alibrary ::</span>
<span class="line-modified">!    *     A pointer to handle of a new library object.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *   FreeType error code.  0~means success.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-modified">!    *   See the discussion of reference counters in the description of</span>
<span class="line-added">+    *   @FT_Reference_Library.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( FT_Error )
    FT_New_Library( FT_Memory    memory,
                    FT_Library  *alibrary );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Done_Library</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Discard a given library object.  This closes all drivers and discards</span>
<span class="line-modified">!    *   all resource objects.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   library ::</span>
<span class="line-modified">!    *     A handle to the target library.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *   FreeType error code.  0~means success.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-modified">!    *   See the discussion of reference counters in the description of</span>
<span class="line-modified">!    *   @FT_Reference_Library.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( FT_Error )
    FT_Done_Library( FT_Library  library );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @functype:</span>
<span class="line-added">+    *   FT_DebugHook_Func</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @description:</span>
<span class="line-added">+    *   A drop-in replacement (or rather a wrapper) for the bytecode or</span>
<span class="line-added">+    *   charstring interpreter&#39;s main loop function.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   Its job is essentially</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   - to activate debug mode to enforce single-stepping,</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   - to call the main loop function to interpret the next opcode, and</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   - to show the changed context to the user.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   An example for such a main loop function is `TT_RunIns` (declared in</span>
<span class="line-added">+    *   FreeType&#39;s internal header file `src/truetype/ttinterp.h`).</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   Have a look at the source code of the `ttdebug` FreeType demo program</span>
<span class="line-added">+    *   for an example of a drop-in replacement.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @inout:</span>
<span class="line-added">+    *   arg ::</span>
<span class="line-added">+    *     A typeless pointer, to be cast to the main loop function&#39;s data</span>
<span class="line-added">+    *     structure (which depends on the font module).  For TrueType fonts</span>
<span class="line-added">+    *     it is bytecode interpreter&#39;s execution context, `TT_ExecContext`,</span>
<span class="line-added">+    *     which is declared in FreeType&#39;s internal header file `tttypes.h`.</span>
<span class="line-added">+    */</span>
<span class="line-added">+   typedef FT_Error</span>
    (*FT_DebugHook_Func)( void*  arg );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @enum:</span>
<span class="line-modified">!    *   FT_DEBUG_HOOK_XXX</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   A list of named debug hook indices.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @values:</span>
<span class="line-modified">!    *   FT_DEBUG_HOOK_TRUETYPE::</span>
<span class="line-modified">!    *     This hook index identifies the TrueType bytecode debugger.</span>
<span class="line-modified">!    */</span>
<span class="line-modified">! #define FT_DEBUG_HOOK_TRUETYPE  0</span>
<span class="line-modified">! </span>
<span class="line-modified">! </span>
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Set_Debug_Hook</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Set a debug hook function for debugging the interpreter of a font</span>
<span class="line-modified">!    *   format.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   While this is a public API function, an application needs access to</span>
<span class="line-modified">!    *   FreeType&#39;s internal header files to do something useful.</span>
<span class="line-modified">!    *</span>
<span class="line-added">+    *   Have a look at the source code of the `ttdebug` FreeType demo program</span>
<span class="line-added">+    *   for an example of its usage.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @inout:</span>
<span class="line-added">+    *   library ::</span>
<span class="line-added">+    *     A handle to the library object.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @input:</span>
<span class="line-added">+    *   hook_index ::</span>
<span class="line-added">+    *     The index of the debug hook.  You should use defined enumeration</span>
<span class="line-added">+    *     macros like @FT_DEBUG_HOOK_TRUETYPE.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   debug_hook ::</span>
<span class="line-added">+    *     The function used to debug the interpreter.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @note:</span>
<span class="line-added">+    *   Currently, four debug hook slots are available, but only one (for the</span>
<span class="line-added">+    *   TrueType interpreter) is defined.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( void )
    FT_Set_Debug_Hook( FT_Library         library,
                       FT_UInt            hook_index,
                       FT_DebugHook_Func  debug_hook );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Add_Default_Modules</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Add the set of default drivers to a given library object.  This is</span>
<span class="line-modified">!    *   only useful when you create a library object with @FT_New_Library</span>
<span class="line-modified">!    *   (usually to plug a custom memory manager).</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @inout:</span>
<span class="line-modified">!    *   library ::</span>
<span class="line-modified">!    *     A handle to a new library object.</span>
<span class="line-added">+    */</span>
    FT_EXPORT( void )
    FT_Add_Default_Modules( FT_Library  library );
  
  
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 642,32 ***</span>
     */
  
  
    /**************************************************************************
     *
<span class="line-modified">!    *  @enum:</span>
<span class="line-modified">!    *     FT_TrueTypeEngineType</span>
     *
<span class="line-modified">!    *  @description:</span>
<span class="line-modified">!    *     A list of values describing which kind of TrueType bytecode</span>
<span class="line-modified">!    *     engine is implemented in a given FT_Library instance.  It is used</span>
<span class="line-modified">!    *     by the @FT_Get_TrueType_Engine_Type function.</span>
     *
<span class="line-modified">!    *  @values:</span>
<span class="line-modified">!    *     FT_TRUETYPE_ENGINE_TYPE_NONE ::</span>
<span class="line-modified">!    *       The library doesn&#39;t implement any kind of bytecode interpreter.</span>
     *
<span class="line-modified">!    *     FT_TRUETYPE_ENGINE_TYPE_UNPATENTED ::</span>
<span class="line-modified">!    *       Deprecated and removed.</span>
     *
<span class="line-modified">!    *     FT_TRUETYPE_ENGINE_TYPE_PATENTED ::</span>
<span class="line-modified">!    *       The library implements a bytecode interpreter that covers</span>
<span class="line-modified">!    *       the full instruction set of the TrueType virtual machine (this</span>
<span class="line-modified">!    *       was governed by patents until May 2010, hence the name).</span>
     *
<span class="line-modified">!    *  @since:</span>
<span class="line-modified">!    *     2.2</span>
     *
     */
    typedef enum  FT_TrueTypeEngineType_
    {
      FT_TRUETYPE_ENGINE_TYPE_NONE = 0,
<span class="line-new-header">--- 716,32 ---</span>
     */
  
  
    /**************************************************************************
     *
<span class="line-modified">!    * @enum:</span>
<span class="line-modified">!    *    FT_TrueTypeEngineType</span>
     *
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *    A list of values describing which kind of TrueType bytecode engine is</span>
<span class="line-modified">!    *    implemented in a given FT_Library instance.  It is used by the</span>
<span class="line-modified">!    *    @FT_Get_TrueType_Engine_Type function.</span>
     *
<span class="line-modified">!    * @values:</span>
<span class="line-modified">!    *    FT_TRUETYPE_ENGINE_TYPE_NONE ::</span>
<span class="line-modified">!    *      The library doesn&#39;t implement any kind of bytecode interpreter.</span>
     *
<span class="line-modified">!    *    FT_TRUETYPE_ENGINE_TYPE_UNPATENTED ::</span>
<span class="line-modified">!    *      Deprecated and removed.</span>
     *
<span class="line-modified">!    *    FT_TRUETYPE_ENGINE_TYPE_PATENTED ::</span>
<span class="line-modified">!    *      The library implements a bytecode interpreter that covers the full</span>
<span class="line-modified">!    *      instruction set of the TrueType virtual machine (this was governed</span>
<span class="line-modified">!    *      by patents until May 2010, hence the name).</span>
     *
<span class="line-modified">!    * @since:</span>
<span class="line-modified">!    *    2.2</span>
     *
     */
    typedef enum  FT_TrueTypeEngineType_
    {
      FT_TRUETYPE_ENGINE_TYPE_NONE = 0,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 677,26 ***</span>
    } FT_TrueTypeEngineType;
  
  
    /**************************************************************************
     *
<span class="line-modified">!    *  @func:</span>
<span class="line-modified">!    *     FT_Get_TrueType_Engine_Type</span>
     *
<span class="line-modified">!    *  @description:</span>
<span class="line-modified">!    *     Return an @FT_TrueTypeEngineType value to indicate which level of</span>
<span class="line-modified">!    *     the TrueType virtual machine a given library instance supports.</span>
     *
<span class="line-modified">!    *  @input:</span>
<span class="line-modified">!    *     library ::</span>
<span class="line-modified">!    *       A library instance.</span>
     *
<span class="line-modified">!    *  @return:</span>
<span class="line-modified">!    *     A value indicating which level is supported.</span>
     *
<span class="line-modified">!    *  @since:</span>
<span class="line-modified">!    *     2.2</span>
     *
     */
    FT_EXPORT( FT_TrueTypeEngineType )
    FT_Get_TrueType_Engine_Type( FT_Library  library );
  
<span class="line-new-header">--- 751,26 ---</span>
    } FT_TrueTypeEngineType;
  
  
    /**************************************************************************
     *
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *    FT_Get_TrueType_Engine_Type</span>
     *
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *    Return an @FT_TrueTypeEngineType value to indicate which level of the</span>
<span class="line-modified">!    *    TrueType virtual machine a given library instance supports.</span>
     *
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *    library ::</span>
<span class="line-modified">!    *      A library instance.</span>
     *
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *    A value indicating which level is supported.</span>
     *
<span class="line-modified">!    * @since:</span>
<span class="line-modified">!    *    2.2</span>
     *
     */
    FT_EXPORT( FT_TrueTypeEngineType )
    FT_Get_TrueType_Engine_Type( FT_Library  library );
  
</pre>
<center><a href="ftmm.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ftmoderr.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>