<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.desktop/share/native/libfreetype/include/freetype/ftlcdfil.h</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="ftincrem.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ftlist.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfreetype/include/freetype/ftlcdfil.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,22 ***</span>
<span class="line-modified">! /***************************************************************************/</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  ftlcdfil.h                                                             */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*    FreeType API for color filtering of subpixel bitmap glyphs           */</span>
<span class="line-modified">! /*    (specification).                                                     */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  Copyright 2006-2018 by                                                 */</span>
<span class="line-modified">! /*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  This file is part of the FreeType project, and may only be used,       */</span>
<span class="line-modified">! /*  modified, and distributed under the terms of the FreeType project      */</span>
<span class="line-modified">! /*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */</span>
<span class="line-modified">! /*  this file you indicate that you have read the license and              */</span>
<span class="line-modified">! /*  understand and accept it fully.                                        */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /***************************************************************************/</span>
  
  
  #ifndef FTLCDFIL_H_
  #define FTLCDFIL_H_
  
<span class="line-new-header">--- 1,22 ---</span>
<span class="line-modified">! /****************************************************************************</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * ftlcdfil.h</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  *   FreeType API for color filtering of subpixel bitmap glyphs</span>
<span class="line-modified">!  *   (specification).</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * Copyright (C) 2006-2019 by</span>
<span class="line-modified">!  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified">!  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified">!  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified">!  * this file you indicate that you have read the license and</span>
<span class="line-modified">!  * understand and accept it fully.</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  */</span>
  
  
  #ifndef FTLCDFIL_H_
  #define FTLCDFIL_H_
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 31,109 ***</span>
  #endif
  
  
  FT_BEGIN_HEADER
  
<span class="line-modified">!   /***************************************************************************</span>
     *
     * @section:
<span class="line-modified">!    *   lcd_filtering</span>
     *
     * @title:
<span class="line-modified">!    *   LCD Filtering</span>
     *
     * @abstract:
<span class="line-modified">!    *   Reduce color fringes of subpixel-rendered bitmaps.</span>
     *
     * @description:
<span class="line-modified">!    *   Should you #define FT_CONFIG_OPTION_SUBPIXEL_RENDERING in your</span>
<span class="line-modified">!    *   `ftoption.h&#39;, which enables patented ClearType-style rendering,</span>
<span class="line-modified">!    *   the LCD-optimized glyph bitmaps should be filtered to reduce color</span>
<span class="line-modified">!    *   fringes inherent to this technology.  The default FreeType LCD</span>
<span class="line-modified">!    *   rendering uses different technology, and API described below,</span>
<span class="line-modified">!    *   although available, does nothing.</span>
     *
     *   ClearType-style LCD rendering exploits the color-striped structure of
     *   LCD pixels, increasing the available resolution in the direction of
<span class="line-modified">!    *   the stripe (usually horizontal RGB) by a factor of~3.  Since these</span>
<span class="line-modified">!    *   subpixels are color pixels, using them unfiltered creates severe</span>
<span class="line-modified">!    *   color fringes.  Use the @FT_Library_SetLcdFilter API to specify a</span>
<span class="line-modified">!    *   low-pass filter, which is then applied to subpixel-rendered bitmaps</span>
<span class="line-modified">!    *   generated through @FT_Render_Glyph.  The filter sacrifices some of</span>
<span class="line-modified">!    *   the higher resolution to reduce color fringes, making the glyph image</span>
<span class="line-modified">!    *   slightly blurrier.  Positional improvements will remain.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   A filter should have two properties:</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   1) It should be normalized, meaning the sum of the 5~components</span>
<span class="line-modified">!    *      should be 256 (0x100).  It is possible to go above or under this</span>
<span class="line-modified">!    *      target sum, however: going under means tossing out contrast, going</span>
<span class="line-modified">!    *      over means invoking clamping and thereby non-linearities that</span>
<span class="line-modified">!    *      increase contrast somewhat at the expense of greater distortion</span>
<span class="line-modified">!    *      and color-fringing.  Contrast is better enhanced through stem</span>
<span class="line-modified">!    *      darkening.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   2) It should be color-balanced, meaning a filter `{~a, b, c, b, a~}&#39;</span>
<span class="line-modified">!    *      where a~+ b~=~c.  It distributes the computed coverage for one</span>
<span class="line-modified">!    *      subpixel to all subpixels equally, sacrificing some won resolution</span>
<span class="line-modified">!    *      but drastically reducing color-fringing.  Positioning improvements</span>
<span class="line-modified">!    *      remain!  Note that color-fringing can only really be minimized</span>
<span class="line-modified">!    *      when using a color-balanced filter and alpha-blending the glyph</span>
<span class="line-modified">!    *      onto a surface in linear space; see @FT_Render_Glyph.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Regarding the form, a filter can be a `boxy&#39; filter or a `beveled&#39;</span>
<span class="line-modified">!    *   filter.  Boxy filters are sharper but are less forgiving of non-ideal</span>
<span class="line-modified">!    *   gamma curves of a screen (viewing angles!), beveled filters are</span>
<span class="line-modified">!    *   fuzzier but more tolerant.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Examples:</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   - [0x10 0x40 0x70 0x40 0x10] is beveled and neither balanced nor</span>
<span class="line-modified">!    *     normalized.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   - [0x1A 0x33 0x4D 0x33 0x1A] is beveled and balanced but not</span>
<span class="line-modified">!    *     normalized.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   - [0x19 0x33 0x66 0x4c 0x19] is beveled and normalized but not</span>
<span class="line-modified">!    *     balanced.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   - [0x00 0x4c 0x66 0x4c 0x00] is boxily beveled and normalized but not</span>
<span class="line-modified">!    *     balanced.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   - [0x00 0x55 0x56 0x55 0x00] is boxy, normalized, and almost</span>
<span class="line-modified">!    *     balanced.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   - [0x08 0x4D 0x56 0x4D 0x08] is beveled, normalized and, almost</span>
<span class="line-modified">!    *     balanced.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   The filter affects glyph bitmaps rendered through @FT_Render_Glyph,</span>
<span class="line-modified">!    *   @FT_Load_Glyph, and @FT_Load_Char.  It does _not_ affect the output</span>
<span class="line-modified">!    *   of @FT_Outline_Render and @FT_Outline_Get_Bitmap.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   If this feature is activated, the dimensions of LCD glyph bitmaps are</span>
<span class="line-modified">!    *   either wider or taller than the dimensions of the corresponding</span>
<span class="line-modified">!    *   outline with regard to the pixel grid.  For example, for</span>
<span class="line-modified">!    *   @FT_RENDER_MODE_LCD, the filter adds 3~subpixels to the left, and</span>
<span class="line-modified">!    *   3~subpixels to the right.  The bitmap offset values are adjusted</span>
<span class="line-modified">!    *   accordingly, so clients shouldn&#39;t need to modify their layout and</span>
<span class="line-modified">!    *   glyph positioning code when enabling the filter.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   It is important to understand that linear alpha blending and gamma</span>
<span class="line-modified">!    *   correction is critical for correctly rendering glyphs onto surfaces</span>
<span class="line-modified">!    *   without artifacts and even more critical when subpixel rendering is</span>
<span class="line-removed">-    *   involved.</span>
<span class="line-removed">-    *</span>
<span class="line-removed">-    *   Each of the 3~alpha values (subpixels) is independently used to blend</span>
<span class="line-removed">-    *   one color channel.  That is, red alpha blends the red channel of the</span>
<span class="line-removed">-    *   text color with the red channel of the background pixel.  The</span>
<span class="line-removed">-    *   distribution of density values by the color-balanced filter assumes</span>
<span class="line-removed">-    *   alpha blending is done in linear space; only then color artifacts</span>
<span class="line-removed">-    *   cancel out.</span>
     */
  
  
<span class="line-modified">!   /****************************************************************************</span>
     *
     * @enum:
     *   FT_LcdFilter
     *
     * @description:
<span class="line-new-header">--- 31,102 ---</span>
  #endif
  
  
  FT_BEGIN_HEADER
  
<span class="line-modified">!   /**************************************************************************</span>
     *
     * @section:
<span class="line-modified">!    *   lcd_rendering</span>
     *
     * @title:
<span class="line-modified">!    *   Subpixel Rendering</span>
     *
     * @abstract:
<span class="line-modified">!    *   API to control subpixel rendering.</span>
     *
     * @description:
<span class="line-modified">!    *   FreeType provides two alternative subpixel rendering technologies.</span>
<span class="line-modified">!    *   Should you define `FT_CONFIG_OPTION_SUBPIXEL_RENDERING` in your</span>
<span class="line-modified">!    *   `ftoption.h` file, this enables patented ClearType-style rendering.</span>
<span class="line-modified">!    *   Otherwise, Harmony LCD rendering is enabled.  These technologies are</span>
<span class="line-modified">!    *   controlled differently and API described below, although always</span>
<span class="line-modified">!    *   available, performs its function when appropriate method is enabled</span>
<span class="line-added">+    *   and does nothing otherwise.</span>
     *
     *   ClearType-style LCD rendering exploits the color-striped structure of
     *   LCD pixels, increasing the available resolution in the direction of
<span class="line-modified">!    *   the stripe (usually horizontal RGB) by a factor of~3.  Using the</span>
<span class="line-modified">!    *   subpixels coverages unfiltered can create severe color fringes</span>
<span class="line-modified">!    *   especially when rendering thin features.  Indeed, to produce</span>
<span class="line-modified">!    *   black-on-white text, the nearby color subpixels must be dimmed</span>
<span class="line-modified">!    *   equally.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   A good 5-tap FIR filter should be applied to subpixel coverages</span>
<span class="line-modified">!    *   regardless of pixel boundaries and should have these properties:</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   1. It should be symmetrical, like {~a, b, c, b, a~}, to avoid</span>
<span class="line-modified">!    *      any shifts in appearance.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   2. It should be color-balanced, meaning a~+ b~=~c, to reduce color</span>
<span class="line-modified">!    *      fringes by distributing the computed coverage for one subpixel to</span>
<span class="line-modified">!    *      all subpixels equally.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   3. It should be normalized, meaning 2a~+ 2b~+ c~=~1.0 to maintain</span>
<span class="line-modified">!    *      overall brightness.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Boxy 3-tap filter {0, 1/3, 1/3, 1/3, 0} is sharper but is less</span>
<span class="line-modified">!    *   forgiving of non-ideal gamma curves of a screen (and viewing angles),</span>
<span class="line-modified">!    *   beveled filters are fuzzier but more tolerant.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Use the @FT_Library_SetLcdFilter or @FT_Library_SetLcdFilterWeights</span>
<span class="line-modified">!    *   API to specify a low-pass filter, which is then applied to</span>
<span class="line-modified">!    *   subpixel-rendered bitmaps generated through @FT_Render_Glyph.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Harmony LCD rendering is suitable to panels with any regular subpixel</span>
<span class="line-modified">!    *   structure, not just monitors with 3 color striped subpixels, as long</span>
<span class="line-modified">!    *   as the color subpixels have fixed positions relative to the pixel</span>
<span class="line-modified">!    *   center.  In this case, each color channel is then rendered separately</span>
<span class="line-modified">!    *   after shifting the outline opposite to the subpixel shift so that the</span>
<span class="line-modified">!    *   coverage maps are aligned.  This method is immune to color fringes</span>
<span class="line-modified">!    *   because the shifts do not change integral coverage.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   The subpixel geometry must be specified by xy-coordinates for each</span>
<span class="line-modified">!    *   subpixel. By convention they may come in the RGB order: {{-1/3, 0},</span>
<span class="line-modified">!    *   {0, 0}, {1/3, 0}} for standard RGB striped panel or {{-1/6, 1/4},</span>
<span class="line-modified">!    *   {-1/6, -1/4}, {1/3, 0}} for a certain PenTile panel.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   Use the @FT_Library_SetLcdGeometry API to specify subpixel positions.</span>
<span class="line-modified">!    *   If one follows the RGB order convention, the same order applies to the</span>
<span class="line-modified">!    *   resulting @FT_PIXEL_MODE_LCD and @FT_PIXEL_MODE_LCD_V bitmaps.  Note,</span>
<span class="line-modified">!    *   however, that the coordinate frame for the latter must be rotated</span>
<span class="line-modified">!    *   clockwise.  Harmony with default LCD geometry is equivalent to</span>
<span class="line-modified">!    *   ClearType with light filter.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   As a result of ClearType filtering or Harmony rendering, the</span>
<span class="line-modified">!    *   dimensions of LCD bitmaps can be either wider or taller than the</span>
<span class="line-modified">!    *   dimensions of the corresponding outline with regard to the pixel grid.</span>
<span class="line-modified">!    *   For example, for @FT_RENDER_MODE_LCD, the filter adds 2~subpixels to</span>
<span class="line-modified">!    *   the left, and 2~subpixels to the right.  The bitmap offset values are</span>
<span class="line-modified">!    *   adjusted accordingly, so clients shouldn&#39;t need to modify their layout</span>
<span class="line-modified">!    *   and glyph positioning code when enabling the filter.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   The ClearType and Harmony rendering is applicable to glyph bitmaps</span>
<span class="line-modified">!    *   rendered through @FT_Render_Glyph, @FT_Load_Glyph, @FT_Load_Char, and</span>
<span class="line-modified">!    *   @FT_Glyph_To_Bitmap, when @FT_RENDER_MODE_LCD or @FT_RENDER_MODE_LCD_V</span>
<span class="line-modified">!    *   is specified.  This API does not control @FT_Outline_Render and</span>
<span class="line-modified">!    *   @FT_Outline_Get_Bitmap.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   The described algorithms can completely remove color artefacts when</span>
<span class="line-modified">!    *   combined with gamma-corrected alpha blending in linear space.  Each of</span>
<span class="line-modified">!    *   the 3~alpha values (subpixels) must by independently used to blend one</span>
<span class="line-modified">!    *   color channel.  That is, red alpha blends the red channel of the text</span>
<span class="line-modified">!    *   color with the red channel of the background pixel.</span>
     */
  
  
<span class="line-modified">!   /**************************************************************************</span>
     *
     * @enum:
     *   FT_LcdFilter
     *
     * @description:
</pre>
<hr />
<pre>
<span class="line-old-header">*** 143,51 ***</span>
     *   FT_LCD_FILTER_NONE ::
     *     Do not perform filtering.  When used with subpixel rendering, this
     *     results in sometimes severe color fringes.
     *
     *   FT_LCD_FILTER_DEFAULT ::
<span class="line-modified">!    *     The default filter reduces color fringes considerably, at the cost</span>
<span class="line-modified">!    *     of a slight blurriness in the output.</span>
<span class="line-removed">-    *</span>
<span class="line-removed">-    *     It is a beveled, normalized, and color-balanced five-tap filter</span>
<span class="line-removed">-    *     that is more forgiving to screens with non-ideal gamma curves and</span>
<span class="line-removed">-    *     viewing angles.  Note that while color-fringing is reduced, it can</span>
<span class="line-removed">-    *     only be minimized by using linear alpha blending and gamma</span>
<span class="line-removed">-    *     correction to render glyphs onto surfaces.  The default filter</span>
<span class="line-removed">-    *     weights are [0x08 0x4D 0x56 0x4D 0x08].</span>
     *
     *   FT_LCD_FILTER_LIGHT ::
<span class="line-modified">!    *     The light filter is a variant that is sharper at the cost of</span>
<span class="line-modified">!    *     slightly more color fringes than the default one.</span>
<span class="line-removed">-    *</span>
<span class="line-removed">-    *     It is a boxy, normalized, and color-balanced three-tap filter that</span>
<span class="line-removed">-    *     is less forgiving to screens with non-ideal gamma curves and</span>
<span class="line-removed">-    *     viewing angles.  This filter works best when the rendering system</span>
<span class="line-removed">-    *     uses linear alpha blending and gamma correction to render glyphs</span>
<span class="line-removed">-    *     onto surfaces.  The light filter weights are</span>
<span class="line-removed">-    *     [0x00 0x55 0x56 0x55 0x00].</span>
     *
     *   FT_LCD_FILTER_LEGACY ::
     *     This filter corresponds to the original libXft color filter.  It
     *     provides high contrast output but can exhibit really bad color
     *     fringes if glyphs are not extremely well hinted to the pixel grid.
<span class="line-removed">-    *     In other words, it only works well if the TrueType bytecode</span>
<span class="line-removed">-    *     interpreter is enabled *and* high-quality hinted fonts are used.</span>
<span class="line-removed">-    *</span>
     *     This filter is only provided for comparison purposes, and might be
<span class="line-modified">!    *     disabled or stay unsupported in the future.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    *   FT_LCD_FILTER_LEGACY1 ::</span>
<span class="line-removed">-    *     For historical reasons, the FontConfig library returns a different</span>
<span class="line-removed">-    *     enumeration value for legacy LCD filtering.  To make code work that</span>
<span class="line-removed">-    *     (incorrectly) forwards FontConfig&#39;s enumeration value to</span>
<span class="line-removed">-    *     @FT_Library_SetLcdFilter without proper mapping, it is thus easiest</span>
<span class="line-removed">-    *     to have another enumeration value, which is completely equal to</span>
<span class="line-removed">-    *     `FT_LCD_FILTER_LEGACY&#39;.</span>
     *
     * @since:
<span class="line-modified">!    *   2.3.0 (`FT_LCD_FILTER_LEGACY1&#39; since 2.6.2)</span>
     */
    typedef enum  FT_LcdFilter_
    {
      FT_LCD_FILTER_NONE    = 0,
      FT_LCD_FILTER_DEFAULT = 1,
<span class="line-new-header">--- 136,29 ---</span>
     *   FT_LCD_FILTER_NONE ::
     *     Do not perform filtering.  When used with subpixel rendering, this
     *     results in sometimes severe color fringes.
     *
     *   FT_LCD_FILTER_DEFAULT ::
<span class="line-modified">!    *     This is a beveled, normalized, and color-balanced five-tap filter</span>
<span class="line-modified">!    *     with weights of [0x08 0x4D 0x56 0x4D 0x08] in 1/256th units.</span>
     *
     *   FT_LCD_FILTER_LIGHT ::
<span class="line-modified">!    *     this is a boxy, normalized, and color-balanced three-tap filter with</span>
<span class="line-modified">!    *     weights of [0x00 0x55 0x56 0x55 0x00] in 1/256th units.</span>
     *
     *   FT_LCD_FILTER_LEGACY ::
<span class="line-added">+    *   FT_LCD_FILTER_LEGACY1 ::</span>
     *     This filter corresponds to the original libXft color filter.  It
     *     provides high contrast output but can exhibit really bad color
     *     fringes if glyphs are not extremely well hinted to the pixel grid.
     *     This filter is only provided for comparison purposes, and might be
<span class="line-modified">!    *     disabled or stay unsupported in the future. The second value is</span>
<span class="line-modified">!    *     provided for compatibility with FontConfig, which historically used</span>
<span class="line-modified">!    *     different enumeration, sometimes incorrectly forwarded to FreeType.</span>
     *
     * @since:
<span class="line-modified">!    *   2.3.0 (`FT_LCD_FILTER_LEGACY1` since 2.6.2)</span>
     */
    typedef enum  FT_LcdFilter_
    {
      FT_LCD_FILTER_NONE    = 0,
      FT_LCD_FILTER_DEFAULT = 1,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 200,11 ***</span>
    } FT_LcdFilter;
  
  
    /**************************************************************************
     *
<span class="line-modified">!    * @func:</span>
     *   FT_Library_SetLcdFilter
     *
     * @description:
     *   This function is used to apply color filtering to LCD decimated
     *   bitmaps, like the ones used when calling @FT_Render_Glyph with
<span class="line-new-header">--- 171,11 ---</span>
    } FT_LcdFilter;
  
  
    /**************************************************************************
     *
<span class="line-modified">!    * @function:</span>
     *   FT_Library_SetLcdFilter
     *
     * @description:
     *   This function is used to apply color filtering to LCD decimated
     *   bitmaps, like the ones used when calling @FT_Render_Glyph with
</pre>
<hr />
<pre>
<span class="line-old-header">*** 216,24 ***</span>
     *
     *   filter ::
     *     The filter type.
     *
     *     You can use @FT_LCD_FILTER_NONE here to disable this feature, or
<span class="line-modified">!    *     @FT_LCD_FILTER_DEFAULT to use a default filter that should work</span>
<span class="line-modified">!    *     well on most LCD screens.</span>
     *
     * @return:
     *   FreeType error code.  0~means success.
     *
     * @note:
     *   This feature is always disabled by default.  Clients must make an
<span class="line-modified">!    *   explicit call to this function with a `filter&#39; value other than</span>
     *   @FT_LCD_FILTER_NONE in order to enable it.
     *
<span class="line-modified">!    *   Due to *PATENTS* covering subpixel rendering, this function doesn&#39;t</span>
<span class="line-modified">!    *   do anything except returning `FT_Err_Unimplemented_Feature&#39; if the</span>
<span class="line-modified">!    *   configuration macro FT_CONFIG_OPTION_SUBPIXEL_RENDERING is not</span>
     *   defined in your build of the library, which should correspond to all
     *   default builds of FreeType.
     *
     * @since:
     *   2.3.0
<span class="line-new-header">--- 187,24 ---</span>
     *
     *   filter ::
     *     The filter type.
     *
     *     You can use @FT_LCD_FILTER_NONE here to disable this feature, or
<span class="line-modified">!    *     @FT_LCD_FILTER_DEFAULT to use a default filter that should work well</span>
<span class="line-modified">!    *     on most LCD screens.</span>
     *
     * @return:
     *   FreeType error code.  0~means success.
     *
     * @note:
     *   This feature is always disabled by default.  Clients must make an
<span class="line-modified">!    *   explicit call to this function with a `filter` value other than</span>
     *   @FT_LCD_FILTER_NONE in order to enable it.
     *
<span class="line-modified">!    *   Due to **PATENTS** covering subpixel rendering, this function doesn&#39;t</span>
<span class="line-modified">!    *   do anything except returning `FT_Err_Unimplemented_Feature` if the</span>
<span class="line-modified">!    *   configuration macro `FT_CONFIG_OPTION_SUBPIXEL_RENDERING` is not</span>
     *   defined in your build of the library, which should correspond to all
     *   default builds of FreeType.
     *
     * @since:
     *   2.3.0
</pre>
<hr />
<pre>
<span class="line-old-header">*** 243,11 ***</span>
                             FT_LcdFilter  filter );
  
  
    /**************************************************************************
     *
<span class="line-modified">!    * @func:</span>
     *   FT_Library_SetLcdFilterWeights
     *
     * @description:
     *   This function can be used to enable LCD filter with custom weights,
     *   instead of using presets in @FT_Library_SetLcdFilter.
<span class="line-new-header">--- 214,11 ---</span>
                             FT_LcdFilter  filter );
  
  
    /**************************************************************************
     *
<span class="line-modified">!    * @function:</span>
     *   FT_Library_SetLcdFilterWeights
     *
     * @description:
     *   This function can be used to enable LCD filter with custom weights,
     *   instead of using presets in @FT_Library_SetLcdFilter.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 256,19 ***</span>
     *   library ::
     *     A handle to the target library instance.
     *
     *   weights ::
     *     A pointer to an array; the function copies the first five bytes and
<span class="line-modified">!    *     uses them to specify the filter weights.</span>
     *
     * @return:
     *   FreeType error code.  0~means success.
     *
     * @note:
<span class="line-modified">!    *   Due to *PATENTS* covering subpixel rendering, this function doesn&#39;t</span>
<span class="line-modified">!    *   do anything except returning `FT_Err_Unimplemented_Feature&#39; if the</span>
<span class="line-modified">!    *   configuration macro FT_CONFIG_OPTION_SUBPIXEL_RENDERING is not</span>
     *   defined in your build of the library, which should correspond to all
     *   default builds of FreeType.
     *
     *   LCD filter weights can also be set per face using @FT_Face_Properties
     *   with @FT_PARAM_TAG_LCD_FILTER_WEIGHTS.
<span class="line-new-header">--- 227,19 ---</span>
     *   library ::
     *     A handle to the target library instance.
     *
     *   weights ::
     *     A pointer to an array; the function copies the first five bytes and
<span class="line-modified">!    *     uses them to specify the filter weights in 1/256th units.</span>
     *
     * @return:
     *   FreeType error code.  0~means success.
     *
     * @note:
<span class="line-modified">!    *   Due to **PATENTS** covering subpixel rendering, this function doesn&#39;t</span>
<span class="line-modified">!    *   do anything except returning `FT_Err_Unimplemented_Feature` if the</span>
<span class="line-modified">!    *   configuration macro `FT_CONFIG_OPTION_SUBPIXEL_RENDERING` is not</span>
     *   defined in your build of the library, which should correspond to all
     *   default builds of FreeType.
     *
     *   LCD filter weights can also be set per face using @FT_Face_Properties
     *   with @FT_PARAM_TAG_LCD_FILTER_WEIGHTS.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 279,11 ***</span>
    FT_EXPORT( FT_Error )
    FT_Library_SetLcdFilterWeights( FT_Library      library,
                                    unsigned char  *weights );
  
  
<span class="line-modified">!   /*</span>
     * @type:
     *   FT_LcdFiveTapFilter
     *
     * @description:
     *   A typedef for passing the five LCD filter weights to
<span class="line-new-header">--- 250,12 ---</span>
    FT_EXPORT( FT_Error )
    FT_Library_SetLcdFilterWeights( FT_Library      library,
                                    unsigned char  *weights );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-added">+    *</span>
     * @type:
     *   FT_LcdFiveTapFilter
     *
     * @description:
     *   A typedef for passing the five LCD filter weights to
</pre>
<hr />
<pre>
<span class="line-old-header">*** 296,10 ***</span>
<span class="line-new-header">--- 268,57 ---</span>
  #define FT_LCD_FILTER_FIVE_TAPS  5
  
    typedef FT_Byte  FT_LcdFiveTapFilter[FT_LCD_FILTER_FIVE_TAPS];
  
  
<span class="line-added">+   /**************************************************************************</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @function:</span>
<span class="line-added">+    *   FT_Library_SetLcdGeometry</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @description:</span>
<span class="line-added">+    *   This function can be used to modify default positions of color</span>
<span class="line-added">+    *   subpixels, which controls Harmony LCD rendering.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @input:</span>
<span class="line-added">+    *   library ::</span>
<span class="line-added">+    *     A handle to the target library instance.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   sub ::</span>
<span class="line-added">+    *     A pointer to an array of 3 vectors in 26.6 fractional pixel format;</span>
<span class="line-added">+    *     the function modifies the default values, see the note below.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @return:</span>
<span class="line-added">+    *   FreeType error code.  0~means success.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @note:</span>
<span class="line-added">+    *   Subpixel geometry examples:</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   - {{-21, 0}, {0, 0}, {21, 0}} is the default, corresponding to 3 color</span>
<span class="line-added">+    *   stripes shifted by a third of a pixel. This could be an RGB panel.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   - {{21, 0}, {0, 0}, {-21, 0}} looks the same as the default but can</span>
<span class="line-added">+    *   specify a BGR panel instead, while keeping the bitmap in the same</span>
<span class="line-added">+    *   RGB888 format.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   - {{0, 21}, {0, 0}, {0, -21}} is the vertical RGB, but the bitmap</span>
<span class="line-added">+    *   stays RGB888 as a result.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   - {{-11, 16}, {-11, -16}, {22, 0}} is a certain PenTile arrangement.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    *   This function does nothing and returns `FT_Err_Unimplemented_Feature`</span>
<span class="line-added">+    *   in the context of ClearType-style subpixel rendering when</span>
<span class="line-added">+    *   `FT_CONFIG_OPTION_SUBPIXEL_RENDERING` is defined in your build of the</span>
<span class="line-added">+    *   library.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @since:</span>
<span class="line-added">+    *   2.10.0</span>
<span class="line-added">+    */</span>
<span class="line-added">+   FT_EXPORT( FT_Error )</span>
<span class="line-added">+   FT_Library_SetLcdGeometry( FT_Library  library,</span>
<span class="line-added">+                              FT_Vector   sub[3] );</span>
<span class="line-added">+ </span>
    /* */
  
  
  FT_END_HEADER
  
</pre>
<center><a href="ftincrem.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ftlist.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>