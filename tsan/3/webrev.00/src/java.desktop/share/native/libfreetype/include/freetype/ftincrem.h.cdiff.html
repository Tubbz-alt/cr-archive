<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.desktop/share/native/libfreetype/include/freetype/ftincrem.h</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="ftimage.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ftlcdfil.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfreetype/include/freetype/ftincrem.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,21 ***</span>
<span class="line-modified">! /***************************************************************************/</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  ftincrem.h                                                             */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*    FreeType incremental loading (specification).                        */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  Copyright 2002-2018 by                                                 */</span>
<span class="line-modified">! /*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  This file is part of the FreeType project, and may only be used,       */</span>
<span class="line-modified">! /*  modified, and distributed under the terms of the FreeType project      */</span>
<span class="line-modified">! /*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */</span>
<span class="line-modified">! /*  this file you indicate that you have read the license and              */</span>
<span class="line-modified">! /*  understand and accept it fully.                                        */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /***************************************************************************/</span>
  
  
  #ifndef FTINCREM_H_
  #define FTINCREM_H_
  
<span class="line-new-header">--- 1,21 ---</span>
<span class="line-modified">! /****************************************************************************</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * ftincrem.h</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  *   FreeType incremental loading (specification).</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * Copyright (C) 2002-2019 by</span>
<span class="line-modified">!  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified">!  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified">!  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified">!  * this file you indicate that you have read the license and</span>
<span class="line-modified">!  * understand and accept it fully.</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  */</span>
  
  
  #ifndef FTINCREM_H_
  #define FTINCREM_H_
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 30,11 ***</span>
  #endif
  
  
  FT_BEGIN_HEADER
  
<span class="line-modified">!   /***************************************************************************</span>
     *
     * @section:
     *    incremental
     *
     * @title:
<span class="line-new-header">--- 30,11 ---</span>
  #endif
  
  
  FT_BEGIN_HEADER
  
<span class="line-modified">!   /**************************************************************************</span>
     *
     * @section:
     *    incremental
     *
     * @title:
</pre>
<hr />
<pre>
<span class="line-old-header">*** 43,11 ***</span>
     * @abstract:
     *    Custom Glyph Loading.
     *
     * @description:
     *   This section contains various functions used to perform so-called
<span class="line-modified">!    *   `incremental&#39; glyph loading.  This is a mode where all glyphs loaded</span>
     *   from a given @FT_Face are provided by the client application.
     *
     *   Apart from that, all other tables are loaded normally from the font
     *   file.  This mode is useful when FreeType is used within another
     *   engine, e.g., a PostScript Imaging Processor.
<span class="line-new-header">--- 43,11 ---</span>
     * @abstract:
     *    Custom Glyph Loading.
     *
     * @description:
     *   This section contains various functions used to perform so-called
<span class="line-modified">!    *   &#39;incremental&#39; glyph loading.  This is a mode where all glyphs loaded</span>
     *   from a given @FT_Face are provided by the client application.
     *
     *   Apart from that, all other tables are loaded normally from the font
     *   file.  This mode is useful when FreeType is used within another
     *   engine, e.g., a PostScript Imaging Processor.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 58,43 ***</span>
     *   @FT_Incremental_InterfaceRec for an example.
     *
     */
  
  
<span class="line-modified">!   /***************************************************************************</span>
     *
     * @type:
     *   FT_Incremental
     *
     * @description:
     *   An opaque type describing a user-provided object used to implement
<span class="line-modified">!    *   `incremental&#39; glyph loading within FreeType.  This is used to support</span>
<span class="line-modified">!    *   embedded fonts in certain environments (e.g., PostScript interpreters),</span>
<span class="line-modified">!    *   where the glyph data isn&#39;t in the font file, or must be overridden by</span>
<span class="line-modified">!    *   different values.</span>
     *
     * @note:
<span class="line-modified">!    *   It is up to client applications to create and implement @FT_Incremental</span>
<span class="line-modified">!    *   objects, as long as they provide implementations for the methods</span>
<span class="line-modified">!    *   @FT_Incremental_GetGlyphDataFunc, @FT_Incremental_FreeGlyphDataFunc</span>
<span class="line-modified">!    *   and @FT_Incremental_GetGlyphMetricsFunc.</span>
     *
     *   See the description of @FT_Incremental_InterfaceRec to understand how
     *   to use incremental objects with FreeType.
     *
     */
    typedef struct FT_IncrementalRec_*  FT_Incremental;
  
  
<span class="line-modified">!   /***************************************************************************</span>
     *
     * @struct:
     *   FT_Incremental_MetricsRec
     *
     * @description:
<span class="line-modified">!    *   A small structure used to contain the basic glyph metrics returned</span>
<span class="line-modified">!    *   by the @FT_Incremental_GetGlyphMetricsFunc method.</span>
     *
     * @fields:
     *   bearing_x ::
     *     Left bearing, in font units.
     *
<span class="line-new-header">--- 58,44 ---</span>
     *   @FT_Incremental_InterfaceRec for an example.
     *
     */
  
  
<span class="line-modified">!   /**************************************************************************</span>
     *
     * @type:
     *   FT_Incremental
     *
     * @description:
     *   An opaque type describing a user-provided object used to implement
<span class="line-modified">!    *   &#39;incremental&#39; glyph loading within FreeType.  This is used to support</span>
<span class="line-modified">!    *   embedded fonts in certain environments (e.g., PostScript</span>
<span class="line-modified">!    *   interpreters), where the glyph data isn&#39;t in the font file, or must be</span>
<span class="line-modified">!    *   overridden by different values.</span>
     *
     * @note:
<span class="line-modified">!    *   It is up to client applications to create and implement</span>
<span class="line-modified">!    *   @FT_Incremental objects, as long as they provide implementations for</span>
<span class="line-modified">!    *   the methods @FT_Incremental_GetGlyphDataFunc,</span>
<span class="line-modified">!    *   @FT_Incremental_FreeGlyphDataFunc and</span>
<span class="line-added">+    *   @FT_Incremental_GetGlyphMetricsFunc.</span>
     *
     *   See the description of @FT_Incremental_InterfaceRec to understand how
     *   to use incremental objects with FreeType.
     *
     */
    typedef struct FT_IncrementalRec_*  FT_Incremental;
  
  
<span class="line-modified">!   /**************************************************************************</span>
     *
     * @struct:
     *   FT_Incremental_MetricsRec
     *
     * @description:
<span class="line-modified">!    *   A small structure used to contain the basic glyph metrics returned by</span>
<span class="line-modified">!    *   the @FT_Incremental_GetGlyphMetricsFunc method.</span>
     *
     * @fields:
     *   bearing_x ::
     *     Left bearing, in font units.
     *
</pre>
<hr />
<pre>
<span class="line-old-header">*** 107,11 ***</span>
     *   advance_v ::
     *     Vertical component of glyph advance, in font units.
     *
     * @note:
     *   These correspond to horizontal or vertical metrics depending on the
<span class="line-modified">!    *   value of the `vertical&#39; argument to the function</span>
     *   @FT_Incremental_GetGlyphMetricsFunc.
     *
     */
    typedef struct  FT_Incremental_MetricsRec_
    {
<span class="line-new-header">--- 108,11 ---</span>
     *   advance_v ::
     *     Vertical component of glyph advance, in font units.
     *
     * @note:
     *   These correspond to horizontal or vertical metrics depending on the
<span class="line-modified">!    *   value of the `vertical` argument to the function</span>
     *   @FT_Incremental_GetGlyphMetricsFunc.
     *
     */
    typedef struct  FT_Incremental_MetricsRec_
    {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 121,11 ***</span>
      FT_Long  advance_v;     /* since 2.3.12 */
  
    } FT_Incremental_MetricsRec;
  
  
<span class="line-modified">!   /***************************************************************************</span>
     *
     * @struct:
     *   FT_Incremental_Metrics
     *
     * @description:
<span class="line-new-header">--- 122,11 ---</span>
      FT_Long  advance_v;     /* since 2.3.12 */
  
    } FT_Incremental_MetricsRec;
  
  
<span class="line-modified">!   /**************************************************************************</span>
     *
     * @struct:
     *   FT_Incremental_Metrics
     *
     * @description:
</pre>
<hr />
<pre>
<span class="line-old-header">*** 133,11 ***</span>
     *
     */
     typedef struct FT_Incremental_MetricsRec_*  FT_Incremental_Metrics;
  
  
<span class="line-modified">!   /***************************************************************************</span>
     *
     * @type:
     *   FT_Incremental_GetGlyphDataFunc
     *
     * @description:
<span class="line-new-header">--- 134,11 ---</span>
     *
     */
     typedef struct FT_Incremental_MetricsRec_*  FT_Incremental_Metrics;
  
  
<span class="line-modified">!   /**************************************************************************</span>
     *
     * @type:
     *   FT_Incremental_GetGlyphDataFunc
     *
     * @description:
</pre>
<hr />
<pre>
<span class="line-old-header">*** 145,12 ***</span>
     *   during @FT_Load_Glyph or @FT_Load_Char if incremental loading is
     *   enabled.
     *
     *   Note that the format of the glyph&#39;s data bytes depends on the font
     *   file format.  For TrueType, it must correspond to the raw bytes within
<span class="line-modified">!    *   the `glyf&#39; table.  For PostScript formats, it must correspond to the</span>
<span class="line-modified">!    *   *unencrypted* charstring bytes, without any `lenIV&#39; header.  It is</span>
     *   undefined for any other format.
     *
     * @input:
     *   incremental ::
     *     Handle to an opaque @FT_Incremental handle provided by the client
<span class="line-new-header">--- 146,12 ---</span>
     *   during @FT_Load_Glyph or @FT_Load_Char if incremental loading is
     *   enabled.
     *
     *   Note that the format of the glyph&#39;s data bytes depends on the font
     *   file format.  For TrueType, it must correspond to the raw bytes within
<span class="line-modified">!    *   the &#39;glyf&#39; table.  For PostScript formats, it must correspond to the</span>
<span class="line-modified">!    *   **unencrypted** charstring bytes, without any `lenIV` header.  It is</span>
     *   undefined for any other format.
     *
     * @input:
     *   incremental ::
     *     Handle to an opaque @FT_Incremental handle provided by the client
</pre>
<hr />
<pre>
<span class="line-old-header">*** 167,12 ***</span>
     * @return:
     *   FreeType error code.  0~means success.
     *
     * @note:
     *   If this function returns successfully the method
<span class="line-modified">!    *   @FT_Incremental_FreeGlyphDataFunc will be called later to release</span>
<span class="line-modified">!    *   the data bytes.</span>
     *
     *   Nested calls to @FT_Incremental_GetGlyphDataFunc can happen for
     *   compound glyphs.
     *
     */
<span class="line-new-header">--- 168,12 ---</span>
     * @return:
     *   FreeType error code.  0~means success.
     *
     * @note:
     *   If this function returns successfully the method
<span class="line-modified">!    *   @FT_Incremental_FreeGlyphDataFunc will be called later to release the</span>
<span class="line-modified">!    *   data bytes.</span>
     *
     *   Nested calls to @FT_Incremental_GetGlyphDataFunc can happen for
     *   compound glyphs.
     *
     */
</pre>
<hr />
<pre>
<span class="line-old-header">*** 180,11 ***</span>
    (*FT_Incremental_GetGlyphDataFunc)( FT_Incremental  incremental,
                                        FT_UInt         glyph_index,
                                        FT_Data*        adata );
  
  
<span class="line-modified">!   /***************************************************************************</span>
     *
     * @type:
     *   FT_Incremental_FreeGlyphDataFunc
     *
     * @description:
<span class="line-new-header">--- 181,11 ---</span>
    (*FT_Incremental_GetGlyphDataFunc)( FT_Incremental  incremental,
                                        FT_UInt         glyph_index,
                                        FT_Data*        adata );
  
  
<span class="line-modified">!   /**************************************************************************</span>
     *
     * @type:
     *   FT_Incremental_FreeGlyphDataFunc
     *
     * @description:
</pre>
<hr />
<pre>
<span class="line-old-header">*** 204,20 ***</span>
    typedef void
    (*FT_Incremental_FreeGlyphDataFunc)( FT_Incremental  incremental,
                                         FT_Data*        data );
  
  
<span class="line-modified">!   /***************************************************************************</span>
     *
     * @type:
     *   FT_Incremental_GetGlyphMetricsFunc
     *
     * @description:
     *   A function used to retrieve the basic metrics of a given glyph index
     *   before accessing its data.  This is necessary because, in certain
<span class="line-modified">!    *   formats like TrueType, the metrics are stored in a different place from</span>
<span class="line-modified">!    *   the glyph images proper.</span>
     *
     * @input:
     *   incremental ::
     *     A handle to an opaque @FT_Incremental handle provided by the client
     *     application.
<span class="line-new-header">--- 205,20 ---</span>
    typedef void
    (*FT_Incremental_FreeGlyphDataFunc)( FT_Incremental  incremental,
                                         FT_Data*        data );
  
  
<span class="line-modified">!   /**************************************************************************</span>
     *
     * @type:
     *   FT_Incremental_GetGlyphMetricsFunc
     *
     * @description:
     *   A function used to retrieve the basic metrics of a given glyph index
     *   before accessing its data.  This is necessary because, in certain
<span class="line-modified">!    *   formats like TrueType, the metrics are stored in a different place</span>
<span class="line-modified">!    *   from the glyph images proper.</span>
     *
     * @input:
     *   incremental ::
     *     A handle to an opaque @FT_Incremental handle provided by the client
     *     application.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 227,13 ***</span>
     *
     *   vertical ::
     *     If true, return vertical metrics.
     *
     *   ametrics ::
<span class="line-modified">!    *     This parameter is used for both input and output.</span>
<span class="line-modified">!    *     The original glyph metrics, if any, in font units.  If metrics are</span>
<span class="line-modified">!    *     not available all the values must be set to zero.</span>
     *
     * @output:
     *   ametrics ::
     *     The replacement glyph metrics in font units.
     *
<span class="line-new-header">--- 228,13 ---</span>
     *
     *   vertical ::
     *     If true, return vertical metrics.
     *
     *   ametrics ::
<span class="line-modified">!    *     This parameter is used for both input and output.  The original</span>
<span class="line-modified">!    *     glyph metrics, if any, in font units.  If metrics are not available</span>
<span class="line-modified">!    *     all the values must be set to zero.</span>
     *
     * @output:
     *   ametrics ::
     *     The replacement glyph metrics in font units.
     *
</pre>
<hr />
<pre>
<span class="line-old-header">*** 250,23 ***</span>
     *
     * @struct:
     *   FT_Incremental_FuncsRec
     *
     * @description:
<span class="line-modified">!    *   A table of functions for accessing fonts that load data</span>
<span class="line-modified">!    *   incrementally.  Used in @FT_Incremental_InterfaceRec.</span>
     *
     * @fields:
     *   get_glyph_data ::
     *     The function to get glyph data.  Must not be null.
     *
     *   free_glyph_data ::
     *     The function to release glyph data.  Must not be null.
     *
     *   get_glyph_metrics ::
<span class="line-modified">!    *     The function to get glyph metrics.  May be null if the font does</span>
<span class="line-modified">!    *     not provide overriding glyph metrics.</span>
     *
     */
    typedef struct  FT_Incremental_FuncsRec_
    {
      FT_Incremental_GetGlyphDataFunc     get_glyph_data;
<span class="line-new-header">--- 251,23 ---</span>
     *
     * @struct:
     *   FT_Incremental_FuncsRec
     *
     * @description:
<span class="line-modified">!    *   A table of functions for accessing fonts that load data incrementally.</span>
<span class="line-modified">!    *   Used in @FT_Incremental_InterfaceRec.</span>
     *
     * @fields:
     *   get_glyph_data ::
     *     The function to get glyph data.  Must not be null.
     *
     *   free_glyph_data ::
     *     The function to release glyph data.  Must not be null.
     *
     *   get_glyph_metrics ::
<span class="line-modified">!    *     The function to get glyph metrics.  May be null if the font does not</span>
<span class="line-modified">!    *     provide overriding glyph metrics.</span>
     *
     */
    typedef struct  FT_Incremental_FuncsRec_
    {
      FT_Incremental_GetGlyphDataFunc     get_glyph_data;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 274,55 ***</span>
      FT_Incremental_GetGlyphMetricsFunc  get_glyph_metrics;
  
    } FT_Incremental_FuncsRec;
  
  
<span class="line-modified">!   /***************************************************************************</span>
     *
     * @struct:
     *   FT_Incremental_InterfaceRec
     *
     * @description:
     *   A structure to be used with @FT_Open_Face to indicate that the user
     *   wants to support incremental glyph loading.  You should use it with
     *   @FT_PARAM_TAG_INCREMENTAL as in the following example:
     *
<span class="line-modified">!    *     {</span>
<span class="line-modified">!    *       FT_Incremental_InterfaceRec  inc_int;</span>
<span class="line-modified">!    *       FT_Parameter                 parameter;</span>
<span class="line-modified">!    *       FT_Open_Args                 open_args;</span>
     *
     *
<span class="line-modified">!    *       // set up incremental descriptor</span>
<span class="line-modified">!    *       inc_int.funcs  = my_funcs;</span>
<span class="line-modified">!    *       inc_int.object = my_object;</span>
     *
<span class="line-modified">!    *       // set up optional parameter</span>
<span class="line-modified">!    *       parameter.tag  = FT_PARAM_TAG_INCREMENTAL;</span>
<span class="line-modified">!    *       parameter.data = &amp;inc_int;</span>
     *
<span class="line-modified">!    *       // set up FT_Open_Args structure</span>
<span class="line-modified">!    *       open_args.flags      = FT_OPEN_PATHNAME | FT_OPEN_PARAMS;</span>
<span class="line-modified">!    *       open_args.pathname   = my_font_pathname;</span>
<span class="line-modified">!    *       open_args.num_params = 1;</span>
<span class="line-modified">!    *       open_args.params     = &amp;parameter; // we use one optional argument</span>
     *
<span class="line-modified">!    *       // open the font</span>
<span class="line-modified">!    *       error = FT_Open_Face( library, &amp;open_args, index, &amp;face );</span>
<span class="line-modified">!    *       ...</span>
<span class="line-modified">!    *     }</span>
     *
     */
    typedef struct  FT_Incremental_InterfaceRec_
    {
      const FT_Incremental_FuncsRec*  funcs;
      FT_Incremental                  object;
  
    } FT_Incremental_InterfaceRec;
  
  
<span class="line-modified">!   /***************************************************************************</span>
     *
     * @type:
     *   FT_Incremental_Interface
     *
     * @description:
<span class="line-new-header">--- 275,55 ---</span>
      FT_Incremental_GetGlyphMetricsFunc  get_glyph_metrics;
  
    } FT_Incremental_FuncsRec;
  
  
<span class="line-modified">!   /**************************************************************************</span>
     *
     * @struct:
     *   FT_Incremental_InterfaceRec
     *
     * @description:
     *   A structure to be used with @FT_Open_Face to indicate that the user
     *   wants to support incremental glyph loading.  You should use it with
     *   @FT_PARAM_TAG_INCREMENTAL as in the following example:
     *
<span class="line-modified">!    *   ```</span>
<span class="line-modified">!    *     FT_Incremental_InterfaceRec  inc_int;</span>
<span class="line-modified">!    *     FT_Parameter                 parameter;</span>
<span class="line-modified">!    *     FT_Open_Args                 open_args;</span>
     *
     *
<span class="line-modified">!    *     // set up incremental descriptor</span>
<span class="line-modified">!    *     inc_int.funcs  = my_funcs;</span>
<span class="line-modified">!    *     inc_int.object = my_object;</span>
     *
<span class="line-modified">!    *     // set up optional parameter</span>
<span class="line-modified">!    *     parameter.tag  = FT_PARAM_TAG_INCREMENTAL;</span>
<span class="line-modified">!    *     parameter.data = &amp;inc_int;</span>
     *
<span class="line-modified">!    *     // set up FT_Open_Args structure</span>
<span class="line-modified">!    *     open_args.flags      = FT_OPEN_PATHNAME | FT_OPEN_PARAMS;</span>
<span class="line-modified">!    *     open_args.pathname   = my_font_pathname;</span>
<span class="line-modified">!    *     open_args.num_params = 1;</span>
<span class="line-modified">!    *     open_args.params     = &amp;parameter; // we use one optional argument</span>
     *
<span class="line-modified">!    *     // open the font</span>
<span class="line-modified">!    *     error = FT_Open_Face( library, &amp;open_args, index, &amp;face );</span>
<span class="line-modified">!    *     ...</span>
<span class="line-modified">!    *   ```</span>
     *
     */
    typedef struct  FT_Incremental_InterfaceRec_
    {
      const FT_Incremental_FuncsRec*  funcs;
      FT_Incremental                  object;
  
    } FT_Incremental_InterfaceRec;
  
  
<span class="line-modified">!   /**************************************************************************</span>
     *
     * @type:
     *   FT_Incremental_Interface
     *
     * @description:
</pre>
<center><a href="ftimage.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ftlcdfil.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>