<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/java.desktop/share/native/libfreetype/include/freetype/ftglyph.h</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre><a name="1" id="anc1"></a><span class="line-modified">  1 /***************************************************************************/</span>
<span class="line-modified">  2 /*                                                                         */</span>
<span class="line-modified">  3 /*  ftglyph.h                                                              */</span>
<span class="line-modified">  4 /*                                                                         */</span>
<span class="line-modified">  5 /*    FreeType convenience functions to handle glyphs (specification).     */</span>
<span class="line-modified">  6 /*                                                                         */</span>
<span class="line-modified">  7 /*  Copyright 1996-2018 by                                                 */</span>
<span class="line-modified">  8 /*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */</span>
<span class="line-modified">  9 /*                                                                         */</span>
<span class="line-modified"> 10 /*  This file is part of the FreeType project, and may only be used,       */</span>
<span class="line-modified"> 11 /*  modified, and distributed under the terms of the FreeType project      */</span>
<span class="line-modified"> 12 /*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */</span>
<span class="line-modified"> 13 /*  this file you indicate that you have read the license and              */</span>
<span class="line-modified"> 14 /*  understand and accept it fully.                                        */</span>
<span class="line-modified"> 15 /*                                                                         */</span>
<span class="line-modified"> 16 /***************************************************************************/</span>
<span class="line-modified"> 17 </span>
<span class="line-modified"> 18 </span>
<span class="line-modified"> 19   /*************************************************************************/</span>
<span class="line-modified"> 20   /*                                                                       */</span>
<span class="line-modified"> 21   /* This file contains the definition of several convenience functions    */</span>
<span class="line-modified"> 22   /* that can be used by client applications to easily retrieve glyph      */</span>
<span class="line-modified"> 23   /* bitmaps and outlines from a given face.                               */</span>
<span class="line-modified"> 24   /*                                                                       */</span>
<span class="line-modified"> 25   /* These functions should be optional if you are writing a font server   */</span>
<span class="line-modified"> 26   /* or text layout engine on top of FreeType.  However, they are pretty   */</span>
<span class="line-modified"> 27   /* handy for many other simple uses of the library.                      */</span>
<span class="line-modified"> 28   /*                                                                       */</span>
<span class="line-modified"> 29   /*************************************************************************/</span>
 30 
 31 
 32 #ifndef FTGLYPH_H_
 33 #define FTGLYPH_H_
 34 
 35 
 36 #include &lt;ft2build.h&gt;
 37 #include FT_FREETYPE_H
 38 
 39 #ifdef FREETYPE_H
 40 #error &quot;freetype.h of FreeType 1 has been loaded!&quot;
 41 #error &quot;Please fix the directory search order for header files&quot;
 42 #error &quot;so that freetype.h of FreeType 2 is found first.&quot;
 43 #endif
 44 
 45 
 46 FT_BEGIN_HEADER
 47 
 48 
<a name="2" id="anc2"></a><span class="line-modified"> 49   /*************************************************************************/</span>
<span class="line-modified"> 50   /*                                                                       */</span>
<span class="line-modified"> 51   /* &lt;Section&gt;                                                             */</span>
<span class="line-modified"> 52   /*    glyph_management                                                   */</span>
<span class="line-modified"> 53   /*                                                                       */</span>
<span class="line-modified"> 54   /* &lt;Title&gt;                                                               */</span>
<span class="line-modified"> 55   /*    Glyph Management                                                   */</span>
<span class="line-modified"> 56   /*                                                                       */</span>
<span class="line-modified"> 57   /* &lt;Abstract&gt;                                                            */</span>
<span class="line-modified"> 58   /*    Generic interface to manage individual glyph data.                 */</span>
<span class="line-modified"> 59   /*                                                                       */</span>
<span class="line-modified"> 60   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified"> 61   /*    This section contains definitions used to manage glyph data        */</span>
<span class="line-modified"> 62   /*    through generic FT_Glyph objects.  Each of them can contain a      */</span>
<span class="line-modified"> 63   /*    bitmap, a vector outline, or even images in other formats.         */</span>
<span class="line-modified"> 64   /*                                                                       */</span>
<span class="line-modified"> 65   /*************************************************************************/</span>

 66 
 67 
 68   /* forward declaration to a private type */
 69   typedef struct FT_Glyph_Class_  FT_Glyph_Class;
 70 
 71 
<a name="3" id="anc3"></a><span class="line-modified"> 72   /*************************************************************************/</span>
<span class="line-modified"> 73   /*                                                                       */</span>
<span class="line-modified"> 74   /* &lt;Type&gt;                                                                */</span>
<span class="line-modified"> 75   /*    FT_Glyph                                                           */</span>
<span class="line-modified"> 76   /*                                                                       */</span>
<span class="line-modified"> 77   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified"> 78   /*    Handle to an object used to model generic glyph images.  It is a   */</span>
<span class="line-modified"> 79   /*    pointer to the @FT_GlyphRec structure and can contain a glyph      */</span>
<span class="line-modified"> 80   /*    bitmap or pointer.                                                 */</span>
<span class="line-modified"> 81   /*                                                                       */</span>
<span class="line-modified"> 82   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified"> 83   /*    Glyph objects are not owned by the library.  You must thus release */</span>
<span class="line-modified"> 84   /*    them manually (through @FT_Done_Glyph) _before_ calling            */</span>
<span class="line-modified"> 85   /*    @FT_Done_FreeType.                                                 */</span>
<span class="line-modified"> 86   /*                                                                       */</span>
 87   typedef struct FT_GlyphRec_*  FT_Glyph;
 88 
 89 
<a name="4" id="anc4"></a><span class="line-modified"> 90   /*************************************************************************/</span>
<span class="line-modified"> 91   /*                                                                       */</span>
<span class="line-modified"> 92   /* &lt;Struct&gt;                                                              */</span>
<span class="line-modified"> 93   /*    FT_GlyphRec                                                        */</span>
<span class="line-modified"> 94   /*                                                                       */</span>
<span class="line-modified"> 95   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified"> 96   /*    The root glyph structure contains a given glyph image plus its     */</span>
<span class="line-modified"> 97   /*    advance width in 16.16 fixed-point format.                         */</span>
<span class="line-modified"> 98   /*                                                                       */</span>
<span class="line-modified"> 99   /* &lt;Fields&gt;                                                              */</span>
<span class="line-modified">100   /*    library :: A handle to the FreeType library object.                */</span>
<span class="line-modified">101   /*                                                                       */</span>
<span class="line-modified">102   /*    clazz   :: A pointer to the glyph&#39;s class.  Private.               */</span>
<span class="line-modified">103   /*                                                                       */</span>
<span class="line-modified">104   /*    format  :: The format of the glyph&#39;s image.                        */</span>
<span class="line-modified">105   /*                                                                       */</span>
<span class="line-modified">106   /*    advance :: A 16.16 vector that gives the glyph&#39;s advance width.    */</span>
<span class="line-modified">107   /*                                                                       */</span>




108   typedef struct  FT_GlyphRec_
109   {
110     FT_Library             library;
111     const FT_Glyph_Class*  clazz;
112     FT_Glyph_Format        format;
113     FT_Vector              advance;
114 
115   } FT_GlyphRec;
116 
117 
<a name="5" id="anc5"></a><span class="line-modified">118   /*************************************************************************/</span>
<span class="line-modified">119   /*                                                                       */</span>
<span class="line-modified">120   /* &lt;Type&gt;                                                                */</span>
<span class="line-modified">121   /*    FT_BitmapGlyph                                                     */</span>
<span class="line-modified">122   /*                                                                       */</span>
<span class="line-modified">123   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">124   /*    A handle to an object used to model a bitmap glyph image.  This is */</span>
<span class="line-modified">125   /*    a sub-class of @FT_Glyph, and a pointer to @FT_BitmapGlyphRec.     */</span>
<span class="line-modified">126   /*                                                                       */</span>
127   typedef struct FT_BitmapGlyphRec_*  FT_BitmapGlyph;
128 
129 
<a name="6" id="anc6"></a><span class="line-modified">130   /*************************************************************************/</span>
<span class="line-modified">131   /*                                                                       */</span>
<span class="line-modified">132   /* &lt;Struct&gt;                                                              */</span>
<span class="line-modified">133   /*    FT_BitmapGlyphRec                                                  */</span>
<span class="line-modified">134   /*                                                                       */</span>
<span class="line-modified">135   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">136   /*    A structure used for bitmap glyph images.  This really is a        */</span>
<span class="line-modified">137   /*    `sub-class&#39; of @FT_GlyphRec.                                       */</span>
<span class="line-modified">138   /*                                                                       */</span>
<span class="line-modified">139   /* &lt;Fields&gt;                                                              */</span>
<span class="line-modified">140   /*    root   :: The root @FT_Glyph fields.                               */</span>
<span class="line-modified">141   /*                                                                       */</span>
<span class="line-modified">142   /*    left   :: The left-side bearing, i.e., the horizontal distance     */</span>
<span class="line-modified">143   /*              from the current pen position to the left border of the  */</span>
<span class="line-modified">144   /*              glyph bitmap.                                            */</span>
<span class="line-modified">145   /*                                                                       */</span>
<span class="line-modified">146   /*    top    :: The top-side bearing, i.e., the vertical distance from   */</span>
<span class="line-modified">147   /*              the current pen position to the top border of the glyph  */</span>
<span class="line-modified">148   /*              bitmap.  This distance is positive for upwards~y!        */</span>
<span class="line-modified">149   /*                                                                       */</span>
<span class="line-modified">150   /*    bitmap :: A descriptor for the bitmap.                             */</span>
<span class="line-modified">151   /*                                                                       */</span>
<span class="line-modified">152   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">153   /*    You can typecast an @FT_Glyph to @FT_BitmapGlyph if you have       */</span>
<span class="line-modified">154   /*    `glyph-&gt;format == FT_GLYPH_FORMAT_BITMAP&#39;.  This lets you access   */</span>
<span class="line-modified">155   /*    the bitmap&#39;s contents easily.                                      */</span>
<span class="line-modified">156   /*                                                                       */</span>
<span class="line-modified">157   /*    The corresponding pixel buffer is always owned by @FT_BitmapGlyph  */</span>
<span class="line-modified">158   /*    and is thus created and destroyed with it.                         */</span>
<span class="line-modified">159   /*                                                                       */</span>



160   typedef struct  FT_BitmapGlyphRec_
161   {
162     FT_GlyphRec  root;
163     FT_Int       left;
164     FT_Int       top;
165     FT_Bitmap    bitmap;
166 
167   } FT_BitmapGlyphRec;
168 
169 
<a name="7" id="anc7"></a><span class="line-modified">170   /*************************************************************************/</span>
<span class="line-modified">171   /*                                                                       */</span>
<span class="line-modified">172   /* &lt;Type&gt;                                                                */</span>
<span class="line-modified">173   /*    FT_OutlineGlyph                                                    */</span>
<span class="line-modified">174   /*                                                                       */</span>
<span class="line-modified">175   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">176   /*    A handle to an object used to model an outline glyph image.  This  */</span>
<span class="line-modified">177   /*    is a sub-class of @FT_Glyph, and a pointer to @FT_OutlineGlyphRec. */</span>
<span class="line-modified">178   /*                                                                       */</span>
179   typedef struct FT_OutlineGlyphRec_*  FT_OutlineGlyph;
180 
181 
<a name="8" id="anc8"></a><span class="line-modified">182   /*************************************************************************/</span>
<span class="line-modified">183   /*                                                                       */</span>
<span class="line-modified">184   /* &lt;Struct&gt;                                                              */</span>
<span class="line-modified">185   /*    FT_OutlineGlyphRec                                                 */</span>
<span class="line-modified">186   /*                                                                       */</span>
<span class="line-modified">187   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">188   /*    A structure used for outline (vectorial) glyph images.  This       */</span>
<span class="line-modified">189   /*    really is a `sub-class&#39; of @FT_GlyphRec.                           */</span>
<span class="line-modified">190   /*                                                                       */</span>
<span class="line-modified">191   /* &lt;Fields&gt;                                                              */</span>
<span class="line-modified">192   /*    root    :: The root @FT_Glyph fields.                              */</span>
<span class="line-modified">193   /*                                                                       */</span>
<span class="line-modified">194   /*    outline :: A descriptor for the outline.                           */</span>
<span class="line-modified">195   /*                                                                       */</span>
<span class="line-modified">196   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">197   /*    You can typecast an @FT_Glyph to @FT_OutlineGlyph if you have      */</span>
<span class="line-modified">198   /*    `glyph-&gt;format == FT_GLYPH_FORMAT_OUTLINE&#39;.  This lets you access  */</span>
<span class="line-modified">199   /*    the outline&#39;s content easily.                                      */</span>
<span class="line-modified">200   /*                                                                       */</span>
<span class="line-modified">201   /*    As the outline is extracted from a glyph slot, its coordinates are */</span>
<span class="line-modified">202   /*    expressed normally in 26.6 pixels, unless the flag                 */</span>
<span class="line-modified">203   /*    @FT_LOAD_NO_SCALE was used in @FT_Load_Glyph() or @FT_Load_Char(). */</span>
<span class="line-modified">204   /*                                                                       */</span>
<span class="line-modified">205   /*    The outline&#39;s tables are always owned by the object and are        */</span>
<span class="line-modified">206   /*    destroyed with it.                                                 */</span>
<span class="line-modified">207   /*                                                                       */</span>


208   typedef struct  FT_OutlineGlyphRec_
209   {
210     FT_GlyphRec  root;
211     FT_Outline   outline;
212 
213   } FT_OutlineGlyphRec;
214 
215 
<a name="9" id="anc9"></a><span class="line-modified">216   /*************************************************************************/</span>
<span class="line-modified">217   /*                                                                       */</span>
<span class="line-modified">218   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">219   /*    FT_Get_Glyph                                                       */</span>
<span class="line-modified">220   /*                                                                       */</span>
<span class="line-modified">221   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">222   /*    A function used to extract a glyph image from a slot.  Note that   */</span>
<span class="line-modified">223   /*    the created @FT_Glyph object must be released with @FT_Done_Glyph. */</span>
<span class="line-modified">224   /*                                                                       */</span>
<span class="line-modified">225   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">226   /*    slot   :: A handle to the source glyph slot.                       */</span>
<span class="line-modified">227   /*                                                                       */</span>
<span class="line-modified">228   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">229   /*    aglyph :: A handle to the glyph object.                            */</span>
<span class="line-modified">230   /*                                                                       */</span>
<span class="line-modified">231   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">232   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">233   /*                                                                       */</span>
<span class="line-modified">234   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">235   /*    Because `*aglyph-&gt;advance.x&#39; and &#39;*aglyph-&gt;advance.y&#39; are 16.16    */</span>
<span class="line-modified">236   /*    fixed-point numbers, `slot-&gt;advance.x&#39; and `slot-&gt;advance.y&#39;       */</span>
<span class="line-modified">237   /*    (which are in 26.6 fixed-point format) must be in the range        */</span>
<span class="line-modified">238   /*    ]-32768;32768[.                                                    */</span>
<span class="line-modified">239   /*                                                                       */</span>

































240   FT_EXPORT( FT_Error )
241   FT_Get_Glyph( FT_GlyphSlot  slot,
242                 FT_Glyph     *aglyph );
243 
244 
<a name="10" id="anc10"></a><span class="line-modified">245   /*************************************************************************/</span>
<span class="line-modified">246   /*                                                                       */</span>
<span class="line-modified">247   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">248   /*    FT_Glyph_Copy                                                      */</span>
<span class="line-modified">249   /*                                                                       */</span>
<span class="line-modified">250   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">251   /*    A function used to copy a glyph image.  Note that the created      */</span>
<span class="line-modified">252   /*    @FT_Glyph object must be released with @FT_Done_Glyph.             */</span>
<span class="line-modified">253   /*                                                                       */</span>
<span class="line-modified">254   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">255   /*    source :: A handle to the source glyph object.                     */</span>
<span class="line-modified">256   /*                                                                       */</span>
<span class="line-modified">257   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">258   /*    target :: A handle to the target glyph object.  0~in case of       */</span>
<span class="line-modified">259   /*              error.                                                   */</span>
<span class="line-modified">260   /*                                                                       */</span>
<span class="line-modified">261   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">262   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">263   /*                                                                       */</span>

264   FT_EXPORT( FT_Error )
265   FT_Glyph_Copy( FT_Glyph   source,
266                  FT_Glyph  *target );
267 
268 
<a name="11" id="anc11"></a><span class="line-modified">269   /*************************************************************************/</span>
<span class="line-modified">270   /*                                                                       */</span>
<span class="line-modified">271   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">272   /*    FT_Glyph_Transform                                                 */</span>
<span class="line-modified">273   /*                                                                       */</span>
<span class="line-modified">274   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">275   /*    Transform a glyph image if its format is scalable.                 */</span>
<span class="line-modified">276   /*                                                                       */</span>
<span class="line-modified">277   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">278   /*    glyph  :: A handle to the target glyph object.                     */</span>
<span class="line-modified">279   /*                                                                       */</span>
<span class="line-modified">280   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">281   /*    matrix :: A pointer to a 2x2 matrix to apply.                      */</span>
<span class="line-modified">282   /*                                                                       */</span>
<span class="line-modified">283   /*    delta  :: A pointer to a 2d vector to apply.  Coordinates are      */</span>
<span class="line-modified">284   /*              expressed in 1/64th of a pixel.                          */</span>
<span class="line-modified">285   /*                                                                       */</span>
<span class="line-modified">286   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">287   /*    FreeType error code (if not 0, the glyph format is not scalable).  */</span>
<span class="line-modified">288   /*                                                                       */</span>
<span class="line-modified">289   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">290   /*    The 2x2 transformation matrix is also applied to the glyph&#39;s       */</span>
<span class="line-modified">291   /*    advance vector.                                                    */</span>
<span class="line-modified">292   /*                                                                       */</span>



293   FT_EXPORT( FT_Error )
294   FT_Glyph_Transform( FT_Glyph    glyph,
295                       FT_Matrix*  matrix,
296                       FT_Vector*  delta );
297 
298 
<a name="12" id="anc12"></a><span class="line-modified">299   /*************************************************************************/</span>
<span class="line-modified">300   /*                                                                       */</span>
<span class="line-modified">301   /* &lt;Enum&gt;                                                                */</span>
<span class="line-modified">302   /*    FT_Glyph_BBox_Mode                                                 */</span>
<span class="line-modified">303   /*                                                                       */</span>
<span class="line-modified">304   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">305   /*    The mode how the values of @FT_Glyph_Get_CBox are returned.        */</span>
<span class="line-modified">306   /*                                                                       */</span>
<span class="line-modified">307   /* &lt;Values&gt;                                                              */</span>
<span class="line-modified">308   /*    FT_GLYPH_BBOX_UNSCALED ::                                          */</span>
<span class="line-modified">309   /*      Return unscaled font units.                                      */</span>
<span class="line-modified">310   /*                                                                       */</span>
<span class="line-modified">311   /*    FT_GLYPH_BBOX_SUBPIXELS ::                                         */</span>
<span class="line-modified">312   /*      Return unfitted 26.6 coordinates.                                */</span>
<span class="line-modified">313   /*                                                                       */</span>
<span class="line-modified">314   /*    FT_GLYPH_BBOX_GRIDFIT ::                                           */</span>
<span class="line-modified">315   /*      Return grid-fitted 26.6 coordinates.                             */</span>
<span class="line-modified">316   /*                                                                       */</span>
<span class="line-modified">317   /*    FT_GLYPH_BBOX_TRUNCATE ::                                          */</span>
<span class="line-modified">318   /*      Return coordinates in integer pixels.                            */</span>
<span class="line-modified">319   /*                                                                       */</span>
<span class="line-modified">320   /*    FT_GLYPH_BBOX_PIXELS ::                                            */</span>
<span class="line-modified">321   /*      Return grid-fitted pixel coordinates.                            */</span>
<span class="line-modified">322   /*                                                                       */</span>
323   typedef enum  FT_Glyph_BBox_Mode_
324   {
325     FT_GLYPH_BBOX_UNSCALED  = 0,
326     FT_GLYPH_BBOX_SUBPIXELS = 0,
327     FT_GLYPH_BBOX_GRIDFIT   = 1,
328     FT_GLYPH_BBOX_TRUNCATE  = 2,
329     FT_GLYPH_BBOX_PIXELS    = 3
330 
331   } FT_Glyph_BBox_Mode;
332 
333 
334   /* these constants are deprecated; use the corresponding */
<a name="13" id="anc13"></a><span class="line-modified">335   /* `FT_Glyph_BBox_Mode&#39; values instead                   */</span>
336 #define ft_glyph_bbox_unscaled   FT_GLYPH_BBOX_UNSCALED
337 #define ft_glyph_bbox_subpixels  FT_GLYPH_BBOX_SUBPIXELS
338 #define ft_glyph_bbox_gridfit    FT_GLYPH_BBOX_GRIDFIT
339 #define ft_glyph_bbox_truncate   FT_GLYPH_BBOX_TRUNCATE
340 #define ft_glyph_bbox_pixels     FT_GLYPH_BBOX_PIXELS
341 
342 
<a name="14" id="anc14"></a><span class="line-modified">343   /*************************************************************************/</span>
<span class="line-modified">344   /*                                                                       */</span>
<span class="line-modified">345   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">346   /*    FT_Glyph_Get_CBox                                                  */</span>
<span class="line-modified">347   /*                                                                       */</span>
<span class="line-modified">348   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">349   /*    Return a glyph&#39;s `control box&#39;.  The control box encloses all the  */</span>
<span class="line-modified">350   /*    outline&#39;s points, including Bezier control points.  Though it      */</span>
<span class="line-modified">351   /*    coincides with the exact bounding box for most glyphs, it can be   */</span>
<span class="line-modified">352   /*    slightly larger in some situations (like when rotating an outline  */</span>
<span class="line-modified">353   /*    that contains Bezier outside arcs).                                */</span>
<span class="line-modified">354   /*                                                                       */</span>
<span class="line-modified">355   /*    Computing the control box is very fast, while getting the bounding */</span>
<span class="line-modified">356   /*    box can take much more time as it needs to walk over all segments  */</span>
<span class="line-modified">357   /*    and arcs in the outline.  To get the latter, you can use the       */</span>
<span class="line-modified">358   /*    `ftbbox&#39; component, which is dedicated to this single task.        */</span>
<span class="line-modified">359   /*                                                                       */</span>
<span class="line-modified">360   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">361   /*    glyph :: A handle to the source glyph object.                      */</span>
<span class="line-modified">362   /*                                                                       */</span>
<span class="line-modified">363   /*    mode  :: The mode that indicates how to interpret the returned     */</span>
<span class="line-modified">364   /*             bounding box values.                                      */</span>
<span class="line-modified">365   /*                                                                       */</span>
<span class="line-modified">366   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">367   /*    acbox :: The glyph coordinate bounding box.  Coordinates are       */</span>
<span class="line-modified">368   /*             expressed in 1/64th of pixels if it is grid-fitted.       */</span>
<span class="line-modified">369   /*                                                                       */</span>
<span class="line-modified">370   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">371   /*    Coordinates are relative to the glyph origin, using the y~upwards  */</span>
<span class="line-modified">372   /*    convention.                                                        */</span>
<span class="line-modified">373   /*                                                                       */</span>
<span class="line-modified">374   /*    If the glyph has been loaded with @FT_LOAD_NO_SCALE, `bbox_mode&#39;   */</span>
<span class="line-modified">375   /*    must be set to @FT_GLYPH_BBOX_UNSCALED to get unscaled font        */</span>
<span class="line-modified">376   /*    units in 26.6 pixel format.  The value @FT_GLYPH_BBOX_SUBPIXELS    */</span>
<span class="line-modified">377   /*    is another name for this constant.                                 */</span>
<span class="line-modified">378   /*                                                                       */</span>
<span class="line-modified">379   /*    If the font is tricky and the glyph has been loaded with           */</span>
<span class="line-modified">380   /*    @FT_LOAD_NO_SCALE, the resulting CBox is meaningless.  To get      */</span>
<span class="line-modified">381   /*    reasonable values for the CBox it is necessary to load the glyph   */</span>
<span class="line-modified">382   /*    at a large ppem value (so that the hinting instructions can        */</span>
<span class="line-modified">383   /*    properly shift and scale the subglyphs), then extracting the CBox, */</span>
<span class="line-modified">384   /*    which can be eventually converted back to font units.              */</span>
<span class="line-modified">385   /*                                                                       */</span>
<span class="line-modified">386   /*    Note that the maximum coordinates are exclusive, which means that  */</span>
<span class="line-modified">387   /*    one can compute the width and height of the glyph image (be it in  */</span>
<span class="line-modified">388   /*    integer or 26.6 pixels) as:                                        */</span>
<span class="line-modified">389   /*                                                                       */</span>
<span class="line-modified">390   /*    {                                                                  */</span>
<span class="line-modified">391   /*      width  = bbox.xMax - bbox.xMin;                                  */</span>
<span class="line-modified">392   /*      height = bbox.yMax - bbox.yMin;                                  */</span>
<span class="line-modified">393   /*    }                                                                  */</span>
<span class="line-modified">394   /*                                                                       */</span>
<span class="line-modified">395   /*    Note also that for 26.6 coordinates, if `bbox_mode&#39; is set to      */</span>
<span class="line-modified">396   /*    @FT_GLYPH_BBOX_GRIDFIT, the coordinates will also be grid-fitted,  */</span>
<span class="line-modified">397   /*    which corresponds to:                                              */</span>
<span class="line-modified">398   /*                                                                       */</span>
<span class="line-modified">399   /*    {                                                                  */</span>
<span class="line-modified">400   /*      bbox.xMin = FLOOR(bbox.xMin);                                    */</span>
<span class="line-modified">401   /*      bbox.yMin = FLOOR(bbox.yMin);                                    */</span>
<span class="line-modified">402   /*      bbox.xMax = CEILING(bbox.xMax);                                  */</span>
<span class="line-modified">403   /*      bbox.yMax = CEILING(bbox.yMax);                                  */</span>
<span class="line-modified">404   /*    }                                                                  */</span>
<span class="line-modified">405   /*                                                                       */</span>
<span class="line-modified">406   /*    To get the bbox in pixel coordinates, set `bbox_mode&#39; to           */</span>
<span class="line-modified">407   /*    @FT_GLYPH_BBOX_TRUNCATE.                                           */</span>
<span class="line-modified">408   /*                                                                       */</span>
<span class="line-modified">409   /*    To get the bbox in grid-fitted pixel coordinates, set `bbox_mode&#39;  */</span>
<span class="line-modified">410   /*    to @FT_GLYPH_BBOX_PIXELS.                                          */</span>
<span class="line-modified">411   /*                                                                       */</span>



412   FT_EXPORT( void )
413   FT_Glyph_Get_CBox( FT_Glyph  glyph,
414                      FT_UInt   bbox_mode,
415                      FT_BBox  *acbox );
416 
417 
<a name="15" id="anc15"></a><span class="line-modified">418   /*************************************************************************/</span>
<span class="line-modified">419   /*                                                                       */</span>
<span class="line-modified">420   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">421   /*    FT_Glyph_To_Bitmap                                                 */</span>
<span class="line-modified">422   /*                                                                       */</span>
<span class="line-modified">423   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">424   /*    Convert a given glyph object to a bitmap glyph object.             */</span>
<span class="line-modified">425   /*                                                                       */</span>
<span class="line-modified">426   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">427   /*    the_glyph   :: A pointer to a handle to the target glyph.          */</span>
<span class="line-modified">428   /*                                                                       */</span>
<span class="line-modified">429   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">430   /*    render_mode :: An enumeration that describes how the data is       */</span>
<span class="line-modified">431   /*                   rendered.                                           */</span>
<span class="line-modified">432   /*                                                                       */</span>
<span class="line-modified">433   /*    origin      :: A pointer to a vector used to translate the glyph   */</span>
<span class="line-modified">434   /*                   image before rendering.  Can be~0 (if no            */</span>
<span class="line-modified">435   /*                   translation).  The origin is expressed in           */</span>
<span class="line-modified">436   /*                   26.6 pixels.                                        */</span>
<span class="line-modified">437   /*                                                                       */</span>
<span class="line-modified">438   /*    destroy     :: A boolean that indicates that the original glyph    */</span>
<span class="line-modified">439   /*                   image should be destroyed by this function.  It is  */</span>
<span class="line-modified">440   /*                   never destroyed in case of error.                   */</span>
<span class="line-modified">441   /*                                                                       */</span>
<span class="line-modified">442   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">443   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">444   /*                                                                       */</span>
<span class="line-modified">445   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">446   /*    This function does nothing if the glyph format isn&#39;t scalable.     */</span>
<span class="line-modified">447   /*                                                                       */</span>
<span class="line-modified">448   /*    The glyph image is translated with the `origin&#39; vector before      */</span>
<span class="line-modified">449   /*    rendering.                                                         */</span>
<span class="line-modified">450   /*                                                                       */</span>
<span class="line-modified">451   /*    The first parameter is a pointer to an @FT_Glyph handle, that will */</span>
<span class="line-modified">452   /*    be _replaced_ by this function (with newly allocated data).        */</span>
<span class="line-modified">453   /*    Typically, you would use (omitting error handling):                */</span>
<span class="line-modified">454   /*                                                                       */</span>
<span class="line-modified">455   /*                                                                       */</span>
<span class="line-modified">456   /*      {                                                                */</span>
<span class="line-modified">457   /*        FT_Glyph        glyph;                                         */</span>
<span class="line-modified">458   /*        FT_BitmapGlyph  glyph_bitmap;                                  */</span>
<span class="line-modified">459   /*                                                                       */</span>
<span class="line-modified">460   /*                                                                       */</span>
<span class="line-modified">461   /*        // load glyph                                                  */</span>
<span class="line-modified">462   /*        error = FT_Load_Char( face, glyph_index, FT_LOAD_DEFAULT );    */</span>
<span class="line-modified">463   /*                                                                       */</span>
<span class="line-modified">464   /*        // extract glyph image                                         */</span>
<span class="line-modified">465   /*        error = FT_Get_Glyph( face-&gt;glyph, &amp;glyph );                   */</span>
<span class="line-modified">466   /*                                                                       */</span>
<span class="line-modified">467   /*        // convert to a bitmap (default render mode + destroying old)  */</span>
<span class="line-modified">468   /*        if ( glyph-&gt;format != FT_GLYPH_FORMAT_BITMAP )                 */</span>
<span class="line-modified">469   /*        {                                                              */</span>
<span class="line-modified">470   /*          error = FT_Glyph_To_Bitmap( &amp;glyph, FT_RENDER_MODE_NORMAL,   */</span>
<span class="line-modified">471   /*                                      0, 1 );                          */</span>
<span class="line-modified">472   /*          if ( error ) // `glyph&#39; unchanged                            */</span>
<span class="line-modified">473   /*            ...                                                        */</span>
<span class="line-modified">474   /*        }                                                              */</span>
<span class="line-modified">475   /*                                                                       */</span>
<span class="line-modified">476   /*        // access bitmap content by typecasting                        */</span>
<span class="line-modified">477   /*        glyph_bitmap = (FT_BitmapGlyph)glyph;                          */</span>
<span class="line-modified">478   /*                                                                       */</span>
<span class="line-modified">479   /*        // do funny stuff with it, like blitting/drawing               */</span>
<span class="line-modified">480   /*        ...                                                            */</span>
<span class="line-modified">481   /*                                                                       */</span>
<span class="line-modified">482   /*        // discard glyph image (bitmap or not)                         */</span>
<span class="line-modified">483   /*        FT_Done_Glyph( glyph );                                        */</span>
<span class="line-modified">484   /*      }                                                                */</span>
<span class="line-modified">485   /*                                                                       */</span>
<span class="line-modified">486   /*                                                                       */</span>
<span class="line-modified">487   /*    Here another example, again without error handling:                */</span>
<span class="line-modified">488   /*                                                                       */</span>
<span class="line-modified">489   /*                                                                       */</span>
<span class="line-modified">490   /*      {                                                                */</span>
<span class="line-modified">491   /*        FT_Glyph  glyphs[MAX_GLYPHS]                                   */</span>
<span class="line-modified">492   /*                                                                       */</span>
<span class="line-modified">493   /*                                                                       */</span>
<span class="line-modified">494   /*        ...                                                            */</span>
<span class="line-modified">495   /*                                                                       */</span>
<span class="line-modified">496   /*        for ( idx = 0; i &lt; MAX_GLYPHS; i++ )                           */</span>
<span class="line-modified">497   /*          error = FT_Load_Glyph( face, idx, FT_LOAD_DEFAULT ) ||       */</span>
<span class="line-modified">498   /*                  FT_Get_Glyph ( face-&gt;glyph, &amp;glyph[idx] );           */</span>
<span class="line-modified">499   /*                                                                       */</span>
<span class="line-modified">500   /*        ...                                                            */</span>
<span class="line-modified">501   /*                                                                       */</span>
<span class="line-modified">502   /*        for ( idx = 0; i &lt; MAX_GLYPHS; i++ )                           */</span>
<span class="line-modified">503   /*        {                                                              */</span>
<span class="line-modified">504   /*          FT_Glyph  bitmap = glyphs[idx];                              */</span>
<span class="line-modified">505   /*                                                                       */</span>
<span class="line-modified">506   /*                                                                       */</span>
<span class="line-modified">507   /*          ...                                                          */</span>
<span class="line-modified">508   /*                                                                       */</span>
<span class="line-modified">509   /*          // after this call, `bitmap&#39; no longer points into           */</span>
<span class="line-modified">510   /*          // the `glyphs&#39; array (and the old value isn&#39;t destroyed)    */</span>
<span class="line-modified">511   /*          FT_Glyph_To_Bitmap( &amp;bitmap, FT_RENDER_MODE_MONO, 0, 0 );    */</span>
<span class="line-modified">512   /*                                                                       */</span>
<span class="line-modified">513   /*          ...                                                          */</span>
<span class="line-modified">514   /*                                                                       */</span>
<span class="line-modified">515   /*          FT_Done_Glyph( bitmap );                                     */</span>
<span class="line-modified">516   /*        }                                                              */</span>
<span class="line-modified">517   /*                                                                       */</span>
<span class="line-modified">518   /*        ...                                                            */</span>
<span class="line-modified">519   /*                                                                       */</span>
<span class="line-modified">520   /*        for ( idx = 0; i &lt; MAX_GLYPHS; i++ )                           */</span>
<span class="line-modified">521   /*          FT_Done_Glyph( glyphs[idx] );                                */</span>
<span class="line-removed">522   /*      }                                                                */</span>
<span class="line-removed">523   /*                                                                       */</span>
524   FT_EXPORT( FT_Error )
525   FT_Glyph_To_Bitmap( FT_Glyph*       the_glyph,
526                       FT_Render_Mode  render_mode,
527                       FT_Vector*      origin,
528                       FT_Bool         destroy );
529 
530 
<a name="16" id="anc16"></a><span class="line-modified">531   /*************************************************************************/</span>
<span class="line-modified">532   /*                                                                       */</span>
<span class="line-modified">533   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">534   /*    FT_Done_Glyph                                                      */</span>
<span class="line-modified">535   /*                                                                       */</span>
<span class="line-modified">536   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">537   /*    Destroy a given glyph.                                             */</span>
<span class="line-modified">538   /*                                                                       */</span>
<span class="line-modified">539   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">540   /*    glyph :: A handle to the target glyph object.                      */</span>
<span class="line-modified">541   /*                                                                       */</span>

542   FT_EXPORT( void )
543   FT_Done_Glyph( FT_Glyph  glyph );
544 
545   /* */
546 
547 
548   /* other helpful functions */
549 
<a name="17" id="anc17"></a><span class="line-modified">550   /*************************************************************************/</span>
<span class="line-modified">551   /*                                                                       */</span>
<span class="line-modified">552   /* &lt;Section&gt;                                                             */</span>
<span class="line-modified">553   /*    computations                                                       */</span>
<span class="line-modified">554   /*                                                                       */</span>
<span class="line-modified">555   /*************************************************************************/</span>
<span class="line-modified">556 </span>
<span class="line-modified">557 </span>
<span class="line-modified">558   /*************************************************************************/</span>
<span class="line-modified">559   /*                                                                       */</span>
<span class="line-modified">560   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">561   /*    FT_Matrix_Multiply                                                 */</span>
<span class="line-modified">562   /*                                                                       */</span>
<span class="line-modified">563   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">564   /*    Perform the matrix operation `b = a*b&#39;.                            */</span>
<span class="line-modified">565   /*                                                                       */</span>
<span class="line-modified">566   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">567   /*    a :: A pointer to matrix `a&#39;.                                      */</span>
<span class="line-modified">568   /*                                                                       */</span>
<span class="line-modified">569   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">570   /*    b :: A pointer to matrix `b&#39;.                                      */</span>
<span class="line-modified">571   /*                                                                       */</span>
<span class="line-modified">572   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">573   /*    The result is undefined if either `a&#39; or `b&#39; is zero.              */</span>
<span class="line-modified">574   /*                                                                       */</span>
<span class="line-modified">575   /*    Since the function uses wrap-around arithmetic, results become     */</span>
<span class="line-modified">576   /*    meaningless if the arguments are very large.                       */</span>
<span class="line-modified">577   /*                                                                       */</span>


578   FT_EXPORT( void )
579   FT_Matrix_Multiply( const FT_Matrix*  a,
580                       FT_Matrix*        b );
581 
582 
<a name="18" id="anc18"></a><span class="line-modified">583   /*************************************************************************/</span>
<span class="line-modified">584   /*                                                                       */</span>
<span class="line-modified">585   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">586   /*    FT_Matrix_Invert                                                   */</span>
<span class="line-modified">587   /*                                                                       */</span>
<span class="line-modified">588   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">589   /*    Invert a 2x2 matrix.  Return an error if it can&#39;t be inverted.     */</span>
<span class="line-modified">590   /*                                                                       */</span>
<span class="line-modified">591   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">592   /*    matrix :: A pointer to the target matrix.  Remains untouched in    */</span>
<span class="line-modified">593   /*              case of error.                                           */</span>
<span class="line-modified">594   /*                                                                       */</span>
<span class="line-modified">595   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">596   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">597   /*                                                                       */</span>
598   FT_EXPORT( FT_Error )
599   FT_Matrix_Invert( FT_Matrix*  matrix );
600 
601   /* */
602 
603 
604 FT_END_HEADER
605 
606 #endif /* FTGLYPH_H_ */
607 
608 
609 /* END */
610 
611 
612 /* Local Variables: */
613 /* coding: utf-8    */
614 /* End:             */
<a name="19" id="anc19"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="19" type="hidden" />
</body>
</html>