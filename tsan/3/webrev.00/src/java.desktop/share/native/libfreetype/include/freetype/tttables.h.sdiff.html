<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/share/native/libfreetype/include/freetype/tttables.h</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="ttnameid.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="tttags.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfreetype/include/freetype/tttables.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
<span class="line-modified">  1 /***************************************************************************/</span>
<span class="line-modified">  2 /*                                                                         */</span>
<span class="line-modified">  3 /*  tttables.h                                                             */</span>
<span class="line-modified">  4 /*                                                                         */</span>
<span class="line-modified">  5 /*    Basic SFNT/TrueType tables definitions and interface                 */</span>
<span class="line-modified">  6 /*    (specification only).                                                */</span>
<span class="line-modified">  7 /*                                                                         */</span>
<span class="line-modified">  8 /*  Copyright 1996-2018 by                                                 */</span>
<span class="line-modified">  9 /*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */</span>
<span class="line-modified"> 10 /*                                                                         */</span>
<span class="line-modified"> 11 /*  This file is part of the FreeType project, and may only be used,       */</span>
<span class="line-modified"> 12 /*  modified, and distributed under the terms of the FreeType project      */</span>
<span class="line-modified"> 13 /*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */</span>
<span class="line-modified"> 14 /*  this file you indicate that you have read the license and              */</span>
<span class="line-modified"> 15 /*  understand and accept it fully.                                        */</span>
<span class="line-modified"> 16 /*                                                                         */</span>
<span class="line-modified"> 17 /***************************************************************************/</span>
 18 
 19 
 20 #ifndef TTTABLES_H_
 21 #define TTTABLES_H_
 22 
 23 
 24 #include &lt;ft2build.h&gt;
 25 #include FT_FREETYPE_H
 26 
 27 #ifdef FREETYPE_H
 28 #error &quot;freetype.h of FreeType 1 has been loaded!&quot;
 29 #error &quot;Please fix the directory search order for header files&quot;
 30 #error &quot;so that freetype.h of FreeType 2 is found first.&quot;
 31 #endif
 32 
 33 
 34 FT_BEGIN_HEADER
 35 
<span class="line-modified"> 36   /*************************************************************************/</span>
<span class="line-modified"> 37   /*                                                                       */</span>
<span class="line-modified"> 38   /* &lt;Section&gt;                                                             */</span>
<span class="line-modified"> 39   /*    truetype_tables                                                    */</span>
<span class="line-modified"> 40   /*                                                                       */</span>
<span class="line-modified"> 41   /* &lt;Title&gt;                                                               */</span>
<span class="line-modified"> 42   /*    TrueType Tables                                                    */</span>
<span class="line-modified"> 43   /*                                                                       */</span>
<span class="line-modified"> 44   /* &lt;Abstract&gt;                                                            */</span>
<span class="line-modified"> 45   /*    TrueType specific table types and functions.                       */</span>
<span class="line-modified"> 46   /*                                                                       */</span>
<span class="line-modified"> 47   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified"> 48   /*    This section contains definitions of some basic tables specific to */</span>
<span class="line-modified"> 49   /*    TrueType and OpenType as well as some routines used to access and  */</span>
<span class="line-modified"> 50   /*    process them.                                                      */</span>
<span class="line-modified"> 51   /*                                                                       */</span>
<span class="line-modified"> 52   /* &lt;Order&gt;                                                               */</span>
<span class="line-modified"> 53   /*    TT_Header                                                          */</span>
<span class="line-modified"> 54   /*    TT_HoriHeader                                                      */</span>
<span class="line-modified"> 55   /*    TT_VertHeader                                                      */</span>
<span class="line-modified"> 56   /*    TT_OS2                                                             */</span>
<span class="line-modified"> 57   /*    TT_Postscript                                                      */</span>
<span class="line-modified"> 58   /*    TT_PCLT                                                            */</span>
<span class="line-modified"> 59   /*    TT_MaxProfile                                                      */</span>
<span class="line-modified"> 60   /*                                                                       */</span>
<span class="line-modified"> 61   /*    FT_Sfnt_Tag                                                        */</span>
<span class="line-modified"> 62   /*    FT_Get_Sfnt_Table                                                  */</span>
<span class="line-modified"> 63   /*    FT_Load_Sfnt_Table                                                 */</span>
<span class="line-modified"> 64   /*    FT_Sfnt_Table_Info                                                 */</span>
<span class="line-modified"> 65   /*                                                                       */</span>
<span class="line-modified"> 66   /*    FT_Get_CMap_Language_ID                                            */</span>
<span class="line-modified"> 67   /*    FT_Get_CMap_Format                                                 */</span>
<span class="line-modified"> 68   /*                                                                       */</span>
<span class="line-modified"> 69   /*    FT_PARAM_TAG_UNPATENTED_HINTING                                    */</span>
<span class="line-modified"> 70   /*                                                                       */</span>
<span class="line-modified"> 71   /*************************************************************************/</span>
<span class="line-modified"> 72 </span>
<span class="line-modified"> 73 </span>
<span class="line-modified"> 74   /*************************************************************************/</span>
<span class="line-modified"> 75   /*                                                                       */</span>
<span class="line-modified"> 76   /* &lt;Struct&gt;                                                              */</span>
<span class="line-modified"> 77   /*    TT_Header                                                          */</span>
<span class="line-modified"> 78   /*                                                                       */</span>
<span class="line-modified"> 79   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified"> 80   /*    A structure to model a TrueType font header table.  All fields     */</span>
<span class="line-modified"> 81   /*    follow the OpenType specification.                                 */</span>
<span class="line-modified"> 82   /*                                                                       */</span>


 83   typedef struct  TT_Header_
 84   {
 85     FT_Fixed   Table_Version;
 86     FT_Fixed   Font_Revision;
 87 
 88     FT_Long    CheckSum_Adjust;
 89     FT_Long    Magic_Number;
 90 
 91     FT_UShort  Flags;
 92     FT_UShort  Units_Per_EM;
 93 
<span class="line-modified"> 94     FT_Long    Created [2];</span>
<span class="line-modified"> 95     FT_Long    Modified[2];</span>
 96 
 97     FT_Short   xMin;
 98     FT_Short   yMin;
 99     FT_Short   xMax;
100     FT_Short   yMax;
101 
102     FT_UShort  Mac_Style;
103     FT_UShort  Lowest_Rec_PPEM;
104 
105     FT_Short   Font_Direction;
106     FT_Short   Index_To_Loc_Format;
107     FT_Short   Glyph_Data_Format;
108 
109   } TT_Header;
110 
111 
<span class="line-modified">112   /*************************************************************************/</span>
<span class="line-modified">113   /*                                                                       */</span>
<span class="line-modified">114   /* &lt;Struct&gt;                                                              */</span>
<span class="line-modified">115   /*    TT_HoriHeader                                                      */</span>
<span class="line-modified">116   /*                                                                       */</span>
<span class="line-modified">117   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">118   /*    A structure to model a TrueType horizontal header, the `hhea&#39;      */</span>
<span class="line-modified">119   /*    table, as well as the corresponding horizontal metrics table,      */</span>
<span class="line-modified">120   /*    `hmtx&#39;.                                                            */</span>
<span class="line-modified">121   /*                                                                       */</span>
<span class="line-modified">122   /* &lt;Fields&gt;                                                              */</span>
<span class="line-modified">123   /*    Version                :: The table version.                       */</span>
<span class="line-modified">124   /*                                                                       */</span>
<span class="line-modified">125   /*    Ascender               :: The font&#39;s ascender, i.e., the distance  */</span>
<span class="line-modified">126   /*                              from the baseline to the top-most of all */</span>
<span class="line-modified">127   /*                              glyph points found in the font.          */</span>
<span class="line-modified">128   /*                                                                       */</span>
<span class="line-modified">129   /*                              This value is invalid in many fonts, as  */</span>
<span class="line-modified">130   /*                              it is usually set by the font designer,  */</span>
<span class="line-modified">131   /*                              and often reflects only a portion of the */</span>
<span class="line-modified">132   /*                              glyphs found in the font (maybe ASCII).  */</span>
<span class="line-modified">133   /*                                                                       */</span>
<span class="line-modified">134   /*                              You should use the `sTypoAscender&#39; field */</span>
<span class="line-modified">135   /*                              of the `OS/2&#39; table instead if you want  */</span>
<span class="line-modified">136   /*                              the correct one.                         */</span>
<span class="line-modified">137   /*                                                                       */</span>
<span class="line-modified">138   /*    Descender              :: The font&#39;s descender, i.e., the distance */</span>
<span class="line-modified">139   /*                              from the baseline to the bottom-most of  */</span>
<span class="line-modified">140   /*                              all glyph points found in the font.  It  */</span>
<span class="line-modified">141   /*                              is negative.                             */</span>
<span class="line-modified">142   /*                                                                       */</span>
<span class="line-modified">143   /*                              This value is invalid in many fonts, as  */</span>
<span class="line-modified">144   /*                              it is usually set by the font designer,  */</span>
<span class="line-modified">145   /*                              and often reflects only a portion of the */</span>
<span class="line-modified">146   /*                              glyphs found in the font (maybe ASCII).  */</span>
<span class="line-modified">147   /*                                                                       */</span>
<span class="line-modified">148   /*                              You should use the `sTypoDescender&#39;      */</span>
<span class="line-modified">149   /*                              field of the `OS/2&#39; table instead if you */</span>
<span class="line-modified">150   /*                              want the correct one.                    */</span>
<span class="line-modified">151   /*                                                                       */</span>
<span class="line-modified">152   /*    Line_Gap               :: The font&#39;s line gap, i.e., the distance  */</span>
<span class="line-modified">153   /*                              to add to the ascender and descender to  */</span>
<span class="line-modified">154   /*                              get the BTB, i.e., the                   */</span>
<span class="line-modified">155   /*                              baseline-to-baseline distance for the    */</span>
<span class="line-modified">156   /*                              font.                                    */</span>
<span class="line-modified">157   /*                                                                       */</span>
<span class="line-modified">158   /*    advance_Width_Max      :: This field is the maximum of all advance */</span>
<span class="line-modified">159   /*                              widths found in the font.  It can be     */</span>
<span class="line-modified">160   /*                              used to compute the maximum width of an  */</span>
<span class="line-modified">161   /*                              arbitrary string of text.                */</span>
<span class="line-modified">162   /*                                                                       */</span>
<span class="line-modified">163   /*    min_Left_Side_Bearing  :: The minimum left side bearing of all     */</span>
<span class="line-modified">164   /*                              glyphs within the font.                  */</span>
<span class="line-modified">165   /*                                                                       */</span>
<span class="line-modified">166   /*    min_Right_Side_Bearing :: The minimum right side bearing of all    */</span>
<span class="line-modified">167   /*                              glyphs within the font.                  */</span>
<span class="line-modified">168   /*                                                                       */</span>
<span class="line-modified">169   /*    xMax_Extent            :: The maximum horizontal extent (i.e., the */</span>
<span class="line-modified">170   /*                              `width&#39; of a glyph&#39;s bounding box) for   */</span>
<span class="line-modified">171   /*                              all glyphs in the font.                  */</span>
<span class="line-modified">172   /*                                                                       */</span>
<span class="line-modified">173   /*    caret_Slope_Rise       :: The rise coefficient of the cursor&#39;s     */</span>
<span class="line-modified">174   /*                              slope of the cursor (slope=rise/run).    */</span>
<span class="line-modified">175   /*                                                                       */</span>
<span class="line-modified">176   /*    caret_Slope_Run        :: The run coefficient of the cursor&#39;s      */</span>
<span class="line-modified">177   /*                              slope.                                   */</span>
<span class="line-modified">178   /*                                                                       */</span>
<span class="line-modified">179   /*    caret_Offset           :: The cursor&#39;s offset for slanted fonts.   */</span>
<span class="line-modified">180   /*                                                                       */</span>
<span class="line-modified">181   /*    Reserved               :: 8~reserved bytes.                        */</span>
<span class="line-modified">182   /*                                                                       */</span>
<span class="line-modified">183   /*    metric_Data_Format     :: Always~0.                                */</span>
<span class="line-modified">184   /*                                                                       */</span>
<span class="line-modified">185   /*    number_Of_HMetrics     :: Number of HMetrics entries in the `hmtx&#39; */</span>
<span class="line-modified">186   /*                              table -- this value can be smaller than  */</span>
<span class="line-modified">187   /*                              the total number of glyphs in the font.  */</span>
<span class="line-modified">188   /*                                                                       */</span>
<span class="line-modified">189   /*    long_metrics           :: A pointer into the `hmtx&#39; table.         */</span>
<span class="line-modified">190   /*                                                                       */</span>
<span class="line-modified">191   /*    short_metrics          :: A pointer into the `hmtx&#39; table.         */</span>
<span class="line-modified">192   /*                                                                       */</span>
<span class="line-modified">193   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">194   /*    For an OpenType variation font, the values of the following fields */</span>
<span class="line-modified">195   /*    can change after a call to @FT_Set_Var_Design_Coordinates (and     */</span>
<span class="line-modified">196   /*    friends) if the font contains an `MVAR&#39; table: `caret_Slope_Rise&#39;, */</span>
<span class="line-modified">197   /*    `caret_Slope_Run&#39;, and `caret_Offset&#39;.                             */</span>
<span class="line-modified">198   /*                                                                       */</span>
199   typedef struct  TT_HoriHeader_
200   {
201     FT_Fixed   Version;
202     FT_Short   Ascender;
203     FT_Short   Descender;
204     FT_Short   Line_Gap;
205 
206     FT_UShort  advance_Width_Max;      /* advance width maximum */
207 
208     FT_Short   min_Left_Side_Bearing;  /* minimum left-sb       */
209     FT_Short   min_Right_Side_Bearing; /* minimum right-sb      */
210     FT_Short   xMax_Extent;            /* xmax extents          */
211     FT_Short   caret_Slope_Rise;
212     FT_Short   caret_Slope_Run;
213     FT_Short   caret_Offset;
214 
215     FT_Short   Reserved[4];
216 
217     FT_Short   metric_Data_Format;
218     FT_UShort  number_Of_HMetrics;
219 
220     /* The following fields are not defined by the OpenType specification */
221     /* but they are used to connect the metrics header to the relevant    */
<span class="line-modified">222     /* `hmtx&#39; table.                                                      */</span>
223 
224     void*      long_metrics;
225     void*      short_metrics;
226 
227   } TT_HoriHeader;
228 
229 
<span class="line-modified">230   /*************************************************************************/</span>
<span class="line-modified">231   /*                                                                       */</span>
<span class="line-modified">232   /* &lt;Struct&gt;                                                              */</span>
<span class="line-modified">233   /*    TT_VertHeader                                                      */</span>
<span class="line-modified">234   /*                                                                       */</span>
<span class="line-modified">235   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">236   /*    A structure used to model a TrueType vertical header, the `vhea&#39;   */</span>
<span class="line-modified">237   /*    table, as well as the corresponding vertical metrics table,        */</span>
<span class="line-modified">238   /*    `vmtx&#39;.                                                            */</span>
<span class="line-modified">239   /*                                                                       */</span>
<span class="line-modified">240   /* &lt;Fields&gt;                                                              */</span>
<span class="line-modified">241   /*    Version                 :: The table version.                      */</span>
<span class="line-modified">242   /*                                                                       */</span>
<span class="line-modified">243   /*    Ascender                :: The font&#39;s ascender, i.e., the distance */</span>
<span class="line-modified">244   /*                               from the baseline to the top-most of    */</span>
<span class="line-modified">245   /*                               all glyph points found in the font.     */</span>
<span class="line-modified">246   /*                                                                       */</span>
<span class="line-modified">247   /*                               This value is invalid in many fonts, as */</span>
<span class="line-modified">248   /*                               it is usually set by the font designer, */</span>
<span class="line-modified">249   /*                               and often reflects only a portion of    */</span>
<span class="line-modified">250   /*                               the glyphs found in the font (maybe     */</span>
<span class="line-modified">251   /*                               ASCII).                                 */</span>
<span class="line-modified">252   /*                                                                       */</span>
<span class="line-modified">253   /*                               You should use the `sTypoAscender&#39;      */</span>
<span class="line-modified">254   /*                               field of the `OS/2&#39; table instead if    */</span>
<span class="line-modified">255   /*                               you want the correct one.               */</span>
<span class="line-modified">256   /*                                                                       */</span>
<span class="line-modified">257   /*    Descender               :: The font&#39;s descender, i.e., the         */</span>
<span class="line-modified">258   /*                               distance from the baseline to the       */</span>
<span class="line-modified">259   /*                               bottom-most of all glyph points found   */</span>
<span class="line-modified">260   /*                               in the font.  It is negative.           */</span>
<span class="line-modified">261   /*                                                                       */</span>
<span class="line-modified">262   /*                               This value is invalid in many fonts, as */</span>
<span class="line-modified">263   /*                               it is usually set by the font designer, */</span>
<span class="line-modified">264   /*                               and often reflects only a portion of    */</span>
<span class="line-modified">265   /*                               the glyphs found in the font (maybe     */</span>
<span class="line-modified">266   /*                               ASCII).                                 */</span>
<span class="line-modified">267   /*                                                                       */</span>
<span class="line-modified">268   /*                               You should use the `sTypoDescender&#39;     */</span>
<span class="line-modified">269   /*                               field of the `OS/2&#39; table instead if    */</span>
<span class="line-modified">270   /*                               you want the correct one.               */</span>
<span class="line-modified">271   /*                                                                       */</span>
<span class="line-modified">272   /*    Line_Gap                :: The font&#39;s line gap, i.e., the distance */</span>
<span class="line-modified">273   /*                               to add to the ascender and descender to */</span>
<span class="line-modified">274   /*                               get the BTB, i.e., the                  */</span>
<span class="line-modified">275   /*                               baseline-to-baseline distance for the   */</span>
<span class="line-modified">276   /*                               font.                                   */</span>
<span class="line-modified">277   /*                                                                       */</span>
<span class="line-modified">278   /*    advance_Height_Max      :: This field is the maximum of all        */</span>
<span class="line-modified">279   /*                               advance heights found in the font.  It  */</span>
<span class="line-modified">280   /*                               can be used to compute the maximum      */</span>
<span class="line-modified">281   /*                               height of an arbitrary string of text.  */</span>
<span class="line-modified">282   /*                                                                       */</span>
<span class="line-modified">283   /*    min_Top_Side_Bearing    :: The minimum top side bearing of all     */</span>
<span class="line-modified">284   /*                               glyphs within the font.                 */</span>
<span class="line-modified">285   /*                                                                       */</span>
<span class="line-modified">286   /*    min_Bottom_Side_Bearing :: The minimum bottom side bearing of all  */</span>
<span class="line-modified">287   /*                               glyphs within the font.                 */</span>
<span class="line-modified">288   /*                                                                       */</span>
<span class="line-modified">289   /*    yMax_Extent             :: The maximum vertical extent (i.e., the  */</span>
<span class="line-modified">290   /*                               `height&#39; of a glyph&#39;s bounding box) for */</span>
<span class="line-modified">291   /*                               all glyphs in the font.                 */</span>
<span class="line-modified">292   /*                                                                       */</span>
<span class="line-modified">293   /*    caret_Slope_Rise        :: The rise coefficient of the cursor&#39;s    */</span>
<span class="line-modified">294   /*                               slope of the cursor (slope=rise/run).   */</span>
<span class="line-modified">295   /*                                                                       */</span>
<span class="line-modified">296   /*    caret_Slope_Run         :: The run coefficient of the cursor&#39;s     */</span>
<span class="line-modified">297   /*                               slope.                                  */</span>
<span class="line-modified">298   /*                                                                       */</span>
<span class="line-modified">299   /*    caret_Offset            :: The cursor&#39;s offset for slanted fonts.  */</span>
<span class="line-modified">300   /*                                                                       */</span>
<span class="line-modified">301   /*    Reserved                :: 8~reserved bytes.                       */</span>
<span class="line-modified">302   /*                                                                       */</span>
<span class="line-modified">303   /*    metric_Data_Format      :: Always~0.                               */</span>
<span class="line-modified">304   /*                                                                       */</span>
<span class="line-modified">305   /*    number_Of_VMetrics      :: Number of VMetrics entries in the       */</span>
<span class="line-modified">306   /*                               `vmtx&#39; table -- this value can be       */</span>
<span class="line-modified">307   /*                               smaller than the total number of glyphs */</span>
<span class="line-modified">308   /*                               in the font.                            */</span>
<span class="line-modified">309   /*                                                                       */</span>
<span class="line-modified">310   /*    long_metrics            :: A pointer into the `vmtx&#39; table.        */</span>
<span class="line-modified">311   /*                                                                       */</span>
<span class="line-modified">312   /*    short_metrics           :: A pointer into the `vmtx&#39; table.        */</span>
<span class="line-modified">313   /*                                                                       */</span>
<span class="line-modified">314   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">315   /*    For an OpenType variation font, the values of the following fields */</span>
<span class="line-modified">316   /*    can change after a call to @FT_Set_Var_Design_Coordinates (and     */</span>
<span class="line-removed">317   /*    friends) if the font contains an `MVAR&#39; table: `Ascender&#39;,         */</span>
<span class="line-removed">318   /*    `Descender&#39;, `Line_Gap&#39;, `caret_Slope_Rise&#39;, `caret_Slope_Run&#39;,    */</span>
<span class="line-removed">319   /*    and `caret_Offset&#39;.                                                */</span>
<span class="line-removed">320   /*                                                                       */</span>
321   typedef struct  TT_VertHeader_
322   {
323     FT_Fixed   Version;
324     FT_Short   Ascender;
325     FT_Short   Descender;
326     FT_Short   Line_Gap;
327 
328     FT_UShort  advance_Height_Max;      /* advance height maximum */
329 
330     FT_Short   min_Top_Side_Bearing;    /* minimum top-sb          */
331     FT_Short   min_Bottom_Side_Bearing; /* minimum bottom-sb       */
332     FT_Short   yMax_Extent;             /* ymax extents            */
333     FT_Short   caret_Slope_Rise;
334     FT_Short   caret_Slope_Run;
335     FT_Short   caret_Offset;
336 
337     FT_Short   Reserved[4];
338 
339     FT_Short   metric_Data_Format;
340     FT_UShort  number_Of_VMetrics;
341 
342     /* The following fields are not defined by the OpenType specification */
343     /* but they are used to connect the metrics header to the relevant    */
<span class="line-modified">344     /* `vmtx&#39; table.                                                      */</span>
345 
346     void*      long_metrics;
347     void*      short_metrics;
348 
349   } TT_VertHeader;
350 
351 
<span class="line-modified">352   /*************************************************************************/</span>
<span class="line-modified">353   /*                                                                       */</span>
<span class="line-modified">354   /* &lt;Struct&gt;                                                              */</span>
<span class="line-modified">355   /*    TT_OS2                                                             */</span>
<span class="line-modified">356   /*                                                                       */</span>
<span class="line-modified">357   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">358   /*    A structure to model a TrueType `OS/2&#39; table.  All fields comply   */</span>
<span class="line-modified">359   /*    to the OpenType specification.                                     */</span>
<span class="line-modified">360   /*                                                                       */</span>
<span class="line-modified">361   /*    Note that we now support old Mac fonts that do not include an      */</span>
<span class="line-modified">362   /*    `OS/2&#39; table.  In this case, the `version&#39; field is always set to  */</span>
<span class="line-modified">363   /*    0xFFFF.                                                            */</span>
<span class="line-modified">364   /*                                                                       */</span>
<span class="line-modified">365   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">366   /*    For an OpenType variation font, the values of the following fields */</span>
<span class="line-modified">367   /*    can change after a call to @FT_Set_Var_Design_Coordinates (and     */</span>
<span class="line-modified">368   /*    friends) if the font contains an `MVAR&#39; table: `sCapHeight&#39;,       */</span>
<span class="line-modified">369   /*    `sTypoAscender&#39;, `sTypoDescender&#39;, `sTypoLineGap&#39;, `sxHeight&#39;,     */</span>
<span class="line-modified">370   /*    `usWinAscent&#39;, `usWinDescent&#39;, `yStrikeoutPosition&#39;,               */</span>
<span class="line-modified">371   /*    `yStrikeoutSize&#39;, `ySubscriptXOffset&#39;, `ySubScriptXSize&#39;,          */</span>
<span class="line-modified">372   /*    `ySubscriptYOffset&#39;, `ySubscriptYSize&#39;, `ySuperscriptXOffset&#39;,     */</span>
<span class="line-modified">373   /*    `ySuperscriptXSize&#39;, `ySuperscriptYOffset&#39;, and                    */</span>
<span class="line-modified">374   /*    `ySuperscriptYSize&#39;.                                               */</span>
<span class="line-modified">375   /*                                                                       */</span>
<span class="line-modified">376   /*    Possible values for bits in the `ulUnicodeRangeX&#39; fields are given */</span>
<span class="line-removed">377   /*    by the @TT_UCR_XXX macros.                                         */</span>
<span class="line-removed">378   /*                                                                       */</span>
379 
380   typedef struct  TT_OS2_
381   {
382     FT_UShort  version;                /* 0x0001 - more or 0xFFFF */
383     FT_Short   xAvgCharWidth;
384     FT_UShort  usWeightClass;
385     FT_UShort  usWidthClass;
386     FT_UShort  fsType;
387     FT_Short   ySubscriptXSize;
388     FT_Short   ySubscriptYSize;
389     FT_Short   ySubscriptXOffset;
390     FT_Short   ySubscriptYOffset;
391     FT_Short   ySuperscriptXSize;
392     FT_Short   ySuperscriptYSize;
393     FT_Short   ySuperscriptXOffset;
394     FT_Short   ySuperscriptYOffset;
395     FT_Short   yStrikeoutSize;
396     FT_Short   yStrikeoutPosition;
397     FT_Short   sFamilyClass;
398 
</pre>
<hr />
<pre>
418 
419     FT_ULong   ulCodePageRange1;       /* Bits 0-31   */
420     FT_ULong   ulCodePageRange2;       /* Bits 32-63  */
421 
422     /* only version 2 and higher: */
423 
424     FT_Short   sxHeight;
425     FT_Short   sCapHeight;
426     FT_UShort  usDefaultChar;
427     FT_UShort  usBreakChar;
428     FT_UShort  usMaxContext;
429 
430     /* only version 5 and higher: */
431 
432     FT_UShort  usLowerOpticalPointSize;       /* in twips (1/20th points) */
433     FT_UShort  usUpperOpticalPointSize;       /* in twips (1/20th points) */
434 
435   } TT_OS2;
436 
437 
<span class="line-modified">438   /*************************************************************************/</span>
<span class="line-modified">439   /*                                                                       */</span>
<span class="line-modified">440   /* &lt;Struct&gt;                                                              */</span>
<span class="line-modified">441   /*    TT_Postscript                                                      */</span>
<span class="line-modified">442   /*                                                                       */</span>
<span class="line-modified">443   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">444   /*    A structure to model a TrueType `post&#39; table.  All fields comply   */</span>
<span class="line-modified">445   /*    to the OpenType specification.  This structure does not reference  */</span>
<span class="line-modified">446   /*    a font&#39;s PostScript glyph names; use @FT_Get_Glyph_Name to         */</span>
<span class="line-modified">447   /*    retrieve them.                                                     */</span>
<span class="line-modified">448   /*                                                                       */</span>
<span class="line-modified">449   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">450   /*    For an OpenType variation font, the values of the following fields */</span>
<span class="line-modified">451   /*    can change after a call to @FT_Set_Var_Design_Coordinates (and     */</span>
<span class="line-modified">452   /*    friends) if the font contains an `MVAR&#39; table: `underlinePosition&#39; */</span>
<span class="line-modified">453   /*    and `underlineThickness&#39;.                                          */</span>
<span class="line-modified">454   /*                                                                       */</span>
455   typedef struct  TT_Postscript_
456   {
457     FT_Fixed  FormatType;
458     FT_Fixed  italicAngle;
459     FT_Short  underlinePosition;
460     FT_Short  underlineThickness;
461     FT_ULong  isFixedPitch;
462     FT_ULong  minMemType42;
463     FT_ULong  maxMemType42;
464     FT_ULong  minMemType1;
465     FT_ULong  maxMemType1;
466 
<span class="line-modified">467     /* Glyph names follow in the `post&#39; table, but we don&#39;t */</span>
468     /* load them by default.                                */
469 
470   } TT_Postscript;
471 
472 
<span class="line-modified">473   /*************************************************************************/</span>
<span class="line-modified">474   /*                                                                       */</span>
<span class="line-modified">475   /* &lt;Struct&gt;                                                              */</span>
<span class="line-modified">476   /*    TT_PCLT                                                            */</span>
<span class="line-modified">477   /*                                                                       */</span>
<span class="line-modified">478   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">479   /*    A structure to model a TrueType `PCLT&#39; table.  All fields comply   */</span>
<span class="line-modified">480   /*    to the OpenType specification.                                     */</span>
<span class="line-modified">481   /*                                                                       */</span>
482   typedef struct  TT_PCLT_
483   {
484     FT_Fixed   Version;
485     FT_ULong   FontNumber;
486     FT_UShort  Pitch;
487     FT_UShort  xHeight;
488     FT_UShort  Style;
489     FT_UShort  TypeFamily;
490     FT_UShort  CapHeight;
491     FT_UShort  SymbolSet;
492     FT_Char    TypeFace[16];
493     FT_Char    CharacterComplement[8];
494     FT_Char    FileName[6];
495     FT_Char    StrokeWeight;
496     FT_Char    WidthType;
497     FT_Byte    SerifStyle;
498     FT_Byte    Reserved;
499 
500   } TT_PCLT;
501 
502 
<span class="line-modified">503   /*************************************************************************/</span>
<span class="line-modified">504   /*                                                                       */</span>
<span class="line-modified">505   /* &lt;Struct&gt;                                                              */</span>
<span class="line-modified">506   /*    TT_MaxProfile                                                      */</span>
<span class="line-modified">507   /*                                                                       */</span>
<span class="line-modified">508   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">509   /*    The maximum profile (`maxp&#39;) table contains many max values, which */</span>
<span class="line-modified">510   /*    can be used to pre-allocate arrays for speeding up glyph loading   */</span>
<span class="line-modified">511   /*    and hinting.                                                       */</span>
<span class="line-modified">512   /*                                                                       */</span>
<span class="line-modified">513   /* &lt;Fields&gt;                                                              */</span>
<span class="line-modified">514   /*    version               :: The version number.                       */</span>
<span class="line-modified">515   /*                                                                       */</span>
<span class="line-modified">516   /*    numGlyphs             :: The number of glyphs in this TrueType     */</span>
<span class="line-modified">517   /*                             font.                                     */</span>
<span class="line-modified">518   /*                                                                       */</span>
<span class="line-modified">519   /*    maxPoints             :: The maximum number of points in a         */</span>
<span class="line-modified">520   /*                             non-composite TrueType glyph.  See also   */</span>
<span class="line-modified">521   /*                             `maxCompositePoints&#39;.                     */</span>
<span class="line-modified">522   /*                                                                       */</span>
<span class="line-modified">523   /*    maxContours           :: The maximum number of contours in a       */</span>
<span class="line-modified">524   /*                             non-composite TrueType glyph.  See also   */</span>
<span class="line-modified">525   /*                             `maxCompositeContours&#39;.                   */</span>
<span class="line-modified">526   /*                                                                       */</span>
<span class="line-modified">527   /*    maxCompositePoints    :: The maximum number of points in a         */</span>
<span class="line-modified">528   /*                             composite TrueType glyph.  See also       */</span>
<span class="line-modified">529   /*                             `maxPoints&#39;.                              */</span>
<span class="line-modified">530   /*                                                                       */</span>
<span class="line-modified">531   /*    maxCompositeContours  :: The maximum number of contours in a       */</span>
<span class="line-modified">532   /*                             composite TrueType glyph.  See also       */</span>
<span class="line-modified">533   /*                             `maxContours&#39;.                            */</span>
<span class="line-modified">534   /*                                                                       */</span>
<span class="line-modified">535   /*    maxZones              :: The maximum number of zones used for      */</span>
<span class="line-modified">536   /*                             glyph hinting.                            */</span>
<span class="line-modified">537   /*                                                                       */</span>
<span class="line-modified">538   /*    maxTwilightPoints     :: The maximum number of points in the       */</span>
<span class="line-modified">539   /*                             twilight zone used for glyph hinting.     */</span>
<span class="line-modified">540   /*                                                                       */</span>
<span class="line-modified">541   /*    maxStorage            :: The maximum number of elements in the     */</span>
<span class="line-modified">542   /*                             storage area used for glyph hinting.      */</span>
<span class="line-modified">543   /*                                                                       */</span>
<span class="line-modified">544   /*    maxFunctionDefs       :: The maximum number of function            */</span>
<span class="line-modified">545   /*                             definitions in the TrueType bytecode for  */</span>
<span class="line-modified">546   /*                             this font.                                */</span>
<span class="line-modified">547   /*                                                                       */</span>
<span class="line-modified">548   /*    maxInstructionDefs    :: The maximum number of instruction         */</span>
<span class="line-modified">549   /*                             definitions in the TrueType bytecode for  */</span>
<span class="line-modified">550   /*                             this font.                                */</span>
<span class="line-modified">551   /*                                                                       */</span>
<span class="line-modified">552   /*    maxStackElements      :: The maximum number of stack elements used */</span>
<span class="line-modified">553   /*                             during bytecode interpretation.           */</span>
<span class="line-modified">554   /*                                                                       */</span>
<span class="line-modified">555   /*    maxSizeOfInstructions :: The maximum number of TrueType opcodes    */</span>
<span class="line-modified">556   /*                             used for glyph hinting.                   */</span>
<span class="line-modified">557   /*                                                                       */</span>
<span class="line-modified">558   /*    maxComponentElements  :: The maximum number of simple (i.e., non-  */</span>
<span class="line-modified">559   /*                             composite) glyphs in a composite glyph.   */</span>
<span class="line-modified">560   /*                                                                       */</span>
<span class="line-modified">561   /*    maxComponentDepth     :: The maximum nesting depth of composite    */</span>
<span class="line-modified">562   /*                             glyphs.                                   */</span>
<span class="line-modified">563   /*                                                                       */</span>
<span class="line-modified">564   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">565   /*    This structure is only used during font loading.                   */</span>
<span class="line-modified">566   /*                                                                       */</span>





567   typedef struct  TT_MaxProfile_
568   {
569     FT_Fixed   version;
570     FT_UShort  numGlyphs;
571     FT_UShort  maxPoints;
572     FT_UShort  maxContours;
573     FT_UShort  maxCompositePoints;
574     FT_UShort  maxCompositeContours;
575     FT_UShort  maxZones;
576     FT_UShort  maxTwilightPoints;
577     FT_UShort  maxStorage;
578     FT_UShort  maxFunctionDefs;
579     FT_UShort  maxInstructionDefs;
580     FT_UShort  maxStackElements;
581     FT_UShort  maxSizeOfInstructions;
582     FT_UShort  maxComponentElements;
583     FT_UShort  maxComponentDepth;
584 
585   } TT_MaxProfile;
586 
587 
<span class="line-modified">588   /*************************************************************************/</span>
<span class="line-modified">589   /*                                                                       */</span>
<span class="line-modified">590   /* &lt;Enum&gt;                                                                */</span>
<span class="line-modified">591   /*    FT_Sfnt_Tag                                                        */</span>
<span class="line-modified">592   /*                                                                       */</span>
<span class="line-modified">593   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">594   /*    An enumeration to specify indices of SFNT tables loaded and parsed */</span>
<span class="line-modified">595   /*    by FreeType during initialization of an SFNT font.  Used in the    */</span>
<span class="line-modified">596   /*    @FT_Get_Sfnt_Table API function.                                   */</span>
<span class="line-modified">597   /*                                                                       */</span>
<span class="line-modified">598   /* &lt;Values&gt;                                                              */</span>
<span class="line-modified">599   /*    FT_SFNT_HEAD :: To access the font&#39;s @TT_Header structure.         */</span>
<span class="line-modified">600   /*                                                                       */</span>
<span class="line-modified">601   /*    FT_SFNT_MAXP :: To access the font&#39;s @TT_MaxProfile structure.     */</span>
<span class="line-modified">602   /*                                                                       */</span>
<span class="line-modified">603   /*    FT_SFNT_OS2  :: To access the font&#39;s @TT_OS2 structure.            */</span>
<span class="line-modified">604   /*                                                                       */</span>
<span class="line-modified">605   /*    FT_SFNT_HHEA :: To access the font&#39;s @TT_HoriHeader structure.     */</span>
<span class="line-modified">606   /*                                                                       */</span>
<span class="line-modified">607   /*    FT_SFNT_VHEA :: To access the font&#39;s @TT_VertHeader structure.     */</span>
<span class="line-modified">608   /*                                                                       */</span>
<span class="line-modified">609   /*    FT_SFNT_POST :: To access the font&#39;s @TT_Postscript structure.     */</span>
<span class="line-modified">610   /*                                                                       */</span>
<span class="line-modified">611   /*    FT_SFNT_PCLT :: To access the font&#39;s @TT_PCLT structure.           */</span>
<span class="line-modified">612   /*                                                                       */</span>







613   typedef enum  FT_Sfnt_Tag_
614   {
615     FT_SFNT_HEAD,
616     FT_SFNT_MAXP,
617     FT_SFNT_OS2,
618     FT_SFNT_HHEA,
619     FT_SFNT_VHEA,
620     FT_SFNT_POST,
621     FT_SFNT_PCLT,
622 
623     FT_SFNT_MAX
624 
625   } FT_Sfnt_Tag;
626 
<span class="line-modified">627   /* these constants are deprecated; use the corresponding `FT_Sfnt_Tag&#39; */</span>
628   /* values instead                                                      */
629 #define ft_sfnt_head  FT_SFNT_HEAD
630 #define ft_sfnt_maxp  FT_SFNT_MAXP
631 #define ft_sfnt_os2   FT_SFNT_OS2
632 #define ft_sfnt_hhea  FT_SFNT_HHEA
633 #define ft_sfnt_vhea  FT_SFNT_VHEA
634 #define ft_sfnt_post  FT_SFNT_POST
635 #define ft_sfnt_pclt  FT_SFNT_PCLT
636 
637 
<span class="line-modified">638   /*************************************************************************/</span>
<span class="line-modified">639   /*                                                                       */</span>
<span class="line-modified">640   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">641   /*    FT_Get_Sfnt_Table                                                  */</span>
<span class="line-modified">642   /*                                                                       */</span>
<span class="line-modified">643   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">644   /*    Return a pointer to a given SFNT table stored within a face.       */</span>
<span class="line-modified">645   /*                                                                       */</span>
<span class="line-modified">646   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">647   /*    face :: A handle to the source.                                    */</span>
<span class="line-modified">648   /*                                                                       */</span>
<span class="line-modified">649   /*    tag  :: The index of the SFNT table.                               */</span>
<span class="line-modified">650   /*                                                                       */</span>
<span class="line-modified">651   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">652   /*    A type-less pointer to the table.  This will be NULL in case of    */</span>
<span class="line-modified">653   /*    error, or if the corresponding table was not found *OR* loaded     */</span>
<span class="line-modified">654   /*    from the file.                                                     */</span>
<span class="line-modified">655   /*                                                                       */</span>
<span class="line-modified">656   /*    Use a typecast according to `tag&#39; to access the structure          */</span>
<span class="line-modified">657   /*    elements.                                                          */</span>
<span class="line-modified">658   /*                                                                       */</span>
<span class="line-modified">659   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">660   /*    The table is owned by the face object and disappears with it.      */</span>
<span class="line-modified">661   /*                                                                       */</span>
<span class="line-modified">662   /*    This function is only useful to access SFNT tables that are loaded */</span>
<span class="line-modified">663   /*    by the sfnt, truetype, and opentype drivers.  See @FT_Sfnt_Tag for */</span>
<span class="line-modified">664   /*    a list.                                                            */</span>
<span class="line-modified">665   /*                                                                       */</span>
<span class="line-modified">666   /*    Here an example how to access the `vhea&#39; table:                    */</span>
<span class="line-modified">667   /*                                                                       */</span>
<span class="line-modified">668   /*    {                                                                  */</span>
<span class="line-modified">669   /*      TT_VertHeader*  vert_header;                                     */</span>
<span class="line-modified">670   /*                                                                       */</span>
<span class="line-modified">671   /*                                                                       */</span>
<span class="line-modified">672   /*      vert_header =                                                    */</span>
<span class="line-modified">673   /*        (TT_VertHeader*)FT_Get_Sfnt_Table( face, FT_SFNT_VHEA );       */</span>
<span class="line-modified">674   /*    }                                                                  */</span>
<span class="line-modified">675   /*                                                                       */</span>


676   FT_EXPORT( void* )
677   FT_Get_Sfnt_Table( FT_Face      face,
678                      FT_Sfnt_Tag  tag );
679 
680 
681   /**************************************************************************
682    *
683    * @function:
684    *   FT_Load_Sfnt_Table
685    *
686    * @description:
687    *   Load any SFNT font table into client memory.
688    *
689    * @input:
690    *   face ::
691    *     A handle to the source face.
692    *
693    *   tag ::
<span class="line-modified">694    *     The four-byte tag of the table to load.  Use value~0 if you want</span>
<span class="line-modified">695    *     to access the whole font file.  Otherwise, you can use one of the</span>
696    *     definitions found in the @FT_TRUETYPE_TAGS_H file, or forge a new
697    *     one with @FT_MAKE_TAG.
698    *
699    *   offset ::
700    *     The starting offset in the table (or file if tag~==~0).
701    *
702    * @output:
703    *   buffer ::
704    *     The target buffer address.  The client must ensure that the memory
705    *     array is big enough to hold the data.
706    *
707    * @inout:
708    *   length ::
<span class="line-modified">709    *     If the `length&#39; parameter is NULL, try to load the whole table.</span>
710    *     Return an error code if it fails.
711    *
<span class="line-modified">712    *     Else, if `*length&#39; is~0, exit immediately while returning the</span>
713    *     table&#39;s (or file) full size in it.
714    *
715    *     Else the number of bytes to read from the table or file, from the
716    *     starting offset.
717    *
718    * @return:
719    *   FreeType error code.  0~means success.
720    *
721    * @note:
722    *   If you need to determine the table&#39;s length you should first call this
<span class="line-modified">723    *   function with `*length&#39; set to~0, as in the following example:</span>
724    *
<span class="line-modified">725    *     {</span>
<span class="line-modified">726    *       FT_ULong  length = 0;</span>
727    *
728    *
<span class="line-modified">729    *       error = FT_Load_Sfnt_Table( face, tag, 0, NULL, &amp;length );</span>
<span class="line-modified">730    *       if ( error ) { ... table does not exist ... }</span>
731    *
<span class="line-modified">732    *       buffer = malloc( length );</span>
<span class="line-modified">733    *       if ( buffer == NULL ) { ... not enough memory ... }</span>
734    *
<span class="line-modified">735    *       error = FT_Load_Sfnt_Table( face, tag, 0, buffer, &amp;length );</span>
<span class="line-modified">736    *       if ( error ) { ... could not load table ... }</span>
<span class="line-modified">737    *     }</span>
738    *
739    *   Note that structures like @TT_Header or @TT_OS2 can&#39;t be used with
740    *   this function; they are limited to @FT_Get_Sfnt_Table.  Reason is that
741    *   those structures depend on the processor architecture, with varying
742    *   size (e.g. 32bit vs. 64bit) or order (big endian vs. little endian).
743    *
744    */
745   FT_EXPORT( FT_Error )
746   FT_Load_Sfnt_Table( FT_Face    face,
747                       FT_ULong   tag,
748                       FT_Long    offset,
749                       FT_Byte*   buffer,
750                       FT_ULong*  length );
751 
752 
753   /**************************************************************************
754    *
755    * @function:
756    *   FT_Sfnt_Table_Info
757    *
758    * @description:
759    *   Return information on an SFNT table.
760    *
761    * @input:
762    *   face ::
763    *     A handle to the source face.
764    *
765    *   table_index ::
766    *     The index of an SFNT table.  The function returns
767    *     FT_Err_Table_Missing for an invalid value.
768    *
769    * @inout:
770    *   tag ::
<span class="line-modified">771    *     The name tag of the SFNT table.  If the value is NULL, `table_index&#39;</span>
<span class="line-modified">772    *     is ignored, and `length&#39; returns the number of SFNT tables in the</span>
<span class="line-modified">773    *     font.</span>
774    *
775    * @output:
776    *   length ::
<span class="line-modified">777    *     The length of the SFNT table (or the number of SFNT tables, depending</span>
<span class="line-modified">778    *     on `tag&#39;).</span>
779    *
780    * @return:
781    *   FreeType error code.  0~means success.
782    *
783    * @note:
784    *   While parsing fonts, FreeType handles SFNT tables with length zero as
785    *   missing.
786    *
787    */
788   FT_EXPORT( FT_Error )
789   FT_Sfnt_Table_Info( FT_Face    face,
790                       FT_UInt    table_index,
791                       FT_ULong  *tag,
792                       FT_ULong  *length );
793 
794 
<span class="line-modified">795   /*************************************************************************/</span>
<span class="line-modified">796   /*                                                                       */</span>
<span class="line-modified">797   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">798   /*    FT_Get_CMap_Language_ID                                            */</span>
<span class="line-modified">799   /*                                                                       */</span>
<span class="line-modified">800   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">801   /*    Return cmap language ID as specified in the OpenType standard.     */</span>
<span class="line-modified">802   /*    Definitions of language ID values are in file @FT_TRUETYPE_IDS_H.  */</span>
<span class="line-modified">803   /*                                                                       */</span>
<span class="line-modified">804   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">805   /*    charmap ::                                                         */</span>
<span class="line-modified">806   /*      The target charmap.                                              */</span>
<span class="line-modified">807   /*                                                                       */</span>
<span class="line-modified">808   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">809   /*    The language ID of `charmap&#39;.  If `charmap&#39; doesn&#39;t belong to an   */</span>
<span class="line-modified">810   /*    SFNT face, just return~0 as the default value.                     */</span>
<span class="line-modified">811   /*                                                                       */</span>
<span class="line-modified">812   /*    For a format~14 cmap (to access Unicode IVS), the return value is  */</span>
<span class="line-modified">813   /*    0xFFFFFFFF.                                                        */</span>
<span class="line-modified">814   /*                                                                       */</span>
815   FT_EXPORT( FT_ULong )
816   FT_Get_CMap_Language_ID( FT_CharMap  charmap );
817 
818 
<span class="line-modified">819   /*************************************************************************/</span>
<span class="line-modified">820   /*                                                                       */</span>
<span class="line-modified">821   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">822   /*    FT_Get_CMap_Format                                                 */</span>
<span class="line-modified">823   /*                                                                       */</span>
<span class="line-modified">824   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">825   /*    Return the format of an SFNT `cmap&#39; table.                         */</span>
<span class="line-modified">826   /*                                                                       */</span>
<span class="line-modified">827   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">828   /*    charmap ::                                                         */</span>
<span class="line-modified">829   /*      The target charmap.                                              */</span>
<span class="line-modified">830   /*                                                                       */</span>
<span class="line-modified">831   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">832   /*    The format of `charmap&#39;.  If `charmap&#39; doesn&#39;t belong to an SFNT   */</span>
<span class="line-modified">833   /*    face, return -1.                                                   */</span>
<span class="line-modified">834   /*                                                                       */</span>
835   FT_EXPORT( FT_Long )
836   FT_Get_CMap_Format( FT_CharMap  charmap );
837 
838   /* */
839 
840 
841 FT_END_HEADER
842 
843 #endif /* TTTABLES_H_ */
844 
845 
846 /* END */
</pre>
</td>
<td>
<hr />
<pre>
<span class="line-modified">  1 /****************************************************************************</span>
<span class="line-modified">  2  *</span>
<span class="line-modified">  3  * tttables.h</span>
<span class="line-modified">  4  *</span>
<span class="line-modified">  5  *   Basic SFNT/TrueType tables definitions and interface</span>
<span class="line-modified">  6  *   (specification only).</span>
<span class="line-modified">  7  *</span>
<span class="line-modified">  8  * Copyright (C) 1996-2019 by</span>
<span class="line-modified">  9  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified"> 10  *</span>
<span class="line-modified"> 11  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified"> 12  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified"> 13  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified"> 14  * this file you indicate that you have read the license and</span>
<span class="line-modified"> 15  * understand and accept it fully.</span>
<span class="line-modified"> 16  *</span>
<span class="line-modified"> 17  */</span>
 18 
 19 
 20 #ifndef TTTABLES_H_
 21 #define TTTABLES_H_
 22 
 23 
 24 #include &lt;ft2build.h&gt;
 25 #include FT_FREETYPE_H
 26 
 27 #ifdef FREETYPE_H
 28 #error &quot;freetype.h of FreeType 1 has been loaded!&quot;
 29 #error &quot;Please fix the directory search order for header files&quot;
 30 #error &quot;so that freetype.h of FreeType 2 is found first.&quot;
 31 #endif
 32 
 33 
 34 FT_BEGIN_HEADER
 35 
<span class="line-modified"> 36   /**************************************************************************</span>
<span class="line-modified"> 37    *</span>
<span class="line-modified"> 38    * @section:</span>
<span class="line-modified"> 39    *   truetype_tables</span>
<span class="line-modified"> 40    *</span>
<span class="line-modified"> 41    * @title:</span>
<span class="line-modified"> 42    *   TrueType Tables</span>
<span class="line-modified"> 43    *</span>
<span class="line-modified"> 44    * @abstract:</span>
<span class="line-modified"> 45    *   TrueType-specific table types and functions.</span>
<span class="line-modified"> 46    *</span>
<span class="line-modified"> 47    * @description:</span>
<span class="line-modified"> 48    *   This section contains definitions of some basic tables specific to</span>
<span class="line-modified"> 49    *   TrueType and OpenType as well as some routines used to access and</span>
<span class="line-modified"> 50    *   process them.</span>
<span class="line-modified"> 51    *</span>
<span class="line-modified"> 52    * @order:</span>
<span class="line-modified"> 53    *   TT_Header</span>
<span class="line-modified"> 54    *   TT_HoriHeader</span>
<span class="line-modified"> 55    *   TT_VertHeader</span>
<span class="line-modified"> 56    *   TT_OS2</span>
<span class="line-modified"> 57    *   TT_Postscript</span>
<span class="line-modified"> 58    *   TT_PCLT</span>
<span class="line-modified"> 59    *   TT_MaxProfile</span>
<span class="line-modified"> 60    *</span>
<span class="line-modified"> 61    *   FT_Sfnt_Tag</span>
<span class="line-modified"> 62    *   FT_Get_Sfnt_Table</span>
<span class="line-modified"> 63    *   FT_Load_Sfnt_Table</span>
<span class="line-modified"> 64    *   FT_Sfnt_Table_Info</span>
<span class="line-modified"> 65    *</span>
<span class="line-modified"> 66    *   FT_Get_CMap_Language_ID</span>
<span class="line-modified"> 67    *   FT_Get_CMap_Format</span>
<span class="line-modified"> 68    *</span>
<span class="line-modified"> 69    *   FT_PARAM_TAG_UNPATENTED_HINTING</span>
<span class="line-modified"> 70    *</span>
<span class="line-modified"> 71    */</span>
<span class="line-modified"> 72 </span>
<span class="line-modified"> 73 </span>
<span class="line-modified"> 74   /**************************************************************************</span>
<span class="line-modified"> 75    *</span>
<span class="line-modified"> 76    * @struct:</span>
<span class="line-modified"> 77    *   TT_Header</span>
<span class="line-modified"> 78    *</span>
<span class="line-modified"> 79    * @description:</span>
<span class="line-modified"> 80    *   A structure to model a TrueType font header table.  All fields follow</span>
<span class="line-modified"> 81    *   the OpenType specification.  The 64-bit timestamps are stored in</span>
<span class="line-modified"> 82    *   two-element arrays `Created` and `Modified`, first the upper then</span>
<span class="line-added"> 83    *   the lower 32~bits.</span>
<span class="line-added"> 84    */</span>
 85   typedef struct  TT_Header_
 86   {
 87     FT_Fixed   Table_Version;
 88     FT_Fixed   Font_Revision;
 89 
 90     FT_Long    CheckSum_Adjust;
 91     FT_Long    Magic_Number;
 92 
 93     FT_UShort  Flags;
 94     FT_UShort  Units_Per_EM;
 95 
<span class="line-modified"> 96     FT_ULong   Created [2];</span>
<span class="line-modified"> 97     FT_ULong   Modified[2];</span>
 98 
 99     FT_Short   xMin;
100     FT_Short   yMin;
101     FT_Short   xMax;
102     FT_Short   yMax;
103 
104     FT_UShort  Mac_Style;
105     FT_UShort  Lowest_Rec_PPEM;
106 
107     FT_Short   Font_Direction;
108     FT_Short   Index_To_Loc_Format;
109     FT_Short   Glyph_Data_Format;
110 
111   } TT_Header;
112 
113 
<span class="line-modified">114   /**************************************************************************</span>
<span class="line-modified">115    *</span>
<span class="line-modified">116    * @struct:</span>
<span class="line-modified">117    *   TT_HoriHeader</span>
<span class="line-modified">118    *</span>
<span class="line-modified">119    * @description:</span>
<span class="line-modified">120    *   A structure to model a TrueType horizontal header, the &#39;hhea&#39; table,</span>
<span class="line-modified">121    *   as well as the corresponding horizontal metrics table, &#39;hmtx&#39;.</span>
<span class="line-modified">122    *</span>
<span class="line-modified">123    * @fields:</span>
<span class="line-modified">124    *   Version ::</span>
<span class="line-modified">125    *     The table version.</span>
<span class="line-modified">126    *</span>
<span class="line-modified">127    *   Ascender ::</span>
<span class="line-modified">128    *     The font&#39;s ascender, i.e., the distance from the baseline to the</span>
<span class="line-modified">129    *     top-most of all glyph points found in the font.</span>
<span class="line-modified">130    *</span>
<span class="line-modified">131    *     This value is invalid in many fonts, as it is usually set by the</span>
<span class="line-modified">132    *     font designer, and often reflects only a portion of the glyphs found</span>
<span class="line-modified">133    *     in the font (maybe ASCII).</span>
<span class="line-modified">134    *</span>
<span class="line-modified">135    *     You should use the `sTypoAscender` field of the &#39;OS/2&#39; table instead</span>
<span class="line-modified">136    *     if you want the correct one.</span>
<span class="line-modified">137    *</span>
<span class="line-modified">138    *   Descender ::</span>
<span class="line-modified">139    *     The font&#39;s descender, i.e., the distance from the baseline to the</span>
<span class="line-modified">140    *     bottom-most of all glyph points found in the font.  It is negative.</span>
<span class="line-modified">141    *</span>
<span class="line-modified">142    *     This value is invalid in many fonts, as it is usually set by the</span>
<span class="line-modified">143    *     font designer, and often reflects only a portion of the glyphs found</span>
<span class="line-modified">144    *     in the font (maybe ASCII).</span>
<span class="line-modified">145    *</span>
<span class="line-modified">146    *     You should use the `sTypoDescender` field of the &#39;OS/2&#39; table</span>
<span class="line-modified">147    *     instead if you want the correct one.</span>
<span class="line-modified">148    *</span>
<span class="line-modified">149    *   Line_Gap ::</span>
<span class="line-modified">150    *     The font&#39;s line gap, i.e., the distance to add to the ascender and</span>
<span class="line-modified">151    *     descender to get the BTB, i.e., the baseline-to-baseline distance</span>
<span class="line-modified">152    *     for the font.</span>
<span class="line-modified">153    *</span>
<span class="line-modified">154    *   advance_Width_Max ::</span>
<span class="line-modified">155    *     This field is the maximum of all advance widths found in the font.</span>
<span class="line-modified">156    *     It can be used to compute the maximum width of an arbitrary string</span>
<span class="line-modified">157    *     of text.</span>
<span class="line-modified">158    *</span>
<span class="line-modified">159    *   min_Left_Side_Bearing ::</span>
<span class="line-modified">160    *     The minimum left side bearing of all glyphs within the font.</span>
<span class="line-modified">161    *</span>
<span class="line-modified">162    *   min_Right_Side_Bearing ::</span>
<span class="line-modified">163    *     The minimum right side bearing of all glyphs within the font.</span>
<span class="line-modified">164    *</span>
<span class="line-modified">165    *   xMax_Extent ::</span>
<span class="line-modified">166    *     The maximum horizontal extent (i.e., the &#39;width&#39; of a glyph&#39;s</span>
<span class="line-modified">167    *     bounding box) for all glyphs in the font.</span>
<span class="line-modified">168    *</span>
<span class="line-modified">169    *   caret_Slope_Rise ::</span>
<span class="line-modified">170    *     The rise coefficient of the cursor&#39;s slope of the cursor</span>
<span class="line-modified">171    *     (slope=rise/run).</span>
<span class="line-modified">172    *</span>
<span class="line-modified">173    *   caret_Slope_Run ::</span>
<span class="line-modified">174    *     The run coefficient of the cursor&#39;s slope.</span>
<span class="line-modified">175    *</span>
<span class="line-modified">176    *   caret_Offset ::</span>
<span class="line-modified">177    *     The cursor&#39;s offset for slanted fonts.</span>
<span class="line-modified">178    *</span>
<span class="line-modified">179    *   Reserved ::</span>
<span class="line-modified">180    *     8~reserved bytes.</span>
<span class="line-modified">181    *</span>
<span class="line-modified">182    *   metric_Data_Format ::</span>
<span class="line-modified">183    *     Always~0.</span>
<span class="line-modified">184    *</span>
<span class="line-modified">185    *   number_Of_HMetrics ::</span>
<span class="line-modified">186    *     Number of HMetrics entries in the &#39;hmtx&#39; table -- this value can be</span>
<span class="line-modified">187    *     smaller than the total number of glyphs in the font.</span>
<span class="line-modified">188    *</span>
<span class="line-modified">189    *   long_metrics ::</span>
<span class="line-modified">190    *     A pointer into the &#39;hmtx&#39; table.</span>
<span class="line-modified">191    *</span>
<span class="line-modified">192    *   short_metrics ::</span>
<span class="line-modified">193    *     A pointer into the &#39;hmtx&#39; table.</span>
<span class="line-modified">194    *</span>
<span class="line-modified">195    * @note:</span>
<span class="line-modified">196    *   For an OpenType variation font, the values of the following fields can</span>
<span class="line-modified">197    *   change after a call to @FT_Set_Var_Design_Coordinates (and friends) if</span>
<span class="line-modified">198    *   the font contains an &#39;MVAR&#39; table: `caret_Slope_Rise`,</span>
<span class="line-modified">199    *   `caret_Slope_Run`, and `caret_Offset`.</span>
<span class="line-modified">200    */</span>
201   typedef struct  TT_HoriHeader_
202   {
203     FT_Fixed   Version;
204     FT_Short   Ascender;
205     FT_Short   Descender;
206     FT_Short   Line_Gap;
207 
208     FT_UShort  advance_Width_Max;      /* advance width maximum */
209 
210     FT_Short   min_Left_Side_Bearing;  /* minimum left-sb       */
211     FT_Short   min_Right_Side_Bearing; /* minimum right-sb      */
212     FT_Short   xMax_Extent;            /* xmax extents          */
213     FT_Short   caret_Slope_Rise;
214     FT_Short   caret_Slope_Run;
215     FT_Short   caret_Offset;
216 
217     FT_Short   Reserved[4];
218 
219     FT_Short   metric_Data_Format;
220     FT_UShort  number_Of_HMetrics;
221 
222     /* The following fields are not defined by the OpenType specification */
223     /* but they are used to connect the metrics header to the relevant    */
<span class="line-modified">224     /* &#39;hmtx&#39; table.                                                      */</span>
225 
226     void*      long_metrics;
227     void*      short_metrics;
228 
229   } TT_HoriHeader;
230 
231 
<span class="line-modified">232   /**************************************************************************</span>
<span class="line-modified">233    *</span>
<span class="line-modified">234    * @struct:</span>
<span class="line-modified">235    *   TT_VertHeader</span>
<span class="line-modified">236    *</span>
<span class="line-modified">237    * @description:</span>
<span class="line-modified">238    *   A structure used to model a TrueType vertical header, the &#39;vhea&#39;</span>
<span class="line-modified">239    *   table, as well as the corresponding vertical metrics table, &#39;vmtx&#39;.</span>
<span class="line-modified">240    *</span>
<span class="line-modified">241    * @fields:</span>
<span class="line-modified">242    *   Version ::</span>
<span class="line-modified">243    *     The table version.</span>
<span class="line-modified">244    *</span>
<span class="line-modified">245    *   Ascender ::</span>
<span class="line-modified">246    *     The font&#39;s ascender, i.e., the distance from the baseline to the</span>
<span class="line-modified">247    *     top-most of all glyph points found in the font.</span>
<span class="line-modified">248    *</span>
<span class="line-modified">249    *     This value is invalid in many fonts, as it is usually set by the</span>
<span class="line-modified">250    *     font designer, and often reflects only a portion of the glyphs found</span>
<span class="line-modified">251    *     in the font (maybe ASCII).</span>
<span class="line-modified">252    *</span>
<span class="line-modified">253    *     You should use the `sTypoAscender` field of the &#39;OS/2&#39; table instead</span>
<span class="line-modified">254    *     if you want the correct one.</span>
<span class="line-modified">255    *</span>
<span class="line-modified">256    *   Descender ::</span>
<span class="line-modified">257    *     The font&#39;s descender, i.e., the distance from the baseline to the</span>
<span class="line-modified">258    *     bottom-most of all glyph points found in the font.  It is negative.</span>
<span class="line-modified">259    *</span>
<span class="line-modified">260    *     This value is invalid in many fonts, as it is usually set by the</span>
<span class="line-modified">261    *     font designer, and often reflects only a portion of the glyphs found</span>
<span class="line-modified">262    *     in the font (maybe ASCII).</span>
<span class="line-modified">263    *</span>
<span class="line-modified">264    *     You should use the `sTypoDescender` field of the &#39;OS/2&#39; table</span>
<span class="line-modified">265    *     instead if you want the correct one.</span>
<span class="line-modified">266    *</span>
<span class="line-modified">267    *   Line_Gap ::</span>
<span class="line-modified">268    *     The font&#39;s line gap, i.e., the distance to add to the ascender and</span>
<span class="line-modified">269    *     descender to get the BTB, i.e., the baseline-to-baseline distance</span>
<span class="line-modified">270    *     for the font.</span>
<span class="line-modified">271    *</span>
<span class="line-modified">272    *   advance_Height_Max ::</span>
<span class="line-modified">273    *     This field is the maximum of all advance heights found in the font.</span>
<span class="line-modified">274    *     It can be used to compute the maximum height of an arbitrary string</span>
<span class="line-modified">275    *     of text.</span>
<span class="line-modified">276    *</span>
<span class="line-modified">277    *   min_Top_Side_Bearing ::</span>
<span class="line-modified">278    *     The minimum top side bearing of all glyphs within the font.</span>
<span class="line-modified">279    *</span>
<span class="line-modified">280    *   min_Bottom_Side_Bearing ::</span>
<span class="line-modified">281    *     The minimum bottom side bearing of all glyphs within the font.</span>
<span class="line-modified">282    *</span>
<span class="line-modified">283    *   yMax_Extent ::</span>
<span class="line-modified">284    *     The maximum vertical extent (i.e., the &#39;height&#39; of a glyph&#39;s</span>
<span class="line-modified">285    *     bounding box) for all glyphs in the font.</span>
<span class="line-modified">286    *</span>
<span class="line-modified">287    *   caret_Slope_Rise ::</span>
<span class="line-modified">288    *     The rise coefficient of the cursor&#39;s slope of the cursor</span>
<span class="line-modified">289    *     (slope=rise/run).</span>
<span class="line-modified">290    *</span>
<span class="line-modified">291    *   caret_Slope_Run ::</span>
<span class="line-modified">292    *     The run coefficient of the cursor&#39;s slope.</span>
<span class="line-modified">293    *</span>
<span class="line-modified">294    *   caret_Offset ::</span>
<span class="line-modified">295    *     The cursor&#39;s offset for slanted fonts.</span>
<span class="line-modified">296    *</span>
<span class="line-modified">297    *   Reserved ::</span>
<span class="line-modified">298    *     8~reserved bytes.</span>
<span class="line-modified">299    *</span>
<span class="line-modified">300    *   metric_Data_Format ::</span>
<span class="line-modified">301    *     Always~0.</span>
<span class="line-modified">302    *</span>
<span class="line-modified">303    *   number_Of_VMetrics ::</span>
<span class="line-modified">304    *     Number of VMetrics entries in the &#39;vmtx&#39; table -- this value can be</span>
<span class="line-modified">305    *     smaller than the total number of glyphs in the font.</span>
<span class="line-modified">306    *</span>
<span class="line-modified">307    *   long_metrics ::</span>
<span class="line-modified">308    *     A pointer into the &#39;vmtx&#39; table.</span>
<span class="line-modified">309    *</span>
<span class="line-modified">310    *   short_metrics ::</span>
<span class="line-modified">311    *     A pointer into the &#39;vmtx&#39; table.</span>
<span class="line-modified">312    *</span>
<span class="line-modified">313    * @note:</span>
<span class="line-modified">314    *   For an OpenType variation font, the values of the following fields can</span>
<span class="line-modified">315    *   change after a call to @FT_Set_Var_Design_Coordinates (and friends) if</span>
<span class="line-modified">316    *   the font contains an &#39;MVAR&#39; table: `Ascender`, `Descender`,</span>
<span class="line-modified">317    *   `Line_Gap`, `caret_Slope_Rise`, `caret_Slope_Run`, and `caret_Offset`.</span>
<span class="line-modified">318    */</span>




319   typedef struct  TT_VertHeader_
320   {
321     FT_Fixed   Version;
322     FT_Short   Ascender;
323     FT_Short   Descender;
324     FT_Short   Line_Gap;
325 
326     FT_UShort  advance_Height_Max;      /* advance height maximum */
327 
328     FT_Short   min_Top_Side_Bearing;    /* minimum top-sb          */
329     FT_Short   min_Bottom_Side_Bearing; /* minimum bottom-sb       */
330     FT_Short   yMax_Extent;             /* ymax extents            */
331     FT_Short   caret_Slope_Rise;
332     FT_Short   caret_Slope_Run;
333     FT_Short   caret_Offset;
334 
335     FT_Short   Reserved[4];
336 
337     FT_Short   metric_Data_Format;
338     FT_UShort  number_Of_VMetrics;
339 
340     /* The following fields are not defined by the OpenType specification */
341     /* but they are used to connect the metrics header to the relevant    */
<span class="line-modified">342     /* &#39;vmtx&#39; table.                                                      */</span>
343 
344     void*      long_metrics;
345     void*      short_metrics;
346 
347   } TT_VertHeader;
348 
349 
<span class="line-modified">350   /**************************************************************************</span>
<span class="line-modified">351    *</span>
<span class="line-modified">352    * @struct:</span>
<span class="line-modified">353    *   TT_OS2</span>
<span class="line-modified">354    *</span>
<span class="line-modified">355    * @description:</span>
<span class="line-modified">356    *   A structure to model a TrueType &#39;OS/2&#39; table.  All fields comply to</span>
<span class="line-modified">357    *   the OpenType specification.</span>
<span class="line-modified">358    *</span>
<span class="line-modified">359    *   Note that we now support old Mac fonts that do not include an &#39;OS/2&#39;</span>
<span class="line-modified">360    *   table.  In this case, the `version` field is always set to 0xFFFF.</span>
<span class="line-modified">361    *</span>
<span class="line-modified">362    * @note:</span>
<span class="line-modified">363    *   For an OpenType variation font, the values of the following fields can</span>
<span class="line-modified">364    *   change after a call to @FT_Set_Var_Design_Coordinates (and friends) if</span>
<span class="line-modified">365    *   the font contains an &#39;MVAR&#39; table: `sCapHeight`, `sTypoAscender`,</span>
<span class="line-modified">366    *   `sTypoDescender`, `sTypoLineGap`, `sxHeight`, `usWinAscent`,</span>
<span class="line-modified">367    *   `usWinDescent`, `yStrikeoutPosition`, `yStrikeoutSize`,</span>
<span class="line-modified">368    *   `ySubscriptXOffset`, `ySubScriptXSize`, `ySubscriptYOffset`,</span>
<span class="line-modified">369    *   `ySubscriptYSize`, `ySuperscriptXOffset`, `ySuperscriptXSize`,</span>
<span class="line-modified">370    *   `ySuperscriptYOffset`, and `ySuperscriptYSize`.</span>
<span class="line-modified">371    *</span>
<span class="line-modified">372    *   Possible values for bits in the `ulUnicodeRangeX` fields are given by</span>
<span class="line-modified">373    *   the @TT_UCR_XXX macros.</span>
<span class="line-modified">374    */</span>


375 
376   typedef struct  TT_OS2_
377   {
378     FT_UShort  version;                /* 0x0001 - more or 0xFFFF */
379     FT_Short   xAvgCharWidth;
380     FT_UShort  usWeightClass;
381     FT_UShort  usWidthClass;
382     FT_UShort  fsType;
383     FT_Short   ySubscriptXSize;
384     FT_Short   ySubscriptYSize;
385     FT_Short   ySubscriptXOffset;
386     FT_Short   ySubscriptYOffset;
387     FT_Short   ySuperscriptXSize;
388     FT_Short   ySuperscriptYSize;
389     FT_Short   ySuperscriptXOffset;
390     FT_Short   ySuperscriptYOffset;
391     FT_Short   yStrikeoutSize;
392     FT_Short   yStrikeoutPosition;
393     FT_Short   sFamilyClass;
394 
</pre>
<hr />
<pre>
414 
415     FT_ULong   ulCodePageRange1;       /* Bits 0-31   */
416     FT_ULong   ulCodePageRange2;       /* Bits 32-63  */
417 
418     /* only version 2 and higher: */
419 
420     FT_Short   sxHeight;
421     FT_Short   sCapHeight;
422     FT_UShort  usDefaultChar;
423     FT_UShort  usBreakChar;
424     FT_UShort  usMaxContext;
425 
426     /* only version 5 and higher: */
427 
428     FT_UShort  usLowerOpticalPointSize;       /* in twips (1/20th points) */
429     FT_UShort  usUpperOpticalPointSize;       /* in twips (1/20th points) */
430 
431   } TT_OS2;
432 
433 
<span class="line-modified">434   /**************************************************************************</span>
<span class="line-modified">435    *</span>
<span class="line-modified">436    * @struct:</span>
<span class="line-modified">437    *   TT_Postscript</span>
<span class="line-modified">438    *</span>
<span class="line-modified">439    * @description:</span>
<span class="line-modified">440    *   A structure to model a TrueType &#39;post&#39; table.  All fields comply to</span>
<span class="line-modified">441    *   the OpenType specification.  This structure does not reference a</span>
<span class="line-modified">442    *   font&#39;s PostScript glyph names; use @FT_Get_Glyph_Name to retrieve</span>
<span class="line-modified">443    *   them.</span>
<span class="line-modified">444    *</span>
<span class="line-modified">445    * @note:</span>
<span class="line-modified">446    *   For an OpenType variation font, the values of the following fields can</span>
<span class="line-modified">447    *   change after a call to @FT_Set_Var_Design_Coordinates (and friends) if</span>
<span class="line-modified">448    *   the font contains an &#39;MVAR&#39; table: `underlinePosition` and</span>
<span class="line-modified">449    *   `underlineThickness`.</span>
<span class="line-modified">450    */</span>
451   typedef struct  TT_Postscript_
452   {
453     FT_Fixed  FormatType;
454     FT_Fixed  italicAngle;
455     FT_Short  underlinePosition;
456     FT_Short  underlineThickness;
457     FT_ULong  isFixedPitch;
458     FT_ULong  minMemType42;
459     FT_ULong  maxMemType42;
460     FT_ULong  minMemType1;
461     FT_ULong  maxMemType1;
462 
<span class="line-modified">463     /* Glyph names follow in the &#39;post&#39; table, but we don&#39;t */</span>
464     /* load them by default.                                */
465 
466   } TT_Postscript;
467 
468 
<span class="line-modified">469   /**************************************************************************</span>
<span class="line-modified">470    *</span>
<span class="line-modified">471    * @struct:</span>
<span class="line-modified">472    *   TT_PCLT</span>
<span class="line-modified">473    *</span>
<span class="line-modified">474    * @description:</span>
<span class="line-modified">475    *   A structure to model a TrueType &#39;PCLT&#39; table.  All fields comply to</span>
<span class="line-modified">476    *   the OpenType specification.</span>
<span class="line-modified">477    */</span>
478   typedef struct  TT_PCLT_
479   {
480     FT_Fixed   Version;
481     FT_ULong   FontNumber;
482     FT_UShort  Pitch;
483     FT_UShort  xHeight;
484     FT_UShort  Style;
485     FT_UShort  TypeFamily;
486     FT_UShort  CapHeight;
487     FT_UShort  SymbolSet;
488     FT_Char    TypeFace[16];
489     FT_Char    CharacterComplement[8];
490     FT_Char    FileName[6];
491     FT_Char    StrokeWeight;
492     FT_Char    WidthType;
493     FT_Byte    SerifStyle;
494     FT_Byte    Reserved;
495 
496   } TT_PCLT;
497 
498 
<span class="line-modified">499   /**************************************************************************</span>
<span class="line-modified">500    *</span>
<span class="line-modified">501    * @struct:</span>
<span class="line-modified">502    *   TT_MaxProfile</span>
<span class="line-modified">503    *</span>
<span class="line-modified">504    * @description:</span>
<span class="line-modified">505    *   The maximum profile (&#39;maxp&#39;) table contains many max values, which can</span>
<span class="line-modified">506    *   be used to pre-allocate arrays for speeding up glyph loading and</span>
<span class="line-modified">507    *   hinting.</span>
<span class="line-modified">508    *</span>
<span class="line-modified">509    * @fields:</span>
<span class="line-modified">510    *   version ::</span>
<span class="line-modified">511    *     The version number.</span>
<span class="line-modified">512    *</span>
<span class="line-modified">513    *   numGlyphs ::</span>
<span class="line-modified">514    *     The number of glyphs in this TrueType font.</span>
<span class="line-modified">515    *</span>
<span class="line-modified">516    *   maxPoints ::</span>
<span class="line-modified">517    *     The maximum number of points in a non-composite TrueType glyph.  See</span>
<span class="line-modified">518    *     also `maxCompositePoints`.</span>
<span class="line-modified">519    *</span>
<span class="line-modified">520    *   maxContours ::</span>
<span class="line-modified">521    *     The maximum number of contours in a non-composite TrueType glyph.</span>
<span class="line-modified">522    *     See also `maxCompositeContours`.</span>
<span class="line-modified">523    *</span>
<span class="line-modified">524    *   maxCompositePoints ::</span>
<span class="line-modified">525    *     The maximum number of points in a composite TrueType glyph.  See</span>
<span class="line-modified">526    *     also `maxPoints`.</span>
<span class="line-modified">527    *</span>
<span class="line-modified">528    *   maxCompositeContours ::</span>
<span class="line-modified">529    *     The maximum number of contours in a composite TrueType glyph.  See</span>
<span class="line-modified">530    *     also `maxContours`.</span>
<span class="line-modified">531    *</span>
<span class="line-modified">532    *   maxZones ::</span>
<span class="line-modified">533    *     The maximum number of zones used for glyph hinting.</span>
<span class="line-modified">534    *</span>
<span class="line-modified">535    *   maxTwilightPoints ::</span>
<span class="line-modified">536    *     The maximum number of points in the twilight zone used for glyph</span>
<span class="line-modified">537    *     hinting.</span>
<span class="line-modified">538    *</span>
<span class="line-modified">539    *   maxStorage ::</span>
<span class="line-modified">540    *     The maximum number of elements in the storage area used for glyph</span>
<span class="line-modified">541    *     hinting.</span>
<span class="line-modified">542    *</span>
<span class="line-modified">543    *   maxFunctionDefs ::</span>
<span class="line-modified">544    *     The maximum number of function definitions in the TrueType bytecode</span>
<span class="line-modified">545    *     for this font.</span>
<span class="line-modified">546    *</span>
<span class="line-modified">547    *   maxInstructionDefs ::</span>
<span class="line-modified">548    *     The maximum number of instruction definitions in the TrueType</span>
<span class="line-modified">549    *     bytecode for this font.</span>
<span class="line-modified">550    *</span>
<span class="line-modified">551    *   maxStackElements ::</span>
<span class="line-modified">552    *     The maximum number of stack elements used during bytecode</span>
<span class="line-modified">553    *     interpretation.</span>
<span class="line-modified">554    *</span>
<span class="line-modified">555    *   maxSizeOfInstructions ::</span>
<span class="line-modified">556    *     The maximum number of TrueType opcodes used for glyph hinting.</span>
<span class="line-modified">557    *</span>
<span class="line-modified">558    *   maxComponentElements ::</span>
<span class="line-modified">559    *     The maximum number of simple (i.e., non-composite) glyphs in a</span>
<span class="line-modified">560    *     composite glyph.</span>
<span class="line-modified">561    *</span>
<span class="line-modified">562    *   maxComponentDepth ::</span>
<span class="line-added">563    *     The maximum nesting depth of composite glyphs.</span>
<span class="line-added">564    *</span>
<span class="line-added">565    * @note:</span>
<span class="line-added">566    *   This structure is only used during font loading.</span>
<span class="line-added">567    */</span>
568   typedef struct  TT_MaxProfile_
569   {
570     FT_Fixed   version;
571     FT_UShort  numGlyphs;
572     FT_UShort  maxPoints;
573     FT_UShort  maxContours;
574     FT_UShort  maxCompositePoints;
575     FT_UShort  maxCompositeContours;
576     FT_UShort  maxZones;
577     FT_UShort  maxTwilightPoints;
578     FT_UShort  maxStorage;
579     FT_UShort  maxFunctionDefs;
580     FT_UShort  maxInstructionDefs;
581     FT_UShort  maxStackElements;
582     FT_UShort  maxSizeOfInstructions;
583     FT_UShort  maxComponentElements;
584     FT_UShort  maxComponentDepth;
585 
586   } TT_MaxProfile;
587 
588 
<span class="line-modified">589   /**************************************************************************</span>
<span class="line-modified">590    *</span>
<span class="line-modified">591    * @enum:</span>
<span class="line-modified">592    *   FT_Sfnt_Tag</span>
<span class="line-modified">593    *</span>
<span class="line-modified">594    * @description:</span>
<span class="line-modified">595    *   An enumeration to specify indices of SFNT tables loaded and parsed by</span>
<span class="line-modified">596    *   FreeType during initialization of an SFNT font.  Used in the</span>
<span class="line-modified">597    *   @FT_Get_Sfnt_Table API function.</span>
<span class="line-modified">598    *</span>
<span class="line-modified">599    * @values:</span>
<span class="line-modified">600    *   FT_SFNT_HEAD ::</span>
<span class="line-modified">601    *     To access the font&#39;s @TT_Header structure.</span>
<span class="line-modified">602    *</span>
<span class="line-modified">603    *   FT_SFNT_MAXP ::</span>
<span class="line-modified">604    *     To access the font&#39;s @TT_MaxProfile structure.</span>
<span class="line-modified">605    *</span>
<span class="line-modified">606    *   FT_SFNT_OS2 ::</span>
<span class="line-modified">607    *     To access the font&#39;s @TT_OS2 structure.</span>
<span class="line-modified">608    *</span>
<span class="line-modified">609    *   FT_SFNT_HHEA ::</span>
<span class="line-modified">610    *     To access the font&#39;s @TT_HoriHeader structure.</span>
<span class="line-modified">611    *</span>
<span class="line-modified">612    *   FT_SFNT_VHEA ::</span>
<span class="line-modified">613    *     To access the font&#39;s @TT_VertHeader structure.</span>
<span class="line-added">614    *</span>
<span class="line-added">615    *   FT_SFNT_POST ::</span>
<span class="line-added">616    *     To access the font&#39;s @TT_Postscript structure.</span>
<span class="line-added">617    *</span>
<span class="line-added">618    *   FT_SFNT_PCLT ::</span>
<span class="line-added">619    *     To access the font&#39;s @TT_PCLT structure.</span>
<span class="line-added">620    */</span>
621   typedef enum  FT_Sfnt_Tag_
622   {
623     FT_SFNT_HEAD,
624     FT_SFNT_MAXP,
625     FT_SFNT_OS2,
626     FT_SFNT_HHEA,
627     FT_SFNT_VHEA,
628     FT_SFNT_POST,
629     FT_SFNT_PCLT,
630 
631     FT_SFNT_MAX
632 
633   } FT_Sfnt_Tag;
634 
<span class="line-modified">635   /* these constants are deprecated; use the corresponding `FT_Sfnt_Tag` */</span>
636   /* values instead                                                      */
637 #define ft_sfnt_head  FT_SFNT_HEAD
638 #define ft_sfnt_maxp  FT_SFNT_MAXP
639 #define ft_sfnt_os2   FT_SFNT_OS2
640 #define ft_sfnt_hhea  FT_SFNT_HHEA
641 #define ft_sfnt_vhea  FT_SFNT_VHEA
642 #define ft_sfnt_post  FT_SFNT_POST
643 #define ft_sfnt_pclt  FT_SFNT_PCLT
644 
645 
<span class="line-modified">646   /**************************************************************************</span>
<span class="line-modified">647    *</span>
<span class="line-modified">648    * @function:</span>
<span class="line-modified">649    *   FT_Get_Sfnt_Table</span>
<span class="line-modified">650    *</span>
<span class="line-modified">651    * @description:</span>
<span class="line-modified">652    *   Return a pointer to a given SFNT table stored within a face.</span>
<span class="line-modified">653    *</span>
<span class="line-modified">654    * @input:</span>
<span class="line-modified">655    *   face ::</span>
<span class="line-modified">656    *     A handle to the source.</span>
<span class="line-modified">657    *</span>
<span class="line-modified">658    *   tag ::</span>
<span class="line-modified">659    *     The index of the SFNT table.</span>
<span class="line-modified">660    *</span>
<span class="line-modified">661    * @return:</span>
<span class="line-modified">662    *   A type-less pointer to the table.  This will be `NULL` in case of</span>
<span class="line-modified">663    *   error, or if the corresponding table was not found **OR** loaded from</span>
<span class="line-modified">664    *   the file.</span>
<span class="line-modified">665    *</span>
<span class="line-modified">666    *   Use a typecast according to `tag` to access the structure elements.</span>
<span class="line-modified">667    *</span>
<span class="line-modified">668    * @note:</span>
<span class="line-modified">669    *   The table is owned by the face object and disappears with it.</span>
<span class="line-modified">670    *</span>
<span class="line-modified">671    *   This function is only useful to access SFNT tables that are loaded by</span>
<span class="line-modified">672    *   the sfnt, truetype, and opentype drivers.  See @FT_Sfnt_Tag for a</span>
<span class="line-modified">673    *   list.</span>
<span class="line-modified">674    *</span>
<span class="line-modified">675    * @example:</span>
<span class="line-modified">676    *   Here is an example demonstrating access to the &#39;vhea&#39; table.</span>
<span class="line-modified">677    *</span>
<span class="line-modified">678    *   ```</span>
<span class="line-modified">679    *     TT_VertHeader*  vert_header;</span>
<span class="line-modified">680    *</span>
<span class="line-modified">681    *</span>
<span class="line-modified">682    *     vert_header =</span>
<span class="line-modified">683    *       (TT_VertHeader*)FT_Get_Sfnt_Table( face, FT_SFNT_VHEA );</span>
<span class="line-added">684    *   ```</span>
<span class="line-added">685    */</span>
686   FT_EXPORT( void* )
687   FT_Get_Sfnt_Table( FT_Face      face,
688                      FT_Sfnt_Tag  tag );
689 
690 
691   /**************************************************************************
692    *
693    * @function:
694    *   FT_Load_Sfnt_Table
695    *
696    * @description:
697    *   Load any SFNT font table into client memory.
698    *
699    * @input:
700    *   face ::
701    *     A handle to the source face.
702    *
703    *   tag ::
<span class="line-modified">704    *     The four-byte tag of the table to load.  Use value~0 if you want to</span>
<span class="line-modified">705    *     access the whole font file.  Otherwise, you can use one of the</span>
706    *     definitions found in the @FT_TRUETYPE_TAGS_H file, or forge a new
707    *     one with @FT_MAKE_TAG.
708    *
709    *   offset ::
710    *     The starting offset in the table (or file if tag~==~0).
711    *
712    * @output:
713    *   buffer ::
714    *     The target buffer address.  The client must ensure that the memory
715    *     array is big enough to hold the data.
716    *
717    * @inout:
718    *   length ::
<span class="line-modified">719    *     If the `length` parameter is `NULL`, try to load the whole table.</span>
720    *     Return an error code if it fails.
721    *
<span class="line-modified">722    *     Else, if `*length` is~0, exit immediately while returning the</span>
723    *     table&#39;s (or file) full size in it.
724    *
725    *     Else the number of bytes to read from the table or file, from the
726    *     starting offset.
727    *
728    * @return:
729    *   FreeType error code.  0~means success.
730    *
731    * @note:
732    *   If you need to determine the table&#39;s length you should first call this
<span class="line-modified">733    *   function with `*length` set to~0, as in the following example:</span>
734    *
<span class="line-modified">735    *   ```</span>
<span class="line-modified">736    *     FT_ULong  length = 0;</span>
737    *
738    *
<span class="line-modified">739    *     error = FT_Load_Sfnt_Table( face, tag, 0, NULL, &amp;length );</span>
<span class="line-modified">740    *     if ( error ) { ... table does not exist ... }</span>
741    *
<span class="line-modified">742    *     buffer = malloc( length );</span>
<span class="line-modified">743    *     if ( buffer == NULL ) { ... not enough memory ... }</span>
744    *
<span class="line-modified">745    *     error = FT_Load_Sfnt_Table( face, tag, 0, buffer, &amp;length );</span>
<span class="line-modified">746    *     if ( error ) { ... could not load table ... }</span>
<span class="line-modified">747    *   ```</span>
748    *
749    *   Note that structures like @TT_Header or @TT_OS2 can&#39;t be used with
750    *   this function; they are limited to @FT_Get_Sfnt_Table.  Reason is that
751    *   those structures depend on the processor architecture, with varying
752    *   size (e.g. 32bit vs. 64bit) or order (big endian vs. little endian).
753    *
754    */
755   FT_EXPORT( FT_Error )
756   FT_Load_Sfnt_Table( FT_Face    face,
757                       FT_ULong   tag,
758                       FT_Long    offset,
759                       FT_Byte*   buffer,
760                       FT_ULong*  length );
761 
762 
763   /**************************************************************************
764    *
765    * @function:
766    *   FT_Sfnt_Table_Info
767    *
768    * @description:
769    *   Return information on an SFNT table.
770    *
771    * @input:
772    *   face ::
773    *     A handle to the source face.
774    *
775    *   table_index ::
776    *     The index of an SFNT table.  The function returns
777    *     FT_Err_Table_Missing for an invalid value.
778    *
779    * @inout:
780    *   tag ::
<span class="line-modified">781    *     The name tag of the SFNT table.  If the value is `NULL`,</span>
<span class="line-modified">782    *     `table_index` is ignored, and `length` returns the number of SFNT</span>
<span class="line-modified">783    *     tables in the font.</span>
784    *
785    * @output:
786    *   length ::
<span class="line-modified">787    *     The length of the SFNT table (or the number of SFNT tables,</span>
<span class="line-modified">788    *     depending on `tag`).</span>
789    *
790    * @return:
791    *   FreeType error code.  0~means success.
792    *
793    * @note:
794    *   While parsing fonts, FreeType handles SFNT tables with length zero as
795    *   missing.
796    *
797    */
798   FT_EXPORT( FT_Error )
799   FT_Sfnt_Table_Info( FT_Face    face,
800                       FT_UInt    table_index,
801                       FT_ULong  *tag,
802                       FT_ULong  *length );
803 
804 
<span class="line-modified">805   /**************************************************************************</span>
<span class="line-modified">806    *</span>
<span class="line-modified">807    * @function:</span>
<span class="line-modified">808    *   FT_Get_CMap_Language_ID</span>
<span class="line-modified">809    *</span>
<span class="line-modified">810    * @description:</span>
<span class="line-modified">811    *   Return cmap language ID as specified in the OpenType standard.</span>
<span class="line-modified">812    *   Definitions of language ID values are in file @FT_TRUETYPE_IDS_H.</span>
<span class="line-modified">813    *</span>
<span class="line-modified">814    * @input:</span>
<span class="line-modified">815    *   charmap ::</span>
<span class="line-modified">816    *     The target charmap.</span>
<span class="line-modified">817    *</span>
<span class="line-modified">818    * @return:</span>
<span class="line-modified">819    *   The language ID of `charmap`.  If `charmap` doesn&#39;t belong to an SFNT</span>
<span class="line-modified">820    *   face, just return~0 as the default value.</span>
<span class="line-modified">821    *</span>
<span class="line-modified">822    *   For a format~14 cmap (to access Unicode IVS), the return value is</span>
<span class="line-modified">823    *   0xFFFFFFFF.</span>
<span class="line-modified">824    */</span>
825   FT_EXPORT( FT_ULong )
826   FT_Get_CMap_Language_ID( FT_CharMap  charmap );
827 
828 
<span class="line-modified">829   /**************************************************************************</span>
<span class="line-modified">830    *</span>
<span class="line-modified">831    * @function:</span>
<span class="line-modified">832    *   FT_Get_CMap_Format</span>
<span class="line-modified">833    *</span>
<span class="line-modified">834    * @description:</span>
<span class="line-modified">835    *   Return the format of an SFNT &#39;cmap&#39; table.</span>
<span class="line-modified">836    *</span>
<span class="line-modified">837    * @input:</span>
<span class="line-modified">838    *   charmap ::</span>
<span class="line-modified">839    *     The target charmap.</span>
<span class="line-modified">840    *</span>
<span class="line-modified">841    * @return:</span>
<span class="line-modified">842    *   The format of `charmap`.  If `charmap` doesn&#39;t belong to an SFNT face,</span>
<span class="line-modified">843    *   return -1.</span>
<span class="line-modified">844    */</span>
845   FT_EXPORT( FT_Long )
846   FT_Get_CMap_Format( FT_CharMap  charmap );
847 
848   /* */
849 
850 
851 FT_END_HEADER
852 
853 #endif /* TTTABLES_H_ */
854 
855 
856 /* END */
</pre>
</td>
</tr>
</table>
<center><a href="ttnameid.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="tttags.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>