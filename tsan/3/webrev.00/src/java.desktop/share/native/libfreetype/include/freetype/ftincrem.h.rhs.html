<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/java.desktop/share/native/libfreetype/include/freetype/ftincrem.h</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre><a name="1" id="anc1"></a><span class="line-modified">  1 /****************************************************************************</span>
<span class="line-modified">  2  *</span>
<span class="line-modified">  3  * ftincrem.h</span>
<span class="line-modified">  4  *</span>
<span class="line-modified">  5  *   FreeType incremental loading (specification).</span>
<span class="line-modified">  6  *</span>
<span class="line-modified">  7  * Copyright (C) 2002-2019 by</span>
<span class="line-modified">  8  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified">  9  *</span>
<span class="line-modified"> 10  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified"> 11  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified"> 12  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified"> 13  * this file you indicate that you have read the license and</span>
<span class="line-modified"> 14  * understand and accept it fully.</span>
<span class="line-modified"> 15  *</span>
<span class="line-modified"> 16  */</span>
 17 
 18 
 19 #ifndef FTINCREM_H_
 20 #define FTINCREM_H_
 21 
 22 #include &lt;ft2build.h&gt;
 23 #include FT_FREETYPE_H
 24 #include FT_PARAMETER_TAGS_H
 25 
 26 #ifdef FREETYPE_H
 27 #error &quot;freetype.h of FreeType 1 has been loaded!&quot;
 28 #error &quot;Please fix the directory search order for header files&quot;
 29 #error &quot;so that freetype.h of FreeType 2 is found first.&quot;
 30 #endif
 31 
 32 
 33 FT_BEGIN_HEADER
 34 
<a name="2" id="anc2"></a><span class="line-modified"> 35   /**************************************************************************</span>
 36    *
 37    * @section:
 38    *    incremental
 39    *
 40    * @title:
 41    *    Incremental Loading
 42    *
 43    * @abstract:
 44    *    Custom Glyph Loading.
 45    *
 46    * @description:
 47    *   This section contains various functions used to perform so-called
<a name="3" id="anc3"></a><span class="line-modified"> 48    *   &#39;incremental&#39; glyph loading.  This is a mode where all glyphs loaded</span>
 49    *   from a given @FT_Face are provided by the client application.
 50    *
 51    *   Apart from that, all other tables are loaded normally from the font
 52    *   file.  This mode is useful when FreeType is used within another
 53    *   engine, e.g., a PostScript Imaging Processor.
 54    *
 55    *   To enable this mode, you must use @FT_Open_Face, passing an
 56    *   @FT_Parameter with the @FT_PARAM_TAG_INCREMENTAL tag and an
 57    *   @FT_Incremental_Interface value.  See the comments for
 58    *   @FT_Incremental_InterfaceRec for an example.
 59    *
 60    */
 61 
 62 
<a name="4" id="anc4"></a><span class="line-modified"> 63   /**************************************************************************</span>
 64    *
 65    * @type:
 66    *   FT_Incremental
 67    *
 68    * @description:
 69    *   An opaque type describing a user-provided object used to implement
<a name="5" id="anc5"></a><span class="line-modified"> 70    *   &#39;incremental&#39; glyph loading within FreeType.  This is used to support</span>
<span class="line-modified"> 71    *   embedded fonts in certain environments (e.g., PostScript</span>
<span class="line-modified"> 72    *   interpreters), where the glyph data isn&#39;t in the font file, or must be</span>
<span class="line-modified"> 73    *   overridden by different values.</span>
 74    *
 75    * @note:
<a name="6" id="anc6"></a><span class="line-modified"> 76    *   It is up to client applications to create and implement</span>
<span class="line-modified"> 77    *   @FT_Incremental objects, as long as they provide implementations for</span>
<span class="line-modified"> 78    *   the methods @FT_Incremental_GetGlyphDataFunc,</span>
<span class="line-modified"> 79    *   @FT_Incremental_FreeGlyphDataFunc and</span>
<span class="line-added"> 80    *   @FT_Incremental_GetGlyphMetricsFunc.</span>
 81    *
 82    *   See the description of @FT_Incremental_InterfaceRec to understand how
 83    *   to use incremental objects with FreeType.
 84    *
 85    */
 86   typedef struct FT_IncrementalRec_*  FT_Incremental;
 87 
 88 
<a name="7" id="anc7"></a><span class="line-modified"> 89   /**************************************************************************</span>
 90    *
 91    * @struct:
 92    *   FT_Incremental_MetricsRec
 93    *
 94    * @description:
<a name="8" id="anc8"></a><span class="line-modified"> 95    *   A small structure used to contain the basic glyph metrics returned by</span>
<span class="line-modified"> 96    *   the @FT_Incremental_GetGlyphMetricsFunc method.</span>
 97    *
 98    * @fields:
 99    *   bearing_x ::
100    *     Left bearing, in font units.
101    *
102    *   bearing_y ::
103    *     Top bearing, in font units.
104    *
105    *   advance ::
106    *     Horizontal component of glyph advance, in font units.
107    *
108    *   advance_v ::
109    *     Vertical component of glyph advance, in font units.
110    *
111    * @note:
112    *   These correspond to horizontal or vertical metrics depending on the
<a name="9" id="anc9"></a><span class="line-modified">113    *   value of the `vertical` argument to the function</span>
114    *   @FT_Incremental_GetGlyphMetricsFunc.
115    *
116    */
117   typedef struct  FT_Incremental_MetricsRec_
118   {
119     FT_Long  bearing_x;
120     FT_Long  bearing_y;
121     FT_Long  advance;
122     FT_Long  advance_v;     /* since 2.3.12 */
123 
124   } FT_Incremental_MetricsRec;
125 
126 
<a name="10" id="anc10"></a><span class="line-modified">127   /**************************************************************************</span>
128    *
129    * @struct:
130    *   FT_Incremental_Metrics
131    *
132    * @description:
133    *   A handle to an @FT_Incremental_MetricsRec structure.
134    *
135    */
136    typedef struct FT_Incremental_MetricsRec_*  FT_Incremental_Metrics;
137 
138 
<a name="11" id="anc11"></a><span class="line-modified">139   /**************************************************************************</span>
140    *
141    * @type:
142    *   FT_Incremental_GetGlyphDataFunc
143    *
144    * @description:
145    *   A function called by FreeType to access a given glyph&#39;s data bytes
146    *   during @FT_Load_Glyph or @FT_Load_Char if incremental loading is
147    *   enabled.
148    *
149    *   Note that the format of the glyph&#39;s data bytes depends on the font
150    *   file format.  For TrueType, it must correspond to the raw bytes within
<a name="12" id="anc12"></a><span class="line-modified">151    *   the &#39;glyf&#39; table.  For PostScript formats, it must correspond to the</span>
<span class="line-modified">152    *   **unencrypted** charstring bytes, without any `lenIV` header.  It is</span>
153    *   undefined for any other format.
154    *
155    * @input:
156    *   incremental ::
157    *     Handle to an opaque @FT_Incremental handle provided by the client
158    *     application.
159    *
160    *   glyph_index ::
161    *     Index of relevant glyph.
162    *
163    * @output:
164    *   adata ::
165    *     A structure describing the returned glyph data bytes (which will be
166    *     accessed as a read-only byte block).
167    *
168    * @return:
169    *   FreeType error code.  0~means success.
170    *
171    * @note:
172    *   If this function returns successfully the method
<a name="13" id="anc13"></a><span class="line-modified">173    *   @FT_Incremental_FreeGlyphDataFunc will be called later to release the</span>
<span class="line-modified">174    *   data bytes.</span>
175    *
176    *   Nested calls to @FT_Incremental_GetGlyphDataFunc can happen for
177    *   compound glyphs.
178    *
179    */
180   typedef FT_Error
181   (*FT_Incremental_GetGlyphDataFunc)( FT_Incremental  incremental,
182                                       FT_UInt         glyph_index,
183                                       FT_Data*        adata );
184 
185 
<a name="14" id="anc14"></a><span class="line-modified">186   /**************************************************************************</span>
187    *
188    * @type:
189    *   FT_Incremental_FreeGlyphDataFunc
190    *
191    * @description:
192    *   A function used to release the glyph data bytes returned by a
193    *   successful call to @FT_Incremental_GetGlyphDataFunc.
194    *
195    * @input:
196    *   incremental ::
197    *     A handle to an opaque @FT_Incremental handle provided by the client
198    *     application.
199    *
200    *   data ::
201    *     A structure describing the glyph data bytes (which will be accessed
202    *     as a read-only byte block).
203    *
204    */
205   typedef void
206   (*FT_Incremental_FreeGlyphDataFunc)( FT_Incremental  incremental,
207                                        FT_Data*        data );
208 
209 
<a name="15" id="anc15"></a><span class="line-modified">210   /**************************************************************************</span>
211    *
212    * @type:
213    *   FT_Incremental_GetGlyphMetricsFunc
214    *
215    * @description:
216    *   A function used to retrieve the basic metrics of a given glyph index
217    *   before accessing its data.  This is necessary because, in certain
<a name="16" id="anc16"></a><span class="line-modified">218    *   formats like TrueType, the metrics are stored in a different place</span>
<span class="line-modified">219    *   from the glyph images proper.</span>
220    *
221    * @input:
222    *   incremental ::
223    *     A handle to an opaque @FT_Incremental handle provided by the client
224    *     application.
225    *
226    *   glyph_index ::
227    *     Index of relevant glyph.
228    *
229    *   vertical ::
230    *     If true, return vertical metrics.
231    *
232    *   ametrics ::
<a name="17" id="anc17"></a><span class="line-modified">233    *     This parameter is used for both input and output.  The original</span>
<span class="line-modified">234    *     glyph metrics, if any, in font units.  If metrics are not available</span>
<span class="line-modified">235    *     all the values must be set to zero.</span>
236    *
237    * @output:
238    *   ametrics ::
239    *     The replacement glyph metrics in font units.
240    *
241    */
242   typedef FT_Error
243   (*FT_Incremental_GetGlyphMetricsFunc)
244                       ( FT_Incremental              incremental,
245                         FT_UInt                     glyph_index,
246                         FT_Bool                     vertical,
247                         FT_Incremental_MetricsRec  *ametrics );
248 
249 
250   /**************************************************************************
251    *
252    * @struct:
253    *   FT_Incremental_FuncsRec
254    *
255    * @description:
<a name="18" id="anc18"></a><span class="line-modified">256    *   A table of functions for accessing fonts that load data incrementally.</span>
<span class="line-modified">257    *   Used in @FT_Incremental_InterfaceRec.</span>
258    *
259    * @fields:
260    *   get_glyph_data ::
261    *     The function to get glyph data.  Must not be null.
262    *
263    *   free_glyph_data ::
264    *     The function to release glyph data.  Must not be null.
265    *
266    *   get_glyph_metrics ::
<a name="19" id="anc19"></a><span class="line-modified">267    *     The function to get glyph metrics.  May be null if the font does not</span>
<span class="line-modified">268    *     provide overriding glyph metrics.</span>
269    *
270    */
271   typedef struct  FT_Incremental_FuncsRec_
272   {
273     FT_Incremental_GetGlyphDataFunc     get_glyph_data;
274     FT_Incremental_FreeGlyphDataFunc    free_glyph_data;
275     FT_Incremental_GetGlyphMetricsFunc  get_glyph_metrics;
276 
277   } FT_Incremental_FuncsRec;
278 
279 
<a name="20" id="anc20"></a><span class="line-modified">280   /**************************************************************************</span>
281    *
282    * @struct:
283    *   FT_Incremental_InterfaceRec
284    *
285    * @description:
286    *   A structure to be used with @FT_Open_Face to indicate that the user
287    *   wants to support incremental glyph loading.  You should use it with
288    *   @FT_PARAM_TAG_INCREMENTAL as in the following example:
289    *
<a name="21" id="anc21"></a><span class="line-modified">290    *   ```</span>
<span class="line-modified">291    *     FT_Incremental_InterfaceRec  inc_int;</span>
<span class="line-modified">292    *     FT_Parameter                 parameter;</span>
<span class="line-modified">293    *     FT_Open_Args                 open_args;</span>
294    *
295    *
<a name="22" id="anc22"></a><span class="line-modified">296    *     // set up incremental descriptor</span>
<span class="line-modified">297    *     inc_int.funcs  = my_funcs;</span>
<span class="line-modified">298    *     inc_int.object = my_object;</span>
299    *
<a name="23" id="anc23"></a><span class="line-modified">300    *     // set up optional parameter</span>
<span class="line-modified">301    *     parameter.tag  = FT_PARAM_TAG_INCREMENTAL;</span>
<span class="line-modified">302    *     parameter.data = &amp;inc_int;</span>
303    *
<a name="24" id="anc24"></a><span class="line-modified">304    *     // set up FT_Open_Args structure</span>
<span class="line-modified">305    *     open_args.flags      = FT_OPEN_PATHNAME | FT_OPEN_PARAMS;</span>
<span class="line-modified">306    *     open_args.pathname   = my_font_pathname;</span>
<span class="line-modified">307    *     open_args.num_params = 1;</span>
<span class="line-modified">308    *     open_args.params     = &amp;parameter; // we use one optional argument</span>
309    *
<a name="25" id="anc25"></a><span class="line-modified">310    *     // open the font</span>
<span class="line-modified">311    *     error = FT_Open_Face( library, &amp;open_args, index, &amp;face );</span>
<span class="line-modified">312    *     ...</span>
<span class="line-modified">313    *   ```</span>
314    *
315    */
316   typedef struct  FT_Incremental_InterfaceRec_
317   {
318     const FT_Incremental_FuncsRec*  funcs;
319     FT_Incremental                  object;
320 
321   } FT_Incremental_InterfaceRec;
322 
323 
<a name="26" id="anc26"></a><span class="line-modified">324   /**************************************************************************</span>
325    *
326    * @type:
327    *   FT_Incremental_Interface
328    *
329    * @description:
330    *   A pointer to an @FT_Incremental_InterfaceRec structure.
331    *
332    */
333   typedef FT_Incremental_InterfaceRec*   FT_Incremental_Interface;
334 
335 
336   /* */
337 
338 
339 FT_END_HEADER
340 
341 #endif /* FTINCREM_H_ */
342 
343 
344 /* END */
<a name="27" id="anc27"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="27" type="hidden" />
</body>
</html>