<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/java.desktop/share/native/libfreetype/src/pshinter/pshmod.c</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre><a name="1" id="anc1"></a><span class="line-modified">  1 /****************************************************************************</span>
<span class="line-modified">  2  *</span>
<span class="line-modified">  3  * pshmod.c</span>
<span class="line-modified">  4  *</span>
<span class="line-modified">  5  *   FreeType PostScript hinter module implementation (body).</span>
<span class="line-modified">  6  *</span>
<span class="line-modified">  7  * Copyright (C) 2001-2019 by</span>
<span class="line-modified">  8  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified">  9  *</span>
<span class="line-modified"> 10  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified"> 11  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified"> 12  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified"> 13  * this file you indicate that you have read the license and</span>
<span class="line-modified"> 14  * understand and accept it fully.</span>
<span class="line-modified"> 15  *</span>
<span class="line-modified"> 16  */</span>
 17 
 18 
 19 #include &lt;ft2build.h&gt;
 20 #include FT_INTERNAL_OBJECTS_H
 21 #include &quot;pshrec.h&quot;
 22 #include &quot;pshalgo.h&quot;
<a name="2" id="anc2"></a>
 23 
 24 
 25   /* the Postscript Hinter module structure */
 26   typedef struct  PS_Hinter_Module_Rec_
 27   {
 28     FT_ModuleRec          root;
 29     PS_HintsRec           ps_hints;
 30 
 31     PSH_Globals_FuncsRec  globals_funcs;
 32     T1_Hints_FuncsRec     t1_funcs;
 33     T2_Hints_FuncsRec     t2_funcs;
 34 
 35   } PS_Hinter_ModuleRec, *PS_Hinter_Module;
 36 
 37 
 38   /* finalize module */
 39   FT_CALLBACK_DEF( void )
 40   ps_hinter_done( PS_Hinter_Module  module )
 41   {
 42     module-&gt;t1_funcs.hints = NULL;
 43     module-&gt;t2_funcs.hints = NULL;
 44 
 45     ps_hints_done( &amp;module-&gt;ps_hints );
 46   }
 47 
 48 
 49   /* initialize module, create hints recorder and the interface */
 50   FT_CALLBACK_DEF( FT_Error )
 51   ps_hinter_init( PS_Hinter_Module  module )
 52   {
 53     FT_Memory  memory = module-&gt;root.memory;
 54     void*      ph     = &amp;module-&gt;ps_hints;
 55 
 56 
 57     ps_hints_init( &amp;module-&gt;ps_hints, memory );
 58 
 59     psh_globals_funcs_init( &amp;module-&gt;globals_funcs );
 60 
 61     t1_hints_funcs_init( &amp;module-&gt;t1_funcs );
 62     module-&gt;t1_funcs.hints = (T1_Hints)ph;
 63 
 64     t2_hints_funcs_init( &amp;module-&gt;t2_funcs );
 65     module-&gt;t2_funcs.hints = (T2_Hints)ph;
 66 
 67     return 0;
 68   }
 69 
 70 
 71   /* returns global hints interface */
 72   FT_CALLBACK_DEF( PSH_Globals_Funcs )
 73   pshinter_get_globals_funcs( FT_Module  module )
 74   {
 75     return &amp;((PS_Hinter_Module)module)-&gt;globals_funcs;
 76   }
 77 
 78 
 79   /* return Type 1 hints interface */
 80   FT_CALLBACK_DEF( T1_Hints_Funcs )
 81   pshinter_get_t1_funcs( FT_Module  module )
 82   {
 83     return &amp;((PS_Hinter_Module)module)-&gt;t1_funcs;
 84   }
 85 
 86 
 87   /* return Type 2 hints interface */
 88   FT_CALLBACK_DEF( T2_Hints_Funcs )
 89   pshinter_get_t2_funcs( FT_Module  module )
 90   {
 91     return &amp;((PS_Hinter_Module)module)-&gt;t2_funcs;
 92   }
 93 
 94 
 95   FT_DEFINE_PSHINTER_INTERFACE(
 96     pshinter_interface,
 97 
 98     pshinter_get_globals_funcs,
 99     pshinter_get_t1_funcs,
100     pshinter_get_t2_funcs
101   )
102 
103 
104   FT_DEFINE_MODULE(
105     pshinter_module_class,
106 
107     0,
108     sizeof ( PS_Hinter_ModuleRec ),
109     &quot;pshinter&quot;,
110     0x10000L,
111     0x20000L,
112 
<a name="3" id="anc3"></a><span class="line-modified">113     &amp;pshinter_interface,        /* module-specific interface */</span>
114 
115     (FT_Module_Constructor)ps_hinter_init,  /* module_init   */
116     (FT_Module_Destructor) ps_hinter_done,  /* module_done   */
117     (FT_Module_Requester)  NULL             /* get_interface */
118   )
119 
120 /* END */
<a name="4" id="anc4"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="4" type="hidden" />
</body>
</html>