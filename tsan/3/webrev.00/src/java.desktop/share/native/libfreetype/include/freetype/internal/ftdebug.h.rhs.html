<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/java.desktop/share/native/libfreetype/include/freetype/internal/ftdebug.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre><a name="1" id="anc1"></a><span class="line-modified">  1 /****************************************************************************</span>
<span class="line-modified">  2  *</span>
<span class="line-modified">  3  * ftdebug.h</span>
<span class="line-modified">  4  *</span>
<span class="line-modified">  5  *   Debugging and logging component (specification).</span>
<span class="line-modified">  6  *</span>
<span class="line-modified">  7  * Copyright (C) 1996-2019 by</span>
<span class="line-modified">  8  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified">  9  *</span>
<span class="line-modified"> 10  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified"> 11  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified"> 12  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified"> 13  * this file you indicate that you have read the license and</span>
<span class="line-modified"> 14  * understand and accept it fully.</span>
<span class="line-modified"> 15  *</span>
<span class="line-modified"> 16  *</span>
<span class="line-modified"> 17  * IMPORTANT: A description of FreeType&#39;s debugging support can be</span>
<span class="line-modified"> 18  *             found in &#39;docs/DEBUG.TXT&#39;.  Read it if you need to use or</span>
<span class="line-modified"> 19  *             understand this code.</span>
<span class="line-modified"> 20  *</span>
<span class="line-modified"> 21  */</span>
 22 
 23 
 24 #ifndef FTDEBUG_H_
 25 #define FTDEBUG_H_
 26 
 27 
 28 #include &lt;ft2build.h&gt;
 29 #include FT_CONFIG_CONFIG_H
 30 #include FT_FREETYPE_H
 31 
 32 
 33 FT_BEGIN_HEADER
 34 
 35 
 36   /* force the definition of FT_DEBUG_LEVEL_ERROR if FT_DEBUG_LEVEL_TRACE */
 37   /* is already defined; this simplifies the following #ifdefs            */
 38   /*                                                                      */
 39 #ifdef FT_DEBUG_LEVEL_TRACE
 40 #undef  FT_DEBUG_LEVEL_ERROR
 41 #define FT_DEBUG_LEVEL_ERROR
 42 #endif
 43 
 44 
<a name="2" id="anc2"></a><span class="line-modified"> 45   /**************************************************************************</span>
<span class="line-modified"> 46    *</span>
<span class="line-modified"> 47    * Define the trace enums as well as the trace levels array when they are</span>
<span class="line-modified"> 48    * needed.</span>
<span class="line-modified"> 49    *</span>
<span class="line-modified"> 50    */</span>
 51 
 52 #ifdef FT_DEBUG_LEVEL_TRACE
 53 
 54 #define FT_TRACE_DEF( x )  trace_ ## x ,
 55 
 56   /* defining the enumeration */
 57   typedef enum  FT_Trace_
 58   {
 59 #include FT_INTERNAL_TRACE_H
 60     trace_count
 61 
 62   } FT_Trace;
 63 
 64 
<a name="3" id="anc3"></a><span class="line-modified"> 65   /* a pointer to the array of trace levels, */</span>
<span class="line-modified"> 66   /* provided by `src/base/ftdebug.c&#39;        */</span>
<span class="line-added"> 67   extern int*  ft_trace_levels;</span>
 68 
 69 #undef FT_TRACE_DEF
 70 
 71 #endif /* FT_DEBUG_LEVEL_TRACE */
 72 
 73 
<a name="4" id="anc4"></a><span class="line-modified"> 74   /**************************************************************************</span>
<span class="line-modified"> 75    *</span>
<span class="line-modified"> 76    * Define the FT_TRACE macro</span>
<span class="line-modified"> 77    *</span>
<span class="line-modified"> 78    * IMPORTANT!</span>
<span class="line-modified"> 79    *</span>
<span class="line-modified"> 80    * Each component must define the macro FT_COMPONENT to a valid FT_Trace</span>
<span class="line-modified"> 81    * value before using any TRACE macro.</span>
<span class="line-modified"> 82    *</span>
<span class="line-modified"> 83    */</span>
 84 
 85 #ifdef FT_DEBUG_LEVEL_TRACE
 86 
<a name="5" id="anc5"></a><span class="line-modified"> 87   /* we need two macros here to make cpp expand `FT_COMPONENT&#39; */</span>
<span class="line-modified"> 88 #define FT_TRACE_COMP( x )   FT_TRACE_COMP_( x )</span>
<span class="line-modified"> 89 #define FT_TRACE_COMP_( x )  trace_ ## x</span>
<span class="line-modified"> 90 </span>
<span class="line-modified"> 91 #define FT_TRACE( level, varformat )                                       \</span>
<span class="line-added"> 92           do                                                               \</span>
<span class="line-added"> 93           {                                                                \</span>
<span class="line-added"> 94             if ( ft_trace_levels[FT_TRACE_COMP( FT_COMPONENT )] &gt;= level ) \</span>
<span class="line-added"> 95               FT_Message varformat;                                        \</span>
 96           } while ( 0 )
 97 
 98 #else /* !FT_DEBUG_LEVEL_TRACE */
 99 
100 #define FT_TRACE( level, varformat )  do { } while ( 0 )      /* nothing */
101 
102 #endif /* !FT_DEBUG_LEVEL_TRACE */
103 
104 
<a name="6" id="anc6"></a><span class="line-modified">105   /**************************************************************************</span>
<span class="line-modified">106    *</span>
<span class="line-modified">107    * @function:</span>
<span class="line-modified">108    *   FT_Trace_Get_Count</span>
<span class="line-modified">109    *</span>
<span class="line-modified">110    * @description:</span>
<span class="line-modified">111    *   Return the number of available trace components.</span>
<span class="line-modified">112    *</span>
<span class="line-modified">113    * @return:</span>
<span class="line-modified">114    *   The number of trace components.  0 if FreeType 2 is not built with</span>
<span class="line-modified">115    *   FT_DEBUG_LEVEL_TRACE definition.</span>
<span class="line-modified">116    *</span>
<span class="line-modified">117    * @note:</span>
<span class="line-modified">118    *   This function may be useful if you want to access elements of the</span>
<span class="line-modified">119    *   internal trace levels array by an index.</span>
<span class="line-modified">120    */</span>
121   FT_BASE( FT_Int )
122   FT_Trace_Get_Count( void );
123 
124 
<a name="7" id="anc7"></a><span class="line-modified">125   /**************************************************************************</span>
<span class="line-modified">126    *</span>
<span class="line-modified">127    * @function:</span>
<span class="line-modified">128    *   FT_Trace_Get_Name</span>
<span class="line-modified">129    *</span>
<span class="line-modified">130    * @description:</span>
<span class="line-modified">131    *   Return the name of a trace component.</span>
<span class="line-modified">132    *</span>
<span class="line-modified">133    * @input:</span>
<span class="line-modified">134    *   The index of the trace component.</span>
<span class="line-modified">135    *</span>
<span class="line-modified">136    * @return:</span>
<span class="line-modified">137    *   The name of the trace component.  This is a statically allocated</span>
<span class="line-modified">138    *   C~string, so do not free it after use.  `NULL` if FreeType is not</span>
<span class="line-modified">139    *   built with FT_DEBUG_LEVEL_TRACE definition.</span>
<span class="line-modified">140    *</span>
<span class="line-modified">141    * @note:</span>
<span class="line-modified">142    *   Use @FT_Trace_Get_Count to get the number of available trace</span>
<span class="line-modified">143    *   components.</span>
<span class="line-modified">144    */</span>



145   FT_BASE( const char* )
146   FT_Trace_Get_Name( FT_Int  idx );
147 
148 
<a name="8" id="anc8"></a><span class="line-modified">149   /**************************************************************************</span>
<span class="line-modified">150    *</span>
<span class="line-modified">151    * @function:</span>
<span class="line-modified">152    *   FT_Trace_Disable</span>
<span class="line-modified">153    *</span>
<span class="line-modified">154    * @description:</span>
<span class="line-modified">155    *   Switch off tracing temporarily.  It can be activated again with</span>
<span class="line-modified">156    *   @FT_Trace_Enable.</span>
<span class="line-modified">157    */</span>
<span class="line-added">158   FT_BASE( void )</span>
<span class="line-added">159   FT_Trace_Disable( void );</span>
<span class="line-added">160 </span>
<span class="line-added">161 </span>
<span class="line-added">162   /**************************************************************************</span>
<span class="line-added">163    *</span>
<span class="line-added">164    * @function:</span>
<span class="line-added">165    *   FT_Trace_Enable</span>
<span class="line-added">166    *</span>
<span class="line-added">167    * @description:</span>
<span class="line-added">168    *   Activate tracing.  Use it after tracing has been switched off with</span>
<span class="line-added">169    *   @FT_Trace_Disable.</span>
<span class="line-added">170    */</span>
<span class="line-added">171   FT_BASE( void )</span>
<span class="line-added">172   FT_Trace_Enable( void );</span>
<span class="line-added">173 </span>
<span class="line-added">174 </span>
<span class="line-added">175   /**************************************************************************</span>
<span class="line-added">176    *</span>
<span class="line-added">177    * You need two opening and closing parentheses!</span>
<span class="line-added">178    *</span>
<span class="line-added">179    * Example: FT_TRACE0(( &quot;Value is %i&quot;, foo ))</span>
<span class="line-added">180    *</span>
<span class="line-added">181    * Output of the FT_TRACEX macros is sent to stderr.</span>
<span class="line-added">182    *</span>
<span class="line-added">183    */</span>
184 
185 #define FT_TRACE0( varformat )  FT_TRACE( 0, varformat )
186 #define FT_TRACE1( varformat )  FT_TRACE( 1, varformat )
187 #define FT_TRACE2( varformat )  FT_TRACE( 2, varformat )
188 #define FT_TRACE3( varformat )  FT_TRACE( 3, varformat )
189 #define FT_TRACE4( varformat )  FT_TRACE( 4, varformat )
190 #define FT_TRACE5( varformat )  FT_TRACE( 5, varformat )
191 #define FT_TRACE6( varformat )  FT_TRACE( 6, varformat )
192 #define FT_TRACE7( varformat )  FT_TRACE( 7, varformat )
193 
194 
<a name="9" id="anc9"></a><span class="line-modified">195   /**************************************************************************</span>
<span class="line-modified">196    *</span>
<span class="line-modified">197    * Define the FT_ERROR macro.</span>
<span class="line-modified">198    *</span>
<span class="line-modified">199    * Output of this macro is sent to stderr.</span>
<span class="line-modified">200    *</span>
<span class="line-modified">201    */</span>
202 
203 #ifdef FT_DEBUG_LEVEL_ERROR
204 
205 #define FT_ERROR( varformat )  FT_Message  varformat
206 
207 #else  /* !FT_DEBUG_LEVEL_ERROR */
208 
209 #define FT_ERROR( varformat )  do { } while ( 0 )      /* nothing */
210 
211 #endif /* !FT_DEBUG_LEVEL_ERROR */
212 
213 
<a name="10" id="anc10"></a><span class="line-modified">214   /**************************************************************************</span>
<span class="line-modified">215    *</span>
<span class="line-modified">216    * Define the FT_ASSERT and FT_THROW macros.  The call to `FT_Throw` makes</span>
<span class="line-modified">217    * it possible to easily set a breakpoint at this function.</span>
<span class="line-modified">218    *</span>
<span class="line-modified">219    */</span>
220 
221 #ifdef FT_DEBUG_LEVEL_ERROR
222 
223 #define FT_ASSERT( condition )                                      \
224           do                                                        \
225           {                                                         \
226             if ( !( condition ) )                                   \
227               FT_Panic( &quot;assertion failed on line %d of file %s\n&quot;, \
228                         __LINE__, __FILE__ );                       \
229           } while ( 0 )
230 
231 #define FT_THROW( e )                                   \
232           ( FT_Throw( FT_ERR_CAT( FT_ERR_PREFIX, e ),   \
233                       __LINE__,                         \
234                       __FILE__ )                      | \
235             FT_ERR_CAT( FT_ERR_PREFIX, e )            )
236 
237 #else /* !FT_DEBUG_LEVEL_ERROR */
238 
239 #define FT_ASSERT( condition )  do { } while ( 0 )
240 
241 #define FT_THROW( e )  FT_ERR_CAT( FT_ERR_PREFIX, e )
242 
243 #endif /* !FT_DEBUG_LEVEL_ERROR */
244 
245 
<a name="11" id="anc11"></a><span class="line-modified">246   /**************************************************************************</span>
<span class="line-modified">247    *</span>
<span class="line-modified">248    * Define `FT_Message` and `FT_Panic` when needed.</span>
<span class="line-modified">249    *</span>
<span class="line-modified">250    */</span>
251 
252 #ifdef FT_DEBUG_LEVEL_ERROR
253 
254 #include &quot;stdio.h&quot;  /* for vfprintf() */
255 
256   /* print a message */
257   FT_BASE( void )
258   FT_Message( const char*  fmt,
259               ... );
260 
261   /* print a message and exit */
262   FT_BASE( void )
263   FT_Panic( const char*  fmt,
264             ... );
265 
266   /* report file name and line number of an error */
267   FT_BASE( int )
268   FT_Throw( FT_Error     error,
269             int          line,
270             const char*  file );
271 
272 #endif /* FT_DEBUG_LEVEL_ERROR */
273 
274 
275   FT_BASE( void )
276   ft_debug_init( void );
277 
278 FT_END_HEADER
279 
280 #endif /* FTDEBUG_H_ */
281 
282 
283 /* END */
<a name="12" id="anc12"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="12" type="hidden" />
</body>
</html>