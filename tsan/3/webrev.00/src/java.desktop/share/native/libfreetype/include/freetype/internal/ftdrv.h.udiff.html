<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.desktop/share/native/libfreetype/include/freetype/internal/ftdrv.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ftdebug.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ftgloadr.h.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfreetype/include/freetype/internal/ftdrv.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,21 +1,21 @@</span>
<span class="udiff-line-modified-removed">- /***************************************************************************/</span>
<span class="udiff-line-modified-removed">- /*                                                                         */</span>
<span class="udiff-line-modified-removed">- /*  ftdrv.h                                                                */</span>
<span class="udiff-line-modified-removed">- /*                                                                         */</span>
<span class="udiff-line-modified-removed">- /*    FreeType internal font driver interface (specification).             */</span>
<span class="udiff-line-modified-removed">- /*                                                                         */</span>
<span class="udiff-line-modified-removed">- /*  Copyright 1996-2018 by                                                 */</span>
<span class="udiff-line-modified-removed">- /*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */</span>
<span class="udiff-line-modified-removed">- /*                                                                         */</span>
<span class="udiff-line-modified-removed">- /*  This file is part of the FreeType project, and may only be used,       */</span>
<span class="udiff-line-modified-removed">- /*  modified, and distributed under the terms of the FreeType project      */</span>
<span class="udiff-line-modified-removed">- /*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */</span>
<span class="udiff-line-modified-removed">- /*  this file you indicate that you have read the license and              */</span>
<span class="udiff-line-modified-removed">- /*  understand and accept it fully.                                        */</span>
<span class="udiff-line-modified-removed">- /*                                                                         */</span>
<span class="udiff-line-modified-removed">- /***************************************************************************/</span>
<span class="udiff-line-modified-added">+ /****************************************************************************</span>
<span class="udiff-line-modified-added">+  *</span>
<span class="udiff-line-modified-added">+  * ftdrv.h</span>
<span class="udiff-line-modified-added">+  *</span>
<span class="udiff-line-modified-added">+  *   FreeType internal font driver interface (specification).</span>
<span class="udiff-line-modified-added">+  *</span>
<span class="udiff-line-modified-added">+  * Copyright (C) 1996-2019 by</span>
<span class="udiff-line-modified-added">+  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="udiff-line-modified-added">+  *</span>
<span class="udiff-line-modified-added">+  * This file is part of the FreeType project, and may only be used,</span>
<span class="udiff-line-modified-added">+  * modified, and distributed under the terms of the FreeType project</span>
<span class="udiff-line-modified-added">+  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="udiff-line-modified-added">+  * this file you indicate that you have read the license and</span>
<span class="udiff-line-modified-added">+  * understand and accept it fully.</span>
<span class="udiff-line-modified-added">+  *</span>
<span class="udiff-line-modified-added">+  */</span>
  
  
  #ifndef FTDRV_H_
  #define FTDRV_H_
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -85,77 +85,84 @@</span>
                                FT_UInt    count,
                                FT_Int32   flags,
                                FT_Fixed*  advances );
  
  
<span class="udiff-line-modified-removed">-   /*************************************************************************/</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /* &lt;Struct&gt;                                                              */</span>
<span class="udiff-line-modified-removed">-   /*    FT_Driver_ClassRec                                                 */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /* &lt;Description&gt;                                                         */</span>
<span class="udiff-line-modified-removed">-   /*    The font driver class.  This structure mostly contains pointers to */</span>
<span class="udiff-line-modified-removed">-   /*    driver methods.                                                    */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /* &lt;Fields&gt;                                                              */</span>
<span class="udiff-line-modified-removed">-   /*    root             :: The parent module.                             */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /*    face_object_size :: The size of a face object in bytes.            */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /*    size_object_size :: The size of a size object in bytes.            */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /*    slot_object_size :: The size of a glyph object in bytes.           */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /*    init_face        :: The format-specific face constructor.          */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /*    done_face        :: The format-specific face destructor.           */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /*    init_size        :: The format-specific size constructor.          */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /*    done_size        :: The format-specific size destructor.           */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /*    init_slot        :: The format-specific slot constructor.          */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /*    done_slot        :: The format-specific slot destructor.           */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /*    load_glyph       :: A function handle to load a glyph to a slot.   */</span>
<span class="udiff-line-modified-removed">-   /*                        This field is mandatory!                       */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /*    get_kerning      :: A function handle to return the unscaled       */</span>
<span class="udiff-line-modified-removed">-   /*                        kerning for a given pair of glyphs.  Can be    */</span>
<span class="udiff-line-modified-removed">-   /*                        set to 0 if the format doesn&#39;t support         */</span>
<span class="udiff-line-modified-removed">-   /*                        kerning.                                       */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /*    attach_file      :: This function handle is used to read           */</span>
<span class="udiff-line-modified-removed">-   /*                        additional data for a face from another        */</span>
<span class="udiff-line-modified-removed">-   /*                        file/stream.  For example, this can be used to */</span>
<span class="udiff-line-modified-removed">-   /*                        add data from AFM or PFM files on a Type 1     */</span>
<span class="udiff-line-modified-removed">-   /*                        face, or a CIDMap on a CID-keyed face.         */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /*    get_advances     :: A function handle used to return advance       */</span>
<span class="udiff-line-modified-removed">-   /*                        widths of `count&#39; glyphs (in font units),      */</span>
<span class="udiff-line-modified-removed">-   /*                        starting at `first&#39;.  The `vertical&#39; flag must */</span>
<span class="udiff-line-modified-removed">-   /*                        be set to get vertical advance heights.  The   */</span>
<span class="udiff-line-modified-removed">-   /*                        `advances&#39; buffer is caller-allocated.         */</span>
<span class="udiff-line-modified-removed">-   /*                        The idea of this function is to be able to     */</span>
<span class="udiff-line-modified-removed">-   /*                        perform device-independent text layout without */</span>
<span class="udiff-line-modified-removed">-   /*                        loading a single glyph image.                  */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /*    request_size     :: A handle to a function used to request the new */</span>
<span class="udiff-line-modified-removed">-   /*                        character size.  Can be set to 0 if the        */</span>
<span class="udiff-line-modified-removed">-   /*                        scaling done in the base layer suffices.       */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /*    select_size      :: A handle to a function used to select a new    */</span>
<span class="udiff-line-modified-removed">-   /*                        fixed size.  It is used only if                */</span>
<span class="udiff-line-modified-removed">-   /*                        @FT_FACE_FLAG_FIXED_SIZES is set.  Can be set  */</span>
<span class="udiff-line-modified-removed">-   /*                        to 0 if the scaling done in the base layer     */</span>
<span class="udiff-line-modified-removed">-   /*                        suffices.                                      */</span>
<span class="udiff-line-modified-removed">-   /* &lt;Note&gt;                                                                */</span>
<span class="udiff-line-modified-removed">-   /*    Most function pointers, with the exception of `load_glyph&#39;, can be */</span>
<span class="udiff-line-modified-removed">-   /*    set to 0 to indicate a default behaviour.                          */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-added">+   /**************************************************************************</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    * @struct:</span>
<span class="udiff-line-modified-added">+    *   FT_Driver_ClassRec</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    * @description:</span>
<span class="udiff-line-modified-added">+    *   The font driver class.  This structure mostly contains pointers to</span>
<span class="udiff-line-modified-added">+    *   driver methods.</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    * @fields:</span>
<span class="udiff-line-modified-added">+    *   root ::</span>
<span class="udiff-line-modified-added">+    *     The parent module.</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    *   face_object_size ::</span>
<span class="udiff-line-modified-added">+    *     The size of a face object in bytes.</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    *   size_object_size ::</span>
<span class="udiff-line-modified-added">+    *     The size of a size object in bytes.</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    *   slot_object_size ::</span>
<span class="udiff-line-modified-added">+    *     The size of a glyph object in bytes.</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    *   init_face ::</span>
<span class="udiff-line-modified-added">+    *     The format-specific face constructor.</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    *   done_face ::</span>
<span class="udiff-line-modified-added">+    *     The format-specific face destructor.</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    *   init_size ::</span>
<span class="udiff-line-modified-added">+    *     The format-specific size constructor.</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    *   done_size ::</span>
<span class="udiff-line-modified-added">+    *     The format-specific size destructor.</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    *   init_slot ::</span>
<span class="udiff-line-modified-added">+    *     The format-specific slot constructor.</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    *   done_slot ::</span>
<span class="udiff-line-modified-added">+    *     The format-specific slot destructor.</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    *   load_glyph ::</span>
<span class="udiff-line-modified-added">+    *     A function handle to load a glyph to a slot.  This field is</span>
<span class="udiff-line-modified-added">+    *     mandatory!</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    *   get_kerning ::</span>
<span class="udiff-line-modified-added">+    *     A function handle to return the unscaled kerning for a given pair of</span>
<span class="udiff-line-modified-added">+    *     glyphs.  Can be set to 0 if the format doesn&#39;t support kerning.</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    *   attach_file ::</span>
<span class="udiff-line-modified-added">+    *     This function handle is used to read additional data for a face from</span>
<span class="udiff-line-modified-added">+    *     another file/stream.  For example, this can be used to add data from</span>
<span class="udiff-line-modified-added">+    *     AFM or PFM files on a Type 1 face, or a CIDMap on a CID-keyed face.</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    *   get_advances ::</span>
<span class="udiff-line-modified-added">+    *     A function handle used to return advance widths of &#39;count&#39; glyphs</span>
<span class="udiff-line-modified-added">+    *     (in font units), starting at &#39;first&#39;.  The &#39;vertical&#39; flag must be</span>
<span class="udiff-line-modified-added">+    *     set to get vertical advance heights.  The &#39;advances&#39; buffer is</span>
<span class="udiff-line-modified-added">+    *     caller-allocated.  The idea of this function is to be able to</span>
<span class="udiff-line-modified-added">+    *     perform device-independent text layout without loading a single</span>
<span class="udiff-line-modified-added">+    *     glyph image.</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    *   request_size ::</span>
<span class="udiff-line-modified-added">+    *     A handle to a function used to request the new character size.  Can</span>
<span class="udiff-line-modified-added">+    *     be set to 0 if the scaling done in the base layer suffices.</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    *   select_size ::</span>
<span class="udiff-line-added">+    *     A handle to a function used to select a new fixed size.  It is used</span>
<span class="udiff-line-added">+    *     only if @FT_FACE_FLAG_FIXED_SIZES is set.  Can be set to 0 if the</span>
<span class="udiff-line-added">+    *     scaling done in the base layer suffices.</span>
<span class="udiff-line-added">+    * @note:</span>
<span class="udiff-line-added">+    *   Most function pointers, with the exception of `load_glyph`, can be set</span>
<span class="udiff-line-added">+    *   to 0 to indicate a default behaviour.</span>
<span class="udiff-line-added">+    */</span>
    typedef struct  FT_Driver_ClassRec_
    {
      FT_Module_Class          root;
  
      FT_Long                  face_object_size;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -182,49 +189,32 @@</span>
      FT_Size_SelectFunc       select_size;
  
    } FT_Driver_ClassRec, *FT_Driver_Class;
  
  
<span class="udiff-line-modified-removed">-   /*************************************************************************/</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /* &lt;Macro&gt;                                                               */</span>
<span class="udiff-line-modified-removed">-   /*    FT_DECLARE_DRIVER                                                  */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /* &lt;Description&gt;                                                         */</span>
<span class="udiff-line-modified-removed">-   /*    Used to create a forward declaration of an FT_Driver_ClassRec      */</span>
<span class="udiff-line-modified-removed">-   /*    struct instance.                                                   */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /* &lt;Macro&gt;                                                               */</span>
<span class="udiff-line-modified-removed">-   /*    FT_DEFINE_DRIVER                                                   */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /* &lt;Description&gt;                                                         */</span>
<span class="udiff-line-modified-removed">-   /*    Used to initialize an instance of FT_Driver_ClassRec struct.       */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /*    When FT_CONFIG_OPTION_PIC is defined a `create&#39; function has to be */</span>
<span class="udiff-line-modified-removed">-   /*    called with a pointer where the allocated structure is returned.   */</span>
<span class="udiff-line-modified-removed">-   /*    And when it is no longer needed a `destroy&#39; function needs to be   */</span>
<span class="udiff-line-modified-removed">-   /*    called to release that allocation.                                 */</span>
<span class="udiff-line-modified-removed">-   /*                                                                       */</span>
<span class="udiff-line-modified-removed">-   /*    `ftinit.c&#39; (ft_create_default_module_classes) already contains a   */</span>
<span class="udiff-line-modified-removed">-   /*    mechanism to call these functions for the default modules          */</span>
<span class="udiff-line-removed">-   /*    described in `ftmodule.h&#39;.                                         */</span>
<span class="udiff-line-removed">-   /*                                                                       */</span>
<span class="udiff-line-removed">-   /*    Notice that the created `create&#39; and `destroy&#39; functions call      */</span>
<span class="udiff-line-removed">-   /*    `pic_init&#39; and `pic_free&#39; to allow you to manually allocate and    */</span>
<span class="udiff-line-removed">-   /*    initialize any additional global data, like a module specific      */</span>
<span class="udiff-line-removed">-   /*    interface, and put them in the global pic container defined in     */</span>
<span class="udiff-line-removed">-   /*    `ftpic.h&#39;.  If you don&#39;t need them just implement the functions as */</span>
<span class="udiff-line-removed">-   /*    empty to resolve the link error.  Also the `pic_init&#39; and          */</span>
<span class="udiff-line-removed">-   /*    `pic_free&#39; functions should be declared in `pic.h&#39;, to be referred */</span>
<span class="udiff-line-removed">-   /*    by driver definition calling `FT_DEFINE_DRIVER&#39; in following.      */</span>
<span class="udiff-line-removed">-   /*                                                                       */</span>
<span class="udiff-line-removed">-   /*    When FT_CONFIG_OPTION_PIC is not defined the struct will be        */</span>
<span class="udiff-line-removed">-   /*    allocated in the global scope (or the scope where the macro is     */</span>
<span class="udiff-line-removed">-   /*    used).                                                             */</span>
<span class="udiff-line-removed">-   /*                                                                       */</span>
<span class="udiff-line-removed">- #ifndef FT_CONFIG_OPTION_PIC</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-modified-added">+   /**************************************************************************</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    * @macro:</span>
<span class="udiff-line-modified-added">+    *   FT_DECLARE_DRIVER</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    * @description:</span>
<span class="udiff-line-modified-added">+    *   Used to create a forward declaration of an FT_Driver_ClassRec struct</span>
<span class="udiff-line-modified-added">+    *   instance.</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    * @macro:</span>
<span class="udiff-line-modified-added">+    *   FT_DEFINE_DRIVER</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    * @description:</span>
<span class="udiff-line-modified-added">+    *   Used to initialize an instance of FT_Driver_ClassRec struct.</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    *   `ftinit.c` (ft_create_default_module_classes) already contains a</span>
<span class="udiff-line-modified-added">+    *   mechanism to call these functions for the default modules described in</span>
<span class="udiff-line-modified-added">+    *   `ftmodule.h`.</span>
<span class="udiff-line-modified-added">+    *</span>
<span class="udiff-line-modified-added">+    *   The struct will be allocated in the global scope (or the scope where</span>
<span class="udiff-line-modified-added">+    *   the macro is used).</span>
<span class="udiff-line-modified-added">+    */</span>
  #define FT_DECLARE_DRIVER( class_ )  \
    FT_CALLBACK_TABLE                  \
    const FT_Driver_ClassRec  class_;
  
  #define FT_DEFINE_DRIVER(                    \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -287,112 +277,10 @@</span>
                                               \
      request_size_,                           \
      select_size_                             \
    };
  
<span class="udiff-line-removed">- #else /* FT_CONFIG_OPTION_PIC */</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #define FT_DECLARE_DRIVER( class_ )  FT_DECLARE_MODULE( class_ )</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #define FT_DEFINE_DRIVER(                                        \</span>
<span class="udiff-line-removed">-           class_,                                                \</span>
<span class="udiff-line-removed">-           flags_,                                                \</span>
<span class="udiff-line-removed">-           size_,                                                 \</span>
<span class="udiff-line-removed">-           name_,                                                 \</span>
<span class="udiff-line-removed">-           version_,                                              \</span>
<span class="udiff-line-removed">-           requires_,                                             \</span>
<span class="udiff-line-removed">-           interface_,                                            \</span>
<span class="udiff-line-removed">-           init_,                                                 \</span>
<span class="udiff-line-removed">-           done_,                                                 \</span>
<span class="udiff-line-removed">-           get_interface_,                                        \</span>
<span class="udiff-line-removed">-           face_object_size_,                                     \</span>
<span class="udiff-line-removed">-           size_object_size_,                                     \</span>
<span class="udiff-line-removed">-           slot_object_size_,                                     \</span>
<span class="udiff-line-removed">-           init_face_,                                            \</span>
<span class="udiff-line-removed">-           done_face_,                                            \</span>
<span class="udiff-line-removed">-           init_size_,                                            \</span>
<span class="udiff-line-removed">-           done_size_,                                            \</span>
<span class="udiff-line-removed">-           init_slot_,                                            \</span>
<span class="udiff-line-removed">-           done_slot_,                                            \</span>
<span class="udiff-line-removed">-           load_glyph_,                                           \</span>
<span class="udiff-line-removed">-           get_kerning_,                                          \</span>
<span class="udiff-line-removed">-           attach_file_,                                          \</span>
<span class="udiff-line-removed">-           get_advances_,                                         \</span>
<span class="udiff-line-removed">-           request_size_,                                         \</span>
<span class="udiff-line-removed">-           select_size_ )                                         \</span>
<span class="udiff-line-removed">-   void                                                           \</span>
<span class="udiff-line-removed">-   FT_Destroy_Class_ ## class_( FT_Library        library,        \</span>
<span class="udiff-line-removed">-                                FT_Module_Class*  clazz )         \</span>
<span class="udiff-line-removed">-   {                                                              \</span>
<span class="udiff-line-removed">-     FT_Memory        memory = library-&gt;memory;                   \</span>
<span class="udiff-line-removed">-     FT_Driver_Class  dclazz = (FT_Driver_Class)clazz;            \</span>
<span class="udiff-line-removed">-                                                                  \</span>
<span class="udiff-line-removed">-                                                                  \</span>
<span class="udiff-line-removed">-     class_ ## _pic_free( library );                              \</span>
<span class="udiff-line-removed">-     if ( dclazz )                                                \</span>
<span class="udiff-line-removed">-       FT_FREE( dclazz );                                         \</span>
<span class="udiff-line-removed">-   }                                                              \</span>
<span class="udiff-line-removed">-                                                                  \</span>
<span class="udiff-line-removed">-                                                                  \</span>
<span class="udiff-line-removed">-   FT_Error                                                       \</span>
<span class="udiff-line-removed">-   FT_Create_Class_ ## class_( FT_Library         library,        \</span>
<span class="udiff-line-removed">-                               FT_Module_Class**  output_class )  \</span>
<span class="udiff-line-removed">-   {                                                              \</span>
<span class="udiff-line-removed">-     FT_Driver_Class  clazz  = NULL;                              \</span>
<span class="udiff-line-removed">-     FT_Error         error;                                      \</span>
<span class="udiff-line-removed">-     FT_Memory        memory = library-&gt;memory;                   \</span>
<span class="udiff-line-removed">-                                                                  \</span>
<span class="udiff-line-removed">-                                                                  \</span>
<span class="udiff-line-removed">-     if ( FT_ALLOC( clazz, sizeof ( *clazz ) ) )                  \</span>
<span class="udiff-line-removed">-       return error;                                              \</span>
<span class="udiff-line-removed">-                                                                  \</span>
<span class="udiff-line-removed">-     error = class_ ## _pic_init( library );                      \</span>
<span class="udiff-line-removed">-     if ( error )                                                 \</span>
<span class="udiff-line-removed">-     {                                                            \</span>
<span class="udiff-line-removed">-       FT_FREE( clazz );                                          \</span>
<span class="udiff-line-removed">-       return error;                                              \</span>
<span class="udiff-line-removed">-     }                                                            \</span>
<span class="udiff-line-removed">-                                                                  \</span>
<span class="udiff-line-removed">-     FT_DEFINE_ROOT_MODULE( flags_,                               \</span>
<span class="udiff-line-removed">-                            size_,                                \</span>
<span class="udiff-line-removed">-                            name_,                                \</span>
<span class="udiff-line-removed">-                            version_,                             \</span>
<span class="udiff-line-removed">-                            requires_,                            \</span>
<span class="udiff-line-removed">-                            interface_,                           \</span>
<span class="udiff-line-removed">-                            init_,                                \</span>
<span class="udiff-line-removed">-                            done_,                                \</span>
<span class="udiff-line-removed">-                            get_interface_ )                      \</span>
<span class="udiff-line-removed">-                                                                  \</span>
<span class="udiff-line-removed">-     clazz-&gt;face_object_size = face_object_size_;                 \</span>
<span class="udiff-line-removed">-     clazz-&gt;size_object_size = size_object_size_;                 \</span>
<span class="udiff-line-removed">-     clazz-&gt;slot_object_size = slot_object_size_;                 \</span>
<span class="udiff-line-removed">-                                                                  \</span>
<span class="udiff-line-removed">-     clazz-&gt;init_face        = init_face_;                        \</span>
<span class="udiff-line-removed">-     clazz-&gt;done_face        = done_face_;                        \</span>
<span class="udiff-line-removed">-                                                                  \</span>
<span class="udiff-line-removed">-     clazz-&gt;init_size        = init_size_;                        \</span>
<span class="udiff-line-removed">-     clazz-&gt;done_size        = done_size_;                        \</span>
<span class="udiff-line-removed">-                                                                  \</span>
<span class="udiff-line-removed">-     clazz-&gt;init_slot        = init_slot_;                        \</span>
<span class="udiff-line-removed">-     clazz-&gt;done_slot        = done_slot_;                        \</span>
<span class="udiff-line-removed">-                                                                  \</span>
<span class="udiff-line-removed">-     clazz-&gt;load_glyph       = load_glyph_;                       \</span>
<span class="udiff-line-removed">-                                                                  \</span>
<span class="udiff-line-removed">-     clazz-&gt;get_kerning      = get_kerning_;                      \</span>
<span class="udiff-line-removed">-     clazz-&gt;attach_file      = attach_file_;                      \</span>
<span class="udiff-line-removed">-     clazz-&gt;get_advances     = get_advances_;                     \</span>
<span class="udiff-line-removed">-                                                                  \</span>
<span class="udiff-line-removed">-     clazz-&gt;request_size     = request_size_;                     \</span>
<span class="udiff-line-removed">-     clazz-&gt;select_size      = select_size_;                      \</span>
<span class="udiff-line-removed">-                                                                  \</span>
<span class="udiff-line-removed">-     *output_class = (FT_Module_Class*)clazz;                     \</span>
<span class="udiff-line-removed">-                                                                  \</span>
<span class="udiff-line-removed">-     return FT_Err_Ok;                                            \</span>
<span class="udiff-line-removed">-   }</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #endif /* FT_CONFIG_OPTION_PIC */</span>
  
  FT_END_HEADER
  
  #endif /* FTDRV_H_ */
  
</pre>
<center><a href="ftdebug.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ftgloadr.h.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>