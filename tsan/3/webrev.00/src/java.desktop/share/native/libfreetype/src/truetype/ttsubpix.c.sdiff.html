<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/share/native/libfreetype/src/truetype/ttsubpix.c</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="ttpload.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ttsubpix.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfreetype/src/truetype/ttsubpix.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
<span class="line-modified">   1 /***************************************************************************/</span>
<span class="line-modified">   2 /*                                                                         */</span>
<span class="line-modified">   3 /*  ttsubpix.c                                                             */</span>
<span class="line-modified">   4 /*                                                                         */</span>
<span class="line-modified">   5 /*    TrueType Subpixel Hinting.                                           */</span>
<span class="line-modified">   6 /*                                                                         */</span>
<span class="line-modified">   7 /*  Copyright 2010-2018 by                                                 */</span>
<span class="line-modified">   8 /*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */</span>
<span class="line-modified">   9 /*                                                                         */</span>
<span class="line-modified">  10 /*  This file is part of the FreeType project, and may only be used,       */</span>
<span class="line-modified">  11 /*  modified, and distributed under the terms of the FreeType project      */</span>
<span class="line-modified">  12 /*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */</span>
<span class="line-modified">  13 /*  this file you indicate that you have read the license and              */</span>
<span class="line-modified">  14 /*  understand and accept it fully.                                        */</span>
<span class="line-modified">  15 /*                                                                         */</span>
<span class="line-modified">  16 /***************************************************************************/</span>
  17 
  18 #include &lt;ft2build.h&gt;
  19 #include FT_INTERNAL_DEBUG_H
  20 #include FT_INTERNAL_CALC_H
  21 #include FT_INTERNAL_STREAM_H
  22 #include FT_INTERNAL_SFNT_H
  23 #include FT_TRUETYPE_TAGS_H
  24 #include FT_OUTLINE_H
  25 #include FT_DRIVER_H
  26 
  27 #include &quot;ttsubpix.h&quot;
  28 
  29 
  30 #if defined( TT_USE_BYTECODE_INTERPRETER )            &amp;&amp; \
  31     defined( TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY )
  32 
<span class="line-modified">  33   /*************************************************************************/</span>
<span class="line-modified">  34   /*                                                                       */</span>
<span class="line-modified">  35   /* These rules affect how the TT Interpreter does hinting, with the      */</span>
<span class="line-modified">  36   /* goal of doing subpixel hinting by (in general) ignoring x moves.      */</span>
<span class="line-modified">  37   /* Some of these rules are fixes that go above and beyond the            */</span>
<span class="line-modified">  38   /* stated techniques in the MS whitepaper on Cleartype, due to           */</span>
<span class="line-modified">  39   /* artifacts in many glyphs.  So, these rules make some glyphs render    */</span>
<span class="line-modified">  40   /* better than they do in the MS rasterizer.                             */</span>
<span class="line-modified">  41   /*                                                                       */</span>
<span class="line-modified">  42   /* &quot;&quot; string or 0 int/char indicates to apply to all glyphs.             */</span>
<span class="line-modified">  43   /* &quot;-&quot; used as dummy placeholders, but any non-matching string works.    */</span>
<span class="line-modified">  44   /*                                                                       */</span>
<span class="line-modified">  45   /* Some of this could arguably be implemented in fontconfig, however:    */</span>
<span class="line-modified">  46   /*                                                                       */</span>
<span class="line-modified">  47   /*  - Fontconfig can&#39;t set things on a glyph-by-glyph basis.             */</span>
<span class="line-modified">  48   /*  - The tweaks that happen here are very low-level, from an average    */</span>
<span class="line-modified">  49   /*    user&#39;s point of view and are best implemented in the hinter.       */</span>
<span class="line-modified">  50   /*                                                                       */</span>
<span class="line-modified">  51   /* The goal is to make the subpixel hinting techniques as generalized    */</span>
<span class="line-modified">  52   /* as possible across all fonts to prevent the need for extra rules such */</span>
<span class="line-modified">  53   /* as these.                                                             */</span>
<span class="line-modified">  54   /*                                                                       */</span>
<span class="line-modified">  55   /* The rule structure is designed so that entirely new rules can easily  */</span>
<span class="line-modified">  56   /* be added when a new compatibility feature is discovered.              */</span>
<span class="line-modified">  57   /*                                                                       */</span>
<span class="line-modified">  58   /* The rule structures could also use some enhancement to handle ranges. */</span>
<span class="line-modified">  59   /*                                                                       */</span>
<span class="line-modified">  60   /*     ****************** WORK IN PROGRESS *******************           */</span>
<span class="line-modified">  61   /*                                                                       */</span>
  62 
  63   /* These are `classes&#39; of fonts that can be grouped together and used in */
  64   /* rules below.  A blank entry &quot;&quot; is required at the end of these!       */
  65 #define FAMILY_CLASS_RULES_SIZE  7
  66 
  67   static const SPH_Font_Class  FAMILY_CLASS_Rules
  68                                [FAMILY_CLASS_RULES_SIZE] =
  69   {
  70     { &quot;MS Legacy Fonts&quot;,
  71       { &quot;Aharoni&quot;,
  72         &quot;Andale Mono&quot;,
  73         &quot;Andalus&quot;,
  74         &quot;Angsana New&quot;,
  75         &quot;AngsanaUPC&quot;,
  76         &quot;Arabic Transparent&quot;,
  77         &quot;Arial Black&quot;,
  78         &quot;Arial Narrow&quot;,
  79         &quot;Arial Unicode MS&quot;,
  80         &quot;Arial&quot;,
  81         &quot;Batang&quot;,
</pre>
</td>
<td>
<hr />
<pre>
<span class="line-modified">   1 /****************************************************************************</span>
<span class="line-modified">   2  *</span>
<span class="line-modified">   3  * ttsubpix.c</span>
<span class="line-modified">   4  *</span>
<span class="line-modified">   5  *   TrueType Subpixel Hinting.</span>
<span class="line-modified">   6  *</span>
<span class="line-modified">   7  * Copyright (C) 2010-2019 by</span>
<span class="line-modified">   8  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified">   9  *</span>
<span class="line-modified">  10  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified">  11  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified">  12  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified">  13  * this file you indicate that you have read the license and</span>
<span class="line-modified">  14  * understand and accept it fully.</span>
<span class="line-modified">  15  *</span>
<span class="line-modified">  16  */</span>
  17 
  18 #include &lt;ft2build.h&gt;
  19 #include FT_INTERNAL_DEBUG_H
  20 #include FT_INTERNAL_CALC_H
  21 #include FT_INTERNAL_STREAM_H
  22 #include FT_INTERNAL_SFNT_H
  23 #include FT_TRUETYPE_TAGS_H
  24 #include FT_OUTLINE_H
  25 #include FT_DRIVER_H
  26 
  27 #include &quot;ttsubpix.h&quot;
  28 
  29 
  30 #if defined( TT_USE_BYTECODE_INTERPRETER )            &amp;&amp; \
  31     defined( TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY )
  32 
<span class="line-modified">  33   /**************************************************************************</span>
<span class="line-modified">  34    *</span>
<span class="line-modified">  35    * These rules affect how the TT Interpreter does hinting, with the</span>
<span class="line-modified">  36    * goal of doing subpixel hinting by (in general) ignoring x moves.</span>
<span class="line-modified">  37    * Some of these rules are fixes that go above and beyond the</span>
<span class="line-modified">  38    * stated techniques in the MS whitepaper on Cleartype, due to</span>
<span class="line-modified">  39    * artifacts in many glyphs.  So, these rules make some glyphs render</span>
<span class="line-modified">  40    * better than they do in the MS rasterizer.</span>
<span class="line-modified">  41    *</span>
<span class="line-modified">  42    * &quot;&quot; string or 0 int/char indicates to apply to all glyphs.</span>
<span class="line-modified">  43    * &quot;-&quot; used as dummy placeholders, but any non-matching string works.</span>
<span class="line-modified">  44    *</span>
<span class="line-modified">  45    * Some of this could arguably be implemented in fontconfig, however:</span>
<span class="line-modified">  46    *</span>
<span class="line-modified">  47    * - Fontconfig can&#39;t set things on a glyph-by-glyph basis.</span>
<span class="line-modified">  48    * - The tweaks that happen here are very low-level, from an average</span>
<span class="line-modified">  49    *   user&#39;s point of view and are best implemented in the hinter.</span>
<span class="line-modified">  50    *</span>
<span class="line-modified">  51    * The goal is to make the subpixel hinting techniques as generalized</span>
<span class="line-modified">  52    * as possible across all fonts to prevent the need for extra rules such</span>
<span class="line-modified">  53    * as these.</span>
<span class="line-modified">  54    *</span>
<span class="line-modified">  55    * The rule structure is designed so that entirely new rules can easily</span>
<span class="line-modified">  56    * be added when a new compatibility feature is discovered.</span>
<span class="line-modified">  57    *</span>
<span class="line-modified">  58    * The rule structures could also use some enhancement to handle ranges.</span>
<span class="line-modified">  59    *</span>
<span class="line-modified">  60    *     ****************** WORK IN PROGRESS *******************</span>
<span class="line-modified">  61    */</span>
  62 
  63   /* These are `classes&#39; of fonts that can be grouped together and used in */
  64   /* rules below.  A blank entry &quot;&quot; is required at the end of these!       */
  65 #define FAMILY_CLASS_RULES_SIZE  7
  66 
  67   static const SPH_Font_Class  FAMILY_CLASS_Rules
  68                                [FAMILY_CLASS_RULES_SIZE] =
  69   {
  70     { &quot;MS Legacy Fonts&quot;,
  71       { &quot;Aharoni&quot;,
  72         &quot;Andale Mono&quot;,
  73         &quot;Andalus&quot;,
  74         &quot;Angsana New&quot;,
  75         &quot;AngsanaUPC&quot;,
  76         &quot;Arabic Transparent&quot;,
  77         &quot;Arial Black&quot;,
  78         &quot;Arial Narrow&quot;,
  79         &quot;Arial Unicode MS&quot;,
  80         &quot;Arial&quot;,
  81         &quot;Batang&quot;,
</pre>
</td>
</tr>
</table>
<center><a href="ttpload.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ttsubpix.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>