<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/share/native/libfreetype/src/cff/cffparse.h</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="cffparse.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="cfftoken.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfreetype/src/cff/cffparse.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
<span class="line-modified">  1 /***************************************************************************/</span>
<span class="line-modified">  2 /*                                                                         */</span>
<span class="line-modified">  3 /*  cffparse.h                                                             */</span>
<span class="line-modified">  4 /*                                                                         */</span>
<span class="line-modified">  5 /*    CFF token stream parser (specification)                              */</span>
<span class="line-modified">  6 /*                                                                         */</span>
<span class="line-modified">  7 /*  Copyright 1996-2018 by                                                 */</span>
<span class="line-modified">  8 /*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */</span>
<span class="line-modified">  9 /*                                                                         */</span>
<span class="line-modified"> 10 /*  This file is part of the FreeType project, and may only be used,       */</span>
<span class="line-modified"> 11 /*  modified, and distributed under the terms of the FreeType project      */</span>
<span class="line-modified"> 12 /*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */</span>
<span class="line-modified"> 13 /*  this file you indicate that you have read the license and              */</span>
<span class="line-modified"> 14 /*  understand and accept it fully.                                        */</span>
<span class="line-modified"> 15 /*                                                                         */</span>
<span class="line-modified"> 16 /***************************************************************************/</span>
 17 
 18 
 19 #ifndef CFFPARSE_H_
 20 #define CFFPARSE_H_
 21 
 22 
 23 #include &lt;ft2build.h&gt;
 24 #include FT_INTERNAL_CFF_TYPES_H
 25 #include FT_INTERNAL_OBJECTS_H
 26 
 27 
 28 FT_BEGIN_HEADER
 29 
 30 
 31   /* CFF uses constant parser stack size; */
 32   /* CFF2 can increase from default 193   */
 33 #define CFF_MAX_STACK_DEPTH  96
 34 
 35   /*
<span class="line-modified"> 36    *  There are plans to remove the `maxstack&#39; operator in a forthcoming</span>
<span class="line-modified"> 37    *  revision of the CFF2 specification, increasing the (then static) stack</span>
<span class="line-modified"> 38    *  size to 513.  By making the default stack size equal to the maximum</span>
<span class="line-modified"> 39    *  stack size, the operator is essentially disabled, which has the</span>
<span class="line-modified"> 40    *  desired effect in FreeType.</span>
 41    */
 42 #define CFF2_MAX_STACK      513
 43 #define CFF2_DEFAULT_STACK  513
 44 
 45 #define CFF_CODE_TOPDICT    0x1000
 46 #define CFF_CODE_PRIVATE    0x2000
 47 #define CFF2_CODE_TOPDICT   0x3000
 48 #define CFF2_CODE_FONTDICT  0x4000
 49 #define CFF2_CODE_PRIVATE   0x5000
 50 
 51 
 52   typedef struct  CFF_ParserRec_
 53   {
 54     FT_Library  library;
 55     FT_Byte*    start;
 56     FT_Byte*    limit;
 57     FT_Byte*    cursor;
 58 
 59     FT_Byte**   stack;
 60     FT_Byte**   top;
 61     FT_UInt     stackSize;  /* allocated size */
 62 




 63     FT_UInt     object_code;
 64     void*       object;
 65 
 66     FT_UShort   num_designs; /* a copy of `CFF_FontRecDict-&gt;num_designs&#39; */
 67     FT_UShort   num_axes;    /* a copy of `CFF_FontRecDict-&gt;num_axes&#39;    */
 68 
 69   } CFF_ParserRec, *CFF_Parser;
 70 
 71 
 72   FT_LOCAL( FT_Long )
 73   cff_parse_num( CFF_Parser  parser,
 74                  FT_Byte**   d );
 75 
 76   FT_LOCAL( FT_Error )
 77   cff_parser_init( CFF_Parser  parser,
 78                    FT_UInt     code,
 79                    void*       object,
 80                    FT_Library  library,
 81                    FT_UInt     stackSize,
 82                    FT_UShort   num_designs,
</pre>
<hr />
<pre>
113   typedef struct  CFF_Field_Handler_
114   {
115     int               kind;
116     int               code;
117     FT_UInt           offset;
118     FT_Byte           size;
119     CFF_Field_Reader  reader;
120     FT_UInt           array_max;
121     FT_UInt           count_offset;
122 
123 #ifdef FT_DEBUG_LEVEL_TRACE
124     const char*       id;
125 #endif
126 
127   } CFF_Field_Handler;
128 
129 
130 FT_END_HEADER
131 
132 









133 #endif /* CFFPARSE_H_ */
134 
135 
136 /* END */
</pre>
</td>
<td>
<hr />
<pre>
<span class="line-modified">  1 /****************************************************************************</span>
<span class="line-modified">  2  *</span>
<span class="line-modified">  3  * cffparse.h</span>
<span class="line-modified">  4  *</span>
<span class="line-modified">  5  *   CFF token stream parser (specification)</span>
<span class="line-modified">  6  *</span>
<span class="line-modified">  7  * Copyright (C) 1996-2019 by</span>
<span class="line-modified">  8  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified">  9  *</span>
<span class="line-modified"> 10  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified"> 11  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified"> 12  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified"> 13  * this file you indicate that you have read the license and</span>
<span class="line-modified"> 14  * understand and accept it fully.</span>
<span class="line-modified"> 15  *</span>
<span class="line-modified"> 16  */</span>
 17 
 18 
 19 #ifndef CFFPARSE_H_
 20 #define CFFPARSE_H_
 21 
 22 
 23 #include &lt;ft2build.h&gt;
 24 #include FT_INTERNAL_CFF_TYPES_H
 25 #include FT_INTERNAL_OBJECTS_H
 26 
 27 
 28 FT_BEGIN_HEADER
 29 
 30 
 31   /* CFF uses constant parser stack size; */
 32   /* CFF2 can increase from default 193   */
 33 #define CFF_MAX_STACK_DEPTH  96
 34 
 35   /*
<span class="line-modified"> 36    * There are plans to remove the `maxstack&#39; operator in a forthcoming</span>
<span class="line-modified"> 37    * revision of the CFF2 specification, increasing the (then static) stack</span>
<span class="line-modified"> 38    * size to 513.  By making the default stack size equal to the maximum</span>
<span class="line-modified"> 39    * stack size, the operator is essentially disabled, which has the</span>
<span class="line-modified"> 40    * desired effect in FreeType.</span>
 41    */
 42 #define CFF2_MAX_STACK      513
 43 #define CFF2_DEFAULT_STACK  513
 44 
 45 #define CFF_CODE_TOPDICT    0x1000
 46 #define CFF_CODE_PRIVATE    0x2000
 47 #define CFF2_CODE_TOPDICT   0x3000
 48 #define CFF2_CODE_FONTDICT  0x4000
 49 #define CFF2_CODE_PRIVATE   0x5000
 50 
 51 
 52   typedef struct  CFF_ParserRec_
 53   {
 54     FT_Library  library;
 55     FT_Byte*    start;
 56     FT_Byte*    limit;
 57     FT_Byte*    cursor;
 58 
 59     FT_Byte**   stack;
 60     FT_Byte**   top;
 61     FT_UInt     stackSize;  /* allocated size */
 62 
<span class="line-added"> 63 #ifdef CFF_CONFIG_OPTION_OLD_ENGINE</span>
<span class="line-added"> 64     FT_ListRec  t2_strings;</span>
<span class="line-added"> 65 #endif /* CFF_CONFIG_OPTION_OLD_ENGINE */</span>
<span class="line-added"> 66 </span>
 67     FT_UInt     object_code;
 68     void*       object;
 69 
 70     FT_UShort   num_designs; /* a copy of `CFF_FontRecDict-&gt;num_designs&#39; */
 71     FT_UShort   num_axes;    /* a copy of `CFF_FontRecDict-&gt;num_axes&#39;    */
 72 
 73   } CFF_ParserRec, *CFF_Parser;
 74 
 75 
 76   FT_LOCAL( FT_Long )
 77   cff_parse_num( CFF_Parser  parser,
 78                  FT_Byte**   d );
 79 
 80   FT_LOCAL( FT_Error )
 81   cff_parser_init( CFF_Parser  parser,
 82                    FT_UInt     code,
 83                    void*       object,
 84                    FT_Library  library,
 85                    FT_UInt     stackSize,
 86                    FT_UShort   num_designs,
</pre>
<hr />
<pre>
117   typedef struct  CFF_Field_Handler_
118   {
119     int               kind;
120     int               code;
121     FT_UInt           offset;
122     FT_Byte           size;
123     CFF_Field_Reader  reader;
124     FT_UInt           array_max;
125     FT_UInt           count_offset;
126 
127 #ifdef FT_DEBUG_LEVEL_TRACE
128     const char*       id;
129 #endif
130 
131   } CFF_Field_Handler;
132 
133 
134 FT_END_HEADER
135 
136 
<span class="line-added">137 #ifdef CFF_CONFIG_OPTION_OLD_ENGINE</span>
<span class="line-added">138   typedef struct  CFF_T2_String_</span>
<span class="line-added">139   {</span>
<span class="line-added">140     FT_Byte*  start;</span>
<span class="line-added">141     FT_Byte*  limit;</span>
<span class="line-added">142 </span>
<span class="line-added">143   } CFF_T2_StringRec, *CFF_T2_String;</span>
<span class="line-added">144 #endif /* CFF_CONFIG_OPTION_OLD_ENGINE */</span>
<span class="line-added">145 </span>
146 #endif /* CFFPARSE_H_ */
147 
148 
149 /* END */
</pre>
</td>
</tr>
</table>
<center><a href="cffparse.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="cfftoken.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>