<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/share/native/libfreetype/src/psaux/psfixed.h</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="pserror.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="psfont.c.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfreetype/src/psaux/psfixed.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
<span class="line-modified"> 1 /***************************************************************************/</span>
<span class="line-modified"> 2 /*                                                                         */</span>
<span class="line-modified"> 3 /*  psfixed.h                                                              */</span>
<span class="line-modified"> 4 /*                                                                         */</span>
<span class="line-modified"> 5 /*    Adobe&#39;s code for Fixed Point Mathematics (specification only).       */</span>
<span class="line-modified"> 6 /*                                                                         */</span>
<span class="line-modified"> 7 /*  Copyright 2007-2013 Adobe Systems Incorporated.                        */</span>
<span class="line-modified"> 8 /*                                                                         */</span>
<span class="line-modified"> 9 /*  This software, and all works of authorship, whether in source or       */</span>
<span class="line-modified">10 /*  object code form as indicated by the copyright notice(s) included      */</span>
<span class="line-modified">11 /*  herein (collectively, the &quot;Work&quot;) is made available, and may only be   */</span>
<span class="line-modified">12 /*  used, modified, and distributed under the FreeType Project License,    */</span>
<span class="line-modified">13 /*  LICENSE.TXT.  Additionally, subject to the terms and conditions of the */</span>
<span class="line-modified">14 /*  FreeType Project License, each contributor to the Work hereby grants   */</span>
<span class="line-modified">15 /*  to any individual or legal entity exercising permissions granted by    */</span>
<span class="line-modified">16 /*  the FreeType Project License and this section (hereafter, &quot;You&quot; or     */</span>
<span class="line-modified">17 /*  &quot;Your&quot;) a perpetual, worldwide, non-exclusive, no-charge,              */</span>
<span class="line-modified">18 /*  royalty-free, irrevocable (except as stated in this section) patent    */</span>
<span class="line-modified">19 /*  license to make, have made, use, offer to sell, sell, import, and      */</span>
<span class="line-modified">20 /*  otherwise transfer the Work, where such license applies only to those  */</span>
<span class="line-modified">21 /*  patent claims licensable by such contributor that are necessarily      */</span>
<span class="line-modified">22 /*  infringed by their contribution(s) alone or by combination of their    */</span>
<span class="line-modified">23 /*  contribution(s) with the Work to which such contribution(s) was        */</span>
<span class="line-modified">24 /*  submitted.  If You institute patent litigation against any entity      */</span>
<span class="line-modified">25 /*  (including a cross-claim or counterclaim in a lawsuit) alleging that   */</span>
<span class="line-modified">26 /*  the Work or a contribution incorporated within the Work constitutes    */</span>
<span class="line-modified">27 /*  direct or contributory patent infringement, then any patent licenses   */</span>
<span class="line-modified">28 /*  granted to You under this License for that Work shall terminate as of  */</span>
<span class="line-modified">29 /*  the date such litigation is filed.                                     */</span>
<span class="line-modified">30 /*                                                                         */</span>
<span class="line-modified">31 /*  By using, modifying, or distributing the Work you indicate that you    */</span>
<span class="line-modified">32 /*  have read and understood the terms and conditions of the               */</span>
<span class="line-modified">33 /*  FreeType Project License as well as those provided in this section,    */</span>
<span class="line-modified">34 /*  and you accept them fully.                                             */</span>
<span class="line-modified">35 /*                                                                         */</span>
<span class="line-modified">36 /***************************************************************************/</span>
37 
38 
39 #ifndef PSFIXED_H_
40 #define PSFIXED_H_
41 
42 
43 FT_BEGIN_HEADER
44 
45 
46   /* rasterizer integer and fixed point arithmetic must be 32-bit */
47 
48 #define   CF2_Fixed  CF2_F16Dot16
49   typedef FT_Int32   CF2_Frac;   /* 2.30 fixed point */
50 
51 
52 #define CF2_FIXED_MAX      ( (CF2_Fixed)0x7FFFFFFFL )
53 #define CF2_FIXED_MIN      ( (CF2_Fixed)0x80000000L )
54 #define CF2_FIXED_ONE      ( (CF2_Fixed)0x10000L )
55 #define CF2_FIXED_EPSILON  ( (CF2_Fixed)0x0001 )
56 
57   /* in C 89, left and right shift of negative numbers is  */
58   /* implementation specific behaviour in the general case */
59 
60 #define cf2_intToFixed( i )                                              \
61           ( (CF2_Fixed)( (FT_UInt32)(i) &lt;&lt; 16 ) )
62 #define cf2_fixedToInt( x )                                              \
63           ( (FT_Short)( ( (FT_UInt32)(x) + 0x8000U ) &gt;&gt; 16 ) )
64 #define cf2_fixedRound( x )                                              \
65           ( (CF2_Fixed)( ( (FT_UInt32)(x) + 0x8000U ) &amp; 0xFFFF0000UL ) )
66 #define cf2_doubleToFixed( f )                                           \
67           ( (CF2_Fixed)( (f) * 65536.0 + 0.5 ) )
68 #define cf2_fixedAbs( x )                                                \
69           ( (x) &lt; 0 ? NEG_INT32( x ) : (x) )
70 #define cf2_fixedFloor( x )                                              \
71           ( (CF2_Fixed)( (FT_UInt32)(x) &amp; 0xFFFF0000UL ) )
72 #define cf2_fixedFraction( x )                                           \
73           ( (x) - cf2_fixedFloor( x ) )
74 #define cf2_fracToFixed( x )                                             \
<span class="line-modified">75           ( (x) &lt; 0 ? -( ( -(x) + 0x2000 ) &gt;&gt; 14 )                       \</span>
<span class="line-removed">76                     :  ( (  (x) + 0x2000 ) &gt;&gt; 14 ) )</span>
77 
78 
79   /* signed numeric types */
80   typedef enum  CF2_NumberType_
81   {
82     CF2_NumberFixed,    /* 16.16 */
83     CF2_NumberFrac,     /*  2.30 */
84     CF2_NumberInt       /* 32.0  */
85 
86   } CF2_NumberType;
87 
88 
89 FT_END_HEADER
90 
91 
92 #endif /* PSFIXED_H_ */
93 
94 
95 /* END */
</pre>
</td>
<td>
<hr />
<pre>
<span class="line-modified"> 1 /****************************************************************************</span>
<span class="line-modified"> 2  *</span>
<span class="line-modified"> 3  * psfixed.h</span>
<span class="line-modified"> 4  *</span>
<span class="line-modified"> 5  *   Adobe&#39;s code for Fixed Point Mathematics (specification only).</span>
<span class="line-modified"> 6  *</span>
<span class="line-modified"> 7  * Copyright 2007-2013 Adobe Systems Incorporated.</span>
<span class="line-modified"> 8  *</span>
<span class="line-modified"> 9  * This software, and all works of authorship, whether in source or</span>
<span class="line-modified">10  * object code form as indicated by the copyright notice(s) included</span>
<span class="line-modified">11  * herein (collectively, the &quot;Work&quot;) is made available, and may only be</span>
<span class="line-modified">12  * used, modified, and distributed under the FreeType Project License,</span>
<span class="line-modified">13  * LICENSE.TXT.  Additionally, subject to the terms and conditions of the</span>
<span class="line-modified">14  * FreeType Project License, each contributor to the Work hereby grants</span>
<span class="line-modified">15  * to any individual or legal entity exercising permissions granted by</span>
<span class="line-modified">16  * the FreeType Project License and this section (hereafter, &quot;You&quot; or</span>
<span class="line-modified">17  * &quot;Your&quot;) a perpetual, worldwide, non-exclusive, no-charge,</span>
<span class="line-modified">18  * royalty-free, irrevocable (except as stated in this section) patent</span>
<span class="line-modified">19  * license to make, have made, use, offer to sell, sell, import, and</span>
<span class="line-modified">20  * otherwise transfer the Work, where such license applies only to those</span>
<span class="line-modified">21  * patent claims licensable by such contributor that are necessarily</span>
<span class="line-modified">22  * infringed by their contribution(s) alone or by combination of their</span>
<span class="line-modified">23  * contribution(s) with the Work to which such contribution(s) was</span>
<span class="line-modified">24  * submitted.  If You institute patent litigation against any entity</span>
<span class="line-modified">25  * (including a cross-claim or counterclaim in a lawsuit) alleging that</span>
<span class="line-modified">26  * the Work or a contribution incorporated within the Work constitutes</span>
<span class="line-modified">27  * direct or contributory patent infringement, then any patent licenses</span>
<span class="line-modified">28  * granted to You under this License for that Work shall terminate as of</span>
<span class="line-modified">29  * the date such litigation is filed.</span>
<span class="line-modified">30  *</span>
<span class="line-modified">31  * By using, modifying, or distributing the Work you indicate that you</span>
<span class="line-modified">32  * have read and understood the terms and conditions of the</span>
<span class="line-modified">33  * FreeType Project License as well as those provided in this section,</span>
<span class="line-modified">34  * and you accept them fully.</span>
<span class="line-modified">35  *</span>
<span class="line-modified">36  */</span>
37 
38 
39 #ifndef PSFIXED_H_
40 #define PSFIXED_H_
41 
42 
43 FT_BEGIN_HEADER
44 
45 
46   /* rasterizer integer and fixed point arithmetic must be 32-bit */
47 
48 #define   CF2_Fixed  CF2_F16Dot16
49   typedef FT_Int32   CF2_Frac;   /* 2.30 fixed point */
50 
51 
52 #define CF2_FIXED_MAX      ( (CF2_Fixed)0x7FFFFFFFL )
53 #define CF2_FIXED_MIN      ( (CF2_Fixed)0x80000000L )
54 #define CF2_FIXED_ONE      ( (CF2_Fixed)0x10000L )
55 #define CF2_FIXED_EPSILON  ( (CF2_Fixed)0x0001 )
56 
57   /* in C 89, left and right shift of negative numbers is  */
58   /* implementation specific behaviour in the general case */
59 
60 #define cf2_intToFixed( i )                                              \
61           ( (CF2_Fixed)( (FT_UInt32)(i) &lt;&lt; 16 ) )
62 #define cf2_fixedToInt( x )                                              \
63           ( (FT_Short)( ( (FT_UInt32)(x) + 0x8000U ) &gt;&gt; 16 ) )
64 #define cf2_fixedRound( x )                                              \
65           ( (CF2_Fixed)( ( (FT_UInt32)(x) + 0x8000U ) &amp; 0xFFFF0000UL ) )
66 #define cf2_doubleToFixed( f )                                           \
67           ( (CF2_Fixed)( (f) * 65536.0 + 0.5 ) )
68 #define cf2_fixedAbs( x )                                                \
69           ( (x) &lt; 0 ? NEG_INT32( x ) : (x) )
70 #define cf2_fixedFloor( x )                                              \
71           ( (CF2_Fixed)( (FT_UInt32)(x) &amp; 0xFFFF0000UL ) )
72 #define cf2_fixedFraction( x )                                           \
73           ( (x) - cf2_fixedFloor( x ) )
74 #define cf2_fracToFixed( x )                                             \
<span class="line-modified">75           ( ( (x) + 0x2000 - ( (x) &lt; 0 ) ) &gt;&gt; 14 )</span>

76 
77 
78   /* signed numeric types */
79   typedef enum  CF2_NumberType_
80   {
81     CF2_NumberFixed,    /* 16.16 */
82     CF2_NumberFrac,     /*  2.30 */
83     CF2_NumberInt       /* 32.0  */
84 
85   } CF2_NumberType;
86 
87 
88 FT_END_HEADER
89 
90 
91 #endif /* PSFIXED_H_ */
92 
93 
94 /* END */
</pre>
</td>
</tr>
</table>
<center><a href="pserror.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="psfont.c.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>