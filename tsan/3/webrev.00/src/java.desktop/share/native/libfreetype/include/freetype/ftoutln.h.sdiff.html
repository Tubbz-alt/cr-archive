<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/share/native/libfreetype/include/freetype/ftoutln.h</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="ftmoderr.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ftparams.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfreetype/include/freetype/ftoutln.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
<span class="line-modified">  1 /***************************************************************************/</span>
<span class="line-modified">  2 /*                                                                         */</span>
<span class="line-modified">  3 /*  ftoutln.h                                                              */</span>
<span class="line-modified">  4 /*                                                                         */</span>
<span class="line-modified">  5 /*    Support for the FT_Outline type used to store glyph shapes of        */</span>
<span class="line-modified">  6 /*    most scalable font formats (specification).                          */</span>
<span class="line-modified">  7 /*                                                                         */</span>
<span class="line-modified">  8 /*  Copyright 1996-2018 by                                                 */</span>
<span class="line-modified">  9 /*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */</span>
<span class="line-modified"> 10 /*                                                                         */</span>
<span class="line-modified"> 11 /*  This file is part of the FreeType project, and may only be used,       */</span>
<span class="line-modified"> 12 /*  modified, and distributed under the terms of the FreeType project      */</span>
<span class="line-modified"> 13 /*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */</span>
<span class="line-modified"> 14 /*  this file you indicate that you have read the license and              */</span>
<span class="line-modified"> 15 /*  understand and accept it fully.                                        */</span>
<span class="line-modified"> 16 /*                                                                         */</span>
<span class="line-modified"> 17 /***************************************************************************/</span>
 18 
 19 
 20 #ifndef FTOUTLN_H_
 21 #define FTOUTLN_H_
 22 
 23 
 24 #include &lt;ft2build.h&gt;
 25 #include FT_FREETYPE_H
 26 
 27 #ifdef FREETYPE_H
 28 #error &quot;freetype.h of FreeType 1 has been loaded!&quot;
 29 #error &quot;Please fix the directory search order for header files&quot;
 30 #error &quot;so that freetype.h of FreeType 2 is found first.&quot;
 31 #endif
 32 
 33 
 34 FT_BEGIN_HEADER
 35 
 36 
<span class="line-modified"> 37   /*************************************************************************/</span>
<span class="line-modified"> 38   /*                                                                       */</span>
<span class="line-modified"> 39   /* &lt;Section&gt;                                                             */</span>
<span class="line-modified"> 40   /*    outline_processing                                                 */</span>
<span class="line-modified"> 41   /*                                                                       */</span>
<span class="line-modified"> 42   /* &lt;Title&gt;                                                               */</span>
<span class="line-modified"> 43   /*    Outline Processing                                                 */</span>
<span class="line-modified"> 44   /*                                                                       */</span>
<span class="line-modified"> 45   /* &lt;Abstract&gt;                                                            */</span>
<span class="line-modified"> 46   /*    Functions to create, transform, and render vectorial glyph images. */</span>
<span class="line-modified"> 47   /*                                                                       */</span>
<span class="line-modified"> 48   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified"> 49   /*    This section contains routines used to create and destroy scalable */</span>
<span class="line-modified"> 50   /*    glyph images known as `outlines&#39;.  These can also be measured,     */</span>
<span class="line-modified"> 51   /*    transformed, and converted into bitmaps and pixmaps.               */</span>
<span class="line-modified"> 52   /*                                                                       */</span>
<span class="line-modified"> 53   /* &lt;Order&gt;                                                               */</span>
<span class="line-modified"> 54   /*    FT_Outline                                                         */</span>
<span class="line-modified"> 55   /*    FT_Outline_New                                                     */</span>
<span class="line-modified"> 56   /*    FT_Outline_Done                                                    */</span>
<span class="line-modified"> 57   /*    FT_Outline_Copy                                                    */</span>
<span class="line-modified"> 58   /*    FT_Outline_Translate                                               */</span>
<span class="line-modified"> 59   /*    FT_Outline_Transform                                               */</span>
<span class="line-modified"> 60   /*    FT_Outline_Embolden                                                */</span>
<span class="line-modified"> 61   /*    FT_Outline_EmboldenXY                                              */</span>
<span class="line-modified"> 62   /*    FT_Outline_Reverse                                                 */</span>
<span class="line-modified"> 63   /*    FT_Outline_Check                                                   */</span>
<span class="line-modified"> 64   /*                                                                       */</span>
<span class="line-modified"> 65   /*    FT_Outline_Get_CBox                                                */</span>
<span class="line-modified"> 66   /*    FT_Outline_Get_BBox                                                */</span>
<span class="line-modified"> 67   /*                                                                       */</span>
<span class="line-modified"> 68   /*    FT_Outline_Get_Bitmap                                              */</span>
<span class="line-modified"> 69   /*    FT_Outline_Render                                                  */</span>
<span class="line-modified"> 70   /*    FT_Outline_Decompose                                               */</span>
<span class="line-modified"> 71   /*    FT_Outline_Funcs                                                   */</span>
<span class="line-modified"> 72   /*    FT_Outline_MoveToFunc                                              */</span>
<span class="line-modified"> 73   /*    FT_Outline_LineToFunc                                              */</span>
<span class="line-modified"> 74   /*    FT_Outline_ConicToFunc                                             */</span>
<span class="line-modified"> 75   /*    FT_Outline_CubicToFunc                                             */</span>
<span class="line-modified"> 76   /*                                                                       */</span>
<span class="line-modified"> 77   /*    FT_Orientation                                                     */</span>
<span class="line-modified"> 78   /*    FT_Outline_Get_Orientation                                         */</span>
<span class="line-modified"> 79   /*                                                                       */</span>
<span class="line-modified"> 80   /*    FT_OUTLINE_XXX                                                     */</span>
<span class="line-modified"> 81   /*                                                                       */</span>
<span class="line-modified"> 82   /*************************************************************************/</span>
<span class="line-modified"> 83 </span>
<span class="line-modified"> 84 </span>
<span class="line-modified"> 85   /*************************************************************************/</span>
<span class="line-modified"> 86   /*                                                                       */</span>
<span class="line-modified"> 87   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified"> 88   /*    FT_Outline_Decompose                                               */</span>
<span class="line-modified"> 89   /*                                                                       */</span>
<span class="line-modified"> 90   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified"> 91   /*    Walk over an outline&#39;s structure to decompose it into individual   */</span>
<span class="line-modified"> 92   /*    segments and Bezier arcs.  This function also emits `move to&#39;      */</span>
<span class="line-modified"> 93   /*    operations to indicate the start of new contours in the outline.   */</span>
<span class="line-modified"> 94   /*                                                                       */</span>
<span class="line-modified"> 95   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified"> 96   /*    outline        :: A pointer to the source target.                  */</span>
<span class="line-modified"> 97   /*                                                                       */</span>
<span class="line-modified"> 98   /*    func_interface :: A table of `emitters&#39;, i.e., function pointers   */</span>
<span class="line-modified"> 99   /*                      called during decomposition to indicate path     */</span>
<span class="line-modified">100   /*                      operations.                                      */</span>
<span class="line-modified">101   /*                                                                       */</span>
<span class="line-modified">102   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">103   /*    user           :: A typeless pointer that is passed to each        */</span>
<span class="line-modified">104   /*                      emitter during the decomposition.  It can be     */</span>
<span class="line-modified">105   /*                      used to store the state during the               */</span>
<span class="line-modified">106   /*                      decomposition.                                   */</span>
<span class="line-modified">107   /*                                                                       */</span>
<span class="line-modified">108   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">109   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">110   /*                                                                       */</span>
<span class="line-modified">111   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">112   /*    A contour that contains a single point only is represented by a    */</span>
<span class="line-modified">113   /*    `move to&#39; operation followed by `line to&#39; to the same point.  In   */</span>
<span class="line-modified">114   /*    most cases, it is best to filter this out before using the         */</span>
<span class="line-modified">115   /*    outline for stroking purposes (otherwise it would result in a      */</span>
<span class="line-modified">116   /*    visible dot when round caps are used).                             */</span>
<span class="line-modified">117   /*                                                                       */</span>
<span class="line-modified">118   /*    Similarly, the function returns success for an empty outline also  */</span>
<span class="line-modified">119   /*    (doing nothing, this is, not calling any emitter); if necessary,   */</span>
<span class="line-modified">120   /*    you should filter this out, too.                                   */</span>
<span class="line-modified">121   /*                                                                       */</span>

122   FT_EXPORT( FT_Error )
123   FT_Outline_Decompose( FT_Outline*              outline,
124                         const FT_Outline_Funcs*  func_interface,
125                         void*                    user );
126 
127 
<span class="line-modified">128   /*************************************************************************/</span>
<span class="line-modified">129   /*                                                                       */</span>
<span class="line-modified">130   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">131   /*    FT_Outline_New                                                     */</span>
<span class="line-modified">132   /*                                                                       */</span>
<span class="line-modified">133   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">134   /*    Create a new outline of a given size.                              */</span>
<span class="line-modified">135   /*                                                                       */</span>
<span class="line-modified">136   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">137   /*    library     :: A handle to the library object from where the       */</span>
<span class="line-modified">138   /*                   outline is allocated.  Note however that the new    */</span>
<span class="line-modified">139   /*                   outline will *not* necessarily be *freed*, when     */</span>
<span class="line-modified">140   /*                   destroying the library, by @FT_Done_FreeType.       */</span>
<span class="line-modified">141   /*                                                                       */</span>
<span class="line-modified">142   /*    numPoints   :: The maximum number of points within the outline.    */</span>
<span class="line-modified">143   /*                   Must be smaller than or equal to 0xFFFF (65535).    */</span>
<span class="line-modified">144   /*                                                                       */</span>
<span class="line-modified">145   /*    numContours :: The maximum number of contours within the outline.  */</span>
<span class="line-modified">146   /*                   This value must be in the range 0 to `numPoints&#39;.   */</span>
<span class="line-modified">147   /*                                                                       */</span>
<span class="line-modified">148   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">149   /*    anoutline   :: A handle to the new outline.                        */</span>
<span class="line-modified">150   /*                                                                       */</span>
<span class="line-modified">151   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">152   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">153   /*                                                                       */</span>
<span class="line-modified">154   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">155   /*    The reason why this function takes a `library&#39; parameter is simply */</span>
<span class="line-modified">156   /*    to use the library&#39;s memory allocator.                             */</span>
<span class="line-modified">157   /*                                                                       */</span>



158   FT_EXPORT( FT_Error )
159   FT_Outline_New( FT_Library   library,
160                   FT_UInt      numPoints,
161                   FT_Int       numContours,
162                   FT_Outline  *anoutline );
163 
164 
<span class="line-modified">165   FT_EXPORT( FT_Error )</span>
<span class="line-modified">166   FT_Outline_New_Internal( FT_Memory    memory,</span>
<span class="line-modified">167                            FT_UInt      numPoints,</span>
<span class="line-modified">168                            FT_Int       numContours,</span>
<span class="line-modified">169                            FT_Outline  *anoutline );</span>
<span class="line-modified">170 </span>
<span class="line-modified">171 </span>
<span class="line-modified">172   /*************************************************************************/</span>
<span class="line-modified">173   /*                                                                       */</span>
<span class="line-modified">174   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">175   /*    FT_Outline_Done                                                    */</span>
<span class="line-modified">176   /*                                                                       */</span>
<span class="line-modified">177   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">178   /*    Destroy an outline created with @FT_Outline_New.                   */</span>
<span class="line-modified">179   /*                                                                       */</span>
<span class="line-modified">180   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">181   /*    library :: A handle of the library object used to allocate the     */</span>
<span class="line-modified">182   /*               outline.                                                */</span>
<span class="line-modified">183   /*                                                                       */</span>
<span class="line-modified">184   /*    outline :: A pointer to the outline object to be discarded.        */</span>
<span class="line-modified">185   /*                                                                       */</span>
<span class="line-modified">186   /* &lt;Return&gt;                                                              */</span>
<span class="line-removed">187   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-removed">188   /*                                                                       */</span>
<span class="line-removed">189   /* &lt;Note&gt;                                                                */</span>
<span class="line-removed">190   /*    If the outline&#39;s `owner&#39; field is not set, only the outline        */</span>
<span class="line-removed">191   /*    descriptor will be released.                                       */</span>
<span class="line-removed">192   /*                                                                       */</span>
193   FT_EXPORT( FT_Error )
194   FT_Outline_Done( FT_Library   library,
195                    FT_Outline*  outline );
196 
197 
<span class="line-modified">198   FT_EXPORT( FT_Error )</span>
<span class="line-modified">199   FT_Outline_Done_Internal( FT_Memory    memory,</span>
<span class="line-modified">200                             FT_Outline*  outline );</span>
<span class="line-modified">201 </span>
<span class="line-modified">202 </span>
<span class="line-modified">203   /*************************************************************************/</span>
<span class="line-modified">204   /*                                                                       */</span>
<span class="line-modified">205   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">206   /*    FT_Outline_Check                                                   */</span>
<span class="line-modified">207   /*                                                                       */</span>
<span class="line-modified">208   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">209   /*    Check the contents of an outline descriptor.                       */</span>
<span class="line-modified">210   /*                                                                       */</span>
<span class="line-modified">211   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">212   /*    outline :: A handle to a source outline.                           */</span>
<span class="line-modified">213   /*                                                                       */</span>
<span class="line-modified">214   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">215   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">216   /*                                                                       */</span>
<span class="line-removed">217   /* &lt;Note&gt;                                                                */</span>
<span class="line-removed">218   /*    An empty outline, or an outline with a single point only is also   */</span>
<span class="line-removed">219   /*    valid.                                                             */</span>
<span class="line-removed">220   /*                                                                       */</span>
221   FT_EXPORT( FT_Error )
222   FT_Outline_Check( FT_Outline*  outline );
223 
224 
<span class="line-modified">225   /*************************************************************************/</span>
<span class="line-modified">226   /*                                                                       */</span>
<span class="line-modified">227   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">228   /*    FT_Outline_Get_CBox                                                */</span>
<span class="line-modified">229   /*                                                                       */</span>
<span class="line-modified">230   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">231   /*    Return an outline&#39;s `control box&#39;.  The control box encloses all   */</span>
<span class="line-modified">232   /*    the outline&#39;s points, including Bezier control points.  Though it  */</span>
<span class="line-modified">233   /*    coincides with the exact bounding box for most glyphs, it can be   */</span>
<span class="line-modified">234   /*    slightly larger in some situations (like when rotating an outline  */</span>
<span class="line-modified">235   /*    that contains Bezier outside arcs).                                */</span>
<span class="line-modified">236   /*                                                                       */</span>
<span class="line-modified">237   /*    Computing the control box is very fast, while getting the bounding */</span>
<span class="line-modified">238   /*    box can take much more time as it needs to walk over all segments  */</span>
<span class="line-modified">239   /*    and arcs in the outline.  To get the latter, you can use the       */</span>
<span class="line-modified">240   /*    `ftbbox&#39; component, which is dedicated to this single task.        */</span>
<span class="line-modified">241   /*                                                                       */</span>
<span class="line-modified">242   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">243   /*    outline :: A pointer to the source outline descriptor.             */</span>
<span class="line-modified">244   /*                                                                       */</span>
<span class="line-modified">245   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">246   /*    acbox   :: The outline&#39;s control box.                              */</span>
<span class="line-modified">247   /*                                                                       */</span>
<span class="line-modified">248   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">249   /*    See @FT_Glyph_Get_CBox for a discussion of tricky fonts.           */</span>
<span class="line-modified">250   /*                                                                       */</span>


251   FT_EXPORT( void )
252   FT_Outline_Get_CBox( const FT_Outline*  outline,
253                        FT_BBox           *acbox );
254 
255 
<span class="line-modified">256   /*************************************************************************/</span>
<span class="line-modified">257   /*                                                                       */</span>
<span class="line-modified">258   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">259   /*    FT_Outline_Translate                                               */</span>
<span class="line-modified">260   /*                                                                       */</span>
<span class="line-modified">261   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">262   /*    Apply a simple translation to the points of an outline.            */</span>
<span class="line-modified">263   /*                                                                       */</span>
<span class="line-modified">264   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">265   /*    outline :: A pointer to the target outline descriptor.             */</span>
<span class="line-modified">266   /*                                                                       */</span>
<span class="line-modified">267   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">268   /*    xOffset :: The horizontal offset.                                  */</span>
<span class="line-modified">269   /*                                                                       */</span>
<span class="line-modified">270   /*    yOffset :: The vertical offset.                                    */</span>
<span class="line-modified">271   /*                                                                       */</span>



272   FT_EXPORT( void )
273   FT_Outline_Translate( const FT_Outline*  outline,
274                         FT_Pos             xOffset,
275                         FT_Pos             yOffset );
276 
277 
<span class="line-modified">278   /*************************************************************************/</span>
<span class="line-modified">279   /*                                                                       */</span>
<span class="line-modified">280   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">281   /*    FT_Outline_Copy                                                    */</span>
<span class="line-modified">282   /*                                                                       */</span>
<span class="line-modified">283   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">284   /*    Copy an outline into another one.  Both objects must have the      */</span>
<span class="line-modified">285   /*    same sizes (number of points &amp; number of contours) when this       */</span>
<span class="line-modified">286   /*    function is called.                                                */</span>
<span class="line-modified">287   /*                                                                       */</span>
<span class="line-modified">288   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">289   /*    source :: A handle to the source outline.                          */</span>
<span class="line-modified">290   /*                                                                       */</span>
<span class="line-modified">291   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">292   /*    target :: A handle to the target outline.                          */</span>
<span class="line-modified">293   /*                                                                       */</span>
<span class="line-modified">294   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">295   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">296   /*                                                                       */</span>


297   FT_EXPORT( FT_Error )
298   FT_Outline_Copy( const FT_Outline*  source,
299                    FT_Outline        *target );
300 
301 
<span class="line-modified">302   /*************************************************************************/</span>
<span class="line-modified">303   /*                                                                       */</span>
<span class="line-modified">304   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">305   /*    FT_Outline_Transform                                               */</span>
<span class="line-modified">306   /*                                                                       */</span>
<span class="line-modified">307   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">308   /*    Apply a simple 2x2 matrix to all of an outline&#39;s points.  Useful   */</span>
<span class="line-modified">309   /*    for applying rotations, slanting, flipping, etc.                   */</span>
<span class="line-modified">310   /*                                                                       */</span>
<span class="line-modified">311   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">312   /*    outline :: A pointer to the target outline descriptor.             */</span>
<span class="line-modified">313   /*                                                                       */</span>
<span class="line-modified">314   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">315   /*    matrix  :: A pointer to the transformation matrix.                 */</span>
<span class="line-modified">316   /*                                                                       */</span>
<span class="line-modified">317   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">318   /*    You can use @FT_Outline_Translate if you need to translate the     */</span>
<span class="line-modified">319   /*    outline&#39;s points.                                                  */</span>
<span class="line-modified">320   /*                                                                       */</span>


321   FT_EXPORT( void )
322   FT_Outline_Transform( const FT_Outline*  outline,
323                         const FT_Matrix*   matrix );
324 
325 
<span class="line-modified">326   /*************************************************************************/</span>
<span class="line-modified">327   /*                                                                       */</span>
<span class="line-modified">328   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">329   /*    FT_Outline_Embolden                                                */</span>
<span class="line-modified">330   /*                                                                       */</span>
<span class="line-modified">331   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">332   /*    Embolden an outline.  The new outline will be at most 4~times      */</span>
<span class="line-modified">333   /*    `strength&#39; pixels wider and higher.  You may think of the left and */</span>
<span class="line-modified">334   /*    bottom borders as unchanged.                                       */</span>
<span class="line-modified">335   /*                                                                       */</span>
<span class="line-modified">336   /*    Negative `strength&#39; values to reduce the outline thickness are     */</span>
<span class="line-modified">337   /*    possible also.                                                     */</span>
<span class="line-modified">338   /*                                                                       */</span>
<span class="line-modified">339   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">340   /*    outline  :: A handle to the target outline.                        */</span>
<span class="line-modified">341   /*                                                                       */</span>
<span class="line-modified">342   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">343   /*    strength :: How strong the glyph is emboldened.  Expressed in      */</span>
<span class="line-modified">344   /*                26.6 pixel format.                                     */</span>
<span class="line-modified">345   /*                                                                       */</span>
<span class="line-modified">346   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">347   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">348   /*                                                                       */</span>
<span class="line-modified">349   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">350   /*    The used algorithm to increase or decrease the thickness of the    */</span>
<span class="line-modified">351   /*    glyph doesn&#39;t change the number of points; this means that certain */</span>
<span class="line-modified">352   /*    situations like acute angles or intersections are sometimes        */</span>
<span class="line-modified">353   /*    handled incorrectly.                                               */</span>
<span class="line-modified">354   /*                                                                       */</span>
<span class="line-modified">355   /*    If you need `better&#39; metrics values you should call                */</span>
<span class="line-modified">356   /*    @FT_Outline_Get_CBox or @FT_Outline_Get_BBox.                      */</span>
<span class="line-modified">357   /*                                                                       */</span>
<span class="line-modified">358   /*    Example call:                                                      */</span>
<span class="line-modified">359   /*                                                                       */</span>
<span class="line-modified">360   /*    {                                                                  */</span>
<span class="line-modified">361   /*      FT_Load_Glyph( face, index, FT_LOAD_DEFAULT );                   */</span>
<span class="line-modified">362   /*      if ( face-&gt;glyph-&gt;format == FT_GLYPH_FORMAT_OUTLINE )            */</span>
<span class="line-modified">363   /*        FT_Outline_Embolden( &amp;face-&gt;glyph-&gt;outline, strength );        */</span>
<span class="line-modified">364   /*    }                                                                  */</span>
<span class="line-modified">365   /*                                                                       */</span>
<span class="line-modified">366   /*    To get meaningful results, font scaling values must be set with    */</span>
<span class="line-modified">367   /*    functions like @FT_Set_Char_Size before calling FT_Render_Glyph.   */</span>
<span class="line-modified">368   /*                                                                       */</span>


369   FT_EXPORT( FT_Error )
370   FT_Outline_Embolden( FT_Outline*  outline,
371                        FT_Pos       strength );
372 
373 
<span class="line-modified">374   /*************************************************************************/</span>
<span class="line-modified">375   /*                                                                       */</span>
<span class="line-modified">376   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">377   /*    FT_Outline_EmboldenXY                                              */</span>
<span class="line-modified">378   /*                                                                       */</span>
<span class="line-modified">379   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">380   /*    Embolden an outline.  The new outline will be `xstrength&#39; pixels   */</span>
<span class="line-modified">381   /*    wider and `ystrength&#39; pixels higher.  Otherwise, it is similar to  */</span>
<span class="line-modified">382   /*    @FT_Outline_Embolden, which uses the same strength in both         */</span>
<span class="line-modified">383   /*    directions.                                                        */</span>
<span class="line-modified">384   /*                                                                       */</span>
<span class="line-modified">385   /* &lt;Since&gt;                                                               */</span>
<span class="line-modified">386   /*    2.4.10                                                             */</span>
<span class="line-removed">387   /*                                                                       */</span>
388   FT_EXPORT( FT_Error )
389   FT_Outline_EmboldenXY( FT_Outline*  outline,
390                          FT_Pos       xstrength,
391                          FT_Pos       ystrength );
392 
393 
<span class="line-modified">394   /*************************************************************************/</span>
<span class="line-modified">395   /*                                                                       */</span>
<span class="line-modified">396   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">397   /*    FT_Outline_Reverse                                                 */</span>
<span class="line-modified">398   /*                                                                       */</span>
<span class="line-modified">399   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">400   /*    Reverse the drawing direction of an outline.  This is used to      */</span>
<span class="line-modified">401   /*    ensure consistent fill conventions for mirrored glyphs.            */</span>
<span class="line-modified">402   /*                                                                       */</span>
<span class="line-modified">403   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">404   /*    outline :: A pointer to the target outline descriptor.             */</span>
<span class="line-modified">405   /*                                                                       */</span>
<span class="line-modified">406   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">407   /*    This function toggles the bit flag @FT_OUTLINE_REVERSE_FILL in     */</span>
<span class="line-modified">408   /*    the outline&#39;s `flags&#39; field.                                       */</span>
<span class="line-modified">409   /*                                                                       */</span>
<span class="line-modified">410   /*    It shouldn&#39;t be used by a normal client application, unless it     */</span>
<span class="line-modified">411   /*    knows what it is doing.                                            */</span>
<span class="line-modified">412   /*                                                                       */</span>

413   FT_EXPORT( void )
414   FT_Outline_Reverse( FT_Outline*  outline );
415 
416 
<span class="line-modified">417   /*************************************************************************/</span>
<span class="line-modified">418   /*                                                                       */</span>
<span class="line-modified">419   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">420   /*    FT_Outline_Get_Bitmap                                              */</span>
<span class="line-modified">421   /*                                                                       */</span>
<span class="line-modified">422   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">423   /*    Render an outline within a bitmap.  The outline&#39;s image is simply  */</span>
<span class="line-modified">424   /*    OR-ed to the target bitmap.                                        */</span>
<span class="line-modified">425   /*                                                                       */</span>
<span class="line-modified">426   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">427   /*    library :: A handle to a FreeType library object.                  */</span>
<span class="line-modified">428   /*                                                                       */</span>
<span class="line-modified">429   /*    outline :: A pointer to the source outline descriptor.             */</span>
<span class="line-modified">430   /*                                                                       */</span>
<span class="line-modified">431   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">432   /*    abitmap :: A pointer to the target bitmap descriptor.              */</span>
<span class="line-modified">433   /*                                                                       */</span>
<span class="line-modified">434   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">435   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">436   /*                                                                       */</span>
<span class="line-modified">437   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">438   /*    This function does NOT CREATE the bitmap, it only renders an       */</span>
<span class="line-modified">439   /*    outline image within the one you pass to it!  Consequently, the    */</span>
<span class="line-modified">440   /*    various fields in `abitmap&#39; should be set accordingly.             */</span>
<span class="line-modified">441   /*                                                                       */</span>
<span class="line-modified">442   /*    It will use the raster corresponding to the default glyph format.  */</span>
<span class="line-modified">443   /*                                                                       */</span>
<span class="line-modified">444   /*    The value of the `num_grays&#39; field in `abitmap&#39; is ignored.  If    */</span>
<span class="line-modified">445   /*    you select the gray-level rasterizer, and you want less than 256   */</span>
<span class="line-modified">446   /*    gray levels, you have to use @FT_Outline_Render directly.          */</span>
<span class="line-modified">447   /*                                                                       */</span>



448   FT_EXPORT( FT_Error )
449   FT_Outline_Get_Bitmap( FT_Library        library,
450                          FT_Outline*       outline,
451                          const FT_Bitmap  *abitmap );
452 
453 
<span class="line-modified">454   /*************************************************************************/</span>
<span class="line-modified">455   /*                                                                       */</span>
<span class="line-modified">456   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">457   /*    FT_Outline_Render                                                  */</span>
<span class="line-modified">458   /*                                                                       */</span>
<span class="line-modified">459   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">460   /*    Render an outline within a bitmap using the current scan-convert.  */</span>
<span class="line-modified">461   /*    This function uses an @FT_Raster_Params structure as an argument,  */</span>
<span class="line-modified">462   /*    allowing advanced features like direct composition, translucency,  */</span>
<span class="line-modified">463   /*    etc.                                                               */</span>
<span class="line-modified">464   /*                                                                       */</span>
<span class="line-modified">465   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">466   /*    library :: A handle to a FreeType library object.                  */</span>
<span class="line-modified">467   /*                                                                       */</span>
<span class="line-modified">468   /*    outline :: A pointer to the source outline descriptor.             */</span>
<span class="line-modified">469   /*                                                                       */</span>
<span class="line-modified">470   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">471   /*    params  :: A pointer to an @FT_Raster_Params structure used to     */</span>
<span class="line-modified">472   /*               describe the rendering operation.                       */</span>
<span class="line-modified">473   /*                                                                       */</span>
<span class="line-modified">474   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">475   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">476   /*                                                                       */</span>
<span class="line-modified">477   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">478   /*    You should know what you are doing and how @FT_Raster_Params works */</span>
<span class="line-modified">479   /*    to use this function.                                              */</span>
<span class="line-modified">480   /*                                                                       */</span>
<span class="line-modified">481   /*    The field `params.source&#39; will be set to `outline&#39; before the scan */</span>
<span class="line-modified">482   /*    converter is called, which means that the value you give to it is  */</span>
<span class="line-modified">483   /*    actually ignored.                                                  */</span>
<span class="line-modified">484   /*                                                                       */</span>
<span class="line-modified">485   /*    The gray-level rasterizer always uses 256 gray levels.  If you     */</span>
<span class="line-modified">486   /*    want less gray levels, you have to provide your own span callback. */</span>
<span class="line-modified">487   /*    See the @FT_RASTER_FLAG_DIRECT value of the `flags&#39; field in the   */</span>
<span class="line-modified">488   /*    @FT_Raster_Params structure for more details.                      */</span>
<span class="line-modified">489   /*                                                                       */</span>


490   FT_EXPORT( FT_Error )
491   FT_Outline_Render( FT_Library         library,
492                      FT_Outline*        outline,
493                      FT_Raster_Params*  params );
494 
495 
<span class="line-modified">496  /**************************************************************************</span>
<span class="line-modified">497   *</span>
<span class="line-modified">498   * @enum:</span>
<span class="line-modified">499   *   FT_Orientation</span>
<span class="line-modified">500   *</span>
<span class="line-modified">501   * @description:</span>
<span class="line-modified">502   *   A list of values used to describe an outline&#39;s contour orientation.</span>
<span class="line-modified">503   *</span>
<span class="line-modified">504   *   The TrueType and PostScript specifications use different conventions</span>
<span class="line-modified">505   *   to determine whether outline contours should be filled or unfilled.</span>
<span class="line-modified">506   *</span>
<span class="line-modified">507   * @values:</span>
<span class="line-modified">508   *   FT_ORIENTATION_TRUETYPE ::</span>
<span class="line-modified">509   *     According to the TrueType specification, clockwise contours must</span>
<span class="line-modified">510   *     be filled, and counter-clockwise ones must be unfilled.</span>
<span class="line-modified">511   *</span>
<span class="line-modified">512   *   FT_ORIENTATION_POSTSCRIPT ::</span>
<span class="line-modified">513   *     According to the PostScript specification, counter-clockwise contours</span>
<span class="line-modified">514   *     must be filled, and clockwise ones must be unfilled.</span>
<span class="line-modified">515   *</span>
<span class="line-modified">516   *   FT_ORIENTATION_FILL_RIGHT ::</span>
<span class="line-modified">517   *     This is identical to @FT_ORIENTATION_TRUETYPE, but is used to</span>
<span class="line-modified">518   *     remember that in TrueType, everything that is to the right of</span>
<span class="line-modified">519   *     the drawing direction of a contour must be filled.</span>
<span class="line-modified">520   *</span>
<span class="line-modified">521   *   FT_ORIENTATION_FILL_LEFT ::</span>
<span class="line-modified">522   *     This is identical to @FT_ORIENTATION_POSTSCRIPT, but is used to</span>
<span class="line-modified">523   *     remember that in PostScript, everything that is to the left of</span>
<span class="line-modified">524   *     the drawing direction of a contour must be filled.</span>
<span class="line-modified">525   *</span>
<span class="line-modified">526   *   FT_ORIENTATION_NONE ::</span>
<span class="line-modified">527   *     The orientation cannot be determined.  That is, different parts of</span>
<span class="line-modified">528   *     the glyph have different orientation.</span>
<span class="line-modified">529   *</span>
<span class="line-modified">530   */</span>
531   typedef enum  FT_Orientation_
532   {
533     FT_ORIENTATION_TRUETYPE   = 0,
534     FT_ORIENTATION_POSTSCRIPT = 1,
535     FT_ORIENTATION_FILL_RIGHT = FT_ORIENTATION_TRUETYPE,
536     FT_ORIENTATION_FILL_LEFT  = FT_ORIENTATION_POSTSCRIPT,
537     FT_ORIENTATION_NONE
538 
539   } FT_Orientation;
540 
541 
<span class="line-modified">542  /**************************************************************************</span>
<span class="line-modified">543   *</span>
<span class="line-modified">544   * @function:</span>
<span class="line-modified">545   *   FT_Outline_Get_Orientation</span>
<span class="line-modified">546   *</span>
<span class="line-modified">547   * @description:</span>
<span class="line-modified">548   *   This function analyzes a glyph outline and tries to compute its</span>
<span class="line-modified">549   *   fill orientation (see @FT_Orientation).  This is done by integrating</span>
<span class="line-modified">550   *   the total area covered by the outline. The positive integral</span>
<span class="line-modified">551   *   corresponds to the clockwise orientation and @FT_ORIENTATION_POSTSCRIPT</span>
<span class="line-modified">552   *   is returned. The negative integral corresponds to the counter-clockwise</span>
<span class="line-modified">553   *   orientation and @FT_ORIENTATION_TRUETYPE is returned.</span>
<span class="line-modified">554   *</span>
<span class="line-modified">555   *   Note that this will return @FT_ORIENTATION_TRUETYPE for empty</span>
<span class="line-modified">556   *   outlines.</span>
<span class="line-modified">557   *</span>
<span class="line-modified">558   * @input:</span>
<span class="line-modified">559   *   outline ::</span>
<span class="line-modified">560   *     A handle to the source outline.</span>
<span class="line-modified">561   *</span>
<span class="line-modified">562   * @return:</span>
<span class="line-modified">563   *   The orientation.</span>
<span class="line-modified">564   *</span>
<span class="line-modified">565   */</span>
566   FT_EXPORT( FT_Orientation )
567   FT_Outline_Get_Orientation( FT_Outline*  outline );
568 

569   /* */
570 
571 
572 FT_END_HEADER
573 
574 #endif /* FTOUTLN_H_ */
575 
576 
577 /* END */
578 
579 
580 /* Local Variables: */
581 /* coding: utf-8    */
582 /* End:             */
</pre>
</td>
<td>
<hr />
<pre>
<span class="line-modified">  1 /****************************************************************************</span>
<span class="line-modified">  2  *</span>
<span class="line-modified">  3  * ftoutln.h</span>
<span class="line-modified">  4  *</span>
<span class="line-modified">  5  *   Support for the FT_Outline type used to store glyph shapes of</span>
<span class="line-modified">  6  *   most scalable font formats (specification).</span>
<span class="line-modified">  7  *</span>
<span class="line-modified">  8  * Copyright (C) 1996-2019 by</span>
<span class="line-modified">  9  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified"> 10  *</span>
<span class="line-modified"> 11  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified"> 12  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified"> 13  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified"> 14  * this file you indicate that you have read the license and</span>
<span class="line-modified"> 15  * understand and accept it fully.</span>
<span class="line-modified"> 16  *</span>
<span class="line-modified"> 17  */</span>
 18 
 19 
 20 #ifndef FTOUTLN_H_
 21 #define FTOUTLN_H_
 22 
 23 
 24 #include &lt;ft2build.h&gt;
 25 #include FT_FREETYPE_H
 26 
 27 #ifdef FREETYPE_H
 28 #error &quot;freetype.h of FreeType 1 has been loaded!&quot;
 29 #error &quot;Please fix the directory search order for header files&quot;
 30 #error &quot;so that freetype.h of FreeType 2 is found first.&quot;
 31 #endif
 32 
 33 
 34 FT_BEGIN_HEADER
 35 
 36 
<span class="line-modified"> 37   /**************************************************************************</span>
<span class="line-modified"> 38    *</span>
<span class="line-modified"> 39    * @section:</span>
<span class="line-modified"> 40    *   outline_processing</span>
<span class="line-modified"> 41    *</span>
<span class="line-modified"> 42    * @title:</span>
<span class="line-modified"> 43    *   Outline Processing</span>
<span class="line-modified"> 44    *</span>
<span class="line-modified"> 45    * @abstract:</span>
<span class="line-modified"> 46    *   Functions to create, transform, and render vectorial glyph images.</span>
<span class="line-modified"> 47    *</span>
<span class="line-modified"> 48    * @description:</span>
<span class="line-modified"> 49    *   This section contains routines used to create and destroy scalable</span>
<span class="line-modified"> 50    *   glyph images known as &#39;outlines&#39;.  These can also be measured,</span>
<span class="line-modified"> 51    *   transformed, and converted into bitmaps and pixmaps.</span>
<span class="line-modified"> 52    *</span>
<span class="line-modified"> 53    * @order:</span>
<span class="line-modified"> 54    *   FT_Outline</span>
<span class="line-modified"> 55    *   FT_Outline_New</span>
<span class="line-modified"> 56    *   FT_Outline_Done</span>
<span class="line-modified"> 57    *   FT_Outline_Copy</span>
<span class="line-modified"> 58    *   FT_Outline_Translate</span>
<span class="line-modified"> 59    *   FT_Outline_Transform</span>
<span class="line-modified"> 60    *   FT_Outline_Embolden</span>
<span class="line-modified"> 61    *   FT_Outline_EmboldenXY</span>
<span class="line-modified"> 62    *   FT_Outline_Reverse</span>
<span class="line-modified"> 63    *   FT_Outline_Check</span>
<span class="line-modified"> 64    *</span>
<span class="line-modified"> 65    *   FT_Outline_Get_CBox</span>
<span class="line-modified"> 66    *   FT_Outline_Get_BBox</span>
<span class="line-modified"> 67    *</span>
<span class="line-modified"> 68    *   FT_Outline_Get_Bitmap</span>
<span class="line-modified"> 69    *   FT_Outline_Render</span>
<span class="line-modified"> 70    *   FT_Outline_Decompose</span>
<span class="line-modified"> 71    *   FT_Outline_Funcs</span>
<span class="line-modified"> 72    *   FT_Outline_MoveToFunc</span>
<span class="line-modified"> 73    *   FT_Outline_LineToFunc</span>
<span class="line-modified"> 74    *   FT_Outline_ConicToFunc</span>
<span class="line-modified"> 75    *   FT_Outline_CubicToFunc</span>
<span class="line-modified"> 76    *</span>
<span class="line-modified"> 77    *   FT_Orientation</span>
<span class="line-modified"> 78    *   FT_Outline_Get_Orientation</span>
<span class="line-modified"> 79    *</span>
<span class="line-modified"> 80    *   FT_OUTLINE_XXX</span>
<span class="line-modified"> 81    *</span>
<span class="line-modified"> 82    */</span>
<span class="line-modified"> 83 </span>
<span class="line-modified"> 84 </span>
<span class="line-modified"> 85   /**************************************************************************</span>
<span class="line-modified"> 86    *</span>
<span class="line-modified"> 87    * @function:</span>
<span class="line-modified"> 88    *   FT_Outline_Decompose</span>
<span class="line-modified"> 89    *</span>
<span class="line-modified"> 90    * @description:</span>
<span class="line-modified"> 91    *   Walk over an outline&#39;s structure to decompose it into individual</span>
<span class="line-modified"> 92    *   segments and Bezier arcs.  This function also emits &#39;move to&#39;</span>
<span class="line-modified"> 93    *   operations to indicate the start of new contours in the outline.</span>
<span class="line-modified"> 94    *</span>
<span class="line-modified"> 95    * @input:</span>
<span class="line-modified"> 96    *   outline ::</span>
<span class="line-modified"> 97    *     A pointer to the source target.</span>
<span class="line-modified"> 98    *</span>
<span class="line-modified"> 99    *   func_interface ::</span>
<span class="line-modified">100    *     A table of &#39;emitters&#39;, i.e., function pointers called during</span>
<span class="line-modified">101    *     decomposition to indicate path operations.</span>
<span class="line-modified">102    *</span>
<span class="line-modified">103    * @inout:</span>
<span class="line-modified">104    *   user ::</span>
<span class="line-modified">105    *     A typeless pointer that is passed to each emitter during the</span>
<span class="line-modified">106    *     decomposition.  It can be used to store the state during the</span>
<span class="line-modified">107    *     decomposition.</span>
<span class="line-modified">108    *</span>
<span class="line-modified">109    * @return:</span>
<span class="line-modified">110    *   FreeType error code.  0~means success.</span>
<span class="line-modified">111    *</span>
<span class="line-modified">112    * @note:</span>
<span class="line-modified">113    *   A contour that contains a single point only is represented by a &#39;move</span>
<span class="line-modified">114    *   to&#39; operation followed by &#39;line to&#39; to the same point.  In most cases,</span>
<span class="line-modified">115    *   it is best to filter this out before using the outline for stroking</span>
<span class="line-modified">116    *   purposes (otherwise it would result in a visible dot when round caps</span>
<span class="line-modified">117    *   are used).</span>
<span class="line-modified">118    *</span>
<span class="line-modified">119    *   Similarly, the function returns success for an empty outline also</span>
<span class="line-modified">120    *   (doing nothing, this is, not calling any emitter); if necessary, you</span>
<span class="line-modified">121    *   should filter this out, too.</span>
<span class="line-added">122    */</span>
123   FT_EXPORT( FT_Error )
124   FT_Outline_Decompose( FT_Outline*              outline,
125                         const FT_Outline_Funcs*  func_interface,
126                         void*                    user );
127 
128 
<span class="line-modified">129   /**************************************************************************</span>
<span class="line-modified">130    *</span>
<span class="line-modified">131    * @function:</span>
<span class="line-modified">132    *   FT_Outline_New</span>
<span class="line-modified">133    *</span>
<span class="line-modified">134    * @description:</span>
<span class="line-modified">135    *   Create a new outline of a given size.</span>
<span class="line-modified">136    *</span>
<span class="line-modified">137    * @input:</span>
<span class="line-modified">138    *   library ::</span>
<span class="line-modified">139    *     A handle to the library object from where the outline is allocated.</span>
<span class="line-modified">140    *     Note however that the new outline will **not** necessarily be</span>
<span class="line-modified">141    *     **freed**, when destroying the library, by @FT_Done_FreeType.</span>
<span class="line-modified">142    *</span>
<span class="line-modified">143    *   numPoints ::</span>
<span class="line-modified">144    *     The maximum number of points within the outline.  Must be smaller</span>
<span class="line-modified">145    *     than or equal to 0xFFFF (65535).</span>
<span class="line-modified">146    *</span>
<span class="line-modified">147    *   numContours ::</span>
<span class="line-modified">148    *     The maximum number of contours within the outline.  This value must</span>
<span class="line-modified">149    *     be in the range 0 to `numPoints`.</span>
<span class="line-modified">150    *</span>
<span class="line-modified">151    * @output:</span>
<span class="line-modified">152    *   anoutline ::</span>
<span class="line-modified">153    *     A handle to the new outline.</span>
<span class="line-modified">154    *</span>
<span class="line-modified">155    * @return:</span>
<span class="line-modified">156    *   FreeType error code.  0~means success.</span>
<span class="line-modified">157    *</span>
<span class="line-modified">158    * @note:</span>
<span class="line-added">159    *   The reason why this function takes a `library` parameter is simply to</span>
<span class="line-added">160    *   use the library&#39;s memory allocator.</span>
<span class="line-added">161    */</span>
162   FT_EXPORT( FT_Error )
163   FT_Outline_New( FT_Library   library,
164                   FT_UInt      numPoints,
165                   FT_Int       numContours,
166                   FT_Outline  *anoutline );
167 
168 
<span class="line-modified">169   /**************************************************************************</span>
<span class="line-modified">170    *</span>
<span class="line-modified">171    * @function:</span>
<span class="line-modified">172    *   FT_Outline_Done</span>
<span class="line-modified">173    *</span>
<span class="line-modified">174    * @description:</span>
<span class="line-modified">175    *   Destroy an outline created with @FT_Outline_New.</span>
<span class="line-modified">176    *</span>
<span class="line-modified">177    * @input:</span>
<span class="line-modified">178    *   library ::</span>
<span class="line-modified">179    *     A handle of the library object used to allocate the outline.</span>
<span class="line-modified">180    *</span>
<span class="line-modified">181    *   outline ::</span>
<span class="line-modified">182    *     A pointer to the outline object to be discarded.</span>
<span class="line-modified">183    *</span>
<span class="line-modified">184    * @return:</span>
<span class="line-modified">185    *   FreeType error code.  0~means success.</span>
<span class="line-modified">186    *</span>
<span class="line-modified">187    * @note:</span>
<span class="line-modified">188    *   If the outline&#39;s &#39;owner&#39; field is not set, only the outline descriptor</span>
<span class="line-modified">189    *   will be released.</span>
<span class="line-modified">190    */</span>






191   FT_EXPORT( FT_Error )
192   FT_Outline_Done( FT_Library   library,
193                    FT_Outline*  outline );
194 
195 
<span class="line-modified">196   /**************************************************************************</span>
<span class="line-modified">197    *</span>
<span class="line-modified">198    * @function:</span>
<span class="line-modified">199    *   FT_Outline_Check</span>
<span class="line-modified">200    *</span>
<span class="line-modified">201    * @description:</span>
<span class="line-modified">202    *   Check the contents of an outline descriptor.</span>
<span class="line-modified">203    *</span>
<span class="line-modified">204    * @input:</span>
<span class="line-modified">205    *   outline ::</span>
<span class="line-modified">206    *     A handle to a source outline.</span>
<span class="line-modified">207    *</span>
<span class="line-modified">208    * @return:</span>
<span class="line-modified">209    *   FreeType error code.  0~means success.</span>
<span class="line-modified">210    *</span>
<span class="line-modified">211    * @note:</span>
<span class="line-modified">212    *   An empty outline, or an outline with a single point only is also</span>
<span class="line-modified">213    *   valid.</span>
<span class="line-modified">214    */</span>




215   FT_EXPORT( FT_Error )
216   FT_Outline_Check( FT_Outline*  outline );
217 
218 
<span class="line-modified">219   /**************************************************************************</span>
<span class="line-modified">220    *</span>
<span class="line-modified">221    * @function:</span>
<span class="line-modified">222    *   FT_Outline_Get_CBox</span>
<span class="line-modified">223    *</span>
<span class="line-modified">224    * @description:</span>
<span class="line-modified">225    *   Return an outline&#39;s &#39;control box&#39;.  The control box encloses all the</span>
<span class="line-modified">226    *   outline&#39;s points, including Bezier control points.  Though it</span>
<span class="line-modified">227    *   coincides with the exact bounding box for most glyphs, it can be</span>
<span class="line-modified">228    *   slightly larger in some situations (like when rotating an outline that</span>
<span class="line-modified">229    *   contains Bezier outside arcs).</span>
<span class="line-modified">230    *</span>
<span class="line-modified">231    *   Computing the control box is very fast, while getting the bounding box</span>
<span class="line-modified">232    *   can take much more time as it needs to walk over all segments and arcs</span>
<span class="line-modified">233    *   in the outline.  To get the latter, you can use the &#39;ftbbox&#39;</span>
<span class="line-modified">234    *   component, which is dedicated to this single task.</span>
<span class="line-modified">235    *</span>
<span class="line-modified">236    * @input:</span>
<span class="line-modified">237    *   outline ::</span>
<span class="line-modified">238    *     A pointer to the source outline descriptor.</span>
<span class="line-modified">239    *</span>
<span class="line-modified">240    * @output:</span>
<span class="line-modified">241    *   acbox ::</span>
<span class="line-modified">242    *     The outline&#39;s control box.</span>
<span class="line-modified">243    *</span>
<span class="line-modified">244    * @note:</span>
<span class="line-added">245    *   See @FT_Glyph_Get_CBox for a discussion of tricky fonts.</span>
<span class="line-added">246    */</span>
247   FT_EXPORT( void )
248   FT_Outline_Get_CBox( const FT_Outline*  outline,
249                        FT_BBox           *acbox );
250 
251 
<span class="line-modified">252   /**************************************************************************</span>
<span class="line-modified">253    *</span>
<span class="line-modified">254    * @function:</span>
<span class="line-modified">255    *   FT_Outline_Translate</span>
<span class="line-modified">256    *</span>
<span class="line-modified">257    * @description:</span>
<span class="line-modified">258    *   Apply a simple translation to the points of an outline.</span>
<span class="line-modified">259    *</span>
<span class="line-modified">260    * @inout:</span>
<span class="line-modified">261    *   outline ::</span>
<span class="line-modified">262    *     A pointer to the target outline descriptor.</span>
<span class="line-modified">263    *</span>
<span class="line-modified">264    * @input:</span>
<span class="line-modified">265    *   xOffset ::</span>
<span class="line-modified">266    *     The horizontal offset.</span>
<span class="line-modified">267    *</span>
<span class="line-added">268    *   yOffset ::</span>
<span class="line-added">269    *     The vertical offset.</span>
<span class="line-added">270    */</span>
271   FT_EXPORT( void )
272   FT_Outline_Translate( const FT_Outline*  outline,
273                         FT_Pos             xOffset,
274                         FT_Pos             yOffset );
275 
276 
<span class="line-modified">277   /**************************************************************************</span>
<span class="line-modified">278    *</span>
<span class="line-modified">279    * @function:</span>
<span class="line-modified">280    *   FT_Outline_Copy</span>
<span class="line-modified">281    *</span>
<span class="line-modified">282    * @description:</span>
<span class="line-modified">283    *   Copy an outline into another one.  Both objects must have the same</span>
<span class="line-modified">284    *   sizes (number of points &amp; number of contours) when this function is</span>
<span class="line-modified">285    *   called.</span>
<span class="line-modified">286    *</span>
<span class="line-modified">287    * @input:</span>
<span class="line-modified">288    *   source ::</span>
<span class="line-modified">289    *     A handle to the source outline.</span>
<span class="line-modified">290    *</span>
<span class="line-modified">291    * @output:</span>
<span class="line-modified">292    *   target ::</span>
<span class="line-modified">293    *     A handle to the target outline.</span>
<span class="line-modified">294    *</span>
<span class="line-modified">295    * @return:</span>
<span class="line-added">296    *   FreeType error code.  0~means success.</span>
<span class="line-added">297    */</span>
298   FT_EXPORT( FT_Error )
299   FT_Outline_Copy( const FT_Outline*  source,
300                    FT_Outline        *target );
301 
302 
<span class="line-modified">303   /**************************************************************************</span>
<span class="line-modified">304    *</span>
<span class="line-modified">305    * @function:</span>
<span class="line-modified">306    *   FT_Outline_Transform</span>
<span class="line-modified">307    *</span>
<span class="line-modified">308    * @description:</span>
<span class="line-modified">309    *   Apply a simple 2x2 matrix to all of an outline&#39;s points.  Useful for</span>
<span class="line-modified">310    *   applying rotations, slanting, flipping, etc.</span>
<span class="line-modified">311    *</span>
<span class="line-modified">312    * @inout:</span>
<span class="line-modified">313    *   outline ::</span>
<span class="line-modified">314    *     A pointer to the target outline descriptor.</span>
<span class="line-modified">315    *</span>
<span class="line-modified">316    * @input:</span>
<span class="line-modified">317    *   matrix ::</span>
<span class="line-modified">318    *     A pointer to the transformation matrix.</span>
<span class="line-modified">319    *</span>
<span class="line-modified">320    * @note:</span>
<span class="line-modified">321    *   You can use @FT_Outline_Translate if you need to translate the</span>
<span class="line-added">322    *   outline&#39;s points.</span>
<span class="line-added">323    */</span>
324   FT_EXPORT( void )
325   FT_Outline_Transform( const FT_Outline*  outline,
326                         const FT_Matrix*   matrix );
327 
328 
<span class="line-modified">329   /**************************************************************************</span>
<span class="line-modified">330    *</span>
<span class="line-modified">331    * @function:</span>
<span class="line-modified">332    *   FT_Outline_Embolden</span>
<span class="line-modified">333    *</span>
<span class="line-modified">334    * @description:</span>
<span class="line-modified">335    *   Embolden an outline.  The new outline will be at most 4~times</span>
<span class="line-modified">336    *   `strength` pixels wider and higher.  You may think of the left and</span>
<span class="line-modified">337    *   bottom borders as unchanged.</span>
<span class="line-modified">338    *</span>
<span class="line-modified">339    *   Negative `strength` values to reduce the outline thickness are</span>
<span class="line-modified">340    *   possible also.</span>
<span class="line-modified">341    *</span>
<span class="line-modified">342    * @inout:</span>
<span class="line-modified">343    *   outline ::</span>
<span class="line-modified">344    *     A handle to the target outline.</span>
<span class="line-modified">345    *</span>
<span class="line-modified">346    * @input:</span>
<span class="line-modified">347    *   strength ::</span>
<span class="line-modified">348    *     How strong the glyph is emboldened.  Expressed in 26.6 pixel format.</span>
<span class="line-modified">349    *</span>
<span class="line-modified">350    * @return:</span>
<span class="line-modified">351    *   FreeType error code.  0~means success.</span>
<span class="line-modified">352    *</span>
<span class="line-modified">353    * @note:</span>
<span class="line-modified">354    *   The used algorithm to increase or decrease the thickness of the glyph</span>
<span class="line-modified">355    *   doesn&#39;t change the number of points; this means that certain</span>
<span class="line-modified">356    *   situations like acute angles or intersections are sometimes handled</span>
<span class="line-modified">357    *   incorrectly.</span>
<span class="line-modified">358    *</span>
<span class="line-modified">359    *   If you need &#39;better&#39; metrics values you should call</span>
<span class="line-modified">360    *   @FT_Outline_Get_CBox or @FT_Outline_Get_BBox.</span>
<span class="line-modified">361    *</span>
<span class="line-modified">362    *   To get meaningful results, font scaling values must be set with</span>
<span class="line-modified">363    *   functions like @FT_Set_Char_Size before calling FT_Render_Glyph.</span>
<span class="line-modified">364    *</span>
<span class="line-modified">365    * @example:</span>
<span class="line-modified">366    *   ```</span>
<span class="line-modified">367    *     FT_Load_Glyph( face, index, FT_LOAD_DEFAULT );</span>
<span class="line-modified">368    *</span>
<span class="line-modified">369    *     if ( face-&gt;glyph-&gt;format == FT_GLYPH_FORMAT_OUTLINE )</span>
<span class="line-modified">370    *       FT_Outline_Embolden( &amp;face-&gt;glyph-&gt;outline, strength );</span>
<span class="line-modified">371    *   ```</span>
<span class="line-added">372    *</span>
<span class="line-added">373    */</span>
374   FT_EXPORT( FT_Error )
375   FT_Outline_Embolden( FT_Outline*  outline,
376                        FT_Pos       strength );
377 
378 
<span class="line-modified">379   /**************************************************************************</span>
<span class="line-modified">380    *</span>
<span class="line-modified">381    * @function:</span>
<span class="line-modified">382    *   FT_Outline_EmboldenXY</span>
<span class="line-modified">383    *</span>
<span class="line-modified">384    * @description:</span>
<span class="line-modified">385    *   Embolden an outline.  The new outline will be `xstrength` pixels wider</span>
<span class="line-modified">386    *   and `ystrength` pixels higher.  Otherwise, it is similar to</span>
<span class="line-modified">387    *   @FT_Outline_Embolden, which uses the same strength in both directions.</span>
<span class="line-modified">388    *</span>
<span class="line-modified">389    * @since:</span>
<span class="line-modified">390    *   2.4.10</span>
<span class="line-modified">391    */</span>

392   FT_EXPORT( FT_Error )
393   FT_Outline_EmboldenXY( FT_Outline*  outline,
394                          FT_Pos       xstrength,
395                          FT_Pos       ystrength );
396 
397 
<span class="line-modified">398   /**************************************************************************</span>
<span class="line-modified">399    *</span>
<span class="line-modified">400    * @function:</span>
<span class="line-modified">401    *   FT_Outline_Reverse</span>
<span class="line-modified">402    *</span>
<span class="line-modified">403    * @description:</span>
<span class="line-modified">404    *   Reverse the drawing direction of an outline.  This is used to ensure</span>
<span class="line-modified">405    *   consistent fill conventions for mirrored glyphs.</span>
<span class="line-modified">406    *</span>
<span class="line-modified">407    * @inout:</span>
<span class="line-modified">408    *   outline ::</span>
<span class="line-modified">409    *     A pointer to the target outline descriptor.</span>
<span class="line-modified">410    *</span>
<span class="line-modified">411    * @note:</span>
<span class="line-modified">412    *   This function toggles the bit flag @FT_OUTLINE_REVERSE_FILL in the</span>
<span class="line-modified">413    *   outline&#39;s `flags` field.</span>
<span class="line-modified">414    *</span>
<span class="line-modified">415    *   It shouldn&#39;t be used by a normal client application, unless it knows</span>
<span class="line-modified">416    *   what it is doing.</span>
<span class="line-added">417    */</span>
418   FT_EXPORT( void )
419   FT_Outline_Reverse( FT_Outline*  outline );
420 
421 
<span class="line-modified">422   /**************************************************************************</span>
<span class="line-modified">423    *</span>
<span class="line-modified">424    * @function:</span>
<span class="line-modified">425    *   FT_Outline_Get_Bitmap</span>
<span class="line-modified">426    *</span>
<span class="line-modified">427    * @description:</span>
<span class="line-modified">428    *   Render an outline within a bitmap.  The outline&#39;s image is simply</span>
<span class="line-modified">429    *   OR-ed to the target bitmap.</span>
<span class="line-modified">430    *</span>
<span class="line-modified">431    * @input:</span>
<span class="line-modified">432    *   library ::</span>
<span class="line-modified">433    *     A handle to a FreeType library object.</span>
<span class="line-modified">434    *</span>
<span class="line-modified">435    *   outline ::</span>
<span class="line-modified">436    *     A pointer to the source outline descriptor.</span>
<span class="line-modified">437    *</span>
<span class="line-modified">438    * @inout:</span>
<span class="line-modified">439    *   abitmap ::</span>
<span class="line-modified">440    *     A pointer to the target bitmap descriptor.</span>
<span class="line-modified">441    *</span>
<span class="line-modified">442    * @return:</span>
<span class="line-modified">443    *   FreeType error code.  0~means success.</span>
<span class="line-modified">444    *</span>
<span class="line-modified">445    * @note:</span>
<span class="line-modified">446    *   This function does **not create** the bitmap, it only renders an</span>
<span class="line-modified">447    *   outline image within the one you pass to it!  Consequently, the</span>
<span class="line-modified">448    *   various fields in `abitmap` should be set accordingly.</span>
<span class="line-modified">449    *</span>
<span class="line-modified">450    *   It will use the raster corresponding to the default glyph format.</span>
<span class="line-modified">451    *</span>
<span class="line-modified">452    *   The value of the `num_grays` field in `abitmap` is ignored.  If you</span>
<span class="line-added">453    *   select the gray-level rasterizer, and you want less than 256 gray</span>
<span class="line-added">454    *   levels, you have to use @FT_Outline_Render directly.</span>
<span class="line-added">455    */</span>
456   FT_EXPORT( FT_Error )
457   FT_Outline_Get_Bitmap( FT_Library        library,
458                          FT_Outline*       outline,
459                          const FT_Bitmap  *abitmap );
460 
461 
<span class="line-modified">462   /**************************************************************************</span>
<span class="line-modified">463    *</span>
<span class="line-modified">464    * @function:</span>
<span class="line-modified">465    *   FT_Outline_Render</span>
<span class="line-modified">466    *</span>
<span class="line-modified">467    * @description:</span>
<span class="line-modified">468    *   Render an outline within a bitmap using the current scan-convert.</span>
<span class="line-modified">469    *</span>
<span class="line-modified">470    * @input:</span>
<span class="line-modified">471    *   library ::</span>
<span class="line-modified">472    *     A handle to a FreeType library object.</span>
<span class="line-modified">473    *</span>
<span class="line-modified">474    *   outline ::</span>
<span class="line-modified">475    *     A pointer to the source outline descriptor.</span>
<span class="line-modified">476    *</span>
<span class="line-modified">477    * @inout:</span>
<span class="line-modified">478    *   params ::</span>
<span class="line-modified">479    *     A pointer to an @FT_Raster_Params structure used to describe the</span>
<span class="line-modified">480    *     rendering operation.</span>
<span class="line-modified">481    *</span>
<span class="line-modified">482    * @return:</span>
<span class="line-modified">483    *   FreeType error code.  0~means success.</span>
<span class="line-modified">484    *</span>
<span class="line-modified">485    * @note:</span>
<span class="line-modified">486    *   This advanced function uses @FT_Raster_Params as an argument,</span>
<span class="line-modified">487    *   allowing FreeType rasterizer to be used for direct composition,</span>
<span class="line-modified">488    *   translucency, etc.  You should know how to set up @FT_Raster_Params</span>
<span class="line-modified">489    *   for this function to work.</span>
<span class="line-modified">490    *</span>
<span class="line-modified">491    *   The field `params.source` will be set to `outline` before the scan</span>
<span class="line-modified">492    *   converter is called, which means that the value you give to it is</span>
<span class="line-modified">493    *   actually ignored.</span>
<span class="line-modified">494    *</span>
<span class="line-modified">495    *   The gray-level rasterizer always uses 256 gray levels.  If you want</span>
<span class="line-modified">496    *   less gray levels, you have to provide your own span callback.  See the</span>
<span class="line-modified">497    *   @FT_RASTER_FLAG_DIRECT value of the `flags` field in the</span>
<span class="line-added">498    *   @FT_Raster_Params structure for more details.</span>
<span class="line-added">499    */</span>
500   FT_EXPORT( FT_Error )
501   FT_Outline_Render( FT_Library         library,
502                      FT_Outline*        outline,
503                      FT_Raster_Params*  params );
504 
505 
<span class="line-modified">506   /**************************************************************************</span>
<span class="line-modified">507    *</span>
<span class="line-modified">508    * @enum:</span>
<span class="line-modified">509    *   FT_Orientation</span>
<span class="line-modified">510    *</span>
<span class="line-modified">511    * @description:</span>
<span class="line-modified">512    *   A list of values used to describe an outline&#39;s contour orientation.</span>
<span class="line-modified">513    *</span>
<span class="line-modified">514    *   The TrueType and PostScript specifications use different conventions</span>
<span class="line-modified">515    *   to determine whether outline contours should be filled or unfilled.</span>
<span class="line-modified">516    *</span>
<span class="line-modified">517    * @values:</span>
<span class="line-modified">518    *   FT_ORIENTATION_TRUETYPE ::</span>
<span class="line-modified">519    *     According to the TrueType specification, clockwise contours must be</span>
<span class="line-modified">520    *     filled, and counter-clockwise ones must be unfilled.</span>
<span class="line-modified">521    *</span>
<span class="line-modified">522    *   FT_ORIENTATION_POSTSCRIPT ::</span>
<span class="line-modified">523    *     According to the PostScript specification, counter-clockwise</span>
<span class="line-modified">524    *     contours must be filled, and clockwise ones must be unfilled.</span>
<span class="line-modified">525    *</span>
<span class="line-modified">526    *   FT_ORIENTATION_FILL_RIGHT ::</span>
<span class="line-modified">527    *     This is identical to @FT_ORIENTATION_TRUETYPE, but is used to</span>
<span class="line-modified">528    *     remember that in TrueType, everything that is to the right of the</span>
<span class="line-modified">529    *     drawing direction of a contour must be filled.</span>
<span class="line-modified">530    *</span>
<span class="line-modified">531    *   FT_ORIENTATION_FILL_LEFT ::</span>
<span class="line-modified">532    *     This is identical to @FT_ORIENTATION_POSTSCRIPT, but is used to</span>
<span class="line-modified">533    *     remember that in PostScript, everything that is to the left of the</span>
<span class="line-modified">534    *     drawing direction of a contour must be filled.</span>
<span class="line-modified">535    *</span>
<span class="line-modified">536    *   FT_ORIENTATION_NONE ::</span>
<span class="line-modified">537    *     The orientation cannot be determined.  That is, different parts of</span>
<span class="line-modified">538    *     the glyph have different orientation.</span>
<span class="line-modified">539    *</span>
<span class="line-modified">540    */</span>
541   typedef enum  FT_Orientation_
542   {
543     FT_ORIENTATION_TRUETYPE   = 0,
544     FT_ORIENTATION_POSTSCRIPT = 1,
545     FT_ORIENTATION_FILL_RIGHT = FT_ORIENTATION_TRUETYPE,
546     FT_ORIENTATION_FILL_LEFT  = FT_ORIENTATION_POSTSCRIPT,
547     FT_ORIENTATION_NONE
548 
549   } FT_Orientation;
550 
551 
<span class="line-modified">552   /**************************************************************************</span>
<span class="line-modified">553    *</span>
<span class="line-modified">554    * @function:</span>
<span class="line-modified">555    *   FT_Outline_Get_Orientation</span>
<span class="line-modified">556    *</span>
<span class="line-modified">557    * @description:</span>
<span class="line-modified">558    *   This function analyzes a glyph outline and tries to compute its fill</span>
<span class="line-modified">559    *   orientation (see @FT_Orientation).  This is done by integrating the</span>
<span class="line-modified">560    *   total area covered by the outline. The positive integral corresponds</span>
<span class="line-modified">561    *   to the clockwise orientation and @FT_ORIENTATION_POSTSCRIPT is</span>
<span class="line-modified">562    *   returned. The negative integral corresponds to the counter-clockwise</span>
<span class="line-modified">563    *   orientation and @FT_ORIENTATION_TRUETYPE is returned.</span>
<span class="line-modified">564    *</span>
<span class="line-modified">565    *   Note that this will return @FT_ORIENTATION_TRUETYPE for empty</span>
<span class="line-modified">566    *   outlines.</span>
<span class="line-modified">567    *</span>
<span class="line-modified">568    * @input:</span>
<span class="line-modified">569    *   outline ::</span>
<span class="line-modified">570    *     A handle to the source outline.</span>
<span class="line-modified">571    *</span>
<span class="line-modified">572    * @return:</span>
<span class="line-modified">573    *   The orientation.</span>
<span class="line-modified">574    *</span>
<span class="line-modified">575    */</span>
576   FT_EXPORT( FT_Orientation )
577   FT_Outline_Get_Orientation( FT_Outline*  outline );
578 
<span class="line-added">579 </span>
580   /* */
581 
582 
583 FT_END_HEADER
584 
585 #endif /* FTOUTLN_H_ */
586 
587 
588 /* END */
589 
590 
591 /* Local Variables: */
592 /* coding: utf-8    */
593 /* End:             */
</pre>
</td>
</tr>
</table>
<center><a href="ftmoderr.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ftparams.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>