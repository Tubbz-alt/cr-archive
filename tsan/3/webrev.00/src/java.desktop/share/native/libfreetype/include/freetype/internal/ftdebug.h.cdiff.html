<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.desktop/share/native/libfreetype/include/freetype/internal/ftdebug.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ftcalc.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ftdrv.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfreetype/include/freetype/internal/ftdebug.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,26 ***</span>
<span class="line-modified">! /***************************************************************************/</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  ftdebug.h                                                              */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*    Debugging and logging component (specification).                     */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  Copyright 1996-2018 by                                                 */</span>
<span class="line-modified">! /*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  This file is part of the FreeType project, and may only be used,       */</span>
<span class="line-modified">! /*  modified, and distributed under the terms of the FreeType project      */</span>
<span class="line-modified">! /*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */</span>
<span class="line-modified">! /*  this file you indicate that you have read the license and              */</span>
<span class="line-modified">! /*  understand and accept it fully.                                        */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /*  IMPORTANT: A description of FreeType&#39;s debugging support can be        */</span>
<span class="line-modified">! /*             found in `docs/DEBUG.TXT&#39;.  Read it if you need to use or   */</span>
<span class="line-modified">! /*             understand this code.                                       */</span>
<span class="line-modified">! /*                                                                         */</span>
<span class="line-modified">! /***************************************************************************/</span>
  
  
  #ifndef FTDEBUG_H_
  #define FTDEBUG_H_
  
<span class="line-new-header">--- 1,26 ---</span>
<span class="line-modified">! /****************************************************************************</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * ftdebug.h</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  *   Debugging and logging component (specification).</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * Copyright (C) 1996-2019 by</span>
<span class="line-modified">!  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified">!  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified">!  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified">!  * this file you indicate that you have read the license and</span>
<span class="line-modified">!  * understand and accept it fully.</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  * IMPORTANT: A description of FreeType&#39;s debugging support can be</span>
<span class="line-modified">!  *             found in &#39;docs/DEBUG.TXT&#39;.  Read it if you need to use or</span>
<span class="line-modified">!  *             understand this code.</span>
<span class="line-modified">!  *</span>
<span class="line-modified">!  */</span>
  
  
  #ifndef FTDEBUG_H_
  #define FTDEBUG_H_
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 40,16 ***</span>
  #undef  FT_DEBUG_LEVEL_ERROR
  #define FT_DEBUG_LEVEL_ERROR
  #endif
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Define the trace enums as well as the trace levels array when they    */</span>
<span class="line-modified">!   /* are needed.                                                           */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*************************************************************************/</span>
  
  #ifdef FT_DEBUG_LEVEL_TRACE
  
  #define FT_TRACE_DEF( x )  trace_ ## x ,
  
<span class="line-new-header">--- 40,16 ---</span>
  #undef  FT_DEBUG_LEVEL_ERROR
  #define FT_DEBUG_LEVEL_ERROR
  #endif
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Define the trace enums as well as the trace levels array when they are</span>
<span class="line-modified">!    * needed.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    */</span>
  
  #ifdef FT_DEBUG_LEVEL_TRACE
  
  #define FT_TRACE_DEF( x )  trace_ ## x ,
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 60,101 ***</span>
      trace_count
  
    } FT_Trace;
  
  
<span class="line-modified">!   /* defining the array of trace levels, provided by `src/base/ftdebug.c&#39; */</span>
<span class="line-modified">!   extern int  ft_trace_levels[trace_count];</span>
  
  #undef FT_TRACE_DEF
  
  #endif /* FT_DEBUG_LEVEL_TRACE */
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Define the FT_TRACE macro                                             */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* IMPORTANT!                                                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Each component must define the macro FT_COMPONENT to a valid FT_Trace */</span>
<span class="line-modified">!   /* value before using any TRACE macro.                                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*************************************************************************/</span>
  
  #ifdef FT_DEBUG_LEVEL_TRACE
  
<span class="line-modified">! #define FT_TRACE( level, varformat )                      \</span>
<span class="line-modified">!           do                                              \</span>
<span class="line-modified">!           {                                               \</span>
<span class="line-modified">!             if ( ft_trace_levels[FT_COMPONENT] &gt;= level ) \</span>
<span class="line-modified">!               FT_Message varformat;                       \</span>
            } while ( 0 )
  
  #else /* !FT_DEBUG_LEVEL_TRACE */
  
  #define FT_TRACE( level, varformat )  do { } while ( 0 )      /* nothing */
  
  #endif /* !FT_DEBUG_LEVEL_TRACE */
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Trace_Get_Count                                                 */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Return the number of available trace components.                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    The number of trace components.  0 if FreeType 2 is not built with */</span>
<span class="line-modified">!   /*    FT_DEBUG_LEVEL_TRACE definition.                                   */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    This function may be useful if you want to access elements of      */</span>
<span class="line-modified">!   /*    the internal `ft_trace_levels&#39; array by an index.                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
    FT_BASE( FT_Int )
    FT_Trace_Get_Count( void );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">!   /*    FT_Trace_Get_Name                                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">!   /*    Return the name of a trace component.                              */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">!   /*    The index of the trace component.                                  */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">!   /*    The name of the trace component.  This is a statically allocated   */</span>
<span class="line-modified">!   /*    C string, so do not free it after use.  NULL if FreeType 2 is not  */</span>
<span class="line-modified">!   /*    built with FT_DEBUG_LEVEL_TRACE definition.                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">!   /*    Use @FT_Trace_Get_Count to get the number of available trace       */</span>
<span class="line-modified">!   /*    components.                                                        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-removed">-   /*    This function may be useful if you want to control FreeType 2&#39;s    */</span>
<span class="line-removed">-   /*    debug level in your application.                                   */</span>
<span class="line-removed">-   /*                                                                       */</span>
    FT_BASE( const char* )
    FT_Trace_Get_Name( FT_Int  idx );
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* You need two opening and closing parentheses!                         */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Example: FT_TRACE0(( &quot;Value is %i&quot;, foo ))                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Output of the FT_TRACEX macros is sent to stderr.                     */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*************************************************************************/</span>
  
  #define FT_TRACE0( varformat )  FT_TRACE( 0, varformat )
  #define FT_TRACE1( varformat )  FT_TRACE( 1, varformat )
  #define FT_TRACE2( varformat )  FT_TRACE( 2, varformat )
  #define FT_TRACE3( varformat )  FT_TRACE( 3, varformat )
<span class="line-new-header">--- 60,129 ---</span>
      trace_count
  
    } FT_Trace;
  
  
<span class="line-modified">!   /* a pointer to the array of trace levels, */</span>
<span class="line-modified">!   /* provided by `src/base/ftdebug.c&#39;        */</span>
<span class="line-added">+   extern int*  ft_trace_levels;</span>
  
  #undef FT_TRACE_DEF
  
  #endif /* FT_DEBUG_LEVEL_TRACE */
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Define the FT_TRACE macro</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * IMPORTANT!</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Each component must define the macro FT_COMPONENT to a valid FT_Trace</span>
<span class="line-modified">!    * value before using any TRACE macro.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    */</span>
  
  #ifdef FT_DEBUG_LEVEL_TRACE
  
<span class="line-modified">!   /* we need two macros here to make cpp expand `FT_COMPONENT&#39; */</span>
<span class="line-modified">! #define FT_TRACE_COMP( x )   FT_TRACE_COMP_( x )</span>
<span class="line-modified">! #define FT_TRACE_COMP_( x )  trace_ ## x</span>
<span class="line-modified">! </span>
<span class="line-modified">! #define FT_TRACE( level, varformat )                                       \</span>
<span class="line-added">+           do                                                               \</span>
<span class="line-added">+           {                                                                \</span>
<span class="line-added">+             if ( ft_trace_levels[FT_TRACE_COMP( FT_COMPONENT )] &gt;= level ) \</span>
<span class="line-added">+               FT_Message varformat;                                        \</span>
            } while ( 0 )
  
  #else /* !FT_DEBUG_LEVEL_TRACE */
  
  #define FT_TRACE( level, varformat )  do { } while ( 0 )      /* nothing */
  
  #endif /* !FT_DEBUG_LEVEL_TRACE */
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Trace_Get_Count</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Return the number of available trace components.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *   The number of trace components.  0 if FreeType 2 is not built with</span>
<span class="line-modified">!    *   FT_DEBUG_LEVEL_TRACE definition.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-modified">!    *   This function may be useful if you want to access elements of the</span>
<span class="line-modified">!    *   internal trace levels array by an index.</span>
<span class="line-modified">!    */</span>
    FT_BASE( FT_Int )
    FT_Trace_Get_Count( void );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Trace_Get_Name</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Return the name of a trace component.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @input:</span>
<span class="line-modified">!    *   The index of the trace component.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @return:</span>
<span class="line-modified">!    *   The name of the trace component.  This is a statically allocated</span>
<span class="line-modified">!    *   C~string, so do not free it after use.  `NULL` if FreeType is not</span>
<span class="line-modified">!    *   built with FT_DEBUG_LEVEL_TRACE definition.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @note:</span>
<span class="line-modified">!    *   Use @FT_Trace_Get_Count to get the number of available trace</span>
<span class="line-modified">!    *   components.</span>
<span class="line-modified">!    */</span>
    FT_BASE( const char* )
    FT_Trace_Get_Name( FT_Int  idx );
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @function:</span>
<span class="line-modified">!    *   FT_Trace_Disable</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * @description:</span>
<span class="line-modified">!    *   Switch off tracing temporarily.  It can be activated again with</span>
<span class="line-modified">!    *   @FT_Trace_Enable.</span>
<span class="line-modified">!    */</span>
<span class="line-added">+   FT_BASE( void )</span>
<span class="line-added">+   FT_Trace_Disable( void );</span>
<span class="line-added">+ </span>
<span class="line-added">+ </span>
<span class="line-added">+   /**************************************************************************</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @function:</span>
<span class="line-added">+    *   FT_Trace_Enable</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * @description:</span>
<span class="line-added">+    *   Activate tracing.  Use it after tracing has been switched off with</span>
<span class="line-added">+    *   @FT_Trace_Disable.</span>
<span class="line-added">+    */</span>
<span class="line-added">+   FT_BASE( void )</span>
<span class="line-added">+   FT_Trace_Enable( void );</span>
<span class="line-added">+ </span>
<span class="line-added">+ </span>
<span class="line-added">+   /**************************************************************************</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * You need two opening and closing parentheses!</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * Example: FT_TRACE0(( &quot;Value is %i&quot;, foo ))</span>
<span class="line-added">+    *</span>
<span class="line-added">+    * Output of the FT_TRACEX macros is sent to stderr.</span>
<span class="line-added">+    *</span>
<span class="line-added">+    */</span>
  
  #define FT_TRACE0( varformat )  FT_TRACE( 0, varformat )
  #define FT_TRACE1( varformat )  FT_TRACE( 1, varformat )
  #define FT_TRACE2( varformat )  FT_TRACE( 2, varformat )
  #define FT_TRACE3( varformat )  FT_TRACE( 3, varformat )
</pre>
<hr />
<pre>
<span class="line-old-header">*** 162,17 ***</span>
  #define FT_TRACE5( varformat )  FT_TRACE( 5, varformat )
  #define FT_TRACE6( varformat )  FT_TRACE( 6, varformat )
  #define FT_TRACE7( varformat )  FT_TRACE( 7, varformat )
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Define the FT_ERROR macro.                                            */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Output of this macro is sent to stderr.                               */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*************************************************************************/</span>
  
  #ifdef FT_DEBUG_LEVEL_ERROR
  
  #define FT_ERROR( varformat )  FT_Message  varformat
  
<span class="line-new-header">--- 190,17 ---</span>
  #define FT_TRACE5( varformat )  FT_TRACE( 5, varformat )
  #define FT_TRACE6( varformat )  FT_TRACE( 6, varformat )
  #define FT_TRACE7( varformat )  FT_TRACE( 7, varformat )
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Define the FT_ERROR macro.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Output of this macro is sent to stderr.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    */</span>
  
  #ifdef FT_DEBUG_LEVEL_ERROR
  
  #define FT_ERROR( varformat )  FT_Message  varformat
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 181,16 ***</span>
  #define FT_ERROR( varformat )  do { } while ( 0 )      /* nothing */
  
  #endif /* !FT_DEBUG_LEVEL_ERROR */
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Define the FT_ASSERT and FT_THROW macros.  The call to `FT_Throw&#39;     */</span>
<span class="line-modified">!   /* makes it possible to easily set a breakpoint at this function.        */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*************************************************************************/</span>
  
  #ifdef FT_DEBUG_LEVEL_ERROR
  
  #define FT_ASSERT( condition )                                      \
            do                                                        \
<span class="line-new-header">--- 209,16 ---</span>
  #define FT_ERROR( varformat )  do { } while ( 0 )      /* nothing */
  
  #endif /* !FT_DEBUG_LEVEL_ERROR */
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Define the FT_ASSERT and FT_THROW macros.  The call to `FT_Throw` makes</span>
<span class="line-modified">!    * it possible to easily set a breakpoint at this function.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    */</span>
  
  #ifdef FT_DEBUG_LEVEL_ERROR
  
  #define FT_ASSERT( condition )                                      \
            do                                                        \
</pre>
<hr />
<pre>
<span class="line-old-header">*** 213,15 ***</span>
  #define FT_THROW( e )  FT_ERR_CAT( FT_ERR_PREFIX, e )
  
  #endif /* !FT_DEBUG_LEVEL_ERROR */
  
  
<span class="line-modified">!   /*************************************************************************/</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /* Define `FT_Message&#39; and `FT_Panic&#39; when needed.                       */</span>
<span class="line-modified">!   /*                                                                       */</span>
<span class="line-modified">!   /*************************************************************************/</span>
  
  #ifdef FT_DEBUG_LEVEL_ERROR
  
  #include &quot;stdio.h&quot;  /* for vfprintf() */
  
<span class="line-new-header">--- 241,15 ---</span>
  #define FT_THROW( e )  FT_ERR_CAT( FT_ERR_PREFIX, e )
  
  #endif /* !FT_DEBUG_LEVEL_ERROR */
  
  
<span class="line-modified">!   /**************************************************************************</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    * Define `FT_Message` and `FT_Panic` when needed.</span>
<span class="line-modified">!    *</span>
<span class="line-modified">!    */</span>
  
  #ifdef FT_DEBUG_LEVEL_ERROR
  
  #include &quot;stdio.h&quot;  /* for vfprintf() */
  
</pre>
<center><a href="ftcalc.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ftdrv.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>