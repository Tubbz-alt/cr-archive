<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/java.desktop/share/native/libfreetype/include/freetype/ftmodapi.h</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre><a name="1" id="anc1"></a><span class="line-modified">  1 /****************************************************************************</span>
<span class="line-modified">  2  *</span>
<span class="line-modified">  3  * ftmodapi.h</span>
<span class="line-modified">  4  *</span>
<span class="line-modified">  5  *   FreeType modules public interface (specification).</span>
<span class="line-modified">  6  *</span>
<span class="line-modified">  7  * Copyright (C) 1996-2019 by</span>
<span class="line-modified">  8  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified">  9  *</span>
<span class="line-modified"> 10  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified"> 11  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified"> 12  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified"> 13  * this file you indicate that you have read the license and</span>
<span class="line-modified"> 14  * understand and accept it fully.</span>
<span class="line-modified"> 15  *</span>
<span class="line-modified"> 16  */</span>
 17 
 18 
 19 #ifndef FTMODAPI_H_
 20 #define FTMODAPI_H_
 21 
 22 
 23 #include &lt;ft2build.h&gt;
 24 #include FT_FREETYPE_H
 25 
 26 #ifdef FREETYPE_H
 27 #error &quot;freetype.h of FreeType 1 has been loaded!&quot;
 28 #error &quot;Please fix the directory search order for header files&quot;
 29 #error &quot;so that freetype.h of FreeType 2 is found first.&quot;
 30 #endif
 31 
 32 
 33 FT_BEGIN_HEADER
 34 
 35 
<a name="2" id="anc2"></a><span class="line-modified"> 36   /**************************************************************************</span>
<span class="line-modified"> 37    *</span>
<span class="line-modified"> 38    * @section:</span>
<span class="line-modified"> 39    *   module_management</span>
<span class="line-modified"> 40    *</span>
<span class="line-modified"> 41    * @title:</span>
<span class="line-modified"> 42    *   Module Management</span>
<span class="line-modified"> 43    *</span>
<span class="line-modified"> 44    * @abstract:</span>
<span class="line-modified"> 45    *   How to add, upgrade, remove, and control modules from FreeType.</span>
<span class="line-modified"> 46    *</span>
<span class="line-modified"> 47    * @description:</span>
<span class="line-modified"> 48    *   The definitions below are used to manage modules within FreeType.</span>
<span class="line-modified"> 49    *   Modules can be added, upgraded, and removed at runtime.  Additionally,</span>
<span class="line-modified"> 50    *   some module properties can be controlled also.</span>
<span class="line-modified"> 51    *</span>
<span class="line-modified"> 52    *   Here is a list of possible values of the `module_name` field in the</span>
<span class="line-modified"> 53    *   @FT_Module_Class structure.</span>
<span class="line-modified"> 54    *</span>
<span class="line-modified"> 55    *   ```</span>
<span class="line-modified"> 56    *     autofitter</span>
<span class="line-modified"> 57    *     bdf</span>
<span class="line-modified"> 58    *     cff</span>
<span class="line-modified"> 59    *     gxvalid</span>
<span class="line-modified"> 60    *     otvalid</span>
<span class="line-modified"> 61    *     pcf</span>
<span class="line-modified"> 62    *     pfr</span>
<span class="line-modified"> 63    *     psaux</span>
<span class="line-modified"> 64    *     pshinter</span>
<span class="line-modified"> 65    *     psnames</span>
<span class="line-modified"> 66    *     raster1</span>
<span class="line-modified"> 67    *     sfnt</span>
<span class="line-modified"> 68    *     smooth, smooth-lcd, smooth-lcdv</span>
<span class="line-modified"> 69    *     truetype</span>
<span class="line-modified"> 70    *     type1</span>
<span class="line-modified"> 71    *     type42</span>
<span class="line-modified"> 72    *     t1cid</span>
<span class="line-modified"> 73    *     winfonts</span>
<span class="line-modified"> 74    *   ```</span>
<span class="line-modified"> 75    *</span>
<span class="line-modified"> 76    *   Note that the FreeType Cache sub-system is not a FreeType module.</span>
<span class="line-modified"> 77    *</span>
<span class="line-modified"> 78    * @order:</span>
<span class="line-modified"> 79    *   FT_Module</span>
<span class="line-modified"> 80    *   FT_Module_Constructor</span>
<span class="line-modified"> 81    *   FT_Module_Destructor</span>
<span class="line-modified"> 82    *   FT_Module_Requester</span>
<span class="line-modified"> 83    *   FT_Module_Class</span>
<span class="line-modified"> 84    *</span>
<span class="line-modified"> 85    *   FT_Add_Module</span>
<span class="line-modified"> 86    *   FT_Get_Module</span>
<span class="line-modified"> 87    *   FT_Remove_Module</span>
<span class="line-modified"> 88    *   FT_Add_Default_Modules</span>
<span class="line-modified"> 89    *</span>
<span class="line-modified"> 90    *   FT_Property_Set</span>
<span class="line-modified"> 91    *   FT_Property_Get</span>
<span class="line-modified"> 92    *   FT_Set_Default_Properties</span>
<span class="line-modified"> 93    *</span>
<span class="line-modified"> 94    *   FT_New_Library</span>
<span class="line-modified"> 95    *   FT_Done_Library</span>
<span class="line-modified"> 96    *   FT_Reference_Library</span>
<span class="line-modified"> 97    *</span>
<span class="line-modified"> 98    *   FT_Renderer</span>
<span class="line-modified"> 99    *   FT_Renderer_Class</span>
<span class="line-modified">100    *</span>
<span class="line-modified">101    *   FT_Get_Renderer</span>
<span class="line-modified">102    *   FT_Set_Renderer</span>
<span class="line-modified">103    *</span>
<span class="line-modified">104    *   FT_Set_Debug_Hook</span>
<span class="line-modified">105    *</span>
<span class="line-modified">106    */</span>
107 
108 
109   /* module bit flags */
110 #define FT_MODULE_FONT_DRIVER         1  /* this module is a font driver  */
111 #define FT_MODULE_RENDERER            2  /* this module is a renderer     */
112 #define FT_MODULE_HINTER              4  /* this module is a glyph hinter */
113 #define FT_MODULE_STYLER              8  /* this module is a styler       */
114 
115 #define FT_MODULE_DRIVER_SCALABLE      0x100  /* the driver supports      */
116                                               /* scalable fonts           */
117 #define FT_MODULE_DRIVER_NO_OUTLINES   0x200  /* the driver does not      */
118                                               /* support vector outlines  */
119 #define FT_MODULE_DRIVER_HAS_HINTER    0x400  /* the driver provides its  */
120                                               /* own hinter               */
121 #define FT_MODULE_DRIVER_HINTS_LIGHTLY 0x800  /* the driver&#39;s hinter      */
122                                               /* produces LIGHT hints     */
123 
124 
125   /* deprecated values */
126 #define ft_module_font_driver         FT_MODULE_FONT_DRIVER
127 #define ft_module_renderer            FT_MODULE_RENDERER
128 #define ft_module_hinter              FT_MODULE_HINTER
129 #define ft_module_styler              FT_MODULE_STYLER
130 
131 #define ft_module_driver_scalable       FT_MODULE_DRIVER_SCALABLE
132 #define ft_module_driver_no_outlines    FT_MODULE_DRIVER_NO_OUTLINES
133 #define ft_module_driver_has_hinter     FT_MODULE_DRIVER_HAS_HINTER
134 #define ft_module_driver_hints_lightly  FT_MODULE_DRIVER_HINTS_LIGHTLY
135 
136 
137   typedef FT_Pointer  FT_Module_Interface;
138 
139 
<a name="3" id="anc3"></a><span class="line-modified">140   /**************************************************************************</span>
<span class="line-modified">141    *</span>
<span class="line-modified">142    * @functype:</span>
<span class="line-modified">143    *   FT_Module_Constructor</span>
<span class="line-modified">144    *</span>
<span class="line-modified">145    * @description:</span>
<span class="line-modified">146    *   A function used to initialize (not create) a new module object.</span>
<span class="line-modified">147    *</span>
<span class="line-modified">148    * @input:</span>
<span class="line-modified">149    *   module ::</span>
<span class="line-modified">150    *     The module to initialize.</span>
<span class="line-added">151    */</span>
152   typedef FT_Error
153   (*FT_Module_Constructor)( FT_Module  module );
154 
155 
<a name="4" id="anc4"></a><span class="line-modified">156   /**************************************************************************</span>
<span class="line-modified">157    *</span>
<span class="line-modified">158    * @functype:</span>
<span class="line-modified">159    *   FT_Module_Destructor</span>
<span class="line-modified">160    *</span>
<span class="line-modified">161    * @description:</span>
<span class="line-modified">162    *   A function used to finalize (not destroy) a given module object.</span>
<span class="line-modified">163    *</span>
<span class="line-modified">164    * @input:</span>
<span class="line-modified">165    *   module ::</span>
<span class="line-modified">166    *     The module to finalize.</span>
<span class="line-added">167    */</span>
168   typedef void
169   (*FT_Module_Destructor)( FT_Module  module );
170 
171 
<a name="5" id="anc5"></a><span class="line-modified">172   /**************************************************************************</span>
<span class="line-modified">173    *</span>
<span class="line-modified">174    * @functype:</span>
<span class="line-modified">175    *   FT_Module_Requester</span>
<span class="line-modified">176    *</span>
<span class="line-modified">177    * @description:</span>
<span class="line-modified">178    *   A function used to query a given module for a specific interface.</span>
<span class="line-modified">179    *</span>
<span class="line-modified">180    * @input:</span>
<span class="line-modified">181    *   module ::</span>
<span class="line-modified">182    *     The module to be searched.</span>
<span class="line-modified">183    *</span>
<span class="line-modified">184    *   name ::</span>
<span class="line-added">185    *     The name of the interface in the module.</span>
<span class="line-added">186    */</span>
187   typedef FT_Module_Interface
188   (*FT_Module_Requester)( FT_Module    module,
189                           const char*  name );
190 
191 
<a name="6" id="anc6"></a><span class="line-modified">192   /**************************************************************************</span>
<span class="line-modified">193    *</span>
<span class="line-modified">194    * @struct:</span>
<span class="line-modified">195    *   FT_Module_Class</span>
<span class="line-modified">196    *</span>
<span class="line-modified">197    * @description:</span>
<span class="line-modified">198    *   The module class descriptor.  While being a public structure necessary</span>
<span class="line-modified">199    *   for FreeType&#39;s module bookkeeping, most of the fields are essentially</span>
<span class="line-modified">200    *   internal, not to be used directly by an application.</span>
<span class="line-modified">201    *</span>
<span class="line-modified">202    * @fields:</span>
<span class="line-modified">203    *   module_flags ::</span>
<span class="line-modified">204    *     Bit flags describing the module.</span>
<span class="line-modified">205    *</span>
<span class="line-modified">206    *   module_size ::</span>
<span class="line-modified">207    *     The size of one module object/instance in bytes.</span>
<span class="line-modified">208    *</span>
<span class="line-modified">209    *   module_name ::</span>
<span class="line-modified">210    *     The name of the module.</span>
<span class="line-modified">211    *</span>
<span class="line-modified">212    *   module_version ::</span>
<span class="line-modified">213    *     The version, as a 16.16 fixed number (major.minor).</span>
<span class="line-modified">214    *</span>
<span class="line-modified">215    *   module_requires ::</span>
<span class="line-modified">216    *     The version of FreeType this module requires, as a 16.16 fixed</span>
<span class="line-modified">217    *     number (major.minor).  Starts at version 2.0, i.e., 0x20000.</span>
<span class="line-modified">218    *</span>
<span class="line-modified">219    *   module_interface ::</span>
<span class="line-modified">220    *     A typeless pointer to a structure (which varies between different</span>
<span class="line-added">221    *     modules) that holds the module&#39;s interface functions.  This is</span>
<span class="line-added">222    *     essentially what `get_interface` returns.</span>
<span class="line-added">223    *</span>
<span class="line-added">224    *   module_init ::</span>
<span class="line-added">225    *     The initializing function.</span>
<span class="line-added">226    *</span>
<span class="line-added">227    *   module_done ::</span>
<span class="line-added">228    *     The finalizing function.</span>
<span class="line-added">229    *</span>
<span class="line-added">230    *   get_interface ::</span>
<span class="line-added">231    *     The interface requesting function.</span>
<span class="line-added">232    */</span>
233   typedef struct  FT_Module_Class_
234   {
235     FT_ULong               module_flags;
236     FT_Long                module_size;
237     const FT_String*       module_name;
238     FT_Fixed               module_version;
239     FT_Fixed               module_requires;
240 
241     const void*            module_interface;
242 
243     FT_Module_Constructor  module_init;
244     FT_Module_Destructor   module_done;
245     FT_Module_Requester    get_interface;
246 
247   } FT_Module_Class;
248 
249 
<a name="7" id="anc7"></a><span class="line-modified">250   /**************************************************************************</span>
<span class="line-modified">251    *</span>
<span class="line-modified">252    * @function:</span>
<span class="line-modified">253    *   FT_Add_Module</span>
<span class="line-modified">254    *</span>
<span class="line-modified">255    * @description:</span>
<span class="line-modified">256    *   Add a new module to a given library instance.</span>
<span class="line-modified">257    *</span>
<span class="line-modified">258    * @inout:</span>
<span class="line-modified">259    *   library ::</span>
<span class="line-modified">260    *     A handle to the library object.</span>
<span class="line-modified">261    *</span>
<span class="line-modified">262    * @input:</span>
<span class="line-modified">263    *   clazz ::</span>
<span class="line-modified">264    *     A pointer to class descriptor for the module.</span>
<span class="line-modified">265    *</span>
<span class="line-modified">266    * @return:</span>
<span class="line-modified">267    *   FreeType error code.  0~means success.</span>
<span class="line-modified">268    *</span>
<span class="line-modified">269    * @note:</span>
<span class="line-modified">270    *   An error will be returned if a module already exists by that name, or</span>
<span class="line-added">271    *   if the module requires a version of FreeType that is too great.</span>
<span class="line-added">272    */</span>
273   FT_EXPORT( FT_Error )
274   FT_Add_Module( FT_Library              library,
275                  const FT_Module_Class*  clazz );
276 
277 
<a name="8" id="anc8"></a><span class="line-modified">278   /**************************************************************************</span>
<span class="line-modified">279    *</span>
<span class="line-modified">280    * @function:</span>
<span class="line-modified">281    *   FT_Get_Module</span>
<span class="line-modified">282    *</span>
<span class="line-modified">283    * @description:</span>
<span class="line-modified">284    *   Find a module by its name.</span>
<span class="line-modified">285    *</span>
<span class="line-modified">286    * @input:</span>
<span class="line-modified">287    *   library ::</span>
<span class="line-modified">288    *     A handle to the library object.</span>
<span class="line-modified">289    *</span>
<span class="line-modified">290    *   module_name ::</span>
<span class="line-modified">291    *     The module&#39;s name (as an ASCII string).</span>
<span class="line-modified">292    *</span>
<span class="line-modified">293    * @return:</span>
<span class="line-modified">294    *   A module handle.  0~if none was found.</span>
<span class="line-modified">295    *</span>
<span class="line-modified">296    * @note:</span>
<span class="line-modified">297    *   FreeType&#39;s internal modules aren&#39;t documented very well, and you</span>
<span class="line-added">298    *   should look up the source code for details.</span>
<span class="line-added">299    */</span>
300   FT_EXPORT( FT_Module )
301   FT_Get_Module( FT_Library   library,
302                  const char*  module_name );
303 
304 
<a name="9" id="anc9"></a><span class="line-modified">305   /**************************************************************************</span>
<span class="line-modified">306    *</span>
<span class="line-modified">307    * @function:</span>
<span class="line-modified">308    *   FT_Remove_Module</span>
<span class="line-modified">309    *</span>
<span class="line-modified">310    * @description:</span>
<span class="line-modified">311    *   Remove a given module from a library instance.</span>
<span class="line-modified">312    *</span>
<span class="line-modified">313    * @inout:</span>
<span class="line-modified">314    *   library ::</span>
<span class="line-modified">315    *     A handle to a library object.</span>
<span class="line-modified">316    *</span>
<span class="line-modified">317    * @input:</span>
<span class="line-modified">318    *   module ::</span>
<span class="line-modified">319    *     A handle to a module object.</span>
<span class="line-modified">320    *</span>
<span class="line-modified">321    * @return:</span>
<span class="line-modified">322    *   FreeType error code.  0~means success.</span>
<span class="line-modified">323    *</span>
<span class="line-modified">324    * @note:</span>
<span class="line-added">325    *   The module object is destroyed by the function in case of success.</span>
<span class="line-added">326    */</span>
327   FT_EXPORT( FT_Error )
328   FT_Remove_Module( FT_Library  library,
329                     FT_Module   module );
330 
331 
<a name="10" id="anc10"></a><span class="line-modified">332   /**************************************************************************</span>
333    *
334    * @function:
335    *    FT_Property_Set
336    *
337    * @description:
338    *    Set a property for a given module.
339    *
340    * @input:
341    *    library ::
<a name="11" id="anc11"></a><span class="line-modified">342    *      A handle to the library the module is part of.</span>
343    *
344    *    module_name ::
<a name="12" id="anc12"></a><span class="line-modified">345    *      The module name.</span>
346    *
347    *    property_name ::
<a name="13" id="anc13"></a><span class="line-modified">348    *      The property name.  Properties are described in section</span>
<span class="line-modified">349    *      @properties.</span>
350    *
<a name="14" id="anc14"></a><span class="line-modified">351    *      Note that only a few modules have properties.</span>
352    *
353    *    value ::
<a name="15" id="anc15"></a><span class="line-modified">354    *      A generic pointer to a variable or structure that gives the new</span>
<span class="line-modified">355    *      value of the property.  The exact definition of `value` is</span>
<span class="line-modified">356    *      dependent on the property; see section @properties.</span>
357    *
358    * @return:
359    *   FreeType error code.  0~means success.
360    *
361    * @note:
<a name="16" id="anc16"></a><span class="line-modified">362    *    If `module_name` isn&#39;t a valid module name, or `property_name`</span>
<span class="line-modified">363    *    doesn&#39;t specify a valid property, or if `value` doesn&#39;t represent a</span>
364    *    valid value for the given property, an error is returned.
365    *
<a name="17" id="anc17"></a><span class="line-modified">366    *    The following example sets property &#39;bar&#39; (a simple integer) in</span>
<span class="line-modified">367    *    module &#39;foo&#39; to value~1.</span>
368    *
<a name="18" id="anc18"></a><span class="line-modified">369    *    ```</span>
370    *      FT_UInt  bar;
371    *
372    *
373    *      bar = 1;
374    *      FT_Property_Set( library, &quot;foo&quot;, &quot;bar&quot;, &amp;bar );
<a name="19" id="anc19"></a><span class="line-modified">375    *    ```</span>
376    *
377    *    Note that the FreeType Cache sub-system doesn&#39;t recognize module
378    *    property changes.  To avoid glyph lookup confusion within the cache
<a name="20" id="anc20"></a><span class="line-modified">379    *    you should call @FTC_Manager_Reset to completely flush the cache if a</span>
<span class="line-modified">380    *    module property gets changed after @FTC_Manager_New has been called.</span>

381    *
<a name="21" id="anc21"></a><span class="line-modified">382    *    It is not possible to set properties of the FreeType Cache sub-system</span>
<span class="line-modified">383    *    itself with FT_Property_Set; use @FTC_Property_Set instead.</span>

384    *
<a name="22" id="anc22"></a><span class="line-modified">385    * @since:</span>
<span class="line-modified">386    *   2.4.11</span>
387    *
388    */
389   FT_EXPORT( FT_Error )
390   FT_Property_Set( FT_Library        library,
391                    const FT_String*  module_name,
392                    const FT_String*  property_name,
393                    const void*       value );
394 
395 
<a name="23" id="anc23"></a><span class="line-modified">396   /**************************************************************************</span>
397    *
398    * @function:
399    *    FT_Property_Get
400    *
401    * @description:
402    *    Get a module&#39;s property value.
403    *
404    * @input:
405    *    library ::
<a name="24" id="anc24"></a><span class="line-modified">406    *      A handle to the library the module is part of.</span>
407    *
408    *    module_name ::
<a name="25" id="anc25"></a><span class="line-modified">409    *      The module name.</span>
410    *
411    *    property_name ::
<a name="26" id="anc26"></a><span class="line-modified">412    *      The property name.  Properties are described in section</span>
<span class="line-modified">413    *      @properties.</span>
414    *
415    * @inout:
416    *    value ::
<a name="27" id="anc27"></a><span class="line-modified">417    *      A generic pointer to a variable or structure that gives the value</span>
<span class="line-modified">418    *      of the property.  The exact definition of `value` is dependent on</span>
<span class="line-modified">419    *      the property; see section @properties.</span>
420    *
421    * @return:
422    *   FreeType error code.  0~means success.
423    *
424    * @note:
<a name="28" id="anc28"></a><span class="line-modified">425    *    If `module_name` isn&#39;t a valid module name, or `property_name`</span>
<span class="line-modified">426    *    doesn&#39;t specify a valid property, or if `value` doesn&#39;t represent a</span>
427    *    valid value for the given property, an error is returned.
428    *
<a name="29" id="anc29"></a><span class="line-modified">429    *    The following example gets property &#39;baz&#39; (a range) in module &#39;foo&#39;.</span>
430    *
<a name="30" id="anc30"></a><span class="line-modified">431    *    ```</span>
432    *      typedef  range_
433    *      {
434    *        FT_Int32  min;
435    *        FT_Int32  max;
436    *
437    *      } range;
438    *
439    *      range  baz;
440    *
441    *
442    *      FT_Property_Get( library, &quot;foo&quot;, &quot;baz&quot;, &amp;baz );
<a name="31" id="anc31"></a><span class="line-modified">443    *    ```</span>
444    *
445    *    It is not possible to retrieve properties of the FreeType Cache
446    *    sub-system with FT_Property_Get; use @FTC_Property_Get instead.
447    *
<a name="32" id="anc32"></a><span class="line-modified">448    * @since:</span>
<span class="line-modified">449    *   2.4.11</span>
450    *
451    */
452   FT_EXPORT( FT_Error )
453   FT_Property_Get( FT_Library        library,
454                    const FT_String*  module_name,
455                    const FT_String*  property_name,
456                    void*             value );
457 
458 
<a name="33" id="anc33"></a><span class="line-modified">459   /**************************************************************************</span>
<span class="line-modified">460    *</span>
<span class="line-modified">461    * @function:</span>
<span class="line-modified">462    *   FT_Set_Default_Properties</span>
<span class="line-modified">463    *</span>
<span class="line-modified">464    * @description:</span>
<span class="line-modified">465    *   If compilation option `FT_CONFIG_OPTION_ENVIRONMENT_PROPERTIES` is</span>
<span class="line-modified">466    *   set, this function reads the `FREETYPE_PROPERTIES` environment</span>
<span class="line-modified">467    *   variable to control driver properties.  See section @properties for</span>
<span class="line-modified">468    *   more.</span>
<span class="line-modified">469    *</span>
<span class="line-modified">470    *   If the compilation option is not set, this function does nothing.</span>
<span class="line-modified">471    *</span>
<span class="line-modified">472    *   `FREETYPE_PROPERTIES` has the following syntax form (broken here into</span>
<span class="line-modified">473    *   multiple lines for better readability).</span>
<span class="line-modified">474    *</span>
<span class="line-modified">475    *   ```</span>
<span class="line-modified">476    *     &lt;optional whitespace&gt;</span>
<span class="line-modified">477    *     &lt;module-name1&gt; &#39;:&#39;</span>
<span class="line-modified">478    *     &lt;property-name1&gt; &#39;=&#39; &lt;property-value1&gt;</span>
<span class="line-modified">479    *     &lt;whitespace&gt;</span>
<span class="line-modified">480    *     &lt;module-name2&gt; &#39;:&#39;</span>
<span class="line-modified">481    *     &lt;property-name2&gt; &#39;=&#39; &lt;property-value2&gt;</span>
<span class="line-modified">482    *     ...</span>
<span class="line-modified">483    *   ```</span>
<span class="line-modified">484    *</span>
<span class="line-modified">485    *   Example:</span>
<span class="line-modified">486    *</span>
<span class="line-modified">487    *   ```</span>
<span class="line-modified">488    *     FREETYPE_PROPERTIES=truetype:interpreter-version=35 \</span>
<span class="line-modified">489    *                         cff:no-stem-darkening=1 \</span>
<span class="line-modified">490    *                         autofitter:warping=1</span>
<span class="line-modified">491    *   ```</span>
<span class="line-modified">492    *</span>
<span class="line-modified">493    * @inout:</span>
<span class="line-modified">494    *   library ::</span>
<span class="line-modified">495    *     A handle to a new library object.</span>
<span class="line-modified">496    *</span>
<span class="line-modified">497    * @since:</span>
<span class="line-modified">498    *   2.8</span>
<span class="line-added">499    */</span>
500   FT_EXPORT( void )
501   FT_Set_Default_Properties( FT_Library  library );
502 
503 
<a name="34" id="anc34"></a><span class="line-modified">504   /**************************************************************************</span>
<span class="line-modified">505    *</span>
<span class="line-modified">506    * @function:</span>
<span class="line-modified">507    *   FT_Reference_Library</span>
<span class="line-modified">508    *</span>
<span class="line-modified">509    * @description:</span>
<span class="line-modified">510    *   A counter gets initialized to~1 at the time an @FT_Library structure</span>
<span class="line-modified">511    *   is created.  This function increments the counter.  @FT_Done_Library</span>
<span class="line-modified">512    *   then only destroys a library if the counter is~1, otherwise it simply</span>
<span class="line-modified">513    *   decrements the counter.</span>
<span class="line-modified">514    *</span>
<span class="line-modified">515    *   This function helps in managing life-cycles of structures that</span>
<span class="line-modified">516    *   reference @FT_Library objects.</span>
<span class="line-modified">517    *</span>
<span class="line-modified">518    * @input:</span>
<span class="line-modified">519    *   library ::</span>
<span class="line-modified">520    *     A handle to a target library object.</span>
<span class="line-modified">521    *</span>
<span class="line-modified">522    * @return:</span>
<span class="line-modified">523    *   FreeType error code.  0~means success.</span>
<span class="line-modified">524    *</span>
<span class="line-modified">525    * @since:</span>
<span class="line-modified">526    *   2.4.2</span>
<span class="line-added">527    */</span>
528   FT_EXPORT( FT_Error )
529   FT_Reference_Library( FT_Library  library );
530 
531 
<a name="35" id="anc35"></a><span class="line-modified">532   /**************************************************************************</span>
<span class="line-modified">533    *</span>
<span class="line-modified">534    * @function:</span>
<span class="line-modified">535    *   FT_New_Library</span>
<span class="line-modified">536    *</span>
<span class="line-modified">537    * @description:</span>
<span class="line-modified">538    *   This function is used to create a new FreeType library instance from a</span>
<span class="line-modified">539    *   given memory object.  It is thus possible to use libraries with</span>
<span class="line-modified">540    *   distinct memory allocators within the same program.  Note, however,</span>
<span class="line-modified">541    *   that the used @FT_Memory structure is expected to remain valid for the</span>
<span class="line-modified">542    *   life of the @FT_Library object.</span>
<span class="line-modified">543    *</span>
<span class="line-modified">544    *   Normally, you would call this function (followed by a call to</span>
<span class="line-modified">545    *   @FT_Add_Default_Modules or a series of calls to @FT_Add_Module, and a</span>
<span class="line-modified">546    *   call to @FT_Set_Default_Properties) instead of @FT_Init_FreeType to</span>
<span class="line-modified">547    *   initialize the FreeType library.</span>
<span class="line-modified">548    *</span>
<span class="line-modified">549    *   Don&#39;t use @FT_Done_FreeType but @FT_Done_Library to destroy a library</span>
<span class="line-modified">550    *   instance.</span>
<span class="line-modified">551    *</span>
<span class="line-modified">552    * @input:</span>
<span class="line-modified">553    *   memory ::</span>
<span class="line-modified">554    *     A handle to the original memory object.</span>
<span class="line-modified">555    *</span>
<span class="line-modified">556    * @output:</span>
<span class="line-modified">557    *   alibrary ::</span>
<span class="line-modified">558    *     A pointer to handle of a new library object.</span>
<span class="line-modified">559    *</span>
<span class="line-modified">560    * @return:</span>
<span class="line-modified">561    *   FreeType error code.  0~means success.</span>
<span class="line-modified">562    *</span>
<span class="line-modified">563    * @note:</span>
<span class="line-modified">564    *   See the discussion of reference counters in the description of</span>
<span class="line-added">565    *   @FT_Reference_Library.</span>
<span class="line-added">566    */</span>
567   FT_EXPORT( FT_Error )
568   FT_New_Library( FT_Memory    memory,
569                   FT_Library  *alibrary );
570 
571 
<a name="36" id="anc36"></a><span class="line-modified">572   /**************************************************************************</span>
<span class="line-modified">573    *</span>
<span class="line-modified">574    * @function:</span>
<span class="line-modified">575    *   FT_Done_Library</span>
<span class="line-modified">576    *</span>
<span class="line-modified">577    * @description:</span>
<span class="line-modified">578    *   Discard a given library object.  This closes all drivers and discards</span>
<span class="line-modified">579    *   all resource objects.</span>
<span class="line-modified">580    *</span>
<span class="line-modified">581    * @input:</span>
<span class="line-modified">582    *   library ::</span>
<span class="line-modified">583    *     A handle to the target library.</span>
<span class="line-modified">584    *</span>
<span class="line-modified">585    * @return:</span>
<span class="line-modified">586    *   FreeType error code.  0~means success.</span>
<span class="line-modified">587    *</span>
<span class="line-modified">588    * @note:</span>
<span class="line-modified">589    *   See the discussion of reference counters in the description of</span>
<span class="line-modified">590    *   @FT_Reference_Library.</span>
<span class="line-added">591    */</span>
592   FT_EXPORT( FT_Error )
593   FT_Done_Library( FT_Library  library );
594 
<a name="37" id="anc37"></a>
595 
<a name="38" id="anc38"></a><span class="line-modified">596   /**************************************************************************</span>
<span class="line-added">597    *</span>
<span class="line-added">598    * @functype:</span>
<span class="line-added">599    *   FT_DebugHook_Func</span>
<span class="line-added">600    *</span>
<span class="line-added">601    * @description:</span>
<span class="line-added">602    *   A drop-in replacement (or rather a wrapper) for the bytecode or</span>
<span class="line-added">603    *   charstring interpreter&#39;s main loop function.</span>
<span class="line-added">604    *</span>
<span class="line-added">605    *   Its job is essentially</span>
<span class="line-added">606    *</span>
<span class="line-added">607    *   - to activate debug mode to enforce single-stepping,</span>
<span class="line-added">608    *</span>
<span class="line-added">609    *   - to call the main loop function to interpret the next opcode, and</span>
<span class="line-added">610    *</span>
<span class="line-added">611    *   - to show the changed context to the user.</span>
<span class="line-added">612    *</span>
<span class="line-added">613    *   An example for such a main loop function is `TT_RunIns` (declared in</span>
<span class="line-added">614    *   FreeType&#39;s internal header file `src/truetype/ttinterp.h`).</span>
<span class="line-added">615    *</span>
<span class="line-added">616    *   Have a look at the source code of the `ttdebug` FreeType demo program</span>
<span class="line-added">617    *   for an example of a drop-in replacement.</span>
<span class="line-added">618    *</span>
<span class="line-added">619    * @inout:</span>
<span class="line-added">620    *   arg ::</span>
<span class="line-added">621    *     A typeless pointer, to be cast to the main loop function&#39;s data</span>
<span class="line-added">622    *     structure (which depends on the font module).  For TrueType fonts</span>
<span class="line-added">623    *     it is bytecode interpreter&#39;s execution context, `TT_ExecContext`,</span>
<span class="line-added">624    *     which is declared in FreeType&#39;s internal header file `tttypes.h`.</span>
<span class="line-added">625    */</span>
<span class="line-added">626   typedef FT_Error</span>
627   (*FT_DebugHook_Func)( void*  arg );
628 
629 
<a name="39" id="anc39"></a><span class="line-modified">630   /**************************************************************************</span>
<span class="line-modified">631    *</span>
<span class="line-modified">632    * @enum:</span>
<span class="line-modified">633    *   FT_DEBUG_HOOK_XXX</span>
<span class="line-modified">634    *</span>
<span class="line-modified">635    * @description:</span>
<span class="line-modified">636    *   A list of named debug hook indices.</span>
<span class="line-modified">637    *</span>
<span class="line-modified">638    * @values:</span>
<span class="line-modified">639    *   FT_DEBUG_HOOK_TRUETYPE::</span>
<span class="line-modified">640    *     This hook index identifies the TrueType bytecode debugger.</span>
<span class="line-modified">641    */</span>
<span class="line-modified">642 #define FT_DEBUG_HOOK_TRUETYPE  0</span>
<span class="line-modified">643 </span>
<span class="line-modified">644 </span>
<span class="line-modified">645   /**************************************************************************</span>
<span class="line-modified">646    *</span>
<span class="line-modified">647    * @function:</span>
<span class="line-modified">648    *   FT_Set_Debug_Hook</span>
<span class="line-modified">649    *</span>
<span class="line-modified">650    * @description:</span>
<span class="line-modified">651    *   Set a debug hook function for debugging the interpreter of a font</span>
<span class="line-modified">652    *   format.</span>
<span class="line-modified">653    *</span>
<span class="line-modified">654    *   While this is a public API function, an application needs access to</span>
<span class="line-modified">655    *   FreeType&#39;s internal header files to do something useful.</span>
<span class="line-modified">656    *</span>
<span class="line-added">657    *   Have a look at the source code of the `ttdebug` FreeType demo program</span>
<span class="line-added">658    *   for an example of its usage.</span>
<span class="line-added">659    *</span>
<span class="line-added">660    * @inout:</span>
<span class="line-added">661    *   library ::</span>
<span class="line-added">662    *     A handle to the library object.</span>
<span class="line-added">663    *</span>
<span class="line-added">664    * @input:</span>
<span class="line-added">665    *   hook_index ::</span>
<span class="line-added">666    *     The index of the debug hook.  You should use defined enumeration</span>
<span class="line-added">667    *     macros like @FT_DEBUG_HOOK_TRUETYPE.</span>
<span class="line-added">668    *</span>
<span class="line-added">669    *   debug_hook ::</span>
<span class="line-added">670    *     The function used to debug the interpreter.</span>
<span class="line-added">671    *</span>
<span class="line-added">672    * @note:</span>
<span class="line-added">673    *   Currently, four debug hook slots are available, but only one (for the</span>
<span class="line-added">674    *   TrueType interpreter) is defined.</span>
<span class="line-added">675    */</span>
676   FT_EXPORT( void )
677   FT_Set_Debug_Hook( FT_Library         library,
678                      FT_UInt            hook_index,
679                      FT_DebugHook_Func  debug_hook );
680 
681 
<a name="40" id="anc40"></a><span class="line-modified">682   /**************************************************************************</span>
<span class="line-modified">683    *</span>
<span class="line-modified">684    * @function:</span>
<span class="line-modified">685    *   FT_Add_Default_Modules</span>
<span class="line-modified">686    *</span>
<span class="line-modified">687    * @description:</span>
<span class="line-modified">688    *   Add the set of default drivers to a given library object.  This is</span>
<span class="line-modified">689    *   only useful when you create a library object with @FT_New_Library</span>
<span class="line-modified">690    *   (usually to plug a custom memory manager).</span>
<span class="line-modified">691    *</span>
<span class="line-modified">692    * @inout:</span>
<span class="line-modified">693    *   library ::</span>
<span class="line-modified">694    *     A handle to a new library object.</span>
<span class="line-added">695    */</span>
696   FT_EXPORT( void )
697   FT_Add_Default_Modules( FT_Library  library );
698 
699 
700 
701   /**************************************************************************
702    *
703    * @section:
704    *   truetype_engine
705    *
706    * @title:
707    *   The TrueType Engine
708    *
709    * @abstract:
710    *   TrueType bytecode support.
711    *
712    * @description:
713    *   This section contains a function used to query the level of TrueType
714    *   bytecode support compiled in this version of the library.
715    *
716    */
717 
718 
719   /**************************************************************************
720    *
<a name="41" id="anc41"></a><span class="line-modified">721    * @enum:</span>
<span class="line-modified">722    *    FT_TrueTypeEngineType</span>
723    *
<a name="42" id="anc42"></a><span class="line-modified">724    * @description:</span>
<span class="line-modified">725    *    A list of values describing which kind of TrueType bytecode engine is</span>
<span class="line-modified">726    *    implemented in a given FT_Library instance.  It is used by the</span>
<span class="line-modified">727    *    @FT_Get_TrueType_Engine_Type function.</span>
728    *
<a name="43" id="anc43"></a><span class="line-modified">729    * @values:</span>
<span class="line-modified">730    *    FT_TRUETYPE_ENGINE_TYPE_NONE ::</span>
<span class="line-modified">731    *      The library doesn&#39;t implement any kind of bytecode interpreter.</span>
732    *
<a name="44" id="anc44"></a><span class="line-modified">733    *    FT_TRUETYPE_ENGINE_TYPE_UNPATENTED ::</span>
<span class="line-modified">734    *      Deprecated and removed.</span>
735    *
<a name="45" id="anc45"></a><span class="line-modified">736    *    FT_TRUETYPE_ENGINE_TYPE_PATENTED ::</span>
<span class="line-modified">737    *      The library implements a bytecode interpreter that covers the full</span>
<span class="line-modified">738    *      instruction set of the TrueType virtual machine (this was governed</span>
<span class="line-modified">739    *      by patents until May 2010, hence the name).</span>
740    *
<a name="46" id="anc46"></a><span class="line-modified">741    * @since:</span>
<span class="line-modified">742    *    2.2</span>
743    *
744    */
745   typedef enum  FT_TrueTypeEngineType_
746   {
747     FT_TRUETYPE_ENGINE_TYPE_NONE = 0,
748     FT_TRUETYPE_ENGINE_TYPE_UNPATENTED,
749     FT_TRUETYPE_ENGINE_TYPE_PATENTED
750 
751   } FT_TrueTypeEngineType;
752 
753 
754   /**************************************************************************
755    *
<a name="47" id="anc47"></a><span class="line-modified">756    * @function:</span>
<span class="line-modified">757    *    FT_Get_TrueType_Engine_Type</span>
758    *
<a name="48" id="anc48"></a><span class="line-modified">759    * @description:</span>
<span class="line-modified">760    *    Return an @FT_TrueTypeEngineType value to indicate which level of the</span>
<span class="line-modified">761    *    TrueType virtual machine a given library instance supports.</span>
762    *
<a name="49" id="anc49"></a><span class="line-modified">763    * @input:</span>
<span class="line-modified">764    *    library ::</span>
<span class="line-modified">765    *      A library instance.</span>
766    *
<a name="50" id="anc50"></a><span class="line-modified">767    * @return:</span>
<span class="line-modified">768    *    A value indicating which level is supported.</span>
769    *
<a name="51" id="anc51"></a><span class="line-modified">770    * @since:</span>
<span class="line-modified">771    *    2.2</span>
772    *
773    */
774   FT_EXPORT( FT_TrueTypeEngineType )
775   FT_Get_TrueType_Engine_Type( FT_Library  library );
776 
777   /* */
778 
779 
780 FT_END_HEADER
781 
782 #endif /* FTMODAPI_H_ */
783 
784 
785 /* END */
<a name="52" id="anc52"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="52" type="hidden" />
</body>
</html>