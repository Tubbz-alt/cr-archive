<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/share/native/libfreetype/include/freetype/ftmm.h</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="ftmac.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ftmodapi.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libfreetype/include/freetype/ftmm.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
<span class="line-modified">  1 /***************************************************************************/</span>
<span class="line-modified">  2 /*                                                                         */</span>
<span class="line-modified">  3 /*  ftmm.h                                                                 */</span>
<span class="line-modified">  4 /*                                                                         */</span>
<span class="line-modified">  5 /*    FreeType Multiple Master font interface (specification).             */</span>
<span class="line-modified">  6 /*                                                                         */</span>
<span class="line-modified">  7 /*  Copyright 1996-2018 by                                                 */</span>
<span class="line-modified">  8 /*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */</span>
<span class="line-modified">  9 /*                                                                         */</span>
<span class="line-modified"> 10 /*  This file is part of the FreeType project, and may only be used,       */</span>
<span class="line-modified"> 11 /*  modified, and distributed under the terms of the FreeType project      */</span>
<span class="line-modified"> 12 /*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */</span>
<span class="line-modified"> 13 /*  this file you indicate that you have read the license and              */</span>
<span class="line-modified"> 14 /*  understand and accept it fully.                                        */</span>
<span class="line-modified"> 15 /*                                                                         */</span>
<span class="line-modified"> 16 /***************************************************************************/</span>
 17 
 18 
 19 #ifndef FTMM_H_
 20 #define FTMM_H_
 21 
 22 
 23 #include &lt;ft2build.h&gt;
 24 #include FT_TYPE1_TABLES_H
 25 
 26 
 27 FT_BEGIN_HEADER
 28 
 29 
<span class="line-modified"> 30   /*************************************************************************/</span>
<span class="line-modified"> 31   /*                                                                       */</span>
<span class="line-modified"> 32   /* &lt;Section&gt;                                                             */</span>
<span class="line-modified"> 33   /*    multiple_masters                                                   */</span>
<span class="line-modified"> 34   /*                                                                       */</span>
<span class="line-modified"> 35   /* &lt;Title&gt;                                                               */</span>
<span class="line-modified"> 36   /*    Multiple Masters                                                   */</span>
<span class="line-modified"> 37   /*                                                                       */</span>
<span class="line-modified"> 38   /* &lt;Abstract&gt;                                                            */</span>
<span class="line-modified"> 39   /*    How to manage Multiple Masters fonts.                              */</span>
<span class="line-modified"> 40   /*                                                                       */</span>
<span class="line-modified"> 41   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified"> 42   /*    The following types and functions are used to manage Multiple      */</span>
<span class="line-modified"> 43   /*    Master fonts, i.e., the selection of specific design instances by  */</span>
<span class="line-modified"> 44   /*    setting design axis coordinates.                                   */</span>
<span class="line-modified"> 45   /*                                                                       */</span>
<span class="line-modified"> 46   /*    Besides Adobe MM fonts, the interface supports Apple&#39;s TrueType GX */</span>
<span class="line-modified"> 47   /*    and OpenType variation fonts.  Some of the routines only work with */</span>
<span class="line-modified"> 48   /*    Adobe MM fonts, others will work with all three types.  They are   */</span>
<span class="line-modified"> 49   /*    similar enough that a consistent interface makes sense.            */</span>
<span class="line-modified"> 50   /*                                                                       */</span>
<span class="line-modified"> 51   /*************************************************************************/</span>
<span class="line-modified"> 52 </span>
<span class="line-modified"> 53 </span>
<span class="line-modified"> 54   /*************************************************************************/</span>
<span class="line-modified"> 55   /*                                                                       */</span>
<span class="line-modified"> 56   /* &lt;Struct&gt;                                                              */</span>
<span class="line-modified"> 57   /*    FT_MM_Axis                                                         */</span>
<span class="line-modified"> 58   /*                                                                       */</span>
<span class="line-modified"> 59   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified"> 60   /*    A structure to model a given axis in design space for Multiple     */</span>
<span class="line-modified"> 61   /*    Masters fonts.                                                     */</span>
<span class="line-modified"> 62   /*                                                                       */</span>
<span class="line-modified"> 63   /*    This structure can&#39;t be used for TrueType GX or OpenType variation */</span>
<span class="line-modified"> 64   /*    fonts.                                                             */</span>
<span class="line-modified"> 65   /*                                                                       */</span>
<span class="line-modified"> 66   /* &lt;Fields&gt;                                                              */</span>
<span class="line-modified"> 67   /*    name    :: The axis&#39;s name.                                        */</span>
<span class="line-modified"> 68   /*                                                                       */</span>
<span class="line-modified"> 69   /*    minimum :: The axis&#39;s minimum design coordinate.                   */</span>
<span class="line-modified"> 70   /*                                                                       */</span>
<span class="line-modified"> 71   /*    maximum :: The axis&#39;s maximum design coordinate.                   */</span>
<span class="line-modified"> 72   /*                                                                       */</span>



 73   typedef struct  FT_MM_Axis_
 74   {
 75     FT_String*  name;
 76     FT_Long     minimum;
 77     FT_Long     maximum;
 78 
 79   } FT_MM_Axis;
 80 
 81 
<span class="line-modified"> 82   /*************************************************************************/</span>
<span class="line-modified"> 83   /*                                                                       */</span>
<span class="line-modified"> 84   /* &lt;Struct&gt;                                                              */</span>
<span class="line-modified"> 85   /*    FT_Multi_Master                                                    */</span>
<span class="line-modified"> 86   /*                                                                       */</span>
<span class="line-modified"> 87   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified"> 88   /*    A structure to model the axes and space of a Multiple Masters      */</span>
<span class="line-modified"> 89   /*    font.                                                              */</span>
<span class="line-modified"> 90   /*                                                                       */</span>
<span class="line-modified"> 91   /*    This structure can&#39;t be used for TrueType GX or OpenType variation */</span>
<span class="line-modified"> 92   /*    fonts.                                                             */</span>
<span class="line-modified"> 93   /*                                                                       */</span>
<span class="line-modified"> 94   /* &lt;Fields&gt;                                                              */</span>
<span class="line-modified"> 95   /*    num_axis    :: Number of axes.  Cannot exceed~4.                   */</span>
<span class="line-modified"> 96   /*                                                                       */</span>
<span class="line-modified"> 97   /*    num_designs :: Number of designs; should be normally 2^num_axis    */</span>
<span class="line-modified"> 98   /*                   even though the Type~1 specification strangely      */</span>
<span class="line-modified"> 99   /*                   allows for intermediate designs to be present.      */</span>
<span class="line-modified">100   /*                   This number cannot exceed~16.                       */</span>
<span class="line-modified">101   /*                                                                       */</span>
<span class="line-modified">102   /*    axis        :: A table of axis descriptors.                        */</span>
<span class="line-modified">103   /*                                                                       */</span>

104   typedef struct  FT_Multi_Master_
105   {
106     FT_UInt     num_axis;
107     FT_UInt     num_designs;
108     FT_MM_Axis  axis[T1_MAX_MM_AXIS];
109 
110   } FT_Multi_Master;
111 
112 
<span class="line-modified">113   /*************************************************************************/</span>
<span class="line-modified">114   /*                                                                       */</span>
<span class="line-modified">115   /* &lt;Struct&gt;                                                              */</span>
<span class="line-modified">116   /*    FT_Var_Axis                                                        */</span>
<span class="line-modified">117   /*                                                                       */</span>
<span class="line-modified">118   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">119   /*    A structure to model a given axis in design space for Multiple     */</span>
<span class="line-modified">120   /*    Masters, TrueType GX, and OpenType variation fonts.                */</span>
<span class="line-modified">121   /*                                                                       */</span>
<span class="line-modified">122   /* &lt;Fields&gt;                                                              */</span>
<span class="line-modified">123   /*    name    :: The axis&#39;s name.                                        */</span>
<span class="line-modified">124   /*               Not always meaningful for TrueType GX or OpenType       */</span>
<span class="line-modified">125   /*               variation fonts.                                        */</span>
<span class="line-modified">126   /*                                                                       */</span>
<span class="line-modified">127   /*    minimum :: The axis&#39;s minimum design coordinate.                   */</span>
<span class="line-modified">128   /*                                                                       */</span>
<span class="line-modified">129   /*    def     :: The axis&#39;s default design coordinate.                   */</span>
<span class="line-modified">130   /*               FreeType computes meaningful default values for Adobe   */</span>
<span class="line-modified">131   /*               MM fonts.                                               */</span>
<span class="line-modified">132   /*                                                                       */</span>
<span class="line-modified">133   /*    maximum :: The axis&#39;s maximum design coordinate.                   */</span>
<span class="line-modified">134   /*                                                                       */</span>
<span class="line-modified">135   /*    tag     :: The axis&#39;s tag (the equivalent to `name&#39; for TrueType   */</span>
<span class="line-modified">136   /*               GX and OpenType variation fonts).  FreeType provides    */</span>
<span class="line-modified">137   /*               default values for Adobe MM fonts if possible.          */</span>
<span class="line-modified">138   /*                                                                       */</span>
<span class="line-modified">139   /*    strid   :: The axis name entry in the font&#39;s `name&#39; table.  This   */</span>
<span class="line-modified">140   /*               is another (and often better) version of the `name&#39;     */</span>
<span class="line-modified">141   /*               field for TrueType GX or OpenType variation fonts.  Not */</span>
<span class="line-modified">142   /*               meaningful for Adobe MM fonts.                          */</span>
<span class="line-modified">143   /*                                                                       */</span>
<span class="line-modified">144   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">145   /*    The fields `minimum&#39;, `def&#39;, and `maximum&#39; are 16.16 fractional    */</span>
<span class="line-modified">146   /*    values for TrueType GX and OpenType variation fonts.  For Adobe MM */</span>
<span class="line-modified">147   /*    fonts, the values are integers.                                    */</span>
<span class="line-modified">148   /*                                                                       */</span>



149   typedef struct  FT_Var_Axis_
150   {
151     FT_String*  name;
152 
153     FT_Fixed    minimum;
154     FT_Fixed    def;
155     FT_Fixed    maximum;
156 
157     FT_ULong    tag;
158     FT_UInt     strid;
159 
160   } FT_Var_Axis;
161 
162 
<span class="line-modified">163   /*************************************************************************/</span>
<span class="line-modified">164   /*                                                                       */</span>
<span class="line-modified">165   /* &lt;Struct&gt;                                                              */</span>
<span class="line-modified">166   /*    FT_Var_Named_Style                                                 */</span>
<span class="line-modified">167   /*                                                                       */</span>
<span class="line-modified">168   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">169   /*    A structure to model a named instance in a TrueType GX or OpenType */</span>
<span class="line-modified">170   /*    variation font.                                                    */</span>
<span class="line-modified">171   /*                                                                       */</span>
<span class="line-modified">172   /*    This structure can&#39;t be used for Adobe MM fonts.                   */</span>
<span class="line-modified">173   /*                                                                       */</span>
<span class="line-modified">174   /* &lt;Fields&gt;                                                              */</span>
<span class="line-modified">175   /*    coords :: The design coordinates for this instance.                */</span>
<span class="line-modified">176   /*              This is an array with one entry for each axis.           */</span>
<span class="line-modified">177   /*                                                                       */</span>
<span class="line-modified">178   /*    strid  :: The entry in `name&#39; table identifying this instance.     */</span>
<span class="line-modified">179   /*                                                                       */</span>
<span class="line-modified">180   /*    psid   :: The entry in `name&#39; table identifying a PostScript name  */</span>
<span class="line-modified">181   /*              for this instance.  Value 0xFFFF indicates a missing     */</span>
<span class="line-modified">182   /*              entry.                                                   */</span>
<span class="line-modified">183   /*                                                                       */</span>


184   typedef struct  FT_Var_Named_Style_
185   {
186     FT_Fixed*  coords;
187     FT_UInt    strid;
188     FT_UInt    psid;   /* since 2.7.1 */
189 
190   } FT_Var_Named_Style;
191 
192 
<span class="line-modified">193   /*************************************************************************/</span>
<span class="line-modified">194   /*                                                                       */</span>
<span class="line-modified">195   /* &lt;Struct&gt;                                                              */</span>
<span class="line-modified">196   /*    FT_MM_Var                                                          */</span>
<span class="line-modified">197   /*                                                                       */</span>
<span class="line-modified">198   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">199   /*    A structure to model the axes and space of an Adobe MM, TrueType   */</span>
<span class="line-modified">200   /*    GX, or OpenType variation font.                                    */</span>
<span class="line-modified">201   /*                                                                       */</span>
<span class="line-modified">202   /*    Some fields are specific to one format and not to the others.      */</span>
<span class="line-modified">203   /*                                                                       */</span>
<span class="line-modified">204   /* &lt;Fields&gt;                                                              */</span>
<span class="line-modified">205   /*    num_axis        :: The number of axes.  The maximum value is~4 for */</span>
<span class="line-modified">206   /*                       Adobe MM fonts; no limit in TrueType GX or      */</span>
<span class="line-modified">207   /*                       OpenType variation fonts.                       */</span>
<span class="line-modified">208   /*                                                                       */</span>
<span class="line-modified">209   /*    num_designs     :: The number of designs; should be normally       */</span>
<span class="line-modified">210   /*                       2^num_axis for Adobe MM fonts.  Not meaningful  */</span>
<span class="line-modified">211   /*                       for TrueType GX or OpenType variation fonts     */</span>
<span class="line-modified">212   /*                       (where every glyph could have a different       */</span>
<span class="line-modified">213   /*                       number of designs).                             */</span>
<span class="line-modified">214   /*                                                                       */</span>
<span class="line-modified">215   /*    num_namedstyles :: The number of named styles; a `named style&#39; is  */</span>
<span class="line-modified">216   /*                       a tuple of design coordinates that has a string */</span>
<span class="line-modified">217   /*                       ID (in the `name&#39; table) associated with it.    */</span>
<span class="line-modified">218   /*                       The font can tell the user that, for example,   */</span>
<span class="line-modified">219   /*                       [Weight=1.5,Width=1.1] is `Bold&#39;.  Another name */</span>
<span class="line-modified">220   /*                       for `named style&#39; is `named instance&#39;.          */</span>
<span class="line-modified">221   /*                                                                       */</span>
<span class="line-modified">222   /*                       For Adobe Multiple Masters fonts, this value is */</span>
<span class="line-modified">223   /*                       always zero because the format does not support */</span>
<span class="line-modified">224   /*                       named styles.                                   */</span>
<span class="line-modified">225   /*                                                                       */</span>
<span class="line-modified">226   /*    axis            :: An axis descriptor table.                       */</span>
<span class="line-modified">227   /*                       TrueType GX and OpenType variation fonts        */</span>
<span class="line-modified">228   /*                       contain slightly more data than Adobe MM fonts. */</span>
<span class="line-modified">229   /*                       Memory management of this pointer is done       */</span>
<span class="line-modified">230   /*                       internally by FreeType.                         */</span>
<span class="line-modified">231   /*                                                                       */</span>
<span class="line-modified">232   /*    namedstyle      :: A named style (instance) table.                 */</span>
<span class="line-modified">233   /*                       Only meaningful for TrueType GX and OpenType    */</span>
<span class="line-removed">234   /*                       variation fonts.  Memory management of this     */</span>
<span class="line-removed">235   /*                       pointer is done internally by FreeType.         */</span>
<span class="line-removed">236   /*                                                                       */</span>
237   typedef struct  FT_MM_Var_
238   {
239     FT_UInt              num_axis;
240     FT_UInt              num_designs;
241     FT_UInt              num_namedstyles;
242     FT_Var_Axis*         axis;
243     FT_Var_Named_Style*  namedstyle;
244 
245   } FT_MM_Var;
246 
247 
<span class="line-modified">248   /*************************************************************************/</span>
<span class="line-modified">249   /*                                                                       */</span>
<span class="line-modified">250   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">251   /*    FT_Get_Multi_Master                                                */</span>
<span class="line-modified">252   /*                                                                       */</span>
<span class="line-modified">253   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">254   /*    Retrieve a variation descriptor of a given Adobe MM font.          */</span>
<span class="line-modified">255   /*                                                                       */</span>
<span class="line-modified">256   /*    This function can&#39;t be used with TrueType GX or OpenType variation */</span>
<span class="line-modified">257   /*    fonts.                                                             */</span>
<span class="line-modified">258   /*                                                                       */</span>
<span class="line-modified">259   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">260   /*    face    :: A handle to the source face.                            */</span>
<span class="line-modified">261   /*                                                                       */</span>
<span class="line-modified">262   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">263   /*    amaster :: The Multiple Masters descriptor.                        */</span>
<span class="line-modified">264   /*                                                                       */</span>
<span class="line-modified">265   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">266   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">267   /*                                                                       */</span>


268   FT_EXPORT( FT_Error )
269   FT_Get_Multi_Master( FT_Face           face,
270                        FT_Multi_Master  *amaster );
271 
272 
<span class="line-modified">273   /*************************************************************************/</span>
<span class="line-modified">274   /*                                                                       */</span>
<span class="line-modified">275   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">276   /*    FT_Get_MM_Var                                                      */</span>
<span class="line-modified">277   /*                                                                       */</span>
<span class="line-modified">278   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">279   /*    Retrieve a variation descriptor for a given font.                  */</span>
<span class="line-modified">280   /*                                                                       */</span>
<span class="line-modified">281   /*    This function works with all supported variation formats.          */</span>
<span class="line-modified">282   /*                                                                       */</span>
<span class="line-modified">283   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">284   /*    face    :: A handle to the source face.                            */</span>
<span class="line-modified">285   /*                                                                       */</span>
<span class="line-modified">286   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">287   /*    amaster :: The variation descriptor.                               */</span>
<span class="line-modified">288   /*               Allocates a data structure, which the user must         */</span>
<span class="line-modified">289   /*               deallocate with a call to @FT_Done_MM_Var after use.    */</span>
<span class="line-modified">290   /*                                                                       */</span>
<span class="line-modified">291   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">292   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">293   /*                                                                       */</span>

294   FT_EXPORT( FT_Error )
295   FT_Get_MM_Var( FT_Face      face,
296                  FT_MM_Var*  *amaster );
297 
298 
<span class="line-modified">299   /*************************************************************************/</span>
<span class="line-modified">300   /*                                                                       */</span>
<span class="line-modified">301   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">302   /*    FT_Done_MM_Var                                                     */</span>
<span class="line-modified">303   /*                                                                       */</span>
<span class="line-modified">304   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">305   /*    Free the memory allocated by @FT_Get_MM_Var.                       */</span>
<span class="line-modified">306   /*                                                                       */</span>
<span class="line-modified">307   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">308   /*    library :: A handle of the face&#39;s parent library object that was   */</span>
<span class="line-modified">309   /*               used in the call to @FT_Get_MM_Var to create `amaster&#39;. */</span>
<span class="line-modified">310   /*                                                                       */</span>
<span class="line-modified">311   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">312   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">313   /*                                                                       */</span>

314   FT_EXPORT( FT_Error )
315   FT_Done_MM_Var( FT_Library   library,
316                   FT_MM_Var   *amaster );
317 
318 
<span class="line-modified">319   /*************************************************************************/</span>
<span class="line-modified">320   /*                                                                       */</span>
<span class="line-modified">321   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">322   /*    FT_Set_MM_Design_Coordinates                                       */</span>
<span class="line-modified">323   /*                                                                       */</span>
<span class="line-modified">324   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">325   /*    For Adobe MM fonts, choose an interpolated font design through     */</span>
<span class="line-modified">326   /*    design coordinates.                                                */</span>
<span class="line-modified">327   /*                                                                       */</span>
<span class="line-modified">328   /*    This function can&#39;t be used with TrueType GX or OpenType variation */</span>
<span class="line-modified">329   /*    fonts.                                                             */</span>
<span class="line-modified">330   /*                                                                       */</span>
<span class="line-modified">331   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">332   /*    face       :: A handle to the source face.                         */</span>
<span class="line-modified">333   /*                                                                       */</span>
<span class="line-modified">334   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">335   /*    num_coords :: The number of available design coordinates.  If it   */</span>
<span class="line-modified">336   /*                  is larger than the number of axes, ignore the excess */</span>
<span class="line-modified">337   /*                  values.  If it is smaller than the number of axes,   */</span>
<span class="line-modified">338   /*                  use default values for the remaining axes.           */</span>
<span class="line-modified">339   /*                                                                       */</span>
<span class="line-modified">340   /*    coords     :: An array of design coordinates.                      */</span>
<span class="line-modified">341   /*                                                                       */</span>
<span class="line-modified">342   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">343   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">344   /*                                                                       */</span>
<span class="line-modified">345   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">346   /*    [Since 2.8.1] To reset all axes to the default values, call the    */</span>
<span class="line-modified">347   /*    function with `num_coords&#39; set to zero and `coords&#39; set to NULL.   */</span>
<span class="line-modified">348   /*                                                                       */</span>
<span class="line-modified">349   /*    [Since 2.9] If `num_coords&#39; is larger than zero, this function     */</span>
<span class="line-modified">350   /*    sets the @FT_FACE_FLAG_VARIATION bit in @FT_Face&#39;s `face_flags&#39;    */</span>
<span class="line-modified">351   /*    field (i.e., @FT_IS_VARIATION will return true).  If `num_coords&#39;  */</span>
<span class="line-modified">352   /*    is zero, this bit flag gets unset.                                 */</span>
<span class="line-modified">353   /*                                                                       */</span>


354   FT_EXPORT( FT_Error )
355   FT_Set_MM_Design_Coordinates( FT_Face   face,
356                                 FT_UInt   num_coords,
357                                 FT_Long*  coords );
358 
359 
<span class="line-modified">360   /*************************************************************************/</span>
<span class="line-modified">361   /*                                                                       */</span>
<span class="line-modified">362   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">363   /*    FT_Set_Var_Design_Coordinates                                      */</span>
<span class="line-modified">364   /*                                                                       */</span>
<span class="line-modified">365   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">366   /*    Choose an interpolated font design through design coordinates.     */</span>
<span class="line-modified">367   /*                                                                       */</span>
<span class="line-modified">368   /*    This function works with all supported variation formats.          */</span>
<span class="line-modified">369   /*                                                                       */</span>
<span class="line-modified">370   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">371   /*    face       :: A handle to the source face.                         */</span>
<span class="line-modified">372   /*                                                                       */</span>
<span class="line-modified">373   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">374   /*    num_coords :: The number of available design coordinates.  If it   */</span>
<span class="line-modified">375   /*                  is larger than the number of axes, ignore the excess */</span>
<span class="line-modified">376   /*                  values.  If it is smaller than the number of axes,   */</span>
<span class="line-modified">377   /*                  use default values for the remaining axes.           */</span>
<span class="line-modified">378   /*                                                                       */</span>
<span class="line-modified">379   /*    coords     :: An array of design coordinates.                      */</span>
<span class="line-modified">380   /*                                                                       */</span>
<span class="line-modified">381   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">382   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">383   /*                                                                       */</span>
<span class="line-modified">384   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">385   /*    [Since 2.8.1] To reset all axes to the default values, call the    */</span>
<span class="line-modified">386   /*    function with `num_coords&#39; set to zero and `coords&#39; set to NULL.   */</span>
<span class="line-modified">387   /*    [Since 2.9] `Default values&#39; means the currently selected named    */</span>
<span class="line-modified">388   /*    instance (or the base font if no named instance is selected).      */</span>
<span class="line-modified">389   /*                                                                       */</span>
<span class="line-modified">390   /*    [Since 2.9] If `num_coords&#39; is larger than zero, this function     */</span>
<span class="line-modified">391   /*    sets the @FT_FACE_FLAG_VARIATION bit in @FT_Face&#39;s `face_flags&#39;    */</span>
<span class="line-modified">392   /*    field (i.e., @FT_IS_VARIATION will return true).  If `num_coords&#39;  */</span>
<span class="line-modified">393   /*    is zero, this bit flag gets unset.                                 */</span>
<span class="line-modified">394   /*                                                                       */</span>


395   FT_EXPORT( FT_Error )
396   FT_Set_Var_Design_Coordinates( FT_Face    face,
397                                  FT_UInt    num_coords,
398                                  FT_Fixed*  coords );
399 
400 
<span class="line-modified">401   /*************************************************************************/</span>
<span class="line-modified">402   /*                                                                       */</span>
<span class="line-modified">403   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">404   /*    FT_Get_Var_Design_Coordinates                                      */</span>
<span class="line-modified">405   /*                                                                       */</span>
<span class="line-modified">406   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">407   /*    Get the design coordinates of the currently selected interpolated  */</span>
<span class="line-modified">408   /*    font.                                                              */</span>
<span class="line-modified">409   /*                                                                       */</span>
<span class="line-modified">410   /*    This function works with all supported variation formats.          */</span>
<span class="line-modified">411   /*                                                                       */</span>
<span class="line-modified">412   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">413   /*    face       :: A handle to the source face.                         */</span>
<span class="line-modified">414   /*                                                                       */</span>
<span class="line-modified">415   /*    num_coords :: The number of design coordinates to retrieve.  If it */</span>
<span class="line-modified">416   /*                  is larger than the number of axes, set the excess    */</span>
<span class="line-modified">417   /*                  values to~0.                                         */</span>
<span class="line-modified">418   /*                                                                       */</span>
<span class="line-modified">419   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">420   /*    coords     :: The design coordinates array.                        */</span>
<span class="line-modified">421   /*                                                                       */</span>
<span class="line-modified">422   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">423   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">424   /*                                                                       */</span>
<span class="line-modified">425   /* &lt;Since&gt;                                                               */</span>
<span class="line-modified">426   /*    2.7.1                                                              */</span>
<span class="line-modified">427   /*                                                                       */</span>


428   FT_EXPORT( FT_Error )
429   FT_Get_Var_Design_Coordinates( FT_Face    face,
430                                  FT_UInt    num_coords,
431                                  FT_Fixed*  coords );
432 
433 
<span class="line-modified">434   /*************************************************************************/</span>
<span class="line-modified">435   /*                                                                       */</span>
<span class="line-modified">436   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">437   /*    FT_Set_MM_Blend_Coordinates                                        */</span>
<span class="line-modified">438   /*                                                                       */</span>
<span class="line-modified">439   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">440   /*    Choose an interpolated font design through normalized blend        */</span>
<span class="line-modified">441   /*    coordinates.                                                       */</span>
<span class="line-modified">442   /*                                                                       */</span>
<span class="line-modified">443   /*    This function works with all supported variation formats.          */</span>
<span class="line-modified">444   /*                                                                       */</span>
<span class="line-modified">445   /* &lt;InOut&gt;                                                               */</span>
<span class="line-modified">446   /*    face       :: A handle to the source face.                         */</span>
<span class="line-modified">447   /*                                                                       */</span>
<span class="line-modified">448   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">449   /*    num_coords :: The number of available design coordinates.  If it   */</span>
<span class="line-modified">450   /*                  is larger than the number of axes, ignore the excess */</span>
<span class="line-modified">451   /*                  values.  If it is smaller than the number of axes,   */</span>
<span class="line-modified">452   /*                  use default values for the remaining axes.           */</span>
<span class="line-modified">453   /*                                                                       */</span>
<span class="line-modified">454   /*    coords     :: The design coordinates array (each element must be   */</span>
<span class="line-modified">455   /*                  between 0 and 1.0 for Adobe MM fonts, and between    */</span>
<span class="line-modified">456   /*                  -1.0 and 1.0 for TrueType GX and OpenType variation  */</span>
<span class="line-modified">457   /*                  fonts).                                              */</span>
<span class="line-modified">458   /*                                                                       */</span>
<span class="line-modified">459   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">460   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">461   /*                                                                       */</span>
<span class="line-modified">462   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">463   /*    [Since 2.8.1] To reset all axes to the default values, call the    */</span>
<span class="line-modified">464   /*    function with `num_coords&#39; set to zero and `coords&#39; set to NULL.   */</span>
<span class="line-modified">465   /*    [Since 2.9] `Default values&#39; means the currently selected named    */</span>
<span class="line-modified">466   /*    instance (or the base font if no named instance is selected).      */</span>
<span class="line-modified">467   /*                                                                       */</span>
<span class="line-modified">468   /*    [Since 2.9] If `num_coords&#39; is larger than zero, this function     */</span>
<span class="line-modified">469   /*    sets the @FT_FACE_FLAG_VARIATION bit in @FT_Face&#39;s `face_flags&#39;    */</span>
<span class="line-modified">470   /*    field (i.e., @FT_IS_VARIATION will return true).  If `num_coords&#39;  */</span>
<span class="line-modified">471   /*    is zero, this bit flag gets unset.                                 */</span>
<span class="line-modified">472   /*                                                                       */</span>

473   FT_EXPORT( FT_Error )
474   FT_Set_MM_Blend_Coordinates( FT_Face    face,
475                                FT_UInt    num_coords,
476                                FT_Fixed*  coords );
477 
478 
<span class="line-modified">479   /*************************************************************************/</span>
<span class="line-modified">480   /*                                                                       */</span>
<span class="line-modified">481   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">482   /*    FT_Get_MM_Blend_Coordinates                                        */</span>
<span class="line-modified">483   /*                                                                       */</span>
<span class="line-modified">484   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">485   /*    Get the normalized blend coordinates of the currently selected     */</span>
<span class="line-modified">486   /*    interpolated font.                                                 */</span>
<span class="line-modified">487   /*                                                                       */</span>
<span class="line-modified">488   /*    This function works with all supported variation formats.          */</span>
<span class="line-modified">489   /*                                                                       */</span>
<span class="line-modified">490   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">491   /*    face       :: A handle to the source face.                         */</span>
<span class="line-modified">492   /*                                                                       */</span>
<span class="line-modified">493   /*    num_coords :: The number of normalized blend coordinates to        */</span>
<span class="line-modified">494   /*                  retrieve.  If it is larger than the number of axes,  */</span>
<span class="line-modified">495   /*                  set the excess values to~0.5 for Adobe MM fonts, and */</span>
<span class="line-modified">496   /*                  to~0 for TrueType GX and OpenType variation fonts.   */</span>
<span class="line-modified">497   /*                                                                       */</span>
<span class="line-modified">498   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">499   /*    coords     :: The normalized blend coordinates array.              */</span>
<span class="line-modified">500   /*                                                                       */</span>
<span class="line-modified">501   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">502   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">503   /*                                                                       */</span>
<span class="line-modified">504   /* &lt;Since&gt;                                                               */</span>
<span class="line-modified">505   /*    2.7.1                                                              */</span>
<span class="line-modified">506   /*                                                                       */</span>



507   FT_EXPORT( FT_Error )
508   FT_Get_MM_Blend_Coordinates( FT_Face    face,
509                                FT_UInt    num_coords,
510                                FT_Fixed*  coords );
511 
512 
<span class="line-modified">513   /*************************************************************************/</span>
<span class="line-modified">514   /*                                                                       */</span>
<span class="line-modified">515   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">516   /*    FT_Set_Var_Blend_Coordinates                                       */</span>
<span class="line-modified">517   /*                                                                       */</span>
<span class="line-modified">518   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">519   /*    This is another name of @FT_Set_MM_Blend_Coordinates.              */</span>
<span class="line-modified">520   /*                                                                       */</span>
521   FT_EXPORT( FT_Error )
522   FT_Set_Var_Blend_Coordinates( FT_Face    face,
523                                 FT_UInt    num_coords,
524                                 FT_Fixed*  coords );
525 
526 
<span class="line-modified">527   /*************************************************************************/</span>
<span class="line-modified">528   /*                                                                       */</span>
<span class="line-modified">529   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">530   /*    FT_Get_Var_Blend_Coordinates                                       */</span>
<span class="line-modified">531   /*                                                                       */</span>
<span class="line-modified">532   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">533   /*    This is another name of @FT_Get_MM_Blend_Coordinates.              */</span>
<span class="line-modified">534   /*                                                                       */</span>
<span class="line-modified">535   /* &lt;Since&gt;                                                               */</span>
<span class="line-modified">536   /*    2.7.1                                                              */</span>
<span class="line-modified">537   /*                                                                       */</span>
538   FT_EXPORT( FT_Error )
539   FT_Get_Var_Blend_Coordinates( FT_Face    face,
540                                 FT_UInt    num_coords,
541                                 FT_Fixed*  coords );
542 
543 
<span class="line-modified">544   /*************************************************************************/</span>
<span class="line-modified">545   /*                                                                       */</span>
<span class="line-modified">546   /* &lt;Enum&gt;                                                                */</span>
<span class="line-modified">547   /*    FT_VAR_AXIS_FLAG_XXX                                               */</span>
<span class="line-modified">548   /*                                                                       */</span>
<span class="line-modified">549   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">550   /*    A list of bit flags used in the return value of                    */</span>
<span class="line-modified">551   /*    @FT_Get_Var_Axis_Flags.                                            */</span>
<span class="line-modified">552   /*                                                                       */</span>
<span class="line-modified">553   /* &lt;Values&gt;                                                              */</span>
<span class="line-modified">554   /*    FT_VAR_AXIS_FLAG_HIDDEN ::                                         */</span>
<span class="line-modified">555   /*      The variation axis should not be exposed to user interfaces.     */</span>
<span class="line-modified">556   /*                                                                       */</span>
<span class="line-modified">557   /* &lt;Since&gt;                                                               */</span>
<span class="line-modified">558   /*    2.8.1                                                              */</span>
<span class="line-modified">559   /*                                                                       */</span>




























































































560 #define FT_VAR_AXIS_FLAG_HIDDEN  1
561 
562 
<span class="line-modified">563   /*************************************************************************/</span>
<span class="line-modified">564   /*                                                                       */</span>
<span class="line-modified">565   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">566   /*    FT_Get_Var_Axis_Flags                                              */</span>
<span class="line-modified">567   /*                                                                       */</span>
<span class="line-modified">568   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">569   /*    Get the `flags&#39; field of an OpenType Variation Axis Record.        */</span>
<span class="line-modified">570   /*                                                                       */</span>
<span class="line-modified">571   /*    Not meaningful for Adobe MM fonts (`*flags&#39; is always zero).       */</span>
<span class="line-modified">572   /*                                                                       */</span>
<span class="line-modified">573   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">574   /*    master     :: The variation descriptor.                            */</span>
<span class="line-modified">575   /*                                                                       */</span>
<span class="line-modified">576   /*    axis_index :: The index of the requested variation axis.           */</span>
<span class="line-modified">577   /*                                                                       */</span>
<span class="line-modified">578   /* &lt;Output&gt;                                                              */</span>
<span class="line-modified">579   /*    flags      :: The `flags&#39; field.  See @FT_VAR_AXIS_FLAG_XXX for    */</span>
<span class="line-modified">580   /*                  possible values.                                     */</span>
<span class="line-modified">581   /*                                                                       */</span>
<span class="line-modified">582   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">583   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">584   /*                                                                       */</span>
<span class="line-modified">585   /* &lt;Since&gt;                                                               */</span>
<span class="line-modified">586   /*    2.8.1                                                              */</span>
<span class="line-modified">587   /*                                                                       */</span>


588   FT_EXPORT( FT_Error )
589   FT_Get_Var_Axis_Flags( FT_MM_Var*  master,
590                          FT_UInt     axis_index,
591                          FT_UInt*    flags );
592 
593 
<span class="line-modified">594   /*************************************************************************/</span>
<span class="line-modified">595   /*                                                                       */</span>
<span class="line-modified">596   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">597   /*    FT_Set_Named_Instance                                              */</span>
<span class="line-modified">598   /*                                                                       */</span>
<span class="line-modified">599   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">600   /*    Set or change the current named instance.                          */</span>
<span class="line-modified">601   /*                                                                       */</span>
<span class="line-modified">602   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">603   /*    face           :: A handle to the source face.                     */</span>
<span class="line-modified">604   /*                                                                       */</span>
<span class="line-modified">605   /*    instance_index :: The index of the requested instance, starting    */</span>
<span class="line-modified">606   /*                      with value 1.  If set to value 0, FreeType       */</span>
<span class="line-modified">607   /*                      switches to font access without a named          */</span>
<span class="line-modified">608   /*                      instance.                                        */</span>
<span class="line-modified">609   /*                                                                       */</span>
<span class="line-modified">610   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">611   /*    FreeType error code.  0~means success.                             */</span>
<span class="line-modified">612   /*                                                                       */</span>
<span class="line-modified">613   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">614   /*    The function uses the value of `instance_index&#39; to set bits 16-30  */</span>
<span class="line-modified">615   /*    of the face&#39;s `face_index&#39; field.  It also resets any variation    */</span>
<span class="line-modified">616   /*    applied to the font, and the @FT_FACE_FLAG_VARIATION bit of the    */</span>
<span class="line-modified">617   /*    face&#39;s `face_flags&#39; field gets reset to zero (i.e.,                */</span>
<span class="line-modified">618   /*    @FT_IS_VARIATION will return false).                               */</span>
<span class="line-modified">619   /*                                                                       */</span>
<span class="line-modified">620   /*    For Adobe MM fonts (which don&#39;t have named instances) this         */</span>
<span class="line-modified">621   /*    function simply resets the current face to the default instance.   */</span>
<span class="line-modified">622   /*                                                                       */</span>
<span class="line-modified">623   /* &lt;Since&gt;                                                               */</span>
<span class="line-modified">624   /*    2.9                                                                */</span>
<span class="line-modified">625   /*                                                                       */</span>

626   FT_EXPORT( FT_Error )
627   FT_Set_Named_Instance( FT_Face  face,
628                          FT_UInt  instance_index );
629 
630   /* */
631 
632 
633 FT_END_HEADER
634 
635 #endif /* FTMM_H_ */
636 
637 
638 /* END */
</pre>
</td>
<td>
<hr />
<pre>
<span class="line-modified">  1 /****************************************************************************</span>
<span class="line-modified">  2  *</span>
<span class="line-modified">  3  * ftmm.h</span>
<span class="line-modified">  4  *</span>
<span class="line-modified">  5  *   FreeType Multiple Master font interface (specification).</span>
<span class="line-modified">  6  *</span>
<span class="line-modified">  7  * Copyright (C) 1996-2019 by</span>
<span class="line-modified">  8  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified">  9  *</span>
<span class="line-modified"> 10  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified"> 11  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified"> 12  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified"> 13  * this file you indicate that you have read the license and</span>
<span class="line-modified"> 14  * understand and accept it fully.</span>
<span class="line-modified"> 15  *</span>
<span class="line-modified"> 16  */</span>
 17 
 18 
 19 #ifndef FTMM_H_
 20 #define FTMM_H_
 21 
 22 
 23 #include &lt;ft2build.h&gt;
 24 #include FT_TYPE1_TABLES_H
 25 
 26 
 27 FT_BEGIN_HEADER
 28 
 29 
<span class="line-modified"> 30   /**************************************************************************</span>
<span class="line-modified"> 31    *</span>
<span class="line-modified"> 32    * @section:</span>
<span class="line-modified"> 33    *   multiple_masters</span>
<span class="line-modified"> 34    *</span>
<span class="line-modified"> 35    * @title:</span>
<span class="line-modified"> 36    *   Multiple Masters</span>
<span class="line-modified"> 37    *</span>
<span class="line-modified"> 38    * @abstract:</span>
<span class="line-modified"> 39    *   How to manage Multiple Masters fonts.</span>
<span class="line-modified"> 40    *</span>
<span class="line-modified"> 41    * @description:</span>
<span class="line-modified"> 42    *   The following types and functions are used to manage Multiple Master</span>
<span class="line-modified"> 43    *   fonts, i.e., the selection of specific design instances by setting</span>
<span class="line-modified"> 44    *   design axis coordinates.</span>
<span class="line-modified"> 45    *</span>
<span class="line-modified"> 46    *   Besides Adobe MM fonts, the interface supports Apple&#39;s TrueType GX and</span>
<span class="line-modified"> 47    *   OpenType variation fonts.  Some of the routines only work with Adobe</span>
<span class="line-modified"> 48    *   MM fonts, others will work with all three types.  They are similar</span>
<span class="line-modified"> 49    *   enough that a consistent interface makes sense.</span>
<span class="line-modified"> 50    *</span>
<span class="line-modified"> 51    */</span>
<span class="line-modified"> 52 </span>
<span class="line-modified"> 53 </span>
<span class="line-modified"> 54   /**************************************************************************</span>
<span class="line-modified"> 55    *</span>
<span class="line-modified"> 56    * @struct:</span>
<span class="line-modified"> 57    *   FT_MM_Axis</span>
<span class="line-modified"> 58    *</span>
<span class="line-modified"> 59    * @description:</span>
<span class="line-modified"> 60    *   A structure to model a given axis in design space for Multiple Masters</span>
<span class="line-modified"> 61    *   fonts.</span>
<span class="line-modified"> 62    *</span>
<span class="line-modified"> 63    *   This structure can&#39;t be used for TrueType GX or OpenType variation</span>
<span class="line-modified"> 64    *   fonts.</span>
<span class="line-modified"> 65    *</span>
<span class="line-modified"> 66    * @fields:</span>
<span class="line-modified"> 67    *   name ::</span>
<span class="line-modified"> 68    *     The axis&#39;s name.</span>
<span class="line-modified"> 69    *</span>
<span class="line-modified"> 70    *   minimum ::</span>
<span class="line-modified"> 71    *     The axis&#39;s minimum design coordinate.</span>
<span class="line-modified"> 72    *</span>
<span class="line-added"> 73    *   maximum ::</span>
<span class="line-added"> 74    *     The axis&#39;s maximum design coordinate.</span>
<span class="line-added"> 75    */</span>
 76   typedef struct  FT_MM_Axis_
 77   {
 78     FT_String*  name;
 79     FT_Long     minimum;
 80     FT_Long     maximum;
 81 
 82   } FT_MM_Axis;
 83 
 84 
<span class="line-modified"> 85   /**************************************************************************</span>
<span class="line-modified"> 86    *</span>
<span class="line-modified"> 87    * @struct:</span>
<span class="line-modified"> 88    *   FT_Multi_Master</span>
<span class="line-modified"> 89    *</span>
<span class="line-modified"> 90    * @description:</span>
<span class="line-modified"> 91    *   A structure to model the axes and space of a Multiple Masters font.</span>
<span class="line-modified"> 92    *</span>
<span class="line-modified"> 93    *   This structure can&#39;t be used for TrueType GX or OpenType variation</span>
<span class="line-modified"> 94    *   fonts.</span>
<span class="line-modified"> 95    *</span>
<span class="line-modified"> 96    * @fields:</span>
<span class="line-modified"> 97    *   num_axis ::</span>
<span class="line-modified"> 98    *     Number of axes.  Cannot exceed~4.</span>
<span class="line-modified"> 99    *</span>
<span class="line-modified">100    *   num_designs ::</span>
<span class="line-modified">101    *     Number of designs; should be normally 2^num_axis even though the</span>
<span class="line-modified">102    *     Type~1 specification strangely allows for intermediate designs to be</span>
<span class="line-modified">103    *     present.  This number cannot exceed~16.</span>
<span class="line-modified">104    *</span>
<span class="line-modified">105    *   axis ::</span>
<span class="line-modified">106    *     A table of axis descriptors.</span>
<span class="line-added">107    */</span>
108   typedef struct  FT_Multi_Master_
109   {
110     FT_UInt     num_axis;
111     FT_UInt     num_designs;
112     FT_MM_Axis  axis[T1_MAX_MM_AXIS];
113 
114   } FT_Multi_Master;
115 
116 
<span class="line-modified">117   /**************************************************************************</span>
<span class="line-modified">118    *</span>
<span class="line-modified">119    * @struct:</span>
<span class="line-modified">120    *   FT_Var_Axis</span>
<span class="line-modified">121    *</span>
<span class="line-modified">122    * @description:</span>
<span class="line-modified">123    *   A structure to model a given axis in design space for Multiple</span>
<span class="line-modified">124    *   Masters, TrueType GX, and OpenType variation fonts.</span>
<span class="line-modified">125    *</span>
<span class="line-modified">126    * @fields:</span>
<span class="line-modified">127    *   name ::</span>
<span class="line-modified">128    *     The axis&#39;s name.  Not always meaningful for TrueType GX or OpenType</span>
<span class="line-modified">129    *     variation fonts.</span>
<span class="line-modified">130    *</span>
<span class="line-modified">131    *   minimum ::</span>
<span class="line-modified">132    *     The axis&#39;s minimum design coordinate.</span>
<span class="line-modified">133    *</span>
<span class="line-modified">134    *   def ::</span>
<span class="line-modified">135    *     The axis&#39;s default design coordinate.  FreeType computes meaningful</span>
<span class="line-modified">136    *     default values for Adobe MM fonts.</span>
<span class="line-modified">137    *</span>
<span class="line-modified">138    *   maximum ::</span>
<span class="line-modified">139    *     The axis&#39;s maximum design coordinate.</span>
<span class="line-modified">140    *</span>
<span class="line-modified">141    *   tag ::</span>
<span class="line-modified">142    *     The axis&#39;s tag (the equivalent to &#39;name&#39; for TrueType GX and</span>
<span class="line-modified">143    *     OpenType variation fonts).  FreeType provides default values for</span>
<span class="line-modified">144    *     Adobe MM fonts if possible.</span>
<span class="line-modified">145    *</span>
<span class="line-modified">146    *   strid ::</span>
<span class="line-modified">147    *     The axis name entry in the font&#39;s &#39;name&#39; table.  This is another</span>
<span class="line-modified">148    *     (and often better) version of the &#39;name&#39; field for TrueType GX or</span>
<span class="line-modified">149    *     OpenType variation fonts.  Not meaningful for Adobe MM fonts.</span>
<span class="line-modified">150    *</span>
<span class="line-modified">151    * @note:</span>
<span class="line-modified">152    *   The fields `minimum`, `def`, and `maximum` are 16.16 fractional values</span>
<span class="line-added">153    *   for TrueType GX and OpenType variation fonts.  For Adobe MM fonts, the</span>
<span class="line-added">154    *   values are integers.</span>
<span class="line-added">155    */</span>
156   typedef struct  FT_Var_Axis_
157   {
158     FT_String*  name;
159 
160     FT_Fixed    minimum;
161     FT_Fixed    def;
162     FT_Fixed    maximum;
163 
164     FT_ULong    tag;
165     FT_UInt     strid;
166 
167   } FT_Var_Axis;
168 
169 
<span class="line-modified">170   /**************************************************************************</span>
<span class="line-modified">171    *</span>
<span class="line-modified">172    * @struct:</span>
<span class="line-modified">173    *   FT_Var_Named_Style</span>
<span class="line-modified">174    *</span>
<span class="line-modified">175    * @description:</span>
<span class="line-modified">176    *   A structure to model a named instance in a TrueType GX or OpenType</span>
<span class="line-modified">177    *   variation font.</span>
<span class="line-modified">178    *</span>
<span class="line-modified">179    *   This structure can&#39;t be used for Adobe MM fonts.</span>
<span class="line-modified">180    *</span>
<span class="line-modified">181    * @fields:</span>
<span class="line-modified">182    *   coords ::</span>
<span class="line-modified">183    *     The design coordinates for this instance.  This is an array with one</span>
<span class="line-modified">184    *     entry for each axis.</span>
<span class="line-modified">185    *</span>
<span class="line-modified">186    *   strid ::</span>
<span class="line-modified">187    *     The entry in &#39;name&#39; table identifying this instance.</span>
<span class="line-modified">188    *</span>
<span class="line-modified">189    *   psid ::</span>
<span class="line-modified">190    *     The entry in &#39;name&#39; table identifying a PostScript name for this</span>
<span class="line-added">191    *     instance.  Value 0xFFFF indicates a missing entry.</span>
<span class="line-added">192    */</span>
193   typedef struct  FT_Var_Named_Style_
194   {
195     FT_Fixed*  coords;
196     FT_UInt    strid;
197     FT_UInt    psid;   /* since 2.7.1 */
198 
199   } FT_Var_Named_Style;
200 
201 
<span class="line-modified">202   /**************************************************************************</span>
<span class="line-modified">203    *</span>
<span class="line-modified">204    * @struct:</span>
<span class="line-modified">205    *   FT_MM_Var</span>
<span class="line-modified">206    *</span>
<span class="line-modified">207    * @description:</span>
<span class="line-modified">208    *   A structure to model the axes and space of an Adobe MM, TrueType GX,</span>
<span class="line-modified">209    *   or OpenType variation font.</span>
<span class="line-modified">210    *</span>
<span class="line-modified">211    *   Some fields are specific to one format and not to the others.</span>
<span class="line-modified">212    *</span>
<span class="line-modified">213    * @fields:</span>
<span class="line-modified">214    *   num_axis ::</span>
<span class="line-modified">215    *     The number of axes.  The maximum value is~4 for Adobe MM fonts; no</span>
<span class="line-modified">216    *     limit in TrueType GX or OpenType variation fonts.</span>
<span class="line-modified">217    *</span>
<span class="line-modified">218    *   num_designs ::</span>
<span class="line-modified">219    *     The number of designs; should be normally 2^num_axis for Adobe MM</span>
<span class="line-modified">220    *     fonts.  Not meaningful for TrueType GX or OpenType variation fonts</span>
<span class="line-modified">221    *     (where every glyph could have a different number of designs).</span>
<span class="line-modified">222    *</span>
<span class="line-modified">223    *   num_namedstyles ::</span>
<span class="line-modified">224    *     The number of named styles; a &#39;named style&#39; is a tuple of design</span>
<span class="line-modified">225    *     coordinates that has a string ID (in the &#39;name&#39; table) associated</span>
<span class="line-modified">226    *     with it.  The font can tell the user that, for example,</span>
<span class="line-modified">227    *     [Weight=1.5,Width=1.1] is &#39;Bold&#39;.  Another name for &#39;named style&#39; is</span>
<span class="line-modified">228    *     &#39;named instance&#39;.</span>
<span class="line-modified">229    *</span>
<span class="line-modified">230    *     For Adobe Multiple Masters fonts, this value is always zero because</span>
<span class="line-modified">231    *     the format does not support named styles.</span>
<span class="line-modified">232    *</span>
<span class="line-modified">233    *   axis ::</span>
<span class="line-modified">234    *     An axis descriptor table.  TrueType GX and OpenType variation fonts</span>
<span class="line-modified">235    *     contain slightly more data than Adobe MM fonts.  Memory management</span>
<span class="line-modified">236    *     of this pointer is done internally by FreeType.</span>
<span class="line-modified">237    *</span>
<span class="line-modified">238    *   namedstyle ::</span>
<span class="line-modified">239    *     A named style (instance) table.  Only meaningful for TrueType GX and</span>
<span class="line-modified">240    *     OpenType variation fonts.  Memory management of this pointer is done</span>
<span class="line-modified">241    *     internally by FreeType.</span>
<span class="line-modified">242    */</span>



243   typedef struct  FT_MM_Var_
244   {
245     FT_UInt              num_axis;
246     FT_UInt              num_designs;
247     FT_UInt              num_namedstyles;
248     FT_Var_Axis*         axis;
249     FT_Var_Named_Style*  namedstyle;
250 
251   } FT_MM_Var;
252 
253 
<span class="line-modified">254   /**************************************************************************</span>
<span class="line-modified">255    *</span>
<span class="line-modified">256    * @function:</span>
<span class="line-modified">257    *   FT_Get_Multi_Master</span>
<span class="line-modified">258    *</span>
<span class="line-modified">259    * @description:</span>
<span class="line-modified">260    *   Retrieve a variation descriptor of a given Adobe MM font.</span>
<span class="line-modified">261    *</span>
<span class="line-modified">262    *   This function can&#39;t be used with TrueType GX or OpenType variation</span>
<span class="line-modified">263    *   fonts.</span>
<span class="line-modified">264    *</span>
<span class="line-modified">265    * @input:</span>
<span class="line-modified">266    *   face ::</span>
<span class="line-modified">267    *     A handle to the source face.</span>
<span class="line-modified">268    *</span>
<span class="line-modified">269    * @output:</span>
<span class="line-modified">270    *   amaster ::</span>
<span class="line-modified">271    *     The Multiple Masters descriptor.</span>
<span class="line-modified">272    *</span>
<span class="line-modified">273    * @return:</span>
<span class="line-added">274    *   FreeType error code.  0~means success.</span>
<span class="line-added">275    */</span>
276   FT_EXPORT( FT_Error )
277   FT_Get_Multi_Master( FT_Face           face,
278                        FT_Multi_Master  *amaster );
279 
280 
<span class="line-modified">281   /**************************************************************************</span>
<span class="line-modified">282    *</span>
<span class="line-modified">283    * @function:</span>
<span class="line-modified">284    *   FT_Get_MM_Var</span>
<span class="line-modified">285    *</span>
<span class="line-modified">286    * @description:</span>
<span class="line-modified">287    *   Retrieve a variation descriptor for a given font.</span>
<span class="line-modified">288    *</span>
<span class="line-modified">289    *   This function works with all supported variation formats.</span>
<span class="line-modified">290    *</span>
<span class="line-modified">291    * @input:</span>
<span class="line-modified">292    *   face ::</span>
<span class="line-modified">293    *     A handle to the source face.</span>
<span class="line-modified">294    *</span>
<span class="line-modified">295    * @output:</span>
<span class="line-modified">296    *   amaster ::</span>
<span class="line-modified">297    *     The variation descriptor.  Allocates a data structure, which the</span>
<span class="line-modified">298    *     user must deallocate with a call to @FT_Done_MM_Var after use.</span>
<span class="line-modified">299    *</span>
<span class="line-modified">300    * @return:</span>
<span class="line-modified">301    *   FreeType error code.  0~means success.</span>
<span class="line-added">302    */</span>
303   FT_EXPORT( FT_Error )
304   FT_Get_MM_Var( FT_Face      face,
305                  FT_MM_Var*  *amaster );
306 
307 
<span class="line-modified">308   /**************************************************************************</span>
<span class="line-modified">309    *</span>
<span class="line-modified">310    * @function:</span>
<span class="line-modified">311    *   FT_Done_MM_Var</span>
<span class="line-modified">312    *</span>
<span class="line-modified">313    * @description:</span>
<span class="line-modified">314    *   Free the memory allocated by @FT_Get_MM_Var.</span>
<span class="line-modified">315    *</span>
<span class="line-modified">316    * @input:</span>
<span class="line-modified">317    *   library ::</span>
<span class="line-modified">318    *     A handle of the face&#39;s parent library object that was used in the</span>
<span class="line-modified">319    *     call to @FT_Get_MM_Var to create `amaster`.</span>
<span class="line-modified">320    *</span>
<span class="line-modified">321    * @return:</span>
<span class="line-modified">322    *   FreeType error code.  0~means success.</span>
<span class="line-added">323    */</span>
324   FT_EXPORT( FT_Error )
325   FT_Done_MM_Var( FT_Library   library,
326                   FT_MM_Var   *amaster );
327 
328 
<span class="line-modified">329   /**************************************************************************</span>
<span class="line-modified">330    *</span>
<span class="line-modified">331    * @function:</span>
<span class="line-modified">332    *   FT_Set_MM_Design_Coordinates</span>
<span class="line-modified">333    *</span>
<span class="line-modified">334    * @description:</span>
<span class="line-modified">335    *   For Adobe MM fonts, choose an interpolated font design through design</span>
<span class="line-modified">336    *   coordinates.</span>
<span class="line-modified">337    *</span>
<span class="line-modified">338    *   This function can&#39;t be used with TrueType GX or OpenType variation</span>
<span class="line-modified">339    *   fonts.</span>
<span class="line-modified">340    *</span>
<span class="line-modified">341    * @inout:</span>
<span class="line-modified">342    *   face ::</span>
<span class="line-modified">343    *     A handle to the source face.</span>
<span class="line-modified">344    *</span>
<span class="line-modified">345    * @input:</span>
<span class="line-modified">346    *   num_coords ::</span>
<span class="line-modified">347    *     The number of available design coordinates.  If it is larger than</span>
<span class="line-modified">348    *     the number of axes, ignore the excess values.  If it is smaller than</span>
<span class="line-modified">349    *     the number of axes, use default values for the remaining axes.</span>
<span class="line-modified">350    *</span>
<span class="line-modified">351    *   coords ::</span>
<span class="line-modified">352    *     An array of design coordinates.</span>
<span class="line-modified">353    *</span>
<span class="line-modified">354    * @return:</span>
<span class="line-modified">355    *   FreeType error code.  0~means success.</span>
<span class="line-modified">356    *</span>
<span class="line-modified">357    * @note:</span>
<span class="line-modified">358    *   [Since 2.8.1] To reset all axes to the default values, call the</span>
<span class="line-modified">359    *   function with `num_coords` set to zero and `coords` set to `NULL`.</span>
<span class="line-modified">360    *</span>
<span class="line-modified">361    *   [Since 2.9] If `num_coords` is larger than zero, this function sets</span>
<span class="line-modified">362    *   the @FT_FACE_FLAG_VARIATION bit in @FT_Face&#39;s `face_flags` field</span>
<span class="line-modified">363    *   (i.e., @FT_IS_VARIATION will return true).  If `num_coords` is zero,</span>
<span class="line-added">364    *   this bit flag gets unset.</span>
<span class="line-added">365    */</span>
366   FT_EXPORT( FT_Error )
367   FT_Set_MM_Design_Coordinates( FT_Face   face,
368                                 FT_UInt   num_coords,
369                                 FT_Long*  coords );
370 
371 
<span class="line-modified">372   /**************************************************************************</span>
<span class="line-modified">373    *</span>
<span class="line-modified">374    * @function:</span>
<span class="line-modified">375    *   FT_Set_Var_Design_Coordinates</span>
<span class="line-modified">376    *</span>
<span class="line-modified">377    * @description:</span>
<span class="line-modified">378    *   Choose an interpolated font design through design coordinates.</span>
<span class="line-modified">379    *</span>
<span class="line-modified">380    *   This function works with all supported variation formats.</span>
<span class="line-modified">381    *</span>
<span class="line-modified">382    * @inout:</span>
<span class="line-modified">383    *   face ::</span>
<span class="line-modified">384    *     A handle to the source face.</span>
<span class="line-modified">385    *</span>
<span class="line-modified">386    * @input:</span>
<span class="line-modified">387    *   num_coords ::</span>
<span class="line-modified">388    *     The number of available design coordinates.  If it is larger than</span>
<span class="line-modified">389    *     the number of axes, ignore the excess values.  If it is smaller than</span>
<span class="line-modified">390    *     the number of axes, use default values for the remaining axes.</span>
<span class="line-modified">391    *</span>
<span class="line-modified">392    *   coords ::</span>
<span class="line-modified">393    *     An array of design coordinates.</span>
<span class="line-modified">394    *</span>
<span class="line-modified">395    * @return:</span>
<span class="line-modified">396    *   FreeType error code.  0~means success.</span>
<span class="line-modified">397    *</span>
<span class="line-modified">398    * @note:</span>
<span class="line-modified">399    *   [Since 2.8.1] To reset all axes to the default values, call the</span>
<span class="line-modified">400    *   function with `num_coords` set to zero and `coords` set to `NULL`.</span>
<span class="line-modified">401    *   [Since 2.9] &#39;Default values&#39; means the currently selected named</span>
<span class="line-modified">402    *   instance (or the base font if no named instance is selected).</span>
<span class="line-modified">403    *</span>
<span class="line-modified">404    *   [Since 2.9] If `num_coords` is larger than zero, this function sets</span>
<span class="line-modified">405    *   the @FT_FACE_FLAG_VARIATION bit in @FT_Face&#39;s `face_flags` field</span>
<span class="line-modified">406    *   (i.e., @FT_IS_VARIATION will return true).  If `num_coords` is zero,</span>
<span class="line-added">407    *   this bit flag gets unset.</span>
<span class="line-added">408    */</span>
409   FT_EXPORT( FT_Error )
410   FT_Set_Var_Design_Coordinates( FT_Face    face,
411                                  FT_UInt    num_coords,
412                                  FT_Fixed*  coords );
413 
414 
<span class="line-modified">415   /**************************************************************************</span>
<span class="line-modified">416    *</span>
<span class="line-modified">417    * @function:</span>
<span class="line-modified">418    *   FT_Get_Var_Design_Coordinates</span>
<span class="line-modified">419    *</span>
<span class="line-modified">420    * @description:</span>
<span class="line-modified">421    *   Get the design coordinates of the currently selected interpolated</span>
<span class="line-modified">422    *   font.</span>
<span class="line-modified">423    *</span>
<span class="line-modified">424    *   This function works with all supported variation formats.</span>
<span class="line-modified">425    *</span>
<span class="line-modified">426    * @input:</span>
<span class="line-modified">427    *   face ::</span>
<span class="line-modified">428    *     A handle to the source face.</span>
<span class="line-modified">429    *</span>
<span class="line-modified">430    *   num_coords ::</span>
<span class="line-modified">431    *     The number of design coordinates to retrieve.  If it is larger than</span>
<span class="line-modified">432    *     the number of axes, set the excess values to~0.</span>
<span class="line-modified">433    *</span>
<span class="line-modified">434    * @output:</span>
<span class="line-modified">435    *   coords ::</span>
<span class="line-modified">436    *     The design coordinates array.</span>
<span class="line-modified">437    *</span>
<span class="line-modified">438    * @return:</span>
<span class="line-modified">439    *   FreeType error code.  0~means success.</span>
<span class="line-modified">440    *</span>
<span class="line-modified">441    * @since:</span>
<span class="line-added">442    *   2.7.1</span>
<span class="line-added">443    */</span>
444   FT_EXPORT( FT_Error )
445   FT_Get_Var_Design_Coordinates( FT_Face    face,
446                                  FT_UInt    num_coords,
447                                  FT_Fixed*  coords );
448 
449 
<span class="line-modified">450   /**************************************************************************</span>
<span class="line-modified">451    *</span>
<span class="line-modified">452    * @function:</span>
<span class="line-modified">453    *   FT_Set_MM_Blend_Coordinates</span>
<span class="line-modified">454    *</span>
<span class="line-modified">455    * @description:</span>
<span class="line-modified">456    *   Choose an interpolated font design through normalized blend</span>
<span class="line-modified">457    *   coordinates.</span>
<span class="line-modified">458    *</span>
<span class="line-modified">459    *   This function works with all supported variation formats.</span>
<span class="line-modified">460    *</span>
<span class="line-modified">461    * @inout:</span>
<span class="line-modified">462    *   face ::</span>
<span class="line-modified">463    *     A handle to the source face.</span>
<span class="line-modified">464    *</span>
<span class="line-modified">465    * @input:</span>
<span class="line-modified">466    *   num_coords ::</span>
<span class="line-modified">467    *     The number of available design coordinates.  If it is larger than</span>
<span class="line-modified">468    *     the number of axes, ignore the excess values.  If it is smaller than</span>
<span class="line-modified">469    *     the number of axes, use default values for the remaining axes.</span>
<span class="line-modified">470    *</span>
<span class="line-modified">471    *   coords ::</span>
<span class="line-modified">472    *     The design coordinates array (each element must be between 0 and 1.0</span>
<span class="line-modified">473    *     for Adobe MM fonts, and between -1.0 and 1.0 for TrueType GX and</span>
<span class="line-modified">474    *     OpenType variation fonts).</span>
<span class="line-modified">475    *</span>
<span class="line-modified">476    * @return:</span>
<span class="line-modified">477    *   FreeType error code.  0~means success.</span>
<span class="line-modified">478    *</span>
<span class="line-modified">479    * @note:</span>
<span class="line-modified">480    *   [Since 2.8.1] To reset all axes to the default values, call the</span>
<span class="line-modified">481    *   function with `num_coords` set to zero and `coords` set to `NULL`.</span>
<span class="line-modified">482    *   [Since 2.9] &#39;Default values&#39; means the currently selected named</span>
<span class="line-modified">483    *   instance (or the base font if no named instance is selected).</span>
<span class="line-modified">484    *</span>
<span class="line-modified">485    *   [Since 2.9] If `num_coords` is larger than zero, this function sets</span>
<span class="line-modified">486    *   the @FT_FACE_FLAG_VARIATION bit in @FT_Face&#39;s `face_flags` field</span>
<span class="line-modified">487    *   (i.e., @FT_IS_VARIATION will return true).  If `num_coords` is zero,</span>
<span class="line-modified">488    *   this bit flag gets unset.</span>
<span class="line-added">489    */</span>
490   FT_EXPORT( FT_Error )
491   FT_Set_MM_Blend_Coordinates( FT_Face    face,
492                                FT_UInt    num_coords,
493                                FT_Fixed*  coords );
494 
495 
<span class="line-modified">496   /**************************************************************************</span>
<span class="line-modified">497    *</span>
<span class="line-modified">498    * @function:</span>
<span class="line-modified">499    *   FT_Get_MM_Blend_Coordinates</span>
<span class="line-modified">500    *</span>
<span class="line-modified">501    * @description:</span>
<span class="line-modified">502    *   Get the normalized blend coordinates of the currently selected</span>
<span class="line-modified">503    *   interpolated font.</span>
<span class="line-modified">504    *</span>
<span class="line-modified">505    *   This function works with all supported variation formats.</span>
<span class="line-modified">506    *</span>
<span class="line-modified">507    * @input:</span>
<span class="line-modified">508    *   face ::</span>
<span class="line-modified">509    *     A handle to the source face.</span>
<span class="line-modified">510    *</span>
<span class="line-modified">511    *   num_coords ::</span>
<span class="line-modified">512    *     The number of normalized blend coordinates to retrieve.  If it is</span>
<span class="line-modified">513    *     larger than the number of axes, set the excess values to~0.5 for</span>
<span class="line-modified">514    *     Adobe MM fonts, and to~0 for TrueType GX and OpenType variation</span>
<span class="line-modified">515    *     fonts.</span>
<span class="line-modified">516    *</span>
<span class="line-modified">517    * @output:</span>
<span class="line-modified">518    *   coords ::</span>
<span class="line-modified">519    *     The normalized blend coordinates array.</span>
<span class="line-modified">520    *</span>
<span class="line-modified">521    * @return:</span>
<span class="line-modified">522    *   FreeType error code.  0~means success.</span>
<span class="line-modified">523    *</span>
<span class="line-added">524    * @since:</span>
<span class="line-added">525    *   2.7.1</span>
<span class="line-added">526    */</span>
527   FT_EXPORT( FT_Error )
528   FT_Get_MM_Blend_Coordinates( FT_Face    face,
529                                FT_UInt    num_coords,
530                                FT_Fixed*  coords );
531 
532 
<span class="line-modified">533   /**************************************************************************</span>
<span class="line-modified">534    *</span>
<span class="line-modified">535    * @function:</span>
<span class="line-modified">536    *   FT_Set_Var_Blend_Coordinates</span>
<span class="line-modified">537    *</span>
<span class="line-modified">538    * @description:</span>
<span class="line-modified">539    *   This is another name of @FT_Set_MM_Blend_Coordinates.</span>
<span class="line-modified">540    */</span>
541   FT_EXPORT( FT_Error )
542   FT_Set_Var_Blend_Coordinates( FT_Face    face,
543                                 FT_UInt    num_coords,
544                                 FT_Fixed*  coords );
545 
546 
<span class="line-modified">547   /**************************************************************************</span>
<span class="line-modified">548    *</span>
<span class="line-modified">549    * @function:</span>
<span class="line-modified">550    *   FT_Get_Var_Blend_Coordinates</span>
<span class="line-modified">551    *</span>
<span class="line-modified">552    * @description:</span>
<span class="line-modified">553    *   This is another name of @FT_Get_MM_Blend_Coordinates.</span>
<span class="line-modified">554    *</span>
<span class="line-modified">555    * @since:</span>
<span class="line-modified">556    *   2.7.1</span>
<span class="line-modified">557    */</span>
558   FT_EXPORT( FT_Error )
559   FT_Get_Var_Blend_Coordinates( FT_Face    face,
560                                 FT_UInt    num_coords,
561                                 FT_Fixed*  coords );
562 
563 
<span class="line-modified">564   /**************************************************************************</span>
<span class="line-modified">565    *</span>
<span class="line-modified">566    * @function:</span>
<span class="line-modified">567    *   FT_Set_MM_WeightVector</span>
<span class="line-modified">568    *</span>
<span class="line-modified">569    * @description:</span>
<span class="line-modified">570    *   For Adobe MM fonts, choose an interpolated font design by directly</span>
<span class="line-modified">571    *   setting the weight vector.</span>
<span class="line-modified">572    *</span>
<span class="line-modified">573    *   This function can&#39;t be used with TrueType GX or OpenType variation</span>
<span class="line-modified">574    *   fonts.</span>
<span class="line-modified">575    *</span>
<span class="line-modified">576    * @inout:</span>
<span class="line-modified">577    *   face ::</span>
<span class="line-modified">578    *     A handle to the source face.</span>
<span class="line-modified">579    *</span>
<span class="line-added">580    * @input:</span>
<span class="line-added">581    *   len ::</span>
<span class="line-added">582    *     The length of the weight vector array.  If it is larger than the</span>
<span class="line-added">583    *     number of designs, the extra values are ignored.  If it is less than</span>
<span class="line-added">584    *     the number of designs, the remaining values are set to zero.</span>
<span class="line-added">585    *</span>
<span class="line-added">586    *   weightvector ::</span>
<span class="line-added">587    *     An array representing the weight vector.</span>
<span class="line-added">588    *</span>
<span class="line-added">589    * @return:</span>
<span class="line-added">590    *   FreeType error code.  0~means success.</span>
<span class="line-added">591    *</span>
<span class="line-added">592    * @note:</span>
<span class="line-added">593    *   Adobe Multiple Master fonts limit the number of designs, and thus the</span>
<span class="line-added">594    *   length of the weight vector to~16.</span>
<span class="line-added">595    *</span>
<span class="line-added">596    *   If `len` is zero and `weightvector` is `NULL`, the weight vector array</span>
<span class="line-added">597    *   is reset to the default values.</span>
<span class="line-added">598    *</span>
<span class="line-added">599    *   The Adobe documentation also states that the values in the</span>
<span class="line-added">600    *   WeightVector array must total 1.0 +/-~0.001.  In practice this does</span>
<span class="line-added">601    *   not seem to be enforced, so is not enforced here, either.</span>
<span class="line-added">602    *</span>
<span class="line-added">603    * @since:</span>
<span class="line-added">604    *   2.10</span>
<span class="line-added">605    */</span>
<span class="line-added">606   FT_EXPORT( FT_Error )</span>
<span class="line-added">607   FT_Set_MM_WeightVector( FT_Face    face,</span>
<span class="line-added">608                           FT_UInt    len,</span>
<span class="line-added">609                           FT_Fixed*  weightvector );</span>
<span class="line-added">610 </span>
<span class="line-added">611 </span>
<span class="line-added">612   /**************************************************************************</span>
<span class="line-added">613    *</span>
<span class="line-added">614    * @function:</span>
<span class="line-added">615    *   FT_Get_MM_WeightVector</span>
<span class="line-added">616    *</span>
<span class="line-added">617    * @description:</span>
<span class="line-added">618    *   For Adobe MM fonts, retrieve the current weight vector of the font.</span>
<span class="line-added">619    *</span>
<span class="line-added">620    *   This function can&#39;t be used with TrueType GX or OpenType variation</span>
<span class="line-added">621    *   fonts.</span>
<span class="line-added">622    *</span>
<span class="line-added">623    * @inout:</span>
<span class="line-added">624    *   face ::</span>
<span class="line-added">625    *     A handle to the source face.</span>
<span class="line-added">626    *</span>
<span class="line-added">627    *   len ::</span>
<span class="line-added">628    *     A pointer to the size of the array to be filled.  If the size of the</span>
<span class="line-added">629    *     array is less than the number of designs, `FT_Err_Invalid_Argument`</span>
<span class="line-added">630    *     is returned, and `len` is set to the required size (the number of</span>
<span class="line-added">631    *     designs).  If the size of the array is greater than the number of</span>
<span class="line-added">632    *     designs, the remaining entries are set to~0.  On successful</span>
<span class="line-added">633    *     completion, `len` is set to the number of designs (i.e., the number</span>
<span class="line-added">634    *     of values written to the array).</span>
<span class="line-added">635    *</span>
<span class="line-added">636    * @output:</span>
<span class="line-added">637    *   weightvector ::</span>
<span class="line-added">638    *     An array to be filled.</span>
<span class="line-added">639    *</span>
<span class="line-added">640    * @return:</span>
<span class="line-added">641    *   FreeType error code.  0~means success.</span>
<span class="line-added">642    *</span>
<span class="line-added">643    * @note:</span>
<span class="line-added">644    *   Adobe Multiple Master fonts limit the number of designs, and thus the</span>
<span class="line-added">645    *   length of the WeightVector to~16.</span>
<span class="line-added">646    *</span>
<span class="line-added">647    * @since:</span>
<span class="line-added">648    *   2.10</span>
<span class="line-added">649    */</span>
<span class="line-added">650   FT_EXPORT( FT_Error )</span>
<span class="line-added">651   FT_Get_MM_WeightVector( FT_Face    face,</span>
<span class="line-added">652                           FT_UInt*   len,</span>
<span class="line-added">653                           FT_Fixed*  weightvector );</span>
<span class="line-added">654 </span>
<span class="line-added">655 </span>
<span class="line-added">656   /**************************************************************************</span>
<span class="line-added">657    *</span>
<span class="line-added">658    * @enum:</span>
<span class="line-added">659    *   FT_VAR_AXIS_FLAG_XXX</span>
<span class="line-added">660    *</span>
<span class="line-added">661    * @description:</span>
<span class="line-added">662    *   A list of bit flags used in the return value of</span>
<span class="line-added">663    *   @FT_Get_Var_Axis_Flags.</span>
<span class="line-added">664    *</span>
<span class="line-added">665    * @values:</span>
<span class="line-added">666    *   FT_VAR_AXIS_FLAG_HIDDEN ::</span>
<span class="line-added">667    *     The variation axis should not be exposed to user interfaces.</span>
<span class="line-added">668    *</span>
<span class="line-added">669    * @since:</span>
<span class="line-added">670    *   2.8.1</span>
<span class="line-added">671    */</span>
672 #define FT_VAR_AXIS_FLAG_HIDDEN  1
673 
674 
<span class="line-modified">675   /**************************************************************************</span>
<span class="line-modified">676    *</span>
<span class="line-modified">677    * @function:</span>
<span class="line-modified">678    *   FT_Get_Var_Axis_Flags</span>
<span class="line-modified">679    *</span>
<span class="line-modified">680    * @description:</span>
<span class="line-modified">681    *   Get the &#39;flags&#39; field of an OpenType Variation Axis Record.</span>
<span class="line-modified">682    *</span>
<span class="line-modified">683    *   Not meaningful for Adobe MM fonts (`*flags` is always zero).</span>
<span class="line-modified">684    *</span>
<span class="line-modified">685    * @input:</span>
<span class="line-modified">686    *   master ::</span>
<span class="line-modified">687    *     The variation descriptor.</span>
<span class="line-modified">688    *</span>
<span class="line-modified">689    *   axis_index ::</span>
<span class="line-modified">690    *     The index of the requested variation axis.</span>
<span class="line-modified">691    *</span>
<span class="line-modified">692    * @output:</span>
<span class="line-modified">693    *   flags ::</span>
<span class="line-modified">694    *     The &#39;flags&#39; field.  See @FT_VAR_AXIS_FLAG_XXX for possible values.</span>
<span class="line-modified">695    *</span>
<span class="line-modified">696    * @return:</span>
<span class="line-modified">697    *   FreeType error code.  0~means success.</span>
<span class="line-modified">698    *</span>
<span class="line-modified">699    * @since:</span>
<span class="line-added">700    *   2.8.1</span>
<span class="line-added">701    */</span>
702   FT_EXPORT( FT_Error )
703   FT_Get_Var_Axis_Flags( FT_MM_Var*  master,
704                          FT_UInt     axis_index,
705                          FT_UInt*    flags );
706 
707 
<span class="line-modified">708   /**************************************************************************</span>
<span class="line-modified">709    *</span>
<span class="line-modified">710    * @function:</span>
<span class="line-modified">711    *   FT_Set_Named_Instance</span>
<span class="line-modified">712    *</span>
<span class="line-modified">713    * @description:</span>
<span class="line-modified">714    *   Set or change the current named instance.</span>
<span class="line-modified">715    *</span>
<span class="line-modified">716    * @input:</span>
<span class="line-modified">717    *   face ::</span>
<span class="line-modified">718    *     A handle to the source face.</span>
<span class="line-modified">719    *</span>
<span class="line-modified">720    *   instance_index ::</span>
<span class="line-modified">721    *     The index of the requested instance, starting with value 1.  If set</span>
<span class="line-modified">722    *     to value 0, FreeType switches to font access without a named</span>
<span class="line-modified">723    *     instance.</span>
<span class="line-modified">724    *</span>
<span class="line-modified">725    * @return:</span>
<span class="line-modified">726    *   FreeType error code.  0~means success.</span>
<span class="line-modified">727    *</span>
<span class="line-modified">728    * @note:</span>
<span class="line-modified">729    *   The function uses the value of `instance_index` to set bits 16-30 of</span>
<span class="line-modified">730    *   the face&#39;s `face_index` field.  It also resets any variation applied</span>
<span class="line-modified">731    *   to the font, and the @FT_FACE_FLAG_VARIATION bit of the face&#39;s</span>
<span class="line-modified">732    *   `face_flags` field gets reset to zero (i.e., @FT_IS_VARIATION will</span>
<span class="line-modified">733    *   return false).</span>
<span class="line-modified">734    *</span>
<span class="line-modified">735    *   For Adobe MM fonts (which don&#39;t have named instances) this function</span>
<span class="line-modified">736    *   simply resets the current face to the default instance.</span>
<span class="line-modified">737    *</span>
<span class="line-modified">738    * @since:</span>
<span class="line-modified">739    *   2.9</span>
<span class="line-added">740    */</span>
741   FT_EXPORT( FT_Error )
742   FT_Set_Named_Instance( FT_Face  face,
743                          FT_UInt  instance_index );
744 
745   /* */
746 
747 
748 FT_END_HEADER
749 
750 #endif /* FTMM_H_ */
751 
752 
753 /* END */
</pre>
</td>
</tr>
</table>
<center><a href="ftmac.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ftmodapi.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>