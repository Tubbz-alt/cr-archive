<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/java.desktop/share/native/libfreetype/include/freetype/internal/ftdebug.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre><a name="1" id="anc1"></a><span class="line-modified">  1 /***************************************************************************/</span>
<span class="line-modified">  2 /*                                                                         */</span>
<span class="line-modified">  3 /*  ftdebug.h                                                              */</span>
<span class="line-modified">  4 /*                                                                         */</span>
<span class="line-modified">  5 /*    Debugging and logging component (specification).                     */</span>
<span class="line-modified">  6 /*                                                                         */</span>
<span class="line-modified">  7 /*  Copyright 1996-2018 by                                                 */</span>
<span class="line-modified">  8 /*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */</span>
<span class="line-modified">  9 /*                                                                         */</span>
<span class="line-modified"> 10 /*  This file is part of the FreeType project, and may only be used,       */</span>
<span class="line-modified"> 11 /*  modified, and distributed under the terms of the FreeType project      */</span>
<span class="line-modified"> 12 /*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */</span>
<span class="line-modified"> 13 /*  this file you indicate that you have read the license and              */</span>
<span class="line-modified"> 14 /*  understand and accept it fully.                                        */</span>
<span class="line-modified"> 15 /*                                                                         */</span>
<span class="line-modified"> 16 /*                                                                         */</span>
<span class="line-modified"> 17 /*  IMPORTANT: A description of FreeType&#39;s debugging support can be        */</span>
<span class="line-modified"> 18 /*             found in `docs/DEBUG.TXT&#39;.  Read it if you need to use or   */</span>
<span class="line-modified"> 19 /*             understand this code.                                       */</span>
<span class="line-modified"> 20 /*                                                                         */</span>
<span class="line-modified"> 21 /***************************************************************************/</span>
 22 
 23 
 24 #ifndef FTDEBUG_H_
 25 #define FTDEBUG_H_
 26 
 27 
 28 #include &lt;ft2build.h&gt;
 29 #include FT_CONFIG_CONFIG_H
 30 #include FT_FREETYPE_H
 31 
 32 
 33 FT_BEGIN_HEADER
 34 
 35 
 36   /* force the definition of FT_DEBUG_LEVEL_ERROR if FT_DEBUG_LEVEL_TRACE */
 37   /* is already defined; this simplifies the following #ifdefs            */
 38   /*                                                                      */
 39 #ifdef FT_DEBUG_LEVEL_TRACE
 40 #undef  FT_DEBUG_LEVEL_ERROR
 41 #define FT_DEBUG_LEVEL_ERROR
 42 #endif
 43 
 44 
<a name="2" id="anc2"></a><span class="line-modified"> 45   /*************************************************************************/</span>
<span class="line-modified"> 46   /*                                                                       */</span>
<span class="line-modified"> 47   /* Define the trace enums as well as the trace levels array when they    */</span>
<span class="line-modified"> 48   /* are needed.                                                           */</span>
<span class="line-modified"> 49   /*                                                                       */</span>
<span class="line-modified"> 50   /*************************************************************************/</span>
 51 
 52 #ifdef FT_DEBUG_LEVEL_TRACE
 53 
 54 #define FT_TRACE_DEF( x )  trace_ ## x ,
 55 
 56   /* defining the enumeration */
 57   typedef enum  FT_Trace_
 58   {
 59 #include FT_INTERNAL_TRACE_H
 60     trace_count
 61 
 62   } FT_Trace;
 63 
 64 
<a name="3" id="anc3"></a><span class="line-modified"> 65   /* defining the array of trace levels, provided by `src/base/ftdebug.c&#39; */</span>
<span class="line-modified"> 66   extern int  ft_trace_levels[trace_count];</span>

 67 
 68 #undef FT_TRACE_DEF
 69 
 70 #endif /* FT_DEBUG_LEVEL_TRACE */
 71 
 72 
<a name="4" id="anc4"></a><span class="line-modified"> 73   /*************************************************************************/</span>
<span class="line-modified"> 74   /*                                                                       */</span>
<span class="line-modified"> 75   /* Define the FT_TRACE macro                                             */</span>
<span class="line-modified"> 76   /*                                                                       */</span>
<span class="line-modified"> 77   /* IMPORTANT!                                                            */</span>
<span class="line-modified"> 78   /*                                                                       */</span>
<span class="line-modified"> 79   /* Each component must define the macro FT_COMPONENT to a valid FT_Trace */</span>
<span class="line-modified"> 80   /* value before using any TRACE macro.                                   */</span>
<span class="line-modified"> 81   /*                                                                       */</span>
<span class="line-modified"> 82   /*************************************************************************/</span>
 83 
 84 #ifdef FT_DEBUG_LEVEL_TRACE
 85 
<a name="5" id="anc5"></a><span class="line-modified"> 86 #define FT_TRACE( level, varformat )                      \</span>
<span class="line-modified"> 87           do                                              \</span>
<span class="line-modified"> 88           {                                               \</span>
<span class="line-modified"> 89             if ( ft_trace_levels[FT_COMPONENT] &gt;= level ) \</span>
<span class="line-modified"> 90               FT_Message varformat;                       \</span>




 91           } while ( 0 )
 92 
 93 #else /* !FT_DEBUG_LEVEL_TRACE */
 94 
 95 #define FT_TRACE( level, varformat )  do { } while ( 0 )      /* nothing */
 96 
 97 #endif /* !FT_DEBUG_LEVEL_TRACE */
 98 
 99 
<a name="6" id="anc6"></a><span class="line-modified">100   /*************************************************************************/</span>
<span class="line-modified">101   /*                                                                       */</span>
<span class="line-modified">102   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">103   /*    FT_Trace_Get_Count                                                 */</span>
<span class="line-modified">104   /*                                                                       */</span>
<span class="line-modified">105   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">106   /*    Return the number of available trace components.                   */</span>
<span class="line-modified">107   /*                                                                       */</span>
<span class="line-modified">108   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">109   /*    The number of trace components.  0 if FreeType 2 is not built with */</span>
<span class="line-modified">110   /*    FT_DEBUG_LEVEL_TRACE definition.                                   */</span>
<span class="line-modified">111   /*                                                                       */</span>
<span class="line-modified">112   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">113   /*    This function may be useful if you want to access elements of      */</span>
<span class="line-modified">114   /*    the internal `ft_trace_levels&#39; array by an index.                  */</span>
<span class="line-modified">115   /*                                                                       */</span>
116   FT_BASE( FT_Int )
117   FT_Trace_Get_Count( void );
118 
119 
<a name="7" id="anc7"></a><span class="line-modified">120   /*************************************************************************/</span>
<span class="line-modified">121   /*                                                                       */</span>
<span class="line-modified">122   /* &lt;Function&gt;                                                            */</span>
<span class="line-modified">123   /*    FT_Trace_Get_Name                                                  */</span>
<span class="line-modified">124   /*                                                                       */</span>
<span class="line-modified">125   /* &lt;Description&gt;                                                         */</span>
<span class="line-modified">126   /*    Return the name of a trace component.                              */</span>
<span class="line-modified">127   /*                                                                       */</span>
<span class="line-modified">128   /* &lt;Input&gt;                                                               */</span>
<span class="line-modified">129   /*    The index of the trace component.                                  */</span>
<span class="line-modified">130   /*                                                                       */</span>
<span class="line-modified">131   /* &lt;Return&gt;                                                              */</span>
<span class="line-modified">132   /*    The name of the trace component.  This is a statically allocated   */</span>
<span class="line-modified">133   /*    C string, so do not free it after use.  NULL if FreeType 2 is not  */</span>
<span class="line-modified">134   /*    built with FT_DEBUG_LEVEL_TRACE definition.                        */</span>
<span class="line-modified">135   /*                                                                       */</span>
<span class="line-modified">136   /* &lt;Note&gt;                                                                */</span>
<span class="line-modified">137   /*    Use @FT_Trace_Get_Count to get the number of available trace       */</span>
<span class="line-modified">138   /*    components.                                                        */</span>
<span class="line-modified">139   /*                                                                       */</span>
<span class="line-removed">140   /*    This function may be useful if you want to control FreeType 2&#39;s    */</span>
<span class="line-removed">141   /*    debug level in your application.                                   */</span>
<span class="line-removed">142   /*                                                                       */</span>
143   FT_BASE( const char* )
144   FT_Trace_Get_Name( FT_Int  idx );
145 
146 
<a name="8" id="anc8"></a><span class="line-modified">147   /*************************************************************************/</span>
<span class="line-modified">148   /*                                                                       */</span>
<span class="line-modified">149   /* You need two opening and closing parentheses!                         */</span>
<span class="line-modified">150   /*                                                                       */</span>
<span class="line-modified">151   /* Example: FT_TRACE0(( &quot;Value is %i&quot;, foo ))                            */</span>
<span class="line-modified">152   /*                                                                       */</span>
<span class="line-modified">153   /* Output of the FT_TRACEX macros is sent to stderr.                     */</span>
<span class="line-modified">154   /*                                                                       */</span>
<span class="line-modified">155   /*************************************************************************/</span>


























156 
157 #define FT_TRACE0( varformat )  FT_TRACE( 0, varformat )
158 #define FT_TRACE1( varformat )  FT_TRACE( 1, varformat )
159 #define FT_TRACE2( varformat )  FT_TRACE( 2, varformat )
160 #define FT_TRACE3( varformat )  FT_TRACE( 3, varformat )
161 #define FT_TRACE4( varformat )  FT_TRACE( 4, varformat )
162 #define FT_TRACE5( varformat )  FT_TRACE( 5, varformat )
163 #define FT_TRACE6( varformat )  FT_TRACE( 6, varformat )
164 #define FT_TRACE7( varformat )  FT_TRACE( 7, varformat )
165 
166 
<a name="9" id="anc9"></a><span class="line-modified">167   /*************************************************************************/</span>
<span class="line-modified">168   /*                                                                       */</span>
<span class="line-modified">169   /* Define the FT_ERROR macro.                                            */</span>
<span class="line-modified">170   /*                                                                       */</span>
<span class="line-modified">171   /* Output of this macro is sent to stderr.                               */</span>
<span class="line-modified">172   /*                                                                       */</span>
<span class="line-modified">173   /*************************************************************************/</span>
174 
175 #ifdef FT_DEBUG_LEVEL_ERROR
176 
177 #define FT_ERROR( varformat )  FT_Message  varformat
178 
179 #else  /* !FT_DEBUG_LEVEL_ERROR */
180 
181 #define FT_ERROR( varformat )  do { } while ( 0 )      /* nothing */
182 
183 #endif /* !FT_DEBUG_LEVEL_ERROR */
184 
185 
<a name="10" id="anc10"></a><span class="line-modified">186   /*************************************************************************/</span>
<span class="line-modified">187   /*                                                                       */</span>
<span class="line-modified">188   /* Define the FT_ASSERT and FT_THROW macros.  The call to `FT_Throw&#39;     */</span>
<span class="line-modified">189   /* makes it possible to easily set a breakpoint at this function.        */</span>
<span class="line-modified">190   /*                                                                       */</span>
<span class="line-modified">191   /*************************************************************************/</span>
192 
193 #ifdef FT_DEBUG_LEVEL_ERROR
194 
195 #define FT_ASSERT( condition )                                      \
196           do                                                        \
197           {                                                         \
198             if ( !( condition ) )                                   \
199               FT_Panic( &quot;assertion failed on line %d of file %s\n&quot;, \
200                         __LINE__, __FILE__ );                       \
201           } while ( 0 )
202 
203 #define FT_THROW( e )                                   \
204           ( FT_Throw( FT_ERR_CAT( FT_ERR_PREFIX, e ),   \
205                       __LINE__,                         \
206                       __FILE__ )                      | \
207             FT_ERR_CAT( FT_ERR_PREFIX, e )            )
208 
209 #else /* !FT_DEBUG_LEVEL_ERROR */
210 
211 #define FT_ASSERT( condition )  do { } while ( 0 )
212 
213 #define FT_THROW( e )  FT_ERR_CAT( FT_ERR_PREFIX, e )
214 
215 #endif /* !FT_DEBUG_LEVEL_ERROR */
216 
217 
<a name="11" id="anc11"></a><span class="line-modified">218   /*************************************************************************/</span>
<span class="line-modified">219   /*                                                                       */</span>
<span class="line-modified">220   /* Define `FT_Message&#39; and `FT_Panic&#39; when needed.                       */</span>
<span class="line-modified">221   /*                                                                       */</span>
<span class="line-modified">222   /*************************************************************************/</span>
223 
224 #ifdef FT_DEBUG_LEVEL_ERROR
225 
226 #include &quot;stdio.h&quot;  /* for vfprintf() */
227 
228   /* print a message */
229   FT_BASE( void )
230   FT_Message( const char*  fmt,
231               ... );
232 
233   /* print a message and exit */
234   FT_BASE( void )
235   FT_Panic( const char*  fmt,
236             ... );
237 
238   /* report file name and line number of an error */
239   FT_BASE( int )
240   FT_Throw( FT_Error     error,
241             int          line,
242             const char*  file );
243 
244 #endif /* FT_DEBUG_LEVEL_ERROR */
245 
246 
247   FT_BASE( void )
248   ft_debug_init( void );
249 
250 FT_END_HEADER
251 
252 #endif /* FTDEBUG_H_ */
253 
254 
255 /* END */
<a name="12" id="anc12"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="12" type="hidden" />
</body>
</html>