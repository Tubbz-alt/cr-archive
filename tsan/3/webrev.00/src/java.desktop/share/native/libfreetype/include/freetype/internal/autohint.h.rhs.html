<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/java.desktop/share/native/libfreetype/include/freetype/internal/autohint.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre><a name="1" id="anc1"></a><span class="line-modified">  1 /****************************************************************************</span>
<span class="line-modified">  2  *</span>
<span class="line-modified">  3  * autohint.h</span>
<span class="line-modified">  4  *</span>
<span class="line-modified">  5  *   High-level &#39;autohint&#39; module-specific interface (specification).</span>
<span class="line-modified">  6  *</span>
<span class="line-modified">  7  * Copyright (C) 1996-2019 by</span>
<span class="line-modified">  8  * David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<span class="line-modified">  9  *</span>
<span class="line-modified"> 10  * This file is part of the FreeType project, and may only be used,</span>
<span class="line-modified"> 11  * modified, and distributed under the terms of the FreeType project</span>
<span class="line-modified"> 12  * license, LICENSE.TXT.  By continuing to use, modify, or distribute</span>
<span class="line-modified"> 13  * this file you indicate that you have read the license and</span>
<span class="line-modified"> 14  * understand and accept it fully.</span>
<span class="line-modified"> 15  *</span>
<span class="line-modified"> 16  */</span>
<span class="line-modified"> 17 </span>
<span class="line-modified"> 18 </span>
<span class="line-modified"> 19   /**************************************************************************</span>
<span class="line-modified"> 20    *</span>
<span class="line-modified"> 21    * The auto-hinter is used to load and automatically hint glyphs if a</span>
<span class="line-modified"> 22    * format-specific hinter isn&#39;t available.</span>
<span class="line-modified"> 23    *</span>
<span class="line-modified"> 24    */</span>
 25 
 26 
 27 #ifndef AUTOHINT_H_
 28 #define AUTOHINT_H_
 29 
 30 
<a name="2" id="anc2"></a><span class="line-modified"> 31   /**************************************************************************</span>
<span class="line-modified"> 32    *</span>
<span class="line-modified"> 33    * A small technical note regarding automatic hinting in order to clarify</span>
<span class="line-modified"> 34    * this module interface.</span>
<span class="line-modified"> 35    *</span>
<span class="line-modified"> 36    * An automatic hinter might compute two kinds of data for a given face:</span>
<span class="line-modified"> 37    *</span>
<span class="line-modified"> 38    * - global hints: Usually some metrics that describe global properties</span>
<span class="line-modified"> 39    *                 of the face.  It is computed by scanning more or less</span>
<span class="line-modified"> 40    *                 aggressively the glyphs in the face, and thus can be</span>
<span class="line-modified"> 41    *                 very slow to compute (even if the size of global hints</span>
<span class="line-modified"> 42    *                 is really small).</span>
<span class="line-modified"> 43    *</span>
<span class="line-modified"> 44    * - glyph hints: These describe some important features of the glyph</span>
<span class="line-modified"> 45    *                 outline, as well as how to align them.  They are</span>
<span class="line-modified"> 46    *                 generally much faster to compute than global hints.</span>
<span class="line-modified"> 47    *</span>
<span class="line-modified"> 48    * The current FreeType auto-hinter does a pretty good job while performing</span>
<span class="line-modified"> 49    * fast computations for both global and glyph hints.  However, we might be</span>
<span class="line-modified"> 50    * interested in introducing more complex and powerful algorithms in the</span>
<span class="line-modified"> 51    * future, like the one described in the John D. Hobby paper, which</span>
<span class="line-modified"> 52    * unfortunately requires a lot more horsepower.</span>
<span class="line-modified"> 53    *</span>
<span class="line-modified"> 54    * Because a sufficiently sophisticated font management system would</span>
<span class="line-modified"> 55    * typically implement an LRU cache of opened face objects to reduce memory</span>
<span class="line-modified"> 56    * usage, it is a good idea to be able to avoid recomputing global hints</span>
<span class="line-modified"> 57    * every time the same face is re-opened.</span>
<span class="line-modified"> 58    *</span>
<span class="line-modified"> 59    * We thus provide the ability to cache global hints outside of the face</span>
<span class="line-modified"> 60    * object, in order to speed up font re-opening time.  Of course, this</span>
<span class="line-modified"> 61    * feature is purely optional, so most client programs won&#39;t even notice</span>
<span class="line-modified"> 62    * it.</span>
<span class="line-modified"> 63    *</span>
<span class="line-modified"> 64    * I initially thought that it would be a good idea to cache the glyph</span>
<span class="line-modified"> 65    * hints too.  However, my general idea now is that if you really need to</span>
<span class="line-modified"> 66    * cache these too, you are simply in need of a new font format, where all</span>
<span class="line-modified"> 67    * this information could be stored within the font file and decoded on the</span>
<span class="line-modified"> 68    * fly.</span>
<span class="line-modified"> 69    *</span>
<span class="line-modified"> 70    */</span>
 71 
 72 
 73 #include &lt;ft2build.h&gt;
 74 #include FT_FREETYPE_H
 75 
 76 
 77 FT_BEGIN_HEADER
 78 
 79 
 80   typedef struct FT_AutoHinterRec_  *FT_AutoHinter;
 81 
 82 
<a name="3" id="anc3"></a><span class="line-modified"> 83   /**************************************************************************</span>
<span class="line-modified"> 84    *</span>
<span class="line-modified"> 85    * @functype:</span>
<span class="line-modified"> 86    *   FT_AutoHinter_GlobalGetFunc</span>
<span class="line-modified"> 87    *</span>
<span class="line-modified"> 88    * @description:</span>
<span class="line-modified"> 89    *   Retrieve the global hints computed for a given face object.  The</span>
<span class="line-modified"> 90    *   resulting data is dissociated from the face and will survive a call to</span>
<span class="line-modified"> 91    *   FT_Done_Face().  It must be discarded through the API</span>
<span class="line-modified"> 92    *   FT_AutoHinter_GlobalDoneFunc().</span>
<span class="line-modified"> 93    *</span>
<span class="line-modified"> 94    * @input:</span>
<span class="line-modified"> 95    *   hinter ::</span>
<span class="line-modified"> 96    *     A handle to the source auto-hinter.</span>
<span class="line-modified"> 97    *</span>
<span class="line-modified"> 98    *   face ::</span>
<span class="line-modified"> 99    *     A handle to the source face object.</span>
<span class="line-modified">100    *</span>
<span class="line-modified">101    * @output:</span>
<span class="line-modified">102    *   global_hints ::</span>
<span class="line-modified">103    *     A typeless pointer to the global hints.</span>
<span class="line-added">104    *</span>
<span class="line-added">105    *   global_len ::</span>
<span class="line-added">106    *     The size in bytes of the global hints.</span>
<span class="line-added">107    */</span>
108   typedef void
109   (*FT_AutoHinter_GlobalGetFunc)( FT_AutoHinter  hinter,
110                                   FT_Face        face,
111                                   void**         global_hints,
112                                   long*          global_len );
113 
114 
<a name="4" id="anc4"></a><span class="line-modified">115   /**************************************************************************</span>
<span class="line-modified">116    *</span>
<span class="line-modified">117    * @functype:</span>
<span class="line-modified">118    *   FT_AutoHinter_GlobalDoneFunc</span>
<span class="line-modified">119    *</span>
<span class="line-modified">120    * @description:</span>
<span class="line-modified">121    *   Discard the global hints retrieved through</span>
<span class="line-modified">122    *   FT_AutoHinter_GlobalGetFunc().  This is the only way these hints are</span>
<span class="line-modified">123    *   freed from memory.</span>
<span class="line-modified">124    *</span>
<span class="line-modified">125    * @input:</span>
<span class="line-modified">126    *   hinter ::</span>
<span class="line-modified">127    *     A handle to the auto-hinter module.</span>
<span class="line-modified">128    *</span>
<span class="line-modified">129    *   global ::</span>
<span class="line-added">130    *     A pointer to retrieved global hints to discard.</span>
<span class="line-added">131    */</span>
132   typedef void
133   (*FT_AutoHinter_GlobalDoneFunc)( FT_AutoHinter  hinter,
134                                    void*          global );
135 
136 
<a name="5" id="anc5"></a><span class="line-modified">137   /**************************************************************************</span>
<span class="line-modified">138    *</span>
<span class="line-modified">139    * @functype:</span>
<span class="line-modified">140    *   FT_AutoHinter_GlobalResetFunc</span>
<span class="line-modified">141    *</span>
<span class="line-modified">142    * @description:</span>
<span class="line-modified">143    *   This function is used to recompute the global metrics in a given font.</span>
<span class="line-modified">144    *   This is useful when global font data changes (e.g. Multiple Masters</span>
<span class="line-modified">145    *   fonts where blend coordinates change).</span>
<span class="line-modified">146    *</span>
<span class="line-modified">147    * @input:</span>
<span class="line-modified">148    *   hinter ::</span>
<span class="line-modified">149    *     A handle to the source auto-hinter.</span>
<span class="line-modified">150    *</span>
<span class="line-modified">151    *   face ::</span>
<span class="line-added">152    *     A handle to the face.</span>
<span class="line-added">153    */</span>
154   typedef void
155   (*FT_AutoHinter_GlobalResetFunc)( FT_AutoHinter  hinter,
156                                     FT_Face        face );
157 
158 
<a name="6" id="anc6"></a><span class="line-modified">159   /**************************************************************************</span>
<span class="line-modified">160    *</span>
<span class="line-modified">161    * @functype:</span>
<span class="line-modified">162    *   FT_AutoHinter_GlyphLoadFunc</span>
<span class="line-modified">163    *</span>
<span class="line-modified">164    * @description:</span>
<span class="line-modified">165    *   This function is used to load, scale, and automatically hint a glyph</span>
<span class="line-modified">166    *   from a given face.</span>
<span class="line-modified">167    *</span>
<span class="line-modified">168    * @input:</span>
<span class="line-modified">169    *   face ::</span>
<span class="line-modified">170    *     A handle to the face.</span>
<span class="line-modified">171    *</span>
<span class="line-modified">172    *   glyph_index ::</span>
<span class="line-modified">173    *     The glyph index.</span>
<span class="line-modified">174    *</span>
<span class="line-modified">175    *   load_flags ::</span>
<span class="line-modified">176    *     The load flags.</span>
<span class="line-modified">177    *</span>
<span class="line-modified">178    * @note:</span>
<span class="line-modified">179    *   This function is capable of loading composite glyphs by hinting each</span>
<span class="line-modified">180    *   sub-glyph independently (which improves quality).</span>
<span class="line-modified">181    *</span>
<span class="line-added">182    *   It will call the font driver with @FT_Load_Glyph, with</span>
<span class="line-added">183    *   @FT_LOAD_NO_SCALE set.</span>
<span class="line-added">184    */</span>
185   typedef FT_Error
186   (*FT_AutoHinter_GlyphLoadFunc)( FT_AutoHinter  hinter,
187                                   FT_GlyphSlot   slot,
188                                   FT_Size        size,
189                                   FT_UInt        glyph_index,
190                                   FT_Int32       load_flags );
191 
192 
<a name="7" id="anc7"></a><span class="line-modified">193   /**************************************************************************</span>
<span class="line-modified">194    *</span>
<span class="line-modified">195    * @struct:</span>
<span class="line-modified">196    *   FT_AutoHinter_InterfaceRec</span>
<span class="line-modified">197    *</span>
<span class="line-modified">198    * @description:</span>
<span class="line-modified">199    *   The auto-hinter module&#39;s interface.</span>
<span class="line-modified">200    */</span>
201   typedef struct  FT_AutoHinter_InterfaceRec_
202   {
203     FT_AutoHinter_GlobalResetFunc  reset_face;
204     FT_AutoHinter_GlobalGetFunc    get_global_hints;
205     FT_AutoHinter_GlobalDoneFunc   done_global_hints;
206     FT_AutoHinter_GlyphLoadFunc    load_glyph;
207 
208   } FT_AutoHinter_InterfaceRec, *FT_AutoHinter_Interface;
209 
210 
<a name="8" id="anc8"></a>

211 #define FT_DEFINE_AUTOHINTER_INTERFACE(       \
212           class_,                             \
213           reset_face_,                        \
214           get_global_hints_,                  \
215           done_global_hints_,                 \
216           load_glyph_ )                       \
217   FT_CALLBACK_TABLE_DEF                       \
218   const FT_AutoHinter_InterfaceRec  class_ =  \
219   {                                           \
220     reset_face_,                              \
221     get_global_hints_,                        \
222     done_global_hints_,                       \
223     load_glyph_                               \
224   };
225 
<a name="9" id="anc9"></a>




















226 
227 FT_END_HEADER
228 
229 #endif /* AUTOHINT_H_ */
230 
231 
232 /* END */
<a name="10" id="anc10"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="10" type="hidden" />
</body>
</html>