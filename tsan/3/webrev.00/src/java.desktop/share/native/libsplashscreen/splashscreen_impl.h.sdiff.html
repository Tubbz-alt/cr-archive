<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/share/native/libsplashscreen/splashscreen_impl.h</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="splashscreen_impl.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../../unix/classes/sun/awt/FcFontManager.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libsplashscreen/splashscreen_impl.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2005, 2018, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 #ifndef SPLASHSCREEN_IMPL_H
 27 #define SPLASHSCREEN_IMPL_H
 28 
 29 #include &quot;splashscreen_config.h&quot;
 30 #include &quot;splashscreen_gfx.h&quot;
 31 #include &quot;jni.h&quot;
 32 
<span class="line-modified"> 33 JNIEXPORT int JNICALL</span>
 34 SplashLoadMemory(void *pdata, int size); /* requires preloading the file */
 35 
<span class="line-modified"> 36 JNIEXPORT int JNICALL</span>
 37 SplashLoadFile(const char *filename);  // FIXME: range checking for SplashLoadMemory
 38 
<span class="line-modified"> 39 JNIEXPORT void JNICALL</span>
 40 SplashInit(void);
 41 
<span class="line-modified"> 42 JNIEXPORT void JNICALL</span>
 43 SplashClose(void);
 44 
<span class="line-modified"> 45 JNIEXPORT void JNICALL</span>
 46 SplashSetScaleFactor(float);
 47 
<span class="line-modified"> 48 JNIEXPORT jboolean JNICALL</span>
 49 SplashGetScaledImageName(const char*, const char*,
 50                               float*, char*, const size_t scaledImageNameLength);
 51 
<span class="line-modified"> 52 JNIEXPORT void JNICALL</span>
 53 SplashSetFileJarName(const char* fileName, const char* jarName);
 54 
<span class="line-modified"> 55 JNIEXPORT int JNICALL</span>
 56 SplashGetScaledImgNameMaxPstfixLen(const char*);
 57 typedef struct SplashImage
 58 {
 59     rgbquad_t *bitmapBits;
 60     int delay;                  /* before next image display, in msec                                                       */
 61 #if defined(WITH_WIN32)
 62     HRGN hRgn;
 63 #elif defined(WITH_X11)
 64     XRectangle *rects;
 65     int numRects;
 66 #endif
 67 } SplashImage;
 68 
 69 #define SPLASH_COLOR_MAP_SIZE 0x100
 70 
 71 typedef struct Splash
 72 {
 73     ImageFormat screenFormat;   /* must be preset before image decoding */
 74     DitherSettings dithers[3];
 75     ImageFormat imageFormat;
</pre>
<hr />
<pre>
108     Screen *screen;
109     Visual *visual;
110     Colormap cmap;
111     pthread_mutex_t lock;
112     Cursor cursor;
113     XWMHints* wmHints;
114 #elif defined(WITH_MACOSX)
115     pthread_mutex_t lock;
116     int controlpipe[2];
117     NSWindow * window;
118 #endif
119 } Splash;
120 
121 /* various shared and/or platform dependent splash screen functions */
122 
123 /*************** Platform-specific ******************/
124 
125 /* To be implemented in the platform-specific native code. */
126 
127 
<span class="line-modified">128 void SplashInitPlatform(Splash * splash);</span>
129 void SplashCreateThread(Splash * splash);
130 void SplashCleanupPlatform(Splash * splash);
131 void SplashDonePlatform(Splash * splash);
132 
133 unsigned SplashTime();
134 char* SplashConvertStringAlloc(const char* in, int *size);
135 void SplashLock(Splash * splash);
136 void SplashUnlock(Splash * splash);
137 
138 void SplashInitFrameShape(Splash * splash, int imageIndex);
139 
140 void SplashUpdate(Splash * splash);
141 void SplashReconfigure(Splash * splash);
142 void SplashClosePlatform(Splash * splash);
143 
144 
145 
146 /********************* Shared **********************/
147 Splash *SplashGetInstance();
148 
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2005, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 #ifndef SPLASHSCREEN_IMPL_H
 27 #define SPLASHSCREEN_IMPL_H
 28 
 29 #include &quot;splashscreen_config.h&quot;
 30 #include &quot;splashscreen_gfx.h&quot;
 31 #include &quot;jni.h&quot;
 32 
<span class="line-modified"> 33 JNIEXPORT int</span>
 34 SplashLoadMemory(void *pdata, int size); /* requires preloading the file */
 35 
<span class="line-modified"> 36 JNIEXPORT int</span>
 37 SplashLoadFile(const char *filename);  // FIXME: range checking for SplashLoadMemory
 38 
<span class="line-modified"> 39 JNIEXPORT int</span>
 40 SplashInit(void);
 41 
<span class="line-modified"> 42 JNIEXPORT void</span>
 43 SplashClose(void);
 44 
<span class="line-modified"> 45 JNIEXPORT void</span>
 46 SplashSetScaleFactor(float);
 47 
<span class="line-modified"> 48 JNIEXPORT jboolean</span>
 49 SplashGetScaledImageName(const char*, const char*,
 50                               float*, char*, const size_t scaledImageNameLength);
 51 
<span class="line-modified"> 52 JNIEXPORT void</span>
 53 SplashSetFileJarName(const char* fileName, const char* jarName);
 54 
<span class="line-modified"> 55 JNIEXPORT int</span>
 56 SplashGetScaledImgNameMaxPstfixLen(const char*);
 57 typedef struct SplashImage
 58 {
 59     rgbquad_t *bitmapBits;
 60     int delay;                  /* before next image display, in msec                                                       */
 61 #if defined(WITH_WIN32)
 62     HRGN hRgn;
 63 #elif defined(WITH_X11)
 64     XRectangle *rects;
 65     int numRects;
 66 #endif
 67 } SplashImage;
 68 
 69 #define SPLASH_COLOR_MAP_SIZE 0x100
 70 
 71 typedef struct Splash
 72 {
 73     ImageFormat screenFormat;   /* must be preset before image decoding */
 74     DitherSettings dithers[3];
 75     ImageFormat imageFormat;
</pre>
<hr />
<pre>
108     Screen *screen;
109     Visual *visual;
110     Colormap cmap;
111     pthread_mutex_t lock;
112     Cursor cursor;
113     XWMHints* wmHints;
114 #elif defined(WITH_MACOSX)
115     pthread_mutex_t lock;
116     int controlpipe[2];
117     NSWindow * window;
118 #endif
119 } Splash;
120 
121 /* various shared and/or platform dependent splash screen functions */
122 
123 /*************** Platform-specific ******************/
124 
125 /* To be implemented in the platform-specific native code. */
126 
127 
<span class="line-modified">128 int  SplashInitPlatform(Splash * splash);</span>
129 void SplashCreateThread(Splash * splash);
130 void SplashCleanupPlatform(Splash * splash);
131 void SplashDonePlatform(Splash * splash);
132 
133 unsigned SplashTime();
134 char* SplashConvertStringAlloc(const char* in, int *size);
135 void SplashLock(Splash * splash);
136 void SplashUnlock(Splash * splash);
137 
138 void SplashInitFrameShape(Splash * splash, int imageIndex);
139 
140 void SplashUpdate(Splash * splash);
141 void SplashReconfigure(Splash * splash);
142 void SplashClosePlatform(Splash * splash);
143 
144 
145 
146 /********************* Shared **********************/
147 Splash *SplashGetInstance();
148 
</pre>
</td>
</tr>
</table>
<center><a href="splashscreen_impl.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../../unix/classes/sun/awt/FcFontManager.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>