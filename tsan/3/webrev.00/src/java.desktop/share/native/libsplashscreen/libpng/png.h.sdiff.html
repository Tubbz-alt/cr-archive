<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/share/native/libsplashscreen/libpng/png.h</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="png.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="pngconf.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libsplashscreen/libpng/png.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  12  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  13  * version 2 for more details (a copy is included in the LICENSE file that
  14  * accompanied this code).
  15  *
  16  * You should have received a copy of the GNU General Public License version
  17  * 2 along with this work; if not, write to the Free Software Foundation,
  18  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  19  *
  20  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  21  * or visit www.oracle.com if you need additional information or have any
  22  * questions.
  23  */
  24 
  25 /* png.h - header file for PNG reference library
  26  *
  27  * This file is available under and governed by the GNU General Public
  28  * License version 2 only, as published by the Free Software Foundation.
  29  * However, the following notice accompanied the original version of this
  30  * file and, per its terms, should not be removed:
  31  *
<span class="line-modified">  32  * libpng version 1.6.35, July 15, 2018</span>
  33  *

  34  * Copyright (c) 1998-2002,2004,2006-2018 Glenn Randers-Pehrson
<span class="line-modified">  35  * (Version 0.96 Copyright (c) 1996, 1997 Andreas Dilger)</span>
<span class="line-modified">  36  * (Version 0.88 Copyright (c) 1995, 1996 Guy Eric Schalnat, Group 42, Inc.)</span>
  37  *
<span class="line-modified">  38  * This code is released under the libpng license (See LICENSE, below)</span>
  39  *
  40  * Authors and maintainers:
  41  *   libpng versions 0.71, May 1995, through 0.88, January 1996: Guy Schalnat
  42  *   libpng versions 0.89, June 1996, through 0.96, May 1997: Andreas Dilger
<span class="line-modified">  43  *   libpng versions 0.97, January 1998, through 1.6.35, July 15, 2018:</span>
<span class="line-modified">  44  *     Glenn Randers-Pehrson.</span>


  45  *   See also &quot;Contributing Authors&quot;, below.
  46  */
  47 
  48 /*
<span class="line-modified">  49  * COPYRIGHT NOTICE, DISCLAIMER, and LICENSE:</span>
























  50  *
<span class="line-modified">  51  * If you modify libpng you may insert additional notices immediately following</span>
<span class="line-modified">  52  * this sentence.</span>


  53  *
<span class="line-modified">  54  * This code is released under the libpng license.</span>

  55  *
<span class="line-modified">  56  * libpng versions 1.0.7, July 1, 2000 through 1.6.35, July 15, 2018 are</span>







  57  * Copyright (c) 2000-2002, 2004, 2006-2018 Glenn Randers-Pehrson, are
  58  * derived from libpng-1.0.6, and are distributed according to the same
  59  * disclaimer and license as libpng-1.0.6 with the following individuals
  60  * added to the list of Contributing Authors:
  61  *
<span class="line-modified">  62  *    Simon-Pierre Cadieux</span>
<span class="line-modified">  63  *    Eric S. Raymond</span>
<span class="line-modified">  64  *    Mans Rullgard</span>
<span class="line-modified">  65  *    Cosmin Truta</span>
<span class="line-modified">  66  *    Gilles Vollant</span>
<span class="line-modified">  67  *    James Yu</span>
<span class="line-modified">  68  *    Mandar Sahastrabuddhe</span>
<span class="line-modified">  69  *    Google Inc.</span>
<span class="line-modified">  70  *    Vadim Barkov</span>
  71  *
  72  * and with the following additions to the disclaimer:
  73  *
<span class="line-modified">  74  *    There is no warranty against interference with your enjoyment of the</span>
<span class="line-modified">  75  *    library or against infringement.  There is no warranty that our</span>
<span class="line-modified">  76  *    efforts or the library will fulfill any of your particular purposes</span>
<span class="line-modified">  77  *    or needs.  This library is provided with all faults, and the entire</span>
<span class="line-modified">  78  *    risk of satisfactory quality, performance, accuracy, and effort is with</span>
<span class="line-modified">  79  *    the user.</span>
  80  *
  81  * Some files in the &quot;contrib&quot; directory and some configure-generated
<span class="line-modified">  82  * files that are distributed with libpng have other copyright owners and</span>
  83  * are released under other open source licenses.
  84  *
  85  * libpng versions 0.97, January 1998, through 1.0.6, March 20, 2000, are
  86  * Copyright (c) 1998-2000 Glenn Randers-Pehrson, are derived from
  87  * libpng-0.96, and are distributed according to the same disclaimer and
<span class="line-modified">  88  * license as libpng-0.96, with the following individuals added to the list</span>
<span class="line-modified">  89  * of Contributing Authors:</span>
  90  *
<span class="line-modified">  91  *    Tom Lane</span>
<span class="line-modified">  92  *    Glenn Randers-Pehrson</span>
<span class="line-modified">  93  *    Willem van Schaik</span>
  94  *
  95  * libpng versions 0.89, June 1996, through 0.96, May 1997, are
  96  * Copyright (c) 1996-1997 Andreas Dilger, are derived from libpng-0.88,
  97  * and are distributed according to the same disclaimer and license as
  98  * libpng-0.88, with the following individuals added to the list of
  99  * Contributing Authors:
 100  *
<span class="line-modified"> 101  *    John Bowler</span>
<span class="line-modified"> 102  *    Kevin Bracey</span>
<span class="line-modified"> 103  *    Sam Bushell</span>
<span class="line-modified"> 104  *    Magnus Holmgren</span>
<span class="line-modified"> 105  *    Greg Roelofs</span>
<span class="line-modified"> 106  *    Tom Tanner</span>
 107  *
<span class="line-modified"> 108  * Some files in the &quot;scripts&quot; directory have other copyright owners</span>
 109  * but are released under this license.
 110  *
 111  * libpng versions 0.5, May 1995, through 0.88, January 1996, are
 112  * Copyright (c) 1995-1996 Guy Eric Schalnat, Group 42, Inc.
 113  *
 114  * For the purposes of this copyright and license, &quot;Contributing Authors&quot;
 115  * is defined as the following set of individuals:
 116  *
<span class="line-modified"> 117  *    Andreas Dilger</span>
<span class="line-modified"> 118  *    Dave Martindale</span>
<span class="line-modified"> 119  *    Guy Eric Schalnat</span>
<span class="line-modified"> 120  *    Paul Schmidt</span>
<span class="line-modified"> 121  *    Tim Wegner</span>
<span class="line-modified"> 122  *</span>
<span class="line-modified"> 123  * The PNG Reference Library is supplied &quot;AS IS&quot;.  The Contributing Authors</span>
<span class="line-modified"> 124  * and Group 42, Inc. disclaim all warranties, expressed or implied,</span>
<span class="line-modified"> 125  * including, without limitation, the warranties of merchantability and of</span>
<span class="line-modified"> 126  * fitness for any purpose.  The Contributing Authors and Group 42, Inc.</span>
<span class="line-modified"> 127  * assume no liability for direct, indirect, incidental, special, exemplary,</span>
<span class="line-modified"> 128  * or consequential damages, which may result from the use of the PNG</span>
<span class="line-modified"> 129  * Reference Library, even if advised of the possibility of such damage.</span>

 130  *
 131  * Permission is hereby granted to use, copy, modify, and distribute this
 132  * source code, or portions hereof, for any purpose, without fee, subject
 133  * to the following restrictions:
 134  *
<span class="line-modified"> 135  *   1. The origin of this source code must not be misrepresented.</span>
 136  *
<span class="line-modified"> 137  *   2. Altered versions must be plainly marked as such and must not</span>
<span class="line-modified"> 138  *      be misrepresented as being the original source.</span>
 139  *
<span class="line-modified"> 140  *   3. This Copyright notice may not be removed or altered from any</span>
<span class="line-modified"> 141  *      source or altered source distribution.</span>
 142  *
<span class="line-modified"> 143  * The Contributing Authors and Group 42, Inc. specifically permit, without</span>
<span class="line-modified"> 144  * fee, and encourage the use of this source code as a component to</span>
<span class="line-modified"> 145  * supporting the PNG file format in commercial products.  If you use this</span>
<span class="line-modified"> 146  * source code in a product, acknowledgment is not required but would be</span>
<span class="line-modified"> 147  * appreciated.</span>
 148  *
 149  * END OF COPYRIGHT NOTICE, DISCLAIMER, and LICENSE.
 150  *
<span class="line-modified"> 151  * TRADEMARK:</span>

 152  *
<span class="line-modified"> 153  * The name &quot;libpng&quot; has not been registered by the Copyright owner</span>
 154  * as a trademark in any jurisdiction.  However, because libpng has
 155  * been distributed and maintained world-wide, continually since 1995,
<span class="line-modified"> 156  * the Copyright owner claims &quot;common-law trademark protection&quot; in any</span>
 157  * jurisdiction where common-law trademark is recognized.
<span class="line-removed"> 158  *</span>
<span class="line-removed"> 159  * OSI CERTIFICATION:</span>
<span class="line-removed"> 160  *</span>
<span class="line-removed"> 161  * Libpng is OSI Certified Open Source Software.  OSI Certified Open Source is</span>
<span class="line-removed"> 162  * a certification mark of the Open Source Initiative. OSI has not addressed</span>
<span class="line-removed"> 163  * the additional disclaimers inserted at version 1.0.7.</span>
<span class="line-removed"> 164  *</span>
<span class="line-removed"> 165  * EXPORT CONTROL:</span>
<span class="line-removed"> 166  *</span>
<span class="line-removed"> 167  * The Copyright owner believes that the Export Control Classification</span>
<span class="line-removed"> 168  * Number (ECCN) for libpng is EAR99, which means not subject to export</span>
<span class="line-removed"> 169  * controls or International Traffic in Arms Regulations (ITAR) because</span>
<span class="line-removed"> 170  * it is open source, publicly available software, that does not contain</span>
<span class="line-removed"> 171  * any encryption software.  See the EAR, paragraphs 734.3(b)(3) and</span>
<span class="line-removed"> 172  * 734.7(b).</span>
 173  */
 174 
 175 /*
 176  * A &quot;png_get_copyright&quot; function is available, for convenient use in &quot;about&quot;
 177  * boxes and the like:
 178  *
 179  *    printf(&quot;%s&quot;, png_get_copyright(NULL));
 180  *
 181  * Also, the PNG logo (in PNG format, of course) is supplied in the
 182  * files &quot;pngbar.png&quot; and &quot;pngbar.jpg (88x31) and &quot;pngnow.png&quot; (98x31).
 183  */
 184 
 185 /*
 186  * The contributing authors would like to thank all those who helped
 187  * with testing, bug fixes, and patience.  This wouldn&#39;t have been
 188  * possible without all of you.
 189  *
 190  * Thanks to Frank J. T. Wojcik for helping with the documentation.
 191  */
 192 
</pre>
<hr />
<pre>
 218  *    1.0.2a-b                      10003  version, except as noted.
 219  *    1.0.3                         10003
 220  *    1.0.3a-d                      10004
 221  *    1.0.4                         10004
 222  *    1.0.4a-f                      10005
 223  *    1.0.5 (+ 2 patches)           10005
 224  *    1.0.5a-d                      10006
 225  *    1.0.5e-r                      10100 (not source compatible)
 226  *    1.0.5s-v                      10006 (not binary compatible)
 227  *    1.0.6 (+ 3 patches)           10006 (still binary incompatible)
 228  *    1.0.6d-f                      10007 (still binary incompatible)
 229  *    1.0.6g                        10007
 230  *    1.0.6h                        10007  10.6h (testing xy.z so-numbering)
 231  *    1.0.6i                        10007  10.6i
 232  *    1.0.6j                        10007  2.1.0.6j (incompatible with 1.0.0)
 233  *    1.0.7beta11-14        DLLNUM  10007  2.1.0.7beta11-14 (binary compatible)
 234  *    1.0.7beta15-18           1    10007  2.1.0.7beta15-18 (binary compatible)
 235  *    1.0.7rc1-2               1    10007  2.1.0.7rc1-2 (binary compatible)
 236  *    1.0.7                    1    10007  (still compatible)
 237  *    ...
<span class="line-modified"> 238  *    1.0.19                  10    10019  10.so.0.19[.0]</span>


 239  *    ...
<span class="line-modified"> 240  *    1.2.59                  13    10257  12.so.0.59[.0]</span>
 241  *    ...
<span class="line-modified"> 242  *    1.5.30                  15    10527  15.so.15.30[.0]</span>
 243  *    ...
<span class="line-modified"> 244  *    1.6.35                  16    10635  16.so.16.35[.0]</span>
<span class="line-modified"> 245  *</span>
<span class="line-modified"> 246  *    Henceforth the source version will match the shared-library major</span>
<span class="line-modified"> 247  *    and minor numbers; the shared-library major version number will be</span>
<span class="line-modified"> 248  *    used for changes in backward compatibility, as it is intended.  The</span>
<span class="line-modified"> 249  *    PNG_LIBPNG_VER macro, which is not used within libpng but is available</span>
<span class="line-modified"> 250  *    for applications, is an unsigned integer of the form xyyzz corresponding</span>
<span class="line-modified"> 251  *    to the source version x.y.z (leading zeros in y and z).  Beta versions</span>
<span class="line-modified"> 252  *    were given the previous public release number plus a letter, until</span>
<span class="line-modified"> 253  *    version 1.0.6j; from then on they were given the upcoming public</span>
<span class="line-modified"> 254  *    release number plus &quot;betaNN&quot; or &quot;rcNN&quot;.</span>
 255  *
 256  *    Binary incompatibility exists only when applications make direct access
 257  *    to the info_ptr or png_ptr members through png.h, and the compiled
 258  *    application is loaded with a different version of the library.
 259  *
 260  *    DLLNUM will change each time there are forward or backward changes
 261  *    in binary compatibility (e.g., when a new feature is added).
 262  *
 263  * See libpng.txt or libpng.3 for more information.  The PNG specification
<span class="line-modified"> 264  * is available as a W3C Recommendation and as an ISO Specification,</span>
<span class="line-modified"> 265  * &lt;https://www.w3.org/TR/2003/REC-PNG-20031110/</span>
<span class="line-removed"> 266  */</span>
<span class="line-removed"> 267 </span>
<span class="line-removed"> 268 /*</span>
<span class="line-removed"> 269  * Y2K compliance in libpng:</span>
<span class="line-removed"> 270  * =========================</span>
<span class="line-removed"> 271  *</span>
<span class="line-removed"> 272  *    July 15, 2018</span>
<span class="line-removed"> 273  *</span>
<span class="line-removed"> 274  *    Since the PNG Development group is an ad-hoc body, we can&#39;t make</span>
<span class="line-removed"> 275  *    an official declaration.</span>
<span class="line-removed"> 276  *</span>
<span class="line-removed"> 277  *    This is your unofficial assurance that libpng from version 0.71 and</span>
<span class="line-removed"> 278  *    upward through 1.6.35 are Y2K compliant.  It is my belief that</span>
<span class="line-removed"> 279  *    earlier versions were also Y2K compliant.</span>
<span class="line-removed"> 280  *</span>
<span class="line-removed"> 281  *    Libpng only has two year fields.  One is a 2-byte unsigned integer</span>
<span class="line-removed"> 282  *    that will hold years up to 65535.  The other, which is deprecated,</span>
<span class="line-removed"> 283  *    holds the date in text format, and will hold years up to 9999.</span>
<span class="line-removed"> 284  *</span>
<span class="line-removed"> 285  *    The integer is</span>
<span class="line-removed"> 286  *        &quot;png_uint_16 year&quot; in png_time_struct.</span>
<span class="line-removed"> 287  *</span>
<span class="line-removed"> 288  *    The string is</span>
<span class="line-removed"> 289  *        &quot;char time_buffer[29]&quot; in png_struct.  This is no longer used</span>
<span class="line-removed"> 290  *    in libpng-1.6.x and will be removed from libpng-1.7.0.</span>
<span class="line-removed"> 291  *</span>
<span class="line-removed"> 292  *    There are seven time-related functions:</span>
<span class="line-removed"> 293  *        png.c: png_convert_to_rfc_1123_buffer() in png.c</span>
<span class="line-removed"> 294  *          (formerly png_convert_to_rfc_1123() prior to libpng-1.5.x and</span>
<span class="line-removed"> 295  *          png_convert_to_rfc_1152() in error prior to libpng-0.98)</span>
<span class="line-removed"> 296  *        png_convert_from_struct_tm() in pngwrite.c, called in pngwrite.c</span>
<span class="line-removed"> 297  *        png_convert_from_time_t() in pngwrite.c</span>
<span class="line-removed"> 298  *        png_get_tIME() in pngget.c</span>
<span class="line-removed"> 299  *        png_handle_tIME() in pngrutil.c, called in pngread.c</span>
<span class="line-removed"> 300  *        png_set_tIME() in pngset.c</span>
<span class="line-removed"> 301  *        png_write_tIME() in pngwutil.c, called in pngwrite.c</span>
<span class="line-removed"> 302  *</span>
<span class="line-removed"> 303  *    All handle dates properly in a Y2K environment.  The</span>
<span class="line-removed"> 304  *    png_convert_from_time_t() function calls gmtime() to convert from system</span>
<span class="line-removed"> 305  *    clock time, which returns (year - 1900), which we properly convert to</span>
<span class="line-removed"> 306  *    the full 4-digit year.  There is a possibility that libpng applications</span>
<span class="line-removed"> 307  *    are not passing 4-digit years into the png_convert_to_rfc_1123_buffer()</span>
<span class="line-removed"> 308  *    function, or that they are incorrectly passing only a 2-digit year</span>
<span class="line-removed"> 309  *    instead of &quot;year - 1900&quot; into the png_convert_from_struct_tm() function,</span>
<span class="line-removed"> 310  *    but this is not under our control.  The libpng documentation has always</span>
<span class="line-removed"> 311  *    stated that it works with 4-digit years, and the APIs have been</span>
<span class="line-removed"> 312  *    documented as such.</span>
<span class="line-removed"> 313  *</span>
<span class="line-removed"> 314  *    The tIME chunk itself is also Y2K compliant.  It uses a 2-byte unsigned</span>
<span class="line-removed"> 315  *    integer to hold the year, and can hold years as large as 65535.</span>
<span class="line-removed"> 316  *</span>
<span class="line-removed"> 317  *    zlib, upon which libpng depends, is also Y2K compliant.  It contains</span>
<span class="line-removed"> 318  *    no date-related code.</span>
<span class="line-removed"> 319  *</span>
<span class="line-removed"> 320  *       Glenn Randers-Pehrson</span>
<span class="line-removed"> 321  *       libpng maintainer</span>
<span class="line-removed"> 322  *       PNG Development Group</span>
 323  */
 324 
 325 #ifndef PNG_H
 326 #define PNG_H
 327 
 328 /* This is not the place to learn how to use libpng. The file libpng-manual.txt
 329  * describes how to use libpng, and the file example.c summarizes it
 330  * with some code on which to build.  This file is useful for looking
 331  * at the actual function definitions and structure components.  If that
 332  * file has been stripped from your copy of libpng, you can find it at
 333  * &lt;http://www.libpng.org/pub/png/libpng-manual.txt&gt;
 334  *
 335  * If you just need to read a PNG file and don&#39;t want to read the documentation
 336  * skip to the end of this file and read the section entitled &#39;simplified API&#39;.
 337  */
 338 
 339 /* Version information for png.h - this should match the version in png.c */
<span class="line-modified"> 340 #define PNG_LIBPNG_VER_STRING &quot;1.6.35&quot;</span>
<span class="line-modified"> 341 #define PNG_HEADER_VERSION_STRING &quot; libpng version 1.6.35 - July 15, 2018\n&quot;</span>
 342 
 343 #define PNG_LIBPNG_VER_SONUM   16
 344 #define PNG_LIBPNG_VER_DLLNUM  16
 345 
 346 /* These should match the first 3 components of PNG_LIBPNG_VER_STRING: */
 347 #define PNG_LIBPNG_VER_MAJOR   1
 348 #define PNG_LIBPNG_VER_MINOR   6
<span class="line-modified"> 349 #define PNG_LIBPNG_VER_RELEASE 35</span>
 350 
<span class="line-modified"> 351 /* This should match the numeric part of the final component of</span>
<span class="line-modified"> 352  * PNG_LIBPNG_VER_STRING, omitting any leading zero:</span>
 353  */
<span class="line-modified"> 354 </span>
<span class="line-removed"> 355 #define PNG_LIBPNG_VER_BUILD  02</span>
 356 
 357 /* Release Status */
 358 #define PNG_LIBPNG_BUILD_ALPHA    1
 359 #define PNG_LIBPNG_BUILD_BETA     2
 360 #define PNG_LIBPNG_BUILD_RC       3
 361 #define PNG_LIBPNG_BUILD_STABLE   4
 362 #define PNG_LIBPNG_BUILD_RELEASE_STATUS_MASK 7
 363 
 364 /* Release-Specific Flags */
 365 #define PNG_LIBPNG_BUILD_PATCH    8 /* Can be OR&#39;ed with
 366                                        PNG_LIBPNG_BUILD_STABLE only */
 367 #define PNG_LIBPNG_BUILD_PRIVATE 16 /* Cannot be OR&#39;ed with
 368                                        PNG_LIBPNG_BUILD_SPECIAL */
 369 #define PNG_LIBPNG_BUILD_SPECIAL 32 /* Cannot be OR&#39;ed with
 370                                        PNG_LIBPNG_BUILD_PRIVATE */
 371 
<span class="line-modified"> 372 #define PNG_LIBPNG_BUILD_BASE_TYPE PNG_LIBPNG_BUILD_BETA</span>
 373 
<span class="line-modified"> 374 /* Careful here.  At one time, Guy wanted to use 082, but that would be octal.</span>
<span class="line-modified"> 375  * We must not include leading zeros.</span>
<span class="line-modified"> 376  * Versions 0.7 through 1.0.0 were in the range 0 to 100 here (only</span>
<span class="line-modified"> 377  * version 1.0.0 was mis-numbered 100 instead of 10000).  From</span>
<span class="line-modified"> 378  * version 1.0.1 it&#39;s    xxyyzz, where x=major, y=minor, z=release</span>

 379  */
<span class="line-modified"> 380 #define PNG_LIBPNG_VER 10635 /* 1.6.35 */</span>
 381 
 382 /* Library configuration: these options cannot be changed after
 383  * the library has been built.
 384  */
 385 #ifndef PNGLCONF_H
 386 /* If pnglibconf.h is missing, you can
 387  * copy scripts/pnglibconf.h.prebuilt to pnglibconf.h
 388  */
 389 #   include &quot;pnglibconf.h&quot;
 390 #endif
 391 
 392 #ifndef PNG_VERSION_INFO_ONLY
 393 /* Machine specific configuration. */
 394 #  include &quot;pngconf.h&quot;
 395 #endif
 396 
 397 /*
 398  * Added at libpng-1.2.8
 399  *
 400  * Ref MSDN: Private as priority over Special
</pre>
<hr />
<pre>
 470  * does not use division?
 471  *   PNG_READ_COMPOSITE_NODIV_SUPPORTED: use the &#39;no division&#39;
 472  *      algorithm.
 473  *   PNG_NO_READ_COMPOSITE_NODIV: use the &#39;division&#39; algorithm.
 474  *
 475  * How to handle benign errors if PNG_ALLOW_BENIGN_ERRORS is
 476  * false?
 477  *   PNG_ALLOW_BENIGN_ERRORS: map calls to the benign error
 478  *      APIs to png_warning.
 479  * Otherwise the calls are mapped to png_error.
 480  */
 481 
 482 /* Section 3: type definitions, including structures and compile time
 483  * constants.
 484  * See pngconf.h for base types that vary by machine/system
 485  */
 486 
 487 /* This triggers a compiler error in png.c, if png.c and png.h
 488  * do not agree upon the version number.
 489  */
<span class="line-modified"> 490 typedef char* png_libpng_version_1_6_35;</span>
 491 
 492 /* Basic control structions.  Read libpng-manual.txt or libpng.3 for more info.
 493  *
 494  * png_struct is the cache of information used while reading or writing a single
 495  * PNG file.  One of these is always required, although the simplified API
 496  * (below) hides the creation and destruction of it.
 497  */
 498 typedef struct png_struct_def png_struct;
 499 typedef const png_struct * png_const_structp;
 500 typedef png_struct * png_structp;
 501 typedef png_struct * * png_structpp;
 502 
 503 /* png_info contains information read from or to be written to a PNG file.  One
 504  * or more of these must exist while reading or creating a PNG file.  The
 505  * information is not used by libpng during read but is used to control what
 506  * gets written when a PNG file is created.  &quot;png_get_&quot; function calls read
 507  * information during read and &quot;png_set_&quot; functions calls write information
 508  * when creating a PNG.
 509  * been moved into a separate header file that is not accessible to
 510  * applications.  Read libpng-manual.txt or libpng.3 for more info.
</pre>
<hr />
<pre>
2024     double green_X, double green_Y, double green_Z, double blue_X,
2025     double blue_Y, double blue_Z))
2026 PNG_FIXED_EXPORT(136, void, png_set_cHRM_fixed, (png_const_structrp png_ptr,
2027     png_inforp info_ptr, png_fixed_point int_white_x,
2028     png_fixed_point int_white_y, png_fixed_point int_red_x,
2029     png_fixed_point int_red_y, png_fixed_point int_green_x,
2030     png_fixed_point int_green_y, png_fixed_point int_blue_x,
2031     png_fixed_point int_blue_y))
2032 PNG_FIXED_EXPORT(233, void, png_set_cHRM_XYZ_fixed, (png_const_structrp png_ptr,
2033     png_inforp info_ptr, png_fixed_point int_red_X, png_fixed_point int_red_Y,
2034     png_fixed_point int_red_Z, png_fixed_point int_green_X,
2035     png_fixed_point int_green_Y, png_fixed_point int_green_Z,
2036     png_fixed_point int_blue_X, png_fixed_point int_blue_Y,
2037     png_fixed_point int_blue_Z))
2038 #endif
2039 
2040 #ifdef PNG_eXIf_SUPPORTED
2041 PNG_EXPORT(246, png_uint_32, png_get_eXIf, (png_const_structrp png_ptr,
2042     png_inforp info_ptr, png_bytep *exif));
2043 PNG_EXPORT(247, void, png_set_eXIf, (png_const_structrp png_ptr,
<span class="line-modified">2044     png_inforp info_ptr, const png_bytep exif));</span>
2045 
2046 PNG_EXPORT(248, png_uint_32, png_get_eXIf_1, (png_const_structrp png_ptr,
2047     png_const_inforp info_ptr, png_uint_32 *num_exif, png_bytep *exif));
2048 PNG_EXPORT(249, void, png_set_eXIf_1, (png_const_structrp png_ptr,
<span class="line-modified">2049     png_inforp info_ptr, const png_uint_32 num_exif, const png_bytep exif));</span>
2050 #endif
2051 
2052 #ifdef PNG_gAMA_SUPPORTED
2053 PNG_FP_EXPORT(137, png_uint_32, png_get_gAMA, (png_const_structrp png_ptr,
2054     png_const_inforp info_ptr, double *file_gamma))
2055 PNG_FIXED_EXPORT(138, png_uint_32, png_get_gAMA_fixed,
2056     (png_const_structrp png_ptr, png_const_inforp info_ptr,
2057     png_fixed_point *int_file_gamma))
2058 #endif
2059 
2060 #ifdef PNG_gAMA_SUPPORTED
2061 PNG_FP_EXPORT(139, void, png_set_gAMA, (png_const_structrp png_ptr,
2062     png_inforp info_ptr, double file_gamma))
2063 PNG_FIXED_EXPORT(140, void, png_set_gAMA_fixed, (png_const_structrp png_ptr,
2064     png_inforp info_ptr, png_fixed_point int_file_gamma))
2065 #endif
2066 
2067 #ifdef PNG_hIST_SUPPORTED
2068 PNG_EXPORT(141, png_uint_32, png_get_hIST, (png_const_structrp png_ptr,
2069     png_inforp info_ptr, png_uint_16p *hist));
</pre>
<hr />
<pre>
2775  * 4: Three color channels and an alpha channel (RGBA).
2776  *
2777  * The components are encoded in one of two ways:
2778  *
2779  * a) As a small integer, value 0..255, contained in a single byte.  For the
2780  * alpha channel the original value is simply value/255.  For the color or
2781  * luminance channels the value is encoded according to the sRGB specification
2782  * and matches the 8-bit format expected by typical display devices.
2783  *
2784  * The color/gray channels are not scaled (pre-multiplied) by the alpha
2785  * channel and are suitable for passing to color management software.
2786  *
2787  * b) As a value in the range 0..65535, contained in a 2-byte integer.  All
2788  * channels can be converted to the original value by dividing by 65535; all
2789  * channels are linear.  Color channels use the RGB encoding (RGB end-points) of
2790  * the sRGB specification.  This encoding is identified by the
2791  * PNG_FORMAT_FLAG_LINEAR flag below.
2792  *
2793  * When the simplified API needs to convert between sRGB and linear colorspaces,
2794  * the actual sRGB transfer curve defined in the sRGB specification (see the
<span class="line-modified">2795  * article at https://en.wikipedia.org/wiki/SRGB) is used, not the gamma=1/2.2</span>
2796  * approximation used elsewhere in libpng.
2797  *
2798  * When an alpha channel is present it is expected to denote pixel coverage
2799  * of the color or luminance channels and is returned as an associated alpha
2800  * channel: the color/gray channels are scaled (pre-multiplied) by the alpha
2801  * value.
2802  *
2803  * The samples are either contained directly in the image data, between 1 and 8
2804  * bytes per pixel according to the encoding, or are held in a color-map indexed
2805  * by bytes in the image data.  In the case of a color-map the color-map entries
2806  * are individual samples, encoded as above, and the image data has one byte per
2807  * pixel to select the relevant sample from the color-map.
2808  */
2809 
2810 /* PNG_FORMAT_*
2811  *
2812  * #defines to be used in png_image::format.  Each #define identifies a
2813  * particular layout of sample data and, if present, alpha values.  There are
2814  * separate defines for each of the two component encodings.
2815  *
</pre>
<hr />
<pre>
2978 #define PNG_IMAGE_SIZE(image)\
2979    PNG_IMAGE_BUFFER_SIZE(image, PNG_IMAGE_ROW_STRIDE(image))
2980    /* Return the size, in bytes, of the image in memory given just a png_image;
2981     * the row stride is the minimum stride required for the image.
2982     */
2983 
2984 #define PNG_IMAGE_COLORMAP_SIZE(image)\
2985    (PNG_IMAGE_SAMPLE_SIZE((image).format) * (image).colormap_entries)
2986    /* Return the size, in bytes, of the color-map of this image.  If the image
2987     * format is not a color-map format this will return a size sufficient for
2988     * 256 entries in the given format; check PNG_FORMAT_FLAG_COLORMAP if
2989     * you don&#39;t want to allocate a color-map in this case.
2990     */
2991 
2992 /* PNG_IMAGE_FLAG_*
2993  *
2994  * Flags containing additional information about the image are held in the
2995  * &#39;flags&#39; field of png_image.
2996  */
2997 #define PNG_IMAGE_FLAG_COLORSPACE_NOT_sRGB 0x01
<span class="line-modified">2998    /* This indicates the the RGB values of the in-memory bitmap do not</span>
2999     * correspond to the red, green and blue end-points defined by sRGB.
3000     */
3001 
3002 #define PNG_IMAGE_FLAG_FAST 0x02
3003    /* On write emphasise speed over compression; the resultant PNG file will be
3004     * larger but will be produced significantly faster, particular for large
3005     * images.  Do not use this option for images which will be distributed, only
3006     * used it when producing intermediate files that will be read back in
3007     * repeatedly.  For a typical 24-bit image the option will double the read
3008     * speed at the cost of increasing the image size by 25%, however for many
3009     * more compressible images the PNG file can be 10 times larger with only a
3010     * slight speed gain.
3011     */
3012 
3013 #define PNG_IMAGE_FLAG_16BIT_sRGB 0x04
3014    /* On read if the image is a 16-bit per component image and there is no gAMA
3015     * or sRGB chunk assume that the components are sRGB encoded.  Notice that
3016     * images output by the simplified API always have gamma information; setting
3017     * this flag only affects the interpretation of 16-bit images from an
3018     * external source.  It is recommended that the application expose this flag
</pre>
</td>
<td>
<hr />
<pre>
  12  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  13  * version 2 for more details (a copy is included in the LICENSE file that
  14  * accompanied this code).
  15  *
  16  * You should have received a copy of the GNU General Public License version
  17  * 2 along with this work; if not, write to the Free Software Foundation,
  18  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  19  *
  20  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  21  * or visit www.oracle.com if you need additional information or have any
  22  * questions.
  23  */
  24 
  25 /* png.h - header file for PNG reference library
  26  *
  27  * This file is available under and governed by the GNU General Public
  28  * License version 2 only, as published by the Free Software Foundation.
  29  * However, the following notice accompanied the original version of this
  30  * file and, per its terms, should not be removed:
  31  *
<span class="line-modified">  32  * libpng version 1.6.37 - April 14, 2019</span>
  33  *
<span class="line-added">  34  * Copyright (c) 2018-2019 Cosmin Truta</span>
  35  * Copyright (c) 1998-2002,2004,2006-2018 Glenn Randers-Pehrson
<span class="line-modified">  36  * Copyright (c) 1996-1997 Andreas Dilger</span>
<span class="line-modified">  37  * Copyright (c) 1995-1996 Guy Eric Schalnat, Group 42, Inc.</span>
  38  *
<span class="line-modified">  39  * This code is released under the libpng license. (See LICENSE, below.)</span>
  40  *
  41  * Authors and maintainers:
  42  *   libpng versions 0.71, May 1995, through 0.88, January 1996: Guy Schalnat
  43  *   libpng versions 0.89, June 1996, through 0.96, May 1997: Andreas Dilger
<span class="line-modified">  44  *   libpng versions 0.97, January 1998, through 1.6.35, July 2018:</span>
<span class="line-modified">  45  *     Glenn Randers-Pehrson</span>
<span class="line-added">  46  *   libpng versions 1.6.36, December 2018, through 1.6.37, April 2019:</span>
<span class="line-added">  47  *     Cosmin Truta</span>
  48  *   See also &quot;Contributing Authors&quot;, below.
  49  */
  50 
  51 /*
<span class="line-modified">  52  * COPYRIGHT NOTICE, DISCLAIMER, and LICENSE</span>
<span class="line-added">  53  * =========================================</span>
<span class="line-added">  54  *</span>
<span class="line-added">  55  * PNG Reference Library License version 2</span>
<span class="line-added">  56  * ---------------------------------------</span>
<span class="line-added">  57  *</span>
<span class="line-added">  58  *  * Copyright (c) 1995-2019 The PNG Reference Library Authors.</span>
<span class="line-added">  59  *  * Copyright (c) 2018-2019 Cosmin Truta.</span>
<span class="line-added">  60  *  * Copyright (c) 2000-2002, 2004, 2006-2018 Glenn Randers-Pehrson.</span>
<span class="line-added">  61  *  * Copyright (c) 1996-1997 Andreas Dilger.</span>
<span class="line-added">  62  *  * Copyright (c) 1995-1996 Guy Eric Schalnat, Group 42, Inc.</span>
<span class="line-added">  63  *</span>
<span class="line-added">  64  * The software is supplied &quot;as is&quot;, without warranty of any kind,</span>
<span class="line-added">  65  * express or implied, including, without limitation, the warranties</span>
<span class="line-added">  66  * of merchantability, fitness for a particular purpose, title, and</span>
<span class="line-added">  67  * non-infringement.  In no event shall the Copyright owners, or</span>
<span class="line-added">  68  * anyone distributing the software, be liable for any damages or</span>
<span class="line-added">  69  * other liability, whether in contract, tort or otherwise, arising</span>
<span class="line-added">  70  * from, out of, or in connection with the software, or the use or</span>
<span class="line-added">  71  * other dealings in the software, even if advised of the possibility</span>
<span class="line-added">  72  * of such damage.</span>
<span class="line-added">  73  *</span>
<span class="line-added">  74  * Permission is hereby granted to use, copy, modify, and distribute</span>
<span class="line-added">  75  * this software, or portions hereof, for any purpose, without fee,</span>
<span class="line-added">  76  * subject to the following restrictions:</span>
  77  *
<span class="line-modified">  78  *  1. The origin of this software must not be misrepresented; you</span>
<span class="line-modified">  79  *     must not claim that you wrote the original software.  If you</span>
<span class="line-added">  80  *     use this software in a product, an acknowledgment in the product</span>
<span class="line-added">  81  *     documentation would be appreciated, but is not required.</span>
  82  *
<span class="line-modified">  83  *  2. Altered source versions must be plainly marked as such, and must</span>
<span class="line-added">  84  *     not be misrepresented as being the original software.</span>
  85  *
<span class="line-modified">  86  *  3. This Copyright notice may not be removed or altered from any</span>
<span class="line-added">  87  *     source or altered source distribution.</span>
<span class="line-added">  88  *</span>
<span class="line-added">  89  *</span>
<span class="line-added">  90  * PNG Reference Library License version 1 (for libpng 0.5 through 1.6.35)</span>
<span class="line-added">  91  * -----------------------------------------------------------------------</span>
<span class="line-added">  92  *</span>
<span class="line-added">  93  * libpng versions 1.0.7, July 1, 2000, through 1.6.35, July 15, 2018 are</span>
  94  * Copyright (c) 2000-2002, 2004, 2006-2018 Glenn Randers-Pehrson, are
  95  * derived from libpng-1.0.6, and are distributed according to the same
  96  * disclaimer and license as libpng-1.0.6 with the following individuals
  97  * added to the list of Contributing Authors:
  98  *
<span class="line-modified">  99  *     Simon-Pierre Cadieux</span>
<span class="line-modified"> 100  *     Eric S. Raymond</span>
<span class="line-modified"> 101  *     Mans Rullgard</span>
<span class="line-modified"> 102  *     Cosmin Truta</span>
<span class="line-modified"> 103  *     Gilles Vollant</span>
<span class="line-modified"> 104  *     James Yu</span>
<span class="line-modified"> 105  *     Mandar Sahastrabuddhe</span>
<span class="line-modified"> 106  *     Google Inc.</span>
<span class="line-modified"> 107  *     Vadim Barkov</span>
 108  *
 109  * and with the following additions to the disclaimer:
 110  *
<span class="line-modified"> 111  *     There is no warranty against interference with your enjoyment of</span>
<span class="line-modified"> 112  *     the library or against infringement.  There is no warranty that our</span>
<span class="line-modified"> 113  *     efforts or the library will fulfill any of your particular purposes</span>
<span class="line-modified"> 114  *     or needs.  This library is provided with all faults, and the entire</span>
<span class="line-modified"> 115  *     risk of satisfactory quality, performance, accuracy, and effort is</span>
<span class="line-modified"> 116  *     with the user.</span>
 117  *
 118  * Some files in the &quot;contrib&quot; directory and some configure-generated
<span class="line-modified"> 119  * files that are distributed with libpng have other copyright owners, and</span>
 120  * are released under other open source licenses.
 121  *
 122  * libpng versions 0.97, January 1998, through 1.0.6, March 20, 2000, are
 123  * Copyright (c) 1998-2000 Glenn Randers-Pehrson, are derived from
 124  * libpng-0.96, and are distributed according to the same disclaimer and
<span class="line-modified"> 125  * license as libpng-0.96, with the following individuals added to the</span>
<span class="line-modified"> 126  * list of Contributing Authors:</span>
 127  *
<span class="line-modified"> 128  *     Tom Lane</span>
<span class="line-modified"> 129  *     Glenn Randers-Pehrson</span>
<span class="line-modified"> 130  *     Willem van Schaik</span>
 131  *
 132  * libpng versions 0.89, June 1996, through 0.96, May 1997, are
 133  * Copyright (c) 1996-1997 Andreas Dilger, are derived from libpng-0.88,
 134  * and are distributed according to the same disclaimer and license as
 135  * libpng-0.88, with the following individuals added to the list of
 136  * Contributing Authors:
 137  *
<span class="line-modified"> 138  *     John Bowler</span>
<span class="line-modified"> 139  *     Kevin Bracey</span>
<span class="line-modified"> 140  *     Sam Bushell</span>
<span class="line-modified"> 141  *     Magnus Holmgren</span>
<span class="line-modified"> 142  *     Greg Roelofs</span>
<span class="line-modified"> 143  *     Tom Tanner</span>
 144  *
<span class="line-modified"> 145  * Some files in the &quot;scripts&quot; directory have other copyright owners,</span>
 146  * but are released under this license.
 147  *
 148  * libpng versions 0.5, May 1995, through 0.88, January 1996, are
 149  * Copyright (c) 1995-1996 Guy Eric Schalnat, Group 42, Inc.
 150  *
 151  * For the purposes of this copyright and license, &quot;Contributing Authors&quot;
 152  * is defined as the following set of individuals:
 153  *
<span class="line-modified"> 154  *     Andreas Dilger</span>
<span class="line-modified"> 155  *     Dave Martindale</span>
<span class="line-modified"> 156  *     Guy Eric Schalnat</span>
<span class="line-modified"> 157  *     Paul Schmidt</span>
<span class="line-modified"> 158  *     Tim Wegner</span>
<span class="line-modified"> 159  *</span>
<span class="line-modified"> 160  * The PNG Reference Library is supplied &quot;AS IS&quot;.  The Contributing</span>
<span class="line-modified"> 161  * Authors and Group 42, Inc. disclaim all warranties, expressed or</span>
<span class="line-modified"> 162  * implied, including, without limitation, the warranties of</span>
<span class="line-modified"> 163  * merchantability and of fitness for any purpose.  The Contributing</span>
<span class="line-modified"> 164  * Authors and Group 42, Inc. assume no liability for direct, indirect,</span>
<span class="line-modified"> 165  * incidental, special, exemplary, or consequential damages, which may</span>
<span class="line-modified"> 166  * result from the use of the PNG Reference Library, even if advised of</span>
<span class="line-added"> 167  * the possibility of such damage.</span>
 168  *
 169  * Permission is hereby granted to use, copy, modify, and distribute this
 170  * source code, or portions hereof, for any purpose, without fee, subject
 171  * to the following restrictions:
 172  *
<span class="line-modified"> 173  *  1. The origin of this source code must not be misrepresented.</span>
 174  *
<span class="line-modified"> 175  *  2. Altered versions must be plainly marked as such and must not</span>
<span class="line-modified"> 176  *     be misrepresented as being the original source.</span>
 177  *
<span class="line-modified"> 178  *  3. This Copyright notice may not be removed or altered from any</span>
<span class="line-modified"> 179  *     source or altered source distribution.</span>
 180  *
<span class="line-modified"> 181  * The Contributing Authors and Group 42, Inc. specifically permit,</span>
<span class="line-modified"> 182  * without fee, and encourage the use of this source code as a component</span>
<span class="line-modified"> 183  * to supporting the PNG file format in commercial products.  If you use</span>
<span class="line-modified"> 184  * this source code in a product, acknowledgment is not required but would</span>
<span class="line-modified"> 185  * be appreciated.</span>
 186  *
 187  * END OF COPYRIGHT NOTICE, DISCLAIMER, and LICENSE.
 188  *
<span class="line-modified"> 189  * TRADEMARK</span>
<span class="line-added"> 190  * =========</span>
 191  *
<span class="line-modified"> 192  * The name &quot;libpng&quot; has not been registered by the Copyright owners</span>
 193  * as a trademark in any jurisdiction.  However, because libpng has
 194  * been distributed and maintained world-wide, continually since 1995,
<span class="line-modified"> 195  * the Copyright owners claim &quot;common-law trademark protection&quot; in any</span>
 196  * jurisdiction where common-law trademark is recognized.















 197  */
 198 
 199 /*
 200  * A &quot;png_get_copyright&quot; function is available, for convenient use in &quot;about&quot;
 201  * boxes and the like:
 202  *
 203  *    printf(&quot;%s&quot;, png_get_copyright(NULL));
 204  *
 205  * Also, the PNG logo (in PNG format, of course) is supplied in the
 206  * files &quot;pngbar.png&quot; and &quot;pngbar.jpg (88x31) and &quot;pngnow.png&quot; (98x31).
 207  */
 208 
 209 /*
 210  * The contributing authors would like to thank all those who helped
 211  * with testing, bug fixes, and patience.  This wouldn&#39;t have been
 212  * possible without all of you.
 213  *
 214  * Thanks to Frank J. T. Wojcik for helping with the documentation.
 215  */
 216 
</pre>
<hr />
<pre>
 242  *    1.0.2a-b                      10003  version, except as noted.
 243  *    1.0.3                         10003
 244  *    1.0.3a-d                      10004
 245  *    1.0.4                         10004
 246  *    1.0.4a-f                      10005
 247  *    1.0.5 (+ 2 patches)           10005
 248  *    1.0.5a-d                      10006
 249  *    1.0.5e-r                      10100 (not source compatible)
 250  *    1.0.5s-v                      10006 (not binary compatible)
 251  *    1.0.6 (+ 3 patches)           10006 (still binary incompatible)
 252  *    1.0.6d-f                      10007 (still binary incompatible)
 253  *    1.0.6g                        10007
 254  *    1.0.6h                        10007  10.6h (testing xy.z so-numbering)
 255  *    1.0.6i                        10007  10.6i
 256  *    1.0.6j                        10007  2.1.0.6j (incompatible with 1.0.0)
 257  *    1.0.7beta11-14        DLLNUM  10007  2.1.0.7beta11-14 (binary compatible)
 258  *    1.0.7beta15-18           1    10007  2.1.0.7beta15-18 (binary compatible)
 259  *    1.0.7rc1-2               1    10007  2.1.0.7rc1-2 (binary compatible)
 260  *    1.0.7                    1    10007  (still compatible)
 261  *    ...
<span class="line-modified"> 262  *    1.0.69                  10    10069  10.so.0.69[.0]</span>
<span class="line-added"> 263  *    ...</span>
<span class="line-added"> 264  *    1.2.59                  13    10259  12.so.0.59[.0]</span>
 265  *    ...
<span class="line-modified"> 266  *    1.4.20                  14    10420  14.so.0.20[.0]</span>
 267  *    ...
<span class="line-modified"> 268  *    1.5.30                  15    10530  15.so.15.30[.0]</span>
 269  *    ...
<span class="line-modified"> 270  *    1.6.37                  16    10637  16.so.16.37[.0]</span>
<span class="line-modified"> 271  *</span>
<span class="line-modified"> 272  *    Henceforth the source version will match the shared-library major and</span>
<span class="line-modified"> 273  *    minor numbers; the shared-library major version number will be used for</span>
<span class="line-modified"> 274  *    changes in backward compatibility, as it is intended.</span>
<span class="line-modified"> 275  *    The PNG_LIBPNG_VER macro, which is not used within libpng but is</span>
<span class="line-modified"> 276  *    available for applications, is an unsigned integer of the form XYYZZ</span>
<span class="line-modified"> 277  *    corresponding to the source version X.Y.Z (leading zeros in Y and Z).</span>
<span class="line-modified"> 278  *    Beta versions were given the previous public release number plus a</span>
<span class="line-modified"> 279  *    letter, until version 1.0.6j; from then on they were given the upcoming</span>
<span class="line-modified"> 280  *    public release number plus &quot;betaNN&quot; or &quot;rcNN&quot;.</span>
 281  *
 282  *    Binary incompatibility exists only when applications make direct access
 283  *    to the info_ptr or png_ptr members through png.h, and the compiled
 284  *    application is loaded with a different version of the library.
 285  *
 286  *    DLLNUM will change each time there are forward or backward changes
 287  *    in binary compatibility (e.g., when a new feature is added).
 288  *
 289  * See libpng.txt or libpng.3 for more information.  The PNG specification
<span class="line-modified"> 290  * is available as a W3C Recommendation and as an ISO/IEC Standard; see</span>
<span class="line-modified"> 291  * &lt;https://www.w3.org/TR/2003/REC-PNG-20031110/&gt;</span>

























































 292  */
 293 
 294 #ifndef PNG_H
 295 #define PNG_H
 296 
 297 /* This is not the place to learn how to use libpng. The file libpng-manual.txt
 298  * describes how to use libpng, and the file example.c summarizes it
 299  * with some code on which to build.  This file is useful for looking
 300  * at the actual function definitions and structure components.  If that
 301  * file has been stripped from your copy of libpng, you can find it at
 302  * &lt;http://www.libpng.org/pub/png/libpng-manual.txt&gt;
 303  *
 304  * If you just need to read a PNG file and don&#39;t want to read the documentation
 305  * skip to the end of this file and read the section entitled &#39;simplified API&#39;.
 306  */
 307 
 308 /* Version information for png.h - this should match the version in png.c */
<span class="line-modified"> 309 #define PNG_LIBPNG_VER_STRING &quot;1.6.37&quot;</span>
<span class="line-modified"> 310 #define PNG_HEADER_VERSION_STRING &quot; libpng version 1.6.37 - April 14, 2019\n&quot;</span>
 311 
 312 #define PNG_LIBPNG_VER_SONUM   16
 313 #define PNG_LIBPNG_VER_DLLNUM  16
 314 
 315 /* These should match the first 3 components of PNG_LIBPNG_VER_STRING: */
 316 #define PNG_LIBPNG_VER_MAJOR   1
 317 #define PNG_LIBPNG_VER_MINOR   6
<span class="line-modified"> 318 #define PNG_LIBPNG_VER_RELEASE 37</span>
 319 
<span class="line-modified"> 320 /* This should be zero for a public release, or non-zero for a</span>
<span class="line-modified"> 321  * development version.  [Deprecated]</span>
 322  */
<span class="line-modified"> 323 #define PNG_LIBPNG_VER_BUILD  0</span>

 324 
 325 /* Release Status */
 326 #define PNG_LIBPNG_BUILD_ALPHA    1
 327 #define PNG_LIBPNG_BUILD_BETA     2
 328 #define PNG_LIBPNG_BUILD_RC       3
 329 #define PNG_LIBPNG_BUILD_STABLE   4
 330 #define PNG_LIBPNG_BUILD_RELEASE_STATUS_MASK 7
 331 
 332 /* Release-Specific Flags */
 333 #define PNG_LIBPNG_BUILD_PATCH    8 /* Can be OR&#39;ed with
 334                                        PNG_LIBPNG_BUILD_STABLE only */
 335 #define PNG_LIBPNG_BUILD_PRIVATE 16 /* Cannot be OR&#39;ed with
 336                                        PNG_LIBPNG_BUILD_SPECIAL */
 337 #define PNG_LIBPNG_BUILD_SPECIAL 32 /* Cannot be OR&#39;ed with
 338                                        PNG_LIBPNG_BUILD_PRIVATE */
 339 
<span class="line-modified"> 340 #define PNG_LIBPNG_BUILD_BASE_TYPE PNG_LIBPNG_BUILD_STABLE</span>
 341 
<span class="line-modified"> 342 /* Careful here.  At one time, Guy wanted to use 082, but that</span>
<span class="line-modified"> 343  * would be octal.  We must not include leading zeros.</span>
<span class="line-modified"> 344  * Versions 0.7 through 1.0.0 were in the range 0 to 100 here</span>
<span class="line-modified"> 345  * (only version 1.0.0 was mis-numbered 100 instead of 10000).</span>
<span class="line-modified"> 346  * From version 1.0.1 it is:</span>
<span class="line-added"> 347  * XXYYZZ, where XX=major, YY=minor, ZZ=release</span>
 348  */
<span class="line-modified"> 349 #define PNG_LIBPNG_VER 10637 /* 1.6.37 */</span>
 350 
 351 /* Library configuration: these options cannot be changed after
 352  * the library has been built.
 353  */
 354 #ifndef PNGLCONF_H
 355 /* If pnglibconf.h is missing, you can
 356  * copy scripts/pnglibconf.h.prebuilt to pnglibconf.h
 357  */
 358 #   include &quot;pnglibconf.h&quot;
 359 #endif
 360 
 361 #ifndef PNG_VERSION_INFO_ONLY
 362 /* Machine specific configuration. */
 363 #  include &quot;pngconf.h&quot;
 364 #endif
 365 
 366 /*
 367  * Added at libpng-1.2.8
 368  *
 369  * Ref MSDN: Private as priority over Special
</pre>
<hr />
<pre>
 439  * does not use division?
 440  *   PNG_READ_COMPOSITE_NODIV_SUPPORTED: use the &#39;no division&#39;
 441  *      algorithm.
 442  *   PNG_NO_READ_COMPOSITE_NODIV: use the &#39;division&#39; algorithm.
 443  *
 444  * How to handle benign errors if PNG_ALLOW_BENIGN_ERRORS is
 445  * false?
 446  *   PNG_ALLOW_BENIGN_ERRORS: map calls to the benign error
 447  *      APIs to png_warning.
 448  * Otherwise the calls are mapped to png_error.
 449  */
 450 
 451 /* Section 3: type definitions, including structures and compile time
 452  * constants.
 453  * See pngconf.h for base types that vary by machine/system
 454  */
 455 
 456 /* This triggers a compiler error in png.c, if png.c and png.h
 457  * do not agree upon the version number.
 458  */
<span class="line-modified"> 459 typedef char* png_libpng_version_1_6_37;</span>
 460 
 461 /* Basic control structions.  Read libpng-manual.txt or libpng.3 for more info.
 462  *
 463  * png_struct is the cache of information used while reading or writing a single
 464  * PNG file.  One of these is always required, although the simplified API
 465  * (below) hides the creation and destruction of it.
 466  */
 467 typedef struct png_struct_def png_struct;
 468 typedef const png_struct * png_const_structp;
 469 typedef png_struct * png_structp;
 470 typedef png_struct * * png_structpp;
 471 
 472 /* png_info contains information read from or to be written to a PNG file.  One
 473  * or more of these must exist while reading or creating a PNG file.  The
 474  * information is not used by libpng during read but is used to control what
 475  * gets written when a PNG file is created.  &quot;png_get_&quot; function calls read
 476  * information during read and &quot;png_set_&quot; functions calls write information
 477  * when creating a PNG.
 478  * been moved into a separate header file that is not accessible to
 479  * applications.  Read libpng-manual.txt or libpng.3 for more info.
</pre>
<hr />
<pre>
1993     double green_X, double green_Y, double green_Z, double blue_X,
1994     double blue_Y, double blue_Z))
1995 PNG_FIXED_EXPORT(136, void, png_set_cHRM_fixed, (png_const_structrp png_ptr,
1996     png_inforp info_ptr, png_fixed_point int_white_x,
1997     png_fixed_point int_white_y, png_fixed_point int_red_x,
1998     png_fixed_point int_red_y, png_fixed_point int_green_x,
1999     png_fixed_point int_green_y, png_fixed_point int_blue_x,
2000     png_fixed_point int_blue_y))
2001 PNG_FIXED_EXPORT(233, void, png_set_cHRM_XYZ_fixed, (png_const_structrp png_ptr,
2002     png_inforp info_ptr, png_fixed_point int_red_X, png_fixed_point int_red_Y,
2003     png_fixed_point int_red_Z, png_fixed_point int_green_X,
2004     png_fixed_point int_green_Y, png_fixed_point int_green_Z,
2005     png_fixed_point int_blue_X, png_fixed_point int_blue_Y,
2006     png_fixed_point int_blue_Z))
2007 #endif
2008 
2009 #ifdef PNG_eXIf_SUPPORTED
2010 PNG_EXPORT(246, png_uint_32, png_get_eXIf, (png_const_structrp png_ptr,
2011     png_inforp info_ptr, png_bytep *exif));
2012 PNG_EXPORT(247, void, png_set_eXIf, (png_const_structrp png_ptr,
<span class="line-modified">2013     png_inforp info_ptr, png_bytep exif));</span>
2014 
2015 PNG_EXPORT(248, png_uint_32, png_get_eXIf_1, (png_const_structrp png_ptr,
2016     png_const_inforp info_ptr, png_uint_32 *num_exif, png_bytep *exif));
2017 PNG_EXPORT(249, void, png_set_eXIf_1, (png_const_structrp png_ptr,
<span class="line-modified">2018     png_inforp info_ptr, png_uint_32 num_exif, png_bytep exif));</span>
2019 #endif
2020 
2021 #ifdef PNG_gAMA_SUPPORTED
2022 PNG_FP_EXPORT(137, png_uint_32, png_get_gAMA, (png_const_structrp png_ptr,
2023     png_const_inforp info_ptr, double *file_gamma))
2024 PNG_FIXED_EXPORT(138, png_uint_32, png_get_gAMA_fixed,
2025     (png_const_structrp png_ptr, png_const_inforp info_ptr,
2026     png_fixed_point *int_file_gamma))
2027 #endif
2028 
2029 #ifdef PNG_gAMA_SUPPORTED
2030 PNG_FP_EXPORT(139, void, png_set_gAMA, (png_const_structrp png_ptr,
2031     png_inforp info_ptr, double file_gamma))
2032 PNG_FIXED_EXPORT(140, void, png_set_gAMA_fixed, (png_const_structrp png_ptr,
2033     png_inforp info_ptr, png_fixed_point int_file_gamma))
2034 #endif
2035 
2036 #ifdef PNG_hIST_SUPPORTED
2037 PNG_EXPORT(141, png_uint_32, png_get_hIST, (png_const_structrp png_ptr,
2038     png_inforp info_ptr, png_uint_16p *hist));
</pre>
<hr />
<pre>
2744  * 4: Three color channels and an alpha channel (RGBA).
2745  *
2746  * The components are encoded in one of two ways:
2747  *
2748  * a) As a small integer, value 0..255, contained in a single byte.  For the
2749  * alpha channel the original value is simply value/255.  For the color or
2750  * luminance channels the value is encoded according to the sRGB specification
2751  * and matches the 8-bit format expected by typical display devices.
2752  *
2753  * The color/gray channels are not scaled (pre-multiplied) by the alpha
2754  * channel and are suitable for passing to color management software.
2755  *
2756  * b) As a value in the range 0..65535, contained in a 2-byte integer.  All
2757  * channels can be converted to the original value by dividing by 65535; all
2758  * channels are linear.  Color channels use the RGB encoding (RGB end-points) of
2759  * the sRGB specification.  This encoding is identified by the
2760  * PNG_FORMAT_FLAG_LINEAR flag below.
2761  *
2762  * When the simplified API needs to convert between sRGB and linear colorspaces,
2763  * the actual sRGB transfer curve defined in the sRGB specification (see the
<span class="line-modified">2764  * article at &lt;https://en.wikipedia.org/wiki/SRGB&gt;) is used, not the gamma=1/2.2</span>
2765  * approximation used elsewhere in libpng.
2766  *
2767  * When an alpha channel is present it is expected to denote pixel coverage
2768  * of the color or luminance channels and is returned as an associated alpha
2769  * channel: the color/gray channels are scaled (pre-multiplied) by the alpha
2770  * value.
2771  *
2772  * The samples are either contained directly in the image data, between 1 and 8
2773  * bytes per pixel according to the encoding, or are held in a color-map indexed
2774  * by bytes in the image data.  In the case of a color-map the color-map entries
2775  * are individual samples, encoded as above, and the image data has one byte per
2776  * pixel to select the relevant sample from the color-map.
2777  */
2778 
2779 /* PNG_FORMAT_*
2780  *
2781  * #defines to be used in png_image::format.  Each #define identifies a
2782  * particular layout of sample data and, if present, alpha values.  There are
2783  * separate defines for each of the two component encodings.
2784  *
</pre>
<hr />
<pre>
2947 #define PNG_IMAGE_SIZE(image)\
2948    PNG_IMAGE_BUFFER_SIZE(image, PNG_IMAGE_ROW_STRIDE(image))
2949    /* Return the size, in bytes, of the image in memory given just a png_image;
2950     * the row stride is the minimum stride required for the image.
2951     */
2952 
2953 #define PNG_IMAGE_COLORMAP_SIZE(image)\
2954    (PNG_IMAGE_SAMPLE_SIZE((image).format) * (image).colormap_entries)
2955    /* Return the size, in bytes, of the color-map of this image.  If the image
2956     * format is not a color-map format this will return a size sufficient for
2957     * 256 entries in the given format; check PNG_FORMAT_FLAG_COLORMAP if
2958     * you don&#39;t want to allocate a color-map in this case.
2959     */
2960 
2961 /* PNG_IMAGE_FLAG_*
2962  *
2963  * Flags containing additional information about the image are held in the
2964  * &#39;flags&#39; field of png_image.
2965  */
2966 #define PNG_IMAGE_FLAG_COLORSPACE_NOT_sRGB 0x01
<span class="line-modified">2967    /* This indicates that the RGB values of the in-memory bitmap do not</span>
2968     * correspond to the red, green and blue end-points defined by sRGB.
2969     */
2970 
2971 #define PNG_IMAGE_FLAG_FAST 0x02
2972    /* On write emphasise speed over compression; the resultant PNG file will be
2973     * larger but will be produced significantly faster, particular for large
2974     * images.  Do not use this option for images which will be distributed, only
2975     * used it when producing intermediate files that will be read back in
2976     * repeatedly.  For a typical 24-bit image the option will double the read
2977     * speed at the cost of increasing the image size by 25%, however for many
2978     * more compressible images the PNG file can be 10 times larger with only a
2979     * slight speed gain.
2980     */
2981 
2982 #define PNG_IMAGE_FLAG_16BIT_sRGB 0x04
2983    /* On read if the image is a 16-bit per component image and there is no gAMA
2984     * or sRGB chunk assume that the components are sRGB encoded.  Notice that
2985     * images output by the simplified API always have gamma information; setting
2986     * this flag only affects the interpretation of 16-bit images from an
2987     * external source.  It is recommended that the application expose this flag
</pre>
</td>
</tr>
</table>
<center><a href="png.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="pngconf.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>