<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.desktop/share/native/libsplashscreen/giflib/gif_lib.h</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="gif_hash.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="gif_lib_private.h.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libsplashscreen/giflib/gif_lib.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -24,34 +24,38 @@</span>
  
  /******************************************************************************
  
  gif_lib.h - service library for decoding and encoding GIF images
  
<span class="udiff-line-added">+ SPDX-License-Identifier: MIT</span>
<span class="udiff-line-added">+ </span>
  *****************************************************************************/
  
  #ifndef _GIF_LIB_H_
  #define _GIF_LIB_H_ 1
  
  #ifdef __cplusplus
  extern &quot;C&quot; {
  #endif /* __cplusplus */
  
  #define GIFLIB_MAJOR 5
<span class="udiff-line-modified-removed">- #define GIFLIB_MINOR 1</span>
<span class="udiff-line-modified-removed">- #define GIFLIB_RELEASE 4</span>
<span class="udiff-line-modified-added">+ #define GIFLIB_MINOR 2</span>
<span class="udiff-line-modified-added">+ #define GIFLIB_RELEASE 1</span>
  
  #define GIF_ERROR   0
  #define GIF_OK      1
  
  #include &lt;stddef.h&gt;
<span class="udiff-line-modified-removed">- </span>
<span class="udiff-line-modified-added">+ /** Begin JDK modifications to support building using old compilers**/</span>
<span class="udiff-line-added">+ //#include &lt;stdbool.h&gt;</span>
  #ifdef bool
  #undef bool
  #endif
  typedef int bool;
  #define false 0
  #define true 1
<span class="udiff-line-added">+ /** End JDK modifications to support building using old compilers**/</span>
  
  #define GIF_STAMP &quot;GIFVER&quot;          /* First chars in file - GIF stamp.  */
  #define GIF_STAMP_LEN sizeof(GIF_STAMP) - 1
  #define GIF_VERSION_POS 3           /* Version first character in stamp. */
  #define GIF87_STAMP &quot;GIF87a&quot;        /* First chars in file - GIF stamp.  */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -86,11 +90,11 @@</span>
      int Function;       /* The block function code */
  #define CONTINUE_EXT_FUNC_CODE    0x00    /* continuation subblock */
  #define COMMENT_EXT_FUNC_CODE     0xfe    /* comment */
  #define GRAPHICS_EXT_FUNC_CODE    0xf9    /* graphics control (GIF89) */
  #define PLAINTEXT_EXT_FUNC_CODE   0x01    /* plaintext */
<span class="udiff-line-modified-removed">- #define APPLICATION_EXT_FUNC_CODE 0xff    /* application block */</span>
<span class="udiff-line-modified-added">+ #define APPLICATION_EXT_FUNC_CODE 0xff    /* application block (GIF89) */</span>
  } ExtensionBlock;
  
  typedef struct SavedImage {
      GifImageDesc ImageDesc;
      GifByteType *RasterBits;         /* on malloc(3) heap */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -228,32 +232,24 @@</span>
  #define D_GIF_ERR_EOF_TOO_SOON   113
  
  /* These are legacy.  You probably do not want to call them directly */
  int DGifGetScreenDesc(GifFileType *GifFile);
  int DGifGetRecordType(GifFileType *GifFile, GifRecordType *GifType);
<span class="udiff-line-added">+ int DGifGetImageHeader(GifFileType *GifFile);</span>
  int DGifGetImageDesc(GifFileType *GifFile);
  int DGifGetLine(GifFileType *GifFile, GifPixelType *GifLine, int GifLineLen);
  int DGifGetPixel(GifFileType *GifFile, GifPixelType GifPixel);
<span class="udiff-line-removed">- int DGifGetComment(GifFileType *GifFile, char *GifComment);</span>
  int DGifGetExtension(GifFileType *GifFile, int *GifExtCode,
                       GifByteType **GifExtension);
  int DGifGetExtensionNext(GifFileType *GifFile, GifByteType **GifExtension);
  int DGifGetCode(GifFileType *GifFile, int *GifCodeSize,
                  GifByteType **GifCodeBlock);
  int DGifGetCodeNext(GifFileType *GifFile, GifByteType **GifCodeBlock);
  int DGifGetLZCodes(GifFileType *GifFile, int *GifCode);
<span class="udiff-line-added">+ const char *DGifGetGifVersion(GifFileType *GifFile);</span>
  
  
<span class="udiff-line-removed">- /******************************************************************************</span>
<span class="udiff-line-removed">-  Color table quantization (deprecated)</span>
<span class="udiff-line-removed">- ******************************************************************************/</span>
<span class="udiff-line-removed">- int GifQuantizeBuffer(unsigned int Width, unsigned int Height,</span>
<span class="udiff-line-removed">-                    int *ColorMapSize, GifByteType * RedInput,</span>
<span class="udiff-line-removed">-                    GifByteType * GreenInput, GifByteType * BlueInput,</span>
<span class="udiff-line-removed">-                    GifByteType * OutputBuffer,</span>
<span class="udiff-line-removed">-                    GifColorType * OutputColorMap);</span>
<span class="udiff-line-removed">- </span>
  /******************************************************************************
   Error handling and reporting.
  ******************************************************************************/
  extern const char *GifErrorString(int ErrorCode);     /* new in 2012 - ESR */
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -272,13 +268,10 @@</span>
  extern ColorMapObject *GifUnionColorMap(const ColorMapObject *ColorIn1,
                                       const ColorMapObject *ColorIn2,
                                       GifPixelType ColorTransIn2[]);
  extern int GifBitSize(int n);
  
<span class="udiff-line-removed">- extern void * reallocarray(void *optr, size_t nmemb, size_t size);</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- </span>
  /******************************************************************************
   Support for the in-core structures allocation (slurp mode).
  ******************************************************************************/
  
  extern void GifApplyTranslation(SavedImage *Image, GifPixelType Translation[]);
</pre>
<center><a href="gif_hash.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="gif_lib_private.h.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>