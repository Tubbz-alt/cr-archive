<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/macosx/classes/com/apple/laf/AquaSpinnerUI.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="AquaMenuPainter.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../../sun/awt/CGraphicsConfig.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/macosx/classes/com/apple/laf/AquaSpinnerUI.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2011, 2018, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
479                 return;
480             }
481             spinner = eventToSpinner(e);
482             autoRepeatTimer.start();
483 
484             focusSpinnerIfNecessary();
485         }
486 
487         @Override
488         public void mouseReleased(final MouseEvent e) {
489             autoRepeatTimer.stop();
490             spinner = null;
491         }
492 
493         @Override
494         public void mouseClicked(final MouseEvent e) {
495         }
496 
497         @Override
498         public void mouseEntered(final MouseEvent e) {



499         }
500 
501         @Override
502         public void mouseExited(final MouseEvent e) {



503         }
504 
505         /**
506          * Requests focus on a child of the spinner if the spinner doesn&#39;t have
507          * focus.
508          */
509         private void focusSpinnerIfNecessary() {
510             final Component fo = KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner();
511             if (!spinner.isRequestFocusEnabled() || (fo != null &amp;&amp; (SwingUtilities.isDescendingFrom(fo, spinner)))) {
512                 return;
513             }
514             Container root = spinner;
515 
516             if (!root.isFocusCycleRoot()) {
517                 root = root.getFocusCycleRootAncestor();
518             }
519 
520             if (root == null) {
521                 return;
522             }
</pre>
<hr />
<pre>
533     class SpinPainter extends JComponent {
534 
535         final AquaPainter&lt;JRSUIState&gt; painter = AquaPainter.create(JRSUIStateFactory.getSpinnerArrows());
536 
537         ButtonModel fTopModel;
538         ButtonModel fBottomModel;
539 
540         boolean fPressed = false;
541         boolean fTopPressed = false;
542 
543         Dimension kPreferredSize = new Dimension(15, 24); // 19,27 before trimming
544 
545         public SpinPainter(final AbstractButton top, final AbstractButton bottom) {
546             if (top != null) {
547                 fTopModel = top.getModel();
548             }
549 
550             if (bottom != null) {
551                 fBottomModel = bottom.getModel();
552             }

553         }
554 
555         @Override
556         public void paint(final Graphics g) {
557             if (spinner.isOpaque()) {
558                 g.setColor(spinner.getBackground());
559                 g.fillRect(0, 0, getWidth(), getHeight());
560             }
561 
562             AquaUtilControlSize.applySizeForControl(spinner, painter);
563 
564             if (isEnabled()) {
565                 if (fTopModel != null &amp;&amp; fTopModel.isPressed()) {
566                     painter.state.set(State.PRESSED);
567                     painter.state.set(BooleanValue.NO);
568                 } else if (fBottomModel != null &amp;&amp; fBottomModel.isPressed()) {
569                     painter.state.set(State.PRESSED);
570                     painter.state.set(BooleanValue.YES);
571                 } else {
572                     painter.state.set(State.ACTIVE);
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2011, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
479                 return;
480             }
481             spinner = eventToSpinner(e);
482             autoRepeatTimer.start();
483 
484             focusSpinnerIfNecessary();
485         }
486 
487         @Override
488         public void mouseReleased(final MouseEvent e) {
489             autoRepeatTimer.stop();
490             spinner = null;
491         }
492 
493         @Override
494         public void mouseClicked(final MouseEvent e) {
495         }
496 
497         @Override
498         public void mouseEntered(final MouseEvent e) {
<span class="line-added">499             if (spinner != null &amp;&amp; !autoRepeatTimer.isRunning() &amp;&amp; spinner == eventToSpinner(e)) {</span>
<span class="line-added">500                 autoRepeatTimer.start();</span>
<span class="line-added">501             }</span>
502         }
503 
504         @Override
505         public void mouseExited(final MouseEvent e) {
<span class="line-added">506             if (autoRepeatTimer.isRunning()) {</span>
<span class="line-added">507                 autoRepeatTimer.stop();</span>
<span class="line-added">508             }</span>
509         }
510 
511         /**
512          * Requests focus on a child of the spinner if the spinner doesn&#39;t have
513          * focus.
514          */
515         private void focusSpinnerIfNecessary() {
516             final Component fo = KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner();
517             if (!spinner.isRequestFocusEnabled() || (fo != null &amp;&amp; (SwingUtilities.isDescendingFrom(fo, spinner)))) {
518                 return;
519             }
520             Container root = spinner;
521 
522             if (!root.isFocusCycleRoot()) {
523                 root = root.getFocusCycleRootAncestor();
524             }
525 
526             if (root == null) {
527                 return;
528             }
</pre>
<hr />
<pre>
539     class SpinPainter extends JComponent {
540 
541         final AquaPainter&lt;JRSUIState&gt; painter = AquaPainter.create(JRSUIStateFactory.getSpinnerArrows());
542 
543         ButtonModel fTopModel;
544         ButtonModel fBottomModel;
545 
546         boolean fPressed = false;
547         boolean fTopPressed = false;
548 
549         Dimension kPreferredSize = new Dimension(15, 24); // 19,27 before trimming
550 
551         public SpinPainter(final AbstractButton top, final AbstractButton bottom) {
552             if (top != null) {
553                 fTopModel = top.getModel();
554             }
555 
556             if (bottom != null) {
557                 fBottomModel = bottom.getModel();
558             }
<span class="line-added">559             setFocusable(false);</span>
560         }
561 
562         @Override
563         public void paint(final Graphics g) {
564             if (spinner.isOpaque()) {
565                 g.setColor(spinner.getBackground());
566                 g.fillRect(0, 0, getWidth(), getHeight());
567             }
568 
569             AquaUtilControlSize.applySizeForControl(spinner, painter);
570 
571             if (isEnabled()) {
572                 if (fTopModel != null &amp;&amp; fTopModel.isPressed()) {
573                     painter.state.set(State.PRESSED);
574                     painter.state.set(BooleanValue.NO);
575                 } else if (fBottomModel != null &amp;&amp; fBottomModel.isPressed()) {
576                     painter.state.set(State.PRESSED);
577                     painter.state.set(BooleanValue.YES);
578                 } else {
579                     painter.state.set(State.ACTIVE);
</pre>
</td>
</tr>
</table>
<center><a href="AquaMenuPainter.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../../sun/awt/CGraphicsConfig.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>