<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/windows/native/libawt/windows/awt_Frame.cpp</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="awt_Component.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="awt_Frame.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/windows/native/libawt/windows/awt_Frame.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 1996, 2018, Oracle and/or its affiliates. All rights reserved.</span>
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.  Oracle designates this
   8  * particular file as subject to the &quot;Classpath&quot; exception as provided
   9  * by Oracle in the LICENSE file that accompanied this code.
  10  *
  11  * This code is distributed in the hope that it will be useful, but WITHOUT
  12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  * version 2 for more details (a copy is included in the LICENSE file that
  15  * accompanied this code).
  16  *
  17  * You should have received a copy of the GNU General Public License version
  18  * 2 along with this work; if not, write to the Free Software Foundation,
  19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20  *
  21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 880 {
 881     //Firstly call AwtWindow&#39;s function
 882     MsgRouting r = AwtWindow::WmGetMinMaxInfo(lpmmi);
 883 
 884     //Then replace maxPos &amp; maxSize if necessary
 885     if (!m_maxBoundsSet) {
 886         return r;
 887     }
 888 
 889     if (m_maxPos.x != java_lang_Integer_MAX_VALUE)
 890         lpmmi-&gt;ptMaxPosition.x = m_maxPos.x;
 891     if (m_maxPos.y != java_lang_Integer_MAX_VALUE)
 892         lpmmi-&gt;ptMaxPosition.y = m_maxPos.y;
 893     if (m_maxSize.x != java_lang_Integer_MAX_VALUE)
 894         lpmmi-&gt;ptMaxSize.x = m_maxSize.x;
 895     if (m_maxSize.y != java_lang_Integer_MAX_VALUE)
 896         lpmmi-&gt;ptMaxSize.y = m_maxSize.y;
 897     return mrConsume;
 898 }
 899 















 900 MsgRouting AwtFrame::WmSize(UINT type, int w, int h)
 901 {
 902     currentWmSizeState = type;
 903     if (currentWmSizeState == SIZE_MINIMIZED) {
 904         UpdateSecurityWarningVisibility();
 905     }
 906 
 907     if (m_ignoreWmSize) {
 908         return mrDoDefault;
 909     }
 910 
 911     DTRACE_PRINTLN6(&quot;AwtFrame::WmSize: %dx%d,%s visible, state%s%s%s&quot;,
 912                   w, h,
 913                   ::IsWindowVisible(GetHWnd()) ? &quot;&quot; : &quot; not&quot;,
 914                   m_iconic ? &quot; iconic&quot; : &quot;&quot;,
 915                   m_zoomed ? &quot; zoomed&quot; : &quot;&quot;,
 916                   m_iconic || m_zoomed ? &quot;&quot; : &quot; normal&quot;);
 917 
 918     BOOL iconify = type == SIZE_MINIMIZED;
 919 
</pre>
</td>
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 1996, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.  Oracle designates this
   8  * particular file as subject to the &quot;Classpath&quot; exception as provided
   9  * by Oracle in the LICENSE file that accompanied this code.
  10  *
  11  * This code is distributed in the hope that it will be useful, but WITHOUT
  12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  * version 2 for more details (a copy is included in the LICENSE file that
  15  * accompanied this code).
  16  *
  17  * You should have received a copy of the GNU General Public License version
  18  * 2 along with this work; if not, write to the Free Software Foundation,
  19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20  *
  21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 880 {
 881     //Firstly call AwtWindow&#39;s function
 882     MsgRouting r = AwtWindow::WmGetMinMaxInfo(lpmmi);
 883 
 884     //Then replace maxPos &amp; maxSize if necessary
 885     if (!m_maxBoundsSet) {
 886         return r;
 887     }
 888 
 889     if (m_maxPos.x != java_lang_Integer_MAX_VALUE)
 890         lpmmi-&gt;ptMaxPosition.x = m_maxPos.x;
 891     if (m_maxPos.y != java_lang_Integer_MAX_VALUE)
 892         lpmmi-&gt;ptMaxPosition.y = m_maxPos.y;
 893     if (m_maxSize.x != java_lang_Integer_MAX_VALUE)
 894         lpmmi-&gt;ptMaxSize.x = m_maxSize.x;
 895     if (m_maxSize.y != java_lang_Integer_MAX_VALUE)
 896         lpmmi-&gt;ptMaxSize.y = m_maxSize.y;
 897     return mrConsume;
 898 }
 899 
<span class="line-added"> 900 MsgRouting AwtFrame::WmWindowPosChanging(LPARAM windowPos) {</span>
<span class="line-added"> 901     if (::IsZoomed(GetHWnd()) &amp;&amp; m_maxBoundsSet) {</span>
<span class="line-added"> 902         // Limits the size of the maximized window, effectively cuts the</span>
<span class="line-added"> 903         // adjustments added by the window manager</span>
<span class="line-added"> 904         WINDOWPOS *wp = (WINDOWPOS *) windowPos;</span>
<span class="line-added"> 905         if (m_maxSize.x &lt; java_lang_Integer_MAX_VALUE &amp;&amp; wp-&gt;cx &gt; m_maxSize.x) {</span>
<span class="line-added"> 906             wp-&gt;cx = m_maxSize.x;</span>
<span class="line-added"> 907         }</span>
<span class="line-added"> 908         if (m_maxSize.y &lt; java_lang_Integer_MAX_VALUE &amp;&amp; wp-&gt;cy &gt; m_maxSize.y) {</span>
<span class="line-added"> 909             wp-&gt;cy = m_maxSize.y;</span>
<span class="line-added"> 910         }</span>
<span class="line-added"> 911     }</span>
<span class="line-added"> 912     return AwtWindow::WmWindowPosChanging(windowPos);</span>
<span class="line-added"> 913 }</span>
<span class="line-added"> 914 </span>
 915 MsgRouting AwtFrame::WmSize(UINT type, int w, int h)
 916 {
 917     currentWmSizeState = type;
 918     if (currentWmSizeState == SIZE_MINIMIZED) {
 919         UpdateSecurityWarningVisibility();
 920     }
 921 
 922     if (m_ignoreWmSize) {
 923         return mrDoDefault;
 924     }
 925 
 926     DTRACE_PRINTLN6(&quot;AwtFrame::WmSize: %dx%d,%s visible, state%s%s%s&quot;,
 927                   w, h,
 928                   ::IsWindowVisible(GetHWnd()) ? &quot;&quot; : &quot; not&quot;,
 929                   m_iconic ? &quot; iconic&quot; : &quot;&quot;,
 930                   m_zoomed ? &quot; zoomed&quot; : &quot;&quot;,
 931                   m_iconic || m_zoomed ? &quot;&quot; : &quot; normal&quot;);
 932 
 933     BOOL iconify = type == SIZE_MINIMIZED;
 934 
</pre>
</td>
</tr>
</table>
<center><a href="awt_Component.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="awt_Frame.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>