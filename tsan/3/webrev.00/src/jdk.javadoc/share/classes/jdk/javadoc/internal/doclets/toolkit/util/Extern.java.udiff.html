<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/toolkit/util/Extern.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ElementListWriter.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="Group.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/toolkit/util/Extern.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 1998, 2019, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 1998, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -60,13 +60,10 @@</span>
   *
   *  &lt;p&gt;&lt;b&gt;This is NOT part of any supported API.
   *  If you write code that depends on this, you do so at your own risk.
   *  This code and its internal interfaces are subject to change or
   *  deletion without notice.&lt;/b&gt;
<span class="udiff-line-removed">-  *</span>
<span class="udiff-line-removed">-  * @author Atul M Dambalkar</span>
<span class="udiff-line-removed">-  * @author Robert Field</span>
   */
  public class Extern {
  
      /**
       * Map element names onto Extern Item objects.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -99,11 +96,11 @@</span>
           */
          final String elementName;
  
          /**
           * The URL or the directory path at which the element documentation will be
<span class="udiff-line-modified-removed">-          * avaliable.</span>
<span class="udiff-line-modified-added">+          * available.</span>
           */
          final DocPath path;
  
          /**
           * If given path is directory path then true else if it is a URL then false.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -135,11 +132,11 @@</span>
          }
      }
  
      public Extern(BaseConfiguration configuration) {
          this.configuration = configuration;
<span class="udiff-line-modified-removed">-         this.resources = configuration.getResources();</span>
<span class="udiff-line-modified-added">+         this.resources = configuration.getDocResources();</span>
          this.utils = configuration.utils;
      }
  
      /**
       * Determine if a element item is externally documented.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -400,20 +397,21 @@</span>
                          moduleName = elemname.replace(DocletConstants.MODULE_PREFIX, &quot;&quot;);
                          Item item = new Item(moduleName, elempath, relative);
                          moduleItems.put(moduleName, item);
                      } else {
                          DocPath pkgPath = DocPath.create(elemname.replace(&#39;.&#39;, &#39;/&#39;));
<span class="udiff-line-modified-removed">-                         if (configuration.useModuleDirectories &amp;&amp; moduleName != null) {</span>
<span class="udiff-line-modified-added">+                         if (moduleName != null) {</span>
                              elempath = elempath.resolve(DocPath.create(moduleName).resolve(pkgPath));
                          } else {
                              elempath = elempath.resolve(pkgPath);
                          }
                          checkLinkCompatibility(elemname, moduleName, path);
                          Item item = new Item(elemname, elempath, relative);
<span class="udiff-line-modified-removed">-                         packageItems.computeIfAbsent(moduleName == null ?</span>
<span class="udiff-line-modified-removed">-                             DocletConstants.DEFAULT_ELEMENT_NAME : moduleName, k -&gt; new TreeMap&lt;&gt;())</span>
<span class="udiff-line-modified-removed">-                             .put(elemname, item);</span>
<span class="udiff-line-modified-added">+                         packageItems.computeIfAbsent(</span>
<span class="udiff-line-modified-added">+                                 moduleName == null ? DocletConstants.DEFAULT_ELEMENT_NAME : moduleName,</span>
<span class="udiff-line-modified-added">+                                 k -&gt; new TreeMap&lt;&gt;())</span>
<span class="udiff-line-added">+                             .putIfAbsent(elemname, item); // first-one-wins semantics</span>
                      }
                  }
              }
          }
      }
</pre>
<center><a href="ElementListWriter.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="Group.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>