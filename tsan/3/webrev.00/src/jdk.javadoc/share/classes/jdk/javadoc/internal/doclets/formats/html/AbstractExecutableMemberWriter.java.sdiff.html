<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/AbstractExecutableMemberWriter.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../api/JavadocTool.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="AbstractIndexWriter.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/AbstractExecutableMemberWriter.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 1997, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 package jdk.javadoc.internal.doclets.formats.html;
 27 
 28 import java.util.List;
 29 
 30 import javax.lang.model.element.AnnotationMirror;
 31 import javax.lang.model.element.Element;
 32 import javax.lang.model.element.ElementKind;
 33 import javax.lang.model.element.ExecutableElement;
 34 import javax.lang.model.element.TypeElement;
 35 import javax.lang.model.element.VariableElement;
 36 import javax.lang.model.type.ArrayType;
 37 import javax.lang.model.type.DeclaredType;

 38 import javax.lang.model.type.TypeMirror;
 39 import javax.lang.model.type.TypeVariable;
 40 import javax.lang.model.util.SimpleTypeVisitor9;
 41 
 42 import jdk.javadoc.internal.doclets.formats.html.markup.ContentBuilder;

 43 import jdk.javadoc.internal.doclets.formats.html.markup.HtmlStyle;
 44 import jdk.javadoc.internal.doclets.formats.html.markup.HtmlTree;
 45 import jdk.javadoc.internal.doclets.toolkit.Content;
 46 import jdk.javadoc.internal.doclets.toolkit.util.DocletConstants;
 47 
<span class="line-modified"> 48 import static jdk.javadoc.internal.doclets.formats.html.LinkInfoImpl.Kind.*;</span>



 49 
 50 /**
 51  * Print method and constructor info.
 52  *
 53  *  &lt;p&gt;&lt;b&gt;This is NOT part of any supported API.
 54  *  If you write code that depends on this, you do so at your own risk.
 55  *  This code and its internal interfaces are subject to change or
 56  *  deletion without notice.&lt;/b&gt;
<span class="line-removed"> 57  *</span>
<span class="line-removed"> 58  * @author Robert Field</span>
<span class="line-removed"> 59  * @author Atul M Dambalkar</span>
<span class="line-removed"> 60  * @author Bhavesh Patel (Modified)</span>
 61  */
 62 public abstract class AbstractExecutableMemberWriter extends AbstractMemberWriter {
 63 
 64     public AbstractExecutableMemberWriter(SubWriterHolderWriter writer, TypeElement typeElement) {
 65         super(writer, typeElement);
 66     }
 67 
 68     public AbstractExecutableMemberWriter(SubWriterHolderWriter writer) {
 69         super(writer);
 70     }
 71 
<span class="line-removed"> 72     /**</span>
<span class="line-removed"> 73      * Add the type parameters for the executable member.</span>
<span class="line-removed"> 74      *</span>
<span class="line-removed"> 75      * @param member the member to write type parameters for.</span>
<span class="line-removed"> 76      * @param htmltree the content tree to which the parameters will be added.</span>
<span class="line-removed"> 77      */</span>
<span class="line-removed"> 78     protected void addTypeParameters(ExecutableElement member, Content htmltree) {</span>
<span class="line-removed"> 79         Content typeParameters = getTypeParameters(member);</span>
<span class="line-removed"> 80         if (!typeParameters.isEmpty()) {</span>
<span class="line-removed"> 81             htmltree.add(typeParameters);</span>
<span class="line-removed"> 82             htmltree.add(Contents.SPACE);</span>
<span class="line-removed"> 83         }</span>
<span class="line-removed"> 84     }</span>
 85 
 86     /**
 87      * Get the type parameters for the executable member.
 88      *
 89      * @param member the member for which to get the type parameters.
 90      * @return the type parameters.
 91      */
 92     protected Content getTypeParameters(ExecutableElement member) {
 93         LinkInfoImpl linkInfo = new LinkInfoImpl(configuration, MEMBER_TYPE_PARAMS, member);
 94         return writer.getTypeParameterLinks(linkInfo);
 95     }
 96 
<span class="line-removed"> 97     /**</span>
<span class="line-removed"> 98      * {@inheritDoc}</span>
<span class="line-removed"> 99      */</span>
100     @Override
101     protected Content getDeprecatedLink(Element member) {
102         Content deprecatedLinkContent = new ContentBuilder();
103         deprecatedLinkContent.add(utils.getFullyQualifiedName(member));
104         if (!utils.isConstructor(member)) {
105             deprecatedLinkContent.add(&quot;.&quot;);
106             deprecatedLinkContent.add(member.getSimpleName());
107         }
108         String signature = utils.flatSignature((ExecutableElement) member);
109         if (signature.length() &gt; 2) {
<span class="line-modified">110             deprecatedLinkContent.add(Contents.ZERO_WIDTH_SPACE);</span>
111         }
112         deprecatedLinkContent.add(signature);
113 
114         return writer.getDocLink(MEMBER, utils.getEnclosingTypeElement(member), member, deprecatedLinkContent);
115     }
116 
117     /**
118      * Add the summary link for the member.
119      *
120      * @param context the id of the context where the link will be printed
121      * @param te the type element being linked to
122      * @param member the member being linked to
123      * @param tdSummary the content tree to which the link will be added
124      */
125     @Override
126     protected void addSummaryLink(LinkInfoImpl.Kind context, TypeElement te, Element member,
127             Content tdSummary) {
128         ExecutableElement ee = (ExecutableElement)member;
129         Content memberLink = HtmlTree.SPAN(HtmlStyle.memberNameLink,
130                 writer.getDocLink(context, te, ee,
131                 name(ee), false));
132         Content code = HtmlTree.CODE(memberLink);
<span class="line-modified">133         addParameters(ee, false, code, name(ee).length() - 1);</span>
134         tdSummary.add(code);
135     }
136 
137     /**
138      * Add the inherited summary link for the member.
139      *
140      * @param te the type element that we should link to
141      * @param member the member being linked to
142      * @param linksTree the content tree to which the link will be added
143      */
144     @Override
145     protected void addInheritedSummaryLink(TypeElement te, Element member, Content linksTree) {
146         linksTree.add(writer.getDocLink(MEMBER, te, member, name(member), false));
147     }
148 
149     /**
150      * Add the parameter for the executable member.
151      *
152      * @param member the member to write parameter for.
153      * @param param the parameter that needs to be written.
154      * @param isVarArg true if this is a link to var arg.
155      * @param tree the content tree to which the parameter information will be added.
156      */
<span class="line-modified">157     protected void addParam(ExecutableElement member, VariableElement param,</span>
158             boolean isVarArg, Content tree) {
159         Content link = writer.getLink(new LinkInfoImpl(configuration, EXECUTABLE_MEMBER_PARAM,
<span class="line-modified">160                 param.asType()).varargs(isVarArg));</span>
161         tree.add(link);
162         if(name(param).length() &gt; 0) {
<span class="line-modified">163             tree.add(Contents.SPACE);</span>
164             tree.add(name(param));
165         }
166     }
167 
168     /**
169      * Add the receiver annotations information.
170      *
171      * @param member the member to write receiver annotations for.
172      * @param rcvrType the receiver type.
<span class="line-modified">173      * @param descList list of annotation description.</span>
174      * @param tree the content tree to which the information will be added.
175      */
176     protected void addReceiverAnnotations(ExecutableElement member, TypeMirror rcvrType,
177             List&lt;? extends AnnotationMirror&gt; annotationMirrors, Content tree) {
178         writer.addReceiverAnnotationInfo(member, rcvrType, annotationMirrors, tree);
<span class="line-modified">179         tree.add(Contents.SPACE);</span>
180         tree.add(utils.getTypeName(rcvrType, false));
181         LinkInfoImpl linkInfo = new LinkInfoImpl(configuration, RECEIVER_TYPE, rcvrType);
182         tree.add(writer.getTypeParameterLinks(linkInfo));
<span class="line-modified">183         tree.add(Contents.SPACE);</span>
184         tree.add(&quot;this&quot;);
185     }
186 
187 
188     /**
189      * Add all the parameters for the executable member.
190      *
191      * @param member the member to write parameters for.
192      * @param htmltree the content tree to which the parameters information will be added.
193      */
<span class="line-modified">194     protected void addParameters(ExecutableElement member, Content htmltree, int indentSize) {</span>
<span class="line-modified">195         addParameters(member, true, htmltree, indentSize);</span>








196     }
197 
198     /**
199      * Add all the parameters for the executable member.
200      *
201      * @param member the member to write parameters for.
202      * @param includeAnnotations true if annotation information needs to be added.
<span class="line-modified">203      * @param htmltree the content tree to which the parameters information will be added.</span>
204      */
<span class="line-modified">205     protected void addParameters(ExecutableElement member,</span>
<span class="line-removed">206             boolean includeAnnotations, Content htmltree, int indentSize) {</span>
207         Content paramTree = new ContentBuilder();
208         String sep = &quot;&quot;;
209         List&lt;? extends VariableElement&gt; parameters = member.getParameters();
<span class="line-removed">210         CharSequence indent = makeSpace(indentSize + 1);</span>
211         TypeMirror rcvrType = member.getReceiverType();
212         if (includeAnnotations &amp;&amp; rcvrType != null &amp;&amp; utils.isAnnotated(rcvrType)) {
213             List&lt;? extends AnnotationMirror&gt; annotationMirrors = rcvrType.getAnnotationMirrors();
214             addReceiverAnnotations(member, rcvrType, annotationMirrors, paramTree);
<span class="line-modified">215             sep = &quot;,&quot; + DocletConstants.NL + indent;</span>
216         }
217         int paramstart;

218         for (paramstart = 0; paramstart &lt; parameters.size(); paramstart++) {
219             paramTree.add(sep);
220             VariableElement param = parameters.get(paramstart);

221 
222             if (param.getKind() != ElementKind.INSTANCE_INIT) {
223                 if (includeAnnotations) {
224                     boolean foundAnnotations =
<span class="line-modified">225                             writer.addAnnotationInfo(indent.length(),</span>
<span class="line-removed">226                             member, param, paramTree);</span>
227                     if (foundAnnotations) {
228                         paramTree.add(DocletConstants.NL);
<span class="line-removed">229                         paramTree.add(indent);</span>
230                     }
231                 }
<span class="line-modified">232                 addParam(member, param,</span>
233                     (paramstart == parameters.size() - 1) &amp;&amp; member.isVarArgs(), paramTree);
234                 break;
235             }
236         }
237 
238         for (int i = paramstart + 1; i &lt; parameters.size(); i++) {
239             paramTree.add(&quot;,&quot;);
240             paramTree.add(DocletConstants.NL);
<span class="line-removed">241             paramTree.add(indent);</span>
242             if (includeAnnotations) {
243                 boolean foundAnnotations =
<span class="line-modified">244                         writer.addAnnotationInfo(indent.length(), member, parameters.get(i),</span>
245                         paramTree);
246                 if (foundAnnotations) {
247                     paramTree.add(DocletConstants.NL);
<span class="line-removed">248                     paramTree.add(indent);</span>
249                 }
250             }
<span class="line-modified">251             addParam(member, parameters.get(i), (i == parameters.size() - 1) &amp;&amp; member.isVarArgs(),</span>

252                     paramTree);
253         }
<span class="line-modified">254         if (paramTree.isEmpty()) {</span>
<span class="line-modified">255             htmltree.add(&quot;()&quot;);</span>
<span class="line-removed">256         } else {</span>
<span class="line-removed">257             htmltree.add(Contents.ZERO_WIDTH_SPACE);</span>
<span class="line-removed">258             htmltree.add(&quot;(&quot;);</span>
<span class="line-removed">259             htmltree.add(paramTree);</span>
<span class="line-removed">260             paramTree.add(&quot;)&quot;);</span>
<span class="line-removed">261         }</span>
262     }
263 
264     /**
<span class="line-modified">265      * Add exceptions for the executable member.</span>
266      *
267      * @param member the member to write exceptions for.
<span class="line-modified">268      * @param htmltree the content tree to which the exceptions information will be added.</span>
269      */
<span class="line-modified">270     protected void addExceptions(ExecutableElement member, Content htmltree, int indentSize) {</span>
<span class="line-modified">271         List&lt;? extends TypeMirror&gt; exceptions = member.getThrownTypes();</span>

272         if (!exceptions.isEmpty()) {
<span class="line-removed">273             CharSequence indent = makeSpace(indentSize + 1 - 7);</span>
<span class="line-removed">274             htmltree.add(DocletConstants.NL);</span>
<span class="line-removed">275             htmltree.add(indent);</span>
<span class="line-removed">276             htmltree.add(&quot;throws &quot;);</span>
<span class="line-removed">277             indent = makeSpace(indentSize + 1);</span>
278             Content link = writer.getLink(new LinkInfoImpl(configuration, MEMBER, exceptions.get(0)));
279             htmltree.add(link);
<span class="line-modified">280             for(int i = 1; i &lt; exceptions.size(); i++) {</span>
281                 htmltree.add(&quot;,&quot;);
282                 htmltree.add(DocletConstants.NL);
<span class="line-removed">283                 htmltree.add(indent);</span>
284                 Content exceptionLink = writer.getLink(new LinkInfoImpl(configuration, MEMBER,
285                         exceptions.get(i)));
286                 htmltree.add(exceptionLink);
287             }
288         }

289     }
290 
291     protected TypeElement implementsMethodInIntfac(ExecutableElement method,
292                                                 List&lt;TypeElement&gt; intfacs) {
293         for (TypeElement intf : intfacs) {
294             List&lt;ExecutableElement&gt; methods = utils.getMethods(intf);
295             if (!methods.isEmpty()) {
296                 for (ExecutableElement md : methods) {
297                     if (name(md).equals(name(method)) &amp;&amp;
298                         md.toString().equals(method.toString())) {
299                         return intf;
300                     }
301                 }
302             }
303         }
304         return null;
305     }
306 
307     /**
308      * For backward compatibility, include an anchor using the erasures of the
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 1997, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 package jdk.javadoc.internal.doclets.formats.html;
 27 
 28 import java.util.List;
 29 
 30 import javax.lang.model.element.AnnotationMirror;
 31 import javax.lang.model.element.Element;
 32 import javax.lang.model.element.ElementKind;
 33 import javax.lang.model.element.ExecutableElement;
 34 import javax.lang.model.element.TypeElement;
 35 import javax.lang.model.element.VariableElement;
 36 import javax.lang.model.type.ArrayType;
 37 import javax.lang.model.type.DeclaredType;
<span class="line-added"> 38 import javax.lang.model.type.ExecutableType;</span>
 39 import javax.lang.model.type.TypeMirror;
 40 import javax.lang.model.type.TypeVariable;
 41 import javax.lang.model.util.SimpleTypeVisitor9;
 42 
 43 import jdk.javadoc.internal.doclets.formats.html.markup.ContentBuilder;
<span class="line-added"> 44 import jdk.javadoc.internal.doclets.formats.html.markup.Entity;</span>
 45 import jdk.javadoc.internal.doclets.formats.html.markup.HtmlStyle;
 46 import jdk.javadoc.internal.doclets.formats.html.markup.HtmlTree;
 47 import jdk.javadoc.internal.doclets.toolkit.Content;
 48 import jdk.javadoc.internal.doclets.toolkit.util.DocletConstants;
 49 
<span class="line-modified"> 50 import static jdk.javadoc.internal.doclets.formats.html.LinkInfoImpl.Kind.EXECUTABLE_MEMBER_PARAM;</span>
<span class="line-added"> 51 import static jdk.javadoc.internal.doclets.formats.html.LinkInfoImpl.Kind.MEMBER;</span>
<span class="line-added"> 52 import static jdk.javadoc.internal.doclets.formats.html.LinkInfoImpl.Kind.MEMBER_TYPE_PARAMS;</span>
<span class="line-added"> 53 import static jdk.javadoc.internal.doclets.formats.html.LinkInfoImpl.Kind.RECEIVER_TYPE;</span>
 54 
 55 /**
 56  * Print method and constructor info.
 57  *
 58  *  &lt;p&gt;&lt;b&gt;This is NOT part of any supported API.
 59  *  If you write code that depends on this, you do so at your own risk.
 60  *  This code and its internal interfaces are subject to change or
 61  *  deletion without notice.&lt;/b&gt;




 62  */
 63 public abstract class AbstractExecutableMemberWriter extends AbstractMemberWriter {
 64 
 65     public AbstractExecutableMemberWriter(SubWriterHolderWriter writer, TypeElement typeElement) {
 66         super(writer, typeElement);
 67     }
 68 
 69     public AbstractExecutableMemberWriter(SubWriterHolderWriter writer) {
 70         super(writer);
 71     }
 72 













 73 
 74     /**
 75      * Get the type parameters for the executable member.
 76      *
 77      * @param member the member for which to get the type parameters.
 78      * @return the type parameters.
 79      */
 80     protected Content getTypeParameters(ExecutableElement member) {
 81         LinkInfoImpl linkInfo = new LinkInfoImpl(configuration, MEMBER_TYPE_PARAMS, member);
 82         return writer.getTypeParameterLinks(linkInfo);
 83     }
 84 



 85     @Override
 86     protected Content getDeprecatedLink(Element member) {
 87         Content deprecatedLinkContent = new ContentBuilder();
 88         deprecatedLinkContent.add(utils.getFullyQualifiedName(member));
 89         if (!utils.isConstructor(member)) {
 90             deprecatedLinkContent.add(&quot;.&quot;);
 91             deprecatedLinkContent.add(member.getSimpleName());
 92         }
 93         String signature = utils.flatSignature((ExecutableElement) member);
 94         if (signature.length() &gt; 2) {
<span class="line-modified"> 95             deprecatedLinkContent.add(Entity.ZERO_WIDTH_SPACE);</span>
 96         }
 97         deprecatedLinkContent.add(signature);
 98 
 99         return writer.getDocLink(MEMBER, utils.getEnclosingTypeElement(member), member, deprecatedLinkContent);
100     }
101 
102     /**
103      * Add the summary link for the member.
104      *
105      * @param context the id of the context where the link will be printed
106      * @param te the type element being linked to
107      * @param member the member being linked to
108      * @param tdSummary the content tree to which the link will be added
109      */
110     @Override
111     protected void addSummaryLink(LinkInfoImpl.Kind context, TypeElement te, Element member,
112             Content tdSummary) {
113         ExecutableElement ee = (ExecutableElement)member;
114         Content memberLink = HtmlTree.SPAN(HtmlStyle.memberNameLink,
115                 writer.getDocLink(context, te, ee,
116                 name(ee), false));
117         Content code = HtmlTree.CODE(memberLink);
<span class="line-modified">118         addParameters(ee, code);</span>
119         tdSummary.add(code);
120     }
121 
122     /**
123      * Add the inherited summary link for the member.
124      *
125      * @param te the type element that we should link to
126      * @param member the member being linked to
127      * @param linksTree the content tree to which the link will be added
128      */
129     @Override
130     protected void addInheritedSummaryLink(TypeElement te, Element member, Content linksTree) {
131         linksTree.add(writer.getDocLink(MEMBER, te, member, name(member), false));
132     }
133 
134     /**
135      * Add the parameter for the executable member.
136      *
137      * @param member the member to write parameter for.
138      * @param param the parameter that needs to be written.
139      * @param isVarArg true if this is a link to var arg.
140      * @param tree the content tree to which the parameter information will be added.
141      */
<span class="line-modified">142     protected void addParam(ExecutableElement member, VariableElement param, TypeMirror paramType,</span>
143             boolean isVarArg, Content tree) {
144         Content link = writer.getLink(new LinkInfoImpl(configuration, EXECUTABLE_MEMBER_PARAM,
<span class="line-modified">145                 paramType).varargs(isVarArg));</span>
146         tree.add(link);
147         if(name(param).length() &gt; 0) {
<span class="line-modified">148             tree.add(Entity.NO_BREAK_SPACE);</span>
149             tree.add(name(param));
150         }
151     }
152 
153     /**
154      * Add the receiver annotations information.
155      *
156      * @param member the member to write receiver annotations for.
157      * @param rcvrType the receiver type.
<span class="line-modified">158      * @param annotationMirrors list of annotation descriptions.</span>
159      * @param tree the content tree to which the information will be added.
160      */
161     protected void addReceiverAnnotations(ExecutableElement member, TypeMirror rcvrType,
162             List&lt;? extends AnnotationMirror&gt; annotationMirrors, Content tree) {
163         writer.addReceiverAnnotationInfo(member, rcvrType, annotationMirrors, tree);
<span class="line-modified">164         tree.add(Entity.NO_BREAK_SPACE);</span>
165         tree.add(utils.getTypeName(rcvrType, false));
166         LinkInfoImpl linkInfo = new LinkInfoImpl(configuration, RECEIVER_TYPE, rcvrType);
167         tree.add(writer.getTypeParameterLinks(linkInfo));
<span class="line-modified">168         tree.add(Entity.NO_BREAK_SPACE);</span>
169         tree.add(&quot;this&quot;);
170     }
171 
172 
173     /**
174      * Add all the parameters for the executable member.
175      *
176      * @param member the member to write parameters for.
177      * @param htmltree the content tree to which the parameters information will be added.
178      */
<span class="line-modified">179     protected void addParameters(ExecutableElement member, Content htmltree) {</span>
<span class="line-modified">180         Content paramTree = getParameters(member, false);</span>
<span class="line-added">181         if (paramTree.isEmpty()) {</span>
<span class="line-added">182             htmltree.add(&quot;()&quot;);</span>
<span class="line-added">183         } else {</span>
<span class="line-added">184             htmltree.add(Entity.ZERO_WIDTH_SPACE);</span>
<span class="line-added">185             htmltree.add(&quot;(&quot;);</span>
<span class="line-added">186             htmltree.add(paramTree);</span>
<span class="line-added">187             paramTree.add(&quot;)&quot;);</span>
<span class="line-added">188         }</span>
189     }
190 
191     /**
192      * Add all the parameters for the executable member.
193      *
194      * @param member the member to write parameters for.
195      * @param includeAnnotations true if annotation information needs to be added.
<span class="line-modified">196      * @return the content tree containing the parameter information</span>
197      */
<span class="line-modified">198     protected Content getParameters(ExecutableElement member, boolean includeAnnotations) {</span>

199         Content paramTree = new ContentBuilder();
200         String sep = &quot;&quot;;
201         List&lt;? extends VariableElement&gt; parameters = member.getParameters();

202         TypeMirror rcvrType = member.getReceiverType();
203         if (includeAnnotations &amp;&amp; rcvrType != null &amp;&amp; utils.isAnnotated(rcvrType)) {
204             List&lt;? extends AnnotationMirror&gt; annotationMirrors = rcvrType.getAnnotationMirrors();
205             addReceiverAnnotations(member, rcvrType, annotationMirrors, paramTree);
<span class="line-modified">206             sep = &quot;,&quot; + DocletConstants.NL;</span>
207         }
208         int paramstart;
<span class="line-added">209         ExecutableType instMeth = utils.asInstantiatedMethodType(typeElement, member);</span>
210         for (paramstart = 0; paramstart &lt; parameters.size(); paramstart++) {
211             paramTree.add(sep);
212             VariableElement param = parameters.get(paramstart);
<span class="line-added">213             TypeMirror paramType = instMeth.getParameterTypes().get(paramstart);</span>
214 
215             if (param.getKind() != ElementKind.INSTANCE_INIT) {
216                 if (includeAnnotations) {
217                     boolean foundAnnotations =
<span class="line-modified">218                             writer.addAnnotationInfo(param, paramTree);</span>

219                     if (foundAnnotations) {
220                         paramTree.add(DocletConstants.NL);

221                     }
222                 }
<span class="line-modified">223                 addParam(member, param, paramType,</span>
224                     (paramstart == parameters.size() - 1) &amp;&amp; member.isVarArgs(), paramTree);
225                 break;
226             }
227         }
228 
229         for (int i = paramstart + 1; i &lt; parameters.size(); i++) {
230             paramTree.add(&quot;,&quot;);
231             paramTree.add(DocletConstants.NL);

232             if (includeAnnotations) {
233                 boolean foundAnnotations =
<span class="line-modified">234                         writer.addAnnotationInfo(parameters.get(i),</span>
235                         paramTree);
236                 if (foundAnnotations) {
237                     paramTree.add(DocletConstants.NL);

238                 }
239             }
<span class="line-modified">240             addParam(member, parameters.get(i), instMeth.getParameterTypes().get(i),</span>
<span class="line-added">241                     (i == parameters.size() - 1) &amp;&amp; member.isVarArgs(),</span>
242                     paramTree);
243         }
<span class="line-modified">244 </span>
<span class="line-modified">245         return paramTree;</span>






246     }
247 
248     /**
<span class="line-modified">249      * Get a content tree containing the exception information for the executable member.</span>
250      *
251      * @param member the member to write exceptions for.
<span class="line-modified">252      * @return the content tree containing the exceptions information.</span>
253      */
<span class="line-modified">254     protected Content getExceptions(ExecutableElement member) {</span>
<span class="line-modified">255         List&lt;? extends TypeMirror&gt; exceptions = utils.asInstantiatedMethodType(typeElement, member).getThrownTypes();</span>
<span class="line-added">256         Content htmltree = new ContentBuilder();</span>
257         if (!exceptions.isEmpty()) {





258             Content link = writer.getLink(new LinkInfoImpl(configuration, MEMBER, exceptions.get(0)));
259             htmltree.add(link);
<span class="line-modified">260             for (int i = 1; i &lt; exceptions.size(); i++) {</span>
261                 htmltree.add(&quot;,&quot;);
262                 htmltree.add(DocletConstants.NL);

263                 Content exceptionLink = writer.getLink(new LinkInfoImpl(configuration, MEMBER,
264                         exceptions.get(i)));
265                 htmltree.add(exceptionLink);
266             }
267         }
<span class="line-added">268         return htmltree;</span>
269     }
270 
271     protected TypeElement implementsMethodInIntfac(ExecutableElement method,
272                                                 List&lt;TypeElement&gt; intfacs) {
273         for (TypeElement intf : intfacs) {
274             List&lt;ExecutableElement&gt; methods = utils.getMethods(intf);
275             if (!methods.isEmpty()) {
276                 for (ExecutableElement md : methods) {
277                     if (name(md).equals(name(method)) &amp;&amp;
278                         md.toString().equals(method.toString())) {
279                         return intf;
280                     }
281                 }
282             }
283         }
284         return null;
285     }
286 
287     /**
288      * For backward compatibility, include an anchor using the erasures of the
</pre>
</td>
</tr>
</table>
<center><a href="../../../api/JavadocTool.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="AbstractIndexWriter.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>