<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.xml.crypto/share/classes/javax/xml/crypto/dsig/keyinfo/KeyValue.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../TransformService.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../org/jcp/xml/dsig/internal/dom/ApacheCanonicalizer.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.xml.crypto/share/classes/javax/xml/crypto/dsig/keyinfo/KeyValue.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 2005, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 2005, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -26,11 +26,10 @@</span>
   * $Id: KeyValue.java,v 1.4 2005/05/10 16:35:35 mullan Exp $
   */
  package javax.xml.crypto.dsig.keyinfo;
  
  import java.security.KeyException;
<span class="udiff-line-removed">- import java.security.KeyStore;</span>
  import java.security.PublicKey;
  import java.security.interfaces.DSAPublicKey;
  import java.security.interfaces.RSAPublicKey;
  import javax.xml.crypto.XMLStructure;
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -45,10 +44,12 @@</span>
   *    &amp;lt;element name=&quot;KeyValue&quot; type=&quot;ds:KeyValueType&quot;/&amp;gt;
   *    &amp;lt;complexType name=&quot;KeyValueType&quot; mixed=&quot;true&quot;&amp;gt;
   *      &amp;lt;choice&amp;gt;
   *        &amp;lt;element ref=&quot;ds:DSAKeyValue&quot;/&amp;gt;
   *        &amp;lt;element ref=&quot;ds:RSAKeyValue&quot;/&amp;gt;
<span class="udiff-line-added">+  *        &amp;lt;!-- &amp;lt;element ref=&quot;dsig11:ECKeyValue&quot;/&amp;gt; --&amp;gt;</span>
<span class="udiff-line-added">+  *        &amp;lt;!-- ECC keys (XMLDsig 1.1) will use the any element --&amp;gt;</span>
   *        &amp;lt;any namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&amp;gt;
   *      &amp;lt;/choice&amp;gt;
   *    &amp;lt;/complexType&amp;gt;
   *
   *    &amp;lt;element name=&quot;DSAKeyValue&quot; type=&quot;ds:DSAKeyValueType&quot;/&amp;gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -73,12 +74,34 @@</span>
   *      &amp;lt;sequence&amp;gt;
   *        &amp;lt;element name=&quot;Modulus&quot; type=&quot;ds:CryptoBinary&quot;/&amp;gt;
   *        &amp;lt;element name=&quot;Exponent&quot; type=&quot;ds:CryptoBinary&quot;/&amp;gt;
   *      &amp;lt;/sequence&amp;gt;
   *    &amp;lt;/complexType&amp;gt;
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  *    &amp;lt;complexType name=&quot;ECKeyValueType&quot;&amp;gt;</span>
<span class="udiff-line-added">+  *      &amp;lt;sequence&amp;gt;</span>
<span class="udiff-line-added">+  *        &amp;lt;choice&amp;gt;</span>
<span class="udiff-line-added">+  *          &amp;lt;element name=&quot;ECParameters&quot; type=&quot;dsig11:ECParametersType&quot; /&amp;gt;</span>
<span class="udiff-line-added">+  *          &amp;lt;element name=&quot;NamedCurve&quot; type=&quot;dsig11:NamedCurveType&quot; /&amp;gt;</span>
<span class="udiff-line-added">+  *        &amp;lt;/choice&amp;gt;</span>
<span class="udiff-line-added">+  *        &amp;lt;element name=&quot;PublicKey&quot; type=&quot;dsig11:ECPointType&quot; /&amp;gt;</span>
<span class="udiff-line-added">+  *      &amp;lt;/sequence&amp;gt;</span>
<span class="udiff-line-added">+  *      &amp;lt;attribute name=&quot;Id&quot; type=&quot;ID&quot; use=&quot;optional&quot; /&amp;gt;</span>
<span class="udiff-line-added">+  *    &amp;lt;/complexType&amp;gt;</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  *    &amp;lt;complexType name=&quot;NamedCurveType&quot;&amp;gt;</span>
<span class="udiff-line-added">+  *      &amp;lt;attribute name=&quot;URI&quot; type=&quot;anyURI&quot; use=&quot;required&quot; /&amp;gt;</span>
<span class="udiff-line-added">+  *    &amp;lt;/complexType&amp;gt;</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  *    &amp;lt;simpleType name=&quot;ECPointType&quot;&amp;gt;</span>
<span class="udiff-line-added">+  *      &amp;lt;restriction base=&quot;ds:CryptoBinary&quot; /&amp;gt;</span>
<span class="udiff-line-added">+  *    &amp;lt;/simpleType&amp;gt;</span>
   * &lt;/pre&gt;
<span class="udiff-line-modified-removed">-  * A &lt;code&gt;KeyValue&lt;/code&gt; instance may be created by invoking the</span>
<span class="udiff-line-modified-added">+  * See section 4.5.2.3.1 of the W3C Recommendation for the definition</span>
<span class="udiff-line-added">+  * of ECParametersType.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;A &lt;code&gt;KeyValue&lt;/code&gt; instance may be created by invoking the</span>
   * {@link KeyInfoFactory#newKeyValue newKeyValue} method of the
   * {@link KeyInfoFactory} class, and passing it a {@link
   * java.security.PublicKey} representing the value of the public key. Here is
   * an example of creating a &lt;code&gt;KeyValue&lt;/code&gt; from a {@link DSAPublicKey}
   * of a {@link java.security.cert.Certificate} stored in a
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -121,10 +144,20 @@</span>
       * &lt;code&gt;RSAKeyValue&lt;/code&gt; structure.
       */
      final static String RSA_TYPE =
          &quot;http://www.w3.org/2000/09/xmldsig#RSAKeyValue&quot;;
  
<span class="udiff-line-added">+     /**</span>
<span class="udiff-line-added">+      * URI identifying the EC KeyValue KeyInfo type:</span>
<span class="udiff-line-added">+      * http://www.w3.org/2009/xmldsig11#ECKeyValue. This can be specified as</span>
<span class="udiff-line-added">+      * the value of the &lt;code&gt;type&lt;/code&gt; parameter of the</span>
<span class="udiff-line-added">+      * {@link RetrievalMethod} class to describe a remote</span>
<span class="udiff-line-added">+      * &lt;code&gt;ECKeyValue&lt;/code&gt; structure.</span>
<span class="udiff-line-added">+      */</span>
<span class="udiff-line-added">+     final static String EC_TYPE =</span>
<span class="udiff-line-added">+         &quot;http://www.w3.org/2009/xmldsig11#ECKeyValue&quot;;</span>
<span class="udiff-line-added">+ </span>
      /**
       * Returns the public key of this &lt;code&gt;KeyValue&lt;/code&gt;.
       *
       * @return the public key of this &lt;code&gt;KeyValue&lt;/code&gt;
       * @throws KeyException if this &lt;code&gt;KeyValue&lt;/code&gt; cannot be converted
</pre>
<center><a href="../TransformService.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../org/jcp/xml/dsig/internal/dom/ApacheCanonicalizer.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>