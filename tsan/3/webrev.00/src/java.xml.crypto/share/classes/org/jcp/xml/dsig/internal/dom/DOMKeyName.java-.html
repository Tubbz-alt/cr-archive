<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old src/java.xml.crypto/share/classes/org/jcp/xml/dsig/internal/dom/DOMKeyName.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * reserved comment block
  3  * DO NOT REMOVE OR ALTER!
  4  */
  5 /**
  6  * Licensed to the Apache Software Foundation (ASF) under one
  7  * or more contributor license agreements. See the NOTICE file
  8  * distributed with this work for additional information
  9  * regarding copyright ownership. The ASF licenses this file
 10  * to you under the Apache License, Version 2.0 (the
 11  * &quot;License&quot;); you may not use this file except in compliance
 12  * with the License. You may obtain a copy of the License at
 13  *
 14  * http://www.apache.org/licenses/LICENSE-2.0
 15  *
 16  * Unless required by applicable law or agreed to in writing,
 17  * software distributed under the License is distributed on an
 18  * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 19  * KIND, either express or implied. See the License for the
 20  * specific language governing permissions and limitations
 21  * under the License.
 22  */
 23 /*
 24  * Copyright (c) 2005, 2018, Oracle and/or its affiliates. All rights reserved.
 25  */
 26 /*
 27  * $Id: DOMKeyName.java 1788465 2017-03-24 15:10:51Z coheigea $
 28  */
 29 package org.jcp.xml.dsig.internal.dom;
 30 
 31 import javax.xml.crypto.MarshalException;
 32 import javax.xml.crypto.dom.DOMCryptoContext;
 33 import javax.xml.crypto.dsig.XMLSignature;
 34 import javax.xml.crypto.dsig.keyinfo.KeyName;
 35 
 36 import org.w3c.dom.Document;
 37 import org.w3c.dom.Element;
 38 import org.w3c.dom.Node;
 39 
 40 /**
 41  * DOM-based implementation of KeyName.
 42  *
 43  */
 44 public final class DOMKeyName extends DOMStructure implements KeyName {
 45 
 46     private final String name;
 47 
 48     /**
 49      * Creates a {@code DOMKeyName}.
 50      *
 51      * @param name the name of the key identifier
 52      * @throws NullPointerException if {@code name} is null
 53      */
 54     public DOMKeyName(String name) {
 55         if (name == null) {
 56             throw new NullPointerException(&quot;name cannot be null&quot;);
 57         }
 58         this.name = name;
 59     }
 60 
 61     /**
 62      * Creates a {@code DOMKeyName} from a KeyName element.
 63      *
 64      * @param knElem a KeyName element
 65      */
 66     public DOMKeyName(Element knElem) {
 67         name = knElem.getFirstChild().getNodeValue();
 68     }
 69 
 70     public String getName() {
 71         return name;
 72     }
 73 
 74     @Override
 75     public void marshal(Node parent, String dsPrefix, DOMCryptoContext context)
 76         throws MarshalException
 77     {
 78         Document ownerDoc = DOMUtils.getOwnerDocument(parent);
 79         // prepend namespace prefix, if necessary
 80         Element knElem = DOMUtils.createElement(ownerDoc, &quot;KeyName&quot;,
 81                                                 XMLSignature.XMLNS, dsPrefix);
 82         knElem.appendChild(ownerDoc.createTextNode(name));
 83         parent.appendChild(knElem);
 84     }
 85 
 86     @Override
 87     public boolean equals(Object obj) {
 88         if (this == obj) {
 89             return true;
 90         }
 91         if (!(obj instanceof KeyName)) {
 92             return false;
 93         }
 94         KeyName okn = (KeyName)obj;
 95         return name.equals(okn.getName());
 96     }
 97 
 98     @Override
 99     public int hashCode() {
100         int result = 17;
101         result = 31 * result + name.hashCode();
102 
103         return result;
104     }
105 }
    </pre>
  </body>
</html>