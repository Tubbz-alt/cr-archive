<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.xml.crypto/share/classes/org/jcp/xml/dsig/internal/dom/XMLDSigRI.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="DOMXSLTTransform.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../legal/santuario.md.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.xml.crypto/share/classes/org/jcp/xml/dsig/internal/dom/XMLDSigRI.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 11  * &quot;License&quot;); you may not use this file except in compliance
 12  * with the License. You may obtain a copy of the License at
 13  *
 14  * http://www.apache.org/licenses/LICENSE-2.0
 15  *
 16  * Unless required by applicable law or agreed to in writing,
 17  * software distributed under the License is distributed on an
 18  * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 19  * KIND, either express or implied. See the License for the
 20  * specific language governing permissions and limitations
 21  * under the License.
 22  */
 23 /*
 24  * ===========================================================================
 25  *
 26  * (C) Copyright IBM Corp. 2003 All Rights Reserved.
 27  *
 28  * ===========================================================================
 29  */
 30 /*
<span class="line-modified"> 31  * Portions copyright (c) 2005, 2018, Oracle and/or its affiliates. All rights reserved.</span>
 32  */
 33 /*
<span class="line-modified"> 34  * $Id: XMLDSigRI.java 1804972 2017-08-14 09:59:23Z coheigea $</span>
 35  */
 36 package org.jcp.xml.dsig.internal.dom;
 37 
 38 import java.util.*;
 39 import java.security.*;
 40 
 41 import javax.xml.crypto.dsig.*;
 42 
 43 /**
 44  * The XMLDSig RI Provider.
 45  *
 46  */
 47 
 48 /**
 49  * Defines the XMLDSigRI provider.
 50  */
 51 
 52 public final class XMLDSigRI extends Provider {
 53 
 54     static final long serialVersionUID = -5049765099299494554L;
</pre>
<hr />
<pre>
106                     if (algo.equals(CanonicalizationMethod.INCLUSIVE) ||
107                         algo.equals(CanonicalizationMethod.INCLUSIVE_WITH_COMMENTS)) {
108                         return new DOMCanonicalXMLC14NMethod();
109                     } else if (algo.equals(&quot;http://www.w3.org/2006/12/xml-c14n11&quot;) ||
110                         algo.equals(&quot;http://www.w3.org/2006/12/xml-c14n11#WithComments&quot;)) {
111                         return new DOMCanonicalXMLC14N11Method();
112                     } else if (algo.equals(CanonicalizationMethod.EXCLUSIVE) ||
113                         algo.equals(CanonicalizationMethod.EXCLUSIVE_WITH_COMMENTS)) {
114                         return new DOMExcC14NMethod();
115                     } else if (algo.equals(Transform.BASE64)) {
116                         return new DOMBase64Transform();
117                     } else if (algo.equals(Transform.ENVELOPED)) {
118                         return new DOMEnvelopedTransform();
119                     } else if (algo.equals(Transform.XPATH2)) {
120                         return new DOMXPathFilter2Transform();
121                     } else if (algo.equals(Transform.XPATH)) {
122                         return new DOMXPathTransform();
123                     } else if (algo.equals(Transform.XSLT)) {
124                         return new DOMXSLTTransform();
125                     }
<span class="line-modified">126                  }</span>
127             } catch (Exception ex) {
128                 throw new NoSuchAlgorithmException(&quot;Error constructing &quot; +
129                     type + &quot; for &quot; + algo + &quot; using XMLDSig&quot;, ex);
130             }
131             throw new ProviderException(&quot;No impl for &quot; + algo +
132                 &quot; &quot; + type);
133         }
134     }
135 
136     public XMLDSigRI() {
<span class="line-modified">137         /* We are the XMLDSig provider */</span>

138         super(&quot;XMLDSig&quot;, VER, INFO);
139 
140         final Provider p = this;
141         AccessController.doPrivileged(new PrivilegedAction&lt;Void&gt;() {
142             public Void run() {
143                 HashMap&lt;String, String&gt; MECH_TYPE = new HashMap&lt;&gt;();
144                 MECH_TYPE.put(&quot;MechanismType&quot;, &quot;DOM&quot;);
145 
146                 putService(new ProviderService(p, &quot;XMLSignatureFactory&quot;,
147                     &quot;DOM&quot;, &quot;org.jcp.xml.dsig.internal.dom.DOMXMLSignatureFactory&quot;));
148 
149                 putService(new ProviderService(p, &quot;KeyInfoFactory&quot;,
150                     &quot;DOM&quot;, &quot;org.jcp.xml.dsig.internal.dom.DOMKeyInfoFactory&quot;));
151 
152 
153                 // Inclusive C14N
154                 putService(new ProviderService(p, &quot;TransformService&quot;,
155                     CanonicalizationMethod.INCLUSIVE,
156                     &quot;org.jcp.xml.dsig.internal.dom.DOMCanonicalXMLC14NMethod&quot;,
157                     new String[] {&quot;INCLUSIVE&quot;}, MECH_TYPE));
</pre>
</td>
<td>
<hr />
<pre>
 11  * &quot;License&quot;); you may not use this file except in compliance
 12  * with the License. You may obtain a copy of the License at
 13  *
 14  * http://www.apache.org/licenses/LICENSE-2.0
 15  *
 16  * Unless required by applicable law or agreed to in writing,
 17  * software distributed under the License is distributed on an
 18  * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 19  * KIND, either express or implied. See the License for the
 20  * specific language governing permissions and limitations
 21  * under the License.
 22  */
 23 /*
 24  * ===========================================================================
 25  *
 26  * (C) Copyright IBM Corp. 2003 All Rights Reserved.
 27  *
 28  * ===========================================================================
 29  */
 30 /*
<span class="line-modified"> 31  * Portions copyright (c) 2005, 2019, Oracle and/or its affiliates. All rights reserved.</span>
 32  */
 33 /*
<span class="line-modified"> 34  * $Id: XMLDSigRI.java 1833618 2018-06-15 17:36:20Z mullan $</span>
 35  */
 36 package org.jcp.xml.dsig.internal.dom;
 37 
 38 import java.util.*;
 39 import java.security.*;
 40 
 41 import javax.xml.crypto.dsig.*;
 42 
 43 /**
 44  * The XMLDSig RI Provider.
 45  *
 46  */
 47 
 48 /**
 49  * Defines the XMLDSigRI provider.
 50  */
 51 
 52 public final class XMLDSigRI extends Provider {
 53 
 54     static final long serialVersionUID = -5049765099299494554L;
</pre>
<hr />
<pre>
106                     if (algo.equals(CanonicalizationMethod.INCLUSIVE) ||
107                         algo.equals(CanonicalizationMethod.INCLUSIVE_WITH_COMMENTS)) {
108                         return new DOMCanonicalXMLC14NMethod();
109                     } else if (algo.equals(&quot;http://www.w3.org/2006/12/xml-c14n11&quot;) ||
110                         algo.equals(&quot;http://www.w3.org/2006/12/xml-c14n11#WithComments&quot;)) {
111                         return new DOMCanonicalXMLC14N11Method();
112                     } else if (algo.equals(CanonicalizationMethod.EXCLUSIVE) ||
113                         algo.equals(CanonicalizationMethod.EXCLUSIVE_WITH_COMMENTS)) {
114                         return new DOMExcC14NMethod();
115                     } else if (algo.equals(Transform.BASE64)) {
116                         return new DOMBase64Transform();
117                     } else if (algo.equals(Transform.ENVELOPED)) {
118                         return new DOMEnvelopedTransform();
119                     } else if (algo.equals(Transform.XPATH2)) {
120                         return new DOMXPathFilter2Transform();
121                     } else if (algo.equals(Transform.XPATH)) {
122                         return new DOMXPathTransform();
123                     } else if (algo.equals(Transform.XSLT)) {
124                         return new DOMXSLTTransform();
125                     }
<span class="line-modified">126                 }</span>
127             } catch (Exception ex) {
128                 throw new NoSuchAlgorithmException(&quot;Error constructing &quot; +
129                     type + &quot; for &quot; + algo + &quot; using XMLDSig&quot;, ex);
130             }
131             throw new ProviderException(&quot;No impl for &quot; + algo +
132                 &quot; &quot; + type);
133         }
134     }
135 
136     public XMLDSigRI() {
<span class="line-modified">137         // This is the JDK XMLDSig provider, synced from</span>
<span class="line-added">138         // Apache Santuario XML Security for Java, version 2.1.4</span>
139         super(&quot;XMLDSig&quot;, VER, INFO);
140 
141         final Provider p = this;
142         AccessController.doPrivileged(new PrivilegedAction&lt;Void&gt;() {
143             public Void run() {
144                 HashMap&lt;String, String&gt; MECH_TYPE = new HashMap&lt;&gt;();
145                 MECH_TYPE.put(&quot;MechanismType&quot;, &quot;DOM&quot;);
146 
147                 putService(new ProviderService(p, &quot;XMLSignatureFactory&quot;,
148                     &quot;DOM&quot;, &quot;org.jcp.xml.dsig.internal.dom.DOMXMLSignatureFactory&quot;));
149 
150                 putService(new ProviderService(p, &quot;KeyInfoFactory&quot;,
151                     &quot;DOM&quot;, &quot;org.jcp.xml.dsig.internal.dom.DOMKeyInfoFactory&quot;));
152 
153 
154                 // Inclusive C14N
155                 putService(new ProviderService(p, &quot;TransformService&quot;,
156                     CanonicalizationMethod.INCLUSIVE,
157                     &quot;org.jcp.xml.dsig.internal.dom.DOMCanonicalXMLC14NMethod&quot;,
158                     new String[] {&quot;INCLUSIVE&quot;}, MECH_TYPE));
</pre>
</td>
</tr>
</table>
<center><a href="DOMXSLTTransform.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../legal/santuario.md.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>