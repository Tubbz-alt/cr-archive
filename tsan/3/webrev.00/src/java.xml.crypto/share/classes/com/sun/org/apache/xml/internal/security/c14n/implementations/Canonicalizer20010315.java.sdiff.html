<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.xml.crypto/share/classes/com/sun/org/apache/xml/internal/security/c14n/implementations/Canonicalizer20010315.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../CanonicalizerSpi.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../../index.html" target="_top">index</a> <a href="Canonicalizer20010315Excl.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.xml.crypto/share/classes/com/sun/org/apache/xml/internal/security/c14n/implementations/Canonicalizer20010315.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
314     }
315 
316     @Override
317     protected void handleParent(Element e, NameSpaceSymbTable ns) {
318         if (!e.hasAttributes() &amp;&amp; e.getNamespaceURI() == null) {
319             return;
320         }
321         xmlattrStack.push(-1);
322         NamedNodeMap attrs = e.getAttributes();
323         int attrsLength = attrs.getLength();
324         for (int i = 0; i &lt; attrsLength; i++) {
325             Attr attribute = (Attr) attrs.item(i);
326             String NName = attribute.getLocalName();
327             String NValue = attribute.getNodeValue();
328 
329             if (XMLNS_URI.equals(attribute.getNamespaceURI())) {
330                 if (!XML.equals(NName) || !XML_LANG_URI.equals(NValue)) {
331                     ns.addMapping(NName, NValue, attribute);
332                 }
333             } else if (XML_LANG_URI.equals(attribute.getNamespaceURI())
<span class="line-modified">334                 &amp;&amp; (!c14n11 || c14n11 &amp;&amp; !&quot;id&quot;.equals(NName))) {</span>
335                 xmlattrStack.addXmlnsAttr(attribute);
336             }
337         }
338         if (e.getNamespaceURI() != null) {
339             String NName = e.getPrefix();
340             String NValue = e.getNamespaceURI();
341             String Name;
342             if (NName == null || NName.equals(&quot;&quot;)) {
343                 NName = &quot;xmlns&quot;;
344                 Name = &quot;xmlns&quot;;
345             } else {
346                 Name = &quot;xmlns:&quot; + NName;
347             }
348             Attr n = e.getOwnerDocument().createAttributeNS(&quot;http://www.w3.org/2000/xmlns/&quot;, Name);
349             n.setValue(NValue);
350             ns.addMapping(NName, NValue, n);
351         }
352     }
353 }
</pre>
</td>
<td>
<hr />
<pre>
314     }
315 
316     @Override
317     protected void handleParent(Element e, NameSpaceSymbTable ns) {
318         if (!e.hasAttributes() &amp;&amp; e.getNamespaceURI() == null) {
319             return;
320         }
321         xmlattrStack.push(-1);
322         NamedNodeMap attrs = e.getAttributes();
323         int attrsLength = attrs.getLength();
324         for (int i = 0; i &lt; attrsLength; i++) {
325             Attr attribute = (Attr) attrs.item(i);
326             String NName = attribute.getLocalName();
327             String NValue = attribute.getNodeValue();
328 
329             if (XMLNS_URI.equals(attribute.getNamespaceURI())) {
330                 if (!XML.equals(NName) || !XML_LANG_URI.equals(NValue)) {
331                     ns.addMapping(NName, NValue, attribute);
332                 }
333             } else if (XML_LANG_URI.equals(attribute.getNamespaceURI())
<span class="line-modified">334                 &amp;&amp; (!c14n11 || !&quot;id&quot;.equals(NName))) {</span>
335                 xmlattrStack.addXmlnsAttr(attribute);
336             }
337         }
338         if (e.getNamespaceURI() != null) {
339             String NName = e.getPrefix();
340             String NValue = e.getNamespaceURI();
341             String Name;
342             if (NName == null || NName.equals(&quot;&quot;)) {
343                 NName = &quot;xmlns&quot;;
344                 Name = &quot;xmlns&quot;;
345             } else {
346                 Name = &quot;xmlns:&quot; + NName;
347             }
348             Attr n = e.getOwnerDocument().createAttributeNS(&quot;http://www.w3.org/2000/xmlns/&quot;, Name);
349             n.setValue(NValue);
350             ns.addMapping(NName, NValue, n);
351         }
352     }
353 }
</pre>
</td>
</tr>
</table>
<center><a href="../CanonicalizerSpi.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../../index.html" target="_top">index</a> <a href="Canonicalizer20010315Excl.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>