<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.xml.crypto/share/classes/com/sun/org/apache/xml/internal/security/keys/keyresolver/KeyResolver.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../content/x509/XMLX509SKI.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../../index.html" target="_top">index</a> <a href="KeyResolverSpi.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.xml.crypto/share/classes/com/sun/org/apache/xml/internal/security/keys/keyresolver/KeyResolver.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 16  * Unless required by applicable law or agreed to in writing,
 17  * software distributed under the License is distributed on an
 18  * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 19  * KIND, either express or implied. See the License for the
 20  * specific language governing permissions and limitations
 21  * under the License.
 22  */
 23 package com.sun.org.apache.xml.internal.security.keys.keyresolver;
 24 
 25 import java.security.PublicKey;
 26 import java.security.cert.X509Certificate;
 27 import java.util.ArrayList;
 28 import java.util.Iterator;
 29 import java.util.List;
 30 import java.util.concurrent.CopyOnWriteArrayList;
 31 
 32 import javax.crypto.SecretKey;
 33 
 34 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.DEREncodedKeyValueResolver;
 35 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.DSAKeyValueResolver;

 36 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.KeyInfoReferenceResolver;
 37 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.RSAKeyValueResolver;
 38 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.RetrievalMethodResolver;
 39 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.X509CertificateResolver;
 40 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.X509DigestResolver;
 41 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.X509IssuerSerialResolver;
 42 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.X509SKIResolver;
 43 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.X509SubjectNameResolver;
 44 import com.sun.org.apache.xml.internal.security.keys.storage.StorageResolver;
 45 import com.sun.org.apache.xml.internal.security.utils.JavaUtils;
 46 import org.w3c.dom.Element;
 47 import org.w3c.dom.Node;
 48 
 49 /**
 50  * KeyResolver is factory class for subclass of KeyResolverSpi that
 51  * represent child element of KeyInfo.
 52  */
 53 public class KeyResolver {
 54 
 55     private static final com.sun.org.slf4j.internal.Logger LOG =
</pre>
<hr />
<pre>
278         }
279         resolverVector.addAll(keyResolverList);
280     }
281 
282     /**
283      * This method registers the default resolvers.
284      */
285     public static void registerDefaultResolvers() {
286 
287         List&lt;KeyResolver&gt; keyResolverList = new ArrayList&lt;&gt;();
288         keyResolverList.add(new KeyResolver(new RSAKeyValueResolver()));
289         keyResolverList.add(new KeyResolver(new DSAKeyValueResolver()));
290         keyResolverList.add(new KeyResolver(new X509CertificateResolver()));
291         keyResolverList.add(new KeyResolver(new X509SKIResolver()));
292         keyResolverList.add(new KeyResolver(new RetrievalMethodResolver()));
293         keyResolverList.add(new KeyResolver(new X509SubjectNameResolver()));
294         keyResolverList.add(new KeyResolver(new X509IssuerSerialResolver()));
295         keyResolverList.add(new KeyResolver(new DEREncodedKeyValueResolver()));
296         keyResolverList.add(new KeyResolver(new KeyInfoReferenceResolver()));
297         keyResolverList.add(new KeyResolver(new X509DigestResolver()));

298 
299         resolverVector.addAll(keyResolverList);
300     }
301 
302     /**
303      * Method resolvePublicKey
304      *
305      * @param element
306      * @param baseURI
307      * @param storage
308      * @return resolved public key from the registered from the elements
309      *
310      * @throws KeyResolverException
311      */
312     public PublicKey resolvePublicKey(
313         Element element, String baseURI, StorageResolver storage
314     ) throws KeyResolverException {
315         return resolverSpi.engineLookupAndResolvePublicKey(element, baseURI, storage);
316     }
317 
</pre>
</td>
<td>
<hr />
<pre>
 16  * Unless required by applicable law or agreed to in writing,
 17  * software distributed under the License is distributed on an
 18  * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 19  * KIND, either express or implied. See the License for the
 20  * specific language governing permissions and limitations
 21  * under the License.
 22  */
 23 package com.sun.org.apache.xml.internal.security.keys.keyresolver;
 24 
 25 import java.security.PublicKey;
 26 import java.security.cert.X509Certificate;
 27 import java.util.ArrayList;
 28 import java.util.Iterator;
 29 import java.util.List;
 30 import java.util.concurrent.CopyOnWriteArrayList;
 31 
 32 import javax.crypto.SecretKey;
 33 
 34 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.DEREncodedKeyValueResolver;
 35 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.DSAKeyValueResolver;
<span class="line-added"> 36 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.ECKeyValueResolver;</span>
 37 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.KeyInfoReferenceResolver;
 38 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.RSAKeyValueResolver;
 39 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.RetrievalMethodResolver;
 40 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.X509CertificateResolver;
 41 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.X509DigestResolver;
 42 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.X509IssuerSerialResolver;
 43 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.X509SKIResolver;
 44 import com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.X509SubjectNameResolver;
 45 import com.sun.org.apache.xml.internal.security.keys.storage.StorageResolver;
 46 import com.sun.org.apache.xml.internal.security.utils.JavaUtils;
 47 import org.w3c.dom.Element;
 48 import org.w3c.dom.Node;
 49 
 50 /**
 51  * KeyResolver is factory class for subclass of KeyResolverSpi that
 52  * represent child element of KeyInfo.
 53  */
 54 public class KeyResolver {
 55 
 56     private static final com.sun.org.slf4j.internal.Logger LOG =
</pre>
<hr />
<pre>
279         }
280         resolverVector.addAll(keyResolverList);
281     }
282 
283     /**
284      * This method registers the default resolvers.
285      */
286     public static void registerDefaultResolvers() {
287 
288         List&lt;KeyResolver&gt; keyResolverList = new ArrayList&lt;&gt;();
289         keyResolverList.add(new KeyResolver(new RSAKeyValueResolver()));
290         keyResolverList.add(new KeyResolver(new DSAKeyValueResolver()));
291         keyResolverList.add(new KeyResolver(new X509CertificateResolver()));
292         keyResolverList.add(new KeyResolver(new X509SKIResolver()));
293         keyResolverList.add(new KeyResolver(new RetrievalMethodResolver()));
294         keyResolverList.add(new KeyResolver(new X509SubjectNameResolver()));
295         keyResolverList.add(new KeyResolver(new X509IssuerSerialResolver()));
296         keyResolverList.add(new KeyResolver(new DEREncodedKeyValueResolver()));
297         keyResolverList.add(new KeyResolver(new KeyInfoReferenceResolver()));
298         keyResolverList.add(new KeyResolver(new X509DigestResolver()));
<span class="line-added">299         keyResolverList.add(new KeyResolver(new ECKeyValueResolver()));</span>
300 
301         resolverVector.addAll(keyResolverList);
302     }
303 
304     /**
305      * Method resolvePublicKey
306      *
307      * @param element
308      * @param baseURI
309      * @param storage
310      * @return resolved public key from the registered from the elements
311      *
312      * @throws KeyResolverException
313      */
314     public PublicKey resolvePublicKey(
315         Element element, String baseURI, StorageResolver storage
316     ) throws KeyResolverException {
317         return resolverSpi.engineLookupAndResolvePublicKey(element, baseURI, storage);
318     }
319 
</pre>
</td>
</tr>
</table>
<center><a href="../content/x509/XMLX509SKI.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../../index.html" target="_top">index</a> <a href="KeyResolverSpi.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>