<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.xml.crypto/share/classes/com/sun/org/apache/xml/internal/security/keys/content/KeyValue.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../KeyInfo.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../../index.html" target="_top">index</a> <a href="x509/XMLX509SKI.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.xml.crypto/share/classes/com/sun/org/apache/xml/internal/security/keys/content/KeyValue.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  9  * regarding copyright ownership. The ASF licenses this file
 10  * to you under the Apache License, Version 2.0 (the
 11  * &quot;License&quot;); you may not use this file except in compliance
 12  * with the License. You may obtain a copy of the License at
 13  *
 14  * http://www.apache.org/licenses/LICENSE-2.0
 15  *
 16  * Unless required by applicable law or agreed to in writing,
 17  * software distributed under the License is distributed on an
 18  * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 19  * KIND, either express or implied. See the License for the
 20  * specific language governing permissions and limitations
 21  * under the License.
 22  */
 23 package com.sun.org.apache.xml.internal.security.keys.content;
 24 
 25 import java.security.PublicKey;
 26 
 27 import com.sun.org.apache.xml.internal.security.exceptions.XMLSecurityException;
 28 import com.sun.org.apache.xml.internal.security.keys.content.keyvalues.DSAKeyValue;

 29 import com.sun.org.apache.xml.internal.security.keys.content.keyvalues.RSAKeyValue;
 30 import com.sun.org.apache.xml.internal.security.utils.Constants;
 31 import com.sun.org.apache.xml.internal.security.utils.SignatureElementProxy;
 32 import com.sun.org.apache.xml.internal.security.utils.XMLUtils;
 33 import org.w3c.dom.Document;
 34 import org.w3c.dom.Element;
 35 
 36 /**
 37  * The KeyValue element contains a single public key that may be useful in
 38  * validating the signature. Structured formats for defining DSA (REQUIRED)
 39  * and RSA (RECOMMENDED) public keys are defined in Signature Algorithms
 40  * (section 6.4). The KeyValue element may include externally defined public
 41  * keys values represented as PCDATA or element types from an external
 42  * namespace.
 43  *
 44  */
 45 public class KeyValue extends SignatureElementProxy implements KeyInfoContent {
 46 
 47     /**
 48      * Constructor KeyValue
</pre>
<hr />
<pre>
 90      * Constructor KeyValue
 91      *
 92      * @param doc
 93      * @param pk
 94      */
 95     public KeyValue(Document doc, PublicKey pk) {
 96         super(doc);
 97 
 98         addReturnToSelf();
 99 
100         if (pk instanceof java.security.interfaces.DSAPublicKey) {
101             DSAKeyValue dsa = new DSAKeyValue(getDocument(), pk);
102 
103             appendSelf(dsa);
104             addReturnToSelf();
105         } else if (pk instanceof java.security.interfaces.RSAPublicKey) {
106             RSAKeyValue rsa = new RSAKeyValue(getDocument(), pk);
107 
108             appendSelf(rsa);
109             addReturnToSelf();





110         } else {
111             String error = &quot;The given PublicKey type &quot; + pk + &quot; is not supported. Only DSAPublicKey and &quot;
<span class="line-modified">112                 + &quot;RSAPublicKey types are currently supported&quot;;</span>
113             throw new IllegalArgumentException(error);
114         }
115     }
116 
117     /**
118      * Constructor KeyValue
119      *
120      * @param element
121      * @param baseURI
122      * @throws XMLSecurityException
123      */
124     public KeyValue(Element element, String baseURI) throws XMLSecurityException {
125         super(element, baseURI);
126     }
127 
128     /**
129      * Method getPublicKey
130      *
131      * @return the public key
132      * @throws XMLSecurityException
</pre>
</td>
<td>
<hr />
<pre>
  9  * regarding copyright ownership. The ASF licenses this file
 10  * to you under the Apache License, Version 2.0 (the
 11  * &quot;License&quot;); you may not use this file except in compliance
 12  * with the License. You may obtain a copy of the License at
 13  *
 14  * http://www.apache.org/licenses/LICENSE-2.0
 15  *
 16  * Unless required by applicable law or agreed to in writing,
 17  * software distributed under the License is distributed on an
 18  * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 19  * KIND, either express or implied. See the License for the
 20  * specific language governing permissions and limitations
 21  * under the License.
 22  */
 23 package com.sun.org.apache.xml.internal.security.keys.content;
 24 
 25 import java.security.PublicKey;
 26 
 27 import com.sun.org.apache.xml.internal.security.exceptions.XMLSecurityException;
 28 import com.sun.org.apache.xml.internal.security.keys.content.keyvalues.DSAKeyValue;
<span class="line-added"> 29 import com.sun.org.apache.xml.internal.security.keys.content.keyvalues.ECKeyValue;</span>
 30 import com.sun.org.apache.xml.internal.security.keys.content.keyvalues.RSAKeyValue;
 31 import com.sun.org.apache.xml.internal.security.utils.Constants;
 32 import com.sun.org.apache.xml.internal.security.utils.SignatureElementProxy;
 33 import com.sun.org.apache.xml.internal.security.utils.XMLUtils;
 34 import org.w3c.dom.Document;
 35 import org.w3c.dom.Element;
 36 
 37 /**
 38  * The KeyValue element contains a single public key that may be useful in
 39  * validating the signature. Structured formats for defining DSA (REQUIRED)
 40  * and RSA (RECOMMENDED) public keys are defined in Signature Algorithms
 41  * (section 6.4). The KeyValue element may include externally defined public
 42  * keys values represented as PCDATA or element types from an external
 43  * namespace.
 44  *
 45  */
 46 public class KeyValue extends SignatureElementProxy implements KeyInfoContent {
 47 
 48     /**
 49      * Constructor KeyValue
</pre>
<hr />
<pre>
 91      * Constructor KeyValue
 92      *
 93      * @param doc
 94      * @param pk
 95      */
 96     public KeyValue(Document doc, PublicKey pk) {
 97         super(doc);
 98 
 99         addReturnToSelf();
100 
101         if (pk instanceof java.security.interfaces.DSAPublicKey) {
102             DSAKeyValue dsa = new DSAKeyValue(getDocument(), pk);
103 
104             appendSelf(dsa);
105             addReturnToSelf();
106         } else if (pk instanceof java.security.interfaces.RSAPublicKey) {
107             RSAKeyValue rsa = new RSAKeyValue(getDocument(), pk);
108 
109             appendSelf(rsa);
110             addReturnToSelf();
<span class="line-added">111         } else if (pk instanceof java.security.interfaces.ECPublicKey) {</span>
<span class="line-added">112             ECKeyValue ec = new ECKeyValue(getDocument(), pk);</span>
<span class="line-added">113 </span>
<span class="line-added">114             appendSelf(ec);</span>
<span class="line-added">115             addReturnToSelf();</span>
116         } else {
117             String error = &quot;The given PublicKey type &quot; + pk + &quot; is not supported. Only DSAPublicKey and &quot;
<span class="line-modified">118                 + &quot;RSAPublicKey and ECPublicKey types are currently supported&quot;;</span>
119             throw new IllegalArgumentException(error);
120         }
121     }
122 
123     /**
124      * Constructor KeyValue
125      *
126      * @param element
127      * @param baseURI
128      * @throws XMLSecurityException
129      */
130     public KeyValue(Element element, String baseURI) throws XMLSecurityException {
131         super(element, baseURI);
132     }
133 
134     /**
135      * Method getPublicKey
136      *
137      * @return the public key
138      * @throws XMLSecurityException
</pre>
</td>
</tr>
</table>
<center><a href="../KeyInfo.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../../index.html" target="_top">index</a> <a href="x509/XMLX509SKI.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>