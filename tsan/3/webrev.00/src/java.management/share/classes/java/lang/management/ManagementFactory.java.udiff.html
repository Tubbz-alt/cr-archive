<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.management/share/classes/java/lang/management/ManagementFactory.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="LockInfo.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="MemoryMXBean.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.management/share/classes/java/lang/management/ManagementFactory.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 2003, 2017, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 2003, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -65,11 +65,11 @@</span>
   * This class consists of static methods each of which returns
   * one or more &lt;i&gt;platform MXBeans&lt;/i&gt; representing
   * the management interface of a component of the Java virtual
   * machine.
   *
<span class="udiff-line-modified-removed">-  * &lt;h3&gt;&lt;a id=&quot;MXBean&quot;&gt;Platform MXBeans&lt;/a&gt;&lt;/h3&gt;</span>
<span class="udiff-line-modified-added">+  * &lt;h2&gt;&lt;a id=&quot;MXBean&quot;&gt;Platform MXBeans&lt;/a&gt;&lt;/h2&gt;</span>
   * &lt;p&gt;
   * A platform MXBean is a &lt;i&gt;managed bean&lt;/i&gt; that
   * conforms to the &lt;a href=&quot;../../../javax/management/package-summary.html&quot;&gt;JMX&lt;/a&gt;
   * Instrumentation Specification and only uses a set of basic data types.
   * A JMX management application and the {@linkplain
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -91,11 +91,11 @@</span>
   * by the {@link PlatformManagedObject#getObjectName getObjectName}
   * method.
   *
   * &lt;p&gt;
   * An application can access a platform MXBean in the following ways:
<span class="udiff-line-modified-removed">-  * &lt;h4&gt;1. Direct access to an MXBean interface&lt;/h4&gt;</span>
<span class="udiff-line-modified-added">+  * &lt;h3&gt;1. Direct access to an MXBean interface&lt;/h3&gt;</span>
   * &lt;blockquote&gt;
   * &lt;ul&gt;
   *     &lt;li&gt;Get an MXBean instance by calling the
   *         {@link #getPlatformMXBean(Class) getPlatformMXBean} or
   *         {@link #getPlatformMXBeans(Class) getPlatformMXBeans} method
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -111,11 +111,11 @@</span>
   *         a given {@code ObjectName}.
   *         A proxy is typically constructed to remotely access
   *         an MXBean of another running virtual machine.
   *         &lt;/li&gt;
   * &lt;/ul&gt;
<span class="udiff-line-modified-removed">-  * &lt;h4&gt;2. Indirect access to an MXBean interface via MBeanServer&lt;/h4&gt;</span>
<span class="udiff-line-modified-added">+  * &lt;h3&gt;2. Indirect access to an MXBean interface via MBeanServer&lt;/h3&gt;</span>
   * &lt;ul&gt;
   *     &lt;li&gt;Go through the platform {@code MBeanServer} to access MXBeans
   *         locally or a specific {@code MBeanServerConnection} to access
   *         MXBeans remotely.
   *         The attributes and operations of an MXBean use only
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -870,16 +870,17 @@</span>
       * @since 1.7
       */
      public static Set&lt;Class&lt;? extends PlatformManagedObject&gt;&gt;
             getPlatformManagementInterfaces()
      {
<span class="udiff-line-modified-removed">-         return platformComponents()</span>
<span class="udiff-line-modified-added">+         // local variable required here; see JDK-8223553</span>
<span class="udiff-line-added">+         Stream&lt;Class&lt;? extends PlatformManagedObject&gt;&gt; pmos = platformComponents()</span>
                  .stream()
                  .flatMap(pc -&gt; pc.mbeanInterfaces().stream())
                  .filter(clazz -&gt; PlatformManagedObject.class.isAssignableFrom(clazz))
<span class="udiff-line-modified-removed">-                 .map(clazz -&gt; clazz.asSubclass(PlatformManagedObject.class))</span>
<span class="udiff-line-modified-removed">-                 .collect(Collectors.toSet());</span>
<span class="udiff-line-modified-added">+                 .map(clazz -&gt; clazz.asSubclass(PlatformManagedObject.class));</span>
<span class="udiff-line-modified-added">+         return pmos.collect(Collectors.toSet());</span>
      }
  
      private static final String NOTIF_EMITTER =
          &quot;javax.management.NotificationEmitter&quot;;
  
</pre>
<center><a href="LockInfo.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="MemoryMXBean.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>