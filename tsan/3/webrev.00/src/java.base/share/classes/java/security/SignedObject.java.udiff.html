<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.base/share/classes/java/security/SignedObject.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="SignatureSpi.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="Signer.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/security/SignedObject.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 1997, 2017, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 1997, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -116,10 +116,11 @@</span>
   * @since 1.2
   */
  
  public final class SignedObject implements Serializable {
  
<span class="udiff-line-added">+     @java.io.Serial</span>
      private static final long serialVersionUID = 720502720485447167L;
  
      /*
       * The original content is &quot;deep copied&quot; in its serialized format
       * and stored in a byte array.  The signature field is also in the
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -137,13 +138,13 @@</span>
       *
       * @param object the object to be signed.
       * @param signingKey the private key for signing.
       * @param signingEngine the signature signing engine.
       *
<span class="udiff-line-modified-removed">-      * @exception IOException if an error occurs during serialization</span>
<span class="udiff-line-modified-removed">-      * @exception InvalidKeyException if the key is invalid.</span>
<span class="udiff-line-modified-removed">-      * @exception SignatureException if signing fails.</span>
<span class="udiff-line-modified-added">+      * @throws    IOException if an error occurs during serialization</span>
<span class="udiff-line-modified-added">+      * @throws    InvalidKeyException if the key is invalid.</span>
<span class="udiff-line-modified-added">+      * @throws    SignatureException if signing fails.</span>
       */
      public SignedObject(Serializable object, PrivateKey signingKey,
                          Signature signingEngine)
          throws IOException, InvalidKeyException, SignatureException {
              // creating a stream pipe-line, from a to b
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -165,12 +166,12 @@</span>
       * Retrieves the encapsulated object.
       * The encapsulated object is de-serialized before it is returned.
       *
       * @return the encapsulated object.
       *
<span class="udiff-line-modified-removed">-      * @exception IOException if an error occurs during de-serialization</span>
<span class="udiff-line-modified-removed">-      * @exception ClassNotFoundException if an error occurs during</span>
<span class="udiff-line-modified-added">+      * @throws    IOException if an error occurs during de-serialization</span>
<span class="udiff-line-modified-added">+      * @throws    ClassNotFoundException if an error occurs during</span>
       * de-serialization
       */
      public Object getObject()
          throws IOException, ClassNotFoundException
      {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -209,14 +210,14 @@</span>
       * verification key, using the designated verification engine.
       *
       * @param verificationKey the public key for verification.
       * @param verificationEngine the signature verification engine.
       *
<span class="udiff-line-modified-removed">-      * @exception SignatureException if signature verification failed (an</span>
<span class="udiff-line-modified-added">+      * @throws    SignatureException if signature verification failed (an</span>
       *     exception prevented the signature verification engine from completing
       *     normally).
<span class="udiff-line-modified-removed">-      * @exception InvalidKeyException if the verification key is invalid.</span>
<span class="udiff-line-modified-added">+      * @throws    InvalidKeyException if the verification key is invalid.</span>
       *
       * @return {@code true} if the signature
       * is valid, {@code false} otherwise
       */
      public boolean verify(PublicKey verificationKey,
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -232,12 +233,12 @@</span>
       * designated signature engine.
       *
       * @param signingKey the private key for signing.
       * @param signingEngine the signature signing engine.
       *
<span class="udiff-line-modified-removed">-      * @exception InvalidKeyException if the key is invalid.</span>
<span class="udiff-line-modified-removed">-      * @exception SignatureException if signing fails.</span>
<span class="udiff-line-modified-added">+      * @throws    InvalidKeyException if the key is invalid.</span>
<span class="udiff-line-modified-added">+      * @throws    SignatureException if signing fails.</span>
       */
      private void sign(PrivateKey signingKey, Signature signingEngine)
          throws InvalidKeyException, SignatureException {
              // initialize the signing engine
              signingEngine.initSign(signingKey);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -248,10 +249,11 @@</span>
  
      /**
       * readObject is called to restore the state of the SignedObject from
       * a stream.
       */
<span class="udiff-line-added">+     @java.io.Serial</span>
      private void readObject(java.io.ObjectInputStream s)
          throws java.io.IOException, ClassNotFoundException {
              java.io.ObjectInputStream.GetField fields = s.readFields();
              content = ((byte[])fields.get(&quot;content&quot;, null)).clone();
              signature = ((byte[])fields.get(&quot;signature&quot;, null)).clone();
</pre>
<center><a href="SignatureSpi.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="Signer.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>