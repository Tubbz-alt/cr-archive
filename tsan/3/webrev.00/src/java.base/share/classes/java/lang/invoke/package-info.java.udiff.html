<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.base/share/classes/java/lang/invoke/package-info.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="X-VarHandleByteArrayView.java.template.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../module/Configuration.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/lang/invoke/package-info.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 2008, 2018, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 2008, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -51,16 +51,16 @@</span>
   * &lt;li&gt;The {@code ldc} instruction makes use of bootstrap {@code MethodHandle} constants
   * to dynamically resolve custom constant values.
   * &lt;/li&gt;
   * &lt;/ul&gt;
   *
<span class="udiff-line-modified-removed">-  * &lt;h1&gt;&lt;a id=&quot;jvm_mods&quot;&gt;&lt;/a&gt;Dynamic resolution of call sites and constants&lt;/h1&gt;</span>
<span class="udiff-line-modified-added">+  * &lt;h2&gt;&lt;a id=&quot;jvm_mods&quot;&gt;&lt;/a&gt;Dynamic resolution of call sites and constants&lt;/h2&gt;</span>
   * The following low-level information summarizes relevant parts of the
   * Java Virtual Machine specification.  For full details, please see the
   * current version of that specification.
   *
<span class="udiff-line-modified-removed">-  * &lt;h2&gt;&lt;a id=&quot;indyinsn&quot;&gt;&lt;/a&gt;Dynamically-computed call sites&lt;/h2&gt;</span>
<span class="udiff-line-modified-added">+  * &lt;h3&gt;&lt;a id=&quot;indyinsn&quot;&gt;&lt;/a&gt;Dynamically-computed call sites&lt;/h3&gt;</span>
   * An {@code invokedynamic} instruction is originally in an unlinked state.
   * In this state, there is no target method for the instruction to invoke.
   * &lt;p&gt;
   * Before the JVM can execute an {@code invokedynamic} instruction,
   * the instruction must first be &lt;em&gt;linked&lt;/em&gt;.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -72,11 +72,11 @@</span>
   * Each {@code invokedynamic} instruction statically specifies its own
   * bootstrap method as a constant pool reference.
   * The constant pool reference also specifies the invocation&#39;s name and method type descriptor,
   * just like {@code invokestatic} and the other invoke instructions.
   *
<span class="udiff-line-modified-removed">-  * &lt;h2&gt;&lt;a id=&quot;condycon&quot;&gt;&lt;/a&gt;Dynamically-computed constants&lt;/h2&gt;</span>
<span class="udiff-line-modified-added">+  * &lt;h3&gt;&lt;a id=&quot;condycon&quot;&gt;&lt;/a&gt;Dynamically-computed constants&lt;/h3&gt;</span>
   * The constant pool may contain constants tagged {@code CONSTANT_Dynamic},
   * equipped with bootstrap methods which perform their resolution.
   * Such a &lt;em&gt;dynamic constant&lt;/em&gt; is originally in an unresolved state.
   * Before the JVM can use a dynamically-computed constant, it must first be &lt;em&gt;resolved&lt;/em&gt;.
   * Dynamically-computed constant resolution is accomplished by calling a &lt;em&gt;bootstrap method&lt;/em&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -88,11 +88,11 @@</span>
   * The constant pool reference also specifies the constant&#39;s name and field type descriptor,
   * just like {@code getstatic} and the other field reference instructions.
   * (Roughly speaking, a dynamically-computed constant is to a dynamically-computed call site
   * as a {@code CONSTANT_Fieldref} is to a {@code CONSTANT_Methodref}.)
   *
<span class="udiff-line-modified-removed">-  * &lt;h2&gt;&lt;a id=&quot;bsm&quot;&gt;&lt;/a&gt;Execution of bootstrap methods&lt;/h2&gt;</span>
<span class="udiff-line-modified-added">+  * &lt;h3&gt;&lt;a id=&quot;bsm&quot;&gt;&lt;/a&gt;Execution of bootstrap methods&lt;/h3&gt;</span>
   * Resolving a dynamically-computed call site or constant
   * starts with resolving constants from the constant pool for the
   * following items:
   * &lt;ul&gt;
   * &lt;li&gt;the bootstrap method, a {@code CONSTANT_MethodHandle}&lt;/li&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -134,11 +134,11 @@</span>
   * {@code BootstrapMethodError} that wraps {@code E} is thrown.
   * If this happens, the same error will be thrown for all
   * subsequent attempts to execute the {@code invokedynamic} instruction or load the
   * dynamically-computed constant.
   *
<span class="udiff-line-modified-removed">-  * &lt;h2&gt;Timing of resolution&lt;/h2&gt;</span>
<span class="udiff-line-modified-added">+  * &lt;h3&gt;Timing of resolution&lt;/h3&gt;</span>
   * An {@code invokedynamic} instruction is linked just before its first execution.
   * A dynamically-computed constant is resolved just before the first time it is used
   * (by pushing it on the stack or linking it as a bootstrap method parameter).
   * The bootstrap method call implementing the linkage occurs within
   * a thread that is attempting a first execution or first use.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -169,11 +169,11 @@</span>
   * or to issue &amp;ldquo;causeless&amp;rdquo; bootstrap method calls.
   * Every {@code invokedynamic} instruction transitions at most once from unlinked to linked,
   * just before its first invocation.
   * There is no way to undo the effect of a completed bootstrap method call.
   *
<span class="udiff-line-modified-removed">-  * &lt;h2&gt;Types of bootstrap methods&lt;/h2&gt;</span>
<span class="udiff-line-modified-added">+  * &lt;h3&gt;Types of bootstrap methods&lt;/h3&gt;</span>
   * For a dynamically-computed call site, the bootstrap method is invoked with parameter
   * types {@code MethodHandles.Lookup}, {@code String}, {@code MethodType}, and the types
   * of any static arguments; the return type is {@code CallSite}.
   * &lt;p&gt;
   * For a dynamically-computed constant, the bootstrap method is invoked with parameter types
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -214,26 +214,26 @@</span>
   * &lt;tr&gt;&lt;th scope=&quot;col&quot;&gt;N&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Sample bootstrap method&lt;/th&gt;&lt;/tr&gt;
   * &lt;/thead&gt;
   * &lt;tbody&gt;
   * &lt;tr&gt;&lt;th scope=&quot;row&quot; style=&quot;font-weight:normal; vertical-align:top&quot;&gt;*&lt;/th&gt;&lt;td&gt;
   *     &lt;ul style=&quot;list-style:none; padding-left: 0; margin:0&quot;&gt;
<span class="udiff-line-modified-removed">-  *     &lt;li&gt;&lt;code&gt;CallSite bootstrap(Lookup caller, String name, MethodType type, Object... args)&lt;/code&gt;</span>
<span class="udiff-line-modified-removed">-  *     &lt;li&gt;&lt;code&gt;CallSite bootstrap(Object... args)&lt;/code&gt;</span>
<span class="udiff-line-modified-removed">-  *     &lt;li&gt;&lt;code&gt;CallSite bootstrap(Object caller, Object... nameAndTypeWithArgs)&lt;/code&gt;</span>
<span class="udiff-line-modified-added">+  *     &lt;li&gt;{@code CallSite bootstrap(Lookup caller, String name, MethodType type, Object... args)}</span>
<span class="udiff-line-modified-added">+  *     &lt;li&gt;{@code CallSite bootstrap(Object... args)}</span>
<span class="udiff-line-modified-added">+  *     &lt;li&gt;{@code CallSite bootstrap(Object caller, Object... nameAndTypeWithArgs)}</span>
   *     &lt;/ul&gt;&lt;/td&gt;&lt;/tr&gt;
   * &lt;tr&gt;&lt;th scope=&quot;row&quot; style=&quot;font-weight:normal; vertical-align:top&quot;&gt;0&lt;/th&gt;&lt;td&gt;
   *     &lt;ul style=&quot;list-style:none; padding-left: 0; margin:0&quot;&gt;
<span class="udiff-line-modified-removed">-  *     &lt;li&gt;&lt;code&gt;CallSite bootstrap(Lookup caller, String name, MethodType type)&lt;/code&gt;</span>
<span class="udiff-line-modified-removed">-  *     &lt;li&gt;&lt;code&gt;CallSite bootstrap(Lookup caller, Object... nameAndType)&lt;/code&gt;</span>
<span class="udiff-line-modified-added">+  *     &lt;li&gt;{@code CallSite bootstrap(Lookup caller, String name, MethodType type)}</span>
<span class="udiff-line-modified-added">+  *     &lt;li&gt;{@code CallSite bootstrap(Lookup caller, Object... nameAndType)}</span>
   *     &lt;/ul&gt;&lt;/td&gt;&lt;/tr&gt;
   * &lt;tr&gt;&lt;th scope=&quot;row&quot; style=&quot;font-weight:normal; vertical-align:top&quot;&gt;1&lt;/th&gt;&lt;td&gt;
<span class="udiff-line-modified-removed">-  *     &lt;code&gt;CallSite bootstrap(Lookup caller, String name, MethodType type, Object arg)&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="udiff-line-modified-added">+  *     {@code CallSite bootstrap(Lookup caller, String name, MethodType type, Object arg)}&lt;/td&gt;&lt;/tr&gt;</span>
   * &lt;tr&gt;&lt;th scope=&quot;row&quot; style=&quot;font-weight:normal; vertical-align:top&quot;&gt;2&lt;/th&gt;&lt;td&gt;
   *     &lt;ul style=&quot;list-style:none; padding-left: 0; margin:0&quot;&gt;
<span class="udiff-line-modified-removed">-  *     &lt;li&gt;&lt;code&gt;CallSite bootstrap(Lookup caller, String name, MethodType type, Object... args)&lt;/code&gt;</span>
<span class="udiff-line-modified-removed">-  *     &lt;li&gt;&lt;code&gt;CallSite bootstrap(Lookup caller, String name, MethodType type, String... args)&lt;/code&gt;</span>
<span class="udiff-line-modified-removed">-  *     &lt;li&gt;&lt;code&gt;CallSite bootstrap(Lookup caller, String name, MethodType type, String x, int y)&lt;/code&gt;</span>
<span class="udiff-line-modified-added">+  *     &lt;li&gt;{@code CallSite bootstrap(Lookup caller, String name, MethodType type, Object... args)}</span>
<span class="udiff-line-modified-added">+  *     &lt;li&gt;{@code CallSite bootstrap(Lookup caller, String name, MethodType type, String... args)}</span>
<span class="udiff-line-modified-added">+  *     &lt;li&gt;{@code CallSite bootstrap(Lookup caller, String name, MethodType type, String x, int y)}</span>
   *     &lt;/ul&gt;&lt;/td&gt;&lt;/tr&gt;
   * &lt;/tbody&gt;
   * &lt;/table&gt;
   * The last example assumes that the extra arguments are of type
   * {@code String} and {@code Integer} (or {@code int}), respectively.
</pre>
<center><a href="X-VarHandleByteArrayView.java.template.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../module/Configuration.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>