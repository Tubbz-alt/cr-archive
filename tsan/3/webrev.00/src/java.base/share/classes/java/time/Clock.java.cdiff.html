<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/java/time/Clock.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../text/spi/NumberFormatProvider.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="DateTimeException.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/time/Clock.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 2012, 2015, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 2012, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 477,10 ***</span>
<span class="line-new-header">--- 477,11 ---</span>
      /**
       * Implementation of a clock that always returns the latest time from
       * {@link System#currentTimeMillis()}.
       */
      static final class SystemClock extends Clock implements Serializable {
<span class="line-added">+         @java.io.Serial</span>
          private static final long serialVersionUID = 6740630888130243051L;
          private static final long OFFSET_SEED =
                  System.currentTimeMillis()/1000 - 1024; // initial offest
          static final SystemClock UTC = new SystemClock(ZoneOffset.UTC);
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 570,10 ***</span>
<span class="line-new-header">--- 571,11 ---</span>
          }
          @Override
          public String toString() {
              return &quot;SystemClock[&quot; + zone + &quot;]&quot;;
          }
<span class="line-added">+         @java.io.Serial</span>
          private void readObject(ObjectInputStream is)
                  throws IOException, ClassNotFoundException {
              // ensure that offset is initialized
              is.defaultReadObject();
              offset = OFFSET_SEED;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 584,10 ***</span>
<span class="line-new-header">--- 586,11 ---</span>
      /**
       * Implementation of a clock that always returns the same instant.
       * This is typically used for testing.
       */
      static final class FixedClock extends Clock implements Serializable {
<span class="line-added">+         @java.io.Serial</span>
          private static final long serialVersionUID = 7430389292664866958L;
          private final Instant instant;
          private final ZoneId zone;
  
          FixedClock(Instant fixedInstant, ZoneId zone) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 634,11 ***</span>
<span class="line-new-header">--- 637,13 ---</span>
      //-----------------------------------------------------------------------
      /**
       * Implementation of a clock that adds an offset to an underlying clock.
       */
      static final class OffsetClock extends Clock implements Serializable {
<span class="line-added">+         @java.io.Serial</span>
          private static final long serialVersionUID = 2007484719125426256L;
<span class="line-added">+         @SuppressWarnings(&quot;serial&quot;) // Not statically typed as Serializable</span>
          private final Clock baseClock;
          private final Duration offset;
  
          OffsetClock(Clock baseClock, Duration offset) {
              this.baseClock = baseClock;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 684,11 ***</span>
<span class="line-new-header">--- 689,13 ---</span>
      //-----------------------------------------------------------------------
      /**
       * Implementation of a clock that adds an offset to an underlying clock.
       */
      static final class TickClock extends Clock implements Serializable {
<span class="line-added">+         @java.io.Serial</span>
          private static final long serialVersionUID = 6504659149906368850L;
<span class="line-added">+         @SuppressWarnings(&quot;serial&quot;) // Not statically typed as Serializable</span>
          private final Clock baseClock;
          private final long tickNanos;
  
          TickClock(Clock baseClock, long tickNanos) {
              this.baseClock = baseClock;
</pre>
<center><a href="../text/spi/NumberFormatProvider.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="DateTimeException.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>