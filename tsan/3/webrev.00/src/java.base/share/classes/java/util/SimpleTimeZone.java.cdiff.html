<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/java/util/SimpleTimeZone.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="Set.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="Stack.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/util/SimpleTimeZone.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 46,20 ***</span>
  import sun.util.calendar.CalendarUtils;
  import sun.util.calendar.BaseCalendar;
  import sun.util.calendar.Gregorian;
  
  /**
<span class="line-modified">!  * &lt;code&gt;SimpleTimeZone&lt;/code&gt; is a concrete subclass of &lt;code&gt;TimeZone&lt;/code&gt;</span>
   * that represents a time zone for use with a Gregorian calendar.
   * The class holds an offset from GMT, called &lt;em&gt;raw offset&lt;/em&gt;, and start
   * and end rules for a daylight saving time schedule.  Since it only holds
   * single values for each, it cannot handle historical changes in the offset
   * from GMT and the daylight saving schedule, except that the {@link
   * #setStartYear setStartYear} method can specify the year when the daylight
   * saving time schedule starts in effect.
   * &lt;p&gt;
<span class="line-modified">!  * To construct a &lt;code&gt;SimpleTimeZone&lt;/code&gt; with a daylight saving time</span>
   * schedule, the schedule can be described with a set of rules,
   * &lt;em&gt;start-rule&lt;/em&gt; and &lt;em&gt;end-rule&lt;/em&gt;. A day when daylight saving time
   * starts or ends is specified by a combination of &lt;em&gt;month&lt;/em&gt;,
   * &lt;em&gt;day-of-month&lt;/em&gt;, and &lt;em&gt;day-of-week&lt;/em&gt; values. The &lt;em&gt;month&lt;/em&gt;
   * value is represented by a Calendar {@link Calendar#MONTH MONTH} field
<span class="line-new-header">--- 46,20 ---</span>
  import sun.util.calendar.CalendarUtils;
  import sun.util.calendar.BaseCalendar;
  import sun.util.calendar.Gregorian;
  
  /**
<span class="line-modified">!  * {@code SimpleTimeZone} is a concrete subclass of {@code TimeZone}</span>
   * that represents a time zone for use with a Gregorian calendar.
   * The class holds an offset from GMT, called &lt;em&gt;raw offset&lt;/em&gt;, and start
   * and end rules for a daylight saving time schedule.  Since it only holds
   * single values for each, it cannot handle historical changes in the offset
   * from GMT and the daylight saving schedule, except that the {@link
   * #setStartYear setStartYear} method can specify the year when the daylight
   * saving time schedule starts in effect.
   * &lt;p&gt;
<span class="line-modified">!  * To construct a {@code SimpleTimeZone} with a daylight saving time</span>
   * schedule, the schedule can be described with a set of rules,
   * &lt;em&gt;start-rule&lt;/em&gt; and &lt;em&gt;end-rule&lt;/em&gt;. A day when daylight saving time
   * starts or ends is specified by a combination of &lt;em&gt;month&lt;/em&gt;,
   * &lt;em&gt;day-of-month&lt;/em&gt;, and &lt;em&gt;day-of-week&lt;/em&gt; values. The &lt;em&gt;month&lt;/em&gt;
   * value is represented by a Calendar {@link Calendar#MONTH MONTH} field
</pre>
<hr />
<pre>
<span class="line-old-header">*** 79,19 ***</span>
   * To specify a day of week on or after an exact day of month, set the
   * &lt;em&gt;month&lt;/em&gt; to an exact month value, &lt;em&gt;day-of-month&lt;/em&gt; to the day on
   * or after which the rule is applied, and &lt;em&gt;day-of-week&lt;/em&gt; to a negative {@link
   * Calendar#DAY_OF_WEEK DAY_OF_WEEK} field value. For example, to specify the
   * second Sunday of April, set &lt;em&gt;month&lt;/em&gt; to {@link Calendar#APRIL APRIL},
<span class="line-modified">!  * &lt;em&gt;day-of-month&lt;/em&gt; to 8, and &lt;em&gt;day-of-week&lt;/em&gt; to &lt;code&gt;-&lt;/code&gt;{@link</span>
   * Calendar#SUNDAY SUNDAY}.&lt;/li&gt;
   *
   * &lt;li&gt;&lt;b&gt;Day of week on or before day of month&lt;/b&gt;&lt;br&gt;
   * To specify a day of the week on or before an exact day of the month, set
   * &lt;em&gt;day-of-month&lt;/em&gt; and &lt;em&gt;day-of-week&lt;/em&gt; to a negative value. For
   * example, to specify the last Wednesday on or before the 21st of March, set
   * &lt;em&gt;month&lt;/em&gt; to {@link Calendar#MARCH MARCH}, &lt;em&gt;day-of-month&lt;/em&gt; is -21
<span class="line-modified">!  * and &lt;em&gt;day-of-week&lt;/em&gt; is &lt;code&gt;-&lt;/code&gt;{@link Calendar#WEDNESDAY WEDNESDAY}. &lt;/li&gt;</span>
   *
   * &lt;li&gt;&lt;b&gt;Last day-of-week of month&lt;/b&gt;&lt;br&gt;
   * To specify, the last day-of-week of the month, set &lt;em&gt;day-of-week&lt;/em&gt; to a
   * {@link Calendar#DAY_OF_WEEK DAY_OF_WEEK} value and &lt;em&gt;day-of-month&lt;/em&gt; to
   * -1. For example, to specify the last Sunday of October, set &lt;em&gt;month&lt;/em&gt;
<span class="line-new-header">--- 79,19 ---</span>
   * To specify a day of week on or after an exact day of month, set the
   * &lt;em&gt;month&lt;/em&gt; to an exact month value, &lt;em&gt;day-of-month&lt;/em&gt; to the day on
   * or after which the rule is applied, and &lt;em&gt;day-of-week&lt;/em&gt; to a negative {@link
   * Calendar#DAY_OF_WEEK DAY_OF_WEEK} field value. For example, to specify the
   * second Sunday of April, set &lt;em&gt;month&lt;/em&gt; to {@link Calendar#APRIL APRIL},
<span class="line-modified">!  * &lt;em&gt;day-of-month&lt;/em&gt; to 8, and &lt;em&gt;day-of-week&lt;/em&gt; to {@code -}{@link</span>
   * Calendar#SUNDAY SUNDAY}.&lt;/li&gt;
   *
   * &lt;li&gt;&lt;b&gt;Day of week on or before day of month&lt;/b&gt;&lt;br&gt;
   * To specify a day of the week on or before an exact day of the month, set
   * &lt;em&gt;day-of-month&lt;/em&gt; and &lt;em&gt;day-of-week&lt;/em&gt; to a negative value. For
   * example, to specify the last Wednesday on or before the 21st of March, set
   * &lt;em&gt;month&lt;/em&gt; to {@link Calendar#MARCH MARCH}, &lt;em&gt;day-of-month&lt;/em&gt; is -21
<span class="line-modified">!  * and &lt;em&gt;day-of-week&lt;/em&gt; is {@code -}{@link Calendar#WEDNESDAY WEDNESDAY}. &lt;/li&gt;</span>
   *
   * &lt;li&gt;&lt;b&gt;Last day-of-week of month&lt;/b&gt;&lt;br&gt;
   * To specify, the last day-of-week of the month, set &lt;em&gt;day-of-week&lt;/em&gt; to a
   * {@link Calendar#DAY_OF_WEEK DAY_OF_WEEK} value and &lt;em&gt;day-of-month&lt;/em&gt; to
   * -1. For example, to specify the last Sunday of October, set &lt;em&gt;month&lt;/em&gt;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 137,11 ***</span>
   *                     Calendar.OCTOBER, -1, Calendar.SUNDAY,
   *                     3600000, SimpleTimeZone.UTC_TIME,
   *                     3600000)
   * &lt;/code&gt;&lt;/pre&gt;
   * These parameter rules are also applicable to the set rule methods, such as
<span class="line-modified">!  * &lt;code&gt;setStartRule&lt;/code&gt;.</span>
   *
   * @since 1.1
   * @see      Calendar
   * @see      GregorianCalendar
   * @see      TimeZone
<span class="line-new-header">--- 137,11 ---</span>
   *                     Calendar.OCTOBER, -1, Calendar.SUNDAY,
   *                     3600000, SimpleTimeZone.UTC_TIME,
   *                     3600000)
   * &lt;/code&gt;&lt;/pre&gt;
   * These parameter rules are also applicable to the set rule methods, such as
<span class="line-modified">!  * {@code setStartRule}.</span>
   *
   * @since 1.1
   * @see      Calendar
   * @see      GregorianCalendar
   * @see      TimeZone
</pre>
<hr />
<pre>
<span class="line-old-header">*** 165,11 ***</span>
  
      /**
       * Constructs a SimpleTimeZone with the given base time zone offset from
       * GMT, time zone ID, and rules for starting and ending the daylight
       * time.
<span class="line-modified">!      * Both &lt;code&gt;startTime&lt;/code&gt; and &lt;code&gt;endTime&lt;/code&gt; are specified to be</span>
       * represented in the wall clock time. The amount of daylight saving is
       * assumed to be 3600000 milliseconds (i.e., one hour). This constructor is
       * equivalent to:
       * &lt;pre&gt;&lt;code&gt;
       *     SimpleTimeZone(rawOffset,
<span class="line-new-header">--- 165,11 ---</span>
  
      /**
       * Constructs a SimpleTimeZone with the given base time zone offset from
       * GMT, time zone ID, and rules for starting and ending the daylight
       * time.
<span class="line-modified">!      * Both {@code startTime} and {@code endTime} are specified to be</span>
       * represented in the wall clock time. The amount of daylight saving is
       * assumed to be 3600000 milliseconds (i.e., one hour). This constructor is
       * equivalent to:
       * &lt;pre&gt;&lt;code&gt;
       *     SimpleTimeZone(rawOffset,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 207,11 ***</span>
       * @param endDayOfWeek    The daylight saving time ending day-of-week.
       *                        See the class description for the special cases of this parameter.
       * @param endTime         The daylight saving ending time in local wall clock time,
       *                        (in milliseconds within the day) which is local daylight
       *                        time in this case.
<span class="line-modified">!      * @exception IllegalArgumentException if the month, day, dayOfWeek, or time</span>
       * parameters are out of range for the start or end rule
       */
      public SimpleTimeZone(int rawOffset, String ID,
                            int startMonth, int startDay, int startDayOfWeek, int startTime,
                            int endMonth, int endDay, int endDayOfWeek, int endTime)
<span class="line-new-header">--- 207,11 ---</span>
       * @param endDayOfWeek    The daylight saving time ending day-of-week.
       *                        See the class description for the special cases of this parameter.
       * @param endTime         The daylight saving ending time in local wall clock time,
       *                        (in milliseconds within the day) which is local daylight
       *                        time in this case.
<span class="line-modified">!      * @throws    IllegalArgumentException if the month, day, dayOfWeek, or time</span>
       * parameters are out of range for the start or end rule
       */
      public SimpleTimeZone(int rawOffset, String ID,
                            int startMonth, int startDay, int startDayOfWeek, int startTime,
                            int endMonth, int endDay, int endDayOfWeek, int endTime)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 224,11 ***</span>
  
      /**
       * Constructs a SimpleTimeZone with the given base time zone offset from
       * GMT, time zone ID, and rules for starting and ending the daylight
       * time.
<span class="line-modified">!      * Both &lt;code&gt;startTime&lt;/code&gt; and &lt;code&gt;endTime&lt;/code&gt; are assumed to be</span>
       * represented in the wall clock time. This constructor is equivalent to:
       * &lt;pre&gt;&lt;code&gt;
       *     SimpleTimeZone(rawOffset,
       *                    ID,
       *                    startMonth,
<span class="line-new-header">--- 224,11 ---</span>
  
      /**
       * Constructs a SimpleTimeZone with the given base time zone offset from
       * GMT, time zone ID, and rules for starting and ending the daylight
       * time.
<span class="line-modified">!      * Both {@code startTime} and {@code endTime} are assumed to be</span>
       * represented in the wall clock time. This constructor is equivalent to:
       * &lt;pre&gt;&lt;code&gt;
       *     SimpleTimeZone(rawOffset,
       *                    ID,
       *                    startMonth,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 264,11 ***</span>
       *                        See the class description for the special cases of this parameter.
       * @param endTime         The daylight saving ending time in local wall clock time,
       *                        which is local daylight time in this case.
       * @param dstSavings      The amount of time in milliseconds saved during
       *                        daylight saving time.
<span class="line-modified">!      * @exception IllegalArgumentException if the month, day, dayOfWeek, or time</span>
       * parameters are out of range for the start or end rule
       * @since 1.2
       */
      public SimpleTimeZone(int rawOffset, String ID,
                            int startMonth, int startDay, int startDayOfWeek, int startTime,
<span class="line-new-header">--- 264,11 ---</span>
       *                        See the class description for the special cases of this parameter.
       * @param endTime         The daylight saving ending time in local wall clock time,
       *                        which is local daylight time in this case.
       * @param dstSavings      The amount of time in milliseconds saved during
       *                        daylight saving time.
<span class="line-modified">!      * @throws    IllegalArgumentException if the month, day, dayOfWeek, or time</span>
       * parameters are out of range for the start or end rule
       * @since 1.2
       */
      public SimpleTimeZone(int rawOffset, String ID,
                            int startMonth, int startDay, int startDayOfWeek, int startTime,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 284,12 ***</span>
      /**
       * Constructs a SimpleTimeZone with the given base time zone offset from
       * GMT, time zone ID, and rules for starting and ending the daylight
       * time.
       * This constructor takes the full set of the start and end rules
<span class="line-modified">!      * parameters, including modes of &lt;code&gt;startTime&lt;/code&gt; and</span>
<span class="line-modified">!      * &lt;code&gt;endTime&lt;/code&gt;. The mode specifies either {@link #WALL_TIME wall</span>
       * time} or {@link #STANDARD_TIME standard time} or {@link #UTC_TIME UTC
       * time}.
       *
       * @param rawOffset       The given base time zone offset from GMT.
       * @param ID              The time zone ID which is given to this object.
<span class="line-new-header">--- 284,12 ---</span>
      /**
       * Constructs a SimpleTimeZone with the given base time zone offset from
       * GMT, time zone ID, and rules for starting and ending the daylight
       * time.
       * This constructor takes the full set of the start and end rules
<span class="line-modified">!      * parameters, including modes of {@code startTime} and</span>
<span class="line-modified">!      * {@code endTime}. The mode specifies either {@link #WALL_TIME wall</span>
       * time} or {@link #STANDARD_TIME standard time} or {@link #UTC_TIME UTC
       * time}.
       *
       * @param rawOffset       The given base time zone offset from GMT.
       * @param ID              The time zone ID which is given to this object.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 299,26 ***</span>
       * @param startDay        The day of the month on which the daylight saving time starts.
       *                        See the class description for the special cases of this parameter.
       * @param startDayOfWeek  The daylight saving time starting day-of-week.
       *                        See the class description for the special cases of this parameter.
       * @param startTime       The daylight saving time starting time in the time mode
<span class="line-modified">!      *                        specified by &lt;code&gt;startTimeMode&lt;/code&gt;.</span>
       * @param startTimeMode   The mode of the start time specified by startTime.
       * @param endMonth        The daylight saving time ending month. Month is
       *                        a {@link Calendar#MONTH MONTH} field
       *                        value (0-based. e.g., 9 for October).
       * @param endDay          The day of the month on which the daylight saving time ends.
       *                        See the class description for the special cases of this parameter.
       * @param endDayOfWeek    The daylight saving time ending day-of-week.
       *                        See the class description for the special cases of this parameter.
       * @param endTime         The daylight saving ending time in time mode
<span class="line-modified">!      *                        specified by &lt;code&gt;endTimeMode&lt;/code&gt;.</span>
       * @param endTimeMode     The mode of the end time specified by endTime
       * @param dstSavings      The amount of time in milliseconds saved during
       *                        daylight saving time.
       *
<span class="line-modified">!      * @exception IllegalArgumentException if the month, day, dayOfWeek, time more, or</span>
       * time parameters are out of range for the start or end rule, or if a time mode
       * value is invalid.
       *
       * @see #WALL_TIME
       * @see #STANDARD_TIME
<span class="line-new-header">--- 299,26 ---</span>
       * @param startDay        The day of the month on which the daylight saving time starts.
       *                        See the class description for the special cases of this parameter.
       * @param startDayOfWeek  The daylight saving time starting day-of-week.
       *                        See the class description for the special cases of this parameter.
       * @param startTime       The daylight saving time starting time in the time mode
<span class="line-modified">!      *                        specified by {@code startTimeMode}.</span>
       * @param startTimeMode   The mode of the start time specified by startTime.
       * @param endMonth        The daylight saving time ending month. Month is
       *                        a {@link Calendar#MONTH MONTH} field
       *                        value (0-based. e.g., 9 for October).
       * @param endDay          The day of the month on which the daylight saving time ends.
       *                        See the class description for the special cases of this parameter.
       * @param endDayOfWeek    The daylight saving time ending day-of-week.
       *                        See the class description for the special cases of this parameter.
       * @param endTime         The daylight saving ending time in time mode
<span class="line-modified">!      *                        specified by {@code endTimeMode}.</span>
       * @param endTimeMode     The mode of the end time specified by endTime
       * @param dstSavings      The amount of time in milliseconds saved during
       *                        daylight saving time.
       *
<span class="line-modified">!      * @throws    IllegalArgumentException if the month, day, dayOfWeek, time more, or</span>
       * time parameters are out of range for the start or end rule, or if a time mode
       * value is invalid.
       *
       * @see #WALL_TIME
       * @see #STANDARD_TIME
</pre>
<hr />
<pre>
<span class="line-old-header">*** 367,23 ***</span>
  
      /**
       * Sets the daylight saving time start rule. For example, if daylight saving
       * time starts on the first Sunday in April at 2 am in local wall clock
       * time, you can set the start rule by calling:
<span class="line-modified">!      * &lt;pre&gt;&lt;code&gt;setStartRule(Calendar.APRIL, 1, Calendar.SUNDAY, 2*60*60*1000);&lt;/code&gt;&lt;/pre&gt;</span>
       *
       * @param startMonth      The daylight saving time starting month. Month is
       *                        a {@link Calendar#MONTH MONTH} field
       *                        value (0-based. e.g., 0 for January).
       * @param startDay        The day of the month on which the daylight saving time starts.
       *                        See the class description for the special cases of this parameter.
       * @param startDayOfWeek  The daylight saving time starting day-of-week.
       *                        See the class description for the special cases of this parameter.
       * @param startTime       The daylight saving time starting time in local wall clock
       *                        time, which is local standard time in this case.
<span class="line-modified">!      * @exception IllegalArgumentException if the &lt;code&gt;startMonth&lt;/code&gt;, &lt;code&gt;startDay&lt;/code&gt;,</span>
<span class="line-modified">!      * &lt;code&gt;startDayOfWeek&lt;/code&gt;, or &lt;code&gt;startTime&lt;/code&gt; parameters are out of range</span>
       */
      public void setStartRule(int startMonth, int startDay, int startDayOfWeek, int startTime)
      {
          this.startMonth = startMonth;
          this.startDay = startDay;
<span class="line-new-header">--- 367,23 ---</span>
  
      /**
       * Sets the daylight saving time start rule. For example, if daylight saving
       * time starts on the first Sunday in April at 2 am in local wall clock
       * time, you can set the start rule by calling:
<span class="line-modified">!      * &lt;pre&gt;{@code setStartRule(Calendar.APRIL, 1, Calendar.SUNDAY, 2*60*60*1000);}&lt;/pre&gt;</span>
       *
       * @param startMonth      The daylight saving time starting month. Month is
       *                        a {@link Calendar#MONTH MONTH} field
       *                        value (0-based. e.g., 0 for January).
       * @param startDay        The day of the month on which the daylight saving time starts.
       *                        See the class description for the special cases of this parameter.
       * @param startDayOfWeek  The daylight saving time starting day-of-week.
       *                        See the class description for the special cases of this parameter.
       * @param startTime       The daylight saving time starting time in local wall clock
       *                        time, which is local standard time in this case.
<span class="line-modified">!      * @throws    IllegalArgumentException if the {@code startMonth}, {@code startDay},</span>
<span class="line-modified">!      * {@code startDayOfWeek}, or {@code startTime} parameters are out of range</span>
       */
      public void setStartRule(int startMonth, int startDay, int startDayOfWeek, int startTime)
      {
          this.startMonth = startMonth;
          this.startDay = startDay;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 395,21 ***</span>
      }
  
      /**
       * Sets the daylight saving time start rule to a fixed date within a month.
       * This method is equivalent to:
<span class="line-modified">!      * &lt;pre&gt;&lt;code&gt;setStartRule(startMonth, startDay, 0, startTime)&lt;/code&gt;&lt;/pre&gt;</span>
       *
       * @param startMonth      The daylight saving time starting month. Month is
       *                        a {@link Calendar#MONTH MONTH} field
       *                        value (0-based. e.g., 0 for January).
       * @param startDay        The day of the month on which the daylight saving time starts.
       * @param startTime       The daylight saving time starting time in local wall clock
       *                        time, which is local standard time in this case.
       *                        See the class description for the special cases of this parameter.
<span class="line-modified">!      * @exception IllegalArgumentException if the &lt;code&gt;startMonth&lt;/code&gt;,</span>
<span class="line-modified">!      * &lt;code&gt;startDayOfMonth&lt;/code&gt;, or &lt;code&gt;startTime&lt;/code&gt; parameters are out of range</span>
       * @since 1.2
       */
      public void setStartRule(int startMonth, int startDay, int startTime) {
          setStartRule(startMonth, startDay, 0, startTime);
      }
<span class="line-new-header">--- 395,21 ---</span>
      }
  
      /**
       * Sets the daylight saving time start rule to a fixed date within a month.
       * This method is equivalent to:
<span class="line-modified">!      * &lt;pre&gt;{@code setStartRule(startMonth, startDay, 0, startTime)}&lt;/pre&gt;</span>
       *
       * @param startMonth      The daylight saving time starting month. Month is
       *                        a {@link Calendar#MONTH MONTH} field
       *                        value (0-based. e.g., 0 for January).
       * @param startDay        The day of the month on which the daylight saving time starts.
       * @param startTime       The daylight saving time starting time in local wall clock
       *                        time, which is local standard time in this case.
       *                        See the class description for the special cases of this parameter.
<span class="line-modified">!      * @throws    IllegalArgumentException if the {@code startMonth},</span>
<span class="line-modified">!      * {@code startDayOfMonth}, or {@code startTime} parameters are out of range</span>
       * @since 1.2
       */
      public void setStartRule(int startMonth, int startDay, int startTime) {
          setStartRule(startMonth, startDay, 0, startTime);
      }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 423,16 ***</span>
       *                        value (0-based. e.g., 0 for January).
       * @param startDay        The day of the month on which the daylight saving time starts.
       * @param startDayOfWeek  The daylight saving time starting day-of-week.
       * @param startTime       The daylight saving time starting time in local wall clock
       *                        time, which is local standard time in this case.
<span class="line-modified">!      * @param after           If true, this rule selects the first &lt;code&gt;dayOfWeek&lt;/code&gt; on or</span>
<span class="line-modified">!      *                        &lt;em&gt;after&lt;/em&gt; &lt;code&gt;dayOfMonth&lt;/code&gt;.  If false, this rule</span>
<span class="line-modified">!      *                        selects the last &lt;code&gt;dayOfWeek&lt;/code&gt; on or &lt;em&gt;before&lt;/em&gt;</span>
<span class="line-modified">!      *                        &lt;code&gt;dayOfMonth&lt;/code&gt;.</span>
<span class="line-modified">!      * @exception IllegalArgumentException if the &lt;code&gt;startMonth&lt;/code&gt;, &lt;code&gt;startDay&lt;/code&gt;,</span>
<span class="line-modified">!      * &lt;code&gt;startDayOfWeek&lt;/code&gt;, or &lt;code&gt;startTime&lt;/code&gt; parameters are out of range</span>
       * @since 1.2
       */
      public void setStartRule(int startMonth, int startDay, int startDayOfWeek,
                               int startTime, boolean after)
      {
<span class="line-new-header">--- 423,16 ---</span>
       *                        value (0-based. e.g., 0 for January).
       * @param startDay        The day of the month on which the daylight saving time starts.
       * @param startDayOfWeek  The daylight saving time starting day-of-week.
       * @param startTime       The daylight saving time starting time in local wall clock
       *                        time, which is local standard time in this case.
<span class="line-modified">!      * @param after           If true, this rule selects the first {@code dayOfWeek} on or</span>
<span class="line-modified">!      *                        &lt;em&gt;after&lt;/em&gt; {@code dayOfMonth}.  If false, this rule</span>
<span class="line-modified">!      *                        selects the last {@code dayOfWeek} on or &lt;em&gt;before&lt;/em&gt;</span>
<span class="line-modified">!      *                        {@code dayOfMonth}.</span>
<span class="line-modified">!      * @throws    IllegalArgumentException if the {@code startMonth}, {@code startDay},</span>
<span class="line-modified">!      * {@code startDayOfWeek}, or {@code startTime} parameters are out of range</span>
       * @since 1.2
       */
      public void setStartRule(int startMonth, int startDay, int startDayOfWeek,
                               int startTime, boolean after)
      {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 446,11 ***</span>
  
      /**
       * Sets the daylight saving time end rule. For example, if daylight saving time
       * ends on the last Sunday in October at 2 am in wall clock time,
       * you can set the end rule by calling:
<span class="line-modified">!      * &lt;code&gt;setEndRule(Calendar.OCTOBER, -1, Calendar.SUNDAY, 2*60*60*1000);&lt;/code&gt;</span>
       *
       * @param endMonth        The daylight saving time ending month. Month is
       *                        a {@link Calendar#MONTH MONTH} field
       *                        value (0-based. e.g., 9 for October).
       * @param endDay          The day of the month on which the daylight saving time ends.
<span class="line-new-header">--- 446,11 ---</span>
  
      /**
       * Sets the daylight saving time end rule. For example, if daylight saving time
       * ends on the last Sunday in October at 2 am in wall clock time,
       * you can set the end rule by calling:
<span class="line-modified">!      * {@code setEndRule(Calendar.OCTOBER, -1, Calendar.SUNDAY, 2*60*60*1000);}</span>
       *
       * @param endMonth        The daylight saving time ending month. Month is
       *                        a {@link Calendar#MONTH MONTH} field
       *                        value (0-based. e.g., 9 for October).
       * @param endDay          The day of the month on which the daylight saving time ends.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 458,12 ***</span>
       * @param endDayOfWeek    The daylight saving time ending day-of-week.
       *                        See the class description for the special cases of this parameter.
       * @param endTime         The daylight saving ending time in local wall clock time,
       *                        (in milliseconds within the day) which is local daylight
       *                        time in this case.
<span class="line-modified">!      * @exception IllegalArgumentException if the &lt;code&gt;endMonth&lt;/code&gt;, &lt;code&gt;endDay&lt;/code&gt;,</span>
<span class="line-modified">!      * &lt;code&gt;endDayOfWeek&lt;/code&gt;, or &lt;code&gt;endTime&lt;/code&gt; parameters are out of range</span>
       */
      public void setEndRule(int endMonth, int endDay, int endDayOfWeek,
                             int endTime)
      {
          this.endMonth = endMonth;
<span class="line-new-header">--- 458,12 ---</span>
       * @param endDayOfWeek    The daylight saving time ending day-of-week.
       *                        See the class description for the special cases of this parameter.
       * @param endTime         The daylight saving ending time in local wall clock time,
       *                        (in milliseconds within the day) which is local daylight
       *                        time in this case.
<span class="line-modified">!      * @throws    IllegalArgumentException if the {@code endMonth}, {@code endDay},</span>
<span class="line-modified">!      * {@code endDayOfWeek}, or {@code endTime} parameters are out of range</span>
       */
      public void setEndRule(int endMonth, int endDay, int endDayOfWeek,
                             int endTime)
      {
          this.endMonth = endMonth;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 476,21 ***</span>
      }
  
      /**
       * Sets the daylight saving time end rule to a fixed date within a month.
       * This method is equivalent to:
<span class="line-modified">!      * &lt;pre&gt;&lt;code&gt;setEndRule(endMonth, endDay, 0, endTime)&lt;/code&gt;&lt;/pre&gt;</span>
       *
       * @param endMonth        The daylight saving time ending month. Month is
       *                        a {@link Calendar#MONTH MONTH} field
       *                        value (0-based. e.g., 9 for October).
       * @param endDay          The day of the month on which the daylight saving time ends.
       * @param endTime         The daylight saving ending time in local wall clock time,
       *                        (in milliseconds within the day) which is local daylight
       *                        time in this case.
<span class="line-modified">!      * @exception IllegalArgumentException the &lt;code&gt;endMonth&lt;/code&gt;, &lt;code&gt;endDay&lt;/code&gt;,</span>
<span class="line-modified">!      * or &lt;code&gt;endTime&lt;/code&gt; parameters are out of range</span>
       * @since 1.2
       */
      public void setEndRule(int endMonth, int endDay, int endTime)
      {
          setEndRule(endMonth, endDay, 0, endTime);
<span class="line-new-header">--- 476,21 ---</span>
      }
  
      /**
       * Sets the daylight saving time end rule to a fixed date within a month.
       * This method is equivalent to:
<span class="line-modified">!      * &lt;pre&gt;{@code setEndRule(endMonth, endDay, 0, endTime)}&lt;/pre&gt;</span>
       *
       * @param endMonth        The daylight saving time ending month. Month is
       *                        a {@link Calendar#MONTH MONTH} field
       *                        value (0-based. e.g., 9 for October).
       * @param endDay          The day of the month on which the daylight saving time ends.
       * @param endTime         The daylight saving ending time in local wall clock time,
       *                        (in milliseconds within the day) which is local daylight
       *                        time in this case.
<span class="line-modified">!      * @throws    IllegalArgumentException the {@code endMonth}, {@code endDay},</span>
<span class="line-modified">!      * or {@code endTime} parameters are out of range</span>
       * @since 1.2
       */
      public void setEndRule(int endMonth, int endDay, int endTime)
      {
          setEndRule(endMonth, endDay, 0, endTime);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 506,16 ***</span>
       * @param endDay          The day of the month on which the daylight saving time ends.
       * @param endDayOfWeek    The daylight saving time ending day-of-week.
       * @param endTime         The daylight saving ending time in local wall clock time,
       *                        (in milliseconds within the day) which is local daylight
       *                        time in this case.
<span class="line-modified">!      * @param after           If true, this rule selects the first &lt;code&gt;endDayOfWeek&lt;/code&gt; on</span>
<span class="line-modified">!      *                        or &lt;em&gt;after&lt;/em&gt; &lt;code&gt;endDay&lt;/code&gt;.  If false, this rule</span>
<span class="line-modified">!      *                        selects the last &lt;code&gt;endDayOfWeek&lt;/code&gt; on or before</span>
<span class="line-modified">!      *                        &lt;code&gt;endDay&lt;/code&gt; of the month.</span>
<span class="line-modified">!      * @exception IllegalArgumentException the &lt;code&gt;endMonth&lt;/code&gt;, &lt;code&gt;endDay&lt;/code&gt;,</span>
<span class="line-modified">!      * &lt;code&gt;endDayOfWeek&lt;/code&gt;, or &lt;code&gt;endTime&lt;/code&gt; parameters are out of range</span>
       * @since 1.2
       */
      public void setEndRule(int endMonth, int endDay, int endDayOfWeek, int endTime, boolean after)
      {
          if (after) {
<span class="line-new-header">--- 506,16 ---</span>
       * @param endDay          The day of the month on which the daylight saving time ends.
       * @param endDayOfWeek    The daylight saving time ending day-of-week.
       * @param endTime         The daylight saving ending time in local wall clock time,
       *                        (in milliseconds within the day) which is local daylight
       *                        time in this case.
<span class="line-modified">!      * @param after           If true, this rule selects the first {@code endDayOfWeek} on</span>
<span class="line-modified">!      *                        or &lt;em&gt;after&lt;/em&gt; {@code endDay}.  If false, this rule</span>
<span class="line-modified">!      *                        selects the last {@code endDayOfWeek} on or before</span>
<span class="line-modified">!      *                        {@code endDay} of the month.</span>
<span class="line-modified">!      * @throws    IllegalArgumentException the {@code endMonth}, {@code endDay},</span>
<span class="line-modified">!      * {@code endDayOfWeek}, or {@code endTime} parameters are out of range</span>
       * @since 1.2
       */
      public void setEndRule(int endMonth, int endDay, int endDayOfWeek, int endTime, boolean after)
      {
          if (after) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 581,27 ***</span>
       * daylight saving, for the specified date and time.  This method
       * assumes that the start and end month are distinct.  It also
       * uses a default {@link GregorianCalendar} object as its
       * underlying calendar, such as for determining leap years.  Do
       * not use the result of this method with a calendar other than a
<span class="line-modified">!      * default &lt;code&gt;GregorianCalendar&lt;/code&gt;.</span>
       *
       * &lt;p&gt;&lt;em&gt;Note:  In general, clients should use
<span class="line-modified">!      * &lt;code&gt;Calendar.get(ZONE_OFFSET) + Calendar.get(DST_OFFSET)&lt;/code&gt;</span>
       * instead of calling this method.&lt;/em&gt;
       *
       * @param era       The era of the given date.
       * @param year      The year in the given date.
       * @param month     The month in the given date. Month is 0-based. e.g.,
       *                  0 for January.
       * @param day       The day-in-month of the given date.
       * @param dayOfWeek The day-of-week of the given date.
       * @param millis    The milliseconds in day in &lt;em&gt;standard&lt;/em&gt; local time.
       * @return          The milliseconds to add to UTC to get local time.
<span class="line-modified">!      * @exception       IllegalArgumentException the &lt;code&gt;era&lt;/code&gt;,</span>
<span class="line-modified">!      *                  &lt;code&gt;month&lt;/code&gt;, &lt;code&gt;day&lt;/code&gt;, &lt;code&gt;dayOfWeek&lt;/code&gt;,</span>
<span class="line-modified">!      *                  or &lt;code&gt;millis&lt;/code&gt; parameters are out of range</span>
       */
      public int getOffset(int era, int year, int month, int day, int dayOfWeek,
                           int millis)
      {
          if (era != GregorianCalendar.AD &amp;&amp; era != GregorianCalendar.BC) {
<span class="line-new-header">--- 581,27 ---</span>
       * daylight saving, for the specified date and time.  This method
       * assumes that the start and end month are distinct.  It also
       * uses a default {@link GregorianCalendar} object as its
       * underlying calendar, such as for determining leap years.  Do
       * not use the result of this method with a calendar other than a
<span class="line-modified">!      * default {@code GregorianCalendar}.</span>
       *
       * &lt;p&gt;&lt;em&gt;Note:  In general, clients should use
<span class="line-modified">!      * {@code Calendar.get(ZONE_OFFSET) + Calendar.get(DST_OFFSET)}</span>
       * instead of calling this method.&lt;/em&gt;
       *
       * @param era       The era of the given date.
       * @param year      The year in the given date.
       * @param month     The month in the given date. Month is 0-based. e.g.,
       *                  0 for January.
       * @param day       The day-in-month of the given date.
       * @param dayOfWeek The day-of-week of the given date.
       * @param millis    The milliseconds in day in &lt;em&gt;standard&lt;/em&gt; local time.
       * @return          The milliseconds to add to UTC to get local time.
<span class="line-modified">!      * @throws          IllegalArgumentException the {@code era},</span>
<span class="line-modified">!      *                  {@code month}, {@code day}, {@code dayOfWeek},</span>
<span class="line-modified">!      *                  or {@code millis} parameters are out of range</span>
       */
      public int getOffset(int era, int year, int month, int day, int dayOfWeek,
                           int millis)
      {
          if (era != GregorianCalendar.AD &amp;&amp; era != GregorianCalendar.BC) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 851,11 ***</span>
      {
          return (getOffset(date.getTime()) != rawOffset);
      }
  
      /**
<span class="line-modified">!      * Returns a clone of this &lt;code&gt;SimpleTimeZone&lt;/code&gt; instance.</span>
       * @return a clone of this instance.
       */
      public Object clone()
      {
          return super.clone();
<span class="line-new-header">--- 851,11 ---</span>
      {
          return (getOffset(date.getTime()) != rawOffset);
      }
  
      /**
<span class="line-modified">!      * Returns a clone of this {@code SimpleTimeZone} instance.</span>
       * @return a clone of this instance.
       */
      public Object clone()
      {
          return super.clone();
</pre>
<hr />
<pre>
<span class="line-old-header">*** 870,15 ***</span>
          return startMonth ^ startDay ^ startDayOfWeek ^ startTime ^
              endMonth ^ endDay ^ endDayOfWeek ^ endTime ^ rawOffset;
      }
  
      /**
<span class="line-modified">!      * Compares the equality of two &lt;code&gt;SimpleTimeZone&lt;/code&gt; objects.</span>
       *
<span class="line-modified">!      * @param obj  The &lt;code&gt;SimpleTimeZone&lt;/code&gt; object to be compared with.</span>
<span class="line-modified">!      * @return     True if the given &lt;code&gt;obj&lt;/code&gt; is the same as this</span>
<span class="line-modified">!      *             &lt;code&gt;SimpleTimeZone&lt;/code&gt; object; false otherwise.</span>
       */
      public boolean equals(Object obj)
      {
          if (this == obj) {
              return true;
<span class="line-new-header">--- 870,15 ---</span>
          return startMonth ^ startDay ^ startDayOfWeek ^ startTime ^
              endMonth ^ endDay ^ endDayOfWeek ^ endTime ^ rawOffset;
      }
  
      /**
<span class="line-modified">!      * Compares the equality of two {@code SimpleTimeZone} objects.</span>
       *
<span class="line-modified">!      * @param obj  The {@code SimpleTimeZone} object to be compared with.</span>
<span class="line-modified">!      * @return     True if the given {@code obj} is the same as this</span>
<span class="line-modified">!      *             {@code SimpleTimeZone} object; false otherwise.</span>
       */
      public boolean equals(Object obj)
      {
          if (this == obj) {
              return true;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 892,13 ***</span>
          return getID().equals(that.getID()) &amp;&amp;
              hasSameRules(that);
      }
  
      /**
<span class="line-modified">!      * Returns &lt;code&gt;true&lt;/code&gt; if this zone has the same rules and offset as another zone.</span>
       * @param other the TimeZone object to be compared with
<span class="line-modified">!      * @return &lt;code&gt;true&lt;/code&gt; if the given zone is a SimpleTimeZone and has the</span>
       * same rules and offset as this one
       * @since 1.2
       */
      public boolean hasSameRules(TimeZone other) {
          if (this == other) {
<span class="line-new-header">--- 892,13 ---</span>
          return getID().equals(that.getID()) &amp;&amp;
              hasSameRules(that);
      }
  
      /**
<span class="line-modified">!      * Returns {@code true} if this zone has the same rules and offset as another zone.</span>
       * @param other the TimeZone object to be compared with
<span class="line-modified">!      * @return {@code true} if the given zone is a SimpleTimeZone and has the</span>
       * same rules and offset as this one
       * @since 1.2
       */
      public boolean hasSameRules(TimeZone other) {
          if (this == other) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 955,58 ***</span>
  
      // =======================privates===============================
  
      /**
       * The month in which daylight saving time starts.  This value must be
<span class="line-modified">!      * between &lt;code&gt;Calendar.JANUARY&lt;/code&gt; and</span>
<span class="line-modified">!      * &lt;code&gt;Calendar.DECEMBER&lt;/code&gt; inclusive.  This value must not equal</span>
<span class="line-modified">!      * &lt;code&gt;endMonth&lt;/code&gt;.</span>
<span class="line-modified">!      * &lt;p&gt;If &lt;code&gt;useDaylight&lt;/code&gt; is false, this value is ignored.</span>
       * @serial
       */
      private int startMonth;
  
      /**
       * This field has two possible interpretations:
       * &lt;dl&gt;
<span class="line-modified">!      * &lt;dt&gt;&lt;code&gt;startMode == DOW_IN_MONTH&lt;/code&gt;&lt;/dt&gt;</span>
       * &lt;dd&gt;
<span class="line-modified">!      * &lt;code&gt;startDay&lt;/code&gt; indicates the day of the month of</span>
<span class="line-modified">!      * &lt;code&gt;startMonth&lt;/code&gt; on which daylight</span>
       * saving time starts, from 1 to 28, 30, or 31, depending on the
<span class="line-modified">!      * &lt;code&gt;startMonth&lt;/code&gt;.</span>
       * &lt;/dd&gt;
<span class="line-modified">!      * &lt;dt&gt;&lt;code&gt;startMode != DOW_IN_MONTH&lt;/code&gt;&lt;/dt&gt;</span>
       * &lt;dd&gt;
<span class="line-modified">!      * &lt;code&gt;startDay&lt;/code&gt; indicates which &lt;code&gt;startDayOfWeek&lt;/code&gt; in the</span>
<span class="line-modified">!      * month &lt;code&gt;startMonth&lt;/code&gt; daylight</span>
       * saving time starts on.  For example, a value of +1 and a
<span class="line-modified">!      * &lt;code&gt;startDayOfWeek&lt;/code&gt; of &lt;code&gt;Calendar.SUNDAY&lt;/code&gt; indicates the</span>
<span class="line-modified">!      * first Sunday of &lt;code&gt;startMonth&lt;/code&gt;.  Likewise, +2 would indicate the</span>
       * second Sunday, and -1 the last Sunday.  A value of 0 is illegal.
       * &lt;/dd&gt;
       * &lt;/dl&gt;
<span class="line-modified">!      * &lt;p&gt;If &lt;code&gt;useDaylight&lt;/code&gt; is false, this value is ignored.</span>
       * @serial
       */
      private int startDay;
  
      /**
       * The day of the week on which daylight saving time starts.  This value
<span class="line-modified">!      * must be between &lt;code&gt;Calendar.SUNDAY&lt;/code&gt; and</span>
<span class="line-modified">!      * &lt;code&gt;Calendar.SATURDAY&lt;/code&gt; inclusive.</span>
<span class="line-modified">!      * &lt;p&gt;If &lt;code&gt;useDaylight&lt;/code&gt; is false or</span>
<span class="line-modified">!      * &lt;code&gt;startMode == DAY_OF_MONTH&lt;/code&gt;, this value is ignored.</span>
       * @serial
       */
      private int startDayOfWeek;
  
      /**
       * The time in milliseconds after midnight at which daylight saving
       * time starts.  This value is expressed as wall time, standard time,
<span class="line-modified">!      * or UTC time, depending on the setting of &lt;code&gt;startTimeMode&lt;/code&gt;.</span>
<span class="line-modified">!      * &lt;p&gt;If &lt;code&gt;useDaylight&lt;/code&gt; is false, this value is ignored.</span>
       * @serial
       */
      private int startTime;
  
      /**
<span class="line-new-header">--- 955,58 ---</span>
  
      // =======================privates===============================
  
      /**
       * The month in which daylight saving time starts.  This value must be
<span class="line-modified">!      * between {@code Calendar.JANUARY} and</span>
<span class="line-modified">!      * {@code Calendar.DECEMBER} inclusive.  This value must not equal</span>
<span class="line-modified">!      * {@code endMonth}.</span>
<span class="line-modified">!      * &lt;p&gt;If {@code useDaylight} is false, this value is ignored.</span>
       * @serial
       */
      private int startMonth;
  
      /**
       * This field has two possible interpretations:
       * &lt;dl&gt;
<span class="line-modified">!      * &lt;dt&gt;{@code startMode == DOW_IN_MONTH}&lt;/dt&gt;</span>
       * &lt;dd&gt;
<span class="line-modified">!      * {@code startDay} indicates the day of the month of</span>
<span class="line-modified">!      * {@code startMonth} on which daylight</span>
       * saving time starts, from 1 to 28, 30, or 31, depending on the
<span class="line-modified">!      * {@code startMonth}.</span>
       * &lt;/dd&gt;
<span class="line-modified">!      * &lt;dt&gt;{@code startMode != DOW_IN_MONTH}&lt;/dt&gt;</span>
       * &lt;dd&gt;
<span class="line-modified">!      * {@code startDay} indicates which {@code startDayOfWeek} in the</span>
<span class="line-modified">!      * month {@code startMonth} daylight</span>
       * saving time starts on.  For example, a value of +1 and a
<span class="line-modified">!      * {@code startDayOfWeek} of {@code Calendar.SUNDAY} indicates the</span>
<span class="line-modified">!      * first Sunday of {@code startMonth}.  Likewise, +2 would indicate the</span>
       * second Sunday, and -1 the last Sunday.  A value of 0 is illegal.
       * &lt;/dd&gt;
       * &lt;/dl&gt;
<span class="line-modified">!      * &lt;p&gt;If {@code useDaylight} is false, this value is ignored.</span>
       * @serial
       */
      private int startDay;
  
      /**
       * The day of the week on which daylight saving time starts.  This value
<span class="line-modified">!      * must be between {@code Calendar.SUNDAY} and</span>
<span class="line-modified">!      * {@code Calendar.SATURDAY} inclusive.</span>
<span class="line-modified">!      * &lt;p&gt;If {@code useDaylight} is false or</span>
<span class="line-modified">!      * {@code startMode == DAY_OF_MONTH}, this value is ignored.</span>
       * @serial
       */
      private int startDayOfWeek;
  
      /**
       * The time in milliseconds after midnight at which daylight saving
       * time starts.  This value is expressed as wall time, standard time,
<span class="line-modified">!      * or UTC time, depending on the setting of {@code startTimeMode}.</span>
<span class="line-modified">!      * &lt;p&gt;If {@code useDaylight} is false, this value is ignored.</span>
       * @serial
       */
      private int startTime;
  
      /**
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1016,84 ***</span>
       */
      private int startTimeMode;
  
      /**
       * The month in which daylight saving time ends.  This value must be
<span class="line-modified">!      * between &lt;code&gt;Calendar.JANUARY&lt;/code&gt; and</span>
<span class="line-modified">!      * &lt;code&gt;Calendar.UNDECIMBER&lt;/code&gt;.  This value must not equal</span>
<span class="line-modified">!      * &lt;code&gt;startMonth&lt;/code&gt;.</span>
<span class="line-modified">!      * &lt;p&gt;If &lt;code&gt;useDaylight&lt;/code&gt; is false, this value is ignored.</span>
       * @serial
       */
      private int endMonth;
  
      /**
       * This field has two possible interpretations:
       * &lt;dl&gt;
<span class="line-modified">!      * &lt;dt&gt;&lt;code&gt;endMode == DOW_IN_MONTH&lt;/code&gt;&lt;/dt&gt;</span>
       * &lt;dd&gt;
<span class="line-modified">!      * &lt;code&gt;endDay&lt;/code&gt; indicates the day of the month of</span>
<span class="line-modified">!      * &lt;code&gt;endMonth&lt;/code&gt; on which daylight</span>
       * saving time ends, from 1 to 28, 30, or 31, depending on the
<span class="line-modified">!      * &lt;code&gt;endMonth&lt;/code&gt;.</span>
       * &lt;/dd&gt;
<span class="line-modified">!      * &lt;dt&gt;&lt;code&gt;endMode != DOW_IN_MONTH&lt;/code&gt;&lt;/dt&gt;</span>
       * &lt;dd&gt;
<span class="line-modified">!      * &lt;code&gt;endDay&lt;/code&gt; indicates which &lt;code&gt;endDayOfWeek&lt;/code&gt; in th</span>
<span class="line-modified">!      * month &lt;code&gt;endMonth&lt;/code&gt; daylight</span>
       * saving time ends on.  For example, a value of +1 and a
<span class="line-modified">!      * &lt;code&gt;endDayOfWeek&lt;/code&gt; of &lt;code&gt;Calendar.SUNDAY&lt;/code&gt; indicates the</span>
<span class="line-modified">!      * first Sunday of &lt;code&gt;endMonth&lt;/code&gt;.  Likewise, +2 would indicate the</span>
       * second Sunday, and -1 the last Sunday.  A value of 0 is illegal.
       * &lt;/dd&gt;
       * &lt;/dl&gt;
<span class="line-modified">!      * &lt;p&gt;If &lt;code&gt;useDaylight&lt;/code&gt; is false, this value is ignored.</span>
       * @serial
       */
      private int endDay;
  
      /**
       * The day of the week on which daylight saving time ends.  This value
<span class="line-modified">!      * must be between &lt;code&gt;Calendar.SUNDAY&lt;/code&gt; and</span>
<span class="line-modified">!      * &lt;code&gt;Calendar.SATURDAY&lt;/code&gt; inclusive.</span>
<span class="line-modified">!      * &lt;p&gt;If &lt;code&gt;useDaylight&lt;/code&gt; is false or</span>
<span class="line-modified">!      * &lt;code&gt;endMode == DAY_OF_MONTH&lt;/code&gt;, this value is ignored.</span>
       * @serial
       */
      private int endDayOfWeek;
  
      /**
       * The time in milliseconds after midnight at which daylight saving
       * time ends.  This value is expressed as wall time, standard time,
<span class="line-modified">!      * or UTC time, depending on the setting of &lt;code&gt;endTimeMode&lt;/code&gt;.</span>
<span class="line-modified">!      * &lt;p&gt;If &lt;code&gt;useDaylight&lt;/code&gt; is false, this value is ignored.</span>
       * @serial
       */
      private int endTime;
  
      /**
<span class="line-modified">!      * The format of endTime, either &lt;code&gt;WALL_TIME&lt;/code&gt;,</span>
<span class="line-modified">!      * &lt;code&gt;STANDARD_TIME&lt;/code&gt;, or &lt;code&gt;UTC_TIME&lt;/code&gt;.</span>
       * @serial
       * @since 1.3
       */
      private int endTimeMode;
  
      /**
       * The year in which daylight saving time is first observed.  This is an {@link GregorianCalendar#AD AD}
       * value.  If this value is less than 1 then daylight saving time is observed
<span class="line-modified">!      * for all &lt;code&gt;AD&lt;/code&gt; years.</span>
<span class="line-modified">!      * &lt;p&gt;If &lt;code&gt;useDaylight&lt;/code&gt; is false, this value is ignored.</span>
       * @serial
       */
      private int startYear;
  
      /**
       * The offset in milliseconds between this zone and GMT.  Negative offsets
       * are to the west of Greenwich.  To obtain local &lt;em&gt;standard&lt;/em&gt; time,
       * add the offset to GMT time.  To obtain local wall time it may also be
<span class="line-modified">!      * necessary to add &lt;code&gt;dstSavings&lt;/code&gt;.</span>
       * @serial
       */
      private int rawOffset;
  
      /**
<span class="line-new-header">--- 1016,84 ---</span>
       */
      private int startTimeMode;
  
      /**
       * The month in which daylight saving time ends.  This value must be
<span class="line-modified">!      * between {@code Calendar.JANUARY} and</span>
<span class="line-modified">!      * {@code Calendar.UNDECIMBER}.  This value must not equal</span>
<span class="line-modified">!      * {@code startMonth}.</span>
<span class="line-modified">!      * &lt;p&gt;If {@code useDaylight} is false, this value is ignored.</span>
       * @serial
       */
      private int endMonth;
  
      /**
       * This field has two possible interpretations:
       * &lt;dl&gt;
<span class="line-modified">!      * &lt;dt&gt;{@code endMode == DOW_IN_MONTH}&lt;/dt&gt;</span>
       * &lt;dd&gt;
<span class="line-modified">!      * {@code endDay} indicates the day of the month of</span>
<span class="line-modified">!      * {@code endMonth} on which daylight</span>
       * saving time ends, from 1 to 28, 30, or 31, depending on the
<span class="line-modified">!      * {@code endMonth}.</span>
       * &lt;/dd&gt;
<span class="line-modified">!      * &lt;dt&gt;{@code endMode != DOW_IN_MONTH}&lt;/dt&gt;</span>
       * &lt;dd&gt;
<span class="line-modified">!      * {@code endDay} indicates which {@code endDayOfWeek} in th</span>
<span class="line-modified">!      * month {@code endMonth} daylight</span>
       * saving time ends on.  For example, a value of +1 and a
<span class="line-modified">!      * {@code endDayOfWeek} of {@code Calendar.SUNDAY} indicates the</span>
<span class="line-modified">!      * first Sunday of {@code endMonth}.  Likewise, +2 would indicate the</span>
       * second Sunday, and -1 the last Sunday.  A value of 0 is illegal.
       * &lt;/dd&gt;
       * &lt;/dl&gt;
<span class="line-modified">!      * &lt;p&gt;If {@code useDaylight} is false, this value is ignored.</span>
       * @serial
       */
      private int endDay;
  
      /**
       * The day of the week on which daylight saving time ends.  This value
<span class="line-modified">!      * must be between {@code Calendar.SUNDAY} and</span>
<span class="line-modified">!      * {@code Calendar.SATURDAY} inclusive.</span>
<span class="line-modified">!      * &lt;p&gt;If {@code useDaylight} is false or</span>
<span class="line-modified">!      * {@code endMode == DAY_OF_MONTH}, this value is ignored.</span>
       * @serial
       */
      private int endDayOfWeek;
  
      /**
       * The time in milliseconds after midnight at which daylight saving
       * time ends.  This value is expressed as wall time, standard time,
<span class="line-modified">!      * or UTC time, depending on the setting of {@code endTimeMode}.</span>
<span class="line-modified">!      * &lt;p&gt;If {@code useDaylight} is false, this value is ignored.</span>
       * @serial
       */
      private int endTime;
  
      /**
<span class="line-modified">!      * The format of endTime, either {@code WALL_TIME},</span>
<span class="line-modified">!      * {@code STANDARD_TIME}, or {@code UTC_TIME}.</span>
       * @serial
       * @since 1.3
       */
      private int endTimeMode;
  
      /**
       * The year in which daylight saving time is first observed.  This is an {@link GregorianCalendar#AD AD}
       * value.  If this value is less than 1 then daylight saving time is observed
<span class="line-modified">!      * for all {@code AD} years.</span>
<span class="line-modified">!      * &lt;p&gt;If {@code useDaylight} is false, this value is ignored.</span>
       * @serial
       */
      private int startYear;
  
      /**
       * The offset in milliseconds between this zone and GMT.  Negative offsets
       * are to the west of Greenwich.  To obtain local &lt;em&gt;standard&lt;/em&gt; time,
       * add the offset to GMT time.  To obtain local wall time it may also be
<span class="line-modified">!      * necessary to add {@code dstSavings}.</span>
       * @serial
       */
      private int rawOffset;
  
      /**
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1120,69 ***</span>
  
      /**
       * Variables specifying the mode of the start rule.  Takes the following
       * values:
       * &lt;dl&gt;
<span class="line-modified">!      * &lt;dt&gt;&lt;code&gt;DOM_MODE&lt;/code&gt;&lt;/dt&gt;</span>
       * &lt;dd&gt;
       * Exact day of week; e.g., March 1.
       * &lt;/dd&gt;
<span class="line-modified">!      * &lt;dt&gt;&lt;code&gt;DOW_IN_MONTH_MODE&lt;/code&gt;&lt;/dt&gt;</span>
       * &lt;dd&gt;
       * Day of week in month; e.g., last Sunday in March.
       * &lt;/dd&gt;
<span class="line-modified">!      * &lt;dt&gt;&lt;code&gt;DOW_GE_DOM_MODE&lt;/code&gt;&lt;/dt&gt;</span>
       * &lt;dd&gt;
       * Day of week after day of month; e.g., Sunday on or after March 15.
       * &lt;/dd&gt;
<span class="line-modified">!      * &lt;dt&gt;&lt;code&gt;DOW_LE_DOM_MODE&lt;/code&gt;&lt;/dt&gt;</span>
       * &lt;dd&gt;
       * Day of week before day of month; e.g., Sunday on or before March 15.
       * &lt;/dd&gt;
       * &lt;/dl&gt;
       * The setting of this field affects the interpretation of the
<span class="line-modified">!      * &lt;code&gt;startDay&lt;/code&gt; field.</span>
<span class="line-modified">!      * &lt;p&gt;If &lt;code&gt;useDaylight&lt;/code&gt; is false, this value is ignored.</span>
       * @serial
       * @since 1.1.4
       */
      private int startMode;
  
      /**
       * Variables specifying the mode of the end rule.  Takes the following
       * values:
       * &lt;dl&gt;
<span class="line-modified">!      * &lt;dt&gt;&lt;code&gt;DOM_MODE&lt;/code&gt;&lt;/dt&gt;</span>
       * &lt;dd&gt;
       * Exact day of week; e.g., March 1.
       * &lt;/dd&gt;
<span class="line-modified">!      * &lt;dt&gt;&lt;code&gt;DOW_IN_MONTH_MODE&lt;/code&gt;&lt;/dt&gt;</span>
       * &lt;dd&gt;
       * Day of week in month; e.g., last Sunday in March.
       * &lt;/dd&gt;
<span class="line-modified">!      * &lt;dt&gt;&lt;code&gt;DOW_GE_DOM_MODE&lt;/code&gt;&lt;/dt&gt;</span>
       * &lt;dd&gt;
       * Day of week after day of month; e.g., Sunday on or after March 15.
       * &lt;/dd&gt;
<span class="line-modified">!      * &lt;dt&gt;&lt;code&gt;DOW_LE_DOM_MODE&lt;/code&gt;&lt;/dt&gt;</span>
       * &lt;dd&gt;
       * Day of week before day of month; e.g., Sunday on or before March 15.
       * &lt;/dd&gt;
       * &lt;/dl&gt;
       * The setting of this field affects the interpretation of the
<span class="line-modified">!      * &lt;code&gt;endDay&lt;/code&gt; field.</span>
<span class="line-modified">!      * &lt;p&gt;If &lt;code&gt;useDaylight&lt;/code&gt; is false, this value is ignored.</span>
       * @serial
       * @since 1.1.4
       */
      private int endMode;
  
      /**
       * A positive value indicating the amount of time saved during DST in
       * milliseconds.
       * Typically one hour (3600000); sometimes 30 minutes (1800000).
<span class="line-modified">!      * &lt;p&gt;If &lt;code&gt;useDaylight&lt;/code&gt; is false, this value is ignored.</span>
       * @serial
       * @since 1.1.4
       */
      private int dstSavings;
  
<span class="line-new-header">--- 1120,69 ---</span>
  
      /**
       * Variables specifying the mode of the start rule.  Takes the following
       * values:
       * &lt;dl&gt;
<span class="line-modified">!      * &lt;dt&gt;{@code DOM_MODE}&lt;/dt&gt;</span>
       * &lt;dd&gt;
       * Exact day of week; e.g., March 1.
       * &lt;/dd&gt;
<span class="line-modified">!      * &lt;dt&gt;{@code DOW_IN_MONTH_MODE}&lt;/dt&gt;</span>
       * &lt;dd&gt;
       * Day of week in month; e.g., last Sunday in March.
       * &lt;/dd&gt;
<span class="line-modified">!      * &lt;dt&gt;{@code DOW_GE_DOM_MODE}&lt;/dt&gt;</span>
       * &lt;dd&gt;
       * Day of week after day of month; e.g., Sunday on or after March 15.
       * &lt;/dd&gt;
<span class="line-modified">!      * &lt;dt&gt;{@code DOW_LE_DOM_MODE}&lt;/dt&gt;</span>
       * &lt;dd&gt;
       * Day of week before day of month; e.g., Sunday on or before March 15.
       * &lt;/dd&gt;
       * &lt;/dl&gt;
       * The setting of this field affects the interpretation of the
<span class="line-modified">!      * {@code startDay} field.</span>
<span class="line-modified">!      * &lt;p&gt;If {@code useDaylight} is false, this value is ignored.</span>
       * @serial
       * @since 1.1.4
       */
      private int startMode;
  
      /**
       * Variables specifying the mode of the end rule.  Takes the following
       * values:
       * &lt;dl&gt;
<span class="line-modified">!      * &lt;dt&gt;{@code DOM_MODE}&lt;/dt&gt;</span>
       * &lt;dd&gt;
       * Exact day of week; e.g., March 1.
       * &lt;/dd&gt;
<span class="line-modified">!      * &lt;dt&gt;{@code DOW_IN_MONTH_MODE}&lt;/dt&gt;</span>
       * &lt;dd&gt;
       * Day of week in month; e.g., last Sunday in March.
       * &lt;/dd&gt;
<span class="line-modified">!      * &lt;dt&gt;{@code DOW_GE_DOM_MODE}&lt;/dt&gt;</span>
       * &lt;dd&gt;
       * Day of week after day of month; e.g., Sunday on or after March 15.
       * &lt;/dd&gt;
<span class="line-modified">!      * &lt;dt&gt;{@code DOW_LE_DOM_MODE}&lt;/dt&gt;</span>
       * &lt;dd&gt;
       * Day of week before day of month; e.g., Sunday on or before March 15.
       * &lt;/dd&gt;
       * &lt;/dl&gt;
       * The setting of this field affects the interpretation of the
<span class="line-modified">!      * {@code endDay} field.</span>
<span class="line-modified">!      * &lt;p&gt;If {@code useDaylight} is false, this value is ignored.</span>
       * @serial
       * @since 1.1.4
       */
      private int endMode;
  
      /**
       * A positive value indicating the amount of time saved during DST in
       * milliseconds.
       * Typically one hour (3600000); sometimes 30 minutes (1800000).
<span class="line-modified">!      * &lt;p&gt;If {@code useDaylight} is false, this value is ignored.</span>
       * @serial
       * @since 1.1.4
       */
      private int dstSavings;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1240,10 ***</span>
<span class="line-new-header">--- 1240,11 ---</span>
       * @since 1.4
       */
      public static final int UTC_TIME = 2;
  
      // Proclaim compatibility with 1.1
<span class="line-added">+     @java.io.Serial</span>
      static final long serialVersionUID = -403250971215465050L;
  
      // the internal serial version which says which version was written
      // - 0 (default) for version up to JDK 1.1.3
      // - 1 for version from JDK 1.1.4, which includes 3 new fields
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1257,21 ***</span>
       * &lt;dd&gt;
       * JDK 1.1.3 or earlier.
       * &lt;/dd&gt;
       * &lt;dt&gt;&lt;b&gt;1&lt;/b&gt;&lt;/dt&gt;
       * &lt;dd&gt;
<span class="line-modified">!      * JDK 1.1.4 or later.  Includes three new fields: &lt;code&gt;startMode&lt;/code&gt;,</span>
<span class="line-modified">!      * &lt;code&gt;endMode&lt;/code&gt;, and &lt;code&gt;dstSavings&lt;/code&gt;.</span>
       * &lt;/dd&gt;
       * &lt;dt&gt;&lt;b&gt;2&lt;/b&gt;&lt;/dt&gt;
       * &lt;dd&gt;
<span class="line-modified">!      * JDK 1.3 or later.  Includes two new fields: &lt;code&gt;startTimeMode&lt;/code&gt;</span>
<span class="line-modified">!      * and &lt;code&gt;endTimeMode&lt;/code&gt;.</span>
       * &lt;/dd&gt;
       * &lt;/dl&gt;
       * When streaming out this class, the most recent format
<span class="line-modified">!      * and the highest allowable &lt;code&gt;serialVersionOnStream&lt;/code&gt;</span>
       * is written.
       * @serial
       * @since 1.1.4
       */
      private int serialVersionOnStream = currentSerialVersion;
<span class="line-new-header">--- 1258,21 ---</span>
       * &lt;dd&gt;
       * JDK 1.1.3 or earlier.
       * &lt;/dd&gt;
       * &lt;dt&gt;&lt;b&gt;1&lt;/b&gt;&lt;/dt&gt;
       * &lt;dd&gt;
<span class="line-modified">!      * JDK 1.1.4 or later.  Includes three new fields: {@code startMode},</span>
<span class="line-modified">!      * {@code endMode}, and {@code dstSavings}.</span>
       * &lt;/dd&gt;
       * &lt;dt&gt;&lt;b&gt;2&lt;/b&gt;&lt;/dt&gt;
       * &lt;dd&gt;
<span class="line-modified">!      * JDK 1.3 or later.  Includes two new fields: {@code startTimeMode}</span>
<span class="line-modified">!      * and {@code endTimeMode}.</span>
       * &lt;/dd&gt;
       * &lt;/dl&gt;
       * When streaming out this class, the most recent format
<span class="line-modified">!      * and the highest allowable {@code serialVersionOnStream}</span>
       * is written.
       * @serial
       * @since 1.1.4
       */
      private int serialVersionOnStream = currentSerialVersion;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1622,22 ***</span>
  
      /**
       * Save the state of this object to a stream (i.e., serialize it).
       *
       * @serialData We write out two formats, a JDK 1.1 compatible format, using
<span class="line-modified">!      * &lt;code&gt;DOW_IN_MONTH_MODE&lt;/code&gt; rules, in the required section, followed</span>
       * by the full rules, in packed format, in the optional section.  The
       * optional section will be ignored by JDK 1.1 code upon stream in.
       * &lt;p&gt; Contents of the optional section: The length of a byte array is
       * emitted (int); this is 4 as of this release. The byte array of the given
       * length is emitted. The contents of the byte array are the true values of
<span class="line-modified">!      * the fields &lt;code&gt;startDay&lt;/code&gt;, &lt;code&gt;startDayOfWeek&lt;/code&gt;,</span>
<span class="line-modified">!      * &lt;code&gt;endDay&lt;/code&gt;, and &lt;code&gt;endDayOfWeek&lt;/code&gt;.  The values of these</span>
       * fields in the required section are approximate values suited to the rule
<span class="line-modified">!      * mode &lt;code&gt;DOW_IN_MONTH_MODE&lt;/code&gt;, which is the only mode recognized by</span>
       * JDK 1.1.
       */
      private void writeObject(ObjectOutputStream stream)
           throws IOException
      {
          // Construct a binary rule
          byte[] rules = packRules();
<span class="line-new-header">--- 1623,23 ---</span>
  
      /**
       * Save the state of this object to a stream (i.e., serialize it).
       *
       * @serialData We write out two formats, a JDK 1.1 compatible format, using
<span class="line-modified">!      * {@code DOW_IN_MONTH_MODE} rules, in the required section, followed</span>
       * by the full rules, in packed format, in the optional section.  The
       * optional section will be ignored by JDK 1.1 code upon stream in.
       * &lt;p&gt; Contents of the optional section: The length of a byte array is
       * emitted (int); this is 4 as of this release. The byte array of the given
       * length is emitted. The contents of the byte array are the true values of
<span class="line-modified">!      * the fields {@code startDay}, {@code startDayOfWeek},</span>
<span class="line-modified">!      * {@code endDay}, and {@code endDayOfWeek}.  The values of these</span>
       * fields in the required section are approximate values suited to the rule
<span class="line-modified">!      * mode {@code DOW_IN_MONTH_MODE}, which is the only mode recognized by</span>
       * JDK 1.1.
       */
<span class="line-added">+     @java.io.Serial</span>
      private void writeObject(ObjectOutputStream stream)
           throws IOException
      {
          // Construct a binary rule
          byte[] rules = packRules();
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1664,10 ***</span>
<span class="line-new-header">--- 1666,11 ---</span>
       * Reconstitute this object from a stream (i.e., deserialize it).
       *
       * We handle both JDK 1.1
       * binary formats and full formats with a packed byte array.
       */
<span class="line-added">+     @java.io.Serial</span>
      private void readObject(ObjectInputStream stream)
           throws IOException, ClassNotFoundException
      {
          stream.defaultReadObject();
  
</pre>
<center><a href="Set.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="Stack.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>