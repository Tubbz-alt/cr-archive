<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.base/share/classes/java/lang/StringBuilder.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="StringBuffer.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="StringCoding.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/lang/StringBuilder.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -86,10 +86,11 @@</span>
      extends AbstractStringBuilder
      implements java.io.Serializable, Comparable&lt;StringBuilder&gt;, CharSequence
  {
  
      /** use serialVersionUID for interoperability */
<span class="udiff-line-added">+     @java.io.Serial</span>
      static final long serialVersionUID = 4383685877147921099L;
  
      /**
       * Constructs a string builder with no characters in it and an
       * initial capacity of 16 characters.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -119,12 +120,11 @@</span>
       *
       * @param   str   the initial contents of the buffer.
       */
      @HotSpotIntrinsicCandidate
      public StringBuilder(String str) {
<span class="udiff-line-modified-removed">-         super(str.coder(), str.length(), 16);</span>
<span class="udiff-line-removed">-         append(str);</span>
<span class="udiff-line-modified-added">+         super(str);</span>
      }
  
      /**
       * Constructs a string builder that contains the same characters
       * as the specified {@code CharSequence}. The initial capacity of
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -132,12 +132,11 @@</span>
       * {@code CharSequence} argument.
       *
       * @param      seq   the sequence to copy.
       */
      public StringBuilder(CharSequence seq) {
<span class="udiff-line-modified-removed">-         super(String.LATIN1, seq.length(), 16);</span>
<span class="udiff-line-removed">-         append(seq);</span>
<span class="udiff-line-modified-added">+         super(seq);</span>
      }
  
      /**
       * Compares two {@code StringBuilder} instances lexicographically. This method
       * follows the same rules for lexicographical comparison as defined in the
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -458,10 +457,11 @@</span>
       *             string builder ({@code char[]}).   The length of the
       *             {@code char} array may be greater than the number of
       *             characters currently stored in the string builder, in which
       *             case extra characters are ignored.
       */
<span class="udiff-line-added">+     @java.io.Serial</span>
      private void writeObject(java.io.ObjectOutputStream s)
          throws java.io.IOException {
          s.defaultWriteObject();
          s.writeInt(count);
          char[] val = new char[capacity()];
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -475,10 +475,11 @@</span>
  
      /**
       * readObject is called to restore the state of the StringBuffer from
       * a stream.
       */
<span class="udiff-line-added">+     @java.io.Serial</span>
      private void readObject(java.io.ObjectInputStream s)
          throws java.io.IOException, ClassNotFoundException {
          s.defaultReadObject();
          count = s.readInt();
          char[] val = (char[]) s.readObject();
</pre>
<center><a href="StringBuffer.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="StringCoding.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>