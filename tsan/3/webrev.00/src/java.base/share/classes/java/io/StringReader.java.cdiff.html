<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/java/io/StringReader.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="StringBufferInputStream.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="SyncFailedException.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/io/StringReader.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 1996, 2015, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 1996, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 60,11 ***</span>
       * Reads a single character.
       *
       * @return     The character read, or -1 if the end of the stream has been
       *             reached
       *
<span class="line-modified">!      * @exception  IOException  If an I/O error occurs</span>
       */
      public int read() throws IOException {
          synchronized (lock) {
              ensureOpen();
              if (next &gt;= length)
<span class="line-new-header">--- 60,11 ---</span>
       * Reads a single character.
       *
       * @return     The character read, or -1 if the end of the stream has been
       *             reached
       *
<span class="line-modified">!      * @throws     IOException  If an I/O error occurs</span>
       */
      public int read() throws IOException {
          synchronized (lock) {
              ensureOpen();
              if (next &gt;= length)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 81,12 ***</span>
       * @param      len   Maximum number of characters to read
       *
       * @return     The number of characters read, or -1 if the end of the
       *             stream has been reached
       *
<span class="line-modified">!      * @exception  IOException  If an I/O error occurs</span>
<span class="line-modified">!      * @exception  IndexOutOfBoundsException {@inheritDoc}</span>
       */
      public int read(char cbuf[], int off, int len) throws IOException {
          synchronized (lock) {
              ensureOpen();
              if ((off &lt; 0) || (off &gt; cbuf.length) || (len &lt; 0) ||
<span class="line-new-header">--- 81,12 ---</span>
       * @param      len   Maximum number of characters to read
       *
       * @return     The number of characters read, or -1 if the end of the
       *             stream has been reached
       *
<span class="line-modified">!      * @throws     IOException  If an I/O error occurs</span>
<span class="line-modified">!      * @throws     IndexOutOfBoundsException {@inheritDoc}</span>
       */
      public int read(char cbuf[], int off, int len) throws IOException {
          synchronized (lock) {
              ensureOpen();
              if ((off &lt; 0) || (off &gt; cbuf.length) || (len &lt; 0) ||
</pre>
<hr />
<pre>
<span class="line-old-header">*** 106,21 ***</span>
  
      /**
       * Skips the specified number of characters in the stream. Returns
       * the number of characters that were skipped.
       *
<span class="line-modified">!      * &lt;p&gt;The &lt;code&gt;ns&lt;/code&gt; parameter may be negative, even though the</span>
<span class="line-modified">!      * &lt;code&gt;skip&lt;/code&gt; method of the {@link Reader} superclass throws</span>
<span class="line-modified">!      * an exception in this case. Negative values of &lt;code&gt;ns&lt;/code&gt; cause the</span>
       * stream to skip backwards. Negative return values indicate a skip
       * backwards. It is not possible to skip backwards past the beginning of
       * the string.
       *
       * &lt;p&gt;If the entire string has been read or skipped, then this method has
       * no effect and always returns 0.
       *
<span class="line-modified">!      * @exception  IOException  If an I/O error occurs</span>
       */
      public long skip(long ns) throws IOException {
          synchronized (lock) {
              ensureOpen();
              if (next &gt;= length)
<span class="line-new-header">--- 106,21 ---</span>
  
      /**
       * Skips the specified number of characters in the stream. Returns
       * the number of characters that were skipped.
       *
<span class="line-modified">!      * &lt;p&gt;The {@code ns} parameter may be negative, even though the</span>
<span class="line-modified">!      * {@code skip} method of the {@link Reader} superclass throws</span>
<span class="line-modified">!      * an exception in this case. Negative values of {@code ns} cause the</span>
       * stream to skip backwards. Negative return values indicate a skip
       * backwards. It is not possible to skip backwards past the beginning of
       * the string.
       *
       * &lt;p&gt;If the entire string has been read or skipped, then this method has
       * no effect and always returns 0.
       *
<span class="line-modified">!      * @throws     IOException  If an I/O error occurs</span>
       */
      public long skip(long ns) throws IOException {
          synchronized (lock) {
              ensureOpen();
              if (next &gt;= length)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 136,11 ***</span>
      /**
       * Tells whether this stream is ready to be read.
       *
       * @return True if the next read() is guaranteed not to block for input
       *
<span class="line-modified">!      * @exception  IOException  If the stream is closed</span>
       */
      public boolean ready() throws IOException {
          synchronized (lock) {
              ensureOpen();
              return true;
<span class="line-new-header">--- 136,11 ---</span>
      /**
       * Tells whether this stream is ready to be read.
       *
       * @return True if the next read() is guaranteed not to block for input
       *
<span class="line-modified">!      * @throws     IOException  If the stream is closed</span>
       */
      public boolean ready() throws IOException {
          synchronized (lock) {
              ensureOpen();
              return true;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 162,12 ***</span>
       *                         read while still preserving the mark.  Because
       *                         the stream&#39;s input comes from a string, there
       *                         is no actual limit, so this argument must not
       *                         be negative, but is otherwise ignored.
       *
<span class="line-modified">!      * @exception  IllegalArgumentException  If {@code readAheadLimit &lt; 0}</span>
<span class="line-modified">!      * @exception  IOException  If an I/O error occurs</span>
       */
      public void mark(int readAheadLimit) throws IOException {
          if (readAheadLimit &lt; 0){
              throw new IllegalArgumentException(&quot;Read-ahead limit &lt; 0&quot;);
          }
<span class="line-new-header">--- 162,12 ---</span>
       *                         read while still preserving the mark.  Because
       *                         the stream&#39;s input comes from a string, there
       *                         is no actual limit, so this argument must not
       *                         be negative, but is otherwise ignored.
       *
<span class="line-modified">!      * @throws     IllegalArgumentException  If {@code readAheadLimit &lt; 0}</span>
<span class="line-modified">!      * @throws     IOException  If an I/O error occurs</span>
       */
      public void mark(int readAheadLimit) throws IOException {
          if (readAheadLimit &lt; 0){
              throw new IllegalArgumentException(&quot;Read-ahead limit &lt; 0&quot;);
          }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 179,11 ***</span>
  
      /**
       * Resets the stream to the most recent mark, or to the beginning of the
       * string if it has never been marked.
       *
<span class="line-modified">!      * @exception  IOException  If an I/O error occurs</span>
       */
      public void reset() throws IOException {
          synchronized (lock) {
              ensureOpen();
              next = mark;
<span class="line-new-header">--- 179,11 ---</span>
  
      /**
       * Resets the stream to the most recent mark, or to the beginning of the
       * string if it has never been marked.
       *
<span class="line-modified">!      * @throws     IOException  If an I/O error occurs</span>
       */
      public void reset() throws IOException {
          synchronized (lock) {
              ensureOpen();
              next = mark;
</pre>
<center><a href="StringBufferInputStream.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="SyncFailedException.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>