<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/lang/Enum.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="Double.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="EnumConstantNotPresentException.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/lang/Enum.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2003, 2018, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 27 
 28 import java.io.IOException;
 29 import java.io.InvalidObjectException;
 30 import java.io.ObjectInputStream;
 31 import java.io.ObjectStreamException;
 32 import java.io.Serializable;
 33 import java.lang.constant.ClassDesc;
 34 import java.lang.constant.Constable;
 35 import java.lang.constant.ConstantDescs;
 36 import java.lang.constant.DynamicConstantDesc;
 37 import java.lang.invoke.MethodHandles;
 38 import java.util.Optional;
 39 
 40 import static java.util.Objects.requireNonNull;
 41 
 42 /**
 43  * This is the common base class of all Java language enumeration types.
 44  *
 45  * More information about enums, including descriptions of the
 46  * implicitly declared methods synthesized by the compiler, can be
<span class="line-modified"> 47  * found in section 8.9 of</span>
<span class="line-modified"> 48  * &lt;cite&gt;The Java&amp;trade; Language Specification&lt;/cite&gt;.</span>







 49  *
 50  * &lt;p&gt; Note that when using an enumeration type as the type of a set
 51  * or as the type of the keys in a map, specialized and efficient
 52  * {@linkplain java.util.EnumSet set} and {@linkplain
 53  * java.util.EnumMap map} implementations are available.
 54  *
 55  * @param &lt;E&gt; The enum type subclass
 56  * @serial exclude
 57  * @author  Josh Bloch
 58  * @author  Neal Gafter
 59  * @see     Class#getEnumConstants()
 60  * @see     java.util.EnumSet
 61  * @see     java.util.EnumMap


 62  * @since   1.5
 63  */
 64 @SuppressWarnings(&quot;serial&quot;) // No serialVersionUID needed due to
 65                             // special-casing of enum types.
 66 public abstract class Enum&lt;E extends Enum&lt;E&gt;&gt;
 67         implements Constable, Comparable&lt;E&gt;, Serializable {
 68     /**
 69      * The name of this enum constant, as declared in the enum declaration.
 70      * Most programmers should use the {@link #toString} method rather than
 71      * accessing this field.
 72      */
 73     private final String name;
 74 
 75     /**
 76      * Returns the name of this enum constant, exactly as declared in its
 77      * enum declaration.
 78      *
 79      * &lt;b&gt;Most programmers should use the {@link #toString} method in
 80      * preference to this one, as the toString method may return
 81      * a more user-friendly name.&lt;/b&gt;  This method is designed primarily for
</pre>
<hr />
<pre>
256     public static &lt;T extends Enum&lt;T&gt;&gt; T valueOf(Class&lt;T&gt; enumType,
257                                                 String name) {
258         T result = enumType.enumConstantDirectory().get(name);
259         if (result != null)
260             return result;
261         if (name == null)
262             throw new NullPointerException(&quot;Name is null&quot;);
263         throw new IllegalArgumentException(
264             &quot;No enum constant &quot; + enumType.getCanonicalName() + &quot;.&quot; + name);
265     }
266 
267     /**
268      * enum classes cannot have finalize methods.
269      */
270     @SuppressWarnings(&quot;deprecation&quot;)
271     protected final void finalize() { }
272 
273     /**
274      * prevent default deserialization
275      */

276     private void readObject(ObjectInputStream in) throws IOException,
277         ClassNotFoundException {
278         throw new InvalidObjectException(&quot;can&#39;t deserialize enum&quot;);
279     }
280 

281     private void readObjectNoData() throws ObjectStreamException {
282         throw new InvalidObjectException(&quot;can&#39;t deserialize enum&quot;);
283     }
284 
285     /**
<span class="line-modified">286      * A &lt;a href=&quot;package-summary.html#nominal&quot;&gt;nominal descriptor&lt;/a&gt; for an</span>
287      * {@code enum} constant.
288      *
289      * @param &lt;E&gt; the type of the enum constant
290      *
291      * @since 12
292      */
293     public static final class EnumDesc&lt;E extends Enum&lt;E&gt;&gt;
294             extends DynamicConstantDesc&lt;E&gt; {
295 
296         /**
297          * Constructs a nominal descriptor for the specified {@code enum} class and name.
298          *
299          * @param constantType a {@link ClassDesc} describing the {@code enum} class
300          * @param constantName the unqualified name of the enum constant
301          * @throws NullPointerException if any argument is null
302          * @jvms 4.2.2 Unqualified Names
303          */
304         private EnumDesc(ClassDesc constantType, String constantName) {
305             super(ConstantDescs.BSM_ENUM_CONSTANT, requireNonNull(constantName), requireNonNull(constantType));
306         }
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2003, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 27 
 28 import java.io.IOException;
 29 import java.io.InvalidObjectException;
 30 import java.io.ObjectInputStream;
 31 import java.io.ObjectStreamException;
 32 import java.io.Serializable;
 33 import java.lang.constant.ClassDesc;
 34 import java.lang.constant.Constable;
 35 import java.lang.constant.ConstantDescs;
 36 import java.lang.constant.DynamicConstantDesc;
 37 import java.lang.invoke.MethodHandles;
 38 import java.util.Optional;
 39 
 40 import static java.util.Objects.requireNonNull;
 41 
 42 /**
 43  * This is the common base class of all Java language enumeration types.
 44  *
 45  * More information about enums, including descriptions of the
 46  * implicitly declared methods synthesized by the compiler, can be
<span class="line-modified"> 47  * found in section {@jls 8.9} of &lt;cite&gt;The Java&amp;trade; Language</span>
<span class="line-modified"> 48  * Specification&lt;/cite&gt;.</span>
<span class="line-added"> 49  *</span>
<span class="line-added"> 50  * Enumeration types are all serializable and receive special handling</span>
<span class="line-added"> 51  * by the serialization mechanism. The serialized representation used</span>
<span class="line-added"> 52  * for enum constants cannot be customized. Declarations of methods</span>
<span class="line-added"> 53  * and fields that would otherwise interact with serialization are</span>
<span class="line-added"> 54  * ignored, including {@code serialVersionUID}; see the &lt;cite&gt;Java</span>
<span class="line-added"> 55  * Object Serialization Specification&lt;/cite&gt; for details.</span>
 56  *
 57  * &lt;p&gt; Note that when using an enumeration type as the type of a set
 58  * or as the type of the keys in a map, specialized and efficient
 59  * {@linkplain java.util.EnumSet set} and {@linkplain
 60  * java.util.EnumMap map} implementations are available.
 61  *
 62  * @param &lt;E&gt; The enum type subclass
 63  * @serial exclude
 64  * @author  Josh Bloch
 65  * @author  Neal Gafter
 66  * @see     Class#getEnumConstants()
 67  * @see     java.util.EnumSet
 68  * @see     java.util.EnumMap
<span class="line-added"> 69  * @jls 8.9 Enum Types</span>
<span class="line-added"> 70  * @jls 8.9.3 Enum Members</span>
 71  * @since   1.5
 72  */
 73 @SuppressWarnings(&quot;serial&quot;) // No serialVersionUID needed due to
 74                             // special-casing of enum types.
 75 public abstract class Enum&lt;E extends Enum&lt;E&gt;&gt;
 76         implements Constable, Comparable&lt;E&gt;, Serializable {
 77     /**
 78      * The name of this enum constant, as declared in the enum declaration.
 79      * Most programmers should use the {@link #toString} method rather than
 80      * accessing this field.
 81      */
 82     private final String name;
 83 
 84     /**
 85      * Returns the name of this enum constant, exactly as declared in its
 86      * enum declaration.
 87      *
 88      * &lt;b&gt;Most programmers should use the {@link #toString} method in
 89      * preference to this one, as the toString method may return
 90      * a more user-friendly name.&lt;/b&gt;  This method is designed primarily for
</pre>
<hr />
<pre>
265     public static &lt;T extends Enum&lt;T&gt;&gt; T valueOf(Class&lt;T&gt; enumType,
266                                                 String name) {
267         T result = enumType.enumConstantDirectory().get(name);
268         if (result != null)
269             return result;
270         if (name == null)
271             throw new NullPointerException(&quot;Name is null&quot;);
272         throw new IllegalArgumentException(
273             &quot;No enum constant &quot; + enumType.getCanonicalName() + &quot;.&quot; + name);
274     }
275 
276     /**
277      * enum classes cannot have finalize methods.
278      */
279     @SuppressWarnings(&quot;deprecation&quot;)
280     protected final void finalize() { }
281 
282     /**
283      * prevent default deserialization
284      */
<span class="line-added">285     @java.io.Serial</span>
286     private void readObject(ObjectInputStream in) throws IOException,
287         ClassNotFoundException {
288         throw new InvalidObjectException(&quot;can&#39;t deserialize enum&quot;);
289     }
290 
<span class="line-added">291     @java.io.Serial</span>
292     private void readObjectNoData() throws ObjectStreamException {
293         throw new InvalidObjectException(&quot;can&#39;t deserialize enum&quot;);
294     }
295 
296     /**
<span class="line-modified">297      * A &lt;a href=&quot;{@docRoot}/java.base/java/lang/constant/package-summary.html#nominal&quot;&gt;nominal descriptor&lt;/a&gt; for an</span>
298      * {@code enum} constant.
299      *
300      * @param &lt;E&gt; the type of the enum constant
301      *
302      * @since 12
303      */
304     public static final class EnumDesc&lt;E extends Enum&lt;E&gt;&gt;
305             extends DynamicConstantDesc&lt;E&gt; {
306 
307         /**
308          * Constructs a nominal descriptor for the specified {@code enum} class and name.
309          *
310          * @param constantType a {@link ClassDesc} describing the {@code enum} class
311          * @param constantName the unqualified name of the enum constant
312          * @throws NullPointerException if any argument is null
313          * @jvms 4.2.2 Unqualified Names
314          */
315         private EnumDesc(ClassDesc constantType, String constantName) {
316             super(ConstantDescs.BSM_ENUM_CONSTANT, requireNonNull(constantName), requireNonNull(constantType));
317         }
</pre>
</td>
</tr>
</table>
<center><a href="Double.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="EnumConstantNotPresentException.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>