<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New src/java.base/share/classes/java/util/spi/ResourceBundleProvider.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (c) 2015, 2019, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 package java.util.spi;
 27 
 28 import java.util.Locale;
 29 import java.util.ResourceBundle;
 30 
 31 /**
 32  * {@code ResourceBundleProvider} is a service provider interface for
 33  * resource bundles. It is used by
 34  * {@link ResourceBundle#getBundle(String) ResourceBundle.getBundle}
 35  * factory methods to locate and load the service providers that are deployed as
 36  * modules via {@link java.util.ServiceLoader ServiceLoader}.
 37  *
 38  * &lt;h2&gt;Developing resource bundle services&lt;/h2&gt;
 39  *
 40  * A service for a resource bundle of a given &lt;em&gt;{@code baseName}&lt;/em&gt; must have
 41  * a fully-qualified class name of the form:
 42  * &lt;blockquote&gt;
 43  * {@code &lt;package of baseName&gt; + &quot;.spi.&quot; + &lt;simple name of baseName&gt; + &quot;Provider&quot;}
 44  * &lt;/blockquote&gt;
 45  *
 46  * The service type is in a {@code spi} subpackage as it may be packaged in
 47  * a module separate from the resource bundle providers.
 48  * For example, the service for a resource bundle named
 49  * {@code com.example.app.MyResources} must be
 50  * {@code com.example.app.spi.MyResourcesProvider}:
 51  *
 52  * &lt;blockquote&gt;&lt;pre&gt;
 53  * {@code package com.example.app.spi;
 54  * public interface MyResourcesProvider extends ResourceBundleProvider {
 55  * }
 56  * }&lt;/pre&gt;&lt;/blockquote&gt;
 57  *
 58  * &lt;h2&gt;Deploying resource bundle service providers&lt;/h2&gt;
 59  *
 60  * Resource bundles can be deployed in one or more service providers
 61  * in modules.  For example, a provider for a service
 62  * named &quot;{@code com.example.app.spi.MyResourcesProvider}&quot;
 63  * has the following implementation class:
 64  *
 65  * &lt;blockquote&gt;&lt;pre&gt;
 66  * {@code import com.example.app.spi.MyResourcesProvider;
 67  * class MyResourcesProviderImpl extends AbstractResourceBundleProvider
 68  *     implements MyResourcesProvider
 69  * {
 70  *     public MyResourcesProviderImpl() {
 71  *         super(&quot;java.properties&quot;);
 72  *     }
 73  *     // this provider maps the resource bundle to per-language package
 74  *     protected String toBundleName(String baseName, Locale locale) {
 75  *         return &quot;p.&quot; + locale.getLanguage() + &quot;.&quot; + baseName;
 76  *     }
 77  *
 78  *     public ResourceBundle getBundle(String baseName, Locale locale) {
 79  *         // this module only provides bundles in French
 80  *         if (locale.equals(Locale.FRENCH)) {
 81  *              return super.getBundle(baseName, locale);
 82  *         }
 83  *         // otherwise return null
 84  *         return null;
 85  *     }
 86  * }}&lt;/pre&gt;&lt;/blockquote&gt;
 87  *
 88  * This example provides &quot;{@code com.example.app.MyResources}&quot;
 89  * resource bundle of the French locale.  Traditionally resource bundles of
 90  * all locales are packaged in the same package as the resource bundle base name.
 91  * When deploying resource bundles in more than one modules and two modules
 92  * containing a package of the same name, &lt;em&gt;split package&lt;/em&gt;,
 93  * is not supported, resource bundles in each module can be packaged in
 94  * a different package as shown in this example where this provider packages
 95  * the resource bundles in per-language package, i.e. {@code com.example.app.fr}
 96  * for French locale.
 97  *
 98  * &lt;p&gt; A provider can provide more than one services, each of which is a service
 99  * for a resource bundle of a different base name.
100  *
101  * &lt;p&gt;{@link AbstractResourceBundleProvider}
102  * provides the basic implementation for {@code ResourceBundleProvider}
103  * and a subclass can override the {@link
104  * AbstractResourceBundleProvider#toBundleName(String, Locale) toBundleName}
105  * method to return a provider-specific location of the resource to be loaded,
106  * for example, per-language package.
107  * A provider can override {@link #getBundle ResourceBundleProvider.getBundle}
108  * method for example to only search the known supported locales or
109  * return resource bundles in other formats such as XML.
110  *
111  * &lt;p&gt;The module declaration of this provider module specifies the following
112  * directive:
113  * &lt;pre&gt;
114  *     provides com.example.app.spi.MyResourcesProvider with com.example.impl.MyResourcesProviderImpl;
115  * &lt;/pre&gt;
116  *
117  * &lt;h2&gt;&lt;a id=&quot;obtain-resource-bundle&quot;&gt;Obtaining resource bundles from providers&lt;/a&gt;&lt;/h2&gt;
118  *
119  * The module declaration of the &lt;em&gt;consumer module&lt;/em&gt; that calls one of the
120  * {@code ResourceBundle.getBundle} factory methods to obtain a resource
121  * bundle from service providers must specify the following directive:
122  * &lt;pre&gt;
123  *     uses com.example.app.spi.MyResourcesProvider;
124  * &lt;/pre&gt;
125  *
126  * {@link ResourceBundle#getBundle(String, Locale)
127  * ResourceBundle.getBundle(&quot;com.example.app.MyResource&quot;, locale)}
128  * locates and loads the providers for {@code com.example.app.spi.MyResourcesProvider}
129  * service and then invokes {@link #getBundle(String, Locale)
130  * ResourceBundleProvider.getBundle(&quot;com.example.app.MyResource&quot;, locale)} to
131  * find the resource bundle of the given base name and locale.
132  * If the consumer module is a resource bundle service provider for
133  * {@code com.example.app.spi.MyResourcesProvider}, {@code ResourceBundle.getBundle}
134  * will locate resource bundles only from service providers.
135  * Otherwise, {@code ResourceBundle.getBundle} may continue the search of
136  * the resource bundle in other modules and class path per the specification
137  * of the {@code ResourceBundle.getBundle} method being called.
138  *
139  * @see AbstractResourceBundleProvider
140  * @see &lt;a href=&quot;../ResourceBundle.html#resource-bundle-modules&quot;&gt;
141  *      Resource Bundles and Named Modules&lt;/a&gt;
142  * @see java.util.ServiceLoader
143  * @since 9
144  * @spec JPMS
145  */
146 public interface ResourceBundleProvider {
147     /**
148      * Returns a {@code ResourceBundle} for the given bundle name and locale.
149      * This method returns {@code null} if there is no {@code ResourceBundle}
150      * found for the given parameters.
151      *
152      *
153      * @param baseName
154      *        the base bundle name of the resource bundle, a fully
155      *        qualified class name
156      * @param locale
157      *        the locale for which the resource bundle should be loaded
158      * @return the ResourceBundle created for the given parameters, or null if no
159      *         {@code ResourceBundle} for the given parameters is found
160      */
161     public ResourceBundle getBundle(String baseName, Locale locale);
162 }
    </pre>
  </body>
</html>