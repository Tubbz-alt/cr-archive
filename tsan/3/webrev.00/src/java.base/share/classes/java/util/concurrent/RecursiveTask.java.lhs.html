<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/java.base/share/classes/java/util/concurrent/RecursiveTask.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre> 1 /*
 2  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 3  *
 4  * This code is free software; you can redistribute it and/or modify it
 5  * under the terms of the GNU General Public License version 2 only, as
 6  * published by the Free Software Foundation.  Oracle designates this
 7  * particular file as subject to the &quot;Classpath&quot; exception as provided
 8  * by Oracle in the LICENSE file that accompanied this code.
 9  *
10  * This code is distributed in the hope that it will be useful, but WITHOUT
11  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
12  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
13  * version 2 for more details (a copy is included in the LICENSE file that
14  * accompanied this code).
15  *
16  * You should have received a copy of the GNU General Public License version
17  * 2 along with this work; if not, write to the Free Software Foundation,
18  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
19  *
20  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
21  * or visit www.oracle.com if you need additional information or have any
22  * questions.
23  */
24 
25 /*
26  * This file is available under and governed by the GNU General Public
27  * License version 2 only, as published by the Free Software Foundation.
28  * However, the following notice accompanied the original version of this
29  * file:
30  *
31  * Written by Doug Lea with assistance from members of JCP JSR-166
32  * Expert Group and released to the public domain, as explained at
33  * http://creativecommons.org/publicdomain/zero/1.0/
34  */
35 
36 package java.util.concurrent;
37 
38 /**
39  * A recursive result-bearing {@link ForkJoinTask}.
40  *
41  * &lt;p&gt;For a classic example, here is a task computing Fibonacci numbers:
42  *
43  * &lt;pre&gt; {@code
44  * class Fibonacci extends RecursiveTask&lt;Integer&gt; {
45  *   final int n;
46  *   Fibonacci(int n) { this.n = n; }
47  *   protected Integer compute() {
48  *     if (n &lt;= 1)
49  *       return n;
50  *     Fibonacci f1 = new Fibonacci(n - 1);
51  *     f1.fork();
52  *     Fibonacci f2 = new Fibonacci(n - 2);
53  *     return f2.compute() + f1.join();
54  *   }
55  * }}&lt;/pre&gt;
56  *
57  * However, besides being a dumb way to compute Fibonacci functions
58  * (there is a simple fast linear algorithm that you&#39;d use in
59  * practice), this is likely to perform poorly because the smallest
60  * subtasks are too small to be worthwhile splitting up. Instead, as
61  * is the case for nearly all fork/join applications, you&#39;d pick some
62  * minimum granularity size (for example 10 here) for which you always
63  * sequentially solve rather than subdividing.
64  *
65  * @since 1.7
66  * @author Doug Lea
67  */
68 public abstract class RecursiveTask&lt;V&gt; extends ForkJoinTask&lt;V&gt; {
69     private static final long serialVersionUID = 5232453952276485270L;
70 
71     /**
72      * The result of the computation.
73      */
<a name="1" id="anc1"></a>
74     V result;
75 
76     /**
77      * The main computation performed by this task.
78      * @return the result of the computation
79      */
80     protected abstract V compute();
81 
82     public final V getRawResult() {
83         return result;
84     }
85 
86     protected final void setRawResult(V value) {
87         result = value;
88     }
89 
90     /**
91      * Implements execution conventions for RecursiveTask.
92      */
93     protected final boolean exec() {
94         result = compute();
95         return true;
96     }
97 
98 }
<a name="2" id="anc2"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="2" type="hidden" />
</body>
</html>