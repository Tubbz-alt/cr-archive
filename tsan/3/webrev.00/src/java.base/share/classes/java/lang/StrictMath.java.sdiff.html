<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/lang/StrictMath.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="StackTraceElement.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="String.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/lang/StrictMath.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 1999, 2016, Oracle and/or its affiliates. All rights reserved.</span>
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.  Oracle designates this
   8  * particular file as subject to the &quot;Classpath&quot; exception as provided
   9  * by Oracle in the LICENSE file that accompanied this code.
  10  *
  11  * This code is distributed in the hope that it will be useful, but WITHOUT
  12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  * version 2 for more details (a copy is included in the LICENSE file that
  15  * accompanied this code).
  16  *
  17  * You should have received a copy of the GNU General Public License version
  18  * 2 along with this work; if not, write to the Free Software Foundation,
  19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20  *
  21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
  50  * more than one definition for a function (such as
  51  * {@code acos}), use the &quot;IEEE 754 core function&quot; version
  52  * (residing in a file whose name begins with the letter
  53  * {@code e}).  The methods which require {@code fdlibm}
  54  * semantics are {@code sin}, {@code cos}, {@code tan},
  55  * {@code asin}, {@code acos}, {@code atan},
  56  * {@code exp}, {@code log}, {@code log10},
  57  * {@code cbrt}, {@code atan2}, {@code pow},
  58  * {@code sinh}, {@code cosh}, {@code tanh},
  59  * {@code hypot}, {@code expm1}, and {@code log1p}.
  60  *
  61  * &lt;p&gt;
  62  * The platform uses signed two&#39;s complement integer arithmetic with
  63  * int and long primitive types.  The developer should choose
  64  * the primitive type to ensure that arithmetic operations consistently
  65  * produce correct results, which in some cases means the operations
  66  * will not overflow the range of values of the computation.
  67  * The best practice is to choose the primitive type and algorithm to avoid
  68  * overflow. In cases where the size is {@code int} or {@code long} and
  69  * overflow errors need to be detected, the methods {@code addExact},
<span class="line-modified">  70  * {@code subtractExact}, {@code multiplyExact}, and {@code toIntExact}</span>

  71  * throw an {@code ArithmeticException} when the results overflow.
<span class="line-modified">  72  * For other arithmetic operations such as divide, absolute value,</span>
<span class="line-modified">  73  * increment by one, decrement by one, and negation overflow occurs only with</span>
<span class="line-modified">  74  * a specific minimum or maximum value and should be checked against</span>
<span class="line-removed">  75  * the minimum or maximum as appropriate.</span>
  76  *
  77  * @author  unascribed
  78  * @author  Joseph D. Darcy
  79  * @since   1.3
  80  */
  81 
  82 public final class StrictMath {
  83 
  84     /**
  85      * Don&#39;t let anyone instantiate this class.
  86      */
  87     private StrictMath() {}
  88 
  89     /**
  90      * The {@code double} value that is closer than any other to
  91      * &lt;i&gt;e&lt;/i&gt;, the base of the natural logarithms.
  92      */
  93     public static final double E = 2.7182818284590452354;
  94 
  95     /**
</pre>
<hr />
<pre>
 818     public static long multiplyExact(long x, int y) {
 819         return Math.multiplyExact(x, y);
 820     }
 821 
 822     /**
 823      * Returns the product of the arguments,
 824      * throwing an exception if the result overflows a {@code long}.
 825      *
 826      * @param x the first value
 827      * @param y the second value
 828      * @return the result
 829      * @throws ArithmeticException if the result overflows a long
 830      * @see Math#multiplyExact(long,long)
 831      * @since 1.8
 832      */
 833     public static long multiplyExact(long x, long y) {
 834         return Math.multiplyExact(x, y);
 835     }
 836 
 837     /**
<span class="line-modified"> 838      * Returns the value of the {@code long} argument;</span>
<span class="line-modified"> 839      * throwing an exception if the value overflows an {@code int}.</span>


























































































 840      *
 841      * @param value the long value
 842      * @return the argument as an int
 843      * @throws ArithmeticException if the {@code argument} overflows an int
 844      * @see Math#toIntExact(long)
 845      * @since 1.8
 846      */
 847     public static int toIntExact(long value) {
 848         return Math.toIntExact(value);
 849     }
 850 
 851     /**
 852      * Returns the exact mathematical product of the arguments.
 853      *
 854      * @param x the first value
 855      * @param y the second value
 856      * @return the result
 857      * @see Math#multiplyFull(int,int)
 858      * @since 9
 859      */
</pre>
</td>
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 1999, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.  Oracle designates this
   8  * particular file as subject to the &quot;Classpath&quot; exception as provided
   9  * by Oracle in the LICENSE file that accompanied this code.
  10  *
  11  * This code is distributed in the hope that it will be useful, but WITHOUT
  12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  * version 2 for more details (a copy is included in the LICENSE file that
  15  * accompanied this code).
  16  *
  17  * You should have received a copy of the GNU General Public License version
  18  * 2 along with this work; if not, write to the Free Software Foundation,
  19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20  *
  21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
  50  * more than one definition for a function (such as
  51  * {@code acos}), use the &quot;IEEE 754 core function&quot; version
  52  * (residing in a file whose name begins with the letter
  53  * {@code e}).  The methods which require {@code fdlibm}
  54  * semantics are {@code sin}, {@code cos}, {@code tan},
  55  * {@code asin}, {@code acos}, {@code atan},
  56  * {@code exp}, {@code log}, {@code log10},
  57  * {@code cbrt}, {@code atan2}, {@code pow},
  58  * {@code sinh}, {@code cosh}, {@code tanh},
  59  * {@code hypot}, {@code expm1}, and {@code log1p}.
  60  *
  61  * &lt;p&gt;
  62  * The platform uses signed two&#39;s complement integer arithmetic with
  63  * int and long primitive types.  The developer should choose
  64  * the primitive type to ensure that arithmetic operations consistently
  65  * produce correct results, which in some cases means the operations
  66  * will not overflow the range of values of the computation.
  67  * The best practice is to choose the primitive type and algorithm to avoid
  68  * overflow. In cases where the size is {@code int} or {@code long} and
  69  * overflow errors need to be detected, the methods {@code addExact},
<span class="line-modified">  70  * {@code subtractExact}, {@code multiplyExact}, {@code toIntExact},</span>
<span class="line-added">  71  * {@code incrementExact}, {@code decrementExact} and {@code negateExact}</span>
  72  * throw an {@code ArithmeticException} when the results overflow.
<span class="line-modified">  73  * For the arithmetic operations divide and absolute value, overflow</span>
<span class="line-modified">  74  * occurs only with a specific minimum or maximum value and</span>
<span class="line-modified">  75  * should be checked against the minimum or maximum as appropriate.</span>

  76  *
  77  * @author  unascribed
  78  * @author  Joseph D. Darcy
  79  * @since   1.3
  80  */
  81 
  82 public final class StrictMath {
  83 
  84     /**
  85      * Don&#39;t let anyone instantiate this class.
  86      */
  87     private StrictMath() {}
  88 
  89     /**
  90      * The {@code double} value that is closer than any other to
  91      * &lt;i&gt;e&lt;/i&gt;, the base of the natural logarithms.
  92      */
  93     public static final double E = 2.7182818284590452354;
  94 
  95     /**
</pre>
<hr />
<pre>
 818     public static long multiplyExact(long x, int y) {
 819         return Math.multiplyExact(x, y);
 820     }
 821 
 822     /**
 823      * Returns the product of the arguments,
 824      * throwing an exception if the result overflows a {@code long}.
 825      *
 826      * @param x the first value
 827      * @param y the second value
 828      * @return the result
 829      * @throws ArithmeticException if the result overflows a long
 830      * @see Math#multiplyExact(long,long)
 831      * @since 1.8
 832      */
 833     public static long multiplyExact(long x, long y) {
 834         return Math.multiplyExact(x, y);
 835     }
 836 
 837     /**
<span class="line-modified"> 838      * Returns the argument incremented by one,</span>
<span class="line-modified"> 839      * throwing an exception if the result overflows an {@code int}.</span>
<span class="line-added"> 840      * The overflow only occurs for {@linkplain Integer#MAX_VALUE the maximum value}.</span>
<span class="line-added"> 841      *</span>
<span class="line-added"> 842      * @param a the value to increment</span>
<span class="line-added"> 843      * @return the result</span>
<span class="line-added"> 844      * @throws ArithmeticException if the result overflows an int</span>
<span class="line-added"> 845      * @see Math#incrementExact(int)</span>
<span class="line-added"> 846      * @since 14</span>
<span class="line-added"> 847      */</span>
<span class="line-added"> 848     public static int incrementExact(int a) {</span>
<span class="line-added"> 849         return Math.incrementExact(a);</span>
<span class="line-added"> 850     }</span>
<span class="line-added"> 851 </span>
<span class="line-added"> 852     /**</span>
<span class="line-added"> 853      * Returns the argument incremented by one,</span>
<span class="line-added"> 854      * throwing an exception if the result overflows a {@code long}.</span>
<span class="line-added"> 855      * The overflow only occurs for {@linkplain Long#MAX_VALUE the maximum value}.</span>
<span class="line-added"> 856      *</span>
<span class="line-added"> 857      * @param a the value to increment</span>
<span class="line-added"> 858      * @return the result</span>
<span class="line-added"> 859      * @throws ArithmeticException if the result overflows a long</span>
<span class="line-added"> 860      * @see Math#incrementExact(long)</span>
<span class="line-added"> 861      * @since 14</span>
<span class="line-added"> 862      */</span>
<span class="line-added"> 863     public static long incrementExact(long a) {</span>
<span class="line-added"> 864         return Math.incrementExact(a);</span>
<span class="line-added"> 865     }</span>
<span class="line-added"> 866 </span>
<span class="line-added"> 867     /**</span>
<span class="line-added"> 868      * Returns the argument decremented by one,</span>
<span class="line-added"> 869      * throwing an exception if the result overflows an {@code int}.</span>
<span class="line-added"> 870      * The overflow only occurs for {@linkplain Integer#MIN_VALUE the minimum value}.</span>
<span class="line-added"> 871      *</span>
<span class="line-added"> 872      * @param a the value to decrement</span>
<span class="line-added"> 873      * @return the result</span>
<span class="line-added"> 874      * @throws ArithmeticException if the result overflows an int</span>
<span class="line-added"> 875      * @see Math#decrementExact(int)</span>
<span class="line-added"> 876      * @since 14</span>
<span class="line-added"> 877      */</span>
<span class="line-added"> 878     public static int decrementExact(int a) {</span>
<span class="line-added"> 879         return Math.decrementExact(a);</span>
<span class="line-added"> 880     }</span>
<span class="line-added"> 881 </span>
<span class="line-added"> 882     /**</span>
<span class="line-added"> 883      * Returns the argument decremented by one,</span>
<span class="line-added"> 884      * throwing an exception if the result overflows a {@code long}.</span>
<span class="line-added"> 885      * The overflow only occurs for {@linkplain Long#MIN_VALUE the minimum value}.</span>
<span class="line-added"> 886      *</span>
<span class="line-added"> 887      * @param a the value to decrement</span>
<span class="line-added"> 888      * @return the result</span>
<span class="line-added"> 889      * @throws ArithmeticException if the result overflows a long</span>
<span class="line-added"> 890      * @see Math#decrementExact(long)</span>
<span class="line-added"> 891      * @since 14</span>
<span class="line-added"> 892      */</span>
<span class="line-added"> 893     public static long decrementExact(long a) {</span>
<span class="line-added"> 894         return Math.decrementExact(a);</span>
<span class="line-added"> 895     }</span>
<span class="line-added"> 896 </span>
<span class="line-added"> 897     /**</span>
<span class="line-added"> 898      * Returns the negation of the argument,</span>
<span class="line-added"> 899      * throwing an exception if the result overflows an {@code int}.</span>
<span class="line-added"> 900      * The overflow only occurs for {@linkplain Integer#MIN_VALUE the minimum value}.</span>
<span class="line-added"> 901      *</span>
<span class="line-added"> 902      * @param a the value to negate</span>
<span class="line-added"> 903      * @return the result</span>
<span class="line-added"> 904      * @throws ArithmeticException if the result overflows an int</span>
<span class="line-added"> 905      * @see Math#negateExact(int)</span>
<span class="line-added"> 906      * @since 14</span>
<span class="line-added"> 907      */</span>
<span class="line-added"> 908     public static int negateExact(int a) {</span>
<span class="line-added"> 909         return Math.negateExact(a);</span>
<span class="line-added"> 910     }</span>
<span class="line-added"> 911 </span>
<span class="line-added"> 912     /**</span>
<span class="line-added"> 913      * Returns the negation of the argument,</span>
<span class="line-added"> 914      * throwing an exception if the result overflows a {@code long}.</span>
<span class="line-added"> 915      * The overflow only occurs for {@linkplain Long#MIN_VALUE the minimum value}.</span>
<span class="line-added"> 916      *</span>
<span class="line-added"> 917      * @param a the value to negate</span>
<span class="line-added"> 918      * @return the result</span>
<span class="line-added"> 919      * @throws ArithmeticException if the result overflows a long</span>
<span class="line-added"> 920      * @see Math#negateExact(long)</span>
<span class="line-added"> 921      * @since 14</span>
<span class="line-added"> 922      */</span>
<span class="line-added"> 923     public static long negateExact(long a) {</span>
<span class="line-added"> 924         return Math.negateExact(a);</span>
<span class="line-added"> 925     }</span>
<span class="line-added"> 926 </span>
<span class="line-added"> 927     /**</span>
<span class="line-added"> 928      * Returns the value of the {@code long} argument, throwing an exception</span>
<span class="line-added"> 929      * if the value overflows an {@code int}.</span>
 930      *
 931      * @param value the long value
 932      * @return the argument as an int
 933      * @throws ArithmeticException if the {@code argument} overflows an int
 934      * @see Math#toIntExact(long)
 935      * @since 1.8
 936      */
 937     public static int toIntExact(long value) {
 938         return Math.toIntExact(value);
 939     }
 940 
 941     /**
 942      * Returns the exact mathematical product of the arguments.
 943      *
 944      * @param x the first value
 945      * @param y the second value
 946      * @return the result
 947      * @see Math#multiplyFull(int,int)
 948      * @since 9
 949      */
</pre>
</td>
</tr>
</table>
<center><a href="StackTraceElement.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="String.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>