<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/java/util/GregorianCalendar.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="FormatterClosedException.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="HashMap.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/util/GregorianCalendar.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 1996, 2017, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 1996, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 51,49 ***</span>
  import sun.util.calendar.Gregorian;
  import sun.util.calendar.JulianCalendar;
  import sun.util.calendar.ZoneInfo;
  
  /**
<span class="line-modified">!  * &lt;code&gt;GregorianCalendar&lt;/code&gt; is a concrete subclass of</span>
<span class="line-modified">!  * &lt;code&gt;Calendar&lt;/code&gt; and provides the standard calendar system</span>
   * used by most of the world.
   *
<span class="line-modified">!  * &lt;p&gt; &lt;code&gt;GregorianCalendar&lt;/code&gt; is a hybrid calendar that</span>
   * supports both the Julian and Gregorian calendar systems with the
   * support of a single discontinuity, which corresponds by default to
   * the Gregorian date when the Gregorian calendar was instituted
   * (October 15, 1582 in some countries, later in others).  The cutover
   * date may be changed by the caller by calling {@link
   * #setGregorianChange(Date) setGregorianChange()}.
   *
   * &lt;p&gt;
   * Historically, in those countries which adopted the Gregorian calendar first,
   * October 4, 1582 (Julian) was thus followed by October 15, 1582 (Gregorian). This calendar models
<span class="line-modified">!  * this correctly.  Before the Gregorian cutover, &lt;code&gt;GregorianCalendar&lt;/code&gt;</span>
   * implements the Julian calendar.  The only difference between the Gregorian
   * and the Julian calendar is the leap year rule. The Julian calendar specifies
   * leap years every four years, whereas the Gregorian calendar omits century
   * years which are not divisible by 400.
   *
   * &lt;p&gt;
<span class="line-modified">!  * &lt;code&gt;GregorianCalendar&lt;/code&gt; implements &lt;em&gt;proleptic&lt;/em&gt; Gregorian and</span>
   * Julian calendars. That is, dates are computed by extrapolating the current
   * rules indefinitely far backward and forward in time. As a result,
<span class="line-modified">!  * &lt;code&gt;GregorianCalendar&lt;/code&gt; may be used for all years to generate</span>
   * meaningful and consistent results. However, dates obtained using
<span class="line-modified">!  * &lt;code&gt;GregorianCalendar&lt;/code&gt; are historically accurate only from March 1, 4</span>
   * AD onward, when modern Julian calendar rules were adopted.  Before this date,
   * leap year rules were applied irregularly, and before 45 BC the Julian
   * calendar did not even exist.
   *
   * &lt;p&gt;
   * Prior to the institution of the Gregorian calendar, New Year&#39;s Day was
   * March 25. To avoid confusion, this calendar always uses January 1. A manual
   * adjustment may be made if desired for dates that are prior to the Gregorian
   * changeover and which fall between January 1 and March 24.
   *
<span class="line-modified">!  * &lt;h3&gt;&lt;a id=&quot;week_and_year&quot;&gt;Week Of Year and Week Year&lt;/a&gt;&lt;/h3&gt;</span>
   *
   * &lt;p&gt;Values calculated for the {@link Calendar#WEEK_OF_YEAR
   * WEEK_OF_YEAR} field range from 1 to 53. The first week of a
   * calendar year is the earliest seven day period starting on {@link
   * Calendar#getFirstDayOfWeek() getFirstDayOfWeek()} that contains at
<span class="line-new-header">--- 51,49 ---</span>
  import sun.util.calendar.Gregorian;
  import sun.util.calendar.JulianCalendar;
  import sun.util.calendar.ZoneInfo;
  
  /**
<span class="line-modified">!  * {@code GregorianCalendar} is a concrete subclass of</span>
<span class="line-modified">!  * {@code Calendar} and provides the standard calendar system</span>
   * used by most of the world.
   *
<span class="line-modified">!  * &lt;p&gt; {@code GregorianCalendar} is a hybrid calendar that</span>
   * supports both the Julian and Gregorian calendar systems with the
   * support of a single discontinuity, which corresponds by default to
   * the Gregorian date when the Gregorian calendar was instituted
   * (October 15, 1582 in some countries, later in others).  The cutover
   * date may be changed by the caller by calling {@link
   * #setGregorianChange(Date) setGregorianChange()}.
   *
   * &lt;p&gt;
   * Historically, in those countries which adopted the Gregorian calendar first,
   * October 4, 1582 (Julian) was thus followed by October 15, 1582 (Gregorian). This calendar models
<span class="line-modified">!  * this correctly.  Before the Gregorian cutover, {@code GregorianCalendar}</span>
   * implements the Julian calendar.  The only difference between the Gregorian
   * and the Julian calendar is the leap year rule. The Julian calendar specifies
   * leap years every four years, whereas the Gregorian calendar omits century
   * years which are not divisible by 400.
   *
   * &lt;p&gt;
<span class="line-modified">!  * {@code GregorianCalendar} implements &lt;em&gt;proleptic&lt;/em&gt; Gregorian and</span>
   * Julian calendars. That is, dates are computed by extrapolating the current
   * rules indefinitely far backward and forward in time. As a result,
<span class="line-modified">!  * {@code GregorianCalendar} may be used for all years to generate</span>
   * meaningful and consistent results. However, dates obtained using
<span class="line-modified">!  * {@code GregorianCalendar} are historically accurate only from March 1, 4</span>
   * AD onward, when modern Julian calendar rules were adopted.  Before this date,
   * leap year rules were applied irregularly, and before 45 BC the Julian
   * calendar did not even exist.
   *
   * &lt;p&gt;
   * Prior to the institution of the Gregorian calendar, New Year&#39;s Day was
   * March 25. To avoid confusion, this calendar always uses January 1. A manual
   * adjustment may be made if desired for dates that are prior to the Gregorian
   * changeover and which fall between January 1 and March 24.
   *
<span class="line-modified">!  * &lt;h2&gt;&lt;a id=&quot;week_and_year&quot;&gt;Week Of Year and Week Year&lt;/a&gt;&lt;/h2&gt;</span>
   *
   * &lt;p&gt;Values calculated for the {@link Calendar#WEEK_OF_YEAR
   * WEEK_OF_YEAR} field range from 1 to 53. The first week of a
   * calendar year is the earliest seven day period starting on {@link
   * Calendar#getFirstDayOfWeek() getFirstDayOfWeek()} that contains at
</pre>
<hr />
<pre>
<span class="line-old-header">*** 131,34 ***</span>
   * of calendar year 1997. If, however, {@code getFirstDayOfWeek()} is
   * {@code SUNDAY}, then week 1 of 1998 starts on January 4, 1998, and
   * ends on January 10, 1998; the first three days of 1998 then are
   * part of week 53 of 1997 and their week year is 1997.
   *
<span class="line-modified">!  * &lt;h4&gt;Week Of Month&lt;/h4&gt;</span>
   *
<span class="line-modified">!  * &lt;p&gt;Values calculated for the &lt;code&gt;WEEK_OF_MONTH&lt;/code&gt; field range from 0</span>
   * to 6.  Week 1 of a month (the days with &lt;code&gt;WEEK_OF_MONTH =
   * 1&lt;/code&gt;) is the earliest set of at least
<span class="line-modified">!  * &lt;code&gt;getMinimalDaysInFirstWeek()&lt;/code&gt; contiguous days in that month,</span>
<span class="line-modified">!  * ending on the day before &lt;code&gt;getFirstDayOfWeek()&lt;/code&gt;.  Unlike</span>
   * week 1 of a year, week 1 of a month may be shorter than 7 days, need
<span class="line-modified">!  * not start on &lt;code&gt;getFirstDayOfWeek()&lt;/code&gt;, and will not include days of</span>
   * the previous month.  Days of a month before week 1 have a
<span class="line-modified">!  * &lt;code&gt;WEEK_OF_MONTH&lt;/code&gt; of 0.</span>
   *
<span class="line-modified">!  * &lt;p&gt;For example, if &lt;code&gt;getFirstDayOfWeek()&lt;/code&gt; is &lt;code&gt;SUNDAY&lt;/code&gt;</span>
<span class="line-modified">!  * and &lt;code&gt;getMinimalDaysInFirstWeek()&lt;/code&gt; is 4, then the first week of</span>
   * January 1998 is Sunday, January 4 through Saturday, January 10.  These days
<span class="line-modified">!  * have a &lt;code&gt;WEEK_OF_MONTH&lt;/code&gt; of 1.  Thursday, January 1 through</span>
<span class="line-modified">!  * Saturday, January 3 have a &lt;code&gt;WEEK_OF_MONTH&lt;/code&gt; of 0.  If</span>
<span class="line-modified">!  * &lt;code&gt;getMinimalDaysInFirstWeek()&lt;/code&gt; is changed to 3, then January 1</span>
<span class="line-modified">!  * through January 3 have a &lt;code&gt;WEEK_OF_MONTH&lt;/code&gt; of 1.</span>
   *
<span class="line-modified">!  * &lt;h4&gt;Default Fields Values&lt;/h4&gt;</span>
   *
<span class="line-modified">!  * &lt;p&gt;The &lt;code&gt;clear&lt;/code&gt; method sets calendar field(s)</span>
<span class="line-modified">!  * undefined. &lt;code&gt;GregorianCalendar&lt;/code&gt; uses the following</span>
   * default value for each calendar field if its value is undefined.
   *
   * &lt;table class=&quot;striped&quot; style=&quot;text-align: left; width: 66%;&quot;&gt;
   * &lt;caption style=&quot;display:none&quot;&gt;GregorianCalendar default field values&lt;/caption&gt;
   *   &lt;thead&gt;
<span class="line-new-header">--- 131,34 ---</span>
   * of calendar year 1997. If, however, {@code getFirstDayOfWeek()} is
   * {@code SUNDAY}, then week 1 of 1998 starts on January 4, 1998, and
   * ends on January 10, 1998; the first three days of 1998 then are
   * part of week 53 of 1997 and their week year is 1997.
   *
<span class="line-modified">!  * &lt;h3&gt;Week Of Month&lt;/h3&gt;</span>
   *
<span class="line-modified">!  * &lt;p&gt;Values calculated for the {@code WEEK_OF_MONTH} field range from 0</span>
   * to 6.  Week 1 of a month (the days with &lt;code&gt;WEEK_OF_MONTH =
   * 1&lt;/code&gt;) is the earliest set of at least
<span class="line-modified">!  * {@code getMinimalDaysInFirstWeek()} contiguous days in that month,</span>
<span class="line-modified">!  * ending on the day before {@code getFirstDayOfWeek()}.  Unlike</span>
   * week 1 of a year, week 1 of a month may be shorter than 7 days, need
<span class="line-modified">!  * not start on {@code getFirstDayOfWeek()}, and will not include days of</span>
   * the previous month.  Days of a month before week 1 have a
<span class="line-modified">!  * {@code WEEK_OF_MONTH} of 0.</span>
   *
<span class="line-modified">!  * &lt;p&gt;For example, if {@code getFirstDayOfWeek()} is {@code SUNDAY}</span>
<span class="line-modified">!  * and {@code getMinimalDaysInFirstWeek()} is 4, then the first week of</span>
   * January 1998 is Sunday, January 4 through Saturday, January 10.  These days
<span class="line-modified">!  * have a {@code WEEK_OF_MONTH} of 1.  Thursday, January 1 through</span>
<span class="line-modified">!  * Saturday, January 3 have a {@code WEEK_OF_MONTH} of 0.  If</span>
<span class="line-modified">!  * {@code getMinimalDaysInFirstWeek()} is changed to 3, then January 1</span>
<span class="line-modified">!  * through January 3 have a {@code WEEK_OF_MONTH} of 1.</span>
   *
<span class="line-modified">!  * &lt;h3&gt;Default Fields Values&lt;/h3&gt;</span>
   *
<span class="line-modified">!  * &lt;p&gt;The {@code clear} method sets calendar field(s)</span>
<span class="line-modified">!  * undefined. {@code GregorianCalendar} uses the following</span>
   * default value for each calendar field if its value is undefined.
   *
   * &lt;table class=&quot;striped&quot; style=&quot;text-align: left; width: 66%;&quot;&gt;
   * &lt;caption style=&quot;display:none&quot;&gt;GregorianCalendar default field values&lt;/caption&gt;
   *   &lt;thead&gt;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 172,78 ***</span>
   *     &lt;/tr&gt;
   *   &lt;/thead&gt;
   *   &lt;tbody&gt;
   *     &lt;tr&gt;
   *       &lt;th scope=&quot;row&quot;&gt;
<span class="line-modified">!  *              &lt;code&gt;ERA&lt;/code&gt;</span>
   *       &lt;/th&gt;
   *       &lt;td&gt;
<span class="line-modified">!  *              &lt;code&gt;AD&lt;/code&gt;</span>
   *       &lt;/td&gt;
   *     &lt;/tr&gt;
   *     &lt;tr&gt;
   *       &lt;th scope=&quot;row&quot;&gt;
<span class="line-modified">!  *              &lt;code&gt;YEAR&lt;/code&gt;</span>
   *       &lt;/th&gt;
   *       &lt;td&gt;
<span class="line-modified">!  *              &lt;code&gt;1970&lt;/code&gt;</span>
   *       &lt;/td&gt;
   *     &lt;/tr&gt;
   *     &lt;tr&gt;
   *       &lt;th scope=&quot;row&quot;&gt;
<span class="line-modified">!  *              &lt;code&gt;MONTH&lt;/code&gt;</span>
   *       &lt;/th&gt;
   *       &lt;td&gt;
<span class="line-modified">!  *              &lt;code&gt;JANUARY&lt;/code&gt;</span>
   *       &lt;/td&gt;
   *     &lt;/tr&gt;
   *     &lt;tr&gt;
   *       &lt;th scope=&quot;row&quot;&gt;
<span class="line-modified">!  *              &lt;code&gt;DAY_OF_MONTH&lt;/code&gt;</span>
   *       &lt;/th&gt;
   *       &lt;td&gt;
<span class="line-modified">!  *              &lt;code&gt;1&lt;/code&gt;</span>
   *       &lt;/td&gt;
   *     &lt;/tr&gt;
   *     &lt;tr&gt;
   *       &lt;th scope=&quot;row&quot;&gt;
<span class="line-modified">!  *              &lt;code&gt;DAY_OF_WEEK&lt;/code&gt;</span>
   *       &lt;/th&gt;
   *       &lt;td&gt;
<span class="line-modified">!  *              &lt;code&gt;the first day of week&lt;/code&gt;</span>
   *       &lt;/td&gt;
   *     &lt;/tr&gt;
   *     &lt;tr&gt;
   *       &lt;th scope=&quot;row&quot;&gt;
<span class="line-modified">!  *              &lt;code&gt;WEEK_OF_MONTH&lt;/code&gt;</span>
   *       &lt;/th&gt;
   *       &lt;td&gt;
<span class="line-modified">!  *              &lt;code&gt;0&lt;/code&gt;</span>
   *       &lt;/td&gt;
   *     &lt;/tr&gt;
   *     &lt;tr&gt;
   *       &lt;th scope=&quot;row&quot;&gt;
<span class="line-modified">!  *              &lt;code&gt;DAY_OF_WEEK_IN_MONTH&lt;/code&gt;</span>
   *       &lt;/th&gt;
   *       &lt;td&gt;
<span class="line-modified">!  *              &lt;code&gt;1&lt;/code&gt;</span>
   *       &lt;/td&gt;
   *     &lt;/tr&gt;
   *     &lt;tr&gt;
   *       &lt;th scope=&quot;row&quot;&gt;
<span class="line-modified">!  *              &lt;code&gt;AM_PM&lt;/code&gt;</span>
   *       &lt;/th&gt;
   *       &lt;td&gt;
<span class="line-modified">!  *              &lt;code&gt;AM&lt;/code&gt;</span>
   *       &lt;/td&gt;
   *     &lt;/tr&gt;
   *     &lt;tr&gt;
   *       &lt;th scope=&quot;row&quot;&gt;
<span class="line-modified">!  *              &lt;code&gt;HOUR, HOUR_OF_DAY, MINUTE, SECOND, MILLISECOND&lt;/code&gt;</span>
   *       &lt;/th&gt;
   *       &lt;td&gt;
<span class="line-modified">!  *              &lt;code&gt;0&lt;/code&gt;</span>
   *       &lt;/td&gt;
   *     &lt;/tr&gt;
   *   &lt;/tbody&gt;
   * &lt;/table&gt;
   * &lt;br&gt;Default values are not applicable for the fields not listed above.
<span class="line-new-header">--- 172,78 ---</span>
   *     &lt;/tr&gt;
   *   &lt;/thead&gt;
   *   &lt;tbody&gt;
   *     &lt;tr&gt;
   *       &lt;th scope=&quot;row&quot;&gt;
<span class="line-modified">!  *              {@code ERA}</span>
   *       &lt;/th&gt;
   *       &lt;td&gt;
<span class="line-modified">!  *              {@code AD}</span>
   *       &lt;/td&gt;
   *     &lt;/tr&gt;
   *     &lt;tr&gt;
   *       &lt;th scope=&quot;row&quot;&gt;
<span class="line-modified">!  *              {@code YEAR}</span>
   *       &lt;/th&gt;
   *       &lt;td&gt;
<span class="line-modified">!  *              {@code 1970}</span>
   *       &lt;/td&gt;
   *     &lt;/tr&gt;
   *     &lt;tr&gt;
   *       &lt;th scope=&quot;row&quot;&gt;
<span class="line-modified">!  *              {@code MONTH}</span>
   *       &lt;/th&gt;
   *       &lt;td&gt;
<span class="line-modified">!  *              {@code JANUARY}</span>
   *       &lt;/td&gt;
   *     &lt;/tr&gt;
   *     &lt;tr&gt;
   *       &lt;th scope=&quot;row&quot;&gt;
<span class="line-modified">!  *              {@code DAY_OF_MONTH}</span>
   *       &lt;/th&gt;
   *       &lt;td&gt;
<span class="line-modified">!  *              {@code 1}</span>
   *       &lt;/td&gt;
   *     &lt;/tr&gt;
   *     &lt;tr&gt;
   *       &lt;th scope=&quot;row&quot;&gt;
<span class="line-modified">!  *              {@code DAY_OF_WEEK}</span>
   *       &lt;/th&gt;
   *       &lt;td&gt;
<span class="line-modified">!  *              {@code the first day of week}</span>
   *       &lt;/td&gt;
   *     &lt;/tr&gt;
   *     &lt;tr&gt;
   *       &lt;th scope=&quot;row&quot;&gt;
<span class="line-modified">!  *              {@code WEEK_OF_MONTH}</span>
   *       &lt;/th&gt;
   *       &lt;td&gt;
<span class="line-modified">!  *              {@code 0}</span>
   *       &lt;/td&gt;
   *     &lt;/tr&gt;
   *     &lt;tr&gt;
   *       &lt;th scope=&quot;row&quot;&gt;
<span class="line-modified">!  *              {@code DAY_OF_WEEK_IN_MONTH}</span>
   *       &lt;/th&gt;
   *       &lt;td&gt;
<span class="line-modified">!  *              {@code 1}</span>
   *       &lt;/td&gt;
   *     &lt;/tr&gt;
   *     &lt;tr&gt;
   *       &lt;th scope=&quot;row&quot;&gt;
<span class="line-modified">!  *              {@code AM_PM}</span>
   *       &lt;/th&gt;
   *       &lt;td&gt;
<span class="line-modified">!  *              {@code AM}</span>
   *       &lt;/td&gt;
   *     &lt;/tr&gt;
   *     &lt;tr&gt;
   *       &lt;th scope=&quot;row&quot;&gt;
<span class="line-modified">!  *              {@code HOUR, HOUR_OF_DAY, MINUTE, SECOND, MILLISECOND}</span>
   *       &lt;/th&gt;
   *       &lt;td&gt;
<span class="line-modified">!  *              {@code 0}</span>
   *       &lt;/td&gt;
   *     &lt;/tr&gt;
   *   &lt;/tbody&gt;
   * &lt;/table&gt;
   * &lt;br&gt;Default values are not applicable for the fields not listed above.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 358,13 ***</span>
  //////////////////
  // Class Variables
  //////////////////
  
      /**
<span class="line-modified">!      * Value of the &lt;code&gt;ERA&lt;/code&gt; field indicating</span>
       * the period before the common era (before Christ), also known as BCE.
<span class="line-modified">!      * The sequence of years at the transition from &lt;code&gt;BC&lt;/code&gt; to &lt;code&gt;AD&lt;/code&gt; is</span>
       * ..., 2 BC, 1 BC, 1 AD, 2 AD,...
       *
       * @see #ERA
       */
      public static final int BC = 0;
<span class="line-new-header">--- 358,13 ---</span>
  //////////////////
  // Class Variables
  //////////////////
  
      /**
<span class="line-modified">!      * Value of the {@code ERA} field indicating</span>
       * the period before the common era (before Christ), also known as BCE.
<span class="line-modified">!      * The sequence of years at the transition from {@code BC} to {@code AD} is</span>
       * ..., 2 BC, 1 BC, 1 AD, 2 AD,...
       *
       * @see #ERA
       */
      public static final int BC = 0;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 376,13 ***</span>
       * @see #CE
       */
      static final int BCE = 0;
  
      /**
<span class="line-modified">!      * Value of the &lt;code&gt;ERA&lt;/code&gt; field indicating</span>
       * the common era (Anno Domini), also known as CE.
<span class="line-modified">!      * The sequence of years at the transition from &lt;code&gt;BC&lt;/code&gt; to &lt;code&gt;AD&lt;/code&gt; is</span>
       * ..., 2 BC, 1 BC, 1 AD, 2 AD,...
       *
       * @see #ERA
       */
      public static final int AD = 1;
<span class="line-new-header">--- 376,13 ---</span>
       * @see #CE
       */
      static final int BCE = 0;
  
      /**
<span class="line-modified">!      * Value of the {@code ERA} field indicating</span>
       * the common era (Anno Domini), also known as CE.
<span class="line-modified">!      * The sequence of years at the transition from {@code BC} to {@code AD} is</span>
       * ..., 2 BC, 1 BC, 1 AD, 2 AD,...
       *
       * @see #ERA
       */
      public static final int AD = 1;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 495,10 ***</span>
<span class="line-new-header">--- 495,11 ---</span>
          2*ONE_HOUR      // DST_OFFSET (double summer time)
      };
  
      // Proclaim serialization compatibility with JDK 1.1
      @SuppressWarnings(&quot;FieldNameHidesFieldInSuperclass&quot;)
<span class="line-added">+     @java.io.Serial</span>
      static final long serialVersionUID = -8125100834729963327L;
  
      // Reference to the sun.util.calendar.Gregorian instance (singleton).
      private static final Gregorian gcal =
                                  CalendarSystem.getGregorianCalendar();
</pre>
<hr />
<pre>
<span class="line-old-header">*** 582,43 ***</span>
  ///////////////
  // Constructors
  ///////////////
  
      /**
<span class="line-modified">!      * Constructs a default &lt;code&gt;GregorianCalendar&lt;/code&gt; using the current time</span>
       * in the default time zone with the default
       * {@link Locale.Category#FORMAT FORMAT} locale.
       */
      public GregorianCalendar() {
          this(TimeZone.getDefaultRef(), Locale.getDefault(Locale.Category.FORMAT));
          setZoneShared(true);
      }
  
      /**
<span class="line-modified">!      * Constructs a &lt;code&gt;GregorianCalendar&lt;/code&gt; based on the current time</span>
       * in the given time zone with the default
       * {@link Locale.Category#FORMAT FORMAT} locale.
       *
       * @param zone the given time zone.
       */
      public GregorianCalendar(TimeZone zone) {
          this(zone, Locale.getDefault(Locale.Category.FORMAT));
      }
  
      /**
<span class="line-modified">!      * Constructs a &lt;code&gt;GregorianCalendar&lt;/code&gt; based on the current time</span>
       * in the default time zone with the given locale.
       *
       * @param aLocale the given locale.
       */
      public GregorianCalendar(Locale aLocale) {
          this(TimeZone.getDefaultRef(), aLocale);
          setZoneShared(true);
      }
  
      /**
<span class="line-modified">!      * Constructs a &lt;code&gt;GregorianCalendar&lt;/code&gt; based on the current time</span>
       * in the given time zone with the given locale.
       *
       * @param zone the given time zone.
       * @param aLocale the given locale.
       */
<span class="line-new-header">--- 583,43 ---</span>
  ///////////////
  // Constructors
  ///////////////
  
      /**
<span class="line-modified">!      * Constructs a default {@code GregorianCalendar} using the current time</span>
       * in the default time zone with the default
       * {@link Locale.Category#FORMAT FORMAT} locale.
       */
      public GregorianCalendar() {
          this(TimeZone.getDefaultRef(), Locale.getDefault(Locale.Category.FORMAT));
          setZoneShared(true);
      }
  
      /**
<span class="line-modified">!      * Constructs a {@code GregorianCalendar} based on the current time</span>
       * in the given time zone with the default
       * {@link Locale.Category#FORMAT FORMAT} locale.
       *
       * @param zone the given time zone.
       */
      public GregorianCalendar(TimeZone zone) {
          this(zone, Locale.getDefault(Locale.Category.FORMAT));
      }
  
      /**
<span class="line-modified">!      * Constructs a {@code GregorianCalendar} based on the current time</span>
       * in the default time zone with the given locale.
       *
       * @param aLocale the given locale.
       */
      public GregorianCalendar(Locale aLocale) {
          this(TimeZone.getDefaultRef(), aLocale);
          setZoneShared(true);
      }
  
      /**
<span class="line-modified">!      * Constructs a {@code GregorianCalendar} based on the current time</span>
       * in the given time zone with the given locale.
       *
       * @param zone the given time zone.
       * @param aLocale the given locale.
       */
</pre>
<hr />
<pre>
<span class="line-old-header">*** 627,33 ***</span>
          gdate = (BaseCalendar.Date) gcal.newCalendarDate(zone);
          setTimeInMillis(System.currentTimeMillis());
      }
  
      /**
<span class="line-modified">!      * Constructs a &lt;code&gt;GregorianCalendar&lt;/code&gt; with the given date set</span>
       * in the default time zone with the default locale.
       *
<span class="line-modified">!      * @param year the value used to set the &lt;code&gt;YEAR&lt;/code&gt; calendar field in the calendar.</span>
<span class="line-modified">!      * @param month the value used to set the &lt;code&gt;MONTH&lt;/code&gt; calendar field in the calendar.</span>
       * Month value is 0-based. e.g., 0 for January.
<span class="line-modified">!      * @param dayOfMonth the value used to set the &lt;code&gt;DAY_OF_MONTH&lt;/code&gt; calendar field in the calendar.</span>
       */
      public GregorianCalendar(int year, int month, int dayOfMonth) {
          this(year, month, dayOfMonth, 0, 0, 0, 0);
      }
  
      /**
<span class="line-modified">!      * Constructs a &lt;code&gt;GregorianCalendar&lt;/code&gt; with the given date</span>
       * and time set for the default time zone with the default locale.
       *
<span class="line-modified">!      * @param year the value used to set the &lt;code&gt;YEAR&lt;/code&gt; calendar field in the calendar.</span>
<span class="line-modified">!      * @param month the value used to set the &lt;code&gt;MONTH&lt;/code&gt; calendar field in the calendar.</span>
       * Month value is 0-based. e.g., 0 for January.
<span class="line-modified">!      * @param dayOfMonth the value used to set the &lt;code&gt;DAY_OF_MONTH&lt;/code&gt; calendar field in the calendar.</span>
<span class="line-modified">!      * @param hourOfDay the value used to set the &lt;code&gt;HOUR_OF_DAY&lt;/code&gt; calendar field</span>
       * in the calendar.
<span class="line-modified">!      * @param minute the value used to set the &lt;code&gt;MINUTE&lt;/code&gt; calendar field</span>
       * in the calendar.
       */
      public GregorianCalendar(int year, int month, int dayOfMonth, int hourOfDay,
                               int minute) {
          this(year, month, dayOfMonth, hourOfDay, minute, 0, 0);
<span class="line-new-header">--- 628,33 ---</span>
          gdate = (BaseCalendar.Date) gcal.newCalendarDate(zone);
          setTimeInMillis(System.currentTimeMillis());
      }
  
      /**
<span class="line-modified">!      * Constructs a {@code GregorianCalendar} with the given date set</span>
       * in the default time zone with the default locale.
       *
<span class="line-modified">!      * @param year the value used to set the {@code YEAR} calendar field in the calendar.</span>
<span class="line-modified">!      * @param month the value used to set the {@code MONTH} calendar field in the calendar.</span>
       * Month value is 0-based. e.g., 0 for January.
<span class="line-modified">!      * @param dayOfMonth the value used to set the {@code DAY_OF_MONTH} calendar field in the calendar.</span>
       */
      public GregorianCalendar(int year, int month, int dayOfMonth) {
          this(year, month, dayOfMonth, 0, 0, 0, 0);
      }
  
      /**
<span class="line-modified">!      * Constructs a {@code GregorianCalendar} with the given date</span>
       * and time set for the default time zone with the default locale.
       *
<span class="line-modified">!      * @param year the value used to set the {@code YEAR} calendar field in the calendar.</span>
<span class="line-modified">!      * @param month the value used to set the {@code MONTH} calendar field in the calendar.</span>
       * Month value is 0-based. e.g., 0 for January.
<span class="line-modified">!      * @param dayOfMonth the value used to set the {@code DAY_OF_MONTH} calendar field in the calendar.</span>
<span class="line-modified">!      * @param hourOfDay the value used to set the {@code HOUR_OF_DAY} calendar field</span>
       * in the calendar.
<span class="line-modified">!      * @param minute the value used to set the {@code MINUTE} calendar field</span>
       * in the calendar.
       */
      public GregorianCalendar(int year, int month, int dayOfMonth, int hourOfDay,
                               int minute) {
          this(year, month, dayOfMonth, hourOfDay, minute, 0, 0);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 661,41 ***</span>
  
      /**
       * Constructs a GregorianCalendar with the given date
       * and time set for the default time zone with the default locale.
       *
<span class="line-modified">!      * @param year the value used to set the &lt;code&gt;YEAR&lt;/code&gt; calendar field in the calendar.</span>
<span class="line-modified">!      * @param month the value used to set the &lt;code&gt;MONTH&lt;/code&gt; calendar field in the calendar.</span>
       * Month value is 0-based. e.g., 0 for January.
<span class="line-modified">!      * @param dayOfMonth the value used to set the &lt;code&gt;DAY_OF_MONTH&lt;/code&gt; calendar field in the calendar.</span>
<span class="line-modified">!      * @param hourOfDay the value used to set the &lt;code&gt;HOUR_OF_DAY&lt;/code&gt; calendar field</span>
       * in the calendar.
<span class="line-modified">!      * @param minute the value used to set the &lt;code&gt;MINUTE&lt;/code&gt; calendar field</span>
       * in the calendar.
<span class="line-modified">!      * @param second the value used to set the &lt;code&gt;SECOND&lt;/code&gt; calendar field</span>
       * in the calendar.
       */
      public GregorianCalendar(int year, int month, int dayOfMonth, int hourOfDay,
                               int minute, int second) {
          this(year, month, dayOfMonth, hourOfDay, minute, second, 0);
      }
  
      /**
<span class="line-modified">!      * Constructs a &lt;code&gt;GregorianCalendar&lt;/code&gt; with the given date</span>
       * and time set for the default time zone with the default locale.
       *
<span class="line-modified">!      * @param year the value used to set the &lt;code&gt;YEAR&lt;/code&gt; calendar field in the calendar.</span>
<span class="line-modified">!      * @param month the value used to set the &lt;code&gt;MONTH&lt;/code&gt; calendar field in the calendar.</span>
       * Month value is 0-based. e.g., 0 for January.
<span class="line-modified">!      * @param dayOfMonth the value used to set the &lt;code&gt;DAY_OF_MONTH&lt;/code&gt; calendar field in the calendar.</span>
<span class="line-modified">!      * @param hourOfDay the value used to set the &lt;code&gt;HOUR_OF_DAY&lt;/code&gt; calendar field</span>
       * in the calendar.
<span class="line-modified">!      * @param minute the value used to set the &lt;code&gt;MINUTE&lt;/code&gt; calendar field</span>
       * in the calendar.
<span class="line-modified">!      * @param second the value used to set the &lt;code&gt;SECOND&lt;/code&gt; calendar field</span>
       * in the calendar.
<span class="line-modified">!      * @param millis the value used to set the &lt;code&gt;MILLISECOND&lt;/code&gt; calendar field</span>
       */
      GregorianCalendar(int year, int month, int dayOfMonth,
                        int hourOfDay, int minute, int second, int millis) {
          super();
          gdate = (BaseCalendar.Date) gcal.newCalendarDate(getZone());
<span class="line-new-header">--- 662,41 ---</span>
  
      /**
       * Constructs a GregorianCalendar with the given date
       * and time set for the default time zone with the default locale.
       *
<span class="line-modified">!      * @param year the value used to set the {@code YEAR} calendar field in the calendar.</span>
<span class="line-modified">!      * @param month the value used to set the {@code MONTH} calendar field in the calendar.</span>
       * Month value is 0-based. e.g., 0 for January.
<span class="line-modified">!      * @param dayOfMonth the value used to set the {@code DAY_OF_MONTH} calendar field in the calendar.</span>
<span class="line-modified">!      * @param hourOfDay the value used to set the {@code HOUR_OF_DAY} calendar field</span>
       * in the calendar.
<span class="line-modified">!      * @param minute the value used to set the {@code MINUTE} calendar field</span>
       * in the calendar.
<span class="line-modified">!      * @param second the value used to set the {@code SECOND} calendar field</span>
       * in the calendar.
       */
      public GregorianCalendar(int year, int month, int dayOfMonth, int hourOfDay,
                               int minute, int second) {
          this(year, month, dayOfMonth, hourOfDay, minute, second, 0);
      }
  
      /**
<span class="line-modified">!      * Constructs a {@code GregorianCalendar} with the given date</span>
       * and time set for the default time zone with the default locale.
       *
<span class="line-modified">!      * @param year the value used to set the {@code YEAR} calendar field in the calendar.</span>
<span class="line-modified">!      * @param month the value used to set the {@code MONTH} calendar field in the calendar.</span>
       * Month value is 0-based. e.g., 0 for January.
<span class="line-modified">!      * @param dayOfMonth the value used to set the {@code DAY_OF_MONTH} calendar field in the calendar.</span>
<span class="line-modified">!      * @param hourOfDay the value used to set the {@code HOUR_OF_DAY} calendar field</span>
       * in the calendar.
<span class="line-modified">!      * @param minute the value used to set the {@code MINUTE} calendar field</span>
       * in the calendar.
<span class="line-modified">!      * @param second the value used to set the {@code SECOND} calendar field</span>
       * in the calendar.
<span class="line-modified">!      * @param millis the value used to set the {@code MILLISECOND} calendar field</span>
       */
      GregorianCalendar(int year, int month, int dayOfMonth,
                        int hourOfDay, int minute, int second, int millis) {
          super();
          gdate = (BaseCalendar.Date) gcal.newCalendarDate(getZone());
</pre>
<hr />
<pre>
<span class="line-old-header">*** 742,17 ***</span>
  /////////////////
  // Public methods
  /////////////////
  
      /**
<span class="line-modified">!      * Sets the &lt;code&gt;GregorianCalendar&lt;/code&gt; change date. This is the point when the switch</span>
       * from Julian dates to Gregorian dates occurred. Default is October 15,
       * 1582 (Gregorian). Previous to this, dates will be in the Julian calendar.
       * &lt;p&gt;
       * To obtain a pure Julian calendar, set the change date to
<span class="line-modified">!      * &lt;code&gt;Date(Long.MAX_VALUE)&lt;/code&gt;.  To obtain a pure Gregorian calendar,</span>
<span class="line-modified">!      * set the change date to &lt;code&gt;Date(Long.MIN_VALUE)&lt;/code&gt;.</span>
       *
       * @param date the given Gregorian cutover date.
       */
      public void setGregorianChange(Date date) {
          long cutoverTime = date.getTime();
<span class="line-new-header">--- 743,17 ---</span>
  /////////////////
  // Public methods
  /////////////////
  
      /**
<span class="line-modified">!      * Sets the {@code GregorianCalendar} change date. This is the point when the switch</span>
       * from Julian dates to Gregorian dates occurred. Default is October 15,
       * 1582 (Gregorian). Previous to this, dates will be in the Julian calendar.
       * &lt;p&gt;
       * To obtain a pure Julian calendar, set the change date to
<span class="line-modified">!      * {@code Date(Long.MAX_VALUE)}.  To obtain a pure Gregorian calendar,</span>
<span class="line-modified">!      * set the change date to {@code Date(Long.MIN_VALUE)}.</span>
       *
       * @param date the given Gregorian cutover date.
       */
      public void setGregorianChange(Date date) {
          long cutoverTime = date.getTime();
</pre>
<hr />
<pre>
<span class="line-old-header">*** 800,24 ***</span>
       * Gets the Gregorian Calendar change date.  This is the point when the
       * switch from Julian dates to Gregorian dates occurred. Default is
       * October 15, 1582 (Gregorian). Previous to this, dates will be in the Julian
       * calendar.
       *
<span class="line-modified">!      * @return the Gregorian cutover date for this &lt;code&gt;GregorianCalendar&lt;/code&gt; object.</span>
       */
      public final Date getGregorianChange() {
          return new Date(gregorianCutover);
      }
  
      /**
<span class="line-modified">!      * Determines if the given year is a leap year. Returns &lt;code&gt;true&lt;/code&gt; if</span>
       * the given year is a leap year. To specify BC year numbers,
<span class="line-modified">!      * &lt;code&gt;1 - year number&lt;/code&gt; must be given. For example, year BC 4 is</span>
       * specified as -3.
       *
       * @param year the given year.
<span class="line-modified">!      * @return &lt;code&gt;true&lt;/code&gt; if the given year is a leap year; &lt;code&gt;false&lt;/code&gt; otherwise.</span>
       */
      public boolean isLeapYear(int year) {
          if ((year &amp; 3) != 0) {
              return false;
          }
<span class="line-new-header">--- 801,24 ---</span>
       * Gets the Gregorian Calendar change date.  This is the point when the
       * switch from Julian dates to Gregorian dates occurred. Default is
       * October 15, 1582 (Gregorian). Previous to this, dates will be in the Julian
       * calendar.
       *
<span class="line-modified">!      * @return the Gregorian cutover date for this {@code GregorianCalendar} object.</span>
       */
      public final Date getGregorianChange() {
          return new Date(gregorianCutover);
      }
  
      /**
<span class="line-modified">!      * Determines if the given year is a leap year. Returns {@code true} if</span>
       * the given year is a leap year. To specify BC year numbers,
<span class="line-modified">!      * {@code 1 - year number} must be given. For example, year BC 4 is</span>
       * specified as -3.
       *
       * @param year the given year.
<span class="line-modified">!      * @return {@code true} if the given year is a leap year; {@code false} otherwise.</span>
       */
      public boolean isLeapYear(int year) {
          if ((year &amp; 3) != 0) {
              return false;
          }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 850,63 ***</span>
      public String getCalendarType() {
          return &quot;gregory&quot;;
      }
  
      /**
<span class="line-modified">!      * Compares this &lt;code&gt;GregorianCalendar&lt;/code&gt; to the specified</span>
<span class="line-modified">!      * &lt;code&gt;Object&lt;/code&gt;. The result is &lt;code&gt;true&lt;/code&gt; if and</span>
<span class="line-modified">!      * only if the argument is a &lt;code&gt;GregorianCalendar&lt;/code&gt; object</span>
       * that represents the same time value (millisecond offset from
       * the &lt;a href=&quot;Calendar.html#Epoch&quot;&gt;Epoch&lt;/a&gt;) under the same
<span class="line-modified">!      * &lt;code&gt;Calendar&lt;/code&gt; parameters and Gregorian change date as</span>
       * this object.
       *
       * @param obj the object to compare with.
<span class="line-modified">!      * @return &lt;code&gt;true&lt;/code&gt; if this object is equal to &lt;code&gt;obj&lt;/code&gt;;</span>
<span class="line-modified">!      * &lt;code&gt;false&lt;/code&gt; otherwise.</span>
       * @see Calendar#compareTo(Calendar)
       */
      @Override
      public boolean equals(Object obj) {
          return obj instanceof GregorianCalendar &amp;&amp;
              super.equals(obj) &amp;&amp;
              gregorianCutover == ((GregorianCalendar)obj).gregorianCutover;
      }
  
      /**
<span class="line-modified">!      * Generates the hash code for this &lt;code&gt;GregorianCalendar&lt;/code&gt; object.</span>
       */
      @Override
      public int hashCode() {
          return super.hashCode() ^ (int)gregorianCutoverDate;
      }
  
      /**
       * Adds the specified (signed) amount of time to the given calendar field,
       * based on the calendar&#39;s rules.
       *
<span class="line-modified">!      * &lt;p&gt;&lt;em&gt;Add rule 1&lt;/em&gt;. The value of &lt;code&gt;field&lt;/code&gt;</span>
<span class="line-modified">!      * after the call minus the value of &lt;code&gt;field&lt;/code&gt; before the</span>
<span class="line-modified">!      * call is &lt;code&gt;amount&lt;/code&gt;, modulo any overflow that has occurred in</span>
<span class="line-modified">!      * &lt;code&gt;field&lt;/code&gt;. Overflow occurs when a field value exceeds its</span>
       * range and, as a result, the next larger field is incremented or
       * decremented and the field value is adjusted back into its range.&lt;/p&gt;
       *
       * &lt;p&gt;&lt;em&gt;Add rule 2&lt;/em&gt;. If a smaller field is expected to be
       * invariant, but it is impossible for it to be equal to its
       * prior value because of changes in its minimum or maximum after
<span class="line-modified">!      * &lt;code&gt;field&lt;/code&gt; is changed, then its value is adjusted to be as close</span>
       * as possible to its expected value. A smaller field represents a
<span class="line-modified">!      * smaller unit of time. &lt;code&gt;HOUR&lt;/code&gt; is a smaller field than</span>
<span class="line-modified">!      * &lt;code&gt;DAY_OF_MONTH&lt;/code&gt;. No adjustment is made to smaller fields</span>
       * that are not expected to be invariant. The calendar system
       * determines what fields are expected to be invariant.&lt;/p&gt;
       *
       * @param field the calendar field.
       * @param amount the amount of date or time to be added to the field.
<span class="line-modified">!      * @exception IllegalArgumentException if &lt;code&gt;field&lt;/code&gt; is</span>
<span class="line-modified">!      * &lt;code&gt;ZONE_OFFSET&lt;/code&gt;, &lt;code&gt;DST_OFFSET&lt;/code&gt;, or unknown,</span>
       * or if any calendar fields have out-of-range values in
       * non-lenient mode.
       */
      @Override
      public void add(int field, int amount) {
<span class="line-new-header">--- 851,63 ---</span>
      public String getCalendarType() {
          return &quot;gregory&quot;;
      }
  
      /**
<span class="line-modified">!      * Compares this {@code GregorianCalendar} to the specified</span>
<span class="line-modified">!      * {@code Object}. The result is {@code true} if and</span>
<span class="line-modified">!      * only if the argument is a {@code GregorianCalendar} object</span>
       * that represents the same time value (millisecond offset from
       * the &lt;a href=&quot;Calendar.html#Epoch&quot;&gt;Epoch&lt;/a&gt;) under the same
<span class="line-modified">!      * {@code Calendar} parameters and Gregorian change date as</span>
       * this object.
       *
       * @param obj the object to compare with.
<span class="line-modified">!      * @return {@code true} if this object is equal to {@code obj};</span>
<span class="line-modified">!      * {@code false} otherwise.</span>
       * @see Calendar#compareTo(Calendar)
       */
      @Override
      public boolean equals(Object obj) {
          return obj instanceof GregorianCalendar &amp;&amp;
              super.equals(obj) &amp;&amp;
              gregorianCutover == ((GregorianCalendar)obj).gregorianCutover;
      }
  
      /**
<span class="line-modified">!      * Generates the hash code for this {@code GregorianCalendar} object.</span>
       */
      @Override
      public int hashCode() {
          return super.hashCode() ^ (int)gregorianCutoverDate;
      }
  
      /**
       * Adds the specified (signed) amount of time to the given calendar field,
       * based on the calendar&#39;s rules.
       *
<span class="line-modified">!      * &lt;p&gt;&lt;em&gt;Add rule 1&lt;/em&gt;. The value of {@code field}</span>
<span class="line-modified">!      * after the call minus the value of {@code field} before the</span>
<span class="line-modified">!      * call is {@code amount}, modulo any overflow that has occurred in</span>
<span class="line-modified">!      * {@code field}. Overflow occurs when a field value exceeds its</span>
       * range and, as a result, the next larger field is incremented or
       * decremented and the field value is adjusted back into its range.&lt;/p&gt;
       *
       * &lt;p&gt;&lt;em&gt;Add rule 2&lt;/em&gt;. If a smaller field is expected to be
       * invariant, but it is impossible for it to be equal to its
       * prior value because of changes in its minimum or maximum after
<span class="line-modified">!      * {@code field} is changed, then its value is adjusted to be as close</span>
       * as possible to its expected value. A smaller field represents a
<span class="line-modified">!      * smaller unit of time. {@code HOUR} is a smaller field than</span>
<span class="line-modified">!      * {@code DAY_OF_MONTH}. No adjustment is made to smaller fields</span>
       * that are not expected to be invariant. The calendar system
       * determines what fields are expected to be invariant.&lt;/p&gt;
       *
       * @param field the calendar field.
       * @param amount the amount of date or time to be added to the field.
<span class="line-modified">!      * @throws    IllegalArgumentException if {@code field} is</span>
<span class="line-modified">!      * {@code ZONE_OFFSET}, {@code DST_OFFSET}, or unknown,</span>
       * or if any calendar fields have out-of-range values in
       * non-lenient mode.
       */
      @Override
      public void add(int field, int amount) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1091,19 ***</span>
  
      /**
       * Adds or subtracts (up/down) a single unit of time on the given time
       * field without changing larger fields.
       * &lt;p&gt;
<span class="line-modified">!      * &lt;em&gt;Example&lt;/em&gt;: Consider a &lt;code&gt;GregorianCalendar&lt;/code&gt;</span>
       * originally set to December 31, 1999. Calling {@link #roll(int,boolean) roll(Calendar.MONTH, true)}
<span class="line-modified">!      * sets the calendar to January 31, 1999.  The &lt;code&gt;YEAR&lt;/code&gt; field is unchanged</span>
<span class="line-modified">!      * because it is a larger field than &lt;code&gt;MONTH&lt;/code&gt;.&lt;/p&gt;</span>
       *
       * @param up indicates if the value of the specified calendar field is to be
<span class="line-modified">!      * rolled up or rolled down. Use &lt;code&gt;true&lt;/code&gt; if rolling up, &lt;code&gt;false&lt;/code&gt; otherwise.</span>
<span class="line-modified">!      * @exception IllegalArgumentException if &lt;code&gt;field&lt;/code&gt; is</span>
<span class="line-modified">!      * &lt;code&gt;ZONE_OFFSET&lt;/code&gt;, &lt;code&gt;DST_OFFSET&lt;/code&gt;, or unknown,</span>
       * or if any calendar fields have out-of-range values in
       * non-lenient mode.
       * @see #add(int,int)
       * @see #set(int,int)
       */
<span class="line-new-header">--- 1092,19 ---</span>
  
      /**
       * Adds or subtracts (up/down) a single unit of time on the given time
       * field without changing larger fields.
       * &lt;p&gt;
<span class="line-modified">!      * &lt;em&gt;Example&lt;/em&gt;: Consider a {@code GregorianCalendar}</span>
       * originally set to December 31, 1999. Calling {@link #roll(int,boolean) roll(Calendar.MONTH, true)}
<span class="line-modified">!      * sets the calendar to January 31, 1999.  The {@code YEAR} field is unchanged</span>
<span class="line-modified">!      * because it is a larger field than {@code MONTH}.&lt;/p&gt;</span>
       *
       * @param up indicates if the value of the specified calendar field is to be
<span class="line-modified">!      * rolled up or rolled down. Use {@code true} if rolling up, {@code false} otherwise.</span>
<span class="line-modified">!      * @throws    IllegalArgumentException if {@code field} is</span>
<span class="line-modified">!      * {@code ZONE_OFFSET}, {@code DST_OFFSET}, or unknown,</span>
       * or if any calendar fields have out-of-range values in
       * non-lenient mode.
       * @see #add(int,int)
       * @see #set(int,int)
       */
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1118,39 ***</span>
       * larger fields. If the specified amount is 0, this method performs nothing.
       *
       * &lt;p&gt;This method calls {@link #complete()} before adding the
       * amount so that all the calendar fields are normalized. If there
       * is any calendar field having an out-of-range value in non-lenient mode, then an
<span class="line-modified">!      * &lt;code&gt;IllegalArgumentException&lt;/code&gt; is thrown.</span>
       *
       * &lt;p&gt;
<span class="line-modified">!      * &lt;em&gt;Example&lt;/em&gt;: Consider a &lt;code&gt;GregorianCalendar&lt;/code&gt;</span>
       * originally set to August 31, 1999. Calling &lt;code&gt;roll(Calendar.MONTH,
       * 8)&lt;/code&gt; sets the calendar to April 30, &lt;strong&gt;1999&lt;/strong&gt;. Using a
<span class="line-modified">!      * &lt;code&gt;GregorianCalendar&lt;/code&gt;, the &lt;code&gt;DAY_OF_MONTH&lt;/code&gt; field cannot</span>
<span class="line-modified">!      * be 31 in the month April. &lt;code&gt;DAY_OF_MONTH&lt;/code&gt; is set to the closest possible</span>
<span class="line-modified">!      * value, 30. The &lt;code&gt;YEAR&lt;/code&gt; field maintains the value of 1999 because it</span>
<span class="line-modified">!      * is a larger field than &lt;code&gt;MONTH&lt;/code&gt;.</span>
       * &lt;p&gt;
<span class="line-modified">!      * &lt;em&gt;Example&lt;/em&gt;: Consider a &lt;code&gt;GregorianCalendar&lt;/code&gt;</span>
       * originally set to Sunday June 6, 1999. Calling
<span class="line-modified">!      * &lt;code&gt;roll(Calendar.WEEK_OF_MONTH, -1)&lt;/code&gt; sets the calendar to</span>
       * Tuesday June 1, 1999, whereas calling
<span class="line-modified">!      * &lt;code&gt;add(Calendar.WEEK_OF_MONTH, -1)&lt;/code&gt; sets the calendar to</span>
       * Sunday May 30, 1999. This is because the roll rule imposes an
<span class="line-modified">!      * additional constraint: The &lt;code&gt;MONTH&lt;/code&gt; must not change when the</span>
<span class="line-modified">!      * &lt;code&gt;WEEK_OF_MONTH&lt;/code&gt; is rolled. Taken together with add rule 1,</span>
       * the resultant date must be between Tuesday June 1 and Saturday June
<span class="line-modified">!      * 5. According to add rule 2, the &lt;code&gt;DAY_OF_WEEK&lt;/code&gt;, an invariant</span>
<span class="line-modified">!      * when changing the &lt;code&gt;WEEK_OF_MONTH&lt;/code&gt;, is set to Tuesday, the</span>
       * closest possible value to Sunday (where Sunday is the first day of the
       * week).&lt;/p&gt;
       *
       * @param field the calendar field.
<span class="line-modified">!      * @param amount the signed amount to add to &lt;code&gt;field&lt;/code&gt;.</span>
<span class="line-modified">!      * @exception IllegalArgumentException if &lt;code&gt;field&lt;/code&gt; is</span>
<span class="line-modified">!      * &lt;code&gt;ZONE_OFFSET&lt;/code&gt;, &lt;code&gt;DST_OFFSET&lt;/code&gt;, or unknown,</span>
       * or if any calendar fields have out-of-range values in
       * non-lenient mode.
       * @see #roll(int,boolean)
       * @see #add(int,int)
       * @see #set(int,int)
<span class="line-new-header">--- 1119,39 ---</span>
       * larger fields. If the specified amount is 0, this method performs nothing.
       *
       * &lt;p&gt;This method calls {@link #complete()} before adding the
       * amount so that all the calendar fields are normalized. If there
       * is any calendar field having an out-of-range value in non-lenient mode, then an
<span class="line-modified">!      * {@code IllegalArgumentException} is thrown.</span>
       *
       * &lt;p&gt;
<span class="line-modified">!      * &lt;em&gt;Example&lt;/em&gt;: Consider a {@code GregorianCalendar}</span>
       * originally set to August 31, 1999. Calling &lt;code&gt;roll(Calendar.MONTH,
       * 8)&lt;/code&gt; sets the calendar to April 30, &lt;strong&gt;1999&lt;/strong&gt;. Using a
<span class="line-modified">!      * {@code GregorianCalendar}, the {@code DAY_OF_MONTH} field cannot</span>
<span class="line-modified">!      * be 31 in the month April. {@code DAY_OF_MONTH} is set to the closest possible</span>
<span class="line-modified">!      * value, 30. The {@code YEAR} field maintains the value of 1999 because it</span>
<span class="line-modified">!      * is a larger field than {@code MONTH}.</span>
       * &lt;p&gt;
<span class="line-modified">!      * &lt;em&gt;Example&lt;/em&gt;: Consider a {@code GregorianCalendar}</span>
       * originally set to Sunday June 6, 1999. Calling
<span class="line-modified">!      * {@code roll(Calendar.WEEK_OF_MONTH, -1)} sets the calendar to</span>
       * Tuesday June 1, 1999, whereas calling
<span class="line-modified">!      * {@code add(Calendar.WEEK_OF_MONTH, -1)} sets the calendar to</span>
       * Sunday May 30, 1999. This is because the roll rule imposes an
<span class="line-modified">!      * additional constraint: The {@code MONTH} must not change when the</span>
<span class="line-modified">!      * {@code WEEK_OF_MONTH} is rolled. Taken together with add rule 1,</span>
       * the resultant date must be between Tuesday June 1 and Saturday June
<span class="line-modified">!      * 5. According to add rule 2, the {@code DAY_OF_WEEK}, an invariant</span>
<span class="line-modified">!      * when changing the {@code WEEK_OF_MONTH}, is set to Tuesday, the</span>
       * closest possible value to Sunday (where Sunday is the first day of the
       * week).&lt;/p&gt;
       *
       * @param field the calendar field.
<span class="line-modified">!      * @param amount the signed amount to add to {@code field}.</span>
<span class="line-modified">!      * @throws    IllegalArgumentException if {@code field} is</span>
<span class="line-modified">!      * {@code ZONE_OFFSET}, {@code DST_OFFSET}, or unknown,</span>
       * or if any calendar fields have out-of-range values in
       * non-lenient mode.
       * @see #roll(int,boolean)
       * @see #add(int,int)
       * @see #set(int,int)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1509,11 ***</span>
          set(field, getRolledValue(internalGet(field), amount, min, max));
      }
  
      /**
       * Returns the minimum value for the given calendar field of this
<span class="line-modified">!      * &lt;code&gt;GregorianCalendar&lt;/code&gt; instance. The minimum value is</span>
       * defined as the smallest value returned by the {@link
       * Calendar#get(int) get} method for any possible time value,
       * taking into consideration the current values of the
       * {@link Calendar#getFirstDayOfWeek() getFirstDayOfWeek},
       * {@link Calendar#getMinimalDaysInFirstWeek() getMinimalDaysInFirstWeek},
<span class="line-new-header">--- 1510,11 ---</span>
          set(field, getRolledValue(internalGet(field), amount, min, max));
      }
  
      /**
       * Returns the minimum value for the given calendar field of this
<span class="line-modified">!      * {@code GregorianCalendar} instance. The minimum value is</span>
       * defined as the smallest value returned by the {@link
       * Calendar#get(int) get} method for any possible time value,
       * taking into consideration the current values of the
       * {@link Calendar#getFirstDayOfWeek() getFirstDayOfWeek},
       * {@link Calendar#getMinimalDaysInFirstWeek() getMinimalDaysInFirstWeek},
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1533,11 ***</span>
          return MIN_VALUES[field];
      }
  
      /**
       * Returns the maximum value for the given calendar field of this
<span class="line-modified">!      * &lt;code&gt;GregorianCalendar&lt;/code&gt; instance. The maximum value is</span>
       * defined as the largest value returned by the {@link
       * Calendar#get(int) get} method for any possible time value,
       * taking into consideration the current values of the
       * {@link Calendar#getFirstDayOfWeek() getFirstDayOfWeek},
       * {@link Calendar#getMinimalDaysInFirstWeek() getMinimalDaysInFirstWeek},
<span class="line-new-header">--- 1534,11 ---</span>
          return MIN_VALUES[field];
      }
  
      /**
       * Returns the maximum value for the given calendar field of this
<span class="line-modified">!      * {@code GregorianCalendar} instance. The maximum value is</span>
       * defined as the largest value returned by the {@link
       * Calendar#get(int) get} method for any possible time value,
       * taking into consideration the current values of the
       * {@link Calendar#getFirstDayOfWeek() getFirstDayOfWeek},
       * {@link Calendar#getMinimalDaysInFirstWeek() getMinimalDaysInFirstWeek},
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1582,11 ***</span>
          return MAX_VALUES[field];
      }
  
      /**
       * Returns the highest minimum value for the given calendar field
<span class="line-modified">!      * of this &lt;code&gt;GregorianCalendar&lt;/code&gt; instance. The highest</span>
       * minimum value is defined as the largest value returned by
       * {@link #getActualMinimum(int)} for any possible time value,
       * taking into consideration the current values of the
       * {@link Calendar#getFirstDayOfWeek() getFirstDayOfWeek},
       * {@link Calendar#getMinimalDaysInFirstWeek() getMinimalDaysInFirstWeek},
<span class="line-new-header">--- 1583,11 ---</span>
          return MAX_VALUES[field];
      }
  
      /**
       * Returns the highest minimum value for the given calendar field
<span class="line-modified">!      * of this {@code GregorianCalendar} instance. The highest</span>
       * minimum value is defined as the largest value returned by
       * {@link #getActualMinimum(int)} for any possible time value,
       * taking into consideration the current values of the
       * {@link Calendar#getFirstDayOfWeek() getFirstDayOfWeek},
       * {@link Calendar#getMinimalDaysInFirstWeek() getMinimalDaysInFirstWeek},
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1612,11 ***</span>
          return MIN_VALUES[field];
      }
  
      /**
       * Returns the lowest maximum value for the given calendar field
<span class="line-modified">!      * of this &lt;code&gt;GregorianCalendar&lt;/code&gt; instance. The lowest</span>
       * maximum value is defined as the smallest value returned by
       * {@link #getActualMaximum(int)} for any possible time value,
       * taking into consideration the current values of the
       * {@link Calendar#getFirstDayOfWeek() getFirstDayOfWeek},
       * {@link Calendar#getMinimalDaysInFirstWeek() getMinimalDaysInFirstWeek},
<span class="line-new-header">--- 1613,11 ---</span>
          return MIN_VALUES[field];
      }
  
      /**
       * Returns the lowest maximum value for the given calendar field
<span class="line-modified">!      * of this {@code GregorianCalendar} instance. The lowest</span>
       * maximum value is defined as the smallest value returned by
       * {@link #getActualMaximum(int)} for any possible time value,
       * taking into consideration the current values of the
       * {@link Calendar#getFirstDayOfWeek() getFirstDayOfWeek},
       * {@link Calendar#getMinimalDaysInFirstWeek() getMinimalDaysInFirstWeek},
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1662,20 ***</span>
       * {@link Calendar#getMinimalDaysInFirstWeek() getMinimalDaysInFirstWeek},
       * {@link #getGregorianChange() getGregorianChange} and
       * {@link Calendar#getTimeZone() getTimeZone} methods.
       *
       * &lt;p&gt;For example, if the Gregorian change date is January 10,
<span class="line-modified">!      * 1970 and the date of this &lt;code&gt;GregorianCalendar&lt;/code&gt; is</span>
       * January 20, 1970, the actual minimum value of the
<span class="line-modified">!      * &lt;code&gt;DAY_OF_MONTH&lt;/code&gt; field is 10 because the previous date</span>
       * of January 10, 1970 is December 27, 1996 (in the Julian
       * calendar). Therefore, December 28, 1969 to January 9, 1970
       * don&#39;t exist.
       *
       * @param field the calendar field
       * @return the minimum of the given field for the time value of
<span class="line-modified">!      * this &lt;code&gt;GregorianCalendar&lt;/code&gt;</span>
       * @see #getMinimum(int)
       * @see #getMaximum(int)
       * @see #getGreatestMinimum(int)
       * @see #getLeastMaximum(int)
       * @see #getActualMaximum(int)
<span class="line-new-header">--- 1663,20 ---</span>
       * {@link Calendar#getMinimalDaysInFirstWeek() getMinimalDaysInFirstWeek},
       * {@link #getGregorianChange() getGregorianChange} and
       * {@link Calendar#getTimeZone() getTimeZone} methods.
       *
       * &lt;p&gt;For example, if the Gregorian change date is January 10,
<span class="line-modified">!      * 1970 and the date of this {@code GregorianCalendar} is</span>
       * January 20, 1970, the actual minimum value of the
<span class="line-modified">!      * {@code DAY_OF_MONTH} field is 10 because the previous date</span>
       * of January 10, 1970 is December 27, 1996 (in the Julian
       * calendar). Therefore, December 28, 1969 to January 9, 1970
       * don&#39;t exist.
       *
       * @param field the calendar field
       * @return the minimum of the given field for the time value of
<span class="line-modified">!      * this {@code GregorianCalendar}</span>
       * @see #getMinimum(int)
       * @see #getMaximum(int)
       * @see #getGreatestMinimum(int)
       * @see #getLeastMaximum(int)
       * @see #getActualMaximum(int)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1702,11 ***</span>
       * {@link Calendar#getFirstDayOfWeek() getFirstDayOfWeek},
       * {@link Calendar#getMinimalDaysInFirstWeek() getMinimalDaysInFirstWeek},
       * {@link #getGregorianChange() getGregorianChange} and
       * {@link Calendar#getTimeZone() getTimeZone} methods.
       * For example, if the date of this instance is February 1, 2004,
<span class="line-modified">!      * the actual maximum value of the &lt;code&gt;DAY_OF_MONTH&lt;/code&gt; field</span>
       * is 29 because 2004 is a leap year, and if the date of this
       * instance is February 1, 2005, it&#39;s 28.
       *
       * &lt;p&gt;This method calculates the maximum value of {@link
       * Calendar#WEEK_OF_YEAR WEEK_OF_YEAR} based on the {@link
<span class="line-new-header">--- 1703,11 ---</span>
       * {@link Calendar#getFirstDayOfWeek() getFirstDayOfWeek},
       * {@link Calendar#getMinimalDaysInFirstWeek() getMinimalDaysInFirstWeek},
       * {@link #getGregorianChange() getGregorianChange} and
       * {@link Calendar#getTimeZone() getTimeZone} methods.
       * For example, if the date of this instance is February 1, 2004,
<span class="line-modified">!      * the actual maximum value of the {@code DAY_OF_MONTH} field</span>
       * is 29 because 2004 is a leap year, and if the date of this
       * instance is February 1, 2005, it&#39;s 28.
       *
       * &lt;p&gt;This method calculates the maximum value of {@link
       * Calendar#WEEK_OF_YEAR WEEK_OF_YEAR} based on the {@link
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1715,11 ***</span>
       * #getWeeksInWeekYear()} to get the maximum value of {@code
       * WEEK_OF_YEAR} in the week year of this {@code GregorianCalendar}.
       *
       * @param field the calendar field
       * @return the maximum of the given field for the time value of
<span class="line-modified">!      * this &lt;code&gt;GregorianCalendar&lt;/code&gt;</span>
       * @see #getMinimum(int)
       * @see #getMaximum(int)
       * @see #getGreatestMinimum(int)
       * @see #getLeastMaximum(int)
       * @see #getActualMinimum(int)
<span class="line-new-header">--- 1716,11 ---</span>
       * #getWeeksInWeekYear()} to get the maximum value of {@code
       * WEEK_OF_YEAR} in the week year of this {@code GregorianCalendar}.
       *
       * @param field the calendar field
       * @return the maximum of the given field for the time value of
<span class="line-modified">!      * this {@code GregorianCalendar}</span>
       * @see #getMinimum(int)
       * @see #getMaximum(int)
       * @see #getGreatestMinimum(int)
       * @see #getLeastMaximum(int)
       * @see #getActualMinimum(int)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2180,11 ***</span>
       * @param weekOfYear  the week number based on {@code weekYear}
       * @param dayOfWeek   the day of week value: one of the constants
       *                    for the {@link #DAY_OF_WEEK DAY_OF_WEEK} field:
       *                    {@link Calendar#SUNDAY SUNDAY}, ...,
       *                    {@link Calendar#SATURDAY SATURDAY}.
<span class="line-modified">!      * @exception IllegalArgumentException</span>
       *            if any of the given date specifiers is invalid,
       *            or if any of the calendar fields are inconsistent
       *            with the given date specifiers in non-lenient mode
       * @see GregorianCalendar#isWeekDateSupported()
       * @see Calendar#getFirstDayOfWeek()
<span class="line-new-header">--- 2181,11 ---</span>
       * @param weekOfYear  the week number based on {@code weekYear}
       * @param dayOfWeek   the day of week value: one of the constants
       *                    for the {@link #DAY_OF_WEEK DAY_OF_WEEK} field:
       *                    {@link Calendar#SUNDAY SUNDAY}, ...,
       *                    {@link Calendar#SATURDAY SATURDAY}.
<span class="line-modified">!      * @throws    IllegalArgumentException</span>
       *            if any of the given date specifiers is invalid,
       *            or if any of the calendar fields are inconsistent
       *            with the given date specifiers in non-lenient mode
       * @see GregorianCalendar#isWeekDateSupported()
       * @see Calendar#getFirstDayOfWeek()
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2284,11 ***</span>
      /**
       * Converts the time value (millisecond offset from the &lt;a
       * href=&quot;Calendar.html#Epoch&quot;&gt;Epoch&lt;/a&gt;) to calendar field values.
       * The time is &lt;em&gt;not&lt;/em&gt;
       * recomputed first; to recompute the time, then the fields, call the
<span class="line-modified">!      * &lt;code&gt;complete&lt;/code&gt; method.</span>
       *
       * @see Calendar#complete
       */
      @Override
      protected void computeFields() {
<span class="line-new-header">--- 2285,11 ---</span>
      /**
       * Converts the time value (millisecond offset from the &lt;a
       * href=&quot;Calendar.html#Epoch&quot;&gt;Epoch&lt;/a&gt;) to calendar field values.
       * The time is &lt;em&gt;not&lt;/em&gt;
       * recomputed first; to recompute the time, then the fields, call the
<span class="line-modified">!      * {@code complete} method.</span>
       *
       * @see Calendar#complete
       */
      @Override
      protected void computeFields() {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2623,11 ***</span>
  
      /**
       * Converts calendar field values to the time value (millisecond
       * offset from the &lt;a href=&quot;Calendar.html#Epoch&quot;&gt;Epoch&lt;/a&gt;).
       *
<span class="line-modified">!      * @exception IllegalArgumentException if any calendar fields are invalid.</span>
       */
      @Override
      protected void computeTime() {
          // In non-lenient mode, perform brief checking of calendar
          // fields which have been set externally. Through this
<span class="line-new-header">--- 2624,11 ---</span>
  
      /**
       * Converts calendar field values to the time value (millisecond
       * offset from the &lt;a href=&quot;Calendar.html#Epoch&quot;&gt;Epoch&lt;/a&gt;).
       *
<span class="line-modified">!      * @throws    IllegalArgumentException if any calendar fields are invalid.</span>
       */
      @Override
      protected void computeTime() {
          // In non-lenient mode, perform brief checking of calendar
          // fields which have been set externally. Through this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 3227,10 ***</span>
<span class="line-new-header">--- 3228,11 ---</span>
      }
  
      /**
       * Updates internal state.
       */
<span class="line-added">+     @java.io.Serial</span>
      private void readObject(ObjectInputStream stream)
              throws IOException, ClassNotFoundException {
          stream.defaultReadObject();
          if (gdate == null) {
              gdate = (BaseCalendar.Date) gcal.newCalendarDate(getZone());
</pre>
<hr />
<pre>
<span class="line-old-header">*** 3275,12 ***</span>
       * exception.
       *
       * @param zdt  the zoned date-time object to convert
       * @return  the gregorian calendar representing the same point on the
       *  time-line as the zoned date-time provided
<span class="line-modified">!      * @exception NullPointerException if {@code zdt} is null</span>
<span class="line-modified">!      * @exception IllegalArgumentException if the zoned date-time is too</span>
       * large to represent as a {@code GregorianCalendar}
       * @since 1.8
       */
      public static GregorianCalendar from(ZonedDateTime zdt) {
          GregorianCalendar cal = new GregorianCalendar(TimeZone.getTimeZone(zdt.getZone()));
<span class="line-new-header">--- 3277,12 ---</span>
       * exception.
       *
       * @param zdt  the zoned date-time object to convert
       * @return  the gregorian calendar representing the same point on the
       *  time-line as the zoned date-time provided
<span class="line-modified">!      * @throws    NullPointerException if {@code zdt} is null</span>
<span class="line-modified">!      * @throws    IllegalArgumentException if the zoned date-time is too</span>
       * large to represent as a {@code GregorianCalendar}
       * @since 1.8
       */
      public static GregorianCalendar from(ZonedDateTime zdt) {
          GregorianCalendar cal = new GregorianCalendar(TimeZone.getTimeZone(zdt.getZone()));
</pre>
<center><a href="FormatterClosedException.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="HashMap.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>