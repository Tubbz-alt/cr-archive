<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/time/MonthDay.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="LocalTime.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="OffsetDateTime.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/time/MonthDay.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2012, 2018, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
113  * to be accurate will find the ISO-8601 approach unsuitable.
114  *
115  * &lt;p&gt;
116  * This is a &lt;a href=&quot;{@docRoot}/java.base/java/lang/doc-files/ValueBased.html&quot;&gt;value-based&lt;/a&gt;
117  * class; use of identity-sensitive operations (including reference equality
118  * ({@code ==}), identity hash code, or synchronization) on instances of
119  * {@code MonthDay} may have unpredictable results and should be avoided.
120  * The {@code equals} method should be used for comparisons.
121  *
122  * @implSpec
123  * This class is immutable and thread-safe.
124  *
125  * @since 1.8
126  */
127 public final class MonthDay
128         implements TemporalAccessor, TemporalAdjuster, Comparable&lt;MonthDay&gt;, Serializable {
129 
130     /**
131      * Serialization version.
132      */

133     private static final long serialVersionUID = -939150713474957432L;
134     /**
135      * Parser.
136      */
137     private static final DateTimeFormatter PARSER = new DateTimeFormatterBuilder()
138         .appendLiteral(&quot;--&quot;)
139         .appendValue(MONTH_OF_YEAR, 2)
140         .appendLiteral(&#39;-&#39;)
141         .appendValue(DAY_OF_MONTH, 2)
142         .toFormatter();
143 
144     /**
145      * The month-of-year, not null.
146      */
147     private final int month;
148     /**
149      * The day-of-month.
150      */
151     private final int day;
152 
</pre>
<hr />
<pre>
747     public String toString() {
748         return new StringBuilder(10).append(&quot;--&quot;)
749             .append(month &lt; 10 ? &quot;0&quot; : &quot;&quot;).append(month)
750             .append(day &lt; 10 ? &quot;-0&quot; : &quot;-&quot;).append(day)
751             .toString();
752     }
753 
754     //-----------------------------------------------------------------------
755     /**
756      * Writes the object using a
757      * &lt;a href=&quot;{@docRoot}/serialized-form.html#java.time.Ser&quot;&gt;dedicated serialized form&lt;/a&gt;.
758      * @serialData
759      * &lt;pre&gt;
760      *  out.writeByte(13);  // identifies a MonthDay
761      *  out.writeByte(month);
762      *  out.writeByte(day);
763      * &lt;/pre&gt;
764      *
765      * @return the instance of {@code Ser}, not null
766      */

767     private Object writeReplace() {
768         return new Ser(Ser.MONTH_DAY_TYPE, this);
769     }
770 
771     /**
772      * Defend against malicious streams.
773      *
774      * @param s the stream to read
775      * @throws InvalidObjectException always
776      */

777     private void readObject(ObjectInputStream s) throws InvalidObjectException {
778         throw new InvalidObjectException(&quot;Deserialization via serialization delegate&quot;);
779     }
780 
781     void writeExternal(DataOutput out) throws IOException {
782         out.writeByte(month);
783         out.writeByte(day);
784     }
785 
786     static MonthDay readExternal(DataInput in) throws IOException {
787         byte month = in.readByte();
788         byte day = in.readByte();
789         return MonthDay.of(month, day);
790     }
791 
792 }
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2012, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
113  * to be accurate will find the ISO-8601 approach unsuitable.
114  *
115  * &lt;p&gt;
116  * This is a &lt;a href=&quot;{@docRoot}/java.base/java/lang/doc-files/ValueBased.html&quot;&gt;value-based&lt;/a&gt;
117  * class; use of identity-sensitive operations (including reference equality
118  * ({@code ==}), identity hash code, or synchronization) on instances of
119  * {@code MonthDay} may have unpredictable results and should be avoided.
120  * The {@code equals} method should be used for comparisons.
121  *
122  * @implSpec
123  * This class is immutable and thread-safe.
124  *
125  * @since 1.8
126  */
127 public final class MonthDay
128         implements TemporalAccessor, TemporalAdjuster, Comparable&lt;MonthDay&gt;, Serializable {
129 
130     /**
131      * Serialization version.
132      */
<span class="line-added">133     @java.io.Serial</span>
134     private static final long serialVersionUID = -939150713474957432L;
135     /**
136      * Parser.
137      */
138     private static final DateTimeFormatter PARSER = new DateTimeFormatterBuilder()
139         .appendLiteral(&quot;--&quot;)
140         .appendValue(MONTH_OF_YEAR, 2)
141         .appendLiteral(&#39;-&#39;)
142         .appendValue(DAY_OF_MONTH, 2)
143         .toFormatter();
144 
145     /**
146      * The month-of-year, not null.
147      */
148     private final int month;
149     /**
150      * The day-of-month.
151      */
152     private final int day;
153 
</pre>
<hr />
<pre>
748     public String toString() {
749         return new StringBuilder(10).append(&quot;--&quot;)
750             .append(month &lt; 10 ? &quot;0&quot; : &quot;&quot;).append(month)
751             .append(day &lt; 10 ? &quot;-0&quot; : &quot;-&quot;).append(day)
752             .toString();
753     }
754 
755     //-----------------------------------------------------------------------
756     /**
757      * Writes the object using a
758      * &lt;a href=&quot;{@docRoot}/serialized-form.html#java.time.Ser&quot;&gt;dedicated serialized form&lt;/a&gt;.
759      * @serialData
760      * &lt;pre&gt;
761      *  out.writeByte(13);  // identifies a MonthDay
762      *  out.writeByte(month);
763      *  out.writeByte(day);
764      * &lt;/pre&gt;
765      *
766      * @return the instance of {@code Ser}, not null
767      */
<span class="line-added">768     @java.io.Serial</span>
769     private Object writeReplace() {
770         return new Ser(Ser.MONTH_DAY_TYPE, this);
771     }
772 
773     /**
774      * Defend against malicious streams.
775      *
776      * @param s the stream to read
777      * @throws InvalidObjectException always
778      */
<span class="line-added">779     @java.io.Serial</span>
780     private void readObject(ObjectInputStream s) throws InvalidObjectException {
781         throw new InvalidObjectException(&quot;Deserialization via serialization delegate&quot;);
782     }
783 
784     void writeExternal(DataOutput out) throws IOException {
785         out.writeByte(month);
786         out.writeByte(day);
787     }
788 
789     static MonthDay readExternal(DataInput in) throws IOException {
790         byte month = in.readByte();
791         byte day = in.readByte();
792         return MonthDay.of(month, day);
793     }
794 
795 }
</pre>
</td>
</tr>
</table>
<center><a href="LocalTime.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="OffsetDateTime.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>