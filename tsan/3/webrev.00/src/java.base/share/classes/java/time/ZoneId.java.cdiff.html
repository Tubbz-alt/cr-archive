<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/java/time/ZoneId.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="YearMonth.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="ZoneOffset.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/time/ZoneId.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 2012, 2018, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 2012, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 109,11 ***</span>
   * The distinction has other effects. Serializing the {@code ZoneId} will only send
   * the ID, whereas serializing the rules sends the entire data set.
   * Similarly, a comparison of two IDs only examines the ID, whereas
   * a comparison of two rules examines the entire data set.
   *
<span class="line-modified">!  * &lt;h3&gt;Time-zone IDs&lt;/h3&gt;</span>
   * The ID is unique within the system.
   * There are three types of ID.
   * &lt;p&gt;
   * The simplest type of ID is that from {@code ZoneOffset}.
   * This consists of &#39;Z&#39; and IDs starting with &#39;+&#39; or &#39;-&#39;.
<span class="line-new-header">--- 109,11 ---</span>
   * The distinction has other effects. Serializing the {@code ZoneId} will only send
   * the ID, whereas serializing the rules sends the entire data set.
   * Similarly, a comparison of two IDs only examines the ID, whereas
   * a comparison of two rules examines the entire data set.
   *
<span class="line-modified">!  * &lt;h2&gt;Time-zone IDs&lt;/h2&gt;</span>
   * The ID is unique within the system.
   * There are three types of ID.
   * &lt;p&gt;
   * The simplest type of ID is that from {@code ZoneOffset}.
   * This consists of &#39;Z&#39; and IDs starting with &#39;+&#39; or &#39;-&#39;.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 145,11 ***</span>
   * region IDs are typically the same as the three letter airport code.
   * However, the airport of Utrecht has the code &#39;UTC&#39;, which is obviously a conflict.
   * The recommended format for region IDs from groups other than TZDB is &#39;group~region&#39;.
   * Thus if IATA data were defined, Utrecht airport would be &#39;IATA~UTC&#39;.
   *
<span class="line-modified">!  * &lt;h3&gt;Serialization&lt;/h3&gt;</span>
   * This class can be serialized and stores the string zone ID in the external form.
   * The {@code ZoneOffset} subclass uses a dedicated format that only stores the
   * offset from UTC/Greenwich.
   * &lt;p&gt;
   * A {@code ZoneId} can be deserialized in a Java Runtime where the ID is unknown.
<span class="line-new-header">--- 145,11 ---</span>
   * region IDs are typically the same as the three letter airport code.
   * However, the airport of Utrecht has the code &#39;UTC&#39;, which is obviously a conflict.
   * The recommended format for region IDs from groups other than TZDB is &#39;group~region&#39;.
   * Thus if IATA data were defined, Utrecht airport would be &#39;IATA~UTC&#39;.
   *
<span class="line-modified">!  * &lt;h2&gt;Serialization&lt;/h2&gt;</span>
   * This class can be serialized and stores the string zone ID in the external form.
   * The {@code ZoneOffset} subclass uses a dedicated format that only stores the
   * offset from UTC/Greenwich.
   * &lt;p&gt;
   * A {@code ZoneId} can be deserialized in a Java Runtime where the ID is unknown.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 252,10 ***</span>
<span class="line-new-header">--- 252,11 ---</span>
          entry(&quot;HST&quot;, &quot;-10:00&quot;)
      );
      /**
       * Serialization version.
       */
<span class="line-added">+     @java.io.Serial</span>
      private static final long serialVersionUID = 8352817235686L;
  
      //-----------------------------------------------------------------------
      /**
       * Gets the system default time-zone.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 336,11 ***</span>
       *  The result will be a {@code ZoneId} with the specified UTC/GMT/UT prefix
       *  and the normalized offset ID as per {@link ZoneOffset#getId()}.
       *  The rules of the returned {@code ZoneId} will be equivalent to the
       *  parsed {@code ZoneOffset}.
       * &lt;li&gt;All other IDs are parsed as region-based zone IDs. Region IDs must
<span class="line-modified">!      *  match the regular expression &lt;code&gt;[A-Za-z][A-Za-z0-9~/._+-]+&lt;/code&gt;</span>
       *  otherwise a {@code DateTimeException} is thrown. If the zone ID is not
       *  in the configured set of IDs, {@code ZoneRulesException} is thrown.
       *  The detailed format of the region ID depends on the group supplying the data.
       *  The default set of data is supplied by the IANA Time Zone Database (TZDB).
       *  This has region IDs of the form &#39;{area}/{city}&#39;, such as &#39;Europe/Paris&#39; or &#39;America/New_York&#39;.
<span class="line-new-header">--- 337,11 ---</span>
       *  The result will be a {@code ZoneId} with the specified UTC/GMT/UT prefix
       *  and the normalized offset ID as per {@link ZoneOffset#getId()}.
       *  The rules of the returned {@code ZoneId} will be equivalent to the
       *  parsed {@code ZoneOffset}.
       * &lt;li&gt;All other IDs are parsed as region-based zone IDs. Region IDs must
<span class="line-modified">!      *  match the regular expression {@code [A-Za-z][A-Za-z0-9~/._+-]+}</span>
       *  otherwise a {@code DateTimeException} is thrown. If the zone ID is not
       *  in the configured set of IDs, {@code ZoneRulesException} is thrown.
       *  The detailed format of the region ID depends on the group supplying the data.
       *  The default set of data is supplied by the IANA Time Zone Database (TZDB).
       *  This has region IDs of the form &#39;{area}/{city}&#39;, such as &#39;Europe/Paris&#39; or &#39;America/New_York&#39;.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 622,10 ***</span>
<span class="line-new-header">--- 623,11 ---</span>
       * Defend against malicious streams.
       *
       * @param s the stream to read
       * @throws InvalidObjectException always
       */
<span class="line-added">+     @java.io.Serial</span>
      private void readObject(ObjectInputStream s) throws InvalidObjectException {
          throw new InvalidObjectException(&quot;Deserialization via serialization delegate&quot;);
      }
  
      /**
</pre>
<hr />
<pre>
<span class="line-old-header">*** 653,10 ***</span>
<span class="line-new-header">--- 655,11 ---</span>
       * ID has a valid format, but is not in the known set of region-based IDs.
       *
       * @return the instance of {@code Ser}, not null
       */
      // this is here for serialization Javadoc
<span class="line-added">+     @java.io.Serial</span>
      private Object writeReplace() {
          return new Ser(Ser.ZONE_REGION_TYPE, this);
      }
  
      abstract void write(DataOutput out) throws IOException;
</pre>
<center><a href="YearMonth.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="ZoneOffset.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>