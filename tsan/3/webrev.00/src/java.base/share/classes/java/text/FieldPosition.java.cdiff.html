<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/java/text/FieldPosition.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="DigitList.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="Format.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/text/FieldPosition.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 1996, 2013, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 1996, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 37,37 ***</span>
   */
  
  package java.text;
  
  /**
<span class="line-modified">!  * &lt;code&gt;FieldPosition&lt;/code&gt; is a simple class used by &lt;code&gt;Format&lt;/code&gt;</span>
   * and its subclasses to identify fields in formatted output. Fields can
   * be identified in two ways:
   * &lt;ul&gt;
   *  &lt;li&gt;By an integer constant, whose names typically end with
<span class="line-modified">!  *      &lt;code&gt;_FIELD&lt;/code&gt;. The constants are defined in the various</span>
<span class="line-modified">!  *      subclasses of &lt;code&gt;Format&lt;/code&gt;.</span>
<span class="line-modified">!  *  &lt;li&gt;By a &lt;code&gt;Format.Field&lt;/code&gt; constant, see &lt;code&gt;ERA_FIELD&lt;/code&gt;</span>
<span class="line-modified">!  *      and its friends in &lt;code&gt;DateFormat&lt;/code&gt; for an example.</span>
   * &lt;/ul&gt;
   * &lt;p&gt;
<span class="line-modified">!  * &lt;code&gt;FieldPosition&lt;/code&gt; keeps track of the position of the</span>
   * field within the formatted output with two indices: the index
   * of the first character of the field and the index of the last
   * character of the field.
   *
   * &lt;p&gt;
<span class="line-modified">!  * One version of the &lt;code&gt;format&lt;/code&gt; method in the various</span>
<span class="line-modified">!  * &lt;code&gt;Format&lt;/code&gt; classes requires a &lt;code&gt;FieldPosition&lt;/code&gt;</span>
<span class="line-modified">!  * object as an argument. You use this &lt;code&gt;format&lt;/code&gt; method</span>
   * to perform partial formatting or to get information about the
   * formatted output (such as the position of a field).
   *
   * &lt;p&gt;
   * If you are interested in the positions of all attributes in the
<span class="line-modified">!  * formatted string use the &lt;code&gt;Format&lt;/code&gt; method</span>
<span class="line-modified">!  * &lt;code&gt;formatToCharacterIterator&lt;/code&gt;.</span>
   *
   * @author      Mark Davis
   * @since 1.1
   * @see         java.text.Format
   */
<span class="line-new-header">--- 37,37 ---</span>
   */
  
  package java.text;
  
  /**
<span class="line-modified">!  * {@code FieldPosition} is a simple class used by {@code Format}</span>
   * and its subclasses to identify fields in formatted output. Fields can
   * be identified in two ways:
   * &lt;ul&gt;
   *  &lt;li&gt;By an integer constant, whose names typically end with
<span class="line-modified">!  *      {@code _FIELD}. The constants are defined in the various</span>
<span class="line-modified">!  *      subclasses of {@code Format}.</span>
<span class="line-modified">!  *  &lt;li&gt;By a {@code Format.Field} constant, see {@code ERA_FIELD}</span>
<span class="line-modified">!  *      and its friends in {@code DateFormat} for an example.</span>
   * &lt;/ul&gt;
   * &lt;p&gt;
<span class="line-modified">!  * {@code FieldPosition} keeps track of the position of the</span>
   * field within the formatted output with two indices: the index
   * of the first character of the field and the index of the last
   * character of the field.
   *
   * &lt;p&gt;
<span class="line-modified">!  * One version of the {@code format} method in the various</span>
<span class="line-modified">!  * {@code Format} classes requires a {@code FieldPosition}</span>
<span class="line-modified">!  * object as an argument. You use this {@code format} method</span>
   * to perform partial formatting or to get information about the
   * formatted output (such as the position of a field).
   *
   * &lt;p&gt;
   * If you are interested in the positions of all attributes in the
<span class="line-modified">!  * formatted string use the {@code Format} method</span>
<span class="line-modified">!  * {@code formatToCharacterIterator}.</span>
   *
   * @author      Mark Davis
   * @since 1.1
   * @see         java.text.Format
   */
</pre>
<hr />
<pre>
<span class="line-old-header">*** 111,32 ***</span>
          this.field = field;
      }
  
      /**
       * Creates a FieldPosition object for the given field constant. Fields are
<span class="line-modified">!      * identified by constants defined in the various &lt;code&gt;Format&lt;/code&gt;</span>
       * subclasses. This is equivalent to calling
<span class="line-modified">!      * &lt;code&gt;new FieldPosition(attribute, -1)&lt;/code&gt;.</span>
       *
       * @param attribute Format.Field constant identifying a field
       * @since 1.4
       */
      public FieldPosition(Format.Field attribute) {
          this(attribute, -1);
      }
  
      /**
<span class="line-modified">!      * Creates a &lt;code&gt;FieldPosition&lt;/code&gt; object for the given field.</span>
       * The field is identified by an attribute constant from one of the
<span class="line-modified">!      * &lt;code&gt;Field&lt;/code&gt; subclasses as well as an integer field ID</span>
<span class="line-modified">!      * defined by the &lt;code&gt;Format&lt;/code&gt; subclasses. &lt;code&gt;Format&lt;/code&gt;</span>
<span class="line-modified">!      * subclasses that are aware of &lt;code&gt;Field&lt;/code&gt; should give precedence</span>
<span class="line-modified">!      * to &lt;code&gt;attribute&lt;/code&gt; and ignore &lt;code&gt;fieldID&lt;/code&gt; if</span>
<span class="line-modified">!      * &lt;code&gt;attribute&lt;/code&gt; is not null. However, older &lt;code&gt;Format&lt;/code&gt;</span>
<span class="line-modified">!      * subclasses may not be aware of &lt;code&gt;Field&lt;/code&gt; and rely on</span>
<span class="line-modified">!      * &lt;code&gt;fieldID&lt;/code&gt;. If the field has no corresponding integer</span>
<span class="line-modified">!      * constant, &lt;code&gt;fieldID&lt;/code&gt; should be -1.</span>
       *
       * @param attribute Format.Field constant identifying a field
       * @param fieldID integer constant identifying a field
       * @since 1.4
       */
<span class="line-new-header">--- 111,32 ---</span>
          this.field = field;
      }
  
      /**
       * Creates a FieldPosition object for the given field constant. Fields are
<span class="line-modified">!      * identified by constants defined in the various {@code Format}</span>
       * subclasses. This is equivalent to calling
<span class="line-modified">!      * {@code new FieldPosition(attribute, -1)}.</span>
       *
       * @param attribute Format.Field constant identifying a field
       * @since 1.4
       */
      public FieldPosition(Format.Field attribute) {
          this(attribute, -1);
      }
  
      /**
<span class="line-modified">!      * Creates a {@code FieldPosition} object for the given field.</span>
       * The field is identified by an attribute constant from one of the
<span class="line-modified">!      * {@code Field} subclasses as well as an integer field ID</span>
<span class="line-modified">!      * defined by the {@code Format} subclasses. {@code Format}</span>
<span class="line-modified">!      * subclasses that are aware of {@code Field} should give precedence</span>
<span class="line-modified">!      * to {@code attribute} and ignore {@code fieldID} if</span>
<span class="line-modified">!      * {@code attribute} is not null. However, older {@code Format}</span>
<span class="line-modified">!      * subclasses may not be aware of {@code Field} and rely on</span>
<span class="line-modified">!      * {@code fieldID}. If the field has no corresponding integer</span>
<span class="line-modified">!      * constant, {@code fieldID} should be -1.</span>
       *
       * @param attribute Format.Field constant identifying a field
       * @param fieldID integer constant identifying a field
       * @since 1.4
       */
</pre>
<hr />
<pre>
<span class="line-old-header">*** 145,11 ***</span>
          this.field = fieldID;
      }
  
      /**
       * Returns the field identifier as an attribute constant
<span class="line-modified">!      * from one of the &lt;code&gt;Field&lt;/code&gt; subclasses. May return null if</span>
       * the field is specified only by an integer field ID.
       *
       * @return Identifier for the field
       * @since 1.4
       */
<span class="line-new-header">--- 145,11 ---</span>
          this.field = fieldID;
      }
  
      /**
       * Returns the field identifier as an attribute constant
<span class="line-modified">!      * from one of the {@code Field} subclasses. May return null if</span>
       * the field is specified only by an integer field ID.
       *
       * @return Identifier for the field
       * @since 1.4
       */
</pre>
<hr />
<pre>
<span class="line-old-header">*** 204,11 ***</span>
      public void setEndIndex(int ei) {
          endIndex = ei;
      }
  
      /**
<span class="line-modified">!      * Returns a &lt;code&gt;Format.FieldDelegate&lt;/code&gt; instance that is associated</span>
       * with the FieldPosition. When the delegate is notified of the same
       * field the FieldPosition is associated with, the begin/end will be
       * adjusted.
       */
      Format.FieldDelegate getFieldDelegate() {
<span class="line-new-header">--- 204,11 ---</span>
      public void setEndIndex(int ei) {
          endIndex = ei;
      }
  
      /**
<span class="line-modified">!      * Returns a {@code Format.FieldDelegate} instance that is associated</span>
       * with the FieldPosition. When the delegate is notified of the same
       * field the FieldPosition is associated with, the begin/end will be
       * adjusted.
       */
      Format.FieldDelegate getFieldDelegate() {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 256,24 ***</span>
              &quot;,endIndex=&quot; + endIndex + &#39;]&#39;;
      }
  
  
      /**
<span class="line-modified">!      * Return true if the receiver wants a &lt;code&gt;Format.Field&lt;/code&gt; value and</span>
<span class="line-modified">!      * &lt;code&gt;attribute&lt;/code&gt; is equal to it.</span>
       */
      private boolean matchesField(Format.Field attribute) {
          if (this.attribute != null) {
              return this.attribute.equals(attribute);
          }
          return false;
      }
  
      /**
<span class="line-modified">!      * Return true if the receiver wants a &lt;code&gt;Format.Field&lt;/code&gt; value and</span>
<span class="line-modified">!      * &lt;code&gt;attribute&lt;/code&gt; is equal to it, or true if the receiver</span>
<span class="line-modified">!      * represents an inteter constant and &lt;code&gt;field&lt;/code&gt; equals it.</span>
       */
      private boolean matchesField(Format.Field attribute, int field) {
          if (this.attribute != null) {
              return this.attribute.equals(attribute);
          }
<span class="line-new-header">--- 256,24 ---</span>
              &quot;,endIndex=&quot; + endIndex + &#39;]&#39;;
      }
  
  
      /**
<span class="line-modified">!      * Return true if the receiver wants a {@code Format.Field} value and</span>
<span class="line-modified">!      * {@code attribute} is equal to it.</span>
       */
      private boolean matchesField(Format.Field attribute) {
          if (this.attribute != null) {
              return this.attribute.equals(attribute);
          }
          return false;
      }
  
      /**
<span class="line-modified">!      * Return true if the receiver wants a {@code Format.Field} value and</span>
<span class="line-modified">!      * {@code attribute} is equal to it, or true if the receiver</span>
<span class="line-modified">!      * represents an inteter constant and {@code field} equals it.</span>
       */
      private boolean matchesField(Format.Field attribute, int field) {
          if (this.attribute != null) {
              return this.attribute.equals(attribute);
          }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 287,11 ***</span>
       * the FieldPosition.
       */
      private class Delegate implements Format.FieldDelegate {
          /**
           * Indicates whether the field has been  encountered before. If this
<span class="line-modified">!          * is true, and &lt;code&gt;formatted&lt;/code&gt; is invoked, the begin/end</span>
           * are not updated.
           */
          private boolean encounteredField;
  
          public void formatted(Format.Field attr, Object value, int start,
<span class="line-new-header">--- 287,11 ---</span>
       * the FieldPosition.
       */
      private class Delegate implements Format.FieldDelegate {
          /**
           * Indicates whether the field has been  encountered before. If this
<span class="line-modified">!          * is true, and {@code formatted} is invoked, the begin/end</span>
           * are not updated.
           */
          private boolean encounteredField;
  
          public void formatted(Format.Field attr, Object value, int start,
</pre>
<center><a href="DigitList.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="Format.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>