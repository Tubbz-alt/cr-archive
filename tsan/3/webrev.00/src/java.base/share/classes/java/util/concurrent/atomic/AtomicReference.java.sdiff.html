<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/util/concurrent/atomic/AtomicReference.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="AtomicLong.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="AtomicReferenceArray.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/util/concurrent/atomic/AtomicReference.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 43 /**
 44  * An object reference that may be updated atomically.  See the {@link
 45  * VarHandle} specification for descriptions of the properties of
 46  * atomic accesses.
 47  * @since 1.5
 48  * @author Doug Lea
 49  * @param &lt;V&gt; The type of object referred to by this reference
 50  */
 51 public class AtomicReference&lt;V&gt; implements java.io.Serializable {
 52     private static final long serialVersionUID = -1848883965231344442L;
 53     private static final VarHandle VALUE;
 54     static {
 55         try {
 56             MethodHandles.Lookup l = MethodHandles.lookup();
 57             VALUE = l.findVarHandle(AtomicReference.class, &quot;value&quot;, Object.class);
 58         } catch (ReflectiveOperationException e) {
 59             throw new ExceptionInInitializerError(e);
 60         }
 61     }
 62 

 63     private volatile V value;
 64 
 65     /**
 66      * Creates a new AtomicReference with the given initial value.
 67      *
 68      * @param initialValue the initial value
 69      */
 70     public AtomicReference(V initialValue) {
 71         value = initialValue;
 72     }
 73 
 74     /**
 75      * Creates a new AtomicReference with null initial value.
 76      */
 77     public AtomicReference() {
 78     }
 79 
 80     /**
 81      * Returns the current value,
 82      * with memory effects as specified by {@link VarHandle#getVolatile}.
</pre>
</td>
<td>
<hr />
<pre>
 43 /**
 44  * An object reference that may be updated atomically.  See the {@link
 45  * VarHandle} specification for descriptions of the properties of
 46  * atomic accesses.
 47  * @since 1.5
 48  * @author Doug Lea
 49  * @param &lt;V&gt; The type of object referred to by this reference
 50  */
 51 public class AtomicReference&lt;V&gt; implements java.io.Serializable {
 52     private static final long serialVersionUID = -1848883965231344442L;
 53     private static final VarHandle VALUE;
 54     static {
 55         try {
 56             MethodHandles.Lookup l = MethodHandles.lookup();
 57             VALUE = l.findVarHandle(AtomicReference.class, &quot;value&quot;, Object.class);
 58         } catch (ReflectiveOperationException e) {
 59             throw new ExceptionInInitializerError(e);
 60         }
 61     }
 62 
<span class="line-added"> 63     @SuppressWarnings(&quot;serial&quot;) // Conditionally serializable</span>
 64     private volatile V value;
 65 
 66     /**
 67      * Creates a new AtomicReference with the given initial value.
 68      *
 69      * @param initialValue the initial value
 70      */
 71     public AtomicReference(V initialValue) {
 72         value = initialValue;
 73     }
 74 
 75     /**
 76      * Creates a new AtomicReference with null initial value.
 77      */
 78     public AtomicReference() {
 79     }
 80 
 81     /**
 82      * Returns the current value,
 83      * with memory effects as specified by {@link VarHandle#getVolatile}.
</pre>
</td>
</tr>
</table>
<center><a href="AtomicLong.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="AtomicReferenceArray.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>