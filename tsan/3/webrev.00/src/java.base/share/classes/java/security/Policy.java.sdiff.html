<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/security/Policy.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="Permissions.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="PrivateKey.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/security/Policy.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 1997, 2017, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
801         }
802     }
803 
804     /**
805      * This represents a marker interface for Policy parameters.
806      *
807      * @since 1.6
808      */
809     public static interface Parameters { }
810 
811     /**
812      * This class represents a read-only empty PermissionCollection object that
813      * is returned from the {@code getPermissions(CodeSource)} and
814      * {@code getPermissions(ProtectionDomain)}
815      * methods in the Policy class when those operations are not
816      * supported by the Policy implementation.
817      */
818     private static class UnsupportedEmptyCollection
819         extends PermissionCollection {
820 

821         private static final long serialVersionUID = -8492269157353014774L;
822 
823         private Permissions perms;
824 
825         /**
826          * Create a read-only empty PermissionCollection object.
827          */
828         public UnsupportedEmptyCollection() {
829             this.perms = new Permissions();
830             perms.setReadOnly();
831         }
832 
833         /**
834          * Adds a permission object to the current collection of permission
835          * objects.
836          *
837          * @param permission the Permission object to add.
838          *
<span class="line-modified">839          * @exception SecurityException - if this PermissionCollection object</span>
840          *                                has been marked readonly
841          */
842         @Override public void add(Permission permission) {
843             perms.add(permission);
844         }
845 
846         /**
847          * Checks to see if the specified permission is implied by the
848          * collection of Permission objects held in this PermissionCollection.
849          *
850          * @param permission the Permission object to compare.
851          *
852          * @return true if &quot;permission&quot; is implied by the permissions in
853          * the collection, false if not.
854          */
855         @Override public boolean implies(Permission permission) {
856             return perms.implies(permission);
857         }
858 
859         /**
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 1997, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
801         }
802     }
803 
804     /**
805      * This represents a marker interface for Policy parameters.
806      *
807      * @since 1.6
808      */
809     public static interface Parameters { }
810 
811     /**
812      * This class represents a read-only empty PermissionCollection object that
813      * is returned from the {@code getPermissions(CodeSource)} and
814      * {@code getPermissions(ProtectionDomain)}
815      * methods in the Policy class when those operations are not
816      * supported by the Policy implementation.
817      */
818     private static class UnsupportedEmptyCollection
819         extends PermissionCollection {
820 
<span class="line-added">821         @java.io.Serial</span>
822         private static final long serialVersionUID = -8492269157353014774L;
823 
824         private Permissions perms;
825 
826         /**
827          * Create a read-only empty PermissionCollection object.
828          */
829         public UnsupportedEmptyCollection() {
830             this.perms = new Permissions();
831             perms.setReadOnly();
832         }
833 
834         /**
835          * Adds a permission object to the current collection of permission
836          * objects.
837          *
838          * @param permission the Permission object to add.
839          *
<span class="line-modified">840          * @throws    SecurityException   if this PermissionCollection object</span>
841          *                                has been marked readonly
842          */
843         @Override public void add(Permission permission) {
844             perms.add(permission);
845         }
846 
847         /**
848          * Checks to see if the specified permission is implied by the
849          * collection of Permission objects held in this PermissionCollection.
850          *
851          * @param permission the Permission object to compare.
852          *
853          * @return true if &quot;permission&quot; is implied by the permissions in
854          * the collection, false if not.
855          */
856         @Override public boolean implies(Permission permission) {
857             return perms.implies(permission);
858         }
859 
860         /**
</pre>
</td>
</tr>
</table>
<center><a href="Permissions.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="PrivateKey.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>