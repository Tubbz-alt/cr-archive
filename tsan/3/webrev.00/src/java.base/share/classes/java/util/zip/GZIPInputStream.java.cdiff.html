<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/java/util/zip/GZIPInputStream.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="DeflaterOutputStream.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="GZIPOutputStream.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/util/zip/GZIPInputStream.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 1996, 2013, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 1996, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 39,12 ***</span>
   * @see         InflaterInputStream
   * @author      David Connelly
   * @since 1.1
   *
   */
<span class="line-modified">! public</span>
<span class="line-removed">- class GZIPInputStream extends InflaterInputStream {</span>
      /**
       * CRC-32 for uncompressed data.
       */
      protected CRC32 crc = new CRC32();
  
<span class="line-new-header">--- 39,11 ---</span>
   * @see         InflaterInputStream
   * @author      David Connelly
   * @since 1.1
   *
   */
<span class="line-modified">! public class GZIPInputStream extends InflaterInputStream {</span>
      /**
       * CRC-32 for uncompressed data.
       */
      protected CRC32 crc = new CRC32();
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 67,14 ***</span>
      /**
       * Creates a new input stream with the specified buffer size.
       * @param in the input stream
       * @param size the input buffer size
       *
<span class="line-modified">!      * @exception ZipException if a GZIP format error has occurred or the</span>
       *                         compression method used is unsupported
<span class="line-modified">!      * @exception IOException if an I/O error has occurred</span>
<span class="line-modified">!      * @exception IllegalArgumentException if {@code size &lt;= 0}</span>
       */
      public GZIPInputStream(InputStream in, int size) throws IOException {
          super(in, new Inflater(true), size);
          usesDefaultInflater = true;
          readHeader(in);
<span class="line-new-header">--- 66,14 ---</span>
      /**
       * Creates a new input stream with the specified buffer size.
       * @param in the input stream
       * @param size the input buffer size
       *
<span class="line-modified">!      * @throws    ZipException if a GZIP format error has occurred or the</span>
       *                         compression method used is unsupported
<span class="line-modified">!      * @throws    IOException if an I/O error has occurred</span>
<span class="line-modified">!      * @throws    IllegalArgumentException if {@code size &lt;= 0}</span>
       */
      public GZIPInputStream(InputStream in, int size) throws IOException {
          super(in, new Inflater(true), size);
          usesDefaultInflater = true;
          readHeader(in);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 82,34 ***</span>
  
      /**
       * Creates a new input stream with a default buffer size.
       * @param in the input stream
       *
<span class="line-modified">!      * @exception ZipException if a GZIP format error has occurred or the</span>
       *                         compression method used is unsupported
<span class="line-modified">!      * @exception IOException if an I/O error has occurred</span>
       */
      public GZIPInputStream(InputStream in) throws IOException {
          this(in, 512);
      }
  
      /**
<span class="line-modified">!      * Reads uncompressed data into an array of bytes. If &lt;code&gt;len&lt;/code&gt; is not</span>
       * zero, the method will block until some input can be decompressed; otherwise,
<span class="line-modified">!      * no bytes are read and &lt;code&gt;0&lt;/code&gt; is returned.</span>
       * @param buf the buffer into which the data is read
<span class="line-modified">!      * @param off the start offset in the destination array &lt;code&gt;b&lt;/code&gt;</span>
       * @param len the maximum number of bytes read
       * @return  the actual number of bytes read, or -1 if the end of the
       *          compressed input stream is reached
       *
<span class="line-modified">!      * @exception  NullPointerException If &lt;code&gt;buf&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;.</span>
<span class="line-modified">!      * @exception  IndexOutOfBoundsException If &lt;code&gt;off&lt;/code&gt; is negative,</span>
<span class="line-modified">!      * &lt;code&gt;len&lt;/code&gt; is negative, or &lt;code&gt;len&lt;/code&gt; is greater than</span>
<span class="line-modified">!      * &lt;code&gt;buf.length - off&lt;/code&gt;</span>
<span class="line-modified">!      * @exception ZipException if the compressed input data is corrupt.</span>
<span class="line-modified">!      * @exception IOException if an I/O error has occurred.</span>
       *
       */
      public int read(byte[] buf, int off, int len) throws IOException {
          ensureOpen();
          if (eos) {
<span class="line-new-header">--- 81,34 ---</span>
  
      /**
       * Creates a new input stream with a default buffer size.
       * @param in the input stream
       *
<span class="line-modified">!      * @throws    ZipException if a GZIP format error has occurred or the</span>
       *                         compression method used is unsupported
<span class="line-modified">!      * @throws    IOException if an I/O error has occurred</span>
       */
      public GZIPInputStream(InputStream in) throws IOException {
          this(in, 512);
      }
  
      /**
<span class="line-modified">!      * Reads uncompressed data into an array of bytes. If {@code len} is not</span>
       * zero, the method will block until some input can be decompressed; otherwise,
<span class="line-modified">!      * no bytes are read and {@code 0} is returned.</span>
       * @param buf the buffer into which the data is read
<span class="line-modified">!      * @param off the start offset in the destination array {@code b}</span>
       * @param len the maximum number of bytes read
       * @return  the actual number of bytes read, or -1 if the end of the
       *          compressed input stream is reached
       *
<span class="line-modified">!      * @throws     NullPointerException If {@code buf} is {@code null}.</span>
<span class="line-modified">!      * @throws     IndexOutOfBoundsException If {@code off} is negative,</span>
<span class="line-modified">!      * {@code len} is negative, or {@code len} is greater than</span>
<span class="line-modified">!      * {@code buf.length - off}</span>
<span class="line-modified">!      * @throws    ZipException if the compressed input data is corrupt.</span>
<span class="line-modified">!      * @throws    IOException if an I/O error has occurred.</span>
       *
       */
      public int read(byte[] buf, int off, int len) throws IOException {
          ensureOpen();
          if (eos) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 128,11 ***</span>
      }
  
      /**
       * Closes this input stream and releases any system resources associated
       * with the stream.
<span class="line-modified">!      * @exception IOException if an I/O error has occurred</span>
       */
      public void close() throws IOException {
          if (!closed) {
              super.close();
              eos = true;
<span class="line-new-header">--- 127,11 ---</span>
      }
  
      /**
       * Closes this input stream and releases any system resources associated
       * with the stream.
<span class="line-modified">!      * @throws    IOException if an I/O error has occurred</span>
       */
      public void close() throws IOException {
          if (!closed) {
              super.close();
              eos = true;
</pre>
<center><a href="DeflaterOutputStream.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="GZIPOutputStream.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>