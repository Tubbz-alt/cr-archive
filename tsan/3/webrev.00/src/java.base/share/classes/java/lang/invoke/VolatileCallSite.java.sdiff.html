<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/lang/invoke/VolatileCallSite.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="VarHandles.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="WrongMethodTypeException.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/lang/invoke/VolatileCallSite.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 79      * @see #setTarget
 80      */
 81     @Override public final MethodHandle getTarget() {
 82         return getTargetVolatile();
 83     }
 84 
 85     /**
 86      * Updates the target method of this call site, as a volatile variable.
 87      * The type of the new target must agree with the type of the old target.
 88      * &lt;p&gt;
 89      * The interactions with memory are the same as of a write to a volatile field.
 90      * In particular, any threads is guaranteed to see the updated target
 91      * the next time it calls {@code getTarget}.
 92      * @param newTarget the new target
 93      * @throws NullPointerException if the proposed new target is null
 94      * @throws WrongMethodTypeException if the proposed new target
 95      *         has a method type that differs from the previous target
 96      * @see #getTarget
 97      */
 98     @Override public void setTarget(MethodHandle newTarget) {
<span class="line-removed"> 99         checkTargetChange(getTargetVolatile(), newTarget);</span>
100         setTargetVolatile(newTarget);
101     }
102 
103     /**
104      * {@inheritDoc}
105      */
106     @Override
107     public final MethodHandle dynamicInvoker() {
108         return makeDynamicInvoker();
109     }
110 }
</pre>
</td>
<td>
<hr />
<pre>
 79      * @see #setTarget
 80      */
 81     @Override public final MethodHandle getTarget() {
 82         return getTargetVolatile();
 83     }
 84 
 85     /**
 86      * Updates the target method of this call site, as a volatile variable.
 87      * The type of the new target must agree with the type of the old target.
 88      * &lt;p&gt;
 89      * The interactions with memory are the same as of a write to a volatile field.
 90      * In particular, any threads is guaranteed to see the updated target
 91      * the next time it calls {@code getTarget}.
 92      * @param newTarget the new target
 93      * @throws NullPointerException if the proposed new target is null
 94      * @throws WrongMethodTypeException if the proposed new target
 95      *         has a method type that differs from the previous target
 96      * @see #getTarget
 97      */
 98     @Override public void setTarget(MethodHandle newTarget) {

 99         setTargetVolatile(newTarget);
100     }
101 
102     /**
103      * {@inheritDoc}
104      */
105     @Override
106     public final MethodHandle dynamicInvoker() {
107         return makeDynamicInvoker();
108     }
109 }
</pre>
</td>
</tr>
</table>
<center><a href="VarHandles.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="WrongMethodTypeException.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>