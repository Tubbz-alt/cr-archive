<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/time/LocalTime.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="LocalDateTime.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="MonthDay.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/time/LocalTime.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 2012, 2018, Oracle and/or its affiliates. All rights reserved.</span>
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.  Oracle designates this
   8  * particular file as subject to the &quot;Classpath&quot; exception as provided
   9  * by Oracle in the LICENSE file that accompanied this code.
  10  *
  11  * This code is distributed in the hope that it will be useful, but WITHOUT
  12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  * version 2 for more details (a copy is included in the LICENSE file that
  15  * accompanied this code).
  16  *
  17  * You should have received a copy of the GNU General Public License version
  18  * 2 along with this work; if not, write to the Free Software Foundation,
  19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20  *
  21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 196     /**
 197      * Nanos per second.
 198      */
 199     static final long NANOS_PER_SECOND =  1000_000_000L;
 200     /**
 201      * Nanos per minute.
 202      */
 203     static final long NANOS_PER_MINUTE = NANOS_PER_SECOND * SECONDS_PER_MINUTE;
 204     /**
 205      * Nanos per hour.
 206      */
 207     static final long NANOS_PER_HOUR = NANOS_PER_MINUTE * MINUTES_PER_HOUR;
 208     /**
 209      * Nanos per day.
 210      */
 211     static final long NANOS_PER_DAY = NANOS_PER_HOUR * HOURS_PER_DAY;
 212 
 213     /**
 214      * Serialization version.
 215      */

 216     private static final long serialVersionUID = 6414437269572265201L;
 217 
 218     /**
 219      * The hour.
 220      */
 221     private final byte hour;
 222     /**
 223      * The minute.
 224      */
 225     private final byte minute;
 226     /**
 227      * The second.
 228      */
 229     private final byte second;
 230     /**
 231      * The nanosecond.
 232      */
 233     private final int nano;
 234 
 235     //-----------------------------------------------------------------------
</pre>
<hr />
<pre>
1657      *        out.writeByte(~hour);
1658      *      } else {
1659      *        out.writeByte(hour);
1660      *        out.writeByte(~minute);
1661      *      }
1662      *    } else {
1663      *      out.writeByte(hour);
1664      *      out.writeByte(minute);
1665      *      out.writeByte(~second);
1666      *    }
1667      *  } else {
1668      *    out.writeByte(hour);
1669      *    out.writeByte(minute);
1670      *    out.writeByte(second);
1671      *    out.writeInt(nano);
1672      *  }
1673      * &lt;/pre&gt;
1674      *
1675      * @return the instance of {@code Ser}, not null
1676      */

1677     private Object writeReplace() {
1678         return new Ser(Ser.LOCAL_TIME_TYPE, this);
1679     }
1680 
1681     /**
1682      * Defend against malicious streams.
1683      *
1684      * @param s the stream to read
1685      * @throws InvalidObjectException always
1686      */

1687     private void readObject(ObjectInputStream s) throws InvalidObjectException {
1688         throw new InvalidObjectException(&quot;Deserialization via serialization delegate&quot;);
1689     }
1690 
1691     void writeExternal(DataOutput out) throws IOException {
1692         if (nano == 0) {
1693             if (second == 0) {
1694                 if (minute == 0) {
1695                     out.writeByte(~hour);
1696                 } else {
1697                     out.writeByte(hour);
1698                     out.writeByte(~minute);
1699                 }
1700             } else {
1701                 out.writeByte(hour);
1702                 out.writeByte(minute);
1703                 out.writeByte(~second);
1704             }
1705         } else {
1706             out.writeByte(hour);
</pre>
</td>
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 2012, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.  Oracle designates this
   8  * particular file as subject to the &quot;Classpath&quot; exception as provided
   9  * by Oracle in the LICENSE file that accompanied this code.
  10  *
  11  * This code is distributed in the hope that it will be useful, but WITHOUT
  12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  * version 2 for more details (a copy is included in the LICENSE file that
  15  * accompanied this code).
  16  *
  17  * You should have received a copy of the GNU General Public License version
  18  * 2 along with this work; if not, write to the Free Software Foundation,
  19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20  *
  21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 196     /**
 197      * Nanos per second.
 198      */
 199     static final long NANOS_PER_SECOND =  1000_000_000L;
 200     /**
 201      * Nanos per minute.
 202      */
 203     static final long NANOS_PER_MINUTE = NANOS_PER_SECOND * SECONDS_PER_MINUTE;
 204     /**
 205      * Nanos per hour.
 206      */
 207     static final long NANOS_PER_HOUR = NANOS_PER_MINUTE * MINUTES_PER_HOUR;
 208     /**
 209      * Nanos per day.
 210      */
 211     static final long NANOS_PER_DAY = NANOS_PER_HOUR * HOURS_PER_DAY;
 212 
 213     /**
 214      * Serialization version.
 215      */
<span class="line-added"> 216     @java.io.Serial</span>
 217     private static final long serialVersionUID = 6414437269572265201L;
 218 
 219     /**
 220      * The hour.
 221      */
 222     private final byte hour;
 223     /**
 224      * The minute.
 225      */
 226     private final byte minute;
 227     /**
 228      * The second.
 229      */
 230     private final byte second;
 231     /**
 232      * The nanosecond.
 233      */
 234     private final int nano;
 235 
 236     //-----------------------------------------------------------------------
</pre>
<hr />
<pre>
1658      *        out.writeByte(~hour);
1659      *      } else {
1660      *        out.writeByte(hour);
1661      *        out.writeByte(~minute);
1662      *      }
1663      *    } else {
1664      *      out.writeByte(hour);
1665      *      out.writeByte(minute);
1666      *      out.writeByte(~second);
1667      *    }
1668      *  } else {
1669      *    out.writeByte(hour);
1670      *    out.writeByte(minute);
1671      *    out.writeByte(second);
1672      *    out.writeInt(nano);
1673      *  }
1674      * &lt;/pre&gt;
1675      *
1676      * @return the instance of {@code Ser}, not null
1677      */
<span class="line-added">1678     @java.io.Serial</span>
1679     private Object writeReplace() {
1680         return new Ser(Ser.LOCAL_TIME_TYPE, this);
1681     }
1682 
1683     /**
1684      * Defend against malicious streams.
1685      *
1686      * @param s the stream to read
1687      * @throws InvalidObjectException always
1688      */
<span class="line-added">1689     @java.io.Serial</span>
1690     private void readObject(ObjectInputStream s) throws InvalidObjectException {
1691         throw new InvalidObjectException(&quot;Deserialization via serialization delegate&quot;);
1692     }
1693 
1694     void writeExternal(DataOutput out) throws IOException {
1695         if (nano == 0) {
1696             if (second == 0) {
1697                 if (minute == 0) {
1698                     out.writeByte(~hour);
1699                 } else {
1700                     out.writeByte(hour);
1701                     out.writeByte(~minute);
1702                 }
1703             } else {
1704                 out.writeByte(hour);
1705                 out.writeByte(minute);
1706                 out.writeByte(~second);
1707             }
1708         } else {
1709             out.writeByte(hour);
</pre>
</td>
</tr>
</table>
<center><a href="LocalDateTime.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="MonthDay.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>