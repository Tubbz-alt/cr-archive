<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/text/CollationElementIterator.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="ChoiceFormat.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="CollationKey.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/text/CollationElementIterator.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 1996, 2013, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 24  */
 25 
 26 /*
 27  * (C) Copyright Taligent, Inc. 1996, 1997 - All Rights Reserved
 28  * (C) Copyright IBM Corp. 1996-1998 - All Rights Reserved
 29  *
 30  *   The original version of this source code and documentation is copyrighted
 31  * and owned by Taligent, Inc., a wholly-owned subsidiary of IBM. These
 32  * materials are provided under terms of a License Agreement between Taligent
 33  * and Sun. This technology is protected by multiple US and International
 34  * patents. This notice and attribution to Taligent may not be removed.
 35  *   Taligent is a registered trademark of Taligent, Inc.
 36  *
 37  */
 38 
 39 package java.text;
 40 
 41 import java.lang.Character;
 42 import java.util.Vector;
 43 import sun.text.CollatorUtilities;
<span class="line-modified"> 44 import sun.text.normalizer.NormalizerBase;</span>
 45 
 46 /**
<span class="line-modified"> 47  * The &lt;code&gt;CollationElementIterator&lt;/code&gt; class is used as an iterator</span>
 48  * to walk through each character of an international string. Use the iterator
 49  * to return the ordering priority of the positioned character. The ordering
 50  * priority of a character, which we refer to as a key, defines how a character
 51  * is collated in the given collation object.
 52  *
 53  * &lt;p&gt;
 54  * For example, consider the following in Spanish:
 55  * &lt;blockquote&gt;
 56  * &lt;pre&gt;
 57  * &quot;ca&quot; &amp;rarr; the first key is key(&#39;c&#39;) and second key is key(&#39;a&#39;).
 58  * &quot;cha&quot; &amp;rarr; the first key is key(&#39;ch&#39;) and second key is key(&#39;a&#39;).
 59  * &lt;/pre&gt;
 60  * &lt;/blockquote&gt;
 61  * And in German,
 62  * &lt;blockquote&gt;
 63  * &lt;pre&gt;
 64  * &quot;\u00e4b&quot; &amp;rarr; the first key is key(&#39;a&#39;), the second key is key(&#39;e&#39;), and
 65  * the third key is key(&#39;b&#39;).
 66  * &lt;/pre&gt;
 67  * &lt;/blockquote&gt;
 68  * The key of a character is an integer composed of primary order(short),
 69  * secondary order(byte), and tertiary order(byte). Java strictly defines
 70  * the size and signedness of its primitive data types. Therefore, the static
<span class="line-modified"> 71  * functions &lt;code&gt;primaryOrder&lt;/code&gt;, &lt;code&gt;secondaryOrder&lt;/code&gt;, and</span>
<span class="line-modified"> 72  * &lt;code&gt;tertiaryOrder&lt;/code&gt; return &lt;code&gt;int&lt;/code&gt;, &lt;code&gt;short&lt;/code&gt;,</span>
<span class="line-modified"> 73  * and &lt;code&gt;short&lt;/code&gt; respectively to ensure the correctness of the key</span>
 74  * value.
 75  *
 76  * &lt;p&gt;
 77  * Example of the iterator usage,
 78  * &lt;blockquote&gt;
 79  * &lt;pre&gt;
 80  *
 81  *  String testString = &quot;This is a test&quot;;
 82  *  Collator col = Collator.getInstance();
 83  *  if (col instanceof RuleBasedCollator) {
 84  *      RuleBasedCollator ruleBasedCollator = (RuleBasedCollator)col;
 85  *      CollationElementIterator collationElementIterator = ruleBasedCollator.getCollationElementIterator(testString);
 86  *      int primaryOrder = CollationElementIterator.primaryOrder(collationElementIterator.next());
 87  *          :
 88  *  }
 89  * &lt;/pre&gt;
 90  * &lt;/blockquote&gt;
 91  *
 92  * &lt;p&gt;
<span class="line-modified"> 93  * &lt;code&gt;CollationElementIterator.next&lt;/code&gt; returns the collation order</span>
 94  * of the next character. A collation order consists of primary order,
 95  * secondary order and tertiary order. The data type of the collation
 96  * order is &lt;strong&gt;int&lt;/strong&gt;. The first 16 bits of a collation order
 97  * is its primary order; the next 8 bits is the secondary order and the
 98  * last 8 bits is the tertiary order.
 99  *
<span class="line-modified">100  * &lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; &lt;code&gt;CollationElementIterator&lt;/code&gt; is a part of</span>
<span class="line-modified">101  * &lt;code&gt;RuleBasedCollator&lt;/code&gt; implementation. It is only usable</span>
<span class="line-modified">102  * with &lt;code&gt;RuleBasedCollator&lt;/code&gt; instances.</span>
103  *
104  * @see                Collator
105  * @see                RuleBasedCollator
106  * @author             Helena Shih, Laura Werner, Richard Gillam
107  * @since 1.1
108  */
109 public final class CollationElementIterator
110 {
111     /**
112      * Null order which indicates the end of string is reached by the
113      * cursor.
114      */
115     public static final int NULLORDER = 0xffffffff;
116 
117     /**
118      * CollationElementIterator constructor.  This takes the source string and
119      * the collation object.  The cursor will walk thru the source string based
120      * on the predefined collation rules.  If the source string is empty,
121      * NULLORDER will be returned on the calls to next().
122      * @param sourceText the source string.
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 1996, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 24  */
 25 
 26 /*
 27  * (C) Copyright Taligent, Inc. 1996, 1997 - All Rights Reserved
 28  * (C) Copyright IBM Corp. 1996-1998 - All Rights Reserved
 29  *
 30  *   The original version of this source code and documentation is copyrighted
 31  * and owned by Taligent, Inc., a wholly-owned subsidiary of IBM. These
 32  * materials are provided under terms of a License Agreement between Taligent
 33  * and Sun. This technology is protected by multiple US and International
 34  * patents. This notice and attribution to Taligent may not be removed.
 35  *   Taligent is a registered trademark of Taligent, Inc.
 36  *
 37  */
 38 
 39 package java.text;
 40 
 41 import java.lang.Character;
 42 import java.util.Vector;
 43 import sun.text.CollatorUtilities;
<span class="line-modified"> 44 import jdk.internal.icu.text.NormalizerBase;</span>
 45 
 46 /**
<span class="line-modified"> 47  * The {@code CollationElementIterator} class is used as an iterator</span>
 48  * to walk through each character of an international string. Use the iterator
 49  * to return the ordering priority of the positioned character. The ordering
 50  * priority of a character, which we refer to as a key, defines how a character
 51  * is collated in the given collation object.
 52  *
 53  * &lt;p&gt;
 54  * For example, consider the following in Spanish:
 55  * &lt;blockquote&gt;
 56  * &lt;pre&gt;
 57  * &quot;ca&quot; &amp;rarr; the first key is key(&#39;c&#39;) and second key is key(&#39;a&#39;).
 58  * &quot;cha&quot; &amp;rarr; the first key is key(&#39;ch&#39;) and second key is key(&#39;a&#39;).
 59  * &lt;/pre&gt;
 60  * &lt;/blockquote&gt;
 61  * And in German,
 62  * &lt;blockquote&gt;
 63  * &lt;pre&gt;
 64  * &quot;\u00e4b&quot; &amp;rarr; the first key is key(&#39;a&#39;), the second key is key(&#39;e&#39;), and
 65  * the third key is key(&#39;b&#39;).
 66  * &lt;/pre&gt;
 67  * &lt;/blockquote&gt;
 68  * The key of a character is an integer composed of primary order(short),
 69  * secondary order(byte), and tertiary order(byte). Java strictly defines
 70  * the size and signedness of its primitive data types. Therefore, the static
<span class="line-modified"> 71  * functions {@code primaryOrder}, {@code secondaryOrder}, and</span>
<span class="line-modified"> 72  * {@code tertiaryOrder} return {@code int}, {@code short},</span>
<span class="line-modified"> 73  * and {@code short} respectively to ensure the correctness of the key</span>
 74  * value.
 75  *
 76  * &lt;p&gt;
 77  * Example of the iterator usage,
 78  * &lt;blockquote&gt;
 79  * &lt;pre&gt;
 80  *
 81  *  String testString = &quot;This is a test&quot;;
 82  *  Collator col = Collator.getInstance();
 83  *  if (col instanceof RuleBasedCollator) {
 84  *      RuleBasedCollator ruleBasedCollator = (RuleBasedCollator)col;
 85  *      CollationElementIterator collationElementIterator = ruleBasedCollator.getCollationElementIterator(testString);
 86  *      int primaryOrder = CollationElementIterator.primaryOrder(collationElementIterator.next());
 87  *          :
 88  *  }
 89  * &lt;/pre&gt;
 90  * &lt;/blockquote&gt;
 91  *
 92  * &lt;p&gt;
<span class="line-modified"> 93  * {@code CollationElementIterator.next} returns the collation order</span>
 94  * of the next character. A collation order consists of primary order,
 95  * secondary order and tertiary order. The data type of the collation
 96  * order is &lt;strong&gt;int&lt;/strong&gt;. The first 16 bits of a collation order
 97  * is its primary order; the next 8 bits is the secondary order and the
 98  * last 8 bits is the tertiary order.
 99  *
<span class="line-modified">100  * &lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; {@code CollationElementIterator} is a part of</span>
<span class="line-modified">101  * {@code RuleBasedCollator} implementation. It is only usable</span>
<span class="line-modified">102  * with {@code RuleBasedCollator} instances.</span>
103  *
104  * @see                Collator
105  * @see                RuleBasedCollator
106  * @author             Helena Shih, Laura Werner, Richard Gillam
107  * @since 1.1
108  */
109 public final class CollationElementIterator
110 {
111     /**
112      * Null order which indicates the end of string is reached by the
113      * cursor.
114      */
115     public static final int NULLORDER = 0xffffffff;
116 
117     /**
118      * CollationElementIterator constructor.  This takes the source string and
119      * the collation object.  The cursor will walk thru the source string based
120      * on the predefined collation rules.  If the source string is empty,
121      * NULLORDER will be returned on the calls to next().
122      * @param sourceText the source string.
</pre>
</td>
</tr>
</table>
<center><a href="ChoiceFormat.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="CollationKey.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>