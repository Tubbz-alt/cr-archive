<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/java/security/KeyStoreSpi.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="KeyStoreException.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="MessageDigest.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/security/KeyStoreSpi.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 1998, 2018, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 1998, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 64,13 ***</span>
       * @param password the password for recovering the key
       *
       * @return the requested key, or null if the given alias does not exist
       * or does not identify a key-related entry.
       *
<span class="line-modified">!      * @exception NoSuchAlgorithmException if the algorithm for recovering the</span>
       * key cannot be found
<span class="line-modified">!      * @exception UnrecoverableKeyException if the key cannot be recovered</span>
       * (e.g., the given password is wrong).
       */
      public abstract Key engineGetKey(String alias, char[] password)
          throws NoSuchAlgorithmException, UnrecoverableKeyException;
  
<span class="line-new-header">--- 64,13 ---</span>
       * @param password the password for recovering the key
       *
       * @return the requested key, or null if the given alias does not exist
       * or does not identify a key-related entry.
       *
<span class="line-modified">!      * @throws    NoSuchAlgorithmException if the algorithm for recovering the</span>
       * key cannot be found
<span class="line-modified">!      * @throws    UnrecoverableKeyException if the key cannot be recovered</span>
       * (e.g., the given password is wrong).
       */
      public abstract Key engineGetKey(String alias, char[] password)
          throws NoSuchAlgorithmException, UnrecoverableKeyException;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 139,11 ***</span>
       * @param password the password to protect the key
       * @param chain the certificate chain for the corresponding public
       * key (only required if the given key is of type
       * {@code java.security.PrivateKey}).
       *
<span class="line-modified">!      * @exception KeyStoreException if the given key cannot be protected, or</span>
       * this operation fails for some other reason
       */
      public abstract void engineSetKeyEntry(String alias, Key key,
                                             char[] password,
                                             Certificate[] chain)
<span class="line-new-header">--- 139,11 ---</span>
       * @param password the password to protect the key
       * @param chain the certificate chain for the corresponding public
       * key (only required if the given key is of type
       * {@code java.security.PrivateKey}).
       *
<span class="line-modified">!      * @throws    KeyStoreException if the given key cannot be protected, or</span>
       * this operation fails for some other reason
       */
      public abstract void engineSetKeyEntry(String alias, Key key,
                                             char[] password,
                                             Certificate[] chain)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 166,11 ***</span>
       * @param key the key (in protected format) to be associated with the alias
       * @param chain the certificate chain for the corresponding public
       * key (only useful if the protected key is of type
       * {@code java.security.PrivateKey}).
       *
<span class="line-modified">!      * @exception KeyStoreException if this operation fails.</span>
       */
      public abstract void engineSetKeyEntry(String alias, byte[] key,
                                             Certificate[] chain)
          throws KeyStoreException;
  
<span class="line-new-header">--- 166,11 ---</span>
       * @param key the key (in protected format) to be associated with the alias
       * @param chain the certificate chain for the corresponding public
       * key (only useful if the protected key is of type
       * {@code java.security.PrivateKey}).
       *
<span class="line-modified">!      * @throws    KeyStoreException if this operation fails.</span>
       */
      public abstract void engineSetKeyEntry(String alias, byte[] key,
                                             Certificate[] chain)
          throws KeyStoreException;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 185,11 ***</span>
       * is overridden by the given certificate.
       *
       * @param alias the alias name
       * @param cert the certificate
       *
<span class="line-modified">!      * @exception KeyStoreException if the given alias already exists and does</span>
       * not identify an entry containing a trusted certificate,
       * or this operation fails for some other reason.
       */
      public abstract void engineSetCertificateEntry(String alias,
                                                     Certificate cert)
<span class="line-new-header">--- 185,11 ---</span>
       * is overridden by the given certificate.
       *
       * @param alias the alias name
       * @param cert the certificate
       *
<span class="line-modified">!      * @throws    KeyStoreException if the given alias already exists and does</span>
       * not identify an entry containing a trusted certificate,
       * or this operation fails for some other reason.
       */
      public abstract void engineSetCertificateEntry(String alias,
                                                     Certificate cert)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 198,11 ***</span>
      /**
       * Deletes the entry identified by the given alias from this keystore.
       *
       * @param alias the alias name
       *
<span class="line-modified">!      * @exception KeyStoreException if the entry cannot be removed.</span>
       */
      public abstract void engineDeleteEntry(String alias)
          throws KeyStoreException;
  
      /**
<span class="line-new-header">--- 198,11 ---</span>
      /**
       * Deletes the entry identified by the given alias from this keystore.
       *
       * @param alias the alias name
       *
<span class="line-modified">!      * @throws    KeyStoreException if the entry cannot be removed.</span>
       */
      public abstract void engineDeleteEntry(String alias)
          throws KeyStoreException;
  
      /**
</pre>
<hr />
<pre>
<span class="line-old-header">*** 284,14 ***</span>
       * integrity with the given password.
       *
       * @param stream the output stream to which this keystore is written.
       * @param password the password to generate the keystore integrity check
       *
<span class="line-modified">!      * @exception IOException if there was an I/O problem with data</span>
<span class="line-modified">!      * @exception NoSuchAlgorithmException if the appropriate data integrity</span>
       * algorithm could not be found
<span class="line-modified">!      * @exception CertificateException if any of the certificates included in</span>
       * the keystore data could not be stored
       */
      public abstract void engineStore(OutputStream stream, char[] password)
          throws IOException, NoSuchAlgorithmException, CertificateException;
  
<span class="line-new-header">--- 284,14 ---</span>
       * integrity with the given password.
       *
       * @param stream the output stream to which this keystore is written.
       * @param password the password to generate the keystore integrity check
       *
<span class="line-modified">!      * @throws    IOException if there was an I/O problem with data</span>
<span class="line-modified">!      * @throws    NoSuchAlgorithmException if the appropriate data integrity</span>
       * algorithm could not be found
<span class="line-modified">!      * @throws    CertificateException if any of the certificates included in</span>
       * the keystore data could not be stored
       */
      public abstract void engineStore(OutputStream stream, char[] password)
          throws IOException, NoSuchAlgorithmException, CertificateException;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 301,17 ***</span>
       *
       * @param param the {@code KeyStore.LoadStoreParmeter}
       *          that specifies how to store the keystore,
       *          which may be {@code null}
       *
<span class="line-modified">!      * @exception IllegalArgumentException if the given</span>
       *          {@code KeyStore.LoadStoreParmeter}
       *          input is not recognized
<span class="line-modified">!      * @exception IOException if there was an I/O problem with data</span>
<span class="line-modified">!      * @exception NoSuchAlgorithmException if the appropriate data integrity</span>
       *          algorithm could not be found
<span class="line-modified">!      * @exception CertificateException if any of the certificates included in</span>
       *          the keystore data could not be stored
       *
       * @since 1.5
       */
      public void engineStore(KeyStore.LoadStoreParameter param)
<span class="line-new-header">--- 301,17 ---</span>
       *
       * @param param the {@code KeyStore.LoadStoreParmeter}
       *          that specifies how to store the keystore,
       *          which may be {@code null}
       *
<span class="line-modified">!      * @throws    IllegalArgumentException if the given</span>
       *          {@code KeyStore.LoadStoreParmeter}
       *          input is not recognized
<span class="line-modified">!      * @throws    IOException if there was an I/O problem with data</span>
<span class="line-modified">!      * @throws    NoSuchAlgorithmException if the appropriate data integrity</span>
       *          algorithm could not be found
<span class="line-modified">!      * @throws    CertificateException if any of the certificates included in</span>
       *          the keystore data could not be stored
       *
       * @since 1.5
       */
      public void engineStore(KeyStore.LoadStoreParameter param)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 333,19 ***</span>
       * or {@code null}
       * @param password the password used to check the integrity of
       * the keystore, the password used to unlock the keystore,
       * or {@code null}
       *
<span class="line-modified">!      * @exception IOException if there is an I/O or format problem with the</span>
       * keystore data, if a password is required but not given,
       * or if the given password was incorrect. If the error is due to a
       * wrong password, the {@link Throwable#getCause cause} of the
       * {@code IOException} should be an
       * {@code UnrecoverableKeyException}
<span class="line-modified">!      * @exception NoSuchAlgorithmException if the algorithm used to check</span>
       * the integrity of the keystore cannot be found
<span class="line-modified">!      * @exception CertificateException if any of the certificates in the</span>
       * keystore could not be loaded
       */
      public abstract void engineLoad(InputStream stream, char[] password)
          throws IOException, NoSuchAlgorithmException, CertificateException;
  
<span class="line-new-header">--- 333,19 ---</span>
       * or {@code null}
       * @param password the password used to check the integrity of
       * the keystore, the password used to unlock the keystore,
       * or {@code null}
       *
<span class="line-modified">!      * @throws    IOException if there is an I/O or format problem with the</span>
       * keystore data, if a password is required but not given,
       * or if the given password was incorrect. If the error is due to a
       * wrong password, the {@link Throwable#getCause cause} of the
       * {@code IOException} should be an
       * {@code UnrecoverableKeyException}
<span class="line-modified">!      * @throws    NoSuchAlgorithmException if the algorithm used to check</span>
       * the integrity of the keystore cannot be found
<span class="line-modified">!      * @throws    CertificateException if any of the certificates in the</span>
       * keystore could not be loaded
       */
      public abstract void engineLoad(InputStream stream, char[] password)
          throws IOException, NoSuchAlgorithmException, CertificateException;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 374,22 ***</span>
       * {@code KeyStore.CallbackHandlerProtection} that supports
       * {@code PasswordCallback} so that the password parameter can be
       * extracted. If the {@code KeyStore.ProtectionParameter} is neither
       * of those classes then a {@code NoSuchAlgorithmException} is thrown.
       *
<span class="line-modified">!      * @exception IllegalArgumentException if the given</span>
       *          {@code KeyStore.LoadStoreParameter}
       *          input is not recognized
<span class="line-modified">!      * @exception IOException if there is an I/O or format problem with the</span>
       *          keystore data. If the error is due to an incorrect
       *         {@code ProtectionParameter} (e.g. wrong password)
       *         the {@link Throwable#getCause cause} of the
       *         {@code IOException} should be an
       *         {@code UnrecoverableKeyException}
<span class="line-modified">!      * @exception NoSuchAlgorithmException if the algorithm used to check</span>
       *          the integrity of the keystore cannot be found
<span class="line-modified">!      * @exception CertificateException if any of the certificates in the</span>
       *          keystore could not be loaded
       *
       * @since 1.5
       */
      public void engineLoad(KeyStore.LoadStoreParameter param)
<span class="line-new-header">--- 374,22 ---</span>
       * {@code KeyStore.CallbackHandlerProtection} that supports
       * {@code PasswordCallback} so that the password parameter can be
       * extracted. If the {@code KeyStore.ProtectionParameter} is neither
       * of those classes then a {@code NoSuchAlgorithmException} is thrown.
       *
<span class="line-modified">!      * @throws    IllegalArgumentException if the given</span>
       *          {@code KeyStore.LoadStoreParameter}
       *          input is not recognized
<span class="line-modified">!      * @throws    IOException if there is an I/O or format problem with the</span>
       *          keystore data. If the error is due to an incorrect
       *         {@code ProtectionParameter} (e.g. wrong password)
       *         the {@link Throwable#getCause cause} of the
       *         {@code IOException} should be an
       *         {@code UnrecoverableKeyException}
<span class="line-modified">!      * @throws    NoSuchAlgorithmException if the algorithm used to check</span>
       *          the integrity of the keystore cannot be found
<span class="line-modified">!      * @throws    CertificateException if any of the certificates in the</span>
       *          keystore could not be loaded
       *
       * @since 1.5
       */
      public void engineLoad(KeyStore.LoadStoreParameter param)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 445,16 ***</span>
       *          which may be {@code null}
       *
       * @return the {@code KeyStore.Entry} for the specified alias,
       *          or {@code null} if there is no such entry
       *
<span class="line-modified">!      * @exception KeyStoreException if the operation failed</span>
<span class="line-modified">!      * @exception NoSuchAlgorithmException if the algorithm for recovering the</span>
       *          entry cannot be found
<span class="line-modified">!      * @exception UnrecoverableEntryException if the specified</span>
       *          {@code protParam} were insufficient or invalid
<span class="line-modified">!      * @exception UnrecoverableKeyException if the entry is a</span>
       *          {@code PrivateKeyEntry} or {@code SecretKeyEntry}
       *          and the specified {@code protParam} does not contain
       *          the information needed to recover the key (e.g. wrong password)
       *
       * @since 1.5
<span class="line-new-header">--- 445,16 ---</span>
       *          which may be {@code null}
       *
       * @return the {@code KeyStore.Entry} for the specified alias,
       *          or {@code null} if there is no such entry
       *
<span class="line-modified">!      * @throws    KeyStoreException if the operation failed</span>
<span class="line-modified">!      * @throws    NoSuchAlgorithmException if the algorithm for recovering the</span>
       *          entry cannot be found
<span class="line-modified">!      * @throws    UnrecoverableEntryException if the specified</span>
       *          {@code protParam} were insufficient or invalid
<span class="line-modified">!      * @throws    UnrecoverableKeyException if the entry is a</span>
       *          {@code PrivateKeyEntry} or {@code SecretKeyEntry}
       *          and the specified {@code protParam} does not contain
       *          the information needed to recover the key (e.g. wrong password)
       *
       * @since 1.5
</pre>
<hr />
<pre>
<span class="line-old-header">*** 516,11 ***</span>
       * @param entry the {@code Entry} to save
       * @param protParam the {@code ProtectionParameter}
       *          used to protect the {@code Entry},
       *          which may be {@code null}
       *
<span class="line-modified">!      * @exception KeyStoreException if this operation fails</span>
       *
       * @since 1.5
       */
      public void engineSetEntry(String alias, KeyStore.Entry entry,
                          KeyStore.ProtectionParameter protParam)
<span class="line-new-header">--- 516,11 ---</span>
       * @param entry the {@code Entry} to save
       * @param protParam the {@code ProtectionParameter}
       *          used to protect the {@code Entry},
       *          which may be {@code null}
       *
<span class="line-modified">!      * @throws    KeyStoreException if this operation fails</span>
       *
       * @since 1.5
       */
      public void engineSetEntry(String alias, KeyStore.Entry entry,
                          KeyStore.ProtectionParameter protParam)
</pre>
<center><a href="KeyStoreException.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="MessageDigest.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>