<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/java/lang/invoke/BootstrapMethodInvoker.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="AbstractConstantGroup.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="BoundMethodHandle.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/lang/invoke/BootstrapMethodInvoker.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 362,11 ***</span>
          private final Class&lt;?&gt; caller;  // for index resolution only
  
          VM_BSCI(MethodHandle bsm, String name, T type,
                  Lookup lookup, int[] indexInfo) {
              super(bsm, name, type, indexInfo[0]);
<span class="line-modified">!             if (!lookup.hasPrivateAccess())  //D.I.D.</span>
                  throw new AssertionError(&quot;bad Lookup object&quot;);
              this.caller = lookup.lookupClass();
              this.indexInfo = indexInfo;
              // scoop up all the easy stuff right away:
              prefetchIntoCache(0, size());
<span class="line-new-header">--- 362,11 ---</span>
          private final Class&lt;?&gt; caller;  // for index resolution only
  
          VM_BSCI(MethodHandle bsm, String name, T type,
                  Lookup lookup, int[] indexInfo) {
              super(bsm, name, type, indexInfo[0]);
<span class="line-modified">!             if (!lookup.hasFullPrivilegeAccess())  //D.I.D.</span>
                  throw new AssertionError(&quot;bad Lookup object&quot;);
              this.caller = lookup.lookupClass();
              this.indexInfo = indexInfo;
              // scoop up all the easy stuff right away:
              prefetchIntoCache(0, size());
</pre>
<hr />
<pre>
<span class="line-old-header">*** 458,12 ***</span>
                  i++;
              }
          }
      }
  
<span class="line-modified">!     /*non-public*/ static final</span>
<span class="line-modified">!     class PushAdapter {</span>
          // skeleton for push-mode BSM which wraps a pull-mode BSM:
          static Object pushToBootstrapMethod(MethodHandle pullModeBSM,
                                              MethodHandles.Lookup lookup, String name, Object type,
                                              Object... arguments) throws Throwable {
              ConstantGroup cons = makeConstantGroup(Arrays.asList(arguments));
<span class="line-new-header">--- 458,12 ---</span>
                  i++;
              }
          }
      }
  
<span class="line-modified">!     /*non-public*/</span>
<span class="line-modified">!     static final class PushAdapter {</span>
          // skeleton for push-mode BSM which wraps a pull-mode BSM:
          static Object pushToBootstrapMethod(MethodHandle pullModeBSM,
                                              MethodHandles.Lookup lookup, String name, Object type,
                                              Object... arguments) throws Throwable {
              ConstantGroup cons = makeConstantGroup(Arrays.asList(arguments));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 485,12 ***</span>
                  throw new InternalError(ex);
              }
          }
      }
  
<span class="line-modified">!     /*non-public*/ static final</span>
<span class="line-modified">!     class PullAdapter {</span>
          // skeleton for pull-mode BSM which wraps a push-mode BSM:
          static Object pullFromBootstrapMethod(MethodHandle pushModeBSM,
                                                MethodHandles.Lookup lookup,
                                                BootstrapCallInfo&lt;?&gt; bsci)
                  throws Throwable {
<span class="line-new-header">--- 485,12 ---</span>
                  throw new InternalError(ex);
              }
          }
      }
  
<span class="line-modified">!     /*non-public*/</span>
<span class="line-modified">!     static final class PullAdapter {</span>
          // skeleton for pull-mode BSM which wraps a push-mode BSM:
          static Object pullFromBootstrapMethod(MethodHandle pushModeBSM,
                                                MethodHandles.Lookup lookup,
                                                BootstrapCallInfo&lt;?&gt; bsci)
                  throws Throwable {
</pre>
<center><a href="AbstractConstantGroup.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="BoundMethodHandle.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>