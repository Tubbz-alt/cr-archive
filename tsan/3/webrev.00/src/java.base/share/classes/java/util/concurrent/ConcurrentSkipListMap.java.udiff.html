<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.base/share/classes/java/util/concurrent/ConcurrentSkipListMap.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="ConcurrentHashMap.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ConcurrentSkipListSet.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/util/concurrent/ConcurrentSkipListMap.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -332,10 +332,11 @@</span>
       * The comparator used to maintain order in this map, or null if
       * using natural ordering.  (Non-private to simplify access in
       * nested classes.)
       * @serial
       */
<span class="udiff-line-added">+     @SuppressWarnings(&quot;serial&quot;) // Conditionally serializable</span>
      final Comparator&lt;? super K&gt; comparator;
  
      /** Lazily initialized topmost index of the skiplist. */
      private transient Index&lt;K,V&gt; head;
      /** Lazily initialized element count */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1127,10 +1128,11 @@</span>
                  (ConcurrentSkipListMap&lt;K,V&gt;) super.clone();
              clone.keySet = null;
              clone.entrySet = null;
              clone.values = null;
              clone.descendingMap = null;
<span class="udiff-line-added">+             clone.adder = null;</span>
              clone.buildFromSorted(this);
              return clone;
          } catch (CloneNotSupportedException e) {
              throw new InternalError();
          }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1709,13 +1711,12 @@</span>
          if (!(o instanceof Map))
              return false;
          Map&lt;?,?&gt; m = (Map&lt;?,?&gt;) o;
          try {
              Comparator&lt;? super K&gt; cmp = comparator;
<span class="udiff-line-modified-removed">-             @SuppressWarnings(&quot;unchecked&quot;)</span>
<span class="udiff-line-modified-removed">-             Iterator&lt;Map.Entry&lt;?,?&gt;&gt; it =</span>
<span class="udiff-line-removed">-                 (Iterator&lt;Map.Entry&lt;?,?&gt;&gt;)m.entrySet().iterator();</span>
<span class="udiff-line-modified-added">+             // See JDK-8223553 for Iterator type wildcard rationale</span>
<span class="udiff-line-modified-added">+             Iterator&lt;? extends Map.Entry&lt;?,?&gt;&gt; it = m.entrySet().iterator();</span>
              if (m instanceof SortedMap &amp;&amp;
                  ((SortedMap&lt;?,?&gt;)m).comparator() == cmp) {
                  Node&lt;K,V&gt; b, n;
                  if ((b = baseHead()) != null) {
                      while ((n = b.next) != null) {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2373,12 +2374,14 @@</span>
          private static final long serialVersionUID = -7647078645895051609L;
  
          /** Underlying map */
          final ConcurrentSkipListMap&lt;K,V&gt; m;
          /** lower bound key, or null if from start */
<span class="udiff-line-added">+         @SuppressWarnings(&quot;serial&quot;) // Conditionally serializable</span>
          private final K lo;
          /** upper bound key, or null if to end */
<span class="udiff-line-added">+         @SuppressWarnings(&quot;serial&quot;) // Conditionally serializable</span>
          private final K hi;
          /** inclusion flag for lo */
          private final boolean loInclusive;
          /** inclusion flag for hi */
          private final boolean hiInclusive;
</pre>
<center><a href="ConcurrentHashMap.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ConcurrentSkipListSet.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>