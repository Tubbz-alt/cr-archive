<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.base/share/classes/java/util/PropertyPermission.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="Properties.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="PropertyResourceBundle.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/util/PropertyPermission.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 1997, 2015, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 1997, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -52,14 +52,14 @@</span>
   * a list of one or more comma-separated keywords. The possible keywords are
   * &quot;read&quot; and &quot;write&quot;. Their meaning is defined as follows:
   *
   * &lt;DL&gt;
   *    &lt;DT&gt; read
<span class="udiff-line-modified-removed">-  *    &lt;DD&gt; read permission. Allows &lt;code&gt;System.getProperty&lt;/code&gt; to</span>
<span class="udiff-line-modified-added">+  *    &lt;DD&gt; read permission. Allows {@code System.getProperty} to</span>
   *         be called.
   *    &lt;DT&gt; write
<span class="udiff-line-modified-removed">-  *    &lt;DD&gt; write permission. Allows &lt;code&gt;System.setProperty&lt;/code&gt; to</span>
<span class="udiff-line-modified-added">+  *    &lt;DD&gt; write permission. Allows {@code System.setProperty} to</span>
   *         be called.
   * &lt;/DL&gt;
   * &lt;P&gt;
   * The actions string is converted to lowercase before processing.
   * &lt;P&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -147,13 +147,13 @@</span>
       * &quot;read&quot; and &quot;write&quot;.
       *
       * @param name the name of the PropertyPermission.
       * @param actions the actions string.
       *
<span class="udiff-line-modified-removed">-      * @throws NullPointerException if &lt;code&gt;name&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;.</span>
<span class="udiff-line-modified-removed">-      * @throws IllegalArgumentException if &lt;code&gt;name&lt;/code&gt; is empty or if</span>
<span class="udiff-line-modified-removed">-      * &lt;code&gt;actions&lt;/code&gt; is invalid.</span>
<span class="udiff-line-modified-added">+      * @throws NullPointerException if {@code name} is {@code null}.</span>
<span class="udiff-line-modified-added">+      * @throws IllegalArgumentException if {@code name} is empty or if</span>
<span class="udiff-line-modified-added">+      * {@code actions} is invalid.</span>
       */
      public PropertyPermission(String name, String actions) {
          super(name,actions);
          init(getMask(actions));
      }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -221,11 +221,11 @@</span>
      }
  
      /**
       * Returns the hash code value for this object.
       * The hash code used is the hash code of this permissions name, that is,
<span class="udiff-line-modified-removed">-      * &lt;code&gt;getName().hashCode()&lt;/code&gt;, where &lt;code&gt;getName&lt;/code&gt; is</span>
<span class="udiff-line-modified-added">+      * {@code getName().hashCode()}, where {@code getName} is</span>
       * from the Permission superclass.
       *
       * @return a hash code value for this object.
       */
      @Override
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -348,11 +348,11 @@</span>
  
      /**
       * Returns the &quot;canonical string representation&quot; of the actions.
       * That is, this method always returns present actions in the following order:
       * read, write. For example, if this PropertyPermission object
<span class="udiff-line-modified-removed">-      * allows both write and read actions, a call to &lt;code&gt;getActions&lt;/code&gt;</span>
<span class="udiff-line-modified-added">+      * allows both write and read actions, a call to {@code getActions}</span>
       * will return the string &quot;read,write&quot;.
       *
       * @return the canonical string representation of the actions.
       */
      @Override
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -383,18 +383,19 @@</span>
      @Override
      public PermissionCollection newPermissionCollection() {
          return new PropertyPermissionCollection();
      }
  
<span class="udiff-line-modified-removed">- </span>
<span class="udiff-line-modified-added">+     @java.io.Serial</span>
      private static final long serialVersionUID = 885438825399942851L;
  
      /**
       * WriteObject is called to save the state of the PropertyPermission
       * to a stream. The actions are serialized, and the superclass
       * takes care of the name.
       */
<span class="udiff-line-added">+     @java.io.Serial</span>
      private synchronized void writeObject(java.io.ObjectOutputStream s)
          throws IOException
      {
          // Write out the actions. The superclass takes care of the name
          // call getActions to make sure actions field is initialized
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -405,10 +406,11 @@</span>
  
      /**
       * readObject is called to restore the state of the PropertyPermission from
       * a stream.
       */
<span class="udiff-line-added">+     @java.io.Serial</span>
      private synchronized void readObject(java.io.ObjectInputStream s)
           throws IOException, ClassNotFoundException
      {
          // Read in the action, then initialize the rest
          s.defaultReadObject();
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -459,14 +461,14 @@</span>
       * Adds a permission to the PropertyPermissions. The key for the hash is
       * the name.
       *
       * @param permission the Permission object to add.
       *
<span class="udiff-line-modified-removed">-      * @exception IllegalArgumentException - if the permission is not a</span>
<span class="udiff-line-modified-added">+      * @throws    IllegalArgumentException   if the permission is not a</span>
       *                                       PropertyPermission
       *
<span class="udiff-line-modified-removed">-      * @exception SecurityException - if this PropertyPermissionCollection</span>
<span class="udiff-line-modified-added">+      * @throws    SecurityException   if this PropertyPermissionCollection</span>
       *                                object has been marked readonly
       */
      @Override
      public void add(Permission permission) {
          if (! (permission instanceof PropertyPermission))
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -594,10 +596,11 @@</span>
           * cannot be directly cast to Enumeration&lt;Permission&gt;
           */
          return (Enumeration)perms.elements();
      }
  
<span class="udiff-line-added">+     @java.io.Serial</span>
      private static final long serialVersionUID = 7015263904581634791L;
  
      // Need to maintain serialization interoperability with earlier releases,
      // which had the serializable field:
      //
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -623,10 +626,11 @@</span>
      /*
       * Writes the contents of the perms field out as a Hashtable for
       * serialization compatibility with earlier releases. all_allowed
       * unchanged.
       */
<span class="udiff-line-added">+     @java.io.Serial</span>
      private void writeObject(ObjectOutputStream out) throws IOException {
          // Don&#39;t call out.defaultWriteObject()
  
          // Copy perms into a Hashtable
          Hashtable&lt;String, Permission&gt; permissions =
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -642,10 +646,11 @@</span>
  
      /*
       * Reads in a Hashtable of PropertyPermissions and saves them in the
       * perms field. Reads in all_allowed.
       */
<span class="udiff-line-added">+     @java.io.Serial</span>
      private void readObject(ObjectInputStream in)
          throws IOException, ClassNotFoundException
      {
          // Don&#39;t call defaultReadObject()
  
</pre>
<center><a href="Properties.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="PropertyResourceBundle.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>