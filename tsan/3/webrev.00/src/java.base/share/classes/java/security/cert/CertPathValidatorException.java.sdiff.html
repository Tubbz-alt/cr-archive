<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/security/cert/CertPathValidatorException.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="CertPathValidator.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="CertPathValidatorSpi.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/security/cert/CertPathValidatorException.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 44  * exception to be thrown, and the reason that caused the failure. Use the
 45  * {@link #getCertPath getCertPath}, {@link #getIndex getIndex}, and
 46  * {@link #getReason getReason} methods to retrieve this information.
 47  *
 48  * &lt;p&gt;
 49  * &lt;b&gt;Concurrent Access&lt;/b&gt;
 50  * &lt;p&gt;
 51  * Unless otherwise specified, the methods defined in this class are not
 52  * thread-safe. Multiple threads that need to access a single
 53  * object concurrently should synchronize amongst themselves and
 54  * provide the necessary locking. Multiple threads each manipulating
 55  * separate objects need not synchronize.
 56  *
 57  * @see CertPathValidator
 58  *
 59  * @since       1.4
 60  * @author      Yassir Elley
 61  */
 62 public class CertPathValidatorException extends GeneralSecurityException {
 63 

 64     private static final long serialVersionUID = -3083180014971893139L;
 65 
 66     /**
 67      * @serial the index of the certificate in the certification path
 68      * that caused the exception to be thrown
 69      */
 70     private int index = -1;
 71 
 72     /**
 73      * @serial the {@code CertPath} that was being validated when
 74      * the exception was thrown
 75      */
 76     private CertPath certPath;
 77 
 78     /**
 79      * @serial the reason the validation failed
 80      */
 81     private Reason reason = BasicReason.UNSPECIFIED;
 82 
 83     /**
</pre>
<hr />
<pre>
211      */
212     public int getIndex() {
213         return this.index;
214     }
215 
216     /**
217      * Returns the reason that the validation failed. The reason is
218      * associated with the index of the certificate returned by
219      * {@link #getIndex}.
220      *
221      * @return the reason that the validation failed, or
222      *    {@code BasicReason.UNSPECIFIED} if a reason has not been
223      *    specified
224      *
225      * @since 1.7
226      */
227     public Reason getReason() {
228         return this.reason;
229     }
230 

231     private void readObject(ObjectInputStream stream)
232         throws ClassNotFoundException, IOException {
233         stream.defaultReadObject();
234         if (reason == null) {
235             reason = BasicReason.UNSPECIFIED;
236         }
237         if (certPath == null &amp;&amp; index != -1) {
238             throw new InvalidObjectException(&quot;certpath is null and index != -1&quot;);
239         }
240         if (index &lt; -1 ||
241             (certPath != null &amp;&amp; index &gt;= certPath.getCertificates().size())) {
242             throw new InvalidObjectException(&quot;index out of range&quot;);
243         }
244     }
245 
246     /**
247      * The reason the validation algorithm failed.
248      *
249      * @since 1.7
250      */
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2000, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 44  * exception to be thrown, and the reason that caused the failure. Use the
 45  * {@link #getCertPath getCertPath}, {@link #getIndex getIndex}, and
 46  * {@link #getReason getReason} methods to retrieve this information.
 47  *
 48  * &lt;p&gt;
 49  * &lt;b&gt;Concurrent Access&lt;/b&gt;
 50  * &lt;p&gt;
 51  * Unless otherwise specified, the methods defined in this class are not
 52  * thread-safe. Multiple threads that need to access a single
 53  * object concurrently should synchronize amongst themselves and
 54  * provide the necessary locking. Multiple threads each manipulating
 55  * separate objects need not synchronize.
 56  *
 57  * @see CertPathValidator
 58  *
 59  * @since       1.4
 60  * @author      Yassir Elley
 61  */
 62 public class CertPathValidatorException extends GeneralSecurityException {
 63 
<span class="line-added"> 64     @java.io.Serial</span>
 65     private static final long serialVersionUID = -3083180014971893139L;
 66 
 67     /**
 68      * @serial the index of the certificate in the certification path
 69      * that caused the exception to be thrown
 70      */
 71     private int index = -1;
 72 
 73     /**
 74      * @serial the {@code CertPath} that was being validated when
 75      * the exception was thrown
 76      */
 77     private CertPath certPath;
 78 
 79     /**
 80      * @serial the reason the validation failed
 81      */
 82     private Reason reason = BasicReason.UNSPECIFIED;
 83 
 84     /**
</pre>
<hr />
<pre>
212      */
213     public int getIndex() {
214         return this.index;
215     }
216 
217     /**
218      * Returns the reason that the validation failed. The reason is
219      * associated with the index of the certificate returned by
220      * {@link #getIndex}.
221      *
222      * @return the reason that the validation failed, or
223      *    {@code BasicReason.UNSPECIFIED} if a reason has not been
224      *    specified
225      *
226      * @since 1.7
227      */
228     public Reason getReason() {
229         return this.reason;
230     }
231 
<span class="line-added">232     @java.io.Serial</span>
233     private void readObject(ObjectInputStream stream)
234         throws ClassNotFoundException, IOException {
235         stream.defaultReadObject();
236         if (reason == null) {
237             reason = BasicReason.UNSPECIFIED;
238         }
239         if (certPath == null &amp;&amp; index != -1) {
240             throw new InvalidObjectException(&quot;certpath is null and index != -1&quot;);
241         }
242         if (index &lt; -1 ||
243             (certPath != null &amp;&amp; index &gt;= certPath.getCertificates().size())) {
244             throw new InvalidObjectException(&quot;index out of range&quot;);
245         }
246     }
247 
248     /**
249      * The reason the validation algorithm failed.
250      *
251      * @since 1.7
252      */
</pre>
</td>
</tr>
</table>
<center><a href="CertPathValidator.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="CertPathValidatorSpi.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>