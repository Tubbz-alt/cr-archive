<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/lang/invoke/AbstractConstantGroup.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../doc-files/threadPrimitiveDeprecation.html.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="BootstrapMethodInvoker.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/lang/invoke/AbstractConstantGroup.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
299         /// routines for mapping between null sentinel and true resolved null
300 
301         static Object wrapNull(Object x) {
302             return x == null ? RESOLVED_TO_NULL : x;
303         }
304 
305         static Object unwrapNull(Object x) {
306             assert(x != null);
307             return x == RESOLVED_TO_NULL ? null : x;
308         }
309 
310         // secret sentinel for an actual null resolved value, in the cache
311         static final Object RESOLVED_TO_NULL = new Object();
312 
313         // secret sentinel for a &quot;hole&quot; in the cache:
314         static final Object NOT_PRESENT = new Object();
315 
316     }
317 
318     /** Skeleton implementation of BootstrapCallInfo. */
<span class="line-modified">319     static</span>
<span class="line-removed">320     class BSCIWithCache&lt;T&gt; extends WithCache implements BootstrapCallInfo&lt;T&gt; {</span>
321         private final MethodHandle bsm;
322         private final String name;
323         private final T type;
324 
325         @Override public String toString() {
326             return bsm+&quot;/&quot;+name+&quot;:&quot;+type+super.toString();
327         }
328 
329         BSCIWithCache(MethodHandle bsm, String name, T type, int size) {
330             super(size);
331             this.type = type;
332             this.bsm = bsm;
333             this.name = name;
334             assert(type instanceof Class || type instanceof MethodType);
335         }
336 
337         @Override public MethodHandle bootstrapMethod() { return bsm; }
338         @Override public String invocationName() { return name; }
339         @Override public T invocationType() { return type; }
340     }
</pre>
</td>
<td>
<hr />
<pre>
299         /// routines for mapping between null sentinel and true resolved null
300 
301         static Object wrapNull(Object x) {
302             return x == null ? RESOLVED_TO_NULL : x;
303         }
304 
305         static Object unwrapNull(Object x) {
306             assert(x != null);
307             return x == RESOLVED_TO_NULL ? null : x;
308         }
309 
310         // secret sentinel for an actual null resolved value, in the cache
311         static final Object RESOLVED_TO_NULL = new Object();
312 
313         // secret sentinel for a &quot;hole&quot; in the cache:
314         static final Object NOT_PRESENT = new Object();
315 
316     }
317 
318     /** Skeleton implementation of BootstrapCallInfo. */
<span class="line-modified">319     static class BSCIWithCache&lt;T&gt; extends WithCache implements BootstrapCallInfo&lt;T&gt; {</span>

320         private final MethodHandle bsm;
321         private final String name;
322         private final T type;
323 
324         @Override public String toString() {
325             return bsm+&quot;/&quot;+name+&quot;:&quot;+type+super.toString();
326         }
327 
328         BSCIWithCache(MethodHandle bsm, String name, T type, int size) {
329             super(size);
330             this.type = type;
331             this.bsm = bsm;
332             this.name = name;
333             assert(type instanceof Class || type instanceof MethodType);
334         }
335 
336         @Override public MethodHandle bootstrapMethod() { return bsm; }
337         @Override public String invocationName() { return name; }
338         @Override public T invocationType() { return type; }
339     }
</pre>
</td>
</tr>
</table>
<center><a href="../doc-files/threadPrimitiveDeprecation.html.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="BootstrapMethodInvoker.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>