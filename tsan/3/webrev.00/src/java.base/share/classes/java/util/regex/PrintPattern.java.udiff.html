<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.base/share/classes/java/util/regex/PrintPattern.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="PatternSyntaxException.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="package-info.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/util/regex/PrintPattern.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 2016, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 2016, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -38,22 +38,20 @@</span>
      private static HashMap&lt;Pattern.Node, Integer&gt; ids = new HashMap&lt;&gt;();
  
      private static void print(Pattern.Node node, String text, int depth) {
          if (!ids.containsKey(node))
              ids.put(node, ids.size());
<span class="udiff-line-modified-removed">-         print(&quot;%6d:%&quot; + (depth==0? &quot;&quot;: depth&lt;&lt;1) + &quot;s&lt;%s&gt;&quot;, ids.get(node), &quot;&quot;, text);</span>
<span class="udiff-line-modified-added">+         System.out.printf(&quot;%6d:%&quot; + (depth==0? &quot;&quot;: depth&lt;&lt;1) + &quot;s&lt;%s&gt;&quot;,</span>
<span class="udiff-line-added">+                           ids.get(node), &quot;&quot;, text);</span>
          if (ids.containsKey(node.next))
<span class="udiff-line-modified-removed">-             print(&quot; (=&gt;%d)&quot;, ids.get(node.next));</span>
<span class="udiff-line-modified-removed">-         print(&quot;%n&quot;);</span>
<span class="udiff-line-modified-added">+             System.out.printf(&quot; (=&gt;%d)&quot;, ids.get(node.next));</span>
<span class="udiff-line-modified-added">+         System.out.printf(&quot;%n&quot;);</span>
      }
  
      private static void print(String s, int depth) {
<span class="udiff-line-modified-removed">-         print(&quot;       %&quot; + (depth==0?&quot;&quot;:depth&lt;&lt;1) + &quot;s&lt;%s&gt;%n&quot;, &quot;&quot;, s);</span>
<span class="udiff-line-modified-removed">-     }</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     private static void print(String fmt, Object ... args) {</span>
<span class="udiff-line-removed">-         System.err.printf(fmt, args);</span>
<span class="udiff-line-modified-added">+         System.out.printf(&quot;       %&quot; + (depth==0?&quot;&quot;:depth&lt;&lt;1) + &quot;s&lt;%s&gt;%n&quot;,</span>
<span class="udiff-line-modified-added">+                           &quot;&quot;, s);</span>
      }
  
      private static String toStringCPS(int[] cps) {
          StringBuilder sb = new StringBuilder(cps.length);
          for (int cp : cps)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -193,11 +191,17 @@</span>
                  String pstr = pmap.get(gcp.predicate);
                  if (pstr == null)
                      pstr = gcp.predicate.toString();
                  else
                      pstr = &quot;Single \&quot;&quot; + pstr + &quot;\&quot;&quot;;
<span class="udiff-line-modified-removed">-                 str = name + &quot; &quot; + pstr + ((gcp.cmin == 0) ? &quot;*&quot; : &quot;+&quot;);</span>
<span class="udiff-line-modified-added">+                 str = name + &quot; &quot; + pstr;</span>
<span class="udiff-line-added">+                 if (gcp.cmin == 0)</span>
<span class="udiff-line-added">+                     str += &quot;*&quot;;</span>
<span class="udiff-line-added">+                 else if (gcp.cmin == 1)</span>
<span class="udiff-line-added">+                     str += &quot;+&quot;;</span>
<span class="udiff-line-added">+                 else</span>
<span class="udiff-line-added">+                     str += &quot;{&quot; + gcp.cmin + &quot;,}&quot;;</span>
                  print(node, str, depth);
              } else if (node instanceof Pattern.BackRef) {
                  str = &quot;GroupBackRef &quot; + ((Pattern.BackRef)node).groupIndex / 2;
                  print(node, str, depth);
              } else if (node instanceof Pattern.LastNode) {
</pre>
<center><a href="PatternSyntaxException.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="package-info.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>