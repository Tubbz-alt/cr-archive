<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/time/LocalDateTime.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="LocalDate.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="LocalTime.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/time/LocalDateTime.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 2012, 2018, Oracle and/or its affiliates. All rights reserved.</span>
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.  Oracle designates this
   8  * particular file as subject to the &quot;Classpath&quot; exception as provided
   9  * by Oracle in the LICENSE file that accompanied this code.
  10  *
  11  * This code is distributed in the hope that it will be useful, but WITHOUT
  12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  * version 2 for more details (a copy is included in the LICENSE file that
  15  * accompanied this code).
  16  *
  17  * You should have received a copy of the GNU General Public License version
  18  * 2 along with this work; if not, write to the Free Software Foundation,
  19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20  *
  21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 136         implements Temporal, TemporalAdjuster, ChronoLocalDateTime&lt;LocalDate&gt;, Serializable {
 137 
 138     /**
 139      * The minimum supported {@code LocalDateTime}, &#39;-999999999-01-01T00:00:00&#39;.
 140      * This is the local date-time of midnight at the start of the minimum date.
 141      * This combines {@link LocalDate#MIN} and {@link LocalTime#MIN}.
 142      * This could be used by an application as a &quot;far past&quot; date-time.
 143      */
 144     public static final LocalDateTime MIN = LocalDateTime.of(LocalDate.MIN, LocalTime.MIN);
 145     /**
 146      * The maximum supported {@code LocalDateTime}, &#39;+999999999-12-31T23:59:59.999999999&#39;.
 147      * This is the local date-time just before midnight at the end of the maximum date.
 148      * This combines {@link LocalDate#MAX} and {@link LocalTime#MAX}.
 149      * This could be used by an application as a &quot;far future&quot; date-time.
 150      */
 151     public static final LocalDateTime MAX = LocalDateTime.of(LocalDate.MAX, LocalTime.MAX);
 152 
 153     /**
 154      * Serialization version.
 155      */

 156     private static final long serialVersionUID = 6207766400415563566L;
 157 
 158     /**
 159      * The date part.
 160      */
 161     private final LocalDate date;
 162     /**
 163      * The time part.
 164      */
 165     private final LocalTime time;
 166 
 167     //-----------------------------------------------------------------------
 168     /**
 169      * Obtains the current date-time from the system clock in the default time-zone.
 170      * &lt;p&gt;
 171      * This will query the {@link Clock#systemDefaultZone() system clock} in the default
 172      * time-zone to obtain the current date-time.
 173      * &lt;p&gt;
 174      * Using this method will prevent the ability to use an alternate clock for testing
 175      * because the clock is hard-coded.
</pre>
<hr />
<pre>
1968      * @return a string representation of this date-time, not null
1969      */
1970     @Override
1971     public String toString() {
1972         return date.toString() + &#39;T&#39; + time.toString();
1973     }
1974 
1975     //-----------------------------------------------------------------------
1976     /**
1977      * Writes the object using a
1978      * &lt;a href=&quot;{@docRoot}/serialized-form.html#java.time.Ser&quot;&gt;dedicated serialized form&lt;/a&gt;.
1979      * @serialData
1980      * &lt;pre&gt;
1981      *  out.writeByte(5);  // identifies a LocalDateTime
1982      *  // the &lt;a href=&quot;{@docRoot}/serialized-form.html#java.time.LocalDate&quot;&gt;date&lt;/a&gt; excluding the one byte header
1983      *  // the &lt;a href=&quot;{@docRoot}/serialized-form.html#java.time.LocalTime&quot;&gt;time&lt;/a&gt; excluding the one byte header
1984      * &lt;/pre&gt;
1985      *
1986      * @return the instance of {@code Ser}, not null
1987      */

1988     private Object writeReplace() {
1989         return new Ser(Ser.LOCAL_DATE_TIME_TYPE, this);
1990     }
1991 
1992     /**
1993      * Defend against malicious streams.
1994      *
1995      * @param s the stream to read
1996      * @throws InvalidObjectException always
1997      */

1998     private void readObject(ObjectInputStream s) throws InvalidObjectException {
1999         throw new InvalidObjectException(&quot;Deserialization via serialization delegate&quot;);
2000     }
2001 
2002     void writeExternal(DataOutput out) throws IOException {
2003         date.writeExternal(out);
2004         time.writeExternal(out);
2005     }
2006 
2007     static LocalDateTime readExternal(DataInput in) throws IOException {
2008         LocalDate date = LocalDate.readExternal(in);
2009         LocalTime time = LocalTime.readExternal(in);
2010         return LocalDateTime.of(date, time);
2011     }
2012 
2013 }
</pre>
</td>
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 2012, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.  Oracle designates this
   8  * particular file as subject to the &quot;Classpath&quot; exception as provided
   9  * by Oracle in the LICENSE file that accompanied this code.
  10  *
  11  * This code is distributed in the hope that it will be useful, but WITHOUT
  12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  * version 2 for more details (a copy is included in the LICENSE file that
  15  * accompanied this code).
  16  *
  17  * You should have received a copy of the GNU General Public License version
  18  * 2 along with this work; if not, write to the Free Software Foundation,
  19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20  *
  21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 136         implements Temporal, TemporalAdjuster, ChronoLocalDateTime&lt;LocalDate&gt;, Serializable {
 137 
 138     /**
 139      * The minimum supported {@code LocalDateTime}, &#39;-999999999-01-01T00:00:00&#39;.
 140      * This is the local date-time of midnight at the start of the minimum date.
 141      * This combines {@link LocalDate#MIN} and {@link LocalTime#MIN}.
 142      * This could be used by an application as a &quot;far past&quot; date-time.
 143      */
 144     public static final LocalDateTime MIN = LocalDateTime.of(LocalDate.MIN, LocalTime.MIN);
 145     /**
 146      * The maximum supported {@code LocalDateTime}, &#39;+999999999-12-31T23:59:59.999999999&#39;.
 147      * This is the local date-time just before midnight at the end of the maximum date.
 148      * This combines {@link LocalDate#MAX} and {@link LocalTime#MAX}.
 149      * This could be used by an application as a &quot;far future&quot; date-time.
 150      */
 151     public static final LocalDateTime MAX = LocalDateTime.of(LocalDate.MAX, LocalTime.MAX);
 152 
 153     /**
 154      * Serialization version.
 155      */
<span class="line-added"> 156     @java.io.Serial</span>
 157     private static final long serialVersionUID = 6207766400415563566L;
 158 
 159     /**
 160      * The date part.
 161      */
 162     private final LocalDate date;
 163     /**
 164      * The time part.
 165      */
 166     private final LocalTime time;
 167 
 168     //-----------------------------------------------------------------------
 169     /**
 170      * Obtains the current date-time from the system clock in the default time-zone.
 171      * &lt;p&gt;
 172      * This will query the {@link Clock#systemDefaultZone() system clock} in the default
 173      * time-zone to obtain the current date-time.
 174      * &lt;p&gt;
 175      * Using this method will prevent the ability to use an alternate clock for testing
 176      * because the clock is hard-coded.
</pre>
<hr />
<pre>
1969      * @return a string representation of this date-time, not null
1970      */
1971     @Override
1972     public String toString() {
1973         return date.toString() + &#39;T&#39; + time.toString();
1974     }
1975 
1976     //-----------------------------------------------------------------------
1977     /**
1978      * Writes the object using a
1979      * &lt;a href=&quot;{@docRoot}/serialized-form.html#java.time.Ser&quot;&gt;dedicated serialized form&lt;/a&gt;.
1980      * @serialData
1981      * &lt;pre&gt;
1982      *  out.writeByte(5);  // identifies a LocalDateTime
1983      *  // the &lt;a href=&quot;{@docRoot}/serialized-form.html#java.time.LocalDate&quot;&gt;date&lt;/a&gt; excluding the one byte header
1984      *  // the &lt;a href=&quot;{@docRoot}/serialized-form.html#java.time.LocalTime&quot;&gt;time&lt;/a&gt; excluding the one byte header
1985      * &lt;/pre&gt;
1986      *
1987      * @return the instance of {@code Ser}, not null
1988      */
<span class="line-added">1989     @java.io.Serial</span>
1990     private Object writeReplace() {
1991         return new Ser(Ser.LOCAL_DATE_TIME_TYPE, this);
1992     }
1993 
1994     /**
1995      * Defend against malicious streams.
1996      *
1997      * @param s the stream to read
1998      * @throws InvalidObjectException always
1999      */
<span class="line-added">2000     @java.io.Serial</span>
2001     private void readObject(ObjectInputStream s) throws InvalidObjectException {
2002         throw new InvalidObjectException(&quot;Deserialization via serialization delegate&quot;);
2003     }
2004 
2005     void writeExternal(DataOutput out) throws IOException {
2006         date.writeExternal(out);
2007         time.writeExternal(out);
2008     }
2009 
2010     static LocalDateTime readExternal(DataInput in) throws IOException {
2011         LocalDate date = LocalDate.readExternal(in);
2012         LocalTime time = LocalTime.readExternal(in);
2013         return LocalDateTime.of(date, time);
2014     }
2015 
2016 }
</pre>
</td>
</tr>
</table>
<center><a href="LocalDate.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="LocalTime.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>