<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/util/concurrent/LinkedBlockingQueue.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="LinkedBlockingDeque.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="Phaser.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/util/concurrent/LinkedBlockingQueue.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 139 
 140     /** Current number of elements */
 141     private final AtomicInteger count = new AtomicInteger();
 142 
 143     /**
 144      * Head of linked list.
 145      * Invariant: head.item == null
 146      */
 147     transient Node&lt;E&gt; head;
 148 
 149     /**
 150      * Tail of linked list.
 151      * Invariant: last.next == null
 152      */
 153     private transient Node&lt;E&gt; last;
 154 
 155     /** Lock held by take, poll, etc */
 156     private final ReentrantLock takeLock = new ReentrantLock();
 157 
 158     /** Wait queue for waiting takes */

 159     private final Condition notEmpty = takeLock.newCondition();
 160 
 161     /** Lock held by put, offer, etc */
 162     private final ReentrantLock putLock = new ReentrantLock();
 163 
 164     /** Wait queue for waiting puts */

 165     private final Condition notFull = putLock.newCondition();
 166 
 167     /**
 168      * Signals a waiting take. Called only from put/offer (which do not
 169      * otherwise ordinarily lock takeLock.)
 170      */
 171     private void signalNotEmpty() {
 172         final ReentrantLock takeLock = this.takeLock;
 173         takeLock.lock();
 174         try {
 175             notEmpty.signal();
 176         } finally {
 177             takeLock.unlock();
 178         }
 179     }
 180 
 181     /**
 182      * Signals a waiting put. Called only from take/poll.
 183      */
 184     private void signalNotFull() {
</pre>
</td>
<td>
<hr />
<pre>
 139 
 140     /** Current number of elements */
 141     private final AtomicInteger count = new AtomicInteger();
 142 
 143     /**
 144      * Head of linked list.
 145      * Invariant: head.item == null
 146      */
 147     transient Node&lt;E&gt; head;
 148 
 149     /**
 150      * Tail of linked list.
 151      * Invariant: last.next == null
 152      */
 153     private transient Node&lt;E&gt; last;
 154 
 155     /** Lock held by take, poll, etc */
 156     private final ReentrantLock takeLock = new ReentrantLock();
 157 
 158     /** Wait queue for waiting takes */
<span class="line-added"> 159     @SuppressWarnings(&quot;serial&quot;) // Classes implementing Condition may be serializable.</span>
 160     private final Condition notEmpty = takeLock.newCondition();
 161 
 162     /** Lock held by put, offer, etc */
 163     private final ReentrantLock putLock = new ReentrantLock();
 164 
 165     /** Wait queue for waiting puts */
<span class="line-added"> 166     @SuppressWarnings(&quot;serial&quot;) // Classes implementing Condition may be serializable.</span>
 167     private final Condition notFull = putLock.newCondition();
 168 
 169     /**
 170      * Signals a waiting take. Called only from put/offer (which do not
 171      * otherwise ordinarily lock takeLock.)
 172      */
 173     private void signalNotEmpty() {
 174         final ReentrantLock takeLock = this.takeLock;
 175         takeLock.lock();
 176         try {
 177             notEmpty.signal();
 178         } finally {
 179             takeLock.unlock();
 180         }
 181     }
 182 
 183     /**
 184      * Signals a waiting put. Called only from take/poll.
 185      */
 186     private void signalNotFull() {
</pre>
</td>
</tr>
</table>
<center><a href="LinkedBlockingDeque.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="Phaser.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>