<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/java/text/DecimalFormatSymbols.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="DecimalFormat.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="DigitList.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/text/DecimalFormatSymbols.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 1996, 2017, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 1996, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 36,28 ***</span>
   *
   */
  
  package java.text;
  
  import java.io.IOException;
  import java.io.ObjectInputStream;
  import java.io.Serializable;
  import java.text.spi.DecimalFormatSymbolsProvider;
  import java.util.Currency;
  import java.util.Locale;
  import sun.util.locale.provider.CalendarDataUtility;
  import sun.util.locale.provider.LocaleProviderAdapter;
  import sun.util.locale.provider.LocaleServiceProviderPool;
  import sun.util.locale.provider.ResourceBundleBasedAdapter;
  
  /**
   * This class represents the set of symbols (such as the decimal separator,
<span class="line-modified">!  * the grouping separator, and so on) needed by &lt;code&gt;DecimalFormat&lt;/code&gt;</span>
<span class="line-modified">!  * to format numbers. &lt;code&gt;DecimalFormat&lt;/code&gt; creates for itself an instance of</span>
<span class="line-modified">!  * &lt;code&gt;DecimalFormatSymbols&lt;/code&gt; from its locale data.  If you need to change any</span>
<span class="line-modified">!  * of these symbols, you can get the &lt;code&gt;DecimalFormatSymbols&lt;/code&gt; object from</span>
<span class="line-modified">!  * your &lt;code&gt;DecimalFormat&lt;/code&gt; and modify it.</span>
   *
   * &lt;p&gt;If the locale contains &quot;rg&quot; (region override)
   * &lt;a href=&quot;../util/Locale.html#def_locale_extension&quot;&gt;Unicode extension&lt;/a&gt;,
   * the symbols are overridden for the designated region.
   *
<span class="line-new-header">--- 36,30 ---</span>
   *
   */
  
  package java.text;
  
<span class="line-added">+ import java.io.InvalidObjectException;</span>
  import java.io.IOException;
  import java.io.ObjectInputStream;
  import java.io.Serializable;
  import java.text.spi.DecimalFormatSymbolsProvider;
  import java.util.Currency;
  import java.util.Locale;
<span class="line-added">+ import java.util.Objects;</span>
  import sun.util.locale.provider.CalendarDataUtility;
  import sun.util.locale.provider.LocaleProviderAdapter;
  import sun.util.locale.provider.LocaleServiceProviderPool;
  import sun.util.locale.provider.ResourceBundleBasedAdapter;
  
  /**
   * This class represents the set of symbols (such as the decimal separator,
<span class="line-modified">!  * the grouping separator, and so on) needed by {@code DecimalFormat}</span>
<span class="line-modified">!  * to format numbers. {@code DecimalFormat} creates for itself an instance of</span>
<span class="line-modified">!  * {@code DecimalFormatSymbols} from its locale data.  If you need to change any</span>
<span class="line-modified">!  * of these symbols, you can get the {@code DecimalFormatSymbols} object from</span>
<span class="line-modified">!  * your {@code DecimalFormat} and modify it.</span>
   *
   * &lt;p&gt;If the locale contains &quot;rg&quot; (region override)
   * &lt;a href=&quot;../util/Locale.html#def_locale_extension&quot;&gt;Unicode extension&lt;/a&gt;,
   * the symbols are overridden for the designated region.
   *
</pre>
<hr />
<pre>
<span class="line-old-header">*** 105,58 ***</span>
       * &lt;/pre&gt;
       * This may return a {@code NumberFormat} instance with the Thai numbering system,
       * instead of the Latin numbering system.
       *
       * @param locale the desired locale
<span class="line-modified">!      * @exception NullPointerException if &lt;code&gt;locale&lt;/code&gt; is null</span>
       */
      public DecimalFormatSymbols( Locale locale ) {
          initialize( locale );
      }
  
      /**
       * Returns an array of all locales for which the
<span class="line-modified">!      * &lt;code&gt;getInstance&lt;/code&gt; methods of this class can return</span>
       * localized instances.
       * The returned array represents the union of locales supported by the Java
       * runtime and by installed
       * {@link java.text.spi.DecimalFormatSymbolsProvider DecimalFormatSymbolsProvider}
<span class="line-modified">!      * implementations.  It must contain at least a &lt;code&gt;Locale&lt;/code&gt;</span>
       * instance equal to {@link java.util.Locale#US Locale.US}.
       *
       * @return an array of locales for which localized
<span class="line-modified">!      *         &lt;code&gt;DecimalFormatSymbols&lt;/code&gt; instances are available.</span>
       * @since 1.6
       */
      public static Locale[] getAvailableLocales() {
          LocaleServiceProviderPool pool =
              LocaleServiceProviderPool.getPool(DecimalFormatSymbolsProvider.class);
          return pool.getAvailableLocales();
      }
  
      /**
<span class="line-modified">!      * Gets the &lt;code&gt;DecimalFormatSymbols&lt;/code&gt; instance for the default</span>
<span class="line-modified">!      * locale.  This method provides access to &lt;code&gt;DecimalFormatSymbols&lt;/code&gt;</span>
       * instances for locales supported by the Java runtime itself as well
       * as for those supported by installed
       * {@link java.text.spi.DecimalFormatSymbolsProvider
       * DecimalFormatSymbolsProvider} implementations.
       * &lt;p&gt;This is equivalent to calling
       * {@link #getInstance(Locale)
       *     getInstance(Locale.getDefault(Locale.Category.FORMAT))}.
       * @see java.util.Locale#getDefault(java.util.Locale.Category)
       * @see java.util.Locale.Category#FORMAT
<span class="line-modified">!      * @return a &lt;code&gt;DecimalFormatSymbols&lt;/code&gt; instance.</span>
       * @since 1.6
       */
      public static final DecimalFormatSymbols getInstance() {
          return getInstance(Locale.getDefault(Locale.Category.FORMAT));
      }
  
      /**
<span class="line-modified">!      * Gets the &lt;code&gt;DecimalFormatSymbols&lt;/code&gt; instance for the specified</span>
<span class="line-modified">!      * locale.  This method provides access to &lt;code&gt;DecimalFormatSymbols&lt;/code&gt;</span>
       * instances for locales supported by the Java runtime itself as well
       * as for those supported by installed
       * {@link java.text.spi.DecimalFormatSymbolsProvider
       * DecimalFormatSymbolsProvider} implementations.
       * If the specified locale contains the {@link java.util.Locale#UNICODE_LOCALE_EXTENSION}
<span class="line-new-header">--- 107,58 ---</span>
       * &lt;/pre&gt;
       * This may return a {@code NumberFormat} instance with the Thai numbering system,
       * instead of the Latin numbering system.
       *
       * @param locale the desired locale
<span class="line-modified">!      * @throws    NullPointerException if {@code locale} is null</span>
       */
      public DecimalFormatSymbols( Locale locale ) {
          initialize( locale );
      }
  
      /**
       * Returns an array of all locales for which the
<span class="line-modified">!      * {@code getInstance} methods of this class can return</span>
       * localized instances.
       * The returned array represents the union of locales supported by the Java
       * runtime and by installed
       * {@link java.text.spi.DecimalFormatSymbolsProvider DecimalFormatSymbolsProvider}
<span class="line-modified">!      * implementations.  It must contain at least a {@code Locale}</span>
       * instance equal to {@link java.util.Locale#US Locale.US}.
       *
       * @return an array of locales for which localized
<span class="line-modified">!      *         {@code DecimalFormatSymbols} instances are available.</span>
       * @since 1.6
       */
      public static Locale[] getAvailableLocales() {
          LocaleServiceProviderPool pool =
              LocaleServiceProviderPool.getPool(DecimalFormatSymbolsProvider.class);
          return pool.getAvailableLocales();
      }
  
      /**
<span class="line-modified">!      * Gets the {@code DecimalFormatSymbols} instance for the default</span>
<span class="line-modified">!      * locale.  This method provides access to {@code DecimalFormatSymbols}</span>
       * instances for locales supported by the Java runtime itself as well
       * as for those supported by installed
       * {@link java.text.spi.DecimalFormatSymbolsProvider
       * DecimalFormatSymbolsProvider} implementations.
       * &lt;p&gt;This is equivalent to calling
       * {@link #getInstance(Locale)
       *     getInstance(Locale.getDefault(Locale.Category.FORMAT))}.
       * @see java.util.Locale#getDefault(java.util.Locale.Category)
       * @see java.util.Locale.Category#FORMAT
<span class="line-modified">!      * @return a {@code DecimalFormatSymbols} instance.</span>
       * @since 1.6
       */
      public static final DecimalFormatSymbols getInstance() {
          return getInstance(Locale.getDefault(Locale.Category.FORMAT));
      }
  
      /**
<span class="line-modified">!      * Gets the {@code DecimalFormatSymbols} instance for the specified</span>
<span class="line-modified">!      * locale.  This method provides access to {@code DecimalFormatSymbols}</span>
       * instances for locales supported by the Java runtime itself as well
       * as for those supported by installed
       * {@link java.text.spi.DecimalFormatSymbolsProvider
       * DecimalFormatSymbolsProvider} implementations.
       * If the specified locale contains the {@link java.util.Locale#UNICODE_LOCALE_EXTENSION}
</pre>
<hr />
<pre>
<span class="line-old-header">*** 167,12 ***</span>
       * &lt;/pre&gt;
       * This may return a {@code NumberFormat} instance with the Thai numbering system,
       * instead of the Latin numbering system.
       *
       * @param locale the desired locale.
<span class="line-modified">!      * @return a &lt;code&gt;DecimalFormatSymbols&lt;/code&gt; instance.</span>
<span class="line-modified">!      * @exception NullPointerException if &lt;code&gt;locale&lt;/code&gt; is null</span>
       * @since 1.6
       */
      public static final DecimalFormatSymbols getInstance(Locale locale) {
          LocaleProviderAdapter adapter;
          adapter = LocaleProviderAdapter.getAdapter(DecimalFormatSymbolsProvider.class, locale);
<span class="line-new-header">--- 169,12 ---</span>
       * &lt;/pre&gt;
       * This may return a {@code NumberFormat} instance with the Thai numbering system,
       * instead of the Latin numbering system.
       *
       * @param locale the desired locale.
<span class="line-modified">!      * @return a {@code DecimalFormatSymbols} instance.</span>
<span class="line-modified">!      * @throws    NullPointerException if {@code locale} is null</span>
       * @since 1.6
       */
      public static final DecimalFormatSymbols getInstance(Locale locale) {
          LocaleProviderAdapter adapter;
          adapter = LocaleProviderAdapter.getAdapter(DecimalFormatSymbolsProvider.class, locale);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 198,28 ***</span>
       * Sets the character used for zero. Different for Arabic, etc.
       *
       * @param zeroDigit the character used for zero
       */
      public void setZeroDigit(char zeroDigit) {
          this.zeroDigit = zeroDigit;
      }
  
      /**
<span class="line-modified">!      * Gets the character used for thousands separator. Different for French, etc.</span>
       *
       * @return the grouping separator
       */
      public char getGroupingSeparator() {
          return groupingSeparator;
      }
  
      /**
<span class="line-modified">!      * Sets the character used for thousands separator. Different for French, etc.</span>
       *
       * @param groupingSeparator the grouping separator
       */
      public void setGroupingSeparator(char groupingSeparator) {
          this.groupingSeparator = groupingSeparator;
      }
  
      /**
       * Gets the character used for decimal sign. Different for French, etc.
<span class="line-new-header">--- 200,30 ---</span>
       * Sets the character used for zero. Different for Arabic, etc.
       *
       * @param zeroDigit the character used for zero
       */
      public void setZeroDigit(char zeroDigit) {
<span class="line-added">+         hashCode = 0;</span>
          this.zeroDigit = zeroDigit;
      }
  
      /**
<span class="line-modified">!      * Gets the character used for grouping separator. Different for French, etc.</span>
       *
       * @return the grouping separator
       */
      public char getGroupingSeparator() {
          return groupingSeparator;
      }
  
      /**
<span class="line-modified">!      * Sets the character used for grouping separator. Different for French, etc.</span>
       *
       * @param groupingSeparator the grouping separator
       */
      public void setGroupingSeparator(char groupingSeparator) {
<span class="line-added">+         hashCode = 0;</span>
          this.groupingSeparator = groupingSeparator;
      }
  
      /**
       * Gets the character used for decimal sign. Different for French, etc.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 234,10 ***</span>
<span class="line-new-header">--- 238,11 ---</span>
       * Sets the character used for decimal sign. Different for French, etc.
       *
       * @param decimalSeparator the character used for decimal sign
       */
      public void setDecimalSeparator(char decimalSeparator) {
<span class="line-added">+         hashCode = 0;</span>
          this.decimalSeparator = decimalSeparator;
      }
  
      /**
       * Gets the character used for per mille sign. Different for Arabic, etc.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 252,11 ***</span>
<span class="line-new-header">--- 257,13 ---</span>
       * Sets the character used for per mille sign. Different for Arabic, etc.
       *
       * @param perMill the character used for per mille sign
       */
      public void setPerMill(char perMill) {
<span class="line-added">+         hashCode = 0;</span>
          this.perMill = perMill;
<span class="line-added">+         this.perMillText = Character.toString(perMill);</span>
      }
  
      /**
       * Gets the character used for percent sign. Different for Arabic, etc.
       *
</pre>
<hr />
<pre>
<span class="line-old-header">*** 270,11 ***</span>
<span class="line-new-header">--- 277,13 ---</span>
       * Sets the character used for percent sign. Different for Arabic, etc.
       *
       * @param percent the character used for percent sign
       */
      public void setPercent(char percent) {
<span class="line-added">+         hashCode = 0;</span>
          this.percent = percent;
<span class="line-added">+         this.percentText = Character.toString(percent);</span>
      }
  
      /**
       * Gets the character used for a digit in a pattern.
       *
</pre>
<hr />
<pre>
<span class="line-old-header">*** 288,10 ***</span>
<span class="line-new-header">--- 297,11 ---</span>
       * Sets the character used for a digit in a pattern.
       *
       * @param digit the character used for a digit in a pattern
       */
      public void setDigit(char digit) {
<span class="line-added">+         hashCode = 0;</span>
          this.digit = digit;
      }
  
      /**
       * Gets the character used to separate positive and negative subpatterns
</pre>
<hr />
<pre>
<span class="line-old-header">*** 308,10 ***</span>
<span class="line-new-header">--- 318,11 ---</span>
       * in a pattern.
       *
       * @param patternSeparator the pattern separator
       */
      public void setPatternSeparator(char patternSeparator) {
<span class="line-added">+         hashCode = 0;</span>
          this.patternSeparator = patternSeparator;
      }
  
      /**
       * Gets the string used to represent infinity. Almost always left
</pre>
<hr />
<pre>
<span class="line-old-header">*** 328,10 ***</span>
<span class="line-new-header">--- 339,11 ---</span>
       * unchanged.
       *
       * @param infinity the string representing infinity
       */
      public void setInfinity(String infinity) {
<span class="line-added">+         hashCode = 0;</span>
          this.infinity = infinity;
      }
  
      /**
       * Gets the string used to represent &quot;not a number&quot;. Almost always left
</pre>
<hr />
<pre>
<span class="line-old-header">*** 348,10 ***</span>
<span class="line-new-header">--- 360,11 ---</span>
       * unchanged.
       *
       * @param NaN the string representing &quot;not a number&quot;
       */
      public void setNaN(String NaN) {
<span class="line-added">+         hashCode = 0;</span>
          this.NaN = NaN;
      }
  
      /**
       * Gets the character used to represent minus sign. If no explicit
</pre>
<hr />
<pre>
<span class="line-old-header">*** 370,11 ***</span>
<span class="line-new-header">--- 383,13 ---</span>
       * minusSign to the positive format.
       *
       * @param minusSign the character representing minus sign
       */
      public void setMinusSign(char minusSign) {
<span class="line-added">+         hashCode = 0;</span>
          this.minusSign = minusSign;
<span class="line-added">+         this.minusSignText = Character.toString(minusSign);</span>
      }
  
      /**
       * Returns the currency symbol for the currency of these
       * DecimalFormatSymbols in their locale.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 396,10 ***</span>
<span class="line-new-header">--- 411,11 ---</span>
       * @since 1.2
       */
      public void setCurrencySymbol(String currency)
      {
          initializeCurrency(locale);
<span class="line-added">+         hashCode = 0;</span>
          currencySymbol = currency;
      }
  
      /**
       * Returns the ISO 4217 currency code of the currency of these
</pre>
<hr />
<pre>
<span class="line-old-header">*** 431,10 ***</span>
<span class="line-new-header">--- 447,11 ---</span>
       * @since 1.2
       */
      public void setInternationalCurrencySymbol(String currencyCode)
      {
          initializeCurrency(locale);
<span class="line-added">+         hashCode = 0;</span>
          intlCurrencySymbol = currencyCode;
          currency = null;
          if (currencyCode != null) {
              try {
                  currency = Currency.getInstance(currencyCode);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 462,20 ***</span>
       * This also sets the currency symbol attribute to the currency&#39;s symbol
       * in the DecimalFormatSymbols&#39; locale, and the international currency
       * symbol attribute to the currency&#39;s ISO 4217 currency code.
       *
       * @param currency the new currency to be used
<span class="line-modified">!      * @exception NullPointerException if &lt;code&gt;currency&lt;/code&gt; is null</span>
       * @since 1.4
       * @see #setCurrencySymbol
       * @see #setInternationalCurrencySymbol
       */
      public void setCurrency(Currency currency) {
          if (currency == null) {
              throw new NullPointerException();
          }
          initializeCurrency(locale);
          this.currency = currency;
          intlCurrencySymbol = currency.getCurrencyCode();
          currencySymbol = currency.getSymbol(locale);
      }
  
<span class="line-new-header">--- 479,21 ---</span>
       * This also sets the currency symbol attribute to the currency&#39;s symbol
       * in the DecimalFormatSymbols&#39; locale, and the international currency
       * symbol attribute to the currency&#39;s ISO 4217 currency code.
       *
       * @param currency the new currency to be used
<span class="line-modified">!      * @throws    NullPointerException if {@code currency} is null</span>
       * @since 1.4
       * @see #setCurrencySymbol
       * @see #setInternationalCurrencySymbol
       */
      public void setCurrency(Currency currency) {
          if (currency == null) {
              throw new NullPointerException();
          }
          initializeCurrency(locale);
<span class="line-added">+         hashCode = 0;</span>
          this.currency = currency;
          intlCurrencySymbol = currency.getCurrencyCode();
          currencySymbol = currency.getSymbol(locale);
      }
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 497,25 ***</span>
       * @param sep the monetary decimal separator
       * @since 1.2
       */
      public void setMonetaryDecimalSeparator(char sep)
      {
          monetarySeparator = sep;
      }
  
<span class="line-removed">-     //------------------------------------------------------------</span>
<span class="line-removed">-     // BEGIN   Package Private methods ... to be made public later</span>
<span class="line-removed">-     //------------------------------------------------------------</span>
<span class="line-removed">- </span>
<span class="line-removed">-     /**</span>
<span class="line-removed">-      * Returns the character used to separate the mantissa from the exponent.</span>
<span class="line-removed">-      */</span>
<span class="line-removed">-     char getExponentialSymbol()</span>
<span class="line-removed">-     {</span>
<span class="line-removed">-         return exponential;</span>
<span class="line-removed">-     }</span>
<span class="line-removed">- </span>
      /**
       * Returns the string used to separate the mantissa from the exponent.
       * Examples: &quot;x10^&quot; for 1.23x10^4, &quot;E&quot; for 1.23E4.
       *
       * @return the exponent separator string
<span class="line-new-header">--- 515,14 ---</span>
       * @param sep the monetary decimal separator
       * @since 1.2
       */
      public void setMonetaryDecimalSeparator(char sep)
      {
<span class="line-added">+         hashCode = 0;</span>
          monetarySeparator = sep;
      }
  
      /**
       * Returns the string used to separate the mantissa from the exponent.
       * Examples: &quot;x10^&quot; for 1.23x10^4, &quot;E&quot; for 1.23E4.
       *
       * @return the exponent separator string
</pre>
<hr />
<pre>
<span class="line-old-header">*** 525,35 ***</span>
      public String getExponentSeparator()
      {
          return exponentialSeparator;
      }
  
<span class="line-removed">-     /**</span>
<span class="line-removed">-      * Sets the character used to separate the mantissa from the exponent.</span>
<span class="line-removed">-      */</span>
<span class="line-removed">-     void setExponentialSymbol(char exp)</span>
<span class="line-removed">-     {</span>
<span class="line-removed">-         exponential = exp;</span>
<span class="line-removed">-     }</span>
<span class="line-removed">- </span>
      /**
       * Sets the string used to separate the mantissa from the exponent.
       * Examples: &quot;x10^&quot; for 1.23x10^4, &quot;E&quot; for 1.23E4.
       *
       * @param exp the exponent separator string
<span class="line-modified">!      * @exception NullPointerException if &lt;code&gt;exp&lt;/code&gt; is null</span>
       * @see #getExponentSeparator()
       * @since 1.6
       */
      public void setExponentSeparator(String exp)
      {
          if (exp == null) {
              throw new NullPointerException();
          }
          exponentialSeparator = exp;
      }
  
  
      //------------------------------------------------------------
      // END     Package Private methods ... to be made public later
      //------------------------------------------------------------
  
<span class="line-new-header">--- 532,184 ---</span>
      public String getExponentSeparator()
      {
          return exponentialSeparator;
      }
  
      /**
       * Sets the string used to separate the mantissa from the exponent.
       * Examples: &quot;x10^&quot; for 1.23x10^4, &quot;E&quot; for 1.23E4.
       *
       * @param exp the exponent separator string
<span class="line-modified">!      * @throws    NullPointerException if {@code exp} is null</span>
       * @see #getExponentSeparator()
       * @since 1.6
       */
      public void setExponentSeparator(String exp)
      {
          if (exp == null) {
              throw new NullPointerException();
          }
<span class="line-added">+         hashCode = 0;</span>
          exponentialSeparator = exp;
      }
  
<span class="line-added">+     /**</span>
<span class="line-added">+      * Gets the character used for grouping separator for currencies.</span>
<span class="line-added">+      * May be different from {@code grouping separator} in some locales,</span>
<span class="line-added">+      * e.g, German in Austria.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @return the monetary grouping separator</span>
<span class="line-added">+      * @since 15</span>
<span class="line-added">+      */</span>
<span class="line-added">+     public char getMonetaryGroupingSeparator() {</span>
<span class="line-added">+         return monetaryGroupingSeparator;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     /**</span>
<span class="line-added">+      * Sets the character used for grouping separator for currencies.</span>
<span class="line-added">+      * Invocation of this method will not affect the normal</span>
<span class="line-added">+      * {@code grouping separator}.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @param monetaryGroupingSeparator the monetary grouping separator</span>
<span class="line-added">+      * @see #setGroupingSeparator(char)</span>
<span class="line-added">+      * @since 15</span>
<span class="line-added">+      */</span>
<span class="line-added">+     public void setMonetaryGroupingSeparator(char monetaryGroupingSeparator)</span>
<span class="line-added">+     {</span>
<span class="line-added">+         hashCode = 0;</span>
<span class="line-added">+         this.monetaryGroupingSeparator = monetaryGroupingSeparator;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     //------------------------------------------------------------</span>
<span class="line-added">+     // BEGIN   Package Private methods ... to be made public later</span>
<span class="line-added">+     //------------------------------------------------------------</span>
<span class="line-added">+ </span>
<span class="line-added">+     /**</span>
<span class="line-added">+      * Returns the character used to separate the mantissa from the exponent.</span>
<span class="line-added">+      */</span>
<span class="line-added">+     char getExponentialSymbol()</span>
<span class="line-added">+     {</span>
<span class="line-added">+         return exponential;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     /**</span>
<span class="line-added">+      * Sets the character used to separate the mantissa from the exponent.</span>
<span class="line-added">+      */</span>
<span class="line-added">+     void setExponentialSymbol(char exp)</span>
<span class="line-added">+     {</span>
<span class="line-added">+         exponential = exp;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     /**</span>
<span class="line-added">+      * Gets the string used for per mille sign. Different for Arabic, etc.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @return the string used for per mille sign</span>
<span class="line-added">+      * @since 13</span>
<span class="line-added">+      */</span>
<span class="line-added">+     String getPerMillText() {</span>
<span class="line-added">+         return perMillText;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     /**</span>
<span class="line-added">+      * Sets the string used for per mille sign. Different for Arabic, etc.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * Setting the {@code perMillText} affects the return value of</span>
<span class="line-added">+      * {@link #getPerMill()}, in which the first non-format character of</span>
<span class="line-added">+      * {@code perMillText} is returned.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @param perMillText the string used for per mille sign</span>
<span class="line-added">+      * @throws NullPointerException if {@code perMillText} is null</span>
<span class="line-added">+      * @throws IllegalArgumentException if {@code perMillText} is an empty string</span>
<span class="line-added">+      * @see #getPerMill()</span>
<span class="line-added">+      * @see #getPerMillText()</span>
<span class="line-added">+      * @since 13</span>
<span class="line-added">+      */</span>
<span class="line-added">+     void setPerMillText(String perMillText) {</span>
<span class="line-added">+         Objects.requireNonNull(perMillText);</span>
<span class="line-added">+         if (perMillText.isEmpty()) {</span>
<span class="line-added">+             throw new IllegalArgumentException(&quot;Empty argument string&quot;);</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         hashCode = 0;</span>
<span class="line-added">+         this.perMillText = perMillText;</span>
<span class="line-added">+         this.perMill = findNonFormatChar(perMillText, &#39;\u2030&#39;);</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     /**</span>
<span class="line-added">+      * Gets the string used for percent sign. Different for Arabic, etc.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @return the string used for percent sign</span>
<span class="line-added">+      * @since 13</span>
<span class="line-added">+      */</span>
<span class="line-added">+     String getPercentText() {</span>
<span class="line-added">+         return percentText;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     /**</span>
<span class="line-added">+      * Sets the string used for percent sign. Different for Arabic, etc.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * Setting the {@code percentText} affects the return value of</span>
<span class="line-added">+      * {@link #getPercent()}, in which the first non-format character of</span>
<span class="line-added">+      * {@code percentText} is returned.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @param percentText the string used for percent sign</span>
<span class="line-added">+      * @throws NullPointerException if {@code percentText} is null</span>
<span class="line-added">+      * @throws IllegalArgumentException if {@code percentText} is an empty string</span>
<span class="line-added">+      * @see #getPercent()</span>
<span class="line-added">+      * @see #getPercentText()</span>
<span class="line-added">+      * @since 13</span>
<span class="line-added">+      */</span>
<span class="line-added">+     void setPercentText(String percentText) {</span>
<span class="line-added">+         Objects.requireNonNull(percentText);</span>
<span class="line-added">+         if (percentText.isEmpty()) {</span>
<span class="line-added">+             throw new IllegalArgumentException(&quot;Empty argument string&quot;);</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         hashCode = 0;</span>
<span class="line-added">+         this.percentText = percentText;</span>
<span class="line-added">+         this.percent = findNonFormatChar(percentText, &#39;%&#39;);</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     /**</span>
<span class="line-added">+      * Gets the string used to represent minus sign. If no explicit</span>
<span class="line-added">+      * negative format is specified, one is formed by prefixing</span>
<span class="line-added">+      * minusSignText to the positive format.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @return the string representing minus sign</span>
<span class="line-added">+      * @since 13</span>
<span class="line-added">+      */</span>
<span class="line-added">+     String getMinusSignText() {</span>
<span class="line-added">+         return minusSignText;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     /**</span>
<span class="line-added">+      * Sets the string used to represent minus sign. If no explicit</span>
<span class="line-added">+      * negative format is specified, one is formed by prefixing</span>
<span class="line-added">+      * minusSignText to the positive format.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * Setting the {@code minusSignText} affects the return value of</span>
<span class="line-added">+      * {@link #getMinusSign()}, in which the first non-format character of</span>
<span class="line-added">+      * {@code minusSignText} is returned.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @param minusSignText the character representing minus sign</span>
<span class="line-added">+      * @throws NullPointerException if {@code minusSignText} is null</span>
<span class="line-added">+      * @throws IllegalArgumentException if {@code minusSignText} is an</span>
<span class="line-added">+      *  empty string</span>
<span class="line-added">+      * @see #getMinusSign()</span>
<span class="line-added">+      * @see #getMinusSignText()</span>
<span class="line-added">+      * @since 13</span>
<span class="line-added">+      */</span>
<span class="line-added">+     void setMinusSignText(String minusSignText) {</span>
<span class="line-added">+         Objects.requireNonNull(minusSignText);</span>
<span class="line-added">+         if (minusSignText.isEmpty()) {</span>
<span class="line-added">+             throw new IllegalArgumentException(&quot;Empty argument string&quot;);</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         hashCode = 0;</span>
<span class="line-added">+         this.minusSignText = minusSignText;</span>
<span class="line-added">+         this.minusSign = findNonFormatChar(minusSignText, &#39;-&#39;);</span>
<span class="line-added">+     }</span>
  
      //------------------------------------------------------------
      // END     Package Private methods ... to be made public later
      //------------------------------------------------------------
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 578,36 ***</span>
          if (obj == null) return false;
          if (this == obj) return true;
          if (getClass() != obj.getClass()) return false;
          DecimalFormatSymbols other = (DecimalFormatSymbols) obj;
          return (zeroDigit == other.zeroDigit &amp;&amp;
<span class="line-modified">!         groupingSeparator == other.groupingSeparator &amp;&amp;</span>
<span class="line-modified">!         decimalSeparator == other.decimalSeparator &amp;&amp;</span>
<span class="line-modified">!         percent == other.percent &amp;&amp;</span>
<span class="line-modified">!         perMill == other.perMill &amp;&amp;</span>
<span class="line-modified">!         digit == other.digit &amp;&amp;</span>
<span class="line-modified">!         minusSign == other.minusSign &amp;&amp;</span>
<span class="line-modified">!         patternSeparator == other.patternSeparator &amp;&amp;</span>
<span class="line-modified">!         infinity.equals(other.infinity) &amp;&amp;</span>
<span class="line-modified">!         NaN.equals(other.NaN) &amp;&amp;</span>
<span class="line-modified">!         getCurrencySymbol().equals(other.getCurrencySymbol()) &amp;&amp; // possible currency init occurs here</span>
<span class="line-modified">!         intlCurrencySymbol.equals(other.intlCurrencySymbol) &amp;&amp;</span>
<span class="line-modified">!         currency == other.currency &amp;&amp;</span>
<span class="line-modified">!         monetarySeparator == other.monetarySeparator &amp;&amp;</span>
<span class="line-modified">!         exponentialSeparator.equals(other.exponentialSeparator) &amp;&amp;</span>
<span class="line-modified">!         locale.equals(other.locale));</span>
      }
  
      /**
       * Override hashCode.
       */
      @Override
      public int hashCode() {
<span class="line-modified">!             int result = zeroDigit;</span>
<span class="line-modified">!             result = result * 37 + groupingSeparator;</span>
<span class="line-modified">!             result = result * 37 + decimalSeparator;</span>
<span class="line-modified">!             return result;</span>
      }
  
      /**
       * Initializes the symbols from the FormatData resource bundle.
       */
<span class="line-new-header">--- 734,61 ---</span>
          if (obj == null) return false;
          if (this == obj) return true;
          if (getClass() != obj.getClass()) return false;
          DecimalFormatSymbols other = (DecimalFormatSymbols) obj;
          return (zeroDigit == other.zeroDigit &amp;&amp;
<span class="line-modified">!             groupingSeparator == other.groupingSeparator &amp;&amp;</span>
<span class="line-modified">!             decimalSeparator == other.decimalSeparator &amp;&amp;</span>
<span class="line-modified">!             percent == other.percent &amp;&amp;</span>
<span class="line-modified">!             percentText.equals(other.percentText) &amp;&amp;</span>
<span class="line-modified">!             perMill == other.perMill &amp;&amp;</span>
<span class="line-modified">!             perMillText.equals(other.perMillText) &amp;&amp;</span>
<span class="line-modified">!             digit == other.digit &amp;&amp;</span>
<span class="line-modified">!             minusSign == other.minusSign &amp;&amp;</span>
<span class="line-modified">!             minusSignText.equals(other.minusSignText) &amp;&amp;</span>
<span class="line-modified">!             patternSeparator == other.patternSeparator &amp;&amp;</span>
<span class="line-modified">!             infinity.equals(other.infinity) &amp;&amp;</span>
<span class="line-modified">!             NaN.equals(other.NaN) &amp;&amp;</span>
<span class="line-modified">!             getCurrencySymbol().equals(other.getCurrencySymbol()) &amp;&amp; // possible currency init occurs here</span>
<span class="line-modified">!             intlCurrencySymbol.equals(other.intlCurrencySymbol) &amp;&amp;</span>
<span class="line-modified">!             currency == other.currency &amp;&amp;</span>
<span class="line-added">+             monetarySeparator == other.monetarySeparator &amp;&amp;</span>
<span class="line-added">+             monetaryGroupingSeparator == other.monetaryGroupingSeparator &amp;&amp;</span>
<span class="line-added">+             exponentialSeparator.equals(other.exponentialSeparator) &amp;&amp;</span>
<span class="line-added">+             locale.equals(other.locale));</span>
      }
  
      /**
       * Override hashCode.
       */
<span class="line-added">+     private volatile int hashCode;</span>
      @Override
      public int hashCode() {
<span class="line-modified">!         if (hashCode == 0) {</span>
<span class="line-modified">!             hashCode = Objects.hash(</span>
<span class="line-modified">!                 zeroDigit,</span>
<span class="line-modified">!                 groupingSeparator,</span>
<span class="line-added">+                 decimalSeparator,</span>
<span class="line-added">+                 percent,</span>
<span class="line-added">+                 percentText,</span>
<span class="line-added">+                 perMill,</span>
<span class="line-added">+                 perMillText,</span>
<span class="line-added">+                 digit,</span>
<span class="line-added">+                 minusSign,</span>
<span class="line-added">+                 minusSignText,</span>
<span class="line-added">+                 patternSeparator,</span>
<span class="line-added">+                 infinity,</span>
<span class="line-added">+                 NaN,</span>
<span class="line-added">+                 getCurrencySymbol(), // possible currency init occurs here</span>
<span class="line-added">+                 intlCurrencySymbol,</span>
<span class="line-added">+                 currency,</span>
<span class="line-added">+                 monetarySeparator,</span>
<span class="line-added">+                 monetaryGroupingSeparator,</span>
<span class="line-added">+                 exponentialSeparator,</span>
<span class="line-added">+                 locale);</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return hashCode;</span>
      }
  
      /**
       * Initializes the symbols from the FormatData resource bundle.
       */
</pre>
<hr />
<pre>
<span class="line-old-header">*** 629,28 ***</span>
          String[] numberElements = (String[]) data[0];
  
          decimalSeparator = numberElements[0].charAt(0);
          groupingSeparator = numberElements[1].charAt(0);
          patternSeparator = numberElements[2].charAt(0);
<span class="line-modified">!         percent = numberElements[3].charAt(0);</span>
          zeroDigit = numberElements[4].charAt(0); //different for Arabic,etc.
          digit = numberElements[5].charAt(0);
<span class="line-modified">!         minusSign = numberElements[6].charAt(0);</span>
          exponential = numberElements[7].charAt(0);
          exponentialSeparator = numberElements[7]; //string representation new since 1.6
<span class="line-modified">!         perMill = numberElements[8].charAt(0);</span>
          infinity  = numberElements[9];
          NaN = numberElements[10];
  
          // maybe filled with previously cached values, or null.
          intlCurrencySymbol = (String) data[1];
          currencySymbol = (String) data[2];
  
<span class="line-modified">!         // Currently the monetary decimal separator is the same as the</span>
<span class="line-modified">!         // standard decimal separator for all locales that we support.</span>
<span class="line-modified">!         // If that changes, add a new entry to NumberElements.</span>
<span class="line-modified">!         monetarySeparator = decimalSeparator;</span>
      }
  
      /**
       * Lazy initialization for currency related fields
       */
<span class="line-new-header">--- 810,42 ---</span>
          String[] numberElements = (String[]) data[0];
  
          decimalSeparator = numberElements[0].charAt(0);
          groupingSeparator = numberElements[1].charAt(0);
          patternSeparator = numberElements[2].charAt(0);
<span class="line-modified">!         percentText = numberElements[3];</span>
<span class="line-added">+         percent = findNonFormatChar(percentText, &#39;%&#39;);</span>
          zeroDigit = numberElements[4].charAt(0); //different for Arabic,etc.
          digit = numberElements[5].charAt(0);
<span class="line-modified">!         minusSignText = numberElements[6];</span>
<span class="line-added">+         minusSign = findNonFormatChar(minusSignText, &#39;-&#39;);</span>
          exponential = numberElements[7].charAt(0);
          exponentialSeparator = numberElements[7]; //string representation new since 1.6
<span class="line-modified">!         perMillText = numberElements[8];</span>
<span class="line-added">+         perMill = findNonFormatChar(perMillText, &#39;\u2030&#39;);</span>
          infinity  = numberElements[9];
          NaN = numberElements[10];
  
<span class="line-added">+         // monetary decimal/grouping separators may be missing in resource bundles</span>
<span class="line-added">+         monetarySeparator = numberElements.length &lt; 12 || numberElements[11].isEmpty() ?</span>
<span class="line-added">+             decimalSeparator : numberElements[11].charAt(0);</span>
<span class="line-added">+         monetaryGroupingSeparator = numberElements.length &lt; 13 || numberElements[12].isEmpty() ?</span>
<span class="line-added">+             groupingSeparator : numberElements[12].charAt(0);</span>
<span class="line-added">+ </span>
          // maybe filled with previously cached values, or null.
          intlCurrencySymbol = (String) data[1];
          currencySymbol = (String) data[2];
<span class="line-added">+     }</span>
  
<span class="line-modified">!     /**</span>
<span class="line-modified">!      * Obtains non-format single character from String</span>
<span class="line-modified">!      */</span>
<span class="line-modified">!     private char findNonFormatChar(String src, char defChar) {</span>
<span class="line-added">+         return (char)src.chars()</span>
<span class="line-added">+             .filter(c -&gt; Character.getType(c) != Character.FORMAT)</span>
<span class="line-added">+             .findFirst()</span>
<span class="line-added">+             .orElse(defChar);</span>
      }
  
      /**
       * Lazy initialization for currency related fields
       */
</pre>
<hr />
<pre>
<span class="line-old-header">*** 702,24 ***</span>
      }
  
      /**
       * Reads the default serializable fields, provides default values for objects
       * in older serial versions, and initializes non-serializable fields.
<span class="line-modified">!      * If &lt;code&gt;serialVersionOnStream&lt;/code&gt;</span>
<span class="line-modified">!      * is less than 1, initializes &lt;code&gt;monetarySeparator&lt;/code&gt; to be</span>
<span class="line-modified">!      * the same as &lt;code&gt;decimalSeparator&lt;/code&gt; and &lt;code&gt;exponential&lt;/code&gt;</span>
       * to be &#39;E&#39;.
<span class="line-modified">!      * If &lt;code&gt;serialVersionOnStream&lt;/code&gt; is less than 2,</span>
<span class="line-modified">!      * initializes &lt;code&gt;locale&lt;/code&gt;to the root locale, and initializes</span>
<span class="line-modified">!      * If &lt;code&gt;serialVersionOnStream&lt;/code&gt; is less than 3, it initializes</span>
<span class="line-modified">!      * &lt;code&gt;exponentialSeparator&lt;/code&gt; using &lt;code&gt;exponential&lt;/code&gt;.</span>
<span class="line-modified">!      * Sets &lt;code&gt;serialVersionOnStream&lt;/code&gt; back to the maximum allowed value so that</span>
       * default serialization will work properly if this object is streamed out again.
       * Initializes the currency from the intlCurrencySymbol field.
       *
       * @since  1.1.6
       */
      private void readObject(ObjectInputStream stream)
              throws IOException, ClassNotFoundException {
          stream.defaultReadObject();
          if (serialVersionOnStream &lt; 1) {
              // Didn&#39;t have monetarySeparator or exponential field;
<span class="line-new-header">--- 897,33 ---</span>
      }
  
      /**
       * Reads the default serializable fields, provides default values for objects
       * in older serial versions, and initializes non-serializable fields.
<span class="line-modified">!      * If {@code serialVersionOnStream}</span>
<span class="line-modified">!      * is less than 1, initializes {@code monetarySeparator} to be</span>
<span class="line-modified">!      * the same as {@code decimalSeparator} and {@code exponential}</span>
       * to be &#39;E&#39;.
<span class="line-modified">!      * If {@code serialVersionOnStream} is less than 2,</span>
<span class="line-modified">!      * initializes {@code locale}to the root locale, and initializes</span>
<span class="line-modified">!      * If {@code serialVersionOnStream} is less than 3, it initializes</span>
<span class="line-modified">!      * {@code exponentialSeparator} using {@code exponential}.</span>
<span class="line-modified">!      * If {@code serialVersionOnStream} is less than 4, it initializes</span>
<span class="line-added">+      * {@code perMillText}, {@code percentText}, and</span>
<span class="line-added">+      * {@code minusSignText} using {@code perMill}, {@code percent}, and</span>
<span class="line-added">+      * {@code minusSign} respectively.</span>
<span class="line-added">+      * If {@code serialVersionOnStream} is less than 5, it initializes</span>
<span class="line-added">+      * {@code monetaryGroupingSeparator} using {@code groupingSeparator}.</span>
<span class="line-added">+      * Sets {@code serialVersionOnStream} back to the maximum allowed value so that</span>
       * default serialization will work properly if this object is streamed out again.
       * Initializes the currency from the intlCurrencySymbol field.
       *
<span class="line-added">+      * @throws InvalidObjectException if {@code char} and {@code String}</span>
<span class="line-added">+      *      representations of either percent, per mille, and/or minus sign disagree.</span>
       * @since  1.1.6
       */
<span class="line-added">+     @java.io.Serial</span>
      private void readObject(ObjectInputStream stream)
              throws IOException, ClassNotFoundException {
          stream.defaultReadObject();
          if (serialVersionOnStream &lt; 1) {
              // Didn&#39;t have monetarySeparator or exponential field;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 733,10 ***</span>
<span class="line-new-header">--- 937,31 ---</span>
          }
          if (serialVersionOnStream &lt; 3) {
              // didn&#39;t have exponentialSeparator. Create one using exponential
              exponentialSeparator = Character.toString(exponential);
          }
<span class="line-added">+         if (serialVersionOnStream &lt; 4) {</span>
<span class="line-added">+             // didn&#39;t have perMillText, percentText, and minusSignText.</span>
<span class="line-added">+             // Create one using corresponding char variations.</span>
<span class="line-added">+             perMillText = Character.toString(perMill);</span>
<span class="line-added">+             percentText = Character.toString(percent);</span>
<span class="line-added">+             minusSignText = Character.toString(minusSign);</span>
<span class="line-added">+         } else {</span>
<span class="line-added">+             // Check whether char and text fields agree</span>
<span class="line-added">+             if (findNonFormatChar(perMillText, &#39;\uFFFF&#39;) != perMill ||</span>
<span class="line-added">+                 findNonFormatChar(percentText, &#39;\uFFFF&#39;) != percent ||</span>
<span class="line-added">+                 findNonFormatChar(minusSignText, &#39;\uFFFF&#39;) != minusSign) {</span>
<span class="line-added">+                 throw new InvalidObjectException(</span>
<span class="line-added">+                     &quot;&#39;char&#39; and &#39;String&#39; representations of either percent, &quot; +</span>
<span class="line-added">+                     &quot;per mille, and/or minus sign disagree.&quot;);</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         if (serialVersionOnStream &lt; 5) {</span>
<span class="line-added">+             // didn&#39;t have monetaryGroupingSeparator. Create one using groupingSeparator</span>
<span class="line-added">+             monetaryGroupingSeparator = groupingSeparator;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
          serialVersionOnStream = currentSerialVersion;
  
          if (intlCurrencySymbol != null) {
              try {
                   currency = Currency.getInstance(intlCurrencySymbol);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 753,11 ***</span>
       * @see #getZeroDigit
       */
      private  char    zeroDigit;
  
      /**
<span class="line-modified">!      * Character used for thousands separator.</span>
       *
       * @serial
       * @see #getGroupingSeparator
       */
      private  char    groupingSeparator;
<span class="line-new-header">--- 978,11 ---</span>
       * @see #getZeroDigit
       */
      private  char    zeroDigit;
  
      /**
<span class="line-modified">!      * Character used for grouping separator.</span>
       *
       * @serial
       * @see #getGroupingSeparator
       */
      private  char    groupingSeparator;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 860,12 ***</span>
  
      /**
       * The string used to separate the mantissa from the exponent.
       * Examples: &quot;x10^&quot; for 1.23x10^4, &quot;E&quot; for 1.23E4.
       * &lt;p&gt;
<span class="line-modified">!      * If both &lt;code&gt;exponential&lt;/code&gt; and &lt;code&gt;exponentialSeparator&lt;/code&gt;</span>
<span class="line-modified">!      * exist, this &lt;code&gt;exponentialSeparator&lt;/code&gt; has the precedence.</span>
       *
       * @serial
       * @since 1.6
       */
      private  String    exponentialSeparator;       // Field new in JDK 1.6
<span class="line-new-header">--- 1085,12 ---</span>
  
      /**
       * The string used to separate the mantissa from the exponent.
       * Examples: &quot;x10^&quot; for 1.23x10^4, &quot;E&quot; for 1.23E4.
       * &lt;p&gt;
<span class="line-modified">!      * If both {@code exponential} and {@code exponentialSeparator}</span>
<span class="line-modified">!      * exist, this {@code exponentialSeparator} has the precedence.</span>
       *
       * @serial
       * @since 1.6
       */
      private  String    exponentialSeparator;       // Field new in JDK 1.6
</pre>
<hr />
<pre>
<span class="line-old-header">*** 876,40 ***</span>
       * @serial
       * @since 1.4
       */
      private Locale locale;
  
      // currency; only the ISO code is serialized.
      private transient Currency currency;
      private transient volatile boolean currencyInitialized;
  
      // Proclaim JDK 1.1 FCS compatibility
      static final long serialVersionUID = 5772796243397350300L;
  
      // The internal serial version which says which version was written
      // - 0 (default) for version up to JDK 1.1.5
      // - 1 for version from JDK 1.1.6, which includes two new fields:
      //     monetarySeparator and exponential.
      // - 2 for version from J2SE 1.4, which includes locale field.
      // - 3 for version from J2SE 1.6, which includes exponentialSeparator field.
<span class="line-modified">!     private static final int currentSerialVersion = 3;</span>
  
      /**
<span class="line-modified">!      * Describes the version of &lt;code&gt;DecimalFormatSymbols&lt;/code&gt; present on the stream.</span>
       * Possible values are:
       * &lt;ul&gt;
       * &lt;li&gt;&lt;b&gt;0&lt;/b&gt; (or uninitialized): versions prior to JDK 1.1.6.
       *
       * &lt;li&gt;&lt;b&gt;1&lt;/b&gt;: Versions written by JDK 1.1.6 or later, which include
<span class="line-modified">!      *      two new fields: &lt;code&gt;monetarySeparator&lt;/code&gt; and &lt;code&gt;exponential&lt;/code&gt;.</span>
       * &lt;li&gt;&lt;b&gt;2&lt;/b&gt;: Versions written by J2SE 1.4 or later, which include a
<span class="line-modified">!      *      new &lt;code&gt;locale&lt;/code&gt; field.</span>
       * &lt;li&gt;&lt;b&gt;3&lt;/b&gt;: Versions written by J2SE 1.6 or later, which include a
<span class="line-modified">!      *      new &lt;code&gt;exponentialSeparator&lt;/code&gt; field.</span>
<span class="line-modified">!      * &lt;/ul&gt;</span>
<span class="line-modified">!      * When streaming out a &lt;code&gt;DecimalFormatSymbols&lt;/code&gt;, the most recent format</span>
<span class="line-modified">!      * (corresponding to the highest allowable &lt;code&gt;serialVersionOnStream&lt;/code&gt;)</span>
       * is always written.
       *
       * @serial
       * @since  1.1.6
       */
<span class="line-new-header">--- 1101,90 ---</span>
       * @serial
       * @since 1.4
       */
      private Locale locale;
  
<span class="line-added">+     /**</span>
<span class="line-added">+      * String representation of per mille sign, which may include</span>
<span class="line-added">+      * formatting characters, such as BiDi control characters.</span>
<span class="line-added">+      * The first non-format character of this string is the same as</span>
<span class="line-added">+      * {@code perMill}.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @serial</span>
<span class="line-added">+      * @since 13</span>
<span class="line-added">+      */</span>
<span class="line-added">+     private  String perMillText;</span>
<span class="line-added">+ </span>
<span class="line-added">+     /**</span>
<span class="line-added">+      * String representation of percent sign, which may include</span>
<span class="line-added">+      * formatting characters, such as BiDi control characters.</span>
<span class="line-added">+      * The first non-format character of this string is the same as</span>
<span class="line-added">+      * {@code percent}.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @serial</span>
<span class="line-added">+      * @since 13</span>
<span class="line-added">+      */</span>
<span class="line-added">+     private  String percentText;</span>
<span class="line-added">+ </span>
<span class="line-added">+     /**</span>
<span class="line-added">+      * String representation of minus sign, which may include</span>
<span class="line-added">+      * formatting characters, such as BiDi control characters.</span>
<span class="line-added">+      * The first non-format character of this string is the same as</span>
<span class="line-added">+      * {@code minusSign}.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @serial</span>
<span class="line-added">+      * @since 13</span>
<span class="line-added">+      */</span>
<span class="line-added">+     private  String minusSignText;</span>
<span class="line-added">+ </span>
<span class="line-added">+     /**</span>
<span class="line-added">+      * The grouping separator used when formatting currency values.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @serial</span>
<span class="line-added">+      * @since 15</span>
<span class="line-added">+      */</span>
<span class="line-added">+     private  char    monetaryGroupingSeparator;</span>
<span class="line-added">+ </span>
      // currency; only the ISO code is serialized.
      private transient Currency currency;
      private transient volatile boolean currencyInitialized;
  
      // Proclaim JDK 1.1 FCS compatibility
<span class="line-added">+     @java.io.Serial</span>
      static final long serialVersionUID = 5772796243397350300L;
  
      // The internal serial version which says which version was written
      // - 0 (default) for version up to JDK 1.1.5
      // - 1 for version from JDK 1.1.6, which includes two new fields:
      //     monetarySeparator and exponential.
      // - 2 for version from J2SE 1.4, which includes locale field.
      // - 3 for version from J2SE 1.6, which includes exponentialSeparator field.
<span class="line-modified">!     // - 4 for version from Java SE 13, which includes perMillText, percentText,</span>
<span class="line-added">+     //      and minusSignText field.</span>
<span class="line-added">+     // - 5 for version from Java SE 15, which includes monetaryGroupingSeparator.</span>
<span class="line-added">+     private static final int currentSerialVersion = 5;</span>
  
      /**
<span class="line-modified">!      * Describes the version of {@code DecimalFormatSymbols} present on the stream.</span>
       * Possible values are:
       * &lt;ul&gt;
       * &lt;li&gt;&lt;b&gt;0&lt;/b&gt; (or uninitialized): versions prior to JDK 1.1.6.
       *
       * &lt;li&gt;&lt;b&gt;1&lt;/b&gt;: Versions written by JDK 1.1.6 or later, which include
<span class="line-modified">!      *      two new fields: {@code monetarySeparator} and {@code exponential}.</span>
       * &lt;li&gt;&lt;b&gt;2&lt;/b&gt;: Versions written by J2SE 1.4 or later, which include a
<span class="line-modified">!      *      new {@code locale} field.</span>
       * &lt;li&gt;&lt;b&gt;3&lt;/b&gt;: Versions written by J2SE 1.6 or later, which include a
<span class="line-modified">!      *      new {@code exponentialSeparator} field.</span>
<span class="line-modified">!      * &lt;li&gt;&lt;b&gt;4&lt;/b&gt;: Versions written by Java SE 13 or later, which include</span>
<span class="line-modified">!      *      new {@code perMillText}, {@code percentText}, and</span>
<span class="line-modified">!      *      {@code minusSignText} field.</span>
<span class="line-added">+      * &lt;li&gt;&lt;b&gt;5&lt;/b&gt;: Versions written by Java SE 15 or later, which include</span>
<span class="line-added">+      *      new {@code monetaryGroupingSeparator} field.</span>
<span class="line-added">+      * * &lt;/ul&gt;</span>
<span class="line-added">+      * When streaming out a {@code DecimalFormatSymbols}, the most recent format</span>
<span class="line-added">+      * (corresponding to the highest allowable {@code serialVersionOnStream})</span>
       * is always written.
       *
       * @serial
       * @since  1.1.6
       */
</pre>
<center><a href="DecimalFormat.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="DigitList.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>