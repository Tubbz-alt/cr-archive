<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.base/share/classes/java/io/File.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="Externalizable.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="FileDescriptor.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/io/File.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -27,10 +27,11 @@</span>
  
  import java.net.URI;
  import java.net.URL;
  import java.net.MalformedURLException;
  import java.net.URISyntaxException;
<span class="udiff-line-added">+ import java.nio.file.FileStore;</span>
  import java.nio.file.FileSystems;
  import java.nio.file.Path;
  import java.security.SecureRandom;
  import java.util.ArrayList;
  import java.util.List;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -44,12 +45,12 @@</span>
   * abstract, system-independent view of hierarchical pathnames.  An
   * &lt;em&gt;abstract pathname&lt;/em&gt; has two components:
   *
   * &lt;ol&gt;
   * &lt;li&gt; An optional system-dependent &lt;em&gt;prefix&lt;/em&gt; string,
<span class="udiff-line-modified-removed">-  *      such as a disk-drive specifier, &lt;code&gt;&quot;/&quot;&lt;/code&gt;&amp;nbsp;for the UNIX root</span>
<span class="udiff-line-modified-removed">-  *      directory, or &lt;code&gt;&quot;\\\\&quot;&lt;/code&gt;&amp;nbsp;for a Microsoft Windows UNC pathname, and</span>
<span class="udiff-line-modified-added">+  *      such as a disk-drive specifier, {@code &quot;/&quot;}&amp;nbsp;for the UNIX root</span>
<span class="udiff-line-modified-added">+  *      directory, or {@code &quot;\\\\&quot;}&amp;nbsp;for a Microsoft Windows UNC pathname, and</span>
   * &lt;li&gt; A sequence of zero or more string &lt;em&gt;names&lt;/em&gt;.
   * &lt;/ol&gt;
   *
   * The first name in an abstract pathname may be a directory name or, in the
   * case of Microsoft Windows UNC pathnames, a hostname.  Each subsequent name
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -59,11 +60,11 @@</span>
   *
   * &lt;p&gt; The conversion of a pathname string to or from an abstract pathname is
   * inherently system-dependent.  When an abstract pathname is converted into a
   * pathname string, each name is separated from the next by a single copy of
   * the default &lt;em&gt;separator character&lt;/em&gt;.  The default name-separator
<span class="udiff-line-modified-removed">-  * character is defined by the system property &lt;code&gt;file.separator&lt;/code&gt;, and</span>
<span class="udiff-line-modified-added">+  * character is defined by the system property {@code file.separator}, and</span>
   * is made available in the public static fields {@link
   * #separator} and {@link #separatorChar} of this class.
   * When a pathname string is converted into an abstract pathname, the names
   * within it may be separated by the default name-separator character or by any
   * other name-separator character that is supported by the underlying system.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -71,13 +72,13 @@</span>
   * &lt;p&gt; A pathname, whether abstract or in string form, may be either
   * &lt;em&gt;absolute&lt;/em&gt; or &lt;em&gt;relative&lt;/em&gt;.  An absolute pathname is complete in
   * that no other information is required in order to locate the file that it
   * denotes.  A relative pathname, in contrast, must be interpreted in terms of
   * information taken from some other pathname.  By default the classes in the
<span class="udiff-line-modified-removed">-  * &lt;code&gt;java.io&lt;/code&gt; package always resolve relative pathnames against the</span>
<span class="udiff-line-modified-added">+  * {@code java.io} package always resolve relative pathnames against the</span>
   * current user directory.  This directory is named by the system property
<span class="udiff-line-modified-removed">-  * &lt;code&gt;user.dir&lt;/code&gt;, and is typically the directory in which the Java</span>
<span class="udiff-line-modified-added">+  * {@code user.dir}, and is typically the directory in which the Java</span>
   * virtual machine was invoked.
   *
   * &lt;p&gt; The &lt;em&gt;parent&lt;/em&gt; of an abstract pathname may be obtained by invoking
   * the {@link #getParent} method of this class and consists of the pathname&#39;s
   * prefix and each name in the pathname&#39;s name sequence except for the last.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -92,18 +93,18 @@</span>
   * as follows:
   *
   * &lt;ul&gt;
   *
   * &lt;li&gt; For UNIX platforms, the prefix of an absolute pathname is always
<span class="udiff-line-modified-removed">-  * &lt;code&gt;&quot;/&quot;&lt;/code&gt;.  Relative pathnames have no prefix.  The abstract pathname</span>
<span class="udiff-line-modified-removed">-  * denoting the root directory has the prefix &lt;code&gt;&quot;/&quot;&lt;/code&gt; and an empty</span>
<span class="udiff-line-modified-added">+  * {@code &quot;/&quot;}.  Relative pathnames have no prefix.  The abstract pathname</span>
<span class="udiff-line-modified-added">+  * denoting the root directory has the prefix {@code &quot;/&quot;} and an empty</span>
   * name sequence.
   *
   * &lt;li&gt; For Microsoft Windows platforms, the prefix of a pathname that contains a drive
<span class="udiff-line-modified-removed">-  * specifier consists of the drive letter followed by &lt;code&gt;&quot;:&quot;&lt;/code&gt; and</span>
<span class="udiff-line-modified-removed">-  * possibly followed by &lt;code&gt;&quot;\\&quot;&lt;/code&gt; if the pathname is absolute.  The</span>
<span class="udiff-line-modified-removed">-  * prefix of a UNC pathname is &lt;code&gt;&quot;\\\\&quot;&lt;/code&gt;; the hostname and the share</span>
<span class="udiff-line-modified-added">+  * specifier consists of the drive letter followed by {@code &quot;:&quot;} and</span>
<span class="udiff-line-modified-added">+  * possibly followed by {@code &quot;\\&quot;} if the pathname is absolute.  The</span>
<span class="udiff-line-modified-added">+  * prefix of a UNC pathname is {@code &quot;\\\\&quot;}; the hostname and the share</span>
   * name are the first two names in the name sequence.  A relative pathname that
   * does not specify a drive has no prefix.
   *
   * &lt;/ul&gt;
   *
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -122,15 +123,15 @@</span>
   * system may have multiple sets of access permissions on a single object.
   * For example, one set may apply to the object&#39;s &lt;i&gt;owner&lt;/i&gt;, and another
   * may apply to all other users.  The access permissions on an object may
   * cause some methods in this class to fail.
   *
<span class="udiff-line-modified-removed">-  * &lt;p&gt; Instances of the &lt;code&gt;File&lt;/code&gt; class are immutable; that is, once</span>
<span class="udiff-line-modified-removed">-  * created, the abstract pathname represented by a &lt;code&gt;File&lt;/code&gt; object</span>
<span class="udiff-line-modified-added">+  * &lt;p&gt; Instances of the {@code File} class are immutable; that is, once</span>
<span class="udiff-line-modified-added">+  * created, the abstract pathname represented by a {@code File} object</span>
   * will never change.
   *
<span class="udiff-line-modified-removed">-  * &lt;h3&gt;Interoperability with {@code java.nio.file} package&lt;/h3&gt;</span>
<span class="udiff-line-modified-added">+  * &lt;h2&gt;Interoperability with {@code java.nio.file} package&lt;/h2&gt;</span>
   *
   * &lt;p&gt; The &lt;a href=&quot;../../java/nio/file/package-summary.html&quot;&gt;{@code java.nio.file}&lt;/a&gt;
   * package defines interfaces and classes for the Java virtual machine to access
   * files, file attributes, and file systems. This API may be used to overcome
   * many of the limitations of the {@code java.io.File} class.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -180,15 +181,17 @@</span>
       * returning false does not guarantee that the path is valid.
       *
       * @return true if the file path is invalid.
       */
      final boolean isInvalid() {
<span class="udiff-line-modified-removed">-         if (status == null) {</span>
<span class="udiff-line-modified-removed">-             status = (this.path.indexOf(&#39;\u0000&#39;) &lt; 0) ? PathStatus.CHECKED</span>
<span class="udiff-line-modified-removed">-                                                        : PathStatus.INVALID;</span>
<span class="udiff-line-modified-added">+         PathStatus s = status;</span>
<span class="udiff-line-modified-added">+         if (s == null) {</span>
<span class="udiff-line-modified-added">+             s = (this.path.indexOf(&#39;\u0000&#39;) &lt; 0) ? PathStatus.CHECKED</span>
<span class="udiff-line-added">+                                                   : PathStatus.INVALID;</span>
<span class="udiff-line-added">+             status = s;</span>
          }
<span class="udiff-line-modified-removed">-         return status == PathStatus.INVALID;</span>
<span class="udiff-line-modified-added">+         return s == PathStatus.INVALID;</span>
      }
  
      /**
       * The length of this abstract pathname&#39;s prefix, or zero if it has no
       * prefix.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -204,12 +207,12 @@</span>
      }
  
      /**
       * The system-dependent default name-separator character.  This field is
       * initialized to contain the first character of the value of the system
<span class="udiff-line-modified-removed">-      * property &lt;code&gt;file.separator&lt;/code&gt;.  On UNIX systems the value of this</span>
<span class="udiff-line-modified-removed">-      * field is &lt;code&gt;&#39;/&#39;&lt;/code&gt;; on Microsoft Windows systems it is &lt;code&gt;&#39;\\&#39;&lt;/code&gt;.</span>
<span class="udiff-line-modified-added">+      * property {@code file.separator}.  On UNIX systems the value of this</span>
<span class="udiff-line-modified-added">+      * field is {@code &#39;/&#39;}; on Microsoft Windows systems it is {@code &#39;\\&#39;}.</span>
       *
       * @see     java.lang.System#getProperty(java.lang.String)
       */
      public static final char separatorChar = fs.getSeparator();
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -221,14 +224,14 @@</span>
      public static final String separator = &quot;&quot; + separatorChar;
  
      /**
       * The system-dependent path-separator character.  This field is
       * initialized to contain the first character of the value of the system
<span class="udiff-line-modified-removed">-      * property &lt;code&gt;path.separator&lt;/code&gt;.  This character is used to</span>
<span class="udiff-line-modified-added">+      * property {@code path.separator}.  This character is used to</span>
       * separate filenames in a sequence of files given as a &lt;em&gt;path list&lt;/em&gt;.
<span class="udiff-line-modified-removed">-      * On UNIX systems, this character is &lt;code&gt;&#39;:&#39;&lt;/code&gt;; on Microsoft Windows systems it</span>
<span class="udiff-line-modified-removed">-      * is &lt;code&gt;&#39;;&#39;&lt;/code&gt;.</span>
<span class="udiff-line-modified-added">+      * On UNIX systems, this character is {@code &#39;:&#39;}; on Microsoft Windows systems it</span>
<span class="udiff-line-modified-added">+      * is {@code &#39;;&#39;}.</span>
       *
       * @see     java.lang.System#getProperty(java.lang.String)
       */
      public static final char pathSeparatorChar = fs.getPathSeparator();
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -261,17 +264,17 @@</span>
          this.path = fs.resolve(parent.path, child);
          this.prefixLength = parent.prefixLength;
      }
  
      /**
<span class="udiff-line-modified-removed">-      * Creates a new &lt;code&gt;File&lt;/code&gt; instance by converting the given</span>
<span class="udiff-line-modified-added">+      * Creates a new {@code File} instance by converting the given</span>
       * pathname string into an abstract pathname.  If the given string is
       * the empty string, then the result is the empty abstract pathname.
       *
       * @param   pathname  A pathname string
       * @throws  NullPointerException
<span class="udiff-line-modified-removed">-      *          If the &lt;code&gt;pathname&lt;/code&gt; argument is &lt;code&gt;null&lt;/code&gt;</span>
<span class="udiff-line-modified-added">+      *          If the {@code pathname} argument is {@code null}</span>
       */
      public File(String pathname) {
          if (pathname == null) {
              throw new NullPointerException();
          }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -285,33 +288,33 @@</span>
         directory defined by the FileSystem.getDefaultParent method.  On Unix
         this default is &quot;/&quot;, while on Microsoft Windows it is &quot;\\&quot;.  This is required for
         compatibility with the original behavior of this class. */
  
      /**
<span class="udiff-line-modified-removed">-      * Creates a new &lt;code&gt;File&lt;/code&gt; instance from a parent pathname string</span>
<span class="udiff-line-modified-added">+      * Creates a new {@code File} instance from a parent pathname string</span>
       * and a child pathname string.
       *
<span class="udiff-line-modified-removed">-      * &lt;p&gt; If &lt;code&gt;parent&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt; then the new</span>
<span class="udiff-line-modified-removed">-      * &lt;code&gt;File&lt;/code&gt; instance is created as if by invoking the</span>
<span class="udiff-line-modified-removed">-      * single-argument &lt;code&gt;File&lt;/code&gt; constructor on the given</span>
<span class="udiff-line-modified-removed">-      * &lt;code&gt;child&lt;/code&gt; pathname string.</span>
<span class="udiff-line-modified-added">+      * &lt;p&gt; If {@code parent} is {@code null} then the new</span>
<span class="udiff-line-modified-added">+      * {@code File} instance is created as if by invoking the</span>
<span class="udiff-line-modified-added">+      * single-argument {@code File} constructor on the given</span>
<span class="udiff-line-modified-added">+      * {@code child} pathname string.</span>
       *
<span class="udiff-line-modified-removed">-      * &lt;p&gt; Otherwise the &lt;code&gt;parent&lt;/code&gt; pathname string is taken to denote</span>
<span class="udiff-line-modified-removed">-      * a directory, and the &lt;code&gt;child&lt;/code&gt; pathname string is taken to</span>
<span class="udiff-line-modified-removed">-      * denote either a directory or a file.  If the &lt;code&gt;child&lt;/code&gt; pathname</span>
<span class="udiff-line-modified-added">+      * &lt;p&gt; Otherwise the {@code parent} pathname string is taken to denote</span>
<span class="udiff-line-modified-added">+      * a directory, and the {@code child} pathname string is taken to</span>
<span class="udiff-line-modified-added">+      * denote either a directory or a file.  If the {@code child} pathname</span>
       * string is absolute then it is converted into a relative pathname in a
<span class="udiff-line-modified-removed">-      * system-dependent way.  If &lt;code&gt;parent&lt;/code&gt; is the empty string then</span>
<span class="udiff-line-modified-removed">-      * the new &lt;code&gt;File&lt;/code&gt; instance is created by converting</span>
<span class="udiff-line-modified-removed">-      * &lt;code&gt;child&lt;/code&gt; into an abstract pathname and resolving the result</span>
<span class="udiff-line-modified-added">+      * system-dependent way.  If {@code parent} is the empty string then</span>
<span class="udiff-line-modified-added">+      * the new {@code File} instance is created by converting</span>
<span class="udiff-line-modified-added">+      * {@code child} into an abstract pathname and resolving the result</span>
       * against a system-dependent default directory.  Otherwise each pathname
       * string is converted into an abstract pathname and the child abstract
       * pathname is resolved against the parent.
       *
       * @param   parent  The parent pathname string
       * @param   child   The child pathname string
       * @throws  NullPointerException
<span class="udiff-line-modified-removed">-      *          If &lt;code&gt;child&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;</span>
<span class="udiff-line-modified-added">+      *          If {@code child} is {@code null}</span>
       */
      public File(String parent, String child) {
          if (child == null) {
              throw new NullPointerException();
          }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -328,33 +331,33 @@</span>
          }
          this.prefixLength = fs.prefixLength(this.path);
      }
  
      /**
<span class="udiff-line-modified-removed">-      * Creates a new &lt;code&gt;File&lt;/code&gt; instance from a parent abstract</span>
<span class="udiff-line-modified-added">+      * Creates a new {@code File} instance from a parent abstract</span>
       * pathname and a child pathname string.
       *
<span class="udiff-line-modified-removed">-      * &lt;p&gt; If &lt;code&gt;parent&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt; then the new</span>
<span class="udiff-line-modified-removed">-      * &lt;code&gt;File&lt;/code&gt; instance is created as if by invoking the</span>
<span class="udiff-line-modified-removed">-      * single-argument &lt;code&gt;File&lt;/code&gt; constructor on the given</span>
<span class="udiff-line-modified-removed">-      * &lt;code&gt;child&lt;/code&gt; pathname string.</span>
<span class="udiff-line-modified-added">+      * &lt;p&gt; If {@code parent} is {@code null} then the new</span>
<span class="udiff-line-modified-added">+      * {@code File} instance is created as if by invoking the</span>
<span class="udiff-line-modified-added">+      * single-argument {@code File} constructor on the given</span>
<span class="udiff-line-modified-added">+      * {@code child} pathname string.</span>
       *
<span class="udiff-line-modified-removed">-      * &lt;p&gt; Otherwise the &lt;code&gt;parent&lt;/code&gt; abstract pathname is taken to</span>
<span class="udiff-line-modified-removed">-      * denote a directory, and the &lt;code&gt;child&lt;/code&gt; pathname string is taken</span>
<span class="udiff-line-modified-removed">-      * to denote either a directory or a file.  If the &lt;code&gt;child&lt;/code&gt;</span>
<span class="udiff-line-modified-added">+      * &lt;p&gt; Otherwise the {@code parent} abstract pathname is taken to</span>
<span class="udiff-line-modified-added">+      * denote a directory, and the {@code child} pathname string is taken</span>
<span class="udiff-line-modified-added">+      * to denote either a directory or a file.  If the {@code child}</span>
       * pathname string is absolute then it is converted into a relative
<span class="udiff-line-modified-removed">-      * pathname in a system-dependent way.  If &lt;code&gt;parent&lt;/code&gt; is the empty</span>
<span class="udiff-line-modified-removed">-      * abstract pathname then the new &lt;code&gt;File&lt;/code&gt; instance is created by</span>
<span class="udiff-line-modified-removed">-      * converting &lt;code&gt;child&lt;/code&gt; into an abstract pathname and resolving</span>
<span class="udiff-line-modified-added">+      * pathname in a system-dependent way.  If {@code parent} is the empty</span>
<span class="udiff-line-modified-added">+      * abstract pathname then the new {@code File} instance is created by</span>
<span class="udiff-line-modified-added">+      * converting {@code child} into an abstract pathname and resolving</span>
       * the result against a system-dependent default directory.  Otherwise each
       * pathname string is converted into an abstract pathname and the child
       * abstract pathname is resolved against the parent.
       *
       * @param   parent  The parent abstract pathname
       * @param   child   The child pathname string
       * @throws  NullPointerException
<span class="udiff-line-modified-removed">-      *          If &lt;code&gt;child&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;</span>
<span class="udiff-line-modified-added">+      *          If {@code child} is {@code null}</span>
       */
      public File(File parent, String child) {
          if (child == null) {
              throw new NullPointerException();
          }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -456,19 +459,19 @@</span>
          return path.substring(index + 1);
      }
  
      /**
       * Returns the pathname string of this abstract pathname&#39;s parent, or
<span class="udiff-line-modified-removed">-      * &lt;code&gt;null&lt;/code&gt; if this pathname does not name a parent directory.</span>
<span class="udiff-line-modified-added">+      * {@code null} if this pathname does not name a parent directory.</span>
       *
       * &lt;p&gt; The &lt;em&gt;parent&lt;/em&gt; of an abstract pathname consists of the
       * pathname&#39;s prefix, if any, and each name in the pathname&#39;s name
       * sequence except for the last.  If the name sequence is empty then
       * the pathname does not name a parent directory.
       *
       * @return  The pathname string of the parent directory named by this
<span class="udiff-line-modified-removed">-      *          abstract pathname, or &lt;code&gt;null&lt;/code&gt; if this pathname</span>
<span class="udiff-line-modified-added">+      *          abstract pathname, or {@code null} if this pathname</span>
       *          does not name a parent
       */
      public String getParent() {
          int index = path.lastIndexOf(separatorChar);
          if (index &lt; prefixLength) {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -479,20 +482,20 @@</span>
          return path.substring(0, index);
      }
  
      /**
       * Returns the abstract pathname of this abstract pathname&#39;s parent,
<span class="udiff-line-modified-removed">-      * or &lt;code&gt;null&lt;/code&gt; if this pathname does not name a parent</span>
<span class="udiff-line-modified-added">+      * or {@code null} if this pathname does not name a parent</span>
       * directory.
       *
       * &lt;p&gt; The &lt;em&gt;parent&lt;/em&gt; of an abstract pathname consists of the
       * pathname&#39;s prefix, if any, and each name in the pathname&#39;s name
       * sequence except for the last.  If the name sequence is empty then
       * the pathname does not name a parent directory.
       *
       * @return  The abstract pathname of the parent directory named by this
<span class="udiff-line-modified-removed">-      *          abstract pathname, or &lt;code&gt;null&lt;/code&gt; if this pathname</span>
<span class="udiff-line-modified-added">+      *          abstract pathname, or {@code null} if this pathname</span>
       *          does not name a parent
       *
       * @since 1.2
       */
      public File getParentFile() {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -516,16 +519,16 @@</span>
      /* -- Path operations -- */
  
      /**
       * Tests whether this abstract pathname is absolute.  The definition of
       * absolute pathname is system dependent.  On UNIX systems, a pathname is
<span class="udiff-line-modified-removed">-      * absolute if its prefix is &lt;code&gt;&quot;/&quot;&lt;/code&gt;.  On Microsoft Windows systems, a</span>
<span class="udiff-line-modified-added">+      * absolute if its prefix is {@code &quot;/&quot;}.  On Microsoft Windows systems, a</span>
       * pathname is absolute if its prefix is a drive specifier followed by
<span class="udiff-line-modified-removed">-      * &lt;code&gt;&quot;\\&quot;&lt;/code&gt;, or if its prefix is &lt;code&gt;&quot;\\\\&quot;&lt;/code&gt;.</span>
<span class="udiff-line-modified-added">+      * {@code &quot;\\&quot;}, or if its prefix is {@code &quot;\\\\&quot;}.</span>
       *
<span class="udiff-line-modified-removed">-      * @return  &lt;code&gt;true&lt;/code&gt; if this abstract pathname is absolute,</span>
<span class="udiff-line-modified-removed">-      *          &lt;code&gt;false&lt;/code&gt; otherwise</span>
<span class="udiff-line-modified-added">+      * @return  {@code true} if this abstract pathname is absolute,</span>
<span class="udiff-line-modified-added">+      *          {@code false} otherwise</span>
       */
      public boolean isAbsolute() {
          return fs.isAbsolute(this);
      }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -534,11 +537,11 @@</span>
       *
       * &lt;p&gt; If this abstract pathname is already absolute, then the pathname
       * string is simply returned as if by the {@link #getPath}
       * method.  If this abstract pathname is the empty abstract pathname then
       * the pathname string of the current user directory, which is named by the
<span class="udiff-line-modified-removed">-      * system property &lt;code&gt;user.dir&lt;/code&gt;, is returned.  Otherwise this</span>
<span class="udiff-line-modified-added">+      * system property {@code user.dir}, is returned.  Otherwise this</span>
       * pathname is resolved in a system-dependent way.  On UNIX systems, a
       * relative pathname is made absolute by resolving it against the current
       * user directory.  On Microsoft Windows systems, a relative pathname is made absolute
       * by resolving it against the current directory of the drive named by the
       * pathname, if any; if not, it is resolved against the current user
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -654,11 +657,11 @@</span>
              p = p + &quot;/&quot;;
          return p;
      }
  
      /**
<span class="udiff-line-modified-removed">-      * Converts this abstract pathname into a &lt;code&gt;file:&lt;/code&gt; URL.  The</span>
<span class="udiff-line-modified-added">+      * Converts this abstract pathname into a {@code file:} URL.  The</span>
       * exact form of the URL is system-dependent.  If it can be determined that
       * the file denoted by this abstract pathname is a directory, then the
       * resulting URL will end with a slash.
       *
       * @return  A URL object representing the equivalent file URL
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -747,13 +750,13 @@</span>
       * abstract pathname. On some platforms it may be possible to start the
       * Java virtual machine with special privileges that allow it to read
       * files that are marked as unreadable. Consequently this method may return
       * {@code true} even though the file does not have read permissions.
       *
<span class="udiff-line-modified-removed">-      * @return  &lt;code&gt;true&lt;/code&gt; if and only if the file specified by this</span>
<span class="udiff-line-modified-added">+      * @return  {@code true} if and only if the file specified by this</span>
       *          abstract pathname exists &lt;em&gt;and&lt;/em&gt; can be read by the
<span class="udiff-line-modified-removed">-      *          application; &lt;code&gt;false&lt;/code&gt; otherwise</span>
<span class="udiff-line-modified-added">+      *          application; {@code false} otherwise</span>
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
       *          java.lang.SecurityManager#checkRead(java.lang.String)}
       *          method denies read access to the file
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -774,14 +777,14 @@</span>
       * abstract pathname. On some platforms it may be possible to start the
       * Java virtual machine with special privileges that allow it to modify
       * files that are marked read-only. Consequently this method may return
       * {@code true} even though the file is marked read-only.
       *
<span class="udiff-line-modified-removed">-      * @return  &lt;code&gt;true&lt;/code&gt; if and only if the file system actually</span>
<span class="udiff-line-modified-added">+      * @return  {@code true} if and only if the file system actually</span>
       *          contains a file denoted by this abstract pathname &lt;em&gt;and&lt;/em&gt;
       *          the application is allowed to write to the file;
<span class="udiff-line-modified-removed">-      *          &lt;code&gt;false&lt;/code&gt; otherwise.</span>
<span class="udiff-line-modified-added">+      *          {@code false} otherwise.</span>
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
       *          java.lang.SecurityManager#checkWrite(java.lang.String)}
       *          method denies write access to the file
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -799,12 +802,12 @@</span>
  
      /**
       * Tests whether the file or directory denoted by this abstract pathname
       * exists.
       *
<span class="udiff-line-modified-removed">-      * @return  &lt;code&gt;true&lt;/code&gt; if and only if the file or directory denoted</span>
<span class="udiff-line-modified-removed">-      *          by this abstract pathname exists; &lt;code&gt;false&lt;/code&gt; otherwise</span>
<span class="udiff-line-modified-added">+      * @return  {@code true} if and only if the file or directory denoted</span>
<span class="udiff-line-modified-added">+      *          by this abstract pathname exists; {@code false} otherwise</span>
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
       *          java.lang.SecurityManager#checkRead(java.lang.String)}
       *          method denies read access to the file or directory
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -828,13 +831,13 @@</span>
       * that the file is not a directory, or where several attributes of the
       * same file are required at the same time, then the {@link
       * java.nio.file.Files#readAttributes(Path,Class,LinkOption[])
       * Files.readAttributes} method may be used.
       *
<span class="udiff-line-modified-removed">-      * @return &lt;code&gt;true&lt;/code&gt; if and only if the file denoted by this</span>
<span class="udiff-line-modified-added">+      * @return {@code true} if and only if the file denoted by this</span>
       *          abstract pathname exists &lt;em&gt;and&lt;/em&gt; is a directory;
<span class="udiff-line-modified-removed">-      *          &lt;code&gt;false&lt;/code&gt; otherwise</span>
<span class="udiff-line-modified-added">+      *          {@code false} otherwise</span>
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
       *          java.lang.SecurityManager#checkRead(java.lang.String)}
       *          method denies read access to the file
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -861,13 +864,13 @@</span>
       * that the file is not a normal file, or where several attributes of the
       * same file are required at the same time, then the {@link
       * java.nio.file.Files#readAttributes(Path,Class,LinkOption[])
       * Files.readAttributes} method may be used.
       *
<span class="udiff-line-modified-removed">-      * @return  &lt;code&gt;true&lt;/code&gt; if and only if the file denoted by this</span>
<span class="udiff-line-modified-added">+      * @return  {@code true} if and only if the file denoted by this</span>
       *          abstract pathname exists &lt;em&gt;and&lt;/em&gt; is a normal file;
<span class="udiff-line-modified-removed">-      *          &lt;code&gt;false&lt;/code&gt; otherwise</span>
<span class="udiff-line-modified-added">+      *          {@code false} otherwise</span>
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
       *          java.lang.SecurityManager#checkRead(java.lang.String)}
       *          method denies read access to the file
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -885,14 +888,14 @@</span>
  
      /**
       * Tests whether the file named by this abstract pathname is a hidden
       * file.  The exact definition of &lt;em&gt;hidden&lt;/em&gt; is system-dependent.  On
       * UNIX systems, a file is considered to be hidden if its name begins with
<span class="udiff-line-modified-removed">-      * a period character (&lt;code&gt;&#39;.&#39;&lt;/code&gt;).  On Microsoft Windows systems, a file is</span>
<span class="udiff-line-modified-added">+      * a period character ({@code &#39;.&#39;}).  On Microsoft Windows systems, a file is</span>
       * considered to be hidden if it has been marked as such in the filesystem.
       *
<span class="udiff-line-modified-removed">-      * @return  &lt;code&gt;true&lt;/code&gt; if and only if the file denoted by this</span>
<span class="udiff-line-modified-added">+      * @return  {@code true} if and only if the file denoted by this</span>
       *          abstract pathname is hidden according to the conventions of the
       *          underlying platform
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -930,13 +933,13 @@</span>
       * Files.readAttributes} method may be used.  If however only the
       * time of last modification is required, then the
       * {@link java.nio.file.Files#getLastModifiedTime(Path,LinkOption[])
       * Files.getLastModifiedTime} method may be used instead.
       *
<span class="udiff-line-modified-removed">-      * @return  A &lt;code&gt;long&lt;/code&gt; value representing the time the file was</span>
<span class="udiff-line-modified-added">+      * @return  A {@code long} value representing the time the file was</span>
       *          last modified, measured in milliseconds since the epoch
<span class="udiff-line-modified-removed">-      *          (00:00:00 GMT, January 1, 1970), or &lt;code&gt;0L&lt;/code&gt; if the</span>
<span class="udiff-line-modified-added">+      *          (00:00:00 GMT, January 1, 1970), or {@code 0L} if the</span>
       *          file does not exist or if an I/O error occurs.  The value may
       *          be negative indicating the number of milliseconds before the
       *          epoch
       *
       * @throws  SecurityException
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -964,12 +967,12 @@</span>
       * are required at the same time, then the {@link
       * java.nio.file.Files#readAttributes(Path,Class,LinkOption[])
       * Files.readAttributes} method may be used.
       *
       * @return  The length, in bytes, of the file denoted by this abstract
<span class="udiff-line-modified-removed">-      *          pathname, or &lt;code&gt;0L&lt;/code&gt; if the file does not exist.  Some</span>
<span class="udiff-line-modified-removed">-      *          operating systems may return &lt;code&gt;0L&lt;/code&gt; for pathnames</span>
<span class="udiff-line-modified-added">+      *          pathname, or {@code 0L} if the file does not exist.  Some</span>
<span class="udiff-line-modified-added">+      *          operating systems may return {@code 0L} for pathnames</span>
       *          denoting system-dependent entities such as devices or pipes.
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
       *          java.lang.SecurityManager#checkRead(java.lang.String)}
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -999,12 +1002,12 @@</span>
       * Note: this method should &lt;i&gt;not&lt;/i&gt; be used for file-locking, as
       * the resulting protocol cannot be made to work reliably. The
       * {@link java.nio.channels.FileLock FileLock}
       * facility should be used instead.
       *
<span class="udiff-line-modified-removed">-      * @return  &lt;code&gt;true&lt;/code&gt; if the named file does not exist and was</span>
<span class="udiff-line-modified-removed">-      *          successfully created; &lt;code&gt;false&lt;/code&gt; if the named file</span>
<span class="udiff-line-modified-added">+      * @return  {@code true} if the named file does not exist and was</span>
<span class="udiff-line-modified-added">+      *          successfully created; {@code false} if the named file</span>
       *          already exists
       *
       * @throws  IOException
       *          If an I/O error occurred
       *
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1032,12 +1035,12 @@</span>
       * &lt;p&gt; Note that the {@link java.nio.file.Files} class defines the {@link
       * java.nio.file.Files#delete(Path) delete} method to throw an {@link IOException}
       * when a file cannot be deleted. This is useful for error reporting and to
       * diagnose why a file cannot be deleted.
       *
<span class="udiff-line-modified-removed">-      * @return  &lt;code&gt;true&lt;/code&gt; if and only if the file or directory is</span>
<span class="udiff-line-modified-removed">-      *          successfully deleted; &lt;code&gt;false&lt;/code&gt; otherwise</span>
<span class="udiff-line-modified-added">+      * @return  {@code true} if and only if the file or directory is</span>
<span class="udiff-line-modified-added">+      *          successfully deleted; {@code false} otherwise</span>
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
       *          java.lang.SecurityManager#checkDelete} method denies
       *          delete access to the file
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1307,12 +1310,12 @@</span>
      }
  
      /**
       * Creates the directory named by this abstract pathname.
       *
<span class="udiff-line-modified-removed">-      * @return  &lt;code&gt;true&lt;/code&gt; if and only if the directory was</span>
<span class="udiff-line-modified-removed">-      *          created; &lt;code&gt;false&lt;/code&gt; otherwise</span>
<span class="udiff-line-modified-added">+      * @return  {@code true} if and only if the directory was</span>
<span class="udiff-line-modified-added">+      *          created; {@code false} otherwise</span>
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
       *          java.lang.SecurityManager#checkWrite(java.lang.String)}
       *          method does not permit the named directory to be created
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1332,12 +1335,12 @@</span>
       * Creates the directory named by this abstract pathname, including any
       * necessary but nonexistent parent directories.  Note that if this
       * operation fails it may have succeeded in creating some of the necessary
       * parent directories.
       *
<span class="udiff-line-modified-removed">-      * @return  &lt;code&gt;true&lt;/code&gt; if and only if the directory was created,</span>
<span class="udiff-line-modified-removed">-      *          along with all necessary parent directories; &lt;code&gt;false&lt;/code&gt;</span>
<span class="udiff-line-modified-added">+      * @return  {@code true} if and only if the directory was created,</span>
<span class="udiff-line-modified-added">+      *          along with all necessary parent directories; {@code false}</span>
       *          otherwise
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
       *          java.lang.SecurityManager#checkRead(java.lang.String)}
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1381,20 +1384,20 @@</span>
       * java.nio.file.Files#move move} method to move or rename a file in a
       * platform independent manner.
       *
       * @param  dest  The new abstract pathname for the named file
       *
<span class="udiff-line-modified-removed">-      * @return  &lt;code&gt;true&lt;/code&gt; if and only if the renaming succeeded;</span>
<span class="udiff-line-modified-removed">-      *          &lt;code&gt;false&lt;/code&gt; otherwise</span>
<span class="udiff-line-modified-added">+      * @return  {@code true} if and only if the renaming succeeded;</span>
<span class="udiff-line-modified-added">+      *          {@code false} otherwise</span>
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
       *          java.lang.SecurityManager#checkWrite(java.lang.String)}
       *          method denies write access to either the old or new pathnames
       *
       * @throws  NullPointerException
<span class="udiff-line-modified-removed">-      *          If parameter &lt;code&gt;dest&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;</span>
<span class="udiff-line-modified-added">+      *          If parameter {@code dest} is {@code null}</span>
       */
      public boolean renameTo(File dest) {
          if (dest == null) {
              throw new NullPointerException();
          }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1416,17 +1419,17 @@</span>
       * &lt;p&gt; All platforms support file-modification times to the nearest second,
       * but some provide more precision.  The argument will be truncated to fit
       * the supported precision.  If the operation succeeds and no intervening
       * operations on the file take place, then the next invocation of the
       * {@link #lastModified} method will return the (possibly
<span class="udiff-line-modified-removed">-      * truncated) &lt;code&gt;time&lt;/code&gt; argument that was passed to this method.</span>
<span class="udiff-line-modified-added">+      * truncated) {@code time} argument that was passed to this method.</span>
       *
       * @param  time  The new last-modified time, measured in milliseconds since
       *               the epoch (00:00:00 GMT, January 1, 1970)
       *
<span class="udiff-line-modified-removed">-      * @return &lt;code&gt;true&lt;/code&gt; if and only if the operation succeeded;</span>
<span class="udiff-line-modified-removed">-      *          &lt;code&gt;false&lt;/code&gt; otherwise</span>
<span class="udiff-line-modified-added">+      * @return {@code true} if and only if the operation succeeded;</span>
<span class="udiff-line-modified-added">+      *          {@code false} otherwise</span>
       *
       * @throws  IllegalArgumentException  If the argument is negative
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1454,12 +1457,12 @@</span>
       * to allow write access. On some platforms it may be possible to start the
       * Java virtual machine with special privileges that allow it to modify
       * files that are marked read-only. Whether or not a read-only file or
       * directory may be deleted depends upon the underlying system.
       *
<span class="udiff-line-modified-removed">-      * @return &lt;code&gt;true&lt;/code&gt; if and only if the operation succeeded;</span>
<span class="udiff-line-modified-removed">-      *          &lt;code&gt;false&lt;/code&gt; otherwise</span>
<span class="udiff-line-modified-added">+      * @return {@code true} if and only if the operation succeeded;</span>
<span class="udiff-line-modified-added">+      *          {@code false} otherwise</span>
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
       *          java.lang.SecurityManager#checkWrite(java.lang.String)}
       *          method denies write access to the named file
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1486,21 +1489,21 @@</span>
       * &lt;p&gt; The {@link java.nio.file.Files} class defines methods that operate on
       * file attributes including file permissions. This may be used when finer
       * manipulation of file permissions is required.
       *
       * @param   writable
<span class="udiff-line-modified-removed">-      *          If &lt;code&gt;true&lt;/code&gt;, sets the access permission to allow write</span>
<span class="udiff-line-modified-removed">-      *          operations; if &lt;code&gt;false&lt;/code&gt; to disallow write operations</span>
<span class="udiff-line-modified-added">+      *          If {@code true}, sets the access permission to allow write</span>
<span class="udiff-line-modified-added">+      *          operations; if {@code false} to disallow write operations</span>
       *
       * @param   ownerOnly
<span class="udiff-line-modified-removed">-      *          If &lt;code&gt;true&lt;/code&gt;, the write permission applies only to the</span>
<span class="udiff-line-modified-added">+      *          If {@code true}, the write permission applies only to the</span>
       *          owner&#39;s write permission; otherwise, it applies to everybody.  If
       *          the underlying file system can not distinguish the owner&#39;s write
       *          permission from that of others, then the permission will apply to
       *          everybody, regardless of this value.
       *
<span class="udiff-line-modified-removed">-      * @return  &lt;code&gt;true&lt;/code&gt; if and only if the operation succeeded. The</span>
<span class="udiff-line-modified-added">+      * @return  {@code true} if and only if the operation succeeded. The</span>
       *          operation will fail if the user does not have permission to change
       *          the access permissions of this abstract pathname.
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1532,14 +1535,14 @@</span>
       * &lt;pre&gt;{@code
       *     file.setWritable(arg, true)
       * }&lt;/pre&gt;
       *
       * @param   writable
<span class="udiff-line-modified-removed">-      *          If &lt;code&gt;true&lt;/code&gt;, sets the access permission to allow write</span>
<span class="udiff-line-modified-removed">-      *          operations; if &lt;code&gt;false&lt;/code&gt; to disallow write operations</span>
<span class="udiff-line-modified-added">+      *          If {@code true}, sets the access permission to allow write</span>
<span class="udiff-line-modified-added">+      *          operations; if {@code false} to disallow write operations</span>
       *
<span class="udiff-line-modified-removed">-      * @return  &lt;code&gt;true&lt;/code&gt; if and only if the operation succeeded.  The</span>
<span class="udiff-line-modified-added">+      * @return  {@code true} if and only if the operation succeeded.  The</span>
       *          operation will fail if the user does not have permission to
       *          change the access permissions of this abstract pathname.
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1561,24 +1564,24 @@</span>
       * &lt;p&gt; The {@link java.nio.file.Files} class defines methods that operate on
       * file attributes including file permissions. This may be used when finer
       * manipulation of file permissions is required.
       *
       * @param   readable
<span class="udiff-line-modified-removed">-      *          If &lt;code&gt;true&lt;/code&gt;, sets the access permission to allow read</span>
<span class="udiff-line-modified-removed">-      *          operations; if &lt;code&gt;false&lt;/code&gt; to disallow read operations</span>
<span class="udiff-line-modified-added">+      *          If {@code true}, sets the access permission to allow read</span>
<span class="udiff-line-modified-added">+      *          operations; if {@code false} to disallow read operations</span>
       *
       * @param   ownerOnly
<span class="udiff-line-modified-removed">-      *          If &lt;code&gt;true&lt;/code&gt;, the read permission applies only to the</span>
<span class="udiff-line-modified-added">+      *          If {@code true}, the read permission applies only to the</span>
       *          owner&#39;s read permission; otherwise, it applies to everybody.  If
       *          the underlying file system can not distinguish the owner&#39;s read
       *          permission from that of others, then the permission will apply to
       *          everybody, regardless of this value.
       *
<span class="udiff-line-modified-removed">-      * @return  &lt;code&gt;true&lt;/code&gt; if and only if the operation succeeded.  The</span>
<span class="udiff-line-modified-added">+      * @return  {@code true} if and only if the operation succeeded.  The</span>
       *          operation will fail if the user does not have permission to
       *          change the access permissions of this abstract pathname.  If
<span class="udiff-line-modified-removed">-      *          &lt;code&gt;readable&lt;/code&gt; is &lt;code&gt;false&lt;/code&gt; and the underlying</span>
<span class="udiff-line-modified-added">+      *          {@code readable} is {@code false} and the underlying</span>
       *          file system does not implement a read permission, then the
       *          operation will fail.
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1610,17 +1613,17 @@</span>
       * &lt;pre&gt;{@code
       *     file.setReadable(arg, true)
       * }&lt;/pre&gt;
       *
       * @param  readable
<span class="udiff-line-modified-removed">-      *          If &lt;code&gt;true&lt;/code&gt;, sets the access permission to allow read</span>
<span class="udiff-line-modified-removed">-      *          operations; if &lt;code&gt;false&lt;/code&gt; to disallow read operations</span>
<span class="udiff-line-modified-added">+      *          If {@code true}, sets the access permission to allow read</span>
<span class="udiff-line-modified-added">+      *          operations; if {@code false} to disallow read operations</span>
       *
<span class="udiff-line-modified-removed">-      * @return  &lt;code&gt;true&lt;/code&gt; if and only if the operation succeeded.  The</span>
<span class="udiff-line-modified-added">+      * @return  {@code true} if and only if the operation succeeded.  The</span>
       *          operation will fail if the user does not have permission to
       *          change the access permissions of this abstract pathname.  If
<span class="udiff-line-modified-removed">-      *          &lt;code&gt;readable&lt;/code&gt; is &lt;code&gt;false&lt;/code&gt; and the underlying</span>
<span class="udiff-line-modified-added">+      *          {@code readable} is {@code false} and the underlying</span>
       *          file system does not implement a read permission, then the
       *          operation will fail.
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1642,24 +1645,24 @@</span>
       * &lt;p&gt; The {@link java.nio.file.Files} class defines methods that operate on
       * file attributes including file permissions. This may be used when finer
       * manipulation of file permissions is required.
       *
       * @param   executable
<span class="udiff-line-modified-removed">-      *          If &lt;code&gt;true&lt;/code&gt;, sets the access permission to allow execute</span>
<span class="udiff-line-modified-removed">-      *          operations; if &lt;code&gt;false&lt;/code&gt; to disallow execute operations</span>
<span class="udiff-line-modified-added">+      *          If {@code true}, sets the access permission to allow execute</span>
<span class="udiff-line-modified-added">+      *          operations; if {@code false} to disallow execute operations</span>
       *
       * @param   ownerOnly
<span class="udiff-line-modified-removed">-      *          If &lt;code&gt;true&lt;/code&gt;, the execute permission applies only to the</span>
<span class="udiff-line-modified-added">+      *          If {@code true}, the execute permission applies only to the</span>
       *          owner&#39;s execute permission; otherwise, it applies to everybody.
       *          If the underlying file system can not distinguish the owner&#39;s
       *          execute permission from that of others, then the permission will
       *          apply to everybody, regardless of this value.
       *
<span class="udiff-line-modified-removed">-      * @return  &lt;code&gt;true&lt;/code&gt; if and only if the operation succeeded.  The</span>
<span class="udiff-line-modified-added">+      * @return  {@code true} if and only if the operation succeeded.  The</span>
       *          operation will fail if the user does not have permission to
       *          change the access permissions of this abstract pathname.  If
<span class="udiff-line-modified-removed">-      *          &lt;code&gt;executable&lt;/code&gt; is &lt;code&gt;false&lt;/code&gt; and the underlying</span>
<span class="udiff-line-modified-added">+      *          {@code executable} is {@code false} and the underlying</span>
       *          file system does not implement an execute permission, then the
       *          operation will fail.
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1691,17 +1694,17 @@</span>
       * &lt;pre&gt;{@code
       *     file.setExecutable(arg, true)
       * }&lt;/pre&gt;
       *
       * @param   executable
<span class="udiff-line-modified-removed">-      *          If &lt;code&gt;true&lt;/code&gt;, sets the access permission to allow execute</span>
<span class="udiff-line-modified-removed">-      *          operations; if &lt;code&gt;false&lt;/code&gt; to disallow execute operations</span>
<span class="udiff-line-modified-added">+      *          If {@code true}, sets the access permission to allow execute</span>
<span class="udiff-line-modified-added">+      *          operations; if {@code false} to disallow execute operations</span>
       *
<span class="udiff-line-modified-removed">-      * @return   &lt;code&gt;true&lt;/code&gt; if and only if the operation succeeded.  The</span>
<span class="udiff-line-modified-added">+      * @return   {@code true} if and only if the operation succeeded.  The</span>
       *           operation will fail if the user does not have permission to
       *           change the access permissions of this abstract pathname.  If
<span class="udiff-line-modified-removed">-      *           &lt;code&gt;executable&lt;/code&gt; is &lt;code&gt;false&lt;/code&gt; and the underlying</span>
<span class="udiff-line-modified-added">+      *           {@code executable} is {@code false} and the underlying</span>
       *           file system does not implement an execute permission, then the
       *           operation will fail.
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1719,11 +1722,11 @@</span>
       * abstract pathname. On some platforms it may be possible to start the
       * Java virtual machine with special privileges that allow it to execute
       * files that are not marked executable. Consequently this method may return
       * {@code true} even though the file does not have execute permissions.
       *
<span class="udiff-line-modified-removed">-      * @return  &lt;code&gt;true&lt;/code&gt; if and only if the abstract pathname exists</span>
<span class="udiff-line-modified-added">+      * @return  {@code true} if and only if the abstract pathname exists</span>
       *          &lt;em&gt;and&lt;/em&gt; the application is allowed to execute the file
       *
       * @throws  SecurityException
       *          If a security manager exists and its {@link
       *          java.lang.SecurityManager#checkExec(java.lang.String)}
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1794,38 +1797,45 @@</span>
  
      /* -- Disk usage -- */
  
      /**
       * Returns the size of the partition &lt;a href=&quot;#partName&quot;&gt;named&lt;/a&gt; by this
<span class="udiff-line-modified-removed">-      * abstract pathname.</span>
<span class="udiff-line-modified-added">+      * abstract pathname. If the total number of bytes in the partition is</span>
<span class="udiff-line-added">+      * greater than {@link Long#MAX_VALUE}, then {@code Long.MAX_VALUE} will be</span>
<span class="udiff-line-added">+      * returned.</span>
       *
       * @return  The size, in bytes, of the partition or {@code 0L} if this
<span class="udiff-line-modified-removed">-      *          abstract pathname does not name a partition</span>
<span class="udiff-line-modified-added">+      *          abstract pathname does not name a partition or if the size</span>
<span class="udiff-line-added">+      *          cannot be obtained</span>
       *
       * @throws  SecurityException
       *          If a security manager has been installed and it denies
       *          {@link RuntimePermission}{@code (&quot;getFileSystemAttributes&quot;)}
       *          or its {@link SecurityManager#checkRead(String)} method denies
       *          read access to the file named by this abstract pathname
       *
       * @since  1.6
<span class="udiff-line-added">+      * @see FileStore#getTotalSpace</span>
       */
      public long getTotalSpace() {
          SecurityManager sm = System.getSecurityManager();
          if (sm != null) {
              sm.checkPermission(new RuntimePermission(&quot;getFileSystemAttributes&quot;));
              sm.checkRead(path);
          }
          if (isInvalid()) {
              return 0L;
          }
<span class="udiff-line-modified-removed">-         return fs.getSpace(this, FileSystem.SPACE_TOTAL);</span>
<span class="udiff-line-modified-added">+         long space = fs.getSpace(this, FileSystem.SPACE_TOTAL);</span>
<span class="udiff-line-added">+         return space &gt;= 0L ? space : Long.MAX_VALUE;</span>
      }
  
      /**
       * Returns the number of unallocated bytes in the partition &lt;a
<span class="udiff-line-modified-removed">-      * href=&quot;#partName&quot;&gt;named&lt;/a&gt; by this abstract path name.</span>
<span class="udiff-line-modified-added">+      * href=&quot;#partName&quot;&gt;named&lt;/a&gt; by this abstract path name.  If the</span>
<span class="udiff-line-added">+      * number of unallocated bytes in the partition is greater than</span>
<span class="udiff-line-added">+      * {@link Long#MAX_VALUE}, then {@code Long.MAX_VALUE} will be returned.</span>
       *
       * &lt;p&gt; The returned number of unallocated bytes is a hint, but not
       * a guarantee, that it is possible to use most or any of these
       * bytes.  The number of unallocated bytes is most likely to be
       * accurate immediately after this call.  It is likely to be made
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1833,73 +1843,81 @@</span>
       * on the system outside of this virtual machine.  This method
       * makes no guarantee that write operations to this file system
       * will succeed.
       *
       * @return  The number of unallocated bytes on the partition or {@code 0L}
<span class="udiff-line-modified-removed">-      *          if the abstract pathname does not name a partition.  This</span>
<span class="udiff-line-modified-removed">-      *          value will be less than or equal to the total file system size</span>
<span class="udiff-line-modified-removed">-      *          returned by {@link #getTotalSpace}.</span>
<span class="udiff-line-modified-added">+      *          if the abstract pathname does not name a partition or if this</span>
<span class="udiff-line-modified-added">+      *          number cannot be obtained.  This value will be less than or</span>
<span class="udiff-line-modified-added">+      *          equal to the total file system size returned by</span>
<span class="udiff-line-added">+      *          {@link #getTotalSpace}.</span>
       *
       * @throws  SecurityException
       *          If a security manager has been installed and it denies
       *          {@link RuntimePermission}{@code (&quot;getFileSystemAttributes&quot;)}
       *          or its {@link SecurityManager#checkRead(String)} method denies
       *          read access to the file named by this abstract pathname
       *
       * @since  1.6
<span class="udiff-line-added">+      * @see FileStore#getUnallocatedSpace</span>
       */
      public long getFreeSpace() {
          SecurityManager sm = System.getSecurityManager();
          if (sm != null) {
              sm.checkPermission(new RuntimePermission(&quot;getFileSystemAttributes&quot;));
              sm.checkRead(path);
          }
          if (isInvalid()) {
              return 0L;
          }
<span class="udiff-line-modified-removed">-         return fs.getSpace(this, FileSystem.SPACE_FREE);</span>
<span class="udiff-line-modified-added">+         long space = fs.getSpace(this, FileSystem.SPACE_FREE);</span>
<span class="udiff-line-added">+         return space &gt;= 0L ? space : Long.MAX_VALUE;</span>
      }
  
      /**
       * Returns the number of bytes available to this virtual machine on the
<span class="udiff-line-modified-removed">-      * partition &lt;a href=&quot;#partName&quot;&gt;named&lt;/a&gt; by this abstract pathname.  When</span>
<span class="udiff-line-modified-removed">-      * possible, this method checks for write permissions and other operating</span>
<span class="udiff-line-modified-removed">-      * system restrictions and will therefore usually provide a more accurate</span>
<span class="udiff-line-modified-removed">-      * estimate of how much new data can actually be written than {@link</span>
<span class="udiff-line-modified-removed">-      * #getFreeSpace}.</span>
<span class="udiff-line-modified-added">+      * partition &lt;a href=&quot;#partName&quot;&gt;named&lt;/a&gt; by this abstract pathname.  If</span>
<span class="udiff-line-modified-added">+      * the number of available bytes in the partition is greater than</span>
<span class="udiff-line-modified-added">+      * {@link Long#MAX_VALUE}, then {@code Long.MAX_VALUE} will be returned.</span>
<span class="udiff-line-modified-added">+      * When possible, this method checks for write permissions and other</span>
<span class="udiff-line-modified-added">+      * operating system restrictions and will therefore usually provide a more</span>
<span class="udiff-line-added">+      * accurate estimate of how much new data can actually be written than</span>
<span class="udiff-line-added">+      * {@link #getFreeSpace}.</span>
       *
       * &lt;p&gt; The returned number of available bytes is a hint, but not a
       * guarantee, that it is possible to use most or any of these bytes.  The
<span class="udiff-line-modified-removed">-      * number of unallocated bytes is most likely to be accurate immediately</span>
<span class="udiff-line-modified-added">+      * number of available bytes is most likely to be accurate immediately</span>
       * after this call.  It is likely to be made inaccurate by any external
       * I/O operations including those made on the system outside of this
       * virtual machine.  This method makes no guarantee that write operations
       * to this file system will succeed.
       *
       * @return  The number of available bytes on the partition or {@code 0L}
<span class="udiff-line-modified-removed">-      *          if the abstract pathname does not name a partition.  On</span>
<span class="udiff-line-modified-removed">-      *          systems where this information is not available, this method</span>
<span class="udiff-line-modified-removed">-      *          will be equivalent to a call to {@link #getFreeSpace}.</span>
<span class="udiff-line-modified-added">+      *          if the abstract pathname does not name a partition or if this</span>
<span class="udiff-line-modified-added">+      *          number cannot be obtained.  On systems where this information</span>
<span class="udiff-line-modified-added">+      *          is not available, this method will be equivalent to a call to</span>
<span class="udiff-line-added">+      *          {@link #getFreeSpace}.</span>
       *
       * @throws  SecurityException
       *          If a security manager has been installed and it denies
       *          {@link RuntimePermission}{@code (&quot;getFileSystemAttributes&quot;)}
       *          or its {@link SecurityManager#checkRead(String)} method denies
       *          read access to the file named by this abstract pathname
       *
       * @since  1.6
<span class="udiff-line-added">+      * @see FileStore#getUsableSpace</span>
       */
      public long getUsableSpace() {
          SecurityManager sm = System.getSecurityManager();
          if (sm != null) {
              sm.checkPermission(new RuntimePermission(&quot;getFileSystemAttributes&quot;));
              sm.checkRead(path);
          }
          if (isInvalid()) {
              return 0L;
          }
<span class="udiff-line-modified-removed">-         return fs.getSpace(this, FileSystem.SPACE_USABLE);</span>
<span class="udiff-line-modified-added">+         long space = fs.getSpace(this, FileSystem.SPACE_USABLE);</span>
<span class="udiff-line-added">+         return space &gt;= 0L ? space : Long.MAX_VALUE;</span>
      }
  
      /* -- Temporary files -- */
  
      private static class TempDirectory {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2003,51 +2021,51 @@</span>
       *
       * This method provides only part of a temporary-file facility.  To arrange
       * for a file created by this method to be deleted automatically, use the
       * {@link #deleteOnExit} method.
       *
<span class="udiff-line-modified-removed">-      * &lt;p&gt; The &lt;code&gt;prefix&lt;/code&gt; argument must be at least three characters</span>
<span class="udiff-line-modified-added">+      * &lt;p&gt; The {@code prefix} argument must be at least three characters</span>
       * long.  It is recommended that the prefix be a short, meaningful string
<span class="udiff-line-modified-removed">-      * such as &lt;code&gt;&quot;hjb&quot;&lt;/code&gt; or &lt;code&gt;&quot;mail&quot;&lt;/code&gt;.  The</span>
<span class="udiff-line-modified-removed">-      * &lt;code&gt;suffix&lt;/code&gt; argument may be &lt;code&gt;null&lt;/code&gt;, in which case the</span>
<span class="udiff-line-modified-removed">-      * suffix &lt;code&gt;&quot;.tmp&quot;&lt;/code&gt; will be used.</span>
<span class="udiff-line-modified-added">+      * such as {@code &quot;hjb&quot;} or {@code &quot;mail&quot;}.  The</span>
<span class="udiff-line-modified-added">+      * {@code suffix} argument may be {@code null}, in which case the</span>
<span class="udiff-line-modified-added">+      * suffix {@code &quot;.tmp&quot;} will be used.</span>
       *
       * &lt;p&gt; To create the new file, the prefix and the suffix may first be
       * adjusted to fit the limitations of the underlying platform.  If the
       * prefix is too long then it will be truncated, but its first three
       * characters will always be preserved.  If the suffix is too long then it
       * too will be truncated, but if it begins with a period character
<span class="udiff-line-modified-removed">-      * (&lt;code&gt;&#39;.&#39;&lt;/code&gt;) then the period and the first three characters</span>
<span class="udiff-line-modified-added">+      * ({@code &#39;.&#39;}) then the period and the first three characters</span>
       * following it will always be preserved.  Once these adjustments have been
       * made the name of the new file will be generated by concatenating the
       * prefix, five or more internally-generated characters, and the suffix.
       *
<span class="udiff-line-modified-removed">-      * &lt;p&gt; If the &lt;code&gt;directory&lt;/code&gt; argument is &lt;code&gt;null&lt;/code&gt; then the</span>
<span class="udiff-line-modified-added">+      * &lt;p&gt; If the {@code directory} argument is {@code null} then the</span>
       * system-dependent default temporary-file directory will be used.  The
       * default temporary-file directory is specified by the system property
<span class="udiff-line-modified-removed">-      * &lt;code&gt;java.io.tmpdir&lt;/code&gt;.  On UNIX systems the default value of this</span>
<span class="udiff-line-modified-removed">-      * property is typically &lt;code&gt;&quot;/tmp&quot;&lt;/code&gt; or &lt;code&gt;&quot;/var/tmp&quot;&lt;/code&gt;; on</span>
<span class="udiff-line-modified-removed">-      * Microsoft Windows systems it is typically &lt;code&gt;&quot;C:\\WINNT\\TEMP&quot;&lt;/code&gt;.  A different</span>
<span class="udiff-line-modified-added">+      * {@code java.io.tmpdir}.  On UNIX systems the default value of this</span>
<span class="udiff-line-modified-added">+      * property is typically {@code &quot;/tmp&quot;} or {@code &quot;/var/tmp&quot;}; on</span>
<span class="udiff-line-modified-added">+      * Microsoft Windows systems it is typically {@code &quot;C:\\WINNT\\TEMP&quot;}.  A different</span>
       * value may be given to this system property when the Java virtual machine
       * is invoked, but programmatic changes to this property are not guaranteed
       * to have any effect upon the temporary directory used by this method.
       *
       * @param  prefix     The prefix string to be used in generating the file&#39;s
       *                    name; must be at least three characters long
       *
       * @param  suffix     The suffix string to be used in generating the file&#39;s
<span class="udiff-line-modified-removed">-      *                    name; may be &lt;code&gt;null&lt;/code&gt;, in which case the</span>
<span class="udiff-line-modified-removed">-      *                    suffix &lt;code&gt;&quot;.tmp&quot;&lt;/code&gt; will be used</span>
<span class="udiff-line-modified-added">+      *                    name; may be {@code null}, in which case the</span>
<span class="udiff-line-modified-added">+      *                    suffix {@code &quot;.tmp&quot;} will be used</span>
       *
       * @param  directory  The directory in which the file is to be created, or
<span class="udiff-line-modified-removed">-      *                    &lt;code&gt;null&lt;/code&gt; if the default temporary-file</span>
<span class="udiff-line-modified-added">+      *                    {@code null} if the default temporary-file</span>
       *                    directory is to be used
       *
       * @return  An abstract pathname denoting a newly-created empty file
       *
       * @throws  IllegalArgumentException
<span class="udiff-line-modified-removed">-      *          If the &lt;code&gt;prefix&lt;/code&gt; argument contains fewer than three</span>
<span class="udiff-line-modified-added">+      *          If the {@code prefix} argument contains fewer than three</span>
       *          characters
       *
       * @throws  IOException  If a file could not be created
       *
       * @throws  SecurityException
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2109,17 +2127,17 @@</span>
       *
       * @param  prefix     The prefix string to be used in generating the file&#39;s
       *                    name; must be at least three characters long
       *
       * @param  suffix     The suffix string to be used in generating the file&#39;s
<span class="udiff-line-modified-removed">-      *                    name; may be &lt;code&gt;null&lt;/code&gt;, in which case the</span>
<span class="udiff-line-modified-removed">-      *                    suffix &lt;code&gt;&quot;.tmp&quot;&lt;/code&gt; will be used</span>
<span class="udiff-line-modified-added">+      *                    name; may be {@code null}, in which case the</span>
<span class="udiff-line-modified-added">+      *                    suffix {@code &quot;.tmp&quot;} will be used</span>
       *
       * @return  An abstract pathname denoting a newly-created empty file
       *
       * @throws  IllegalArgumentException
<span class="udiff-line-modified-removed">-      *          If the &lt;code&gt;prefix&lt;/code&gt; argument contains fewer than three</span>
<span class="udiff-line-modified-added">+      *          If the {@code prefix} argument contains fewer than three</span>
       *          characters
       *
       * @throws  IOException  If a file could not be created
       *
       * @throws  SecurityException
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2159,21 +2177,21 @@</span>
          return fs.compare(this, pathname);
      }
  
      /**
       * Tests this abstract pathname for equality with the given object.
<span class="udiff-line-modified-removed">-      * Returns &lt;code&gt;true&lt;/code&gt; if and only if the argument is not</span>
<span class="udiff-line-modified-removed">-      * &lt;code&gt;null&lt;/code&gt; and is an abstract pathname that denotes the same file</span>
<span class="udiff-line-modified-added">+      * Returns {@code true} if and only if the argument is not</span>
<span class="udiff-line-modified-added">+      * {@code null} and is an abstract pathname that denotes the same file</span>
       * or directory as this abstract pathname.  Whether or not two abstract
       * pathnames are equal depends upon the underlying system.  On UNIX
       * systems, alphabetic case is significant in comparing pathnames; on Microsoft Windows
       * systems it is not.
       *
       * @param   obj   The object to be compared with this abstract pathname
       *
<span class="udiff-line-modified-removed">-      * @return  &lt;code&gt;true&lt;/code&gt; if and only if the objects are the same;</span>
<span class="udiff-line-modified-removed">-      *          &lt;code&gt;false&lt;/code&gt; otherwise</span>
<span class="udiff-line-modified-added">+      * @return  {@code true} if and only if the objects are the same;</span>
<span class="udiff-line-modified-added">+      *          {@code false} otherwise</span>
       */
      public boolean equals(Object obj) {
          if ((obj != null) &amp;&amp; (obj instanceof File)) {
              return compareTo((File)obj) == 0;
          }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2184,14 +2202,14 @@</span>
       * Computes a hash code for this abstract pathname.  Because equality of
       * abstract pathnames is inherently system-dependent, so is the computation
       * of their hash codes.  On UNIX systems, the hash code of an abstract
       * pathname is equal to the exclusive &lt;em&gt;or&lt;/em&gt; of the hash code
       * of its pathname string and the decimal value
<span class="udiff-line-modified-removed">-      * &lt;code&gt;1234321&lt;/code&gt;.  On Microsoft Windows systems, the hash</span>
<span class="udiff-line-modified-added">+      * {@code 1234321}.  On Microsoft Windows systems, the hash</span>
       * code is equal to the exclusive &lt;em&gt;or&lt;/em&gt; of the hash code of
       * its pathname string converted to lower case and the decimal
<span class="udiff-line-modified-removed">-      * value &lt;code&gt;1234321&lt;/code&gt;.  Locale is not taken into account on</span>
<span class="udiff-line-modified-added">+      * value {@code 1234321}.  Locale is not taken into account on</span>
       * lowercasing the pathname string.
       *
       * @return  A hash code for this abstract pathname
       */
      public int hashCode() {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2213,10 +2231,11 @@</span>
       * The separator character is saved also so it can be replaced
       * in case the path is reconstituted on a different host type.
       *
       * @serialData  Default fields followed by separator character.
       */
<span class="udiff-line-added">+     @java.io.Serial</span>
      private synchronized void writeObject(java.io.ObjectOutputStream s)
          throws IOException
      {
          s.defaultWriteObject();
          s.writeChar(separatorChar); // Add the separator character
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2226,10 +2245,11 @@</span>
       * readObject is called to restore this filename.
       * The original separator character is read.  If it is different
       * than the separator character on this system, then the old separator
       * is replaced by the local separator.
       */
<span class="udiff-line-added">+     @java.io.Serial</span>
      private synchronized void readObject(java.io.ObjectInputStream s)
           throws IOException, ClassNotFoundException
      {
          ObjectInputStream.GetField fields = s.readFields();
          String pathField = (String)fields.get(&quot;path&quot;, null);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2247,10 +2267,11 @@</span>
              = UNSAFE.objectFieldOffset(File.class, &quot;path&quot;);
      private static final long PREFIX_LENGTH_OFFSET
              = UNSAFE.objectFieldOffset(File.class, &quot;prefixLength&quot;);
  
      /** use serialVersionUID from JDK 1.0.2 for interoperability */
<span class="udiff-line-added">+     @java.io.Serial</span>
      private static final long serialVersionUID = 301077366599181567L;
  
      // -- Integration with java.nio.file --
  
      private transient volatile Path filePath;
</pre>
<center><a href="Externalizable.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="FileDescriptor.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>