<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old src/java.base/share/classes/com/sun/java/util/jar/pack/FixedList.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (c) 2010, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 package com.sun.java.util.jar.pack;
 26 
 27 import java.util.ArrayList;
 28 import java.util.Collection;
 29 import java.util.Iterator;
 30 import java.util.List;
 31 import java.util.ListIterator;
 32 
 33 /*
 34  * @author ksrini
 35  */
 36 
 37 /*
 38  * This class provides an ArrayList implementation which has a fixed size,
 39  * thus all the operations which modifies the size have been rendered
 40  * inoperative. This essentially allows us to use generified array
 41  * lists in lieu of arrays.
 42  */
 43 final class FixedList&lt;E&gt; implements List&lt;E&gt; {
 44 
 45     private final ArrayList&lt;E&gt; flist;
 46 
 47     protected FixedList(int capacity) {
 48         flist = new ArrayList&lt;&gt;(capacity);
 49         // initialize the list to null
 50         for (int i = 0 ; i &lt; capacity ; i++) {
 51             flist.add(null);
 52         }
 53     }
 54     @Override
 55     public int size() {
 56         return flist.size();
 57     }
 58 
 59     @Override
 60     public boolean isEmpty() {
 61         return flist.isEmpty();
 62     }
 63 
 64     @Override
 65     public boolean contains(Object o) {
 66         return flist.contains(o);
 67     }
 68 
 69     @Override
 70     public Iterator&lt;E&gt; iterator() {
 71         return flist.iterator();
 72     }
 73 
 74     @Override
 75     public Object[] toArray() {
 76         return flist.toArray();
 77     }
 78 
 79     @Override
 80     public &lt;T&gt; T[] toArray(T[] a) {
 81         return flist.toArray(a);
 82     }
 83 
 84     @Override
 85     public boolean add(E e) throws UnsupportedOperationException {
 86         throw new UnsupportedOperationException(&quot;operation not permitted&quot;);
 87     }
 88 
 89     @Override
 90     public boolean remove(Object o) throws UnsupportedOperationException {
 91         throw new UnsupportedOperationException(&quot;operation not permitted&quot;);
 92     }
 93 
 94     @Override
 95     public boolean containsAll(Collection&lt;?&gt; c) {
 96         return flist.containsAll(c);
 97     }
 98 
 99     @Override
100     public boolean addAll(Collection&lt;? extends E&gt; c) throws UnsupportedOperationException {
101         throw new UnsupportedOperationException(&quot;operation not permitted&quot;);
102     }
103 
104     @Override
105     public boolean addAll(int index, Collection&lt;? extends E&gt; c) throws UnsupportedOperationException {
106          throw new UnsupportedOperationException(&quot;operation not permitted&quot;);
107     }
108 
109     @Override
110     public boolean removeAll(Collection&lt;?&gt; c)  throws UnsupportedOperationException  {
111          throw new UnsupportedOperationException(&quot;operation not permitted&quot;);
112     }
113 
114     @Override
115     public boolean retainAll(Collection&lt;?&gt; c)  throws UnsupportedOperationException  {
116         throw new UnsupportedOperationException(&quot;operation not permitted&quot;);
117     }
118 
119     @Override
120     public void clear()  throws UnsupportedOperationException {
121         throw new UnsupportedOperationException(&quot;operation not permitted&quot;);
122     }
123 
124     @Override
125     public E get(int index) {
126         return flist.get(index);
127     }
128 
129     @Override
130     public E set(int index, E element) {
131         return flist.set(index, element);
132     }
133 
134     @Override
135     public void add(int index, E element)  throws UnsupportedOperationException {
136         throw new UnsupportedOperationException(&quot;operation not permitted&quot;);
137     }
138 
139     @Override
140     public E remove(int index)   throws UnsupportedOperationException {
141         throw new UnsupportedOperationException(&quot;operation not permitted&quot;);
142     }
143 
144     @Override
145     public int indexOf(Object o) {
146         return flist.indexOf(o);
147     }
148 
149     @Override
150     public int lastIndexOf(Object o) {
151         return flist.lastIndexOf(o);
152     }
153 
154     @Override
155     public ListIterator&lt;E&gt; listIterator() {
156         return flist.listIterator();
157     }
158 
159     @Override
160     public ListIterator&lt;E&gt; listIterator(int index) {
161         return flist.listIterator(index);
162     }
163 
164     @Override
165     public List&lt;E&gt; subList(int fromIndex, int toIndex) {
166         return flist.subList(fromIndex, toIndex);
167     }
168 
169     @Override
170     public String toString() {
171         return &quot;FixedList{&quot; + &quot;plist=&quot; + flist + &#39;}&#39;;
172     }
173 }
174 
    </pre>
  </body>
</html>