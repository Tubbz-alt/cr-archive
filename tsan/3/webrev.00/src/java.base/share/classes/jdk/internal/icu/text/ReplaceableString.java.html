<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New src/java.base/share/classes/jdk/internal/icu/text/ReplaceableString.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (c) 2005, 2020, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 /*
 27  *******************************************************************************
 28  * Copyright (C) 1996-2009, International Business Machines Corporation and    *
 29  * others. All Rights Reserved.                                                *
 30  *******************************************************************************
 31  */
 32 
 33 package jdk.internal.icu.text;
 34 
 35 /**
 36  * &lt;code&gt;ReplaceableString&lt;/code&gt; is an adapter class that implements the
 37  * &lt;code&gt;Replaceable&lt;/code&gt; API around an ordinary &lt;code&gt;StringBuffer&lt;/code&gt;.
 38  *
 39  * &lt;p&gt;&lt;em&gt;Note:&lt;/em&gt; This class does not support attributes and is not
 40  * intended for general use.  Most clients will need to implement
 41  * {@link Replaceable} in their text representation class.
 42  *
 43  * &lt;p&gt;Copyright &amp;copy; IBM Corporation 1999.  All rights reserved.
 44  *
 45  * @see Replaceable
 46  * @author Alan Liu
 47  * @stable ICU 2.0
 48  */
 49 public class ReplaceableString implements Replaceable {
 50 
 51     private StringBuffer buf;
 52 
 53     /**
 54      * Construct a new object with the given initial contents.
 55      * @param str initial contents
 56      * @stable ICU 2.0
 57      */
 58     public ReplaceableString(String str) {
 59         buf = new StringBuffer(str);
 60     }
 61 
 62     /**
 63      * Construct a new object using &lt;code&gt;buf&lt;/code&gt; for internal
 64      * storage.  The contents of &lt;code&gt;buf&lt;/code&gt; at the time of
 65      * construction are used as the initial contents.  &lt;em&gt;Note!
 66      * Modifications to &lt;code&gt;buf&lt;/code&gt; will modify this object, and
 67      * vice versa.&lt;/em&gt;
 68      * @param buf object to be used as internal storage
 69      * @stable ICU 2.0
 70      */
 71     public ReplaceableString(StringBuffer buf) {
 72         this.buf = buf;
 73     }
 74 
 75     /**
 76      * Return the number of characters contained in this object.
 77      * &lt;code&gt;Replaceable&lt;/code&gt; API.
 78      * @stable ICU 2.0
 79      */
 80     public int length() {
 81         return buf.length();
 82     }
 83 
 84     /**
 85      * Return the character at the given position in this object.
 86      * &lt;code&gt;Replaceable&lt;/code&gt; API.
 87      * @param offset offset into the contents, from 0 to
 88      * &lt;code&gt;length()&lt;/code&gt; - 1
 89      * @stable ICU 2.0
 90      */
 91     public char charAt(int offset) {
 92         return buf.charAt(offset);
 93     }
 94 
 95     /**
 96      * Copies characters from this object into the destination
 97      * character array.  The first character to be copied is at index
 98      * &lt;code&gt;srcStart&lt;/code&gt;; the last character to be copied is at
 99      * index &lt;code&gt;srcLimit-1&lt;/code&gt; (thus the total number of
100      * characters to be copied is &lt;code&gt;srcLimit-srcStart&lt;/code&gt;). The
101      * characters are copied into the subarray of &lt;code&gt;dst&lt;/code&gt;
102      * starting at index &lt;code&gt;dstStart&lt;/code&gt; and ending at index
103      * &lt;code&gt;dstStart + (srcLimit-srcStart) - 1&lt;/code&gt;.
104      *
105      * @param srcStart the beginning index to copy, inclusive;
106      *        {@code 0 &lt;= start &lt;= limit}.
107      * @param srcLimit the ending index to copy, exclusive;
108      *        {@code start &lt;= limit &lt;= length()}.
109      * @param dst the destination array.
110      * @param dstStart the start offset in the destination array.
111      * @stable ICU 2.0
112      */
113     public void getChars(int srcStart, int srcLimit, char dst[], int dstStart) {
114         if (srcStart != srcLimit) {
115             buf.getChars(srcStart, srcLimit, dst, dstStart);
116         }
117     }
118 }
    </pre>
  </body>
</html>