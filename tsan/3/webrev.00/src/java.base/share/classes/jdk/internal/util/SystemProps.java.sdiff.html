<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/jdk/internal/util/SystemProps.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="StaticProperty.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="jar/InvalidJarIndexError.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/jdk/internal/util/SystemProps.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 73         // Use platform values if not overridden by a commandline -Dkey=value
 74         // In no particular order
 75         putIfAbsent(props, &quot;os.name&quot;, raw.propDefault(Raw._os_name_NDX));
 76         putIfAbsent(props, &quot;os.arch&quot;, raw.propDefault(Raw._os_arch_NDX));
 77         putIfAbsent(props, &quot;os.version&quot;, raw.propDefault(Raw._os_version_NDX));
 78         putIfAbsent(props, &quot;line.separator&quot;, raw.propDefault(Raw._line_separator_NDX));
 79         putIfAbsent(props, &quot;file.separator&quot;, raw.propDefault(Raw._file_separator_NDX));
 80         putIfAbsent(props, &quot;path.separator&quot;, raw.propDefault(Raw._path_separator_NDX));
 81         putIfAbsent(props, &quot;java.io.tmpdir&quot;, raw.propDefault(Raw._java_io_tmpdir_NDX));
 82         putIfAbsent(props, &quot;http.proxyHost&quot;, raw.propDefault(Raw._http_proxyHost_NDX));
 83         putIfAbsent(props, &quot;http.proxyPort&quot;, raw.propDefault(Raw._http_proxyPort_NDX));
 84         putIfAbsent(props, &quot;https.proxyHost&quot;, raw.propDefault(Raw._https_proxyHost_NDX));
 85         putIfAbsent(props, &quot;https.proxyPort&quot;, raw.propDefault(Raw._https_proxyPort_NDX));
 86         putIfAbsent(props, &quot;ftp.proxyHost&quot;, raw.propDefault(Raw._ftp_proxyHost_NDX));
 87         putIfAbsent(props, &quot;ftp.proxyPort&quot;, raw.propDefault(Raw._ftp_proxyPort_NDX));
 88         putIfAbsent(props, &quot;socksProxyHost&quot;, raw.propDefault(Raw._socksProxyHost_NDX));
 89         putIfAbsent(props, &quot;socksProxyPort&quot;, raw.propDefault(Raw._socksProxyPort_NDX));
 90         putIfAbsent(props, &quot;http.nonProxyHosts&quot;, raw.propDefault(Raw._http_nonProxyHosts_NDX));
 91         putIfAbsent(props, &quot;ftp.nonProxyHosts&quot;, raw.propDefault(Raw._ftp_nonProxyHosts_NDX));
 92         putIfAbsent(props, &quot;socksNonProxyHosts&quot;, raw.propDefault(Raw._socksNonProxyHosts_NDX));
<span class="line-removed"> 93         putIfAbsent(props, &quot;awt.toolkit&quot;, raw.propDefault(Raw._awt_toolkit_NDX));</span>
<span class="line-removed"> 94         putIfAbsent(props, &quot;java.awt.headless&quot;, raw.propDefault(Raw._java_awt_headless_NDX));</span>
<span class="line-removed"> 95         putIfAbsent(props, &quot;java.awt.graphicsenv&quot;, raw.propDefault(Raw._java_awt_graphicsenv_NDX));</span>
<span class="line-removed"> 96         putIfAbsent(props, &quot;sun.desktop&quot;, raw.propDefault(Raw._sun_desktop_NDX));</span>
 97         putIfAbsent(props, &quot;sun.arch.abi&quot;, raw.propDefault(Raw._sun_arch_abi_NDX));
 98         putIfAbsent(props, &quot;sun.arch.data.model&quot;, raw.propDefault(Raw._sun_arch_data_model_NDX));
 99         putIfAbsent(props, &quot;sun.os.patch.level&quot;, raw.propDefault(Raw._sun_os_patch_level_NDX));
100         putIfAbsent(props, &quot;sun.stdout.encoding&quot;, raw.propDefault(Raw._sun_stdout_encoding_NDX));
101         putIfAbsent(props, &quot;sun.stderr.encoding&quot;, raw.propDefault(Raw._sun_stderr_encoding_NDX));
102         putIfAbsent(props, &quot;sun.io.unicode.encoding&quot;, raw.propDefault(Raw._sun_io_unicode_encoding_NDX));
103         putIfAbsent(props, &quot;sun.cpu.isalist&quot;, raw.propDefault(Raw._sun_cpu_isalist_NDX));
104         putIfAbsent(props, &quot;sun.cpu.endian&quot;, raw.propDefault(Raw._sun_cpu_endian_NDX));
105 
106         /* Construct i18n related options */
107         fillI18nProps(props,&quot;user.language&quot;, raw.propDefault(Raw._display_language_NDX),
108                 raw.propDefault(Raw._format_language_NDX));
109         fillI18nProps(props,&quot;user.script&quot;,   raw.propDefault(Raw._display_script_NDX),
110                 raw.propDefault(Raw._format_script_NDX));
111         fillI18nProps(props,&quot;user.country&quot;,  raw.propDefault(Raw._display_country_NDX),
112                 raw.propDefault(Raw._format_country_NDX));
113         fillI18nProps(props,&quot;user.variant&quot;,  raw.propDefault(Raw._display_variant_NDX),
114                 raw.propDefault(Raw._format_variant_NDX));
115 
116         return props;
</pre>
<hr />
<pre>
171         if (dispValue == null &amp;&amp; display != null &amp;&amp; !display.equals(baseValue)) {
172             // Create the property only if different from the base property
173             cmdProps.put(disp, display);
174         }
175 
176         /* user.xxx.format property */
177         String fmt = base.concat(&quot;.format&quot;);
178         String fmtValue = cmdProps.get(fmt);
179         if (fmtValue == null &amp;&amp; format != null &amp;&amp; !format.equals(baseValue)) {
180             // Create the property only if different than the base property
181             cmdProps.put(fmt, format);
182         }
183     }
184 
185     /**
186      * Read the raw properties from native System.c.
187      */
188     public static class Raw {
189         // Array indices written by native vmProperties()
190         // The order is arbitrary (but alphabetic for convenience)
<span class="line-modified">191         @Native private static final int _awt_toolkit_NDX = 0;</span>
<span class="line-removed">192         @Native private static final int _display_country_NDX = 1 + _awt_toolkit_NDX;</span>
193         @Native private static final int _display_language_NDX = 1 + _display_country_NDX;
194         @Native private static final int _display_script_NDX = 1 + _display_language_NDX;
195         @Native private static final int _display_variant_NDX = 1 + _display_script_NDX;
196         @Native private static final int _file_encoding_NDX = 1 + _display_variant_NDX;
197         @Native private static final int _file_separator_NDX = 1 + _file_encoding_NDX;
198         @Native private static final int _format_country_NDX = 1 + _file_separator_NDX;
199         @Native private static final int _format_language_NDX = 1 + _format_country_NDX;
200         @Native private static final int _format_script_NDX = 1 + _format_language_NDX;
201         @Native private static final int _format_variant_NDX = 1 + _format_script_NDX;
202         @Native private static final int _ftp_nonProxyHosts_NDX = 1 + _format_variant_NDX;
203         @Native private static final int _ftp_proxyHost_NDX = 1 + _ftp_nonProxyHosts_NDX;
204         @Native private static final int _ftp_proxyPort_NDX = 1 + _ftp_proxyHost_NDX;
205         @Native private static final int _http_nonProxyHosts_NDX = 1 + _ftp_proxyPort_NDX;
206         @Native private static final int _http_proxyHost_NDX = 1 + _http_nonProxyHosts_NDX;
207         @Native private static final int _http_proxyPort_NDX = 1 + _http_proxyHost_NDX;
208         @Native private static final int _https_proxyHost_NDX = 1 + _http_proxyPort_NDX;
209         @Native private static final int _https_proxyPort_NDX = 1 + _https_proxyHost_NDX;
<span class="line-modified">210         @Native private static final int _java_awt_graphicsenv_NDX = 1 + _https_proxyPort_NDX;</span>
<span class="line-removed">211         @Native private static final int _java_awt_headless_NDX = 1 + _java_awt_graphicsenv_NDX;</span>
<span class="line-removed">212         @Native private static final int _java_io_tmpdir_NDX = 1 + _java_awt_headless_NDX;</span>
213         @Native private static final int _line_separator_NDX = 1 + _java_io_tmpdir_NDX;
214         @Native private static final int _os_arch_NDX = 1 + _line_separator_NDX;
215         @Native private static final int _os_name_NDX = 1 + _os_arch_NDX;
216         @Native private static final int _os_version_NDX = 1 + _os_name_NDX;
217         @Native private static final int _path_separator_NDX = 1 + _os_version_NDX;
218         @Native private static final int _socksNonProxyHosts_NDX = 1 + _path_separator_NDX;
219         @Native private static final int _socksProxyHost_NDX = 1 + _socksNonProxyHosts_NDX;
220         @Native private static final int _socksProxyPort_NDX = 1 + _socksProxyHost_NDX;
221         @Native private static final int _sun_arch_abi_NDX = 1 + _socksProxyPort_NDX;
222         @Native private static final int _sun_arch_data_model_NDX = 1 + _sun_arch_abi_NDX;
223         @Native private static final int _sun_cpu_endian_NDX = 1 + _sun_arch_data_model_NDX;
224         @Native private static final int _sun_cpu_isalist_NDX = 1 + _sun_cpu_endian_NDX;
<span class="line-modified">225         @Native private static final int _sun_desktop_NDX = 1 + _sun_cpu_isalist_NDX;</span>
<span class="line-removed">226         @Native private static final int _sun_io_unicode_encoding_NDX = 1 + _sun_desktop_NDX;</span>
227         @Native private static final int _sun_jnu_encoding_NDX = 1 + _sun_io_unicode_encoding_NDX;
228         @Native private static final int _sun_os_patch_level_NDX = 1 + _sun_jnu_encoding_NDX;
229         @Native private static final int _sun_stderr_encoding_NDX = 1 + _sun_os_patch_level_NDX;
230         @Native private static final int _sun_stdout_encoding_NDX = 1 + _sun_stderr_encoding_NDX;
231         @Native private static final int _user_dir_NDX = 1 + _sun_stdout_encoding_NDX;
232         @Native private static final int _user_home_NDX = 1 + _user_dir_NDX;
233         @Native private static final int _user_name_NDX = 1 + _user_home_NDX;
234         @Native private static final int FIXED_LENGTH = 1 + _user_name_NDX;
235 
236         // Array of Strings returned from the VM and Command line properties
237         // The array is not used after initialization is complete.
238         private final String[] platformProps;
239 
240         private Raw() {
241             platformProps = platformProperties();
242         }
243 
244         /**
245          * Return the value for a well known default from native.
246          * @param index the index of the known property
</pre>
</td>
<td>
<hr />
<pre>
 73         // Use platform values if not overridden by a commandline -Dkey=value
 74         // In no particular order
 75         putIfAbsent(props, &quot;os.name&quot;, raw.propDefault(Raw._os_name_NDX));
 76         putIfAbsent(props, &quot;os.arch&quot;, raw.propDefault(Raw._os_arch_NDX));
 77         putIfAbsent(props, &quot;os.version&quot;, raw.propDefault(Raw._os_version_NDX));
 78         putIfAbsent(props, &quot;line.separator&quot;, raw.propDefault(Raw._line_separator_NDX));
 79         putIfAbsent(props, &quot;file.separator&quot;, raw.propDefault(Raw._file_separator_NDX));
 80         putIfAbsent(props, &quot;path.separator&quot;, raw.propDefault(Raw._path_separator_NDX));
 81         putIfAbsent(props, &quot;java.io.tmpdir&quot;, raw.propDefault(Raw._java_io_tmpdir_NDX));
 82         putIfAbsent(props, &quot;http.proxyHost&quot;, raw.propDefault(Raw._http_proxyHost_NDX));
 83         putIfAbsent(props, &quot;http.proxyPort&quot;, raw.propDefault(Raw._http_proxyPort_NDX));
 84         putIfAbsent(props, &quot;https.proxyHost&quot;, raw.propDefault(Raw._https_proxyHost_NDX));
 85         putIfAbsent(props, &quot;https.proxyPort&quot;, raw.propDefault(Raw._https_proxyPort_NDX));
 86         putIfAbsent(props, &quot;ftp.proxyHost&quot;, raw.propDefault(Raw._ftp_proxyHost_NDX));
 87         putIfAbsent(props, &quot;ftp.proxyPort&quot;, raw.propDefault(Raw._ftp_proxyPort_NDX));
 88         putIfAbsent(props, &quot;socksProxyHost&quot;, raw.propDefault(Raw._socksProxyHost_NDX));
 89         putIfAbsent(props, &quot;socksProxyPort&quot;, raw.propDefault(Raw._socksProxyPort_NDX));
 90         putIfAbsent(props, &quot;http.nonProxyHosts&quot;, raw.propDefault(Raw._http_nonProxyHosts_NDX));
 91         putIfAbsent(props, &quot;ftp.nonProxyHosts&quot;, raw.propDefault(Raw._ftp_nonProxyHosts_NDX));
 92         putIfAbsent(props, &quot;socksNonProxyHosts&quot;, raw.propDefault(Raw._socksNonProxyHosts_NDX));




 93         putIfAbsent(props, &quot;sun.arch.abi&quot;, raw.propDefault(Raw._sun_arch_abi_NDX));
 94         putIfAbsent(props, &quot;sun.arch.data.model&quot;, raw.propDefault(Raw._sun_arch_data_model_NDX));
 95         putIfAbsent(props, &quot;sun.os.patch.level&quot;, raw.propDefault(Raw._sun_os_patch_level_NDX));
 96         putIfAbsent(props, &quot;sun.stdout.encoding&quot;, raw.propDefault(Raw._sun_stdout_encoding_NDX));
 97         putIfAbsent(props, &quot;sun.stderr.encoding&quot;, raw.propDefault(Raw._sun_stderr_encoding_NDX));
 98         putIfAbsent(props, &quot;sun.io.unicode.encoding&quot;, raw.propDefault(Raw._sun_io_unicode_encoding_NDX));
 99         putIfAbsent(props, &quot;sun.cpu.isalist&quot;, raw.propDefault(Raw._sun_cpu_isalist_NDX));
100         putIfAbsent(props, &quot;sun.cpu.endian&quot;, raw.propDefault(Raw._sun_cpu_endian_NDX));
101 
102         /* Construct i18n related options */
103         fillI18nProps(props,&quot;user.language&quot;, raw.propDefault(Raw._display_language_NDX),
104                 raw.propDefault(Raw._format_language_NDX));
105         fillI18nProps(props,&quot;user.script&quot;,   raw.propDefault(Raw._display_script_NDX),
106                 raw.propDefault(Raw._format_script_NDX));
107         fillI18nProps(props,&quot;user.country&quot;,  raw.propDefault(Raw._display_country_NDX),
108                 raw.propDefault(Raw._format_country_NDX));
109         fillI18nProps(props,&quot;user.variant&quot;,  raw.propDefault(Raw._display_variant_NDX),
110                 raw.propDefault(Raw._format_variant_NDX));
111 
112         return props;
</pre>
<hr />
<pre>
167         if (dispValue == null &amp;&amp; display != null &amp;&amp; !display.equals(baseValue)) {
168             // Create the property only if different from the base property
169             cmdProps.put(disp, display);
170         }
171 
172         /* user.xxx.format property */
173         String fmt = base.concat(&quot;.format&quot;);
174         String fmtValue = cmdProps.get(fmt);
175         if (fmtValue == null &amp;&amp; format != null &amp;&amp; !format.equals(baseValue)) {
176             // Create the property only if different than the base property
177             cmdProps.put(fmt, format);
178         }
179     }
180 
181     /**
182      * Read the raw properties from native System.c.
183      */
184     public static class Raw {
185         // Array indices written by native vmProperties()
186         // The order is arbitrary (but alphabetic for convenience)
<span class="line-modified">187         @Native private static final int _display_country_NDX = 0;</span>

188         @Native private static final int _display_language_NDX = 1 + _display_country_NDX;
189         @Native private static final int _display_script_NDX = 1 + _display_language_NDX;
190         @Native private static final int _display_variant_NDX = 1 + _display_script_NDX;
191         @Native private static final int _file_encoding_NDX = 1 + _display_variant_NDX;
192         @Native private static final int _file_separator_NDX = 1 + _file_encoding_NDX;
193         @Native private static final int _format_country_NDX = 1 + _file_separator_NDX;
194         @Native private static final int _format_language_NDX = 1 + _format_country_NDX;
195         @Native private static final int _format_script_NDX = 1 + _format_language_NDX;
196         @Native private static final int _format_variant_NDX = 1 + _format_script_NDX;
197         @Native private static final int _ftp_nonProxyHosts_NDX = 1 + _format_variant_NDX;
198         @Native private static final int _ftp_proxyHost_NDX = 1 + _ftp_nonProxyHosts_NDX;
199         @Native private static final int _ftp_proxyPort_NDX = 1 + _ftp_proxyHost_NDX;
200         @Native private static final int _http_nonProxyHosts_NDX = 1 + _ftp_proxyPort_NDX;
201         @Native private static final int _http_proxyHost_NDX = 1 + _http_nonProxyHosts_NDX;
202         @Native private static final int _http_proxyPort_NDX = 1 + _http_proxyHost_NDX;
203         @Native private static final int _https_proxyHost_NDX = 1 + _http_proxyPort_NDX;
204         @Native private static final int _https_proxyPort_NDX = 1 + _https_proxyHost_NDX;
<span class="line-modified">205         @Native private static final int _java_io_tmpdir_NDX = 1 + _https_proxyPort_NDX;</span>


206         @Native private static final int _line_separator_NDX = 1 + _java_io_tmpdir_NDX;
207         @Native private static final int _os_arch_NDX = 1 + _line_separator_NDX;
208         @Native private static final int _os_name_NDX = 1 + _os_arch_NDX;
209         @Native private static final int _os_version_NDX = 1 + _os_name_NDX;
210         @Native private static final int _path_separator_NDX = 1 + _os_version_NDX;
211         @Native private static final int _socksNonProxyHosts_NDX = 1 + _path_separator_NDX;
212         @Native private static final int _socksProxyHost_NDX = 1 + _socksNonProxyHosts_NDX;
213         @Native private static final int _socksProxyPort_NDX = 1 + _socksProxyHost_NDX;
214         @Native private static final int _sun_arch_abi_NDX = 1 + _socksProxyPort_NDX;
215         @Native private static final int _sun_arch_data_model_NDX = 1 + _sun_arch_abi_NDX;
216         @Native private static final int _sun_cpu_endian_NDX = 1 + _sun_arch_data_model_NDX;
217         @Native private static final int _sun_cpu_isalist_NDX = 1 + _sun_cpu_endian_NDX;
<span class="line-modified">218         @Native private static final int _sun_io_unicode_encoding_NDX = 1 + _sun_cpu_isalist_NDX;</span>

219         @Native private static final int _sun_jnu_encoding_NDX = 1 + _sun_io_unicode_encoding_NDX;
220         @Native private static final int _sun_os_patch_level_NDX = 1 + _sun_jnu_encoding_NDX;
221         @Native private static final int _sun_stderr_encoding_NDX = 1 + _sun_os_patch_level_NDX;
222         @Native private static final int _sun_stdout_encoding_NDX = 1 + _sun_stderr_encoding_NDX;
223         @Native private static final int _user_dir_NDX = 1 + _sun_stdout_encoding_NDX;
224         @Native private static final int _user_home_NDX = 1 + _user_dir_NDX;
225         @Native private static final int _user_name_NDX = 1 + _user_home_NDX;
226         @Native private static final int FIXED_LENGTH = 1 + _user_name_NDX;
227 
228         // Array of Strings returned from the VM and Command line properties
229         // The array is not used after initialization is complete.
230         private final String[] platformProps;
231 
232         private Raw() {
233             platformProps = platformProperties();
234         }
235 
236         /**
237          * Return the value for a well known default from native.
238          * @param index the index of the known property
</pre>
</td>
</tr>
</table>
<center><a href="StaticProperty.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="jar/InvalidJarIndexError.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>