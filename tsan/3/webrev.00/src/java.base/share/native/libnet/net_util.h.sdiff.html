<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/native/libnet/net_util.h</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="net_util.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../libverify/check_code.c.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/native/libnet/net_util.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 44  * Cached field IDs
 45  *
 46  * The naming convention for field IDs is
 47  *      &lt;class abbrv&gt;_&lt;fieldName&gt;ID
 48  * i.e. psi_timeoutID is PlainSocketImpl&#39;s timeout field&#39;s ID.
 49  */
 50 extern jclass ia_class;
 51 extern jfieldID iac_addressID;
 52 extern jfieldID iac_familyID;
 53 extern jfieldID iac_hostNameID;
 54 extern jfieldID iac_origHostNameID;
 55 extern jfieldID ia_preferIPv6AddressID;
 56 
 57 JNIEXPORT void JNICALL initInetAddressIDs(JNIEnv *env);
 58 
 59 /** (Inet6Address accessors)
 60  * set_ methods return JNI_TRUE on success JNI_FALSE on error
 61  * get_ methods that return int/boolean, return -1 on error
 62  * get_ methods that return objects return NULL on error.
 63  */
<span class="line-removed"> 64 extern jobject getInet6Address_scopeifname(JNIEnv *env, jobject ia6Obj);</span>
 65 extern jboolean setInet6Address_scopeifname(JNIEnv *env, jobject ia6Obj, jobject scopeifname);
<span class="line-removed"> 66 extern jboolean getInet6Address_scopeid_set(JNIEnv *env, jobject ia6Obj);</span>
 67 extern unsigned int getInet6Address_scopeid(JNIEnv *env, jobject ia6Obj);
 68 extern jboolean setInet6Address_scopeid(JNIEnv *env, jobject ia6Obj, int scopeid);
 69 extern jboolean getInet6Address_ipaddress(JNIEnv *env, jobject ia6Obj, char *dest);
 70 extern jboolean setInet6Address_ipaddress(JNIEnv *env, jobject ia6Obj, char *address);
 71 
 72 extern void setInetAddress_addr(JNIEnv *env, jobject iaObj, int address);
 73 extern void setInetAddress_family(JNIEnv *env, jobject iaObj, int family);
 74 extern void setInetAddress_hostName(JNIEnv *env, jobject iaObj, jobject h);
 75 extern int getInetAddress_addr(JNIEnv *env, jobject iaObj);
 76 extern int getInetAddress_family(JNIEnv *env, jobject iaObj);
<span class="line-removed"> 77 extern jobject getInetAddress_hostName(JNIEnv *env, jobject iaObj);</span>
 78 
 79 extern jclass ia4_class;
 80 extern jmethodID ia4_ctrID;
 81 
 82 /* NetworkInterface fields */
 83 extern jclass ni_class;
 84 extern jfieldID ni_nameID;
 85 extern jfieldID ni_indexID;
 86 extern jfieldID ni_addrsID;
 87 extern jfieldID ni_descID;
 88 extern jmethodID ni_ctrID;
 89 
 90 /* PlainSocketImpl fields */
 91 extern jfieldID psi_timeoutID;
 92 extern jfieldID psi_fdID;
 93 extern jfieldID psi_addressID;
 94 extern jfieldID psi_portID;
 95 extern jfieldID psi_localportID;
 96 
 97 /* DatagramPacket fields */
 98 extern jfieldID dp_addressID;
 99 extern jfieldID dp_portID;
100 extern jfieldID dp_bufID;
101 extern jfieldID dp_offsetID;
102 extern jfieldID dp_lengthID;
103 extern jfieldID dp_bufLengthID;
104 
105 /* Inet6Address fields */
106 extern jclass ia6_class;
107 extern jfieldID ia6_holder6ID;
108 extern jfieldID ia6_ipaddressID;
109 extern jfieldID ia6_scopeidID;
<span class="line-removed">110 extern jfieldID ia6_cachedscopeidID;</span>
111 extern jfieldID ia6_scopeidsetID;
112 extern jfieldID ia6_scopeifnameID;
113 extern jmethodID ia6_ctrID;
114 
115 /************************************************************************
116  *  Utilities
117  */
118 JNIEXPORT void JNICALL Java_java_net_InetAddress_init(JNIEnv *env, jclass cls);
119 JNIEXPORT void JNICALL Java_java_net_Inet4Address_init(JNIEnv *env, jclass cls);
120 JNIEXPORT void JNICALL Java_java_net_Inet6Address_init(JNIEnv *env, jclass cls);
121 JNIEXPORT void JNICALL Java_java_net_NetworkInterface_init(JNIEnv *env, jclass cls);
122 
123 JNIEXPORT void JNICALL NET_ThrowNew(JNIEnv *env, int errorNum, char *msg);
124 
125 void NET_ThrowCurrent(JNIEnv *env, char *msg);
126 
127 jfieldID NET_GetFileDescriptorID(JNIEnv *env);
128 

129 JNIEXPORT jint JNICALL ipv6_available();
130 
131 JNIEXPORT jint JNICALL reuseport_available();
132 
133 /**
134  * This function will fill a SOCKETADDRESS structure from an InetAddress
135  * object.
136  *
137  * The parameter &#39;sa&#39; must point to valid storage of size
138  * &#39;sizeof(SOCKETADDRESS)&#39;.
139  *
140  * The parameter &#39;len&#39; is a pointer to an int and is used for returning
141  * the actual sockaddr length, e.g. &#39;sizeof(struct sockaddr_in)&#39; or
142  * &#39;sizeof(struct sockaddr_in6)&#39;.
143  *
144  * If the type of the InetAddress object is IPv6, the function will fill a
145  * sockaddr_in6 structure. IPv6 must be available in that case, otherwise an
146  * exception is thrown.
147  * In the case of an IPv4 InetAddress, when IPv6 is available and
148  * v4MappedAddress is TRUE, this method will fill a sockaddr_in6 structure
</pre>
</td>
<td>
<hr />
<pre>
 44  * Cached field IDs
 45  *
 46  * The naming convention for field IDs is
 47  *      &lt;class abbrv&gt;_&lt;fieldName&gt;ID
 48  * i.e. psi_timeoutID is PlainSocketImpl&#39;s timeout field&#39;s ID.
 49  */
 50 extern jclass ia_class;
 51 extern jfieldID iac_addressID;
 52 extern jfieldID iac_familyID;
 53 extern jfieldID iac_hostNameID;
 54 extern jfieldID iac_origHostNameID;
 55 extern jfieldID ia_preferIPv6AddressID;
 56 
 57 JNIEXPORT void JNICALL initInetAddressIDs(JNIEnv *env);
 58 
 59 /** (Inet6Address accessors)
 60  * set_ methods return JNI_TRUE on success JNI_FALSE on error
 61  * get_ methods that return int/boolean, return -1 on error
 62  * get_ methods that return objects return NULL on error.
 63  */

 64 extern jboolean setInet6Address_scopeifname(JNIEnv *env, jobject ia6Obj, jobject scopeifname);

 65 extern unsigned int getInet6Address_scopeid(JNIEnv *env, jobject ia6Obj);
 66 extern jboolean setInet6Address_scopeid(JNIEnv *env, jobject ia6Obj, int scopeid);
 67 extern jboolean getInet6Address_ipaddress(JNIEnv *env, jobject ia6Obj, char *dest);
 68 extern jboolean setInet6Address_ipaddress(JNIEnv *env, jobject ia6Obj, char *address);
 69 
 70 extern void setInetAddress_addr(JNIEnv *env, jobject iaObj, int address);
 71 extern void setInetAddress_family(JNIEnv *env, jobject iaObj, int family);
 72 extern void setInetAddress_hostName(JNIEnv *env, jobject iaObj, jobject h);
 73 extern int getInetAddress_addr(JNIEnv *env, jobject iaObj);
 74 extern int getInetAddress_family(JNIEnv *env, jobject iaObj);

 75 
 76 extern jclass ia4_class;
 77 extern jmethodID ia4_ctrID;
 78 
 79 /* NetworkInterface fields */
 80 extern jclass ni_class;
 81 extern jfieldID ni_nameID;
 82 extern jfieldID ni_indexID;
 83 extern jfieldID ni_addrsID;
 84 extern jfieldID ni_descID;
 85 extern jmethodID ni_ctrID;
 86 
 87 /* PlainSocketImpl fields */
 88 extern jfieldID psi_timeoutID;
 89 extern jfieldID psi_fdID;
 90 extern jfieldID psi_addressID;
 91 extern jfieldID psi_portID;
 92 extern jfieldID psi_localportID;
 93 
 94 /* DatagramPacket fields */
 95 extern jfieldID dp_addressID;
 96 extern jfieldID dp_portID;
 97 extern jfieldID dp_bufID;
 98 extern jfieldID dp_offsetID;
 99 extern jfieldID dp_lengthID;
100 extern jfieldID dp_bufLengthID;
101 
102 /* Inet6Address fields */
103 extern jclass ia6_class;
104 extern jfieldID ia6_holder6ID;
105 extern jfieldID ia6_ipaddressID;
106 extern jfieldID ia6_scopeidID;

107 extern jfieldID ia6_scopeidsetID;
108 extern jfieldID ia6_scopeifnameID;
109 extern jmethodID ia6_ctrID;
110 
111 /************************************************************************
112  *  Utilities
113  */
114 JNIEXPORT void JNICALL Java_java_net_InetAddress_init(JNIEnv *env, jclass cls);
115 JNIEXPORT void JNICALL Java_java_net_Inet4Address_init(JNIEnv *env, jclass cls);
116 JNIEXPORT void JNICALL Java_java_net_Inet6Address_init(JNIEnv *env, jclass cls);
117 JNIEXPORT void JNICALL Java_java_net_NetworkInterface_init(JNIEnv *env, jclass cls);
118 
119 JNIEXPORT void JNICALL NET_ThrowNew(JNIEnv *env, int errorNum, char *msg);
120 
121 void NET_ThrowCurrent(JNIEnv *env, char *msg);
122 
123 jfieldID NET_GetFileDescriptorID(JNIEnv *env);
124 
<span class="line-added">125 JNIEXPORT jint JNICALL ipv4_available();</span>
126 JNIEXPORT jint JNICALL ipv6_available();
127 
128 JNIEXPORT jint JNICALL reuseport_available();
129 
130 /**
131  * This function will fill a SOCKETADDRESS structure from an InetAddress
132  * object.
133  *
134  * The parameter &#39;sa&#39; must point to valid storage of size
135  * &#39;sizeof(SOCKETADDRESS)&#39;.
136  *
137  * The parameter &#39;len&#39; is a pointer to an int and is used for returning
138  * the actual sockaddr length, e.g. &#39;sizeof(struct sockaddr_in)&#39; or
139  * &#39;sizeof(struct sockaddr_in6)&#39;.
140  *
141  * If the type of the InetAddress object is IPv6, the function will fill a
142  * sockaddr_in6 structure. IPv6 must be available in that case, otherwise an
143  * exception is thrown.
144  * In the case of an IPv4 InetAddress, when IPv6 is available and
145  * v4MappedAddress is TRUE, this method will fill a sockaddr_in6 structure
</pre>
</td>
</tr>
</table>
<center><a href="net_util.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../libverify/check_code.c.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>