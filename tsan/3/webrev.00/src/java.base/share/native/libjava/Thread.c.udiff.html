<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.base/share/native/libjava/Thread.c</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="System.c.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="VM.c.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/native/libjava/Thread.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 1994, 2012, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 1994, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -48,13 +48,11 @@</span>
      {&quot;resume0&quot;,          &quot;()V&quot;,        (void *)&amp;JVM_ResumeThread},
      {&quot;setPriority0&quot;,     &quot;(I)V&quot;,       (void *)&amp;JVM_SetThreadPriority},
      {&quot;yield&quot;,            &quot;()V&quot;,        (void *)&amp;JVM_Yield},
      {&quot;sleep&quot;,            &quot;(J)V&quot;,       (void *)&amp;JVM_Sleep},
      {&quot;currentThread&quot;,    &quot;()&quot; THD,     (void *)&amp;JVM_CurrentThread},
<span class="udiff-line-removed">-     {&quot;countStackFrames&quot;, &quot;()I&quot;,        (void *)&amp;JVM_CountStackFrames},</span>
      {&quot;interrupt0&quot;,       &quot;()V&quot;,        (void *)&amp;JVM_Interrupt},
<span class="udiff-line-removed">-     {&quot;isInterrupted&quot;,    &quot;(Z)Z&quot;,       (void *)&amp;JVM_IsInterrupted},</span>
      {&quot;holdsLock&quot;,        &quot;(&quot; OBJ &quot;)Z&quot;, (void *)&amp;JVM_HoldsLock},
      {&quot;getThreads&quot;,        &quot;()[&quot; THD,   (void *)&amp;JVM_GetAllThreads},
      {&quot;dumpThreads&quot;,      &quot;([&quot; THD &quot;)[[&quot; STE, (void *)&amp;JVM_DumpThreads},
      {&quot;setNativeName&quot;,    &quot;(&quot; STR &quot;)V&quot;, (void *)&amp;JVM_SetNativeThreadName},
  };
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -67,5 +65,14 @@</span>
  JNIEXPORT void JNICALL
  Java_java_lang_Thread_registerNatives(JNIEnv *env, jclass cls)
  {
      (*env)-&gt;RegisterNatives(env, cls, methods, ARRAY_LENGTH(methods));
  }
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ JNIEXPORT void JNICALL</span>
<span class="udiff-line-added">+ Java_java_lang_Thread_clearInterruptEvent(JNIEnv *env, jclass cls)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+ #if defined(_WIN32)</span>
<span class="udiff-line-added">+     // Need to reset the interrupt event used by Process.waitFor</span>
<span class="udiff-line-added">+     ResetEvent((HANDLE) JVM_GetThreadInterruptEvent());</span>
<span class="udiff-line-added">+ #endif</span>
<span class="udiff-line-added">+ }</span>
</pre>
<center><a href="System.c.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="VM.c.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>