<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/native/libjava/VM.c</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="Thread.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="java_props.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/native/libjava/VM.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
25 
26 #include &quot;jni.h&quot;
27 #include &quot;jni_util.h&quot;
28 #include &quot;jvm.h&quot;
29 #include &quot;jdk_util.h&quot;
30 
31 #include &quot;jdk_internal_misc_VM.h&quot;
32 
33 /* Only register the performance-critical methods */
34 static JNINativeMethod methods[] = {
35     {&quot;getNanoTimeAdjustment&quot;, &quot;(J)J&quot;, (void *)&amp;JVM_GetNanoTimeAdjustment}
36 };
37 
38 JNIEXPORT jobject JNICALL
39 Java_jdk_internal_misc_VM_latestUserDefinedLoader0(JNIEnv *env, jclass cls) {
40     return JVM_LatestUserDefinedLoader(env);
41 }
42 
43 JNIEXPORT void JNICALL
44 Java_jdk_internal_misc_VM_initialize(JNIEnv *env, jclass cls) {
<span class="line-removed">45     if (!JDK_InitJvmHandle()) {</span>
<span class="line-removed">46         JNU_ThrowInternalError(env, &quot;Handle for JVM not found for symbol lookup&quot;);</span>
<span class="line-removed">47         return;</span>
<span class="line-removed">48     }</span>
<span class="line-removed">49 </span>
50     // Registers implementations of native methods described in methods[]
51     // above.
52     // In particular, registers JVM_GetNanoTimeAdjustment as the implementation
53     // of the native VM.getNanoTimeAdjustment - avoiding the cost of
54     // introducing a Java_jdk_internal_misc_VM_getNanoTimeAdjustment wrapper
55     (*env)-&gt;RegisterNatives(env, cls,
56                             methods, sizeof(methods)/sizeof(methods[0]));
57 }
58 
59 JNIEXPORT jobjectArray JNICALL
60 Java_jdk_internal_misc_VM_getRuntimeArguments(JNIEnv *env, jclass cls) {
61     return JVM_GetVmArguments(env);
62 }
63 
64 JNIEXPORT void JNICALL
65 Java_jdk_internal_misc_VM_initializeFromArchive(JNIEnv *env, jclass ignore,
66                                                 jclass c) {
67     JVM_InitializeFromArchive(env, c);
68 }
</pre>
</td>
<td>
<hr />
<pre>
25 
26 #include &quot;jni.h&quot;
27 #include &quot;jni_util.h&quot;
28 #include &quot;jvm.h&quot;
29 #include &quot;jdk_util.h&quot;
30 
31 #include &quot;jdk_internal_misc_VM.h&quot;
32 
33 /* Only register the performance-critical methods */
34 static JNINativeMethod methods[] = {
35     {&quot;getNanoTimeAdjustment&quot;, &quot;(J)J&quot;, (void *)&amp;JVM_GetNanoTimeAdjustment}
36 };
37 
38 JNIEXPORT jobject JNICALL
39 Java_jdk_internal_misc_VM_latestUserDefinedLoader0(JNIEnv *env, jclass cls) {
40     return JVM_LatestUserDefinedLoader(env);
41 }
42 
43 JNIEXPORT void JNICALL
44 Java_jdk_internal_misc_VM_initialize(JNIEnv *env, jclass cls) {





45     // Registers implementations of native methods described in methods[]
46     // above.
47     // In particular, registers JVM_GetNanoTimeAdjustment as the implementation
48     // of the native VM.getNanoTimeAdjustment - avoiding the cost of
49     // introducing a Java_jdk_internal_misc_VM_getNanoTimeAdjustment wrapper
50     (*env)-&gt;RegisterNatives(env, cls,
51                             methods, sizeof(methods)/sizeof(methods[0]));
52 }
53 
54 JNIEXPORT jobjectArray JNICALL
55 Java_jdk_internal_misc_VM_getRuntimeArguments(JNIEnv *env, jclass cls) {
56     return JVM_GetVmArguments(env);
57 }
58 
59 JNIEXPORT void JNICALL
60 Java_jdk_internal_misc_VM_initializeFromArchive(JNIEnv *env, jclass ignore,
61                                                 jclass c) {
62     JVM_InitializeFromArchive(env, c);
63 }
</pre>
</td>
</tr>
</table>
<center><a href="Thread.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="java_props.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>