<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/native/libjli/args.c</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../libjava/jni_util.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="emessages.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/native/libjli/args.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 128,10 ***</span>
<span class="line-new-header">--- 128,12 ---</span>
                  // We can not just update the idx here because if -jar @file
                  // still need expansion of @file to get the argument for -jar
              }
          } else if (JLI_StrCmp(arg, &quot;--disable-@files&quot;) == 0) {
              stopExpansion = JNI_TRUE;
<span class="line-added">+         } else if (JLI_StrCCmp(arg, &quot;--module=&quot;) == 0) {</span>
<span class="line-added">+             idx = argsCount;</span>
          }
      } else {
          if (!expectingNoDashArg) {
              // this is main class, argsCount is index to next arg
              idx = argsCount;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 335,11 ***</span>
      }
  
      // remaining partial token
      if (ctx.state == IN_TOKEN || ctx.state == IN_QUOTE) {
          if (ctx.parts-&gt;size != 0) {
<span class="line-modified">!             JLI_List_add(rv, JLI_List_combine(ctx.parts));</span>
          }
      }
      JLI_List_free(ctx.parts);
  
      return rv;
<span class="line-new-header">--- 337,13 ---</span>
      }
  
      // remaining partial token
      if (ctx.state == IN_TOKEN || ctx.state == IN_QUOTE) {
          if (ctx.parts-&gt;size != 0) {
<span class="line-modified">!             token = JLI_List_combine(ctx.parts);</span>
<span class="line-added">+             checkArg(token);</span>
<span class="line-added">+             JLI_List_add(rv, token);</span>
          }
      }
      JLI_List_free(ctx.parts);
  
      return rv;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 445,10 ***</span>
<span class="line-new-header">--- 449,11 ---</span>
  
  int isTerminalOpt(char *arg) {
      return JLI_StrCmp(arg, &quot;-jar&quot;) == 0 ||
             JLI_StrCmp(arg, &quot;-m&quot;) == 0 ||
             JLI_StrCmp(arg, &quot;--module&quot;) == 0 ||
<span class="line-added">+            JLI_StrCCmp(arg, &quot;--module=&quot;) == 0 ||</span>
             JLI_StrCmp(arg, &quot;--dry-run&quot;) == 0 ||
             JLI_StrCmp(arg, &quot;-h&quot;) == 0 ||
             JLI_StrCmp(arg, &quot;-?&quot;) == 0 ||
             JLI_StrCmp(arg, &quot;-help&quot;) == 0 ||
             JLI_StrCmp(arg, &quot;--help&quot;) == 0 ||
</pre>
<center><a href="../libjava/jni_util.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="emessages.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>