<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/java.base/share/man/java.1</title>
    <link rel="stylesheet" href="../../../../style.css" />
    <script type="text/javascript" src="../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre><a name="1" id="anc1"></a><span class="line-modified">   1 .\&quot;t</span>
<span class="line-modified">   2 .\&quot; Copyright (c) 1994, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   3 .\&quot; DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4 .\&quot;
   5 .\&quot; This code is free software; you can redistribute it and/or modify it
   6 .\&quot; under the terms of the GNU General Public License version 2 only, as
   7 .\&quot; published by the Free Software Foundation.
   8 .\&quot;
   9 .\&quot; This code is distributed in the hope that it will be useful, but WITHOUT
  10 .\&quot; ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
<a name="2" id="anc2"></a><span class="line-modified">  11 .\&quot; FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License</span>
  12 .\&quot; version 2 for more details (a copy is included in the LICENSE file that
  13 .\&quot; accompanied this code).
  14 .\&quot;
  15 .\&quot; You should have received a copy of the GNU General Public License version
  16 .\&quot; 2 along with this work; if not, write to the Free Software Foundation,
  17 .\&quot; Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  18 .\&quot;
  19 .\&quot; Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  20 .\&quot; or visit www.oracle.com if you need additional information or have any
  21 .\&quot; questions.
  22 .\&quot;
<a name="3" id="anc3"></a><span class="line-modified">  23 .\&quot; Automatically generated by Pandoc 2.3.1</span>







  24 .\&quot;
<a name="4" id="anc4"></a><span class="line-modified">  25 .TH &quot;JAVA&quot; &quot;1&quot; &quot;2020&quot; &quot;JDK 14&quot; &quot;JDK Commands&quot;</span>
<span class="line-modified">  26 .hy</span>
<span class="line-modified">  27 .SH NAME</span>









































  28 .PP
<a name="5" id="anc5"></a><span class="line-modified">  29 java \- launch a Java application</span>
<span class="line-modified">  30 .SH SYNOPSIS</span>














  31 .PP
<a name="6" id="anc6"></a><span class="line-modified">  32 To launch a class file:</span>






























































































































  33 .PP
<a name="7" id="anc7"></a><span class="line-modified">  34 \f[CB]java\f[R] [\f[I]options\f[R]] \f[I]mainclass\f[R] [\f[I]args\f[R] ...]</span>
  35 .PP
<a name="8" id="anc8"></a><span class="line-modified">  36 To launch the main class in a JAR file:</span>

  37 .PP
<a name="9" id="anc9"></a><span class="line-modified">  38 \f[CB]java\f[R] [\f[I]options\f[R]] \f[CB]\-jar\f[R] \f[I]jarfile\f[R]</span>
<span class="line-modified">  39 [\f[I]args\f[R] ...]</span>
  40 .PP
<a name="10" id="anc10"></a><span class="line-modified">  41 To launch the main class in a module:</span>
  42 .PP
<a name="11" id="anc11"></a><span class="line-modified">  43 \f[CB]java\f[R] [\f[I]options\f[R]] \f[CB]\-m\f[R]</span>
<span class="line-modified">  44 \f[I]module\f[R][\f[CB]/\f[R]\f[I]mainclass\f[R]] [\f[I]args\f[R] ...]</span>

  45 .PP
<a name="12" id="anc12"></a>





  46 or
<a name="13" id="anc13"></a><span class="line-modified">  47 .PP</span>
<span class="line-modified">  48 \f[CB]java\f[R] [\f[I]options\f[R]] \f[CB]\-\-module\f[R]</span>
<span class="line-modified">  49 \f[I]module\f[R][\f[CB]/\f[R]\f[I]mainclass\f[R]] [\f[I]args\f[R] ...]</span>
<span class="line-modified">  50 .PP</span>
<span class="line-modified">  51 To launch a single source\-file program:</span>
<span class="line-modified">  52 .PP</span>
<span class="line-modified">  53 \f[CB]java\f[R] [\f[I]options\f[R]] \f[I]source\-file\f[R] [\f[I]args\f[R]</span>
<span class="line-modified">  54 \&amp;...]</span>
<span class="line-modified">  55 .TP</span>
<span class="line-modified">  56 .B \f[I]options\f[R]</span>
<span class="line-modified">  57 Optional: Specifies command\-line options separated by spaces.</span>
<span class="line-modified">  58 See \f[B]Overview of Java Options\f[R] for a description of available</span>
<span class="line-modified">  59 options.</span>
<span class="line-modified">  60 .RS</span>
<span class="line-modified">  61 .RE</span>
<span class="line-modified">  62 .TP</span>
<span class="line-modified">  63 .B \f[I]mainclass\f[R]</span>
<span class="line-modified">  64 Specifies the name of the class to be launched.</span>
<span class="line-modified">  65 Command\-line entries following \f[CB]classname\f[R] are the arguments for</span>
<span class="line-modified">  66 the main method.</span>
<span class="line-modified">  67 .RS</span>
<span class="line-modified">  68 .RE</span>
<span class="line-modified">  69 .TP</span>
<span class="line-modified">  70 .B \f[CB]\-jar\f[R] \f[I]jarfile\f[R]</span>
<span class="line-modified">  71 Executes a program encapsulated in a JAR file.</span>
<span class="line-modified">  72 The \f[I]jarfile\f[R] argument is the name of a JAR file with a manifest</span>
<span class="line-modified">  73 that contains a line in the form \f[CB]Main\-Class:\f[R]\f[I]classname\f[R]</span>
<span class="line-modified">  74 that defines the class with the</span>
<span class="line-modified">  75 \f[CB]public\ static\ void\ main(String[]\ args)\f[R] method that serves</span>
<span class="line-modified">  76 as your application\[aq]s starting point.</span>
<span class="line-modified">  77 When you use \f[CB]\-jar\f[R], the specified JAR file is the source of all</span>
<span class="line-modified">  78 user classes, and other class path settings are ignored.</span>
<span class="line-modified">  79 If you\[aq]re using JAR files, then see \f[B]jar\f[R].</span>
<span class="line-modified">  80 .RS</span>
<span class="line-modified">  81 .RE</span>
<span class="line-added">  82 .TP</span>
<span class="line-added">  83 .B \f[CB]\-m\f[R] or \f[CB]\-\-module\f[R] \f[I]module\f[R][\f[CB]/\f[R]\f[I]mainclass\f[R]]</span>
<span class="line-added">  84 Executes the main class in a module specified by \f[I]mainclass\f[R] if</span>
<span class="line-added">  85 it is given, or, if it is not given, the value in the \f[I]module\f[R].</span>
<span class="line-added">  86 In other words, \f[I]mainclass\f[R] can be used when it is not specified</span>
<span class="line-added">  87 by the module, or to override the value when it is specified.</span>
<span class="line-added">  88 .RS</span>
<span class="line-added">  89 .PP</span>
<span class="line-added">  90 See \f[B]Standard Options for Java\f[R].</span>
<span class="line-added">  91 .RE</span>
<span class="line-added">  92 .TP</span>
<span class="line-added">  93 .B \f[I]source\-file\f[R]</span>
<span class="line-added">  94 Only used to launch a single source\-file program.</span>
<span class="line-added">  95 Specifies the source file that contains the main class when using</span>
<span class="line-added">  96 source\-file mode.</span>
<span class="line-added">  97 See \f[B]Using Source\-File Mode to Launch Single\-File Source\-Code</span>
<span class="line-added">  98 Programs\f[R]</span>
<span class="line-added">  99 .RS</span>
<span class="line-added"> 100 .RE</span>
<span class="line-added"> 101 .TP</span>
<span class="line-added"> 102 .B \f[I]args\f[R] ...</span>
<span class="line-added"> 103 Optional: Arguments following \f[I]mainclass\f[R], \f[I]source\-file\f[R],</span>
<span class="line-added"> 104 \f[CB]\-jar\f[R] \f[I]jarfile\f[R], and \f[CB]\-m\f[R] or \f[CB]\-\-module\f[R]</span>
<span class="line-added"> 105 \f[I]module\f[R]\f[CB]/\f[R]\f[I]mainclass\f[R] are passed as arguments to</span>
<span class="line-added"> 106 the main class.</span>
<span class="line-added"> 107 .RS</span>
<span class="line-added"> 108 .RE</span>
<span class="line-added"> 109 .SH DESCRIPTION</span>
<span class="line-added"> 110 .PP</span>
<span class="line-added"> 111 The \f[CB]java\f[R] command starts a Java application.</span>
<span class="line-added"> 112 It does this by starting the Java Virtual Machine (JVM), loading the</span>
<span class="line-added"> 113 specified class, and calling that class\[aq]s \f[CB]main()\f[R] method.</span>
<span class="line-added"> 114 The method must be declared \f[CB]public\f[R] and \f[CB]static\f[R], it must</span>
<span class="line-added"> 115 not return any value, and it must accept a \f[CB]String\f[R] array as a</span>
<span class="line-added"> 116 parameter.</span>
<span class="line-added"> 117 The method declaration has the following form:</span>
<span class="line-added"> 118 .RS</span>
<span class="line-added"> 119 .PP</span>
<span class="line-added"> 120 \f[CB]public\ static\ void\ main(String[]\ args)\f[R]</span>
<span class="line-added"> 121 .RE</span>
<span class="line-added"> 122 .PP</span>
<span class="line-added"> 123 In source\-file mode, the \f[CB]java\f[R] command can launch a class</span>
<span class="line-added"> 124 declared in a source file.</span>
<span class="line-added"> 125 See \f[B]Using Source\-File Mode to Launch Single\-File Source\-Code</span>
<span class="line-added"> 126 Programs\f[R] for a description of using the source\-file mode.</span>
<span class="line-added"> 127 .RS</span>
<span class="line-added"> 128 .PP</span>
<span class="line-added"> 129 \f[B]Note:\f[R] You can use the \f[CB]JDK_JAVA_OPTIONS\f[R] launcher</span>
<span class="line-added"> 130 environment variable to prepend its content to the actual command line</span>
<span class="line-added"> 131 of the \f[CB]java\f[R] launcher.</span>
<span class="line-added"> 132 See \f[B]Using the JDK_JAVA_OPTIONS Launcher Environment Variable\f[R].</span>
<span class="line-added"> 133 .RE</span>
<span class="line-added"> 134 .PP</span>
<span class="line-added"> 135 By default, the first argument that isn\[aq]t an option of the</span>
<span class="line-added"> 136 \f[CB]java\f[R] command is the fully qualified name of the class to be</span>
<span class="line-added"> 137 called.</span>
<span class="line-added"> 138 If \f[CB]\-jar\f[R] is specified, then its argument is the name of the JAR</span>
<span class="line-added"> 139 file containing class and resource files for the application.</span>
<span class="line-added"> 140 The startup class must be indicated by the \f[CB]Main\-Class\f[R] manifest</span>
<span class="line-added"> 141 header in its manifest file.</span>
<span class="line-added"> 142 .PP</span>
<span class="line-added"> 143 Arguments after the class file name or the JAR file name are passed to</span>
<span class="line-added"> 144 the \f[CB]main()\f[R] method.</span>
<span class="line-added"> 145 .SS \f[CB]javaw\f[R]</span>
<span class="line-added"> 146 .PP</span>
<span class="line-added"> 147 \f[B]Windows:\f[R] The \f[CB]javaw\f[R] command is identical to</span>
<span class="line-added"> 148 \f[CB]java\f[R], except that with \f[CB]javaw\f[R] there\[aq]s no associated</span>
<span class="line-added"> 149 console window.</span>
<span class="line-added"> 150 Use \f[CB]javaw\f[R] when you don\[aq]t want a command prompt window to</span>
<span class="line-added"> 151 appear.</span>
<span class="line-added"> 152 The \f[CB]javaw\f[R] launcher will, however, display a dialog box with</span>
<span class="line-added"> 153 error information if a launch fails.</span>
<span class="line-added"> 154 .SH USING SOURCE\-FILE MODE TO LAUNCH SINGLE\-FILE SOURCE\-CODE PROGRAMS</span>
<span class="line-added"> 155 .PP</span>
<span class="line-added"> 156 To launch a class declared in a source file, run the \f[CB]java\f[R]</span>
<span class="line-added"> 157 launcher in source\-file mode.</span>
<span class="line-added"> 158 Entering source\-file mode is determined by two items on the</span>
<span class="line-added"> 159 \f[CB]java\f[R] command line:</span>
<span class="line-added"> 160 .IP \[bu] 2</span>
<span class="line-added"> 161 The first item on the command line that is not an option or part of an</span>
<span class="line-added"> 162 option.</span>
<span class="line-added"> 163 In other words, the item in the command line that would otherwise be the</span>
<span class="line-added"> 164 main class name.</span>
<span class="line-added"> 165 .IP \[bu] 2</span>
<span class="line-added"> 166 The \f[CB]\-\-source\f[R] \f[I]version\f[R] option, if present.</span>
<span class="line-added"> 167 .PP</span>
<span class="line-added"> 168 If the class identifies an existing file that has a \f[CB]\&amp;.java\f[R]</span>
<span class="line-added"> 169 extension, or if the \f[CB]\-\-source\f[R] option is specified, then</span>
<span class="line-added"> 170 source\-file mode is selected.</span>
<span class="line-added"> 171 The source file is then compiled and run.</span>
<span class="line-added"> 172 The \f[CB]\-\-source\f[R] option can be used to specify the source</span>
<span class="line-added"> 173 \f[I]version\f[R] or \f[I]N\f[R] of the source code.</span>
<span class="line-added"> 174 This determines the API that can be used.</span>
<span class="line-added"> 175 When you set \f[CB]\-\-source\f[R] \f[I]N\f[R], you can only use the public</span>
<span class="line-added"> 176 API that was defined in JDK \f[I]N\f[R].</span>
<span class="line-added"> 177 .RS</span>
<span class="line-added"> 178 .PP</span>
<span class="line-added"> 179 \f[B]Note:\f[R] The valid values of \f[I]N\f[R] change for each release,</span>
<span class="line-added"> 180 with new values added and old values removed.</span>
<span class="line-added"> 181 You\[aq]ll get an error message if you use a value of \f[I]N\f[R] that is</span>
<span class="line-added"> 182 no longer supported.</span>
<span class="line-added"> 183 Supported values of \f[I]N\f[R] for this release are \f[CB]7\f[R],</span>
<span class="line-added"> 184 \f[CB]8\f[R], \f[CB]9\f[R], \f[CB]10\f[R], \f[CB]11\f[R], \f[CB]12\f[R],</span>
<span class="line-added"> 185 \f[CB]13\f[R], and \f[CB]14\f[R].</span>
<span class="line-added"> 186 .RE</span>
<span class="line-added"> 187 .PP</span>
<span class="line-added"> 188 If the file does not have the \f[CB]\&amp;.java\f[R] extension, the</span>
<span class="line-added"> 189 \f[CB]\-\-source\f[R] option must be used to tell the \f[CB]java\f[R]</span>
<span class="line-added"> 190 command to use the source\-file mode.</span>
<span class="line-added"> 191 The \f[CB]\-\-source\f[R] option is used for cases when the source file is</span>
<span class="line-added"> 192 a &quot;script&quot; to be executed and the name of the source file does not</span>
<span class="line-added"> 193 follow the normal naming conventions for Java source files.</span>
<span class="line-added"> 194 .PP</span>
<span class="line-added"> 195 In source\-file mode, the effect is as though the source file is</span>
<span class="line-added"> 196 compiled into memory, and the first class found in the source file is</span>
<span class="line-added"> 197 executed.</span>
<span class="line-added"> 198 Any arguments placed after the name of the source file in the original</span>
<span class="line-added"> 199 command line are passed to the compiled class when it is executed.</span>
<span class="line-added"> 200 .PP</span>
<span class="line-added"> 201 For example, if a file were named \f[CB]HelloWorld.java\f[R] and contained</span>
<span class="line-added"> 202 a class named \f[CB]hello.World\f[R], then the source\-file mode command</span>
<span class="line-added"> 203 to launch the class would be:</span>
<span class="line-added"> 204 .RS</span>
<span class="line-added"> 205 .PP</span>
<span class="line-added"> 206 \f[CB]java\ HelloWorld.java\f[R]</span>
<span class="line-added"> 207 .RE</span>
<span class="line-added"> 208 .PP</span>
<span class="line-added"> 209 The example illustrates that the class can be in a named package, and</span>
<span class="line-added"> 210 does not need to be in the unnamed package.</span>
<span class="line-added"> 211 This use of source\-file mode is informally equivalent to using the</span>
<span class="line-added"> 212 following two commands where \f[CB]hello.World\f[R] is the name of the</span>
<span class="line-added"> 213 class in the package:</span>
<span class="line-added"> 214 .IP</span>
 215 .nf
<a name="14" id="anc14"></a><span class="line-modified"> 216 \f[CB]</span>
<span class="line-modified"> 217 javac\ \-d\ &lt;memory&gt;\ HelloWorld.java</span>
<span class="line-added"> 218 java\ \-cp\ &lt;memory&gt;\ hello.World</span>
<span class="line-added"> 219 \f[R]</span>
 220 .fi
<a name="15" id="anc15"></a><span class="line-modified"> 221 .PP</span>
<span class="line-modified"> 222 \f[B]In source\-file mode, any additional command\-line options are</span>
<span class="line-modified"> 223 processed as follows:\f[R]</span>
<span class="line-modified"> 224 .IP \[bu] 2</span>
<span class="line-modified"> 225 The launcher scans the options specified before the source file for any</span>
<span class="line-modified"> 226 that are relevant in order to compile the source file.</span>
<span class="line-modified"> 227 .RS 2</span>
<span class="line-modified"> 228 .PP</span>
<span class="line-added"> 229 This includes: \f[CB]\-\-class\-path\f[R], \f[CB]\-\-module\-path\f[R],</span>
<span class="line-added"> 230 \f[CB]\-\-add\-exports\f[R], \f[CB]\-\-add\-modules\f[R],</span>
<span class="line-added"> 231 \f[CB]\-\-limit\-modules\f[R], \f[CB]\-\-patch\-module\f[R],</span>
<span class="line-added"> 232 \f[CB]\-\-upgrade\-module\-path\f[R], and any variant forms of those</span>
<span class="line-added"> 233 options.</span>
<span class="line-added"> 234 It also includes the new \f[CB]\-\-enable\-preview\f[R] option, described</span>
<span class="line-added"> 235 in JEP 12.</span>
<span class="line-added"> 236 .RE</span>
<span class="line-added"> 237 .IP \[bu] 2</span>
<span class="line-added"> 238 No provision is made to pass any additional options to the compiler,</span>
<span class="line-added"> 239 such as \f[CB]\-processor\f[R] or \f[CB]\-Werror\f[R].</span>
<span class="line-added"> 240 .IP \[bu] 2</span>
<span class="line-added"> 241 Command\-line argument files (\f[CB]\@\f[R]\-files) may be used in the</span>
<span class="line-added"> 242 standard way.</span>
<span class="line-added"> 243 Long lists of arguments for either the VM or the program being invoked</span>
<span class="line-added"> 244 may be placed in files specified on the command\-line by prefixing the</span>
<span class="line-added"> 245 filename with an \f[CB]\@\f[R] character.</span>
<span class="line-added"> 246 .PP</span>
<span class="line-added"> 247 \f[B]In source\-file mode, compilation proceeds as follows:\f[R]</span>
<span class="line-added"> 248 .IP \[bu] 2</span>
<span class="line-added"> 249 Any command\-line options that are relevant to the compilation</span>
<span class="line-added"> 250 environment are taken into account.</span>
<span class="line-added"> 251 .IP \[bu] 2</span>
<span class="line-added"> 252 No other source files are found and compiled, as if the source path is</span>
<span class="line-added"> 253 set to an empty value.</span>
<span class="line-added"> 254 .IP \[bu] 2</span>
<span class="line-added"> 255 Annotation processing is disabled, as if \f[CB]\-proc:none\f[R] is in</span>
<span class="line-added"> 256 effect.</span>
<span class="line-added"> 257 .IP \[bu] 2</span>
<span class="line-added"> 258 If a version is specified, via the \f[CB]\-\-source\f[R] option, the value</span>
<span class="line-added"> 259 is used as the argument for an implicit \f[CB]\-\-release\f[R] option for</span>
<span class="line-added"> 260 the compilation.</span>
<span class="line-added"> 261 This sets both the source version accepted by compiler and the system</span>
<span class="line-added"> 262 API that may be used by the code in the source file.</span>
<span class="line-added"> 263 .IP \[bu] 2</span>
<span class="line-added"> 264 The source file is compiled in the context of an unnamed module.</span>
<span class="line-added"> 265 .IP \[bu] 2</span>
<span class="line-added"> 266 The source file should contain one or more top\-level classes, the first</span>
<span class="line-added"> 267 of which is taken as the class to be executed.</span>
<span class="line-added"> 268 .IP \[bu] 2</span>
<span class="line-added"> 269 The compiler does not enforce the optional restriction defined at the</span>
<span class="line-added"> 270 end of JLS ??7.6, that a type in a named package should exist in a file</span>
<span class="line-added"> 271 whose name is composed from the type name followed by the</span>
<span class="line-added"> 272 \f[CB]\&amp;.java\f[R] extension.</span>
<span class="line-added"> 273 .IP \[bu] 2</span>
<span class="line-added"> 274 If the source file contains errors, appropriate error messages are</span>
<span class="line-added"> 275 written to the standard error stream, and the launcher exits with a</span>
<span class="line-added"> 276 non\-zero exit code.</span>
<span class="line-added"> 277 .PP</span>
<span class="line-added"> 278 \f[B]In source\-file mode, execution proceeds as follows:\f[R]</span>
<span class="line-added"> 279 .IP \[bu] 2</span>
<span class="line-added"> 280 The class to be executed is the first top\-level class found in the</span>
<span class="line-added"> 281 source file.</span>
<span class="line-added"> 282 It must contain a declaration of the standard</span>
<span class="line-added"> 283 \f[CB]public\ static\ void\ main(String[])\f[R] method.</span>
<span class="line-added"> 284 .IP \[bu] 2</span>
<span class="line-added"> 285 The compiled classes are loaded by a custom class loader, that delegates</span>
<span class="line-added"> 286 to the application class loader.</span>
<span class="line-added"> 287 This implies that classes appearing on the application class path cannot</span>
<span class="line-added"> 288 refer to any classes declared in the source file.</span>
<span class="line-added"> 289 .IP \[bu] 2</span>
<span class="line-added"> 290 The compiled classes are executed in the context of an unnamed module,</span>
<span class="line-added"> 291 as though \f[CB]\-\-add\-modules=ALL\-DEFAULT\f[R] is in effect.</span>
<span class="line-added"> 292 This is in addition to any other \f[CB]\-\-add\-module\f[R] options that</span>
<span class="line-added"> 293 may be have been specified on the command line.</span>
<span class="line-added"> 294 .IP \[bu] 2</span>
<span class="line-added"> 295 Any arguments appearing after the name of the file on the command line</span>
<span class="line-added"> 296 are passed to the standard main method in the obvious way.</span>
<span class="line-added"> 297 .IP \[bu] 2</span>
<span class="line-added"> 298 It is an error if there is a class on the application class path whose</span>
<span class="line-added"> 299 name is the same as that of the class to be executed.</span>
<span class="line-added"> 300 .PP</span>
<span class="line-added"> 301 See \f[B]JEP 330: Launch Single\-File Source\-Code Programs\f[R]</span>
<span class="line-added"> 302 [http://openjdk.java.net/jeps/330] for complete details.</span>
<span class="line-added"> 303 .SH USING THE JDK_JAVA_OPTIONS LAUNCHER ENVIRONMENT VARIABLE</span>
<span class="line-added"> 304 .PP</span>
<span class="line-added"> 305 \f[CB]JDK_JAVA_OPTIONS\f[R] prepends its content to the options parsed</span>
<span class="line-added"> 306 from the command line.</span>
<span class="line-added"> 307 The content of the \f[CB]JDK_JAVA_OPTIONS\f[R] environment variable is a</span>
<span class="line-added"> 308 list of arguments separated by white\-space characters (as determined by</span>
<span class="line-added"> 309 \f[CB]isspace()\f[R]).</span>
<span class="line-added"> 310 These are prepended to the command line arguments passed to</span>
<span class="line-added"> 311 \f[CB]java\f[R] launcher.</span>
<span class="line-added"> 312 The encoding requirement for the environment variable is the same as the</span>
<span class="line-added"> 313 \f[CB]java\f[R] command line on the system.</span>
<span class="line-added"> 314 \f[CB]JDK_JAVA_OPTIONS\f[R] environment variable content is treated in the</span>
<span class="line-added"> 315 same manner as that specified in the command line.</span>
<span class="line-added"> 316 .PP</span>
<span class="line-added"> 317 Single (\f[CB]\[aq]\f[R]) or double (\f[CB]&quot;\f[R]) quotes can be used to</span>
<span class="line-added"> 318 enclose arguments that contain whitespace characters.</span>
<span class="line-added"> 319 All content between the open quote and the first matching close quote</span>
<span class="line-added"> 320 are preserved by simply removing the pair of quotes.</span>
<span class="line-added"> 321 In case a matching quote is not found, the launcher will abort with an</span>
<span class="line-added"> 322 error message.</span>
<span class="line-added"> 323 \f[CB]\@\f[R]\-files are supported as they are specified in the command</span>
<span class="line-added"> 324 line.</span>
<span class="line-added"> 325 However, as in \f[CB]\@\f[R]\-files, use of a wildcard is not supported.</span>
<span class="line-added"> 326 In order to mitigate potential misuse of \f[CB]JDK_JAVA_OPTIONS\f[R]</span>
<span class="line-added"> 327 behavior, options that specify the main class (such as \f[CB]\-jar\f[R])</span>
<span class="line-added"> 328 or cause the \f[CB]java\f[R] launcher to exit without executing the main</span>
<span class="line-added"> 329 class (such as \f[CB]\-h\f[R]) are disallowed in the environment variable.</span>
<span class="line-added"> 330 If any of these options appear in the environment variable, the launcher</span>
<span class="line-added"> 331 will abort with an error message.</span>
<span class="line-added"> 332 When \f[CB]JDK_JAVA_OPTIONS\f[R] is set, the launcher prints a message to</span>
<span class="line-added"> 333 stderr as a reminder.</span>
<span class="line-added"> 334 .PP</span>
<span class="line-added"> 335 \f[B]Example:\f[R]</span>
<span class="line-added"> 336 .IP</span>
 337 .nf
<a name="16" id="anc16"></a><span class="line-modified"> 338 \f[CB]</span>
<span class="line-modified"> 339 $\ export\ JDK_JAVA_OPTIONS=\[aq]\-g\ \@file1\ \-Dprop=value\ \@file2\ \-Dws.prop=&quot;white\ spaces&quot;\[aq]</span>
<span class="line-added"> 340 $\ java\ \-Xint\ \@file3</span>
<span class="line-added"> 341 \f[R]</span>
 342 .fi
<a name="17" id="anc17"></a>




























































 343 .PP
<a name="18" id="anc18"></a><span class="line-modified"> 344 is equivalent to the command line:</span>
<span class="line-modified"> 345 .IP</span>
<span class="line-modified"> 346 .nf</span>
<span class="line-modified"> 347 \f[CB]</span>
<span class="line-modified"> 348 java\ \-g\ \@file1\ \-Dprop=value\ \@file2\ \-Dws.prop=&quot;white\ spaces&quot;\ \-Xint\ \@file3</span>
<span class="line-modified"> 349 \f[R]</span>
<span class="line-modified"> 350 .fi</span>
<span class="line-modified"> 351 .SH OVERVIEW OF JAVA OPTIONS</span>
<span class="line-modified"> 352 .PP</span>
<span class="line-modified"> 353 The \f[CB]java\f[R] command supports a wide range of options in the</span>
<span class="line-modified"> 354 following categories:</span>
<span class="line-modified"> 355 .IP \[bu] 2</span>
<span class="line-modified"> 356 \f[B]Standard Options for Java\f[R]: Options guaranteed to be supported</span>
<span class="line-modified"> 357 by all implementations of the Java Virtual Machine (JVM).</span>
<span class="line-modified"> 358 They\[aq]re used for common actions, such as checking the version of the</span>
<span class="line-modified"> 359 JRE, setting the class path, enabling verbose output, and so on.</span>
<span class="line-modified"> 360 .IP \[bu] 2</span>
<span class="line-modified"> 361 \f[B]Extra Options for Java\f[R]: General purpose options that are</span>
<span class="line-modified"> 362 specific to the Java HotSpot Virtual Machine.</span>
<span class="line-modified"> 363 They aren\[aq]t guaranteed to be supported by all JVM implementations,</span>
<span class="line-modified"> 364 and are subject to change.</span>
<span class="line-modified"> 365 These options start with \f[CB]\-X\f[R].</span>
<span class="line-modified"> 366 .PP</span>
<span class="line-modified"> 367 The advanced options aren\[aq]t recommended for casual use.</span>
<span class="line-modified"> 368 These are developer options used for tuning specific areas of the Java</span>
<span class="line-modified"> 369 HotSpot Virtual Machine operation that often have specific system</span>
<span class="line-modified"> 370 requirements and may require privileged access to system configuration</span>
<span class="line-modified"> 371 parameters.</span>
<span class="line-modified"> 372 Several examples of performance tuning are provided in \f[B]Performance</span>
<span class="line-modified"> 373 Tuning Examples\f[R].</span>
<span class="line-modified"> 374 These options aren\[aq]t guaranteed to be supported by all JVM</span>
<span class="line-modified"> 375 implementations and are subject to change.</span>
<span class="line-modified"> 376 Advanced options start with \f[CB]\-XX\f[R].</span>
<span class="line-modified"> 377 .IP \[bu] 2</span>
<span class="line-modified"> 378 \f[B]Advanced Runtime Options for Java\f[R]: Control the runtime behavior</span>
<span class="line-added"> 379 of the Java HotSpot VM.</span>
<span class="line-added"> 380 .IP \[bu] 2</span>
<span class="line-added"> 381 \f[B]Advanced JIT Compiler Options for java\f[R]: Control the dynamic</span>
<span class="line-added"> 382 just\-in\-time (JIT) compilation performed by the Java HotSpot VM.</span>
<span class="line-added"> 383 .IP \[bu] 2</span>
<span class="line-added"> 384 \f[B]Advanced Serviceability Options for Java\f[R]: Enable gathering</span>
<span class="line-added"> 385 system information and performing extensive debugging.</span>
<span class="line-added"> 386 .IP \[bu] 2</span>
<span class="line-added"> 387 \f[B]Advanced Garbage Collection Options for Java\f[R]: Control how</span>
<span class="line-added"> 388 garbage collection (GC) is performed by the Java HotSpot</span>
<span class="line-added"> 389 .PP</span>
<span class="line-added"> 390 Boolean options are used to either enable a feature that\[aq]s disabled</span>
<span class="line-added"> 391 by default or disable a feature that\[aq]s enabled by default.</span>
<span class="line-added"> 392 Such options don\[aq]t require a parameter.</span>
<span class="line-added"> 393 Boolean \f[CB]\-XX\f[R] options are enabled using the plus sign</span>
<span class="line-added"> 394 (\f[CB]\-XX:+\f[R]\f[I]OptionName\f[R]) and disabled using the minus sign</span>
<span class="line-added"> 395 (\f[CB]\-XX:\-\f[R]\f[I]OptionName\f[R]).</span>
<span class="line-added"> 396 .PP</span>
<span class="line-added"> 397 For options that require an argument, the argument may be separated from</span>
<span class="line-added"> 398 the option name by a space, a colon (:), or an equal sign (=), or the</span>
<span class="line-added"> 399 argument may directly follow the option (the exact syntax differs for</span>
<span class="line-added"> 400 each option).</span>
<span class="line-added"> 401 If you\[aq]re expected to specify the size in bytes, then you can use no</span>
<span class="line-added"> 402 suffix, or use the suffix \f[CB]k\f[R] or \f[CB]K\f[R] for kilobytes (KB),</span>
<span class="line-added"> 403 \f[CB]m\f[R] or \f[CB]M\f[R] for megabytes (MB), or \f[CB]g\f[R] or \f[CB]G\f[R]</span>
<span class="line-added"> 404 for gigabytes (GB).</span>
<span class="line-added"> 405 For example, to set the size to 8 GB, you can specify either</span>
<span class="line-added"> 406 \f[CB]8g\f[R], \f[CB]8192m\f[R], \f[CB]8388608k\f[R], or \f[CB]8589934592\f[R]</span>
<span class="line-added"> 407 as the argument.</span>
<span class="line-added"> 408 If you are expected to specify the percentage, then use a number from 0</span>
<span class="line-added"> 409 to 1.</span>
<span class="line-added"> 410 For example, specify \f[CB]0.25\f[R] for 25%.</span>
<span class="line-added"> 411 .PP</span>
<span class="line-added"> 412 The following sections describe the options that are obsolete,</span>
<span class="line-added"> 413 deprecated, and removed:</span>
<span class="line-added"> 414 .IP \[bu] 2</span>
<span class="line-added"> 415 \f[B]Deprecated Java Options\f[R]: Accepted and acted upon \-\-\- a</span>
<span class="line-added"> 416 warning is issued when they\[aq]re used.</span>
<span class="line-added"> 417 .IP \[bu] 2</span>
<span class="line-added"> 418 \f[B]Obsolete Java Options\f[R]: Accepted but ignored \-\-\- a warning is</span>
<span class="line-added"> 419 issued when they\[aq]re used.</span>
<span class="line-added"> 420 .IP \[bu] 2</span>
<span class="line-added"> 421 \f[B]Removed Java Options\f[R]: Removed \-\-\- using them results in an</span>
<span class="line-added"> 422 error.</span>
<span class="line-added"> 423 .SH STANDARD OPTIONS FOR JAVA</span>
<span class="line-added"> 424 .PP</span>
<span class="line-added"> 425 These are the most commonly used options supported by all</span>
<span class="line-added"> 426 implementations of the JVM.</span>
<span class="line-added"> 427 .RS</span>
<span class="line-added"> 428 .PP</span>
<span class="line-added"> 429 \f[B]Note:\f[R] To specify an argument for a long option, you can use</span>
<span class="line-added"> 430 either \f[CB]\-\-\f[R]\f[I]name\f[R]\f[CB]=\f[R]\f[I]value\f[R] or</span>
<span class="line-added"> 431 \f[CB]\-\-\f[R]\f[I]name\f[R] \f[I]value\f[R].</span>
<span class="line-added"> 432 .RE</span>
<span class="line-added"> 433 .TP</span>
<span class="line-added"> 434 .B \f[CB]\-agentlib:\f[R]\f[I]libname\f[R][\f[CB]=\f[R]\f[I]options\f[R]]</span>
<span class="line-added"> 435 Loads the specified native agent library.</span>
<span class="line-added"> 436 After the library name, a comma\-separated list of options specific to</span>
<span class="line-added"> 437 the library can be used.</span>
<span class="line-added"> 438 .RS</span>
<span class="line-added"> 439 .IP \[bu] 2</span>
<span class="line-added"> 440 \f[B]Oracle Solaris, Linux, and macOS:\f[R] If the option</span>
<span class="line-added"> 441 \f[CB]\-agentlib:foo\f[R] is specified, then the JVM attempts to load the</span>
<span class="line-added"> 442 library named \f[CB]libfoo.so\f[R] in the location specified by the</span>
<span class="line-added"> 443 \f[CB]LD_LIBRARY_PATH\f[R] system variable (on macOS this variable is</span>
<span class="line-added"> 444 \f[CB]DYLD_LIBRARY_PATH\f[R]).</span>
<span class="line-added"> 445 .IP \[bu] 2</span>
<span class="line-added"> 446 \f[B]Windows:\f[R] If the option \f[CB]\-agentlib:foo\f[R] is specified,</span>
<span class="line-added"> 447 then the JVM attempts to load the library named \f[CB]foo.dll\f[R] in the</span>
<span class="line-added"> 448 location specified by the \f[CB]PATH\f[R] system variable.</span>
<span class="line-added"> 449 .RS 2</span>
<span class="line-added"> 450 .PP</span>
<span class="line-added"> 451 The following example shows how to load the Java Debug Wire Protocol</span>
<span class="line-added"> 452 (JDWP) library and listen for the socket connection on port 8000,</span>
<span class="line-added"> 453 suspending the JVM before the main class loads:</span>
<span class="line-added"> 454 .RS</span>
<span class="line-added"> 455 .PP</span>
<span class="line-added"> 456 \f[CB]\-agentlib:jdwp=transport=dt_socket,server=y,address=8000\f[R]</span>
<span class="line-added"> 457 .RE</span>
<span class="line-added"> 458 .RE</span>
<span class="line-added"> 459 .RE</span>
<span class="line-added"> 460 .TP</span>
<span class="line-added"> 461 .B \f[CB]\-agentpath:\f[R]\f[I]pathname\f[R][\f[CB]=\f[R]\f[I]options\f[R]]</span>
<span class="line-added"> 462 Loads the native agent library specified by the absolute path name.</span>
<span class="line-added"> 463 This option is equivalent to \f[CB]\-agentlib\f[R] but uses the full path</span>
<span class="line-added"> 464 and file name of the library.</span>
<span class="line-added"> 465 .RS</span>
<span class="line-added"> 466 .RE</span>
<span class="line-added"> 467 .TP</span>
<span class="line-added"> 468 .B \f[CB]\-\-class\-path\f[R] \f[I]classpath\f[R], \f[CB]\-classpath\f[R] \f[I]classpath\f[R], or \f[CB]\-cp\f[R] \f[I]classpath\f[R]</span>
<span class="line-added"> 469 A semicolon (\f[CB];\f[R]) separated list of directories, JAR archives,</span>
<span class="line-added"> 470 and ZIP archives to search for class files.</span>
<span class="line-added"> 471 .RS</span>
<span class="line-added"> 472 .PP</span>
<span class="line-added"> 473 Specifying \f[I]classpath\f[R] overrides any setting of the</span>
<span class="line-added"> 474 \f[CB]CLASSPATH\f[R] environment variable.</span>
<span class="line-added"> 475 If the class path option isn\[aq]t used and \f[I]classpath\f[R] isn\[aq]t</span>
<span class="line-added"> 476 set, then the user class path consists of the current directory (.).</span>
<span class="line-added"> 477 .PP</span>
<span class="line-added"> 478 As a special convenience, a class path element that contains a base name</span>
<span class="line-added"> 479 of an asterisk (*) is considered equivalent to specifying a list of all</span>
<span class="line-added"> 480 the files in the directory with the extension \f[CB]\&amp;.jar\f[R] or</span>
<span class="line-added"> 481 \f[CB]\&amp;.JAR\f[R] .</span>
<span class="line-added"> 482 A Java program can\[aq]t tell the difference between the two</span>
<span class="line-added"> 483 invocations.</span>
<span class="line-added"> 484 For example, if the directory mydir contains \f[CB]a.jar\f[R] and</span>
<span class="line-added"> 485 \f[CB]b.JAR\f[R], then the class path element mydir/* is expanded to</span>
<span class="line-added"> 486 \f[CB]A.jar:b.JAR\f[R], except that the order of JAR files is unspecified.</span>
<span class="line-added"> 487 All \f[CB]\&amp;.jar\f[R] files in the specified directory, even hidden ones,</span>
<span class="line-added"> 488 are included in the list.</span>
<span class="line-added"> 489 A class path entry consisting of an asterisk (*) expands to a list of</span>
<span class="line-added"> 490 all the jar files in the current directory.</span>
<span class="line-added"> 491 The \f[CB]CLASSPATH\f[R] environment variable, where defined, is similarly</span>
<span class="line-added"> 492 expanded.</span>
<span class="line-added"> 493 Any class path wildcard expansion that occurs before the Java VM is</span>
<span class="line-added"> 494 started.</span>
<span class="line-added"> 495 Java programs never see wildcards that aren\[aq]t expanded except by</span>
<span class="line-added"> 496 querying the environment, such as by calling</span>
<span class="line-added"> 497 \f[CB]System.getenv(&quot;CLASSPATH&quot;)\f[R].</span>
<span class="line-added"> 498 .RE</span>
<span class="line-added"> 499 .TP</span>
<span class="line-added"> 500 .B \f[CB]\-\-disable\-\@files\f[R]</span>
<span class="line-added"> 501 Can be used anywhere on the command line, including in an argument file,</span>
<span class="line-added"> 502 to prevent further \f[CB]\@filename\f[R] expansion.</span>
<span class="line-added"> 503 This option stops expanding \f[CB]\@\f[R]\-argfiles after the option.</span>
<span class="line-added"> 504 .RS</span>
<span class="line-added"> 505 .RE</span>
<span class="line-added"> 506 .TP</span>
<span class="line-added"> 507 .B \f[CB]\-\-enable\-preview\f[R]</span>
<span class="line-added"> 508 Allows classes to depend on \f[B]preview features\f[R]</span>
<span class="line-added"> 509 [https://docs.oracle.com/en/java/javase/12/language/index.html#JSLAN\-GUID\-5A82FE0E\-0CA4\-4F1F\-B075\-564874FE2823]</span>
<span class="line-added"> 510 of the release.</span>
<span class="line-added"> 511 .RS</span>
<span class="line-added"> 512 .RE</span>
<span class="line-added"> 513 .TP</span>
<span class="line-added"> 514 .B \f[CB]\-\-module\-path\f[R] \f[I]modulepath\f[R]... or \f[CB]\-p\f[R] \f[I]modulepath\f[R]</span>
<span class="line-added"> 515 A semicolon (\f[CB];\f[R]) separated list of directories in which each</span>
<span class="line-added"> 516 directory is a directory of modules.</span>
<span class="line-added"> 517 .RS</span>
<span class="line-added"> 518 .RE</span>
<span class="line-added"> 519 .TP</span>
<span class="line-added"> 520 .B \f[CB]\-\-upgrade\-module\-path\f[R] \f[I]modulepath\f[R]...</span>
<span class="line-added"> 521 A semicolon (\f[CB];\f[R]) separated list of directories in which each</span>
<span class="line-added"> 522 directory is a directory of modules that replace upgradeable modules in</span>
<span class="line-added"> 523 the runtime image.</span>
<span class="line-added"> 524 .RS</span>
<span class="line-added"> 525 .RE</span>
<span class="line-added"> 526 .TP</span>
<span class="line-added"> 527 .B \f[CB]\-\-add\-modules\f[R] \f[I]module\f[R][\f[CB],\f[R]\f[I]module\f[R]...]</span>
<span class="line-added"> 528 Specifies the root modules to resolve in addition to the initial module.</span>
<span class="line-added"> 529 \f[I]module\f[R] also can be \f[CB]ALL\-DEFAULT\f[R], \f[CB]ALL\-SYSTEM\f[R],</span>
<span class="line-added"> 530 and \f[CB]ALL\-MODULE\-PATH\f[R].</span>
<span class="line-added"> 531 .RS</span>
<span class="line-added"> 532 .RE</span>
<span class="line-added"> 533 .TP</span>
<span class="line-added"> 534 .B \f[CB]\-\-list\-modules\f[R]</span>
<span class="line-added"> 535 Lists the observable modules and then exits.</span>
<span class="line-added"> 536 .RS</span>
<span class="line-added"> 537 .RE</span>
<span class="line-added"> 538 .TP</span>
<span class="line-added"> 539 .B \f[CB]\-d\f[R] \f[I]module_name\f[R] or \f[CB]\-\-describe\-module\f[R] \f[I]module_name\f[R]</span>
<span class="line-added"> 540 Describes a specified module and then exits.</span>
<span class="line-added"> 541 .RS</span>
<span class="line-added"> 542 .RE</span>
<span class="line-added"> 543 .TP</span>
<span class="line-added"> 544 .B \f[CB]\-\-dry\-run\f[R]</span>
<span class="line-added"> 545 Creates the VM but doesn\[aq]t execute the main method.</span>
<span class="line-added"> 546 This \f[CB]\-\-dry\-run\f[R] option might be useful for validating the</span>
<span class="line-added"> 547 command\-line options such as the module system configuration.</span>
<span class="line-added"> 548 .RS</span>
<span class="line-added"> 549 .RE</span>
<span class="line-added"> 550 .TP</span>
<span class="line-added"> 551 .B \f[CB]\-\-validate\-modules\f[R]</span>
<span class="line-added"> 552 Validates all modules and exit.</span>
<span class="line-added"> 553 This option is helpful for finding conflicts and other errors with</span>
<span class="line-added"> 554 modules on the module path.</span>
<span class="line-added"> 555 .RS</span>
<span class="line-added"> 556 .RE</span>
<span class="line-added"> 557 .TP</span>
<span class="line-added"> 558 .B \f[CB]\-D\f[R]\f[I]property\f[R]\f[CB]=\f[R]\f[I]value\f[R]</span>
<span class="line-added"> 559 Sets a system property value.</span>
<span class="line-added"> 560 The \f[I]property\f[R] variable is a string with no spaces that</span>
<span class="line-added"> 561 represents the name of the property.</span>
<span class="line-added"> 562 The \f[I]value\f[R] variable is a string that represents the value of the</span>
<span class="line-added"> 563 property.</span>
<span class="line-added"> 564 If \f[I]value\f[R] is a string with spaces, then enclose it in quotation</span>
<span class="line-added"> 565 marks (for example \f[CB]\-Dfoo=&quot;foo\ bar&quot;\f[R]).</span>
<span class="line-added"> 566 .RS</span>
<span class="line-added"> 567 .RE</span>
<span class="line-added"> 568 .TP</span>
<span class="line-added"> 569 .B \f[CB]\-disableassertions\f[R][\f[CB]:\f[R][\f[I]packagename\f[R]]...|\f[CB]:\f[R]\f[I]classname\f[R]] or \f[CB]\-da\f[R][\f[CB]:\f[R][\f[I]packagename\f[R]]...|\f[CB]:\f[R]\f[I]classname\f[R]]</span>
<span class="line-added"> 570 Disables assertions.</span>
<span class="line-added"> 571 By default, assertions are disabled in all packages and classes.</span>
<span class="line-added"> 572 With no arguments, \f[CB]\-disableassertions\f[R] (\f[CB]\-da\f[R]) disables</span>
<span class="line-added"> 573 assertions in all packages and classes.</span>
<span class="line-added"> 574 With the \f[I]packagename\f[R] argument ending in \f[CB]\&amp;...\f[R], the</span>
<span class="line-added"> 575 switch disables assertions in the specified package and any subpackages.</span>
<span class="line-added"> 576 If the argument is simply \f[CB]\&amp;...\f[R], then the switch disables</span>
<span class="line-added"> 577 assertions in the unnamed package in the current working directory.</span>
<span class="line-added"> 578 With the \f[I]classname\f[R] argument, the switch disables assertions in</span>
<span class="line-added"> 579 the specified class.</span>
<span class="line-added"> 580 .RS</span>
<span class="line-added"> 581 .PP</span>
<span class="line-added"> 582 The \f[CB]\-disableassertions\f[R] (\f[CB]\-da\f[R]) option applies to all</span>
<span class="line-added"> 583 class loaders and to system classes (which don\[aq]t have a class</span>
<span class="line-added"> 584 loader).</span>
<span class="line-added"> 585 There\[aq]s one exception to this rule: If the option is provided with</span>
<span class="line-added"> 586 no arguments, then it doesn\[aq]t apply to system classes.</span>
<span class="line-added"> 587 This makes it easy to disable assertions in all classes except for</span>
<span class="line-added"> 588 system classes.</span>
<span class="line-added"> 589 The \f[CB]\-disablesystemassertions\f[R] option enables you to disable</span>
<span class="line-added"> 590 assertions in all system classes.</span>
 591 To explicitly enable assertions in specific packages or classes, use the
<a name="19" id="anc19"></a><span class="line-modified"> 592 \f[CB]\-enableassertions\f[R] (\f[CB]\-ea\f[R]) option.</span>
<span class="line-modified"> 593 Both options can be used at the same time.</span>
<span class="line-modified"> 594 For example, to run the \f[CB]MyClass\f[R] application with assertions</span>
<span class="line-modified"> 595 enabled in the package \f[CB]com.wombat.fruitbat\f[R] (and any</span>
<span class="line-modified"> 596 subpackages) but disabled in the class</span>
<span class="line-modified"> 597 \f[CB]com.wombat.fruitbat.Brickbat\f[R], use the following command:</span>
<span class="line-modified"> 598 .RS</span>
<span class="line-modified"> 599 .PP</span>
<span class="line-modified"> 600 \f[CB]java\ \-ea:com.wombat.fruitbat...\ \-da:com.wombat.fruitbat.Brickbat\ MyClass\f[R]</span>
<span class="line-modified"> 601 .RE</span>
<span class="line-modified"> 602 .RE</span>
<span class="line-added"> 603 .TP</span>
<span class="line-added"> 604 .B \f[CB]\-disablesystemassertions\f[R] or \f[CB]\-dsa\f[R]</span>
<span class="line-added"> 605 Disables assertions in all system classes.</span>
<span class="line-added"> 606 .RS</span>
<span class="line-added"> 607 .RE</span>
<span class="line-added"> 608 .TP</span>
<span class="line-added"> 609 .B \f[CB]\-enableassertions\f[R][\f[CB]:\f[R][\f[I]packagename\f[R]]...|\f[CB]:\f[R]\f[I]classname\f[R]] or \f[CB]\-ea\f[R][\f[CB]:\f[R][\f[I]packagename\f[R]]...|\f[CB]:\f[R]\f[I]classname\f[R]]</span>
<span class="line-added"> 610 Enables assertions.</span>
<span class="line-added"> 611 By default, assertions are disabled in all packages and classes.</span>
<span class="line-added"> 612 With no arguments, \f[CB]\-enableassertions\f[R] (\f[CB]\-ea\f[R]) enables</span>
<span class="line-added"> 613 assertions in all packages and classes.</span>
<span class="line-added"> 614 With the \f[I]packagename\f[R] argument ending in \f[CB]\&amp;...\f[R], the</span>
<span class="line-added"> 615 switch enables assertions in the specified package and any subpackages.</span>
<span class="line-added"> 616 If the argument is simply \f[CB]\&amp;...\f[R], then the switch enables</span>
<span class="line-added"> 617 assertions in the unnamed package in the current working directory.</span>
<span class="line-added"> 618 With the \f[I]classname\f[R] argument, the switch enables assertions in</span>
<span class="line-added"> 619 the specified class.</span>
<span class="line-added"> 620 .RS</span>
<span class="line-added"> 621 .PP</span>
<span class="line-added"> 622 The \f[CB]\-enableassertions\f[R] (\f[CB]\-ea\f[R]) option applies to all</span>
<span class="line-added"> 623 class loaders and to system classes (which don\[aq]t have a class</span>
<span class="line-added"> 624 loader).</span>
<span class="line-added"> 625 There\[aq]s one exception to this rule: If the option is provided with</span>
<span class="line-added"> 626 no arguments, then it doesn\[aq]t apply to system classes.</span>
<span class="line-added"> 627 This makes it easy to enable assertions in all classes except for system</span>
<span class="line-added"> 628 classes.</span>
<span class="line-added"> 629 The \f[CB]\-enablesystemassertions\f[R] option provides a separate switch</span>
<span class="line-added"> 630 to enable assertions in all system classes.</span>
<span class="line-added"> 631 To explicitly disable assertions in specific packages or classes, use</span>
<span class="line-added"> 632 the \f[CB]\-disableassertions\f[R] (\f[CB]\-da\f[R]) option.</span>
<span class="line-added"> 633 If a single command contains multiple instances of these switches, then</span>
<span class="line-added"> 634 they\[aq]re processed in order, before loading any classes.</span>
<span class="line-added"> 635 For example, to run the \f[CB]MyClass\f[R] application with assertions</span>
<span class="line-added"> 636 enabled only in the package \f[CB]com.wombat.fruitbat\f[R] (and any</span>
<span class="line-added"> 637 subpackages) but disabled in the class</span>
<span class="line-added"> 638 \f[CB]com.wombat.fruitbat.Brickbat\f[R], use the following command:</span>
<span class="line-added"> 639 .RS</span>
<span class="line-added"> 640 .PP</span>
<span class="line-added"> 641 \f[CB]java\ \-ea:com.wombat.fruitbat...\ \-da:com.wombat.fruitbat.Brickbat\ MyClass\f[R]</span>
<span class="line-added"> 642 .RE</span>
<span class="line-added"> 643 .RE</span>
<span class="line-added"> 644 .TP</span>
<span class="line-added"> 645 .B \f[CB]\-enablesystemassertions\f[R] or \f[CB]\-esa\f[R]</span>
<span class="line-added"> 646 Enables assertions in all system classes.</span>
<span class="line-added"> 647 .RS</span>
<span class="line-added"> 648 .RE</span>
<span class="line-added"> 649 .TP</span>
<span class="line-added"> 650 .B \f[CB]\-help\f[R], \f[CB]\-h\f[R], or \f[CB]\-?\f[R]</span>
<span class="line-added"> 651 Prints the help message to the error stream.</span>
<span class="line-added"> 652 .RS</span>
<span class="line-added"> 653 .RE</span>
<span class="line-added"> 654 .TP</span>
<span class="line-added"> 655 .B \f[CB]\-\-help\f[R]</span>
<span class="line-added"> 656 Prints the help message to the output stream.</span>
<span class="line-added"> 657 .RS</span>
<span class="line-added"> 658 .RE</span>
<span class="line-added"> 659 .TP</span>
<span class="line-added"> 660 .B \f[CB]\-javaagent:\f[R]\f[I]jarpath\f[R][\f[CB]=\f[R]\f[I]options\f[R]]</span>
<span class="line-added"> 661 Loads the specified Java programming language agent.</span>
<span class="line-added"> 662 See \f[CB]java.lang.instrument\f[R].</span>
<span class="line-added"> 663 .RS</span>
<span class="line-added"> 664 .RE</span>
<span class="line-added"> 665 .TP</span>
<span class="line-added"> 666 .B \f[CB]\-\-show\-version\f[R]</span>
<span class="line-added"> 667 Prints the product version to the output stream and continues.</span>
<span class="line-added"> 668 .RS</span>
<span class="line-added"> 669 .RE</span>
<span class="line-added"> 670 .TP</span>
<span class="line-added"> 671 .B \f[CB]\-showversion\f[R]</span>
<span class="line-added"> 672 Prints the product version to the error stream and continues.</span>
<span class="line-added"> 673 .RS</span>
<span class="line-added"> 674 .RE</span>
<span class="line-added"> 675 .TP</span>
<span class="line-added"> 676 .B \f[CB]\-\-show\-module\-resolution\f[R]</span>
<span class="line-added"> 677 Shows module resolution output during startup.</span>
<span class="line-added"> 678 .RS</span>
<span class="line-added"> 679 .RE</span>
<span class="line-added"> 680 .TP</span>
<span class="line-added"> 681 .B \f[CB]\-splash:\f[R]\f[I]imagepath\f[R]</span>
<span class="line-added"> 682 Shows the splash screen with the image specified by \f[I]imagepath\f[R].</span>
<span class="line-added"> 683 HiDPI scaled images are automatically supported and used if available.</span>
<span class="line-added"> 684 The unscaled image file name, such as \f[CB]image.ext\f[R], should always</span>
<span class="line-added"> 685 be passed as the argument to the \f[CB]\-splash\f[R] option.</span>
<span class="line-added"> 686 The most appropriate scaled image provided is picked up automatically.</span>
<span class="line-added"> 687 .RS</span>
<span class="line-added"> 688 .PP</span>
<span class="line-added"> 689 For example, to show the \f[CB]splash.gif\f[R] file from the</span>
<span class="line-added"> 690 \f[CB]images\f[R] directory when starting your application, use the</span>
<span class="line-added"> 691 following option:</span>
<span class="line-added"> 692 .RS</span>
<span class="line-added"> 693 .PP</span>
<span class="line-added"> 694 \f[CB]\-splash:images/splash.gif\f[R]</span>
<span class="line-added"> 695 .RE</span>
<span class="line-added"> 696 .PP</span>
<span class="line-added"> 697 See the SplashScreen API documentation for more information.</span>
<span class="line-added"> 698 .RE</span>
<span class="line-added"> 699 .TP</span>
<span class="line-added"> 700 .B \f[CB]\-verbose:class\f[R]</span>
<span class="line-added"> 701 Displays information about each loaded class.</span>
<span class="line-added"> 702 .RS</span>
<span class="line-added"> 703 .RE</span>
<span class="line-added"> 704 .TP</span>
<span class="line-added"> 705 .B \f[CB]\-verbose:gc\f[R]</span>
<span class="line-added"> 706 Displays information about each garbage collection (GC) event.</span>
<span class="line-added"> 707 .RS</span>
<span class="line-added"> 708 .RE</span>
<span class="line-added"> 709 .TP</span>
<span class="line-added"> 710 .B \f[CB]\-verbose:jni\f[R]</span>
<span class="line-added"> 711 Displays information about the use of native methods and other Java</span>
<span class="line-added"> 712 Native Interface (JNI) activity.</span>
<span class="line-added"> 713 .RS</span>
<span class="line-added"> 714 .RE</span>
<span class="line-added"> 715 .TP</span>
<span class="line-added"> 716 .B \f[CB]\-verbose:module\f[R]</span>
<span class="line-added"> 717 Displays information about the modules in use.</span>
<span class="line-added"> 718 .RS</span>
<span class="line-added"> 719 .RE</span>
<span class="line-added"> 720 .TP</span>
<span class="line-added"> 721 .B \f[CB]\-\-version\f[R]</span>
<span class="line-added"> 722 Prints product version to the output stream and exits.</span>
<span class="line-added"> 723 .RS</span>
<span class="line-added"> 724 .RE</span>
<span class="line-added"> 725 .TP</span>
<span class="line-added"> 726 .B \f[CB]\-version\f[R]</span>
<span class="line-added"> 727 Prints product version to the error stream and exits.</span>
<span class="line-added"> 728 .RS</span>
<span class="line-added"> 729 .RE</span>
<span class="line-added"> 730 .TP</span>
<span class="line-added"> 731 .B \f[CB]\-X\f[R]</span>
<span class="line-added"> 732 Prints the help on extra options to the error stream.</span>
<span class="line-added"> 733 .RS</span>
<span class="line-added"> 734 .RE</span>
<span class="line-added"> 735 .TP</span>
<span class="line-added"> 736 .B \f[CB]\-\-help\-extra\f[R]</span>
<span class="line-added"> 737 Prints the help on extra options to the output stream.</span>
<span class="line-added"> 738 .RS</span>
<span class="line-added"> 739 .RE</span>
<span class="line-added"> 740 .TP</span>
<span class="line-added"> 741 .B \f[CB]\@\f[R]\f[I]argfile\f[R]</span>
<span class="line-added"> 742 Specifies one or more argument files prefixed by \f[CB]\@\f[R] used by the</span>
<span class="line-added"> 743 \f[CB]java\f[R] command.</span>
<span class="line-added"> 744 It isn\[aq]t uncommon for the \f[CB]java\f[R] command line to be very long</span>
<span class="line-added"> 745 because of the \f[CB]\&amp;.jar\f[R] files needed in the classpath.</span>
<span class="line-added"> 746 The \f[CB]\@\f[R]\f[I]argfile\f[R] option overcomes command\-line length</span>
<span class="line-added"> 747 limitations by enabling the launcher to expand the contents of argument</span>
<span class="line-added"> 748 files after shell expansion, but before argument processing.</span>
<span class="line-added"> 749 Contents in the argument files are expanded because otherwise, they</span>
<span class="line-added"> 750 would be specified on the command line until the</span>
<span class="line-added"> 751 \f[CB]\-\-disable\-\@files\f[R] option was encountered.</span>
<span class="line-added"> 752 .RS</span>
<span class="line-added"> 753 .PP</span>
<span class="line-added"> 754 The argument files can also contain the main class name and all options.</span>
<span class="line-added"> 755 If an argument file contains all of the options required by the</span>
<span class="line-added"> 756 \f[CB]java\f[R] command, then the command line could simply be:</span>
<span class="line-added"> 757 .RS</span>
<span class="line-added"> 758 .PP</span>
<span class="line-added"> 759 \f[CB]java\ \@\f[R]\f[I]argfile\f[R]</span>
<span class="line-added"> 760 .RE</span>
<span class="line-added"> 761 .PP</span>
<span class="line-added"> 762 See \f[B]java Command\-Line Argument Files\f[R] for a description and</span>
<span class="line-added"> 763 examples of using \f[CB]\@\f[R]\-argfiles.</span>
<span class="line-added"> 764 .RE</span>
<span class="line-added"> 765 .SH EXTRA OPTIONS FOR JAVA</span>
<span class="line-added"> 766 .PP</span>
<span class="line-added"> 767 The following \f[CB]java\f[R] options are general purpose options that are</span>
<span class="line-added"> 768 specific to the Java HotSpot Virtual Machine.</span>
<span class="line-added"> 769 .TP</span>
<span class="line-added"> 770 .B \f[CB]\-Xbatch\f[R]</span>
<span class="line-added"> 771 Disables background compilation.</span>
<span class="line-added"> 772 By default, the JVM compiles the method as a background task, running</span>
<span class="line-added"> 773 the method in interpreter mode until the background compilation is</span>
<span class="line-added"> 774 finished.</span>
<span class="line-added"> 775 The \f[CB]\-Xbatch\f[R] flag disables background compilation so that</span>
<span class="line-added"> 776 compilation of all methods proceeds as a foreground task until</span>
<span class="line-added"> 777 completed.</span>
<span class="line-added"> 778 This option is equivalent to \f[CB]\-XX:\-BackgroundCompilation\f[R].</span>
<span class="line-added"> 779 .RS</span>
<span class="line-added"> 780 .RE</span>
<span class="line-added"> 781 .TP</span>
<span class="line-added"> 782 .B \f[CB]\-Xbootclasspath/a:\f[R]\f[I]directories\f[R]|\f[I]zip\f[R]|\f[I]JAR\-files\f[R]</span>
<span class="line-added"> 783 Specifies a list of directories, JAR files, and ZIP archives to append</span>
<span class="line-added"> 784 to the end of the default bootstrap class path.</span>
<span class="line-added"> 785 .RS</span>
<span class="line-added"> 786 .PP</span>
<span class="line-added"> 787 \f[B]Oracle Solaris, Linux, and macOS:\f[R] Colons (\f[CB]:\f[R]) separate</span>
<span class="line-added"> 788 entities in this list.</span>
<span class="line-added"> 789 .PP</span>
<span class="line-added"> 790 \f[B]Windows:\f[R] Semicolons (\f[CB];\f[R]) separate entities in this</span>
<span class="line-added"> 791 list.</span>
<span class="line-added"> 792 .RE</span>
<span class="line-added"> 793 .TP</span>
<span class="line-added"> 794 .B \f[CB]\-Xcheck:jni\f[R]</span>
<span class="line-added"> 795 Performs additional checks for Java Native Interface (JNI) functions.</span>
<span class="line-added"> 796 Specifically, it validates the parameters passed to the JNI function and</span>
<span class="line-added"> 797 the runtime environment data before processing the JNI request.</span>
<span class="line-added"> 798 It also checks for pending exceptions between JNI calls.</span>
<span class="line-added"> 799 Any invalid data encountered indicates a problem in the native code, and</span>
<span class="line-added"> 800 the JVM terminates with an irrecoverable error in such cases.</span>
<span class="line-added"> 801 Expect a performance degradation when this option is used.</span>
<span class="line-added"> 802 .RS</span>
<span class="line-added"> 803 .RE</span>
<span class="line-added"> 804 .TP</span>
<span class="line-added"> 805 .B \f[CB]\-Xdebug\f[R]</span>
<span class="line-added"> 806 Does nothing.</span>
<span class="line-added"> 807 Provided for backward compatibility.</span>
<span class="line-added"> 808 .RS</span>
<span class="line-added"> 809 .RE</span>
<span class="line-added"> 810 .TP</span>
<span class="line-added"> 811 .B \f[CB]\-Xdiag\f[R]</span>
<span class="line-added"> 812 Shows additional diagnostic messages.</span>
<span class="line-added"> 813 .RS</span>
<span class="line-added"> 814 .RE</span>
<span class="line-added"> 815 .TP</span>
<span class="line-added"> 816 .B \f[CB]\-Xint\f[R]</span>
<span class="line-added"> 817 Runs the application in interpreted\-only mode.</span>
<span class="line-added"> 818 Compilation to native code is disabled, and all bytecode is executed by</span>
<span class="line-added"> 819 the interpreter.</span>
<span class="line-added"> 820 The performance benefits offered by the just\-in\-time (JIT) compiler</span>
<span class="line-added"> 821 aren\[aq]t present in this mode.</span>
<span class="line-added"> 822 .RS</span>
<span class="line-added"> 823 .RE</span>
<span class="line-added"> 824 .TP</span>
<span class="line-added"> 825 .B \f[CB]\-Xinternalversion\f[R]</span>
<span class="line-added"> 826 Displays more detailed JVM version information than the</span>
<span class="line-added"> 827 \f[CB]\-version\f[R] option, and then exits.</span>
<span class="line-added"> 828 .RS</span>
<span class="line-added"> 829 .RE</span>
<span class="line-added"> 830 .TP</span>
<span class="line-added"> 831 .B \f[CB]\-Xlog:\f[R]\f[I]option\f[R]</span>
<span class="line-added"> 832 Configure or enable logging with the Java Virtual Machine (JVM) unified</span>
<span class="line-added"> 833 logging framework.</span>
<span class="line-added"> 834 See \f[B]Enable Logging with the JVM Unified Logging Framework\f[R].</span>
<span class="line-added"> 835 .RS</span>
<span class="line-added"> 836 .RE</span>
<span class="line-added"> 837 .TP</span>
<span class="line-added"> 838 .B \f[CB]\-Xmixed\f[R]</span>
<span class="line-added"> 839 Executes all bytecode by the interpreter except for hot methods, which</span>
<span class="line-added"> 840 are compiled to native code.</span>
<span class="line-added"> 841 On by default.</span>
<span class="line-added"> 842 Use \f[CB]\-Xint\f[R] to switch off.</span>
<span class="line-added"> 843 .RS</span>
<span class="line-added"> 844 .RE</span>
<span class="line-added"> 845 .TP</span>
<span class="line-added"> 846 .B \f[CB]\-Xmn\f[R] \f[I]size\f[R]</span>
<span class="line-added"> 847 Sets the initial and maximum size (in bytes) of the heap for the young</span>
<span class="line-added"> 848 generation (nursery) in the generational collectors.</span>
<span class="line-added"> 849 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,</span>
<span class="line-added"> 850 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or</span>
<span class="line-added"> 851 \f[CB]G\f[R] to indicate gigabytes.</span>
<span class="line-added"> 852 The young generation region of the heap is used for new objects.</span>
<span class="line-added"> 853 GC is performed in this region more often than in other regions.</span>
<span class="line-added"> 854 If the size for the young generation is too small, then a lot of minor</span>
<span class="line-added"> 855 garbage collections are performed.</span>
<span class="line-added"> 856 If the size is too large, then only full garbage collections are</span>
<span class="line-added"> 857 performed, which can take a long time to complete.</span>
<span class="line-added"> 858 It is recommended that you do not set the size for the young generation</span>
<span class="line-added"> 859 for the G1 collector, and keep the size for the young generation greater</span>
<span class="line-added"> 860 than 25% and less than 50% of the overall heap size for other</span>
<span class="line-added"> 861 collectors.</span>
<span class="line-added"> 862 The following examples show how to set the initial and maximum size of</span>
<span class="line-added"> 863 young generation to 256 MB using various units:</span>
<span class="line-added"> 864 .RS</span>
<span class="line-added"> 865 .IP</span>
 866 .nf
<a name="20" id="anc20"></a><span class="line-modified"> 867 \f[CB]</span>
<span class="line-modified"> 868 \-Xmn256m</span>
<span class="line-added"> 869 \-Xmn262144k</span>
<span class="line-added"> 870 \-Xmn268435456</span>
<span class="line-added"> 871 \f[R]</span>
 872 .fi
<a name="21" id="anc21"></a>










 873 .PP
<a name="22" id="anc22"></a><span class="line-modified"> 874 Instead of the \f[CB]\-Xmn\f[R] option to set both the initial and maximum</span>
<span class="line-modified"> 875 size of the heap for the young generation, you can use</span>
<span class="line-modified"> 876 \f[CB]\-XX:NewSize\f[R] to set the initial size and</span>
<span class="line-modified"> 877 \f[CB]\-XX:MaxNewSize\f[R] to set the maximum size.</span>
<span class="line-modified"> 878 .RE</span>
<span class="line-modified"> 879 .TP</span>
<span class="line-modified"> 880 .B \f[CB]\-Xms\f[R] \f[I]size\f[R]</span>
<span class="line-modified"> 881 Sets the minimum and initial size (in bytes) of the heap.</span>
<span class="line-modified"> 882 This value must be a multiple of 1024 and greater than 1 MB.</span>
<span class="line-modified"> 883 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,</span>
<span class="line-modified"> 884 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, \f[CB]g\f[R] or \f[CB]G\f[R]</span>
<span class="line-modified"> 885 to indicate gigabytes.</span>
<span class="line-modified"> 886 The following examples show how to set the size of allocated memory to 6</span>
<span class="line-modified"> 887 MB using various units:</span>
<span class="line-modified"> 888 .RS</span>
<span class="line-modified"> 889 .IP</span>


















 890 .nf
<a name="23" id="anc23"></a><span class="line-modified"> 891 \f[CB]</span>
<span class="line-modified"> 892 \-Xms6291456</span>
<span class="line-added"> 893 \-Xms6144k</span>
<span class="line-added"> 894 \-Xms6m</span>
<span class="line-added"> 895 \f[R]</span>
 896 .fi
<a name="24" id="anc24"></a>







































































































 897 .PP
<a name="25" id="anc25"></a><span class="line-modified"> 898 Instead of the \f[CB]\-Xms\f[R] option to set both the minimum and initial</span>
<span class="line-modified"> 899 size of the heap, you can use \f[CB]\-XX:MinHeapSize\f[R] to set the</span>
<span class="line-modified"> 900 minimum size and \f[CB]\-XX:InitialHeapSize\f[R] to set the initial size.</span>
<span class="line-modified"> 901 .PP</span>
<span class="line-modified"> 902 If you don\[aq]t set this option, the initial size is set as the sum of</span>
<span class="line-modified"> 903 the sizes allocated for the old generation and the young generation.</span>
<span class="line-modified"> 904 The initial size of the heap for the young generation can be set using</span>
<span class="line-modified"> 905 the \f[CB]\-Xmn\f[R] option or the \f[CB]\-XX:NewSize\f[R] option.</span>
<span class="line-modified"> 906 .RE</span>
<span class="line-modified"> 907 .TP</span>
<span class="line-modified"> 908 .B \f[CB]\-Xmx\f[R] \f[I]size\f[R]</span>
<span class="line-modified"> 909 Specifies the maximum size (in bytes) of the heap.</span>
<span class="line-added"> 910 This value must be a multiple of 1024 and greater than 2 MB.</span>
<span class="line-added"> 911 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,</span>
<span class="line-added"> 912 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or</span>
<span class="line-added"> 913 \f[CB]G\f[R] to indicate gigabytes.</span>
<span class="line-added"> 914 The default value is chosen at runtime based on system configuration.</span>
<span class="line-added"> 915 For server deployments, \f[CB]\-Xms\f[R] and \f[CB]\-Xmx\f[R] are often set</span>
<span class="line-added"> 916 to the same value.</span>
<span class="line-added"> 917 The following examples show how to set the maximum allowed size of</span>
<span class="line-added"> 918 allocated memory to 80 MB using various units:</span>
<span class="line-added"> 919 .RS</span>
<span class="line-added"> 920 .IP</span>
 921 .nf
<a name="26" id="anc26"></a><span class="line-modified"> 922 \f[CB]</span>
<span class="line-modified"> 923 \-Xmx83886080</span>
<span class="line-added"> 924 \-Xmx81920k</span>
<span class="line-added"> 925 \-Xmx80m</span>
<span class="line-added"> 926 \f[R]</span>
 927 .fi
<a name="27" id="anc27"></a>

























 928 .PP
<a name="28" id="anc28"></a><span class="line-modified"> 929 The \f[CB]\-Xmx\f[R] option is equivalent to \f[CB]\-XX:MaxHeapSize\f[R].</span>
<span class="line-modified"> 930 .RE</span>
<span class="line-modified"> 931 .TP</span>
<span class="line-modified"> 932 .B \f[CB]\-Xnoclassgc\f[R]</span>
<span class="line-modified"> 933 Disables garbage collection (GC) of classes.</span>
<span class="line-modified"> 934 This can save some GC time, which shortens interruptions during the</span>
<span class="line-modified"> 935 application run.</span>
<span class="line-modified"> 936 When you specify \f[CB]\-Xnoclassgc\f[R] at startup, the class objects in</span>
<span class="line-modified"> 937 the application are left untouched during GC and are always be</span>
<span class="line-modified"> 938 considered live.</span>
<span class="line-modified"> 939 This can result in more memory being permanently occupied which, if not</span>
<span class="line-modified"> 940 used carefully, throws an out\-of\-memory exception.</span>
<span class="line-modified"> 941 .RS</span>
<span class="line-modified"> 942 .RE</span>
<span class="line-modified"> 943 .TP</span>
<span class="line-modified"> 944 .B \f[CB]\-Xrs\f[R]</span>
<span class="line-modified"> 945 Reduces the use of operating system signals by the JVM.</span>
<span class="line-modified"> 946 Shutdown hooks enable the orderly shutdown of a Java application by</span>
<span class="line-modified"> 947 running user cleanup code (such as closing database connections) at</span>
<span class="line-modified"> 948 shutdown, even if the JVM terminates abruptly.</span>
<span class="line-modified"> 949 .RS</span>
<span class="line-modified"> 950 .IP \[bu] 2</span>
<span class="line-modified"> 951 \f[B]Oracle Solaris, Linux, and macOS:\f[R]</span>
<span class="line-modified"> 952 .RS 2</span>
<span class="line-modified"> 953 .IP \[bu] 2</span>
<span class="line-modified"> 954 The JVM catches signals to implement shutdown hooks for unexpected</span>
<span class="line-modified"> 955 termination.</span>
<span class="line-added"> 956 The JVM uses \f[CB]SIGHUP\f[R], \f[CB]SIGINT\f[R], and \f[CB]SIGTERM\f[R] to</span>
<span class="line-added"> 957 initiate the running of shutdown hooks.</span>
<span class="line-added"> 958 .IP \[bu] 2</span>
<span class="line-added"> 959 Applications embedding the JVM frequently need to trap signals such as</span>
<span class="line-added"> 960 \f[CB]SIGINT\f[R] or \f[CB]SIGTERM\f[R], which can lead to interference with</span>
<span class="line-added"> 961 the JVM signal handlers.</span>
<span class="line-added"> 962 The \f[CB]\-Xrs\f[R] option is available to address this issue.</span>
<span class="line-added"> 963 When \f[CB]\-Xrs\f[R] is used, the signal masks for \f[CB]SIGINT\f[R],</span>
<span class="line-added"> 964 \f[CB]SIGTERM\f[R], \f[CB]SIGHUP\f[R], and \f[CB]SIGQUIT\f[R] aren\[aq]t</span>
<span class="line-added"> 965 changed by the JVM, and signal handlers for these signals aren\[aq]t</span>
<span class="line-added"> 966 installed.</span>
<span class="line-added"> 967 .RE</span>
<span class="line-added"> 968 .IP \[bu] 2</span>
<span class="line-added"> 969 \f[B]Windows:\f[R]</span>
<span class="line-added"> 970 .RS 2</span>
<span class="line-added"> 971 .IP \[bu] 2</span>
<span class="line-added"> 972 The JVM watches for console control events to implement shutdown hooks</span>
<span class="line-added"> 973 for unexpected termination.</span>
<span class="line-added"> 974 Specifically, the JVM registers a console control handler that begins</span>
<span class="line-added"> 975 shutdown\-hook processing and returns \f[CB]TRUE\f[R] for</span>
<span class="line-added"> 976 \f[CB]CTRL_C_EVENT\f[R], \f[CB]CTRL_CLOSE_EVENT\f[R],</span>
<span class="line-added"> 977 \f[CB]CTRL_LOGOFF_EVENT\f[R], and \f[CB]CTRL_SHUTDOWN_EVENT\f[R].</span>
<span class="line-added"> 978 .IP \[bu] 2</span>
<span class="line-added"> 979 The JVM uses a similar mechanism to implement the feature of dumping</span>
<span class="line-added"> 980 thread stacks for debugging purposes.</span>
<span class="line-added"> 981 The JVM uses \f[CB]CTRL_BREAK_EVENT\f[R] to perform thread dumps.</span>
<span class="line-added"> 982 .IP \[bu] 2</span>
<span class="line-added"> 983 If the JVM is run as a service (for example, as a servlet engine for a</span>
<span class="line-added"> 984 web server), then it can receive \f[CB]CTRL_LOGOFF_EVENT\f[R] but</span>
<span class="line-added"> 985 shouldn\[aq]t initiate shutdown because the operating system doesn\[aq]t</span>
<span class="line-added"> 986 actually terminate the process.</span>
<span class="line-added"> 987 To avoid possible interference such as this, the \f[CB]\-Xrs\f[R] option</span>
<span class="line-added"> 988 can be used.</span>
<span class="line-added"> 989 When the \f[CB]\-Xrs\f[R] option is used, the JVM doesn\[aq]t install a</span>
<span class="line-added"> 990 console control handler, implying that it doesn\[aq]t watch for or</span>
<span class="line-added"> 991 process \f[CB]CTRL_C_EVENT\f[R], \f[CB]CTRL_CLOSE_EVENT\f[R],</span>
<span class="line-added"> 992 \f[CB]CTRL_LOGOFF_EVENT\f[R], or \f[CB]CTRL_SHUTDOWN_EVENT\f[R].</span>
<span class="line-added"> 993 .RE</span>
<span class="line-added"> 994 .PP</span>
<span class="line-added"> 995 There are two consequences of specifying \f[CB]\-Xrs\f[R]:</span>
<span class="line-added"> 996 .IP \[bu] 2</span>
<span class="line-added"> 997 \f[B]Oracle Solaris, Linux, and macOS:\f[R] \f[CB]SIGQUIT\f[R] thread dumps</span>
<span class="line-added"> 998 aren\[aq]t available.</span>
<span class="line-added"> 999 .IP \[bu] 2</span>
<span class="line-added">1000 \f[B]Windows:\f[R] Ctrl + Break thread dumps aren\[aq]t available.</span>
<span class="line-added">1001 .PP</span>
<span class="line-added">1002 User code is responsible for causing shutdown hooks to run, for example,</span>
<span class="line-added">1003 by calling the \f[CB]System.exit()\f[R] when the JVM is to be terminated.</span>
<span class="line-added">1004 .RE</span>
<span class="line-added">1005 .TP</span>
<span class="line-added">1006 .B \f[CB]\-Xshare:\f[R]\f[I]mode\f[R]</span>
<span class="line-added">1007 Sets the class data sharing (CDS) mode.</span>
<span class="line-added">1008 .RS</span>
<span class="line-added">1009 .PP</span>
<span class="line-added">1010 Possible \f[I]mode\f[R] arguments for this option include the following:</span>
<span class="line-added">1011 .TP</span>
<span class="line-added">1012 .B \f[CB]auto\f[R]</span>
<span class="line-added">1013 Use shared class data if possible (default).</span>
<span class="line-added">1014 .RS</span>
<span class="line-added">1015 .RE</span>
<span class="line-added">1016 .TP</span>
<span class="line-added">1017 .B \f[CB]on\f[R]</span>
<span class="line-added">1018 Require using shared class data, otherwise fail.</span>
<span class="line-added">1019 .RS</span>
<span class="line-added">1020 .RE</span>
<span class="line-added">1021 .RS</span>
<span class="line-added">1022 .PP</span>
<span class="line-added">1023 \f[B]Note:\f[R] The \f[CB]\-Xshare:on\f[R] option is used for testing</span>
<span class="line-added">1024 purposes only and may cause intermittent failures due to the use of</span>
<span class="line-added">1025 address space layout randomization by the operation system.</span>
<span class="line-added">1026 This option should not be used in production environments.</span>
<span class="line-added">1027 .RE</span>
<span class="line-added">1028 .TP</span>
<span class="line-added">1029 .B \f[CB]off\f[R]</span>
<span class="line-added">1030 Do not attempt to use shared class data.</span>
<span class="line-added">1031 .RS</span>
<span class="line-added">1032 .RE</span>
<span class="line-added">1033 .RE</span>
<span class="line-added">1034 .TP</span>
<span class="line-added">1035 .B \f[CB]\-XshowSettings\f[R]</span>
<span class="line-added">1036 Shows all settings and then continues.</span>
<span class="line-added">1037 .RS</span>
<span class="line-added">1038 .RE</span>
<span class="line-added">1039 .TP</span>
<span class="line-added">1040 .B \f[CB]\-XshowSettings:\f[R]\f[I]category\f[R]</span>
<span class="line-added">1041 Shows settings and continues.</span>
<span class="line-added">1042 Possible \f[I]category\f[R] arguments for this option include the</span>
<span class="line-added">1043 following:</span>
<span class="line-added">1044 .RS</span>
<span class="line-added">1045 .TP</span>
<span class="line-added">1046 .B \f[CB]all\f[R]</span>
<span class="line-added">1047 Shows all categories of settings.</span>
<span class="line-added">1048 This is the default value.</span>
<span class="line-added">1049 .RS</span>
<span class="line-added">1050 .RE</span>
<span class="line-added">1051 .TP</span>
<span class="line-added">1052 .B \f[CB]locale\f[R]</span>
<span class="line-added">1053 Shows settings related to locale.</span>
<span class="line-added">1054 .RS</span>
<span class="line-added">1055 .RE</span>
<span class="line-added">1056 .TP</span>
<span class="line-added">1057 .B \f[CB]properties\f[R]</span>
<span class="line-added">1058 Shows settings related to system properties.</span>
<span class="line-added">1059 .RS</span>
<span class="line-added">1060 .RE</span>
<span class="line-added">1061 .TP</span>
<span class="line-added">1062 .B \f[CB]vm\f[R]</span>
<span class="line-added">1063 Shows the settings of the JVM.</span>
<span class="line-added">1064 .RS</span>
<span class="line-added">1065 .RE</span>
<span class="line-added">1066 .TP</span>
<span class="line-added">1067 .B \f[CB]system\f[R]</span>
<span class="line-added">1068 \f[B]Linux:\f[R] Shows host system or container configuration and</span>
<span class="line-added">1069 continues.</span>
<span class="line-added">1070 .RS</span>
<span class="line-added">1071 .RE</span>
<span class="line-added">1072 .RE</span>
<span class="line-added">1073 .TP</span>
<span class="line-added">1074 .B \f[CB]\-Xss\f[R] \f[I]size\f[R]</span>
<span class="line-added">1075 Sets the thread stack size (in bytes).</span>
<span class="line-added">1076 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate KB, \f[CB]m\f[R] or</span>
<span class="line-added">1077 \f[CB]M\f[R] to indicate MB, or \f[CB]g\f[R] or \f[CB]G\f[R] to indicate GB.</span>
<span class="line-added">1078 The default value depends on the platform:</span>
<span class="line-added">1079 .RS</span>
<span class="line-added">1080 .IP \[bu] 2</span>
<span class="line-added">1081 Linux/x64 (64\-bit): 1024 KB</span>
<span class="line-added">1082 .IP \[bu] 2</span>
<span class="line-added">1083 macOS (64\-bit): 1024 KB</span>
<span class="line-added">1084 .IP \[bu] 2</span>
<span class="line-added">1085 Oracle Solaris (64\-bit): 1024 KB</span>
<span class="line-added">1086 .IP \[bu] 2</span>
<span class="line-added">1087 Windows: The default value depends on virtual memory</span>
<span class="line-added">1088 .PP</span>
<span class="line-added">1089 The following examples set the thread stack size to 1024 KB in different</span>
<span class="line-added">1090 units:</span>
<span class="line-added">1091 .IP</span>
1092 .nf
<a name="29" id="anc29"></a><span class="line-modified">1093 \f[CB]</span>
<span class="line-modified">1094 \-Xss1m</span>
<span class="line-added">1095 \-Xss1024k</span>
<span class="line-added">1096 \-Xss1048576</span>
<span class="line-added">1097 \f[R]</span>
1098 .fi
<a name="30" id="anc30"></a>









































































1099 .PP
<a name="31" id="anc31"></a><span class="line-modified">1100 This option is similar to \f[CB]\-XX:ThreadStackSize\f[R].</span>
<span class="line-modified">1101 .RE</span>
<span class="line-modified">1102 .TP</span>
<span class="line-added">1103 .B \f[CB]\-\-add\-reads\f[R] \f[I]module\f[R]\f[CB]=\f[R]\f[I]target\-module\f[R](\f[CB],\f[R]\f[I]target\-module\f[R])*</span>
<span class="line-added">1104 Updates \f[I]module\f[R] to read the \f[I]target\-module\f[R], regardless</span>
<span class="line-added">1105 of the module declaration.</span>
<span class="line-added">1106 \f[I]target\-module\f[R] can be all unnamed to read all unnamed modules.</span>
<span class="line-added">1107 .RS</span>
<span class="line-added">1108 .RE</span>
<span class="line-added">1109 .TP</span>
<span class="line-added">1110 .B \f[CB]\-\-add\-exports\f[R] \f[I]module\f[R]\f[CB]/\f[R]\f[I]package\f[R]\f[CB]=\f[R]\f[I]target\-module\f[R](\f[CB],\f[R]\f[I]target\-module\f[R])*</span>
<span class="line-added">1111 Updates \f[I]module\f[R] to export \f[I]package\f[R] to</span>
<span class="line-added">1112 \f[I]target\-module\f[R], regardless of module declaration.</span>
<span class="line-added">1113 The \f[I]target\-module\f[R] can be all unnamed to export to all unnamed</span>
<span class="line-added">1114 modules.</span>
<span class="line-added">1115 .RS</span>
<span class="line-added">1116 .RE</span>
<span class="line-added">1117 .TP</span>
<span class="line-added">1118 .B \f[CB]\-\-add\-opens\f[R] \f[I]module\f[R]\f[CB]/\f[R]\f[I]package\f[R]\f[CB]=\f[R]\f[I]target\-module\f[R](\f[CB],\f[R]\f[I]target\-module\f[R])*</span>
<span class="line-added">1119 Updates \f[I]module\f[R] to open \f[I]package\f[R] to</span>
<span class="line-added">1120 \f[I]target\-module\f[R], regardless of module declaration.</span>
<span class="line-added">1121 .RS</span>
<span class="line-added">1122 .RE</span>
<span class="line-added">1123 .TP</span>
<span class="line-added">1124 .B \f[CB]\-\-illegal\-access=\f[R]\f[I]parameter\f[R]</span>
<span class="line-added">1125 When present at run time, \f[CB]\-\-illegal\-access=\f[R] takes a keyword</span>
<span class="line-added">1126 \f[I]parameter\f[R] to specify a mode of operation:</span>
<span class="line-added">1127 .RS</span>
<span class="line-added">1128 .RS</span>
<span class="line-added">1129 .PP</span>
<span class="line-added">1130 \f[B]Note:\f[R] This option will be removed in a future release.</span>
<span class="line-added">1131 .RE</span>
<span class="line-added">1132 .IP \[bu] 2</span>
<span class="line-added">1133 \f[CB]permit\f[R]: This mode opens each package in each module in the</span>
<span class="line-added">1134 run\-time image to code in all unnamed modules ( such as code on the</span>
<span class="line-added">1135 class path), if that package existed in JDK 8.</span>
<span class="line-added">1136 This enables both static access, (for example, by compiled bytecode, and</span>
<span class="line-added">1137 deep reflective access) through the platform\[aq]s various reflection</span>
<span class="line-added">1138 APIs.</span>
<span class="line-added">1139 The first reflective\-access operation to any such package causes a</span>
<span class="line-added">1140 warning to be issued.</span>
<span class="line-added">1141 However, no warnings are issued after the first occurrence.</span>
<span class="line-added">1142 This single warning describes how to enable further warnings.</span>
<span class="line-added">1143 This mode is the default for the current JDK but will change in a future</span>
<span class="line-added">1144 release.</span>
<span class="line-added">1145 .IP \[bu] 2</span>
<span class="line-added">1146 \f[CB]warn\f[R]: This mode is identical to \f[CB]permit\f[R] except that a</span>
<span class="line-added">1147 warning message is issued for each illegal reflective\-access operation.</span>
<span class="line-added">1148 .IP \[bu] 2</span>
<span class="line-added">1149 \f[CB]debug\f[R]: This mode is identical to \f[CB]warn\f[R] except that both</span>
<span class="line-added">1150 a warning message and a stack trace are issued for each illegal</span>
<span class="line-added">1151 reflective\-access operation.</span>
<span class="line-added">1152 .IP \[bu] 2</span>
<span class="line-added">1153 \f[CB]deny\f[R]: This mode disables all illegal\-access operations except</span>
<span class="line-added">1154 for those enabled by other command\-line options, such as</span>
<span class="line-added">1155 \f[CB]\-\-add\-opens\f[R].</span>
<span class="line-added">1156 This mode will become the default in a future release.</span>
<span class="line-added">1157 .PP</span>
<span class="line-added">1158 The default mode, \f[CB]\-\-illegal\-access=permit\f[R], is intended to</span>
<span class="line-added">1159 make you aware of code on the class path that reflectively accesses any</span>
<span class="line-added">1160 JDK\-internal APIs at least once.</span>
<span class="line-added">1161 To learn about all such accesses, you can use the \f[CB]warn\f[R] or the</span>
<span class="line-added">1162 \f[CB]debug\f[R] modes.</span>
<span class="line-added">1163 For each library or framework on the class path that requires illegal</span>
<span class="line-added">1164 access, you have two options:</span>
<span class="line-added">1165 .IP \[bu] 2</span>
<span class="line-added">1166 If the component\[aq]s maintainers have already released a fixed version</span>
<span class="line-added">1167 that no longer uses JDK\-internal APIs then you can consider upgrading</span>
<span class="line-added">1168 to that version.</span>
<span class="line-added">1169 .IP \[bu] 2</span>
<span class="line-added">1170 If the component still needs to be fixed, then you can contact its</span>
<span class="line-added">1171 maintainers and ask them to replace their use of JDK\-internal APIs with</span>
<span class="line-added">1172 the proper exported APIs.</span>
<span class="line-added">1173 .PP</span>
<span class="line-added">1174 If you must continue to use a component that requires illegal access,</span>
<span class="line-added">1175 then you can eliminate the warning messages by using one or more</span>
<span class="line-added">1176 \f[CB]\-\-add\-opens\f[R] options to open only those internal packages to</span>
<span class="line-added">1177 which access is required.</span>
<span class="line-added">1178 .PP</span>
<span class="line-added">1179 To verify that your application is ready for a future version of the</span>
<span class="line-added">1180 JDK, run it with \f[CB]\-\-illegal\-access=deny\f[R] along with any</span>
<span class="line-added">1181 necessary \f[CB]\-\-add\-opens\f[R] options.</span>
<span class="line-added">1182 Any remaining illegal\-access errors will most likely be due to static</span>
<span class="line-added">1183 references from compiled code to JDK\-internal APIs.</span>
<span class="line-added">1184 You can identify those by running the \f[B]jdeps\f[R] tool with the</span>
<span class="line-added">1185 \f[CB]\-\-jdk\-internals\f[R] option.</span>
<span class="line-added">1186 For performance reasons, the current JDK does not issue warnings for</span>
<span class="line-added">1187 illegal static\-access operations.</span>
<span class="line-added">1188 .RE</span>
<span class="line-added">1189 .TP</span>
<span class="line-added">1190 .B \f[CB]\-\-limit\-modules\f[R] \f[I]module\f[R][\f[CB],\f[R]\f[I]module\f[R]...]</span>
<span class="line-added">1191 Specifies the limit of the universe of observable modules.</span>
<span class="line-added">1192 .RS</span>
<span class="line-added">1193 .RE</span>
<span class="line-added">1194 .TP</span>
<span class="line-added">1195 .B \f[CB]\-\-patch\-module\f[R] \f[I]module\f[R]\f[CB]=\f[R]\f[I]file\f[R](\f[CB];\f[R]\f[I]file\f[R])*</span>
<span class="line-added">1196 Overrides or augments a module with classes and resources in JAR files</span>
<span class="line-added">1197 or directories.</span>
<span class="line-added">1198 .RS</span>
<span class="line-added">1199 .RE</span>
<span class="line-added">1200 .TP</span>
<span class="line-added">1201 .B \f[CB]\-\-source\f[R] \f[I]version\f[R]</span>
<span class="line-added">1202 Sets the version of the source in source\-file mode.</span>
<span class="line-added">1203 .RS</span>
<span class="line-added">1204 .RE</span>
<span class="line-added">1205 .SH EXTRA OPTIONS FOR MACOS</span>
<span class="line-added">1206 .PP</span>
<span class="line-added">1207 The following extra options are macOS specific.</span>
<span class="line-added">1208 .TP</span>
<span class="line-added">1209 .B \f[CB]\-XstartOnFirstThread\f[R]</span>
<span class="line-added">1210 Runs the \f[CB]main()\f[R] method on the first (AppKit) thread.</span>
<span class="line-added">1211 .RS</span>
<span class="line-added">1212 .RE</span>
<span class="line-added">1213 .TP</span>
<span class="line-added">1214 .B \f[CB]\-Xdock:name=\f[R]\f[I]application_name\f[R]</span>
<span class="line-added">1215 Overrides the default application name displayed in dock.</span>
<span class="line-added">1216 .RS</span>
<span class="line-added">1217 .RE</span>
<span class="line-added">1218 .TP</span>
<span class="line-added">1219 .B \f[CB]\-Xdock:icon=\f[R]\f[I]path_to_icon_file\f[R]</span>
<span class="line-added">1220 Overrides the default icon displayed in dock.</span>
<span class="line-added">1221 .RS</span>
<span class="line-added">1222 .RE</span>
<span class="line-added">1223 .SH ADVANCED OPTIONS FOR JAVA</span>
<span class="line-added">1224 .PP</span>
<span class="line-added">1225 These \f[CB]java\f[R] options can be used to enable other advanced</span>
<span class="line-added">1226 options.</span>
<span class="line-added">1227 .TP</span>
<span class="line-added">1228 .B \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R]</span>
<span class="line-added">1229 Unlocks the options intended for diagnosing the JVM.</span>
<span class="line-added">1230 By default, this option is disabled and diagnostic options aren\[aq]t</span>
<span class="line-added">1231 available.</span>
<span class="line-added">1232 .RS</span>
<span class="line-added">1233 .PP</span>
<span class="line-added">1234 Command line options that are enabled with the use of this option are</span>
<span class="line-added">1235 not supported.</span>
<span class="line-added">1236 If you encounter issues while using any of these options, it is very</span>
<span class="line-added">1237 likely that you will be required to reproduce the problem without using</span>
<span class="line-added">1238 any of these unsupported options before Oracle Support can assist with</span>
<span class="line-added">1239 an investigation.</span>
<span class="line-added">1240 It is also possible that any of these options may be removed or their</span>
<span class="line-added">1241 behavior changed without any warning.</span>
<span class="line-added">1242 .RE</span>
<span class="line-added">1243 .TP</span>
<span class="line-added">1244 .B \f[CB]\-XX:+UnlockExperimentalVMOptions\f[R]</span>
<span class="line-added">1245 Unlocks the options that provide experimental features in the JVM.</span>
<span class="line-added">1246 By default, this option is disabled and experimental features aren\[aq]t</span>
<span class="line-added">1247 available.</span>
<span class="line-added">1248 .RS</span>
<span class="line-added">1249 .RE</span>
<span class="line-added">1250 .SH ADVANCED RUNTIME OPTIONS FOR JAVA</span>
<span class="line-added">1251 .PP</span>
<span class="line-added">1252 These \f[CB]java\f[R] options control the runtime behavior of the Java</span>
<span class="line-added">1253 HotSpot VM.</span>
<span class="line-added">1254 .TP</span>
<span class="line-added">1255 .B \f[CB]\-XX:ActiveProcessorCount=\f[R]\f[I]x\f[R]</span>
<span class="line-added">1256 Overrides the number of CPUs that the VM will use to calculate the size</span>
<span class="line-added">1257 of thread pools it will use for various operations such as Garbage</span>
<span class="line-added">1258 Collection and ForkJoinPool.</span>
<span class="line-added">1259 .RS</span>
<span class="line-added">1260 .PP</span>
<span class="line-added">1261 The VM normally determines the number of available processors from the</span>
<span class="line-added">1262 operating system.</span>
<span class="line-added">1263 This flag can be useful for partitioning CPU resources when running</span>
<span class="line-added">1264 multiple Java processes in docker containers.</span>
<span class="line-added">1265 This flag is honored even if \f[CB]UseContainerSupport\f[R] is not</span>
<span class="line-added">1266 enabled.</span>
<span class="line-added">1267 See \f[CB]\-XX:\-UseContainerSupport\f[R] for a description of enabling</span>
<span class="line-added">1268 and disabling container support.</span>
<span class="line-added">1269 .RE</span>
<span class="line-added">1270 .TP</span>
<span class="line-added">1271 .B \f[CB]\-XX:AllocateHeapAt=\f[R]\f[I]path\f[R]</span>
<span class="line-added">1272 Takes a path to the file system and uses memory mapping to allocate the</span>
<span class="line-added">1273 object heap on the memory device.</span>
<span class="line-added">1274 Using this option enables the HotSpot VM to allocate the Java object</span>
<span class="line-added">1275 heap on an alternative memory device, such as an NV\-DIMM, specified by</span>
<span class="line-added">1276 the user.</span>
<span class="line-added">1277 .RS</span>
<span class="line-added">1278 .PP</span>
<span class="line-added">1279 Alternative memory devices that have the same semantics as DRAM,</span>
<span class="line-added">1280 including the semantics of atomic operations, can be used instead of</span>
<span class="line-added">1281 DRAM for the object heap without changing the existing application code.</span>
<span class="line-added">1282 All other memory structures (such as the code heap, metaspace, and</span>
<span class="line-added">1283 thread stacks) continue to reside in DRAM.</span>
<span class="line-added">1284 .PP</span>
<span class="line-added">1285 Some operating systems expose non\-DRAM memory through the file system.</span>
<span class="line-added">1286 Memory\-mapped files in these file systems bypass the page cache and</span>
<span class="line-added">1287 provide a direct mapping of virtual memory to the physical memory on the</span>
<span class="line-added">1288 device.</span>
<span class="line-added">1289 The existing heap related flags (such as \f[CB]\-Xmx\f[R] and</span>
<span class="line-added">1290 \f[CB]\-Xms\f[R]) and garbage\-collection related flags continue to work</span>
<span class="line-added">1291 as before.</span>
<span class="line-added">1292 .RE</span>
<span class="line-added">1293 .TP</span>
<span class="line-added">1294 .B \f[CB]\-XX:\-CompactStrings\f[R]</span>
<span class="line-added">1295 Disables the Compact Strings feature.</span>
<span class="line-added">1296 By default, this option is enabled.</span>
<span class="line-added">1297 When this option is enabled, Java Strings containing only single\-byte</span>
<span class="line-added">1298 characters are internally represented and stored as</span>
<span class="line-added">1299 single\-byte\-per\-character Strings using ISO\-8859\-1 / Latin\-1</span>
<span class="line-added">1300 encoding.</span>
<span class="line-added">1301 This reduces, by 50%, the amount of space required for Strings</span>
<span class="line-added">1302 containing only single\-byte characters.</span>
<span class="line-added">1303 For Java Strings containing at least one multibyte character: these are</span>
<span class="line-added">1304 represented and stored as 2 bytes per character using UTF\-16 encoding.</span>
<span class="line-added">1305 Disabling the Compact Strings feature forces the use of UTF\-16 encoding</span>
<span class="line-added">1306 as the internal representation for all Java Strings.</span>
<span class="line-added">1307 .RS</span>
<span class="line-added">1308 .PP</span>
<span class="line-added">1309 Cases where it may be beneficial to disable Compact Strings include the</span>
<span class="line-added">1310 following:</span>
<span class="line-added">1311 .IP \[bu] 2</span>
<span class="line-added">1312 When it\[aq]s known that an application overwhelmingly will be</span>
<span class="line-added">1313 allocating multibyte character Strings</span>
<span class="line-added">1314 .IP \[bu] 2</span>
<span class="line-added">1315 In the unexpected event where a performance regression is observed in</span>
<span class="line-added">1316 migrating from Java SE 8 to Java SE 9 and an analysis shows that Compact</span>
<span class="line-added">1317 Strings introduces the regression</span>
<span class="line-added">1318 .PP</span>
<span class="line-added">1319 In both of these scenarios, disabling Compact Strings makes sense.</span>
<span class="line-added">1320 .RE</span>
<span class="line-added">1321 .TP</span>
<span class="line-added">1322 .B \f[CB]\-XX:ErrorFile=\f[R]\f[I]filename\f[R]</span>
<span class="line-added">1323 Specifies the path and file name to which error data is written when an</span>
<span class="line-added">1324 irrecoverable error occurs.</span>
<span class="line-added">1325 By default, this file is created in the current working directory and</span>
<span class="line-added">1326 named \f[CB]hs_err_pid\f[R]\f[I]pid\f[R]\f[CB]\&amp;.log\f[R] where \f[I]pid\f[R]</span>
<span class="line-added">1327 is the identifier of the process that encountered the error.</span>
<span class="line-added">1328 .RS</span>
<span class="line-added">1329 .PP</span>
<span class="line-added">1330 The following example shows how to set the default log file (note that</span>
<span class="line-added">1331 the identifier of the process is specified as \f[CB]%p\f[R]):</span>
<span class="line-added">1332 .RS</span>
<span class="line-added">1333 .PP</span>
<span class="line-added">1334 \f[CB]\-XX:ErrorFile=./hs_err_pid%p.log\f[R]</span>
<span class="line-added">1335 .RE</span>
<span class="line-added">1336 .IP \[bu] 2</span>
<span class="line-added">1337 \f[B]Oracle Solaris, Linux, and macOS:\f[R] The following example shows</span>
<span class="line-added">1338 how to set the error log to \f[CB]/var/log/java/java_error.log\f[R]:</span>
<span class="line-added">1339 .RS 2</span>
<span class="line-added">1340 .RS</span>
<span class="line-added">1341 .PP</span>
<span class="line-added">1342 \f[CB]\-XX:ErrorFile=/var/log/java/java_error.log\f[R]</span>
<span class="line-added">1343 .RE</span>
<span class="line-added">1344 .RE</span>
<span class="line-added">1345 .IP \[bu] 2</span>
<span class="line-added">1346 \f[B]Windows:\f[R] The following example shows how to set the error log</span>
<span class="line-added">1347 file to \f[CB]C:/log/java/java_error.log\f[R]:</span>
<span class="line-added">1348 .RS 2</span>
<span class="line-added">1349 .RS</span>
<span class="line-added">1350 .PP</span>
<span class="line-added">1351 \f[CB]\-XX:ErrorFile=C:/log/java/java_error.log\f[R]</span>
<span class="line-added">1352 .RE</span>
<span class="line-added">1353 .RE</span>
<span class="line-added">1354 .PP</span>
<span class="line-added">1355 If the file exists, and is writeable, then it will be overwritten.</span>
<span class="line-added">1356 Otherwise, if the file can\[aq]t be created in the specified directory</span>
<span class="line-added">1357 (due to insufficient space, permission problem, or another issue), then</span>
<span class="line-added">1358 the file is created in the temporary directory for the operating system:</span>
<span class="line-added">1359 .IP \[bu] 2</span>
<span class="line-added">1360 \f[B]Oracle Solaris, Linux, and macOS:\f[R] The temporary directory is</span>
<span class="line-added">1361 \f[CB]/tmp\f[R].</span>
<span class="line-added">1362 .IP \[bu] 2</span>
<span class="line-added">1363 \f[B]Windows:\f[R] The temporary directory is specified by the value of</span>
<span class="line-added">1364 the \f[CB]TMP\f[R] environment variable; if that environment variable</span>
<span class="line-added">1365 isn\[aq]t defined, then the value of the \f[CB]TEMP\f[R] environment</span>
<span class="line-added">1366 variable is used.</span>
<span class="line-added">1367 .RE</span>
<span class="line-added">1368 .TP</span>
<span class="line-added">1369 .B \f[CB]\-XX:+ExtensiveErrorReports\f[R]</span>
<span class="line-added">1370 Enables the reporting of more extensive error information in the</span>
<span class="line-added">1371 \f[CB]ErrorFile\f[R].</span>
<span class="line-added">1372 This option can be turned on in environments where maximal information</span>
<span class="line-added">1373 is desired \- even if the resulting logs may be quite large and/or</span>
<span class="line-added">1374 contain information that might be considered sensitive.</span>
<span class="line-added">1375 The information can vary from release to release, and across different</span>
<span class="line-added">1376 platforms.</span>
<span class="line-added">1377 By default this option is disabled.</span>
<span class="line-added">1378 .RS</span>
<span class="line-added">1379 .RE</span>
<span class="line-added">1380 .TP</span>
<span class="line-added">1381 .B \f[CB]\-XX:FlightRecorderOptions=\f[R]\f[I]parameter\f[R]\f[CB]=\f[R]\f[I]value\f[R] (or)\f[CB]\-XX:FlightRecorderOptions:\f[R]\f[I]parameter\f[R]\f[CB]=\f[R]\f[I]value\f[R]</span>
<span class="line-added">1382 Sets the parameters that control the behavior of JFR.</span>
<span class="line-added">1383 .RS</span>
<span class="line-added">1384 .PP</span>
<span class="line-added">1385 The following list contains the available JFR</span>
<span class="line-added">1386 \f[I]parameter\f[R]\f[CB]=\f[R]\f[I]value\f[R] entries:</span>
<span class="line-added">1387 .TP</span>
<span class="line-added">1388 .B \f[CB]globalbuffersize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">1389 Specifies the total amount of primary memory used for data retention.</span>
<span class="line-added">1390 The default value is based on the value specified for</span>
<span class="line-added">1391 \f[CB]memorysize\f[R].</span>
<span class="line-added">1392 Change the \f[CB]memorysize\f[R] parameter to alter the size of global</span>
<span class="line-added">1393 buffers.</span>
<span class="line-added">1394 .RS</span>
<span class="line-added">1395 .RE</span>
<span class="line-added">1396 .TP</span>
<span class="line-added">1397 .B \f[CB]maxchunksize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">1398 Specifies the maximum size (in bytes) of the data chunks in a recording.</span>
<span class="line-added">1399 Append \f[CB]m\f[R] or \f[CB]M\f[R] to specify the size in megabytes (MB),</span>
<span class="line-added">1400 or \f[CB]g\f[R] or \f[CB]G\f[R] to specify the size in gigabytes (GB).</span>
<span class="line-added">1401 By default, the maximum size of data chunks is set to 12 MB.</span>
<span class="line-added">1402 The minimum allowed is 1 MB.</span>
<span class="line-added">1403 .RS</span>
<span class="line-added">1404 .RE</span>
<span class="line-added">1405 .TP</span>
<span class="line-added">1406 .B \f[CB]memorysize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">1407 Determines how much buffer memory should be used, and sets the</span>
<span class="line-added">1408 \f[CB]globalbuffersize\f[R] and \f[CB]numglobalbuffers\f[R] parameters based</span>
<span class="line-added">1409 on the size specified.</span>
<span class="line-added">1410 Append \f[CB]m\f[R] or \f[CB]M\f[R] to specify the size in megabytes (MB),</span>
<span class="line-added">1411 or \f[CB]g\f[R] or \f[CB]G\f[R] to specify the size in gigabytes (GB).</span>
<span class="line-added">1412 By default, the memory size is set to 10 MB.</span>
<span class="line-added">1413 .RS</span>
<span class="line-added">1414 .RE</span>
<span class="line-added">1415 .TP</span>
<span class="line-added">1416 .B \f[CB]numglobalbuffers\f[R]</span>
<span class="line-added">1417 Specifies the number of global buffers used.</span>
<span class="line-added">1418 The default value is based on the memory size specified.</span>
<span class="line-added">1419 Change the \f[CB]memorysize\f[R] parameter to alter the number of global</span>
<span class="line-added">1420 buffers.</span>
<span class="line-added">1421 .RS</span>
<span class="line-added">1422 .RE</span>
<span class="line-added">1423 .TP</span>
<span class="line-added">1424 .B \f[CB]old\-object\-queue\-size=number\-of\-objects\f[R]</span>
<span class="line-added">1425 Maximum number of old objects to track.</span>
<span class="line-added">1426 By default, the number of objects is set to 256.</span>
<span class="line-added">1427 .RS</span>
<span class="line-added">1428 .RE</span>
<span class="line-added">1429 .TP</span>
<span class="line-added">1430 .B \f[CB]repository=\f[R]\f[I]path\f[R]</span>
<span class="line-added">1431 Specifies the repository (a directory) for temporary disk storage.</span>
<span class="line-added">1432 By default, the system\[aq]s temporary directory is used.</span>
<span class="line-added">1433 .RS</span>
<span class="line-added">1434 .RE</span>
<span class="line-added">1435 .TP</span>
<span class="line-added">1436 .B \f[CB]retransform=\f[R]{\f[CB]true\f[R]|\f[CB]false\f[R]}</span>
<span class="line-added">1437 Specifies whether event classes should be retransformed using JVMTI.</span>
<span class="line-added">1438 If false, instrumentation is added when event classes are loaded.</span>
<span class="line-added">1439 By default, this parameter is enabled.</span>
<span class="line-added">1440 .RS</span>
<span class="line-added">1441 .RE</span>
<span class="line-added">1442 .TP</span>
<span class="line-added">1443 .B \f[CB]samplethreads=\f[R]{\f[CB]true\f[R]|\f[CB]false\f[R]}</span>
<span class="line-added">1444 Specifies whether thread sampling is enabled.</span>
<span class="line-added">1445 Thread sampling occurs only if the sampling event is enabled along with</span>
<span class="line-added">1446 this parameter.</span>
<span class="line-added">1447 By default, this parameter is enabled.</span>
<span class="line-added">1448 .RS</span>
<span class="line-added">1449 .RE</span>
<span class="line-added">1450 .TP</span>
<span class="line-added">1451 .B \f[CB]stackdepth=\f[R]\f[I]depth\f[R]</span>
<span class="line-added">1452 Stack depth for stack traces.</span>
<span class="line-added">1453 By default, the depth is set to 64 method calls.</span>
<span class="line-added">1454 The maximum is 2048.</span>
<span class="line-added">1455 Values greater than 64 could create significant overhead and reduce</span>
<span class="line-added">1456 performance.</span>
<span class="line-added">1457 .RS</span>
<span class="line-added">1458 .RE</span>
<span class="line-added">1459 .TP</span>
<span class="line-added">1460 .B \f[CB]threadbuffersize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">1461 Specifies the per\-thread local buffer size (in bytes).</span>
<span class="line-added">1462 By default, the local buffer size is set to 8 kilobytes, with a minimum</span>
<span class="line-added">1463 value of 4 kilobytes.</span>
<span class="line-added">1464 Overriding this parameter could reduce performance and is not</span>
<span class="line-added">1465 recommended.</span>
<span class="line-added">1466 .RS</span>
<span class="line-added">1467 .RE</span>
<span class="line-added">1468 .PP</span>
<span class="line-added">1469 You can specify values for multiple parameters by separating them with a</span>
<span class="line-added">1470 comma.</span>
<span class="line-added">1471 .RE</span>
<span class="line-added">1472 .TP</span>
<span class="line-added">1473 .B \f[CB]\-XX:LargePageSizeInBytes=\f[R]\f[I]size\f[R]</span>
<span class="line-added">1474 Sets the maximum size (in bytes) for large pages used for the Java heap.</span>
<span class="line-added">1475 The \f[I]size\f[R] argument must be a power of 2 (2, 4, 8, 16, and so</span>
<span class="line-added">1476 on).</span>
<span class="line-added">1477 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,</span>
<span class="line-added">1478 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or</span>
<span class="line-added">1479 \f[CB]G\f[R] to indicate gigabytes.</span>
<span class="line-added">1480 By default, the size is set to 0, meaning that the JVM chooses the size</span>
<span class="line-added">1481 for large pages automatically.</span>
<span class="line-added">1482 See \f[B]Large Pages\f[R].</span>
<span class="line-added">1483 .RS</span>
<span class="line-added">1484 .PP</span>
<span class="line-added">1485 The following example describes how to set the large page size to 4</span>
<span class="line-added">1486 megabytes (MB):</span>
<span class="line-added">1487 .RS</span>
<span class="line-added">1488 .PP</span>
<span class="line-added">1489 \f[CB]\-XX:LargePageSizeInBytes=4m\f[R]</span>
<span class="line-added">1490 .RE</span>
<span class="line-added">1491 .RE</span>
<span class="line-added">1492 .TP</span>
<span class="line-added">1493 .B \f[CB]\-XX:MaxDirectMemorySize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">1494 Sets the maximum total size (in bytes) of the \f[CB]java.nio\f[R] package,</span>
<span class="line-added">1495 direct\-buffer allocations.</span>
<span class="line-added">1496 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,</span>
<span class="line-added">1497 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or</span>
<span class="line-added">1498 \f[CB]G\f[R] to indicate gigabytes.</span>
<span class="line-added">1499 By default, the size is set to 0, meaning that the JVM chooses the size</span>
<span class="line-added">1500 for NIO direct\-buffer allocations automatically.</span>
<span class="line-added">1501 .RS</span>
<span class="line-added">1502 .PP</span>
<span class="line-added">1503 The following examples illustrate how to set the NIO size to 1024 KB in</span>
<span class="line-added">1504 different units:</span>
<span class="line-added">1505 .IP</span>
<span class="line-added">1506 .nf</span>
<span class="line-added">1507 \f[CB]</span>
<span class="line-added">1508 \-XX:MaxDirectMemorySize=1m</span>
<span class="line-added">1509 \-XX:MaxDirectMemorySize=1024k</span>
<span class="line-added">1510 \-XX:MaxDirectMemorySize=1048576</span>
<span class="line-added">1511 \f[R]</span>
<span class="line-added">1512 .fi</span>
1513 .RE
<a name="32" id="anc32"></a><span class="line-added">1514 .TP</span>
<span class="line-added">1515 .B \f[CB]\-XX:\-MaxFDLimit\f[R]</span>
<span class="line-added">1516 Disables the attempt to set the soft limit for the number of open file</span>
<span class="line-added">1517 descriptors to the hard limit.</span>
<span class="line-added">1518 By default, this option is enabled on all platforms, but is ignored on</span>
<span class="line-added">1519 Windows.</span>
<span class="line-added">1520 The only time that you may need to disable this is on Mac OS, where its</span>
<span class="line-added">1521 use imposes a maximum of 10240, which is lower than the actual system</span>
<span class="line-added">1522 maximum.</span>
<span class="line-added">1523 .RS</span>
<span class="line-added">1524 .RE</span>
<span class="line-added">1525 .TP</span>
<span class="line-added">1526 .B \f[CB]\-XX:NativeMemoryTracking=\f[R]\f[I]mode\f[R]</span>
<span class="line-added">1527 Specifies the mode for tracking JVM native memory usage.</span>
<span class="line-added">1528 Possible \f[I]mode\f[R] arguments for this option include the following:</span>
<span class="line-added">1529 .RS</span>
<span class="line-added">1530 .TP</span>
<span class="line-added">1531 .B \f[CB]off\f[R]</span>
<span class="line-added">1532 Instructs not to track JVM native memory usage.</span>
<span class="line-added">1533 This is the default behavior if you don\[aq]t specify the</span>
<span class="line-added">1534 \f[CB]\-XX:NativeMemoryTracking\f[R] option.</span>
<span class="line-added">1535 .RS</span>
<span class="line-added">1536 .RE</span>
<span class="line-added">1537 .TP</span>
<span class="line-added">1538 .B \f[CB]summary\f[R]</span>
<span class="line-added">1539 Tracks memory usage only by JVM subsystems, such as Java heap, class,</span>
<span class="line-added">1540 code, and thread.</span>
<span class="line-added">1541 .RS</span>
<span class="line-added">1542 .RE</span>
<span class="line-added">1543 .TP</span>
<span class="line-added">1544 .B \f[CB]detail\f[R]</span>
<span class="line-added">1545 In addition to tracking memory usage by JVM subsystems, track memory</span>
<span class="line-added">1546 usage by individual \f[CB]CallSite\f[R], individual virtual memory region</span>
<span class="line-added">1547 and its committed regions.</span>
<span class="line-added">1548 .RS</span>
<span class="line-added">1549 .RE</span>
<span class="line-added">1550 .RE</span>
<span class="line-added">1551 .TP</span>
<span class="line-added">1552 .B \f[CB]\-XX:ObjectAlignmentInBytes=\f[R]\f[I]alignment\f[R]</span>
<span class="line-added">1553 Sets the memory alignment of Java objects (in bytes).</span>
<span class="line-added">1554 By default, the value is set to 8 bytes.</span>
<span class="line-added">1555 The specified value should be a power of 2, and must be within the range</span>
<span class="line-added">1556 of 8 and 256 (inclusive).</span>
<span class="line-added">1557 This option makes it possible to use compressed pointers with large Java</span>
<span class="line-added">1558 heap sizes.</span>
<span class="line-added">1559 .RS</span>
1560 .PP
<a name="33" id="anc33"></a><span class="line-modified">1561 The heap size limit in bytes is calculated as:</span>
<span class="line-modified">1562 .RS</span>
<span class="line-modified">1563 .PP</span>
<span class="line-modified">1564 \f[CB]4GB\ *\ ObjectAlignmentInBytes\f[R]</span>
<span class="line-added">1565 .RE</span>
<span class="line-added">1566 .RS</span>
<span class="line-added">1567 .PP</span>
<span class="line-added">1568 \f[B]Note:\f[R] As the alignment value increases, the unused space</span>
<span class="line-added">1569 between objects also increases.</span>
<span class="line-added">1570 As a result, you may not realize any benefits from using compressed</span>
<span class="line-added">1571 pointers with large Java heap sizes.</span>
<span class="line-added">1572 .RE</span>
<span class="line-added">1573 .RE</span>
<span class="line-added">1574 .TP</span>
<span class="line-added">1575 .B \f[CB]\-XX:OnError=\f[R]\f[I]string\f[R]</span>
<span class="line-added">1576 Sets a custom command or a series of semicolon\-separated commands to</span>
<span class="line-added">1577 run when an irrecoverable error occurs.</span>
<span class="line-added">1578 If the string contains spaces, then it must be enclosed in quotation</span>
<span class="line-added">1579 marks.</span>
<span class="line-added">1580 .RS</span>
<span class="line-added">1581 .IP \[bu] 2</span>
<span class="line-added">1582 \f[B]Oracle Solaris, Linux, and macOS:\f[R] The following example shows</span>
<span class="line-added">1583 how the \f[CB]\-XX:OnError\f[R] option can be used to run the</span>
<span class="line-added">1584 \f[CB]gcore\f[R] command to create a core image, and start the</span>
<span class="line-added">1585 \f[CB]gdb\f[R] debugger to attach to the process in case of an</span>
<span class="line-added">1586 irrecoverable error (the \f[CB]%p\f[R] designates the current process</span>
<span class="line-added">1587 identifier):</span>
<span class="line-added">1588 .RS 2</span>
<span class="line-added">1589 .RS</span>
<span class="line-added">1590 .PP</span>
<span class="line-added">1591 \f[CB]\-XX:OnError=&quot;gcore\ %p;gdb\ \-p\ %p&quot;\f[R]</span>
<span class="line-added">1592 .RE</span>
<span class="line-added">1593 .RE</span>
<span class="line-added">1594 .IP \[bu] 2</span>
<span class="line-added">1595 \f[B]Windows:\f[R] The following example shows how the</span>
<span class="line-added">1596 \f[CB]\-XX:OnError\f[R] option can be used to run the</span>
<span class="line-added">1597 \f[CB]userdump.exe\f[R] utility to obtain a crash dump in case of an</span>
<span class="line-added">1598 irrecoverable error (the \f[CB]%p\f[R] designates the current process</span>
<span class="line-added">1599 identifier).</span>
<span class="line-added">1600 This example assumes that the path to the \f[CB]userdump.exe\f[R] utility</span>
<span class="line-added">1601 is specified in the \f[CB]PATH\f[R] environment variable:</span>
<span class="line-added">1602 .RS 2</span>
<span class="line-added">1603 .RS</span>
<span class="line-added">1604 .PP</span>
<span class="line-added">1605 \f[CB]\-XX:OnError=&quot;userdump.exe\ %p&quot;\f[R]</span>
<span class="line-added">1606 .RE</span>
<span class="line-added">1607 .RE</span>
<span class="line-added">1608 .RE</span>
<span class="line-added">1609 .TP</span>
<span class="line-added">1610 .B \f[CB]\-XX:OnOutOfMemoryError=\f[R]\f[I]string\f[R]</span>
<span class="line-added">1611 Sets a custom command or a series of semicolon\-separated commands to</span>
<span class="line-added">1612 run when an \f[CB]OutOfMemoryError\f[R] exception is first thrown.</span>
<span class="line-added">1613 If the string contains spaces, then it must be enclosed in quotation</span>
<span class="line-added">1614 marks.</span>
<span class="line-added">1615 For an example of a command string, see the description of the</span>
<span class="line-added">1616 \f[CB]\-XX:OnError\f[R] option.</span>
<span class="line-added">1617 .RS</span>
<span class="line-added">1618 .RE</span>
<span class="line-added">1619 .TP</span>
<span class="line-added">1620 .B \f[CB]\-XX:+PrintCommandLineFlags\f[R]</span>
<span class="line-added">1621 Enables printing of ergonomically selected JVM flags that appeared on</span>
<span class="line-added">1622 the command line.</span>
<span class="line-added">1623 It can be useful to know the ergonomic values set by the JVM, such as</span>
<span class="line-added">1624 the heap space size and the selected garbage collector.</span>
<span class="line-added">1625 By default, this option is disabled and flags aren\[aq]t printed.</span>
<span class="line-added">1626 .RS</span>
<span class="line-added">1627 .RE</span>
<span class="line-added">1628 .TP</span>
<span class="line-added">1629 .B \f[CB]\-XX:+PreserveFramePointer\f[R]</span>
<span class="line-added">1630 Selects between using the RBP register as a general purpose register</span>
<span class="line-added">1631 (\f[CB]\-XX:\-PreserveFramePointer\f[R]) and using the RBP register to</span>
<span class="line-added">1632 hold the frame pointer of the currently executing method</span>
<span class="line-added">1633 (\f[CB]\-XX:+PreserveFramePointer\f[R] .</span>
<span class="line-added">1634 If the frame pointer is available, then external profiling tools (for</span>
<span class="line-added">1635 example, Linux perf) can construct more accurate stack traces.</span>
<span class="line-added">1636 .RS</span>
<span class="line-added">1637 .RE</span>
<span class="line-added">1638 .TP</span>
<span class="line-added">1639 .B \f[CB]\-XX:+PrintNMTStatistics\f[R]</span>
<span class="line-added">1640 Enables printing of collected native memory tracking data at JVM exit</span>
<span class="line-added">1641 when native memory tracking is enabled (see</span>
<span class="line-added">1642 \f[CB]\-XX:NativeMemoryTracking\f[R]).</span>
<span class="line-added">1643 By default, this option is disabled and native memory tracking data</span>
<span class="line-added">1644 isn\[aq]t printed.</span>
<span class="line-added">1645 .RS</span>
<span class="line-added">1646 .RE</span>
<span class="line-added">1647 .TP</span>
<span class="line-added">1648 .B \f[CB]\-XX:SharedArchiveFile=\f[R]\f[I]path\f[R]</span>
<span class="line-added">1649 Specifies the path and name of the class data sharing (CDS) archive file</span>
<span class="line-added">1650 .RS</span>
<span class="line-added">1651 .PP</span>
<span class="line-added">1652 See \f[B]Application Class Data Sharing\f[R].</span>
<span class="line-added">1653 .RE</span>
<span class="line-added">1654 .TP</span>
<span class="line-added">1655 .B \f[CB]\-XX:SharedArchiveConfigFile\f[R]=\f[I]shared_config_file\f[R]</span>
<span class="line-added">1656 Specifies additional shared data added to the archive file.</span>
<span class="line-added">1657 .RS</span>
<span class="line-added">1658 .RE</span>
<span class="line-added">1659 .TP</span>
<span class="line-added">1660 .B \f[CB]\-XX:SharedClassListFile=\f[R]\f[I]file_name\f[R]</span>
<span class="line-added">1661 Specifies the text file that contains the names of the classes to store</span>
<span class="line-added">1662 in the class data sharing (CDS) archive.</span>
<span class="line-added">1663 This file contains the full name of one class per line, except slashes</span>
<span class="line-added">1664 (\f[CB]/\f[R]) replace dots (\f[CB]\&amp;.\f[R]).</span>
<span class="line-added">1665 For example, to specify the classes \f[CB]java.lang.Object\f[R] and</span>
<span class="line-added">1666 \f[CB]hello.Main\f[R], create a text file that contains the following two</span>
<span class="line-added">1667 lines:</span>
<span class="line-added">1668 .RS</span>
<span class="line-added">1669 .IP</span>
<span class="line-added">1670 .nf</span>
<span class="line-added">1671 \f[CB]</span>
<span class="line-added">1672 java/lang/Object</span>
<span class="line-added">1673 hello/Main</span>
<span class="line-added">1674 \f[R]</span>
<span class="line-added">1675 .fi</span>
1676 .PP
<a name="34" id="anc34"></a><span class="line-modified">1677 The classes that you specify in this text file should include the</span>
<span class="line-modified">1678 classes that are commonly used by the application.</span>
<span class="line-modified">1679 They may include any classes from the application, extension, or</span>
<span class="line-modified">1680 bootstrap class paths.</span>
<span class="line-added">1681 .PP</span>
<span class="line-added">1682 See \f[B]Application Class Data Sharing\f[R].</span>
<span class="line-added">1683 .RE</span>
<span class="line-added">1684 .TP</span>
<span class="line-added">1685 .B \f[CB]\-XX:+ShowCodeDetailsInExceptionMessages\f[R]</span>
<span class="line-added">1686 Enables printing of improved \f[CB]NullPointerException\f[R] messages.</span>
<span class="line-added">1687 When an application throws a \f[CB]NullPointerException\f[R], the option</span>
<span class="line-added">1688 enables the JVM to analyze the program\[aq]s bytecode instructions to</span>
<span class="line-added">1689 determine precisely which reference is \f[CB]null\f[R], and describes the</span>
<span class="line-added">1690 source with a null\-detail message.</span>
<span class="line-added">1691 The null\-detail message is calculated and returned by</span>
<span class="line-added">1692 \f[CB]NullPointerException.getMessage()\f[R], and will be printed as the</span>
<span class="line-added">1693 exception message along with the method, filename, and line number.</span>
<span class="line-added">1694 By default, this option is disabled.</span>
<span class="line-added">1695 .RS</span>
<span class="line-added">1696 .RE</span>
<span class="line-added">1697 .TP</span>
<span class="line-added">1698 .B \f[CB]\-XX:+ShowMessageBoxOnError\f[R]</span>
<span class="line-added">1699 Enables the display of a dialog box when the JVM experiences an</span>
<span class="line-added">1700 irrecoverable error.</span>
<span class="line-added">1701 This prevents the JVM from exiting and keeps the process active so that</span>
<span class="line-added">1702 you can attach a debugger to it to investigate the cause of the error.</span>
<span class="line-added">1703 By default, this option is disabled.</span>
<span class="line-added">1704 .RS</span>
<span class="line-added">1705 .RE</span>
<span class="line-added">1706 .TP</span>
<span class="line-added">1707 .B \f[CB]\-XX:StartFlightRecording=\f[R]\f[I]parameter\f[R]\f[CB]=\f[R]\f[I]value\f[R]</span>
<span class="line-added">1708 Starts a JFR recording for the Java application.</span>
<span class="line-added">1709 This option is equivalent to the \f[CB]JFR.start\f[R] diagnostic command</span>
<span class="line-added">1710 that starts a recording during runtime.</span>
<span class="line-added">1711 You can set the following \f[I]parameter\f[R]\f[CB]=\f[R]\f[I]value\f[R]</span>
<span class="line-added">1712 entries when starting a JFR recording:</span>
<span class="line-added">1713 .RS</span>
<span class="line-added">1714 .TP</span>
<span class="line-added">1715 .B \f[CB]delay=\f[R]\f[I]time\f[R]</span>
<span class="line-added">1716 Specifies the delay between the Java application launch time and the</span>
<span class="line-added">1717 start of the recording.</span>
<span class="line-added">1718 Append \f[CB]s\f[R] to specify the time in seconds, \f[CB]m\f[R] for</span>
<span class="line-added">1719 minutes, \f[CB]h\f[R] for hours, or \f[CB]d\f[R] for days (for example,</span>
<span class="line-added">1720 specifying \f[CB]10m\f[R] means 10 minutes).</span>
<span class="line-added">1721 By default, there\[aq]s no delay, and this parameter is set to 0.</span>
<span class="line-added">1722 .RS</span>
<span class="line-added">1723 .RE</span>
<span class="line-added">1724 .TP</span>
<span class="line-added">1725 .B \f[CB]disk=\f[R]{\f[CB]true\f[R]|\f[CB]false\f[R]}</span>
<span class="line-added">1726 Specifies whether to write data to disk while recording.</span>
<span class="line-added">1727 By default, this parameter is enabled.</span>
<span class="line-added">1728 .RS</span>
<span class="line-added">1729 .RE</span>
<span class="line-added">1730 .TP</span>
<span class="line-added">1731 .B \f[CB]dumponexit=\f[R]{\f[CB]true\f[R]|\f[CB]false\f[R]}</span>
<span class="line-added">1732 Specifies if the running recording is dumped when the JVM shuts down.</span>
<span class="line-added">1733 If enabled and a \f[CB]filename\f[R] is not entered, the recording is</span>
<span class="line-added">1734 written to a file in the directory where the process was started.</span>
<span class="line-added">1735 The file name is a system\-generated name that contains the process ID,</span>
<span class="line-added">1736 recording ID, and current timestamp, similar to</span>
<span class="line-added">1737 \f[CB]hotspot\-pid\-47496\-id\-1\-2018_01_25_19_10_41.jfr\f[R].</span>
<span class="line-added">1738 By default, this parameter is disabled.</span>
<span class="line-added">1739 .RS</span>
<span class="line-added">1740 .RE</span>
<span class="line-added">1741 .TP</span>
<span class="line-added">1742 .B \f[CB]duration=\f[R]\f[I]time\f[R]</span>
<span class="line-added">1743 Specifies the duration of the recording.</span>
<span class="line-added">1744 Append \f[CB]s\f[R] to specify the time in seconds, \f[CB]m\f[R] for</span>
<span class="line-added">1745 minutes, \f[CB]h\f[R] for hours, or \f[CB]d\f[R] for days (for example,</span>
<span class="line-added">1746 specifying \f[CB]5h\f[R] means 5 hours).</span>
<span class="line-added">1747 By default, the duration isn\[aq]t limited, and this parameter is set to</span>
<span class="line-added">1748 0.</span>
<span class="line-added">1749 .RS</span>
<span class="line-added">1750 .RE</span>
<span class="line-added">1751 .TP</span>
<span class="line-added">1752 .B \f[CB]filename=\f[R]\f[I]path\f[R]</span>
<span class="line-added">1753 Specifies the path and name of the file to which the recording is</span>
<span class="line-added">1754 written when the recording is stopped, for example:</span>
<span class="line-added">1755 .RS</span>
<span class="line-added">1756 .IP \[bu] 2</span>
<span class="line-added">1757 \f[CB]recording.jfr\f[R]</span>
<span class="line-added">1758 .IP \[bu] 2</span>
<span class="line-added">1759 \f[CB]/home/user/recordings/recording.jfr\f[R]</span>
<span class="line-added">1760 .IP \[bu] 2</span>
<span class="line-added">1761 \f[CB]c:\\recordings\\recording.jfr\f[R]</span>
<span class="line-added">1762 .RE</span>
<span class="line-added">1763 .TP</span>
<span class="line-added">1764 .B \f[CB]name=\f[R]\f[I]identifier\f[R]</span>
<span class="line-added">1765 Takes both the name and the identifier of a recording.</span>
<span class="line-added">1766 .RS</span>
<span class="line-added">1767 .RE</span>
<span class="line-added">1768 .TP</span>
<span class="line-added">1769 .B \f[CB]maxage=\f[R]\f[I]time\f[R]</span>
<span class="line-added">1770 Specifies the maximum age of disk data to keep for the recording.</span>
<span class="line-added">1771 This parameter is valid only when the \f[CB]disk\f[R] parameter is set to</span>
<span class="line-added">1772 \f[CB]true\f[R].</span>
<span class="line-added">1773 Append \f[CB]s\f[R] to specify the time in seconds, \f[CB]m\f[R] for</span>
<span class="line-added">1774 minutes, \f[CB]h\f[R] for hours, or \f[CB]d\f[R] for days (for example,</span>
<span class="line-added">1775 specifying \f[CB]30s\f[R] means 30 seconds).</span>
<span class="line-added">1776 By default, the maximum age isn\[aq]t limited, and this parameter is set</span>
<span class="line-added">1777 to \f[CB]0s\f[R].</span>
<span class="line-added">1778 .RS</span>
<span class="line-added">1779 .RE</span>
<span class="line-added">1780 .TP</span>
<span class="line-added">1781 .B \f[CB]maxsize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">1782 Specifies the maximum size (in bytes) of disk data to keep for the</span>
<span class="line-added">1783 recording.</span>
<span class="line-added">1784 This parameter is valid only when the \f[CB]disk\f[R] parameter is set to</span>
<span class="line-added">1785 \f[CB]true\f[R].</span>
<span class="line-added">1786 The value must not be less than the value for the \f[CB]maxchunksize\f[R]</span>
<span class="line-added">1787 parameter set with \f[CB]\-XX:FlightRecorderOptions\f[R].</span>
<span class="line-added">1788 Append \f[CB]m\f[R] or \f[CB]M\f[R] to specify the size in megabytes, or</span>
<span class="line-added">1789 \f[CB]g\f[R] or \f[CB]G\f[R] to specify the size in gigabytes.</span>
<span class="line-added">1790 By default, the maximum size of disk data isn\[aq]t limited, and this</span>
<span class="line-added">1791 parameter is set to \f[CB]0\f[R].</span>
<span class="line-added">1792 .RS</span>
<span class="line-added">1793 .RE</span>
<span class="line-added">1794 .TP</span>
<span class="line-added">1795 .B \f[CB]path\-to\-gc\-roots=\f[R]{\f[CB]true\f[R]|\f[CB]false\f[R]}</span>
<span class="line-added">1796 Specifies whether to collect the path to garbage collection (GC) roots</span>
<span class="line-added">1797 at the end of a recording.</span>
<span class="line-added">1798 By default, this parameter is disabled.</span>
<span class="line-added">1799 .RS</span>
<span class="line-added">1800 .PP</span>
<span class="line-added">1801 The path to GC roots is useful for finding memory leaks, but collecting</span>
<span class="line-added">1802 it is time\-consuming.</span>
<span class="line-added">1803 Enable this option only when you start a recording for an application</span>
<span class="line-added">1804 that you suspect has a memory leak.</span>
<span class="line-added">1805 If the \f[CB]settings\f[R] parameter is set to \f[CB]profile\f[R], the stack</span>
<span class="line-added">1806 trace from where the potential leaking object was allocated is included</span>
<span class="line-added">1807 in the information collected.</span>
<span class="line-added">1808 .RE</span>
<span class="line-added">1809 .TP</span>
<span class="line-added">1810 .B \f[CB]settings=\f[R]\f[I]path\f[R]</span>
<span class="line-added">1811 Specifies the path and name of the event settings file (of type JFC).</span>
<span class="line-added">1812 By default, the \f[CB]default.jfc\f[R] file is used, which is located in</span>
<span class="line-added">1813 \f[CB]JRE_HOME/lib/jfr\f[R].</span>
<span class="line-added">1814 This default settings file collects a predefined set of information with</span>
<span class="line-added">1815 low overhead, so it has minimal impact on performance and can be used</span>
<span class="line-added">1816 with recordings that run continuously.</span>
<span class="line-added">1817 .RS</span>
<span class="line-added">1818 .PP</span>
<span class="line-added">1819 A second settings file is also provided, profile.jfc, which provides</span>
<span class="line-added">1820 more data than the default configuration, but can have more overhead and</span>
<span class="line-added">1821 impact performance.</span>
<span class="line-added">1822 Use this configuration for short periods of time when more information</span>
<span class="line-added">1823 is needed.</span>
<span class="line-added">1824 .RE</span>
<span class="line-added">1825 .PP</span>
<span class="line-added">1826 You can specify values for multiple parameters by separating them with a</span>
<span class="line-added">1827 comma.</span>
<span class="line-added">1828 .RE</span>
<span class="line-added">1829 .TP</span>
<span class="line-added">1830 .B \f[CB]\-XX:ThreadStackSize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">1831 Sets the Java thread stack size (in kilobytes).</span>
<span class="line-added">1832 Use of a scaling suffix, such as \f[CB]k\f[R], results in the scaling of</span>
<span class="line-added">1833 the kilobytes value so that \f[CB]\-XX:ThreadStackSize=1k\f[R] sets the</span>
<span class="line-added">1834 Java thread stack size to 1024*1024 bytes or 1 megabyte.</span>
<span class="line-added">1835 The default value depends on the platform:</span>
<span class="line-added">1836 .RS</span>
<span class="line-added">1837 .IP \[bu] 2</span>
<span class="line-added">1838 Linux/x64 (64\-bit): 1024 KB</span>
<span class="line-added">1839 .IP \[bu] 2</span>
<span class="line-added">1840 macOS (64\-bit): 1024 KB</span>
<span class="line-added">1841 .IP \[bu] 2</span>
<span class="line-added">1842 Oracle Solaris (64\-bit): 1024 KB</span>
<span class="line-added">1843 .IP \[bu] 2</span>
<span class="line-added">1844 Windows: The default value depends on virtual memory</span>
<span class="line-added">1845 .PP</span>
<span class="line-added">1846 The following examples show how to set the thread stack size to 1</span>
<span class="line-added">1847 megabyte in different units:</span>
<span class="line-added">1848 .IP</span>
<span class="line-added">1849 .nf</span>
<span class="line-added">1850 \f[CB]</span>
<span class="line-added">1851 \-XX:ThreadStackSize=1k</span>
<span class="line-added">1852 \-XX:ThreadStackSize=1024</span>
<span class="line-added">1853 \f[R]</span>
<span class="line-added">1854 .fi</span>
1855 .PP
<a name="35" id="anc35"></a><span class="line-modified">1856 This option is similar to \f[CB]\-Xss\f[R].</span>
<span class="line-modified">1857 .RE</span>
<span class="line-modified">1858 .TP</span>
<span class="line-modified">1859 .B \f[CB]\-XX:\-UseBiasedLocking\f[R]</span>
<span class="line-modified">1860 Disables the use of biased locking.</span>
<span class="line-added">1861 Some applications with significant amounts of uncontended</span>
<span class="line-added">1862 synchronization may attain significant speedups with this flag enabled,</span>
<span class="line-added">1863 but applications with certain patterns of locking may see slowdowns.</span>
<span class="line-added">1864 \&amp;.</span>
<span class="line-added">1865 .RS</span>
<span class="line-added">1866 .PP</span>
<span class="line-added">1867 By default, this option is enabled.</span>
<span class="line-added">1868 .RE</span>
<span class="line-added">1869 .TP</span>
<span class="line-added">1870 .B \f[CB]\-XX:\-UseCompressedOops\f[R]</span>
<span class="line-added">1871 Disables the use of compressed pointers.</span>
<span class="line-added">1872 By default, this option is enabled, and compressed pointers are used.</span>
<span class="line-added">1873 This will automatically limit the maximum ergonomically determined Java</span>
<span class="line-added">1874 heap size to the maximum amount of memory that can be covered by</span>
<span class="line-added">1875 compressed pointers.</span>
<span class="line-added">1876 By default this range is 32 GB.</span>
<span class="line-added">1877 .RS</span>
<span class="line-added">1878 .PP</span>
<span class="line-added">1879 With compressed oops enabled, object references are represented as</span>
<span class="line-added">1880 32\-bit offsets instead of 64\-bit pointers, which typically increases</span>
<span class="line-added">1881 performance when running the application with Java heap sizes smaller</span>
<span class="line-added">1882 than the compressed oops pointer range.</span>
<span class="line-added">1883 This option works only for 64\-bit JVMs.</span>
<span class="line-added">1884 .PP</span>
<span class="line-added">1885 It\[aq]s possible to use compressed pointers with Java heap sizes</span>
<span class="line-added">1886 greater than 32 GB.</span>
<span class="line-added">1887 See the \f[CB]\-XX:ObjectAlignmentInBytes\f[R] option.</span>
<span class="line-added">1888 .RE</span>
<span class="line-added">1889 .TP</span>
<span class="line-added">1890 .B \f[CB]\-XX:\-UseContainerSupport\f[R]</span>
<span class="line-added">1891 The VM now provides automatic container detection support, which allows</span>
<span class="line-added">1892 the VM to determine the amount of memory and number of processors that</span>
<span class="line-added">1893 are available to a Java process running in docker containers.</span>
<span class="line-added">1894 It uses this information to allocate system resources.</span>
<span class="line-added">1895 This support is only available on Linux x64 platforms.</span>
<span class="line-added">1896 If supported, the default for this flag is \f[CB]true\f[R], and container</span>
<span class="line-added">1897 support is enabled by default.</span>
<span class="line-added">1898 It can be disabled with \f[CB]\-XX:\-UseContainerSupport\f[R].</span>
<span class="line-added">1899 .RS</span>
<span class="line-added">1900 .PP</span>
<span class="line-added">1901 Unified Logging is available to help to diagnose issues related to this</span>
<span class="line-added">1902 support.</span>
<span class="line-added">1903 .PP</span>
<span class="line-added">1904 Use \f[CB]\-Xlog:os+container=trace\f[R] for maximum logging of container</span>
<span class="line-added">1905 information.</span>
<span class="line-added">1906 See \f[B]Enable Logging with the JVM Unified Logging Framework\f[R] for a</span>
<span class="line-added">1907 description of using Unified Logging.</span>
<span class="line-added">1908 .RE</span>
<span class="line-added">1909 .TP</span>
<span class="line-added">1910 .B \f[CB]\-XX:+UseHugeTLBFS\f[R]</span>
<span class="line-added">1911 \f[B]Linux only:\f[R] This option is the equivalent of specifying</span>
<span class="line-added">1912 \f[CB]\-XX:+UseLargePages\f[R].</span>
<span class="line-added">1913 This option is disabled by default.</span>
<span class="line-added">1914 This option pre\-allocates all large pages up\-front, when memory is</span>
<span class="line-added">1915 reserved; consequently the JVM can\[aq]t dynamically grow or shrink</span>
<span class="line-added">1916 large pages memory areas; see \f[CB]\-XX:UseTransparentHugePages\f[R] if</span>
<span class="line-added">1917 you want this behavior.</span>
<span class="line-added">1918 .RS</span>
<span class="line-added">1919 .PP</span>
<span class="line-added">1920 See \f[B]Large Pages\f[R].</span>
<span class="line-added">1921 .RE</span>
<span class="line-added">1922 .TP</span>
<span class="line-added">1923 .B \f[CB]\-XX:+UseLargePages\f[R]</span>
<span class="line-added">1924 Enables the use of large page memory.</span>
<span class="line-added">1925 By default, this option is disabled and large page memory isn\[aq]t</span>
<span class="line-added">1926 used.</span>
<span class="line-added">1927 .RS</span>
<span class="line-added">1928 .PP</span>
<span class="line-added">1929 See \f[B]Large Pages\f[R].</span>
<span class="line-added">1930 .RE</span>
<span class="line-added">1931 .TP</span>
<span class="line-added">1932 .B \f[CB]\-XX:+UseTransparentHugePages\f[R]</span>
<span class="line-added">1933 \f[B]Linux only:\f[R] Enables the use of large pages that can dynamically</span>
<span class="line-added">1934 grow or shrink.</span>
<span class="line-added">1935 This option is disabled by default.</span>
<span class="line-added">1936 You may encounter performance problems with transparent huge pages as</span>
<span class="line-added">1937 the OS moves other pages around to create huge pages; this option is</span>
<span class="line-added">1938 made available for experimentation.</span>
<span class="line-added">1939 .RS</span>
<span class="line-added">1940 .RE</span>
<span class="line-added">1941 .TP</span>
<span class="line-added">1942 .B \f[CB]\-XX:+AllowUserSignalHandlers\f[R]</span>
<span class="line-added">1943 Enables installation of signal handlers by the application.</span>
<span class="line-added">1944 By default, this option is disabled and the application isn\[aq]t</span>
<span class="line-added">1945 allowed to install signal handlers.</span>
<span class="line-added">1946 .RS</span>
<span class="line-added">1947 .RE</span>
<span class="line-added">1948 .TP</span>
<span class="line-added">1949 .B \f[CB]\-XX:VMOptionsFile=\f[R]\f[I]filename\f[R]</span>
<span class="line-added">1950 Allows user to specify VM options in a file, for example,</span>
<span class="line-added">1951 \f[CB]java\ \-XX:VMOptionsFile=/var/my_vm_options\ HelloWorld\f[R].</span>
<span class="line-added">1952 .RS</span>
<span class="line-added">1953 .RE</span>
<span class="line-added">1954 .SH ADVANCED JIT COMPILER OPTIONS FOR JAVA</span>
<span class="line-added">1955 .PP</span>
<span class="line-added">1956 These \f[CB]java\f[R] options control the dynamic just\-in\-time (JIT)</span>
<span class="line-added">1957 compilation performed by the Java HotSpot VM.</span>
<span class="line-added">1958 .TP</span>
<span class="line-added">1959 .B \f[CB]\-XX:AllocateInstancePrefetchLines=\f[R]\f[I]lines\f[R]</span>
<span class="line-added">1960 Sets the number of lines to prefetch ahead of the instance allocation</span>
<span class="line-added">1961 pointer.</span>
<span class="line-added">1962 By default, the number of lines to prefetch is set to 1:</span>
<span class="line-added">1963 .RS</span>
<span class="line-added">1964 .RS</span>
<span class="line-added">1965 .PP</span>
<span class="line-added">1966 \f[CB]\-XX:AllocateInstancePrefetchLines=1\f[R]</span>
<span class="line-added">1967 .RE</span>
<span class="line-added">1968 .RE</span>
<span class="line-added">1969 .TP</span>
<span class="line-added">1970 .B \f[CB]\-XX:AllocatePrefetchDistance=\f[R]\f[I]size\f[R]</span>
<span class="line-added">1971 Sets the size (in bytes) of the prefetch distance for object allocation.</span>
<span class="line-added">1972 Memory about to be written with the value of new objects is prefetched</span>
<span class="line-added">1973 up to this distance starting from the address of the last allocated</span>
<span class="line-added">1974 object.</span>
<span class="line-added">1975 Each Java thread has its own allocation point.</span>
<span class="line-added">1976 .RS</span>
<span class="line-added">1977 .PP</span>
<span class="line-added">1978 Negative values denote that prefetch distance is chosen based on the</span>
<span class="line-added">1979 platform.</span>
<span class="line-added">1980 Positive values are bytes to prefetch.</span>
<span class="line-added">1981 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,</span>
<span class="line-added">1982 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or</span>
<span class="line-added">1983 \f[CB]G\f[R] to indicate gigabytes.</span>
<span class="line-added">1984 The default value is set to \-1.</span>
<span class="line-added">1985 .PP</span>
<span class="line-added">1986 The following example shows how to set the prefetch distance to 1024</span>
<span class="line-added">1987 bytes:</span>
<span class="line-added">1988 .RS</span>
<span class="line-added">1989 .PP</span>
<span class="line-added">1990 \f[CB]\-XX:AllocatePrefetchDistance=1024\f[R]</span>
<span class="line-added">1991 .RE</span>
<span class="line-added">1992 .RE</span>
<span class="line-added">1993 .TP</span>
<span class="line-added">1994 .B \f[CB]\-XX:AllocatePrefetchInstr=\f[R]\f[I]instruction\f[R]</span>
<span class="line-added">1995 Sets the prefetch instruction to prefetch ahead of the allocation</span>
<span class="line-added">1996 pointer.</span>
<span class="line-added">1997 Possible values are from 0 to 3.</span>
<span class="line-added">1998 The actual instructions behind the values depend on the platform.</span>
<span class="line-added">1999 By default, the prefetch instruction is set to 0:</span>
<span class="line-added">2000 .RS</span>
<span class="line-added">2001 .RS</span>
<span class="line-added">2002 .PP</span>
<span class="line-added">2003 \f[CB]\-XX:AllocatePrefetchInstr=0\f[R]</span>
<span class="line-added">2004 .RE</span>
<span class="line-added">2005 .RE</span>
<span class="line-added">2006 .TP</span>
<span class="line-added">2007 .B \f[CB]\-XX:AllocatePrefetchLines=\f[R]\f[I]lines\f[R]</span>
<span class="line-added">2008 Sets the number of cache lines to load after the last object allocation</span>
<span class="line-added">2009 by using the prefetch instructions generated in compiled code.</span>
<span class="line-added">2010 The default value is 1 if the last allocated object was an instance, and</span>
<span class="line-added">2011 3 if it was an array.</span>
<span class="line-added">2012 .RS</span>
<span class="line-added">2013 .PP</span>
<span class="line-added">2014 The following example shows how to set the number of loaded cache lines</span>
<span class="line-added">2015 to 5:</span>
<span class="line-added">2016 .RS</span>
<span class="line-added">2017 .PP</span>
<span class="line-added">2018 \f[CB]\-XX:AllocatePrefetchLines=5\f[R]</span>
<span class="line-added">2019 .RE</span>
<span class="line-added">2020 .RE</span>
<span class="line-added">2021 .TP</span>
<span class="line-added">2022 .B \f[CB]\-XX:AllocatePrefetchStepSize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">2023 Sets the step size (in bytes) for sequential prefetch instructions.</span>
<span class="line-added">2024 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,</span>
<span class="line-added">2025 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, \f[CB]g\f[R] or \f[CB]G\f[R]</span>
<span class="line-added">2026 to indicate gigabytes.</span>
<span class="line-added">2027 By default, the step size is set to 16 bytes:</span>
<span class="line-added">2028 .RS</span>
<span class="line-added">2029 .RS</span>
<span class="line-added">2030 .PP</span>
<span class="line-added">2031 \f[CB]\-XX:AllocatePrefetchStepSize=16\f[R]</span>
<span class="line-added">2032 .RE</span>
<span class="line-added">2033 .RE</span>
<span class="line-added">2034 .TP</span>
<span class="line-added">2035 .B \f[CB]\-XX:AllocatePrefetchStyle=\f[R]\f[I]style\f[R]</span>
<span class="line-added">2036 Sets the generated code style for prefetch instructions.</span>
<span class="line-added">2037 The \f[I]style\f[R] argument is an integer from 0 to 3:</span>
<span class="line-added">2038 .RS</span>
<span class="line-added">2039 .TP</span>
<span class="line-added">2040 .B \f[CB]0\f[R]</span>
<span class="line-added">2041 Don\[aq]t generate prefetch instructions.</span>
<span class="line-added">2042 .RS</span>
<span class="line-added">2043 .RE</span>
<span class="line-added">2044 .TP</span>
<span class="line-added">2045 .B \f[CB]1\f[R]</span>
<span class="line-added">2046 Execute prefetch instructions after each allocation.</span>
<span class="line-added">2047 This is the default setting.</span>
<span class="line-added">2048 .RS</span>
<span class="line-added">2049 .RE</span>
<span class="line-added">2050 .TP</span>
<span class="line-added">2051 .B \f[CB]2\f[R]</span>
<span class="line-added">2052 Use the thread\-local allocation block (TLAB) watermark pointer to</span>
<span class="line-added">2053 determine when prefetch instructions are executed.</span>
<span class="line-added">2054 .RS</span>
<span class="line-added">2055 .RE</span>
<span class="line-added">2056 .TP</span>
<span class="line-added">2057 .B \f[CB]3\f[R]</span>
<span class="line-added">2058 Generate one prefetch instruction per cache line.</span>
<span class="line-added">2059 .RS</span>
<span class="line-added">2060 .RE</span>
<span class="line-added">2061 .RE</span>
<span class="line-added">2062 .TP</span>
<span class="line-added">2063 .B \f[CB]\-XX:+BackgroundCompilation\f[R]</span>
<span class="line-added">2064 Enables background compilation.</span>
<span class="line-added">2065 This option is enabled by default.</span>
<span class="line-added">2066 To disable background compilation, specify</span>
<span class="line-added">2067 \f[CB]\-XX:\-BackgroundCompilation\f[R] (this is equivalent to specifying</span>
<span class="line-added">2068 \f[CB]\-Xbatch\f[R]).</span>
<span class="line-added">2069 .RS</span>
<span class="line-added">2070 .RE</span>
<span class="line-added">2071 .TP</span>
<span class="line-added">2072 .B \f[CB]\-XX:CICompilerCount=\f[R]\f[I]threads\f[R]</span>
<span class="line-added">2073 Sets the number of compiler threads to use for compilation.</span>
<span class="line-added">2074 By default, the number of compiler threads is selected automatically</span>
<span class="line-added">2075 depending on the number of CPUs and memory available for compiled code.</span>
<span class="line-added">2076 The following example shows how to set the number of threads to 2:</span>
<span class="line-added">2077 .RS</span>
<span class="line-added">2078 .RS</span>
<span class="line-added">2079 .PP</span>
<span class="line-added">2080 \f[CB]\-XX:CICompilerCount=2\f[R]</span>
<span class="line-added">2081 .RE</span>
<span class="line-added">2082 .RE</span>
<span class="line-added">2083 .TP</span>
<span class="line-added">2084 .B \f[CB]\-XX:+UseDynamicNumberOfCompilerThreads\f[R]</span>
<span class="line-added">2085 Dynamically create compiler thread up to the limit specified by</span>
<span class="line-added">2086 \f[CB]\-XX:CICompilerCount\f[R].</span>
<span class="line-added">2087 This option is enabled by default.</span>
<span class="line-added">2088 .RS</span>
<span class="line-added">2089 .RE</span>
<span class="line-added">2090 .TP</span>
<span class="line-added">2091 .B \f[CB]\-XX:CompileCommand=\f[R]\f[I]command\f[R]\f[CB],\f[R]\f[I]method\f[R][\f[CB],\f[R]\f[I]option\f[R]]</span>
<span class="line-added">2092 Specifies a \f[I]command\f[R] to perform on a \f[I]method\f[R].</span>
<span class="line-added">2093 For example, to exclude the \f[CB]indexOf()\f[R] method of the</span>
<span class="line-added">2094 \f[CB]String\f[R] class from being compiled, use the following:</span>
<span class="line-added">2095 .RS</span>
<span class="line-added">2096 .RS</span>
<span class="line-added">2097 .PP</span>
<span class="line-added">2098 \f[CB]\-XX:CompileCommand=exclude,java/lang/String.indexOf\f[R]</span>
<span class="line-added">2099 .RE</span>
<span class="line-added">2100 .PP</span>
<span class="line-added">2101 Note that the full class name is specified, including all packages and</span>
<span class="line-added">2102 subpackages separated by a slash (\f[CB]/\f[R]).</span>
<span class="line-added">2103 For easier cut\-and\-paste operations, it\[aq]s also possible to use the</span>
<span class="line-added">2104 method name format produced by the \f[CB]\-XX:+PrintCompilation\f[R] and</span>
<span class="line-added">2105 \f[CB]\-XX:+LogCompilation\f[R] options:</span>
<span class="line-added">2106 .RS</span>
<span class="line-added">2107 .PP</span>
<span class="line-added">2108 \f[CB]\-XX:CompileCommand=exclude,java.lang.String::indexOf\f[R]</span>
<span class="line-added">2109 .RE</span>
<span class="line-added">2110 .PP</span>
<span class="line-added">2111 If the method is specified without the signature, then the command is</span>
<span class="line-added">2112 applied to all methods with the specified name.</span>
<span class="line-added">2113 However, you can also specify the signature of the method in the class</span>
<span class="line-added">2114 file format.</span>
<span class="line-added">2115 In this case, you should enclose the arguments in quotation marks,</span>
<span class="line-added">2116 because otherwise the shell treats the semicolon as a command end.</span>
<span class="line-added">2117 For example, if you want to exclude only the \f[CB]indexOf(String)\f[R]</span>
<span class="line-added">2118 method of the \f[CB]String\f[R] class from being compiled, use the</span>
<span class="line-added">2119 following:</span>
<span class="line-added">2120 .RS</span>
<span class="line-added">2121 .PP</span>
<span class="line-added">2122 \f[CB]\-XX:CompileCommand=&quot;exclude,java/lang/String.indexOf,(Ljava/lang/String;)I&quot;\f[R]</span>
<span class="line-added">2123 .RE</span>
<span class="line-added">2124 .PP</span>
<span class="line-added">2125 You can also use the asterisk (*) as a wildcard for class and method</span>
<span class="line-added">2126 names.</span>
<span class="line-added">2127 For example, to exclude all \f[CB]indexOf()\f[R] methods in all classes</span>
<span class="line-added">2128 from being compiled, use the following:</span>
<span class="line-added">2129 .RS</span>
<span class="line-added">2130 .PP</span>
<span class="line-added">2131 \f[CB]\-XX:CompileCommand=exclude,*.indexOf\f[R]</span>
<span class="line-added">2132 .RE</span>
<span class="line-added">2133 .PP</span>
<span class="line-added">2134 The commas and periods are aliases for spaces, making it easier to pass</span>
<span class="line-added">2135 compiler commands through a shell.</span>
<span class="line-added">2136 You can pass arguments to \f[CB]\-XX:CompileCommand\f[R] using spaces as</span>
<span class="line-added">2137 separators by enclosing the argument in quotation marks:</span>
<span class="line-added">2138 .RS</span>
<span class="line-added">2139 .PP</span>
<span class="line-added">2140 \f[CB]\-XX:CompileCommand=&quot;exclude\ java/lang/String\ indexOf&quot;\f[R]</span>
<span class="line-added">2141 .RE</span>
<span class="line-added">2142 .PP</span>
<span class="line-added">2143 Note that after parsing the commands passed on the command line using</span>
<span class="line-added">2144 the \f[CB]\-XX:CompileCommand\f[R] options, the JIT compiler then reads</span>
<span class="line-added">2145 commands from the \f[CB]\&amp;.hotspot_compiler\f[R] file.</span>
<span class="line-added">2146 You can add commands to this file or specify a different file using the</span>
<span class="line-added">2147 \f[CB]\-XX:CompileCommandFile\f[R] option.</span>
<span class="line-added">2148 .PP</span>
<span class="line-added">2149 To add several commands, either specify the \f[CB]\-XX:CompileCommand\f[R]</span>
<span class="line-added">2150 option multiple times, or separate each argument with the new line</span>
<span class="line-added">2151 separator (\f[CB]\\n\f[R]).</span>
<span class="line-added">2152 The following commands are available:</span>
<span class="line-added">2153 .TP</span>
<span class="line-added">2154 .B \f[CB]break\f[R]</span>
<span class="line-added">2155 Sets a breakpoint when debugging the JVM to stop at the beginning of</span>
<span class="line-added">2156 compilation of the specified method.</span>
<span class="line-added">2157 .RS</span>
<span class="line-added">2158 .RE</span>
<span class="line-added">2159 .TP</span>
<span class="line-added">2160 .B \f[CB]compileonly\f[R]</span>
<span class="line-added">2161 Excludes all methods from compilation except for the specified method.</span>
<span class="line-added">2162 As an alternative, you can use the \f[CB]\-XX:CompileOnly\f[R] option,</span>
<span class="line-added">2163 which lets you specify several methods.</span>
<span class="line-added">2164 .RS</span>
<span class="line-added">2165 .RE</span>
<span class="line-added">2166 .TP</span>
<span class="line-added">2167 .B \f[CB]dontinline\f[R]</span>
<span class="line-added">2168 Prevents inlining of the specified method.</span>
<span class="line-added">2169 .RS</span>
<span class="line-added">2170 .RE</span>
<span class="line-added">2171 .TP</span>
<span class="line-added">2172 .B \f[CB]exclude\f[R]</span>
<span class="line-added">2173 Excludes the specified method from compilation.</span>
<span class="line-added">2174 .RS</span>
<span class="line-added">2175 .RE</span>
<span class="line-added">2176 .TP</span>
<span class="line-added">2177 .B \f[CB]help\f[R]</span>
<span class="line-added">2178 Prints a help message for the \f[CB]\-XX:CompileCommand\f[R] option.</span>
<span class="line-added">2179 .RS</span>
<span class="line-added">2180 .RE</span>
<span class="line-added">2181 .TP</span>
<span class="line-added">2182 .B \f[CB]inline\f[R]</span>
<span class="line-added">2183 Attempts to inline the specified method.</span>
<span class="line-added">2184 .RS</span>
<span class="line-added">2185 .RE</span>
<span class="line-added">2186 .TP</span>
<span class="line-added">2187 .B \f[CB]log\f[R]</span>
<span class="line-added">2188 Excludes compilation logging (with the \f[CB]\-XX:+LogCompilation\f[R]</span>
<span class="line-added">2189 option) for all methods except for the specified method.</span>
<span class="line-added">2190 By default, logging is performed for all compiled methods.</span>
<span class="line-added">2191 .RS</span>
<span class="line-added">2192 .RE</span>
<span class="line-added">2193 .TP</span>
<span class="line-added">2194 .B \f[CB]option\f[R]</span>
<span class="line-added">2195 Passes a JIT compilation option to the specified method in place of the</span>
<span class="line-added">2196 last argument (\f[CB]option\f[R]).</span>
<span class="line-added">2197 The compilation option is set at the end, after the method name.</span>
<span class="line-added">2198 For example, to enable the \f[CB]BlockLayoutByFrequency\f[R] option for</span>
<span class="line-added">2199 the \f[CB]append()\f[R] method of the \f[CB]StringBuffer\f[R] class, use the</span>
<span class="line-added">2200 following:</span>
<span class="line-added">2201 .RS</span>
<span class="line-added">2202 .RS</span>
<span class="line-added">2203 .PP</span>
<span class="line-added">2204 \f[CB]\-XX:CompileCommand=option,java/lang/StringBuffer.append,BlockLayoutByFrequency\f[R]</span>
<span class="line-added">2205 .RE</span>
<span class="line-added">2206 .PP</span>
<span class="line-added">2207 You can specify multiple compilation options, separated by commas or</span>
<span class="line-added">2208 spaces.</span>
<span class="line-added">2209 .RE</span>
<span class="line-added">2210 .TP</span>
<span class="line-added">2211 .B \f[CB]print\f[R]</span>
<span class="line-added">2212 Prints generated assembler code after compilation of the specified</span>
<span class="line-added">2213 method.</span>
<span class="line-added">2214 .RS</span>
<span class="line-added">2215 .RE</span>
<span class="line-added">2216 .TP</span>
<span class="line-added">2217 .B \f[CB]quiet\f[R]</span>
<span class="line-added">2218 Instructs not to print the compile commands.</span>
<span class="line-added">2219 By default, the commands that you specify with the</span>
<span class="line-added">2220 \f[CB]\-XX:CompileCommand\f[R] option are printed; for example, if you</span>
<span class="line-added">2221 exclude from compilation the \f[CB]indexOf()\f[R] method of the</span>
<span class="line-added">2222 \f[CB]String\f[R] class, then the following is printed to standard output:</span>
<span class="line-added">2223 .RS</span>
<span class="line-added">2224 .RS</span>
<span class="line-added">2225 .PP</span>
<span class="line-added">2226 \f[CB]CompilerOracle:\ exclude\ java/lang/String.indexOf\f[R]</span>
2227 .RE
2228 .PP
<a name="36" id="anc36"></a><span class="line-modified">2229 You can suppress this by specifying the</span>
<span class="line-modified">2230 \f[CB]\-XX:CompileCommand=quiet\f[R] option before other</span>
<span class="line-modified">2231 \f[CB]\-XX:CompileCommand\f[R] options.</span>
<span class="line-modified">2232 .RE</span>
<span class="line-modified">2233 .RE</span>
<span class="line-modified">2234 .TP</span>
<span class="line-modified">2235 .B \f[CB]\-XX:CompileCommandFile=\f[R]\f[I]filename\f[R]</span>
<span class="line-modified">2236 Sets the file from which JIT compiler commands are read.</span>
<span class="line-modified">2237 By default, the \f[CB]\&amp;.hotspot_compiler\f[R] file is used to store</span>
<span class="line-modified">2238 commands performed by the JIT compiler.</span>
<span class="line-modified">2239 .RS</span>
<span class="line-modified">2240 .PP</span>
<span class="line-modified">2241 Each line in the command file represents a command, a class name, and a</span>
<span class="line-modified">2242 method name for which the command is used.</span>
<span class="line-modified">2243 For example, this line prints assembly code for the \f[CB]toString()\f[R]</span>
<span class="line-modified">2244 method of the \f[CB]String\f[R] class:</span>
<span class="line-modified">2245 .RS</span>
<span class="line-added">2246 .PP</span>
<span class="line-added">2247 \f[CB]print\ java/lang/String\ toString\f[R]</span>
<span class="line-added">2248 .RE</span>
<span class="line-added">2249 .PP</span>
<span class="line-added">2250 If you\[aq]re using commands for the JIT compiler to perform on methods,</span>
<span class="line-added">2251 then see the \f[CB]\-XX:CompileCommand\f[R] option.</span>
<span class="line-added">2252 .RE</span>
<span class="line-added">2253 .TP</span>
<span class="line-added">2254 .B \f[CB]\-XX:CompilerDirectivesFile=\f[R]\f[I]file\f[R]</span>
<span class="line-added">2255 Adds directives from a file to the directives stack when a program</span>
<span class="line-added">2256 starts.</span>
<span class="line-added">2257 See \f[B]Compiler Control\f[R]</span>
<span class="line-added">2258 [https://docs.oracle.com/en/java/javase/12/vm/compiler\-control1.html#GUID\-94AD8194\-786A\-4F19\-BFFF\-278F8E237F3A].</span>
<span class="line-added">2259 .RS</span>
<span class="line-added">2260 .PP</span>
<span class="line-added">2261 The \f[CB]\-XX:CompilerDirectivesFile\f[R] option has to be used together</span>
<span class="line-added">2262 with the \f[CB]\-XX:UnlockDiagnosticVMOptions\f[R] option that unlocks</span>
<span class="line-added">2263 diagnostic JVM options.</span>
<span class="line-added">2264 .RE</span>
<span class="line-added">2265 .TP</span>
<span class="line-added">2266 .B \f[CB]\-XX:+CompilerDirectivesPrint\f[R]</span>
<span class="line-added">2267 Prints the directives stack when the program starts or when a new</span>
<span class="line-added">2268 directive is added.</span>
<span class="line-added">2269 .RS</span>
<span class="line-added">2270 .PP</span>
<span class="line-added">2271 The \f[CB]\-XX:+CompilerDirectivesPrint\f[R] option has to be used</span>
<span class="line-added">2272 together with the \f[CB]\-XX:UnlockDiagnosticVMOptions\f[R] option that</span>
<span class="line-added">2273 unlocks diagnostic JVM options.</span>
<span class="line-added">2274 .RE</span>
<span class="line-added">2275 .TP</span>
<span class="line-added">2276 .B \f[CB]\-XX:CompileOnly=\f[R]\f[I]methods\f[R]</span>
<span class="line-added">2277 Sets the list of methods (separated by commas) to which compilation</span>
<span class="line-added">2278 should be restricted.</span>
<span class="line-added">2279 Only the specified methods are compiled.</span>
<span class="line-added">2280 Specify each method with the full class name (including the packages and</span>
<span class="line-added">2281 subpackages).</span>
<span class="line-added">2282 For example, to compile only the \f[CB]length()\f[R] method of the</span>
<span class="line-added">2283 \f[CB]String\f[R] class and the \f[CB]size()\f[R] method of the</span>
<span class="line-added">2284 \f[CB]List\f[R] class, use the following:</span>
<span class="line-added">2285 .RS</span>
<span class="line-added">2286 .RS</span>
<span class="line-added">2287 .PP</span>
<span class="line-added">2288 \f[CB]\-XX:CompileOnly=java/lang/String.length,java/util/List.size\f[R]</span>
<span class="line-added">2289 .RE</span>
<span class="line-added">2290 .PP</span>
<span class="line-added">2291 Note that the full class name is specified, including all packages and</span>
<span class="line-added">2292 subpackages separated by a slash (\f[CB]/\f[R]).</span>
<span class="line-added">2293 For easier cut and paste operations, it\[aq]s also possible to use the</span>
<span class="line-added">2294 method name format produced by the \f[CB]\-XX:+PrintCompilation\f[R] and</span>
<span class="line-added">2295 \f[CB]\-XX:+LogCompilation\f[R] options:</span>
<span class="line-added">2296 .RS</span>
<span class="line-added">2297 .PP</span>
<span class="line-added">2298 \f[CB]\-XX:CompileOnly=java.lang.String::length,java.util.List::size\f[R]</span>
<span class="line-added">2299 .RE</span>
<span class="line-added">2300 .PP</span>
<span class="line-added">2301 Although wildcards aren\[aq]t supported, you can specify only the class</span>
<span class="line-added">2302 or package name to compile all methods in that class or package, as well</span>
<span class="line-added">2303 as specify just the method to compile methods with this name in any</span>
<span class="line-added">2304 class:</span>
<span class="line-added">2305 .IP</span>
2306 .nf
<a name="37" id="anc37"></a><span class="line-modified">2307 \f[CB]</span>
<span class="line-modified">2308 \-XX:CompileOnly=java/lang/String</span>
<span class="line-added">2309 \-XX:CompileOnly=java/lang</span>
<span class="line-added">2310 \-XX:CompileOnly=.length</span>
<span class="line-added">2311 \f[R]</span>
2312 .fi
<a name="38" id="anc38"></a>


2313 .RE
<a name="39" id="anc39"></a><span class="line-added">2314 .TP</span>
<span class="line-added">2315 .B \f[CB]\-XX:CompileThresholdScaling=\f[R]\f[I]scale\f[R]</span>
<span class="line-added">2316 Provides unified control of first compilation.</span>
<span class="line-added">2317 This option controls when methods are first compiled for both the tiered</span>
<span class="line-added">2318 and the nontiered modes of operation.</span>
<span class="line-added">2319 The \f[CB]CompileThresholdScaling\f[R] option has a floating point value</span>
<span class="line-added">2320 between 0 and +Inf and scales the thresholds corresponding to the</span>
<span class="line-added">2321 current mode of operation (both tiered and nontiered).</span>
<span class="line-added">2322 Setting \f[CB]CompileThresholdScaling\f[R] to a value less than 1.0</span>
<span class="line-added">2323 results in earlier compilation while values greater than 1.0 delay</span>
<span class="line-added">2324 compilation.</span>
<span class="line-added">2325 Setting \f[CB]CompileThresholdScaling\f[R] to 0 is equivalent to disabling</span>
<span class="line-added">2326 compilation.</span>
<span class="line-added">2327 .RS</span>
<span class="line-added">2328 .RE</span>
<span class="line-added">2329 .TP</span>
<span class="line-added">2330 .B \f[CB]\-XX:+DoEscapeAnalysis\f[R]</span>
<span class="line-added">2331 Enables the use of escape analysis.</span>
<span class="line-added">2332 This option is enabled by default.</span>
<span class="line-added">2333 To disable the use of escape analysis, specify</span>
<span class="line-added">2334 \f[CB]\-XX:\-DoEscapeAnalysis\f[R].</span>
<span class="line-added">2335 .RS</span>
<span class="line-added">2336 .RE</span>
<span class="line-added">2337 .TP</span>
<span class="line-added">2338 .B \f[CB]\-XX:InitialCodeCacheSize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">2339 Sets the initial code cache size (in bytes).</span>
<span class="line-added">2340 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,</span>
<span class="line-added">2341 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or</span>
<span class="line-added">2342 \f[CB]G\f[R] to indicate gigabytes.</span>
<span class="line-added">2343 The default value depends on the platform.</span>
<span class="line-added">2344 The initial code cache size shouldn\[aq]t be less than the system\[aq]s</span>
<span class="line-added">2345 minimal memory page size.</span>
<span class="line-added">2346 The following example shows how to set the initial code cache size to 32</span>
<span class="line-added">2347 KB:</span>
<span class="line-added">2348 .RS</span>
<span class="line-added">2349 .RS</span>
<span class="line-added">2350 .PP</span>
<span class="line-added">2351 \f[CB]\-XX:InitialCodeCacheSize=32k\f[R]</span>
<span class="line-added">2352 .RE</span>
<span class="line-added">2353 .RE</span>
<span class="line-added">2354 .TP</span>
<span class="line-added">2355 .B \f[CB]\-XX:+Inline\f[R]</span>
<span class="line-added">2356 Enables method inlining.</span>
<span class="line-added">2357 This option is enabled by default to increase performance.</span>
<span class="line-added">2358 To disable method inlining, specify \f[CB]\-XX:\-Inline\f[R].</span>
<span class="line-added">2359 .RS</span>
<span class="line-added">2360 .RE</span>
<span class="line-added">2361 .TP</span>
<span class="line-added">2362 .B \f[CB]\-XX:InlineSmallCode=\f[R]\f[I]size\f[R]</span>
<span class="line-added">2363 Sets the maximum code size (in bytes) for already compiled methods that</span>
<span class="line-added">2364 may be inlined.</span>
<span class="line-added">2365 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,</span>
<span class="line-added">2366 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or</span>
<span class="line-added">2367 \f[CB]G\f[R] to indicate gigabytes.</span>
<span class="line-added">2368 The default value depends on the platform and on whether tiered</span>
<span class="line-added">2369 compilation is enabled.</span>
<span class="line-added">2370 In the following example it is set to 1000 bytes:</span>
<span class="line-added">2371 .RS</span>
<span class="line-added">2372 .RS</span>
<span class="line-added">2373 .PP</span>
<span class="line-added">2374 \f[CB]\-XX:InlineSmallCode=1000\f[R]</span>
<span class="line-added">2375 .RE</span>
<span class="line-added">2376 .RE</span>
<span class="line-added">2377 .TP</span>
<span class="line-added">2378 .B \f[CB]\-XX:+LogCompilation\f[R]</span>
<span class="line-added">2379 Enables logging of compilation activity to a file named</span>
<span class="line-added">2380 \f[CB]hotspot.log\f[R] in the current working directory.</span>
<span class="line-added">2381 You can specify a different log file path and name using the</span>
<span class="line-added">2382 \f[CB]\-XX:LogFile\f[R] option.</span>
<span class="line-added">2383 .RS</span>
<span class="line-added">2384 .PP</span>
<span class="line-added">2385 By default, this option is disabled and compilation activity isn\[aq]t</span>
<span class="line-added">2386 logged.</span>
<span class="line-added">2387 The \f[CB]\-XX:+LogCompilation\f[R] option has to be used together with</span>
<span class="line-added">2388 the \f[CB]\-XX:UnlockDiagnosticVMOptions\f[R] option that unlocks</span>
<span class="line-added">2389 diagnostic JVM options.</span>
<span class="line-added">2390 .PP</span>
<span class="line-added">2391 You can enable verbose diagnostic output with a message printed to the</span>
<span class="line-added">2392 console every time a method is compiled by using the</span>
<span class="line-added">2393 \f[CB]\-XX:+PrintCompilation\f[R] option.</span>
<span class="line-added">2394 .RE</span>
<span class="line-added">2395 .TP</span>
<span class="line-added">2396 .B \f[CB]\-XX:FreqInlineSize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">2397 Sets the maximum bytecode size (in bytes) of a hot method to be inlined.</span>
<span class="line-added">2398 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,</span>
<span class="line-added">2399 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or</span>
<span class="line-added">2400 \f[CB]G\f[R] to indicate gigabytes.</span>
<span class="line-added">2401 The default value depends on the platform.</span>
<span class="line-added">2402 In the following example it is set to 325 bytes:</span>
<span class="line-added">2403 .RS</span>
<span class="line-added">2404 .RS</span>
<span class="line-added">2405 .PP</span>
<span class="line-added">2406 \f[CB]\-XX:FreqInlineSize=325\f[R]</span>
<span class="line-added">2407 .RE</span>
<span class="line-added">2408 .RE</span>
<span class="line-added">2409 .TP</span>
<span class="line-added">2410 .B \f[CB]\-XX:MaxInlineSize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">2411 Sets the maximum bytecode size (in bytes) of a cold method to be</span>
<span class="line-added">2412 inlined.</span>
<span class="line-added">2413 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,</span>
<span class="line-added">2414 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or</span>
<span class="line-added">2415 \f[CB]G\f[R] to indicate gigabytes.</span>
<span class="line-added">2416 By default, the maximum bytecode size is set to 35 bytes:</span>
<span class="line-added">2417 .RS</span>
<span class="line-added">2418 .RS</span>
<span class="line-added">2419 .PP</span>
<span class="line-added">2420 \f[CB]\-XX:MaxInlineSize=35\f[R]</span>
<span class="line-added">2421 .RE</span>
<span class="line-added">2422 .RE</span>
<span class="line-added">2423 .TP</span>
<span class="line-added">2424 .B \f[CB]\-XX:MaxTrivialSize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">2425 Sets the maximum bytecode size (in bytes) of a trivial method to be</span>
<span class="line-added">2426 inlined.</span>
<span class="line-added">2427 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,</span>
<span class="line-added">2428 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or</span>
<span class="line-added">2429 \f[CB]G\f[R] to indicate gigabytes.</span>
<span class="line-added">2430 By default, the maximum bytecode size of a trivial method is set to 6</span>
<span class="line-added">2431 bytes:</span>
<span class="line-added">2432 .RS</span>
<span class="line-added">2433 .RS</span>
<span class="line-added">2434 .PP</span>
<span class="line-added">2435 \f[CB]\-XX:MaxTrivialSize=6\f[R]</span>
<span class="line-added">2436 .RE</span>
<span class="line-added">2437 .RE</span>
<span class="line-added">2438 .TP</span>
<span class="line-added">2439 .B \f[CB]\-XX:MaxNodeLimit=\f[R]\f[I]nodes\f[R]</span>
<span class="line-added">2440 Sets the maximum number of nodes to be used during single method</span>
<span class="line-added">2441 compilation.</span>
<span class="line-added">2442 By default the value depends on the features enabled.</span>
<span class="line-added">2443 In the following example the maximum number of nodes is set to 100,000:</span>
<span class="line-added">2444 .RS</span>
<span class="line-added">2445 .RS</span>
<span class="line-added">2446 .PP</span>
<span class="line-added">2447 \f[CB]\-XX:MaxNodeLimit=100000\f[R]</span>
<span class="line-added">2448 .RE</span>
<span class="line-added">2449 .RE</span>
<span class="line-added">2450 .TP</span>
<span class="line-added">2451 .B \f[CB]\-XX:NonNMethodCodeHeapSize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">2452 Sets the size in bytes of the code segment containing nonmethod code.</span>
<span class="line-added">2453 .RS</span>
<span class="line-added">2454 .PP</span>
<span class="line-added">2455 A nonmethod code segment containing nonmethod code, such as compiler</span>
<span class="line-added">2456 buffers and the bytecode interpreter.</span>
<span class="line-added">2457 This code type stays in the code cache forever.</span>
<span class="line-added">2458 This flag is used only if \f[CB]\-XX:SegmentedCodeCache\f[R] is enabled.</span>
<span class="line-added">2459 .RE</span>
<span class="line-added">2460 .TP</span>
<span class="line-added">2461 .B \f[CB]\-XX:NonProfiledCodeHeapSize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">2462 Sets the size in bytes of the code segment containing nonprofiled</span>
<span class="line-added">2463 methods.</span>
<span class="line-added">2464 This flag is used only if \f[CB]\-XX:SegmentedCodeCache\f[R] is enabled.</span>
<span class="line-added">2465 .RS</span>
<span class="line-added">2466 .RE</span>
<span class="line-added">2467 .TP</span>
<span class="line-added">2468 .B \f[CB]\-XX:+OptimizeStringConcat\f[R]</span>
<span class="line-added">2469 Enables the optimization of \f[CB]String\f[R] concatenation operations.</span>
<span class="line-added">2470 This option is enabled by default.</span>
<span class="line-added">2471 To disable the optimization of \f[CB]String\f[R] concatenation operations,</span>
<span class="line-added">2472 specify \f[CB]\-XX:\-OptimizeStringConcat\f[R].</span>
<span class="line-added">2473 .RS</span>
<span class="line-added">2474 .RE</span>
<span class="line-added">2475 .TP</span>
<span class="line-added">2476 .B \f[CB]\-XX:+PrintAssembly\f[R]</span>
<span class="line-added">2477 Enables printing of assembly code for bytecoded and native methods by</span>
<span class="line-added">2478 using the external \f[CB]hsdis\-&lt;arch&gt;.so\f[R] or \f[CB]\&amp;.dll\f[R] library.</span>
<span class="line-added">2479 For 64\-bit VM on Windows, it\[aq]s \f[CB]hsdis\-amd64.dll\f[R].</span>
<span class="line-added">2480 This lets you to see the generated code, which may help you to diagnose</span>
<span class="line-added">2481 performance issues.</span>
<span class="line-added">2482 .RS</span>
<span class="line-added">2483 .PP</span>
<span class="line-added">2484 By default, this option is disabled and assembly code isn\[aq]t printed.</span>
<span class="line-added">2485 The \f[CB]\-XX:+PrintAssembly\f[R] option has to be used together with the</span>
<span class="line-added">2486 \f[CB]\-XX:UnlockDiagnosticVMOptions\f[R] option that unlocks diagnostic</span>
<span class="line-added">2487 JVM options.</span>
<span class="line-added">2488 .RE</span>
<span class="line-added">2489 .TP</span>
<span class="line-added">2490 .B \f[CB]\-XX:ProfiledCodeHeapSize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">2491 Sets the size in bytes of the code segment containing profiled methods.</span>
<span class="line-added">2492 This flag is used only if \f[CB]\-XX:SegmentedCodeCache\f[R] is enabled.</span>
<span class="line-added">2493 .RS</span>
<span class="line-added">2494 .RE</span>
<span class="line-added">2495 .TP</span>
<span class="line-added">2496 .B \f[CB]\-XX:+PrintCompilation\f[R]</span>
<span class="line-added">2497 Enables verbose diagnostic output from the JVM by printing a message to</span>
<span class="line-added">2498 the console every time a method is compiled.</span>
<span class="line-added">2499 This lets you to see which methods actually get compiled.</span>
<span class="line-added">2500 By default, this option is disabled and diagnostic output isn\[aq]t</span>
<span class="line-added">2501 printed.</span>
<span class="line-added">2502 .RS</span>
2503 .PP
<a name="40" id="anc40"></a><span class="line-modified">2504 You can also log compilation activity to a file by using the</span>
<span class="line-modified">2505 \f[CB]\-XX:+LogCompilation\f[R] option.</span>
<span class="line-modified">2506 .RE</span>
<span class="line-modified">2507 .TP</span>
<span class="line-modified">2508 .B \f[CB]\-XX:+PrintInlining\f[R]</span>
<span class="line-modified">2509 Enables printing of inlining decisions.</span>
<span class="line-modified">2510 This let\[aq]s you see which methods are getting inlined.</span>
<span class="line-modified">2511 .RS</span>
<span class="line-modified">2512 .PP</span>
<span class="line-modified">2513 By default, this option is disabled and inlining information isn\[aq]t</span>
<span class="line-modified">2514 printed.</span>
<span class="line-modified">2515 The \f[CB]\-XX:+PrintInlining\f[R] option has to be used together with the</span>
<span class="line-modified">2516 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R] option that unlocks diagnostic</span>
<span class="line-modified">2517 JVM options.</span>
<span class="line-modified">2518 .RE</span>
<span class="line-modified">2519 .TP</span>
<span class="line-modified">2520 .B \f[CB]\-XX:ReservedCodeCacheSize=\f[R]\f[I]size\f[R]</span>
<span class="line-modified">2521 Sets the maximum code cache size (in bytes) for JIT\-compiled code.</span>
<span class="line-modified">2522 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,</span>
<span class="line-modified">2523 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or</span>
<span class="line-added">2524 \f[CB]G\f[R] to indicate gigabytes.</span>
<span class="line-added">2525 The default maximum code cache size is 240 MB; if you disable tiered</span>
<span class="line-added">2526 compilation with the option \f[CB]\-XX:\-TieredCompilation\f[R], then the</span>
<span class="line-added">2527 default size is 48 MB.</span>
<span class="line-added">2528 This option has a limit of 2 GB; otherwise, an error is generated.</span>
<span class="line-added">2529 The maximum code cache size shouldn\[aq]t be less than the initial code</span>
<span class="line-added">2530 cache size; see the option \f[CB]\-XX:InitialCodeCacheSize\f[R].</span>
<span class="line-added">2531 .RS</span>
<span class="line-added">2532 .RE</span>
<span class="line-added">2533 .TP</span>
<span class="line-added">2534 .B \f[CB]\-XX:RTMAbortRatio=\f[R]\f[I]abort_ratio\f[R]</span>
<span class="line-added">2535 Specifies the RTM abort ratio is specified as a percentage (%) of all</span>
<span class="line-added">2536 executed RTM transactions.</span>
<span class="line-added">2537 If a number of aborted transactions becomes greater than this ratio,</span>
<span class="line-added">2538 then the compiled code is deoptimized.</span>
<span class="line-added">2539 This ratio is used when the \f[CB]\-XX:+UseRTMDeopt\f[R] option is</span>
<span class="line-added">2540 enabled.</span>
<span class="line-added">2541 The default value of this option is 50.</span>
<span class="line-added">2542 This means that the compiled code is deoptimized if 50% of all</span>
<span class="line-added">2543 transactions are aborted.</span>
<span class="line-added">2544 .RS</span>
<span class="line-added">2545 .RE</span>
<span class="line-added">2546 .TP</span>
<span class="line-added">2547 .B \f[CB]\-XX:RTMRetryCount=\f[R]\f[I]number_of_retries\f[R]</span>
<span class="line-added">2548 Specifies the number of times that the RTM locking code is retried, when</span>
<span class="line-added">2549 it is aborted or busy, before falling back to the normal locking</span>
<span class="line-added">2550 mechanism.</span>
<span class="line-added">2551 The default value for this option is 5.</span>
<span class="line-added">2552 The \f[CB]\-XX:UseRTMLocking\f[R] option must be enabled.</span>
<span class="line-added">2553 .RS</span>
<span class="line-added">2554 .RE</span>
<span class="line-added">2555 .TP</span>
<span class="line-added">2556 .B \f[CB]\-XX:+SegmentedCodeCache\f[R]</span>
<span class="line-added">2557 Enables segmentation of the code cache.</span>
<span class="line-added">2558 Without the \f[CB]\-XX:+SegmentedCodeCache\f[R], the code cache consists</span>
<span class="line-added">2559 of one large segment.</span>
<span class="line-added">2560 With \f[CB]\-XX:+SegmentedCodeCache\f[R], we have separate segments for</span>
<span class="line-added">2561 nonmethod, profiled method, and nonprofiled method code.</span>
<span class="line-added">2562 These segments aren\[aq]t resized at runtime.</span>
<span class="line-added">2563 The feature is enabled by default if tiered compilation is enabled</span>
<span class="line-added">2564 (\f[CB]\-XX:+TieredCompilation\f[R] ) and</span>
<span class="line-added">2565 \f[CB]\-XX:ReservedCodeCacheSize\f[R] &gt;= 240 MB.</span>
<span class="line-added">2566 The advantages are better control of the memory footprint, reduced code</span>
<span class="line-added">2567 fragmentation, and better iTLB/iCache behavior due to improved locality.</span>
<span class="line-added">2568 iTLB/iCache is a CPU\-specific term meaning Instruction Translation</span>
<span class="line-added">2569 Lookaside Buffer (ITLB).</span>
<span class="line-added">2570 ICache is an instruction cache in theCPU.</span>
<span class="line-added">2571 The implementation of the code cache can be found in the file:</span>
<span class="line-added">2572 \f[CB]/share/vm/code/codeCache.cpp\f[R].</span>
<span class="line-added">2573 .RS</span>
<span class="line-added">2574 .RE</span>
<span class="line-added">2575 .TP</span>
<span class="line-added">2576 .B \f[CB]\-XX:StartAggressiveSweepingAt=\f[R]\f[I]percent\f[R]</span>
<span class="line-added">2577 Forces stack scanning of active methods to aggressively remove unused</span>
<span class="line-added">2578 code when only the given percentage of the code cache is free.</span>
<span class="line-added">2579 The default value is 10%.</span>
<span class="line-added">2580 .RS</span>
<span class="line-added">2581 .RE</span>
<span class="line-added">2582 .TP</span>
<span class="line-added">2583 .B \f[CB]\-XX:\-TieredCompilation\f[R]</span>
<span class="line-added">2584 Disables the use of tiered compilation.</span>
<span class="line-added">2585 By default, this option is enabled.</span>
<span class="line-added">2586 .RS</span>
<span class="line-added">2587 .RE</span>
<span class="line-added">2588 .TP</span>
<span class="line-added">2589 .B \f[CB]\-XX:UseSSE=\f[R]\f[I]version\f[R]</span>
<span class="line-added">2590 Enables the use of SSE instruction set of a specified version.</span>
<span class="line-added">2591 Is set by default to the highest supported version available (x86 only).</span>
<span class="line-added">2592 .RS</span>
<span class="line-added">2593 .RE</span>
<span class="line-added">2594 .TP</span>
<span class="line-added">2595 .B \f[CB]\-XX:UseAVX=\f[R]\f[I]version\f[R]</span>
<span class="line-added">2596 Enables the use of AVX instruction set of a specified version.</span>
<span class="line-added">2597 Is set by default to the highest supported version available (x86 only).</span>
<span class="line-added">2598 .RS</span>
<span class="line-added">2599 .RE</span>
<span class="line-added">2600 .TP</span>
<span class="line-added">2601 .B \f[CB]\-XX:+UseAES\f[R]</span>
<span class="line-added">2602 Enables hardware\-based AES intrinsics for hardware that supports it.</span>
<span class="line-added">2603 This option is on by default on hardware that has the necessary</span>
<span class="line-added">2604 instructions.</span>
<span class="line-added">2605 The \f[CB]\-XX:+UseAES\f[R] is used in conjunction with UseAESIntrinsics.</span>
<span class="line-added">2606 Flags that control intrinsics now require the option</span>
<span class="line-added">2607 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].</span>
<span class="line-added">2608 .RS</span>
<span class="line-added">2609 .RE</span>
<span class="line-added">2610 .TP</span>
<span class="line-added">2611 .B \f[CB]\-XX:+UseAESIntrinsics\f[R]</span>
<span class="line-added">2612 Enables AES intrinsics.</span>
<span class="line-added">2613 Specifying\f[CB]\-XX:+UseAESIntrinsics\f[R] is equivalent to also enabling</span>
<span class="line-added">2614 \f[CB]\-XX:+UseAES\f[R].</span>
<span class="line-added">2615 To disable hardware\-based AES intrinsics, specify</span>
<span class="line-added">2616 \f[CB]\-XX:\-UseAES\ \-XX:\-UseAESIntrinsics\f[R].</span>
<span class="line-added">2617 For example, to enable hardware AES, use the following flags:</span>
<span class="line-added">2618 .RS</span>
<span class="line-added">2619 .RS</span>
<span class="line-added">2620 .PP</span>
<span class="line-added">2621 \f[CB]\-XX:+UseAES\ \-XX:+UseAESIntrinsics\f[R]</span>
<span class="line-added">2622 .RE</span>
<span class="line-added">2623 .PP</span>
<span class="line-added">2624 Flags that control intrinsics now require the option</span>
<span class="line-added">2625 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].</span>
<span class="line-added">2626 .RE</span>
<span class="line-added">2627 .TP</span>
<span class="line-added">2628 .B \f[CB]\-XX:+UseAESCTRIntrinsics\f[R]</span>
<span class="line-added">2629 Analogous to \f[CB]\-XX:+UseAESIntrinsics\f[R] enables AES/CTR intrinsics.</span>
<span class="line-added">2630 .RS</span>
<span class="line-added">2631 .RE</span>
<span class="line-added">2632 .TP</span>
<span class="line-added">2633 .B \f[CB]\-XX:+UseGHASHIntrinsics\f[R]</span>
<span class="line-added">2634 Controls the use of GHASH intrinsics.</span>
<span class="line-added">2635 Enabled by default on platforms that support the corresponding</span>
<span class="line-added">2636 instructions.</span>
<span class="line-added">2637 Flags that control intrinsics now require the option</span>
<span class="line-added">2638 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].</span>
<span class="line-added">2639 .RS</span>
<span class="line-added">2640 .RE</span>
<span class="line-added">2641 .TP</span>
<span class="line-added">2642 .B \f[CB]\-XX:+UseBASE64Intrinsics\f[R]</span>
<span class="line-added">2643 Controls the use of accelerated BASE64 encoding routines for</span>
<span class="line-added">2644 \f[CB]java.util.Base64\f[R].</span>
<span class="line-added">2645 Enabled by default on platforms that support it.</span>
<span class="line-added">2646 Flags that control intrinsics now require the option</span>
<span class="line-added">2647 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].</span>
<span class="line-added">2648 .RS</span>
<span class="line-added">2649 .RE</span>
<span class="line-added">2650 .TP</span>
<span class="line-added">2651 .B \f[CB]\-XX:+UseAdler32Intrinsics\f[R]</span>
<span class="line-added">2652 Controls the use of Adler32 checksum algorithm intrinsic for</span>
<span class="line-added">2653 \f[CB]java.util.zip.Adler32\f[R].</span>
<span class="line-added">2654 Enabled by default on platforms that support it.</span>
<span class="line-added">2655 Flags that control intrinsics now require the option</span>
<span class="line-added">2656 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].</span>
<span class="line-added">2657 .RS</span>
<span class="line-added">2658 .RE</span>
<span class="line-added">2659 .TP</span>
<span class="line-added">2660 .B \f[CB]\-XX:+UseCRC32Intrinsics\f[R]</span>
<span class="line-added">2661 Controls the use of CRC32 intrinsics for \f[CB]java.util.zip.CRC32\f[R].</span>
<span class="line-added">2662 Enabled by default on platforms that support it.</span>
<span class="line-added">2663 Flags that control intrinsics now require the option</span>
<span class="line-added">2664 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].</span>
<span class="line-added">2665 .RS</span>
<span class="line-added">2666 .RE</span>
<span class="line-added">2667 .TP</span>
<span class="line-added">2668 .B \f[CB]\-XX:+UseCRC32CIntrinsics\f[R]</span>
<span class="line-added">2669 Controls the use of CRC32C intrinsics for \f[CB]java.util.zip.CRC32C\f[R].</span>
<span class="line-added">2670 Enabled by default on platforms that support it.</span>
<span class="line-added">2671 Flags that control intrinsics now require the option</span>
<span class="line-added">2672 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].</span>
<span class="line-added">2673 .RS</span>
<span class="line-added">2674 .RE</span>
<span class="line-added">2675 .TP</span>
<span class="line-added">2676 .B \f[CB]\-XX:+UseSHA\f[R]</span>
<span class="line-added">2677 Enables hardware\-based intrinsics for SHA crypto hash functions for</span>
<span class="line-added">2678 SPARC hardware.</span>
<span class="line-added">2679 The \f[CB]UseSHA\f[R] option is used in conjunction with the</span>
<span class="line-added">2680 \f[CB]UseSHA1Intrinsics\f[R], \f[CB]UseSHA256Intrinsics\f[R], and</span>
<span class="line-added">2681 \f[CB]UseSHA512Intrinsics\f[R] options.</span>
<span class="line-added">2682 .RS</span>
<span class="line-added">2683 .PP</span>
<span class="line-added">2684 The \f[CB]UseSHA\f[R] and \f[CB]UseSHA*Intrinsics\f[R] flags are enabled by</span>
<span class="line-added">2685 default on machines that support the corresponding instructions.</span>
<span class="line-added">2686 .PP</span>
<span class="line-added">2687 This feature is applicable only when using the</span>
<span class="line-added">2688 \f[CB]sun.security.provider.Sun\f[R] provider for SHA operations.</span>
<span class="line-added">2689 Flags that control intrinsics now require the option</span>
<span class="line-added">2690 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].</span>
<span class="line-added">2691 .PP</span>
<span class="line-added">2692 To disable all hardware\-based SHA intrinsics, specify the</span>
<span class="line-added">2693 \f[CB]\-XX:\-UseSHA\f[R].</span>
<span class="line-added">2694 To disable only a particular SHA intrinsic, use the appropriate</span>
<span class="line-added">2695 corresponding option.</span>
<span class="line-added">2696 For example: \f[CB]\-XX:\-UseSHA256Intrinsics\f[R].</span>
<span class="line-added">2697 .RE</span>
<span class="line-added">2698 .TP</span>
<span class="line-added">2699 .B \f[CB]\-XX:+UseSHA1Intrinsics\f[R]</span>
<span class="line-added">2700 Enables intrinsics for SHA\-1 crypto hash function.</span>
<span class="line-added">2701 Flags that control intrinsics now require the option</span>
<span class="line-added">2702 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].</span>
<span class="line-added">2703 .RS</span>
<span class="line-added">2704 .RE</span>
<span class="line-added">2705 .TP</span>
<span class="line-added">2706 .B \f[CB]\-XX:+UseSHA256Intrinsics\f[R]</span>
<span class="line-added">2707 Enables intrinsics for SHA\-224 and SHA\-256 crypto hash functions.</span>
<span class="line-added">2708 Flags that control intrinsics now require the option</span>
<span class="line-added">2709 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].</span>
<span class="line-added">2710 .RS</span>
<span class="line-added">2711 .RE</span>
<span class="line-added">2712 .TP</span>
<span class="line-added">2713 .B \f[CB]\-XX:+UseSHA512Intrinsics\f[R]</span>
<span class="line-added">2714 Enables intrinsics for SHA\-384 and SHA\-512 crypto hash functions.</span>
<span class="line-added">2715 Flags that control intrinsics now require the option</span>
<span class="line-added">2716 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].</span>
<span class="line-added">2717 .RS</span>
<span class="line-added">2718 .RE</span>
<span class="line-added">2719 .TP</span>
<span class="line-added">2720 .B \f[CB]\-XX:+UseMathExactIntrinsics\f[R]</span>
<span class="line-added">2721 Enables intrinsification of various \f[CB]java.lang.Math.*Exact()\f[R]</span>
<span class="line-added">2722 functions.</span>
<span class="line-added">2723 Enabled by default.</span>
<span class="line-added">2724 Flags that control intrinsics now require the option</span>
<span class="line-added">2725 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].</span>
<span class="line-added">2726 .RS</span>
<span class="line-added">2727 .RE</span>
<span class="line-added">2728 .TP</span>
<span class="line-added">2729 .B \f[CB]\-XX:+UseMultiplyToLenIntrinsic\f[R]</span>
<span class="line-added">2730 Enables intrinsification of \f[CB]BigInteger.multiplyToLen()\f[R].</span>
<span class="line-added">2731 Enabled by default on platforms that support it.</span>
<span class="line-added">2732 Flags that control intrinsics now require the option</span>
<span class="line-added">2733 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].</span>
<span class="line-added">2734 .RS</span>
<span class="line-added">2735 .RE</span>
<span class="line-added">2736 .TP</span>
<span class="line-added">2737 .B \-XX:+UseSquareToLenIntrinsic</span>
<span class="line-added">2738 Enables intrinsification of \f[CB]BigInteger.squareToLen()\f[R].</span>
<span class="line-added">2739 Enabled by default on platforms that support it.</span>
<span class="line-added">2740 Flags that control intrinsics now require the option</span>
<span class="line-added">2741 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].</span>
<span class="line-added">2742 .RS</span>
<span class="line-added">2743 .RE</span>
<span class="line-added">2744 .TP</span>
<span class="line-added">2745 .B \-XX:+UseMulAddIntrinsic</span>
<span class="line-added">2746 Enables intrinsification of \f[CB]BigInteger.mulAdd()\f[R].</span>
<span class="line-added">2747 Enabled by default on platforms that support it.</span>
<span class="line-added">2748 Flags that control intrinsics now require the option</span>
<span class="line-added">2749 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].</span>
<span class="line-added">2750 .RS</span>
<span class="line-added">2751 .RE</span>
<span class="line-added">2752 .TP</span>
<span class="line-added">2753 .B \-XX:+UseMontgomeryMultiplyIntrinsic</span>
<span class="line-added">2754 Enables intrinsification of \f[CB]BigInteger.montgomeryMultiply()\f[R].</span>
<span class="line-added">2755 Enabled by default on platforms that support it.</span>
<span class="line-added">2756 Flags that control intrinsics now require the option</span>
<span class="line-added">2757 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].</span>
<span class="line-added">2758 .RS</span>
<span class="line-added">2759 .RE</span>
<span class="line-added">2760 .TP</span>
<span class="line-added">2761 .B \-XX:+UseMontgomerySquareIntrinsic</span>
<span class="line-added">2762 Enables intrinsification of \f[CB]BigInteger.montgomerySquare()\f[R].</span>
<span class="line-added">2763 Enabled by default on platforms that support it.</span>
<span class="line-added">2764 Flags that control intrinsics now require the option</span>
<span class="line-added">2765 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].</span>
<span class="line-added">2766 .RS</span>
<span class="line-added">2767 .RE</span>
<span class="line-added">2768 .TP</span>
<span class="line-added">2769 .B \f[CB]\-XX:+UseCMoveUnconditionally\f[R]</span>
<span class="line-added">2770 Generates CMove (scalar and vector) instructions regardless of</span>
<span class="line-added">2771 profitability analysis.</span>
<span class="line-added">2772 .RS</span>
<span class="line-added">2773 .RE</span>
<span class="line-added">2774 .TP</span>
<span class="line-added">2775 .B \f[CB]\-XX:+UseCodeCacheFlushing\f[R]</span>
<span class="line-added">2776 Enables flushing of the code cache before shutting down the compiler.</span>
<span class="line-added">2777 This option is enabled by default.</span>
<span class="line-added">2778 To disable flushing of the code cache before shutting down the compiler,</span>
<span class="line-added">2779 specify \f[CB]\-XX:\-UseCodeCacheFlushing\f[R].</span>
<span class="line-added">2780 .RS</span>
<span class="line-added">2781 .RE</span>
<span class="line-added">2782 .TP</span>
<span class="line-added">2783 .B \f[CB]\-XX:+UseCondCardMark\f[R]</span>
<span class="line-added">2784 Enables checking if the card is already marked before updating the card</span>
<span class="line-added">2785 table.</span>
<span class="line-added">2786 This option is disabled by default.</span>
<span class="line-added">2787 It should be used only on machines with multiple sockets, where it</span>
<span class="line-added">2788 increases the performance of Java applications that rely on concurrent</span>
<span class="line-added">2789 operations.</span>
<span class="line-added">2790 .RS</span>
<span class="line-added">2791 .RE</span>
<span class="line-added">2792 .TP</span>
<span class="line-added">2793 .B \f[CB]\-XX:+UseCountedLoopSafepoints\f[R]</span>
<span class="line-added">2794 Keeps safepoints in counted loops.</span>
<span class="line-added">2795 Its default value depends on whether the selected garbage collector</span>
<span class="line-added">2796 requires low latency safepoints.</span>
<span class="line-added">2797 .RS</span>
<span class="line-added">2798 .RE</span>
<span class="line-added">2799 .TP</span>
<span class="line-added">2800 .B \f[CB]\-XX:LoopStripMiningIter=\f[R]\f[I]number_of_iterations\f[R]</span>
<span class="line-added">2801 Controls the number of iterations in the inner strip mined loop.</span>
<span class="line-added">2802 Strip mining transforms counted loops into two level nested loops.</span>
<span class="line-added">2803 Safepoints are kept in the outer loop while the inner loop can execute</span>
<span class="line-added">2804 at full speed.</span>
<span class="line-added">2805 This option controls the maximum number of iterations in the inner loop.</span>
<span class="line-added">2806 The default value is 1,000.</span>
<span class="line-added">2807 .RS</span>
<span class="line-added">2808 .RE</span>
<span class="line-added">2809 .TP</span>
<span class="line-added">2810 .B \f[CB]\-XX:LoopStripMiningIterShortLoop\f[R]=\f[I]number_of_iterations\f[R]</span>
<span class="line-added">2811 Controls loop strip mining optimization.</span>
<span class="line-added">2812 Loops with the number of iterations less than specified will not have</span>
<span class="line-added">2813 safepoints in them.</span>
<span class="line-added">2814 Default value is 1/10th of \f[CB]\-XX:LoopStripMiningIter\f[R].</span>
<span class="line-added">2815 .RS</span>
<span class="line-added">2816 .RE</span>
<span class="line-added">2817 .TP</span>
<span class="line-added">2818 .B \f[CB]\-XX:+UseFMA\f[R]</span>
<span class="line-added">2819 Enables hardware\-based FMA intrinsics for hardware where FMA</span>
<span class="line-added">2820 instructions are available (such as, Intel, SPARC, and ARM64).</span>
<span class="line-added">2821 FMA intrinsics are generated for the</span>
<span class="line-added">2822 \f[CB]java.lang.Math.fma(\f[R]\f[I]a\f[R]\f[CB],\f[R] \f[I]b\f[R]\f[CB],\f[R]</span>
<span class="line-added">2823 \f[I]c\f[R]\f[CB])\f[R] methods that calculate the value of \f[CB](\f[R]</span>
<span class="line-added">2824 \f[I]a\f[R] \f[CB]*\f[R] \f[I]b\f[R] \f[CB]+\f[R] \f[I]c\f[R] \f[CB])\f[R]</span>
<span class="line-added">2825 expressions.</span>
<span class="line-added">2826 .RS</span>
<span class="line-added">2827 .RE</span>
<span class="line-added">2828 .TP</span>
<span class="line-added">2829 .B \f[CB]\-XX:+UseRTMDeopt\f[R]</span>
<span class="line-added">2830 Autotunes RTM locking depending on the abort ratio.</span>
<span class="line-added">2831 This ratio is specified by the \f[CB]\-XX:RTMAbortRatio\f[R] option.</span>
<span class="line-added">2832 If the number of aborted transactions exceeds the abort ratio, then the</span>
<span class="line-added">2833 method containing the lock is deoptimized and recompiled with all locks</span>
<span class="line-added">2834 as normal locks.</span>
<span class="line-added">2835 This option is disabled by default.</span>
<span class="line-added">2836 The \f[CB]\-XX:+UseRTMLocking\f[R] option must be enabled.</span>
<span class="line-added">2837 .RS</span>
<span class="line-added">2838 .RE</span>
<span class="line-added">2839 .TP</span>
<span class="line-added">2840 .B \f[CB]\-XX:+UseRTMLocking\f[R]</span>
<span class="line-added">2841 Generates Restricted Transactional Memory (RTM) locking code for all</span>
<span class="line-added">2842 inflated locks, with the normal locking mechanism as the fallback</span>
<span class="line-added">2843 handler.</span>
<span class="line-added">2844 This option is disabled by default.</span>
<span class="line-added">2845 Options related to RTM are available only on x86 CPUs that support</span>
<span class="line-added">2846 Transactional Synchronization Extensions (TSX).</span>
<span class="line-added">2847 .RS</span>
<span class="line-added">2848 .PP</span>
<span class="line-added">2849 RTM is part of Intel\[aq]s TSX, which is an x86 instruction set</span>
<span class="line-added">2850 extension and facilitates the creation of multithreaded applications.</span>
<span class="line-added">2851 RTM introduces the new instructions \f[CB]XBEGIN\f[R], \f[CB]XABORT\f[R],</span>
<span class="line-added">2852 \f[CB]XEND\f[R], and \f[CB]XTEST\f[R].</span>
<span class="line-added">2853 The \f[CB]XBEGIN\f[R] and \f[CB]XEND\f[R] instructions enclose a set of</span>
<span class="line-added">2854 instructions to run as a transaction.</span>
<span class="line-added">2855 If no conflict is found when running the transaction, then the memory</span>
<span class="line-added">2856 and register modifications are committed together at the \f[CB]XEND\f[R]</span>
<span class="line-added">2857 instruction.</span>
<span class="line-added">2858 The \f[CB]XABORT\f[R] instruction can be used to explicitly abort a</span>
<span class="line-added">2859 transaction and the \f[CB]XEND\f[R] instruction checks if a set of</span>
<span class="line-added">2860 instructions is being run in a transaction.</span>
<span class="line-added">2861 .PP</span>
<span class="line-added">2862 A lock on a transaction is inflated when another thread tries to access</span>
<span class="line-added">2863 the same transaction, thereby blocking the thread that didn\[aq]t</span>
<span class="line-added">2864 originally request access to the transaction.</span>
<span class="line-added">2865 RTM requires that a fallback set of operations be specified in case a</span>
<span class="line-added">2866 transaction aborts or fails.</span>
<span class="line-added">2867 An RTM lock is a lock that has been delegated to the TSX\[aq]s system.</span>
<span class="line-added">2868 .PP</span>
<span class="line-added">2869 RTM improves performance for highly contended locks with low conflict in</span>
<span class="line-added">2870 a critical region (which is code that must not be accessed by more than</span>
<span class="line-added">2871 one thread concurrently).</span>
<span class="line-added">2872 RTM also improves the performance of coarse\-grain locking, which</span>
<span class="line-added">2873 typically doesn\[aq]t perform well in multithreaded applications.</span>
<span class="line-added">2874 (Coarse\-grain locking is the strategy of holding locks for long periods</span>
<span class="line-added">2875 to minimize the overhead of taking and releasing locks, while</span>
<span class="line-added">2876 fine\-grained locking is the strategy of trying to achieve maximum</span>
<span class="line-added">2877 parallelism by locking only when necessary and unlocking as soon as</span>
<span class="line-added">2878 possible.) Also, for lightly contended locks that are used by different</span>
<span class="line-added">2879 threads, RTM can reduce false cache line sharing, also known as cache</span>
<span class="line-added">2880 line ping\-pong.</span>
<span class="line-added">2881 This occurs when multiple threads from different processors are</span>
<span class="line-added">2882 accessing different resources, but the resources share the same cache</span>
<span class="line-added">2883 line.</span>
<span class="line-added">2884 As a result, the processors repeatedly invalidate the cache lines of</span>
<span class="line-added">2885 other processors, which forces them to read from main memory instead of</span>
<span class="line-added">2886 their cache.</span>
<span class="line-added">2887 .RE</span>
<span class="line-added">2888 .TP</span>
<span class="line-added">2889 .B \f[CB]\-XX:+UseSuperWord\f[R]</span>
<span class="line-added">2890 Enables the transformation of scalar operations into superword</span>
<span class="line-added">2891 operations.</span>
<span class="line-added">2892 Superword is a vectorization optimization.</span>
<span class="line-added">2893 This option is enabled by default.</span>
<span class="line-added">2894 To disable the transformation of scalar operations into superword</span>
<span class="line-added">2895 operations, specify \f[CB]\-XX:\-UseSuperWord\f[R].</span>
<span class="line-added">2896 .RS</span>
<span class="line-added">2897 .RE</span>
<span class="line-added">2898 .SH ADVANCED SERVICEABILITY OPTIONS FOR JAVA</span>
<span class="line-added">2899 .PP</span>
<span class="line-added">2900 These \f[CB]java\f[R] options provide the ability to gather system</span>
<span class="line-added">2901 information and perform extensive debugging.</span>
<span class="line-added">2902 .TP</span>
<span class="line-added">2903 .B \f[CB]\-XX:+DisableAttachMechanism\f[R]</span>
<span class="line-added">2904 Disables the mechanism that lets tools attach to the JVM.</span>
<span class="line-added">2905 By default, this option is disabled, meaning that the attach mechanism</span>
<span class="line-added">2906 is enabled and you can use diagnostics and troubleshooting tools such as</span>
<span class="line-added">2907 \f[CB]jcmd\f[R], \f[CB]jstack\f[R], \f[CB]jmap\f[R], and \f[CB]jinfo\f[R].</span>
<span class="line-added">2908 .RS</span>
<span class="line-added">2909 .RS</span>
<span class="line-added">2910 .PP</span>
<span class="line-added">2911 \f[B]Note:\f[R] The tools such as \f[B]jcmd\f[R], \f[B]jinfo\f[R],</span>
<span class="line-added">2912 \f[B]jmap\f[R], and \f[B]jstack\f[R] shipped with the JDK aren\[aq]t</span>
<span class="line-added">2913 supported when using the tools from one JDK version to troubleshoot a</span>
<span class="line-added">2914 different JDK version.</span>
<span class="line-added">2915 .RE</span>
<span class="line-added">2916 .RE</span>
<span class="line-added">2917 .TP</span>
<span class="line-added">2918 .B \f[CB]\-XX:+ExtendedDTraceProbes\f[R]</span>
<span class="line-added">2919 \f[B]Oracle Solaris, Linux, and macOS:\f[R] Enables additional</span>
<span class="line-added">2920 \f[CB]dtrace\f[R] tool probes that affect the performance.</span>
<span class="line-added">2921 By default, this option is disabled and \f[CB]dtrace\f[R] performs only</span>
<span class="line-added">2922 standard probes.</span>
<span class="line-added">2923 .RS</span>
<span class="line-added">2924 .RE</span>
<span class="line-added">2925 .TP</span>
<span class="line-added">2926 .B \f[CB]\-XX:+HeapDumpOnOutOfMemoryError\f[R]</span>
<span class="line-added">2927 Enables the dumping of the Java heap to a file in the current directory</span>
<span class="line-added">2928 by using the heap profiler (HPROF) when a</span>
<span class="line-added">2929 \f[CB]java.lang.OutOfMemoryError\f[R] exception is thrown.</span>
<span class="line-added">2930 You can explicitly set the heap dump file path and name using the</span>
<span class="line-added">2931 \f[CB]\-XX:HeapDumpPath\f[R] option.</span>
<span class="line-added">2932 By default, this option is disabled and the heap isn\[aq]t dumped when</span>
<span class="line-added">2933 an \f[CB]OutOfMemoryError\f[R] exception is thrown.</span>
<span class="line-added">2934 .RS</span>
<span class="line-added">2935 .RE</span>
<span class="line-added">2936 .TP</span>
<span class="line-added">2937 .B \f[CB]\-XX:HeapDumpPath=path\f[R]</span>
<span class="line-added">2938 Sets the path and file name for writing the heap dump provided by the</span>
<span class="line-added">2939 heap profiler (HPROF) when the \f[CB]\-XX:+HeapDumpOnOutOfMemoryError\f[R]</span>
<span class="line-added">2940 option is set.</span>
<span class="line-added">2941 By default, the file is created in the current working directory, and</span>
<span class="line-added">2942 it\[aq]s named \f[CB]java_pid&lt;pid&gt;.hprof\f[R] where \f[CB]&lt;pid&gt;\f[R] is the</span>
<span class="line-added">2943 identifier of the process that caused the error.</span>
<span class="line-added">2944 The following example shows how to set the default file explicitly</span>
<span class="line-added">2945 (\f[CB]%p\f[R] represents the current process identifier):</span>
<span class="line-added">2946 .RS</span>
<span class="line-added">2947 .RS</span>
<span class="line-added">2948 .PP</span>
<span class="line-added">2949 \f[CB]\-XX:HeapDumpPath=./java_pid%p.hprof\f[R]</span>
<span class="line-added">2950 .RE</span>
<span class="line-added">2951 .IP \[bu] 2</span>
<span class="line-added">2952 \f[B]Oracle Solaris, Linux, and macOS:\f[R] The following example shows</span>
<span class="line-added">2953 how to set the heap dump file to</span>
<span class="line-added">2954 \f[CB]/var/log/java/java_heapdump.hprof\f[R]:</span>
<span class="line-added">2955 .RS 2</span>
<span class="line-added">2956 .RS</span>
<span class="line-added">2957 .PP</span>
<span class="line-added">2958 \f[CB]\-XX:HeapDumpPath=/var/log/java/java_heapdump.hprof\f[R]</span>
<span class="line-added">2959 .RE</span>
<span class="line-added">2960 .RE</span>
<span class="line-added">2961 .IP \[bu] 2</span>
<span class="line-added">2962 \f[B]Windows:\f[R] The following example shows how to set the heap dump</span>
<span class="line-added">2963 file to \f[CB]C:/log/java/java_heapdump.log\f[R]:</span>
<span class="line-added">2964 .RS 2</span>
<span class="line-added">2965 .RS</span>
<span class="line-added">2966 .PP</span>
<span class="line-added">2967 \f[CB]\-XX:HeapDumpPath=C:/log/java/java_heapdump.log\f[R]</span>
<span class="line-added">2968 .RE</span>
<span class="line-added">2969 .RE</span>
<span class="line-added">2970 .RE</span>
<span class="line-added">2971 .TP</span>
<span class="line-added">2972 .B \f[CB]\-XX:LogFile=\f[R]\f[I]path\f[R]</span>
<span class="line-added">2973 Sets the path and file name to where log data is written.</span>
<span class="line-added">2974 By default, the file is created in the current working directory, and</span>
<span class="line-added">2975 it\[aq]s named \f[CB]hotspot.log\f[R].</span>
<span class="line-added">2976 .RS</span>
<span class="line-added">2977 .IP \[bu] 2</span>
<span class="line-added">2978 \f[B]Oracle Solaris, Linux, and macOS:\f[R] The following example shows</span>
<span class="line-added">2979 how to set the log file to \f[CB]/var/log/java/hotspot.log\f[R]:</span>
<span class="line-added">2980 .RS 2</span>
<span class="line-added">2981 .RS</span>
<span class="line-added">2982 .PP</span>
<span class="line-added">2983 \f[CB]\-XX:LogFile=/var/log/java/hotspot.log\f[R]</span>
<span class="line-added">2984 .RE</span>
<span class="line-added">2985 .RE</span>
<span class="line-added">2986 .IP \[bu] 2</span>
<span class="line-added">2987 \f[B]Windows:\f[R] The following example shows how to set the log file to</span>
<span class="line-added">2988 \f[CB]C:/log/java/hotspot.log\f[R]:</span>
<span class="line-added">2989 .RS 2</span>
<span class="line-added">2990 .RS</span>
<span class="line-added">2991 .PP</span>
<span class="line-added">2992 \f[CB]\-XX:LogFile=C:/log/java/hotspot.log\f[R]</span>
<span class="line-added">2993 .RE</span>
<span class="line-added">2994 .RE</span>
<span class="line-added">2995 .RE</span>
<span class="line-added">2996 .TP</span>
<span class="line-added">2997 .B \f[CB]\-XX:+PrintClassHistogram\f[R]</span>
<span class="line-added">2998 Enables printing of a class instance histogram after one of the</span>
<span class="line-added">2999 following events:</span>
<span class="line-added">3000 .RS</span>
<span class="line-added">3001 .IP \[bu] 2</span>
<span class="line-added">3002 \f[B]Oracle Solaris, Linux, and macOS:\f[R] \f[CB]Control+Break\f[R]</span>
<span class="line-added">3003 .IP \[bu] 2</span>
<span class="line-added">3004 \f[B]Windows:\f[R] \f[CB]Control+C\f[R] (\f[CB]SIGTERM\f[R])</span>
<span class="line-added">3005 .PP</span>
<span class="line-added">3006 By default, this option is disabled.</span>
<span class="line-added">3007 .PP</span>
<span class="line-added">3008 Setting this option is equivalent to running the \f[CB]jmap\ \-histo\f[R]</span>
<span class="line-added">3009 command, or the \f[CB]jcmd\f[R] \f[I]pid\f[R] \f[CB]GC.class_histogram\f[R]</span>
<span class="line-added">3010 command, where \f[I]pid\f[R] is the current Java process identifier.</span>
<span class="line-added">3011 .RE</span>
<span class="line-added">3012 .TP</span>
<span class="line-added">3013 .B \f[CB]\-XX:+PrintConcurrentLocks\f[R]</span>
<span class="line-added">3014 Enables printing of \f[CB]java.util.concurrent\f[R] locks after one of the</span>
<span class="line-added">3015 following events:</span>
<span class="line-added">3016 .RS</span>
<span class="line-added">3017 .IP \[bu] 2</span>
<span class="line-added">3018 \f[B]Oracle Solaris, Linux, and macOS:\f[R] \f[CB]Control+Break\f[R]</span>
<span class="line-added">3019 .IP \[bu] 2</span>
<span class="line-added">3020 \f[B]Windows:\f[R] \f[CB]Control+C\f[R] (\f[CB]SIGTERM\f[R])</span>
<span class="line-added">3021 .PP</span>
<span class="line-added">3022 By default, this option is disabled.</span>
<span class="line-added">3023 .PP</span>
<span class="line-added">3024 Setting this option is equivalent to running the \f[CB]jstack\ \-l\f[R]</span>
<span class="line-added">3025 command or the \f[CB]jcmd\f[R] \f[I]pid\f[R] \f[CB]Thread.print\ \-l\f[R]</span>
<span class="line-added">3026 command, where \f[I]pid\f[R] is the current Java process identifier.</span>
<span class="line-added">3027 .RE</span>
<span class="line-added">3028 .TP</span>
<span class="line-added">3029 .B \f[CB]\-XX:+PrintFlagsRanges\f[R]</span>
<span class="line-added">3030 Prints the range specified and allows automatic testing of the values.</span>
<span class="line-added">3031 See \f[B]Validate Java Virtual Machine Flag Arguments\f[R].</span>
<span class="line-added">3032 .RS</span>
<span class="line-added">3033 .RE</span>
<span class="line-added">3034 .TP</span>
<span class="line-added">3035 .B \f[CB]\-XX:+PerfDataSaveToFile\f[R]</span>
<span class="line-added">3036 If enabled, saves \f[B]jstat\f[R] binary data when the Java application</span>
<span class="line-added">3037 exits.</span>
<span class="line-added">3038 This binary data is saved in a file named</span>
<span class="line-added">3039 \f[CB]hsperfdata_\f[R]\f[I]pid\f[R], where \f[I]pid\f[R] is the process</span>
<span class="line-added">3040 identifier of the Java application that you ran.</span>
<span class="line-added">3041 Use the \f[CB]jstat\f[R] command to display the performance data contained</span>
<span class="line-added">3042 in this file as follows:</span>
<span class="line-added">3043 .RS</span>
<span class="line-added">3044 .RS</span>
<span class="line-added">3045 .PP</span>
<span class="line-added">3046 \f[CB]jstat\ \-class\ file:///\f[R]\f[I]path\f[R]\f[CB]/hsperfdata_\f[R]\f[I]pid\f[R]</span>
<span class="line-added">3047 .RE</span>
<span class="line-added">3048 .RS</span>
<span class="line-added">3049 .PP</span>
<span class="line-added">3050 \f[CB]jstat\ \-gc\ file:///\f[R]\f[I]path\f[R]\f[CB]/hsperfdata_\f[R]\f[I]pid\f[R]</span>
<span class="line-added">3051 .RE</span>
<span class="line-added">3052 .RE</span>
<span class="line-added">3053 .TP</span>
<span class="line-added">3054 .B \f[CB]\-XX:+UsePerfData\f[R]</span>
<span class="line-added">3055 Enables the \f[CB]perfdata\f[R] feature.</span>
<span class="line-added">3056 This option is enabled by default to allow JVM monitoring and</span>
<span class="line-added">3057 performance testing.</span>
<span class="line-added">3058 Disabling it suppresses the creation of the \f[CB]hsperfdata_userid\f[R]</span>
<span class="line-added">3059 directories.</span>
<span class="line-added">3060 To disable the \f[CB]perfdata\f[R] feature, specify</span>
<span class="line-added">3061 \f[CB]\-XX:\-UsePerfData\f[R].</span>
<span class="line-added">3062 .RS</span>
<span class="line-added">3063 .RE</span>
<span class="line-added">3064 .SH ADVANCED GARBAGE COLLECTION OPTIONS FOR JAVA</span>
<span class="line-added">3065 .PP</span>
<span class="line-added">3066 These \f[CB]java\f[R] options control how garbage collection (GC) is</span>
<span class="line-added">3067 performed by the Java HotSpot VM.</span>
<span class="line-added">3068 .TP</span>
<span class="line-added">3069 .B \f[CB]\-XX:+AggressiveHeap\f[R]</span>
<span class="line-added">3070 Enables Java heap optimization.</span>
<span class="line-added">3071 This sets various parameters to be optimal for long\-running jobs with</span>
<span class="line-added">3072 intensive memory allocation, based on the configuration of the computer</span>
<span class="line-added">3073 (RAM and CPU).</span>
<span class="line-added">3074 By default, the option is disabled and the heap sizes are configured</span>
<span class="line-added">3075 less aggressively.</span>
<span class="line-added">3076 .RS</span>
<span class="line-added">3077 .RE</span>
<span class="line-added">3078 .TP</span>
<span class="line-added">3079 .B \f[CB]\-XX:+AlwaysPreTouch\f[R]</span>
<span class="line-added">3080 Requests the VM to touch every page on the Java heap after requesting it</span>
<span class="line-added">3081 from the operating system and before handing memory out to the</span>
<span class="line-added">3082 application.</span>
<span class="line-added">3083 By default, this option is disabled and all pages are committed as the</span>
<span class="line-added">3084 application uses the heap space.</span>
<span class="line-added">3085 .RS</span>
<span class="line-added">3086 .RE</span>
<span class="line-added">3087 .TP</span>
<span class="line-added">3088 .B \f[CB]\-XX:ConcGCThreads=\f[R]\f[I]threads\f[R]</span>
<span class="line-added">3089 Sets the number of threads used for concurrent GC.</span>
<span class="line-added">3090 Sets \f[I]\f[CI]threads\f[I]\f[R] to approximately 1/4 of the number of</span>
<span class="line-added">3091 parallel garbage collection threads.</span>
<span class="line-added">3092 The default value depends on the number of CPUs available to the JVM.</span>
<span class="line-added">3093 .RS</span>
<span class="line-added">3094 .PP</span>
<span class="line-added">3095 For example, to set the number of threads for concurrent GC to 2,</span>
<span class="line-added">3096 specify the following option:</span>
<span class="line-added">3097 .RS</span>
<span class="line-added">3098 .PP</span>
<span class="line-added">3099 \f[CB]\-XX:ConcGCThreads=2\f[R]</span>
<span class="line-added">3100 .RE</span>
<span class="line-added">3101 .RE</span>
<span class="line-added">3102 .TP</span>
<span class="line-added">3103 .B \f[CB]\-XX:+DisableExplicitGC\f[R]</span>
<span class="line-added">3104 Enables the option that disables processing of calls to the</span>
<span class="line-added">3105 \f[CB]System.gc()\f[R] method.</span>
<span class="line-added">3106 This option is disabled by default, meaning that calls to</span>
<span class="line-added">3107 \f[CB]System.gc()\f[R] are processed.</span>
<span class="line-added">3108 If processing of calls to \f[CB]System.gc()\f[R] is disabled, then the JVM</span>
<span class="line-added">3109 still performs GC when necessary.</span>
<span class="line-added">3110 .RS</span>
<span class="line-added">3111 .RE</span>
<span class="line-added">3112 .TP</span>
<span class="line-added">3113 .B \f[CB]\-XX:+ExplicitGCInvokesConcurrent\f[R]</span>
<span class="line-added">3114 Enables invoking of concurrent GC by using the \f[CB]System.gc()\f[R]</span>
<span class="line-added">3115 request.</span>
<span class="line-added">3116 This option is disabled by default and can be enabled only with the</span>
<span class="line-added">3117 \f[CB]\-XX:+UseG1GC\f[R] option.</span>
<span class="line-added">3118 .RS</span>
<span class="line-added">3119 .RE</span>
<span class="line-added">3120 .TP</span>
<span class="line-added">3121 .B \f[CB]\-XX:G1AdaptiveIHOPNumInitialSamples=\f[R]\f[I]number\f[R]</span>
<span class="line-added">3122 When \f[CB]\-XX:UseAdaptiveIHOP\f[R] is enabled, this option sets the</span>
<span class="line-added">3123 number of completed marking cycles used to gather samples until G1</span>
<span class="line-added">3124 adaptively determines the optimum value of</span>
<span class="line-added">3125 \f[CB]\-XX:InitiatingHeapOccupancyPercent\f[R].</span>
<span class="line-added">3126 Before, G1 uses the value of</span>
<span class="line-added">3127 \f[CB]\-XX:InitiatingHeapOccupancyPercent\f[R] directly for this purpose.</span>
<span class="line-added">3128 The default value is 3.</span>
<span class="line-added">3129 .RS</span>
<span class="line-added">3130 .RE</span>
<span class="line-added">3131 .TP</span>
<span class="line-added">3132 .B \f[CB]\-XX:G1HeapRegionSize=size\f[R]</span>
<span class="line-added">3133 Sets the size of the regions into which the Java heap is subdivided when</span>
<span class="line-added">3134 using the garbage\-first (G1) collector.</span>
<span class="line-added">3135 The value is a power of 2 and can range from 1 MB to 32 MB.</span>
<span class="line-added">3136 The default region size is determined ergonomically based on the heap</span>
<span class="line-added">3137 size with a goal of approximately 2048 regions.</span>
<span class="line-added">3138 .RS</span>
<span class="line-added">3139 .PP</span>
<span class="line-added">3140 The following example sets the size of the subdivisions to 16 MB:</span>
<span class="line-added">3141 .RS</span>
<span class="line-added">3142 .PP</span>
<span class="line-added">3143 \f[CB]\-XX:G1HeapRegionSize=16m\f[R]</span>
<span class="line-added">3144 .RE</span>
<span class="line-added">3145 .RE</span>
<span class="line-added">3146 .TP</span>
<span class="line-added">3147 .B \f[CB]\-XX:G1HeapWastePercent=\f[R]\f[I]percent\f[R]</span>
<span class="line-added">3148 Sets the percentage of heap that you\[aq]re willing to waste.</span>
<span class="line-added">3149 The Java HotSpot VM doesn\[aq]t initiate the mixed garbage collection</span>
<span class="line-added">3150 cycle when the reclaimable percentage is less than the heap waste</span>
<span class="line-added">3151 percentage.</span>
<span class="line-added">3152 The default is 5 percent.</span>
<span class="line-added">3153 .RS</span>
<span class="line-added">3154 .RE</span>
<span class="line-added">3155 .TP</span>
<span class="line-added">3156 .B \f[CB]\-XX:G1MaxNewSizePercent=\f[R]\f[I]percent\f[R]</span>
<span class="line-added">3157 Sets the percentage of the heap size to use as the maximum for the young</span>
<span class="line-added">3158 generation size.</span>
<span class="line-added">3159 The default value is 60 percent of your Java heap.</span>
<span class="line-added">3160 .RS</span>
<span class="line-added">3161 .PP</span>
<span class="line-added">3162 This is an experimental flag.</span>
<span class="line-added">3163 This setting replaces the \f[CB]\-XX:DefaultMaxNewGenPercent\f[R] setting.</span>
<span class="line-added">3164 .RE</span>
<span class="line-added">3165 .TP</span>
<span class="line-added">3166 .B \f[CB]\-XX:G1MixedGCCountTarget=\f[R]\f[I]number\f[R]</span>
<span class="line-added">3167 Sets the target number of mixed garbage collections after a marking</span>
<span class="line-added">3168 cycle to collect old regions with at most</span>
<span class="line-added">3169 \f[CB]G1MixedGCLIveThresholdPercent\f[R] live data.</span>
<span class="line-added">3170 The default is 8 mixed garbage collections.</span>
<span class="line-added">3171 The goal for mixed collections is to be within this target number.</span>
<span class="line-added">3172 .RS</span>
<span class="line-added">3173 .RE</span>
<span class="line-added">3174 .TP</span>
<span class="line-added">3175 .B \f[CB]\-XX:G1MixedGCLiveThresholdPercent=\f[R]\f[I]percent\f[R]</span>
<span class="line-added">3176 Sets the occupancy threshold for an old region to be included in a mixed</span>
<span class="line-added">3177 garbage collection cycle.</span>
<span class="line-added">3178 The default occupancy is 85 percent.</span>
<span class="line-added">3179 .RS</span>
<span class="line-added">3180 .PP</span>
<span class="line-added">3181 This is an experimental flag.</span>
<span class="line-added">3182 This setting replaces the</span>
<span class="line-added">3183 \f[CB]\-XX:G1OldCSetRegionLiveThresholdPercent\f[R] setting.</span>
<span class="line-added">3184 .RE</span>
<span class="line-added">3185 .TP</span>
<span class="line-added">3186 .B \f[CB]\-XX:G1NewSizePercent=\f[R]\f[I]percent\f[R]</span>
<span class="line-added">3187 Sets the percentage of the heap to use as the minimum for the young</span>
<span class="line-added">3188 generation size.</span>
<span class="line-added">3189 The default value is 5 percent of your Java heap.</span>
<span class="line-added">3190 .RS</span>
<span class="line-added">3191 .PP</span>
<span class="line-added">3192 This is an experimental flag.</span>
<span class="line-added">3193 This setting replaces the \f[CB]\-XX:DefaultMinNewGenPercent\f[R] setting.</span>
<span class="line-added">3194 .RE</span>
<span class="line-added">3195 .TP</span>
<span class="line-added">3196 .B \f[CB]\-XX:G1OldCSetRegionThresholdPercent=\f[R]\f[I]percent\f[R]</span>
<span class="line-added">3197 Sets an upper limit on the number of old regions to be collected during</span>
<span class="line-added">3198 a mixed garbage collection cycle.</span>
<span class="line-added">3199 The default is 10 percent of the Java heap.</span>
<span class="line-added">3200 .RS</span>
<span class="line-added">3201 .RE</span>
<span class="line-added">3202 .TP</span>
<span class="line-added">3203 .B \f[CB]\-XX:G1ReservePercent=\f[R]\f[I]percent\f[R]</span>
<span class="line-added">3204 Sets the percentage of the heap (0 to 50) that\[aq]s reserved as a false</span>
<span class="line-added">3205 ceiling to reduce the possibility of promotion failure for the G1</span>
<span class="line-added">3206 collector.</span>
<span class="line-added">3207 When you increase or decrease the percentage, ensure that you adjust the</span>
<span class="line-added">3208 total Java heap by the same amount.</span>
<span class="line-added">3209 By default, this option is set to 10%.</span>
<span class="line-added">3210 .RS</span>
<span class="line-added">3211 .PP</span>
<span class="line-added">3212 The following example sets the reserved heap to 20%:</span>
<span class="line-added">3213 .RS</span>
<span class="line-added">3214 .PP</span>
<span class="line-added">3215 \f[CB]\-XX:G1ReservePercent=20\f[R]</span>
<span class="line-added">3216 .RE</span>
<span class="line-added">3217 .RE</span>
<span class="line-added">3218 .TP</span>
<span class="line-added">3219 .B \f[CB]\-XX:+G1UseAdaptiveIHOP\f[R]</span>
<span class="line-added">3220 Controls adaptive calculation of the old generation occupancy to start</span>
<span class="line-added">3221 background work preparing for an old generation collection.</span>
<span class="line-added">3222 If enabled, G1 uses \f[CB]\-XX:InitiatingHeapOccupancyPercent\f[R] for the</span>
<span class="line-added">3223 first few times as specified by the value of</span>
<span class="line-added">3224 \f[CB]\-XX:G1AdaptiveIHOPNumInitialSamples\f[R], and after that adaptively</span>
<span class="line-added">3225 calculates a new optimum value for the initiating occupancy</span>
<span class="line-added">3226 automatically.</span>
<span class="line-added">3227 Otherwise, the old generation collection process always starts at the</span>
<span class="line-added">3228 old generation occupancy determined by</span>
<span class="line-added">3229 \f[CB]\-XX:InitiatingHeapOccupancyPercent\f[R].</span>
<span class="line-added">3230 .RS</span>
<span class="line-added">3231 .PP</span>
<span class="line-added">3232 The default is enabled.</span>
<span class="line-added">3233 .RE</span>
<span class="line-added">3234 .TP</span>
<span class="line-added">3235 .B \f[CB]\-XX:InitialHeapSize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">3236 Sets the initial size (in bytes) of the memory allocation pool.</span>
<span class="line-added">3237 This value must be either 0, or a multiple of 1024 and greater than 1</span>
<span class="line-added">3238 MB.</span>
<span class="line-added">3239 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,</span>
<span class="line-added">3240 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or</span>
<span class="line-added">3241 \f[CB]G\f[R] to indicate gigabytes.</span>
<span class="line-added">3242 The default value is selected at run time based on the system</span>
<span class="line-added">3243 configuration.</span>
<span class="line-added">3244 .RS</span>
<span class="line-added">3245 .PP</span>
<span class="line-added">3246 The following examples show how to set the size of allocated memory to 6</span>
<span class="line-added">3247 MB using various units:</span>
<span class="line-added">3248 .IP</span>
3249 .nf
<a name="41" id="anc41"></a><span class="line-modified">3250 \f[CB]</span>
<span class="line-modified">3251 \-XX:InitialHeapSize=6291456</span>
<span class="line-added">3252 \-XX:InitialHeapSize=6144k</span>
<span class="line-added">3253 \-XX:InitialHeapSize=6m</span>
<span class="line-added">3254 \f[R]</span>
3255 .fi
<a name="42" id="anc42"></a>










3256 .PP
<a name="43" id="anc43"></a><span class="line-modified">3257 If you set this option to 0, then the initial size is set as the sum of</span>
<span class="line-modified">3258 the sizes allocated for the old generation and the young generation.</span>
<span class="line-modified">3259 The size of the heap for the young generation can be set using the</span>
<span class="line-modified">3260 \f[CB]\-XX:NewSize\f[R] option.</span>
<span class="line-modified">3261 .RE</span>
<span class="line-modified">3262 .TP</span>
<span class="line-modified">3263 .B \f[CB]\-XX:InitialRAMPercentage=\f[R]\f[I]percent\f[R]</span>
<span class="line-modified">3264 Sets the initial amount of memory that the JVM will use for the Java</span>
<span class="line-modified">3265 heap before applying ergonomics heuristics as a percentage of the</span>
<span class="line-modified">3266 maximum amount determined as described in the \f[CB]\-XX:MaxRAM\f[R]</span>
<span class="line-modified">3267 option.</span>
<span class="line-modified">3268 The default value is 1.5625 percent.</span>
<span class="line-modified">3269 .RS</span>
<span class="line-modified">3270 .PP</span>
<span class="line-modified">3271 The following example shows how to set the percentage of the initial</span>
<span class="line-modified">3272 amount of memory used for the Java heap:</span>
<span class="line-modified">3273 .RS</span>
<span class="line-modified">3274 .PP</span>
<span class="line-modified">3275 \f[CB]\-XX:InitialRAMPercentage=5\f[R]</span>
<span class="line-modified">3276 .RE</span>
<span class="line-modified">3277 .RE</span>
<span class="line-modified">3278 .TP</span>
<span class="line-modified">3279 .B \f[CB]\-XX:InitialSurvivorRatio=\f[R]\f[I]ratio\f[R]</span>
<span class="line-added">3280 Sets the initial survivor space ratio used by the throughput garbage</span>
<span class="line-added">3281 collector (which is enabled by the \f[CB]\-XX:+UseParallelGC\f[R] and/or</span>
<span class="line-added">3282 \f[CB]\-XX:+UseParallelOldGC\f[R] options).</span>
<span class="line-added">3283 Adaptive sizing is enabled by default with the throughput garbage</span>
<span class="line-added">3284 collector by using the \f[CB]\-XX:+UseParallelGC\f[R] and</span>
<span class="line-added">3285 \f[CB]\-XX:+UseParallelOldGC\f[R] options, and the survivor space is</span>
<span class="line-added">3286 resized according to the application behavior, starting with the initial</span>
<span class="line-added">3287 value.</span>
<span class="line-added">3288 If adaptive sizing is disabled (using the</span>
<span class="line-added">3289 \f[CB]\-XX:\-UseAdaptiveSizePolicy\f[R] option), then the</span>
<span class="line-added">3290 \f[CB]\-XX:SurvivorRatio\f[R] option should be used to set the size of the</span>
<span class="line-added">3291 survivor space for the entire execution of the application.</span>
<span class="line-added">3292 .RS</span>
<span class="line-added">3293 .PP</span>
<span class="line-added">3294 The following formula can be used to calculate the initial size of</span>
<span class="line-added">3295 survivor space (S) based on the size of the young generation (Y), and</span>
<span class="line-added">3296 the initial survivor space ratio (R):</span>
<span class="line-added">3297 .RS</span>
<span class="line-added">3298 .PP</span>
<span class="line-added">3299 \f[CB]S=Y/(R+2)\f[R]</span>
<span class="line-added">3300 .RE</span>
<span class="line-added">3301 .PP</span>
<span class="line-added">3302 The 2 in the equation denotes two survivor spaces.</span>
<span class="line-added">3303 The larger the value specified as the initial survivor space ratio, the</span>
<span class="line-added">3304 smaller the initial survivor space size.</span>
<span class="line-added">3305 .PP</span>
<span class="line-added">3306 By default, the initial survivor space ratio is set to 8.</span>
<span class="line-added">3307 If the default value for the young generation space size is used (2 MB),</span>
<span class="line-added">3308 then the initial size of the survivor space is 0.2 MB.</span>
<span class="line-added">3309 .PP</span>
<span class="line-added">3310 The following example shows how to set the initial survivor space ratio</span>
<span class="line-added">3311 to 4:</span>
<span class="line-added">3312 .RS</span>
<span class="line-added">3313 .PP</span>
<span class="line-added">3314 \f[CB]\-XX:InitialSurvivorRatio=4\f[R]</span>
<span class="line-added">3315 .RE</span>
<span class="line-added">3316 .RE</span>
<span class="line-added">3317 .TP</span>
<span class="line-added">3318 .B \f[CB]\-XX:InitiatingHeapOccupancyPercent=\f[R]\f[I]percent\f[R]</span>
<span class="line-added">3319 Sets the percentage of the old generation occupancy (0 to 100) at which</span>
<span class="line-added">3320 to start the first few concurrent marking cycles for the G1 garbage</span>
<span class="line-added">3321 collector.</span>
<span class="line-added">3322 .RS</span>
<span class="line-added">3323 .PP</span>
<span class="line-added">3324 By default, the initiating value is set to 45%.</span>
<span class="line-added">3325 A value of 0 implies nonstop concurrent GC cycles from the beginning</span>
<span class="line-added">3326 until G1 adaptively sets this value.</span>
<span class="line-added">3327 .PP</span>
<span class="line-added">3328 See also the \f[CB]\-XX:G1UseAdaptiveIHOP\f[R] and</span>
<span class="line-added">3329 \f[CB]\-XX:G1AdaptiveIHOPNumInitialSamples\f[R] options.</span>
<span class="line-added">3330 .PP</span>
<span class="line-added">3331 The following example shows how to set the initiating heap occupancy to</span>
<span class="line-added">3332 75%:</span>
<span class="line-added">3333 .RS</span>
<span class="line-added">3334 .PP</span>
<span class="line-added">3335 \f[CB]\-XX:InitiatingHeapOccupancyPercent=75\f[R]</span>
<span class="line-added">3336 .RE</span>
<span class="line-added">3337 .RE</span>
<span class="line-added">3338 .TP</span>
<span class="line-added">3339 .B \f[CB]\-XX:MaxGCPauseMillis=\f[R]\f[I]time\f[R]</span>
<span class="line-added">3340 Sets a target for the maximum GC pause time (in milliseconds).</span>
<span class="line-added">3341 This is a soft goal, and the JVM will make its best effort to achieve</span>
<span class="line-added">3342 it.</span>
<span class="line-added">3343 The specified value doesn\[aq]t adapt to your heap size.</span>
<span class="line-added">3344 By default, for G1 the maximum pause time target is 200 milliseconds.</span>
<span class="line-added">3345 The other generational collectors do not use a pause time goal by</span>
<span class="line-added">3346 default.</span>
<span class="line-added">3347 .RS</span>
<span class="line-added">3348 .PP</span>
<span class="line-added">3349 The following example shows how to set the maximum target pause time to</span>
<span class="line-added">3350 500 ms:</span>
<span class="line-added">3351 .RS</span>
<span class="line-added">3352 .PP</span>
<span class="line-added">3353 \f[CB]\-XX:MaxGCPauseMillis=500\f[R]</span>
<span class="line-added">3354 .RE</span>
<span class="line-added">3355 .RE</span>
<span class="line-added">3356 .TP</span>
<span class="line-added">3357 .B \f[CB]\-XX:MaxHeapSize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">3358 Sets the maximum size (in byes) of the memory allocation pool.</span>
<span class="line-added">3359 This value must be a multiple of 1024 and greater than 2 MB.</span>
<span class="line-added">3360 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,</span>
<span class="line-added">3361 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or</span>
<span class="line-added">3362 \f[CB]G\f[R] to indicate gigabytes.</span>
<span class="line-added">3363 The default value is selected at run time based on the system</span>
<span class="line-added">3364 configuration.</span>
<span class="line-added">3365 For server deployments, the options \f[CB]\-XX:InitialHeapSize\f[R] and</span>
<span class="line-added">3366 \f[CB]\-XX:MaxHeapSize\f[R] are often set to the same value.</span>
<span class="line-added">3367 .RS</span>
<span class="line-added">3368 .PP</span>
<span class="line-added">3369 The following examples show how to set the maximum allowed size of</span>
<span class="line-added">3370 allocated memory to 80 MB using various units:</span>
<span class="line-added">3371 .IP</span>
3372 .nf
<a name="44" id="anc44"></a><span class="line-modified">3373 \f[CB]</span>
<span class="line-modified">3374 \-XX:MaxHeapSize=83886080</span>
<span class="line-modified">3375 \-XX:MaxHeapSize=81920k</span>
<span class="line-modified">3376 \-XX:MaxHeapSize=80m</span>
<span class="line-added">3377 \f[R]</span>
3378 .fi
<a name="45" id="anc45"></a>










3379 .PP
<a name="46" id="anc46"></a><span class="line-modified">3380 The \f[CB]\-XX:MaxHeapSize\f[R] option is equivalent to \f[CB]\-Xmx\f[R].</span>
<span class="line-modified">3381 .RE</span>
<span class="line-modified">3382 .TP</span>
<span class="line-modified">3383 .B \f[CB]\-XX:MaxHeapFreeRatio=\f[R]\f[I]percent\f[R]</span>
<span class="line-modified">3384 Sets the maximum allowed percentage of free heap space (0 to 100) after</span>
<span class="line-modified">3385 a GC event.</span>
<span class="line-modified">3386 If free heap space expands above this value, then the heap is shrunk.</span>
<span class="line-modified">3387 By default, this value is set to 70%.</span>
<span class="line-modified">3388 .RS</span>
<span class="line-modified">3389 .PP</span>
<span class="line-modified">3390 Minimize the Java heap size by lowering the values of the parameters</span>
<span class="line-modified">3391 \f[CB]MaxHeapFreeRatio\f[R] (default value is 70%) and</span>
<span class="line-modified">3392 \f[CB]MinHeapFreeRatio\f[R] (default value is 40%) with the command\-line</span>
<span class="line-modified">3393 options \f[CB]\-XX:MaxHeapFreeRatio\f[R] and</span>
<span class="line-modified">3394 \f[CB]\-XX:MinHeapFreeRatio\f[R].</span>
<span class="line-modified">3395 Lowering \f[CB]MaxHeapFreeRatio\f[R] to as low as 10% and</span>
<span class="line-modified">3396 \f[CB]MinHeapFreeRatio\f[R] to 5% has successfully reduced the heap size</span>
<span class="line-modified">3397 without too much performance regression; however, results may vary</span>
<span class="line-modified">3398 greatly depending on your application.</span>
<span class="line-modified">3399 Try different values for these parameters until they\[aq]re as low as</span>
<span class="line-modified">3400 possible yet still retain acceptable performance.</span>
<span class="line-added">3401 .RS</span>
<span class="line-added">3402 .PP</span>
<span class="line-added">3403 \f[CB]\-XX:MaxHeapFreeRatio=10\ \-XX:MinHeapFreeRatio=5\f[R]</span>
<span class="line-added">3404 .RE</span>
<span class="line-added">3405 .PP</span>
<span class="line-added">3406 Customers trying to keep the heap small should also add the option</span>
<span class="line-added">3407 \f[CB]\-XX:\-ShrinkHeapInSteps\f[R].</span>
<span class="line-added">3408 See \f[B]Performance Tuning Examples\f[R] for a description of using this</span>
<span class="line-added">3409 option to keep the Java heap small by reducing the dynamic footprint for</span>
<span class="line-added">3410 embedded applications.</span>
<span class="line-added">3411 .RE</span>
<span class="line-added">3412 .TP</span>
<span class="line-added">3413 .B \f[CB]\-XX:MaxMetaspaceSize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">3414 Sets the maximum amount of native memory that can be allocated for class</span>
<span class="line-added">3415 metadata.</span>
<span class="line-added">3416 By default, the size isn\[aq]t limited.</span>
<span class="line-added">3417 The amount of metadata for an application depends on the application</span>
<span class="line-added">3418 itself, other running applications, and the amount of memory available</span>
<span class="line-added">3419 on the system.</span>
<span class="line-added">3420 .RS</span>
<span class="line-added">3421 .PP</span>
<span class="line-added">3422 The following example shows how to set the maximum class metadata size</span>
<span class="line-added">3423 to 256 MB:</span>
<span class="line-added">3424 .RS</span>
<span class="line-added">3425 .PP</span>
<span class="line-added">3426 \f[CB]\-XX:MaxMetaspaceSize=256m\f[R]</span>
<span class="line-added">3427 .RE</span>
<span class="line-added">3428 .RE</span>
<span class="line-added">3429 .TP</span>
<span class="line-added">3430 .B \f[CB]\-XX:MaxNewSize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">3431 Sets the maximum size (in bytes) of the heap for the young generation</span>
<span class="line-added">3432 (nursery).</span>
<span class="line-added">3433 The default value is set ergonomically.</span>
<span class="line-added">3434 .RS</span>
<span class="line-added">3435 .RE</span>
<span class="line-added">3436 .TP</span>
<span class="line-added">3437 .B \f[CB]\-XX:MaxRAM=\f[R]\f[I]size\f[R]</span>
<span class="line-added">3438 Sets the maximum amount of memory that the JVM may use for the Java heap</span>
<span class="line-added">3439 before applying ergonomics heuristics.</span>
<span class="line-added">3440 The default value is the maximum amount of available memory to the JVM</span>
<span class="line-added">3441 process or 128 GB, whichever is lower.</span>
<span class="line-added">3442 .RS</span>
<span class="line-added">3443 .PP</span>
<span class="line-added">3444 The maximum amount of available memory to the JVM process is the minimum</span>
<span class="line-added">3445 of the machine\[aq]s physical memory and any constraints set by the</span>
<span class="line-added">3446 environment (e.g.</span>
<span class="line-added">3447 container).</span>
<span class="line-added">3448 .PP</span>
<span class="line-added">3449 Specifying this option disables automatic use of compressed oops if the</span>
<span class="line-added">3450 combined result of this and other options influencing the maximum amount</span>
<span class="line-added">3451 of memory is larger than the range of memory addressable by compressed</span>
<span class="line-added">3452 oops.</span>
<span class="line-added">3453 See \f[CB]\-XX:UseCompressedOops\f[R] for further information about</span>
<span class="line-added">3454 compressed oops.</span>
<span class="line-added">3455 .PP</span>
<span class="line-added">3456 The following example shows how to set the maximum amount of available</span>
<span class="line-added">3457 memory for sizing the Java heap to 2 GB:</span>
<span class="line-added">3458 .RS</span>
<span class="line-added">3459 .PP</span>
<span class="line-added">3460 \f[CB]\-XX:MaxRAM=2G\f[R]</span>
<span class="line-added">3461 .RE</span>
<span class="line-added">3462 .RE</span>
<span class="line-added">3463 .TP</span>
<span class="line-added">3464 .B \f[CB]\-XX:MaxRAMPercentage=\f[R]\f[I]percent\f[R]</span>
<span class="line-added">3465 Sets the maximum amount of memory that the JVM may use for the Java heap</span>
<span class="line-added">3466 before applying ergonomics heuristics as a percentage of the maximum</span>
<span class="line-added">3467 amount determined as described in the \f[CB]\-XX:MaxRAM\f[R] option.</span>
<span class="line-added">3468 The default value is 25 percent.</span>
<span class="line-added">3469 .RS</span>
<span class="line-added">3470 .PP</span>
<span class="line-added">3471 Specifying this option disables automatic use of compressed oops if the</span>
<span class="line-added">3472 combined result of this and other options influencing the maximum amount</span>
<span class="line-added">3473 of memory is larger than the range of memory addressable by compressed</span>
<span class="line-added">3474 oops.</span>
<span class="line-added">3475 See \f[CB]\-XX:UseCompressedOops\f[R] for further information about</span>
<span class="line-added">3476 compressed oops.</span>
<span class="line-added">3477 .PP</span>
<span class="line-added">3478 The following example shows how to set the percentage of the maximum</span>
<span class="line-added">3479 amount of memory used for the Java heap:</span>
<span class="line-added">3480 .RS</span>
<span class="line-added">3481 .PP</span>
<span class="line-added">3482 \f[CB]\-XX:MaxRAMPercentage=75\f[R]</span>
<span class="line-added">3483 .RE</span>
<span class="line-added">3484 .RE</span>
<span class="line-added">3485 .TP</span>
<span class="line-added">3486 .B \f[CB]\-XX:MinRAMPercentage=\f[R]\f[I]percent\f[R]</span>
<span class="line-added">3487 Sets the maximum amount of memory that the JVM may use for the Java heap</span>
<span class="line-added">3488 before applying ergonomics heuristics as a percentage of the maximum</span>
<span class="line-added">3489 amount determined as described in the \f[CB]\-XX:MaxRAM\f[R] option for</span>
<span class="line-added">3490 small heaps.</span>
<span class="line-added">3491 A small heap is a heap of approximately 125 MB.</span>
<span class="line-added">3492 The default value is 50 percent.</span>
<span class="line-added">3493 .RS</span>
<span class="line-added">3494 .PP</span>
<span class="line-added">3495 The following example shows how to set the percentage of the maximum</span>
<span class="line-added">3496 amount of memory used for the Java heap for small heaps:</span>
<span class="line-added">3497 .RS</span>
<span class="line-added">3498 .PP</span>
<span class="line-added">3499 \f[CB]\-XX:MinRAMPercentage=75\f[R]</span>
<span class="line-added">3500 .RE</span>
<span class="line-added">3501 .RE</span>
<span class="line-added">3502 .TP</span>
<span class="line-added">3503 .B \f[CB]\-XX:MaxTenuringThreshold=\f[R]\f[I]threshold\f[R]</span>
<span class="line-added">3504 Sets the maximum tenuring threshold for use in adaptive GC sizing.</span>
<span class="line-added">3505 The largest value is 15.</span>
<span class="line-added">3506 The default value is 15 for the parallel (throughput) collector.</span>
<span class="line-added">3507 .RS</span>
<span class="line-added">3508 .PP</span>
<span class="line-added">3509 The following example shows how to set the maximum tenuring threshold to</span>
<span class="line-added">3510 10:</span>
<span class="line-added">3511 .RS</span>
<span class="line-added">3512 .PP</span>
<span class="line-added">3513 \f[CB]\-XX:MaxTenuringThreshold=10\f[R]</span>
<span class="line-added">3514 .RE</span>
<span class="line-added">3515 .RE</span>
<span class="line-added">3516 .TP</span>
<span class="line-added">3517 .B \f[CB]\-XX:MetaspaceSize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">3518 Sets the size of the allocated class metadata space that triggers a</span>
<span class="line-added">3519 garbage collection the first time it\[aq]s exceeded.</span>
<span class="line-added">3520 This threshold for a garbage collection is increased or decreased</span>
<span class="line-added">3521 depending on the amount of metadata used.</span>
<span class="line-added">3522 The default size depends on the platform.</span>
<span class="line-added">3523 .RS</span>
<span class="line-added">3524 .RE</span>
<span class="line-added">3525 .TP</span>
<span class="line-added">3526 .B \f[CB]\-XX:MinHeapFreeRatio=\f[R]\f[I]percent\f[R]</span>
<span class="line-added">3527 Sets the minimum allowed percentage of free heap space (0 to 100) after</span>
<span class="line-added">3528 a GC event.</span>
<span class="line-added">3529 If free heap space falls below this value, then the heap is expanded.</span>
<span class="line-added">3530 By default, this value is set to 40%.</span>
<span class="line-added">3531 .RS</span>
<span class="line-added">3532 .PP</span>
<span class="line-added">3533 Minimize Java heap size by lowering the values of the parameters</span>
<span class="line-added">3534 \f[CB]MaxHeapFreeRatio\f[R] (default value is 70%) and</span>
<span class="line-added">3535 \f[CB]MinHeapFreeRatio\f[R] (default value is 40%) with the command\-line</span>
<span class="line-added">3536 options \f[CB]\-XX:MaxHeapFreeRatio\f[R] and</span>
<span class="line-added">3537 \f[CB]\-XX:MinHeapFreeRatio\f[R].</span>
<span class="line-added">3538 Lowering \f[CB]MaxHeapFreeRatio\f[R] to as low as 10% and</span>
<span class="line-added">3539 \f[CB]MinHeapFreeRatio\f[R] to 5% has successfully reduced the heap size</span>
<span class="line-added">3540 without too much performance regression; however, results may vary</span>
<span class="line-added">3541 greatly depending on your application.</span>
<span class="line-added">3542 Try different values for these parameters until they\[aq]re as low as</span>
<span class="line-added">3543 possible, yet still retain acceptable performance.</span>
<span class="line-added">3544 .RS</span>
<span class="line-added">3545 .PP</span>
<span class="line-added">3546 \f[CB]\-XX:MaxHeapFreeRatio=10\ \-XX:MinHeapFreeRatio=5\f[R]</span>
<span class="line-added">3547 .RE</span>
<span class="line-added">3548 .PP</span>
<span class="line-added">3549 Customers trying to keep the heap small should also add the option</span>
<span class="line-added">3550 \f[CB]\-XX:\-ShrinkHeapInSteps\f[R].</span>
<span class="line-added">3551 See \f[B]Performance Tuning Examples\f[R] for a description of using this</span>
<span class="line-added">3552 option to keep the Java heap small by reducing the dynamic footprint for</span>
<span class="line-added">3553 embedded applications.</span>
<span class="line-added">3554 .RE</span>
<span class="line-added">3555 .TP</span>
<span class="line-added">3556 .B \f[CB]\-XX:MinHeapSize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">3557 Sets the minimum size (in bytes) of the memory allocation pool.</span>
<span class="line-added">3558 This value must be either 0, or a multiple of 1024 and greater than 1</span>
<span class="line-added">3559 MB.</span>
<span class="line-added">3560 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,</span>
<span class="line-added">3561 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or</span>
<span class="line-added">3562 \f[CB]G\f[R] to indicate gigabytes.</span>
<span class="line-added">3563 The default value is selected at run time based on the system</span>
<span class="line-added">3564 configuration.</span>
<span class="line-added">3565 .RS</span>
<span class="line-added">3566 .PP</span>
<span class="line-added">3567 The following examples show how to set the mimimum size of allocated</span>
<span class="line-added">3568 memory to 6 MB using various units:</span>
<span class="line-added">3569 .IP</span>
3570 .nf
<a name="47" id="anc47"></a><span class="line-modified">3571 \f[CB]</span>
<span class="line-modified">3572 \-XX:MinHeapSize=6291456</span>
<span class="line-modified">3573 \-XX:MinHeapSize=6144k</span>
<span class="line-modified">3574 \-XX:MinHeapSize=6m</span>
<span class="line-added">3575 \f[R]</span>
3576 .fi
<a name="48" id="anc48"></a>








3577 .PP
<a name="49" id="anc49"></a><span class="line-modified">3578 If you set this option to 0, then the minimum size is set to the same</span>
<span class="line-modified">3579 value as the initial size.</span>
<span class="line-modified">3580 .RE</span>
<span class="line-modified">3581 .TP</span>
<span class="line-modified">3582 .B \f[CB]\-XX:NewRatio=\f[R]\f[I]ratio\f[R]</span>
<span class="line-modified">3583 Sets the ratio between young and old generation sizes.</span>
<span class="line-modified">3584 By default, this option is set to 2.</span>
<span class="line-modified">3585 The following example shows how to set the young\-to\-old ratio to 1:</span>
<span class="line-modified">3586 .RS</span>
<span class="line-modified">3587 .RS</span>
<span class="line-modified">3588 .PP</span>
<span class="line-modified">3589 \f[CB]\-XX:NewRatio=1\f[R]</span>
<span class="line-modified">3590 .RE</span>
<span class="line-modified">3591 .RE</span>
<span class="line-modified">3592 .TP</span>
<span class="line-modified">3593 .B \f[CB]\-XX:NewSize=\f[R]\f[I]size\f[R]</span>
<span class="line-modified">3594 Sets the initial size (in bytes) of the heap for the young generation</span>
<span class="line-modified">3595 (nursery).</span>
<span class="line-modified">3596 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,</span>
<span class="line-modified">3597 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or</span>
<span class="line-modified">3598 \f[CB]G\f[R] to indicate gigabytes.</span>
<span class="line-modified">3599 .RS</span>
<span class="line-modified">3600 .PP</span>
<span class="line-modified">3601 The young generation region of the heap is used for new objects.</span>
<span class="line-modified">3602 GC is performed in this region more often than in other regions.</span>
<span class="line-modified">3603 If the size for the young generation is too low, then a large number of</span>
<span class="line-modified">3604 minor GCs are performed.</span>
<span class="line-added">3605 If the size is too high, then only full GCs are performed, which can</span>
<span class="line-added">3606 take a long time to complete.</span>
<span class="line-added">3607 It is recommended that you keep the size for the young generation</span>
<span class="line-added">3608 greater than 25% and less than 50% of the overall heap size.</span>
<span class="line-added">3609 .PP</span>
<span class="line-added">3610 The following examples show how to set the initial size of the young</span>
<span class="line-added">3611 generation to 256 MB using various units:</span>
<span class="line-added">3612 .IP</span>
3613 .nf
<a name="50" id="anc50"></a><span class="line-modified">3614 \f[CB]</span>
<span class="line-modified">3615 \-XX:NewSize=256m</span>
<span class="line-modified">3616 \-XX:NewSize=262144k</span>
<span class="line-modified">3617 \-XX:NewSize=268435456</span>
<span class="line-added">3618 \f[R]</span>
3619 .fi
<a name="51" id="anc51"></a>







3620 .PP
<a name="52" id="anc52"></a><span class="line-modified">3621 The \f[CB]\-XX:NewSize\f[R] option is equivalent to \f[CB]\-Xmn\f[R].</span>
<span class="line-modified">3622 .RE</span>
<span class="line-modified">3623 .TP</span>
<span class="line-modified">3624 .B \f[CB]\-XX:ParallelGCThreads=\f[R]\f[I]threads\f[R]</span>
<span class="line-modified">3625 Sets the number of the stop\-the\-world (STW) worker threads.</span>
<span class="line-modified">3626 The default value depends on the number of CPUs available to the JVM and</span>
<span class="line-modified">3627 the garbage collector selected.</span>
<span class="line-modified">3628 .RS</span>
<span class="line-added">3629 .PP</span>
<span class="line-added">3630 For example, to set the number of threads for G1 GC to 2, specify the</span>
<span class="line-added">3631 following option:</span>
<span class="line-added">3632 .RS</span>
<span class="line-added">3633 .PP</span>
<span class="line-added">3634 \f[CB]\-XX:ParallelGCThreads=2\f[R]</span>
<span class="line-added">3635 .RE</span>
<span class="line-added">3636 .RE</span>
<span class="line-added">3637 .TP</span>
<span class="line-added">3638 .B \f[CB]\-XX:+ParallelRefProcEnabled\f[R]</span>
<span class="line-added">3639 Enables parallel reference processing.</span>
<span class="line-added">3640 By default, this option is disabled.</span>
<span class="line-added">3641 .RS</span>
<span class="line-added">3642 .RE</span>
<span class="line-added">3643 .TP</span>
<span class="line-added">3644 .B \f[CB]\-XX:+PrintAdaptiveSizePolicy\f[R]</span>
<span class="line-added">3645 Enables printing of information about adaptive\-generation sizing.</span>
<span class="line-added">3646 By default, this option is disabled.</span>
<span class="line-added">3647 .RS</span>
<span class="line-added">3648 .RE</span>
<span class="line-added">3649 .TP</span>
<span class="line-added">3650 .B \f[CB]\-XX:+ScavengeBeforeFullGC\f[R]</span>
<span class="line-added">3651 Enables GC of the young generation before each full GC.</span>
<span class="line-added">3652 This option is enabled by default.</span>
<span class="line-added">3653 It is recommended that you \f[I]don\[aq]t\f[R] disable it, because</span>
<span class="line-added">3654 scavenging the young generation before a full GC can reduce the number</span>
<span class="line-added">3655 of objects reachable from the old generation space into the young</span>
<span class="line-added">3656 generation space.</span>
<span class="line-added">3657 To disable GC of the young generation before each full GC, specify the</span>
<span class="line-added">3658 option \f[CB]\-XX:\-ScavengeBeforeFullGC\f[R].</span>
<span class="line-added">3659 .RS</span>
<span class="line-added">3660 .RE</span>
<span class="line-added">3661 .TP</span>
<span class="line-added">3662 .B \f[CB]\-XX:SoftRefLRUPolicyMSPerMB=\f[R]\f[I]time\f[R]</span>
<span class="line-added">3663 Sets the amount of time (in milliseconds) a softly reachable object is</span>
<span class="line-added">3664 kept active on the heap after the last time it was referenced.</span>
<span class="line-added">3665 The default value is one second of lifetime per free megabyte in the</span>
<span class="line-added">3666 heap.</span>
<span class="line-added">3667 The \f[CB]\-XX:SoftRefLRUPolicyMSPerMB\f[R] option accepts integer values</span>
<span class="line-added">3668 representing milliseconds per one megabyte of the current heap size (for</span>
<span class="line-added">3669 Java HotSpot Client VM) or the maximum possible heap size (for Java</span>
<span class="line-added">3670 HotSpot Server VM).</span>
<span class="line-added">3671 This difference means that the Client VM tends to flush soft references</span>
<span class="line-added">3672 rather than grow the heap, whereas the Server VM tends to grow the heap</span>
<span class="line-added">3673 rather than flush soft references.</span>
<span class="line-added">3674 In the latter case, the value of the \f[CB]\-Xmx\f[R] option has a</span>
<span class="line-added">3675 significant effect on how quickly soft references are garbage collected.</span>
<span class="line-added">3676 .RS</span>
<span class="line-added">3677 .PP</span>
<span class="line-added">3678 The following example shows how to set the value to 2.5 seconds:</span>
<span class="line-added">3679 .PP</span>
<span class="line-added">3680 \f[CB]\-XX:SoftRefLRUPolicyMSPerMB=2500\f[R]</span>
<span class="line-added">3681 .RE</span>
<span class="line-added">3682 .TP</span>
<span class="line-added">3683 .B \f[CB]\-XX:\-ShrinkHeapInSteps\f[R]</span>
<span class="line-added">3684 Incrementally reduces the Java heap to the target size, specified by the</span>
<span class="line-added">3685 option \f[CB]\-XX:MaxHeapFreeRatio\f[R].</span>
<span class="line-added">3686 This option is enabled by default.</span>
<span class="line-added">3687 If disabled, then it immediately reduces the Java heap to the target</span>
<span class="line-added">3688 size instead of requiring multiple garbage collection cycles.</span>
<span class="line-added">3689 Disable this option if you want to minimize the Java heap size.</span>
<span class="line-added">3690 You will likely encounter performance degradation when this option is</span>
<span class="line-added">3691 disabled.</span>
<span class="line-added">3692 .RS</span>
<span class="line-added">3693 .PP</span>
<span class="line-added">3694 See \f[B]Performance Tuning Examples\f[R] for a description of using the</span>
<span class="line-added">3695 \f[CB]MaxHeapFreeRatio\f[R] option to keep the Java heap small by reducing</span>
<span class="line-added">3696 the dynamic footprint for embedded applications.</span>
<span class="line-added">3697 .RE</span>
<span class="line-added">3698 .TP</span>
<span class="line-added">3699 .B \f[CB]\-XX:StringDeduplicationAgeThreshold=\f[R]\f[I]threshold\f[R]</span>
<span class="line-added">3700 Identifies \f[CB]String\f[R] objects reaching the specified age that are</span>
<span class="line-added">3701 considered candidates for deduplication.</span>
<span class="line-added">3702 An object\[aq]s age is a measure of how many times it has survived</span>
<span class="line-added">3703 garbage collection.</span>
<span class="line-added">3704 This is sometimes referred to as tenuring.</span>
<span class="line-added">3705 .RS</span>
<span class="line-added">3706 .RS</span>
<span class="line-added">3707 .PP</span>
<span class="line-added">3708 \f[B]Note:\f[R] \f[CB]String\f[R] objects that are promoted to an old heap</span>
<span class="line-added">3709 region before this age has been reached are always considered candidates</span>
<span class="line-added">3710 for deduplication.</span>
<span class="line-added">3711 The default value for this option is \f[CB]3\f[R].</span>
<span class="line-added">3712 See the \f[CB]\-XX:+UseStringDeduplication\f[R] option.</span>
<span class="line-added">3713 .RE</span>
<span class="line-added">3714 .RE</span>
<span class="line-added">3715 .TP</span>
<span class="line-added">3716 .B \f[CB]\-XX:SurvivorRatio=\f[R]\f[I]ratio\f[R]</span>
<span class="line-added">3717 Sets the ratio between eden space size and survivor space size.</span>
<span class="line-added">3718 By default, this option is set to 8.</span>
<span class="line-added">3719 The following example shows how to set the eden/survivor space ratio to</span>
<span class="line-added">3720 4:</span>
<span class="line-added">3721 .RS</span>
<span class="line-added">3722 .RS</span>
<span class="line-added">3723 .PP</span>
<span class="line-added">3724 \f[CB]\-XX:SurvivorRatio=4\f[R]</span>
<span class="line-added">3725 .RE</span>
<span class="line-added">3726 .RE</span>
<span class="line-added">3727 .TP</span>
<span class="line-added">3728 .B \f[CB]\-XX:TargetSurvivorRatio=\f[R]\f[I]percent\f[R]</span>
<span class="line-added">3729 Sets the desired percentage of survivor space (0 to 100) used after</span>
<span class="line-added">3730 young garbage collection.</span>
<span class="line-added">3731 By default, this option is set to 50%.</span>
<span class="line-added">3732 .RS</span>
<span class="line-added">3733 .PP</span>
<span class="line-added">3734 The following example shows how to set the target survivor space ratio</span>
<span class="line-added">3735 to 30%:</span>
<span class="line-added">3736 .RS</span>
<span class="line-added">3737 .PP</span>
<span class="line-added">3738 \f[CB]\-XX:TargetSurvivorRatio=30\f[R]</span>
<span class="line-added">3739 .RE</span>
<span class="line-added">3740 .RE</span>
<span class="line-added">3741 .TP</span>
<span class="line-added">3742 .B \f[CB]\-XX:TLABSize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">3743 Sets the initial size (in bytes) of a thread\-local allocation buffer</span>
<span class="line-added">3744 (TLAB).</span>
<span class="line-added">3745 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,</span>
<span class="line-added">3746 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or</span>
<span class="line-added">3747 \f[CB]G\f[R] to indicate gigabytes.</span>
<span class="line-added">3748 If this option is set to 0, then the JVM selects the initial size</span>
<span class="line-added">3749 automatically.</span>
<span class="line-added">3750 .RS</span>
3751 .PP
<a name="53" id="anc53"></a><span class="line-modified">3752 The following example shows how to set the initial TLAB size to 512 KB:</span>
<span class="line-modified">3753 .RS</span>
<span class="line-modified">3754 .PP</span>
<span class="line-modified">3755 \f[CB]\-XX:TLABSize=512k\f[R]</span>
<span class="line-added">3756 .RE</span>
<span class="line-added">3757 .RE</span>
<span class="line-added">3758 .TP</span>
<span class="line-added">3759 .B \f[CB]\-XX:+UseAdaptiveSizePolicy\f[R]</span>
<span class="line-added">3760 Enables the use of adaptive generation sizing.</span>
<span class="line-added">3761 This option is enabled by default.</span>
<span class="line-added">3762 To disable adaptive generation sizing, specify</span>
<span class="line-added">3763 \f[CB]\-XX:\-UseAdaptiveSizePolicy\f[R] and set the size of the memory</span>
<span class="line-added">3764 allocation pool explicitly.</span>
<span class="line-added">3765 See the \f[CB]\-XX:SurvivorRatio\f[R] option.</span>
<span class="line-added">3766 .RS</span>
<span class="line-added">3767 .RE</span>
<span class="line-added">3768 .TP</span>
<span class="line-added">3769 .B \f[CB]\-XX:+UseG1GC\f[R]</span>
<span class="line-added">3770 Enables the use of the garbage\-first (G1) garbage collector.</span>
<span class="line-added">3771 It\[aq]s a server\-style garbage collector, targeted for multiprocessor</span>
<span class="line-added">3772 machines with a large amount of RAM.</span>
<span class="line-added">3773 This option meets GC pause time goals with high probability, while</span>
<span class="line-added">3774 maintaining good throughput.</span>
<span class="line-added">3775 The G1 collector is recommended for applications requiring large heaps</span>
<span class="line-added">3776 (sizes of around 6 GB or larger) with limited GC latency requirements (a</span>
<span class="line-added">3777 stable and predictable pause time below 0.5 seconds).</span>
<span class="line-added">3778 By default, this option is enabled and G1 is used as the default garbage</span>
<span class="line-added">3779 collector.</span>
<span class="line-added">3780 .RS</span>
<span class="line-added">3781 .RE</span>
<span class="line-added">3782 .TP</span>
<span class="line-added">3783 .B \f[CB]\-XX:+UseGCOverheadLimit\f[R]</span>
<span class="line-added">3784 Enables the use of a policy that limits the proportion of time spent by</span>
<span class="line-added">3785 the JVM on GC before an \f[CB]OutOfMemoryError\f[R] exception is thrown.</span>
<span class="line-added">3786 This option is enabled, by default, and the parallel GC will throw an</span>
<span class="line-added">3787 \f[CB]OutOfMemoryError\f[R] if more than 98% of the total time is spent on</span>
<span class="line-added">3788 garbage collection and less than 2% of the heap is recovered.</span>
<span class="line-added">3789 When the heap is small, this feature can be used to prevent applications</span>
<span class="line-added">3790 from running for long periods of time with little or no progress.</span>
<span class="line-added">3791 To disable this option, specify the option</span>
<span class="line-added">3792 \f[CB]\-XX:\-UseGCOverheadLimit\f[R].</span>
<span class="line-added">3793 .RS</span>
<span class="line-added">3794 .RE</span>
<span class="line-added">3795 .TP</span>
<span class="line-added">3796 .B \f[CB]\-XX:+UseNUMA\f[R]</span>
<span class="line-added">3797 Enables performance optimization of an application on a machine with</span>
<span class="line-added">3798 nonuniform memory architecture (NUMA) by increasing the</span>
<span class="line-added">3799 application\[aq]s use of lower latency memory.</span>
<span class="line-added">3800 By default, this option is disabled and no optimization for NUMA is</span>
<span class="line-added">3801 made.</span>
<span class="line-added">3802 The option is available only when the parallel garbage collector is used</span>
<span class="line-added">3803 (\f[CB]\-XX:+UseParallelGC\f[R]).</span>
<span class="line-added">3804 .RS</span>
<span class="line-added">3805 .RE</span>
<span class="line-added">3806 .TP</span>
<span class="line-added">3807 .B \f[CB]\-XX:+UseParallelGC\f[R]</span>
<span class="line-added">3808 Enables the use of the parallel scavenge garbage collector (also known</span>
<span class="line-added">3809 as the throughput collector) to improve the performance of your</span>
<span class="line-added">3810 application by leveraging multiple processors.</span>
<span class="line-added">3811 .RS</span>
<span class="line-added">3812 .PP</span>
<span class="line-added">3813 By default, this option is disabled and the default collector is used.</span>
<span class="line-added">3814 If it\[aq]s enabled, then the \f[CB]\-XX:+UseParallelOldGC\f[R] option is</span>
<span class="line-added">3815 automatically enabled, unless you explicitly disable it.</span>
<span class="line-added">3816 .RE</span>
<span class="line-added">3817 .TP</span>
<span class="line-added">3818 .B \f[CB]\-XX:+UseSerialGC\f[R]</span>
<span class="line-added">3819 Enables the use of the serial garbage collector.</span>
<span class="line-added">3820 This is generally the best choice for small and simple applications that</span>
<span class="line-added">3821 don\[aq]t require any special functionality from garbage collection.</span>
<span class="line-added">3822 By default, this option is disabled and the default collector is used.</span>
<span class="line-added">3823 .RS</span>
<span class="line-added">3824 .RE</span>
<span class="line-added">3825 .TP</span>
<span class="line-added">3826 .B \f[CB]\-XX:+UseSHM\f[R]</span>
<span class="line-added">3827 \f[B]Linux only:\f[R] Enables the JVM to use shared memory to set up</span>
<span class="line-added">3828 large pages.</span>
<span class="line-added">3829 .RS</span>
<span class="line-added">3830 .PP</span>
<span class="line-added">3831 See \f[B]Large Pages\f[R] for setting up large pages.</span>
<span class="line-added">3832 .RE</span>
<span class="line-added">3833 .TP</span>
<span class="line-added">3834 .B \f[CB]\-XX:+UseStringDeduplication\f[R]</span>
<span class="line-added">3835 Enables string deduplication.</span>
<span class="line-added">3836 By default, this option is disabled.</span>
<span class="line-added">3837 To use this option, you must enable the garbage\-first (G1) garbage</span>
<span class="line-added">3838 collector.</span>
<span class="line-added">3839 .RS</span>
<span class="line-added">3840 .PP</span>
<span class="line-added">3841 String deduplication reduces the memory footprint of \f[CB]String\f[R]</span>
<span class="line-added">3842 objects on the Java heap by taking advantage of the fact that many</span>
<span class="line-added">3843 \f[CB]String\f[R] objects are identical.</span>
<span class="line-added">3844 Instead of each \f[CB]String\f[R] object pointing to its own character</span>
<span class="line-added">3845 array, identical \f[CB]String\f[R] objects can point to and share the same</span>
<span class="line-added">3846 character array.</span>
<span class="line-added">3847 .RE</span>
<span class="line-added">3848 .TP</span>
<span class="line-added">3849 .B \f[CB]\-XX:+UseTLAB\f[R]</span>
<span class="line-added">3850 Enables the use of thread\-local allocation blocks (TLABs) in the young</span>
<span class="line-added">3851 generation space.</span>
<span class="line-added">3852 This option is enabled by default.</span>
<span class="line-added">3853 To disable the use of TLABs, specify the option \f[CB]\-XX:\-UseTLAB\f[R].</span>
<span class="line-added">3854 .RS</span>
<span class="line-added">3855 .RE</span>
<span class="line-added">3856 .TP</span>
<span class="line-added">3857 .B \f[CB]\-XX:+UseZGC\f[R]</span>
<span class="line-added">3858 Enables the use of the Z garbage collector.</span>
<span class="line-added">3859 This garbage collector is best for providing lowest latency with large</span>
<span class="line-added">3860 Java heaps at some throughput cost.</span>
<span class="line-added">3861 This is an experimental garbage collector, you need to specify</span>
<span class="line-added">3862 \f[CB]\-XX:+UnlockExperimentalVMOptions\f[R] before \f[CB]\-XX:+UseZGC\f[R]</span>
<span class="line-added">3863 on the command line.</span>
<span class="line-added">3864 .RS</span>
3865 .PP
<a name="54" id="anc54"></a><span class="line-modified">3866 Example:</span>
<span class="line-modified">3867 .RS</span>
<span class="line-modified">3868 .PP</span>
<span class="line-modified">3869 \f[CB]\-XX:+UnlockExperimentalVMOptions\ \-XX:+UseZGC\f[R]</span>
<span class="line-modified">3870 .RE</span>
<span class="line-modified">3871 .RE</span>
<span class="line-modified">3872 .SH DEPRECATED JAVA OPTIONS</span>
<span class="line-modified">3873 .PP</span>
<span class="line-modified">3874 These \f[CB]java\f[R] options are deprecated and might be removed in a</span>
<span class="line-modified">3875 future JDK release.</span>
<span class="line-modified">3876 They\[aq]re still accepted and acted upon, but a warning is issued when</span>
<span class="line-modified">3877 they\[aq]re used.</span>
<span class="line-modified">3878 .TP</span>
<span class="line-modified">3879 .B \f[CB]\-Xfuture\f[R]</span>
<span class="line-modified">3880 Enables strict class\-file format checks that enforce close conformance</span>
<span class="line-modified">3881 to the class\-file format specification.</span>
<span class="line-modified">3882 Developers should use this flag when developing new code.</span>
<span class="line-modified">3883 Stricter checks may become the default in future releases.</span>
<span class="line-modified">3884 .RS</span>
<span class="line-modified">3885 .RE</span>
<span class="line-modified">3886 .TP</span>
<span class="line-modified">3887 .B \f[CB]\-Xloggc:\f[R]\f[I]filename\f[R]</span>
<span class="line-modified">3888 Sets the file to which verbose GC events information should be</span>
<span class="line-modified">3889 redirected for logging.</span>
<span class="line-modified">3890 The \f[CB]\-Xloggc\f[R] option overrides \f[CB]\-verbose:gc\f[R] if both are</span>
<span class="line-modified">3891 given with the same java command.</span>
<span class="line-modified">3892 \f[CB]\-Xloggc:\f[R]\f[I]filename\f[R] is replaced by</span>
<span class="line-modified">3893 \f[CB]\-Xlog:gc:\f[R]\f[I]filename\f[R].</span>
<span class="line-modified">3894 See Enable Logging with the JVM Unified Logging Framework.</span>
<span class="line-modified">3895 .RS</span>




























3896 .PP
<a name="55" id="anc55"></a><span class="line-modified">3897 Example:</span>




3898 .PP
<a name="56" id="anc56"></a><span class="line-modified">3899 \f[CB]\-Xlog:gc:garbage\-collection.log\f[R]</span>
<span class="line-modified">3900 .RE</span>
<span class="line-modified">3901 .TP</span>
<span class="line-modified">3902 .B \f[CB]\-XX:+FlightRecorder\f[R]</span>
<span class="line-added">3903 Enables the use of Java Flight Recorder (JFR) during the runtime of the</span>
<span class="line-added">3904 application.</span>
<span class="line-added">3905 Since JDK 8u40 this option has not been required to use JFR.</span>
<span class="line-added">3906 .RS</span>
<span class="line-added">3907 .RE</span>
<span class="line-added">3908 .TP</span>
<span class="line-added">3909 .B \f[CB]\-XX:InitialRAMFraction=\f[R]\f[I]ratio\f[R]</span>
<span class="line-added">3910 Sets the initial amount of memory that the JVM may use for the Java heap</span>
<span class="line-added">3911 before applying ergonomics heuristics as a ratio of the maximum amount</span>
<span class="line-added">3912 determined as described in the \f[CB]\-XX:MaxRAM\f[R] option.</span>
<span class="line-added">3913 The default value is 64.</span>
<span class="line-added">3914 .RS</span>
<span class="line-added">3915 .PP</span>
<span class="line-added">3916 Use the option \f[CB]\-XX:InitialRAMPercentage\f[R] instead.</span>
<span class="line-added">3917 .RE</span>
<span class="line-added">3918 .TP</span>
<span class="line-added">3919 .B \f[CB]\-XX:MaxRAMFraction=\f[R]\f[I]ratio\f[R]</span>
<span class="line-added">3920 Sets the maximum amount of memory that the JVM may use for the Java heap</span>
<span class="line-added">3921 before applying ergonomics heuristics as a fraction of the maximum</span>
<span class="line-added">3922 amount determined as described in the \f[CB]\-XX:MaxRAM\f[R] option.</span>
<span class="line-added">3923 The default value is 4.</span>
<span class="line-added">3924 .RS</span>
<span class="line-added">3925 .PP</span>
<span class="line-added">3926 Specifying this option disables automatic use of compressed oops if the</span>
<span class="line-added">3927 combined result of this and other options influencing the maximum amount</span>
<span class="line-added">3928 of memory is larger than the range of memory addressable by compressed</span>
<span class="line-added">3929 oops.</span>
<span class="line-added">3930 See \f[CB]\-XX:UseCompressedOops\f[R] for further information about</span>
<span class="line-added">3931 compressed oops.</span>
<span class="line-added">3932 .PP</span>
<span class="line-added">3933 Use the option \f[CB]\-XX:MaxRAMPercentage\f[R] instead.</span>
<span class="line-added">3934 .RE</span>
<span class="line-added">3935 .TP</span>
<span class="line-added">3936 .B \f[CB]\-XX:MinRAMFraction=\f[R]\f[I]ratio\f[R]</span>
<span class="line-added">3937 Sets the maximum amount of memory that the JVM may use for the Java heap</span>
<span class="line-added">3938 before applying ergonomics heuristics as a fraction of the maximum</span>
<span class="line-added">3939 amount determined as described in the \f[CB]\-XX:MaxRAM\f[R] option for</span>
<span class="line-added">3940 small heaps.</span>
<span class="line-added">3941 A small heap is a heap of approximately 125 MB.</span>
<span class="line-added">3942 The default value is 2.</span>
<span class="line-added">3943 .RS</span>
<span class="line-added">3944 .PP</span>
<span class="line-added">3945 Use the option \f[CB]\-XX:MinRAMPercentage\f[R] instead.</span>
<span class="line-added">3946 .RE</span>
<span class="line-added">3947 .TP</span>
<span class="line-added">3948 .B \f[CB]\-XX:+TraceClassLoading\f[R]</span>
<span class="line-added">3949 Enables tracing of classes as they are loaded.</span>
<span class="line-added">3950 By default, this option is disabled and classes aren\[aq]t traced.</span>
<span class="line-added">3951 .RS</span>
<span class="line-added">3952 .PP</span>
<span class="line-added">3953 The replacement Unified Logging syntax is</span>
<span class="line-added">3954 \f[CB]\-Xlog:class+load=\f[R]\f[I]level\f[R].</span>
<span class="line-added">3955 See \f[B]Enable Logging with the JVM Unified Logging Framework\f[R]</span>
<span class="line-added">3956 .PP</span>
<span class="line-added">3957 Use \f[I]level\f[R]=\f[CB]info\f[R] for regular information, or</span>
<span class="line-added">3958 \f[I]level\f[R]=\f[CB]debug\f[R] for additional information.</span>
<span class="line-added">3959 In Unified Logging syntax, \f[CB]\-verbose:class\f[R] equals</span>
<span class="line-added">3960 \f[CB]\-Xlog:class+load=info,class+unload=info\f[R].</span>
<span class="line-added">3961 .RE</span>
<span class="line-added">3962 .TP</span>
<span class="line-added">3963 .B \f[CB]\-XX:+TraceClassLoadingPreorder\f[R]</span>
<span class="line-added">3964 Enables tracing of all loaded classes in the order in which they\[aq]re</span>
<span class="line-added">3965 referenced.</span>
<span class="line-added">3966 By default, this option is disabled and classes aren\[aq]t traced.</span>
<span class="line-added">3967 .RS</span>
<span class="line-added">3968 .PP</span>
<span class="line-added">3969 The replacement Unified Logging syntax is</span>
<span class="line-added">3970 \f[CB]\-Xlog:class+preorder=debug\f[R].</span>
<span class="line-added">3971 See \f[B]Enable Logging with the JVM Unified Logging Framework\f[R].</span>
<span class="line-added">3972 .RE</span>
<span class="line-added">3973 .TP</span>
<span class="line-added">3974 .B \f[CB]\-XX:+TraceClassResolution\f[R]</span>
<span class="line-added">3975 Enables tracing of constant pool resolutions.</span>
<span class="line-added">3976 By default, this option is disabled and constant pool resolutions</span>
<span class="line-added">3977 aren\[aq]t traced.</span>
<span class="line-added">3978 .RS</span>
<span class="line-added">3979 .PP</span>
<span class="line-added">3980 The replacement Unified Logging syntax is</span>
<span class="line-added">3981 \f[CB]\-Xlog:class+resolve=debug\f[R].</span>
<span class="line-added">3982 See \f[B]Enable Logging with the JVM Unified Logging Framework\f[R].</span>
<span class="line-added">3983 .RE</span>
<span class="line-added">3984 .TP</span>
<span class="line-added">3985 .B \f[CB]\-XX:+TraceLoaderConstraints\f[R]</span>
<span class="line-added">3986 Enables tracing of the loader constraints recording.</span>
<span class="line-added">3987 By default, this option is disabled and loader constraints recording</span>
<span class="line-added">3988 isn\[aq]t traced.</span>
<span class="line-added">3989 .RS</span>
<span class="line-added">3990 .PP</span>
<span class="line-added">3991 The replacement Unified Logging syntax is</span>
<span class="line-added">3992 \f[CB]\-Xlog:class+loader+constraints=info\f[R].</span>
<span class="line-added">3993 See \f[B]Enable Logging with the JVM Unified Logging Framework\f[R].</span>
<span class="line-added">3994 .RE</span>
<span class="line-added">3995 .TP</span>
<span class="line-added">3996 .B \f[CB]\-XX:+UseParallelOldGC\f[R]</span>
<span class="line-added">3997 Enables the use of the parallel garbage collector for full GCs.</span>
<span class="line-added">3998 By default, this option is disabled.</span>
<span class="line-added">3999 Enabling it automatically enables the \f[CB]\-XX:+UseParallelGC\f[R]</span>
<span class="line-added">4000 option.</span>
<span class="line-added">4001 .RS</span>
<span class="line-added">4002 .RE</span>
<span class="line-added">4003 .SH OBSOLETE JAVA OPTIONS</span>
<span class="line-added">4004 .PP</span>
<span class="line-added">4005 These \f[CB]java\f[R] options are still accepted but ignored, and a</span>
<span class="line-added">4006 warning is issued when they\[aq]re used.</span>
<span class="line-added">4007 .TP</span>
<span class="line-added">4008 .B \f[CB]\-XX:+FailOverToOldVerifier\f[R]</span>
<span class="line-added">4009 Enables automatic failover to the old verifier when the new type checker</span>
<span class="line-added">4010 fails.</span>
<span class="line-added">4011 By default, this option is disabled and it\[aq]s ignored (that is,</span>
<span class="line-added">4012 treated as disabled) for classes with a recent bytecode version.</span>
<span class="line-added">4013 You can enable it only for classes with older versions of the bytecode.</span>
<span class="line-added">4014 .RS</span>
<span class="line-added">4015 .RE</span>
<span class="line-added">4016 .TP</span>
<span class="line-added">4017 .B \f[CB]\-XX:+UseMembar\f[R]</span>
<span class="line-added">4018 Enabled issuing membars on thread\-state transitions.</span>
<span class="line-added">4019 This option was disabled by default on all platforms except ARM servers,</span>
<span class="line-added">4020 where it was enabled.</span>
<span class="line-added">4021 .RS</span>
<span class="line-added">4022 .RE</span>
<span class="line-added">4023 .TP</span>
<span class="line-added">4024 .B \f[CB]\-XX:MaxPermSize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">4025 Sets the maximum permanent generation space size (in bytes).</span>
<span class="line-added">4026 This option was deprecated in JDK 8 and superseded by the</span>
<span class="line-added">4027 \f[CB]\-XX:MaxMetaspaceSize\f[R] option.</span>
<span class="line-added">4028 .RS</span>
<span class="line-added">4029 .RE</span>
<span class="line-added">4030 .TP</span>
<span class="line-added">4031 .B \f[CB]\-XX:PermSize=\f[R]\f[I]size\f[R]</span>
<span class="line-added">4032 Sets the space (in bytes) allocated to the permanent generation that</span>
<span class="line-added">4033 triggers a garbage collection if it\[aq]s exceeded.</span>
<span class="line-added">4034 This option was deprecated in JDK 8 and superseded by the</span>
<span class="line-added">4035 \f[CB]\-XX:MetaspaceSize\f[R] option.</span>
<span class="line-added">4036 .RS</span>
<span class="line-added">4037 .RE</span>
<span class="line-added">4038 .SH REMOVED JAVA OPTIONS</span>
<span class="line-added">4039 .PP</span>
<span class="line-added">4040 No documented \f[CB]java\f[R] options have been removed in JDK 14.</span>
<span class="line-added">4041 .PP</span>
<span class="line-added">4042 For the lists and descriptions of options removed in previous releases</span>
<span class="line-added">4043 see the \f[I]Removed Java Options\f[R] section in:</span>
<span class="line-added">4044 .IP \[bu] 2</span>
<span class="line-added">4045 \f[B]Java Platform, Standard Edition Tools Reference, Release 13\f[R]</span>
<span class="line-added">4046 [https://docs.oracle.com/en/java/javase/13/docs/specs/man/java.html]</span>
<span class="line-added">4047 .IP \[bu] 2</span>
<span class="line-added">4048 \f[B]Java Platform, Standard Edition Tools Reference, Release 12\f[R]</span>
<span class="line-added">4049 [https://docs.oracle.com/en/java/javase/12/tools/java.html#GUID\-3B1CE181\-CD30\-4178\-9602\-230B800D4FAE]</span>
<span class="line-added">4050 .IP \[bu] 2</span>
<span class="line-added">4051 \f[B]Java Platform, Standard Edition Tools Reference, Release 11\f[R]</span>
<span class="line-added">4052 [https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID\-741FC470\-AA3E\-494A\-8D2B\-1B1FE4A990D1]</span>
<span class="line-added">4053 .IP \[bu] 2</span>
<span class="line-added">4054 \f[B]Java Platform, Standard Edition Tools Reference, Release 10\f[R]</span>
<span class="line-added">4055 [https://docs.oracle.com/javase/10/tools/java.htm#JSWOR624]</span>
<span class="line-added">4056 .IP \[bu] 2</span>
<span class="line-added">4057 \f[B]Java Platform, Standard Edition Tools Reference, Release 9\f[R]</span>
<span class="line-added">4058 [https://docs.oracle.com/javase/9/tools/java.htm#JSWOR624]</span>
<span class="line-added">4059 .IP \[bu] 2</span>
<span class="line-added">4060 \f[B]Java Platform, Standard Edition Tools Reference, Release 8 for</span>
<span class="line-added">4061 Oracle JDK on Windows\f[R]</span>
<span class="line-added">4062 [https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html#BGBCIEFC]</span>
<span class="line-added">4063 .IP \[bu] 2</span>
<span class="line-added">4064 \f[B]Java Platform, Standard Edition Tools Reference, Release 8 for</span>
<span class="line-added">4065 Oracle JDK on Solaris, Linux, and macOS\f[R]</span>
<span class="line-added">4066 [https://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html#BGBCIEFC]</span>
<span class="line-added">4067 .SH JAVA COMMAND\-LINE ARGUMENT FILES</span>
<span class="line-added">4068 .PP</span>
<span class="line-added">4069 You can shorten or simplify the \f[CB]java\f[R] command by using</span>
<span class="line-added">4070 \f[CB]\@\f[R] argument files to specify one or more text files that</span>
<span class="line-added">4071 contain arguments, such as options and class names, which are passed to</span>
<span class="line-added">4072 the \f[CB]java\f[R] command.</span>
<span class="line-added">4073 This let\[aq]s you to create \f[CB]java\f[R] commands of any length on any</span>
<span class="line-added">4074 operating system.</span>
<span class="line-added">4075 .PP</span>
<span class="line-added">4076 In the command line, use the at sign (\f[CB]\@\f[R]) prefix to identify an</span>
<span class="line-added">4077 argument file that contains \f[CB]java\f[R] options and class names.</span>
<span class="line-added">4078 When the \f[CB]java\f[R] command encounters a file beginning with the at</span>
<span class="line-added">4079 sign (\f[CB]\@\f[R]), it expands the contents of that file into an</span>
<span class="line-added">4080 argument list just as they would be specified on the command line.</span>
<span class="line-added">4081 .PP</span>
<span class="line-added">4082 The \f[CB]java\f[R] launcher expands the argument file contents until it</span>
<span class="line-added">4083 encounters the \f[CB]\-\-disable\-\@files\f[R] option.</span>
<span class="line-added">4084 You can use the \f[CB]\-\-disable\-\@files\f[R] option anywhere on the</span>
<span class="line-added">4085 command line, including in an argument file, to stop \f[CB]\@\f[R]</span>
<span class="line-added">4086 argument files expansion.</span>
<span class="line-added">4087 .PP</span>
<span class="line-added">4088 The following items describe the syntax of \f[CB]java\f[R] argument files:</span>
<span class="line-added">4089 .IP \[bu] 2</span>
<span class="line-added">4090 The argument file must contain only ASCII characters or characters in</span>
<span class="line-added">4091 system default encoding that\[aq]s ASCII friendly, such as UTF\-8.</span>
<span class="line-added">4092 .IP \[bu] 2</span>
<span class="line-added">4093 The argument file size must not exceed MAXINT (2,147,483,647) bytes.</span>
<span class="line-added">4094 .IP \[bu] 2</span>
<span class="line-added">4095 The launcher doesn\[aq]t expand wildcards that are present within an</span>
<span class="line-added">4096 argument file.</span>
<span class="line-added">4097 .IP \[bu] 2</span>
<span class="line-added">4098 Use white space or new line characters to separate arguments included in</span>
<span class="line-added">4099 the file.</span>
<span class="line-added">4100 .IP \[bu] 2</span>
<span class="line-added">4101 White space includes a white space character, \f[CB]\\t\f[R],</span>
<span class="line-added">4102 \f[CB]\\n\f[R], \f[CB]\\r\f[R], and \f[CB]\\f\f[R].</span>
<span class="line-added">4103 .RS 2</span>
<span class="line-added">4104 .PP</span>
<span class="line-added">4105 For example, it is possible to have a path with a space, such as</span>
<span class="line-added">4106 \f[CB]c:\\Program\ Files\f[R] that can be specified as either</span>
<span class="line-added">4107 \f[CB]&quot;c:\\\\Program\ Files&quot;\f[R] or, to avoid an escape,</span>
<span class="line-added">4108 \f[CB]c:\\Program&quot;\ &quot;Files\f[R].</span>
<span class="line-added">4109 .RE</span>
<span class="line-added">4110 .IP \[bu] 2</span>
<span class="line-added">4111 Any option that contains spaces, such as a path component, must be</span>
<span class="line-added">4112 within quotation marks using quotation (\[aq]&quot;\[aq]) characters in its</span>
<span class="line-added">4113 entirety.</span>
<span class="line-added">4114 .IP \[bu] 2</span>
<span class="line-added">4115 A string within quotation marks may contain the characters \f[CB]\\n\f[R],</span>
<span class="line-added">4116 \f[CB]\\r\f[R], \f[CB]\\t\f[R], and \f[CB]\\f\f[R].</span>
<span class="line-added">4117 They are converted to their respective ASCII codes.</span>
<span class="line-added">4118 .IP \[bu] 2</span>
<span class="line-added">4119 If a file name contains embedded spaces, then put the whole file name in</span>
<span class="line-added">4120 double quotation marks.</span>
<span class="line-added">4121 .IP \[bu] 2</span>
<span class="line-added">4122 File names in an argument file are relative to the current directory,</span>
<span class="line-added">4123 not to the location of the argument file.</span>
<span class="line-added">4124 .IP \[bu] 2</span>
<span class="line-added">4125 Use the number sign \f[CB]#\f[R] in the argument file to identify</span>
<span class="line-added">4126 comments.</span>
<span class="line-added">4127 All characters following the \f[CB]#\f[R] are ignored until the end of</span>
<span class="line-added">4128 line.</span>
<span class="line-added">4129 .IP \[bu] 2</span>
<span class="line-added">4130 Additional at sign \f[CB]\@\f[R] prefixes to \f[CB]\@\f[R] prefixed options</span>
<span class="line-added">4131 act as an escape, (the first \f[CB]\@\f[R] is removed and the rest of the</span>
<span class="line-added">4132 arguments are presented to the launcher literally).</span>
<span class="line-added">4133 .IP \[bu] 2</span>
<span class="line-added">4134 Lines may be continued using the continuation character (\f[CB]\\\f[R]) at</span>
<span class="line-added">4135 the end\-of\-line.</span>
<span class="line-added">4136 The two lines are concatenated with the leading white spaces trimmed.</span>
<span class="line-added">4137 To prevent trimming the leading white spaces, a continuation character</span>
<span class="line-added">4138 (\f[CB]\\\f[R]) may be placed at the first column.</span>
<span class="line-added">4139 .IP \[bu] 2</span>
<span class="line-added">4140 Because backslash (\\) is an escape character, a backslash character</span>
<span class="line-added">4141 must be escaped with another backslash character.</span>
<span class="line-added">4142 .IP \[bu] 2</span>
<span class="line-added">4143 Partial quote is allowed and is closed by an end\-of\-file.</span>
<span class="line-added">4144 .IP \[bu] 2</span>
<span class="line-added">4145 An open quote stops at end\-of\-line unless \f[CB]\\\f[R] is the last</span>
<span class="line-added">4146 character, which then joins the next line by removing all leading white</span>
<span class="line-added">4147 space characters.</span>
<span class="line-added">4148 .IP \[bu] 2</span>
<span class="line-added">4149 Wildcards (*) aren\[aq]t allowed in these lists (such as specifying</span>
<span class="line-added">4150 \f[CB]*.java\f[R]).</span>
<span class="line-added">4151 .IP \[bu] 2</span>
<span class="line-added">4152 Use of the at sign (\f[CB]\@\f[R]) to recursively interpret files</span>
<span class="line-added">4153 isn\[aq]t supported.</span>
<span class="line-added">4154 .SS Example of Open or Partial Quotes in an Argument File</span>
<span class="line-added">4155 .PP</span>
<span class="line-added">4156 In the argument file,</span>
<span class="line-added">4157 .IP</span>
<span class="line-added">4158 .nf</span>
<span class="line-added">4159 \f[CB]</span>
<span class="line-added">4160 \-cp\ &quot;lib/</span>
<span class="line-added">4161 cool/</span>
<span class="line-added">4162 app/</span>
<span class="line-added">4163 jars</span>
<span class="line-added">4164 \f[R]</span>
<span class="line-added">4165 .fi</span>
4166 .PP
<a name="57" id="anc57"></a><span class="line-modified">4167 this is interpreted as:</span>
<span class="line-modified">4168 .RS</span>


4169 .PP
<a name="58" id="anc58"></a><span class="line-modified">4170 \f[CB]\-cp\ lib/cool/app/jars\f[R]</span>


4171 .RE
<a name="59" id="anc59"></a><span class="line-added">4172 .SS Example of a Backslash Character Escaped with Another Backslash</span>
<span class="line-added">4173 Character in an Argument File</span>
4174 .PP
<a name="60" id="anc60"></a><span class="line-modified">4175 To output the following:</span>
<span class="line-modified">4176 .RS</span>
<span class="line-modified">4177 .PP</span>
<span class="line-modified">4178 \f[CB]\-cp\ c:\\Program\ Files\ (x86)\\Java\\jre\\lib\\ext;c:\\Program\ Files\\Java\\jre9\\lib\\ext\f[R]</span>


4179 .RE
4180 .PP
<a name="61" id="anc61"></a><span class="line-modified">4181 The backslash character must be specified in the argument file as:</span>
<span class="line-modified">4182 .RS</span>



4183 .PP
<a name="62" id="anc62"></a><span class="line-modified">4184 \f[CB]\-cp\ &quot;c:\\\\Program\ Files\ (x86)\\\\Java\\\\jre\\\\lib\\\\ext;c:\\\\Program\ Files\\\\Java\\\\jre9\\\\lib\\\\ext&quot;\f[R]</span>


4185 .RE
<a name="63" id="anc63"></a><span class="line-added">4186 .SS Example of an EOL Escape Used to Force Concatenation of Lines in an</span>
<span class="line-added">4187 Argument File</span>
4188 .PP
<a name="64" id="anc64"></a><span class="line-modified">4189 In the argument file,</span>
<span class="line-modified">4190 .IP</span>
<span class="line-modified">4191 .nf</span>
<span class="line-modified">4192 \f[CB]</span>
<span class="line-added">4193 \-cp\ &quot;/lib/cool\ app/jars:\\</span>
<span class="line-added">4194 \ \ \ \ /lib/another\ app/jars&quot;</span>
<span class="line-added">4195 \f[R]</span>
<span class="line-added">4196 .fi</span>
4197 .PP
<a name="65" id="anc65"></a><span class="line-modified">4198 This is interpreted as:</span>
<span class="line-modified">4199 .RS</span>


4200 .PP
<a name="66" id="anc66"></a><span class="line-modified">4201 \f[CB]\-cp\ /lib/cool\ app/jars:/lib/another\ app/jars\f[R]</span>



4202 .RE
<a name="67" id="anc67"></a><span class="line-added">4203 .SS Example of Line Continuation with Leading Spaces in an Argument File</span>
4204 .PP
<a name="68" id="anc68"></a><span class="line-modified">4205 In the argument file,</span>
<span class="line-modified">4206 .IP</span>





















































































4207 .nf
<a name="69" id="anc69"></a><span class="line-modified">4208 \f[CB]</span>
<span class="line-modified">4209 \-cp\ &quot;/lib/cool\\</span>
<span class="line-modified">4210 \\app/jars???</span>
<span class="line-modified">4211 \f[R]</span>
4212 .fi
<a name="70" id="anc70"></a>





4213 .PP
<a name="71" id="anc71"></a><span class="line-modified">4214 This is interpreted as:</span>








4215 .PP
<a name="72" id="anc72"></a><span class="line-modified">4216 \f[CB]\-cp\ /lib/cool\ app/jars\f[R]</span>
<span class="line-modified">4217 .SS Examples of Using Single Argument File</span>



4218 .PP
<a name="73" id="anc73"></a><span class="line-modified">4219 You can use a single argument file, such as \f[CB]myargumentfile\f[R] in</span>
<span class="line-modified">4220 the following example, to hold all required \f[CB]java\f[R] arguments:</span>
<span class="line-modified">4221 .RS</span>
<span class="line-modified">4222 .PP</span>
<span class="line-added">4223 \f[CB]java\ \@myargumentfile\f[R]</span>
<span class="line-added">4224 .RE</span>
<span class="line-added">4225 .SS Examples of Using Argument Files with Paths</span>
4226 .PP
<a name="74" id="anc74"></a><span class="line-modified">4227 You can include relative paths in argument files; however, they\[aq]re</span>
<span class="line-modified">4228 relative to the current working directory and not to the paths of the</span>
<span class="line-modified">4229 argument files themselves.</span>
<span class="line-modified">4230 In the following example, \f[CB]path1/options\f[R] and</span>
<span class="line-modified">4231 \f[CB]path2/options\f[R] represent argument files with different paths.</span>
<span class="line-modified">4232 Any relative paths that they contain are relative to the current working</span>
<span class="line-modified">4233 directory and not to the argument files:</span>
<span class="line-modified">4234 .RS</span>
<span class="line-modified">4235 .PP</span>
<span class="line-modified">4236 \f[CB]java\ \@path1/options\ \@path2/classes\f[R]</span>
<span class="line-modified">4237 .RE</span>
<span class="line-modified">4238 .SH CODE HEAP STATE ANALYTICS</span>
<span class="line-modified">4239 .SS Overview</span>
<span class="line-modified">4240 .PP</span>
<span class="line-modified">4241 There are occasions when having insight into the current state of the</span>
<span class="line-modified">4242 JVM code heap would be helpful to answer questions such as:</span>
<span class="line-modified">4243 .IP \[bu] 2</span>
<span class="line-modified">4244 Why was the JIT turned off and then on again and again?</span>
<span class="line-modified">4245 .IP \[bu] 2</span>
<span class="line-modified">4246 Where has all the code heap space gone?</span>
<span class="line-modified">4247 .IP \[bu] 2</span>
<span class="line-modified">4248 Why is the method sweeper not working effectively?</span>
<span class="line-modified">4249 .PP</span>
<span class="line-modified">4250 To provide this insight, a code heap state analytics feature has been</span>
<span class="line-modified">4251 implemented that enables on\-the\-fly analysis of the code heap.</span>
<span class="line-modified">4252 The analytics process is divided into two parts.</span>
<span class="line-modified">4253 The first part examines the entire code heap and aggregates all</span>
<span class="line-modified">4254 information that is believed to be useful or important.</span>
<span class="line-modified">4255 The second part consists of several independent steps that print the</span>
<span class="line-modified">4256 collected information with an emphasis on different aspects of the data.</span>
<span class="line-modified">4257 Data collection and printing are done on an &quot;on request&quot; basis.</span>
<span class="line-modified">4258 .SS Syntax</span>
<span class="line-modified">4259 .PP</span>
<span class="line-modified">4260 Requests for real\-time, on\-the\-fly analysis can be issued with the</span>
<span class="line-modified">4261 following command:</span>
<span class="line-modified">4262 .RS</span>
<span class="line-modified">4263 .PP</span>
<span class="line-modified">4264 \f[CB]jcmd\f[R] \f[I]pid\f[R] \f[CB]Compiler.CodeHeap_Analytics\f[R]</span>
<span class="line-modified">4265 [\f[I]function\f[R]] [\f[I]granularity\f[R]]</span>
<span class="line-modified">4266 .RE</span>
<span class="line-modified">4267 .PP</span>
<span class="line-modified">4268 If you are only interested in how the code heap looks like after running</span>
<span class="line-modified">4269 a sample workload, you can use the command line option:</span>
<span class="line-modified">4270 .RS</span>
<span class="line-modified">4271 .PP</span>
<span class="line-modified">4272 \f[CB]\-Xlog:codecache=Trace\f[R]</span>
<span class="line-modified">4273 .RE</span>
<span class="line-modified">4274 .PP</span>
<span class="line-modified">4275 To see the code heap state when a &quot;CodeCache full&quot; condition exists,</span>
<span class="line-modified">4276 start the VM with the command line option:</span>
<span class="line-modified">4277 .RS</span>
<span class="line-modified">4278 .PP</span>
<span class="line-modified">4279 \f[CB]\-Xlog:codecache=Debug\f[R]</span>
<span class="line-modified">4280 .RE</span>
<span class="line-modified">4281 .PP</span>
<span class="line-modified">4282 See \f[B]CodeHeap State Analytics (OpenJDK)\f[R]</span>
<span class="line-modified">4283 [https://bugs.openjdk.java.net/secure/attachment/75649/JVM_CodeHeap_StateAnalytics_V2.pdf]</span>
<span class="line-modified">4284 for a detailed description of the code heap state analytics feature, the</span>
<span class="line-modified">4285 supported functions, and the granularity options.</span>
<span class="line-modified">4286 .SH ENABLE LOGGING WITH THE JVM UNIFIED LOGGING FRAMEWORK</span>
<span class="line-modified">4287 .PP</span>
<span class="line-modified">4288 You use the \f[CB]\-Xlog\f[R] option to configure or enable logging with</span>
<span class="line-modified">4289 the Java Virtual Machine (JVM) unified logging framework.</span>
<span class="line-modified">4290 .SS Synopsis</span>
<span class="line-modified">4291 .RS</span>
<span class="line-modified">4292 .PP</span>
<span class="line-modified">4293 \f[CB]\-Xlog\f[R][\f[CB]:\f[R][\f[I]what\f[R]][\f[CB]:\f[R][\f[I]output\f[R]][\f[CB]:\f[R][\f[I]decorators\f[R]][\f[CB]:\f[R]\f[I]output\-options\f[R][\f[CB],\f[R]...]]]]]</span>
<span class="line-modified">4294 .RE</span>
<span class="line-modified">4295 .TP</span>
<span class="line-modified">4296 .B \f[I]what\f[R]</span>
<span class="line-modified">4297 Specifies a combination of tags and levels of the form</span>
<span class="line-modified">4298 \f[I]tag1\f[R][\f[CB]+\f[R]\f[I]tag2\f[R]...][\f[CB]*\f[R]][\f[CB]=\f[R]\f[I]level\f[R]][\f[CB],\f[R]...].</span>
<span class="line-modified">4299 Unless the wildcard (\f[CB]*\f[R]) is specified, only log messages tagged</span>
<span class="line-modified">4300 with exactly the tags specified are matched.</span>
<span class="line-modified">4301 See \f[B]\-Xlog Tags and Levels\f[R].</span>
<span class="line-modified">4302 .RS</span>
<span class="line-modified">4303 .RE</span>
<span class="line-modified">4304 .TP</span>
<span class="line-modified">4305 .B \f[I]output\f[R]</span>
<span class="line-modified">4306 Sets the type of output.</span>
<span class="line-modified">4307 Omitting the \f[I]output\f[R] type defaults to \f[CB]stdout\f[R].</span>
<span class="line-modified">4308 See \f[B]\-Xlog Output\f[R].</span>
<span class="line-modified">4309 .RS</span>
<span class="line-modified">4310 .RE</span>
<span class="line-modified">4311 .TP</span>
<span class="line-modified">4312 .B \f[I]decorators\f[R]</span>
<span class="line-modified">4313 Configures the output to use a custom set of decorators.</span>
<span class="line-modified">4314 Omitting \f[I]decorators\f[R] defaults to \f[CB]uptime\f[R],</span>
<span class="line-modified">4315 \f[CB]level\f[R], and \f[CB]tags\f[R].</span>
<span class="line-modified">4316 See \f[B]Decorations\f[R].</span>
<span class="line-modified">4317 .RS</span>
<span class="line-modified">4318 .RE</span>
<span class="line-modified">4319 .TP</span>
<span class="line-modified">4320 .B \f[I]output\-options\f[R]</span>
<span class="line-modified">4321 Sets the \f[CB]\-Xlog\f[R] logging output options.</span>
<span class="line-modified">4322 .RS</span>
<span class="line-modified">4323 .RE</span>
<span class="line-modified">4324 .SS Description</span>
<span class="line-modified">4325 .PP</span>
<span class="line-modified">4326 The Java Virtual Machine (JVM) unified logging framework provides a</span>
<span class="line-modified">4327 common logging system for all components of the JVM.</span>
<span class="line-modified">4328 GC logging for the JVM has been changed to use the new logging</span>
<span class="line-modified">4329 framework.</span>
<span class="line-modified">4330 The mapping of old GC flags to the corresponding new Xlog configuration</span>
<span class="line-modified">4331 is described in \f[B]Convert GC Logging Flags to Xlog\f[R].</span>
<span class="line-modified">4332 In addition, runtime logging has also been changed to use the JVM</span>
<span class="line-modified">4333 unified logging framework.</span>
<span class="line-modified">4334 The mapping of legacy runtime logging flags to the corresponding new</span>
<span class="line-modified">4335 Xlog configuration is described in \f[B]Convert Runtime Logging Flags to</span>
<span class="line-modified">4336 Xlog\f[R].</span>
<span class="line-modified">4337 .PP</span>
<span class="line-modified">4338 The following provides quick reference to the \f[CB]\-Xlog\f[R] command</span>
<span class="line-modified">4339 and syntax for options:</span>
<span class="line-modified">4340 .TP</span>
<span class="line-modified">4341 .B \f[CB]\-Xlog\f[R]</span>
<span class="line-modified">4342 Enables JVM logging on an \f[CB]info\f[R] level.</span>
<span class="line-modified">4343 .RS</span>
<span class="line-modified">4344 .RE</span>
<span class="line-modified">4345 .TP</span>
<span class="line-modified">4346 .B \f[CB]\-Xlog:help\f[R]</span>
<span class="line-modified">4347 Prints \f[CB]\-Xlog\f[R] usage syntax and available tags, levels, and</span>
<span class="line-modified">4348 decorators along with example command lines with explanations.</span>
<span class="line-modified">4349 .RS</span>
<span class="line-modified">4350 .RE</span>
<span class="line-modified">4351 .TP</span>
<span class="line-modified">4352 .B \f[CB]\-Xlog:disable\f[R]</span>
<span class="line-modified">4353 Turns off all logging and clears all configuration of the logging</span>
<span class="line-modified">4354 framework including the default configuration for warnings and errors.</span>
<span class="line-modified">4355 .RS</span>
<span class="line-modified">4356 .RE</span>
<span class="line-modified">4357 .TP</span>
<span class="line-modified">4358 .B \f[CB]\-Xlog\f[R][\f[CB]:\f[R]\f[I]option\f[R]]</span>
<span class="line-modified">4359 Applies multiple arguments in the order that they appear on the command</span>
<span class="line-modified">4360 line.</span>
<span class="line-modified">4361 Multiple \f[CB]\-Xlog\f[R] arguments for the same output override each</span>
<span class="line-modified">4362 other in their given order.</span>
<span class="line-modified">4363 .RS</span>
<span class="line-modified">4364 .PP</span>
<span class="line-modified">4365 The \f[I]option\f[R] is set as:</span>
<span class="line-modified">4366 .RS</span>
<span class="line-modified">4367 .PP</span>
<span class="line-modified">4368 [\f[I]tag\-selection\f[R]][\f[CB]:\f[R][\f[I]output\f[R]][\f[CB]:\f[R][\f[I]decorators\f[R]][\f[CB]:\f[R]\f[I]output\-options\f[R]]]]</span>
<span class="line-modified">4369 .RE</span>
<span class="line-modified">4370 .PP</span>
<span class="line-modified">4371 Omitting the \f[I]tag\-selection\f[R] defaults to a tag\-set of</span>
<span class="line-modified">4372 \f[CB]all\f[R] and a level of \f[CB]info\f[R].</span>
<span class="line-modified">4373 .RS</span>
<span class="line-modified">4374 .PP</span>
<span class="line-modified">4375 \f[I]tag\f[R][\f[CB]+\f[R]...] \f[CB]all\f[R]</span>
<span class="line-modified">4376 .RE</span>
<span class="line-modified">4377 .PP</span>
<span class="line-modified">4378 The \f[CB]all\f[R] tag is a meta tag consisting of all tag\-sets</span>
<span class="line-modified">4379 available.</span>
<span class="line-modified">4380 The asterisk \f[CB]*\f[R] in a tag set definition denotes a wildcard tag</span>
<span class="line-modified">4381 match.</span>
<span class="line-modified">4382 Matching with a wildcard selects all tag sets that contain \f[I]at</span>
<span class="line-modified">4383 least\f[R] the specified tags.</span>
<span class="line-modified">4384 Without the wildcard, only exact matches of the specified tag sets are</span>
<span class="line-modified">4385 selected.</span>
<span class="line-modified">4386 .PP</span>
<span class="line-modified">4387 \f[I]output\-options\f[R] is</span>
<span class="line-modified">4388 .RS</span>
<span class="line-modified">4389 .PP</span>
<span class="line-modified">4390 \f[CB]filecount=\f[R]\f[I]file\-count\f[R] \f[CB]filesize=\f[R]\f[I]file size</span>
<span class="line-modified">4391 with optional K, M or G suffix\f[R]</span>
<span class="line-modified">4392 .RE</span>
<span class="line-modified">4393 .RE</span>
<span class="line-modified">4394 .SS Default Configuration</span>
<span class="line-modified">4395 .PP</span>
<span class="line-modified">4396 When the \f[CB]\-Xlog\f[R] option and nothing else is specified on the</span>
<span class="line-modified">4397 command line, the default configuration is used.</span>
<span class="line-modified">4398 The default configuration logs all messages with a level that matches</span>
<span class="line-modified">4399 either warning or error regardless of what tags the message is</span>
<span class="line-modified">4400 associated with.</span>
<span class="line-modified">4401 The default configuration is equivalent to entering the following on the</span>
<span class="line-modified">4402 command line:</span>
<span class="line-modified">4403 .RS</span>
<span class="line-modified">4404 .PP</span>
<span class="line-modified">4405 \f[CB]\-Xlog:all=warning:stdout:uptime,level,tags\f[R]</span>
<span class="line-modified">4406 .RE</span>
<span class="line-modified">4407 .SS Controlling Logging at Runtime</span>
<span class="line-modified">4408 .PP</span>
<span class="line-modified">4409 Logging can also be controlled at run time through Diagnostic Commands</span>
<span class="line-modified">4410 (with the \f[B]jcmd\f[R] utility).</span>
<span class="line-modified">4411 Everything that can be specified on the command line can also be</span>
<span class="line-modified">4412 specified dynamically with the \f[CB]VM.log\f[R] command.</span>
<span class="line-modified">4413 As the diagnostic commands are automatically exposed as MBeans, you can</span>
<span class="line-modified">4414 use JMX to change logging configuration at run time.</span>
<span class="line-modified">4415 .SS \-Xlog Tags and Levels</span>
<span class="line-modified">4416 .PP</span>
<span class="line-modified">4417 Each log message has a level and a tag set associated with it.</span>
<span class="line-modified">4418 The level of the message corresponds to its details, and the tag set</span>
<span class="line-modified">4419 corresponds to what the message contains or which JVM component it</span>
<span class="line-modified">4420 involves (such as, \f[CB]gc\f[R], \f[CB]jit\f[R], or \f[CB]os\f[R]).</span>
<span class="line-modified">4421 Mapping GC flags to the Xlog configuration is described in \f[B]Convert</span>
<span class="line-modified">4422 GC Logging Flags to Xlog\f[R].</span>
<span class="line-modified">4423 Mapping legacy runtime logging flags to the corresponding Xlog</span>
<span class="line-modified">4424 configuration is described in \f[B]Convert Runtime Logging Flags to</span>
<span class="line-modified">4425 Xlog\f[R].</span>
<span class="line-modified">4426 .PP</span>
<span class="line-modified">4427 \f[B]Available log levels:\f[R]</span>
<span class="line-modified">4428 .IP \[bu] 2</span>
<span class="line-modified">4429 \f[CB]off\f[R]</span>
<span class="line-modified">4430 .IP \[bu] 2</span>
<span class="line-modified">4431 \f[CB]trace\f[R]</span>
<span class="line-modified">4432 .IP \[bu] 2</span>
<span class="line-modified">4433 \f[CB]debug\f[R]</span>
<span class="line-modified">4434 .IP \[bu] 2</span>
<span class="line-modified">4435 \f[CB]info\f[R]</span>
<span class="line-modified">4436 .IP \[bu] 2</span>
<span class="line-modified">4437 \f[CB]warning\f[R]</span>
<span class="line-modified">4438 .IP \[bu] 2</span>
<span class="line-modified">4439 \f[CB]error\f[R]</span>
<span class="line-modified">4440 .PP</span>
<span class="line-modified">4441 \f[B]Available log tags:\f[R]</span>
<span class="line-modified">4442 .PP</span>
<span class="line-modified">4443 There are literally dozens of log tags, which in the right combinations,</span>
<span class="line-modified">4444 will enable a range of logging output.</span>
<span class="line-modified">4445 The full set of available log tags can be seen using</span>
<span class="line-modified">4446 \f[CB]\-Xlog:help\f[R].</span>
<span class="line-modified">4447 Specifying \f[CB]all\f[R] instead of a tag combination matches all tag</span>
<span class="line-modified">4448 combinations.</span>
<span class="line-modified">4449 .SS \-Xlog Output</span>
<span class="line-modified">4450 .PP</span>
<span class="line-modified">4451 The \f[CB]\-Xlog\f[R] option supports the following types of outputs:</span>
<span class="line-modified">4452 .IP \[bu] 2</span>
<span class="line-modified">4453 \f[CB]stdout\f[R] \-\-\- Sends output to stdout</span>
<span class="line-modified">4454 .IP \[bu] 2</span>
<span class="line-modified">4455 \f[CB]stderr\f[R] \-\-\- Sends output to stderr</span>
<span class="line-modified">4456 .IP \[bu] 2</span>
<span class="line-modified">4457 \f[CB]file=\f[R]\f[I]filename\f[R] \-\-\- Sends output to text file(s).</span>
<span class="line-modified">4458 .PP</span>
<span class="line-modified">4459 When using \f[CB]file=\f[R]\f[I]filename\f[R], specifying \f[CB]%p\f[R]</span>
<span class="line-modified">4460 and/or \f[CB]%t\f[R] in the file name expands to the JVM\[aq]s PID and</span>
<span class="line-modified">4461 startup timestamp, respectively.</span>
<span class="line-modified">4462 You can also configure text files to handle file rotation based on file</span>
<span class="line-modified">4463 size and a number of files to rotate.</span>
<span class="line-modified">4464 For example, to rotate the log file every 10 MB and keep 5 files in</span>
<span class="line-modified">4465 rotation, specify the options \f[CB]filesize=10M,\ filecount=5\f[R].</span>
<span class="line-modified">4466 The target size of the files isn\[aq]t guaranteed to be exact, it\[aq]s</span>
<span class="line-modified">4467 just an approximate value.</span>
<span class="line-modified">4468 Files are rotated by default with up to 5 rotated files of target size</span>
<span class="line-modified">4469 20 MB, unless configured otherwise.</span>
<span class="line-modified">4470 Specifying \f[CB]filecount=0\f[R] means that the log file shouldn\[aq]t be</span>
<span class="line-modified">4471 rotated.</span>
<span class="line-modified">4472 There\[aq]s a possibility of the pre\-existing log file getting</span>
<span class="line-modified">4473 overwritten.</span>
<span class="line-modified">4474 .SS Decorations</span>
<span class="line-modified">4475 .PP</span>
<span class="line-modified">4476 Logging messages are decorated with information about the message.</span>
<span class="line-modified">4477 You can configure each output to use a custom set of decorators.</span>
<span class="line-modified">4478 The order of the output is always the same as listed in the table.</span>
<span class="line-modified">4479 You can configure the decorations to be used at run time.</span>
<span class="line-modified">4480 Decorations are prepended to the log message.</span>
<span class="line-modified">4481 For example:</span>
<span class="line-modified">4482 .IP</span>






























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































4483 .nf
<a name="75" id="anc75"></a><span class="line-modified">4484 \f[CB]</span>
<span class="line-modified">4485 [6.567s][info][gc,old]\ Old\ collection\ complete</span>
<span class="line-added">4486 \f[R]</span>
4487 .fi
<a name="76" id="anc76"></a>



4488 .PP
<a name="77" id="anc77"></a><span class="line-modified">4489 Omitting \f[CB]decorators\f[R] defaults to \f[CB]uptime\f[R],</span>
<span class="line-modified">4490 \f[CB]level\f[R], and \f[CB]tags\f[R].</span>
<span class="line-modified">4491 The \f[CB]none\f[R] decorator is special and is used to turn off all</span>
<span class="line-modified">4492 decorations.</span>













4493 .PP
<a name="78" id="anc78"></a><span class="line-modified">4494 \f[CB]time\f[R] (\f[CB]t\f[R]), \f[CB]utctime\f[R] (\f[CB]utc\f[R]),</span>
<span class="line-modified">4495 \f[CB]uptime\f[R] (\f[CB]u\f[R]), \f[CB]timemillis\f[R] (\f[CB]tm\f[R]),</span>
<span class="line-modified">4496 \f[CB]uptimemillis\f[R] (\f[CB]um\f[R]), \f[CB]timenanos\f[R] (\f[CB]tn\f[R]),</span>
<span class="line-modified">4497 \f[CB]uptimenanos\f[R] (\f[CB]un\f[R]), \f[CB]hostname\f[R] (\f[CB]hn\f[R]),</span>
<span class="line-modified">4498 \f[CB]pid\f[R] (\f[CB]p\f[R]), \f[CB]tid\f[R] (\f[CB]ti\f[R]), \f[CB]level\f[R]</span>
<span class="line-modified">4499 (\f[CB]l\f[R]), \f[CB]tags\f[R] (\f[CB]tg\f[R]) decorators can also be</span>
<span class="line-modified">4500 specified as \f[CB]none\f[R] for no decoration.</span>


4501 .PP
<a name="79" id="anc79"></a><span class="line-modified">4502 .TS</span>
<span class="line-modified">4503 tab(@);</span>
<span class="line-modified">4504 lw(14.9n) lw(55.1n).</span>
<span class="line-modified">4505 T{</span>
<span class="line-modified">4506 Decorations</span>
<span class="line-modified">4507 T}@T{</span>
<span class="line-modified">4508 Description</span>
<span class="line-modified">4509 T}</span>
<span class="line-added">4510 _</span>
<span class="line-added">4511 T{</span>
<span class="line-added">4512 \f[CB]time\f[R] or \f[CB]t\f[R]</span>
<span class="line-added">4513 T}@T{</span>
<span class="line-added">4514 Current time and date in ISO\-8601 format.</span>
<span class="line-added">4515 T}</span>
<span class="line-added">4516 T{</span>
<span class="line-added">4517 \f[CB]utctime\f[R] or \f[CB]utc\f[R]</span>
<span class="line-added">4518 T}@T{</span>
<span class="line-added">4519 Universal Time Coordinated or Coordinated Universal Time.</span>
<span class="line-added">4520 T}</span>
<span class="line-added">4521 T{</span>
<span class="line-added">4522 \f[CB]uptime\f[R] or \f[CB]u\f[R]</span>
<span class="line-added">4523 T}@T{</span>
<span class="line-added">4524 Time since the start of the JVM in seconds and milliseconds.</span>
<span class="line-added">4525 For example, 6.567s.</span>
<span class="line-added">4526 T}</span>
<span class="line-added">4527 T{</span>
<span class="line-added">4528 \f[CB]timemillis\f[R] or \f[CB]tm\f[R]</span>
<span class="line-added">4529 T}@T{</span>
<span class="line-added">4530 The same value as generated by \f[CB]System.currentTimeMillis()\f[R]</span>
<span class="line-added">4531 T}</span>
<span class="line-added">4532 T{</span>
<span class="line-added">4533 \f[CB]uptimemillis\f[R] or \f[CB]um\f[R]</span>
<span class="line-added">4534 T}@T{</span>
<span class="line-added">4535 Milliseconds since the JVM started.</span>
<span class="line-added">4536 T}</span>
<span class="line-added">4537 T{</span>
<span class="line-added">4538 \f[CB]timenanos\f[R] or \f[CB]tn\f[R]</span>
<span class="line-added">4539 T}@T{</span>
<span class="line-added">4540 The same value generated by \f[CB]System.nanoTime()\f[R].</span>
<span class="line-added">4541 T}</span>
<span class="line-added">4542 T{</span>
<span class="line-added">4543 \f[CB]uptimenanos\f[R] or \f[CB]un\f[R]</span>
<span class="line-added">4544 T}@T{</span>
<span class="line-added">4545 Nanoseconds since the JVM started.</span>
<span class="line-added">4546 T}</span>
<span class="line-added">4547 T{</span>
<span class="line-added">4548 \f[CB]hostname\f[R] or \f[CB]hn\f[R]</span>
<span class="line-added">4549 T}@T{</span>
<span class="line-added">4550 The host name.</span>
<span class="line-added">4551 T}</span>
<span class="line-added">4552 T{</span>
<span class="line-added">4553 \f[CB]pid\f[R] or \f[CB]p\f[R]</span>
<span class="line-added">4554 T}@T{</span>
<span class="line-added">4555 The process identifier.</span>
<span class="line-added">4556 T}</span>
<span class="line-added">4557 T{</span>
<span class="line-added">4558 \f[CB]tid\f[R] or \f[CB]ti\f[R]</span>
<span class="line-added">4559 T}@T{</span>
<span class="line-added">4560 The thread identifier.</span>
<span class="line-added">4561 T}</span>
<span class="line-added">4562 T{</span>
<span class="line-added">4563 \f[CB]level\f[R] or \f[CB]l\f[R]</span>
<span class="line-added">4564 T}@T{</span>
<span class="line-added">4565 The level associated with the log message.</span>
<span class="line-added">4566 T}</span>
<span class="line-added">4567 T{</span>
<span class="line-added">4568 \f[CB]tags\f[R] or \f[CB]tg\f[R]</span>
<span class="line-added">4569 T}@T{</span>
<span class="line-added">4570 The tag\-set associated with the log message.</span>
<span class="line-added">4571 T}</span>
<span class="line-added">4572 .TE</span>
<span class="line-added">4573 .SS Convert GC Logging Flags to Xlog</span>
4574 .PP
<a name="80" id="anc80"></a><span class="line-modified">4575 .TS</span>
<span class="line-modified">4576 tab(@);</span>
<span class="line-modified">4577 lw(22.4n) lw(16.5n) lw(31.2n).</span>
<span class="line-modified">4578 T{</span>
<span class="line-modified">4579 Legacy Garbage Collection (GC) Flag</span>
<span class="line-modified">4580 T}@T{</span>
<span class="line-modified">4581 Xlog Configuration</span>
<span class="line-modified">4582 T}@T{</span>
<span class="line-added">4583 Comment</span>
<span class="line-added">4584 T}</span>
<span class="line-added">4585 _</span>
<span class="line-added">4586 T{</span>
<span class="line-added">4587 \f[CB]G1PrintHeapRegions\f[R]</span>
<span class="line-added">4588 T}@T{</span>
<span class="line-added">4589 \f[CB]\-Xlog:gc+region=trace\f[R]</span>
<span class="line-added">4590 T}@T{</span>
<span class="line-added">4591 Not Applicable</span>
<span class="line-added">4592 T}</span>
<span class="line-added">4593 T{</span>
<span class="line-added">4594 \f[CB]GCLogFileSize\f[R]</span>
<span class="line-added">4595 T}@T{</span>
<span class="line-added">4596 No configuration available</span>
<span class="line-added">4597 T}@T{</span>
<span class="line-added">4598 Log rotation is handled by the framework.</span>
<span class="line-added">4599 T}</span>
<span class="line-added">4600 T{</span>
<span class="line-added">4601 \f[CB]NumberOfGCLogFiles\f[R]</span>
<span class="line-added">4602 T}@T{</span>
<span class="line-added">4603 Not Applicable</span>
<span class="line-added">4604 T}@T{</span>
<span class="line-added">4605 Log rotation is handled by the framework.</span>
<span class="line-added">4606 T}</span>
<span class="line-added">4607 T{</span>
<span class="line-added">4608 \f[CB]PrintAdaptiveSizePolicy\f[R]</span>
<span class="line-added">4609 T}@T{</span>
<span class="line-added">4610 \f[CB]\-Xlog:gc+ergo*=\f[R]\f[I]level\f[R]</span>
<span class="line-added">4611 T}@T{</span>
<span class="line-added">4612 Use a \f[I]level\f[R] of \f[CB]debug\f[R] for most of the information, or a</span>
<span class="line-added">4613 \f[I]level\f[R] of \f[CB]trace\f[R] for all of what was logged for</span>
<span class="line-added">4614 \f[CB]PrintAdaptiveSizePolicy\f[R].</span>
<span class="line-added">4615 T}</span>
<span class="line-added">4616 T{</span>
<span class="line-added">4617 \f[CB]PrintGC\f[R]</span>
<span class="line-added">4618 T}@T{</span>
<span class="line-added">4619 \f[CB]\-Xlog:gc\f[R]</span>
<span class="line-added">4620 T}@T{</span>
<span class="line-added">4621 Not Applicable</span>
<span class="line-added">4622 T}</span>
<span class="line-added">4623 T{</span>
<span class="line-added">4624 \f[CB]PrintGCApplicationConcurrentTime\f[R]</span>
<span class="line-added">4625 T}@T{</span>
<span class="line-added">4626 \f[CB]\-Xlog:safepoint\f[R]</span>
<span class="line-added">4627 T}@T{</span>
<span class="line-added">4628 Note that \f[CB]PrintGCApplicationConcurrentTime\f[R] and</span>
<span class="line-added">4629 \f[CB]PrintGCApplicationStoppedTime\f[R] are logged on the same tag and</span>
<span class="line-added">4630 aren\[aq]t separated in the new logging.</span>
<span class="line-added">4631 T}</span>
<span class="line-added">4632 T{</span>
<span class="line-added">4633 \f[CB]PrintGCApplicationStoppedTime\f[R]</span>
<span class="line-added">4634 T}@T{</span>
<span class="line-added">4635 \f[CB]\-Xlog:safepoint\f[R]</span>
<span class="line-added">4636 T}@T{</span>
<span class="line-added">4637 Note that \f[CB]PrintGCApplicationConcurrentTime\f[R] and</span>
<span class="line-added">4638 \f[CB]PrintGCApplicationStoppedTime\f[R] are logged on the same tag and</span>
<span class="line-added">4639 not separated in the new logging.</span>
<span class="line-added">4640 T}</span>
<span class="line-added">4641 T{</span>
<span class="line-added">4642 \f[CB]PrintGCCause\f[R]</span>
<span class="line-added">4643 T}@T{</span>
<span class="line-added">4644 Not Applicable</span>
<span class="line-added">4645 T}@T{</span>
<span class="line-added">4646 GC cause is now always logged.</span>
<span class="line-added">4647 T}</span>
<span class="line-added">4648 T{</span>
<span class="line-added">4649 \f[CB]PrintGCDateStamps\f[R]</span>
<span class="line-added">4650 T}@T{</span>
<span class="line-added">4651 Not Applicable</span>
<span class="line-added">4652 T}@T{</span>
<span class="line-added">4653 Date stamps are logged by the framework.</span>
<span class="line-added">4654 T}</span>
<span class="line-added">4655 T{</span>
<span class="line-added">4656 \f[CB]PrintGCDetails\f[R]</span>
<span class="line-added">4657 T}@T{</span>
<span class="line-added">4658 \f[CB]\-Xlog:gc*\f[R]</span>
<span class="line-added">4659 T}@T{</span>
<span class="line-added">4660 Not Applicable</span>
<span class="line-added">4661 T}</span>
<span class="line-added">4662 T{</span>
<span class="line-added">4663 \f[CB]PrintGCID\f[R]</span>
<span class="line-added">4664 T}@T{</span>
<span class="line-added">4665 Not Applicable</span>
<span class="line-added">4666 T}@T{</span>
<span class="line-added">4667 GC ID is now always logged.</span>
<span class="line-added">4668 T}</span>
<span class="line-added">4669 T{</span>
<span class="line-added">4670 \f[CB]PrintGCTaskTimeStamps\f[R]</span>
<span class="line-added">4671 T}@T{</span>
<span class="line-added">4672 \f[CB]\-Xlog:gc+task*=debug\f[R]</span>
<span class="line-added">4673 T}@T{</span>
<span class="line-added">4674 Not Applicable</span>
<span class="line-added">4675 T}</span>
<span class="line-added">4676 T{</span>
<span class="line-added">4677 \f[CB]PrintGCTimeStamps\f[R]</span>
<span class="line-added">4678 T}@T{</span>
<span class="line-added">4679 Not Applicable</span>
<span class="line-added">4680 T}@T{</span>
<span class="line-added">4681 Time stamps are logged by the framework.</span>
<span class="line-added">4682 T}</span>
<span class="line-added">4683 T{</span>
<span class="line-added">4684 \f[CB]PrintHeapAtGC\f[R]</span>
<span class="line-added">4685 T}@T{</span>
<span class="line-added">4686 \f[CB]\-Xlog:gc+heap=trace\f[R]</span>
<span class="line-added">4687 T}@T{</span>
<span class="line-added">4688 Not Applicable</span>
<span class="line-added">4689 T}</span>
<span class="line-added">4690 T{</span>
<span class="line-added">4691 \f[CB]PrintReferenceGC\f[R]</span>
<span class="line-added">4692 T}@T{</span>
<span class="line-added">4693 \f[CB]\-Xlog:gc+ref*=debug\f[R]</span>
<span class="line-added">4694 T}@T{</span>
<span class="line-added">4695 Note that in the old logging, \f[CB]PrintReferenceGC\f[R] had an effect</span>
<span class="line-added">4696 only if \f[CB]PrintGCDetails\f[R] was also enabled.</span>
<span class="line-added">4697 T}</span>
<span class="line-added">4698 T{</span>
<span class="line-added">4699 \f[CB]PrintStringDeduplicationStatistics\f[R]</span>
<span class="line-added">4700 T}@T{</span>
<span class="line-added">4701 `\-Xlog:gc+stringdedup*=debug</span>
<span class="line-added">4702 T}@T{</span>
<span class="line-added">4703 ` Not Applicable</span>
<span class="line-added">4704 T}</span>
<span class="line-added">4705 T{</span>
<span class="line-added">4706 \f[CB]PrintTenuringDistribution\f[R]</span>
<span class="line-added">4707 T}@T{</span>
<span class="line-added">4708 \f[CB]\-Xlog:gc+age*=\f[R]\f[I]level\f[R]</span>
<span class="line-added">4709 T}@T{</span>
<span class="line-added">4710 Use a \f[I]level\f[R] of \f[CB]debug\f[R] for the most relevant</span>
<span class="line-added">4711 information, or a \f[I]level\f[R] of \f[CB]trace\f[R] for all of what was</span>
<span class="line-added">4712 logged for \f[CB]PrintTenuringDistribution\f[R].</span>
<span class="line-added">4713 T}</span>
<span class="line-added">4714 T{</span>
<span class="line-added">4715 \f[CB]UseGCLogFileRotation\f[R]</span>
<span class="line-added">4716 T}@T{</span>
<span class="line-added">4717 Not Applicable</span>
<span class="line-added">4718 T}@T{</span>
<span class="line-added">4719 What was logged for \f[CB]PrintTenuringDistribution\f[R].</span>
<span class="line-added">4720 T}</span>
<span class="line-added">4721 .TE</span>
<span class="line-added">4722 .SS Convert Runtime Logging Flags to Xlog</span>
4723 .PP
<a name="81" id="anc81"></a><span class="line-modified">4724 .TS</span>
<span class="line-modified">4725 tab(@);</span>
<span class="line-modified">4726 lw(15.0n) lw(20.2n) lw(34.7n).</span>
<span class="line-modified">4727 T{</span>
<span class="line-modified">4728 Legacy Runtime Flag</span>
<span class="line-modified">4729 T}@T{</span>
<span class="line-modified">4730 Xlog Configuration</span>
<span class="line-modified">4731 T}@T{</span>
<span class="line-modified">4732 Comment</span>
<span class="line-added">4733 T}</span>
<span class="line-added">4734 _</span>
<span class="line-added">4735 T{</span>
<span class="line-added">4736 \f[CB]TraceExceptions\f[R]</span>
<span class="line-added">4737 T}@T{</span>
<span class="line-added">4738 \f[CB]\-Xlog:exceptions=info\f[R]</span>
<span class="line-added">4739 T}@T{</span>
<span class="line-added">4740 Not Applicable</span>
<span class="line-added">4741 T}</span>
<span class="line-added">4742 T{</span>
<span class="line-added">4743 \f[CB]TraceClassLoading\f[R]</span>
<span class="line-added">4744 T}@T{</span>
<span class="line-added">4745 \f[CB]\-Xlog:class+load=\f[R]\f[I]level\f[R]</span>
<span class="line-added">4746 T}@T{</span>
<span class="line-added">4747 Use \f[I]level\f[R]=\f[CB]info\f[R] for regular information, or</span>
<span class="line-added">4748 \f[I]level\f[R]=\f[CB]debug\f[R] for additional information.</span>
<span class="line-added">4749 In Unified Logging syntax, \f[CB]\-verbose:class\f[R] equals</span>
<span class="line-added">4750 \f[CB]\-Xlog:class+load=info,class+unload=info\f[R].</span>
<span class="line-added">4751 T}</span>
<span class="line-added">4752 T{</span>
<span class="line-added">4753 \f[CB]TraceClassLoadingPreorder\f[R]</span>
<span class="line-added">4754 T}@T{</span>
<span class="line-added">4755 \f[CB]\-Xlog:class+preorder=debug\f[R]</span>
<span class="line-added">4756 T}@T{</span>
<span class="line-added">4757 Not Applicable</span>
<span class="line-added">4758 T}</span>
<span class="line-added">4759 T{</span>
<span class="line-added">4760 \f[CB]TraceClassUnloading\f[R]</span>
<span class="line-added">4761 T}@T{</span>
<span class="line-added">4762 \f[CB]\-Xlog:class+unload=\f[R]\f[I]level\f[R]</span>
<span class="line-added">4763 T}@T{</span>
<span class="line-added">4764 Use \f[I]level\f[R]=\f[CB]info\f[R] for regular information, or</span>
<span class="line-added">4765 \f[I]level\f[R]=\f[CB]trace\f[R] for additional information.</span>
<span class="line-added">4766 In Unified Logging syntax, \f[CB]\-verbose:class\f[R] equals</span>
<span class="line-added">4767 \f[CB]\-Xlog:class+load=info,class+unload=info\f[R].</span>
<span class="line-added">4768 T}</span>
<span class="line-added">4769 T{</span>
<span class="line-added">4770 \f[CB]VerboseVerification\f[R]</span>
<span class="line-added">4771 T}@T{</span>
<span class="line-added">4772 \f[CB]\-Xlog:verification=info\f[R]</span>
<span class="line-added">4773 T}@T{</span>
<span class="line-added">4774 Not Applicable</span>
<span class="line-added">4775 T}</span>
<span class="line-added">4776 T{</span>
<span class="line-added">4777 \f[CB]TraceClassPaths\f[R]</span>
<span class="line-added">4778 T}@T{</span>
<span class="line-added">4779 \f[CB]\-Xlog:class+path=info\f[R]</span>
<span class="line-added">4780 T}@T{</span>
<span class="line-added">4781 Not Applicable</span>
<span class="line-added">4782 T}</span>
<span class="line-added">4783 T{</span>
<span class="line-added">4784 \f[CB]TraceClassResolution\f[R]</span>
<span class="line-added">4785 T}@T{</span>
<span class="line-added">4786 \f[CB]\-Xlog:class+resolve=debug\f[R]</span>
<span class="line-added">4787 T}@T{</span>
<span class="line-added">4788 Not Applicable</span>
<span class="line-added">4789 T}</span>
<span class="line-added">4790 T{</span>
<span class="line-added">4791 \f[CB]TraceClassInitialization\f[R]</span>
<span class="line-added">4792 T}@T{</span>
<span class="line-added">4793 \f[CB]\-Xlog:class+init=info\f[R]</span>
<span class="line-added">4794 T}@T{</span>
<span class="line-added">4795 Not Applicable</span>
<span class="line-added">4796 T}</span>
<span class="line-added">4797 T{</span>
<span class="line-added">4798 \f[CB]TraceLoaderConstraints\f[R]</span>
<span class="line-added">4799 T}@T{</span>
<span class="line-added">4800 \f[CB]\-Xlog:class+loader+constraints=info\f[R]</span>
<span class="line-added">4801 T}@T{</span>
<span class="line-added">4802 Not Applicable</span>
<span class="line-added">4803 T}</span>
<span class="line-added">4804 T{</span>
<span class="line-added">4805 \f[CB]TraceClassLoaderData\f[R]</span>
<span class="line-added">4806 T}@T{</span>
<span class="line-added">4807 \f[CB]\-Xlog:class+loader+data=\f[R]\f[I]level\f[R]</span>
<span class="line-added">4808 T}@T{</span>
<span class="line-added">4809 Use \f[I]level\f[R]=\f[CB]debug\f[R] for regular information or</span>
<span class="line-added">4810 \f[I]level\f[R]=\f[CB]trace\f[R] for additional information.</span>
<span class="line-added">4811 T}</span>
<span class="line-added">4812 T{</span>
<span class="line-added">4813 \f[CB]TraceSafepointCleanupTime\f[R]</span>
<span class="line-added">4814 T}@T{</span>
<span class="line-added">4815 \f[CB]\-Xlog:safepoint+cleanup=info\f[R]</span>
<span class="line-added">4816 T}@T{</span>
<span class="line-added">4817 Not Applicable</span>
<span class="line-added">4818 T}</span>
<span class="line-added">4819 T{</span>
<span class="line-added">4820 \f[CB]TraceSafepoint\f[R]</span>
<span class="line-added">4821 T}@T{</span>
<span class="line-added">4822 \f[CB]\-Xlog:safepoint=debug\f[R]</span>
<span class="line-added">4823 T}@T{</span>
<span class="line-added">4824 Not Applicable</span>
<span class="line-added">4825 T}</span>
<span class="line-added">4826 T{</span>
<span class="line-added">4827 \f[CB]TraceMonitorInflation\f[R]</span>
<span class="line-added">4828 T}@T{</span>
<span class="line-added">4829 \f[CB]\-Xlog:monitorinflation=debug\f[R]</span>
<span class="line-added">4830 T}@T{</span>
<span class="line-added">4831 Not Applicable</span>
<span class="line-added">4832 T}</span>
<span class="line-added">4833 T{</span>
<span class="line-added">4834 \f[CB]TraceBiasedLocking\f[R]</span>
<span class="line-added">4835 T}@T{</span>
<span class="line-added">4836 \f[CB]\-Xlog:biasedlocking=\f[R]\f[I]level\f[R]</span>
<span class="line-added">4837 T}@T{</span>
<span class="line-added">4838 Use \f[I]level\f[R]=\f[CB]info\f[R] for regular information, or</span>
<span class="line-added">4839 \f[I]level\f[R]=\f[CB]trace\f[R] for additional information.</span>
<span class="line-added">4840 T}</span>
<span class="line-added">4841 T{</span>
<span class="line-added">4842 \f[CB]TraceRedefineClasses\f[R]</span>
<span class="line-added">4843 T}@T{</span>
<span class="line-added">4844 \f[CB]\-Xlog:redefine+class*=\f[R]\f[I]level\f[R]</span>
<span class="line-added">4845 T}@T{</span>
<span class="line-added">4846 \f[I]level\f[R]=\f[CB]info\f[R], \f[CB]debug\f[R], and \f[CB]trace\f[R] provide</span>
<span class="line-added">4847 increasing amounts of information.</span>
<span class="line-added">4848 T}</span>
<span class="line-added">4849 .TE</span>
<span class="line-added">4850 .SS \-Xlog Usage Examples</span>
<span class="line-added">4851 .PP</span>
<span class="line-added">4852 The following are \f[CB]\-Xlog\f[R] examples.</span>
<span class="line-added">4853 .TP</span>
<span class="line-added">4854 .B \f[CB]\-Xlog\f[R]</span>
<span class="line-added">4855 Logs all messages by using the \f[CB]info\f[R] level to \f[CB]stdout\f[R]</span>
<span class="line-added">4856 with \f[CB]uptime\f[R], \f[CB]levels\f[R], and \f[CB]tags\f[R] decorations.</span>
<span class="line-added">4857 This is equivalent to using:</span>
<span class="line-added">4858 .RS</span>
<span class="line-added">4859 .RS</span>
<span class="line-added">4860 .PP</span>
<span class="line-added">4861 \f[CB]\-Xlog:all=info:stdout:uptime,levels,tags\f[R]</span>
<span class="line-added">4862 .RE</span>
<span class="line-added">4863 .RE</span>
<span class="line-added">4864 .TP</span>
<span class="line-added">4865 .B \f[CB]\-Xlog:gc\f[R]</span>
<span class="line-added">4866 Logs messages tagged with the \f[CB]gc\f[R] tag using \f[CB]info\f[R] level</span>
<span class="line-added">4867 to \f[CB]stdout\f[R].</span>
<span class="line-added">4868 The default configuration for all other messages at level</span>
<span class="line-added">4869 \f[CB]warning\f[R] is in effect.</span>
<span class="line-added">4870 .RS</span>
<span class="line-added">4871 .RE</span>
<span class="line-added">4872 .TP</span>
<span class="line-added">4873 .B \f[CB]\-Xlog:gc,safepoint\f[R]</span>
<span class="line-added">4874 Logs messages tagged either with the \f[CB]gc\f[R] or \f[CB]safepoint\f[R]</span>
<span class="line-added">4875 tags, both using the \f[CB]info\f[R] level, to \f[CB]stdout\f[R], with</span>
<span class="line-added">4876 default decorations.</span>
<span class="line-added">4877 Messages tagged with both \f[CB]gc\f[R] and \f[CB]safepoint\f[R] won\[aq]t</span>
<span class="line-added">4878 be logged.</span>
<span class="line-added">4879 .RS</span>
<span class="line-added">4880 .RE</span>
<span class="line-added">4881 .TP</span>
<span class="line-added">4882 .B \f[CB]\-Xlog:gc+ref=debug\f[R]</span>
<span class="line-added">4883 Logs messages tagged with both \f[CB]gc\f[R] and \f[CB]ref\f[R] tags, using</span>
<span class="line-added">4884 the \f[CB]debug\f[R] level to \f[CB]stdout\f[R], with default decorations.</span>
<span class="line-added">4885 Messages tagged only with one of the two tags won\[aq]t be logged.</span>
<span class="line-added">4886 .RS</span>
<span class="line-added">4887 .RE</span>
<span class="line-added">4888 .TP</span>
<span class="line-added">4889 .B \f[CB]\-Xlog:gc=debug:file=gc.txt:none\f[R]</span>
<span class="line-added">4890 Logs messages tagged with the \f[CB]gc\f[R] tag using the \f[CB]debug\f[R]</span>
<span class="line-added">4891 level to a file called \f[CB]gc.txt\f[R] with no decorations.</span>
<span class="line-added">4892 The default configuration for all other messages at level</span>
<span class="line-added">4893 \f[CB]warning\f[R] is still in effect.</span>
<span class="line-added">4894 .RS</span>
<span class="line-added">4895 .RE</span>
<span class="line-added">4896 .TP</span>
<span class="line-added">4897 .B \f[CB]\-Xlog:gc=trace:file=gctrace.txt:uptimemillis,pids:filecount=5,filesize=1024\f[R]</span>
<span class="line-added">4898 Logs messages tagged with the \f[CB]gc\f[R] tag using the \f[CB]trace\f[R]</span>
<span class="line-added">4899 level to a rotating file set with 5 files with size 1 MB with the base</span>
<span class="line-added">4900 name \f[CB]gctrace.txt\f[R] and uses decorations \f[CB]uptimemillis\f[R] and</span>
<span class="line-added">4901 \f[CB]pid\f[R].</span>
<span class="line-added">4902 .RS</span>
<span class="line-added">4903 .PP</span>
<span class="line-added">4904 The default configuration for all other messages at level</span>
<span class="line-added">4905 \f[CB]warning\f[R] is still in effect.</span>
<span class="line-added">4906 .RE</span>
<span class="line-added">4907 .TP</span>
<span class="line-added">4908 .B \f[CB]\-Xlog:gc::uptime,tid\f[R]</span>
<span class="line-added">4909 Logs messages tagged with the \f[CB]gc\f[R] tag using the default</span>
<span class="line-added">4910 \[aq]info\[aq] level to default the output \f[CB]stdout\f[R] and uses</span>
<span class="line-added">4911 decorations \f[CB]uptime\f[R] and \f[CB]tid\f[R].</span>
<span class="line-added">4912 The default configuration for all other messages at level</span>
<span class="line-added">4913 \f[CB]warning\f[R] is still in effect.</span>
<span class="line-added">4914 .RS</span>
<span class="line-added">4915 .RE</span>
<span class="line-added">4916 .TP</span>
<span class="line-added">4917 .B \f[CB]\-Xlog:gc*=info,safepoint*=off\f[R]</span>
<span class="line-added">4918 Logs messages tagged with at least \f[CB]gc\f[R] using the \f[CB]info\f[R]</span>
<span class="line-added">4919 level, but turns off logging of messages tagged with \f[CB]safepoint\f[R].</span>
<span class="line-added">4920 Messages tagged with both \f[CB]gc\f[R] and \f[CB]safepoint\f[R] won\[aq]t</span>
<span class="line-added">4921 be logged.</span>
<span class="line-added">4922 .RS</span>
<span class="line-added">4923 .RE</span>
<span class="line-added">4924 .TP</span>
<span class="line-added">4925 .B \f[CB]\-Xlog:disable\ \-Xlog:safepoint=trace:safepointtrace.txt\f[R]</span>
<span class="line-added">4926 Turns off all logging, including warnings and errors, and then enables</span>
<span class="line-added">4927 messages tagged with \f[CB]safepoint\f[R]using \f[CB]trace\f[R]level to the</span>
<span class="line-added">4928 file \f[CB]safepointtrace.txt\f[R].</span>
<span class="line-added">4929 The default configuration doesn\[aq]t apply, because the command line</span>
<span class="line-added">4930 started with \f[CB]\-Xlog:disable\f[R].</span>
<span class="line-added">4931 .RS</span>
<span class="line-added">4932 .RE</span>
<span class="line-added">4933 .SS Complex \-Xlog Usage Examples</span>
<span class="line-added">4934 .PP</span>
<span class="line-added">4935 The following describes a few complex examples of using the</span>
<span class="line-added">4936 \f[CB]\-Xlog\f[R] option.</span>
<span class="line-added">4937 .TP</span>
<span class="line-added">4938 .B \f[CB]\-Xlog:gc+class*=debug\f[R]</span>
<span class="line-added">4939 Logs messages tagged with at least \f[CB]gc\f[R] and \f[CB]class\f[R] tags</span>
<span class="line-added">4940 using the \f[CB]debug\f[R] level to \f[CB]stdout\f[R].</span>
<span class="line-added">4941 The default configuration for all other messages at the level</span>
<span class="line-added">4942 \f[CB]warning\f[R] is still in effect</span>
<span class="line-added">4943 .RS</span>
<span class="line-added">4944 .RE</span>
<span class="line-added">4945 .TP</span>
<span class="line-added">4946 .B \f[CB]\-Xlog:gc+meta*=trace,class*=off:file=gcmetatrace.txt\f[R]</span>
<span class="line-added">4947 Logs messages tagged with at least the \f[CB]gc\f[R] and \f[CB]meta\f[R]</span>
<span class="line-added">4948 tags using the \f[CB]trace\f[R] level to the file \f[CB]metatrace.txt\f[R]</span>
<span class="line-added">4949 but turns off all messages tagged with \f[CB]class\f[R].</span>
<span class="line-added">4950 Messages tagged with \f[CB]gc\f[R], \f[CB]meta\f[R], and \f[CB]class\f[R]</span>
<span class="line-added">4951 aren\[aq]t be logged as \f[CB]class*\f[R] is set to off.</span>
<span class="line-added">4952 The default configuration for all other messages at level</span>
<span class="line-added">4953 \f[CB]warning\f[R] is in effect except for those that include</span>
<span class="line-added">4954 \f[CB]class\f[R].</span>
<span class="line-added">4955 .RS</span>
<span class="line-added">4956 .RE</span>
<span class="line-added">4957 .TP</span>
<span class="line-added">4958 .B \f[CB]\-Xlog:gc+meta=trace\f[R]</span>
<span class="line-added">4959 Logs messages tagged with exactly the \f[CB]gc\f[R] and \f[CB]meta\f[R] tags</span>
<span class="line-added">4960 using the \f[CB]trace\f[R] level to \f[CB]stdout\f[R].</span>
<span class="line-added">4961 The default configuration for all other messages at level</span>
<span class="line-added">4962 \f[CB]warning\f[R] is still be in effect.</span>
<span class="line-added">4963 .RS</span>
<span class="line-added">4964 .RE</span>
<span class="line-added">4965 .TP</span>
<span class="line-added">4966 .B \f[CB]\-Xlog:gc+class+heap*=debug,meta*=warning,threads*=off\f[R]</span>
<span class="line-added">4967 Logs messages tagged with at least \f[CB]gc\f[R], \f[CB]class\f[R], and</span>
<span class="line-added">4968 \f[CB]heap\f[R] tags using the \f[CB]trace\f[R] level to \f[CB]stdout\f[R] but</span>
<span class="line-added">4969 only log messages tagged with \f[CB]meta\f[R] with level.</span>
<span class="line-added">4970 The default configuration for all other messages at the level</span>
<span class="line-added">4971 \f[CB]warning\f[R] is in effect except for those that include</span>
<span class="line-added">4972 \f[CB]threads\f[R].</span>
<span class="line-added">4973 .RS</span>
<span class="line-added">4974 .RE</span>
<span class="line-added">4975 .SH VALIDATE JAVA VIRTUAL MACHINE FLAG ARGUMENTS</span>
<span class="line-added">4976 .PP</span>
<span class="line-added">4977 You use values provided to all Java Virtual Machine (JVM) command\-line</span>
<span class="line-added">4978 flags for validation and, if the input value is invalid or</span>
<span class="line-added">4979 out\-of\-range, then an appropriate error message is displayed.</span>
<span class="line-added">4980 .PP</span>
<span class="line-added">4981 Whether they\[aq]re set ergonomically, in a command line, by an input</span>
<span class="line-added">4982 tool, or through the APIs (for example, classes contained in the package</span>
<span class="line-added">4983 \f[CB]java.lang.management\f[R]) the values provided to all Java Virtual</span>
<span class="line-added">4984 Machine (JVM) command\-line flags are validated.</span>
<span class="line-added">4985 Ergonomics are described in Java Platform, Standard Edition HotSpot</span>
<span class="line-added">4986 Virtual Machine Garbage Collection Tuning Guide.</span>
<span class="line-added">4987 .PP</span>
<span class="line-added">4988 Range and constraints are validated either when all flags have their</span>
<span class="line-added">4989 values set during JVM initialization or a flag\[aq]s value is changed</span>
<span class="line-added">4990 during runtime (for example using the \f[CB]jcmd\f[R] tool).</span>
<span class="line-added">4991 The JVM is terminated if a value violates either the range or constraint</span>
<span class="line-added">4992 check and an appropriate error message is printed on the error stream.</span>
<span class="line-added">4993 .PP</span>
<span class="line-added">4994 For example, if a flag violates a range or a constraint check, then the</span>
<span class="line-added">4995 JVM exits with an error:</span>
<span class="line-added">4996 .IP</span>
4997 .nf
<a name="82" id="anc82"></a><span class="line-modified">4998 \f[CB]</span>
<span class="line-modified">4999 java\ \-XX:AllocatePrefetchStyle=5\ \-version</span>
<span class="line-added">5000 intx\ AllocatePrefetchStyle=5\ is\ outside\ the\ allowed\ range\ [\ 0\ ...\ 3\ ]</span>
<span class="line-added">5001 Improperly\ specified\ VM\ option\ \[aq]AllocatePrefetchStyle=5\[aq]</span>
<span class="line-added">5002 Error:\ Could\ not\ create\ the\ Java\ Virtual\ Machine.</span>
<span class="line-added">5003 Error:\ A\ fatal\ exception\ has\ occurred.\ Program\ will\ exit.</span>
<span class="line-added">5004 \f[R]</span>
5005 .fi
<a name="83" id="anc83"></a>



5006 .PP
<a name="84" id="anc84"></a><span class="line-modified">5007 The flag \f[CB]\-XX:+PrintFlagsRanges\f[R] prints the range of all the</span>
<span class="line-modified">5008 flags.</span>
<span class="line-modified">5009 This flag allows automatic testing of the flags by the values provided</span>
<span class="line-modified">5010 by the ranges.</span>
<span class="line-added">5011 For the flags that have the ranges specified, the type, name, and the</span>
<span class="line-added">5012 actual range is printed in the output.</span>
5013 .PP
<a name="85" id="anc85"></a><span class="line-modified">5014 For example,</span>
<span class="line-modified">5015 .IP</span>







5016 .nf
<a name="86" id="anc86"></a><span class="line-modified">5017 \f[CB]</span>
<span class="line-modified">5018 intx\ \ \ ThreadStackSize\ [\ 0\ ...\ 9007199254740987\ ]\ {pd\ product}</span>
<span class="line-added">5019 \f[R]</span>
5020 .fi
<a name="87" id="anc87"></a>



5021 .PP
<a name="88" id="anc88"></a><span class="line-modified">5022 For the flags that don\[aq]t have the range specified, the values</span>
<span class="line-modified">5023 aren\[aq]t displayed in the print out.</span>
<span class="line-modified">5024 For example:</span>
<span class="line-modified">5025 .IP</span>



















5026 .nf
<a name="89" id="anc89"></a><span class="line-modified">5027 \f[CB]</span>
<span class="line-modified">5028 size_t\ NewSize\ \ \ \ \ \ \ \ \ [\ \ \ ...\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ]\ {product}</span>
<span class="line-modified">5029 \f[R]</span>

5030 .fi
<a name="90" id="anc90"></a>






5031 .PP
<a name="91" id="anc91"></a><span class="line-modified">5032 This helps to identify the flags that need to be implemented.</span>
<span class="line-modified">5033 The automatic testing framework can skip those flags that don\[aq]t have</span>
<span class="line-modified">5034 values and aren\[aq]t implemented.</span>
<span class="line-modified">5035 .SH LARGE PAGES</span>
<span class="line-modified">5036 .PP</span>
<span class="line-modified">5037 You use large pages, also known as huge pages, as memory pages that are</span>
<span class="line-modified">5038 significantly larger than the standard memory page size (which varies</span>
<span class="line-modified">5039 depending on the processor and operating system).</span>
<span class="line-modified">5040 Large pages optimize processor Translation\-Lookaside Buffers.</span>
<span class="line-modified">5041 .PP</span>
<span class="line-modified">5042 A Translation\-Lookaside Buffer (TLB) is a page translation cache that</span>
<span class="line-modified">5043 holds the most\-recently used virtual\-to\-physical address</span>
<span class="line-modified">5044 translations.</span>
<span class="line-modified">5045 A TLB is a scarce system resource.</span>
<span class="line-modified">5046 A TLB miss can be costly because the processor must then read from the</span>
<span class="line-modified">5047 hierarchical page table, which may require multiple memory accesses.</span>
<span class="line-modified">5048 By using a larger memory page size, a single TLB entry can represent a</span>
<span class="line-modified">5049 larger memory range.</span>
<span class="line-modified">5050 This results in less pressure on a TLB, and memory\-intensive</span>
<span class="line-modified">5051 applications may have better performance.</span>
<span class="line-modified">5052 .PP</span>
<span class="line-modified">5053 However, large pages page memory can negatively affect system</span>
<span class="line-modified">5054 performance.</span>
<span class="line-modified">5055 For example, when a large mount of memory is pinned by an application,</span>
<span class="line-modified">5056 it may create a shortage of regular memory and cause excessive paging in</span>
<span class="line-modified">5057 other applications and slow down the entire system.</span>
<span class="line-modified">5058 Also, a system that has been up for a long time could produce excessive</span>
<span class="line-modified">5059 fragmentation, which could make it impossible to reserve enough large</span>
<span class="line-modified">5060 page memory.</span>
<span class="line-modified">5061 When this happens, either the OS or JVM reverts to using regular pages.</span>
<span class="line-modified">5062 .PP</span>
<span class="line-modified">5063 Oracle Solaris, Linux, and Windows support large pages.</span>
<span class="line-modified">5064 .SS Large Pages Support for Oracle Solaris</span>
<span class="line-modified">5065 .PP</span>
<span class="line-modified">5066 Oracle Solaris includes Multiple Page Size Support (MPSS).</span>
<span class="line-modified">5067 No additional configuration is necessary.</span>
<span class="line-added">5068 .SS Large Pages Support for Linux</span>
<span class="line-added">5069 .PP</span>
<span class="line-added">5070 The 2.6 kernel supports large pages.</span>
<span class="line-added">5071 Some vendors have backported the code to their 2.4\-based releases.</span>
<span class="line-added">5072 To check if your system can support large page memory, try the</span>
<span class="line-added">5073 following:</span>
<span class="line-added">5074 .IP</span>
5075 .nf
<a name="92" id="anc92"></a><span class="line-modified">5076 \f[CB]</span>
<span class="line-modified">5077 #\ cat\ /proc/meminfo\ |\ grep\ Huge</span>
<span class="line-added">5078 HugePages_Total:\ 0</span>
<span class="line-added">5079 HugePages_Free:\ 0</span>
<span class="line-added">5080 Hugepagesize:\ 2048\ kB</span>
<span class="line-added">5081 \f[R]</span>
5082 .fi
<a name="93" id="anc93"></a>



5083 .PP
<a name="94" id="anc94"></a><span class="line-modified">5084 If the output shows the three &quot;Huge&quot; variables, then your system can</span>
<span class="line-added">5085 support large page memory but it needs to be configured.</span>
<span class="line-added">5086 If the command prints nothing, then your system doesn\[aq]t support</span>
<span class="line-added">5087 large pages.</span>
<span class="line-added">5088 To configure the system to use large page memory, login as</span>
<span class="line-added">5089 \f[CB]root\f[R], and then follow these steps:</span>
<span class="line-added">5090 .IP &quot;1.&quot; 3</span>
<span class="line-added">5091 If you\[aq]re using the option \f[CB]\-XX:+UseSHM\f[R] (instead of</span>
<span class="line-added">5092 \f[CB]\-XX:+UseHugeTLBFS\f[R]), then increase the \f[CB]SHMMAX\f[R] value.</span>
<span class="line-added">5093 It must be larger than the Java heap size.</span>
<span class="line-added">5094 On a system with 4 GB of physical RAM (or less), the following makes all</span>
<span class="line-added">5095 the memory sharable:</span>
5096 .RS 4
<a name="95" id="anc95"></a><span class="line-modified">5097 .RS</span>














5098 .PP
<a name="96" id="anc96"></a><span class="line-modified">5099 \f[CB]#\ echo\ 4294967295\ &gt;\ /proc/sys/kernel/shmmax\f[R]</span>













5100 .RE
<a name="97" id="anc97"></a>
5101 .RE
<a name="98" id="anc98"></a><span class="line-modified">5102 .IP &quot;2.&quot; 3</span>
<span class="line-modified">5103 If you\[aq]re using the option \f[CB]\-XX:+UseSHM\f[R] or</span>
<span class="line-modified">5104 \f[CB]\-XX:+UseHugeTLBFS\f[R], then specify the number of large pages.</span>
<span class="line-modified">5105 In the following example, 3 GB of a 4 GB system are reserved for large</span>
<span class="line-modified">5106 pages (assuming a large page size of 2048kB, then 3 GB = 3 * 1024 MB =</span>
<span class="line-modified">5107 3072 MB = 3072 * 1024 kB = 3145728 kB and 3145728 kB / 2048 kB = 1536):</span>




















5108 .RS 4
<a name="99" id="anc99"></a><span class="line-modified">5109 .RS</span>
















5110 .PP
<a name="100" id="anc100"></a><span class="line-modified">5111 \f[CB]#\ echo\ 1536\ &gt;\ /proc/sys/vm/nr_hugepages\f[R]</span>















5112 .RE
<a name="101" id="anc101"></a><span class="line-added">5113 .RS</span>
5114 .PP
<a name="102" id="anc102"></a><span class="line-modified">5115 \f[B]Note:\f[R] The values contained in \f[CB]/proc\f[R] resets after you</span>
<span class="line-modified">5116 reboot your system, so may want to set them in an initialization script</span>
<span class="line-modified">5117 (for example, \f[CB]rc.local\f[R] or \f[CB]sysctl.conf\f[R]).</span>













5118 .RE
<a name="103" id="anc103"></a>



5119 .RE
<a name="104" id="anc104"></a><span class="line-added">5120 .IP \[bu] 2</span>
<span class="line-added">5121 If you configure (or resize) the OS kernel parameters</span>
<span class="line-added">5122 \f[CB]/proc/sys/kernel/shmmax\f[R] or \f[CB]/proc/sys/vm/nr_hugepages\f[R],</span>
<span class="line-added">5123 Java processes may allocate large pages for areas in addition to the</span>
<span class="line-added">5124 Java heap.</span>
<span class="line-added">5125 These steps can allocate large pages for the following areas:</span>
<span class="line-added">5126 .RS 2</span>
<span class="line-added">5127 .IP \[bu] 2</span>
<span class="line-added">5128 Java heap</span>
<span class="line-added">5129 .IP \[bu] 2</span>
<span class="line-added">5130 Code cache</span>
<span class="line-added">5131 .IP \[bu] 2</span>
<span class="line-added">5132 The marking bitmap data structure for the parallel GC</span>
5133 .PP
<a name="105" id="anc105"></a><span class="line-modified">5134 Consequently, if you configure the \f[CB]nr_hugepages\f[R] parameter to</span>
<span class="line-modified">5135 the size of the Java heap, then the JVM can fail in allocating the code</span>
<span class="line-modified">5136 cache areas on large pages because these areas are quite large in size.</span>
<span class="line-modified">5137 .RE</span>
<span class="line-modified">5138 .SS Large Pages Support for Windows</span>
<span class="line-modified">5139 .PP</span>
<span class="line-modified">5140 To use large pages support on Windows, the administrator must first</span>
<span class="line-modified">5141 assign additional privileges to the user who is running the application:</span>
<span class="line-modified">5142 .IP &quot;1.&quot; 3</span>
<span class="line-modified">5143 Select \f[B]Control Panel\f[R], \f[B]Administrative Tools\f[R], and then</span>
<span class="line-modified">5144 \f[B]Local Security Policy\f[R].</span>
<span class="line-modified">5145 .IP &quot;2.&quot; 3</span>
<span class="line-modified">5146 Select \f[B]Local Policies\f[R] and then \f[B]User Rights Assignment\f[R].</span>
<span class="line-modified">5147 .IP &quot;3.&quot; 3</span>
<span class="line-modified">5148 Double\-click \f[B]Lock pages in memory\f[R], then add users and/or</span>
<span class="line-modified">5149 groups.</span>
<span class="line-modified">5150 .IP &quot;4.&quot; 3</span>
<span class="line-added">5151 Reboot your system.</span>
<span class="line-added">5152 .PP</span>
<span class="line-added">5153 Note that these steps are required even if it\[aq]s the administrator</span>
<span class="line-added">5154 who\[aq]s running the application, because administrators by default</span>
<span class="line-added">5155 don\[aq]t have the privilege to lock pages in memory.</span>
<span class="line-added">5156 .SH APPLICATION CLASS DATA SHARING</span>
<span class="line-added">5157 .PP</span>
<span class="line-added">5158 Application Class Data Sharing (AppCDS) extends class data sharing (CDS)</span>
<span class="line-added">5159 to enable application classes to be placed in a shared archive.</span>
<span class="line-added">5160 .PP</span>
<span class="line-added">5161 In addition to the core library classes, AppCDS supports \f[B]Class Data</span>
<span class="line-added">5162 Sharing\f[R]</span>
<span class="line-added">5163 [https://docs.oracle.com/en/java/javase/12/vm/class\-data\-sharing.html#GUID\-7EAA3411\-8CF0\-4D19\-BD05\-DF5E1780AA91]</span>
<span class="line-added">5164 from the following locations:</span>
<span class="line-added">5165 .IP \[bu] 2</span>
<span class="line-added">5166 Platform classes from the runtime image</span>
<span class="line-added">5167 .IP \[bu] 2</span>
<span class="line-added">5168 Application classes from the runtime image</span>
<span class="line-added">5169 .IP \[bu] 2</span>
<span class="line-added">5170 Application classes from the class path</span>
<span class="line-added">5171 .IP \[bu] 2</span>
<span class="line-added">5172 Application classes from the module path</span>
<span class="line-added">5173 .PP</span>
<span class="line-added">5174 Archiving application classes provides better start up time at runtime.</span>
<span class="line-added">5175 When running multiple JVM processes, AppCDS also reduces the runtime</span>
<span class="line-added">5176 footprint with memory sharing for read\-only metadata.</span>
<span class="line-added">5177 .PP</span>
<span class="line-added">5178 CDS/AppCDS supports archiving classes from JAR files only.</span>
<span class="line-added">5179 .PP</span>
<span class="line-added">5180 Prior to JDK 11, a non\-empty directory was reported as a fatal error in</span>
<span class="line-added">5181 the following conditions:</span>
<span class="line-added">5182 .IP \[bu] 2</span>
<span class="line-added">5183 For base CDS, a non\-empty directory cannot exist in the</span>
<span class="line-added">5184 \f[CB]\-Xbootclasspath/a\f[R] path</span>
<span class="line-added">5185 .IP \[bu] 2</span>
<span class="line-added">5186 With \f[CB]\-XX:+UseAppCDS\f[R], a non\-empty directory could not exist in</span>
<span class="line-added">5187 the \f[CB]\-Xbootclasspath/a\f[R] path, class path, and module path.</span>
<span class="line-added">5188 .PP</span>
<span class="line-added">5189 In JDK 11 and later, \f[CB]\-XX:+UseAppCDS\f[R] is obsolete and the</span>
<span class="line-added">5190 behavior for a non\-empty directory is based on the class types in the</span>
<span class="line-added">5191 classlist.</span>
<span class="line-added">5192 A non\-empty directory is reported as a fatal error in the following</span>
<span class="line-added">5193 conditions:</span>
<span class="line-added">5194 .IP \[bu] 2</span>
<span class="line-added">5195 If application classes or platform classes are not loaded, dump time</span>
<span class="line-added">5196 only reports an error if a non\-empty directory exists in</span>
<span class="line-added">5197 \f[CB]\-Xbootclasspath/a\f[R] path</span>
<span class="line-added">5198 .IP \[bu] 2</span>
<span class="line-added">5199 If application classes or platform classes are loaded, dump time reports</span>
<span class="line-added">5200 an error for a non\-empty directory that exists in</span>
<span class="line-added">5201 \f[CB]\-Xbootclasspath/a\f[R] path, class path, or module path</span>
<span class="line-added">5202 .PP</span>
<span class="line-added">5203 In JDK 11 and later, using</span>
<span class="line-added">5204 \f[CB]\-XX:DumpLoadedClassList=\f[R]\f[I]class_list_file\f[R] results a</span>
<span class="line-added">5205 generated classlist with all classes (both system library classes and</span>
<span class="line-added">5206 application classes) included.</span>
<span class="line-added">5207 You no longer have to specify \f[CB]\-XX:+UseAppCDS\f[R] with</span>
<span class="line-added">5208 \f[CB]\-XX:DumpLoadedClassList\f[R] to produce a complete class list.</span>
<span class="line-added">5209 .PP</span>
<span class="line-added">5210 In JDK 11 and later, because \f[CB]UseAppCDS\f[R] is obsolete,</span>
<span class="line-added">5211 \f[CB]SharedArchiveFile\f[R] becomes a product flag by default.</span>
<span class="line-added">5212 Specifying \f[CB]+UnlockDiagnosticVMOptions\f[R] for</span>
<span class="line-added">5213 \f[CB]SharedArchiveFile\f[R] is no longer needed in any configuration.</span>
<span class="line-added">5214 .PP</span>
<span class="line-added">5215 Class Data Sharing (CDS)/AppCDS does not support archiving array classes</span>
<span class="line-added">5216 in a class list.</span>
<span class="line-added">5217 When an array in the class list is encountered, CDS dump time gives the</span>
<span class="line-added">5218 explicit error message:</span>
<span class="line-added">5219 .RS</span>
<span class="line-added">5220 .PP</span>
<span class="line-added">5221 \f[CB]Preload\ Warning:\ Cannot\ find\f[R] \f[I]array_name\f[R]</span>
<span class="line-added">5222 .RE</span>
<span class="line-added">5223 .PP</span>
<span class="line-added">5224 Although an array in the class list is not allowed, some array classes</span>
<span class="line-added">5225 can still be created at CDS/AppCDS dump time.</span>
<span class="line-added">5226 Those arrays are created during the execution of the Java code used by</span>
<span class="line-added">5227 the Java class loaders (\f[CB]PlatformClassLoader\f[R] and the system</span>
<span class="line-added">5228 class loader) to load classes at dump time.</span>
<span class="line-added">5229 The created arrays are archived with the rest of the loaded classes.</span>
<span class="line-added">5230 .SS Extending Class Data Sharing to Support the Module Path</span>
<span class="line-added">5231 .PP</span>
<span class="line-added">5232 In JDK 11, Class Data Sharing (CDS) has been improved to support</span>
<span class="line-added">5233 archiving classes from the module path.</span>
<span class="line-added">5234 .IP \[bu] 2</span>
<span class="line-added">5235 To create a CDS archive using the \f[CB]\-\-module\-path\f[R] VM option,</span>
<span class="line-added">5236 use the following command line syntax:</span>
<span class="line-added">5237 .RS 2</span>
<span class="line-added">5238 .RS</span>
<span class="line-added">5239 .PP</span>
<span class="line-added">5240 \f[CB]java\ \-Xshare:dump\ \-XX:SharedClassListFile=\f[R]\f[I]class_list_file\f[R]</span>
<span class="line-added">5241 \f[CB]\-XX:SharedArchiveFile=\f[R]\f[I]shared_archive_file\f[R]</span>
<span class="line-added">5242 \f[CB]\-\-module\-path=\f[R]\f[I]path_to_modular_jar\f[R] \f[CB]\-m\f[R]</span>
<span class="line-added">5243 \f[I]module_name\f[R]</span>
<span class="line-added">5244 .RE</span>
<span class="line-added">5245 .RE</span>
<span class="line-added">5246 .IP \[bu] 2</span>
<span class="line-added">5247 To run with a CDS archive using the \f[CB]\-\-module\-path\f[R] VM option,</span>
<span class="line-added">5248 use the following the command line syntax:</span>
<span class="line-added">5249 .RS 2</span>
<span class="line-added">5250 .RS</span>
<span class="line-added">5251 .PP</span>
<span class="line-added">5252 \f[CB]java\ \-XX:SharedArchiveFile=\f[R]\f[I]shared_archive_file\f[R]</span>
<span class="line-added">5253 \f[CB]\-\-module\-path=\f[R]\f[I]path_to_modular_jar\f[R] \f[CB]\-m\f[R]</span>
<span class="line-added">5254 \f[I]module_name\f[R]</span>
<span class="line-added">5255 .RE</span>
<span class="line-added">5256 .RE</span>
<span class="line-added">5257 .PP</span>
<span class="line-added">5258 The following table describes how the VM options related to module paths</span>
<span class="line-added">5259 can be used along with the \f[CB]\-Xshare\f[R] option.</span>
5260 .PP
<a name="106" id="anc106"></a><span class="line-modified">5261 .TS</span>
<span class="line-modified">5262 tab(@);</span>
<span class="line-modified">5263 l l l.</span>
<span class="line-modified">5264 T{</span>
<span class="line-added">5265 Option</span>
<span class="line-added">5266 T}@T{</span>
<span class="line-added">5267 \-Xshare:dump</span>
<span class="line-added">5268 T}@T{</span>
<span class="line-added">5269 \-Xshare:{on,auto}</span>
<span class="line-added">5270 T}</span>
<span class="line-added">5271 _</span>
<span class="line-added">5272 T{</span>
<span class="line-added">5273 \f[CB]\-\-module\-path\f[R][1] \f[I]mp\f[R]</span>
<span class="line-added">5274 T}@T{</span>
<span class="line-added">5275 Allowed</span>
<span class="line-added">5276 T}@T{</span>
<span class="line-added">5277 Allowed[2]</span>
<span class="line-added">5278 T}</span>
<span class="line-added">5279 T{</span>
<span class="line-added">5280 \f[CB]\-\-module\f[R]</span>
<span class="line-added">5281 T}@T{</span>
<span class="line-added">5282 Allowed</span>
<span class="line-added">5283 T}@T{</span>
<span class="line-added">5284 Allowed</span>
<span class="line-added">5285 T}</span>
<span class="line-added">5286 T{</span>
<span class="line-added">5287 \f[CB]\-\-add\-module\f[R]</span>
<span class="line-added">5288 T}@T{</span>
<span class="line-added">5289 Allowed</span>
<span class="line-added">5290 T}@T{</span>
<span class="line-added">5291 Allowed</span>
<span class="line-added">5292 T}</span>
<span class="line-added">5293 T{</span>
<span class="line-added">5294 \f[CB]\-\-upgrade\-module\-path\f[R][3]</span>
<span class="line-added">5295 T}@T{</span>
<span class="line-added">5296 Disallowed (exits if specified)</span>
<span class="line-added">5297 T}@T{</span>
<span class="line-added">5298 Allowed (disables CDS)</span>
<span class="line-added">5299 T}</span>
<span class="line-added">5300 T{</span>
<span class="line-added">5301 \f[CB]\-\-patch\-module\f[R][4]</span>
<span class="line-added">5302 T}@T{</span>
<span class="line-added">5303 Disallowed (exits if specified)</span>
<span class="line-added">5304 T}@T{</span>
<span class="line-added">5305 Allowed (disables CDS)</span>
<span class="line-added">5306 T}</span>
<span class="line-added">5307 T{</span>
<span class="line-added">5308 \f[CB]\-\-limit\-modules\f[R][5]</span>
<span class="line-added">5309 T}@T{</span>
<span class="line-added">5310 Disallowed (exits if specified)</span>
<span class="line-added">5311 T}@T{</span>
<span class="line-added">5312 Allowed (disables CDS)</span>
<span class="line-added">5313 T}</span>
<span class="line-added">5314 .TE</span>
5315 .PP
<a name="107" id="anc107"></a><span class="line-modified">5316 [1] Although there are two ways of specifying a module in a</span>
<span class="line-modified">5317 \f[CB]\-\-module\-path\f[R], that is, modular JAR or exploded module, only</span>
<span class="line-modified">5318 modular JARs are supported.</span>
<span class="line-modified">5319 .PP</span>
<span class="line-modified">5320 [2] Different \f[I]mp\f[R] can be specified during dump time versus run</span>
<span class="line-modified">5321 time.</span>
<span class="line-modified">5322 If an archived class K was loaded from \f[CB]mp1.jar\f[R] at dump time,</span>
<span class="line-modified">5323 but changes in \f[I]mp\f[R] cause it to be available from a different</span>
<span class="line-modified">5324 \f[CB]mp2.jar\f[R] at run time, then the archived version of K will be</span>
<span class="line-added">5325 disregarded at run time; K will be loaded dynamically.</span>
<span class="line-added">5326 .PP</span>
<span class="line-added">5327 [3] Currently, only two system modules are upgradeable</span>
<span class="line-added">5328 (\f[CB]java.compiler\f[R] and \f[CB]jdk.internal.vm.compiler\f[R]).</span>
<span class="line-added">5329 However, these modules are seldom upgraded in production software.</span>
<span class="line-added">5330 .PP</span>
<span class="line-added">5331 [4] As documented in JEP 261, using \f[CB]\-\-patch\-module\f[R] is</span>
<span class="line-added">5332 strongly discouraged for production use.</span>
<span class="line-added">5333 .PP</span>
<span class="line-added">5334 [5] \f[CB]\-\-limit\-modules\f[R] is intended for testing purposes.</span>
<span class="line-added">5335 It is seldom used in production software.</span>
<span class="line-added">5336 .PP</span>
<span class="line-added">5337 If \f[CB]\-\-upgrade\-module\-path\f[R], \f[CB]\-\-patch\-module\f[R], or</span>
<span class="line-added">5338 \f[CB]\-\-limit\-modules\f[R] is specified at dump time, an error will be</span>
<span class="line-added">5339 printed and the JVM will exit.</span>
<span class="line-added">5340 For example, if the \f[CB]\-\-limit\-modules\f[R] option is specified at</span>
<span class="line-added">5341 dump time, the user will see the following error:</span>
<span class="line-added">5342 .IP</span>
5343 .nf
<a name="108" id="anc108"></a><span class="line-modified">5344 \f[CB]</span>
<span class="line-modified">5345 Error\ occurred\ during\ initialization\ of\ VM</span>
<span class="line-added">5346 Cannot\ use\ the\ following\ option\ when\ dumping\ the\ shared\ archive:\ \-\-limit\-modules</span>
<span class="line-added">5347 \f[R]</span>
5348 .fi
<a name="109" id="anc109"></a>



5349 .PP
<a name="110" id="anc110"></a><span class="line-modified">5350 If \f[CB]\-\-upgrade\-module\-path\f[R], \f[CB]\-\-patch\-module\f[R], or</span>
<span class="line-modified">5351 \f[CB]\-\-limit\-modules\f[R] is specified at run time, a warning message</span>
<span class="line-modified">5352 will be printed indicating that CDS is disabled.</span>
<span class="line-modified">5353 For example, if the \f[CB]\-\-limit\-modules\f[R] options is specified at</span>
<span class="line-modified">5354 run time, the user will see the following warning:</span>
<span class="line-modified">5355 .IP</span>

5356 .nf
<a name="111" id="anc111"></a><span class="line-modified">5357 \f[CB]</span>
<span class="line-modified">5358 Java\ HotSpot(TM)\ 64\-Bit\ Server\ VM\ warning:\ CDS\ is\ disabled\ when\ the\ \-\-limit\-modules\ option\ is\ specified.</span>
<span class="line-added">5359 \f[R]</span>
5360 .fi
<a name="112" id="anc112"></a>



5361 .PP
<a name="113" id="anc113"></a><span class="line-modified">5362 Several other noteworthy things include:</span>
<span class="line-modified">5363 .IP \[bu] 2</span>
<span class="line-modified">5364 Any valid combinations of \f[CB]\-cp\f[R] and \f[CB]\-\-module\-path\f[R]</span>
<span class="line-modified">5365 are supported.</span>
<span class="line-modified">5366 .IP \[bu] 2</span>
<span class="line-modified">5367 A non\-empty directory in the module path causes a fatal error.</span>
<span class="line-modified">5368 The user will see the following error messages:</span>
<span class="line-modified">5369 .RS 2</span>
<span class="line-modified">5370 .IP</span>














5371 .nf
<a name="114" id="anc114"></a><span class="line-modified">5372 \f[CB]</span>
<span class="line-modified">5373 Error:\ non\-empty\ directory\ &lt;directory&gt;\ Hint:\ enable\ \-Xlog:class+path=info\ to\ diagnose\ the\ failure\ Error\ occurred\ during\ initialization\ of\ VM\ Cannot\ have\ non\-empty\ directory\ in\ paths</span>
<span class="line-modified">5374 \f[R]</span>

5375 .fi
<a name="115" id="anc115"></a>






5376 .RE
<a name="116" id="anc116"></a><span class="line-modified">5377 .IP \[bu] 2</span>
<span class="line-modified">5378 Unlike the class path, there\[aq]s no restriction that the module path</span>
<span class="line-modified">5379 at dump time must be equal to or be a prefix of the module path at run</span>
<span class="line-modified">5380 time.</span>
<span class="line-modified">5381 .IP \[bu] 2</span>
<span class="line-modified">5382 The archive is invalidated if an existing JAR in the module path is</span>
<span class="line-modified">5383 updated after archive generation.</span>
<span class="line-modified">5384 .IP \[bu] 2</span>
<span class="line-modified">5385 Removing a JAR from the module path does not invalidate the shared</span>
<span class="line-modified">5386 archive.</span>
<span class="line-added">5387 Archived classes from the removed JAR are not used at runtime.</span>
<span class="line-added">5388 .SS Dynamic CDS archive</span>
<span class="line-added">5389 .PP</span>
<span class="line-added">5390 Dynamic CDS archive extends AppCDS to allow archiving of classes when a</span>
<span class="line-added">5391 Java application exits.</span>
<span class="line-added">5392 It improves the usability of AppCDS by eliminating the trial run step</span>
<span class="line-added">5393 for creating a class list for each application.</span>
<span class="line-added">5394 The archived classes include all loaded application classes and library</span>
<span class="line-added">5395 classes that are not present in the default CDS archive which is</span>
<span class="line-added">5396 included in the JDK.</span>
<span class="line-added">5397 .PP</span>
<span class="line-added">5398 A base archive is required when creating a dynamic archive.</span>
<span class="line-added">5399 If the base archive is not specified, the default CDS archive is used as</span>
<span class="line-added">5400 the base archive.</span>
<span class="line-added">5401 .PP</span>
<span class="line-added">5402 To create a dynamic CDS archive with the default CDS archive as the base</span>
<span class="line-added">5403 archive, just add the</span>
<span class="line-added">5404 \f[CB]\-XX:ArchiveClassesAtExit=&lt;dynamic\ archive&gt;\f[R] option to the</span>
<span class="line-added">5405 command line for running the Java application.</span>
<span class="line-added">5406 .PP</span>
<span class="line-added">5407 If the default CDS archive does not exist, the VM will exit with the</span>
<span class="line-added">5408 following error:</span>
<span class="line-added">5409 .IP</span>
5410 .nf
<a name="117" id="anc117"></a><span class="line-modified">5411 \f[CB]</span>
<span class="line-modified">5412 ArchiveClassesAtExit\ not\ supported\ when\ base\ CDS\ archive\ is\ not\ loaded</span>
<span class="line-added">5413 \f[R]</span>
5414 .fi
<a name="118" id="anc118"></a>



5415 .PP
<a name="119" id="anc119"></a><span class="line-modified">5416 To run the Java application using a dynamic CDS archive, just add the</span>
<span class="line-modified">5417 \f[CB]\-XX:SharedArchiveFile=&lt;dynamic\ archive&gt;\f[R] option to the command</span>
<span class="line-modified">5418 line for running the Java application.</span>

5419 .PP
<a name="120" id="anc120"></a><span class="line-modified">5420 The base archive is not required to be specified in the command line.</span>
<span class="line-modified">5421 The base archive information, including its name and full path, will be</span>
<span class="line-modified">5422 retrieved from the dynamic archive header.</span>
<span class="line-modified">5423 Note that the user could also use the \f[CB]\-XX:SharedArchiveFile\f[R]</span>
<span class="line-added">5424 option for specifying a regular AppCDS archive.</span>
<span class="line-added">5425 Therefore, the specified archive in the \f[CB]\-XX:SharedArchiveFile\f[R]</span>
<span class="line-added">5426 option could be either a regular or dynamic archive.</span>
<span class="line-added">5427 During VM start up the specified archive header will be read.</span>
<span class="line-added">5428 If \f[CB]\-XX:SharedArchiveFile\f[R] refers to a regular archive, then the</span>
<span class="line-added">5429 behavior will be unchanged.</span>
<span class="line-added">5430 If \f[CB]\-XX:SharedArchiveFile\f[R] refers to a dynamic archive, the VM</span>
<span class="line-added">5431 will retrieve the base archive location from the dynamic archive.</span>
<span class="line-added">5432 If the dynamic archive was created with the default CDS archive, then</span>
<span class="line-added">5433 the current default CDS archive will be used, and will be found relative</span>
<span class="line-added">5434 to the current run time environment.</span>
5435 .PP
<a name="121" id="anc121"></a><span class="line-modified">5436 Please refer to \f[B]JDK\-8221706\f[R]</span>
<span class="line-modified">5437 [https://bugs.openjdk.java.net/browse/JDK\-8221706] for details on error</span>
<span class="line-modified">5438 checking during dynamic CDS archive dump time and run time.</span>
<span class="line-modified">5439 .SS Creating a Shared Archive File and Using It to Run an Application</span>
<span class="line-added">5440 .SS AppCDS archive</span>
5441 .PP
<a name="122" id="anc122"></a><span class="line-modified">5442 The following steps create a shared archive file that contains all the</span>
<span class="line-added">5443 classes used by the \f[CB]test.Hello\f[R] application.</span>
<span class="line-added">5444 The last step runs the application with the shared archive file.</span>
<span class="line-added">5445 .IP &quot;1.&quot; 3</span>
<span class="line-added">5446 Create a list of all classes used by the \f[CB]test.Hello\f[R]</span>
<span class="line-added">5447 application.</span>
<span class="line-added">5448 The following command creates a file named \f[CB]hello.classlist\f[R] that</span>
<span class="line-added">5449 contains a list of all classes used by this application:</span>
5450 .RS 4
<a name="123" id="anc123"></a><span class="line-modified">5451 .RS</span>

5452 .PP
<a name="124" id="anc124"></a><span class="line-modified">5453 \f[CB]java\ \-Xshare:off\ \-XX:DumpLoadedClassList=hello.classlist\ \-cp\ hello.jar\ test.Hello\f[R]</span>


5454 .RE
5455 .PP
<a name="125" id="anc125"></a><span class="line-modified">5456 Note that the classpath specified by the \f[CB]\-cp\f[R] parameter must</span>
<span class="line-modified">5457 contain only JAR files.</span>

5458 .RE
<a name="126" id="anc126"></a><span class="line-modified">5459 .IP &quot;2.&quot; 3</span>
<span class="line-modified">5460 Create a shared archive, named \f[CB]hello.jsa\f[R], that contains all the</span>
<span class="line-added">5461 classes in \f[CB]hello.classlist\f[R]:</span>
5462 .RS 4
<a name="127" id="anc127"></a><span class="line-modified">5463 .RS</span>

5464 .PP
<a name="128" id="anc128"></a><span class="line-modified">5465 \f[CB]java\ \-Xshare:dump\ \-XX:SharedArchiveFile=hello.jsa\ \-XX:SharedClassListFile=hello.classlist\ \-cp\ hello.jar\f[R]</span>


5466 .RE
5467 .PP
<a name="129" id="anc129"></a><span class="line-modified">5468 Note that the classpath used at archive creation time must be the same</span>
<span class="line-modified">5469 as (or a prefix of) the classpath used at run time.</span>

5470 .RE
<a name="130" id="anc130"></a><span class="line-modified">5471 .IP &quot;3.&quot; 3</span>
<span class="line-modified">5472 Run the application \f[CB]test.Hello\f[R] with the shared archive</span>
<span class="line-added">5473 \f[CB]hello.jsa\f[R]:</span>
5474 .RS 4
<a name="131" id="anc131"></a><span class="line-modified">5475 .RS</span>



5476 .PP
<a name="132" id="anc132"></a><span class="line-modified">5477 \f[CB]java\ \-XX:SharedArchiveFile=hello.jsa\ \-cp\ hello.jar\ test.Hello\f[R]</span>















5478 .RE
<a name="133" id="anc133"></a>





5479 .RE
<a name="134" id="anc134"></a><span class="line-modified">5480 .IP &quot;4.&quot; 3</span>
<span class="line-modified">5481 \f[B]Optional\f[R] Verify that the \f[CB]test.Hello\f[R] application is</span>
<span class="line-added">5482 using the class contained in the \f[CB]hello.jsa\f[R] shared archive:</span>
5483 .RS 4
<a name="135" id="anc135"></a><span class="line-modified">5484 .RS</span>
<span class="line-modified">5485 .PP</span>
<span class="line-modified">5486 \f[CB]java\ \-XX:SharedArchiveFile=hello.jsa\ \-cp\ hello.jar\ \-verbose:class\ test.Hello\f[R]</span>

5487 .RE
5488 .PP
<a name="136" id="anc136"></a><span class="line-modified">5489 The output of this command should contain the following text:</span>
<span class="line-modified">5490 .IP</span>











5491 .nf
<a name="137" id="anc137"></a><span class="line-modified">5492 \f[CB]</span>
<span class="line-modified">5493 Loaded\ test.Hello\ from\ shared\ objects\ file\ by\ sun/misc/Launcher$AppClassLoader</span>
<span class="line-added">5494 \f[R]</span>
5495 .fi
<a name="138" id="anc138"></a>


5496 .RE
<a name="139" id="anc139"></a><span class="line-added">5497 .SS Dynamic CDS archive</span>
5498 .PP
<a name="140" id="anc140"></a><span class="line-modified">5499 The following steps create a dynamic CDS archive file that contains the</span>
<span class="line-modified">5500 classes used by the \f[CB]test.Hello\f[R] application and are not included</span>
<span class="line-modified">5501 in the default CDS archive.</span>
<span class="line-modified">5502 The second step runs the application with the dynamic CDS archive.</span>
<span class="line-modified">5503 .IP &quot;1.&quot; 3</span>
<span class="line-modified">5504 Create a dynamic CDS archive, named \f[CB]hello.jsa\f[R], that contains</span>
<span class="line-modified">5505 all the classes in \f[CB]hello.jar\f[R] loaded by the application</span>
<span class="line-modified">5506 \f[CB]test.Hello\f[R]:</span>






5507 .RS 4
<a name="141" id="anc141"></a><span class="line-modified">5508 .RS</span>
<span class="line-modified">5509 .PP</span>
<span class="line-modified">5510 \f[CB]java\ \-XX:ArchiveClassesAtExit=hello.jsa\ \-cp\ hello.jar\ Hello\f[R]</span>
<span class="line-added">5511 .RE</span>
<span class="line-added">5512 .PP</span>
<span class="line-added">5513 Note that the classpath used at archive creation time must be the same</span>
<span class="line-added">5514 as (or a prefix of) the classpath used at run time.</span>
<span class="line-added">5515 .RE</span>
<span class="line-added">5516 .IP &quot;2.&quot; 3</span>
<span class="line-added">5517 Run the application \f[CB]test.Hello\f[R] with the shared archive</span>
<span class="line-added">5518 \f[CB]hello.jsa\f[R]:</span>
5519 .RS 4
<a name="142" id="anc142"></a><span class="line-modified">5520 .RS</span>
<span class="line-modified">5521 .PP</span>
<span class="line-modified">5522 \f[CB]java\ \-XX:SharedArchiveFile=hello.jsa\ \-cp\ hello.jar\ test.Hello\f[R]</span>



5523 .RE
<a name="143" id="anc143"></a>
5524 .RE
<a name="144" id="anc144"></a><span class="line-added">5525 .IP &quot;3.&quot; 3</span>
<span class="line-added">5526 \f[B]Optional\f[R] Repeat step 4 of the previous section to verify that</span>
<span class="line-added">5527 the \f[CB]test.Hello\f[R] application is using the class contained in the</span>
<span class="line-added">5528 \f[CB]hello.jsa\f[R] shared archive.</span>
5529 .PP
<a name="145" id="anc145"></a><span class="line-modified">5530 To automate the above steps 1 and 2, one can write a script such as the</span>
<span class="line-modified">5531 following:</span>
<span class="line-modified">5532 .IP</span>






5533 .nf
<a name="146" id="anc146"></a><span class="line-modified">5534 \f[CB]</span>
<span class="line-modified">5535 \ \ \ \ ARCHIVE=hello.jsa</span>
<span class="line-added">5536 \ \ \ \ if\ test\ \-f\ $ARCHIVE;\ then</span>
<span class="line-added">5537 \ \ \ \ \ \ \ \ FLAG=&quot;\-XX:SharedArchiveFile=$ARCHIVE&quot;</span>
<span class="line-added">5538 \ \ \ \ else</span>
<span class="line-added">5539 \ \ \ \ \ \ \ \ FLAG=&quot;\-XX:ArchiveClassesAtExit=$ARCHIVE&quot;</span>
<span class="line-added">5540 \ \ \ \ fi</span>
<span class="line-added">5541 \ \ \ \ $JAVA_HOME/bin/java\ \-cp\ hello.jar\ $FLAG\ test.Hello</span>
<span class="line-added">5542 \f[R]</span>
5543 .fi
<a name="147" id="anc147"></a>



5544 .PP
<a name="148" id="anc148"></a><span class="line-modified">5545 Like an AppCDS archive, the archive needs to be re\-generated if the</span>
<span class="line-modified">5546 Java version has changed.</span>
<span class="line-modified">5547 The above script could be adjusted to account for the Java version as</span>
<span class="line-modified">5548 follows:</span>
<span class="line-modified">5549 .IP</span>
















5550 .nf
<a name="149" id="anc149"></a><span class="line-modified">5551 \f[CB]</span>
<span class="line-modified">5552 \ \ \ \ ARCHIVE=hello.jsa</span>
<span class="line-added">5553 \ \ \ \ VERSION=foo.version</span>
<span class="line-added">5554 \ \ \ \ if\ test\ \-f\ $ARCHIVE\ \-a\ \-f\ $VERSION\ &amp;&amp;\ cmp\ \-s\ $VERSION\ $JAVA_HOME/release;\ then</span>
<span class="line-added">5555 \ \ \ \ \ \ \ \ FLAG=&quot;\-XX:SharedArchiveFile=$ARCHIVE&quot;</span>
<span class="line-added">5556 \ \ \ \ else</span>
<span class="line-added">5557 \ \ \ \ \ \ \ \ FLAG=&quot;\-XX:ArchiveClassesAtExit=$ARCHIVE&quot;</span>
<span class="line-added">5558 \ \ \ \ \ \ \ \ cp\ \-f\ $JAVA_HOME/release\ $VERSION</span>
<span class="line-added">5559 \ \ \ \ fi</span>
<span class="line-added">5560 \ \ \ \ $JAVA_HOME/bin/java\ \-cp\ hello.jar\ $FLAG\ test.Hello</span>
<span class="line-added">5561 \f[R]</span>
5562 .fi
<a name="150" id="anc150"></a>



5563 .PP
<a name="151" id="anc151"></a><span class="line-modified">5564 Currently, we don\[aq]t support concurrent dumping operations to the</span>
<span class="line-modified">5565 same CDS archive.</span>
<span class="line-modified">5566 Care should be taken to avoid multiple writers to the same CDS archive.</span>





5567 .PP
<a name="152" id="anc152"></a><span class="line-modified">5568 The user could also create a dynamic CDS archive with a specific base</span>
<span class="line-modified">5569 archive, e.g.</span>
<span class="line-modified">5570 named as \f[CB]base.jsa\f[R] as follows:</span>
<span class="line-modified">5571 .RS</span>
5572 .PP
<a name="153" id="anc153"></a><span class="line-modified">5573 \f[CB]java\ \-XX:SharedArchiveFile=base.jsa\ \-XX:ArchiveClassesAtExit=hello.jsa\ \-cp\ hello.jar\ Hello\f[R]</span>







5574 .RE
5575 .PP
<a name="154" id="anc154"></a><span class="line-modified">5576 To run the application using the dynamic CDS archive \f[CB]hello.jsa\f[R]</span>
<span class="line-modified">5577 and a specific base CDS archive \f[CB]base.jsa\f[R]:</span>
<span class="line-modified">5578 .RS</span>



5579 .PP
<a name="155" id="anc155"></a><span class="line-modified">5580 \f[CB]java\ \-XX:SharedArchiveFile=base.jsa:hello.jsa\ \-cp\ hello.jar\ Hello\f[R]</span>







5581 .RE
5582 .PP
<a name="156" id="anc156"></a><span class="line-modified">5583 Note that on Windows, the above path delimiter \f[CB]:\f[R] should be</span>
<span class="line-modified">5584 replaced with \f[CB];\f[R].</span>


5585 .PP
<a name="157" id="anc157"></a><span class="line-modified">5586 The above command for specifying a base archive is useful if the base</span>
<span class="line-modified">5587 archive used for creating the dynamic archive has been moved.</span>
<span class="line-modified">5588 Normally, just specifying the dynamic archive should be sufficient since</span>
<span class="line-modified">5589 the base archive info can be retrieved from the dynamic archive header.</span>
<span class="line-modified">5590 .SS Sharing a Shared Archive Across Multiple Application Processes</span>



5591 .PP
<a name="158" id="anc158"></a><span class="line-modified">5592 You can share the same archive file across multiple applications</span>
<span class="line-modified">5593 processes.</span>
<span class="line-modified">5594 This reduces memory usage because the archive is memory\-mapped into the</span>
<span class="line-modified">5595 address space of the processes.</span>
<span class="line-modified">5596 The operating system automatically shares the read\-only pages across</span>
<span class="line-modified">5597 these processes.</span>
5598 .PP
<a name="159" id="anc159"></a><span class="line-modified">5599 The following steps demonstrate how to create a common archive that can</span>
<span class="line-modified">5600 be shared by different applications.</span>
<span class="line-modified">5601 Classes from \f[CB]common.jar\f[R], \f[CB]hello.jar\f[R] and \f[CB]hi.jar\f[R]</span>
<span class="line-modified">5602 are archived in the \f[CB]common.jsa\f[R] because they are all in the</span>
<span class="line-modified">5603 classpath during the archiving step (step 3).</span>





5604 .PP
<a name="160" id="anc160"></a><span class="line-modified">5605 To include classes from \f[CB]hello.jar\f[R] and \f[CB]hi.jar\f[R], the</span>
<span class="line-added">5606 \f[CB]\&amp;.jar\f[R] files must be added to the classpath specified by the</span>
<span class="line-added">5607 \f[CB]\-cp\f[R] parameter.</span>
<span class="line-added">5608 .IP &quot;1.&quot; 3</span>
<span class="line-added">5609 Create a list of all classes used by the \f[CB]Hello\f[R] application and</span>
<span class="line-added">5610 another list for the \f[CB]Hi\f[R] application:</span>
5611 .RS 4
<a name="161" id="anc161"></a><span class="line-modified">5612 .RS</span>

5613 .PP
<a name="162" id="anc162"></a><span class="line-modified">5614 \f[CB]java\ \-XX:DumpLoadedClassList=hello.classlist\ \-cp\ common.jar:hello.jar\ Hello\f[R]</span>




5615 .RE
<a name="163" id="anc163"></a><span class="line-added">5616 .RS</span>
5617 .PP
<a name="164" id="anc164"></a><span class="line-modified">5618 \f[CB]java\ \-XX:DumpLoadedClassList=hi.classlist\ \-cp\ common.jar:hi.jar\ Hi\f[R]</span>















5619 .RE
<a name="165" id="anc165"></a>




5620 .RE
<a name="166" id="anc166"></a><span class="line-modified">5621 .IP &quot;2.&quot; 3</span>
<span class="line-added">5622 Create a single list of classes used by all the applications that will</span>
<span class="line-added">5623 share the shared archive file.</span>
<span class="line-added">5624 .RS 4</span>
5625 .PP
<a name="167" id="anc167"></a><span class="line-modified">5626 \f[B]Oracle Solaris, Linux, and macOS\f[R] The following commands combine</span>
<span class="line-added">5627 the files \f[CB]hello.classlist\f[R] and \f[CB]hi.classlist\f[R] into one</span>
<span class="line-added">5628 file, \f[CB]common.classlist\f[R]:</span>
<span class="line-added">5629 .RS</span>
5630 .PP
<a name="168" id="anc168"></a><span class="line-modified">5631 \f[CB]cat\ hello.classlist\ hi.classlist\ &gt;\ common.classlist\f[R]</span>


5632 .RE
5633 .PP
<a name="169" id="anc169"></a><span class="line-modified">5634 \f[B]Windows\f[R] The following commands combine the files</span>
<span class="line-modified">5635 \f[CB]hello.classlist\f[R] and \f[CB]hi.classlist\f[R] into one file,</span>
<span class="line-modified">5636 \f[CB]common.classlist\f[R]:</span>
<span class="line-modified">5637 .RS</span>


5638 .PP
<a name="170" id="anc170"></a><span class="line-modified">5639 \f[CB]type\ hello.classlist\ hi.classlist\ &gt;\ common.classlist\f[R]</span>




5640 .RE
<a name="171" id="anc171"></a>







5641 .RE
<a name="172" id="anc172"></a><span class="line-modified">5642 .IP &quot;3.&quot; 3</span>
<span class="line-modified">5643 Create a shared archive named \f[CB]common.jsa\f[R] that contains all the</span>
<span class="line-added">5644 classes in \f[CB]common.classlist\f[R]:</span>
5645 .RS 4
<a name="173" id="anc173"></a><span class="line-modified">5646 .RS</span>


5647 .PP
<a name="174" id="anc174"></a><span class="line-modified">5648 \f[CB]java\ \-Xshare:dump\ \-XX:SharedArchiveFile=common.jsa\ \-XX:SharedClassListFile=common.classlist\ \-cp\ common.jar:hello.jar:hi.jar\f[R]</span>




5649 .RE
5650 .PP
<a name="175" id="anc175"></a><span class="line-modified">5651 The classpath parameter used is the common class path prefix shared by</span>
<span class="line-modified">5652 the \f[CB]Hello\f[R] and \f[CB]Hi\f[R] applications.</span>



5653 .RE
<a name="176" id="anc176"></a><span class="line-modified">5654 .IP &quot;4.&quot; 3</span>
<span class="line-modified">5655 Run the \f[CB]Hello\f[R] and \f[CB]Hi\f[R] applications with the same shared</span>
<span class="line-added">5656 archive:</span>
5657 .RS 4
<a name="177" id="anc177"></a><span class="line-modified">5658 .RS</span>



5659 .PP
<a name="178" id="anc178"></a><span class="line-modified">5660 \f[CB]java\ \-XX:SharedArchiveFile=common.jsa\ \-cp\ common.jar:hello.jar:hi.jar\ Hello\f[R]</span>


5661 .RE
<a name="179" id="anc179"></a><span class="line-added">5662 .RS</span>
5663 .PP
<a name="180" id="anc180"></a><span class="line-modified">5664 \f[CB]java\ \-XX:SharedArchiveFile=common.jsa\ \-cp\ common.jar:hello.jar:hi.jar\ Hi\f[R]</span>




5665 .RE
<a name="181" id="anc181"></a>





5666 .RE
<a name="182" id="anc182"></a><span class="line-added">5667 .SS Specifying Additional Shared Data Added to an Archive File</span>
5668 .PP
<a name="183" id="anc183"></a><span class="line-modified">5669 The \f[CB]SharedArchiveConfigFile\f[R] option is used to specify</span>
<span class="line-modified">5670 additional shared data to add to the archive file.</span>
<span class="line-modified">5671 .RS</span>

5672 .PP
<a name="184" id="anc184"></a><span class="line-modified">5673 \f[CB]\-XX:SharedArchiveConfigFile=\f[R]\f[I]shared_config_file\f[R]</span>


5674 .RE
<a name="185" id="anc185"></a>
5675 .PP
<a name="186" id="anc186"></a><span class="line-modified">5676 JDK 9 and later supports adding both symbols and string objects to an</span>
<span class="line-added">5677 archive for memory sharing when you have multiple JVM processes running</span>
<span class="line-added">5678 on the same host.</span>
<span class="line-added">5679 An example of this is having multiple JVM processes that use the same</span>
<span class="line-added">5680 set of Java EE classes.</span>
<span class="line-added">5681 When these common classes are loaded and used, new symbols and strings</span>
<span class="line-added">5682 may be created and added to the JVM\[aq]s internal &quot;symbol&quot; and &quot;string&quot;</span>
<span class="line-added">5683 tables.</span>
<span class="line-added">5684 At runtime, the symbols or string objects mapped from the archive file</span>
<span class="line-added">5685 can be shared across multiple JVM processes, resulting in a reduction of</span>
<span class="line-added">5686 overall memory usage.</span>
<span class="line-added">5687 In addition, archiving strings also provides added performance benefits</span>
<span class="line-added">5688 in both startup time and runtime execution.</span>
5689 .PP
<a name="187" id="anc187"></a><span class="line-modified">5690 In JDK 10 and later, CONSTANT_String entries in archived classes are</span>
<span class="line-modified">5691 resolved to interned String objects at dump time, and all interned</span>
<span class="line-modified">5692 String objects are archived.</span>
<span class="line-modified">5693 However, even though all CONSTANT_String literals in all archived</span>
<span class="line-modified">5694 classes are resolved, it might still beneficial to add additional</span>
<span class="line-modified">5695 strings that are not string literals in class files, but are likely to</span>
<span class="line-modified">5696 be used by your application at run time.</span>
<span class="line-modified">5697 .PP</span>
<span class="line-modified">5698 Symbol data should be generated by the \f[CB]jcmd\f[R] tool attaching to a</span>
<span class="line-modified">5699 running JVM process.</span>
<span class="line-modified">5700 See \f[B]jcmd\f[R].</span>
<span class="line-added">5701 .PP</span>
<span class="line-added">5702 The following is an example of the symbol dumping command in</span>
<span class="line-added">5703 \f[CB]jcmd\f[R]:</span>
<span class="line-added">5704 .RS</span>
<span class="line-added">5705 .PP</span>
<span class="line-added">5706 \f[CB]jcmd\f[R] \f[I]pid\f[R] \f[CB]VM.symboltable\ \-verbose\f[R]</span>
5707 .RE
<a name="188" id="anc188"></a><span class="line-modified">5708 .RS</span>
<span class="line-added">5709 .PP</span>
<span class="line-added">5710 \f[B]Note:\f[R] The first line (process ID) and the second line</span>
<span class="line-added">5711 (\f[CB]\@VERSION\ ...\f[R]) of this \f[CB]jcmd\f[R] output should be</span>
<span class="line-added">5712 excluded from the configuration file.</span>
5713 .RE
<a name="189" id="anc189"></a><span class="line-added">5714 .SS Example of a Configuration File</span>
5715 .PP
<a name="190" id="anc190"></a><span class="line-modified">5716 The following is an example of a configuration file:</span>
<span class="line-modified">5717 .IP</span>




5718 .nf
<a name="191" id="anc191"></a><span class="line-modified">5719 \f[CB]</span>
<span class="line-modified">5720 VERSION:\ 1.0</span>
<span class="line-added">5721 \@SECTION:\ Symbol</span>
<span class="line-added">5722 10\ \-1:\ linkMethod</span>
<span class="line-added">5723 \f[R]</span>
5724 .fi
<a name="192" id="anc192"></a><span class="line-modified">5725 .PP</span>
<span class="line-modified">5726 In the configuration file example, the \f[CB]\@SECTION:\ Symbol\f[R] entry</span>
<span class="line-modified">5727 uses the following format:</span>
<span class="line-added">5728 .RS</span>
<span class="line-added">5729 .PP</span>
<span class="line-added">5730 \f[I]length\f[R] \f[I]refcount\f[R]\f[CB]:\f[R] \f[I]symbol\f[R]</span>
5731 .RE
<a name="193" id="anc193"></a>
5732 .PP
<a name="194" id="anc194"></a><span class="line-modified">5733 The \f[I]refcount\f[R] for a shared symbol is always \f[CB]\-1\f[R].</span>
5734 .PP
<a name="195" id="anc195"></a><span class="line-modified">5735 \f[CB]\@SECTION\f[R] specifies the type of the section that follows it.</span>
<span class="line-added">5736 All data within the section must be the same type that\[aq]s specified</span>
<span class="line-added">5737 by \f[CB]\@SECTION\f[R].</span>
<span class="line-added">5738 Different types of data can\[aq]t be mixed.</span>
<span class="line-added">5739 Multiple separated data sections for the same type specified by</span>
<span class="line-added">5740 different \f[CB]\@SECTION\f[R] are allowed within one</span>
<span class="line-added">5741 \f[CB]shared_config_file\f[R] .</span>
<span class="line-added">5742 .SH PERFORMANCE TUNING EXAMPLES</span>
5743 .PP
<a name="196" id="anc196"></a><span class="line-modified">5744 You can use the Java advanced runtime options to optimize the</span>
<span class="line-modified">5745 performance of your applications.</span>
<span class="line-added">5746 .SS Tuning for Higher Throughput</span>
5747 .PP
<a name="197" id="anc197"></a><span class="line-modified">5748 Use the following commands and advanced options to achieve higher</span>
<span class="line-modified">5749 throughput performance for your application:</span>
<span class="line-modified">5750 .RS</span>






5751 .PP
<a name="198" id="anc198"></a><span class="line-modified">5752 \f[CB]java\ \-server\ \-XX:+UseParallelGC\ \-XX:+UseLargePages\ \-Xmn10g\ \ \-Xms26g\ \-Xmx26g\f[R]</span>
5753 .RE
<a name="199" id="anc199"></a><span class="line-modified">5754 .SS Tuning for Lower Response Time</span>







5755 .PP
<a name="200" id="anc200"></a><span class="line-modified">5756 Use the following commands and advanced options to achieve lower</span>
<span class="line-modified">5757 response times for your application:</span>
<span class="line-modified">5758 .RS</span>












5759 .PP
<a name="201" id="anc201"></a><span class="line-modified">5760 \f[CB]java\ \-XX:+UseG1GC\ \-XX:MaxGCPauseMillis=100\f[R]</span>


































































































































5761 .RE
<a name="202" id="anc202"></a><span class="line-modified">5762 .SS Keeping the Java Heap Small and Reducing the Dynamic Footprint of</span>
<span class="line-modified">5763 Embedded Applications</span>
<span class="line-modified">5764 .PP</span>
<span class="line-modified">5765 Use the following advanced runtime options to keep the Java heap small</span>
<span class="line-modified">5766 and reduce the dynamic footprint of embedded applications:</span>
<span class="line-modified">5767 .RS</span>
<span class="line-modified">5768 .PP</span>
<span class="line-modified">5769 \f[CB]\-XX:MaxHeapFreeRatio=10\ \-XX:MinHeapFreeRatio=5\f[R]</span>

5770 .RE
<a name="203" id="anc203"></a><span class="line-added">5771 .RS</span>
<span class="line-added">5772 .PP</span>
<span class="line-added">5773 \f[B]Note:\f[R] The defaults for these two options are 70% and 40%</span>
<span class="line-added">5774 respectively.</span>
<span class="line-added">5775 Because performance sacrifices can occur when using these small</span>
<span class="line-added">5776 settings, you should optimize for a small footprint by reducing these</span>
<span class="line-added">5777 settings as much as possible without introducing unacceptable</span>
<span class="line-added">5778 performance degradation.</span>
5779 .RE
<a name="204" id="anc204"></a><span class="line-modified">5780 .SH EXIT STATUS</span>
5781 .PP
<a name="205" id="anc205"></a><span class="line-modified">5782 The following exit values are typically returned by the launcher when</span>
<span class="line-modified">5783 the launcher is called with the wrong arguments, serious errors, or</span>
<span class="line-modified">5784 exceptions thrown by the JVM.</span>
<span class="line-modified">5785 However, a Java application may choose to return any value by using the</span>
<span class="line-modified">5786 API call \f[CB]System.exit(exitValue)\f[R].</span>
<span class="line-modified">5787 The values are:</span>
<span class="line-modified">5788 .IP \[bu] 2</span>
<span class="line-modified">5789 \f[CB]0\f[R]: Successful completion</span>
<span class="line-modified">5790 .IP \[bu] 2</span>
<span class="line-modified">5791 \f[CB]&gt;0\f[R]: An error occurred</span>






























































<a name="206" id="anc206"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="206" type="hidden" />
</body>
</html>