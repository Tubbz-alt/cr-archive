<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/jdk.crypto.cryptoki/share/native/libj2pkcs11/pkcs11.h</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="p11_util.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="pkcs11f.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.crypto.cryptoki/share/native/libj2pkcs11/pkcs11.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,39 ***</span>
<span class="line-modified">! /* pkcs11.h include file for PKCS #11. */</span>
<span class="line-modified">! /* $Revision: 1.4 $ */</span>
<span class="line-modified">! </span>
<span class="line-modified">! /* License to copy and use this software is granted provided that it is</span>
<span class="line-modified">!  * identified as &quot;RSA Security Inc. PKCS #11 Cryptographic Token Interface</span>
<span class="line-modified">!  * (Cryptoki)&quot; in all material mentioning or referencing this software.</span>
<span class="line-removed">- </span>
<span class="line-removed">-  * License is also granted to make and use derivative works provided that</span>
<span class="line-removed">-  * such works are identified as &quot;derived from the RSA Security Inc. PKCS #11</span>
<span class="line-removed">-  * Cryptographic Token Interface (Cryptoki)&quot; in all material mentioning or</span>
<span class="line-removed">-  * referencing the derived work.</span>
  
<span class="line-modified">!  * RSA Security Inc. makes no representations concerning either the</span>
<span class="line-modified">!  * merchantability of this software or the suitability of this software for</span>
<span class="line-removed">-  * any particular purpose. It is provided &quot;as is&quot; without express or implied</span>
<span class="line-removed">-  * warranty of any kind.</span>
   */
  
  #ifndef _PKCS11_H_
  #define _PKCS11_H_ 1
  
  #ifdef __cplusplus
  extern &quot;C&quot; {
  #endif
  
  /* Before including this file (pkcs11.h) (or pkcs11t.h by
<span class="line-modified">!  * itself), 6 platform-specific macros must be defined.  These</span>
   * macros are described below, and typical definitions for them
   * are also given.  Be advised that these definitions can depend
   * on both the platform and the compiler used (and possibly also
   * on whether a Cryptoki library is linked statically or
   * dynamically).
   *
<span class="line-modified">!  * In addition to defining these 6 macros, the packing convention</span>
   * for Cryptoki structures should be set.  The Cryptoki
   * convention on packing is that structures should be 1-byte
   * aligned.
   *
   * If you&#39;re using Microsoft Developer Studio 5.0 to produce
<span class="line-new-header">--- 1,32 ---</span>
<span class="line-modified">! /* Copyright (c) OASIS Open 2016. All Rights Reserved./</span>
<span class="line-modified">!  * /Distributed under the terms of the OASIS IPR Policy,</span>
<span class="line-modified">!  * [http://www.oasis-open.org/policies-guidelines/ipr], AS-IS, WITHOUT ANY</span>
<span class="line-modified">!  * IMPLIED OR EXPRESS WARRANTY; there is no warranty of MERCHANTABILITY, FITNESS FOR A</span>
<span class="line-modified">!  * PARTICULAR PURPOSE or NONINFRINGEMENT of the rights of others.</span>
<span class="line-modified">!  */</span>
  
<span class="line-modified">! /* Latest version of the specification:</span>
<span class="line-modified">!  * http://docs.oasis-open.org/pkcs11/pkcs11-base/v2.40/pkcs11-base-v2.40.html</span>
   */
  
  #ifndef _PKCS11_H_
  #define _PKCS11_H_ 1
  
  #ifdef __cplusplus
  extern &quot;C&quot; {
  #endif
  
  /* Before including this file (pkcs11.h) (or pkcs11t.h by
<span class="line-modified">!  * itself), 5 platform-specific macros must be defined.  These</span>
   * macros are described below, and typical definitions for them
   * are also given.  Be advised that these definitions can depend
   * on both the platform and the compiler used (and possibly also
   * on whether a Cryptoki library is linked statically or
   * dynamically).
   *
<span class="line-modified">!  * In addition to defining these 5 macros, the packing convention</span>
   * for Cryptoki structures should be set.  The Cryptoki
   * convention on packing is that structures should be 1-byte
   * aligned.
   *
   * If you&#39;re using Microsoft Developer Studio 5.0 to produce
</pre>
<hr />
<pre>
<span class="line-old-header">*** 79,43 ***</span>
   * In a typical UNIX environment, it might be defined by:
   *
   * #define CK_PTR *
   *
   *
<span class="line-modified">!  * 2. CK_DEFINE_FUNCTION(returnType, name): A macro which makes</span>
<span class="line-removed">-  * an exportable Cryptoki library function definition out of a</span>
<span class="line-removed">-  * return type and a function name.  It should be used in the</span>
<span class="line-removed">-  * following fashion to define the exposed Cryptoki functions in</span>
<span class="line-removed">-  * a Cryptoki library:</span>
<span class="line-removed">-  *</span>
<span class="line-removed">-  * CK_DEFINE_FUNCTION(CK_RV, C_Initialize)(</span>
<span class="line-removed">-  *   CK_VOID_PTR pReserved</span>
<span class="line-removed">-  * )</span>
<span class="line-removed">-  * {</span>
<span class="line-removed">-  *   ...</span>
<span class="line-removed">-  * }</span>
<span class="line-removed">-  *</span>
<span class="line-removed">-  * If you&#39;re using Microsoft Developer Studio 5.0 to define a</span>
<span class="line-removed">-  * function in a Win32 Cryptoki .dll, it might be defined by:</span>
<span class="line-removed">-  *</span>
<span class="line-removed">-  * #define CK_DEFINE_FUNCTION(returnType, name) \</span>
<span class="line-removed">-  *   returnType __declspec(dllexport) name</span>
<span class="line-removed">-  *</span>
<span class="line-removed">-  * If you&#39;re using an earlier version of Microsoft Developer</span>
<span class="line-removed">-  * Studio to define a function in a Win16 Cryptoki .dll, it</span>
<span class="line-removed">-  * might be defined by:</span>
<span class="line-removed">-  *</span>
<span class="line-removed">-  * #define CK_DEFINE_FUNCTION(returnType, name) \</span>
<span class="line-removed">-  *   returnType __export _far _pascal name</span>
<span class="line-removed">-  *</span>
<span class="line-removed">-  * In a UNIX environment, it might be defined by:</span>
<span class="line-removed">-  *</span>
<span class="line-removed">-  * #define CK_DEFINE_FUNCTION(returnType, name) \</span>
<span class="line-removed">-  *   returnType name</span>
<span class="line-removed">-  *</span>
<span class="line-removed">-  *</span>
<span class="line-removed">-  * 3. CK_DECLARE_FUNCTION(returnType, name): A macro which makes</span>
   * an importable Cryptoki library function declaration out of a
   * return type and a function name.  It should be used in the
   * following fashion:
   *
   * extern CK_DECLARE_FUNCTION(CK_RV, C_Initialize)(
<span class="line-new-header">--- 72,11 ---</span>
   * In a typical UNIX environment, it might be defined by:
   *
   * #define CK_PTR *
   *
   *
<span class="line-modified">!  * 2. CK_DECLARE_FUNCTION(returnType, name): A macro which makes</span>
   * an importable Cryptoki library function declaration out of a
   * return type and a function name.  It should be used in the
   * following fashion:
   *
   * extern CK_DECLARE_FUNCTION(CK_RV, C_Initialize)(
</pre>
<hr />
<pre>
<span class="line-old-header">*** 139,11 ***</span>
   *
   * #define CK_DECLARE_FUNCTION(returnType, name) \
   *   returnType name
   *
   *
<span class="line-modified">!  * 4. CK_DECLARE_FUNCTION_POINTER(returnType, name): A macro</span>
   * which makes a Cryptoki API function pointer declaration or
   * function pointer type declaration out of a return type and a
   * function name.  It should be used in the following fashion:
   *
   * // Define funcPtr to be a pointer to a Cryptoki API function
<span class="line-new-header">--- 100,11 ---</span>
   *
   * #define CK_DECLARE_FUNCTION(returnType, name) \
   *   returnType name
   *
   *
<span class="line-modified">!  * 3. CK_DECLARE_FUNCTION_POINTER(returnType, name): A macro</span>
   * which makes a Cryptoki API function pointer declaration or
   * function pointer type declaration out of a return type and a
   * function name.  It should be used in the following fashion:
   *
   * // Define funcPtr to be a pointer to a Cryptoki API function
</pre>
<hr />
<pre>
<span class="line-old-header">*** 176,11 ***</span>
   *
   * #define CK_DECLARE_FUNCTION_POINTER(returnType, name) \
   *   returnType (* name)
   *
   *
<span class="line-modified">!  * 5. CK_CALLBACK_FUNCTION(returnType, name): A macro which makes</span>
   * a function pointer type for an application callback out of
   * a return type for the callback and a name for the callback.
   * It should be used in the following fashion:
   *
   * CK_CALLBACK_FUNCTION(CK_RV, myCallback)(args);
<span class="line-new-header">--- 137,11 ---</span>
   *
   * #define CK_DECLARE_FUNCTION_POINTER(returnType, name) \
   *   returnType (* name)
   *
   *
<span class="line-modified">!  * 4. CK_CALLBACK_FUNCTION(returnType, name): A macro which makes</span>
   * a function pointer type for an application callback out of
   * a return type for the callback and a name for the callback.
   * It should be used in the following fashion:
   *
   * CK_CALLBACK_FUNCTION(CK_RV, myCallback)(args);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 208,11 ***</span>
   *
   * #define CK_CALLBACK_FUNCTION(returnType, name) \
   *   returnType (* name)
   *
   *
<span class="line-modified">!  * 6. NULL_PTR: This macro is the value of a NULL pointer.</span>
   *
   * In any ANSI/ISO C environment (and in many others as well),
   * this should best be defined by
   *
   * #ifndef NULL_PTR
<span class="line-new-header">--- 169,11 ---</span>
   *
   * #define CK_CALLBACK_FUNCTION(returnType, name) \
   *   returnType (* name)
   *
   *
<span class="line-modified">!  * 5. NULL_PTR: This macro is the value of a NULL pointer.</span>
   *
   * In any ANSI/ISO C environment (and in many others as well),
   * this should best be defined by
   *
   * #ifndef NULL_PTR
</pre>
<hr />
<pre>
<span class="line-old-header">*** 220,11 ***</span>
   * #endif
   */
  
  
  /* All the various Cryptoki types and #define&#39;d values are in the
<span class="line-modified">!  * file pkcs11t.h. */</span>
  #include &quot;pkcs11t.h&quot;
  
  #define __PASTE(x,y)      x##y
  
  
<span class="line-new-header">--- 181,12 ---</span>
   * #endif
   */
  
  
  /* All the various Cryptoki types and #define&#39;d values are in the
<span class="line-modified">!  * file pkcs11t.h.</span>
<span class="line-added">+  */</span>
  #include &quot;pkcs11t.h&quot;
  
  #define __PASTE(x,y)      x##y
  
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 236,11 ***</span>
  #define CK_NEED_ARG_LIST  1
  #define CK_PKCS11_FUNCTION_INFO(name) \
    extern CK_DECLARE_FUNCTION(CK_RV, name)
  
  /* pkcs11f.h has all the information about the Cryptoki
<span class="line-modified">!  * function prototypes. */</span>
  #include &quot;pkcs11f.h&quot;
  
  #undef CK_NEED_ARG_LIST
  #undef CK_PKCS11_FUNCTION_INFO
  
<span class="line-new-header">--- 198,12 ---</span>
  #define CK_NEED_ARG_LIST  1
  #define CK_PKCS11_FUNCTION_INFO(name) \
    extern CK_DECLARE_FUNCTION(CK_RV, name)
  
  /* pkcs11f.h has all the information about the Cryptoki
<span class="line-modified">!  * function prototypes.</span>
<span class="line-added">+  */</span>
  #include &quot;pkcs11f.h&quot;
  
  #undef CK_NEED_ARG_LIST
  #undef CK_PKCS11_FUNCTION_INFO
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 255,11 ***</span>
  #define CK_NEED_ARG_LIST  1
  #define CK_PKCS11_FUNCTION_INFO(name) \
    typedef CK_DECLARE_FUNCTION_POINTER(CK_RV, __PASTE(CK_,name))
  
  /* pkcs11f.h has all the information about the Cryptoki
<span class="line-modified">!  * function prototypes. */</span>
  #include &quot;pkcs11f.h&quot;
  
  #undef CK_NEED_ARG_LIST
  #undef CK_PKCS11_FUNCTION_INFO
  
<span class="line-new-header">--- 218,12 ---</span>
  #define CK_NEED_ARG_LIST  1
  #define CK_PKCS11_FUNCTION_INFO(name) \
    typedef CK_DECLARE_FUNCTION_POINTER(CK_RV, __PASTE(CK_,name))
  
  /* pkcs11f.h has all the information about the Cryptoki
<span class="line-modified">!  * function prototypes.</span>
<span class="line-added">+  */</span>
  #include &quot;pkcs11f.h&quot;
  
  #undef CK_NEED_ARG_LIST
  #undef CK_PKCS11_FUNCTION_INFO
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 280,11 ***</span>
  
    CK_VERSION    version;  /* Cryptoki version */
  
  /* Pile all the function pointers into the CK_FUNCTION_LIST. */
  /* pkcs11f.h has all the information about the Cryptoki
<span class="line-modified">!  * function prototypes. */</span>
  #include &quot;pkcs11f.h&quot;
  
  };
  
  #undef CK_PKCS11_FUNCTION_INFO
<span class="line-new-header">--- 244,12 ---</span>
  
    CK_VERSION    version;  /* Cryptoki version */
  
  /* Pile all the function pointers into the CK_FUNCTION_LIST. */
  /* pkcs11f.h has all the information about the Cryptoki
<span class="line-modified">!  * function prototypes.</span>
<span class="line-added">+  */</span>
  #include &quot;pkcs11f.h&quot;
  
  };
  
  #undef CK_PKCS11_FUNCTION_INFO
</pre>
<hr />
<pre>
<span class="line-old-header">*** 294,6 ***</span>
  
  #ifdef __cplusplus
  }
  #endif
  
<span class="line-modified">! #endif</span>
<span class="line-new-header">--- 259,7 ---</span>
  
  #ifdef __cplusplus
  }
  #endif
  
<span class="line-modified">! #endif /* _PKCS11_H_ */</span>
<span class="line-added">+ </span>
</pre>
<center><a href="p11_util.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="pkcs11f.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>