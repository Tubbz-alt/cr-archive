<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/jdk.crypto.cryptoki/share/native/libj2pkcs11/pkcs11f.h</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="pkcs11.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="pkcs11t.h.udiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.crypto.cryptoki/share/native/libj2pkcs11/pkcs11f.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,44 +1,40 @@</span>
<span class="udiff-line-modified-removed">- /* pkcs11f.h include file for PKCS #11. */</span>
<span class="udiff-line-modified-removed">- /* $Revision: 1.4 $ */</span>
<span class="udiff-line-modified-removed">- </span>
<span class="udiff-line-modified-removed">- /* License to copy and use this software is granted provided that it is</span>
<span class="udiff-line-modified-removed">-  * identified as &quot;RSA Security Inc. PKCS #11 Cryptographic Token Interface</span>
<span class="udiff-line-modified-removed">-  * (Cryptoki)&quot; in all material mentioning or referencing this software.</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-  * License is also granted to make and use derivative works provided that</span>
<span class="udiff-line-removed">-  * such works are identified as &quot;derived from the RSA Security Inc. PKCS #11</span>
<span class="udiff-line-removed">-  * Cryptographic Token Interface (Cryptoki)&quot; in all material mentioning or</span>
<span class="udiff-line-removed">-  * referencing the derived work.</span>
<span class="udiff-line-modified-added">+ /* Copyright (c) OASIS Open 2016. All Rights Reserved./</span>
<span class="udiff-line-modified-added">+  * /Distributed under the terms of the OASIS IPR Policy,</span>
<span class="udiff-line-modified-added">+  * [http://www.oasis-open.org/policies-guidelines/ipr], AS-IS, WITHOUT ANY</span>
<span class="udiff-line-modified-added">+  * IMPLIED OR EXPRESS WARRANTY; there is no warranty of MERCHANTABILITY, FITNESS FOR A</span>
<span class="udiff-line-modified-added">+  * PARTICULAR PURPOSE or NONINFRINGEMENT of the rights of others.</span>
<span class="udiff-line-modified-added">+  */</span>
  
<span class="udiff-line-modified-removed">-  * RSA Security Inc. makes no representations concerning either the</span>
<span class="udiff-line-modified-removed">-  * merchantability of this software or the suitability of this software for</span>
<span class="udiff-line-removed">-  * any particular purpose. It is provided &quot;as is&quot; without express or implied</span>
<span class="udiff-line-removed">-  * warranty of any kind.</span>
<span class="udiff-line-modified-added">+ /* Latest version of the specification:</span>
<span class="udiff-line-modified-added">+  * http://docs.oasis-open.org/pkcs11/pkcs11-base/v2.40/pkcs11-base-v2.40.html</span>
   */
  
<span class="udiff-line-modified-removed">- /* This header file contains pretty much everything about all the */</span>
<span class="udiff-line-modified-removed">- /* Cryptoki function prototypes.  Because this information is */</span>
<span class="udiff-line-modified-removed">- /* used for more than just declaring function prototypes, the */</span>
<span class="udiff-line-modified-removed">- /* order of the functions appearing herein is important, and */</span>
<span class="udiff-line-modified-removed">- /* should not be altered. */</span>
<span class="udiff-line-modified-added">+ /* This header file contains pretty much everything about all the</span>
<span class="udiff-line-modified-added">+  * Cryptoki function prototypes.  Because this information is</span>
<span class="udiff-line-modified-added">+  * used for more than just declaring function prototypes, the</span>
<span class="udiff-line-modified-added">+  * order of the functions appearing herein is important, and</span>
<span class="udiff-line-modified-added">+  * should not be altered.</span>
<span class="udiff-line-added">+  */</span>
  
  /* General-purpose */
  
  /* C_Initialize initializes the Cryptoki library. */
  CK_PKCS11_FUNCTION_INFO(C_Initialize)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_VOID_PTR   pInitArgs  /* if this is not NULL_PTR, it gets
                              * cast to CK_C_INITIALIZE_ARGS_PTR
<span class="udiff-line-modified-removed">-                             * and dereferenced */</span>
<span class="udiff-line-modified-added">+                             * and dereferenced</span>
<span class="udiff-line-added">+                             */</span>
  );
  #endif
  
  
  /* C_Finalize indicates that an application is done with the
<span class="udiff-line-modified-removed">-  * Cryptoki library. */</span>
<span class="udiff-line-modified-added">+  * Cryptoki library.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_Finalize)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_VOID_PTR   pReserved  /* reserved.  Should be NULL_PTR */
  );
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -57,11 +53,12 @@</span>
  /* C_GetFunctionList returns the function list. */
  CK_PKCS11_FUNCTION_INFO(C_GetFunctionList)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_FUNCTION_LIST_PTR_PTR ppFunctionList  /* receives pointer to
<span class="udiff-line-modified-removed">-                                             * function list */</span>
<span class="udiff-line-modified-added">+                                             * function list</span>
<span class="udiff-line-added">+                                             */</span>
  );
  #endif
  
  
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -69,41 +66,44 @@</span>
  
  /* C_GetSlotList obtains a list of slots in the system. */
  CK_PKCS11_FUNCTION_INFO(C_GetSlotList)
  #ifdef CK_NEED_ARG_LIST
  (
<span class="udiff-line-modified-removed">-   CK_BBOOL       tokenPresent,  /* only slots with tokens? */</span>
<span class="udiff-line-modified-added">+   CK_BBOOL       tokenPresent,  /* only slots with tokens */</span>
    CK_SLOT_ID_PTR pSlotList,     /* receives array of slot IDs */
    CK_ULONG_PTR   pulCount       /* receives number of slots */
  );
  #endif
  
  
  /* C_GetSlotInfo obtains information about a particular slot in
<span class="udiff-line-modified-removed">-  * the system. */</span>
<span class="udiff-line-modified-added">+  * the system.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_GetSlotInfo)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SLOT_ID       slotID,  /* the ID of the slot */
    CK_SLOT_INFO_PTR pInfo    /* receives the slot information */
  );
  #endif
  
  
  /* C_GetTokenInfo obtains information about a particular token
<span class="udiff-line-modified-removed">-  * in the system. */</span>
<span class="udiff-line-modified-added">+  * in the system.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_GetTokenInfo)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SLOT_ID        slotID,  /* ID of the token&#39;s slot */
    CK_TOKEN_INFO_PTR pInfo    /* receives the token information */
  );
  #endif
  
  
  /* C_GetMechanismList obtains a list of mechanism types
<span class="udiff-line-modified-removed">-  * supported by a token. */</span>
<span class="udiff-line-modified-added">+  * supported by a token.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_GetMechanismList)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SLOT_ID            slotID,          /* ID of token&#39;s slot */
    CK_MECHANISM_TYPE_PTR pMechanismList,  /* gets mech. array */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -111,11 +111,12 @@</span>
  );
  #endif
  
  
  /* C_GetMechanismInfo obtains information about a particular
<span class="udiff-line-modified-removed">-  * mechanism possibly supported by a token. */</span>
<span class="udiff-line-modified-added">+  * mechanism possibly supported by a token.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_GetMechanismInfo)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SLOT_ID            slotID,  /* ID of the token&#39;s slot */
    CK_MECHANISM_TYPE     type,    /* type of mechanism */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -125,11 +126,10 @@</span>
  
  
  /* C_InitToken initializes a token. */
  CK_PKCS11_FUNCTION_INFO(C_InitToken)
  #ifdef CK_NEED_ARG_LIST
<span class="udiff-line-removed">- /* pLabel changed from CK_CHAR_PTR to CK_UTF8CHAR_PTR for v2.10 */</span>
  (
    CK_SLOT_ID      slotID,    /* ID of the token&#39;s slot */
    CK_UTF8CHAR_PTR pPin,      /* the SO&#39;s initial PIN */
    CK_ULONG        ulPinLen,  /* length in bytes of the PIN */
    CK_UTF8CHAR_PTR pLabel     /* 32-byte token label (blank padded) */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -163,11 +163,12 @@</span>
  
  
  /* Session management */
  
  /* C_OpenSession opens a session between an application and a
<span class="udiff-line-modified-removed">-  * token. */</span>
<span class="udiff-line-modified-added">+  * token.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_OpenSession)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SLOT_ID            slotID,        /* the slot&#39;s ID */
    CK_FLAGS              flags,         /* from CK_SESSION_INFO */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -177,11 +178,12 @@</span>
  );
  #endif
  
  
  /* C_CloseSession closes a session between an application and a
<span class="udiff-line-modified-removed">-  * token. */</span>
<span class="udiff-line-modified-added">+  * token.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_CloseSession)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession  /* the session&#39;s handle */
  );
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -206,11 +208,12 @@</span>
  );
  #endif
  
  
  /* C_GetOperationState obtains the state of the cryptographic operation
<span class="udiff-line-modified-removed">-  * in a session. */</span>
<span class="udiff-line-modified-added">+  * in a session.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_GetOperationState)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,             /* session&#39;s handle */
    CK_BYTE_PTR       pOperationState,      /* gets state */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -218,11 +221,12 @@</span>
  );
  #endif
  
  
  /* C_SetOperationState restores the state of the cryptographic
<span class="udiff-line-modified-removed">-  * operation in a session. */</span>
<span class="udiff-line-modified-added">+  * operation in a session.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_SetOperationState)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,            /* session&#39;s handle */
    CK_BYTE_PTR      pOperationState,      /* holds state */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -268,11 +272,12 @@</span>
  );
  #endif
  
  
  /* C_CopyObject copies an object, creating a new object for the
<span class="udiff-line-modified-removed">-  * copy. */</span>
<span class="udiff-line-modified-added">+  * copy.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_CopyObject)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE    hSession,    /* the session&#39;s handle */
    CK_OBJECT_HANDLE     hObject,     /* the object&#39;s handle */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -303,11 +308,12 @@</span>
  );
  #endif
  
  
  /* C_GetAttributeValue obtains the value of one or more object
<span class="udiff-line-modified-removed">-  * attributes. */</span>
<span class="udiff-line-modified-added">+  * attributes.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_GetAttributeValue)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,   /* the session&#39;s handle */
    CK_OBJECT_HANDLE  hObject,    /* the object&#39;s handle */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -316,11 +322,12 @@</span>
  );
  #endif
  
  
  /* C_SetAttributeValue modifies the value of one or more object
<span class="udiff-line-modified-removed">-  * attributes */</span>
<span class="udiff-line-modified-added">+  * attributes.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_SetAttributeValue)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,   /* the session&#39;s handle */
    CK_OBJECT_HANDLE  hObject,    /* the object&#39;s handle */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -329,11 +336,12 @@</span>
  );
  #endif
  
  
  /* C_FindObjectsInit initializes a search for token and session
<span class="udiff-line-modified-removed">-  * objects that match a template. */</span>
<span class="udiff-line-modified-added">+  * objects that match a template.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_FindObjectsInit)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,   /* the session&#39;s handle */
    CK_ATTRIBUTE_PTR  pTemplate,  /* attribute values to match */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -342,11 +350,12 @@</span>
  #endif
  
  
  /* C_FindObjects continues a search for token and session
   * objects that match a template, obtaining additional object
<span class="udiff-line-modified-removed">-  * handles. */</span>
<span class="udiff-line-modified-added">+  * handles.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_FindObjects)
  #ifdef CK_NEED_ARG_LIST
  (
   CK_SESSION_HANDLE    hSession,          /* session&#39;s handle */
   CK_OBJECT_HANDLE_PTR phObject,          /* gets obj. handles */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -355,11 +364,12 @@</span>
  );
  #endif
  
  
  /* C_FindObjectsFinal finishes a search for token and session
<span class="udiff-line-modified-removed">-  * objects. */</span>
<span class="udiff-line-modified-added">+  * objects.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_FindObjectsFinal)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession  /* the session&#39;s handle */
  );
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -392,11 +402,12 @@</span>
  );
  #endif
  
  
  /* C_EncryptUpdate continues a multiple-part encryption
<span class="udiff-line-modified-removed">-  * operation. */</span>
<span class="udiff-line-modified-added">+  * operation.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_EncryptUpdate)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,           /* session&#39;s handle */
    CK_BYTE_PTR       pPart,              /* the plaintext data */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -406,11 +417,12 @@</span>
  );
  #endif
  
  
  /* C_EncryptFinal finishes a multiple-part encryption
<span class="udiff-line-modified-removed">-  * operation. */</span>
<span class="udiff-line-modified-added">+  * operation.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_EncryptFinal)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,                /* session handle */
    CK_BYTE_PTR       pLastEncryptedPart,      /* last c-text */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -442,11 +454,12 @@</span>
  );
  #endif
  
  
  /* C_DecryptUpdate continues a multiple-part decryption
<span class="udiff-line-modified-removed">-  * operation. */</span>
<span class="udiff-line-modified-added">+  * operation.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_DecryptUpdate)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,            /* session&#39;s handle */
    CK_BYTE_PTR       pEncryptedPart,      /* encrypted data */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -456,11 +469,12 @@</span>
  );
  #endif
  
  
  /* C_DecryptFinal finishes a multiple-part decryption
<span class="udiff-line-modified-removed">-  * operation. */</span>
<span class="udiff-line-modified-added">+  * operation.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_DecryptFinal)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,       /* the session&#39;s handle */
    CK_BYTE_PTR       pLastPart,      /* gets plaintext */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -494,11 +508,12 @@</span>
  );
  #endif
  
  
  /* C_DigestUpdate continues a multiple-part message-digesting
<span class="udiff-line-modified-removed">-  * operation. */</span>
<span class="udiff-line-modified-added">+  * operation.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_DigestUpdate)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,  /* the session&#39;s handle */
    CK_BYTE_PTR       pPart,     /* data to be digested */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -507,22 +522,24 @@</span>
  #endif
  
  
  /* C_DigestKey continues a multi-part message-digesting
   * operation, by digesting the value of a secret key as part of
<span class="udiff-line-modified-removed">-  * the data already digested. */</span>
<span class="udiff-line-modified-added">+  * the data already digested.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_DigestKey)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,  /* the session&#39;s handle */
    CK_OBJECT_HANDLE  hKey       /* secret key to digest */
  );
  #endif
  
  
  /* C_DigestFinal finishes a multiple-part message-digesting
<span class="udiff-line-modified-removed">-  * operation. */</span>
<span class="udiff-line-modified-added">+  * operation.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_DigestFinal)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,     /* the session&#39;s handle */
    CK_BYTE_PTR       pDigest,      /* gets the message digest */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -535,11 +552,12 @@</span>
  /* Signing and MACing */
  
  /* C_SignInit initializes a signature (private key encryption)
   * operation, where the signature is (will be) an appendix to
   * the data, and plaintext cannot be recovered from the
<span class="udiff-line-modified-removed">-  *signature. */</span>
<span class="udiff-line-modified-added">+  * signature.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_SignInit)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,    /* the session&#39;s handle */
    CK_MECHANISM_PTR  pMechanism,  /* the signature mechanism */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -548,11 +566,12 @@</span>
  #endif
  
  
  /* C_Sign signs (encrypts with private key) data in a single
   * part, where the signature is (will be) an appendix to the
<span class="udiff-line-modified-removed">-  * data, and plaintext cannot be recovered from the signature. */</span>
<span class="udiff-line-modified-added">+  * data, and plaintext cannot be recovered from the signature.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_Sign)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,        /* the session&#39;s handle */
    CK_BYTE_PTR       pData,           /* the data to sign */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -563,11 +582,12 @@</span>
  #endif
  
  
  /* C_SignUpdate continues a multiple-part signature operation,
   * where the signature is (will be) an appendix to the data,
<span class="udiff-line-modified-removed">-  * and plaintext cannot be recovered from the signature. */</span>
<span class="udiff-line-modified-added">+  * and plaintext cannot be recovered from the signature.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_SignUpdate)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,  /* the session&#39;s handle */
    CK_BYTE_PTR       pPart,     /* the data to sign */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -575,11 +595,12 @@</span>
  );
  #endif
  
  
  /* C_SignFinal finishes a multiple-part signature operation,
<span class="udiff-line-modified-removed">-  * returning the signature. */</span>
<span class="udiff-line-modified-added">+  * returning the signature.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_SignFinal)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,        /* the session&#39;s handle */
    CK_BYTE_PTR       pSignature,      /* gets the signature */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -587,11 +608,12 @@</span>
  );
  #endif
  
  
  /* C_SignRecoverInit initializes a signature operation, where
<span class="udiff-line-modified-removed">-  * the data can be recovered from the signature. */</span>
<span class="udiff-line-modified-added">+  * the data can be recovered from the signature.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_SignRecoverInit)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,   /* the session&#39;s handle */
    CK_MECHANISM_PTR  pMechanism, /* the signature mechanism */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -599,11 +621,12 @@</span>
  );
  #endif
  
  
  /* C_SignRecover signs data in a single operation, where the
<span class="udiff-line-modified-removed">-  * data can be recovered from the signature. */</span>
<span class="udiff-line-modified-added">+  * data can be recovered from the signature.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_SignRecover)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,        /* the session&#39;s handle */
    CK_BYTE_PTR       pData,           /* the data to sign */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -617,11 +640,12 @@</span>
  
  /* Verifying signatures and MACs */
  
  /* C_VerifyInit initializes a verification operation, where the
   * signature is an appendix to the data, and plaintext cannot
<span class="udiff-line-modified-removed">-  *  cannot be recovered from the signature (e.g. DSA). */</span>
<span class="udiff-line-modified-added">+  * cannot be recovered from the signature (e.g. DSA).</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_VerifyInit)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,    /* the session&#39;s handle */
    CK_MECHANISM_PTR  pMechanism,  /* the verification mechanism */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -630,11 +654,12 @@</span>
  #endif
  
  
  /* C_Verify verifies a signature in a single-part operation,
   * where the signature is an appendix to the data, and plaintext
<span class="udiff-line-modified-removed">-  * cannot be recovered from the signature. */</span>
<span class="udiff-line-modified-added">+  * cannot be recovered from the signature.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_Verify)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,       /* the session&#39;s handle */
    CK_BYTE_PTR       pData,          /* signed data */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -645,11 +670,12 @@</span>
  #endif
  
  
  /* C_VerifyUpdate continues a multiple-part verification
   * operation, where the signature is an appendix to the data,
<span class="udiff-line-modified-removed">-  * and plaintext cannot be recovered from the signature. */</span>
<span class="udiff-line-modified-added">+  * and plaintext cannot be recovered from the signature.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_VerifyUpdate)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,  /* the session&#39;s handle */
    CK_BYTE_PTR       pPart,     /* signed data */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -657,11 +683,12 @@</span>
  );
  #endif
  
  
  /* C_VerifyFinal finishes a multiple-part verification
<span class="udiff-line-modified-removed">-  * operation, checking the signature. */</span>
<span class="udiff-line-modified-added">+  * operation, checking the signature.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_VerifyFinal)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,       /* the session&#39;s handle */
    CK_BYTE_PTR       pSignature,     /* signature to verify */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -669,11 +696,12 @@</span>
  );
  #endif
  
  
  /* C_VerifyRecoverInit initializes a signature verification
<span class="udiff-line-modified-removed">-  * operation, where the data is recovered from the signature. */</span>
<span class="udiff-line-modified-added">+  * operation, where the data is recovered from the signature.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_VerifyRecoverInit)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,    /* the session&#39;s handle */
    CK_MECHANISM_PTR  pMechanism,  /* the verification mechanism */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -681,11 +709,12 @@</span>
  );
  #endif
  
  
  /* C_VerifyRecover verifies a signature in a single-part
<span class="udiff-line-modified-removed">-  * operation, where the data is recovered from the signature. */</span>
<span class="udiff-line-modified-added">+  * operation, where the data is recovered from the signature.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_VerifyRecover)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,        /* the session&#39;s handle */
    CK_BYTE_PTR       pSignature,      /* signature to verify */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -698,11 +727,12 @@</span>
  
  
  /* Dual-function cryptographic operations */
  
  /* C_DigestEncryptUpdate continues a multiple-part digesting
<span class="udiff-line-modified-removed">-  * and encryption operation. */</span>
<span class="udiff-line-modified-added">+  * and encryption operation.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_DigestEncryptUpdate)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,            /* session&#39;s handle */
    CK_BYTE_PTR       pPart,               /* the plaintext data */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -712,11 +742,12 @@</span>
  );
  #endif
  
  
  /* C_DecryptDigestUpdate continues a multiple-part decryption and
<span class="udiff-line-modified-removed">-  * digesting operation. */</span>
<span class="udiff-line-modified-added">+  * digesting operation.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_DecryptDigestUpdate)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,            /* session&#39;s handle */
    CK_BYTE_PTR       pEncryptedPart,      /* ciphertext */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -726,11 +757,12 @@</span>
  );
  #endif
  
  
  /* C_SignEncryptUpdate continues a multiple-part signing and
<span class="udiff-line-modified-removed">-  * encryption operation. */</span>
<span class="udiff-line-modified-added">+  * encryption operation.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_SignEncryptUpdate)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,            /* session&#39;s handle */
    CK_BYTE_PTR       pPart,               /* the plaintext data */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -740,11 +772,12 @@</span>
  );
  #endif
  
  
  /* C_DecryptVerifyUpdate continues a multiple-part decryption and
<span class="udiff-line-modified-removed">-  * verify operation. */</span>
<span class="udiff-line-modified-added">+  * verify operation.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_DecryptVerifyUpdate)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,            /* session&#39;s handle */
    CK_BYTE_PTR       pEncryptedPart,      /* ciphertext */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -757,11 +790,12 @@</span>
  
  
  /* Key management */
  
  /* C_GenerateKey generates a secret key, creating a new key
<span class="udiff-line-modified-removed">-  * object. */</span>
<span class="udiff-line-modified-added">+  * object.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_GenerateKey)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE    hSession,    /* the session&#39;s handle */
    CK_MECHANISM_PTR     pMechanism,  /* key generation mech. */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -771,34 +805,23 @@</span>
  );
  #endif
  
  
  /* C_GenerateKeyPair generates a public-key/private-key pair,
<span class="udiff-line-modified-removed">-  * creating new key objects. */</span>
<span class="udiff-line-modified-added">+  * creating new key objects.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_GenerateKeyPair)
  #ifdef CK_NEED_ARG_LIST
  (
<span class="udiff-line-modified-removed">-   CK_SESSION_HANDLE    hSession,                    /* session</span>
<span class="udiff-line-modified-removed">-                                                      * handle */</span>
<span class="udiff-line-modified-removed">-   CK_MECHANISM_PTR     pMechanism,                  /* key-gen</span>
<span class="udiff-line-modified-removed">-                                                      * mech. */</span>
<span class="udiff-line-modified-removed">-   CK_ATTRIBUTE_PTR     pPublicKeyTemplate,          /* template</span>
<span class="udiff-line-modified-removed">-                                                      * for pub.</span>
<span class="udiff-line-modified-removed">-                                                      * key */</span>
<span class="udiff-line-modified-removed">-   CK_ULONG             ulPublicKeyAttributeCount,   /* # pub.</span>
<span class="udiff-line-removed">-                                                      * attrs. */</span>
<span class="udiff-line-removed">-   CK_ATTRIBUTE_PTR     pPrivateKeyTemplate,         /* template</span>
<span class="udiff-line-removed">-                                                      * for priv.</span>
<span class="udiff-line-removed">-                                                      * key */</span>
<span class="udiff-line-removed">-   CK_ULONG             ulPrivateKeyAttributeCount,  /* # priv.</span>
<span class="udiff-line-removed">-                                                      * attrs. */</span>
<span class="udiff-line-removed">-   CK_OBJECT_HANDLE_PTR phPublicKey,                 /* gets pub.</span>
<span class="udiff-line-removed">-                                                      * key</span>
<span class="udiff-line-removed">-                                                      * handle */</span>
<span class="udiff-line-removed">-   CK_OBJECT_HANDLE_PTR phPrivateKey                 /* gets</span>
<span class="udiff-line-removed">-                                                      * priv. key</span>
<span class="udiff-line-removed">-                                                      * handle */</span>
<span class="udiff-line-modified-added">+   CK_SESSION_HANDLE    hSession,                    /* session handle */</span>
<span class="udiff-line-modified-added">+   CK_MECHANISM_PTR     pMechanism,                  /* key-gen mech. */</span>
<span class="udiff-line-modified-added">+   CK_ATTRIBUTE_PTR     pPublicKeyTemplate,          /* template for pub. key */</span>
<span class="udiff-line-modified-added">+   CK_ULONG             ulPublicKeyAttributeCount,   /* # pub. attrs. */</span>
<span class="udiff-line-modified-added">+   CK_ATTRIBUTE_PTR     pPrivateKeyTemplate,         /* template for priv. key */</span>
<span class="udiff-line-modified-added">+   CK_ULONG             ulPrivateKeyAttributeCount,  /* # priv.  attrs. */</span>
<span class="udiff-line-modified-added">+   CK_OBJECT_HANDLE_PTR phPublicKey,                 /* gets pub. key handle */</span>
<span class="udiff-line-modified-added">+   CK_OBJECT_HANDLE_PTR phPrivateKey                 /* gets priv. key handle */</span>
  );
  #endif
  
  
  /* C_WrapKey wraps (i.e., encrypts) a key. */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -814,11 +837,12 @@</span>
  );
  #endif
  
  
  /* C_UnwrapKey unwraps (decrypts) a wrapped key, creating a new
<span class="udiff-line-modified-removed">-  * key object. */</span>
<span class="udiff-line-modified-added">+  * key object.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_UnwrapKey)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE    hSession,          /* session&#39;s handle */
    CK_MECHANISM_PTR     pMechanism,        /* unwrapping mech. */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -831,11 +855,12 @@</span>
  );
  #endif
  
  
  /* C_DeriveKey derives a key from a base key, creating a new key
<span class="udiff-line-modified-removed">-  * object. */</span>
<span class="udiff-line-modified-added">+  * object.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_DeriveKey)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE    hSession,          /* session&#39;s handle */
    CK_MECHANISM_PTR     pMechanism,        /* key deriv. mech. */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -849,11 +874,12 @@</span>
  
  
  /* Random number generation */
  
  /* C_SeedRandom mixes additional seed material into the token&#39;s
<span class="udiff-line-modified-removed">-  * random number generator. */</span>
<span class="udiff-line-modified-added">+  * random number generator.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_SeedRandom)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession,  /* the session&#39;s handle */
    CK_BYTE_PTR       pSeed,     /* the seed material */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -876,37 +902,38 @@</span>
  
  /* Parallel function management */
  
  /* C_GetFunctionStatus is a legacy function; it obtains an
   * updated status of a function running in parallel with an
<span class="udiff-line-modified-removed">-  * application. */</span>
<span class="udiff-line-modified-added">+  * application.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_GetFunctionStatus)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession  /* the session&#39;s handle */
  );
  #endif
  
  
  /* C_CancelFunction is a legacy function; it cancels a function
<span class="udiff-line-modified-removed">-  * running in parallel. */</span>
<span class="udiff-line-modified-added">+  * running in parallel.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_CancelFunction)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_SESSION_HANDLE hSession  /* the session&#39;s handle */
  );
  #endif
  
  
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* Functions added in for Cryptoki Version 2.01 or later */</span>
<span class="udiff-line-removed">- </span>
  /* C_WaitForSlotEvent waits for a slot event (token insertion,
<span class="udiff-line-modified-removed">-  * removal, etc.) to occur. */</span>
<span class="udiff-line-modified-added">+  * removal, etc.) to occur.</span>
<span class="udiff-line-added">+  */</span>
  CK_PKCS11_FUNCTION_INFO(C_WaitForSlotEvent)
  #ifdef CK_NEED_ARG_LIST
  (
    CK_FLAGS flags,        /* blocking/nonblocking flag */
    CK_SLOT_ID_PTR pSlot,  /* location that receives the slot ID */
    CK_VOID_PTR pRserved   /* reserved.  Should be NULL_PTR */
  );
  #endif
<span class="udiff-line-added">+ </span>
</pre>
<center><a href="pkcs11.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="pkcs11t.h.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>