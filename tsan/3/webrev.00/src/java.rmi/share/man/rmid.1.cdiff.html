<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.rmi/share/man/rmid.1</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../classes/sun/rmi/transport/tcp/TCPTransport.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="rmiregistry.1.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.rmi/share/man/rmid.1</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,16 ***</span>
<span class="line-modified">! &#39;\&quot; t</span>
<span class="line-removed">- .\&quot; Copyright (c) 1998, 2013, Oracle and/or its affiliates. All rights reserved.</span>
  .\&quot; DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  .\&quot;
  .\&quot; This code is free software; you can redistribute it and/or modify it
  .\&quot; under the terms of the GNU General Public License version 2 only, as
  .\&quot; published by the Free Software Foundation.
  .\&quot;
  .\&quot; This code is distributed in the hope that it will be useful, but WITHOUT
  .\&quot; ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
<span class="line-modified">! .\&quot; FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License</span>
  .\&quot; version 2 for more details (a copy is included in the LICENSE file that
  .\&quot; accompanied this code).
  .\&quot;
  .\&quot; You should have received a copy of the GNU General Public License version
  .\&quot; 2 along with this work; if not, write to the Free Software Foundation,
<span class="line-new-header">--- 1,15 ---</span>
<span class="line-modified">! .\&quot; Copyright (c) 1994, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  .\&quot; DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  .\&quot;
  .\&quot; This code is free software; you can redistribute it and/or modify it
  .\&quot; under the terms of the GNU General Public License version 2 only, as
  .\&quot; published by the Free Software Foundation.
  .\&quot;
  .\&quot; This code is distributed in the hope that it will be useful, but WITHOUT
  .\&quot; ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
<span class="line-modified">! .\&quot; FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License</span>
  .\&quot; version 2 for more details (a copy is included in the LICENSE file that
  .\&quot; accompanied this code).
  .\&quot;
  .\&quot; You should have received a copy of the GNU General Public License version
  .\&quot; 2 along with this work; if not, write to the Free Software Foundation,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 18,297 ***</span>
  .\&quot;
  .\&quot; Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  .\&quot; or visit www.oracle.com if you need additional information or have any
  .\&quot; questions.
  .\&quot;
<span class="line-modified">! .\&quot;     Arch: generic</span>
<span class="line-removed">- .\&quot;     Software: JDK 8</span>
<span class="line-removed">- .\&quot;     Date: 21 November 2013</span>
<span class="line-removed">- .\&quot;     SectDesc: Remote Method Invocation (RMI) Tools</span>
<span class="line-removed">- .\&quot;     Title: rmid.1</span>
  .\&quot;
<span class="line-modified">! .if n .pl 99999</span>
<span class="line-modified">! .TH rmid 1 &quot;21 November 2013&quot; &quot;JDK 8&quot; &quot;Remote Method Invocation (RMI) Tools&quot;</span>
<span class="line-modified">! .\&quot; -----------------------------------------------------------------</span>
<span class="line-modified">! .\&quot; * Define some portability stuff</span>
<span class="line-modified">! .\&quot; -----------------------------------------------------------------</span>
<span class="line-modified">! .\&quot; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="line-modified">! .\&quot; http://bugs.debian.org/507673</span>
<span class="line-modified">! .\&quot; http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html</span>
<span class="line-modified">! .\&quot; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="line-removed">- .ie \n(.g .ds Aq \(aq</span>
<span class="line-removed">- .el       .ds Aq &#39;</span>
<span class="line-removed">- .\&quot; -----------------------------------------------------------------</span>
<span class="line-removed">- .\&quot; * set default formatting</span>
<span class="line-removed">- .\&quot; -----------------------------------------------------------------</span>
<span class="line-removed">- .\&quot; disable hyphenation</span>
<span class="line-removed">- .nh</span>
<span class="line-removed">- .\&quot; disable justification (adjust text to left margin only)</span>
<span class="line-removed">- .ad l</span>
<span class="line-removed">- .\&quot; -----------------------------------------------------------------</span>
<span class="line-removed">- .\&quot; * MAIN CONTENT STARTS HERE *</span>
<span class="line-removed">- .\&quot; -----------------------------------------------------------------</span>
<span class="line-removed">- </span>
<span class="line-removed">- .SH NAME    </span>
<span class="line-removed">- rmid \- Starts the activation system daemon that enables objects to be registered and activated in a Java Virtual Machine (JVM)\&amp;.</span>
<span class="line-removed">- .SH SYNOPSIS    </span>
<span class="line-removed">- .sp     </span>
<span class="line-removed">- .nf     </span>
<span class="line-removed">- </span>
<span class="line-removed">- \fBrmid\fR [\fIoptions\fR]</span>
<span class="line-removed">- .fi     </span>
<span class="line-removed">- .sp     </span>
<span class="line-removed">- .TP     </span>
<span class="line-removed">- \fIoptions\fR</span>
<span class="line-removed">- The command-line options\&amp;. See Options\&amp;.</span>
<span class="line-removed">- .SH DESCRIPTION    </span>
<span class="line-removed">- The \f3rmid\fR command starts the activation system daemon\&amp;. The activation system daemon must be started before activatable objects can be either registered with the activation system or activated in a JVM\&amp;. For details on how to write programs that use activatable objects, the \fIUsing Activation\fR tutorial at http://docs\&amp;.oracle\&amp;.com/javase/8/docs/technotes/guides/rmi/activation/overview\&amp;.html</span>
<span class="line-removed">- .PP</span>
<span class="line-removed">- Start the daemon by executing the \f3rmid\fR command and specifying a security policy file, as follows:</span>
<span class="line-removed">- .sp     </span>
<span class="line-removed">- .nf     </span>
<span class="line-removed">- \f3rmid \-J\-Djava\&amp;.security\&amp;.policy=rmid\&amp;.policy\fP</span>
<span class="line-removed">- .fi     </span>
<span class="line-removed">- .nf     </span>
<span class="line-removed">- \f3\fP</span>
<span class="line-removed">- .fi     </span>
<span class="line-removed">- .sp     </span>
<span class="line-removed">- When you run Oracle\(cqs implementation of the \f3rmid\fR command, by default you must specify a security policy file so that the \f3rmid\fR command can verify whether or not the information in each \f3ActivationGroupDesc\fR is allowed to be used to start a JVM for an activation group\&amp;. Specifically, the command and options specified by the \f3CommandEnvironment\fR and any properties passed to an \f3ActivationGroupDesc\fR constructor must now be explicitly allowed in the security policy file for the \f3rmid\fR command\&amp;. The value of the \f3sun\&amp;.rmi\&amp;.activation\&amp;.execPolicy\fR property dictates the policy that the \f3rmid\fR command uses to determine whether or not the information in an \f3ActivationGroupDesc\fR can be used to start a JVM for an activation group\&amp;. For more information see the description of the -J-Dsun\&amp;.rmi\&amp;.activation\&amp;.execPolicy=policy option\&amp;.</span>
<span class="line-removed">- .PP</span>
<span class="line-removed">- Executing the \f3rmid\fR command starts the Activator and an internal registry on the default port1098 and binds an \f3ActivationSystem\fR to the name \f3java\&amp;.rmi\&amp;.activation\&amp;.ActivationSystem\fR in this internal registry\&amp;.</span>
<span class="line-removed">- .PP</span>
<span class="line-removed">- To specify an alternate port for the registry, you must specify the \f3-port\fR option when you execute the \f3rmid\fR command\&amp;. For example, the following command starts the activation system daemon and a registry on the registry\&amp;&#39;s default port, 1099\&amp;.</span>
<span class="line-removed">- .sp     </span>
<span class="line-removed">- .nf     </span>
<span class="line-removed">- \f3rmid \-J\-Djava\&amp;.security\&amp;.policy=rmid\&amp;.policy \-port 1099\fP</span>
<span class="line-removed">- .fi     </span>
<span class="line-removed">- .nf     </span>
<span class="line-removed">- \f3\fP</span>
<span class="line-removed">- .fi     </span>
<span class="line-removed">- .sp     </span>
<span class="line-removed">- .SH START\ RMID\ ON\ DEMAND    </span>
<span class="line-removed">- An alternative to starting \f3rmid\fR from the command line is to configure \f3inetd\fR (Oracle Solaris) or \f3xinetd\fR (Linux) to start \f3rmid\fR on demand\&amp;.</span>
<span class="line-removed">- .PP</span>
<span class="line-removed">- When RMID starts, it attempts to obtain an inherited channel (inherited from \f3inetd\fR/\f3xinetd\fR) by calling the \f3System\&amp;.inheritedChannel\fR method\&amp;. If the inherited channel is null or not an instance of \f3java\&amp;.nio\&amp;.channels\&amp;.ServerSocketChannel\fR, then RMID assumes that it was not started by \f3inetd\fR/\f3xinetd\fR, and it starts as previously described\&amp;.</span>
<span class="line-removed">- .PP</span>
<span class="line-removed">- If the inherited channel is a \f3ServerSocketChannel\fR instance, then RMID uses the \f3java\&amp;.net\&amp;.ServerSocket\fR obtained from the \f3ServerSocketChannel\fR as the server socket that accepts requests for the remote objects it exports: The registry in which the \f3java\&amp;.rmi\&amp;.activation\&amp;.ActivationSystem\fR is bound and the \f3java\&amp;.rmi\&amp;.activation\&amp;.Activator\fR remote object\&amp;. In this mode, RMID behaves the same as when it is started from the command line, except in the following cases:</span>
<span class="line-removed">- .TP 0.2i    </span>
<span class="line-removed">- \(bu</span>
<span class="line-removed">- Output printed to \f3System\&amp;.err\fR is redirected to a file\&amp;. This file is located in the directory specified by the \f3java\&amp;.io\&amp;.tmpdir\fR system property (typically \f3/var/tmp\fR or \f3/tmp\fR) with the prefix \f3rmid-err\fR and the suffix \f3tmp\fR\&amp;.</span>
<span class="line-removed">- .TP 0.2i    </span>
<span class="line-removed">- \(bu</span>
<span class="line-removed">- The \f3-port\fR option is not allowed\&amp;. If this option is specified, then RMID exits with an error message\&amp;.</span>
<span class="line-removed">- .TP 0.2i    </span>
<span class="line-removed">- \(bu</span>
<span class="line-removed">- The \f3-log\fR option is required\&amp;. If this option is not specified, then RMID exits with an error message</span>
<span class="line-removed">- .PP</span>
<span class="line-removed">- See the man pages for \f3inetd\fR (Oracle Solaris) or \f3xinetd\fR (Linux) for details on how to configure services to be started on demand\&amp;.</span>
<span class="line-removed">- .SH OPTIONS    </span>
  .TP
<span class="line-modified">! -C\fIoption\fR</span>
<span class="line-modified">! .br</span>
<span class="line-modified">! Specifies an option that is passed as a command-line argument to each child process (activation group) of the \f3rmid\fR command when that process is created\&amp;. For example, you could pass a property to each virtual machine spawned by the activation system daemon:</span>
<span class="line-modified">! .sp     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3rmid \-C\-Dsome\&amp;.property=value\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .sp     </span>
<span class="line-modified">! </span>
<span class="line-modified">! </span>
<span class="line-modified">! This ability to pass command-line arguments to child processes can be useful for debugging\&amp;. For example, the following command enables server-call logging in all child JVMs\&amp;.</span>
<span class="line-modified">! .sp     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3rmid \-C\-Djava\&amp;.rmi\&amp;.server\&amp;.logCalls=true\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .sp     </span>
<span class="line-modified">! </span>
  .TP
<span class="line-modified">! -J\fIoption\fR</span>
<span class="line-modified">! .br</span>
<span class="line-modified">! Specifies an option that is passed to the Java interpreter running RMID\&amp;. For example, to specify that the \f3rmid\fR command use a policy file named \f3rmid\&amp;.policy\fR, the \f3-J\fR option can be used to define the \f3java\&amp;.security\&amp;.policy\fR property on the \f3rmid\fR command line, for example:</span>
<span class="line-modified">! .sp     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3rmid \-J\-Djava\&amp;.security\&amp;.policy\-rmid\&amp;.policy\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .sp     </span>
<span class="line-modified">! </span>
  .TP
<span class="line-modified">! -J-Dsun\&amp;.rmi\&amp;.activation\&amp;.execPolicy=\fIpolicy\fR</span>
<span class="line-modified">! .br</span>
<span class="line-modified">! Specifies the policy that RMID employs to check commands and command-line options used to start the JVM in which an activation group runs\&amp;. Please note that this option exists only in Oracle\&amp;&#39;s implementation of the Java RMI activation daemon\&amp;. If this property is not specified on the command line, then the result is the same as though \f3-J-Dsun\&amp;.rmi\&amp;.activation\&amp;.execPolicy=default\fR were specified\&amp;. The possible values of \f3policy\fR can be \f3default\fR, \f3policyClassName\fR, or \f3none\fR\&amp;.</span>
<span class="line-modified">! .RS     </span>
<span class="line-modified">! .TP 0.2i    </span>
<span class="line-modified">! \(bu</span>
<span class="line-modified">! default</span>
<span class="line-modified">! </span>
<span class="line-modified">! The \f3default\fR or unspecified value \f3execPolicy\fR allows the \f3rmid\fR command to execute commands with specific command-line options only when the \f3rmid\fR command was granted permission to execute those commands and options in the security policy file that the \f3rmid\fR command uses\&amp;. Only the default activation group implementation can be used with the default execution policy\&amp;.</span>
<span class="line-modified">! </span>
<span class="line-modified">! The \f3rmid\fR command starts a JVM for an activation group with the information in the group\&amp;&#39;s registered activation group descriptor, an \f3ActivationGroupDesc\fR\&amp;. The group descriptor specifies an optional \f3ActivationGroupDesc\&amp;.CommandEnvironment\fR that includes the command to execute to start the activation group and any command-line options to be added to the command line\&amp;. By default, the \f3rmid\fR command uses the \f3java\fR command found in \f3java\&amp;.home\fR\&amp;. The group descriptor also contains properties overrides that are added to the command line as options defined as: \f3-D&lt;property&gt;=&lt;value&gt;\fR\&amp;.The \f3com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecPermission\fR permission grants the \f3rmid\fR command permission to execute a command that is specified in the group descriptor\&amp;&#39;s \f3CommandEnvironment\fR to start an activation group\&amp;. The \f3com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecOptionPermission\fR permission enables the \f3rmid\fR command to use command-line options, specified as properties overrides in the group descriptor or as options in the \f3CommandEnvironment\fR when starting the activation group\&amp;.When granting the \f3rmid\fR command permission to execute various commands and options, the permissions \f3ExecPermission\fR and \f3ExecOptionPermission\fR must be granted to all code sources\&amp;.</span>
<span class="line-modified">! </span>
<span class="line-modified">! \fIExecPermission\fR</span>
<span class="line-modified">! </span>
<span class="line-modified">! The \f3ExecPermission\fR class represents permission for the \f3rmid\fR command to execute a specific command to start an activation group\&amp;.</span>
<span class="line-modified">! </span>
<span class="line-modified">! \fISyntax\fR: The name of an \f3ExecPermission\fR is the path name of a command to grant the \f3rmid\fR command permission to execute\&amp;. A path name that ends in a slash (/) and an asterisk (*) indicates that all of the files contained in that directory where slash is the file-separator character, \f3File\&amp;.separatorChar\fR\&amp;. A path name that ends in a slash (/) and a minus sign (-) indicates all files and subdirectories contained in that directory (recursively)\&amp;. A path name that consists of the special token \f3&lt;&lt;ALL FILES&gt;&gt;\fR matches any file\&amp;.</span>
<span class="line-modified">! </span>
<span class="line-modified">! A path name that consists of an asterisk (*) indicates all the files in the current directory\&amp;. A path name that consists of a minus sign (-) indicates all the files in the current directory and (recursively) all files and subdirectories contained in the current directory\&amp;.</span>
<span class="line-modified">! </span>
<span class="line-modified">! \fIExecOptionPermission\fR</span>
<span class="line-modified">! </span>
<span class="line-modified">! The \f3ExecOptionPermission\fR class represents permission for the \f3rmid\fR command to use a specific command-line option when starting an activation group\&amp;. The name of an \f3ExecOptionPermission\fR is the value of a command-line option\&amp;.</span>
<span class="line-modified">! </span>
<span class="line-modified">! \fISyntax\fR: Options support a limited wild card scheme\&amp;. An asterisk signifies a wild card match, and it can appear as the option name itself (matches any option), or an asterisk (*) can appear at the end of the option name only when the asterisk (*) follows a dot (\&amp;.) or an equals sign (=)\&amp;.</span>
<span class="line-modified">! </span>
<span class="line-modified">! For example: \f3*\fR or \f3-Dmydir\&amp;.*\fR or \f3-Da\&amp;.b\&amp;.c=*\fR is valid, but \f3*mydir\fR or \f3-Da*b\fR or \f3ab*\fR is not\&amp;.</span>
<span class="line-modified">! </span>
<span class="line-modified">! \fIPolicy file for rmid\fR</span>
<span class="line-modified">! </span>
<span class="line-modified">! When you grant the \f3rmid\fR command permission to execute various commands and options, the permissions \f3ExecPermission\fR and \f3ExecOptionPermission\fR must be granted to all code sources (universally)\&amp;. It is safe to grant these permissions universally because only the \f3rmid\fR command checks these permissions\&amp;.</span>
<span class="line-modified">! </span>
<span class="line-modified">! An example policy file that grants various execute permissions to the \f3rmid\fR command is:</span>
<span class="line-modified">! .sp     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3grant {\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3    permission com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecPermission\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3        &quot;/files/apps/java/jdk1\&amp;.7\&amp;.0/solaris/bin/java&quot;;\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3    permission com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecPermission\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3        &quot;/files/apps/rmidcmds/*&quot;;\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3    permission com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecOptionPermission\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3        &quot;\-Djava\&amp;.security\&amp;.policy=/files/policies/group\&amp;.policy&quot;;\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3    permission com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecOptionPermission\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3        &quot;\-Djava\&amp;.security\&amp;.debug=*&quot;;\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3    permission com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecOptionPermission\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3        &quot;\-Dsun\&amp;.rmi\&amp;.*&quot;;\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3};\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .sp     </span>
<span class="line-modified">! </span>
<span class="line-modified">! </span>
<span class="line-modified">! The first permission granted allows the \f3rmid\fR tcommand o execute the 1\&amp;.7\&amp;.0 release of the \f3java\fR command, specified by its explicit path name\&amp;. By default, the version of the \f3java\fR command found in \f3java\&amp;.home\fR is used (the same one that the \f3rmid\fR command uses), and does not need to be specified in the policy file\&amp;. The second permission allows the \f3rmid\fR command to execute any command in the directory \f3/files/apps/rmidcmds\fR\&amp;.</span>
<span class="line-modified">! </span>
<span class="line-modified">! The third permission granted, an \f3ExecOptionPermission\fR, allows the \f3rmid\fR command to start an activation group that defines the security policy file to be \f3/files/policies/group\&amp;.policy\fR\&amp;. The next permission allows the \f3java\&amp;.security\&amp;.debug property\fR to be used by an activation group\&amp;. The last permission allows any property in the \f3sun\&amp;.rmi property\fR name hierarchy to be used by activation groups\&amp;.</span>
  
<span class="line-modified">! To start the \f3rmid\fR command with a policy file, the \f3java\&amp;.security\&amp;.policy\fR property needs to be specified on the \f3rmid\fR command line, for example:</span>
  
<span class="line-modified">! \f3rmid -J-Djava\&amp;.security\&amp;.policy=rmid\&amp;.policy\fR\&amp;.</span>
<span class="line-modified">! .TP 0.2i    </span>
<span class="line-removed">- \(bu</span>
<span class="line-removed">- &lt;policyClassName&gt;</span>
  
<span class="line-modified">! If the default behavior is not flexible enough, then an administrator can provide, when starting the \f3rmid\fR command, the name of a class whose \f3checkExecCommand\fR method is executed to check commands to be executed by the \f3rmid\fR command\&amp;.</span>
  
<span class="line-modified">! The \f3policyClassName\fR specifies a public class with a public, no-argument constructor and an implementation of the following \f3checkExecCommand\fR method:</span>
<span class="line-modified">! .sp     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3 public void checkExecCommand(ActivationGroupDesc desc, String[] command)\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3        throws SecurityException;\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .sp     </span>
  
  
<span class="line-modified">! Before starting an activation group, the \f3rmid\fR command calls the policy\&amp;&#39;s \f3checkExecCommand\fR method and passes to it the activation group descriptor and an array that contains the complete command to start the activation group\&amp;. If the \f3checkExecCommand\fR throws a \f3SecurityException\fR, then the \f3rmid\fR command does not start the activation group and an \f3ActivationException\fR is thrown to the caller attempting to activate the object\&amp;.</span>
<span class="line-modified">! .TP 0.2i    </span>
<span class="line-removed">- \(bu</span>
<span class="line-removed">- none</span>
  
<span class="line-modified">! If the \f3sun\&amp;.rmi\&amp;.activation\&amp;.execPolicy\fR property value is \f3none\fR, then the \f3rmid\fR command does not perform any validation of commands to start activation groups\&amp;.</span>
<span class="line-modified">! .RE     </span>
  
  .TP
<span class="line-modified">! -log \fIdir\fR</span>
<span class="line-modified">! .br</span>
<span class="line-modified">! Specifies the name of the directory the activation system daemon uses to write its database and associated information\&amp;. The log directory defaults to creating a log, in the directory in which the \f3rmid\fR command was executed\&amp;.</span>
  .TP
<span class="line-modified">! -port \fIport\fR</span>
<span class="line-modified">! .br</span>
<span class="line-modified">! Specifies the port the registry uses\&amp;. The activation system daemon binds the \f3ActivationSystem\fR, with the name \f3java\&amp;.rmi\&amp;.activation\&amp;.ActivationSystem\fR, in this registry\&amp;. The \f3ActivationSystem\fR on the local machine can be obtained using the following \f3Naming\&amp;.lookup\fR method call:</span>
<span class="line-modified">! .sp     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3import java\&amp;.rmi\&amp;.*; \fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3    import java\&amp;.rmi\&amp;.activation\&amp;.*;\fP</span>
<span class="line-modified">! .fi     </span>
<span class="line-modified">! .nf     </span>
<span class="line-modified">! \f3\fP</span>
<span class="line-removed">- .fi     </span>
<span class="line-removed">- .nf     </span>
<span class="line-removed">- \f3    ActivationSystem system; system = (ActivationSystem)\fP</span>
<span class="line-removed">- .fi     </span>
<span class="line-removed">- .nf     </span>
<span class="line-removed">- \f3    Naming\&amp;.lookup(&quot;//:port/java\&amp;.rmi\&amp;.activation\&amp;.ActivationSystem&quot;);\fP</span>
<span class="line-removed">- .fi     </span>
<span class="line-removed">- .nf     </span>
<span class="line-removed">- \f3\fP</span>
<span class="line-removed">- .fi     </span>
<span class="line-removed">- .sp     </span>
  
  .TP
<span class="line-modified">! -stop</span>
<span class="line-modified">! .br</span>
<span class="line-modified">! Stops the current invocation of the \f3rmid\fR command for a port specified by the \f3-port\fR option\&amp;. If no port is specified, then this option stops the \f3rmid\fR invocation running on port 1098\&amp;.</span>
<span class="line-modified">! .SH ENVIRONMENT\ VARIABLES    </span>
<span class="line-modified">! .TP     </span>
<span class="line-modified">! CLASSPATH</span>
<span class="line-removed">- Used to provide the system a path to user-defined classes\&amp;. Directories are separated by colons, for example: \f3\&amp;.:/usr/local/java/classes\fR\&amp;.</span>
<span class="line-removed">- .SH SEE\ ALSO    </span>
<span class="line-removed">- .TP 0.2i    </span>
<span class="line-removed">- \(bu</span>
<span class="line-removed">- java(1)</span>
<span class="line-removed">- .TP 0.2i    </span>
<span class="line-removed">- \(bu</span>
<span class="line-removed">- Setting the Class Path</span>
  .RE
<span class="line-removed">- .br</span>
<span class="line-removed">- &#39;pl 8.5i</span>
<span class="line-removed">- &#39;bp</span>
<span class="line-new-header">--- 17,394 ---</span>
  .\&quot;
  .\&quot; Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  .\&quot; or visit www.oracle.com if you need additional information or have any
  .\&quot; questions.
  .\&quot;
<span class="line-modified">! .\&quot; Automatically generated by Pandoc 2.3.1</span>
  .\&quot;
<span class="line-modified">! .TH &quot;RMID&quot; &quot;1&quot; &quot;2020&quot; &quot;JDK 14&quot; &quot;JDK Commands&quot;</span>
<span class="line-modified">! .hy</span>
<span class="line-modified">! .SH NAME</span>
<span class="line-modified">! .PP</span>
<span class="line-modified">! rmid \- start the activation system daemon that enables objects to be</span>
<span class="line-modified">! registered and activated in a Java Virtual Machine (JVM)</span>
<span class="line-modified">! .SH SYNOPSIS</span>
<span class="line-modified">! .PP</span>
<span class="line-modified">! \f[CB]rmid\f[R] [\f[I]options\f[R]]</span>
  .TP
<span class="line-modified">! .B \f[I]options\f[R]</span>
<span class="line-modified">! This represent the command\-line options for the \f[CB]rmid\f[R] command.</span>
<span class="line-modified">! See \f[B]Options for rmid\f[R].</span>
<span class="line-modified">! .RS</span>
<span class="line-modified">! .RE</span>
<span class="line-modified">! .SH DESCRIPTION</span>
<span class="line-modified">! .PP</span>
<span class="line-modified">! The \f[CB]rmid\f[R] command starts the activation system daemon.</span>
<span class="line-modified">! The activation system daemon must be started before objects that can be</span>
<span class="line-modified">! activated are either registered with the activation system or activated</span>
<span class="line-modified">! in a JVM.</span>
<span class="line-modified">! .PP</span>
<span class="line-modified">! Start the daemon by executing the \f[CB]rmid\f[R] command and specifying a</span>
<span class="line-modified">! security policy file, as follows:</span>
<span class="line-modified">! .RS</span>
<span class="line-modified">! .PP</span>
<span class="line-modified">! \f[CB]rmid\ \-J\-Djava.security.policy=rmid.policy\f[R]</span>
<span class="line-modified">! .RE</span>
<span class="line-modified">! .PP</span>
<span class="line-modified">! When you run Oracle\[aq]s implementation of the \f[CB]rmid\f[R] command,</span>
<span class="line-modified">! by default you must specify a security policy file so that the</span>
<span class="line-modified">! \f[CB]rmid\f[R] command can verify whether or not the information in each</span>
<span class="line-modified">! \f[CB]ActivationGroupDesc\f[R] is allowed to be used to start a JVM for an</span>
<span class="line-added">+ activation group.</span>
<span class="line-added">+ Specifically, the command and options specified by the</span>
<span class="line-added">+ \f[CB]CommandEnvironment\f[R] and any properties passed to an</span>
<span class="line-added">+ \f[CB]ActivationGroupDesc\f[R] constructor must now be explicitly allowed</span>
<span class="line-added">+ in the security policy file for the \f[CB]rmid\f[R] command.</span>
<span class="line-added">+ The value of the \f[CB]sun.rmi.activation.execPolicy\f[R] property</span>
<span class="line-added">+ dictates the policy that the \f[CB]rmid\f[R] command uses to determine</span>
<span class="line-added">+ whether or not the information in an \f[CB]ActivationGroupDesc\f[R] can be</span>
<span class="line-added">+ used to start a JVM for an activation group.</span>
<span class="line-added">+ For more information see the description of the</span>
<span class="line-added">+ \f[CB]\-J\-Dsun.rmi.activation.execPolicy=policy\f[R] option.</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ Executing the \f[CB]rmid\f[R] command starts the \f[CB]Activator\f[R] and an</span>
<span class="line-added">+ internal registry on the default port 1098 and binds an</span>
<span class="line-added">+ \f[CB]ActivationSystem\f[R] to the name</span>
<span class="line-added">+ \f[CB]java.rmi.activation.ActivationSystem\f[R] in this internal registry.</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ To specify an alternate port for the registry, you must specify the</span>
<span class="line-added">+ \f[CB]\-port\f[R] option when you execute the \f[CB]rmid\f[R] command.</span>
<span class="line-added">+ For example, the following command starts the activation system daemon</span>
<span class="line-added">+ and a registry on the registry\[aq]s default port, 1099.</span>
<span class="line-added">+ .RS</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ \f[CB]rmid\ \-J\-Djava.security.policy=rmid.policy\ \-port\ 1099\f[R]</span>
<span class="line-added">+ .RE</span>
<span class="line-added">+ .SH START RMID ON DEMAND (ORACLE SOLARIS AND LINUX ONLY)</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ An alternative to starting \f[CB]rmid\f[R] from the command line is to</span>
<span class="line-added">+ configure \f[CB]inetd\f[R] (Oracle Solaris) or \f[CB]xinetd\f[R] (Linux) to</span>
<span class="line-added">+ start \f[CB]rmid\f[R] on demand.</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ When RMID starts, it attempts to obtain an inherited channel (inherited</span>
<span class="line-added">+ from \f[CB]inetd\f[R]/\f[CB]xinetd\f[R]) by calling the</span>
<span class="line-added">+ \f[CB]System.inheritedChannel\f[R] method.</span>
<span class="line-added">+ If the inherited channel is null or not an instance of</span>
<span class="line-added">+ \f[CB]java.nio.channels.ServerSocketChannel\f[R], then RMID assumes that</span>
<span class="line-added">+ it wasn\[aq]t started by \f[CB]inetd\f[R]/\f[CB]xinetd\f[R], and it starts</span>
<span class="line-added">+ as previously described.</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ If the inherited channel is a \f[CB]ServerSocketChannel\f[R] instance,</span>
<span class="line-added">+ then RMID uses the \f[CB]java.net.ServerSocket\f[R] obtained from the</span>
<span class="line-added">+ \f[CB]ServerSocketChannel\f[R] as the server socket that accepts requests</span>
<span class="line-added">+ for the remote objects it exports: The registry in which the</span>
<span class="line-added">+ \f[CB]java.rmi.activation.ActivationSystem\f[R] is bound and the</span>
<span class="line-added">+ \f[CB]java.rmi.activation.Activator\f[R] remote object.</span>
<span class="line-added">+ In this mode, RMID behaves the same as when it is started from the</span>
<span class="line-added">+ command line, except in the following cases:</span>
<span class="line-added">+ .IP \[bu] 2</span>
<span class="line-added">+ Output printed to \f[CB]System.err\f[R] is redirected to a file.</span>
<span class="line-added">+ This file is located in the directory specified by the</span>
<span class="line-added">+ \f[CB]java.io.tmpdir\f[R] system property (typically \f[CB]/var/tmp\f[R] or</span>
<span class="line-added">+ \f[CB]/tmp\f[R]) with the prefix \f[CB]rmid\-err\f[R] and the suffix</span>
<span class="line-added">+ \f[CB]tmp\f[R].</span>
<span class="line-added">+ .IP \[bu] 2</span>
<span class="line-added">+ The \f[CB]\-port\f[R] option isn\[aq]t allowed.</span>
<span class="line-added">+ If this option is specified, then RMID exits with an error message.</span>
<span class="line-added">+ .IP \[bu] 2</span>
<span class="line-added">+ The \f[CB]\-log\f[R] option is required.</span>
<span class="line-added">+ If this option isn\[aq]t specified, then RMID exits with an error</span>
<span class="line-added">+ message</span>
<span class="line-added">+ .SH OPTIONS FOR RMID</span>
  .TP
<span class="line-modified">! .B \f[CB]\-C\f[R]\f[I]option\f[R]</span>
<span class="line-modified">! Specifies an option that\[aq]s passed as a command\-line argument to</span>
<span class="line-modified">! each child process (activation group) of the \f[CB]rmid\f[R] command when</span>
<span class="line-modified">! that process is created.</span>
<span class="line-modified">! For example, you could pass a property to each virtual machine spawned</span>
<span class="line-modified">! by the activation system daemon:</span>
<span class="line-modified">! .RS</span>
<span class="line-modified">! .RS</span>
<span class="line-modified">! .PP</span>
<span class="line-modified">! \f[CB]rmid\ \-C\-Dsome.property=value\f[R]</span>
<span class="line-modified">! .RE</span>
<span class="line-modified">! .PP</span>
<span class="line-added">+ This ability to pass command\-line arguments to child processes can be</span>
<span class="line-added">+ useful for debugging.</span>
<span class="line-added">+ For example, the following command enables server\-call logging in all</span>
<span class="line-added">+ child JVMs.</span>
<span class="line-added">+ .RS</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ \f[CB]rmid\ \-C\-Djava.rmi.server.logCalls=true\f[R]</span>
<span class="line-added">+ .RE</span>
<span class="line-added">+ .RE</span>
  .TP
<span class="line-modified">! .B \f[CB]\-J\f[R]\f[I]option\f[R]</span>
<span class="line-modified">! Specifies an option that\[aq]s passed to the Java interpreter running</span>
<span class="line-modified">! RMID command.</span>
<span class="line-modified">! For example, to specify that the \f[CB]rmid\f[R] command use a policy file</span>
<span class="line-modified">! named \f[CB]rmid.policy\f[R], the \f[CB]\-J\f[R] option can be used to</span>
<span class="line-modified">! define the \f[CB]java.security.policy\f[R] property on the \f[CB]rmid\f[R]</span>
<span class="line-modified">! command line, for example:</span>
<span class="line-modified">! .RS</span>
<span class="line-modified">! .RS</span>
<span class="line-modified">! .PP</span>
<span class="line-modified">! \f[CB]rmid\ \-J\-Djava.security.policy\-rmid.policy\f[R]</span>
<span class="line-modified">! .RE</span>
<span class="line-modified">! .RE</span>
<span class="line-modified">! .TP</span>
<span class="line-modified">! .B \f[CB]\-J\-Dsun.rmi.activation.execPolicy=\f[R]\f[I]policy\f[R]</span>
<span class="line-modified">! Specifies the policy that the RMID command employs to check commands and</span>
<span class="line-modified">! command\-line options used to start the JVM in which an activation group</span>
<span class="line-modified">! runs.</span>
<span class="line-modified">! This option exists only in Oracle\[aq]s implementation of the Java RMI</span>
<span class="line-modified">! activation daemon.</span>
<span class="line-modified">! If this property isn\[aq]t specified on the command line, then the</span>
<span class="line-modified">! result is the same as though</span>
<span class="line-modified">! \f[CB]\-J\-Dsun.rmi.activation.execPolicy=default\f[R] were specified.</span>
<span class="line-modified">! .RS</span>
<span class="line-modified">! .PP</span>
<span class="line-modified">! The possible values of \f[I]policy\f[R] can be \f[CB]default\f[R],</span>
<span class="line-modified">! \f[I]policyClassName\f[R], or \f[CB]none\f[R].</span>
<span class="line-modified">! .IP \[bu] 2</span>
<span class="line-modified">! \f[CB]default\f[R]</span>
<span class="line-modified">! .RS 2</span>
<span class="line-modified">! .PP</span>
<span class="line-modified">! The \f[CB]default\f[R] or unspecified value \f[CB]execPolicy\f[R] allows the</span>
<span class="line-modified">! \f[CB]rmid\f[R] command to execute commands with specific command\-line</span>
<span class="line-modified">! options only when the \f[CB]rmid\f[R] command was granted permission to</span>
<span class="line-modified">! execute those commands and options in the security policy file that the</span>
<span class="line-modified">! \f[CB]rmid\f[R] command uses.</span>
<span class="line-modified">! Only the default activation group implementation can be used with the</span>
<span class="line-modified">! default execution policy.</span>
<span class="line-modified">! .PP</span>
<span class="line-modified">! The \f[CB]rmid\f[R] command starts a JVM for an activation group with the</span>
<span class="line-modified">! information in the group\[aq]s registered activation group descriptor,</span>
<span class="line-modified">! \f[CB]ActivationGroupDesc\f[R].</span>
<span class="line-modified">! The group descriptor specifies an optional</span>
<span class="line-modified">! \f[CB]ActivationGroupDesc.CommandEnvironment\f[R] that includes the</span>
<span class="line-modified">! command to execute to start the activation group and any command\-line</span>
<span class="line-modified">! options to be added to the command line.</span>
<span class="line-modified">! By default, the \f[CB]rmid\f[R] command uses the \f[CB]java\f[R] command</span>
<span class="line-modified">! found in \f[CB]java.home\f[R].</span>
<span class="line-modified">! The group descriptor also contains properties overrides that are added</span>
<span class="line-modified">! to the command line as options defined as:</span>
<span class="line-modified">! \f[CB]\-D\f[R]\f[I]property\f[R]\f[CB]=\f[R]\f[I]value\f[R].</span>
<span class="line-modified">! The \f[CB]com.sun.rmi.rmid.ExecPermission\f[R] permission grants the</span>
<span class="line-modified">! \f[CB]rmid\f[R] command permission to execute a command that\[aq]s</span>
<span class="line-modified">! specified in the group descriptor\[aq]s \f[CB]CommandEnvironment\f[R] to</span>
<span class="line-modified">! start an activation group.</span>
<span class="line-modified">! The \f[CB]com.sun.rmi.rmid.ExecOptionPermission\f[R] permission enables</span>
<span class="line-modified">! the \f[CB]rmid\f[R] command to use command\-line options, specified as</span>
<span class="line-modified">! properties overrides in the group descriptor or as options in the</span>
<span class="line-modified">! \f[CB]CommandEnvironment\f[R] when starting the activation group.</span>
<span class="line-modified">! When granting the \f[CB]rmid\f[R] command permission to execute various</span>
<span class="line-modified">! commands and options, the permissions \f[CB]ExecPermission\f[R] and</span>
<span class="line-modified">! \f[CB]ExecOptionPermission\f[R] must be granted to all code sources.</span>
<span class="line-modified">! .PP</span>
<span class="line-modified">! \f[CB]ExecPermission\f[R] class: Represents permission for the</span>
<span class="line-modified">! \f[CB]rmid\f[R] command to execute a specific command to start an</span>
<span class="line-modified">! activation group.</span>
<span class="line-modified">! .PP</span>
<span class="line-modified">! \f[CB]ExecPermission\f[R] syntax: The name of \f[CB]ExecPermission\f[R] is</span>
<span class="line-modified">! the path name of a command to grant the \f[CB]rmid\f[R] command permission</span>
<span class="line-modified">! to execute.</span>
<span class="line-modified">! .PP</span>
<span class="line-modified">! A path name that ends in a slash (\f[CB]/\f[R]) and an asterisk</span>
<span class="line-modified">! (\f[CB]*\f[R]) indicates that all of the files are contained in that</span>
<span class="line-modified">! directory where the slash is the file\-separator character,</span>
<span class="line-modified">! \f[CB]File.separatorChar\f[R].</span>
<span class="line-modified">! .PP</span>
<span class="line-modified">! A path name that ends in a slash (\f[CB]/\f[R]) and a minus sign</span>
<span class="line-modified">! (\f[CB]\-\f[R]) indicates that all files and subdirectories are contained</span>
<span class="line-modified">! in that directory (recursively).</span>
<span class="line-modified">! .PP</span>
<span class="line-modified">! A path name that consists of the special token \f[CB]&lt;&lt;ALL\ FILES&gt;&gt;\f[R]</span>
<span class="line-modified">! matches any file.</span>
<span class="line-modified">! .PP</span>
<span class="line-modified">! A path name that consists of an asterisk (\f[CB]*\f[R]) indicates that all</span>
<span class="line-modified">! the files are in the current directory.</span>
<span class="line-modified">! .PP</span>
<span class="line-modified">! A path name that consists of a minus sign (\f[CB]\-\f[R]) indicates that</span>
<span class="line-modified">! all the files are in the current directory and (recursively) all files</span>
<span class="line-modified">! and subdirectories are contained in the current directory.</span>
<span class="line-modified">! .PP</span>
<span class="line-modified">! \f[CB]ExecOptionPermission\f[R] class: Represents permission for the</span>
<span class="line-added">+ \f[CB]rmid\f[R] command to use a specific command\-line option when</span>
<span class="line-added">+ starting an activation group.</span>
<span class="line-added">+ The name of \f[CB]ExecOptionPermission\f[R] is the value of a</span>
<span class="line-added">+ command\-line option.</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ \f[CB]ExecOptionPermission\f[R] syntax: Options support a limited wild</span>
<span class="line-added">+ card scheme.</span>
<span class="line-added">+ An asterisk signifies a wild card match, and it can appear as the option</span>
<span class="line-added">+ name itself (matches any option), or an asterisk (*) can appear at the</span>
<span class="line-added">+ end of the option name only when the asterisk (\f[CB]*\f[R]) follows a dot</span>
<span class="line-added">+ (\f[CB]\&amp;.\f[R]) or an equals sign (\f[CB]=\f[R]).</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ For example: \f[CB]*\f[R] or \f[CB]\-Dmydir.*\f[R] or \f[CB]\-Da.b.c=*\f[R] is</span>
<span class="line-added">+ valid, but \f[CB]*mydir\f[R] or \f[CB]\-Da*b\f[R] or \f[CB]ab*\f[R] isn\[aq]t</span>
<span class="line-added">+ valid.</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ \f[B]Policy file for rmid\f[R]</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ When you grant the \f[CB]rmid\f[R] command permission to execute various</span>
<span class="line-added">+ commands and options, the permissions \f[CB]ExecPermission\f[R] and</span>
<span class="line-added">+ \f[CB]ExecOptionPermission\f[R] must be granted to all code sources</span>
<span class="line-added">+ (universally).</span>
<span class="line-added">+ It is safe to grant these permissions universally because only the</span>
<span class="line-added">+ \f[CB]rmid\f[R] command checks these permissions.</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ An example policy file that grants various execute permissions to the</span>
<span class="line-added">+ \f[CB]rmid\f[R] command is:</span>
<span class="line-added">+ .IP \[bu] 2</span>
<span class="line-added">+ \f[B]Oracle Solaris:\f[R]</span>
<span class="line-added">+ .RS 2</span>
<span class="line-added">+ .IP</span>
<span class="line-added">+ .nf</span>
<span class="line-added">+ \f[CB]</span>
<span class="line-added">+ grant\ {</span>
<span class="line-added">+ \ \ \ \ permission\ com.sun.rmi.rmid.ExecPermission</span>
<span class="line-added">+ \ \ \ \ \ \ \ \ &quot;/files/apps/java/jdk1.7.0/solaris/bin/java&quot;;</span>
  
<span class="line-modified">! \ \ \ \ permission\ com.sun.rmi.rmid.ExecPermission</span>
<span class="line-added">+ \ \ \ \ \ \ \ \ &quot;/files/apps/rmidcmds/*&quot;;</span>
  
<span class="line-modified">! \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission</span>
<span class="line-modified">! \ \ \ \ \ \ \ \ &quot;\-Djava.security.policy=/files/policies/group.policy&quot;;</span>
  
<span class="line-modified">! \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission</span>
<span class="line-added">+ \ \ \ \ \ \ \ \ &quot;\-Djava.security.debug=*&quot;;</span>
  
<span class="line-modified">! \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission</span>
<span class="line-modified">! \ \ \ \ \ \ \ \ &quot;\-Dsun.rmi.*&quot;;</span>
<span class="line-modified">! };</span>
<span class="line-modified">! \f[R]</span>
<span class="line-modified">! .fi</span>
<span class="line-modified">! .RE</span>
<span class="line-modified">! .IP \[bu] 2</span>
<span class="line-modified">! \f[B]Windows:\f[R]</span>
<span class="line-modified">! .RS 2</span>
<span class="line-modified">! .IP</span>
<span class="line-modified">! .nf</span>
<span class="line-modified">! \f[CB]</span>
<span class="line-added">+ grant\ {</span>
<span class="line-added">+ \ \ \ \ permission\ com.sun.rmi.rmid.ExecPermission</span>
<span class="line-added">+ \ \ \ \ \ \ \ \ &quot;c:\\\\files\\\\apps\\\\java\\\\jdk1.7.0\\\\win\\\\bin\\\\java&quot;;</span>
  
<span class="line-added">+ \ \ \ \ permission\ com.sun.rmi.rmid.ExecPermission</span>
<span class="line-added">+ \ \ \ \ \ \ \ \ &quot;c:\\\\files\\\\apps\\\\rmidcmds\\\\*&quot;;</span>
  
<span class="line-modified">! \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission</span>
<span class="line-modified">! \ \ \ \ \ \ \ \ &quot;\-Djava.security.policy=c:\\\\files\\\\policies\\\\group.policy&quot;;</span>
  
<span class="line-modified">! \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission</span>
<span class="line-modified">! \ \ \ \ \ \ \ \ &quot;\-Djava.security.debug=*&quot;;</span>
  
<span class="line-added">+ \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission</span>
<span class="line-added">+ \ \ \ \ \ \ \ \ &quot;\-Dsun.rmi.*&quot;;</span>
<span class="line-added">+ };</span>
<span class="line-added">+ \f[R]</span>
<span class="line-added">+ .fi</span>
<span class="line-added">+ .RE</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ The first permission granted allows the \f[CB]rmid\f[R] command to execute</span>
<span class="line-added">+ the 1.7.0 release of the \f[CB]java\f[R] command, specified by its</span>
<span class="line-added">+ explicit path name.</span>
<span class="line-added">+ By default, the version of the \f[CB]java\f[R] command found in</span>
<span class="line-added">+ \f[CB]java.home\f[R] is used (the same one that the \f[CB]rmid\f[R] command</span>
<span class="line-added">+ uses), and doesn\[aq]t need to be specified in the policy file.</span>
<span class="line-added">+ The second permission allows the \f[CB]rmid\f[R] command to execute any</span>
<span class="line-added">+ command in either the directory \f[CB]/files/apps/rmidcmds\f[R] (Oracle</span>
<span class="line-added">+ Solaris, Linux, and macOS) or the directory</span>
<span class="line-added">+ \f[CB]c:\\files\\apps\\rmidcmds\\\f[R] (Windows).</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ The third permission granted, \f[CB]ExecOptionPermission\f[R], allows the</span>
<span class="line-added">+ \f[CB]rmid\f[R] command to start an activation group that defines the</span>
<span class="line-added">+ security policy file to be either \f[CB]/files/policies/group.policy\f[R]</span>
<span class="line-added">+ (Oracle Solaris) or \f[CB]c:\\files\\policies\\group.policy\f[R]</span>
<span class="line-added">+ (Windows).</span>
<span class="line-added">+ The next permission allows the \f[CB]java.security.debug\ property\f[R] to</span>
<span class="line-added">+ be used by an activation group.</span>
<span class="line-added">+ The last permission allows any property in the</span>
<span class="line-added">+ \f[CB]sun.rmi\ property\f[R] name hierarchy to be used by activation</span>
<span class="line-added">+ groups.</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ To start the \f[CB]rmid\f[R] command with a policy file, the</span>
<span class="line-added">+ \f[CB]java.security.policy\f[R] property needs to be specified on the</span>
<span class="line-added">+ \f[CB]rmid\f[R] command line, for example:</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ \f[CB]rmid\ \-J\-Djava.security.policy=rmid.policy\f[R].</span>
<span class="line-added">+ .RE</span>
<span class="line-added">+ .IP \[bu] 2</span>
<span class="line-added">+ \f[I]policyClassName\f[R]</span>
<span class="line-added">+ .RS 2</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ If the default behavior isn\[aq]t flexible enough, then an administrator</span>
<span class="line-added">+ can provide, when starting the \f[CB]rmid\f[R] command, the name of a</span>
<span class="line-added">+ class whose \f[CB]checkExecCommand\f[R] method is executed to check</span>
<span class="line-added">+ commands to be executed by the \f[CB]rmid\f[R] command.</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ The \f[CB]policyClassName\f[R] specifies a public class with a public,</span>
<span class="line-added">+ no\-argument constructor and an implementation of the following</span>
<span class="line-added">+ \f[CB]checkExecCommand\f[R] method:</span>
<span class="line-added">+ .IP</span>
<span class="line-added">+ .nf</span>
<span class="line-added">+ \f[CB]</span>
<span class="line-added">+ \ public\ void\ checkExecCommand(ActivationGroupDesc\ desc,\ String[]\ command)</span>
<span class="line-added">+ \ \ \ \ \ \ \ \ throws\ SecurityException;</span>
<span class="line-added">+ \f[R]</span>
<span class="line-added">+ .fi</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ Before starting an activation group, the \f[CB]rmid\f[R] command calls the</span>
<span class="line-added">+ policy\[aq]s \f[CB]checkExecCommand\f[R] method and passes to it the</span>
<span class="line-added">+ activation group descriptor and an array that contains the complete</span>
<span class="line-added">+ command to start the activation group.</span>
<span class="line-added">+ If the \f[CB]checkExecCommand\f[R] throws a \f[CB]SecurityException\f[R],</span>
<span class="line-added">+ then the \f[CB]rmid\f[R] command doesn\[aq]t start the activation group</span>
<span class="line-added">+ and an \f[CB]ActivationException\f[R] is thrown to the caller attempting</span>
<span class="line-added">+ to activate the object.</span>
<span class="line-added">+ .RE</span>
<span class="line-added">+ .IP \[bu] 2</span>
<span class="line-added">+ \f[CB]none\f[R]</span>
<span class="line-added">+ .RS 2</span>
<span class="line-added">+ .PP</span>
<span class="line-added">+ If the \f[CB]sun.rmi.activation.execPolicy\f[R] property value is</span>
<span class="line-added">+ \f[CB]none\f[R], then the \f[CB]rmid\f[R] command doesn\[aq]t perform any</span>
<span class="line-added">+ validation of commands to start activation groups.</span>
<span class="line-added">+ .RE</span>
<span class="line-added">+ .RE</span>
  .TP
<span class="line-modified">! .B \f[CB]\-log\f[R] \f[I]dir\f[R]</span>
<span class="line-modified">! Specifies the name of the directory that the activation system daemon</span>
<span class="line-modified">! uses to write its database and associated information.</span>
<span class="line-added">+ The log directory defaults to creating a log, in the directory in which</span>
<span class="line-added">+ the \f[CB]rmid\f[R] command was executed.</span>
<span class="line-added">+ .RS</span>
<span class="line-added">+ .RE</span>
  .TP
<span class="line-modified">! .B \f[CB]\-port\f[R] \f[I]port\f[R]</span>
<span class="line-modified">! Specifies the port that the registry uses.</span>
<span class="line-modified">! The activation system daemon binds \f[CB]ActivationSystem\f[R], with the</span>
<span class="line-modified">! name \f[CB]java.rmi.activation.ActivationSystem\f[R], in this registry.</span>
<span class="line-modified">! The \f[CB]ActivationSystem\f[R] on the local machine can be obtained using</span>
<span class="line-modified">! the following \f[CB]Naming.lookup\f[R] method call:</span>
<span class="line-modified">! .RS</span>
<span class="line-modified">! .IP</span>
<span class="line-modified">! .nf</span>
<span class="line-modified">! \f[CB]</span>
<span class="line-modified">! import\ java.rmi.*;</span>
<span class="line-modified">! import\ java.rmi.activation.*;</span>
  
<span class="line-added">+ ActivationSystem\ system;\ system\ =\ (ActivationSystem)</span>
<span class="line-added">+ Naming.lookup(&quot;//:port/java.rmi.activation.ActivationSystem&quot;);</span>
<span class="line-added">+ \f[R]</span>
<span class="line-added">+ .fi</span>
<span class="line-added">+ .RE</span>
  .TP
<span class="line-modified">! .B \f[CB]\-stop\f[R]</span>
<span class="line-modified">! Stops the current invocation of the \f[CB]rmid\f[R] command for a port</span>
<span class="line-modified">! specified by the \f[CB]\-port\f[R] option.</span>
<span class="line-modified">! If no port is specified, then this option stops the \f[CB]rmid\f[R]</span>
<span class="line-modified">! invocation running on port 1098.</span>
<span class="line-modified">! .RS</span>
  .RE
</pre>
<center><a href="../classes/sun/rmi/transport/tcp/TCPTransport.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="rmiregistry.1.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>