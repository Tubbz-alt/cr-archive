<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old src/java.rmi/share/man/rmid.1</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
  <body>
    <pre>
  1 &#39;\&quot; t
  2 .\&quot; Copyright (c) 1998, 2013, Oracle and/or its affiliates. All rights reserved.
  3 .\&quot; DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4 .\&quot;
  5 .\&quot; This code is free software; you can redistribute it and/or modify it
  6 .\&quot; under the terms of the GNU General Public License version 2 only, as
  7 .\&quot; published by the Free Software Foundation.
  8 .\&quot;
  9 .\&quot; This code is distributed in the hope that it will be useful, but WITHOUT
 10 .\&quot; ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11 .\&quot; FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12 .\&quot; version 2 for more details (a copy is included in the LICENSE file that
 13 .\&quot; accompanied this code).
 14 .\&quot;
 15 .\&quot; You should have received a copy of the GNU General Public License version
 16 .\&quot; 2 along with this work; if not, write to the Free Software Foundation,
 17 .\&quot; Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18 .\&quot;
 19 .\&quot; Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20 .\&quot; or visit www.oracle.com if you need additional information or have any
 21 .\&quot; questions.
 22 .\&quot;
 23 .\&quot;     Arch: generic
 24 .\&quot;     Software: JDK 8
 25 .\&quot;     Date: 21 November 2013
 26 .\&quot;     SectDesc: Remote Method Invocation (RMI) Tools
 27 .\&quot;     Title: rmid.1
 28 .\&quot;
 29 .if n .pl 99999
 30 .TH rmid 1 &quot;21 November 2013&quot; &quot;JDK 8&quot; &quot;Remote Method Invocation (RMI) Tools&quot;
 31 .\&quot; -----------------------------------------------------------------
 32 .\&quot; * Define some portability stuff
 33 .\&quot; -----------------------------------------------------------------
 34 .\&quot; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 35 .\&quot; http://bugs.debian.org/507673
 36 .\&quot; http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
 37 .\&quot; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 38 .ie \n(.g .ds Aq \(aq
 39 .el       .ds Aq &#39;
 40 .\&quot; -----------------------------------------------------------------
 41 .\&quot; * set default formatting
 42 .\&quot; -----------------------------------------------------------------
 43 .\&quot; disable hyphenation
 44 .nh
 45 .\&quot; disable justification (adjust text to left margin only)
 46 .ad l
 47 .\&quot; -----------------------------------------------------------------
 48 .\&quot; * MAIN CONTENT STARTS HERE *
 49 .\&quot; -----------------------------------------------------------------
 50 
 51 .SH NAME    
 52 rmid \- Starts the activation system daemon that enables objects to be registered and activated in a Java Virtual Machine (JVM)\&amp;.
 53 .SH SYNOPSIS    
 54 .sp     
 55 .nf     
 56 
 57 \fBrmid\fR [\fIoptions\fR]
 58 .fi     
 59 .sp     
 60 .TP     
 61 \fIoptions\fR
 62 The command-line options\&amp;. See Options\&amp;.
 63 .SH DESCRIPTION    
 64 The \f3rmid\fR command starts the activation system daemon\&amp;. The activation system daemon must be started before activatable objects can be either registered with the activation system or activated in a JVM\&amp;. For details on how to write programs that use activatable objects, the \fIUsing Activation\fR tutorial at http://docs\&amp;.oracle\&amp;.com/javase/8/docs/technotes/guides/rmi/activation/overview\&amp;.html
 65 .PP
 66 Start the daemon by executing the \f3rmid\fR command and specifying a security policy file, as follows:
 67 .sp     
 68 .nf     
 69 \f3rmid \-J\-Djava\&amp;.security\&amp;.policy=rmid\&amp;.policy\fP
 70 .fi     
 71 .nf     
 72 \f3\fP
 73 .fi     
 74 .sp     
 75 When you run Oracle\(cqs implementation of the \f3rmid\fR command, by default you must specify a security policy file so that the \f3rmid\fR command can verify whether or not the information in each \f3ActivationGroupDesc\fR is allowed to be used to start a JVM for an activation group\&amp;. Specifically, the command and options specified by the \f3CommandEnvironment\fR and any properties passed to an \f3ActivationGroupDesc\fR constructor must now be explicitly allowed in the security policy file for the \f3rmid\fR command\&amp;. The value of the \f3sun\&amp;.rmi\&amp;.activation\&amp;.execPolicy\fR property dictates the policy that the \f3rmid\fR command uses to determine whether or not the information in an \f3ActivationGroupDesc\fR can be used to start a JVM for an activation group\&amp;. For more information see the description of the -J-Dsun\&amp;.rmi\&amp;.activation\&amp;.execPolicy=policy option\&amp;.
 76 .PP
 77 Executing the \f3rmid\fR command starts the Activator and an internal registry on the default port1098 and binds an \f3ActivationSystem\fR to the name \f3java\&amp;.rmi\&amp;.activation\&amp;.ActivationSystem\fR in this internal registry\&amp;.
 78 .PP
 79 To specify an alternate port for the registry, you must specify the \f3-port\fR option when you execute the \f3rmid\fR command\&amp;. For example, the following command starts the activation system daemon and a registry on the registry\&amp;&#39;s default port, 1099\&amp;.
 80 .sp     
 81 .nf     
 82 \f3rmid \-J\-Djava\&amp;.security\&amp;.policy=rmid\&amp;.policy \-port 1099\fP
 83 .fi     
 84 .nf     
 85 \f3\fP
 86 .fi     
 87 .sp     
 88 .SH START\ RMID\ ON\ DEMAND    
 89 An alternative to starting \f3rmid\fR from the command line is to configure \f3inetd\fR (Oracle Solaris) or \f3xinetd\fR (Linux) to start \f3rmid\fR on demand\&amp;.
 90 .PP
 91 When RMID starts, it attempts to obtain an inherited channel (inherited from \f3inetd\fR/\f3xinetd\fR) by calling the \f3System\&amp;.inheritedChannel\fR method\&amp;. If the inherited channel is null or not an instance of \f3java\&amp;.nio\&amp;.channels\&amp;.ServerSocketChannel\fR, then RMID assumes that it was not started by \f3inetd\fR/\f3xinetd\fR, and it starts as previously described\&amp;.
 92 .PP
 93 If the inherited channel is a \f3ServerSocketChannel\fR instance, then RMID uses the \f3java\&amp;.net\&amp;.ServerSocket\fR obtained from the \f3ServerSocketChannel\fR as the server socket that accepts requests for the remote objects it exports: The registry in which the \f3java\&amp;.rmi\&amp;.activation\&amp;.ActivationSystem\fR is bound and the \f3java\&amp;.rmi\&amp;.activation\&amp;.Activator\fR remote object\&amp;. In this mode, RMID behaves the same as when it is started from the command line, except in the following cases:
 94 .TP 0.2i    
 95 \(bu
 96 Output printed to \f3System\&amp;.err\fR is redirected to a file\&amp;. This file is located in the directory specified by the \f3java\&amp;.io\&amp;.tmpdir\fR system property (typically \f3/var/tmp\fR or \f3/tmp\fR) with the prefix \f3rmid-err\fR and the suffix \f3tmp\fR\&amp;.
 97 .TP 0.2i    
 98 \(bu
 99 The \f3-port\fR option is not allowed\&amp;. If this option is specified, then RMID exits with an error message\&amp;.
100 .TP 0.2i    
101 \(bu
102 The \f3-log\fR option is required\&amp;. If this option is not specified, then RMID exits with an error message
103 .PP
104 See the man pages for \f3inetd\fR (Oracle Solaris) or \f3xinetd\fR (Linux) for details on how to configure services to be started on demand\&amp;.
105 .SH OPTIONS    
106 .TP
107 -C\fIoption\fR
108 .br
109 Specifies an option that is passed as a command-line argument to each child process (activation group) of the \f3rmid\fR command when that process is created\&amp;. For example, you could pass a property to each virtual machine spawned by the activation system daemon:
110 .sp     
111 .nf     
112 \f3rmid \-C\-Dsome\&amp;.property=value\fP
113 .fi     
114 .nf     
115 \f3\fP
116 .fi     
117 .sp     
118 
119 
120 This ability to pass command-line arguments to child processes can be useful for debugging\&amp;. For example, the following command enables server-call logging in all child JVMs\&amp;.
121 .sp     
122 .nf     
123 \f3rmid \-C\-Djava\&amp;.rmi\&amp;.server\&amp;.logCalls=true\fP
124 .fi     
125 .nf     
126 \f3\fP
127 .fi     
128 .sp     
129 
130 .TP
131 -J\fIoption\fR
132 .br
133 Specifies an option that is passed to the Java interpreter running RMID\&amp;. For example, to specify that the \f3rmid\fR command use a policy file named \f3rmid\&amp;.policy\fR, the \f3-J\fR option can be used to define the \f3java\&amp;.security\&amp;.policy\fR property on the \f3rmid\fR command line, for example:
134 .sp     
135 .nf     
136 \f3rmid \-J\-Djava\&amp;.security\&amp;.policy\-rmid\&amp;.policy\fP
137 .fi     
138 .nf     
139 \f3\fP
140 .fi     
141 .sp     
142 
143 .TP
144 -J-Dsun\&amp;.rmi\&amp;.activation\&amp;.execPolicy=\fIpolicy\fR
145 .br
146 Specifies the policy that RMID employs to check commands and command-line options used to start the JVM in which an activation group runs\&amp;. Please note that this option exists only in Oracle\&amp;&#39;s implementation of the Java RMI activation daemon\&amp;. If this property is not specified on the command line, then the result is the same as though \f3-J-Dsun\&amp;.rmi\&amp;.activation\&amp;.execPolicy=default\fR were specified\&amp;. The possible values of \f3policy\fR can be \f3default\fR, \f3policyClassName\fR, or \f3none\fR\&amp;.
147 .RS     
148 .TP 0.2i    
149 \(bu
150 default
151 
152 The \f3default\fR or unspecified value \f3execPolicy\fR allows the \f3rmid\fR command to execute commands with specific command-line options only when the \f3rmid\fR command was granted permission to execute those commands and options in the security policy file that the \f3rmid\fR command uses\&amp;. Only the default activation group implementation can be used with the default execution policy\&amp;.
153 
154 The \f3rmid\fR command starts a JVM for an activation group with the information in the group\&amp;&#39;s registered activation group descriptor, an \f3ActivationGroupDesc\fR\&amp;. The group descriptor specifies an optional \f3ActivationGroupDesc\&amp;.CommandEnvironment\fR that includes the command to execute to start the activation group and any command-line options to be added to the command line\&amp;. By default, the \f3rmid\fR command uses the \f3java\fR command found in \f3java\&amp;.home\fR\&amp;. The group descriptor also contains properties overrides that are added to the command line as options defined as: \f3-D&lt;property&gt;=&lt;value&gt;\fR\&amp;.The \f3com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecPermission\fR permission grants the \f3rmid\fR command permission to execute a command that is specified in the group descriptor\&amp;&#39;s \f3CommandEnvironment\fR to start an activation group\&amp;. The \f3com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecOptionPermission\fR permission enables the \f3rmid\fR command to use command-line options, specified as properties overrides in the group descriptor or as options in the \f3CommandEnvironment\fR when starting the activation group\&amp;.When granting the \f3rmid\fR command permission to execute various commands and options, the permissions \f3ExecPermission\fR and \f3ExecOptionPermission\fR must be granted to all code sources\&amp;.
155 
156 \fIExecPermission\fR
157 
158 The \f3ExecPermission\fR class represents permission for the \f3rmid\fR command to execute a specific command to start an activation group\&amp;.
159 
160 \fISyntax\fR: The name of an \f3ExecPermission\fR is the path name of a command to grant the \f3rmid\fR command permission to execute\&amp;. A path name that ends in a slash (/) and an asterisk (*) indicates that all of the files contained in that directory where slash is the file-separator character, \f3File\&amp;.separatorChar\fR\&amp;. A path name that ends in a slash (/) and a minus sign (-) indicates all files and subdirectories contained in that directory (recursively)\&amp;. A path name that consists of the special token \f3&lt;&lt;ALL FILES&gt;&gt;\fR matches any file\&amp;.
161 
162 A path name that consists of an asterisk (*) indicates all the files in the current directory\&amp;. A path name that consists of a minus sign (-) indicates all the files in the current directory and (recursively) all files and subdirectories contained in the current directory\&amp;.
163 
164 \fIExecOptionPermission\fR
165 
166 The \f3ExecOptionPermission\fR class represents permission for the \f3rmid\fR command to use a specific command-line option when starting an activation group\&amp;. The name of an \f3ExecOptionPermission\fR is the value of a command-line option\&amp;.
167 
168 \fISyntax\fR: Options support a limited wild card scheme\&amp;. An asterisk signifies a wild card match, and it can appear as the option name itself (matches any option), or an asterisk (*) can appear at the end of the option name only when the asterisk (*) follows a dot (\&amp;.) or an equals sign (=)\&amp;.
169 
170 For example: \f3*\fR or \f3-Dmydir\&amp;.*\fR or \f3-Da\&amp;.b\&amp;.c=*\fR is valid, but \f3*mydir\fR or \f3-Da*b\fR or \f3ab*\fR is not\&amp;.
171 
172 \fIPolicy file for rmid\fR
173 
174 When you grant the \f3rmid\fR command permission to execute various commands and options, the permissions \f3ExecPermission\fR and \f3ExecOptionPermission\fR must be granted to all code sources (universally)\&amp;. It is safe to grant these permissions universally because only the \f3rmid\fR command checks these permissions\&amp;.
175 
176 An example policy file that grants various execute permissions to the \f3rmid\fR command is:
177 .sp     
178 .nf     
179 \f3grant {\fP
180 .fi     
181 .nf     
182 \f3    permission com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecPermission\fP
183 .fi     
184 .nf     
185 \f3        &quot;/files/apps/java/jdk1\&amp;.7\&amp;.0/solaris/bin/java&quot;;\fP
186 .fi     
187 .nf     
188 \f3\fP
189 .fi     
190 .nf     
191 \f3    permission com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecPermission\fP
192 .fi     
193 .nf     
194 \f3        &quot;/files/apps/rmidcmds/*&quot;;\fP
195 .fi     
196 .nf     
197 \f3\fP
198 .fi     
199 .nf     
200 \f3    permission com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecOptionPermission\fP
201 .fi     
202 .nf     
203 \f3        &quot;\-Djava\&amp;.security\&amp;.policy=/files/policies/group\&amp;.policy&quot;;\fP
204 .fi     
205 .nf     
206 \f3\fP
207 .fi     
208 .nf     
209 \f3    permission com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecOptionPermission\fP
210 .fi     
211 .nf     
212 \f3        &quot;\-Djava\&amp;.security\&amp;.debug=*&quot;;\fP
213 .fi     
214 .nf     
215 \f3\fP
216 .fi     
217 .nf     
218 \f3    permission com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecOptionPermission\fP
219 .fi     
220 .nf     
221 \f3        &quot;\-Dsun\&amp;.rmi\&amp;.*&quot;;\fP
222 .fi     
223 .nf     
224 \f3};\fP
225 .fi     
226 .nf     
227 \f3\fP
228 .fi     
229 .sp     
230 
231 
232 The first permission granted allows the \f3rmid\fR tcommand o execute the 1\&amp;.7\&amp;.0 release of the \f3java\fR command, specified by its explicit path name\&amp;. By default, the version of the \f3java\fR command found in \f3java\&amp;.home\fR is used (the same one that the \f3rmid\fR command uses), and does not need to be specified in the policy file\&amp;. The second permission allows the \f3rmid\fR command to execute any command in the directory \f3/files/apps/rmidcmds\fR\&amp;.
233 
234 The third permission granted, an \f3ExecOptionPermission\fR, allows the \f3rmid\fR command to start an activation group that defines the security policy file to be \f3/files/policies/group\&amp;.policy\fR\&amp;. The next permission allows the \f3java\&amp;.security\&amp;.debug property\fR to be used by an activation group\&amp;. The last permission allows any property in the \f3sun\&amp;.rmi property\fR name hierarchy to be used by activation groups\&amp;.
235 
236 To start the \f3rmid\fR command with a policy file, the \f3java\&amp;.security\&amp;.policy\fR property needs to be specified on the \f3rmid\fR command line, for example:
237 
238 \f3rmid -J-Djava\&amp;.security\&amp;.policy=rmid\&amp;.policy\fR\&amp;.
239 .TP 0.2i    
240 \(bu
241 &lt;policyClassName&gt;
242 
243 If the default behavior is not flexible enough, then an administrator can provide, when starting the \f3rmid\fR command, the name of a class whose \f3checkExecCommand\fR method is executed to check commands to be executed by the \f3rmid\fR command\&amp;.
244 
245 The \f3policyClassName\fR specifies a public class with a public, no-argument constructor and an implementation of the following \f3checkExecCommand\fR method:
246 .sp     
247 .nf     
248 \f3 public void checkExecCommand(ActivationGroupDesc desc, String[] command)\fP
249 .fi     
250 .nf     
251 \f3        throws SecurityException;\fP
252 .fi     
253 .nf     
254 \f3\fP
255 .fi     
256 .sp     
257 
258 
259 Before starting an activation group, the \f3rmid\fR command calls the policy\&amp;&#39;s \f3checkExecCommand\fR method and passes to it the activation group descriptor and an array that contains the complete command to start the activation group\&amp;. If the \f3checkExecCommand\fR throws a \f3SecurityException\fR, then the \f3rmid\fR command does not start the activation group and an \f3ActivationException\fR is thrown to the caller attempting to activate the object\&amp;.
260 .TP 0.2i    
261 \(bu
262 none
263 
264 If the \f3sun\&amp;.rmi\&amp;.activation\&amp;.execPolicy\fR property value is \f3none\fR, then the \f3rmid\fR command does not perform any validation of commands to start activation groups\&amp;.
265 .RE     
266 
267 .TP
268 -log \fIdir\fR
269 .br
270 Specifies the name of the directory the activation system daemon uses to write its database and associated information\&amp;. The log directory defaults to creating a log, in the directory in which the \f3rmid\fR command was executed\&amp;.
271 .TP
272 -port \fIport\fR
273 .br
274 Specifies the port the registry uses\&amp;. The activation system daemon binds the \f3ActivationSystem\fR, with the name \f3java\&amp;.rmi\&amp;.activation\&amp;.ActivationSystem\fR, in this registry\&amp;. The \f3ActivationSystem\fR on the local machine can be obtained using the following \f3Naming\&amp;.lookup\fR method call:
275 .sp     
276 .nf     
277 \f3import java\&amp;.rmi\&amp;.*; \fP
278 .fi     
279 .nf     
280 \f3    import java\&amp;.rmi\&amp;.activation\&amp;.*;\fP
281 .fi     
282 .nf     
283 \f3\fP
284 .fi     
285 .nf     
286 \f3    ActivationSystem system; system = (ActivationSystem)\fP
287 .fi     
288 .nf     
289 \f3    Naming\&amp;.lookup(&quot;//:port/java\&amp;.rmi\&amp;.activation\&amp;.ActivationSystem&quot;);\fP
290 .fi     
291 .nf     
292 \f3\fP
293 .fi     
294 .sp     
295 
296 .TP
297 -stop
298 .br
299 Stops the current invocation of the \f3rmid\fR command for a port specified by the \f3-port\fR option\&amp;. If no port is specified, then this option stops the \f3rmid\fR invocation running on port 1098\&amp;.
300 .SH ENVIRONMENT\ VARIABLES    
301 .TP     
302 CLASSPATH
303 Used to provide the system a path to user-defined classes\&amp;. Directories are separated by colons, for example: \f3\&amp;.:/usr/local/java/classes\fR\&amp;.
304 .SH SEE\ ALSO    
305 .TP 0.2i    
306 \(bu
307 java(1)
308 .TP 0.2i    
309 \(bu
310 Setting the Class Path
311 .RE
312 .br
313 &#39;pl 8.5i
314 &#39;bp
    </pre>
  </body>
</html>