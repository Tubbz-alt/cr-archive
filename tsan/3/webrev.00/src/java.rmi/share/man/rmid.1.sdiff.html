<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.rmi/share/man/rmid.1</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../classes/sun/rmi/transport/tcp/TCPTransport.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="rmiregistry.1.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.rmi/share/man/rmid.1</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
<span class="line-modified">  1 &#39;\&quot; t</span>
<span class="line-removed">  2 .\&quot; Copyright (c) 1998, 2013, Oracle and/or its affiliates. All rights reserved.</span>
  3 .\&quot; DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4 .\&quot;
  5 .\&quot; This code is free software; you can redistribute it and/or modify it
  6 .\&quot; under the terms of the GNU General Public License version 2 only, as
  7 .\&quot; published by the Free Software Foundation.
  8 .\&quot;
  9 .\&quot; This code is distributed in the hope that it will be useful, but WITHOUT
 10 .\&quot; ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
<span class="line-modified"> 11 .\&quot; FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License</span>
 12 .\&quot; version 2 for more details (a copy is included in the LICENSE file that
 13 .\&quot; accompanied this code).
 14 .\&quot;
 15 .\&quot; You should have received a copy of the GNU General Public License version
 16 .\&quot; 2 along with this work; if not, write to the Free Software Foundation,
 17 .\&quot; Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18 .\&quot;
 19 .\&quot; Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20 .\&quot; or visit www.oracle.com if you need additional information or have any
 21 .\&quot; questions.
 22 .\&quot;
<span class="line-modified"> 23 .\&quot;     Arch: generic</span>
<span class="line-removed"> 24 .\&quot;     Software: JDK 8</span>
<span class="line-removed"> 25 .\&quot;     Date: 21 November 2013</span>
<span class="line-removed"> 26 .\&quot;     SectDesc: Remote Method Invocation (RMI) Tools</span>
<span class="line-removed"> 27 .\&quot;     Title: rmid.1</span>
 28 .\&quot;
<span class="line-modified"> 29 .if n .pl 99999</span>
<span class="line-modified"> 30 .TH rmid 1 &quot;21 November 2013&quot; &quot;JDK 8&quot; &quot;Remote Method Invocation (RMI) Tools&quot;</span>
<span class="line-modified"> 31 .\&quot; -----------------------------------------------------------------</span>
<span class="line-modified"> 32 .\&quot; * Define some portability stuff</span>
<span class="line-modified"> 33 .\&quot; -----------------------------------------------------------------</span>
<span class="line-modified"> 34 .\&quot; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="line-modified"> 35 .\&quot; http://bugs.debian.org/507673</span>
<span class="line-modified"> 36 .\&quot; http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html</span>
<span class="line-modified"> 37 .\&quot; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="line-removed"> 38 .ie \n(.g .ds Aq \(aq</span>
<span class="line-removed"> 39 .el       .ds Aq &#39;</span>
<span class="line-removed"> 40 .\&quot; -----------------------------------------------------------------</span>
<span class="line-removed"> 41 .\&quot; * set default formatting</span>
<span class="line-removed"> 42 .\&quot; -----------------------------------------------------------------</span>
<span class="line-removed"> 43 .\&quot; disable hyphenation</span>
<span class="line-removed"> 44 .nh</span>
<span class="line-removed"> 45 .\&quot; disable justification (adjust text to left margin only)</span>
<span class="line-removed"> 46 .ad l</span>
<span class="line-removed"> 47 .\&quot; -----------------------------------------------------------------</span>
<span class="line-removed"> 48 .\&quot; * MAIN CONTENT STARTS HERE *</span>
<span class="line-removed"> 49 .\&quot; -----------------------------------------------------------------</span>
<span class="line-removed"> 50 </span>
<span class="line-removed"> 51 .SH NAME    </span>
<span class="line-removed"> 52 rmid \- Starts the activation system daemon that enables objects to be registered and activated in a Java Virtual Machine (JVM)\&amp;.</span>
<span class="line-removed"> 53 .SH SYNOPSIS    </span>
<span class="line-removed"> 54 .sp     </span>
<span class="line-removed"> 55 .nf     </span>
<span class="line-removed"> 56 </span>
<span class="line-removed"> 57 \fBrmid\fR [\fIoptions\fR]</span>
<span class="line-removed"> 58 .fi     </span>
<span class="line-removed"> 59 .sp     </span>
<span class="line-removed"> 60 .TP     </span>
<span class="line-removed"> 61 \fIoptions\fR</span>
<span class="line-removed"> 62 The command-line options\&amp;. See Options\&amp;.</span>
<span class="line-removed"> 63 .SH DESCRIPTION    </span>
<span class="line-removed"> 64 The \f3rmid\fR command starts the activation system daemon\&amp;. The activation system daemon must be started before activatable objects can be either registered with the activation system or activated in a JVM\&amp;. For details on how to write programs that use activatable objects, the \fIUsing Activation\fR tutorial at http://docs\&amp;.oracle\&amp;.com/javase/8/docs/technotes/guides/rmi/activation/overview\&amp;.html</span>
<span class="line-removed"> 65 .PP</span>
<span class="line-removed"> 66 Start the daemon by executing the \f3rmid\fR command and specifying a security policy file, as follows:</span>
<span class="line-removed"> 67 .sp     </span>
<span class="line-removed"> 68 .nf     </span>
<span class="line-removed"> 69 \f3rmid \-J\-Djava\&amp;.security\&amp;.policy=rmid\&amp;.policy\fP</span>
<span class="line-removed"> 70 .fi     </span>
<span class="line-removed"> 71 .nf     </span>
<span class="line-removed"> 72 \f3\fP</span>
<span class="line-removed"> 73 .fi     </span>
<span class="line-removed"> 74 .sp     </span>
<span class="line-removed"> 75 When you run Oracle\(cqs implementation of the \f3rmid\fR command, by default you must specify a security policy file so that the \f3rmid\fR command can verify whether or not the information in each \f3ActivationGroupDesc\fR is allowed to be used to start a JVM for an activation group\&amp;. Specifically, the command and options specified by the \f3CommandEnvironment\fR and any properties passed to an \f3ActivationGroupDesc\fR constructor must now be explicitly allowed in the security policy file for the \f3rmid\fR command\&amp;. The value of the \f3sun\&amp;.rmi\&amp;.activation\&amp;.execPolicy\fR property dictates the policy that the \f3rmid\fR command uses to determine whether or not the information in an \f3ActivationGroupDesc\fR can be used to start a JVM for an activation group\&amp;. For more information see the description of the -J-Dsun\&amp;.rmi\&amp;.activation\&amp;.execPolicy=policy option\&amp;.</span>
<span class="line-removed"> 76 .PP</span>
<span class="line-removed"> 77 Executing the \f3rmid\fR command starts the Activator and an internal registry on the default port1098 and binds an \f3ActivationSystem\fR to the name \f3java\&amp;.rmi\&amp;.activation\&amp;.ActivationSystem\fR in this internal registry\&amp;.</span>
<span class="line-removed"> 78 .PP</span>
<span class="line-removed"> 79 To specify an alternate port for the registry, you must specify the \f3-port\fR option when you execute the \f3rmid\fR command\&amp;. For example, the following command starts the activation system daemon and a registry on the registry\&amp;&#39;s default port, 1099\&amp;.</span>
<span class="line-removed"> 80 .sp     </span>
<span class="line-removed"> 81 .nf     </span>
<span class="line-removed"> 82 \f3rmid \-J\-Djava\&amp;.security\&amp;.policy=rmid\&amp;.policy \-port 1099\fP</span>
<span class="line-removed"> 83 .fi     </span>
<span class="line-removed"> 84 .nf     </span>
<span class="line-removed"> 85 \f3\fP</span>
<span class="line-removed"> 86 .fi     </span>
<span class="line-removed"> 87 .sp     </span>
<span class="line-removed"> 88 .SH START\ RMID\ ON\ DEMAND    </span>
<span class="line-removed"> 89 An alternative to starting \f3rmid\fR from the command line is to configure \f3inetd\fR (Oracle Solaris) or \f3xinetd\fR (Linux) to start \f3rmid\fR on demand\&amp;.</span>
<span class="line-removed"> 90 .PP</span>
<span class="line-removed"> 91 When RMID starts, it attempts to obtain an inherited channel (inherited from \f3inetd\fR/\f3xinetd\fR) by calling the \f3System\&amp;.inheritedChannel\fR method\&amp;. If the inherited channel is null or not an instance of \f3java\&amp;.nio\&amp;.channels\&amp;.ServerSocketChannel\fR, then RMID assumes that it was not started by \f3inetd\fR/\f3xinetd\fR, and it starts as previously described\&amp;.</span>
<span class="line-removed"> 92 .PP</span>
<span class="line-removed"> 93 If the inherited channel is a \f3ServerSocketChannel\fR instance, then RMID uses the \f3java\&amp;.net\&amp;.ServerSocket\fR obtained from the \f3ServerSocketChannel\fR as the server socket that accepts requests for the remote objects it exports: The registry in which the \f3java\&amp;.rmi\&amp;.activation\&amp;.ActivationSystem\fR is bound and the \f3java\&amp;.rmi\&amp;.activation\&amp;.Activator\fR remote object\&amp;. In this mode, RMID behaves the same as when it is started from the command line, except in the following cases:</span>
<span class="line-removed"> 94 .TP 0.2i    </span>
<span class="line-removed"> 95 \(bu</span>
<span class="line-removed"> 96 Output printed to \f3System\&amp;.err\fR is redirected to a file\&amp;. This file is located in the directory specified by the \f3java\&amp;.io\&amp;.tmpdir\fR system property (typically \f3/var/tmp\fR or \f3/tmp\fR) with the prefix \f3rmid-err\fR and the suffix \f3tmp\fR\&amp;.</span>
<span class="line-removed"> 97 .TP 0.2i    </span>
<span class="line-removed"> 98 \(bu</span>
<span class="line-removed"> 99 The \f3-port\fR option is not allowed\&amp;. If this option is specified, then RMID exits with an error message\&amp;.</span>
<span class="line-removed">100 .TP 0.2i    </span>
<span class="line-removed">101 \(bu</span>
<span class="line-removed">102 The \f3-log\fR option is required\&amp;. If this option is not specified, then RMID exits with an error message</span>
<span class="line-removed">103 .PP</span>
<span class="line-removed">104 See the man pages for \f3inetd\fR (Oracle Solaris) or \f3xinetd\fR (Linux) for details on how to configure services to be started on demand\&amp;.</span>
<span class="line-removed">105 .SH OPTIONS    </span>
106 .TP
<span class="line-modified">107 -C\fIoption\fR</span>
<span class="line-modified">108 .br</span>
<span class="line-modified">109 Specifies an option that is passed as a command-line argument to each child process (activation group) of the \f3rmid\fR command when that process is created\&amp;. For example, you could pass a property to each virtual machine spawned by the activation system daemon:</span>
<span class="line-modified">110 .sp     </span>
<span class="line-modified">111 .nf     </span>
<span class="line-modified">112 \f3rmid \-C\-Dsome\&amp;.property=value\fP</span>
<span class="line-modified">113 .fi     </span>
<span class="line-modified">114 .nf     </span>
<span class="line-modified">115 \f3\fP</span>
<span class="line-modified">116 .fi     </span>
<span class="line-modified">117 .sp     </span>
<span class="line-modified">118 </span>
<span class="line-modified">119 </span>
<span class="line-modified">120 This ability to pass command-line arguments to child processes can be useful for debugging\&amp;. For example, the following command enables server-call logging in all child JVMs\&amp;.</span>
<span class="line-modified">121 .sp     </span>
<span class="line-modified">122 .nf     </span>
<span class="line-modified">123 \f3rmid \-C\-Djava\&amp;.rmi\&amp;.server\&amp;.logCalls=true\fP</span>
<span class="line-modified">124 .fi     </span>
<span class="line-modified">125 .nf     </span>
<span class="line-modified">126 \f3\fP</span>
<span class="line-modified">127 .fi     </span>
<span class="line-modified">128 .sp     </span>
<span class="line-modified">129 </span>





























































130 .TP
<span class="line-modified">131 -J\fIoption\fR</span>
<span class="line-modified">132 .br</span>
<span class="line-modified">133 Specifies an option that is passed to the Java interpreter running RMID\&amp;. For example, to specify that the \f3rmid\fR command use a policy file named \f3rmid\&amp;.policy\fR, the \f3-J\fR option can be used to define the \f3java\&amp;.security\&amp;.policy\fR property on the \f3rmid\fR command line, for example:</span>
<span class="line-modified">134 .sp     </span>
<span class="line-modified">135 .nf     </span>
<span class="line-modified">136 \f3rmid \-J\-Djava\&amp;.security\&amp;.policy\-rmid\&amp;.policy\fP</span>
<span class="line-modified">137 .fi     </span>
<span class="line-modified">138 .nf     </span>
<span class="line-modified">139 \f3\fP</span>
<span class="line-modified">140 .fi     </span>
<span class="line-modified">141 .sp     </span>
<span class="line-modified">142 </span>









143 .TP
<span class="line-modified">144 -J-Dsun\&amp;.rmi\&amp;.activation\&amp;.execPolicy=\fIpolicy\fR</span>
<span class="line-modified">145 .br</span>
<span class="line-modified">146 Specifies the policy that RMID employs to check commands and command-line options used to start the JVM in which an activation group runs\&amp;. Please note that this option exists only in Oracle\&amp;&#39;s implementation of the Java RMI activation daemon\&amp;. If this property is not specified on the command line, then the result is the same as though \f3-J-Dsun\&amp;.rmi\&amp;.activation\&amp;.execPolicy=default\fR were specified\&amp;. The possible values of \f3policy\fR can be \f3default\fR, \f3policyClassName\fR, or \f3none\fR\&amp;.</span>
<span class="line-modified">147 .RS     </span>
<span class="line-modified">148 .TP 0.2i    </span>
<span class="line-modified">149 \(bu</span>
<span class="line-modified">150 default</span>
<span class="line-modified">151 </span>
<span class="line-modified">152 The \f3default\fR or unspecified value \f3execPolicy\fR allows the \f3rmid\fR command to execute commands with specific command-line options only when the \f3rmid\fR command was granted permission to execute those commands and options in the security policy file that the \f3rmid\fR command uses\&amp;. Only the default activation group implementation can be used with the default execution policy\&amp;.</span>
<span class="line-modified">153 </span>
<span class="line-modified">154 The \f3rmid\fR command starts a JVM for an activation group with the information in the group\&amp;&#39;s registered activation group descriptor, an \f3ActivationGroupDesc\fR\&amp;. The group descriptor specifies an optional \f3ActivationGroupDesc\&amp;.CommandEnvironment\fR that includes the command to execute to start the activation group and any command-line options to be added to the command line\&amp;. By default, the \f3rmid\fR command uses the \f3java\fR command found in \f3java\&amp;.home\fR\&amp;. The group descriptor also contains properties overrides that are added to the command line as options defined as: \f3-D&lt;property&gt;=&lt;value&gt;\fR\&amp;.The \f3com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecPermission\fR permission grants the \f3rmid\fR command permission to execute a command that is specified in the group descriptor\&amp;&#39;s \f3CommandEnvironment\fR to start an activation group\&amp;. The \f3com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecOptionPermission\fR permission enables the \f3rmid\fR command to use command-line options, specified as properties overrides in the group descriptor or as options in the \f3CommandEnvironment\fR when starting the activation group\&amp;.When granting the \f3rmid\fR command permission to execute various commands and options, the permissions \f3ExecPermission\fR and \f3ExecOptionPermission\fR must be granted to all code sources\&amp;.</span>
<span class="line-modified">155 </span>
<span class="line-modified">156 \fIExecPermission\fR</span>
<span class="line-modified">157 </span>
<span class="line-modified">158 The \f3ExecPermission\fR class represents permission for the \f3rmid\fR command to execute a specific command to start an activation group\&amp;.</span>
<span class="line-modified">159 </span>
<span class="line-modified">160 \fISyntax\fR: The name of an \f3ExecPermission\fR is the path name of a command to grant the \f3rmid\fR command permission to execute\&amp;. A path name that ends in a slash (/) and an asterisk (*) indicates that all of the files contained in that directory where slash is the file-separator character, \f3File\&amp;.separatorChar\fR\&amp;. A path name that ends in a slash (/) and a minus sign (-) indicates all files and subdirectories contained in that directory (recursively)\&amp;. A path name that consists of the special token \f3&lt;&lt;ALL FILES&gt;&gt;\fR matches any file\&amp;.</span>
<span class="line-modified">161 </span>
<span class="line-modified">162 A path name that consists of an asterisk (*) indicates all the files in the current directory\&amp;. A path name that consists of a minus sign (-) indicates all the files in the current directory and (recursively) all files and subdirectories contained in the current directory\&amp;.</span>
<span class="line-modified">163 </span>
<span class="line-modified">164 \fIExecOptionPermission\fR</span>
<span class="line-modified">165 </span>
<span class="line-modified">166 The \f3ExecOptionPermission\fR class represents permission for the \f3rmid\fR command to use a specific command-line option when starting an activation group\&amp;. The name of an \f3ExecOptionPermission\fR is the value of a command-line option\&amp;.</span>
<span class="line-modified">167 </span>
<span class="line-modified">168 \fISyntax\fR: Options support a limited wild card scheme\&amp;. An asterisk signifies a wild card match, and it can appear as the option name itself (matches any option), or an asterisk (*) can appear at the end of the option name only when the asterisk (*) follows a dot (\&amp;.) or an equals sign (=)\&amp;.</span>
<span class="line-modified">169 </span>
<span class="line-modified">170 For example: \f3*\fR or \f3-Dmydir\&amp;.*\fR or \f3-Da\&amp;.b\&amp;.c=*\fR is valid, but \f3*mydir\fR or \f3-Da*b\fR or \f3ab*\fR is not\&amp;.</span>
<span class="line-modified">171 </span>
<span class="line-modified">172 \fIPolicy file for rmid\fR</span>
<span class="line-modified">173 </span>
<span class="line-modified">174 When you grant the \f3rmid\fR command permission to execute various commands and options, the permissions \f3ExecPermission\fR and \f3ExecOptionPermission\fR must be granted to all code sources (universally)\&amp;. It is safe to grant these permissions universally because only the \f3rmid\fR command checks these permissions\&amp;.</span>
<span class="line-modified">175 </span>
<span class="line-modified">176 An example policy file that grants various execute permissions to the \f3rmid\fR command is:</span>
<span class="line-modified">177 .sp     </span>
<span class="line-modified">178 .nf     </span>
<span class="line-modified">179 \f3grant {\fP</span>
<span class="line-modified">180 .fi     </span>
<span class="line-modified">181 .nf     </span>
<span class="line-modified">182 \f3    permission com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecPermission\fP</span>
<span class="line-modified">183 .fi     </span>
<span class="line-modified">184 .nf     </span>
<span class="line-modified">185 \f3        &quot;/files/apps/java/jdk1\&amp;.7\&amp;.0/solaris/bin/java&quot;;\fP</span>
<span class="line-modified">186 .fi     </span>
<span class="line-modified">187 .nf     </span>
<span class="line-modified">188 \f3\fP</span>
<span class="line-modified">189 .fi     </span>
<span class="line-modified">190 .nf     </span>
<span class="line-modified">191 \f3    permission com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecPermission\fP</span>
<span class="line-modified">192 .fi     </span>
<span class="line-modified">193 .nf     </span>
<span class="line-modified">194 \f3        &quot;/files/apps/rmidcmds/*&quot;;\fP</span>
<span class="line-modified">195 .fi     </span>
<span class="line-modified">196 .nf     </span>
<span class="line-modified">197 \f3\fP</span>
<span class="line-modified">198 .fi     </span>
<span class="line-modified">199 .nf     </span>
<span class="line-modified">200 \f3    permission com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecOptionPermission\fP</span>
<span class="line-modified">201 .fi     </span>
<span class="line-modified">202 .nf     </span>
<span class="line-modified">203 \f3        &quot;\-Djava\&amp;.security\&amp;.policy=/files/policies/group\&amp;.policy&quot;;\fP</span>
<span class="line-modified">204 .fi     </span>
<span class="line-modified">205 .nf     </span>
<span class="line-modified">206 \f3\fP</span>
<span class="line-modified">207 .fi     </span>
<span class="line-modified">208 .nf     </span>
<span class="line-modified">209 \f3    permission com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecOptionPermission\fP</span>
<span class="line-modified">210 .fi     </span>
<span class="line-modified">211 .nf     </span>
<span class="line-modified">212 \f3        &quot;\-Djava\&amp;.security\&amp;.debug=*&quot;;\fP</span>
<span class="line-modified">213 .fi     </span>
<span class="line-modified">214 .nf     </span>
<span class="line-modified">215 \f3\fP</span>
<span class="line-modified">216 .fi     </span>
<span class="line-modified">217 .nf     </span>
<span class="line-modified">218 \f3    permission com\&amp;.sun\&amp;.rmi\&amp;.rmid\&amp;.ExecOptionPermission\fP</span>
<span class="line-modified">219 .fi     </span>
<span class="line-modified">220 .nf     </span>
<span class="line-modified">221 \f3        &quot;\-Dsun\&amp;.rmi\&amp;.*&quot;;\fP</span>
<span class="line-modified">222 .fi     </span>
<span class="line-modified">223 .nf     </span>
<span class="line-modified">224 \f3};\fP</span>
<span class="line-modified">225 .fi     </span>
<span class="line-modified">226 .nf     </span>
<span class="line-modified">227 \f3\fP</span>
<span class="line-modified">228 .fi     </span>
<span class="line-modified">229 .sp     </span>
<span class="line-modified">230 </span>
<span class="line-modified">231 </span>
<span class="line-modified">232 The first permission granted allows the \f3rmid\fR tcommand o execute the 1\&amp;.7\&amp;.0 release of the \f3java\fR command, specified by its explicit path name\&amp;. By default, the version of the \f3java\fR command found in \f3java\&amp;.home\fR is used (the same one that the \f3rmid\fR command uses), and does not need to be specified in the policy file\&amp;. The second permission allows the \f3rmid\fR command to execute any command in the directory \f3/files/apps/rmidcmds\fR\&amp;.</span>
<span class="line-modified">233 </span>
<span class="line-modified">234 The third permission granted, an \f3ExecOptionPermission\fR, allows the \f3rmid\fR command to start an activation group that defines the security policy file to be \f3/files/policies/group\&amp;.policy\fR\&amp;. The next permission allows the \f3java\&amp;.security\&amp;.debug property\fR to be used by an activation group\&amp;. The last permission allows any property in the \f3sun\&amp;.rmi property\fR name hierarchy to be used by activation groups\&amp;.</span>




































235 
<span class="line-modified">236 To start the \f3rmid\fR command with a policy file, the \f3java\&amp;.security\&amp;.policy\fR property needs to be specified on the \f3rmid\fR command line, for example:</span>

237 
<span class="line-modified">238 \f3rmid -J-Djava\&amp;.security\&amp;.policy=rmid\&amp;.policy\fR\&amp;.</span>
<span class="line-modified">239 .TP 0.2i    </span>
<span class="line-removed">240 \(bu</span>
<span class="line-removed">241 &lt;policyClassName&gt;</span>
242 
<span class="line-modified">243 If the default behavior is not flexible enough, then an administrator can provide, when starting the \f3rmid\fR command, the name of a class whose \f3checkExecCommand\fR method is executed to check commands to be executed by the \f3rmid\fR command\&amp;.</span>

244 
<span class="line-modified">245 The \f3policyClassName\fR specifies a public class with a public, no-argument constructor and an implementation of the following \f3checkExecCommand\fR method:</span>
<span class="line-modified">246 .sp     </span>
<span class="line-modified">247 .nf     </span>
<span class="line-modified">248 \f3 public void checkExecCommand(ActivationGroupDesc desc, String[] command)\fP</span>
<span class="line-modified">249 .fi     </span>
<span class="line-modified">250 .nf     </span>
<span class="line-modified">251 \f3        throws SecurityException;\fP</span>
<span class="line-modified">252 .fi     </span>
<span class="line-modified">253 .nf     </span>
<span class="line-modified">254 \f3\fP</span>
<span class="line-modified">255 .fi     </span>
<span class="line-modified">256 .sp     </span>



257 


258 
<span class="line-modified">259 Before starting an activation group, the \f3rmid\fR command calls the policy\&amp;&#39;s \f3checkExecCommand\fR method and passes to it the activation group descriptor and an array that contains the complete command to start the activation group\&amp;. If the \f3checkExecCommand\fR throws a \f3SecurityException\fR, then the \f3rmid\fR command does not start the activation group and an \f3ActivationException\fR is thrown to the caller attempting to activate the object\&amp;.</span>
<span class="line-modified">260 .TP 0.2i    </span>
<span class="line-removed">261 \(bu</span>
<span class="line-removed">262 none</span>
263 
<span class="line-modified">264 If the \f3sun\&amp;.rmi\&amp;.activation\&amp;.execPolicy\fR property value is \f3none\fR, then the \f3rmid\fR command does not perform any validation of commands to start activation groups\&amp;.</span>
<span class="line-modified">265 .RE     </span>
266 









































































267 .TP
<span class="line-modified">268 -log \fIdir\fR</span>
<span class="line-modified">269 .br</span>
<span class="line-modified">270 Specifies the name of the directory the activation system daemon uses to write its database and associated information\&amp;. The log directory defaults to creating a log, in the directory in which the \f3rmid\fR command was executed\&amp;.</span>




271 .TP
<span class="line-modified">272 -port \fIport\fR</span>
<span class="line-modified">273 .br</span>
<span class="line-modified">274 Specifies the port the registry uses\&amp;. The activation system daemon binds the \f3ActivationSystem\fR, with the name \f3java\&amp;.rmi\&amp;.activation\&amp;.ActivationSystem\fR, in this registry\&amp;. The \f3ActivationSystem\fR on the local machine can be obtained using the following \f3Naming\&amp;.lookup\fR method call:</span>
<span class="line-modified">275 .sp     </span>
<span class="line-modified">276 .nf     </span>
<span class="line-modified">277 \f3import java\&amp;.rmi\&amp;.*; \fP</span>
<span class="line-modified">278 .fi     </span>
<span class="line-modified">279 .nf     </span>
<span class="line-modified">280 \f3    import java\&amp;.rmi\&amp;.activation\&amp;.*;\fP</span>
<span class="line-modified">281 .fi     </span>
<span class="line-modified">282 .nf     </span>
<span class="line-modified">283 \f3\fP</span>
<span class="line-removed">284 .fi     </span>
<span class="line-removed">285 .nf     </span>
<span class="line-removed">286 \f3    ActivationSystem system; system = (ActivationSystem)\fP</span>
<span class="line-removed">287 .fi     </span>
<span class="line-removed">288 .nf     </span>
<span class="line-removed">289 \f3    Naming\&amp;.lookup(&quot;//:port/java\&amp;.rmi\&amp;.activation\&amp;.ActivationSystem&quot;);\fP</span>
<span class="line-removed">290 .fi     </span>
<span class="line-removed">291 .nf     </span>
<span class="line-removed">292 \f3\fP</span>
<span class="line-removed">293 .fi     </span>
<span class="line-removed">294 .sp     </span>
295 





296 .TP
<span class="line-modified">297 -stop</span>
<span class="line-modified">298 .br</span>
<span class="line-modified">299 Stops the current invocation of the \f3rmid\fR command for a port specified by the \f3-port\fR option\&amp;. If no port is specified, then this option stops the \f3rmid\fR invocation running on port 1098\&amp;.</span>
<span class="line-modified">300 .SH ENVIRONMENT\ VARIABLES    </span>
<span class="line-modified">301 .TP     </span>
<span class="line-modified">302 CLASSPATH</span>
<span class="line-removed">303 Used to provide the system a path to user-defined classes\&amp;. Directories are separated by colons, for example: \f3\&amp;.:/usr/local/java/classes\fR\&amp;.</span>
<span class="line-removed">304 .SH SEE\ ALSO    </span>
<span class="line-removed">305 .TP 0.2i    </span>
<span class="line-removed">306 \(bu</span>
<span class="line-removed">307 java(1)</span>
<span class="line-removed">308 .TP 0.2i    </span>
<span class="line-removed">309 \(bu</span>
<span class="line-removed">310 Setting the Class Path</span>
311 .RE
<span class="line-removed">312 .br</span>
<span class="line-removed">313 &#39;pl 8.5i</span>
<span class="line-removed">314 &#39;bp</span>
</pre>
</td>
<td>
<hr />
<pre>
<span class="line-modified">  1 .\&quot; Copyright (c) 1994, 2019, Oracle and/or its affiliates. All rights reserved.</span>

  2 .\&quot; DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  3 .\&quot;
  4 .\&quot; This code is free software; you can redistribute it and/or modify it
  5 .\&quot; under the terms of the GNU General Public License version 2 only, as
  6 .\&quot; published by the Free Software Foundation.
  7 .\&quot;
  8 .\&quot; This code is distributed in the hope that it will be useful, but WITHOUT
  9 .\&quot; ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
<span class="line-modified"> 10 .\&quot; FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License</span>
 11 .\&quot; version 2 for more details (a copy is included in the LICENSE file that
 12 .\&quot; accompanied this code).
 13 .\&quot;
 14 .\&quot; You should have received a copy of the GNU General Public License version
 15 .\&quot; 2 along with this work; if not, write to the Free Software Foundation,
 16 .\&quot; Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 17 .\&quot;
 18 .\&quot; Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 19 .\&quot; or visit www.oracle.com if you need additional information or have any
 20 .\&quot; questions.
 21 .\&quot;
<span class="line-modified"> 22 .\&quot; Automatically generated by Pandoc 2.3.1</span>




 23 .\&quot;
<span class="line-modified"> 24 .TH &quot;RMID&quot; &quot;1&quot; &quot;2020&quot; &quot;JDK 14&quot; &quot;JDK Commands&quot;</span>
<span class="line-modified"> 25 .hy</span>
<span class="line-modified"> 26 .SH NAME</span>
<span class="line-modified"> 27 .PP</span>
<span class="line-modified"> 28 rmid \- start the activation system daemon that enables objects to be</span>
<span class="line-modified"> 29 registered and activated in a Java Virtual Machine (JVM)</span>
<span class="line-modified"> 30 .SH SYNOPSIS</span>
<span class="line-modified"> 31 .PP</span>
<span class="line-modified"> 32 \f[CB]rmid\f[R] [\f[I]options\f[R]]</span>




































































 33 .TP
<span class="line-modified"> 34 .B \f[I]options\f[R]</span>
<span class="line-modified"> 35 This represent the command\-line options for the \f[CB]rmid\f[R] command.</span>
<span class="line-modified"> 36 See \f[B]Options for rmid\f[R].</span>
<span class="line-modified"> 37 .RS</span>
<span class="line-modified"> 38 .RE</span>
<span class="line-modified"> 39 .SH DESCRIPTION</span>
<span class="line-modified"> 40 .PP</span>
<span class="line-modified"> 41 The \f[CB]rmid\f[R] command starts the activation system daemon.</span>
<span class="line-modified"> 42 The activation system daemon must be started before objects that can be</span>
<span class="line-modified"> 43 activated are either registered with the activation system or activated</span>
<span class="line-modified"> 44 in a JVM.</span>
<span class="line-modified"> 45 .PP</span>
<span class="line-modified"> 46 Start the daemon by executing the \f[CB]rmid\f[R] command and specifying a</span>
<span class="line-modified"> 47 security policy file, as follows:</span>
<span class="line-modified"> 48 .RS</span>
<span class="line-modified"> 49 .PP</span>
<span class="line-modified"> 50 \f[CB]rmid\ \-J\-Djava.security.policy=rmid.policy\f[R]</span>
<span class="line-modified"> 51 .RE</span>
<span class="line-modified"> 52 .PP</span>
<span class="line-modified"> 53 When you run Oracle\[aq]s implementation of the \f[CB]rmid\f[R] command,</span>
<span class="line-modified"> 54 by default you must specify a security policy file so that the</span>
<span class="line-modified"> 55 \f[CB]rmid\f[R] command can verify whether or not the information in each</span>
<span class="line-modified"> 56 \f[CB]ActivationGroupDesc\f[R] is allowed to be used to start a JVM for an</span>
<span class="line-added"> 57 activation group.</span>
<span class="line-added"> 58 Specifically, the command and options specified by the</span>
<span class="line-added"> 59 \f[CB]CommandEnvironment\f[R] and any properties passed to an</span>
<span class="line-added"> 60 \f[CB]ActivationGroupDesc\f[R] constructor must now be explicitly allowed</span>
<span class="line-added"> 61 in the security policy file for the \f[CB]rmid\f[R] command.</span>
<span class="line-added"> 62 The value of the \f[CB]sun.rmi.activation.execPolicy\f[R] property</span>
<span class="line-added"> 63 dictates the policy that the \f[CB]rmid\f[R] command uses to determine</span>
<span class="line-added"> 64 whether or not the information in an \f[CB]ActivationGroupDesc\f[R] can be</span>
<span class="line-added"> 65 used to start a JVM for an activation group.</span>
<span class="line-added"> 66 For more information see the description of the</span>
<span class="line-added"> 67 \f[CB]\-J\-Dsun.rmi.activation.execPolicy=policy\f[R] option.</span>
<span class="line-added"> 68 .PP</span>
<span class="line-added"> 69 Executing the \f[CB]rmid\f[R] command starts the \f[CB]Activator\f[R] and an</span>
<span class="line-added"> 70 internal registry on the default port 1098 and binds an</span>
<span class="line-added"> 71 \f[CB]ActivationSystem\f[R] to the name</span>
<span class="line-added"> 72 \f[CB]java.rmi.activation.ActivationSystem\f[R] in this internal registry.</span>
<span class="line-added"> 73 .PP</span>
<span class="line-added"> 74 To specify an alternate port for the registry, you must specify the</span>
<span class="line-added"> 75 \f[CB]\-port\f[R] option when you execute the \f[CB]rmid\f[R] command.</span>
<span class="line-added"> 76 For example, the following command starts the activation system daemon</span>
<span class="line-added"> 77 and a registry on the registry\[aq]s default port, 1099.</span>
<span class="line-added"> 78 .RS</span>
<span class="line-added"> 79 .PP</span>
<span class="line-added"> 80 \f[CB]rmid\ \-J\-Djava.security.policy=rmid.policy\ \-port\ 1099\f[R]</span>
<span class="line-added"> 81 .RE</span>
<span class="line-added"> 82 .SH START RMID ON DEMAND (ORACLE SOLARIS AND LINUX ONLY)</span>
<span class="line-added"> 83 .PP</span>
<span class="line-added"> 84 An alternative to starting \f[CB]rmid\f[R] from the command line is to</span>
<span class="line-added"> 85 configure \f[CB]inetd\f[R] (Oracle Solaris) or \f[CB]xinetd\f[R] (Linux) to</span>
<span class="line-added"> 86 start \f[CB]rmid\f[R] on demand.</span>
<span class="line-added"> 87 .PP</span>
<span class="line-added"> 88 When RMID starts, it attempts to obtain an inherited channel (inherited</span>
<span class="line-added"> 89 from \f[CB]inetd\f[R]/\f[CB]xinetd\f[R]) by calling the</span>
<span class="line-added"> 90 \f[CB]System.inheritedChannel\f[R] method.</span>
<span class="line-added"> 91 If the inherited channel is null or not an instance of</span>
<span class="line-added"> 92 \f[CB]java.nio.channels.ServerSocketChannel\f[R], then RMID assumes that</span>
<span class="line-added"> 93 it wasn\[aq]t started by \f[CB]inetd\f[R]/\f[CB]xinetd\f[R], and it starts</span>
<span class="line-added"> 94 as previously described.</span>
<span class="line-added"> 95 .PP</span>
<span class="line-added"> 96 If the inherited channel is a \f[CB]ServerSocketChannel\f[R] instance,</span>
<span class="line-added"> 97 then RMID uses the \f[CB]java.net.ServerSocket\f[R] obtained from the</span>
<span class="line-added"> 98 \f[CB]ServerSocketChannel\f[R] as the server socket that accepts requests</span>
<span class="line-added"> 99 for the remote objects it exports: The registry in which the</span>
<span class="line-added">100 \f[CB]java.rmi.activation.ActivationSystem\f[R] is bound and the</span>
<span class="line-added">101 \f[CB]java.rmi.activation.Activator\f[R] remote object.</span>
<span class="line-added">102 In this mode, RMID behaves the same as when it is started from the</span>
<span class="line-added">103 command line, except in the following cases:</span>
<span class="line-added">104 .IP \[bu] 2</span>
<span class="line-added">105 Output printed to \f[CB]System.err\f[R] is redirected to a file.</span>
<span class="line-added">106 This file is located in the directory specified by the</span>
<span class="line-added">107 \f[CB]java.io.tmpdir\f[R] system property (typically \f[CB]/var/tmp\f[R] or</span>
<span class="line-added">108 \f[CB]/tmp\f[R]) with the prefix \f[CB]rmid\-err\f[R] and the suffix</span>
<span class="line-added">109 \f[CB]tmp\f[R].</span>
<span class="line-added">110 .IP \[bu] 2</span>
<span class="line-added">111 The \f[CB]\-port\f[R] option isn\[aq]t allowed.</span>
<span class="line-added">112 If this option is specified, then RMID exits with an error message.</span>
<span class="line-added">113 .IP \[bu] 2</span>
<span class="line-added">114 The \f[CB]\-log\f[R] option is required.</span>
<span class="line-added">115 If this option isn\[aq]t specified, then RMID exits with an error</span>
<span class="line-added">116 message</span>
<span class="line-added">117 .SH OPTIONS FOR RMID</span>
118 .TP
<span class="line-modified">119 .B \f[CB]\-C\f[R]\f[I]option\f[R]</span>
<span class="line-modified">120 Specifies an option that\[aq]s passed as a command\-line argument to</span>
<span class="line-modified">121 each child process (activation group) of the \f[CB]rmid\f[R] command when</span>
<span class="line-modified">122 that process is created.</span>
<span class="line-modified">123 For example, you could pass a property to each virtual machine spawned</span>
<span class="line-modified">124 by the activation system daemon:</span>
<span class="line-modified">125 .RS</span>
<span class="line-modified">126 .RS</span>
<span class="line-modified">127 .PP</span>
<span class="line-modified">128 \f[CB]rmid\ \-C\-Dsome.property=value\f[R]</span>
<span class="line-modified">129 .RE</span>
<span class="line-modified">130 .PP</span>
<span class="line-added">131 This ability to pass command\-line arguments to child processes can be</span>
<span class="line-added">132 useful for debugging.</span>
<span class="line-added">133 For example, the following command enables server\-call logging in all</span>
<span class="line-added">134 child JVMs.</span>
<span class="line-added">135 .RS</span>
<span class="line-added">136 .PP</span>
<span class="line-added">137 \f[CB]rmid\ \-C\-Djava.rmi.server.logCalls=true\f[R]</span>
<span class="line-added">138 .RE</span>
<span class="line-added">139 .RE</span>
140 .TP
<span class="line-modified">141 .B \f[CB]\-J\f[R]\f[I]option\f[R]</span>
<span class="line-modified">142 Specifies an option that\[aq]s passed to the Java interpreter running</span>
<span class="line-modified">143 RMID command.</span>
<span class="line-modified">144 For example, to specify that the \f[CB]rmid\f[R] command use a policy file</span>
<span class="line-modified">145 named \f[CB]rmid.policy\f[R], the \f[CB]\-J\f[R] option can be used to</span>
<span class="line-modified">146 define the \f[CB]java.security.policy\f[R] property on the \f[CB]rmid\f[R]</span>
<span class="line-modified">147 command line, for example:</span>
<span class="line-modified">148 .RS</span>
<span class="line-modified">149 .RS</span>
<span class="line-modified">150 .PP</span>
<span class="line-modified">151 \f[CB]rmid\ \-J\-Djava.security.policy\-rmid.policy\f[R]</span>
<span class="line-modified">152 .RE</span>
<span class="line-modified">153 .RE</span>
<span class="line-modified">154 .TP</span>
<span class="line-modified">155 .B \f[CB]\-J\-Dsun.rmi.activation.execPolicy=\f[R]\f[I]policy\f[R]</span>
<span class="line-modified">156 Specifies the policy that the RMID command employs to check commands and</span>
<span class="line-modified">157 command\-line options used to start the JVM in which an activation group</span>
<span class="line-modified">158 runs.</span>
<span class="line-modified">159 This option exists only in Oracle\[aq]s implementation of the Java RMI</span>
<span class="line-modified">160 activation daemon.</span>
<span class="line-modified">161 If this property isn\[aq]t specified on the command line, then the</span>
<span class="line-modified">162 result is the same as though</span>
<span class="line-modified">163 \f[CB]\-J\-Dsun.rmi.activation.execPolicy=default\f[R] were specified.</span>
<span class="line-modified">164 .RS</span>
<span class="line-modified">165 .PP</span>
<span class="line-modified">166 The possible values of \f[I]policy\f[R] can be \f[CB]default\f[R],</span>
<span class="line-modified">167 \f[I]policyClassName\f[R], or \f[CB]none\f[R].</span>
<span class="line-modified">168 .IP \[bu] 2</span>
<span class="line-modified">169 \f[CB]default\f[R]</span>
<span class="line-modified">170 .RS 2</span>
<span class="line-modified">171 .PP</span>
<span class="line-modified">172 The \f[CB]default\f[R] or unspecified value \f[CB]execPolicy\f[R] allows the</span>
<span class="line-modified">173 \f[CB]rmid\f[R] command to execute commands with specific command\-line</span>
<span class="line-modified">174 options only when the \f[CB]rmid\f[R] command was granted permission to</span>
<span class="line-modified">175 execute those commands and options in the security policy file that the</span>
<span class="line-modified">176 \f[CB]rmid\f[R] command uses.</span>
<span class="line-modified">177 Only the default activation group implementation can be used with the</span>
<span class="line-modified">178 default execution policy.</span>
<span class="line-modified">179 .PP</span>
<span class="line-modified">180 The \f[CB]rmid\f[R] command starts a JVM for an activation group with the</span>
<span class="line-modified">181 information in the group\[aq]s registered activation group descriptor,</span>
<span class="line-modified">182 \f[CB]ActivationGroupDesc\f[R].</span>
<span class="line-modified">183 The group descriptor specifies an optional</span>
<span class="line-modified">184 \f[CB]ActivationGroupDesc.CommandEnvironment\f[R] that includes the</span>
<span class="line-modified">185 command to execute to start the activation group and any command\-line</span>
<span class="line-modified">186 options to be added to the command line.</span>
<span class="line-modified">187 By default, the \f[CB]rmid\f[R] command uses the \f[CB]java\f[R] command</span>
<span class="line-modified">188 found in \f[CB]java.home\f[R].</span>
<span class="line-modified">189 The group descriptor also contains properties overrides that are added</span>
<span class="line-modified">190 to the command line as options defined as:</span>
<span class="line-modified">191 \f[CB]\-D\f[R]\f[I]property\f[R]\f[CB]=\f[R]\f[I]value\f[R].</span>
<span class="line-modified">192 The \f[CB]com.sun.rmi.rmid.ExecPermission\f[R] permission grants the</span>
<span class="line-modified">193 \f[CB]rmid\f[R] command permission to execute a command that\[aq]s</span>
<span class="line-modified">194 specified in the group descriptor\[aq]s \f[CB]CommandEnvironment\f[R] to</span>
<span class="line-modified">195 start an activation group.</span>
<span class="line-modified">196 The \f[CB]com.sun.rmi.rmid.ExecOptionPermission\f[R] permission enables</span>
<span class="line-modified">197 the \f[CB]rmid\f[R] command to use command\-line options, specified as</span>
<span class="line-modified">198 properties overrides in the group descriptor or as options in the</span>
<span class="line-modified">199 \f[CB]CommandEnvironment\f[R] when starting the activation group.</span>
<span class="line-modified">200 When granting the \f[CB]rmid\f[R] command permission to execute various</span>
<span class="line-modified">201 commands and options, the permissions \f[CB]ExecPermission\f[R] and</span>
<span class="line-modified">202 \f[CB]ExecOptionPermission\f[R] must be granted to all code sources.</span>
<span class="line-modified">203 .PP</span>
<span class="line-modified">204 \f[CB]ExecPermission\f[R] class: Represents permission for the</span>
<span class="line-modified">205 \f[CB]rmid\f[R] command to execute a specific command to start an</span>
<span class="line-modified">206 activation group.</span>
<span class="line-modified">207 .PP</span>
<span class="line-modified">208 \f[CB]ExecPermission\f[R] syntax: The name of \f[CB]ExecPermission\f[R] is</span>
<span class="line-modified">209 the path name of a command to grant the \f[CB]rmid\f[R] command permission</span>
<span class="line-modified">210 to execute.</span>
<span class="line-modified">211 .PP</span>
<span class="line-modified">212 A path name that ends in a slash (\f[CB]/\f[R]) and an asterisk</span>
<span class="line-modified">213 (\f[CB]*\f[R]) indicates that all of the files are contained in that</span>
<span class="line-modified">214 directory where the slash is the file\-separator character,</span>
<span class="line-modified">215 \f[CB]File.separatorChar\f[R].</span>
<span class="line-modified">216 .PP</span>
<span class="line-modified">217 A path name that ends in a slash (\f[CB]/\f[R]) and a minus sign</span>
<span class="line-modified">218 (\f[CB]\-\f[R]) indicates that all files and subdirectories are contained</span>
<span class="line-modified">219 in that directory (recursively).</span>
<span class="line-modified">220 .PP</span>
<span class="line-modified">221 A path name that consists of the special token \f[CB]&lt;&lt;ALL\ FILES&gt;&gt;\f[R]</span>
<span class="line-modified">222 matches any file.</span>
<span class="line-modified">223 .PP</span>
<span class="line-modified">224 A path name that consists of an asterisk (\f[CB]*\f[R]) indicates that all</span>
<span class="line-modified">225 the files are in the current directory.</span>
<span class="line-modified">226 .PP</span>
<span class="line-modified">227 A path name that consists of a minus sign (\f[CB]\-\f[R]) indicates that</span>
<span class="line-modified">228 all the files are in the current directory and (recursively) all files</span>
<span class="line-modified">229 and subdirectories are contained in the current directory.</span>
<span class="line-modified">230 .PP</span>
<span class="line-modified">231 \f[CB]ExecOptionPermission\f[R] class: Represents permission for the</span>
<span class="line-added">232 \f[CB]rmid\f[R] command to use a specific command\-line option when</span>
<span class="line-added">233 starting an activation group.</span>
<span class="line-added">234 The name of \f[CB]ExecOptionPermission\f[R] is the value of a</span>
<span class="line-added">235 command\-line option.</span>
<span class="line-added">236 .PP</span>
<span class="line-added">237 \f[CB]ExecOptionPermission\f[R] syntax: Options support a limited wild</span>
<span class="line-added">238 card scheme.</span>
<span class="line-added">239 An asterisk signifies a wild card match, and it can appear as the option</span>
<span class="line-added">240 name itself (matches any option), or an asterisk (*) can appear at the</span>
<span class="line-added">241 end of the option name only when the asterisk (\f[CB]*\f[R]) follows a dot</span>
<span class="line-added">242 (\f[CB]\&amp;.\f[R]) or an equals sign (\f[CB]=\f[R]).</span>
<span class="line-added">243 .PP</span>
<span class="line-added">244 For example: \f[CB]*\f[R] or \f[CB]\-Dmydir.*\f[R] or \f[CB]\-Da.b.c=*\f[R] is</span>
<span class="line-added">245 valid, but \f[CB]*mydir\f[R] or \f[CB]\-Da*b\f[R] or \f[CB]ab*\f[R] isn\[aq]t</span>
<span class="line-added">246 valid.</span>
<span class="line-added">247 .PP</span>
<span class="line-added">248 \f[B]Policy file for rmid\f[R]</span>
<span class="line-added">249 .PP</span>
<span class="line-added">250 When you grant the \f[CB]rmid\f[R] command permission to execute various</span>
<span class="line-added">251 commands and options, the permissions \f[CB]ExecPermission\f[R] and</span>
<span class="line-added">252 \f[CB]ExecOptionPermission\f[R] must be granted to all code sources</span>
<span class="line-added">253 (universally).</span>
<span class="line-added">254 It is safe to grant these permissions universally because only the</span>
<span class="line-added">255 \f[CB]rmid\f[R] command checks these permissions.</span>
<span class="line-added">256 .PP</span>
<span class="line-added">257 An example policy file that grants various execute permissions to the</span>
<span class="line-added">258 \f[CB]rmid\f[R] command is:</span>
<span class="line-added">259 .IP \[bu] 2</span>
<span class="line-added">260 \f[B]Oracle Solaris:\f[R]</span>
<span class="line-added">261 .RS 2</span>
<span class="line-added">262 .IP</span>
<span class="line-added">263 .nf</span>
<span class="line-added">264 \f[CB]</span>
<span class="line-added">265 grant\ {</span>
<span class="line-added">266 \ \ \ \ permission\ com.sun.rmi.rmid.ExecPermission</span>
<span class="line-added">267 \ \ \ \ \ \ \ \ &quot;/files/apps/java/jdk1.7.0/solaris/bin/java&quot;;</span>
268 
<span class="line-modified">269 \ \ \ \ permission\ com.sun.rmi.rmid.ExecPermission</span>
<span class="line-added">270 \ \ \ \ \ \ \ \ &quot;/files/apps/rmidcmds/*&quot;;</span>
271 
<span class="line-modified">272 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission</span>
<span class="line-modified">273 \ \ \ \ \ \ \ \ &quot;\-Djava.security.policy=/files/policies/group.policy&quot;;</span>


274 
<span class="line-modified">275 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission</span>
<span class="line-added">276 \ \ \ \ \ \ \ \ &quot;\-Djava.security.debug=*&quot;;</span>
277 
<span class="line-modified">278 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission</span>
<span class="line-modified">279 \ \ \ \ \ \ \ \ &quot;\-Dsun.rmi.*&quot;;</span>
<span class="line-modified">280 };</span>
<span class="line-modified">281 \f[R]</span>
<span class="line-modified">282 .fi</span>
<span class="line-modified">283 .RE</span>
<span class="line-modified">284 .IP \[bu] 2</span>
<span class="line-modified">285 \f[B]Windows:\f[R]</span>
<span class="line-modified">286 .RS 2</span>
<span class="line-modified">287 .IP</span>
<span class="line-modified">288 .nf</span>
<span class="line-modified">289 \f[CB]</span>
<span class="line-added">290 grant\ {</span>
<span class="line-added">291 \ \ \ \ permission\ com.sun.rmi.rmid.ExecPermission</span>
<span class="line-added">292 \ \ \ \ \ \ \ \ &quot;c:\\\\files\\\\apps\\\\java\\\\jdk1.7.0\\\\win\\\\bin\\\\java&quot;;</span>
293 
<span class="line-added">294 \ \ \ \ permission\ com.sun.rmi.rmid.ExecPermission</span>
<span class="line-added">295 \ \ \ \ \ \ \ \ &quot;c:\\\\files\\\\apps\\\\rmidcmds\\\\*&quot;;</span>
296 
<span class="line-modified">297 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission</span>
<span class="line-modified">298 \ \ \ \ \ \ \ \ &quot;\-Djava.security.policy=c:\\\\files\\\\policies\\\\group.policy&quot;;</span>


299 
<span class="line-modified">300 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission</span>
<span class="line-modified">301 \ \ \ \ \ \ \ \ &quot;\-Djava.security.debug=*&quot;;</span>
302 
<span class="line-added">303 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission</span>
<span class="line-added">304 \ \ \ \ \ \ \ \ &quot;\-Dsun.rmi.*&quot;;</span>
<span class="line-added">305 };</span>
<span class="line-added">306 \f[R]</span>
<span class="line-added">307 .fi</span>
<span class="line-added">308 .RE</span>
<span class="line-added">309 .PP</span>
<span class="line-added">310 The first permission granted allows the \f[CB]rmid\f[R] command to execute</span>
<span class="line-added">311 the 1.7.0 release of the \f[CB]java\f[R] command, specified by its</span>
<span class="line-added">312 explicit path name.</span>
<span class="line-added">313 By default, the version of the \f[CB]java\f[R] command found in</span>
<span class="line-added">314 \f[CB]java.home\f[R] is used (the same one that the \f[CB]rmid\f[R] command</span>
<span class="line-added">315 uses), and doesn\[aq]t need to be specified in the policy file.</span>
<span class="line-added">316 The second permission allows the \f[CB]rmid\f[R] command to execute any</span>
<span class="line-added">317 command in either the directory \f[CB]/files/apps/rmidcmds\f[R] (Oracle</span>
<span class="line-added">318 Solaris, Linux, and macOS) or the directory</span>
<span class="line-added">319 \f[CB]c:\\files\\apps\\rmidcmds\\\f[R] (Windows).</span>
<span class="line-added">320 .PP</span>
<span class="line-added">321 The third permission granted, \f[CB]ExecOptionPermission\f[R], allows the</span>
<span class="line-added">322 \f[CB]rmid\f[R] command to start an activation group that defines the</span>
<span class="line-added">323 security policy file to be either \f[CB]/files/policies/group.policy\f[R]</span>
<span class="line-added">324 (Oracle Solaris) or \f[CB]c:\\files\\policies\\group.policy\f[R]</span>
<span class="line-added">325 (Windows).</span>
<span class="line-added">326 The next permission allows the \f[CB]java.security.debug\ property\f[R] to</span>
<span class="line-added">327 be used by an activation group.</span>
<span class="line-added">328 The last permission allows any property in the</span>
<span class="line-added">329 \f[CB]sun.rmi\ property\f[R] name hierarchy to be used by activation</span>
<span class="line-added">330 groups.</span>
<span class="line-added">331 .PP</span>
<span class="line-added">332 To start the \f[CB]rmid\f[R] command with a policy file, the</span>
<span class="line-added">333 \f[CB]java.security.policy\f[R] property needs to be specified on the</span>
<span class="line-added">334 \f[CB]rmid\f[R] command line, for example:</span>
<span class="line-added">335 .PP</span>
<span class="line-added">336 \f[CB]rmid\ \-J\-Djava.security.policy=rmid.policy\f[R].</span>
<span class="line-added">337 .RE</span>
<span class="line-added">338 .IP \[bu] 2</span>
<span class="line-added">339 \f[I]policyClassName\f[R]</span>
<span class="line-added">340 .RS 2</span>
<span class="line-added">341 .PP</span>
<span class="line-added">342 If the default behavior isn\[aq]t flexible enough, then an administrator</span>
<span class="line-added">343 can provide, when starting the \f[CB]rmid\f[R] command, the name of a</span>
<span class="line-added">344 class whose \f[CB]checkExecCommand\f[R] method is executed to check</span>
<span class="line-added">345 commands to be executed by the \f[CB]rmid\f[R] command.</span>
<span class="line-added">346 .PP</span>
<span class="line-added">347 The \f[CB]policyClassName\f[R] specifies a public class with a public,</span>
<span class="line-added">348 no\-argument constructor and an implementation of the following</span>
<span class="line-added">349 \f[CB]checkExecCommand\f[R] method:</span>
<span class="line-added">350 .IP</span>
<span class="line-added">351 .nf</span>
<span class="line-added">352 \f[CB]</span>
<span class="line-added">353 \ public\ void\ checkExecCommand(ActivationGroupDesc\ desc,\ String[]\ command)</span>
<span class="line-added">354 \ \ \ \ \ \ \ \ throws\ SecurityException;</span>
<span class="line-added">355 \f[R]</span>
<span class="line-added">356 .fi</span>
<span class="line-added">357 .PP</span>
<span class="line-added">358 Before starting an activation group, the \f[CB]rmid\f[R] command calls the</span>
<span class="line-added">359 policy\[aq]s \f[CB]checkExecCommand\f[R] method and passes to it the</span>
<span class="line-added">360 activation group descriptor and an array that contains the complete</span>
<span class="line-added">361 command to start the activation group.</span>
<span class="line-added">362 If the \f[CB]checkExecCommand\f[R] throws a \f[CB]SecurityException\f[R],</span>
<span class="line-added">363 then the \f[CB]rmid\f[R] command doesn\[aq]t start the activation group</span>
<span class="line-added">364 and an \f[CB]ActivationException\f[R] is thrown to the caller attempting</span>
<span class="line-added">365 to activate the object.</span>
<span class="line-added">366 .RE</span>
<span class="line-added">367 .IP \[bu] 2</span>
<span class="line-added">368 \f[CB]none\f[R]</span>
<span class="line-added">369 .RS 2</span>
<span class="line-added">370 .PP</span>
<span class="line-added">371 If the \f[CB]sun.rmi.activation.execPolicy\f[R] property value is</span>
<span class="line-added">372 \f[CB]none\f[R], then the \f[CB]rmid\f[R] command doesn\[aq]t perform any</span>
<span class="line-added">373 validation of commands to start activation groups.</span>
<span class="line-added">374 .RE</span>
<span class="line-added">375 .RE</span>
376 .TP
<span class="line-modified">377 .B \f[CB]\-log\f[R] \f[I]dir\f[R]</span>
<span class="line-modified">378 Specifies the name of the directory that the activation system daemon</span>
<span class="line-modified">379 uses to write its database and associated information.</span>
<span class="line-added">380 The log directory defaults to creating a log, in the directory in which</span>
<span class="line-added">381 the \f[CB]rmid\f[R] command was executed.</span>
<span class="line-added">382 .RS</span>
<span class="line-added">383 .RE</span>
384 .TP
<span class="line-modified">385 .B \f[CB]\-port\f[R] \f[I]port\f[R]</span>
<span class="line-modified">386 Specifies the port that the registry uses.</span>
<span class="line-modified">387 The activation system daemon binds \f[CB]ActivationSystem\f[R], with the</span>
<span class="line-modified">388 name \f[CB]java.rmi.activation.ActivationSystem\f[R], in this registry.</span>
<span class="line-modified">389 The \f[CB]ActivationSystem\f[R] on the local machine can be obtained using</span>
<span class="line-modified">390 the following \f[CB]Naming.lookup\f[R] method call:</span>
<span class="line-modified">391 .RS</span>
<span class="line-modified">392 .IP</span>
<span class="line-modified">393 .nf</span>
<span class="line-modified">394 \f[CB]</span>
<span class="line-modified">395 import\ java.rmi.*;</span>
<span class="line-modified">396 import\ java.rmi.activation.*;</span>











397 
<span class="line-added">398 ActivationSystem\ system;\ system\ =\ (ActivationSystem)</span>
<span class="line-added">399 Naming.lookup(&quot;//:port/java.rmi.activation.ActivationSystem&quot;);</span>
<span class="line-added">400 \f[R]</span>
<span class="line-added">401 .fi</span>
<span class="line-added">402 .RE</span>
403 .TP
<span class="line-modified">404 .B \f[CB]\-stop\f[R]</span>
<span class="line-modified">405 Stops the current invocation of the \f[CB]rmid\f[R] command for a port</span>
<span class="line-modified">406 specified by the \f[CB]\-port\f[R] option.</span>
<span class="line-modified">407 If no port is specified, then this option stops the \f[CB]rmid\f[R]</span>
<span class="line-modified">408 invocation running on port 1098.</span>
<span class="line-modified">409 .RS</span>








410 .RE



</pre>
</td>
</tr>
</table>
<center><a href="../classes/sun/rmi/transport/tcp/TCPTransport.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="rmiregistry.1.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>