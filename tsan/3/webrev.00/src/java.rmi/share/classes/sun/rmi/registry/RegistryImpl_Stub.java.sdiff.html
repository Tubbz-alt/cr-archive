<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.rmi/share/classes/sun/rmi/registry/RegistryImpl_Stub.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="RegistryImpl_Skel.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../runtime/Log.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.rmi/share/classes/sun/rmi/registry/RegistryImpl_Stub.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2017, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 package sun.rmi.registry;





 27 /**
 28  * Stubs to invoke RegistryImpl remote methods.
 29  * Originally generated from RMIC but frozen to match RegistryImpl_Skel.
 30  */
 31 @SuppressWarnings({&quot;deprecation&quot;, &quot;serial&quot;})
 32 public final class RegistryImpl_Stub
 33         extends java.rmi.server.RemoteStub
 34         implements java.rmi.registry.Registry, java.rmi.Remote {
 35     private static final java.rmi.server.Operation[] operations = {
 36             new java.rmi.server.Operation(&quot;void bind(java.lang.String, java.rmi.Remote)&quot;),
 37             new java.rmi.server.Operation(&quot;java.lang.String list()[]&quot;),
 38             new java.rmi.server.Operation(&quot;java.rmi.Remote lookup(java.lang.String)&quot;),
 39             new java.rmi.server.Operation(&quot;void rebind(java.lang.String, java.rmi.Remote)&quot;),
 40             new java.rmi.server.Operation(&quot;void unbind(java.lang.String)&quot;)
 41     };
 42 
 43     private static final long interfaceHash = 4905912898345647071L;
 44 
 45     // constructors
 46     public RegistryImpl_Stub() {
 47         super();
 48     }
 49 
 50     public RegistryImpl_Stub(java.rmi.server.RemoteRef ref) {
 51         super(ref);
 52     }
 53 
 54     // methods from remote interfaces
 55 
 56     // implementation of bind(String, Remote)
 57     public void bind(java.lang.String $param_String_1, java.rmi.Remote $param_Remote_2)
 58             throws java.rmi.AccessException, java.rmi.AlreadyBoundException, java.rmi.RemoteException {
 59         try {
<span class="line-modified"> 60             java.rmi.server.RemoteCall call = ref.newCall((java.rmi.server.RemoteObject) this, operations, 0, interfaceHash);</span>
 61             try {
 62                 java.io.ObjectOutput out = call.getOutputStream();
 63                 out.writeObject($param_String_1);
 64                 out.writeObject($param_Remote_2);
 65             } catch (java.io.IOException e) {
 66                 throw new java.rmi.MarshalException(&quot;error marshalling arguments&quot;, e);
 67             }
 68             ref.invoke(call);
 69             ref.done(call);
 70         } catch (java.lang.RuntimeException e) {
 71             throw e;
 72         } catch (java.rmi.RemoteException e) {
 73             throw e;
 74         } catch (java.rmi.AlreadyBoundException e) {
 75             throw e;
 76         } catch (java.lang.Exception e) {
 77             throw new java.rmi.UnexpectedException(&quot;undeclared checked exception&quot;, e);
 78         }
 79     }
 80 
 81     // implementation of list()
 82     public java.lang.String[] list()
 83             throws java.rmi.AccessException, java.rmi.RemoteException {
 84         try {
<span class="line-modified"> 85             java.rmi.server.RemoteCall call = ref.newCall((java.rmi.server.RemoteObject) this, operations, 1, interfaceHash);</span>
 86             ref.invoke(call);
 87             java.lang.String[] $result;
 88             try {
 89                 java.io.ObjectInput in = call.getInputStream();
 90                 $result = (java.lang.String[]) in.readObject();
<span class="line-modified"> 91             } catch (java.io.IOException e) {</span>
<span class="line-modified"> 92                 throw new java.rmi.UnmarshalException(&quot;error unmarshalling return&quot;, e);</span>
<span class="line-removed"> 93             } catch (java.lang.ClassNotFoundException e) {</span>
 94                 throw new java.rmi.UnmarshalException(&quot;error unmarshalling return&quot;, e);
 95             } finally {
 96                 ref.done(call);
 97             }
 98             return $result;
 99         } catch (java.lang.RuntimeException e) {
100             throw e;
101         } catch (java.rmi.RemoteException e) {
102             throw e;
103         } catch (java.lang.Exception e) {
104             throw new java.rmi.UnexpectedException(&quot;undeclared checked exception&quot;, e);
105         }
106     }
107 
108     // implementation of lookup(String)
109     public java.rmi.Remote lookup(java.lang.String $param_String_1)
110             throws java.rmi.AccessException, java.rmi.NotBoundException, java.rmi.RemoteException {
111         try {
<span class="line-modified">112             java.rmi.server.RemoteCall call = ref.newCall((java.rmi.server.RemoteObject) this, operations, 2, interfaceHash);</span>
113             try {
114                 java.io.ObjectOutput out = call.getOutputStream();
115                 out.writeObject($param_String_1);
116             } catch (java.io.IOException e) {
117                 throw new java.rmi.MarshalException(&quot;error marshalling arguments&quot;, e);
118             }
119             ref.invoke(call);
120             java.rmi.Remote $result;
121             try {
122                 java.io.ObjectInput in = call.getInputStream();
123                 $result = (java.rmi.Remote) in.readObject();
<span class="line-modified">124             } catch (java.io.IOException e) {</span>
<span class="line-modified">125                 throw new java.rmi.UnmarshalException(&quot;error unmarshalling return&quot;, e);</span>
<span class="line-removed">126             } catch (java.lang.ClassNotFoundException e) {</span>
127                 throw new java.rmi.UnmarshalException(&quot;error unmarshalling return&quot;, e);
128             } finally {
129                 ref.done(call);
130             }
131             return $result;
132         } catch (java.lang.RuntimeException e) {
133             throw e;
134         } catch (java.rmi.RemoteException e) {
135             throw e;
136         } catch (java.rmi.NotBoundException e) {
137             throw e;
138         } catch (java.lang.Exception e) {
139             throw new java.rmi.UnexpectedException(&quot;undeclared checked exception&quot;, e);
140         }
141     }
142 
143     // implementation of rebind(String, Remote)
144     public void rebind(java.lang.String $param_String_1, java.rmi.Remote $param_Remote_2)
145             throws java.rmi.AccessException, java.rmi.RemoteException {
146         try {
<span class="line-modified">147             java.rmi.server.RemoteCall call = ref.newCall((java.rmi.server.RemoteObject) this, operations, 3, interfaceHash);</span>
148             try {
149                 java.io.ObjectOutput out = call.getOutputStream();
150                 out.writeObject($param_String_1);
151                 out.writeObject($param_Remote_2);
152             } catch (java.io.IOException e) {
153                 throw new java.rmi.MarshalException(&quot;error marshalling arguments&quot;, e);
154             }
155             ref.invoke(call);
156             ref.done(call);
157         } catch (java.lang.RuntimeException e) {
158             throw e;
159         } catch (java.rmi.RemoteException e) {
160             throw e;
161         } catch (java.lang.Exception e) {
162             throw new java.rmi.UnexpectedException(&quot;undeclared checked exception&quot;, e);
163         }
164     }
165 
166     // implementation of unbind(String)
167     public void unbind(java.lang.String $param_String_1)
168             throws java.rmi.AccessException, java.rmi.NotBoundException, java.rmi.RemoteException {
169         try {
<span class="line-modified">170             java.rmi.server.RemoteCall call = ref.newCall((java.rmi.server.RemoteObject) this, operations, 4, interfaceHash);</span>
171             try {
172                 java.io.ObjectOutput out = call.getOutputStream();
173                 out.writeObject($param_String_1);
174             } catch (java.io.IOException e) {
175                 throw new java.rmi.MarshalException(&quot;error marshalling arguments&quot;, e);
176             }
177             ref.invoke(call);
178             ref.done(call);
179         } catch (java.lang.RuntimeException e) {
180             throw e;
181         } catch (java.rmi.RemoteException e) {
182             throw e;
183         } catch (java.rmi.NotBoundException e) {
184             throw e;
185         } catch (java.lang.Exception e) {
186             throw new java.rmi.UnexpectedException(&quot;undeclared checked exception&quot;, e);
187         }
188     }
189 }
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2017, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 package sun.rmi.registry;
<span class="line-added"> 27 </span>
<span class="line-added"> 28 import java.io.IOException;</span>
<span class="line-added"> 29 </span>
<span class="line-added"> 30 import sun.rmi.transport.StreamRemoteCall;</span>
<span class="line-added"> 31 </span>
 32 /**
 33  * Stubs to invoke RegistryImpl remote methods.
 34  * Originally generated from RMIC but frozen to match RegistryImpl_Skel.
 35  */
 36 @SuppressWarnings({&quot;deprecation&quot;, &quot;serial&quot;})
 37 public final class RegistryImpl_Stub
 38         extends java.rmi.server.RemoteStub
 39         implements java.rmi.registry.Registry, java.rmi.Remote {
 40     private static final java.rmi.server.Operation[] operations = {
 41             new java.rmi.server.Operation(&quot;void bind(java.lang.String, java.rmi.Remote)&quot;),
 42             new java.rmi.server.Operation(&quot;java.lang.String list()[]&quot;),
 43             new java.rmi.server.Operation(&quot;java.rmi.Remote lookup(java.lang.String)&quot;),
 44             new java.rmi.server.Operation(&quot;void rebind(java.lang.String, java.rmi.Remote)&quot;),
 45             new java.rmi.server.Operation(&quot;void unbind(java.lang.String)&quot;)
 46     };
 47 
 48     private static final long interfaceHash = 4905912898345647071L;
 49 
 50     // constructors
 51     public RegistryImpl_Stub() {
 52         super();
 53     }
 54 
 55     public RegistryImpl_Stub(java.rmi.server.RemoteRef ref) {
 56         super(ref);
 57     }
 58 
 59     // methods from remote interfaces
 60 
 61     // implementation of bind(String, Remote)
 62     public void bind(java.lang.String $param_String_1, java.rmi.Remote $param_Remote_2)
 63             throws java.rmi.AccessException, java.rmi.AlreadyBoundException, java.rmi.RemoteException {
 64         try {
<span class="line-modified"> 65             StreamRemoteCall call = (StreamRemoteCall)ref.newCall(this, operations, 0, interfaceHash);</span>
 66             try {
 67                 java.io.ObjectOutput out = call.getOutputStream();
 68                 out.writeObject($param_String_1);
 69                 out.writeObject($param_Remote_2);
 70             } catch (java.io.IOException e) {
 71                 throw new java.rmi.MarshalException(&quot;error marshalling arguments&quot;, e);
 72             }
 73             ref.invoke(call);
 74             ref.done(call);
 75         } catch (java.lang.RuntimeException e) {
 76             throw e;
 77         } catch (java.rmi.RemoteException e) {
 78             throw e;
 79         } catch (java.rmi.AlreadyBoundException e) {
 80             throw e;
 81         } catch (java.lang.Exception e) {
 82             throw new java.rmi.UnexpectedException(&quot;undeclared checked exception&quot;, e);
 83         }
 84     }
 85 
 86     // implementation of list()
 87     public java.lang.String[] list()
 88             throws java.rmi.AccessException, java.rmi.RemoteException {
 89         try {
<span class="line-modified"> 90             StreamRemoteCall call = (StreamRemoteCall)ref.newCall(this, operations, 1, interfaceHash);</span>
 91             ref.invoke(call);
 92             java.lang.String[] $result;
 93             try {
 94                 java.io.ObjectInput in = call.getInputStream();
 95                 $result = (java.lang.String[]) in.readObject();
<span class="line-modified"> 96             } catch (ClassCastException | IOException | ClassNotFoundException e) {</span>
<span class="line-modified"> 97                 call.discardPendingRefs();</span>

 98                 throw new java.rmi.UnmarshalException(&quot;error unmarshalling return&quot;, e);
 99             } finally {
100                 ref.done(call);
101             }
102             return $result;
103         } catch (java.lang.RuntimeException e) {
104             throw e;
105         } catch (java.rmi.RemoteException e) {
106             throw e;
107         } catch (java.lang.Exception e) {
108             throw new java.rmi.UnexpectedException(&quot;undeclared checked exception&quot;, e);
109         }
110     }
111 
112     // implementation of lookup(String)
113     public java.rmi.Remote lookup(java.lang.String $param_String_1)
114             throws java.rmi.AccessException, java.rmi.NotBoundException, java.rmi.RemoteException {
115         try {
<span class="line-modified">116             StreamRemoteCall call = (StreamRemoteCall)ref.newCall(this, operations, 2, interfaceHash);</span>
117             try {
118                 java.io.ObjectOutput out = call.getOutputStream();
119                 out.writeObject($param_String_1);
120             } catch (java.io.IOException e) {
121                 throw new java.rmi.MarshalException(&quot;error marshalling arguments&quot;, e);
122             }
123             ref.invoke(call);
124             java.rmi.Remote $result;
125             try {
126                 java.io.ObjectInput in = call.getInputStream();
127                 $result = (java.rmi.Remote) in.readObject();
<span class="line-modified">128             } catch (ClassCastException | IOException | ClassNotFoundException e) {</span>
<span class="line-modified">129                 call.discardPendingRefs();</span>

130                 throw new java.rmi.UnmarshalException(&quot;error unmarshalling return&quot;, e);
131             } finally {
132                 ref.done(call);
133             }
134             return $result;
135         } catch (java.lang.RuntimeException e) {
136             throw e;
137         } catch (java.rmi.RemoteException e) {
138             throw e;
139         } catch (java.rmi.NotBoundException e) {
140             throw e;
141         } catch (java.lang.Exception e) {
142             throw new java.rmi.UnexpectedException(&quot;undeclared checked exception&quot;, e);
143         }
144     }
145 
146     // implementation of rebind(String, Remote)
147     public void rebind(java.lang.String $param_String_1, java.rmi.Remote $param_Remote_2)
148             throws java.rmi.AccessException, java.rmi.RemoteException {
149         try {
<span class="line-modified">150             StreamRemoteCall call = (StreamRemoteCall)ref.newCall(this, operations, 3, interfaceHash);</span>
151             try {
152                 java.io.ObjectOutput out = call.getOutputStream();
153                 out.writeObject($param_String_1);
154                 out.writeObject($param_Remote_2);
155             } catch (java.io.IOException e) {
156                 throw new java.rmi.MarshalException(&quot;error marshalling arguments&quot;, e);
157             }
158             ref.invoke(call);
159             ref.done(call);
160         } catch (java.lang.RuntimeException e) {
161             throw e;
162         } catch (java.rmi.RemoteException e) {
163             throw e;
164         } catch (java.lang.Exception e) {
165             throw new java.rmi.UnexpectedException(&quot;undeclared checked exception&quot;, e);
166         }
167     }
168 
169     // implementation of unbind(String)
170     public void unbind(java.lang.String $param_String_1)
171             throws java.rmi.AccessException, java.rmi.NotBoundException, java.rmi.RemoteException {
172         try {
<span class="line-modified">173             StreamRemoteCall call = (StreamRemoteCall)ref.newCall(this, operations, 4, interfaceHash);</span>
174             try {
175                 java.io.ObjectOutput out = call.getOutputStream();
176                 out.writeObject($param_String_1);
177             } catch (java.io.IOException e) {
178                 throw new java.rmi.MarshalException(&quot;error marshalling arguments&quot;, e);
179             }
180             ref.invoke(call);
181             ref.done(call);
182         } catch (java.lang.RuntimeException e) {
183             throw e;
184         } catch (java.rmi.RemoteException e) {
185             throw e;
186         } catch (java.rmi.NotBoundException e) {
187             throw e;
188         } catch (java.lang.Exception e) {
189             throw new java.rmi.UnexpectedException(&quot;undeclared checked exception&quot;, e);
190         }
191     }
192 }
</pre>
</td>
</tr>
</table>
<center><a href="RegistryImpl_Skel.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../runtime/Log.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>