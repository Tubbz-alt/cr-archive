<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/java.compiler/share/classes/javax/lang/model/AnnotatedConstruct.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /*
<a name="1" id="anc1"></a><span class="line-modified">  2  * Copyright (c) 2013, 2017, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 package javax.lang.model;
 27 
 28 import java.lang.annotation.*;
 29 import java.util.List;
 30 import javax.lang.model.element.*;
 31 import javax.lang.model.type.*;
 32 
 33 /**
 34  * Represents a construct that can be annotated.
 35  *
 36  * A construct is either an {@linkplain
 37  * javax.lang.model.element.Element element} or a {@linkplain
 38  * javax.lang.model.type.TypeMirror type}.  Annotations on an element
 39  * are on a &lt;em&gt;declaration&lt;/em&gt;, whereas annotations on a type are on
 40  * a specific &lt;em&gt;use&lt;/em&gt; of a type name.
 41  *
 42  * The terms &lt;em&gt;directly present&lt;/em&gt;, &lt;em&gt;present&lt;/em&gt;,
 43  * &lt;em&gt;indirectly present&lt;/em&gt;, and &lt;em&gt;associated &lt;/em&gt; are used
 44  * throughout this interface to describe precisely which annotations
 45  * are returned by the methods defined herein.
 46  *
 47  * &lt;p&gt;In the definitions below, an annotation &lt;i&gt;A&lt;/i&gt; has an
 48  * annotation type &lt;i&gt;AT&lt;/i&gt;. If &lt;i&gt;AT&lt;/i&gt; is a repeatable annotation
 49  * type, the type of the containing annotation is &lt;i&gt;ATC&lt;/i&gt;.
 50  *
 51  * &lt;p&gt;Annotation &lt;i&gt;A&lt;/i&gt; is &lt;em&gt;directly present&lt;/em&gt; on a construct
 52  * &lt;i&gt;C&lt;/i&gt; if either:
 53  *
 54  * &lt;ul&gt;
 55  *
 56  * &lt;li&gt;&lt;i&gt;A&lt;/i&gt; is explicitly or implicitly declared as applying to
 57  * the source code representation of &lt;i&gt;C&lt;/i&gt;.
 58  *
 59  * &lt;p&gt;Typically, if exactly one annotation of type &lt;i&gt;AT&lt;/i&gt; appears in
 60  * the source code of representation of &lt;i&gt;C&lt;/i&gt;, then &lt;i&gt;A&lt;/i&gt; is
 61  * explicitly declared as applying to &lt;i&gt;C&lt;/i&gt;.
 62  *
<a name="2" id="anc2"></a>







 63  * If there are multiple annotations of type &lt;i&gt;AT&lt;/i&gt; present on
 64  * &lt;i&gt;C&lt;/i&gt;, then if &lt;i&gt;AT&lt;/i&gt; is repeatable annotation type, an
 65  * annotation of type &lt;i&gt;ATC&lt;/i&gt; is {@linkplain javax.lang.model.util.Elements#getOrigin(AnnotatedConstruct, AnnotationMirror) implicitly declared} on &lt;i&gt;C&lt;/i&gt;.
<a name="3" id="anc3"></a><span class="line-removed"> 66  *</span>
 67  * &lt;li&gt; A representation of &lt;i&gt;A&lt;/i&gt; appears in the executable output
 68  * for &lt;i&gt;C&lt;/i&gt;, such as the {@code RuntimeVisibleAnnotations} or
 69  * {@code RuntimeVisibleParameterAnnotations} attributes of a class
 70  * file.
 71  *
 72  * &lt;/ul&gt;
 73  *
 74  * &lt;p&gt;An annotation &lt;i&gt;A&lt;/i&gt; is &lt;em&gt;present&lt;/em&gt; on a
 75  * construct &lt;i&gt;C&lt;/i&gt; if either:
 76  * &lt;ul&gt;
 77  *
 78  * &lt;li&gt;&lt;i&gt;A&lt;/i&gt; is directly present on &lt;i&gt;C&lt;/i&gt;.
 79  *
 80  * &lt;li&gt;No annotation of type &lt;i&gt;AT&lt;/i&gt; is directly present on
 81  * &lt;i&gt;C&lt;/i&gt;, and &lt;i&gt;C&lt;/i&gt; is a class and &lt;i&gt;AT&lt;/i&gt; is inheritable
 82  * and &lt;i&gt;A&lt;/i&gt; is present on the superclass of &lt;i&gt;C&lt;/i&gt;.
 83  *
 84  * &lt;/ul&gt;
 85  *
 86  * An annotation &lt;i&gt;A&lt;/i&gt; is &lt;em&gt;indirectly present&lt;/em&gt; on a construct
 87  * &lt;i&gt;C&lt;/i&gt; if both:
 88  *
 89  * &lt;ul&gt;
 90  *
 91  * &lt;li&gt;&lt;i&gt;AT&lt;/i&gt; is a repeatable annotation type with a containing
 92  * annotation type &lt;i&gt;ATC&lt;/i&gt;.
 93  *
 94  * &lt;li&gt;An annotation of type &lt;i&gt;ATC&lt;/i&gt; is directly present on
 95  * &lt;i&gt;C&lt;/i&gt; and &lt;i&gt;A&lt;/i&gt; is an annotation included in the result of
 96  * calling the {@code value} method of the directly present annotation
 97  * of type &lt;i&gt;ATC&lt;/i&gt;.
 98  *
 99  * &lt;/ul&gt;
100  *
101  * An annotation &lt;i&gt;A&lt;/i&gt; is &lt;em&gt;associated&lt;/em&gt; with a construct
102  * &lt;i&gt;C&lt;/i&gt; if either:
103  *
104  * &lt;ul&gt;
105  *
106  * &lt;li&gt; &lt;i&gt;A&lt;/i&gt; is directly or indirectly present on &lt;i&gt;C&lt;/i&gt;.
107  *
108  * &lt;li&gt; No annotation of type &lt;i&gt;AT&lt;/i&gt; is directly or indirectly
109  * present on &lt;i&gt;C&lt;/i&gt;, and &lt;i&gt;C&lt;/i&gt; is a class, and &lt;i&gt;AT&lt;/i&gt; is
110  * inheritable, and &lt;i&gt;A&lt;/i&gt; is associated with the superclass of
111  * &lt;i&gt;C&lt;/i&gt;.
112  *
113  * &lt;/ul&gt;
114  *
115  * @since 1.8
116  * @jls 9.6 Annotation Types
<a name="4" id="anc4"></a><span class="line-modified">117  * @jls 9.6.3.3 @Inherited</span>
118  */
119 public interface AnnotatedConstruct {
120     /**
121      * Returns the annotations that are &lt;em&gt;directly present&lt;/em&gt; on
122      * this construct.
123      *
124      * @return the annotations &lt;em&gt;directly present&lt;/em&gt; on this
125      * construct; an empty list if there are none
126      */
127     List&lt;? extends AnnotationMirror&gt; getAnnotationMirrors();
128 
129     /**
130      * Returns this construct&#39;s annotation of the specified type if
131      * such an annotation is &lt;em&gt;present&lt;/em&gt;, else {@code null}.
132      *
133      * &lt;p&gt; The annotation returned by this method could contain an element
134      * whose value is of type {@code Class}.
135      * This value cannot be returned directly:  information necessary to
136      * locate and load a class (such as the class loader to use) is
137      * not available, and the class might not be loadable at all.
138      * Attempting to read a {@code Class} object by invoking the relevant
139      * method on the returned annotation
140      * will result in a {@link MirroredTypeException},
141      * from which the corresponding {@link TypeMirror} may be extracted.
142      * Similarly, attempting to read a {@code Class[]}-valued element
143      * will result in a {@link MirroredTypesException}.
144      *
145      * &lt;blockquote&gt;
146      * &lt;i&gt;Note:&lt;/i&gt; This method is unlike others in this and related
147      * interfaces.  It operates on runtime reflective information &amp;mdash;
148      * representations of annotation types currently loaded into the
149      * VM &amp;mdash; rather than on the representations defined by and used
150      * throughout these interfaces.  Consequently, calling methods on
151      * the returned annotation object can throw many of the exceptions
152      * that can be thrown when calling methods on an annotation object
153      * returned by core reflection.  This method is intended for
154      * callers that are written to operate on a known, fixed set of
155      * annotation types.
156      * &lt;/blockquote&gt;
157      *
158      * @param &lt;A&gt;  the annotation type
159      * @param annotationType  the {@code Class} object corresponding to
160      *          the annotation type
161      * @return this construct&#39;s annotation for the specified
162      * annotation type if present, else {@code null}
163      *
164      * @see #getAnnotationMirrors()
165      * @see java.lang.reflect.AnnotatedElement#getAnnotation
166      * @see EnumConstantNotPresentException
167      * @see AnnotationTypeMismatchException
168      * @see IncompleteAnnotationException
169      * @see MirroredTypeException
170      * @see MirroredTypesException
171      * @jls 9.6.1 Annotation Type Elements
172      */
173     &lt;A extends Annotation&gt; A getAnnotation(Class&lt;A&gt; annotationType);
174 
175     /**
176      * Returns annotations that are &lt;em&gt;associated&lt;/em&gt; with this construct.
177      *
178      * If there are no annotations associated with this construct, the
179      * return value is an array of length 0.
180      *
181      * The order of annotations which are directly or indirectly
182      * present on a construct &lt;i&gt;C&lt;/i&gt; is computed as if indirectly present
183      * annotations on &lt;i&gt;C&lt;/i&gt; are directly present on &lt;i&gt;C&lt;/i&gt; in place of their
184      * container annotation, in the order in which they appear in the
185      * value element of the container annotation.
186      *
187      * The difference between this method and {@link #getAnnotation(Class)}
188      * is that this method detects if its argument is a &lt;em&gt;repeatable
189      * annotation type&lt;/em&gt;, and if so, attempts to find one or more
190      * annotations of that type by &quot;looking through&quot; a container annotation.
191      *
192      * &lt;p&gt; The annotations returned by this method could contain an element
193      * whose value is of type {@code Class}.
194      * This value cannot be returned directly:  information necessary to
195      * locate and load a class (such as the class loader to use) is
196      * not available, and the class might not be loadable at all.
197      * Attempting to read a {@code Class} object by invoking the relevant
198      * method on the returned annotation
199      * will result in a {@link MirroredTypeException},
200      * from which the corresponding {@link TypeMirror} may be extracted.
201      * Similarly, attempting to read a {@code Class[]}-valued element
202      * will result in a {@link MirroredTypesException}.
203      *
204      * &lt;blockquote&gt;
205      * &lt;i&gt;Note:&lt;/i&gt; This method is unlike others in this and related
206      * interfaces.  It operates on runtime reflective information &amp;mdash;
207      * representations of annotation types currently loaded into the
208      * VM &amp;mdash; rather than on the representations defined by and used
209      * throughout these interfaces.  Consequently, calling methods on
210      * the returned annotation object can throw many of the exceptions
211      * that can be thrown when calling methods on an annotation object
212      * returned by core reflection.  This method is intended for
213      * callers that are written to operate on a known, fixed set of
214      * annotation types.
215      * &lt;/blockquote&gt;
216      *
217      * @param &lt;A&gt;  the annotation type
218      * @param annotationType  the {@code Class} object corresponding to
219      *          the annotation type
220      * @return this construct&#39;s annotations for the specified annotation
221      *         type if present on this construct, else an empty array
222      *
223      * @see #getAnnotationMirrors()
224      * @see #getAnnotation(Class)
225      * @see java.lang.reflect.AnnotatedElement#getAnnotationsByType(Class)
226      * @see EnumConstantNotPresentException
227      * @see AnnotationTypeMismatchException
228      * @see IncompleteAnnotationException
229      * @see MirroredTypeException
230      * @see MirroredTypesException
231      * @jls 9.6 Annotation Types
232      * @jls 9.6.1 Annotation Type Elements
233      */
234     &lt;A extends Annotation&gt; A[] getAnnotationsByType(Class&lt;A&gt; annotationType);
235 }
<a name="5" id="anc5"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="5" type="hidden" />
</body>
</html>