<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.compiler/share/classes/javax/annotation/processing/Filer.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="AbstractProcessor.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="Generated.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.compiler/share/classes/javax/annotation/processing/Filer.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2005, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 43  * OutputStream} used to write the contents of the file.
 44  *
 45  * Three kinds of files are distinguished: source files, class files,
 46  * and auxiliary resource files.
 47  *
 48  * &lt;p&gt; There are two distinguished supported locations (subtrees
 49  * within the logical file system) where newly created files are
 50  * placed: one for {@linkplain
 51  * javax.tools.StandardLocation#SOURCE_OUTPUT new source files}, and
 52  * one for {@linkplain javax.tools.StandardLocation#CLASS_OUTPUT new
 53  * class files}.  (These might be specified on a tool&#39;s command line,
 54  * for example, using flags such as {@code -s} and {@code -d}.)  The
 55  * actual locations for new source files and new class files may or
 56  * may not be distinct on a particular run of the tool.  Resource
 57  * files may be created in either location.  The methods for reading
 58  * and writing resources take a relative name argument.  A relative
 59  * name is a non-null, non-empty sequence of path segments separated
 60  * by {@code &#39;/&#39;}; {@code &#39;.&#39;} and {@code &#39;..&#39;} are invalid path
 61  * segments.  A valid relative name must match the
 62  * &amp;quot;path-rootless&amp;quot; rule of &lt;a
<span class="line-modified"> 63  * href=&quot;http://www.ietf.org/html/rfc3986.txt&quot;&gt;RFC 3986&lt;/a&gt;, section</span>
 64  * 3.3.
 65  *
 66  * &lt;p&gt;The file creation methods take a variable number of arguments to
 67  * allow the &lt;em&gt;originating elements&lt;/em&gt; to be provided as hints to
 68  * the tool infrastructure to better manage dependencies.  The
 69  * originating elements are the types or packages (representing {@code
 70  * package-info} files) or modules (representing {@code
 71  * module-info} files) which caused an annotation processor to
 72  * attempt to create a new file.  For example, if an annotation
 73  * processor tries to create a source file, {@code
 74  * GeneratedFromUserSource}, in response to processing
 75  *
 76  * &lt;blockquote&gt;&lt;pre&gt;
 77  *  &amp;#64;Generate
 78  *  public class UserSource {}
 79  * &lt;/pre&gt;&lt;/blockquote&gt;
 80  *
 81  * the type element for {@code UserSource} should be passed as part of
 82  * the creation method call as in:
 83  *
</pre>
<hr />
<pre>
 96  * given pathname may be created only once.  If that file already
 97  * exists before the first attempt to create it, the old contents will
 98  * be deleted.  Any subsequent attempt to create the same file during
 99  * a run will throw a {@link FilerException}, as will attempting to
100  * create both a class file and source file for the same type name or
101  * same package name.  The {@linkplain Processor initial inputs} to
102  * the tool are considered to be created by the zeroth round;
103  * therefore, attempting to create a source or class file
104  * corresponding to one of those inputs will result in a {@link
105  * FilerException}.
106  *
107  * &lt;p&gt; In general, processors must not knowingly attempt to overwrite
108  * existing files that were not generated by some processor.  A {@code
109  * Filer} may reject attempts to open a file corresponding to an
110  * existing type, like {@code java.lang.Object}.  Likewise, the
111  * invoker of the annotation processing tool must not knowingly
112  * configure the tool such that the discovered processors will attempt
113  * to overwrite existing files that were not generated.
114  *
115  * &lt;p&gt; Processors can indicate a source or class file is generated by
<span class="line-modified">116  * including a {@code javax.annotation.Generated} annotation if the</span>
117  * environment is configured so that that type is accessible.
118  *
119  * @apiNote Some of the effect of overwriting a file can be
120  * achieved by using a &lt;i&gt;decorator&lt;/i&gt;-style pattern.  Instead of
121  * modifying a class directly, the class is designed so that either
122  * its superclass is generated by annotation processing or subclasses
123  * of the class are generated by annotation processing.  If the
124  * subclasses are generated, the parent class may be designed to use
125  * factories instead of public constructors so that only subclass
126  * instances would be presented to clients of the parent class.
127  *
128  * @author Joseph D. Darcy
129  * @author Scott Seligman
130  * @author Peter von der Ah&amp;eacute;
131  * @since 1.6
132  */
133 public interface Filer {
134     /**
135      * Creates a new source file and returns an object to allow
136      * writing to it. A source file for a type, or a package can
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2005, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 43  * OutputStream} used to write the contents of the file.
 44  *
 45  * Three kinds of files are distinguished: source files, class files,
 46  * and auxiliary resource files.
 47  *
 48  * &lt;p&gt; There are two distinguished supported locations (subtrees
 49  * within the logical file system) where newly created files are
 50  * placed: one for {@linkplain
 51  * javax.tools.StandardLocation#SOURCE_OUTPUT new source files}, and
 52  * one for {@linkplain javax.tools.StandardLocation#CLASS_OUTPUT new
 53  * class files}.  (These might be specified on a tool&#39;s command line,
 54  * for example, using flags such as {@code -s} and {@code -d}.)  The
 55  * actual locations for new source files and new class files may or
 56  * may not be distinct on a particular run of the tool.  Resource
 57  * files may be created in either location.  The methods for reading
 58  * and writing resources take a relative name argument.  A relative
 59  * name is a non-null, non-empty sequence of path segments separated
 60  * by {@code &#39;/&#39;}; {@code &#39;.&#39;} and {@code &#39;..&#39;} are invalid path
 61  * segments.  A valid relative name must match the
 62  * &amp;quot;path-rootless&amp;quot; rule of &lt;a
<span class="line-modified"> 63  * href=&quot;http://www.ietf.org/rfc/rfc3986.txt&quot;&gt;RFC&amp;nbsp;3986&lt;/a&gt;, section</span>
 64  * 3.3.
 65  *
 66  * &lt;p&gt;The file creation methods take a variable number of arguments to
 67  * allow the &lt;em&gt;originating elements&lt;/em&gt; to be provided as hints to
 68  * the tool infrastructure to better manage dependencies.  The
 69  * originating elements are the types or packages (representing {@code
 70  * package-info} files) or modules (representing {@code
 71  * module-info} files) which caused an annotation processor to
 72  * attempt to create a new file.  For example, if an annotation
 73  * processor tries to create a source file, {@code
 74  * GeneratedFromUserSource}, in response to processing
 75  *
 76  * &lt;blockquote&gt;&lt;pre&gt;
 77  *  &amp;#64;Generate
 78  *  public class UserSource {}
 79  * &lt;/pre&gt;&lt;/blockquote&gt;
 80  *
 81  * the type element for {@code UserSource} should be passed as part of
 82  * the creation method call as in:
 83  *
</pre>
<hr />
<pre>
 96  * given pathname may be created only once.  If that file already
 97  * exists before the first attempt to create it, the old contents will
 98  * be deleted.  Any subsequent attempt to create the same file during
 99  * a run will throw a {@link FilerException}, as will attempting to
100  * create both a class file and source file for the same type name or
101  * same package name.  The {@linkplain Processor initial inputs} to
102  * the tool are considered to be created by the zeroth round;
103  * therefore, attempting to create a source or class file
104  * corresponding to one of those inputs will result in a {@link
105  * FilerException}.
106  *
107  * &lt;p&gt; In general, processors must not knowingly attempt to overwrite
108  * existing files that were not generated by some processor.  A {@code
109  * Filer} may reject attempts to open a file corresponding to an
110  * existing type, like {@code java.lang.Object}.  Likewise, the
111  * invoker of the annotation processing tool must not knowingly
112  * configure the tool such that the discovered processors will attempt
113  * to overwrite existing files that were not generated.
114  *
115  * &lt;p&gt; Processors can indicate a source or class file is generated by
<span class="line-modified">116  * including a {@link javax.annotation.processing.Generated} annotation if the</span>
117  * environment is configured so that that type is accessible.
118  *
119  * @apiNote Some of the effect of overwriting a file can be
120  * achieved by using a &lt;i&gt;decorator&lt;/i&gt;-style pattern.  Instead of
121  * modifying a class directly, the class is designed so that either
122  * its superclass is generated by annotation processing or subclasses
123  * of the class are generated by annotation processing.  If the
124  * subclasses are generated, the parent class may be designed to use
125  * factories instead of public constructors so that only subclass
126  * instances would be presented to clients of the parent class.
127  *
128  * @author Joseph D. Darcy
129  * @author Scott Seligman
130  * @author Peter von der Ah&amp;eacute;
131  * @since 1.6
132  */
133 public interface Filer {
134     /**
135      * Creates a new source file and returns an object to allow
136      * writing to it. A source file for a type, or a package can
</pre>
</td>
</tr>
</table>
<center><a href="AbstractProcessor.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="Generated.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>