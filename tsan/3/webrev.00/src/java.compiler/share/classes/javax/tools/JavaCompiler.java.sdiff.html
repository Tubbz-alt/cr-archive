<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.compiler/share/classes/javax/tools/JavaCompiler.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="DocumentationTool.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="StandardJavaFileManager.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.compiler/share/classes/javax/tools/JavaCompiler.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2005, 2017, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
219  */
220 public interface JavaCompiler extends Tool, OptionChecker {
221 
222     /**
223      * Creates a future for a compilation task with the given
224      * components and arguments.  The compilation might not have
225      * completed as described in the CompilationTask interface.
226      *
227      * &lt;p&gt;If a file manager is provided, it must be able to handle all
228      * locations defined in {@link StandardLocation}.
229      *
230      * &lt;p&gt;Note that annotation processing can process both the
231      * compilation units of source code to be compiled, passed with
232      * the {@code compilationUnits} parameter, as well as class
233      * files, whose names are passed with the {@code classes}
234      * parameter.
235      *
236      * @param out a Writer for additional output from the compiler;
237      * use {@code System.err} if {@code null}
238      * @param fileManager a file manager; if {@code null} use the
<span class="line-modified">239      * compiler&#39;s standard filemanager</span>
240      * @param diagnosticListener a diagnostic listener; if {@code
241      * null} use the compiler&#39;s default method for reporting
242      * diagnostics
243      * @param options compiler options, {@code null} means no options
244      * @param classes names of classes to be processed by annotation
245      * processing, {@code null} means no class names
246      * @param compilationUnits the compilation units to compile, {@code
247      * null} means no compilation units
248      * @return an object representing the compilation
249      * @throws RuntimeException if an unrecoverable error
250      * occurred in a user supplied component.  The
251      * {@linkplain Throwable#getCause() cause} will be the error in
252      * user code.
253      * @throws IllegalArgumentException if any of the options are invalid,
254      * or if any of the given compilation units are of other kind than
255      * {@linkplain JavaFileObject.Kind#SOURCE source}
256      */
257     CompilationTask getTask(Writer out,
258                             JavaFileManager fileManager,
259                             DiagnosticListener&lt;? super JavaFileObject&gt; diagnosticListener,
</pre>
<hr />
<pre>
273      *
274      * @param diagnosticListener a diagnostic listener for non-fatal
275      * diagnostics; if {@code null} use the compiler&#39;s default method
276      * for reporting diagnostics
277      * @param locale the locale to apply when formatting diagnostics;
278      * {@code null} means the {@linkplain Locale#getDefault() default locale}.
279      * @param charset the character set used for decoding bytes; if
280      * {@code null} use the platform default
281      * @return the standard file manager
282      */
283     StandardJavaFileManager getStandardFileManager(
284         DiagnosticListener&lt;? super JavaFileObject&gt; diagnosticListener,
285         Locale locale,
286         Charset charset);
287 
288     /**
289      * Interface representing a future for a compilation task.  The
290      * compilation task has not yet started.  To start the task, call
291      * the {@linkplain #call call} method.
292      *
<span class="line-modified">293      * &lt;p&gt;Before calling the call method, additional aspects of the</span>
294      * task can be configured, for example, by calling the
295      * {@linkplain #setProcessors setProcessors} method.
296      */
297     interface CompilationTask extends Callable&lt;Boolean&gt; {
298         /**
299          * Adds root modules to be taken into account during module
300          * resolution.
301          * Invalid module names may cause either
302          * {@code IllegalArgumentException} to be thrown,
303          * or diagnostics to be reported when the task is started.
304          * @param moduleNames the names of the root modules
305          * @throws IllegalArgumentException may be thrown for some
306          *      invalid module names
307          * @throws IllegalStateException if the task has started
308          * @since 9
309          */
310         void addModules(Iterable&lt;String&gt; moduleNames);
311 
312         /**
313          * Sets processors (for annotation processing).  This will
314          * bypass the normal discovery mechanism.
315          *
316          * @param processors processors (for annotation processing)
317          * @throws IllegalStateException if the task has started
318          */
319         void setProcessors(Iterable&lt;? extends Processor&gt; processors);
320 
321         /**
322          * Sets the locale to be applied when formatting diagnostics and
323          * other localized data.
324          *
325          * @param locale the locale to apply; {@code null} means apply no
326          * locale
327          * @throws IllegalStateException if the task has started
328          */
329         void setLocale(Locale locale);
330 
331         /**
332          * Performs this compilation task.  The compilation may only
333          * be performed once.  Subsequent calls to this method throw
<span class="line-modified">334          * IllegalStateException.</span>
335          *
336          * @return true if and only all the files compiled without errors;
337          * false otherwise
338          *
339          * @throws RuntimeException if an unrecoverable error occurred
340          * in a user-supplied component.  The
341          * {@linkplain Throwable#getCause() cause} will be the error
342          * in user code.
343          * @throws IllegalStateException if called more than once
344          */
345         @Override
346         Boolean call();
347     }
348 }
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2005, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
219  */
220 public interface JavaCompiler extends Tool, OptionChecker {
221 
222     /**
223      * Creates a future for a compilation task with the given
224      * components and arguments.  The compilation might not have
225      * completed as described in the CompilationTask interface.
226      *
227      * &lt;p&gt;If a file manager is provided, it must be able to handle all
228      * locations defined in {@link StandardLocation}.
229      *
230      * &lt;p&gt;Note that annotation processing can process both the
231      * compilation units of source code to be compiled, passed with
232      * the {@code compilationUnits} parameter, as well as class
233      * files, whose names are passed with the {@code classes}
234      * parameter.
235      *
236      * @param out a Writer for additional output from the compiler;
237      * use {@code System.err} if {@code null}
238      * @param fileManager a file manager; if {@code null} use the
<span class="line-modified">239      * compiler&#39;s standard file manager</span>
240      * @param diagnosticListener a diagnostic listener; if {@code
241      * null} use the compiler&#39;s default method for reporting
242      * diagnostics
243      * @param options compiler options, {@code null} means no options
244      * @param classes names of classes to be processed by annotation
245      * processing, {@code null} means no class names
246      * @param compilationUnits the compilation units to compile, {@code
247      * null} means no compilation units
248      * @return an object representing the compilation
249      * @throws RuntimeException if an unrecoverable error
250      * occurred in a user supplied component.  The
251      * {@linkplain Throwable#getCause() cause} will be the error in
252      * user code.
253      * @throws IllegalArgumentException if any of the options are invalid,
254      * or if any of the given compilation units are of other kind than
255      * {@linkplain JavaFileObject.Kind#SOURCE source}
256      */
257     CompilationTask getTask(Writer out,
258                             JavaFileManager fileManager,
259                             DiagnosticListener&lt;? super JavaFileObject&gt; diagnosticListener,
</pre>
<hr />
<pre>
273      *
274      * @param diagnosticListener a diagnostic listener for non-fatal
275      * diagnostics; if {@code null} use the compiler&#39;s default method
276      * for reporting diagnostics
277      * @param locale the locale to apply when formatting diagnostics;
278      * {@code null} means the {@linkplain Locale#getDefault() default locale}.
279      * @param charset the character set used for decoding bytes; if
280      * {@code null} use the platform default
281      * @return the standard file manager
282      */
283     StandardJavaFileManager getStandardFileManager(
284         DiagnosticListener&lt;? super JavaFileObject&gt; diagnosticListener,
285         Locale locale,
286         Charset charset);
287 
288     /**
289      * Interface representing a future for a compilation task.  The
290      * compilation task has not yet started.  To start the task, call
291      * the {@linkplain #call call} method.
292      *
<span class="line-modified">293      * &lt;p&gt;Before calling the {@code call} method, additional aspects of the</span>
294      * task can be configured, for example, by calling the
295      * {@linkplain #setProcessors setProcessors} method.
296      */
297     interface CompilationTask extends Callable&lt;Boolean&gt; {
298         /**
299          * Adds root modules to be taken into account during module
300          * resolution.
301          * Invalid module names may cause either
302          * {@code IllegalArgumentException} to be thrown,
303          * or diagnostics to be reported when the task is started.
304          * @param moduleNames the names of the root modules
305          * @throws IllegalArgumentException may be thrown for some
306          *      invalid module names
307          * @throws IllegalStateException if the task has started
308          * @since 9
309          */
310         void addModules(Iterable&lt;String&gt; moduleNames);
311 
312         /**
313          * Sets processors (for annotation processing).  This will
314          * bypass the normal discovery mechanism.
315          *
316          * @param processors processors (for annotation processing)
317          * @throws IllegalStateException if the task has started
318          */
319         void setProcessors(Iterable&lt;? extends Processor&gt; processors);
320 
321         /**
322          * Sets the locale to be applied when formatting diagnostics and
323          * other localized data.
324          *
325          * @param locale the locale to apply; {@code null} means apply no
326          * locale
327          * @throws IllegalStateException if the task has started
328          */
329         void setLocale(Locale locale);
330 
331         /**
332          * Performs this compilation task.  The compilation may only
333          * be performed once.  Subsequent calls to this method throw
<span class="line-modified">334          * {@code IllegalStateException}.</span>
335          *
336          * @return true if and only all the files compiled without errors;
337          * false otherwise
338          *
339          * @throws RuntimeException if an unrecoverable error occurred
340          * in a user-supplied component.  The
341          * {@linkplain Throwable#getCause() cause} will be the error
342          * in user code.
343          * @throws IllegalStateException if called more than once
344          */
345         @Override
346         Boolean call();
347     }
348 }
</pre>
</td>
</tr>
</table>
<center><a href="DocumentationTool.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="StandardJavaFileManager.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>