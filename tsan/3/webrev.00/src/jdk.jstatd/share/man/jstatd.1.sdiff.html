<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.jstatd/share/man/jstatd.1</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../classes/sun/tools/jstatd/RemoteHostImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../../../jdk.localedata/share/classes/sun/text/resources/ext/FormatData_ar.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.jstatd/share/man/jstatd.1</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
<span class="line-modified">  1 &#39;\&quot; t</span>
<span class="line-removed">  2 .\&quot; Copyright (c) 2004, 2013, Oracle and/or its affiliates. All rights reserved.</span>
  3 .\&quot; DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4 .\&quot;
  5 .\&quot; This code is free software; you can redistribute it and/or modify it
  6 .\&quot; under the terms of the GNU General Public License version 2 only, as
  7 .\&quot; published by the Free Software Foundation.
  8 .\&quot;
  9 .\&quot; This code is distributed in the hope that it will be useful, but WITHOUT
 10 .\&quot; ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
<span class="line-modified"> 11 .\&quot; FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License</span>
 12 .\&quot; version 2 for more details (a copy is included in the LICENSE file that
 13 .\&quot; accompanied this code).
 14 .\&quot;
 15 .\&quot; You should have received a copy of the GNU General Public License version
 16 .\&quot; 2 along with this work; if not, write to the Free Software Foundation,
 17 .\&quot; Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18 .\&quot;
 19 .\&quot; Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20 .\&quot; or visit www.oracle.com if you need additional information or have any
 21 .\&quot; questions.
 22 .\&quot;
<span class="line-modified"> 23 .\&quot;     Arch: generic</span>
<span class="line-removed"> 24 .\&quot;     Software: JDK 8</span>
<span class="line-removed"> 25 .\&quot;     Date: 21 November 2013</span>
<span class="line-removed"> 26 .\&quot;     SectDesc: Monitoring Tools</span>
<span class="line-removed"> 27 .\&quot;     Title: jstatd.1</span>
 28 .\&quot;
<span class="line-modified"> 29 .if n .pl 99999</span>
<span class="line-modified"> 30 .TH jstatd 1 &quot;21 November 2013&quot; &quot;JDK 8&quot; &quot;Monitoring Tools&quot;</span>
<span class="line-modified"> 31 .\&quot; -----------------------------------------------------------------</span>
<span class="line-modified"> 32 .\&quot; * Define some portability stuff</span>
<span class="line-modified"> 33 .\&quot; -----------------------------------------------------------------</span>
<span class="line-modified"> 34 .\&quot; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="line-modified"> 35 .\&quot; http://bugs.debian.org/507673</span>
<span class="line-modified"> 36 .\&quot; http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html</span>
<span class="line-modified"> 37 .\&quot; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="line-modified"> 38 .ie \n(.g .ds Aq \(aq</span>
<span class="line-modified"> 39 .el       .ds Aq &#39;</span>
<span class="line-modified"> 40 .\&quot; -----------------------------------------------------------------</span>
<span class="line-modified"> 41 .\&quot; * set default formatting</span>
<span class="line-modified"> 42 .\&quot; -----------------------------------------------------------------</span>
<span class="line-modified"> 43 .\&quot; disable hyphenation</span>
<span class="line-modified"> 44 .nh</span>
<span class="line-modified"> 45 .\&quot; disable justification (adjust text to left margin only)</span>
<span class="line-modified"> 46 .ad l</span>
<span class="line-modified"> 47 .\&quot; -----------------------------------------------------------------</span>
<span class="line-modified"> 48 .\&quot; * MAIN CONTENT STARTS HERE *</span>
<span class="line-modified"> 49 .\&quot; -----------------------------------------------------------------</span>
<span class="line-modified"> 50 </span>
<span class="line-modified"> 51 .SH NAME    </span>
<span class="line-modified"> 52 jstatd \- Monitors Java Virtual Machines (JVMs) and enables remote monitoring tools to attach to JVMs\&amp;. This command is experimental and unsupported\&amp;.</span>
<span class="line-modified"> 53 .SH SYNOPSIS    </span>
<span class="line-modified"> 54 .sp     </span>
<span class="line-modified"> 55 .nf     </span>
<span class="line-modified"> 56 </span>
<span class="line-modified"> 57 \fBjstatd\fR [ \fIoptions\fR ]</span>
<span class="line-modified"> 58 .fi     </span>
<span class="line-modified"> 59 .sp     </span>
<span class="line-modified"> 60 .TP     </span>
<span class="line-modified"> 61 \fIoptions\fR</span>
<span class="line-modified"> 62 The command-line options\&amp;. See Options\&amp;.</span>
<span class="line-modified"> 63 .SH DESCRIPTION    </span>
<span class="line-modified"> 64 The \f3jstatd\fR command is an RMI server application that monitors for the creation and termination of instrumented Java HotSpot VMs and provides an interface to enable remote monitoring tools to attach to JVMs that are running on the local host\&amp;.</span>
<span class="line-removed"> 65 .PP</span>
<span class="line-removed"> 66 The \f3jstatd\fR server requires an RMI registry on the local host\&amp;. The \f3jstatd\fR server attempts to attach to the RMI registry on the default port, or on the port you specify with the \f3-p\fR\f3port\fR option\&amp;. If an RMI registry is not found, then one is created within the \f3jstatd\fR application that is bound to the port that is indicated by the \f3-p\fR\f3port\fR option or to the default RMI registry port when the \f3-p\fR\f3port\fR option is omitted\&amp;. You can stop the creation of an internal RMI registry by specifying the \f3-nr\fR option\&amp;.</span>
<span class="line-removed"> 67 .SH OPTIONS    </span>
 68 .TP
<span class="line-modified"> 69 -nr</span>
<span class="line-modified"> 70 .br</span>
<span class="line-modified"> 71 Does not attempt to create an internal RMI registry within the \f3jstatd\fR process when an existing RMI registry is not found\&amp;.</span>



 72 .TP
<span class="line-modified"> 73 -p \fIport\fR</span>
<span class="line-modified"> 74 .br</span>
<span class="line-modified"> 75 The port number where the RMI registry is expected to be found, or when not found, created if the \f3-nr\fR option is not specified\&amp;.</span>



 76 .TP
<span class="line-modified"> 77 -n \fIrminame\fR</span>
<span class="line-modified"> 78 .br</span>
<span class="line-modified"> 79 Name to which the remote RMI object is bound in the RMI registry\&amp;. The default name is \f3JStatRemoteHost\fR\&amp;. If multiple \f3jstatd\fR servers are started on the same host, then the name of the exported RMI object for each server can be made unique by specifying this option\&amp;. However, doing so requires that the unique server name be included in the monitoring client\&amp;&#39;s \f3hostid\fR and \f3vmid\fR strings\&amp;.</span>








 80 .TP
<span class="line-modified"> 81 -J\fIoption\fR</span>
<span class="line-modified"> 82 .br</span>
<span class="line-modified"> 83 Passes \f3option\fR to the JVM, where option is one of the \f3options\fR described on the reference page for the Java application launcher\&amp;. For example, \f3-J-Xms48m\fR sets the startup memory to 48 MB\&amp;. See java(1)\&amp;.</span>
<span class="line-modified"> 84 .SH SECURITY    </span>
<span class="line-modified"> 85 The \f3jstatd\fR server can only monitor JVMs for which it has the appropriate native access permissions\&amp;. Therefore, the \f3jstatd\fR process must be running with the same user credentials as the target JVMs\&amp;. Some user credentials, such as the root user in UNIX-based systems, have permission to access the instrumentation exported by any JVM on the system\&amp;. A \f3jstatd\fR process running with such credentials can monitor any JVM on the system, but introduces additional security concerns\&amp;.</span>
<span class="line-modified"> 86 .PP</span>
<span class="line-modified"> 87 The \f3jstatd\fR server does not provide any authentication of remote clients\&amp;. Therefore, running a \f3jstatd\fR server process exposes the instrumentation export by all JVMs for which the \f3jstatd\fR process has access permissions to any user on the network\&amp;. This exposure might be undesirable in your environment, and therefore, local security policies should be considered before you start the \f3jstatd\fR process, particularly in production environments or on networks that are not secure\&amp;.</span>
<span class="line-modified"> 88 .PP</span>
<span class="line-modified"> 89 The \f3jstatd\fR server installs an instance of \f3RMISecurityPolicy\fR when no other security manager is installed, and therefore, requires a security policy file to be specified\&amp;. The policy file must conform to Default Policy Implementation and Policy File Syntax at http://docs\&amp;.oracle\&amp;.com/javase/8/docs/technotes/guides/security/PolicyFiles\&amp;.html</span>
<span class="line-modified"> 90 .PP</span>
<span class="line-modified"> 91 The following policy file allows the \f3jstatd\fR server to run without any security exceptions\&amp;. This policy is less liberal than granting all permissions to all code bases, but is more liberal than a policy that grants the minimal permissions to run the \f3jstatd\fR server\&amp;.</span>
<span class="line-modified"> 92 .sp     </span>
<span class="line-modified"> 93 .nf     </span>
<span class="line-modified"> 94 \f3grant codebase &quot;file:${java\&amp;.home}/\&amp;.\&amp;./lib/tools\&amp;.jar&quot; {   \fP</span>
<span class="line-modified"> 95 .fi     </span>
<span class="line-modified"> 96 .nf     </span>
<span class="line-modified"> 97 \f3    permission java\&amp;.security\&amp;.AllPermission;\fP</span>
<span class="line-modified"> 98 .fi     </span>
<span class="line-modified"> 99 .nf     </span>
<span class="line-modified">100 \f3};\fP</span>
<span class="line-modified">101 .fi     </span>
<span class="line-modified">102 .nf     </span>
<span class="line-modified">103 \f3\fP</span>
<span class="line-modified">104 .fi     </span>
<span class="line-modified">105 .sp     </span>
<span class="line-modified">106 To use this policy setting, copy the text into a file called \f3jstatd\&amp;.all\&amp;.policy\fR and run the \f3jstatd\fR server as follows:</span>
<span class="line-modified">107 .sp     </span>
<span class="line-modified">108 .nf     </span>
<span class="line-modified">109 \f3jstatd \-J\-Djava\&amp;.security\&amp;.policy=jstatd\&amp;.all\&amp;.policy\fP</span>
<span class="line-modified">110 .fi     </span>
<span class="line-modified">111 .nf     </span>
<span class="line-modified">112 \f3\fP</span>
<span class="line-modified">113 .fi     </span>
<span class="line-modified">114 .sp     </span>
<span class="line-modified">115 For sites with more restrictive security practices, it is possible to use a custom policy file to limit access to specific trusted hosts or networks, though such techniques are subject to IP address spoofing attacks\&amp;. If your security concerns cannot be addressed with a customized policy file, then the safest action is to not run the \f3jstatd\fR server and use the \f3jstat\fR and \f3jps\fR tools locally\&amp;.</span>
<span class="line-modified">116 .SH REMOTE\ INTERFACE    </span>
<span class="line-modified">117 The interface exported by the \f3jstatd\fR process is proprietary and guaranteed to change\&amp;. Users and developers are discouraged from writing to this interface\&amp;.</span>
<span class="line-modified">118 .SH EXAMPLES    </span>
<span class="line-modified">119 The following are examples of the \f3jstatd\fR command\&amp;. The \f3jstatd\fR scripts automatically start the server in the background</span>
<span class="line-modified">120 .SS INTERNAL\ RMI\ REGISTRY    </span>
<span class="line-modified">121 This example shows hos to start a \f3jstatd\fR session with an internal RMI registry\&amp;. This example assumes that no other server is bound to the default RMI registry port (port 1099)\&amp;.</span>
<span class="line-modified">122 .sp     </span>
<span class="line-modified">123 .nf     </span>
<span class="line-modified">124 \f3jstatd \-J\-Djava\&amp;.security\&amp;.policy=all\&amp;.policy\fP</span>
<span class="line-modified">125 .fi     </span>
<span class="line-modified">126 .nf     </span>
<span class="line-modified">127 \f3\fP</span>
<span class="line-modified">128 .fi     </span>
<span class="line-modified">129 .sp     </span>
<span class="line-modified">130 .SS EXTERNAL\ RMI\ REGISTRY    </span>
<span class="line-modified">131 This example starts a \f3jstatd\fR session with a external RMI registry\&amp;.</span>
<span class="line-modified">132 .sp     </span>
<span class="line-modified">133 .nf     </span>
<span class="line-modified">134 \f3rmiregistry&amp;\fP</span>
<span class="line-modified">135 .fi     </span>
<span class="line-modified">136 .nf     </span>
<span class="line-modified">137 \f3jstatd \-J\-Djava\&amp;.security\&amp;.policy=all\&amp;.policy\fP</span>
<span class="line-modified">138 .fi     </span>
<span class="line-modified">139 .nf     </span>
<span class="line-modified">140 \f3\fP</span>
<span class="line-modified">141 .fi     </span>
<span class="line-modified">142 .sp     </span>
<span class="line-modified">143 This example starts a \f3jstatd\fR session with an external RMI registry server on port 2020\&amp;.</span>
<span class="line-modified">144 .sp     </span>
<span class="line-modified">145 .nf     </span>
<span class="line-modified">146 \f3jrmiregistry 2020&amp;\fP</span>
<span class="line-modified">147 .fi     </span>
<span class="line-modified">148 .nf     </span>
<span class="line-modified">149 \f3jstatd \-J\-Djava\&amp;.security\&amp;.policy=all\&amp;.policy \-p 2020\fP</span>
<span class="line-modified">150 .fi     </span>
<span class="line-modified">151 .nf     </span>
<span class="line-modified">152 \f3\fP</span>
<span class="line-modified">153 .fi     </span>
<span class="line-modified">154 .sp     </span>
<span class="line-modified">155 This example starts a \f3jstatd\fR session with an external RMI registry on port 2020 that is bound to \f3AlternateJstatdServerName\fR\&amp;.</span>
<span class="line-modified">156 .sp     </span>
<span class="line-modified">157 .nf     </span>
<span class="line-modified">158 \f3rmiregistry 2020&amp;\fP</span>
<span class="line-modified">159 .fi     </span>
<span class="line-modified">160 .nf     </span>
<span class="line-modified">161 \f3jstatd \-J\-Djava\&amp;.security\&amp;.policy=all\&amp;.policy \-p 2020\fP</span>
<span class="line-modified">162 .fi     </span>
<span class="line-modified">163 .nf     </span>
<span class="line-modified">164 \f3    \-n AlternateJstatdServerName\fP</span>
<span class="line-modified">165 .fi     </span>
<span class="line-modified">166 .nf     </span>
<span class="line-modified">167 \f3\fP</span>
<span class="line-modified">168 .fi     </span>
<span class="line-modified">169 .sp     </span>
<span class="line-modified">170 .SS STOP\ THE\ CREATION\ OF\ AN\ IN-PROCESS\ RMI\ REGISTRY    </span>
<span class="line-modified">171 This example starts a \f3jstatd\fR session that does not create an RMI registry when one is not found\&amp;. This example assumes an RMI registry is already running\&amp;. If an RMI registry is not running, then an error message is displayed\&amp;.</span>
<span class="line-modified">172 .sp     </span>
<span class="line-modified">173 .nf     </span>
<span class="line-modified">174 \f3jstatd \-J\-Djava\&amp;.security\&amp;.policy=all\&amp;.policy \-nr\fP</span>
<span class="line-modified">175 .fi     </span>
<span class="line-modified">176 .nf     </span>
<span class="line-modified">177 \f3\fP</span>
<span class="line-modified">178 .fi     </span>
<span class="line-modified">179 .sp     </span>
<span class="line-modified">180 .SS ENABLE\ RMI\ LOGGING    </span>
<span class="line-modified">181 This example starts a \f3jstatd\fR session with RMI logging capabilities enabled\&amp;. This technique is useful as a troubleshooting aid or for monitoring server activities\&amp;.</span>
<span class="line-modified">182 .sp     </span>
<span class="line-modified">183 .nf     </span>
<span class="line-modified">184 \f3jstatd \-J\-Djava\&amp;.security\&amp;.policy=all\&amp;.policy\fP</span>
<span class="line-modified">185 .fi     </span>
<span class="line-modified">186 .nf     </span>
<span class="line-modified">187 \f3    \-J\-Djava\&amp;.rmi\&amp;.server\&amp;.logCalls=true\fP</span>
<span class="line-modified">188 .fi     </span>
<span class="line-modified">189 .nf     </span>
<span class="line-modified">190 \f3\fP</span>
<span class="line-modified">191 .fi     </span>
<span class="line-modified">192 .sp     </span>
<span class="line-modified">193 .SH SEE\ ALSO    </span>
<span class="line-removed">194 .TP 0.2i    </span>
<span class="line-removed">195 \(bu</span>
<span class="line-removed">196 java(1)</span>
<span class="line-removed">197 .TP 0.2i    </span>
<span class="line-removed">198 \(bu</span>
<span class="line-removed">199 jps(1)</span>
<span class="line-removed">200 .TP 0.2i    </span>
<span class="line-removed">201 \(bu</span>
<span class="line-removed">202 jstat(1)</span>
<span class="line-removed">203 .TP 0.2i    </span>
<span class="line-removed">204 \(bu</span>
<span class="line-removed">205 rmiregistry(1)</span>
206 .RE
<span class="line-removed">207 .br</span>
<span class="line-removed">208 &#39;pl 8.5i</span>
<span class="line-removed">209 &#39;bp</span>
</pre>
</td>
<td>
<hr />
<pre>
<span class="line-modified">  1 .\&quot; Copyright (c) 1994, 2019, Oracle and/or its affiliates. All rights reserved.</span>

  2 .\&quot; DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  3 .\&quot;
  4 .\&quot; This code is free software; you can redistribute it and/or modify it
  5 .\&quot; under the terms of the GNU General Public License version 2 only, as
  6 .\&quot; published by the Free Software Foundation.
  7 .\&quot;
  8 .\&quot; This code is distributed in the hope that it will be useful, but WITHOUT
  9 .\&quot; ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
<span class="line-modified"> 10 .\&quot; FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License</span>
 11 .\&quot; version 2 for more details (a copy is included in the LICENSE file that
 12 .\&quot; accompanied this code).
 13 .\&quot;
 14 .\&quot; You should have received a copy of the GNU General Public License version
 15 .\&quot; 2 along with this work; if not, write to the Free Software Foundation,
 16 .\&quot; Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 17 .\&quot;
 18 .\&quot; Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 19 .\&quot; or visit www.oracle.com if you need additional information or have any
 20 .\&quot; questions.
 21 .\&quot;
<span class="line-modified"> 22 .\&quot; Automatically generated by Pandoc 2.3.1</span>




 23 .\&quot;
<span class="line-modified"> 24 .TH &quot;JSTATD&quot; &quot;1&quot; &quot;2020&quot; &quot;JDK 14&quot; &quot;JDK Commands&quot;</span>
<span class="line-modified"> 25 .hy</span>
<span class="line-modified"> 26 .SH NAME</span>
<span class="line-modified"> 27 .PP</span>
<span class="line-modified"> 28 jstatd \- monitor the creation and termination of instrumented Java</span>
<span class="line-modified"> 29 HotSpot VMs</span>
<span class="line-modified"> 30 .SH SYNOPSIS</span>
<span class="line-modified"> 31 .PP</span>
<span class="line-modified"> 32 \f[B]Note:\f[R] This command is experimental and unsupported.</span>
<span class="line-modified"> 33 .PP</span>
<span class="line-modified"> 34 \f[CB]jstatd\f[R] [\f[I]options\f[R]]</span>
<span class="line-modified"> 35 .TP</span>
<span class="line-modified"> 36 .B \f[I]options\f[R]</span>
<span class="line-modified"> 37 This represents the \f[CB]jstatd\f[R] command\-line options.</span>
<span class="line-modified"> 38 See \f[B]Options for the jstatd Command\f[R].</span>
<span class="line-modified"> 39 .RS</span>
<span class="line-modified"> 40 .RE</span>
<span class="line-modified"> 41 .SH DESCRIPTION</span>
<span class="line-modified"> 42 .PP</span>
<span class="line-modified"> 43 The \f[CB]jstatd\f[R] command is an RMI server application that monitors</span>
<span class="line-modified"> 44 for the creation and termination of instrumented Java HotSpot VMs and</span>
<span class="line-modified"> 45 provides an interface to enable remote monitoring tools, \f[CB]jstat\f[R]</span>
<span class="line-modified"> 46 and \f[CB]jps\f[R], to attach to JVMs that are running on the local host</span>
<span class="line-modified"> 47 and collect information about the JVM process.</span>
<span class="line-modified"> 48 .PP</span>
<span class="line-modified"> 49 The \f[CB]jstatd\f[R] server requires an RMI registry on the local host.</span>
<span class="line-modified"> 50 The \f[CB]jstatd\f[R] server attempts to attach to the RMI registry on the</span>
<span class="line-modified"> 51 default port, or on the port you specify with the \f[CB]\-p\f[R]</span>
<span class="line-modified"> 52 \f[CB]port\f[R] option.</span>
<span class="line-modified"> 53 If an RMI registry is not found, then one is created within the</span>
<span class="line-modified"> 54 \f[CB]jstatd\f[R] application that\[aq]s bound to the port that\[aq]s</span>
<span class="line-modified"> 55 indicated by the \f[CB]\-p\f[R] \f[CB]port\f[R] option or to the default RMI</span>
<span class="line-modified"> 56 registry port when the \f[CB]\-p\f[R] \f[CB]port\f[R] option is omitted.</span>
<span class="line-modified"> 57 You can stop the creation of an internal RMI registry by specifying the</span>
<span class="line-modified"> 58 \f[CB]\-nr\f[R] option.</span>
<span class="line-modified"> 59 .SH OPTIONS FOR THE JSTATD COMMAND</span>



 60 .TP
<span class="line-modified"> 61 .B \f[CB]\-nr\f[R]</span>
<span class="line-modified"> 62 This option does not attempt to create an internal RMI registry within</span>
<span class="line-modified"> 63 the \f[CB]jstatd\f[R] process when an existing RMI registry isn\[aq]t</span>
<span class="line-added"> 64 found.</span>
<span class="line-added"> 65 .RS</span>
<span class="line-added"> 66 .RE</span>
 67 .TP
<span class="line-modified"> 68 .B \f[CB]\-p\f[R] \f[I]port\f[R]</span>
<span class="line-modified"> 69 This option sets the port number where the RMI registry is expected to</span>
<span class="line-modified"> 70 be found, or when not found, created if the \f[CB]\-nr\f[R] option</span>
<span class="line-added"> 71 isn\[aq]t specified.</span>
<span class="line-added"> 72 .RS</span>
<span class="line-added"> 73 .RE</span>
 74 .TP
<span class="line-modified"> 75 .B \f[CB]\-n\f[R] \f[I]rminame\f[R]</span>
<span class="line-modified"> 76 This option sets the name to which the remote RMI object is bound in the</span>
<span class="line-modified"> 77 RMI registry.</span>
<span class="line-added"> 78 The default name is \f[CB]JStatRemoteHost\f[R].</span>
<span class="line-added"> 79 If multiple \f[CB]jstatd\f[R] servers are started on the same host, then</span>
<span class="line-added"> 80 the name of the exported RMI object for each server can be made unique</span>
<span class="line-added"> 81 by specifying this option.</span>
<span class="line-added"> 82 However, doing so requires that the unique server name be included in</span>
<span class="line-added"> 83 the monitoring client\[aq]s \f[CB]hostid\f[R] and \f[CB]vmid\f[R] strings.</span>
<span class="line-added"> 84 .RS</span>
<span class="line-added"> 85 .RE</span>
 86 .TP
<span class="line-modified"> 87 .B \f[CB]\-J\f[R]\f[I]option\f[R]</span>
<span class="line-modified"> 88 This option passes a Java \f[CB]option\f[R] to the JVM, where the option</span>
<span class="line-modified"> 89 is one of those described on the reference page for the Java application</span>
<span class="line-modified"> 90 launcher.</span>
<span class="line-modified"> 91 For example, \f[CB]\-J\-Xms48m\f[R] sets the startup memory to 48 MB.</span>
<span class="line-modified"> 92 See \f[B]java\f[R].</span>
<span class="line-modified"> 93 .RS</span>
<span class="line-modified"> 94 .RE</span>
<span class="line-modified"> 95 .SH SECURITY</span>
<span class="line-modified"> 96 .PP</span>
<span class="line-modified"> 97 The \f[CB]jstatd\f[R] server can monitor only JVMs for which it has the</span>
<span class="line-modified"> 98 appropriate native access permissions.</span>
<span class="line-modified"> 99 Therefore, the \f[CB]jstatd\f[R] process must be running with the same</span>
<span class="line-modified">100 user credentials as the target JVMs.</span>
<span class="line-modified">101 Some user credentials, such as the root user in Oracle Solaris, Linux,</span>
<span class="line-modified">102 and OS X operating systems, have permission to access the</span>
<span class="line-modified">103 instrumentation exported by any JVM on the system.</span>
<span class="line-modified">104 A \f[CB]jstatd\f[R] process running with such credentials can monitor any</span>
<span class="line-modified">105 JVM on the system, but introduces additional security concerns.</span>
<span class="line-modified">106 .PP</span>
<span class="line-modified">107 The \f[CB]jstatd\f[R] server doesn\[aq]t provide any authentication of</span>
<span class="line-modified">108 remote clients.</span>
<span class="line-modified">109 Therefore, running a \f[CB]jstatd\f[R] server process exposes the</span>
<span class="line-modified">110 instrumentation export by all JVMs for which the \f[CB]jstatd\f[R] process</span>
<span class="line-modified">111 has access permissions to any user on the network.</span>
<span class="line-modified">112 This exposure might be undesirable in your environment, and therefore,</span>
<span class="line-modified">113 local security policies should be considered before you start the</span>
<span class="line-modified">114 \f[CB]jstatd\f[R] process, particularly in production environments or on</span>
<span class="line-modified">115 networks that aren\[aq]t secure.</span>
<span class="line-modified">116 .PP</span>
<span class="line-modified">117 The \f[CB]jstatd\f[R] server installs an instance of</span>
<span class="line-modified">118 \f[CB]RMISecurityPolicy\f[R] when no other security manager is installed,</span>
<span class="line-modified">119 and therefore, requires a security policy file to be specified.</span>
<span class="line-modified">120 The policy file must conform to Default Policy Implementation and Policy</span>
<span class="line-modified">121 File Syntax.</span>
<span class="line-modified">122 .PP</span>
<span class="line-modified">123 If your security concerns can\[aq]t be addressed with a customized</span>
<span class="line-modified">124 policy file, then the safest action is to not run the \f[CB]jstatd\f[R]</span>
<span class="line-modified">125 server and use the \f[CB]jstat\f[R] and \f[CB]jps\f[R] tools locally.</span>
<span class="line-modified">126 However, when using \f[CB]jps\f[R] to get a list of instrumented JVMs, the</span>
<span class="line-modified">127 list will not include any JVMs running in docker containers.</span>
<span class="line-modified">128 .SH REMOTE INTERFACE</span>
<span class="line-modified">129 .PP</span>
<span class="line-modified">130 The interface exported by the \f[CB]jstatd\f[R] process is proprietary and</span>
<span class="line-modified">131 guaranteed to change.</span>
<span class="line-modified">132 Users and developers are discouraged from writing to this interface.</span>
<span class="line-modified">133 .SH EXAMPLES</span>
<span class="line-modified">134 .PP</span>
<span class="line-modified">135 The following are examples of the \f[CB]jstatd\f[R] command.</span>
<span class="line-modified">136 The \f[CB]jstatd\f[R] scripts automatically start the server in the</span>
<span class="line-modified">137 background.</span>
<span class="line-modified">138 .SH INTERNAL RMI REGISTRY</span>
<span class="line-modified">139 .PP</span>
<span class="line-modified">140 This example shows how to start a \f[CB]jstatd\f[R] session with an</span>
<span class="line-modified">141 internal RMI registry.</span>
<span class="line-modified">142 This example assumes that no other server is bound to the default RMI</span>
<span class="line-modified">143 registry port (port \f[CB]1099\f[R]).</span>
<span class="line-modified">144 .RS</span>
<span class="line-modified">145 .PP</span>
<span class="line-modified">146 \f[CB]jstatd\ \-J\-Djava.security.policy=all.policy\f[R]</span>
<span class="line-modified">147 .RE</span>
<span class="line-modified">148 .SH EXTERNAL RMI REGISTRY</span>
<span class="line-modified">149 .PP</span>
<span class="line-modified">150 This example starts a \f[CB]jstatd\f[R] session with an external RMI</span>
<span class="line-modified">151 registry.</span>
<span class="line-modified">152 .IP</span>
<span class="line-modified">153 .nf</span>
<span class="line-modified">154 \f[CB]</span>
<span class="line-modified">155 rmiregistry&amp;</span>
<span class="line-modified">156 jstatd\ \-J\-Djava.security.policy=all.policy</span>
<span class="line-modified">157 \f[R]</span>
<span class="line-modified">158 .fi</span>
<span class="line-modified">159 .PP</span>
<span class="line-modified">160 This example starts a \f[CB]jstatd\f[R] session with an external RMI</span>
<span class="line-modified">161 registry server on port \f[CB]2020\f[R].</span>
<span class="line-modified">162 .IP</span>
<span class="line-modified">163 .nf</span>
<span class="line-modified">164 \f[CB]</span>
<span class="line-modified">165 jrmiregistry\ 2020&amp;</span>
<span class="line-modified">166 jstatd\ \-J\-Djava.security.policy=all.policy\ \-p\ 2020</span>
<span class="line-modified">167 \f[R]</span>
<span class="line-modified">168 .fi</span>
<span class="line-modified">169 .PP</span>
<span class="line-modified">170 This example starts a \f[CB]jstatd\f[R] session with an external RMI</span>
<span class="line-modified">171 registry on port 2020 that\[aq]s bound to</span>
<span class="line-modified">172 \f[CB]AlternateJstatdServerName\f[R].</span>
<span class="line-modified">173 .IP</span>
<span class="line-modified">174 .nf</span>
<span class="line-modified">175 \f[CB]</span>
<span class="line-modified">176 rmiregistry\ 2020&amp;</span>
<span class="line-modified">177 jstatd\ \-J\-Djava.security.policy=all.policy\ \-p\ 2020\ \-n\ AlternateJstatdServerName</span>
<span class="line-modified">178 \f[R]</span>
<span class="line-modified">179 .fi</span>
<span class="line-modified">180 .SH STOP THE CREATION OF AN IN\-PROCESS RMI REGISTRY</span>
<span class="line-modified">181 .PP</span>
<span class="line-modified">182 This example starts a \f[CB]jstatd\f[R] session that doesn\[aq]t create an</span>
<span class="line-modified">183 RMI registry when one isn\[aq]t found.</span>
<span class="line-modified">184 This example assumes an RMI registry is already running.</span>
<span class="line-modified">185 If an RMI registry isn\[aq]t running, then an error message is</span>
<span class="line-modified">186 displayed.</span>
<span class="line-modified">187 .RS</span>
<span class="line-modified">188 .PP</span>
<span class="line-modified">189 \f[CB]jstatd\ \-J\-Djava.security.policy=all.policy\ \-nr\f[R]</span>
<span class="line-modified">190 .RE</span>
<span class="line-modified">191 .SH ENABLE RMI LOGGING</span>
<span class="line-modified">192 .PP</span>
<span class="line-modified">193 This example starts a \f[CB]jstatd\f[R] session with RMI logging</span>
<span class="line-modified">194 capabilities enabled.</span>
<span class="line-modified">195 This technique is useful as a troubleshooting aid or for monitoring</span>
<span class="line-modified">196 server activities.</span>
<span class="line-modified">197 .RS</span>
<span class="line-modified">198 .PP</span>
<span class="line-modified">199 \f[CB]jstatd\ \-J\-Djava.security.policy=all.policy\ \-J\-Djava.rmi.server.logCalls=true\f[R]</span>












200 .RE



</pre>
</td>
</tr>
</table>
<center><a href="../classes/sun/tools/jstatd/RemoteHostImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../../../jdk.localedata/share/classes/sun/text/resources/ext/FormatData_ar.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>