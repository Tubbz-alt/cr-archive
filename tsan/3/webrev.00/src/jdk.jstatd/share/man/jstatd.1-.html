<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old src/jdk.jstatd/share/man/jstatd.1</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
  <body>
    <pre>
  1 &#39;\&quot; t
  2 .\&quot; Copyright (c) 2004, 2013, Oracle and/or its affiliates. All rights reserved.
  3 .\&quot; DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4 .\&quot;
  5 .\&quot; This code is free software; you can redistribute it and/or modify it
  6 .\&quot; under the terms of the GNU General Public License version 2 only, as
  7 .\&quot; published by the Free Software Foundation.
  8 .\&quot;
  9 .\&quot; This code is distributed in the hope that it will be useful, but WITHOUT
 10 .\&quot; ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11 .\&quot; FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12 .\&quot; version 2 for more details (a copy is included in the LICENSE file that
 13 .\&quot; accompanied this code).
 14 .\&quot;
 15 .\&quot; You should have received a copy of the GNU General Public License version
 16 .\&quot; 2 along with this work; if not, write to the Free Software Foundation,
 17 .\&quot; Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18 .\&quot;
 19 .\&quot; Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20 .\&quot; or visit www.oracle.com if you need additional information or have any
 21 .\&quot; questions.
 22 .\&quot;
 23 .\&quot;     Arch: generic
 24 .\&quot;     Software: JDK 8
 25 .\&quot;     Date: 21 November 2013
 26 .\&quot;     SectDesc: Monitoring Tools
 27 .\&quot;     Title: jstatd.1
 28 .\&quot;
 29 .if n .pl 99999
 30 .TH jstatd 1 &quot;21 November 2013&quot; &quot;JDK 8&quot; &quot;Monitoring Tools&quot;
 31 .\&quot; -----------------------------------------------------------------
 32 .\&quot; * Define some portability stuff
 33 .\&quot; -----------------------------------------------------------------
 34 .\&quot; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 35 .\&quot; http://bugs.debian.org/507673
 36 .\&quot; http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
 37 .\&quot; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 38 .ie \n(.g .ds Aq \(aq
 39 .el       .ds Aq &#39;
 40 .\&quot; -----------------------------------------------------------------
 41 .\&quot; * set default formatting
 42 .\&quot; -----------------------------------------------------------------
 43 .\&quot; disable hyphenation
 44 .nh
 45 .\&quot; disable justification (adjust text to left margin only)
 46 .ad l
 47 .\&quot; -----------------------------------------------------------------
 48 .\&quot; * MAIN CONTENT STARTS HERE *
 49 .\&quot; -----------------------------------------------------------------
 50 
 51 .SH NAME    
 52 jstatd \- Monitors Java Virtual Machines (JVMs) and enables remote monitoring tools to attach to JVMs\&amp;. This command is experimental and unsupported\&amp;.
 53 .SH SYNOPSIS    
 54 .sp     
 55 .nf     
 56 
 57 \fBjstatd\fR [ \fIoptions\fR ]
 58 .fi     
 59 .sp     
 60 .TP     
 61 \fIoptions\fR
 62 The command-line options\&amp;. See Options\&amp;.
 63 .SH DESCRIPTION    
 64 The \f3jstatd\fR command is an RMI server application that monitors for the creation and termination of instrumented Java HotSpot VMs and provides an interface to enable remote monitoring tools to attach to JVMs that are running on the local host\&amp;.
 65 .PP
 66 The \f3jstatd\fR server requires an RMI registry on the local host\&amp;. The \f3jstatd\fR server attempts to attach to the RMI registry on the default port, or on the port you specify with the \f3-p\fR\f3port\fR option\&amp;. If an RMI registry is not found, then one is created within the \f3jstatd\fR application that is bound to the port that is indicated by the \f3-p\fR\f3port\fR option or to the default RMI registry port when the \f3-p\fR\f3port\fR option is omitted\&amp;. You can stop the creation of an internal RMI registry by specifying the \f3-nr\fR option\&amp;.
 67 .SH OPTIONS    
 68 .TP
 69 -nr
 70 .br
 71 Does not attempt to create an internal RMI registry within the \f3jstatd\fR process when an existing RMI registry is not found\&amp;.
 72 .TP
 73 -p \fIport\fR
 74 .br
 75 The port number where the RMI registry is expected to be found, or when not found, created if the \f3-nr\fR option is not specified\&amp;.
 76 .TP
 77 -n \fIrminame\fR
 78 .br
 79 Name to which the remote RMI object is bound in the RMI registry\&amp;. The default name is \f3JStatRemoteHost\fR\&amp;. If multiple \f3jstatd\fR servers are started on the same host, then the name of the exported RMI object for each server can be made unique by specifying this option\&amp;. However, doing so requires that the unique server name be included in the monitoring client\&amp;&#39;s \f3hostid\fR and \f3vmid\fR strings\&amp;.
 80 .TP
 81 -J\fIoption\fR
 82 .br
 83 Passes \f3option\fR to the JVM, where option is one of the \f3options\fR described on the reference page for the Java application launcher\&amp;. For example, \f3-J-Xms48m\fR sets the startup memory to 48 MB\&amp;. See java(1)\&amp;.
 84 .SH SECURITY    
 85 The \f3jstatd\fR server can only monitor JVMs for which it has the appropriate native access permissions\&amp;. Therefore, the \f3jstatd\fR process must be running with the same user credentials as the target JVMs\&amp;. Some user credentials, such as the root user in UNIX-based systems, have permission to access the instrumentation exported by any JVM on the system\&amp;. A \f3jstatd\fR process running with such credentials can monitor any JVM on the system, but introduces additional security concerns\&amp;.
 86 .PP
 87 The \f3jstatd\fR server does not provide any authentication of remote clients\&amp;. Therefore, running a \f3jstatd\fR server process exposes the instrumentation export by all JVMs for which the \f3jstatd\fR process has access permissions to any user on the network\&amp;. This exposure might be undesirable in your environment, and therefore, local security policies should be considered before you start the \f3jstatd\fR process, particularly in production environments or on networks that are not secure\&amp;.
 88 .PP
 89 The \f3jstatd\fR server installs an instance of \f3RMISecurityPolicy\fR when no other security manager is installed, and therefore, requires a security policy file to be specified\&amp;. The policy file must conform to Default Policy Implementation and Policy File Syntax at http://docs\&amp;.oracle\&amp;.com/javase/8/docs/technotes/guides/security/PolicyFiles\&amp;.html
 90 .PP
 91 The following policy file allows the \f3jstatd\fR server to run without any security exceptions\&amp;. This policy is less liberal than granting all permissions to all code bases, but is more liberal than a policy that grants the minimal permissions to run the \f3jstatd\fR server\&amp;.
 92 .sp     
 93 .nf     
 94 \f3grant codebase &quot;file:${java\&amp;.home}/\&amp;.\&amp;./lib/tools\&amp;.jar&quot; {   \fP
 95 .fi     
 96 .nf     
 97 \f3    permission java\&amp;.security\&amp;.AllPermission;\fP
 98 .fi     
 99 .nf     
100 \f3};\fP
101 .fi     
102 .nf     
103 \f3\fP
104 .fi     
105 .sp     
106 To use this policy setting, copy the text into a file called \f3jstatd\&amp;.all\&amp;.policy\fR and run the \f3jstatd\fR server as follows:
107 .sp     
108 .nf     
109 \f3jstatd \-J\-Djava\&amp;.security\&amp;.policy=jstatd\&amp;.all\&amp;.policy\fP
110 .fi     
111 .nf     
112 \f3\fP
113 .fi     
114 .sp     
115 For sites with more restrictive security practices, it is possible to use a custom policy file to limit access to specific trusted hosts or networks, though such techniques are subject to IP address spoofing attacks\&amp;. If your security concerns cannot be addressed with a customized policy file, then the safest action is to not run the \f3jstatd\fR server and use the \f3jstat\fR and \f3jps\fR tools locally\&amp;.
116 .SH REMOTE\ INTERFACE    
117 The interface exported by the \f3jstatd\fR process is proprietary and guaranteed to change\&amp;. Users and developers are discouraged from writing to this interface\&amp;.
118 .SH EXAMPLES    
119 The following are examples of the \f3jstatd\fR command\&amp;. The \f3jstatd\fR scripts automatically start the server in the background
120 .SS INTERNAL\ RMI\ REGISTRY    
121 This example shows hos to start a \f3jstatd\fR session with an internal RMI registry\&amp;. This example assumes that no other server is bound to the default RMI registry port (port 1099)\&amp;.
122 .sp     
123 .nf     
124 \f3jstatd \-J\-Djava\&amp;.security\&amp;.policy=all\&amp;.policy\fP
125 .fi     
126 .nf     
127 \f3\fP
128 .fi     
129 .sp     
130 .SS EXTERNAL\ RMI\ REGISTRY    
131 This example starts a \f3jstatd\fR session with a external RMI registry\&amp;.
132 .sp     
133 .nf     
134 \f3rmiregistry&amp;\fP
135 .fi     
136 .nf     
137 \f3jstatd \-J\-Djava\&amp;.security\&amp;.policy=all\&amp;.policy\fP
138 .fi     
139 .nf     
140 \f3\fP
141 .fi     
142 .sp     
143 This example starts a \f3jstatd\fR session with an external RMI registry server on port 2020\&amp;.
144 .sp     
145 .nf     
146 \f3jrmiregistry 2020&amp;\fP
147 .fi     
148 .nf     
149 \f3jstatd \-J\-Djava\&amp;.security\&amp;.policy=all\&amp;.policy \-p 2020\fP
150 .fi     
151 .nf     
152 \f3\fP
153 .fi     
154 .sp     
155 This example starts a \f3jstatd\fR session with an external RMI registry on port 2020 that is bound to \f3AlternateJstatdServerName\fR\&amp;.
156 .sp     
157 .nf     
158 \f3rmiregistry 2020&amp;\fP
159 .fi     
160 .nf     
161 \f3jstatd \-J\-Djava\&amp;.security\&amp;.policy=all\&amp;.policy \-p 2020\fP
162 .fi     
163 .nf     
164 \f3    \-n AlternateJstatdServerName\fP
165 .fi     
166 .nf     
167 \f3\fP
168 .fi     
169 .sp     
170 .SS STOP\ THE\ CREATION\ OF\ AN\ IN-PROCESS\ RMI\ REGISTRY    
171 This example starts a \f3jstatd\fR session that does not create an RMI registry when one is not found\&amp;. This example assumes an RMI registry is already running\&amp;. If an RMI registry is not running, then an error message is displayed\&amp;.
172 .sp     
173 .nf     
174 \f3jstatd \-J\-Djava\&amp;.security\&amp;.policy=all\&amp;.policy \-nr\fP
175 .fi     
176 .nf     
177 \f3\fP
178 .fi     
179 .sp     
180 .SS ENABLE\ RMI\ LOGGING    
181 This example starts a \f3jstatd\fR session with RMI logging capabilities enabled\&amp;. This technique is useful as a troubleshooting aid or for monitoring server activities\&amp;.
182 .sp     
183 .nf     
184 \f3jstatd \-J\-Djava\&amp;.security\&amp;.policy=all\&amp;.policy\fP
185 .fi     
186 .nf     
187 \f3    \-J\-Djava\&amp;.rmi\&amp;.server\&amp;.logCalls=true\fP
188 .fi     
189 .nf     
190 \f3\fP
191 .fi     
192 .sp     
193 .SH SEE\ ALSO    
194 .TP 0.2i    
195 \(bu
196 java(1)
197 .TP 0.2i    
198 \(bu
199 jps(1)
200 .TP 0.2i    
201 \(bu
202 jstat(1)
203 .TP 0.2i    
204 \(bu
205 rmiregistry(1)
206 .RE
207 .br
208 &#39;pl 8.5i
209 &#39;bp
    </pre>
  </body>
</html>