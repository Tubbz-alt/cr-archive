<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.accessibility/windows/classes/com/sun/java/accessibility/internal/AccessBridge.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../../java.xml/share/legal/xerces.md.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../native/common/AccessBridgeDebug.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.accessibility/windows/classes/com/sun/java/accessibility/internal/AccessBridge.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
3762                 AccessibleComponent comp = ac.getAccessibleComponent();
3763                 if (!(comp instanceof AccessibleExtendedComponent)) {
3764                     return null;
3765                 }
3766                 AccessibleExtendedComponent aec = (AccessibleExtendedComponent) comp;
3767                 if (aec != null) {
3768                     AccessibleKeyBinding akb = aec.getAccessibleKeyBinding();
3769                     if (akb != null) {
3770                         Object o = akb.getAccessibleKeyBinding(0);
3771                         if (o instanceof KeyStroke) {
3772                             return (KeyStroke) o;
3773                         }
3774                     }
3775                 }
3776                 return null;
3777             }
3778         }, ac);
3779     }
3780 
3781     /*
<span class="line-modified">3782      * returns the JMenuItem accelerator</span>

3783      */
3784     private KeyStroke getAccelerator(final AccessibleContext ac) {
3785         // workaround for getAccessibleKeyBinding not returning the
3786         // JMenuItem accelerator
3787         if (ac == null)
3788             return null;
3789         return InvocationUtils.invokeAndWait(new Callable&lt;KeyStroke&gt;() {
3790             @Override
3791             public KeyStroke call() throws Exception {
3792                 Accessible parent = ac.getAccessibleParent();
3793                 if (parent instanceof Accessible) {
3794                     int indexInParent = ac.getAccessibleIndexInParent();
3795                     Accessible child =
3796                             parent.getAccessibleContext().getAccessibleChild(indexInParent);
3797                     if (child instanceof JMenuItem) {
3798                         JMenuItem menuItem = (JMenuItem) child;
3799                         if (menuItem == null)
3800                             return null;
3801                         KeyStroke keyStroke = menuItem.getAccelerator();
3802                         return keyStroke;
</pre>
</td>
<td>
<hr />
<pre>
3762                 AccessibleComponent comp = ac.getAccessibleComponent();
3763                 if (!(comp instanceof AccessibleExtendedComponent)) {
3764                     return null;
3765                 }
3766                 AccessibleExtendedComponent aec = (AccessibleExtendedComponent) comp;
3767                 if (aec != null) {
3768                     AccessibleKeyBinding akb = aec.getAccessibleKeyBinding();
3769                     if (akb != null) {
3770                         Object o = akb.getAccessibleKeyBinding(0);
3771                         if (o instanceof KeyStroke) {
3772                             return (KeyStroke) o;
3773                         }
3774                     }
3775                 }
3776                 return null;
3777             }
3778         }, ac);
3779     }
3780 
3781     /*
<span class="line-modified">3782      * Returns the JMenuItem accelerator. Similar implementation is used on</span>
<span class="line-added">3783      * macOS, see CAccessibility.getAcceleratorText(AccessibleContext).</span>
3784      */
3785     private KeyStroke getAccelerator(final AccessibleContext ac) {
3786         // workaround for getAccessibleKeyBinding not returning the
3787         // JMenuItem accelerator
3788         if (ac == null)
3789             return null;
3790         return InvocationUtils.invokeAndWait(new Callable&lt;KeyStroke&gt;() {
3791             @Override
3792             public KeyStroke call() throws Exception {
3793                 Accessible parent = ac.getAccessibleParent();
3794                 if (parent instanceof Accessible) {
3795                     int indexInParent = ac.getAccessibleIndexInParent();
3796                     Accessible child =
3797                             parent.getAccessibleContext().getAccessibleChild(indexInParent);
3798                     if (child instanceof JMenuItem) {
3799                         JMenuItem menuItem = (JMenuItem) child;
3800                         if (menuItem == null)
3801                             return null;
3802                         KeyStroke keyStroke = menuItem.getAccelerator();
3803                         return keyStroke;
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../../../java.xml/share/legal/xerces.md.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../native/common/AccessBridgeDebug.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>