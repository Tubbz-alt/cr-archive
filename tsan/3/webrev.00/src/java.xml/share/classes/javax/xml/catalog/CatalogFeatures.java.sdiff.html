<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.xml/share/classes/javax/xml/catalog/CatalogFeatures.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../com/sun/xml/internal/stream/writers/XMLEventWriterImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="CatalogResolver.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.xml/share/classes/javax/xml/catalog/CatalogFeatures.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
147  * &lt;p&gt;
148  * &lt;b&gt;[3]&lt;/b&gt; The Catalog specification defined complex rules on
149  * &lt;a href=&quot;https://www.oasis-open.org/committees/download.php/14809/xml-catalogs.html#attrib.prefer&quot;&gt;
150  * the prefer attribute&lt;/a&gt;. Although the prefer can be public or system, the
151  * specification actually made system the preferred option, that is, no matter
152  * the option, a system entry is always used if found. Public entries are only
153  * considered if the prefer is public and system entries are not found. It is
154  * therefore recommended that the prefer attribute be set as public
155  * (which is the default).
156  * &lt;p&gt;
157  * &lt;b&gt;[4]&lt;/b&gt; Although non-standard attributes in the OASIS Catalog specification,
158  * {@code defer} and {@code resolve} are recognized by the Java Catalog API the
159  * same as the {@code prefer} as being an attribute in the catalog entry of the
160  * main catalog. Note that only the attributes specified for the catalog entry
161  * of the main Catalog file will be used.
162   * &lt;p&gt;
163  * &lt;b&gt;[5]&lt;/b&gt; If the intention is to share an entire catalog store, it may be desirable to
164  * set the property {@code javax.xml.catalog.defer} to false to allow the entire
165  * catalog to be pre-loaded.
166  *
<span class="line-modified">167  * &lt;h3&gt;Scope and Order&lt;/h3&gt;</span>
168  * Features and properties can be set through the catalog file, the Catalog API,
169  * system properties, and {@code jaxp.properties}, with a preference in the same order.
170  * &lt;p&gt;
171  * Properties that are specified as attributes in the catalog file for the
172  * catalog and group entries shall take preference over any of the other settings.
173  * For example, if a {@code prefer} attribute is set in the catalog file as in
174  * {@code &lt;catalog prefer=&quot;public&quot;&gt;}, any other input for the &quot;prefer&quot; property
175  * is not necessary or will be ignored.
176  * &lt;p&gt;
177  * Properties set through the Catalog API override those that may have been set
178  * by system properties and/or in {@code jaxp.properties}. In case of multiple
179  * interfaces, the latest in a procedure shall take preference. For
180  * {@link Feature#FILES}, this means that the URI(s) specified through the methods
181  * of the {@link CatalogManager} will override any that may have been entered
182  * through the {@link Builder}.
183  *
184  * &lt;p&gt;
185  * System properties when set shall override those in {@code jaxp.properties}.
186  * &lt;p&gt;
187  * The {@code jaxp.properties} file is typically in the conf directory of the Java
188  * installation. The file is read only once by the JAXP implementation and
189  * its values are then cached for future use. If the file does not exist
190  * when the first attempt is made to read from it, no further attempts are
191  * made to check for its existence. It is not possible to change the value
192  * of any properties in {@code jaxp.properties} after it has been read.
193  * &lt;p&gt;
194  * A CatalogFeatures instance can be created through its builder as illustrated
195  * in the following sample code:
196  * &lt;pre&gt;{@code
197                 CatalogFeatures f = CatalogFeatures.builder()
198                         .with(Feature.FILES, &quot;file:///etc/xml/catalog&quot;)
199                         .with(Feature.PREFER, &quot;public&quot;)
200                         .with(Feature.DEFER, &quot;true&quot;)
201                         .with(Feature.RESOLVE, &quot;ignore&quot;)
202                         .build();
203  * }&lt;/pre&gt;
204  *
<span class="line-modified">205  * &lt;h3&gt;JAXP XML Processor Support&lt;/h3&gt;</span>
206  * The Catalog Features are supported throughout the JAXP processors, including
207  * SAX and DOM ({@link javax.xml.parsers}), and StAX parsers ({@link javax.xml.stream}),
208  * Schema Validation ({@link javax.xml.validation}), and XML Transformation
209  * ({@link javax.xml.transform}). The features described above can be set through JAXP
210  * factories or processors that define a setProperty or setAttribute interface.
211  * For example, the following code snippet sets a URI to a catalog file on a SAX
212  * parser through the {@code javax.xml.catalog.files} property:
213  *
214  * &lt;pre&gt;{@code
215  *      SAXParserFactory spf = SAXParserFactory.newInstance();
216  *      spf.setFeature(XMLConstants.USE_CATALOG, true); [1]
217  *      SAXParser parser = spf.newSAXParser();
218  *      parser.setProperty(CatalogFeatures.Feature.FILES.getPropertyName(), &quot;file:///etc/xml/catalog&quot;);
219  * }&lt;/pre&gt;
220  * &lt;p&gt;
221  * [1] Note that this statement is not required since the default value of
222  * {@link javax.xml.XMLConstants#USE_CATALOG USE_CATALOG} is true.
223  *
224  * &lt;p&gt;
225  * The JAXP Processors&#39; support for Catalog depends on both the
</pre>
<hr />
<pre>
229  * the {@code javax.xml.catalog.files} property. It will make no attempt to use
230  * the Catalog if either {@link javax.xml.XMLConstants#USE_CATALOG USE_CATALOG}
231  * is set to false, or there is no Catalog file specified.
232  *
233  * &lt;p&gt;
234  * The JAXP processors will observe the default settings of the
235  * {@link javax.xml.catalog.CatalogFeatures}. The processors, for example, will
236  * report an Exception by default when no matching entry is found since the
237  * default value of the {@code javax.xml.catalog.resolve} property is strict.
238  *
239  * &lt;p&gt;
240  * The JAXP processors give preference to user-specified custom resolvers. If such
241  * a resolver is registered, it will be used over the CatalogResolver. If it returns
242  * null however, the processors will continue resolving with the CatalogResolver.
243  * If it returns an empty source, no attempt will be made by the CatalogResolver.
244  *
245  * &lt;p&gt;
246  * The Catalog support is available for any process in the JAXP library that
247  * supports a resolver. The following table lists all such processes.
248  *
<span class="line-modified">249  * &lt;h3&gt;&lt;a id=&quot;ProcessesWithCatalogSupport&quot;&gt;Processes with Catalog Support&lt;/a&gt;&lt;/h3&gt;</span>
250  *
251  * &lt;table class=&quot;striped&quot;&gt;
252  * &lt;caption&gt;Processes with Catalog Support&lt;/caption&gt;
253  * &lt;thead&gt;
254  * &lt;tr&gt;
255  * &lt;th scope=&quot;col&quot;&gt;Process&lt;/th&gt;
256  * &lt;th scope=&quot;col&quot;&gt;Catalog Entry Type&lt;/th&gt;
257  * &lt;th scope=&quot;col&quot;&gt;Example&lt;/th&gt;
258  * &lt;/tr&gt;
259  * &lt;/thead&gt;
260  * &lt;tbody&gt;
261  * &lt;tr&gt;
262  * &lt;th scope=&quot;row&quot;&gt;DTDs and external entities&lt;/th&gt;
263  * &lt;td&gt;public, system&lt;/td&gt;
264  * &lt;td&gt;
265  * &lt;pre&gt;{@literal
266    The following DTD reference:
267    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
268 
269    Can be resolved using the following Catalog entry:
</pre>
</td>
<td>
<hr />
<pre>
147  * &lt;p&gt;
148  * &lt;b&gt;[3]&lt;/b&gt; The Catalog specification defined complex rules on
149  * &lt;a href=&quot;https://www.oasis-open.org/committees/download.php/14809/xml-catalogs.html#attrib.prefer&quot;&gt;
150  * the prefer attribute&lt;/a&gt;. Although the prefer can be public or system, the
151  * specification actually made system the preferred option, that is, no matter
152  * the option, a system entry is always used if found. Public entries are only
153  * considered if the prefer is public and system entries are not found. It is
154  * therefore recommended that the prefer attribute be set as public
155  * (which is the default).
156  * &lt;p&gt;
157  * &lt;b&gt;[4]&lt;/b&gt; Although non-standard attributes in the OASIS Catalog specification,
158  * {@code defer} and {@code resolve} are recognized by the Java Catalog API the
159  * same as the {@code prefer} as being an attribute in the catalog entry of the
160  * main catalog. Note that only the attributes specified for the catalog entry
161  * of the main Catalog file will be used.
162   * &lt;p&gt;
163  * &lt;b&gt;[5]&lt;/b&gt; If the intention is to share an entire catalog store, it may be desirable to
164  * set the property {@code javax.xml.catalog.defer} to false to allow the entire
165  * catalog to be pre-loaded.
166  *
<span class="line-modified">167  * &lt;h2&gt;Scope and Order&lt;/h2&gt;</span>
168  * Features and properties can be set through the catalog file, the Catalog API,
169  * system properties, and {@code jaxp.properties}, with a preference in the same order.
170  * &lt;p&gt;
171  * Properties that are specified as attributes in the catalog file for the
172  * catalog and group entries shall take preference over any of the other settings.
173  * For example, if a {@code prefer} attribute is set in the catalog file as in
174  * {@code &lt;catalog prefer=&quot;public&quot;&gt;}, any other input for the &quot;prefer&quot; property
175  * is not necessary or will be ignored.
176  * &lt;p&gt;
177  * Properties set through the Catalog API override those that may have been set
178  * by system properties and/or in {@code jaxp.properties}. In case of multiple
179  * interfaces, the latest in a procedure shall take preference. For
180  * {@link Feature#FILES}, this means that the URI(s) specified through the methods
181  * of the {@link CatalogManager} will override any that may have been entered
182  * through the {@link Builder}.
183  *
184  * &lt;p&gt;
185  * System properties when set shall override those in {@code jaxp.properties}.
186  * &lt;p&gt;
187  * The {@code jaxp.properties} file is typically in the conf directory of the Java
188  * installation. The file is read only once by the JAXP implementation and
189  * its values are then cached for future use. If the file does not exist
190  * when the first attempt is made to read from it, no further attempts are
191  * made to check for its existence. It is not possible to change the value
192  * of any properties in {@code jaxp.properties} after it has been read.
193  * &lt;p&gt;
194  * A CatalogFeatures instance can be created through its builder as illustrated
195  * in the following sample code:
196  * &lt;pre&gt;{@code
197                 CatalogFeatures f = CatalogFeatures.builder()
198                         .with(Feature.FILES, &quot;file:///etc/xml/catalog&quot;)
199                         .with(Feature.PREFER, &quot;public&quot;)
200                         .with(Feature.DEFER, &quot;true&quot;)
201                         .with(Feature.RESOLVE, &quot;ignore&quot;)
202                         .build();
203  * }&lt;/pre&gt;
204  *
<span class="line-modified">205  * &lt;h2&gt;JAXP XML Processor Support&lt;/h2&gt;</span>
206  * The Catalog Features are supported throughout the JAXP processors, including
207  * SAX and DOM ({@link javax.xml.parsers}), and StAX parsers ({@link javax.xml.stream}),
208  * Schema Validation ({@link javax.xml.validation}), and XML Transformation
209  * ({@link javax.xml.transform}). The features described above can be set through JAXP
210  * factories or processors that define a setProperty or setAttribute interface.
211  * For example, the following code snippet sets a URI to a catalog file on a SAX
212  * parser through the {@code javax.xml.catalog.files} property:
213  *
214  * &lt;pre&gt;{@code
215  *      SAXParserFactory spf = SAXParserFactory.newInstance();
216  *      spf.setFeature(XMLConstants.USE_CATALOG, true); [1]
217  *      SAXParser parser = spf.newSAXParser();
218  *      parser.setProperty(CatalogFeatures.Feature.FILES.getPropertyName(), &quot;file:///etc/xml/catalog&quot;);
219  * }&lt;/pre&gt;
220  * &lt;p&gt;
221  * [1] Note that this statement is not required since the default value of
222  * {@link javax.xml.XMLConstants#USE_CATALOG USE_CATALOG} is true.
223  *
224  * &lt;p&gt;
225  * The JAXP Processors&#39; support for Catalog depends on both the
</pre>
<hr />
<pre>
229  * the {@code javax.xml.catalog.files} property. It will make no attempt to use
230  * the Catalog if either {@link javax.xml.XMLConstants#USE_CATALOG USE_CATALOG}
231  * is set to false, or there is no Catalog file specified.
232  *
233  * &lt;p&gt;
234  * The JAXP processors will observe the default settings of the
235  * {@link javax.xml.catalog.CatalogFeatures}. The processors, for example, will
236  * report an Exception by default when no matching entry is found since the
237  * default value of the {@code javax.xml.catalog.resolve} property is strict.
238  *
239  * &lt;p&gt;
240  * The JAXP processors give preference to user-specified custom resolvers. If such
241  * a resolver is registered, it will be used over the CatalogResolver. If it returns
242  * null however, the processors will continue resolving with the CatalogResolver.
243  * If it returns an empty source, no attempt will be made by the CatalogResolver.
244  *
245  * &lt;p&gt;
246  * The Catalog support is available for any process in the JAXP library that
247  * supports a resolver. The following table lists all such processes.
248  *
<span class="line-modified">249  * &lt;h2&gt;&lt;a id=&quot;ProcessesWithCatalogSupport&quot;&gt;Processes with Catalog Support&lt;/a&gt;&lt;/h2&gt;</span>
250  *
251  * &lt;table class=&quot;striped&quot;&gt;
252  * &lt;caption&gt;Processes with Catalog Support&lt;/caption&gt;
253  * &lt;thead&gt;
254  * &lt;tr&gt;
255  * &lt;th scope=&quot;col&quot;&gt;Process&lt;/th&gt;
256  * &lt;th scope=&quot;col&quot;&gt;Catalog Entry Type&lt;/th&gt;
257  * &lt;th scope=&quot;col&quot;&gt;Example&lt;/th&gt;
258  * &lt;/tr&gt;
259  * &lt;/thead&gt;
260  * &lt;tbody&gt;
261  * &lt;tr&gt;
262  * &lt;th scope=&quot;row&quot;&gt;DTDs and external entities&lt;/th&gt;
263  * &lt;td&gt;public, system&lt;/td&gt;
264  * &lt;td&gt;
265  * &lt;pre&gt;{@literal
266    The following DTD reference:
267    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
268 
269    Can be resolved using the following Catalog entry:
</pre>
</td>
</tr>
</table>
<center><a href="../../../com/sun/xml/internal/stream/writers/XMLEventWriterImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="CatalogResolver.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>