<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.xml/share/classes/com/sun/org/apache/xerces/internal/util/ParserConfigurationSettings.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../parsers/AbstractSAXParser.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../xml/internal/serialize/ElementState.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.xml/share/classes/com/sun/org/apache/xerces/internal/util/ParserConfigurationSettings.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 2010, 2016, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 2010, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   */
  /*
   * Licensed to the Apache Software Foundation (ASF) under one or more
   * contributor license agreements.  See the NOTICE file distributed with
   * this work for additional information regarding copyright ownership.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -21,15 +21,15 @@</span>
  package com.sun.org.apache.xerces.internal.util;
  
  import com.sun.org.apache.xerces.internal.impl.Constants;
  import com.sun.org.apache.xerces.internal.xni.parser.XMLComponentManager;
  import com.sun.org.apache.xerces.internal.xni.parser.XMLConfigurationException;
<span class="udiff-line-added">+ import java.util.ArrayList;</span>
  import java.util.Arrays;
  import java.util.HashMap;
<span class="udiff-line-modified-removed">- import java.util.HashSet;</span>
<span class="udiff-line-modified-added">+ import java.util.List;</span>
  import java.util.Map;
<span class="udiff-line-removed">- import java.util.Set;</span>
  
  /**
   * This class implements the basic operations for managing parser
   * configuration features and properties. This utility class can
   * be used as a base class for parser configurations or separately
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -40,10 +40,11 @@</span>
   * (in the form of an &lt;code&gt;XMLComponentManager&lt;/code&gt;) that allows
   * parser configuration settings to be &quot;chained&quot; together.
   *
   * @author Andy Clark, IBM
   *
<span class="udiff-line-added">+  * @LastModified: Apr 2019</span>
   */
  public class ParserConfigurationSettings
      implements XMLComponentManager {
  
          protected static final String PARSER_SETTINGS =
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -54,17 +55,17 @@</span>
      //
  
      // data
  
      /** Recognized properties. */
<span class="udiff-line-modified-removed">-     protected Set&lt;String&gt; fRecognizedProperties;</span>
<span class="udiff-line-modified-added">+     protected List&lt;String&gt; fRecognizedProperties;</span>
  
      /** Properties. */
      protected Map&lt;String, Object&gt; fProperties;
  
      /** Recognized features. */
<span class="udiff-line-modified-removed">-     protected Set&lt;String&gt; fRecognizedFeatures;</span>
<span class="udiff-line-modified-added">+     protected List&lt;String&gt; fRecognizedFeatures;</span>
  
      /** Features. */
      protected Map&lt;String, Boolean&gt; fFeatures;
  
      /** Parent parser configuration settings. */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -84,12 +85,12 @@</span>
       * parent settings object.
       */
      public ParserConfigurationSettings(XMLComponentManager parent) {
  
          // create storage for recognized features and properties
<span class="udiff-line-modified-removed">-         fRecognizedFeatures = new HashSet&lt;&gt;();</span>
<span class="udiff-line-modified-removed">-         fRecognizedProperties = new HashSet&lt;&gt;();</span>
<span class="udiff-line-modified-added">+         fRecognizedFeatures = new ArrayList&lt;&gt;();</span>
<span class="udiff-line-modified-added">+         fRecognizedProperties = new ArrayList&lt;&gt;();</span>
  
          // create table for features and properties
          fFeatures = new HashMap&lt;&gt;();
          fProperties = new HashMap&lt;&gt;();
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -193,11 +194,11 @@</span>
       *                                   only throw this exception if
       *                                   it is &lt;strong&gt;really&lt;/strong&gt;
       *                                   a critical error.
       */
      @Override
<span class="udiff-line-modified-removed">-     public final boolean getFeature(String featureId)</span>
<span class="udiff-line-modified-added">+     public boolean getFeature(String featureId)</span>
          throws XMLConfigurationException {
  
          FeatureState state = getFeatureState(featureId);
          if (state.isExceptional()) {
              throw new XMLConfigurationException(state.status, featureId);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -220,11 +221,11 @@</span>
  
          if (state == null) {
              FeatureState checkState = checkFeature(featureId);
              if (checkState.isExceptional()) {
                  return checkState;
<span class="udiff-line-modified-removed">-             }</span>
<span class="udiff-line-modified-added">+         }</span>
              return FeatureState.is(false);
          }
          return FeatureState.is(state);
      }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -239,11 +240,11 @@</span>
       *                                   only throw this exception if
       *                                   it is &lt;strong&gt;really&lt;/strong&gt;
       *                                   a critical error.
       */
      @Override
<span class="udiff-line-modified-removed">-     public final Object getProperty(String propertyId)</span>
<span class="udiff-line-modified-added">+     public Object getProperty(String propertyId)</span>
          throws XMLConfigurationException {
  
          PropertyState state = getPropertyState(propertyId);
          if (state.isExceptional()) {
              throw new XMLConfigurationException(state.status, propertyId);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -268,11 +269,11 @@</span>
  
          if (propertyValue == null) {
              PropertyState state = checkProperty(propertyId);
              if (state.isExceptional()) {
                  return state;
<span class="udiff-line-modified-removed">-             }</span>
<span class="udiff-line-modified-added">+         }</span>
          }
  
          return PropertyState.is(propertyValue);
      }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -323,11 +324,11 @@</span>
          if (!fRecognizedProperties.contains(propertyId)) {
              if (fParentSettings != null) {
                  PropertyState state = fParentSettings.getPropertyState(propertyId);
                  if (state.isExceptional()) {
                      return state;
<span class="udiff-line-modified-removed">-                 }</span>
<span class="udiff-line-modified-added">+             }</span>
              }
              else {
                  return PropertyState.NOT_RECOGNIZED;
              }
          }
</pre>
<center><a href="../parsers/AbstractSAXParser.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../xml/internal/serialize/ElementState.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>