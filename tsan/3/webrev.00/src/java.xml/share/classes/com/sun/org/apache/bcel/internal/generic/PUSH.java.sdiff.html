<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.xml/share/classes/com/sun/org/apache/bcel/internal/generic/PUSH.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="POP2.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="PUTFIELD.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.xml/share/classes/com/sun/org/apache/bcel/internal/generic/PUSH.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2017, Oracle and/or its affiliates. All rights reserved.</span>
  3  */
  4 /*
  5  * Licensed to the Apache Software Foundation (ASF) under one or more
  6  * contributor license agreements.  See the NOTICE file distributed with
  7  * this work for additional information regarding copyright ownership.
  8  * The ASF licenses this file to You under the Apache License, Version 2.0
  9  * (the &quot;License&quot;); you may not use this file except in compliance with
 10  * the License.  You may obtain a copy of the License at
 11  *
 12  *      http://www.apache.org/licenses/LICENSE-2.0
 13  *
 14  * Unless required by applicable law or agreed to in writing, software
 15  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 16  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 17  * See the License for the specific language governing permissions and
 18  * limitations under the License.
 19  */
 20 
 21 package com.sun.org.apache.bcel.internal.generic;
 22 
 23 import com.sun.org.apache.bcel.internal.Const;
 24 
 25 /**
 26  * Wrapper class for push operations, which are implemented either as BIPUSH,
 27  * LDC or xCONST_n instructions.
 28  *
<span class="line-modified"> 29  * @version $Id: PUSH.java 1749598 2016-06-21 20:36:33Z ggregory $</span>
 30  */
 31 public final class PUSH implements CompoundInstruction, VariableLengthInstruction {
 32 
 33     private Instruction instruction;
 34 
 35 
 36     /**
 37      * This constructor also applies for values of type short, char, byte
 38      *
 39      * @param cp Constant pool
 40      * @param value to be pushed
 41      */
 42     public PUSH(final ConstantPoolGen cp, final int value) {
 43         if ((value &gt;= -1) &amp;&amp; (value &lt;= 5)) {
 44             instruction = InstructionConst.getInstruction(Const.ICONST_0 + value);
 45         } else if (Instruction.isValidByte(value)) {
 46             instruction = new BIPUSH((byte) value);
 47         } else if (Instruction.isValidShort(value)) {
 48             instruction = new SIPUSH((short) value);
 49         } else {
</pre>
<hr />
<pre>
158      * autoboxing to create this value parameter, as an alternative constructor will be called
159      *
160      * @param cp Constant pool
161      * @param value to be pushed
162      */
163     public PUSH(final ConstantPoolGen cp, final Character value) {
164         this(cp, value.charValue());
165     }
166 
167 
168     /**
169      * @param cp Constant pool
170      * @param value to be pushed
171      */
172     public PUSH(final ConstantPoolGen cp, final Boolean value) {
173         this(cp, value.booleanValue());
174     }
175 
176 
177     @Override
<span class="line-modified">178     public final InstructionList getInstructionList() {</span>
179         return new InstructionList(instruction);
180     }
181 
182 
<span class="line-modified">183     public final Instruction getInstruction() {</span>
184         return instruction;
185     }
186 
187 
188     /**
189      * @return mnemonic for instruction
190      */
191     @Override
192     public String toString() {
193         return instruction + &quot; (PUSH)&quot;;
194     }
195 }
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2017, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3  */
  4 /*
  5  * Licensed to the Apache Software Foundation (ASF) under one or more
  6  * contributor license agreements.  See the NOTICE file distributed with
  7  * this work for additional information regarding copyright ownership.
  8  * The ASF licenses this file to You under the Apache License, Version 2.0
  9  * (the &quot;License&quot;); you may not use this file except in compliance with
 10  * the License.  You may obtain a copy of the License at
 11  *
 12  *      http://www.apache.org/licenses/LICENSE-2.0
 13  *
 14  * Unless required by applicable law or agreed to in writing, software
 15  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 16  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 17  * See the License for the specific language governing permissions and
 18  * limitations under the License.
 19  */
 20 
 21 package com.sun.org.apache.bcel.internal.generic;
 22 
 23 import com.sun.org.apache.bcel.internal.Const;
 24 
 25 /**
 26  * Wrapper class for push operations, which are implemented either as BIPUSH,
 27  * LDC or xCONST_n instructions.
 28  *
<span class="line-modified"> 29  * @LastModified: Jan 2020</span>
 30  */
 31 public final class PUSH implements CompoundInstruction, VariableLengthInstruction {
 32 
 33     private Instruction instruction;
 34 
 35 
 36     /**
 37      * This constructor also applies for values of type short, char, byte
 38      *
 39      * @param cp Constant pool
 40      * @param value to be pushed
 41      */
 42     public PUSH(final ConstantPoolGen cp, final int value) {
 43         if ((value &gt;= -1) &amp;&amp; (value &lt;= 5)) {
 44             instruction = InstructionConst.getInstruction(Const.ICONST_0 + value);
 45         } else if (Instruction.isValidByte(value)) {
 46             instruction = new BIPUSH((byte) value);
 47         } else if (Instruction.isValidShort(value)) {
 48             instruction = new SIPUSH((short) value);
 49         } else {
</pre>
<hr />
<pre>
158      * autoboxing to create this value parameter, as an alternative constructor will be called
159      *
160      * @param cp Constant pool
161      * @param value to be pushed
162      */
163     public PUSH(final ConstantPoolGen cp, final Character value) {
164         this(cp, value.charValue());
165     }
166 
167 
168     /**
169      * @param cp Constant pool
170      * @param value to be pushed
171      */
172     public PUSH(final ConstantPoolGen cp, final Boolean value) {
173         this(cp, value.booleanValue());
174     }
175 
176 
177     @Override
<span class="line-modified">178     public InstructionList getInstructionList() {</span>
179         return new InstructionList(instruction);
180     }
181 
182 
<span class="line-modified">183     public Instruction getInstruction() {</span>
184         return instruction;
185     }
186 
187 
188     /**
189      * @return mnemonic for instruction
190      */
191     @Override
192     public String toString() {
193         return instruction + &quot; (PUSH)&quot;;
194     }
195 }
</pre>
</td>
</tr>
</table>
<center><a href="POP2.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="PUTFIELD.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>