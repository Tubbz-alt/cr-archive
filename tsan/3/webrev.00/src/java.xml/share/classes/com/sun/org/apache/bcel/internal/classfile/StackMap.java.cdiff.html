<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.xml/share/classes/com/sun/org/apache/bcel/internal/classfile/StackMap.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="SourceFile.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="StackMapEntry.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.xml/share/classes/com/sun/org/apache/bcel/internal/classfile/StackMap.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 28,17 ***</span>
  import com.sun.org.apache.bcel.internal.Const;
  
  /**
   * This class represents a stack map attribute used for
   * preverification of Java classes for the &lt;a
<span class="line-modified">!  * href=&quot;http://java.sun.com/j2me/&quot;&gt; Java 2 Micro Edition&lt;/a&gt;</span>
<span class="line-modified">!  * (J2ME). This attribute is used by the &lt;a</span>
<span class="line-modified">!  * href=&quot;http://java.sun.com/products/cldc/&quot;&gt;KVM&lt;/a&gt; and contained</span>
<span class="line-modified">!  * within the Code attribute of a method. See CLDC specification</span>
   * 5.3.1.2
   *
<span class="line-removed">-  * @version $Id: StackMap.java 1749603 2016-06-21 20:50:19Z ggregory $</span>
   * @see     Code
   * @see     StackMapEntry
   * @see     StackMapType
   */
  public final class StackMap extends Attribute {
<span class="line-new-header">--- 28,16 ---</span>
  import com.sun.org.apache.bcel.internal.Const;
  
  /**
   * This class represents a stack map attribute used for
   * preverification of Java classes for the &lt;a
<span class="line-modified">!  * href=&quot;https://www.oracle.com/java/technologies/javameoverview.html&quot;&gt;Java Platform, Micro Edition&lt;/a&gt;</span>
<span class="line-modified">!  * (Java ME). This attribute is used by the &lt;a</span>
<span class="line-modified">!  * href=&quot;https://www.oracle.com/technetwork/java/embedded/javame/java-mobile/kvmwp-150240.pdf&quot;&gt;KVM&lt;/a&gt;</span>
<span class="line-modified">!  * and contained within the Code attribute of a method. See CLDC specification</span>
   * 5.3.1.2
   *
   * @see     Code
   * @see     StackMapEntry
   * @see     StackMapType
   */
  public final class StackMap extends Attribute {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 76,17 ***</span>
          }
      }
  
  
      /**
<span class="line-modified">!      * Dump line number table attribute to file stream in binary format.</span>
       *
       * @param file Output file stream
       * @throws IOException
       */
      @Override
<span class="line-modified">!     public final void dump( final DataOutputStream file ) throws IOException {</span>
          super.dump(file);
          file.writeShort(map.length);
          for (final StackMapEntry entry : map) {
              entry.dump(file);
          }
<span class="line-new-header">--- 75,17 ---</span>
          }
      }
  
  
      /**
<span class="line-modified">!      * Dump stack map table attribute to file stream in binary format.</span>
       *
       * @param file Output file stream
       * @throws IOException
       */
      @Override
<span class="line-modified">!     public void dump( final DataOutputStream file ) throws IOException {</span>
          super.dump(file);
          file.writeShort(map.length);
          for (final StackMapEntry entry : map) {
              entry.dump(file);
          }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 94,19 ***</span>
  
  
      /**
       * @return Array of stack map entries
       */
<span class="line-modified">!     public final StackMapEntry[] getStackMap() {</span>
          return map;
      }
  
  
      /**
       * @param map Array of stack map entries
       */
<span class="line-modified">!     public final void setStackMap( final StackMapEntry[] map ) {</span>
          this.map = map;
          int len = 2; // Length of &#39;number_of_entries&#39; field prior to the array of stack maps
          for (final StackMapEntry element : map) {
              len += element.getMapEntrySize();
          }
<span class="line-new-header">--- 93,19 ---</span>
  
  
      /**
       * @return Array of stack map entries
       */
<span class="line-modified">!     public StackMapEntry[] getStackMap() {</span>
          return map;
      }
  
  
      /**
       * @param map Array of stack map entries
       */
<span class="line-modified">!     public void setStackMap( final StackMapEntry[] map ) {</span>
          this.map = map;
          int len = 2; // Length of &#39;number_of_entries&#39; field prior to the array of stack maps
          for (final StackMapEntry element : map) {
              len += element.getMapEntrySize();
          }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 116,11 ***</span>
  
      /**
       * @return String representation.
       */
      @Override
<span class="line-modified">!     public final String toString() {</span>
          final StringBuilder buf = new StringBuilder(&quot;StackMap(&quot;);
          for (int i = 0; i &lt; map.length; i++) {
              buf.append(map[i]);
              if (i &lt; map.length - 1) {
                  buf.append(&quot;, &quot;);
<span class="line-new-header">--- 115,11 ---</span>
  
      /**
       * @return String representation.
       */
      @Override
<span class="line-modified">!     public String toString() {</span>
          final StringBuilder buf = new StringBuilder(&quot;StackMap(&quot;);
          for (int i = 0; i &lt; map.length; i++) {
              buf.append(map[i]);
              if (i &lt; map.length - 1) {
                  buf.append(&quot;, &quot;);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 157,9 ***</span>
      public void accept( final Visitor v ) {
          v.visitStackMap(this);
      }
  
  
<span class="line-modified">!     public final int getMapLength() {</span>
          return map == null ? 0 : map.length;
      }
  }
<span class="line-new-header">--- 156,9 ---</span>
      public void accept( final Visitor v ) {
          v.visitStackMap(this);
      }
  
  
<span class="line-modified">!     public int getMapLength() {</span>
          return map == null ? 0 : map.length;
      }
  }
</pre>
<center><a href="SourceFile.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="StackMapEntry.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>