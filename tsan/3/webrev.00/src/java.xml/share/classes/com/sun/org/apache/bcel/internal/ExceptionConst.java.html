<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New src/java.xml/share/classes/com/sun/org/apache/bcel/internal/ExceptionConst.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (c) 2017, 2020 Oracle and/or its affiliates. All rights reserved.
  3  */
  4 /*
  5  * Licensed to the Apache Software Foundation (ASF) under one or more
  6  * contributor license agreements.  See the NOTICE file distributed with
  7  * this work for additional information regarding copyright ownership.
  8  * The ASF licenses this file to You under the Apache License, Version 2.0
  9  * (the &quot;License&quot;); you may not use this file except in compliance with
 10  * the License.  You may obtain a copy of the License at
 11  *
 12  *      http://www.apache.org/licenses/LICENSE-2.0
 13  *
 14  * Unless required by applicable law or agreed to in writing, software
 15  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 16  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 17  * See the License for the specific language governing permissions and
 18  * limitations under the License.
 19  */
 20 
 21 package com.sun.org.apache.bcel.internal;
 22 
 23 /**
 24  * Exception constants.
 25  * @since 6.0 (intended to replace the InstructionConstant interface)
 26  * @LastModified: Jan 2020
 27  */
 28 public final class ExceptionConst {
 29 
 30     /** The mother of all exceptions
 31      */
 32     public static final Class&lt;Throwable&gt; THROWABLE = Throwable.class;
 33     /** Super class of any run-time exception
 34      */
 35     public static final Class&lt;RuntimeException&gt; RUNTIME_EXCEPTION = RuntimeException.class;
 36     /** Super class of any linking exception (aka Linkage Error)
 37      */
 38     public static final Class&lt;LinkageError&gt; LINKING_EXCEPTION = LinkageError.class;
 39     /** Linking Exceptions
 40      */
 41     public static final Class&lt;ClassCircularityError&gt; CLASS_CIRCULARITY_ERROR = ClassCircularityError.class;
 42     public static final Class&lt;ClassFormatError&gt; CLASS_FORMAT_ERROR = ClassFormatError.class;
 43     public static final Class&lt;ExceptionInInitializerError&gt; EXCEPTION_IN_INITIALIZER_ERROR = ExceptionInInitializerError.class;
 44     public static final Class&lt;IncompatibleClassChangeError&gt; INCOMPATIBLE_CLASS_CHANGE_ERROR = IncompatibleClassChangeError.class;
 45     public static final Class&lt;AbstractMethodError&gt; ABSTRACT_METHOD_ERROR = AbstractMethodError.class;
 46     public static final Class&lt;IllegalAccessError&gt; ILLEGAL_ACCESS_ERROR = IllegalAccessError.class;
 47     public static final Class&lt;InstantiationError&gt; INSTANTIATION_ERROR = InstantiationError.class;
 48     public static final Class&lt;NoSuchFieldError&gt; NO_SUCH_FIELD_ERROR = NoSuchFieldError.class;
 49     public static final Class&lt;NoSuchMethodError&gt; NO_SUCH_METHOD_ERROR = NoSuchMethodError.class;
 50     public static final Class&lt;NoClassDefFoundError&gt; NO_CLASS_DEF_FOUND_ERROR = NoClassDefFoundError.class;
 51     public static final Class&lt;UnsatisfiedLinkError&gt; UNSATISFIED_LINK_ERROR = UnsatisfiedLinkError.class;
 52     public static final Class&lt;VerifyError&gt; VERIFY_ERROR = VerifyError.class;
 53     /* UnsupportedClassVersionError is new in JDK 1.2 */
 54 //    public static final Class UnsupportedClassVersionError = UnsupportedClassVersionError.class;
 55     /** Run-Time Exceptions
 56      */
 57     public static final Class&lt;NullPointerException&gt; NULL_POINTER_EXCEPTION = NullPointerException.class;
 58     public static final Class&lt;ArrayIndexOutOfBoundsException&gt; ARRAY_INDEX_OUT_OF_BOUNDS_EXCEPTION
 59                                                             = ArrayIndexOutOfBoundsException.class;
 60     public static final Class&lt;ArithmeticException&gt; ARITHMETIC_EXCEPTION = ArithmeticException.class;
 61     public static final Class&lt;NegativeArraySizeException&gt; NEGATIVE_ARRAY_SIZE_EXCEPTION = NegativeArraySizeException.class;
 62     public static final Class&lt;ClassCastException&gt; CLASS_CAST_EXCEPTION = ClassCastException.class;
 63     public static final Class&lt;IllegalMonitorStateException&gt; ILLEGAL_MONITOR_STATE = IllegalMonitorStateException.class;
 64 
 65     /**
 66      * Pre-defined exception arrays according to chapters 5.1-5.4 of the Java Virtual
 67      * Machine Specification
 68      */
 69     private static final Class&lt;?&gt;[] EXCS_CLASS_AND_INTERFACE_RESOLUTION = {
 70             NO_CLASS_DEF_FOUND_ERROR, CLASS_FORMAT_ERROR, VERIFY_ERROR, ABSTRACT_METHOD_ERROR,
 71             EXCEPTION_IN_INITIALIZER_ERROR, ILLEGAL_ACCESS_ERROR
 72     }; // Chapter 5.1
 73     private static final Class&lt;?&gt;[] EXCS_FIELD_AND_METHOD_RESOLUTION = {
 74             NO_SUCH_FIELD_ERROR, ILLEGAL_ACCESS_ERROR, NO_SUCH_METHOD_ERROR
 75     }; // Chapter 5.2
 76     private static final Class&lt;?&gt;[] EXCS_INTERFACE_METHOD_RESOLUTION = new Class&lt;?&gt;[0]; // Chapter 5.3 (as below)
 77     private static final Class&lt;?&gt;[] EXCS_STRING_RESOLUTION = new Class&lt;?&gt;[0];
 78     // Chapter 5.4 (no errors but the ones that _always_ could happen! How stupid.)
 79     private static final Class&lt;?&gt;[] EXCS_ARRAY_EXCEPTION = {
 80             NULL_POINTER_EXCEPTION, ARRAY_INDEX_OUT_OF_BOUNDS_EXCEPTION
 81     };
 82 
 83     /**
 84      * Enum corresponding to the various Exception Class arrays,
 85      * used by {@link ExceptionConst#createExceptions(EXCS, Class...)}
 86      */
 87     public enum EXCS {
 88         EXCS_CLASS_AND_INTERFACE_RESOLUTION,
 89         EXCS_FIELD_AND_METHOD_RESOLUTION,
 90         EXCS_INTERFACE_METHOD_RESOLUTION,
 91         EXCS_STRING_RESOLUTION,
 92         EXCS_ARRAY_EXCEPTION,
 93     }
 94 
 95     // helper method to merge exception class arrays
 96     private static Class&lt;?&gt;[] mergeExceptions(final Class&lt;?&gt;[] input, final Class&lt;?&gt; ... extraClasses) {
 97         final int extraLen = extraClasses == null ? 0 : extraClasses.length;
 98         final Class&lt;?&gt;[] excs = new Class&lt;?&gt;[input.length + extraLen];
 99         System.arraycopy(input, 0, excs, 0, input.length);
100         if (extraLen &gt; 0) {
101             System.arraycopy(extraClasses, 0, excs, input.length, extraLen);
102         }
103         return excs;
104     }
105 
106     /**
107      * Creates a copy of the specified Exception Class array combined with any additional Exception classes.
108      * @param type the basic array type
109      * @param extraClasses additional classes, if any
110      * @return the merged array
111      */
112     public static Class&lt;?&gt;[] createExceptions(final EXCS type, final Class&lt;?&gt; ... extraClasses) {
113         switch (type) {
114         case EXCS_CLASS_AND_INTERFACE_RESOLUTION:
115             return mergeExceptions(EXCS_CLASS_AND_INTERFACE_RESOLUTION, extraClasses);
116         case EXCS_ARRAY_EXCEPTION:
117             return mergeExceptions(EXCS_ARRAY_EXCEPTION, extraClasses);
118         case EXCS_FIELD_AND_METHOD_RESOLUTION:
119             return mergeExceptions(EXCS_FIELD_AND_METHOD_RESOLUTION, extraClasses);
120         case EXCS_INTERFACE_METHOD_RESOLUTION:
121             return mergeExceptions(EXCS_INTERFACE_METHOD_RESOLUTION, extraClasses);
122         case EXCS_STRING_RESOLUTION:
123             return mergeExceptions(EXCS_STRING_RESOLUTION, extraClasses);
124         default:
125             throw new AssertionError(&quot;Cannot happen; unexpected enum value: &quot; + type);
126         }
127     }
128 
129 
130 }
    </pre>
  </body>
</html>