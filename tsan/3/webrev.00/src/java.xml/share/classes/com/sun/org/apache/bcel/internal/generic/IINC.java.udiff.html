<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.xml/share/classes/com/sun/org/apache/bcel/internal/generic/IINC.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="IF_ICMPNE.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="ILOAD.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.xml/share/classes/com/sun/org/apache/bcel/internal/generic/IINC.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -27,32 +27,31 @@</span>
  import com.sun.org.apache.bcel.internal.util.ByteSequence;
  
  /**
   * IINC - Increment local variable by constant
   *
<span class="udiff-line-removed">-  * @version $Id: IINC.java 1747278 2016-06-07 17:28:43Z britter $</span>
   */
  public class IINC extends LocalVariableInstruction {
  
      private boolean wide;
      private int c;
  
  
      /**
<span class="udiff-line-modified-removed">-      * Empty constructor needed for the Class.newInstance() statement in</span>
<span class="udiff-line-modified-removed">-      * Instruction.readInstruction(). Not to be used otherwise.</span>
<span class="udiff-line-modified-added">+      * Empty constructor needed for Instruction.readInstruction.</span>
<span class="udiff-line-modified-added">+      * Not to be used otherwise.</span>
       */
      IINC() {
      }
  
  
      /**
       * @param n index of local variable
       * @param c increment factor
       */
      public IINC(final int n, final int c) {
<span class="udiff-line-modified-removed">-         super(); // Default behaviour of LocalVariableInstruction causes error</span>
<span class="udiff-line-modified-added">+         super(); // Default behavior of LocalVariableInstruction causes error</span>
          super.setOpcode(com.sun.org.apache.bcel.internal.Const.IINC);
          super.setLength((short) 3);
          setIndex(n); // May set wide as side effect
          setIncrement(c);
      }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -77,11 +76,16 @@</span>
          }
      }
  
  
      private void setWide() {
<span class="udiff-line-modified-removed">-         wide = (super.getIndex() &gt; com.sun.org.apache.bcel.internal.Const.MAX_BYTE) || (Math.abs(c) &gt; Byte.MAX_VALUE);</span>
<span class="udiff-line-modified-added">+         wide = super.getIndex() &gt; com.sun.org.apache.bcel.internal.Const.MAX_BYTE;</span>
<span class="udiff-line-added">+         if (c &gt; 0) {</span>
<span class="udiff-line-added">+             wide = wide || (c &gt; Byte.MAX_VALUE);</span>
<span class="udiff-line-added">+         } else {</span>
<span class="udiff-line-added">+             wide = wide || (c &lt; Byte.MIN_VALUE);</span>
<span class="udiff-line-added">+         }</span>
          if (wide) {
              super.setLength(6); // wide byte included
          } else {
              super.setLength(3);
          }
</pre>
<center><a href="IF_ICMPNE.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="ILOAD.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>