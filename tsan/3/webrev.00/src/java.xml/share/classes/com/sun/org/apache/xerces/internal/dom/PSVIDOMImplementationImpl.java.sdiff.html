<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.xml/share/classes/com/sun/org/apache/xerces/internal/dom/PSVIDOMImplementationImpl.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="NodeImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="ParentNode.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.xml/share/classes/com/sun/org/apache/xerces/internal/dom/PSVIDOMImplementationImpl.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  4  */
  5 /*
  6  * Licensed to the Apache Software Foundation (ASF) under one or more
  7  * contributor license agreements.  See the NOTICE file distributed with
  8  * this work for additional information regarding copyright ownership.
  9  * The ASF licenses this file to You under the Apache License, Version 2.0
 10  * (the &quot;License&quot;); you may not use this file except in compliance with
 11  * the License.  You may obtain a copy of the License at
 12  *
 13  *      http://www.apache.org/licenses/LICENSE-2.0
 14  *
 15  * Unless required by applicable law or agreed to in writing, software
 16  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 17  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 18  * See the License for the specific language governing permissions and
 19  * limitations under the License.
 20  */
 21 
 22 package com.sun.org.apache.xerces.internal.dom;
 23 
<span class="line-removed"> 24 import org.w3c.dom.DOMException;</span>
 25 import org.w3c.dom.DOMImplementation;
<span class="line-removed"> 26 import org.w3c.dom.Document;</span>
 27 import org.w3c.dom.DocumentType;
<span class="line-removed"> 28 import org.w3c.dom.Element;</span>
 29 
 30 /**
 31  * The DOMImplementation class is description of a particular
 32  * implementation of the Document Object Model. As such its data is
 33  * static, shared by all instances of this implementation.
 34  * &lt;P&gt;
 35  * The DOM API requires that it be a real object rather than static
 36  * methods. However, there&#39;s nothing that says it can&#39;t be a singleton,
 37  * so that&#39;s how I&#39;ve implemented it.
 38  *
 39  * @xerces.internal
 40  *
 41  * @since  PR-DOM-Level-1-19980818.
 42  */
<span class="line-modified"> 43 public class PSVIDOMImplementationImpl extends CoreDOMImplementationImpl {</span>
 44 
 45     //
 46     // Data
 47     //
 48 
 49     // static
 50 
 51     /** Dom implementation singleton. */
<span class="line-modified"> 52     static PSVIDOMImplementationImpl singleton = new PSVIDOMImplementationImpl();</span>
 53 
 54     //
 55     // Public methods
 56     //
 57 
 58     /** NON-DOM: Obtain and return the single shared object */
 59     public static DOMImplementation getDOMImplementation() {
 60         return singleton;
 61     }
 62 
 63     //
 64     // DOMImplementation methods
 65     //
 66 
 67     /**
 68      * Test if the DOM implementation supports a specific &quot;feature&quot; --
 69      * currently meaning language and level thereof.
 70      *
 71      * @param feature      The package name of the feature to test.
 72      * In Level 1, supported values are &quot;HTML&quot; and &quot;XML&quot; (case-insensitive).
 73      * At this writing, com.sun.org.apache.xerces.internal.dom supports only XML.
 74      *
 75      * @param version      The version number of the feature being tested.
 76      * This is interpreted as &quot;Version of the DOM API supported for the
 77      * specified Feature&quot;, and in Level 1 should be &quot;1.0&quot;
 78      *
 79      * @return    true iff this implementation is compatable with the specified
 80      * feature and version.
 81      */
 82     public boolean hasFeature(String feature, String version) {
 83         return super.hasFeature(feature, version) ||
 84                feature.equalsIgnoreCase(&quot;psvi&quot;);
 85     } // hasFeature(String,String):boolean
 86 
<span class="line-modified"> 87     /**</span>
<span class="line-modified"> 88      * Introduced in DOM Level 2. &lt;p&gt;</span>
<span class="line-modified"> 89      *</span>
<span class="line-removed"> 90      * Creates an XML Document object of the specified type with its document</span>
<span class="line-removed"> 91      * element.</span>
<span class="line-removed"> 92      *</span>
<span class="line-removed"> 93      * @param namespaceURI     The namespace URI of the document</span>
<span class="line-removed"> 94      *                         element to create, or null.</span>
<span class="line-removed"> 95      * @param qualifiedName    The qualified name of the document</span>
<span class="line-removed"> 96      *                         element to create.</span>
<span class="line-removed"> 97      * @param doctype          The type of document to be created or null.&lt;p&gt;</span>
<span class="line-removed"> 98      *</span>
<span class="line-removed"> 99      *                         When doctype is not null, its</span>
<span class="line-removed">100      *                         Node.ownerDocument attribute is set to</span>
<span class="line-removed">101      *                         the document being created.</span>
<span class="line-removed">102      * @return Document        A new Document object.</span>
<span class="line-removed">103      * @throws DOMException    WRONG_DOCUMENT_ERR: Raised if doctype has</span>
<span class="line-removed">104      *                         already been used with a different document.</span>
<span class="line-removed">105      * @since WD-DOM-Level-2-19990923</span>
<span class="line-removed">106      */</span>
<span class="line-removed">107     public Document           createDocument(String namespaceURI,</span>
<span class="line-removed">108                                              String qualifiedName,</span>
<span class="line-removed">109                                              DocumentType doctype)</span>
<span class="line-removed">110                                              throws DOMException</span>
<span class="line-removed">111     {</span>
<span class="line-removed">112         if (doctype != null &amp;&amp; doctype.getOwnerDocument() != null) {</span>
<span class="line-removed">113             throw new DOMException(DOMException.WRONG_DOCUMENT_ERR,</span>
<span class="line-removed">114                                    DOMMessageFormatter.formatMessage(</span>
<span class="line-removed">115                                    DOMMessageFormatter.XML_DOMAIN,</span>
<span class="line-removed">116                                                        &quot;WRONG_DOCUMENT_ERR&quot;, null));</span>
<span class="line-removed">117         }</span>
<span class="line-removed">118         DocumentImpl doc = new PSVIDocumentImpl(doctype);</span>
<span class="line-removed">119         Element e = doc.createElementNS( namespaceURI, qualifiedName);</span>
<span class="line-removed">120         doc.appendChild(e);</span>
<span class="line-removed">121         return doc;</span>
<span class="line-removed">122     }</span>
123 



124 
<span class="line-modified">125 } // class DOMImplementationImpl</span>
</pre>
</td>
<td>
<hr />
<pre>
  4  */
  5 /*
  6  * Licensed to the Apache Software Foundation (ASF) under one or more
  7  * contributor license agreements.  See the NOTICE file distributed with
  8  * this work for additional information regarding copyright ownership.
  9  * The ASF licenses this file to You under the Apache License, Version 2.0
 10  * (the &quot;License&quot;); you may not use this file except in compliance with
 11  * the License.  You may obtain a copy of the License at
 12  *
 13  *      http://www.apache.org/licenses/LICENSE-2.0
 14  *
 15  * Unless required by applicable law or agreed to in writing, software
 16  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 17  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 18  * See the License for the specific language governing permissions and
 19  * limitations under the License.
 20  */
 21 
 22 package com.sun.org.apache.xerces.internal.dom;
 23 

 24 import org.w3c.dom.DOMImplementation;

 25 import org.w3c.dom.DocumentType;

 26 
 27 /**
 28  * The DOMImplementation class is description of a particular
 29  * implementation of the Document Object Model. As such its data is
 30  * static, shared by all instances of this implementation.
 31  * &lt;P&gt;
 32  * The DOM API requires that it be a real object rather than static
 33  * methods. However, there&#39;s nothing that says it can&#39;t be a singleton,
 34  * so that&#39;s how I&#39;ve implemented it.
 35  *
 36  * @xerces.internal
 37  *
 38  * @since  PR-DOM-Level-1-19980818.
 39  */
<span class="line-modified"> 40 public class PSVIDOMImplementationImpl extends DOMImplementationImpl {</span>
 41 
 42     //
 43     // Data
 44     //
 45 
 46     // static
 47 
 48     /** Dom implementation singleton. */
<span class="line-modified"> 49     static final PSVIDOMImplementationImpl singleton = new PSVIDOMImplementationImpl();</span>
 50 
 51     //
 52     // Public methods
 53     //
 54 
 55     /** NON-DOM: Obtain and return the single shared object */
 56     public static DOMImplementation getDOMImplementation() {
 57         return singleton;
 58     }
 59 
 60     //
 61     // DOMImplementation methods
 62     //
 63 
 64     /**
 65      * Test if the DOM implementation supports a specific &quot;feature&quot; --
 66      * currently meaning language and level thereof.
 67      *
 68      * @param feature      The package name of the feature to test.
 69      * In Level 1, supported values are &quot;HTML&quot; and &quot;XML&quot; (case-insensitive).
 70      * At this writing, com.sun.org.apache.xerces.internal.dom supports only XML.
 71      *
 72      * @param version      The version number of the feature being tested.
 73      * This is interpreted as &quot;Version of the DOM API supported for the
 74      * specified Feature&quot;, and in Level 1 should be &quot;1.0&quot;
 75      *
 76      * @return    true iff this implementation is compatable with the specified
 77      * feature and version.
 78      */
 79     public boolean hasFeature(String feature, String version) {
 80         return super.hasFeature(feature, version) ||
 81                feature.equalsIgnoreCase(&quot;psvi&quot;);
 82     } // hasFeature(String,String):boolean
 83 
<span class="line-modified"> 84     //</span>
<span class="line-modified"> 85     // Protected methods</span>
<span class="line-modified"> 86     //</span>

































 87 
<span class="line-added"> 88     protected CoreDocumentImpl createDocument(DocumentType doctype) {</span>
<span class="line-added"> 89         return new PSVIDocumentImpl(doctype);</span>
<span class="line-added"> 90     }</span>
 91 
<span class="line-modified"> 92 } // class PSVIDOMImplementationImpl</span>
</pre>
</td>
</tr>
</table>
<center><a href="NodeImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="ParentNode.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>