<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.xml/share/classes/com/sun/org/apache/bcel/internal/classfile/BootstrapMethod.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="AttributeReader.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="BootstrapMethods.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.xml/share/classes/com/sun/org/apache/bcel/internal/classfile/BootstrapMethod.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 57      * Construct object from input stream.
 58      *
 59      * @param input Input stream
 60      * @throws IOException
 61      */
 62     BootstrapMethod(final DataInput input) throws IOException {
 63         this(input.readUnsignedShort(), input.readUnsignedShort());
 64 
 65         for (int i = 0; i &lt; bootstrap_arguments.length; i++) {
 66             bootstrap_arguments[i] = input.readUnsignedShort();
 67         }
 68     }
 69 
 70     // helper method
 71     private BootstrapMethod(final int bootstrap_method_ref, final int num_bootstrap_arguments) {
 72         this(bootstrap_method_ref, new int[num_bootstrap_arguments]);
 73     }
 74 
 75     /**
 76      * @param bootstrap_method_ref int index into constant_pool of CONSTANT_MethodHandle
<span class="line-modified"> 77      * @param bootstrap_arguments int[] indices into constant_pool of CONSTANT_&lt;type&gt;_info</span>
 78      */
 79     public BootstrapMethod(final int bootstrap_method_ref, final int[] bootstrap_arguments) {
 80         this.bootstrap_method_ref = bootstrap_method_ref;
 81         this.bootstrap_arguments = bootstrap_arguments;
 82     }
 83 
 84     /**
 85      * @return index into constant_pool of bootstrap_method
 86      */
 87     public int getBootstrapMethodRef() {
 88         return bootstrap_method_ref;
 89     }
 90 
 91     /**
 92      * @param bootstrap_method_ref int index into constant_pool of CONSTANT_MethodHandle
 93      */
 94     public void setBootstrapMethodRef(final int bootstrap_method_ref) {
 95         this.bootstrap_method_ref = bootstrap_method_ref;
 96     }
 97 
 98     /**
<span class="line-modified"> 99      * @return int[] of bootstrap_method indices into constant_pool of CONSTANT_&lt;type&gt;_info</span>
100      */
101     public int[] getBootstrapArguments() {
102         return bootstrap_arguments;
103     }
104 
105     /**
106      * @return count of number of boostrap arguments
107      */
108     public int getNumBootstrapArguments() {
109         return bootstrap_arguments.length;
110     }
111 
112     /**
<span class="line-modified">113      * @param bootstrap_arguments int[] indices into constant_pool of CONSTANT_&lt;type&gt;_info</span>
114      */
115     public void setBootstrapArguments(final int[] bootstrap_arguments) {
116         this.bootstrap_arguments = bootstrap_arguments;
117     }
118 
119     /**
120      * @return String representation.
121      */
122     @Override
123     public final String toString() {
124         return &quot;BootstrapMethod(&quot; + bootstrap_method_ref + &quot;, &quot; + bootstrap_arguments.length + &quot;, &quot;
125                + Arrays.toString(bootstrap_arguments) + &quot;)&quot;;
126     }
127 
128     /**
129      * @return Resolved string representation
130      */
131     public final String toString( final ConstantPool constant_pool ) {
132         final StringBuilder buf = new StringBuilder();
133         String bootstrap_method_name;
134         bootstrap_method_name = constant_pool.constantToString(bootstrap_method_ref,
135                 Const.CONSTANT_MethodHandle);
<span class="line-modified">136         buf.append(Utility.compactClassName(bootstrap_method_name));</span>
137         final int num_bootstrap_arguments = bootstrap_arguments.length;
138         if (num_bootstrap_arguments &gt; 0) {
<span class="line-modified">139             buf.append(&quot;\n     Method Arguments:&quot;);</span>
140             for (int i = 0; i &lt; num_bootstrap_arguments; i++) {
<span class="line-modified">141                 buf.append(&quot;\n     &quot;).append(i).append(&quot;: &quot;);</span>
142                 buf.append(constant_pool.constantToString(constant_pool.getConstant(bootstrap_arguments[i])));
143             }
144         }
145         return buf.toString();
146     }
147 
148     /**
149      * Dump object to file stream in binary format.
150      *
151      * @param file Output file stream
152      * @throws IOException
153      */
154     public final void dump(final DataOutputStream file) throws IOException {
155         file.writeShort(bootstrap_method_ref);
156         file.writeShort(bootstrap_arguments.length);
157         for (final int bootstrap_argument : bootstrap_arguments) {
158             file.writeShort(bootstrap_argument);
159         }
160     }
161 
</pre>
</td>
<td>
<hr />
<pre>
 57      * Construct object from input stream.
 58      *
 59      * @param input Input stream
 60      * @throws IOException
 61      */
 62     BootstrapMethod(final DataInput input) throws IOException {
 63         this(input.readUnsignedShort(), input.readUnsignedShort());
 64 
 65         for (int i = 0; i &lt; bootstrap_arguments.length; i++) {
 66             bootstrap_arguments[i] = input.readUnsignedShort();
 67         }
 68     }
 69 
 70     // helper method
 71     private BootstrapMethod(final int bootstrap_method_ref, final int num_bootstrap_arguments) {
 72         this(bootstrap_method_ref, new int[num_bootstrap_arguments]);
 73     }
 74 
 75     /**
 76      * @param bootstrap_method_ref int index into constant_pool of CONSTANT_MethodHandle
<span class="line-modified"> 77      * @param bootstrap_arguments int[] indices into constant_pool of CONSTANT_[type]_info</span>
 78      */
 79     public BootstrapMethod(final int bootstrap_method_ref, final int[] bootstrap_arguments) {
 80         this.bootstrap_method_ref = bootstrap_method_ref;
 81         this.bootstrap_arguments = bootstrap_arguments;
 82     }
 83 
 84     /**
 85      * @return index into constant_pool of bootstrap_method
 86      */
 87     public int getBootstrapMethodRef() {
 88         return bootstrap_method_ref;
 89     }
 90 
 91     /**
 92      * @param bootstrap_method_ref int index into constant_pool of CONSTANT_MethodHandle
 93      */
 94     public void setBootstrapMethodRef(final int bootstrap_method_ref) {
 95         this.bootstrap_method_ref = bootstrap_method_ref;
 96     }
 97 
 98     /**
<span class="line-modified"> 99      * @return int[] of bootstrap_method indices into constant_pool of CONSTANT_[type]_info</span>
100      */
101     public int[] getBootstrapArguments() {
102         return bootstrap_arguments;
103     }
104 
105     /**
106      * @return count of number of boostrap arguments
107      */
108     public int getNumBootstrapArguments() {
109         return bootstrap_arguments.length;
110     }
111 
112     /**
<span class="line-modified">113      * @param bootstrap_arguments int[] indices into constant_pool of CONSTANT_[type]_info</span>
114      */
115     public void setBootstrapArguments(final int[] bootstrap_arguments) {
116         this.bootstrap_arguments = bootstrap_arguments;
117     }
118 
119     /**
120      * @return String representation.
121      */
122     @Override
123     public final String toString() {
124         return &quot;BootstrapMethod(&quot; + bootstrap_method_ref + &quot;, &quot; + bootstrap_arguments.length + &quot;, &quot;
125                + Arrays.toString(bootstrap_arguments) + &quot;)&quot;;
126     }
127 
128     /**
129      * @return Resolved string representation
130      */
131     public final String toString( final ConstantPool constant_pool ) {
132         final StringBuilder buf = new StringBuilder();
133         String bootstrap_method_name;
134         bootstrap_method_name = constant_pool.constantToString(bootstrap_method_ref,
135                 Const.CONSTANT_MethodHandle);
<span class="line-modified">136         buf.append(Utility.compactClassName(bootstrap_method_name, false));</span>
137         final int num_bootstrap_arguments = bootstrap_arguments.length;
138         if (num_bootstrap_arguments &gt; 0) {
<span class="line-modified">139             buf.append(&quot;\nMethod Arguments:&quot;);</span>
140             for (int i = 0; i &lt; num_bootstrap_arguments; i++) {
<span class="line-modified">141                 buf.append(&quot;\n  &quot;).append(i).append(&quot;: &quot;);</span>
142                 buf.append(constant_pool.constantToString(constant_pool.getConstant(bootstrap_arguments[i])));
143             }
144         }
145         return buf.toString();
146     }
147 
148     /**
149      * Dump object to file stream in binary format.
150      *
151      * @param file Output file stream
152      * @throws IOException
153      */
154     public final void dump(final DataOutputStream file) throws IOException {
155         file.writeShort(bootstrap_method_ref);
156         file.writeShort(bootstrap_arguments.length);
157         for (final int bootstrap_argument : bootstrap_arguments) {
158             file.writeShort(bootstrap_argument);
159         }
160     }
161 
</pre>
</td>
</tr>
</table>
<center><a href="AttributeReader.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="BootstrapMethods.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>