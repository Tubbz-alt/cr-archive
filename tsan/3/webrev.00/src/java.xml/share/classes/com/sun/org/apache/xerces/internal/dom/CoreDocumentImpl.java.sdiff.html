<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.xml/share/classes/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="CoreDOMImplementationImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="DOMConfigurationImpl.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.xml/share/classes/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 2009, 2018, Oracle and/or its affiliates. All rights reserved.</span>
   3  */
   4 /*
   5  * Licensed to the Apache Software Foundation (ASF) under one or more
   6  * contributor license agreements.  See the NOTICE file distributed with
   7  * this work for additional information regarding copyright ownership.
   8  * The ASF licenses this file to You under the Apache License, Version 2.0
   9  * (the &quot;License&quot;); you may not use this file except in compliance with
  10  * the License.  You may obtain a copy of the License at
  11  *
  12  *      http://www.apache.org/licenses/LICENSE-2.0
  13  *
  14  * Unless required by applicable law or agreed to in writing, software
  15  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
  16  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  17  * See the License for the specific language governing permissions and
  18  * limitations under the License.
  19  */
  20 package com.sun.org.apache.xerces.internal.dom;
  21 
  22 import com.sun.org.apache.xerces.internal.impl.Constants;
</pre>
<hr />
<pre>
  66  * Since elements, text nodes, comments, processing instructions,
  67  * etc. cannot exist outside the context of a Document, the Document
  68  * interface also contains the factory methods needed to create these
  69  * objects. The Node objects created have a ownerDocument attribute
  70  * which associates them with the Document within whose context they
  71  * were created.
  72  * &lt;p&gt;
  73  * The CoreDocumentImpl class only implements the DOM Core. Additional modules
  74  * are supported by the more complete DocumentImpl subclass.
  75  * &lt;p&gt;
  76  * &lt;b&gt;Note:&lt;/b&gt; When any node in the document is serialized, the
  77  * entire document is serialized along with it.
  78  *
  79  * @xerces.internal
  80  *
  81  * @author Arnaud  Le Hors, IBM
  82  * @author Joe Kesselman, IBM
  83  * @author Andy Clark, IBM
  84  * @author Ralf Pfeiffer, IBM
  85  * @since  PR-DOM-Level-1-19980818.
<span class="line-modified">  86  * @LastModified: Nov 2018</span>
  87  */
  88 public class CoreDocumentImpl
  89         extends ParentNode implements Document {
  90 
  91     /**
  92      * TODO:: 1. Change XML11Char method names similar to XMLChar. That will
  93      * prevent lot of dirty version checking code.
  94      *
  95      * 2. IMO during cloneNode qname/isXMLName check should not be made.
  96      */
  97     //
  98     // Constants
  99     //
 100 
 101     /** Serialization version. */
 102     static final long serialVersionUID = 0;
 103 
 104     //
 105     // Data
 106     //
</pre>
<hr />
<pre>
 845     public String getXmlEncoding() {
 846         return encoding;
 847     }
 848 
 849     /**
 850      * @deprecated This method is internal and only exists for
 851      * compatibility with older applications. New applications
 852      * should never call this method.
 853      */
 854     @Deprecated
 855     public String getEncoding() {
 856         return getXmlEncoding();
 857     }
 858 
 859     /**
 860      * DOM Level 3 CR - Experimental.
 861      * version - An attribute specifying, as part of the XML declaration,
 862      * the version number of this document.
 863      */
 864     public void setXmlVersion(String value) {



 865         if(value.equals(&quot;1.0&quot;) || value.equals(&quot;1.1&quot;)){
 866             //we need to change the flag value only --
 867             // when the version set is different than already set.
 868             if(!getXmlVersion().equals(value)){
 869                 xmlVersionChanged = true ;
 870                 //change the normalization value back to false
 871                 isNormalized(false);
 872                 version = value;
 873             }
 874         }
 875         else{
 876             //NOT_SUPPORTED_ERR: Raised if the vesion is set to a value that is not supported by
 877             //this document
 878             //we dont support any other XML version
 879             String msg = DOMMessageFormatter.formatMessage(DOMMessageFormatter.DOM_DOMAIN, &quot;NOT_SUPPORTED_ERR&quot;, null);
 880             throw new DOMException(DOMException.NOT_SUPPORTED_ERR, msg);
 881 
 882         }
 883         if((getXmlVersion()).equals(&quot;1.1&quot;)){
 884             xml11Version = true;
</pre>
</td>
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 2009, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   3  */
   4 /*
   5  * Licensed to the Apache Software Foundation (ASF) under one or more
   6  * contributor license agreements.  See the NOTICE file distributed with
   7  * this work for additional information regarding copyright ownership.
   8  * The ASF licenses this file to You under the Apache License, Version 2.0
   9  * (the &quot;License&quot;); you may not use this file except in compliance with
  10  * the License.  You may obtain a copy of the License at
  11  *
  12  *      http://www.apache.org/licenses/LICENSE-2.0
  13  *
  14  * Unless required by applicable law or agreed to in writing, software
  15  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
  16  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  17  * See the License for the specific language governing permissions and
  18  * limitations under the License.
  19  */
  20 package com.sun.org.apache.xerces.internal.dom;
  21 
  22 import com.sun.org.apache.xerces.internal.impl.Constants;
</pre>
<hr />
<pre>
  66  * Since elements, text nodes, comments, processing instructions,
  67  * etc. cannot exist outside the context of a Document, the Document
  68  * interface also contains the factory methods needed to create these
  69  * objects. The Node objects created have a ownerDocument attribute
  70  * which associates them with the Document within whose context they
  71  * were created.
  72  * &lt;p&gt;
  73  * The CoreDocumentImpl class only implements the DOM Core. Additional modules
  74  * are supported by the more complete DocumentImpl subclass.
  75  * &lt;p&gt;
  76  * &lt;b&gt;Note:&lt;/b&gt; When any node in the document is serialized, the
  77  * entire document is serialized along with it.
  78  *
  79  * @xerces.internal
  80  *
  81  * @author Arnaud  Le Hors, IBM
  82  * @author Joe Kesselman, IBM
  83  * @author Andy Clark, IBM
  84  * @author Ralf Pfeiffer, IBM
  85  * @since  PR-DOM-Level-1-19980818.
<span class="line-modified">  86  * @LastModified: Sept 2019</span>
  87  */
  88 public class CoreDocumentImpl
  89         extends ParentNode implements Document {
  90 
  91     /**
  92      * TODO:: 1. Change XML11Char method names similar to XMLChar. That will
  93      * prevent lot of dirty version checking code.
  94      *
  95      * 2. IMO during cloneNode qname/isXMLName check should not be made.
  96      */
  97     //
  98     // Constants
  99     //
 100 
 101     /** Serialization version. */
 102     static final long serialVersionUID = 0;
 103 
 104     //
 105     // Data
 106     //
</pre>
<hr />
<pre>
 845     public String getXmlEncoding() {
 846         return encoding;
 847     }
 848 
 849     /**
 850      * @deprecated This method is internal and only exists for
 851      * compatibility with older applications. New applications
 852      * should never call this method.
 853      */
 854     @Deprecated
 855     public String getEncoding() {
 856         return getXmlEncoding();
 857     }
 858 
 859     /**
 860      * DOM Level 3 CR - Experimental.
 861      * version - An attribute specifying, as part of the XML declaration,
 862      * the version number of this document.
 863      */
 864     public void setXmlVersion(String value) {
<span class="line-added"> 865         if (value == null) {</span>
<span class="line-added"> 866             return;</span>
<span class="line-added"> 867         }</span>
 868         if(value.equals(&quot;1.0&quot;) || value.equals(&quot;1.1&quot;)){
 869             //we need to change the flag value only --
 870             // when the version set is different than already set.
 871             if(!getXmlVersion().equals(value)){
 872                 xmlVersionChanged = true ;
 873                 //change the normalization value back to false
 874                 isNormalized(false);
 875                 version = value;
 876             }
 877         }
 878         else{
 879             //NOT_SUPPORTED_ERR: Raised if the vesion is set to a value that is not supported by
 880             //this document
 881             //we dont support any other XML version
 882             String msg = DOMMessageFormatter.formatMessage(DOMMessageFormatter.DOM_DOMAIN, &quot;NOT_SUPPORTED_ERR&quot;, null);
 883             throw new DOMException(DOMException.NOT_SUPPORTED_ERR, msg);
 884 
 885         }
 886         if((getXmlVersion()).equals(&quot;1.1&quot;)){
 887             xml11Version = true;
</pre>
</td>
</tr>
</table>
<center><a href="CoreDOMImplementationImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="DOMConfigurationImpl.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>