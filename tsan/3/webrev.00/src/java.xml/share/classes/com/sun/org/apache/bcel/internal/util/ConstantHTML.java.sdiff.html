<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.xml/share/classes/com/sun/org/apache/bcel/internal/util/ConstantHTML.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="CodeHTML.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="InstructionFinder.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.xml/share/classes/com/sun/org/apache/bcel/internal/util/ConstantHTML.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 23 
 24 import java.io.FileOutputStream;
 25 import java.io.IOException;
 26 import java.io.PrintWriter;
 27 
 28 import com.sun.org.apache.bcel.internal.Const;
 29 import com.sun.org.apache.bcel.internal.classfile.Constant;
 30 import com.sun.org.apache.bcel.internal.classfile.ConstantClass;
 31 import com.sun.org.apache.bcel.internal.classfile.ConstantFieldref;
 32 import com.sun.org.apache.bcel.internal.classfile.ConstantInterfaceMethodref;
 33 import com.sun.org.apache.bcel.internal.classfile.ConstantMethodref;
 34 import com.sun.org.apache.bcel.internal.classfile.ConstantNameAndType;
 35 import com.sun.org.apache.bcel.internal.classfile.ConstantPool;
 36 import com.sun.org.apache.bcel.internal.classfile.ConstantString;
 37 import com.sun.org.apache.bcel.internal.classfile.Method;
 38 import com.sun.org.apache.bcel.internal.classfile.Utility;
 39 
 40 /**
 41  * Convert constant pool into HTML file.
 42  *
<span class="line-removed"> 43  * @version $Id: ConstantHTML.java 1749603 2016-06-21 20:50:19Z ggregory $</span>
 44  *
 45  */
 46 final class ConstantHTML {
 47 
 48     private final String class_name; // name of current class
 49     private final String class_package; // name of package
 50     private final ConstantPool constant_pool; // reference to constant pool
 51     private final PrintWriter file; // file to write to
 52     private final String[] constant_ref; // String to return for cp[i]
 53     private final Constant[] constants; // The constants in the cp
 54     private final Method[] methods;
 55 
 56 
<span class="line-modified"> 57     ConstantHTML(final String dir, final String class_name, final String class_package,</span>
<span class="line-modified"> 58             final Method[] methods, final ConstantPool constant_pool) throws IOException {</span>
 59         this.class_name = class_name;
 60         this.class_package = class_package;
 61         this.constant_pool = constant_pool;
 62         this.methods = methods;
 63         constants = constant_pool.getConstantPool();
 64         file = new PrintWriter(new FileOutputStream(dir + class_name + &quot;_cp.html&quot;));
 65         constant_ref = new String[constants.length];
 66         constant_ref[0] = &quot;&amp;lt;unknown&amp;gt;&quot;;
 67         file.println(&quot;&lt;HTML&gt;&lt;BODY BGCOLOR=\&quot;#C0C0C0\&quot;&gt;&lt;TABLE BORDER=0&gt;&quot;);
 68         // Loop through constants, constants[0] is reserved
 69         for (int i = 1; i &lt; constants.length; i++) {
 70             if (i % 2 == 0) {
 71                 file.print(&quot;&lt;TR BGCOLOR=\&quot;#C0C0C0\&quot;&gt;&lt;TD&gt;&quot;);
 72             } else {
 73                 file.print(&quot;&lt;TR BGCOLOR=\&quot;#A0A0A0\&quot;&gt;&lt;TD&gt;&quot;);
 74             }
 75             if (constants[i] != null) {
 76                 writeConstant(i);
 77             }
 78             file.print(&quot;&lt;/TD&gt;&lt;/TR&gt;\n&quot;);
</pre>
</td>
<td>
<hr />
<pre>
 23 
 24 import java.io.FileOutputStream;
 25 import java.io.IOException;
 26 import java.io.PrintWriter;
 27 
 28 import com.sun.org.apache.bcel.internal.Const;
 29 import com.sun.org.apache.bcel.internal.classfile.Constant;
 30 import com.sun.org.apache.bcel.internal.classfile.ConstantClass;
 31 import com.sun.org.apache.bcel.internal.classfile.ConstantFieldref;
 32 import com.sun.org.apache.bcel.internal.classfile.ConstantInterfaceMethodref;
 33 import com.sun.org.apache.bcel.internal.classfile.ConstantMethodref;
 34 import com.sun.org.apache.bcel.internal.classfile.ConstantNameAndType;
 35 import com.sun.org.apache.bcel.internal.classfile.ConstantPool;
 36 import com.sun.org.apache.bcel.internal.classfile.ConstantString;
 37 import com.sun.org.apache.bcel.internal.classfile.Method;
 38 import com.sun.org.apache.bcel.internal.classfile.Utility;
 39 
 40 /**
 41  * Convert constant pool into HTML file.
 42  *

 43  *
 44  */
 45 final class ConstantHTML {
 46 
 47     private final String class_name; // name of current class
 48     private final String class_package; // name of package
 49     private final ConstantPool constant_pool; // reference to constant pool
 50     private final PrintWriter file; // file to write to
 51     private final String[] constant_ref; // String to return for cp[i]
 52     private final Constant[] constants; // The constants in the cp
 53     private final Method[] methods;
 54 
 55 
<span class="line-modified"> 56     ConstantHTML(final String dir, final String class_name, final String class_package, final Method[] methods,</span>
<span class="line-modified"> 57             final ConstantPool constant_pool) throws IOException {</span>
 58         this.class_name = class_name;
 59         this.class_package = class_package;
 60         this.constant_pool = constant_pool;
 61         this.methods = methods;
 62         constants = constant_pool.getConstantPool();
 63         file = new PrintWriter(new FileOutputStream(dir + class_name + &quot;_cp.html&quot;));
 64         constant_ref = new String[constants.length];
 65         constant_ref[0] = &quot;&amp;lt;unknown&amp;gt;&quot;;
 66         file.println(&quot;&lt;HTML&gt;&lt;BODY BGCOLOR=\&quot;#C0C0C0\&quot;&gt;&lt;TABLE BORDER=0&gt;&quot;);
 67         // Loop through constants, constants[0] is reserved
 68         for (int i = 1; i &lt; constants.length; i++) {
 69             if (i % 2 == 0) {
 70                 file.print(&quot;&lt;TR BGCOLOR=\&quot;#C0C0C0\&quot;&gt;&lt;TD&gt;&quot;);
 71             } else {
 72                 file.print(&quot;&lt;TR BGCOLOR=\&quot;#A0A0A0\&quot;&gt;&lt;TD&gt;&quot;);
 73             }
 74             if (constants[i] != null) {
 75                 writeConstant(i);
 76             }
 77             file.print(&quot;&lt;/TD&gt;&lt;/TR&gt;\n&quot;);
</pre>
</td>
</tr>
</table>
<center><a href="CodeHTML.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="InstructionFinder.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>