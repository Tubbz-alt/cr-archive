<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.xml/share/classes/com/sun/org/apache/bcel/internal/util/AttributeHTML.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../generic/Visitor.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="BCELComparator.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.xml/share/classes/com/sun/org/apache/bcel/internal/util/AttributeHTML.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 28 import com.sun.org.apache.bcel.internal.Const;
 29 import com.sun.org.apache.bcel.internal.classfile.Attribute;
 30 import com.sun.org.apache.bcel.internal.classfile.Code;
 31 import com.sun.org.apache.bcel.internal.classfile.CodeException;
 32 import com.sun.org.apache.bcel.internal.classfile.ConstantPool;
 33 import com.sun.org.apache.bcel.internal.classfile.ConstantUtf8;
 34 import com.sun.org.apache.bcel.internal.classfile.ConstantValue;
 35 import com.sun.org.apache.bcel.internal.classfile.ExceptionTable;
 36 import com.sun.org.apache.bcel.internal.classfile.InnerClass;
 37 import com.sun.org.apache.bcel.internal.classfile.InnerClasses;
 38 import com.sun.org.apache.bcel.internal.classfile.LineNumber;
 39 import com.sun.org.apache.bcel.internal.classfile.LineNumberTable;
 40 import com.sun.org.apache.bcel.internal.classfile.LocalVariable;
 41 import com.sun.org.apache.bcel.internal.classfile.LocalVariableTable;
 42 import com.sun.org.apache.bcel.internal.classfile.SourceFile;
 43 import com.sun.org.apache.bcel.internal.classfile.Utility;
 44 
 45 /**
 46  * Convert found attributes into HTML file.
 47  *
<span class="line-removed"> 48  * @version $Id: AttributeHTML.java 1749603 2016-06-21 20:50:19Z ggregory $</span>
 49  *
 50  */
 51 final class AttributeHTML {
 52 
 53     private final String class_name; // name of current class
 54     private final PrintWriter file; // file to write to
 55     private int attr_count = 0;
 56     private final ConstantHTML constant_html;
 57     private final ConstantPool constant_pool;
 58 
 59 
 60     AttributeHTML(final String dir, final String class_name, final ConstantPool constant_pool,
 61             final ConstantHTML constant_html) throws IOException {
 62         this.class_name = class_name;
 63         this.constant_pool = constant_pool;
 64         this.constant_html = constant_html;
 65         file = new PrintWriter(new FileOutputStream(dir + class_name + &quot;_attributes.html&quot;));
 66         file.println(&quot;&lt;HTML&gt;&lt;BODY BGCOLOR=\&quot;#C0C0C0\&quot;&gt;&lt;TABLE BORDER=0&gt;&quot;);
 67     }
 68 
 69 
 70     private String codeLink( final int link, final int method_number ) {
 71         return &quot;&lt;A HREF=\&quot;&quot; + class_name + &quot;_code.html#code&quot; + method_number + &quot;@&quot; + link
 72                 + &quot;\&quot; TARGET=Code&gt;&quot; + link + &quot;&lt;/A&gt;&quot;;
 73     }
 74 
 75 
<span class="line-modified"> 76     final void close() {</span>
 77         file.println(&quot;&lt;/TABLE&gt;&lt;/BODY&gt;&lt;/HTML&gt;&quot;);
 78         file.close();
 79     }
 80 
 81 
<span class="line-modified"> 82     final void writeAttribute( final Attribute attribute, final String anchor ) {</span>
 83         writeAttribute(attribute, anchor, 0);
 84     }
 85 
 86 
<span class="line-modified"> 87     final void writeAttribute( final Attribute attribute, final String anchor, final int method_number ) {</span>
 88         final byte tag = attribute.getTag();
 89         int index;
 90         if (tag == Const.ATTR_UNKNOWN) {
 91             return;
 92         }
 93         attr_count++; // Increment number of attributes found so far
 94         if (attr_count % 2 == 0) {
 95             file.print(&quot;&lt;TR BGCOLOR=\&quot;#C0C0C0\&quot;&gt;&lt;TD&gt;&quot;);
 96         } else {
 97             file.print(&quot;&lt;TR BGCOLOR=\&quot;#A0A0A0\&quot;&gt;&lt;TD&gt;&quot;);
 98         }
 99         file.println(&quot;&lt;H4&gt;&lt;A NAME=\&quot;&quot; + anchor + &quot;\&quot;&gt;&quot; + attr_count + &quot; &quot; + Const.getAttributeName(tag)
100                 + &quot;&lt;/A&gt;&lt;/H4&gt;&quot;);
101         /* Handle different attributes
102          */
103         switch (tag) {
104             case Const.ATTR_CODE:
105                 final Code c = (Code) attribute;
106                 // Some directly printable values
107                 file.print(&quot;&lt;UL&gt;&lt;LI&gt;Maximum stack size = &quot; + c.getMaxStack()
</pre>
</td>
<td>
<hr />
<pre>
 28 import com.sun.org.apache.bcel.internal.Const;
 29 import com.sun.org.apache.bcel.internal.classfile.Attribute;
 30 import com.sun.org.apache.bcel.internal.classfile.Code;
 31 import com.sun.org.apache.bcel.internal.classfile.CodeException;
 32 import com.sun.org.apache.bcel.internal.classfile.ConstantPool;
 33 import com.sun.org.apache.bcel.internal.classfile.ConstantUtf8;
 34 import com.sun.org.apache.bcel.internal.classfile.ConstantValue;
 35 import com.sun.org.apache.bcel.internal.classfile.ExceptionTable;
 36 import com.sun.org.apache.bcel.internal.classfile.InnerClass;
 37 import com.sun.org.apache.bcel.internal.classfile.InnerClasses;
 38 import com.sun.org.apache.bcel.internal.classfile.LineNumber;
 39 import com.sun.org.apache.bcel.internal.classfile.LineNumberTable;
 40 import com.sun.org.apache.bcel.internal.classfile.LocalVariable;
 41 import com.sun.org.apache.bcel.internal.classfile.LocalVariableTable;
 42 import com.sun.org.apache.bcel.internal.classfile.SourceFile;
 43 import com.sun.org.apache.bcel.internal.classfile.Utility;
 44 
 45 /**
 46  * Convert found attributes into HTML file.
 47  *

 48  *
 49  */
 50 final class AttributeHTML {
 51 
 52     private final String class_name; // name of current class
 53     private final PrintWriter file; // file to write to
 54     private int attr_count = 0;
 55     private final ConstantHTML constant_html;
 56     private final ConstantPool constant_pool;
 57 
 58 
 59     AttributeHTML(final String dir, final String class_name, final ConstantPool constant_pool,
 60             final ConstantHTML constant_html) throws IOException {
 61         this.class_name = class_name;
 62         this.constant_pool = constant_pool;
 63         this.constant_html = constant_html;
 64         file = new PrintWriter(new FileOutputStream(dir + class_name + &quot;_attributes.html&quot;));
 65         file.println(&quot;&lt;HTML&gt;&lt;BODY BGCOLOR=\&quot;#C0C0C0\&quot;&gt;&lt;TABLE BORDER=0&gt;&quot;);
 66     }
 67 
 68 
 69     private String codeLink( final int link, final int method_number ) {
 70         return &quot;&lt;A HREF=\&quot;&quot; + class_name + &quot;_code.html#code&quot; + method_number + &quot;@&quot; + link
 71                 + &quot;\&quot; TARGET=Code&gt;&quot; + link + &quot;&lt;/A&gt;&quot;;
 72     }
 73 
 74 
<span class="line-modified"> 75     void close() {</span>
 76         file.println(&quot;&lt;/TABLE&gt;&lt;/BODY&gt;&lt;/HTML&gt;&quot;);
 77         file.close();
 78     }
 79 
 80 
<span class="line-modified"> 81     void writeAttribute( final Attribute attribute, final String anchor ) {</span>
 82         writeAttribute(attribute, anchor, 0);
 83     }
 84 
 85 
<span class="line-modified"> 86     void writeAttribute( final Attribute attribute, final String anchor, final int method_number ) {</span>
 87         final byte tag = attribute.getTag();
 88         int index;
 89         if (tag == Const.ATTR_UNKNOWN) {
 90             return;
 91         }
 92         attr_count++; // Increment number of attributes found so far
 93         if (attr_count % 2 == 0) {
 94             file.print(&quot;&lt;TR BGCOLOR=\&quot;#C0C0C0\&quot;&gt;&lt;TD&gt;&quot;);
 95         } else {
 96             file.print(&quot;&lt;TR BGCOLOR=\&quot;#A0A0A0\&quot;&gt;&lt;TD&gt;&quot;);
 97         }
 98         file.println(&quot;&lt;H4&gt;&lt;A NAME=\&quot;&quot; + anchor + &quot;\&quot;&gt;&quot; + attr_count + &quot; &quot; + Const.getAttributeName(tag)
 99                 + &quot;&lt;/A&gt;&lt;/H4&gt;&quot;);
100         /* Handle different attributes
101          */
102         switch (tag) {
103             case Const.ATTR_CODE:
104                 final Code c = (Code) attribute;
105                 // Some directly printable values
106                 file.print(&quot;&lt;UL&gt;&lt;LI&gt;Maximum stack size = &quot; + c.getMaxStack()
</pre>
</td>
</tr>
</table>
<center><a href="../generic/Visitor.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="BCELComparator.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>