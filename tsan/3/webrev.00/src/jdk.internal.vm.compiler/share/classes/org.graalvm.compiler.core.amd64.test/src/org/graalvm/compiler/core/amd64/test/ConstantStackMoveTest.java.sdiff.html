<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.internal.vm.compiler/share/classes/org.graalvm.compiler.core.amd64.test/src/org/graalvm/compiler/core/amd64/test/ConstantStackMoveTest.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="AMD64MatchRuleTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../index.html" target="_top">index</a> <a href="StackStoreTest.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.internal.vm.compiler/share/classes/org.graalvm.compiler.core.amd64.test/src/org/graalvm/compiler/core/amd64/test/ConstantStackMoveTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2015, 2018, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
</pre>
<hr />
<pre>
126         }
127     }
128 
129     private static final LoadConstantStackSpecByte stackCopyByte = new LoadConstantStackSpecByte(Byte.MAX_VALUE);
130     private static final LoadConstantStackSpecShort stackCopyShort = new LoadConstantStackSpecShort(Short.MAX_VALUE);
131     private static final LoadConstantStackSpecInteger stackCopyInt = new LoadConstantStackSpecInteger(Integer.MAX_VALUE);
132     private static final LoadConstantStackSpecLong stackCopyLong = new LoadConstantStackSpecLong(Long.MAX_VALUE);
133     private static final LoadConstantStackSpecFloat stackCopyFloat = new LoadConstantStackSpecFloat(Float.MAX_VALUE);
134     private static final LoadConstantStackSpecDouble stackCopyDouble = new LoadConstantStackSpecDouble(Double.MAX_VALUE);
135 
136     @LIRIntrinsic
137     public static byte testCopyByte(LoadConstantStackSpecByte spec) {
138         return spec.get();
139     }
140 
141     public byte testByte() {
142         return testCopyByte(stackCopyByte);
143     }
144 
145     @Test
<span class="line-modified">146     public void runByte() throws Throwable {</span>
147         runTest(&quot;testByte&quot;);
148     }
149 
150     @LIRIntrinsic
151     public static short testCopyShort(LoadConstantStackSpecShort spec) {
152         return spec.get();
153     }
154 
155     public short testShort() {
156         return testCopyShort(stackCopyShort);
157     }
158 
159     @Test
<span class="line-modified">160     public void runShort() throws Throwable {</span>
161         runTest(&quot;testShort&quot;);
162     }
163 
164     @LIRIntrinsic
165     public static int testCopyInt(LoadConstantStackSpecInteger spec) {
166         return spec.get();
167     }
168 
169     public int testInt() {
170         return testCopyInt(stackCopyInt);
171     }
172 
173     @Test
<span class="line-modified">174     public void runInt() throws Throwable {</span>
175         runTest(&quot;testInt&quot;);
176     }
177 
178     @LIRIntrinsic
179     public static long testCopyLong(LoadConstantStackSpecLong spec) {
180         return spec.get();
181     }
182 
183     public long testLong() {
184         return testCopyLong(stackCopyLong);
185     }
186 
187     @Test
<span class="line-modified">188     public void runLong() throws Throwable {</span>
189         runTest(&quot;testLong&quot;);
190     }
191 
192     @LIRIntrinsic
193     public static float testCopyFloat(LoadConstantStackSpecFloat spec) {
194         return spec.get();
195     }
196 
197     public float testFloat() {
198         return testCopyFloat(stackCopyFloat);
199     }
200 
201     @Test
<span class="line-modified">202     public void runFloat() throws Throwable {</span>
203         runTest(&quot;testFloat&quot;);
204     }
205 
206     @LIRIntrinsic
207     public static double testCopyDouble(LoadConstantStackSpecDouble spec) {
208         return spec.get();
209     }
210 
211     public double testDouble() {
212         return testCopyDouble(stackCopyDouble);
213     }
214 
215     @Test
<span class="line-modified">216     public void runDouble() throws Throwable {</span>
217         runTest(&quot;testDouble&quot;);
218     }
219 
220 }
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2015, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
</pre>
<hr />
<pre>
126         }
127     }
128 
129     private static final LoadConstantStackSpecByte stackCopyByte = new LoadConstantStackSpecByte(Byte.MAX_VALUE);
130     private static final LoadConstantStackSpecShort stackCopyShort = new LoadConstantStackSpecShort(Short.MAX_VALUE);
131     private static final LoadConstantStackSpecInteger stackCopyInt = new LoadConstantStackSpecInteger(Integer.MAX_VALUE);
132     private static final LoadConstantStackSpecLong stackCopyLong = new LoadConstantStackSpecLong(Long.MAX_VALUE);
133     private static final LoadConstantStackSpecFloat stackCopyFloat = new LoadConstantStackSpecFloat(Float.MAX_VALUE);
134     private static final LoadConstantStackSpecDouble stackCopyDouble = new LoadConstantStackSpecDouble(Double.MAX_VALUE);
135 
136     @LIRIntrinsic
137     public static byte testCopyByte(LoadConstantStackSpecByte spec) {
138         return spec.get();
139     }
140 
141     public byte testByte() {
142         return testCopyByte(stackCopyByte);
143     }
144 
145     @Test
<span class="line-modified">146     public void runByte() {</span>
147         runTest(&quot;testByte&quot;);
148     }
149 
150     @LIRIntrinsic
151     public static short testCopyShort(LoadConstantStackSpecShort spec) {
152         return spec.get();
153     }
154 
155     public short testShort() {
156         return testCopyShort(stackCopyShort);
157     }
158 
159     @Test
<span class="line-modified">160     public void runShort() {</span>
161         runTest(&quot;testShort&quot;);
162     }
163 
164     @LIRIntrinsic
165     public static int testCopyInt(LoadConstantStackSpecInteger spec) {
166         return spec.get();
167     }
168 
169     public int testInt() {
170         return testCopyInt(stackCopyInt);
171     }
172 
173     @Test
<span class="line-modified">174     public void runInt() {</span>
175         runTest(&quot;testInt&quot;);
176     }
177 
178     @LIRIntrinsic
179     public static long testCopyLong(LoadConstantStackSpecLong spec) {
180         return spec.get();
181     }
182 
183     public long testLong() {
184         return testCopyLong(stackCopyLong);
185     }
186 
187     @Test
<span class="line-modified">188     public void runLong() {</span>
189         runTest(&quot;testLong&quot;);
190     }
191 
192     @LIRIntrinsic
193     public static float testCopyFloat(LoadConstantStackSpecFloat spec) {
194         return spec.get();
195     }
196 
197     public float testFloat() {
198         return testCopyFloat(stackCopyFloat);
199     }
200 
201     @Test
<span class="line-modified">202     public void runFloat() {</span>
203         runTest(&quot;testFloat&quot;);
204     }
205 
206     @LIRIntrinsic
207     public static double testCopyDouble(LoadConstantStackSpecDouble spec) {
208         return spec.get();
209     }
210 
211     public double testDouble() {
212         return testCopyDouble(stackCopyDouble);
213     }
214 
215     @Test
<span class="line-modified">216     public void runDouble() {</span>
217         runTest(&quot;testDouble&quot;);
218     }
219 
220 }
</pre>
</td>
</tr>
</table>
<center><a href="AMD64MatchRuleTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../index.html" target="_top">index</a> <a href="StackStoreTest.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>