<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/jdk.internal.vm.compiler/share/classes/org.graalvm.compiler.core/src/org/graalvm/compiler/core/gen/NodeMatchRules.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="NodeLIRBuilder.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="../match/MatchContext.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.internal.vm.compiler/share/classes/org.graalvm.compiler.core/src/org/graalvm/compiler/core/gen/NodeMatchRules.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 2009, 2018, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 2009, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 61,46 ***</span>
  import org.graalvm.compiler.nodes.calc.ZeroExtendNode;
  import org.graalvm.compiler.nodes.java.LogicCompareAndSwapNode;
  import org.graalvm.compiler.nodes.java.ValueCompareAndSwapNode;
  import org.graalvm.compiler.nodes.memory.FloatingReadNode;
  import org.graalvm.compiler.nodes.memory.ReadNode;
  import org.graalvm.compiler.nodes.memory.WriteNode;
  
  import jdk.vm.ci.meta.Value;
  
<span class="line-modified">! @MatchableNode(nodeClass = ConstantNode.class, shareable = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = FloatConvertNode.class, inputs = {&quot;value&quot;})</span>
  @MatchableNode(nodeClass = FloatingReadNode.class, inputs = {&quot;address&quot;})
  @MatchableNode(nodeClass = IfNode.class, inputs = {&quot;condition&quot;})
<span class="line-modified">! @MatchableNode(nodeClass = SubNode.class, inputs = {&quot;x&quot;, &quot;y&quot;})</span>
<span class="line-modified">! @MatchableNode(nodeClass = LeftShiftNode.class, inputs = {&quot;x&quot;, &quot;y&quot;})</span>
<span class="line-modified">! @MatchableNode(nodeClass = NarrowNode.class, inputs = {&quot;value&quot;})</span>
  @MatchableNode(nodeClass = ReadNode.class, inputs = {&quot;address&quot;})
<span class="line-modified">! @MatchableNode(nodeClass = ReinterpretNode.class, inputs = {&quot;value&quot;})</span>
<span class="line-modified">! @MatchableNode(nodeClass = SignExtendNode.class, inputs = {&quot;value&quot;})</span>
<span class="line-modified">! @MatchableNode(nodeClass = UnsignedRightShiftNode.class, inputs = {&quot;x&quot;, &quot;y&quot;})</span>
  @MatchableNode(nodeClass = WriteNode.class, inputs = {&quot;address&quot;, &quot;value&quot;})
<span class="line-modified">! @MatchableNode(nodeClass = ZeroExtendNode.class, inputs = {&quot;value&quot;})</span>
<span class="line-modified">! @MatchableNode(nodeClass = AndNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = NegateNode.class, inputs = {&quot;value&quot;})</span>
<span class="line-modified">! @MatchableNode(nodeClass = NotNode.class, inputs = {&quot;value&quot;})</span>
<span class="line-modified">! @MatchableNode(nodeClass = FloatEqualsNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = FloatLessThanNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = PointerEqualsNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = AddNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = IntegerBelowNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = IntegerEqualsNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = IntegerLessThanNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = MulNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = IntegerTestNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = ObjectEqualsNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = OrNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = XorNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = PiNode.class, inputs = {&quot;object&quot;})</span>
  @MatchableNode(nodeClass = LogicCompareAndSwapNode.class, inputs = {&quot;address&quot;, &quot;expectedValue&quot;, &quot;newValue&quot;})
  @MatchableNode(nodeClass = ValueCompareAndSwapNode.class, inputs = {&quot;address&quot;, &quot;expectedValue&quot;, &quot;newValue&quot;})
<span class="line-modified">! @MatchableNode(nodeClass = RightShiftNode.class, inputs = {&quot;x&quot;, &quot;y&quot;})</span>
  public abstract class NodeMatchRules {
  
      NodeLIRBuilder lirBuilder;
      protected final LIRGeneratorTool gen;
  
<span class="line-new-header">--- 61,48 ---</span>
  import org.graalvm.compiler.nodes.calc.ZeroExtendNode;
  import org.graalvm.compiler.nodes.java.LogicCompareAndSwapNode;
  import org.graalvm.compiler.nodes.java.ValueCompareAndSwapNode;
  import org.graalvm.compiler.nodes.memory.FloatingReadNode;
  import org.graalvm.compiler.nodes.memory.ReadNode;
<span class="line-added">+ import org.graalvm.compiler.nodes.memory.VolatileReadNode;</span>
  import org.graalvm.compiler.nodes.memory.WriteNode;
  
  import jdk.vm.ci.meta.Value;
  
<span class="line-modified">! @MatchableNode(nodeClass = ConstantNode.class, shareable = true, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = FloatConvertNode.class, inputs = {&quot;value&quot;}, ignoresSideEffects = true)</span>
  @MatchableNode(nodeClass = FloatingReadNode.class, inputs = {&quot;address&quot;})
  @MatchableNode(nodeClass = IfNode.class, inputs = {&quot;condition&quot;})
<span class="line-modified">! @MatchableNode(nodeClass = SubNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = LeftShiftNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = NarrowNode.class, inputs = {&quot;value&quot;}, ignoresSideEffects = true)</span>
  @MatchableNode(nodeClass = ReadNode.class, inputs = {&quot;address&quot;})
<span class="line-modified">! @MatchableNode(nodeClass = VolatileReadNode.class, inputs = {&quot;address&quot;})</span>
<span class="line-modified">! @MatchableNode(nodeClass = ReinterpretNode.class, inputs = {&quot;value&quot;}, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = SignExtendNode.class, inputs = {&quot;value&quot;}, ignoresSideEffects = true)</span>
<span class="line-added">+ @MatchableNode(nodeClass = UnsignedRightShiftNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, ignoresSideEffects = true)</span>
  @MatchableNode(nodeClass = WriteNode.class, inputs = {&quot;address&quot;, &quot;value&quot;})
<span class="line-modified">! @MatchableNode(nodeClass = ZeroExtendNode.class, inputs = {&quot;value&quot;}, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = AndNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = NegateNode.class, inputs = {&quot;value&quot;}, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = NotNode.class, inputs = {&quot;value&quot;}, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = FloatEqualsNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = FloatLessThanNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = PointerEqualsNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = AddNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = IntegerBelowNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = IntegerEqualsNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = IntegerLessThanNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = MulNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = IntegerTestNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = ObjectEqualsNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = OrNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = XorNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, commutative = true, ignoresSideEffects = true)</span>
<span class="line-modified">! @MatchableNode(nodeClass = PiNode.class, inputs = {&quot;object&quot;}, ignoresSideEffects = true)</span>
  @MatchableNode(nodeClass = LogicCompareAndSwapNode.class, inputs = {&quot;address&quot;, &quot;expectedValue&quot;, &quot;newValue&quot;})
  @MatchableNode(nodeClass = ValueCompareAndSwapNode.class, inputs = {&quot;address&quot;, &quot;expectedValue&quot;, &quot;newValue&quot;})
<span class="line-modified">! @MatchableNode(nodeClass = RightShiftNode.class, inputs = {&quot;x&quot;, &quot;y&quot;}, ignoresSideEffects = true)</span>
  public abstract class NodeMatchRules {
  
      NodeLIRBuilder lirBuilder;
      protected final LIRGeneratorTool gen;
  
</pre>
<center><a href="NodeLIRBuilder.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="../match/MatchContext.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>