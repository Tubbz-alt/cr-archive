diff a/src/jdk.internal.le/share/classes/jdk/internal/org/jline/utils/Display.java b/src/jdk.internal.le/share/classes/jdk/internal/org/jline/utils/Display.java
--- a/src/jdk.internal.le/share/classes/jdk/internal/org/jline/utils/Display.java
+++ b/src/jdk.internal.le/share/classes/jdk/internal/org/jline/utils/Display.java
@@ -2,11 +2,11 @@
  * Copyright (c) 2002-2018, the original author or authors.
  *
  * This software is distributable under the BSD license. See the terms of the
  * BSD license in the documentation provided with this software.
  *
- * http://www.opensource.org/licenses/bsd-license.php
+ * https://opensource.org/licenses/BSD-3-Clause
  */
 package jdk.internal.org.jline.utils;
 
 import java.util.Collections;
 import java.util.HashMap;
@@ -490,11 +490,11 @@
     void rawPrint(int c) {
         terminal.writer().write(c);
     }
 
     void rawPrint(AttributedString str) {
-        terminal.writer().write(str.toAnsi(terminal));
+        str.print(terminal);
     }
 
     public int wcwidth(String str) {
         return AttributedString.fromAnsi(str).columnLength();
     }
