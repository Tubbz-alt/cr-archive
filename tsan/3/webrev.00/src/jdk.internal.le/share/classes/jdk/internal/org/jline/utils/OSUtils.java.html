<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New src/jdk.internal.le/share/classes/jdk/internal/org/jline/utils/OSUtils.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
 1 /*
 2  * Copyright (c) 2002-2016, the original author or authors.
 3  *
 4  * This software is distributable under the BSD license. See the terms of the
 5  * BSD license in the documentation provided with this software.
 6  *
 7  * https://opensource.org/licenses/BSD-3-Clause
 8  */
 9 package jdk.internal.org.jline.utils;
10 
11 import java.io.File;
12 
13 public class OSUtils {
14 
15     public static final boolean IS_WINDOWS = System.getProperty(&quot;os.name&quot;).toLowerCase().contains(&quot;win&quot;);
16 
17     public static final boolean IS_CYGWIN = IS_WINDOWS
18             &amp;&amp; System.getenv(&quot;PWD&quot;) != null
19             &amp;&amp; System.getenv(&quot;PWD&quot;).startsWith(&quot;/&quot;);
20 
21     @Deprecated
22     public static final boolean IS_MINGW = IS_WINDOWS
23             &amp;&amp; System.getenv(&quot;MSYSTEM&quot;) != null
24             &amp;&amp; System.getenv(&quot;MSYSTEM&quot;).startsWith(&quot;MINGW&quot;);
25 
26     public static final boolean IS_MSYSTEM = IS_WINDOWS
27             &amp;&amp; System.getenv(&quot;MSYSTEM&quot;) != null
28             &amp;&amp; (System.getenv(&quot;MSYSTEM&quot;).startsWith(&quot;MINGW&quot;)
29                 || System.getenv(&quot;MSYSTEM&quot;).equals(&quot;MSYS&quot;));
30 
31     public static final boolean IS_CONEMU = IS_WINDOWS
32             &amp;&amp; System.getenv(&quot;ConEmuPID&quot;) != null;
33 
34     public static final boolean IS_OSX = System.getProperty(&quot;os.name&quot;).toLowerCase().contains(&quot;mac&quot;);
35 
36     public static String TTY_COMMAND;
37     public static String STTY_COMMAND;
38     public static String STTY_F_OPTION;
39     public static String INFOCMP_COMMAND;
40 
41     static {
42         String tty;
43         String stty;
44         String sttyfopt;
45         String infocmp;
46         if (OSUtils.IS_CYGWIN || OSUtils.IS_MSYSTEM) {
47             tty = &quot;tty.exe&quot;;
48             stty = &quot;stty.exe&quot;;
49             sttyfopt = null;
50             infocmp = &quot;infocmp.exe&quot;;
51             String path = System.getenv(&quot;PATH&quot;);
52             if (path != null) {
53                 String[] paths = path.split(&quot;;&quot;);
54                 for (String p : paths) {
55                     if (tty == null &amp;&amp; new File(p, &quot;tty.exe&quot;).exists()) {
56                         tty = new File(p, &quot;tty.exe&quot;).getAbsolutePath();
57                     }
58                     if (stty == null &amp;&amp; new File(p, &quot;stty.exe&quot;).exists()) {
59                         stty = new File(p, &quot;stty.exe&quot;).getAbsolutePath();
60                     }
61                     if (infocmp == null &amp;&amp; new File(p, &quot;infocmp.exe&quot;).exists()) {
62                         infocmp = new File(p, &quot;infocmp.exe&quot;).getAbsolutePath();
63                     }
64                 }
65             }
66         } else {
67             tty = &quot;tty&quot;;
68             stty = &quot;stty&quot;;
69             infocmp = &quot;infocmp&quot;;
70             if (IS_OSX) {
71                 sttyfopt = &quot;-f&quot;;
72             }
73             else {
74                 sttyfopt = &quot;-F&quot;;
75             }
76         }
77         TTY_COMMAND = tty;
78         STTY_COMMAND = stty;
79         STTY_F_OPTION = sttyfopt;
80         INFOCMP_COMMAND = infocmp;
81     }
82 
83 }
    </pre>
  </body>
</html>