<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/jdk.internal.le/windows/classes/jdk/internal/org/jline/terminal/impl/jna/win/JnaWinConsoleWriter.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre> 1 /*
 2  * Copyright (c) 2002-2017, the original author or authors.
 3  *
 4  * This software is distributable under the BSD license. See the terms of the
 5  * BSD license in the documentation provided with this software.
 6  *
<a name="1" id="anc1"></a><span class="line-modified"> 7  * https://opensource.org/licenses/BSD-3-Clause</span>
 8  */
 9 package jdk.internal.org.jline.terminal.impl.jna.win;
10 
11 //import com.sun.jna.LastErrorException;
12 //import com.sun.jna.Pointer;
13 //import com.sun.jna.ptr.IntByReference;
14 import jdk.internal.org.jline.terminal.impl.AbstractWindowsConsoleWriter;
15 
16 import java.io.IOException;
17 
18 class JnaWinConsoleWriter extends AbstractWindowsConsoleWriter {
19 
20     private final Pointer consoleHandle;
21     private final IntByReference writtenChars = new IntByReference();
22 
23     JnaWinConsoleWriter(Pointer consoleHandle) {
24         this.consoleHandle = consoleHandle;
25     }
26 
27     @Override
28     protected void writeConsole(char[] text, int len) throws IOException {
29         try {
30             Kernel32.INSTANCE.WriteConsoleW(this.consoleHandle, text, len, this.writtenChars, null);
31         } catch (LastErrorException e) {
32             throw new IOException(&quot;Failed to write to console&quot;, e);
33         }
34     }
35 
36 }
<a name="2" id="anc2"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="2" type="hidden" />
</body>
</html>