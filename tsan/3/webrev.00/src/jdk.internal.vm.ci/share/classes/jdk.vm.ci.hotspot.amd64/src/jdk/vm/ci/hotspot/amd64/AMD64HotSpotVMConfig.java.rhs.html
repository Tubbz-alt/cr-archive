<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/jdk.internal.vm.ci/share/classes/jdk.vm.ci.hotspot.amd64/src/jdk/vm/ci/hotspot/amd64/AMD64HotSpotVMConfig.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre> 1 /*
<a name="1" id="anc1"></a><span class="line-modified"> 2  * Copyright (c) 2011, 2019, Oracle and/or its affiliates. All rights reserved.</span>
 3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 4  *
 5  * This code is free software; you can redistribute it and/or modify it
 6  * under the terms of the GNU General Public License version 2 only, as
 7  * published by the Free Software Foundation.
 8  *
 9  * This code is distributed in the hope that it will be useful, but WITHOUT
10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
12  * version 2 for more details (a copy is included in the LICENSE file that
13  * accompanied this code).
14  *
15  * You should have received a copy of the GNU General Public License version
16  * 2 along with this work; if not, write to the Free Software Foundation,
17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
18  *
19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
20  * or visit www.oracle.com if you need additional information or have any
21  * questions.
22  */
23 package jdk.vm.ci.hotspot.amd64;
24 
25 import jdk.vm.ci.hotspot.HotSpotVMConfigAccess;
26 import jdk.vm.ci.hotspot.HotSpotVMConfigStore;
<a name="2" id="anc2"></a><span class="line-added">27 import jdk.vm.ci.services.Services;</span>
28 
29 /**
30  * Used to access AMD64 specific native configuration details.
31  */
32 class AMD64HotSpotVMConfig extends HotSpotVMConfigAccess {
33 
34     AMD64HotSpotVMConfig(HotSpotVMConfigStore config) {
35         super(config);
36     }
37 
<a name="3" id="anc3"></a><span class="line-modified">38     final boolean windowsOs = Services.getSavedProperty(&quot;os.name&quot;, &quot;&quot;).startsWith(&quot;Windows&quot;);</span>
39 
40     final boolean useCountLeadingZerosInstruction = getFlag(&quot;UseCountLeadingZerosInstruction&quot;, Boolean.class);
41     final boolean useCountTrailingZerosInstruction = getFlag(&quot;UseCountTrailingZerosInstruction&quot;, Boolean.class);
42     final boolean useCompressedOops = getFlag(&quot;UseCompressedOops&quot;, Boolean.class);
43 
44     // CPU capabilities
45     final int useSSE = getFlag(&quot;UseSSE&quot;, Integer.class);
46     final int useAVX = getFlag(&quot;UseAVX&quot;, Integer.class);
47 
48     final long vmVersionFeatures = getFieldValue(&quot;Abstract_VM_Version::_features&quot;, Long.class, &quot;uint64_t&quot;);
49 
50     // CPU feature flags
51     final long amd64CX8 = getConstant(&quot;VM_Version::CPU_CX8&quot;, Long.class);
52     final long amd64CMOV = getConstant(&quot;VM_Version::CPU_CMOV&quot;, Long.class);
53     final long amd64FXSR = getConstant(&quot;VM_Version::CPU_FXSR&quot;, Long.class);
54     final long amd64HT = getConstant(&quot;VM_Version::CPU_HT&quot;, Long.class);
55     final long amd64MMX = getConstant(&quot;VM_Version::CPU_MMX&quot;, Long.class);
56     final long amd643DNOWPREFETCH = getConstant(&quot;VM_Version::CPU_3DNOW_PREFETCH&quot;, Long.class);
57     final long amd64SSE = getConstant(&quot;VM_Version::CPU_SSE&quot;, Long.class);
58     final long amd64SSE2 = getConstant(&quot;VM_Version::CPU_SSE2&quot;, Long.class);
59     final long amd64SSE3 = getConstant(&quot;VM_Version::CPU_SSE3&quot;, Long.class);
60     final long amd64SSSE3 = getConstant(&quot;VM_Version::CPU_SSSE3&quot;, Long.class);
61     final long amd64SSE4A = getConstant(&quot;VM_Version::CPU_SSE4A&quot;, Long.class);
62     final long amd64SSE41 = getConstant(&quot;VM_Version::CPU_SSE4_1&quot;, Long.class);
63     final long amd64SSE42 = getConstant(&quot;VM_Version::CPU_SSE4_2&quot;, Long.class);
64     final long amd64POPCNT = getConstant(&quot;VM_Version::CPU_POPCNT&quot;, Long.class);
65     final long amd64LZCNT = getConstant(&quot;VM_Version::CPU_LZCNT&quot;, Long.class);
66     final long amd64TSC = getConstant(&quot;VM_Version::CPU_TSC&quot;, Long.class);
67     final long amd64TSCINV = getConstant(&quot;VM_Version::CPU_TSCINV&quot;, Long.class);
68     final long amd64AVX = getConstant(&quot;VM_Version::CPU_AVX&quot;, Long.class);
69     final long amd64AVX2 = getConstant(&quot;VM_Version::CPU_AVX2&quot;, Long.class);
70     final long amd64AES = getConstant(&quot;VM_Version::CPU_AES&quot;, Long.class);
71     final long amd64ERMS = getConstant(&quot;VM_Version::CPU_ERMS&quot;, Long.class);
72     final long amd64CLMUL = getConstant(&quot;VM_Version::CPU_CLMUL&quot;, Long.class);
73     final long amd64BMI1 = getConstant(&quot;VM_Version::CPU_BMI1&quot;, Long.class);
74     final long amd64BMI2 = getConstant(&quot;VM_Version::CPU_BMI2&quot;, Long.class);
75     final long amd64RTM = getConstant(&quot;VM_Version::CPU_RTM&quot;, Long.class);
76     final long amd64ADX = getConstant(&quot;VM_Version::CPU_ADX&quot;, Long.class);
77     final long amd64AVX512F = getConstant(&quot;VM_Version::CPU_AVX512F&quot;, Long.class);
78     final long amd64AVX512DQ = getConstant(&quot;VM_Version::CPU_AVX512DQ&quot;, Long.class);
79     final long amd64AVX512PF = getConstant(&quot;VM_Version::CPU_AVX512PF&quot;, Long.class);
80     final long amd64AVX512ER = getConstant(&quot;VM_Version::CPU_AVX512ER&quot;, Long.class);
81     final long amd64AVX512CD = getConstant(&quot;VM_Version::CPU_AVX512CD&quot;, Long.class);
82     final long amd64AVX512BW = getConstant(&quot;VM_Version::CPU_AVX512BW&quot;, Long.class);
83     final long amd64AVX512VL = getConstant(&quot;VM_Version::CPU_AVX512VL&quot;, Long.class);
84     final long amd64SHA = getConstant(&quot;VM_Version::CPU_SHA&quot;, Long.class);
85     final long amd64FMA = getConstant(&quot;VM_Version::CPU_FMA&quot;, Long.class);
86 }
<a name="4" id="anc4"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="4" type="hidden" />
</body>
</html>