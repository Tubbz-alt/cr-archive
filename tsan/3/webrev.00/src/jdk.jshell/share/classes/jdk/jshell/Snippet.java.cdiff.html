<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/jdk.jshell/share/classes/jdk/jshell/Snippet.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="ReplParser.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="SourceCodeAnalysisImpl.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.jshell/share/classes/jdk/jshell/Snippet.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 2015, 2017, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 2015, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 71,13 ***</span>
           * ({@link jdk.jshell.Snippet.SubKind#TYPE_IMPORT_ON_DEMAND_SUBKIND}),
           * or a static on-demand type import
           * ({@link jdk.jshell.Snippet.SubKind#SINGLE_STATIC_IMPORT_SUBKIND}) --
           * use {@link jdk.jshell.Snippet#subKind()} to distinguish.
           *
<span class="line-removed">-          * @jls 8.3: importDeclaration.</span>
           * &lt;P&gt;
           * An import declaration is {@linkplain Kind#isPersistent() persistent}.
           */
          IMPORT(true),
  
          /**
           * A type declaration.
<span class="line-new-header">--- 71,14 ---</span>
           * ({@link jdk.jshell.Snippet.SubKind#TYPE_IMPORT_ON_DEMAND_SUBKIND}),
           * or a static on-demand type import
           * ({@link jdk.jshell.Snippet.SubKind#SINGLE_STATIC_IMPORT_SUBKIND}) --
           * use {@link jdk.jshell.Snippet#subKind()} to distinguish.
           *
           * &lt;P&gt;
           * An import declaration is {@linkplain Kind#isPersistent() persistent}.
<span class="line-added">+          *</span>
<span class="line-added">+          * @jls 7.5 Import Declarations</span>
           */
          IMPORT(true),
  
          /**
           * A type declaration.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 89,23 ***</span>
           * {@link jdk.jshell.Snippet.SubKind#INTERFACE_SUBKIND},
           * classes {@link jdk.jshell.Snippet.SubKind#CLASS_SUBKIND}, enums, and
           * annotation interfaces -- see {@link jdk.jshell.Snippet.SubKind} to
           * differentiate.
           *
<span class="line-removed">-          * @jls 7.6: TypeDeclaration.</span>
           * &lt;P&gt;
           * A type declaration is {@linkplain Kind#isPersistent() persistent}.
           */
          TYPE_DECL(true),
  
          /**
           * A method declaration.
           * The snippet is an instance of {@link jdk.jshell.MethodSnippet}.
           *
<span class="line-removed">-          * @jls 8.4: MethodDeclaration.</span>
           * &lt;P&gt;
           * A method declaration is {@linkplain Kind#isPersistent() persistent}.
           */
          METHOD(true),
  
          /**
           * One variable declaration.
<span class="line-new-header">--- 90,25 ---</span>
           * {@link jdk.jshell.Snippet.SubKind#INTERFACE_SUBKIND},
           * classes {@link jdk.jshell.Snippet.SubKind#CLASS_SUBKIND}, enums, and
           * annotation interfaces -- see {@link jdk.jshell.Snippet.SubKind} to
           * differentiate.
           *
           * &lt;P&gt;
           * A type declaration is {@linkplain Kind#isPersistent() persistent}.
<span class="line-added">+          *</span>
<span class="line-added">+          * @jls 7.6 Top Level Type Declarations</span>
           */
          TYPE_DECL(true),
  
          /**
           * A method declaration.
           * The snippet is an instance of {@link jdk.jshell.MethodSnippet}.
           *
           * &lt;P&gt;
           * A method declaration is {@linkplain Kind#isPersistent() persistent}.
<span class="line-added">+          *</span>
<span class="line-added">+          * @jls 8.4 Method Declarations</span>
           */
          METHOD(true),
  
          /**
           * One variable declaration.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 114,13 ***</span>
           * &lt;P&gt;
           * The variable may be with or without initializer, or be a temporary
           * variable representing an expression -- see
           * {@link jdk.jshell.Snippet.SubKind}to differentiate.
           *
<span class="line-removed">-          * @jls 8.3: FieldDeclaration.</span>
           * &lt;P&gt;
           * A variable declaration is {@linkplain Kind#isPersistent() persistent}.
           */
          VAR(true),
  
          /**
           * An expression, with or without side-effects.
<span class="line-new-header">--- 117,14 ---</span>
           * &lt;P&gt;
           * The variable may be with or without initializer, or be a temporary
           * variable representing an expression -- see
           * {@link jdk.jshell.Snippet.SubKind}to differentiate.
           *
           * &lt;P&gt;
           * A variable declaration is {@linkplain Kind#isPersistent() persistent}.
<span class="line-added">+          *</span>
<span class="line-added">+          * @jls 8.3 Field Declarations</span>
           */
          VAR(true),
  
          /**
           * An expression, with or without side-effects.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 131,19 ***</span>
           * assignment (both of which have natural referencing
           * names) -- see {@link jdk.jshell.Snippet.SubKind} to differentiate.
           * All other expression forms (operators, method calls, ...) generate a
           * scratch variable and so are instead of the VAR Kind.
           *
<span class="line-modified">!          * @jls 15: Expression.</span>
           */
          EXPRESSION(false),
  
          /**
           * A statement.
           * The snippet is an instance of {@link jdk.jshell.StatementSnippet}.
           *
<span class="line-modified">!          * @jls 14.5: Statement.</span>
           */
          STATEMENT(false),
  
          /**
           * A syntactically incorrect input for which the specific
<span class="line-new-header">--- 135,19 ---</span>
           * assignment (both of which have natural referencing
           * names) -- see {@link jdk.jshell.Snippet.SubKind} to differentiate.
           * All other expression forms (operators, method calls, ...) generate a
           * scratch variable and so are instead of the VAR Kind.
           *
<span class="line-modified">!          * @jls 15 Expressions</span>
           */
          EXPRESSION(false),
  
          /**
           * A statement.
           * The snippet is an instance of {@link jdk.jshell.StatementSnippet}.
           *
<span class="line-modified">!          * @jls 14.5 Statements</span>
           */
          STATEMENT(false),
  
          /**
           * A syntactically incorrect input for which the specific
</pre>
<hr />
<pre>
<span class="line-old-header">*** 183,103 ***</span>
      public enum SubKind {
  
          /**
           * Single-Type-Import Declaration.
           * An import declaration of a single type.
<span class="line-modified">!          * @jls 7.5.1 SingleTypeImportDeclaration.</span>
           */
          SINGLE_TYPE_IMPORT_SUBKIND(Kind.IMPORT),
  
          /**
           * Type-Import-on-Demand Declaration.
           * A non-static &quot;star&quot; import.
<span class="line-modified">!          * @jls 7.5.2. TypeImportOnDemandDeclaration.</span>
           */
          TYPE_IMPORT_ON_DEMAND_SUBKIND(Kind.IMPORT),
  
          /**
           * Single-Static-Import Declaration.
           * An import of a static member.
<span class="line-modified">!          * @jls 7.5.3 Single-Static-Import.</span>
           */
          SINGLE_STATIC_IMPORT_SUBKIND(Kind.IMPORT),
  
          /**
           * Static-Import-on-Demand Declaration.
           * A static &quot;star&quot; import of all static members of a named type.
<span class="line-modified">!          * @jls 7.5.4. Static-Import-on-Demand Static &quot;star&quot; import.</span>
           */
          STATIC_IMPORT_ON_DEMAND_SUBKIND(Kind.IMPORT),
  
          /**
           * A class declaration.
           * A {@code SubKind} of {@link Kind#TYPE_DECL}.
<span class="line-modified">!          * @jls 8.1. NormalClassDeclaration.</span>
           */
          CLASS_SUBKIND(Kind.TYPE_DECL),
  
          /**
           * An interface declaration.
           * A {@code SubKind} of {@link Kind#TYPE_DECL}.
<span class="line-modified">!          * @jls 9.1. NormalInterfaceDeclaration.</span>
           */
          INTERFACE_SUBKIND(Kind.TYPE_DECL),
  
          /**
           * An enum declaration.
           * A {@code SubKind} of {@link Kind#TYPE_DECL}.
<span class="line-modified">!          * @jls 8.9. EnumDeclaration.</span>
           */
          ENUM_SUBKIND(Kind.TYPE_DECL),
  
          /**
           * An annotation interface declaration. A {@code SubKind} of
           * {@link Kind#TYPE_DECL}.
<span class="line-modified">!          * @jls 9.6. AnnotationTypeDeclaration.</span>
           */
          ANNOTATION_TYPE_SUBKIND(Kind.TYPE_DECL),
  
          /**
           * A method. The only {@code SubKind} for {@link Kind#METHOD}.
<span class="line-modified">!          * @jls 8.4. MethodDeclaration.</span>
           */
          METHOD_SUBKIND(Kind.METHOD),
  
          /**
           * A variable declaration without initializer.
           * A {@code SubKind} of {@link Kind#VAR}.
<span class="line-modified">!          * @jls 8.3. VariableDeclarator without VariableInitializer in</span>
<span class="line-removed">-          * FieldDeclaration.</span>
           */
          VAR_DECLARATION_SUBKIND(Kind.VAR, true, true),
  
          /**
           * A variable declaration with an initializer expression. A
           * {@code SubKind} of {@link Kind#VAR}.
<span class="line-modified">!          * @jls 8.3. VariableDeclarator with VariableInitializer in</span>
<span class="line-removed">-          * FieldDeclaration.</span>
           */
          VAR_DECLARATION_WITH_INITIALIZER_SUBKIND(Kind.VAR, true, true),
  
          /**
           * An expression whose value has been stored in a temporary variable. A
           * {@code SubKind} of {@link Kind#VAR}.
<span class="line-modified">!          * @jls 15. Primary.</span>
           */
          TEMP_VAR_EXPRESSION_SUBKIND(Kind.VAR, true, true),
  
          /**
           * A simple variable reference expression. A {@code SubKind} of
           * {@link Kind#EXPRESSION}.
<span class="line-modified">!          * @jls 15.11. Field Access as 3.8. Identifier.</span>
           */
          VAR_VALUE_SUBKIND(Kind.EXPRESSION, true, true),
  
          /**
           * An assignment expression. A {@code SubKind} of
           * {@link Kind#EXPRESSION}.
<span class="line-modified">!          * @jls 15.26. Assignment.</span>
           */
          ASSIGNMENT_SUBKIND(Kind.EXPRESSION, true, true),
  
          /**
           * An expression which has not been wrapped in a temporary variable
<span class="line-new-header">--- 187,118 ---</span>
      public enum SubKind {
  
          /**
           * Single-Type-Import Declaration.
           * An import declaration of a single type.
<span class="line-modified">!          * @jls 7.5.1 Single-Type-Import Declarations</span>
           */
          SINGLE_TYPE_IMPORT_SUBKIND(Kind.IMPORT),
  
          /**
           * Type-Import-on-Demand Declaration.
           * A non-static &quot;star&quot; import.
<span class="line-modified">!          * @jls 7.5.2 Type-Import-on-Demand Declarations</span>
           */
          TYPE_IMPORT_ON_DEMAND_SUBKIND(Kind.IMPORT),
  
          /**
           * Single-Static-Import Declaration.
           * An import of a static member.
<span class="line-modified">!          * @jls 7.5.3 Single-Static-Import Declarations</span>
           */
          SINGLE_STATIC_IMPORT_SUBKIND(Kind.IMPORT),
  
          /**
           * Static-Import-on-Demand Declaration.
           * A static &quot;star&quot; import of all static members of a named type.
<span class="line-modified">!          * @jls 7.5.4 Static-Import-on-Demand Declarations</span>
           */
          STATIC_IMPORT_ON_DEMAND_SUBKIND(Kind.IMPORT),
  
          /**
           * A class declaration.
           * A {@code SubKind} of {@link Kind#TYPE_DECL}.
<span class="line-modified">!          * @jls 8.1 Class Declarations</span>
           */
          CLASS_SUBKIND(Kind.TYPE_DECL),
  
          /**
           * An interface declaration.
           * A {@code SubKind} of {@link Kind#TYPE_DECL}.
<span class="line-modified">!          * @jls 9.1 Interface Declarations</span>
           */
          INTERFACE_SUBKIND(Kind.TYPE_DECL),
  
          /**
           * An enum declaration.
           * A {@code SubKind} of {@link Kind#TYPE_DECL}.
<span class="line-modified">!          * @jls 8.9 Enum Types</span>
           */
          ENUM_SUBKIND(Kind.TYPE_DECL),
  
<span class="line-added">+         /**</span>
<span class="line-added">+          * {@preview Associated with records, a preview feature of the Java language.</span>
<span class="line-added">+          *</span>
<span class="line-added">+          *           This enum constant is associated with &lt;i&gt;records&lt;/i&gt;, a preview</span>
<span class="line-added">+          *           feature of the Java language. Preview features</span>
<span class="line-added">+          *           may be removed in a future release, or upgraded to permanent</span>
<span class="line-added">+          *           features of the Java language.}</span>
<span class="line-added">+          *</span>
<span class="line-added">+          * A record declaration.</span>
<span class="line-added">+          * A {@code SubKind} of {@link Kind#TYPE_DECL}.</span>
<span class="line-added">+          * @jls 8.10 Record Types</span>
<span class="line-added">+          * @since 14</span>
<span class="line-added">+          *</span>
<span class="line-added">+          */</span>
<span class="line-added">+         @jdk.internal.PreviewFeature(feature=jdk.internal.PreviewFeature.Feature.RECORDS)</span>
<span class="line-added">+         RECORD_SUBKIND(Kind.TYPE_DECL),</span>
<span class="line-added">+ </span>
          /**
           * An annotation interface declaration. A {@code SubKind} of
           * {@link Kind#TYPE_DECL}.
<span class="line-modified">!          * @jls 9.6 Annotation Types</span>
           */
          ANNOTATION_TYPE_SUBKIND(Kind.TYPE_DECL),
  
          /**
           * A method. The only {@code SubKind} for {@link Kind#METHOD}.
<span class="line-modified">!          * @jls 8.4 Method Declarations</span>
           */
          METHOD_SUBKIND(Kind.METHOD),
  
          /**
           * A variable declaration without initializer.
           * A {@code SubKind} of {@link Kind#VAR}.
<span class="line-modified">!          * @jls 8.3 Field Declarations</span>
           */
          VAR_DECLARATION_SUBKIND(Kind.VAR, true, true),
  
          /**
           * A variable declaration with an initializer expression. A
           * {@code SubKind} of {@link Kind#VAR}.
<span class="line-modified">!          * @jls 8.3 Field Declarations</span>
           */
          VAR_DECLARATION_WITH_INITIALIZER_SUBKIND(Kind.VAR, true, true),
  
          /**
           * An expression whose value has been stored in a temporary variable. A
           * {@code SubKind} of {@link Kind#VAR}.
<span class="line-modified">!          * @jls 15 Expressions</span>
           */
          TEMP_VAR_EXPRESSION_SUBKIND(Kind.VAR, true, true),
  
          /**
           * A simple variable reference expression. A {@code SubKind} of
           * {@link Kind#EXPRESSION}.
<span class="line-modified">!          * @jls 15.11 Field Access Expressions</span>
           */
          VAR_VALUE_SUBKIND(Kind.EXPRESSION, true, true),
  
          /**
           * An assignment expression. A {@code SubKind} of
           * {@link Kind#EXPRESSION}.
<span class="line-modified">!          * @jls 15.26 Assignment Operators</span>
           */
          ASSIGNMENT_SUBKIND(Kind.EXPRESSION, true, true),
  
          /**
           * An expression which has not been wrapped in a temporary variable
</pre>
<hr />
<pre>
<span class="line-old-header">*** 287,11 ***</span>
           */
          OTHER_EXPRESSION_SUBKIND(Kind.EXPRESSION, true, true),
  
          /**
           * A statement. The only {@code SubKind} for {@link Kind#STATEMENT}.
<span class="line-modified">!          * @jls 14.5. Statement.</span>
           */
          STATEMENT_SUBKIND(Kind.STATEMENT, true, false),
  
          /**
           * An unknown snippet. The only {@code SubKind} for
<span class="line-new-header">--- 306,11 ---</span>
           */
          OTHER_EXPRESSION_SUBKIND(Kind.EXPRESSION, true, true),
  
          /**
           * A statement. The only {@code SubKind} for {@link Kind#STATEMENT}.
<span class="line-modified">!          * @jls 14.5 Statements</span>
           */
          STATEMENT_SUBKIND(Kind.STATEMENT, true, false),
  
          /**
           * An unknown snippet. The only {@code SubKind} for
</pre>
<center><a href="ReplParser.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="SourceCodeAnalysisImpl.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>