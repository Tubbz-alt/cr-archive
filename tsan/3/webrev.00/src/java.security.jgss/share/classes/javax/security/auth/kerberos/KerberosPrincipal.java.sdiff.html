<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.security.jgss/share/classes/javax/security/auth/kerberos/KerberosPrincipal.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="JavaxSecurityAuthKerberosAccessImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="KerberosTicket.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.security.jgss/share/classes/javax/security/auth/kerberos/KerberosPrincipal.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 63     public static final int KRB_NT_SRV_INST =  2;
 64 
 65     /**
 66      * service with host name as instance (telnet, rcommands) name type.
 67      */
 68 
 69     public static final int KRB_NT_SRV_HST =   3;
 70 
 71     /**
 72      * service with host as remaining components name type.
 73      */
 74 
 75     public static final int KRB_NT_SRV_XHST =  4;
 76 
 77     /**
 78      * unique ID name type.
 79      */
 80 
 81     public static final int KRB_NT_UID = 5;
 82 







 83     private transient String fullName;
 84 
 85     private transient String realm;
 86 
 87     private transient int nameType;
 88 
 89 
 90     /**
 91      * Constructs a {@code KerberosPrincipal} from the provided string input.
 92      * The name type for this principal defaults to
 93      * {@link #KRB_NT_PRINCIPAL KRB_NT_PRINCIPAL}
 94      * This string is assumed to contain a name in the format
 95      * that is specified in Section 2.1.1. (Kerberos Principal Name Form) of
 96      * &lt;a href=http://www.ietf.org/rfc/rfc1964.txt&gt; RFC 1964 &lt;/a&gt;
 97      * (for example, &lt;i&gt;duke@FOO.COM&lt;/i&gt;, where &lt;i&gt;duke&lt;/i&gt;
 98      * represents a principal, and &lt;i&gt;FOO.COM&lt;/i&gt; represents a realm).
 99      *
100      * &lt;p&gt;If the input name does not contain a realm, the default realm
101      * is used. The default realm can be specified either in a Kerberos
<span class="line-modified">102      * configuration file or via the java.security.krb5.realm</span>
103      * system property. For more information, see the
104      * {@extLink security_guide_jgss_tutorial Kerberos Requirements}.
<span class="line-modified">105      * Additionally, if a security manager is</span>









106      * installed, a {@link ServicePermission} must be granted and the service
107      * principal of the permission must minimally be inside the
108      * {@code KerberosPrincipal}&#39;s realm. For example, if the result of
109      * {@code new KerberosPrincipal(&quot;user&quot;)} is {@code user@EXAMPLE.COM},
110      * then a {@code ServicePermission} with service principal
111      * {@code host/www.example.com@EXAMPLE.COM} (and any action)
112      * must be granted.
113      *
114      * @param name the principal name
115      * @throws IllegalArgumentException if name is improperly
116      * formatted, if name is null, or if name does not contain
117      * the realm to use and the default realm is not specified
118      * in either a Kerberos configuration file or via the
119      * java.security.krb5.realm system property.
120      * @throws SecurityException if a security manager is installed and
121      * {@code name} does not contain the realm to use, and a proper
122      * {@link ServicePermission} as described above is not granted.
123      */
124     public KerberosPrincipal(String name) {
125         this(name, KRB_NT_PRINCIPAL);
126     }
127 
128     /**
129      * Constructs a {@code KerberosPrincipal} from the provided string and
130      * name type input.  The string is assumed to contain a name in the
131      * format that is specified in Section 2.1 (Mandatory Name Forms) of
132      * &lt;a href=http://www.ietf.org/rfc/rfc1964.txt&gt;RFC 1964&lt;/a&gt;.
133      * Valid name types are specified in Section 6.2 (Principal Names) of
134      * &lt;a href=http://www.ietf.org/rfc/rfc4120.txt&gt;RFC 4120&lt;/a&gt;.
135      * The input name must be consistent with the provided name type.
136      * (for example, &lt;i&gt;duke@FOO.COM&lt;/i&gt;, is a valid input string for the
137      * name type, KRB_NT_PRINCIPAL where &lt;i&gt;duke&lt;/i&gt;
138      * represents a principal, and &lt;i&gt;FOO.COM&lt;/i&gt; represents a realm).
139      *
140      * &lt;p&gt;If the input name does not contain a realm, the default realm
141      * is used. The default realm can be specified either in a Kerberos
<span class="line-modified">142      * configuration file or via the java.security.krb5.realm</span>
143      * system property. For more information, see the
144      * {@extLink security_guide_jgss_tutorial Kerberos Requirements}.
<span class="line-modified">145      * Additionally, if a security manager is</span>









146      * installed, a {@link ServicePermission} must be granted and the service
147      * principal of the permission must minimally be inside the
148      * {@code KerberosPrincipal}&#39;s realm. For example, if the result of
149      * {@code new KerberosPrincipal(&quot;user&quot;)} is {@code user@EXAMPLE.COM},
150      * then a {@code ServicePermission} with service principal
151      * {@code host/www.example.com@EXAMPLE.COM} (and any action)
152      * must be granted.
153      *
154      * @param name the principal name
155      * @param nameType the name type of the principal
156      * @throws IllegalArgumentException if name is improperly
157      * formatted, if name is null, if the nameType is not supported,
158      * or if name does not contain the realm to use and the default
159      * realm is not specified in either a Kerberos configuration
160      * file or via the java.security.krb5.realm system property.
161      * @throws SecurityException if a security manager is installed and
162      * {@code name} does not contain the realm to use, and a proper
163      * {@link ServicePermission} as described above is not granted.
164      */
165 
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2000, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 63     public static final int KRB_NT_SRV_INST =  2;
 64 
 65     /**
 66      * service with host name as instance (telnet, rcommands) name type.
 67      */
 68 
 69     public static final int KRB_NT_SRV_HST =   3;
 70 
 71     /**
 72      * service with host as remaining components name type.
 73      */
 74 
 75     public static final int KRB_NT_SRV_XHST =  4;
 76 
 77     /**
 78      * unique ID name type.
 79      */
 80 
 81     public static final int KRB_NT_UID = 5;
 82 
<span class="line-added"> 83     /**</span>
<span class="line-added"> 84      * Enterprise name (alias)</span>
<span class="line-added"> 85      *</span>
<span class="line-added"> 86      * @since 13</span>
<span class="line-added"> 87      */</span>
<span class="line-added"> 88     public static final int KRB_NT_ENTERPRISE = 10;</span>
<span class="line-added"> 89 </span>
 90     private transient String fullName;
 91 
 92     private transient String realm;
 93 
 94     private transient int nameType;
 95 
 96 
 97     /**
 98      * Constructs a {@code KerberosPrincipal} from the provided string input.
 99      * The name type for this principal defaults to
100      * {@link #KRB_NT_PRINCIPAL KRB_NT_PRINCIPAL}
101      * This string is assumed to contain a name in the format
102      * that is specified in Section 2.1.1. (Kerberos Principal Name Form) of
103      * &lt;a href=http://www.ietf.org/rfc/rfc1964.txt&gt; RFC 1964 &lt;/a&gt;
104      * (for example, &lt;i&gt;duke@FOO.COM&lt;/i&gt;, where &lt;i&gt;duke&lt;/i&gt;
105      * represents a principal, and &lt;i&gt;FOO.COM&lt;/i&gt; represents a realm).
106      *
107      * &lt;p&gt;If the input name does not contain a realm, the default realm
108      * is used. The default realm can be specified either in a Kerberos
<span class="line-modified">109      * configuration file or via the {@systemproperty java.security.krb5.realm}</span>
110      * system property. For more information, see the
111      * {@extLink security_guide_jgss_tutorial Kerberos Requirements}.
<span class="line-modified">112      *</span>
<span class="line-added">113      * &lt;p&gt;Note that when this class or any other Kerberos-related class is</span>
<span class="line-added">114      * initially loaded and initialized, it may read and cache the default</span>
<span class="line-added">115      * realm from the Kerberos configuration file or via the</span>
<span class="line-added">116      * java.security.krb5.realm system property (the value will be empty if</span>
<span class="line-added">117      * no default realm is specified), such that any subsequent calls to set</span>
<span class="line-added">118      * or change the default realm by setting the java.security.krb5.realm</span>
<span class="line-added">119      * system property may be ignored.</span>
<span class="line-added">120      *</span>
<span class="line-added">121      * &lt;p&gt;Additionally, if a security manager is</span>
122      * installed, a {@link ServicePermission} must be granted and the service
123      * principal of the permission must minimally be inside the
124      * {@code KerberosPrincipal}&#39;s realm. For example, if the result of
125      * {@code new KerberosPrincipal(&quot;user&quot;)} is {@code user@EXAMPLE.COM},
126      * then a {@code ServicePermission} with service principal
127      * {@code host/www.example.com@EXAMPLE.COM} (and any action)
128      * must be granted.
129      *
130      * @param name the principal name
131      * @throws IllegalArgumentException if name is improperly
132      * formatted, if name is null, or if name does not contain
133      * the realm to use and the default realm is not specified
134      * in either a Kerberos configuration file or via the
135      * java.security.krb5.realm system property.
136      * @throws SecurityException if a security manager is installed and
137      * {@code name} does not contain the realm to use, and a proper
138      * {@link ServicePermission} as described above is not granted.
139      */
140     public KerberosPrincipal(String name) {
141         this(name, KRB_NT_PRINCIPAL);
142     }
143 
144     /**
145      * Constructs a {@code KerberosPrincipal} from the provided string and
146      * name type input.  The string is assumed to contain a name in the
147      * format that is specified in Section 2.1 (Mandatory Name Forms) of
148      * &lt;a href=http://www.ietf.org/rfc/rfc1964.txt&gt;RFC 1964&lt;/a&gt;.
149      * Valid name types are specified in Section 6.2 (Principal Names) of
150      * &lt;a href=http://www.ietf.org/rfc/rfc4120.txt&gt;RFC 4120&lt;/a&gt;.
151      * The input name must be consistent with the provided name type.
152      * (for example, &lt;i&gt;duke@FOO.COM&lt;/i&gt;, is a valid input string for the
153      * name type, KRB_NT_PRINCIPAL where &lt;i&gt;duke&lt;/i&gt;
154      * represents a principal, and &lt;i&gt;FOO.COM&lt;/i&gt; represents a realm).
155      *
156      * &lt;p&gt;If the input name does not contain a realm, the default realm
157      * is used. The default realm can be specified either in a Kerberos
<span class="line-modified">158      * configuration file or via the {@systemproperty java.security.krb5.realm}</span>
159      * system property. For more information, see the
160      * {@extLink security_guide_jgss_tutorial Kerberos Requirements}.
<span class="line-modified">161      *</span>
<span class="line-added">162      * &lt;p&gt;Note that when this class or any other Kerberos-related class is</span>
<span class="line-added">163      * initially loaded and initialized, it may read and cache the default</span>
<span class="line-added">164      * realm from the Kerberos configuration file or via the</span>
<span class="line-added">165      * java.security.krb5.realm system property (the value will be empty if</span>
<span class="line-added">166      * no default realm is specified), such that any subsequent calls to set</span>
<span class="line-added">167      * or change the default realm by setting the java.security.krb5.realm</span>
<span class="line-added">168      * system property may be ignored.</span>
<span class="line-added">169      *</span>
<span class="line-added">170      * &lt;p&gt;Additionally, if a security manager is</span>
171      * installed, a {@link ServicePermission} must be granted and the service
172      * principal of the permission must minimally be inside the
173      * {@code KerberosPrincipal}&#39;s realm. For example, if the result of
174      * {@code new KerberosPrincipal(&quot;user&quot;)} is {@code user@EXAMPLE.COM},
175      * then a {@code ServicePermission} with service principal
176      * {@code host/www.example.com@EXAMPLE.COM} (and any action)
177      * must be granted.
178      *
179      * @param name the principal name
180      * @param nameType the name type of the principal
181      * @throws IllegalArgumentException if name is improperly
182      * formatted, if name is null, if the nameType is not supported,
183      * or if name does not contain the realm to use and the default
184      * realm is not specified in either a Kerberos configuration
185      * file or via the java.security.krb5.realm system property.
186      * @throws SecurityException if a security manager is installed and
187      * {@code name} does not contain the realm to use, and a proper
188      * {@link ServicePermission} as described above is not granted.
189      */
190 
</pre>
</td>
</tr>
</table>
<center><a href="JavaxSecurityAuthKerberosAccessImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="KerberosTicket.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>