<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.security.jgss/windows/classes/sun/security/krb5/internal/tools/Klist.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="KinitOptions.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../native/libw2k_lsa_auth/NativeCreds.c.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.security.jgss/windows/classes/sun/security/krb5/internal/tools/Klist.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 2003, 2018, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 2003, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 29,10 ***</span>
<span class="line-new-header">--- 29,12 ---</span>
   */
  
  package sun.security.krb5.internal.tools;
  
  import java.net.InetAddress;
<span class="line-added">+ import java.util.List;</span>
<span class="line-added">+ </span>
  import sun.security.krb5.*;
  import sun.security.krb5.internal.*;
  import sun.security.krb5.internal.ccache.*;
  import sun.security.krb5.internal.ktab.*;
  import sun.security.krb5.internal.crypto.EType;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 247,10 ***</span>
<span class="line-new-header">--- 249,12 ---</span>
                  try {
                      String starttime;
                      String endtime;
                      String renewTill;
                      String servicePrincipal;
<span class="line-added">+                     PrincipalName servicePrincipal2;</span>
<span class="line-added">+                     String clientPrincipal;</span>
                      if (creds[i].getStartTime() != null) {
                          starttime = format(creds[i].getStartTime());
                      } else {
                          starttime = format(creds[i].getAuthTime());
                      }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 258,22 ***</span>
                      servicePrincipal =
                          creds[i].getServicePrincipal().toString();
                      System.out.println(&quot;[&quot; + (i + 1) + &quot;] &quot; +
                                         &quot; Service Principal:  &quot; +
                                         servicePrincipal);
                      System.out.println(&quot;     Valid starting:     &quot; + starttime);
                      System.out.println(&quot;     Expires:            &quot; + endtime);
                      if (creds[i].getRenewTill() != null) {
                          renewTill = format(creds[i].getRenewTill());
                          System.out.println(
                                  &quot;     Renew until:        &quot; + renewTill);
                      }
                      if (options[0] == &#39;e&#39;) {
                          String eskey = EType.toString(creds[i].getEType());
                          String etkt = EType.toString(creds[i].getTktEType());
<span class="line-modified">!                         System.out.println(&quot;     EType (skey, tkt):  &quot;</span>
<span class="line-modified">!                                 + eskey + &quot;, &quot; + etkt);</span>
                      }
                      if (options[1] == &#39;f&#39;) {
                          System.out.println(&quot;     Flags:              &quot; +
                                             creds[i].getTicketFlags().toString());
                      }
<span class="line-new-header">--- 262,41 ---</span>
                      servicePrincipal =
                          creds[i].getServicePrincipal().toString();
                      System.out.println(&quot;[&quot; + (i + 1) + &quot;] &quot; +
                                         &quot; Service Principal:  &quot; +
                                         servicePrincipal);
<span class="line-added">+                     servicePrincipal2 =</span>
<span class="line-added">+                             creds[i].getServicePrincipal2();</span>
<span class="line-added">+                     if (servicePrincipal2 != null) {</span>
<span class="line-added">+                         System.out.println(&quot;     Second Service:     &quot;</span>
<span class="line-added">+                                 + servicePrincipal2);</span>
<span class="line-added">+                     }</span>
<span class="line-added">+                     clientPrincipal =</span>
<span class="line-added">+                             creds[i].getClientPrincipal().toString();</span>
<span class="line-added">+                     if (!clientPrincipal.equals(defaultPrincipal)) {</span>
<span class="line-added">+                         System.out.println(&quot;     Client Principal:   &quot; +</span>
<span class="line-added">+                                 clientPrincipal);</span>
<span class="line-added">+                     }</span>
                      System.out.println(&quot;     Valid starting:     &quot; + starttime);
                      System.out.println(&quot;     Expires:            &quot; + endtime);
                      if (creds[i].getRenewTill() != null) {
                          renewTill = format(creds[i].getRenewTill());
                          System.out.println(
                                  &quot;     Renew until:        &quot; + renewTill);
                      }
                      if (options[0] == &#39;e&#39;) {
                          String eskey = EType.toString(creds[i].getEType());
                          String etkt = EType.toString(creds[i].getTktEType());
<span class="line-modified">!                         if (creds[i].getTktEType2() == 0) {</span>
<span class="line-modified">!                             System.out.println(&quot;     EType (skey, tkt):  &quot;</span>
<span class="line-added">+                                     + eskey + &quot;, &quot; + etkt);</span>
<span class="line-added">+                         } else {</span>
<span class="line-added">+                             String etkt2 = EType.toString(creds[i].getTktEType2());</span>
<span class="line-added">+                             System.out.println(&quot;     EType (skey, tkts): &quot;</span>
<span class="line-added">+                                     + eskey + &quot;, &quot; + etkt</span>
<span class="line-added">+                                     + &quot;, &quot; + etkt2);</span>
<span class="line-added">+                         }</span>
                      }
                      if (options[1] == &#39;f&#39;) {
                          System.out.println(&quot;     Flags:              &quot; +
                                             creds[i].getTicketFlags().toString());
                      }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 308,10 ***</span>
<span class="line-new-header">--- 331,19 ---</span>
                  }
              }
          } else {
              System.out.println(&quot;\nNo entries found.&quot;);
          }
<span class="line-added">+ </span>
<span class="line-added">+         List&lt;CredentialsCache.ConfigEntry&gt; configEntries</span>
<span class="line-added">+                 = cache.getConfigEntries();</span>
<span class="line-added">+         if (configEntries != null &amp;&amp; !configEntries.isEmpty()) {</span>
<span class="line-added">+             System.out.println(&quot;\nConfig entries:&quot;);</span>
<span class="line-added">+             for (CredentialsCache.ConfigEntry e : configEntries) {</span>
<span class="line-added">+                 System.out.println(&quot;     &quot; + e);</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
      }
  
      void displayMessage(String target) {
          if (name == null) {
              System.out.println(&quot;Default &quot; + target + &quot; not found.&quot;);
</pre>
<center><a href="KinitOptions.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../native/libw2k_lsa_auth/NativeCreds.c.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>