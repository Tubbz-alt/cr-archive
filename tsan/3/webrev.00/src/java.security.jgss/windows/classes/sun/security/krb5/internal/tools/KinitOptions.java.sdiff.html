<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.security.jgss/windows/classes/sun/security/krb5/internal/tools/KinitOptions.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../share/native/libj2gss/gssapi.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="Klist.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.security.jgss/windows/classes/sun/security/krb5/internal/tools/KinitOptions.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
176 
177         // get default principal name from the cachename if it is
178         // available.
179 
180         try {
181             CCacheInputStream cis =
182                 new CCacheInputStream(new FileInputStream(cachename));
183             int version;
184             if ((version = cis.readVersion()) ==
185                     FileCCacheConstants.KRB5_FCC_FVNO_4) {
186                 cis.readTag();
187             } else {
188                 if (version == FileCCacheConstants.KRB5_FCC_FVNO_1 ||
189                         version == FileCCacheConstants.KRB5_FCC_FVNO_2) {
190                     cis.setNativeByteOrder();
191                 }
192             }
193             PrincipalName p = cis.readPrincipal(version);
194             cis.close();
195             if (DEBUG) {
<span class="line-modified">196                 System.out.println(&quot;&gt;&gt;&gt;KinitOptions principal name from &quot;+</span>
<span class="line-modified">197                                    &quot;the cache is :&quot; + p);</span>
198             }
199             return p;
200         } catch (IOException e) {
201             // ignore any exceptions; we will use the user name as the
202             // principal name
203             if (DEBUG) {
204                 e.printStackTrace();
205             }
206         } catch (RealmException e) {
207             if (DEBUG) {
208                 e.printStackTrace();
209             }
210         }
211 
212         String username = System.getProperty(&quot;user.name&quot;);
213         if (DEBUG) {
<span class="line-modified">214             System.out.println(&quot;&gt;&gt;&gt;KinitOptions default username is :&quot;</span>
215                                + username);
216         }
217         try {
218             PrincipalName p = new PrincipalName(username);
219             return p;
220         } catch (RealmException e) {
221             // ignore exception , return null
222             if (DEBUG) {
223                 System.out.println (&quot;Exception in getting principal &quot; +
224                                     &quot;name &quot; + e.getMessage());
225                 e.printStackTrace();
226             }
227         }
228         return null;
229     }
230 
231 
232     void printHelp() {
233         System.out.println(&quot;Usage:\n\n1. Initial ticket request:\n&quot; +
234                 &quot;    kinit [-A] [-f] [-p] [-c cachename] &quot; +
</pre>
</td>
<td>
<hr />
<pre>
176 
177         // get default principal name from the cachename if it is
178         // available.
179 
180         try {
181             CCacheInputStream cis =
182                 new CCacheInputStream(new FileInputStream(cachename));
183             int version;
184             if ((version = cis.readVersion()) ==
185                     FileCCacheConstants.KRB5_FCC_FVNO_4) {
186                 cis.readTag();
187             } else {
188                 if (version == FileCCacheConstants.KRB5_FCC_FVNO_1 ||
189                         version == FileCCacheConstants.KRB5_FCC_FVNO_2) {
190                     cis.setNativeByteOrder();
191                 }
192             }
193             PrincipalName p = cis.readPrincipal(version);
194             cis.close();
195             if (DEBUG) {
<span class="line-modified">196                 System.out.println(&quot;&gt;&gt;&gt;KinitOptions principal name from &quot; +</span>
<span class="line-modified">197                                    &quot;the cache is: &quot; + p);</span>
198             }
199             return p;
200         } catch (IOException e) {
201             // ignore any exceptions; we will use the user name as the
202             // principal name
203             if (DEBUG) {
204                 e.printStackTrace();
205             }
206         } catch (RealmException e) {
207             if (DEBUG) {
208                 e.printStackTrace();
209             }
210         }
211 
212         String username = System.getProperty(&quot;user.name&quot;);
213         if (DEBUG) {
<span class="line-modified">214             System.out.println(&quot;&gt;&gt;&gt;KinitOptions default username is: &quot;</span>
215                                + username);
216         }
217         try {
218             PrincipalName p = new PrincipalName(username);
219             return p;
220         } catch (RealmException e) {
221             // ignore exception , return null
222             if (DEBUG) {
223                 System.out.println (&quot;Exception in getting principal &quot; +
224                                     &quot;name &quot; + e.getMessage());
225                 e.printStackTrace();
226             }
227         }
228         return null;
229     }
230 
231 
232     void printHelp() {
233         System.out.println(&quot;Usage:\n\n1. Initial ticket request:\n&quot; +
234                 &quot;    kinit [-A] [-f] [-p] [-c cachename] &quot; +
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../../share/native/libj2gss/gssapi.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="Klist.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>