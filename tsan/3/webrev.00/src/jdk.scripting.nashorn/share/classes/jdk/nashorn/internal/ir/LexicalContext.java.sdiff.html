<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.scripting.nashorn/share/classes/jdk/nashorn/internal/ir/LexicalContext.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../jdk.scripting.nashorn.shell/share/man/jjs.1.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../runtime/Property.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.scripting.nashorn/share/classes/jdk/nashorn/internal/ir/LexicalContext.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
680             } else if (next == target) {
681                 return false;
682             } else if (next instanceof TryNode) {
683                 for(final Block inlinedFinally: ((TryNode)next).getInlinedFinallies()) {
684                     if (TryNode.getLabelledInlinedFinallyBlock(inlinedFinally) == target) {
685                         return false;
686                     }
687                 }
688             }
689         }
690         throw new AssertionError(target + &quot; was expected in lexical context &quot; + LexicalContext.this + &quot; but wasn&#39;t&quot;);
691     }
692 
693     /**
694      * Checks whether the current context is inside a switch statement without
695      * explicit blocks (curly braces).
696      *
697      * @return {@code true} if in unprotected switch statement.
698      */
699     public boolean inUnprotectedSwitchContext() {
<span class="line-modified">700         for (int i = sp; i &gt; 0; i--) {</span>
701             final LexicalContextNode next = stack[i];
702             if (next instanceof Block) {
703                 return stack[i - 1] instanceof SwitchNode;
704             }
705         }
706         return false;
707     }
708 
709     @Override
710     public String toString() {
711         final StringBuffer sb = new StringBuffer();
712         sb.append(&quot;[ &quot;);
713         for (int i = 0; i &lt; sp; i++) {
714             final Object node = stack[i];
715             sb.append(node.getClass().getSimpleName());
716             sb.append(&#39;@&#39;);
717             sb.append(Debug.id(node));
718             sb.append(&#39;:&#39;);
719             if (node instanceof FunctionNode) {
720                 final FunctionNode fn = (FunctionNode)node;
</pre>
</td>
<td>
<hr />
<pre>
680             } else if (next == target) {
681                 return false;
682             } else if (next instanceof TryNode) {
683                 for(final Block inlinedFinally: ((TryNode)next).getInlinedFinallies()) {
684                     if (TryNode.getLabelledInlinedFinallyBlock(inlinedFinally) == target) {
685                         return false;
686                     }
687                 }
688             }
689         }
690         throw new AssertionError(target + &quot; was expected in lexical context &quot; + LexicalContext.this + &quot; but wasn&#39;t&quot;);
691     }
692 
693     /**
694      * Checks whether the current context is inside a switch statement without
695      * explicit blocks (curly braces).
696      *
697      * @return {@code true} if in unprotected switch statement.
698      */
699     public boolean inUnprotectedSwitchContext() {
<span class="line-modified">700         for (int i = sp - 1; i &gt; 0; i--) {</span>
701             final LexicalContextNode next = stack[i];
702             if (next instanceof Block) {
703                 return stack[i - 1] instanceof SwitchNode;
704             }
705         }
706         return false;
707     }
708 
709     @Override
710     public String toString() {
711         final StringBuffer sb = new StringBuffer();
712         sb.append(&quot;[ &quot;);
713         for (int i = 0; i &lt; sp; i++) {
714             final Object node = stack[i];
715             sb.append(node.getClass().getSimpleName());
716             sb.append(&#39;@&#39;);
717             sb.append(Debug.id(node));
718             sb.append(&#39;:&#39;);
719             if (node instanceof FunctionNode) {
720                 final FunctionNode fn = (FunctionNode)node;
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../../jdk.scripting.nashorn.shell/share/man/jjs.1.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../runtime/Property.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>