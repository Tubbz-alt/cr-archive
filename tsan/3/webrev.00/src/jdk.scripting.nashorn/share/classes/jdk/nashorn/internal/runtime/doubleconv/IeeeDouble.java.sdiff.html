<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.scripting.nashorn/share/classes/jdk/nashorn/internal/runtime/doubleconv/IeeeDouble.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="FixedDtoa.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../linker/NameCodec.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.scripting.nashorn/share/classes/jdk/nashorn/internal/runtime/doubleconv/IeeeDouble.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 98         e -= DiyFp.kSignificandSize - kSignificandSize;
 99 
100         return new DiyFp(f, e);
101     }
102 
103     // Returns the next greater double. Returns +infinity on input +infinity.
104     static double nextDouble(final long d64) {
105         if (d64 == kInfinity) return longToDouble(kInfinity);
106         if (sign(d64) &lt; 0 &amp;&amp; significand(d64) == 0) {
107             // -0.0
108             return 0.0;
109         }
110         if (sign(d64) &lt; 0) {
111             return longToDouble(d64 - 1);
112         } else {
113             return longToDouble(d64 + 1);
114         }
115     }
116 
117     static double previousDouble(final long d64) {
<span class="line-modified">118         if (d64 == (kInfinity | kSignMask)) return -longToDouble(kInfinity);</span>
119         if (sign(d64) &lt; 0) {
120             return longToDouble(d64 + 1);
121         } else {
122             if (significand(d64) == 0) return -0.0;
123             return longToDouble(d64 - 1);
124         }
125     }
126 
127     static int exponent(final long d64) {
128         if (isDenormal(d64)) return kDenormalExponent;
129 
130         final int biased_e = (int) ((d64 &amp; kExponentMask) &gt;&gt;&gt; kPhysicalSignificandSize);
131         return biased_e - kExponentBias;
132     }
133 
134     static long significand(final long d64) {
135         final long significand = d64 &amp; kSignificandMask;
136         if (!isDenormal(d64)) {
137             return significand + kHiddenBit;
138         } else {
</pre>
</td>
<td>
<hr />
<pre>
 98         e -= DiyFp.kSignificandSize - kSignificandSize;
 99 
100         return new DiyFp(f, e);
101     }
102 
103     // Returns the next greater double. Returns +infinity on input +infinity.
104     static double nextDouble(final long d64) {
105         if (d64 == kInfinity) return longToDouble(kInfinity);
106         if (sign(d64) &lt; 0 &amp;&amp; significand(d64) == 0) {
107             // -0.0
108             return 0.0;
109         }
110         if (sign(d64) &lt; 0) {
111             return longToDouble(d64 - 1);
112         } else {
113             return longToDouble(d64 + 1);
114         }
115     }
116 
117     static double previousDouble(final long d64) {
<span class="line-modified">118         if (d64 == (kInfinity | kSignMask)) return -Infinity();</span>
119         if (sign(d64) &lt; 0) {
120             return longToDouble(d64 + 1);
121         } else {
122             if (significand(d64) == 0) return -0.0;
123             return longToDouble(d64 - 1);
124         }
125     }
126 
127     static int exponent(final long d64) {
128         if (isDenormal(d64)) return kDenormalExponent;
129 
130         final int biased_e = (int) ((d64 &amp; kExponentMask) &gt;&gt;&gt; kPhysicalSignificandSize);
131         return biased_e - kExponentBias;
132     }
133 
134     static long significand(final long d64) {
135         final long significand = d64 &amp; kSignificandMask;
136         if (!isDenormal(d64)) {
137             return significand + kHiddenBit;
138         } else {
</pre>
</td>
</tr>
</table>
<center><a href="FixedDtoa.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../linker/NameCodec.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>