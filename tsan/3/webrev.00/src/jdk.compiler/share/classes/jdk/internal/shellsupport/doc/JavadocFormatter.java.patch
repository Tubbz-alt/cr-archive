diff a/src/jdk.compiler/share/classes/jdk/internal/shellsupport/doc/JavadocFormatter.java b/src/jdk.compiler/share/classes/jdk/internal/shellsupport/doc/JavadocFormatter.java
--- a/src/jdk.compiler/share/classes/jdk/internal/shellsupport/doc/JavadocFormatter.java
+++ b/src/jdk.compiler/share/classes/jdk/internal/shellsupport/doc/JavadocFormatter.java
@@ -511,10 +511,11 @@
 
         @Override @DefinedBy(Api.COMPILER_TREE)
         public Object visitEntity(EntityTree node, Object p) {
             String name = node.getName().toString();
             int code = -1;
+            String value = null;
             if (name.startsWith("#")) {
                 try {
                     int v = StringUtils.toLowerCase(name).startsWith("#x")
                             ? Integer.parseInt(name.substring(2), 16)
                             : Integer.parseInt(name.substring(1), 10);
@@ -523,17 +524,16 @@
                     }
                 } catch (NumberFormatException ex) {
                     //ignore
                 }
             } else {
-                Entity entity = Entity.get(name);
-                if (entity != null) {
-                    code = entity.code;
-                }
+                value = Entity.getValue(name);
             }
             if (code != (-1)) {
                 result.appendCodePoint(code);
+            } else if (value != null) {
+                result.append(value);
             } else {
                 result.append(node.toString());
             }
             return super.visitEntity(node, p);
         }
