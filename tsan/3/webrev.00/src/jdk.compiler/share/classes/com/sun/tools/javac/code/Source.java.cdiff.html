<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/jdk.compiler/share/classes/com/sun/tools/javac/code/Source.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Scope.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="Symbol.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.compiler/share/classes/com/sun/tools/javac/code/Source.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 2002, 2018, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 2002, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 82,15 ***</span>
      JDK10(&quot;10&quot;),
  
      /** 1.11 local-variable syntax for lambda parameters */
      JDK11(&quot;11&quot;),
  
<span class="line-modified">!     /** 12 covers the to be determined language features that will be added in JDK 12. */</span>
      JDK12(&quot;12&quot;),
  
<span class="line-modified">!     /** 13 covers the to be determined language features that will be added in JDK 13. */</span>
<span class="line-modified">!     JDK13(&quot;13&quot;);</span>
  
      private static final Context.Key&lt;Source&gt; sourceKey = new Context.Key&lt;&gt;();
  
      public static Source instance(Context context) {
          Source instance = context.get(sourceKey);
<span class="line-new-header">--- 82,29 ---</span>
      JDK10(&quot;10&quot;),
  
      /** 1.11 local-variable syntax for lambda parameters */
      JDK11(&quot;11&quot;),
  
<span class="line-modified">!     /** 12, no language features; switch expression in preview */</span>
      JDK12(&quot;12&quot;),
  
<span class="line-modified">!     /**</span>
<span class="line-modified">!      * 13, no language features; text blocks and revised switch</span>
<span class="line-added">+      * expressions in preview</span>
<span class="line-added">+      */</span>
<span class="line-added">+     JDK13(&quot;13&quot;),</span>
<span class="line-added">+ </span>
<span class="line-added">+     /**</span>
<span class="line-added">+      * 14, switch expressions; pattern matching, records, and revised</span>
<span class="line-added">+      * text blocks in preview</span>
<span class="line-added">+      */</span>
<span class="line-added">+     JDK14(&quot;14&quot;),</span>
<span class="line-added">+ </span>
<span class="line-added">+     /**</span>
<span class="line-added">+       * 15, tbd</span>
<span class="line-added">+       */</span>
<span class="line-added">+     JDK15(&quot;15&quot;);</span>
  
      private static final Context.Key&lt;Source&gt; sourceKey = new Context.Key&lt;&gt;();
  
      public static Source instance(Context context) {
          Source instance = context.get(sourceKey);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 137,10 ***</span>
<span class="line-new-header">--- 151,12 ---</span>
      public boolean isSupported() {
          return this.compareTo(MIN) &gt;= 0;
      }
  
      public Target requiredTarget() {
<span class="line-added">+         if (this.compareTo(JDK15) &gt;= 0) return Target.JDK1_15;</span>
<span class="line-added">+         if (this.compareTo(JDK14) &gt;= 0) return Target.JDK1_14;</span>
          if (this.compareTo(JDK13) &gt;= 0) return Target.JDK1_13;
          if (this.compareTo(JDK12) &gt;= 0) return Target.JDK1_12;
          if (this.compareTo(JDK11) &gt;= 0) return Target.JDK1_11;
          if (this.compareTo(JDK10) &gt;= 0) return Target.JDK1_10;
          if (this.compareTo(JDK9) &gt;= 0) return Target.JDK1_9;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 184,13 ***</span>
          UNDERSCORE_IDENTIFIER(MIN, JDK8),
          PRIVATE_INTERFACE_METHODS(JDK9, Fragments.FeaturePrivateIntfMethods, DiagKind.PLURAL),
          LOCAL_VARIABLE_TYPE_INFERENCE(JDK10),
          VAR_SYNTAX_IMPLICIT_LAMBDAS(JDK11, Fragments.FeatureVarSyntaxInImplicitLambda, DiagKind.PLURAL),
          IMPORT_ON_DEMAND_OBSERVABLE_PACKAGES(JDK1_2, JDK8),
<span class="line-modified">!         SWITCH_MULTIPLE_CASE_LABELS(JDK13, Fragments.FeatureMultipleCaseLabels, DiagKind.PLURAL),</span>
<span class="line-modified">!         SWITCH_RULE(JDK13, Fragments.FeatureSwitchRules, DiagKind.PLURAL),</span>
<span class="line-modified">!         SWITCH_EXPRESSION(JDK13, Fragments.FeatureSwitchExpressions, DiagKind.PLURAL);</span>
  
          enum DiagKind {
              NORMAL,
              PLURAL;
          }
<span class="line-new-header">--- 200,18 ---</span>
          UNDERSCORE_IDENTIFIER(MIN, JDK8),
          PRIVATE_INTERFACE_METHODS(JDK9, Fragments.FeaturePrivateIntfMethods, DiagKind.PLURAL),
          LOCAL_VARIABLE_TYPE_INFERENCE(JDK10),
          VAR_SYNTAX_IMPLICIT_LAMBDAS(JDK11, Fragments.FeatureVarSyntaxInImplicitLambda, DiagKind.PLURAL),
          IMPORT_ON_DEMAND_OBSERVABLE_PACKAGES(JDK1_2, JDK8),
<span class="line-modified">!         SWITCH_MULTIPLE_CASE_LABELS(JDK14, Fragments.FeatureMultipleCaseLabels, DiagKind.PLURAL),</span>
<span class="line-modified">!         SWITCH_RULE(JDK14, Fragments.FeatureSwitchRules, DiagKind.PLURAL),</span>
<span class="line-modified">!         SWITCH_EXPRESSION(JDK14, Fragments.FeatureSwitchExpressions, DiagKind.PLURAL),</span>
<span class="line-added">+         TEXT_BLOCKS(JDK15, Fragments.FeatureTextBlocks, DiagKind.PLURAL),</span>
<span class="line-added">+         PATTERN_MATCHING_IN_INSTANCEOF(JDK15, Fragments.FeaturePatternMatchingInstanceof, DiagKind.NORMAL),</span>
<span class="line-added">+         REIFIABLE_TYPES_INSTANCEOF(JDK15, Fragments.FeatureReifiableTypesInstanceof, DiagKind.PLURAL),</span>
<span class="line-added">+         RECORDS(JDK15, Fragments.FeatureRecords, DiagKind.PLURAL),</span>
<span class="line-added">+         ;</span>
  
          enum DiagKind {
              NORMAL,
              PLURAL;
          }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 273,10 ***</span>
<span class="line-new-header">--- 294,14 ---</span>
              return RELEASE_11;
          case JDK12:
              return RELEASE_12;
          case JDK13:
              return RELEASE_13;
<span class="line-added">+         case JDK14:</span>
<span class="line-added">+             return RELEASE_14;</span>
<span class="line-added">+         case JDK15:</span>
<span class="line-added">+             return RELEASE_15;</span>
          default:
              return null;
          }
      }
  }
</pre>
<center><a href="Scope.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="Symbol.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>