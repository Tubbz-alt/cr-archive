<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.compiler/share/classes/com/sun/tools/doclint/Checker.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../source/util/TreeScanner.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DocLint.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.compiler/share/classes/com/sun/tools/doclint/Checker.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 186         }
 187 
 188         tagStack.clear();
 189         currHeadingTag = null;
 190 
 191         foundParams.clear();
 192         foundThrows.clear();
 193         foundInheritDoc = false;
 194         foundReturn = false;
 195         hasNonWhitespaceText = false;
 196 
 197         switch (p.getLeaf().getKind()) {
 198             // the following are for declarations that have their own top-level page,
 199             // and so the doc comment comes after the &lt;h1&gt; page title.
 200             case MODULE:
 201             case PACKAGE:
 202             case CLASS:
 203             case INTERFACE:
 204             case ENUM:
 205             case ANNOTATION_TYPE:

 206                 implicitHeadingRank = 1;
 207                 break;
 208 
 209             // this is for html files
 210             // ... if it is a legacy package.html, the doc comment comes after the &lt;h1&gt; page title
 211             // ... otherwise, (e.g. overview file and doc-files/*.html files) no additional headings are inserted
 212             case COMPILATION_UNIT:
 213                 implicitHeadingRank = fo.isNameCompatible(&quot;package&quot;, JavaFileObject.Kind.HTML) ? 1 : 0;
 214                 break;
 215 
 216             // the following are for member declarations, which appear in the page
 217             // for the enclosing type, and so appear after the &lt;h2&gt; &quot;Members&quot;
 218             // aggregate heading and the specific &lt;h3&gt; &quot;Member signature&quot; heading.
 219             case METHOD:
 220             case VARIABLE:
 221                 implicitHeadingRank = 3;
 222                 break;
 223 
 224             default:
 225                 Assert.error(&quot;unexpected tree kind: &quot; + p.getLeaf().getKind() + &quot; &quot; + fo);
</pre>
<hr />
<pre>
 668 
 669                     case BORDER:
 670                         if (currTag == HtmlTag.TABLE) {
 671                             String v = getAttrValue(tree);
 672                             try {
 673                                 if (env.htmlVersion == HtmlVersion.HTML5
 674                                         &amp;&amp; (v == null || (!v.isEmpty() &amp;&amp; Integer.parseInt(v) != 1))) {
 675                                     env.messages.error(HTML, tree, &quot;dc.attr.table.border.html5&quot;, attr);
 676                                 }
 677                             } catch (NumberFormatException ex) {
 678                                 env.messages.error(HTML, tree, &quot;dc.attr.table.border.html5&quot;, attr);
 679                             }
 680                         }
 681                         break;
 682                 }
 683             }
 684         }
 685 
 686         // TODO: basic check on value
 687 
<span class="line-modified"> 688         return super.visitAttribute(tree, ignore);</span>
 689     }
 690 
 691     private void validateHtml4Attrs(AttributeTree tree, Name name, AttrKind k) {
 692         switch (k) {
 693             case ALL:
 694             case HTML4:
 695                 break;
 696 
 697             case INVALID:
 698                 env.messages.error(HTML, tree, &quot;dc.attr.unknown&quot;, name);
 699                 break;
 700 
 701             case OBSOLETE:
 702                 env.messages.warning(HTML, tree, &quot;dc.attr.obsolete&quot;, name);
 703                 break;
 704 
 705             case USE_CSS:
 706                 env.messages.warning(HTML, tree, &quot;dc.attr.obsolete.use.css&quot;, name);
 707                 break;
 708 
</pre>
</td>
<td>
<hr />
<pre>
 186         }
 187 
 188         tagStack.clear();
 189         currHeadingTag = null;
 190 
 191         foundParams.clear();
 192         foundThrows.clear();
 193         foundInheritDoc = false;
 194         foundReturn = false;
 195         hasNonWhitespaceText = false;
 196 
 197         switch (p.getLeaf().getKind()) {
 198             // the following are for declarations that have their own top-level page,
 199             // and so the doc comment comes after the &lt;h1&gt; page title.
 200             case MODULE:
 201             case PACKAGE:
 202             case CLASS:
 203             case INTERFACE:
 204             case ENUM:
 205             case ANNOTATION_TYPE:
<span class="line-added"> 206             case RECORD:</span>
 207                 implicitHeadingRank = 1;
 208                 break;
 209 
 210             // this is for html files
 211             // ... if it is a legacy package.html, the doc comment comes after the &lt;h1&gt; page title
 212             // ... otherwise, (e.g. overview file and doc-files/*.html files) no additional headings are inserted
 213             case COMPILATION_UNIT:
 214                 implicitHeadingRank = fo.isNameCompatible(&quot;package&quot;, JavaFileObject.Kind.HTML) ? 1 : 0;
 215                 break;
 216 
 217             // the following are for member declarations, which appear in the page
 218             // for the enclosing type, and so appear after the &lt;h2&gt; &quot;Members&quot;
 219             // aggregate heading and the specific &lt;h3&gt; &quot;Member signature&quot; heading.
 220             case METHOD:
 221             case VARIABLE:
 222                 implicitHeadingRank = 3;
 223                 break;
 224 
 225             default:
 226                 Assert.error(&quot;unexpected tree kind: &quot; + p.getLeaf().getKind() + &quot; &quot; + fo);
</pre>
<hr />
<pre>
 669 
 670                     case BORDER:
 671                         if (currTag == HtmlTag.TABLE) {
 672                             String v = getAttrValue(tree);
 673                             try {
 674                                 if (env.htmlVersion == HtmlVersion.HTML5
 675                                         &amp;&amp; (v == null || (!v.isEmpty() &amp;&amp; Integer.parseInt(v) != 1))) {
 676                                     env.messages.error(HTML, tree, &quot;dc.attr.table.border.html5&quot;, attr);
 677                                 }
 678                             } catch (NumberFormatException ex) {
 679                                 env.messages.error(HTML, tree, &quot;dc.attr.table.border.html5&quot;, attr);
 680                             }
 681                         }
 682                         break;
 683                 }
 684             }
 685         }
 686 
 687         // TODO: basic check on value
 688 
<span class="line-modified"> 689         return null;</span>
 690     }
 691 
 692     private void validateHtml4Attrs(AttributeTree tree, Name name, AttrKind k) {
 693         switch (k) {
 694             case ALL:
 695             case HTML4:
 696                 break;
 697 
 698             case INVALID:
 699                 env.messages.error(HTML, tree, &quot;dc.attr.unknown&quot;, name);
 700                 break;
 701 
 702             case OBSOLETE:
 703                 env.messages.warning(HTML, tree, &quot;dc.attr.obsolete&quot;, name);
 704                 break;
 705 
 706             case USE_CSS:
 707                 env.messages.warning(HTML, tree, &quot;dc.attr.obsolete.use.css&quot;, name);
 708                 break;
 709 
</pre>
</td>
</tr>
</table>
<center><a href="../../source/util/TreeScanner.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DocLint.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>