diff a/src/jdk.compiler/share/classes/com/sun/tools/javac/comp/TreeHasher.java b/src/jdk.compiler/share/classes/com/sun/tools/javac/comp/TreeHasher.java
--- a/src/jdk.compiler/share/classes/com/sun/tools/javac/comp/TreeHasher.java
+++ b/src/jdk.compiler/share/classes/com/sun/tools/javac/comp/TreeHasher.java
@@ -103,10 +103,16 @@
     public void visitSelect(JCFieldAccess tree) {
         hash(tree.sym);
         super.visitSelect(tree);
     }
 
+    @Override
+    public void visitBindingPattern(JCTree.JCBindingPattern tree) {
+        symbolHashes.computeIfAbsent(tree.symbol, k -> symbolHashes.size());
+        super.visitBindingPattern(tree);
+    }
+
     @Override
     public void visitVarDef(JCVariableDecl tree) {
         symbolHashes.computeIfAbsent(tree.sym, k -> symbolHashes.size());
         super.visitVarDef(tree);
     }
