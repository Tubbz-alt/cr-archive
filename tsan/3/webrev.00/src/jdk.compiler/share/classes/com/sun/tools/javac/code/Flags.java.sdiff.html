<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.compiler/share/classes/com/sun/tools/javac/code/Flags.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Directive.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="Kinds.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.compiler/share/classes/com/sun/tools/javac/code/Flags.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 1999, 2016, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
211     public static final long HYPOTHETICAL   = 1L&lt;&lt;37;
212 
213     /**
214      * Flag that marks an internal proprietary class.
215      */
216     public static final long PROPRIETARY = 1L&lt;&lt;38;
217 
218     /**
219      * Flag that marks a multi-catch parameter.
220      */
221     public static final long UNION = 1L&lt;&lt;39;
222 
223     // Flag bit (1L &lt;&lt; 40) is available.
224 
225     /**
226      * Flag that marks an &#39;effectively final&#39; local variable.
227      */
228     public static final long EFFECTIVELY_FINAL = 1L&lt;&lt;41;
229 
230     /**
<span class="line-modified">231      * Flag that marks non-override equivalent methods with the same signature.</span>

232      */
233     public static final long CLASH = 1L&lt;&lt;42;
234 
235     /**
236      * Flag that marks either a default method or an interface containing default methods.
237      */
238     public static final long DEFAULT = 1L&lt;&lt;43;
239 
240     /**
241      * Flag that marks class as auxiliary, ie a non-public class following
242      * the public class in a source file, that could block implicit compilation.
243      */
244     public static final long AUXILIARY = 1L&lt;&lt;44;
245 
246     /**
247      * Flag that marks that a symbol is not available in the current profile
248      */
249     public static final long NOT_IN_PROFILE = 1L&lt;&lt;45;
250 
251     /**
</pre>
<hr />
<pre>
269     public static final long POTENTIALLY_AMBIGUOUS = 1L&lt;&lt;48;
270 
271     /**
272      * Flag that marks a synthetic method body for a lambda expression
273      */
274     public static final long LAMBDA_METHOD = 1L&lt;&lt;49;
275 
276     /**
277      * Flag to control recursion in TransTypes
278      */
279     public static final long TYPE_TRANSLATED = 1L&lt;&lt;50;
280 
281     /**
282      * Flag to indicate class symbol is for module-info
283      */
284     public static final long MODULE = 1L&lt;&lt;51;
285 
286     /**
287      * Flag to indicate the given ModuleSymbol is an automatic module.
288      */
<span class="line-modified">289     public static final long AUTOMATIC_MODULE = 1L&lt;&lt;52;</span>










290 
291     /**
292      * Flag to indicate the given ModuleSymbol is a system module.
293      */
294     public static final long SYSTEM_MODULE = 1L&lt;&lt;53;
295 
296     /**
297      * Flag to indicate the given symbol has a @Deprecated annotation.
298      */
299     public static final long DEPRECATED_ANNOTATION = 1L&lt;&lt;54;
300 
301     /**
302      * Flag to indicate the given symbol has been deprecated and marked for removal.
303      */
304     public static final long DEPRECATED_REMOVAL = 1L&lt;&lt;55;
305 
306     /**
<span class="line-modified">307      * Flag to indicate the given PackageSymbol contains any non-.java and non-.class resources.</span>
308      */
<span class="line-modified">309     public static final long HAS_RESOURCE = 1L&lt;&lt;56;</span>
310 
311     /**
312      * Flag for synthesized default constructors of anonymous classes that have an enclosing expression.
313      */
314     public static final long ANONCONSTR_BASED = 1L&lt;&lt;57;
315 
316     /**
317      * Flag that marks finalize block as body-only, should not be copied into catch clauses.
318      * Used to implement try-with-resources.
319      */
320     public static final long BODY_ONLY_FINALIZE = 1L&lt;&lt;17; //blocks only
321 




































322     /** Modifier masks.
323      */
324     public static final int
325         AccessFlags           = PUBLIC | PROTECTED | PRIVATE,
326         LocalClassFlags       = FINAL | ABSTRACT | STRICTFP | ENUM | SYNTHETIC,

327         MemberClassFlags      = LocalClassFlags | INTERFACE | AccessFlags,

328         ClassFlags            = LocalClassFlags | INTERFACE | PUBLIC | ANNOTATION,
329         InterfaceVarFlags     = FINAL | STATIC | PUBLIC,
330         VarFlags              = AccessFlags | FINAL | STATIC |
331                                 VOLATILE | TRANSIENT | ENUM,
332         ConstructorFlags      = AccessFlags,
333         InterfaceMethodFlags  = ABSTRACT | PUBLIC,
334         MethodFlags           = AccessFlags | ABSTRACT | STATIC | NATIVE |


335                                 SYNCHRONIZED | FINAL | STRICTFP;
336     public static final long
337         ExtendedStandardFlags       = (long)StandardFlags | DEFAULT,
338         ModifierFlags               = ((long)StandardFlags &amp; ~INTERFACE) | DEFAULT,
339         InterfaceMethodMask         = ABSTRACT | PRIVATE | STATIC | PUBLIC | STRICTFP | DEFAULT,
340         AnnotationTypeElementMask   = ABSTRACT | PUBLIC,
341         LocalVarFlags               = FINAL | PARAMETER,
342         ReceiverParamFlags          = PARAMETER;
343 
344 
345     public static Set&lt;Modifier&gt; asModifierSet(long flags) {
346         Set&lt;Modifier&gt; modifiers = modifierSets.get(flags);
347         if (modifiers == null) {
348             modifiers = java.util.EnumSet.noneOf(Modifier.class);
349             if (0 != (flags &amp; PUBLIC))    modifiers.add(Modifier.PUBLIC);
350             if (0 != (flags &amp; PROTECTED)) modifiers.add(Modifier.PROTECTED);
351             if (0 != (flags &amp; PRIVATE))   modifiers.add(Modifier.PRIVATE);
352             if (0 != (flags &amp; ABSTRACT))  modifiers.add(Modifier.ABSTRACT);
353             if (0 != (flags &amp; STATIC))    modifiers.add(Modifier.STATIC);
354             if (0 != (flags &amp; FINAL))     modifiers.add(Modifier.FINAL);
</pre>
<hr />
<pre>
418         GENERATEDCONSTR(Flags.GENERATEDCONSTR),
419         HYPOTHETICAL(Flags.HYPOTHETICAL),
420         PROPRIETARY(Flags.PROPRIETARY),
421         UNION(Flags.UNION),
422         EFFECTIVELY_FINAL(Flags.EFFECTIVELY_FINAL),
423         CLASH(Flags.CLASH),
424         AUXILIARY(Flags.AUXILIARY),
425         NOT_IN_PROFILE(Flags.NOT_IN_PROFILE),
426         BAD_OVERRIDE(Flags.BAD_OVERRIDE),
427         SIGNATURE_POLYMORPHIC(Flags.SIGNATURE_POLYMORPHIC),
428         THROWS(Flags.THROWS),
429         LAMBDA_METHOD(Flags.LAMBDA_METHOD),
430         TYPE_TRANSLATED(Flags.TYPE_TRANSLATED),
431         MODULE(Flags.MODULE),
432         AUTOMATIC_MODULE(Flags.AUTOMATIC_MODULE),
433         SYSTEM_MODULE(Flags.SYSTEM_MODULE),
434         DEPRECATED_ANNOTATION(Flags.DEPRECATED_ANNOTATION),
435         DEPRECATED_REMOVAL(Flags.DEPRECATED_REMOVAL),
436         HAS_RESOURCE(Flags.HAS_RESOURCE),
437         POTENTIALLY_AMBIGUOUS(Flags.POTENTIALLY_AMBIGUOUS),
<span class="line-modified">438         ANONCONSTR_BASED(Flags.ANONCONSTR_BASED);</span>






439 
440         Flag(long flag) {
441             this.value = flag;
442             this.lowercaseName = StringUtils.toLowerCase(name());
443         }
444 
445         @Override
446         public String toString() {
447             return lowercaseName;
448         }
449 
450         final long value;
451         final String lowercaseName;
452     }
453 
454 }
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 1999, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
211     public static final long HYPOTHETICAL   = 1L&lt;&lt;37;
212 
213     /**
214      * Flag that marks an internal proprietary class.
215      */
216     public static final long PROPRIETARY = 1L&lt;&lt;38;
217 
218     /**
219      * Flag that marks a multi-catch parameter.
220      */
221     public static final long UNION = 1L&lt;&lt;39;
222 
223     // Flag bit (1L &lt;&lt; 40) is available.
224 
225     /**
226      * Flag that marks an &#39;effectively final&#39; local variable.
227      */
228     public static final long EFFECTIVELY_FINAL = 1L&lt;&lt;41;
229 
230     /**
<span class="line-modified">231      * Flag that marks non-override equivalent methods with the same signature,</span>
<span class="line-added">232      * or a conflicting match binding (BindingSymbol).</span>
233      */
234     public static final long CLASH = 1L&lt;&lt;42;
235 
236     /**
237      * Flag that marks either a default method or an interface containing default methods.
238      */
239     public static final long DEFAULT = 1L&lt;&lt;43;
240 
241     /**
242      * Flag that marks class as auxiliary, ie a non-public class following
243      * the public class in a source file, that could block implicit compilation.
244      */
245     public static final long AUXILIARY = 1L&lt;&lt;44;
246 
247     /**
248      * Flag that marks that a symbol is not available in the current profile
249      */
250     public static final long NOT_IN_PROFILE = 1L&lt;&lt;45;
251 
252     /**
</pre>
<hr />
<pre>
270     public static final long POTENTIALLY_AMBIGUOUS = 1L&lt;&lt;48;
271 
272     /**
273      * Flag that marks a synthetic method body for a lambda expression
274      */
275     public static final long LAMBDA_METHOD = 1L&lt;&lt;49;
276 
277     /**
278      * Flag to control recursion in TransTypes
279      */
280     public static final long TYPE_TRANSLATED = 1L&lt;&lt;50;
281 
282     /**
283      * Flag to indicate class symbol is for module-info
284      */
285     public static final long MODULE = 1L&lt;&lt;51;
286 
287     /**
288      * Flag to indicate the given ModuleSymbol is an automatic module.
289      */
<span class="line-modified">290     public static final long AUTOMATIC_MODULE = 1L&lt;&lt;52; //ModuleSymbols only</span>
<span class="line-added">291 </span>
<span class="line-added">292     /**</span>
<span class="line-added">293      * Flag to indicate the given PackageSymbol contains any non-.java and non-.class resources.</span>
<span class="line-added">294      */</span>
<span class="line-added">295     public static final long HAS_RESOURCE = 1L&lt;&lt;52; //PackageSymbols only</span>
<span class="line-added">296 </span>
<span class="line-added">297     /**</span>
<span class="line-added">298      * Flag to indicate the given ParamSymbol has a user-friendly name filled.</span>
<span class="line-added">299      */</span>
<span class="line-added">300     public static final long NAME_FILLED = 1L&lt;&lt;52; //ParamSymbols only</span>
301 
302     /**
303      * Flag to indicate the given ModuleSymbol is a system module.
304      */
305     public static final long SYSTEM_MODULE = 1L&lt;&lt;53;
306 
307     /**
308      * Flag to indicate the given symbol has a @Deprecated annotation.
309      */
310     public static final long DEPRECATED_ANNOTATION = 1L&lt;&lt;54;
311 
312     /**
313      * Flag to indicate the given symbol has been deprecated and marked for removal.
314      */
315     public static final long DEPRECATED_REMOVAL = 1L&lt;&lt;55;
316 
317     /**
<span class="line-modified">318      * Flag to indicate the API element in question is for a preview API.</span>
319      */
<span class="line-modified">320     public static final long PREVIEW_API = 1L&lt;&lt;56; //any Symbol kind</span>
321 
322     /**
323      * Flag for synthesized default constructors of anonymous classes that have an enclosing expression.
324      */
325     public static final long ANONCONSTR_BASED = 1L&lt;&lt;57;
326 
327     /**
328      * Flag that marks finalize block as body-only, should not be copied into catch clauses.
329      * Used to implement try-with-resources.
330      */
331     public static final long BODY_ONLY_FINALIZE = 1L&lt;&lt;17; //blocks only
332 
<span class="line-added">333     /**</span>
<span class="line-added">334      * Flag to indicate the API element in question is for a preview API.</span>
<span class="line-added">335      */</span>
<span class="line-added">336     public static final long PREVIEW_ESSENTIAL_API = 1L&lt;&lt;58; //any Symbol kind</span>
<span class="line-added">337 </span>
<span class="line-added">338     /**</span>
<span class="line-added">339      * Flag to indicate the given variable is a match binding variable.</span>
<span class="line-added">340      */</span>
<span class="line-added">341     public static final long MATCH_BINDING = 1L&lt;&lt;59;</span>
<span class="line-added">342 </span>
<span class="line-added">343     /**</span>
<span class="line-added">344      * A flag to indicate a match binding variable whose scope extends after the current statement.</span>
<span class="line-added">345      */</span>
<span class="line-added">346     public static final long MATCH_BINDING_TO_OUTER = 1L&lt;&lt;60;</span>
<span class="line-added">347 </span>
<span class="line-added">348     /**</span>
<span class="line-added">349      * Flag to indicate that a class is a record. The flag is also used to mark fields that are</span>
<span class="line-added">350      * part of the state vector of a record and to mark the canonical constructor</span>
<span class="line-added">351      */</span>
<span class="line-added">352     public static final long RECORD = 1L&lt;&lt;61; // ClassSymbols, MethodSymbols and VarSymbols</span>
<span class="line-added">353 </span>
<span class="line-added">354     /**</span>
<span class="line-added">355      * Flag to mark a record constructor as a compact one</span>
<span class="line-added">356      */</span>
<span class="line-added">357     public static final long COMPACT_RECORD_CONSTRUCTOR = 1L&lt;&lt;51; // MethodSymbols only</span>
<span class="line-added">358 </span>
<span class="line-added">359     /**</span>
<span class="line-added">360      * Flag to mark a record field that was not initialized in the compact constructor</span>
<span class="line-added">361      */</span>
<span class="line-added">362     public static final long UNINITIALIZED_FIELD= 1L&lt;&lt;51; // VarSymbols only</span>
<span class="line-added">363 </span>
<span class="line-added">364     /** Flag is set for compiler-generated record members, it could be applied to</span>
<span class="line-added">365      *  accessors and fields</span>
<span class="line-added">366      */</span>
<span class="line-added">367     public static final int GENERATED_MEMBER = 1&lt;&lt;24; // MethodSymbols and VarSymbols</span>
<span class="line-added">368 </span>
369     /** Modifier masks.
370      */
371     public static final int
372         AccessFlags           = PUBLIC | PROTECTED | PRIVATE,
373         LocalClassFlags       = FINAL | ABSTRACT | STRICTFP | ENUM | SYNTHETIC,
<span class="line-added">374         LocalRecordFlags      = LocalClassFlags | STATIC,</span>
375         MemberClassFlags      = LocalClassFlags | INTERFACE | AccessFlags,
<span class="line-added">376         MemberRecordFlags     = MemberClassFlags | STATIC,</span>
377         ClassFlags            = LocalClassFlags | INTERFACE | PUBLIC | ANNOTATION,
378         InterfaceVarFlags     = FINAL | STATIC | PUBLIC,
379         VarFlags              = AccessFlags | FINAL | STATIC |
380                                 VOLATILE | TRANSIENT | ENUM,
381         ConstructorFlags      = AccessFlags,
382         InterfaceMethodFlags  = ABSTRACT | PUBLIC,
383         MethodFlags           = AccessFlags | ABSTRACT | STATIC | NATIVE |
<span class="line-added">384                                 SYNCHRONIZED | FINAL | STRICTFP,</span>
<span class="line-added">385         RecordMethodFlags     = AccessFlags | ABSTRACT | STATIC |</span>
386                                 SYNCHRONIZED | FINAL | STRICTFP;
387     public static final long
388         ExtendedStandardFlags       = (long)StandardFlags | DEFAULT,
389         ModifierFlags               = ((long)StandardFlags &amp; ~INTERFACE) | DEFAULT,
390         InterfaceMethodMask         = ABSTRACT | PRIVATE | STATIC | PUBLIC | STRICTFP | DEFAULT,
391         AnnotationTypeElementMask   = ABSTRACT | PUBLIC,
392         LocalVarFlags               = FINAL | PARAMETER,
393         ReceiverParamFlags          = PARAMETER;
394 
395 
396     public static Set&lt;Modifier&gt; asModifierSet(long flags) {
397         Set&lt;Modifier&gt; modifiers = modifierSets.get(flags);
398         if (modifiers == null) {
399             modifiers = java.util.EnumSet.noneOf(Modifier.class);
400             if (0 != (flags &amp; PUBLIC))    modifiers.add(Modifier.PUBLIC);
401             if (0 != (flags &amp; PROTECTED)) modifiers.add(Modifier.PROTECTED);
402             if (0 != (flags &amp; PRIVATE))   modifiers.add(Modifier.PRIVATE);
403             if (0 != (flags &amp; ABSTRACT))  modifiers.add(Modifier.ABSTRACT);
404             if (0 != (flags &amp; STATIC))    modifiers.add(Modifier.STATIC);
405             if (0 != (flags &amp; FINAL))     modifiers.add(Modifier.FINAL);
</pre>
<hr />
<pre>
469         GENERATEDCONSTR(Flags.GENERATEDCONSTR),
470         HYPOTHETICAL(Flags.HYPOTHETICAL),
471         PROPRIETARY(Flags.PROPRIETARY),
472         UNION(Flags.UNION),
473         EFFECTIVELY_FINAL(Flags.EFFECTIVELY_FINAL),
474         CLASH(Flags.CLASH),
475         AUXILIARY(Flags.AUXILIARY),
476         NOT_IN_PROFILE(Flags.NOT_IN_PROFILE),
477         BAD_OVERRIDE(Flags.BAD_OVERRIDE),
478         SIGNATURE_POLYMORPHIC(Flags.SIGNATURE_POLYMORPHIC),
479         THROWS(Flags.THROWS),
480         LAMBDA_METHOD(Flags.LAMBDA_METHOD),
481         TYPE_TRANSLATED(Flags.TYPE_TRANSLATED),
482         MODULE(Flags.MODULE),
483         AUTOMATIC_MODULE(Flags.AUTOMATIC_MODULE),
484         SYSTEM_MODULE(Flags.SYSTEM_MODULE),
485         DEPRECATED_ANNOTATION(Flags.DEPRECATED_ANNOTATION),
486         DEPRECATED_REMOVAL(Flags.DEPRECATED_REMOVAL),
487         HAS_RESOURCE(Flags.HAS_RESOURCE),
488         POTENTIALLY_AMBIGUOUS(Flags.POTENTIALLY_AMBIGUOUS),
<span class="line-modified">489         ANONCONSTR_BASED(Flags.ANONCONSTR_BASED),</span>
<span class="line-added">490         NAME_FILLED(Flags.NAME_FILLED),</span>
<span class="line-added">491         PREVIEW_API(Flags.PREVIEW_API),</span>
<span class="line-added">492         PREVIEW_ESSENTIAL_API(Flags.PREVIEW_ESSENTIAL_API),</span>
<span class="line-added">493         MATCH_BINDING(Flags.MATCH_BINDING),</span>
<span class="line-added">494         MATCH_BINDING_TO_OUTER(Flags.MATCH_BINDING_TO_OUTER),</span>
<span class="line-added">495         RECORD(Flags.RECORD);</span>
496 
497         Flag(long flag) {
498             this.value = flag;
499             this.lowercaseName = StringUtils.toLowerCase(name());
500         }
501 
502         @Override
503         public String toString() {
504             return lowercaseName;
505         }
506 
507         final long value;
508         final String lowercaseName;
509     }
510 
511 }
</pre>
</td>
</tr>
</table>
<center><a href="Directive.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="Kinds.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>