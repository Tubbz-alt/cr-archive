<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.compiler/share/classes/com/sun/tools/javac/parser/UnicodeReader.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Tokens.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../platform/JDKPlatformProvider.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.compiler/share/classes/com/sun/tools/javac/parser/UnicodeReader.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
129         }
130     }
131 
132     /** Append a character to sbuf.
133      */
134     protected void putChar(char ch, boolean scan) {
135         sbuf = ArrayUtils.ensureCapacity(sbuf, sp);
136         sbuf[sp++] = ch;
137         if (scan)
138             scanChar();
139     }
140 
141     protected void putChar(char ch) {
142         putChar(ch, false);
143     }
144 
145     protected void putChar(boolean scan) {
146         putChar(ch, scan);
147     }
148 









149     Name name() {
150         return names.fromChars(sbuf, 0, sp);
151     }
152 
153     String chars() {
154         return new String(sbuf, 0, sp);
155     }
156 















157     /** Convert unicode escape; bp points to initial &#39;\&#39; character
158      *  (Spec 3.3).
159      */
160     protected void convertUnicode() {
161         if (ch == &#39;\\&#39; &amp;&amp; unicodeConversionBp != bp ) {
162             bp++; ch = buf[bp];
163             if (ch == &#39;u&#39;) {
164                 do {
165                     bp++; ch = buf[bp];
166                 } while (ch == &#39;u&#39;);
167                 int limit = bp + 3;
168                 if (limit &lt; buflen) {
169                     int d = digit(bp, 16);
170                     int code = d;
171                     while (bp &lt; limit &amp;&amp; d &gt;= 0) {
172                         bp++; ch = buf[bp];
173                         d = digit(bp, 16);
174                         code = (code &lt;&lt; 4) + d;
175                     }
176                     if (d &gt;= 0) {
</pre>
</td>
<td>
<hr />
<pre>
129         }
130     }
131 
132     /** Append a character to sbuf.
133      */
134     protected void putChar(char ch, boolean scan) {
135         sbuf = ArrayUtils.ensureCapacity(sbuf, sp);
136         sbuf[sp++] = ch;
137         if (scan)
138             scanChar();
139     }
140 
141     protected void putChar(char ch) {
142         putChar(ch, false);
143     }
144 
145     protected void putChar(boolean scan) {
146         putChar(ch, scan);
147     }
148 
<span class="line-added">149     protected void nextChar(boolean skip) {</span>
<span class="line-added">150         if (!skip) {</span>
<span class="line-added">151             sbuf = ArrayUtils.ensureCapacity(sbuf, sp);</span>
<span class="line-added">152             sbuf[sp++] = ch;</span>
<span class="line-added">153         }</span>
<span class="line-added">154 </span>
<span class="line-added">155         scanChar();</span>
<span class="line-added">156     }</span>
<span class="line-added">157 </span>
158     Name name() {
159         return names.fromChars(sbuf, 0, sp);
160     }
161 
162     String chars() {
163         return new String(sbuf, 0, sp);
164     }
165 
<span class="line-added">166     /** Add &#39;count&#39; copies of the character &#39;ch&#39; to the string buffer.</span>
<span class="line-added">167      */</span>
<span class="line-added">168     protected void repeat(char ch, int count) {</span>
<span class="line-added">169         for ( ; 0 &lt; count; count--) {</span>
<span class="line-added">170             putChar(ch, false);</span>
<span class="line-added">171         }</span>
<span class="line-added">172     }</span>
<span class="line-added">173 </span>
<span class="line-added">174     /** Reset the scan buffer pointer to &#39;pos&#39;.</span>
<span class="line-added">175      */</span>
<span class="line-added">176     protected void reset(int pos) {</span>
<span class="line-added">177         bp = pos - 1;</span>
<span class="line-added">178         scanChar();</span>
<span class="line-added">179     }</span>
<span class="line-added">180 </span>
181     /** Convert unicode escape; bp points to initial &#39;\&#39; character
182      *  (Spec 3.3).
183      */
184     protected void convertUnicode() {
185         if (ch == &#39;\\&#39; &amp;&amp; unicodeConversionBp != bp ) {
186             bp++; ch = buf[bp];
187             if (ch == &#39;u&#39;) {
188                 do {
189                     bp++; ch = buf[bp];
190                 } while (ch == &#39;u&#39;);
191                 int limit = bp + 3;
192                 if (limit &lt; buflen) {
193                     int d = digit(bp, 16);
194                     int code = d;
195                     while (bp &lt; limit &amp;&amp; d &gt;= 0) {
196                         bp++; ch = buf[bp];
197                         d = digit(bp, 16);
198                         code = (code &lt;&lt; 4) + d;
199                     }
200                     if (d &gt;= 0) {
</pre>
</td>
</tr>
</table>
<center><a href="Tokens.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../platform/JDKPlatformProvider.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>