<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.compiler/share/classes/com/sun/tools/sjavac/JavacState.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="CompileJavaPackages.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Source.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.compiler/share/classes/com/sun/tools/sjavac/JavacState.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2012, 2016, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 78     private boolean needsSaving;
 79     // If this is a new javac_state file, then do not print unnecessary messages.
 80     private boolean newJavacState;
 81 
 82     // These are packages where something has changed and the package
 83     // needs to be recompiled. Actions that trigger recompilation:
 84     // * source belonging to the package has changed
 85     // * artifact belonging to the package is lost, or its timestamp has been changed.
 86     // * an unknown artifact has appeared, we simply delete it, but we also trigger a recompilation.
 87     // * a package that is tainted, taints all packages that depend on it.
 88     private Set&lt;String&gt; taintedPackages;
 89     // After a compile, the pubapis are compared with the pubapis stored in the javac state file.
 90     // Any packages where the pubapi differ are added to this set.
 91     // Later we use this set and the dependency information to taint dependent packages.
 92     private Set&lt;String&gt; packagesWithChangedPublicApis;
 93     // When a module-info.java file is changed, taint the module,
 94     // then taint all modules that depend on that that module.
 95     // A module dependency can occur directly through a require, or
 96     // indirectly through a module that does a public export for the first tainted module.
 97     // When all modules are tainted, then taint all packages belonging to these modules.
<span class="line-modified"> 98     // Then rebuild. It is perhaps possible (and valuable?) to do a more finegrained examination of the</span>
 99     // change in module-info.java, but that will have to wait.
100     private Set&lt;String&gt; taintedModules;
101     // The set of all packages that has been recompiled.
102     // Copy over the javac_state for the packages that did not need recompilation,
103     // verbatim from the previous (prev) to the new (now) build state.
104     private Set&lt;String&gt; recompiledPackages;
105 
106     // The output directories filled with tasty artifacts.
107     private File binDir, gensrcDir, headerDir, stateDir;
108 
109     // The current status of the file system.
110     private Set&lt;File&gt; binArtifacts;
111     private Set&lt;File&gt; gensrcArtifacts;
112     private Set&lt;File&gt; headerArtifacts;
113 
114     // The status of the sources.
115     Set&lt;Source&gt; removedSources = null;
116     Set&lt;Source&gt; addedSources = null;
117     Set&lt;Source&gt; modifiedSources = null;
118 
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2012, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 78     private boolean needsSaving;
 79     // If this is a new javac_state file, then do not print unnecessary messages.
 80     private boolean newJavacState;
 81 
 82     // These are packages where something has changed and the package
 83     // needs to be recompiled. Actions that trigger recompilation:
 84     // * source belonging to the package has changed
 85     // * artifact belonging to the package is lost, or its timestamp has been changed.
 86     // * an unknown artifact has appeared, we simply delete it, but we also trigger a recompilation.
 87     // * a package that is tainted, taints all packages that depend on it.
 88     private Set&lt;String&gt; taintedPackages;
 89     // After a compile, the pubapis are compared with the pubapis stored in the javac state file.
 90     // Any packages where the pubapi differ are added to this set.
 91     // Later we use this set and the dependency information to taint dependent packages.
 92     private Set&lt;String&gt; packagesWithChangedPublicApis;
 93     // When a module-info.java file is changed, taint the module,
 94     // then taint all modules that depend on that that module.
 95     // A module dependency can occur directly through a require, or
 96     // indirectly through a module that does a public export for the first tainted module.
 97     // When all modules are tainted, then taint all packages belonging to these modules.
<span class="line-modified"> 98     // Then rebuild. It is perhaps possible (and valuable?) to do a more fine-grained examination of the</span>
 99     // change in module-info.java, but that will have to wait.
100     private Set&lt;String&gt; taintedModules;
101     // The set of all packages that has been recompiled.
102     // Copy over the javac_state for the packages that did not need recompilation,
103     // verbatim from the previous (prev) to the new (now) build state.
104     private Set&lt;String&gt; recompiledPackages;
105 
106     // The output directories filled with tasty artifacts.
107     private File binDir, gensrcDir, headerDir, stateDir;
108 
109     // The current status of the file system.
110     private Set&lt;File&gt; binArtifacts;
111     private Set&lt;File&gt; gensrcArtifacts;
112     private Set&lt;File&gt; headerArtifacts;
113 
114     // The status of the sources.
115     Set&lt;Source&gt; removedSources = null;
116     Set&lt;Source&gt; addedSources = null;
117     Set&lt;Source&gt; modifiedSources = null;
118 
</pre>
</td>
</tr>
</table>
<center><a href="CompileJavaPackages.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Source.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>