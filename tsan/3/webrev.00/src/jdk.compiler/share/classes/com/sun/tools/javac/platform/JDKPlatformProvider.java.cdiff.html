<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/jdk.compiler/share/classes/com/sun/tools/javac/platform/JDKPlatformProvider.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../parser/UnicodeReader.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../processing/JavacFiler.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.compiler/share/classes/com/sun/tools/javac/platform/JDKPlatformProvider.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 2014, 2018, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 2014, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 111,11 ***</span>
  
      static {
          SUPPORTED_JAVA_PLATFORM_VERSIONS = new TreeSet&lt;&gt;(NUMERICAL_COMPARATOR);
          Path ctSymFile = findCtSym();
          if (Files.exists(ctSymFile)) {
<span class="line-modified">!             try (FileSystem fs = FileSystems.newFileSystem(ctSymFile, null);</span>
                   DirectoryStream&lt;Path&gt; dir =
                           Files.newDirectoryStream(fs.getRootDirectories().iterator().next())) {
                  for (Path section : dir) {
                      if (section.getFileName().toString().contains(&quot;-&quot;))
                          continue;
<span class="line-new-header">--- 111,11 ---</span>
  
      static {
          SUPPORTED_JAVA_PLATFORM_VERSIONS = new TreeSet&lt;&gt;(NUMERICAL_COMPARATOR);
          Path ctSymFile = findCtSym();
          if (Files.exists(ctSymFile)) {
<span class="line-modified">!             try (FileSystem fs = FileSystems.newFileSystem(ctSymFile, (ClassLoader)null);</span>
                   DirectoryStream&lt;Path&gt; dir =
                           Files.newDirectoryStream(fs.getRootDirectories().iterator().next())) {
                  for (Path section : dir) {
                      if (section.getFileName().toString().contains(&quot;-&quot;))
                          continue;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 250,11 ***</span>
              // file == ${jdk.home}/lib/ct.sym
              if (Files.exists(file)) {
                  try {
                      FileSystem fs = ctSym2FileSystem.get(file);
                      if (fs == null) {
<span class="line-modified">!                         ctSym2FileSystem.put(file, fs = FileSystems.newFileSystem(file, null));</span>
                      }
  
                      Path root = fs.getRootDirectories().iterator().next();
                      boolean hasModules =
                              Feature.MODULES.allowedInSource(Source.lookup(sourceVersion));
<span class="line-new-header">--- 250,11 ---</span>
              // file == ${jdk.home}/lib/ct.sym
              if (Files.exists(file)) {
                  try {
                      FileSystem fs = ctSym2FileSystem.get(file);
                      if (fs == null) {
<span class="line-modified">!                         ctSym2FileSystem.put(file, fs = FileSystems.newFileSystem(file, (ClassLoader)null));</span>
                      }
  
                      Path root = fs.getRootDirectories().iterator().next();
                      boolean hasModules =
                              Feature.MODULES.allowedInSource(Source.lookup(sourceVersion));
</pre>
<center><a href="../parser/UnicodeReader.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../processing/JavacFiler.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>