<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/java.sql.rowset/share/classes/com/sun/rowset/providers/package-info.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /*
<a name="1" id="anc1"></a><span class="line-modified">  2  * Copyright (c) 2003, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 /**
 27  *
<a name="2" id="anc2"></a><span class="line-modified"> 28  * Repository for the &lt;code&gt;RowSet&lt;/code&gt; reference implementations of the</span>
<span class="line-modified"> 29  * &lt;code&gt;SyncProvider&lt;/code&gt; abstract class. These implementations provide a</span>
<span class="line-modified"> 30  * disconnected &lt;code&gt;RowSet&lt;/code&gt;</span>
 31  * object with the ability to synchronize the data in the underlying data
 32  * source with its data.  These implementations are provided as
<a name="3" id="anc3"></a><span class="line-modified"> 33  * the default &lt;code&gt;SyncProvider&lt;/code&gt; implementations and are accessible via the</span>
<span class="line-modified"> 34  * &lt;code&gt;SyncProvider&lt;/code&gt; SPI managed by the &lt;code&gt;SyncFactory&lt;/code&gt;.</span>
 35  *
<a name="4" id="anc4"></a><span class="line-modified"> 36  * &lt;h2&gt;1.0 &lt;code&gt;SyncProvider&lt;/code&gt; Reference Implementations&lt;/h2&gt;</span>
<span class="line-modified"> 37  *   The main job of a &lt;code&gt;SyncProvider&lt;/code&gt; implementation is to manage</span>
 38  * the reader and writer mechanisms.
<a name="5" id="anc5"></a><span class="line-modified"> 39  *  The &lt;code&gt;SyncProvider&lt;/code&gt; SPI, as specified in the &lt;code&gt;javax.sql.rowset.spi&lt;/code&gt;</span>
<span class="line-modified"> 40  * package, provides a pluggable mechanism by which &lt;code&gt;javax.sql.RowSetReader&lt;/code&gt;</span>
<span class="line-modified"> 41  * and &lt;code&gt;javax.sql.RowSetWriter&lt;/code&gt; implementations can be supplied to a disconnected</span>
<span class="line-modified"> 42  * &lt;code&gt;RowSet&lt;/code&gt; object.</span>
 43  * &lt;P&gt;
<a name="6" id="anc6"></a><span class="line-modified"> 44  *  A reader, a &lt;code&gt;javax.sql.RowSetReader&lt;/code&gt;</span>
<span class="line-modified"> 45  * object, does the work necessary to populate a &lt;code&gt;RowSet&lt;/code&gt; object with data.</span>
<span class="line-modified"> 46  * A writer, a &lt;code&gt;javax.sql.RowSetWriter&lt;/code&gt; object, does the work necessary for</span>
<span class="line-modified"> 47  * synchronizing a &lt;code&gt;RowSet&lt;/code&gt; object&#39;s data with the data in the originating</span>
<span class="line-modified"> 48  * source of data. Put another way, a writer writes a &lt;code&gt;RowSet&lt;/code&gt;</span>
 49  * object&#39;s data back to the data source.
 50  * &lt;P&gt;
 51  * Generally speaking, the course of events is this.  The reader makes a connection to
<a name="7" id="anc7"></a><span class="line-modified"> 52  * the data source and reads the data from a &lt;code&gt;ResultSet&lt;/code&gt; object into its</span>
<span class="line-modified"> 53  * &lt;code&gt;RowSet&lt;/code&gt; object.  Then it closes the connection.  While</span>
<span class="line-modified"> 54  * the &lt;code&gt;RowSet&lt;/code&gt; object is disconnected, an application makes some modifications</span>
<span class="line-modified"> 55  * to the data and calls the method &lt;code&gt;acceptChanges&lt;/code&gt;. At this point, the</span>
 56  * writer is called to write the changes back to the database table or view
 57  * from which the original data came. This is called &lt;i&gt;synchronization&lt;/i&gt;.
 58  * &lt;P&gt;
 59  * If the data in the originating data source has not changed, there is no problem
<a name="8" id="anc8"></a><span class="line-modified"> 60  * with just writing the &lt;code&gt;RowSet&lt;/code&gt; object&#39;s new data to the data source.</span>
 61  * If it has changed, however, there is a conflict that needs to be resolved. One
 62  * way to solve the problem is not to let the data in the data source be changed in
 63  * the first place, which can be done by setting locks on a row, a table, or the
 64  * whole data source.  Setting locks is a way to avoid conflicts, but it can be
 65  * very expensive. Another approach, which is at the other end of the spectrum,
 66  *  is simply to assume that no conflicts will occur and thus do nothing to avoid
 67  * conflicts.
<a name="9" id="anc9"></a><span class="line-modified"> 68  * Different &lt;code&gt;SyncProvider&lt;/code&gt; implementations may handle synchronization in</span>
 69  * any of these ways, varying from doing no checking for
 70  * conflicts, to doing various levels of checking, to guaranteeing that there are no
 71  * conflicts.
 72  * &lt;P&gt;
<a name="10" id="anc10"></a><span class="line-modified"> 73  * The &lt;code&gt;SyncProvider&lt;/code&gt; class offers methods to help a &lt;code&gt;RowSet&lt;/code&gt;</span>
 74  * object discover and manage how a provider handles synchronization.
<a name="11" id="anc11"></a><span class="line-modified"> 75  * The method &lt;code&gt;getProviderGrade&lt;/code&gt; returns the</span>
 76  * grade of synchronization a provider offers. An application can
 77  * direct the provider to use a particular level of locking by calling
<a name="12" id="anc12"></a><span class="line-modified"> 78  * the method &lt;code&gt;setDataSourceLock&lt;/code&gt; and specifying the level of locking desired.</span>
<span class="line-modified"> 79  * If a &lt;code&gt;RowSet&lt;/code&gt; object&#39;s data came from an SQL &lt;code&gt;VIEW&lt;/code&gt;, an</span>
<span class="line-modified"> 80  * application may call the method &lt;code&gt;supportsUpdatableView&lt;/code&gt; to</span>
<span class="line-modified"> 81  * find out whether the &lt;code&gt;VIEW&lt;/code&gt; can be updated.</span>
 82  * &lt;P&gt;
 83  * Synchronization is done completely behind the scenes, so it is third party vendors of
 84  * synchronization provider implementations who have to take care of this complex task.
 85  * Application programmers can decide which provider to use and the level of locking to
 86  * be done, but they are free from having to worry about the implementation details.
 87  * &lt;P&gt;
<a name="13" id="anc13"></a><span class="line-modified"> 88  * The JDBC &lt;code&gt;RowSet&lt;/code&gt; Implementations reference implementation provides two</span>
<span class="line-modified"> 89  * implementations of the &lt;code&gt;SyncProvider&lt;/code&gt; class:</span>
 90  *
 91  * &lt;UL&gt;
 92  * &lt;LI&gt;
<a name="14" id="anc14"></a><span class="line-modified"> 93  * &lt;b&gt;&lt;code&gt;RIOptimisticProvider&lt;/code&gt;&lt;/b&gt; - provides the &lt;code&gt;javax.sql.RowSetReader&lt;/code&gt;</span>
<span class="line-modified"> 94  * and &lt;code&gt;javax.sql.RowSetWriter&lt;/code&gt; interface implementations and provides</span>
 95  * an optimistic concurrency model for synchronization. This model assumes that there
 96  * will be few conflicts and therefore uses a relatively low grade of synchronization.
 97  * If no other provider is available, this is the default provider that the
<a name="15" id="anc15"></a><span class="line-modified"> 98  * &lt;code&gt;SyncFactory&lt;/code&gt; will supply to a &lt;code&gt;RowSet&lt;/code&gt; object.</span>
 99  *     &lt;br&gt;
100  * &lt;LI&gt;
<a name="16" id="anc16"></a><span class="line-modified">101  * &lt;b&gt;&lt;code&gt;RIXMLProvider&lt;/code&gt;&lt;/b&gt; - provides the &lt;code&gt;XmlReader&lt;/code&gt; (an extension</span>
<span class="line-modified">102  * of the &lt;code&gt;javax.sql.RowSetReader&lt;/code&gt; interface) and the &lt;code&gt;XmlWriter&lt;/code&gt;</span>
<span class="line-modified">103  * (an extension of the &lt;code&gt;javax.sql.RowSetWriter&lt;/code&gt; interface) to enable</span>
<span class="line-modified">104  * &lt;code&gt;WebRowSet&lt;/code&gt; objects to write their state to a</span>
<span class="line-modified">105  * well formed XML document according to the &lt;code&gt;WebRowSet&lt;/code&gt; XML schema</span>
106  * definition.&lt;br&gt;
107  * &lt;/UL&gt;
108  *
109  * &lt;h2&gt;2.0 Basics in RowSet Population &amp;amp; Synchronization&lt;/h2&gt;
110  * A rowset&#39;s first task is to populate itself with rows of column values.
111  * Generally,   these rows will come from a relational database, so a rowset
112  * has properties   that supply what is necessary for making a connection to
113  * a database and executing  a query. A rowset that does not need to establish
114  * a connection and execute  a command, such as one that gets its data from
115  * a tabular file instead of a relational database, does not need to have these
116  * properties set. The vast  majority of RowSets, however, do need to set these
117  * properties. The general  rule is that a RowSet is required to set only the
118  * properties that it uses.&lt;br&gt;
119  *     &lt;br&gt;
<a name="17" id="anc17"></a><span class="line-modified">120  * The &lt;code&gt;command&lt;/code&gt; property contains the query that determines what</span>
<span class="line-modified">121  * data  a &lt;code&gt;RowSet&lt;/code&gt; will contain. Rowsets have methods for setting a query&#39;s</span>
122  * parameter(s),  which means that a query can be executed multiple times with
123  * different parameters  to produce different result sets. Or the query can be
124  * changed to something  completely new to get a new result set.
<a name="18" id="anc18"></a><span class="line-modified">125  * &lt;p&gt;Once a rowset contains the rows from a &lt;code&gt;ResultSet&lt;/code&gt; object or some</span>
126  * other data source, its column values can be updated, and its rows can be
127  * inserted or deleted. Any method that causes a change in the rowset&#39;s values
128  * or cursor position also notifies any object that has been registered as
129  * a listener with the rowset. So, for example, a table that displays the rowset&#39;s
130  * data in an applet can be notified of changes and make updates as they
131  * occur.&lt;br&gt;
132  *     &lt;br&gt;
133  * The changes made to a rowset can be propagated back to the original data
134  * source to keep the rowset and its data source synchronized. Although this
135  * involves many operations behind the scenes, it is completely transparent
136  * to the application programmer and remains the concern of the RowSet provider
<a name="19" id="anc19"></a><span class="line-modified">137  * developer. All an application has to do is invoke the method &lt;code&gt;acceptChanges&lt;/code&gt;,</span>
138  * and the data source backing the rowset will be updated to match the current
139  * values in the rowset. &lt;/p&gt;
140  *
<a name="20" id="anc20"></a><span class="line-modified">141  * &lt;p&gt;A disconnected rowset, such as a &lt;code&gt;CachedRowSet&lt;/code&gt; or &lt;code&gt;WebRowSet&lt;/code&gt;</span>
142  *  object, establishes a connection to populate itself with data from a database
<a name="21" id="anc21"></a><span class="line-modified">143  *  and then closes the connection. The &lt;code&gt;RowSet&lt;/code&gt; object will remain</span>
144  *  disconnected until it wants to propagate changes back to its database table,
145  *  which is optional. To write its changes back to the database (synchronize with
146  *  the database), the rowset establishes a connection, write the changes, and then
147  *  once again disconnects itself.&lt;br&gt;
148  *   &lt;/p&gt;
149  *
150  * &lt;h2&gt; 3.0 Other Possible Implementations&lt;/h2&gt;
<a name="22" id="anc22"></a><span class="line-modified">151  *  There are many other possible implementations of the &lt;code&gt;SyncProvider&lt;/code&gt; abstract</span>
152  *  class. One possibility is to employ a more robust synchronization model, which
<a name="23" id="anc23"></a><span class="line-modified">153  *  would give a &lt;code&gt;RowSet&lt;/code&gt; object increased trust in the provider&#39;s</span>
154  *  ability to get any updates back to the original data source. Another possibility
155  *  is a more formal synchronization mechanism such as SyncML
156  *  (&lt;a href=&quot;http://www.syncml.org/&quot;&gt;http://www.syncml.org/&lt;/a&gt;)   &lt;br&gt;
157  */
158 package com.sun.rowset.providers;
<a name="24" id="anc24"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="24" type="hidden" />
</body>
</html>