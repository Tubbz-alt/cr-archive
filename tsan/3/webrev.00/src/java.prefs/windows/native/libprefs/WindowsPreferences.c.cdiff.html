<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.prefs/windows/native/libprefs/WindowsPreferences.c</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../../../share/classes/java/util/prefs/XmlSupport.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../../../java.rmi/share/classes/java/rmi/activation/ActivationGroup.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.prefs/windows/native/libprefs/WindowsPreferences.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 47,11 ***</span>
  
      HKEY handle;
      int errorCode = RegOpenKeyEx((HKEY) hKey, str, 0, securityMask, &amp;handle);
      (*env)-&gt;ReleaseByteArrayElements(env, lpSubKey, str, 0);
  
<span class="line-modified">!     jlong tmp[2];</span>
      tmp[0] = (jlong) handle;
      tmp[1] = errorCode;
      jlongArray result = (*env)-&gt;NewLongArray(env, 2);
      if (result != NULL) {
          (*env)-&gt;SetLongArrayRegion(env, result, 0, 2, tmp);
<span class="line-new-header">--- 47,11 ---</span>
  
      HKEY handle;
      int errorCode = RegOpenKeyEx((HKEY) hKey, str, 0, securityMask, &amp;handle);
      (*env)-&gt;ReleaseByteArrayElements(env, lpSubKey, str, 0);
  
<span class="line-modified">!     __declspec(align(8)) jlong tmp[2];</span>
      tmp[0] = (jlong) handle;
      tmp[1] = errorCode;
      jlongArray result = (*env)-&gt;NewLongArray(env, 2);
      if (result != NULL) {
          (*env)-&gt;SetLongArrayRegion(env, result, 0, 2, tmp);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 76,11 ***</span>
      int errorCode = RegCreateKeyEx((HKEY) hKey, str, 0, NULL,
          REG_OPTION_NON_VOLATILE, KEY_READ,
          NULL, &amp;handle, &amp;lpdwDisposition);
      (*env)-&gt;ReleaseByteArrayElements(env, lpSubKey, str, 0);
  
<span class="line-modified">!     jlong tmp[3];</span>
      tmp[0] = (jlong) handle;
      tmp[1] = errorCode;
      tmp[2] = lpdwDisposition;
      jlongArray result = (*env)-&gt;NewLongArray(env, 3);
      if (result != NULL) {
<span class="line-new-header">--- 76,11 ---</span>
      int errorCode = RegCreateKeyEx((HKEY) hKey, str, 0, NULL,
          REG_OPTION_NON_VOLATILE, KEY_READ,
          NULL, &amp;handle, &amp;lpdwDisposition);
      (*env)-&gt;ReleaseByteArrayElements(env, lpSubKey, str, 0);
  
<span class="line-modified">!     __declspec(align(8)) jlong tmp[3];</span>
      tmp[0] = (jlong) handle;
      tmp[1] = errorCode;
      tmp[2] = lpdwDisposition;
      jlongArray result = (*env)-&gt;NewLongArray(env, 3);
      if (result != NULL) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 194,11 ***</span>
      int errorCode = RegQueryInfoKey((HKEY) hKey, NULL, NULL, NULL,
          &amp;subKeysNumber, &amp;maxSubKeyLength, NULL,
          &amp;valuesNumber, &amp;maxValueNameLength,
          NULL, NULL, NULL);
  
<span class="line-modified">!     jlong tmp[5];</span>
      tmp[0] = subKeysNumber;
      tmp[1] = errorCode;
      tmp[2] = valuesNumber;
      tmp[3] = maxSubKeyLength;
      tmp[4] = maxValueNameLength;
<span class="line-new-header">--- 194,11 ---</span>
      int errorCode = RegQueryInfoKey((HKEY) hKey, NULL, NULL, NULL,
          &amp;subKeysNumber, &amp;maxSubKeyLength, NULL,
          &amp;valuesNumber, &amp;maxValueNameLength,
          NULL, NULL, NULL);
  
<span class="line-modified">!     __declspec(align(8)) jlong tmp[5];</span>
      tmp[0] = subKeysNumber;
      tmp[1] = errorCode;
      tmp[2] = valuesNumber;
      tmp[3] = maxSubKeyLength;
      tmp[4] = maxValueNameLength;
</pre>
<center><a href="../../../share/classes/java/util/prefs/XmlSupport.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../../../java.rmi/share/classes/java/rmi/activation/ActivationGroup.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>