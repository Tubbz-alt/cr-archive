<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/cpu/s390/vm_version_s390.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="vm_version_s390.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="vtableStubs_s390.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/cpu/s390/vm_version_s390.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
  2  * Copyright (c) 2016, 2019, Oracle and/or its affiliates. All rights reserved.
<span class="line-modified">  3  * Copyright (c) 2016, 2018 SAP SE. All rights reserved.</span>
  4  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  5  *
  6  * This code is free software; you can redistribute it and/or modify it
  7  * under the terms of the GNU General Public License version 2 only, as
  8  * published by the Free Software Foundation.
  9  *
 10  * This code is distributed in the hope that it will be useful, but WITHOUT
 11  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 12  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 13  * version 2 for more details (a copy is included in the LICENSE file that
 14  * accompanied this code).
 15  *
 16  * You should have received a copy of the GNU General Public License version
 17  * 2 along with this work; if not, write to the Free Software Foundation,
 18  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 19  *
 20  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 21  * or visit www.oracle.com if you need additional information or have any
 22  * questions.
 23  *
 24  */
 25 
 26 #ifndef CPU_S390_VM_VERSION_S390_HPP
 27 #define CPU_S390_VM_VERSION_S390_HPP
 28 
 29 

 30 #include &quot;runtime/globals_extension.hpp&quot;
<span class="line-removed"> 31 #include &quot;runtime/vm_version.hpp&quot;</span>
 32 
 33 class VM_Version: public Abstract_VM_Version {
 34 
 35  protected:
 36 // The following list contains the (approximate) announcement/availability
 37 // dates of the many System z generations in existence as of now which
 38 // implement the z/Architecture.
 39 //   z900: 2000-10
 40 //   z990: 2003-06
 41 //   z9:   2005-09
 42 //   z10:  2007-04
 43 //   z10:  2008-02
 44 //   z196: 2010-08
 45 //   ec12: 2012-09
 46 //   z13:  2015-03
 47 //
 48 // z/Architecture is the name of the 64-bit extension of the 31-bit s390
 49 // architecture.
 50 //
 51 // ----------------------------------------------
</pre>
<hr />
<pre>
329         _DEA_dataBlk              =   8,
330         _TDEA128_dataBlk          =   8,
331         _TDEA192_dataBlk          =   8,
332         _EncryptedDEA_dataBlk     =   8,
333         _EncryptedDEA128_dataBlk  =   8,
334         _EncryptedDEA192_dataBlk  =   8,
335         _AES128_dataBlk           =  16,
336         _AES192_dataBlk           =  16,
337         _AES256_dataBlk           =  16,
338         _EnccryptedAES128_dataBlk =  16,
339         _EnccryptedAES192_dataBlk =  16,
340         _EnccryptedAES256_dataBlk =  16
341       };
342   };
343 
344   // Initialization
345   static void initialize();
346   static void print_features();
347   static bool is_determine_features_test_running() { return _is_determine_features_test_running; }
348 






349   // CPU feature query functions
350   static const char* get_model_string()       { return _model_string; }
351   static bool has_StoreFacilityListExtended() { return  (_features[0] &amp; StoreFacilityListExtendedMask) == StoreFacilityListExtendedMask; }
352   static bool has_Crypto()                    { return  (_features[0] &amp; CryptoFacilityMask)            == CryptoFacilityMask; }
353   static bool has_ETF2()                      { return  (_features[0] &amp; ETF2Mask)                      == ETF2Mask; }
354   static bool has_ETF3()                      { return  (_features[0] &amp; ETF3Mask)                      == ETF3Mask; }
355   static bool has_ETF2Enhancements()          { return  (_features[0] &amp; ETF2EnhancementMask)           == ETF2EnhancementMask; }
356   static bool has_ETF3Enhancements()          { return  (_features[0] &amp; ETF3EnhancementMask)           == ETF3EnhancementMask; }
357   static bool has_ParsingEnhancements()       { return  (_features[0] &amp; ParsingEnhancementsMask)       == ParsingEnhancementsMask; }
358   static bool has_long_displacement()         { return  (_features[0] &amp; LongDispFacilityMask)          == LongDispFacilityMask; }
359   static bool has_long_displacement_fast()    { return  (_features[0] &amp; LongDispFacilityHighPerfMask)  == LongDispFacilityHighPerfMask; }
360   static bool has_extended_immediate()        { return  (_features[0] &amp; ExtImmedFacilityMask)          == ExtImmedFacilityMask; }
361   static bool has_StoreClockFast()            { return  (_features[0] &amp; StoreClockFastMask)            == StoreClockFastMask; }
362   static bool has_ExtractCPUtime()            { return  (_features[0] &amp; ExtractCPUTimeMask)            == ExtractCPUTimeMask; }
363   static bool has_CompareSwapStore()          { return  (_features[0] &amp; CompareSwapStoreMask)          == CompareSwapStoreMask; }
364 
365   static bool has_HFPMultiplyAndAdd()         { return  (_features[0] &amp; HFPMultiplyAndAddMask)         == HFPMultiplyAndAddMask; }
366   static bool has_HFPUnnormalized()           { return  (_features[0] &amp; HFPUnnormalizedMask)           == HFPUnnormalizedMask; }
367 
368   // Make sure we don&#39;t run on older ...
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
  2  * Copyright (c) 2016, 2019, Oracle and/or its affiliates. All rights reserved.
<span class="line-modified">  3  * Copyright (c) 2016, 2019 SAP SE. All rights reserved.</span>
  4  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  5  *
  6  * This code is free software; you can redistribute it and/or modify it
  7  * under the terms of the GNU General Public License version 2 only, as
  8  * published by the Free Software Foundation.
  9  *
 10  * This code is distributed in the hope that it will be useful, but WITHOUT
 11  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 12  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 13  * version 2 for more details (a copy is included in the LICENSE file that
 14  * accompanied this code).
 15  *
 16  * You should have received a copy of the GNU General Public License version
 17  * 2 along with this work; if not, write to the Free Software Foundation,
 18  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 19  *
 20  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 21  * or visit www.oracle.com if you need additional information or have any
 22  * questions.
 23  *
 24  */
 25 
 26 #ifndef CPU_S390_VM_VERSION_S390_HPP
 27 #define CPU_S390_VM_VERSION_S390_HPP
 28 
 29 
<span class="line-added"> 30 #include &quot;runtime/abstract_vm_version.hpp&quot;</span>
 31 #include &quot;runtime/globals_extension.hpp&quot;

 32 
 33 class VM_Version: public Abstract_VM_Version {
 34 
 35  protected:
 36 // The following list contains the (approximate) announcement/availability
 37 // dates of the many System z generations in existence as of now which
 38 // implement the z/Architecture.
 39 //   z900: 2000-10
 40 //   z990: 2003-06
 41 //   z9:   2005-09
 42 //   z10:  2007-04
 43 //   z10:  2008-02
 44 //   z196: 2010-08
 45 //   ec12: 2012-09
 46 //   z13:  2015-03
 47 //
 48 // z/Architecture is the name of the 64-bit extension of the 31-bit s390
 49 // architecture.
 50 //
 51 // ----------------------------------------------
</pre>
<hr />
<pre>
329         _DEA_dataBlk              =   8,
330         _TDEA128_dataBlk          =   8,
331         _TDEA192_dataBlk          =   8,
332         _EncryptedDEA_dataBlk     =   8,
333         _EncryptedDEA128_dataBlk  =   8,
334         _EncryptedDEA192_dataBlk  =   8,
335         _AES128_dataBlk           =  16,
336         _AES192_dataBlk           =  16,
337         _AES256_dataBlk           =  16,
338         _EnccryptedAES128_dataBlk =  16,
339         _EnccryptedAES192_dataBlk =  16,
340         _EnccryptedAES256_dataBlk =  16
341       };
342   };
343 
344   // Initialization
345   static void initialize();
346   static void print_features();
347   static bool is_determine_features_test_running() { return _is_determine_features_test_running; }
348 
<span class="line-added">349   // Override Abstract_VM_Version implementation</span>
<span class="line-added">350   static void print_platform_virtualization_info(outputStream*);</span>
<span class="line-added">351 </span>
<span class="line-added">352   // s390 supports fast class initialization checks for static methods.</span>
<span class="line-added">353   static bool supports_fast_class_init_checks() { return true; }</span>
<span class="line-added">354 </span>
355   // CPU feature query functions
356   static const char* get_model_string()       { return _model_string; }
357   static bool has_StoreFacilityListExtended() { return  (_features[0] &amp; StoreFacilityListExtendedMask) == StoreFacilityListExtendedMask; }
358   static bool has_Crypto()                    { return  (_features[0] &amp; CryptoFacilityMask)            == CryptoFacilityMask; }
359   static bool has_ETF2()                      { return  (_features[0] &amp; ETF2Mask)                      == ETF2Mask; }
360   static bool has_ETF3()                      { return  (_features[0] &amp; ETF3Mask)                      == ETF3Mask; }
361   static bool has_ETF2Enhancements()          { return  (_features[0] &amp; ETF2EnhancementMask)           == ETF2EnhancementMask; }
362   static bool has_ETF3Enhancements()          { return  (_features[0] &amp; ETF3EnhancementMask)           == ETF3EnhancementMask; }
363   static bool has_ParsingEnhancements()       { return  (_features[0] &amp; ParsingEnhancementsMask)       == ParsingEnhancementsMask; }
364   static bool has_long_displacement()         { return  (_features[0] &amp; LongDispFacilityMask)          == LongDispFacilityMask; }
365   static bool has_long_displacement_fast()    { return  (_features[0] &amp; LongDispFacilityHighPerfMask)  == LongDispFacilityHighPerfMask; }
366   static bool has_extended_immediate()        { return  (_features[0] &amp; ExtImmedFacilityMask)          == ExtImmedFacilityMask; }
367   static bool has_StoreClockFast()            { return  (_features[0] &amp; StoreClockFastMask)            == StoreClockFastMask; }
368   static bool has_ExtractCPUtime()            { return  (_features[0] &amp; ExtractCPUTimeMask)            == ExtractCPUTimeMask; }
369   static bool has_CompareSwapStore()          { return  (_features[0] &amp; CompareSwapStoreMask)          == CompareSwapStoreMask; }
370 
371   static bool has_HFPMultiplyAndAdd()         { return  (_features[0] &amp; HFPMultiplyAndAddMask)         == HFPMultiplyAndAddMask; }
372   static bool has_HFPUnnormalized()           { return  (_features[0] &amp; HFPUnnormalizedMask)           == HFPUnnormalizedMask; }
373 
374   // Make sure we don&#39;t run on older ...
</pre>
</td>
</tr>
</table>
<center><a href="vm_version_s390.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="vtableStubs_s390.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>