<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/hotspot/cpu/x86/nativeInst_x86.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="nativeInst_x86.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="rdtsc_x86.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/cpu/x86/nativeInst_x86.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -359,36 +359,47 @@</span>
  
      instruction_VEX_prefix_2bytes       = Assembler::VEX_2bytes,
      instruction_VEX_prefix_3bytes       = Assembler::VEX_3bytes,
      instruction_EVEX_prefix_4bytes      = Assembler::EVEX_4bytes,
  
<span class="udiff-line-removed">-     instruction_size                    = 4,</span>
      instruction_offset                  = 0,
      data_offset                         = 2,
      next_instruction_offset             = 4
    };
  
    // helper
    int instruction_start() const;
  
<span class="udiff-line-modified-removed">-   address instruction_address() const;</span>
<span class="udiff-line-modified-added">+   address instruction_address() const {</span>
<span class="udiff-line-added">+     return addr_at(instruction_start());</span>
<span class="udiff-line-added">+   }</span>
  
<span class="udiff-line-modified-removed">-   address next_instruction_address() const;</span>
<span class="udiff-line-modified-added">+   int num_bytes_to_end_of_patch() const {</span>
<span class="udiff-line-added">+     return patch_offset() + sizeof(jint);</span>
<span class="udiff-line-added">+   }</span>
  
<span class="udiff-line-modified-removed">-   int   offset() const;</span>
<span class="udiff-line-modified-added">+   int offset() const {</span>
<span class="udiff-line-added">+     return int_at(patch_offset());</span>
<span class="udiff-line-added">+   }</span>
  
<span class="udiff-line-modified-removed">-   void  set_offset(int x);</span>
<span class="udiff-line-modified-added">+   void set_offset(int x) {</span>
<span class="udiff-line-added">+     set_int_at(patch_offset(), x);</span>
<span class="udiff-line-added">+   }</span>
  
<span class="udiff-line-modified-removed">-   void  add_offset_in_bytes(int add_offset)     { set_offset ( ( offset() + add_offset ) ); }</span>
<span class="udiff-line-modified-added">+   void add_offset_in_bytes(int add_offset) {</span>
<span class="udiff-line-added">+     int patch_off = patch_offset();</span>
<span class="udiff-line-added">+     set_int_at(patch_off, int_at(patch_off) + add_offset);</span>
<span class="udiff-line-added">+   }</span>
  
    void verify();
    void print ();
  
    // unit test stuff
    static void test() {}
  
   private:
<span class="udiff-line-added">+   int patch_offset() const;</span>
    inline friend NativeMovRegMem* nativeMovRegMem_at (address address);
  };
  
  inline NativeMovRegMem* nativeMovRegMem_at (address address) {
    NativeMovRegMem* test = (NativeMovRegMem*)(address - NativeMovRegMem::instruction_offset);
</pre>
<center><a href="nativeInst_x86.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="rdtsc_x86.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>