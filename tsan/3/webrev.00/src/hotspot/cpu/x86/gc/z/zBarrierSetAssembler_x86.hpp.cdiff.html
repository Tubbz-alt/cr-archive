<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/cpu/x86/gc/z/zBarrierSetAssembler_x86.hpp</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="zBarrierSetAssembler_x86.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="z_x86_64.ad.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/cpu/x86/gc/z/zBarrierSetAssembler_x86.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 22,26 ***</span>
   */
  
  #ifndef CPU_X86_GC_Z_ZBARRIERSETASSEMBLER_X86_HPP
  #define CPU_X86_GC_Z_ZBARRIERSETASSEMBLER_X86_HPP
  
  #ifdef COMPILER1
  class LIR_Assembler;
  class LIR_OprDesc;
  typedef LIR_OprDesc* LIR_Opr;
  class StubAssembler;
  class ZLoadBarrierStubC1;
  #endif // COMPILER1
  
<span class="line-modified">! class ZBarrierSetAssembler : public ZBarrierSetAssemblerBase {</span>
<span class="line-modified">! private:</span>
<span class="line-modified">!   address _load_barrier_slow_stub[RegisterImpl::number_of_registers];</span>
<span class="line-modified">!   address _load_barrier_weak_slow_stub[RegisterImpl::number_of_registers];</span>
  
  public:
<span class="line-removed">-   ZBarrierSetAssembler();</span>
<span class="line-removed">- </span>
    virtual void load_at(MacroAssembler* masm,
                         DecoratorSet decorators,
                         BasicType type,
                         Register dst,
                         Address src,
<span class="line-new-header">--- 22,33 ---</span>
   */
  
  #ifndef CPU_X86_GC_Z_ZBARRIERSETASSEMBLER_X86_HPP
  #define CPU_X86_GC_Z_ZBARRIERSETASSEMBLER_X86_HPP
  
<span class="line-added">+ #include &quot;code/vmreg.hpp&quot;</span>
<span class="line-added">+ #include &quot;oops/accessDecorators.hpp&quot;</span>
<span class="line-added">+ #ifdef COMPILER2</span>
<span class="line-added">+ #include &quot;opto/optoreg.hpp&quot;</span>
<span class="line-added">+ #endif // COMPILER2</span>
<span class="line-added">+ </span>
<span class="line-added">+ class MacroAssembler;</span>
<span class="line-added">+ </span>
  #ifdef COMPILER1
  class LIR_Assembler;
  class LIR_OprDesc;
  typedef LIR_OprDesc* LIR_Opr;
  class StubAssembler;
  class ZLoadBarrierStubC1;
  #endif // COMPILER1
  
<span class="line-modified">! #ifdef COMPILER2</span>
<span class="line-modified">! class Node;</span>
<span class="line-modified">! class ZLoadBarrierStubC2;</span>
<span class="line-modified">! #endif // COMPILER2</span>
  
<span class="line-added">+ class ZBarrierSetAssembler : public ZBarrierSetAssemblerBase {</span>
  public:
    virtual void load_at(MacroAssembler* masm,
                         DecoratorSet decorators,
                         BasicType type,
                         Register dst,
                         Address src,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 80,12 ***</span>
  
    void generate_c1_load_barrier_runtime_stub(StubAssembler* sasm,
                                               DecoratorSet decorators) const;
  #endif // COMPILER1
  
<span class="line-modified">!   virtual void barrier_stubs_init();</span>
  
<span class="line-modified">!   address load_barrier_slow_stub(Register reg);</span>
<span class="line-modified">!   address load_barrier_weak_slow_stub(Register reg);</span>
  };
  
  #endif // CPU_X86_GC_Z_ZBARRIERSETASSEMBLER_X86_HPP
<span class="line-new-header">--- 87,15 ---</span>
  
    void generate_c1_load_barrier_runtime_stub(StubAssembler* sasm,
                                               DecoratorSet decorators) const;
  #endif // COMPILER1
  
<span class="line-modified">! #ifdef COMPILER2</span>
<span class="line-added">+   OptoReg::Name refine_register(const Node* node,</span>
<span class="line-added">+                                 OptoReg::Name opto_reg);</span>
  
<span class="line-modified">!   void generate_c2_load_barrier_stub(MacroAssembler* masm,</span>
<span class="line-modified">!                                      ZLoadBarrierStubC2* stub) const;</span>
<span class="line-added">+ #endif // COMPILER2</span>
  };
  
  #endif // CPU_X86_GC_Z_ZBARRIERSETASSEMBLER_X86_HPP
</pre>
<center><a href="zBarrierSetAssembler_x86.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="z_x86_64.ad.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>