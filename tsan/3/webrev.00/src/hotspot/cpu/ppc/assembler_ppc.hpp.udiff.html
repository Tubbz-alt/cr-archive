<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/hotspot/cpu/ppc/assembler_ppc.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="assembler_ppc.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="assembler_ppc.inline.hpp.udiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/cpu/ppc/assembler_ppc.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -442,10 +442,13 @@</span>
      FADDS_OPCODE  = (59u &lt;&lt; OPCODE_SHIFT |  21u &lt;&lt; 1),
      FCMPU_OPCODE  = (63u &lt;&lt; OPCODE_SHIFT |  00u &lt;&lt; 1),
      FDIV_OPCODE   = (63u &lt;&lt; OPCODE_SHIFT |  18u &lt;&lt; 1),
      FDIVS_OPCODE  = (59u &lt;&lt; OPCODE_SHIFT |  18u &lt;&lt; 1),
      FMR_OPCODE    = (63u &lt;&lt; OPCODE_SHIFT |  72u &lt;&lt; 1),
<span class="udiff-line-added">+     FRIN_OPCODE   = (63u &lt;&lt; OPCODE_SHIFT | 392u &lt;&lt; 1),</span>
<span class="udiff-line-added">+     FRIP_OPCODE   = (63u &lt;&lt; OPCODE_SHIFT | 456u &lt;&lt; 1),</span>
<span class="udiff-line-added">+     FRIM_OPCODE   = (63u &lt;&lt; OPCODE_SHIFT | 488u &lt;&lt; 1),</span>
      // These are special Power6 opcodes, reused for &quot;lfdepx&quot; and &quot;stfdepx&quot;
      // on Power7.  Do not use.
      // MFFGPR_OPCODE  = (31u &lt;&lt; OPCODE_SHIFT | 607u &lt;&lt; 1),
      // MFTGPR_OPCODE  = (31u &lt;&lt; OPCODE_SHIFT | 735u &lt;&lt; 1),
      CMPB_OPCODE    = (31u &lt;&lt; OPCODE_SHIFT |  508  &lt;&lt; 1),
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -543,10 +546,13 @@</span>
      XVMADDADP_OPCODE=(60u &lt;&lt; OPCODE_SHIFT |   97u &lt;&lt; 3),
      XVMSUBASP_OPCODE=(60u &lt;&lt; OPCODE_SHIFT |   81u &lt;&lt; 3),
      XVMSUBADP_OPCODE=(60u &lt;&lt; OPCODE_SHIFT |  113u &lt;&lt; 3),
      XVNMSUBASP_OPCODE=(60u&lt;&lt; OPCODE_SHIFT |  209u &lt;&lt; 3),
      XVNMSUBADP_OPCODE=(60u&lt;&lt; OPCODE_SHIFT |  241u &lt;&lt; 3),
<span class="udiff-line-added">+     XVRDPI_OPCODE  = (60u &lt;&lt; OPCODE_SHIFT |  201u &lt;&lt; 2),</span>
<span class="udiff-line-added">+     XVRDPIM_OPCODE = (60u &lt;&lt; OPCODE_SHIFT |  249u &lt;&lt; 2),</span>
<span class="udiff-line-added">+     XVRDPIP_OPCODE = (60u &lt;&lt; OPCODE_SHIFT |  233u &lt;&lt; 2),</span>
  
      // Deliver A Random Number (introduced with POWER9)
      DARN_OPCODE    = (31u &lt;&lt; OPCODE_SHIFT |  755u &lt;&lt; 1),
  
      // Vector Permute and Formatting
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -927,15 +933,17 @@</span>
   public:
    // Helper functions for groups of instructions
  
    enum Predict { pt = 1, pn = 0 }; // pt = predict taken
  
<span class="udiff-line-modified-removed">-   // Instruction must start at passed address.</span>
<span class="udiff-line-modified-removed">-   static int instr_len(unsigned char *instr) { return BytesPerInstWord; }</span>
<span class="udiff-line-modified-added">+   //---&lt;  calculate length of instruction  &gt;---</span>
<span class="udiff-line-modified-added">+   // With PPC64 being a RISC architecture, this always is BytesPerInstWord</span>
<span class="udiff-line-added">+   // instruction must start at passed address</span>
<span class="udiff-line-added">+   static unsigned int instr_len(unsigned char *instr) { return BytesPerInstWord; }</span>
  
<span class="udiff-line-modified-removed">-   // longest instructions</span>
<span class="udiff-line-modified-removed">-   static int instr_maxlen() { return BytesPerInstWord; }</span>
<span class="udiff-line-modified-added">+   //---&lt;  longest instructions  &gt;---</span>
<span class="udiff-line-modified-added">+   static unsigned int instr_maxlen() { return BytesPerInstWord; }</span>
  
    // Test if x is within signed immediate range for nbits.
    static bool is_simm(int x, unsigned int nbits) {
      assert(0 &lt; nbits &amp;&amp; nbits &lt; 32, &quot;out of bounds&quot;);
      const int   min      = -(((int)1) &lt;&lt; nbits-1);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1977,10 +1985,14 @@</span>
  
    // PPC 1, section 4.6.4 Floating-Point Move Instructions
    inline void fmr(  FloatRegister d, FloatRegister b);
    inline void fmr_( FloatRegister d, FloatRegister b);
  
<span class="udiff-line-added">+   inline void frin( FloatRegister d, FloatRegister b);</span>
<span class="udiff-line-added">+   inline void frip( FloatRegister d, FloatRegister b);</span>
<span class="udiff-line-added">+   inline void frim( FloatRegister d, FloatRegister b);</span>
<span class="udiff-line-added">+ </span>
    //  inline void mffgpr( FloatRegister d, Register b);
    //  inline void mftgpr( Register d, FloatRegister b);
    inline void cmpb(   Register a, Register s, Register b);
    inline void popcntb(Register a, Register s);
    inline void popcntw(Register a, Register s);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2237,10 +2249,13 @@</span>
    inline void xvmaddadp(VectorSRegister d, VectorSRegister a, VectorSRegister b);
    inline void xvmsubasp(VectorSRegister d, VectorSRegister a, VectorSRegister b);
    inline void xvmsubadp(VectorSRegister d, VectorSRegister a, VectorSRegister b);
    inline void xvnmsubasp(VectorSRegister d, VectorSRegister a, VectorSRegister b);
    inline void xvnmsubadp(VectorSRegister d, VectorSRegister a, VectorSRegister b);
<span class="udiff-line-added">+   inline void xvrdpi(   VectorSRegister d, VectorSRegister b);</span>
<span class="udiff-line-added">+   inline void xvrdpim(  VectorSRegister d, VectorSRegister b);</span>
<span class="udiff-line-added">+   inline void xvrdpip(  VectorSRegister d, VectorSRegister b);</span>
  
    // VSX Extended Mnemonics
    inline void xxspltd(  VectorSRegister d, VectorSRegister a, int x);
    inline void xxmrghd(  VectorSRegister d, VectorSRegister a, VectorSRegister b);
    inline void xxmrgld(  VectorSRegister d, VectorSRegister a, VectorSRegister b);
</pre>
<center><a href="assembler_ppc.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="assembler_ppc.inline.hpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>