<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/cpu/ppc/globals_ppc.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="globalDefinitions_ppc.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="interp_masm_ppc.hpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/cpu/ppc/globals_ppc.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2002, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * Copyright (c) 2012, 2018 SAP SE. All rights reserved.
  4  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  5  *
  6  * This code is free software; you can redistribute it and/or modify it
  7  * under the terms of the GNU General Public License version 2 only, as
  8  * published by the Free Software Foundation.
  9  *
 10  * This code is distributed in the hope that it will be useful, but WITHOUT
 11  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 12  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 13  * version 2 for more details (a copy is included in the LICENSE file that
 14  * accompanied this code).
 15  *
 16  * You should have received a copy of the GNU General Public License version
 17  * 2 along with this work; if not, write to the Free Software Foundation,
 18  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 19  *
 20  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 21  * or visit www.oracle.com if you need additional information or have any
 22  * questions.
 23  *
 24  */
 25 
 26 #ifndef CPU_PPC_GLOBALS_PPC_HPP
 27 #define CPU_PPC_GLOBALS_PPC_HPP
 28 
 29 #include &quot;utilities/globalDefinitions.hpp&quot;
 30 #include &quot;utilities/macros.hpp&quot;
 31 
 32 // Sets the default values for platform dependent flags used by the runtime system.
 33 // (see globals.hpp)
 34 
<span class="line-removed"> 35 define_pd_global(bool, ShareVtableStubs,      true);</span>
<span class="line-removed"> 36 define_pd_global(bool, NeedsDeoptSuspend,     false); // Only register window machines need this.</span>
<span class="line-removed"> 37 </span>
<span class="line-removed"> 38 </span>
 39 define_pd_global(bool, ImplicitNullChecks,    true);  // Generate code for implicit null checks.
 40 define_pd_global(bool, TrapBasedNullChecks,   true);
 41 define_pd_global(bool, UncommonNullCast,      true);  // Uncommon-trap NULLs passed to check cast.
 42 
 43 #define DEFAULT_STACK_YELLOW_PAGES (2)
 44 #define DEFAULT_STACK_RED_PAGES (1)
 45 // Java_java_net_SocketOutputStream_socketWrite0() uses a 64k buffer on the
 46 // stack if compiled for unix and LP64. To pass stack overflow tests we need
 47 // 20 shadow pages.
 48 #define DEFAULT_STACK_SHADOW_PAGES (20 DEBUG_ONLY(+2))
 49 #define DEFAULT_STACK_RESERVED_PAGES (1)
 50 
 51 #define MIN_STACK_YELLOW_PAGES DEFAULT_STACK_YELLOW_PAGES
 52 #define MIN_STACK_RED_PAGES DEFAULT_STACK_RED_PAGES
 53 #define MIN_STACK_SHADOW_PAGES (3 DEBUG_ONLY(+1))
 54 #define MIN_STACK_RESERVED_PAGES (0)
 55 
 56 define_pd_global(intx, StackYellowPages,      DEFAULT_STACK_YELLOW_PAGES);
 57 define_pd_global(intx, StackRedPages,         DEFAULT_STACK_RED_PAGES);
 58 define_pd_global(intx, StackShadowPages,      DEFAULT_STACK_SHADOW_PAGES);
 59 define_pd_global(intx, StackReservedPages,    DEFAULT_STACK_RESERVED_PAGES);
 60 
 61 // Use large code-entry alignment.
 62 define_pd_global(uintx, CodeCacheSegmentSize,  128);
 63 define_pd_global(intx,  CodeEntryAlignment,    128);
 64 define_pd_global(intx,  OptoLoopAlignment,     16);
 65 define_pd_global(intx,  InlineFrequencyCount,  100);
 66 define_pd_global(intx,  InlineSmallCode,       1500);
 67 
 68 // Flags for template interpreter.
 69 define_pd_global(bool, RewriteBytecodes,      true);
 70 define_pd_global(bool, RewriteFrequentPairs,  true);
 71 
 72 define_pd_global(bool, PreserveFramePointer,  false);
 73 
<span class="line-removed"> 74 // GC Ergo Flags</span>
<span class="line-removed"> 75 define_pd_global(size_t, CMSYoungGenPerWorker, 16*M);  // Default max size of CMS young gen, per GC worker thread.</span>
<span class="line-removed"> 76 </span>
 77 define_pd_global(uintx, TypeProfileLevel, 111);
 78 
 79 define_pd_global(bool, CompactStrings, true);
 80 
 81 // 2x unrolled loop is shorter with more than 9 HeapWords.
 82 define_pd_global(intx, InitArrayShortSize, 9*BytesPerLong);
 83 
<span class="line-removed"> 84 define_pd_global(bool, ThreadLocalHandshakes, true);</span>
<span class="line-removed"> 85 </span>
 86 // Platform dependent flag handling: flags only defined on this platform.
 87 #define ARCH_FLAGS(develop,      \
 88                    product,      \
 89                    diagnostic,   \
 90                    experimental, \
 91                    notproduct,   \
 92                    range,        \
<span class="line-modified"> 93                    constraint,   \</span>
<span class="line-removed"> 94                    writeable)    \</span>
 95                                                                             \
 96   product(uintx, PowerArchitecturePPC64, 0,                                 \
 97           &quot;CPU Version: x for PowerX. Currently recognizes Power5 to &quot;      \
 98           &quot;Power8. Default is 0. Newer CPUs will be recognized as Power8.&quot;) \
 99                                                                             \
100   product(bool, SuperwordUseVSX, false,                                     \
101           &quot;Use Power8 VSX instructions for superword optimization.&quot;)        \
102                                                                             \
103   /* Reoptimize code-sequences of calls at runtime, e.g. replace an */      \
104   /* indirect call by a direct call.                                */      \
105   product(bool, ReoptimizeCallSequences, true,                              \
106           &quot;Reoptimize code-sequences of calls at runtime.&quot;)                 \
107                                                                             \
108   /* Power 8: Configure Data Stream Control Register. */                    \
109   product(uint64_t,DSCR_PPC64, (uintx)-1,                                   \
110           &quot;Power8 or later: Specify encoded value for Data Stream Control &quot; \
111           &quot;Register&quot;)                                                       \
112   product(uint64_t,DSCR_DPFD_PPC64, 8,                                      \
113           &quot;Power8 or later: DPFD (default prefetch depth) value of the &quot;    \
114           &quot;Data Stream Control Register.&quot;                                   \
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2002, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3  * Copyright (c) 2012, 2018 SAP SE. All rights reserved.
  4  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  5  *
  6  * This code is free software; you can redistribute it and/or modify it
  7  * under the terms of the GNU General Public License version 2 only, as
  8  * published by the Free Software Foundation.
  9  *
 10  * This code is distributed in the hope that it will be useful, but WITHOUT
 11  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 12  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 13  * version 2 for more details (a copy is included in the LICENSE file that
 14  * accompanied this code).
 15  *
 16  * You should have received a copy of the GNU General Public License version
 17  * 2 along with this work; if not, write to the Free Software Foundation,
 18  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 19  *
 20  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 21  * or visit www.oracle.com if you need additional information or have any
 22  * questions.
 23  *
 24  */
 25 
 26 #ifndef CPU_PPC_GLOBALS_PPC_HPP
 27 #define CPU_PPC_GLOBALS_PPC_HPP
 28 
 29 #include &quot;utilities/globalDefinitions.hpp&quot;
 30 #include &quot;utilities/macros.hpp&quot;
 31 
 32 // Sets the default values for platform dependent flags used by the runtime system.
 33 // (see globals.hpp)
 34 




 35 define_pd_global(bool, ImplicitNullChecks,    true);  // Generate code for implicit null checks.
 36 define_pd_global(bool, TrapBasedNullChecks,   true);
 37 define_pd_global(bool, UncommonNullCast,      true);  // Uncommon-trap NULLs passed to check cast.
 38 
 39 #define DEFAULT_STACK_YELLOW_PAGES (2)
 40 #define DEFAULT_STACK_RED_PAGES (1)
 41 // Java_java_net_SocketOutputStream_socketWrite0() uses a 64k buffer on the
 42 // stack if compiled for unix and LP64. To pass stack overflow tests we need
 43 // 20 shadow pages.
 44 #define DEFAULT_STACK_SHADOW_PAGES (20 DEBUG_ONLY(+2))
 45 #define DEFAULT_STACK_RESERVED_PAGES (1)
 46 
 47 #define MIN_STACK_YELLOW_PAGES DEFAULT_STACK_YELLOW_PAGES
 48 #define MIN_STACK_RED_PAGES DEFAULT_STACK_RED_PAGES
 49 #define MIN_STACK_SHADOW_PAGES (3 DEBUG_ONLY(+1))
 50 #define MIN_STACK_RESERVED_PAGES (0)
 51 
 52 define_pd_global(intx, StackYellowPages,      DEFAULT_STACK_YELLOW_PAGES);
 53 define_pd_global(intx, StackRedPages,         DEFAULT_STACK_RED_PAGES);
 54 define_pd_global(intx, StackShadowPages,      DEFAULT_STACK_SHADOW_PAGES);
 55 define_pd_global(intx, StackReservedPages,    DEFAULT_STACK_RESERVED_PAGES);
 56 
 57 // Use large code-entry alignment.
 58 define_pd_global(uintx, CodeCacheSegmentSize,  128);
 59 define_pd_global(intx,  CodeEntryAlignment,    128);
 60 define_pd_global(intx,  OptoLoopAlignment,     16);
 61 define_pd_global(intx,  InlineFrequencyCount,  100);
 62 define_pd_global(intx,  InlineSmallCode,       1500);
 63 
 64 // Flags for template interpreter.
 65 define_pd_global(bool, RewriteBytecodes,      true);
 66 define_pd_global(bool, RewriteFrequentPairs,  true);
 67 
 68 define_pd_global(bool, PreserveFramePointer,  false);
 69 



 70 define_pd_global(uintx, TypeProfileLevel, 111);
 71 
 72 define_pd_global(bool, CompactStrings, true);
 73 
 74 // 2x unrolled loop is shorter with more than 9 HeapWords.
 75 define_pd_global(intx, InitArrayShortSize, 9*BytesPerLong);
 76 


 77 // Platform dependent flag handling: flags only defined on this platform.
 78 #define ARCH_FLAGS(develop,      \
 79                    product,      \
 80                    diagnostic,   \
 81                    experimental, \
 82                    notproduct,   \
 83                    range,        \
<span class="line-modified"> 84                    constraint)   \</span>

 85                                                                             \
 86   product(uintx, PowerArchitecturePPC64, 0,                                 \
 87           &quot;CPU Version: x for PowerX. Currently recognizes Power5 to &quot;      \
 88           &quot;Power8. Default is 0. Newer CPUs will be recognized as Power8.&quot;) \
 89                                                                             \
 90   product(bool, SuperwordUseVSX, false,                                     \
 91           &quot;Use Power8 VSX instructions for superword optimization.&quot;)        \
 92                                                                             \
 93   /* Reoptimize code-sequences of calls at runtime, e.g. replace an */      \
 94   /* indirect call by a direct call.                                */      \
 95   product(bool, ReoptimizeCallSequences, true,                              \
 96           &quot;Reoptimize code-sequences of calls at runtime.&quot;)                 \
 97                                                                             \
 98   /* Power 8: Configure Data Stream Control Register. */                    \
 99   product(uint64_t,DSCR_PPC64, (uintx)-1,                                   \
100           &quot;Power8 or later: Specify encoded value for Data Stream Control &quot; \
101           &quot;Register&quot;)                                                       \
102   product(uint64_t,DSCR_DPFD_PPC64, 8,                                      \
103           &quot;Power8 or later: DPFD (default prefetch depth) value of the &quot;    \
104           &quot;Data Stream Control Register.&quot;                                   \
</pre>
</td>
</tr>
</table>
<center><a href="globalDefinitions_ppc.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="interp_masm_ppc.hpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>