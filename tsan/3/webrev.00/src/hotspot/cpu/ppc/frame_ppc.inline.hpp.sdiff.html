<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/cpu/ppc/frame_ppc.inline.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="frame_ppc.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="gc/g1/g1BarrierSetAssembler_ppc.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/cpu/ppc/frame_ppc.inline.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
113 }
114 
115 // All frames have this field.
116 inline intptr_t* frame::link() const {
117   return (intptr_t*)callers_abi()-&gt;callers_sp;
118 }
119 
120 inline intptr_t* frame::real_fp() const {
121   return fp();
122 }
123 
124 // Template Interpreter frame value accessors.
125 
126 inline frame::ijava_state* frame::get_ijava_state() const {
127   return (ijava_state*) ((uintptr_t)fp() - ijava_state_size);
128 }
129 
130 inline intptr_t** frame::interpreter_frame_locals_addr() const {
131   return (intptr_t**) &amp;(get_ijava_state()-&gt;locals);
132 }

133 inline intptr_t* frame::interpreter_frame_bcp_addr() const {
134   return (intptr_t*) &amp;(get_ijava_state()-&gt;bcp);
135 }

136 inline intptr_t* frame::interpreter_frame_mdp_addr() const {
137   return (intptr_t*) &amp;(get_ijava_state()-&gt;mdx);
138 }

139 // Pointer beyond the &quot;oldest/deepest&quot; BasicObjectLock on stack.
140 inline BasicObjectLock* frame::interpreter_frame_monitor_end() const {
<span class="line-modified">141   return (BasicObjectLock *) get_ijava_state()-&gt;monitors;</span>
142 }
143 
144 inline BasicObjectLock* frame::interpreter_frame_monitor_begin() const {
<span class="line-modified">145   return (BasicObjectLock *) get_ijava_state();</span>
146 }
147 
148 // Return register stack slot addr at which currently interpreted method is found.
149 inline Method** frame::interpreter_frame_method_addr() const {
150   return (Method**) &amp;(get_ijava_state()-&gt;method);
151 }
152 
153 inline oop* frame::interpreter_frame_mirror_addr() const {
154   return (oop*) &amp;(get_ijava_state()-&gt;mirror);
155 }
156 
<span class="line-removed">157 inline ConstantPoolCache** frame::interpreter_frame_cpoolcache_addr() const {</span>
<span class="line-removed">158   return (ConstantPoolCache**) &amp;(get_ijava_state()-&gt;cpoolCache);</span>
<span class="line-removed">159 }</span>
160 inline ConstantPoolCache** frame::interpreter_frame_cache_addr() const {
161   return (ConstantPoolCache**) &amp;(get_ijava_state()-&gt;cpoolCache);
162 }
163 
164 inline oop* frame::interpreter_frame_temp_oop_addr() const {
<span class="line-modified">165   return (oop *) &amp;(get_ijava_state()-&gt;oop_tmp);</span>
166 }

167 inline intptr_t* frame::interpreter_frame_esp() const {
168   return (intptr_t*) get_ijava_state()-&gt;esp;
169 }
170 
171 // Convenient setters
172 inline void frame::interpreter_frame_set_monitor_end(BasicObjectLock* end)    { get_ijava_state()-&gt;monitors = (intptr_t) end;}
<span class="line-modified">173 inline void frame::interpreter_frame_set_cpcache(ConstantPoolCache* cp)       { *frame::interpreter_frame_cpoolcache_addr() = cp; }</span>
174 inline void frame::interpreter_frame_set_esp(intptr_t* esp)                   { get_ijava_state()-&gt;esp = (intptr_t) esp; }
175 inline void frame::interpreter_frame_set_top_frame_sp(intptr_t* top_frame_sp) { get_ijava_state()-&gt;top_frame_sp = (intptr_t) top_frame_sp; }
176 inline void frame::interpreter_frame_set_sender_sp(intptr_t* sender_sp)       { get_ijava_state()-&gt;sender_sp = (intptr_t) sender_sp; }
177 
178 inline intptr_t* frame::interpreter_frame_expression_stack() const {
179   return (intptr_t*)interpreter_frame_monitor_end() - 1;
180 }
181 
182 // top of expression stack
183 inline intptr_t* frame::interpreter_frame_tos_address() const {
184   return ((intptr_t*) get_ijava_state()-&gt;esp) + Interpreter::stackElementWords;
185 }
186 
187 inline intptr_t* frame::interpreter_frame_tos_at(jint offset) const {
188   return &amp;interpreter_frame_tos_address()[offset];
189 }
190 
191 inline int frame::interpreter_frame_monitor_size() {
192   // Number of stack slots for a monitor.
193   return align_up(BasicObjectLock::size(),  // number of stack slots
</pre>
</td>
<td>
<hr />
<pre>
113 }
114 
115 // All frames have this field.
116 inline intptr_t* frame::link() const {
117   return (intptr_t*)callers_abi()-&gt;callers_sp;
118 }
119 
120 inline intptr_t* frame::real_fp() const {
121   return fp();
122 }
123 
124 // Template Interpreter frame value accessors.
125 
126 inline frame::ijava_state* frame::get_ijava_state() const {
127   return (ijava_state*) ((uintptr_t)fp() - ijava_state_size);
128 }
129 
130 inline intptr_t** frame::interpreter_frame_locals_addr() const {
131   return (intptr_t**) &amp;(get_ijava_state()-&gt;locals);
132 }
<span class="line-added">133 </span>
134 inline intptr_t* frame::interpreter_frame_bcp_addr() const {
135   return (intptr_t*) &amp;(get_ijava_state()-&gt;bcp);
136 }
<span class="line-added">137 </span>
138 inline intptr_t* frame::interpreter_frame_mdp_addr() const {
139   return (intptr_t*) &amp;(get_ijava_state()-&gt;mdx);
140 }
<span class="line-added">141 </span>
142 // Pointer beyond the &quot;oldest/deepest&quot; BasicObjectLock on stack.
143 inline BasicObjectLock* frame::interpreter_frame_monitor_end() const {
<span class="line-modified">144   return (BasicObjectLock*) get_ijava_state()-&gt;monitors;</span>
145 }
146 
147 inline BasicObjectLock* frame::interpreter_frame_monitor_begin() const {
<span class="line-modified">148   return (BasicObjectLock*) get_ijava_state();</span>
149 }
150 
151 // Return register stack slot addr at which currently interpreted method is found.
152 inline Method** frame::interpreter_frame_method_addr() const {
153   return (Method**) &amp;(get_ijava_state()-&gt;method);
154 }
155 
156 inline oop* frame::interpreter_frame_mirror_addr() const {
157   return (oop*) &amp;(get_ijava_state()-&gt;mirror);
158 }
159 



160 inline ConstantPoolCache** frame::interpreter_frame_cache_addr() const {
161   return (ConstantPoolCache**) &amp;(get_ijava_state()-&gt;cpoolCache);
162 }
163 
164 inline oop* frame::interpreter_frame_temp_oop_addr() const {
<span class="line-modified">165   return (oop*) &amp;(get_ijava_state()-&gt;oop_tmp);</span>
166 }
<span class="line-added">167 </span>
168 inline intptr_t* frame::interpreter_frame_esp() const {
169   return (intptr_t*) get_ijava_state()-&gt;esp;
170 }
171 
172 // Convenient setters
173 inline void frame::interpreter_frame_set_monitor_end(BasicObjectLock* end)    { get_ijava_state()-&gt;monitors = (intptr_t) end;}
<span class="line-modified">174 inline void frame::interpreter_frame_set_cpcache(ConstantPoolCache* cp)       { *interpreter_frame_cache_addr() = cp; }</span>
175 inline void frame::interpreter_frame_set_esp(intptr_t* esp)                   { get_ijava_state()-&gt;esp = (intptr_t) esp; }
176 inline void frame::interpreter_frame_set_top_frame_sp(intptr_t* top_frame_sp) { get_ijava_state()-&gt;top_frame_sp = (intptr_t) top_frame_sp; }
177 inline void frame::interpreter_frame_set_sender_sp(intptr_t* sender_sp)       { get_ijava_state()-&gt;sender_sp = (intptr_t) sender_sp; }
178 
179 inline intptr_t* frame::interpreter_frame_expression_stack() const {
180   return (intptr_t*)interpreter_frame_monitor_end() - 1;
181 }
182 
183 // top of expression stack
184 inline intptr_t* frame::interpreter_frame_tos_address() const {
185   return ((intptr_t*) get_ijava_state()-&gt;esp) + Interpreter::stackElementWords;
186 }
187 
188 inline intptr_t* frame::interpreter_frame_tos_at(jint offset) const {
189   return &amp;interpreter_frame_tos_address()[offset];
190 }
191 
192 inline int frame::interpreter_frame_monitor_size() {
193   // Number of stack slots for a monitor.
194   return align_up(BasicObjectLock::size(),  // number of stack slots
</pre>
</td>
</tr>
</table>
<center><a href="frame_ppc.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="gc/g1/g1BarrierSetAssembler_ppc.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>