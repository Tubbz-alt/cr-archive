<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/cpu/aarch64/macroAssembler_aarch64_log.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="macroAssembler_aarch64.hpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="macroAssembler_aarch64_trig.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/cpu/aarch64/macroAssembler_aarch64_log.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 284,11 ***</span>
    bind(CHECKED_CORNER_CASES);
      // all corner cases are handled
      frecpe(vtmp5, vtmp5, S);                   // vtmp5 ~= 1/vtmp5
      lsr(tmp2, rscratch1, 48);
      movz(tmp4, 0x77f0, 48);
<span class="line-modified">!     fmovd(vtmp4, 1.0d);</span>
      movz(tmp1, INF_OR_NAN_PREFIX, 48);
      bfm(tmp4, rscratch1, 0, 51);               // tmp4 = 0x77F0 &lt;&lt; 48 | mantissa(X)
      // vtmp1 = AS_DOUBLE_BITS(0x77F0 &lt;&lt; 48 | mantissa(X)) == mx
      fmovd(vtmp1, tmp4);
      subw(tmp2, tmp2, 16);
<span class="line-new-header">--- 284,11 ---</span>
    bind(CHECKED_CORNER_CASES);
      // all corner cases are handled
      frecpe(vtmp5, vtmp5, S);                   // vtmp5 ~= 1/vtmp5
      lsr(tmp2, rscratch1, 48);
      movz(tmp4, 0x77f0, 48);
<span class="line-modified">!     fmovd(vtmp4, 1.0);</span>
      movz(tmp1, INF_OR_NAN_PREFIX, 48);
      bfm(tmp4, rscratch1, 0, 51);               // tmp4 = 0x77F0 &lt;&lt; 48 | mantissa(X)
      // vtmp1 = AS_DOUBLE_BITS(0x77F0 &lt;&lt; 48 | mantissa(X)) == mx
      fmovd(vtmp1, tmp4);
      subw(tmp2, tmp2, 16);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 356,10 ***</span>
        br(LE, RETURN_MINF_OR_NAN);
        cmp(rscratch1, tmp1);
        br(GE, DONE);
        cmp(rscratch1, tmp2);
        br(NE, CHECKED_CORNER_CASES);
<span class="line-modified">!       fmovd(v0, 0.0d);</span>
    }
    bind(DONE);
      ret(lr);
  }
<span class="line-new-header">--- 356,10 ---</span>
        br(LE, RETURN_MINF_OR_NAN);
        cmp(rscratch1, tmp1);
        br(GE, DONE);
        cmp(rscratch1, tmp2);
        br(NE, CHECKED_CORNER_CASES);
<span class="line-modified">!       fmovd(v0, 0.0);</span>
    }
    bind(DONE);
      ret(lr);
  }
</pre>
<center><a href="macroAssembler_aarch64.hpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="macroAssembler_aarch64_trig.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>