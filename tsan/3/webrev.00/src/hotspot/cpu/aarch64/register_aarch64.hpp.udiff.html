<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/hotspot/cpu/aarch64/register_aarch64.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="register_aarch64.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="sharedRuntime_aarch64.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/cpu/aarch64/register_aarch64.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -42,11 +42,12 @@</span>
  class RegisterImpl: public AbstractRegisterImpl {
   public:
    enum {
      number_of_registers         =   32,
      number_of_byte_registers      = 32,
<span class="udiff-line-modified-removed">-     number_of_registers_for_jvmci = 34   // Including SP and ZR.</span>
<span class="udiff-line-modified-added">+     number_of_registers_for_jvmci = 34,  // Including SP and ZR.</span>
<span class="udiff-line-added">+     max_slots_per_register = 2</span>
    };
  
    // derived registers, offsets, and addresses
    Register successor() const                          { return as_Register(encoding() + 1); }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -125,20 +126,23 @@</span>
  
  // The implementation of floating point registers for the architecture
  class FloatRegisterImpl: public AbstractRegisterImpl {
   public:
    enum {
<span class="udiff-line-modified-removed">-     number_of_registers = 32</span>
<span class="udiff-line-modified-added">+     number_of_registers = 32,</span>
<span class="udiff-line-added">+     max_slots_per_register = 4,</span>
<span class="udiff-line-added">+     save_slots_per_register = 2,</span>
<span class="udiff-line-added">+     extra_save_slots_per_register = max_slots_per_register - save_slots_per_register</span>
    };
  
    // construction
    inline friend FloatRegister as_FloatRegister(int encoding);
  
    VMReg as_VMReg();
  
    // derived registers, offsets, and addresses
<span class="udiff-line-modified-removed">-   FloatRegister successor() const                          { return as_FloatRegister(encoding() + 1); }</span>
<span class="udiff-line-modified-added">+   FloatRegister successor() const                          { return as_FloatRegister((encoding() + 1) % 32); }</span>
  
    // accessors
    int   encoding() const                          { assert(is_valid(), &quot;invalid register&quot;); return (intptr_t)this; }
    int   encoding_nocheck() const                         { return (intptr_t)this; }
    bool  is_valid() const                          { return 0 &lt;= (intptr_t)this &amp;&amp; (intptr_t)this &lt; number_of_registers; }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -191,12 +195,12 @@</span>
    // A big enough number for C2: all the registers plus flags
    // This number must be large enough to cover REG_COUNT (defined by c2) registers.
    // There is no requirement that any ordering here matches any ordering c2 gives
    // it&#39;s optoregs.
  
<span class="udiff-line-modified-removed">-     number_of_registers = (2 * RegisterImpl::number_of_registers +</span>
<span class="udiff-line-modified-removed">-                            4 * FloatRegisterImpl::number_of_registers +</span>
<span class="udiff-line-modified-added">+     number_of_registers = (RegisterImpl::max_slots_per_register * RegisterImpl::number_of_registers +</span>
<span class="udiff-line-modified-added">+                            FloatRegisterImpl::max_slots_per_register * FloatRegisterImpl::number_of_registers +</span>
                             1) // flags
    };
  
    // added to make it compile
    static const int max_gpr;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -228,10 +232,15 @@</span>
    RegSet &amp;operator+=(const RegSet aSet) {
      *this = *this + aSet;
      return *this;
    }
  
<span class="udiff-line-added">+   RegSet &amp;operator-=(const RegSet aSet) {</span>
<span class="udiff-line-added">+     *this = *this - aSet;</span>
<span class="udiff-line-added">+     return *this;</span>
<span class="udiff-line-added">+   }</span>
<span class="udiff-line-added">+ </span>
    static RegSet of(Register r1) {
      return RegSet(r1);
    }
  
    static RegSet of(Register r1, Register r2) {
</pre>
<center><a href="register_aarch64.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="sharedRuntime_aarch64.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>