<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/hotspot/os_cpu/solaris_x86/solaris_x86_64.il</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="os_solaris_x86.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="vm_version_solaris_x86.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/os_cpu/solaris_x86/solaris_x86_64.il</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -47,59 +47,63 @@</span>
        rdtsc
        salq     $32, %rdx
        orq      %rdx, %rax
        .end
  
<span class="udiff-line-modified-removed">-   // Support for jint Atomic::add(jint add_value, volatile jint* dest)</span>
<span class="udiff-line-modified-added">+   // Implementation of jint _Atomic_add(jint add_value, volatile jint* dest)</span>
<span class="udiff-line-added">+   // used by Atomic::add(volatile jint* dest, jint add_value)</span>
        .inline _Atomic_add,2
        movl     %edi, %eax      // save add_value for return
        lock
        xaddl    %edi, (%rsi)
        addl     %edi, %eax
        .end
  
<span class="udiff-line-modified-removed">-   // Support for jlong Atomic::add(jlong add_value, volatile jlong* dest)</span>
<span class="udiff-line-modified-added">+   // Implementation of jlong _Atomic_add(jlong add_value, volatile jlong* dest)</span>
<span class="udiff-line-added">+   // used by Atomic::add(volatile jlong* dest, jint add_value)</span>
        .inline _Atomic_add_long,2
        movq     %rdi, %rax      // save add_value for return
        lock
        xaddq    %rdi, (%rsi)
        addq     %rdi, %rax
        .end
  
<span class="udiff-line-modified-removed">-   // Support for jint Atomic::xchg(jint exchange_value, volatile jint* dest).</span>
<span class="udiff-line-modified-added">+   // Implementation of jint _Atomic_xchg(jint exchange_value, volatile jint* dest)</span>
<span class="udiff-line-added">+   // used by Atomic::xchg(volatile jint* dest, jint exchange_value)</span>
        .inline _Atomic_xchg,2
        xchgl    (%rsi), %edi
        movl     %edi, %eax
        .end
  
<span class="udiff-line-modified-removed">-   // Support for jlong Atomic::xchg(jlong exchange_value, volatile jlong* dest).</span>
<span class="udiff-line-modified-added">+   // Implementation of jlong _Atomic_xchg(jlong exchange_value, volatile jlong* dest)</span>
<span class="udiff-line-added">+   // used by Atomic::xchg(volatile jlong* dest, jlong exchange_value)</span>
        .inline _Atomic_xchg_long,2
        xchgq    (%rsi), %rdi
        movq     %rdi, %rax
        .end
  
<span class="udiff-line-modified-removed">-   // Support for jbyte Atomic::cmpxchg(jbyte exchange_value,</span>
<span class="udiff-line-modified-removed">-   //                                   volatile jbyte *dest,</span>
<span class="udiff-line-modified-removed">-   //                                   jbyte compare_value)</span>
<span class="udiff-line-modified-added">+   // Support for jbyte Atomic::cmpxchg(volatile jbyte *dest,</span>
<span class="udiff-line-modified-added">+   //                                   jbyte compare_value,</span>
<span class="udiff-line-modified-added">+   //                                   jbyte exchange_value)</span>
        .inline _Atomic_cmpxchg_byte,3
        movb     %dl, %al      // compare_value
        lock
        cmpxchgb %dil, (%rsi)
        .end
  
<span class="udiff-line-modified-removed">-   // Support for jint Atomic::cmpxchg(jint exchange_value,</span>
<span class="udiff-line-modified-removed">-   //                                  volatile jint *dest,</span>
<span class="udiff-line-modified-removed">-   //                                  jint compare_value)</span>
<span class="udiff-line-modified-added">+   // Support for jint Atomic::cmpxchg(volatile jint *dest,</span>
<span class="udiff-line-modified-added">+   //                                  int compare_value,</span>
<span class="udiff-line-modified-added">+   //                                  jint exchange_value)</span>
        .inline _Atomic_cmpxchg,3
        movl     %edx, %eax      // compare_value
        lock
        cmpxchgl %edi, (%rsi)
        .end
  
<span class="udiff-line-modified-removed">-   // Support for jlong Atomic::cmpxchg(jlong exchange_value,</span>
<span class="udiff-line-modified-removed">-   //                                   volatile jlong* dest,</span>
<span class="udiff-line-modified-removed">-   //                                   jlong compare_value)</span>
<span class="udiff-line-modified-added">+   // Support for jlong Atomic::cmpxchg(volatile jlong* dest,</span>
<span class="udiff-line-modified-added">+   //                                   jlong compare_value,</span>
<span class="udiff-line-modified-added">+   //                                   jlong exchange_value)</span>
        .inline _Atomic_cmpxchg_long,3
        movq     %rdx, %rax      // compare_value
        lock
        cmpxchgq %rdi, (%rsi)
        .end
</pre>
<center><a href="os_solaris_x86.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="vm_version_solaris_x86.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>