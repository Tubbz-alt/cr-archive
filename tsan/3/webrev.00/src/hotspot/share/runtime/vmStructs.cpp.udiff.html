<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/hotspot/share/runtime/vmStructs.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="vmOperations.hpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="vmStructs.hpp.udiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/runtime/vmStructs.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 2000, 2019, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -68,11 +68,11 @@</span>
  #include &quot;oops/instanceClassLoaderKlass.hpp&quot;
  #include &quot;oops/instanceKlass.hpp&quot;
  #include &quot;oops/instanceMirrorKlass.hpp&quot;
  #include &quot;oops/instanceOop.hpp&quot;
  #include &quot;oops/klass.hpp&quot;
<span class="udiff-line-modified-removed">- #include &quot;oops/markOop.hpp&quot;</span>
<span class="udiff-line-modified-added">+ #include &quot;oops/markWord.hpp&quot;</span>
  #include &quot;oops/method.hpp&quot;
  #include &quot;oops/methodCounters.hpp&quot;
  #include &quot;oops/methodData.hpp&quot;
  #include &quot;oops/objArrayKlass.hpp&quot;
  #include &quot;oops/objArrayOop.hpp&quot;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -86,16 +86,18 @@</span>
  #include &quot;runtime/deoptimization.hpp&quot;
  #include &quot;runtime/flags/jvmFlag.hpp&quot;
  #include &quot;runtime/globals.hpp&quot;
  #include &quot;runtime/java.hpp&quot;
  #include &quot;runtime/javaCalls.hpp&quot;
<span class="udiff-line-added">+ #include &quot;runtime/notificationThread.hpp&quot;</span>
  #include &quot;runtime/os.hpp&quot;
  #include &quot;runtime/perfMemory.hpp&quot;
  #include &quot;runtime/serviceThread.hpp&quot;
  #include &quot;runtime/sharedRuntime.hpp&quot;
  #include &quot;runtime/stubRoutines.hpp&quot;
  #include &quot;runtime/thread.inline.hpp&quot;
<span class="udiff-line-added">+ #include &quot;runtime/threadSMR.hpp&quot;</span>
  #include &quot;runtime/vframeArray.hpp&quot;
  #include &quot;runtime/vmStructs.hpp&quot;
  #include &quot;utilities/globalDefinitions.hpp&quot;
  #include &quot;utilities/hashtable.hpp&quot;
  #include &quot;utilities/macros.hpp&quot;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -164,12 +166,10 @@</span>
  typedef HashtableEntry&lt;intptr_t, mtInternal&gt;  IntptrHashtableEntry;
  typedef Hashtable&lt;intptr_t, mtInternal&gt;       IntptrHashtable;
  typedef Hashtable&lt;InstanceKlass*, mtClass&gt;       KlassHashtable;
  typedef HashtableEntry&lt;InstanceKlass*, mtClass&gt;  KlassHashtableEntry;
  
<span class="udiff-line-removed">- typedef PaddedEnd&lt;ObjectMonitor&gt;              PaddedObjectMonitor;</span>
<span class="udiff-line-removed">- </span>
  //--------------------------------------------------------------------------------
  // VM_STRUCTS
  //
  // This list enumerates all of the fields the serviceability agent
  // needs to know about. Be sure to see also the type table below this one.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -198,11 +198,11 @@</span>
                                                                                                                                       \
    /******************************************************************/                                                               \
    /* OopDesc and Klass hierarchies (NOTE: MethodData* incomplete)   */                                                               \
    /******************************************************************/                                                               \
                                                                                                                                       \
<span class="udiff-line-modified-removed">-   volatile_nonstatic_field(oopDesc,            _mark,                                         markOop)                               \</span>
<span class="udiff-line-modified-added">+   volatile_nonstatic_field(oopDesc,            _mark,                                         markWord)                              \</span>
    volatile_nonstatic_field(oopDesc,            _metadata._klass,                              Klass*)                                \
    volatile_nonstatic_field(oopDesc,            _metadata._compressed_klass,                   narrowKlass)                           \
    static_field(BarrierSet,                     _barrier_set,                                  BarrierSet*)                           \
    nonstatic_field(ArrayKlass,                  _dimension,                                    int)                                   \
    volatile_nonstatic_field(ArrayKlass,         _higher_dimension,                             Klass*)                                \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -233,11 +233,11 @@</span>
    nonstatic_field(InstanceKlass,               _nonstatic_field_size,                         int)                                   \
    nonstatic_field(InstanceKlass,               _static_field_size,                            int)                                   \
    nonstatic_field(InstanceKlass,               _static_oop_field_count,                       u2)                                    \
    nonstatic_field(InstanceKlass,               _nonstatic_oop_map_size,                       int)                                   \
    nonstatic_field(InstanceKlass,               _is_marked_dependent,                          bool)                                  \
<span class="udiff-line-modified-removed">-   nonstatic_field(InstanceKlass,               _misc_flags,                                   u2)                                    \</span>
<span class="udiff-line-modified-added">+   nonstatic_field(InstanceKlass,               _misc_flags,                                   u4)                                    \</span>
    nonstatic_field(InstanceKlass,               _minor_version,                                u2)                                    \
    nonstatic_field(InstanceKlass,               _major_version,                                u2)                                    \
    nonstatic_field(InstanceKlass,               _init_state,                                   u1)                                    \
    nonstatic_field(InstanceKlass,               _init_thread,                                  Thread*)                               \
    nonstatic_field(InstanceKlass,               _itable_len,                                   int)                                   \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -261,11 +261,11 @@</span>
    nonstatic_field(Klass,                       _super,                                        Klass*)                                \
    volatile_nonstatic_field(Klass,              _subklass,                                     Klass*)                                 \
    nonstatic_field(Klass,                       _layout_helper,                                jint)                                  \
    nonstatic_field(Klass,                       _name,                                         Symbol*)                               \
    nonstatic_field(Klass,                       _access_flags,                                 AccessFlags)                           \
<span class="udiff-line-modified-removed">-   nonstatic_field(Klass,                       _prototype_header,                             markOop)                               \</span>
<span class="udiff-line-modified-added">+   nonstatic_field(Klass,                       _prototype_header,                             markWord)                              \</span>
    volatile_nonstatic_field(Klass,              _next_sibling,                                 Klass*)                                \
    nonstatic_field(Klass,                       _next_link,                                    Klass*)                                \
    nonstatic_field(Klass,                       _vtable_len,                                   int)                                   \
    nonstatic_field(Klass,                       _class_loader_data,                            ClassLoaderData*)                      \
    nonstatic_field(vtableEntry,                 _method,                                       Method*)                               \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -368,10 +368,11 @@</span>
    /***********/                                                                                                                      \
                                                                                                                                       \
    nonstatic_field(JNIid,                       _holder,                                       Klass*)                                \
    nonstatic_field(JNIid,                       _next,                                         JNIid*)                                \
    nonstatic_field(JNIid,                       _offset,                                       int)                                   \
<span class="udiff-line-added">+                                                                                                                                      \</span>
    /************/                                                                                                                     \
    /* Universe */                                                                                                                     \
    /************/                                                                                                                     \
                                                                                                                                       \
       static_field(Universe,                    _mirrors[0],                                   oop)                                   \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -387,15 +388,25 @@</span>
       static_field(Universe,                    _fully_initialized,                            bool)                                  \
       static_field(Universe,                    _verify_count,                                 int)                                   \
       static_field(Universe,                    _verify_oop_mask,                              uintptr_t)                             \
       static_field(Universe,                    _verify_oop_bits,                              uintptr_t)                             \
       static_field(Universe,                    _non_oop_bits,                                 intptr_t)                              \
<span class="udiff-line-modified-removed">-      static_field(Universe,                    _narrow_oop._base,                             address)                               \</span>
<span class="udiff-line-modified-removed">-      static_field(Universe,                    _narrow_oop._shift,                            int)                                   \</span>
<span class="udiff-line-modified-removed">-      static_field(Universe,                    _narrow_oop._use_implicit_null_checks,         bool)                                  \</span>
<span class="udiff-line-modified-removed">-      static_field(Universe,                    _narrow_klass._base,                           address)                               \</span>
<span class="udiff-line-modified-removed">-      static_field(Universe,                    _narrow_klass._shift,                          int)                                   \</span>
<span class="udiff-line-modified-added">+                                                                                                                                      \</span>
<span class="udiff-line-modified-added">+   /******************/                                                                                                               \</span>
<span class="udiff-line-modified-added">+   /* CompressedOops */                                                                                                               \</span>
<span class="udiff-line-modified-added">+   /******************/                                                                                                               \</span>
<span class="udiff-line-modified-added">+                                                                                                                                      \</span>
<span class="udiff-line-added">+      static_field(CompressedOops,              _narrow_oop._base,                             address)                               \</span>
<span class="udiff-line-added">+      static_field(CompressedOops,              _narrow_oop._shift,                            int)                                   \</span>
<span class="udiff-line-added">+      static_field(CompressedOops,              _narrow_oop._use_implicit_null_checks,         bool)                                  \</span>
<span class="udiff-line-added">+                                                                                                                                      \</span>
<span class="udiff-line-added">+   /***************************/                                                                                                      \</span>
<span class="udiff-line-added">+   /* CompressedKlassPointers */                                                                                                      \</span>
<span class="udiff-line-added">+   /***************************/                                                                                                      \</span>
<span class="udiff-line-added">+                                                                                                                                      \</span>
<span class="udiff-line-added">+      static_field(CompressedKlassPointers,     _narrow_klass._base,                           address)                               \</span>
<span class="udiff-line-added">+      static_field(CompressedKlassPointers,     _narrow_klass._shift,                          int)                                   \</span>
                                                                                                                                       \
    /******/                                                                                                                           \
    /* os */                                                                                                                           \
    /******/                                                                                                                           \
                                                                                                                                       \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -512,11 +523,11 @@</span>
    nonstatic_field(ClassLoaderData,             _next,                                         ClassLoaderData*)                      \
    volatile_nonstatic_field(ClassLoaderData,    _klasses,                                      Klass*)                                \
    nonstatic_field(ClassLoaderData,             _is_unsafe_anonymous,                          bool)                                  \
    volatile_nonstatic_field(ClassLoaderData,    _dictionary,                                   Dictionary*)                           \
                                                                                                                                       \
<span class="udiff-line-modified-removed">-      static_field(ClassLoaderDataGraph,        _head,                                         ClassLoaderData*)                      \</span>
<span class="udiff-line-modified-added">+   static_ptr_volatile_field(ClassLoaderDataGraph, _head,                                      ClassLoaderData*)                      \</span>
                                                                                                                                       \
    /**********/                                                                                                                       \
    /* Arrays */                                                                                                                       \
    /**********/                                                                                                                       \
                                                                                                                                       \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -578,19 +589,23 @@</span>
       static_field(StubRoutines,                _call_stub_return_address,                     address)                               \
       static_field(StubRoutines,                _aescrypt_encryptBlock,                        address)                               \
       static_field(StubRoutines,                _aescrypt_decryptBlock,                        address)                               \
       static_field(StubRoutines,                _cipherBlockChaining_encryptAESCrypt,          address)                               \
       static_field(StubRoutines,                _cipherBlockChaining_decryptAESCrypt,          address)                               \
<span class="udiff-line-added">+      static_field(StubRoutines,                _electronicCodeBook_encryptAESCrypt,           address)                               \</span>
<span class="udiff-line-added">+      static_field(StubRoutines,                _electronicCodeBook_decryptAESCrypt,           address)                               \</span>
       static_field(StubRoutines,                _counterMode_AESCrypt,                         address)                               \
       static_field(StubRoutines,                _ghash_processBlocks,                          address)                               \
       static_field(StubRoutines,                _base64_encodeBlock,                           address)                               \
       static_field(StubRoutines,                _updateBytesCRC32,                             address)                               \
       static_field(StubRoutines,                _crc_table_adr,                                address)                               \
       static_field(StubRoutines,                _crc32c_table_addr,                            address)                               \
       static_field(StubRoutines,                _updateBytesCRC32C,                            address)                               \
       static_field(StubRoutines,                _multiplyToLen,                                address)                               \
       static_field(StubRoutines,                _squareToLen,                                  address)                               \
<span class="udiff-line-added">+      static_field(StubRoutines,                _bigIntegerRightShiftWorker,                   address)                               \</span>
<span class="udiff-line-added">+      static_field(StubRoutines,                _bigIntegerLeftShiftWorker,                    address)                               \</span>
       static_field(StubRoutines,                _mulAdd,                                       address)                               \
       static_field(StubRoutines,                _dexp,                                         address)                               \
       static_field(StubRoutines,                _dlog,                                         address)                               \
       static_field(StubRoutines,                _dlog10,                                       address)                               \
       static_field(StubRoutines,                _dpow,                                         address)                               \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -727,14 +742,17 @@</span>
                                                                                                                                       \
    /******************************/                                                                                                   \
    /* Threads (NOTE: incomplete) */                                                                                                   \
    /******************************/                                                                                                   \
                                                                                                                                       \
<span class="udiff-line-modified-removed">-      static_field(Threads,                     _thread_list,                                  JavaThread*)                           \</span>
<span class="udiff-line-modified-removed">-      static_field(Threads,                     _number_of_threads,                            int)                                   \</span>
<span class="udiff-line-modified-removed">-      static_field(Threads,                     _number_of_non_daemon_threads,                 int)                                   \</span>
<span class="udiff-line-modified-removed">-      static_field(Threads,                     _return_code,                                  int)                                   \</span>
<span class="udiff-line-modified-added">+   static_field(Threads,                     _number_of_threads,                               int)                                   \</span>
<span class="udiff-line-modified-added">+   static_field(Threads,                     _number_of_non_daemon_threads,                    int)                                   \</span>
<span class="udiff-line-modified-added">+   static_field(Threads,                     _return_code,                                     int)                                   \</span>
<span class="udiff-line-modified-added">+                                                                                                                                      \</span>
<span class="udiff-line-added">+   static_ptr_volatile_field(ThreadsSMRSupport, _java_thread_list,                             ThreadsList*)                          \</span>
<span class="udiff-line-added">+   nonstatic_field(ThreadsList,                 _length,                                       const uint)                            \</span>
<span class="udiff-line-added">+   nonstatic_field(ThreadsList,                 _threads,                                      JavaThread *const *const)              \</span>
                                                                                                                                       \
    nonstatic_field(ThreadShadow,                _pending_exception,                            oop)                                   \
    nonstatic_field(ThreadShadow,                _exception_file,                               const char*)                           \
    nonstatic_field(ThreadShadow,                _exception_line,                               int)                                   \
    volatile_nonstatic_field(Thread,             _suspend_flags,                                uint32_t)                              \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -744,11 +762,10 @@</span>
    nonstatic_field(Thread,                      _current_pending_monitor,                      ObjectMonitor*)                        \
    nonstatic_field(Thread,                      _current_pending_monitor_is_from_java,         bool)                                  \
    nonstatic_field(Thread,                      _current_waiting_monitor,                      ObjectMonitor*)                        \
    nonstatic_field(NamedThread,                 _name,                                         char*)                                 \
    nonstatic_field(NamedThread,                 _processed_thread,                             JavaThread*)                           \
<span class="udiff-line-removed">-   nonstatic_field(JavaThread,                  _next,                                         JavaThread*)                           \</span>
    nonstatic_field(JavaThread,                  _threadObj,                                    oop)                                   \
    nonstatic_field(JavaThread,                  _anchor,                                       JavaFrameAnchor)                       \
    nonstatic_field(JavaThread,                  _vm_result,                                    oop)                                   \
    nonstatic_field(JavaThread,                  _vm_result_2,                                  Metadata*)                             \
    nonstatic_field(JavaThread,                  _pending_async_exception,                      oop)                                   \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -769,11 +786,10 @@</span>
                                                                                                                                       \
    /************/                                                                                                                     \
    /* OSThread */                                                                                                                     \
    /************/                                                                                                                     \
                                                                                                                                       \
<span class="udiff-line-removed">-   volatile_nonstatic_field(OSThread,           _interrupted,                                  jint)                                  \</span>
    volatile_nonstatic_field(OSThread,           _state,                                        ThreadState)                           \
                                                                                                                                       \
    /************************/                                                                                                         \
    /* OopMap and OopMapSet */                                                                                                         \
    /************************/                                                                                                         \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -824,11 +840,10 @@</span>
                                                                                                                                       \
    /**************/                                                                                                                   \
    /* CI */                                                                                                                           \
    /************/                                                                                                                     \
                                                                                                                                       \
<span class="udiff-line-removed">-   nonstatic_field(ciEnv,                       _system_dictionary_modification_counter,       int)                                   \</span>
    nonstatic_field(ciEnv,                       _compiler_data,                                void*)                                 \
    nonstatic_field(ciEnv,                       _failure_reason,                               const char*)                           \
    nonstatic_field(ciEnv,                       _factory,                                      ciObjectFactory*)                      \
    nonstatic_field(ciEnv,                       _dependencies,                                 Dependencies*)                         \
    nonstatic_field(ciEnv,                       _task,                                         CompileTask*)                          \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -891,21 +906,21 @@</span>
                                                                                                                                       \
    /************/                                                                                                                     \
    /* Monitors */                                                                                                                     \
    /************/                                                                                                                     \
                                                                                                                                       \
<span class="udiff-line-modified-removed">-   volatile_nonstatic_field(ObjectMonitor,      _header,                                       markOop)                               \</span>
<span class="udiff-line-modified-added">+   volatile_nonstatic_field(ObjectMonitor,      _header,                                       markWord)                              \</span>
    unchecked_nonstatic_field(ObjectMonitor,     _object,                                       sizeof(void *)) /* NOTE: no type */    \
    unchecked_nonstatic_field(ObjectMonitor,     _owner,                                        sizeof(void *)) /* NOTE: no type */    \
<span class="udiff-line-modified-removed">-   volatile_nonstatic_field(ObjectMonitor,      _count,                                        jint)                                  \</span>
<span class="udiff-line-modified-added">+   volatile_nonstatic_field(ObjectMonitor,      _contentions,                                  jint)                                  \</span>
    volatile_nonstatic_field(ObjectMonitor,      _waiters,                                      jint)                                  \
<span class="udiff-line-modified-removed">-   volatile_nonstatic_field(ObjectMonitor,      _recursions,                                   intptr_t)                              \</span>
<span class="udiff-line-modified-removed">-   nonstatic_field(ObjectMonitor,               FreeNext,                                      ObjectMonitor*)                        \</span>
<span class="udiff-line-modified-removed">-   volatile_nonstatic_field(BasicLock,          _displaced_header,                             markOop)                               \</span>
<span class="udiff-line-modified-added">+   volatile_nonstatic_field(ObjectMonitor,      _recursions,                                   intx)                                  \</span>
<span class="udiff-line-modified-added">+   nonstatic_field(ObjectMonitor,               _next_om,                                      ObjectMonitor*)                        \</span>
<span class="udiff-line-modified-added">+   volatile_nonstatic_field(BasicLock,          _displaced_header,                             markWord)                              \</span>
    nonstatic_field(BasicObjectLock,             _lock,                                         BasicLock)                             \
    nonstatic_field(BasicObjectLock,             _obj,                                          oop)                                   \
<span class="udiff-line-modified-removed">-   static_ptr_volatile_field(ObjectSynchronizer, gBlockList,                                   PaddedObjectMonitor*)                  \</span>
<span class="udiff-line-modified-added">+   static_ptr_volatile_field(ObjectSynchronizer, g_block_list,                                 PaddedObjectMonitor*)                  \</span>
                                                                                                                                       \
    /*********************/                                                                                                            \
    /* Matcher (C2 only) */                                                                                                            \
    /*********************/                                                                                                            \
                                                                                                                                       \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1088,11 +1103,13 @@</span>
    /********************************************/                                                                                     \
                                                                                                                                       \
    CDS_ONLY(nonstatic_field(FileMapInfo,        _header,                   FileMapHeader*))                                           \
    CDS_ONLY(   static_field(FileMapInfo,        _current_info,             FileMapInfo*))                                             \
    CDS_ONLY(nonstatic_field(FileMapHeader,      _space[0],                 CDSFileMapRegion))                                         \
<span class="udiff-line-modified-removed">-   CDS_ONLY(nonstatic_field(CDSFileMapRegion,   _addr._base,               char*))                                                    \</span>
<span class="udiff-line-modified-added">+   CDS_ONLY(nonstatic_field(FileMapHeader,      _cloned_vtables_offset,    size_t))                                                   \</span>
<span class="udiff-line-added">+   CDS_ONLY(nonstatic_field(FileMapHeader,      _mapped_base_address,      char*))                                                    \</span>
<span class="udiff-line-added">+   CDS_ONLY(nonstatic_field(CDSFileMapRegion,   _mapped_base,              char*))                                                    \</span>
    CDS_ONLY(nonstatic_field(CDSFileMapRegion,   _used,                     size_t))                                                   \
                                                                                                                                       \
    /******************/                                                                                                               \
    /* VMError fields */                                                                                                               \
    /******************/                                                                                                               \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1252,11 +1269,10 @@</span>
                                                                            \
    declare_toplevel_type(oopDesc)                                          \
      declare_type(arrayOopDesc, oopDesc)                                   \
        declare_type(objArrayOopDesc, arrayOopDesc)                         \
      declare_type(instanceOopDesc, oopDesc)                                \
<span class="udiff-line-removed">-     declare_type(markOopDesc, oopDesc)                                    \</span>
                                                                            \
    /**************************************************/                    \
    /* MetadataOopDesc hierarchy (NOTE: some missing) */                    \
    /**************************************************/                    \
                                                                            \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1290,11 +1306,10 @@</span>
                                                                            \
    /********/                                                              \
    /* Oops */                                                              \
    /********/                                                              \
                                                                            \
<span class="udiff-line-removed">-   declare_oop_type(markOop)                                               \</span>
    declare_oop_type(objArrayOop)                                           \
    declare_oop_type(oop)                                                   \
    declare_oop_type(narrowOop)                                             \
    declare_oop_type(typeArrayOop)                                          \
                                                                            \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1353,15 +1368,19 @@</span>
          declare_type(NamedThread, NonJavaThread)                          \
          declare_type(WatcherThread, NonJavaThread)                        \
        declare_type(JavaThread, Thread)                                    \
          declare_type(JvmtiAgentThread, JavaThread)                        \
          declare_type(ServiceThread, JavaThread)                           \
<span class="udiff-line-added">+         declare_type(NotificationThread, JavaThread)                      \</span>
          declare_type(CompilerThread, JavaThread)                          \
          declare_type(CodeCacheSweeperThread, JavaThread)                  \
    declare_toplevel_type(OSThread)                                         \
    declare_toplevel_type(JavaFrameAnchor)                                  \
                                                                            \
<span class="udiff-line-added">+   declare_toplevel_type(ThreadsSMRSupport)                                \</span>
<span class="udiff-line-added">+   declare_toplevel_type(ThreadsList)                                      \</span>
<span class="udiff-line-added">+                                                                           \</span>
    /***************/                                                       \
    /* Interpreter */                                                       \
    /***************/                                                       \
                                                                            \
    declare_toplevel_type(AbstractInterpreter)                              \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1576,10 +1595,11 @@</span>
    declare_c2_type(DecodeNNode, TypeNode)                                  \
    declare_c2_type(EncodePKlassNode, TypeNode)                             \
    declare_c2_type(DecodeNKlassNode, TypeNode)                             \
    declare_c2_type(ConstraintCastNode, TypeNode)                           \
    declare_c2_type(CastIINode, ConstraintCastNode)                         \
<span class="udiff-line-added">+   declare_c2_type(CastLLNode, ConstraintCastNode)                         \</span>
    declare_c2_type(CastPPNode, ConstraintCastNode)                         \
    declare_c2_type(CheckCastPPNode, TypeNode)                              \
    declare_c2_type(Conv2BNode, Node)                                       \
    declare_c2_type(ConvD2FNode, Node)                                      \
    declare_c2_type(ConvD2INode, Node)                                      \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1756,10 +1776,14 @@</span>
    declare_c2_type(SqrtDNode, Node)                                        \
    declare_c2_type(ReverseBytesINode, Node)                                \
    declare_c2_type(ReverseBytesLNode, Node)                                \
    declare_c2_type(ReductionNode, Node)                                    \
    declare_c2_type(VectorNode, Node)                                       \
<span class="udiff-line-added">+   declare_c2_type(AbsVBNode, VectorNode)                                   \</span>
<span class="udiff-line-added">+   declare_c2_type(AbsVSNode, VectorNode)                                   \</span>
<span class="udiff-line-added">+   declare_c2_type(AbsVINode, VectorNode)                                   \</span>
<span class="udiff-line-added">+   declare_c2_type(AbsVLNode, VectorNode)                                   \</span>
    declare_c2_type(AddVBNode, VectorNode)                                  \
    declare_c2_type(AddVSNode, VectorNode)                                  \
    declare_c2_type(AddVINode, VectorNode)                                  \
    declare_c2_type(AddReductionVINode, ReductionNode)                      \
    declare_c2_type(AddVLNode, VectorNode)                                  \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1772,18 +1796,21 @@</span>
    declare_c2_type(SubVSNode, VectorNode)                                  \
    declare_c2_type(SubVINode, VectorNode)                                  \
    declare_c2_type(SubVLNode, VectorNode)                                  \
    declare_c2_type(SubVFNode, VectorNode)                                  \
    declare_c2_type(SubVDNode, VectorNode)                                  \
<span class="udiff-line-added">+   declare_c2_type(MulVBNode, VectorNode)                                  \</span>
    declare_c2_type(MulVSNode, VectorNode)                                  \
    declare_c2_type(MulVLNode, VectorNode)                                  \
    declare_c2_type(MulReductionVLNode, ReductionNode)                      \
    declare_c2_type(MulVINode, VectorNode)                                  \
    declare_c2_type(MulReductionVINode, ReductionNode)                      \
    declare_c2_type(MulVFNode, VectorNode)                                  \
    declare_c2_type(MulReductionVFNode, ReductionNode)                      \
    declare_c2_type(MulVDNode, VectorNode)                                  \
<span class="udiff-line-added">+   declare_c2_type(NegVFNode, VectorNode)                                  \</span>
<span class="udiff-line-added">+   declare_c2_type(NegVDNode, VectorNode)                                  \</span>
    declare_c2_type(FmaVDNode, VectorNode)                                  \
    declare_c2_type(FmaVFNode, VectorNode)                                  \
    declare_c2_type(CMoveVFNode, VectorNode)                                \
    declare_c2_type(CMoveVDNode, VectorNode)                                \
    declare_c2_type(MulReductionVDNode, ReductionNode)                      \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1930,13 +1957,14 @@</span>
              declare_type(Array&lt;Method*&gt;, MetaspaceObj)                    \
                                                                            \
     declare_toplevel_type(BitMap)                                          \
              declare_type(BitMapView, BitMap)                              \
                                                                            \
<span class="udiff-line-modified-removed">-    declare_integer_type(AccessFlags)  /* FIXME: wrong type (not integer) */\</span>
<span class="udiff-line-modified-added">+   declare_integer_type(markWord)                                          \</span>
<span class="udiff-line-added">+   declare_integer_type(AccessFlags)  /* FIXME: wrong type (not integer) */\</span>
    declare_toplevel_type(address)      /* FIXME: should this be an integer type? */\
<span class="udiff-line-modified-removed">-    declare_integer_type(BasicType)   /* FIXME: wrong type (not integer) */\</span>
<span class="udiff-line-modified-added">+   declare_integer_type(BasicType)   /* FIXME: wrong type (not integer) */ \</span>
    declare_toplevel_type(BreakpointInfo)                                   \
    declare_toplevel_type(BreakpointInfo*)                                  \
    declare_toplevel_type(CodeBlob*)                                        \
    declare_toplevel_type(RuntimeBlob*)                                     \
    declare_toplevel_type(CompressedWriteStream*)                           \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1944,10 +1972,11 @@</span>
    declare_toplevel_type(elapsedTimer)                                     \
    declare_toplevel_type(frame)                                            \
    declare_toplevel_type(intptr_t*)                                        \
     declare_unsigned_integer_type(InvocationCounter) /* FIXME: wrong type (not integer) */ \
    declare_toplevel_type(JavaThread*)                                      \
<span class="udiff-line-added">+   declare_toplevel_type(JavaThread *const *const)                         \</span>
    declare_toplevel_type(java_lang_Class)                                  \
    declare_integer_type(JavaThread::AsyncRequests)                         \
    declare_integer_type(JavaThread::TerminatedTypes)                       \
    declare_toplevel_type(jbyte*)                                           \
    declare_toplevel_type(jbyte**)                                          \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1972,10 +2001,12 @@</span>
    declare_toplevel_type(OSThread*)                                        \
     declare_integer_type(ReferenceType)                                    \
    declare_toplevel_type(StubQueue*)                                       \
    declare_toplevel_type(Thread*)                                          \
    declare_toplevel_type(Universe)                                         \
<span class="udiff-line-added">+   declare_toplevel_type(CompressedOops)                                   \</span>
<span class="udiff-line-added">+   declare_toplevel_type(CompressedKlassPointers)                          \</span>
    declare_toplevel_type(os)                                               \
    declare_toplevel_type(vframeArray)                                      \
    declare_toplevel_type(vframeArrayElement)                               \
    declare_toplevel_type(Annotations*)                                     \
    declare_type(OopMapValue, StackObj)                                     \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2093,10 +2124,12 @@</span>
    declare_constant(JVM_CONSTANT_NameAndType)                              \
    declare_constant(JVM_CONSTANT_MethodHandle)                             \
    declare_constant(JVM_CONSTANT_MethodType)                               \
    declare_constant(JVM_CONSTANT_Dynamic)                                  \
    declare_constant(JVM_CONSTANT_InvokeDynamic)                            \
<span class="udiff-line-added">+   declare_constant(JVM_CONSTANT_Module)                                   \</span>
<span class="udiff-line-added">+   declare_constant(JVM_CONSTANT_Package)                                  \</span>
    declare_constant(JVM_CONSTANT_ExternalMax)                              \
                                                                            \
    declare_constant(JVM_CONSTANT_Invalid)                                  \
    declare_constant(JVM_CONSTANT_InternalMin)                              \
    declare_constant(JVM_CONSTANT_UnresolvedClass)                          \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2357,10 +2390,11 @@</span>
    declare_constant(Deoptimization::Reason_intrinsic)                      \
    declare_constant(Deoptimization::Reason_bimorphic)                      \
    declare_constant(Deoptimization::Reason_profile_predicate)              \
    declare_constant(Deoptimization::Reason_unloaded)                       \
    declare_constant(Deoptimization::Reason_uninitialized)                  \
<span class="udiff-line-added">+   declare_constant(Deoptimization::Reason_initialized)                    \</span>
    declare_constant(Deoptimization::Reason_unreached)                      \
    declare_constant(Deoptimization::Reason_unhandled)                      \
    declare_constant(Deoptimization::Reason_constraint)                     \
    declare_constant(Deoptimization::Reason_div0_check)                     \
    declare_constant(Deoptimization::Reason_age)                            \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2579,10 +2613,11 @@</span>
    declare_constant(JVMFlag::CONFIG_FILE)                                  \
    declare_constant(JVMFlag::MANAGEMENT)                                   \
    declare_constant(JVMFlag::ERGONOMIC)                                    \
    declare_constant(JVMFlag::ATTACH_ON_DEMAND)                             \
    declare_constant(JVMFlag::INTERNAL)                                     \
<span class="udiff-line-added">+   declare_constant(JVMFlag::JIMAGE_RESOURCE)                              \</span>
    declare_constant(JVMFlag::VALUE_ORIGIN_MASK)                            \
    declare_constant(JVMFlag::ORIG_COMMAND_LINE)
  
  //--------------------------------------------------------------------------------
  // VM_LONG_CONSTANTS
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2599,56 +2634,51 @@</span>
    /****************/                                                      \
                                                                            \
    VM_LONG_CONSTANTS_GC(declare_constant)                                  \
                                                                            \
    /*********************/                                                 \
<span class="udiff-line-modified-removed">-   /* MarkOop constants */                                                 \</span>
<span class="udiff-line-modified-added">+   /* markWord constants */                                                \</span>
    /*********************/                                                 \
                                                                            \
    /* Note: some of these are declared as long constants just for */       \
    /* consistency. The mask constants are the only ones requiring */       \
    /* 64 bits (on 64-bit platforms). */                                    \
                                                                            \
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::age_bits)                                 \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::lock_bits)                                \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::biased_lock_bits)                         \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::max_hash_bits)                            \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::hash_bits)                                \</span>
<span class="udiff-line-modified-removed">-                                                                           \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::lock_shift)                               \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::biased_lock_shift)                        \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::age_shift)                                \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::hash_shift)                               \</span>
<span class="udiff-line-modified-removed">-                                                                           \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::lock_mask)                                \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::lock_mask_in_place)                       \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::biased_lock_mask)                         \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::biased_lock_mask_in_place)                \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::biased_lock_bit_in_place)                 \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::age_mask)                                 \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::age_mask_in_place)                        \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::epoch_mask)                               \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::epoch_mask_in_place)                      \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::hash_mask)                                \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::hash_mask_in_place)                       \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::biased_lock_alignment)                    \</span>
<span class="udiff-line-modified-removed">-                                                                           \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::locked_value)                             \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::unlocked_value)                           \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::monitor_value)                            \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::marked_value)                             \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::biased_lock_pattern)                      \</span>
<span class="udiff-line-modified-removed">-                                                                           \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::no_hash)                                  \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::no_hash_in_place)                         \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::no_lock_in_place)                         \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::max_age)                                  \</span>
<span class="udiff-line-removed">-                                                                           \</span>
<span class="udiff-line-removed">-   /* Constants in markOop used by CMS. */                                 \</span>
<span class="udiff-line-removed">-   declare_constant(markOopDesc::cms_shift)                                \</span>
<span class="udiff-line-removed">-   declare_constant(markOopDesc::cms_mask)                                 \</span>
<span class="udiff-line-removed">-   declare_constant(markOopDesc::size_shift)                               \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::age_bits)                                    \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::lock_bits)                                   \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::biased_lock_bits)                            \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::max_hash_bits)                               \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::hash_bits)                                   \</span>
<span class="udiff-line-modified-added">+                                                                           \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::lock_shift)                                  \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::biased_lock_shift)                           \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::age_shift)                                   \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::hash_shift)                                  \</span>
<span class="udiff-line-modified-added">+                                                                           \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::lock_mask)                                   \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::lock_mask_in_place)                          \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::biased_lock_mask)                            \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::biased_lock_mask_in_place)                   \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::biased_lock_bit_in_place)                    \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::age_mask)                                    \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::age_mask_in_place)                           \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::epoch_mask)                                  \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::epoch_mask_in_place)                         \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::hash_mask)                                   \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::hash_mask_in_place)                          \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::biased_lock_alignment)                       \</span>
<span class="udiff-line-modified-added">+                                                                           \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::locked_value)                                \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::unlocked_value)                              \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::monitor_value)                               \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::marked_value)                                \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::biased_lock_pattern)                         \</span>
<span class="udiff-line-modified-added">+                                                                           \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::no_hash)                                     \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::no_hash_in_place)                            \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::no_lock_in_place)                            \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::max_age)                                     \</span>
                                                                            \
    /* InvocationCounter constants */                                       \
    declare_constant(InvocationCounter::count_increment)                    \
    declare_constant(InvocationCounter::count_shift)
  
</pre>
<center><a href="vmOperations.hpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="vmStructs.hpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>