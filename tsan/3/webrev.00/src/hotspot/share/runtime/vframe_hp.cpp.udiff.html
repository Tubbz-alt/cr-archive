<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/hotspot/share/runtime/vframe_hp.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="vframeArray.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="vmOperations.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/runtime/vframe_hp.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -95,17 +95,16 @@</span>
  }
  
  void compiledVFrame::update_monitor(int index, MonitorInfo* val) {
    assert(index &gt;= 0, &quot;out of bounds&quot;);
    jvalue value;
<span class="udiff-line-modified-removed">-   value.l = (jobject) val-&gt;owner();</span>
<span class="udiff-line-modified-added">+   value.l = cast_from_oop&lt;jobject&gt;(val-&gt;owner());</span>
    update_deferred_value(T_OBJECT, index + method()-&gt;max_locals() + method()-&gt;max_stack(), value);
  }
  
  void compiledVFrame::update_deferred_value(BasicType type, int index, jvalue value) {
<span class="udiff-line-modified-removed">-   assert(fr().is_deoptimized_frame() || thread()-&gt;must_deopt_id() == fr().id(),</span>
<span class="udiff-line-removed">-          &quot;frame must be scheduled for deoptimization&quot;);</span>
<span class="udiff-line-modified-added">+   assert(fr().is_deoptimized_frame(), &quot;frame must be scheduled for deoptimization&quot;);</span>
    GrowableArray&lt;jvmtiDeferredLocalVariableSet*&gt;* deferred = thread()-&gt;deferred_locals();
    jvmtiDeferredLocalVariableSet* locals = NULL;
    if (deferred != NULL ) {
      // See if this vframe has already had locals with deferred writes
      for (int f = 0; f &lt; deferred-&gt;length(); f++ ) {
</pre>
<center><a href="vframeArray.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="vmOperations.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>