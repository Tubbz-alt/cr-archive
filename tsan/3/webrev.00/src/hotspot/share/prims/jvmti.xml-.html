<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old src/hotspot/share/prims/jvmti.xml</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
  <body>
    <pre>
    1 &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;
    2 &lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;jvmti.xsl&quot;?&gt;
    3 &lt;!--
    4  Copyright (c) 2002, 2018, Oracle and/or its affiliates. All rights reserved.
    5  DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
    6 
    7  This code is free software; you can redistribute it and/or modify it
    8  under the terms of the GNU General Public License version 2 only, as
    9  published by the Free Software Foundation.
   10 
   11  This code is distributed in the hope that it will be useful, but WITHOUT
   12  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
   13  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
   14  version 2 for more details (a copy is included in the LICENSE file that
   15  accompanied this code).
   16 
   17  You should have received a copy of the GNU General Public License version
   18  2 along with this work; if not, write to the Free Software Foundation,
   19  Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
   20 
   21  Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
   22  or visit www.oracle.com if you need additional information or have any
   23  questions.
   24 --&gt;
   25 
   26 &lt;!DOCTYPE specification [
   27    &lt;!ELEMENT specification (title, copyright, intro*, functionsection, errorsection,
   28                             eventsection, datasection, issuessection, changehistory)&gt;
   29    &lt;!ATTLIST specification label CDATA #REQUIRED
   30                            majorversion CDATA #REQUIRED
   31                            minorversion CDATA #REQUIRED
   32                            microversion CDATA #REQUIRED&gt;
   33 
   34    &lt;!ELEMENT title (#PCDATA|jvmti|tm)*&gt;
   35    &lt;!ATTLIST title subtitle CDATA #REQUIRED&gt;
   36 
   37    &lt;!ELEMENT copyright ANY&gt;
   38 
   39    &lt;!ELEMENT intro ANY&gt;
   40    &lt;!ATTLIST intro id CDATA #IMPLIED
   41                    label CDATA &quot;&quot;&gt;
   42 
   43    &lt;!ELEMENT functionsection (intro*, category*)&gt;
   44    &lt;!ATTLIST functionsection label CDATA #REQUIRED&gt;
   45 
   46    &lt;!ELEMENT category ((intro|typedef|uniontypedef|capabilitiestypedef)*,
   47                           (function|callback|elide)*)&gt;
   48    &lt;!ATTLIST category id CDATA #REQUIRED
   49                       label CDATA #REQUIRED&gt;
   50 
   51    &lt;!ELEMENT function (synopsis, typedef*, description?, origin,
   52                          (capabilities|eventcapabilities),
   53                          parameters, errors)&gt;
   54    &lt;!ATTLIST function id CDATA #REQUIRED
   55                       num CDATA #REQUIRED
   56                       phase (onload|onloadOnly|start|live|any) #IMPLIED
   57 		      callbacksafe (safe|unsafe) #IMPLIED
   58                       impl CDATA #IMPLIED
   59                       hide CDATA #IMPLIED
   60                       jkernel (yes|no) #IMPLIED
   61                       since CDATA &quot;1.0&quot;&gt;
   62 
   63    &lt;!ELEMENT callback ((jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|jthreadGroup|jobject|
   64                         jvalue|enum|jint|jlong|jfloat|jdouble|jlocation|jboolean|char|uchar|size_t|void),
   65                         synopsis, description?, parameters)&gt;
   66    &lt;!ATTLIST callback id CDATA #REQUIRED
   67                       since CDATA &quot;1.0&quot;&gt;
   68 
   69    &lt;!ELEMENT synopsis (#PCDATA|jvmti)*&gt;
   70 
   71    &lt;!ELEMENT typedef (description?, field*)&gt;
   72    &lt;!ATTLIST typedef id CDATA #REQUIRED
   73                      label CDATA #REQUIRED
   74                      since CDATA &quot;1.0&quot;&gt;
   75 
   76    &lt;!ELEMENT uniontypedef (description?, field*)&gt;
   77    &lt;!ATTLIST uniontypedef id CDATA #REQUIRED
   78                      label CDATA #REQUIRED
   79                      since CDATA &quot;1.0&quot;&gt;
   80 
   81    &lt;!ELEMENT field ((jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|jthreadGroup|jobject|
   82                      jvalue|enum|jint|jlong|jfloat|jdouble|jlocation|jboolean|char|uchar|size_t|void|allocfieldbuf|inptr|inbuf|outbuf|vmbuf|ptrtype|struct),
   83                     description)&gt;
   84    &lt;!ATTLIST field id CDATA #REQUIRED&gt;
   85 
   86    &lt;!ELEMENT capabilitiestypedef (description?, capabilityfield*)&gt;
   87    &lt;!ATTLIST capabilitiestypedef id CDATA #REQUIRED
   88                      label CDATA #REQUIRED&gt;
   89 
   90    &lt;!ELEMENT capabilityfield (description)&gt;
   91    &lt;!ATTLIST capabilityfield id CDATA #REQUIRED
   92                    disp1 CDATA &quot;&quot;
   93                    disp2 CDATA &quot;&quot;
   94                    since CDATA &quot;1.0&quot;&gt;
   95 
   96    &lt;!ELEMENT description ANY&gt;
   97 
   98    &lt;!ELEMENT capabilities (required*, capability*)&gt;
   99 
  100    &lt;!ELEMENT eventcapabilities EMPTY&gt;
  101 
  102    &lt;!ELEMENT required ANY&gt;
  103    &lt;!ATTLIST required id CDATA #REQUIRED&gt;
  104 
  105    &lt;!ELEMENT capability ANY&gt;
  106    &lt;!ATTLIST capability id CDATA #REQUIRED&gt;
  107 
  108    &lt;!ELEMENT parameters (param*)&gt;
  109 
  110    &lt;!ELEMENT param ((jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|jthreadGroup|jobject|
  111                      jvalue|enum|jint|jlong|jfloat|jdouble|jlocation|jboolean|char|uchar|size_t|void|varargs|struct|ptrtype|
  112                      outptr|allocbuf|allocallocbuf|inptr|inbuf|outbuf|vmbuf|agentbuf),
  113                     description)&gt;
  114    &lt;!ATTLIST param id CDATA #REQUIRED&gt;
  115 
  116    &lt;!ELEMENT jmethodID EMPTY&gt;
  117    &lt;!ATTLIST jmethodID class  CDATA #IMPLIED
  118                        native CDATA #IMPLIED&gt;
  119 
  120    &lt;!ELEMENT jfieldID EMPTY&gt;
  121    &lt;!ATTLIST jfieldID class CDATA #IMPLIED&gt;
  122 
  123    &lt;!ELEMENT jclass EMPTY&gt;
  124    &lt;!ATTLIST jclass method CDATA #IMPLIED
  125                     field  CDATA #IMPLIED&gt;
  126 
  127    &lt;!ELEMENT jframeID EMPTY&gt;
  128    &lt;!ATTLIST jframeID thread CDATA #IMPLIED&gt;
  129 
  130    &lt;!ELEMENT jrawMonitorID EMPTY&gt;
  131 
  132    &lt;!ELEMENT jthread EMPTY&gt;
  133    &lt;!ATTLIST jthread started CDATA #IMPLIED
  134                      null CDATA #IMPLIED
  135                      frame CDATA #IMPLIED
  136                      impl CDATA #IMPLIED&gt;
  137 
  138    &lt;!ELEMENT varargs EMPTY&gt;
  139 
  140    &lt;!ELEMENT jthreadGroup EMPTY&gt;
  141    &lt;!ELEMENT jobject EMPTY&gt;
  142    &lt;!ELEMENT jvalue EMPTY&gt;
  143    &lt;!ELEMENT jchar EMPTY&gt;
  144    &lt;!ELEMENT jint EMPTY&gt;
  145    &lt;!ATTLIST jint min CDATA #IMPLIED&gt;
  146    &lt;!ELEMENT jlong EMPTY&gt;
  147    &lt;!ELEMENT jfloat EMPTY&gt;
  148    &lt;!ELEMENT jdouble EMPTY&gt;
  149    &lt;!ELEMENT jlocation EMPTY&gt;
  150    &lt;!ELEMENT jboolean EMPTY&gt;
  151    &lt;!ELEMENT char EMPTY&gt;
  152    &lt;!ELEMENT uchar EMPTY&gt;
  153    &lt;!ELEMENT size_t EMPTY&gt;
  154    &lt;!ELEMENT void EMPTY&gt;
  155    &lt;!ELEMENT enum (#PCDATA)*&gt;
  156    &lt;!ELEMENT struct (#PCDATA)*&gt;
  157 
  158    &lt;!ELEMENT nullok ANY&gt;
  159 
  160    &lt;!ELEMENT ptrtype     ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  161                                    jthreadGroup|jobject|jvalue), nullok?)&gt;
  162 
  163    &lt;!ELEMENT outptr     ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  164                                    jthreadGroup|jobject|jvalue|enum|jchar|jint|jlong|jfloat|jdouble|
  165                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  166 
  167    &lt;!ELEMENT allocbuf   ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  168                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  169                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  170    &lt;!ATTLIST allocbuf incount CDATA #IMPLIED
  171                       outcount CDATA #IMPLIED&gt;
  172 
  173    &lt;!ELEMENT allocallocbuf   ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  174                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  175                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  176    &lt;!ATTLIST allocallocbuf incount CDATA #IMPLIED
  177                       outcount CDATA #IMPLIED&gt;
  178 
  179    &lt;!ELEMENT inptr      (struct, nullok?)&gt;
  180 
  181    &lt;!ELEMENT inbuf      ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  182                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  183                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  184    &lt;!ATTLIST inbuf    incount CDATA #IMPLIED&gt;
  185 
  186    &lt;!ELEMENT outbuf     ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  187                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  188                                    jlocation|jboolean|char|uchar|size_t|void|outbuf), nullok?)&gt;
  189    &lt;!ATTLIST outbuf   incount CDATA #IMPLIED
  190                       outcount CDATA #IMPLIED&gt;
  191 
  192    &lt;!ELEMENT vmbuf      ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  193                                    jthreadGroup|jobject|jvalue|enum|jchar|jint|jlong|jfloat|jdouble|
  194                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  195    &lt;!ATTLIST vmbuf    incount CDATA #IMPLIED
  196                       outcount CDATA #IMPLIED&gt;
  197 
  198    &lt;!ELEMENT agentbuf   ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  199                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  200                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  201    &lt;!ATTLIST agentbuf incount CDATA #IMPLIED
  202                       outcount CDATA #IMPLIED&gt;
  203 
  204    &lt;!ELEMENT allocfieldbuf   ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  205                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  206                                    jlocation|jboolean|char|uchar|size_t|void))&gt;
  207    &lt;!ATTLIST allocfieldbuf outcount CDATA #IMPLIED&gt;
  208 
  209    &lt;!ELEMENT errors (error*)&gt;
  210 
  211    &lt;!ELEMENT error ANY&gt;
  212    &lt;!ATTLIST error id CDATA #REQUIRED&gt;
  213 
  214    &lt;!ELEMENT errorsection (intro*, errorcategory*)&gt;
  215    &lt;!ATTLIST errorsection label CDATA #REQUIRED&gt;
  216 
  217    &lt;!ELEMENT errorcategory (intro*, errorid*)&gt;
  218    &lt;!ATTLIST errorcategory id CDATA #REQUIRED
  219                            label CDATA #REQUIRED&gt;
  220 
  221    &lt;!ELEMENT errorid ANY&gt;
  222    &lt;!ATTLIST errorid id CDATA #REQUIRED
  223                      num CDATA #REQUIRED&gt;
  224 
  225    &lt;!ELEMENT datasection (intro*, basetypes*)&gt;
  226 
  227    &lt;!ELEMENT basetypes (intro*, basetype*)&gt;
  228    &lt;!ATTLIST basetypes id CDATA #REQUIRED
  229                        label CDATA #REQUIRED&gt;
  230 
  231    &lt;!ELEMENT basetype (definition?,description)&gt;
  232    &lt;!ATTLIST basetype id CDATA #REQUIRED
  233                       name CDATA #IMPLIED&gt;
  234 
  235    &lt;!ELEMENT definition (#PCDATA|jvmti)*&gt;
  236 
  237    &lt;!ELEMENT eventsection (intro*, (event|elide)*)&gt;
  238    &lt;!ATTLIST eventsection label CDATA #REQUIRED&gt;
  239 
  240    &lt;!ELEMENT event (description, origin, typedef*, capabilities, parameters)&gt;
  241    &lt;!ATTLIST event id CDATA #REQUIRED
  242                    label CDATA #REQUIRED
  243                    const CDATA #REQUIRED
  244                    num CDATA #REQUIRED
  245                    phase (onload|start|live|any) #IMPLIED
  246                    filtered (thread|global) #IMPLIED
  247                    since CDATA &quot;1.0&quot;&gt;
  248 
  249    &lt;!ELEMENT issuessection (intro*)&gt;
  250    &lt;!ATTLIST issuessection label CDATA #REQUIRED&gt;
  251 
  252    &lt;!ELEMENT changehistory (intro*, change*)&gt;
  253    &lt;!ATTLIST changehistory update CDATA #REQUIRED
  254                            id CDATA #REQUIRED&gt;
  255 
  256    &lt;!ELEMENT change ANY&gt;
  257    &lt;!ATTLIST change date CDATA #REQUIRED
  258                     version CDATA #IMPLIED&gt;
  259 
  260    &lt;!ELEMENT functionlink (#PCDATA|jvmti|code|i|b)*&gt;
  261    &lt;!ATTLIST functionlink id CDATA #REQUIRED&gt;
  262 
  263    &lt;!ELEMENT datalink (#PCDATA|jvmti|code|i|b)*&gt;
  264    &lt;!ATTLIST datalink id CDATA #REQUIRED&gt;
  265 
  266    &lt;!ELEMENT typelink (#PCDATA|jvmti|code|i|b)*&gt;
  267    &lt;!ATTLIST typelink id CDATA #REQUIRED&gt;
  268 
  269    &lt;!ELEMENT fieldlink (#PCDATA|jvmti|code|i|b)*&gt;
  270    &lt;!ATTLIST fieldlink id CDATA #REQUIRED
  271                        struct CDATA #REQUIRED&gt;
  272 
  273    &lt;!ELEMENT paramlink (#PCDATA|jvmti|code|i|b)*&gt;
  274    &lt;!ATTLIST paramlink id CDATA #REQUIRED&gt;
  275 
  276    &lt;!ELEMENT eventlink (#PCDATA|jvmti|code|i|b)*&gt;
  277    &lt;!ATTLIST eventlink id CDATA #REQUIRED&gt;
  278 
  279    &lt;!ELEMENT errorlink (#PCDATA|jvmti|code|i|b|tm)*&gt;
  280    &lt;!ATTLIST errorlink id CDATA #REQUIRED&gt;
  281 
  282    &lt;!ELEMENT externallink (#PCDATA|jvmti|code|i|b|tm)*&gt;
  283    &lt;!ATTLIST externallink id CDATA #REQUIRED&gt;
  284 
  285    &lt;!ELEMENT vmspec EMPTY&gt;
  286    &lt;!ATTLIST vmspec chapter CDATA #IMPLIED&gt;
  287 
  288    &lt;!ELEMENT internallink (#PCDATA|jvmti|code|i|b)*&gt;
  289    &lt;!ATTLIST internallink id CDATA #REQUIRED&gt;
  290 
  291    &lt;!ELEMENT functionphaselist EMPTY&gt;
  292    &lt;!ATTLIST functionphaselist phase (onload|onloadOnly|start|live|any) #REQUIRED&gt;
  293 
  294    &lt;!ELEMENT eventphaselist EMPTY&gt;
  295    &lt;!ATTLIST eventphaselist phase (onload|start|live|any) #REQUIRED&gt;
  296 
  297    &lt;!ELEMENT issue ANY&gt;
  298 
  299    &lt;!ELEMENT rationale ANY&gt;
  300 
  301    &lt;!ELEMENT todo ANY&gt;
  302 
  303    &lt;!ELEMENT origin (#PCDATA)*&gt;
  304 
  305    &lt;!ELEMENT elide (intro|function|callback|event)*&gt;
  306    &lt;!ATTLIST elide why CDATA #IMPLIED&gt;
  307 
  308    &lt;!ELEMENT constants (constant*)&gt;
  309    &lt;!ATTLIST constants id CDATA #REQUIRED
  310                        label CDATA #REQUIRED
  311                        kind (enum|bits|const) #REQUIRED
  312                        since CDATA &quot;1.0&quot;&gt;
  313 
  314    &lt;!ELEMENT constant ANY&gt;
  315    &lt;!ATTLIST constant id CDATA #REQUIRED
  316                       num CDATA #REQUIRED&gt;
  317 
  318    &lt;!ELEMENT tm (#PCDATA)&gt;
  319 
  320    &lt;!ELEMENT i (#PCDATA|jvmti|tm)*&gt;
  321 
  322    &lt;!ELEMENT b (#PCDATA|jvmti|code)*&gt;
  323 
  324    &lt;!ELEMENT code (#PCDATA|space)*&gt;
  325 
  326    &lt;!ELEMENT pre ANY&gt;
  327 
  328    &lt;!ELEMENT space EMPTY&gt;
  329 
  330    &lt;!ELEMENT jvmti EMPTY&gt;
  331 
  332    &lt;!ELEMENT example (#PCDATA|i)*&gt;
  333 
  334    &lt;!ELEMENT br EMPTY&gt;
  335 
  336    &lt;!ELEMENT p EMPTY&gt;
  337 
  338    &lt;!ELEMENT blockquote ANY&gt;
  339 
  340    &lt;!ELEMENT dl  (dt|dd)+&gt;
  341 
  342    &lt;!ELEMENT dd  ANY&gt;
  343 
  344    &lt;!ELEMENT dt  (#PCDATA|jvmti|code|i|b)*&gt;
  345 
  346    &lt;!ELEMENT table  (tr)+&gt;
  347 
  348    &lt;!ELEMENT tr  (td|th)*&gt;
  349 
  350    &lt;!ELEMENT td  ANY&gt;
  351    &lt;!ATTLIST td class CDATA #IMPLIED&gt;
  352 
  353    &lt;!ELEMENT th  ANY&gt;
  354    &lt;!ATTLIST th class CDATA #IMPLIED&gt;
  355 
  356    &lt;!ELEMENT ul  (li)+&gt;
  357    &lt;!ATTLIST ul type (disc|circle|square) &quot;disc&quot;&gt;
  358 
  359    &lt;!ELEMENT li  ANY&gt;
  360  ]&gt;
  361 
  362 &lt;specification label=&quot;JVM(TM) Tool Interface&quot;
  363         majorversion=&quot;11&quot;
  364         minorversion=&quot;0&quot;
  365         microversion=&quot;0&quot;&gt;
  366   &lt;title subtitle=&quot;Version&quot;&gt;
  367     &lt;tm&gt;JVM&lt;/tm&gt; Tool Interface
  368   &lt;/title&gt;
  369 
  370   &lt;copyright&gt;
  371     Copyright (c) 2002, 2018, Oracle and/or its affiliates. All rights reserved.
  372   &lt;/copyright&gt;
  373 
  374   &lt;intro id=&quot;whatIs&quot; label=&quot;What is the JVM Tool Interface?&quot;&gt;
  375     The &lt;tm&gt;JVM&lt;/tm&gt; Tool Interface (&lt;jvmti/&gt;)
  376     is a programming interface used by development and monitoring tools.
  377     It provides both a way to inspect the state and
  378     to control the execution of applications running in the
  379     &lt;tm&gt;Java&lt;/tm&gt; virtual machine (VM).
  380     &lt;p/&gt;
  381     &lt;jvmti/&gt; is intended to provide a VM interface for the full breadth of tools
  382     that need access to VM state, including but not limited to: profiling,
  383     debugging, monitoring, thread analysis, and coverage analysis tools.
  384     &lt;p/&gt;
  385     &lt;jvmti/&gt; may not be available in all implementations of the &lt;tm&gt;Java&lt;/tm&gt; virtual
  386     machine.
  387     &lt;p/&gt;
  388     &lt;jvmti/&gt; is a two-way interface.
  389     A client of &lt;jvmti/&gt;, hereafter called an &lt;i&gt;agent&lt;/i&gt;,
  390     can be notified of
  391     interesting occurrences through &lt;internallink id=&quot;EventSection&quot;&gt;events&lt;/internallink&gt;.
  392     &lt;jvmti/&gt;
  393     can query and control the application through many
  394     &lt;internallink id=&quot;FunctionSection&quot;&gt;functions&lt;/internallink&gt;,
  395     either in response to events or
  396     independent of them.
  397     &lt;p/&gt;
  398     Agents run in the same process with and communicate directly with
  399     the virtual machine executing
  400     the application being examined.  This communication is
  401     through a native interface (&lt;jvmti/&gt;). The native in-process interface allows
  402     maximal control with minimal intrusion on the part of a tool.
  403     Typically, agents are relatively compact. They can be controlled
  404     by a separate process which implements the bulk of a tool&#39;s
  405     function without interfering with the target application&#39;s normal execution.
  406   &lt;/intro&gt;
  407 
  408   &lt;intro id=&quot;architecture&quot; label=&quot;Architecture&quot;&gt;
  409     Tools can be written directly to &lt;jvmti/&gt; or indirectly
  410     through higher level interfaces.
  411     The Java Platform Debugger Architecture includes &lt;jvmti/&gt;, but also
  412     contains higher-level, out-of-process debugger interfaces. The higher-level
  413     interfaces are more appropriate than &lt;jvmti/&gt; for many tools.
  414     For more information on the Java Platform Debugger Architecture,
  415     see the
  416     &lt;externallink id=&quot;jpda/architecture.html&quot;&gt;Java
  417       Platform Debugger Architecture website&lt;/externallink&gt;.
  418   &lt;/intro&gt;
  419 
  420   &lt;intro id=&quot;writingAgents&quot; label=&quot;Writing Agents&quot;&gt;
  421     Agents can be written in any native language that supports C
  422     language calling conventions and C or C++
  423     definitions.
  424     &lt;p/&gt;
  425     The function, event, data type, and constant definitions needed for
  426     using &lt;jvmti/&gt; are defined in the include file &lt;code&gt;jvmti.h&lt;/code&gt;.
  427     To use these definitions add the &lt;tm&gt;J2SE&lt;/tm&gt; include directory
  428     to your include path and add
  429     &lt;example&gt;
  430 #include &amp;lt;jvmti.h&amp;gt;
  431     &lt;/example&gt;
  432     to your source code.
  433   &lt;/intro&gt;
  434 
  435   &lt;intro id=&quot;deployingAgents&quot; label=&quot;Deploying Agents&quot;&gt;
  436     An agent is deployed in a platform specific manner but is typically the
  437     platform equivalent of a dynamic library. On the &lt;tm&gt;Windows&lt;/tm&gt; operating
  438     system, for example, an agent library is a &quot;Dynamic Linked Library&quot; (DLL).
  439     On the &lt;tm&gt;Solaris&lt;/tm&gt; Operating Environment, an agent library is a shared
  440     object (&lt;code&gt;.so&lt;/code&gt; file).
  441     &lt;p/&gt;
  442 
  443     An agent may be started at VM startup by specifying the agent library
  444     name using a &lt;internallink id=&quot;starting&quot;&gt;command line option&lt;/internallink&gt;.
  445     Some implementations may support a mechanism to &lt;internallink id=&quot;onattach&quot;&gt;
  446     start agents&lt;/internallink&gt; in the live &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;.
  447     The details of how this is initiated are implementation specific.
  448   &lt;/intro&gt;
  449 
  450     &lt;intro id=&quot;entryPoint&quot; label=&quot;Statically Linked Agents (since version 1.2.3)&quot;&gt;
  451 
  452       A native JVMTI Agent may be &lt;i&gt;statically linked&lt;/i&gt; with the VM.
  453       The manner in which the library and VM image are combined is
  454       implementation-dependent.
  455       An agent L whose image has been combined with the VM is defined as
  456       &lt;i&gt;statically linked&lt;/i&gt; if and only if the agent exports a function
  457       called Agent_OnLoad_L.
  458 &lt;p/&gt;
  459       If a &lt;i&gt;statically linked&lt;/i&gt; agent L exports a function called
  460       Agent_OnLoad_L and a function called Agent_OnLoad, the Agent_OnLoad
  461       function will be ignored.
  462       If an agent L is &lt;i&gt;statically linked&lt;/i&gt;, an Agent_OnLoad_L
  463       function will be invoked with the same arguments and expected return
  464       value as specified for the Agent_OnLoad function.
  465       An agent L that is &lt;i&gt;statically linked&lt;/i&gt; will prohibit an agent of
  466       the same name from being loaded dynamically.
  467 &lt;p/&gt;
  468       The VM will invoke the Agent_OnUnload_L function of the agent, if such
  469       a function is exported, at the same point during VM execution as it would
  470       have called the dynamic entry point Agent_OnUnLoad. A statically loaded
  471       agent cannot be unloaded. The Agent_OnUnload_L function will still be
  472       called to do any other agent shutdown related tasks.
  473       If a &lt;i&gt;statically linked&lt;/i&gt; agent L exports a function called
  474       Agent_OnUnLoad_L and a function called Agent_OnUnLoad, the Agent_OnUnLoad
  475       function will be ignored.
  476 &lt;p/&gt;
  477       If an agent L is &lt;i&gt;statically linked&lt;/i&gt;, an Agent_OnAttach_L function
  478       will be invoked with the same arguments and expected return value as
  479       specified for the Agent_OnAttach function.
  480       If a &lt;i&gt;statically linked&lt;/i&gt; agent L exports a function called
  481       Agent_OnAttach_L and a function called Agent_OnAttach, the Agent_OnAttach
  482       function will be ignored.
  483 &lt;/intro&gt;
  484 
  485   &lt;intro id=&quot;starting&quot; label=&quot;Agent Command Line Options&quot;&gt;
  486     The term &quot;command-line option&quot; is used below to
  487     mean options supplied in the &lt;code&gt;JavaVMInitArgs&lt;/code&gt; argument
  488     to the &lt;code&gt;JNI_CreateJavaVM&lt;/code&gt; function of the JNI
  489     Invocation API.
  490     &lt;p/&gt;
  491     One of the two following
  492     command-line options is used on VM startup to
  493     properly load and run agents.
  494     These arguments identify the library containing
  495     the agent as well as an options
  496     string to be passed in at startup.
  497     &lt;dl&gt;
  498       &lt;dt&gt;&lt;code&gt;-agentlib:&lt;/code&gt;&lt;i&gt;&amp;lt;agent-lib-name&amp;gt;&lt;/i&gt;&lt;code&gt;=&lt;/code&gt;&lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt;&lt;/dt&gt;
  499       &lt;dd&gt;
  500 	The name following &lt;code&gt;-agentlib:&lt;/code&gt; is the name of the
  501 	library to load.  Lookup of the library, both its full name and location,
  502 	proceeds in a platform-specific manner.
  503 	Typically, the &lt;i&gt;&amp;lt;agent-lib-name&amp;gt;&lt;/i&gt; is expanded to an
  504 	operating system specific file name.
  505 	The &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; will be passed to the agent on start-up.
  506 	For example, if the option
  507 	&lt;code&gt;-agentlib:foo=opt1,opt2&lt;/code&gt; is specified, the VM will attempt to
  508 	load the shared library &lt;code&gt;foo.dll&lt;/code&gt; from the system &lt;code&gt;PATH&lt;/code&gt;
  509         under &lt;tm&gt;Windows&lt;/tm&gt; or &lt;code&gt;libfoo.so&lt;/code&gt; from the
  510 	&lt;code&gt;LD_LIBRARY_PATH&lt;/code&gt; under the &lt;tm&gt;Solaris&lt;/tm&gt; operating
  511         environment.
  512         If the agent library is statically linked into the executable
  513         then no actual loading takes place.
  514     &lt;p/&gt;
  515       &lt;/dd&gt;
  516       &lt;dt&gt;&lt;code&gt;-agentpath:&lt;/code&gt;&lt;i&gt;&amp;lt;path-to-agent&amp;gt;&lt;/i&gt;&lt;code&gt;=&lt;/code&gt;&lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt;&lt;/dt&gt;
  517       &lt;dd&gt;
  518 	The path following &lt;code&gt;-agentpath:&lt;/code&gt; is the absolute path from which
  519 	to load the library.
  520 	No library name expansion will occur.
  521 	The &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; will be passed to the agent on start-up.
  522 	For example, if the option
  523 	&lt;code&gt;-agentpath:c:\myLibs\foo.dll=opt1,opt2&lt;/code&gt; is specified, the VM will attempt to
  524 	load the shared library &lt;code&gt;c:\myLibs\foo.dll&lt;/code&gt;. If the agent
  525         library is statically linked into the executable
  526         then no actual loading takes place.
  527     &lt;p/&gt;
  528       &lt;/dd&gt;
  529     &lt;/dl&gt;
  530     For a dynamic shared library agent, the start-up routine
  531     &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad&lt;/code&gt;&lt;/internallink&gt;
  532     in the library will be invoked. If the agent library is statically linked
  533     into the executable then the system will attempt to invoke the
  534     &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; entry point where
  535     &amp;lt;agent-lib-name&amp;gt; is the basename of the
  536     agent. In the above example &lt;code&gt;-agentpath:c:\myLibs\foo.dll=opt1,opt2&lt;/code&gt;,
  537     the system will attempt to find and call the &lt;code&gt;Agent_OnLoad_foo&lt;/code&gt; start-up routine.
  538     &lt;p/&gt;
  539     Libraries loaded with &lt;code&gt;-agentlib:&lt;/code&gt; or &lt;code&gt;-agentpath:&lt;/code&gt;
  540     will be searched for JNI native method implementations to facilitate the
  541     use of Java programming language code in tools, as is needed for
  542     &lt;internallink id=&quot;bci&quot;&gt;bytecode instrumentation&lt;/internallink&gt;.
  543     &lt;p/&gt;
  544     The agent libraries will be searched after all other libraries have been
  545     searched (agents wishing to override or intercept the native method
  546     implementations of non-agent methods can use the
  547     &lt;eventlink id=&quot;NativeMethodBind&quot;&gt;NativeMethodBind event&lt;/eventlink&gt;).
  548     &lt;p/&gt;
  549     These switches do the above and nothing more - they do not change the
  550     state of the VM or &lt;jvmti/&gt;.  No command line options are needed
  551     to enable &lt;jvmti/&gt;
  552     or aspects of &lt;jvmti/&gt;, this is handled programmatically
  553     by the use of
  554     &lt;internallink id=&quot;capability&quot;&gt;capabilities&lt;/internallink&gt;.
  555   &lt;/intro&gt;
  556 
  557   &lt;intro id=&quot;startup&quot; label=&quot;Agent Start-Up&quot;&gt;
  558     The VM starts each agent by invoking a start-up function.
  559     If the agent is started in the &lt;code&gt;OnLoad&lt;/code&gt;
  560     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt; the function
  561     &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad&lt;/code&gt;&lt;/internallink&gt;
  562     or &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad_L&lt;/code&gt;&lt;/internallink&gt;
  563     for statically linked agents will be invoked.
  564     If the agent is started in the live
  565     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt; the function
  566     &lt;internallink id=&quot;onattach&quot;&gt;&lt;code&gt;Agent_OnAttach&lt;/code&gt;&lt;/internallink&gt;
  567     or &lt;internallink id=&quot;onattach&quot;&gt;&lt;code&gt;Agent_OnAttach_L&lt;/code&gt;&lt;/internallink&gt;
  568     for statically linked agents will be invoked.
  569     Exactly one call to a start-up function is made per agent.
  570   &lt;/intro&gt;
  571 
  572   &lt;intro id=&quot;onload&quot; label=&quot;Agent Start-Up (OnLoad phase)&quot;&gt;
  573     If an agent is started during the &lt;code&gt;OnLoad&lt;/code&gt; phase then its
  574     agent library must export a start-up function with the following prototype:
  575     &lt;example&gt;
  576 JNIEXPORT jint JNICALL
  577 Agent_OnLoad(JavaVM *vm, char *options, void *reserved)&lt;/example&gt;
  578     Or for a statically linked agent named &#39;L&#39;:
  579     &lt;example&gt;
  580 JNIEXPORT jint JNICALL
  581 Agent_OnLoad_L(JavaVM *vm, char *options, void *reserved)&lt;/example&gt;
  582 
  583     The VM will start the agent by calling this function.
  584     It will be called early enough in VM initialization that:
  585     &lt;ul&gt;
  586       &lt;li&gt;&lt;functionlink id=&quot;SetSystemProperty&quot;&gt;system properties&lt;/functionlink&gt;
  587 	may be set before they have been used in the start-up of the VM&lt;/li&gt;
  588       &lt;li&gt;the full set of
  589 	&lt;internallink id=&quot;capability&quot;&gt;capabilities&lt;/internallink&gt;
  590 	is still available (note that capabilities that configure the VM
  591 	may only be available at this time--see the
  592 	&lt;internallink id=&quot;capability&quot;&gt;Capability function section&lt;/internallink&gt;)&lt;/li&gt;
  593       &lt;li&gt;no bytecodes have executed&lt;/li&gt;
  594       &lt;li&gt;no classes have been loaded&lt;/li&gt;
  595       &lt;li&gt;no objects have been created&lt;/li&gt;
  596     &lt;/ul&gt;
  597     &lt;p/&gt;
  598     The VM will call the &lt;code&gt;Agent_OnLoad&lt;/code&gt; or
  599     &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; function with
  600     &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; as the second argument -
  601     that is, using the command-line option examples,
  602     &lt;code&gt;&quot;opt1,opt2&quot;&lt;/code&gt; will be passed to the &lt;code&gt;char *options&lt;/code&gt;
  603     argument of &lt;code&gt;Agent_OnLoad&lt;/code&gt;.
  604     The &lt;code&gt;options&lt;/code&gt; argument is encoded as a
  605     &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
  606     If &lt;i&gt;=&amp;lt;options&amp;gt;&lt;/i&gt; is not specified,
  607     a zero length string is passed to &lt;code&gt;options&lt;/code&gt;.
  608     The lifespan of the &lt;code&gt;options&lt;/code&gt; string is the
  609     &lt;code&gt;Agent_OnLoad&lt;/code&gt; or &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt;
  610     call.  If needed beyond this time the string or parts of the string must
  611     be copied.
  612     The period between when &lt;code&gt;Agent_OnLoad&lt;/code&gt; is called and when it
  613     returns is called the &lt;i&gt;OnLoad phase&lt;/i&gt;.
  614     Since the VM is not initialized during the OnLoad
  615     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;,
  616     the set of allowed operations
  617     inside &lt;code&gt;Agent_OnLoad&lt;/code&gt; is restricted (see the function descriptions for the
  618     functionality available at this time).
  619     The agent can safely process the options and set
  620     event callbacks with &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt;. Once
  621     the VM initialization event is received
  622     (that is, the &lt;eventlink id=&quot;VMInit&quot;&gt;VMInit&lt;/eventlink&gt;
  623     callback is invoked), the agent
  624     can complete its initialization.
  625     &lt;rationale&gt;
  626       Early startup is required so that agents can set the desired capabilities,
  627       many of which must be set before the VM is initialized.
  628       In JVMDI, the -Xdebug command-line option provided
  629       very coarse-grain control of capabilities.
  630       JVMPI implementations use various tricks to provide a single &quot;JVMPI on&quot; switch.
  631       No reasonable command-line
  632       option could provide the fine-grain of control required to balance needed capabilities vs
  633       performance impact.
  634       Early startup is also needed so that agents can control the execution
  635       environment - modifying the file system and system properties to install
  636       their functionality.
  637     &lt;/rationale&gt;
  638     &lt;p/&gt;
  639     The return value from &lt;code&gt;Agent_OnLoad&lt;/code&gt; or
  640     &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; is used to indicate an error.
  641     Any value other than zero indicates an error and causes termination of the VM.
  642   &lt;/intro&gt;
  643 
  644   &lt;intro id=&quot;onattach&quot; label=&quot;Agent Start-Up (Live phase)&quot;&gt;
  645     A VM may support a mechanism that allows agents to be started in the VM during the live
  646     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;. The details of how this is supported,
  647     are implementation specific. For example, a tool may use some platform specific mechanism,
  648     or implementation specific API, to attach to the running VM, and request it start a given
  649     agent.
  650     &lt;p/&gt;
  651     If an agent is started during the live phase then its agent library
  652     must export a start-up function
  653     with the following prototype:
  654     &lt;example&gt;
  655 JNIEXPORT jint JNICALL
  656 Agent_OnAttach(JavaVM* vm, char *options, void *reserved)&lt;/example&gt;
  657 Or for a statically linked agent named &#39;L&#39;:
  658     &lt;example&gt;
  659 JNIEXPORT jint JNICALL
  660 Agent_OnAttach_L(JavaVM* vm, char *options, void *reserved)&lt;/example&gt;
  661 
  662     &lt;p/&gt;
  663     The VM will start the agent by calling this function.
  664     It will be called in the context of a thread
  665     that is attached to the VM. The first argument &lt;i&gt;&amp;lt;vm&amp;gt;&lt;/i&gt; is the Java VM.
  666     The &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; argument is the startup options provided to the agent.
  667     &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; is encoded as a &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8
  668     &lt;/internallink&gt; string.
  669     If startup options were not provided, a zero length string is passed to
  670     &lt;code&gt;options&lt;/code&gt;. The lifespan of the &lt;code&gt;options&lt;/code&gt; string is the
  671     &lt;code&gt;Agent_OnAttach&lt;/code&gt; or &lt;code&gt;Agent_OnAttach_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; call.
  672     If needed beyond this time the string or parts of the string must be copied.
  673     &lt;p/&gt;
  674     Note that some &lt;internallink id=&quot;capability&quot;&gt;capabilities&lt;/internallink&gt;
  675     may not be available in the live phase.
  676     &lt;p/&gt;
  677     The &lt;code&gt;Agent_OnAttach&lt;/code&gt; or &lt;code&gt;Agent_OnAttach_&amp;lt;agent-lib-name
  678     &amp;gt;&lt;/code&gt; function initializes the agent and returns a value
  679     to the VM to indicate if an error occurred. Any value other than zero indicates an error.
  680     An error does not cause the VM to terminate. Instead the VM ignores the error, or takes
  681     some implementation specific action -- for example it might print an error to standard error,
  682     or record the error in a system log.
  683   &lt;/intro&gt;
  684 
  685   &lt;intro id=&quot;onunload&quot; label=&quot;Agent Shutdown&quot;&gt;
  686     The library may optionally export a
  687     shutdown function with the following prototype:
  688     &lt;example&gt;
  689 JNIEXPORT void JNICALL
  690 Agent_OnUnload(JavaVM *vm)&lt;/example&gt;
  691     Or for a statically linked agent named &#39;L&#39;:
  692     &lt;example&gt;
  693 JNIEXPORT void JNICALL
  694 Agent_OnUnload_L(JavaVM *vm)&lt;/example&gt;
  695 
  696     This function will be called by the VM when the library is about to be unloaded.
  697     The library will be unloaded (unless it is statically linked into the
  698     executable) and this function will be called if some platform specific
  699     mechanism causes the unload (an unload mechanism is not specified in this document)
  700     or the library is (in effect) unloaded by the termination of the VM whether through
  701     normal termination or VM failure, including start-up failure.
  702     Uncontrolled shutdown is, of course, an exception to this rule.
  703     Note the distinction between this function and the
  704     &lt;eventlink id=&quot;VMDeath&quot;&gt;VM Death event&lt;/eventlink&gt;: for the VM Death event
  705     to be sent, the VM must have run at least to the point of initialization and a valid
  706     &lt;jvmti/&gt; environment must exist which has set a callback for VMDeath
  707     and enabled the event.
  708     None of these are required for &lt;code&gt;Agent_OnUnload&lt;/code&gt; or
  709     &lt;code&gt;Agent_OnUnload_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; and this function
  710     is also called if the library is unloaded for other reasons.
  711     In the case that a VM Death event is sent, it will be sent before this
  712     function is called (assuming this function is called due to VM termination).
  713     This function can be used to clean-up resources allocated by the agent.
  714   &lt;/intro&gt;
  715 
  716   &lt;intro id=&quot;tooloptions&quot; label=&quot;JAVA_TOOL_OPTIONS&quot;&gt;
  717     Since the command-line cannot always be accessed or modified, for example in embedded VMs
  718     or simply VMs launched deep within scripts, a &lt;code&gt;JAVA_TOOL_OPTIONS&lt;/code&gt; variable is
  719     provided so that agents may be launched in these cases.
  720     &lt;p/&gt;
  721     Platforms which support environment variables or other named strings, may support the
  722     &lt;code&gt;JAVA_TOOL_OPTIONS&lt;/code&gt; variable.  This variable will be broken into options at white-space
  723     boundaries.  White-space characters include space, tab, carriage-return, new-line,
  724     vertical-tab, and form-feed.  Sequences of white-space characters are considered
  725     equivalent to a single white-space character.  No white-space is included in the options
  726     unless quoted.  Quoting is as follows:
  727     &lt;ul&gt;
  728         &lt;li&gt;All characters enclosed between a pair of single quote marks (&#39;&#39;), except a single
  729         quote, are quoted.&lt;/li&gt;
  730         &lt;li&gt;Double quote characters have no special meaning inside a pair of single quote marks.&lt;/li&gt;
  731         &lt;li&gt;All characters enclosed between a pair of double quote marks (&quot;&quot;), except a double
  732         quote, are quoted.&lt;/li&gt;
  733         &lt;li&gt;Single quote characters have no special meaning inside a pair of double quote marks.&lt;/li&gt;
  734         &lt;li&gt;A quoted part can start or end anywhere in the variable.&lt;/li&gt;
  735         &lt;li&gt;White-space characters have no special meaning when quoted -- they are included in
  736         the option like any other character and do not mark white-space boundaries.&lt;/li&gt;
  737         &lt;li&gt;The pair of quote marks is not included in the option.&lt;/li&gt;
  738     &lt;/ul&gt;
  739     &lt;code&gt;JNI_CreateJavaVM&lt;/code&gt; (in the JNI Invocation API) will prepend these options to the options supplied
  740     in its &lt;code&gt;JavaVMInitArgs&lt;/code&gt; argument. Platforms may disable this feature in cases where security is
  741     a concern; for example, the Reference Implementation disables this feature on Unix systems when
  742     the effective user or group ID differs from the real ID.
  743     This feature is intended to support the initialization of tools -- specifically including the
  744     launching of native or Java programming language agents.  Multiple tools may wish to use this
  745     feature, so the variable should not be overwritten, instead,  options should be appended to
  746     the variable.  Note that since the variable is processed at the time of the JNI Invocation
  747     API create VM call, options processed by a launcher (e.g., VM selection options) will not be handled.
  748   &lt;/intro&gt;
  749 
  750   &lt;intro id=&quot;environments&quot; label=&quot;Environments&quot;&gt;
  751     The &lt;jvmti/&gt; specification supports the use of multiple simultaneous
  752     &lt;jvmti/&gt; agents.
  753     Each agent has its own &lt;jvmti/&gt; environment.
  754     That is, the &lt;jvmti/&gt; state is
  755     separate for each agent - changes to one environment do not affect the
  756     others.  The state of a &lt;jvmti/&gt;
  757     environment includes:
  758     &lt;ul&gt;
  759       &lt;li&gt;&lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;the event callbacks&lt;/functionlink&gt;&lt;/li&gt;
  760       &lt;li&gt;&lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;the set of events which are enabled&lt;/functionlink&gt;&lt;/li&gt;
  761       &lt;li&gt;&lt;internallink id=&quot;capability&quot;&gt;the capabilities&lt;/internallink&gt;&lt;/li&gt;
  762       &lt;li&gt;&lt;internallink id=&quot;memory&quot;&gt;the memory allocation/deallocation hooks&lt;/internallink&gt;&lt;/li&gt;
  763     &lt;/ul&gt;
  764     Although their &lt;jvmti/&gt; state
  765     is separate, agents inspect and modify the shared state
  766     of the VM, they also share the native environment in which they execute.
  767     As such, an agent can perturb the results of other agents or cause them
  768     to fail.  It is the responsibility of the agent writer to specify the level
  769     of compatibility with other agents.  &lt;jvmti/&gt; implementations are not capable
  770     of preventing destructive interactions between agents. Techniques to reduce
  771     the likelihood of these occurrences are beyond the scope of this document.
  772     &lt;p/&gt;
  773     An agent creates a &lt;jvmti/&gt; environment
  774     by passing a &lt;jvmti/&gt; version
  775     as the interface ID to the JNI Invocation API function
  776     &lt;externallink id=&quot;jni/invocation.html#getenv&quot;&gt;
  777       &lt;code&gt;GetEnv&lt;/code&gt;&lt;/externallink&gt;.
  778     See &lt;internallink id=&quot;jvmtiEnvAccess&quot;&gt;Accessing &lt;jvmti/&gt; Functions&lt;/internallink&gt;
  779     for more details on the creation and use of
  780     &lt;jvmti/&gt; environments.
  781     Typically, &lt;jvmti/&gt; environments are created by calling &lt;code&gt;GetEnv&lt;/code&gt; from
  782     &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad&lt;/code&gt;&lt;/internallink&gt;.
  783   &lt;/intro&gt;
  784 
  785   &lt;intro id=&quot;bci&quot; label=&quot;Bytecode Instrumentation&quot;&gt;
  786     This interface does not include some events that one might expect in an interface with
  787     profiling support.  Some examples include full speed
  788     method enter and exit events.  The interface instead provides support for
  789     &lt;i&gt;bytecode instrumentation&lt;/i&gt;, the ability to alter the Java virtual machine
  790     bytecode instructions which comprise the target program.  Typically, these alterations
  791     are to add &quot;events&quot; to the code of a method - for example, to add, at the beginning of a method,
  792     a call to &lt;code&gt;MyProfiler.methodEntered()&lt;/code&gt;.
  793     Since the changes are purely additive, they do not modify application
  794     state or behavior.
  795     Because the inserted agent code is standard bytecodes, the VM can run at full speed,
  796     optimizing not only the target program but also the instrumentation.  If the
  797     instrumentation does not involve switching from bytecode execution, no expensive
  798     state transitions are needed.  The result is high performance events.
  799     This approach also provides complete control to the agent: instrumentation can be
  800     restricted to &quot;interesting&quot; portions of the code (e.g., the end user&#39;s code) and
  801     can be conditional.  Instrumentation can run entirely in Java programming language
  802     code or can call into the native agent.  Instrumentation can simply maintain
  803     counters or can statistically sample events.
  804     &lt;p/&gt;
  805     Instrumentation can be inserted in one of three ways:
  806     &lt;ul&gt;
  807       &lt;li&gt;
  808 	Static Instrumentation: The class file is instrumented before it
  809 	is loaded into the VM - for example, by creating a duplicate directory of
  810 	&lt;code&gt;*.class&lt;/code&gt; files which have been modified to add the instrumentation.
  811 	This method is extremely awkward and, in general, an agent cannot know
  812 	the origin of the class files which will be loaded.
  813       &lt;/li&gt;
  814       &lt;li&gt;
  815 	Load-Time Instrumentation: When a class file is loaded by the VM, the raw
  816 	bytes of the class file are sent for instrumentation to the agent.
  817 	The &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt;
  818 	event, triggered by the class load,
  819 	provides this functionality.  This mechanism provides efficient
  820 	and complete access to one-time instrumentation.
  821       &lt;/li&gt;
  822       &lt;li&gt;
  823 	Dynamic Instrumentation: A class which is already loaded (and possibly
  824 	even running) is modified.  This optional feature is provided by the
  825 	&lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event, triggered by calling the
  826 	&lt;functionlink id=&quot;RetransformClasses&quot;/&gt; function.
  827 	Classes can be modified multiple times and can be returned to their
  828 	original state.
  829 	The mechanism allows instrumentation which changes during the
  830 	course of execution.
  831       &lt;/li&gt;
  832     &lt;/ul&gt;
  833     &lt;p/&gt;
  834     The class modification functionality provided in this interface
  835     is intended to provide a mechanism for instrumentation
  836     (the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event
  837     and the &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; function)
  838     and, during development, for fix-and-continue debugging
  839     (the &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; function).
  840     &lt;p/&gt;
  841     Care must be taken to avoid perturbing dependencies, especially when
  842     instrumenting core classes.  For example, an approach to getting notification
  843     of every object allocation is to instrument the constructor on
  844     &lt;code&gt;Object&lt;/code&gt;.  Assuming that the constructor is initially
  845     empty, the constructor could be changed to:
  846     &lt;example&gt;
  847       public Object() {
  848         MyProfiler.allocationTracker(this);
  849       }
  850     &lt;/example&gt;
  851     However, if this change was made using the
  852     &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt;
  853     event then this might impact a typical VM as follows:
  854     the first created object will call the constructor causing a class load of
  855     &lt;code&gt;MyProfiler&lt;/code&gt;; which will then cause
  856     object creation, and since &lt;code&gt;MyProfiler&lt;/code&gt; isn&#39;t loaded yet,
  857     infinite recursion; resulting in a stack overflow.  A refinement of this
  858     would be to delay invoking the tracking method until a safe time.  For
  859     example, &lt;code&gt;trackAllocations&lt;/code&gt; could be set in the
  860     handler for the &lt;code&gt;VMInit&lt;/code&gt; event.
  861     &lt;example&gt;
  862       static boolean trackAllocations = false;
  863 
  864       public Object() {
  865         if (trackAllocations) {
  866           MyProfiler.allocationTracker(this);
  867         }
  868       }
  869     &lt;/example&gt;
  870     &lt;p/&gt;
  871     The &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt; allows native methods
  872     to be instrumented by the use of wrapper methods.
  873   &lt;/intro&gt;
  874 
  875 &lt;intro id=&quot;bcimodules&quot; label=&quot;Bytecode Instrumentation of code in modules&quot;&gt;
  876   Agents can use the functions &lt;functionlink id=&quot;AddModuleReads&quot;/&gt;,
  877   &lt;functionlink id=&quot;AddModuleExports&quot;/&gt;, &lt;functionlink id=&quot;AddModuleOpens&quot;/&gt;,
  878   &lt;functionlink id=&quot;AddModuleUses&quot;/&gt; and &lt;functionlink id=&quot;AddModuleProvides&quot;/&gt;
  879   to update a module to expand the set of modules that it reads, the set of
  880   packages that it exports or opens to other modules, or the services that it
  881   uses and provides.
  882   &lt;p/&gt;
  883   As an aid to agents that deploy supporting classes on the search path of
  884   the bootstrap class loader, or the search path of the class loader that
  885   loads the main class, the Java virtual machine arranges for the module
  886   of classes transformed by the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event to
  887   read the unnamed module of both class loaders.
  888 &lt;/intro&gt;
  889 
  890   &lt;intro id=&quot;mUTF&quot; label=&quot;Modified UTF-8 String Encoding&quot;&gt;
  891     &lt;jvmti/&gt; uses modified UTF-8 to encode character strings.
  892     This is the same encoding used by JNI.
  893     Modified UTF-8 differs
  894     from standard UTF-8 in the representation of supplementary characters
  895     and of the null character. See the
  896     &lt;externallink id=&quot;jni/types.html#modified-utf-8-strings&quot;&gt;
  897       Modified UTF-8 Strings&lt;/externallink&gt;
  898     section of the JNI specification for details.
  899   &lt;/intro&gt;
  900 
  901   &lt;intro id=&quot;context&quot; label=&quot;Specification Context&quot;&gt;
  902     Since this interface provides access to the state of applications running in the
  903     Java virtual machine;
  904     terminology refers to the Java platform and not the native
  905     platform (unless stated otherwise).  For example:
  906     &lt;ul&gt;
  907       &lt;li&gt;&quot;thread&quot; means Java programming language thread.&lt;/li&gt;
  908       &lt;li&gt;&quot;stack frame&quot; means Java virtual machine stack frame.&lt;/li&gt;
  909       &lt;li&gt;&quot;class&quot; means Java programming language class.&lt;/li&gt;
  910       &lt;li&gt;&quot;heap&quot; means Java virtual machine heap.&lt;/li&gt;
  911       &lt;li&gt;&quot;monitor&quot; means Java programming language object monitor.&lt;/li&gt;
  912     &lt;/ul&gt;
  913     &lt;p/&gt;
  914     Sun, Sun Microsystems, the Sun logo, Java, and JVM
  915     are trademarks or registered trademarks of Oracle
  916     and/or its affiliates, in the U.S. and other countries.
  917   &lt;/intro&gt;
  918 
  919 
  920 &lt;functionsection label=&quot;Functions&quot;&gt;
  921   &lt;intro id=&quot;jvmtiEnvAccess&quot; label=&quot;Accessing Functions&quot;&gt;
  922     Native code accesses &lt;jvmti/&gt; features
  923     by calling &lt;jvmti/&gt; functions.
  924     Access to &lt;jvmti/&gt; functions is by use of an interface pointer
  925     in the same manner as
  926     &lt;externallink id=&quot;jni/design.html&quot;&gt;Java
  927       Native Interface (JNI) functions&lt;/externallink&gt; are accessed.
  928     The &lt;jvmti/&gt; interface pointer is called the
  929     &lt;i&gt;environment pointer&lt;/i&gt;.
  930     &lt;p/&gt;
  931     An environment pointer is a pointer to an environment and has
  932     the type &lt;code&gt;jvmtiEnv*&lt;/code&gt;.
  933     An environment has information about its &lt;jvmti/&gt; connection.
  934     The first value in the environment is a pointer to the function table.
  935     The function table is an array of pointers to &lt;jvmti/&gt; functions.
  936     Every function pointer is at a predefined offset inside the
  937     array.
  938     &lt;p/&gt;
  939     When used from the C language:
  940     double indirection is used to access the functions;
  941     the environment pointer provides context and is the first
  942     parameter of each function call; for example:
  943     &lt;example&gt;
  944 jvmtiEnv *jvmti;
  945 ...
  946 jvmtiError err = (*jvmti)-&gt;GetLoadedClasses(jvmti, &amp;amp;class_count, &amp;amp;classes);
  947     &lt;/example&gt;
  948     &lt;p/&gt;
  949     When used from the C++ language:
  950     functions are accessed as member functions of &lt;code&gt;jvmtiEnv&lt;/code&gt;;
  951     the environment pointer is not passed to the function call; for example:
  952     &lt;example&gt;
  953 jvmtiEnv *jvmti;
  954 ...
  955 jvmtiError err = jvmti-&gt;GetLoadedClasses(&amp;amp;class_count, &amp;amp;classes);
  956     &lt;/example&gt;
  957     Unless otherwise stated, all examples and declarations in this
  958     specification use the C language.
  959     &lt;p/&gt;
  960     A &lt;jvmti/&gt; environment can be obtained through the JNI Invocation API
  961     &lt;code&gt;GetEnv&lt;/code&gt; function:
  962     &lt;example&gt;
  963 jvmtiEnv *jvmti;
  964 ...
  965 (*jvm)-&gt;GetEnv(jvm, &amp;amp;jvmti, JVMTI_VERSION_1_0);
  966     &lt;/example&gt;
  967     Each call to &lt;code&gt;GetEnv&lt;/code&gt;
  968     creates a new &lt;jvmti/&gt; connection and thus
  969     a new &lt;jvmti/&gt; environment.
  970     The &lt;code&gt;version&lt;/code&gt; argument of &lt;code&gt;GetEnv&lt;/code&gt; must be
  971     a &lt;jvmti/&gt; version.
  972     The returned environment may have a different version than the
  973     requested version but the returned environment must be compatible.
  974     &lt;code&gt;GetEnv&lt;/code&gt; will return &lt;code&gt;JNI_EVERSION&lt;/code&gt; if a
  975     compatible version is not available, if &lt;jvmti/&gt; is not supported or
  976     &lt;jvmti/&gt; is not supported in the current VM configuration.
  977     Other interfaces may be added for creating &lt;jvmti/&gt; environments
  978     in specific contexts.
  979     Each environment has its own state (for example,
  980     &lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;desired events&lt;/functionlink&gt;,
  981     &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;event handling functions&lt;/functionlink&gt;, and
  982     &lt;functionlink id=&quot;AddCapabilities&quot;&gt;capabilities&lt;/functionlink&gt;).
  983     An environment is released with
  984     &lt;functionlink id=&quot;DisposeEnvironment&quot;&gt;&lt;/functionlink&gt;.
  985     Thus, unlike JNI which has one environment per thread, &lt;jvmti/&gt; environments work
  986     across threads and are created dynamically.
  987   &lt;/intro&gt;
  988 
  989   &lt;intro id=&quot;functionReturn&quot; label=&quot;Function Return Values&quot;&gt;
  990     &lt;jvmti/&gt; functions always return an
  991     &lt;internallink id=&quot;ErrorSection&quot;&gt;error code&lt;/internallink&gt; via the
  992     &lt;datalink id=&quot;jvmtiError&quot;/&gt; function return value.
  993     Some functions can return additional
  994     values through pointers provided by the calling function.
  995     In some cases, &lt;jvmti/&gt; functions allocate memory that your program must
  996     explicitly deallocate. This is indicated in the individual &lt;jvmti/&gt;
  997     function descriptions.  Empty lists, arrays, sequences, etc are
  998     returned as &lt;code&gt;NULL&lt;/code&gt;.
  999     &lt;p/&gt;
 1000     In the event that the &lt;jvmti/&gt; function encounters
 1001     an error (any return value other than &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;) the values
 1002     of memory referenced by argument pointers is undefined, but no memory
 1003     will have been allocated and no global references will have been allocated.
 1004     If the error occurs because of invalid input, no action will have occurred.
 1005   &lt;/intro&gt;
 1006 
 1007 &lt;intro id=&quot;refs&quot; label=&quot;Managing JNI Object References&quot;&gt;
 1008     &lt;jvmti/&gt; functions identify objects with JNI references
 1009     (&lt;datalink id=&quot;jobject&quot;/&gt; and &lt;datalink id=&quot;jclass&quot;/&gt;)
 1010     and their derivatives
 1011     (&lt;datalink id=&quot;jthread&quot;/&gt; and &lt;datalink id=&quot;jthreadGroup&quot;/&gt;).
 1012     References passed to
 1013     &lt;jvmti/&gt; functions can be either global or local, but they must be
 1014     strong references. All references returned by &lt;jvmti/&gt; functions are
 1015     local references--these local references are created
 1016     during the &lt;jvmti/&gt; call.
 1017     Local references are a resource that must be managed (see the
 1018     &lt;externallink id=&quot;jni/functions.html#local-references&quot;&gt;
 1019       JNI Documentation&lt;/externallink&gt;).
 1020     When threads return from native code all local references
 1021     are freed.  Note that some threads, including typical
 1022     agent threads, will never return from native code.
 1023     A thread is ensured the ability to create sixteen local
 1024     references without the need for any explicit management.
 1025     For threads executing a limited number of &lt;jvmti/&gt; calls before
 1026     returning from native code
 1027     (for example, threads processing events),
 1028     it may be determined that no explicit management
 1029     is needed.
 1030     However, long running agent threads will need explicit
 1031     local reference management--usually with the JNI functions
 1032     &lt;code&gt;PushLocalFrame&lt;/code&gt; and &lt;code&gt;PopLocalFrame&lt;/code&gt;.
 1033     Conversely, to preserve references beyond the
 1034     return from native code, they must be converted to global references.
 1035     These rules do not apply to &lt;datalink id=&quot;jmethodID&quot;/&gt; and &lt;datalink id=&quot;jfieldID&quot;/&gt;
 1036     as they are not &lt;datalink id=&quot;jobject&quot;/&gt;s.
 1037 &lt;/intro&gt;
 1038 
 1039     &lt;intro id=&quot;prereqState&quot; label=&quot;Prerequisite State for Calling Functions&quot;&gt;
 1040       Unless the function explicitly states that the agent must bring
 1041       a thread or the VM to a particular state (for example, suspended),
 1042       the &lt;jvmti/&gt; implementation is responsible for bringing the VM to a
 1043       safe and consistent state for performing the function.
 1044     &lt;/intro&gt;
 1045 
 1046     &lt;intro id=&quot;functionsExceptions&quot; label=&quot;Exceptions and Functions&quot;&gt;
 1047       &lt;jvmti/&gt; functions never throw exceptions; error conditions are
 1048       communicated via the
 1049       &lt;internallink id=&quot;functionReturn&quot;&gt;function return value&lt;/internallink&gt;.
 1050       Any existing exception state is preserved across a call to a
 1051       &lt;jvmti/&gt; function.
 1052       See the
 1053       &lt;externallink
 1054         id=&quot;jni/design.html#java-exceptions&quot;
 1055              &gt;Java Exceptions&lt;/externallink&gt;
 1056       section of the JNI specification for information on handling exceptions.
 1057     &lt;/intro&gt;
 1058 
 1059   &lt;category id=&quot;memory&quot; label=&quot;Memory Management&quot;&gt;
 1060     &lt;intro&gt;
 1061       These functions provide for the allocation and deallocation of
 1062       memory used by &lt;jvmti/&gt; functionality and can be used to provide
 1063       working memory for agents.
 1064       Memory managed by &lt;jvmti/&gt; is not compatible with other memory
 1065       allocation libraries and mechanisms.
 1066     &lt;/intro&gt;
 1067 
 1068     &lt;function id=&quot;Allocate&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;notrace&quot; num=&quot;46&quot;&gt;
 1069       &lt;synopsis&gt;Allocate&lt;/synopsis&gt;
 1070       &lt;description&gt;
 1071 	Allocate an area of memory through the &lt;jvmti/&gt; allocator.
 1072         The allocated
 1073 	memory should be freed with &lt;functionlink id=&quot;Deallocate&quot;&gt;&lt;/functionlink&gt;.
 1074       &lt;/description&gt;
 1075       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1076       &lt;capabilities&gt;
 1077       &lt;/capabilities&gt;
 1078       &lt;parameters&gt;
 1079 	&lt;param id=&quot;size&quot;&gt;
 1080 	  &lt;jlong/&gt;
 1081 	  &lt;description&gt;
 1082 	    The number of bytes to allocate.
 1083 	    &lt;rationale&gt;
 1084 	      &lt;code&gt;jlong&lt;/code&gt; is used for compatibility with JVMDI.
 1085 	    &lt;/rationale&gt;
 1086 	  &lt;/description&gt;
 1087 	&lt;/param&gt;
 1088 	&lt;param id=&quot;mem_ptr&quot;&gt;
 1089 	  &lt;allocbuf incount=&quot;size&quot;&gt;&lt;uchar/&gt;&lt;/allocbuf&gt;
 1090 	  &lt;description&gt;
 1091 	    On return, a pointer to the beginning of the allocated memory.
 1092             If &lt;code&gt;size&lt;/code&gt; is zero, &lt;code&gt;NULL&lt;/code&gt; is returned.
 1093 	  &lt;/description&gt;
 1094 	&lt;/param&gt;
 1095       &lt;/parameters&gt;
 1096       &lt;errors&gt;
 1097 	&lt;error id=&quot;JVMTI_ERROR_OUT_OF_MEMORY&quot;&gt;
 1098 	  Memory request cannot be honored.
 1099 	&lt;/error&gt;
 1100 	&lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 1101 	  &lt;paramlink id=&quot;size&quot;&gt;&lt;/paramlink&gt; is less than zero.
 1102 	&lt;/error&gt;
 1103       &lt;/errors&gt;
 1104     &lt;/function&gt;
 1105 
 1106     &lt;function id=&quot;Deallocate&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;notrace&quot; num=&quot;47&quot;&gt;
 1107       &lt;synopsis&gt;Deallocate&lt;/synopsis&gt;
 1108       &lt;description&gt;
 1109 	Deallocate &lt;code&gt;mem&lt;/code&gt;  using the &lt;jvmti/&gt; allocator.
 1110         This function should
 1111 	be used to deallocate any memory allocated and returned
 1112         by a &lt;jvmti/&gt; function
 1113 	(including memory allocated with &lt;functionlink id=&quot;Allocate&quot;&gt;&lt;/functionlink&gt;).
 1114         All allocated memory must be deallocated
 1115         or the memory cannot be reclaimed.
 1116       &lt;/description&gt;
 1117       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1118       &lt;capabilities&gt;
 1119       &lt;/capabilities&gt;
 1120       &lt;parameters&gt;
 1121 	&lt;param id=&quot;mem&quot;&gt;
 1122 	  &lt;outbuf&gt;
 1123             &lt;uchar/&gt;
 1124 	    &lt;nullok&gt;the call is ignored&lt;/nullok&gt;
 1125           &lt;/outbuf&gt;
 1126 	  &lt;description&gt;
 1127 	    A pointer to the beginning of the allocated memory.
 1128             Please ignore &quot;On return, the elements are set.&quot;
 1129               &lt;todo&gt;keep it from generating &quot;On return, the elements are set&quot;&lt;/todo&gt;
 1130 	  &lt;/description&gt;
 1131 	&lt;/param&gt;
 1132       &lt;/parameters&gt;
 1133       &lt;errors&gt;
 1134       &lt;/errors&gt;
 1135     &lt;/function&gt;
 1136   &lt;/category&gt;
 1137 
 1138   &lt;category id=&quot;threadCategory&quot; label=&quot;Thread&quot;&gt;
 1139     &lt;intro&gt;
 1140     &lt;/intro&gt;
 1141 
 1142     &lt;function id=&quot;GetThreadState&quot; num=&quot;17&quot;&gt;
 1143       &lt;synopsis&gt;Get Thread State&lt;/synopsis&gt;
 1144       &lt;description&gt;
 1145         Get the state of a thread.  The state of the thread is represented by the
 1146         answers to the hierarchical set of questions below:
 1147           &lt;ul type=&quot;circle&quot;&gt;
 1148             &lt;li&gt;&lt;i&gt;Alive?&lt;/i&gt;
 1149               &lt;ul&gt;
 1150                 &lt;li&gt;Not alive.
 1151                   &lt;ul type=&quot;circle&quot;&gt;
 1152                     &lt;li&gt;&lt;i&gt;Why not alive?&lt;/i&gt;
 1153                       &lt;ul&gt;
 1154                         &lt;li&gt;New.&lt;/li&gt;
 1155                         &lt;li&gt;Terminated (&lt;datalink
 1156                             id=&quot;JVMTI_THREAD_STATE_TERMINATED&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_TERMINATED&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1157                       &lt;/ul&gt;
 1158                     &lt;/li&gt;
 1159                   &lt;/ul&gt;
 1160                 &lt;/li&gt;
 1161                 &lt;li&gt;Alive (&lt;datalink
 1162                     id=&quot;JVMTI_THREAD_STATE_ALIVE&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt;&lt;/datalink&gt;)
 1163                   &lt;ul type=&quot;circle&quot;&gt;
 1164                     &lt;li&gt;&lt;i&gt;Suspended?&lt;/i&gt;
 1165                       &lt;ul&gt;
 1166                         &lt;li&gt;Suspended (&lt;datalink
 1167                             id=&quot;JVMTI_THREAD_STATE_SUSPENDED&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_SUSPENDED&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1168                         &lt;li&gt;Not suspended&lt;/li&gt;
 1169                       &lt;/ul&gt;
 1170                     &lt;/li&gt;
 1171                     &lt;li&gt;&lt;i&gt;Interrupted?&lt;/i&gt;
 1172                       &lt;ul&gt;
 1173                         &lt;li&gt;Interrupted (&lt;datalink
 1174                             id=&quot;JVMTI_THREAD_STATE_INTERRUPTED&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_INTERRUPTED&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1175                         &lt;li&gt;Not interrupted.&lt;/li&gt;
 1176                       &lt;/ul&gt;
 1177                     &lt;/li&gt;
 1178                     &lt;li&gt;&lt;i&gt;In native?&lt;/i&gt;
 1179                       &lt;ul&gt;
 1180                         &lt;li&gt;In native code (&lt;datalink
 1181                             id=&quot;JVMTI_THREAD_STATE_IN_NATIVE&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_IN_NATIVE&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1182                         &lt;li&gt;In Java programming language code&lt;/li&gt;
 1183                       &lt;/ul&gt;
 1184                     &lt;/li&gt;
 1185                     &lt;li&gt;&lt;i&gt;What alive state?&lt;/i&gt;
 1186                       &lt;ul&gt;
 1187                         &lt;li&gt;Runnable (&lt;datalink
 1188                             id=&quot;JVMTI_THREAD_STATE_RUNNABLE&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_RUNNABLE&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1189                         &lt;li&gt;Blocked (&lt;datalink
 1190                             id=&quot;JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1191                         &lt;li&gt;Waiting (&lt;datalink
 1192                             id=&quot;JVMTI_THREAD_STATE_WAITING&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt;&lt;/datalink&gt;)
 1193                           &lt;ul type=&quot;circle&quot;&gt;
 1194                             &lt;li&gt;&lt;i&gt;Timed wait?&lt;/i&gt;
 1195                               &lt;ul&gt;
 1196                                 &lt;li&gt;Indefinite (&lt;datalink
 1197                                     id=&quot;JVMTI_THREAD_STATE_WAITING_INDEFINITELY&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING_INDEFINITELY&lt;/code&gt;&lt;/datalink&gt;&lt;/li&gt;
 1198                                 &lt;li&gt;Timed (&lt;datalink
 1199                                     id=&quot;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1200                               &lt;/ul&gt;
 1201                             &lt;/li&gt;
 1202                             &lt;li&gt;&lt;i&gt;Why waiting?&lt;/i&gt;
 1203                               &lt;ul&gt;
 1204                                 &lt;li&gt;Object.wait (&lt;datalink
 1205                                     id=&quot;JVMTI_THREAD_STATE_IN_OBJECT_WAIT&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_IN_OBJECT_WAIT&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1206                                 &lt;li&gt;LockSupport.park (&lt;datalink
 1207                                     id=&quot;JVMTI_THREAD_STATE_PARKED&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_PARKED&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1208                                 &lt;li&gt;Sleeping (&lt;datalink
 1209                                     id=&quot;JVMTI_THREAD_STATE_SLEEPING&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_SLEEPING&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1210                               &lt;/ul&gt;
 1211                             &lt;/li&gt;
 1212                           &lt;/ul&gt;
 1213                         &lt;/li&gt;
 1214                       &lt;/ul&gt;
 1215                     &lt;/li&gt;
 1216                   &lt;/ul&gt;
 1217                 &lt;/li&gt;
 1218               &lt;/ul&gt;
 1219             &lt;/li&gt;
 1220           &lt;/ul&gt;
 1221         &lt;p/&gt;
 1222 	The answers are represented by the following bit vector.
 1223 	&lt;constants id=&quot;jvmtiThreadState&quot; label=&quot;Thread State Flags&quot; kind=&quot;bits&quot;&gt;
 1224 	  &lt;constant id=&quot;JVMTI_THREAD_STATE_ALIVE&quot; num=&quot;0x0001&quot;&gt;
 1225 	    Thread is alive. Zero if thread is new (not started) or terminated.
 1226 	  &lt;/constant&gt;
 1227 	  &lt;constant id=&quot;JVMTI_THREAD_STATE_TERMINATED&quot; num=&quot;0x0002&quot;&gt;
 1228 	    Thread has completed execution.
 1229 	  &lt;/constant&gt;
 1230 	  &lt;constant id=&quot;JVMTI_THREAD_STATE_RUNNABLE&quot; num=&quot;0x0004&quot;&gt;
 1231 	    Thread is runnable.
 1232 	  &lt;/constant&gt;
 1233 	  &lt;constant id=&quot;JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&quot; num=&quot;0x0400&quot;&gt;
 1234 	    Thread is waiting to enter a synchronization block/method or,
 1235             after an &lt;code&gt;Object.wait()&lt;/code&gt;, waiting to re-enter a
 1236             synchronization block/method.
 1237 	  &lt;/constant&gt;
 1238 	  &lt;constant id=&quot;JVMTI_THREAD_STATE_WAITING&quot; num=&quot;0x0080&quot;&gt;
 1239 	    Thread is waiting.
 1240 	  &lt;/constant&gt;
 1241 	  &lt;constant id=&quot;JVMTI_THREAD_STATE_WAITING_INDEFINITELY&quot; num=&quot;0x0010&quot;&gt;
 1242 	    Thread is waiting without a timeout.
 1243             For example, &lt;code&gt;Object.wait()&lt;/code&gt;.
 1244 	  &lt;/constant&gt;
 1245 	  &lt;constant id=&quot;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&quot; num=&quot;0x0020&quot;&gt;
 1246 	    Thread is waiting with a maximum time to wait specified.
 1247             For example, &lt;code&gt;Object.wait(long)&lt;/code&gt;.
 1248 	  &lt;/constant&gt;
 1249 	  &lt;constant id=&quot;JVMTI_THREAD_STATE_SLEEPING&quot; num=&quot;0x0040&quot;&gt;
 1250 	    Thread is sleeping -- &lt;code&gt;Thread.sleep(long)&lt;/code&gt;.
 1251 	  &lt;/constant&gt;
 1252 	  &lt;constant id=&quot;JVMTI_THREAD_STATE_IN_OBJECT_WAIT&quot; num=&quot;0x0100&quot;&gt;
 1253 	    Thread is waiting on an object monitor -- &lt;code&gt;Object.wait&lt;/code&gt;.
 1254 	  &lt;/constant&gt;
 1255 	  &lt;constant id=&quot;JVMTI_THREAD_STATE_PARKED&quot; num=&quot;0x0200&quot;&gt;
 1256 	    Thread is parked, for example: &lt;code&gt;LockSupport.park&lt;/code&gt;,
 1257             &lt;code&gt;LockSupport.parkUtil&lt;/code&gt; and &lt;code&gt;LockSupport.parkNanos&lt;/code&gt;.
 1258 	  &lt;/constant&gt;
 1259 	  &lt;constant id=&quot;JVMTI_THREAD_STATE_SUSPENDED&quot; num=&quot;0x100000&quot;&gt;
 1260 	    Thread suspended.
 1261 	    &lt;code&gt;java.lang.Thread.suspend()&lt;/code&gt;
 1262 	    or a &lt;jvmti/&gt; suspend function
 1263             (such as &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;)
 1264             has been called on the thread. If this bit
 1265 	    is set, the other bits refer to the thread state before suspension.
 1266 	  &lt;/constant&gt;
 1267 	  &lt;constant id=&quot;JVMTI_THREAD_STATE_INTERRUPTED&quot; num=&quot;0x200000&quot;&gt;
 1268 	    Thread has been interrupted.
 1269 	  &lt;/constant&gt;
 1270 	  &lt;constant id=&quot;JVMTI_THREAD_STATE_IN_NATIVE&quot; num=&quot;0x400000&quot;&gt;
 1271             Thread is in native code--that is, a native method is running
 1272             which has not called back into the VM or Java programming
 1273             language code.
 1274             &lt;p/&gt;
 1275             This flag is not set when running VM compiled Java programming
 1276             language code nor is it set when running VM code or
 1277             VM support code. Native VM interface functions, such as JNI and
 1278             &lt;jvmti/&gt; functions, may be implemented as VM code.
 1279 	  &lt;/constant&gt;
 1280 	  &lt;constant id=&quot;JVMTI_THREAD_STATE_VENDOR_1&quot; num=&quot;0x10000000&quot;&gt;
 1281             Defined by VM vendor.
 1282 	  &lt;/constant&gt;
 1283 	  &lt;constant id=&quot;JVMTI_THREAD_STATE_VENDOR_2&quot; num=&quot;0x20000000&quot;&gt;
 1284             Defined by VM vendor.
 1285 	  &lt;/constant&gt;
 1286 	  &lt;constant id=&quot;JVMTI_THREAD_STATE_VENDOR_3&quot; num=&quot;0x40000000&quot;&gt;
 1287             Defined by VM vendor.
 1288 	  &lt;/constant&gt;
 1289 	&lt;/constants&gt;
 1290         The following definitions are used to convert &lt;jvmti/&gt; thread state
 1291         to &lt;code&gt;java.lang.Thread.State&lt;/code&gt; style states.
 1292 	&lt;constants id=&quot;jvmtiJavaLangThreadState&quot; label=&quot;java.lang.Thread.State Conversion Masks&quot; kind=&quot;bits&quot;&gt;
 1293 	  &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_MASK&quot;
 1294                      num=&quot;JVMTI_THREAD_STATE_TERMINATED | JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_RUNNABLE | JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER | JVMTI_THREAD_STATE_WAITING | JVMTI_THREAD_STATE_WAITING_INDEFINITELY | JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&quot;&gt;
 1295 	    Mask the state with this before comparison
 1296 	  &lt;/constant&gt;
 1297 	  &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_NEW&quot;
 1298                      num=&quot;0&quot;&gt;
 1299 	    &lt;code&gt;java.lang.Thread.State.NEW&lt;/code&gt;
 1300 	  &lt;/constant&gt;
 1301 	  &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_TERMINATED&quot;
 1302                      num=&quot;JVMTI_THREAD_STATE_TERMINATED&quot;&gt;
 1303 	    &lt;code&gt;java.lang.Thread.State.TERMINATED&lt;/code&gt;
 1304 	  &lt;/constant&gt;
 1305 	  &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_RUNNABLE&quot;
 1306                      num=&quot;JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_RUNNABLE&quot;&gt;
 1307 	    &lt;code&gt;java.lang.Thread.State.RUNNABLE&lt;/code&gt;
 1308 	  &lt;/constant&gt;
 1309 	  &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_BLOCKED&quot;
 1310                      num=&quot;JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&quot;&gt;
 1311 	    &lt;code&gt;java.lang.Thread.State.BLOCKED&lt;/code&gt;
 1312 	  &lt;/constant&gt;
 1313 	  &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_WAITING&quot;
 1314                      num=&quot;JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_WAITING | JVMTI_THREAD_STATE_WAITING_INDEFINITELY&quot;&gt;
 1315 	    &lt;code&gt;java.lang.Thread.State.WAITING&lt;/code&gt;
 1316 	  &lt;/constant&gt;
 1317 	  &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_TIMED_WAITING&quot;
 1318                      num=&quot;JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_WAITING | JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&quot;&gt;
 1319 	    &lt;code&gt;java.lang.Thread.State.TIMED_WAITING&lt;/code&gt;
 1320 	  &lt;/constant&gt;
 1321 	&lt;/constants&gt;
 1322         &lt;b&gt;Rules&lt;/b&gt;
 1323         &lt;p/&gt;
 1324         There can be no more than one answer to a question, although there can be no
 1325         answer (because the answer is unknown, does not apply, or none of the answers is
 1326         correct).  An answer is set only when the enclosing answers match.
 1327         That is, no more than one of
 1328           &lt;ul type=&quot;circle&quot;&gt;
 1329               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_RUNNABLE&lt;/code&gt;&lt;/li&gt;
 1330               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&lt;/code&gt;&lt;/li&gt;
 1331               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt;&lt;/li&gt;
 1332           &lt;/ul&gt;
 1333         can be set (a &lt;tm&gt;J2SE&lt;/tm&gt; compliant implementation will always set
 1334         one of these if &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; is set).
 1335         And if any of these are set, the enclosing answer
 1336         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; is set.
 1337         No more than one of
 1338           &lt;ul type=&quot;circle&quot;&gt;
 1339               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING_INDEFINITELY&lt;/code&gt;&lt;/li&gt;
 1340               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&lt;/code&gt;&lt;/li&gt;
 1341           &lt;/ul&gt;
 1342         can be set (a &lt;tm&gt;J2SE&lt;/tm&gt; compliant implementation will always set
 1343         one of these if &lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt; is set).
 1344         And if either is set, the enclosing answers
 1345         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; and
 1346         &lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt; are set.
 1347         No more than one of
 1348           &lt;ul type=&quot;circle&quot;&gt;
 1349               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_IN_OBJECT_WAIT&lt;/code&gt;&lt;/li&gt;
 1350               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_PARKED&lt;/code&gt;&lt;/li&gt;
 1351               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_SLEEPING&lt;/code&gt;&lt;/li&gt;
 1352           &lt;/ul&gt;
 1353         can be set. And if any of these is set, the enclosing answers
 1354         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; and
 1355         &lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt; are set.
 1356         Also, if &lt;code&gt;JVMTI_THREAD_STATE_SLEEPING&lt;/code&gt; is set,
 1357         then &lt;code&gt;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&lt;/code&gt; is set.
 1358         If a state &lt;i&gt;A&lt;/i&gt; is implemented using the mechanism of
 1359         state &lt;i&gt;B&lt;/i&gt; then it is state &lt;i&gt;A&lt;/i&gt; which
 1360         is returned by this function.
 1361         For example, if &lt;code&gt;Thread.sleep(long)&lt;/code&gt;
 1362         is implemented using &lt;code&gt;Object.wait(long)&lt;/code&gt;
 1363         then it is still &lt;code&gt;JVMTI_THREAD_STATE_SLEEPING&lt;/code&gt;
 1364         which is returned.
 1365         More than one of
 1366           &lt;ul type=&quot;circle&quot;&gt;
 1367               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_SUSPENDED&lt;/code&gt;&lt;/li&gt;
 1368               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_INTERRUPTED&lt;/code&gt;&lt;/li&gt;
 1369               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_IN_NATIVE&lt;/code&gt;&lt;/li&gt;
 1370           &lt;/ul&gt;
 1371         can be set, but if any is set,
 1372         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; is set.
 1373         &lt;p/&gt;
 1374         And finally,
 1375         &lt;code&gt;JVMTI_THREAD_STATE_TERMINATED&lt;/code&gt; cannot be set unless
 1376         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; is not set.
 1377         &lt;p/&gt;
 1378         The thread state representation is designed for extension in future versions
 1379         of the specification; thread state values should be used accordingly, that is
 1380         they should not be used as ordinals.
 1381         Most queries can be made by testing a single bit, if use in a switch statement is desired,
 1382         the state bits should be masked with the interesting bits.
 1383         All bits not defined above are reserved for future use.
 1384         A VM, compliant to the current specification, must set reserved bits to zero.
 1385         An agent should ignore reserved bits --
 1386         they should not be assumed to be zero and thus should not be included in comparisons.
 1387         &lt;p/&gt;
 1388         &lt;b&gt;Examples&lt;/b&gt;
 1389         &lt;p/&gt;
 1390         Note that the values below exclude reserved and vendor bits.
 1391         &lt;p/&gt;
 1392         The state of a thread blocked at a &lt;code&gt;synchronized&lt;/code&gt;-statement would be:
 1393         &lt;example&gt;
 1394             JVMTI_THREAD_STATE_ALIVE + JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER
 1395         &lt;/example&gt;
 1396         The state of a thread which hasn&#39;t started yet would be:
 1397         &lt;example&gt;
 1398             0
 1399         &lt;/example&gt;
 1400         The state of a thread at a &lt;code&gt;Object.wait(3000)&lt;/code&gt; would be:
 1401         &lt;example&gt;
 1402             JVMTI_THREAD_STATE_ALIVE + JVMTI_THREAD_STATE_WAITING +
 1403                 JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT +
 1404                 JVMTI_THREAD_STATE_MONITOR_WAITING
 1405         &lt;/example&gt;
 1406         The state of a thread suspended while runnable would be:
 1407         &lt;example&gt;
 1408             JVMTI_THREAD_STATE_ALIVE + JVMTI_THREAD_STATE_RUNNABLE + JVMTI_THREAD_STATE_SUSPENDED
 1409         &lt;/example&gt;
 1410         &lt;p/&gt;
 1411         &lt;b&gt;Testing the State&lt;/b&gt;
 1412         &lt;p/&gt;
 1413         In most cases, the thread state can be determined by testing the one bit corresponding
 1414         to that question.  For example, the code to test if a thread is sleeping:
 1415         &lt;example&gt;
 1416 	jint state;
 1417 	jvmtiError err;
 1418 
 1419 	err = (*jvmti)-&amp;gt;GetThreadState(jvmti, thread, &amp;amp;state);
 1420 	if (err == JVMTI_ERROR_NONE) {
 1421 	   if (state &amp;amp; JVMTI_THREAD_STATE_SLEEPING) {  ...
 1422         &lt;/example&gt;
 1423         &lt;p/&gt;
 1424         For waiting (that is, in &lt;code&gt;Object.wait&lt;/code&gt;, parked, or sleeping) it would be:
 1425         &lt;example&gt;
 1426 	   if (state &amp;amp; JVMTI_THREAD_STATE_WAITING) {  ...
 1427         &lt;/example&gt;
 1428         For some states, more than one bit will need to be tested as is the case
 1429         when testing if a thread has not yet been started:
 1430         &lt;example&gt;
 1431 	   if ((state &amp;amp; (JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_TERMINATED)) == 0)  {  ...
 1432         &lt;/example&gt;
 1433         To distinguish timed from untimed &lt;code&gt;Object.wait&lt;/code&gt;:
 1434         &lt;example&gt;
 1435 	   if (state &amp;amp; JVMTI_THREAD_STATE_IN_OBJECT_WAIT)  {
 1436              if (state &amp;amp; JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT)  {
 1437                printf(&quot;in Object.wait(long timeout)\n&quot;);
 1438              } else {
 1439                printf(&quot;in Object.wait()\n&quot;);
 1440              }
 1441            }
 1442         &lt;/example&gt;
 1443         &lt;p/&gt;
 1444         &lt;b&gt;Relationship to &lt;code&gt;java.lang.Thread.State&lt;/code&gt;&lt;/b&gt;
 1445         &lt;p/&gt;
 1446         The thread state represented by &lt;code&gt;java.lang.Thread.State&lt;/code&gt;
 1447         returned from &lt;code&gt;java.lang.Thread.getState()&lt;/code&gt; is a subset of the
 1448         information returned from this function.
 1449         The corresponding &lt;code&gt;java.lang.Thread.State&lt;/code&gt; can be determined
 1450         by using the provided conversion masks.
 1451         For example, this returns the name of the &lt;code&gt;java.lang.Thread.State&lt;/code&gt; thread state:
 1452         &lt;example&gt;
 1453 	    err = (*jvmti)-&amp;gt;GetThreadState(jvmti, thread, &amp;amp;state);
 1454 	    abortOnError(err);
 1455             switch (state &amp;amp; JVMTI_JAVA_LANG_THREAD_STATE_MASK) {
 1456             case JVMTI_JAVA_LANG_THREAD_STATE_NEW:
 1457               return &quot;NEW&quot;;
 1458             case JVMTI_JAVA_LANG_THREAD_STATE_TERMINATED:
 1459               return &quot;TERMINATED&quot;;
 1460             case JVMTI_JAVA_LANG_THREAD_STATE_RUNNABLE:
 1461               return &quot;RUNNABLE&quot;;
 1462             case JVMTI_JAVA_LANG_THREAD_STATE_BLOCKED:
 1463               return &quot;BLOCKED&quot;;
 1464             case JVMTI_JAVA_LANG_THREAD_STATE_WAITING:
 1465               return &quot;WAITING&quot;;
 1466             case JVMTI_JAVA_LANG_THREAD_STATE_TIMED_WAITING:
 1467               return &quot;TIMED_WAITING&quot;;
 1468             }
 1469         &lt;/example&gt;
 1470       &lt;/description&gt;
 1471       &lt;origin&gt;new&lt;/origin&gt;
 1472       &lt;capabilities&gt;
 1473       &lt;/capabilities&gt;
 1474       &lt;parameters&gt;
 1475 	&lt;param id=&quot;thread&quot;&gt;
 1476 	  &lt;jthread null=&quot;current&quot; started=&quot;maybe&quot; impl=&quot;noconvert&quot;/&gt;
 1477 	    &lt;description&gt;
 1478 	      The thread to query.
 1479 	    &lt;/description&gt;
 1480 	&lt;/param&gt;
 1481 	&lt;param id=&quot;thread_state_ptr&quot;&gt;
 1482 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1483 	  &lt;description&gt;
 1484 	    On return, points to state flags,
 1485 	    as defined by the &lt;internallink id=&quot;jvmtiThreadState&quot;&gt;Thread State Flags&lt;/internallink&gt;.
 1486 	  &lt;/description&gt;
 1487 	&lt;/param&gt;
 1488       &lt;/parameters&gt;
 1489       &lt;errors&gt;
 1490       &lt;/errors&gt;
 1491     &lt;/function&gt;
 1492 
 1493     &lt;function id=&quot;GetCurrentThread&quot; phase=&quot;start&quot; num=&quot;18&quot; since=&quot;1.1&quot;&gt;
 1494       &lt;synopsis&gt;Get Current Thread&lt;/synopsis&gt;
 1495       &lt;description&gt;
 1496         Get the current thread.
 1497         The current thread is the Java programming language thread which has called the function.
 1498         The function may return &lt;code&gt;NULL&lt;/code&gt; in the start phase if the
 1499         &lt;internallink id=&quot;jvmtiCapabilities.can_generate_early_vmstart&quot;&gt;
 1500         &lt;code&gt;can_generate_early_vmstart&lt;/code&gt;&lt;/internallink&gt; capability is enabled
 1501         and the &lt;code&gt;java.lang.Thread&lt;/code&gt; class has not been initialized yet.
 1502         &lt;p/&gt;
 1503         Note that most &lt;jvmti/&gt; functions that take a thread
 1504         as an argument will accept &lt;code&gt;NULL&lt;/code&gt; to mean
 1505         the current thread.
 1506       &lt;/description&gt;
 1507       &lt;origin&gt;new&lt;/origin&gt;
 1508       &lt;capabilities&gt;
 1509       &lt;/capabilities&gt;
 1510       &lt;parameters&gt;
 1511         &lt;param id=&quot;thread_ptr&quot;&gt;
 1512 	  &lt;outptr&gt;&lt;jthread/&gt;&lt;/outptr&gt;
 1513 	  &lt;description&gt;
 1514 	     On return, points to the current thread, or &lt;code&gt;NULL&lt;/code&gt;.
 1515 	  &lt;/description&gt;
 1516 	&lt;/param&gt;
 1517       &lt;/parameters&gt;
 1518       &lt;errors&gt;
 1519       &lt;/errors&gt;
 1520     &lt;/function&gt;
 1521 
 1522     &lt;function id=&quot;GetAllThreads&quot; num=&quot;4&quot;&gt;
 1523       &lt;synopsis&gt;Get All Threads&lt;/synopsis&gt;
 1524       &lt;description&gt;
 1525         Get all live threads.
 1526         The threads are Java programming language threads;
 1527         that is, threads that are attached to the VM.
 1528         A thread is live if &lt;code&gt;java.lang.Thread.isAlive()&lt;/code&gt;
 1529         would return &lt;code&gt;true&lt;/code&gt;, that is, the thread has
 1530         been started and has not yet died.
 1531         The universe of threads is determined by the context of the &lt;jvmti/&gt;
 1532         environment, which typically is all threads attached to the VM.
 1533         Note that this includes &lt;jvmti/&gt; agent threads
 1534         (see &lt;functionlink id=&quot;RunAgentThread&quot;/&gt;).
 1535       &lt;/description&gt;
 1536       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1537       &lt;capabilities&gt;
 1538       &lt;/capabilities&gt;
 1539       &lt;parameters&gt;
 1540         &lt;param id=&quot;threads_count_ptr&quot;&gt;
 1541 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1542 	  &lt;description&gt;
 1543 	    On return, points to the number of running threads.
 1544 	  &lt;/description&gt;
 1545 	&lt;/param&gt;
 1546         &lt;param id=&quot;threads_ptr&quot;&gt;
 1547 	  &lt;allocbuf outcount=&quot;threads_count_ptr&quot;&gt;&lt;jthread/&gt;&lt;/allocbuf&gt;
 1548 	    &lt;description&gt;
 1549 	      On return, points to an array of references, one
 1550 	      for each running thread.
 1551 	    &lt;/description&gt;
 1552 	&lt;/param&gt;
 1553       &lt;/parameters&gt;
 1554       &lt;errors&gt;
 1555       &lt;/errors&gt;
 1556     &lt;/function&gt;
 1557 
 1558     &lt;function id=&quot;SuspendThread&quot; num=&quot;5&quot;&gt;
 1559       &lt;synopsis&gt;Suspend Thread&lt;/synopsis&gt;
 1560       &lt;description&gt;
 1561         Suspend the specified thread. If the calling thread is specified,
 1562         this function will not return until some other thread calls
 1563         &lt;functionlink id=&quot;ResumeThread&quot;&gt;&lt;/functionlink&gt;.
 1564         If the thread is currently suspended, this function
 1565         does nothing and returns an error.
 1566       &lt;/description&gt;
 1567       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1568       &lt;capabilities&gt;
 1569         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1570       &lt;/capabilities&gt;
 1571       &lt;parameters&gt;
 1572         &lt;param id=&quot;thread&quot;&gt;
 1573 	  &lt;jthread null=&quot;current&quot;/&gt;
 1574 	    &lt;description&gt;
 1575 	      The thread to suspend.
 1576 	    &lt;/description&gt;
 1577 	&lt;/param&gt;
 1578       &lt;/parameters&gt;
 1579       &lt;errors&gt;
 1580         &lt;error id=&quot;JVMTI_ERROR_THREAD_SUSPENDED&quot;&gt;
 1581           Thread already suspended.
 1582         &lt;/error&gt;
 1583       &lt;/errors&gt;
 1584     &lt;/function&gt;
 1585 
 1586     &lt;elide&gt;
 1587     &lt;function id=&quot;SuspendAllThreads&quot; num=&quot;101&quot;&gt;
 1588       &lt;synopsis&gt;Suspend All Threads&lt;/synopsis&gt;
 1589       &lt;description&gt;
 1590 	&lt;issue&gt;
 1591 	    There has been no explicit call for this function, and it will
 1592 	    thus be removed if there is no interest.
 1593         &lt;/issue&gt;
 1594         Suspend all live threads except:
 1595         &lt;ul&gt;
 1596           &lt;li&gt;already suspended threads&lt;/li&gt;
 1597           &lt;li&gt;those listed in &lt;paramlink id=&quot;except_list&quot;&gt;&lt;/paramlink&gt;&lt;/li&gt;
 1598           &lt;li&gt;certain system (non application) threads, as determined
 1599             by the VM implementation&lt;/li&gt;
 1600         &lt;/ul&gt;
 1601         The threads are Java programming language threads;
 1602         native threads which are not attached to the VM are not
 1603         Java programming language threads.
 1604         A thread is live if &lt;code&gt;java.lang.Thread.isAlive()&lt;/code&gt;
 1605         would return &lt;code&gt;true&lt;/code&gt;, that is, the thread has
 1606         been started and has not yet died.
 1607         The universe of threads is determined
 1608         by the context of the &lt;jvmti/&gt;
 1609         environment, which, typically, is all threads attached to the VM,
 1610         except critical VM internal threads and &lt;jvmti/&gt; agent threads
 1611 	(see &lt;functionlink id=&quot;RunAgentThread&quot;/&gt;).
 1612         &lt;p/&gt;
 1613         If the calling thread is specified,
 1614         all other threads are suspended first then the caller thread is suspended -
 1615         this function will not return until some other thread calls
 1616         &lt;functionlink id=&quot;ResumeThread&quot;&gt;&lt;/functionlink&gt;.
 1617         &lt;p/&gt;
 1618         The list of actually
 1619         suspended threads is returned in
 1620         &lt;paramlink id=&quot;suspended_list_ptr&quot;&gt;&lt;/paramlink&gt;.
 1621         Suspension is as defined in &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;.
 1622         &lt;functionlink id=&quot;ResumeThreadList&quot;&gt;&lt;/functionlink&gt;
 1623         can be used to resume the suspended threads.
 1624       &lt;/description&gt;
 1625       &lt;origin&gt;new&lt;/origin&gt;
 1626       &lt;capabilities&gt;
 1627         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1628       &lt;/capabilities&gt;
 1629       &lt;parameters&gt;
 1630         &lt;param id=&quot;except_count&quot;&gt;
 1631 	  &lt;jint min=&quot;0&quot;/&gt;
 1632 	  &lt;description&gt;
 1633 	    The number of threads in the list of threads not to be suspended.
 1634 	  &lt;/description&gt;
 1635 	&lt;/param&gt;
 1636         &lt;param id=&quot;except_list&quot;&gt;
 1637             &lt;inbuf incount=&quot;except_count&quot;&gt;
 1638               &lt;jthread/&gt;
 1639               &lt;nullok&gt;not an error if &lt;code&gt;except_count == 0&lt;/code&gt;&lt;/nullok&gt;
 1640             &lt;/inbuf&gt;
 1641 	    &lt;description&gt;
 1642 	      The list of threads not to be suspended.
 1643 	    &lt;/description&gt;
 1644 	&lt;/param&gt;
 1645         &lt;param id=&quot;suspended_count_ptr&quot;&gt;
 1646 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1647 	  &lt;description&gt;
 1648 	    On return, points to the number of threads suspended by this call.
 1649 	  &lt;/description&gt;
 1650 	&lt;/param&gt;
 1651         &lt;param id=&quot;suspended_list_ptr&quot;&gt;
 1652 	  &lt;allocbuf outcount=&quot;suspended_count_ptr&quot;&gt;&lt;jthread/&gt;&lt;/allocbuf&gt;
 1653 	    &lt;description&gt;
 1654 	      On return, points to an array of references, one
 1655 	      for each thread suspended.
 1656 	    &lt;/description&gt;
 1657 	&lt;/param&gt;
 1658       &lt;/parameters&gt;
 1659       &lt;errors&gt;
 1660         &lt;error id=&quot;JVMTI_ERROR_INVALID_THREAD&quot;&gt;
 1661           A thread in &lt;paramlink id=&quot;except_list&quot;&gt;&lt;/paramlink&gt; was invalid.
 1662         &lt;/error&gt;
 1663         &lt;error id=&quot;JVMTI_ERROR_NULL_POINTER&quot;&gt;
 1664           Both &lt;paramlink id=&quot;except_list&quot;&gt;&lt;/paramlink&gt; was &lt;code&gt;NULL&lt;/code&gt;
 1665           and &lt;paramlink id=&quot;except_count&quot;&gt;&lt;/paramlink&gt; was non-zero.
 1666         &lt;/error&gt;
 1667       &lt;/errors&gt;
 1668     &lt;/function&gt;
 1669     &lt;/elide&gt;
 1670 
 1671     &lt;function id=&quot;SuspendThreadList&quot; num=&quot;92&quot;&gt;
 1672       &lt;synopsis&gt;Suspend Thread List&lt;/synopsis&gt;
 1673       &lt;description&gt;
 1674         Suspend the &lt;paramlink id=&quot;request_count&quot;&gt;&lt;/paramlink&gt;
 1675         threads specified in the
 1676         &lt;paramlink id=&quot;request_list&quot;&gt;&lt;/paramlink&gt; array.
 1677         Threads may be resumed with
 1678         &lt;functionlink id=&quot;ResumeThreadList&quot;&gt;&lt;/functionlink&gt; or
 1679         &lt;functionlink id=&quot;ResumeThread&quot;&gt;&lt;/functionlink&gt;.
 1680         If the calling thread is specified in the
 1681         &lt;paramlink id=&quot;request_list&quot;&gt;&lt;/paramlink&gt; array, this function will
 1682         not return until some other thread resumes it.
 1683         Errors encountered in the suspension of a thread
 1684         are returned in the &lt;paramlink id=&quot;results&quot;&gt;&lt;/paramlink&gt;
 1685         array, &lt;b&gt;not&lt;/b&gt; in the return value of this function.
 1686         Threads that are currently suspended do not change state.
 1687       &lt;/description&gt;
 1688       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1689       &lt;capabilities&gt;
 1690         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1691       &lt;/capabilities&gt;
 1692       &lt;parameters&gt;
 1693         &lt;param id=&quot;request_count&quot;&gt;
 1694 	  &lt;jint min=&quot;0&quot;/&gt;
 1695 	  &lt;description&gt;
 1696 	    The number of threads to suspend.
 1697 	  &lt;/description&gt;
 1698 	&lt;/param&gt;
 1699         &lt;param id=&quot;request_list&quot;&gt;
 1700 	  &lt;inbuf incount=&quot;request_count&quot;&gt;&lt;jthread/&gt;&lt;/inbuf&gt;
 1701 	    &lt;description&gt;
 1702 	      The list of threads to suspend.
 1703 	    &lt;/description&gt;
 1704 	&lt;/param&gt;
 1705         &lt;param id=&quot;results&quot;&gt;
 1706 	  &lt;outbuf incount=&quot;request_count&quot;&gt;&lt;enum&gt;jvmtiError&lt;/enum&gt;&lt;/outbuf&gt;
 1707 	  &lt;description&gt;
 1708 	    An agent supplied array of
 1709 	    &lt;paramlink id=&quot;request_count&quot;&gt;&lt;/paramlink&gt; elements.
 1710 	    On return, filled with the error code for
 1711 	    the suspend of the corresponding thread.
 1712 	    The error code will be
 1713 	    &lt;errorlink id=&quot;JVMTI_ERROR_NONE&quot;&gt;&lt;/errorlink&gt;
 1714 	    if the thread was suspended by this call.
 1715 	    Possible error codes are those specified
 1716 	    for &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;.
 1717 	  &lt;/description&gt;
 1718 	&lt;/param&gt;
 1719       &lt;/parameters&gt;
 1720       &lt;errors&gt;
 1721       &lt;/errors&gt;
 1722     &lt;/function&gt;
 1723 
 1724     &lt;function id=&quot;ResumeThread&quot; num=&quot;6&quot;&gt;
 1725       &lt;synopsis&gt;Resume Thread&lt;/synopsis&gt;
 1726       &lt;description&gt;
 1727         Resume a suspended thread.
 1728         Any threads currently suspended through
 1729         a &lt;jvmti/&gt; suspend function (eg.
 1730         &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;)
 1731         or &lt;code&gt;java.lang.Thread.suspend()&lt;/code&gt;
 1732         will resume execution;
 1733 	all other threads are unaffected.
 1734       &lt;/description&gt;
 1735       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1736       &lt;capabilities&gt;
 1737         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1738       &lt;/capabilities&gt;
 1739       &lt;parameters&gt;
 1740         &lt;param id=&quot;thread&quot;&gt;
 1741 	  &lt;jthread/&gt;
 1742 	    &lt;description&gt;
 1743 	      The thread to resume.
 1744 	    &lt;/description&gt;
 1745 	&lt;/param&gt;
 1746       &lt;/parameters&gt;
 1747       &lt;errors&gt;
 1748         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 1749           Thread was not suspended.
 1750         &lt;/error&gt;
 1751         &lt;error id=&quot;JVMTI_ERROR_INVALID_TYPESTATE&quot;&gt;
 1752           The state of the thread has been modified, and is now inconsistent.
 1753         &lt;/error&gt;
 1754       &lt;/errors&gt;
 1755     &lt;/function&gt;
 1756 
 1757     &lt;function id=&quot;ResumeThreadList&quot; num=&quot;93&quot;&gt;
 1758       &lt;synopsis&gt;Resume Thread List&lt;/synopsis&gt;
 1759       &lt;description&gt;
 1760         Resume the &lt;paramlink id=&quot;request_count&quot;&gt;&lt;/paramlink&gt;
 1761         threads specified in the
 1762         &lt;paramlink id=&quot;request_list&quot;&gt;&lt;/paramlink&gt; array.
 1763         Any thread suspended through
 1764         a &lt;jvmti/&gt; suspend function (eg.
 1765         &lt;functionlink id=&quot;SuspendThreadList&quot;&gt;&lt;/functionlink&gt;)
 1766         or &lt;code&gt;java.lang.Thread.suspend()&lt;/code&gt;
 1767         will resume execution.
 1768       &lt;/description&gt;
 1769       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1770       &lt;capabilities&gt;
 1771         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1772       &lt;/capabilities&gt;
 1773       &lt;parameters&gt;
 1774         &lt;param id=&quot;request_count&quot;&gt;
 1775 	  &lt;jint min=&quot;0&quot;/&gt;
 1776 	  &lt;description&gt;
 1777 	    The number of threads to resume.
 1778 	  &lt;/description&gt;
 1779 	&lt;/param&gt;
 1780         &lt;param id=&quot;request_list&quot;&gt;
 1781 	  &lt;inbuf incount=&quot;request_count&quot;&gt;&lt;jthread/&gt;&lt;/inbuf&gt;
 1782 	    &lt;description&gt;
 1783 	      The threads to resume.
 1784 	    &lt;/description&gt;
 1785 	&lt;/param&gt;
 1786         &lt;param id=&quot;results&quot;&gt;
 1787 	  &lt;outbuf incount=&quot;request_count&quot;&gt;&lt;enum&gt;jvmtiError&lt;/enum&gt;&lt;/outbuf&gt;
 1788 	  &lt;description&gt;
 1789 	    An agent supplied array of
 1790 	    &lt;paramlink id=&quot;request_count&quot;&gt;&lt;/paramlink&gt; elements.
 1791 	    On return, filled with the error code for
 1792 	    the resume of the corresponding thread.
 1793 	    The error code will be
 1794 	    &lt;errorlink id=&quot;JVMTI_ERROR_NONE&quot;&gt;&lt;/errorlink&gt;
 1795 	    if the thread was suspended by this call.
 1796 	    Possible error codes are those specified
 1797 	    for &lt;functionlink id=&quot;ResumeThread&quot;&gt;&lt;/functionlink&gt;.
 1798 	  &lt;/description&gt;
 1799 	&lt;/param&gt;
 1800       &lt;/parameters&gt;
 1801       &lt;errors&gt;
 1802       &lt;/errors&gt;
 1803     &lt;/function&gt;
 1804 
 1805     &lt;function id=&quot;StopThread&quot; num=&quot;7&quot;&gt;
 1806       &lt;synopsis&gt;Stop Thread&lt;/synopsis&gt;
 1807       &lt;description&gt;
 1808 	Send the specified asynchronous exception to the specified thread.
 1809 	Normally, this function is used to kill the specified thread with an
 1810 	instance of the exception &lt;code&gt;ThreadDeath&lt;/code&gt;, similar to
 1811         &lt;code&gt;java.lang.Thread.stop&lt;/code&gt;.
 1812       &lt;/description&gt;
 1813       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1814       &lt;capabilities&gt;
 1815 	&lt;required id=&quot;can_signal_thread&quot;&gt;&lt;/required&gt;
 1816       &lt;/capabilities&gt;
 1817       &lt;parameters&gt;
 1818 	&lt;param id=&quot;thread&quot;&gt;
 1819 	  &lt;jthread/&gt;
 1820 	    &lt;description&gt;
 1821 	      The thread to stop.
 1822 	    &lt;/description&gt;
 1823 	&lt;/param&gt;
 1824 	&lt;param id=&quot;exception&quot;&gt;
 1825 	  &lt;jobject/&gt;
 1826 	    &lt;description&gt;
 1827 	      The asynchronous exception object.
 1828 	    &lt;/description&gt;
 1829 	&lt;/param&gt;
 1830       &lt;/parameters&gt;
 1831       &lt;errors&gt;
 1832       &lt;/errors&gt;
 1833     &lt;/function&gt;
 1834 
 1835     &lt;function id=&quot;InterruptThread&quot; num=&quot;8&quot;&gt;
 1836       &lt;synopsis&gt;Interrupt Thread&lt;/synopsis&gt;
 1837       &lt;description&gt;
 1838 	Interrupt the specified thread
 1839 	(similar to &lt;code&gt;java.lang.Thread.interrupt&lt;/code&gt;).
 1840       &lt;/description&gt;
 1841       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1842       &lt;capabilities&gt;
 1843 	&lt;required id=&quot;can_signal_thread&quot;&gt;&lt;/required&gt;
 1844       &lt;/capabilities&gt;
 1845       &lt;parameters&gt;
 1846 	&lt;param id=&quot;thread&quot;&gt;
 1847 	  &lt;jthread impl=&quot;noconvert&quot;/&gt;
 1848 	    &lt;description&gt;
 1849 	      The thread to interrupt.
 1850 	    &lt;/description&gt;
 1851 	&lt;/param&gt;
 1852       &lt;/parameters&gt;
 1853       &lt;errors&gt;
 1854       &lt;/errors&gt;
 1855     &lt;/function&gt;
 1856 
 1857     &lt;function id=&quot;GetThreadInfo&quot; num=&quot;9&quot;&gt;
 1858       &lt;synopsis&gt;Get Thread Info&lt;/synopsis&gt;
 1859       &lt;typedef id=&quot;jvmtiThreadInfo&quot; label=&quot;Thread information structure&quot;&gt;
 1860 	&lt;field id=&quot;name&quot;&gt;
 1861 	  &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 1862 	  &lt;description&gt;
 1863 	    The thread name, encoded as a
 1864 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 1865 	  &lt;/description&gt;
 1866 	&lt;/field&gt;
 1867 	&lt;field id=&quot;priority&quot;&gt;
 1868 	  &lt;jint/&gt;
 1869 	  &lt;description&gt;
 1870 	    The thread priority.  See the thread priority constants:
 1871 	    &lt;datalink id=&quot;jvmtiThreadPriority&quot;&gt;&lt;/datalink&gt;.
 1872 	  &lt;/description&gt;
 1873 	&lt;/field&gt;
 1874 	&lt;field id=&quot;is_daemon&quot;&gt;
 1875 	  &lt;jboolean/&gt;
 1876 	  &lt;description&gt;
 1877 	    Is this a daemon thread?
 1878 	  &lt;/description&gt;
 1879 	&lt;/field&gt;
 1880 	&lt;field id=&quot;thread_group&quot;&gt;
 1881 	  &lt;jthreadGroup/&gt;
 1882 	  &lt;description&gt;
 1883 	    The thread group to which this thread belongs.
 1884             &lt;code&gt;NULL&lt;/code&gt; if the thread has died.
 1885 	  &lt;/description&gt;
 1886 	&lt;/field&gt;
 1887 	&lt;field id=&quot;context_class_loader&quot;&gt;
 1888 	  &lt;jobject/&gt;
 1889 	    &lt;description&gt;
 1890 	      The context class loader associated with this thread.
 1891 	    &lt;/description&gt;
 1892 	&lt;/field&gt;
 1893       &lt;/typedef&gt;
 1894       &lt;description&gt;
 1895 	Get thread information. The fields of the &lt;datalink id=&quot;jvmtiThreadInfo&quot;/&gt; structure
 1896 	are filled in with details of the specified thread.
 1897       &lt;/description&gt;
 1898       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1899       &lt;capabilities&gt;
 1900       &lt;/capabilities&gt;
 1901       &lt;parameters&gt;
 1902 	&lt;param id=&quot;thread&quot;&gt;
 1903 	  &lt;jthread null=&quot;current&quot; impl=&quot;noconvert&quot; started=&quot;maybe&quot;/&gt;
 1904 	    &lt;description&gt;
 1905 	      The thread to query.
 1906 	    &lt;/description&gt;
 1907 	&lt;/param&gt;
 1908 	&lt;param id=&quot;info_ptr&quot;&gt;
 1909 	  &lt;outptr&gt;&lt;struct&gt;jvmtiThreadInfo&lt;/struct&gt;&lt;/outptr&gt;
 1910 	  &lt;description&gt;
 1911 	    On return, filled with information describing the specified thread.
 1912 	  &lt;/description&gt;
 1913 	&lt;/param&gt;
 1914       &lt;/parameters&gt;
 1915       &lt;errors&gt;
 1916       &lt;/errors&gt;
 1917     &lt;/function&gt;
 1918 
 1919     &lt;function id=&quot;GetOwnedMonitorInfo&quot; num=&quot;10&quot;&gt;
 1920       &lt;synopsis&gt;Get Owned Monitor Info&lt;/synopsis&gt;
 1921       &lt;description&gt;
 1922 	Get information about the monitors owned by the
 1923 	specified thread.
 1924       &lt;/description&gt;
 1925       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 1926       &lt;capabilities&gt;
 1927 	&lt;required id=&quot;can_get_owned_monitor_info&quot;&gt;&lt;/required&gt;
 1928       &lt;/capabilities&gt;
 1929       &lt;parameters&gt;
 1930 	&lt;param id=&quot;thread&quot;&gt;
 1931 	  &lt;jthread null=&quot;current&quot;/&gt;
 1932 	    &lt;description&gt;
 1933 	      The thread to query.
 1934 	    &lt;/description&gt;
 1935 	&lt;/param&gt;
 1936 	&lt;param id=&quot;owned_monitor_count_ptr&quot;&gt;
 1937 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1938 	  &lt;description&gt;
 1939 	    The number of monitors returned.
 1940 	  &lt;/description&gt;
 1941 	&lt;/param&gt;
 1942 	&lt;param id=&quot;owned_monitors_ptr&quot;&gt;
 1943 	  &lt;allocbuf outcount=&quot;owned_monitor_count_ptr&quot;&gt;&lt;jobject/&gt;&lt;/allocbuf&gt;
 1944 	    &lt;description&gt;
 1945 	      The array of owned monitors.
 1946 	    &lt;/description&gt;
 1947 	&lt;/param&gt;
 1948       &lt;/parameters&gt;
 1949       &lt;errors&gt;
 1950       &lt;/errors&gt;
 1951     &lt;/function&gt;
 1952 
 1953     &lt;function id=&quot;GetOwnedMonitorStackDepthInfo&quot; num=&quot;153&quot; since=&quot;1.1&quot;&gt;
 1954       &lt;synopsis&gt;Get Owned Monitor Stack Depth Info&lt;/synopsis&gt;
 1955       &lt;typedef id=&quot;jvmtiMonitorStackDepthInfo&quot;
 1956                label=&quot;Monitor stack depth information structure&quot;&gt;
 1957         &lt;field id=&quot;monitor&quot;&gt;
 1958 	  &lt;jobject/&gt;
 1959 	    &lt;description&gt;
 1960 	      The owned monitor.
 1961 	    &lt;/description&gt;
 1962 	&lt;/field&gt;
 1963         &lt;field id=&quot;stack_depth&quot;&gt;
 1964 	  &lt;jint/&gt;
 1965 	  &lt;description&gt;
 1966 	    The stack depth.  Corresponds to the stack depth used in the
 1967             &lt;internallink id=&quot;stack&quot;&gt;Stack Frame functions&lt;/internallink&gt;.
 1968             That is, zero is the current frame, one is the frame which
 1969             called the current frame. And it is negative one if the
 1970 	    implementation cannot determine the stack depth (e.g., for
 1971 	    monitors acquired by JNI &lt;code&gt;MonitorEnter&lt;/code&gt;).
 1972 	  &lt;/description&gt;
 1973 	&lt;/field&gt;
 1974       &lt;/typedef&gt;
 1975       &lt;description&gt;
 1976 	Get information about the monitors owned by the
 1977 	specified thread and the depth of the stack frame which locked them.
 1978       &lt;/description&gt;
 1979       &lt;origin&gt;new&lt;/origin&gt;
 1980       &lt;capabilities&gt;
 1981 	&lt;required id=&quot;can_get_owned_monitor_stack_depth_info&quot;&gt;&lt;/required&gt;
 1982       &lt;/capabilities&gt;
 1983       &lt;parameters&gt;
 1984 	&lt;param id=&quot;thread&quot;&gt;
 1985 	  &lt;jthread null=&quot;current&quot;/&gt;
 1986 	    &lt;description&gt;
 1987 	      The thread to query.
 1988 	    &lt;/description&gt;
 1989 	&lt;/param&gt;
 1990 	&lt;param id=&quot;monitor_info_count_ptr&quot;&gt;
 1991 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1992 	  &lt;description&gt;
 1993 	    The number of monitors returned.
 1994 	  &lt;/description&gt;
 1995 	&lt;/param&gt;
 1996 	&lt;param id=&quot;monitor_info_ptr&quot;&gt;
 1997 	  &lt;allocbuf outcount=&quot;monitor_info_count_ptr&quot;&gt;
 1998             &lt;struct&gt;jvmtiMonitorStackDepthInfo&lt;/struct&gt;
 1999           &lt;/allocbuf&gt;
 2000 	  &lt;description&gt;
 2001 	    The array of owned monitor depth information.
 2002 	  &lt;/description&gt;
 2003 	&lt;/param&gt;
 2004       &lt;/parameters&gt;
 2005       &lt;errors&gt;
 2006       &lt;/errors&gt;
 2007     &lt;/function&gt;
 2008 
 2009     &lt;function id=&quot;GetCurrentContendedMonitor&quot; num=&quot;11&quot;&gt;
 2010       &lt;synopsis&gt;Get Current Contended Monitor&lt;/synopsis&gt;
 2011       &lt;description&gt;
 2012 	Get the object, if any, whose monitor the specified thread is waiting to
 2013 	enter or waiting to regain through &lt;code&gt;java.lang.Object.wait&lt;/code&gt;.
 2014       &lt;/description&gt;
 2015       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2016       &lt;capabilities&gt;
 2017 	&lt;required id=&quot;can_get_current_contended_monitor&quot;&gt;&lt;/required&gt;
 2018       &lt;/capabilities&gt;
 2019       &lt;parameters&gt;
 2020 	&lt;param id=&quot;thread&quot;&gt;
 2021 	  &lt;jthread null=&quot;current&quot;/&gt;
 2022 	    &lt;description&gt;
 2023 	      The thread to query.
 2024 	    &lt;/description&gt;
 2025 	&lt;/param&gt;
 2026 	&lt;param id=&quot;monitor_ptr&quot;&gt;
 2027 	  &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 2028 	    &lt;description&gt;
 2029 	      On return, filled with the current contended monitor, or
 2030 	      NULL if there is none.
 2031 	    &lt;/description&gt;
 2032 	&lt;/param&gt;
 2033       &lt;/parameters&gt;
 2034       &lt;errors&gt;
 2035       &lt;/errors&gt;
 2036     &lt;/function&gt;
 2037 
 2038     &lt;callback id=&quot;jvmtiStartFunction&quot;&gt;
 2039       &lt;void/&gt;
 2040       &lt;synopsis&gt;Agent Start Function&lt;/synopsis&gt;
 2041       &lt;description&gt;
 2042         Agent supplied callback function.
 2043         This function is the entry point for an agent thread
 2044 	started with
 2045 	&lt;functionlink id=&quot;RunAgentThread&quot;&gt;&lt;/functionlink&gt;.
 2046       &lt;/description&gt;
 2047       &lt;parameters&gt;
 2048 	  &lt;param id=&quot;jvmti_env&quot;&gt;
 2049 	    &lt;outptr&gt;
 2050 	      &lt;struct&gt;jvmtiEnv&lt;/struct&gt;
 2051 	    &lt;/outptr&gt;
 2052 	    &lt;description&gt;
 2053 	      The &lt;jvmti/&gt; environment.
 2054 	    &lt;/description&gt;
 2055 	  &lt;/param&gt;
 2056           &lt;param id=&quot;jni_env&quot;&gt;
 2057             &lt;outptr&gt;
 2058               &lt;struct&gt;JNIEnv&lt;/struct&gt;
 2059             &lt;/outptr&gt;
 2060             &lt;description&gt;
 2061               The JNI environment.
 2062             &lt;/description&gt;
 2063           &lt;/param&gt;
 2064           &lt;param id=&quot;arg&quot;&gt;
 2065             &lt;outptr&gt;
 2066               &lt;void/&gt;
 2067             &lt;/outptr&gt;
 2068               &lt;description&gt;
 2069                 The &lt;code&gt;arg&lt;/code&gt; parameter passed to
 2070                 &lt;functionlink id=&quot;RunAgentThread&quot;&gt;&lt;/functionlink&gt;.
 2071               &lt;/description&gt;
 2072           &lt;/param&gt;
 2073       &lt;/parameters&gt;
 2074     &lt;/callback&gt;
 2075 
 2076     &lt;function id=&quot;RunAgentThread&quot; num=&quot;12&quot;&gt;
 2077       &lt;synopsis&gt;Run Agent Thread&lt;/synopsis&gt;
 2078       &lt;description&gt;
 2079 	Starts the execution of an agent thread. with the specified native function.
 2080 	The parameter &lt;paramlink id=&quot;arg&quot;&gt;&lt;/paramlink&gt; is forwarded on to the
 2081 	&lt;functionlink id=&quot;jvmtiStartFunction&quot;&gt;start function&lt;/functionlink&gt;
 2082 	(specified with &lt;paramlink id=&quot;proc&quot;&gt;&lt;/paramlink&gt;) as its single argument.
 2083 	This function allows the creation of agent threads
 2084 	for handling communication with another process or for handling events
 2085 	without the need to load a special subclass of &lt;code&gt;java.lang.Thread&lt;/code&gt; or
 2086 	implementer of &lt;code&gt;java.lang.Runnable&lt;/code&gt;.
 2087 	Instead, the created thread can run entirely in native code.
 2088 	However, the created thread does require a newly created instance
 2089 	of &lt;code&gt;java.lang.Thread&lt;/code&gt; (referenced by the argument &lt;code&gt;thread&lt;/code&gt;) to
 2090 	which it will be associated.
 2091 	The thread object can be created with JNI calls.
 2092 	&lt;p/&gt;
 2093 	The following common thread priorities are provided for your convenience:
 2094 	&lt;constants id=&quot;jvmtiThreadPriority&quot; label=&quot;Thread Priority Constants&quot; kind=&quot;const&quot;&gt;
 2095 	  &lt;constant id=&quot;JVMTI_THREAD_MIN_PRIORITY&quot; num=&quot;1&quot;&gt;
 2096 	    Minimum possible thread priority
 2097 	  &lt;/constant&gt;
 2098 	  &lt;constant id=&quot;JVMTI_THREAD_NORM_PRIORITY&quot; num=&quot;5&quot;&gt;
 2099 	    Normal thread priority
 2100 	  &lt;/constant&gt;
 2101 	  &lt;constant id=&quot;JVMTI_THREAD_MAX_PRIORITY&quot; num=&quot;10&quot;&gt;
 2102 	    Maximum possible thread priority
 2103 	  &lt;/constant&gt;
 2104 	&lt;/constants&gt;
 2105 	&lt;p/&gt;
 2106 	The new thread is started as a daemon thread with the specified
 2107 	&lt;paramlink id=&quot;priority&quot;&gt;&lt;/paramlink&gt;.
 2108         If enabled, a &lt;eventlink id=&quot;ThreadStart&quot;/&gt; event will be sent.
 2109 	&lt;p/&gt;
 2110         Since the thread has been started, the thread will be live when this function
 2111         returns, unless the thread has died immediately.
 2112 	&lt;p/&gt;
 2113         The thread group of the thread is ignored -- specifically, the thread is not
 2114         added to the thread group and the thread is not seen on queries of the thread
 2115         group at either the Java programming language or &lt;jvmti/&gt; levels.
 2116 	&lt;p/&gt;
 2117         The thread is not visible to Java programming language queries but is
 2118         included in &lt;jvmti/&gt; queries (for example,
 2119         &lt;functionlink id=&quot;GetAllThreads&quot;/&gt; and
 2120         &lt;functionlink id=&quot;GetAllStackTraces&quot;/&gt;).
 2121 	&lt;p/&gt;
 2122 	Upon execution of &lt;code&gt;proc&lt;/code&gt;, the new thread will be attached to the
 2123 	VM -- see the JNI documentation on
 2124 	&lt;externallink id=&quot;jni/invocation.html#attaching-to-the-vm&quot;
 2125 		      &gt;Attaching to the VM&lt;/externallink&gt;.
 2126       &lt;/description&gt;
 2127       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 2128       &lt;capabilities&gt;
 2129       &lt;/capabilities&gt;
 2130       &lt;parameters&gt;
 2131 	&lt;param id=&quot;thread&quot;&gt;
 2132 	  &lt;jthread impl=&quot;noconvert&quot; started=&quot;no&quot;/&gt;
 2133 	    &lt;description&gt;
 2134 	      The thread to run.
 2135 	    &lt;/description&gt;
 2136 	&lt;/param&gt;
 2137 	&lt;param id=&quot;proc&quot;&gt;
 2138 	  &lt;ptrtype&gt;
 2139 	    &lt;struct&gt;jvmtiStartFunction&lt;/struct&gt;
 2140 	  &lt;/ptrtype&gt;
 2141 	  &lt;description&gt;
 2142 	    The start function.
 2143 	  &lt;/description&gt;
 2144 	&lt;/param&gt;
 2145 	&lt;param id=&quot;arg&quot;&gt;
 2146 	  &lt;inbuf&gt;
 2147             &lt;void/&gt;
 2148             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed to the start function&lt;/nullok&gt;
 2149           &lt;/inbuf&gt;
 2150 	  &lt;description&gt;
 2151 	    The argument to the start function.
 2152 	  &lt;/description&gt;
 2153 	&lt;/param&gt;
 2154 	&lt;param id=&quot;priority&quot;&gt;
 2155 	  &lt;jint/&gt;
 2156 	  &lt;description&gt;
 2157 	    The priority of the started thread. Any thread
 2158 	    priority allowed by &lt;code&gt;java.lang.Thread.setPriority&lt;/code&gt; can be used including
 2159 	    those in &lt;datalink id=&quot;jvmtiThreadPriority&quot;&gt;&lt;/datalink&gt;.
 2160 	  &lt;/description&gt;
 2161 	&lt;/param&gt;
 2162       &lt;/parameters&gt;
 2163       &lt;errors&gt;
 2164 	&lt;error id=&quot;JVMTI_ERROR_INVALID_PRIORITY&quot;&gt;
 2165             &lt;paramlink id=&quot;priority&quot;/&gt; is less than
 2166             &lt;datalink id=&quot;JVMTI_THREAD_MIN_PRIORITY&quot;/&gt;
 2167               or greater than
 2168             &lt;datalink id=&quot;JVMTI_THREAD_MAX_PRIORITY&quot;/&gt;
 2169 	&lt;/error&gt;
 2170       &lt;/errors&gt;
 2171     &lt;/function&gt;
 2172 
 2173     &lt;function id=&quot;SetThreadLocalStorage&quot; jkernel=&quot;yes&quot; impl=&quot;notrace&quot; phase=&quot;start&quot; num=&quot;103&quot;&gt;
 2174       &lt;synopsis&gt;Set Thread Local Storage&lt;/synopsis&gt;
 2175       &lt;description&gt;
 2176 	The VM stores a pointer value associated with each environment-thread
 2177 	pair. This pointer value is called &lt;i&gt;thread-local storage&lt;/i&gt;.
 2178         This value is &lt;code&gt;NULL&lt;/code&gt; unless set with this function.
 2179 	Agents can allocate memory in which they store thread specific
 2180         information. By setting thread-local storage it can then be
 2181 	accessed with
 2182 	&lt;functionlink id=&quot;GetThreadLocalStorage&quot;&gt;&lt;/functionlink&gt;.
 2183 	&lt;p/&gt;
 2184         This function is called by the agent to set the value of the &lt;jvmti/&gt;
 2185         thread-local storage. &lt;jvmti/&gt; supplies to the agent a pointer-size
 2186         thread-local storage that can be used to record per-thread
 2187         information.
 2188       &lt;/description&gt;
 2189       &lt;origin&gt;jvmpi&lt;/origin&gt;
 2190       &lt;capabilities&gt;
 2191       &lt;/capabilities&gt;
 2192       &lt;parameters&gt;
 2193         &lt;param id=&quot;thread&quot;&gt;
 2194 	  &lt;jthread null=&quot;current&quot;/&gt;
 2195 	    &lt;description&gt;
 2196 	      Store to this thread.
 2197 	    &lt;/description&gt;
 2198 	&lt;/param&gt;
 2199         &lt;param id=&quot;data&quot;&gt;
 2200 	  &lt;inbuf&gt;
 2201 	    &lt;void/&gt;
 2202 	    &lt;nullok&gt;value is set to &lt;code&gt;NULL&lt;/code&gt;&lt;/nullok&gt;
 2203 	  &lt;/inbuf&gt;
 2204 	  &lt;description&gt;
 2205 	    The value to be entered into the thread-local storage.
 2206 	  &lt;/description&gt;
 2207 	&lt;/param&gt;
 2208       &lt;/parameters&gt;
 2209       &lt;errors&gt;
 2210       &lt;/errors&gt;
 2211     &lt;/function&gt;
 2212 
 2213     &lt;function id=&quot;GetThreadLocalStorage&quot; jkernel=&quot;yes&quot; impl=&quot;innative notrace&quot; phase=&quot;start&quot; num=&quot;102&quot;&gt;
 2214       &lt;synopsis&gt;Get Thread Local Storage&lt;/synopsis&gt;
 2215       &lt;description&gt;
 2216         Called by the agent to get the value of the &lt;jvmti/&gt; thread-local
 2217         storage.
 2218       &lt;/description&gt;
 2219       &lt;origin&gt;jvmpi&lt;/origin&gt;
 2220       &lt;capabilities&gt;
 2221       &lt;/capabilities&gt;
 2222       &lt;parameters&gt;
 2223         &lt;param id=&quot;thread&quot;&gt;
 2224 	  &lt;jthread null=&quot;current&quot; impl=&quot;noconvert&quot;/&gt;
 2225 	    &lt;description&gt;
 2226 	      Retrieve from this thread.
 2227 	    &lt;/description&gt;
 2228 	&lt;/param&gt;
 2229         &lt;param id=&quot;data_ptr&quot;&gt;
 2230 	  &lt;agentbuf&gt;&lt;void/&gt;&lt;/agentbuf&gt;
 2231 	  &lt;description&gt;
 2232 	    Pointer through which the value of the thread local
 2233 	    storage is returned.
 2234 	    If thread-local storage has not been set with
 2235 	    &lt;functionlink id=&quot;SetThreadLocalStorage&quot;&gt;&lt;/functionlink&gt; the returned
 2236 	    pointer is &lt;code&gt;NULL&lt;/code&gt;.
 2237 	  &lt;/description&gt;
 2238 	&lt;/param&gt;
 2239       &lt;/parameters&gt;
 2240       &lt;errors&gt;
 2241       &lt;/errors&gt;
 2242     &lt;/function&gt;
 2243 
 2244   &lt;/category&gt;
 2245 
 2246   &lt;category id=&quot;thread_groups&quot; label=&quot;Thread Group&quot;&gt;
 2247     &lt;intro&gt;
 2248     &lt;/intro&gt;
 2249 
 2250     &lt;function id=&quot;GetTopThreadGroups&quot; num=&quot;13&quot;&gt;
 2251       &lt;synopsis&gt;Get Top Thread Groups&lt;/synopsis&gt;
 2252       &lt;description&gt;
 2253 	Return all top-level (parentless) thread groups in the VM.
 2254       &lt;/description&gt;
 2255       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2256       &lt;capabilities&gt;
 2257       &lt;/capabilities&gt;
 2258       &lt;parameters&gt;
 2259 	&lt;param id=&quot;group_count_ptr&quot;&gt;
 2260 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2261 	  &lt;description&gt;
 2262 	    On return, points to the number of top-level thread groups.
 2263 	  &lt;/description&gt;
 2264 	&lt;/param&gt;
 2265 	&lt;param id=&quot;groups_ptr&quot;&gt;
 2266 	  &lt;allocbuf outcount=&quot;group_count_ptr&quot;&gt;&lt;jthreadGroup/&gt;&lt;/allocbuf&gt;
 2267 	    &lt;description&gt;
 2268 	      On return, refers to a pointer to the top-level thread group array.
 2269 	    &lt;/description&gt;
 2270 	&lt;/param&gt;
 2271       &lt;/parameters&gt;
 2272       &lt;errors&gt;
 2273       &lt;/errors&gt;
 2274     &lt;/function&gt;
 2275 
 2276     &lt;function id=&quot;GetThreadGroupInfo&quot; num=&quot;14&quot;&gt;
 2277       &lt;synopsis&gt;Get Thread Group Info&lt;/synopsis&gt;
 2278       &lt;typedef id=&quot;jvmtiThreadGroupInfo&quot; label=&quot;Thread group information structure&quot;&gt;
 2279 	&lt;field id=&quot;parent&quot;&gt;
 2280 	  &lt;jthreadGroup/&gt;
 2281 	  &lt;description&gt;
 2282 	    The parent thread group.
 2283 	  &lt;/description&gt;
 2284 	&lt;/field&gt;
 2285 	&lt;field id=&quot;name&quot;&gt;
 2286 	  &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 2287 	  &lt;description&gt;
 2288 	    The thread group&#39;s name, encoded as a
 2289 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 2290 	  &lt;/description&gt;
 2291 	&lt;/field&gt;
 2292 	&lt;field id=&quot;max_priority&quot;&gt;
 2293 	  &lt;jint/&gt;
 2294 	  &lt;description&gt;
 2295 	    The maximum priority for this thread group.
 2296 	  &lt;/description&gt;
 2297 	&lt;/field&gt;
 2298 	&lt;field id=&quot;is_daemon&quot;&gt;
 2299 	  &lt;jboolean/&gt;
 2300 	  &lt;description&gt;
 2301 	    Is this a daemon thread group?
 2302 	  &lt;/description&gt;
 2303 	&lt;/field&gt;
 2304       &lt;/typedef&gt;
 2305       &lt;description&gt;
 2306 	Get information about the thread group. The fields of the
 2307 	&lt;functionlink id=&quot;jvmtiThreadGroupInfo&quot;&gt;&lt;/functionlink&gt; structure
 2308 	are filled in with details of the specified thread group.
 2309       &lt;/description&gt;
 2310       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2311       &lt;capabilities&gt;
 2312       &lt;/capabilities&gt;
 2313       &lt;parameters&gt;
 2314 	&lt;param id=&quot;group&quot;&gt;
 2315 	  &lt;jthreadGroup/&gt;
 2316 	  &lt;description&gt;
 2317 	    The thread group to query.
 2318 	  &lt;/description&gt;
 2319 	&lt;/param&gt;
 2320 	&lt;param id=&quot;info_ptr&quot;&gt;
 2321 	  &lt;outptr&gt;&lt;struct&gt;jvmtiThreadGroupInfo&lt;/struct&gt;&lt;/outptr&gt;
 2322 	  &lt;description&gt;
 2323 	    On return, filled with information describing the specified
 2324 	    thread group.
 2325 	  &lt;/description&gt;
 2326 	&lt;/param&gt;
 2327       &lt;/parameters&gt;
 2328       &lt;errors&gt;
 2329       &lt;/errors&gt;
 2330     &lt;/function&gt;
 2331 
 2332     &lt;function id=&quot;GetThreadGroupChildren&quot; num=&quot;15&quot;&gt;
 2333       &lt;synopsis&gt;Get Thread Group Children&lt;/synopsis&gt;
 2334       &lt;description&gt;
 2335 	Get the live threads and active subgroups in this thread group.
 2336       &lt;/description&gt;
 2337       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2338       &lt;capabilities&gt;
 2339       &lt;/capabilities&gt;
 2340       &lt;parameters&gt;
 2341 	&lt;param id=&quot;group&quot;&gt;
 2342 	  &lt;jthreadGroup/&gt;
 2343 	  &lt;description&gt;
 2344 	    The group to query.
 2345 	  &lt;/description&gt;
 2346 	&lt;/param&gt;
 2347 	&lt;param id=&quot;thread_count_ptr&quot;&gt;
 2348 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2349 	  &lt;description&gt;
 2350 	    On return, points to the number of live threads in this thread group.
 2351 	  &lt;/description&gt;
 2352 	&lt;/param&gt;
 2353 	&lt;param id=&quot;threads_ptr&quot;&gt;
 2354 	  &lt;allocbuf outcount=&quot;thread_count_ptr&quot;&gt;&lt;jthread/&gt;&lt;/allocbuf&gt;
 2355 	    &lt;description&gt;
 2356 	      On return, points to an array of the live threads in this thread group.
 2357 	    &lt;/description&gt;
 2358 	&lt;/param&gt;
 2359 	&lt;param id=&quot;group_count_ptr&quot;&gt;
 2360 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2361 	  &lt;description&gt;
 2362 	    On return, points to the number of active child thread groups
 2363 	  &lt;/description&gt;
 2364 	&lt;/param&gt;
 2365 	&lt;param id=&quot;groups_ptr&quot;&gt;
 2366 	  &lt;allocbuf outcount=&quot;group_count_ptr&quot;&gt;&lt;jthreadGroup/&gt;&lt;/allocbuf&gt;
 2367 	    &lt;description&gt;
 2368 	      On return, points to an array of the active child thread groups.
 2369 	    &lt;/description&gt;
 2370 	&lt;/param&gt;
 2371       &lt;/parameters&gt;
 2372       &lt;errors&gt;
 2373       &lt;/errors&gt;
 2374     &lt;/function&gt;
 2375   &lt;/category&gt;
 2376 
 2377   &lt;category id=&quot;stack&quot; label=&quot;Stack Frame&quot;&gt;
 2378     &lt;intro&gt;
 2379         These functions provide information about the stack of a thread.
 2380         Stack frames are referenced by depth.
 2381         The frame at depth zero is the current frame.
 2382         &lt;p/&gt;
 2383         Stack frames are as described in
 2384         &lt;vmspec chapter=&quot;3.6&quot;/&gt;,
 2385         That is, they correspond to method
 2386         invocations (including native methods) but do not correspond to platform native or
 2387         VM internal frames.
 2388         &lt;p/&gt;
 2389         A &lt;jvmti/&gt; implementation may use method invocations to launch a thread and
 2390         the corresponding frames may be included in the stack as presented by these functions --
 2391         that is, there may be frames shown
 2392         deeper than &lt;code&gt;main()&lt;/code&gt; and &lt;code&gt;run()&lt;/code&gt;.
 2393         However this presentation must be consistent across all &lt;jvmti/&gt; functionality which
 2394         uses stack frames or stack depth.
 2395     &lt;/intro&gt;
 2396 
 2397       &lt;typedef id=&quot;jvmtiFrameInfo&quot; label=&quot;Stack frame information structure&quot;&gt;
 2398         &lt;description&gt;
 2399           Information about a stack frame is returned in this structure.
 2400         &lt;/description&gt;
 2401         &lt;field id=&quot;method&quot;&gt;
 2402 	  &lt;jmethodID/&gt;
 2403 	    &lt;description&gt;
 2404 	      The method executing in this frame.
 2405 	    &lt;/description&gt;
 2406 	&lt;/field&gt;
 2407         &lt;field id=&quot;location&quot;&gt;
 2408 	  &lt;jlocation/&gt;
 2409 	  &lt;description&gt;
 2410 	    The index of the instruction executing in this frame.
 2411             &lt;code&gt;-1&lt;/code&gt; if the frame is executing a native method.
 2412 	  &lt;/description&gt;
 2413 	&lt;/field&gt;
 2414       &lt;/typedef&gt;
 2415 
 2416       &lt;typedef id=&quot;jvmtiStackInfo&quot; label=&quot;Stack information structure&quot;&gt;
 2417         &lt;description&gt;
 2418           Information about a set of stack frames is returned in this structure.
 2419         &lt;/description&gt;
 2420         &lt;field id=&quot;thread&quot;&gt;
 2421 	  &lt;jthread/&gt;
 2422 	  &lt;description&gt;
 2423 	    On return, the thread traced.
 2424 	  &lt;/description&gt;
 2425 	&lt;/field&gt;
 2426         &lt;field id=&quot;state&quot;&gt;
 2427 	  &lt;jint/&gt;
 2428 	  &lt;description&gt;
 2429 	    On return, the thread state. See &lt;functionlink id=&quot;GetThreadState&quot;&gt;&lt;/functionlink&gt;.
 2430 	  &lt;/description&gt;
 2431 	&lt;/field&gt;
 2432         &lt;field id=&quot;frame_buffer&quot;&gt;
 2433 	  &lt;outbuf incount=&quot;max_frame_count&quot;&gt;
 2434 	    &lt;struct&gt;jvmtiFrameInfo&lt;/struct&gt;
 2435 	  &lt;/outbuf&gt;
 2436 	    &lt;description&gt;
 2437 	      On return, this agent allocated buffer is filled
 2438 	      with stack frame information.
 2439 	    &lt;/description&gt;
 2440 	&lt;/field&gt;
 2441         &lt;field id=&quot;frame_count&quot;&gt;
 2442 	  &lt;jint/&gt;
 2443 	  &lt;description&gt;
 2444 	    On return, the number of records filled into
 2445             &lt;code&gt;frame_buffer&lt;/code&gt;.
 2446             This will be
 2447             min(&lt;code&gt;max_frame_count&lt;/code&gt;, &lt;i&gt;stackDepth&lt;/i&gt;).
 2448 	  &lt;/description&gt;
 2449 	&lt;/field&gt;
 2450       &lt;/typedef&gt;
 2451 
 2452     &lt;function id=&quot;GetStackTrace&quot; num=&quot;104&quot;&gt;
 2453       &lt;synopsis&gt;Get Stack Trace&lt;/synopsis&gt;
 2454       &lt;description&gt;
 2455         Get information about the stack of a thread.
 2456         If &lt;paramlink id=&quot;max_frame_count&quot;&gt;&lt;/paramlink&gt; is less than the depth of the stack,
 2457         the &lt;paramlink id=&quot;max_frame_count&quot;&gt;&lt;/paramlink&gt; topmost frames are returned,
 2458         otherwise the entire stack is returned.
 2459         The topmost frames, those most recently invoked, are at the beginning of the returned buffer.
 2460         &lt;p/&gt;
 2461         The following example causes up to five of the topmost frames
 2462         to be returned and (if there are any frames) the currently
 2463         executing method name to be printed.
 2464         &lt;example&gt;
 2465 jvmtiFrameInfo frames[5];
 2466 jint count;
 2467 jvmtiError err;
 2468 
 2469 err = (*jvmti)-&amp;gt;GetStackTrace(jvmti, aThread, 0, 5,
 2470                                frames, &amp;amp;count);
 2471 if (err == JVMTI_ERROR_NONE &amp;amp;&amp;amp; count &amp;gt;= 1) {
 2472    char *methodName;
 2473    err = (*jvmti)-&amp;gt;GetMethodName(jvmti, frames[0].method,
 2474                        &amp;amp;methodName, NULL, NULL);
 2475    if (err == JVMTI_ERROR_NONE) {
 2476       printf(&quot;Executing method: %s&quot;, methodName);
 2477    }
 2478 }
 2479         &lt;/example&gt;
 2480         &lt;todo&gt;
 2481           check example code.
 2482         &lt;/todo&gt;
 2483         &lt;p/&gt;
 2484         The &lt;paramlink id=&quot;thread&quot;&gt;&lt;/paramlink&gt; need not be suspended
 2485         to call this function.
 2486         &lt;p/&gt;
 2487         The &lt;functionlink id=&quot;GetLineNumberTable&quot;&gt;&lt;/functionlink&gt;
 2488         function can be used to map locations to line numbers. Note that
 2489         this mapping can be done lazily.
 2490       &lt;/description&gt;
 2491       &lt;origin&gt;jvmpi&lt;/origin&gt;
 2492       &lt;capabilities&gt;
 2493       &lt;/capabilities&gt;
 2494       &lt;parameters&gt;
 2495         &lt;param id=&quot;thread&quot;&gt;
 2496 	  &lt;jthread null=&quot;current&quot;/&gt;
 2497 	    &lt;description&gt;
 2498 	      Fetch the stack trace of this thread.
 2499 	    &lt;/description&gt;
 2500 	&lt;/param&gt;
 2501         &lt;param id=&quot;start_depth&quot;&gt;
 2502 	  &lt;jint/&gt;
 2503 	  &lt;description&gt;
 2504 	    Begin retrieving frames at this depth.
 2505             If non-negative, count from the current frame,
 2506             the first frame retrieved is at depth &lt;code&gt;start_depth&lt;/code&gt;.
 2507             For example, if zero, start from the current frame; if one, start from the
 2508             caller of the current frame; if two, start from the caller of the
 2509             caller of the current frame; and so on.
 2510             If negative, count from below the oldest frame,
 2511             the first frame retrieved is at depth &lt;i&gt;stackDepth&lt;/i&gt;&lt;code&gt; + start_depth&lt;/code&gt;,
 2512             where &lt;i&gt;stackDepth&lt;/i&gt; is the count of frames on the stack.
 2513             For example, if negative one, only the oldest frame is retrieved;
 2514             if negative two, start from the frame called by the oldest frame.
 2515 	  &lt;/description&gt;
 2516 	&lt;/param&gt;
 2517         &lt;param id=&quot;max_frame_count&quot;&gt;
 2518 	  &lt;jint min=&quot;0&quot;/&gt;
 2519 	  &lt;description&gt;
 2520 	    The maximum number of &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt; records to retrieve.
 2521 	  &lt;/description&gt;
 2522 	&lt;/param&gt;
 2523         &lt;param id=&quot;frame_buffer&quot;&gt;
 2524 	  &lt;outbuf incount=&quot;max_frame_count&quot; outcount=&quot;count_ptr&quot;&gt;
 2525 	    &lt;struct&gt;jvmtiFrameInfo&lt;/struct&gt;
 2526 	  &lt;/outbuf&gt;
 2527 	    &lt;description&gt;
 2528 	      On return, this agent allocated buffer is filled
 2529 	      with stack frame information.
 2530 	    &lt;/description&gt;
 2531 	&lt;/param&gt;
 2532         &lt;param id=&quot;count_ptr&quot;&gt;
 2533 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2534 	  &lt;description&gt;
 2535 	    On return, points to the number of records filled in.
 2536             For non-negative &lt;code&gt;start_depth&lt;/code&gt;, this will be
 2537             min(&lt;code&gt;max_frame_count&lt;/code&gt;, &lt;i&gt;stackDepth&lt;/i&gt;&lt;code&gt; - start_depth&lt;/code&gt;).
 2538             For negative &lt;code&gt;start_depth&lt;/code&gt;, this will be
 2539             min(&lt;code&gt;max_frame_count&lt;/code&gt;, &lt;code&gt;-start_depth&lt;/code&gt;).
 2540 	  &lt;/description&gt;
 2541 	&lt;/param&gt;
 2542       &lt;/parameters&gt;
 2543       &lt;errors&gt;
 2544 	&lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 2545 	  &lt;paramlink id=&quot;start_depth&quot;/&gt; is positive and greater than or equal to &lt;i&gt;stackDepth&lt;/i&gt;.
 2546 	  Or &lt;paramlink id=&quot;start_depth&quot;/&gt; is negative and less than &lt;i&gt;-stackDepth&lt;/i&gt;.
 2547 	&lt;/error&gt;
 2548       &lt;/errors&gt;
 2549     &lt;/function&gt;
 2550 
 2551 
 2552     &lt;function id=&quot;GetAllStackTraces&quot; num=&quot;100&quot;&gt;
 2553       &lt;synopsis&gt;Get All Stack Traces&lt;/synopsis&gt;
 2554       &lt;description&gt;
 2555         Get information about the stacks of all live threads
 2556         (including &lt;internallink id=&quot;RunAgentThread&quot;&gt;agent threads&lt;/internallink&gt;).
 2557         If &lt;paramlink id=&quot;max_frame_count&quot;/&gt; is less than the depth of a stack,
 2558         the &lt;paramlink id=&quot;max_frame_count&quot;/&gt; topmost frames are returned for that thread,
 2559         otherwise the entire stack is returned.
 2560         The topmost frames, those most recently invoked, are at the beginning of the returned buffer.
 2561         &lt;p/&gt;
 2562         All stacks are collected simultaneously, that is, no changes will occur to the
 2563         thread state or stacks between the sampling of one thread and the next.
 2564         The threads need not be suspended.
 2565 
 2566         &lt;example&gt;
 2567 jvmtiStackInfo *stack_info;
 2568 jint thread_count;
 2569 int ti;
 2570 jvmtiError err;
 2571 
 2572 err = (*jvmti)-&amp;gt;GetAllStackTraces(jvmti, MAX_FRAMES, &amp;amp;stack_info, &amp;amp;thread_count);
 2573 if (err != JVMTI_ERROR_NONE) {
 2574    ...
 2575 }
 2576 for (ti = 0; ti &amp;lt; thread_count; ++ti) {
 2577    jvmtiStackInfo *infop = &amp;amp;stack_info[ti];
 2578    jthread thread = infop-&amp;gt;thread;
 2579    jint state = infop-&amp;gt;state;
 2580    jvmtiFrameInfo *frames = infop-&amp;gt;frame_buffer;
 2581    int fi;
 2582 
 2583    myThreadAndStatePrinter(thread, state);
 2584    for (fi = 0; fi &amp;lt; infop-&amp;gt;frame_count; fi++) {
 2585       myFramePrinter(frames[fi].method, frames[fi].location);
 2586    }
 2587 }
 2588 /* this one Deallocate call frees all data allocated by GetAllStackTraces */
 2589 err = (*jvmti)-&amp;gt;Deallocate(jvmti, stack_info);
 2590         &lt;/example&gt;
 2591         &lt;todo&gt;
 2592           check example code.
 2593         &lt;/todo&gt;
 2594 
 2595       &lt;/description&gt;
 2596       &lt;origin&gt;new&lt;/origin&gt;
 2597       &lt;capabilities&gt;
 2598       &lt;/capabilities&gt;
 2599       &lt;parameters&gt;
 2600         &lt;param id=&quot;max_frame_count&quot;&gt;
 2601 	  &lt;jint min=&quot;0&quot;/&gt;
 2602 	  &lt;description&gt;
 2603 	    The maximum number of &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt; records to retrieve per thread.
 2604 	  &lt;/description&gt;
 2605 	&lt;/param&gt;
 2606         &lt;param id=&quot;stack_info_ptr&quot;&gt;
 2607 	  &lt;allocbuf&gt;
 2608 	    &lt;struct&gt;jvmtiStackInfo&lt;/struct&gt;
 2609 	  &lt;/allocbuf&gt;
 2610 	    &lt;description&gt;
 2611 	      On return, this buffer is filled
 2612 	      with stack information for each thread.
 2613               The number of &lt;datalink id=&quot;jvmtiStackInfo&quot;/&gt; records is determined
 2614               by &lt;paramlink id=&quot;thread_count_ptr&quot;/&gt;.
 2615               &lt;p/&gt;
 2616               Note that this buffer is allocated to include the &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt;
 2617               buffers pointed to by &lt;datalink id=&quot;jvmtiStackInfo.frame_buffer&quot;/&gt;.
 2618               These buffers must not be separately deallocated.
 2619 	    &lt;/description&gt;
 2620 	&lt;/param&gt;
 2621         &lt;param id=&quot;thread_count_ptr&quot;&gt;
 2622 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2623 	  &lt;description&gt;
 2624 	    The number of threads traced.
 2625 	  &lt;/description&gt;
 2626 	&lt;/param&gt;
 2627       &lt;/parameters&gt;
 2628       &lt;errors&gt;
 2629       &lt;/errors&gt;
 2630     &lt;/function&gt;
 2631 
 2632     &lt;function id=&quot;GetThreadListStackTraces&quot; num=&quot;101&quot;&gt;
 2633       &lt;synopsis&gt;Get Thread List Stack Traces&lt;/synopsis&gt;
 2634       &lt;description&gt;
 2635         Get information about the stacks of the supplied threads.
 2636         If &lt;paramlink id=&quot;max_frame_count&quot;/&gt; is less than the depth of a stack,
 2637         the &lt;paramlink id=&quot;max_frame_count&quot;/&gt; topmost frames are returned for that thread,
 2638         otherwise the entire stack is returned.
 2639         The topmost frames, those most recently invoked, are at the beginning of the returned buffer.
 2640         &lt;p/&gt;
 2641         All stacks are collected simultaneously, that is, no changes will occur to the
 2642         thread state or stacks between the sampling one thread and the next.
 2643         The threads need not be suspended.
 2644         &lt;p/&gt;
 2645         If a thread has not yet started or terminates before the stack information is collected,
 2646         a zero length stack (&lt;datalink id=&quot;jvmtiStackInfo.frame_count&quot;/&gt; will be zero)
 2647         will be returned and the thread &lt;datalink id=&quot;jvmtiStackInfo.state&quot;/&gt; can be checked.
 2648         &lt;p/&gt;
 2649         See the example for the similar function
 2650         &lt;functionlink id=&quot;GetAllStackTraces&quot;/&gt;.
 2651       &lt;/description&gt;
 2652       &lt;origin&gt;new&lt;/origin&gt;
 2653       &lt;capabilities&gt;
 2654       &lt;/capabilities&gt;
 2655       &lt;parameters&gt;
 2656         &lt;param id=&quot;thread_count&quot;&gt;
 2657 	  &lt;jint min=&quot;0&quot;/&gt;
 2658 	  &lt;description&gt;
 2659 	    The number of threads to trace.
 2660 	  &lt;/description&gt;
 2661 	&lt;/param&gt;
 2662         &lt;param id=&quot;thread_list&quot;&gt;
 2663 	  &lt;inbuf incount=&quot;thread_count&quot;&gt;&lt;jthread/&gt;&lt;/inbuf&gt;
 2664 	    &lt;description&gt;
 2665 	      The list of threads to trace.
 2666 	    &lt;/description&gt;
 2667 	&lt;/param&gt;
 2668         &lt;param id=&quot;max_frame_count&quot;&gt;
 2669 	  &lt;jint min=&quot;0&quot;/&gt;
 2670 	  &lt;description&gt;
 2671 	    The maximum number of &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt; records to retrieve per thread.
 2672 	  &lt;/description&gt;
 2673 	&lt;/param&gt;
 2674         &lt;param id=&quot;stack_info_ptr&quot;&gt;
 2675 	  &lt;allocbuf outcount=&quot;thread_count&quot;&gt;
 2676 	    &lt;struct&gt;jvmtiStackInfo&lt;/struct&gt;
 2677 	  &lt;/allocbuf&gt;
 2678 	    &lt;description&gt;
 2679 	      On return, this buffer is filled
 2680 	      with stack information for each thread.
 2681               The number of &lt;datalink id=&quot;jvmtiStackInfo&quot;/&gt; records is determined
 2682               by &lt;paramlink id=&quot;thread_count&quot;/&gt;.
 2683               &lt;p/&gt;
 2684               Note that this buffer is allocated to include the &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt;
 2685               buffers pointed to by &lt;datalink id=&quot;jvmtiStackInfo.frame_buffer&quot;/&gt;.
 2686               These buffers must not be separately deallocated.
 2687 	    &lt;/description&gt;
 2688 	&lt;/param&gt;
 2689       &lt;/parameters&gt;
 2690       &lt;errors&gt;
 2691 	&lt;error id=&quot;JVMTI_ERROR_INVALID_THREAD&quot;&gt;
 2692 	  An element in &lt;paramlink id=&quot;thread_list&quot;/&gt; is not a thread object.
 2693 	&lt;/error&gt;
 2694       &lt;/errors&gt;
 2695     &lt;/function&gt;
 2696 
 2697     &lt;elide&gt;
 2698     &lt;function id=&quot;AsyncGetStackTrace&quot; num=&quot;1000&quot;&gt;
 2699       &lt;synopsis&gt;Get Stack Trace--Asynchronous&lt;/synopsis&gt;
 2700       &lt;description&gt;
 2701         Get information about the entire stack of a thread (or a sub-section of it).
 2702         This is the asynchronous version of &lt;functionlink id=&quot;GetStackTrace&quot;&gt;&lt;/functionlink&gt;
 2703         and is reentrant and safe to call
 2704         from asynchronous signal handlers.
 2705         The stack trace is returned only for the calling thread.
 2706         &lt;p/&gt;
 2707         The &lt;functionlink id=&quot;GetLineNumberTable&quot;&gt;&lt;/functionlink&gt;
 2708         function can be used to map locations to line numbers. Note that
 2709         this mapping can be done lazily.
 2710       &lt;/description&gt;
 2711       &lt;origin&gt;jvmpi&lt;/origin&gt;
 2712       &lt;capabilities&gt;
 2713         &lt;required id=&quot;can_get_async_stack_trace&quot;&gt;&lt;/required&gt;
 2714         &lt;capability id=&quot;can_show_JVM_spec_async_frames&quot;&gt;
 2715           If &lt;code&gt;false&lt;/code&gt;,
 2716           &lt;paramlink id=&quot;use_java_stack&quot;&gt;&lt;/paramlink&gt;
 2717           must be &lt;code&gt;false&lt;/code&gt;.
 2718         &lt;/capability&gt;
 2719       &lt;/capabilities&gt;
 2720       &lt;parameters&gt;
 2721         &lt;param id=&quot;use_java_stack&quot;&gt;
 2722 	  &lt;jboolean/&gt;
 2723 	  &lt;description&gt;
 2724 	    Return the stack showing &lt;vmspec/&gt;
 2725 	    model of the stack;
 2726 	    otherwise, show the internal representation of the stack with
 2727 	    inlined and optimized methods missing.  If the virtual machine
 2728 	    is using the &lt;i&gt;Java Virtual Machine Specification&lt;/i&gt; stack model
 2729 	    internally, this flag is ignored.
 2730 	  &lt;/description&gt;
 2731 	&lt;/param&gt;
 2732         &lt;param id=&quot;max_count&quot;&gt;
 2733 	  &lt;jint min=&quot;0&quot;/&gt;
 2734 	  &lt;description&gt;
 2735 	    The maximum number of &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt; records to retrieve.
 2736 	    Retrieve this many unless the stack depth is less than &lt;code&gt;max_count&lt;/code&gt;.
 2737 	  &lt;/description&gt;
 2738 	&lt;/param&gt;
 2739         &lt;param id=&quot;frame_buffer&quot;&gt;
 2740 	  &lt;outbuf incount=&quot;max_count&quot; outcount=&quot;count_ptr&quot;&gt;
 2741 	    &lt;struct&gt;jvmtiFrameInfo&lt;/struct&gt;
 2742 	    &lt;nullok&gt;this information is not returned&lt;/nullok&gt;
 2743 	  &lt;/outbuf&gt;
 2744 	    &lt;description&gt;
 2745 	      The agent passes in a buffer
 2746 	      large enough to hold &lt;code&gt;max_count&lt;/code&gt; records of
 2747 	      &lt;datalink id=&quot;jvmtiFrameInfo&quot;&gt;&lt;/datalink&gt;.  This buffer must be
 2748 	      pre-allocated by the agent.
 2749 	    &lt;/description&gt;
 2750 	&lt;/param&gt;
 2751         &lt;param id=&quot;count_ptr&quot;&gt;
 2752 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2753 	  &lt;description&gt;
 2754 	    On return, points to the number of records filled in..
 2755 	  &lt;/description&gt;
 2756 	&lt;/param&gt;
 2757       &lt;/parameters&gt;
 2758       &lt;errors&gt;
 2759         &lt;error id=&quot;JVMTI_ERROR_UNATTACHED_THREAD&quot;&gt;
 2760           The thread being used to call this function is not attached
 2761           to the virtual machine.  Calls must be made from attached threads.
 2762         &lt;/error&gt;
 2763       &lt;/errors&gt;
 2764     &lt;/function&gt;
 2765     &lt;/elide&gt;
 2766 
 2767     &lt;function id=&quot;GetFrameCount&quot; num=&quot;16&quot;&gt;
 2768       &lt;synopsis&gt;Get Frame Count&lt;/synopsis&gt;
 2769       &lt;description&gt;
 2770 	Get the number of frames currently in the specified thread&#39;s call stack.
 2771 	&lt;p/&gt;
 2772 	If this function is called for a thread actively executing bytecodes (for example,
 2773 	not the current thread and not suspended), the information returned is transient.
 2774       &lt;/description&gt;
 2775       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2776       &lt;capabilities&gt;
 2777       &lt;/capabilities&gt;
 2778       &lt;parameters&gt;
 2779 	&lt;param id=&quot;thread&quot;&gt;
 2780 	  &lt;jthread null=&quot;current&quot;/&gt;
 2781 	    &lt;description&gt;
 2782 	      The thread to query.
 2783 	    &lt;/description&gt;
 2784 	&lt;/param&gt;
 2785 	&lt;param id=&quot;count_ptr&quot;&gt;
 2786 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2787 	  &lt;description&gt;
 2788 	    On return, points to the number of frames in the call stack.
 2789 	  &lt;/description&gt;
 2790 	&lt;/param&gt;
 2791       &lt;/parameters&gt;
 2792       &lt;errors&gt;
 2793       &lt;/errors&gt;
 2794     &lt;/function&gt;
 2795 
 2796     &lt;function id=&quot;PopFrame&quot; num=&quot;80&quot;&gt;
 2797       &lt;synopsis&gt;Pop Frame&lt;/synopsis&gt;
 2798       &lt;description&gt;
 2799 	Pop the current frame of &lt;code&gt;thread&lt;/code&gt;&#39;s stack.
 2800 	Popping a frame takes you to the previous frame.
 2801 	When the thread is resumed, the execution
 2802 	state of the thread is reset to the state
 2803 	immediately before the called method was invoked.
 2804 	That is (using &lt;vmspec/&gt; terminology):
 2805 	  &lt;ul&gt;
 2806 	    &lt;li&gt;the current frame is discarded as the previous frame becomes the current one&lt;/li&gt;
 2807 	    &lt;li&gt;the operand stack is restored--the argument values are added back
 2808 	      and if the invoke was not &lt;code&gt;invokestatic&lt;/code&gt;,
 2809 	      &lt;code&gt;objectref&lt;/code&gt; is added back as well&lt;/li&gt;
 2810 	    &lt;li&gt;the Java virtual machine PC is restored to the opcode
 2811 	      of the invoke instruction&lt;/li&gt;
 2812 	  &lt;/ul&gt;
 2813 	Note however, that any changes to the arguments, which
 2814 	occurred in the called method, remain;
 2815 	when execution continues, the first instruction to
 2816 	execute will be the invoke.
 2817 	&lt;p/&gt;
 2818 	Between calling &lt;code&gt;PopFrame&lt;/code&gt; and resuming the
 2819 	thread the state of the stack is undefined.
 2820 	To pop frames beyond the first,
 2821 	these three steps must be repeated:
 2822 	&lt;ul&gt;
 2823 	  &lt;li&gt;suspend the thread via an event (step, breakpoint, ...)&lt;/li&gt;
 2824 	  &lt;li&gt;call &lt;code&gt;PopFrame&lt;/code&gt;&lt;/li&gt;
 2825 	  &lt;li&gt;resume the thread&lt;/li&gt;
 2826 	&lt;/ul&gt;
 2827 	&lt;p/&gt;
 2828 	A lock acquired by calling the called method
 2829 	(if it is a &lt;code&gt;synchronized&lt;/code&gt;  method)
 2830 	and locks acquired by entering &lt;code&gt;synchronized&lt;/code&gt;
 2831 	blocks within the called method are released.
 2832 	Note: this does not apply to native locks or
 2833 	&lt;code&gt;java.util.concurrent.locks&lt;/code&gt; locks.
 2834 	&lt;p/&gt;
 2835 	Finally blocks are not executed.
 2836 	&lt;p/&gt;
 2837 	Changes to global state are not addressed and thus remain changed.
 2838 	&lt;p/&gt;
 2839 	The specified thread must be suspended (which implies it cannot be the current thread).
 2840 	&lt;p/&gt;
 2841 	Both the called method and calling method must be non-native Java programming
 2842         language methods.
 2843 	&lt;p/&gt;
 2844 	No &lt;jvmti/&gt; events are generated by this function.
 2845       &lt;/description&gt;
 2846       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2847       &lt;capabilities&gt;
 2848 	&lt;required id=&quot;can_pop_frame&quot;&gt;&lt;/required&gt;
 2849       &lt;/capabilities&gt;
 2850       &lt;parameters&gt;
 2851 	&lt;param id=&quot;thread&quot;&gt;
 2852 	  &lt;jthread/&gt;
 2853 	    &lt;description&gt;
 2854 	      The thread whose current frame is to be popped.
 2855 	    &lt;/description&gt;
 2856 	&lt;/param&gt;
 2857       &lt;/parameters&gt;
 2858       &lt;errors&gt;
 2859 	&lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 2860 	  Called or calling method is a native method.
 2861           The implementation is unable to pop this frame.
 2862 	&lt;/error&gt;
 2863 	&lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 2864 	  Thread was not suspended.
 2865 	&lt;/error&gt;
 2866 	&lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 2867 	  There are less than two stack frames on the call stack.
 2868 	&lt;/error&gt;
 2869       &lt;/errors&gt;
 2870     &lt;/function&gt;
 2871 
 2872     &lt;function id=&quot;GetFrameLocation&quot; num=&quot;19&quot;&gt;
 2873       &lt;synopsis&gt;Get Frame Location&lt;/synopsis&gt;
 2874       &lt;description&gt;
 2875 	&lt;p/&gt;
 2876 	For a Java programming language frame, return the location of the instruction
 2877 	currently executing.
 2878       &lt;/description&gt;
 2879       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 2880       &lt;capabilities&gt;
 2881       &lt;/capabilities&gt;
 2882       &lt;parameters&gt;
 2883  	&lt;param id=&quot;thread&quot;&gt;
 2884 	  &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 2885 	  &lt;description&gt;
 2886 	    The thread of the frame to query.
 2887 	  &lt;/description&gt;
 2888 	&lt;/param&gt;
 2889 	&lt;param id=&quot;depth&quot;&gt;
 2890 	  &lt;jframeID thread=&quot;thread&quot;/&gt;
 2891 	  &lt;description&gt;
 2892 	    The depth of the frame to query.
 2893 	  &lt;/description&gt;
 2894 	&lt;/param&gt;
 2895 	&lt;param id=&quot;method_ptr&quot;&gt;
 2896 	  &lt;outptr&gt;&lt;jmethodID/&gt;&lt;/outptr&gt;
 2897 	    &lt;description&gt;
 2898 	      On return, points to the method for the current location.
 2899 	    &lt;/description&gt;
 2900 	&lt;/param&gt;
 2901 	&lt;param id=&quot;location_ptr&quot;&gt;
 2902 	  &lt;outptr&gt;&lt;jlocation/&gt;&lt;/outptr&gt;
 2903 	  &lt;description&gt;
 2904 	    On return, points to the index of the currently
 2905 	    executing instruction.
 2906             Is set to &lt;code&gt;-1&lt;/code&gt; if the frame is executing
 2907             a native method.
 2908 	  &lt;/description&gt;
 2909 	&lt;/param&gt;
 2910       &lt;/parameters&gt;
 2911       &lt;errors&gt;
 2912       &lt;/errors&gt;
 2913     &lt;/function&gt;
 2914 
 2915     &lt;function id=&quot;NotifyFramePop&quot; num=&quot;20&quot;&gt;
 2916       &lt;synopsis&gt;Notify Frame Pop&lt;/synopsis&gt;
 2917       &lt;description&gt;
 2918 	When the frame that is currently at &lt;paramlink id=&quot;depth&quot;&gt;&lt;/paramlink&gt;
 2919         is popped from the stack, generate a
 2920 	&lt;eventlink id=&quot;FramePop&quot;&gt;&lt;/eventlink&gt; event.  See the
 2921 	&lt;eventlink id=&quot;FramePop&quot;&gt;&lt;/eventlink&gt; event for details.
 2922         Only frames corresponding to non-native Java programming language
 2923         methods can receive notification.
 2924         &lt;p/&gt;
 2925         The specified thread must either be the current thread
 2926         or the thread must be suspended.
 2927       &lt;/description&gt;
 2928       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2929       &lt;capabilities&gt;
 2930 	&lt;required id=&quot;can_generate_frame_pop_events&quot;&gt;&lt;/required&gt;
 2931       &lt;/capabilities&gt;
 2932       &lt;parameters&gt;
 2933  	&lt;param id=&quot;thread&quot;&gt;
 2934 	  &lt;jthread null=&quot;current&quot; frame=&quot;depth&quot;/&gt;
 2935 	  &lt;description&gt;
 2936 	    The thread of the frame for which the frame pop event will be generated.
 2937 	  &lt;/description&gt;
 2938 	&lt;/param&gt;
 2939 	&lt;param id=&quot;depth&quot;&gt;
 2940 	  &lt;jframeID thread=&quot;thread&quot;/&gt;
 2941 	  &lt;description&gt;
 2942 	    The depth of the frame for which the frame pop event will be generated.
 2943 	  &lt;/description&gt;
 2944 	&lt;/param&gt;
 2945       &lt;/parameters&gt;
 2946       &lt;errors&gt;
 2947 	&lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 2948 	  The frame at &lt;code&gt;depth&lt;/code&gt; is executing a
 2949           native method.
 2950 	&lt;/error&gt;
 2951 	&lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 2952 	  Thread was not suspended and was not the current thread.
 2953 	&lt;/error&gt;
 2954       &lt;/errors&gt;
 2955     &lt;/function&gt;
 2956 
 2957   &lt;/category&gt;
 2958 
 2959   &lt;category id=&quot;ForceEarlyReturn&quot; label=&quot;Force Early Return&quot;&gt;
 2960     &lt;intro&gt;
 2961       These functions allow an agent to force a method
 2962       to return at any point during its execution.
 2963       The method which will return early is referred to as the &lt;i&gt;called method&lt;/i&gt;.
 2964       The called method is the current method
 2965       (as defined by
 2966       &lt;vmspec chapter=&quot;3.6&quot;/&gt;)
 2967       for the specified thread at
 2968       the time the function is called.
 2969       &lt;p/&gt;
 2970       The specified thread must be suspended or must be the current thread.
 2971       The return occurs when execution of Java programming
 2972       language code is resumed on this thread.
 2973       Between calling one of these functions and resumption
 2974       of thread execution, the state of the stack is undefined.
 2975       &lt;p/&gt;
 2976       No further instructions are executed in the called method.
 2977       Specifically, finally blocks are not executed.
 2978       Note: this can cause inconsistent states in the application.
 2979       &lt;p/&gt;
 2980       A lock acquired by calling the called method
 2981       (if it is a &lt;code&gt;synchronized&lt;/code&gt;  method)
 2982       and locks acquired by entering &lt;code&gt;synchronized&lt;/code&gt;
 2983       blocks within the called method are released.
 2984       Note: this does not apply to native locks or
 2985       &lt;code&gt;java.util.concurrent.locks&lt;/code&gt; locks.
 2986       &lt;p/&gt;
 2987       Events, such as &lt;eventlink id=&quot;MethodExit&quot;&gt;&lt;/eventlink&gt;,
 2988       are generated as they would be in a normal return.
 2989       &lt;p/&gt;
 2990       The called method must be a non-native Java programming
 2991       language method.
 2992       Forcing return on a thread with only one frame on the
 2993       stack causes the thread to exit when resumed.
 2994     &lt;/intro&gt;
 2995 
 2996     &lt;function id=&quot;ForceEarlyReturnObject&quot; num=&quot;81&quot; since=&quot;1.1&quot;&gt;
 2997       &lt;synopsis&gt;Force Early Return - Object&lt;/synopsis&gt;
 2998       &lt;description&gt;
 2999 	This function can be used to return from a method whose
 3000         result type is &lt;code&gt;Object&lt;/code&gt;
 3001         or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 3002       &lt;/description&gt;
 3003       &lt;origin&gt;new&lt;/origin&gt;
 3004       &lt;capabilities&gt;
 3005 	&lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3006       &lt;/capabilities&gt;
 3007       &lt;parameters&gt;
 3008 	&lt;param id=&quot;thread&quot;&gt;
 3009 	  &lt;jthread null=&quot;current&quot;/&gt;
 3010 	  &lt;description&gt;
 3011 	    The thread whose current frame is to return early.
 3012 	  &lt;/description&gt;
 3013 	&lt;/param&gt;
 3014 	&lt;param id=&quot;value&quot;&gt;
 3015 	  &lt;jobject/&gt;
 3016 	  &lt;description&gt;
 3017 	    The return value for the called frame.
 3018             An object or &lt;code&gt;NULL&lt;/code&gt;.
 3019 	  &lt;/description&gt;
 3020 	&lt;/param&gt;
 3021       &lt;/parameters&gt;
 3022       &lt;errors&gt;
 3023 	&lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3024 	  Attempted to return early from a frame
 3025           corresponding to a native method.
 3026           Or the implementation is unable to provide
 3027           this functionality on this frame.
 3028 	&lt;/error&gt;
 3029 	&lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3030 	  The result type of the called method is not
 3031           &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 3032 	&lt;/error&gt;
 3033 	&lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3034 	  The supplied &lt;paramlink id=&quot;value&quot;/&gt; is not compatible with the
 3035           result type of the called method.
 3036 	&lt;/error&gt;
 3037 	&lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3038 	  Thread was not the current thread and was not suspended.
 3039 	&lt;/error&gt;
 3040 	&lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3041 	  There are no more frames on the call stack.
 3042 	&lt;/error&gt;
 3043       &lt;/errors&gt;
 3044     &lt;/function&gt;
 3045 
 3046     &lt;function id=&quot;ForceEarlyReturnInt&quot; num=&quot;82&quot; since=&quot;1.1&quot;&gt;
 3047       &lt;synopsis&gt;Force Early Return - Int&lt;/synopsis&gt;
 3048       &lt;description&gt;
 3049 	This function can be used to return from a method whose
 3050         result type is &lt;code&gt;int&lt;/code&gt;, &lt;code&gt;short&lt;/code&gt;,
 3051         &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 3052 	&lt;code&gt;boolean&lt;/code&gt;.
 3053       &lt;/description&gt;
 3054       &lt;origin&gt;new&lt;/origin&gt;
 3055       &lt;capabilities&gt;
 3056 	&lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3057       &lt;/capabilities&gt;
 3058       &lt;parameters&gt;
 3059 	&lt;param id=&quot;thread&quot;&gt;
 3060 	  &lt;jthread null=&quot;current&quot;/&gt;
 3061 	  &lt;description&gt;
 3062 	    The thread whose current frame is to return early.
 3063 	  &lt;/description&gt;
 3064 	&lt;/param&gt;
 3065 	&lt;param id=&quot;value&quot;&gt;
 3066 	  &lt;jint/&gt;
 3067 	  &lt;description&gt;
 3068 	    The return value for the called frame.
 3069 	  &lt;/description&gt;
 3070 	&lt;/param&gt;
 3071       &lt;/parameters&gt;
 3072       &lt;errors&gt;
 3073 	&lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3074 	  Attempted to return early from a frame
 3075           corresponding to a native method.
 3076           Or the implementation is unable to provide
 3077           this functionality on this frame.
 3078 	&lt;/error&gt;
 3079 	&lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3080 	  The result type of the called method is not
 3081           &lt;code&gt;int&lt;/code&gt;, &lt;code&gt;short&lt;/code&gt;,
 3082           &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 3083   	  &lt;code&gt;boolean&lt;/code&gt;.
 3084 	&lt;/error&gt;
 3085 	&lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3086 	  Thread was not the current thread and was not suspended.
 3087 	&lt;/error&gt;
 3088 	&lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3089 	  There are no frames on the call stack.
 3090 	&lt;/error&gt;
 3091       &lt;/errors&gt;
 3092     &lt;/function&gt;
 3093 
 3094     &lt;function id=&quot;ForceEarlyReturnLong&quot; num=&quot;83&quot; since=&quot;1.1&quot;&gt;
 3095       &lt;synopsis&gt;Force Early Return - Long&lt;/synopsis&gt;
 3096       &lt;description&gt;
 3097 	This function can be used to return from a method whose
 3098         result type is &lt;code&gt;long&lt;/code&gt;.
 3099       &lt;/description&gt;
 3100       &lt;origin&gt;new&lt;/origin&gt;
 3101       &lt;capabilities&gt;
 3102 	&lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3103       &lt;/capabilities&gt;
 3104       &lt;parameters&gt;
 3105 	&lt;param id=&quot;thread&quot;&gt;
 3106 	  &lt;jthread null=&quot;current&quot;/&gt;
 3107 	  &lt;description&gt;
 3108 	    The thread whose current frame is to return early.
 3109 	  &lt;/description&gt;
 3110 	&lt;/param&gt;
 3111 	&lt;param id=&quot;value&quot;&gt;
 3112 	  &lt;jlong/&gt;
 3113 	  &lt;description&gt;
 3114 	    The return value for the called frame.
 3115 	  &lt;/description&gt;
 3116 	&lt;/param&gt;
 3117       &lt;/parameters&gt;
 3118       &lt;errors&gt;
 3119 	&lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3120 	  Attempted to return early from a frame
 3121           corresponding to a native method.
 3122           Or the implementation is unable to provide
 3123           this functionality on this frame.
 3124 	&lt;/error&gt;
 3125 	&lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3126 	  The result type of the called method is not &lt;code&gt;long&lt;/code&gt;.
 3127 	&lt;/error&gt;
 3128 	&lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3129 	  Thread was not the current thread and was not suspended.
 3130 	&lt;/error&gt;
 3131 	&lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3132 	  There are no frames on the call stack.
 3133 	&lt;/error&gt;
 3134       &lt;/errors&gt;
 3135     &lt;/function&gt;
 3136 
 3137     &lt;function id=&quot;ForceEarlyReturnFloat&quot; num=&quot;84&quot; since=&quot;1.1&quot;&gt;
 3138       &lt;synopsis&gt;Force Early Return - Float&lt;/synopsis&gt;
 3139       &lt;description&gt;
 3140 	This function can be used to return from a method whose
 3141         result type is &lt;code&gt;float&lt;/code&gt;.
 3142       &lt;/description&gt;
 3143       &lt;origin&gt;new&lt;/origin&gt;
 3144       &lt;capabilities&gt;
 3145 	&lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3146       &lt;/capabilities&gt;
 3147       &lt;parameters&gt;
 3148 	&lt;param id=&quot;thread&quot;&gt;
 3149 	  &lt;jthread null=&quot;current&quot;/&gt;
 3150 	  &lt;description&gt;
 3151 	    The thread whose current frame is to return early.
 3152 	  &lt;/description&gt;
 3153 	&lt;/param&gt;
 3154 	&lt;param id=&quot;value&quot;&gt;
 3155 	  &lt;jfloat/&gt;
 3156 	  &lt;description&gt;
 3157 	    The return value for the called frame.
 3158 	  &lt;/description&gt;
 3159 	&lt;/param&gt;
 3160       &lt;/parameters&gt;
 3161       &lt;errors&gt;
 3162 	&lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3163 	  Attempted to return early from a frame
 3164           corresponding to a native method.
 3165           Or the implementation is unable to provide
 3166           this functionality on this frame.
 3167 	&lt;/error&gt;
 3168 	&lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3169 	  The result type of the called method is not &lt;code&gt;float&lt;/code&gt;.
 3170 	&lt;/error&gt;
 3171 	&lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3172 	  Thread was not the current thread and was not suspended.
 3173 	&lt;/error&gt;
 3174 	&lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3175 	  There are no frames on the call stack.
 3176 	&lt;/error&gt;
 3177       &lt;/errors&gt;
 3178     &lt;/function&gt;
 3179 
 3180     &lt;function id=&quot;ForceEarlyReturnDouble&quot; num=&quot;85&quot; since=&quot;1.1&quot;&gt;
 3181       &lt;synopsis&gt;Force Early Return - Double&lt;/synopsis&gt;
 3182       &lt;description&gt;
 3183 	This function can be used to return from a method whose
 3184         result type is &lt;code&gt;double&lt;/code&gt;.
 3185       &lt;/description&gt;
 3186       &lt;origin&gt;new&lt;/origin&gt;
 3187       &lt;capabilities&gt;
 3188 	&lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3189       &lt;/capabilities&gt;
 3190       &lt;parameters&gt;
 3191 	&lt;param id=&quot;thread&quot;&gt;
 3192 	  &lt;jthread null=&quot;current&quot;/&gt;
 3193 	  &lt;description&gt;
 3194 	    The thread whose current frame is to return early.
 3195 	  &lt;/description&gt;
 3196 	&lt;/param&gt;
 3197 	&lt;param id=&quot;value&quot;&gt;
 3198 	  &lt;jdouble/&gt;
 3199 	  &lt;description&gt;
 3200 	    The return value for the called frame.
 3201 	  &lt;/description&gt;
 3202 	&lt;/param&gt;
 3203       &lt;/parameters&gt;
 3204       &lt;errors&gt;
 3205 	&lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3206 	  Attempted to return early from a frame corresponding to a native method.
 3207           Or the implementation is unable to provide this functionality on this frame.
 3208 	&lt;/error&gt;
 3209 	&lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3210 	  The result type of the called method is not &lt;code&gt;double&lt;/code&gt;.
 3211 	&lt;/error&gt;
 3212 	&lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3213 	  Thread was not the current thread and was not suspended.
 3214 	&lt;/error&gt;
 3215 	&lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3216 	  There are no frames on the call stack.
 3217 	&lt;/error&gt;
 3218       &lt;/errors&gt;
 3219     &lt;/function&gt;
 3220 
 3221     &lt;function id=&quot;ForceEarlyReturnVoid&quot; num=&quot;86&quot; since=&quot;1.1&quot;&gt;
 3222       &lt;synopsis&gt;Force Early Return - Void&lt;/synopsis&gt;
 3223       &lt;description&gt;
 3224 	This function can be used to return from a method with no result type.
 3225         That is, the called method must be declared &lt;code&gt;void&lt;/code&gt;.
 3226       &lt;/description&gt;
 3227       &lt;origin&gt;new&lt;/origin&gt;
 3228       &lt;capabilities&gt;
 3229 	&lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3230       &lt;/capabilities&gt;
 3231       &lt;parameters&gt;
 3232 	&lt;param id=&quot;thread&quot;&gt;
 3233 	  &lt;jthread null=&quot;current&quot;/&gt;
 3234 	  &lt;description&gt;
 3235 	    The thread whose current frame is to return early.
 3236 	  &lt;/description&gt;
 3237 	&lt;/param&gt;
 3238       &lt;/parameters&gt;
 3239       &lt;errors&gt;
 3240 	&lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3241 	  Attempted to return early from a frame
 3242           corresponding to a native method.
 3243           Or the implementation is unable to provide
 3244           this functionality on this frame.
 3245 	&lt;/error&gt;
 3246 	&lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3247 	  The called method has a result type.
 3248 	&lt;/error&gt;
 3249 	&lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3250 	  Thread was not the current thread and was not suspended.
 3251 	&lt;/error&gt;
 3252 	&lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3253 	  There are no frames on the call stack.
 3254 	&lt;/error&gt;
 3255       &lt;/errors&gt;
 3256     &lt;/function&gt;
 3257 
 3258   &lt;/category&gt;
 3259 
 3260   &lt;category id=&quot;Heap&quot; label=&quot;Heap&quot;&gt;
 3261     &lt;intro&gt;
 3262       These functions are used to analyze the heap.
 3263       Functionality includes the ability to view the objects in the
 3264       heap and to tag these objects.
 3265     &lt;/intro&gt;
 3266 
 3267     &lt;intro id=&quot;objectTags&quot; label=&quot;Object Tags&quot;&gt;
 3268       A &lt;i&gt;tag&lt;/i&gt; is a value associated with an object.
 3269       Tags are explicitly set by the agent using the
 3270       &lt;functionlink id=&quot;SetTag&quot;&gt;&lt;/functionlink&gt; function or by
 3271       callback functions such as &lt;functionlink id=&quot;jvmtiHeapIterationCallback&quot;/&gt;.
 3272       &lt;p/&gt;
 3273       Tags are local to the environment; that is, the tags of one
 3274       environment are not visible in another.
 3275       &lt;p/&gt;
 3276       Tags are &lt;code&gt;jlong&lt;/code&gt; values which can be used
 3277       simply to mark an object or to store a pointer to more detailed
 3278       information.  Objects which have not been tagged have a
 3279       tag of zero.
 3280       Setting a tag to zero makes the object untagged.
 3281     &lt;/intro&gt;
 3282 
 3283     &lt;intro id=&quot;heapCallbacks&quot; label=&quot;Heap Callback Functions&quot;&gt;
 3284         Heap functions which iterate through the heap and recursively
 3285         follow object references use agent supplied callback functions
 3286         to deliver the information.
 3287         &lt;p/&gt;
 3288         These heap callback functions must adhere to the following restrictions --
 3289         These callbacks must not use JNI functions.
 3290         These callbacks must not use &lt;jvmti/&gt; functions except
 3291         &lt;i&gt;callback safe&lt;/i&gt; functions which
 3292         specifically allow such use (see the raw monitor, memory management,
 3293         and environment local storage functions).
 3294         &lt;p/&gt;
 3295         An implementation may invoke a callback on an internal thread or
 3296         the thread which called the iteration function.
 3297         Heap callbacks are single threaded -- no more than one callback will
 3298         be invoked at a time.
 3299         &lt;p/&gt;
 3300         The Heap Filter Flags can be used to prevent reporting
 3301         based on the tag status of an object or its class.
 3302         If no flags are set (the &lt;code&gt;jint&lt;/code&gt; is zero), objects
 3303         will not be filtered out.
 3304 
 3305         &lt;constants id=&quot;jvmtiHeapFilter&quot; label=&quot;Heap Filter Flags&quot; kind=&quot;bits&quot;&gt;
 3306 	  &lt;constant id=&quot;JVMTI_HEAP_FILTER_TAGGED&quot; num=&quot;0x4&quot;&gt;
 3307 	    Filter out tagged objects. Objects which are tagged are not included.
 3308 	  &lt;/constant&gt;
 3309 	  &lt;constant id=&quot;JVMTI_HEAP_FILTER_UNTAGGED&quot; num=&quot;0x8&quot;&gt;
 3310 	    Filter out untagged objects. Objects which are not tagged are not included.
 3311 	  &lt;/constant&gt;
 3312 	  &lt;constant id=&quot;JVMTI_HEAP_FILTER_CLASS_TAGGED&quot; num=&quot;0x10&quot;&gt;
 3313 	    Filter out objects with tagged classes. Objects whose class is tagged are not included.
 3314 	  &lt;/constant&gt;
 3315 	  &lt;constant id=&quot;JVMTI_HEAP_FILTER_CLASS_UNTAGGED&quot; num=&quot;0x20&quot;&gt;
 3316 	    Filter out objects with untagged classes. Objects whose class is not tagged are not included.
 3317 	  &lt;/constant&gt;
 3318 	&lt;/constants&gt;
 3319 
 3320         &lt;p/&gt;
 3321         The Heap Visit Control Flags are returned by the heap callbacks
 3322         and can be used to abort the iteration.  For the
 3323         &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;&gt;Heap
 3324         Reference Callback&lt;/functionlink&gt;, it can also be used
 3325         to prune the graph of traversed references
 3326         (&lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; is not set).
 3327 
 3328         &lt;constants id=&quot;jvmtiHeapVisitControl&quot;
 3329                    label=&quot;Heap Visit Control Flags&quot;
 3330                    kind=&quot;bits&quot;
 3331                    since=&quot;1.1&quot;&gt;
 3332 	  &lt;constant id=&quot;JVMTI_VISIT_OBJECTS&quot; num=&quot;0x100&quot;&gt;
 3333             If we are visiting an object and if this callback
 3334             was initiated by &lt;functionlink id=&quot;FollowReferences&quot;/&gt;,
 3335             traverse the references of this object.
 3336             Otherwise ignored.
 3337 	  &lt;/constant&gt;
 3338 	  &lt;constant id=&quot;JVMTI_VISIT_ABORT&quot; num=&quot;0x8000&quot;&gt;
 3339 	    Abort the iteration.  Ignore all other bits.
 3340 	  &lt;/constant&gt;
 3341 	&lt;/constants&gt;
 3342 
 3343         &lt;p/&gt;
 3344         The Heap Reference Enumeration is provided by the
 3345         &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;&gt;Heap
 3346         Reference Callback&lt;/functionlink&gt; and
 3347         &lt;functionlink id=&quot;jvmtiPrimitiveFieldCallback&quot;&gt;Primitive Field
 3348         Callback&lt;/functionlink&gt; to
 3349         describe the kind of reference
 3350         being reported.
 3351 
 3352         &lt;constants id=&quot;jvmtiHeapReferenceKind&quot;
 3353                    label=&quot;Heap Reference Enumeration&quot;
 3354                    kind=&quot;enum&quot;
 3355                    since=&quot;1.1&quot;&gt;
 3356 	  &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_CLASS&quot; num=&quot;1&quot;&gt;
 3357 	    Reference from an object to its class.
 3358 	  &lt;/constant&gt;
 3359 	  &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot; num=&quot;2&quot;&gt;
 3360 	    Reference from an object to the value of one of its instance fields.
 3361 	  &lt;/constant&gt;
 3362 	  &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_ARRAY_ELEMENT&quot; num=&quot;3&quot;&gt;
 3363 	    Reference from an array to one of its elements.
 3364 	  &lt;/constant&gt;
 3365 	  &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_CLASS_LOADER&quot; num=&quot;4&quot;&gt;
 3366 	    Reference from a class to its class loader.
 3367 	  &lt;/constant&gt;
 3368 	  &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_SIGNERS&quot; num=&quot;5&quot;&gt;
 3369 	    Reference from a class to its signers array.
 3370 	  &lt;/constant&gt;
 3371 	  &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_PROTECTION_DOMAIN&quot; num=&quot;6&quot;&gt;
 3372 	    Reference from a class to its protection domain.
 3373 	  &lt;/constant&gt;
 3374 	  &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_INTERFACE&quot; num=&quot;7&quot;&gt;
 3375             Reference from a class to one of its interfaces.
 3376             Note: interfaces are defined via a constant pool reference,
 3377             so the referenced interfaces may also be reported with a
 3378             &lt;code&gt;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&lt;/code&gt; reference kind.
 3379 	  &lt;/constant&gt;
 3380 	  &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot; num=&quot;8&quot;&gt;
 3381 	    Reference from a class to the value of one of its static fields.
 3382 	  &lt;/constant&gt;
 3383 	  &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&quot; num=&quot;9&quot;&gt;
 3384 	    Reference from a class to a resolved entry in the constant pool.
 3385 	  &lt;/constant&gt;
 3386 	  &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_SUPERCLASS&quot; num=&quot;10&quot;&gt;
 3387             Reference from a class to its superclass.
 3388             A callback is not sent if the superclass is &lt;code&gt;java.lang.Object&lt;/code&gt;.
 3389             Note: loaded classes define superclasses via a constant pool
 3390             reference, so the referenced superclass may also be reported with
 3391             a &lt;code&gt;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&lt;/code&gt; reference kind.
 3392 	  &lt;/constant&gt;
 3393 	  &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_JNI_GLOBAL&quot; num=&quot;21&quot;&gt;
 3394 	    Heap root reference: JNI global reference.
 3395 	  &lt;/constant&gt;
 3396 	  &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_SYSTEM_CLASS&quot; num=&quot;22&quot;&gt;
 3397 	    Heap root reference: System class.
 3398 	  &lt;/constant&gt;
 3399 	  &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_MONITOR&quot; num=&quot;23&quot;&gt;
 3400 	    Heap root reference: monitor.
 3401 	  &lt;/constant&gt;
 3402 	  &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_STACK_LOCAL&quot; num=&quot;24&quot;&gt;
 3403 	    Heap root reference: local variable on the stack.
 3404 	  &lt;/constant&gt;
 3405 	  &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_JNI_LOCAL&quot; num=&quot;25&quot;&gt;
 3406 	    Heap root reference: JNI local reference.
 3407 	  &lt;/constant&gt;
 3408 	  &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_THREAD&quot; num=&quot;26&quot;&gt;
 3409 	    Heap root reference: Thread.
 3410 	  &lt;/constant&gt;
 3411 	  &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_OTHER&quot; num=&quot;27&quot;&gt;
 3412 	    Heap root reference: other heap root reference.
 3413 	  &lt;/constant&gt;
 3414 	&lt;/constants&gt;
 3415 
 3416         &lt;p/&gt;
 3417         Definitions for the single character type descriptors of
 3418         primitive types.
 3419 
 3420         &lt;constants id=&quot;jvmtiPrimitiveType&quot;
 3421                    label=&quot;Primitive Type Enumeration&quot;
 3422                    kind=&quot;enum&quot;
 3423                    since=&quot;1.1&quot;&gt;
 3424 	  &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_BOOLEAN&quot; num=&quot;90&quot;&gt;
 3425             &#39;Z&#39; - Java programming language &lt;code&gt;boolean&lt;/code&gt; - JNI &lt;code&gt;jboolean&lt;/code&gt;
 3426 	  &lt;/constant&gt;
 3427 	  &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_BYTE&quot; num=&quot;66&quot;&gt;
 3428             &#39;B&#39; - Java programming language &lt;code&gt;byte&lt;/code&gt; - JNI &lt;code&gt;jbyte&lt;/code&gt;
 3429 	  &lt;/constant&gt;
 3430 	  &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_CHAR&quot; num=&quot;67&quot;&gt;
 3431             &#39;C&#39; - Java programming language &lt;code&gt;char&lt;/code&gt; - JNI &lt;code&gt;jchar&lt;/code&gt;
 3432 	  &lt;/constant&gt;
 3433 	  &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_SHORT&quot; num=&quot;83&quot;&gt;
 3434             &#39;S&#39; - Java programming language &lt;code&gt;short&lt;/code&gt; - JNI &lt;code&gt;jshort&lt;/code&gt;
 3435 	  &lt;/constant&gt;
 3436 	  &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_INT&quot; num=&quot;73&quot;&gt;
 3437             &#39;I&#39; - Java programming language &lt;code&gt;int&lt;/code&gt; - JNI &lt;code&gt;jint&lt;/code&gt;
 3438 	  &lt;/constant&gt;
 3439 	  &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_LONG&quot; num=&quot;74&quot;&gt;
 3440             &#39;J&#39; - Java programming language &lt;code&gt;long&lt;/code&gt; - JNI &lt;code&gt;jlong&lt;/code&gt;
 3441 	  &lt;/constant&gt;
 3442 	  &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_FLOAT&quot; num=&quot;70&quot;&gt;
 3443             &#39;F&#39; - Java programming language &lt;code&gt;float&lt;/code&gt; - JNI &lt;code&gt;jfloat&lt;/code&gt;
 3444 	  &lt;/constant&gt;
 3445 	  &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_DOUBLE&quot; num=&quot;68&quot;&gt;
 3446             &#39;D&#39; - Java programming language &lt;code&gt;double&lt;/code&gt; - JNI &lt;code&gt;jdouble&lt;/code&gt;
 3447 	  &lt;/constant&gt;
 3448 	&lt;/constants&gt;
 3449     &lt;/intro&gt;
 3450 
 3451       &lt;typedef id=&quot;jvmtiHeapReferenceInfoField&quot;
 3452                label=&quot;Reference information structure for Field references&quot;
 3453                since=&quot;1.1&quot;&gt;
 3454         &lt;description&gt;
 3455           Reference information returned for
 3456           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt; and
 3457           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt; references.
 3458         &lt;/description&gt;
 3459 	&lt;field id=&quot;index&quot;&gt;
 3460 	  &lt;jint/&gt;
 3461 	  &lt;description&gt;
 3462             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt;, the
 3463             referrer object is not a class or an interface.
 3464             In this case, &lt;code&gt;index&lt;/code&gt; is the index of the field
 3465             in the class of the referrer object.
 3466             This class is referred to below as &lt;i&gt;C&lt;/i&gt;.
 3467             &lt;p/&gt;
 3468             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt;,
 3469             the referrer object is a class (referred to below as &lt;i&gt;C&lt;/i&gt;)
 3470             or an interface (referred to below as &lt;i&gt;I&lt;/i&gt;).
 3471             In this case, &lt;code&gt;index&lt;/code&gt; is the index of the field in
 3472             that class or interface.
 3473             &lt;p/&gt;
 3474             If the referrer object is not an interface, then the field
 3475             indices are determined as follows:
 3476             &lt;ul&gt;
 3477               &lt;li&gt;make a list of all the fields in &lt;i&gt;C&lt;/i&gt; and its
 3478                   superclasses, starting with all the fields in
 3479                   &lt;code&gt;java.lang.Object&lt;/code&gt; and ending with all the
 3480                   fields in &lt;i&gt;C&lt;/i&gt;.&lt;/li&gt;
 3481               &lt;li&gt;Within this list, put
 3482                   the fields for a given class in the order returned by
 3483                   &lt;functionlink id=&quot;GetClassFields&quot;/&gt;.&lt;/li&gt;
 3484               &lt;li&gt;Assign the fields in this list indices
 3485                   &lt;i&gt;n&lt;/i&gt;, &lt;i&gt;n&lt;/i&gt;+1, ..., in order, where &lt;i&gt;n&lt;/i&gt;
 3486                   is the count of the fields in all the interfaces
 3487                   implemented by &lt;i&gt;C&lt;/i&gt;.
 3488                   Note that &lt;i&gt;C&lt;/i&gt; implements all interfaces
 3489                   directly implemented by its superclasses; as well
 3490                   as all superinterfaces of these interfaces.&lt;/li&gt;
 3491             &lt;/ul&gt;
 3492             If the referrer object is an interface, then the field
 3493             indices are determined as follows:
 3494             &lt;ul&gt;
 3495               &lt;li&gt;make a list of the fields directly declared in
 3496                   &lt;i&gt;I&lt;/i&gt;.&lt;/li&gt;
 3497               &lt;li&gt;Within this list, put
 3498                   the fields in the order returned by
 3499                   &lt;functionlink id=&quot;GetClassFields&quot;/&gt;.&lt;/li&gt;
 3500               &lt;li&gt;Assign the fields in this list indices
 3501                   &lt;i&gt;n&lt;/i&gt;, &lt;i&gt;n&lt;/i&gt;+1, ..., in order, where &lt;i&gt;n&lt;/i&gt;
 3502                   is the count of the fields in all the superinterfaces
 3503                   of &lt;i&gt;I&lt;/i&gt;.&lt;/li&gt;
 3504             &lt;/ul&gt;
 3505             All fields are included in this computation, regardless of
 3506             field modifier (static, public, private, etc).
 3507             &lt;p/&gt;
 3508             For example, given the following classes and interfaces:
 3509             &lt;example&gt;
 3510 interface I0 {
 3511     int p = 0;
 3512 }
 3513 
 3514 interface I1 extends I0 {
 3515     int x = 1;
 3516 }
 3517 
 3518 interface I2 extends I0 {
 3519     int y = 2;
 3520 }
 3521 
 3522 class C1 implements I1 {
 3523     public static int a = 3;
 3524     private int b = 4;
 3525 }
 3526 
 3527 class C2 extends C1 implements I2 {
 3528     static int q = 5;
 3529     final int r = 6;
 3530 }
 3531             &lt;/example&gt;
 3532             Assume that &lt;functionlink id=&quot;GetClassFields&quot;/&gt; called on
 3533             &lt;code&gt;C1&lt;/code&gt; returns the fields of &lt;code&gt;C1&lt;/code&gt; in the
 3534             order: a, b; and that the fields of &lt;code&gt;C2&lt;/code&gt; are
 3535             returned in the order: q, r.
 3536             An instance of class &lt;code&gt;C1&lt;/code&gt; will have the
 3537             following field indices:
 3538             &lt;blockquote&gt;&lt;table&gt;
 3539               &lt;tr&gt;
 3540                 &lt;td class=&quot;centered&quot;&gt;
 3541                   a
 3542                 &lt;/td&gt;
 3543                 &lt;td class=&quot;centered&quot;&gt;
 3544                   2
 3545                 &lt;/td&gt;
 3546                 &lt;td&gt;
 3547                   The count of the fields in the interfaces
 3548                   implemented by &lt;code&gt;C1&lt;/code&gt; is two (&lt;i&gt;n&lt;/i&gt;=2):
 3549                   &lt;code&gt;p&lt;/code&gt; of &lt;code&gt;I0&lt;/code&gt;
 3550                   and &lt;code&gt;x&lt;/code&gt; of &lt;code&gt;I1&lt;/code&gt;.
 3551                 &lt;/td&gt;
 3552               &lt;/tr&gt;
 3553               &lt;tr&gt;
 3554                 &lt;td class=&quot;centered&quot;&gt;
 3555                   b
 3556                 &lt;/td&gt;
 3557                 &lt;td class=&quot;centered&quot;&gt;
 3558                   3
 3559                 &lt;/td&gt;
 3560                 &lt;td&gt;
 3561                   the subsequent index.
 3562                 &lt;/td&gt;
 3563               &lt;/tr&gt;
 3564             &lt;/table&gt;&lt;/blockquote&gt;
 3565             The class &lt;code&gt;C1&lt;/code&gt; will have the same field indices.
 3566             &lt;p/&gt;
 3567             An instance of class &lt;code&gt;C2&lt;/code&gt; will have the
 3568             following field indices:
 3569             &lt;blockquote&gt;&lt;table&gt;
 3570               &lt;tr&gt;
 3571                 &lt;td class=&quot;centered&quot;&gt;
 3572                   a
 3573                 &lt;/td&gt;
 3574                 &lt;td class=&quot;centered&quot;&gt;
 3575                   3
 3576                 &lt;/td&gt;
 3577                 &lt;td&gt;
 3578                   The count of the fields in the interfaces
 3579                   implemented by &lt;code&gt;C2&lt;/code&gt; is three (&lt;i&gt;n&lt;/i&gt;=3):
 3580                   &lt;code&gt;p&lt;/code&gt; of &lt;code&gt;I0&lt;/code&gt;,
 3581                   &lt;code&gt;x&lt;/code&gt; of &lt;code&gt;I1&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; of &lt;code&gt;I2&lt;/code&gt;
 3582                   (an interface of &lt;code&gt;C2&lt;/code&gt;).  Note that the field &lt;code&gt;p&lt;/code&gt;
 3583                   of &lt;code&gt;I0&lt;/code&gt; is only included once.
 3584                 &lt;/td&gt;
 3585               &lt;/tr&gt;
 3586               &lt;tr&gt;
 3587                 &lt;td class=&quot;centered&quot;&gt;
 3588                   b
 3589                 &lt;/td&gt;
 3590                 &lt;td class=&quot;centered&quot;&gt;
 3591                   4
 3592                 &lt;/td&gt;
 3593                 &lt;td&gt;
 3594                   the subsequent index to &quot;a&quot;.
 3595                 &lt;/td&gt;
 3596               &lt;/tr&gt;
 3597               &lt;tr&gt;
 3598                 &lt;td class=&quot;centered&quot;&gt;
 3599                   q
 3600                 &lt;/td&gt;
 3601                 &lt;td class=&quot;centered&quot;&gt;
 3602                   5
 3603                 &lt;/td&gt;
 3604                 &lt;td&gt;
 3605                   the subsequent index to &quot;b&quot;.
 3606                 &lt;/td&gt;
 3607               &lt;/tr&gt;
 3608               &lt;tr&gt;
 3609                 &lt;td class=&quot;centered&quot;&gt;
 3610                   r
 3611                 &lt;/td&gt;
 3612                 &lt;td class=&quot;centered&quot;&gt;
 3613                   6
 3614                 &lt;/td&gt;
 3615                 &lt;td&gt;
 3616                   the subsequent index to &quot;q&quot;.
 3617                 &lt;/td&gt;
 3618               &lt;/tr&gt;
 3619             &lt;/table&gt;&lt;/blockquote&gt;
 3620             The class &lt;code&gt;C2&lt;/code&gt; will have the same field indices.
 3621             Note that a field may have a different index depending on the
 3622             object that is viewing it -- for example field &quot;a&quot; above.
 3623             Note also: not all field indices may be visible from the
 3624             callbacks, but all indices are shown for illustrative purposes.
 3625             &lt;p/&gt;
 3626             The interface &lt;code&gt;I1&lt;/code&gt; will have the
 3627             following field indices:
 3628             &lt;blockquote&gt;&lt;table&gt;
 3629               &lt;tr&gt;
 3630                 &lt;td class=&quot;centered&quot;&gt;
 3631                   x
 3632                 &lt;/td&gt;
 3633                 &lt;td class=&quot;centered&quot;&gt;
 3634                   1
 3635                 &lt;/td&gt;
 3636                 &lt;td&gt;
 3637                   The count of the fields in the superinterfaces
 3638                   of &lt;code&gt;I1&lt;/code&gt; is one (&lt;i&gt;n&lt;/i&gt;=1):
 3639                   &lt;code&gt;p&lt;/code&gt; of &lt;code&gt;I0&lt;/code&gt;.
 3640                 &lt;/td&gt;
 3641               &lt;/tr&gt;
 3642             &lt;/table&gt;&lt;/blockquote&gt;
 3643 	  &lt;/description&gt;
 3644 	&lt;/field&gt;
 3645       &lt;/typedef&gt;
 3646 
 3647       &lt;typedef id=&quot;jvmtiHeapReferenceInfoArray&quot;
 3648                label=&quot;Reference information structure for Array references&quot;
 3649                since=&quot;1.1&quot;&gt;
 3650         &lt;description&gt;
 3651           Reference information returned for
 3652          &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_ARRAY_ELEMENT&quot;/&gt; references.
 3653         &lt;/description&gt;
 3654 	&lt;field id=&quot;index&quot;&gt;
 3655 	  &lt;jint/&gt;
 3656 	  &lt;description&gt;
 3657 	    The array index.
 3658 	  &lt;/description&gt;
 3659 	&lt;/field&gt;
 3660       &lt;/typedef&gt;
 3661 
 3662       &lt;typedef id=&quot;jvmtiHeapReferenceInfoConstantPool&quot;
 3663                label=&quot;Reference information structure for Constant Pool references&quot;
 3664                since=&quot;1.1&quot;&gt;
 3665         &lt;description&gt;
 3666           Reference information returned for
 3667           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&quot;/&gt; references.
 3668         &lt;/description&gt;
 3669 	&lt;field id=&quot;index&quot;&gt;
 3670 	  &lt;jint/&gt;
 3671 	  &lt;description&gt;
 3672 	    The index into the constant pool of the class. See the description in
 3673       &lt;vmspec chapter=&quot;4.4&quot;/&gt;.
 3674 	  &lt;/description&gt;
 3675 	&lt;/field&gt;
 3676       &lt;/typedef&gt;
 3677 
 3678       &lt;typedef id=&quot;jvmtiHeapReferenceInfoStackLocal&quot;
 3679                label=&quot;Reference information structure for Local Variable references&quot;
 3680                since=&quot;1.1&quot;&gt;
 3681         &lt;description&gt;
 3682           Reference information returned for
 3683           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STACK_LOCAL&quot;/&gt; references.
 3684         &lt;/description&gt;
 3685         &lt;field id=&quot;thread_tag&quot;&gt;
 3686 	  &lt;jlong/&gt;
 3687 	  &lt;description&gt;
 3688 	    The tag of the thread corresponding to this stack, zero if not tagged.
 3689 	  &lt;/description&gt;
 3690 	&lt;/field&gt;
 3691         &lt;field id=&quot;thread_id&quot;&gt;
 3692 	  &lt;jlong/&gt;
 3693 	  &lt;description&gt;
 3694 	    The unique thread ID of the thread corresponding to this stack.
 3695 	  &lt;/description&gt;
 3696 	&lt;/field&gt;
 3697         &lt;field id=&quot;depth&quot;&gt;
 3698 	  &lt;jint/&gt;
 3699 	  &lt;description&gt;
 3700 	    The depth of the frame.
 3701 	  &lt;/description&gt;
 3702 	&lt;/field&gt;
 3703         &lt;field id=&quot;method&quot;&gt;
 3704 	  &lt;jmethodID/&gt;
 3705 	  &lt;description&gt;
 3706 	    The method executing in this frame.
 3707 	  &lt;/description&gt;
 3708 	&lt;/field&gt;
 3709         &lt;field id=&quot;location&quot;&gt;
 3710 	  &lt;jlocation/&gt;
 3711 	  &lt;description&gt;
 3712 	    The currently executing location in this frame.
 3713 	  &lt;/description&gt;
 3714 	&lt;/field&gt;
 3715         &lt;field id=&quot;slot&quot;&gt;
 3716 	  &lt;jint/&gt;
 3717 	  &lt;description&gt;
 3718 	    The slot number of the local variable.
 3719 	  &lt;/description&gt;
 3720 	&lt;/field&gt;
 3721       &lt;/typedef&gt;
 3722 
 3723       &lt;typedef id=&quot;jvmtiHeapReferenceInfoJniLocal&quot;
 3724                label=&quot;Reference information structure for JNI local references&quot;
 3725                since=&quot;1.1&quot;&gt;
 3726         &lt;description&gt;
 3727           Reference information returned for
 3728           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_JNI_LOCAL&quot;/&gt; references.
 3729         &lt;/description&gt;
 3730         &lt;field id=&quot;thread_tag&quot;&gt;
 3731 	  &lt;jlong/&gt;
 3732 	  &lt;description&gt;
 3733 	    The tag of the thread corresponding to this stack, zero if not tagged.
 3734 	  &lt;/description&gt;
 3735 	&lt;/field&gt;
 3736         &lt;field id=&quot;thread_id&quot;&gt;
 3737 	  &lt;jlong/&gt;
 3738 	  &lt;description&gt;
 3739 	    The unique thread ID of the thread corresponding to this stack.
 3740 	  &lt;/description&gt;
 3741 	&lt;/field&gt;
 3742         &lt;field id=&quot;depth&quot;&gt;
 3743 	  &lt;jint/&gt;
 3744 	  &lt;description&gt;
 3745 	    The depth of the frame.
 3746 	  &lt;/description&gt;
 3747 	&lt;/field&gt;
 3748         &lt;field id=&quot;method&quot;&gt;
 3749 	  &lt;jmethodID/&gt;
 3750 	  &lt;description&gt;
 3751 	    The method executing in this frame.
 3752 	  &lt;/description&gt;
 3753 	&lt;/field&gt;
 3754       &lt;/typedef&gt;
 3755 
 3756       &lt;typedef id=&quot;jvmtiHeapReferenceInfoReserved&quot;
 3757                label=&quot;Reference information structure for Other references&quot;
 3758                since=&quot;1.1&quot;&gt;
 3759         &lt;description&gt;
 3760           Reference information returned for other references.
 3761         &lt;/description&gt;
 3762         &lt;field id=&quot;reserved1&quot;&gt;
 3763 	  &lt;jlong/&gt;
 3764 	  &lt;description&gt;
 3765 	    reserved for future use.
 3766 	  &lt;/description&gt;
 3767 	&lt;/field&gt;
 3768         &lt;field id=&quot;reserved2&quot;&gt;
 3769 	  &lt;jlong/&gt;
 3770 	  &lt;description&gt;
 3771 	    reserved for future use.
 3772 	  &lt;/description&gt;
 3773 	&lt;/field&gt;
 3774         &lt;field id=&quot;reserved3&quot;&gt;
 3775 	  &lt;jlong/&gt;
 3776 	  &lt;description&gt;
 3777 	    reserved for future use.
 3778 	  &lt;/description&gt;
 3779 	&lt;/field&gt;
 3780         &lt;field id=&quot;reserved4&quot;&gt;
 3781 	  &lt;jlong/&gt;
 3782 	  &lt;description&gt;
 3783 	    reserved for future use.
 3784 	  &lt;/description&gt;
 3785 	&lt;/field&gt;
 3786         &lt;field id=&quot;reserved5&quot;&gt;
 3787 	  &lt;jlong/&gt;
 3788 	  &lt;description&gt;
 3789 	    reserved for future use.
 3790 	  &lt;/description&gt;
 3791 	&lt;/field&gt;
 3792         &lt;field id=&quot;reserved6&quot;&gt;
 3793 	  &lt;jlong/&gt;
 3794 	  &lt;description&gt;
 3795 	    reserved for future use.
 3796 	  &lt;/description&gt;
 3797 	&lt;/field&gt;
 3798         &lt;field id=&quot;reserved7&quot;&gt;
 3799 	  &lt;jlong/&gt;
 3800 	  &lt;description&gt;
 3801 	    reserved for future use.
 3802 	  &lt;/description&gt;
 3803 	&lt;/field&gt;
 3804         &lt;field id=&quot;reserved8&quot;&gt;
 3805 	  &lt;jlong/&gt;
 3806 	  &lt;description&gt;
 3807 	    reserved for future use.
 3808 	  &lt;/description&gt;
 3809 	&lt;/field&gt;
 3810       &lt;/typedef&gt;
 3811 
 3812       &lt;uniontypedef id=&quot;jvmtiHeapReferenceInfo&quot;
 3813                label=&quot;Reference information structure&quot;
 3814                since=&quot;1.1&quot;&gt;
 3815         &lt;description&gt;
 3816           The information returned about referrers.
 3817           Represented as a union of the various kinds of reference information.
 3818         &lt;/description&gt;
 3819 	&lt;field id=&quot;field&quot;&gt;
 3820 	  &lt;struct&gt;jvmtiHeapReferenceInfoField&lt;/struct&gt;
 3821 	  &lt;description&gt;
 3822 	    The referrer information for
 3823             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt;
 3824             and &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt; references.
 3825 	  &lt;/description&gt;
 3826 	&lt;/field&gt;
 3827 	&lt;field id=&quot;array&quot;&gt;
 3828 	  &lt;struct&gt;jvmtiHeapReferenceInfoArray&lt;/struct&gt;
 3829 	  &lt;description&gt;
 3830 	    The referrer information for
 3831 	    For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_ARRAY_ELEMENT&quot;/&gt; references.
 3832 	  &lt;/description&gt;
 3833 	&lt;/field&gt;
 3834 	&lt;field id=&quot;constant_pool&quot;&gt;
 3835 	  &lt;struct&gt;jvmtiHeapReferenceInfoConstantPool&lt;/struct&gt;
 3836 	  &lt;description&gt;
 3837 	    The referrer information for
 3838 	    For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&quot;/&gt; references.
 3839 	  &lt;/description&gt;
 3840 	&lt;/field&gt;
 3841         &lt;field id=&quot;stack_local&quot;&gt;
 3842 	  &lt;struct&gt;jvmtiHeapReferenceInfoStackLocal&lt;/struct&gt;
 3843 	  &lt;description&gt;
 3844 	    The referrer information for
 3845 	    For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STACK_LOCAL&quot;/&gt; references.
 3846 	  &lt;/description&gt;
 3847 	&lt;/field&gt;
 3848         &lt;field id=&quot;jni_local&quot;&gt;
 3849 	  &lt;struct&gt;jvmtiHeapReferenceInfoJniLocal&lt;/struct&gt;
 3850 	  &lt;description&gt;
 3851 	    The referrer information for
 3852 	    For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_JNI_LOCAL&quot;/&gt; references.
 3853 	  &lt;/description&gt;
 3854 	&lt;/field&gt;
 3855         &lt;field id=&quot;other&quot;&gt;
 3856 	  &lt;struct&gt;jvmtiHeapReferenceInfoReserved&lt;/struct&gt;
 3857 	  &lt;description&gt;
 3858 	    reserved for future use.
 3859 	  &lt;/description&gt;
 3860 	&lt;/field&gt;
 3861       &lt;/uniontypedef&gt;
 3862 
 3863       &lt;typedef id=&quot;jvmtiHeapCallbacks&quot;
 3864                label=&quot;Heap callback function structure&quot;
 3865                since=&quot;1.1&quot;&gt;
 3866         &lt;field id=&quot;heap_iteration_callback&quot;&gt;
 3867 	  &lt;ptrtype&gt;
 3868 	    &lt;struct&gt;jvmtiHeapIterationCallback&lt;/struct&gt;
 3869 	  &lt;/ptrtype&gt;
 3870 	  &lt;description&gt;
 3871 	    The callback to be called to describe an
 3872 	    object in the heap. Used by the
 3873             &lt;functionlink id=&quot;IterateThroughHeap&quot;/&gt; function, ignored by the
 3874             &lt;functionlink id=&quot;FollowReferences&quot;/&gt; function.
 3875 	  &lt;/description&gt;
 3876 	&lt;/field&gt;
 3877         &lt;field id=&quot;heap_reference_callback&quot;&gt;
 3878 	  &lt;ptrtype&gt;
 3879 	    &lt;struct&gt;jvmtiHeapReferenceCallback&lt;/struct&gt;
 3880 	  &lt;/ptrtype&gt;
 3881 	  &lt;description&gt;
 3882 	    The callback to be called to describe an
 3883 	    object reference.  Used by the
 3884             &lt;functionlink id=&quot;FollowReferences&quot;/&gt; function, ignored by the
 3885             &lt;functionlink id=&quot;IterateThroughHeap&quot;/&gt; function.
 3886 	  &lt;/description&gt;
 3887 	&lt;/field&gt;
 3888         &lt;field id=&quot;primitive_field_callback&quot;&gt;
 3889 	  &lt;ptrtype&gt;
 3890 	    &lt;struct&gt;jvmtiPrimitiveFieldCallback&lt;/struct&gt;
 3891 	  &lt;/ptrtype&gt;
 3892 	  &lt;description&gt;
 3893             The callback to be called to describe a
 3894             primitive field.
 3895           &lt;/description&gt;
 3896 	&lt;/field&gt;
 3897         &lt;field id=&quot;array_primitive_value_callback&quot;&gt;
 3898 	  &lt;ptrtype&gt;
 3899 	    &lt;struct&gt;jvmtiArrayPrimitiveValueCallback&lt;/struct&gt;
 3900 	  &lt;/ptrtype&gt;
 3901 	  &lt;description&gt;
 3902 	    The callback to be called to describe an
 3903 	    array of primitive values.
 3904 	  &lt;/description&gt;
 3905 	&lt;/field&gt;
 3906         &lt;field id=&quot;string_primitive_value_callback&quot;&gt;
 3907 	  &lt;ptrtype&gt;
 3908 	    &lt;struct&gt;jvmtiStringPrimitiveValueCallback&lt;/struct&gt;
 3909 	  &lt;/ptrtype&gt;
 3910 	  &lt;description&gt;
 3911 	    The callback to be called to describe a String value.
 3912 	  &lt;/description&gt;
 3913 	&lt;/field&gt;
 3914         &lt;field id=&quot;reserved5&quot;&gt;
 3915 	  &lt;ptrtype&gt;
 3916 	    &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3917 	  &lt;/ptrtype&gt;
 3918 	  &lt;description&gt;
 3919 	    Reserved for future use..
 3920 	  &lt;/description&gt;
 3921 	&lt;/field&gt;
 3922         &lt;field id=&quot;reserved6&quot;&gt;
 3923 	  &lt;ptrtype&gt;
 3924 	    &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3925 	  &lt;/ptrtype&gt;
 3926 	  &lt;description&gt;
 3927 	    Reserved for future use..
 3928 	  &lt;/description&gt;
 3929 	&lt;/field&gt;
 3930         &lt;field id=&quot;reserved7&quot;&gt;
 3931 	  &lt;ptrtype&gt;
 3932 	    &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3933 	  &lt;/ptrtype&gt;
 3934 	  &lt;description&gt;
 3935 	    Reserved for future use..
 3936 	  &lt;/description&gt;
 3937 	&lt;/field&gt;
 3938         &lt;field id=&quot;reserved8&quot;&gt;
 3939 	  &lt;ptrtype&gt;
 3940 	    &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3941 	  &lt;/ptrtype&gt;
 3942 	  &lt;description&gt;
 3943 	    Reserved for future use..
 3944 	  &lt;/description&gt;
 3945 	&lt;/field&gt;
 3946         &lt;field id=&quot;reserved9&quot;&gt;
 3947 	  &lt;ptrtype&gt;
 3948 	    &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3949 	  &lt;/ptrtype&gt;
 3950 	  &lt;description&gt;
 3951 	    Reserved for future use..
 3952 	  &lt;/description&gt;
 3953 	&lt;/field&gt;
 3954         &lt;field id=&quot;reserved10&quot;&gt;
 3955 	  &lt;ptrtype&gt;
 3956 	    &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3957 	  &lt;/ptrtype&gt;
 3958 	  &lt;description&gt;
 3959 	    Reserved for future use..
 3960 	  &lt;/description&gt;
 3961 	&lt;/field&gt;
 3962         &lt;field id=&quot;reserved11&quot;&gt;
 3963 	  &lt;ptrtype&gt;
 3964 	    &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3965 	  &lt;/ptrtype&gt;
 3966 	  &lt;description&gt;
 3967 	    Reserved for future use..
 3968 	  &lt;/description&gt;
 3969 	&lt;/field&gt;
 3970         &lt;field id=&quot;reserved12&quot;&gt;
 3971 	  &lt;ptrtype&gt;
 3972 	    &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3973 	  &lt;/ptrtype&gt;
 3974 	  &lt;description&gt;
 3975 	    Reserved for future use..
 3976 	  &lt;/description&gt;
 3977 	&lt;/field&gt;
 3978         &lt;field id=&quot;reserved13&quot;&gt;
 3979 	  &lt;ptrtype&gt;
 3980 	    &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3981 	  &lt;/ptrtype&gt;
 3982 	  &lt;description&gt;
 3983 	    Reserved for future use..
 3984 	  &lt;/description&gt;
 3985 	&lt;/field&gt;
 3986         &lt;field id=&quot;reserved14&quot;&gt;
 3987 	  &lt;ptrtype&gt;
 3988 	    &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3989 	  &lt;/ptrtype&gt;
 3990 	  &lt;description&gt;
 3991 	    Reserved for future use..
 3992 	  &lt;/description&gt;
 3993 	&lt;/field&gt;
 3994         &lt;field id=&quot;reserved15&quot;&gt;
 3995 	  &lt;ptrtype&gt;
 3996 	    &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3997 	  &lt;/ptrtype&gt;
 3998 	  &lt;description&gt;
 3999 	    Reserved for future use..
 4000 	  &lt;/description&gt;
 4001 	&lt;/field&gt;
 4002       &lt;/typedef&gt;
 4003 
 4004 
 4005     &lt;intro&gt;
 4006       &lt;rationale&gt;
 4007 	The heap dumping functionality (below) uses a callback
 4008 	for each object.  While it would seem that a buffered approach
 4009 	would provide better throughput, tests do
 4010 	not show this to be the case--possibly due to locality of
 4011 	memory reference or array access overhead.
 4012       &lt;/rationale&gt;
 4013 
 4014       &lt;issue&gt;
 4015         Still under investigation as to if java.lang.ref references
 4016 	are reported as a different type of reference.
 4017       &lt;/issue&gt;
 4018 
 4019       &lt;issue&gt;
 4020         Should or can an indication of the cost or relative cost of
 4021 	these operations be included?
 4022       &lt;/issue&gt;
 4023 
 4024     &lt;/intro&gt;
 4025 
 4026     &lt;callback id=&quot;jvmtiHeapIterationCallback&quot; since=&quot;1.1&quot;&gt;
 4027       &lt;jint/&gt;
 4028       &lt;synopsis&gt;Heap Iteration Callback&lt;/synopsis&gt;
 4029       &lt;description&gt;
 4030         Agent supplied callback function.
 4031 	Describes (but does not pass in) an object in the heap.
 4032         &lt;p/&gt;
 4033         This function should return a bit vector of the desired
 4034         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4035         This will determine if the entire iteration should be aborted
 4036         (the &lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; flag is ignored).
 4037         &lt;p/&gt;
 4038         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4039         function restrictions&lt;/internallink&gt;.
 4040       &lt;/description&gt;
 4041       &lt;parameters&gt;
 4042         &lt;param id=&quot;class_tag&quot;&gt;
 4043 	  &lt;jlong/&gt;
 4044 	  &lt;description&gt;
 4045 	    The tag of the class of object (zero if the class is not tagged).
 4046 	    If the object represents a runtime class,
 4047             the &lt;code&gt;class_tag&lt;/code&gt; is the tag
 4048 	    associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 4049             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 4050 	  &lt;/description&gt;
 4051 	&lt;/param&gt;
 4052         &lt;param id=&quot;size&quot;&gt;
 4053 	  &lt;jlong/&gt;
 4054 	  &lt;description&gt;
 4055 	    Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 4056 	  &lt;/description&gt;
 4057 	&lt;/param&gt;
 4058         &lt;param id=&quot;tag_ptr&quot;&gt;
 4059 	  &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4060 	  &lt;description&gt;
 4061 	    The object tag value, or zero if the object is not tagged.
 4062 	    To set the tag value to be associated with the object
 4063 	    the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4064 	  &lt;/description&gt;
 4065 	&lt;/param&gt;
 4066         &lt;param id=&quot;length&quot;&gt;
 4067 	  &lt;jint/&gt;
 4068 	  &lt;description&gt;
 4069 	    If this object is an array, the length of the array. Otherwise negative one (-1).
 4070 	  &lt;/description&gt;
 4071 	&lt;/param&gt;
 4072         &lt;param id=&quot;user_data&quot;&gt;
 4073 	  &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4074 	  &lt;description&gt;
 4075 	    The user supplied data that was passed into the iteration function.
 4076 	  &lt;/description&gt;
 4077 	&lt;/param&gt;
 4078       &lt;/parameters&gt;
 4079     &lt;/callback&gt;
 4080 
 4081     &lt;callback id=&quot;jvmtiHeapReferenceCallback&quot; since=&quot;1.1&quot;&gt;
 4082       &lt;jint/&gt;
 4083       &lt;synopsis&gt;Heap Reference Callback&lt;/synopsis&gt;
 4084       &lt;description&gt;
 4085         Agent supplied callback function.
 4086 	Describes a reference from an object or the VM (the referrer) to another object
 4087 	(the referree) or a heap root to a referree.
 4088         &lt;p/&gt;
 4089         This function should return a bit vector of the desired
 4090         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4091         This will determine if the objects referenced by the referree
 4092         should be visited or if the entire iteration should be aborted.
 4093         &lt;p/&gt;
 4094         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4095         function restrictions&lt;/internallink&gt;.
 4096       &lt;/description&gt;
 4097       &lt;parameters&gt;
 4098 	&lt;param id=&quot;reference_kind&quot;&gt;
 4099 	  &lt;enum&gt;jvmtiHeapReferenceKind&lt;/enum&gt;
 4100 	  &lt;description&gt;
 4101 	    The kind of reference.
 4102 	  &lt;/description&gt;
 4103 	&lt;/param&gt;
 4104 	&lt;param id=&quot;reference_info&quot;&gt;
 4105 	  &lt;inptr&gt;
 4106 	    &lt;struct&gt;jvmtiHeapReferenceInfo&lt;/struct&gt;
 4107 	  &lt;/inptr&gt;
 4108 	  &lt;description&gt;
 4109 	    Details about the reference.
 4110             Set when the &lt;datalink id=&quot;jvmtiHeapReferenceCallback.reference_kind&quot;&gt;reference_kind&lt;/datalink&gt; is
 4111             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt;,
 4112 	    &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt;,
 4113 	    &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_ARRAY_ELEMENT&quot;/&gt;,
 4114 	    &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&quot;/&gt;,
 4115             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STACK_LOCAL&quot;/&gt;,
 4116             or &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_JNI_LOCAL&quot;/&gt;.
 4117             Otherwise &lt;code&gt;NULL&lt;/code&gt;.
 4118 	  &lt;/description&gt;
 4119 	&lt;/param&gt;
 4120         &lt;param id=&quot;class_tag&quot;&gt;
 4121 	  &lt;jlong/&gt;
 4122 	  &lt;description&gt;
 4123 	    The tag of the class of referree object (zero if the class is not tagged).
 4124             If the referree object represents a runtime class,
 4125             the &lt;code&gt;class_tag&lt;/code&gt; is the tag
 4126             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 4127             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 4128 	  &lt;/description&gt;
 4129 	&lt;/param&gt;
 4130         &lt;param id=&quot;referrer_class_tag&quot;&gt;
 4131           &lt;jlong/&gt;
 4132           &lt;description&gt;
 4133             The tag of the class of the referrer object (zero if the class is not tagged
 4134             or the referree is a heap root). If the referrer object represents a runtime
 4135             class, the &lt;code&gt;referrer_class_tag&lt;/code&gt; is the tag associated with
 4136             the &lt;code&gt;java.lang.Class&lt;/code&gt;
 4137             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 4138           &lt;/description&gt;
 4139         &lt;/param&gt;
 4140         &lt;param id=&quot;size&quot;&gt;
 4141 	  &lt;jlong/&gt;
 4142 	  &lt;description&gt;
 4143 	    Size of the referree object (in bytes).
 4144             See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 4145 	  &lt;/description&gt;
 4146 	&lt;/param&gt;
 4147         &lt;param id=&quot;tag_ptr&quot;&gt;
 4148 	  &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4149 	  &lt;description&gt;
 4150 	    Points to the referree object tag value, or zero if the object is not
 4151 	    tagged.
 4152 	    To set the tag value to be associated with the object
 4153 	    the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4154 	  &lt;/description&gt;
 4155 	&lt;/param&gt;
 4156         &lt;param id=&quot;referrer_tag_ptr&quot;&gt;
 4157 	  &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4158 	  &lt;description&gt;
 4159 	    Points to the tag of the referrer object, or
 4160             points to the zero if the referrer
 4161 	    object is not tagged.
 4162             &lt;code&gt;NULL&lt;/code&gt; if the referrer in not an object (that is,
 4163             this callback is reporting a heap root).
 4164 	    To set the tag value to be associated with the referrer object
 4165 	    the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4166             If this callback is reporting a reference from an object to itself,
 4167             &lt;code&gt;referrer_tag_ptr == tag_ptr&lt;/code&gt;.
 4168 	  &lt;/description&gt;
 4169 	&lt;/param&gt;
 4170         &lt;param id=&quot;length&quot;&gt;
 4171 	  &lt;jint/&gt;
 4172 	  &lt;description&gt;
 4173 	    If this object is an array, the length of the array. Otherwise negative one (-1).
 4174 	  &lt;/description&gt;
 4175 	&lt;/param&gt;
 4176         &lt;param id=&quot;user_data&quot;&gt;
 4177 	  &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4178 	  &lt;description&gt;
 4179 	    The user supplied data that was passed into the iteration function.
 4180 	  &lt;/description&gt;
 4181 	&lt;/param&gt;
 4182       &lt;/parameters&gt;
 4183     &lt;/callback&gt;
 4184 
 4185     &lt;callback id=&quot;jvmtiPrimitiveFieldCallback&quot; since=&quot;1.1&quot;&gt;
 4186       &lt;jint/&gt;
 4187       &lt;synopsis&gt;Primitive Field Callback&lt;/synopsis&gt;
 4188       &lt;description&gt;
 4189         Agent supplied callback function which
 4190         describes a primitive field of an object (&lt;i&gt;the object&lt;/i&gt;).
 4191         A primitive field is a field whose type is a primitive type.
 4192         This callback will describe a static field if the object is a class,
 4193         and otherwise will describe an instance field.
 4194         &lt;p/&gt;
 4195         This function should return a bit vector of the desired
 4196         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4197         This will determine if the entire iteration should be aborted
 4198         (the &lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; flag is ignored).
 4199         &lt;p/&gt;
 4200         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4201         function restrictions&lt;/internallink&gt;.
 4202       &lt;/description&gt;
 4203       &lt;parameters&gt;
 4204 	&lt;param id=&quot;kind&quot;&gt;
 4205 	  &lt;enum&gt;jvmtiHeapReferenceKind&lt;/enum&gt;
 4206 	  &lt;description&gt;
 4207 	    The kind of field -- instance or static (&lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt; or
 4208             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt;).
 4209 	  &lt;/description&gt;
 4210 	&lt;/param&gt;
 4211 	&lt;param id=&quot;info&quot;&gt;
 4212 	  &lt;inptr&gt;
 4213 	    &lt;struct&gt;jvmtiHeapReferenceInfo&lt;/struct&gt;
 4214 	  &lt;/inptr&gt;
 4215 	  &lt;description&gt;
 4216 	    Which field (the field index).
 4217 	  &lt;/description&gt;
 4218 	&lt;/param&gt;
 4219         &lt;param id=&quot;object_class_tag&quot;&gt;
 4220 	  &lt;jlong/&gt;
 4221 	  &lt;description&gt;
 4222             The tag of the class of the object (zero if the class is not tagged).
 4223             If the object represents a runtime class, the
 4224             &lt;code&gt;object_class_tag&lt;/code&gt; is the tag
 4225             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 4226             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 4227 	  &lt;/description&gt;
 4228 	&lt;/param&gt;
 4229         &lt;param id=&quot;object_tag_ptr&quot;&gt;
 4230 	  &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4231 	  &lt;description&gt;
 4232 	    Points to the tag of the object, or zero if the object is not
 4233 	    tagged.
 4234 	    To set the tag value to be associated with the object
 4235 	    the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4236 	  &lt;/description&gt;
 4237 	&lt;/param&gt;
 4238         &lt;param id=&quot;value&quot;&gt;
 4239 	  &lt;jvalue/&gt;
 4240 	  &lt;description&gt;
 4241 	    The value of the field.
 4242 	  &lt;/description&gt;
 4243 	&lt;/param&gt;
 4244         &lt;param id=&quot;value_type&quot;&gt;
 4245 	  &lt;enum&gt;jvmtiPrimitiveType&lt;/enum&gt;
 4246 	  &lt;description&gt;
 4247 	    The type of the field.
 4248 	  &lt;/description&gt;
 4249 	&lt;/param&gt;
 4250         &lt;param id=&quot;user_data&quot;&gt;
 4251 	  &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4252 	  &lt;description&gt;
 4253 	    The user supplied data that was passed into the iteration function.
 4254 	  &lt;/description&gt;
 4255 	&lt;/param&gt;
 4256       &lt;/parameters&gt;
 4257     &lt;/callback&gt;
 4258 
 4259     &lt;callback id=&quot;jvmtiArrayPrimitiveValueCallback&quot; since=&quot;1.1&quot;&gt;
 4260       &lt;jint/&gt;
 4261       &lt;synopsis&gt;Array Primitive Value Callback&lt;/synopsis&gt;
 4262       &lt;description&gt;
 4263         Agent supplied callback function.
 4264 	Describes the values in an array of a primitive type.
 4265         &lt;p/&gt;
 4266         This function should return a bit vector of the desired
 4267         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4268         This will determine if the entire iteration should be aborted
 4269         (the &lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; flag is ignored).
 4270         &lt;p/&gt;
 4271         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4272         function restrictions&lt;/internallink&gt;.
 4273       &lt;/description&gt;
 4274       &lt;parameters&gt;
 4275         &lt;param id=&quot;class_tag&quot;&gt;
 4276 	  &lt;jlong/&gt;
 4277 	  &lt;description&gt;
 4278 	    The tag of the class of the array object (zero if the class is not tagged).
 4279 	  &lt;/description&gt;
 4280 	&lt;/param&gt;
 4281         &lt;param id=&quot;size&quot;&gt;
 4282 	  &lt;jlong/&gt;
 4283 	  &lt;description&gt;
 4284 	    Size of the array (in bytes).
 4285             See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 4286 	  &lt;/description&gt;
 4287 	&lt;/param&gt;
 4288         &lt;param id=&quot;tag_ptr&quot;&gt;
 4289 	  &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4290 	  &lt;description&gt;
 4291 	    Points to the tag of the array object, or zero if the object is not
 4292 	    tagged.
 4293 	    To set the tag value to be associated with the object
 4294 	    the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4295 	  &lt;/description&gt;
 4296 	&lt;/param&gt;
 4297         &lt;param id=&quot;element_count&quot;&gt;
 4298 	  &lt;jint/&gt;
 4299 	  &lt;description&gt;
 4300 	    The length of the primitive array.
 4301 	  &lt;/description&gt;
 4302 	&lt;/param&gt;
 4303         &lt;param id=&quot;element_type&quot;&gt;
 4304 	  &lt;enum&gt;jvmtiPrimitiveType&lt;/enum&gt;
 4305 	  &lt;description&gt;
 4306 	    The type of the elements of the array.
 4307 	  &lt;/description&gt;
 4308 	&lt;/param&gt;
 4309         &lt;param id=&quot;elements&quot;&gt;
 4310 	  &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
 4311 	  &lt;description&gt;
 4312 	    The elements of the array in a packed array of &lt;code&gt;element_count&lt;/code&gt;
 4313             items of &lt;code&gt;element_type&lt;/code&gt; size each.
 4314 	  &lt;/description&gt;
 4315 	&lt;/param&gt;
 4316         &lt;param id=&quot;user_data&quot;&gt;
 4317 	  &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4318 	  &lt;description&gt;
 4319 	    The user supplied data that was passed into the iteration function.
 4320 	  &lt;/description&gt;
 4321 	&lt;/param&gt;
 4322       &lt;/parameters&gt;
 4323     &lt;/callback&gt;
 4324 
 4325     &lt;callback id=&quot;jvmtiStringPrimitiveValueCallback&quot; since=&quot;1.1&quot;&gt;
 4326       &lt;jint/&gt;
 4327       &lt;synopsis&gt;String Primitive Value Callback&lt;/synopsis&gt;
 4328       &lt;description&gt;
 4329         Agent supplied callback function.
 4330 	Describes the value of a java.lang.String.
 4331         &lt;p/&gt;
 4332         This function should return a bit vector of the desired
 4333         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4334         This will determine if the entire iteration should be aborted
 4335         (the &lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; flag is ignored).
 4336         &lt;p/&gt;
 4337         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4338         function restrictions&lt;/internallink&gt;.
 4339       &lt;/description&gt;
 4340       &lt;parameters&gt;
 4341         &lt;param id=&quot;class_tag&quot;&gt;
 4342 	  &lt;jlong/&gt;
 4343 	  &lt;description&gt;
 4344 	    The tag of the class of the String class (zero if the class is not tagged).
 4345             &lt;issue&gt;Is this needed?&lt;/issue&gt;
 4346 	  &lt;/description&gt;
 4347 	&lt;/param&gt;
 4348         &lt;param id=&quot;size&quot;&gt;
 4349 	  &lt;jlong/&gt;
 4350 	  &lt;description&gt;
 4351 	    Size of the string (in bytes).
 4352             See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 4353 	  &lt;/description&gt;
 4354 	&lt;/param&gt;
 4355         &lt;param id=&quot;tag_ptr&quot;&gt;
 4356 	  &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4357 	  &lt;description&gt;
 4358 	    Points to the tag of the String object, or zero if the object is not
 4359 	    tagged.
 4360 	    To set the tag value to be associated with the object
 4361 	    the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4362 	  &lt;/description&gt;
 4363 	&lt;/param&gt;
 4364         &lt;param id=&quot;value&quot;&gt;
 4365 	  &lt;vmbuf&gt;&lt;jchar/&gt;&lt;/vmbuf&gt;
 4366 	  &lt;description&gt;
 4367 	    The value of the String, encoded as a Unicode string.
 4368 	  &lt;/description&gt;
 4369 	&lt;/param&gt;
 4370         &lt;param id=&quot;value_length&quot;&gt;
 4371 	  &lt;jint/&gt;
 4372 	  &lt;description&gt;
 4373 	    The length of the string.
 4374             The length is equal to the number of 16-bit Unicode
 4375             characters in the string.
 4376 	  &lt;/description&gt;
 4377 	&lt;/param&gt;
 4378         &lt;param id=&quot;user_data&quot;&gt;
 4379 	  &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4380 	  &lt;description&gt;
 4381 	    The user supplied data that was passed into the iteration function.
 4382 	  &lt;/description&gt;
 4383 	&lt;/param&gt;
 4384       &lt;/parameters&gt;
 4385     &lt;/callback&gt;
 4386 
 4387 
 4388     &lt;callback id=&quot;jvmtiReservedCallback&quot; since=&quot;1.1&quot;&gt;
 4389       &lt;jint/&gt;
 4390       &lt;synopsis&gt;reserved for future use Callback&lt;/synopsis&gt;
 4391       &lt;description&gt;
 4392         Placeholder -- reserved for future use.
 4393       &lt;/description&gt;
 4394       &lt;parameters&gt;
 4395       &lt;/parameters&gt;
 4396     &lt;/callback&gt;
 4397 
 4398     &lt;function id=&quot;FollowReferences&quot; num=&quot;115&quot; since=&quot;1.1&quot;&gt;
 4399       &lt;synopsis&gt;Follow References&lt;/synopsis&gt;
 4400       &lt;description&gt;
 4401         This function initiates a traversal over the objects that are
 4402         directly and indirectly reachable from the specified object or,
 4403         if &lt;code&gt;initial_object&lt;/code&gt; is not specified, all objects
 4404         reachable from the heap roots.
 4405 	The heap root are the set of system classes,
 4406 	JNI globals, references from thread stacks, and other objects used as roots
 4407 	for the purposes of garbage collection.
 4408         &lt;p/&gt;
 4409         This function operates by traversing the reference graph.
 4410         Let &lt;i&gt;A&lt;/i&gt;, &lt;i&gt;B&lt;/i&gt;, ... represent objects.
 4411         When a reference from &lt;i&gt;A&lt;/i&gt; to &lt;i&gt;B&lt;/i&gt; is traversed,
 4412         when a reference from a heap root to &lt;i&gt;B&lt;/i&gt; is traversed,
 4413         or when &lt;i&gt;B&lt;/i&gt; is specified as the &lt;paramlink id=&quot;initial_object&quot;/&gt;,
 4414         then &lt;i&gt;B&lt;/i&gt; is said to be &lt;i&gt;visited&lt;/i&gt;.
 4415         A reference from &lt;i&gt;A&lt;/i&gt; to &lt;i&gt;B&lt;/i&gt; is not traversed until &lt;i&gt;A&lt;/i&gt;
 4416         is visited.
 4417         References are reported in the same order that the references are traversed.
 4418         Object references are reported by invoking the agent supplied
 4419         callback function &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;/&gt;.
 4420         In a reference from &lt;i&gt;A&lt;/i&gt; to &lt;i&gt;B&lt;/i&gt;, &lt;i&gt;A&lt;/i&gt; is known
 4421         as the &lt;i&gt;referrer&lt;/i&gt; and &lt;i&gt;B&lt;/i&gt; as the &lt;i&gt;referree&lt;/i&gt;.
 4422         The callback is invoked exactly once for each reference from a referrer;
 4423         this is true even if there are reference cycles or multiple paths to
 4424         the referrer.
 4425         There may be more than one reference between a referrer and a referree,
 4426         each reference is reported.
 4427         These references may be distinguished by examining the
 4428         &lt;datalink
 4429          id=&quot;jvmtiHeapReferenceCallback.reference_kind&quot;&gt;&lt;code&gt;reference_kind&lt;/code&gt;&lt;/datalink&gt;
 4430          and
 4431         &lt;datalink
 4432          id=&quot;jvmtiHeapReferenceCallback.reference_info&quot;&gt;&lt;code&gt;reference_info&lt;/code&gt;&lt;/datalink&gt;
 4433         parameters of the &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;/&gt; callback.
 4434 	&lt;p/&gt;
 4435         This function reports a Java programming language view of object references,
 4436         not a virtual machine implementation view. The following object references
 4437         are reported when they are non-null:
 4438         &lt;ul&gt;
 4439           &lt;li&gt;Instance objects report references to each non-primitive instance fields
 4440               (including inherited fields).&lt;/li&gt;
 4441           &lt;li&gt;Instance objects report a reference to the object type (class).&lt;/li&gt;
 4442           &lt;li&gt;Classes report a reference to the superclass and directly
 4443               implemented/extended interfaces.&lt;/li&gt;
 4444           &lt;li&gt;Classes report a reference to the class loader, protection domain,
 4445               signers, and resolved entries in the constant pool.&lt;/li&gt;
 4446           &lt;li&gt;Classes report a reference to each directly declared non-primitive
 4447               static field.&lt;/li&gt;
 4448           &lt;li&gt;Arrays report a reference to the array type (class) and each
 4449               array element.&lt;/li&gt;
 4450           &lt;li&gt;Primitive arrays report a reference to the array type.&lt;/li&gt;
 4451         &lt;/ul&gt;
 4452         &lt;p/&gt;
 4453         This function can also be used to examine primitive (non-object) values.
 4454         The primitive value of an array or String
 4455         is reported after the object has been visited;
 4456         it is reported by invoking the agent supplied callback function
 4457         &lt;functionlink id=&quot;jvmtiArrayPrimitiveValueCallback&quot;/&gt; or
 4458         &lt;functionlink id=&quot;jvmtiStringPrimitiveValueCallback&quot;/&gt;.
 4459         A primitive field
 4460         is reported after the object with that field is visited;
 4461         it is reported by invoking the agent supplied callback function
 4462         &lt;functionlink id=&quot;jvmtiPrimitiveFieldCallback&quot;/&gt;.
 4463         &lt;p/&gt;
 4464         Whether a callback is provided or is &lt;code&gt;NULL&lt;/code&gt; only determines
 4465         whether the callback will be invoked, it does not influence
 4466         which objects are visited nor does it influence whether other callbacks
 4467         will be invoked.
 4468         However, the
 4469         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;
 4470         returned by &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;/&gt;
 4471         do determine if the objects referenced by the
 4472         current object as visited.
 4473         The &lt;datalink id=&quot;jvmtiHeapFilter&quot;&gt;heap filter flags&lt;/datalink&gt;
 4474         and &lt;paramlink id=&quot;klass&quot;/&gt; provided as parameters to this function
 4475         do not control which objects are visited but they do control which
 4476         objects and primitive values are reported by the callbacks.
 4477         For example, if the only callback that was set is
 4478         &lt;fieldlink id=&quot;array_primitive_value_callback&quot; struct=&quot;jvmtiHeapCallbacks&quot;/&gt; and &lt;code&gt;klass&lt;/code&gt;
 4479         is set to the array of bytes class, then only arrays of byte will be
 4480         reported.
 4481         The table below summarizes this:
 4482         &lt;p/&gt;
 4483         &lt;table&gt;
 4484           &lt;tr&gt;
 4485             &lt;th/&gt;
 4486             &lt;th&gt;
 4487               Controls objects visited
 4488             &lt;/th&gt;
 4489             &lt;th&gt;
 4490               Controls objects reported
 4491             &lt;/th&gt;
 4492             &lt;th&gt;
 4493               Controls primitives reported
 4494             &lt;/th&gt;
 4495           &lt;/tr&gt;
 4496           &lt;tr&gt;
 4497             &lt;th class=&quot;leftAligned&quot;&gt;
 4498               the
 4499               &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;Heap Visit Control Flags&lt;/datalink&gt;
 4500               returned by &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;/&gt;
 4501             &lt;/th&gt;
 4502             &lt;td class=&quot;centered&quot;&gt;
 4503               &lt;b&gt;Yes&lt;/b&gt;
 4504             &lt;/td&gt;
 4505             &lt;td class=&quot;centered&quot;&gt;
 4506               &lt;b&gt;Yes&lt;/b&gt;, since visits are controlled
 4507             &lt;/td&gt;
 4508             &lt;td class=&quot;centered&quot;&gt;
 4509               &lt;b&gt;Yes&lt;/b&gt;, since visits are controlled
 4510             &lt;/td&gt;
 4511           &lt;/tr&gt;
 4512           &lt;tr&gt;
 4513             &lt;th class=&quot;leftAligned&quot;&gt;
 4514               &lt;fieldlink id=&quot;array_primitive_value_callback&quot; struct=&quot;jvmtiHeapCallbacks&quot;/&gt;
 4515               in &lt;paramlink id=&quot;callbacks&quot;/&gt; set
 4516             &lt;/th&gt;
 4517             &lt;td class=&quot;centered&quot;&gt;
 4518               No
 4519             &lt;/td&gt;
 4520             &lt;td class=&quot;centered&quot;&gt;
 4521               &lt;b&gt;Yes&lt;/b&gt;
 4522             &lt;/td&gt;
 4523             &lt;td class=&quot;centered&quot;&gt;
 4524               No
 4525             &lt;/td&gt;
 4526           &lt;/tr&gt;
 4527           &lt;tr&gt;
 4528             &lt;th class=&quot;leftAligned&quot;&gt;
 4529               &lt;paramlink id=&quot;heap_filter&quot;/&gt;
 4530             &lt;/th&gt;
 4531             &lt;td class=&quot;centered&quot;&gt;
 4532               No
 4533             &lt;/td&gt;
 4534             &lt;td class=&quot;centered&quot;&gt;
 4535               &lt;b&gt;Yes&lt;/b&gt;
 4536             &lt;/td&gt;
 4537             &lt;td class=&quot;centered&quot;&gt;
 4538               &lt;b&gt;Yes&lt;/b&gt;
 4539             &lt;/td&gt;
 4540           &lt;/tr&gt;
 4541           &lt;tr&gt;
 4542             &lt;th class=&quot;leftAligned&quot;&gt;
 4543               &lt;paramlink id=&quot;klass&quot;/&gt;
 4544             &lt;/th&gt;
 4545             &lt;td class=&quot;centered&quot;&gt;
 4546               No
 4547             &lt;/td&gt;
 4548             &lt;td class=&quot;centered&quot;&gt;
 4549               &lt;b&gt;Yes&lt;/b&gt;
 4550             &lt;/td&gt;
 4551             &lt;td class=&quot;centered&quot;&gt;
 4552               &lt;b&gt;Yes&lt;/b&gt;
 4553             &lt;/td&gt;
 4554           &lt;/tr&gt;
 4555         &lt;/table&gt;
 4556         &lt;p/&gt;
 4557         During the execution of this function the state of the heap
 4558         does not change: no objects are allocated, no objects are
 4559         garbage collected, and the state of objects (including
 4560         held values) does not change.
 4561         As a result, threads executing Java
 4562         programming language code, threads attempting to resume the
 4563         execution of Java programming language code, and threads
 4564         attempting to execute JNI functions are typically stalled.
 4565       &lt;/description&gt;
 4566       &lt;origin&gt;new&lt;/origin&gt;
 4567       &lt;capabilities&gt;
 4568         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4569       &lt;/capabilities&gt;
 4570       &lt;parameters&gt;
 4571         &lt;param id=&quot;heap_filter&quot;&gt;
 4572           &lt;jint/&gt;
 4573           &lt;description&gt;
 4574             This bit vector of
 4575             &lt;datalink id=&quot;jvmtiHeapFilter&quot;&gt;heap filter flags&lt;/datalink&gt;.
 4576             restricts the objects for which the callback function is called.
 4577             This applies to both the object and primitive callbacks.
 4578           &lt;/description&gt;
 4579         &lt;/param&gt;
 4580         &lt;param id=&quot;klass&quot;&gt;
 4581           &lt;ptrtype&gt;
 4582             &lt;jclass/&gt;
 4583             &lt;nullok&gt;callbacks are not limited to instances of a particular
 4584                     class&lt;/nullok&gt;
 4585           &lt;/ptrtype&gt;
 4586           &lt;description&gt;
 4587             Callbacks are only reported when the object is an instance of
 4588             this class.
 4589             Objects which are instances of a subclass of &lt;code&gt;klass&lt;/code&gt;
 4590             are not reported.
 4591             If &lt;code&gt;klass&lt;/code&gt; is an interface, no objects are reported.
 4592             This applies to both the object and primitive callbacks.
 4593           &lt;/description&gt;
 4594         &lt;/param&gt;
 4595         &lt;param id=&quot;initial_object&quot;&gt;
 4596           &lt;ptrtype&gt;
 4597             &lt;jobject/&gt;
 4598             &lt;nullok&gt;references are followed from the heap roots&lt;/nullok&gt;
 4599           &lt;/ptrtype&gt;
 4600           &lt;description&gt;
 4601             The object to follow
 4602           &lt;/description&gt;
 4603         &lt;/param&gt;
 4604         &lt;param id=&quot;callbacks&quot;&gt;
 4605           &lt;inptr&gt;
 4606             &lt;struct&gt;jvmtiHeapCallbacks&lt;/struct&gt;
 4607           &lt;/inptr&gt;
 4608           &lt;description&gt;
 4609             Structure defining the set of callback functions.
 4610           &lt;/description&gt;
 4611         &lt;/param&gt;
 4612         &lt;param id=&quot;user_data&quot;&gt;
 4613           &lt;inbuf&gt;
 4614             &lt;void/&gt;
 4615             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 4616           &lt;/inbuf&gt;
 4617           &lt;description&gt;
 4618             User supplied data to be passed to the callback.
 4619           &lt;/description&gt;
 4620         &lt;/param&gt;
 4621       &lt;/parameters&gt;
 4622       &lt;errors&gt;
 4623         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 4624           &lt;paramlink id=&quot;klass&quot;/&gt; is not a valid class.
 4625         &lt;/error&gt;
 4626         &lt;error id=&quot;JVMTI_ERROR_INVALID_OBJECT&quot;&gt;
 4627           &lt;paramlink id=&quot;initial_object&quot;/&gt; is not a valid object.
 4628         &lt;/error&gt;
 4629       &lt;/errors&gt;
 4630     &lt;/function&gt;
 4631 
 4632 
 4633     &lt;function id=&quot;IterateThroughHeap&quot; num=&quot;116&quot; since=&quot;1.1&quot;&gt;
 4634       &lt;synopsis&gt;Iterate Through Heap&lt;/synopsis&gt;
 4635       &lt;description&gt;
 4636         Initiate an iteration over all objects in the heap.
 4637         This includes both reachable and
 4638         unreachable objects. Objects are visited in no particular order.
 4639         &lt;p/&gt;
 4640         Heap objects are reported by invoking the agent supplied
 4641         callback function &lt;functionlink id=&quot;jvmtiHeapIterationCallback&quot;/&gt;.
 4642         References between objects are not reported.
 4643         If only reachable objects are desired, or if object reference information
 4644         is needed, use &lt;functionlink id=&quot;FollowReferences&quot;/&gt;.
 4645         &lt;p/&gt;
 4646         This function can also be used to examine primitive (non-object) values.
 4647         The primitive value of an array or String
 4648         is reported after the object has been visited;
 4649         it is reported by invoking the agent supplied callback function
 4650         &lt;functionlink id=&quot;jvmtiArrayPrimitiveValueCallback&quot;/&gt; or
 4651         &lt;functionlink id=&quot;jvmtiStringPrimitiveValueCallback&quot;/&gt;.
 4652         A primitive field
 4653         is reported after the object with that field is visited;
 4654         it is reported by invoking the agent supplied
 4655         callback function
 4656         &lt;functionlink id=&quot;jvmtiPrimitiveFieldCallback&quot;/&gt;.
 4657         &lt;p/&gt;
 4658         Unless the iteration is aborted by the
 4659         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;Heap Visit Control Flags&lt;/datalink&gt;
 4660         returned by a callback, all objects in the heap are visited.
 4661         Whether a callback is provided or is &lt;code&gt;NULL&lt;/code&gt; only determines
 4662         whether the callback will be invoked, it does not influence
 4663         which objects are visited nor does it influence whether other callbacks
 4664         will be invoked.
 4665         The &lt;datalink id=&quot;jvmtiHeapFilter&quot;&gt;heap filter flags&lt;/datalink&gt;
 4666         and &lt;paramlink id=&quot;klass&quot;/&gt; provided as parameters to this function
 4667         do not control which objects are visited but they do control which
 4668         objects and primitive values are reported by the callbacks.
 4669         For example, if the only callback that was set is
 4670         &lt;fieldlink id=&quot;array_primitive_value_callback&quot; struct=&quot;jvmtiHeapCallbacks&quot;/&gt; and &lt;code&gt;klass&lt;/code&gt;
 4671         is set to the array of bytes class, then only arrays of byte will be
 4672         reported. The table below summarizes this (contrast this with
 4673         &lt;functionlink id=&quot;FollowReferences&quot;/&gt;):
 4674         &lt;p/&gt;
 4675         &lt;table&gt;
 4676           &lt;tr&gt;
 4677             &lt;th/&gt;
 4678             &lt;th&gt;
 4679               Controls objects visited
 4680             &lt;/th&gt;
 4681             &lt;th&gt;
 4682               Controls objects reported
 4683             &lt;/th&gt;
 4684             &lt;th&gt;
 4685               Controls primitives reported
 4686             &lt;/th&gt;
 4687           &lt;/tr&gt;
 4688           &lt;tr&gt;
 4689             &lt;th class=&quot;leftAligned&quot;&gt;
 4690               the
 4691               &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;Heap Visit Control Flags&lt;/datalink&gt;
 4692               returned by &lt;functionlink id=&quot;jvmtiHeapIterationCallback&quot;/&gt;
 4693             &lt;/th&gt;
 4694             &lt;td class=&quot;centered&quot;&gt;
 4695               No&lt;br/&gt;(unless they abort the iteration)
 4696             &lt;/td&gt;
 4697             &lt;td class=&quot;centered&quot;&gt;
 4698               No&lt;br/&gt;(unless they abort the iteration)
 4699             &lt;/td&gt;
 4700             &lt;td class=&quot;centered&quot;&gt;
 4701               No&lt;br/&gt;(unless they abort the iteration)
 4702             &lt;/td&gt;
 4703           &lt;/tr&gt;
 4704           &lt;tr&gt;
 4705             &lt;th class=&quot;leftAligned&quot;&gt;
 4706               &lt;fieldlink id=&quot;array_primitive_value_callback&quot; struct=&quot;jvmtiHeapCallbacks&quot;/&gt;
 4707               in &lt;paramlink id=&quot;callbacks&quot;/&gt; set
 4708             &lt;/th&gt;
 4709             &lt;td class=&quot;centered&quot;&gt;
 4710               No
 4711             &lt;/td&gt;
 4712             &lt;td class=&quot;centered&quot;&gt;
 4713               &lt;b&gt;Yes&lt;/b&gt;
 4714             &lt;/td&gt;
 4715             &lt;td class=&quot;centered&quot;&gt;
 4716               No
 4717             &lt;/td&gt;
 4718           &lt;/tr&gt;
 4719           &lt;tr&gt;
 4720             &lt;th class=&quot;leftAligned&quot;&gt;
 4721               &lt;paramlink id=&quot;heap_filter&quot;/&gt;
 4722             &lt;/th&gt;
 4723             &lt;td class=&quot;centered&quot;&gt;
 4724               No
 4725             &lt;/td&gt;
 4726             &lt;td class=&quot;centered&quot;&gt;
 4727               &lt;b&gt;Yes&lt;/b&gt;
 4728             &lt;/td&gt;
 4729             &lt;td class=&quot;centered&quot;&gt;
 4730               &lt;b&gt;Yes&lt;/b&gt;
 4731             &lt;/td&gt;
 4732           &lt;/tr&gt;
 4733           &lt;tr&gt;
 4734             &lt;th class=&quot;leftAligned&quot;&gt;
 4735               &lt;paramlink id=&quot;klass&quot;/&gt;
 4736             &lt;/th&gt;
 4737             &lt;td class=&quot;centered&quot;&gt;
 4738               No
 4739             &lt;/td&gt;
 4740             &lt;td class=&quot;centered&quot;&gt;
 4741               &lt;b&gt;Yes&lt;/b&gt;
 4742             &lt;/td&gt;
 4743             &lt;td class=&quot;centered&quot;&gt;
 4744               &lt;b&gt;Yes&lt;/b&gt;
 4745             &lt;/td&gt;
 4746           &lt;/tr&gt;
 4747         &lt;/table&gt;
 4748         &lt;p/&gt;
 4749         During the execution of this function the state of the heap
 4750         does not change: no objects are allocated, no objects are
 4751         garbage collected, and the state of objects (including
 4752         held values) does not change.
 4753         As a result, threads executing Java
 4754         programming language code, threads attempting to resume the
 4755         execution of Java programming language code, and threads
 4756         attempting to execute JNI functions are typically stalled.
 4757       &lt;/description&gt;
 4758       &lt;origin&gt;new&lt;/origin&gt;
 4759       &lt;capabilities&gt;
 4760         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4761       &lt;/capabilities&gt;
 4762       &lt;parameters&gt;
 4763         &lt;param id=&quot;heap_filter&quot;&gt;
 4764           &lt;jint/&gt;
 4765           &lt;description&gt;
 4766             This bit vector of
 4767             &lt;datalink id=&quot;jvmtiHeapFilter&quot;&gt;heap filter flags&lt;/datalink&gt;.
 4768             restricts the objects for which the callback function is called.
 4769             This applies to both the object and primitive callbacks.
 4770           &lt;/description&gt;
 4771         &lt;/param&gt;
 4772         &lt;param id=&quot;klass&quot;&gt;
 4773           &lt;ptrtype&gt;
 4774             &lt;jclass/&gt;
 4775             &lt;nullok&gt;callbacks are not limited to instances of a particular class&lt;/nullok&gt;
 4776           &lt;/ptrtype&gt;
 4777           &lt;description&gt;
 4778             Callbacks are only reported when the object is an instance of
 4779             this class.
 4780             Objects which are instances of a subclass of &lt;code&gt;klass&lt;/code&gt;
 4781             are not reported.
 4782             If &lt;code&gt;klass&lt;/code&gt; is an interface, no objects are reported.
 4783             This applies to both the object and primitive callbacks.
 4784           &lt;/description&gt;
 4785         &lt;/param&gt;
 4786         &lt;param id=&quot;callbacks&quot;&gt;
 4787           &lt;inptr&gt;
 4788             &lt;struct&gt;jvmtiHeapCallbacks&lt;/struct&gt;
 4789           &lt;/inptr&gt;
 4790           &lt;description&gt;
 4791             Structure defining the set callback functions.
 4792           &lt;/description&gt;
 4793         &lt;/param&gt;
 4794         &lt;param id=&quot;user_data&quot;&gt;
 4795           &lt;inbuf&gt;
 4796             &lt;void/&gt;
 4797             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 4798           &lt;/inbuf&gt;
 4799           &lt;description&gt;
 4800             User supplied data to be passed to the callback.
 4801           &lt;/description&gt;
 4802         &lt;/param&gt;
 4803       &lt;/parameters&gt;
 4804       &lt;errors&gt;
 4805         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 4806           &lt;paramlink id=&quot;klass&quot;/&gt; is not a valid class.
 4807         &lt;/error&gt;
 4808       &lt;/errors&gt;
 4809     &lt;/function&gt;
 4810 
 4811     &lt;function id=&quot;GetTag&quot; phase=&quot;start&quot; num=&quot;106&quot;&gt;
 4812       &lt;synopsis&gt;Get Tag&lt;/synopsis&gt;
 4813       &lt;description&gt;
 4814         Retrieve the tag associated with an object.
 4815         The tag is a long value typically used to store a
 4816         unique identifier or pointer to object information.
 4817         The tag is set with
 4818         &lt;functionlink id=&quot;SetTag&quot;&gt;&lt;/functionlink&gt;.
 4819         Objects for which no tags have been set return a
 4820         tag value of zero.
 4821       &lt;/description&gt;
 4822       &lt;origin&gt;new&lt;/origin&gt;
 4823       &lt;capabilities&gt;
 4824         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4825       &lt;/capabilities&gt;
 4826       &lt;parameters&gt;
 4827         &lt;param id=&quot;object&quot;&gt;
 4828 	  &lt;jobject/&gt;
 4829 	    &lt;description&gt;
 4830 	      The object whose tag is to be retrieved.
 4831 	    &lt;/description&gt;
 4832 	&lt;/param&gt;
 4833         &lt;param id=&quot;tag_ptr&quot;&gt;
 4834 	  &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4835 	  &lt;description&gt;
 4836 	    On return, the referenced long is set to the value
 4837 	    of the tag.
 4838 	  &lt;/description&gt;
 4839 	&lt;/param&gt;
 4840       &lt;/parameters&gt;
 4841       &lt;errors&gt;
 4842       &lt;/errors&gt;
 4843     &lt;/function&gt;
 4844 
 4845     &lt;function id=&quot;SetTag&quot; phase=&quot;start&quot; num=&quot;107&quot;&gt;
 4846       &lt;synopsis&gt;Set Tag&lt;/synopsis&gt;
 4847       &lt;description&gt;
 4848         Set the tag associated with an object.
 4849         The tag is a long value typically used to store a
 4850         unique identifier or pointer to object information.
 4851         The tag is visible with
 4852         &lt;functionlink id=&quot;GetTag&quot;&gt;&lt;/functionlink&gt;.
 4853       &lt;/description&gt;
 4854       &lt;origin&gt;new&lt;/origin&gt;
 4855       &lt;capabilities&gt;
 4856         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4857       &lt;/capabilities&gt;
 4858       &lt;parameters&gt;
 4859         &lt;param id=&quot;object&quot;&gt;
 4860 	  &lt;jobject/&gt;
 4861 	    &lt;description&gt;
 4862 	      The object whose tag is to be set.
 4863 	    &lt;/description&gt;
 4864 	&lt;/param&gt;
 4865         &lt;param id=&quot;tag&quot;&gt;
 4866 	  &lt;jlong/&gt;
 4867 	  &lt;description&gt;
 4868 	    The new value of the tag.
 4869 	  &lt;/description&gt;
 4870 	&lt;/param&gt;
 4871       &lt;/parameters&gt;
 4872       &lt;errors&gt;
 4873       &lt;/errors&gt;
 4874     &lt;/function&gt;
 4875 
 4876     &lt;function id=&quot;GetObjectsWithTags&quot; num=&quot;114&quot;&gt;
 4877       &lt;synopsis&gt;Get Objects With Tags&lt;/synopsis&gt;
 4878       &lt;description&gt;
 4879 	Return objects in the heap with the specified tags.
 4880 	The format is parallel arrays of objects and tags.
 4881       &lt;/description&gt;
 4882       &lt;origin&gt;new&lt;/origin&gt;
 4883       &lt;capabilities&gt;
 4884         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4885       &lt;/capabilities&gt;
 4886       &lt;parameters&gt;
 4887 	&lt;param id=&quot;tag_count&quot;&gt;
 4888 	  &lt;jint min=&quot;0&quot;/&gt;
 4889 	    &lt;description&gt;
 4890 	      Number of tags to scan for.
 4891 	    &lt;/description&gt;
 4892 	&lt;/param&gt;
 4893 	&lt;param id=&quot;tags&quot;&gt;
 4894 	  &lt;inbuf incount=&quot;tag_count&quot;&gt;
 4895 	    &lt;jlong/&gt;
 4896 	  &lt;/inbuf&gt;
 4897 	    &lt;description&gt;
 4898 	      Scan for objects with these tags.
 4899 	      Zero is not permitted in this array.
 4900 	    &lt;/description&gt;
 4901 	&lt;/param&gt;
 4902 	&lt;param id=&quot;count_ptr&quot;&gt;
 4903 	  &lt;outptr&gt;
 4904 	    &lt;jint/&gt;
 4905 	  &lt;/outptr&gt;
 4906 	    &lt;description&gt;
 4907 	      Return the number of objects with any of the tags
 4908 	      in &lt;paramlink id=&quot;tags&quot;/&gt;.
 4909 	    &lt;/description&gt;
 4910 	&lt;/param&gt;
 4911 	&lt;param id=&quot;object_result_ptr&quot;&gt;
 4912 	  &lt;allocbuf outcount=&quot;count_ptr&quot;&gt;
 4913 	    &lt;jobject/&gt;
 4914 	    &lt;nullok&gt;this information is not returned&lt;/nullok&gt;
 4915 	  &lt;/allocbuf&gt;
 4916 	    &lt;description&gt;
 4917 	      Returns the array of objects with any of the tags
 4918 	      in &lt;paramlink id=&quot;tags&quot;/&gt;.
 4919 	    &lt;/description&gt;
 4920 	&lt;/param&gt;
 4921 	&lt;param id=&quot;tag_result_ptr&quot;&gt;
 4922 	  &lt;allocbuf outcount=&quot;count_ptr&quot;&gt;
 4923 	    &lt;jlong/&gt;
 4924 	    &lt;nullok&gt;this information is not returned&lt;/nullok&gt;
 4925 	  &lt;/allocbuf&gt;
 4926 	    &lt;description&gt;
 4927 	      For each object in &lt;paramlink id=&quot;object_result_ptr&quot;/&gt;,
 4928 	      return the tag at the corresponding index.
 4929 	    &lt;/description&gt;
 4930 	&lt;/param&gt;
 4931       &lt;/parameters&gt;
 4932       &lt;errors&gt;
 4933 	&lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 4934 	  Zero is present in &lt;paramlink id=&quot;tags&quot;&gt;&lt;/paramlink&gt;.
 4935 	&lt;/error&gt;
 4936       &lt;/errors&gt;
 4937     &lt;/function&gt;
 4938 
 4939     &lt;function id=&quot;ForceGarbageCollection&quot; num=&quot;108&quot;&gt;
 4940       &lt;synopsis&gt;Force Garbage Collection&lt;/synopsis&gt;
 4941       &lt;description&gt;
 4942         Force the VM to perform a garbage collection.
 4943         The garbage collection is as complete as possible.
 4944         This function does not cause finalizers to be run.
 4945         This function does not return until the garbage collection
 4946         is finished.
 4947         &lt;p/&gt;
 4948         Although garbage collection is as complete
 4949         as possible there is no guarantee that all
 4950         &lt;eventlink id=&quot;ObjectFree&quot;/&gt;
 4951         events will have been
 4952         sent by the time that this function
 4953         returns. In particular, an object may be
 4954         prevented from being freed because it
 4955         is awaiting finalization.
 4956       &lt;/description&gt;
 4957       &lt;origin&gt;new&lt;/origin&gt;
 4958       &lt;capabilities&gt;
 4959       &lt;/capabilities&gt;
 4960       &lt;parameters&gt;
 4961       &lt;/parameters&gt;
 4962       &lt;errors&gt;
 4963       &lt;/errors&gt;
 4964     &lt;/function&gt;
 4965 
 4966 
 4967   &lt;/category&gt;
 4968 
 4969   &lt;category id=&quot;Heap_1_0&quot; label=&quot;Heap (1.0)&quot;&gt;
 4970     &lt;intro&gt;
 4971       &lt;b&gt;
 4972         These functions and data types were introduced in the original
 4973         &lt;jvmti/&gt; version 1.0 and have been superseded by more
 4974       &lt;/b&gt;
 4975       &lt;internallink id=&quot;Heap&quot;&gt;&lt;b&gt;powerful and flexible versions&lt;/b&gt;&lt;/internallink&gt;
 4976       &lt;b&gt;
 4977         which:
 4978       &lt;/b&gt;
 4979       &lt;ul&gt;
 4980         &lt;li&gt;
 4981           &lt;b&gt;
 4982             Allow access to primitive values (the value of Strings, arrays,
 4983             and primitive fields)
 4984           &lt;/b&gt;
 4985         &lt;/li&gt;
 4986         &lt;li&gt;
 4987           &lt;b&gt;
 4988             Allow the tag of the referrer to be set, thus enabling more
 4989             efficient localized reference graph building
 4990           &lt;/b&gt;
 4991         &lt;/li&gt;
 4992         &lt;li&gt;
 4993           &lt;b&gt;
 4994             Provide more extensive filtering abilities
 4995           &lt;/b&gt;
 4996         &lt;/li&gt;
 4997         &lt;li&gt;
 4998           &lt;b&gt;
 4999             Are extensible, allowing their abilities to grow in future versions of &lt;jvmti/&gt;
 5000           &lt;/b&gt;
 5001         &lt;/li&gt;
 5002       &lt;/ul&gt;
 5003       &lt;p/&gt;
 5004       &lt;b&gt;Please use the &lt;/b&gt;
 5005       &lt;internallink id=&quot;Heap&quot;&gt;&lt;b&gt;current Heap functions&lt;/b&gt;&lt;/internallink&gt;.
 5006         &lt;p/&gt;
 5007         &lt;constants id=&quot;jvmtiHeapObjectFilter&quot; label=&quot;Heap Object Filter Enumeration&quot; kind=&quot;enum&quot;&gt;
 5008 	  &lt;constant id=&quot;JVMTI_HEAP_OBJECT_TAGGED&quot; num=&quot;1&quot;&gt;
 5009 	    Tagged objects only.
 5010 	  &lt;/constant&gt;
 5011 	  &lt;constant id=&quot;JVMTI_HEAP_OBJECT_UNTAGGED&quot; num=&quot;2&quot;&gt;
 5012 	    Untagged objects only.
 5013 	  &lt;/constant&gt;
 5014 	  &lt;constant id=&quot;JVMTI_HEAP_OBJECT_EITHER&quot; num=&quot;3&quot;&gt;
 5015 	    Either tagged or untagged objects.
 5016 	  &lt;/constant&gt;
 5017 	&lt;/constants&gt;
 5018 
 5019         &lt;constants id=&quot;jvmtiHeapRootKind&quot; label=&quot;Heap Root Kind Enumeration&quot; kind=&quot;enum&quot;&gt;
 5020 	  &lt;constant id=&quot;JVMTI_HEAP_ROOT_JNI_GLOBAL&quot; num=&quot;1&quot;&gt;
 5021 	    JNI global reference.
 5022 	  &lt;/constant&gt;
 5023 	  &lt;constant id=&quot;JVMTI_HEAP_ROOT_SYSTEM_CLASS&quot; num=&quot;2&quot;&gt;
 5024 	    System class.
 5025 	  &lt;/constant&gt;
 5026 	  &lt;constant id=&quot;JVMTI_HEAP_ROOT_MONITOR&quot; num=&quot;3&quot;&gt;
 5027 	    Monitor.
 5028 	  &lt;/constant&gt;
 5029 	  &lt;constant id=&quot;JVMTI_HEAP_ROOT_STACK_LOCAL&quot; num=&quot;4&quot;&gt;
 5030 	    Stack local.
 5031 	  &lt;/constant&gt;
 5032 	  &lt;constant id=&quot;JVMTI_HEAP_ROOT_JNI_LOCAL&quot; num=&quot;5&quot;&gt;
 5033 	    JNI local reference.
 5034 	  &lt;/constant&gt;
 5035 	  &lt;constant id=&quot;JVMTI_HEAP_ROOT_THREAD&quot; num=&quot;6&quot;&gt;
 5036 	    Thread.
 5037 	  &lt;/constant&gt;
 5038 	  &lt;constant id=&quot;JVMTI_HEAP_ROOT_OTHER&quot; num=&quot;7&quot;&gt;
 5039 	    Other.
 5040 	  &lt;/constant&gt;
 5041 	&lt;/constants&gt;
 5042 
 5043         &lt;constants id=&quot;jvmtiObjectReferenceKind&quot; label=&quot;Object Reference Enumeration&quot; kind=&quot;enum&quot;&gt;
 5044 	  &lt;constant id=&quot;JVMTI_REFERENCE_CLASS&quot; num=&quot;1&quot;&gt;
 5045 	    Reference from an object to its class.
 5046 	  &lt;/constant&gt;
 5047 	  &lt;constant id=&quot;JVMTI_REFERENCE_FIELD&quot; num=&quot;2&quot;&gt;
 5048 	    Reference from an object to the value of one of its instance fields.
 5049 	    For references of this kind the &lt;code&gt;referrer_index&lt;/code&gt;
 5050 	    parameter to the &lt;internallink id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5051             jvmtiObjectReferenceCallback&lt;/internallink&gt; is the index of the
 5052  	    the instance field. The index is based on the order of all the
 5053             object&#39;s fields. This includes all fields of the directly declared
 5054             static and instance fields in the class, and includes all fields (both
 5055             public and private) fields declared in superclasses and superinterfaces.
 5056             The index is thus calculated by summing the index of the field in the directly
 5057             declared class (see &lt;functionlink id=&quot;GetClassFields&quot;/&gt;), with the total
 5058             number of fields (both public and private) declared in all superclasses
 5059             and superinterfaces. The index starts at zero.
 5060 	  &lt;/constant&gt;
 5061 	  &lt;constant id=&quot;JVMTI_REFERENCE_ARRAY_ELEMENT&quot; num=&quot;3&quot;&gt;
 5062 	    Reference from an array to one of its elements.
 5063 	    For references of this kind the &lt;code&gt;referrer_index&lt;/code&gt;
 5064             parameter to the &lt;internallink id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5065             jvmtiObjectReferenceCallback&lt;/internallink&gt; is the array index.
 5066 	  &lt;/constant&gt;
 5067 	  &lt;constant id=&quot;JVMTI_REFERENCE_CLASS_LOADER&quot; num=&quot;4&quot;&gt;
 5068 	    Reference from a class to its class loader.
 5069 	  &lt;/constant&gt;
 5070 	  &lt;constant id=&quot;JVMTI_REFERENCE_SIGNERS&quot; num=&quot;5&quot;&gt;
 5071 	    Reference from a class to its signers array.
 5072 	  &lt;/constant&gt;
 5073 	  &lt;constant id=&quot;JVMTI_REFERENCE_PROTECTION_DOMAIN&quot; num=&quot;6&quot;&gt;
 5074 	    Reference from a class to its protection domain.
 5075 	  &lt;/constant&gt;
 5076 	  &lt;constant id=&quot;JVMTI_REFERENCE_INTERFACE&quot; num=&quot;7&quot;&gt;
 5077 	    Reference from a class to one of its interfaces.
 5078 	  &lt;/constant&gt;
 5079 	  &lt;constant id=&quot;JVMTI_REFERENCE_STATIC_FIELD&quot; num=&quot;8&quot;&gt;
 5080 	    Reference from a class to the value of one of its static fields.
 5081 	    For references of this kind the &lt;code&gt;referrer_index&lt;/code&gt;
 5082 	    parameter to the &lt;internallink id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5083             jvmtiObjectReferenceCallback&lt;/internallink&gt; is the index of the
 5084  	    the static field. The index is based on the order of all the
 5085             object&#39;s fields. This includes all fields of the directly declared
 5086             static and instance fields in the class, and includes all fields (both
 5087             public and private) fields declared in superclasses and superinterfaces.
 5088             The index is thus calculated by summing the index of the field in the directly
 5089             declared class (see &lt;functionlink id=&quot;GetClassFields&quot;/&gt;), with the total
 5090             number of fields (both public and private) declared in all superclasses
 5091             and superinterfaces. The index starts at zero.
 5092             Note: this definition differs from that in the &lt;jvmti/&gt; 1.0 Specification.
 5093             &lt;rationale&gt;No known implementations used the 1.0 definition.&lt;/rationale&gt;
 5094 	  &lt;/constant&gt;
 5095 	  &lt;constant id=&quot;JVMTI_REFERENCE_CONSTANT_POOL&quot; num=&quot;9&quot;&gt;
 5096 	    Reference from a class to a resolved entry in the constant pool.
 5097 	    For references of this kind the &lt;code&gt;referrer_index&lt;/code&gt;
 5098             parameter to the &lt;internallink id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5099             jvmtiObjectReferenceCallback&lt;/internallink&gt; is the index into
 5100             constant pool table of the class, starting at 1. See
 5101             &lt;vmspec chapter=&quot;4.4&quot;/&gt;.
 5102 	  &lt;/constant&gt;
 5103 	&lt;/constants&gt;
 5104 
 5105         &lt;constants id=&quot;jvmtiIterationControl&quot; label=&quot;Iteration Control Enumeration&quot; kind=&quot;enum&quot;&gt;
 5106 	  &lt;constant id=&quot;JVMTI_ITERATION_CONTINUE&quot; num=&quot;1&quot;&gt;
 5107 	    Continue the iteration.
 5108             If this is a reference iteration, follow the references of this object.
 5109 	  &lt;/constant&gt;
 5110 	  &lt;constant id=&quot;JVMTI_ITERATION_IGNORE&quot; num=&quot;2&quot;&gt;
 5111 	    Continue the iteration.
 5112             If this is a reference iteration, ignore the references of this object.
 5113 	  &lt;/constant&gt;
 5114 	  &lt;constant id=&quot;JVMTI_ITERATION_ABORT&quot; num=&quot;0&quot;&gt;
 5115 	    Abort the iteration.
 5116 	  &lt;/constant&gt;
 5117 	&lt;/constants&gt;
 5118     &lt;/intro&gt;
 5119 
 5120     &lt;callback id=&quot;jvmtiHeapObjectCallback&quot;&gt;
 5121       &lt;enum&gt;jvmtiIterationControl&lt;/enum&gt;
 5122       &lt;synopsis&gt;Heap Object Callback&lt;/synopsis&gt;
 5123       &lt;description&gt;
 5124         Agent supplied callback function.
 5125 	Describes (but does not pass in) an object in the heap.
 5126         &lt;p/&gt;
 5127         Return value should be &lt;code&gt;JVMTI_ITERATION_CONTINUE&lt;/code&gt; to continue iteration,
 5128         or &lt;code&gt;JVMTI_ITERATION_ABORT&lt;/code&gt; to stop iteration.
 5129         &lt;p/&gt;
 5130         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 5131         function restrictions&lt;/internallink&gt;.
 5132       &lt;/description&gt;
 5133       &lt;parameters&gt;
 5134         &lt;param id=&quot;class_tag&quot;&gt;
 5135 	  &lt;jlong/&gt;
 5136 	  &lt;description&gt;
 5137 	    The tag of the class of object (zero if the class is not tagged).
 5138 	    If the object represents a runtime class,
 5139             the &lt;code&gt;class_tag&lt;/code&gt; is the tag
 5140 	    associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 5141             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 5142 	  &lt;/description&gt;
 5143 	&lt;/param&gt;
 5144         &lt;param id=&quot;size&quot;&gt;
 5145 	  &lt;jlong/&gt;
 5146 	  &lt;description&gt;
 5147 	    Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 5148 	  &lt;/description&gt;
 5149 	&lt;/param&gt;
 5150         &lt;param id=&quot;tag_ptr&quot;&gt;
 5151 	  &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5152 	  &lt;description&gt;
 5153 	    The object tag value, or zero if the object is not tagged.
 5154 	    To set the tag value to be associated with the object
 5155 	    the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 5156 	  &lt;/description&gt;
 5157 	&lt;/param&gt;
 5158         &lt;param id=&quot;user_data&quot;&gt;
 5159 	  &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 5160 	  &lt;description&gt;
 5161 	    The user supplied data that was passed into the iteration function.
 5162 	  &lt;/description&gt;
 5163 	&lt;/param&gt;
 5164       &lt;/parameters&gt;
 5165     &lt;/callback&gt;
 5166 
 5167     &lt;callback id=&quot;jvmtiHeapRootCallback&quot;&gt;
 5168       &lt;enum&gt;jvmtiIterationControl&lt;/enum&gt;
 5169       &lt;synopsis&gt;Heap Root Object Callback&lt;/synopsis&gt;
 5170       &lt;description&gt;
 5171         Agent supplied callback function.
 5172 	Describes (but does not pass in) an object that is a root for the purposes
 5173 	of garbage collection.
 5174         &lt;p/&gt;
 5175         Return value should be &lt;code&gt;JVMTI_ITERATION_CONTINUE&lt;/code&gt; to continue iteration,
 5176         &lt;code&gt;JVMTI_ITERATION_IGNORE&lt;/code&gt; to continue iteration without pursuing
 5177         references from referree object or &lt;code&gt;JVMTI_ITERATION_ABORT&lt;/code&gt; to stop iteration.
 5178         &lt;p/&gt;
 5179         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 5180         function restrictions&lt;/internallink&gt;.
 5181       &lt;/description&gt;
 5182       &lt;parameters&gt;
 5183 	&lt;param id=&quot;root_kind&quot;&gt;
 5184 	  &lt;enum&gt;jvmtiHeapRootKind&lt;/enum&gt;
 5185 	  &lt;description&gt;
 5186 	    The kind of heap root.
 5187 	  &lt;/description&gt;
 5188 	&lt;/param&gt;
 5189         &lt;param id=&quot;class_tag&quot;&gt;
 5190 	  &lt;jlong/&gt;
 5191 	  &lt;description&gt;
 5192 	    The tag of the class of object (zero if the class is not tagged).
 5193             If the object represents a runtime class, the &lt;code&gt;class_tag&lt;/code&gt; is the tag
 5194             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 5195             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 5196 	  &lt;/description&gt;
 5197 	&lt;/param&gt;
 5198         &lt;param id=&quot;size&quot;&gt;
 5199 	  &lt;jlong/&gt;
 5200 	  &lt;description&gt;
 5201 	    Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 5202 	  &lt;/description&gt;
 5203 	&lt;/param&gt;
 5204         &lt;param id=&quot;tag_ptr&quot;&gt;
 5205 	  &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5206 	  &lt;description&gt;
 5207 	    The object tag value, or zero if the object is not tagged.
 5208 	    To set the tag value to be associated with the object
 5209 	    the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 5210 	  &lt;/description&gt;
 5211 	&lt;/param&gt;
 5212         &lt;param id=&quot;user_data&quot;&gt;
 5213 	  &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 5214 	  &lt;description&gt;
 5215 	    The user supplied data that was passed into the iteration function.
 5216 	  &lt;/description&gt;
 5217 	&lt;/param&gt;
 5218       &lt;/parameters&gt;
 5219     &lt;/callback&gt;
 5220 
 5221     &lt;callback id=&quot;jvmtiStackReferenceCallback&quot;&gt;
 5222       &lt;enum&gt;jvmtiIterationControl&lt;/enum&gt;
 5223       &lt;synopsis&gt;Stack Reference Object Callback&lt;/synopsis&gt;
 5224       &lt;description&gt;
 5225         Agent supplied callback function.
 5226 	Describes (but does not pass in) an object on the stack that is a root for
 5227 	the purposes of garbage collection.
 5228         &lt;p/&gt;
 5229         Return value should be &lt;code&gt;JVMTI_ITERATION_CONTINUE&lt;/code&gt; to continue iteration,
 5230         &lt;code&gt;JVMTI_ITERATION_IGNORE&lt;/code&gt; to continue iteration without pursuing
 5231         references from referree object or &lt;code&gt;JVMTI_ITERATION_ABORT&lt;/code&gt; to stop iteration.
 5232         &lt;p/&gt;
 5233         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 5234         function restrictions&lt;/internallink&gt;.
 5235       &lt;/description&gt;
 5236       &lt;parameters&gt;
 5237 	&lt;param id=&quot;root_kind&quot;&gt;
 5238 	  &lt;enum&gt;jvmtiHeapRootKind&lt;/enum&gt;
 5239 	  &lt;description&gt;
 5240 	    The kind of root (either &lt;code&gt;JVMTI_HEAP_ROOT_STACK_LOCAL&lt;/code&gt; or
 5241 	    &lt;code&gt;JVMTI_HEAP_ROOT_JNI_LOCAL&lt;/code&gt;).
 5242 	  &lt;/description&gt;
 5243 	&lt;/param&gt;
 5244         &lt;param id=&quot;class_tag&quot;&gt;
 5245 	  &lt;jlong/&gt;
 5246 	  &lt;description&gt;
 5247            The tag of the class of object (zero if the class is not tagged).
 5248            If the object represents a runtime class, the  &lt;code&gt;class_tag&lt;/code&gt; is the tag
 5249            associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 5250            (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 5251 	  &lt;/description&gt;
 5252 	&lt;/param&gt;
 5253         &lt;param id=&quot;size&quot;&gt;
 5254 	  &lt;jlong/&gt;
 5255 	  &lt;description&gt;
 5256 	    Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 5257 	  &lt;/description&gt;
 5258 	&lt;/param&gt;
 5259         &lt;param id=&quot;tag_ptr&quot;&gt;
 5260 	  &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5261 	  &lt;description&gt;
 5262 	    The object tag value, or zero if the object is not tagged.
 5263 	    To set the tag value to be associated with the object
 5264 	    the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 5265 	  &lt;/description&gt;
 5266 	&lt;/param&gt;
 5267         &lt;param id=&quot;thread_tag&quot;&gt;
 5268 	  &lt;jlong/&gt;
 5269 	  &lt;description&gt;
 5270 	    The tag of the thread corresponding to this stack, zero if not tagged.
 5271 	  &lt;/description&gt;
 5272 	&lt;/param&gt;
 5273         &lt;param id=&quot;depth&quot;&gt;
 5274 	  &lt;jint/&gt;
 5275 	  &lt;description&gt;
 5276 	    The depth of the frame.
 5277 	  &lt;/description&gt;
 5278 	&lt;/param&gt;
 5279         &lt;param id=&quot;method&quot;&gt;
 5280 	  &lt;jmethodID/&gt;
 5281 	  &lt;description&gt;
 5282 	    The method executing in this frame.
 5283 	  &lt;/description&gt;
 5284 	&lt;/param&gt;
 5285         &lt;param id=&quot;slot&quot;&gt;
 5286 	  &lt;jint/&gt;
 5287 	  &lt;description&gt;
 5288 	    The slot number.
 5289 	  &lt;/description&gt;
 5290 	&lt;/param&gt;
 5291         &lt;param id=&quot;user_data&quot;&gt;
 5292 	  &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 5293 	  &lt;description&gt;
 5294 	    The user supplied data that was passed into the iteration function.
 5295 	  &lt;/description&gt;
 5296 	&lt;/param&gt;
 5297       &lt;/parameters&gt;
 5298     &lt;/callback&gt;
 5299 
 5300     &lt;callback id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5301       &lt;enum&gt;jvmtiIterationControl&lt;/enum&gt;
 5302       &lt;synopsis&gt;Object Reference Callback&lt;/synopsis&gt;
 5303       &lt;description&gt;
 5304         Agent supplied callback function.
 5305 	Describes a reference from an object (the referrer) to another object
 5306 	(the referree).
 5307         &lt;p/&gt;
 5308         Return value should be &lt;code&gt;JVMTI_ITERATION_CONTINUE&lt;/code&gt; to continue iteration,
 5309         &lt;code&gt;JVMTI_ITERATION_IGNORE&lt;/code&gt; to continue iteration without pursuing
 5310         references from referree object or &lt;code&gt;JVMTI_ITERATION_ABORT&lt;/code&gt; to stop iteration.
 5311         &lt;p/&gt;
 5312         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 5313         function restrictions&lt;/internallink&gt;.
 5314       &lt;/description&gt;
 5315       &lt;parameters&gt;
 5316 	&lt;param id=&quot;reference_kind&quot;&gt;
 5317 	  &lt;enum&gt;jvmtiObjectReferenceKind&lt;/enum&gt;
 5318 	  &lt;description&gt;
 5319 	    The type of reference.
 5320 	  &lt;/description&gt;
 5321 	&lt;/param&gt;
 5322         &lt;param id=&quot;class_tag&quot;&gt;
 5323 	  &lt;jlong/&gt;
 5324 	  &lt;description&gt;
 5325 	    The tag of the class of referree object (zero if the class is not tagged).
 5326             If the referree object represents a runtime class,
 5327             the  &lt;code&gt;class_tag&lt;/code&gt; is the tag
 5328             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 5329             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 5330 	  &lt;/description&gt;
 5331 	&lt;/param&gt;
 5332         &lt;param id=&quot;size&quot;&gt;
 5333 	  &lt;jlong/&gt;
 5334 	  &lt;description&gt;
 5335 	    Size of the referree object (in bytes).
 5336             See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 5337 	  &lt;/description&gt;
 5338 	&lt;/param&gt;
 5339         &lt;param id=&quot;tag_ptr&quot;&gt;
 5340 	  &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5341 	  &lt;description&gt;
 5342 	    The referree object tag value, or zero if the object is not
 5343 	    tagged.
 5344 	    To set the tag value to be associated with the object
 5345 	    the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 5346 	  &lt;/description&gt;
 5347 	&lt;/param&gt;
 5348         &lt;param id=&quot;referrer_tag&quot;&gt;
 5349 	  &lt;jlong/&gt;
 5350 	  &lt;description&gt;
 5351 	    The tag of the referrer object, or zero if the referrer
 5352 	    object is not tagged.
 5353 	  &lt;/description&gt;
 5354 	&lt;/param&gt;
 5355 	&lt;param id=&quot;referrer_index&quot;&gt;
 5356 	  &lt;jint/&gt;
 5357 	  &lt;description&gt;
 5358 	    For references of type &lt;code&gt;JVMTI_REFERENCE_FIELD&lt;/code&gt; or
 5359             &lt;code&gt;JVMTI_REFERENCE_STATIC_FIELD&lt;/code&gt; the index
 5360 	    of the field in the referrer object. The index is based on the
 5361 	    order of all the object&#39;s fields - see &lt;internallink
 5362 	    id=&quot;JVMTI_REFERENCE_FIELD&quot;&gt;JVMTI_REFERENCE_FIELD&lt;/internallink&gt;
 5363             or &lt;internallink
 5364 	    id=&quot;JVMTI_REFERENCE_STATIC_FIELD&quot;&gt;JVMTI_REFERENCE_STATIC_FIELD
 5365 	    &lt;/internallink&gt; for further description.
 5366 	    &lt;p/&gt;
 5367 	    For references of type &lt;code&gt;JVMTI_REFERENCE_ARRAY_ELEMENT&lt;/code&gt;
 5368 	    the array index - see &lt;internallink id=&quot;JVMTI_REFERENCE_ARRAY_ELEMENT&quot;&gt;
 5369 	    JVMTI_REFERENCE_ARRAY_ELEMENT&lt;/internallink&gt; for further description.
 5370 	    &lt;p/&gt;
 5371 	    For references of type &lt;code&gt;JVMTI_REFERENCE_CONSTANT_POOL&lt;/code&gt;
 5372 	    the index into the constant pool of the class - see
 5373 	    &lt;internallink id=&quot;JVMTI_REFERENCE_CONSTANT_POOL&quot;&gt;
 5374 	    JVMTI_REFERENCE_CONSTANT_POOL&lt;/internallink&gt; for further
 5375 	    description.
 5376 	    &lt;p/&gt;
 5377 	    For references of other kinds the &lt;code&gt;referrer_index&lt;/code&gt; is
 5378 	    &lt;code&gt;-1&lt;/code&gt;.
 5379 	  &lt;/description&gt;
 5380 	&lt;/param&gt;
 5381         &lt;param id=&quot;user_data&quot;&gt;
 5382 	  &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 5383 	  &lt;description&gt;
 5384 	    The user supplied data that was passed into the iteration function.
 5385 	  &lt;/description&gt;
 5386 	&lt;/param&gt;
 5387       &lt;/parameters&gt;
 5388     &lt;/callback&gt;
 5389 
 5390     &lt;function id=&quot;IterateOverObjectsReachableFromObject&quot; num=&quot;109&quot;&gt;
 5391       &lt;synopsis&gt;Iterate Over Objects Reachable From Object&lt;/synopsis&gt;
 5392       &lt;description&gt;
 5393         This function iterates over all objects that are directly
 5394         and indirectly reachable from the specified object.
 5395 	For each object &lt;i&gt;A&lt;/i&gt; (known
 5396 	as the referrer) with a reference to object &lt;i&gt;B&lt;/i&gt; the specified
 5397 	callback function is called to describe the object reference.
 5398         The callback is called exactly once for each reference from a referrer;
 5399         this is true even if there are reference cycles or multiple paths to
 5400         the referrer.
 5401         There may be more than one reference between a referrer and a referree,
 5402         These may be distinguished by the
 5403         &lt;datalink id=&quot;jvmtiObjectReferenceCallback.reference_kind&quot;&gt;&lt;/datalink&gt; and
 5404         &lt;datalink id=&quot;jvmtiObjectReferenceCallback.referrer_index&quot;&gt;&lt;/datalink&gt;.
 5405         The callback for an object will always occur after the callback for
 5406         its referrer.
 5407         &lt;p/&gt;
 5408         See &lt;functionlink id=&quot;FollowReferences&quot;/&gt; for the object
 5409         references which are reported.
 5410         &lt;p/&gt;
 5411         During the execution of this function the state of the heap
 5412         does not change: no objects are allocated, no objects are
 5413         garbage collected, and the state of objects (including
 5414         held values) does not change.
 5415         As a result, threads executing Java
 5416         programming language code, threads attempting to resume the
 5417         execution of Java programming language code, and threads
 5418         attempting to execute JNI functions are typically stalled.
 5419       &lt;/description&gt;
 5420       &lt;origin&gt;new&lt;/origin&gt;
 5421       &lt;capabilities&gt;
 5422         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 5423       &lt;/capabilities&gt;
 5424       &lt;parameters&gt;
 5425         &lt;param id=&quot;object&quot;&gt;
 5426 	  &lt;jobject/&gt;
 5427 	    &lt;description&gt;
 5428 	      The object
 5429 	    &lt;/description&gt;
 5430 	&lt;/param&gt;
 5431         &lt;param id=&quot;object_reference_callback&quot;&gt;
 5432 	  &lt;ptrtype&gt;
 5433 	    &lt;struct&gt;jvmtiObjectReferenceCallback&lt;/struct&gt;
 5434 	  &lt;/ptrtype&gt;
 5435 	    &lt;description&gt;
 5436 	      The callback to be called to describe each
 5437 	      object reference.
 5438 	    &lt;/description&gt;
 5439 	&lt;/param&gt;
 5440         &lt;param id=&quot;user_data&quot;&gt;
 5441 	  &lt;inbuf&gt;
 5442 	    &lt;void/&gt;
 5443 	    &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 5444 	  &lt;/inbuf&gt;
 5445 	  &lt;description&gt;
 5446 	    User supplied data to be passed to the callback.
 5447 	  &lt;/description&gt;
 5448 	&lt;/param&gt;
 5449       &lt;/parameters&gt;
 5450       &lt;errors&gt;
 5451       &lt;/errors&gt;
 5452     &lt;/function&gt;
 5453 
 5454     &lt;function id=&quot;IterateOverReachableObjects&quot; num=&quot;110&quot;&gt;
 5455       &lt;synopsis&gt;Iterate Over Reachable Objects&lt;/synopsis&gt;
 5456       &lt;description&gt;
 5457         This function iterates over the root objects and all objects that
 5458         are directly and indirectly reachable from the root objects.
 5459 	The root objects comprise the set of system classes,
 5460 	JNI globals, references from thread stacks, and other objects used as roots
 5461 	for the purposes of garbage collection.
 5462 	&lt;p/&gt;
 5463 	For each root the &lt;paramlink id=&quot;heap_root_callback&quot;&gt;&lt;/paramlink&gt;
 5464 	or &lt;paramlink id=&quot;stack_ref_callback&quot;&gt;&lt;/paramlink&gt; callback is called.
 5465 	An object can be a root object for more than one reason and in that case
 5466 	the appropriate callback is called for each reason.
 5467 	&lt;p/&gt;
 5468 	For each object reference the &lt;paramlink id=&quot;object_ref_callback&quot;&gt;&lt;/paramlink&gt;
 5469 	callback function is called to describe the object reference.
 5470         The callback is called exactly once for each reference from a referrer;
 5471         this is true even if there are reference cycles or multiple paths to
 5472         the referrer.
 5473         There may be more than one reference between a referrer and a referree,
 5474         These may be distinguished by the
 5475         &lt;datalink id=&quot;jvmtiObjectReferenceCallback.reference_kind&quot;&gt;&lt;/datalink&gt; and
 5476         &lt;datalink id=&quot;jvmtiObjectReferenceCallback.referrer_index&quot;&gt;&lt;/datalink&gt;.
 5477         The callback for an object will always occur after the callback for
 5478         its referrer.
 5479         &lt;p/&gt;
 5480         See &lt;functionlink id=&quot;FollowReferences&quot;/&gt; for the object
 5481         references which are reported.
 5482 	&lt;p/&gt;
 5483 	Roots are always reported to the profiler before any object references
 5484 	are reported. In other words, the &lt;paramlink id=&quot;object_ref_callback&quot;&gt;&lt;/paramlink&gt;
 5485 	callback will not be called until the appropriate callback has been called
 5486 	for all roots. If the &lt;paramlink id=&quot;object_ref_callback&quot;&gt;&lt;/paramlink&gt; callback is
 5487 	specified as &lt;code&gt;NULL&lt;/code&gt; then this function returns after
 5488 	reporting the root objects to the profiler.
 5489         &lt;p/&gt;
 5490         During the execution of this function the state of the heap
 5491         does not change: no objects are allocated, no objects are
 5492         garbage collected, and the state of objects (including
 5493         held values) does not change.
 5494         As a result, threads executing Java
 5495         programming language code, threads attempting to resume the
 5496         execution of Java programming language code, and threads
 5497         attempting to execute JNI functions are typically stalled.
 5498       &lt;/description&gt;
 5499       &lt;origin&gt;new&lt;/origin&gt;
 5500       &lt;capabilities&gt;
 5501         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 5502       &lt;/capabilities&gt;
 5503       &lt;parameters&gt;
 5504         &lt;param id=&quot;heap_root_callback&quot;&gt;
 5505 	  &lt;ptrtype&gt;
 5506 	    &lt;struct&gt;jvmtiHeapRootCallback&lt;/struct&gt;
 5507 	    &lt;nullok&gt;do not report heap roots&lt;/nullok&gt;
 5508 	  &lt;/ptrtype&gt;
 5509 	    &lt;description&gt;
 5510 	      The callback function to be called for each heap root of type
 5511 	      &lt;code&gt;JVMTI_HEAP_ROOT_JNI_GLOBAL&lt;/code&gt;,
 5512 	      &lt;code&gt;JVMTI_HEAP_ROOT_SYSTEM_CLASS&lt;/code&gt;,
 5513 	      &lt;code&gt;JVMTI_HEAP_ROOT_MONITOR&lt;/code&gt;,
 5514 	      &lt;code&gt;JVMTI_HEAP_ROOT_THREAD&lt;/code&gt;, or
 5515 	      &lt;code&gt;JVMTI_HEAP_ROOT_OTHER&lt;/code&gt;.
 5516 	    &lt;/description&gt;
 5517 	&lt;/param&gt;
 5518         &lt;param id=&quot;stack_ref_callback&quot;&gt;
 5519 	  &lt;ptrtype&gt;
 5520 	    &lt;struct&gt;jvmtiStackReferenceCallback&lt;/struct&gt;
 5521 	    &lt;nullok&gt;do not report stack references&lt;/nullok&gt;
 5522 	  &lt;/ptrtype&gt;
 5523 	    &lt;description&gt;
 5524 	      The callback function to be called for each heap root of
 5525 	      &lt;code&gt;JVMTI_HEAP_ROOT_STACK_LOCAL&lt;/code&gt; or
 5526 	      &lt;code&gt;JVMTI_HEAP_ROOT_JNI_LOCAL&lt;/code&gt;.
 5527 	    &lt;/description&gt;
 5528 	&lt;/param&gt;
 5529         &lt;param id=&quot;object_ref_callback&quot;&gt;
 5530 	  &lt;ptrtype&gt;
 5531 	    &lt;struct&gt;jvmtiObjectReferenceCallback&lt;/struct&gt;
 5532 	    &lt;nullok&gt;do not follow references from the root objects&lt;/nullok&gt;
 5533 	  &lt;/ptrtype&gt;
 5534 	    &lt;description&gt;
 5535 	      The callback function to be called for each object reference.
 5536 	    &lt;/description&gt;
 5537 	&lt;/param&gt;
 5538         &lt;param id=&quot;user_data&quot;&gt;
 5539 	  &lt;inbuf&gt;
 5540 	    &lt;void/&gt;
 5541 	    &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 5542 	  &lt;/inbuf&gt;
 5543 	  &lt;description&gt;
 5544 	    User supplied data to be passed to the callback.
 5545 	  &lt;/description&gt;
 5546 	&lt;/param&gt;
 5547       &lt;/parameters&gt;
 5548       &lt;errors&gt;
 5549       &lt;/errors&gt;
 5550     &lt;/function&gt;
 5551 
 5552     &lt;function id=&quot;IterateOverHeap&quot; num=&quot;111&quot;&gt;
 5553       &lt;synopsis&gt;Iterate Over Heap&lt;/synopsis&gt;
 5554       &lt;description&gt;
 5555         Iterate over all objects in the heap. This includes both reachable and
 5556 	unreachable objects.
 5557 	&lt;p/&gt;
 5558 	The &lt;paramlink id=&quot;object_filter&quot;&gt;&lt;/paramlink&gt; parameter indicates the
 5559 	objects for which the callback function is called. If this parameter
 5560 	is &lt;code&gt;JVMTI_HEAP_OBJECT_TAGGED&lt;/code&gt; then the callback will only be
 5561 	called for every object that is tagged. If the parameter is
 5562 	&lt;code&gt;JVMTI_HEAP_OBJECT_UNTAGGED&lt;/code&gt; then the callback will only be
 5563 	for objects that are not tagged. If the parameter
 5564 	is &lt;code&gt;JVMTI_HEAP_OBJECT_EITHER&lt;/code&gt; then the callback will be
 5565 	called for every object in the heap, irrespective of whether it is
 5566 	tagged or not.
 5567         &lt;p/&gt;
 5568         During the execution of this function the state of the heap
 5569         does not change: no objects are allocated, no objects are
 5570         garbage collected, and the state of objects (including
 5571         held values) does not change.
 5572         As a result, threads executing Java
 5573         programming language code, threads attempting to resume the
 5574         execution of Java programming language code, and threads
 5575         attempting to execute JNI functions are typically stalled.
 5576       &lt;/description&gt;
 5577       &lt;origin&gt;new&lt;/origin&gt;
 5578       &lt;capabilities&gt;
 5579         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 5580       &lt;/capabilities&gt;
 5581       &lt;parameters&gt;
 5582 	&lt;param id=&quot;object_filter&quot;&gt;
 5583 	  &lt;enum&gt;jvmtiHeapObjectFilter&lt;/enum&gt;
 5584 	  &lt;description&gt;
 5585 	    Indicates the objects for which the callback function is called.
 5586 	  &lt;/description&gt;
 5587 	&lt;/param&gt;
 5588         &lt;param id=&quot;heap_object_callback&quot;&gt;
 5589 	  &lt;ptrtype&gt;
 5590 	    &lt;struct&gt;jvmtiHeapObjectCallback&lt;/struct&gt;
 5591 	  &lt;/ptrtype&gt;
 5592 	    &lt;description&gt;
 5593 	      The iterator function to be called for each
 5594 	      object matching the &lt;paramlink id=&quot;object_filter&quot;/&gt;.
 5595 	    &lt;/description&gt;
 5596 	&lt;/param&gt;
 5597         &lt;param id=&quot;user_data&quot;&gt;
 5598 	  &lt;inbuf&gt;
 5599 	    &lt;void/&gt;
 5600 	    &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 5601 	  &lt;/inbuf&gt;
 5602 	  &lt;description&gt;
 5603 	    User supplied data to be passed to the callback.
 5604 	  &lt;/description&gt;
 5605 	&lt;/param&gt;
 5606       &lt;/parameters&gt;
 5607       &lt;errors&gt;
 5608       &lt;/errors&gt;
 5609     &lt;/function&gt;
 5610 
 5611     &lt;function id=&quot;IterateOverInstancesOfClass&quot; num=&quot;112&quot;&gt;
 5612       &lt;synopsis&gt;Iterate Over Instances Of Class&lt;/synopsis&gt;
 5613       &lt;description&gt;
 5614         Iterate over all objects in the heap that are instances of the specified class.
 5615         This includes direct instances of the specified class and
 5616         instances of all subclasses of the specified class.
 5617 	This includes both reachable and unreachable objects.
 5618 	&lt;p/&gt;
 5619 	The &lt;paramlink id=&quot;object_filter&quot;&gt;&lt;/paramlink&gt; parameter indicates the
 5620 	objects for which the callback function is called. If this parameter
 5621 	is &lt;code&gt;JVMTI_HEAP_OBJECT_TAGGED&lt;/code&gt; then the callback will only be
 5622 	called for every object that is tagged. If the parameter is
 5623 	&lt;code&gt;JVMTI_HEAP_OBJECT_UNTAGGED&lt;/code&gt; then the callback will only be
 5624 	called for objects that are not tagged. If the parameter
 5625 	is &lt;code&gt;JVMTI_HEAP_OBJECT_EITHER&lt;/code&gt; then the callback will be
 5626 	called for every object in the heap, irrespective of whether it is
 5627 	tagged or not.
 5628 	&lt;p/&gt;
 5629 	During the execution of this function the state of the heap
 5630 	does not change: no objects are allocated, no objects are
 5631 	garbage collected, and the state of objects (including
 5632 	held values) does not change.
 5633 	As a result, threads executing Java
 5634 	programming language code, threads attempting to resume the
 5635 	execution of Java programming language code, and threads
 5636 	attempting to execute JNI functions are typically stalled.
 5637       &lt;/description&gt;
 5638       &lt;origin&gt;new&lt;/origin&gt;
 5639       &lt;capabilities&gt;
 5640         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 5641       &lt;/capabilities&gt;
 5642       &lt;parameters&gt;
 5643 	&lt;param id=&quot;klass&quot;&gt;
 5644 	  &lt;jclass/&gt;
 5645 	    &lt;description&gt;
 5646 	      Iterate over objects of this class only.
 5647 	    &lt;/description&gt;
 5648 	&lt;/param&gt;
 5649 	&lt;param id=&quot;object_filter&quot;&gt;
 5650 	  &lt;enum&gt;jvmtiHeapObjectFilter&lt;/enum&gt;
 5651 	  &lt;description&gt;
 5652 	    Indicates the objects for which the callback function is called.
 5653 	  &lt;/description&gt;
 5654 	&lt;/param&gt;
 5655 	&lt;param id=&quot;heap_object_callback&quot;&gt;
 5656 	  &lt;ptrtype&gt;
 5657 	    &lt;struct&gt;jvmtiHeapObjectCallback&lt;/struct&gt;
 5658 	  &lt;/ptrtype&gt;
 5659 	    &lt;description&gt;
 5660 	      The iterator function to be called for each
 5661 	      &lt;paramlink id=&quot;klass&quot;/&gt; instance matching
 5662               the &lt;paramlink id=&quot;object_filter&quot;/&gt;.
 5663 	    &lt;/description&gt;
 5664 	&lt;/param&gt;
 5665         &lt;param id=&quot;user_data&quot;&gt;
 5666 	  &lt;inbuf&gt;
 5667 	    &lt;void/&gt;
 5668 	    &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 5669 	  &lt;/inbuf&gt;
 5670 	  &lt;description&gt;
 5671 	    User supplied data to be passed to the callback.
 5672 	  &lt;/description&gt;
 5673 	&lt;/param&gt;
 5674       &lt;/parameters&gt;
 5675       &lt;errors&gt;
 5676       &lt;/errors&gt;
 5677     &lt;/function&gt;
 5678 
 5679   &lt;/category&gt;
 5680 
 5681   &lt;category id=&quot;local&quot; label=&quot;Local Variable&quot;&gt;
 5682 
 5683     &lt;intro&gt;
 5684       These functions are used to retrieve or set the value of a local variable.
 5685       The variable is identified by the depth of the frame containing its
 5686       value and the variable&#39;s slot number within that frame.
 5687       The mapping of variables to
 5688       slot numbers can be obtained with the function
 5689       &lt;functionlink id=&quot;GetLocalVariableTable&quot;&gt;&lt;/functionlink&gt;.
 5690     &lt;/intro&gt;
 5691 
 5692     &lt;function id=&quot;GetLocalObject&quot; num=&quot;21&quot;&gt;
 5693       &lt;synopsis&gt;Get Local Variable - Object&lt;/synopsis&gt;
 5694       &lt;description&gt;
 5695 	This function can be used to retrieve the value of a local
 5696         variable whose type is &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 5697       &lt;/description&gt;
 5698       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5699       &lt;capabilities&gt;
 5700 	&lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5701       &lt;/capabilities&gt;
 5702       &lt;parameters&gt;
 5703  	&lt;param id=&quot;thread&quot;&gt;
 5704 	  &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5705 	  &lt;description&gt;
 5706 	    The thread of the frame containing the variable&#39;s value.
 5707 	  &lt;/description&gt;
 5708 	&lt;/param&gt;
 5709 	&lt;param id=&quot;depth&quot;&gt;
 5710 	  &lt;jframeID thread=&quot;thread&quot;/&gt;
 5711 	  &lt;description&gt;
 5712 	    The depth of the frame containing the variable&#39;s value.
 5713 	  &lt;/description&gt;
 5714 	&lt;/param&gt;
 5715 	&lt;param id=&quot;slot&quot;&gt;
 5716 	  &lt;jint/&gt;
 5717 	  &lt;description&gt;
 5718 	    The variable&#39;s slot number.
 5719 	  &lt;/description&gt;
 5720 	&lt;/param&gt;
 5721 	&lt;param id=&quot;value_ptr&quot;&gt;
 5722 	  &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 5723 	    &lt;description&gt;
 5724 	      On return, points to the variable&#39;s value.
 5725 	    &lt;/description&gt;
 5726 	&lt;/param&gt;
 5727       &lt;/parameters&gt;
 5728       &lt;errors&gt;
 5729 	&lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5730 	  Invalid &lt;code&gt;slot&lt;/code&gt;.
 5731 	&lt;/error&gt;
 5732 	&lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5733           The variable type is not
 5734           &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 5735 	&lt;/error&gt;
 5736 	&lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5737 	  Not a visible frame
 5738 	&lt;/error&gt;
 5739       &lt;/errors&gt;
 5740     &lt;/function&gt;
 5741 
 5742     &lt;function id=&quot;GetLocalInstance&quot; num=&quot;155&quot; since=&quot;1.2&quot;&gt;
 5743       &lt;synopsis&gt;Get Local Instance&lt;/synopsis&gt;
 5744       &lt;description&gt;
 5745         This function can be used to retrieve the value of the local object
 5746         variable at slot 0 (the &quot;&lt;code&gt;this&lt;/code&gt;&quot; object) from non-static
 5747         frames.  This function can retrieve the &quot;&lt;code&gt;this&lt;/code&gt;&quot; object from
 5748         native method frames, whereas &lt;code&gt;GetLocalObject()&lt;/code&gt; would
 5749         return &lt;code&gt;JVMTI_ERROR_OPAQUE_FRAME&lt;/code&gt; in those cases.
 5750       &lt;/description&gt;
 5751       &lt;origin&gt;new&lt;/origin&gt;
 5752       &lt;capabilities&gt;
 5753 	&lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5754       &lt;/capabilities&gt;
 5755       &lt;parameters&gt;
 5756  	&lt;param id=&quot;thread&quot;&gt;
 5757 	  &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5758 	  &lt;description&gt;
 5759 	    The thread of the frame containing the variable&#39;s value.
 5760 	  &lt;/description&gt;
 5761 	&lt;/param&gt;
 5762 	&lt;param id=&quot;depth&quot;&gt;
 5763 	  &lt;jframeID thread=&quot;thread&quot;/&gt;
 5764 	  &lt;description&gt;
 5765 	    The depth of the frame containing the variable&#39;s value.
 5766 	  &lt;/description&gt;
 5767 	&lt;/param&gt;
 5768 	&lt;param id=&quot;value_ptr&quot;&gt;
 5769 	  &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 5770 	    &lt;description&gt;
 5771 	      On return, points to the variable&#39;s value.
 5772 	    &lt;/description&gt;
 5773 	&lt;/param&gt;
 5774       &lt;/parameters&gt;
 5775       &lt;errors&gt;
 5776 	&lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5777 	  If the specified frame is a static method frame.
 5778 	&lt;/error&gt;
 5779       &lt;/errors&gt;
 5780     &lt;/function&gt;
 5781     &lt;function id=&quot;GetLocalInt&quot; num=&quot;22&quot;&gt;
 5782       &lt;synopsis&gt;Get Local Variable - Int&lt;/synopsis&gt;
 5783       &lt;description&gt;
 5784 	This function can be used to retrieve the value of a local
 5785         variable whose type is &lt;code&gt;int&lt;/code&gt;,
 5786         &lt;code&gt;short&lt;/code&gt;, &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 5787 	&lt;code&gt;boolean&lt;/code&gt;.
 5788       &lt;/description&gt;
 5789       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5790       &lt;capabilities&gt;
 5791 	&lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5792       &lt;/capabilities&gt;
 5793       &lt;parameters&gt;
 5794  	&lt;param id=&quot;thread&quot;&gt;
 5795 	  &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5796 	  &lt;description&gt;
 5797 	    The thread of the frame containing the variable&#39;s value.
 5798 	  &lt;/description&gt;
 5799 	&lt;/param&gt;
 5800 	&lt;param id=&quot;depth&quot;&gt;
 5801 	  &lt;jframeID thread=&quot;thread&quot;/&gt;
 5802 	  &lt;description&gt;
 5803 	    The depth of the frame containing the variable&#39;s value.
 5804 	  &lt;/description&gt;
 5805 	&lt;/param&gt;
 5806 	&lt;param id=&quot;slot&quot;&gt;
 5807 	  &lt;jint/&gt;
 5808 	  &lt;description&gt;
 5809 	    The variable&#39;s slot number.
 5810 	  &lt;/description&gt;
 5811 	&lt;/param&gt;
 5812 	&lt;param id=&quot;value_ptr&quot;&gt;
 5813 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 5814 	  &lt;description&gt;
 5815 	    On return, points to the variable&#39;s value.
 5816 	  &lt;/description&gt;
 5817 	&lt;/param&gt;
 5818       &lt;/parameters&gt;
 5819       &lt;errors&gt;
 5820 	&lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5821 	  Invalid &lt;code&gt;slot&lt;/code&gt;.
 5822 	&lt;/error&gt;
 5823 	&lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5824 	  The variable type is not
 5825           &lt;code&gt;int&lt;/code&gt;, &lt;code&gt;short&lt;/code&gt;,
 5826           &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 5827   	  &lt;code&gt;boolean&lt;/code&gt;.
 5828 	&lt;/error&gt;
 5829 	&lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5830 	  Not a visible frame
 5831 	&lt;/error&gt;
 5832       &lt;/errors&gt;
 5833     &lt;/function&gt;
 5834 
 5835     &lt;function id=&quot;GetLocalLong&quot; num=&quot;23&quot;&gt;
 5836       &lt;synopsis&gt;Get Local Variable - Long&lt;/synopsis&gt;
 5837       &lt;description&gt;
 5838 	This function can be used to retrieve the value of a local
 5839         variable whose type is &lt;code&gt;long&lt;/code&gt;.
 5840       &lt;/description&gt;
 5841       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5842       &lt;capabilities&gt;
 5843 	&lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5844       &lt;/capabilities&gt;
 5845       &lt;parameters&gt;
 5846  	&lt;param id=&quot;thread&quot;&gt;
 5847 	  &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5848 	  &lt;description&gt;
 5849 	    The thread of the frame containing the variable&#39;s value.
 5850 	  &lt;/description&gt;
 5851 	&lt;/param&gt;
 5852 	&lt;param id=&quot;depth&quot;&gt;
 5853 	  &lt;jframeID thread=&quot;thread&quot;/&gt;
 5854 	  &lt;description&gt;
 5855 	    The depth of the frame containing the variable&#39;s value.
 5856 	  &lt;/description&gt;
 5857 	&lt;/param&gt;
 5858 	&lt;param id=&quot;slot&quot;&gt;
 5859 	  &lt;jint/&gt;
 5860 	  &lt;description&gt;
 5861 	    The variable&#39;s slot number.
 5862 	  &lt;/description&gt;
 5863 	&lt;/param&gt;
 5864 	&lt;param id=&quot;value_ptr&quot;&gt;
 5865 	  &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5866 	  &lt;description&gt;
 5867 	    On return, points to the variable&#39;s value.
 5868 	  &lt;/description&gt;
 5869 	&lt;/param&gt;
 5870       &lt;/parameters&gt;
 5871       &lt;errors&gt;
 5872 	&lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5873 	  Invalid &lt;code&gt;slot&lt;/code&gt;.
 5874 	&lt;/error&gt;
 5875 	&lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5876 	  The variable type is not &lt;code&gt;long&lt;/code&gt;.
 5877 	&lt;/error&gt;
 5878 	&lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5879 	  Not a visible frame
 5880 	&lt;/error&gt;
 5881       &lt;/errors&gt;
 5882     &lt;/function&gt;
 5883 
 5884     &lt;function id=&quot;GetLocalFloat&quot; num=&quot;24&quot;&gt;
 5885       &lt;synopsis&gt;Get Local Variable - Float&lt;/synopsis&gt;
 5886       &lt;description&gt;
 5887 	This function can be used to retrieve the value of a local
 5888         variable whose type is &lt;code&gt;float&lt;/code&gt;.
 5889       &lt;/description&gt;
 5890       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5891       &lt;capabilities&gt;
 5892 	&lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5893       &lt;/capabilities&gt;
 5894       &lt;parameters&gt;
 5895  	&lt;param id=&quot;thread&quot;&gt;
 5896 	  &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5897 	  &lt;description&gt;
 5898 	    The thread of the frame containing the variable&#39;s value.
 5899 	  &lt;/description&gt;
 5900 	&lt;/param&gt;
 5901 	&lt;param id=&quot;depth&quot;&gt;
 5902 	  &lt;jframeID thread=&quot;thread&quot;/&gt;
 5903 	  &lt;description&gt;
 5904 	    The depth of the frame containing the variable&#39;s value.
 5905 	  &lt;/description&gt;
 5906 	&lt;/param&gt;
 5907 	&lt;param id=&quot;slot&quot;&gt;
 5908 	  &lt;jint/&gt;
 5909 	  &lt;description&gt;
 5910 	    The variable&#39;s slot number.
 5911 	  &lt;/description&gt;
 5912 	&lt;/param&gt;
 5913 	&lt;param id=&quot;value_ptr&quot;&gt;
 5914 	  &lt;outptr&gt;&lt;jfloat/&gt;&lt;/outptr&gt;
 5915 	  &lt;description&gt;
 5916 	    On return, points to the variable&#39;s value.
 5917 	  &lt;/description&gt;
 5918 	&lt;/param&gt;
 5919       &lt;/parameters&gt;
 5920       &lt;errors&gt;
 5921 	&lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5922 	  Invalid &lt;code&gt;slot&lt;/code&gt;.
 5923 	&lt;/error&gt;
 5924 	&lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5925 	  The variable type is not &lt;code&gt;float&lt;/code&gt;.
 5926 	&lt;/error&gt;
 5927 	&lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5928 	  Not a visible frame
 5929 	&lt;/error&gt;
 5930       &lt;/errors&gt;
 5931     &lt;/function&gt;
 5932 
 5933     &lt;function id=&quot;GetLocalDouble&quot; num=&quot;25&quot;&gt;
 5934       &lt;synopsis&gt;Get Local Variable - Double&lt;/synopsis&gt;
 5935       &lt;description&gt;
 5936 	This function can be used to retrieve the value of a local
 5937         variable whose type is &lt;code&gt;long&lt;/code&gt;.
 5938       &lt;/description&gt;
 5939       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5940       &lt;capabilities&gt;
 5941 	&lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5942       &lt;/capabilities&gt;
 5943       &lt;parameters&gt;
 5944  	&lt;param id=&quot;thread&quot;&gt;
 5945 	  &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5946 	  &lt;description&gt;
 5947 	    The thread of the frame containing the variable&#39;s value.
 5948 	  &lt;/description&gt;
 5949 	&lt;/param&gt;
 5950 	&lt;param id=&quot;depth&quot;&gt;
 5951 	  &lt;jframeID thread=&quot;thread&quot;/&gt;
 5952 	  &lt;description&gt;
 5953 	    The depth of the frame containing the variable&#39;s value.
 5954 	  &lt;/description&gt;
 5955 	&lt;/param&gt;
 5956 	&lt;param id=&quot;slot&quot;&gt;
 5957 	  &lt;jint/&gt;
 5958 	  &lt;description&gt;
 5959 	    The variable&#39;s slot number.
 5960 	  &lt;/description&gt;
 5961 	&lt;/param&gt;
 5962 	&lt;param id=&quot;value_ptr&quot;&gt;
 5963 	  &lt;outptr&gt;&lt;jdouble/&gt;&lt;/outptr&gt;
 5964 	  &lt;description&gt;
 5965 	    On return, points to the variable&#39;s value.
 5966 	  &lt;/description&gt;
 5967 	&lt;/param&gt;
 5968       &lt;/parameters&gt;
 5969       &lt;errors&gt;
 5970 	&lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5971 	  Invalid &lt;code&gt;slot&lt;/code&gt;.
 5972 	&lt;/error&gt;
 5973 	&lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5974 	  The variable type is not &lt;code&gt;double&lt;/code&gt;.
 5975 	&lt;/error&gt;
 5976 	&lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5977 	  Not a visible frame
 5978 	&lt;/error&gt;
 5979       &lt;/errors&gt;
 5980     &lt;/function&gt;
 5981 
 5982     &lt;function id=&quot;SetLocalObject&quot; num=&quot;26&quot;&gt;
 5983       &lt;synopsis&gt;Set Local Variable - Object&lt;/synopsis&gt;
 5984       &lt;description&gt;
 5985 	This function can be used to set the value of a local
 5986         variable whose type is &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 5987       &lt;/description&gt;
 5988       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5989       &lt;capabilities&gt;
 5990 	&lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5991       &lt;/capabilities&gt;
 5992       &lt;parameters&gt;
 5993  	&lt;param id=&quot;thread&quot;&gt;
 5994 	  &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5995 	  &lt;description&gt;
 5996 	    The thread of the frame containing the variable&#39;s value.
 5997 	  &lt;/description&gt;
 5998 	&lt;/param&gt;
 5999 	&lt;param id=&quot;depth&quot;&gt;
 6000 	  &lt;jframeID thread=&quot;thread&quot;/&gt;
 6001 	  &lt;description&gt;
 6002 	    The depth of the frame containing the variable&#39;s value.
 6003 	  &lt;/description&gt;
 6004 	&lt;/param&gt;
 6005 	&lt;param id=&quot;slot&quot;&gt;
 6006 	  &lt;jint/&gt;
 6007 	  &lt;description&gt;
 6008 	    The variable&#39;s slot number.
 6009 	  &lt;/description&gt;
 6010 	&lt;/param&gt;
 6011 	&lt;param id=&quot;value&quot;&gt;
 6012 	  &lt;jobject/&gt;
 6013 	    &lt;description&gt;
 6014 	      The new value for the variable.
 6015 	    &lt;/description&gt;
 6016 	&lt;/param&gt;
 6017       &lt;/parameters&gt;
 6018       &lt;errors&gt;
 6019 	&lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6020 	  Invalid &lt;code&gt;slot&lt;/code&gt;.
 6021 	&lt;/error&gt;
 6022 	&lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6023 	  The variable type is not
 6024 	  &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 6025 	&lt;/error&gt;
 6026 	&lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6027 	  The supplied &lt;paramlink id=&quot;value&quot;/&gt; is not compatible
 6028 	  with the variable type.
 6029 	&lt;/error&gt;
 6030 	&lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6031 	  Not a visible frame
 6032 	&lt;/error&gt;
 6033       &lt;/errors&gt;
 6034     &lt;/function&gt;
 6035 
 6036     &lt;function id=&quot;SetLocalInt&quot; num=&quot;27&quot;&gt;
 6037       &lt;synopsis&gt;Set Local Variable - Int&lt;/synopsis&gt;
 6038       &lt;description&gt;
 6039 	This function can be used to set the value of a local
 6040         variable whose type is &lt;code&gt;int&lt;/code&gt;,
 6041         &lt;code&gt;short&lt;/code&gt;, &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 6042 	&lt;code&gt;boolean&lt;/code&gt;.
 6043       &lt;/description&gt;
 6044       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6045       &lt;capabilities&gt;
 6046 	&lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 6047       &lt;/capabilities&gt;
 6048       &lt;parameters&gt;
 6049  	&lt;param id=&quot;thread&quot;&gt;
 6050 	  &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 6051 	  &lt;description&gt;
 6052 	    The thread of the frame containing the variable&#39;s value.
 6053 	  &lt;/description&gt;
 6054 	&lt;/param&gt;
 6055 	&lt;param id=&quot;depth&quot;&gt;
 6056 	  &lt;jframeID thread=&quot;thread&quot;/&gt;
 6057 	  &lt;description&gt;
 6058 	    The depth of the frame containing the variable&#39;s value.
 6059 	  &lt;/description&gt;
 6060 	&lt;/param&gt;
 6061 	&lt;param id=&quot;slot&quot;&gt;
 6062 	  &lt;jint/&gt;
 6063 	  &lt;description&gt;
 6064 	    The variable&#39;s slot number.
 6065 	  &lt;/description&gt;
 6066 	&lt;/param&gt;
 6067 	&lt;param id=&quot;value&quot;&gt;
 6068 	  &lt;jint/&gt;
 6069 	  &lt;description&gt;
 6070 	    The new value for the variable.
 6071 	  &lt;/description&gt;
 6072 	&lt;/param&gt;
 6073       &lt;/parameters&gt;
 6074       &lt;errors&gt;
 6075 	&lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6076 	  Invalid &lt;code&gt;slot&lt;/code&gt;.
 6077 	&lt;/error&gt;
 6078 	&lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6079 	  The variable type is not
 6080           &lt;code&gt;int&lt;/code&gt;, &lt;code&gt;short&lt;/code&gt;,
 6081           &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 6082   	  &lt;code&gt;boolean&lt;/code&gt;.
 6083 	&lt;/error&gt;
 6084 	&lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6085 	  Not a visible frame
 6086 	&lt;/error&gt;
 6087       &lt;/errors&gt;
 6088     &lt;/function&gt;
 6089 
 6090     &lt;function id=&quot;SetLocalLong&quot; num=&quot;28&quot;&gt;
 6091       &lt;synopsis&gt;Set Local Variable - Long&lt;/synopsis&gt;
 6092       &lt;description&gt;
 6093 	This function can be used to set the value of a local
 6094         variable whose type is &lt;code&gt;long&lt;/code&gt;.
 6095       &lt;/description&gt;
 6096       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6097       &lt;capabilities&gt;
 6098 	&lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 6099       &lt;/capabilities&gt;
 6100       &lt;parameters&gt;
 6101  	&lt;param id=&quot;thread&quot;&gt;
 6102 	  &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 6103 	  &lt;description&gt;
 6104 	    The thread of the frame containing the variable&#39;s value.
 6105 	  &lt;/description&gt;
 6106 	&lt;/param&gt;
 6107 	&lt;param id=&quot;depth&quot;&gt;
 6108 	  &lt;jframeID thread=&quot;thread&quot;/&gt;
 6109 	  &lt;description&gt;
 6110 	    The depth of the frame containing the variable&#39;s value.
 6111 	  &lt;/description&gt;
 6112 	&lt;/param&gt;
 6113 	&lt;param id=&quot;slot&quot;&gt;
 6114 	  &lt;jint/&gt;
 6115 	  &lt;description&gt;
 6116 	    The variable&#39;s slot number.
 6117 	  &lt;/description&gt;
 6118 	&lt;/param&gt;
 6119 	&lt;param id=&quot;value&quot;&gt;
 6120 	  &lt;jlong/&gt;
 6121 	  &lt;description&gt;
 6122 	    The new value for the variable.
 6123 	  &lt;/description&gt;
 6124 	&lt;/param&gt;
 6125       &lt;/parameters&gt;
 6126       &lt;errors&gt;
 6127 	&lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6128 	  Invalid &lt;code&gt;slot&lt;/code&gt;.
 6129 	&lt;/error&gt;
 6130 	&lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6131 	  The variable type is not &lt;code&gt;long&lt;/code&gt;.
 6132 	&lt;/error&gt;
 6133 	&lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6134 	  Not a visible frame
 6135 	&lt;/error&gt;
 6136       &lt;/errors&gt;
 6137     &lt;/function&gt;
 6138 
 6139     &lt;function id=&quot;SetLocalFloat&quot; num=&quot;29&quot;&gt;
 6140       &lt;synopsis&gt;Set Local Variable - Float&lt;/synopsis&gt;
 6141       &lt;description&gt;
 6142 	This function can be used to set the value of a local
 6143         variable whose type is &lt;code&gt;float&lt;/code&gt;.
 6144       &lt;/description&gt;
 6145       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6146       &lt;capabilities&gt;
 6147 	&lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 6148       &lt;/capabilities&gt;
 6149       &lt;parameters&gt;
 6150  	&lt;param id=&quot;thread&quot;&gt;
 6151 	  &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 6152 	  &lt;description&gt;
 6153 	    The thread of the frame containing the variable&#39;s value.
 6154 	  &lt;/description&gt;
 6155 	&lt;/param&gt;
 6156 	&lt;param id=&quot;depth&quot;&gt;
 6157 	  &lt;jframeID thread=&quot;thread&quot;/&gt;
 6158 	  &lt;description&gt;
 6159 	    The depth of the frame containing the variable&#39;s value.
 6160 	  &lt;/description&gt;
 6161 	&lt;/param&gt;
 6162 	&lt;param id=&quot;slot&quot;&gt;
 6163 	  &lt;jint/&gt;
 6164 	  &lt;description&gt;
 6165 	    The variable&#39;s slot number.
 6166 	  &lt;/description&gt;
 6167 	&lt;/param&gt;
 6168 	&lt;param id=&quot;value&quot;&gt;
 6169 	  &lt;jfloat/&gt;
 6170 	  &lt;description&gt;
 6171 	    The new value for the variable.
 6172 	  &lt;/description&gt;
 6173 	&lt;/param&gt;
 6174       &lt;/parameters&gt;
 6175       &lt;errors&gt;
 6176 	&lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6177 	  Invalid &lt;code&gt;slot&lt;/code&gt;.
 6178 	&lt;/error&gt;
 6179 	&lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6180 	  The variable type is not &lt;code&gt;float&lt;/code&gt;.
 6181 	&lt;/error&gt;
 6182 	&lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6183 	  Not a visible frame
 6184 	&lt;/error&gt;
 6185       &lt;/errors&gt;
 6186     &lt;/function&gt;
 6187 
 6188     &lt;function id=&quot;SetLocalDouble&quot; num=&quot;30&quot;&gt;
 6189       &lt;synopsis&gt;Set Local Variable - Double&lt;/synopsis&gt;
 6190       &lt;description&gt;
 6191 	This function can be used to set the value of a local
 6192         variable whose type is &lt;code&gt;double&lt;/code&gt;.
 6193       &lt;/description&gt;
 6194       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6195       &lt;capabilities&gt;
 6196 	&lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 6197       &lt;/capabilities&gt;
 6198       &lt;parameters&gt;
 6199  	&lt;param id=&quot;thread&quot;&gt;
 6200 	  &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 6201 	  &lt;description&gt;
 6202 	    The thread of the frame containing the variable&#39;s value.
 6203 	  &lt;/description&gt;
 6204 	&lt;/param&gt;
 6205 	&lt;param id=&quot;depth&quot;&gt;
 6206 	  &lt;jframeID thread=&quot;thread&quot;/&gt;
 6207 	  &lt;description&gt;
 6208 	    The depth of the frame containing the variable&#39;s value.
 6209 	  &lt;/description&gt;
 6210 	&lt;/param&gt;
 6211 	&lt;param id=&quot;slot&quot;&gt;
 6212 	  &lt;jint/&gt;
 6213 	  &lt;description&gt;
 6214 	    The variable&#39;s slot number.
 6215 	  &lt;/description&gt;
 6216 	&lt;/param&gt;
 6217 	&lt;param id=&quot;value&quot;&gt;
 6218 	  &lt;jdouble/&gt;
 6219 	  &lt;description&gt;
 6220 	    The new value for the variable.
 6221 	  &lt;/description&gt;
 6222 	&lt;/param&gt;
 6223       &lt;/parameters&gt;
 6224       &lt;errors&gt;
 6225 	&lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6226 	  Invalid &lt;code&gt;slot&lt;/code&gt;.
 6227 	&lt;/error&gt;
 6228 	&lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6229 	  The variable type is not &lt;code&gt;double&lt;/code&gt;.
 6230 	&lt;/error&gt;
 6231 	&lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6232 	  Not a visible frame
 6233 	&lt;/error&gt;
 6234       &lt;/errors&gt;
 6235     &lt;/function&gt;
 6236   &lt;/category&gt;
 6237 
 6238   &lt;category id=&quot;breakpointCategory&quot; label=&quot;Breakpoint&quot;&gt;
 6239 
 6240     &lt;intro&gt;
 6241     &lt;/intro&gt;
 6242 
 6243     &lt;function id=&quot;SetBreakpoint&quot; num=&quot;38&quot;&gt;
 6244       &lt;synopsis&gt;Set Breakpoint&lt;/synopsis&gt;
 6245       &lt;description&gt;
 6246 	Set a breakpoint at the instruction indicated by
 6247 	&lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;.
 6248 	An instruction can only have one breakpoint.
 6249 	&lt;p/&gt;
 6250 	Whenever the designated instruction is about to be executed, a
 6251 	&lt;eventlink id=&quot;Breakpoint&quot;&gt;&lt;/eventlink&gt; event is generated.
 6252       &lt;/description&gt;
 6253       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6254       &lt;capabilities&gt;
 6255 	&lt;required id=&quot;can_generate_breakpoint_events&quot;&gt;&lt;/required&gt;
 6256       &lt;/capabilities&gt;
 6257       &lt;parameters&gt;
 6258 	&lt;param id=&quot;klass&quot;&gt;
 6259 	  &lt;jclass method=&quot;method&quot;/&gt;
 6260 	    &lt;description&gt;
 6261 	      The class in which to set the breakpoint
 6262 	    &lt;/description&gt;
 6263 	&lt;/param&gt;
 6264 	&lt;param id=&quot;method&quot;&gt;
 6265 	  &lt;jmethodID class=&quot;klass&quot;/&gt;
 6266 	    &lt;description&gt;
 6267 	      The method in which to set the breakpoint
 6268 	    &lt;/description&gt;
 6269 	&lt;/param&gt;
 6270 	&lt;param id=&quot;location&quot;&gt;
 6271 	  &lt;jlocation/&gt;
 6272 	  &lt;description&gt;
 6273 	    the index of the instruction at which to set the breakpoint
 6274 
 6275 	  &lt;/description&gt;
 6276 	&lt;/param&gt;
 6277       &lt;/parameters&gt;
 6278       &lt;errors&gt;
 6279 	&lt;error id=&quot;JVMTI_ERROR_DUPLICATE&quot;&gt;
 6280 	  The designated bytecode already has a breakpoint.
 6281 	&lt;/error&gt;
 6282       &lt;/errors&gt;
 6283     &lt;/function&gt;
 6284 
 6285     &lt;function id=&quot;ClearBreakpoint&quot; num=&quot;39&quot;&gt;
 6286       &lt;synopsis&gt;Clear Breakpoint&lt;/synopsis&gt;
 6287       &lt;description&gt;
 6288 	Clear the breakpoint at the bytecode indicated by
 6289 	&lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;.
 6290       &lt;/description&gt;
 6291       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6292       &lt;capabilities&gt;
 6293 	&lt;required id=&quot;can_generate_breakpoint_events&quot;&gt;&lt;/required&gt;
 6294       &lt;/capabilities&gt;
 6295       &lt;parameters&gt;
 6296 	&lt;param id=&quot;klass&quot;&gt;
 6297 	  &lt;jclass method=&quot;method&quot;/&gt;
 6298 	    &lt;description&gt;
 6299 	      The class in which to clear the breakpoint
 6300 	    &lt;/description&gt;
 6301 	&lt;/param&gt;
 6302 	&lt;param id=&quot;method&quot;&gt;
 6303 	  &lt;jmethodID class=&quot;klass&quot;/&gt;
 6304 	    &lt;description&gt;
 6305 	      The method in which to clear the breakpoint
 6306 	    &lt;/description&gt;
 6307 	&lt;/param&gt;
 6308 	&lt;param id=&quot;location&quot;&gt;
 6309 	  &lt;jlocation/&gt;
 6310 	  &lt;description&gt;
 6311 	    the index of the instruction at which to clear the breakpoint
 6312 	  &lt;/description&gt;
 6313 	&lt;/param&gt;
 6314       &lt;/parameters&gt;
 6315       &lt;errors&gt;
 6316 	&lt;error id=&quot;JVMTI_ERROR_NOT_FOUND&quot;&gt;
 6317 	  There&#39;s no breakpoint at the designated bytecode.
 6318 	&lt;/error&gt;
 6319       &lt;/errors&gt;
 6320     &lt;/function&gt;
 6321 
 6322   &lt;/category&gt;
 6323 
 6324   &lt;category id=&quot;fieldWatch&quot; label=&quot;Watched Field&quot;&gt;
 6325 
 6326     &lt;intro&gt;
 6327     &lt;/intro&gt;
 6328 
 6329     &lt;function id=&quot;SetFieldAccessWatch&quot; num=&quot;41&quot;&gt;
 6330       &lt;synopsis&gt;Set Field Access Watch&lt;/synopsis&gt;
 6331       &lt;description&gt;
 6332 	Generate a &lt;eventlink id=&quot;FieldAccess&quot;&gt;&lt;/eventlink&gt; event
 6333 	when the field specified
 6334 	by &lt;code&gt;klass&lt;/code&gt; and
 6335 	&lt;code&gt;field&lt;/code&gt; is about to be accessed.
 6336 	An event will be generated for each access of the field
 6337 	until it is canceled with
 6338 	&lt;functionlink id=&quot;ClearFieldAccessWatch&quot;&gt;&lt;/functionlink&gt;.
 6339 	Field accesses from Java programming language code or from JNI code are watched,
 6340 	fields modified by other means are not watched.
 6341 	Note that &lt;jvmti/&gt; users should be aware that their own field accesses
 6342 	will trigger the watch.
 6343 	A field can only have one field access watch set.
 6344 	Modification of a field is not considered an access--use
 6345 	&lt;functionlink id=&quot;SetFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;
 6346 	to monitor modifications.
 6347       &lt;/description&gt;
 6348       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6349       &lt;capabilities&gt;
 6350 	&lt;required id=&quot;can_generate_field_access_events&quot;&gt;&lt;/required&gt;
 6351       &lt;/capabilities&gt;
 6352       &lt;parameters&gt;
 6353 	&lt;param id=&quot;klass&quot;&gt;
 6354 	  &lt;jclass field=&quot;field&quot;/&gt;
 6355 	    &lt;description&gt;
 6356 	      The class containing the field to watch
 6357 	    &lt;/description&gt;
 6358 	&lt;/param&gt;
 6359 	&lt;param id=&quot;field&quot;&gt;
 6360 	  &lt;jfieldID class=&quot;klass&quot;/&gt;
 6361 	    &lt;description&gt;
 6362 	      The field to watch
 6363 
 6364 	    &lt;/description&gt;
 6365 	&lt;/param&gt;
 6366       &lt;/parameters&gt;
 6367       &lt;errors&gt;
 6368 	&lt;error id=&quot;JVMTI_ERROR_DUPLICATE&quot;&gt;
 6369 	  The designated field is already being watched for accesses.
 6370 	&lt;/error&gt;
 6371       &lt;/errors&gt;
 6372     &lt;/function&gt;
 6373 
 6374     &lt;function id=&quot;ClearFieldAccessWatch&quot; num=&quot;42&quot;&gt;
 6375       &lt;synopsis&gt;Clear Field Access Watch&lt;/synopsis&gt;
 6376       &lt;description&gt;
 6377 	Cancel a field access watch previously set by
 6378 	&lt;functionlink id=&quot;SetFieldAccessWatch&quot;&gt;&lt;/functionlink&gt;, on the
 6379 	field specified
 6380 	by &lt;code&gt;klass&lt;/code&gt; and
 6381 	&lt;code&gt;field&lt;/code&gt;.
 6382       &lt;/description&gt;
 6383       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6384       &lt;capabilities&gt;
 6385 	&lt;required id=&quot;can_generate_field_access_events&quot;&gt;&lt;/required&gt;
 6386       &lt;/capabilities&gt;
 6387       &lt;parameters&gt;
 6388 	&lt;param id=&quot;klass&quot;&gt;
 6389 	  &lt;jclass field=&quot;field&quot;/&gt;
 6390 	    &lt;description&gt;
 6391 	      The class containing the field to watch
 6392 	    &lt;/description&gt;
 6393 	&lt;/param&gt;
 6394 	&lt;param id=&quot;field&quot;&gt;
 6395 	  &lt;jfieldID class=&quot;klass&quot;/&gt;
 6396 	    &lt;description&gt;
 6397 	      The field to watch
 6398 
 6399 	    &lt;/description&gt;
 6400 	&lt;/param&gt;
 6401       &lt;/parameters&gt;
 6402       &lt;errors&gt;
 6403 	&lt;error id=&quot;JVMTI_ERROR_NOT_FOUND&quot;&gt;
 6404 	  The designated field is not being watched for accesses.
 6405 	&lt;/error&gt;
 6406       &lt;/errors&gt;
 6407     &lt;/function&gt;
 6408 
 6409     &lt;function id=&quot;SetFieldModificationWatch&quot; num=&quot;43&quot;&gt;
 6410       &lt;synopsis&gt;Set Field Modification Watch&lt;/synopsis&gt;
 6411       &lt;description&gt;
 6412 	Generate a &lt;eventlink id=&quot;FieldModification&quot;&gt;&lt;/eventlink&gt; event
 6413 	when the field specified
 6414 	by &lt;code&gt;klass&lt;/code&gt; and
 6415 	&lt;code&gt;field&lt;/code&gt; is about to be modified.
 6416 	An event will be generated for each modification of the field
 6417 	until it is canceled with
 6418 	&lt;functionlink id=&quot;ClearFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;.
 6419 	Field modifications from Java programming language code or from JNI code are watched,
 6420 	fields modified by other means are not watched.
 6421 	Note that &lt;jvmti/&gt; users should be aware that their own field modifications
 6422 	will trigger the watch.
 6423 	A field can only have one field modification watch set.
 6424       &lt;/description&gt;
 6425       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6426       &lt;capabilities&gt;
 6427 	&lt;required id=&quot;can_generate_field_modification_events&quot;&gt;&lt;/required&gt;
 6428       &lt;/capabilities&gt;
 6429       &lt;parameters&gt;
 6430 	&lt;param id=&quot;klass&quot;&gt;
 6431 	  &lt;jclass field=&quot;field&quot;/&gt;
 6432 	    &lt;description&gt;
 6433 	      The class containing the field to watch
 6434 	    &lt;/description&gt;
 6435 	&lt;/param&gt;
 6436 	&lt;param id=&quot;field&quot;&gt;
 6437 	  &lt;jfieldID class=&quot;klass&quot;/&gt;
 6438 	    &lt;description&gt;
 6439 	      The field to watch
 6440 
 6441 	    &lt;/description&gt;
 6442 	&lt;/param&gt;
 6443       &lt;/parameters&gt;
 6444       &lt;errors&gt;
 6445 	&lt;error id=&quot;JVMTI_ERROR_DUPLICATE&quot;&gt;
 6446 	  The designated field is already being watched for modifications.
 6447 	&lt;/error&gt;
 6448       &lt;/errors&gt;
 6449     &lt;/function&gt;
 6450 
 6451     &lt;function id=&quot;ClearFieldModificationWatch&quot; num=&quot;44&quot;&gt;
 6452       &lt;synopsis&gt;Clear Field Modification Watch&lt;/synopsis&gt;
 6453       &lt;description&gt;
 6454 
 6455 	Cancel a field modification watch previously set by
 6456 	&lt;functionlink id=&quot;SetFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;, on the
 6457 	field specified
 6458 	by &lt;code&gt;klass&lt;/code&gt; and
 6459 	&lt;code&gt;field&lt;/code&gt;.
 6460       &lt;/description&gt;
 6461       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6462       &lt;capabilities&gt;
 6463 	&lt;required id=&quot;can_generate_field_modification_events&quot;&gt;&lt;/required&gt;
 6464       &lt;/capabilities&gt;
 6465       &lt;parameters&gt;
 6466 	&lt;param id=&quot;klass&quot;&gt;
 6467 	  &lt;jclass field=&quot;field&quot;/&gt;
 6468 	    &lt;description&gt;
 6469 	      The class containing the field to watch
 6470 	    &lt;/description&gt;
 6471 	&lt;/param&gt;
 6472 	&lt;param id=&quot;field&quot;&gt;
 6473 	  &lt;jfieldID class=&quot;klass&quot;/&gt;
 6474 	    &lt;description&gt;
 6475 	      The field to watch
 6476 
 6477 	    &lt;/description&gt;
 6478 	&lt;/param&gt;
 6479       &lt;/parameters&gt;
 6480       &lt;errors&gt;
 6481 	&lt;error id=&quot;JVMTI_ERROR_NOT_FOUND&quot;&gt;
 6482 	  The designated field is not being watched for modifications.
 6483 	&lt;/error&gt;
 6484       &lt;/errors&gt;
 6485     &lt;/function&gt;
 6486   &lt;/category&gt;
 6487 
 6488   &lt;category id=&quot;module&quot; label=&quot;Module&quot;&gt;
 6489 
 6490     &lt;intro&gt;
 6491     &lt;/intro&gt;
 6492 
 6493     &lt;function id=&quot;GetAllModules&quot; num=&quot;3&quot; since=&quot;9&quot;&gt;
 6494       &lt;synopsis&gt;Get All Modules&lt;/synopsis&gt;
 6495       &lt;description&gt;
 6496 	Return an array of all modules loaded in the virtual machine.
 6497         The array includes the unnamed module for each class loader.
 6498 	The number of modules in the array is returned via
 6499 	&lt;code&gt;module_count_ptr&lt;/code&gt;, and the array itself via
 6500 	&lt;code&gt;modules_ptr&lt;/code&gt;.
 6501 	&lt;p/&gt;
 6502       &lt;/description&gt;
 6503       &lt;origin&gt;new&lt;/origin&gt;
 6504       &lt;capabilities&gt;
 6505       &lt;/capabilities&gt;
 6506       &lt;parameters&gt;
 6507 	&lt;param id=&quot;module_count_ptr&quot;&gt;
 6508 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 6509 	  &lt;description&gt;
 6510 	    On return, points to the number of returned modules.
 6511 	  &lt;/description&gt;
 6512 	&lt;/param&gt;
 6513 	&lt;param id=&quot;modules_ptr&quot;&gt;
 6514 	  &lt;allocbuf outcount=&quot;module_count_ptr&quot;&gt;&lt;jobject/&gt;&lt;/allocbuf&gt;
 6515 	    &lt;description&gt;
 6516 	      On return, points to an array of references, one
 6517               for each module.
 6518 	    &lt;/description&gt;
 6519 	&lt;/param&gt;
 6520       &lt;/parameters&gt;
 6521       &lt;errors&gt;
 6522       &lt;/errors&gt;
 6523     &lt;/function&gt;
 6524 
 6525     &lt;function id=&quot;GetNamedModule&quot; num=&quot;40&quot; since=&quot;9&quot;&gt;
 6526       &lt;synopsis&gt;Get Named Module&lt;/synopsis&gt;
 6527       &lt;description&gt;
 6528         Return the &lt;code&gt;java.lang.Module&lt;/code&gt; object for a named
 6529         module defined to a class loader that contains a given package.
 6530         The module is returned via &lt;code&gt;module_ptr&lt;/code&gt;.
 6531         &lt;p/&gt;
 6532         If a named module is defined to the class loader and it
 6533         contains the package then that named module is returned,
 6534         otherwise &lt;code&gt;NULL&lt;/code&gt; is returned.
 6535         &lt;p/&gt;
 6536       &lt;/description&gt;
 6537       &lt;origin&gt;new&lt;/origin&gt;
 6538       &lt;capabilities&gt;
 6539       &lt;/capabilities&gt;
 6540       &lt;parameters&gt;
 6541         &lt;param id=&quot;class_loader&quot;&gt;
 6542           &lt;ptrtype&gt;
 6543             &lt;jobject/&gt;
 6544             &lt;nullok&gt;the bootstrap loader is assumed&lt;/nullok&gt;
 6545           &lt;/ptrtype&gt;
 6546           &lt;description&gt;
 6547             A class loader.
 6548             If the &lt;code&gt;class_loader&lt;/code&gt; is not &lt;code&gt;NULL&lt;/code&gt;
 6549             or a subclass of &lt;code&gt;java.lang.ClassLoader&lt;/code&gt;
 6550             this function returns
 6551             &lt;errorlink id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;&lt;/errorlink&gt;.
 6552           &lt;/description&gt;
 6553         &lt;/param&gt;
 6554         &lt;param id=&quot;package_name&quot;&gt;
 6555           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
 6556           &lt;description&gt;
 6557             The name of the package, encoded as a
 6558             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 6559             The package name is in internal form (JVMS 4.2.1);
 6560             identifiers are separated by forward slashes rather than periods.
 6561           &lt;/description&gt;
 6562         &lt;/param&gt;
 6563         &lt;param id=&quot;module_ptr&quot;&gt;
 6564           &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 6565           &lt;description&gt;
 6566             On return, points to a &lt;code&gt;java.lang.Module&lt;/code&gt; object
 6567             or points to &lt;code&gt;NULL&lt;/code&gt;.
 6568           &lt;/description&gt;
 6569         &lt;/param&gt;
 6570       &lt;/parameters&gt;
 6571       &lt;errors&gt;
 6572         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 6573           If class loader is not &lt;code&gt;NULL&lt;/code&gt; and is not a class loader object.
 6574         &lt;/error&gt;
 6575       &lt;/errors&gt;
 6576     &lt;/function&gt;
 6577 
 6578     &lt;function id=&quot;AddModuleReads&quot; num=&quot;94&quot; since=&quot;9&quot;&gt;
 6579       &lt;synopsis&gt;Add Module Reads&lt;/synopsis&gt;
 6580       &lt;description&gt;
 6581          Update a module to read another module. This function is a no-op
 6582          when &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is an unnamed module.
 6583          This function facilitates the instrumentation of code
 6584          in named modules where that instrumentation requires
 6585          expanding the set of modules that a module reads.
 6586       &lt;/description&gt;
 6587       &lt;origin&gt;new&lt;/origin&gt;
 6588       &lt;capabilities&gt;
 6589       &lt;/capabilities&gt;
 6590       &lt;parameters&gt;
 6591         &lt;param id=&quot;module&quot;&gt;
 6592           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6593           &lt;description&gt;
 6594             The module to update.
 6595           &lt;/description&gt;
 6596         &lt;/param&gt;
 6597         &lt;param id=&quot;to_module&quot;&gt;
 6598           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6599           &lt;description&gt;
 6600             The additional module to read.
 6601           &lt;/description&gt;
 6602         &lt;/param&gt;
 6603       &lt;/parameters&gt;
 6604       &lt;errors&gt;
 6605         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6606           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6607         &lt;/error&gt;
 6608         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6609           If &lt;paramlink id=&quot;to_module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6610         &lt;/error&gt;
 6611         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6612           if the module cannot be modified.
 6613           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6614         &lt;/error&gt;
 6615       &lt;/errors&gt;
 6616     &lt;/function&gt;
 6617 
 6618     &lt;function id=&quot;AddModuleExports&quot; num=&quot;95&quot; since=&quot;9&quot;&gt;
 6619       &lt;synopsis&gt;Add Module Exports&lt;/synopsis&gt;
 6620       &lt;description&gt;
 6621          Update a module to export a package to another module.
 6622          This function is a no-op when &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt;
 6623          is an unnamed module or an open module.
 6624          This function facilitates the instrumentation of code
 6625          in named modules where that instrumentation requires
 6626          expanding the set of packages that a module exports.
 6627       &lt;/description&gt;
 6628       &lt;origin&gt;new&lt;/origin&gt;
 6629       &lt;capabilities&gt;
 6630       &lt;/capabilities&gt;
 6631       &lt;parameters&gt;
 6632         &lt;param id=&quot;module&quot;&gt;
 6633           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6634           &lt;description&gt;
 6635             The module to update.
 6636           &lt;/description&gt;
 6637         &lt;/param&gt;
 6638         &lt;param id=&quot;pkg_name&quot;&gt;
 6639           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
 6640           &lt;description&gt;
 6641             The exported package name.
 6642           &lt;/description&gt;
 6643         &lt;/param&gt;
 6644         &lt;param id=&quot;to_module&quot;&gt;
 6645           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6646           &lt;description&gt;
 6647             The module the package is exported to.
 6648             If the &lt;code&gt;to_module&lt;/code&gt; is not a subclass of
 6649             &lt;code&gt;java.lang.Module&lt;/code&gt; this function returns
 6650             &lt;errorlink id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;&lt;/errorlink&gt;.
 6651           &lt;/description&gt;
 6652         &lt;/param&gt;
 6653       &lt;/parameters&gt;
 6654       &lt;errors&gt;
 6655         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6656           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6657         &lt;/error&gt;
 6658         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6659           If &lt;paramlink id=&quot;to_module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6660         &lt;/error&gt;
 6661         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 6662           If the package &lt;paramlink id=&quot;pkg_name&quot;&gt;&lt;/paramlink&gt;
 6663           does not belong to the module.
 6664         &lt;/error&gt;
 6665         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6666           if the module cannot be modified.
 6667           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6668         &lt;/error&gt;
 6669       &lt;/errors&gt;
 6670     &lt;/function&gt;
 6671 
 6672     &lt;function id=&quot;AddModuleOpens&quot; num=&quot;96&quot; since=&quot;9&quot;&gt;
 6673       &lt;synopsis&gt;Add Module Opens&lt;/synopsis&gt;
 6674       &lt;description&gt;
 6675          Update a module to open a package to another module.
 6676          This function is a no-op when &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt;
 6677          is an unnamed module or an open module.
 6678          This function facilitates the instrumentation of code
 6679          in modules where that instrumentation requires
 6680          expanding the set of packages that a module opens to
 6681          other modules.
 6682       &lt;/description&gt;
 6683       &lt;origin&gt;new&lt;/origin&gt;
 6684       &lt;capabilities&gt;
 6685       &lt;/capabilities&gt;
 6686       &lt;parameters&gt;
 6687         &lt;param id=&quot;module&quot;&gt;
 6688           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6689           &lt;description&gt;
 6690             The module to update.
 6691           &lt;/description&gt;
 6692         &lt;/param&gt;
 6693         &lt;param id=&quot;pkg_name&quot;&gt;
 6694           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
 6695           &lt;description&gt;
 6696             The package name of the package to open.
 6697           &lt;/description&gt;
 6698         &lt;/param&gt;
 6699         &lt;param id=&quot;to_module&quot;&gt;
 6700           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6701           &lt;description&gt;
 6702             The module with the package to open.
 6703             If the &lt;code&gt;to_module&lt;/code&gt; is not a subclass of
 6704             &lt;code&gt;java.lang.Module&lt;/code&gt; this function returns
 6705             &lt;errorlink id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;&lt;/errorlink&gt;.
 6706           &lt;/description&gt;
 6707         &lt;/param&gt;
 6708       &lt;/parameters&gt;
 6709       &lt;errors&gt;
 6710         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6711           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6712         &lt;/error&gt;
 6713         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6714           If &lt;paramlink id=&quot;to_module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6715         &lt;/error&gt;
 6716         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 6717           If the package &lt;paramlink id=&quot;pkg_name&quot;&gt;&lt;/paramlink&gt;
 6718           does not belong to the module.
 6719         &lt;/error&gt;
 6720         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6721           if the module cannot be modified.
 6722           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6723         &lt;/error&gt;
 6724       &lt;/errors&gt;
 6725     &lt;/function&gt;
 6726 
 6727     &lt;function id=&quot;AddModuleUses&quot; num=&quot;97&quot; since=&quot;9&quot;&gt;
 6728       &lt;synopsis&gt;Add Module Uses&lt;/synopsis&gt;
 6729       &lt;description&gt;
 6730          Updates a module to add a service to the set of services that
 6731          a module uses. This function is a no-op when the module
 6732          is an unnamed module.
 6733          This function facilitates the instrumentation of code
 6734          in named modules where that instrumentation requires
 6735          expanding the set of services that a module is using.
 6736       &lt;/description&gt;
 6737       &lt;origin&gt;new&lt;/origin&gt;
 6738       &lt;capabilities&gt;
 6739       &lt;/capabilities&gt;
 6740       &lt;parameters&gt;
 6741         &lt;param id=&quot;module&quot;&gt;
 6742           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6743           &lt;description&gt;
 6744             The module to update.
 6745           &lt;/description&gt;
 6746         &lt;/param&gt;
 6747         &lt;param id=&quot;service&quot;&gt;
 6748           &lt;ptrtype&gt;&lt;jclass/&gt;&lt;/ptrtype&gt;
 6749           &lt;description&gt;
 6750             The service to use.
 6751           &lt;/description&gt;
 6752         &lt;/param&gt;
 6753       &lt;/parameters&gt;
 6754       &lt;errors&gt;
 6755         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6756           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6757         &lt;/error&gt;
 6758         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 6759           If &lt;paramlink id=&quot;service&quot;&gt;&lt;/paramlink&gt; is not a class object.
 6760         &lt;/error&gt;
 6761         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6762           if the module cannot be modified.
 6763           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6764         &lt;/error&gt;
 6765       &lt;/errors&gt;
 6766     &lt;/function&gt;
 6767 
 6768     &lt;function id=&quot;AddModuleProvides&quot; num=&quot;98&quot; since=&quot;9&quot;&gt;
 6769       &lt;synopsis&gt;Add Module Provides&lt;/synopsis&gt;
 6770       &lt;description&gt;
 6771          Updates a module to add a service to the set of services that
 6772          a module provides. This function is a no-op when the module
 6773          is an unnamed module.
 6774          This function facilitates the instrumentation of code
 6775          in named modules where that instrumentation requires
 6776          changes to the services that are provided.
 6777       &lt;/description&gt;
 6778       &lt;origin&gt;new&lt;/origin&gt;
 6779       &lt;capabilities&gt;
 6780       &lt;/capabilities&gt;
 6781       &lt;parameters&gt;
 6782         &lt;param id=&quot;module&quot;&gt;
 6783           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6784           &lt;description&gt;
 6785             The module to update.
 6786           &lt;/description&gt;
 6787         &lt;/param&gt;
 6788         &lt;param id=&quot;service&quot;&gt;
 6789           &lt;ptrtype&gt;&lt;jclass/&gt;&lt;/ptrtype&gt;
 6790           &lt;description&gt;
 6791             The service to provide.
 6792           &lt;/description&gt;
 6793         &lt;/param&gt;
 6794         &lt;param id=&quot;impl_class&quot;&gt;
 6795           &lt;ptrtype&gt;&lt;jclass/&gt;&lt;/ptrtype&gt;
 6796           &lt;description&gt;
 6797             The implementation class for the provided service.
 6798           &lt;/description&gt;
 6799         &lt;/param&gt;
 6800       &lt;/parameters&gt;
 6801       &lt;errors&gt;
 6802         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6803           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6804         &lt;/error&gt;
 6805         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 6806           If &lt;paramlink id=&quot;service&quot;&gt;&lt;/paramlink&gt; is not a class object.
 6807         &lt;/error&gt;
 6808         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 6809           If &lt;paramlink id=&quot;impl_class&quot;&gt;&lt;/paramlink&gt; is not a class object.
 6810         &lt;/error&gt;
 6811         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6812           if the module cannot be modified.
 6813           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6814         &lt;/error&gt;
 6815       &lt;/errors&gt;
 6816     &lt;/function&gt;
 6817 
 6818     &lt;function id=&quot;IsModifiableModule&quot; num=&quot;99&quot; since=&quot;9&quot;&gt;
 6819       &lt;synopsis&gt;Is Modifiable Module&lt;/synopsis&gt;
 6820       &lt;description&gt;
 6821         Determines whether a module is modifiable.
 6822         If a module is modifiable then this module can be updated with
 6823         &lt;functionlink id=&quot;AddModuleReads&quot;/&gt;, &lt;functionlink id=&quot;AddModuleExports&quot;/&gt;,
 6824         &lt;functionlink id=&quot;AddModuleOpens&quot;/&gt;, &lt;functionlink id=&quot;AddModuleUses&quot;/&gt;,
 6825         and &lt;functionlink id=&quot;AddModuleProvides&quot;/&gt;. If a module is not modifiable
 6826         then the module can not be updated with these functions. The result of
 6827         this function is always &lt;code&gt;JNI_TRUE&lt;/code&gt; when called to determine
 6828         if an unnamed module is modifiable.
 6829       &lt;/description&gt;
 6830       &lt;origin&gt;new&lt;/origin&gt;
 6831       &lt;capabilities&gt;
 6832       &lt;/capabilities&gt;
 6833       &lt;parameters&gt;
 6834         &lt;param id=&quot;module&quot;&gt;
 6835           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6836           &lt;description&gt;
 6837             The module to query.
 6838           &lt;/description&gt;
 6839         &lt;/param&gt;
 6840         &lt;param id=&quot;is_modifiable_module_ptr&quot;&gt;
 6841           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 6842           &lt;description&gt;
 6843             On return, points to the boolean result of this function.
 6844           &lt;/description&gt;
 6845         &lt;/param&gt;
 6846       &lt;/parameters&gt;
 6847       &lt;errors&gt;
 6848         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6849           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6850         &lt;/error&gt;
 6851       &lt;/errors&gt;
 6852     &lt;/function&gt;
 6853 
 6854   &lt;/category&gt;
 6855 
 6856   &lt;category id=&quot;class&quot; label=&quot;Class&quot;&gt;
 6857 
 6858     &lt;intro&gt;
 6859     &lt;/intro&gt;
 6860 
 6861     &lt;function id=&quot;GetLoadedClasses&quot; jkernel=&quot;yes&quot; num=&quot;78&quot;&gt;
 6862       &lt;synopsis&gt;Get Loaded Classes&lt;/synopsis&gt;
 6863       &lt;description&gt;
 6864 	Return an array of all classes loaded in the virtual machine.
 6865 	The number of classes in the array is returned via
 6866 	&lt;code&gt;class_count_ptr&lt;/code&gt;, and the array itself via
 6867 	&lt;code&gt;classes_ptr&lt;/code&gt;.
 6868 	&lt;p/&gt;
 6869 	Array classes of all types (including arrays of primitive types) are
 6870 	included in the returned list. Primitive classes (for example,
 6871 	&lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;) are &lt;i&gt;not&lt;/i&gt; included in this list.
 6872       &lt;/description&gt;
 6873       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6874       &lt;capabilities&gt;
 6875       &lt;/capabilities&gt;
 6876       &lt;parameters&gt;
 6877 	&lt;param id=&quot;class_count_ptr&quot;&gt;
 6878 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 6879 	  &lt;description&gt;
 6880 	    On return, points to the number of classes.
 6881 	  &lt;/description&gt;
 6882 	&lt;/param&gt;
 6883 	&lt;param id=&quot;classes_ptr&quot;&gt;
 6884 	  &lt;allocbuf outcount=&quot;class_count_ptr&quot;&gt;&lt;jclass/&gt;&lt;/allocbuf&gt;
 6885 	    &lt;description&gt;
 6886 	      On return, points to an array of references, one
 6887 	      for each class.
 6888 	    &lt;/description&gt;
 6889 	&lt;/param&gt;
 6890       &lt;/parameters&gt;
 6891       &lt;errors&gt;
 6892       &lt;/errors&gt;
 6893     &lt;/function&gt;
 6894 
 6895     &lt;function id=&quot;GetClassLoaderClasses&quot; jkernel=&quot;yes&quot; num=&quot;79&quot;&gt;
 6896       &lt;synopsis&gt;Get Classloader Classes&lt;/synopsis&gt;
 6897       &lt;description&gt;
 6898 	Returns an array of those classes for which this class loader has
 6899 	been recorded as an initiating loader. Each
 6900 	class in the returned array was created by this class loader,
 6901 	either by defining it directly or by delegation to another class loader.
 6902 	See &lt;vmspec chapter=&quot;5.3&quot;/&gt;.
 6903 	&lt;p/&gt;
 6904 	The number of classes in the array is returned via
 6905 	&lt;code&gt;class_count_ptr&lt;/code&gt;, and the array itself via
 6906 	&lt;code&gt;classes_ptr&lt;/code&gt;.
 6907       &lt;/description&gt;
 6908       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6909       &lt;capabilities&gt;
 6910       &lt;/capabilities&gt;
 6911       &lt;parameters&gt;
 6912 	&lt;param id=&quot;initiating_loader&quot;&gt;
 6913           &lt;ptrtype&gt;
 6914             &lt;jobject/&gt;
 6915 	    &lt;nullok&gt;the classes initiated by the bootstrap loader will be returned&lt;/nullok&gt;
 6916           &lt;/ptrtype&gt;
 6917 	    &lt;description&gt;
 6918 	      An initiating class loader.
 6919 	    &lt;/description&gt;
 6920 	&lt;/param&gt;
 6921 	&lt;param id=&quot;class_count_ptr&quot;&gt;
 6922 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 6923 	  &lt;description&gt;
 6924 	    On return, points to the number of classes.
 6925 	  &lt;/description&gt;
 6926 	&lt;/param&gt;
 6927 	&lt;param id=&quot;classes_ptr&quot;&gt;
 6928 	  &lt;allocbuf outcount=&quot;class_count_ptr&quot;&gt;&lt;jclass/&gt;&lt;/allocbuf&gt;
 6929 	    &lt;description&gt;
 6930 	      On return, points to an array of references, one
 6931 	      for each class.
 6932 	    &lt;/description&gt;
 6933 	&lt;/param&gt;
 6934       &lt;/parameters&gt;
 6935       &lt;errors&gt;
 6936       &lt;/errors&gt;
 6937     &lt;/function&gt;
 6938 
 6939     &lt;function id=&quot;GetClassSignature&quot; phase=&quot;start&quot; num=&quot;48&quot;&gt;
 6940       &lt;synopsis&gt;Get Class Signature&lt;/synopsis&gt;
 6941       &lt;description&gt;
 6942         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return the
 6943         &lt;externallink id=&quot;jni/types.html#type-signatures&quot;&gt;JNI
 6944             type signature&lt;/externallink&gt;
 6945         and the generic signature of the class.
 6946         For example, &lt;code&gt;java.util.List&lt;/code&gt; is &lt;code&gt;&quot;Ljava/util/List;&quot;&lt;/code&gt;
 6947         and &lt;code&gt;int[]&lt;/code&gt; is &lt;code&gt;&quot;[I&quot;&lt;/code&gt;
 6948 	The returned name for primitive classes
 6949 	is the type signature character of the corresponding primitive type.
 6950         For example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt; is &lt;code&gt;&quot;I&quot;&lt;/code&gt;.
 6951       &lt;/description&gt;
 6952       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 6953       &lt;capabilities&gt;
 6954       &lt;/capabilities&gt;
 6955       &lt;parameters&gt;
 6956 	&lt;param id=&quot;klass&quot;&gt;
 6957 	  &lt;jclass/&gt;
 6958 	    &lt;description&gt;
 6959 	      The class to query.
 6960 	    &lt;/description&gt;
 6961 	&lt;/param&gt;
 6962 	&lt;param id=&quot;signature_ptr&quot;&gt;
 6963 	  &lt;allocbuf&gt;
 6964             &lt;char/&gt;
 6965             &lt;nullok&gt;the signature is not returned&lt;/nullok&gt;
 6966           &lt;/allocbuf&gt;
 6967 	  &lt;description&gt;
 6968 	    On return, points to the JNI type signature of the class, encoded as a
 6969 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 6970 	  &lt;/description&gt;
 6971 	&lt;/param&gt;
 6972 	&lt;param id=&quot;generic_ptr&quot;&gt;
 6973 	  &lt;allocbuf&gt;
 6974             &lt;char/&gt;
 6975             &lt;nullok&gt;the generic signature is not returned&lt;/nullok&gt;
 6976           &lt;/allocbuf&gt;
 6977 	  &lt;description&gt;
 6978 	    On return, points to the generic signature of the class, encoded as a
 6979 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 6980             If there is no generic signature attribute for the class, then,
 6981             on return, points to &lt;code&gt;NULL&lt;/code&gt;.
 6982 	  &lt;/description&gt;
 6983 	&lt;/param&gt;
 6984       &lt;/parameters&gt;
 6985       &lt;errors&gt;
 6986       &lt;/errors&gt;
 6987     &lt;/function&gt;
 6988 
 6989     &lt;function id=&quot;GetClassStatus&quot; phase=&quot;start&quot; num=&quot;49&quot;&gt;
 6990       &lt;synopsis&gt;Get Class Status&lt;/synopsis&gt;
 6991       &lt;description&gt;
 6992 	Get the status of the class. Zero or more of the following bits can be
 6993 	set.
 6994 	&lt;constants id=&quot;jvmtiClassStatus&quot; label=&quot;Class Status Flags&quot; kind=&quot;bits&quot;&gt;
 6995 	  &lt;constant id=&quot;JVMTI_CLASS_STATUS_VERIFIED&quot; num=&quot;1&quot;&gt;
 6996 	    Class bytecodes have been verified
 6997 	  &lt;/constant&gt;
 6998 	  &lt;constant id=&quot;JVMTI_CLASS_STATUS_PREPARED&quot; num=&quot;2&quot;&gt;
 6999 	    Class preparation is complete
 7000 	  &lt;/constant&gt;
 7001 	  &lt;constant id=&quot;JVMTI_CLASS_STATUS_INITIALIZED&quot; num=&quot;4&quot;&gt;
 7002 	    Class initialization is complete. Static initializer has been run.
 7003 	  &lt;/constant&gt;
 7004 	  &lt;constant id=&quot;JVMTI_CLASS_STATUS_ERROR&quot; num=&quot;8&quot;&gt;
 7005 	    Error during initialization makes class unusable
 7006 	  &lt;/constant&gt;
 7007 	  &lt;constant id=&quot;JVMTI_CLASS_STATUS_ARRAY&quot; num=&quot;16&quot;&gt;
 7008 	    Class is an array.  If set, all other bits are zero.
 7009 	  &lt;/constant&gt;
 7010 	  &lt;constant id=&quot;JVMTI_CLASS_STATUS_PRIMITIVE&quot; num=&quot;32&quot;&gt;
 7011 	    Class is a primitive class (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7012 	    If set, all other bits are zero.
 7013 	  &lt;/constant&gt;
 7014 	&lt;/constants&gt;
 7015       &lt;/description&gt;
 7016       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7017       &lt;capabilities&gt;
 7018       &lt;/capabilities&gt;
 7019       &lt;parameters&gt;
 7020 	&lt;param id=&quot;klass&quot;&gt;
 7021 	  &lt;jclass/&gt;
 7022 	    &lt;description&gt;
 7023 	      The class to query.
 7024 	    &lt;/description&gt;
 7025 	&lt;/param&gt;
 7026 	&lt;param id=&quot;status_ptr&quot;&gt;
 7027 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7028 	  &lt;description&gt;
 7029 	    On return, points to the current state of this class as one or
 7030 	    more of the &lt;internallink id=&quot;jvmtiClassStatus&quot;&gt;class status flags&lt;/internallink&gt;.
 7031 	  &lt;/description&gt;
 7032 	&lt;/param&gt;
 7033       &lt;/parameters&gt;
 7034       &lt;errors&gt;
 7035       &lt;/errors&gt;
 7036     &lt;/function&gt;
 7037 
 7038     &lt;function id=&quot;GetSourceFileName&quot; phase=&quot;start&quot; num=&quot;50&quot;&gt;
 7039       &lt;synopsis&gt;Get Source File Name&lt;/synopsis&gt;
 7040       &lt;description&gt;
 7041 	For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return the source file
 7042 	name via &lt;code&gt;source_name_ptr&lt;/code&gt;. The returned string
 7043 	is a file name only and never contains a directory name.
 7044 	&lt;p/&gt;
 7045 	For primitive classes (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;)
 7046 	and for arrays this function returns
 7047 	&lt;errorlink id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;&lt;/errorlink&gt;.
 7048       &lt;/description&gt;
 7049       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7050       &lt;capabilities&gt;
 7051  	&lt;required id=&quot;can_get_source_file_name&quot;&gt;&lt;/required&gt;
 7052       &lt;/capabilities&gt;
 7053       &lt;parameters&gt;
 7054 	&lt;param id=&quot;klass&quot;&gt;
 7055 	  &lt;jclass/&gt;
 7056 	    &lt;description&gt;
 7057 	      The class to query.
 7058 	    &lt;/description&gt;
 7059 	&lt;/param&gt;
 7060 	&lt;param id=&quot;source_name_ptr&quot;&gt;
 7061 	  &lt;allocbuf&gt;&lt;char/&gt;&lt;/allocbuf&gt;
 7062 	  &lt;description&gt;
 7063 	    On return, points to the class&#39;s source file name, encoded as a
 7064 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 7065 	  &lt;/description&gt;
 7066 	&lt;/param&gt;
 7067       &lt;/parameters&gt;
 7068       &lt;errors&gt;
 7069 	&lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 7070 	  Class information does not include a source file name. This includes
 7071 	  cases where the class is an array class or primitive class.
 7072 	&lt;/error&gt;
 7073       &lt;/errors&gt;
 7074     &lt;/function&gt;
 7075 
 7076     &lt;function id=&quot;GetClassModifiers&quot; phase=&quot;start&quot; num=&quot;51&quot;&gt;
 7077       &lt;synopsis&gt;Get Class Modifiers&lt;/synopsis&gt;
 7078       &lt;description&gt;
 7079 	For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return the access
 7080 	flags
 7081 	via &lt;code&gt;modifiers_ptr&lt;/code&gt;.
 7082 	Access flags are defined in &lt;vmspec chapter=&quot;4&quot;/&gt;.
 7083 	&lt;p/&gt;
 7084 	If the class is an array class, then its public, private, and protected
 7085 	modifiers are the same as those of its component type. For arrays of
 7086 	primitives, this component type is represented by one of the primitive
 7087 	classes (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7088 	&lt;p/&gt;
 7089 	If the class is a primitive class, its public modifier is always true,
 7090 	and its protected and private modifiers are always false.
 7091 	&lt;p/&gt;
 7092 	If the class is an array class or a primitive class then its final
 7093 	modifier is always true and its interface modifier is always false.
 7094 	The values of its other modifiers are not determined by this specification.
 7095 
 7096       &lt;/description&gt;
 7097       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7098       &lt;capabilities&gt;
 7099       &lt;/capabilities&gt;
 7100       &lt;parameters&gt;
 7101 	&lt;param id=&quot;klass&quot;&gt;
 7102 	  &lt;jclass/&gt;
 7103 	    &lt;description&gt;
 7104 	      The class to query.
 7105 	    &lt;/description&gt;
 7106 	&lt;/param&gt;
 7107 	&lt;param id=&quot;modifiers_ptr&quot;&gt;
 7108 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7109 	  &lt;description&gt;
 7110 	    On return, points to the current access flags of this class.
 7111 
 7112 	  &lt;/description&gt;
 7113 	&lt;/param&gt;
 7114       &lt;/parameters&gt;
 7115       &lt;errors&gt;
 7116       &lt;/errors&gt;
 7117     &lt;/function&gt;
 7118 
 7119     &lt;function id=&quot;GetClassMethods&quot; phase=&quot;start&quot; num=&quot;52&quot;&gt;
 7120       &lt;synopsis&gt;Get Class Methods&lt;/synopsis&gt;
 7121       &lt;description&gt;
 7122 	For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return a count of
 7123 	methods via &lt;code&gt;method_count_ptr&lt;/code&gt; and a list of
 7124 	method IDs via &lt;code&gt;methods_ptr&lt;/code&gt;. The method list contains
 7125 	constructors and static initializers as well as true methods.
 7126 	Only directly declared methods are returned (not inherited methods).
 7127 	An empty method list is returned for array classes and primitive classes
 7128 	(for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7129       &lt;/description&gt;
 7130       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7131       &lt;capabilities&gt;
 7132         &lt;capability id=&quot;can_maintain_original_method_order&quot;/&gt;
 7133       &lt;/capabilities&gt;
 7134       &lt;parameters&gt;
 7135 	&lt;param id=&quot;klass&quot;&gt;
 7136 	  &lt;jclass/&gt;
 7137 	    &lt;description&gt;
 7138 	      The class to query.
 7139 	    &lt;/description&gt;
 7140 	&lt;/param&gt;
 7141 	&lt;param id=&quot;method_count_ptr&quot;&gt;
 7142 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7143 	  &lt;description&gt;
 7144 	    On return, points to the number of methods declared in this class.
 7145 	  &lt;/description&gt;
 7146 	&lt;/param&gt;
 7147 	&lt;param id=&quot;methods_ptr&quot;&gt;
 7148 	  &lt;allocbuf outcount=&quot;method_count_ptr&quot;&gt;&lt;jmethodID class=&quot;klass&quot;/&gt;&lt;/allocbuf&gt;
 7149 	    &lt;description&gt;
 7150 	      On return, points to the method ID array.
 7151 	    &lt;/description&gt;
 7152 	&lt;/param&gt;
 7153       &lt;/parameters&gt;
 7154       &lt;errors&gt;
 7155 	&lt;error id=&quot;JVMTI_ERROR_CLASS_NOT_PREPARED&quot;&gt;
 7156 	  &lt;paramlink id=&quot;klass&quot;&gt;&lt;/paramlink&gt; is not prepared.
 7157 	&lt;/error&gt;
 7158       &lt;/errors&gt;
 7159     &lt;/function&gt;
 7160 
 7161     &lt;function id=&quot;GetClassFields&quot; phase=&quot;start&quot; num=&quot;53&quot;&gt;
 7162       &lt;synopsis&gt;Get Class Fields&lt;/synopsis&gt;
 7163       &lt;description&gt;
 7164 	For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return a count of fields
 7165 	via &lt;code&gt;field_count_ptr&lt;/code&gt; and a list of field IDs via
 7166 	&lt;code&gt;fields_ptr&lt;/code&gt;.
 7167 	Only directly declared fields are returned (not inherited fields).
 7168 	Fields are returned in the order they occur in the class file.
 7169 	An empty field list is returned for array classes and primitive classes
 7170 	(for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7171 	Use JNI to determine the length of an array.
 7172       &lt;/description&gt;
 7173       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7174       &lt;capabilities&gt;
 7175       &lt;/capabilities&gt;
 7176       &lt;parameters&gt;
 7177 	&lt;param id=&quot;klass&quot;&gt;
 7178 	  &lt;jclass/&gt;
 7179 	    &lt;description&gt;
 7180 	      The class to query.
 7181 	    &lt;/description&gt;
 7182 	&lt;/param&gt;
 7183 	&lt;param id=&quot;field_count_ptr&quot;&gt;
 7184 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7185 	  &lt;description&gt;
 7186 	    On return, points to the number of fields declared in this class.
 7187 	  &lt;/description&gt;
 7188 	&lt;/param&gt;
 7189 	&lt;param id=&quot;fields_ptr&quot;&gt;
 7190 	  &lt;allocbuf outcount=&quot;field_count_ptr&quot;&gt;&lt;jfieldID/&gt;&lt;/allocbuf&gt;
 7191 	    &lt;description&gt;
 7192 	      On return, points to the field ID array.
 7193 	    &lt;/description&gt;
 7194 	&lt;/param&gt;
 7195       &lt;/parameters&gt;
 7196       &lt;errors&gt;
 7197 	&lt;error id=&quot;JVMTI_ERROR_CLASS_NOT_PREPARED&quot;&gt;
 7198 	  &lt;paramlink id=&quot;klass&quot;&gt;&lt;/paramlink&gt; is not prepared.
 7199 	&lt;/error&gt;
 7200       &lt;/errors&gt;
 7201     &lt;/function&gt;
 7202 
 7203     &lt;function id=&quot;GetImplementedInterfaces&quot; phase=&quot;start&quot; num=&quot;54&quot;&gt;
 7204       &lt;synopsis&gt;Get Implemented Interfaces&lt;/synopsis&gt;
 7205       &lt;description&gt;
 7206 	Return the direct super-interfaces of this class. For a class, this
 7207 	function returns the interfaces declared in its &lt;code&gt;implements&lt;/code&gt;
 7208 	clause. For an interface, this function returns the interfaces declared in
 7209 	its &lt;code&gt;extends&lt;/code&gt; clause.
 7210 	An empty interface list is returned for array classes and primitive classes
 7211 	(for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7212       &lt;/description&gt;
 7213       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7214       &lt;capabilities&gt;
 7215       &lt;/capabilities&gt;
 7216       &lt;parameters&gt;
 7217 	&lt;param id=&quot;klass&quot;&gt;
 7218 	  &lt;jclass/&gt;
 7219 	    &lt;description&gt;
 7220 	      The class to query.
 7221 	    &lt;/description&gt;
 7222 	&lt;/param&gt;
 7223 	&lt;param id=&quot;interface_count_ptr&quot;&gt;
 7224 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7225 	  &lt;description&gt;
 7226 	    On return, points to the number of interfaces.
 7227 	  &lt;/description&gt;
 7228 	&lt;/param&gt;
 7229 	&lt;param id=&quot;interfaces_ptr&quot;&gt;
 7230 	  &lt;allocbuf outcount=&quot;interface_count_ptr&quot;&gt;&lt;jclass/&gt;&lt;/allocbuf&gt;
 7231 	    &lt;description&gt;
 7232 	      On return, points to the interface array.
 7233 	    &lt;/description&gt;
 7234 	&lt;/param&gt;
 7235       &lt;/parameters&gt;
 7236       &lt;errors&gt;
 7237 	&lt;error id=&quot;JVMTI_ERROR_CLASS_NOT_PREPARED&quot;&gt;
 7238 	  &lt;paramlink id=&quot;klass&quot;&gt;&lt;/paramlink&gt; is not prepared.
 7239 	&lt;/error&gt;
 7240       &lt;/errors&gt;
 7241     &lt;/function&gt;
 7242 
 7243     &lt;function id=&quot;GetClassVersionNumbers&quot; phase=&quot;start&quot; num=&quot;145&quot; since=&quot;1.1&quot;&gt;
 7244       &lt;synopsis&gt;Get Class Version Numbers&lt;/synopsis&gt;
 7245       &lt;description&gt;
 7246         For the class indicated by &lt;code&gt;klass&lt;/code&gt;,
 7247         return the minor and major version numbers,
 7248         as defined in
 7249         &lt;vmspec chapter=&quot;4&quot;/&gt;.
 7250       &lt;/description&gt;
 7251       &lt;origin&gt;new&lt;/origin&gt;
 7252       &lt;capabilities&gt;
 7253       &lt;/capabilities&gt;
 7254       &lt;parameters&gt;
 7255 	&lt;param id=&quot;klass&quot;&gt;
 7256 	  &lt;jclass/&gt;
 7257 	    &lt;description&gt;
 7258 	      The class to query.
 7259 	    &lt;/description&gt;
 7260 	&lt;/param&gt;
 7261 	&lt;param id=&quot;minor_version_ptr&quot;&gt;
 7262 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7263 	  &lt;description&gt;
 7264 	    On return, points to the value of the
 7265             &lt;code&gt;minor_version&lt;/code&gt; item of the
 7266             Class File Format.
 7267             Note: to be consistent with the Class File Format,
 7268             the minor version number is the first parameter.
 7269 	  &lt;/description&gt;
 7270 	&lt;/param&gt;
 7271 	&lt;param id=&quot;major_version_ptr&quot;&gt;
 7272 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7273 	  &lt;description&gt;
 7274 	    On return, points to the value of the
 7275             &lt;code&gt;major_version&lt;/code&gt; item of the
 7276             Class File Format.
 7277 	  &lt;/description&gt;
 7278 	&lt;/param&gt;
 7279       &lt;/parameters&gt;
 7280       &lt;errors&gt;
 7281 	&lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 7282 	  The class is a primitive or array class.
 7283 	&lt;/error&gt;
 7284       &lt;/errors&gt;
 7285     &lt;/function&gt;
 7286 
 7287     &lt;function id=&quot;GetConstantPool&quot; phase=&quot;start&quot; num=&quot;146&quot; since=&quot;1.1&quot;&gt;
 7288       &lt;synopsis&gt;Get Constant Pool&lt;/synopsis&gt;
 7289       &lt;description&gt;
 7290 	For the class indicated by &lt;code&gt;klass&lt;/code&gt;,
 7291         return the raw bytes of the constant pool in the format of the
 7292         &lt;code&gt;constant_pool&lt;/code&gt; item of
 7293         &lt;vmspec chapter=&quot;4&quot;/&gt;.
 7294         The format of the constant pool may differ between versions
 7295         of the Class File Format, so, the
 7296         &lt;functionlink id=&quot;GetClassVersionNumbers&quot;&gt;minor and major
 7297         class version numbers&lt;/functionlink&gt; should be checked for
 7298         compatibility.
 7299         &lt;p/&gt;
 7300         The returned constant pool might not have the same layout or
 7301         contents as the constant pool in the defining class file.
 7302         The constant pool returned by GetConstantPool() may have
 7303         more or fewer entries than the defining constant pool.
 7304         Entries may be in a different order.
 7305         The constant pool returned by GetConstantPool() will match the
 7306         constant pool used by
 7307         &lt;functionlink id=&quot;GetBytecodes&quot;&gt;GetBytecodes()&lt;/functionlink&gt;.
 7308         That is, the bytecodes returned by GetBytecodes() will have
 7309         constant pool indices which refer to constant pool entries returned
 7310         by GetConstantPool().
 7311         Note that since &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;
 7312         and &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; can change
 7313         the constant pool, the constant pool returned by this function
 7314         can change accordingly.  Thus, the correspondence between
 7315         GetConstantPool() and GetBytecodes() does not hold if there
 7316         is an intervening class retransformation or redefinition.
 7317         The value of a constant pool entry used by a given bytecode will
 7318         match that of the defining class file (even if the indices don&#39;t match).
 7319         Constant pool entries which are not used directly or indirectly by
 7320         bytecodes (for example,  UTF-8 strings associated with annotations) are
 7321         not  required to exist in the returned constant pool.
 7322       &lt;/description&gt;
 7323       &lt;origin&gt;new&lt;/origin&gt;
 7324       &lt;capabilities&gt;
 7325 	&lt;required id=&quot;can_get_constant_pool&quot;&gt;&lt;/required&gt;
 7326       &lt;/capabilities&gt;
 7327       &lt;parameters&gt;
 7328 	&lt;param id=&quot;klass&quot;&gt;
 7329 	  &lt;jclass/&gt;
 7330 	    &lt;description&gt;
 7331 	      The class to query.
 7332 	    &lt;/description&gt;
 7333 	&lt;/param&gt;
 7334 	&lt;param id=&quot;constant_pool_count_ptr&quot;&gt;
 7335 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7336 	  &lt;description&gt;
 7337 	    On return, points to the number of entries
 7338             in the constant pool table plus one.
 7339             This corresponds to the &lt;code&gt;constant_pool_count&lt;/code&gt;
 7340             item of the Class File Format.
 7341 	  &lt;/description&gt;
 7342 	&lt;/param&gt;
 7343 	&lt;param id=&quot;constant_pool_byte_count_ptr&quot;&gt;
 7344 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7345 	  &lt;description&gt;
 7346 	    On return, points to the number of bytes
 7347             in the returned raw constant pool.
 7348 	  &lt;/description&gt;
 7349 	&lt;/param&gt;
 7350 	&lt;param id=&quot;constant_pool_bytes_ptr&quot;&gt;
 7351 	  &lt;allocbuf outcount=&quot;constant_pool_byte_count_ptr&quot;&gt;&lt;uchar/&gt;&lt;/allocbuf&gt;
 7352 	    &lt;description&gt;
 7353 	      On return, points to the raw constant pool, that is the bytes
 7354               defined by the &lt;code&gt;constant_pool&lt;/code&gt; item of the
 7355               Class File Format
 7356 	    &lt;/description&gt;
 7357 	&lt;/param&gt;
 7358       &lt;/parameters&gt;
 7359       &lt;errors&gt;
 7360 	&lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 7361 	  The class is a primitive or array class.
 7362 	&lt;/error&gt;
 7363       &lt;/errors&gt;
 7364     &lt;/function&gt;
 7365 
 7366     &lt;function id=&quot;IsInterface&quot; phase=&quot;start&quot; num=&quot;55&quot;&gt;
 7367       &lt;synopsis&gt;Is Interface&lt;/synopsis&gt;
 7368       &lt;description&gt;
 7369 	Determines whether a class object reference represents an interface.
 7370 	The &lt;code&gt;jboolean&lt;/code&gt; result is
 7371 	&lt;code&gt;JNI_TRUE&lt;/code&gt; if the &quot;class&quot; is actually an interface,
 7372 	&lt;code&gt;JNI_FALSE&lt;/code&gt; otherwise.
 7373       &lt;/description&gt;
 7374       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7375       &lt;capabilities&gt;
 7376       &lt;/capabilities&gt;
 7377       &lt;parameters&gt;
 7378 	&lt;param id=&quot;klass&quot;&gt;
 7379 	  &lt;jclass/&gt;
 7380 	    &lt;description&gt;
 7381 	      The class to query.
 7382 	    &lt;/description&gt;
 7383 	&lt;/param&gt;
 7384 	&lt;param id=&quot;is_interface_ptr&quot;&gt;
 7385 	  &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 7386 	  &lt;description&gt;
 7387 	    On return, points to the boolean result of this function.
 7388 
 7389 	  &lt;/description&gt;
 7390 	&lt;/param&gt;
 7391       &lt;/parameters&gt;
 7392       &lt;errors&gt;
 7393       &lt;/errors&gt;
 7394     &lt;/function&gt;
 7395 
 7396     &lt;function id=&quot;IsArrayClass&quot; phase=&quot;start&quot; num=&quot;56&quot;&gt;
 7397       &lt;synopsis&gt;Is Array Class&lt;/synopsis&gt;
 7398       &lt;description&gt;
 7399 	Determines whether a class object reference represents an array.
 7400 	The &lt;code&gt;jboolean&lt;/code&gt; result is
 7401 	&lt;code&gt;JNI_TRUE&lt;/code&gt; if the class is an array,
 7402 	&lt;code&gt;JNI_FALSE&lt;/code&gt; otherwise.
 7403       &lt;/description&gt;
 7404       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7405       &lt;capabilities&gt;
 7406       &lt;/capabilities&gt;
 7407       &lt;parameters&gt;
 7408 	&lt;param id=&quot;klass&quot;&gt;
 7409 	  &lt;jclass/&gt;
 7410 	    &lt;description&gt;
 7411 	      The class to query.
 7412 	    &lt;/description&gt;
 7413 	&lt;/param&gt;
 7414 	&lt;param id=&quot;is_array_class_ptr&quot;&gt;
 7415 	  &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 7416 	  &lt;description&gt;
 7417 	    On return, points to the boolean result of this function.
 7418 
 7419 	  &lt;/description&gt;
 7420 	&lt;/param&gt;
 7421       &lt;/parameters&gt;
 7422       &lt;errors&gt;
 7423       &lt;/errors&gt;
 7424     &lt;/function&gt;
 7425 
 7426     &lt;function id=&quot;IsModifiableClass&quot; jkernel=&quot;yes&quot; phase=&quot;start&quot; num=&quot;45&quot; since=&quot;1.1&quot;&gt;
 7427       &lt;synopsis&gt;Is Modifiable Class&lt;/synopsis&gt;
 7428       &lt;description&gt;
 7429 	Determines whether a class is modifiable.
 7430         If a class is modifiable (&lt;paramlink id=&quot;is_modifiable_class_ptr&quot;/&gt;
 7431         returns &lt;code&gt;JNI_TRUE&lt;/code&gt;) the class can be
 7432         redefined with &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; (assuming
 7433         the agent possesses the
 7434         &lt;fieldlink id=&quot;can_redefine_classes&quot; struct=&quot;jvmtiCapabilities&quot;/&gt;
 7435         capability) or
 7436         retransformed with &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; (assuming
 7437         the agent possesses the
 7438         &lt;fieldlink id=&quot;can_retransform_classes&quot; struct=&quot;jvmtiCapabilities&quot;/&gt;
 7439         capability).
 7440         If a class is not modifiable (&lt;paramlink id=&quot;is_modifiable_class_ptr&quot;/&gt;
 7441         returns &lt;code&gt;JNI_FALSE&lt;/code&gt;) the class can be neither
 7442         redefined nor retransformed.
 7443         &lt;p/&gt;
 7444         Primitive classes (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;),
 7445         array classes, and some implementation defined classes are never modifiable.
 7446         &lt;p/&gt;
 7447       &lt;/description&gt;
 7448       &lt;origin&gt;new&lt;/origin&gt;
 7449       &lt;capabilities&gt;
 7450         &lt;capability id=&quot;can_redefine_any_class&quot;&gt;
 7451           If possessed then all classes (except primitive, array, and some implementation defined
 7452           classes) are modifiable (redefine or retransform).
 7453         &lt;/capability&gt;
 7454         &lt;capability id=&quot;can_retransform_any_class&quot;&gt;
 7455           If possessed then all classes (except primitive, array, and some implementation defined
 7456           classes) are modifiable with &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;.
 7457         &lt;/capability&gt;
 7458         &lt;capability id=&quot;can_redefine_classes&quot;&gt;
 7459           No effect on the result of the function.
 7460           But must additionally be possessed to modify the class with
 7461           &lt;functionlink id=&quot;RedefineClasses&quot;/&gt;.
 7462         &lt;/capability&gt;
 7463         &lt;capability id=&quot;can_retransform_classes&quot;&gt;
 7464           No effect on the result of the function.
 7465           But must additionally be possessed to modify the class with
 7466           &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;.
 7467         &lt;/capability&gt;
 7468       &lt;/capabilities&gt;
 7469       &lt;parameters&gt;
 7470 	&lt;param id=&quot;klass&quot;&gt;
 7471 	  &lt;jclass/&gt;
 7472 	    &lt;description&gt;
 7473 	      The class to query.
 7474 	    &lt;/description&gt;
 7475 	&lt;/param&gt;
 7476 	&lt;param id=&quot;is_modifiable_class_ptr&quot;&gt;
 7477 	  &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 7478 	  &lt;description&gt;
 7479 	    On return, points to the boolean result of this function.
 7480 	  &lt;/description&gt;
 7481 	&lt;/param&gt;
 7482       &lt;/parameters&gt;
 7483       &lt;errors&gt;
 7484       &lt;/errors&gt;
 7485     &lt;/function&gt;
 7486 
 7487     &lt;function id=&quot;GetClassLoader&quot; phase=&quot;start&quot; num=&quot;57&quot;&gt;
 7488       &lt;synopsis&gt;Get Class Loader&lt;/synopsis&gt;
 7489       &lt;description&gt;
 7490 	For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return via
 7491 	&lt;code&gt;classloader_ptr&lt;/code&gt; a reference to the class loader for the
 7492 	class.
 7493       &lt;/description&gt;
 7494       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7495       &lt;capabilities&gt;
 7496       &lt;/capabilities&gt;
 7497       &lt;parameters&gt;
 7498 	&lt;param id=&quot;klass&quot;&gt;
 7499 	  &lt;jclass/&gt;
 7500 	    &lt;description&gt;
 7501 	      The class to query.
 7502 	    &lt;/description&gt;
 7503 	&lt;/param&gt;
 7504 	&lt;param id=&quot;classloader_ptr&quot;&gt;
 7505 	  &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 7506 	    &lt;description&gt;
 7507 	      On return, points to the class loader that loaded
 7508 	      this class.
 7509               If the class was not created by a class loader
 7510               or if the class loader is the bootstrap class loader,
 7511               points to &lt;code&gt;NULL&lt;/code&gt;.
 7512  	    &lt;/description&gt;
 7513 	&lt;/param&gt;
 7514       &lt;/parameters&gt;
 7515       &lt;errors&gt;
 7516       &lt;/errors&gt;
 7517 
 7518     &lt;/function&gt;
 7519 
 7520     &lt;function id=&quot;GetSourceDebugExtension&quot; phase=&quot;start&quot; num=&quot;90&quot;&gt;
 7521       &lt;synopsis&gt;Get Source Debug Extension&lt;/synopsis&gt;
 7522       &lt;description&gt;
 7523 	For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return the debug
 7524         extension via &lt;code&gt;source_debug_extension_ptr&lt;/code&gt;.
 7525         The returned string
 7526 	contains exactly the debug extension information present in the
 7527 	class file of &lt;code&gt;klass&lt;/code&gt;.
 7528       &lt;/description&gt;
 7529       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7530       &lt;capabilities&gt;
 7531 	&lt;required id=&quot;can_get_source_debug_extension&quot;&gt;&lt;/required&gt;
 7532       &lt;/capabilities&gt;
 7533       &lt;parameters&gt;
 7534 	&lt;param id=&quot;klass&quot;&gt;
 7535 	  &lt;jclass/&gt;
 7536 	    &lt;description&gt;
 7537 	      The class to query.
 7538 	    &lt;/description&gt;
 7539 	&lt;/param&gt;
 7540 	&lt;param id=&quot;source_debug_extension_ptr&quot;&gt;
 7541 	  &lt;allocbuf&gt;&lt;char/&gt;&lt;/allocbuf&gt;
 7542 	  &lt;description&gt;
 7543 	    On return, points to the class&#39;s debug extension, encoded as a
 7544 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 7545 	  &lt;/description&gt;
 7546 	&lt;/param&gt;
 7547       &lt;/parameters&gt;
 7548       &lt;errors&gt;
 7549 	&lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 7550 	  Class information does not include a debug extension.
 7551 	&lt;/error&gt;
 7552       &lt;/errors&gt;
 7553     &lt;/function&gt;
 7554 
 7555     &lt;function id=&quot;RetransformClasses&quot; jkernel=&quot;yes&quot; num=&quot;152&quot; since=&quot;1.1&quot;&gt;
 7556       &lt;synopsis&gt;Retransform Classes&lt;/synopsis&gt;
 7557       &lt;description&gt;
 7558         This function facilitates the
 7559         &lt;internallink id=&quot;bci&quot;&gt;bytecode instrumentation&lt;/internallink&gt;
 7560         of already loaded classes.
 7561         To replace the class definition without reference to the existing
 7562         bytecodes, as one might do when recompiling from source for
 7563         fix-and-continue debugging, &lt;functionlink id=&quot;RedefineClasses&quot;/&gt;
 7564         function should be used instead.
 7565         &lt;p/&gt;
 7566         When classes are initially loaded or when they are
 7567         &lt;functionlink id=&quot;RedefineClasses&quot;&gt;redefined&lt;/functionlink&gt;,
 7568         the initial class file bytes can be transformed with the
 7569         &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event.
 7570         This function reruns the transformation process
 7571         (whether or not a transformation has previously occurred).
 7572         This retransformation follows these steps:
 7573         &lt;ul&gt;
 7574           &lt;li&gt;starting from the initial class file bytes
 7575           &lt;/li&gt;
 7576           &lt;li&gt;for each &lt;fieldlink id=&quot;can_retransform_classes&quot;
 7577                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
 7578                                                 incapable&lt;/fieldlink&gt;
 7579             agent which received a
 7580             &lt;code&gt;ClassFileLoadHook&lt;/code&gt; event during the previous
 7581             load or redefine, the bytes it returned
 7582             (via the &lt;code&gt;new_class_data&lt;/code&gt; parameter)
 7583             are reused as the output of the transformation;
 7584             note that this is equivalent to reapplying
 7585             the previous transformation, unaltered. except that
 7586             the &lt;code&gt;ClassFileLoadHook&lt;/code&gt; event
 7587             is &lt;b&gt;not&lt;/b&gt; sent to these agents
 7588           &lt;/li&gt;
 7589           &lt;li&gt;for each &lt;fieldlink id=&quot;can_retransform_classes&quot;
 7590                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
 7591                                                 capable&lt;/fieldlink&gt;
 7592             agent, the &lt;code&gt;ClassFileLoadHook&lt;/code&gt; event is sent,
 7593             allowing a new transformation to be applied
 7594           &lt;/li&gt;
 7595           &lt;li&gt;the transformed class file bytes are installed as the new
 7596             definition of the class
 7597           &lt;/li&gt;
 7598         &lt;/ul&gt;
 7599         See the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event for more details.
 7600         &lt;p/&gt;
 7601         The initial class file bytes represent the bytes passed to
 7602         &lt;code&gt;ClassLoader.defineClass&lt;/code&gt;
 7603         or &lt;code&gt;RedefineClasses&lt;/code&gt; (before any transformations
 7604         were applied), however they may not exactly match them.
 7605         The constant pool may differ in ways described in
 7606         &lt;functionlink id=&quot;GetConstantPool&quot;/&gt;.
 7607         Constant pool indices in the bytecodes of methods will correspond.
 7608         Some attributes may not be present.
 7609         Where order is not meaningful, for example the order of methods,
 7610         order may not be preserved.
 7611         &lt;p/&gt;
 7612         Retransformation can cause new versions of methods to be installed.
 7613         Old method versions may become
 7614         &lt;internallink id=&quot;obsoleteMethods&quot;&gt;obsolete&lt;/internallink&gt;
 7615         The new method version will be used on new invokes.
 7616         If a method has active stack frames, those active frames continue to
 7617         run the bytecodes of the original method version.
 7618         &lt;p/&gt;
 7619         This function does not cause any initialization except that which
 7620         would occur under the customary JVM semantics.
 7621         In other words, retransforming a class does not cause its initializers to be
 7622         run. The values of static fields will remain as they were
 7623         prior to the call.
 7624         &lt;p/&gt;
 7625         Threads need not be suspended.
 7626         &lt;p/&gt;
 7627         All breakpoints in the class are cleared.
 7628         &lt;p/&gt;
 7629         All attributes are updated.
 7630         &lt;p/&gt;
 7631         Instances of the retransformed class are not affected -- fields retain their
 7632         previous values.
 7633         &lt;functionlink id=&quot;GetTag&quot;&gt;Tags&lt;/functionlink&gt; on the instances are
 7634         also unaffected.
 7635         &lt;p/&gt;
 7636         In response to this call, no events other than the
 7637         &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event
 7638         will be sent.
 7639         &lt;p/&gt;
 7640         The retransformation may change method bodies, the constant pool and attributes
 7641         (unless explicitly prohibited).
 7642         The retransformation must not add, remove or rename fields or methods, change the
 7643         signatures of methods, change modifiers, or change inheritance.
 7644         The retransformation must not change the &lt;code&gt;NestHost&lt;/code&gt; or
 7645         &lt;code&gt;NestMembers&lt;/code&gt; attributes.
 7646         These restrictions may be lifted in future versions.
 7647         See the error return description below for information on error codes
 7648         returned if an unsupported retransformation is attempted.
 7649         The class file bytes are not verified or installed until they have passed
 7650         through the chain of &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events, thus the
 7651         returned error code reflects the result of the transformations.
 7652         If any error code is returned other than &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;,
 7653         none of the classes to be retransformed will have a new definition installed.
 7654         When this function returns (with the error code of &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;)
 7655         all of the classes to be retransformed will have their new definitions installed.
 7656       &lt;/description&gt;
 7657       &lt;origin&gt;new&lt;/origin&gt;
 7658       &lt;capabilities&gt;
 7659         &lt;required id=&quot;can_retransform_classes&quot;&gt;&lt;/required&gt;
 7660         &lt;capability id=&quot;can_retransform_any_class&quot;&gt;&lt;/capability&gt;
 7661       &lt;/capabilities&gt;
 7662       &lt;parameters&gt;
 7663         &lt;param id=&quot;class_count&quot;&gt;
 7664           &lt;jint min=&quot;0&quot;/&gt;
 7665           &lt;description&gt;
 7666             The number of classes to be retransformed.
 7667           &lt;/description&gt;
 7668         &lt;/param&gt;
 7669         &lt;param id=&quot;classes&quot;&gt;
 7670           &lt;inbuf incount=&quot;class_count&quot;&gt;&lt;jclass/&gt;&lt;/inbuf&gt;
 7671           &lt;description&gt;
 7672             The array of classes to be retransformed.
 7673           &lt;/description&gt;
 7674         &lt;/param&gt;
 7675       &lt;/parameters&gt;
 7676       &lt;errors&gt;
 7677         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_CLASS&quot;&gt;
 7678           One of the &lt;paramlink id=&quot;classes&quot;/&gt; cannot be modified.
 7679           See &lt;functionlink id=&quot;IsModifiableClass&quot;/&gt;.
 7680         &lt;/error&gt;
 7681         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 7682           One of the &lt;paramlink id=&quot;classes&quot;/&gt; is not a valid class.
 7683         &lt;/error&gt;
 7684         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_VERSION&quot;&gt;
 7685           A retransformed class file has a version number not supported by this VM.
 7686         &lt;/error&gt;
 7687         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS_FORMAT&quot;&gt;
 7688           A retransformed class file is malformed (The VM would return a &lt;code&gt;ClassFormatError&lt;/code&gt;).
 7689         &lt;/error&gt;
 7690         &lt;error id=&quot;JVMTI_ERROR_CIRCULAR_CLASS_DEFINITION&quot;&gt;
 7691           The retransformed class file definitions would lead to a circular definition
 7692           (the VM would return a &lt;code&gt;ClassCircularityError&lt;/code&gt;).
 7693         &lt;/error&gt;
 7694         &lt;error id=&quot;JVMTI_ERROR_FAILS_VERIFICATION&quot;&gt;
 7695           The retransformed class file bytes fail verification.
 7696         &lt;/error&gt;
 7697         &lt;error id=&quot;JVMTI_ERROR_NAMES_DONT_MATCH&quot;&gt;
 7698           The class name defined in a retransformed class file is
 7699           different from the name in the old class object.
 7700         &lt;/error&gt;
 7701         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_ADDED&quot;&gt;
 7702           A retransformed class file would require adding a method.
 7703         &lt;/error&gt;
 7704         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_SCHEMA_CHANGED&quot;&gt;
 7705           A retransformed class file changes a field.
 7706         &lt;/error&gt;
 7707         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_HIERARCHY_CHANGED&quot;&gt;
 7708           A direct superclass is different for a retransformed class file,
 7709           or the set of directly implemented
 7710           interfaces is different.
 7711         &lt;/error&gt;
 7712         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_DELETED&quot;&gt;
 7713           A retransformed class file does not declare a method
 7714           declared in the old class version.
 7715         &lt;/error&gt;
 7716         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_ATTRIBUTE_CHANGED&quot;&gt;
 7717           A retransformed class file has unsupported differences in class attributes.
 7718         &lt;/error&gt;
 7719         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_MODIFIERS_CHANGED&quot;&gt;
 7720           A retransformed class file has different class modifiers.
 7721         &lt;/error&gt;
 7722         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_MODIFIERS_CHANGED&quot;&gt;
 7723           A method in the retransformed class file has different modifiers
 7724           than its counterpart in the old class version.
 7725         &lt;/error&gt;
 7726       &lt;/errors&gt;
 7727     &lt;/function&gt;
 7728 
 7729     &lt;function id=&quot;RedefineClasses&quot; jkernel=&quot;yes&quot; num=&quot;87&quot;&gt;
 7730       &lt;synopsis&gt;Redefine Classes&lt;/synopsis&gt;
 7731       &lt;typedef id=&quot;jvmtiClassDefinition&quot; label=&quot;Class redefinition description&quot;&gt;
 7732 	&lt;field id=&quot;klass&quot;&gt;
 7733 	  &lt;jclass/&gt;
 7734 	    &lt;description&gt;
 7735 	      Class object for this class
 7736 	    &lt;/description&gt;
 7737 	&lt;/field&gt;
 7738 	&lt;field id=&quot;class_byte_count&quot;&gt;
 7739 	  &lt;jint/&gt;
 7740 	  &lt;description&gt;
 7741 	    Number of bytes defining class (below)
 7742 	  &lt;/description&gt;
 7743 	&lt;/field&gt;
 7744 	&lt;field id=&quot;class_bytes&quot;&gt;
 7745 	  &lt;inbuf incount=&quot;class_byte_count&quot;&gt;&lt;uchar/&gt;&lt;/inbuf&gt;
 7746 	  &lt;description&gt;
 7747             Bytes defining class (in &lt;vmspec chapter=&quot;4&quot;/&gt;)
 7748 	  &lt;/description&gt;
 7749 	&lt;/field&gt;
 7750       &lt;/typedef&gt;
 7751       &lt;description&gt;
 7752 	All classes given are redefined according to the definitions
 7753 	supplied.
 7754 	This function is used to replace the definition of a class
 7755 	with a new definition, as might be needed in fix-and-continue
 7756 	debugging.
 7757 	Where the existing class file bytes are to be transformed, for
 7758 	example in
 7759 	&lt;internallink id=&quot;bci&quot;&gt;bytecode instrumentation&lt;/internallink&gt;,
 7760 	&lt;functionlink id=&quot;RetransformClasses&quot;/&gt; should be used.
 7761 	&lt;p/&gt;
 7762 	Redefinition can cause new versions of methods to be installed.
 7763 	Old method versions may become
 7764 	&lt;internallink id=&quot;obsoleteMethods&quot;&gt;obsolete&lt;/internallink&gt;
 7765 	The new method version will be used on new invokes.
 7766 	If a method has active stack frames, those active frames continue to
 7767         run the bytecodes of the original method version.
 7768 	If resetting of stack frames is desired, use
 7769 	&lt;functionlink id=&quot;PopFrame&quot;&gt;&lt;/functionlink&gt;
 7770 	to pop frames with obsolete method versions.
 7771 	&lt;p/&gt;
 7772 	This function does not cause any initialization except that which
 7773 	would occur under the customary JVM semantics.
 7774 	In other words, redefining a class does not cause its initializers to be
 7775 	run. The values of static fields will remain as they were
 7776 	prior to the call.
 7777 	&lt;p/&gt;
 7778 	Threads need not be suspended.
 7779 	&lt;p/&gt;
 7780 	All breakpoints in the class are cleared.
 7781 	&lt;p/&gt;
 7782 	All attributes are updated.
 7783 	&lt;p/&gt;
 7784         Instances of the redefined class are not affected -- fields retain their
 7785         previous values.
 7786 	&lt;functionlink id=&quot;GetTag&quot;&gt;Tags&lt;/functionlink&gt; on the instances are
 7787         also unaffected.
 7788 	&lt;p/&gt;
 7789 	In response to this call, the &lt;jvmti/&gt; event
 7790         &lt;eventlink id=&quot;ClassFileLoadHook&quot;&gt;Class File Load Hook&lt;/eventlink&gt;
 7791         will be sent (if enabled), but no other &lt;jvmti/&gt; events will be sent.
 7792         &lt;p/&gt;
 7793         The redefinition may change method bodies, the constant pool and attributes
 7794         (unless explicitly prohibited).
 7795         The redefinition must not add, remove or rename fields or methods, change the
 7796         signatures of methods, change modifiers, or change inheritance.
 7797         The retransformation must not change the &lt;code&gt;NestHost&lt;/code&gt; or
 7798         &lt;code&gt;NestMembers&lt;/code&gt; attributes.
 7799         These restrictions may be lifted in future versions.
 7800 	See the error return description below for information on error codes
 7801 	returned if an unsupported redefinition is attempted.
 7802         The class file bytes are not verified or installed until they have passed
 7803         through the chain of &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events, thus the
 7804         returned error code reflects the result of the transformations applied
 7805         to the bytes passed into &lt;paramlink id=&quot;class_definitions&quot;/&gt;.
 7806         If any error code is returned other than &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;,
 7807         none of the classes to be redefined will have a new definition installed.
 7808         When this function returns (with the error code of &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;)
 7809         all of the classes to be redefined will have their new definitions installed.
 7810       &lt;/description&gt;
 7811       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7812       &lt;capabilities&gt;
 7813 	&lt;required id=&quot;can_redefine_classes&quot;&gt;&lt;/required&gt;
 7814         &lt;capability id=&quot;can_redefine_any_class&quot;&gt;&lt;/capability&gt;
 7815       &lt;/capabilities&gt;
 7816       &lt;parameters&gt;
 7817 	&lt;param id=&quot;class_count&quot;&gt;
 7818 	  &lt;jint min=&quot;0&quot;/&gt;
 7819 	  &lt;description&gt;
 7820 	    The number of classes specified in &lt;code&gt;class_definitions&lt;/code&gt;
 7821 	  &lt;/description&gt;
 7822 	&lt;/param&gt;
 7823 	&lt;param id=&quot;class_definitions&quot;&gt;
 7824 	  &lt;inbuf incount=&quot;class_count&quot;&gt;&lt;struct&gt;jvmtiClassDefinition&lt;/struct&gt;&lt;/inbuf&gt;
 7825 	  &lt;description&gt;
 7826 	    The array of new class definitions
 7827 	  &lt;/description&gt;
 7828 	&lt;/param&gt;
 7829       &lt;/parameters&gt;
 7830       &lt;errors&gt;
 7831 	&lt;error id=&quot;JVMTI_ERROR_NULL_POINTER&quot;&gt;
 7832 	  One of &lt;code&gt;class_bytes&lt;/code&gt; is &lt;code&gt;NULL&lt;/code&gt;.
 7833 	&lt;/error&gt;
 7834 	&lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_CLASS&quot;&gt;
 7835 	  An element of &lt;code&gt;class_definitions&lt;/code&gt; cannot be modified.
 7836           See &lt;functionlink id=&quot;IsModifiableClass&quot;/&gt;.
 7837 	&lt;/error&gt;
 7838 	&lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 7839 	  An element of &lt;code&gt;class_definitions&lt;/code&gt; is not a valid class.
 7840 	&lt;/error&gt;
 7841 	&lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_VERSION&quot;&gt;
 7842 	  A new class file has a version number not supported by this VM.
 7843 	&lt;/error&gt;
 7844 	&lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS_FORMAT&quot;&gt;
 7845 	  A new class file is malformed (The VM would return a &lt;code&gt;ClassFormatError&lt;/code&gt;).
 7846 	&lt;/error&gt;
 7847 	&lt;error id=&quot;JVMTI_ERROR_CIRCULAR_CLASS_DEFINITION&quot;&gt;
 7848 	  The new class file definitions would lead to a circular definition
 7849 	  (the VM would return a &lt;code&gt;ClassCircularityError&lt;/code&gt;).
 7850 	&lt;/error&gt;
 7851 	&lt;error id=&quot;JVMTI_ERROR_FAILS_VERIFICATION&quot;&gt;
 7852 	  The class bytes fail verification.
 7853 	&lt;/error&gt;
 7854 	&lt;error id=&quot;JVMTI_ERROR_NAMES_DONT_MATCH&quot;&gt;
 7855 	  The class name defined in a new class file is
 7856 	  different from the name in the old class object.
 7857 	&lt;/error&gt;
 7858 	&lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_ADDED&quot;&gt;
 7859 	  A new class file would require adding a method.
 7860 	&lt;/error&gt;
 7861 	&lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_SCHEMA_CHANGED&quot;&gt;
 7862 	  A new class version changes a field.
 7863 	&lt;/error&gt;
 7864 	&lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_HIERARCHY_CHANGED&quot;&gt;
 7865 	  A direct superclass is different for a new class
 7866 	  version, or the set of directly implemented
 7867 	  interfaces is different.
 7868 	&lt;/error&gt;
 7869 	&lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_DELETED&quot;&gt;
 7870 	  A new class version does not declare a method
 7871 	  declared in the old class version.
 7872 	&lt;/error&gt;
 7873         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_ATTRIBUTE_CHANGED&quot;&gt;
 7874           A new class version has unsupported differences in class attributes.
 7875         &lt;/error&gt;
 7876 	&lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_MODIFIERS_CHANGED&quot;&gt;
 7877 	  A new class version has different modifiers.
 7878 	&lt;/error&gt;
 7879 	&lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_MODIFIERS_CHANGED&quot;&gt;
 7880 	  A method in the new class version has different modifiers
 7881 	  than its counterpart in the old class version.
 7882 	&lt;/error&gt;
 7883         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 7884           A module cannot be modified.
 7885           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 7886         &lt;/error&gt;
 7887       &lt;/errors&gt;
 7888     &lt;/function&gt;
 7889 
 7890   &lt;/category&gt;
 7891 
 7892   &lt;category id=&quot;object&quot; label=&quot;Object&quot;&gt;
 7893 
 7894     &lt;function id=&quot;GetObjectSize&quot; jkernel=&quot;yes&quot; phase=&quot;start&quot; num=&quot;154&quot;&gt;
 7895       &lt;synopsis&gt;Get Object Size&lt;/synopsis&gt;
 7896       &lt;description&gt;
 7897 	For the object indicated by &lt;code&gt;object&lt;/code&gt;,
 7898 	return via &lt;code&gt;size_ptr&lt;/code&gt; the size of the object.
 7899         This size is an implementation-specific approximation of
 7900         the amount of storage consumed by this object.
 7901         It may include some or all of the object&#39;s overhead, and thus
 7902         is useful for comparison within an implementation but not
 7903         between implementations.
 7904         The estimate may change during a single invocation of the JVM.
 7905       &lt;/description&gt;
 7906       &lt;origin&gt;new&lt;/origin&gt;
 7907       &lt;capabilities&gt;
 7908       &lt;/capabilities&gt;
 7909       &lt;parameters&gt;
 7910 	&lt;param id=&quot;object&quot;&gt;
 7911 	  &lt;jobject/&gt;
 7912 	    &lt;description&gt;
 7913 	      The object to query.
 7914 	    &lt;/description&gt;
 7915 	&lt;/param&gt;
 7916 	&lt;param id=&quot;size_ptr&quot;&gt;
 7917 	  &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 7918 	  &lt;description&gt;
 7919 	    On return, points to the object&#39;s size in bytes.
 7920 	  &lt;/description&gt;
 7921 	&lt;/param&gt;
 7922       &lt;/parameters&gt;
 7923       &lt;errors&gt;
 7924       &lt;/errors&gt;
 7925     &lt;/function&gt;
 7926 
 7927     &lt;function id=&quot;GetObjectHashCode&quot; phase=&quot;start&quot; num=&quot;58&quot;&gt;
 7928       &lt;synopsis&gt;Get Object Hash Code&lt;/synopsis&gt;
 7929       &lt;description&gt;
 7930 	For the object indicated by &lt;code&gt;object&lt;/code&gt;,
 7931 	return via &lt;code&gt;hash_code_ptr&lt;/code&gt; a hash code.
 7932         This hash code could be used to maintain a hash table of object references,
 7933         however, on some implementations this can cause significant performance
 7934         impacts--in most cases
 7935         &lt;internallink id=&quot;Heap&quot;&gt;tags&lt;/internallink&gt;
 7936         will be a more efficient means of associating information with objects.
 7937 	This function guarantees
 7938 	the same hash code value for a particular object throughout its life
 7939       &lt;/description&gt;
 7940       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7941       &lt;capabilities&gt;
 7942       &lt;/capabilities&gt;
 7943       &lt;parameters&gt;
 7944 	&lt;param id=&quot;object&quot;&gt;
 7945 	  &lt;jobject/&gt;
 7946 	    &lt;description&gt;
 7947 	      The object to query.
 7948 	    &lt;/description&gt;
 7949 	&lt;/param&gt;
 7950 	&lt;param id=&quot;hash_code_ptr&quot;&gt;
 7951 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7952 	  &lt;description&gt;
 7953 	    On return, points to the object&#39;s hash code.
 7954 	  &lt;/description&gt;
 7955 	&lt;/param&gt;
 7956       &lt;/parameters&gt;
 7957       &lt;errors&gt;
 7958       &lt;/errors&gt;
 7959     &lt;/function&gt;
 7960 
 7961     &lt;function id=&quot;GetObjectMonitorUsage&quot; num=&quot;59&quot;&gt;
 7962       &lt;synopsis&gt;Get Object Monitor Usage&lt;/synopsis&gt;
 7963       &lt;typedef id=&quot;jvmtiMonitorUsage&quot; label=&quot;Object monitor usage information&quot;&gt;
 7964 	&lt;field id=&quot;owner&quot;&gt;
 7965 	  &lt;jthread/&gt;
 7966 	    &lt;description&gt;
 7967 	      The thread owning this monitor, or &lt;code&gt;NULL&lt;/code&gt; if unused
 7968 	    &lt;/description&gt;
 7969 	&lt;/field&gt;
 7970 	&lt;field id=&quot;entry_count&quot;&gt;
 7971 	  &lt;jint/&gt;
 7972 	  &lt;description&gt;
 7973 	    The number of times the owning thread has entered the monitor
 7974 	  &lt;/description&gt;
 7975 	&lt;/field&gt;
 7976 	&lt;field id=&quot;waiter_count&quot;&gt;
 7977 	  &lt;jint/&gt;
 7978 	  &lt;description&gt;
 7979 	    The number of threads waiting to own this monitor
 7980 	  &lt;/description&gt;
 7981 	&lt;/field&gt;
 7982 	&lt;field id=&quot;waiters&quot;&gt;
 7983 	  &lt;allocfieldbuf&gt;&lt;jthread/&gt;&lt;/allocfieldbuf&gt;
 7984 	    &lt;description&gt;
 7985 	      The &lt;code&gt;waiter_count&lt;/code&gt; waiting threads
 7986 	    &lt;/description&gt;
 7987 	&lt;/field&gt;
 7988 	&lt;field id=&quot;notify_waiter_count&quot;&gt;
 7989 	  &lt;jint/&gt;
 7990 	  &lt;description&gt;
 7991 	    The number of threads waiting to be notified by this monitor
 7992 	  &lt;/description&gt;
 7993 	&lt;/field&gt;
 7994 	&lt;field id=&quot;notify_waiters&quot;&gt;
 7995 	  &lt;allocfieldbuf&gt;&lt;jthread/&gt;&lt;/allocfieldbuf&gt;
 7996 	    &lt;description&gt;
 7997 	      The &lt;code&gt;notify_waiter_count&lt;/code&gt; threads waiting to be notified
 7998 	    &lt;/description&gt;
 7999 	&lt;/field&gt;
 8000       &lt;/typedef&gt;
 8001       &lt;description&gt;
 8002 	Get information about the object&#39;s monitor.
 8003 	The fields of the &lt;functionlink id=&quot;jvmtiMonitorUsage&quot;&gt;&lt;/functionlink&gt; structure
 8004 	are filled in with information about usage of the monitor.
 8005 	  &lt;todo&gt;
 8006 	    Decide and then clarify suspend requirements.
 8007 	  &lt;/todo&gt;
 8008       &lt;/description&gt;
 8009       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8010       &lt;capabilities&gt;
 8011 	&lt;required id=&quot;can_get_monitor_info&quot;&gt;&lt;/required&gt;
 8012       &lt;/capabilities&gt;
 8013       &lt;parameters&gt;
 8014 	&lt;param id=&quot;object&quot;&gt;
 8015 	  &lt;jobject/&gt;
 8016 	    &lt;description&gt;
 8017 	      The object to query.
 8018 	    &lt;/description&gt;
 8019 	&lt;/param&gt;
 8020 	&lt;param id=&quot;info_ptr&quot;&gt;
 8021 	  &lt;outptr&gt;&lt;struct&gt;jvmtiMonitorUsage&lt;/struct&gt;&lt;/outptr&gt;
 8022 	  &lt;description&gt;
 8023 	    On return, filled with monitor information for the
 8024 	    specified object.
 8025 	  &lt;/description&gt;
 8026 	&lt;/param&gt;
 8027       &lt;/parameters&gt;
 8028       &lt;errors&gt;
 8029       &lt;/errors&gt;
 8030     &lt;/function&gt;
 8031 
 8032     &lt;elide&gt;
 8033     &lt;function id=&quot;GetObjectMonitors&quot; num=&quot;116&quot;&gt;
 8034       &lt;synopsis&gt;Get Object Monitors&lt;/synopsis&gt;
 8035       &lt;description&gt;
 8036         Return the list of object monitors.
 8037         &lt;p/&gt;
 8038         Note: details about each monitor can be examined with
 8039         &lt;functionlink id=&quot;GetObjectMonitorUsage&quot;&gt;&lt;/functionlink&gt;.
 8040       &lt;/description&gt;
 8041       &lt;origin&gt;new&lt;/origin&gt;
 8042       &lt;capabilities&gt;
 8043         &lt;required id=&quot;can_get_monitor_info&quot;&gt;&lt;/required&gt;
 8044       &lt;/capabilities&gt;
 8045       &lt;parameters&gt;
 8046         &lt;param id=&quot;monitorCnt&quot;&gt;
 8047 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8048 	  &lt;description&gt;
 8049 	    On return, pointer to the number
 8050 	    of monitors returned in &lt;code&gt;monitors_ptr&lt;/code&gt;.
 8051 	  &lt;/description&gt;
 8052 	&lt;/param&gt;
 8053         &lt;param id=&quot;monitors_ptr&quot;&gt;
 8054 	  &lt;allocbuf outcount=&quot;monitorCnt&quot;&gt;&lt;jobject/&gt;&lt;/allocbuf&gt;
 8055 	    &lt;description&gt;
 8056 	      On return, pointer to the monitor list.
 8057 	    &lt;/description&gt;
 8058 	&lt;/param&gt;
 8059       &lt;/parameters&gt;
 8060       &lt;errors&gt;
 8061       &lt;/errors&gt;
 8062     &lt;/function&gt;
 8063     &lt;/elide&gt;
 8064 
 8065   &lt;/category&gt;
 8066 
 8067   &lt;category id=&quot;fieldCategory&quot; label=&quot;Field&quot;&gt;
 8068 
 8069     &lt;intro&gt;
 8070     &lt;/intro&gt;
 8071 
 8072     &lt;function id=&quot;GetFieldName&quot; phase=&quot;start&quot; num=&quot;60&quot;&gt;
 8073       &lt;synopsis&gt;Get Field Name (and Signature)&lt;/synopsis&gt;
 8074       &lt;description&gt;
 8075 	For the field indicated by &lt;paramlink id=&quot;klass&quot;/&gt; and &lt;paramlink id=&quot;field&quot;/&gt;,
 8076 	return the field name via &lt;paramlink id=&quot;name_ptr&quot;/&gt; and field signature via
 8077 	&lt;paramlink id=&quot;signature_ptr&quot;/&gt;.
 8078 	&lt;p/&gt;
 8079         Field signatures are defined in the
 8080         &lt;externallink id=&quot;jni/index.html&quot;&gt;JNI Specification&lt;/externallink&gt;
 8081         and are referred to as &lt;code&gt;field descriptors&lt;/code&gt; in
 8082         &lt;vmspec chapter=&quot;4.3.2&quot;/&gt;.
 8083       &lt;/description&gt;
 8084       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 8085       &lt;capabilities&gt;
 8086       &lt;/capabilities&gt;
 8087       &lt;parameters&gt;
 8088 	&lt;param id=&quot;klass&quot;&gt;
 8089 	  &lt;jclass field=&quot;field&quot;/&gt;
 8090 	    &lt;description&gt;
 8091 	      The class of the field to query.
 8092 	    &lt;/description&gt;
 8093 	&lt;/param&gt;
 8094 	&lt;param id=&quot;field&quot;&gt;
 8095 	  &lt;jfieldID class=&quot;klass&quot;/&gt;
 8096 	    &lt;description&gt;
 8097 	      The field to query.
 8098 	    &lt;/description&gt;
 8099 	&lt;/param&gt;
 8100 	&lt;param id=&quot;name_ptr&quot;&gt;
 8101 	  &lt;allocbuf&gt;
 8102 	    &lt;char/&gt;
 8103 	    &lt;nullok&gt;the name is not returned&lt;/nullok&gt;
 8104 	  &lt;/allocbuf&gt;
 8105 	  &lt;description&gt;
 8106 	    On return, points to the field name, encoded as a
 8107 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8108 	  &lt;/description&gt;
 8109 	&lt;/param&gt;
 8110 	&lt;param id=&quot;signature_ptr&quot;&gt;
 8111 	  &lt;allocbuf&gt;
 8112 	    &lt;char/&gt;
 8113 	    &lt;nullok&gt;the signature is not returned&lt;/nullok&gt;
 8114 	  &lt;/allocbuf&gt;
 8115 	  &lt;description&gt;
 8116 	    On return, points to the field signature, encoded as a
 8117 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8118 	  &lt;/description&gt;
 8119 	&lt;/param&gt;
 8120 	&lt;param id=&quot;generic_ptr&quot;&gt;
 8121 	  &lt;allocbuf&gt;
 8122             &lt;char/&gt;
 8123             &lt;nullok&gt;the generic signature is not returned&lt;/nullok&gt;
 8124           &lt;/allocbuf&gt;
 8125 	  &lt;description&gt;
 8126 	    On return, points to the generic signature of the field, encoded as a
 8127 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8128             If there is no generic signature attribute for the field, then,
 8129             on return, points to &lt;code&gt;NULL&lt;/code&gt;.
 8130 	  &lt;/description&gt;
 8131 	&lt;/param&gt;
 8132       &lt;/parameters&gt;
 8133       &lt;errors&gt;
 8134       &lt;/errors&gt;
 8135     &lt;/function&gt;
 8136 
 8137     &lt;function id=&quot;GetFieldDeclaringClass&quot; phase=&quot;start&quot; num=&quot;61&quot;&gt;
 8138       &lt;synopsis&gt;Get Field Declaring Class&lt;/synopsis&gt;
 8139       &lt;description&gt;
 8140 	For the field indicated by &lt;code&gt;klass&lt;/code&gt; and &lt;code&gt;field&lt;/code&gt;
 8141 	return the class that defined it via &lt;code&gt;declaring_class_ptr&lt;/code&gt;.
 8142 	The declaring class will either be &lt;code&gt;klass&lt;/code&gt;, a superclass, or
 8143 	an implemented interface.
 8144       &lt;/description&gt;
 8145       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8146       &lt;capabilities&gt;
 8147       &lt;/capabilities&gt;
 8148       &lt;parameters&gt;
 8149 	&lt;param id=&quot;klass&quot;&gt;
 8150 	  &lt;jclass field=&quot;field&quot;/&gt;
 8151 	    &lt;description&gt;
 8152 	      The class to query.
 8153 	    &lt;/description&gt;
 8154 	&lt;/param&gt;
 8155 	&lt;param id=&quot;field&quot;&gt;
 8156 	  &lt;jfieldID class=&quot;klass&quot;/&gt;
 8157 	    &lt;description&gt;
 8158 	      The field to query.
 8159 	    &lt;/description&gt;
 8160 	&lt;/param&gt;
 8161 	&lt;param id=&quot;declaring_class_ptr&quot;&gt;
 8162 	  &lt;outptr&gt;&lt;jclass/&gt;&lt;/outptr&gt;
 8163 	    &lt;description&gt;
 8164 	      On return, points to the declaring class
 8165 	    &lt;/description&gt;
 8166 	&lt;/param&gt;
 8167       &lt;/parameters&gt;
 8168       &lt;errors&gt;
 8169       &lt;/errors&gt;
 8170     &lt;/function&gt;
 8171 
 8172     &lt;function id=&quot;GetFieldModifiers&quot; phase=&quot;start&quot; num=&quot;62&quot;&gt;
 8173       &lt;synopsis&gt;Get Field Modifiers&lt;/synopsis&gt;
 8174       &lt;description&gt;
 8175 	For the field indicated by &lt;code&gt;klass&lt;/code&gt; and &lt;code&gt;field&lt;/code&gt;
 8176 	return the access flags via &lt;code&gt;modifiers_ptr&lt;/code&gt;.
 8177 	Access flags are defined in &lt;vmspec chapter=&quot;4&quot;/&gt;.
 8178       &lt;/description&gt;
 8179       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8180       &lt;capabilities&gt;
 8181       &lt;/capabilities&gt;
 8182       &lt;parameters&gt;
 8183 	&lt;param id=&quot;klass&quot;&gt;
 8184 	  &lt;jclass field=&quot;field&quot;/&gt;
 8185 	    &lt;description&gt;
 8186 	      The class to query.
 8187 	    &lt;/description&gt;
 8188 	&lt;/param&gt;
 8189 	&lt;param id=&quot;field&quot;&gt;
 8190 	  &lt;jfieldID class=&quot;klass&quot;/&gt;
 8191 	    &lt;description&gt;
 8192 	      The field to query.
 8193 	    &lt;/description&gt;
 8194 	&lt;/param&gt;
 8195 	&lt;param id=&quot;modifiers_ptr&quot;&gt;
 8196 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8197 	  &lt;description&gt;
 8198 	    On return, points to the access flags.
 8199 	  &lt;/description&gt;
 8200 	&lt;/param&gt;
 8201       &lt;/parameters&gt;
 8202       &lt;errors&gt;
 8203       &lt;/errors&gt;
 8204     &lt;/function&gt;
 8205 
 8206     &lt;function id=&quot;IsFieldSynthetic&quot; phase=&quot;start&quot; num=&quot;63&quot;&gt;
 8207       &lt;synopsis&gt;Is Field Synthetic&lt;/synopsis&gt;
 8208       &lt;description&gt;
 8209 	For the field indicated by &lt;code&gt;klass&lt;/code&gt; and &lt;code&gt;field&lt;/code&gt;, return a
 8210 	value indicating whether the field is synthetic via &lt;code&gt;is_synthetic_ptr&lt;/code&gt;.
 8211 	Synthetic fields are generated by the compiler but not present in the
 8212 	original source code.
 8213       &lt;/description&gt;
 8214       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8215       &lt;capabilities&gt;
 8216         &lt;required id=&quot;can_get_synthetic_attribute&quot;&gt;&lt;/required&gt;
 8217       &lt;/capabilities&gt;
 8218       &lt;parameters&gt;
 8219 	&lt;param id=&quot;klass&quot;&gt;
 8220 	  &lt;jclass field=&quot;field&quot;/&gt;
 8221 	    &lt;description&gt;
 8222 	      The class of the field to query.
 8223 	    &lt;/description&gt;
 8224 	&lt;/param&gt;
 8225 	&lt;param id=&quot;field&quot;&gt;
 8226 	  &lt;jfieldID class=&quot;klass&quot;/&gt;
 8227 	    &lt;description&gt;
 8228 	      The field to query.
 8229 	    &lt;/description&gt;
 8230 	&lt;/param&gt;
 8231 	&lt;param id=&quot;is_synthetic_ptr&quot;&gt;
 8232 	  &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 8233 	  &lt;description&gt;
 8234 	    On return, points to the boolean result of this function.
 8235 	  &lt;/description&gt;
 8236 	&lt;/param&gt;
 8237       &lt;/parameters&gt;
 8238       &lt;errors&gt;
 8239       &lt;/errors&gt;
 8240     &lt;/function&gt;
 8241 
 8242   &lt;/category&gt;
 8243 
 8244   &lt;category id=&quot;method&quot; label=&quot;Method&quot;&gt;
 8245 
 8246     &lt;intro&gt;
 8247       These functions provide information about a method (represented as a
 8248       &lt;typelink id=&quot;jmethodID&quot;/&gt;) and set how methods are processed.
 8249     &lt;/intro&gt;
 8250 
 8251     &lt;intro id=&quot;obsoleteMethods&quot; label=&quot;Obsolete Methods&quot;&gt;
 8252       The functions &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; and
 8253       &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; can cause new versions
 8254       of methods to be installed.
 8255       An original version of a method is considered equivalent
 8256       to the new version if:
 8257       &lt;ul&gt;
 8258         &lt;li&gt;their bytecodes are the same except for indices into the
 8259           constant pool and &lt;/li&gt;
 8260         &lt;li&gt;the referenced constants are equal.&lt;/li&gt;
 8261       &lt;/ul&gt;
 8262       An original method version which is not equivalent to the
 8263       new method version is called obsolete and is assigned a new method ID;
 8264       the original method ID now refers to the new method version.
 8265       A method ID can be tested for obsolescence with
 8266       &lt;functionlink id=&quot;IsMethodObsolete&quot;/&gt;.
 8267     &lt;/intro&gt;
 8268 
 8269     &lt;function id=&quot;GetMethodName&quot; phase=&quot;start&quot; num=&quot;64&quot;&gt;
 8270       &lt;synopsis&gt;Get Method Name (and Signature)&lt;/synopsis&gt;
 8271       &lt;description&gt;
 8272 	For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8273 	return the method name via &lt;code&gt;name_ptr&lt;/code&gt; and method signature via
 8274 	&lt;code&gt;signature_ptr&lt;/code&gt;.
 8275         &lt;p/&gt;
 8276         Method signatures are defined in the
 8277         &lt;externallink id=&quot;jni/index.html&quot;&gt;JNI Specification&lt;/externallink&gt;
 8278         and are referred to as &lt;code&gt;method descriptors&lt;/code&gt; in
 8279         &lt;vmspec chapter=&quot;4.3.3&quot;/&gt;.
 8280 	Note this is different
 8281 	than method signatures as defined in the &lt;i&gt;Java Language Specification&lt;/i&gt;.
 8282       &lt;/description&gt;
 8283       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 8284       &lt;capabilities&gt;
 8285       &lt;/capabilities&gt;
 8286       &lt;parameters&gt;
 8287 	&lt;param id=&quot;method&quot;&gt;
 8288 	  &lt;jmethodID/&gt;
 8289 	    &lt;description&gt;
 8290 	      The method to query.
 8291 	    &lt;/description&gt;
 8292 	&lt;/param&gt;
 8293 	&lt;param id=&quot;name_ptr&quot;&gt;
 8294 	  &lt;allocbuf&gt;
 8295 	    &lt;char/&gt;
 8296 	    &lt;nullok&gt;the name is not returned&lt;/nullok&gt;
 8297 	  &lt;/allocbuf&gt;
 8298 	  &lt;description&gt;
 8299 	    On return, points to the method name, encoded as a
 8300 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8301 	  &lt;/description&gt;
 8302 	&lt;/param&gt;
 8303 	&lt;param id=&quot;signature_ptr&quot;&gt;
 8304 	  &lt;allocbuf&gt;
 8305 	    &lt;char/&gt;
 8306 	    &lt;nullok&gt;the signature is not returned&lt;/nullok&gt;
 8307 	  &lt;/allocbuf&gt;
 8308 	  &lt;description&gt;
 8309 	    On return, points to the method signature, encoded as a
 8310 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8311 	  &lt;/description&gt;
 8312 	&lt;/param&gt;
 8313 	&lt;param id=&quot;generic_ptr&quot;&gt;
 8314 	  &lt;allocbuf&gt;
 8315             &lt;char/&gt;
 8316             &lt;nullok&gt;the generic signature is not returned&lt;/nullok&gt;
 8317           &lt;/allocbuf&gt;
 8318 	  &lt;description&gt;
 8319 	    On return, points to the generic signature of the method, encoded as a
 8320 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8321             If there is no generic signature attribute for the method, then,
 8322             on return, points to &lt;code&gt;NULL&lt;/code&gt;.
 8323 	  &lt;/description&gt;
 8324 	&lt;/param&gt;
 8325       &lt;/parameters&gt;
 8326       &lt;errors&gt;
 8327       &lt;/errors&gt;
 8328     &lt;/function&gt;
 8329 
 8330     &lt;function id=&quot;GetMethodDeclaringClass&quot; phase=&quot;start&quot; num=&quot;65&quot;&gt;
 8331       &lt;synopsis&gt;Get Method Declaring Class&lt;/synopsis&gt;
 8332       &lt;description&gt;
 8333 	For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8334 	return the class that defined it via &lt;code&gt;declaring_class_ptr&lt;/code&gt;.
 8335       &lt;/description&gt;
 8336       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8337       &lt;capabilities&gt;
 8338       &lt;/capabilities&gt;
 8339       &lt;parameters&gt;
 8340 	&lt;param id=&quot;klass&quot;&gt;
 8341 	  &lt;jclass method=&quot;method&quot;/&gt;
 8342 	    &lt;description&gt;
 8343 	      The class to query.
 8344 	    &lt;/description&gt;
 8345 	&lt;/param&gt;
 8346 	&lt;param id=&quot;method&quot;&gt;
 8347 	  &lt;jmethodID class=&quot;klass&quot;/&gt;
 8348 	    &lt;description&gt;
 8349 	      The method to query.
 8350 	    &lt;/description&gt;
 8351 	&lt;/param&gt;
 8352 	&lt;param id=&quot;declaring_class_ptr&quot;&gt;
 8353 	  &lt;outptr&gt;&lt;jclass/&gt;&lt;/outptr&gt;
 8354 	    &lt;description&gt;
 8355 	      On return, points to the declaring class
 8356 	    &lt;/description&gt;
 8357 	&lt;/param&gt;
 8358       &lt;/parameters&gt;
 8359       &lt;errors&gt;
 8360       &lt;/errors&gt;
 8361     &lt;/function&gt;
 8362 
 8363     &lt;function id=&quot;GetMethodModifiers&quot; phase=&quot;start&quot; num=&quot;66&quot;&gt;
 8364       &lt;synopsis&gt;Get Method Modifiers&lt;/synopsis&gt;
 8365       &lt;description&gt;
 8366 	For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8367 	return the access flags via &lt;code&gt;modifiers_ptr&lt;/code&gt;.
 8368 	Access flags are defined in &lt;vmspec chapter=&quot;4&quot;/&gt;.
 8369       &lt;/description&gt;
 8370       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8371       &lt;capabilities&gt;
 8372       &lt;/capabilities&gt;
 8373       &lt;parameters&gt;
 8374 	&lt;param id=&quot;klass&quot;&gt;
 8375 	  &lt;jclass method=&quot;method&quot;/&gt;
 8376 	    &lt;description&gt;
 8377 	      The class to query.
 8378 	    &lt;/description&gt;
 8379 	&lt;/param&gt;
 8380 	&lt;param id=&quot;method&quot;&gt;
 8381 	  &lt;jmethodID class=&quot;klass&quot;/&gt;
 8382 	    &lt;description&gt;
 8383 	      The method to query.
 8384 	    &lt;/description&gt;
 8385 	&lt;/param&gt;
 8386 	&lt;param id=&quot;modifiers_ptr&quot;&gt;
 8387 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8388 	  &lt;description&gt;
 8389 	    On return, points to the access flags.
 8390 	  &lt;/description&gt;
 8391 	&lt;/param&gt;
 8392       &lt;/parameters&gt;
 8393       &lt;errors&gt;
 8394       &lt;/errors&gt;
 8395     &lt;/function&gt;
 8396 
 8397     &lt;function id=&quot;GetMaxLocals&quot; phase=&quot;start&quot; num=&quot;68&quot;&gt;
 8398       &lt;synopsis&gt;Get Max Locals&lt;/synopsis&gt;
 8399       &lt;description&gt;
 8400 	  For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8401 	  return the number of local variable slots used by the method,
 8402 	  including the local variables used to pass parameters to the
 8403 	  method on its invocation.
 8404 	  &lt;p/&gt;
 8405 	  See &lt;code&gt;max_locals&lt;/code&gt; in &lt;vmspec chapter=&quot;4.7.3&quot;/&gt;.
 8406       &lt;/description&gt;
 8407       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8408       &lt;capabilities&gt;
 8409       &lt;/capabilities&gt;
 8410       &lt;parameters&gt;
 8411 	&lt;param id=&quot;klass&quot;&gt;
 8412 	  &lt;jclass method=&quot;method&quot;/&gt;
 8413 	    &lt;description&gt;
 8414 	      The class to query.
 8415 	    &lt;/description&gt;
 8416 	&lt;/param&gt;
 8417 	&lt;param id=&quot;method&quot;&gt;
 8418 	  &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8419 	    &lt;description&gt;
 8420 	      The method to query.
 8421 	    &lt;/description&gt;
 8422 	&lt;/param&gt;
 8423 	&lt;param id=&quot;max_ptr&quot;&gt;
 8424 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8425 	  &lt;description&gt;
 8426 	    On return, points to the maximum number of local slots
 8427 	  &lt;/description&gt;
 8428 	&lt;/param&gt;
 8429       &lt;/parameters&gt;
 8430       &lt;errors&gt;
 8431       &lt;/errors&gt;
 8432     &lt;/function&gt;
 8433 
 8434     &lt;function id=&quot;GetArgumentsSize&quot; phase=&quot;start&quot; num=&quot;69&quot;&gt;
 8435       &lt;synopsis&gt;Get Arguments Size&lt;/synopsis&gt;
 8436       &lt;description&gt;
 8437 	For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8438 	return via &lt;code&gt;max_ptr&lt;/code&gt; the number of local variable slots used
 8439 	by the method&#39;s arguments.
 8440 	Note that two-word arguments use two slots.
 8441       &lt;/description&gt;
 8442       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8443       &lt;capabilities&gt;
 8444       &lt;/capabilities&gt;
 8445       &lt;parameters&gt;
 8446 	&lt;param id=&quot;klass&quot;&gt;
 8447 	  &lt;jclass method=&quot;method&quot;/&gt;
 8448 	    &lt;description&gt;
 8449 	      The class to query.
 8450 	    &lt;/description&gt;
 8451 	&lt;/param&gt;
 8452 	&lt;param id=&quot;method&quot;&gt;
 8453 	  &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8454 	    &lt;description&gt;
 8455 	      The method to query.
 8456 	    &lt;/description&gt;
 8457 	&lt;/param&gt;
 8458 	&lt;param id=&quot;size_ptr&quot;&gt;
 8459 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8460 	  &lt;description&gt;
 8461 	    On return, points to the number of argument slots
 8462 	  &lt;/description&gt;
 8463 	&lt;/param&gt;
 8464       &lt;/parameters&gt;
 8465       &lt;errors&gt;
 8466       &lt;/errors&gt;
 8467     &lt;/function&gt;
 8468 
 8469     &lt;function id=&quot;GetLineNumberTable&quot; phase=&quot;start&quot; num=&quot;70&quot;&gt;
 8470       &lt;synopsis&gt;Get Line Number Table&lt;/synopsis&gt;
 8471       &lt;typedef id=&quot;jvmtiLineNumberEntry&quot; label=&quot;Line number table entry&quot;&gt;
 8472 	&lt;field id=&quot;start_location&quot;&gt;
 8473 	  &lt;jlocation/&gt;
 8474 	  &lt;description&gt;
 8475 	    the &lt;datalink id=&quot;jlocation&quot;&gt;&lt;/datalink&gt; where the line begins
 8476 	  &lt;/description&gt;
 8477 	&lt;/field&gt;
 8478 	&lt;field id=&quot;line_number&quot;&gt;
 8479 	  &lt;jint/&gt;
 8480 	  &lt;description&gt;
 8481 	    the line number
 8482 	  &lt;/description&gt;
 8483 	&lt;/field&gt;
 8484       &lt;/typedef&gt;
 8485       &lt;description&gt;
 8486 	For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8487 	return a table of source line number entries. The size of the table is
 8488 	returned via &lt;code&gt;entry_count_ptr&lt;/code&gt; and the table itself is
 8489 	returned via &lt;code&gt;table_ptr&lt;/code&gt;.
 8490       &lt;/description&gt;
 8491       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8492       &lt;capabilities&gt;
 8493 	&lt;required id=&quot;can_get_line_numbers&quot;&gt;&lt;/required&gt;
 8494       &lt;/capabilities&gt;
 8495       &lt;parameters&gt;
 8496 	&lt;param id=&quot;klass&quot;&gt;
 8497 	  &lt;jclass method=&quot;method&quot;/&gt;
 8498 	    &lt;description&gt;
 8499 	      The class to query.
 8500 	    &lt;/description&gt;
 8501 	&lt;/param&gt;
 8502 	&lt;param id=&quot;method&quot;&gt;
 8503 	  &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8504 	    &lt;description&gt;
 8505 	      The method to query.
 8506 	    &lt;/description&gt;
 8507 	&lt;/param&gt;
 8508 	&lt;param id=&quot;entry_count_ptr&quot;&gt;
 8509 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8510 	  &lt;description&gt;
 8511 	    On return, points to the number of entries in the table
 8512 	  &lt;/description&gt;
 8513 	&lt;/param&gt;
 8514 	&lt;param id=&quot;table_ptr&quot;&gt;
 8515 	  &lt;allocbuf outcount=&quot;entry_count_ptr&quot;&gt;&lt;struct&gt;jvmtiLineNumberEntry&lt;/struct&gt;&lt;/allocbuf&gt;
 8516 	  &lt;description&gt;
 8517 	    On return, points to the line number table pointer.
 8518 	  &lt;/description&gt;
 8519 	&lt;/param&gt;
 8520       &lt;/parameters&gt;
 8521       &lt;errors&gt;
 8522 	&lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 8523 	  Class information does not include line numbers.
 8524 	&lt;/error&gt;
 8525       &lt;/errors&gt;
 8526     &lt;/function&gt;
 8527 
 8528     &lt;function id=&quot;GetMethodLocation&quot; phase=&quot;start&quot; num=&quot;71&quot;&gt;
 8529       &lt;synopsis&gt;Get Method Location&lt;/synopsis&gt;
 8530       &lt;description&gt;
 8531 	For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8532 	return the beginning and ending addresses through
 8533 	&lt;code&gt;start_location_ptr&lt;/code&gt; and &lt;code&gt;end_location_ptr&lt;/code&gt;. In a
 8534 	conventional bytecode indexing scheme,
 8535 	&lt;code&gt;start_location_ptr&lt;/code&gt; will always point to zero
 8536 	and &lt;code&gt;end_location_ptr&lt;/code&gt;
 8537 	will always point to the bytecode count minus one.
 8538       &lt;/description&gt;
 8539       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8540       &lt;capabilities&gt;
 8541       &lt;/capabilities&gt;
 8542       &lt;parameters&gt;
 8543 	&lt;param id=&quot;klass&quot;&gt;
 8544 	  &lt;jclass method=&quot;method&quot;/&gt;
 8545 	    &lt;description&gt;
 8546 	      The class to query.
 8547 	    &lt;/description&gt;
 8548 	&lt;/param&gt;
 8549 	&lt;param id=&quot;method&quot;&gt;
 8550 	  &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8551 	    &lt;description&gt;
 8552 	      The method to query.
 8553 	    &lt;/description&gt;
 8554 	&lt;/param&gt;
 8555 	&lt;param id=&quot;start_location_ptr&quot;&gt;
 8556 	  &lt;outptr&gt;&lt;jlocation/&gt;&lt;/outptr&gt;
 8557 	  &lt;description&gt;
 8558 	    On return, points to the first location, or
 8559 	    &lt;code&gt;-1&lt;/code&gt; if location information is not available.
 8560 	    If the information is available and
 8561 	    &lt;functionlink id=&quot;GetJLocationFormat&quot;&gt;&lt;/functionlink&gt;
 8562 	    returns &lt;datalink id=&quot;JVMTI_JLOCATION_JVMBCI&quot;&gt;&lt;/datalink&gt;
 8563 	    then this will always be zero.
 8564 	  &lt;/description&gt;
 8565 	&lt;/param&gt;
 8566 	&lt;param id=&quot;end_location_ptr&quot;&gt;
 8567 	  &lt;outptr&gt;&lt;jlocation/&gt;&lt;/outptr&gt;
 8568 	  &lt;description&gt;
 8569 	    On return, points to the last location,
 8570 	    or &lt;code&gt;-1&lt;/code&gt; if location information is not available.
 8571 	  &lt;/description&gt;
 8572 	&lt;/param&gt;
 8573       &lt;/parameters&gt;
 8574       &lt;errors&gt;
 8575 	&lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 8576 	  Class information does not include method sizes.
 8577 	&lt;/error&gt;
 8578       &lt;/errors&gt;
 8579     &lt;/function&gt;
 8580 
 8581     &lt;function id=&quot;GetLocalVariableTable&quot; num=&quot;72&quot;&gt;
 8582       &lt;synopsis&gt;Get Local Variable Table&lt;/synopsis&gt;
 8583       &lt;typedef id=&quot;jvmtiLocalVariableEntry&quot; label=&quot;Local variable table entry&quot;&gt;
 8584 	&lt;field id=&quot;start_location&quot;&gt;
 8585 	  &lt;jlocation/&gt;
 8586 	  &lt;description&gt;
 8587 	    The code array index where the local variable is first valid
 8588             (that is, where it must have a value).
 8589 	  &lt;/description&gt;
 8590 	&lt;/field&gt;
 8591 	&lt;field id=&quot;length&quot;&gt;
 8592 	  &lt;jint/&gt;
 8593 	  &lt;description&gt;
 8594             The length of the valid section for this local variable.
 8595 	    The last code array index where the local variable is valid
 8596             is &lt;code&gt;start_location + length&lt;/code&gt;.
 8597 	  &lt;/description&gt;
 8598 	&lt;/field&gt;
 8599 	&lt;field id=&quot;name&quot;&gt;
 8600 	  &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 8601 	  &lt;description&gt;
 8602 	    The local variable name, encoded as a
 8603 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8604 	  &lt;/description&gt;
 8605 	&lt;/field&gt;
 8606 	&lt;field id=&quot;signature&quot;&gt;
 8607 	  &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 8608 	  &lt;description&gt;
 8609 	    The local variable&#39;s type signature, encoded as a
 8610 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8611 	    The signature format is the same as that defined in
 8612 	    &lt;vmspec chapter=&quot;4.3.2&quot;/&gt;.
 8613 	  &lt;/description&gt;
 8614 	&lt;/field&gt;
 8615 	&lt;field id=&quot;generic_signature&quot;&gt;
 8616 	  &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 8617 	  &lt;description&gt;
 8618 	    The local variable&#39;s generic signature, encoded as a
 8619 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8620             The value of this field will be &lt;code&gt;NULL&lt;/code&gt; for any local
 8621             variable which does not have a generic type.
 8622 	  &lt;/description&gt;
 8623 	&lt;/field&gt;
 8624 	&lt;field id=&quot;slot&quot;&gt;
 8625 	  &lt;jint/&gt;
 8626 	  &lt;description&gt;
 8627 	    The local variable&#39;s slot.  See &lt;internallink id=&quot;local&quot;&gt;Local Variables&lt;/internallink&gt;.
 8628 	  &lt;/description&gt;
 8629 	&lt;/field&gt;
 8630       &lt;/typedef&gt;
 8631       &lt;description&gt;
 8632 	Return local variable information.
 8633       &lt;/description&gt;
 8634       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 8635       &lt;capabilities&gt;
 8636 	&lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 8637       &lt;/capabilities&gt;
 8638       &lt;parameters&gt;
 8639 	&lt;param id=&quot;method&quot;&gt;
 8640 	  &lt;jmethodID native=&quot;error&quot;/&gt;
 8641 	    &lt;description&gt;
 8642 	      The method to query.
 8643 	    &lt;/description&gt;
 8644 	&lt;/param&gt;
 8645 	&lt;param id=&quot;entry_count_ptr&quot;&gt;
 8646 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8647 	  &lt;description&gt;
 8648 	    On return, points to the number of entries in the table
 8649 	  &lt;/description&gt;
 8650 	&lt;/param&gt;
 8651 	&lt;param id=&quot;table_ptr&quot;&gt;
 8652 	  &lt;allocbuf outcount=&quot;entry_count_ptr&quot;&gt;&lt;struct&gt;jvmtiLocalVariableEntry&lt;/struct&gt;&lt;/allocbuf&gt;
 8653 	  &lt;description&gt;
 8654 	    On return, points to an array of local variable table entries.
 8655 	  &lt;/description&gt;
 8656 	&lt;/param&gt;
 8657       &lt;/parameters&gt;
 8658       &lt;errors&gt;
 8659 	&lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 8660 	  Class information does not include local variable
 8661 	  information.
 8662 	&lt;/error&gt;
 8663       &lt;/errors&gt;
 8664     &lt;/function&gt;
 8665 
 8666     &lt;function id=&quot;GetBytecodes&quot; phase=&quot;start&quot; num=&quot;75&quot;&gt;
 8667       &lt;synopsis&gt;Get Bytecodes&lt;/synopsis&gt;
 8668       &lt;description&gt;
 8669 	For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8670 	return the bytecodes that implement the method. The number of
 8671 	bytecodes is returned via &lt;code&gt;bytecode_count_ptr&lt;/code&gt;. The bytecodes
 8672 	themselves are returned via &lt;code&gt;bytecodes_ptr&lt;/code&gt;.
 8673       &lt;/description&gt;
 8674       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8675       &lt;capabilities&gt;
 8676 	&lt;required id=&quot;can_get_bytecodes&quot;&gt;&lt;/required&gt;
 8677       &lt;/capabilities&gt;
 8678       &lt;parameters&gt;
 8679 	&lt;param id=&quot;klass&quot;&gt;
 8680 	  &lt;jclass method=&quot;method&quot;/&gt;
 8681 	    &lt;description&gt;
 8682 	      The class to query.
 8683 	    &lt;/description&gt;
 8684 	&lt;/param&gt;
 8685 	&lt;param id=&quot;method&quot;&gt;
 8686 	  &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8687 	    &lt;description&gt;
 8688 	      The method to query.
 8689 	    &lt;/description&gt;
 8690 	&lt;/param&gt;
 8691 	&lt;param id=&quot;bytecode_count_ptr&quot;&gt;
 8692 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8693 	  &lt;description&gt;
 8694 	    On return, points to the length of the bytecode array
 8695 	  &lt;/description&gt;
 8696 	&lt;/param&gt;
 8697 	&lt;param id=&quot;bytecodes_ptr&quot;&gt;
 8698 	  &lt;allocbuf outcount=&quot;bytecode_count_ptr&quot;&gt;&lt;uchar/&gt;&lt;/allocbuf&gt;
 8699 	  &lt;description&gt;
 8700 	    On return, points to the pointer to the bytecode array
 8701 	  &lt;/description&gt;
 8702 	&lt;/param&gt;
 8703       &lt;/parameters&gt;
 8704       &lt;errors&gt;
 8705       &lt;/errors&gt;
 8706     &lt;/function&gt;
 8707 
 8708     &lt;function id=&quot;IsMethodNative&quot; phase=&quot;start&quot; num=&quot;76&quot;&gt;
 8709       &lt;synopsis&gt;Is Method Native&lt;/synopsis&gt;
 8710       &lt;description&gt;
 8711 	For the method indicated by &lt;code&gt;method&lt;/code&gt;, return a
 8712 	value indicating whether the method is native via &lt;code&gt;is_native_ptr&lt;/code&gt;
 8713       &lt;/description&gt;
 8714       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8715       &lt;capabilities&gt;
 8716       &lt;/capabilities&gt;
 8717       &lt;parameters&gt;
 8718 	&lt;param id=&quot;klass&quot;&gt;
 8719 	  &lt;jclass method=&quot;method&quot;/&gt;
 8720 	    &lt;description&gt;
 8721 	      The class to query.
 8722 	    &lt;/description&gt;
 8723 	&lt;/param&gt;
 8724 	&lt;param id=&quot;method&quot;&gt;
 8725 	  &lt;jmethodID class=&quot;klass&quot;/&gt;
 8726 	    &lt;description&gt;
 8727 	      The method to query.
 8728 	    &lt;/description&gt;
 8729 	&lt;/param&gt;
 8730 	&lt;param id=&quot;is_native_ptr&quot;&gt;
 8731 	  &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 8732 	  &lt;description&gt;
 8733 	    On return, points to the boolean result of this function.
 8734 	  &lt;/description&gt;
 8735 	&lt;/param&gt;
 8736       &lt;/parameters&gt;
 8737       &lt;errors&gt;
 8738       &lt;/errors&gt;
 8739     &lt;/function&gt;
 8740 
 8741     &lt;function id=&quot;IsMethodSynthetic&quot; phase=&quot;start&quot; num=&quot;77&quot;&gt;
 8742       &lt;synopsis&gt;Is Method Synthetic&lt;/synopsis&gt;
 8743       &lt;description&gt;
 8744 	For the method indicated by &lt;code&gt;method&lt;/code&gt;, return a
 8745 	value indicating whether the method is synthetic via &lt;code&gt;is_synthetic_ptr&lt;/code&gt;.
 8746 	Synthetic methods are generated by the compiler but not present in the
 8747 	original source code.
 8748       &lt;/description&gt;
 8749       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8750       &lt;capabilities&gt;
 8751         &lt;required id=&quot;can_get_synthetic_attribute&quot;&gt;&lt;/required&gt;
 8752       &lt;/capabilities&gt;
 8753       &lt;parameters&gt;
 8754 	&lt;param id=&quot;klass&quot;&gt;
 8755 	  &lt;jclass method=&quot;method&quot;/&gt;
 8756 	    &lt;description&gt;
 8757 	      The class to query.
 8758 	    &lt;/description&gt;
 8759 	&lt;/param&gt;
 8760 	&lt;param id=&quot;method&quot;&gt;
 8761 	  &lt;jmethodID class=&quot;klass&quot;/&gt;
 8762 	    &lt;description&gt;
 8763 	      The method to query.
 8764 	    &lt;/description&gt;
 8765 	&lt;/param&gt;
 8766 	&lt;param id=&quot;is_synthetic_ptr&quot;&gt;
 8767 	  &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 8768 	  &lt;description&gt;
 8769 	    On return, points to the boolean result of this function.
 8770 	  &lt;/description&gt;
 8771 	&lt;/param&gt;
 8772       &lt;/parameters&gt;
 8773       &lt;errors&gt;
 8774       &lt;/errors&gt;
 8775     &lt;/function&gt;
 8776 
 8777     &lt;function id=&quot;IsMethodObsolete&quot; phase=&quot;start&quot; num=&quot;91&quot;&gt;
 8778       &lt;synopsis&gt;Is Method Obsolete&lt;/synopsis&gt;
 8779       &lt;description&gt;
 8780         Determine if a method ID refers to an
 8781         &lt;internallink id=&quot;obsoleteMethods&quot;&gt;obsolete&lt;/internallink&gt;
 8782         method version.
 8783       &lt;/description&gt;
 8784       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8785       &lt;capabilities&gt;
 8786       &lt;/capabilities&gt;
 8787       &lt;parameters&gt;
 8788 	&lt;param id=&quot;klass&quot;&gt;
 8789 	  &lt;jclass method=&quot;method&quot;/&gt;
 8790 	    &lt;description&gt;
 8791 	      The class to query.
 8792 	    &lt;/description&gt;
 8793 	&lt;/param&gt;
 8794 	&lt;param id=&quot;method&quot;&gt;
 8795 	  &lt;jmethodID class=&quot;klass&quot;/&gt;
 8796 	    &lt;description&gt;
 8797 	      The method ID to query.
 8798 	    &lt;/description&gt;
 8799 	&lt;/param&gt;
 8800 	&lt;param id=&quot;is_obsolete_ptr&quot;&gt;
 8801 	  &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 8802 	  &lt;description&gt;
 8803 	    On return, points to the boolean result of this function.
 8804 	  &lt;/description&gt;
 8805 	&lt;/param&gt;
 8806       &lt;/parameters&gt;
 8807       &lt;errors&gt;
 8808       &lt;/errors&gt;
 8809     &lt;/function&gt;
 8810 
 8811     &lt;function id=&quot;SetNativeMethodPrefix&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;73&quot; since=&quot;1.1&quot;&gt;
 8812       &lt;synopsis&gt;Set Native Method Prefix&lt;/synopsis&gt;
 8813       &lt;description&gt;
 8814 	This function modifies the failure handling of
 8815         native method resolution by allowing retry
 8816         with a prefix applied to the name.
 8817         When used with the
 8818         &lt;eventlink id=&quot;ClassFileLoadHook&quot;&gt;ClassFileLoadHook
 8819         event&lt;/eventlink&gt;, it enables native methods to be
 8820         &lt;internallink id=&quot;bci&quot;&gt;instrumented&lt;/internallink&gt;.
 8821         &lt;p/&gt;
 8822         Since native methods cannot be directly instrumented
 8823         (they have no bytecodes), they must be wrapped with
 8824         a non-native method which can be instrumented.
 8825         For example, if we had:
 8826         &lt;example&gt;
 8827 native boolean foo(int x);&lt;/example&gt;
 8828         &lt;p/&gt;
 8829         We could transform the class file (with the
 8830         ClassFileLoadHook event) so that this becomes:
 8831         &lt;example&gt;
 8832 boolean foo(int x) {
 8833   &lt;i&gt;... record entry to foo ...&lt;/i&gt;
 8834   return wrapped_foo(x);
 8835 }
 8836 
 8837 native boolean wrapped_foo(int x);&lt;/example&gt;
 8838         &lt;p/&gt;
 8839         Where foo becomes a wrapper for the actual native method
 8840         with the appended prefix &quot;wrapped_&quot;.  Note that
 8841         &quot;wrapped_&quot; would be a poor choice of prefix since it
 8842         might conceivably form the name of an existing method
 8843         thus something like &quot;$$$MyAgentWrapped$$$_&quot; would be
 8844         better but would make these examples less readable.
 8845         &lt;p/&gt;
 8846         The wrapper will allow data to be collected on the native
 8847         method call, but now the problem becomes linking up the
 8848         wrapped method with the native implementation.
 8849         That is, the method &lt;code&gt;wrapped_foo&lt;/code&gt; needs to be
 8850         resolved to the native implementation of &lt;code&gt;foo&lt;/code&gt;,
 8851         which might be:
 8852         &lt;example&gt;
 8853 Java_somePackage_someClass_foo(JNIEnv* env, jint x)&lt;/example&gt;
 8854         &lt;p/&gt;
 8855         This function allows the prefix to be specified and the
 8856         proper resolution to occur.
 8857         Specifically, when the standard resolution fails, the
 8858         resolution is retried taking the prefix into consideration.
 8859         There are two ways that resolution occurs, explicit
 8860         resolution with the JNI function &lt;code&gt;RegisterNatives&lt;/code&gt;
 8861         and the normal automatic resolution.  For
 8862         &lt;code&gt;RegisterNatives&lt;/code&gt;, the VM will attempt this
 8863         association:
 8864         &lt;example&gt;
 8865 method(foo) -&gt; nativeImplementation(foo)&lt;/example&gt;
 8866         &lt;p/&gt;
 8867         When this fails, the resolution will be retried with
 8868         the specified prefix prepended to the method name,
 8869         yielding the correct resolution:
 8870         &lt;example&gt;
 8871 method(wrapped_foo) -&gt; nativeImplementation(foo)&lt;/example&gt;
 8872         &lt;p/&gt;
 8873         For automatic resolution, the VM will attempt:
 8874         &lt;example&gt;
 8875 method(wrapped_foo) -&gt; nativeImplementation(wrapped_foo)&lt;/example&gt;
 8876         &lt;p/&gt;
 8877         When this fails, the resolution will be retried with
 8878         the specified prefix deleted from the implementation name,
 8879         yielding the correct resolution:
 8880         &lt;example&gt;
 8881 method(wrapped_foo) -&gt; nativeImplementation(foo)&lt;/example&gt;
 8882         &lt;p/&gt;
 8883         Note that since the prefix is only used when standard
 8884         resolution fails, native methods can be wrapped selectively.
 8885         &lt;p/&gt;
 8886         Since each &lt;jvmti/&gt; environment is independent and
 8887         can do its own transformation of the bytecodes, more
 8888         than one layer of wrappers may be applied. Thus each
 8889         environment needs its own prefix.  Since transformations
 8890         are applied in order, the prefixes, if applied, will
 8891         be applied in the same order.
 8892         The order of transformation application is described in
 8893         the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event.
 8894         Thus if three environments applied
 8895         wrappers, &lt;code&gt;foo&lt;/code&gt; might become
 8896         &lt;code&gt;$env3_$env2_$env1_foo&lt;/code&gt;.  But if, say,
 8897         the second environment did not apply a wrapper to
 8898         &lt;code&gt;foo&lt;/code&gt; it would be just
 8899         &lt;code&gt;$env3_$env1_foo&lt;/code&gt;.  To be able to
 8900         efficiently determine the sequence of prefixes,
 8901         an intermediate prefix is only applied if its non-native
 8902         wrapper exists.  Thus, in the last example, even though
 8903         &lt;code&gt;$env1_foo&lt;/code&gt; is not a native method, the
 8904         &lt;code&gt;$env1_&lt;/code&gt; prefix is applied since
 8905         &lt;code&gt;$env1_foo&lt;/code&gt; exists.
 8906         &lt;p/&gt;
 8907         Since the prefixes are used at resolution time
 8908         and since resolution may be arbitrarily delayed, a
 8909         native method prefix must remain set as long as there
 8910         are corresponding prefixed native methods.
 8911       &lt;/description&gt;
 8912       &lt;origin&gt;new&lt;/origin&gt;
 8913       &lt;capabilities&gt;
 8914 	&lt;required id=&quot;can_set_native_method_prefix&quot;&gt;&lt;/required&gt;
 8915       &lt;/capabilities&gt;
 8916       &lt;parameters&gt;
 8917 	&lt;param id=&quot;prefix&quot;&gt;
 8918 	  &lt;inbuf&gt;
 8919 	    &lt;char/&gt;
 8920 	    &lt;nullok&gt;
 8921 	      any existing prefix in this environment is cancelled
 8922 	    &lt;/nullok&gt;
 8923 	  &lt;/inbuf&gt;
 8924 	  &lt;description&gt;
 8925 	    The prefix to apply, encoded as a
 8926 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8927 	  &lt;/description&gt;
 8928 	&lt;/param&gt;
 8929       &lt;/parameters&gt;
 8930       &lt;errors&gt;
 8931       &lt;/errors&gt;
 8932     &lt;/function&gt;
 8933 
 8934     &lt;function id=&quot;SetNativeMethodPrefixes&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;74&quot; since=&quot;1.1&quot;&gt;
 8935       &lt;synopsis&gt;Set Native Method Prefixes&lt;/synopsis&gt;
 8936       &lt;description&gt;
 8937 	 For a normal agent, &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt;
 8938          will provide all needed native method prefixing.
 8939          For a meta-agent that performs multiple independent class
 8940          file transformations (for example as a proxy for another
 8941          layer of agents) this function allows each transformation
 8942          to have its own prefix.
 8943          The prefixes are applied in the order supplied and are
 8944          processed in the same manner as described for the
 8945          application of prefixes from multiple &lt;jvmti/&gt; environments
 8946          in &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt;.
 8947          &lt;p/&gt;
 8948          Any previous prefixes are replaced.  Thus, calling this
 8949          function with a &lt;paramlink id=&quot;prefix_count&quot;/&gt; of &lt;code&gt;0&lt;/code&gt;
 8950          disables prefixing in this environment.
 8951          &lt;p/&gt;
 8952          &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt; and this function
 8953          are the two ways to set the prefixes.
 8954          Calling &lt;code&gt;SetNativeMethodPrefix&lt;/code&gt; with
 8955          a prefix is the same as calling this function with
 8956          &lt;paramlink id=&quot;prefix_count&quot;/&gt; of &lt;code&gt;1&lt;/code&gt;.
 8957          Calling &lt;code&gt;SetNativeMethodPrefix&lt;/code&gt; with
 8958          &lt;code&gt;NULL&lt;/code&gt; is the same as calling this function with
 8959          &lt;paramlink id=&quot;prefix_count&quot;/&gt; of &lt;code&gt;0&lt;/code&gt;.
 8960       &lt;/description&gt;
 8961       &lt;origin&gt;new&lt;/origin&gt;
 8962       &lt;capabilities&gt;
 8963 	&lt;required id=&quot;can_set_native_method_prefix&quot;&gt;&lt;/required&gt;
 8964       &lt;/capabilities&gt;
 8965       &lt;parameters&gt;
 8966 	&lt;param id=&quot;prefix_count&quot;&gt;
 8967 	  &lt;jint min=&quot;0&quot;/&gt;
 8968 	    &lt;description&gt;
 8969 	      The number of prefixes to apply.
 8970 	    &lt;/description&gt;
 8971 	&lt;/param&gt;
 8972 	&lt;param id=&quot;prefixes&quot;&gt;
 8973 	  &lt;agentbuf&gt;
 8974             &lt;char/&gt;
 8975           &lt;/agentbuf&gt;
 8976 	  &lt;description&gt;
 8977 	    The prefixes to apply for this environment, each encoded as a
 8978 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8979 	  &lt;/description&gt;
 8980 	&lt;/param&gt;
 8981       &lt;/parameters&gt;
 8982       &lt;errors&gt;
 8983       &lt;/errors&gt;
 8984     &lt;/function&gt;
 8985 
 8986   &lt;/category&gt;
 8987 
 8988   &lt;category id=&quot;RawMonitors&quot; label=&quot;Raw Monitor&quot;&gt;
 8989 
 8990     &lt;function id=&quot;CreateRawMonitor&quot; phase=&quot;onload&quot; callbacksafe=&quot;safe&quot; num=&quot;31&quot;&gt;
 8991       &lt;synopsis&gt;Create Raw Monitor&lt;/synopsis&gt;
 8992       &lt;description&gt;
 8993 	Create a raw monitor.
 8994       &lt;/description&gt;
 8995       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8996       &lt;capabilities&gt;
 8997       &lt;/capabilities&gt;
 8998       &lt;parameters&gt;
 8999 	&lt;param id=&quot;name&quot;&gt;
 9000 	  &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
 9001 	  &lt;description&gt;
 9002 	    A name to identify the monitor, encoded as a
 9003 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9004 	  &lt;/description&gt;
 9005 	&lt;/param&gt;
 9006 	&lt;param id=&quot;monitor_ptr&quot;&gt;
 9007 	  &lt;outptr&gt;&lt;jrawMonitorID/&gt;&lt;/outptr&gt;
 9008 	  &lt;description&gt;
 9009 	    On return, points to the created monitor.
 9010 	  &lt;/description&gt;
 9011 	&lt;/param&gt;
 9012       &lt;/parameters&gt;
 9013       &lt;errors&gt;
 9014       &lt;/errors&gt;
 9015     &lt;/function&gt;
 9016 
 9017     &lt;function id=&quot;DestroyRawMonitor&quot; phase=&quot;onload&quot; callbacksafe=&quot;safe&quot; num=&quot;32&quot;&gt;
 9018       &lt;synopsis&gt;Destroy Raw Monitor&lt;/synopsis&gt;
 9019       &lt;description&gt;
 9020 	Destroy the raw monitor.
 9021         If the monitor being destroyed has been entered by this thread, it will be
 9022         exited before it is destroyed.
 9023         If the monitor being destroyed has been entered by another thread,
 9024         an error will be returned and the monitor will not be destroyed.
 9025       &lt;/description&gt;
 9026       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9027       &lt;capabilities&gt;
 9028       &lt;/capabilities&gt;
 9029       &lt;parameters&gt;
 9030 	&lt;param id=&quot;monitor&quot;&gt;
 9031 	  &lt;jrawMonitorID/&gt;
 9032 	  &lt;description&gt;
 9033 	    The monitor
 9034 	  &lt;/description&gt;
 9035 	&lt;/param&gt;
 9036       &lt;/parameters&gt;
 9037       &lt;errors&gt;
 9038 	&lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9039 	  Not monitor owner
 9040 	&lt;/error&gt;
 9041       &lt;/errors&gt;
 9042     &lt;/function&gt;
 9043 
 9044     &lt;function id=&quot;RawMonitorEnter&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;33&quot;&gt;
 9045       &lt;synopsis&gt;Raw Monitor Enter&lt;/synopsis&gt;
 9046       &lt;description&gt;
 9047 	Gain exclusive ownership of a raw monitor.
 9048         The same thread may enter a monitor more then once.
 9049         The thread must
 9050         &lt;functionlink id=&quot;RawMonitorExit&quot;&gt;exit&lt;/functionlink&gt;
 9051         the monitor the same number of times as it is entered.
 9052         If a monitor is entered during &lt;code&gt;OnLoad&lt;/code&gt; (before attached threads exist)
 9053 	and has not exited when attached threads come into existence, the enter
 9054 	is considered to have occurred on the main thread.
 9055       &lt;/description&gt;
 9056       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9057       &lt;capabilities&gt;
 9058       &lt;/capabilities&gt;
 9059       &lt;parameters&gt;
 9060 	&lt;param id=&quot;monitor&quot;&gt;
 9061 	  &lt;jrawMonitorID/&gt;
 9062 	  &lt;description&gt;
 9063 	    The monitor
 9064 	  &lt;/description&gt;
 9065 	&lt;/param&gt;
 9066       &lt;/parameters&gt;
 9067       &lt;errors&gt;
 9068       &lt;/errors&gt;
 9069     &lt;/function&gt;
 9070 
 9071     &lt;function id=&quot;RawMonitorExit&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;34&quot;&gt;
 9072       &lt;synopsis&gt;Raw Monitor Exit&lt;/synopsis&gt;
 9073       &lt;description&gt;
 9074 	Release exclusive ownership of a raw monitor.
 9075       &lt;/description&gt;
 9076       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9077       &lt;capabilities&gt;
 9078       &lt;/capabilities&gt;
 9079       &lt;parameters&gt;
 9080 	&lt;param id=&quot;monitor&quot;&gt;
 9081 	  &lt;jrawMonitorID/&gt;
 9082 	  &lt;description&gt;
 9083 	    The monitor
 9084 	  &lt;/description&gt;
 9085 	&lt;/param&gt;
 9086       &lt;/parameters&gt;
 9087       &lt;errors&gt;
 9088 	&lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9089 	  Not monitor owner
 9090 	&lt;/error&gt;
 9091       &lt;/errors&gt;
 9092     &lt;/function&gt;
 9093 
 9094     &lt;function id=&quot;RawMonitorWait&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;35&quot;&gt;
 9095       &lt;synopsis&gt;Raw Monitor Wait&lt;/synopsis&gt;
 9096       &lt;description&gt;
 9097         Wait for notification of the raw monitor.
 9098         &lt;p/&gt;
 9099         Causes the current thread to wait until either another thread calls
 9100         &lt;functionlink id=&quot;RawMonitorNotify&quot;/&gt; or
 9101         &lt;functionlink id=&quot;RawMonitorNotifyAll&quot;/&gt;
 9102         for the specified raw monitor, or the specified
 9103         &lt;paramlink id=&quot;millis&quot;&gt;timeout&lt;/paramlink&gt;
 9104         has elapsed.
 9105       &lt;/description&gt;
 9106       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9107       &lt;capabilities&gt;
 9108       &lt;/capabilities&gt;
 9109       &lt;parameters&gt;
 9110 	&lt;param id=&quot;monitor&quot;&gt;
 9111 	  &lt;jrawMonitorID/&gt;
 9112 	  &lt;description&gt;
 9113 	    The monitor
 9114 	  &lt;/description&gt;
 9115 	&lt;/param&gt;
 9116 	&lt;param id=&quot;millis&quot;&gt;
 9117 	  &lt;jlong/&gt;
 9118 	  &lt;description&gt;
 9119 	    The timeout, in milliseconds.  If the timeout is
 9120 	    zero, then real time is not taken into consideration
 9121 	    and the thread simply waits until notified.
 9122 	  &lt;/description&gt;
 9123 	&lt;/param&gt;
 9124       &lt;/parameters&gt;
 9125       &lt;errors&gt;
 9126 	&lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9127 	  Not monitor owner
 9128 	&lt;/error&gt;
 9129 	&lt;error id=&quot;JVMTI_ERROR_INTERRUPT&quot;&gt;
 9130 	  Wait was interrupted, try again
 9131 	&lt;/error&gt;
 9132       &lt;/errors&gt;
 9133     &lt;/function&gt;
 9134 
 9135     &lt;function id=&quot;RawMonitorNotify&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;notrace&quot; num=&quot;36&quot;&gt;
 9136       &lt;synopsis&gt;Raw Monitor Notify&lt;/synopsis&gt;
 9137       &lt;description&gt;
 9138 	Notify a single thread waiting on the raw monitor.
 9139       &lt;/description&gt;
 9140       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9141       &lt;capabilities&gt;
 9142       &lt;/capabilities&gt;
 9143       &lt;parameters&gt;
 9144 	&lt;param id=&quot;monitor&quot;&gt;
 9145 	  &lt;jrawMonitorID/&gt;
 9146 	  &lt;description&gt;
 9147 	    The monitor
 9148 	  &lt;/description&gt;
 9149 	&lt;/param&gt;
 9150       &lt;/parameters&gt;
 9151       &lt;errors&gt;
 9152 	&lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9153 	  Not monitor owner
 9154 	&lt;/error&gt;
 9155       &lt;/errors&gt;
 9156     &lt;/function&gt;
 9157 
 9158     &lt;function id=&quot;RawMonitorNotifyAll&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;notrace&quot; num=&quot;37&quot;&gt;
 9159       &lt;synopsis&gt;Raw Monitor Notify All&lt;/synopsis&gt;
 9160       &lt;description&gt;
 9161 	Notify all threads waiting on the raw monitor.
 9162       &lt;/description&gt;
 9163       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9164       &lt;capabilities&gt;
 9165       &lt;/capabilities&gt;
 9166       &lt;parameters&gt;
 9167 	&lt;param id=&quot;monitor&quot;&gt;
 9168 	  &lt;jrawMonitorID/&gt;
 9169 	  &lt;description&gt;
 9170 	    The monitor
 9171 	  &lt;/description&gt;
 9172 	&lt;/param&gt;
 9173       &lt;/parameters&gt;
 9174       &lt;errors&gt;
 9175 	&lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9176 	  Not monitor owner
 9177 	&lt;/error&gt;
 9178       &lt;/errors&gt;
 9179     &lt;/function&gt;
 9180 
 9181    &lt;elide&gt;
 9182     &lt;function id=&quot;GetRawMonitorUse&quot; num=&quot;118&quot;&gt;
 9183       &lt;synopsis&gt;Get Raw Monitor Use&lt;/synopsis&gt;
 9184       &lt;description&gt;
 9185         The fields of the &lt;functionlink id=&quot;jvmtiMonitorUsage&quot;&gt;&lt;/functionlink&gt; structure
 9186         are filled in with information about usage of the raw monitor.
 9187       &lt;/description&gt;
 9188       &lt;origin&gt;new&lt;/origin&gt;
 9189       &lt;capabilities&gt;
 9190         &lt;required id=&quot;can_get_raw_monitor_usage&quot;&gt;&lt;/required&gt;
 9191       &lt;/capabilities&gt;
 9192       &lt;parameters&gt;
 9193         &lt;param id=&quot;monitor&quot;&gt;
 9194 	  &lt;jrawMonitorID/&gt;
 9195 	  &lt;description&gt;
 9196 	    the raw monitor to query.
 9197 	  &lt;/description&gt;
 9198 	&lt;/param&gt;
 9199         &lt;param id=&quot;info_ptr&quot;&gt;
 9200 	  &lt;outptr&gt;&lt;struct&gt;jvmtiMonitorUsage&lt;/struct&gt;&lt;/outptr&gt;
 9201 	  &lt;description&gt;
 9202 	    On return, filled with monitor information for the
 9203 	    specified raw monitor.
 9204 	  &lt;/description&gt;
 9205 	&lt;/param&gt;
 9206       &lt;/parameters&gt;
 9207       &lt;errors&gt;
 9208       &lt;/errors&gt;
 9209     &lt;/function&gt;
 9210 
 9211     &lt;function id=&quot;GetRawMonitors&quot; num=&quot;119&quot;&gt;
 9212       &lt;synopsis&gt;Get Raw Monitors&lt;/synopsis&gt;
 9213       &lt;description&gt;
 9214         Return the list of raw monitors.
 9215         &lt;p/&gt;
 9216         Note: details about each monitor can be examined with
 9217         &lt;functionlink id=&quot;GetRawMonitorUse&quot;&gt;&lt;/functionlink&gt;.
 9218       &lt;/description&gt;
 9219       &lt;origin&gt;new&lt;/origin&gt;
 9220       &lt;capabilities&gt;
 9221         &lt;required id=&quot;can_get_raw_monitor_usage&quot;&gt;&lt;/required&gt;
 9222       &lt;/capabilities&gt;
 9223       &lt;parameters&gt;
 9224         &lt;param id=&quot;monitorCnt&quot;&gt;
 9225 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 9226 	  &lt;description&gt;
 9227 	    On return, pointer to the number
 9228 	    of monitors returned in &lt;code&gt;monitors_ptr&lt;/code&gt;.
 9229 	  &lt;/description&gt;
 9230 	&lt;/param&gt;
 9231         &lt;param id=&quot;monitors_ptr&quot;&gt;
 9232 	  &lt;allocbuf outcount=&quot;monitorCnt&quot;&gt;&lt;jrawMonitorID/&gt;&lt;/allocbuf&gt;
 9233 	  &lt;description&gt;
 9234 	    On return, pointer to the monitor list.
 9235 	  &lt;/description&gt;
 9236 	&lt;/param&gt;
 9237       &lt;/parameters&gt;
 9238       &lt;errors&gt;
 9239       &lt;/errors&gt;
 9240     &lt;/function&gt;
 9241     &lt;/elide&gt;
 9242   &lt;/category&gt;
 9243 
 9244   &lt;category id=&quot;jniIntercept&quot; label=&quot;JNI Function Interception&quot;&gt;
 9245 
 9246     &lt;intro&gt;
 9247       Provides the ability to intercept and resend
 9248       Java Native Interface (JNI) function calls
 9249       by manipulating the JNI function table.
 9250       See &lt;externallink id=&quot;jni/functions.html&quot;&gt;JNI
 9251 	Functions&lt;/externallink&gt; in the &lt;i&gt;Java Native Interface Specification&lt;/i&gt;.
 9252       &lt;p/&gt;
 9253       The following example illustrates intercepting the
 9254       &lt;code&gt;NewGlobalRef&lt;/code&gt; JNI call in order to count reference
 9255       creation.
 9256       &lt;example&gt;
 9257 JNIEnv original_jni_Functions;
 9258 JNIEnv redirected_jni_Functions;
 9259 int my_global_ref_count = 0;
 9260 
 9261 jobject
 9262 MyNewGlobalRef(JNIEnv *jni_env, jobject lobj) {
 9263    ++my_global_ref_count;
 9264    return originalJNIFunctions-&amp;gt;NewGlobalRef(env, lobj);
 9265 }
 9266 
 9267 void
 9268 myInit() {
 9269    jvmtiError err;
 9270 
 9271    err = (*jvmti_env)-&amp;gt;GetJNIFunctionTable(jvmti_env, &amp;amp;original_jni_Functions);
 9272    if (err != JVMTI_ERROR_NONE) {
 9273       die();
 9274    }
 9275    err = (*jvmti_env)-&amp;gt;GetJNIFunctionTable(jvmti_env, &amp;amp;redirected_jni_Functions);
 9276    if (err != JVMTI_ERROR_NONE) {
 9277       die();
 9278    }
 9279    redirectedJNIFunctions-&amp;gt;NewGlobalRef = MyNewGlobalRef;
 9280       err = (*jvmti_env)-&amp;gt;SetJNIFunctionTable(jvmti_env, redirected_jni_Functions);
 9281    if (err != JVMTI_ERROR_NONE) {
 9282       die();
 9283    }
 9284 }
 9285       &lt;/example&gt;
 9286       Sometime after &lt;code&gt;myInit&lt;/code&gt; is called the user&#39;s JNI
 9287       code is executed which makes the call to create a new global
 9288       reference.  Instead of going to the normal JNI implementation
 9289       the call goes to &lt;code&gt;myNewGlobalRef&lt;/code&gt;.  Note that a
 9290       copy of the original function table is kept so that the normal
 9291       JNI function can be called after the data is collected.
 9292       Note also that any JNI functions which are not overwritten
 9293       will behave normally.
 9294       &lt;todo&gt;
 9295 	check that the example compiles and executes.
 9296       &lt;/todo&gt;
 9297     &lt;/intro&gt;
 9298 
 9299     &lt;function id=&quot;SetJNIFunctionTable&quot; phase=&quot;start&quot; num=&quot;120&quot;&gt;
 9300       &lt;synopsis&gt;Set JNI Function Table&lt;/synopsis&gt;
 9301       &lt;description&gt;
 9302         Set the JNI function table
 9303         in all current and future JNI environments.
 9304         As a result, all future JNI calls are directed to the specified functions.
 9305         Use &lt;functionlink id=&quot;GetJNIFunctionTable&quot;&gt;&lt;/functionlink&gt; to get the
 9306         function table to pass to this function.
 9307         For this function to take effect the the updated table entries must be
 9308         used by the JNI clients.
 9309         Since the table is defined &lt;code&gt;const&lt;/code&gt; some compilers may optimize
 9310         away the access to the table, thus preventing this function from taking
 9311         effect.
 9312         The table is copied--changes to the local copy of the
 9313         table have no effect.
 9314         This function affects only the function table, all other aspects of the environment are
 9315         unaffected.
 9316         See the examples &lt;internallink id=&quot;jniIntercept&quot;&gt;above&lt;/internallink&gt;.
 9317       &lt;/description&gt;
 9318       &lt;origin&gt;new&lt;/origin&gt;
 9319       &lt;capabilities&gt;
 9320       &lt;/capabilities&gt;
 9321       &lt;parameters&gt;
 9322         &lt;param id=&quot;function_table&quot;&gt;
 9323 	  &lt;inptr&gt;
 9324 	    &lt;struct&gt;jniNativeInterface&lt;/struct&gt;
 9325 	  &lt;/inptr&gt;
 9326 	  &lt;description&gt;
 9327 	    Points to the new JNI function table.
 9328 	  &lt;/description&gt;
 9329 	&lt;/param&gt;
 9330       &lt;/parameters&gt;
 9331       &lt;errors&gt;
 9332       &lt;/errors&gt;
 9333     &lt;/function&gt;
 9334 
 9335     &lt;function id=&quot;GetJNIFunctionTable&quot; phase=&quot;start&quot; num=&quot;121&quot;&gt;
 9336       &lt;synopsis&gt;Get JNI Function Table&lt;/synopsis&gt;
 9337       &lt;description&gt;
 9338         Get the JNI function table.
 9339         The JNI function table is copied into allocated memory.
 9340         If &lt;functionlink id=&quot;SetJNIFunctionTable&quot;&gt;&lt;/functionlink&gt;
 9341         has been called, the modified (not the original) function
 9342         table is returned.
 9343         Only the function table is copied, no other aspects of the environment
 9344         are copied.
 9345         See the examples &lt;internallink id=&quot;jniIntercept&quot;&gt;above&lt;/internallink&gt;.
 9346       &lt;/description&gt;
 9347       &lt;origin&gt;new&lt;/origin&gt;
 9348       &lt;capabilities&gt;
 9349       &lt;/capabilities&gt;
 9350       &lt;parameters&gt;
 9351         &lt;param id=&quot;function_table&quot;&gt;
 9352 	  &lt;allocbuf&gt;
 9353 	    &lt;struct&gt;jniNativeInterface&lt;/struct&gt;
 9354 	  &lt;/allocbuf&gt;
 9355           &lt;description&gt;
 9356 	    On return, &lt;code&gt;*function_table&lt;/code&gt;
 9357 	    points a newly allocated copy of the JNI function table.
 9358 	  &lt;/description&gt;
 9359 	&lt;/param&gt;
 9360       &lt;/parameters&gt;
 9361       &lt;errors&gt;
 9362       &lt;/errors&gt;
 9363     &lt;/function&gt;
 9364 
 9365   &lt;/category&gt;
 9366 
 9367   &lt;category id=&quot;eventManagement&quot; label=&quot;Event Management&quot;&gt;
 9368 
 9369     &lt;function id=&quot;SetEventCallbacks&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;122&quot;&gt;
 9370       &lt;synopsis&gt;Set Event Callbacks&lt;/synopsis&gt;
 9371       &lt;description&gt;
 9372         Set the functions to be called for each event.
 9373         The callbacks are specified by supplying a replacement function table.
 9374         The function table is copied--changes to the local copy of the
 9375         table have no effect.
 9376         This is an atomic action, all callbacks are set at once.
 9377         No events are sent before this function is called.
 9378         When an entry is &lt;code&gt;NULL&lt;/code&gt; or when the event is beyond
 9379         &lt;paramlink id=&quot;size_of_callbacks&quot;&gt;&lt;/paramlink&gt; no event is sent.
 9380         Details on events are
 9381         described &lt;internallink id=&quot;EventSection&quot;&gt;later&lt;/internallink&gt; in this document.
 9382         An event must be enabled and have a callback in order to be
 9383         sent--the order in which this function and
 9384         &lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;&lt;/functionlink&gt;
 9385         are called does not affect the result.
 9386       &lt;/description&gt;
 9387       &lt;origin&gt;new&lt;/origin&gt;
 9388       &lt;capabilities&gt;
 9389       &lt;/capabilities&gt;
 9390       &lt;parameters&gt;
 9391         &lt;param id=&quot;callbacks&quot;&gt;
 9392 	  &lt;inptr&gt;
 9393 	    &lt;struct&gt;jvmtiEventCallbacks&lt;/struct&gt;
 9394 	    &lt;nullok&gt;remove the existing callbacks&lt;/nullok&gt;
 9395 	  &lt;/inptr&gt;
 9396 	  &lt;description&gt;
 9397 	    The new event callbacks.
 9398 	  &lt;/description&gt;
 9399 	&lt;/param&gt;
 9400         &lt;param id=&quot;size_of_callbacks&quot;&gt;
 9401 	  &lt;jint min=&quot;0&quot;/&gt;
 9402 	  &lt;description&gt;
 9403 	    &lt;code&gt;sizeof(jvmtiEventCallbacks)&lt;/code&gt;--for version
 9404 	    compatibility.
 9405 	  &lt;/description&gt;
 9406 	&lt;/param&gt;
 9407       &lt;/parameters&gt;
 9408       &lt;errors&gt;
 9409       &lt;/errors&gt;
 9410     &lt;/function&gt;
 9411 
 9412     &lt;function id=&quot;SetEventNotificationMode&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;2&quot;&gt;
 9413       &lt;synopsis&gt;Set Event Notification Mode&lt;/synopsis&gt;
 9414       &lt;description&gt;
 9415 	Control the generation of events.
 9416 	&lt;constants id=&quot;jvmtiEventMode&quot; label=&quot;Event Enable/Disable&quot; kind=&quot;enum&quot;&gt;
 9417 	  &lt;constant id=&quot;JVMTI_ENABLE&quot; num=&quot;1&quot;&gt;
 9418 	    If &lt;paramlink id=&quot;mode&quot;&gt;&lt;/paramlink&gt; is &lt;code&gt;JVMTI_ENABLE&lt;/code&gt;,
 9419 	    the event &lt;paramlink id=&quot;event_type&quot;&gt;&lt;/paramlink&gt; will be enabled
 9420 	  &lt;/constant&gt;
 9421 	  &lt;constant id=&quot;JVMTI_DISABLE&quot; num=&quot;0&quot;&gt;
 9422 	    If &lt;paramlink id=&quot;mode&quot;&gt;&lt;/paramlink&gt; is &lt;code&gt;JVMTI_DISABLE&lt;/code&gt;,
 9423 	    the event &lt;paramlink id=&quot;event_type&quot;&gt;&lt;/paramlink&gt; will be disabled
 9424 	  &lt;/constant&gt;
 9425 	&lt;/constants&gt;
 9426 	If &lt;code&gt;event_thread&lt;/code&gt; is &lt;code&gt;NULL&lt;/code&gt;,
 9427 	the event is enabled or disabled globally; otherwise, it is
 9428 	enabled or disabled for a particular thread.
 9429 	An event is generated for
 9430 	a particular thread if it is enabled either at the thread or global
 9431 	levels.
 9432 	&lt;p/&gt;
 9433 	See &lt;internallink id=&quot;EventIndex&quot;&gt;below&lt;/internallink&gt; for information on specific events.
 9434 	&lt;p/&gt;
 9435 	The following events cannot be controlled at the thread
 9436 	level through this function.
 9437 	&lt;ul&gt;
 9438 	  &lt;li&gt;&lt;eventlink id=&quot;VMInit&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9439 	  &lt;li&gt;&lt;eventlink id=&quot;VMStart&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9440 	  &lt;li&gt;&lt;eventlink id=&quot;VMDeath&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9441 	  &lt;li&gt;&lt;eventlink id=&quot;ThreadStart&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9442 	  &lt;li&gt;&lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9443 	  &lt;li&gt;&lt;eventlink id=&quot;CompiledMethodUnload&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9444 	  &lt;li&gt;&lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9445 	  &lt;li&gt;&lt;eventlink id=&quot;DataDumpRequest&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9446 	&lt;/ul&gt;
 9447 	&lt;p/&gt;
 9448 	Initially, no events are enabled at either the thread level
 9449 	or the global level.
 9450 	&lt;p/&gt;
 9451         Any needed capabilities (see Event Enabling Capabilities below) must be possessed
 9452         before calling this function.
 9453         &lt;p/&gt;
 9454 	Details on events are
 9455 	described &lt;internallink id=&quot;EventSection&quot;&gt;below&lt;/internallink&gt;.
 9456       &lt;/description&gt;
 9457       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 9458       &lt;eventcapabilities&gt;&lt;/eventcapabilities&gt;
 9459       &lt;parameters&gt;
 9460 	&lt;param id=&quot;mode&quot;&gt;
 9461 	  &lt;enum&gt;jvmtiEventMode&lt;/enum&gt;
 9462 	  &lt;description&gt;
 9463 	    &lt;code&gt;JVMTI_ENABLE&lt;/code&gt; or &lt;code&gt;JVMTI_DISABLE&lt;/code&gt;
 9464 	  &lt;/description&gt;
 9465 	&lt;/param&gt;
 9466 	&lt;param id=&quot;event_type&quot;&gt;
 9467 	  &lt;enum&gt;jvmtiEvent&lt;/enum&gt;
 9468 	  &lt;description&gt;
 9469 	    the event to control
 9470 	  &lt;/description&gt;
 9471 	&lt;/param&gt;
 9472 	&lt;param id=&quot;event_thread&quot;&gt;
 9473 	  &lt;ptrtype&gt;
 9474 	    &lt;jthread impl=&quot;noconvert&quot;/&gt;
 9475 	    &lt;nullok&gt;event is controlled at the global level&lt;/nullok&gt;
 9476 	  &lt;/ptrtype&gt;
 9477 	    &lt;description&gt;
 9478 	      The thread to control
 9479 	    &lt;/description&gt;
 9480 	&lt;/param&gt;
 9481         &lt;param id=&quot;...&quot;&gt;
 9482           &lt;varargs/&gt;
 9483             &lt;description&gt;
 9484               for future expansion
 9485             &lt;/description&gt;
 9486         &lt;/param&gt;
 9487       &lt;/parameters&gt;
 9488       &lt;errors&gt;
 9489         &lt;error id=&quot;JVMTI_ERROR_INVALID_THREAD&quot;&gt;
 9490           &lt;paramlink id=&quot;event_thread&quot;/&gt; is non-&lt;code&gt;NULL&lt;/code&gt; and is not a valid thread.
 9491         &lt;/error&gt;
 9492         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_ALIVE&quot;&gt;
 9493           &lt;paramlink id=&quot;event_thread&quot;/&gt; is non-&lt;code&gt;NULL&lt;/code&gt; and is not live (has not been started or is now dead).
 9494         &lt;/error&gt;
 9495 	&lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 9496 	  thread level control was attempted on events which do not
 9497           permit thread level control.
 9498 	&lt;/error&gt;
 9499         &lt;error id=&quot;JVMTI_ERROR_MUST_POSSESS_CAPABILITY&quot;&gt;
 9500           The Required Event Enabling Capability is not possessed.
 9501         &lt;/error&gt;
 9502       &lt;/errors&gt;
 9503     &lt;/function&gt;
 9504 
 9505     &lt;function id=&quot;GenerateEvents&quot; num=&quot;123&quot;&gt;
 9506       &lt;synopsis&gt;Generate Events&lt;/synopsis&gt;
 9507       &lt;description&gt;
 9508         Generate events to represent the current state of the VM.
 9509         For example, if &lt;paramlink id=&quot;event_type&quot;/&gt; is
 9510         &lt;code&gt;JVMTI_EVENT_COMPILED_METHOD_LOAD&lt;/code&gt;,
 9511         a &lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;/eventlink&gt; event will be
 9512         sent for each currently compiled method.
 9513         Methods that were loaded and now have been unloaded are not sent.
 9514         The history of what events have previously been sent does not
 9515         effect what events are sent by this function--for example,
 9516         all currently compiled methods
 9517         will be sent each time this function is called.
 9518         &lt;p/&gt;
 9519 	This function is useful when
 9520         events may have been missed due to the agent attaching after program
 9521 	execution begins; this function generates the missed events.
 9522 	&lt;p/&gt;
 9523 	Attempts to execute Java programming language code or
 9524 	JNI functions may be paused until this function returns -
 9525 	so neither should be called from the thread sending the event.
 9526 	This function returns only after the missed events have been
 9527         sent, processed and have returned.
 9528 	The event may be sent on a different thread than the thread
 9529 	on which the event occurred.
 9530 	The callback for the event must be set with
 9531         &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt;
 9532 	and the event must be enabled with
 9533         &lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;&lt;/functionlink&gt;
 9534 	or the events will not occur.
 9535 	If the VM no longer has the information to generate some or
 9536         all of the requested events, the events are simply not sent -
 9537         no error is returned.
 9538 	&lt;p/&gt;
 9539 	Only the following events are supported:
 9540 	&lt;ul&gt;
 9541 	  &lt;li&gt;&lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9542 	  &lt;li&gt;&lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9543 	&lt;/ul&gt;
 9544       &lt;/description&gt;
 9545       &lt;origin&gt;new&lt;/origin&gt;
 9546       &lt;capabilities&gt;
 9547 	&lt;capability id=&quot;can_generate_compiled_method_load_events&quot;&gt;&lt;/capability&gt;
 9548       &lt;/capabilities&gt;
 9549       &lt;parameters&gt;
 9550 	&lt;param id=&quot;event_type&quot;&gt;
 9551 	  &lt;enum&gt;jvmtiEvent&lt;/enum&gt;
 9552 	  &lt;description&gt;
 9553 	    The type of event to generate.  Must be one of these:
 9554 	    &lt;ul&gt;
 9555 	      &lt;li&gt;&lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;code&gt;JVMTI_EVENT_COMPILED_METHOD_LOAD&lt;/code&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9556 	      &lt;li&gt;&lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;code&gt;JVMTI_EVENT_DYNAMIC_CODE_GENERATED&lt;/code&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9557 	    &lt;/ul&gt;
 9558 	  &lt;/description&gt;
 9559 	&lt;/param&gt;
 9560       &lt;/parameters&gt;
 9561       &lt;errors&gt;
 9562         &lt;error id=&quot;JVMTI_ERROR_MUST_POSSESS_CAPABILITY&quot;&gt;
 9563           &lt;paramlink id=&quot;event_type&quot;/&gt; is
 9564 	  &lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;code&gt;JVMTI_EVENT_COMPILED_METHOD_LOAD&lt;/code&gt;&lt;/eventlink&gt;
 9565 	  and &lt;fieldlink id=&quot;can_generate_compiled_method_load_events&quot; struct=&quot;jvmtiCapabilities&quot;&gt;&lt;/fieldlink&gt;
 9566 	  is &lt;code&gt;false&lt;/code&gt;.
 9567         &lt;/error&gt;
 9568         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 9569           &lt;paramlink id=&quot;event_type&quot;/&gt; is other than
 9570 	  &lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;code&gt;JVMTI_EVENT_COMPILED_METHOD_LOAD&lt;/code&gt;&lt;/eventlink&gt;
 9571 	  or &lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;code&gt;JVMTI_EVENT_DYNAMIC_CODE_GENERATED&lt;/code&gt;&lt;/eventlink&gt;.
 9572         &lt;/error&gt;
 9573       &lt;/errors&gt;
 9574     &lt;/function&gt;
 9575 
 9576   &lt;/category&gt;
 9577 
 9578     &lt;category id=&quot;extension&quot; label=&quot;Extension Mechanism&quot;&gt;
 9579 
 9580       &lt;intro&gt;
 9581 	These functions
 9582 	allow a &lt;jvmti/&gt; implementation to provide functions and events
 9583 	beyond those defined in this specification.
 9584 	&lt;p/&gt;
 9585 	Both extension functions and extension events have parameters
 9586 	each of which has a &#39;type&#39; and &#39;kind&#39; chosen from the following tables:
 9587 
 9588 	&lt;constants id=&quot;jvmtiParamTypes&quot; label=&quot;Extension Function/Event Parameter Types&quot; kind=&quot;enum&quot;&gt;
 9589 	  &lt;constant id=&quot;JVMTI_TYPE_JBYTE&quot; num=&quot;101&quot;&gt;
 9590 	    Java programming language primitive type - &lt;code&gt;byte&lt;/code&gt;.
 9591 	    JNI type &lt;code&gt;jbyte&lt;/code&gt;.
 9592 	  &lt;/constant&gt;
 9593 	  &lt;constant id=&quot;JVMTI_TYPE_JCHAR&quot; num=&quot;102&quot;&gt;
 9594 	    Java programming language primitive type - &lt;code&gt;char&lt;/code&gt;.
 9595 	    JNI type &lt;code&gt;jchar&lt;/code&gt;.
 9596 	  &lt;/constant&gt;
 9597 	  &lt;constant id=&quot;JVMTI_TYPE_JSHORT&quot; num=&quot;103&quot;&gt;
 9598 	    Java programming language primitive type - &lt;code&gt;short&lt;/code&gt;.
 9599 	    JNI type &lt;code&gt;jshort&lt;/code&gt;.
 9600 	  &lt;/constant&gt;
 9601 	  &lt;constant id=&quot;JVMTI_TYPE_JINT&quot; num=&quot;104&quot;&gt;
 9602 	    Java programming language primitive type - &lt;code&gt;int&lt;/code&gt;.
 9603 	    JNI type &lt;datalink id=&quot;jint&quot;&gt;&lt;/datalink&gt;.
 9604 	  &lt;/constant&gt;
 9605 	  &lt;constant id=&quot;JVMTI_TYPE_JLONG&quot; num=&quot;105&quot;&gt;
 9606 	    Java programming language primitive type - &lt;code&gt;long&lt;/code&gt;.
 9607 	    JNI type &lt;datalink id=&quot;jlong&quot;&gt;&lt;/datalink&gt;.
 9608 	  &lt;/constant&gt;
 9609 	  &lt;constant id=&quot;JVMTI_TYPE_JFLOAT&quot; num=&quot;106&quot;&gt;
 9610 	    Java programming language primitive type - &lt;code&gt;float&lt;/code&gt;.
 9611 	    JNI type &lt;datalink id=&quot;jfloat&quot;&gt;&lt;/datalink&gt;.
 9612 	  &lt;/constant&gt;
 9613 	  &lt;constant id=&quot;JVMTI_TYPE_JDOUBLE&quot; num=&quot;107&quot;&gt;
 9614 	    Java programming language primitive type - &lt;code&gt;double&lt;/code&gt;.
 9615 	    JNI type &lt;datalink id=&quot;jdouble&quot;&gt;&lt;/datalink&gt;.
 9616 	  &lt;/constant&gt;
 9617 	  &lt;constant id=&quot;JVMTI_TYPE_JBOOLEAN&quot; num=&quot;108&quot;&gt;
 9618 	    Java programming language primitive type - &lt;code&gt;boolean&lt;/code&gt;.
 9619 	    JNI type &lt;datalink id=&quot;jboolean&quot;&gt;&lt;/datalink&gt;.
 9620 	  &lt;/constant&gt;
 9621 	  &lt;constant id=&quot;JVMTI_TYPE_JOBJECT&quot; num=&quot;109&quot;&gt;
 9622 	    Java programming language object type - &lt;code&gt;java.lang.Object&lt;/code&gt;.
 9623 	    JNI type &lt;datalink id=&quot;jobject&quot;&gt;&lt;/datalink&gt;.
 9624 	    Returned values are JNI local references and must be managed.
 9625 	  &lt;/constant&gt;
 9626 	  &lt;constant id=&quot;JVMTI_TYPE_JTHREAD&quot; num=&quot;110&quot;&gt;
 9627 	    Java programming language object type - &lt;code&gt;java.lang.Thread&lt;/code&gt;.
 9628 	    &lt;jvmti/&gt; type &lt;datalink id=&quot;jthread&quot;&gt;&lt;/datalink&gt;.
 9629 	    Returned values are JNI local references and must be managed.
 9630 	  &lt;/constant&gt;
 9631 	  &lt;constant id=&quot;JVMTI_TYPE_JCLASS&quot; num=&quot;111&quot;&gt;
 9632 	    Java programming language object type - &lt;code&gt;java.lang.Class&lt;/code&gt;.
 9633 	    JNI type &lt;datalink id=&quot;jclass&quot;&gt;&lt;/datalink&gt;.
 9634 	    Returned values are JNI local references and must be managed.
 9635 	  &lt;/constant&gt;
 9636 	  &lt;constant id=&quot;JVMTI_TYPE_JVALUE&quot; num=&quot;112&quot;&gt;
 9637 	    Union of all Java programming language primitive and object types -
 9638 	    JNI type &lt;datalink id=&quot;jvalue&quot;&gt;&lt;/datalink&gt;.
 9639 	    Returned values which represent object types are JNI local references and must be managed.
 9640 	  &lt;/constant&gt;
 9641 	  &lt;constant id=&quot;JVMTI_TYPE_JFIELDID&quot; num=&quot;113&quot;&gt;
 9642 	    Java programming language field identifier -
 9643 	    JNI type &lt;datalink id=&quot;jfieldID&quot;&gt;&lt;/datalink&gt;.
 9644 	  &lt;/constant&gt;
 9645 	  &lt;constant id=&quot;JVMTI_TYPE_JMETHODID&quot; num=&quot;114&quot;&gt;
 9646 	    Java programming language method identifier -
 9647 	    JNI type &lt;datalink id=&quot;jmethodID&quot;&gt;&lt;/datalink&gt;.
 9648 	  &lt;/constant&gt;
 9649 	  &lt;constant id=&quot;JVMTI_TYPE_CCHAR&quot; num=&quot;115&quot;&gt;
 9650 	    C programming language type - &lt;code&gt;char&lt;/code&gt;.
 9651 	  &lt;/constant&gt;
 9652 	  &lt;constant id=&quot;JVMTI_TYPE_CVOID&quot; num=&quot;116&quot;&gt;
 9653 	    C programming language type - &lt;code&gt;void&lt;/code&gt;.
 9654 	  &lt;/constant&gt;
 9655 	  &lt;constant id=&quot;JVMTI_TYPE_JNIENV&quot; num=&quot;117&quot;&gt;
 9656 	    JNI environment - &lt;code&gt;JNIEnv&lt;/code&gt;.
 9657             Should be used with the correct &lt;datalink id=&quot;jvmtiParamKind&quot;/&gt; to make it a pointer type.
 9658 	  &lt;/constant&gt;
 9659 	&lt;/constants&gt;
 9660 
 9661 	&lt;constants id=&quot;jvmtiParamKind&quot; label=&quot;Extension Function/Event Parameter Kinds&quot; kind=&quot;enum&quot;&gt;
 9662 	  &lt;constant id=&quot;JVMTI_KIND_IN&quot; num=&quot;91&quot;&gt;
 9663 	    Ingoing argument - &lt;code&gt;foo&lt;/code&gt;.
 9664 	  &lt;/constant&gt;
 9665 	  &lt;constant id=&quot;JVMTI_KIND_IN_PTR&quot; num=&quot;92&quot;&gt;
 9666 	    Ingoing pointer argument - &lt;code&gt;const foo*&lt;/code&gt;.
 9667 	  &lt;/constant&gt;
 9668 	  &lt;constant id=&quot;JVMTI_KIND_IN_BUF&quot; num=&quot;93&quot;&gt;
 9669 	    Ingoing array argument - &lt;code&gt;const foo*&lt;/code&gt;.
 9670 	  &lt;/constant&gt;
 9671 	  &lt;constant id=&quot;JVMTI_KIND_ALLOC_BUF&quot; num=&quot;94&quot;&gt;
 9672 	    Outgoing allocated array argument -  &lt;code&gt;foo**&lt;/code&gt;.
 9673 	    Free with &lt;code&gt;Deallocate&lt;/code&gt;.
 9674 	  &lt;/constant&gt;
 9675 	  &lt;constant id=&quot;JVMTI_KIND_ALLOC_ALLOC_BUF&quot; num=&quot;95&quot;&gt;
 9676 	    Outgoing allocated array of allocated arrays argument - &lt;code&gt;foo***&lt;/code&gt;.
 9677 	    Free with &lt;code&gt;Deallocate&lt;/code&gt;.
 9678 	  &lt;/constant&gt;
 9679 	  &lt;constant id=&quot;JVMTI_KIND_OUT&quot; num=&quot;96&quot;&gt;
 9680 	    Outgoing argument - &lt;code&gt;foo*&lt;/code&gt;.
 9681 	  &lt;/constant&gt;
 9682 	  &lt;constant id=&quot;JVMTI_KIND_OUT_BUF&quot; num=&quot;97&quot;&gt;
 9683 	    Outgoing array argument (pre-allocated by agent) - &lt;code&gt;foo*&lt;/code&gt;.
 9684 	    Do not &lt;code&gt;Deallocate&lt;/code&gt;.
 9685 	  &lt;/constant&gt;
 9686 	&lt;/constants&gt;
 9687 
 9688       &lt;/intro&gt;
 9689 
 9690       &lt;typedef id=&quot;jvmtiParamInfo&quot; label=&quot;Extension Function/Event Parameter Info&quot;&gt;
 9691 	&lt;field id=&quot;name&quot;&gt;
 9692 	  &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9693 	    &lt;description&gt;
 9694 	      The parameter name, encoded as a
 9695 	      &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string
 9696 	    &lt;/description&gt;
 9697 	&lt;/field&gt;
 9698 	&lt;field id=&quot;kind&quot;&gt;
 9699 	  &lt;enum&gt;jvmtiParamKind&lt;/enum&gt;
 9700 	  &lt;description&gt;
 9701 	    The kind of the parameter - type modifiers
 9702 	  &lt;/description&gt;
 9703 	&lt;/field&gt;
 9704 	&lt;field id=&quot;base_type&quot;&gt;
 9705 	  &lt;enum&gt;jvmtiParamTypes&lt;/enum&gt;
 9706 	  &lt;description&gt;
 9707 	    The base type of the parameter -  modified by &lt;code&gt;kind&lt;/code&gt;
 9708 	  &lt;/description&gt;
 9709 	&lt;/field&gt;
 9710 	&lt;field id=&quot;null_ok&quot;&gt;
 9711 	  &lt;jboolean/&gt;
 9712 	    &lt;description&gt;
 9713 	      Is a &lt;code&gt;NULL&lt;/code&gt; argument permitted? Applies only to pointer and object types.
 9714 	    &lt;/description&gt;
 9715 	&lt;/field&gt;
 9716       &lt;/typedef&gt;
 9717 
 9718       &lt;callback id=&quot;jvmtiExtensionFunction&quot;&gt;
 9719 	&lt;enum&gt;jvmtiError&lt;/enum&gt;
 9720 	  &lt;synopsis&gt;Extension Function&lt;/synopsis&gt;
 9721 	&lt;description&gt;
 9722 	  This is the implementation-specific extension function.
 9723 	&lt;/description&gt;
 9724 	&lt;parameters&gt;
 9725 	  &lt;param id=&quot;jvmti_env&quot;&gt;
 9726 	    &lt;outptr&gt;
 9727 	      &lt;struct&gt;jvmtiEnv&lt;/struct&gt;
 9728 	    &lt;/outptr&gt;
 9729 	    &lt;description&gt;
 9730 	      The &lt;jvmti/&gt; environment is the only fixed parameter for extension functions.
 9731 	    &lt;/description&gt;
 9732 	  &lt;/param&gt;
 9733 	  &lt;param id=&quot;...&quot;&gt;
 9734 	    &lt;varargs/&gt;
 9735 	      &lt;description&gt;
 9736 		The extension function-specific parameters
 9737 	      &lt;/description&gt;
 9738 	  &lt;/param&gt;
 9739 	&lt;/parameters&gt;
 9740       &lt;/callback&gt;
 9741 
 9742       &lt;function id=&quot;GetExtensionFunctions&quot; phase=&quot;onload&quot; num=&quot;124&quot;&gt;
 9743 	&lt;synopsis&gt;Get Extension Functions&lt;/synopsis&gt;
 9744 
 9745 	&lt;typedef id=&quot;jvmtiExtensionFunctionInfo&quot; label=&quot;Extension Function Info&quot;&gt;
 9746 	  &lt;field id=&quot;func&quot;&gt;
 9747             &lt;ptrtype&gt;
 9748               &lt;struct&gt;jvmtiExtensionFunction&lt;/struct&gt;
 9749             &lt;/ptrtype&gt;
 9750 	    &lt;description&gt;
 9751 	      The actual function to call
 9752 	    &lt;/description&gt;
 9753 	  &lt;/field&gt;
 9754 	  &lt;field id=&quot;id&quot;&gt;
 9755 	    &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9756 	      &lt;description&gt;
 9757 		The identifier for the extension function, encoded as a
 9758 	        &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9759 		Uses package name conventions.
 9760 		For example, &lt;code&gt;com.sun.hotspot.bar&lt;/code&gt;
 9761 	      &lt;/description&gt;
 9762 	  &lt;/field&gt;
 9763 	  &lt;field id=&quot;short_description&quot;&gt;
 9764 	    &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9765 	      &lt;description&gt;
 9766 		A one sentence description of the function, encoded as a
 9767 	        &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9768 	      &lt;/description&gt;
 9769 	  &lt;/field&gt;
 9770 	  &lt;field id=&quot;param_count&quot;&gt;
 9771 	    &lt;jint/&gt;
 9772 	      &lt;description&gt;
 9773 		The number of parameters excluding &lt;code&gt;jvmtiEnv *jvmti_env&lt;/code&gt;
 9774 	      &lt;/description&gt;
 9775 	  &lt;/field&gt;
 9776 	  &lt;field id=&quot;params&quot;&gt;
 9777 	    &lt;allocfieldbuf outcount=&quot;param_count&quot;&gt;
 9778 	      &lt;struct&gt;jvmtiParamInfo&lt;/struct&gt;
 9779 	    &lt;/allocfieldbuf&gt;
 9780 	    &lt;description&gt;
 9781 	      Array of
 9782 	      &lt;fieldlink id=&quot;param_count&quot; struct=&quot;jvmtiExtensionFunctionInfo&quot;&gt;&lt;/fieldlink&gt;
 9783 	      parameters (&lt;code&gt;jvmtiEnv *jvmti_env&lt;/code&gt; excluded)
 9784 	    &lt;/description&gt;
 9785 	  &lt;/field&gt;
 9786 	  &lt;field id=&quot;error_count&quot;&gt;
 9787 	    &lt;jint/&gt;
 9788 	      &lt;description&gt;
 9789 		The number of possible error returns (excluding universal errors)
 9790 	      &lt;/description&gt;
 9791 	  &lt;/field&gt;
 9792 	  &lt;field id=&quot;errors&quot;&gt;
 9793 	    &lt;allocfieldbuf outcount=&quot;error_count&quot;&gt;
 9794 	      &lt;enum&gt;jvmtiError&lt;/enum&gt;
 9795 	    &lt;/allocfieldbuf&gt;
 9796 	    &lt;description&gt;
 9797 	      Array of &lt;fieldlink id=&quot;error_count&quot; struct=&quot;jvmtiExtensionFunctionInfo&quot;&gt;&lt;/fieldlink&gt;
 9798 	      possible errors
 9799 	    &lt;/description&gt;
 9800 	  &lt;/field&gt;
 9801 	&lt;/typedef&gt;
 9802 
 9803 	&lt;description&gt;
 9804 	  Returns the set of extension functions.
 9805 	&lt;/description&gt;
 9806 	&lt;origin&gt;new&lt;/origin&gt;
 9807 	&lt;capabilities&gt;
 9808 	&lt;/capabilities&gt;
 9809 	&lt;parameters&gt;
 9810 	  &lt;param id=&quot;extension_count_ptr&quot;&gt;
 9811 	    &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 9812 	      &lt;description&gt;
 9813 		On return, points to the number of extension functions
 9814 	      &lt;/description&gt;
 9815 	  &lt;/param&gt;
 9816 	  &lt;param id=&quot;extensions&quot;&gt;
 9817 	    &lt;allocbuf outcount=&quot;extension_count_ptr&quot;&gt;&lt;struct&gt;jvmtiExtensionFunctionInfo&lt;/struct&gt;&lt;/allocbuf&gt;
 9818 	    &lt;description&gt;
 9819 	      Returns an array of extension function info, one per function
 9820 	    &lt;/description&gt;
 9821 	  &lt;/param&gt;
 9822 	&lt;/parameters&gt;
 9823 	&lt;errors&gt;
 9824 	&lt;/errors&gt;
 9825       &lt;/function&gt;
 9826 
 9827       &lt;function id=&quot;GetExtensionEvents&quot; phase=&quot;onload&quot; num=&quot;125&quot;&gt;
 9828 	&lt;synopsis&gt;Get Extension Events&lt;/synopsis&gt;
 9829 
 9830 	&lt;typedef id=&quot;jvmtiExtensionEventInfo&quot; label=&quot;Extension Event Info&quot;&gt;
 9831 	  &lt;field id=&quot;extension_event_index&quot;&gt;
 9832 	    &lt;jint/&gt;
 9833 	    &lt;description&gt;
 9834 	      The identifying index of the event
 9835 	    &lt;/description&gt;
 9836 	  &lt;/field&gt;
 9837 	  &lt;field id=&quot;id&quot;&gt;
 9838 	    &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9839 	      &lt;description&gt;
 9840 		The identifier for the extension event, encoded as a
 9841                 &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9842 		Uses package name conventions.
 9843 		For example, &lt;code&gt;com.sun.hotspot.bar&lt;/code&gt;
 9844 	      &lt;/description&gt;
 9845 	  &lt;/field&gt;
 9846 	  &lt;field id=&quot;short_description&quot;&gt;
 9847 	    &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9848 	      &lt;description&gt;
 9849 		A one sentence description of the event, encoded as a
 9850                 &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9851 	      &lt;/description&gt;
 9852 	  &lt;/field&gt;
 9853 	  &lt;field id=&quot;param_count&quot;&gt;
 9854 	    &lt;jint/&gt;
 9855 	      &lt;description&gt;
 9856 		The number of parameters excluding &lt;code&gt;jvmtiEnv *jvmti_env&lt;/code&gt;
 9857 	      &lt;/description&gt;
 9858 	  &lt;/field&gt;
 9859 	  &lt;field id=&quot;params&quot;&gt;
 9860 	    &lt;allocfieldbuf outcount=&quot;param_count&quot;&gt;
 9861 	      &lt;struct&gt;jvmtiParamInfo&lt;/struct&gt;
 9862 	    &lt;/allocfieldbuf&gt;
 9863 	    &lt;description&gt;
 9864 	      Array of
 9865 	      &lt;fieldlink id=&quot;param_count&quot; struct=&quot;jvmtiExtensionEventInfo&quot;&gt;&lt;/fieldlink&gt;
 9866 	      parameters (&lt;code&gt;jvmtiEnv *jvmti_env&lt;/code&gt; excluded)
 9867 	    &lt;/description&gt;
 9868 	  &lt;/field&gt;
 9869 	&lt;/typedef&gt;
 9870 
 9871 	&lt;description&gt;
 9872 	  Returns the set of extension events.
 9873 	&lt;/description&gt;
 9874 	&lt;origin&gt;new&lt;/origin&gt;
 9875 	&lt;capabilities&gt;
 9876 	&lt;/capabilities&gt;
 9877 	&lt;parameters&gt;
 9878 	  &lt;param id=&quot;extension_count_ptr&quot;&gt;
 9879 	    &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 9880 	      &lt;description&gt;
 9881 		On return, points to the number of extension events
 9882 	      &lt;/description&gt;
 9883 	  &lt;/param&gt;
 9884 	  &lt;param id=&quot;extensions&quot;&gt;
 9885 	    &lt;allocbuf outcount=&quot;extension_count_ptr&quot;&gt;&lt;struct&gt;jvmtiExtensionEventInfo&lt;/struct&gt;&lt;/allocbuf&gt;
 9886 	    &lt;description&gt;
 9887 	      Returns an array of extension event info, one per event
 9888 	    &lt;/description&gt;
 9889 	  &lt;/param&gt;
 9890 	&lt;/parameters&gt;
 9891 	&lt;errors&gt;
 9892 	&lt;/errors&gt;
 9893       &lt;/function&gt;
 9894 
 9895       &lt;callback id=&quot;jvmtiExtensionEvent&quot;&gt;
 9896 	&lt;void/&gt;
 9897 	  &lt;synopsis&gt;Extension Event&lt;/synopsis&gt;
 9898 	&lt;description&gt;
 9899 	  This is the implementation-specific event.
 9900           The event handler is set with
 9901           &lt;functionlink id=&quot;SetExtensionEventCallback&quot;/&gt;.
 9902           &lt;p/&gt;
 9903           Event handlers for extension events must be declared varargs to match this definition.
 9904           Failure to do so could result in calling convention mismatch and undefined behavior
 9905           on some platforms.
 9906           &lt;p/&gt;
 9907           For example, if the &lt;code&gt;jvmtiParamInfo&lt;/code&gt;
 9908           returned by &lt;functionlink id=&quot;GetExtensionEvents&quot;/&gt; indicates that
 9909           there is a &lt;code&gt;jint&lt;/code&gt; parameter, the event handler should be
 9910           declared:
 9911 &lt;example&gt;
 9912     void JNICALL myHandler(jvmtiEnv* jvmti_env, jint myInt, ...)
 9913 &lt;/example&gt;
 9914           Note the terminal &quot;&lt;code&gt;...&lt;/code&gt;&quot; which indicates varargs.
 9915 	&lt;/description&gt;
 9916 	&lt;parameters&gt;
 9917 	  &lt;param id=&quot;jvmti_env&quot;&gt;
 9918 	    &lt;outptr&gt;
 9919 	      &lt;struct&gt;jvmtiEnv&lt;/struct&gt;
 9920 	    &lt;/outptr&gt;
 9921 	    &lt;description&gt;
 9922 	      The &lt;jvmti/&gt; environment is the only fixed parameter for extension events.
 9923 	    &lt;/description&gt;
 9924 	  &lt;/param&gt;
 9925 	  &lt;param id=&quot;...&quot;&gt;
 9926 	    &lt;varargs/&gt;
 9927 	      &lt;description&gt;
 9928 		The extension event-specific parameters
 9929 	      &lt;/description&gt;
 9930 	  &lt;/param&gt;
 9931 	&lt;/parameters&gt;
 9932       &lt;/callback&gt;
 9933 
 9934       &lt;function id=&quot;SetExtensionEventCallback&quot; phase=&quot;onload&quot; num=&quot;126&quot;&gt;
 9935 	&lt;synopsis&gt;Set Extension Event Callback&lt;/synopsis&gt;
 9936 
 9937 	&lt;description&gt;
 9938 	  Sets the callback function for an extension event and
 9939 	  enables the event. Or, if the callback is &lt;code&gt;NULL&lt;/code&gt;, disables
 9940 	  the event.  Note that unlike standard events, setting
 9941 	  the callback and enabling the event are a single operation.
 9942 	&lt;/description&gt;
 9943 	&lt;origin&gt;new&lt;/origin&gt;
 9944 	&lt;capabilities&gt;
 9945 	&lt;/capabilities&gt;
 9946 	&lt;parameters&gt;
 9947 	  &lt;param id=&quot;extension_event_index&quot;&gt;
 9948 	    &lt;jint/&gt;
 9949 	      &lt;description&gt;
 9950 		Identifies which callback to set.
 9951 		This index is the
 9952 		&lt;fieldlink id=&quot;extension_event_index&quot; struct=&quot;jvmtiExtensionEventInfo&quot;&gt;&lt;/fieldlink&gt;
 9953 		field of
 9954 		&lt;datalink id=&quot;jvmtiExtensionEventInfo&quot;/&gt;.
 9955 	      &lt;/description&gt;
 9956 	  &lt;/param&gt;
 9957 	  &lt;param id=&quot;callback&quot;&gt;
 9958 	    &lt;ptrtype&gt;
 9959 	      &lt;struct&gt;jvmtiExtensionEvent&lt;/struct&gt;
 9960 	      &lt;nullok&gt;disable the event&lt;/nullok&gt;
 9961 	    &lt;/ptrtype&gt;
 9962 	    &lt;description&gt;
 9963 	      If &lt;code&gt;callback&lt;/code&gt; is non-&lt;code&gt;NULL&lt;/code&gt;,
 9964 	      set &lt;code&gt;callback&lt;/code&gt; to be the event callback function
 9965 	      and enable the event.
 9966 	    &lt;/description&gt;
 9967 	  &lt;/param&gt;
 9968 	&lt;/parameters&gt;
 9969 	&lt;errors&gt;
 9970         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 9971             &lt;paramlink id=&quot;extension_event_index&quot;/&gt; is not an
 9972             &lt;fieldlink id=&quot;extension_event_index&quot;
 9973                        struct=&quot;jvmtiExtensionEventInfo&quot;/&gt;
 9974             returned by
 9975             &lt;functionlink id=&quot;GetExtensionEvents&quot;/&gt;
 9976         &lt;/error&gt;
 9977 	&lt;/errors&gt;
 9978       &lt;/function&gt;
 9979 
 9980     &lt;/category&gt;
 9981 
 9982   &lt;category id=&quot;capability&quot; label=&quot;Capability&quot;&gt;
 9983 
 9984     &lt;intro&gt;
 9985       The capabilities functions allow you to change the
 9986       functionality available to &lt;jvmti/&gt;--that is,
 9987       which &lt;jvmti/&gt;
 9988       functions can be called, what events can be generated,
 9989       and what functionality these events and functions can
 9990       provide.
 9991       &lt;p/&gt;
 9992         The &quot;Capabilities&quot; section of each function and event describe which
 9993         capabilities, if any, they are associated with. &quot;Required Functionality&quot;
 9994         means it is available for use and no capabilities must be added to use it.
 9995         &quot;Optional Functionality&quot; means the agent must possess the capability
 9996         before it can be used.
 9997         To possess a capability, the agent must
 9998         &lt;functionlink id=&quot;AddCapabilities&quot;&gt;add the capability&lt;/functionlink&gt;.
 9999         &quot;Optional Features&quot; describe capabilities which,
10000         if added, extend the feature set.
10001         &lt;p/&gt;
10002         The potentially available capabilities of each &lt;jvmti/&gt; implementation are different.
10003         Depending on the implementation, a capability:
10004         &lt;ul&gt;
10005           &lt;li&gt;may never be added&lt;/li&gt;
10006           &lt;li&gt;may be added in either the &lt;code&gt;OnLoad&lt;/code&gt; or live phase in any environment&lt;/li&gt;
10007           &lt;li&gt;may be added only during the &lt;code&gt;OnLoad&lt;/code&gt; phase&lt;/li&gt;
10008           &lt;li&gt;may be possessed by only one environment at a time&lt;/li&gt;
10009           &lt;li&gt;may be possessed by only one environment at a time,
10010               and only during the &lt;code&gt;OnLoad&lt;/code&gt; phase&lt;/li&gt;
10011           &lt;li&gt;and so on ...&lt;/li&gt;
10012         &lt;/ul&gt;
10013       Frequently, the addition of a capability may incur a cost in execution speed, start up
10014       time, and/or memory footprint.  Note that the overhead of using a capability
10015       is completely different than the overhead of possessing a capability.
10016       Take single stepping as an example. When single stepping is on (that
10017       is, when the event is enabled and thus actively sending events)
10018       the overhead of sending and processing an event
10019       on each instruction is huge in any implementation.
10020       However, the overhead of possessing the capability may be small or large,
10021       depending on the implementation.  Also, when and if a capability is potentially
10022       available depends on the implementation.  Some examples:
10023       &lt;ul&gt;
10024 	&lt;li&gt;One VM might perform all execution by compiling bytecodes into
10025 	  native code and be unable to generate single step instructions.
10026 	  In this implementation the capability can not be added.&lt;/li&gt;
10027 	&lt;li&gt;Another VM may be able to switch execution to a single stepping
10028 	  interpreter at any time.  In this implementation, having the capability has no
10029 	  overhead and could be added at any time.&lt;/li&gt;
10030 	&lt;li&gt;Yet another VM might be able to choose a bytecode compiling or single stepping capable interpreted
10031 	  execution engine at start up, but be unable to switch between them.
10032 	  In this implementation the capability would need to be added
10033           during the &lt;code&gt;OnLoad&lt;/code&gt; phase (before bytecode
10034 	  execution begins) and would have a large impact on execution speed
10035 	  even if single stepping was never used.&lt;/li&gt;
10036 	&lt;li&gt;Still another VM might be able to add an &quot;is single stepping on&quot; check
10037 	  into compiled bytecodes or a generated interpreter.  Again in this implementation
10038 	  the capability would need to be added during the &lt;code&gt;OnLoad&lt;/code&gt; phase but the overhead (a test
10039 	  and branch on each instruction) would be considerably less.&lt;/li&gt;
10040       &lt;/ul&gt;
10041       &lt;p/&gt;
10042       Each &lt;jvmti/&gt; &lt;internallink id=&quot;environments&quot;&gt;environment&lt;/internallink&gt;
10043       has its own set of capabilities.
10044       Initially, that set is empty.
10045       Any desired capability must be added.
10046       If possible, capabilities should be added during the &lt;code&gt;OnLoad&lt;/code&gt; phase.  For most
10047       virtual machines certain capabilities require special set up for
10048       the virtual machine and this set up must happen
10049       during the &lt;code&gt;OnLoad&lt;/code&gt; phase, before the virtual machine begins execution.
10050       Once a capability is added, it can
10051       only be removed if explicitly relinquished by the environment.
10052       &lt;p/&gt;
10053       The agent can,
10054       &lt;functionlink id=&quot;GetPotentialCapabilities&quot;&gt;determine what
10055 	capabilities this VM can potentially provide&lt;/functionlink&gt;,
10056       &lt;functionlink id=&quot;AddCapabilities&quot;&gt;add the capabilities
10057 	to be used&lt;/functionlink&gt;,
10058       &lt;functionlink id=&quot;RelinquishCapabilities&quot;&gt;release capabilities
10059 	which are no longer needed&lt;/functionlink&gt;, and
10060       &lt;functionlink id=&quot;GetCapabilities&quot;&gt;examine the currently available
10061 	capabilities&lt;/functionlink&gt;.
10062     &lt;/intro&gt;
10063 
10064     &lt;intro id=&quot;capabilityExamples&quot; label=&quot;Capability Examples&quot;&gt;
10065       For example, a freshly started agent (in the &lt;code&gt;OnLoad&lt;/code&gt; function)
10066       wants to enable all possible capabilities.
10067       Note that, in general, this is not advisable as the agent may suffer
10068       a performance penalty for functionality it is not using.
10069       The code might look like this in C:
10070       &lt;example&gt;
10071 	jvmtiCapabilities capa;
10072 	jvmtiError err;
10073 
10074 	err = (*jvmti)-&amp;gt;GetPotentialCapabilities(jvmti, &amp;amp;capa);
10075 	if (err == JVMTI_ERROR_NONE) {
10076 	   err = (*jvmti)-&amp;gt;AddCapabilities(jvmti, &amp;amp;capa);
10077       &lt;/example&gt;
10078       For example, if an  agent wants to check if it can get
10079       the bytecodes of a method (that is, it wants to check
10080       if it previously added this capability and has not
10081       relinquished it), the code might
10082       look like this in C:
10083       &lt;example&gt;
10084 	jvmtiCapabilities capa;
10085 	jvmtiError err;
10086 
10087 	err = (*jvmti)-&amp;gt;GetCapabilities(jvmti, &amp;amp;capa);
10088 	if (err == JVMTI_ERROR_NONE) {
10089    	   if (capa.can_get_bytecodes) { ... } }
10090       &lt;/example&gt;
10091     &lt;/intro&gt;
10092 
10093     &lt;capabilitiestypedef id=&quot;jvmtiCapabilities&quot; label=&quot;The Capabilities Structure&quot;&gt;
10094       &lt;description&gt;
10095         The functions in this category use this capabilities structure
10096         which contains boolean flags corresponding to each capability:
10097       &lt;/description&gt;
10098       &lt;capabilityfield id=&quot;can_tag_objects&quot;&gt;
10099 	&lt;description&gt;
10100 	  Can set and get tags, as described in the
10101           &lt;internallink id=&quot;Heap&quot;&gt;Heap category&lt;/internallink&gt;.
10102 	&lt;/description&gt;
10103       &lt;/capabilityfield&gt;
10104       &lt;capabilityfield id=&quot;can_generate_field_modification_events&quot;&gt;
10105 	&lt;description&gt;
10106 	  Can set watchpoints on field modification -
10107           &lt;functionlink id=&quot;SetFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;
10108 	&lt;/description&gt;
10109       &lt;/capabilityfield&gt;
10110       &lt;capabilityfield id=&quot;can_generate_field_access_events&quot;&gt;
10111 	&lt;description&gt;
10112 	  Can set watchpoints on field access -
10113 	  &lt;functionlink id=&quot;SetFieldAccessWatch&quot;&gt;&lt;/functionlink&gt;
10114 	&lt;/description&gt;
10115       &lt;/capabilityfield&gt;
10116       &lt;capabilityfield id=&quot;can_get_bytecodes&quot;&gt;
10117 	&lt;description&gt;
10118 	  Can get bytecodes of a method &lt;functionlink id=&quot;GetBytecodes&quot;&gt;&lt;/functionlink&gt;
10119 	&lt;/description&gt;
10120       &lt;/capabilityfield&gt;
10121       &lt;capabilityfield id=&quot;can_get_synthetic_attribute&quot;&gt;
10122 	&lt;description&gt;
10123 	  Can test if a field or method is synthetic -
10124           &lt;functionlink id=&quot;IsFieldSynthetic&quot;&gt;&lt;/functionlink&gt; and
10125           &lt;functionlink id=&quot;IsMethodSynthetic&quot;&gt;&lt;/functionlink&gt;
10126 	&lt;/description&gt;
10127       &lt;/capabilityfield&gt;
10128       &lt;capabilityfield id=&quot;can_get_owned_monitor_info&quot;&gt;
10129 	&lt;description&gt;
10130 	  Can get information about ownership of monitors -
10131           &lt;functionlink id=&quot;GetOwnedMonitorInfo&quot;&gt;&lt;/functionlink&gt;
10132 	&lt;/description&gt;
10133       &lt;/capabilityfield&gt;
10134       &lt;capabilityfield id=&quot;can_get_current_contended_monitor&quot;&gt;
10135 	&lt;description&gt;
10136 	  Can &lt;functionlink id=&quot;GetCurrentContendedMonitor&quot;&gt;&lt;/functionlink&gt;
10137 	&lt;/description&gt;
10138       &lt;/capabilityfield&gt;
10139       &lt;capabilityfield id=&quot;can_get_monitor_info&quot;&gt;
10140       &lt;description&gt;
10141         Can &lt;functionlink id=&quot;GetObjectMonitorUsage&quot;&gt;&lt;/functionlink&gt;
10142       &lt;/description&gt;
10143       &lt;/capabilityfield&gt;
10144       &lt;capabilityfield id=&quot;can_pop_frame&quot;&gt;
10145 	&lt;description&gt;
10146 	  Can pop frames off the stack - &lt;functionlink id=&quot;PopFrame&quot;&gt;&lt;/functionlink&gt;
10147 	&lt;/description&gt;
10148       &lt;/capabilityfield&gt;
10149       &lt;capabilityfield id=&quot;can_redefine_classes&quot;&gt;
10150 	&lt;description&gt;
10151 	  Can redefine classes with &lt;functionlink id=&quot;RedefineClasses&quot;/&gt;.
10152 	&lt;/description&gt;
10153       &lt;/capabilityfield&gt;
10154       &lt;capabilityfield id=&quot;can_signal_thread&quot;&gt;
10155 	&lt;description&gt;
10156 	  Can send stop or interrupt to threads
10157 	&lt;/description&gt;
10158       &lt;/capabilityfield&gt;
10159       &lt;capabilityfield id=&quot;can_get_source_file_name&quot;&gt;
10160 	&lt;description&gt;
10161 	  Can get the source file name of a class
10162 	&lt;/description&gt;
10163       &lt;/capabilityfield&gt;
10164       &lt;capabilityfield id=&quot;can_get_line_numbers&quot;&gt;
10165 	&lt;description&gt;
10166 	  Can get the line number table of a method
10167 	&lt;/description&gt;
10168       &lt;/capabilityfield&gt;
10169       &lt;capabilityfield id=&quot;can_get_source_debug_extension&quot;&gt;
10170 	&lt;description&gt;
10171 	  Can get the source debug extension of a class
10172 	&lt;/description&gt;
10173       &lt;/capabilityfield&gt;
10174       &lt;capabilityfield id=&quot;can_access_local_variables&quot;&gt;
10175 	&lt;description&gt;
10176 	  Can set and get local variables
10177 	&lt;/description&gt;
10178       &lt;/capabilityfield&gt;
10179       &lt;capabilityfield id=&quot;can_maintain_original_method_order&quot;&gt;
10180 	&lt;description&gt;
10181 	  Can return methods in the order they occur in the class file
10182 	&lt;/description&gt;
10183       &lt;/capabilityfield&gt;
10184       &lt;capabilityfield id=&quot;can_generate_single_step_events&quot;&gt;
10185 	&lt;description&gt;
10186 	  Can get &lt;eventlink id=&quot;SingleStep&quot;&gt;single step&lt;/eventlink&gt; events
10187 	&lt;/description&gt;
10188       &lt;/capabilityfield&gt;
10189       &lt;capabilityfield id=&quot;can_generate_exception_events&quot;&gt;
10190 	&lt;description&gt;
10191 	  Can get &lt;eventlink id=&quot;Exception&quot;&gt;exception thrown&lt;/eventlink&gt; and
10192             &lt;eventlink id=&quot;ExceptionCatch&quot;&gt;exception catch&lt;/eventlink&gt; events
10193 	&lt;/description&gt;
10194       &lt;/capabilityfield&gt;
10195       &lt;capabilityfield id=&quot;can_generate_frame_pop_events&quot;&gt;
10196 	&lt;description&gt;
10197 	  Can &lt;functionlink id=&quot;NotifyFramePop&quot;&gt;set&lt;/functionlink&gt; and thus get
10198             &lt;eventlink id=&quot;FramePop&quot;&gt;&lt;/eventlink&gt; events
10199 	&lt;/description&gt;
10200       &lt;/capabilityfield&gt;
10201       &lt;capabilityfield id=&quot;can_generate_breakpoint_events&quot;&gt;
10202 	&lt;description&gt;
10203 	  Can &lt;functionlink id=&quot;SetBreakpoint&quot;&gt;set&lt;/functionlink&gt; and thus get
10204             &lt;eventlink id=&quot;Breakpoint&quot;&gt;&lt;/eventlink&gt; events
10205 	&lt;/description&gt;
10206       &lt;/capabilityfield&gt;
10207       &lt;capabilityfield id=&quot;can_suspend&quot;&gt;
10208 	&lt;description&gt;
10209 	  Can suspend and resume threads
10210 	&lt;/description&gt;
10211       &lt;/capabilityfield&gt;
10212       &lt;capabilityfield id=&quot;can_redefine_any_class&quot;&gt;
10213 	&lt;description&gt;
10214           Can modify (retransform or redefine) any modifiable class.
10215           See &lt;functionlink id=&quot;IsModifiableClass&quot;/&gt;.
10216 	&lt;/description&gt;
10217       &lt;/capabilityfield&gt;
10218       &lt;capabilityfield id=&quot;can_get_current_thread_cpu_time&quot;&gt;
10219 	&lt;description&gt;
10220 	  Can &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;&gt;get&lt;/functionlink&gt;
10221 	  current thread CPU time
10222 	&lt;/description&gt;
10223       &lt;/capabilityfield&gt;
10224       &lt;capabilityfield id=&quot;can_get_thread_cpu_time&quot;&gt;
10225 	&lt;description&gt;
10226 	  Can &lt;functionlink id=&quot;GetThreadCpuTime&quot;&gt;get&lt;/functionlink&gt;
10227 	  thread CPU time
10228 	&lt;/description&gt;
10229       &lt;/capabilityfield&gt;
10230       &lt;capabilityfield id=&quot;can_generate_method_entry_events&quot;
10231 		       disp1=&quot;can_generate&quot; disp2=&quot;_method_entry_events&quot;
10232 		       &gt;
10233 	&lt;description&gt;
10234 	  Can generate method entry events on entering a method
10235 	&lt;/description&gt;
10236       &lt;/capabilityfield&gt;
10237       &lt;capabilityfield id=&quot;can_generate_method_exit_events&quot;
10238 		       disp1=&quot;can_generate&quot; disp2=&quot;_method_exit_events&quot;
10239 		       &gt;
10240 	&lt;description&gt;
10241 	  Can generate method exit events on leaving a method
10242 	&lt;/description&gt;
10243       &lt;/capabilityfield&gt;
10244       &lt;capabilityfield id=&quot;can_generate_all_class_hook_events&quot;
10245 		       disp1=&quot;can_generate&quot; disp2=&quot;_all_class_hook_events&quot;
10246 		       &gt;
10247 	&lt;description&gt;
10248 	  Can generate ClassFileLoadHook events for every loaded class.
10249 	&lt;/description&gt;
10250       &lt;/capabilityfield&gt;
10251       &lt;capabilityfield id=&quot;can_generate_compiled_method_load_events&quot;
10252 		       disp1=&quot;can_generate&quot; disp2=&quot;_compiled_method_load_events&quot;
10253 		       &gt;
10254 	&lt;description&gt;
10255 	  Can generate events when a method is compiled or unloaded
10256 	&lt;/description&gt;
10257       &lt;/capabilityfield&gt;
10258       &lt;capabilityfield id=&quot;can_generate_monitor_events&quot;
10259 		       disp1=&quot;can_generate&quot; disp2=&quot;_monitor_events&quot;
10260 		       &gt;
10261 	&lt;description&gt;
10262 	  Can generate events on monitor activity
10263 	&lt;/description&gt;
10264       &lt;/capabilityfield&gt;
10265       &lt;capabilityfield id=&quot;can_generate_vm_object_alloc_events&quot;
10266 		       disp1=&quot;can_generate&quot; disp2=&quot;_vm_object_alloc_events&quot;
10267 		       &gt;
10268 	&lt;description&gt;
10269 	  Can generate events on VM allocation of an object
10270 	&lt;/description&gt;
10271       &lt;/capabilityfield&gt;
10272       &lt;capabilityfield id=&quot;can_generate_native_method_bind_events&quot;
10273 		       disp1=&quot;can_generate&quot; disp2=&quot;_native_method_bind_events&quot;
10274 		       &gt;
10275 	&lt;description&gt;
10276 	  Can generate events when a native method is bound to its
10277 	  implementation
10278 	&lt;/description&gt;
10279       &lt;/capabilityfield&gt;
10280       &lt;capabilityfield id=&quot;can_generate_garbage_collection_events&quot;
10281 		       disp1=&quot;can_generate&quot; disp2=&quot;_garbage_collection_events&quot;
10282 		       &gt;
10283 	&lt;description&gt;
10284 	  Can generate events when garbage collection begins or ends
10285 	&lt;/description&gt;
10286       &lt;/capabilityfield&gt;
10287       &lt;capabilityfield id=&quot;can_generate_object_free_events&quot;
10288 		       disp1=&quot;can_generate&quot; disp2=&quot;_object_free_events&quot;
10289 		       &gt;
10290 	&lt;description&gt;
10291 	  Can generate events when the garbage collector frees an object
10292 	&lt;/description&gt;
10293       &lt;/capabilityfield&gt;
10294       &lt;capabilityfield id=&quot;can_force_early_return&quot; since=&quot;1.1&quot;&gt;
10295 	&lt;description&gt;
10296 	  Can return early from a method, as described in the
10297           &lt;internallink id=&quot;ForceEarlyReturn&quot;&gt;Force Early Return category&lt;/internallink&gt;.
10298 	&lt;/description&gt;
10299       &lt;/capabilityfield&gt;
10300       &lt;capabilityfield id=&quot;can_get_owned_monitor_stack_depth_info&quot; since=&quot;1.1&quot;&gt;
10301 	&lt;description&gt;
10302 	  Can get information about owned monitors with stack depth -
10303           &lt;functionlink id=&quot;GetOwnedMonitorStackDepthInfo&quot;&gt;&lt;/functionlink&gt;
10304 	&lt;/description&gt;
10305       &lt;/capabilityfield&gt;
10306       &lt;capabilityfield id=&quot;can_get_constant_pool&quot; since=&quot;1.1&quot;&gt;
10307 	&lt;description&gt;
10308 	  Can get the constant pool of a class -
10309           &lt;functionlink id=&quot;GetConstantPool&quot;&gt;&lt;/functionlink&gt;
10310 	&lt;/description&gt;
10311       &lt;/capabilityfield&gt;
10312       &lt;capabilityfield id=&quot;can_set_native_method_prefix&quot; since=&quot;1.1&quot;&gt;
10313 	&lt;description&gt;
10314 	  Can set prefix to be applied when native method cannot be resolved -
10315           &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt; and
10316           &lt;functionlink id=&quot;SetNativeMethodPrefixes&quot;/&gt;
10317 	&lt;/description&gt;
10318       &lt;/capabilityfield&gt;
10319       &lt;capabilityfield id=&quot;can_retransform_classes&quot; since=&quot;1.1&quot;&gt;
10320 	&lt;description&gt;
10321 	  Can retransform classes with &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;.
10322           In addition to the restrictions imposed by the specific
10323           implementation on this capability (see the
10324           &lt;internallink id=&quot;capability&quot;&gt;Capability&lt;/internallink&gt; section),
10325           this capability must be set before the
10326           &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event is enabled for the
10327           first time in this environment.
10328           An environment that possesses this capability at the time that
10329           &lt;code&gt;ClassFileLoadHook&lt;/code&gt; is enabled for the first time is
10330           said to be &lt;i&gt;retransformation capable&lt;/i&gt;.
10331           An environment that does not possess this capability at the time that
10332           &lt;code&gt;ClassFileLoadHook&lt;/code&gt; is enabled for the first time is
10333           said to be &lt;i&gt;retransformation incapable&lt;/i&gt;.
10334 	&lt;/description&gt;
10335       &lt;/capabilityfield&gt;
10336       &lt;capabilityfield id=&quot;can_retransform_any_class&quot; since=&quot;1.1&quot;&gt;
10337 	&lt;description&gt;
10338           &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; can be called on any modifiable class.
10339           See &lt;functionlink id=&quot;IsModifiableClass&quot;/&gt;.
10340           (&lt;fieldlink id=&quot;can_retransform_classes&quot; struct=&quot;jvmtiCapabilities&quot;/&gt;
10341           must also be set)
10342 	&lt;/description&gt;
10343       &lt;/capabilityfield&gt;
10344       &lt;capabilityfield id=&quot;can_generate_resource_exhaustion_heap_events&quot; since=&quot;1.1&quot;&gt;
10345 	&lt;description&gt;
10346           Can generate events when the VM is unable to allocate memory from
10347           the &lt;tm&gt;Java&lt;/tm&gt; platform heap.
10348           See &lt;eventlink id=&quot;ResourceExhausted&quot;/&gt;.
10349 	&lt;/description&gt;
10350       &lt;/capabilityfield&gt;
10351       &lt;capabilityfield id=&quot;can_generate_resource_exhaustion_threads_events&quot; since=&quot;1.1&quot;&gt;
10352 	&lt;description&gt;
10353           Can generate events when the VM is unable to create a thread.
10354           See &lt;eventlink id=&quot;ResourceExhausted&quot;/&gt;.
10355 	&lt;/description&gt;
10356       &lt;/capabilityfield&gt;
10357       &lt;capabilityfield id=&quot;can_generate_early_vmstart&quot; since=&quot;9&quot;&gt;
10358         &lt;description&gt;
10359           Can generate the &lt;code&gt;VMStart&lt;/code&gt; event early.
10360           See &lt;eventlink id=&quot;VMStart&quot;/&gt;.
10361         &lt;/description&gt;
10362       &lt;/capabilityfield&gt;
10363       &lt;capabilityfield id=&quot;can_generate_early_class_hook_events&quot; since=&quot;9&quot;&gt;
10364         &lt;description&gt;
10365           Can generate the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events
10366           in the primordial phase. If this capability and
10367           &lt;internallink id=&quot;jvmtiCapabilities.can_generate_all_class_hook_events&quot;&gt;
10368           &lt;code&gt;can_generate_all_class_hook_events&lt;/code&gt;&lt;/internallink&gt;
10369           are enabled then the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events
10370           can be posted for classes loaded in the primordial phase.
10371           See &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt;.
10372         &lt;/description&gt;
10373       &lt;/capabilityfield&gt;
10374       &lt;capabilityfield id=&quot;can_generate_sampled_object_alloc_events&quot; since=&quot;11&quot;&gt;
10375         &lt;description&gt;
10376           Can generate sampled allocation events.
10377           If this capability is enabled then the heap sampling method
10378 	  &lt;functionlink id=&quot;SetHeapSamplingInterval&quot;&gt;&lt;/functionlink&gt; can be
10379 	  called and &lt;eventlink id=&quot;SampledObjectAlloc&quot;&gt;&lt;/eventlink&gt; events can be generated.
10380         &lt;/description&gt;
10381       &lt;/capabilityfield&gt;
10382     &lt;/capabilitiestypedef&gt;
10383 
10384     &lt;function id=&quot;GetPotentialCapabilities&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;140&quot;&gt;
10385       &lt;synopsis&gt;Get Potential Capabilities&lt;/synopsis&gt;
10386       &lt;description&gt;
10387         Returns via &lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt; the &lt;jvmti/&gt;
10388         features that can potentially be possessed by this environment
10389 	at this time.
10390 	The returned capabilities differ from the complete set of capabilities
10391 	implemented by the VM in two cases: another environment possesses
10392 	capabilities that can only be possessed by one environment, or the
10393 	current &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt; is live,
10394 	and certain capabilities can only be added during the &lt;code&gt;OnLoad&lt;/code&gt; phase.
10395         The &lt;functionlink id=&quot;AddCapabilities&quot;&gt;&lt;/functionlink&gt; function
10396         may be used to set any or all or these capabilities.
10397         Currently possessed capabilities are included.
10398         &lt;p/&gt;
10399         Typically this function is used in the &lt;code&gt;OnLoad&lt;/code&gt; function.
10400         Some virtual machines may allow a limited set of capabilities to be
10401         added in the live phase.
10402         In this case, the set of potentially available capabilities
10403         will likely differ from the &lt;code&gt;OnLoad&lt;/code&gt; phase set.
10404         &lt;p/&gt;
10405         See the
10406         &lt;internallink id=&quot;capabilityExamples&quot;&gt;Capability Examples&lt;/internallink&gt;.
10407       &lt;/description&gt;
10408       &lt;origin&gt;new&lt;/origin&gt;
10409       &lt;capabilities&gt;
10410       &lt;/capabilities&gt;
10411       &lt;parameters&gt;
10412         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10413 	  &lt;outptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/outptr&gt;
10414 	  &lt;description&gt;
10415 	    On return, points to the &lt;jvmti/&gt; capabilities that may be added.
10416 	  &lt;/description&gt;
10417 	&lt;/param&gt;
10418       &lt;/parameters&gt;
10419       &lt;errors&gt;
10420       &lt;/errors&gt;
10421     &lt;/function&gt;
10422 
10423     &lt;elide&gt;
10424     &lt;function id=&quot;EstimateCostOfCapabilities&quot; phase=&quot;onload&quot; num=&quot;141&quot;&gt;
10425       &lt;synopsis&gt;Estimate Cost Of Capabilities&lt;/synopsis&gt;
10426       &lt;description&gt;
10427 	&lt;issue&gt;There is strong opposition to this function.  The concern is
10428 	  that it would be difficult or impossible to provide meaningful
10429 	  numbers, as the amount of impact is conditional on many factors
10430 	  that a single number could not represent.  There is doubt that
10431 	  conditional implementations would be used or are even a good idea.
10432 	  The thought is that release documentation for the implementation
10433 	  would be the best means of exposing this information.
10434 	  Unless new arguments are presented, I intend to remove this
10435 	  function in the next revision.
10436 	&lt;/issue&gt;
10437         &lt;p/&gt;
10438         Return via the &lt;paramlink id=&quot;time_impact_ptr&quot;&gt;&lt;/paramlink&gt; and
10439         &lt;paramlink id=&quot;space_impact_ptr&quot;&gt;&lt;/paramlink&gt; an estimate of the impact
10440         of adding the capabilities pointed to by
10441         &lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt;.
10442         The returned estimates are in percentage of additional overhead, thus
10443         a time impact of 100 mean the application might run
10444         at half the speed.
10445         The estimates are very rough approximations and are not guaranteed.
10446         Note also, that the estimates are of the impact of having the
10447         capability available--when and if it is used the impact may be
10448         much greater.
10449         Estimates can be for a single capability or for a set of
10450         capabilities.  Note that the costs are not necessarily additive,
10451         adding support for one capability might make another available
10452         for free or conversely having two capabilities at once may
10453         have multiplicative impact.
10454         Estimates are relative to the current set of capabilities -
10455         that is, how much more impact given the currently possessed capabilities.
10456         &lt;p/&gt;
10457         Typically this function is used in the OnLoad function,
10458         some virtual machines may allow a limited set of capabilities to be
10459         added in the live phase.
10460         In this case, the set of potentially available capabilities
10461         will likely differ from the OnLoad phase set.
10462         &lt;p/&gt;
10463         See the
10464         &lt;internallink id=&quot;capabilityExamples&quot;&gt;Capability Examples&lt;/internallink&gt;.
10465       &lt;/description&gt;
10466       &lt;origin&gt;new&lt;/origin&gt;
10467       &lt;capabilities&gt;
10468       &lt;/capabilities&gt;
10469       &lt;parameters&gt;
10470         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10471 	  &lt;inptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/inptr&gt;
10472 	  &lt;description&gt;
10473 	    points to the &lt;jvmti/&gt; capabilities to evaluate.
10474 	  &lt;/description&gt;
10475 	&lt;/param&gt;
10476         &lt;param id=&quot;time_impact_ptr&quot;&gt;
10477 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
10478 	  &lt;description&gt;
10479 	    On return, points to the estimated percentage increase in
10480 	    run time if this capability was added.
10481 	  &lt;/description&gt;
10482 	&lt;/param&gt;
10483         &lt;param id=&quot;space_impact_ptr&quot;&gt;
10484 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
10485 	  &lt;description&gt;
10486 	    On return, points to the estimated percentage increase in
10487 	    memory space used if this capability was added.
10488 	  &lt;/description&gt;
10489 	&lt;/param&gt;
10490       &lt;/parameters&gt;
10491       &lt;errors&gt;
10492         &lt;error id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;&gt;
10493           The desired capabilities are not even potentially available.
10494         &lt;/error&gt;
10495       &lt;/errors&gt;
10496     &lt;/function&gt;
10497     &lt;/elide&gt;
10498 
10499     &lt;function id=&quot;AddCapabilities&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;142&quot;&gt;
10500       &lt;synopsis&gt;Add Capabilities&lt;/synopsis&gt;
10501       &lt;description&gt;
10502         Set new capabilities by adding the capabilities
10503         whose values are set to one (&lt;code&gt;1&lt;/code&gt;) in
10504         &lt;code&gt;*&lt;/code&gt;&lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt;.
10505         All previous capabilities are retained.
10506         Typically this function is used in the &lt;code&gt;OnLoad&lt;/code&gt; function.
10507         Some virtual machines may allow a limited set of capabilities to be
10508         added in the live phase.
10509         &lt;p/&gt;
10510         See the
10511         &lt;internallink id=&quot;capabilityExamples&quot;&gt;Capability Examples&lt;/internallink&gt;.
10512       &lt;/description&gt;
10513       &lt;origin&gt;new&lt;/origin&gt;
10514       &lt;capabilities&gt;
10515       &lt;/capabilities&gt;
10516       &lt;parameters&gt;
10517         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10518 	  &lt;inptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/inptr&gt;
10519 	  &lt;description&gt;
10520 	    Points to the &lt;jvmti/&gt; capabilities to add.
10521 	  &lt;/description&gt;
10522 	&lt;/param&gt;
10523       &lt;/parameters&gt;
10524       &lt;errors&gt;
10525         &lt;error id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;&gt;
10526           The desired capabilities are not even potentially available.
10527         &lt;/error&gt;
10528       &lt;/errors&gt;
10529     &lt;/function&gt;
10530 
10531 
10532     &lt;function id=&quot;RelinquishCapabilities&quot; phase=&quot;onload&quot; num=&quot;143&quot;&gt;
10533       &lt;synopsis&gt;Relinquish Capabilities&lt;/synopsis&gt;
10534       &lt;description&gt;
10535         Relinquish the capabilities
10536         whose values are set to one (&lt;code&gt;1&lt;/code&gt;) in
10537         &lt;code&gt;*&lt;/code&gt;&lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt;.
10538 	Some implementations may allow only one environment to have a capability
10539 	(see the &lt;internallink id=&quot;capability&quot;&gt;capability introduction&lt;/internallink&gt;).
10540 	This function releases capabilities
10541 	so that they may be used by other agents.
10542         All other capabilities are retained.
10543         The capability will no longer be present in &lt;functionlink id=&quot;GetCapabilities&quot;&gt;&lt;/functionlink&gt;.
10544 	Attempting to relinquish a capability that the agent does not possess is not an error.
10545           &lt;issue&gt;
10546             It is possible for the agent to be actively using capabilities
10547             which are being relinquished.  For example, a thread is currently
10548             suspended and can_suspend is being relinquished or an event is currently
10549             enabled and can_generate_whatever is being relinquished.
10550             There are three possible ways we could spec this:
10551             &lt;ul&gt;
10552               &lt;li&gt;relinquish automatically releases them&lt;/li&gt;
10553               &lt;li&gt;relinquish checks and returns some error code if held&lt;/li&gt;
10554               &lt;li&gt;it is the agent&#39;s responsibility and it is not checked&lt;/li&gt;
10555             &lt;/ul&gt;
10556             One of these should be chosen.
10557           &lt;/issue&gt;
10558       &lt;/description&gt;
10559       &lt;origin&gt;new&lt;/origin&gt;
10560       &lt;capabilities&gt;
10561       &lt;/capabilities&gt;
10562       &lt;parameters&gt;
10563         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10564 	  &lt;inptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/inptr&gt;
10565 	  &lt;description&gt;
10566 	    Points to the &lt;jvmti/&gt; capabilities to relinquish.
10567 	  &lt;/description&gt;
10568 	&lt;/param&gt;
10569       &lt;/parameters&gt;
10570       &lt;errors&gt;
10571       &lt;/errors&gt;
10572     &lt;/function&gt;
10573 
10574 
10575 
10576     &lt;function id=&quot;GetCapabilities&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;89&quot;&gt;
10577       &lt;synopsis&gt;Get Capabilities&lt;/synopsis&gt;
10578         &lt;description&gt;
10579           Returns via &lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt; the optional &lt;jvmti/&gt;
10580           features which this environment currently possesses.
10581           Each possessed capability is indicated by a one (&lt;code&gt;1&lt;/code&gt;) in the
10582           corresponding field of the &lt;internallink id=&quot;jvmtiCapabilities&quot;&gt;capabilities
10583           structure&lt;/internallink&gt;.
10584           An environment does not possess a capability unless it has been successfully added with
10585           &lt;functionlink id=&quot;AddCapabilities&quot;/&gt;.
10586           An environment only loses possession of a capability if it has been relinquished with
10587           &lt;functionlink id=&quot;RelinquishCapabilities&quot;/&gt;. Thus, this function returns the net result
10588           of the &lt;code&gt;AddCapabilities&lt;/code&gt; and &lt;code&gt;RelinquishCapabilities&lt;/code&gt; calls which
10589           have been made.
10590           &lt;p/&gt;
10591           See the
10592           &lt;internallink id=&quot;capabilityExamples&quot;&gt;Capability Examples&lt;/internallink&gt;.
10593         &lt;/description&gt;
10594       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
10595       &lt;capabilities&gt;
10596       &lt;/capabilities&gt;
10597       &lt;parameters&gt;
10598         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10599 	  &lt;outptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/outptr&gt;
10600 	  &lt;description&gt;
10601 	    On return, points to the &lt;jvmti/&gt; capabilities.
10602 	  &lt;/description&gt;
10603 	&lt;/param&gt;
10604       &lt;/parameters&gt;
10605       &lt;errors&gt;
10606       &lt;/errors&gt;
10607     &lt;/function&gt;
10608 
10609   &lt;/category&gt;
10610 
10611 
10612   &lt;category id=&quot;timers&quot; label=&quot;Timers&quot;&gt;
10613 
10614       &lt;intro&gt;
10615 	These functions provide timing information.
10616 	The resolution at which the time is updated is not specified.
10617 	They provides nanosecond precision, but not necessarily nanosecond accuracy.
10618 	Details about the timers, such as their maximum values, can be accessed with
10619 	the timer information functions.
10620       &lt;/intro&gt;
10621 
10622       &lt;typedef id=&quot;jvmtiTimerInfo&quot; label=&quot;Timer Info&quot;&gt;
10623         &lt;description&gt;
10624           The information function for each timer returns this data structure.
10625         &lt;/description&gt;
10626 	&lt;field id=&quot;max_value&quot;&gt;
10627 	  &lt;jlong/&gt;
10628 	    &lt;description&gt;
10629 	      The maximum value the timer can reach.
10630 	      After this value is reached the timer wraps back to zero.
10631               This is an unsigned value.  If tested or printed as a jlong (signed value)
10632               it may appear to be a negative number.
10633 	    &lt;/description&gt;
10634 	&lt;/field&gt;
10635 	&lt;field id=&quot;may_skip_forward&quot;&gt;
10636 	  &lt;jboolean/&gt;
10637 	  &lt;description&gt;
10638 	    If true, the timer can be externally adjusted and as a result skip forward.
10639 	    If false, the timer value will never increase faster than real time.
10640 	  &lt;/description&gt;
10641 	&lt;/field&gt;
10642 	&lt;field id=&quot;may_skip_backward&quot;&gt;
10643 	  &lt;jboolean/&gt;
10644 	  &lt;description&gt;
10645 	    If true, the timer can be externally adjusted and as a result skip backward.
10646 	    If false, the timer value will be monotonically increasing.
10647 	  &lt;/description&gt;
10648 	&lt;/field&gt;
10649 	&lt;field id=&quot;kind&quot;&gt;
10650 	  &lt;enum&gt;jvmtiTimerKind&lt;/enum&gt;
10651 	  &lt;description&gt;
10652 	    The kind of timer.
10653             On a platform that does not distinguish between user and system time, &lt;datalink
10654                  id=&quot;JVMTI_TIMER_TOTAL_CPU&quot;&gt;&lt;code&gt;JVMTI_TIMER_TOTAL_CPU&lt;/code&gt;&lt;/datalink&gt;
10655             is returned.
10656 	  &lt;/description&gt;
10657 	&lt;/field&gt;
10658 	&lt;field id=&quot;reserved1&quot;&gt;
10659 	  &lt;jlong/&gt;
10660 	    &lt;description&gt;
10661 	      Reserved for future use.
10662 	    &lt;/description&gt;
10663 	&lt;/field&gt;
10664 	&lt;field id=&quot;reserved2&quot;&gt;
10665 	  &lt;jlong/&gt;
10666 	    &lt;description&gt;
10667 	      Reserved for future use.
10668 	    &lt;/description&gt;
10669 	&lt;/field&gt;
10670       &lt;/typedef&gt;
10671 
10672       &lt;intro&gt;
10673 	Where the timer kind is --
10674 
10675         &lt;constants id=&quot;jvmtiTimerKind&quot; label=&quot;Timer Kinds&quot; kind=&quot;enum&quot;&gt;
10676           &lt;constant id=&quot;JVMTI_TIMER_USER_CPU&quot; num=&quot;30&quot;&gt;
10677             CPU time that a thread is in user mode.
10678           &lt;/constant&gt;
10679           &lt;constant id=&quot;JVMTI_TIMER_TOTAL_CPU&quot; num=&quot;31&quot;&gt;
10680             CPU time that a thread is in user or system mode.
10681           &lt;/constant&gt;
10682           &lt;constant id=&quot;JVMTI_TIMER_ELAPSED&quot; num=&quot;32&quot;&gt;
10683             Elapsed time.
10684           &lt;/constant&gt;
10685         &lt;/constants&gt;
10686       &lt;/intro&gt;
10687 
10688     &lt;function id=&quot;GetCurrentThreadCpuTimerInfo&quot; callbacksafe=&quot;safe&quot;  impl=&quot;innative notrace&quot; phase=&quot;start&quot; num=&quot;134&quot;&gt;
10689       &lt;synopsis&gt;Get Current Thread CPU Timer Information&lt;/synopsis&gt;
10690       &lt;description&gt;
10691 	Get information about the
10692         &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt; timer.
10693 	The fields of the &lt;datalink id=&quot;jvmtiTimerInfo&quot;/&gt; structure
10694 	are filled in with details about the timer.
10695         This information is specific to the platform and the implementation of
10696         &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt; and thus
10697         does not vary by thread nor does it vary
10698         during a particular invocation of the VM.
10699         &lt;p/&gt;
10700         Note that the implementations of &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt;
10701         and &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt; may differ, and thus the values
10702         returned by &lt;code&gt;GetCurrentThreadCpuTimerInfo&lt;/code&gt;
10703         and &lt;functionlink id=&quot;GetThreadCpuTimerInfo&quot;/&gt;
10704         may differ -- see &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt; for more information.
10705       &lt;/description&gt;
10706       &lt;origin&gt;new&lt;/origin&gt;
10707       &lt;capabilities&gt;
10708 	&lt;required id=&quot;can_get_current_thread_cpu_time&quot;&gt;
10709 	    Can get current thread CPU time.
10710 	&lt;/required&gt;
10711       &lt;/capabilities&gt;
10712       &lt;parameters&gt;
10713 	&lt;param id=&quot;info_ptr&quot;&gt;
10714 	  &lt;outptr&gt;&lt;struct&gt;jvmtiTimerInfo&lt;/struct&gt;&lt;/outptr&gt;
10715 	  &lt;description&gt;
10716 	    On return, filled with information describing the time
10717 	    returned by &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt;.
10718 	  &lt;/description&gt;
10719 	&lt;/param&gt;
10720       &lt;/parameters&gt;
10721       &lt;errors&gt;
10722       &lt;/errors&gt;
10723     &lt;/function&gt;
10724 
10725     &lt;function id=&quot;GetCurrentThreadCpuTime&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; phase=&quot;start&quot; num=&quot;135&quot;&gt;
10726       &lt;synopsis&gt;Get Current Thread CPU Time&lt;/synopsis&gt;
10727       &lt;description&gt;
10728             Return the CPU time utilized by the current thread.
10729             &lt;p/&gt;
10730             Note that the &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt;
10731             function provides CPU time for any thread, including
10732             the current thread. &lt;code&gt;GetCurrentThreadCpuTime&lt;/code&gt;
10733             exists to support platforms which cannot
10734             supply CPU time for threads other than the current
10735             thread or which have more accurate information for
10736             the current thread (see
10737             &lt;functionlink id=&quot;GetCurrentThreadCpuTimerInfo&quot;/&gt; vs
10738             &lt;functionlink id=&quot;GetThreadCpuTimerInfo&quot;/&gt;).
10739             On many platforms this call will be equivalent to:
10740 &lt;example&gt;
10741   GetThreadCpuTime(env, NULL, nanos_ptr)
10742 &lt;/example&gt;
10743       &lt;/description&gt;
10744       &lt;origin&gt;new&lt;/origin&gt;
10745       &lt;capabilities&gt;
10746 	&lt;required id=&quot;can_get_current_thread_cpu_time&quot;&gt;
10747 	    Can get current thread CPU time.
10748             &lt;p/&gt;
10749 	    If this capability is enabled after threads have started,
10750 	    the implementation may choose any time up
10751 	    to and including the time that the capability is enabled
10752 	    as the point where CPU time collection starts.
10753             &lt;p/&gt;
10754             This capability must be potentially available on any
10755             platform where
10756             &lt;internallink id=&quot;jvmtiCapabilities.can_get_thread_cpu_time&quot;&gt;&lt;code&gt;can_get_thread_cpu_time&lt;/code&gt;&lt;/internallink&gt;
10757             is potentially available.
10758 	&lt;/required&gt;
10759       &lt;/capabilities&gt;
10760       &lt;parameters&gt;
10761         &lt;param id=&quot;nanos_ptr&quot;&gt;
10762 	  &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
10763 	  &lt;description&gt;
10764 	    On return, points to the CPU time used by this thread
10765 	    in nanoseconds.
10766             This is an unsigned value.  If tested or printed as a jlong (signed value)
10767             it may appear to be a negative number.
10768 	  &lt;/description&gt;
10769 	&lt;/param&gt;
10770       &lt;/parameters&gt;
10771       &lt;errors&gt;
10772       &lt;/errors&gt;
10773     &lt;/function&gt;
10774 
10775     &lt;function id=&quot;GetThreadCpuTimerInfo&quot; num=&quot;136&quot;&gt;
10776       &lt;synopsis&gt;Get Thread CPU Timer Information&lt;/synopsis&gt;
10777       &lt;description&gt;
10778 	Get information about the
10779         &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt; timer.
10780 	The fields of the &lt;datalink id=&quot;jvmtiTimerInfo&quot;/&gt; structure
10781 	are filled in with details about the timer.
10782         This information is specific to the platform and the implementation of
10783         &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt; and thus
10784         does not vary by thread nor does it vary
10785         during a particular invocation of the VM.
10786         &lt;p/&gt;
10787         Note that the implementations of &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt;
10788         and &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt; may differ, and thus the values
10789         returned by &lt;functionlink id=&quot;GetCurrentThreadCpuTimerInfo&quot;/&gt;
10790         and &lt;code&gt;GetThreadCpuTimerInfo&lt;/code&gt;
10791         may differ -- see &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt; for more information.
10792       &lt;/description&gt;
10793       &lt;origin&gt;new&lt;/origin&gt;
10794       &lt;capabilities&gt;
10795 	&lt;required id=&quot;can_get_thread_cpu_time&quot;&gt;
10796 	    Can get thread CPU time.
10797 	&lt;/required&gt;
10798       &lt;/capabilities&gt;
10799       &lt;parameters&gt;
10800 	&lt;param id=&quot;info_ptr&quot;&gt;
10801 	  &lt;outptr&gt;&lt;struct&gt;jvmtiTimerInfo&lt;/struct&gt;&lt;/outptr&gt;
10802 	  &lt;description&gt;
10803 	    On return, filled with information describing the time
10804 	    returned by &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt;.
10805 	  &lt;/description&gt;
10806 	&lt;/param&gt;
10807       &lt;/parameters&gt;
10808       &lt;errors&gt;
10809       &lt;/errors&gt;
10810     &lt;/function&gt;
10811 
10812     &lt;function id=&quot;GetThreadCpuTime&quot; num=&quot;137&quot;&gt;
10813       &lt;synopsis&gt;Get Thread CPU Time&lt;/synopsis&gt;
10814       &lt;description&gt;
10815           Return the CPU time utilized by the specified thread.
10816           &lt;p/&gt;
10817 	  Get information about this timer with
10818           &lt;functionlink id=&quot;GetThreadCpuTimerInfo&quot;/&gt;.
10819       &lt;/description&gt;
10820       &lt;origin&gt;new&lt;/origin&gt;
10821       &lt;capabilities&gt;
10822 	&lt;required id=&quot;can_get_thread_cpu_time&quot;&gt;
10823 	    Can get thread CPU time.
10824             &lt;p/&gt;
10825 	    If this capability is enabled after threads have started,
10826 	    the implementation may choose any time up
10827 	    to and including the time that the capability is enabled
10828 	    as the point where CPU time collection starts.
10829 	&lt;/required&gt;
10830       &lt;/capabilities&gt;
10831       &lt;parameters&gt;
10832 	&lt;param id=&quot;thread&quot;&gt;
10833 	  &lt;jthread null=&quot;current&quot;/&gt;
10834 	    &lt;description&gt;
10835 	      The thread to query.
10836 	    &lt;/description&gt;
10837 	&lt;/param&gt;
10838         &lt;param id=&quot;nanos_ptr&quot;&gt;
10839 	  &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
10840 	  &lt;description&gt;
10841 	    On return, points to the CPU time used by the specified thread
10842 	    in nanoseconds.
10843             This is an unsigned value.  If tested or printed as a jlong (signed value)
10844             it may appear to be a negative number.
10845 	  &lt;/description&gt;
10846 	&lt;/param&gt;
10847       &lt;/parameters&gt;
10848       &lt;errors&gt;
10849       &lt;/errors&gt;
10850     &lt;/function&gt;
10851 
10852     &lt;function id=&quot;GetTimerInfo&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; num=&quot;138&quot;&gt;
10853       &lt;synopsis&gt;Get Timer Information&lt;/synopsis&gt;
10854       &lt;description&gt;
10855 	Get information about the
10856         &lt;functionlink id=&quot;GetTime&quot;/&gt; timer.
10857 	The fields of the &lt;datalink id=&quot;jvmtiTimerInfo&quot;/&gt; structure
10858 	are filled in with details about the timer.
10859         This information will not change during a particular invocation of the VM.
10860       &lt;/description&gt;
10861       &lt;origin&gt;new&lt;/origin&gt;
10862       &lt;capabilities&gt;
10863       &lt;/capabilities&gt;
10864       &lt;parameters&gt;
10865 	&lt;param id=&quot;info_ptr&quot;&gt;
10866 	  &lt;outptr&gt;&lt;struct&gt;jvmtiTimerInfo&lt;/struct&gt;&lt;/outptr&gt;
10867 	  &lt;description&gt;
10868 	    On return, filled with information describing the time
10869 	    returned by &lt;functionlink id=&quot;GetTime&quot;/&gt;.
10870 	  &lt;/description&gt;
10871 	&lt;/param&gt;
10872       &lt;/parameters&gt;
10873       &lt;errors&gt;
10874       &lt;/errors&gt;
10875     &lt;/function&gt;
10876 
10877     &lt;function id=&quot;GetTime&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; num=&quot;139&quot;&gt;
10878       &lt;synopsis&gt;Get Time&lt;/synopsis&gt;
10879       &lt;description&gt;
10880           Return the current value of the system timer, in nanoseconds.
10881           &lt;p/&gt;
10882           The value returned represents nanoseconds since some fixed but
10883           arbitrary time (perhaps in the future, so values may be
10884           negative).  This function provides nanosecond precision, but not
10885           necessarily nanosecond accuracy. No guarantees are made about
10886           how frequently values change.
10887           &lt;p/&gt;
10888 	  Get information about this timer with
10889           &lt;functionlink id=&quot;GetTimerInfo&quot;/&gt;.
10890       &lt;/description&gt;
10891       &lt;origin&gt;new&lt;/origin&gt;
10892       &lt;capabilities&gt;
10893       &lt;/capabilities&gt;
10894       &lt;parameters&gt;
10895         &lt;param id=&quot;nanos_ptr&quot;&gt;
10896 	  &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
10897 	  &lt;description&gt;
10898 	    On return, points to the time in nanoseconds.
10899             This is an unsigned value.  If tested or printed as a jlong (signed value)
10900             it may appear to be a negative number.
10901 	  &lt;/description&gt;
10902 	&lt;/param&gt;
10903       &lt;/parameters&gt;
10904       &lt;errors&gt;
10905       &lt;/errors&gt;
10906     &lt;/function&gt;
10907 
10908     &lt;function id=&quot;GetAvailableProcessors&quot; phase=&quot;any&quot; num=&quot;144&quot;&gt;
10909       &lt;synopsis&gt;Get Available Processors&lt;/synopsis&gt;
10910       &lt;description&gt;
10911           Returns the number of processors available to the Java virtual machine.
10912           &lt;p/&gt;
10913           This value may change during a particular invocation of the virtual machine.
10914           Applications that are sensitive to the number of available processors should
10915           therefore occasionally poll this property.
10916       &lt;/description&gt;
10917       &lt;origin&gt;new&lt;/origin&gt;
10918       &lt;capabilities&gt;
10919       &lt;/capabilities&gt;
10920       &lt;parameters&gt;
10921         &lt;param id=&quot;processor_count_ptr&quot;&gt;
10922 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
10923 	  &lt;description&gt;
10924 	    On return, points to the maximum number of processors available to the
10925             virtual machine; never smaller than one.
10926 	  &lt;/description&gt;
10927 	&lt;/param&gt;
10928       &lt;/parameters&gt;
10929       &lt;errors&gt;
10930       &lt;/errors&gt;
10931     &lt;/function&gt;
10932 
10933   &lt;/category&gt;
10934 
10935 
10936   &lt;category id=&quot;classLoaderSearch&quot; label=&quot;Class Loader Search&quot;&gt;
10937 
10938     &lt;intro&gt;
10939       These functions allow the agent to add to the locations that a class loader searches for a class.
10940       This is useful for installing instrumentation under the correct class loader.
10941     &lt;/intro&gt;
10942 
10943     &lt;function id=&quot;AddToBootstrapClassLoaderSearch&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;149&quot;&gt;
10944       &lt;synopsis&gt;Add To Bootstrap Class Loader Search&lt;/synopsis&gt;
10945       &lt;description&gt;
10946           This function can be used to cause instrumentation classes to be defined by the
10947           bootstrap class loader. See &lt;vmspec chapter=&quot;5.3.1&quot;/&gt;.
10948           After the bootstrap
10949 	  class loader unsuccessfully searches for a class, the specified platform-dependent
10950 	  search path &lt;paramlink id=&quot;segment&quot;/&gt; will be searched as well. Only one segment may be specified in
10951 	  the &lt;paramlink id=&quot;segment&quot;/&gt;. This function may be called multiple times to add multiple segments,
10952 	  the segments will be searched in the order that this function was called.
10953 	  &lt;p/&gt;
10954 	  In the &lt;code&gt;OnLoad&lt;/code&gt; phase the function may be used to specify any platform-dependent
10955 	  search path segment to be searched after the bootstrap class loader unsuccessfully searches
10956 	  for a class. The segment is typically a directory or JAR file.
10957 	  &lt;p/&gt;
10958 	  In the live phase the &lt;paramlink id=&quot;segment&quot;/&gt; may be used to specify any platform-dependent
10959 	  path to a &lt;externallink id=&quot;jar/jar.html&quot;&gt;
10960 	  JAR file&lt;/externallink&gt;. The agent should take care that the JAR file does not
10961           contain any classes or resources other than those to be defined by the bootstrap
10962           class loader for the purposes of instrumentation.
10963           &lt;p/&gt;
10964           &lt;vmspec/&gt; specifies that a subsequent attempt to resolve a symbolic
10965           reference that the Java virtual machine has previously unsuccessfully attempted
10966           to resolve always fails with the same error that was thrown as a result of the
10967           initial resolution attempt. Consequently, if the JAR file contains an entry
10968           that corresponds to a class for which the Java virtual machine has
10969           unsuccessfully attempted to resolve a reference, then subsequent attempts to
10970           resolve that reference will fail with the same error as the initial attempt.
10971       &lt;/description&gt;
10972       &lt;origin&gt;new&lt;/origin&gt;
10973       &lt;capabilities&gt;
10974       &lt;/capabilities&gt;
10975       &lt;parameters&gt;
10976         &lt;param id=&quot;segment&quot;&gt;
10977 	  &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
10978 	  &lt;description&gt;
10979 	    The platform-dependent search path segment, encoded as a
10980 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
10981 	  &lt;/description&gt;
10982 	&lt;/param&gt;
10983       &lt;/parameters&gt;
10984       &lt;errors&gt;
10985         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
10986           &lt;paramlink id=&quot;segment&quot;/&gt; is an invalid path. In the live phase, anything other than an
10987            existing JAR file is an invalid path.
10988         &lt;/error&gt;
10989       &lt;/errors&gt;
10990     &lt;/function&gt;
10991 
10992     &lt;function id=&quot;AddToSystemClassLoaderSearch&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;151&quot; since=&quot;1.1&quot;&gt;
10993       &lt;synopsis&gt;Add To System Class Loader Search&lt;/synopsis&gt;
10994       &lt;description&gt;
10995 	  This function can be used to cause instrumentation classes to be
10996 	  defined by the system class loader. See &lt;vmspec chapter=&quot;5.3.2&quot;/&gt;.
10997 	  After the class loader unsuccessfully searches for a class, the specified platform-dependent search
10998 	  path &lt;paramlink id=&quot;segment&quot;/&gt; will be searched as well. Only one segment may be specified in the
10999 	  &lt;paramlink id=&quot;segment&quot;/&gt;. This function may be called multiple times to add multiple segments, the
11000 	  segments will be searched in the order that this function was called.
11001 	  &lt;p/&gt;
11002 	  In the &lt;code&gt;OnLoad&lt;/code&gt; phase the function may be used to specify any platform-dependent
11003 	  search path segment to be searched after the system class loader unsuccessfully searches
11004 	  for a class. The segment is typically a directory or JAR file.
11005 	  &lt;p/&gt;
11006 	  In the live phase the &lt;paramlink id=&quot;segment&quot;/&gt; is a platform-dependent path to a
11007 	  &lt;externallink id=&quot;jar/jar.html&quot;&gt;JAR file&lt;/externallink&gt; to be
11008 	  searched after the system class loader unsuccessfully searches for a class. The agent should
11009           take care that the JAR file does not contain any classes or resources other than those to be
11010           defined by the system class loader for the purposes of instrumentation.
11011           &lt;p/&gt;
11012 	  In the live phase the system class loader supports adding a JAR file to be searched if
11013           the system class loader implements a method name &lt;code&gt;appendToClassPathForInstrumentation&lt;/code&gt;
11014 	  which takes a single parameter of type &lt;code&gt;java.lang.String&lt;/code&gt;. The method is not required
11015 	  to have &lt;code&gt;public&lt;/code&gt; access.
11016 	  &lt;p/&gt;
11017           &lt;vmspec/&gt; specifies that a subsequent attempt to resolve a symbolic
11018           reference that the Java virtual machine has previously unsuccessfully attempted
11019           to resolve always fails with the same error that was thrown as a result of the
11020           initial resolution attempt. Consequently, if the JAR file contains an entry
11021           that corresponds to a class for which the Java virtual machine has
11022           unsuccessfully attempted to resolve a reference, then subsequent attempts to
11023           resolve that reference will fail with the same error as the initial attempt.
11024       &lt;/description&gt;
11025       &lt;origin&gt;new&lt;/origin&gt;
11026       &lt;capabilities&gt;
11027       &lt;/capabilities&gt;
11028       &lt;parameters&gt;
11029         &lt;param id=&quot;segment&quot;&gt;
11030           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
11031           &lt;description&gt;
11032             The platform-dependent search path segment, encoded as a
11033             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11034           &lt;/description&gt;
11035         &lt;/param&gt;
11036       &lt;/parameters&gt;
11037       &lt;errors&gt;
11038 	&lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
11039           &lt;paramlink id=&quot;segment&quot;/&gt; is an invalid path. In the live phase, anything other than an
11040            existing JAR file is an invalid path.
11041         &lt;/error&gt;
11042 	&lt;error id=&quot;JVMTI_ERROR_CLASS_LOADER_UNSUPPORTED&quot;&gt;
11043 	  Operation not supported by the system class loader.
11044 	&lt;/error&gt;
11045       &lt;/errors&gt;
11046     &lt;/function&gt;
11047 
11048   &lt;/category&gt;
11049 
11050 
11051   &lt;category id=&quot;props&quot; label=&quot;System Properties&quot;&gt;
11052 
11053     &lt;intro&gt;
11054       These functions get and set system properties.
11055     &lt;/intro&gt;
11056 
11057     &lt;function id=&quot;GetSystemProperties&quot; phase=&quot;onload&quot; num=&quot;130&quot;&gt;
11058       &lt;synopsis&gt;Get System Properties&lt;/synopsis&gt;
11059       &lt;description&gt;
11060         The list of VM system property keys which may be used with
11061 	&lt;functionlink id=&quot;GetSystemProperty&quot;/&gt; is returned.
11062         It is strongly recommended that virtual machines provide the
11063         following property keys:
11064         &lt;ul&gt;
11065           &lt;li&gt;&lt;code&gt;java.vm.vendor&lt;/code&gt;&lt;/li&gt;
11066           &lt;li&gt;&lt;code&gt;java.vm.version&lt;/code&gt;&lt;/li&gt;
11067           &lt;li&gt;&lt;code&gt;java.vm.name&lt;/code&gt;&lt;/li&gt;
11068           &lt;li&gt;&lt;code&gt;java.vm.info&lt;/code&gt;&lt;/li&gt;
11069           &lt;li&gt;&lt;code&gt;java.library.path&lt;/code&gt;&lt;/li&gt;
11070           &lt;li&gt;&lt;code&gt;java.class.path&lt;/code&gt;&lt;/li&gt;
11071         &lt;/ul&gt;
11072         Provides access to system properties defined by and used
11073         by the VM.
11074         Properties set on the command-line are included.
11075 	This allows getting and setting of these properties
11076         before the VM even begins executing bytecodes.
11077 	Since this is a VM view of system properties, the set of available
11078         properties will usually be different than that
11079 	in &lt;code&gt;java.lang.System.getProperties&lt;/code&gt;.
11080         JNI method invocation may be used to access
11081         &lt;code&gt;java.lang.System.getProperties&lt;/code&gt;.
11082         &lt;p/&gt;
11083         The set of properties may grow during execution.
11084       &lt;/description&gt;
11085       &lt;origin&gt;new&lt;/origin&gt;
11086       &lt;capabilities&gt;
11087       &lt;/capabilities&gt;
11088       &lt;parameters&gt;
11089         &lt;param id=&quot;count_ptr&quot;&gt;
11090 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
11091 	  &lt;description&gt;
11092 	    On return, points to the number of property keys returned.
11093 	  &lt;/description&gt;
11094 	&lt;/param&gt;
11095         &lt;param id=&quot;property_ptr&quot;&gt;
11096 	  &lt;allocallocbuf outcount=&quot;count_ptr&quot;&gt;&lt;char/&gt;&lt;/allocallocbuf&gt;
11097 	  &lt;description&gt;
11098 	    On return, points to an array of property keys, encoded as
11099 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; strings.
11100 	  &lt;/description&gt;
11101 	&lt;/param&gt;
11102       &lt;/parameters&gt;
11103       &lt;errors&gt;
11104       &lt;/errors&gt;
11105     &lt;/function&gt;
11106 
11107     &lt;function id=&quot;GetSystemProperty&quot; phase=&quot;onload&quot; num=&quot;131&quot;&gt;
11108       &lt;synopsis&gt;Get System Property&lt;/synopsis&gt;
11109       &lt;description&gt;
11110         Return a VM system property value given the property key.
11111         &lt;p/&gt;
11112 	The function &lt;functionlink id=&quot;GetSystemProperties&quot;/&gt;
11113 	returns the set of property keys which may be used.
11114         The properties which can be retrieved may grow during
11115 	execution.
11116         &lt;p/&gt;
11117 	Since this is a VM view of system properties, the values
11118         of properties may differ from that returned by
11119 	&lt;code&gt;java.lang.System.getProperty(String)&lt;/code&gt;.
11120         A typical VM might copy the values of the VM system
11121         properties into the &lt;code&gt;Properties&lt;/code&gt; held by
11122 	&lt;code&gt;java.lang.System&lt;/code&gt; during the initialization
11123         of that class. Thereafter any changes to the VM system
11124         properties (with &lt;functionlink id=&quot;SetSystemProperty&quot;/&gt;)
11125         or the &lt;code&gt;java.lang.System&lt;/code&gt; system properties
11126         (with &lt;code&gt;java.lang.System.setProperty(String,String)&lt;/code&gt;)
11127         would cause the values to diverge.
11128         JNI method invocation may be used to access
11129         &lt;code&gt;java.lang.System.getProperty(String)&lt;/code&gt;.
11130       &lt;/description&gt;
11131       &lt;origin&gt;new&lt;/origin&gt;
11132       &lt;capabilities&gt;
11133       &lt;/capabilities&gt;
11134       &lt;parameters&gt;
11135         &lt;param id=&quot;property&quot;&gt;
11136 	  &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
11137 	  &lt;description&gt;
11138 	    The key of the property to retrieve, encoded as a
11139 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11140 	  &lt;/description&gt;
11141 	&lt;/param&gt;
11142         &lt;param id=&quot;value_ptr&quot;&gt;
11143 	  &lt;allocbuf&gt;&lt;char/&gt;&lt;/allocbuf&gt;
11144 	  &lt;description&gt;
11145 	    On return, points to the property value, encoded as a
11146 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11147 	  &lt;/description&gt;
11148 	&lt;/param&gt;
11149       &lt;/parameters&gt;
11150       &lt;errors&gt;
11151         &lt;error id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;&gt;
11152           This property is not available.
11153 	  Use &lt;functionlink id=&quot;GetSystemProperties&quot;/&gt; to find available properties.
11154         &lt;/error&gt;
11155       &lt;/errors&gt;
11156     &lt;/function&gt;
11157 
11158     &lt;function id=&quot;SetSystemProperty&quot; phase=&quot;onloadOnly&quot; num=&quot;132&quot;&gt;
11159       &lt;synopsis&gt;Set System Property&lt;/synopsis&gt;
11160       &lt;description&gt;
11161         Set a VM system property value.
11162         &lt;p/&gt;
11163 	The function &lt;functionlink id=&quot;GetSystemProperties&quot;/&gt;
11164 	returns the set of property keys, some of these may be settable.
11165         See &lt;functionlink id=&quot;GetSystemProperty&quot;/&gt;.
11166       &lt;/description&gt;
11167       &lt;origin&gt;new&lt;/origin&gt;
11168       &lt;capabilities&gt;
11169       &lt;/capabilities&gt;
11170       &lt;parameters&gt;
11171         &lt;param id=&quot;property&quot;&gt;
11172 	  &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
11173 	  &lt;description&gt;
11174 	    The key of the property, encoded as a
11175 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11176 	  &lt;/description&gt;
11177 	&lt;/param&gt;
11178         &lt;param id=&quot;value_ptr&quot;&gt;
11179 	  &lt;inbuf&gt;
11180 	    &lt;char/&gt;
11181 	    &lt;nullok&gt;
11182 	      do not set the value, but return &lt;errorlink id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;/&gt;
11183 	      if the property is not writeable
11184 	    &lt;/nullok&gt;
11185 	  &lt;/inbuf&gt;
11186 	  &lt;description&gt;
11187 	    The property value to set, encoded as a
11188 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11189 	  &lt;/description&gt;
11190 	&lt;/param&gt;
11191       &lt;/parameters&gt;
11192       &lt;errors&gt;
11193         &lt;error id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;&gt;
11194           This property is not available or is not writeable.
11195         &lt;/error&gt;
11196       &lt;/errors&gt;
11197     &lt;/function&gt;
11198 
11199   &lt;/category&gt;
11200 
11201   &lt;category id=&quot;general&quot; label=&quot;General&quot;&gt;
11202 
11203     &lt;intro&gt;
11204     &lt;/intro&gt;
11205 
11206     &lt;function id=&quot;GetPhase&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;133&quot;&gt;
11207       &lt;synopsis&gt;Get Phase&lt;/synopsis&gt;
11208       &lt;description&gt;
11209           Return the current phase of VM execution.
11210           The phases proceed in sequence:
11211           &lt;constants id=&quot;jvmtiPhase&quot; label=&quot;Phases of execution&quot; kind=&quot;enum&quot;&gt;
11212             &lt;constant id=&quot;JVMTI_PHASE_ONLOAD&quot; num=&quot;1&quot;&gt;
11213               &lt;code&gt;OnLoad&lt;/code&gt; phase: while in the
11214               &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad&lt;/code&gt;&lt;/internallink&gt;
11215               or, for statically linked agents, the &lt;internallink id=&quot;onload&quot;&gt;
11216               &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;
11217               &lt;/code&gt;&lt;/internallink&gt; function.
11218             &lt;/constant&gt;
11219             &lt;constant id=&quot;JVMTI_PHASE_PRIMORDIAL&quot; num=&quot;2&quot;&gt;
11220               Primordial phase: between return from &lt;code&gt;Agent_OnLoad&lt;/code&gt;
11221               or &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; and the
11222               &lt;code&gt;VMStart&lt;/code&gt; event.
11223             &lt;/constant&gt;
11224             &lt;constant id=&quot;JVMTI_PHASE_START&quot; num=&quot;6&quot;&gt;
11225               Start phase: when the &lt;eventlink id=&quot;VMStart&quot;&gt;&lt;code&gt;VMStart&lt;/code&gt;&lt;/eventlink&gt; event
11226               is sent and until the &lt;code&gt;VMInit&lt;/code&gt; event is sent.
11227             &lt;/constant&gt;
11228             &lt;constant id=&quot;JVMTI_PHASE_LIVE&quot; num=&quot;4&quot;&gt;
11229               Live phase: when the &lt;eventlink id=&quot;VMInit&quot;&gt;&lt;code&gt;VMInit&lt;/code&gt;&lt;/eventlink&gt; event is sent
11230               and until the &lt;eventlink id=&quot;VMDeath&quot;&gt;&lt;/eventlink&gt; event returns.
11231             &lt;/constant&gt;
11232             &lt;constant id=&quot;JVMTI_PHASE_DEAD&quot; num=&quot;8&quot;&gt;
11233               Dead phase: after the &lt;eventlink id=&quot;VMDeath&quot;&gt;&lt;/eventlink&gt; event returns or after
11234               start-up failure.
11235             &lt;/constant&gt;
11236           &lt;/constants&gt;
11237           In the case of start-up failure the VM will proceed directly to the dead
11238           phase skipping intermediate phases and neither a &lt;code&gt;VMInit&lt;/code&gt; nor
11239           &lt;code&gt;VMDeath&lt;/code&gt; event will be sent.
11240           &lt;p/&gt;
11241           Most &lt;jvmti/&gt; functions operate only in the live phase.
11242           The following functions operate in either the &lt;code&gt;OnLoad&lt;/code&gt; or live phases:
11243           &lt;functionphaselist phase=&quot;onload&quot;/&gt;
11244           The following functions operate in only the &lt;code&gt;OnLoad&lt;/code&gt; phase:
11245           &lt;functionphaselist phase=&quot;onloadOnly&quot;/&gt;
11246           The following functions operate in the start or live phases:
11247           &lt;functionphaselist phase=&quot;start&quot;/&gt;
11248           The following functions operate in any phase:
11249           &lt;functionphaselist phase=&quot;any&quot;/&gt;
11250           JNI functions (except the Invocation API) must only be used in the start or live phases.
11251           &lt;p/&gt;
11252           Most &lt;jvmti/&gt; events are sent only in the live phase.
11253           The following events operate in others phases:
11254           &lt;eventphaselist phase=&quot;start&quot;/&gt;
11255           &lt;eventphaselist phase=&quot;any&quot;/&gt;
11256       &lt;/description&gt;
11257       &lt;origin&gt;new&lt;/origin&gt;
11258       &lt;capabilities&gt;
11259       &lt;/capabilities&gt;
11260       &lt;parameters&gt;
11261         &lt;param id=&quot;phase_ptr&quot;&gt;
11262 	  &lt;outptr&gt;&lt;enum&gt;jvmtiPhase&lt;/enum&gt;&lt;/outptr&gt;
11263 	  &lt;description&gt;
11264 	    On return, points to the phase.
11265 	  &lt;/description&gt;
11266 	&lt;/param&gt;
11267       &lt;/parameters&gt;
11268       &lt;errors&gt;
11269       &lt;/errors&gt;
11270     &lt;/function&gt;
11271 
11272     &lt;function id=&quot;DisposeEnvironment&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;127&quot;&gt;
11273       &lt;synopsis&gt;Dispose Environment&lt;/synopsis&gt;
11274       &lt;description&gt;
11275         Shutdown a &lt;jvmti/&gt; connection created with JNI &lt;code&gt;GetEnv&lt;/code&gt;
11276         (see &lt;internallink id=&quot;environments&quot;&gt;&lt;jvmti/&gt; Environments&lt;/internallink&gt;).
11277         Dispose of any resources held by the environment.
11278         &lt;issue&gt;
11279 	    What resources are reclaimed? What is undone?
11280 	    Breakpoints,watchpoints removed?
11281 	&lt;/issue&gt;
11282         Threads suspended by this environment are not resumed by this call,
11283         this must be done explicitly by the agent.
11284         Memory allocated by this environment via calls to &lt;jvmti/&gt; functions
11285         is not released, this can be done explicitly by the agent
11286         by calling &lt;functionlink id=&quot;Deallocate&quot;/&gt;.
11287         Raw monitors created by this environment are not destroyed,
11288         this can be done explicitly by the agent
11289         by calling &lt;functionlink id=&quot;DestroyRawMonitor&quot;/&gt;.
11290         The state of threads waiting on raw monitors created by this environment
11291         are not affected.
11292         &lt;p/&gt;
11293         Any &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;&gt;native method
11294         prefixes&lt;/functionlink&gt; for this environment will be unset;
11295         the agent must remove any prefixed native methods before
11296         dispose is called.
11297         &lt;p/&gt;
11298         Any &lt;internallink id=&quot;capability&quot;&gt;capabilities&lt;/internallink&gt;
11299         held by this environment are relinquished.
11300         &lt;p/&gt;
11301         Events enabled by this environment will no longer be sent, however
11302         event handlers currently running will continue to run.  Caution must
11303         be exercised in the design of event handlers whose environment may
11304         be disposed and thus become invalid during their execution.
11305         &lt;p/&gt;
11306         This environment may not be used after this call.
11307         This call returns to the caller.
11308       &lt;/description&gt;
11309       &lt;origin&gt;new&lt;/origin&gt;
11310       &lt;capabilities&gt;
11311       &lt;/capabilities&gt;
11312       &lt;parameters&gt;
11313       &lt;/parameters&gt;
11314       &lt;errors&gt;
11315       &lt;/errors&gt;
11316     &lt;/function&gt;
11317 
11318     &lt;function id=&quot;SetEnvironmentLocalStorage&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;148&quot;&gt;
11319       &lt;synopsis&gt;Set Environment Local Storage&lt;/synopsis&gt;
11320       &lt;description&gt;
11321 	The VM stores a pointer value associated with each environment.
11322 	This pointer value is called &lt;i&gt;environment-local storage&lt;/i&gt;.
11323         This value is &lt;code&gt;NULL&lt;/code&gt; unless set with this function.
11324 	Agents can allocate memory in which they store environment specific
11325         information. By setting environment-local storage it can then be
11326 	accessed with
11327 	&lt;functionlink id=&quot;GetEnvironmentLocalStorage&quot;&gt;&lt;/functionlink&gt;.
11328 	&lt;p/&gt;
11329         Called by the agent to set the value of the &lt;jvmti/&gt;
11330         environment-local storage. &lt;jvmti/&gt; supplies to the agent a pointer-size
11331         environment-local storage that can be used to record per-environment
11332         information.
11333       &lt;/description&gt;
11334       &lt;origin&gt;new&lt;/origin&gt;
11335       &lt;capabilities&gt;
11336       &lt;/capabilities&gt;
11337       &lt;parameters&gt;
11338         &lt;param id=&quot;data&quot;&gt;
11339 	  &lt;inbuf&gt;
11340 	    &lt;void/&gt;
11341 	    &lt;nullok&gt;value is set to &lt;code&gt;NULL&lt;/code&gt;&lt;/nullok&gt;
11342 	  &lt;/inbuf&gt;
11343 	  &lt;description&gt;
11344 	    The value to be entered into the environment-local storage.
11345 	  &lt;/description&gt;
11346 	&lt;/param&gt;
11347       &lt;/parameters&gt;
11348       &lt;errors&gt;
11349       &lt;/errors&gt;
11350     &lt;/function&gt;
11351 
11352     &lt;function id=&quot;GetEnvironmentLocalStorage&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;147&quot;&gt;
11353       &lt;synopsis&gt;Get Environment Local Storage&lt;/synopsis&gt;
11354       &lt;description&gt;
11355         Called by the agent to get the value of the &lt;jvmti/&gt; environment-local
11356         storage.
11357       &lt;/description&gt;
11358       &lt;origin&gt;new&lt;/origin&gt;
11359       &lt;capabilities&gt;
11360       &lt;/capabilities&gt;
11361       &lt;parameters&gt;
11362         &lt;param id=&quot;data_ptr&quot;&gt;
11363 	  &lt;agentbuf&gt;&lt;void/&gt;&lt;/agentbuf&gt;
11364 	  &lt;description&gt;
11365 	    Pointer through which the value of the environment local
11366 	    storage is returned.
11367 	    If environment-local storage has not been set with
11368 	    &lt;functionlink id=&quot;SetEnvironmentLocalStorage&quot;&gt;&lt;/functionlink&gt; returned
11369 	    pointer is &lt;code&gt;NULL&lt;/code&gt;.
11370 	  &lt;/description&gt;
11371 	&lt;/param&gt;
11372       &lt;/parameters&gt;
11373       &lt;errors&gt;
11374       &lt;/errors&gt;
11375     &lt;/function&gt;
11376 
11377     &lt;function id=&quot;GetVersionNumber&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;88&quot;&gt;
11378       &lt;synopsis&gt;Get Version Number&lt;/synopsis&gt;
11379       &lt;description&gt;
11380         Return the &lt;jvmti/&gt; version via &lt;code&gt;version_ptr&lt;/code&gt;.
11381         The return value is the version identifier.
11382         The version identifier includes major, minor and micro
11383         version as well as the interface type.
11384 	&lt;constants id=&quot;jvmtiVersionInterfaceTypes&quot; label=&quot;Version Interface Types&quot; kind=&quot;bits&quot;&gt;
11385 	  &lt;constant id=&quot;JVMTI_VERSION_INTERFACE_JNI&quot; num=&quot;0x00000000&quot;&gt;
11386 	    Value of &lt;code&gt;JVMTI_VERSION_MASK_INTERFACE_TYPE&lt;/code&gt; for JNI.
11387 	  &lt;/constant&gt;
11388 	  &lt;constant id=&quot;JVMTI_VERSION_INTERFACE_JVMTI&quot; num=&quot;0x30000000&quot;&gt;
11389 	    Value of &lt;code&gt;JVMTI_VERSION_MASK_INTERFACE_TYPE&lt;/code&gt; for &lt;jvmti/&gt;.
11390 	  &lt;/constant&gt;
11391 	&lt;/constants&gt;
11392 	&lt;constants id=&quot;jvmtiVersionMasks&quot; label=&quot;Version Masks&quot; kind=&quot;bits&quot;&gt;
11393 	  &lt;constant id=&quot;JVMTI_VERSION_MASK_INTERFACE_TYPE&quot; num=&quot;0x70000000&quot;&gt;
11394 	    Mask to extract interface type.
11395 	    The value of the version returned by this function masked with
11396 	    &lt;code&gt;JVMTI_VERSION_MASK_INTERFACE_TYPE&lt;/code&gt; is always
11397             &lt;code&gt;JVMTI_VERSION_INTERFACE_JVMTI&lt;/code&gt;
11398             since this is a &lt;jvmti/&gt; function.
11399 	  &lt;/constant&gt;
11400 	  &lt;constant id=&quot;JVMTI_VERSION_MASK_MAJOR&quot; num=&quot;0x0FFF0000&quot;&gt;
11401 	    Mask to extract major version number.
11402 	  &lt;/constant&gt;
11403 	  &lt;constant id=&quot;JVMTI_VERSION_MASK_MINOR&quot; num=&quot;0x0000FF00&quot;&gt;
11404 	    Mask to extract minor version number.
11405 	  &lt;/constant&gt;
11406 	  &lt;constant id=&quot;JVMTI_VERSION_MASK_MICRO&quot; num=&quot;0x000000FF&quot;&gt;
11407 	    Mask to extract micro version number.
11408 	  &lt;/constant&gt;
11409 	&lt;/constants&gt;
11410 	&lt;constants id=&quot;jvmtiVersionShifts&quot; label=&quot;Version Shifts&quot; kind=&quot;bits&quot;&gt;
11411 	  &lt;constant id=&quot;JVMTI_VERSION_SHIFT_MAJOR&quot; num=&quot;16&quot;&gt;
11412 	    Shift to extract major version number.
11413 	  &lt;/constant&gt;
11414 	  &lt;constant id=&quot;JVMTI_VERSION_SHIFT_MINOR&quot; num=&quot;8&quot;&gt;
11415 	    Shift to extract minor version number.
11416 	  &lt;/constant&gt;
11417 	  &lt;constant id=&quot;JVMTI_VERSION_SHIFT_MICRO&quot; num=&quot;0&quot;&gt;
11418 	    Shift to extract micro version number.
11419 	  &lt;/constant&gt;
11420 	&lt;/constants&gt;
11421       &lt;/description&gt;
11422       &lt;origin&gt;jvmdi&lt;/origin&gt;
11423       &lt;capabilities&gt;
11424       &lt;/capabilities&gt;
11425       &lt;parameters&gt;
11426         &lt;param id=&quot;version_ptr&quot;&gt;
11427 	  &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
11428 	  &lt;description&gt;
11429 	    On return, points to the &lt;jvmti/&gt; version.
11430 	  &lt;/description&gt;
11431 	&lt;/param&gt;
11432       &lt;/parameters&gt;
11433       &lt;errors&gt;
11434       &lt;/errors&gt;
11435     &lt;/function&gt;
11436 
11437 
11438     &lt;function id=&quot;GetErrorName&quot; phase=&quot;any&quot; num=&quot;128&quot;&gt;
11439       &lt;synopsis&gt;Get Error Name&lt;/synopsis&gt;
11440       &lt;description&gt;
11441         Return the symbolic name for an
11442           &lt;internallink id=&quot;ErrorSection&quot;&gt;error code&lt;/internallink&gt;.
11443         &lt;p/&gt;
11444 	For example
11445         &lt;code&gt;GetErrorName(env, JVMTI_ERROR_NONE, &amp;amp;err_name)&lt;/code&gt;
11446         would return in &lt;code&gt;err_name&lt;/code&gt; the string
11447         &lt;code&gt;&quot;JVMTI_ERROR_NONE&quot;&lt;/code&gt;.
11448       &lt;/description&gt;
11449       &lt;origin&gt;new&lt;/origin&gt;
11450       &lt;capabilities&gt;
11451       &lt;/capabilities&gt;
11452       &lt;parameters&gt;
11453         &lt;param id=&quot;error&quot;&gt;
11454 	  &lt;enum&gt;jvmtiError&lt;/enum&gt;
11455 	  &lt;description&gt;
11456 	    The error code.
11457 	  &lt;/description&gt;
11458 	&lt;/param&gt;
11459         &lt;param id=&quot;name_ptr&quot;&gt;
11460 	  &lt;allocbuf&gt;&lt;char/&gt;&lt;/allocbuf&gt;
11461 	  &lt;description&gt;
11462 	    On return, points to the error name.
11463             The name is encoded as a
11464 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string,
11465             but is restricted to the ASCII subset.
11466 	  &lt;/description&gt;
11467 	&lt;/param&gt;
11468       &lt;/parameters&gt;
11469       &lt;errors&gt;
11470       &lt;/errors&gt;
11471     &lt;/function&gt;
11472 
11473     &lt;function id=&quot;SetVerboseFlag&quot; phase=&quot;any&quot; num=&quot;150&quot;&gt;
11474       &lt;synopsis&gt;Set Verbose Flag&lt;/synopsis&gt;
11475       &lt;description&gt;
11476 	&lt;constants id=&quot;jvmtiVerboseFlag&quot; label=&quot;Verbose Flag Enumeration&quot; kind=&quot;enum&quot;&gt;
11477 	  &lt;constant id=&quot;JVMTI_VERBOSE_OTHER&quot; num=&quot;0&quot;&gt;
11478 	    Verbose output other than the below.
11479 	  &lt;/constant&gt;
11480 	  &lt;constant id=&quot;JVMTI_VERBOSE_GC&quot; num=&quot;1&quot;&gt;
11481 	    Verbose garbage collector output, like that specified with &lt;code&gt;-verbose:gc&lt;/code&gt;.
11482 	  &lt;/constant&gt;
11483 	  &lt;constant id=&quot;JVMTI_VERBOSE_CLASS&quot; num=&quot;2&quot;&gt;
11484 	    Verbose class loading output, like that specified with &lt;code&gt;-verbose:class&lt;/code&gt;.
11485 	  &lt;/constant&gt;
11486 	  &lt;constant id=&quot;JVMTI_VERBOSE_JNI&quot; num=&quot;4&quot;&gt;
11487 	    Verbose JNI output, like that specified with &lt;code&gt;-verbose:jni&lt;/code&gt;.
11488 	  &lt;/constant&gt;
11489         &lt;/constants&gt;
11490 	Control verbose output.
11491 	This is the output which typically is sent to &lt;code&gt;stderr&lt;/code&gt;.
11492       &lt;/description&gt;
11493       &lt;origin&gt;new&lt;/origin&gt;
11494       &lt;capabilities&gt;
11495       &lt;/capabilities&gt;
11496       &lt;parameters&gt;
11497         &lt;param id=&quot;flag&quot;&gt;
11498 	  &lt;enum&gt;jvmtiVerboseFlag&lt;/enum&gt;
11499 	  &lt;description&gt;
11500 	    Which verbose flag to set.
11501 	  &lt;/description&gt;
11502 	&lt;/param&gt;
11503         &lt;param id=&quot;value&quot;&gt;
11504 	  &lt;jboolean/&gt;
11505 	  &lt;description&gt;
11506 	    New value of the flag.
11507 	  &lt;/description&gt;
11508 	&lt;/param&gt;
11509       &lt;/parameters&gt;
11510       &lt;errors&gt;
11511       &lt;/errors&gt;
11512     &lt;/function&gt;
11513 
11514 
11515     &lt;function id=&quot;GetJLocationFormat&quot; phase=&quot;any&quot; num=&quot;129&quot;&gt;
11516       &lt;synopsis&gt;Get JLocation Format&lt;/synopsis&gt;
11517       &lt;description&gt;
11518         Although the greatest functionality is achieved with location information
11519         referencing the virtual machine bytecode index, the definition of
11520         &lt;code&gt;jlocation&lt;/code&gt; has intentionally been left unconstrained to allow VM
11521         implementations that do not have this information.
11522         &lt;p/&gt;
11523         This function describes the representation of &lt;code&gt;jlocation&lt;/code&gt; used in this VM.
11524         If the returned format is &lt;datalink id=&quot;JVMTI_JLOCATION_JVMBCI&quot;&gt;&lt;/datalink&gt;,
11525         &lt;code&gt;jlocation&lt;/code&gt;s can
11526         be used as in indices into the array returned by
11527         &lt;functionlink id=&quot;GetBytecodes&quot;&gt;&lt;/functionlink&gt;.
11528 	&lt;constants id=&quot;jvmtiJlocationFormat&quot; label=&quot;JLocation Format Enumeration&quot; kind=&quot;enum&quot;&gt;
11529 	  &lt;constant id=&quot;JVMTI_JLOCATION_JVMBCI&quot; num=&quot;1&quot;&gt;
11530 	    &lt;code&gt;jlocation&lt;/code&gt; values represent virtual machine
11531 	    bytecode indices--that is, offsets into the
11532 	    virtual machine code for a method.
11533 	  &lt;/constant&gt;
11534 	  &lt;constant id=&quot;JVMTI_JLOCATION_MACHINEPC&quot; num=&quot;2&quot;&gt;
11535 	    &lt;code&gt;jlocation&lt;/code&gt; values represent native machine
11536 	    program counter values.
11537 	  &lt;/constant&gt;
11538 	  &lt;constant id=&quot;JVMTI_JLOCATION_OTHER&quot; num=&quot;0&quot;&gt;
11539 	    &lt;code&gt;jlocation&lt;/code&gt; values have some other representation.
11540 	  &lt;/constant&gt;
11541 	&lt;/constants&gt;
11542       &lt;/description&gt;
11543       &lt;origin&gt;new&lt;/origin&gt;
11544       &lt;capabilities&gt;
11545       &lt;/capabilities&gt;
11546       &lt;parameters&gt;
11547         &lt;param id=&quot;format_ptr&quot;&gt;
11548 	  &lt;outptr&gt;&lt;enum&gt;jvmtiJlocationFormat&lt;/enum&gt;&lt;/outptr&gt;
11549 	  &lt;description&gt;
11550 	    On return, points to the format identifier for &lt;code&gt;jlocation&lt;/code&gt; values.
11551 	  &lt;/description&gt;
11552 	&lt;/param&gt;
11553       &lt;/parameters&gt;
11554       &lt;errors&gt;
11555       &lt;/errors&gt;
11556     &lt;/function&gt;
11557 
11558   &lt;/category&gt;
11559 
11560   &lt;category id=&quot;heap_monitoring&quot; label=&quot;Heap Monitoring&quot;&gt;
11561     &lt;function id=&quot;SetHeapSamplingInterval&quot; phase=&quot;onload&quot; num=&quot;156&quot; since=&quot;11&quot;&gt;
11562       &lt;synopsis&gt;Set Heap Sampling Interval&lt;/synopsis&gt;
11563       &lt;description&gt;
11564         Generate a &lt;eventlink id=&quot;SampledObjectAlloc&quot;/&gt; event when objects are allocated.
11565 	Each thread keeps a counter of bytes allocated. The event will only be generated
11566 	when that counter exceeds an average of &lt;paramlink id=&quot;sampling_interval&quot;&gt;&lt;/paramlink&gt;
11567 	since the last sample.
11568         &lt;p/&gt;
11569         Setting &lt;paramlink id=&quot;sampling_interval&quot;&gt;&lt;/paramlink&gt; to 0 will cause an event to be
11570         generated by each allocation supported by the system once the new interval is taken into account.
11571         &lt;p/&gt;
11572         Note that updating the new sampling interval might take various number of allocations
11573         to provoke internal data structure updates.  Therefore it is important to
11574         consider the sampling interval as an average. This includes the interval 0, where events
11575         might not be generated straight away for each allocation.
11576       &lt;/description&gt;
11577       &lt;origin&gt;new&lt;/origin&gt;
11578       &lt;capabilities&gt;
11579         &lt;required id=&quot;can_generate_sampled_object_alloc_events&quot;&gt;&lt;/required&gt;
11580       &lt;/capabilities&gt;
11581       &lt;parameters&gt;
11582         &lt;param id=&quot;sampling_interval&quot;&gt;
11583           &lt;jint/&gt;
11584           &lt;description&gt;
11585             The sampling interval in bytes. The sampler uses a statistical approach to
11586             generate an event, on average, once for every &lt;paramlink id=&quot;sampling_interval&quot;/&gt; bytes of
11587 	    memory allocated by a given thread.
11588             &lt;p/&gt;
11589             Once the new sampling interval is taken into account, 0 as a sampling interval will generate
11590             a sample for every allocation.
11591             &lt;p/&gt;
11592             Note: The overhead of this feature is directly correlated with the sampling interval.
11593 	    A high sampling interval, such as 1024 bytes, will incur a high overhead.
11594 	    A lower interval, such as 1024KB, will have a much lower overhead.  Sampling should only
11595 	    be used with an understanding that it may impact performance.
11596           &lt;/description&gt;
11597         &lt;/param&gt;
11598       &lt;/parameters&gt;
11599       &lt;errors&gt;
11600         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
11601           &lt;paramlink id=&quot;sampling_interval&quot;&gt;&lt;/paramlink&gt; is less than zero.
11602         &lt;/error&gt;
11603       &lt;/errors&gt;
11604     &lt;/function&gt;
11605   &lt;/category&gt;
11606 
11607 &lt;/functionsection&gt;
11608 
11609 &lt;errorsection label=&quot;Error Reference&quot;&gt;
11610   &lt;intro&gt;
11611     Every &lt;jvmti/&gt; function returns a &lt;b&gt;&lt;code&gt;jvmtiError&lt;/code&gt;&lt;/b&gt; error code.
11612     &lt;p/&gt;
11613     It is the responsibility of the agent to call &lt;jvmti/&gt; functions with
11614     valid parameters and in the proper context (calling thread is attached,
11615     phase is correct, etc.).
11616     Detecting some error conditions may be difficult, inefficient, or
11617     impossible for an implementation.
11618     The errors listed in
11619     &lt;internallink id=&quot;reqerrors&quot;&gt;Function Specific Required Errors&lt;/internallink&gt;
11620     must be detected by the implementation.
11621     All other errors represent the recommended response to the error
11622     condition.
11623   &lt;/intro&gt;
11624 
11625   &lt;errorcategory id=&quot;universal-error&quot; label=&quot;Universal Errors&quot;&gt;
11626     &lt;intro&gt;
11627       The following errors may be returned by any function
11628     &lt;/intro&gt;
11629 
11630     &lt;errorid id=&quot;JVMTI_ERROR_NONE&quot; num=&quot;0&quot;&gt;
11631       No error has occurred.  This is the error code that is returned
11632       on successful completion of the function.
11633     &lt;/errorid&gt;
11634     &lt;errorid id=&quot;JVMTI_ERROR_NULL_POINTER&quot; num=&quot;100&quot;&gt;
11635       Pointer is unexpectedly &lt;code&gt;NULL&lt;/code&gt;.
11636     &lt;/errorid&gt;
11637     &lt;errorid id=&quot;JVMTI_ERROR_OUT_OF_MEMORY&quot; num=&quot;110&quot;&gt;
11638       The function attempted to allocate memory and no more memory was
11639       available for allocation.
11640     &lt;/errorid&gt;
11641     &lt;errorid id=&quot;JVMTI_ERROR_ACCESS_DENIED&quot; num=&quot;111&quot;&gt;
11642       The desired functionality has not been enabled in this virtual machine.
11643     &lt;/errorid&gt;
11644     &lt;errorid id=&quot;JVMTI_ERROR_UNATTACHED_THREAD&quot; num=&quot;115&quot;&gt;
11645       The thread being used to call this function is not attached
11646       to the virtual machine.  Calls must be made from attached threads.
11647       See &lt;code&gt;AttachCurrentThread&lt;/code&gt; in the JNI invocation API.
11648     &lt;/errorid&gt;
11649     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_ENVIRONMENT&quot; num=&quot;116&quot;&gt;
11650       The &lt;jvmti/&gt; environment provided is no longer connected or is
11651       not an environment.
11652     &lt;/errorid&gt;
11653     &lt;errorid id=&quot;JVMTI_ERROR_WRONG_PHASE&quot; num=&quot;112&quot;&gt;
11654       The desired functionality is not available in the current
11655         &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;.
11656       Always returned if the virtual machine has completed running.
11657     &lt;/errorid&gt;
11658     &lt;errorid id=&quot;JVMTI_ERROR_INTERNAL&quot; num=&quot;113&quot;&gt;
11659       An unexpected internal error has occurred.
11660     &lt;/errorid&gt;
11661   &lt;/errorcategory&gt;
11662 
11663   &lt;errorcategory id=&quot;reqerrors&quot; label=&quot;Function Specific Required Errors&quot;&gt;
11664     &lt;intro&gt;
11665       The following errors are returned by some &lt;jvmti/&gt; functions and must
11666       be returned by the implementation when the condition occurs.
11667     &lt;/intro&gt;
11668 
11669     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_PRIORITY&quot; num=&quot;12&quot;&gt;
11670       Invalid priority.
11671     &lt;/errorid&gt;
11672     &lt;errorid id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot; num=&quot;13&quot;&gt;
11673       Thread was not suspended.
11674     &lt;/errorid&gt;
11675     &lt;errorid id=&quot;JVMTI_ERROR_THREAD_SUSPENDED&quot; num=&quot;14&quot;&gt;
11676       Thread already suspended.
11677     &lt;/errorid&gt;
11678     &lt;errorid id=&quot;JVMTI_ERROR_THREAD_NOT_ALIVE&quot; num=&quot;15&quot;&gt;
11679       This operation requires the thread to be alive--that is,
11680       it must be started and not yet have died.
11681     &lt;/errorid&gt;
11682     &lt;errorid id=&quot;JVMTI_ERROR_CLASS_NOT_PREPARED&quot; num=&quot;22&quot;&gt;
11683       The class has been loaded but not yet prepared.
11684     &lt;/errorid&gt;
11685     &lt;errorid id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot; num=&quot;31&quot;&gt;
11686       There are no Java programming language or JNI stack frames at the specified depth.
11687     &lt;/errorid&gt;
11688     &lt;errorid id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot; num=&quot;32&quot;&gt;
11689       Information about the frame is not available (e.g. for native frames).
11690     &lt;/errorid&gt;
11691     &lt;errorid id=&quot;JVMTI_ERROR_DUPLICATE&quot; num=&quot;40&quot;&gt;
11692       Item already set.
11693     &lt;/errorid&gt;
11694     &lt;errorid id=&quot;JVMTI_ERROR_NOT_FOUND&quot; num=&quot;41&quot;&gt;
11695       Desired element (e.g. field or breakpoint) not found
11696     &lt;/errorid&gt;
11697     &lt;errorid id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot; num=&quot;51&quot;&gt;
11698       This thread doesn&#39;t own the raw monitor.
11699     &lt;/errorid&gt;
11700     &lt;errorid id=&quot;JVMTI_ERROR_INTERRUPT&quot; num=&quot;52&quot;&gt;
11701       The call has been interrupted before completion.
11702     &lt;/errorid&gt;
11703     &lt;errorid id=&quot;JVMTI_ERROR_UNMODIFIABLE_CLASS&quot; num=&quot;79&quot;&gt;
11704       The class cannot be modified.
11705     &lt;/errorid&gt;
11706     &lt;errorid id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot; num=&quot;80&quot;&gt;
11707       The module cannot be modified.
11708     &lt;/errorid&gt;
11709     &lt;errorid id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot; num=&quot;98&quot;&gt;
11710       The functionality is not available in this virtual machine.
11711     &lt;/errorid&gt;
11712     &lt;errorid id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot; num=&quot;101&quot;&gt;
11713       The requested information is not available.
11714     &lt;/errorid&gt;
11715     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_EVENT_TYPE&quot; num=&quot;102&quot;&gt;
11716       The specified event type ID is not recognized.
11717     &lt;/errorid&gt;
11718     &lt;errorid id=&quot;JVMTI_ERROR_NATIVE_METHOD&quot; num=&quot;104&quot;&gt;
11719       The requested information is not available for native method.
11720     &lt;/errorid&gt;
11721     &lt;errorid id=&quot;JVMTI_ERROR_CLASS_LOADER_UNSUPPORTED&quot; num=&quot;106&quot;&gt;
11722       The class loader does not support this operation.
11723     &lt;/errorid&gt;
11724   &lt;/errorcategory&gt;
11725 
11726   &lt;errorcategory id=&quot;function-specific-errors&quot; label=&quot;Function Specific Agent Errors&quot;&gt;
11727     &lt;intro&gt;
11728       The following errors are returned by some &lt;jvmti/&gt; functions.
11729       They are returned in the event of invalid parameters passed by the
11730       agent or usage in an invalid context.
11731       An implementation is not required to detect these errors.
11732     &lt;/intro&gt;
11733 
11734     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_THREAD&quot; num=&quot;10&quot;&gt;
11735       The passed thread is not a valid thread.
11736     &lt;/errorid&gt;
11737     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_FIELDID&quot; num=&quot;25&quot;&gt;
11738       Invalid field.
11739     &lt;/errorid&gt;
11740     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_MODULE&quot; num=&quot;26&quot;&gt;
11741       Invalid module.
11742     &lt;/errorid&gt;
11743     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_METHODID&quot; num=&quot;23&quot;&gt;
11744       Invalid method.
11745     &lt;/errorid&gt;
11746     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_LOCATION&quot; num=&quot;24&quot;&gt;
11747       Invalid location.
11748     &lt;/errorid&gt;
11749     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_OBJECT&quot; num=&quot;20&quot;&gt;
11750       Invalid object.
11751     &lt;/errorid&gt;
11752     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_CLASS&quot; num=&quot;21&quot;&gt;
11753       Invalid class.
11754     &lt;/errorid&gt;
11755     &lt;errorid id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot; num=&quot;34&quot;&gt;
11756       The variable is not an appropriate type for the function used.
11757     &lt;/errorid&gt;
11758     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_SLOT&quot; num=&quot;35&quot;&gt;
11759       Invalid slot.
11760     &lt;/errorid&gt;
11761     &lt;errorid id=&quot;JVMTI_ERROR_MUST_POSSESS_CAPABILITY&quot; num=&quot;99&quot;&gt;
11762       The capability being used is false in this environment.
11763     &lt;/errorid&gt;
11764     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_THREAD_GROUP&quot; num=&quot;11&quot;&gt;
11765       Thread group invalid.
11766     &lt;/errorid&gt;
11767     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_MONITOR&quot; num=&quot;50&quot;&gt;
11768       Invalid raw monitor.
11769     &lt;/errorid&gt;
11770     &lt;errorid id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot; num=&quot;103&quot;&gt;
11771       Illegal argument.
11772     &lt;/errorid&gt;
11773     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_TYPESTATE&quot; num=&quot;65&quot;&gt;
11774       The state of the thread has been modified, and is now inconsistent.
11775     &lt;/errorid&gt;
11776     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_VERSION&quot; num=&quot;68&quot;&gt;
11777       A new class file has a version number not supported by this VM.
11778     &lt;/errorid&gt;
11779     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_CLASS_FORMAT&quot; num=&quot;60&quot;&gt;
11780       A new class file is malformed (the VM would return a &lt;code&gt;ClassFormatError&lt;/code&gt;).
11781     &lt;/errorid&gt;
11782     &lt;errorid id=&quot;JVMTI_ERROR_CIRCULAR_CLASS_DEFINITION&quot; num=&quot;61&quot;&gt;
11783       The new class file definitions would lead to a circular
11784       definition (the VM would return a &lt;code&gt;ClassCircularityError&lt;/code&gt;).
11785     &lt;/errorid&gt;
11786     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_ADDED&quot; num=&quot;63&quot;&gt;
11787       A new class file would require adding a method.
11788     &lt;/errorid&gt;
11789     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_SCHEMA_CHANGED&quot; num=&quot;64&quot;&gt;
11790       A new class version changes a field.
11791     &lt;/errorid&gt;
11792     &lt;errorid id=&quot;JVMTI_ERROR_FAILS_VERIFICATION&quot; num=&quot;62&quot;&gt;
11793       The class bytes fail verification.
11794     &lt;/errorid&gt;
11795     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_HIERARCHY_CHANGED&quot; num=&quot;66&quot;&gt;
11796       A direct superclass is different for the new class
11797       version, or the set of directly implemented
11798       interfaces is different.
11799     &lt;/errorid&gt;
11800     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_DELETED&quot; num=&quot;67&quot;&gt;
11801       A new class version does not declare a method
11802       declared in the old class version.
11803     &lt;/errorid&gt;
11804     &lt;errorid id=&quot;JVMTI_ERROR_NAMES_DONT_MATCH&quot; num=&quot;69&quot;&gt;
11805       The class name defined in the new class file is
11806       different from the name in the old class object.
11807     &lt;/errorid&gt;
11808     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_MODIFIERS_CHANGED&quot; num=&quot;70&quot;&gt;
11809       A new class version has different modifiers.
11810     &lt;/errorid&gt;
11811     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_MODIFIERS_CHANGED&quot; num=&quot;71&quot;&gt;
11812       A method in the new class version has different modifiers
11813       than its counterpart in the old class version.
11814     &lt;/errorid&gt;
11815     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_ATTRIBUTE_CHANGED&quot; num=&quot;72&quot;&gt;
11816       A new class version has unsupported differences in class attributes.
11817     &lt;/errorid&gt;
11818   &lt;/errorcategory&gt;
11819 &lt;/errorsection&gt;
11820 
11821 &lt;eventsection label=&quot;Events&quot;&gt;
11822   &lt;intro label=&quot;Handling Events&quot; id=&quot;eventIntro&quot;&gt;
11823     Agents can be informed of many events that occur in application
11824     programs.
11825     &lt;p/&gt;
11826     To handle events, designate a set of callback functions with
11827     &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt;.
11828     For each event the corresponding callback function will be
11829     called.
11830     Arguments to the callback function provide additional
11831     information about the event.
11832     &lt;p/&gt;
11833     The callback function is usually called from within an application
11834     thread. The &lt;jvmti/&gt; implementation does not
11835     queue events in any way. This means
11836     that event callback functions must be written
11837     carefully. Here are some general guidelines. See
11838     the individual event descriptions for further
11839     suggestions.
11840     &lt;p/&gt;
11841     &lt;ul&gt;
11842       &lt;li&gt;Any exception thrown during the execution of an event callback can
11843 	overwrite any current pending exception in the current application thread.
11844 	Care must be taken to preserve a pending exception
11845 	when an event callback makes a JNI call that might generate an exception.
11846       &lt;/li&gt;
11847       &lt;li&gt;Event callback functions must be re-entrant. The &lt;jvmti/&gt; implementation does
11848 	not queue events. If an agent needs to process events one at a time, it
11849 	can use a raw monitor inside the
11850 	event callback functions to serialize event processing.
11851       &lt;/li&gt;
11852       &lt;li&gt;Event callback functions that execute JNI&#39;s FindClass function to load
11853         classes need to note that FindClass locates the class loader associated
11854         with the current native method. For the purposes of class loading, an
11855         event callback that includes a JNI environment as a parameter to the
11856         callback will treated as if it is a native call, where the native method
11857         is in the class of the event thread&#39;s current frame.
11858       &lt;/li&gt;
11859     &lt;/ul&gt;
11860     &lt;p/&gt;
11861     Some &lt;jvmti/&gt; events identify objects with JNI references.
11862     All references
11863     in &lt;jvmti/&gt; events are JNI local references and will become invalid
11864     after the event callback returns.
11865     Unless stated otherwise, memory referenced by pointers sent in event
11866     callbacks may not be referenced after the event callback returns.
11867     &lt;p/&gt;
11868     Except where stated otherwise, events are delivered on the thread
11869     that caused the event.
11870     Events are sent at the time they occur.
11871     The specification for each event includes the set of
11872     &lt;functionlink id=&quot;GetPhase&quot;&gt;phases&lt;/functionlink&gt; in which it can be sent;
11873     if an event triggering activity occurs during another phase, no event
11874     is sent.
11875     &lt;p/&gt;
11876     A thread that generates an event does not change its execution status
11877     (for example, the event does not cause the thread to be suspended).
11878     If an agent wishes the event to result in suspension, then the agent
11879     is responsible for explicitly suspending the thread with
11880     &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;.
11881     &lt;p/&gt;
11882     If an event is enabled in multiple environments, the event will be sent
11883     to each agent in the order that the environments were created.
11884   &lt;/intro&gt;
11885 
11886   &lt;intro label=&quot;Enabling Events&quot; id=&quot;enablingevents&quot;&gt;
11887     All events are initially disabled.  In order to receive any
11888     event:
11889       &lt;ul&gt;
11890 	&lt;li&gt;
11891 	  If the event requires a capability, that capability must
11892 	  be added with
11893 	  &lt;functionlink id=&quot;AddCapabilities&quot;&gt;&lt;/functionlink&gt;.
11894 	&lt;/li&gt;
11895 	&lt;li&gt;
11896 	  A callback for the event must be set with
11897 	  &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt;.
11898 	&lt;/li&gt;
11899 	&lt;li&gt;
11900 	  The event must be enabled with
11901 	  &lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;&lt;/functionlink&gt;.
11902 	&lt;/li&gt;
11903       &lt;/ul&gt;
11904   &lt;/intro&gt;
11905 
11906   &lt;intro label=&quot;Multiple Co-located Events&quot; id=&quot;eventorder&quot;&gt;
11907     In many situations it is possible for multiple events to occur
11908     at the same location in one thread. When this happens, all the events
11909     are reported through the event callbacks in the order specified in this section.
11910     &lt;p/&gt;
11911     If the current location is at the entry point of a method, the
11912     &lt;eventlink id=&quot;MethodEntry&quot;&gt;&lt;/eventlink&gt; event is reported before
11913     any other event at the current location in the same thread.
11914     &lt;p/&gt;
11915     If an exception catch has been detected at the current location,
11916     either because it is the beginning of a catch clause or a native method
11917     that cleared a pending exception has returned, the
11918     &lt;code&gt;exceptionCatch&lt;/code&gt; event is reported before
11919     any other event at the current location in the same thread.
11920     &lt;p/&gt;
11921     If a &lt;code&gt;singleStep&lt;/code&gt; event or
11922     &lt;code&gt;breakpoint&lt;/code&gt; event is triggered at the
11923     current location, the event is defined to occur
11924     immediately before the code at the current location is executed.
11925     These events are reported before any events which are triggered
11926     by the execution of code at the current location in the same
11927     thread (specifically:
11928     &lt;code&gt;exception&lt;/code&gt;,
11929     &lt;code&gt;fieldAccess&lt;/code&gt;, and
11930     &lt;code&gt;fieldModification&lt;/code&gt;).
11931     If both a step and breakpoint event are triggered for the same thread and
11932     location, the step event is reported before the breakpoint event.
11933     &lt;p/&gt;
11934     If the current location is the exit point of a method (that is, the last
11935     location before returning to the caller), the
11936     &lt;eventlink id=&quot;MethodExit&quot;&gt;&lt;/eventlink&gt; event and
11937     the &lt;eventlink id=&quot;FramePop&quot;&gt;&lt;/eventlink&gt; event (if requested)
11938     are reported after all other events at the current location in the same
11939     thread. There is no specified ordering of these two events
11940     with respect to each other.
11941     &lt;p/&gt;
11942     Co-located events can be triggered during the processing of some other
11943     event by the agent at the same location in the same thread.
11944     If such an event, of type &lt;i&gt;y&lt;/i&gt;, is triggered during the processing of
11945     an event of type &lt;i&gt;x&lt;/i&gt;, and if &lt;i&gt;x&lt;/i&gt;
11946     precedes &lt;i&gt;y&lt;/i&gt; in the ordering specified above, the co-located event
11947     &lt;i&gt;y&lt;/i&gt; is reported for the current thread and location. If &lt;i&gt;x&lt;/i&gt; does not precede
11948     &lt;i&gt;y&lt;/i&gt;, &lt;i&gt;y&lt;/i&gt; is not reported for the current thread and location.
11949     For example, if a breakpoint is set at the current location
11950     during the processing of &lt;eventlink id=&quot;SingleStep&quot;&gt;&lt;/eventlink&gt;,
11951     that breakpoint will be reported before the thread moves off the current
11952     location.
11953     &lt;p/&gt;The following events are never considered to be co-located with
11954     other events.
11955     &lt;ul&gt;
11956       &lt;li&gt;&lt;eventlink id=&quot;VMStart&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
11957       &lt;li&gt;&lt;eventlink id=&quot;VMInit&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
11958       &lt;li&gt;&lt;eventlink id=&quot;VMDeath&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
11959       &lt;li&gt;&lt;eventlink id=&quot;ThreadStart&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
11960       &lt;li&gt;&lt;eventlink id=&quot;ThreadEnd&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
11961       &lt;li&gt;&lt;eventlink id=&quot;ClassLoad&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
11962       &lt;li&gt;&lt;eventlink id=&quot;ClassPrepare&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
11963     &lt;/ul&gt;
11964   &lt;/intro&gt;
11965 
11966   &lt;intro label=&quot;Event Callbacks&quot; id=&quot;jvmtiEventCallbacks&quot;&gt;
11967       The event callback structure below is used to specify the handler function
11968       for events.  It is set with the
11969       &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt; function.
11970   &lt;/intro&gt;
11971 
11972   &lt;event label=&quot;Single Step&quot;
11973 	 id=&quot;SingleStep&quot; const=&quot;JVMTI_EVENT_SINGLE_STEP&quot; filtered=&quot;thread&quot; num=&quot;60&quot;&gt;
11974     &lt;description&gt;
11975       Single step events allow the agent to trace thread execution
11976       at the finest granularity allowed by the VM. A single step event is
11977       generated whenever a thread reaches a new location.
11978       Typically, single step events represent the completion of one VM
11979       instruction as defined in &lt;vmspec/&gt;. However, some implementations
11980       may define locations differently. In any case the
11981       &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
11982       parameters  uniquely identify the current location and allow
11983       the mapping to source file and line number when that information is
11984       available.
11985       &lt;p/&gt;
11986       No single step events are generated from within native methods.
11987     &lt;/description&gt;
11988     &lt;origin&gt;jvmdi&lt;/origin&gt;
11989     &lt;capabilities&gt;
11990       &lt;required id=&quot;can_generate_single_step_events&quot;&gt;&lt;/required&gt;
11991     &lt;/capabilities&gt;
11992     &lt;parameters&gt;
11993       &lt;param id=&quot;jni_env&quot;&gt;
11994         &lt;outptr&gt;
11995           &lt;struct&gt;JNIEnv&lt;/struct&gt;
11996         &lt;/outptr&gt;
11997           &lt;description&gt;
11998             The JNI environment of the event (current) thread
11999           &lt;/description&gt;
12000       &lt;/param&gt;
12001       &lt;param id=&quot;thread&quot;&gt;
12002 	&lt;jthread/&gt;
12003 	  &lt;description&gt;
12004 	    Thread about to execution a new instruction
12005 	  &lt;/description&gt;
12006       &lt;/param&gt;
12007       &lt;param id=&quot;klass&quot;&gt;
12008 	&lt;jclass method=&quot;method&quot;/&gt;
12009 	  &lt;description&gt;
12010 	    Class of the method about to execute a new instruction
12011 	  &lt;/description&gt;
12012       &lt;/param&gt;
12013       &lt;param id=&quot;method&quot;&gt;
12014 	&lt;jmethodID class=&quot;klass&quot;/&gt;
12015 	  &lt;description&gt;
12016 	    Method about to execute a new instruction
12017 	  &lt;/description&gt;
12018       &lt;/param&gt;
12019       &lt;param id=&quot;location&quot;&gt;
12020 	&lt;jlocation/&gt;
12021 	&lt;description&gt;
12022 	  Location of the new instruction
12023 	&lt;/description&gt;
12024       &lt;/param&gt;
12025     &lt;/parameters&gt;
12026   &lt;/event&gt;
12027 
12028   &lt;event label=&quot;Breakpoint&quot;
12029 	 id=&quot;Breakpoint&quot; const=&quot;JVMTI_EVENT_BREAKPOINT&quot; filtered=&quot;thread&quot; num=&quot;62&quot;&gt;
12030     &lt;description&gt;
12031       Breakpoint events are generated whenever a thread reaches a location
12032       designated as a breakpoint with &lt;functionlink id=&quot;SetBreakpoint&quot;&gt;&lt;/functionlink&gt;.
12033       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12034       parameters uniquely identify the current location and allow
12035       the mapping to source file and line number when that information is
12036       available.
12037     &lt;/description&gt;
12038     &lt;origin&gt;jvmdi&lt;/origin&gt;
12039     &lt;capabilities&gt;
12040       &lt;required id=&quot;can_generate_breakpoint_events&quot;&gt;&lt;/required&gt;
12041     &lt;/capabilities&gt;
12042     &lt;parameters&gt;
12043       &lt;param id=&quot;jni_env&quot;&gt;
12044         &lt;outptr&gt;
12045           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12046         &lt;/outptr&gt;
12047           &lt;description&gt;
12048             The JNI environment of the event (current) thread.
12049           &lt;/description&gt;
12050       &lt;/param&gt;
12051       &lt;param id=&quot;thread&quot;&gt;
12052 	&lt;jthread/&gt;
12053 	  &lt;description&gt;
12054 	    Thread that hit the breakpoint
12055 	  &lt;/description&gt;
12056       &lt;/param&gt;
12057       &lt;param id=&quot;klass&quot;&gt;
12058 	&lt;jclass method=&quot;method&quot;/&gt;
12059 	  &lt;description&gt;
12060 	    Class of the method that hit the breakpoint
12061 	  &lt;/description&gt;
12062       &lt;/param&gt;
12063       &lt;param id=&quot;method&quot;&gt;
12064 	&lt;jmethodID class=&quot;klass&quot;/&gt;
12065 	  &lt;description&gt;
12066 	    Method that hit the breakpoint
12067 	  &lt;/description&gt;
12068       &lt;/param&gt;
12069       &lt;param id=&quot;location&quot;&gt;
12070 	&lt;jlocation/&gt;
12071 	&lt;description&gt;
12072 	  location of the breakpoint
12073 	&lt;/description&gt;
12074       &lt;/param&gt;
12075     &lt;/parameters&gt;
12076   &lt;/event&gt;
12077 
12078   &lt;event label=&quot;Field Access&quot;
12079 	 id=&quot;FieldAccess&quot; const=&quot;JVMTI_EVENT_FIELD_ACCESS&quot; filtered=&quot;thread&quot; num=&quot;63&quot;&gt;
12080     &lt;description&gt;
12081       Field access events are generated whenever a thread accesses
12082       a field that was designated as a watchpoint
12083       with &lt;functionlink id=&quot;SetFieldAccessWatch&quot;&gt;&lt;/functionlink&gt;.
12084       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12085       parameters uniquely identify the current location and allow
12086       the mapping to source file and line number when that information is
12087       available.
12088     &lt;/description&gt;
12089     &lt;origin&gt;jvmdi&lt;/origin&gt;
12090     &lt;capabilities&gt;
12091       &lt;required id=&quot;can_generate_field_access_events&quot;&gt;&lt;/required&gt;
12092     &lt;/capabilities&gt;
12093     &lt;parameters&gt;
12094       &lt;param id=&quot;jni_env&quot;&gt;
12095         &lt;outptr&gt;
12096           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12097         &lt;/outptr&gt;
12098           &lt;description&gt;
12099             The JNI environment of the event (current) thread
12100           &lt;/description&gt;
12101       &lt;/param&gt;
12102       &lt;param id=&quot;thread&quot;&gt;
12103 	&lt;jthread/&gt;
12104 	  &lt;description&gt;
12105 	    Thread accessing the field
12106 	  &lt;/description&gt;
12107       &lt;/param&gt;
12108       &lt;param id=&quot;klass&quot;&gt;
12109 	&lt;jclass method=&quot;method&quot;/&gt;
12110 	  &lt;description&gt;
12111 	    Class of the method where the access is occurring
12112 	  &lt;/description&gt;
12113       &lt;/param&gt;
12114       &lt;param id=&quot;method&quot;&gt;
12115 	&lt;jmethodID class=&quot;klass&quot;/&gt;
12116 	  &lt;description&gt;
12117 	    Method where the access is occurring
12118 	  &lt;/description&gt;
12119       &lt;/param&gt;
12120       &lt;param id=&quot;location&quot;&gt;
12121 	&lt;jlocation/&gt;
12122 	&lt;description&gt;
12123 	  Location where the access is occurring
12124 	&lt;/description&gt;
12125       &lt;/param&gt;
12126       &lt;param id=&quot;field_klass&quot;&gt;
12127 	&lt;jclass field=&quot;field&quot;/&gt;
12128 	  &lt;description&gt;
12129 	    Class of the field being accessed
12130 	  &lt;/description&gt;
12131       &lt;/param&gt;
12132       &lt;param id=&quot;object&quot;&gt;
12133 	&lt;jobject/&gt;
12134 	  &lt;description&gt;
12135 	    Object with the field being accessed if the field is an
12136 	    instance field; &lt;code&gt;NULL&lt;/code&gt; otherwise
12137 	  &lt;/description&gt;
12138       &lt;/param&gt;
12139       &lt;param id=&quot;field&quot;&gt;
12140 	&lt;jfieldID class=&quot;field_klass&quot;/&gt;
12141 	  &lt;description&gt;
12142 	    Field being accessed
12143 	  &lt;/description&gt;
12144       &lt;/param&gt;
12145     &lt;/parameters&gt;
12146   &lt;/event&gt;
12147 
12148   &lt;event label=&quot;Field Modification&quot;
12149 	 id=&quot;FieldModification&quot; const=&quot;JVMTI_EVENT_FIELD_MODIFICATION&quot; filtered=&quot;thread&quot; num=&quot;64&quot;&gt;
12150     &lt;description&gt;
12151       Field modification events are generated whenever a thread modifies
12152       a field that was designated as a watchpoint
12153       with &lt;functionlink id=&quot;SetFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;.
12154       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12155       parameters uniquely identify the current location and allow
12156       the mapping to source file and line number when that information is
12157       available.
12158     &lt;/description&gt;
12159     &lt;origin&gt;jvmdi&lt;/origin&gt;
12160     &lt;capabilities&gt;
12161       &lt;required id=&quot;can_generate_field_modification_events&quot;&gt;&lt;/required&gt;
12162     &lt;/capabilities&gt;
12163     &lt;parameters&gt;
12164       &lt;param id=&quot;jni_env&quot;&gt;
12165         &lt;outptr&gt;
12166           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12167         &lt;/outptr&gt;
12168           &lt;description&gt;
12169             The JNI environment of the event (current) thread
12170           &lt;/description&gt;
12171       &lt;/param&gt;
12172       &lt;param id=&quot;thread&quot;&gt;
12173 	&lt;jthread/&gt;
12174 	  &lt;description&gt;
12175 	    Thread modifying the field
12176 	  &lt;/description&gt;
12177       &lt;/param&gt;
12178       &lt;param id=&quot;klass&quot;&gt;
12179 	&lt;jclass method=&quot;method&quot;/&gt;
12180 	  &lt;description&gt;
12181 	    Class of the method where the modification is occurring
12182 	  &lt;/description&gt;
12183       &lt;/param&gt;
12184       &lt;param id=&quot;method&quot;&gt;
12185 	&lt;jmethodID class=&quot;klass&quot;/&gt;
12186 	  &lt;description&gt;
12187 	    Method where the modification is occurring
12188 	  &lt;/description&gt;
12189       &lt;/param&gt;
12190       &lt;param id=&quot;location&quot;&gt;
12191 	&lt;jlocation/&gt;
12192 	&lt;description&gt;
12193 	  Location where the modification is occurring
12194 	&lt;/description&gt;
12195       &lt;/param&gt;
12196       &lt;param id=&quot;field_klass&quot;&gt;
12197 	&lt;jclass field=&quot;field&quot;/&gt;
12198 	  &lt;description&gt;
12199 	    Class of the field being modified
12200 	  &lt;/description&gt;
12201       &lt;/param&gt;
12202       &lt;param id=&quot;object&quot;&gt;
12203 	&lt;jobject/&gt;
12204 	  &lt;description&gt;
12205 	    Object with the field being modified if the field is an
12206 	    instance field; &lt;code&gt;NULL&lt;/code&gt; otherwise
12207 	  &lt;/description&gt;
12208       &lt;/param&gt;
12209       &lt;param id=&quot;field&quot;&gt;
12210 	&lt;jfieldID class=&quot;field_klass&quot;/&gt;
12211 	  &lt;description&gt;
12212 	    Field being modified
12213 	  &lt;/description&gt;
12214       &lt;/param&gt;
12215       &lt;param id=&quot;signature_type&quot;&gt;
12216 	&lt;char/&gt;
12217 	&lt;description&gt;
12218 	  Signature type of the new value
12219 	&lt;/description&gt;
12220       &lt;/param&gt;
12221       &lt;param id=&quot;new_value&quot;&gt;
12222 	&lt;jvalue/&gt;
12223 	&lt;description&gt;
12224 	  The new value
12225 	&lt;/description&gt;
12226       &lt;/param&gt;
12227     &lt;/parameters&gt;
12228   &lt;/event&gt;
12229 
12230   &lt;event label=&quot;Frame Pop&quot;
12231 	 id=&quot;FramePop&quot; const=&quot;JVMTI_EVENT_FRAME_POP&quot; filtered=&quot;thread&quot; num=&quot;61&quot;&gt;
12232     &lt;description&gt;
12233       Frame pop events are generated upon exit from a single method
12234       in a single frame as specified
12235       in a call to &lt;functionlink id=&quot;NotifyFramePop&quot;&gt;&lt;/functionlink&gt;.
12236       This is true whether termination is caused by
12237       executing its return instruction
12238       or by throwing an exception to its caller
12239       (see &lt;paramlink id=&quot;was_popped_by_exception&quot;&gt;&lt;/paramlink&gt;).
12240       However, frame pops caused by the &lt;functionlink id=&quot;PopFrame&quot;/&gt;
12241       function are not reported.
12242       &lt;p/&gt;
12243       The location reported by &lt;functionlink id=&quot;GetFrameLocation&quot;&gt;&lt;/functionlink&gt;
12244       identifies the executable location in the returning method,
12245       immediately prior to the return.
12246     &lt;/description&gt;
12247     &lt;origin&gt;jvmdi&lt;/origin&gt;
12248     &lt;capabilities&gt;
12249       &lt;required id=&quot;can_generate_frame_pop_events&quot;&gt;&lt;/required&gt;
12250     &lt;/capabilities&gt;
12251     &lt;parameters&gt;
12252       &lt;param id=&quot;jni_env&quot;&gt;
12253         &lt;outptr&gt;
12254           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12255         &lt;/outptr&gt;
12256           &lt;description&gt;
12257             The JNI environment of the event (current) thread
12258           &lt;/description&gt;
12259       &lt;/param&gt;
12260       &lt;param id=&quot;thread&quot;&gt;
12261 	&lt;jthread/&gt;
12262 	  &lt;description&gt;
12263 	    Thread that is popping the frame
12264 	  &lt;/description&gt;
12265       &lt;/param&gt;
12266       &lt;param id=&quot;klass&quot;&gt;
12267 	&lt;jclass method=&quot;method&quot;/&gt;
12268 	  &lt;description&gt;
12269 	    Class of the method being popped
12270 	  &lt;/description&gt;
12271       &lt;/param&gt;
12272       &lt;param id=&quot;method&quot;&gt;
12273 	&lt;jmethodID class=&quot;klass&quot;/&gt;
12274 	  &lt;description&gt;
12275 	    Method being popped
12276 	  &lt;/description&gt;
12277       &lt;/param&gt;
12278       &lt;param id=&quot;was_popped_by_exception&quot;&gt;
12279 	&lt;jboolean/&gt;
12280 	&lt;description&gt;
12281 	  True if frame was popped by a thrown exception.
12282 	  False if method exited through its return instruction.
12283 	&lt;/description&gt;
12284       &lt;/param&gt;
12285     &lt;/parameters&gt;
12286   &lt;/event&gt;
12287 
12288   &lt;event label=&quot;Method Entry&quot;
12289 	 id=&quot;MethodEntry&quot; const=&quot;JVMTI_EVENT_METHOD_ENTRY&quot; filtered=&quot;thread&quot; num=&quot;65&quot;&gt;
12290     &lt;description&gt;
12291       Method entry events are generated upon entry of Java
12292       programming language methods (including native methods).
12293       &lt;p/&gt;
12294       The location reported by &lt;functionlink id=&quot;GetFrameLocation&quot;&gt;&lt;/functionlink&gt;
12295       identifies the initial executable location in
12296       the method.
12297       &lt;p/&gt;
12298       Enabling method
12299       entry or exit events will significantly degrade performance on many platforms and is thus
12300       not advised for performance critical usage (such as profiling).
12301       &lt;internallink id=&quot;bci&quot;&gt;Bytecode instrumentation&lt;/internallink&gt; should be
12302       used in these cases.
12303     &lt;/description&gt;
12304     &lt;origin&gt;jvmdi&lt;/origin&gt;
12305     &lt;capabilities&gt;
12306       &lt;required id=&quot;can_generate_method_entry_events&quot;&gt;&lt;/required&gt;
12307     &lt;/capabilities&gt;
12308     &lt;parameters&gt;
12309       &lt;param id=&quot;jni_env&quot;&gt;
12310         &lt;outptr&gt;
12311           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12312         &lt;/outptr&gt;
12313           &lt;description&gt;
12314             The JNI environment of the event (current) thread
12315           &lt;/description&gt;
12316       &lt;/param&gt;
12317       &lt;param id=&quot;thread&quot;&gt;
12318 	&lt;jthread/&gt;
12319 	  &lt;description&gt;
12320 	    Thread entering the method
12321 	  &lt;/description&gt;
12322       &lt;/param&gt;
12323       &lt;param id=&quot;klass&quot;&gt;
12324 	&lt;jclass method=&quot;method&quot;/&gt;
12325 	  &lt;description&gt;
12326 	    Class of the method being entered
12327 	  &lt;/description&gt;
12328       &lt;/param&gt;
12329       &lt;param id=&quot;method&quot;&gt;
12330 	&lt;jmethodID class=&quot;klass&quot;/&gt;
12331 	  &lt;description&gt;
12332 	    Method being entered
12333 	  &lt;/description&gt;
12334       &lt;/param&gt;
12335     &lt;/parameters&gt;
12336   &lt;/event&gt;
12337 
12338   &lt;event label=&quot;Method Exit&quot;
12339 	 id=&quot;MethodExit&quot; const=&quot;JVMTI_EVENT_METHOD_EXIT&quot; filtered=&quot;thread&quot; num=&quot;66&quot;&gt;
12340     &lt;description&gt;
12341       Method exit events are generated upon exit from Java
12342       programming language methods (including native methods).
12343       This is true whether termination is caused by
12344       executing its return instruction
12345       or by throwing an exception to its caller
12346       (see &lt;paramlink id=&quot;was_popped_by_exception&quot;&gt;&lt;/paramlink&gt;).
12347       &lt;p/&gt;
12348       The &lt;code&gt;method&lt;/code&gt; field uniquely identifies the
12349       method being entered or exited. The &lt;code&gt;frame&lt;/code&gt; field provides
12350       access to the stack frame for the method.
12351       &lt;p/&gt;
12352       The location reported by &lt;functionlink id=&quot;GetFrameLocation&quot;&gt;&lt;/functionlink&gt;
12353       identifies the executable location in the returning method
12354       immediately prior to the return.
12355       &lt;p/&gt;
12356         Enabling method
12357 	entry or exit events will significantly degrade performance on many platforms and is thus
12358 	not advised for performance critical usage (such as profiling).
12359         &lt;internallink id=&quot;bci&quot;&gt;Bytecode instrumentation&lt;/internallink&gt; should be
12360         used in these cases.
12361     &lt;/description&gt;
12362     &lt;origin&gt;jvmdi&lt;/origin&gt;
12363     &lt;capabilities&gt;
12364       &lt;required id=&quot;can_generate_method_exit_events&quot;&gt;&lt;/required&gt;
12365     &lt;/capabilities&gt;
12366     &lt;parameters&gt;
12367       &lt;param id=&quot;jni_env&quot;&gt;
12368         &lt;outptr&gt;
12369           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12370         &lt;/outptr&gt;
12371           &lt;description&gt;
12372             The JNI environment of the event (current) thread
12373           &lt;/description&gt;
12374       &lt;/param&gt;
12375       &lt;param id=&quot;thread&quot;&gt;
12376 	&lt;jthread/&gt;
12377 	  &lt;description&gt;
12378 	    Thread exiting the method
12379 	  &lt;/description&gt;
12380       &lt;/param&gt;
12381       &lt;param id=&quot;klass&quot;&gt;
12382 	&lt;jclass method=&quot;method&quot;/&gt;
12383 	  &lt;description&gt;
12384 	    Class of the method being exited
12385 	  &lt;/description&gt;
12386       &lt;/param&gt;
12387       &lt;param id=&quot;method&quot;&gt;
12388 	&lt;jmethodID class=&quot;klass&quot;/&gt;
12389 	  &lt;description&gt;
12390 	    Method being exited
12391 	  &lt;/description&gt;
12392       &lt;/param&gt;
12393       &lt;param id=&quot;was_popped_by_exception&quot;&gt;
12394 	&lt;jboolean/&gt;
12395 	&lt;description&gt;
12396 	  True if frame was popped by a thrown exception.
12397 	  False if method exited through its return instruction.
12398 	&lt;/description&gt;
12399       &lt;/param&gt;
12400       &lt;param id=&quot;return_value&quot;&gt;
12401 	&lt;jvalue/&gt;
12402 	&lt;description&gt;
12403 	  The return value of the method being exited.
12404 	  Undefined and should not be used if
12405 	  &lt;paramlink id=&quot;was_popped_by_exception&quot;&gt;&lt;/paramlink&gt;
12406 	  is true.
12407 	&lt;/description&gt;
12408       &lt;/param&gt;
12409     &lt;/parameters&gt;
12410   &lt;/event&gt;
12411 
12412   &lt;event label=&quot;Native Method Bind&quot; phase=&quot;any&quot;
12413 	 id=&quot;NativeMethodBind&quot; const=&quot;JVMTI_EVENT_NATIVE_METHOD_BIND&quot; num=&quot;67&quot;&gt;
12414     &lt;description&gt;
12415       A Native Method Bind event is sent when a VM binds a
12416       Java programming language native method
12417       to the address of a function that implements the native method.
12418       This will occur when the native method is called for the first time
12419       and also occurs when the JNI function &lt;code&gt;RegisterNatives&lt;/code&gt; is called.
12420       This event allows the bind to be redirected to an agent-specified
12421       proxy function.
12422       This event is not sent when the native method is unbound.
12423       Typically, this proxy function will need to be specific to a
12424       particular method or, to handle the general case, automatically
12425       generated assembly code, since after instrumentation code is
12426       executed the function at the original binding
12427       address will usually be invoked.
12428       The original binding can be restored or the redirection changed
12429       by use of the JNI function &lt;code&gt;RegisterNatives&lt;/code&gt;.
12430       Some events may be sent during the primordial phase, JNI and
12431       most of &lt;jvmti/&gt; cannot be used at this time but the method and
12432       address can be saved for use later.
12433     &lt;/description&gt;
12434     &lt;origin&gt;new&lt;/origin&gt;
12435     &lt;capabilities&gt;
12436       &lt;required id=&quot;can_generate_native_method_bind_events&quot;&gt;&lt;/required&gt;
12437     &lt;/capabilities&gt;
12438     &lt;parameters&gt;
12439       &lt;param id=&quot;jni_env&quot;&gt;
12440         &lt;outptr&gt;
12441           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12442         &lt;/outptr&gt;
12443           &lt;description&gt;
12444             The JNI environment of the event (current) thread
12445 	    Will be &lt;code&gt;NULL&lt;/code&gt; if sent during the primordial
12446             &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;.
12447           &lt;/description&gt;
12448       &lt;/param&gt;
12449       &lt;param id=&quot;thread&quot;&gt;
12450 	&lt;jthread/&gt;
12451 	  &lt;description&gt;
12452 	    Thread requesting the bind
12453 	  &lt;/description&gt;
12454       &lt;/param&gt;
12455       &lt;param id=&quot;klass&quot;&gt;
12456 	&lt;jclass method=&quot;method&quot;/&gt;
12457 	  &lt;description&gt;
12458 	    Class of the method being bound
12459 	  &lt;/description&gt;
12460       &lt;/param&gt;
12461       &lt;param id=&quot;method&quot;&gt;
12462 	&lt;jmethodID class=&quot;klass&quot;/&gt;
12463 	  &lt;description&gt;
12464 	    Native method being bound
12465 	  &lt;/description&gt;
12466       &lt;/param&gt;
12467       &lt;param id=&quot;address&quot;&gt;
12468 	&lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
12469 	&lt;description&gt;
12470 	  The address the VM is about to bind to--that is, the
12471 	  address of the implementation of the native method
12472 	&lt;/description&gt;
12473       &lt;/param&gt;
12474       &lt;param id=&quot;new_address_ptr&quot;&gt;
12475         &lt;agentbuf&gt;&lt;void/&gt;&lt;/agentbuf&gt;
12476 	&lt;description&gt;
12477 	  if the referenced address is changed (that is, if
12478 	  &lt;code&gt;*new_address_ptr&lt;/code&gt; is set), the binding
12479 	  will instead be made to the supplied address.
12480 	&lt;/description&gt;
12481       &lt;/param&gt;
12482     &lt;/parameters&gt;
12483   &lt;/event&gt;
12484 
12485   &lt;event label=&quot;Exception&quot;
12486 	 id=&quot;Exception&quot; const=&quot;JVMTI_EVENT_EXCEPTION&quot; filtered=&quot;thread&quot; num=&quot;58&quot;&gt;
12487     &lt;description&gt;
12488       Exception events are generated whenever an exception is first detected
12489       in a Java programming language method.
12490       Where &quot;exception&quot; means any &lt;code&gt;java.lang.Throwable&lt;/code&gt;.
12491       The exception may have been thrown by a Java programming language or native
12492       method, but in the case of native methods, the event is not generated
12493       until the exception is first seen by a Java programming language method. If an exception is
12494       set and cleared in a native method (and thus is never visible to Java programming language code),
12495       no exception event is generated.
12496       &lt;p/&gt;
12497       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12498       parameters  uniquely identify the current location
12499       (where the exception was detected) and allow
12500       the mapping to source file and line number when that information is
12501       available. The &lt;code&gt;exception&lt;/code&gt; field identifies the thrown
12502       exception object. The &lt;code&gt;catch_method&lt;/code&gt;
12503       and &lt;code&gt;catch_location&lt;/code&gt; identify the location of the catch clause,
12504       if any, that handles the thrown exception. If there is no such catch clause,
12505       each field is set to 0. There is no guarantee that the thread will ever
12506       reach this catch clause. If there are native methods on the call stack
12507       between the throw location and the catch clause, the exception may
12508       be reset by one of those native methods.
12509       Similarly, exceptions that are reported as uncaught (&lt;code&gt;catch_klass&lt;/code&gt;
12510       et al. set to 0) may in fact be caught by native code.
12511       Agents can check for these occurrences by monitoring
12512       &lt;eventlink id=&quot;ExceptionCatch&quot;&gt;&lt;/eventlink&gt; events.
12513       Note that finally clauses are implemented as catch and re-throw. Therefore they
12514       will be reported in the catch location.
12515     &lt;/description&gt;
12516     &lt;origin&gt;jvmdi&lt;/origin&gt;
12517     &lt;capabilities&gt;
12518       &lt;required id=&quot;can_generate_exception_events&quot;&gt;&lt;/required&gt;
12519     &lt;/capabilities&gt;
12520     &lt;parameters&gt;
12521       &lt;param id=&quot;jni_env&quot;&gt;
12522         &lt;outptr&gt;
12523           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12524         &lt;/outptr&gt;
12525           &lt;description&gt;
12526             The JNI environment of the event (current) thread
12527           &lt;/description&gt;
12528       &lt;/param&gt;
12529       &lt;param id=&quot;thread&quot;&gt;
12530 	&lt;jthread/&gt;
12531 	  &lt;description&gt;
12532 	    Thread generating the exception
12533 	  &lt;/description&gt;
12534       &lt;/param&gt;
12535       &lt;param id=&quot;klass&quot;&gt;
12536 	&lt;jclass method=&quot;method&quot;/&gt;
12537 	  &lt;description&gt;
12538 	    Class generating the exception
12539 	  &lt;/description&gt;
12540       &lt;/param&gt;
12541       &lt;param id=&quot;method&quot;&gt;
12542 	&lt;jmethodID class=&quot;klass&quot;/&gt;
12543 	  &lt;description&gt;
12544 	    Method generating the exception
12545 	  &lt;/description&gt;
12546       &lt;/param&gt;
12547       &lt;param id=&quot;location&quot;&gt;
12548 	&lt;jlocation/&gt;
12549 	&lt;description&gt;
12550 	  Location where exception occurred
12551 	&lt;/description&gt;
12552       &lt;/param&gt;
12553       &lt;param id=&quot;exception&quot;&gt;
12554 	&lt;jobject/&gt;
12555 	  &lt;description&gt;
12556 	    The exception being thrown
12557 	  &lt;/description&gt;
12558       &lt;/param&gt;
12559       &lt;param id=&quot;catch_klass&quot;&gt;
12560 	&lt;jclass method=&quot;catch_method&quot;/&gt;
12561 	  &lt;description&gt;
12562 	    Class that will catch the exception, or &lt;code&gt;NULL&lt;/code&gt; if no known catch
12563 	  &lt;/description&gt;
12564       &lt;/param&gt;
12565       &lt;param id=&quot;catch_method&quot;&gt;
12566 	&lt;jmethodID class=&quot;catch_klass&quot;/&gt;
12567 	  &lt;description&gt;
12568 	    Method that will catch the exception, or &lt;code&gt;NULL&lt;/code&gt; if no known catch
12569 	  &lt;/description&gt;
12570       &lt;/param&gt;
12571       &lt;param id=&quot;catch_location&quot;&gt;
12572 	&lt;jlocation/&gt;
12573 	&lt;description&gt;
12574 	  location which will catch the exception or zero if no known catch
12575 	&lt;/description&gt;
12576       &lt;/param&gt;
12577     &lt;/parameters&gt;
12578   &lt;/event&gt;
12579 
12580   &lt;event label=&quot;Exception Catch&quot;
12581 	 id=&quot;ExceptionCatch&quot; const=&quot;JVMTI_EVENT_EXCEPTION_CATCH&quot; filtered=&quot;thread&quot; num=&quot;59&quot;&gt;
12582     &lt;description&gt;
12583       Exception catch events are generated whenever a thrown exception is caught.
12584       Where &quot;exception&quot; means any &lt;code&gt;java.lang.Throwable&lt;/code&gt;.
12585       If the exception is caught in a Java programming language method, the event is generated
12586       when the catch clause is reached. If the exception is caught in a native
12587       method, the event is generated as soon as control is returned to a Java programming language
12588       method. Exception catch events are generated for any exception for which
12589       a throw was detected in a Java programming language method.
12590       Note that finally clauses are implemented as catch and re-throw. Therefore they
12591       will generate exception catch events.
12592       &lt;p/&gt;
12593       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12594       parameters uniquely identify the current location
12595       and allow the mapping to source file and line number when that information is
12596       available. For exceptions caught in a Java programming language method, the
12597       &lt;code&gt;exception&lt;/code&gt; object identifies the exception object. Exceptions
12598       caught in native methods are not necessarily available by the time the
12599       exception catch is reported, so the &lt;code&gt;exception&lt;/code&gt; field is set
12600       to &lt;code&gt;NULL&lt;/code&gt;.
12601     &lt;/description&gt;
12602     &lt;origin&gt;jvmdi&lt;/origin&gt;
12603     &lt;capabilities&gt;
12604       &lt;required id=&quot;can_generate_exception_events&quot;&gt;&lt;/required&gt;
12605     &lt;/capabilities&gt;
12606     &lt;parameters&gt;
12607       &lt;param id=&quot;jni_env&quot;&gt;
12608         &lt;outptr&gt;
12609           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12610         &lt;/outptr&gt;
12611           &lt;description&gt;
12612             The JNI environment of the event (current) thread
12613           &lt;/description&gt;
12614       &lt;/param&gt;
12615       &lt;param id=&quot;thread&quot;&gt;
12616 	&lt;jthread/&gt;
12617 	  &lt;description&gt;
12618 	    Thread catching the exception
12619 	  &lt;/description&gt;
12620       &lt;/param&gt;
12621       &lt;param id=&quot;klass&quot;&gt;
12622 	&lt;jclass method=&quot;method&quot;/&gt;
12623 	  &lt;description&gt;
12624 	    Class catching the exception
12625 	  &lt;/description&gt;
12626       &lt;/param&gt;
12627       &lt;param id=&quot;method&quot;&gt;
12628 	&lt;jmethodID class=&quot;klass&quot;/&gt;
12629 	  &lt;description&gt;
12630 	    Method catching the exception
12631 	  &lt;/description&gt;
12632       &lt;/param&gt;
12633       &lt;param id=&quot;location&quot;&gt;
12634 	&lt;jlocation/&gt;
12635 	&lt;description&gt;
12636 	  Location where exception is being caught
12637 	&lt;/description&gt;
12638       &lt;/param&gt;
12639       &lt;param id=&quot;exception&quot;&gt;
12640 	&lt;jobject/&gt;
12641 	  &lt;description&gt;
12642 	    Exception being caught
12643 	  &lt;/description&gt;
12644       &lt;/param&gt;
12645     &lt;/parameters&gt;
12646   &lt;/event&gt;
12647 
12648   &lt;event label=&quot;Thread Start&quot;
12649 	 id=&quot;ThreadStart&quot; const=&quot;JVMTI_EVENT_THREAD_START&quot; num=&quot;52&quot; phase=&quot;start&quot;&gt;
12650     &lt;description&gt;
12651       Thread start events are generated by a new thread before its initial
12652       method executes.
12653       &lt;p/&gt;
12654       A thread may be listed in the array returned by
12655       &lt;functionlink id=&quot;GetAllThreads&quot;&gt;&lt;/functionlink&gt;
12656       before its thread start event is generated.
12657       It is possible for other events to be generated
12658       on a thread before its thread start event.
12659       &lt;p/&gt;
12660       The event is sent on the newly started &lt;paramlink id=&quot;thread&quot;&gt;&lt;/paramlink&gt;.
12661     &lt;/description&gt;
12662     &lt;origin&gt;jvmdi&lt;/origin&gt;
12663     &lt;capabilities&gt;
12664     &lt;/capabilities&gt;
12665     &lt;parameters&gt;
12666       &lt;param id=&quot;jni_env&quot;&gt;
12667         &lt;outptr&gt;
12668           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12669         &lt;/outptr&gt;
12670           &lt;description&gt;
12671             The JNI environment of the event (current) thread.
12672           &lt;/description&gt;
12673       &lt;/param&gt;
12674       &lt;param id=&quot;thread&quot;&gt;
12675 	&lt;jthread/&gt;
12676 	  &lt;description&gt;
12677 	    Thread starting
12678 	  &lt;/description&gt;
12679       &lt;/param&gt;
12680     &lt;/parameters&gt;
12681   &lt;/event&gt;
12682 
12683   &lt;event label=&quot;Thread End&quot;
12684 	 id=&quot;ThreadEnd&quot; const=&quot;JVMTI_EVENT_THREAD_END&quot; filtered=&quot;thread&quot; num=&quot;53&quot; phase=&quot;start&quot;&gt;
12685     &lt;description&gt;
12686       Thread end events are generated by a terminating thread
12687       after its initial method has finished execution.
12688       &lt;p/&gt;
12689       A thread may be listed in the array returned by
12690       &lt;functionlink id=&quot;GetAllThreads&quot;&gt;&lt;/functionlink&gt;
12691       after its thread end event is generated.
12692       No events are generated on a thread
12693       after its thread end event.
12694       &lt;p/&gt;
12695       The event is sent on the dying &lt;paramlink id=&quot;thread&quot;&gt;&lt;/paramlink&gt;.
12696     &lt;/description&gt;
12697     &lt;origin&gt;jvmdi&lt;/origin&gt;
12698     &lt;capabilities&gt;
12699     &lt;/capabilities&gt;
12700     &lt;parameters&gt;
12701       &lt;param id=&quot;jni_env&quot;&gt;
12702         &lt;outptr&gt;
12703           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12704         &lt;/outptr&gt;
12705           &lt;description&gt;
12706             The JNI environment of the event (current) thread.
12707           &lt;/description&gt;
12708       &lt;/param&gt;
12709       &lt;param id=&quot;thread&quot;&gt;
12710 	&lt;jthread/&gt;
12711 	  &lt;description&gt;
12712 	    Thread ending
12713 	  &lt;/description&gt;
12714       &lt;/param&gt;
12715     &lt;/parameters&gt;
12716   &lt;/event&gt;
12717 
12718   &lt;event label=&quot;Class Load&quot;
12719 	 id=&quot;ClassLoad&quot; const=&quot;JVMTI_EVENT_CLASS_LOAD&quot; filtered=&quot;thread&quot; phase=&quot;start&quot; num=&quot;55&quot;&gt;
12720     &lt;description&gt;
12721       A class load event is generated when a class is first loaded. The order
12722       of class load events generated by a particular thread are guaranteed
12723       to match the order of class loading within that thread.
12724       Array class creation does not generate a class load event.
12725       The creation of a primitive class (for example, java.lang.Integer.TYPE)
12726       does not generate a class load event.
12727       &lt;p/&gt;
12728       This event is sent at an early stage in loading the class. As
12729       a result the class should be used carefully.  Note, for example,
12730       that methods and fields are not yet loaded, so queries for methods,
12731       fields, subclasses, and so on will not give correct results.
12732       See &quot;Loading of Classes and Interfaces&quot; in the &lt;i&gt;Java Language
12733       Specification&lt;/i&gt;.  For most
12734       purposes the &lt;eventlink id=&quot;ClassPrepare&quot;&gt;&lt;/eventlink&gt; event will
12735       be more useful.
12736     &lt;/description&gt;
12737     &lt;origin&gt;jvmdi&lt;/origin&gt;
12738     &lt;capabilities&gt;
12739     &lt;/capabilities&gt;
12740     &lt;parameters&gt;
12741       &lt;param id=&quot;jni_env&quot;&gt;
12742         &lt;outptr&gt;
12743           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12744         &lt;/outptr&gt;
12745           &lt;description&gt;
12746             The JNI environment of the event (current) thread
12747           &lt;/description&gt;
12748       &lt;/param&gt;
12749       &lt;param id=&quot;thread&quot;&gt;
12750 	&lt;jthread/&gt;
12751 	  &lt;description&gt;
12752 	    Thread loading the class
12753 	  &lt;/description&gt;
12754       &lt;/param&gt;
12755       &lt;param id=&quot;klass&quot;&gt;
12756 	&lt;jclass/&gt;
12757 	  &lt;description&gt;
12758 	    Class being loaded
12759 	  &lt;/description&gt;
12760       &lt;/param&gt;
12761     &lt;/parameters&gt;
12762   &lt;/event&gt;
12763 
12764   &lt;elide&gt;
12765   &lt;event label=&quot;Class Unload&quot;
12766 	 id=&quot;ClassUnload&quot; const=&quot;JVMTI_EVENT_CLASS_UNLOAD&quot; num=&quot;57&quot;&gt;
12767     &lt;description&gt;
12768       A class unload event is generated when the class is about to be unloaded.
12769       Class unload events take place during garbage collection and must be
12770       handled extremely carefully. The garbage collector holds many locks
12771       and has suspended all other threads, so the event handler cannot depend
12772       on the ability to acquire any locks. The class unload event handler should
12773       do as little as possible, perhaps by queuing information to be processed
12774       later.  In particular, the &lt;code&gt;jclass&lt;/code&gt; should be used only in
12775       the JNI function &lt;code&gt;isSameObject&lt;/code&gt; or in the following &lt;jvmti/&gt; functions:
12776       &lt;ul&gt;
12777 	&lt;li&gt;&lt;functionlink id=&quot;GetClassSignature&quot;&gt;&lt;/functionlink&gt;&lt;/li&gt;
12778 	&lt;li&gt;&lt;functionlink id=&quot;GetSourceFileName&quot;&gt;&lt;/functionlink&gt;&lt;/li&gt;
12779 	&lt;li&gt;&lt;functionlink id=&quot;IsInterface&quot;&gt;&lt;/functionlink&gt;&lt;/li&gt;
12780 	&lt;li&gt;&lt;functionlink id=&quot;IsArrayClass&quot;&gt;&lt;/functionlink&gt;&lt;/li&gt;
12781       &lt;/ul&gt;
12782     &lt;/description&gt;
12783     &lt;origin&gt;jvmdi&lt;/origin&gt;
12784     &lt;capabilities&gt;
12785     &lt;/capabilities&gt;
12786     &lt;parameters&gt;
12787       &lt;param id=&quot;jni_env&quot;&gt;
12788         &lt;outptr&gt;
12789           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12790         &lt;/outptr&gt;
12791           &lt;description&gt;
12792             The JNI environment of the event (current) thread
12793           &lt;/description&gt;
12794       &lt;/param&gt;
12795       &lt;param id=&quot;thread&quot;&gt;
12796 	&lt;jthread/&gt;
12797 	  &lt;description&gt;
12798 	    Thread generating the class unload
12799 	  &lt;/description&gt;
12800       &lt;/param&gt;
12801       &lt;param id=&quot;klass&quot;&gt;
12802 	&lt;jclass/&gt;
12803 	  &lt;description&gt;
12804 	    Class being unloaded
12805 	  &lt;/description&gt;
12806       &lt;/param&gt;
12807     &lt;/parameters&gt;
12808   &lt;/event&gt;
12809   &lt;/elide&gt;
12810 
12811   &lt;event label=&quot;Class Prepare&quot;
12812 	 id=&quot;ClassPrepare&quot; const=&quot;JVMTI_EVENT_CLASS_PREPARE&quot; filtered=&quot;thread&quot; phase=&quot;start&quot; num=&quot;56&quot;&gt;
12813     &lt;description&gt;
12814       A class prepare event is generated when class preparation is complete.
12815       At this point, class fields, methods, and implemented interfaces are
12816       available, and no code from the class has been executed. Since array
12817       classes never have fields or methods, class prepare events are not
12818       generated for them. Class prepare events are not generated for
12819       primitive classes (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
12820     &lt;/description&gt;
12821     &lt;origin&gt;jvmdi&lt;/origin&gt;
12822     &lt;capabilities&gt;
12823     &lt;/capabilities&gt;
12824     &lt;parameters&gt;
12825       &lt;param id=&quot;jni_env&quot;&gt;
12826         &lt;outptr&gt;
12827           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12828         &lt;/outptr&gt;
12829           &lt;description&gt;
12830             The JNI environment of the event (current) thread
12831           &lt;/description&gt;
12832       &lt;/param&gt;
12833       &lt;param id=&quot;thread&quot;&gt;
12834 	&lt;jthread/&gt;
12835 	  &lt;description&gt;
12836 	    Thread generating the class prepare
12837 	  &lt;/description&gt;
12838       &lt;/param&gt;
12839       &lt;param id=&quot;klass&quot;&gt;
12840 	&lt;jclass/&gt;
12841 	  &lt;description&gt;
12842 	    Class being prepared
12843 	  &lt;/description&gt;
12844       &lt;/param&gt;
12845     &lt;/parameters&gt;
12846   &lt;/event&gt;
12847 
12848   &lt;event label=&quot;Class File Load Hook&quot; phase=&quot;any&quot;
12849 	 id=&quot;ClassFileLoadHook&quot; const=&quot;JVMTI_EVENT_CLASS_FILE_LOAD_HOOK&quot; num=&quot;54&quot;&gt;
12850     &lt;description&gt;
12851       This event is sent when the VM obtains class file data,
12852       but before it constructs
12853       the in-memory representation for that class.
12854       This event is also sent when the class is being modified by the
12855       &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; function or
12856       the &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; function,
12857       called in any &lt;jvmti/&gt; environment.
12858       The agent can instrument
12859       the existing class file data sent by the VM to include profiling/debugging hooks.
12860       See the description of
12861       &lt;internallink id=&quot;bci&quot;&gt;bytecode instrumentation&lt;/internallink&gt;
12862       for usage information.
12863       &lt;p/&gt;
12864     When the capabilities
12865     &lt;internallink id=&quot;jvmtiCapabilities.can_generate_early_class_hook_events&quot;&gt;
12866     &lt;code&gt;can_generate_early_class_hook_events&lt;/code&gt;&lt;/internallink&gt; and
12867     &lt;internallink id=&quot;jvmtiCapabilities.can_generate_all_class_hook_events&quot;&gt;
12868     &lt;code&gt;can_generate_all_class_hook_events&lt;/code&gt;&lt;/internallink&gt;
12869     are enabled then this event may be sent in the primordial phase.
12870     Otherwise, this event may be sent before the VM is initialized (the start
12871     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;).
12872     Some classes might not be compatible
12873     with the function (eg. ROMized classes or implementation defined classes) and this event will
12874     not be generated for these classes.
12875     &lt;p/&gt;
12876     The agent must allocate the space for the modified
12877     class file data buffer
12878     using the memory allocation function
12879     &lt;functionlink id=&quot;Allocate&quot;&gt;&lt;/functionlink&gt; because the
12880     VM is responsible for freeing the new class file data buffer
12881     using &lt;functionlink id=&quot;Deallocate&quot;&gt;&lt;/functionlink&gt;.
12882     &lt;p/&gt;
12883     If the agent wishes to modify the class file, it must set
12884     &lt;code&gt;new_class_data&lt;/code&gt; to point
12885     to the newly instrumented class file data buffer and set
12886     &lt;code&gt;new_class_data_len&lt;/code&gt; to the length of that
12887     buffer before returning
12888     from this call.  If no modification is desired, the agent simply
12889     does not set &lt;code&gt;new_class_data&lt;/code&gt;.  If multiple agents
12890     have enabled this event the results are chained. That is, if
12891     &lt;code&gt;new_class_data&lt;/code&gt; has been set, it becomes the
12892     &lt;code&gt;class_data&lt;/code&gt; for the next agent.
12893     &lt;p/&gt;
12894     When handling a class load in the live phase, then the
12895     &lt;functionlink id=&quot;GetNamedModule&quot;&gt;&lt;/functionlink&gt;
12896     function can be used to map class loader and a package name to a module.
12897     When a class is being redefined or retransformed then
12898     &lt;code&gt;class_being_redefined&lt;/code&gt; is non &lt;code&gt;NULL&lt;/code&gt; and so
12899     the JNI &lt;code&gt;GetModule&lt;/code&gt; function can also be used
12900     to obtain the Module.
12901     &lt;p/&gt;
12902     The order that this event is sent to each environment differs
12903     from other events.
12904     This event is sent to environments in the following order:
12905     &lt;ul&gt;
12906       &lt;li&gt;&lt;fieldlink id=&quot;can_retransform_classes&quot;
12907                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
12908                                                 incapable&lt;/fieldlink&gt;
12909           environments, in the
12910           order in which they were created
12911       &lt;/li&gt;
12912       &lt;li&gt;&lt;fieldlink id=&quot;can_retransform_classes&quot;
12913                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
12914                                                 capable&lt;/fieldlink&gt;
12915           environments, in the
12916           order in which they were created
12917       &lt;/li&gt;
12918     &lt;/ul&gt;
12919     When triggered by &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;,
12920     this event is sent only to &lt;fieldlink id=&quot;can_retransform_classes&quot;
12921                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
12922                                                 capable&lt;/fieldlink&gt;
12923     environments.
12924   &lt;/description&gt;
12925   &lt;origin&gt;jvmpi&lt;/origin&gt;
12926     &lt;capabilities&gt;
12927       &lt;capability id=&quot;can_generate_all_class_hook_events&quot;&gt;&lt;/capability&gt;
12928       &lt;capability id=&quot;can_generate_early_class_hook_events&quot;&gt;&lt;/capability&gt;
12929     &lt;/capabilities&gt;
12930     &lt;parameters&gt;
12931       &lt;param id=&quot;jni_env&quot;&gt;
12932         &lt;outptr&gt;
12933           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12934         &lt;/outptr&gt;
12935           &lt;description&gt;
12936             The JNI environment of the event (current) thread.
12937           &lt;/description&gt;
12938       &lt;/param&gt;
12939       &lt;param id=&quot;class_being_redefined&quot;&gt;
12940 	&lt;jclass/&gt;
12941 	&lt;description&gt;
12942 	  The class being
12943           &lt;functionlink id=&quot;RedefineClasses&quot;&gt;redefined&lt;/functionlink&gt; or
12944           &lt;functionlink id=&quot;RetransformClasses&quot;&gt;retransformed&lt;/functionlink&gt;.
12945           &lt;code&gt;NULL&lt;/code&gt; if sent by class load.
12946 	&lt;/description&gt;
12947       &lt;/param&gt;
12948       &lt;param id=&quot;loader&quot;&gt;
12949 	&lt;jobject/&gt;
12950 	  &lt;description&gt;
12951 	    The class loader loading the class.
12952             &lt;code&gt;NULL&lt;/code&gt; if the bootstrap class loader.
12953 	  &lt;/description&gt;
12954       &lt;/param&gt;
12955       &lt;param id=&quot;name&quot;&gt;
12956 	&lt;vmbuf&gt;&lt;char/&gt;&lt;/vmbuf&gt;
12957 	&lt;description&gt;
12958             Name of class being loaded as a VM internal qualified name
12959             (for example, &quot;java/util/List&quot;), encoded as a
12960 	    &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
12961             Note: if the class is defined with a &lt;code&gt;NULL&lt;/code&gt; name or
12962             without a name specified, &lt;code&gt;name&lt;/code&gt; will be &lt;code&gt;NULL&lt;/code&gt;.
12963 	&lt;/description&gt;
12964       &lt;/param&gt;
12965       &lt;param id=&quot;protection_domain&quot;&gt;
12966 	&lt;jobject/&gt;
12967 	&lt;description&gt;
12968 	  The &lt;code&gt;ProtectionDomain&lt;/code&gt; of the class.
12969 	&lt;/description&gt;
12970       &lt;/param&gt;
12971       &lt;param id=&quot;class_data_len&quot;&gt;
12972 	&lt;jint/&gt;
12973 	&lt;description&gt;
12974 	  Length of current class file data buffer.
12975 	&lt;/description&gt;
12976       &lt;/param&gt;
12977       &lt;param id=&quot;class_data&quot;&gt;
12978 	&lt;vmbuf&gt;&lt;uchar/&gt;&lt;/vmbuf&gt;
12979 	&lt;description&gt;
12980 	  Pointer to the current class file data buffer.
12981 	&lt;/description&gt;
12982       &lt;/param&gt;
12983       &lt;param id=&quot;new_class_data_len&quot;&gt;
12984 	&lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
12985 	&lt;description&gt;
12986 	  Pointer to the length of the new class file data buffer.
12987 	&lt;/description&gt;
12988       &lt;/param&gt;
12989       &lt;param id=&quot;new_class_data&quot;&gt;
12990         &lt;agentbuf incount=&quot;new_class_data_len&quot;&gt;&lt;uchar/&gt;&lt;/agentbuf&gt;
12991 	&lt;description&gt;
12992 	  Pointer to the pointer to the instrumented class file data buffer.
12993 	&lt;/description&gt;
12994       &lt;/param&gt;
12995     &lt;/parameters&gt;
12996   &lt;/event&gt;
12997 
12998   &lt;event label=&quot;VM Start Event&quot;
12999 	 id=&quot;VMStart&quot; const=&quot;JVMTI_EVENT_VM_START&quot; num=&quot;57&quot; phase=&quot;start&quot;&gt;
13000     &lt;description&gt;
13001       The VM start event signals the start of the VM.
13002       At this time JNI is live but the VM is not yet fully initialized.
13003       Once this event is generated, the agent is free to call any JNI function.
13004       This event signals the beginning of the start phase,
13005       &lt;jvmti/&gt; functions permitted in the start phase may be called.
13006       &lt;p/&gt;
13007       The timing of this event may depend on whether the agent has added the
13008       &lt;internallink id=&quot;jvmtiCapabilities.can_generate_early_vmstart&quot;&gt;
13009       &lt;code&gt;can_generate_early_vmstart&lt;/code&gt;&lt;/internallink&gt; capability or not.
13010       If the capability has been added then the VM posts the event as early
13011       as possible. The VM is capable of executing bytecode but it may not have
13012       initialized to the point where it can load classes in modules other than
13013       &lt;code&gt;java.base&lt;/code&gt;, or even arbitrary classes in &lt;code&gt;java.base&lt;/code&gt;.
13014       Agents that do load-time instrumentation in this
13015       phase must take great care when instrumenting code that potentially
13016       executes in this phase. Extreme care should also be taken with JNI
13017       &lt;code&gt;FindClass&lt;/code&gt; as it may not be possible to load classes and attempts
13018       to do so may result in unpredictable behavior, maybe even stability issues
13019       on some VM implementations.
13020       If the capability has not been added then the VM delays posting this
13021       event until it is capable of loading classes in modules other than
13022       &lt;code&gt;java.base&lt;/code&gt; or the VM has completed its initialization.
13023       Agents that create more than one JVM TI environment, where the
13024       capability is added to some but not all environments, may observe the
13025       start phase beginning earlier in the JVM TI environments that possess
13026       the capability.
13027       &lt;p/&gt;
13028       In the case of VM start-up failure, this event will not be sent.
13029     &lt;/description&gt;
13030     &lt;origin&gt;jvmdi&lt;/origin&gt;
13031     &lt;capabilities&gt;
13032     &lt;/capabilities&gt;
13033     &lt;parameters&gt;
13034       &lt;param id=&quot;jni_env&quot;&gt;
13035         &lt;outptr&gt;
13036           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13037         &lt;/outptr&gt;
13038           &lt;description&gt;
13039             The JNI environment of the event (current) thread.
13040           &lt;/description&gt;
13041       &lt;/param&gt;
13042     &lt;/parameters&gt;
13043   &lt;/event&gt;
13044 
13045   &lt;event label=&quot;VM Initialization Event&quot;
13046 	 id=&quot;VMInit&quot; const=&quot;JVMTI_EVENT_VM_INIT&quot; num=&quot;50&quot;&gt;
13047     &lt;description&gt;
13048       The VM initialization event signals the completion of VM initialization. Once
13049       this event is generated, the agent is free to call any JNI or &lt;jvmti/&gt;
13050       function. The VM initialization event can be preceded by or can be concurrent
13051       with other events, but
13052       the preceding events should be handled carefully, if at all, because the
13053       VM has not completed its initialization. The thread start event for the
13054       main application thread is guaranteed not to occur until after the
13055       handler for the VM initialization event returns.
13056       &lt;p/&gt;
13057       In the case of VM start-up failure, this event will not be sent.
13058     &lt;/description&gt;
13059     &lt;origin&gt;jvmdi&lt;/origin&gt;
13060     &lt;capabilities&gt;
13061     &lt;/capabilities&gt;
13062     &lt;parameters&gt;
13063       &lt;param id=&quot;jni_env&quot;&gt;
13064         &lt;outptr&gt;
13065           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13066         &lt;/outptr&gt;
13067           &lt;description&gt;
13068             The JNI environment of the event (current) thread.
13069           &lt;/description&gt;
13070       &lt;/param&gt;
13071       &lt;param id=&quot;thread&quot;&gt;
13072 	&lt;jthread/&gt;
13073 	  &lt;description&gt;
13074 	    The initial thread
13075 	  &lt;/description&gt;
13076       &lt;/param&gt;
13077     &lt;/parameters&gt;
13078   &lt;/event&gt;
13079 
13080   &lt;event label=&quot;VM Death Event&quot;
13081 	 id=&quot;VMDeath&quot; const=&quot;JVMTI_EVENT_VM_DEATH&quot; num=&quot;51&quot;&gt;
13082     &lt;description&gt;
13083       The VM death event notifies the agent of the termination of the VM.
13084       No events will occur after the VMDeath event.
13085       &lt;p/&gt;
13086       In the case of VM start-up failure, this event will not be sent.
13087       Note that &lt;internallink id=&quot;onunload&quot;&gt;Agent_OnUnload&lt;/internallink&gt;
13088       will still be called in these cases.
13089     &lt;/description&gt;
13090     &lt;origin&gt;jvmdi&lt;/origin&gt;
13091     &lt;capabilities&gt;
13092     &lt;/capabilities&gt;
13093     &lt;parameters&gt;
13094       &lt;param id=&quot;jni_env&quot;&gt;
13095         &lt;outptr&gt;
13096           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13097         &lt;/outptr&gt;
13098           &lt;description&gt;
13099             The JNI environment of the event (current) thread
13100           &lt;/description&gt;
13101       &lt;/param&gt;
13102     &lt;/parameters&gt;
13103   &lt;/event&gt;
13104 
13105   &lt;event label=&quot;Compiled Method Load&quot; phase=&quot;start&quot;
13106 	 id=&quot;CompiledMethodLoad&quot; const=&quot;JVMTI_EVENT_COMPILED_METHOD_LOAD&quot; num=&quot;68&quot;&gt;
13107     &lt;description&gt;
13108       Sent when a method is compiled and loaded into memory by the VM.
13109       If it is unloaded, the &lt;eventlink id=&quot;CompiledMethodUnload&quot;/&gt; event is sent.
13110       If it is moved, the &lt;eventlink id=&quot;CompiledMethodUnload&quot;/&gt; event is sent,
13111       followed by a new &lt;code&gt;CompiledMethodLoad&lt;/code&gt; event.
13112       Note that a single method may have multiple compiled forms, and that
13113       this event will be sent for each form.
13114       Note also that several methods may be inlined into a single
13115       address range, and that this event will be sent for each method.
13116       &lt;p/&gt;
13117       These events can be sent after their initial occurrence with
13118       &lt;functionlink id=&quot;GenerateEvents&quot;&gt;&lt;/functionlink&gt;.
13119     &lt;/description&gt;
13120     &lt;origin&gt;jvmpi&lt;/origin&gt;
13121     &lt;typedef id=&quot;jvmtiAddrLocationMap&quot; label=&quot;Native address to location entry&quot;&gt;
13122       &lt;field id=&quot;start_address&quot;&gt;
13123 	&lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13124 	&lt;description&gt;
13125 	  Starting native address of code corresponding to a location
13126 	&lt;/description&gt;
13127       &lt;/field&gt;
13128       &lt;field id=&quot;location&quot;&gt;
13129 	&lt;jlocation/&gt;
13130 	&lt;description&gt;
13131 	  Corresponding location. See
13132 	  &lt;functionlink id=&quot;GetJLocationFormat&quot;&gt;&lt;/functionlink&gt;
13133 	  for the meaning of location.
13134 	&lt;/description&gt;
13135       &lt;/field&gt;
13136     &lt;/typedef&gt;
13137     &lt;capabilities&gt;
13138       &lt;required id=&quot;can_generate_compiled_method_load_events&quot;&gt;&lt;/required&gt;
13139     &lt;/capabilities&gt;
13140     &lt;parameters&gt;
13141       &lt;param id=&quot;klass&quot;&gt;
13142 	&lt;jclass method=&quot;method&quot;/&gt;
13143 	  &lt;description&gt;
13144 	    Class of the method being compiled and loaded
13145 	  &lt;/description&gt;
13146       &lt;/param&gt;
13147       &lt;param id=&quot;method&quot;&gt;
13148 	&lt;jmethodID class=&quot;klass&quot;/&gt;
13149 	  &lt;description&gt;
13150 	    Method being compiled and loaded
13151 	  &lt;/description&gt;
13152       &lt;/param&gt;
13153       &lt;param id=&quot;code_size&quot;&gt;
13154 	&lt;jint/&gt;
13155 	&lt;description&gt;
13156 	  Size of compiled code
13157 	&lt;/description&gt;
13158       &lt;/param&gt;
13159       &lt;param id=&quot;code_addr&quot;&gt;
13160 	&lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13161 	&lt;description&gt;
13162 	  Address where compiled method code is loaded
13163 	&lt;/description&gt;
13164       &lt;/param&gt;
13165       &lt;param id=&quot;map_length&quot;&gt;
13166 	&lt;jint/&gt;
13167 	&lt;description&gt;
13168 	  Number of &lt;typelink id=&quot;jvmtiAddrLocationMap&quot;&gt;&lt;/typelink&gt;
13169 	  entries in the address map.
13170 	  Zero if mapping information cannot be supplied.
13171 	&lt;/description&gt;
13172       &lt;/param&gt;
13173       &lt;param id=&quot;map&quot;&gt;
13174 	&lt;vmbuf&gt;&lt;struct&gt;jvmtiAddrLocationMap&lt;/struct&gt;&lt;/vmbuf&gt;
13175 	&lt;description&gt;
13176 	  Map from native addresses to location.
13177 	  The native address range of each entry is from
13178 	  &lt;fieldlink id=&quot;start_address&quot; struct=&quot;jvmtiAddrLocationMap&quot;&gt;&lt;/fieldlink&gt;
13179 	  to &lt;code&gt;start_address-1&lt;/code&gt; of the next entry.
13180 	  &lt;code&gt;NULL&lt;/code&gt; if mapping information cannot be supplied.
13181 	&lt;/description&gt;
13182       &lt;/param&gt;
13183       &lt;param id=&quot;compile_info&quot;&gt;
13184 	&lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13185 	&lt;description&gt;
13186 	  VM-specific compilation information.
13187 	  The referenced compile information is managed by the VM
13188 	  and must not depend on the agent for collection.
13189 	  A VM implementation defines the content and lifetime
13190 	  of the information.
13191 	&lt;/description&gt;
13192       &lt;/param&gt;
13193     &lt;/parameters&gt;
13194   &lt;/event&gt;
13195 
13196   &lt;event label=&quot;Compiled Method Unload&quot; phase=&quot;start&quot;
13197 	 id=&quot;CompiledMethodUnload&quot; const=&quot;JVMTI_EVENT_COMPILED_METHOD_UNLOAD&quot; num=&quot;69&quot;&gt;
13198     &lt;description&gt;
13199       Sent when a compiled method is unloaded from memory.
13200       This event might not be sent on the thread which performed the unload.
13201       This event may be sent sometime after the unload occurs, but
13202       will be sent before the memory is reused
13203       by a newly generated compiled method. This event may be sent after
13204       the class is unloaded.
13205     &lt;/description&gt;
13206     &lt;origin&gt;jvmpi&lt;/origin&gt;
13207     &lt;capabilities&gt;
13208       &lt;required id=&quot;can_generate_compiled_method_load_events&quot;&gt;&lt;/required&gt;
13209     &lt;/capabilities&gt;
13210     &lt;parameters&gt;
13211       &lt;param id=&quot;klass&quot;&gt;
13212 	&lt;jclass method=&quot;method&quot;/&gt;
13213 	  &lt;description&gt;
13214 	    Class of the compiled method being unloaded.
13215 	  &lt;/description&gt;
13216       &lt;/param&gt;
13217       &lt;param id=&quot;method&quot;&gt;
13218 	&lt;jmethodID class=&quot;klass&quot;/&gt;
13219 	  &lt;description&gt;
13220 	    Compiled method being unloaded.
13221 	    For identification of the compiled method only -- the class
13222 	    may be unloaded and therefore the method should not be used
13223 	    as an argument to further JNI or &lt;jvmti/&gt; functions.
13224 	  &lt;/description&gt;
13225       &lt;/param&gt;
13226       &lt;param id=&quot;code_addr&quot;&gt;
13227 	&lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13228 	&lt;description&gt;
13229 	  Address where compiled method code was loaded.
13230           For identification of the compiled method only --
13231           the space may have been reclaimed.
13232 	&lt;/description&gt;
13233       &lt;/param&gt;
13234     &lt;/parameters&gt;
13235   &lt;/event&gt;
13236 
13237   &lt;event label=&quot;Dynamic Code Generated&quot; phase=&quot;any&quot;
13238 	 id=&quot;DynamicCodeGenerated&quot; const=&quot;JVMTI_EVENT_DYNAMIC_CODE_GENERATED&quot; num=&quot;70&quot;&gt;
13239     &lt;description&gt;
13240       Sent when a component of the virtual machine is generated dynamically.
13241       This does not correspond to Java programming language code that is
13242       compiled--see &lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;/eventlink&gt;.
13243       This is for native code--for example, an interpreter that is generated
13244       differently depending on command-line options.
13245       &lt;p/&gt;
13246       Note that this event has no controlling capability.
13247       If a VM cannot generate these events, it simply does not send any.
13248       &lt;p/&gt;
13249       These events can be sent after their initial occurrence with
13250       &lt;functionlink id=&quot;GenerateEvents&quot;&gt;&lt;/functionlink&gt;.
13251     &lt;/description&gt;
13252     &lt;origin&gt;jvmpi&lt;/origin&gt;
13253     &lt;capabilities&gt;
13254     &lt;/capabilities&gt;
13255     &lt;parameters&gt;
13256       &lt;param id=&quot;name&quot;&gt;
13257 	&lt;vmbuf&gt;&lt;char/&gt;&lt;/vmbuf&gt;
13258 	&lt;description&gt;
13259 	  Name of the code, encoded as a
13260 	  &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
13261           Intended for display to an end-user.
13262           The name might not be unique.
13263 	&lt;/description&gt;
13264       &lt;/param&gt;
13265       &lt;param id=&quot;address&quot;&gt;
13266 	&lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13267 	&lt;description&gt;
13268 	  Native address of the code
13269 	&lt;/description&gt;
13270       &lt;/param&gt;
13271       &lt;param id=&quot;length&quot;&gt;
13272 	&lt;jint/&gt;
13273 	&lt;description&gt;
13274 	  Length in bytes of the code
13275 	&lt;/description&gt;
13276       &lt;/param&gt;
13277     &lt;/parameters&gt;
13278   &lt;/event&gt;
13279 
13280   &lt;event label=&quot;Data Dump Request&quot;
13281 	 id=&quot;DataDumpRequest&quot; const=&quot;JVMTI_EVENT_DATA_DUMP_REQUEST&quot; num=&quot;71&quot;&gt;
13282     &lt;description&gt;
13283       Sent by the VM to request the agent to dump its data.  This
13284       is just a hint and the agent need not react to this event.
13285       This is useful for processing command-line signals from users.  For
13286       example, in the Java 2 SDK a CTRL-Break on Win32 and a CTRL-\ on Solaris
13287       causes the VM to send this event to the agent.
13288     &lt;/description&gt;
13289     &lt;origin&gt;jvmpi&lt;/origin&gt;
13290     &lt;capabilities&gt;
13291     &lt;/capabilities&gt;
13292     &lt;parameters&gt;
13293     &lt;/parameters&gt;
13294   &lt;/event&gt;
13295 
13296   &lt;event label=&quot;Monitor Contended Enter&quot;
13297 	 id=&quot;MonitorContendedEnter&quot; const=&quot;JVMTI_EVENT_MONITOR_CONTENDED_ENTER&quot; filtered=&quot;thread&quot; num=&quot;75&quot;&gt;
13298     &lt;description&gt;
13299       Sent when a thread is attempting to enter a Java programming language
13300       monitor already acquired by another thread.
13301     &lt;/description&gt;
13302     &lt;origin&gt;jvmpi&lt;/origin&gt;
13303     &lt;capabilities&gt;
13304       &lt;required id=&quot;can_generate_monitor_events&quot;&gt;&lt;/required&gt;
13305     &lt;/capabilities&gt;
13306     &lt;parameters&gt;
13307       &lt;param id=&quot;jni_env&quot;&gt;
13308         &lt;outptr&gt;
13309           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13310         &lt;/outptr&gt;
13311           &lt;description&gt;
13312             The JNI environment of the event (current) thread
13313           &lt;/description&gt;
13314       &lt;/param&gt;
13315       &lt;param id=&quot;thread&quot;&gt;
13316 	&lt;jthread/&gt;
13317 	  &lt;description&gt;
13318 	    JNI local reference to the thread
13319 	    attempting to enter the monitor
13320 	  &lt;/description&gt;
13321       &lt;/param&gt;
13322       &lt;param id=&quot;object&quot;&gt;
13323 	&lt;jobject/&gt;
13324 	  &lt;description&gt;
13325 	    JNI local reference to the monitor
13326 	  &lt;/description&gt;
13327       &lt;/param&gt;
13328     &lt;/parameters&gt;
13329   &lt;/event&gt;
13330 
13331   &lt;event label=&quot;Monitor Contended Entered&quot;
13332 	 id=&quot;MonitorContendedEntered&quot; const=&quot;JVMTI_EVENT_MONITOR_CONTENDED_ENTERED&quot; filtered=&quot;thread&quot; num=&quot;76&quot;&gt;
13333     &lt;description&gt;
13334       Sent when a thread enters a Java programming language
13335       monitor after waiting for it to be released by another thread.
13336     &lt;/description&gt;
13337     &lt;origin&gt;jvmpi&lt;/origin&gt;
13338     &lt;capabilities&gt;
13339       &lt;required id=&quot;can_generate_monitor_events&quot;&gt;&lt;/required&gt;
13340     &lt;/capabilities&gt;
13341     &lt;parameters&gt;
13342       &lt;param id=&quot;jni_env&quot;&gt;
13343         &lt;outptr&gt;
13344           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13345         &lt;/outptr&gt;
13346           &lt;description&gt;
13347             The JNI environment of the event (current) thread
13348           &lt;/description&gt;
13349       &lt;/param&gt;
13350       &lt;param id=&quot;thread&quot;&gt;
13351 	&lt;jthread/&gt;
13352 	  &lt;description&gt;
13353 	    JNI local reference to the thread entering
13354 	    the monitor
13355 	  &lt;/description&gt;
13356       &lt;/param&gt;
13357       &lt;param id=&quot;object&quot;&gt;
13358 	&lt;jobject/&gt;
13359 	  &lt;description&gt;
13360 	    JNI local reference to the monitor
13361 	  &lt;/description&gt;
13362       &lt;/param&gt;
13363     &lt;/parameters&gt;
13364   &lt;/event&gt;
13365 
13366   &lt;event label=&quot;Monitor Wait&quot;
13367 	 id=&quot;MonitorWait&quot; const=&quot;JVMTI_EVENT_MONITOR_WAIT&quot; filtered=&quot;thread&quot; num=&quot;73&quot;&gt;
13368     &lt;description&gt;
13369       Sent when a thread is about to wait on an object.
13370     &lt;/description&gt;
13371     &lt;origin&gt;jvmpi&lt;/origin&gt;
13372     &lt;capabilities&gt;
13373       &lt;required id=&quot;can_generate_monitor_events&quot;&gt;&lt;/required&gt;
13374     &lt;/capabilities&gt;
13375     &lt;parameters&gt;
13376       &lt;param id=&quot;jni_env&quot;&gt;
13377         &lt;outptr&gt;
13378           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13379         &lt;/outptr&gt;
13380           &lt;description&gt;
13381             The JNI environment of the event (current) thread
13382           &lt;/description&gt;
13383       &lt;/param&gt;
13384       &lt;param id=&quot;thread&quot;&gt;
13385 	&lt;jthread/&gt;
13386 	  &lt;description&gt;
13387 	    JNI local reference to the thread about to wait
13388 	  &lt;/description&gt;
13389       &lt;/param&gt;
13390       &lt;param id=&quot;object&quot;&gt;
13391 	&lt;jobject/&gt;
13392 	  &lt;description&gt;
13393 	    JNI local reference to the monitor
13394 	  &lt;/description&gt;
13395       &lt;/param&gt;
13396       &lt;param id=&quot;timeout&quot;&gt;
13397 	&lt;jlong/&gt;
13398 	&lt;description&gt;
13399 	  The number of milliseconds the thread will wait
13400 	&lt;/description&gt;
13401       &lt;/param&gt;
13402     &lt;/parameters&gt;
13403   &lt;/event&gt;
13404 
13405   &lt;event label=&quot;Monitor Waited&quot;
13406 	 id=&quot;MonitorWaited&quot; const=&quot;JVMTI_EVENT_MONITOR_WAITED&quot; filtered=&quot;thread&quot; num=&quot;74&quot;&gt;
13407     &lt;description&gt;
13408       Sent when a thread finishes waiting on an object.
13409     &lt;/description&gt;
13410     &lt;origin&gt;jvmpi&lt;/origin&gt;
13411     &lt;capabilities&gt;
13412       &lt;required id=&quot;can_generate_monitor_events&quot;&gt;&lt;/required&gt;
13413     &lt;/capabilities&gt;
13414     &lt;parameters&gt;
13415       &lt;param id=&quot;jni_env&quot;&gt;
13416         &lt;outptr&gt;
13417           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13418         &lt;/outptr&gt;
13419           &lt;description&gt;
13420             The JNI environment of the event (current) thread
13421           &lt;/description&gt;
13422       &lt;/param&gt;
13423       &lt;param id=&quot;thread&quot;&gt;
13424 	&lt;jthread/&gt;
13425 	  &lt;description&gt;
13426 	    JNI local reference to the thread that was finished waiting
13427 	  &lt;/description&gt;
13428       &lt;/param&gt;
13429       &lt;param id=&quot;object&quot;&gt;
13430 	&lt;jobject/&gt;
13431 	  &lt;description&gt;
13432 	    JNI local reference to the monitor.
13433 	  &lt;/description&gt;
13434       &lt;/param&gt;
13435       &lt;param id=&quot;timed_out&quot;&gt;
13436 	&lt;jboolean/&gt;
13437 	&lt;description&gt;
13438 	  True if the monitor timed out
13439 	&lt;/description&gt;
13440       &lt;/param&gt;
13441     &lt;/parameters&gt;
13442   &lt;/event&gt;
13443 
13444   &lt;event label=&quot;Resource Exhausted&quot;
13445 	 id=&quot;ResourceExhausted&quot; const=&quot;JVMTI_EVENT_RESOURCE_EXHAUSTED&quot; num=&quot;80&quot;
13446          since=&quot;1.1&quot;&gt;
13447     &lt;description&gt;
13448       Sent when a VM resource needed by a running application has been exhausted.
13449       Except as required by the optional capabilities, the set of resources
13450       which report exhaustion is implementation dependent.
13451       &lt;p/&gt;
13452       The following bit flags define the properties of the resource exhaustion:
13453       &lt;constants id=&quot;jvmtiResourceExhaustionFlags&quot;
13454                  label=&quot;Resource Exhaustion Flags&quot;
13455                  kind=&quot;bits&quot;
13456                  since=&quot;1.1&quot;&gt;
13457         &lt;constant id=&quot;JVMTI_RESOURCE_EXHAUSTED_OOM_ERROR&quot; num=&quot;0x0001&quot;&gt;
13458           After this event returns, the VM will throw a
13459           &lt;code&gt;java.lang.OutOfMemoryError&lt;/code&gt;.
13460         &lt;/constant&gt;
13461         &lt;constant id=&quot;JVMTI_RESOURCE_EXHAUSTED_JAVA_HEAP&quot; num=&quot;0x0002&quot;&gt;
13462 	  The VM was unable to allocate memory from the &lt;tm&gt;Java&lt;/tm&gt;
13463           platform &lt;i&gt;heap&lt;/i&gt;.
13464           The &lt;i&gt;heap&lt;/i&gt; is the runtime
13465           data area from which memory for all class instances and
13466           arrays are allocated.
13467         &lt;/constant&gt;
13468         &lt;constant id=&quot;JVMTI_RESOURCE_EXHAUSTED_THREADS&quot; num=&quot;0x0004&quot;&gt;
13469 	  The VM was unable to create a thread.
13470         &lt;/constant&gt;
13471       &lt;/constants&gt;
13472     &lt;/description&gt;
13473     &lt;origin&gt;new&lt;/origin&gt;
13474     &lt;capabilities&gt;
13475       &lt;capability id=&quot;can_generate_resource_exhaustion_heap_events&quot;&gt;
13476         Can generate events when the VM is unable to allocate memory from the
13477         &lt;internallink id=&quot;JVMTI_RESOURCE_EXHAUSTED_JAVA_HEAP&quot;&gt;heap&lt;/internallink&gt;.
13478       &lt;/capability&gt;
13479       &lt;capability id=&quot;can_generate_resource_exhaustion_threads_events&quot;&gt;
13480         Can generate events when the VM is unable to
13481         &lt;internallink id=&quot;JVMTI_RESOURCE_EXHAUSTED_THREADS&quot;&gt;create
13482         a thread&lt;/internallink&gt;.
13483       &lt;/capability&gt;
13484     &lt;/capabilities&gt;
13485     &lt;parameters&gt;
13486       &lt;param id=&quot;jni_env&quot;&gt;
13487         &lt;outptr&gt;
13488           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13489         &lt;/outptr&gt;
13490           &lt;description&gt;
13491             The JNI environment of the event (current) thread
13492           &lt;/description&gt;
13493       &lt;/param&gt;
13494       &lt;param id=&quot;flags&quot;&gt;
13495 	&lt;jint/&gt;
13496         &lt;description&gt;
13497 	  Flags defining the properties of the of resource exhaustion
13498 	  as specified by the
13499           &lt;internallink id=&quot;jvmtiResourceExhaustionFlags&quot;&gt;Resource
13500           Exhaustion Flags&lt;/internallink&gt;.
13501 	  &lt;/description&gt;
13502 	&lt;/param&gt;
13503       &lt;param id=&quot;reserved&quot;&gt;
13504 	&lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13505 	&lt;description&gt;
13506 	  Reserved.
13507 	&lt;/description&gt;
13508       &lt;/param&gt;
13509       &lt;param id=&quot;description&quot;&gt;
13510 	&lt;vmbuf&gt;&lt;char/&gt;&lt;/vmbuf&gt;
13511 	&lt;description&gt;
13512 	  Description of the resource exhaustion, encoded as a
13513 	  &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
13514 	&lt;/description&gt;
13515       &lt;/param&gt;
13516     &lt;/parameters&gt;
13517   &lt;/event&gt;
13518 
13519   &lt;event label=&quot;VM Object Allocation&quot;
13520 	 id=&quot;VMObjectAlloc&quot; const=&quot;JVMTI_EVENT_VM_OBJECT_ALLOC&quot; num=&quot;84&quot;&gt;
13521     &lt;description&gt;
13522       Sent when a method causes the virtual machine to directly allocate an
13523       Object visible to Java programming language code.
13524       Generally object allocation should be detected by instrumenting
13525       the bytecodes of allocating methods.
13526       Object allocation generated in native code by JNI function
13527       calls should be detected using
13528       &lt;internallink id=&quot;jniIntercept&quot;&gt;JNI function interception&lt;/internallink&gt;.
13529       Some methods might not have associated bytecodes and are not
13530       native methods, they instead are executed directly by the
13531       VM. These methods should send this event.
13532       Virtual machines which are incapable of bytecode instrumentation
13533       for some or all of their methods can send this event.
13534 
13535       Note that the &lt;internallink
13536       id=&quot;SampledObjectAlloc&quot;&gt;SampledObjectAlloc&lt;/internallink&gt;
13537       event is triggered on all Java object allocations, including those
13538       caused by bytecode method execution, JNI method execution, and
13539       directly by VM methods.
13540       &lt;p/&gt;
13541       Typical examples where this event might be sent:
13542       &lt;ul&gt;
13543         &lt;li&gt;Reflection -- for example, &lt;code&gt;java.lang.Class.newInstance()&lt;/code&gt;&lt;/li&gt;
13544         &lt;li&gt;Methods not represented by bytecodes -- for example, VM intrinsics and
13545             J2ME preloaded classes&lt;/li&gt;
13546       &lt;/ul&gt;
13547       Cases where this event would not be generated:
13548       &lt;ul&gt;
13549         &lt;li&gt;Allocation due to bytecodes -- for example, the &lt;code&gt;new&lt;/code&gt;
13550             and &lt;code&gt;newarray&lt;/code&gt; VM instructions&lt;/li&gt;
13551         &lt;li&gt;Allocation due to JNI function calls -- for example,
13552             &lt;code&gt;AllocObject&lt;/code&gt;&lt;/li&gt;
13553         &lt;li&gt;Allocations during VM initialization&lt;/li&gt;
13554         &lt;li&gt;VM internal objects&lt;/li&gt;
13555       &lt;/ul&gt;
13556     &lt;/description&gt;
13557     &lt;origin&gt;new&lt;/origin&gt;
13558     &lt;capabilities&gt;
13559       &lt;required id=&quot;can_generate_vm_object_alloc_events&quot;&gt;&lt;/required&gt;
13560     &lt;/capabilities&gt;
13561     &lt;parameters&gt;
13562       &lt;param id=&quot;jni_env&quot;&gt;
13563 	&lt;outptr&gt;
13564 	  &lt;struct&gt;JNIEnv&lt;/struct&gt;
13565 	&lt;/outptr&gt;
13566 	  &lt;description&gt;
13567             The JNI environment of the event (current) thread
13568 	  &lt;/description&gt;
13569       &lt;/param&gt;
13570       &lt;param id=&quot;thread&quot;&gt;
13571 	&lt;jthread/&gt;
13572 	  &lt;description&gt;
13573 	    Thread allocating the object.
13574 	  &lt;/description&gt;
13575       &lt;/param&gt;
13576       &lt;param id=&quot;object&quot;&gt;
13577 	&lt;jobject/&gt;
13578 	  &lt;description&gt;
13579 	    JNI local reference to the object that was allocated.
13580 	  &lt;/description&gt;
13581       &lt;/param&gt;
13582       &lt;param id=&quot;object_klass&quot;&gt;
13583 	&lt;jclass/&gt;
13584 	  &lt;description&gt;
13585 	    JNI local reference to the class of the object.
13586 	  &lt;/description&gt;
13587       &lt;/param&gt;
13588       &lt;param id=&quot;size&quot;&gt;
13589 	&lt;jlong/&gt;
13590 	&lt;description&gt;
13591 	    Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
13592 	&lt;/description&gt;
13593       &lt;/param&gt;
13594     &lt;/parameters&gt;
13595   &lt;/event&gt;
13596 
13597   &lt;event label=&quot;Sampled Object Allocation&quot;
13598     id=&quot;SampledObjectAlloc&quot; const=&quot;JVMTI_EVENT_SAMPLED_OBJECT_ALLOC&quot; filtered=&quot;thread&quot; num=&quot;86&quot; since=&quot;11&quot;&gt;
13599     &lt;description&gt;
13600       Sent when an allocated object is sampled.
13601       By default, the sampling interval is set to 512KB. The sampling is semi-random to avoid
13602       pattern-based bias and provides an approximate overall average interval over long periods of
13603       sampling.
13604       &lt;p/&gt;
13605       Each thread tracks how many bytes it has allocated since it sent the last event.
13606       When the number of bytes exceeds the sampling interval, it will send another event.
13607       This implies that, on average, one object will be sampled every time a thread has
13608       allocated 512KB bytes since the last sample.
13609       &lt;p/&gt;
13610       Note that the sampler is pseudo-random: it will not sample every 512KB precisely.
13611       The goal of this is to ensure high quality sampling even if allocation is
13612       happening in a fixed pattern (i.e., the same set of objects are being allocated
13613       every 512KB).
13614       &lt;p/&gt;
13615       If another sampling interval is required, the user can call
13616       &lt;functionlink id=&quot;SetHeapSamplingInterval&quot;&gt;&lt;/functionlink&gt; with a strictly positive integer value,
13617       representing the new sampling interval.
13618       &lt;p/&gt;
13619       This event is sent once the sampled allocation has been performed.  It provides the object, stack trace
13620       of the allocation, the thread allocating, the size of allocation, and the object&#39;s class.
13621       &lt;p/&gt;
13622       A typical use case of this system is to determine where heap allocations originate.
13623       In conjunction with weak references and the function
13624       &lt;functionlink id=&quot;GetStackTrace&quot;&gt;&lt;/functionlink&gt;, a user can track which objects were allocated from which
13625       stack trace, and which are still live during the execution of the program.
13626     &lt;/description&gt;
13627     &lt;origin&gt;new&lt;/origin&gt;
13628     &lt;capabilities&gt;
13629       &lt;required id=&quot;can_generate_sampled_object_alloc_events&quot;&gt;&lt;/required&gt;
13630     &lt;/capabilities&gt;
13631     &lt;parameters&gt;
13632       &lt;param id=&quot;jni_env&quot;&gt;
13633         &lt;outptr&gt;
13634           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13635         &lt;/outptr&gt;
13636         &lt;description&gt;
13637           The JNI environment of the event (current) thread.
13638         &lt;/description&gt;
13639       &lt;/param&gt;
13640       &lt;param id=&quot;thread&quot;&gt;
13641         &lt;jthread/&gt;
13642         &lt;description&gt;
13643           Thread allocating the object.
13644         &lt;/description&gt;
13645       &lt;/param&gt;
13646       &lt;param id=&quot;object&quot;&gt;
13647         &lt;jobject/&gt;
13648         &lt;description&gt;
13649           JNI local reference to the object that was allocated.
13650         &lt;/description&gt;
13651       &lt;/param&gt;
13652       &lt;param id=&quot;object_klass&quot;&gt;
13653         &lt;jclass/&gt;
13654         &lt;description&gt;
13655           JNI local reference to the class of the object
13656         &lt;/description&gt;
13657       &lt;/param&gt;
13658       &lt;param id=&quot;size&quot;&gt;
13659         &lt;jlong/&gt;
13660         &lt;description&gt;
13661           Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
13662         &lt;/description&gt;
13663       &lt;/param&gt;
13664     &lt;/parameters&gt;
13665   &lt;/event&gt;
13666 
13667   &lt;event label=&quot;Object Free&quot;
13668         id=&quot;ObjectFree&quot; const=&quot;JVMTI_EVENT_OBJECT_FREE&quot; num=&quot;83&quot;&gt;
13669     &lt;description&gt;
13670       An Object Free event is sent when the garbage collector frees an object.
13671       Events are only sent for tagged objects--see
13672       &lt;internallink id=&quot;Heap&quot;&gt;heap functions&lt;/internallink&gt;.
13673       &lt;p/&gt;
13674       The event handler must not use JNI functions and
13675       must not use &lt;jvmti/&gt; functions except those which
13676       specifically allow such use (see the raw monitor, memory management,
13677       and environment local storage functions).
13678     &lt;/description&gt;
13679     &lt;origin&gt;new&lt;/origin&gt;
13680     &lt;capabilities&gt;
13681       &lt;required id=&quot;can_generate_object_free_events&quot;&gt;&lt;/required&gt;
13682     &lt;/capabilities&gt;
13683     &lt;parameters&gt;
13684       &lt;param id=&quot;tag&quot;&gt;
13685 	&lt;jlong/&gt;
13686 	&lt;description&gt;
13687 	  The freed object&#39;s tag
13688 	&lt;/description&gt;        
13689       &lt;/param&gt;
13690     &lt;/parameters&gt;
13691   &lt;/event&gt;
13692 
13693   &lt;event label=&quot;Garbage Collection Start&quot;
13694 	 id=&quot;GarbageCollectionStart&quot; const=&quot;JVMTI_EVENT_GARBAGE_COLLECTION_START&quot; num=&quot;81&quot;&gt;
13695     &lt;description&gt;
13696       A Garbage Collection Start event is sent when a
13697       garbage collection pause begins.
13698       Only stop-the-world collections are reported--that is, collections during
13699       which all threads cease to modify the state of the Java virtual machine.
13700       This means that some collectors will never generate these events.
13701       This event is sent while the VM is still stopped, thus
13702       the event handler must not use JNI functions and
13703       must not use &lt;jvmti/&gt; functions except those which
13704       specifically allow such use (see the raw monitor, memory management,
13705       and environment local storage functions).
13706       &lt;p/&gt;
13707       This event is always sent as a matched pair with
13708       &lt;eventlink id=&quot;GarbageCollectionFinish&quot;/&gt;
13709       (assuming both events are enabled) and no garbage collection
13710       events will occur between them.
13711     &lt;/description&gt;
13712     &lt;origin&gt;new&lt;/origin&gt;
13713     &lt;capabilities&gt;
13714       &lt;required id=&quot;can_generate_garbage_collection_events&quot;&gt;&lt;/required&gt;
13715     &lt;/capabilities&gt;
13716     &lt;parameters&gt;
13717     &lt;/parameters&gt;
13718   &lt;/event&gt;
13719 
13720   &lt;event label=&quot;Garbage Collection Finish&quot;
13721 	 id=&quot;GarbageCollectionFinish&quot; const=&quot;JVMTI_EVENT_GARBAGE_COLLECTION_FINISH&quot; num=&quot;82&quot;&gt;
13722     &lt;description&gt;
13723       A Garbage Collection Finish event is sent when a
13724       garbage collection pause ends.
13725       This event is sent while the VM is still stopped, thus
13726       the event handler must not use JNI functions and
13727       must not use &lt;jvmti/&gt; functions except those which
13728       specifically allow such use (see the raw monitor, memory management,
13729       and environment local storage functions).
13730       &lt;p/&gt;
13731       Some agents may need to do post garbage collection operations that
13732       require the use of the disallowed &lt;jvmti/&gt; or JNI functions. For these
13733       cases an agent thread can be created which waits on a raw monitor,
13734       and the handler for the Garbage Collection Finish event simply
13735       notifies the raw monitor
13736       &lt;p/&gt;
13737       This event is always sent as a matched pair with
13738       &lt;eventlink id=&quot;GarbageCollectionStart&quot;/&gt; (assuming both events are enabled).
13739       &lt;issue&gt;
13740 	The most important use of this event is to provide timing information,
13741 	and thus additional information is not required.  However,
13742 	information about the collection which is &quot;free&quot; should be included -
13743         what that information is needs to be determined.
13744       &lt;/issue&gt;
13745     &lt;/description&gt;
13746     &lt;origin&gt;new&lt;/origin&gt;
13747     &lt;capabilities&gt;
13748       &lt;required id=&quot;can_generate_garbage_collection_events&quot;&gt;&lt;/required&gt;
13749     &lt;/capabilities&gt;
13750     &lt;parameters&gt;
13751     &lt;/parameters&gt;
13752   &lt;/event&gt;
13753 
13754   &lt;elide&gt;
13755   &lt;event label=&quot;Verbose Output&quot; phase=&quot;any&quot;
13756 	 id=&quot;VerboseOutput&quot; const=&quot;JVMTI_EVENT_VERBOSE_OUTPUT&quot; num=&quot;85&quot;&gt;
13757     &lt;description&gt;
13758       Send verbose messages as strings.
13759 	&lt;issue&gt;
13760 	  This format is extremely fragile, as it can change with each
13761 	  platform, collector and version.  Alternatives include:
13762 	  &lt;ul&gt;
13763 	    &lt;li&gt;building off Java programming language M and M APIs&lt;/li&gt;
13764 	    &lt;li&gt;XML&lt;/li&gt;
13765 	    &lt;li&gt;key/value pairs&lt;/li&gt;
13766 	    &lt;li&gt;removing it&lt;/li&gt;
13767 	  &lt;/ul&gt;
13768 	&lt;/issue&gt;
13769 	&lt;issue&gt;
13770 	  Though this seemed trivial to implement.
13771           In the RI it appears this will be quite complex.
13772 	&lt;/issue&gt;
13773     &lt;/description&gt;
13774     &lt;origin&gt;new&lt;/origin&gt;
13775     &lt;capabilities&gt;
13776     &lt;/capabilities&gt;
13777     &lt;parameters&gt;
13778       &lt;param id=&quot;flag&quot;&gt;
13779 	&lt;enum&gt;jvmtiVerboseFlag&lt;/enum&gt;
13780         &lt;description&gt;
13781           Which verbose output is being sent.
13782         &lt;/description&gt;
13783       &lt;/param&gt;
13784       &lt;param id=&quot;message&quot;&gt;
13785 	&lt;vmbuf&gt;&lt;char/&gt;&lt;/vmbuf&gt;
13786 	&lt;description&gt;
13787 	  Message text, encoded as a
13788 	  &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
13789 	&lt;/description&gt;
13790       &lt;/param&gt;
13791     &lt;/parameters&gt;
13792   &lt;/event&gt;
13793   &lt;/elide&gt;
13794 
13795 &lt;/eventsection&gt;
13796 
13797 &lt;datasection&gt;
13798   &lt;intro&gt;
13799     &lt;jvmti/&gt; extends the data types defined by JNI.
13800   &lt;/intro&gt;
13801   &lt;basetypes id=&quot;jniTypes&quot; label=&quot;JNI Types Used in the JVM Tool Interface&quot;&gt;
13802     &lt;basetype id=&quot;jboolean&quot;&gt;
13803       &lt;description&gt;
13804 	Holds a Java programming language &lt;code&gt;boolean&lt;/code&gt;.
13805 	Unsigned 8 bits.
13806       &lt;/description&gt;
13807     &lt;/basetype&gt;
13808     &lt;basetype id=&quot;jchar&quot;&gt;
13809       &lt;description&gt;
13810 	Holds a Java programming language &lt;code&gt;char&lt;/code&gt;.
13811 	Unsigned 16 bits.
13812       &lt;/description&gt;
13813     &lt;/basetype&gt;
13814     &lt;basetype id=&quot;jint&quot;&gt;
13815       &lt;description&gt;
13816 	Holds a Java programming language &lt;code&gt;int&lt;/code&gt;.
13817 	Signed 32 bits.
13818       &lt;/description&gt;
13819     &lt;/basetype&gt;
13820     &lt;basetype id=&quot;jlong&quot;&gt;
13821       &lt;description&gt;
13822 	Holds a Java programming language &lt;code&gt;long&lt;/code&gt;.
13823 	Signed 64 bits.
13824       &lt;/description&gt;
13825     &lt;/basetype&gt;
13826     &lt;basetype id=&quot;jfloat&quot;&gt;
13827       &lt;description&gt;
13828 	Holds a Java programming language &lt;code&gt;float&lt;/code&gt;.
13829 	32 bits.
13830       &lt;/description&gt;
13831     &lt;/basetype&gt;
13832     &lt;basetype id=&quot;jdouble&quot;&gt;
13833       &lt;description&gt;
13834 	Holds a Java programming language &lt;code&gt;double&lt;/code&gt;.
13835 	64 bits.
13836       &lt;/description&gt;
13837     &lt;/basetype&gt;
13838     &lt;basetype id=&quot;jobject&quot;&gt;
13839       &lt;description&gt;
13840 	Holds a Java programming language object.
13841       &lt;/description&gt;
13842     &lt;/basetype&gt;
13843     &lt;basetype id=&quot;jclass&quot;&gt;
13844       &lt;description&gt;
13845 	Holds a Java programming language class.
13846       &lt;/description&gt;
13847     &lt;/basetype&gt;
13848     &lt;basetype id=&quot;jvalue&quot;&gt;
13849       &lt;description&gt;
13850 	Is a union of all primitive types and &lt;code&gt;jobject&lt;/code&gt;.  Thus, holds any Java
13851 	programming language value.
13852       &lt;/description&gt;
13853     &lt;/basetype&gt;
13854     &lt;basetype id=&quot;jfieldID&quot;&gt;
13855       &lt;description&gt;
13856 	Identifies a Java programming language field.
13857         &lt;code&gt;jfieldID&lt;/code&gt;s returned by &lt;jvmti/&gt; functions and events may be
13858         safely stored.
13859       &lt;/description&gt;
13860     &lt;/basetype&gt;
13861     &lt;basetype id=&quot;jmethodID&quot;&gt;
13862       &lt;description&gt;
13863 	Identifies a Java programming language method, initializer, or constructor.
13864         &lt;code&gt;jmethodID&lt;/code&gt;s returned by &lt;jvmti/&gt; functions and events may be
13865         safely stored.  However, if the class is unloaded, they become invalid
13866         and must not be used.
13867       &lt;/description&gt;
13868     &lt;/basetype&gt;
13869     &lt;basetype id=&quot;JNIEnv&quot;&gt;
13870       &lt;description&gt;
13871 	Pointer to the JNI function table.  Pointer to this (&lt;code&gt;JNIEnv *&lt;/code&gt;)
13872 	is a JNI environment.
13873       &lt;/description&gt;
13874     &lt;/basetype&gt;
13875   &lt;/basetypes&gt;
13876 
13877   &lt;basetypes id=&quot;jvmtiTypes&quot; label=&quot;JVM Tool Interface Base Types&quot;&gt;
13878     &lt;basetype id=&quot;jvmtiEnv&quot;&gt;
13879       &lt;description&gt;
13880 	The &lt;jvmti/&gt; &lt;internallink id=&quot;environments&quot;&gt;environment&lt;/internallink&gt; pointer.
13881         See the &lt;internallink id=&quot;FunctionSection&quot;&gt;Function Section&lt;/internallink&gt;.
13882         &lt;code&gt;jvmtiEnv&lt;/code&gt; points to the
13883         &lt;internallink id=&quot;FunctionTable&quot;&gt;function table&lt;/internallink&gt; pointer.
13884       &lt;/description&gt;
13885     &lt;/basetype&gt;
13886     &lt;basetype id=&quot;jthread&quot;&gt;
13887       &lt;definition&gt;typedef jobject jthread;&lt;/definition&gt;
13888       &lt;description&gt;
13889 	Subtype of &lt;datalink id=&quot;jobject&quot;&gt;&lt;/datalink&gt; that holds a thread.
13890       &lt;/description&gt;
13891     &lt;/basetype&gt;
13892     &lt;basetype id=&quot;jthreadGroup&quot;&gt;
13893       &lt;definition&gt;typedef jobject jthreadGroup;&lt;/definition&gt;
13894       &lt;description&gt;
13895 	Subtype of &lt;datalink id=&quot;jobject&quot;&gt;&lt;/datalink&gt; that holds a thread group.
13896       &lt;/description&gt;
13897     &lt;/basetype&gt;
13898     &lt;basetype id=&quot;jlocation&quot;&gt;
13899       &lt;definition&gt;typedef jlong jlocation;&lt;/definition&gt;
13900       &lt;description&gt;
13901 	A 64 bit value, representing a monotonically increasing
13902 	executable position within a method.
13903         &lt;code&gt;-1&lt;/code&gt; indicates a native method.
13904 	See &lt;functionlink id=&quot;GetJLocationFormat&quot;&gt;&lt;/functionlink&gt; for the format on a
13905 	given VM.
13906       &lt;/description&gt;
13907     &lt;/basetype&gt;
13908     &lt;basetype id=&quot;jrawMonitorID&quot;&gt;
13909       &lt;definition&gt;struct _jrawMonitorID;
13910 typedef struct _jrawMonitorID *jrawMonitorID;&lt;/definition&gt;
13911       &lt;description&gt;
13912 	A raw monitor.
13913       &lt;/description&gt;
13914     &lt;/basetype&gt;
13915     &lt;basetype id=&quot;jvmtiError&quot;&gt;
13916       &lt;description&gt;
13917 	Holds an error return code.
13918 	See the &lt;internallink id=&quot;ErrorSection&quot;&gt;Error section&lt;/internallink&gt; for possible values.
13919 	&lt;example&gt;
13920 typedef enum {
13921     JVMTI_ERROR_NONE = 0,
13922     JVMTI_ERROR_INVALID_THREAD = 10,
13923       ...
13924 } jvmtiError;
13925 &lt;/example&gt;
13926       &lt;/description&gt;
13927     &lt;/basetype&gt;
13928     &lt;basetype id=&quot;jvmtiEvent&quot;&gt;
13929       &lt;description&gt;
13930         An identifier for an event type.
13931 	See the &lt;internallink id=&quot;EventSection&quot;&gt;Event section&lt;/internallink&gt; for possible values.
13932         It is guaranteed that future versions of this specification will
13933         never assign zero as an event type identifier.
13934 &lt;example&gt;
13935 typedef enum {
13936     JVMTI_EVENT_SINGLE_STEP = 1,
13937     JVMTI_EVENT_BREAKPOINT = 2,
13938       ...
13939 } jvmtiEvent;
13940 &lt;/example&gt;
13941       &lt;/description&gt;
13942     &lt;/basetype&gt;
13943     &lt;basetype id=&quot;jvmtiEventCallbacks&quot; name=&quot;eventCallbacks&quot;&gt;
13944       &lt;description&gt;
13945         The callbacks used for events.
13946 &lt;example&gt;
13947 typedef struct {
13948     jvmtiEventVMInit VMInit;
13949     jvmtiEventVMDeath VMDeath;
13950       ...
13951 } jvmtiEventCallbacks;
13952 &lt;/example&gt;
13953         See &lt;internallink id=&quot;jvmtiEventCallbacks&quot;&gt;event callbacks&lt;/internallink&gt;
13954         for the complete structure.
13955         &lt;p/&gt;
13956         Where, for example, the VM initialization callback is defined:
13957 &lt;example&gt;
13958 typedef void (JNICALL *jvmtiEventVMInit)
13959     (jvmtiEnv *jvmti_env,
13960      JNIEnv* jni_env,
13961      jthread thread);
13962 &lt;/example&gt;
13963         See the individual events for the callback function definition.
13964       &lt;/description&gt;
13965     &lt;/basetype&gt;
13966     &lt;basetype id=&quot;jniNativeInterface&quot;&gt;
13967       &lt;definition&gt;typedef struct JNINativeInterface_ jniNativeInterface;&lt;/definition&gt;
13968       &lt;description&gt;
13969 	Typedef for the JNI function table &lt;code&gt;JNINativeInterface&lt;/code&gt;
13970 	defined in the
13971 	&lt;externallink id=&quot;jni/functions.html#interface-function-table&quot;&gt;
13972           JNI Specification&lt;/externallink&gt;.
13973 	The JNI reference implementation defines this with an underscore.
13974       &lt;/description&gt;
13975     &lt;/basetype&gt;
13976   &lt;/basetypes&gt;
13977 
13978 &lt;/datasection&gt;
13979 
13980 &lt;issuessection label=&quot;Issues&quot;&gt;
13981   &lt;intro id=&quot;suspendRequired&quot; label=&quot;Resolved Issue: Suspend - Required or Automatic&quot;&gt;
13982     JVMDI requires that the agent suspend threads before calling
13983     certain sensitive functions.  JVMPI requires garbage collection to be
13984     disabled before calling certain sensitive functions.
13985     It was suggested that rather than have this requirement, that
13986     VM place itself in a suitable state before performing an
13987     operation.  This makes considerable sense since each VM
13988     knows its requirements and can most easily arrange a
13989     safe state.
13990     &lt;p/&gt;
13991     The ability to externally suspend/resume threads will, of
13992     course, remain.  The ability to enable/disable garbage collection will not.
13993     &lt;p/&gt;
13994     This issue is resolved--suspend will not
13995     be required.  The spec has been updated to reflect this.
13996   &lt;/intro&gt;
13997 
13998   &lt;intro id=&quot;stackSampling&quot; label=&quot;Resolved Issue: Call Stack Sampling&quot;&gt;
13999     There are a variety of approaches to sampling call stacks.
14000     The biggest bifurcation is between VM controlled and agent
14001     controlled.
14002     &lt;p/&gt;
14003     This issue is resolved--agent controlled
14004     sampling will be the approach.
14005   &lt;/intro&gt;
14006 
14007   &lt;intro id=&quot;threadRepresentation&quot; label=&quot;Resolved Issue: Thread Representation&quot;&gt;
14008     JVMDI represents threads as jthread.  JVMPI primarily
14009     uses JNIEnv* to represent threads.
14010     &lt;p/&gt;
14011     The Expert Group has chosen jthread as the representation
14012     for threads in &lt;jvmti/&gt;.
14013     JNIEnv* is sent by
14014     events since it is needed to JNI functions.  JNIEnv, per the
14015     JNI spec, are not supposed to be used outside their thread.
14016   &lt;/intro&gt;
14017 
14018   &lt;intro id=&quot;design&quot; label=&quot;Resolved Issue: Method Representation&quot;&gt;
14019     The JNI spec allows an implementation to depend on jclass/jmethodID
14020     pairs, rather than simply a jmethodID, to reference a method.
14021     JVMDI, for consistency, choose the same representation.
14022     JVMPI, however, specifies that a jmethodID alone maps to a
14023     method.  Both of the Sun &lt;tm&gt;J2SE&lt;/tm&gt; virtual machines (Classic and &lt;tm&gt;HotSpot&lt;/tm&gt;) store
14024     pointers in jmethodIDs, and as a result, a jmethodID is sufficient.
14025     In fact, any JVM implementation that supports JVMPI must have
14026     such a representation.
14027     &lt;jvmti/&gt; will use jmethodID as a unique representation of a method
14028     (no jclass is used).
14029     There should be efficiency gains, particularly in
14030     functionality like stack dumping, to this representation.
14031     &lt;p/&gt;
14032     Note that fields were not used in JVMPI and that the access profile
14033     of fields differs from methods--for implementation efficiency
14034     reasons, a jclass/jfieldID pair will still be needed for field
14035     reference.
14036   &lt;/intro&gt;
14037 
14038   &lt;intro id=&quot;localReferenceIssue&quot; label=&quot;Resolved Issue: Local References&quot;&gt;
14039     Functions return local references.
14040   &lt;/intro&gt;
14041 
14042   &lt;intro id=&quot;frameRep&quot; label=&quot;Resolved Issue: Representation of frames&quot;&gt;
14043     In JVMDI, a frame ID is used to represent a frame.  Problem with this
14044     is that a VM must track when a frame becomes invalid, a far better
14045     approach, and the one used in &lt;jvmti/&gt;, is to reference frames by depth.
14046   &lt;/intro&gt;
14047 
14048   &lt;intro id=&quot;requiredCapabilities&quot; label=&quot;Issue: Required Capabilities&quot;&gt;
14049     Currently, having a required capabilities means that the functionality
14050     is optional.   Capabilities are useful even for required functionality
14051     since they can inform the VM is needed set-up.  Thus, there should be
14052     a set of capabilities that a conformant implementation must provide
14053     (if requested during Agent_OnLoad).
14054   &lt;/intro&gt;
14055 
14056   &lt;intro id=&quot;taghint&quot; label=&quot;Proposal: add tag hint function&quot;&gt;
14057     A hint of the percentage of objects that will be tagged would
14058     help the VM pick a good implementation.
14059   &lt;/intro&gt;
14060 
14061   &lt;intro id=&quot;moreMonitorQueries&quot; label=&quot;Request: More Monitor Quires&quot;&gt;
14062   How difficult or easy would be to extend the monitor_info category to include
14063     &lt;pre&gt;
14064   - current number of monitors
14065   - enumeration of monitors
14066   - enumeration of threads waiting on a given monitor
14067     &lt;/pre&gt;
14068   The reason for my question is the fact that current get_monitor_info support
14069   requires the agent to specify a given thread to get the info which is probably
14070   OK in the profiling/debugging space, while in the monitoring space the agent
14071   could be watching the monitor list and then decide which thread to ask for
14072   the info. You might ask why is this important for monitoring .... I think it
14073   can aid in the detection/prediction of application contention caused by hot-locks.
14074   &lt;/intro&gt;
14075 &lt;/issuessection&gt;
14076 
14077 &lt;changehistory id=&quot;ChangeHistory&quot; update=&quot;09/05/07&quot;&gt;
14078   &lt;intro&gt;
14079     The &lt;jvmti/&gt; specification is an evolving document with major, minor,
14080     and micro version numbers.
14081     A released version of the specification is uniquely identified
14082     by its major and minor version.
14083     The functions, events, and capabilities in this specification
14084     indicate a &quot;Since&quot; value which is the major and minor version in
14085     which it was introduced.
14086     The version of the specification implemented by the VM can
14087     be retrieved at runtime with the &lt;functionlink id=&quot;GetVersionNumber&quot;/&gt;
14088     function.
14089   &lt;/intro&gt;
14090   &lt;change date=&quot;14 Nov 2002&quot;&gt;
14091     Converted to XML document.
14092   &lt;/change&gt;
14093   &lt;change date=&quot;14 Nov 2002&quot;&gt;
14094     Elided heap dump functions (for now) since what was there
14095     was wrong.
14096   &lt;/change&gt;
14097   &lt;change date=&quot;18 Nov 2002&quot;&gt;
14098     Added detail throughout.
14099   &lt;/change&gt;
14100   &lt;change date=&quot;18 Nov 2002&quot;&gt;
14101     Changed JVMTI_THREAD_STATUS_RUNNING to JVMTI_THREAD_STATUS_RUNNABLE.
14102   &lt;/change&gt;
14103   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14104     Added AsyncGetStackTrace.
14105   &lt;/change&gt;
14106   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14107     Added jframeID return to GetStackTrace.
14108   &lt;/change&gt;
14109   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14110     Elided GetCurrentFrame and GetCallingFrame functions (for now) since what was there
14111     since they are redundant with GetStackTrace.
14112   &lt;/change&gt;
14113   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14114     Elided ClearAllBreakpoints since it has always been redundant.
14115   &lt;/change&gt;
14116   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14117     Added GetSystemProperties.
14118   &lt;/change&gt;
14119   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14120     Changed the thread local storage functions to use jthread.
14121   &lt;/change&gt;
14122   &lt;change date=&quot;20 Nov 2002&quot;&gt;
14123     Added GetJLocationFormat.
14124   &lt;/change&gt;
14125   &lt;change date=&quot;22 Nov 2002&quot;&gt;
14126     Added events and introductory text.
14127   &lt;/change&gt;
14128   &lt;change date=&quot;22 Nov 2002&quot;&gt;
14129     Cross reference type and constant definitions.
14130   &lt;/change&gt;
14131   &lt;change date=&quot;24 Nov 2002&quot;&gt;
14132     Added DTD.
14133   &lt;/change&gt;
14134   &lt;change date=&quot;24 Nov 2002&quot;&gt;
14135     Added capabilities function section.
14136   &lt;/change&gt;
14137   &lt;change date=&quot;29 Nov 2002&quot;&gt;
14138     Assign capabilities to each function and event.
14139   &lt;/change&gt;
14140   &lt;change date=&quot;29 Nov 2002&quot;&gt;
14141     Add &lt;internallink id=&quot;jniIntercept&quot;&gt;JNI interception functions&lt;/internallink&gt;.
14142   &lt;/change&gt;
14143   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14144     Auto generate SetEventNotificationMode capabilities.
14145   &lt;/change&gt;
14146   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14147     Add &lt;eventlink id=&quot;VMObjectAlloc&quot;&gt;&lt;/eventlink&gt; event.
14148   &lt;/change&gt;
14149   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14150     Add &lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;/eventlink&gt; event.
14151   &lt;/change&gt;
14152   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14153     Add const to declarations.
14154   &lt;/change&gt;
14155   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14156     Change method exit and frame pop to send on exception.
14157   &lt;/change&gt;
14158   &lt;change date=&quot;1 Dec 2002&quot;&gt;
14159     Add ForceGarbageCollection.
14160   &lt;/change&gt;
14161   &lt;change date=&quot;2 Dec 2002&quot;&gt;
14162     Redo Xrun section; clarify GetStackTrace and add example;
14163     Fix width problems; use &quot;agent&quot; consistently.
14164   &lt;/change&gt;
14165   &lt;change date=&quot;8 Dec 2002&quot;&gt;
14166     Remove previous start-up intro.
14167     Add &lt;internallink id=&quot;environments&quot;&gt;&lt;jvmti/&gt; Environments&lt;/internallink&gt;
14168     section.
14169   &lt;/change&gt;
14170   &lt;change date=&quot;8 Dec 2002&quot;&gt;
14171     Add &lt;functionlink id=&quot;DisposeEnvironment&quot;&gt;&lt;/functionlink&gt;.
14172   &lt;/change&gt;
14173   &lt;change date=&quot;9 Dec 2002&quot;&gt;
14174     Numerous minor updates.
14175   &lt;/change&gt;
14176   &lt;change date=&quot;15 Dec 2002&quot;&gt;
14177     Add heap profiling functions added:
14178     get/set annotation, iterate live objects/heap.
14179     Add heap profiling functions place holder added:
14180     heap roots.
14181     Heap profiling event added: object free.
14182     Heap profiling event redesigned: vm object allocation.
14183     Heap profiling event placeholders added: garbage collection start/finish.
14184     Native method bind event added.
14185   &lt;/change&gt;
14186   &lt;change date=&quot;19 Dec 2002&quot;&gt;
14187     Revamp suspend/resume functions.
14188     Add origin information with jvmdi tag.
14189     Misc fixes.
14190   &lt;/change&gt;
14191   &lt;change date=&quot;24 Dec 2002&quot;&gt;
14192     Add semantics to types.
14193   &lt;/change&gt;
14194   &lt;change date=&quot;27 Dec 2002&quot;&gt;
14195     Add local reference section.
14196     Autogenerate parameter descriptions from types.
14197   &lt;/change&gt;
14198   &lt;change date=&quot;28 Dec 2002&quot;&gt;
14199     Document that RunAgentThread sends threadStart.
14200   &lt;/change&gt;
14201   &lt;change date=&quot;29 Dec 2002&quot;&gt;
14202     Remove redundant local ref and dealloc warning.
14203     Convert GetRawMonitorName to allocated buffer.
14204     Add GenerateEvents.
14205   &lt;/change&gt;
14206   &lt;change date=&quot;30 Dec 2002&quot;&gt;
14207     Make raw monitors a type and rename to &quot;jrawMonitorID&quot;.
14208   &lt;/change&gt;
14209   &lt;change date=&quot;1 Jan 2003&quot;&gt;
14210     Include origin information.
14211     Clean-up JVMDI issue references.
14212     Remove Deallocate warnings which are now automatically generated.
14213   &lt;/change&gt;
14214   &lt;change date=&quot;2 Jan 2003&quot;&gt;
14215     Fix representation issues for jthread.
14216   &lt;/change&gt;
14217   &lt;change date=&quot;3 Jan 2003&quot;&gt;
14218     Make capabilities buffered out to 64 bits - and do it automatically.
14219   &lt;/change&gt;
14220   &lt;change date=&quot;4 Jan 2003&quot;&gt;
14221     Make constants which are enumeration into enum types.
14222     Parameters now of enum type.
14223     Clean-up and index type section.
14224     Replace remaining datadef entities with callback.
14225   &lt;/change&gt;
14226   &lt;change date=&quot;7 Jan 2003&quot;&gt;
14227     Correct GenerateEvents description.
14228     More internal semantics work.
14229   &lt;/change&gt;
14230   &lt;change date=&quot;9 Jan 2003&quot;&gt;
14231     Replace previous GetSystemProperties with two functions
14232     which use allocated information instead fixed.
14233     Add SetSystemProperty.
14234     More internal semantics work.
14235   &lt;/change&gt;
14236   &lt;change date=&quot;12 Jan 2003&quot;&gt;
14237     Add varargs to end of SetEventNotificationMode.
14238   &lt;/change&gt;
14239   &lt;change date=&quot;20 Jan 2003&quot;&gt;
14240     Finish fixing spec to reflect that alloc sizes are jlong.
14241   &lt;/change&gt;
14242   &lt;change date=&quot;22 Jan 2003&quot;&gt;
14243     Allow NULL as RunAgentThread arg.
14244   &lt;/change&gt;
14245   &lt;change date=&quot;22 Jan 2003&quot;&gt;
14246     Fixed names to standardized naming convention
14247     Removed AsyncGetStackTrace.
14248   &lt;/change&gt;
14249   &lt;change date=&quot;29 Jan 2003&quot;&gt;
14250     Since we are using jthread, removed GetThread.
14251   &lt;/change&gt;
14252   &lt;change date=&quot;31 Jan 2003&quot;&gt;
14253     Change GetFieldName to allow NULLs like GetMethodName.
14254   &lt;/change&gt;
14255   &lt;change date=&quot;29 Feb 2003&quot; version=&quot;v40&quot;&gt;
14256       Rewrite the introductory text, adding sections on
14257       start-up, environments and bytecode instrumentation.
14258       Change the command line arguments per EG discussions.
14259       Add an introduction to the capabilities section.
14260       Add the extension mechanism category and functions.
14261       Mark for deletion, but clarified anyhow, SuspendAllThreads.
14262       Rename IterateOverLiveObjects to IterateOverReachableObjects and
14263       change the text accordingly.
14264       Clarify IterateOverHeap.
14265       Clarify CompiledMethodLoad.
14266       Discuss prerequisite state for Calling Functions.
14267       Clarify SetAllocationHooks.
14268       Added issues (&quot;To be resolved:&quot;) through-out.
14269       And so on...
14270   &lt;/change&gt;
14271   &lt;change date=&quot;6 Mar 2003&quot; version=&quot;v41&quot;&gt;
14272       Remove struct from the call to GetOwnedMonitorInfo.
14273       Automatically generate most error documentation, remove
14274       (rather broken) hand written error doc.
14275       Better describe capability use (empty initial set).
14276       Add min value to jint params.
14277       Remove the capability can_access_thread_local_storage.
14278       Rename error JVMTI_ERROR_NOT_IMPLEMENTED to JVMTI_ERROR_MUST_POSSESS_CAPABILITY;
14279       same for *NOT_IMPLEMENTED.
14280       Description fixes.
14281   &lt;/change&gt;
14282   &lt;change date=&quot;8 Mar 2003&quot; version=&quot;v42&quot;&gt;
14283       Rename GetClassSignature to GetClassName.
14284       Rename IterateOverClassObjects to IterateOverInstancesOfClass.
14285       Remove GetMaxStack (operand stack isn&#39;t used in &lt;jvmti/&gt;).
14286       Description fixes: define launch-time, remove native frame pop
14287       from PopFrame, and assorted clarifications.
14288   &lt;/change&gt;
14289   &lt;change date=&quot;8 Mar 2003&quot; version=&quot;v43&quot;&gt;
14290       Fix minor editing problem.
14291   &lt;/change&gt;
14292   &lt;change date=&quot;10 Mar 2003&quot; version=&quot;v44&quot;&gt;
14293       Add phase information.
14294       Remap (compact) event numbers.
14295   &lt;/change&gt;
14296   &lt;change date=&quot;11 Mar 2003&quot; version=&quot;v45&quot;&gt;
14297       More phase information - allow &quot;any&quot;.
14298       Elide raw monitor queries and events.
14299       Minor description fixes.
14300   &lt;/change&gt;
14301   &lt;change date=&quot;12 Mar 2003&quot; version=&quot;v46&quot;&gt;
14302       Add GetPhase.
14303       Use &quot;phase&quot; through document.
14304       Elide GetRawMonitorName.
14305       Elide GetObjectMonitors.
14306   &lt;/change&gt;
14307   &lt;change date=&quot;12 Mar 2003&quot; version=&quot;v47&quot;&gt;
14308       Fixes from link, XML, and spell checking.
14309       Auto-generate the callback structure.
14310   &lt;/change&gt;
14311   &lt;change date=&quot;13 Mar 2003&quot; version=&quot;v48&quot;&gt;
14312       One character XML fix.
14313   &lt;/change&gt;
14314   &lt;change date=&quot;13 Mar 2003&quot; version=&quot;v49&quot;&gt;
14315       Change function parameter names to be consistent with
14316       event parameters (fooBarBaz becomes foo_bar_baz).
14317   &lt;/change&gt;
14318   &lt;change date=&quot;14 Mar 2003&quot; version=&quot;v50&quot;&gt;
14319       Fix broken link.  Fix thread markers.
14320   &lt;/change&gt;
14321   &lt;change date=&quot;14 Mar 2003&quot; version=&quot;v51&quot;&gt;
14322       Change constants so they are under 128 to workaround
14323       compiler problems.
14324   &lt;/change&gt;
14325   &lt;change date=&quot;23 Mar 2003&quot; version=&quot;v52&quot;&gt;
14326       Overhaul capabilities.  Separate GetStackTrace into
14327       GetStackTrace and GetStackFrames.
14328   &lt;/change&gt;
14329   &lt;change date=&quot;8 Apr 2003&quot; version=&quot;v54&quot;&gt;
14330       Use depth instead of jframeID to reference frames.
14331       Remove the now irrelevant GetCurrentFrame, GetCallerFrame and GetStackFrames.
14332       Remove frame arg from events.
14333   &lt;/change&gt;
14334   &lt;change date=&quot;9 Apr 2003&quot; version=&quot;v55&quot;&gt;
14335       Remove GetObjectWithAnnotation since tests show bufferred approach more efficient.
14336       Add missing annotation_count to GetObjectsWithAnnotations
14337   &lt;/change&gt;
14338   &lt;change date=&quot;10 Apr 2003&quot; version=&quot;v56&quot;&gt;
14339       Remove confusing parenthetical statement in GetObjectsWithAnnotations
14340   &lt;/change&gt;
14341   &lt;change date=&quot;13 Apr 2003&quot; version=&quot;v58&quot;&gt;
14342       Replace jclass/jmethodID representation of method with simply jmethodID;
14343       Pass JvmtiEnv* as first arg of every event; remove JNIEnv* where inappropriate.
14344       Replace can_access_frames with can_access_local_variables; remove from purely stack access.
14345       Use can_get_synthetic_attribute; fix description.
14346       Clarify that zero length arrays must be deallocated.
14347       Clarify RelinquishCapabilities.
14348       Generalize JVMTI_ERROR_VM_DEAD to JVMTI_ERROR_WRONG_PHASE.
14349   &lt;/change&gt;
14350   &lt;change date=&quot;27 Apr 2003&quot; version=&quot;v59&quot;&gt;
14351       Remove lingering indirect references to OBSOLETE_METHOD_ID.
14352   &lt;/change&gt;
14353   &lt;change date=&quot;4 May 2003&quot; version=&quot;v60&quot;&gt;
14354       Allow DestroyRawMonitor during OnLoad.
14355   &lt;/change&gt;
14356   &lt;change date=&quot;7 May 2003&quot; version=&quot;v61&quot;&gt;
14357       Added not monitor owner error return to DestroyRawMonitor.
14358   &lt;/change&gt;
14359   &lt;change date=&quot;13 May 2003&quot; version=&quot;v62&quot;&gt;
14360       Clarify semantics of raw monitors.
14361       Change flags on &lt;code&gt;GetThreadStatus&lt;/code&gt;.
14362       &lt;code&gt;GetClassLoader&lt;/code&gt; return NULL for the bootstrap class loader.
14363       Add &lt;code&gt;GetClassName&lt;/code&gt; issue.
14364       Define local variable signature.
14365       Disallow zero in annotations array of &lt;code&gt;GetObjectsWithAnnotations&lt;/code&gt;.
14366       Remove over specification in &lt;code&gt;GetObjectsWithAnnotations&lt;/code&gt;.
14367       Elide &lt;code&gt;SetAllocationHooks&lt;/code&gt;.
14368       Elide &lt;code&gt;SuspendAllThreads&lt;/code&gt;.
14369   &lt;/change&gt;
14370   &lt;change date=&quot;14 May 2003&quot; version=&quot;v63&quot;&gt;
14371       Define the data type &lt;code&gt;jvmtiEventCallbacks&lt;/code&gt;.
14372       Zero length allocations return NULL.
14373       Keep SetAllocationHooks in JVMDI, but remove from &lt;jvmti/&gt;.
14374       Add JVMTI_THREAD_STATUS_FLAG_INTERRUPTED.
14375   &lt;/change&gt;
14376   &lt;change date=&quot;15 May 2003&quot; version=&quot;v64&quot;&gt;
14377       Better wording, per review.
14378   &lt;/change&gt;
14379   &lt;change date=&quot;15 May 2003&quot; version=&quot;v65&quot;&gt;
14380       First Alpha.
14381       Make jmethodID and jfieldID unique, jclass not used.
14382   &lt;/change&gt;
14383   &lt;change date=&quot;27 May 2003&quot; version=&quot;v66&quot;&gt;
14384       Fix minor XSLT errors.
14385   &lt;/change&gt;
14386   &lt;change date=&quot;13 June 2003&quot; version=&quot;v67&quot;&gt;
14387       Undo making jfieldID unique (jmethodID still is).
14388   &lt;/change&gt;
14389   &lt;change date=&quot;17 June 2003&quot; version=&quot;v68&quot;&gt;
14390       Changes per June 11th Expert Group meeting --
14391       Overhaul Heap functionality: single callback,
14392       remove GetHeapRoots, add reachable iterators,
14393       and rename &quot;annotation&quot; to &quot;tag&quot;.
14394       NULL thread parameter on most functions is current
14395       thread.
14396       Add timers.
14397       Remove ForceExit.
14398       Add GetEnvironmentLocalStorage.
14399       Add verbose flag and event.
14400       Add AddToBootstrapClassLoaderSearch.
14401       Update ClassFileLoadHook.
14402   &lt;/change&gt;
14403   &lt;change date=&quot;18 June 2003&quot; version=&quot;v69&quot;&gt;
14404       Clean up issues sections.
14405       Rename GetClassName back to GetClassSignature and
14406       fix description.
14407       Add generic signature to GetClassSignature,
14408       GetFieldSignature, GetMethodSignature, and
14409       GetLocalVariableTable.
14410       Elide EstimateCostOfCapabilities.
14411       Clarify that the system property functions operate
14412       on the VM view of system properties.
14413       Clarify Agent_OnLoad.
14414       Remove &quot;const&quot; from JNIEnv* in events.
14415       Add metadata accessors.
14416   &lt;/change&gt;
14417   &lt;change date=&quot;18 June 2003&quot; version=&quot;v70&quot;&gt;
14418       Add start_depth to GetStackTrace.
14419       Move system properties to a new category.
14420       Add GetObjectSize.
14421       Remove &quot;X&quot; from command line flags.
14422       XML, HTML, and spell check corrections.
14423   &lt;/change&gt;
14424   &lt;change date=&quot;19 June 2003&quot; version=&quot;v71&quot;&gt;
14425       Fix JVMTI_HEAP_ROOT_THREAD to be 6.
14426       Make each synopsis match the function name.
14427       Fix unclear wording.
14428   &lt;/change&gt;
14429   &lt;change date=&quot;26 June 2003&quot; version=&quot;v72&quot;&gt;
14430       SetThreadLocalStorage and SetEnvironmentLocalStorage should allow value
14431       to be set to NULL.
14432       NotifyFramePop, GetFrameLocationm and all the local variable operations
14433       needed to have their wording about frames fixed.
14434       Grammar and clarity need to be fixed throughout.
14435       Capitalization and puntuation need to be consistent.
14436       Need micro version number and masks for accessing major, minor, and micro.
14437       The error code lists should indicate which must be returned by
14438       an implementation.
14439       The command line properties should be visible in the properties functions.
14440       Disallow popping from the current thread.
14441       Allow implementations to return opaque frame error when they cannot pop.
14442       The NativeMethodBind event should be sent during any phase.
14443       The DynamicCodeGenerated event should be sent during any phase.
14444       The following functions should be allowed to operate before VMInit:
14445 	Set/GetEnvironmentLocalStorage
14446 	GetMethodDeclaringClass
14447 	GetClassSignature
14448 	GetClassModifiers
14449 	IsInterface
14450 	IsArrayClass
14451 	GetMethodName
14452 	GetMethodModifiers
14453 	GetMaxLocals
14454 	GetArgumentsSize
14455 	GetLineNumberTable
14456 	GetMethodLocation
14457 	IsMethodNative
14458 	IsMethodSynthetic.
14459       Other changes (to XSL):
14460       Argument description should show asterisk after not before pointers.
14461       NotifyFramePop, GetFrameLocationm and all the local variable operations
14462       should hsve the NO_MORE_FRAMES error added.
14463       Not alive threads should have a different error return than invalid thread.
14464   &lt;/change&gt;
14465   &lt;change date=&quot;7 July 2003&quot; version=&quot;v73&quot;&gt;
14466       VerboseOutput event was missing message parameter.
14467       Minor fix-ups.
14468   &lt;/change&gt;
14469   &lt;change date=&quot;14 July 2003&quot; version=&quot;v74&quot;&gt;
14470       Technical Publications Department corrections.
14471       Allow thread and environment local storage to be set to NULL.
14472   &lt;/change&gt;
14473   &lt;change date=&quot;23 July 2003&quot; version=&quot;v75&quot;&gt;
14474       Use new Agent_OnLoad rather than overloaded JVM_OnLoad.
14475       Add JNICALL to callbacks (XSL).
14476       Document JNICALL requirement for both events and callbacks (XSL).
14477       Restrict RedefineClasses to methods and attributes.
14478       Elide the VerboseOutput event.
14479       VMObjectAlloc: restrict when event is sent and remove method parameter.
14480       Finish loose ends from Tech Pubs edit.
14481   &lt;/change&gt;
14482   &lt;change date=&quot;24 July 2003&quot; version=&quot;v76&quot;&gt;
14483       Change ClassFileLoadHook event to send the class instead of a boolean of redefine.
14484   &lt;/change&gt;
14485   &lt;change date=&quot;24 July 2003&quot; version=&quot;v77&quot;&gt;
14486       XML fixes.
14487       Minor text clarifications and corrections.
14488   &lt;/change&gt;
14489   &lt;change date=&quot;24 July 2003&quot; version=&quot;v78&quot;&gt;
14490       Remove GetExceptionHandlerTable and GetThrownExceptions from &lt;jvmti/&gt;.
14491       Clarify that stack frames are JVM Spec frames.
14492       Split can_get_source_info into can_get_source_file_name, can_get_line_numbers,
14493       and can_get_source_debug_extension.
14494       PopFrame cannot have a native calling method.
14495       Removed incorrect statement in GetClassloaderClasses
14496       (see &lt;vmspec chapter=&quot;4.4&quot;/&gt;).
14497   &lt;/change&gt;
14498   &lt;change date=&quot;24 July 2003&quot; version=&quot;v79&quot;&gt;
14499       XML and text fixes.
14500       Move stack frame description into Stack Frame category.
14501   &lt;/change&gt;
14502   &lt;change date=&quot;26 July 2003&quot; version=&quot;v80&quot;&gt;
14503       Allow NULL (means bootstrap loader) for GetClassloaderClasses.
14504       Add new heap reference kinds for references from classes.
14505       Add timer information struct and query functions.
14506       Add AvailableProcessors.
14507       Rename GetOtherThreadCpuTime to GetThreadCpuTime.
14508       Explicitly add JVMTI_ERROR_INVALID_THREAD and JVMTI_ERROR_THREAD_NOT_ALIVE
14509       to SetEventNotification mode.
14510       Add initial thread to the VM_INIT event.
14511       Remove platform assumptions from AddToBootstrapClassLoaderSearch.
14512   &lt;/change&gt;
14513   &lt;change date=&quot;26 July 2003&quot; version=&quot;v81&quot;&gt;
14514       Grammar and clarity changes per review.
14515   &lt;/change&gt;
14516   &lt;change date=&quot;27 July 2003&quot; version=&quot;v82&quot;&gt;
14517       More grammar and clarity changes per review.
14518       Add Agent_OnUnload.
14519   &lt;/change&gt;
14520   &lt;change date=&quot;28 July 2003&quot; version=&quot;v83&quot;&gt;
14521       Change return type of Agent_OnUnload to void.
14522   &lt;/change&gt;
14523   &lt;change date=&quot;28 July 2003&quot; version=&quot;v84&quot;&gt;
14524       Rename JVMTI_REFERENCE_ARRAY to JVMTI_REFERENCE_ARRAY_ELEMENT.
14525   &lt;/change&gt;
14526   &lt;change date=&quot;28 July 2003&quot; version=&quot;v85&quot;&gt;
14527       Steal java.lang.Runtime.availableProcessors() wording for
14528       AvailableProcessors().
14529       Guarantee that zero will never be an event ID.
14530       Remove some issues which are no longer issues.
14531       Per review, rename and more completely document the timer
14532       information functions.
14533   &lt;/change&gt;
14534   &lt;change date=&quot;29 July 2003&quot; version=&quot;v86&quot;&gt;
14535       Non-spec visible change to XML controlled implementation:
14536         SetThreadLocalStorage must run in VM mode.
14537   &lt;/change&gt;
14538   &lt;change date=&quot;5 August 2003&quot; version=&quot;0.1.87&quot;&gt;
14539       Add GetErrorName.
14540       Add varargs warning to jvmtiExtensionEvent.
14541       Remove &quot;const&quot; on the jvmtiEnv* of jvmtiExtensionEvent.
14542       Remove unused can_get_exception_info capability.
14543       Pass jvmtiEnv* and JNIEnv* to the jvmtiStartFunction.
14544       Fix jvmtiExtensionFunctionInfo.func declared type.
14545       Extension function returns error code.
14546       Use new version numbering.
14547   &lt;/change&gt;
14548   &lt;change date=&quot;5 August 2003&quot; version=&quot;0.2.88&quot;&gt;
14549       Remove the ClassUnload event.
14550   &lt;/change&gt;
14551   &lt;change date=&quot;8 August 2003&quot; version=&quot;0.2.89&quot;&gt;
14552       Heap reference iterator callbacks return an enum that
14553       allows outgoing object references to be ignored.
14554       Allow JNIEnv as a param type to extension events/functions.
14555   &lt;/change&gt;
14556   &lt;change date=&quot;15 August 2003&quot; version=&quot;0.2.90&quot;&gt;
14557       Fix a typo.
14558   &lt;/change&gt;
14559   &lt;change date=&quot;2 September 2003&quot; version=&quot;0.2.91&quot;&gt;
14560       Remove all metadata functions: GetClassMetadata,
14561       GetFieldMetadata, and GetMethodMetadata.
14562   &lt;/change&gt;
14563   &lt;change date=&quot;1 October 2003&quot; version=&quot;0.2.92&quot;&gt;
14564       Mark the functions Allocate. Deallocate, RawMonitor*,
14565       SetEnvironmentLocalStorage, and GetEnvironmentLocalStorage
14566       as safe for use in heap callbacks and GC events.
14567   &lt;/change&gt;
14568   &lt;change date=&quot;24 November 2003&quot; version=&quot;0.2.93&quot;&gt;
14569       Add pass through opaque user data pointer to heap iterate
14570       functions and callbacks.
14571       In the CompiledMethodUnload event, send the code address.
14572       Add GarbageCollectionOccurred event.
14573       Add constant pool reference kind.
14574       Mark the functions CreateRawMonitor and DestroyRawMonitor
14575       as safe for use in heap callbacks and GC events.
14576       Clarify: VMDeath, GetCurrentThreadCpuTimerInfo,
14577       GetThreadCpuTimerInfo, IterateOverReachableObjects,
14578       IterateOverObjectsReachableFromObject, GetTime and
14579       JVMTI_ERROR_NULL_POINTER.
14580       Add missing errors to: GenerateEvents and
14581       AddToBootstrapClassLoaderSearch.
14582       Fix description of ClassFileLoadHook name parameter.
14583       In heap callbacks and GC/ObjectFree events, specify
14584       that only explicitly allowed functions can be called.
14585       Allow GetCurrentThreadCpuTimerInfo, GetCurrentThreadCpuTime,
14586       GetTimerInfo, and GetTime during callback.
14587       Allow calling SetTag/GetTag during the onload phase.
14588       SetEventNotificationMode, add: error attempted inappropriate
14589       thread level control.
14590       Remove jvmtiExceptionHandlerEntry.
14591       Fix handling of native methods on the stack --
14592       location_ptr param of GetFrameLocation, remove
14593       JVMTI_ERROR_OPAQUE_FRAME from GetFrameLocation,
14594       jvmtiFrameInfo.location, and jlocation.
14595       Remove typo (from JVMPI) implying that the MonitorWaited
14596       event is sent on sleep.
14597   &lt;/change&gt;
14598   &lt;change date=&quot;25 November 2003&quot; version=&quot;0.2.94&quot;&gt;
14599       Clarifications and typos.
14600   &lt;/change&gt;
14601   &lt;change date=&quot;3 December 2003&quot; version=&quot;0.2.95&quot;&gt;
14602       Allow NULL user_data in heap iterators.
14603   &lt;/change&gt;
14604   &lt;change date=&quot;28 January 2004&quot; version=&quot;0.2.97&quot;&gt;
14605       Add GetThreadState, deprecate GetThreadStatus.
14606   &lt;/change&gt;
14607   &lt;change date=&quot;29 January 2004&quot; version=&quot;0.2.98&quot;&gt;
14608       INVALID_SLOT and TYPE_MISMATCH errors should be optional.
14609   &lt;/change&gt;
14610   &lt;change date=&quot;12 February 2004&quot; version=&quot;0.2.102&quot;&gt;
14611       Remove MonitorContendedExit.
14612       Added JNIEnv parameter to VMObjectAlloc.
14613       Clarified definition of class_tag and referrer_index
14614       parameters to heap callbacks.
14615   &lt;/change&gt;
14616   &lt;change date=&quot;16 Febuary 2004&quot; version=&quot;0.2.103&quot;&gt;
14617       Document JAVA_TOOL_OPTIONS.
14618   &lt;/change&gt;
14619   &lt;change date=&quot;17 Febuary 2004&quot; version=&quot;0.2.105&quot;&gt;
14620       Divide start phase into primordial and start.
14621       Add VMStart event
14622       Change phase associations of functions and events.
14623   &lt;/change&gt;
14624   &lt;change date=&quot;18 Febuary 2004&quot; version=&quot;0.3.6&quot;&gt;
14625       Elide deprecated GetThreadStatus.
14626       Bump minor version, subtract 100 from micro version
14627   &lt;/change&gt;
14628   &lt;change date=&quot;18 Febuary 2004&quot; version=&quot;0.3.7&quot;&gt;
14629       Document that timer nanosecond values are unsigned.
14630       Clarify text having to do with native methods.
14631   &lt;/change&gt;
14632   &lt;change date=&quot;19 Febuary 2004&quot; version=&quot;0.3.8&quot;&gt;
14633       Fix typos.
14634       Remove elided deprecated GetThreadStatus.
14635   &lt;/change&gt;
14636   &lt;change date=&quot;23 Febuary 2004&quot; version=&quot;0.3.9&quot;&gt;
14637       Require NotifyFramePop to act on suspended threads.
14638   &lt;/change&gt;
14639   &lt;change date=&quot;24 Febuary 2004&quot; version=&quot;0.3.10&quot;&gt;
14640       Add capabilities
14641         (&lt;internallink id=&quot;jvmtiCapabilities.can_redefine_any_class&quot;
14642          &gt;&lt;code&gt;can_redefine_any_class&lt;/code&gt;&lt;/internallink&gt;
14643       and
14644          &lt;internallink id=&quot;jvmtiCapabilities.can_generate_all_class_hook_events&quot;
14645          &gt;&lt;code&gt;can_generate_all_class_hook_events&lt;/code&gt;&lt;/internallink&gt;)
14646       and an error (&lt;errorlink id=&quot;JVMTI_ERROR_UNMODIFIABLE_CLASS&quot;&gt;&lt;/errorlink&gt;)
14647       which allow some classes to be unmodifiable.
14648   &lt;/change&gt;
14649   &lt;change date=&quot;28 Febuary 2004&quot; version=&quot;0.3.11&quot;&gt;
14650       Add JVMTI_ERROR_MUST_POSSESS_CAPABILITY to SetEventNotificationMode.
14651   &lt;/change&gt;
14652   &lt;change date=&quot;8 March 2004&quot; version=&quot;0.3.12&quot;&gt;
14653       Clarified CompiledMethodUnload so that it is clear the event
14654       may be posted after the class has been unloaded.
14655   &lt;/change&gt;
14656   &lt;change date=&quot;5 March 2004&quot; version=&quot;0.3.13&quot;&gt;
14657       Change the size parameter of VMObjectAlloc to jlong to match GetObjectSize.
14658   &lt;/change&gt;
14659   &lt;change date=&quot;13 March 2004&quot; version=&quot;0.3.14&quot;&gt;
14660       Added guideline for the use of the JNI FindClass function in event
14661       callback functions.
14662   &lt;/change&gt;
14663   &lt;change date=&quot;15 March 2004&quot; version=&quot;0.3.15&quot;&gt;
14664       Add GetAllStackTraces and GetThreadListStackTraces.
14665   &lt;/change&gt;
14666   &lt;change date=&quot;19 March 2004&quot; version=&quot;0.3.16&quot;&gt;
14667       ClassLoad and ClassPrepare events can be posted during start phase.
14668   &lt;/change&gt;
14669   &lt;change date=&quot;25 March 2004&quot; version=&quot;0.3.17&quot;&gt;
14670       Add JVMTI_ERROR_NATIVE_METHOD to GetLineNumberTable, GetLocalVariableTable,
14671       GetMaxLocals, GetArgumentsSize, GetMethodLocation, GetBytecodes.
14672   &lt;/change&gt;
14673   &lt;change date=&quot;29 March 2004&quot; version=&quot;0.3.18&quot;&gt;
14674       Return the timer kind in the timer information structure.
14675   &lt;/change&gt;
14676   &lt;change date=&quot;31 March 2004&quot; version=&quot;0.3.19&quot;&gt;
14677       Spec clarifications:
14678       JVMTI_THREAD_STATE_IN_NATIVE might not include JNI or &lt;jvmti/&gt;.
14679       ForceGarbageCollection does not run finalizers.
14680       The context of the specification is the Java platform.
14681       Warn about early instrumentation.
14682   &lt;/change&gt;
14683   &lt;change date=&quot;1 April 2004&quot; version=&quot;0.3.20&quot;&gt;
14684       Refinements to the above clarifications and
14685       Clarify that an error returned by Agent_OnLoad terminates the VM.
14686   &lt;/change&gt;
14687   &lt;change date=&quot;1 April 2004&quot; version=&quot;0.3.21&quot;&gt;
14688       Array class creation does not generate a class load event.
14689   &lt;/change&gt;
14690   &lt;change date=&quot;7 April 2004&quot; version=&quot;0.3.22&quot;&gt;
14691       Align thread state hierarchy more closely with java.lang.Thread.State.
14692   &lt;/change&gt;
14693   &lt;change date=&quot;12 April 2004&quot; version=&quot;0.3.23&quot;&gt;
14694       Clarify the documentation of thread state.
14695   &lt;/change&gt;
14696   &lt;change date=&quot;19 April 2004&quot; version=&quot;0.3.24&quot;&gt;
14697       Remove GarbageCollectionOccurred event -- can be done by agent.
14698   &lt;/change&gt;
14699   &lt;change date=&quot;22 April 2004&quot; version=&quot;0.3.25&quot;&gt;
14700       Define &quot;command-line option&quot;.
14701   &lt;/change&gt;
14702   &lt;change date=&quot;29 April 2004&quot; version=&quot;0.3.26&quot;&gt;
14703       Describe the intended use of bytecode instrumentation.
14704       Fix description of extension event first parameter.
14705   &lt;/change&gt;
14706   &lt;change date=&quot;30 April 2004&quot; version=&quot;0.3.27&quot;&gt;
14707       Clarification and typos.
14708   &lt;/change&gt;
14709   &lt;change date=&quot;18 May 2004&quot; version=&quot;0.3.28&quot;&gt;
14710       Remove DataDumpRequest event.
14711   &lt;/change&gt;
14712   &lt;change date=&quot;18 May 2004&quot; version=&quot;0.3.29&quot;&gt;
14713       Clarify RawMonitorWait with zero timeout.
14714       Clarify thread state after RunAgentThread.
14715   &lt;/change&gt;
14716   &lt;change date=&quot;24 May 2004&quot; version=&quot;0.3.30&quot;&gt;
14717       Clean-up: fix bad/old links, etc.
14718   &lt;/change&gt;
14719   &lt;change date=&quot;30 May 2004&quot; version=&quot;0.3.31&quot;&gt;
14720       Clarifications including:
14721       All character strings are modified UTF-8.
14722       Agent thread visibiity.
14723       Meaning of obsolete method version.
14724       Thread invoking heap callbacks,
14725   &lt;/change&gt;
14726   &lt;change date=&quot;1 June 2004&quot; version=&quot;1.0.32&quot;&gt;
14727       Bump major.minor version numbers to &quot;1.0&quot;.
14728   &lt;/change&gt;
14729   &lt;change date=&quot;2 June 2004&quot; version=&quot;1.0.33&quot;&gt;
14730       Clarify interaction between ForceGarbageCollection
14731       and ObjectFree.
14732   &lt;/change&gt;
14733   &lt;change date=&quot;6 June 2004&quot; version=&quot;1.0.34&quot;&gt;
14734       Restrict AddToBootstrapClassLoaderSearch and
14735       SetSystemProperty to the OnLoad phase only.
14736   &lt;/change&gt;
14737   &lt;change date=&quot;11 June 2004&quot; version=&quot;1.0.35&quot;&gt;
14738       Fix typo in SetTag.
14739   &lt;/change&gt;
14740   &lt;change date=&quot;18 June 2004&quot; version=&quot;1.0.36&quot;&gt;
14741       Fix trademarks.
14742       Add missing parameter in example GetThreadState usage.
14743   &lt;/change&gt;
14744   &lt;change date=&quot;4 August 2004&quot; version=&quot;1.0.37&quot;&gt;
14745       Copyright updates.
14746   &lt;/change&gt;
14747   &lt;change date=&quot;5 November 2004&quot; version=&quot;1.0.38&quot;&gt;
14748       Add missing function table layout.
14749       Add missing description of C++ member function format of functions.
14750       Clarify that name in CFLH can be NULL.
14751       Released as part of &lt;tm&gt;J2SE&lt;/tm&gt; 5.0.
14752   &lt;/change&gt;
14753   &lt;change date=&quot;24 April 2005&quot; version=&quot;1.1.47&quot;&gt;
14754       Bump major.minor version numbers to &quot;1.1&quot;.
14755       Add ForceEarlyReturn* functions.
14756       Add GetOwnedMonitorStackDepthInfo function.
14757       Add GetCurrentThread function.
14758       Add &quot;since&quot; version marker.
14759       Add AddToSystemClassLoaderSearch.
14760       Allow AddToBootstrapClassLoaderSearch be used in live phase.
14761       Fix historic rubbish in the descriptions of the heap_object_callback
14762       parameter of IterateOverHeap and IterateOverInstancesOfClass functions;
14763       disallow NULL for this parameter.
14764       Clarify, correct and make consistent: wording about current thread,
14765       opaque frames and insufficient number of frames in PopFrame.
14766       Consistently use &quot;current frame&quot; rather than &quot;topmost&quot;.
14767       Clarify the JVMTI_ERROR_TYPE_MISMATCH errors in GetLocal* and SetLocal*
14768       by making them compatible with those in ForceEarlyReturn*.
14769       Many other clarifications and wording clean ups.
14770   &lt;/change&gt;
14771   &lt;change date=&quot;25 April 2005&quot; version=&quot;1.1.48&quot;&gt;
14772       Add GetConstantPool.
14773       Switch references to the first edition of the VM Spec, to the seconds edition.
14774   &lt;/change&gt;
14775   &lt;change date=&quot;26 April 2005&quot; version=&quot;1.1.49&quot;&gt;
14776       Clarify minor/major version order in GetConstantPool.
14777   &lt;/change&gt;
14778   &lt;change date=&quot;26 April 2005&quot; version=&quot;1.1.50&quot;&gt;
14779       Add SetNativeMethodPrefix and SetNativeMethodPrefixes.
14780       Reassign GetOwnedMonitorStackDepthInfo to position 153.
14781       Break out Class Loader Search in its own documentation category.
14782       Deal with overly long lines in XML source.
14783   &lt;/change&gt;
14784   &lt;change date=&quot;29 April 2005&quot; version=&quot;1.1.51&quot;&gt;
14785       Allow agents be started in the live phase.
14786       Added paragraph about deploying agents.
14787   &lt;/change&gt;
14788   &lt;change date=&quot;30 April 2005&quot; version=&quot;1.1.52&quot;&gt;
14789       Add specification description to SetNativeMethodPrefix(es).
14790       Better define the conditions on GetConstantPool.
14791   &lt;/change&gt;
14792   &lt;change date=&quot;30 April 2005&quot; version=&quot;1.1.53&quot;&gt;
14793       Break out the GetClassVersionNumber function from GetConstantPool.
14794       Clean-up the references to the VM Spec.
14795   &lt;/change&gt;
14796   &lt;change date=&quot;1 May 2005&quot; version=&quot;1.1.54&quot;&gt;
14797       Allow SetNativeMethodPrefix(es) in any phase.
14798       Add clarifications about the impact of redefinition on GetConstantPool.
14799   &lt;/change&gt;
14800   &lt;change date=&quot;2 May 2005&quot; version=&quot;1.1.56&quot;&gt;
14801       Various clarifications to SetNativeMethodPrefix(es).
14802   &lt;/change&gt;
14803   &lt;change date=&quot;2 May 2005&quot; version=&quot;1.1.57&quot;&gt;
14804       Add missing performance warning to the method entry event.
14805   &lt;/change&gt;
14806   &lt;change date=&quot;5 May 2005&quot; version=&quot;1.1.58&quot;&gt;
14807       Remove internal JVMDI support.
14808   &lt;/change&gt;
14809   &lt;change date=&quot;8 May 2005&quot; version=&quot;1.1.59&quot;&gt;
14810       Add &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;.
14811       Revamp the bytecode instrumentation documentation.
14812       Change &lt;functionlink id=&quot;IsMethodObsolete&quot;/&gt; to no longer
14813       require the can_redefine_classes capability.
14814   &lt;/change&gt;
14815   &lt;change date=&quot;11 May 2005&quot; version=&quot;1.1.63&quot;&gt;
14816       Clarifications for retransformation.
14817   &lt;/change&gt;
14818   &lt;change date=&quot;11 May 2005&quot; version=&quot;1.1.64&quot;&gt;
14819       Clarifications for retransformation, per review.
14820       Lock &quot;retransformation (in)capable&quot; at class load enable time.
14821   &lt;/change&gt;
14822   &lt;change date=&quot;4 June 2005&quot; version=&quot;1.1.67&quot;&gt;
14823       Add new heap functionity which supports reporting primitive values,
14824       allows setting the referrer tag, and has more powerful filtering:
14825       FollowReferences, IterateThroughHeap, and their associated
14826       callbacks, structs, enums, and constants.
14827   &lt;/change&gt;
14828   &lt;change date=&quot;4 June 2005&quot; version=&quot;1.1.68&quot;&gt;
14829       Clarification.
14830   &lt;/change&gt;
14831   &lt;change date=&quot;6 June 2005&quot; version=&quot;1.1.69&quot;&gt;
14832       FollowReferences, IterateThroughHeap: Put callbacks in a struct;
14833       Add missing error codes; reduce bits in the visit control flags.
14834   &lt;/change&gt;
14835   &lt;change date=&quot;14 June 2005&quot; version=&quot;1.1.70&quot;&gt;
14836       More on new heap functionity: spec clean-up per review.
14837   &lt;/change&gt;
14838   &lt;change date=&quot;15 June 2005&quot; version=&quot;1.1.71&quot;&gt;
14839       More on new heap functionity: Rename old heap section to Heap (1.0).
14840   &lt;/change&gt;
14841   &lt;change date=&quot;21 June 2005&quot; version=&quot;1.1.72&quot;&gt;
14842       Fix typos.
14843   &lt;/change&gt;
14844   &lt;change date=&quot;27 June 2005&quot; version=&quot;1.1.73&quot;&gt;
14845       Make referrer info structure a union.
14846   &lt;/change&gt;
14847   &lt;change date=&quot;9 September 2005&quot; version=&quot;1.1.74&quot;&gt;
14848       In new heap functions:
14849       Add missing superclass reference kind.
14850       Use a single scheme for computing field indexes.
14851       Remove outdated references to struct based referrer info.
14852   &lt;/change&gt;
14853   &lt;change date=&quot;12 September 2005&quot; version=&quot;1.1.75&quot;&gt;
14854       Don&#39;t callback during FollowReferences on frivolous java.lang.Object superclass.
14855   &lt;/change&gt;
14856   &lt;change date=&quot;13 September 2005&quot; version=&quot;1.1.76&quot;&gt;
14857       In string primitive callback, length now Unicode length.
14858       In array and string primitive callbacks, value now &quot;const&quot;.
14859       Note possible compiler impacts on setting JNI function table.
14860   &lt;/change&gt;
14861   &lt;change date=&quot;13 September 2005&quot; version=&quot;1.1.77&quot;&gt;
14862       GetClassVersionNumbers() and GetConstantPool() should return
14863       error on array or primitive class.
14864   &lt;/change&gt;
14865   &lt;change date=&quot;14 September 2005&quot; version=&quot;1.1.78&quot;&gt;
14866       Grammar fixes.
14867   &lt;/change&gt;
14868   &lt;change date=&quot;26 September 2005&quot; version=&quot;1.1.79&quot;&gt;
14869       Add IsModifiableClass query.
14870   &lt;/change&gt;
14871   &lt;change date=&quot;9 February 2006&quot; version=&quot;1.1.81&quot;&gt;
14872       Add referrer_class_tag parameter to jvmtiHeapReferenceCallback.
14873   &lt;/change&gt;
14874   &lt;change date=&quot;13 February 2006&quot; version=&quot;1.1.82&quot;&gt;
14875       Doc fixes: update can_redefine_any_class to include retransform.
14876       Clarify that exception events cover all Throwables.
14877       In GetStackTrace, no test is done for start_depth too big if start_depth is zero,
14878       Clarify fields reported in Primitive Field Callback -- static vs instance.
14879       Repair confusing names of heap types, including callback names.
14880       Require consistent usage of stack depth in the face of thread launch methods.
14881       Note incompatibility of &lt;jvmti/&gt; memory management with other systems.
14882   &lt;/change&gt;
14883   &lt;change date=&quot;14 February 2006&quot; version=&quot;1.1.85&quot;&gt;
14884       Fix typos and missing renames.
14885   &lt;/change&gt;
14886   &lt;change date=&quot;13 March 2006&quot; version=&quot;1.1.86&quot;&gt;
14887       Clarify that jmethodIDs and jfieldIDs can be saved.
14888       Clarify that Iterate Over Instances Of Class includes subclasses.
14889   &lt;/change&gt;
14890   &lt;change date=&quot;14 March 2006&quot; version=&quot;1.1.87&quot;&gt;
14891       Better phrasing.
14892   &lt;/change&gt;
14893   &lt;change date=&quot;16 March 2006&quot; version=&quot;1.1.88&quot;&gt;
14894       Match the referrer_index for static fields in Object Reference Callback
14895       with the Reference Implementation (and all other known implementations);
14896       that is, make it match the definition for instance fields.
14897       In GetThreadListStackTraces, add JVMTI_ERROR_INVALID_THREAD to cover
14898       an invalid thread in the list; and specify that not started threads
14899       return empty stacks.
14900   &lt;/change&gt;
14901   &lt;change date=&quot;17 March 2006&quot; version=&quot;1.1.89&quot;&gt;
14902       Typo.
14903   &lt;/change&gt;
14904   &lt;change date=&quot;25 March 2006&quot; version=&quot;1.1.90&quot;&gt;
14905       Typo.
14906   &lt;/change&gt;
14907   &lt;change date=&quot;6 April 2006&quot; version=&quot;1.1.91&quot;&gt;
14908       Remove restrictions on AddToBootstrapClassLoaderSearch and
14909       AddToSystemClassLoaderSearch.
14910   &lt;/change&gt;
14911   &lt;change date=&quot;1 May 2006&quot; version=&quot;1.1.93&quot;&gt;
14912       Changed spec to return -1 for monitor stack depth for the
14913       implementation which can not determine stack depth.
14914   &lt;/change&gt;
14915   &lt;change date=&quot;3 May 2006&quot; version=&quot;1.1.94&quot;&gt;
14916       Corrections for readability and accuracy courtesy of Alan Pratt of IBM.
14917       List the object relationships reported in FollowReferences.
14918   &lt;/change&gt;
14919   &lt;change date=&quot;5 May 2006&quot; version=&quot;1.1.95&quot;&gt;
14920       Clarify the object relationships reported in FollowReferences.
14921   &lt;/change&gt;
14922   &lt;change date=&quot;28 June 2006&quot; version=&quot;1.1.98&quot;&gt;
14923       Clarify DisposeEnvironment; add warning.
14924       Fix typos in SetLocalXXX &quot;retrieve&quot; =&gt; &quot;set&quot;.
14925       Clarify that native method prefixes must remain set while used.
14926       Clarify that exactly one Agent_OnXXX is called per agent.
14927       Clarify that library loading is independent from start-up.
14928       Remove ambiguous reference to Agent_OnLoad in the Agent_OnUnload spec.
14929   &lt;/change&gt;
14930   &lt;change date=&quot;31 July 2006&quot; version=&quot;1.1.99&quot;&gt;
14931       Clarify the interaction between functions and exceptions.
14932       Clarify and give examples of field indices.
14933       Remove confusing &quot;That is&quot; sentence from MonitorWait and MonitorWaited events.
14934       Update links to point to Java 6.
14935   &lt;/change&gt;
14936   &lt;change date=&quot;6 August 2006&quot; version=&quot;1.1.102&quot;&gt;
14937       Add ResourceExhaustedEvent.
14938   &lt;/change&gt;
14939   &lt;change date=&quot;11 October 2012&quot; version=&quot;1.2.2&quot;&gt;
14940       Fixed the &quot;HTTP&quot; and &quot;Missing Anchor&quot; errors reported by the LinkCheck tool.
14941   &lt;/change&gt;
14942   &lt;change date=&quot;19 June 2013&quot; version=&quot;1.2.3&quot;&gt;
14943       Added support for statically linked agents.
14944   &lt;/change&gt;
14945   &lt;change date=&quot;13 October 2016&quot; version=&quot;9.0.0&quot;&gt;
14946       Support for modules:
14947        - The majorversion is 9 now
14948        - The ClassFileLoadHook events are not sent during the primordial phase anymore.
14949        - Allow CompiledMethodLoad events at start phase
14950        - Add new capabilities:
14951           - can_generate_early_vmstart
14952           - can_generate_early_class_hook_events
14953        - Add new functions:
14954           - GetAllModules
14955           - AddModuleReads, AddModuleExports, AddModuleOpens, AddModuleUses, AddModuleProvides
14956           - IsModifiableModule
14957       Clarified can_redefine_any_classes, can_retransform_any_classes and IsModifiableClass API to
14958       disallow some implementation defined classes.
14959   &lt;/change&gt;
14960   &lt;change date=&quot;12 February 2017&quot; version=&quot;9.0.0&quot;&gt;
14961       Minor update for GetCurrentThread function:
14962        - The function may return NULL in the start phase if the
14963          can_generate_early_vmstart capability is enabled.
14964   &lt;/change&gt;
14965   &lt;change date=&quot;7 February 2018&quot; version=&quot;11.0.0&quot;&gt;
14966       Minor update for new class file NestHost and NestMembers attributes:
14967         - Specify that RedefineClasses and RetransformClasses are not allowed
14968           to change the class file NestHost and NestMembers attributes.
14969         - Add new error JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_ATTRIBUTE_CHANGED
14970           that can be returned by RedefineClasses and RetransformClasses.
14971   &lt;/change&gt;
14972 &lt;/changehistory&gt;
14973 
14974 &lt;/specification&gt;
14975 &lt;!-- Keep this comment at the end of the file
14976 Local variables:
14977 mode: sgml
14978 sgml-omittag:t
14979 sgml-shorttag:t
14980 sgml-namecase-general:t
14981 sgml-general-insert-case:lower
14982 sgml-minimize-attributes:nil
14983 sgml-always-quote-attributes:t
14984 sgml-indent-step:2
14985 sgml-indent-data:t
14986 sgml-parent-document:nil
14987 sgml-exposed-tags:nil
14988 sgml-local-catalogs:nil
14989 sgml-local-ecat-files:nil
14990 End:
14991 --&gt;
    </pre>
  </body>
</html>