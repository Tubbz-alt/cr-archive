<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New src/hotspot/share/prims/jvmti.xml</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
  <body>
    <pre>
    1 &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;
    2 &lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;jvmti.xsl&quot;?&gt;
    3 &lt;!--
    4  Copyright (c) 2002, 2019, Oracle and/or its affiliates. All rights reserved.
    5  DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
    6 
    7  This code is free software; you can redistribute it and/or modify it
    8  under the terms of the GNU General Public License version 2 only, as
    9  published by the Free Software Foundation.
   10 
   11  This code is distributed in the hope that it will be useful, but WITHOUT
   12  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
   13  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
   14  version 2 for more details (a copy is included in the LICENSE file that
   15  accompanied this code).
   16 
   17  You should have received a copy of the GNU General Public License version
   18  2 along with this work; if not, write to the Free Software Foundation,
   19  Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
   20 
   21  Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
   22  or visit www.oracle.com if you need additional information or have any
   23  questions.
   24 --&gt;
   25 
   26 &lt;!DOCTYPE specification [
   27    &lt;!ELEMENT specification (title, intro*, functionsection, errorsection,
   28                             eventsection, datasection, issuessection, changehistory)&gt;
   29    &lt;!ATTLIST specification label CDATA #REQUIRED&gt;
   30 
   31    &lt;!ELEMENT title (#PCDATA|jvmti|tm)*&gt;
   32    &lt;!ATTLIST title subtitle CDATA #REQUIRED&gt;
   33 
   34    &lt;!ELEMENT intro ANY&gt;
   35    &lt;!ATTLIST intro id CDATA #IMPLIED
   36                    label CDATA &quot;&quot;&gt;
   37 
   38    &lt;!ELEMENT functionsection (intro*, category*)&gt;
   39    &lt;!ATTLIST functionsection label CDATA #REQUIRED&gt;
   40 
   41    &lt;!ELEMENT category ((intro|typedef|uniontypedef|capabilitiestypedef)*,
   42                           (function|callback|elide)*)&gt;
   43    &lt;!ATTLIST category id CDATA #REQUIRED
   44                       label CDATA #REQUIRED&gt;
   45 
   46    &lt;!ELEMENT function (synopsis, typedef*, description?, origin,
   47                          (capabilities|eventcapabilities),
   48                          parameters, errors)&gt;
   49    &lt;!ATTLIST function id CDATA #REQUIRED
   50                       num CDATA #REQUIRED
   51                       phase (onload|onloadOnly|start|live|any) #IMPLIED
   52                       callbacksafe (safe|unsafe) #IMPLIED
   53                       impl CDATA #IMPLIED
   54                       hide CDATA #IMPLIED
   55                       jkernel (yes|no) #IMPLIED
   56                       since CDATA &quot;1.0&quot;&gt;
   57 
   58    &lt;!ELEMENT callback ((jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|jthreadGroup|jobject|
   59                         jvalue|enum|jint|jlong|jfloat|jdouble|jlocation|jboolean|char|uchar|size_t|void),
   60                         synopsis, description?, parameters)&gt;
   61    &lt;!ATTLIST callback id CDATA #REQUIRED
   62                       since CDATA &quot;1.0&quot;&gt;
   63 
   64    &lt;!ELEMENT synopsis (#PCDATA|jvmti)*&gt;
   65 
   66    &lt;!ELEMENT typedef (description?, field*)&gt;
   67    &lt;!ATTLIST typedef id CDATA #REQUIRED
   68                      label CDATA #REQUIRED
   69                      since CDATA &quot;1.0&quot;&gt;
   70 
   71    &lt;!ELEMENT uniontypedef (description?, field*)&gt;
   72    &lt;!ATTLIST uniontypedef id CDATA #REQUIRED
   73                      label CDATA #REQUIRED
   74                      since CDATA &quot;1.0&quot;&gt;
   75 
   76    &lt;!ELEMENT field ((jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|jthreadGroup|jobject|
   77                      jvalue|enum|jint|jlong|jfloat|jdouble|jlocation|jboolean|char|uchar|size_t|void|allocfieldbuf|inptr|inbuf|outbuf|vmbuf|ptrtype|struct),
   78                     description)&gt;
   79    &lt;!ATTLIST field id CDATA #REQUIRED&gt;
   80 
   81    &lt;!ELEMENT capabilitiestypedef (description?, capabilityfield*)&gt;
   82    &lt;!ATTLIST capabilitiestypedef id CDATA #REQUIRED
   83                      label CDATA #REQUIRED&gt;
   84 
   85    &lt;!ELEMENT capabilityfield (description)&gt;
   86    &lt;!ATTLIST capabilityfield id CDATA #REQUIRED
   87                    disp1 CDATA &quot;&quot;
   88                    disp2 CDATA &quot;&quot;
   89                    since CDATA &quot;1.0&quot;&gt;
   90 
   91    &lt;!ELEMENT description ANY&gt;
   92 
   93    &lt;!ELEMENT capabilities (required*, capability*)&gt;
   94 
   95    &lt;!ELEMENT eventcapabilities EMPTY&gt;
   96 
   97    &lt;!ELEMENT required ANY&gt;
   98    &lt;!ATTLIST required id CDATA #REQUIRED&gt;
   99 
  100    &lt;!ELEMENT capability ANY&gt;
  101    &lt;!ATTLIST capability id CDATA #REQUIRED&gt;
  102 
  103    &lt;!ELEMENT parameters (param*)&gt;
  104 
  105    &lt;!ELEMENT param ((jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|jthreadGroup|jobject|
  106                      jvalue|enum|jint|jlong|jfloat|jdouble|jlocation|jboolean|char|uchar|size_t|void|varargs|struct|ptrtype|
  107                      outptr|allocbuf|allocallocbuf|inptr|inbuf|outbuf|vmbuf|agentbuf),
  108                     description)&gt;
  109    &lt;!ATTLIST param id CDATA #REQUIRED&gt;
  110 
  111    &lt;!ELEMENT jmethodID EMPTY&gt;
  112    &lt;!ATTLIST jmethodID class  CDATA #IMPLIED
  113                        native CDATA #IMPLIED&gt;
  114 
  115    &lt;!ELEMENT jfieldID EMPTY&gt;
  116    &lt;!ATTLIST jfieldID class CDATA #IMPLIED&gt;
  117 
  118    &lt;!ELEMENT jclass EMPTY&gt;
  119    &lt;!ATTLIST jclass method CDATA #IMPLIED
  120                     field  CDATA #IMPLIED&gt;
  121 
  122    &lt;!ELEMENT jframeID EMPTY&gt;
  123    &lt;!ATTLIST jframeID thread CDATA #IMPLIED&gt;
  124 
  125    &lt;!ELEMENT jrawMonitorID EMPTY&gt;
  126 
  127    &lt;!ELEMENT jthread EMPTY&gt;
  128    &lt;!ATTLIST jthread started CDATA #IMPLIED
  129                      null CDATA #IMPLIED
  130                      frame CDATA #IMPLIED
  131                      impl CDATA #IMPLIED&gt;
  132 
  133    &lt;!ELEMENT varargs EMPTY&gt;
  134 
  135    &lt;!ELEMENT jthreadGroup EMPTY&gt;
  136    &lt;!ELEMENT jobject EMPTY&gt;
  137    &lt;!ELEMENT jvalue EMPTY&gt;
  138    &lt;!ELEMENT jchar EMPTY&gt;
  139    &lt;!ELEMENT jint EMPTY&gt;
  140    &lt;!ATTLIST jint min CDATA #IMPLIED&gt;
  141    &lt;!ELEMENT jlong EMPTY&gt;
  142    &lt;!ELEMENT jfloat EMPTY&gt;
  143    &lt;!ELEMENT jdouble EMPTY&gt;
  144    &lt;!ELEMENT jlocation EMPTY&gt;
  145    &lt;!ELEMENT jboolean EMPTY&gt;
  146    &lt;!ELEMENT char EMPTY&gt;
  147    &lt;!ELEMENT uchar EMPTY&gt;
  148    &lt;!ELEMENT size_t EMPTY&gt;
  149    &lt;!ELEMENT void EMPTY&gt;
  150    &lt;!ELEMENT enum (#PCDATA)*&gt;
  151    &lt;!ELEMENT struct (#PCDATA)*&gt;
  152 
  153    &lt;!ELEMENT nullok ANY&gt;
  154 
  155    &lt;!ELEMENT ptrtype     ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  156                                    jthreadGroup|jobject|jvalue), nullok?)&gt;
  157 
  158    &lt;!ELEMENT outptr     ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  159                                    jthreadGroup|jobject|jvalue|enum|jchar|jint|jlong|jfloat|jdouble|
  160                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  161 
  162    &lt;!ELEMENT allocbuf   ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  163                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  164                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  165    &lt;!ATTLIST allocbuf incount CDATA #IMPLIED
  166                       outcount CDATA #IMPLIED&gt;
  167 
  168    &lt;!ELEMENT allocallocbuf   ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  169                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  170                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  171    &lt;!ATTLIST allocallocbuf incount CDATA #IMPLIED
  172                       outcount CDATA #IMPLIED&gt;
  173 
  174    &lt;!ELEMENT inptr      (struct, nullok?)&gt;
  175 
  176    &lt;!ELEMENT inbuf      ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  177                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  178                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  179    &lt;!ATTLIST inbuf    incount CDATA #IMPLIED&gt;
  180 
  181    &lt;!ELEMENT outbuf     ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  182                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  183                                    jlocation|jboolean|char|uchar|size_t|void|outbuf), nullok?)&gt;
  184    &lt;!ATTLIST outbuf   incount CDATA #IMPLIED
  185                       outcount CDATA #IMPLIED&gt;
  186 
  187    &lt;!ELEMENT vmbuf      ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  188                                    jthreadGroup|jobject|jvalue|enum|jchar|jint|jlong|jfloat|jdouble|
  189                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  190    &lt;!ATTLIST vmbuf    incount CDATA #IMPLIED
  191                       outcount CDATA #IMPLIED&gt;
  192 
  193    &lt;!ELEMENT agentbuf   ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  194                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  195                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  196    &lt;!ATTLIST agentbuf incount CDATA #IMPLIED
  197                       outcount CDATA #IMPLIED&gt;
  198 
  199    &lt;!ELEMENT allocfieldbuf   ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  200                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  201                                    jlocation|jboolean|char|uchar|size_t|void))&gt;
  202    &lt;!ATTLIST allocfieldbuf outcount CDATA #IMPLIED&gt;
  203 
  204    &lt;!ELEMENT errors (error*)&gt;
  205 
  206    &lt;!ELEMENT error ANY&gt;
  207    &lt;!ATTLIST error id CDATA #REQUIRED&gt;
  208 
  209    &lt;!ELEMENT errorsection (intro*, errorcategory*)&gt;
  210    &lt;!ATTLIST errorsection label CDATA #REQUIRED&gt;
  211 
  212    &lt;!ELEMENT errorcategory (intro*, errorid*)&gt;
  213    &lt;!ATTLIST errorcategory id CDATA #REQUIRED
  214                            label CDATA #REQUIRED&gt;
  215 
  216    &lt;!ELEMENT errorid ANY&gt;
  217    &lt;!ATTLIST errorid id CDATA #REQUIRED
  218                      num CDATA #REQUIRED&gt;
  219 
  220    &lt;!ELEMENT datasection (intro*, basetypes*)&gt;
  221 
  222    &lt;!ELEMENT basetypes (intro*, basetype*)&gt;
  223    &lt;!ATTLIST basetypes id CDATA #REQUIRED
  224                        label CDATA #REQUIRED&gt;
  225 
  226    &lt;!ELEMENT basetype (definition?,description)&gt;
  227    &lt;!ATTLIST basetype id CDATA #REQUIRED
  228                       name CDATA #IMPLIED&gt;
  229 
  230    &lt;!ELEMENT definition (#PCDATA|jvmti)*&gt;
  231 
  232    &lt;!ELEMENT eventsection (intro*, (event|elide)*)&gt;
  233    &lt;!ATTLIST eventsection label CDATA #REQUIRED&gt;
  234 
  235    &lt;!ELEMENT event (description, origin, typedef*, capabilities, parameters)&gt;
  236    &lt;!ATTLIST event id CDATA #REQUIRED
  237                    label CDATA #REQUIRED
  238                    const CDATA #REQUIRED
  239                    num CDATA #REQUIRED
  240                    phase (onload|start|live|any) #IMPLIED
  241                    filtered (thread|global) #IMPLIED
  242                    since CDATA &quot;1.0&quot;&gt;
  243 
  244    &lt;!ELEMENT issuessection (intro*)&gt;
  245    &lt;!ATTLIST issuessection label CDATA #REQUIRED&gt;
  246 
  247    &lt;!ELEMENT changehistory (intro*, change*)&gt;
  248    &lt;!ATTLIST changehistory update CDATA #REQUIRED
  249                            id CDATA #REQUIRED&gt;
  250 
  251    &lt;!ELEMENT change ANY&gt;
  252    &lt;!ATTLIST change date CDATA #REQUIRED
  253                     version CDATA #IMPLIED&gt;
  254 
  255    &lt;!ELEMENT functionlink (#PCDATA|jvmti|code|i|b)*&gt;
  256    &lt;!ATTLIST functionlink id CDATA #REQUIRED&gt;
  257 
  258    &lt;!ELEMENT datalink (#PCDATA|jvmti|code|i|b)*&gt;
  259    &lt;!ATTLIST datalink id CDATA #REQUIRED&gt;
  260 
  261    &lt;!ELEMENT typelink (#PCDATA|jvmti|code|i|b)*&gt;
  262    &lt;!ATTLIST typelink id CDATA #REQUIRED&gt;
  263 
  264    &lt;!ELEMENT fieldlink (#PCDATA|jvmti|code|i|b)*&gt;
  265    &lt;!ATTLIST fieldlink id CDATA #REQUIRED
  266                        struct CDATA #REQUIRED&gt;
  267 
  268    &lt;!ELEMENT paramlink (#PCDATA|jvmti|code|i|b)*&gt;
  269    &lt;!ATTLIST paramlink id CDATA #REQUIRED&gt;
  270 
  271    &lt;!ELEMENT eventlink (#PCDATA|jvmti|code|i|b)*&gt;
  272    &lt;!ATTLIST eventlink id CDATA #REQUIRED&gt;
  273 
  274    &lt;!ELEMENT errorlink (#PCDATA|jvmti|code|i|b|tm)*&gt;
  275    &lt;!ATTLIST errorlink id CDATA #REQUIRED&gt;
  276 
  277    &lt;!ELEMENT externallink (#PCDATA|jvmti|code|i|b|tm)*&gt;
  278    &lt;!ATTLIST externallink id CDATA #REQUIRED&gt;
  279 
  280    &lt;!ELEMENT vmspec EMPTY&gt;
  281    &lt;!ATTLIST vmspec chapter CDATA #IMPLIED&gt;
  282 
  283    &lt;!ELEMENT internallink (#PCDATA|jvmti|code|i|b)*&gt;
  284    &lt;!ATTLIST internallink id CDATA #REQUIRED&gt;
  285 
  286    &lt;!ELEMENT functionphaselist EMPTY&gt;
  287    &lt;!ATTLIST functionphaselist phase (onload|onloadOnly|start|live|any) #REQUIRED&gt;
  288 
  289    &lt;!ELEMENT eventphaselist EMPTY&gt;
  290    &lt;!ATTLIST eventphaselist phase (onload|start|live|any) #REQUIRED&gt;
  291 
  292    &lt;!ELEMENT issue ANY&gt;
  293 
  294    &lt;!ELEMENT rationale ANY&gt;
  295 
  296    &lt;!ELEMENT todo ANY&gt;
  297 
  298    &lt;!ELEMENT origin (#PCDATA)*&gt;
  299 
  300    &lt;!ELEMENT elide (intro|function|callback|event)*&gt;
  301    &lt;!ATTLIST elide why CDATA #IMPLIED&gt;
  302 
  303    &lt;!ELEMENT constants (constant*)&gt;
  304    &lt;!ATTLIST constants id CDATA #REQUIRED
  305                        label CDATA #REQUIRED
  306                        kind (enum|bits|const) #REQUIRED
  307                        since CDATA &quot;1.0&quot;&gt;
  308 
  309    &lt;!ELEMENT constant ANY&gt;
  310    &lt;!ATTLIST constant id CDATA #REQUIRED
  311                       num CDATA #REQUIRED&gt;
  312 
  313    &lt;!ELEMENT tm (#PCDATA)&gt;
  314 
  315    &lt;!ELEMENT i (#PCDATA|jvmti|tm)*&gt;
  316 
  317    &lt;!ELEMENT b (#PCDATA|jvmti|code)*&gt;
  318 
  319    &lt;!ELEMENT code (#PCDATA|space)*&gt;
  320 
  321    &lt;!ELEMENT pre ANY&gt;
  322 
  323    &lt;!ELEMENT space EMPTY&gt;
  324 
  325    &lt;!ELEMENT jvmti EMPTY&gt;
  326 
  327    &lt;!ELEMENT example (#PCDATA|i)*&gt;
  328 
  329    &lt;!ELEMENT br EMPTY&gt;
  330 
  331    &lt;!ELEMENT p EMPTY&gt;
  332 
  333    &lt;!ELEMENT blockquote ANY&gt;
  334 
  335    &lt;!ELEMENT dl  (dt|dd)+&gt;
  336 
  337    &lt;!ELEMENT dd  ANY&gt;
  338 
  339    &lt;!ELEMENT dt  (#PCDATA|jvmti|code|i|b)*&gt;
  340 
  341    &lt;!ELEMENT table  (tr)+&gt;
  342 
  343    &lt;!ELEMENT tr  (td|th)*&gt;
  344    &lt;!ATTLIST tr class CDATA #IMPLIED&gt;
  345 
  346    &lt;!ELEMENT td  ANY&gt;
  347    &lt;!ATTLIST td class CDATA #IMPLIED&gt;
  348 
  349    &lt;!ELEMENT th  ANY&gt;
  350    &lt;!ATTLIST th class CDATA #IMPLIED
  351                 scope (col|row) #IMPLIED&gt;
  352 
  353    &lt;!ELEMENT ul  (li)+&gt;
  354    &lt;!ATTLIST ul type (disc|circle|square) &quot;disc&quot;&gt;
  355 
  356    &lt;!ELEMENT li  ANY&gt;
  357  ]&gt;
  358 
  359 &lt;specification label=&quot;JVM(TM) Tool Interface&quot;&gt;
  360   &lt;title subtitle=&quot;Version&quot;&gt;
  361     &lt;tm&gt;JVM&lt;/tm&gt; Tool Interface
  362   &lt;/title&gt;
  363 
  364   &lt;intro id=&quot;whatIs&quot; label=&quot;What is the JVM Tool Interface?&quot;&gt;
  365     The &lt;tm&gt;JVM&lt;/tm&gt; Tool Interface (&lt;jvmti/&gt;)
  366     is a programming interface used by development and monitoring tools.
  367     It provides both a way to inspect the state and
  368     to control the execution of applications running in the
  369     &lt;tm&gt;Java&lt;/tm&gt; virtual machine (VM).
  370     &lt;p/&gt;
  371     &lt;jvmti/&gt; is intended to provide a VM interface for the full breadth of tools
  372     that need access to VM state, including but not limited to: profiling,
  373     debugging, monitoring, thread analysis, and coverage analysis tools.
  374     &lt;p/&gt;
  375     &lt;jvmti/&gt; may not be available in all implementations of the &lt;tm&gt;Java&lt;/tm&gt; virtual
  376     machine.
  377     &lt;p/&gt;
  378     &lt;jvmti/&gt; is a two-way interface.
  379     A client of &lt;jvmti/&gt;, hereafter called an &lt;i&gt;agent&lt;/i&gt;,
  380     can be notified of
  381     interesting occurrences through &lt;internallink id=&quot;EventSection&quot;&gt;events&lt;/internallink&gt;.
  382     &lt;jvmti/&gt;
  383     can query and control the application through many
  384     &lt;internallink id=&quot;FunctionSection&quot;&gt;functions&lt;/internallink&gt;,
  385     either in response to events or
  386     independent of them.
  387     &lt;p/&gt;
  388     Agents run in the same process with and communicate directly with
  389     the virtual machine executing
  390     the application being examined.  This communication is
  391     through a native interface (&lt;jvmti/&gt;). The native in-process interface allows
  392     maximal control with minimal intrusion on the part of a tool.
  393     Typically, agents are relatively compact. They can be controlled
  394     by a separate process which implements the bulk of a tool&#39;s
  395     function without interfering with the target application&#39;s normal execution.
  396   &lt;/intro&gt;
  397 
  398   &lt;intro id=&quot;architecture&quot; label=&quot;Architecture&quot;&gt;
  399     Tools can be written directly to &lt;jvmti/&gt; or indirectly
  400     through higher level interfaces.
  401     The Java Platform Debugger Architecture includes &lt;jvmti/&gt;, but also
  402     contains higher-level, out-of-process debugger interfaces. The higher-level
  403     interfaces are more appropriate than &lt;jvmti/&gt; for many tools.
  404     For more information on the Java Platform Debugger Architecture,
  405     see the
  406     &lt;externallink id=&quot;jpda/architecture.html&quot;&gt;Java
  407       Platform Debugger Architecture website&lt;/externallink&gt;.
  408   &lt;/intro&gt;
  409 
  410   &lt;intro id=&quot;writingAgents&quot; label=&quot;Writing Agents&quot;&gt;
  411     Agents can be written in any native language that supports C
  412     language calling conventions and C or C++
  413     definitions.
  414     &lt;p/&gt;
  415     The function, event, data type, and constant definitions needed for
  416     using &lt;jvmti/&gt; are defined in the include file &lt;code&gt;jvmti.h&lt;/code&gt;.
  417     To use these definitions add the &lt;tm&gt;J2SE&lt;/tm&gt; include directory
  418     to your include path and add
  419     &lt;example&gt;
  420 #include &amp;lt;jvmti.h&amp;gt;
  421     &lt;/example&gt;
  422     to your source code.
  423   &lt;/intro&gt;
  424 
  425   &lt;intro id=&quot;deployingAgents&quot; label=&quot;Deploying Agents&quot;&gt;
  426     An agent is deployed in a platform specific manner but is typically the
  427     platform equivalent of a dynamic library. On the &lt;tm&gt;Windows&lt;/tm&gt; operating
  428     system, for example, an agent library is a &quot;Dynamic Linked Library&quot; (DLL).
  429     On the &lt;tm&gt;Solaris&lt;/tm&gt; Operating Environment, an agent library is a shared
  430     object (&lt;code&gt;.so&lt;/code&gt; file).
  431     &lt;p/&gt;
  432 
  433     An agent may be started at VM startup by specifying the agent library
  434     name using a &lt;internallink id=&quot;starting&quot;&gt;command line option&lt;/internallink&gt;.
  435     Some implementations may support a mechanism to &lt;internallink id=&quot;onattach&quot;&gt;
  436     start agents&lt;/internallink&gt; in the live &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;.
  437     The details of how this is initiated are implementation specific.
  438   &lt;/intro&gt;
  439 
  440     &lt;intro id=&quot;entryPoint&quot; label=&quot;Statically Linked Agents (since version 1.2.3)&quot;&gt;
  441 
  442       A native JVMTI Agent may be &lt;i&gt;statically linked&lt;/i&gt; with the VM.
  443       The manner in which the library and VM image are combined is
  444       implementation-dependent.
  445       An agent L whose image has been combined with the VM is defined as
  446       &lt;i&gt;statically linked&lt;/i&gt; if and only if the agent exports a function
  447       called Agent_OnLoad_L.
  448 &lt;p/&gt;
  449       If a &lt;i&gt;statically linked&lt;/i&gt; agent L exports a function called
  450       Agent_OnLoad_L and a function called Agent_OnLoad, the Agent_OnLoad
  451       function will be ignored.
  452       If an agent L is &lt;i&gt;statically linked&lt;/i&gt;, an Agent_OnLoad_L
  453       function will be invoked with the same arguments and expected return
  454       value as specified for the Agent_OnLoad function.
  455       An agent L that is &lt;i&gt;statically linked&lt;/i&gt; will prohibit an agent of
  456       the same name from being loaded dynamically.
  457 &lt;p/&gt;
  458       The VM will invoke the Agent_OnUnload_L function of the agent, if such
  459       a function is exported, at the same point during VM execution as it would
  460       have called the dynamic entry point Agent_OnUnLoad. A statically loaded
  461       agent cannot be unloaded. The Agent_OnUnload_L function will still be
  462       called to do any other agent shutdown related tasks.
  463       If a &lt;i&gt;statically linked&lt;/i&gt; agent L exports a function called
  464       Agent_OnUnLoad_L and a function called Agent_OnUnLoad, the Agent_OnUnLoad
  465       function will be ignored.
  466 &lt;p/&gt;
  467       If an agent L is &lt;i&gt;statically linked&lt;/i&gt;, an Agent_OnAttach_L function
  468       will be invoked with the same arguments and expected return value as
  469       specified for the Agent_OnAttach function.
  470       If a &lt;i&gt;statically linked&lt;/i&gt; agent L exports a function called
  471       Agent_OnAttach_L and a function called Agent_OnAttach, the Agent_OnAttach
  472       function will be ignored.
  473 &lt;/intro&gt;
  474 
  475   &lt;intro id=&quot;starting&quot; label=&quot;Agent Command Line Options&quot;&gt;
  476     The term &quot;command-line option&quot; is used below to
  477     mean options supplied in the &lt;code&gt;JavaVMInitArgs&lt;/code&gt; argument
  478     to the &lt;code&gt;JNI_CreateJavaVM&lt;/code&gt; function of the JNI
  479     Invocation API.
  480     &lt;p/&gt;
  481     One of the two following
  482     command-line options is used on VM startup to
  483     properly load and run agents.
  484     These arguments identify the library containing
  485     the agent as well as an options
  486     string to be passed in at startup.
  487     &lt;dl&gt;
  488       &lt;dt&gt;&lt;code&gt;-agentlib:&lt;/code&gt;&lt;i&gt;&amp;lt;agent-lib-name&amp;gt;&lt;/i&gt;&lt;code&gt;=&lt;/code&gt;&lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt;&lt;/dt&gt;
  489       &lt;dd&gt;
  490         The name following &lt;code&gt;-agentlib:&lt;/code&gt; is the name of the
  491         library to load.  Lookup of the library, both its full name and location,
  492         proceeds in a platform-specific manner.
  493         Typically, the &lt;i&gt;&amp;lt;agent-lib-name&amp;gt;&lt;/i&gt; is expanded to an
  494         operating system specific file name.
  495         The &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; will be passed to the agent on start-up.
  496         For example, if the option
  497         &lt;code&gt;-agentlib:foo=opt1,opt2&lt;/code&gt; is specified, the VM will attempt to
  498         load the shared library &lt;code&gt;foo.dll&lt;/code&gt; from the system &lt;code&gt;PATH&lt;/code&gt;
  499         under &lt;tm&gt;Windows&lt;/tm&gt; or &lt;code&gt;libfoo.so&lt;/code&gt; from the
  500         &lt;code&gt;LD_LIBRARY_PATH&lt;/code&gt; under the &lt;tm&gt;Solaris&lt;/tm&gt; operating
  501         environment.
  502         If the agent library is statically linked into the executable
  503         then no actual loading takes place.
  504     &lt;p/&gt;
  505       &lt;/dd&gt;
  506       &lt;dt&gt;&lt;code&gt;-agentpath:&lt;/code&gt;&lt;i&gt;&amp;lt;path-to-agent&amp;gt;&lt;/i&gt;&lt;code&gt;=&lt;/code&gt;&lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt;&lt;/dt&gt;
  507       &lt;dd&gt;
  508         The path following &lt;code&gt;-agentpath:&lt;/code&gt; is the absolute path from which
  509         to load the library.
  510         No library name expansion will occur.
  511         The &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; will be passed to the agent on start-up.
  512         For example, if the option
  513         &lt;code&gt;-agentpath:c:\myLibs\foo.dll=opt1,opt2&lt;/code&gt; is specified, the VM will attempt to
  514         load the shared library &lt;code&gt;c:\myLibs\foo.dll&lt;/code&gt;. If the agent
  515         library is statically linked into the executable
  516         then no actual loading takes place.
  517     &lt;p/&gt;
  518       &lt;/dd&gt;
  519     &lt;/dl&gt;
  520     For a dynamic shared library agent, the start-up routine
  521     &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad&lt;/code&gt;&lt;/internallink&gt;
  522     in the library will be invoked. If the agent library is statically linked
  523     into the executable then the system will attempt to invoke the
  524     &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; entry point where
  525     &amp;lt;agent-lib-name&amp;gt; is the basename of the
  526     agent. In the above example &lt;code&gt;-agentpath:c:\myLibs\foo.dll=opt1,opt2&lt;/code&gt;,
  527     the system will attempt to find and call the &lt;code&gt;Agent_OnLoad_foo&lt;/code&gt; start-up routine.
  528     &lt;p/&gt;
  529     Libraries loaded with &lt;code&gt;-agentlib:&lt;/code&gt; or &lt;code&gt;-agentpath:&lt;/code&gt;
  530     will be searched for JNI native method implementations to facilitate the
  531     use of Java programming language code in tools, as is needed for
  532     &lt;internallink id=&quot;bci&quot;&gt;bytecode instrumentation&lt;/internallink&gt;.
  533     &lt;p/&gt;
  534     The agent libraries will be searched after all other libraries have been
  535     searched (agents wishing to override or intercept the native method
  536     implementations of non-agent methods can use the
  537     &lt;eventlink id=&quot;NativeMethodBind&quot;&gt;NativeMethodBind event&lt;/eventlink&gt;).
  538     &lt;p/&gt;
  539     These switches do the above and nothing more - they do not change the
  540     state of the VM or &lt;jvmti/&gt;.  No command line options are needed
  541     to enable &lt;jvmti/&gt;
  542     or aspects of &lt;jvmti/&gt;, this is handled programmatically
  543     by the use of
  544     &lt;internallink id=&quot;capability&quot;&gt;capabilities&lt;/internallink&gt;.
  545   &lt;/intro&gt;
  546 
  547   &lt;intro id=&quot;startup&quot; label=&quot;Agent Start-Up&quot;&gt;
  548     The VM starts each agent by invoking a start-up function.
  549     If the agent is started in the &lt;code&gt;OnLoad&lt;/code&gt;
  550     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt; the function
  551     &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad&lt;/code&gt;&lt;/internallink&gt;
  552     or &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad_L&lt;/code&gt;&lt;/internallink&gt;
  553     for statically linked agents will be invoked.
  554     If the agent is started in the live
  555     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt; the function
  556     &lt;internallink id=&quot;onattach&quot;&gt;&lt;code&gt;Agent_OnAttach&lt;/code&gt;&lt;/internallink&gt;
  557     or &lt;internallink id=&quot;onattach&quot;&gt;&lt;code&gt;Agent_OnAttach_L&lt;/code&gt;&lt;/internallink&gt;
  558     for statically linked agents will be invoked.
  559     Exactly one call to a start-up function is made per agent.
  560   &lt;/intro&gt;
  561 
  562   &lt;intro id=&quot;onload&quot; label=&quot;Agent Start-Up (OnLoad phase)&quot;&gt;
  563     If an agent is started during the &lt;code&gt;OnLoad&lt;/code&gt; phase then its
  564     agent library must export a start-up function with the following prototype:
  565     &lt;example&gt;
  566 JNIEXPORT jint JNICALL
  567 Agent_OnLoad(JavaVM *vm, char *options, void *reserved)&lt;/example&gt;
  568     Or for a statically linked agent named &#39;L&#39;:
  569     &lt;example&gt;
  570 JNIEXPORT jint JNICALL
  571 Agent_OnLoad_L(JavaVM *vm, char *options, void *reserved)&lt;/example&gt;
  572 
  573     The VM will start the agent by calling this function.
  574     It will be called early enough in VM initialization that:
  575     &lt;ul&gt;
  576       &lt;li&gt;&lt;functionlink id=&quot;SetSystemProperty&quot;&gt;system properties&lt;/functionlink&gt;
  577         may be set before they have been used in the start-up of the VM&lt;/li&gt;
  578       &lt;li&gt;the full set of
  579         &lt;internallink id=&quot;capability&quot;&gt;capabilities&lt;/internallink&gt;
  580         is still available (note that capabilities that configure the VM
  581         may only be available at this time--see the
  582         &lt;internallink id=&quot;capability&quot;&gt;Capability function section&lt;/internallink&gt;)&lt;/li&gt;
  583       &lt;li&gt;no bytecodes have executed&lt;/li&gt;
  584       &lt;li&gt;no classes have been loaded&lt;/li&gt;
  585       &lt;li&gt;no objects have been created&lt;/li&gt;
  586     &lt;/ul&gt;
  587     &lt;p/&gt;
  588     The VM will call the &lt;code&gt;Agent_OnLoad&lt;/code&gt; or
  589     &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; function with
  590     &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; as the second argument -
  591     that is, using the command-line option examples,
  592     &lt;code&gt;&quot;opt1,opt2&quot;&lt;/code&gt; will be passed to the &lt;code&gt;char *options&lt;/code&gt;
  593     argument of &lt;code&gt;Agent_OnLoad&lt;/code&gt;.
  594     The &lt;code&gt;options&lt;/code&gt; argument is encoded as a
  595     &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
  596     If &lt;i&gt;=&amp;lt;options&amp;gt;&lt;/i&gt; is not specified,
  597     a zero length string is passed to &lt;code&gt;options&lt;/code&gt;.
  598     The lifespan of the &lt;code&gt;options&lt;/code&gt; string is the
  599     &lt;code&gt;Agent_OnLoad&lt;/code&gt; or &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt;
  600     call.  If needed beyond this time the string or parts of the string must
  601     be copied.
  602     The period between when &lt;code&gt;Agent_OnLoad&lt;/code&gt; is called and when it
  603     returns is called the &lt;i&gt;OnLoad phase&lt;/i&gt;.
  604     Since the VM is not initialized during the OnLoad
  605     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;,
  606     the set of allowed operations
  607     inside &lt;code&gt;Agent_OnLoad&lt;/code&gt; is restricted (see the function descriptions for the
  608     functionality available at this time).
  609     The agent can safely process the options and set
  610     event callbacks with &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt;. Once
  611     the VM initialization event is received
  612     (that is, the &lt;eventlink id=&quot;VMInit&quot;&gt;VMInit&lt;/eventlink&gt;
  613     callback is invoked), the agent
  614     can complete its initialization.
  615     &lt;rationale&gt;
  616       Early startup is required so that agents can set the desired capabilities,
  617       many of which must be set before the VM is initialized.
  618       In JVMDI, the -Xdebug command-line option provided
  619       very coarse-grain control of capabilities.
  620       JVMPI implementations use various tricks to provide a single &quot;JVMPI on&quot; switch.
  621       No reasonable command-line
  622       option could provide the fine-grain of control required to balance needed capabilities vs
  623       performance impact.
  624       Early startup is also needed so that agents can control the execution
  625       environment - modifying the file system and system properties to install
  626       their functionality.
  627     &lt;/rationale&gt;
  628     &lt;p/&gt;
  629     The return value from &lt;code&gt;Agent_OnLoad&lt;/code&gt; or
  630     &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; is used to indicate an error.
  631     Any value other than zero indicates an error and causes termination of the VM.
  632   &lt;/intro&gt;
  633 
  634   &lt;intro id=&quot;onattach&quot; label=&quot;Agent Start-Up (Live phase)&quot;&gt;
  635     A VM may support a mechanism that allows agents to be started in the VM during the live
  636     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;. The details of how this is supported,
  637     are implementation specific. For example, a tool may use some platform specific mechanism,
  638     or implementation specific API, to attach to the running VM, and request it start a given
  639     agent.
  640     &lt;p/&gt;
  641     If an agent is started during the live phase then its agent library
  642     must export a start-up function
  643     with the following prototype:
  644     &lt;example&gt;
  645 JNIEXPORT jint JNICALL
  646 Agent_OnAttach(JavaVM* vm, char *options, void *reserved)&lt;/example&gt;
  647 Or for a statically linked agent named &#39;L&#39;:
  648     &lt;example&gt;
  649 JNIEXPORT jint JNICALL
  650 Agent_OnAttach_L(JavaVM* vm, char *options, void *reserved)&lt;/example&gt;
  651 
  652     &lt;p/&gt;
  653     The VM will start the agent by calling this function.
  654     It will be called in the context of a thread
  655     that is attached to the VM. The first argument &lt;i&gt;&amp;lt;vm&amp;gt;&lt;/i&gt; is the Java VM.
  656     The &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; argument is the startup options provided to the agent.
  657     &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; is encoded as a &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8
  658     &lt;/internallink&gt; string.
  659     If startup options were not provided, a zero length string is passed to
  660     &lt;code&gt;options&lt;/code&gt;. The lifespan of the &lt;code&gt;options&lt;/code&gt; string is the
  661     &lt;code&gt;Agent_OnAttach&lt;/code&gt; or &lt;code&gt;Agent_OnAttach_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; call.
  662     If needed beyond this time the string or parts of the string must be copied.
  663     &lt;p/&gt;
  664     Note that some &lt;internallink id=&quot;capability&quot;&gt;capabilities&lt;/internallink&gt;
  665     may not be available in the live phase.
  666     &lt;p/&gt;
  667     The &lt;code&gt;Agent_OnAttach&lt;/code&gt; or &lt;code&gt;Agent_OnAttach_&amp;lt;agent-lib-name
  668     &amp;gt;&lt;/code&gt; function initializes the agent and returns a value
  669     to the VM to indicate if an error occurred. Any value other than zero indicates an error.
  670     An error does not cause the VM to terminate. Instead the VM ignores the error, or takes
  671     some implementation specific action -- for example it might print an error to standard error,
  672     or record the error in a system log.
  673   &lt;/intro&gt;
  674 
  675   &lt;intro id=&quot;onunload&quot; label=&quot;Agent Shutdown&quot;&gt;
  676     The library may optionally export a
  677     shutdown function with the following prototype:
  678     &lt;example&gt;
  679 JNIEXPORT void JNICALL
  680 Agent_OnUnload(JavaVM *vm)&lt;/example&gt;
  681     Or for a statically linked agent named &#39;L&#39;:
  682     &lt;example&gt;
  683 JNIEXPORT void JNICALL
  684 Agent_OnUnload_L(JavaVM *vm)&lt;/example&gt;
  685 
  686     This function will be called by the VM when the library is about to be unloaded.
  687     The library will be unloaded (unless it is statically linked into the
  688     executable) and this function will be called if some platform specific
  689     mechanism causes the unload (an unload mechanism is not specified in this document)
  690     or the library is (in effect) unloaded by the termination of the VM whether through
  691     normal termination or VM failure, including start-up failure.
  692     Uncontrolled shutdown is, of course, an exception to this rule.
  693     Note the distinction between this function and the
  694     &lt;eventlink id=&quot;VMDeath&quot;&gt;VM Death event&lt;/eventlink&gt;: for the VM Death event
  695     to be sent, the VM must have run at least to the point of initialization and a valid
  696     &lt;jvmti/&gt; environment must exist which has set a callback for VMDeath
  697     and enabled the event.
  698     None of these are required for &lt;code&gt;Agent_OnUnload&lt;/code&gt; or
  699     &lt;code&gt;Agent_OnUnload_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; and this function
  700     is also called if the library is unloaded for other reasons.
  701     In the case that a VM Death event is sent, it will be sent before this
  702     function is called (assuming this function is called due to VM termination).
  703     This function can be used to clean-up resources allocated by the agent.
  704   &lt;/intro&gt;
  705 
  706   &lt;intro id=&quot;tooloptions&quot; label=&quot;JAVA_TOOL_OPTIONS&quot;&gt;
  707     Since the command-line cannot always be accessed or modified, for example in embedded VMs
  708     or simply VMs launched deep within scripts, a &lt;code&gt;JAVA_TOOL_OPTIONS&lt;/code&gt; variable is
  709     provided so that agents may be launched in these cases.
  710     &lt;p/&gt;
  711     Platforms which support environment variables or other named strings, may support the
  712     &lt;code&gt;JAVA_TOOL_OPTIONS&lt;/code&gt; variable.  This variable will be broken into options at white-space
  713     boundaries.  White-space characters include space, tab, carriage-return, new-line,
  714     vertical-tab, and form-feed.  Sequences of white-space characters are considered
  715     equivalent to a single white-space character.  No white-space is included in the options
  716     unless quoted.  Quoting is as follows:
  717     &lt;ul&gt;
  718         &lt;li&gt;All characters enclosed between a pair of single quote marks (&#39;&#39;), except a single
  719         quote, are quoted.&lt;/li&gt;
  720         &lt;li&gt;Double quote characters have no special meaning inside a pair of single quote marks.&lt;/li&gt;
  721         &lt;li&gt;All characters enclosed between a pair of double quote marks (&quot;&quot;), except a double
  722         quote, are quoted.&lt;/li&gt;
  723         &lt;li&gt;Single quote characters have no special meaning inside a pair of double quote marks.&lt;/li&gt;
  724         &lt;li&gt;A quoted part can start or end anywhere in the variable.&lt;/li&gt;
  725         &lt;li&gt;White-space characters have no special meaning when quoted -- they are included in
  726         the option like any other character and do not mark white-space boundaries.&lt;/li&gt;
  727         &lt;li&gt;The pair of quote marks is not included in the option.&lt;/li&gt;
  728     &lt;/ul&gt;
  729     &lt;code&gt;JNI_CreateJavaVM&lt;/code&gt; (in the JNI Invocation API) will prepend these options to the options supplied
  730     in its &lt;code&gt;JavaVMInitArgs&lt;/code&gt; argument. Platforms may disable this feature in cases where security is
  731     a concern; for example, the Reference Implementation disables this feature on Unix systems when
  732     the effective user or group ID differs from the real ID.
  733     This feature is intended to support the initialization of tools -- specifically including the
  734     launching of native or Java programming language agents.  Multiple tools may wish to use this
  735     feature, so the variable should not be overwritten, instead,  options should be appended to
  736     the variable.  Note that since the variable is processed at the time of the JNI Invocation
  737     API create VM call, options processed by a launcher (e.g., VM selection options) will not be handled.
  738   &lt;/intro&gt;
  739 
  740   &lt;intro id=&quot;environments&quot; label=&quot;Environments&quot;&gt;
  741     The &lt;jvmti/&gt; specification supports the use of multiple simultaneous
  742     &lt;jvmti/&gt; agents.
  743     Each agent has its own &lt;jvmti/&gt; environment.
  744     That is, the &lt;jvmti/&gt; state is
  745     separate for each agent - changes to one environment do not affect the
  746     others.  The state of a &lt;jvmti/&gt;
  747     environment includes:
  748     &lt;ul&gt;
  749       &lt;li&gt;&lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;the event callbacks&lt;/functionlink&gt;&lt;/li&gt;
  750       &lt;li&gt;&lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;the set of events which are enabled&lt;/functionlink&gt;&lt;/li&gt;
  751       &lt;li&gt;&lt;internallink id=&quot;capability&quot;&gt;the capabilities&lt;/internallink&gt;&lt;/li&gt;
  752       &lt;li&gt;&lt;internallink id=&quot;memory&quot;&gt;the memory allocation/deallocation hooks&lt;/internallink&gt;&lt;/li&gt;
  753     &lt;/ul&gt;
  754     Although their &lt;jvmti/&gt; state
  755     is separate, agents inspect and modify the shared state
  756     of the VM, they also share the native environment in which they execute.
  757     As such, an agent can perturb the results of other agents or cause them
  758     to fail.  It is the responsibility of the agent writer to specify the level
  759     of compatibility with other agents.  &lt;jvmti/&gt; implementations are not capable
  760     of preventing destructive interactions between agents. Techniques to reduce
  761     the likelihood of these occurrences are beyond the scope of this document.
  762     &lt;p/&gt;
  763     An agent creates a &lt;jvmti/&gt; environment
  764     by passing a &lt;jvmti/&gt; version
  765     as the interface ID to the JNI Invocation API function
  766     &lt;externallink id=&quot;jni/invocation.html#getenv&quot;&gt;
  767       &lt;code&gt;GetEnv&lt;/code&gt;&lt;/externallink&gt;.
  768     See &lt;internallink id=&quot;jvmtiEnvAccess&quot;&gt;Accessing &lt;jvmti/&gt; Functions&lt;/internallink&gt;
  769     for more details on the creation and use of
  770     &lt;jvmti/&gt; environments.
  771     Typically, &lt;jvmti/&gt; environments are created by calling &lt;code&gt;GetEnv&lt;/code&gt; from
  772     &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad&lt;/code&gt;&lt;/internallink&gt;.
  773   &lt;/intro&gt;
  774 
  775   &lt;intro id=&quot;bci&quot; label=&quot;Bytecode Instrumentation&quot;&gt;
  776     This interface does not include some events that one might expect in an interface with
  777     profiling support.  Some examples include full speed
  778     method enter and exit events.  The interface instead provides support for
  779     &lt;i&gt;bytecode instrumentation&lt;/i&gt;, the ability to alter the Java virtual machine
  780     bytecode instructions which comprise the target program.  Typically, these alterations
  781     are to add &quot;events&quot; to the code of a method - for example, to add, at the beginning of a method,
  782     a call to &lt;code&gt;MyProfiler.methodEntered()&lt;/code&gt;.
  783     Since the changes are purely additive, they do not modify application
  784     state or behavior.
  785     Because the inserted agent code is standard bytecodes, the VM can run at full speed,
  786     optimizing not only the target program but also the instrumentation.  If the
  787     instrumentation does not involve switching from bytecode execution, no expensive
  788     state transitions are needed.  The result is high performance events.
  789     This approach also provides complete control to the agent: instrumentation can be
  790     restricted to &quot;interesting&quot; portions of the code (e.g., the end user&#39;s code) and
  791     can be conditional.  Instrumentation can run entirely in Java programming language
  792     code or can call into the native agent.  Instrumentation can simply maintain
  793     counters or can statistically sample events.
  794     &lt;p/&gt;
  795     Instrumentation can be inserted in one of three ways:
  796     &lt;ul&gt;
  797       &lt;li&gt;
  798         Static Instrumentation: The class file is instrumented before it
  799         is loaded into the VM - for example, by creating a duplicate directory of
  800         &lt;code&gt;*.class&lt;/code&gt; files which have been modified to add the instrumentation.
  801         This method is extremely awkward and, in general, an agent cannot know
  802         the origin of the class files which will be loaded.
  803       &lt;/li&gt;
  804       &lt;li&gt;
  805         Load-Time Instrumentation: When a class file is loaded by the VM, the raw
  806         bytes of the class file are sent for instrumentation to the agent.
  807         The &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt;
  808         event, triggered by the class load,
  809         provides this functionality.  This mechanism provides efficient
  810         and complete access to one-time instrumentation.
  811       &lt;/li&gt;
  812       &lt;li&gt;
  813         Dynamic Instrumentation: A class which is already loaded (and possibly
  814         even running) is modified.  This optional feature is provided by the
  815         &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event, triggered by calling the
  816         &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; function.
  817         Classes can be modified multiple times and can be returned to their
  818         original state.
  819         The mechanism allows instrumentation which changes during the
  820         course of execution.
  821       &lt;/li&gt;
  822     &lt;/ul&gt;
  823     &lt;p/&gt;
  824     The class modification functionality provided in this interface
  825     is intended to provide a mechanism for instrumentation
  826     (the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event
  827     and the &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; function)
  828     and, during development, for fix-and-continue debugging
  829     (the &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; function).
  830     &lt;p/&gt;
  831     Care must be taken to avoid perturbing dependencies, especially when
  832     instrumenting core classes.  For example, an approach to getting notification
  833     of every object allocation is to instrument the constructor on
  834     &lt;code&gt;Object&lt;/code&gt;.  Assuming that the constructor is initially
  835     empty, the constructor could be changed to:
  836     &lt;example&gt;
  837       public Object() {
  838         MyProfiler.allocationTracker(this);
  839       }
  840     &lt;/example&gt;
  841     However, if this change was made using the
  842     &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt;
  843     event then this might impact a typical VM as follows:
  844     the first created object will call the constructor causing a class load of
  845     &lt;code&gt;MyProfiler&lt;/code&gt;; which will then cause
  846     object creation, and since &lt;code&gt;MyProfiler&lt;/code&gt; isn&#39;t loaded yet,
  847     infinite recursion; resulting in a stack overflow.  A refinement of this
  848     would be to delay invoking the tracking method until a safe time.  For
  849     example, &lt;code&gt;trackAllocations&lt;/code&gt; could be set in the
  850     handler for the &lt;code&gt;VMInit&lt;/code&gt; event.
  851     &lt;example&gt;
  852       static boolean trackAllocations = false;
  853 
  854       public Object() {
  855         if (trackAllocations) {
  856           MyProfiler.allocationTracker(this);
  857         }
  858       }
  859     &lt;/example&gt;
  860     &lt;p/&gt;
  861     The &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt; allows native methods
  862     to be instrumented by the use of wrapper methods.
  863   &lt;/intro&gt;
  864 
  865 &lt;intro id=&quot;bcimodules&quot; label=&quot;Bytecode Instrumentation of code in modules&quot;&gt;
  866   Agents can use the functions &lt;functionlink id=&quot;AddModuleReads&quot;/&gt;,
  867   &lt;functionlink id=&quot;AddModuleExports&quot;/&gt;, &lt;functionlink id=&quot;AddModuleOpens&quot;/&gt;,
  868   &lt;functionlink id=&quot;AddModuleUses&quot;/&gt; and &lt;functionlink id=&quot;AddModuleProvides&quot;/&gt;
  869   to update a module to expand the set of modules that it reads, the set of
  870   packages that it exports or opens to other modules, or the services that it
  871   uses and provides.
  872   &lt;p/&gt;
  873   As an aid to agents that deploy supporting classes on the search path of
  874   the bootstrap class loader, or the search path of the class loader that
  875   loads the main class, the Java virtual machine arranges for the module
  876   of classes transformed by the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event to
  877   read the unnamed module of both class loaders.
  878 &lt;/intro&gt;
  879 
  880   &lt;intro id=&quot;mUTF&quot; label=&quot;Modified UTF-8 String Encoding&quot;&gt;
  881     &lt;jvmti/&gt; uses modified UTF-8 to encode character strings.
  882     This is the same encoding used by JNI.
  883     Modified UTF-8 differs
  884     from standard UTF-8 in the representation of supplementary characters
  885     and of the null character. See the
  886     &lt;externallink id=&quot;jni/types.html#modified-utf-8-strings&quot;&gt;
  887       Modified UTF-8 Strings&lt;/externallink&gt;
  888     section of the JNI specification for details.
  889   &lt;/intro&gt;
  890 
  891   &lt;intro id=&quot;context&quot; label=&quot;Specification Context&quot;&gt;
  892     Since this interface provides access to the state of applications running in the
  893     Java virtual machine;
  894     terminology refers to the Java platform and not the native
  895     platform (unless stated otherwise).  For example:
  896     &lt;ul&gt;
  897       &lt;li&gt;&quot;thread&quot; means Java programming language thread.&lt;/li&gt;
  898       &lt;li&gt;&quot;stack frame&quot; means Java virtual machine stack frame.&lt;/li&gt;
  899       &lt;li&gt;&quot;class&quot; means Java programming language class.&lt;/li&gt;
  900       &lt;li&gt;&quot;heap&quot; means Java virtual machine heap.&lt;/li&gt;
  901       &lt;li&gt;&quot;monitor&quot; means Java programming language object monitor.&lt;/li&gt;
  902     &lt;/ul&gt;
  903     &lt;p/&gt;
  904     Sun, Sun Microsystems, the Sun logo, Java, and JVM
  905     are trademarks or registered trademarks of Oracle
  906     and/or its affiliates, in the U.S. and other countries.
  907   &lt;/intro&gt;
  908 
  909 
  910 &lt;functionsection label=&quot;Functions&quot;&gt;
  911   &lt;intro id=&quot;jvmtiEnvAccess&quot; label=&quot;Accessing Functions&quot;&gt;
  912     Native code accesses &lt;jvmti/&gt; features
  913     by calling &lt;jvmti/&gt; functions.
  914     Access to &lt;jvmti/&gt; functions is by use of an interface pointer
  915     in the same manner as
  916     &lt;externallink id=&quot;jni/design.html&quot;&gt;Java
  917       Native Interface (JNI) functions&lt;/externallink&gt; are accessed.
  918     The &lt;jvmti/&gt; interface pointer is called the
  919     &lt;i&gt;environment pointer&lt;/i&gt;.
  920     &lt;p/&gt;
  921     An environment pointer is a pointer to an environment and has
  922     the type &lt;code&gt;jvmtiEnv*&lt;/code&gt;.
  923     An environment has information about its &lt;jvmti/&gt; connection.
  924     The first value in the environment is a pointer to the function table.
  925     The function table is an array of pointers to &lt;jvmti/&gt; functions.
  926     Every function pointer is at a predefined offset inside the
  927     array.
  928     &lt;p/&gt;
  929     When used from the C language:
  930     double indirection is used to access the functions;
  931     the environment pointer provides context and is the first
  932     parameter of each function call; for example:
  933     &lt;example&gt;
  934 jvmtiEnv *jvmti;
  935 ...
  936 jvmtiError err = (*jvmti)-&gt;GetLoadedClasses(jvmti, &amp;amp;class_count, &amp;amp;classes);
  937     &lt;/example&gt;
  938     &lt;p/&gt;
  939     When used from the C++ language:
  940     functions are accessed as member functions of &lt;code&gt;jvmtiEnv&lt;/code&gt;;
  941     the environment pointer is not passed to the function call; for example:
  942     &lt;example&gt;
  943 jvmtiEnv *jvmti;
  944 ...
  945 jvmtiError err = jvmti-&gt;GetLoadedClasses(&amp;amp;class_count, &amp;amp;classes);
  946     &lt;/example&gt;
  947     Unless otherwise stated, all examples and declarations in this
  948     specification use the C language.
  949     &lt;p/&gt;
  950     A &lt;jvmti/&gt; environment can be obtained through the JNI Invocation API
  951     &lt;code&gt;GetEnv&lt;/code&gt; function:
  952     &lt;example&gt;
  953 jvmtiEnv *jvmti;
  954 ...
  955 (*jvm)-&gt;GetEnv(jvm, &amp;amp;jvmti, JVMTI_VERSION_1_0);
  956     &lt;/example&gt;
  957     Each call to &lt;code&gt;GetEnv&lt;/code&gt;
  958     creates a new &lt;jvmti/&gt; connection and thus
  959     a new &lt;jvmti/&gt; environment.
  960     The &lt;code&gt;version&lt;/code&gt; argument of &lt;code&gt;GetEnv&lt;/code&gt; must be
  961     a &lt;jvmti/&gt; version.
  962     The returned environment may have a different version than the
  963     requested version but the returned environment must be compatible.
  964     &lt;code&gt;GetEnv&lt;/code&gt; will return &lt;code&gt;JNI_EVERSION&lt;/code&gt; if a
  965     compatible version is not available, if &lt;jvmti/&gt; is not supported or
  966     &lt;jvmti/&gt; is not supported in the current VM configuration.
  967     Other interfaces may be added for creating &lt;jvmti/&gt; environments
  968     in specific contexts.
  969     Each environment has its own state (for example,
  970     &lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;desired events&lt;/functionlink&gt;,
  971     &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;event handling functions&lt;/functionlink&gt;, and
  972     &lt;functionlink id=&quot;AddCapabilities&quot;&gt;capabilities&lt;/functionlink&gt;).
  973     An environment is released with
  974     &lt;functionlink id=&quot;DisposeEnvironment&quot;&gt;&lt;/functionlink&gt;.
  975     Thus, unlike JNI which has one environment per thread, &lt;jvmti/&gt; environments work
  976     across threads and are created dynamically.
  977   &lt;/intro&gt;
  978 
  979   &lt;intro id=&quot;functionReturn&quot; label=&quot;Function Return Values&quot;&gt;
  980     &lt;jvmti/&gt; functions always return an
  981     &lt;internallink id=&quot;ErrorSection&quot;&gt;error code&lt;/internallink&gt; via the
  982     &lt;datalink id=&quot;jvmtiError&quot;/&gt; function return value.
  983     Some functions can return additional
  984     values through pointers provided by the calling function.
  985     In some cases, &lt;jvmti/&gt; functions allocate memory that your program must
  986     explicitly deallocate. This is indicated in the individual &lt;jvmti/&gt;
  987     function descriptions.  Empty lists, arrays, sequences, etc are
  988     returned as &lt;code&gt;NULL&lt;/code&gt;.
  989     &lt;p/&gt;
  990     In the event that the &lt;jvmti/&gt; function encounters
  991     an error (any return value other than &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;) the values
  992     of memory referenced by argument pointers is undefined, but no memory
  993     will have been allocated and no global references will have been allocated.
  994     If the error occurs because of invalid input, no action will have occurred.
  995   &lt;/intro&gt;
  996 
  997 &lt;intro id=&quot;refs&quot; label=&quot;Managing JNI Object References&quot;&gt;
  998     &lt;jvmti/&gt; functions identify objects with JNI references
  999     (&lt;datalink id=&quot;jobject&quot;/&gt; and &lt;datalink id=&quot;jclass&quot;/&gt;)
 1000     and their derivatives
 1001     (&lt;datalink id=&quot;jthread&quot;/&gt; and &lt;datalink id=&quot;jthreadGroup&quot;/&gt;).
 1002     References passed to
 1003     &lt;jvmti/&gt; functions can be either global or local, but they must be
 1004     strong references. All references returned by &lt;jvmti/&gt; functions are
 1005     local references--these local references are created
 1006     during the &lt;jvmti/&gt; call.
 1007     Local references are a resource that must be managed (see the
 1008     &lt;externallink id=&quot;jni/functions.html#local-references&quot;&gt;
 1009       JNI Documentation&lt;/externallink&gt;).
 1010     When threads return from native code all local references
 1011     are freed.  Note that some threads, including typical
 1012     agent threads, will never return from native code.
 1013     A thread is ensured the ability to create sixteen local
 1014     references without the need for any explicit management.
 1015     For threads executing a limited number of &lt;jvmti/&gt; calls before
 1016     returning from native code
 1017     (for example, threads processing events),
 1018     it may be determined that no explicit management
 1019     is needed.
 1020     However, long running agent threads will need explicit
 1021     local reference management--usually with the JNI functions
 1022     &lt;code&gt;PushLocalFrame&lt;/code&gt; and &lt;code&gt;PopLocalFrame&lt;/code&gt;.
 1023     Conversely, to preserve references beyond the
 1024     return from native code, they must be converted to global references.
 1025     These rules do not apply to &lt;datalink id=&quot;jmethodID&quot;/&gt; and &lt;datalink id=&quot;jfieldID&quot;/&gt;
 1026     as they are not &lt;datalink id=&quot;jobject&quot;/&gt;s.
 1027 &lt;/intro&gt;
 1028 
 1029     &lt;intro id=&quot;prereqState&quot; label=&quot;Prerequisite State for Calling Functions&quot;&gt;
 1030       Unless the function explicitly states that the agent must bring
 1031       a thread or the VM to a particular state (for example, suspended),
 1032       the &lt;jvmti/&gt; implementation is responsible for bringing the VM to a
 1033       safe and consistent state for performing the function.
 1034     &lt;/intro&gt;
 1035 
 1036     &lt;intro id=&quot;functionsExceptions&quot; label=&quot;Exceptions and Functions&quot;&gt;
 1037       &lt;jvmti/&gt; functions never throw exceptions; error conditions are
 1038       communicated via the
 1039       &lt;internallink id=&quot;functionReturn&quot;&gt;function return value&lt;/internallink&gt;.
 1040       Any existing exception state is preserved across a call to a
 1041       &lt;jvmti/&gt; function.
 1042       See the
 1043       &lt;externallink
 1044         id=&quot;jni/design.html#java-exceptions&quot;
 1045              &gt;Java Exceptions&lt;/externallink&gt;
 1046       section of the JNI specification for information on handling exceptions.
 1047     &lt;/intro&gt;
 1048 
 1049   &lt;category id=&quot;memory&quot; label=&quot;Memory Management&quot;&gt;
 1050     &lt;intro&gt;
 1051       These functions provide for the allocation and deallocation of
 1052       memory used by &lt;jvmti/&gt; functionality and can be used to provide
 1053       working memory for agents.
 1054       Memory managed by &lt;jvmti/&gt; is not compatible with other memory
 1055       allocation libraries and mechanisms.
 1056     &lt;/intro&gt;
 1057 
 1058     &lt;function id=&quot;Allocate&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;notrace&quot; num=&quot;46&quot;&gt;
 1059       &lt;synopsis&gt;Allocate&lt;/synopsis&gt;
 1060       &lt;description&gt;
 1061         Allocate an area of memory through the &lt;jvmti/&gt; allocator.
 1062         The allocated
 1063         memory should be freed with &lt;functionlink id=&quot;Deallocate&quot;&gt;&lt;/functionlink&gt;.
 1064       &lt;/description&gt;
 1065       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1066       &lt;capabilities&gt;
 1067       &lt;/capabilities&gt;
 1068       &lt;parameters&gt;
 1069         &lt;param id=&quot;size&quot;&gt;
 1070           &lt;jlong/&gt;
 1071           &lt;description&gt;
 1072             The number of bytes to allocate.
 1073             &lt;rationale&gt;
 1074               &lt;code&gt;jlong&lt;/code&gt; is used for compatibility with JVMDI.
 1075             &lt;/rationale&gt;
 1076           &lt;/description&gt;
 1077         &lt;/param&gt;
 1078         &lt;param id=&quot;mem_ptr&quot;&gt;
 1079           &lt;allocbuf incount=&quot;size&quot;&gt;&lt;uchar/&gt;&lt;/allocbuf&gt;
 1080           &lt;description&gt;
 1081             On return, a pointer to the beginning of the allocated memory.
 1082             If &lt;code&gt;size&lt;/code&gt; is zero, &lt;code&gt;NULL&lt;/code&gt; is returned.
 1083           &lt;/description&gt;
 1084         &lt;/param&gt;
 1085       &lt;/parameters&gt;
 1086       &lt;errors&gt;
 1087         &lt;error id=&quot;JVMTI_ERROR_OUT_OF_MEMORY&quot;&gt;
 1088           Memory request cannot be honored.
 1089         &lt;/error&gt;
 1090         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 1091           &lt;paramlink id=&quot;size&quot;&gt;&lt;/paramlink&gt; is less than zero.
 1092         &lt;/error&gt;
 1093       &lt;/errors&gt;
 1094     &lt;/function&gt;
 1095 
 1096     &lt;function id=&quot;Deallocate&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;notrace&quot; num=&quot;47&quot;&gt;
 1097       &lt;synopsis&gt;Deallocate&lt;/synopsis&gt;
 1098       &lt;description&gt;
 1099         Deallocate &lt;code&gt;mem&lt;/code&gt;  using the &lt;jvmti/&gt; allocator.
 1100         This function should
 1101         be used to deallocate any memory allocated and returned
 1102         by a &lt;jvmti/&gt; function
 1103         (including memory allocated with &lt;functionlink id=&quot;Allocate&quot;&gt;&lt;/functionlink&gt;).
 1104         All allocated memory must be deallocated
 1105         or the memory cannot be reclaimed.
 1106       &lt;/description&gt;
 1107       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1108       &lt;capabilities&gt;
 1109       &lt;/capabilities&gt;
 1110       &lt;parameters&gt;
 1111         &lt;param id=&quot;mem&quot;&gt;
 1112           &lt;outbuf&gt;
 1113             &lt;uchar/&gt;
 1114             &lt;nullok&gt;the call is ignored&lt;/nullok&gt;
 1115           &lt;/outbuf&gt;
 1116           &lt;description&gt;
 1117             A pointer to the beginning of the allocated memory.
 1118             Please ignore &quot;On return, the elements are set.&quot;
 1119               &lt;todo&gt;keep it from generating &quot;On return, the elements are set&quot;&lt;/todo&gt;
 1120           &lt;/description&gt;
 1121         &lt;/param&gt;
 1122       &lt;/parameters&gt;
 1123       &lt;errors&gt;
 1124       &lt;/errors&gt;
 1125     &lt;/function&gt;
 1126   &lt;/category&gt;
 1127 
 1128   &lt;category id=&quot;threadCategory&quot; label=&quot;Thread&quot;&gt;
 1129     &lt;intro&gt;
 1130     &lt;/intro&gt;
 1131 
 1132     &lt;function id=&quot;GetThreadState&quot; num=&quot;17&quot;&gt;
 1133       &lt;synopsis&gt;Get Thread State&lt;/synopsis&gt;
 1134       &lt;description&gt;
 1135         Get the state of a thread.  The state of the thread is represented by the
 1136         answers to the hierarchical set of questions below:
 1137           &lt;ul type=&quot;circle&quot;&gt;
 1138             &lt;li&gt;&lt;i&gt;Alive?&lt;/i&gt;
 1139               &lt;ul&gt;
 1140                 &lt;li&gt;Not alive.
 1141                   &lt;ul type=&quot;circle&quot;&gt;
 1142                     &lt;li&gt;&lt;i&gt;Why not alive?&lt;/i&gt;
 1143                       &lt;ul&gt;
 1144                         &lt;li&gt;New.&lt;/li&gt;
 1145                         &lt;li&gt;Terminated (&lt;datalink
 1146                             id=&quot;JVMTI_THREAD_STATE_TERMINATED&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_TERMINATED&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1147                       &lt;/ul&gt;
 1148                     &lt;/li&gt;
 1149                   &lt;/ul&gt;
 1150                 &lt;/li&gt;
 1151                 &lt;li&gt;Alive (&lt;datalink
 1152                     id=&quot;JVMTI_THREAD_STATE_ALIVE&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt;&lt;/datalink&gt;)
 1153                   &lt;ul type=&quot;circle&quot;&gt;
 1154                     &lt;li&gt;&lt;i&gt;Suspended?&lt;/i&gt;
 1155                       &lt;ul&gt;
 1156                         &lt;li&gt;Suspended (&lt;datalink
 1157                             id=&quot;JVMTI_THREAD_STATE_SUSPENDED&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_SUSPENDED&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1158                         &lt;li&gt;Not suspended&lt;/li&gt;
 1159                       &lt;/ul&gt;
 1160                     &lt;/li&gt;
 1161                     &lt;li&gt;&lt;i&gt;Interrupted?&lt;/i&gt;
 1162                       &lt;ul&gt;
 1163                         &lt;li&gt;Interrupted (&lt;datalink
 1164                             id=&quot;JVMTI_THREAD_STATE_INTERRUPTED&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_INTERRUPTED&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1165                         &lt;li&gt;Not interrupted.&lt;/li&gt;
 1166                       &lt;/ul&gt;
 1167                     &lt;/li&gt;
 1168                     &lt;li&gt;&lt;i&gt;In native?&lt;/i&gt;
 1169                       &lt;ul&gt;
 1170                         &lt;li&gt;In native code (&lt;datalink
 1171                             id=&quot;JVMTI_THREAD_STATE_IN_NATIVE&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_IN_NATIVE&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1172                         &lt;li&gt;In Java programming language code&lt;/li&gt;
 1173                       &lt;/ul&gt;
 1174                     &lt;/li&gt;
 1175                     &lt;li&gt;&lt;i&gt;What alive state?&lt;/i&gt;
 1176                       &lt;ul&gt;
 1177                         &lt;li&gt;Runnable (&lt;datalink
 1178                             id=&quot;JVMTI_THREAD_STATE_RUNNABLE&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_RUNNABLE&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1179                         &lt;li&gt;Blocked (&lt;datalink
 1180                             id=&quot;JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1181                         &lt;li&gt;Waiting (&lt;datalink
 1182                             id=&quot;JVMTI_THREAD_STATE_WAITING&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt;&lt;/datalink&gt;)
 1183                           &lt;ul type=&quot;circle&quot;&gt;
 1184                             &lt;li&gt;&lt;i&gt;Timed wait?&lt;/i&gt;
 1185                               &lt;ul&gt;
 1186                                 &lt;li&gt;Indefinite (&lt;datalink
 1187                                     id=&quot;JVMTI_THREAD_STATE_WAITING_INDEFINITELY&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING_INDEFINITELY&lt;/code&gt;&lt;/datalink&gt;&lt;/li&gt;
 1188                                 &lt;li&gt;Timed (&lt;datalink
 1189                                     id=&quot;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1190                               &lt;/ul&gt;
 1191                             &lt;/li&gt;
 1192                             &lt;li&gt;&lt;i&gt;Why waiting?&lt;/i&gt;
 1193                               &lt;ul&gt;
 1194                                 &lt;li&gt;Object.wait (&lt;datalink
 1195                                     id=&quot;JVMTI_THREAD_STATE_IN_OBJECT_WAIT&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_IN_OBJECT_WAIT&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1196                                 &lt;li&gt;LockSupport.park (&lt;datalink
 1197                                     id=&quot;JVMTI_THREAD_STATE_PARKED&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_PARKED&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1198                                 &lt;li&gt;Sleeping (&lt;datalink
 1199                                     id=&quot;JVMTI_THREAD_STATE_SLEEPING&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_SLEEPING&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1200                               &lt;/ul&gt;
 1201                             &lt;/li&gt;
 1202                           &lt;/ul&gt;
 1203                         &lt;/li&gt;
 1204                       &lt;/ul&gt;
 1205                     &lt;/li&gt;
 1206                   &lt;/ul&gt;
 1207                 &lt;/li&gt;
 1208               &lt;/ul&gt;
 1209             &lt;/li&gt;
 1210           &lt;/ul&gt;
 1211         &lt;p/&gt;
 1212         The answers are represented by the following bit vector.
 1213         &lt;constants id=&quot;jvmtiThreadState&quot; label=&quot;Thread State Flags&quot; kind=&quot;bits&quot;&gt;
 1214           &lt;constant id=&quot;JVMTI_THREAD_STATE_ALIVE&quot; num=&quot;0x0001&quot;&gt;
 1215             Thread is alive. Zero if thread is new (not started) or terminated.
 1216           &lt;/constant&gt;
 1217           &lt;constant id=&quot;JVMTI_THREAD_STATE_TERMINATED&quot; num=&quot;0x0002&quot;&gt;
 1218             Thread has completed execution.
 1219           &lt;/constant&gt;
 1220           &lt;constant id=&quot;JVMTI_THREAD_STATE_RUNNABLE&quot; num=&quot;0x0004&quot;&gt;
 1221             Thread is runnable.
 1222           &lt;/constant&gt;
 1223           &lt;constant id=&quot;JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&quot; num=&quot;0x0400&quot;&gt;
 1224             Thread is waiting to enter a synchronization block/method or,
 1225             after an &lt;code&gt;Object.wait()&lt;/code&gt;, waiting to re-enter a
 1226             synchronization block/method.
 1227           &lt;/constant&gt;
 1228           &lt;constant id=&quot;JVMTI_THREAD_STATE_WAITING&quot; num=&quot;0x0080&quot;&gt;
 1229             Thread is waiting.
 1230           &lt;/constant&gt;
 1231           &lt;constant id=&quot;JVMTI_THREAD_STATE_WAITING_INDEFINITELY&quot; num=&quot;0x0010&quot;&gt;
 1232             Thread is waiting without a timeout.
 1233             For example, &lt;code&gt;Object.wait()&lt;/code&gt;.
 1234           &lt;/constant&gt;
 1235           &lt;constant id=&quot;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&quot; num=&quot;0x0020&quot;&gt;
 1236             Thread is waiting with a maximum time to wait specified.
 1237             For example, &lt;code&gt;Object.wait(long)&lt;/code&gt;.
 1238           &lt;/constant&gt;
 1239           &lt;constant id=&quot;JVMTI_THREAD_STATE_SLEEPING&quot; num=&quot;0x0040&quot;&gt;
 1240             Thread is sleeping -- &lt;code&gt;Thread.sleep(long)&lt;/code&gt;.
 1241           &lt;/constant&gt;
 1242           &lt;constant id=&quot;JVMTI_THREAD_STATE_IN_OBJECT_WAIT&quot; num=&quot;0x0100&quot;&gt;
 1243             Thread is waiting on an object monitor -- &lt;code&gt;Object.wait&lt;/code&gt;.
 1244           &lt;/constant&gt;
 1245           &lt;constant id=&quot;JVMTI_THREAD_STATE_PARKED&quot; num=&quot;0x0200&quot;&gt;
 1246             Thread is parked, for example: &lt;code&gt;LockSupport.park&lt;/code&gt;,
 1247             &lt;code&gt;LockSupport.parkUtil&lt;/code&gt; and &lt;code&gt;LockSupport.parkNanos&lt;/code&gt;.
 1248           &lt;/constant&gt;
 1249           &lt;constant id=&quot;JVMTI_THREAD_STATE_SUSPENDED&quot; num=&quot;0x100000&quot;&gt;
 1250             Thread suspended.
 1251             &lt;code&gt;java.lang.Thread.suspend()&lt;/code&gt;
 1252             or a &lt;jvmti/&gt; suspend function
 1253             (such as &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;)
 1254             has been called on the thread. If this bit
 1255             is set, the other bits refer to the thread state before suspension.
 1256           &lt;/constant&gt;
 1257           &lt;constant id=&quot;JVMTI_THREAD_STATE_INTERRUPTED&quot; num=&quot;0x200000&quot;&gt;
 1258             Thread has been interrupted.
 1259           &lt;/constant&gt;
 1260           &lt;constant id=&quot;JVMTI_THREAD_STATE_IN_NATIVE&quot; num=&quot;0x400000&quot;&gt;
 1261             Thread is in native code--that is, a native method is running
 1262             which has not called back into the VM or Java programming
 1263             language code.
 1264             &lt;p/&gt;
 1265             This flag is not set when running VM compiled Java programming
 1266             language code nor is it set when running VM code or
 1267             VM support code. Native VM interface functions, such as JNI and
 1268             &lt;jvmti/&gt; functions, may be implemented as VM code.
 1269           &lt;/constant&gt;
 1270           &lt;constant id=&quot;JVMTI_THREAD_STATE_VENDOR_1&quot; num=&quot;0x10000000&quot;&gt;
 1271             Defined by VM vendor.
 1272           &lt;/constant&gt;
 1273           &lt;constant id=&quot;JVMTI_THREAD_STATE_VENDOR_2&quot; num=&quot;0x20000000&quot;&gt;
 1274             Defined by VM vendor.
 1275           &lt;/constant&gt;
 1276           &lt;constant id=&quot;JVMTI_THREAD_STATE_VENDOR_3&quot; num=&quot;0x40000000&quot;&gt;
 1277             Defined by VM vendor.
 1278           &lt;/constant&gt;
 1279         &lt;/constants&gt;
 1280         The following definitions are used to convert &lt;jvmti/&gt; thread state
 1281         to &lt;code&gt;java.lang.Thread.State&lt;/code&gt; style states.
 1282         &lt;constants id=&quot;jvmtiJavaLangThreadState&quot; label=&quot;java.lang.Thread.State Conversion Masks&quot; kind=&quot;bits&quot;&gt;
 1283           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_MASK&quot;
 1284                      num=&quot;JVMTI_THREAD_STATE_TERMINATED | JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_RUNNABLE | JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER | JVMTI_THREAD_STATE_WAITING | JVMTI_THREAD_STATE_WAITING_INDEFINITELY | JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&quot;&gt;
 1285             Mask the state with this before comparison
 1286           &lt;/constant&gt;
 1287           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_NEW&quot;
 1288                      num=&quot;0&quot;&gt;
 1289             &lt;code&gt;java.lang.Thread.State.NEW&lt;/code&gt;
 1290           &lt;/constant&gt;
 1291           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_TERMINATED&quot;
 1292                      num=&quot;JVMTI_THREAD_STATE_TERMINATED&quot;&gt;
 1293             &lt;code&gt;java.lang.Thread.State.TERMINATED&lt;/code&gt;
 1294           &lt;/constant&gt;
 1295           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_RUNNABLE&quot;
 1296                      num=&quot;JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_RUNNABLE&quot;&gt;
 1297             &lt;code&gt;java.lang.Thread.State.RUNNABLE&lt;/code&gt;
 1298           &lt;/constant&gt;
 1299           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_BLOCKED&quot;
 1300                      num=&quot;JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&quot;&gt;
 1301             &lt;code&gt;java.lang.Thread.State.BLOCKED&lt;/code&gt;
 1302           &lt;/constant&gt;
 1303           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_WAITING&quot;
 1304                      num=&quot;JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_WAITING | JVMTI_THREAD_STATE_WAITING_INDEFINITELY&quot;&gt;
 1305             &lt;code&gt;java.lang.Thread.State.WAITING&lt;/code&gt;
 1306           &lt;/constant&gt;
 1307           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_TIMED_WAITING&quot;
 1308                      num=&quot;JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_WAITING | JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&quot;&gt;
 1309             &lt;code&gt;java.lang.Thread.State.TIMED_WAITING&lt;/code&gt;
 1310           &lt;/constant&gt;
 1311         &lt;/constants&gt;
 1312         &lt;b&gt;Rules&lt;/b&gt;
 1313         &lt;p/&gt;
 1314         There can be no more than one answer to a question, although there can be no
 1315         answer (because the answer is unknown, does not apply, or none of the answers is
 1316         correct).  An answer is set only when the enclosing answers match.
 1317         That is, no more than one of
 1318           &lt;ul type=&quot;circle&quot;&gt;
 1319               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_RUNNABLE&lt;/code&gt;&lt;/li&gt;
 1320               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&lt;/code&gt;&lt;/li&gt;
 1321               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt;&lt;/li&gt;
 1322           &lt;/ul&gt;
 1323         can be set (a &lt;tm&gt;J2SE&lt;/tm&gt; compliant implementation will always set
 1324         one of these if &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; is set).
 1325         And if any of these are set, the enclosing answer
 1326         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; is set.
 1327         No more than one of
 1328           &lt;ul type=&quot;circle&quot;&gt;
 1329               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING_INDEFINITELY&lt;/code&gt;&lt;/li&gt;
 1330               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&lt;/code&gt;&lt;/li&gt;
 1331           &lt;/ul&gt;
 1332         can be set (a &lt;tm&gt;J2SE&lt;/tm&gt; compliant implementation will always set
 1333         one of these if &lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt; is set).
 1334         And if either is set, the enclosing answers
 1335         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; and
 1336         &lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt; are set.
 1337         No more than one of
 1338           &lt;ul type=&quot;circle&quot;&gt;
 1339               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_IN_OBJECT_WAIT&lt;/code&gt;&lt;/li&gt;
 1340               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_PARKED&lt;/code&gt;&lt;/li&gt;
 1341               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_SLEEPING&lt;/code&gt;&lt;/li&gt;
 1342           &lt;/ul&gt;
 1343         can be set. And if any of these is set, the enclosing answers
 1344         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; and
 1345         &lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt; are set.
 1346         Also, if &lt;code&gt;JVMTI_THREAD_STATE_SLEEPING&lt;/code&gt; is set,
 1347         then &lt;code&gt;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&lt;/code&gt; is set.
 1348         If a state &lt;i&gt;A&lt;/i&gt; is implemented using the mechanism of
 1349         state &lt;i&gt;B&lt;/i&gt; then it is state &lt;i&gt;A&lt;/i&gt; which
 1350         is returned by this function.
 1351         For example, if &lt;code&gt;Thread.sleep(long)&lt;/code&gt;
 1352         is implemented using &lt;code&gt;Object.wait(long)&lt;/code&gt;
 1353         then it is still &lt;code&gt;JVMTI_THREAD_STATE_SLEEPING&lt;/code&gt;
 1354         which is returned.
 1355         More than one of
 1356           &lt;ul type=&quot;circle&quot;&gt;
 1357               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_SUSPENDED&lt;/code&gt;&lt;/li&gt;
 1358               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_INTERRUPTED&lt;/code&gt;&lt;/li&gt;
 1359               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_IN_NATIVE&lt;/code&gt;&lt;/li&gt;
 1360           &lt;/ul&gt;
 1361         can be set, but if any is set,
 1362         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; is set.
 1363         &lt;p/&gt;
 1364         And finally,
 1365         &lt;code&gt;JVMTI_THREAD_STATE_TERMINATED&lt;/code&gt; cannot be set unless
 1366         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; is not set.
 1367         &lt;p/&gt;
 1368         The thread state representation is designed for extension in future versions
 1369         of the specification; thread state values should be used accordingly, that is
 1370         they should not be used as ordinals.
 1371         Most queries can be made by testing a single bit, if use in a switch statement is desired,
 1372         the state bits should be masked with the interesting bits.
 1373         All bits not defined above are reserved for future use.
 1374         A VM, compliant to the current specification, must set reserved bits to zero.
 1375         An agent should ignore reserved bits --
 1376         they should not be assumed to be zero and thus should not be included in comparisons.
 1377         &lt;p/&gt;
 1378         &lt;b&gt;Examples&lt;/b&gt;
 1379         &lt;p/&gt;
 1380         Note that the values below exclude reserved and vendor bits.
 1381         &lt;p/&gt;
 1382         The state of a thread blocked at a &lt;code&gt;synchronized&lt;/code&gt;-statement would be:
 1383         &lt;example&gt;
 1384             JVMTI_THREAD_STATE_ALIVE + JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER
 1385         &lt;/example&gt;
 1386         The state of a thread which hasn&#39;t started yet would be:
 1387         &lt;example&gt;
 1388             0
 1389         &lt;/example&gt;
 1390         The state of a thread at a &lt;code&gt;Object.wait(3000)&lt;/code&gt; would be:
 1391         &lt;example&gt;
 1392             JVMTI_THREAD_STATE_ALIVE + JVMTI_THREAD_STATE_WAITING +
 1393                 JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT +
 1394                 JVMTI_THREAD_STATE_MONITOR_WAITING
 1395         &lt;/example&gt;
 1396         The state of a thread suspended while runnable would be:
 1397         &lt;example&gt;
 1398             JVMTI_THREAD_STATE_ALIVE + JVMTI_THREAD_STATE_RUNNABLE + JVMTI_THREAD_STATE_SUSPENDED
 1399         &lt;/example&gt;
 1400         &lt;p/&gt;
 1401         &lt;b&gt;Testing the State&lt;/b&gt;
 1402         &lt;p/&gt;
 1403         In most cases, the thread state can be determined by testing the one bit corresponding
 1404         to that question.  For example, the code to test if a thread is sleeping:
 1405         &lt;example&gt;
 1406         jint state;
 1407         jvmtiError err;
 1408 
 1409         err = (*jvmti)-&amp;gt;GetThreadState(jvmti, thread, &amp;amp;state);
 1410         if (err == JVMTI_ERROR_NONE) {
 1411            if (state &amp;amp; JVMTI_THREAD_STATE_SLEEPING) {  ...
 1412         &lt;/example&gt;
 1413         &lt;p/&gt;
 1414         For waiting (that is, in &lt;code&gt;Object.wait&lt;/code&gt;, parked, or sleeping) it would be:
 1415         &lt;example&gt;
 1416            if (state &amp;amp; JVMTI_THREAD_STATE_WAITING) {  ...
 1417         &lt;/example&gt;
 1418         For some states, more than one bit will need to be tested as is the case
 1419         when testing if a thread has not yet been started:
 1420         &lt;example&gt;
 1421            if ((state &amp;amp; (JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_TERMINATED)) == 0)  {  ...
 1422         &lt;/example&gt;
 1423         To distinguish timed from untimed &lt;code&gt;Object.wait&lt;/code&gt;:
 1424         &lt;example&gt;
 1425            if (state &amp;amp; JVMTI_THREAD_STATE_IN_OBJECT_WAIT)  {
 1426              if (state &amp;amp; JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT)  {
 1427                printf(&quot;in Object.wait(long timeout)\n&quot;);
 1428              } else {
 1429                printf(&quot;in Object.wait()\n&quot;);
 1430              }
 1431            }
 1432         &lt;/example&gt;
 1433         &lt;p/&gt;
 1434         &lt;b&gt;Relationship to &lt;code&gt;java.lang.Thread.State&lt;/code&gt;&lt;/b&gt;
 1435         &lt;p/&gt;
 1436         The thread state represented by &lt;code&gt;java.lang.Thread.State&lt;/code&gt;
 1437         returned from &lt;code&gt;java.lang.Thread.getState()&lt;/code&gt; is a subset of the
 1438         information returned from this function.
 1439         The corresponding &lt;code&gt;java.lang.Thread.State&lt;/code&gt; can be determined
 1440         by using the provided conversion masks.
 1441         For example, this returns the name of the &lt;code&gt;java.lang.Thread.State&lt;/code&gt; thread state:
 1442         &lt;example&gt;
 1443             err = (*jvmti)-&amp;gt;GetThreadState(jvmti, thread, &amp;amp;state);
 1444             abortOnError(err);
 1445             switch (state &amp;amp; JVMTI_JAVA_LANG_THREAD_STATE_MASK) {
 1446             case JVMTI_JAVA_LANG_THREAD_STATE_NEW:
 1447               return &quot;NEW&quot;;
 1448             case JVMTI_JAVA_LANG_THREAD_STATE_TERMINATED:
 1449               return &quot;TERMINATED&quot;;
 1450             case JVMTI_JAVA_LANG_THREAD_STATE_RUNNABLE:
 1451               return &quot;RUNNABLE&quot;;
 1452             case JVMTI_JAVA_LANG_THREAD_STATE_BLOCKED:
 1453               return &quot;BLOCKED&quot;;
 1454             case JVMTI_JAVA_LANG_THREAD_STATE_WAITING:
 1455               return &quot;WAITING&quot;;
 1456             case JVMTI_JAVA_LANG_THREAD_STATE_TIMED_WAITING:
 1457               return &quot;TIMED_WAITING&quot;;
 1458             }
 1459         &lt;/example&gt;
 1460       &lt;/description&gt;
 1461       &lt;origin&gt;new&lt;/origin&gt;
 1462       &lt;capabilities&gt;
 1463       &lt;/capabilities&gt;
 1464       &lt;parameters&gt;
 1465         &lt;param id=&quot;thread&quot;&gt;
 1466           &lt;jthread null=&quot;current&quot; started=&quot;maybe&quot; impl=&quot;noconvert&quot;/&gt;
 1467             &lt;description&gt;
 1468               The thread to query.
 1469             &lt;/description&gt;
 1470         &lt;/param&gt;
 1471         &lt;param id=&quot;thread_state_ptr&quot;&gt;
 1472           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1473           &lt;description&gt;
 1474             On return, points to state flags,
 1475             as defined by the &lt;internallink id=&quot;jvmtiThreadState&quot;&gt;Thread State Flags&lt;/internallink&gt;.
 1476           &lt;/description&gt;
 1477         &lt;/param&gt;
 1478       &lt;/parameters&gt;
 1479       &lt;errors&gt;
 1480       &lt;/errors&gt;
 1481     &lt;/function&gt;
 1482 
 1483     &lt;function id=&quot;GetCurrentThread&quot; phase=&quot;start&quot; num=&quot;18&quot; since=&quot;1.1&quot;&gt;
 1484       &lt;synopsis&gt;Get Current Thread&lt;/synopsis&gt;
 1485       &lt;description&gt;
 1486         Get the current thread.
 1487         The current thread is the Java programming language thread which has called the function.
 1488         The function may return &lt;code&gt;NULL&lt;/code&gt; in the start phase if the
 1489         &lt;internallink id=&quot;jvmtiCapabilities.can_generate_early_vmstart&quot;&gt;
 1490         &lt;code&gt;can_generate_early_vmstart&lt;/code&gt;&lt;/internallink&gt; capability is enabled
 1491         and the &lt;code&gt;java.lang.Thread&lt;/code&gt; class has not been initialized yet.
 1492         &lt;p/&gt;
 1493         Note that most &lt;jvmti/&gt; functions that take a thread
 1494         as an argument will accept &lt;code&gt;NULL&lt;/code&gt; to mean
 1495         the current thread.
 1496       &lt;/description&gt;
 1497       &lt;origin&gt;new&lt;/origin&gt;
 1498       &lt;capabilities&gt;
 1499       &lt;/capabilities&gt;
 1500       &lt;parameters&gt;
 1501         &lt;param id=&quot;thread_ptr&quot;&gt;
 1502           &lt;outptr&gt;&lt;jthread/&gt;&lt;/outptr&gt;
 1503           &lt;description&gt;
 1504              On return, points to the current thread, or &lt;code&gt;NULL&lt;/code&gt;.
 1505           &lt;/description&gt;
 1506         &lt;/param&gt;
 1507       &lt;/parameters&gt;
 1508       &lt;errors&gt;
 1509       &lt;/errors&gt;
 1510     &lt;/function&gt;
 1511 
 1512     &lt;function id=&quot;GetAllThreads&quot; num=&quot;4&quot;&gt;
 1513       &lt;synopsis&gt;Get All Threads&lt;/synopsis&gt;
 1514       &lt;description&gt;
 1515         Get all live threads.
 1516         The threads are Java programming language threads;
 1517         that is, threads that are attached to the VM.
 1518         A thread is live if &lt;code&gt;java.lang.Thread.isAlive()&lt;/code&gt;
 1519         would return &lt;code&gt;true&lt;/code&gt;, that is, the thread has
 1520         been started and has not yet died.
 1521         The universe of threads is determined by the context of the &lt;jvmti/&gt;
 1522         environment, which typically is all threads attached to the VM.
 1523         Note that this includes &lt;jvmti/&gt; agent threads
 1524         (see &lt;functionlink id=&quot;RunAgentThread&quot;/&gt;).
 1525       &lt;/description&gt;
 1526       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1527       &lt;capabilities&gt;
 1528       &lt;/capabilities&gt;
 1529       &lt;parameters&gt;
 1530         &lt;param id=&quot;threads_count_ptr&quot;&gt;
 1531           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1532           &lt;description&gt;
 1533             On return, points to the number of running threads.
 1534           &lt;/description&gt;
 1535         &lt;/param&gt;
 1536         &lt;param id=&quot;threads_ptr&quot;&gt;
 1537           &lt;allocbuf outcount=&quot;threads_count_ptr&quot;&gt;&lt;jthread/&gt;&lt;/allocbuf&gt;
 1538             &lt;description&gt;
 1539               On return, points to an array of references, one
 1540               for each running thread.
 1541             &lt;/description&gt;
 1542         &lt;/param&gt;
 1543       &lt;/parameters&gt;
 1544       &lt;errors&gt;
 1545       &lt;/errors&gt;
 1546     &lt;/function&gt;
 1547 
 1548     &lt;function id=&quot;SuspendThread&quot; num=&quot;5&quot;&gt;
 1549       &lt;synopsis&gt;Suspend Thread&lt;/synopsis&gt;
 1550       &lt;description&gt;
 1551         Suspend the specified thread. If the calling thread is specified,
 1552         this function will not return until some other thread calls
 1553         &lt;functionlink id=&quot;ResumeThread&quot;&gt;&lt;/functionlink&gt;.
 1554         If the thread is currently suspended, this function
 1555         does nothing and returns an error.
 1556       &lt;/description&gt;
 1557       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1558       &lt;capabilities&gt;
 1559         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1560       &lt;/capabilities&gt;
 1561       &lt;parameters&gt;
 1562         &lt;param id=&quot;thread&quot;&gt;
 1563           &lt;jthread null=&quot;current&quot;/&gt;
 1564             &lt;description&gt;
 1565               The thread to suspend.
 1566             &lt;/description&gt;
 1567         &lt;/param&gt;
 1568       &lt;/parameters&gt;
 1569       &lt;errors&gt;
 1570         &lt;error id=&quot;JVMTI_ERROR_THREAD_SUSPENDED&quot;&gt;
 1571           Thread already suspended.
 1572         &lt;/error&gt;
 1573       &lt;/errors&gt;
 1574     &lt;/function&gt;
 1575 
 1576     &lt;elide&gt;
 1577     &lt;function id=&quot;SuspendAllThreads&quot; num=&quot;101&quot;&gt;
 1578       &lt;synopsis&gt;Suspend All Threads&lt;/synopsis&gt;
 1579       &lt;description&gt;
 1580         &lt;issue&gt;
 1581             There has been no explicit call for this function, and it will
 1582             thus be removed if there is no interest.
 1583         &lt;/issue&gt;
 1584         Suspend all live threads except:
 1585         &lt;ul&gt;
 1586           &lt;li&gt;already suspended threads&lt;/li&gt;
 1587           &lt;li&gt;those listed in &lt;paramlink id=&quot;except_list&quot;&gt;&lt;/paramlink&gt;&lt;/li&gt;
 1588           &lt;li&gt;certain system (non application) threads, as determined
 1589             by the VM implementation&lt;/li&gt;
 1590         &lt;/ul&gt;
 1591         The threads are Java programming language threads;
 1592         native threads which are not attached to the VM are not
 1593         Java programming language threads.
 1594         A thread is live if &lt;code&gt;java.lang.Thread.isAlive()&lt;/code&gt;
 1595         would return &lt;code&gt;true&lt;/code&gt;, that is, the thread has
 1596         been started and has not yet died.
 1597         The universe of threads is determined
 1598         by the context of the &lt;jvmti/&gt;
 1599         environment, which, typically, is all threads attached to the VM,
 1600         except critical VM internal threads and &lt;jvmti/&gt; agent threads
 1601         (see &lt;functionlink id=&quot;RunAgentThread&quot;/&gt;).
 1602         &lt;p/&gt;
 1603         If the calling thread is specified,
 1604         all other threads are suspended first then the caller thread is suspended -
 1605         this function will not return until some other thread calls
 1606         &lt;functionlink id=&quot;ResumeThread&quot;&gt;&lt;/functionlink&gt;.
 1607         &lt;p/&gt;
 1608         The list of actually
 1609         suspended threads is returned in
 1610         &lt;paramlink id=&quot;suspended_list_ptr&quot;&gt;&lt;/paramlink&gt;.
 1611         Suspension is as defined in &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;.
 1612         &lt;functionlink id=&quot;ResumeThreadList&quot;&gt;&lt;/functionlink&gt;
 1613         can be used to resume the suspended threads.
 1614       &lt;/description&gt;
 1615       &lt;origin&gt;new&lt;/origin&gt;
 1616       &lt;capabilities&gt;
 1617         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1618       &lt;/capabilities&gt;
 1619       &lt;parameters&gt;
 1620         &lt;param id=&quot;except_count&quot;&gt;
 1621           &lt;jint min=&quot;0&quot;/&gt;
 1622           &lt;description&gt;
 1623             The number of threads in the list of threads not to be suspended.
 1624           &lt;/description&gt;
 1625         &lt;/param&gt;
 1626         &lt;param id=&quot;except_list&quot;&gt;
 1627             &lt;inbuf incount=&quot;except_count&quot;&gt;
 1628               &lt;jthread/&gt;
 1629               &lt;nullok&gt;not an error if &lt;code&gt;except_count == 0&lt;/code&gt;&lt;/nullok&gt;
 1630             &lt;/inbuf&gt;
 1631             &lt;description&gt;
 1632               The list of threads not to be suspended.
 1633             &lt;/description&gt;
 1634         &lt;/param&gt;
 1635         &lt;param id=&quot;suspended_count_ptr&quot;&gt;
 1636           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1637           &lt;description&gt;
 1638             On return, points to the number of threads suspended by this call.
 1639           &lt;/description&gt;
 1640         &lt;/param&gt;
 1641         &lt;param id=&quot;suspended_list_ptr&quot;&gt;
 1642           &lt;allocbuf outcount=&quot;suspended_count_ptr&quot;&gt;&lt;jthread/&gt;&lt;/allocbuf&gt;
 1643             &lt;description&gt;
 1644               On return, points to an array of references, one
 1645               for each thread suspended.
 1646             &lt;/description&gt;
 1647         &lt;/param&gt;
 1648       &lt;/parameters&gt;
 1649       &lt;errors&gt;
 1650         &lt;error id=&quot;JVMTI_ERROR_INVALID_THREAD&quot;&gt;
 1651           A thread in &lt;paramlink id=&quot;except_list&quot;&gt;&lt;/paramlink&gt; was invalid.
 1652         &lt;/error&gt;
 1653         &lt;error id=&quot;JVMTI_ERROR_NULL_POINTER&quot;&gt;
 1654           Both &lt;paramlink id=&quot;except_list&quot;&gt;&lt;/paramlink&gt; was &lt;code&gt;NULL&lt;/code&gt;
 1655           and &lt;paramlink id=&quot;except_count&quot;&gt;&lt;/paramlink&gt; was non-zero.
 1656         &lt;/error&gt;
 1657       &lt;/errors&gt;
 1658     &lt;/function&gt;
 1659     &lt;/elide&gt;
 1660 
 1661     &lt;function id=&quot;SuspendThreadList&quot; num=&quot;92&quot;&gt;
 1662       &lt;synopsis&gt;Suspend Thread List&lt;/synopsis&gt;
 1663       &lt;description&gt;
 1664         Suspend the &lt;paramlink id=&quot;request_count&quot;&gt;&lt;/paramlink&gt;
 1665         threads specified in the
 1666         &lt;paramlink id=&quot;request_list&quot;&gt;&lt;/paramlink&gt; array.
 1667         Threads may be resumed with
 1668         &lt;functionlink id=&quot;ResumeThreadList&quot;&gt;&lt;/functionlink&gt; or
 1669         &lt;functionlink id=&quot;ResumeThread&quot;&gt;&lt;/functionlink&gt;.
 1670         If the calling thread is specified in the
 1671         &lt;paramlink id=&quot;request_list&quot;&gt;&lt;/paramlink&gt; array, this function will
 1672         not return until some other thread resumes it.
 1673         Errors encountered in the suspension of a thread
 1674         are returned in the &lt;paramlink id=&quot;results&quot;&gt;&lt;/paramlink&gt;
 1675         array, &lt;b&gt;not&lt;/b&gt; in the return value of this function.
 1676         Threads that are currently suspended do not change state.
 1677       &lt;/description&gt;
 1678       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1679       &lt;capabilities&gt;
 1680         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1681       &lt;/capabilities&gt;
 1682       &lt;parameters&gt;
 1683         &lt;param id=&quot;request_count&quot;&gt;
 1684           &lt;jint min=&quot;0&quot;/&gt;
 1685           &lt;description&gt;
 1686             The number of threads to suspend.
 1687           &lt;/description&gt;
 1688         &lt;/param&gt;
 1689         &lt;param id=&quot;request_list&quot;&gt;
 1690           &lt;inbuf incount=&quot;request_count&quot;&gt;&lt;jthread/&gt;&lt;/inbuf&gt;
 1691             &lt;description&gt;
 1692               The list of threads to suspend.
 1693             &lt;/description&gt;
 1694         &lt;/param&gt;
 1695         &lt;param id=&quot;results&quot;&gt;
 1696           &lt;outbuf incount=&quot;request_count&quot;&gt;&lt;enum&gt;jvmtiError&lt;/enum&gt;&lt;/outbuf&gt;
 1697           &lt;description&gt;
 1698             An agent supplied array of
 1699             &lt;paramlink id=&quot;request_count&quot;&gt;&lt;/paramlink&gt; elements.
 1700             On return, filled with the error code for
 1701             the suspend of the corresponding thread.
 1702             The error code will be
 1703             &lt;errorlink id=&quot;JVMTI_ERROR_NONE&quot;&gt;&lt;/errorlink&gt;
 1704             if the thread was suspended by this call.
 1705             Possible error codes are those specified
 1706             for &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;.
 1707           &lt;/description&gt;
 1708         &lt;/param&gt;
 1709       &lt;/parameters&gt;
 1710       &lt;errors&gt;
 1711       &lt;/errors&gt;
 1712     &lt;/function&gt;
 1713 
 1714     &lt;function id=&quot;ResumeThread&quot; num=&quot;6&quot;&gt;
 1715       &lt;synopsis&gt;Resume Thread&lt;/synopsis&gt;
 1716       &lt;description&gt;
 1717         Resume a suspended thread.
 1718         Any threads currently suspended through
 1719         a &lt;jvmti/&gt; suspend function (eg.
 1720         &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;)
 1721         or &lt;code&gt;java.lang.Thread.suspend()&lt;/code&gt;
 1722         will resume execution;
 1723         all other threads are unaffected.
 1724       &lt;/description&gt;
 1725       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1726       &lt;capabilities&gt;
 1727         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1728       &lt;/capabilities&gt;
 1729       &lt;parameters&gt;
 1730         &lt;param id=&quot;thread&quot;&gt;
 1731           &lt;jthread/&gt;
 1732             &lt;description&gt;
 1733               The thread to resume.
 1734             &lt;/description&gt;
 1735         &lt;/param&gt;
 1736       &lt;/parameters&gt;
 1737       &lt;errors&gt;
 1738         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 1739           Thread was not suspended.
 1740         &lt;/error&gt;
 1741         &lt;error id=&quot;JVMTI_ERROR_INVALID_TYPESTATE&quot;&gt;
 1742           The state of the thread has been modified, and is now inconsistent.
 1743         &lt;/error&gt;
 1744       &lt;/errors&gt;
 1745     &lt;/function&gt;
 1746 
 1747     &lt;function id=&quot;ResumeThreadList&quot; num=&quot;93&quot;&gt;
 1748       &lt;synopsis&gt;Resume Thread List&lt;/synopsis&gt;
 1749       &lt;description&gt;
 1750         Resume the &lt;paramlink id=&quot;request_count&quot;&gt;&lt;/paramlink&gt;
 1751         threads specified in the
 1752         &lt;paramlink id=&quot;request_list&quot;&gt;&lt;/paramlink&gt; array.
 1753         Any thread suspended through
 1754         a &lt;jvmti/&gt; suspend function (eg.
 1755         &lt;functionlink id=&quot;SuspendThreadList&quot;&gt;&lt;/functionlink&gt;)
 1756         or &lt;code&gt;java.lang.Thread.suspend()&lt;/code&gt;
 1757         will resume execution.
 1758       &lt;/description&gt;
 1759       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1760       &lt;capabilities&gt;
 1761         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1762       &lt;/capabilities&gt;
 1763       &lt;parameters&gt;
 1764         &lt;param id=&quot;request_count&quot;&gt;
 1765           &lt;jint min=&quot;0&quot;/&gt;
 1766           &lt;description&gt;
 1767             The number of threads to resume.
 1768           &lt;/description&gt;
 1769         &lt;/param&gt;
 1770         &lt;param id=&quot;request_list&quot;&gt;
 1771           &lt;inbuf incount=&quot;request_count&quot;&gt;&lt;jthread/&gt;&lt;/inbuf&gt;
 1772             &lt;description&gt;
 1773               The threads to resume.
 1774             &lt;/description&gt;
 1775         &lt;/param&gt;
 1776         &lt;param id=&quot;results&quot;&gt;
 1777           &lt;outbuf incount=&quot;request_count&quot;&gt;&lt;enum&gt;jvmtiError&lt;/enum&gt;&lt;/outbuf&gt;
 1778           &lt;description&gt;
 1779             An agent supplied array of
 1780             &lt;paramlink id=&quot;request_count&quot;&gt;&lt;/paramlink&gt; elements.
 1781             On return, filled with the error code for
 1782             the resume of the corresponding thread.
 1783             The error code will be
 1784             &lt;errorlink id=&quot;JVMTI_ERROR_NONE&quot;&gt;&lt;/errorlink&gt;
 1785             if the thread was suspended by this call.
 1786             Possible error codes are those specified
 1787             for &lt;functionlink id=&quot;ResumeThread&quot;&gt;&lt;/functionlink&gt;.
 1788           &lt;/description&gt;
 1789         &lt;/param&gt;
 1790       &lt;/parameters&gt;
 1791       &lt;errors&gt;
 1792       &lt;/errors&gt;
 1793     &lt;/function&gt;
 1794 
 1795     &lt;function id=&quot;StopThread&quot; num=&quot;7&quot;&gt;
 1796       &lt;synopsis&gt;Stop Thread&lt;/synopsis&gt;
 1797       &lt;description&gt;
 1798         Send the specified asynchronous exception to the specified thread.
 1799         Normally, this function is used to kill the specified thread with an
 1800         instance of the exception &lt;code&gt;ThreadDeath&lt;/code&gt;, similar to
 1801         &lt;code&gt;java.lang.Thread.stop&lt;/code&gt;.
 1802       &lt;/description&gt;
 1803       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1804       &lt;capabilities&gt;
 1805         &lt;required id=&quot;can_signal_thread&quot;&gt;&lt;/required&gt;
 1806       &lt;/capabilities&gt;
 1807       &lt;parameters&gt;
 1808         &lt;param id=&quot;thread&quot;&gt;
 1809           &lt;jthread/&gt;
 1810             &lt;description&gt;
 1811               The thread to stop.
 1812             &lt;/description&gt;
 1813         &lt;/param&gt;
 1814         &lt;param id=&quot;exception&quot;&gt;
 1815           &lt;jobject/&gt;
 1816             &lt;description&gt;
 1817               The asynchronous exception object.
 1818             &lt;/description&gt;
 1819         &lt;/param&gt;
 1820       &lt;/parameters&gt;
 1821       &lt;errors&gt;
 1822       &lt;/errors&gt;
 1823     &lt;/function&gt;
 1824 
 1825     &lt;function id=&quot;InterruptThread&quot; num=&quot;8&quot;&gt;
 1826       &lt;synopsis&gt;Interrupt Thread&lt;/synopsis&gt;
 1827       &lt;description&gt;
 1828         Interrupt the specified thread
 1829         (similar to &lt;code&gt;java.lang.Thread.interrupt&lt;/code&gt;).
 1830       &lt;/description&gt;
 1831       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1832       &lt;capabilities&gt;
 1833         &lt;required id=&quot;can_signal_thread&quot;&gt;&lt;/required&gt;
 1834       &lt;/capabilities&gt;
 1835       &lt;parameters&gt;
 1836         &lt;param id=&quot;thread&quot;&gt;
 1837           &lt;jthread impl=&quot;noconvert&quot;/&gt;
 1838             &lt;description&gt;
 1839               The thread to interrupt.
 1840             &lt;/description&gt;
 1841         &lt;/param&gt;
 1842       &lt;/parameters&gt;
 1843       &lt;errors&gt;
 1844       &lt;/errors&gt;
 1845     &lt;/function&gt;
 1846 
 1847     &lt;function id=&quot;GetThreadInfo&quot; num=&quot;9&quot;&gt;
 1848       &lt;synopsis&gt;Get Thread Info&lt;/synopsis&gt;
 1849       &lt;typedef id=&quot;jvmtiThreadInfo&quot; label=&quot;Thread information structure&quot;&gt;
 1850         &lt;field id=&quot;name&quot;&gt;
 1851           &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 1852           &lt;description&gt;
 1853             The thread name, encoded as a
 1854             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 1855           &lt;/description&gt;
 1856         &lt;/field&gt;
 1857         &lt;field id=&quot;priority&quot;&gt;
 1858           &lt;jint/&gt;
 1859           &lt;description&gt;
 1860             The thread priority.  See the thread priority constants:
 1861             &lt;datalink id=&quot;jvmtiThreadPriority&quot;&gt;&lt;/datalink&gt;.
 1862           &lt;/description&gt;
 1863         &lt;/field&gt;
 1864         &lt;field id=&quot;is_daemon&quot;&gt;
 1865           &lt;jboolean/&gt;
 1866           &lt;description&gt;
 1867             Is this a daemon thread?
 1868           &lt;/description&gt;
 1869         &lt;/field&gt;
 1870         &lt;field id=&quot;thread_group&quot;&gt;
 1871           &lt;jthreadGroup/&gt;
 1872           &lt;description&gt;
 1873             The thread group to which this thread belongs.
 1874             &lt;code&gt;NULL&lt;/code&gt; if the thread has died.
 1875           &lt;/description&gt;
 1876         &lt;/field&gt;
 1877         &lt;field id=&quot;context_class_loader&quot;&gt;
 1878           &lt;jobject/&gt;
 1879             &lt;description&gt;
 1880               The context class loader associated with this thread.
 1881             &lt;/description&gt;
 1882         &lt;/field&gt;
 1883       &lt;/typedef&gt;
 1884       &lt;description&gt;
 1885         Get thread information. The fields of the &lt;datalink id=&quot;jvmtiThreadInfo&quot;/&gt; structure
 1886         are filled in with details of the specified thread.
 1887       &lt;/description&gt;
 1888       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1889       &lt;capabilities&gt;
 1890       &lt;/capabilities&gt;
 1891       &lt;parameters&gt;
 1892         &lt;param id=&quot;thread&quot;&gt;
 1893           &lt;jthread null=&quot;current&quot; impl=&quot;noconvert&quot; started=&quot;maybe&quot;/&gt;
 1894             &lt;description&gt;
 1895               The thread to query.
 1896             &lt;/description&gt;
 1897         &lt;/param&gt;
 1898         &lt;param id=&quot;info_ptr&quot;&gt;
 1899           &lt;outptr&gt;&lt;struct&gt;jvmtiThreadInfo&lt;/struct&gt;&lt;/outptr&gt;
 1900           &lt;description&gt;
 1901             On return, filled with information describing the specified thread.
 1902           &lt;/description&gt;
 1903         &lt;/param&gt;
 1904       &lt;/parameters&gt;
 1905       &lt;errors&gt;
 1906       &lt;/errors&gt;
 1907     &lt;/function&gt;
 1908 
 1909     &lt;function id=&quot;GetOwnedMonitorInfo&quot; num=&quot;10&quot;&gt;
 1910       &lt;synopsis&gt;Get Owned Monitor Info&lt;/synopsis&gt;
 1911       &lt;description&gt;
 1912         Get information about the monitors owned by the
 1913         specified thread.
 1914       &lt;/description&gt;
 1915       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 1916       &lt;capabilities&gt;
 1917         &lt;required id=&quot;can_get_owned_monitor_info&quot;&gt;&lt;/required&gt;
 1918       &lt;/capabilities&gt;
 1919       &lt;parameters&gt;
 1920         &lt;param id=&quot;thread&quot;&gt;
 1921           &lt;jthread null=&quot;current&quot;/&gt;
 1922             &lt;description&gt;
 1923               The thread to query.
 1924             &lt;/description&gt;
 1925         &lt;/param&gt;
 1926         &lt;param id=&quot;owned_monitor_count_ptr&quot;&gt;
 1927           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1928           &lt;description&gt;
 1929             The number of monitors returned.
 1930           &lt;/description&gt;
 1931         &lt;/param&gt;
 1932         &lt;param id=&quot;owned_monitors_ptr&quot;&gt;
 1933           &lt;allocbuf outcount=&quot;owned_monitor_count_ptr&quot;&gt;&lt;jobject/&gt;&lt;/allocbuf&gt;
 1934             &lt;description&gt;
 1935               The array of owned monitors.
 1936             &lt;/description&gt;
 1937         &lt;/param&gt;
 1938       &lt;/parameters&gt;
 1939       &lt;errors&gt;
 1940       &lt;/errors&gt;
 1941     &lt;/function&gt;
 1942 
 1943     &lt;function id=&quot;GetOwnedMonitorStackDepthInfo&quot; num=&quot;153&quot; since=&quot;1.1&quot;&gt;
 1944       &lt;synopsis&gt;Get Owned Monitor Stack Depth Info&lt;/synopsis&gt;
 1945       &lt;typedef id=&quot;jvmtiMonitorStackDepthInfo&quot;
 1946                label=&quot;Monitor stack depth information structure&quot;&gt;
 1947         &lt;field id=&quot;monitor&quot;&gt;
 1948           &lt;jobject/&gt;
 1949             &lt;description&gt;
 1950               The owned monitor.
 1951             &lt;/description&gt;
 1952         &lt;/field&gt;
 1953         &lt;field id=&quot;stack_depth&quot;&gt;
 1954           &lt;jint/&gt;
 1955           &lt;description&gt;
 1956             The stack depth.  Corresponds to the stack depth used in the
 1957             &lt;internallink id=&quot;stack&quot;&gt;Stack Frame functions&lt;/internallink&gt;.
 1958             That is, zero is the current frame, one is the frame which
 1959             called the current frame. And it is negative one if the
 1960             implementation cannot determine the stack depth (e.g., for
 1961             monitors acquired by JNI &lt;code&gt;MonitorEnter&lt;/code&gt;).
 1962           &lt;/description&gt;
 1963         &lt;/field&gt;
 1964       &lt;/typedef&gt;
 1965       &lt;description&gt;
 1966         Get information about the monitors owned by the
 1967         specified thread and the depth of the stack frame which locked them.
 1968       &lt;/description&gt;
 1969       &lt;origin&gt;new&lt;/origin&gt;
 1970       &lt;capabilities&gt;
 1971         &lt;required id=&quot;can_get_owned_monitor_stack_depth_info&quot;&gt;&lt;/required&gt;
 1972       &lt;/capabilities&gt;
 1973       &lt;parameters&gt;
 1974         &lt;param id=&quot;thread&quot;&gt;
 1975           &lt;jthread null=&quot;current&quot;/&gt;
 1976             &lt;description&gt;
 1977               The thread to query.
 1978             &lt;/description&gt;
 1979         &lt;/param&gt;
 1980         &lt;param id=&quot;monitor_info_count_ptr&quot;&gt;
 1981           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1982           &lt;description&gt;
 1983             The number of monitors returned.
 1984           &lt;/description&gt;
 1985         &lt;/param&gt;
 1986         &lt;param id=&quot;monitor_info_ptr&quot;&gt;
 1987           &lt;allocbuf outcount=&quot;monitor_info_count_ptr&quot;&gt;
 1988             &lt;struct&gt;jvmtiMonitorStackDepthInfo&lt;/struct&gt;
 1989           &lt;/allocbuf&gt;
 1990           &lt;description&gt;
 1991             The array of owned monitor depth information.
 1992           &lt;/description&gt;
 1993         &lt;/param&gt;
 1994       &lt;/parameters&gt;
 1995       &lt;errors&gt;
 1996       &lt;/errors&gt;
 1997     &lt;/function&gt;
 1998 
 1999     &lt;function id=&quot;GetCurrentContendedMonitor&quot; num=&quot;11&quot;&gt;
 2000       &lt;synopsis&gt;Get Current Contended Monitor&lt;/synopsis&gt;
 2001       &lt;description&gt;
 2002         Get the object, if any, whose monitor the specified thread is waiting to
 2003         enter or waiting to regain through &lt;code&gt;java.lang.Object.wait&lt;/code&gt;.
 2004       &lt;/description&gt;
 2005       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2006       &lt;capabilities&gt;
 2007         &lt;required id=&quot;can_get_current_contended_monitor&quot;&gt;&lt;/required&gt;
 2008       &lt;/capabilities&gt;
 2009       &lt;parameters&gt;
 2010         &lt;param id=&quot;thread&quot;&gt;
 2011           &lt;jthread null=&quot;current&quot;/&gt;
 2012             &lt;description&gt;
 2013               The thread to query.
 2014             &lt;/description&gt;
 2015         &lt;/param&gt;
 2016         &lt;param id=&quot;monitor_ptr&quot;&gt;
 2017           &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 2018             &lt;description&gt;
 2019               On return, filled with the current contended monitor, or
 2020               NULL if there is none.
 2021             &lt;/description&gt;
 2022         &lt;/param&gt;
 2023       &lt;/parameters&gt;
 2024       &lt;errors&gt;
 2025       &lt;/errors&gt;
 2026     &lt;/function&gt;
 2027 
 2028     &lt;callback id=&quot;jvmtiStartFunction&quot;&gt;
 2029       &lt;void/&gt;
 2030       &lt;synopsis&gt;Agent Start Function&lt;/synopsis&gt;
 2031       &lt;description&gt;
 2032         Agent supplied callback function.
 2033         This function is the entry point for an agent thread
 2034         started with
 2035         &lt;functionlink id=&quot;RunAgentThread&quot;&gt;&lt;/functionlink&gt;.
 2036       &lt;/description&gt;
 2037       &lt;parameters&gt;
 2038           &lt;param id=&quot;jvmti_env&quot;&gt;
 2039             &lt;outptr&gt;
 2040               &lt;struct&gt;jvmtiEnv&lt;/struct&gt;
 2041             &lt;/outptr&gt;
 2042             &lt;description&gt;
 2043               The &lt;jvmti/&gt; environment.
 2044             &lt;/description&gt;
 2045           &lt;/param&gt;
 2046           &lt;param id=&quot;jni_env&quot;&gt;
 2047             &lt;outptr&gt;
 2048               &lt;struct&gt;JNIEnv&lt;/struct&gt;
 2049             &lt;/outptr&gt;
 2050             &lt;description&gt;
 2051               The JNI environment.
 2052             &lt;/description&gt;
 2053           &lt;/param&gt;
 2054           &lt;param id=&quot;arg&quot;&gt;
 2055             &lt;outptr&gt;
 2056               &lt;void/&gt;
 2057             &lt;/outptr&gt;
 2058               &lt;description&gt;
 2059                 The &lt;code&gt;arg&lt;/code&gt; parameter passed to
 2060                 &lt;functionlink id=&quot;RunAgentThread&quot;&gt;&lt;/functionlink&gt;.
 2061               &lt;/description&gt;
 2062           &lt;/param&gt;
 2063       &lt;/parameters&gt;
 2064     &lt;/callback&gt;
 2065 
 2066     &lt;function id=&quot;RunAgentThread&quot; num=&quot;12&quot;&gt;
 2067       &lt;synopsis&gt;Run Agent Thread&lt;/synopsis&gt;
 2068       &lt;description&gt;
 2069         Starts the execution of an agent thread. with the specified native function.
 2070         The parameter &lt;paramlink id=&quot;arg&quot;&gt;&lt;/paramlink&gt; is forwarded on to the
 2071         &lt;functionlink id=&quot;jvmtiStartFunction&quot;&gt;start function&lt;/functionlink&gt;
 2072         (specified with &lt;paramlink id=&quot;proc&quot;&gt;&lt;/paramlink&gt;) as its single argument.
 2073         This function allows the creation of agent threads
 2074         for handling communication with another process or for handling events
 2075         without the need to load a special subclass of &lt;code&gt;java.lang.Thread&lt;/code&gt; or
 2076         implementer of &lt;code&gt;java.lang.Runnable&lt;/code&gt;.
 2077         Instead, the created thread can run entirely in native code.
 2078         However, the created thread does require a newly created instance
 2079         of &lt;code&gt;java.lang.Thread&lt;/code&gt; (referenced by the argument &lt;code&gt;thread&lt;/code&gt;) to
 2080         which it will be associated.
 2081         The thread object can be created with JNI calls.
 2082         &lt;p/&gt;
 2083         The following common thread priorities are provided for your convenience:
 2084         &lt;constants id=&quot;jvmtiThreadPriority&quot; label=&quot;Thread Priority Constants&quot; kind=&quot;const&quot;&gt;
 2085           &lt;constant id=&quot;JVMTI_THREAD_MIN_PRIORITY&quot; num=&quot;1&quot;&gt;
 2086             Minimum possible thread priority
 2087           &lt;/constant&gt;
 2088           &lt;constant id=&quot;JVMTI_THREAD_NORM_PRIORITY&quot; num=&quot;5&quot;&gt;
 2089             Normal thread priority
 2090           &lt;/constant&gt;
 2091           &lt;constant id=&quot;JVMTI_THREAD_MAX_PRIORITY&quot; num=&quot;10&quot;&gt;
 2092             Maximum possible thread priority
 2093           &lt;/constant&gt;
 2094         &lt;/constants&gt;
 2095         &lt;p/&gt;
 2096         The new thread is started as a daemon thread with the specified
 2097         &lt;paramlink id=&quot;priority&quot;&gt;&lt;/paramlink&gt;.
 2098         If enabled, a &lt;eventlink id=&quot;ThreadStart&quot;/&gt; event will be sent.
 2099         &lt;p/&gt;
 2100         Since the thread has been started, the thread will be live when this function
 2101         returns, unless the thread has died immediately.
 2102         &lt;p/&gt;
 2103         The thread group of the thread is ignored -- specifically, the thread is not
 2104         added to the thread group and the thread is not seen on queries of the thread
 2105         group at either the Java programming language or &lt;jvmti/&gt; levels.
 2106         &lt;p/&gt;
 2107         The thread is not visible to Java programming language queries but is
 2108         included in &lt;jvmti/&gt; queries (for example,
 2109         &lt;functionlink id=&quot;GetAllThreads&quot;/&gt; and
 2110         &lt;functionlink id=&quot;GetAllStackTraces&quot;/&gt;).
 2111         &lt;p/&gt;
 2112         Upon execution of &lt;code&gt;proc&lt;/code&gt;, the new thread will be attached to the
 2113         VM -- see the JNI documentation on
 2114         &lt;externallink id=&quot;jni/invocation.html#attaching-to-the-vm&quot;
 2115                       &gt;Attaching to the VM&lt;/externallink&gt;.
 2116       &lt;/description&gt;
 2117       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 2118       &lt;capabilities&gt;
 2119       &lt;/capabilities&gt;
 2120       &lt;parameters&gt;
 2121         &lt;param id=&quot;thread&quot;&gt;
 2122           &lt;jthread impl=&quot;noconvert&quot; started=&quot;no&quot;/&gt;
 2123             &lt;description&gt;
 2124               The thread to run.
 2125             &lt;/description&gt;
 2126         &lt;/param&gt;
 2127         &lt;param id=&quot;proc&quot;&gt;
 2128           &lt;ptrtype&gt;
 2129             &lt;struct&gt;jvmtiStartFunction&lt;/struct&gt;
 2130           &lt;/ptrtype&gt;
 2131           &lt;description&gt;
 2132             The start function.
 2133           &lt;/description&gt;
 2134         &lt;/param&gt;
 2135         &lt;param id=&quot;arg&quot;&gt;
 2136           &lt;inbuf&gt;
 2137             &lt;void/&gt;
 2138             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed to the start function&lt;/nullok&gt;
 2139           &lt;/inbuf&gt;
 2140           &lt;description&gt;
 2141             The argument to the start function.
 2142           &lt;/description&gt;
 2143         &lt;/param&gt;
 2144         &lt;param id=&quot;priority&quot;&gt;
 2145           &lt;jint/&gt;
 2146           &lt;description&gt;
 2147             The priority of the started thread. Any thread
 2148             priority allowed by &lt;code&gt;java.lang.Thread.setPriority&lt;/code&gt; can be used including
 2149             those in &lt;datalink id=&quot;jvmtiThreadPriority&quot;&gt;&lt;/datalink&gt;.
 2150           &lt;/description&gt;
 2151         &lt;/param&gt;
 2152       &lt;/parameters&gt;
 2153       &lt;errors&gt;
 2154         &lt;error id=&quot;JVMTI_ERROR_INVALID_PRIORITY&quot;&gt;
 2155             &lt;paramlink id=&quot;priority&quot;/&gt; is less than
 2156             &lt;datalink id=&quot;JVMTI_THREAD_MIN_PRIORITY&quot;/&gt;
 2157               or greater than
 2158             &lt;datalink id=&quot;JVMTI_THREAD_MAX_PRIORITY&quot;/&gt;
 2159         &lt;/error&gt;
 2160       &lt;/errors&gt;
 2161     &lt;/function&gt;
 2162 
 2163     &lt;function id=&quot;SetThreadLocalStorage&quot; jkernel=&quot;yes&quot; impl=&quot;notrace&quot; phase=&quot;start&quot; num=&quot;103&quot;&gt;
 2164       &lt;synopsis&gt;Set Thread Local Storage&lt;/synopsis&gt;
 2165       &lt;description&gt;
 2166         The VM stores a pointer value associated with each environment-thread
 2167         pair. This pointer value is called &lt;i&gt;thread-local storage&lt;/i&gt;.
 2168         This value is &lt;code&gt;NULL&lt;/code&gt; unless set with this function.
 2169         Agents can allocate memory in which they store thread specific
 2170         information. By setting thread-local storage it can then be
 2171         accessed with
 2172         &lt;functionlink id=&quot;GetThreadLocalStorage&quot;&gt;&lt;/functionlink&gt;.
 2173         &lt;p/&gt;
 2174         This function is called by the agent to set the value of the &lt;jvmti/&gt;
 2175         thread-local storage. &lt;jvmti/&gt; supplies to the agent a pointer-size
 2176         thread-local storage that can be used to record per-thread
 2177         information.
 2178       &lt;/description&gt;
 2179       &lt;origin&gt;jvmpi&lt;/origin&gt;
 2180       &lt;capabilities&gt;
 2181       &lt;/capabilities&gt;
 2182       &lt;parameters&gt;
 2183         &lt;param id=&quot;thread&quot;&gt;
 2184           &lt;jthread null=&quot;current&quot;/&gt;
 2185             &lt;description&gt;
 2186               Store to this thread.
 2187             &lt;/description&gt;
 2188         &lt;/param&gt;
 2189         &lt;param id=&quot;data&quot;&gt;
 2190           &lt;inbuf&gt;
 2191             &lt;void/&gt;
 2192             &lt;nullok&gt;value is set to &lt;code&gt;NULL&lt;/code&gt;&lt;/nullok&gt;
 2193           &lt;/inbuf&gt;
 2194           &lt;description&gt;
 2195             The value to be entered into the thread-local storage.
 2196           &lt;/description&gt;
 2197         &lt;/param&gt;
 2198       &lt;/parameters&gt;
 2199       &lt;errors&gt;
 2200       &lt;/errors&gt;
 2201     &lt;/function&gt;
 2202 
 2203     &lt;function id=&quot;GetThreadLocalStorage&quot; jkernel=&quot;yes&quot; impl=&quot;innative notrace&quot; phase=&quot;start&quot; num=&quot;102&quot;&gt;
 2204       &lt;synopsis&gt;Get Thread Local Storage&lt;/synopsis&gt;
 2205       &lt;description&gt;
 2206         Called by the agent to get the value of the &lt;jvmti/&gt; thread-local
 2207         storage.
 2208       &lt;/description&gt;
 2209       &lt;origin&gt;jvmpi&lt;/origin&gt;
 2210       &lt;capabilities&gt;
 2211       &lt;/capabilities&gt;
 2212       &lt;parameters&gt;
 2213         &lt;param id=&quot;thread&quot;&gt;
 2214           &lt;jthread null=&quot;current&quot; impl=&quot;noconvert&quot;/&gt;
 2215             &lt;description&gt;
 2216               Retrieve from this thread.
 2217             &lt;/description&gt;
 2218         &lt;/param&gt;
 2219         &lt;param id=&quot;data_ptr&quot;&gt;
 2220           &lt;agentbuf&gt;&lt;void/&gt;&lt;/agentbuf&gt;
 2221           &lt;description&gt;
 2222             Pointer through which the value of the thread local
 2223             storage is returned.
 2224             If thread-local storage has not been set with
 2225             &lt;functionlink id=&quot;SetThreadLocalStorage&quot;&gt;&lt;/functionlink&gt; the returned
 2226             pointer is &lt;code&gt;NULL&lt;/code&gt;.
 2227           &lt;/description&gt;
 2228         &lt;/param&gt;
 2229       &lt;/parameters&gt;
 2230       &lt;errors&gt;
 2231       &lt;/errors&gt;
 2232     &lt;/function&gt;
 2233 
 2234   &lt;/category&gt;
 2235 
 2236   &lt;category id=&quot;thread_groups&quot; label=&quot;Thread Group&quot;&gt;
 2237     &lt;intro&gt;
 2238     &lt;/intro&gt;
 2239 
 2240     &lt;function id=&quot;GetTopThreadGroups&quot; num=&quot;13&quot;&gt;
 2241       &lt;synopsis&gt;Get Top Thread Groups&lt;/synopsis&gt;
 2242       &lt;description&gt;
 2243         Return all top-level (parentless) thread groups in the VM.
 2244       &lt;/description&gt;
 2245       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2246       &lt;capabilities&gt;
 2247       &lt;/capabilities&gt;
 2248       &lt;parameters&gt;
 2249         &lt;param id=&quot;group_count_ptr&quot;&gt;
 2250           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2251           &lt;description&gt;
 2252             On return, points to the number of top-level thread groups.
 2253           &lt;/description&gt;
 2254         &lt;/param&gt;
 2255         &lt;param id=&quot;groups_ptr&quot;&gt;
 2256           &lt;allocbuf outcount=&quot;group_count_ptr&quot;&gt;&lt;jthreadGroup/&gt;&lt;/allocbuf&gt;
 2257             &lt;description&gt;
 2258               On return, refers to a pointer to the top-level thread group array.
 2259             &lt;/description&gt;
 2260         &lt;/param&gt;
 2261       &lt;/parameters&gt;
 2262       &lt;errors&gt;
 2263       &lt;/errors&gt;
 2264     &lt;/function&gt;
 2265 
 2266     &lt;function id=&quot;GetThreadGroupInfo&quot; num=&quot;14&quot;&gt;
 2267       &lt;synopsis&gt;Get Thread Group Info&lt;/synopsis&gt;
 2268       &lt;typedef id=&quot;jvmtiThreadGroupInfo&quot; label=&quot;Thread group information structure&quot;&gt;
 2269         &lt;field id=&quot;parent&quot;&gt;
 2270           &lt;jthreadGroup/&gt;
 2271           &lt;description&gt;
 2272             The parent thread group.
 2273           &lt;/description&gt;
 2274         &lt;/field&gt;
 2275         &lt;field id=&quot;name&quot;&gt;
 2276           &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 2277           &lt;description&gt;
 2278             The thread group&#39;s name, encoded as a
 2279             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 2280           &lt;/description&gt;
 2281         &lt;/field&gt;
 2282         &lt;field id=&quot;max_priority&quot;&gt;
 2283           &lt;jint/&gt;
 2284           &lt;description&gt;
 2285             The maximum priority for this thread group.
 2286           &lt;/description&gt;
 2287         &lt;/field&gt;
 2288         &lt;field id=&quot;is_daemon&quot;&gt;
 2289           &lt;jboolean/&gt;
 2290           &lt;description&gt;
 2291             Is this a daemon thread group?
 2292           &lt;/description&gt;
 2293         &lt;/field&gt;
 2294       &lt;/typedef&gt;
 2295       &lt;description&gt;
 2296         Get information about the thread group. The fields of the
 2297         &lt;functionlink id=&quot;jvmtiThreadGroupInfo&quot;&gt;&lt;/functionlink&gt; structure
 2298         are filled in with details of the specified thread group.
 2299       &lt;/description&gt;
 2300       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2301       &lt;capabilities&gt;
 2302       &lt;/capabilities&gt;
 2303       &lt;parameters&gt;
 2304         &lt;param id=&quot;group&quot;&gt;
 2305           &lt;jthreadGroup/&gt;
 2306           &lt;description&gt;
 2307             The thread group to query.
 2308           &lt;/description&gt;
 2309         &lt;/param&gt;
 2310         &lt;param id=&quot;info_ptr&quot;&gt;
 2311           &lt;outptr&gt;&lt;struct&gt;jvmtiThreadGroupInfo&lt;/struct&gt;&lt;/outptr&gt;
 2312           &lt;description&gt;
 2313             On return, filled with information describing the specified
 2314             thread group.
 2315           &lt;/description&gt;
 2316         &lt;/param&gt;
 2317       &lt;/parameters&gt;
 2318       &lt;errors&gt;
 2319       &lt;/errors&gt;
 2320     &lt;/function&gt;
 2321 
 2322     &lt;function id=&quot;GetThreadGroupChildren&quot; num=&quot;15&quot;&gt;
 2323       &lt;synopsis&gt;Get Thread Group Children&lt;/synopsis&gt;
 2324       &lt;description&gt;
 2325         Get the live threads and active subgroups in this thread group.
 2326       &lt;/description&gt;
 2327       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2328       &lt;capabilities&gt;
 2329       &lt;/capabilities&gt;
 2330       &lt;parameters&gt;
 2331         &lt;param id=&quot;group&quot;&gt;
 2332           &lt;jthreadGroup/&gt;
 2333           &lt;description&gt;
 2334             The group to query.
 2335           &lt;/description&gt;
 2336         &lt;/param&gt;
 2337         &lt;param id=&quot;thread_count_ptr&quot;&gt;
 2338           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2339           &lt;description&gt;
 2340             On return, points to the number of live threads in this thread group.
 2341           &lt;/description&gt;
 2342         &lt;/param&gt;
 2343         &lt;param id=&quot;threads_ptr&quot;&gt;
 2344           &lt;allocbuf outcount=&quot;thread_count_ptr&quot;&gt;&lt;jthread/&gt;&lt;/allocbuf&gt;
 2345             &lt;description&gt;
 2346               On return, points to an array of the live threads in this thread group.
 2347             &lt;/description&gt;
 2348         &lt;/param&gt;
 2349         &lt;param id=&quot;group_count_ptr&quot;&gt;
 2350           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2351           &lt;description&gt;
 2352             On return, points to the number of active child thread groups
 2353           &lt;/description&gt;
 2354         &lt;/param&gt;
 2355         &lt;param id=&quot;groups_ptr&quot;&gt;
 2356           &lt;allocbuf outcount=&quot;group_count_ptr&quot;&gt;&lt;jthreadGroup/&gt;&lt;/allocbuf&gt;
 2357             &lt;description&gt;
 2358               On return, points to an array of the active child thread groups.
 2359             &lt;/description&gt;
 2360         &lt;/param&gt;
 2361       &lt;/parameters&gt;
 2362       &lt;errors&gt;
 2363       &lt;/errors&gt;
 2364     &lt;/function&gt;
 2365   &lt;/category&gt;
 2366 
 2367   &lt;category id=&quot;stack&quot; label=&quot;Stack Frame&quot;&gt;
 2368     &lt;intro&gt;
 2369         These functions provide information about the stack of a thread.
 2370         Stack frames are referenced by depth.
 2371         The frame at depth zero is the current frame.
 2372         &lt;p/&gt;
 2373         Stack frames are as described in
 2374         &lt;vmspec chapter=&quot;3.6&quot;/&gt;,
 2375         That is, they correspond to method
 2376         invocations (including native methods) but do not correspond to platform native or
 2377         VM internal frames.
 2378         &lt;p/&gt;
 2379         A &lt;jvmti/&gt; implementation may use method invocations to launch a thread and
 2380         the corresponding frames may be included in the stack as presented by these functions --
 2381         that is, there may be frames shown
 2382         deeper than &lt;code&gt;main()&lt;/code&gt; and &lt;code&gt;run()&lt;/code&gt;.
 2383         However this presentation must be consistent across all &lt;jvmti/&gt; functionality which
 2384         uses stack frames or stack depth.
 2385     &lt;/intro&gt;
 2386 
 2387       &lt;typedef id=&quot;jvmtiFrameInfo&quot; label=&quot;Stack frame information structure&quot;&gt;
 2388         &lt;description&gt;
 2389           Information about a stack frame is returned in this structure.
 2390         &lt;/description&gt;
 2391         &lt;field id=&quot;method&quot;&gt;
 2392           &lt;jmethodID/&gt;
 2393             &lt;description&gt;
 2394               The method executing in this frame.
 2395             &lt;/description&gt;
 2396         &lt;/field&gt;
 2397         &lt;field id=&quot;location&quot;&gt;
 2398           &lt;jlocation/&gt;
 2399           &lt;description&gt;
 2400             The index of the instruction executing in this frame.
 2401             &lt;code&gt;-1&lt;/code&gt; if the frame is executing a native method.
 2402           &lt;/description&gt;
 2403         &lt;/field&gt;
 2404       &lt;/typedef&gt;
 2405 
 2406       &lt;typedef id=&quot;jvmtiStackInfo&quot; label=&quot;Stack information structure&quot;&gt;
 2407         &lt;description&gt;
 2408           Information about a set of stack frames is returned in this structure.
 2409         &lt;/description&gt;
 2410         &lt;field id=&quot;thread&quot;&gt;
 2411           &lt;jthread/&gt;
 2412           &lt;description&gt;
 2413             On return, the thread traced.
 2414           &lt;/description&gt;
 2415         &lt;/field&gt;
 2416         &lt;field id=&quot;state&quot;&gt;
 2417           &lt;jint/&gt;
 2418           &lt;description&gt;
 2419             On return, the thread state. See &lt;functionlink id=&quot;GetThreadState&quot;&gt;&lt;/functionlink&gt;.
 2420           &lt;/description&gt;
 2421         &lt;/field&gt;
 2422         &lt;field id=&quot;frame_buffer&quot;&gt;
 2423           &lt;outbuf incount=&quot;max_frame_count&quot;&gt;
 2424             &lt;struct&gt;jvmtiFrameInfo&lt;/struct&gt;
 2425           &lt;/outbuf&gt;
 2426             &lt;description&gt;
 2427               On return, this agent allocated buffer is filled
 2428               with stack frame information.
 2429             &lt;/description&gt;
 2430         &lt;/field&gt;
 2431         &lt;field id=&quot;frame_count&quot;&gt;
 2432           &lt;jint/&gt;
 2433           &lt;description&gt;
 2434             On return, the number of records filled into
 2435             &lt;code&gt;frame_buffer&lt;/code&gt;.
 2436             This will be
 2437             min(&lt;code&gt;max_frame_count&lt;/code&gt;, &lt;i&gt;stackDepth&lt;/i&gt;).
 2438           &lt;/description&gt;
 2439         &lt;/field&gt;
 2440       &lt;/typedef&gt;
 2441 
 2442     &lt;function id=&quot;GetStackTrace&quot; num=&quot;104&quot;&gt;
 2443       &lt;synopsis&gt;Get Stack Trace&lt;/synopsis&gt;
 2444       &lt;description&gt;
 2445         Get information about the stack of a thread.
 2446         If &lt;paramlink id=&quot;max_frame_count&quot;&gt;&lt;/paramlink&gt; is less than the depth of the stack,
 2447         the &lt;paramlink id=&quot;max_frame_count&quot;&gt;&lt;/paramlink&gt; topmost frames are returned,
 2448         otherwise the entire stack is returned.
 2449         The topmost frames, those most recently invoked, are at the beginning of the returned buffer.
 2450         &lt;p/&gt;
 2451         The following example causes up to five of the topmost frames
 2452         to be returned and (if there are any frames) the currently
 2453         executing method name to be printed.
 2454         &lt;example&gt;
 2455 jvmtiFrameInfo frames[5];
 2456 jint count;
 2457 jvmtiError err;
 2458 
 2459 err = (*jvmti)-&amp;gt;GetStackTrace(jvmti, aThread, 0, 5,
 2460                                frames, &amp;amp;count);
 2461 if (err == JVMTI_ERROR_NONE &amp;amp;&amp;amp; count &amp;gt;= 1) {
 2462    char *methodName;
 2463    err = (*jvmti)-&amp;gt;GetMethodName(jvmti, frames[0].method,
 2464                        &amp;amp;methodName, NULL, NULL);
 2465    if (err == JVMTI_ERROR_NONE) {
 2466       printf(&quot;Executing method: %s&quot;, methodName);
 2467    }
 2468 }
 2469         &lt;/example&gt;
 2470         &lt;todo&gt;
 2471           check example code.
 2472         &lt;/todo&gt;
 2473         &lt;p/&gt;
 2474         The &lt;paramlink id=&quot;thread&quot;&gt;&lt;/paramlink&gt; need not be suspended
 2475         to call this function.
 2476         &lt;p/&gt;
 2477         The &lt;functionlink id=&quot;GetLineNumberTable&quot;&gt;&lt;/functionlink&gt;
 2478         function can be used to map locations to line numbers. Note that
 2479         this mapping can be done lazily.
 2480       &lt;/description&gt;
 2481       &lt;origin&gt;jvmpi&lt;/origin&gt;
 2482       &lt;capabilities&gt;
 2483       &lt;/capabilities&gt;
 2484       &lt;parameters&gt;
 2485         &lt;param id=&quot;thread&quot;&gt;
 2486           &lt;jthread null=&quot;current&quot;/&gt;
 2487             &lt;description&gt;
 2488               Fetch the stack trace of this thread.
 2489             &lt;/description&gt;
 2490         &lt;/param&gt;
 2491         &lt;param id=&quot;start_depth&quot;&gt;
 2492           &lt;jint/&gt;
 2493           &lt;description&gt;
 2494             Begin retrieving frames at this depth.
 2495             If non-negative, count from the current frame,
 2496             the first frame retrieved is at depth &lt;code&gt;start_depth&lt;/code&gt;.
 2497             For example, if zero, start from the current frame; if one, start from the
 2498             caller of the current frame; if two, start from the caller of the
 2499             caller of the current frame; and so on.
 2500             If negative, count from below the oldest frame,
 2501             the first frame retrieved is at depth &lt;i&gt;stackDepth&lt;/i&gt;&lt;code&gt; + start_depth&lt;/code&gt;,
 2502             where &lt;i&gt;stackDepth&lt;/i&gt; is the count of frames on the stack.
 2503             For example, if negative one, only the oldest frame is retrieved;
 2504             if negative two, start from the frame called by the oldest frame.
 2505           &lt;/description&gt;
 2506         &lt;/param&gt;
 2507         &lt;param id=&quot;max_frame_count&quot;&gt;
 2508           &lt;jint min=&quot;0&quot;/&gt;
 2509           &lt;description&gt;
 2510             The maximum number of &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt; records to retrieve.
 2511           &lt;/description&gt;
 2512         &lt;/param&gt;
 2513         &lt;param id=&quot;frame_buffer&quot;&gt;
 2514           &lt;outbuf incount=&quot;max_frame_count&quot; outcount=&quot;count_ptr&quot;&gt;
 2515             &lt;struct&gt;jvmtiFrameInfo&lt;/struct&gt;
 2516           &lt;/outbuf&gt;
 2517             &lt;description&gt;
 2518               On return, this agent allocated buffer is filled
 2519               with stack frame information.
 2520             &lt;/description&gt;
 2521         &lt;/param&gt;
 2522         &lt;param id=&quot;count_ptr&quot;&gt;
 2523           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2524           &lt;description&gt;
 2525             On return, points to the number of records filled in.
 2526             For non-negative &lt;code&gt;start_depth&lt;/code&gt;, this will be
 2527             min(&lt;code&gt;max_frame_count&lt;/code&gt;, &lt;i&gt;stackDepth&lt;/i&gt;&lt;code&gt; - start_depth&lt;/code&gt;).
 2528             For negative &lt;code&gt;start_depth&lt;/code&gt;, this will be
 2529             min(&lt;code&gt;max_frame_count&lt;/code&gt;, &lt;code&gt;-start_depth&lt;/code&gt;).
 2530           &lt;/description&gt;
 2531         &lt;/param&gt;
 2532       &lt;/parameters&gt;
 2533       &lt;errors&gt;
 2534         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 2535           &lt;paramlink id=&quot;start_depth&quot;/&gt; is positive and greater than or equal to &lt;i&gt;stackDepth&lt;/i&gt;.
 2536           Or &lt;paramlink id=&quot;start_depth&quot;/&gt; is negative and less than &lt;i&gt;-stackDepth&lt;/i&gt;.
 2537         &lt;/error&gt;
 2538       &lt;/errors&gt;
 2539     &lt;/function&gt;
 2540 
 2541 
 2542     &lt;function id=&quot;GetAllStackTraces&quot; num=&quot;100&quot;&gt;
 2543       &lt;synopsis&gt;Get All Stack Traces&lt;/synopsis&gt;
 2544       &lt;description&gt;
 2545         Get information about the stacks of all live threads
 2546         (including &lt;internallink id=&quot;RunAgentThread&quot;&gt;agent threads&lt;/internallink&gt;).
 2547         If &lt;paramlink id=&quot;max_frame_count&quot;/&gt; is less than the depth of a stack,
 2548         the &lt;paramlink id=&quot;max_frame_count&quot;/&gt; topmost frames are returned for that thread,
 2549         otherwise the entire stack is returned.
 2550         The topmost frames, those most recently invoked, are at the beginning of the returned buffer.
 2551         &lt;p/&gt;
 2552         All stacks are collected simultaneously, that is, no changes will occur to the
 2553         thread state or stacks between the sampling of one thread and the next.
 2554         The threads need not be suspended.
 2555 
 2556         &lt;example&gt;
 2557 jvmtiStackInfo *stack_info;
 2558 jint thread_count;
 2559 int ti;
 2560 jvmtiError err;
 2561 
 2562 err = (*jvmti)-&amp;gt;GetAllStackTraces(jvmti, MAX_FRAMES, &amp;amp;stack_info, &amp;amp;thread_count);
 2563 if (err != JVMTI_ERROR_NONE) {
 2564    ...
 2565 }
 2566 for (ti = 0; ti &amp;lt; thread_count; ++ti) {
 2567    jvmtiStackInfo *infop = &amp;amp;stack_info[ti];
 2568    jthread thread = infop-&amp;gt;thread;
 2569    jint state = infop-&amp;gt;state;
 2570    jvmtiFrameInfo *frames = infop-&amp;gt;frame_buffer;
 2571    int fi;
 2572 
 2573    myThreadAndStatePrinter(thread, state);
 2574    for (fi = 0; fi &amp;lt; infop-&amp;gt;frame_count; fi++) {
 2575       myFramePrinter(frames[fi].method, frames[fi].location);
 2576    }
 2577 }
 2578 /* this one Deallocate call frees all data allocated by GetAllStackTraces */
 2579 err = (*jvmti)-&amp;gt;Deallocate(jvmti, stack_info);
 2580         &lt;/example&gt;
 2581         &lt;todo&gt;
 2582           check example code.
 2583         &lt;/todo&gt;
 2584 
 2585       &lt;/description&gt;
 2586       &lt;origin&gt;new&lt;/origin&gt;
 2587       &lt;capabilities&gt;
 2588       &lt;/capabilities&gt;
 2589       &lt;parameters&gt;
 2590         &lt;param id=&quot;max_frame_count&quot;&gt;
 2591           &lt;jint min=&quot;0&quot;/&gt;
 2592           &lt;description&gt;
 2593             The maximum number of &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt; records to retrieve per thread.
 2594           &lt;/description&gt;
 2595         &lt;/param&gt;
 2596         &lt;param id=&quot;stack_info_ptr&quot;&gt;
 2597           &lt;allocbuf&gt;
 2598             &lt;struct&gt;jvmtiStackInfo&lt;/struct&gt;
 2599           &lt;/allocbuf&gt;
 2600             &lt;description&gt;
 2601               On return, this buffer is filled
 2602               with stack information for each thread.
 2603               The number of &lt;datalink id=&quot;jvmtiStackInfo&quot;/&gt; records is determined
 2604               by &lt;paramlink id=&quot;thread_count_ptr&quot;/&gt;.
 2605               &lt;p/&gt;
 2606               Note that this buffer is allocated to include the &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt;
 2607               buffers pointed to by &lt;datalink id=&quot;jvmtiStackInfo.frame_buffer&quot;/&gt;.
 2608               These buffers must not be separately deallocated.
 2609             &lt;/description&gt;
 2610         &lt;/param&gt;
 2611         &lt;param id=&quot;thread_count_ptr&quot;&gt;
 2612           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2613           &lt;description&gt;
 2614             The number of threads traced.
 2615           &lt;/description&gt;
 2616         &lt;/param&gt;
 2617       &lt;/parameters&gt;
 2618       &lt;errors&gt;
 2619       &lt;/errors&gt;
 2620     &lt;/function&gt;
 2621 
 2622     &lt;function id=&quot;GetThreadListStackTraces&quot; num=&quot;101&quot;&gt;
 2623       &lt;synopsis&gt;Get Thread List Stack Traces&lt;/synopsis&gt;
 2624       &lt;description&gt;
 2625         Get information about the stacks of the supplied threads.
 2626         If &lt;paramlink id=&quot;max_frame_count&quot;/&gt; is less than the depth of a stack,
 2627         the &lt;paramlink id=&quot;max_frame_count&quot;/&gt; topmost frames are returned for that thread,
 2628         otherwise the entire stack is returned.
 2629         The topmost frames, those most recently invoked, are at the beginning of the returned buffer.
 2630         &lt;p/&gt;
 2631         All stacks are collected simultaneously, that is, no changes will occur to the
 2632         thread state or stacks between the sampling one thread and the next.
 2633         The threads need not be suspended.
 2634         &lt;p/&gt;
 2635         If a thread has not yet started or terminates before the stack information is collected,
 2636         a zero length stack (&lt;datalink id=&quot;jvmtiStackInfo.frame_count&quot;/&gt; will be zero)
 2637         will be returned and the thread &lt;datalink id=&quot;jvmtiStackInfo.state&quot;/&gt; can be checked.
 2638         &lt;p/&gt;
 2639         See the example for the similar function
 2640         &lt;functionlink id=&quot;GetAllStackTraces&quot;/&gt;.
 2641       &lt;/description&gt;
 2642       &lt;origin&gt;new&lt;/origin&gt;
 2643       &lt;capabilities&gt;
 2644       &lt;/capabilities&gt;
 2645       &lt;parameters&gt;
 2646         &lt;param id=&quot;thread_count&quot;&gt;
 2647           &lt;jint min=&quot;0&quot;/&gt;
 2648           &lt;description&gt;
 2649             The number of threads to trace.
 2650           &lt;/description&gt;
 2651         &lt;/param&gt;
 2652         &lt;param id=&quot;thread_list&quot;&gt;
 2653           &lt;inbuf incount=&quot;thread_count&quot;&gt;&lt;jthread/&gt;&lt;/inbuf&gt;
 2654             &lt;description&gt;
 2655               The list of threads to trace.
 2656             &lt;/description&gt;
 2657         &lt;/param&gt;
 2658         &lt;param id=&quot;max_frame_count&quot;&gt;
 2659           &lt;jint min=&quot;0&quot;/&gt;
 2660           &lt;description&gt;
 2661             The maximum number of &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt; records to retrieve per thread.
 2662           &lt;/description&gt;
 2663         &lt;/param&gt;
 2664         &lt;param id=&quot;stack_info_ptr&quot;&gt;
 2665           &lt;allocbuf outcount=&quot;thread_count&quot;&gt;
 2666             &lt;struct&gt;jvmtiStackInfo&lt;/struct&gt;
 2667           &lt;/allocbuf&gt;
 2668             &lt;description&gt;
 2669               On return, this buffer is filled
 2670               with stack information for each thread.
 2671               The number of &lt;datalink id=&quot;jvmtiStackInfo&quot;/&gt; records is determined
 2672               by &lt;paramlink id=&quot;thread_count&quot;/&gt;.
 2673               &lt;p/&gt;
 2674               Note that this buffer is allocated to include the &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt;
 2675               buffers pointed to by &lt;datalink id=&quot;jvmtiStackInfo.frame_buffer&quot;/&gt;.
 2676               These buffers must not be separately deallocated.
 2677             &lt;/description&gt;
 2678         &lt;/param&gt;
 2679       &lt;/parameters&gt;
 2680       &lt;errors&gt;
 2681         &lt;error id=&quot;JVMTI_ERROR_INVALID_THREAD&quot;&gt;
 2682           An element in &lt;paramlink id=&quot;thread_list&quot;/&gt; is not a thread object.
 2683         &lt;/error&gt;
 2684       &lt;/errors&gt;
 2685     &lt;/function&gt;
 2686 
 2687     &lt;elide&gt;
 2688     &lt;function id=&quot;AsyncGetStackTrace&quot; num=&quot;1000&quot;&gt;
 2689       &lt;synopsis&gt;Get Stack Trace--Asynchronous&lt;/synopsis&gt;
 2690       &lt;description&gt;
 2691         Get information about the entire stack of a thread (or a sub-section of it).
 2692         This is the asynchronous version of &lt;functionlink id=&quot;GetStackTrace&quot;&gt;&lt;/functionlink&gt;
 2693         and is reentrant and safe to call
 2694         from asynchronous signal handlers.
 2695         The stack trace is returned only for the calling thread.
 2696         &lt;p/&gt;
 2697         The &lt;functionlink id=&quot;GetLineNumberTable&quot;&gt;&lt;/functionlink&gt;
 2698         function can be used to map locations to line numbers. Note that
 2699         this mapping can be done lazily.
 2700       &lt;/description&gt;
 2701       &lt;origin&gt;jvmpi&lt;/origin&gt;
 2702       &lt;capabilities&gt;
 2703         &lt;required id=&quot;can_get_async_stack_trace&quot;&gt;&lt;/required&gt;
 2704         &lt;capability id=&quot;can_show_JVM_spec_async_frames&quot;&gt;
 2705           If &lt;code&gt;false&lt;/code&gt;,
 2706           &lt;paramlink id=&quot;use_java_stack&quot;&gt;&lt;/paramlink&gt;
 2707           must be &lt;code&gt;false&lt;/code&gt;.
 2708         &lt;/capability&gt;
 2709       &lt;/capabilities&gt;
 2710       &lt;parameters&gt;
 2711         &lt;param id=&quot;use_java_stack&quot;&gt;
 2712           &lt;jboolean/&gt;
 2713           &lt;description&gt;
 2714             Return the stack showing &lt;vmspec/&gt;
 2715             model of the stack;
 2716             otherwise, show the internal representation of the stack with
 2717             inlined and optimized methods missing.  If the virtual machine
 2718             is using the &lt;i&gt;Java Virtual Machine Specification&lt;/i&gt; stack model
 2719             internally, this flag is ignored.
 2720           &lt;/description&gt;
 2721         &lt;/param&gt;
 2722         &lt;param id=&quot;max_count&quot;&gt;
 2723           &lt;jint min=&quot;0&quot;/&gt;
 2724           &lt;description&gt;
 2725             The maximum number of &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt; records to retrieve.
 2726             Retrieve this many unless the stack depth is less than &lt;code&gt;max_count&lt;/code&gt;.
 2727           &lt;/description&gt;
 2728         &lt;/param&gt;
 2729         &lt;param id=&quot;frame_buffer&quot;&gt;
 2730           &lt;outbuf incount=&quot;max_count&quot; outcount=&quot;count_ptr&quot;&gt;
 2731             &lt;struct&gt;jvmtiFrameInfo&lt;/struct&gt;
 2732             &lt;nullok&gt;this information is not returned&lt;/nullok&gt;
 2733           &lt;/outbuf&gt;
 2734             &lt;description&gt;
 2735               The agent passes in a buffer
 2736               large enough to hold &lt;code&gt;max_count&lt;/code&gt; records of
 2737               &lt;datalink id=&quot;jvmtiFrameInfo&quot;&gt;&lt;/datalink&gt;.  This buffer must be
 2738               pre-allocated by the agent.
 2739             &lt;/description&gt;
 2740         &lt;/param&gt;
 2741         &lt;param id=&quot;count_ptr&quot;&gt;
 2742           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2743           &lt;description&gt;
 2744             On return, points to the number of records filled in..
 2745           &lt;/description&gt;
 2746         &lt;/param&gt;
 2747       &lt;/parameters&gt;
 2748       &lt;errors&gt;
 2749         &lt;error id=&quot;JVMTI_ERROR_UNATTACHED_THREAD&quot;&gt;
 2750           The thread being used to call this function is not attached
 2751           to the virtual machine.  Calls must be made from attached threads.
 2752         &lt;/error&gt;
 2753       &lt;/errors&gt;
 2754     &lt;/function&gt;
 2755     &lt;/elide&gt;
 2756 
 2757     &lt;function id=&quot;GetFrameCount&quot; num=&quot;16&quot;&gt;
 2758       &lt;synopsis&gt;Get Frame Count&lt;/synopsis&gt;
 2759       &lt;description&gt;
 2760         Get the number of frames currently in the specified thread&#39;s call stack.
 2761         &lt;p/&gt;
 2762         If this function is called for a thread actively executing bytecodes (for example,
 2763         not the current thread and not suspended), the information returned is transient.
 2764       &lt;/description&gt;
 2765       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2766       &lt;capabilities&gt;
 2767       &lt;/capabilities&gt;
 2768       &lt;parameters&gt;
 2769         &lt;param id=&quot;thread&quot;&gt;
 2770           &lt;jthread null=&quot;current&quot;/&gt;
 2771             &lt;description&gt;
 2772               The thread to query.
 2773             &lt;/description&gt;
 2774         &lt;/param&gt;
 2775         &lt;param id=&quot;count_ptr&quot;&gt;
 2776           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2777           &lt;description&gt;
 2778             On return, points to the number of frames in the call stack.
 2779           &lt;/description&gt;
 2780         &lt;/param&gt;
 2781       &lt;/parameters&gt;
 2782       &lt;errors&gt;
 2783       &lt;/errors&gt;
 2784     &lt;/function&gt;
 2785 
 2786     &lt;function id=&quot;PopFrame&quot; num=&quot;80&quot;&gt;
 2787       &lt;synopsis&gt;Pop Frame&lt;/synopsis&gt;
 2788       &lt;description&gt;
 2789         Pop the current frame of &lt;code&gt;thread&lt;/code&gt;&#39;s stack.
 2790         Popping a frame takes you to the previous frame.
 2791         When the thread is resumed, the execution
 2792         state of the thread is reset to the state
 2793         immediately before the called method was invoked.
 2794         That is (using &lt;vmspec/&gt; terminology):
 2795           &lt;ul&gt;
 2796             &lt;li&gt;the current frame is discarded as the previous frame becomes the current one&lt;/li&gt;
 2797             &lt;li&gt;the operand stack is restored--the argument values are added back
 2798               and if the invoke was not &lt;code&gt;invokestatic&lt;/code&gt;,
 2799               &lt;code&gt;objectref&lt;/code&gt; is added back as well&lt;/li&gt;
 2800             &lt;li&gt;the Java virtual machine PC is restored to the opcode
 2801               of the invoke instruction&lt;/li&gt;
 2802           &lt;/ul&gt;
 2803         Note however, that any changes to the arguments, which
 2804         occurred in the called method, remain;
 2805         when execution continues, the first instruction to
 2806         execute will be the invoke.
 2807         &lt;p/&gt;
 2808         Between calling &lt;code&gt;PopFrame&lt;/code&gt; and resuming the
 2809         thread the state of the stack is undefined.
 2810         To pop frames beyond the first,
 2811         these three steps must be repeated:
 2812         &lt;ul&gt;
 2813           &lt;li&gt;suspend the thread via an event (step, breakpoint, ...)&lt;/li&gt;
 2814           &lt;li&gt;call &lt;code&gt;PopFrame&lt;/code&gt;&lt;/li&gt;
 2815           &lt;li&gt;resume the thread&lt;/li&gt;
 2816         &lt;/ul&gt;
 2817         &lt;p/&gt;
 2818         A lock acquired by calling the called method
 2819         (if it is a &lt;code&gt;synchronized&lt;/code&gt;  method)
 2820         and locks acquired by entering &lt;code&gt;synchronized&lt;/code&gt;
 2821         blocks within the called method are released.
 2822         Note: this does not apply to native locks or
 2823         &lt;code&gt;java.util.concurrent.locks&lt;/code&gt; locks.
 2824         &lt;p/&gt;
 2825         Finally blocks are not executed.
 2826         &lt;p/&gt;
 2827         Changes to global state are not addressed and thus remain changed.
 2828         &lt;p/&gt;
 2829         The specified thread must be suspended or must be the current thread.
 2830         &lt;p/&gt;
 2831         Both the called method and calling method must be non-native Java programming
 2832         language methods.
 2833         &lt;p/&gt;
 2834         No &lt;jvmti/&gt; events are generated by this function.
 2835       &lt;/description&gt;
 2836       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2837       &lt;capabilities&gt;
 2838         &lt;required id=&quot;can_pop_frame&quot;&gt;&lt;/required&gt;
 2839       &lt;/capabilities&gt;
 2840       &lt;parameters&gt;
 2841         &lt;param id=&quot;thread&quot;&gt;
 2842           &lt;jthread/&gt;
 2843             &lt;description&gt;
 2844               The thread whose current frame is to be popped.
 2845             &lt;/description&gt;
 2846         &lt;/param&gt;
 2847       &lt;/parameters&gt;
 2848       &lt;errors&gt;
 2849         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 2850           Called or calling method is a native method.
 2851           The implementation is unable to pop this frame.
 2852         &lt;/error&gt;
 2853         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 2854           Thread was not suspended and was not the current thread.
 2855         &lt;/error&gt;
 2856         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 2857           There are less than two stack frames on the call stack.
 2858         &lt;/error&gt;
 2859       &lt;/errors&gt;
 2860     &lt;/function&gt;
 2861 
 2862     &lt;function id=&quot;GetFrameLocation&quot; num=&quot;19&quot;&gt;
 2863       &lt;synopsis&gt;Get Frame Location&lt;/synopsis&gt;
 2864       &lt;description&gt;
 2865         &lt;p/&gt;
 2866         For a Java programming language frame, return the location of the instruction
 2867         currently executing.
 2868       &lt;/description&gt;
 2869       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 2870       &lt;capabilities&gt;
 2871       &lt;/capabilities&gt;
 2872       &lt;parameters&gt;
 2873         &lt;param id=&quot;thread&quot;&gt;
 2874           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 2875           &lt;description&gt;
 2876             The thread of the frame to query.
 2877           &lt;/description&gt;
 2878         &lt;/param&gt;
 2879         &lt;param id=&quot;depth&quot;&gt;
 2880           &lt;jframeID thread=&quot;thread&quot;/&gt;
 2881           &lt;description&gt;
 2882             The depth of the frame to query.
 2883           &lt;/description&gt;
 2884         &lt;/param&gt;
 2885         &lt;param id=&quot;method_ptr&quot;&gt;
 2886           &lt;outptr&gt;&lt;jmethodID/&gt;&lt;/outptr&gt;
 2887             &lt;description&gt;
 2888               On return, points to the method for the current location.
 2889             &lt;/description&gt;
 2890         &lt;/param&gt;
 2891         &lt;param id=&quot;location_ptr&quot;&gt;
 2892           &lt;outptr&gt;&lt;jlocation/&gt;&lt;/outptr&gt;
 2893           &lt;description&gt;
 2894             On return, points to the index of the currently
 2895             executing instruction.
 2896             Is set to &lt;code&gt;-1&lt;/code&gt; if the frame is executing
 2897             a native method.
 2898           &lt;/description&gt;
 2899         &lt;/param&gt;
 2900       &lt;/parameters&gt;
 2901       &lt;errors&gt;
 2902       &lt;/errors&gt;
 2903     &lt;/function&gt;
 2904 
 2905     &lt;function id=&quot;NotifyFramePop&quot; num=&quot;20&quot;&gt;
 2906       &lt;synopsis&gt;Notify Frame Pop&lt;/synopsis&gt;
 2907       &lt;description&gt;
 2908         When the frame that is currently at &lt;paramlink id=&quot;depth&quot;&gt;&lt;/paramlink&gt;
 2909         is popped from the stack, generate a
 2910         &lt;eventlink id=&quot;FramePop&quot;&gt;&lt;/eventlink&gt; event.  See the
 2911         &lt;eventlink id=&quot;FramePop&quot;&gt;&lt;/eventlink&gt; event for details.
 2912         Only frames corresponding to non-native Java programming language
 2913         methods can receive notification.
 2914         &lt;p/&gt;
 2915         The specified thread must be suspended or must be the current thread.
 2916       &lt;/description&gt;
 2917       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2918       &lt;capabilities&gt;
 2919         &lt;required id=&quot;can_generate_frame_pop_events&quot;&gt;&lt;/required&gt;
 2920       &lt;/capabilities&gt;
 2921       &lt;parameters&gt;
 2922         &lt;param id=&quot;thread&quot;&gt;
 2923           &lt;jthread null=&quot;current&quot; frame=&quot;depth&quot;/&gt;
 2924           &lt;description&gt;
 2925             The thread of the frame for which the frame pop event will be generated.
 2926           &lt;/description&gt;
 2927         &lt;/param&gt;
 2928         &lt;param id=&quot;depth&quot;&gt;
 2929           &lt;jframeID thread=&quot;thread&quot;/&gt;
 2930           &lt;description&gt;
 2931             The depth of the frame for which the frame pop event will be generated.
 2932           &lt;/description&gt;
 2933         &lt;/param&gt;
 2934       &lt;/parameters&gt;
 2935       &lt;errors&gt;
 2936         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 2937           The frame at &lt;code&gt;depth&lt;/code&gt; is executing a
 2938           native method.
 2939         &lt;/error&gt;
 2940         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 2941           Thread was not suspended and was not the current thread.
 2942         &lt;/error&gt;
 2943       &lt;/errors&gt;
 2944     &lt;/function&gt;
 2945 
 2946   &lt;/category&gt;
 2947 
 2948   &lt;category id=&quot;ForceEarlyReturn&quot; label=&quot;Force Early Return&quot;&gt;
 2949     &lt;intro&gt;
 2950       These functions allow an agent to force a method
 2951       to return at any point during its execution.
 2952       The method which will return early is referred to as the &lt;i&gt;called method&lt;/i&gt;.
 2953       The called method is the current method
 2954       (as defined by
 2955       &lt;vmspec chapter=&quot;3.6&quot;/&gt;)
 2956       for the specified thread at
 2957       the time the function is called.
 2958       &lt;p/&gt;
 2959       The specified thread must be suspended or must be the current thread.
 2960       The return occurs when execution of Java programming
 2961       language code is resumed on this thread.
 2962       Between calling one of these functions and resumption
 2963       of thread execution, the state of the stack is undefined.
 2964       &lt;p/&gt;
 2965       No further instructions are executed in the called method.
 2966       Specifically, finally blocks are not executed.
 2967       Note: this can cause inconsistent states in the application.
 2968       &lt;p/&gt;
 2969       A lock acquired by calling the called method
 2970       (if it is a &lt;code&gt;synchronized&lt;/code&gt;  method)
 2971       and locks acquired by entering &lt;code&gt;synchronized&lt;/code&gt;
 2972       blocks within the called method are released.
 2973       Note: this does not apply to native locks or
 2974       &lt;code&gt;java.util.concurrent.locks&lt;/code&gt; locks.
 2975       &lt;p/&gt;
 2976       Events, such as &lt;eventlink id=&quot;MethodExit&quot;&gt;&lt;/eventlink&gt;,
 2977       are generated as they would be in a normal return.
 2978       &lt;p/&gt;
 2979       The called method must be a non-native Java programming
 2980       language method.
 2981       Forcing return on a thread with only one frame on the
 2982       stack causes the thread to exit when resumed.
 2983     &lt;/intro&gt;
 2984 
 2985     &lt;function id=&quot;ForceEarlyReturnObject&quot; num=&quot;81&quot; since=&quot;1.1&quot;&gt;
 2986       &lt;synopsis&gt;Force Early Return - Object&lt;/synopsis&gt;
 2987       &lt;description&gt;
 2988         This function can be used to return from a method whose
 2989         result type is &lt;code&gt;Object&lt;/code&gt;
 2990         or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 2991       &lt;/description&gt;
 2992       &lt;origin&gt;new&lt;/origin&gt;
 2993       &lt;capabilities&gt;
 2994         &lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 2995       &lt;/capabilities&gt;
 2996       &lt;parameters&gt;
 2997         &lt;param id=&quot;thread&quot;&gt;
 2998           &lt;jthread null=&quot;current&quot;/&gt;
 2999           &lt;description&gt;
 3000             The thread whose current frame is to return early.
 3001           &lt;/description&gt;
 3002         &lt;/param&gt;
 3003         &lt;param id=&quot;value&quot;&gt;
 3004           &lt;jobject/&gt;
 3005           &lt;description&gt;
 3006             The return value for the called frame.
 3007             An object or &lt;code&gt;NULL&lt;/code&gt;.
 3008           &lt;/description&gt;
 3009         &lt;/param&gt;
 3010       &lt;/parameters&gt;
 3011       &lt;errors&gt;
 3012         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3013           Attempted to return early from a frame
 3014           corresponding to a native method.
 3015           Or the implementation is unable to provide
 3016           this functionality on this frame.
 3017         &lt;/error&gt;
 3018         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3019           The result type of the called method is not
 3020           &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 3021         &lt;/error&gt;
 3022         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3023           The supplied &lt;paramlink id=&quot;value&quot;/&gt; is not compatible with the
 3024           result type of the called method.
 3025         &lt;/error&gt;
 3026         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3027           Thread was not suspended and was not the current thread.
 3028         &lt;/error&gt;
 3029         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3030           There are no more frames on the call stack.
 3031         &lt;/error&gt;
 3032       &lt;/errors&gt;
 3033     &lt;/function&gt;
 3034 
 3035     &lt;function id=&quot;ForceEarlyReturnInt&quot; num=&quot;82&quot; since=&quot;1.1&quot;&gt;
 3036       &lt;synopsis&gt;Force Early Return - Int&lt;/synopsis&gt;
 3037       &lt;description&gt;
 3038         This function can be used to return from a method whose
 3039         result type is &lt;code&gt;int&lt;/code&gt;, &lt;code&gt;short&lt;/code&gt;,
 3040         &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 3041         &lt;code&gt;boolean&lt;/code&gt;.
 3042       &lt;/description&gt;
 3043       &lt;origin&gt;new&lt;/origin&gt;
 3044       &lt;capabilities&gt;
 3045         &lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3046       &lt;/capabilities&gt;
 3047       &lt;parameters&gt;
 3048         &lt;param id=&quot;thread&quot;&gt;
 3049           &lt;jthread null=&quot;current&quot;/&gt;
 3050           &lt;description&gt;
 3051             The thread whose current frame is to return early.
 3052           &lt;/description&gt;
 3053         &lt;/param&gt;
 3054         &lt;param id=&quot;value&quot;&gt;
 3055           &lt;jint/&gt;
 3056           &lt;description&gt;
 3057             The return value for the called frame.
 3058           &lt;/description&gt;
 3059         &lt;/param&gt;
 3060       &lt;/parameters&gt;
 3061       &lt;errors&gt;
 3062         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3063           Attempted to return early from a frame
 3064           corresponding to a native method.
 3065           Or the implementation is unable to provide
 3066           this functionality on this frame.
 3067         &lt;/error&gt;
 3068         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3069           The result type of the called method is not
 3070           &lt;code&gt;int&lt;/code&gt;, &lt;code&gt;short&lt;/code&gt;,
 3071           &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 3072           &lt;code&gt;boolean&lt;/code&gt;.
 3073         &lt;/error&gt;
 3074         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3075           Thread was not suspended and was not the current thread.
 3076         &lt;/error&gt;
 3077         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3078           There are no frames on the call stack.
 3079         &lt;/error&gt;
 3080       &lt;/errors&gt;
 3081     &lt;/function&gt;
 3082 
 3083     &lt;function id=&quot;ForceEarlyReturnLong&quot; num=&quot;83&quot; since=&quot;1.1&quot;&gt;
 3084       &lt;synopsis&gt;Force Early Return - Long&lt;/synopsis&gt;
 3085       &lt;description&gt;
 3086         This function can be used to return from a method whose
 3087         result type is &lt;code&gt;long&lt;/code&gt;.
 3088       &lt;/description&gt;
 3089       &lt;origin&gt;new&lt;/origin&gt;
 3090       &lt;capabilities&gt;
 3091         &lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3092       &lt;/capabilities&gt;
 3093       &lt;parameters&gt;
 3094         &lt;param id=&quot;thread&quot;&gt;
 3095           &lt;jthread null=&quot;current&quot;/&gt;
 3096           &lt;description&gt;
 3097             The thread whose current frame is to return early.
 3098           &lt;/description&gt;
 3099         &lt;/param&gt;
 3100         &lt;param id=&quot;value&quot;&gt;
 3101           &lt;jlong/&gt;
 3102           &lt;description&gt;
 3103             The return value for the called frame.
 3104           &lt;/description&gt;
 3105         &lt;/param&gt;
 3106       &lt;/parameters&gt;
 3107       &lt;errors&gt;
 3108         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3109           Attempted to return early from a frame
 3110           corresponding to a native method.
 3111           Or the implementation is unable to provide
 3112           this functionality on this frame.
 3113         &lt;/error&gt;
 3114         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3115           The result type of the called method is not &lt;code&gt;long&lt;/code&gt;.
 3116         &lt;/error&gt;
 3117         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3118           Thread was not suspended and was not the current thread.
 3119         &lt;/error&gt;
 3120         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3121           There are no frames on the call stack.
 3122         &lt;/error&gt;
 3123       &lt;/errors&gt;
 3124     &lt;/function&gt;
 3125 
 3126     &lt;function id=&quot;ForceEarlyReturnFloat&quot; num=&quot;84&quot; since=&quot;1.1&quot;&gt;
 3127       &lt;synopsis&gt;Force Early Return - Float&lt;/synopsis&gt;
 3128       &lt;description&gt;
 3129         This function can be used to return from a method whose
 3130         result type is &lt;code&gt;float&lt;/code&gt;.
 3131       &lt;/description&gt;
 3132       &lt;origin&gt;new&lt;/origin&gt;
 3133       &lt;capabilities&gt;
 3134         &lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3135       &lt;/capabilities&gt;
 3136       &lt;parameters&gt;
 3137         &lt;param id=&quot;thread&quot;&gt;
 3138           &lt;jthread null=&quot;current&quot;/&gt;
 3139           &lt;description&gt;
 3140             The thread whose current frame is to return early.
 3141           &lt;/description&gt;
 3142         &lt;/param&gt;
 3143         &lt;param id=&quot;value&quot;&gt;
 3144           &lt;jfloat/&gt;
 3145           &lt;description&gt;
 3146             The return value for the called frame.
 3147           &lt;/description&gt;
 3148         &lt;/param&gt;
 3149       &lt;/parameters&gt;
 3150       &lt;errors&gt;
 3151         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3152           Attempted to return early from a frame
 3153           corresponding to a native method.
 3154           Or the implementation is unable to provide
 3155           this functionality on this frame.
 3156         &lt;/error&gt;
 3157         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3158           The result type of the called method is not &lt;code&gt;float&lt;/code&gt;.
 3159         &lt;/error&gt;
 3160         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3161           Thread was not suspended and was not the current thread.
 3162         &lt;/error&gt;
 3163         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3164           There are no frames on the call stack.
 3165         &lt;/error&gt;
 3166       &lt;/errors&gt;
 3167     &lt;/function&gt;
 3168 
 3169     &lt;function id=&quot;ForceEarlyReturnDouble&quot; num=&quot;85&quot; since=&quot;1.1&quot;&gt;
 3170       &lt;synopsis&gt;Force Early Return - Double&lt;/synopsis&gt;
 3171       &lt;description&gt;
 3172         This function can be used to return from a method whose
 3173         result type is &lt;code&gt;double&lt;/code&gt;.
 3174       &lt;/description&gt;
 3175       &lt;origin&gt;new&lt;/origin&gt;
 3176       &lt;capabilities&gt;
 3177         &lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3178       &lt;/capabilities&gt;
 3179       &lt;parameters&gt;
 3180         &lt;param id=&quot;thread&quot;&gt;
 3181           &lt;jthread null=&quot;current&quot;/&gt;
 3182           &lt;description&gt;
 3183             The thread whose current frame is to return early.
 3184           &lt;/description&gt;
 3185         &lt;/param&gt;
 3186         &lt;param id=&quot;value&quot;&gt;
 3187           &lt;jdouble/&gt;
 3188           &lt;description&gt;
 3189             The return value for the called frame.
 3190           &lt;/description&gt;
 3191         &lt;/param&gt;
 3192       &lt;/parameters&gt;
 3193       &lt;errors&gt;
 3194         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3195           Attempted to return early from a frame corresponding to a native method.
 3196           Or the implementation is unable to provide this functionality on this frame.
 3197         &lt;/error&gt;
 3198         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3199           The result type of the called method is not &lt;code&gt;double&lt;/code&gt;.
 3200         &lt;/error&gt;
 3201         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3202           Thread was not suspended and was not the current thread.
 3203         &lt;/error&gt;
 3204         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3205           There are no frames on the call stack.
 3206         &lt;/error&gt;
 3207       &lt;/errors&gt;
 3208     &lt;/function&gt;
 3209 
 3210     &lt;function id=&quot;ForceEarlyReturnVoid&quot; num=&quot;86&quot; since=&quot;1.1&quot;&gt;
 3211       &lt;synopsis&gt;Force Early Return - Void&lt;/synopsis&gt;
 3212       &lt;description&gt;
 3213         This function can be used to return from a method with no result type.
 3214         That is, the called method must be declared &lt;code&gt;void&lt;/code&gt;.
 3215       &lt;/description&gt;
 3216       &lt;origin&gt;new&lt;/origin&gt;
 3217       &lt;capabilities&gt;
 3218         &lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3219       &lt;/capabilities&gt;
 3220       &lt;parameters&gt;
 3221         &lt;param id=&quot;thread&quot;&gt;
 3222           &lt;jthread null=&quot;current&quot;/&gt;
 3223           &lt;description&gt;
 3224             The thread whose current frame is to return early.
 3225           &lt;/description&gt;
 3226         &lt;/param&gt;
 3227       &lt;/parameters&gt;
 3228       &lt;errors&gt;
 3229         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3230           Attempted to return early from a frame
 3231           corresponding to a native method.
 3232           Or the implementation is unable to provide
 3233           this functionality on this frame.
 3234         &lt;/error&gt;
 3235         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3236           The called method has a result type.
 3237         &lt;/error&gt;
 3238         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3239           Thread was not suspended and was not the current thread.
 3240         &lt;/error&gt;
 3241         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3242           There are no frames on the call stack.
 3243         &lt;/error&gt;
 3244       &lt;/errors&gt;
 3245     &lt;/function&gt;
 3246 
 3247   &lt;/category&gt;
 3248 
 3249   &lt;category id=&quot;Heap&quot; label=&quot;Heap&quot;&gt;
 3250     &lt;intro&gt;
 3251       These functions are used to analyze the heap.
 3252       Functionality includes the ability to view the objects in the
 3253       heap and to tag these objects.
 3254     &lt;/intro&gt;
 3255 
 3256     &lt;intro id=&quot;objectTags&quot; label=&quot;Object Tags&quot;&gt;
 3257       A &lt;i&gt;tag&lt;/i&gt; is a value associated with an object.
 3258       Tags are explicitly set by the agent using the
 3259       &lt;functionlink id=&quot;SetTag&quot;&gt;&lt;/functionlink&gt; function or by
 3260       callback functions such as &lt;functionlink id=&quot;jvmtiHeapIterationCallback&quot;/&gt;.
 3261       &lt;p/&gt;
 3262       Tags are local to the environment; that is, the tags of one
 3263       environment are not visible in another.
 3264       &lt;p/&gt;
 3265       Tags are &lt;code&gt;jlong&lt;/code&gt; values which can be used
 3266       simply to mark an object or to store a pointer to more detailed
 3267       information.  Objects which have not been tagged have a
 3268       tag of zero.
 3269       Setting a tag to zero makes the object untagged.
 3270     &lt;/intro&gt;
 3271 
 3272     &lt;intro id=&quot;heapCallbacks&quot; label=&quot;Heap Callback Functions&quot;&gt;
 3273         Heap functions which iterate through the heap and recursively
 3274         follow object references use agent supplied callback functions
 3275         to deliver the information.
 3276         &lt;p/&gt;
 3277         These heap callback functions must adhere to the following restrictions --
 3278         These callbacks must not use JNI functions.
 3279         These callbacks must not use &lt;jvmti/&gt; functions except
 3280         &lt;i&gt;callback safe&lt;/i&gt; functions which
 3281         specifically allow such use (see the raw monitor, memory management,
 3282         and environment local storage functions).
 3283         &lt;p/&gt;
 3284         An implementation may invoke a callback on an internal thread or
 3285         the thread which called the iteration function.
 3286         Heap callbacks are single threaded -- no more than one callback will
 3287         be invoked at a time.
 3288         &lt;p/&gt;
 3289         The Heap Filter Flags can be used to prevent reporting
 3290         based on the tag status of an object or its class.
 3291         If no flags are set (the &lt;code&gt;jint&lt;/code&gt; is zero), objects
 3292         will not be filtered out.
 3293 
 3294         &lt;constants id=&quot;jvmtiHeapFilter&quot; label=&quot;Heap Filter Flags&quot; kind=&quot;bits&quot;&gt;
 3295           &lt;constant id=&quot;JVMTI_HEAP_FILTER_TAGGED&quot; num=&quot;0x4&quot;&gt;
 3296             Filter out tagged objects. Objects which are tagged are not included.
 3297           &lt;/constant&gt;
 3298           &lt;constant id=&quot;JVMTI_HEAP_FILTER_UNTAGGED&quot; num=&quot;0x8&quot;&gt;
 3299             Filter out untagged objects. Objects which are not tagged are not included.
 3300           &lt;/constant&gt;
 3301           &lt;constant id=&quot;JVMTI_HEAP_FILTER_CLASS_TAGGED&quot; num=&quot;0x10&quot;&gt;
 3302             Filter out objects with tagged classes. Objects whose class is tagged are not included.
 3303           &lt;/constant&gt;
 3304           &lt;constant id=&quot;JVMTI_HEAP_FILTER_CLASS_UNTAGGED&quot; num=&quot;0x20&quot;&gt;
 3305             Filter out objects with untagged classes. Objects whose class is not tagged are not included.
 3306           &lt;/constant&gt;
 3307         &lt;/constants&gt;
 3308 
 3309         &lt;p/&gt;
 3310         The Heap Visit Control Flags are returned by the heap callbacks
 3311         and can be used to abort the iteration.  For the
 3312         &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;&gt;Heap
 3313         Reference Callback&lt;/functionlink&gt;, it can also be used
 3314         to prune the graph of traversed references
 3315         (&lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; is not set).
 3316 
 3317         &lt;constants id=&quot;jvmtiHeapVisitControl&quot;
 3318                    label=&quot;Heap Visit Control Flags&quot;
 3319                    kind=&quot;bits&quot;
 3320                    since=&quot;1.1&quot;&gt;
 3321           &lt;constant id=&quot;JVMTI_VISIT_OBJECTS&quot; num=&quot;0x100&quot;&gt;
 3322             If we are visiting an object and if this callback
 3323             was initiated by &lt;functionlink id=&quot;FollowReferences&quot;/&gt;,
 3324             traverse the references of this object.
 3325             Otherwise ignored.
 3326           &lt;/constant&gt;
 3327           &lt;constant id=&quot;JVMTI_VISIT_ABORT&quot; num=&quot;0x8000&quot;&gt;
 3328             Abort the iteration.  Ignore all other bits.
 3329           &lt;/constant&gt;
 3330         &lt;/constants&gt;
 3331 
 3332         &lt;p/&gt;
 3333         The Heap Reference Enumeration is provided by the
 3334         &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;&gt;Heap
 3335         Reference Callback&lt;/functionlink&gt; and
 3336         &lt;functionlink id=&quot;jvmtiPrimitiveFieldCallback&quot;&gt;Primitive Field
 3337         Callback&lt;/functionlink&gt; to
 3338         describe the kind of reference
 3339         being reported.
 3340 
 3341         &lt;constants id=&quot;jvmtiHeapReferenceKind&quot;
 3342                    label=&quot;Heap Reference Enumeration&quot;
 3343                    kind=&quot;enum&quot;
 3344                    since=&quot;1.1&quot;&gt;
 3345           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_CLASS&quot; num=&quot;1&quot;&gt;
 3346             Reference from an object to its class.
 3347           &lt;/constant&gt;
 3348           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot; num=&quot;2&quot;&gt;
 3349             Reference from an object to the value of one of its instance fields.
 3350           &lt;/constant&gt;
 3351           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_ARRAY_ELEMENT&quot; num=&quot;3&quot;&gt;
 3352             Reference from an array to one of its elements.
 3353           &lt;/constant&gt;
 3354           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_CLASS_LOADER&quot; num=&quot;4&quot;&gt;
 3355             Reference from a class to its class loader.
 3356           &lt;/constant&gt;
 3357           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_SIGNERS&quot; num=&quot;5&quot;&gt;
 3358             Reference from a class to its signers array.
 3359           &lt;/constant&gt;
 3360           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_PROTECTION_DOMAIN&quot; num=&quot;6&quot;&gt;
 3361             Reference from a class to its protection domain.
 3362           &lt;/constant&gt;
 3363           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_INTERFACE&quot; num=&quot;7&quot;&gt;
 3364             Reference from a class to one of its interfaces.
 3365             Note: interfaces are defined via a constant pool reference,
 3366             so the referenced interfaces may also be reported with a
 3367             &lt;code&gt;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&lt;/code&gt; reference kind.
 3368           &lt;/constant&gt;
 3369           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot; num=&quot;8&quot;&gt;
 3370             Reference from a class to the value of one of its static fields.
 3371           &lt;/constant&gt;
 3372           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&quot; num=&quot;9&quot;&gt;
 3373             Reference from a class to a resolved entry in the constant pool.
 3374           &lt;/constant&gt;
 3375           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_SUPERCLASS&quot; num=&quot;10&quot;&gt;
 3376             Reference from a class to its superclass.
 3377             A callback is not sent if the superclass is &lt;code&gt;java.lang.Object&lt;/code&gt;.
 3378             Note: loaded classes define superclasses via a constant pool
 3379             reference, so the referenced superclass may also be reported with
 3380             a &lt;code&gt;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&lt;/code&gt; reference kind.
 3381           &lt;/constant&gt;
 3382           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_JNI_GLOBAL&quot; num=&quot;21&quot;&gt;
 3383             Heap root reference: JNI global reference.
 3384           &lt;/constant&gt;
 3385           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_SYSTEM_CLASS&quot; num=&quot;22&quot;&gt;
 3386             Heap root reference: System class.
 3387           &lt;/constant&gt;
 3388           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_MONITOR&quot; num=&quot;23&quot;&gt;
 3389             Heap root reference: monitor.
 3390           &lt;/constant&gt;
 3391           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_STACK_LOCAL&quot; num=&quot;24&quot;&gt;
 3392             Heap root reference: local variable on the stack.
 3393           &lt;/constant&gt;
 3394           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_JNI_LOCAL&quot; num=&quot;25&quot;&gt;
 3395             Heap root reference: JNI local reference.
 3396           &lt;/constant&gt;
 3397           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_THREAD&quot; num=&quot;26&quot;&gt;
 3398             Heap root reference: Thread.
 3399           &lt;/constant&gt;
 3400           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_OTHER&quot; num=&quot;27&quot;&gt;
 3401             Heap root reference: other heap root reference.
 3402           &lt;/constant&gt;
 3403         &lt;/constants&gt;
 3404 
 3405         &lt;p/&gt;
 3406         Definitions for the single character type descriptors of
 3407         primitive types.
 3408 
 3409         &lt;constants id=&quot;jvmtiPrimitiveType&quot;
 3410                    label=&quot;Primitive Type Enumeration&quot;
 3411                    kind=&quot;enum&quot;
 3412                    since=&quot;1.1&quot;&gt;
 3413           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_BOOLEAN&quot; num=&quot;90&quot;&gt;
 3414             &#39;Z&#39; - Java programming language &lt;code&gt;boolean&lt;/code&gt; - JNI &lt;code&gt;jboolean&lt;/code&gt;
 3415           &lt;/constant&gt;
 3416           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_BYTE&quot; num=&quot;66&quot;&gt;
 3417             &#39;B&#39; - Java programming language &lt;code&gt;byte&lt;/code&gt; - JNI &lt;code&gt;jbyte&lt;/code&gt;
 3418           &lt;/constant&gt;
 3419           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_CHAR&quot; num=&quot;67&quot;&gt;
 3420             &#39;C&#39; - Java programming language &lt;code&gt;char&lt;/code&gt; - JNI &lt;code&gt;jchar&lt;/code&gt;
 3421           &lt;/constant&gt;
 3422           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_SHORT&quot; num=&quot;83&quot;&gt;
 3423             &#39;S&#39; - Java programming language &lt;code&gt;short&lt;/code&gt; - JNI &lt;code&gt;jshort&lt;/code&gt;
 3424           &lt;/constant&gt;
 3425           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_INT&quot; num=&quot;73&quot;&gt;
 3426             &#39;I&#39; - Java programming language &lt;code&gt;int&lt;/code&gt; - JNI &lt;code&gt;jint&lt;/code&gt;
 3427           &lt;/constant&gt;
 3428           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_LONG&quot; num=&quot;74&quot;&gt;
 3429             &#39;J&#39; - Java programming language &lt;code&gt;long&lt;/code&gt; - JNI &lt;code&gt;jlong&lt;/code&gt;
 3430           &lt;/constant&gt;
 3431           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_FLOAT&quot; num=&quot;70&quot;&gt;
 3432             &#39;F&#39; - Java programming language &lt;code&gt;float&lt;/code&gt; - JNI &lt;code&gt;jfloat&lt;/code&gt;
 3433           &lt;/constant&gt;
 3434           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_DOUBLE&quot; num=&quot;68&quot;&gt;
 3435             &#39;D&#39; - Java programming language &lt;code&gt;double&lt;/code&gt; - JNI &lt;code&gt;jdouble&lt;/code&gt;
 3436           &lt;/constant&gt;
 3437         &lt;/constants&gt;
 3438     &lt;/intro&gt;
 3439 
 3440       &lt;typedef id=&quot;jvmtiHeapReferenceInfoField&quot;
 3441                label=&quot;Reference information structure for Field references&quot;
 3442                since=&quot;1.1&quot;&gt;
 3443         &lt;description&gt;
 3444           Reference information returned for
 3445           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt; and
 3446           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt; references.
 3447         &lt;/description&gt;
 3448         &lt;field id=&quot;index&quot;&gt;
 3449           &lt;jint/&gt;
 3450           &lt;description&gt;
 3451             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt;, the
 3452             referrer object is not a class or an interface.
 3453             In this case, &lt;code&gt;index&lt;/code&gt; is the index of the field
 3454             in the class of the referrer object.
 3455             This class is referred to below as &lt;i&gt;C&lt;/i&gt;.
 3456             &lt;p/&gt;
 3457             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt;,
 3458             the referrer object is a class (referred to below as &lt;i&gt;C&lt;/i&gt;)
 3459             or an interface (referred to below as &lt;i&gt;I&lt;/i&gt;).
 3460             In this case, &lt;code&gt;index&lt;/code&gt; is the index of the field in
 3461             that class or interface.
 3462             &lt;p/&gt;
 3463             If the referrer object is not an interface, then the field
 3464             indices are determined as follows:
 3465             &lt;ul&gt;
 3466               &lt;li&gt;make a list of all the fields in &lt;i&gt;C&lt;/i&gt; and its
 3467                   superclasses, starting with all the fields in
 3468                   &lt;code&gt;java.lang.Object&lt;/code&gt; and ending with all the
 3469                   fields in &lt;i&gt;C&lt;/i&gt;.&lt;/li&gt;
 3470               &lt;li&gt;Within this list, put
 3471                   the fields for a given class in the order returned by
 3472                   &lt;functionlink id=&quot;GetClassFields&quot;/&gt;.&lt;/li&gt;
 3473               &lt;li&gt;Assign the fields in this list indices
 3474                   &lt;i&gt;n&lt;/i&gt;, &lt;i&gt;n&lt;/i&gt;+1, ..., in order, where &lt;i&gt;n&lt;/i&gt;
 3475                   is the count of the fields in all the interfaces
 3476                   implemented by &lt;i&gt;C&lt;/i&gt;.
 3477                   Note that &lt;i&gt;C&lt;/i&gt; implements all interfaces
 3478                   directly implemented by its superclasses; as well
 3479                   as all superinterfaces of these interfaces.&lt;/li&gt;
 3480             &lt;/ul&gt;
 3481             If the referrer object is an interface, then the field
 3482             indices are determined as follows:
 3483             &lt;ul&gt;
 3484               &lt;li&gt;make a list of the fields directly declared in
 3485                   &lt;i&gt;I&lt;/i&gt;.&lt;/li&gt;
 3486               &lt;li&gt;Within this list, put
 3487                   the fields in the order returned by
 3488                   &lt;functionlink id=&quot;GetClassFields&quot;/&gt;.&lt;/li&gt;
 3489               &lt;li&gt;Assign the fields in this list indices
 3490                   &lt;i&gt;n&lt;/i&gt;, &lt;i&gt;n&lt;/i&gt;+1, ..., in order, where &lt;i&gt;n&lt;/i&gt;
 3491                   is the count of the fields in all the superinterfaces
 3492                   of &lt;i&gt;I&lt;/i&gt;.&lt;/li&gt;
 3493             &lt;/ul&gt;
 3494             All fields are included in this computation, regardless of
 3495             field modifier (static, public, private, etc).
 3496             &lt;p/&gt;
 3497             For example, given the following classes and interfaces:
 3498             &lt;example&gt;
 3499 interface I0 {
 3500     int p = 0;
 3501 }
 3502 
 3503 interface I1 extends I0 {
 3504     int x = 1;
 3505 }
 3506 
 3507 interface I2 extends I0 {
 3508     int y = 2;
 3509 }
 3510 
 3511 class C1 implements I1 {
 3512     public static int a = 3;
 3513     private int b = 4;
 3514 }
 3515 
 3516 class C2 extends C1 implements I2 {
 3517     static int q = 5;
 3518     final int r = 6;
 3519 }
 3520             &lt;/example&gt;
 3521             Assume that &lt;functionlink id=&quot;GetClassFields&quot;/&gt; called on
 3522             &lt;code&gt;C1&lt;/code&gt; returns the fields of &lt;code&gt;C1&lt;/code&gt; in the
 3523             order: a, b; and that the fields of &lt;code&gt;C2&lt;/code&gt; are
 3524             returned in the order: q, r.
 3525             An instance of class &lt;code&gt;C1&lt;/code&gt; will have the
 3526             following field indices:
 3527             &lt;blockquote&gt;&lt;table&gt;
 3528               &lt;tr class=&quot;bgLight&quot;&gt;
 3529                 &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Field&lt;/th&gt;
 3530                 &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Index&lt;/th&gt;
 3531                 &lt;th scope=&quot;col&quot;&gt;Description&lt;/th&gt;
 3532               &lt;/tr&gt;
 3533               &lt;tr&gt;
 3534                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3535                   a
 3536                 &lt;/th&gt;
 3537                 &lt;td class=&quot;centered&quot;&gt;
 3538                   2
 3539                 &lt;/td&gt;
 3540                 &lt;td&gt;
 3541                   The count of the fields in the interfaces
 3542                   implemented by &lt;code&gt;C1&lt;/code&gt; is two (&lt;i&gt;n&lt;/i&gt;=2):
 3543                   &lt;code&gt;p&lt;/code&gt; of &lt;code&gt;I0&lt;/code&gt;
 3544                   and &lt;code&gt;x&lt;/code&gt; of &lt;code&gt;I1&lt;/code&gt;.
 3545                 &lt;/td&gt;
 3546               &lt;/tr&gt;
 3547               &lt;tr&gt;
 3548                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3549                   b
 3550                 &lt;/th&gt;
 3551                 &lt;td class=&quot;centered&quot;&gt;
 3552                   3
 3553                 &lt;/td&gt;
 3554                 &lt;td&gt;
 3555                   the subsequent index.
 3556                 &lt;/td&gt;
 3557               &lt;/tr&gt;
 3558             &lt;/table&gt;&lt;/blockquote&gt;
 3559             The class &lt;code&gt;C1&lt;/code&gt; will have the same field indices.
 3560             &lt;p/&gt;
 3561             An instance of class &lt;code&gt;C2&lt;/code&gt; will have the
 3562             following field indices:
 3563             &lt;blockquote&gt;&lt;table&gt;
 3564               &lt;tr class=&quot;bgLight&quot;&gt;
 3565                 &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Field&lt;/th&gt;
 3566                 &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Index&lt;/th&gt;
 3567                 &lt;th scope=&quot;col&quot;&gt;Description&lt;/th&gt;
 3568               &lt;/tr&gt;
 3569               &lt;tr&gt;
 3570                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3571                   a
 3572                 &lt;/th&gt;
 3573                 &lt;td class=&quot;centered&quot;&gt;
 3574                   3
 3575                 &lt;/td&gt;
 3576                 &lt;td&gt;
 3577                   The count of the fields in the interfaces
 3578                   implemented by &lt;code&gt;C2&lt;/code&gt; is three (&lt;i&gt;n&lt;/i&gt;=3):
 3579                   &lt;code&gt;p&lt;/code&gt; of &lt;code&gt;I0&lt;/code&gt;,
 3580                   &lt;code&gt;x&lt;/code&gt; of &lt;code&gt;I1&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; of &lt;code&gt;I2&lt;/code&gt;
 3581                   (an interface of &lt;code&gt;C2&lt;/code&gt;).  Note that the field &lt;code&gt;p&lt;/code&gt;
 3582                   of &lt;code&gt;I0&lt;/code&gt; is only included once.
 3583                 &lt;/td&gt;
 3584               &lt;/tr&gt;
 3585               &lt;tr&gt;
 3586                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3587                   b
 3588                 &lt;/th&gt;
 3589                 &lt;td class=&quot;centered&quot;&gt;
 3590                   4
 3591                 &lt;/td&gt;
 3592                 &lt;td&gt;
 3593                   the subsequent index to &quot;a&quot;.
 3594                 &lt;/td&gt;
 3595               &lt;/tr&gt;
 3596               &lt;tr&gt;
 3597                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3598                   q
 3599                 &lt;/th&gt;
 3600                 &lt;td class=&quot;centered&quot;&gt;
 3601                   5
 3602                 &lt;/td&gt;
 3603                 &lt;td&gt;
 3604                   the subsequent index to &quot;b&quot;.
 3605                 &lt;/td&gt;
 3606               &lt;/tr&gt;
 3607               &lt;tr&gt;
 3608                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3609                   r
 3610                 &lt;/th&gt;
 3611                 &lt;td class=&quot;centered&quot;&gt;
 3612                   6
 3613                 &lt;/td&gt;
 3614                 &lt;td&gt;
 3615                   the subsequent index to &quot;q&quot;.
 3616                 &lt;/td&gt;
 3617               &lt;/tr&gt;
 3618             &lt;/table&gt;&lt;/blockquote&gt;
 3619             The class &lt;code&gt;C2&lt;/code&gt; will have the same field indices.
 3620             Note that a field may have a different index depending on the
 3621             object that is viewing it -- for example field &quot;a&quot; above.
 3622             Note also: not all field indices may be visible from the
 3623             callbacks, but all indices are shown for illustrative purposes.
 3624             &lt;p/&gt;
 3625             The interface &lt;code&gt;I1&lt;/code&gt; will have the
 3626             following field indices:
 3627             &lt;blockquote&gt;&lt;table&gt;
 3628               &lt;tr class=&quot;bgLight&quot;&gt;
 3629                 &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Field&lt;/th&gt;
 3630                 &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Index&lt;/th&gt;
 3631                 &lt;th scope=&quot;col&quot;&gt;Description&lt;/th&gt;
 3632               &lt;/tr&gt;
 3633               &lt;tr&gt;
 3634                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3635                   x
 3636                 &lt;/th&gt;
 3637                 &lt;td class=&quot;centered&quot;&gt;
 3638                   1
 3639                 &lt;/td&gt;
 3640                 &lt;td&gt;
 3641                   The count of the fields in the superinterfaces
 3642                   of &lt;code&gt;I1&lt;/code&gt; is one (&lt;i&gt;n&lt;/i&gt;=1):
 3643                   &lt;code&gt;p&lt;/code&gt; of &lt;code&gt;I0&lt;/code&gt;.
 3644                 &lt;/td&gt;
 3645               &lt;/tr&gt;
 3646             &lt;/table&gt;&lt;/blockquote&gt;
 3647           &lt;/description&gt;
 3648         &lt;/field&gt;
 3649       &lt;/typedef&gt;
 3650 
 3651       &lt;typedef id=&quot;jvmtiHeapReferenceInfoArray&quot;
 3652                label=&quot;Reference information structure for Array references&quot;
 3653                since=&quot;1.1&quot;&gt;
 3654         &lt;description&gt;
 3655           Reference information returned for
 3656          &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_ARRAY_ELEMENT&quot;/&gt; references.
 3657         &lt;/description&gt;
 3658         &lt;field id=&quot;index&quot;&gt;
 3659           &lt;jint/&gt;
 3660           &lt;description&gt;
 3661             The array index.
 3662           &lt;/description&gt;
 3663         &lt;/field&gt;
 3664       &lt;/typedef&gt;
 3665 
 3666       &lt;typedef id=&quot;jvmtiHeapReferenceInfoConstantPool&quot;
 3667                label=&quot;Reference information structure for Constant Pool references&quot;
 3668                since=&quot;1.1&quot;&gt;
 3669         &lt;description&gt;
 3670           Reference information returned for
 3671           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&quot;/&gt; references.
 3672         &lt;/description&gt;
 3673         &lt;field id=&quot;index&quot;&gt;
 3674           &lt;jint/&gt;
 3675           &lt;description&gt;
 3676             The index into the constant pool of the class. See the description in
 3677       &lt;vmspec chapter=&quot;4.4&quot;/&gt;.
 3678           &lt;/description&gt;
 3679         &lt;/field&gt;
 3680       &lt;/typedef&gt;
 3681 
 3682       &lt;typedef id=&quot;jvmtiHeapReferenceInfoStackLocal&quot;
 3683                label=&quot;Reference information structure for Local Variable references&quot;
 3684                since=&quot;1.1&quot;&gt;
 3685         &lt;description&gt;
 3686           Reference information returned for
 3687           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STACK_LOCAL&quot;/&gt; references.
 3688         &lt;/description&gt;
 3689         &lt;field id=&quot;thread_tag&quot;&gt;
 3690           &lt;jlong/&gt;
 3691           &lt;description&gt;
 3692             The tag of the thread corresponding to this stack, zero if not tagged.
 3693           &lt;/description&gt;
 3694         &lt;/field&gt;
 3695         &lt;field id=&quot;thread_id&quot;&gt;
 3696           &lt;jlong/&gt;
 3697           &lt;description&gt;
 3698             The unique thread ID of the thread corresponding to this stack.
 3699           &lt;/description&gt;
 3700         &lt;/field&gt;
 3701         &lt;field id=&quot;depth&quot;&gt;
 3702           &lt;jint/&gt;
 3703           &lt;description&gt;
 3704             The depth of the frame.
 3705           &lt;/description&gt;
 3706         &lt;/field&gt;
 3707         &lt;field id=&quot;method&quot;&gt;
 3708           &lt;jmethodID/&gt;
 3709           &lt;description&gt;
 3710             The method executing in this frame.
 3711           &lt;/description&gt;
 3712         &lt;/field&gt;
 3713         &lt;field id=&quot;location&quot;&gt;
 3714           &lt;jlocation/&gt;
 3715           &lt;description&gt;
 3716             The currently executing location in this frame.
 3717           &lt;/description&gt;
 3718         &lt;/field&gt;
 3719         &lt;field id=&quot;slot&quot;&gt;
 3720           &lt;jint/&gt;
 3721           &lt;description&gt;
 3722             The slot number of the local variable.
 3723           &lt;/description&gt;
 3724         &lt;/field&gt;
 3725       &lt;/typedef&gt;
 3726 
 3727       &lt;typedef id=&quot;jvmtiHeapReferenceInfoJniLocal&quot;
 3728                label=&quot;Reference information structure for JNI local references&quot;
 3729                since=&quot;1.1&quot;&gt;
 3730         &lt;description&gt;
 3731           Reference information returned for
 3732           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_JNI_LOCAL&quot;/&gt; references.
 3733         &lt;/description&gt;
 3734         &lt;field id=&quot;thread_tag&quot;&gt;
 3735           &lt;jlong/&gt;
 3736           &lt;description&gt;
 3737             The tag of the thread corresponding to this stack, zero if not tagged.
 3738           &lt;/description&gt;
 3739         &lt;/field&gt;
 3740         &lt;field id=&quot;thread_id&quot;&gt;
 3741           &lt;jlong/&gt;
 3742           &lt;description&gt;
 3743             The unique thread ID of the thread corresponding to this stack.
 3744           &lt;/description&gt;
 3745         &lt;/field&gt;
 3746         &lt;field id=&quot;depth&quot;&gt;
 3747           &lt;jint/&gt;
 3748           &lt;description&gt;
 3749             The depth of the frame.
 3750           &lt;/description&gt;
 3751         &lt;/field&gt;
 3752         &lt;field id=&quot;method&quot;&gt;
 3753           &lt;jmethodID/&gt;
 3754           &lt;description&gt;
 3755             The method executing in this frame.
 3756           &lt;/description&gt;
 3757         &lt;/field&gt;
 3758       &lt;/typedef&gt;
 3759 
 3760       &lt;typedef id=&quot;jvmtiHeapReferenceInfoReserved&quot;
 3761                label=&quot;Reference information structure for Other references&quot;
 3762                since=&quot;1.1&quot;&gt;
 3763         &lt;description&gt;
 3764           Reference information returned for other references.
 3765         &lt;/description&gt;
 3766         &lt;field id=&quot;reserved1&quot;&gt;
 3767           &lt;jlong/&gt;
 3768           &lt;description&gt;
 3769             reserved for future use.
 3770           &lt;/description&gt;
 3771         &lt;/field&gt;
 3772         &lt;field id=&quot;reserved2&quot;&gt;
 3773           &lt;jlong/&gt;
 3774           &lt;description&gt;
 3775             reserved for future use.
 3776           &lt;/description&gt;
 3777         &lt;/field&gt;
 3778         &lt;field id=&quot;reserved3&quot;&gt;
 3779           &lt;jlong/&gt;
 3780           &lt;description&gt;
 3781             reserved for future use.
 3782           &lt;/description&gt;
 3783         &lt;/field&gt;
 3784         &lt;field id=&quot;reserved4&quot;&gt;
 3785           &lt;jlong/&gt;
 3786           &lt;description&gt;
 3787             reserved for future use.
 3788           &lt;/description&gt;
 3789         &lt;/field&gt;
 3790         &lt;field id=&quot;reserved5&quot;&gt;
 3791           &lt;jlong/&gt;
 3792           &lt;description&gt;
 3793             reserved for future use.
 3794           &lt;/description&gt;
 3795         &lt;/field&gt;
 3796         &lt;field id=&quot;reserved6&quot;&gt;
 3797           &lt;jlong/&gt;
 3798           &lt;description&gt;
 3799             reserved for future use.
 3800           &lt;/description&gt;
 3801         &lt;/field&gt;
 3802         &lt;field id=&quot;reserved7&quot;&gt;
 3803           &lt;jlong/&gt;
 3804           &lt;description&gt;
 3805             reserved for future use.
 3806           &lt;/description&gt;
 3807         &lt;/field&gt;
 3808         &lt;field id=&quot;reserved8&quot;&gt;
 3809           &lt;jlong/&gt;
 3810           &lt;description&gt;
 3811             reserved for future use.
 3812           &lt;/description&gt;
 3813         &lt;/field&gt;
 3814       &lt;/typedef&gt;
 3815 
 3816       &lt;uniontypedef id=&quot;jvmtiHeapReferenceInfo&quot;
 3817                label=&quot;Reference information structure&quot;
 3818                since=&quot;1.1&quot;&gt;
 3819         &lt;description&gt;
 3820           The information returned about referrers.
 3821           Represented as a union of the various kinds of reference information.
 3822         &lt;/description&gt;
 3823         &lt;field id=&quot;field&quot;&gt;
 3824           &lt;struct&gt;jvmtiHeapReferenceInfoField&lt;/struct&gt;
 3825           &lt;description&gt;
 3826             The referrer information for
 3827             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt;
 3828             and &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt; references.
 3829           &lt;/description&gt;
 3830         &lt;/field&gt;
 3831         &lt;field id=&quot;array&quot;&gt;
 3832           &lt;struct&gt;jvmtiHeapReferenceInfoArray&lt;/struct&gt;
 3833           &lt;description&gt;
 3834             The referrer information for
 3835             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_ARRAY_ELEMENT&quot;/&gt; references.
 3836           &lt;/description&gt;
 3837         &lt;/field&gt;
 3838         &lt;field id=&quot;constant_pool&quot;&gt;
 3839           &lt;struct&gt;jvmtiHeapReferenceInfoConstantPool&lt;/struct&gt;
 3840           &lt;description&gt;
 3841             The referrer information for
 3842             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&quot;/&gt; references.
 3843           &lt;/description&gt;
 3844         &lt;/field&gt;
 3845         &lt;field id=&quot;stack_local&quot;&gt;
 3846           &lt;struct&gt;jvmtiHeapReferenceInfoStackLocal&lt;/struct&gt;
 3847           &lt;description&gt;
 3848             The referrer information for
 3849             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STACK_LOCAL&quot;/&gt; references.
 3850           &lt;/description&gt;
 3851         &lt;/field&gt;
 3852         &lt;field id=&quot;jni_local&quot;&gt;
 3853           &lt;struct&gt;jvmtiHeapReferenceInfoJniLocal&lt;/struct&gt;
 3854           &lt;description&gt;
 3855             The referrer information for
 3856             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_JNI_LOCAL&quot;/&gt; references.
 3857           &lt;/description&gt;
 3858         &lt;/field&gt;
 3859         &lt;field id=&quot;other&quot;&gt;
 3860           &lt;struct&gt;jvmtiHeapReferenceInfoReserved&lt;/struct&gt;
 3861           &lt;description&gt;
 3862             reserved for future use.
 3863           &lt;/description&gt;
 3864         &lt;/field&gt;
 3865       &lt;/uniontypedef&gt;
 3866 
 3867       &lt;typedef id=&quot;jvmtiHeapCallbacks&quot;
 3868                label=&quot;Heap callback function structure&quot;
 3869                since=&quot;1.1&quot;&gt;
 3870         &lt;field id=&quot;heap_iteration_callback&quot;&gt;
 3871           &lt;ptrtype&gt;
 3872             &lt;struct&gt;jvmtiHeapIterationCallback&lt;/struct&gt;
 3873           &lt;/ptrtype&gt;
 3874           &lt;description&gt;
 3875             The callback to be called to describe an
 3876             object in the heap. Used by the
 3877             &lt;functionlink id=&quot;IterateThroughHeap&quot;/&gt; function, ignored by the
 3878             &lt;functionlink id=&quot;FollowReferences&quot;/&gt; function.
 3879           &lt;/description&gt;
 3880         &lt;/field&gt;
 3881         &lt;field id=&quot;heap_reference_callback&quot;&gt;
 3882           &lt;ptrtype&gt;
 3883             &lt;struct&gt;jvmtiHeapReferenceCallback&lt;/struct&gt;
 3884           &lt;/ptrtype&gt;
 3885           &lt;description&gt;
 3886             The callback to be called to describe an
 3887             object reference.  Used by the
 3888             &lt;functionlink id=&quot;FollowReferences&quot;/&gt; function, ignored by the
 3889             &lt;functionlink id=&quot;IterateThroughHeap&quot;/&gt; function.
 3890           &lt;/description&gt;
 3891         &lt;/field&gt;
 3892         &lt;field id=&quot;primitive_field_callback&quot;&gt;
 3893           &lt;ptrtype&gt;
 3894             &lt;struct&gt;jvmtiPrimitiveFieldCallback&lt;/struct&gt;
 3895           &lt;/ptrtype&gt;
 3896           &lt;description&gt;
 3897             The callback to be called to describe a
 3898             primitive field.
 3899           &lt;/description&gt;
 3900         &lt;/field&gt;
 3901         &lt;field id=&quot;array_primitive_value_callback&quot;&gt;
 3902           &lt;ptrtype&gt;
 3903             &lt;struct&gt;jvmtiArrayPrimitiveValueCallback&lt;/struct&gt;
 3904           &lt;/ptrtype&gt;
 3905           &lt;description&gt;
 3906             The callback to be called to describe an
 3907             array of primitive values.
 3908           &lt;/description&gt;
 3909         &lt;/field&gt;
 3910         &lt;field id=&quot;string_primitive_value_callback&quot;&gt;
 3911           &lt;ptrtype&gt;
 3912             &lt;struct&gt;jvmtiStringPrimitiveValueCallback&lt;/struct&gt;
 3913           &lt;/ptrtype&gt;
 3914           &lt;description&gt;
 3915             The callback to be called to describe a String value.
 3916           &lt;/description&gt;
 3917         &lt;/field&gt;
 3918         &lt;field id=&quot;reserved5&quot;&gt;
 3919           &lt;ptrtype&gt;
 3920             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3921           &lt;/ptrtype&gt;
 3922           &lt;description&gt;
 3923             Reserved for future use..
 3924           &lt;/description&gt;
 3925         &lt;/field&gt;
 3926         &lt;field id=&quot;reserved6&quot;&gt;
 3927           &lt;ptrtype&gt;
 3928             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3929           &lt;/ptrtype&gt;
 3930           &lt;description&gt;
 3931             Reserved for future use..
 3932           &lt;/description&gt;
 3933         &lt;/field&gt;
 3934         &lt;field id=&quot;reserved7&quot;&gt;
 3935           &lt;ptrtype&gt;
 3936             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3937           &lt;/ptrtype&gt;
 3938           &lt;description&gt;
 3939             Reserved for future use..
 3940           &lt;/description&gt;
 3941         &lt;/field&gt;
 3942         &lt;field id=&quot;reserved8&quot;&gt;
 3943           &lt;ptrtype&gt;
 3944             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3945           &lt;/ptrtype&gt;
 3946           &lt;description&gt;
 3947             Reserved for future use..
 3948           &lt;/description&gt;
 3949         &lt;/field&gt;
 3950         &lt;field id=&quot;reserved9&quot;&gt;
 3951           &lt;ptrtype&gt;
 3952             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3953           &lt;/ptrtype&gt;
 3954           &lt;description&gt;
 3955             Reserved for future use..
 3956           &lt;/description&gt;
 3957         &lt;/field&gt;
 3958         &lt;field id=&quot;reserved10&quot;&gt;
 3959           &lt;ptrtype&gt;
 3960             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3961           &lt;/ptrtype&gt;
 3962           &lt;description&gt;
 3963             Reserved for future use..
 3964           &lt;/description&gt;
 3965         &lt;/field&gt;
 3966         &lt;field id=&quot;reserved11&quot;&gt;
 3967           &lt;ptrtype&gt;
 3968             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3969           &lt;/ptrtype&gt;
 3970           &lt;description&gt;
 3971             Reserved for future use..
 3972           &lt;/description&gt;
 3973         &lt;/field&gt;
 3974         &lt;field id=&quot;reserved12&quot;&gt;
 3975           &lt;ptrtype&gt;
 3976             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3977           &lt;/ptrtype&gt;
 3978           &lt;description&gt;
 3979             Reserved for future use..
 3980           &lt;/description&gt;
 3981         &lt;/field&gt;
 3982         &lt;field id=&quot;reserved13&quot;&gt;
 3983           &lt;ptrtype&gt;
 3984             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3985           &lt;/ptrtype&gt;
 3986           &lt;description&gt;
 3987             Reserved for future use..
 3988           &lt;/description&gt;
 3989         &lt;/field&gt;
 3990         &lt;field id=&quot;reserved14&quot;&gt;
 3991           &lt;ptrtype&gt;
 3992             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3993           &lt;/ptrtype&gt;
 3994           &lt;description&gt;
 3995             Reserved for future use..
 3996           &lt;/description&gt;
 3997         &lt;/field&gt;
 3998         &lt;field id=&quot;reserved15&quot;&gt;
 3999           &lt;ptrtype&gt;
 4000             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 4001           &lt;/ptrtype&gt;
 4002           &lt;description&gt;
 4003             Reserved for future use..
 4004           &lt;/description&gt;
 4005         &lt;/field&gt;
 4006       &lt;/typedef&gt;
 4007 
 4008 
 4009     &lt;intro&gt;
 4010       &lt;rationale&gt;
 4011         The heap dumping functionality (below) uses a callback
 4012         for each object.  While it would seem that a buffered approach
 4013         would provide better throughput, tests do
 4014         not show this to be the case--possibly due to locality of
 4015         memory reference or array access overhead.
 4016       &lt;/rationale&gt;
 4017 
 4018       &lt;issue&gt;
 4019         Still under investigation as to if java.lang.ref references
 4020         are reported as a different type of reference.
 4021       &lt;/issue&gt;
 4022 
 4023       &lt;issue&gt;
 4024         Should or can an indication of the cost or relative cost of
 4025         these operations be included?
 4026       &lt;/issue&gt;
 4027 
 4028     &lt;/intro&gt;
 4029 
 4030     &lt;callback id=&quot;jvmtiHeapIterationCallback&quot; since=&quot;1.1&quot;&gt;
 4031       &lt;jint/&gt;
 4032       &lt;synopsis&gt;Heap Iteration Callback&lt;/synopsis&gt;
 4033       &lt;description&gt;
 4034         Agent supplied callback function.
 4035         Describes (but does not pass in) an object in the heap.
 4036         &lt;p/&gt;
 4037         This function should return a bit vector of the desired
 4038         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4039         This will determine if the entire iteration should be aborted
 4040         (the &lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; flag is ignored).
 4041         &lt;p/&gt;
 4042         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4043         function restrictions&lt;/internallink&gt;.
 4044       &lt;/description&gt;
 4045       &lt;parameters&gt;
 4046         &lt;param id=&quot;class_tag&quot;&gt;
 4047           &lt;jlong/&gt;
 4048           &lt;description&gt;
 4049             The tag of the class of object (zero if the class is not tagged).
 4050             If the object represents a runtime class,
 4051             the &lt;code&gt;class_tag&lt;/code&gt; is the tag
 4052             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 4053             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 4054           &lt;/description&gt;
 4055         &lt;/param&gt;
 4056         &lt;param id=&quot;size&quot;&gt;
 4057           &lt;jlong/&gt;
 4058           &lt;description&gt;
 4059             Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 4060           &lt;/description&gt;
 4061         &lt;/param&gt;
 4062         &lt;param id=&quot;tag_ptr&quot;&gt;
 4063           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4064           &lt;description&gt;
 4065             The object tag value, or zero if the object is not tagged.
 4066             To set the tag value to be associated with the object
 4067             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4068           &lt;/description&gt;
 4069         &lt;/param&gt;
 4070         &lt;param id=&quot;length&quot;&gt;
 4071           &lt;jint/&gt;
 4072           &lt;description&gt;
 4073             If this object is an array, the length of the array. Otherwise negative one (-1).
 4074           &lt;/description&gt;
 4075         &lt;/param&gt;
 4076         &lt;param id=&quot;user_data&quot;&gt;
 4077           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4078           &lt;description&gt;
 4079             The user supplied data that was passed into the iteration function.
 4080           &lt;/description&gt;
 4081         &lt;/param&gt;
 4082       &lt;/parameters&gt;
 4083     &lt;/callback&gt;
 4084 
 4085     &lt;callback id=&quot;jvmtiHeapReferenceCallback&quot; since=&quot;1.1&quot;&gt;
 4086       &lt;jint/&gt;
 4087       &lt;synopsis&gt;Heap Reference Callback&lt;/synopsis&gt;
 4088       &lt;description&gt;
 4089         Agent supplied callback function.
 4090         Describes a reference from an object or the VM (the referrer) to another object
 4091         (the referree) or a heap root to a referree.
 4092         &lt;p/&gt;
 4093         This function should return a bit vector of the desired
 4094         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4095         This will determine if the objects referenced by the referree
 4096         should be visited or if the entire iteration should be aborted.
 4097         &lt;p/&gt;
 4098         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4099         function restrictions&lt;/internallink&gt;.
 4100       &lt;/description&gt;
 4101       &lt;parameters&gt;
 4102         &lt;param id=&quot;reference_kind&quot;&gt;
 4103           &lt;enum&gt;jvmtiHeapReferenceKind&lt;/enum&gt;
 4104           &lt;description&gt;
 4105             The kind of reference.
 4106           &lt;/description&gt;
 4107         &lt;/param&gt;
 4108         &lt;param id=&quot;reference_info&quot;&gt;
 4109           &lt;inptr&gt;
 4110             &lt;struct&gt;jvmtiHeapReferenceInfo&lt;/struct&gt;
 4111           &lt;/inptr&gt;
 4112           &lt;description&gt;
 4113             Details about the reference.
 4114             Set when the &lt;datalink id=&quot;jvmtiHeapReferenceCallback.reference_kind&quot;&gt;reference_kind&lt;/datalink&gt; is
 4115             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt;,
 4116             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt;,
 4117             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_ARRAY_ELEMENT&quot;/&gt;,
 4118             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&quot;/&gt;,
 4119             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STACK_LOCAL&quot;/&gt;,
 4120             or &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_JNI_LOCAL&quot;/&gt;.
 4121             Otherwise &lt;code&gt;NULL&lt;/code&gt;.
 4122           &lt;/description&gt;
 4123         &lt;/param&gt;
 4124         &lt;param id=&quot;class_tag&quot;&gt;
 4125           &lt;jlong/&gt;
 4126           &lt;description&gt;
 4127             The tag of the class of referree object (zero if the class is not tagged).
 4128             If the referree object represents a runtime class,
 4129             the &lt;code&gt;class_tag&lt;/code&gt; is the tag
 4130             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 4131             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 4132           &lt;/description&gt;
 4133         &lt;/param&gt;
 4134         &lt;param id=&quot;referrer_class_tag&quot;&gt;
 4135           &lt;jlong/&gt;
 4136           &lt;description&gt;
 4137             The tag of the class of the referrer object (zero if the class is not tagged
 4138             or the referree is a heap root). If the referrer object represents a runtime
 4139             class, the &lt;code&gt;referrer_class_tag&lt;/code&gt; is the tag associated with
 4140             the &lt;code&gt;java.lang.Class&lt;/code&gt;
 4141             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 4142           &lt;/description&gt;
 4143         &lt;/param&gt;
 4144         &lt;param id=&quot;size&quot;&gt;
 4145           &lt;jlong/&gt;
 4146           &lt;description&gt;
 4147             Size of the referree object (in bytes).
 4148             See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 4149           &lt;/description&gt;
 4150         &lt;/param&gt;
 4151         &lt;param id=&quot;tag_ptr&quot;&gt;
 4152           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4153           &lt;description&gt;
 4154             Points to the referree object tag value, or zero if the object is not
 4155             tagged.
 4156             To set the tag value to be associated with the object
 4157             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4158           &lt;/description&gt;
 4159         &lt;/param&gt;
 4160         &lt;param id=&quot;referrer_tag_ptr&quot;&gt;
 4161           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4162           &lt;description&gt;
 4163             Points to the tag of the referrer object, or
 4164             points to the zero if the referrer
 4165             object is not tagged.
 4166             &lt;code&gt;NULL&lt;/code&gt; if the referrer in not an object (that is,
 4167             this callback is reporting a heap root).
 4168             To set the tag value to be associated with the referrer object
 4169             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4170             If this callback is reporting a reference from an object to itself,
 4171             &lt;code&gt;referrer_tag_ptr == tag_ptr&lt;/code&gt;.
 4172           &lt;/description&gt;
 4173         &lt;/param&gt;
 4174         &lt;param id=&quot;length&quot;&gt;
 4175           &lt;jint/&gt;
 4176           &lt;description&gt;
 4177             If this object is an array, the length of the array. Otherwise negative one (-1).
 4178           &lt;/description&gt;
 4179         &lt;/param&gt;
 4180         &lt;param id=&quot;user_data&quot;&gt;
 4181           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4182           &lt;description&gt;
 4183             The user supplied data that was passed into the iteration function.
 4184           &lt;/description&gt;
 4185         &lt;/param&gt;
 4186       &lt;/parameters&gt;
 4187     &lt;/callback&gt;
 4188 
 4189     &lt;callback id=&quot;jvmtiPrimitiveFieldCallback&quot; since=&quot;1.1&quot;&gt;
 4190       &lt;jint/&gt;
 4191       &lt;synopsis&gt;Primitive Field Callback&lt;/synopsis&gt;
 4192       &lt;description&gt;
 4193         Agent supplied callback function which
 4194         describes a primitive field of an object (&lt;i&gt;the object&lt;/i&gt;).
 4195         A primitive field is a field whose type is a primitive type.
 4196         This callback will describe a static field if the object is a class,
 4197         and otherwise will describe an instance field.
 4198         &lt;p/&gt;
 4199         This function should return a bit vector of the desired
 4200         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4201         This will determine if the entire iteration should be aborted
 4202         (the &lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; flag is ignored).
 4203         &lt;p/&gt;
 4204         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4205         function restrictions&lt;/internallink&gt;.
 4206       &lt;/description&gt;
 4207       &lt;parameters&gt;
 4208         &lt;param id=&quot;kind&quot;&gt;
 4209           &lt;enum&gt;jvmtiHeapReferenceKind&lt;/enum&gt;
 4210           &lt;description&gt;
 4211             The kind of field -- instance or static (&lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt; or
 4212             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt;).
 4213           &lt;/description&gt;
 4214         &lt;/param&gt;
 4215         &lt;param id=&quot;info&quot;&gt;
 4216           &lt;inptr&gt;
 4217             &lt;struct&gt;jvmtiHeapReferenceInfo&lt;/struct&gt;
 4218           &lt;/inptr&gt;
 4219           &lt;description&gt;
 4220             Which field (the field index).
 4221           &lt;/description&gt;
 4222         &lt;/param&gt;
 4223         &lt;param id=&quot;object_class_tag&quot;&gt;
 4224           &lt;jlong/&gt;
 4225           &lt;description&gt;
 4226             The tag of the class of the object (zero if the class is not tagged).
 4227             If the object represents a runtime class, the
 4228             &lt;code&gt;object_class_tag&lt;/code&gt; is the tag
 4229             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 4230             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 4231           &lt;/description&gt;
 4232         &lt;/param&gt;
 4233         &lt;param id=&quot;object_tag_ptr&quot;&gt;
 4234           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4235           &lt;description&gt;
 4236             Points to the tag of the object, or zero if the object is not
 4237             tagged.
 4238             To set the tag value to be associated with the object
 4239             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4240           &lt;/description&gt;
 4241         &lt;/param&gt;
 4242         &lt;param id=&quot;value&quot;&gt;
 4243           &lt;jvalue/&gt;
 4244           &lt;description&gt;
 4245             The value of the field.
 4246           &lt;/description&gt;
 4247         &lt;/param&gt;
 4248         &lt;param id=&quot;value_type&quot;&gt;
 4249           &lt;enum&gt;jvmtiPrimitiveType&lt;/enum&gt;
 4250           &lt;description&gt;
 4251             The type of the field.
 4252           &lt;/description&gt;
 4253         &lt;/param&gt;
 4254         &lt;param id=&quot;user_data&quot;&gt;
 4255           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4256           &lt;description&gt;
 4257             The user supplied data that was passed into the iteration function.
 4258           &lt;/description&gt;
 4259         &lt;/param&gt;
 4260       &lt;/parameters&gt;
 4261     &lt;/callback&gt;
 4262 
 4263     &lt;callback id=&quot;jvmtiArrayPrimitiveValueCallback&quot; since=&quot;1.1&quot;&gt;
 4264       &lt;jint/&gt;
 4265       &lt;synopsis&gt;Array Primitive Value Callback&lt;/synopsis&gt;
 4266       &lt;description&gt;
 4267         Agent supplied callback function.
 4268         Describes the values in an array of a primitive type.
 4269         &lt;p/&gt;
 4270         This function should return a bit vector of the desired
 4271         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4272         This will determine if the entire iteration should be aborted
 4273         (the &lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; flag is ignored).
 4274         &lt;p/&gt;
 4275         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4276         function restrictions&lt;/internallink&gt;.
 4277       &lt;/description&gt;
 4278       &lt;parameters&gt;
 4279         &lt;param id=&quot;class_tag&quot;&gt;
 4280           &lt;jlong/&gt;
 4281           &lt;description&gt;
 4282             The tag of the class of the array object (zero if the class is not tagged).
 4283           &lt;/description&gt;
 4284         &lt;/param&gt;
 4285         &lt;param id=&quot;size&quot;&gt;
 4286           &lt;jlong/&gt;
 4287           &lt;description&gt;
 4288             Size of the array (in bytes).
 4289             See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 4290           &lt;/description&gt;
 4291         &lt;/param&gt;
 4292         &lt;param id=&quot;tag_ptr&quot;&gt;
 4293           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4294           &lt;description&gt;
 4295             Points to the tag of the array object, or zero if the object is not
 4296             tagged.
 4297             To set the tag value to be associated with the object
 4298             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4299           &lt;/description&gt;
 4300         &lt;/param&gt;
 4301         &lt;param id=&quot;element_count&quot;&gt;
 4302           &lt;jint/&gt;
 4303           &lt;description&gt;
 4304             The length of the primitive array.
 4305           &lt;/description&gt;
 4306         &lt;/param&gt;
 4307         &lt;param id=&quot;element_type&quot;&gt;
 4308           &lt;enum&gt;jvmtiPrimitiveType&lt;/enum&gt;
 4309           &lt;description&gt;
 4310             The type of the elements of the array.
 4311           &lt;/description&gt;
 4312         &lt;/param&gt;
 4313         &lt;param id=&quot;elements&quot;&gt;
 4314           &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
 4315           &lt;description&gt;
 4316             The elements of the array in a packed array of &lt;code&gt;element_count&lt;/code&gt;
 4317             items of &lt;code&gt;element_type&lt;/code&gt; size each.
 4318           &lt;/description&gt;
 4319         &lt;/param&gt;
 4320         &lt;param id=&quot;user_data&quot;&gt;
 4321           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4322           &lt;description&gt;
 4323             The user supplied data that was passed into the iteration function.
 4324           &lt;/description&gt;
 4325         &lt;/param&gt;
 4326       &lt;/parameters&gt;
 4327     &lt;/callback&gt;
 4328 
 4329     &lt;callback id=&quot;jvmtiStringPrimitiveValueCallback&quot; since=&quot;1.1&quot;&gt;
 4330       &lt;jint/&gt;
 4331       &lt;synopsis&gt;String Primitive Value Callback&lt;/synopsis&gt;
 4332       &lt;description&gt;
 4333         Agent supplied callback function.
 4334         Describes the value of a java.lang.String.
 4335         &lt;p/&gt;
 4336         This function should return a bit vector of the desired
 4337         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4338         This will determine if the entire iteration should be aborted
 4339         (the &lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; flag is ignored).
 4340         &lt;p/&gt;
 4341         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4342         function restrictions&lt;/internallink&gt;.
 4343       &lt;/description&gt;
 4344       &lt;parameters&gt;
 4345         &lt;param id=&quot;class_tag&quot;&gt;
 4346           &lt;jlong/&gt;
 4347           &lt;description&gt;
 4348             The tag of the class of the String class (zero if the class is not tagged).
 4349             &lt;issue&gt;Is this needed?&lt;/issue&gt;
 4350           &lt;/description&gt;
 4351         &lt;/param&gt;
 4352         &lt;param id=&quot;size&quot;&gt;
 4353           &lt;jlong/&gt;
 4354           &lt;description&gt;
 4355             Size of the string (in bytes).
 4356             See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 4357           &lt;/description&gt;
 4358         &lt;/param&gt;
 4359         &lt;param id=&quot;tag_ptr&quot;&gt;
 4360           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4361           &lt;description&gt;
 4362             Points to the tag of the String object, or zero if the object is not
 4363             tagged.
 4364             To set the tag value to be associated with the object
 4365             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4366           &lt;/description&gt;
 4367         &lt;/param&gt;
 4368         &lt;param id=&quot;value&quot;&gt;
 4369           &lt;vmbuf&gt;&lt;jchar/&gt;&lt;/vmbuf&gt;
 4370           &lt;description&gt;
 4371             The value of the String, encoded as a Unicode string.
 4372           &lt;/description&gt;
 4373         &lt;/param&gt;
 4374         &lt;param id=&quot;value_length&quot;&gt;
 4375           &lt;jint/&gt;
 4376           &lt;description&gt;
 4377             The length of the string.
 4378             The length is equal to the number of 16-bit Unicode
 4379             characters in the string.
 4380           &lt;/description&gt;
 4381         &lt;/param&gt;
 4382         &lt;param id=&quot;user_data&quot;&gt;
 4383           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4384           &lt;description&gt;
 4385             The user supplied data that was passed into the iteration function.
 4386           &lt;/description&gt;
 4387         &lt;/param&gt;
 4388       &lt;/parameters&gt;
 4389     &lt;/callback&gt;
 4390 
 4391 
 4392     &lt;callback id=&quot;jvmtiReservedCallback&quot; since=&quot;1.1&quot;&gt;
 4393       &lt;jint/&gt;
 4394       &lt;synopsis&gt;reserved for future use Callback&lt;/synopsis&gt;
 4395       &lt;description&gt;
 4396         Placeholder -- reserved for future use.
 4397       &lt;/description&gt;
 4398       &lt;parameters&gt;
 4399       &lt;/parameters&gt;
 4400     &lt;/callback&gt;
 4401 
 4402     &lt;function id=&quot;FollowReferences&quot; num=&quot;115&quot; since=&quot;1.1&quot;&gt;
 4403       &lt;synopsis&gt;Follow References&lt;/synopsis&gt;
 4404       &lt;description&gt;
 4405         This function initiates a traversal over the objects that are
 4406         directly and indirectly reachable from the specified object or,
 4407         if &lt;code&gt;initial_object&lt;/code&gt; is not specified, all objects
 4408         reachable from the heap roots.
 4409         The heap root are the set of system classes,
 4410         JNI globals, references from thread stacks, and other objects used as roots
 4411         for the purposes of garbage collection.
 4412         &lt;p/&gt;
 4413         This function operates by traversing the reference graph.
 4414         Let &lt;i&gt;A&lt;/i&gt;, &lt;i&gt;B&lt;/i&gt;, ... represent objects.
 4415         When a reference from &lt;i&gt;A&lt;/i&gt; to &lt;i&gt;B&lt;/i&gt; is traversed,
 4416         when a reference from a heap root to &lt;i&gt;B&lt;/i&gt; is traversed,
 4417         or when &lt;i&gt;B&lt;/i&gt; is specified as the &lt;paramlink id=&quot;initial_object&quot;/&gt;,
 4418         then &lt;i&gt;B&lt;/i&gt; is said to be &lt;i&gt;visited&lt;/i&gt;.
 4419         A reference from &lt;i&gt;A&lt;/i&gt; to &lt;i&gt;B&lt;/i&gt; is not traversed until &lt;i&gt;A&lt;/i&gt;
 4420         is visited.
 4421         References are reported in the same order that the references are traversed.
 4422         Object references are reported by invoking the agent supplied
 4423         callback function &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;/&gt;.
 4424         In a reference from &lt;i&gt;A&lt;/i&gt; to &lt;i&gt;B&lt;/i&gt;, &lt;i&gt;A&lt;/i&gt; is known
 4425         as the &lt;i&gt;referrer&lt;/i&gt; and &lt;i&gt;B&lt;/i&gt; as the &lt;i&gt;referree&lt;/i&gt;.
 4426         The callback is invoked exactly once for each reference from a referrer;
 4427         this is true even if there are reference cycles or multiple paths to
 4428         the referrer.
 4429         There may be more than one reference between a referrer and a referree,
 4430         each reference is reported.
 4431         These references may be distinguished by examining the
 4432         &lt;datalink
 4433          id=&quot;jvmtiHeapReferenceCallback.reference_kind&quot;&gt;&lt;code&gt;reference_kind&lt;/code&gt;&lt;/datalink&gt;
 4434          and
 4435         &lt;datalink
 4436          id=&quot;jvmtiHeapReferenceCallback.reference_info&quot;&gt;&lt;code&gt;reference_info&lt;/code&gt;&lt;/datalink&gt;
 4437         parameters of the &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;/&gt; callback.
 4438         &lt;p/&gt;
 4439         This function reports a Java programming language view of object references,
 4440         not a virtual machine implementation view. The following object references
 4441         are reported when they are non-null:
 4442         &lt;ul&gt;
 4443           &lt;li&gt;Instance objects report references to each non-primitive instance fields
 4444               (including inherited fields).&lt;/li&gt;
 4445           &lt;li&gt;Instance objects report a reference to the object type (class).&lt;/li&gt;
 4446           &lt;li&gt;Classes report a reference to the superclass and directly
 4447               implemented/extended interfaces.&lt;/li&gt;
 4448           &lt;li&gt;Classes report a reference to the class loader, protection domain,
 4449               signers, and resolved entries in the constant pool.&lt;/li&gt;
 4450           &lt;li&gt;Classes report a reference to each directly declared non-primitive
 4451               static field.&lt;/li&gt;
 4452           &lt;li&gt;Arrays report a reference to the array type (class) and each
 4453               array element.&lt;/li&gt;
 4454           &lt;li&gt;Primitive arrays report a reference to the array type.&lt;/li&gt;
 4455         &lt;/ul&gt;
 4456         &lt;p/&gt;
 4457         This function can also be used to examine primitive (non-object) values.
 4458         The primitive value of an array or String
 4459         is reported after the object has been visited;
 4460         it is reported by invoking the agent supplied callback function
 4461         &lt;functionlink id=&quot;jvmtiArrayPrimitiveValueCallback&quot;/&gt; or
 4462         &lt;functionlink id=&quot;jvmtiStringPrimitiveValueCallback&quot;/&gt;.
 4463         A primitive field
 4464         is reported after the object with that field is visited;
 4465         it is reported by invoking the agent supplied callback function
 4466         &lt;functionlink id=&quot;jvmtiPrimitiveFieldCallback&quot;/&gt;.
 4467         &lt;p/&gt;
 4468         Whether a callback is provided or is &lt;code&gt;NULL&lt;/code&gt; only determines
 4469         whether the callback will be invoked, it does not influence
 4470         which objects are visited nor does it influence whether other callbacks
 4471         will be invoked.
 4472         However, the
 4473         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;
 4474         returned by &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;/&gt;
 4475         do determine if the objects referenced by the
 4476         current object as visited.
 4477         The &lt;datalink id=&quot;jvmtiHeapFilter&quot;&gt;heap filter flags&lt;/datalink&gt;
 4478         and &lt;paramlink id=&quot;klass&quot;/&gt; provided as parameters to this function
 4479         do not control which objects are visited but they do control which
 4480         objects and primitive values are reported by the callbacks.
 4481         For example, if the only callback that was set is
 4482         &lt;fieldlink id=&quot;array_primitive_value_callback&quot; struct=&quot;jvmtiHeapCallbacks&quot;/&gt; and &lt;code&gt;klass&lt;/code&gt;
 4483         is set to the array of bytes class, then only arrays of byte will be
 4484         reported.
 4485         The table below summarizes this:
 4486         &lt;p/&gt;
 4487         &lt;table&gt;
 4488           &lt;tr class=&quot;bgLight&quot;&gt;
 4489             &lt;th/&gt;
 4490             &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Controls objects visited&lt;/th&gt;
 4491             &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Controls objects reported&lt;/th&gt;
 4492             &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Controls primitives reported&lt;/th&gt;
 4493           &lt;/tr&gt;
 4494           &lt;tr&gt;
 4495             &lt;th scope=&quot;row&quot;&gt;
 4496               the
 4497               &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;Heap Visit Control Flags&lt;/datalink&gt;
 4498               returned by &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;/&gt;
 4499             &lt;/th&gt;
 4500             &lt;td class=&quot;centered&quot;&gt;
 4501               &lt;b&gt;Yes&lt;/b&gt;
 4502             &lt;/td&gt;
 4503             &lt;td class=&quot;centered&quot;&gt;
 4504               &lt;b&gt;Yes&lt;/b&gt;, since visits are controlled
 4505             &lt;/td&gt;
 4506             &lt;td class=&quot;centered&quot;&gt;
 4507               &lt;b&gt;Yes&lt;/b&gt;, since visits are controlled
 4508             &lt;/td&gt;
 4509           &lt;/tr&gt;
 4510           &lt;tr&gt;
 4511             &lt;th scope=&quot;row&quot;&gt;
 4512               &lt;fieldlink id=&quot;array_primitive_value_callback&quot; struct=&quot;jvmtiHeapCallbacks&quot;/&gt;
 4513               in &lt;paramlink id=&quot;callbacks&quot;/&gt; set
 4514             &lt;/th&gt;
 4515             &lt;td class=&quot;centered&quot;&gt;
 4516               No
 4517             &lt;/td&gt;
 4518             &lt;td class=&quot;centered&quot;&gt;
 4519               &lt;b&gt;Yes&lt;/b&gt;
 4520             &lt;/td&gt;
 4521             &lt;td class=&quot;centered&quot;&gt;
 4522               No
 4523             &lt;/td&gt;
 4524           &lt;/tr&gt;
 4525           &lt;tr&gt;
 4526             &lt;th scope=&quot;row&quot;&gt;
 4527               &lt;paramlink id=&quot;heap_filter&quot;/&gt;
 4528             &lt;/th&gt;
 4529             &lt;td class=&quot;centered&quot;&gt;
 4530               No
 4531             &lt;/td&gt;
 4532             &lt;td class=&quot;centered&quot;&gt;
 4533               &lt;b&gt;Yes&lt;/b&gt;
 4534             &lt;/td&gt;
 4535             &lt;td class=&quot;centered&quot;&gt;
 4536               &lt;b&gt;Yes&lt;/b&gt;
 4537             &lt;/td&gt;
 4538           &lt;/tr&gt;
 4539           &lt;tr&gt;
 4540             &lt;th scope=&quot;row&quot;&gt;
 4541               &lt;paramlink id=&quot;klass&quot;/&gt;
 4542             &lt;/th&gt;
 4543             &lt;td class=&quot;centered&quot;&gt;
 4544               No
 4545             &lt;/td&gt;
 4546             &lt;td class=&quot;centered&quot;&gt;
 4547               &lt;b&gt;Yes&lt;/b&gt;
 4548             &lt;/td&gt;
 4549             &lt;td class=&quot;centered&quot;&gt;
 4550               &lt;b&gt;Yes&lt;/b&gt;
 4551             &lt;/td&gt;
 4552           &lt;/tr&gt;
 4553         &lt;/table&gt;
 4554         &lt;p/&gt;
 4555         During the execution of this function the state of the heap
 4556         does not change: no objects are allocated, no objects are
 4557         garbage collected, and the state of objects (including
 4558         held values) does not change.
 4559         As a result, threads executing Java
 4560         programming language code, threads attempting to resume the
 4561         execution of Java programming language code, and threads
 4562         attempting to execute JNI functions are typically stalled.
 4563       &lt;/description&gt;
 4564       &lt;origin&gt;new&lt;/origin&gt;
 4565       &lt;capabilities&gt;
 4566         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4567       &lt;/capabilities&gt;
 4568       &lt;parameters&gt;
 4569         &lt;param id=&quot;heap_filter&quot;&gt;
 4570           &lt;jint/&gt;
 4571           &lt;description&gt;
 4572             This bit vector of
 4573             &lt;datalink id=&quot;jvmtiHeapFilter&quot;&gt;heap filter flags&lt;/datalink&gt;.
 4574             restricts the objects for which the callback function is called.
 4575             This applies to both the object and primitive callbacks.
 4576           &lt;/description&gt;
 4577         &lt;/param&gt;
 4578         &lt;param id=&quot;klass&quot;&gt;
 4579           &lt;ptrtype&gt;
 4580             &lt;jclass/&gt;
 4581             &lt;nullok&gt;callbacks are not limited to instances of a particular
 4582                     class&lt;/nullok&gt;
 4583           &lt;/ptrtype&gt;
 4584           &lt;description&gt;
 4585             Callbacks are only reported when the object is an instance of
 4586             this class.
 4587             Objects which are instances of a subclass of &lt;code&gt;klass&lt;/code&gt;
 4588             are not reported.
 4589             If &lt;code&gt;klass&lt;/code&gt; is an interface, no objects are reported.
 4590             This applies to both the object and primitive callbacks.
 4591           &lt;/description&gt;
 4592         &lt;/param&gt;
 4593         &lt;param id=&quot;initial_object&quot;&gt;
 4594           &lt;ptrtype&gt;
 4595             &lt;jobject/&gt;
 4596             &lt;nullok&gt;references are followed from the heap roots&lt;/nullok&gt;
 4597           &lt;/ptrtype&gt;
 4598           &lt;description&gt;
 4599             The object to follow
 4600           &lt;/description&gt;
 4601         &lt;/param&gt;
 4602         &lt;param id=&quot;callbacks&quot;&gt;
 4603           &lt;inptr&gt;
 4604             &lt;struct&gt;jvmtiHeapCallbacks&lt;/struct&gt;
 4605           &lt;/inptr&gt;
 4606           &lt;description&gt;
 4607             Structure defining the set of callback functions.
 4608           &lt;/description&gt;
 4609         &lt;/param&gt;
 4610         &lt;param id=&quot;user_data&quot;&gt;
 4611           &lt;inbuf&gt;
 4612             &lt;void/&gt;
 4613             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 4614           &lt;/inbuf&gt;
 4615           &lt;description&gt;
 4616             User supplied data to be passed to the callback.
 4617           &lt;/description&gt;
 4618         &lt;/param&gt;
 4619       &lt;/parameters&gt;
 4620       &lt;errors&gt;
 4621         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 4622           &lt;paramlink id=&quot;klass&quot;/&gt; is not a valid class.
 4623         &lt;/error&gt;
 4624         &lt;error id=&quot;JVMTI_ERROR_INVALID_OBJECT&quot;&gt;
 4625           &lt;paramlink id=&quot;initial_object&quot;/&gt; is not a valid object.
 4626         &lt;/error&gt;
 4627       &lt;/errors&gt;
 4628     &lt;/function&gt;
 4629 
 4630 
 4631     &lt;function id=&quot;IterateThroughHeap&quot; num=&quot;116&quot; since=&quot;1.1&quot;&gt;
 4632       &lt;synopsis&gt;Iterate Through Heap&lt;/synopsis&gt;
 4633       &lt;description&gt;
 4634         Initiate an iteration over all objects in the heap.
 4635         This includes both reachable and
 4636         unreachable objects. Objects are visited in no particular order.
 4637         &lt;p/&gt;
 4638         Heap objects are reported by invoking the agent supplied
 4639         callback function &lt;functionlink id=&quot;jvmtiHeapIterationCallback&quot;/&gt;.
 4640         References between objects are not reported.
 4641         If only reachable objects are desired, or if object reference information
 4642         is needed, use &lt;functionlink id=&quot;FollowReferences&quot;/&gt;.
 4643         &lt;p/&gt;
 4644         This function can also be used to examine primitive (non-object) values.
 4645         The primitive value of an array or String
 4646         is reported after the object has been visited;
 4647         it is reported by invoking the agent supplied callback function
 4648         &lt;functionlink id=&quot;jvmtiArrayPrimitiveValueCallback&quot;/&gt; or
 4649         &lt;functionlink id=&quot;jvmtiStringPrimitiveValueCallback&quot;/&gt;.
 4650         A primitive field
 4651         is reported after the object with that field is visited;
 4652         it is reported by invoking the agent supplied
 4653         callback function
 4654         &lt;functionlink id=&quot;jvmtiPrimitiveFieldCallback&quot;/&gt;.
 4655         &lt;p/&gt;
 4656         Unless the iteration is aborted by the
 4657         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;Heap Visit Control Flags&lt;/datalink&gt;
 4658         returned by a callback, all objects in the heap are visited.
 4659         Whether a callback is provided or is &lt;code&gt;NULL&lt;/code&gt; only determines
 4660         whether the callback will be invoked, it does not influence
 4661         which objects are visited nor does it influence whether other callbacks
 4662         will be invoked.
 4663         The &lt;datalink id=&quot;jvmtiHeapFilter&quot;&gt;heap filter flags&lt;/datalink&gt;
 4664         and &lt;paramlink id=&quot;klass&quot;/&gt; provided as parameters to this function
 4665         do not control which objects are visited but they do control which
 4666         objects and primitive values are reported by the callbacks.
 4667         For example, if the only callback that was set is
 4668         &lt;fieldlink id=&quot;array_primitive_value_callback&quot; struct=&quot;jvmtiHeapCallbacks&quot;/&gt; and &lt;code&gt;klass&lt;/code&gt;
 4669         is set to the array of bytes class, then only arrays of byte will be
 4670         reported. The table below summarizes this (contrast this with
 4671         &lt;functionlink id=&quot;FollowReferences&quot;/&gt;):
 4672         &lt;p/&gt;
 4673         &lt;table&gt;
 4674           &lt;tr class=&quot;bgLight&quot;&gt;
 4675             &lt;th/&gt;
 4676             &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Controls objects visited&lt;/th&gt;
 4677             &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Controls objects reported&lt;/th&gt;
 4678             &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Controls primitives reported&lt;/th&gt;
 4679           &lt;/tr&gt;
 4680           &lt;tr&gt;
 4681             &lt;th scope=&quot;row&quot;&gt;
 4682               the
 4683               &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;Heap Visit Control Flags&lt;/datalink&gt;
 4684               returned by &lt;functionlink id=&quot;jvmtiHeapIterationCallback&quot;/&gt;
 4685             &lt;/th&gt;
 4686             &lt;td class=&quot;centered&quot;&gt;
 4687               No&lt;br/&gt;(unless they abort the iteration)
 4688             &lt;/td&gt;
 4689             &lt;td class=&quot;centered&quot;&gt;
 4690               No&lt;br/&gt;(unless they abort the iteration)
 4691             &lt;/td&gt;
 4692             &lt;td class=&quot;centered&quot;&gt;
 4693               No&lt;br/&gt;(unless they abort the iteration)
 4694             &lt;/td&gt;
 4695           &lt;/tr&gt;
 4696           &lt;tr&gt;
 4697             &lt;th scope=&quot;row&quot;&gt;
 4698               &lt;fieldlink id=&quot;array_primitive_value_callback&quot; struct=&quot;jvmtiHeapCallbacks&quot;/&gt;
 4699               in &lt;paramlink id=&quot;callbacks&quot;/&gt; set
 4700             &lt;/th&gt;
 4701             &lt;td class=&quot;centered&quot;&gt;
 4702               No
 4703             &lt;/td&gt;
 4704             &lt;td class=&quot;centered&quot;&gt;
 4705               &lt;b&gt;Yes&lt;/b&gt;
 4706             &lt;/td&gt;
 4707             &lt;td class=&quot;centered&quot;&gt;
 4708               No
 4709             &lt;/td&gt;
 4710           &lt;/tr&gt;
 4711           &lt;tr&gt;
 4712             &lt;th scope=&quot;row&quot;&gt;
 4713               &lt;paramlink id=&quot;heap_filter&quot;/&gt;
 4714             &lt;/th&gt;
 4715             &lt;td class=&quot;centered&quot;&gt;
 4716               No
 4717             &lt;/td&gt;
 4718             &lt;td class=&quot;centered&quot;&gt;
 4719               &lt;b&gt;Yes&lt;/b&gt;
 4720             &lt;/td&gt;
 4721             &lt;td class=&quot;centered&quot;&gt;
 4722               &lt;b&gt;Yes&lt;/b&gt;
 4723             &lt;/td&gt;
 4724           &lt;/tr&gt;
 4725           &lt;tr&gt;
 4726             &lt;th scope=&quot;row&quot;&gt;
 4727               &lt;paramlink id=&quot;klass&quot;/&gt;
 4728             &lt;/th&gt;
 4729             &lt;td class=&quot;centered&quot;&gt;
 4730               No
 4731             &lt;/td&gt;
 4732             &lt;td class=&quot;centered&quot;&gt;
 4733               &lt;b&gt;Yes&lt;/b&gt;
 4734             &lt;/td&gt;
 4735             &lt;td class=&quot;centered&quot;&gt;
 4736               &lt;b&gt;Yes&lt;/b&gt;
 4737             &lt;/td&gt;
 4738           &lt;/tr&gt;
 4739         &lt;/table&gt;
 4740         &lt;p/&gt;
 4741         During the execution of this function the state of the heap
 4742         does not change: no objects are allocated, no objects are
 4743         garbage collected, and the state of objects (including
 4744         held values) does not change.
 4745         As a result, threads executing Java
 4746         programming language code, threads attempting to resume the
 4747         execution of Java programming language code, and threads
 4748         attempting to execute JNI functions are typically stalled.
 4749       &lt;/description&gt;
 4750       &lt;origin&gt;new&lt;/origin&gt;
 4751       &lt;capabilities&gt;
 4752         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4753       &lt;/capabilities&gt;
 4754       &lt;parameters&gt;
 4755         &lt;param id=&quot;heap_filter&quot;&gt;
 4756           &lt;jint/&gt;
 4757           &lt;description&gt;
 4758             This bit vector of
 4759             &lt;datalink id=&quot;jvmtiHeapFilter&quot;&gt;heap filter flags&lt;/datalink&gt;.
 4760             restricts the objects for which the callback function is called.
 4761             This applies to both the object and primitive callbacks.
 4762           &lt;/description&gt;
 4763         &lt;/param&gt;
 4764         &lt;param id=&quot;klass&quot;&gt;
 4765           &lt;ptrtype&gt;
 4766             &lt;jclass/&gt;
 4767             &lt;nullok&gt;callbacks are not limited to instances of a particular class&lt;/nullok&gt;
 4768           &lt;/ptrtype&gt;
 4769           &lt;description&gt;
 4770             Callbacks are only reported when the object is an instance of
 4771             this class.
 4772             Objects which are instances of a subclass of &lt;code&gt;klass&lt;/code&gt;
 4773             are not reported.
 4774             If &lt;code&gt;klass&lt;/code&gt; is an interface, no objects are reported.
 4775             This applies to both the object and primitive callbacks.
 4776           &lt;/description&gt;
 4777         &lt;/param&gt;
 4778         &lt;param id=&quot;callbacks&quot;&gt;
 4779           &lt;inptr&gt;
 4780             &lt;struct&gt;jvmtiHeapCallbacks&lt;/struct&gt;
 4781           &lt;/inptr&gt;
 4782           &lt;description&gt;
 4783             Structure defining the set callback functions.
 4784           &lt;/description&gt;
 4785         &lt;/param&gt;
 4786         &lt;param id=&quot;user_data&quot;&gt;
 4787           &lt;inbuf&gt;
 4788             &lt;void/&gt;
 4789             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 4790           &lt;/inbuf&gt;
 4791           &lt;description&gt;
 4792             User supplied data to be passed to the callback.
 4793           &lt;/description&gt;
 4794         &lt;/param&gt;
 4795       &lt;/parameters&gt;
 4796       &lt;errors&gt;
 4797         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 4798           &lt;paramlink id=&quot;klass&quot;/&gt; is not a valid class.
 4799         &lt;/error&gt;
 4800       &lt;/errors&gt;
 4801     &lt;/function&gt;
 4802 
 4803     &lt;function id=&quot;GetTag&quot; phase=&quot;start&quot; num=&quot;106&quot;&gt;
 4804       &lt;synopsis&gt;Get Tag&lt;/synopsis&gt;
 4805       &lt;description&gt;
 4806         Retrieve the tag associated with an object.
 4807         The tag is a long value typically used to store a
 4808         unique identifier or pointer to object information.
 4809         The tag is set with
 4810         &lt;functionlink id=&quot;SetTag&quot;&gt;&lt;/functionlink&gt;.
 4811         Objects for which no tags have been set return a
 4812         tag value of zero.
 4813       &lt;/description&gt;
 4814       &lt;origin&gt;new&lt;/origin&gt;
 4815       &lt;capabilities&gt;
 4816         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4817       &lt;/capabilities&gt;
 4818       &lt;parameters&gt;
 4819         &lt;param id=&quot;object&quot;&gt;
 4820           &lt;jobject/&gt;
 4821             &lt;description&gt;
 4822               The object whose tag is to be retrieved.
 4823             &lt;/description&gt;
 4824         &lt;/param&gt;
 4825         &lt;param id=&quot;tag_ptr&quot;&gt;
 4826           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4827           &lt;description&gt;
 4828             On return, the referenced long is set to the value
 4829             of the tag.
 4830           &lt;/description&gt;
 4831         &lt;/param&gt;
 4832       &lt;/parameters&gt;
 4833       &lt;errors&gt;
 4834       &lt;/errors&gt;
 4835     &lt;/function&gt;
 4836 
 4837     &lt;function id=&quot;SetTag&quot; phase=&quot;start&quot; num=&quot;107&quot;&gt;
 4838       &lt;synopsis&gt;Set Tag&lt;/synopsis&gt;
 4839       &lt;description&gt;
 4840         Set the tag associated with an object.
 4841         The tag is a long value typically used to store a
 4842         unique identifier or pointer to object information.
 4843         The tag is visible with
 4844         &lt;functionlink id=&quot;GetTag&quot;&gt;&lt;/functionlink&gt;.
 4845       &lt;/description&gt;
 4846       &lt;origin&gt;new&lt;/origin&gt;
 4847       &lt;capabilities&gt;
 4848         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4849       &lt;/capabilities&gt;
 4850       &lt;parameters&gt;
 4851         &lt;param id=&quot;object&quot;&gt;
 4852           &lt;jobject/&gt;
 4853             &lt;description&gt;
 4854               The object whose tag is to be set.
 4855             &lt;/description&gt;
 4856         &lt;/param&gt;
 4857         &lt;param id=&quot;tag&quot;&gt;
 4858           &lt;jlong/&gt;
 4859           &lt;description&gt;
 4860             The new value of the tag.
 4861           &lt;/description&gt;
 4862         &lt;/param&gt;
 4863       &lt;/parameters&gt;
 4864       &lt;errors&gt;
 4865       &lt;/errors&gt;
 4866     &lt;/function&gt;
 4867 
 4868     &lt;function id=&quot;GetObjectsWithTags&quot; num=&quot;114&quot;&gt;
 4869       &lt;synopsis&gt;Get Objects With Tags&lt;/synopsis&gt;
 4870       &lt;description&gt;
 4871         Return objects in the heap with the specified tags.
 4872         The format is parallel arrays of objects and tags.
 4873       &lt;/description&gt;
 4874       &lt;origin&gt;new&lt;/origin&gt;
 4875       &lt;capabilities&gt;
 4876         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4877       &lt;/capabilities&gt;
 4878       &lt;parameters&gt;
 4879         &lt;param id=&quot;tag_count&quot;&gt;
 4880           &lt;jint min=&quot;0&quot;/&gt;
 4881             &lt;description&gt;
 4882               Number of tags to scan for.
 4883             &lt;/description&gt;
 4884         &lt;/param&gt;
 4885         &lt;param id=&quot;tags&quot;&gt;
 4886           &lt;inbuf incount=&quot;tag_count&quot;&gt;
 4887             &lt;jlong/&gt;
 4888           &lt;/inbuf&gt;
 4889             &lt;description&gt;
 4890               Scan for objects with these tags.
 4891               Zero is not permitted in this array.
 4892             &lt;/description&gt;
 4893         &lt;/param&gt;
 4894         &lt;param id=&quot;count_ptr&quot;&gt;
 4895           &lt;outptr&gt;
 4896             &lt;jint/&gt;
 4897           &lt;/outptr&gt;
 4898             &lt;description&gt;
 4899               Return the number of objects with any of the tags
 4900               in &lt;paramlink id=&quot;tags&quot;/&gt;.
 4901             &lt;/description&gt;
 4902         &lt;/param&gt;
 4903         &lt;param id=&quot;object_result_ptr&quot;&gt;
 4904           &lt;allocbuf outcount=&quot;count_ptr&quot;&gt;
 4905             &lt;jobject/&gt;
 4906             &lt;nullok&gt;this information is not returned&lt;/nullok&gt;
 4907           &lt;/allocbuf&gt;
 4908             &lt;description&gt;
 4909               Returns the array of objects with any of the tags
 4910               in &lt;paramlink id=&quot;tags&quot;/&gt;.
 4911             &lt;/description&gt;
 4912         &lt;/param&gt;
 4913         &lt;param id=&quot;tag_result_ptr&quot;&gt;
 4914           &lt;allocbuf outcount=&quot;count_ptr&quot;&gt;
 4915             &lt;jlong/&gt;
 4916             &lt;nullok&gt;this information is not returned&lt;/nullok&gt;
 4917           &lt;/allocbuf&gt;
 4918             &lt;description&gt;
 4919               For each object in &lt;paramlink id=&quot;object_result_ptr&quot;/&gt;,
 4920               return the tag at the corresponding index.
 4921             &lt;/description&gt;
 4922         &lt;/param&gt;
 4923       &lt;/parameters&gt;
 4924       &lt;errors&gt;
 4925         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 4926           Zero is present in &lt;paramlink id=&quot;tags&quot;&gt;&lt;/paramlink&gt;.
 4927         &lt;/error&gt;
 4928       &lt;/errors&gt;
 4929     &lt;/function&gt;
 4930 
 4931     &lt;function id=&quot;ForceGarbageCollection&quot; num=&quot;108&quot;&gt;
 4932       &lt;synopsis&gt;Force Garbage Collection&lt;/synopsis&gt;
 4933       &lt;description&gt;
 4934         Force the VM to perform a garbage collection.
 4935         The garbage collection is as complete as possible.
 4936         This function does not cause finalizers to be run.
 4937         This function does not return until the garbage collection
 4938         is finished.
 4939         &lt;p/&gt;
 4940         Although garbage collection is as complete
 4941         as possible there is no guarantee that all
 4942         &lt;eventlink id=&quot;ObjectFree&quot;/&gt;
 4943         events will have been
 4944         sent by the time that this function
 4945         returns. In particular, an object may be
 4946         prevented from being freed because it
 4947         is awaiting finalization.
 4948       &lt;/description&gt;
 4949       &lt;origin&gt;new&lt;/origin&gt;
 4950       &lt;capabilities&gt;
 4951       &lt;/capabilities&gt;
 4952       &lt;parameters&gt;
 4953       &lt;/parameters&gt;
 4954       &lt;errors&gt;
 4955       &lt;/errors&gt;
 4956     &lt;/function&gt;
 4957 
 4958 
 4959   &lt;/category&gt;
 4960 
 4961   &lt;category id=&quot;Heap_1_0&quot; label=&quot;Heap (1.0)&quot;&gt;
 4962     &lt;intro&gt;
 4963       &lt;b&gt;
 4964         These functions and data types were introduced in the original
 4965         &lt;jvmti/&gt; version 1.0 and have been superseded by more
 4966       &lt;/b&gt;
 4967       &lt;internallink id=&quot;Heap&quot;&gt;&lt;b&gt;powerful and flexible versions&lt;/b&gt;&lt;/internallink&gt;
 4968       &lt;b&gt;
 4969         which:
 4970       &lt;/b&gt;
 4971       &lt;ul&gt;
 4972         &lt;li&gt;
 4973           &lt;b&gt;
 4974             Allow access to primitive values (the value of Strings, arrays,
 4975             and primitive fields)
 4976           &lt;/b&gt;
 4977         &lt;/li&gt;
 4978         &lt;li&gt;
 4979           &lt;b&gt;
 4980             Allow the tag of the referrer to be set, thus enabling more
 4981             efficient localized reference graph building
 4982           &lt;/b&gt;
 4983         &lt;/li&gt;
 4984         &lt;li&gt;
 4985           &lt;b&gt;
 4986             Provide more extensive filtering abilities
 4987           &lt;/b&gt;
 4988         &lt;/li&gt;
 4989         &lt;li&gt;
 4990           &lt;b&gt;
 4991             Are extensible, allowing their abilities to grow in future versions of &lt;jvmti/&gt;
 4992           &lt;/b&gt;
 4993         &lt;/li&gt;
 4994       &lt;/ul&gt;
 4995       &lt;p/&gt;
 4996       &lt;b&gt;Please use the &lt;/b&gt;
 4997       &lt;internallink id=&quot;Heap&quot;&gt;&lt;b&gt;current Heap functions&lt;/b&gt;&lt;/internallink&gt;.
 4998         &lt;p/&gt;
 4999         &lt;constants id=&quot;jvmtiHeapObjectFilter&quot; label=&quot;Heap Object Filter Enumeration&quot; kind=&quot;enum&quot;&gt;
 5000           &lt;constant id=&quot;JVMTI_HEAP_OBJECT_TAGGED&quot; num=&quot;1&quot;&gt;
 5001             Tagged objects only.
 5002           &lt;/constant&gt;
 5003           &lt;constant id=&quot;JVMTI_HEAP_OBJECT_UNTAGGED&quot; num=&quot;2&quot;&gt;
 5004             Untagged objects only.
 5005           &lt;/constant&gt;
 5006           &lt;constant id=&quot;JVMTI_HEAP_OBJECT_EITHER&quot; num=&quot;3&quot;&gt;
 5007             Either tagged or untagged objects.
 5008           &lt;/constant&gt;
 5009         &lt;/constants&gt;
 5010 
 5011         &lt;constants id=&quot;jvmtiHeapRootKind&quot; label=&quot;Heap Root Kind Enumeration&quot; kind=&quot;enum&quot;&gt;
 5012           &lt;constant id=&quot;JVMTI_HEAP_ROOT_JNI_GLOBAL&quot; num=&quot;1&quot;&gt;
 5013             JNI global reference.
 5014           &lt;/constant&gt;
 5015           &lt;constant id=&quot;JVMTI_HEAP_ROOT_SYSTEM_CLASS&quot; num=&quot;2&quot;&gt;
 5016             System class.
 5017           &lt;/constant&gt;
 5018           &lt;constant id=&quot;JVMTI_HEAP_ROOT_MONITOR&quot; num=&quot;3&quot;&gt;
 5019             Monitor.
 5020           &lt;/constant&gt;
 5021           &lt;constant id=&quot;JVMTI_HEAP_ROOT_STACK_LOCAL&quot; num=&quot;4&quot;&gt;
 5022             Stack local.
 5023           &lt;/constant&gt;
 5024           &lt;constant id=&quot;JVMTI_HEAP_ROOT_JNI_LOCAL&quot; num=&quot;5&quot;&gt;
 5025             JNI local reference.
 5026           &lt;/constant&gt;
 5027           &lt;constant id=&quot;JVMTI_HEAP_ROOT_THREAD&quot; num=&quot;6&quot;&gt;
 5028             Thread.
 5029           &lt;/constant&gt;
 5030           &lt;constant id=&quot;JVMTI_HEAP_ROOT_OTHER&quot; num=&quot;7&quot;&gt;
 5031             Other.
 5032           &lt;/constant&gt;
 5033         &lt;/constants&gt;
 5034 
 5035         &lt;constants id=&quot;jvmtiObjectReferenceKind&quot; label=&quot;Object Reference Enumeration&quot; kind=&quot;enum&quot;&gt;
 5036           &lt;constant id=&quot;JVMTI_REFERENCE_CLASS&quot; num=&quot;1&quot;&gt;
 5037             Reference from an object to its class.
 5038           &lt;/constant&gt;
 5039           &lt;constant id=&quot;JVMTI_REFERENCE_FIELD&quot; num=&quot;2&quot;&gt;
 5040             Reference from an object to the value of one of its instance fields.
 5041             For references of this kind the &lt;code&gt;referrer_index&lt;/code&gt;
 5042             parameter to the &lt;internallink id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5043             jvmtiObjectReferenceCallback&lt;/internallink&gt; is the index of the
 5044             the instance field. The index is based on the order of all the
 5045             object&#39;s fields. This includes all fields of the directly declared
 5046             static and instance fields in the class, and includes all fields (both
 5047             public and private) fields declared in superclasses and superinterfaces.
 5048             The index is thus calculated by summing the index of the field in the directly
 5049             declared class (see &lt;functionlink id=&quot;GetClassFields&quot;/&gt;), with the total
 5050             number of fields (both public and private) declared in all superclasses
 5051             and superinterfaces. The index starts at zero.
 5052           &lt;/constant&gt;
 5053           &lt;constant id=&quot;JVMTI_REFERENCE_ARRAY_ELEMENT&quot; num=&quot;3&quot;&gt;
 5054             Reference from an array to one of its elements.
 5055             For references of this kind the &lt;code&gt;referrer_index&lt;/code&gt;
 5056             parameter to the &lt;internallink id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5057             jvmtiObjectReferenceCallback&lt;/internallink&gt; is the array index.
 5058           &lt;/constant&gt;
 5059           &lt;constant id=&quot;JVMTI_REFERENCE_CLASS_LOADER&quot; num=&quot;4&quot;&gt;
 5060             Reference from a class to its class loader.
 5061           &lt;/constant&gt;
 5062           &lt;constant id=&quot;JVMTI_REFERENCE_SIGNERS&quot; num=&quot;5&quot;&gt;
 5063             Reference from a class to its signers array.
 5064           &lt;/constant&gt;
 5065           &lt;constant id=&quot;JVMTI_REFERENCE_PROTECTION_DOMAIN&quot; num=&quot;6&quot;&gt;
 5066             Reference from a class to its protection domain.
 5067           &lt;/constant&gt;
 5068           &lt;constant id=&quot;JVMTI_REFERENCE_INTERFACE&quot; num=&quot;7&quot;&gt;
 5069             Reference from a class to one of its interfaces.
 5070           &lt;/constant&gt;
 5071           &lt;constant id=&quot;JVMTI_REFERENCE_STATIC_FIELD&quot; num=&quot;8&quot;&gt;
 5072             Reference from a class to the value of one of its static fields.
 5073             For references of this kind the &lt;code&gt;referrer_index&lt;/code&gt;
 5074             parameter to the &lt;internallink id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5075             jvmtiObjectReferenceCallback&lt;/internallink&gt; is the index of the
 5076             the static field. The index is based on the order of all the
 5077             object&#39;s fields. This includes all fields of the directly declared
 5078             static and instance fields in the class, and includes all fields (both
 5079             public and private) fields declared in superclasses and superinterfaces.
 5080             The index is thus calculated by summing the index of the field in the directly
 5081             declared class (see &lt;functionlink id=&quot;GetClassFields&quot;/&gt;), with the total
 5082             number of fields (both public and private) declared in all superclasses
 5083             and superinterfaces. The index starts at zero.
 5084             Note: this definition differs from that in the &lt;jvmti/&gt; 1.0 Specification.
 5085             &lt;rationale&gt;No known implementations used the 1.0 definition.&lt;/rationale&gt;
 5086           &lt;/constant&gt;
 5087           &lt;constant id=&quot;JVMTI_REFERENCE_CONSTANT_POOL&quot; num=&quot;9&quot;&gt;
 5088             Reference from a class to a resolved entry in the constant pool.
 5089             For references of this kind the &lt;code&gt;referrer_index&lt;/code&gt;
 5090             parameter to the &lt;internallink id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5091             jvmtiObjectReferenceCallback&lt;/internallink&gt; is the index into
 5092             constant pool table of the class, starting at 1. See
 5093             &lt;vmspec chapter=&quot;4.4&quot;/&gt;.
 5094           &lt;/constant&gt;
 5095         &lt;/constants&gt;
 5096 
 5097         &lt;constants id=&quot;jvmtiIterationControl&quot; label=&quot;Iteration Control Enumeration&quot; kind=&quot;enum&quot;&gt;
 5098           &lt;constant id=&quot;JVMTI_ITERATION_CONTINUE&quot; num=&quot;1&quot;&gt;
 5099             Continue the iteration.
 5100             If this is a reference iteration, follow the references of this object.
 5101           &lt;/constant&gt;
 5102           &lt;constant id=&quot;JVMTI_ITERATION_IGNORE&quot; num=&quot;2&quot;&gt;
 5103             Continue the iteration.
 5104             If this is a reference iteration, ignore the references of this object.
 5105           &lt;/constant&gt;
 5106           &lt;constant id=&quot;JVMTI_ITERATION_ABORT&quot; num=&quot;0&quot;&gt;
 5107             Abort the iteration.
 5108           &lt;/constant&gt;
 5109         &lt;/constants&gt;
 5110     &lt;/intro&gt;
 5111 
 5112     &lt;callback id=&quot;jvmtiHeapObjectCallback&quot;&gt;
 5113       &lt;enum&gt;jvmtiIterationControl&lt;/enum&gt;
 5114       &lt;synopsis&gt;Heap Object Callback&lt;/synopsis&gt;
 5115       &lt;description&gt;
 5116         Agent supplied callback function.
 5117         Describes (but does not pass in) an object in the heap.
 5118         &lt;p/&gt;
 5119         Return value should be &lt;code&gt;JVMTI_ITERATION_CONTINUE&lt;/code&gt; to continue iteration,
 5120         or &lt;code&gt;JVMTI_ITERATION_ABORT&lt;/code&gt; to stop iteration.
 5121         &lt;p/&gt;
 5122         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 5123         function restrictions&lt;/internallink&gt;.
 5124       &lt;/description&gt;
 5125       &lt;parameters&gt;
 5126         &lt;param id=&quot;class_tag&quot;&gt;
 5127           &lt;jlong/&gt;
 5128           &lt;description&gt;
 5129             The tag of the class of object (zero if the class is not tagged).
 5130             If the object represents a runtime class,
 5131             the &lt;code&gt;class_tag&lt;/code&gt; is the tag
 5132             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 5133             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 5134           &lt;/description&gt;
 5135         &lt;/param&gt;
 5136         &lt;param id=&quot;size&quot;&gt;
 5137           &lt;jlong/&gt;
 5138           &lt;description&gt;
 5139             Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 5140           &lt;/description&gt;
 5141         &lt;/param&gt;
 5142         &lt;param id=&quot;tag_ptr&quot;&gt;
 5143           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5144           &lt;description&gt;
 5145             The object tag value, or zero if the object is not tagged.
 5146             To set the tag value to be associated with the object
 5147             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 5148           &lt;/description&gt;
 5149         &lt;/param&gt;
 5150         &lt;param id=&quot;user_data&quot;&gt;
 5151           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 5152           &lt;description&gt;
 5153             The user supplied data that was passed into the iteration function.
 5154           &lt;/description&gt;
 5155         &lt;/param&gt;
 5156       &lt;/parameters&gt;
 5157     &lt;/callback&gt;
 5158 
 5159     &lt;callback id=&quot;jvmtiHeapRootCallback&quot;&gt;
 5160       &lt;enum&gt;jvmtiIterationControl&lt;/enum&gt;
 5161       &lt;synopsis&gt;Heap Root Object Callback&lt;/synopsis&gt;
 5162       &lt;description&gt;
 5163         Agent supplied callback function.
 5164         Describes (but does not pass in) an object that is a root for the purposes
 5165         of garbage collection.
 5166         &lt;p/&gt;
 5167         Return value should be &lt;code&gt;JVMTI_ITERATION_CONTINUE&lt;/code&gt; to continue iteration,
 5168         &lt;code&gt;JVMTI_ITERATION_IGNORE&lt;/code&gt; to continue iteration without pursuing
 5169         references from referree object or &lt;code&gt;JVMTI_ITERATION_ABORT&lt;/code&gt; to stop iteration.
 5170         &lt;p/&gt;
 5171         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 5172         function restrictions&lt;/internallink&gt;.
 5173       &lt;/description&gt;
 5174       &lt;parameters&gt;
 5175         &lt;param id=&quot;root_kind&quot;&gt;
 5176           &lt;enum&gt;jvmtiHeapRootKind&lt;/enum&gt;
 5177           &lt;description&gt;
 5178             The kind of heap root.
 5179           &lt;/description&gt;
 5180         &lt;/param&gt;
 5181         &lt;param id=&quot;class_tag&quot;&gt;
 5182           &lt;jlong/&gt;
 5183           &lt;description&gt;
 5184             The tag of the class of object (zero if the class is not tagged).
 5185             If the object represents a runtime class, the &lt;code&gt;class_tag&lt;/code&gt; is the tag
 5186             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 5187             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 5188           &lt;/description&gt;
 5189         &lt;/param&gt;
 5190         &lt;param id=&quot;size&quot;&gt;
 5191           &lt;jlong/&gt;
 5192           &lt;description&gt;
 5193             Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 5194           &lt;/description&gt;
 5195         &lt;/param&gt;
 5196         &lt;param id=&quot;tag_ptr&quot;&gt;
 5197           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5198           &lt;description&gt;
 5199             The object tag value, or zero if the object is not tagged.
 5200             To set the tag value to be associated with the object
 5201             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 5202           &lt;/description&gt;
 5203         &lt;/param&gt;
 5204         &lt;param id=&quot;user_data&quot;&gt;
 5205           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 5206           &lt;description&gt;
 5207             The user supplied data that was passed into the iteration function.
 5208           &lt;/description&gt;
 5209         &lt;/param&gt;
 5210       &lt;/parameters&gt;
 5211     &lt;/callback&gt;
 5212 
 5213     &lt;callback id=&quot;jvmtiStackReferenceCallback&quot;&gt;
 5214       &lt;enum&gt;jvmtiIterationControl&lt;/enum&gt;
 5215       &lt;synopsis&gt;Stack Reference Object Callback&lt;/synopsis&gt;
 5216       &lt;description&gt;
 5217         Agent supplied callback function.
 5218         Describes (but does not pass in) an object on the stack that is a root for
 5219         the purposes of garbage collection.
 5220         &lt;p/&gt;
 5221         Return value should be &lt;code&gt;JVMTI_ITERATION_CONTINUE&lt;/code&gt; to continue iteration,
 5222         &lt;code&gt;JVMTI_ITERATION_IGNORE&lt;/code&gt; to continue iteration without pursuing
 5223         references from referree object or &lt;code&gt;JVMTI_ITERATION_ABORT&lt;/code&gt; to stop iteration.
 5224         &lt;p/&gt;
 5225         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 5226         function restrictions&lt;/internallink&gt;.
 5227       &lt;/description&gt;
 5228       &lt;parameters&gt;
 5229         &lt;param id=&quot;root_kind&quot;&gt;
 5230           &lt;enum&gt;jvmtiHeapRootKind&lt;/enum&gt;
 5231           &lt;description&gt;
 5232             The kind of root (either &lt;code&gt;JVMTI_HEAP_ROOT_STACK_LOCAL&lt;/code&gt; or
 5233             &lt;code&gt;JVMTI_HEAP_ROOT_JNI_LOCAL&lt;/code&gt;).
 5234           &lt;/description&gt;
 5235         &lt;/param&gt;
 5236         &lt;param id=&quot;class_tag&quot;&gt;
 5237           &lt;jlong/&gt;
 5238           &lt;description&gt;
 5239            The tag of the class of object (zero if the class is not tagged).
 5240            If the object represents a runtime class, the  &lt;code&gt;class_tag&lt;/code&gt; is the tag
 5241            associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 5242            (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 5243           &lt;/description&gt;
 5244         &lt;/param&gt;
 5245         &lt;param id=&quot;size&quot;&gt;
 5246           &lt;jlong/&gt;
 5247           &lt;description&gt;
 5248             Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 5249           &lt;/description&gt;
 5250         &lt;/param&gt;
 5251         &lt;param id=&quot;tag_ptr&quot;&gt;
 5252           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5253           &lt;description&gt;
 5254             The object tag value, or zero if the object is not tagged.
 5255             To set the tag value to be associated with the object
 5256             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 5257           &lt;/description&gt;
 5258         &lt;/param&gt;
 5259         &lt;param id=&quot;thread_tag&quot;&gt;
 5260           &lt;jlong/&gt;
 5261           &lt;description&gt;
 5262             The tag of the thread corresponding to this stack, zero if not tagged.
 5263           &lt;/description&gt;
 5264         &lt;/param&gt;
 5265         &lt;param id=&quot;depth&quot;&gt;
 5266           &lt;jint/&gt;
 5267           &lt;description&gt;
 5268             The depth of the frame.
 5269           &lt;/description&gt;
 5270         &lt;/param&gt;
 5271         &lt;param id=&quot;method&quot;&gt;
 5272           &lt;jmethodID/&gt;
 5273           &lt;description&gt;
 5274             The method executing in this frame.
 5275           &lt;/description&gt;
 5276         &lt;/param&gt;
 5277         &lt;param id=&quot;slot&quot;&gt;
 5278           &lt;jint/&gt;
 5279           &lt;description&gt;
 5280             The slot number.
 5281           &lt;/description&gt;
 5282         &lt;/param&gt;
 5283         &lt;param id=&quot;user_data&quot;&gt;
 5284           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 5285           &lt;description&gt;
 5286             The user supplied data that was passed into the iteration function.
 5287           &lt;/description&gt;
 5288         &lt;/param&gt;
 5289       &lt;/parameters&gt;
 5290     &lt;/callback&gt;
 5291 
 5292     &lt;callback id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5293       &lt;enum&gt;jvmtiIterationControl&lt;/enum&gt;
 5294       &lt;synopsis&gt;Object Reference Callback&lt;/synopsis&gt;
 5295       &lt;description&gt;
 5296         Agent supplied callback function.
 5297         Describes a reference from an object (the referrer) to another object
 5298         (the referree).
 5299         &lt;p/&gt;
 5300         Return value should be &lt;code&gt;JVMTI_ITERATION_CONTINUE&lt;/code&gt; to continue iteration,
 5301         &lt;code&gt;JVMTI_ITERATION_IGNORE&lt;/code&gt; to continue iteration without pursuing
 5302         references from referree object or &lt;code&gt;JVMTI_ITERATION_ABORT&lt;/code&gt; to stop iteration.
 5303         &lt;p/&gt;
 5304         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 5305         function restrictions&lt;/internallink&gt;.
 5306       &lt;/description&gt;
 5307       &lt;parameters&gt;
 5308         &lt;param id=&quot;reference_kind&quot;&gt;
 5309           &lt;enum&gt;jvmtiObjectReferenceKind&lt;/enum&gt;
 5310           &lt;description&gt;
 5311             The type of reference.
 5312           &lt;/description&gt;
 5313         &lt;/param&gt;
 5314         &lt;param id=&quot;class_tag&quot;&gt;
 5315           &lt;jlong/&gt;
 5316           &lt;description&gt;
 5317             The tag of the class of referree object (zero if the class is not tagged).
 5318             If the referree object represents a runtime class,
 5319             the  &lt;code&gt;class_tag&lt;/code&gt; is the tag
 5320             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 5321             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 5322           &lt;/description&gt;
 5323         &lt;/param&gt;
 5324         &lt;param id=&quot;size&quot;&gt;
 5325           &lt;jlong/&gt;
 5326           &lt;description&gt;
 5327             Size of the referree object (in bytes).
 5328             See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 5329           &lt;/description&gt;
 5330         &lt;/param&gt;
 5331         &lt;param id=&quot;tag_ptr&quot;&gt;
 5332           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5333           &lt;description&gt;
 5334             The referree object tag value, or zero if the object is not
 5335             tagged.
 5336             To set the tag value to be associated with the object
 5337             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 5338           &lt;/description&gt;
 5339         &lt;/param&gt;
 5340         &lt;param id=&quot;referrer_tag&quot;&gt;
 5341           &lt;jlong/&gt;
 5342           &lt;description&gt;
 5343             The tag of the referrer object, or zero if the referrer
 5344             object is not tagged.
 5345           &lt;/description&gt;
 5346         &lt;/param&gt;
 5347         &lt;param id=&quot;referrer_index&quot;&gt;
 5348           &lt;jint/&gt;
 5349           &lt;description&gt;
 5350             For references of type &lt;code&gt;JVMTI_REFERENCE_FIELD&lt;/code&gt; or
 5351             &lt;code&gt;JVMTI_REFERENCE_STATIC_FIELD&lt;/code&gt; the index
 5352             of the field in the referrer object. The index is based on the
 5353             order of all the object&#39;s fields - see &lt;internallink
 5354             id=&quot;JVMTI_REFERENCE_FIELD&quot;&gt;JVMTI_REFERENCE_FIELD&lt;/internallink&gt;
 5355             or &lt;internallink
 5356             id=&quot;JVMTI_REFERENCE_STATIC_FIELD&quot;&gt;JVMTI_REFERENCE_STATIC_FIELD
 5357             &lt;/internallink&gt; for further description.
 5358             &lt;p/&gt;
 5359             For references of type &lt;code&gt;JVMTI_REFERENCE_ARRAY_ELEMENT&lt;/code&gt;
 5360             the array index - see &lt;internallink id=&quot;JVMTI_REFERENCE_ARRAY_ELEMENT&quot;&gt;
 5361             JVMTI_REFERENCE_ARRAY_ELEMENT&lt;/internallink&gt; for further description.
 5362             &lt;p/&gt;
 5363             For references of type &lt;code&gt;JVMTI_REFERENCE_CONSTANT_POOL&lt;/code&gt;
 5364             the index into the constant pool of the class - see
 5365             &lt;internallink id=&quot;JVMTI_REFERENCE_CONSTANT_POOL&quot;&gt;
 5366             JVMTI_REFERENCE_CONSTANT_POOL&lt;/internallink&gt; for further
 5367             description.
 5368             &lt;p/&gt;
 5369             For references of other kinds the &lt;code&gt;referrer_index&lt;/code&gt; is
 5370             &lt;code&gt;-1&lt;/code&gt;.
 5371           &lt;/description&gt;
 5372         &lt;/param&gt;
 5373         &lt;param id=&quot;user_data&quot;&gt;
 5374           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 5375           &lt;description&gt;
 5376             The user supplied data that was passed into the iteration function.
 5377           &lt;/description&gt;
 5378         &lt;/param&gt;
 5379       &lt;/parameters&gt;
 5380     &lt;/callback&gt;
 5381 
 5382     &lt;function id=&quot;IterateOverObjectsReachableFromObject&quot; num=&quot;109&quot;&gt;
 5383       &lt;synopsis&gt;Iterate Over Objects Reachable From Object&lt;/synopsis&gt;
 5384       &lt;description&gt;
 5385         This function iterates over all objects that are directly
 5386         and indirectly reachable from the specified object.
 5387         For each object &lt;i&gt;A&lt;/i&gt; (known
 5388         as the referrer) with a reference to object &lt;i&gt;B&lt;/i&gt; the specified
 5389         callback function is called to describe the object reference.
 5390         The callback is called exactly once for each reference from a referrer;
 5391         this is true even if there are reference cycles or multiple paths to
 5392         the referrer.
 5393         There may be more than one reference between a referrer and a referree,
 5394         These may be distinguished by the
 5395         &lt;datalink id=&quot;jvmtiObjectReferenceCallback.reference_kind&quot;&gt;&lt;/datalink&gt; and
 5396         &lt;datalink id=&quot;jvmtiObjectReferenceCallback.referrer_index&quot;&gt;&lt;/datalink&gt;.
 5397         The callback for an object will always occur after the callback for
 5398         its referrer.
 5399         &lt;p/&gt;
 5400         See &lt;functionlink id=&quot;FollowReferences&quot;/&gt; for the object
 5401         references which are reported.
 5402         &lt;p/&gt;
 5403         During the execution of this function the state of the heap
 5404         does not change: no objects are allocated, no objects are
 5405         garbage collected, and the state of objects (including
 5406         held values) does not change.
 5407         As a result, threads executing Java
 5408         programming language code, threads attempting to resume the
 5409         execution of Java programming language code, and threads
 5410         attempting to execute JNI functions are typically stalled.
 5411       &lt;/description&gt;
 5412       &lt;origin&gt;new&lt;/origin&gt;
 5413       &lt;capabilities&gt;
 5414         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 5415       &lt;/capabilities&gt;
 5416       &lt;parameters&gt;
 5417         &lt;param id=&quot;object&quot;&gt;
 5418           &lt;jobject/&gt;
 5419             &lt;description&gt;
 5420               The object
 5421             &lt;/description&gt;
 5422         &lt;/param&gt;
 5423         &lt;param id=&quot;object_reference_callback&quot;&gt;
 5424           &lt;ptrtype&gt;
 5425             &lt;struct&gt;jvmtiObjectReferenceCallback&lt;/struct&gt;
 5426           &lt;/ptrtype&gt;
 5427             &lt;description&gt;
 5428               The callback to be called to describe each
 5429               object reference.
 5430             &lt;/description&gt;
 5431         &lt;/param&gt;
 5432         &lt;param id=&quot;user_data&quot;&gt;
 5433           &lt;inbuf&gt;
 5434             &lt;void/&gt;
 5435             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 5436           &lt;/inbuf&gt;
 5437           &lt;description&gt;
 5438             User supplied data to be passed to the callback.
 5439           &lt;/description&gt;
 5440         &lt;/param&gt;
 5441       &lt;/parameters&gt;
 5442       &lt;errors&gt;
 5443       &lt;/errors&gt;
 5444     &lt;/function&gt;
 5445 
 5446     &lt;function id=&quot;IterateOverReachableObjects&quot; num=&quot;110&quot;&gt;
 5447       &lt;synopsis&gt;Iterate Over Reachable Objects&lt;/synopsis&gt;
 5448       &lt;description&gt;
 5449         This function iterates over the root objects and all objects that
 5450         are directly and indirectly reachable from the root objects.
 5451         The root objects comprise the set of system classes,
 5452         JNI globals, references from thread stacks, and other objects used as roots
 5453         for the purposes of garbage collection.
 5454         &lt;p/&gt;
 5455         For each root the &lt;paramlink id=&quot;heap_root_callback&quot;&gt;&lt;/paramlink&gt;
 5456         or &lt;paramlink id=&quot;stack_ref_callback&quot;&gt;&lt;/paramlink&gt; callback is called.
 5457         An object can be a root object for more than one reason and in that case
 5458         the appropriate callback is called for each reason.
 5459         &lt;p/&gt;
 5460         For each object reference the &lt;paramlink id=&quot;object_ref_callback&quot;&gt;&lt;/paramlink&gt;
 5461         callback function is called to describe the object reference.
 5462         The callback is called exactly once for each reference from a referrer;
 5463         this is true even if there are reference cycles or multiple paths to
 5464         the referrer.
 5465         There may be more than one reference between a referrer and a referree,
 5466         These may be distinguished by the
 5467         &lt;datalink id=&quot;jvmtiObjectReferenceCallback.reference_kind&quot;&gt;&lt;/datalink&gt; and
 5468         &lt;datalink id=&quot;jvmtiObjectReferenceCallback.referrer_index&quot;&gt;&lt;/datalink&gt;.
 5469         The callback for an object will always occur after the callback for
 5470         its referrer.
 5471         &lt;p/&gt;
 5472         See &lt;functionlink id=&quot;FollowReferences&quot;/&gt; for the object
 5473         references which are reported.
 5474         &lt;p/&gt;
 5475         Roots are always reported to the profiler before any object references
 5476         are reported. In other words, the &lt;paramlink id=&quot;object_ref_callback&quot;&gt;&lt;/paramlink&gt;
 5477         callback will not be called until the appropriate callback has been called
 5478         for all roots. If the &lt;paramlink id=&quot;object_ref_callback&quot;&gt;&lt;/paramlink&gt; callback is
 5479         specified as &lt;code&gt;NULL&lt;/code&gt; then this function returns after
 5480         reporting the root objects to the profiler.
 5481         &lt;p/&gt;
 5482         During the execution of this function the state of the heap
 5483         does not change: no objects are allocated, no objects are
 5484         garbage collected, and the state of objects (including
 5485         held values) does not change.
 5486         As a result, threads executing Java
 5487         programming language code, threads attempting to resume the
 5488         execution of Java programming language code, and threads
 5489         attempting to execute JNI functions are typically stalled.
 5490       &lt;/description&gt;
 5491       &lt;origin&gt;new&lt;/origin&gt;
 5492       &lt;capabilities&gt;
 5493         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 5494       &lt;/capabilities&gt;
 5495       &lt;parameters&gt;
 5496         &lt;param id=&quot;heap_root_callback&quot;&gt;
 5497           &lt;ptrtype&gt;
 5498             &lt;struct&gt;jvmtiHeapRootCallback&lt;/struct&gt;
 5499             &lt;nullok&gt;do not report heap roots&lt;/nullok&gt;
 5500           &lt;/ptrtype&gt;
 5501             &lt;description&gt;
 5502               The callback function to be called for each heap root of type
 5503               &lt;code&gt;JVMTI_HEAP_ROOT_JNI_GLOBAL&lt;/code&gt;,
 5504               &lt;code&gt;JVMTI_HEAP_ROOT_SYSTEM_CLASS&lt;/code&gt;,
 5505               &lt;code&gt;JVMTI_HEAP_ROOT_MONITOR&lt;/code&gt;,
 5506               &lt;code&gt;JVMTI_HEAP_ROOT_THREAD&lt;/code&gt;, or
 5507               &lt;code&gt;JVMTI_HEAP_ROOT_OTHER&lt;/code&gt;.
 5508             &lt;/description&gt;
 5509         &lt;/param&gt;
 5510         &lt;param id=&quot;stack_ref_callback&quot;&gt;
 5511           &lt;ptrtype&gt;
 5512             &lt;struct&gt;jvmtiStackReferenceCallback&lt;/struct&gt;
 5513             &lt;nullok&gt;do not report stack references&lt;/nullok&gt;
 5514           &lt;/ptrtype&gt;
 5515             &lt;description&gt;
 5516               The callback function to be called for each heap root of
 5517               &lt;code&gt;JVMTI_HEAP_ROOT_STACK_LOCAL&lt;/code&gt; or
 5518               &lt;code&gt;JVMTI_HEAP_ROOT_JNI_LOCAL&lt;/code&gt;.
 5519             &lt;/description&gt;
 5520         &lt;/param&gt;
 5521         &lt;param id=&quot;object_ref_callback&quot;&gt;
 5522           &lt;ptrtype&gt;
 5523             &lt;struct&gt;jvmtiObjectReferenceCallback&lt;/struct&gt;
 5524             &lt;nullok&gt;do not follow references from the root objects&lt;/nullok&gt;
 5525           &lt;/ptrtype&gt;
 5526             &lt;description&gt;
 5527               The callback function to be called for each object reference.
 5528             &lt;/description&gt;
 5529         &lt;/param&gt;
 5530         &lt;param id=&quot;user_data&quot;&gt;
 5531           &lt;inbuf&gt;
 5532             &lt;void/&gt;
 5533             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 5534           &lt;/inbuf&gt;
 5535           &lt;description&gt;
 5536             User supplied data to be passed to the callback.
 5537           &lt;/description&gt;
 5538         &lt;/param&gt;
 5539       &lt;/parameters&gt;
 5540       &lt;errors&gt;
 5541       &lt;/errors&gt;
 5542     &lt;/function&gt;
 5543 
 5544     &lt;function id=&quot;IterateOverHeap&quot; num=&quot;111&quot;&gt;
 5545       &lt;synopsis&gt;Iterate Over Heap&lt;/synopsis&gt;
 5546       &lt;description&gt;
 5547         Iterate over all objects in the heap. This includes both reachable and
 5548         unreachable objects.
 5549         &lt;p/&gt;
 5550         The &lt;paramlink id=&quot;object_filter&quot;&gt;&lt;/paramlink&gt; parameter indicates the
 5551         objects for which the callback function is called. If this parameter
 5552         is &lt;code&gt;JVMTI_HEAP_OBJECT_TAGGED&lt;/code&gt; then the callback will only be
 5553         called for every object that is tagged. If the parameter is
 5554         &lt;code&gt;JVMTI_HEAP_OBJECT_UNTAGGED&lt;/code&gt; then the callback will only be
 5555         for objects that are not tagged. If the parameter
 5556         is &lt;code&gt;JVMTI_HEAP_OBJECT_EITHER&lt;/code&gt; then the callback will be
 5557         called for every object in the heap, irrespective of whether it is
 5558         tagged or not.
 5559         &lt;p/&gt;
 5560         During the execution of this function the state of the heap
 5561         does not change: no objects are allocated, no objects are
 5562         garbage collected, and the state of objects (including
 5563         held values) does not change.
 5564         As a result, threads executing Java
 5565         programming language code, threads attempting to resume the
 5566         execution of Java programming language code, and threads
 5567         attempting to execute JNI functions are typically stalled.
 5568       &lt;/description&gt;
 5569       &lt;origin&gt;new&lt;/origin&gt;
 5570       &lt;capabilities&gt;
 5571         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 5572       &lt;/capabilities&gt;
 5573       &lt;parameters&gt;
 5574         &lt;param id=&quot;object_filter&quot;&gt;
 5575           &lt;enum&gt;jvmtiHeapObjectFilter&lt;/enum&gt;
 5576           &lt;description&gt;
 5577             Indicates the objects for which the callback function is called.
 5578           &lt;/description&gt;
 5579         &lt;/param&gt;
 5580         &lt;param id=&quot;heap_object_callback&quot;&gt;
 5581           &lt;ptrtype&gt;
 5582             &lt;struct&gt;jvmtiHeapObjectCallback&lt;/struct&gt;
 5583           &lt;/ptrtype&gt;
 5584             &lt;description&gt;
 5585               The iterator function to be called for each
 5586               object matching the &lt;paramlink id=&quot;object_filter&quot;/&gt;.
 5587             &lt;/description&gt;
 5588         &lt;/param&gt;
 5589         &lt;param id=&quot;user_data&quot;&gt;
 5590           &lt;inbuf&gt;
 5591             &lt;void/&gt;
 5592             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 5593           &lt;/inbuf&gt;
 5594           &lt;description&gt;
 5595             User supplied data to be passed to the callback.
 5596           &lt;/description&gt;
 5597         &lt;/param&gt;
 5598       &lt;/parameters&gt;
 5599       &lt;errors&gt;
 5600       &lt;/errors&gt;
 5601     &lt;/function&gt;
 5602 
 5603     &lt;function id=&quot;IterateOverInstancesOfClass&quot; num=&quot;112&quot;&gt;
 5604       &lt;synopsis&gt;Iterate Over Instances Of Class&lt;/synopsis&gt;
 5605       &lt;description&gt;
 5606         Iterate over all objects in the heap that are instances of the specified class.
 5607         This includes direct instances of the specified class and
 5608         instances of all subclasses of the specified class.
 5609         This includes both reachable and unreachable objects.
 5610         &lt;p/&gt;
 5611         The &lt;paramlink id=&quot;object_filter&quot;&gt;&lt;/paramlink&gt; parameter indicates the
 5612         objects for which the callback function is called. If this parameter
 5613         is &lt;code&gt;JVMTI_HEAP_OBJECT_TAGGED&lt;/code&gt; then the callback will only be
 5614         called for every object that is tagged. If the parameter is
 5615         &lt;code&gt;JVMTI_HEAP_OBJECT_UNTAGGED&lt;/code&gt; then the callback will only be
 5616         called for objects that are not tagged. If the parameter
 5617         is &lt;code&gt;JVMTI_HEAP_OBJECT_EITHER&lt;/code&gt; then the callback will be
 5618         called for every object in the heap, irrespective of whether it is
 5619         tagged or not.
 5620         &lt;p/&gt;
 5621         During the execution of this function the state of the heap
 5622         does not change: no objects are allocated, no objects are
 5623         garbage collected, and the state of objects (including
 5624         held values) does not change.
 5625         As a result, threads executing Java
 5626         programming language code, threads attempting to resume the
 5627         execution of Java programming language code, and threads
 5628         attempting to execute JNI functions are typically stalled.
 5629       &lt;/description&gt;
 5630       &lt;origin&gt;new&lt;/origin&gt;
 5631       &lt;capabilities&gt;
 5632         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 5633       &lt;/capabilities&gt;
 5634       &lt;parameters&gt;
 5635         &lt;param id=&quot;klass&quot;&gt;
 5636           &lt;jclass/&gt;
 5637             &lt;description&gt;
 5638               Iterate over objects of this class only.
 5639             &lt;/description&gt;
 5640         &lt;/param&gt;
 5641         &lt;param id=&quot;object_filter&quot;&gt;
 5642           &lt;enum&gt;jvmtiHeapObjectFilter&lt;/enum&gt;
 5643           &lt;description&gt;
 5644             Indicates the objects for which the callback function is called.
 5645           &lt;/description&gt;
 5646         &lt;/param&gt;
 5647         &lt;param id=&quot;heap_object_callback&quot;&gt;
 5648           &lt;ptrtype&gt;
 5649             &lt;struct&gt;jvmtiHeapObjectCallback&lt;/struct&gt;
 5650           &lt;/ptrtype&gt;
 5651             &lt;description&gt;
 5652               The iterator function to be called for each
 5653               &lt;paramlink id=&quot;klass&quot;/&gt; instance matching
 5654               the &lt;paramlink id=&quot;object_filter&quot;/&gt;.
 5655             &lt;/description&gt;
 5656         &lt;/param&gt;
 5657         &lt;param id=&quot;user_data&quot;&gt;
 5658           &lt;inbuf&gt;
 5659             &lt;void/&gt;
 5660             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 5661           &lt;/inbuf&gt;
 5662           &lt;description&gt;
 5663             User supplied data to be passed to the callback.
 5664           &lt;/description&gt;
 5665         &lt;/param&gt;
 5666       &lt;/parameters&gt;
 5667       &lt;errors&gt;
 5668       &lt;/errors&gt;
 5669     &lt;/function&gt;
 5670 
 5671   &lt;/category&gt;
 5672 
 5673   &lt;category id=&quot;local&quot; label=&quot;Local Variable&quot;&gt;
 5674 
 5675     &lt;intro&gt;
 5676       These functions are used to retrieve or set the value of a local variable.
 5677       The variable is identified by the depth of the frame containing its
 5678       value and the variable&#39;s slot number within that frame.
 5679       The mapping of variables to
 5680       slot numbers can be obtained with the function
 5681       &lt;functionlink id=&quot;GetLocalVariableTable&quot;&gt;&lt;/functionlink&gt;.
 5682     &lt;/intro&gt;
 5683 
 5684     &lt;function id=&quot;GetLocalObject&quot; num=&quot;21&quot;&gt;
 5685       &lt;synopsis&gt;Get Local Variable - Object&lt;/synopsis&gt;
 5686       &lt;description&gt;
 5687         This function can be used to retrieve the value of a local
 5688         variable whose type is &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 5689       &lt;/description&gt;
 5690       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5691       &lt;capabilities&gt;
 5692         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5693       &lt;/capabilities&gt;
 5694       &lt;parameters&gt;
 5695         &lt;param id=&quot;thread&quot;&gt;
 5696           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5697           &lt;description&gt;
 5698             The thread of the frame containing the variable&#39;s value.
 5699           &lt;/description&gt;
 5700         &lt;/param&gt;
 5701         &lt;param id=&quot;depth&quot;&gt;
 5702           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5703           &lt;description&gt;
 5704             The depth of the frame containing the variable&#39;s value.
 5705           &lt;/description&gt;
 5706         &lt;/param&gt;
 5707         &lt;param id=&quot;slot&quot;&gt;
 5708           &lt;jint/&gt;
 5709           &lt;description&gt;
 5710             The variable&#39;s slot number.
 5711           &lt;/description&gt;
 5712         &lt;/param&gt;
 5713         &lt;param id=&quot;value_ptr&quot;&gt;
 5714           &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 5715             &lt;description&gt;
 5716               On return, points to the variable&#39;s value.
 5717             &lt;/description&gt;
 5718         &lt;/param&gt;
 5719       &lt;/parameters&gt;
 5720       &lt;errors&gt;
 5721         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5722           Invalid &lt;code&gt;slot&lt;/code&gt;.
 5723         &lt;/error&gt;
 5724         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5725           The variable type is not
 5726           &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 5727         &lt;/error&gt;
 5728         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5729           Not a visible frame
 5730         &lt;/error&gt;
 5731       &lt;/errors&gt;
 5732     &lt;/function&gt;
 5733 
 5734     &lt;function id=&quot;GetLocalInstance&quot; num=&quot;155&quot; since=&quot;1.2&quot;&gt;
 5735       &lt;synopsis&gt;Get Local Instance&lt;/synopsis&gt;
 5736       &lt;description&gt;
 5737         This function can be used to retrieve the value of the local object
 5738         variable at slot 0 (the &quot;&lt;code&gt;this&lt;/code&gt;&quot; object) from non-static
 5739         frames.  This function can retrieve the &quot;&lt;code&gt;this&lt;/code&gt;&quot; object from
 5740         native method frames, whereas &lt;code&gt;GetLocalObject()&lt;/code&gt; would
 5741         return &lt;code&gt;JVMTI_ERROR_OPAQUE_FRAME&lt;/code&gt; in those cases.
 5742       &lt;/description&gt;
 5743       &lt;origin&gt;new&lt;/origin&gt;
 5744       &lt;capabilities&gt;
 5745         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5746       &lt;/capabilities&gt;
 5747       &lt;parameters&gt;
 5748         &lt;param id=&quot;thread&quot;&gt;
 5749           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5750           &lt;description&gt;
 5751             The thread of the frame containing the variable&#39;s value.
 5752           &lt;/description&gt;
 5753         &lt;/param&gt;
 5754         &lt;param id=&quot;depth&quot;&gt;
 5755           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5756           &lt;description&gt;
 5757             The depth of the frame containing the variable&#39;s value.
 5758           &lt;/description&gt;
 5759         &lt;/param&gt;
 5760         &lt;param id=&quot;value_ptr&quot;&gt;
 5761           &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 5762             &lt;description&gt;
 5763               On return, points to the variable&#39;s value.
 5764             &lt;/description&gt;
 5765         &lt;/param&gt;
 5766       &lt;/parameters&gt;
 5767       &lt;errors&gt;
 5768         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5769           If the specified frame is a static method frame.
 5770         &lt;/error&gt;
 5771       &lt;/errors&gt;
 5772     &lt;/function&gt;
 5773     &lt;function id=&quot;GetLocalInt&quot; num=&quot;22&quot;&gt;
 5774       &lt;synopsis&gt;Get Local Variable - Int&lt;/synopsis&gt;
 5775       &lt;description&gt;
 5776         This function can be used to retrieve the value of a local
 5777         variable whose type is &lt;code&gt;int&lt;/code&gt;,
 5778         &lt;code&gt;short&lt;/code&gt;, &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 5779         &lt;code&gt;boolean&lt;/code&gt;.
 5780       &lt;/description&gt;
 5781       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5782       &lt;capabilities&gt;
 5783         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5784       &lt;/capabilities&gt;
 5785       &lt;parameters&gt;
 5786         &lt;param id=&quot;thread&quot;&gt;
 5787           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5788           &lt;description&gt;
 5789             The thread of the frame containing the variable&#39;s value.
 5790           &lt;/description&gt;
 5791         &lt;/param&gt;
 5792         &lt;param id=&quot;depth&quot;&gt;
 5793           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5794           &lt;description&gt;
 5795             The depth of the frame containing the variable&#39;s value.
 5796           &lt;/description&gt;
 5797         &lt;/param&gt;
 5798         &lt;param id=&quot;slot&quot;&gt;
 5799           &lt;jint/&gt;
 5800           &lt;description&gt;
 5801             The variable&#39;s slot number.
 5802           &lt;/description&gt;
 5803         &lt;/param&gt;
 5804         &lt;param id=&quot;value_ptr&quot;&gt;
 5805           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 5806           &lt;description&gt;
 5807             On return, points to the variable&#39;s value.
 5808           &lt;/description&gt;
 5809         &lt;/param&gt;
 5810       &lt;/parameters&gt;
 5811       &lt;errors&gt;
 5812         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5813           Invalid &lt;code&gt;slot&lt;/code&gt;.
 5814         &lt;/error&gt;
 5815         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5816           The variable type is not
 5817           &lt;code&gt;int&lt;/code&gt;, &lt;code&gt;short&lt;/code&gt;,
 5818           &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 5819           &lt;code&gt;boolean&lt;/code&gt;.
 5820         &lt;/error&gt;
 5821         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5822           Not a visible frame
 5823         &lt;/error&gt;
 5824       &lt;/errors&gt;
 5825     &lt;/function&gt;
 5826 
 5827     &lt;function id=&quot;GetLocalLong&quot; num=&quot;23&quot;&gt;
 5828       &lt;synopsis&gt;Get Local Variable - Long&lt;/synopsis&gt;
 5829       &lt;description&gt;
 5830         This function can be used to retrieve the value of a local
 5831         variable whose type is &lt;code&gt;long&lt;/code&gt;.
 5832       &lt;/description&gt;
 5833       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5834       &lt;capabilities&gt;
 5835         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5836       &lt;/capabilities&gt;
 5837       &lt;parameters&gt;
 5838         &lt;param id=&quot;thread&quot;&gt;
 5839           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5840           &lt;description&gt;
 5841             The thread of the frame containing the variable&#39;s value.
 5842           &lt;/description&gt;
 5843         &lt;/param&gt;
 5844         &lt;param id=&quot;depth&quot;&gt;
 5845           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5846           &lt;description&gt;
 5847             The depth of the frame containing the variable&#39;s value.
 5848           &lt;/description&gt;
 5849         &lt;/param&gt;
 5850         &lt;param id=&quot;slot&quot;&gt;
 5851           &lt;jint/&gt;
 5852           &lt;description&gt;
 5853             The variable&#39;s slot number.
 5854           &lt;/description&gt;
 5855         &lt;/param&gt;
 5856         &lt;param id=&quot;value_ptr&quot;&gt;
 5857           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5858           &lt;description&gt;
 5859             On return, points to the variable&#39;s value.
 5860           &lt;/description&gt;
 5861         &lt;/param&gt;
 5862       &lt;/parameters&gt;
 5863       &lt;errors&gt;
 5864         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5865           Invalid &lt;code&gt;slot&lt;/code&gt;.
 5866         &lt;/error&gt;
 5867         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5868           The variable type is not &lt;code&gt;long&lt;/code&gt;.
 5869         &lt;/error&gt;
 5870         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5871           Not a visible frame
 5872         &lt;/error&gt;
 5873       &lt;/errors&gt;
 5874     &lt;/function&gt;
 5875 
 5876     &lt;function id=&quot;GetLocalFloat&quot; num=&quot;24&quot;&gt;
 5877       &lt;synopsis&gt;Get Local Variable - Float&lt;/synopsis&gt;
 5878       &lt;description&gt;
 5879         This function can be used to retrieve the value of a local
 5880         variable whose type is &lt;code&gt;float&lt;/code&gt;.
 5881       &lt;/description&gt;
 5882       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5883       &lt;capabilities&gt;
 5884         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5885       &lt;/capabilities&gt;
 5886       &lt;parameters&gt;
 5887         &lt;param id=&quot;thread&quot;&gt;
 5888           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5889           &lt;description&gt;
 5890             The thread of the frame containing the variable&#39;s value.
 5891           &lt;/description&gt;
 5892         &lt;/param&gt;
 5893         &lt;param id=&quot;depth&quot;&gt;
 5894           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5895           &lt;description&gt;
 5896             The depth of the frame containing the variable&#39;s value.
 5897           &lt;/description&gt;
 5898         &lt;/param&gt;
 5899         &lt;param id=&quot;slot&quot;&gt;
 5900           &lt;jint/&gt;
 5901           &lt;description&gt;
 5902             The variable&#39;s slot number.
 5903           &lt;/description&gt;
 5904         &lt;/param&gt;
 5905         &lt;param id=&quot;value_ptr&quot;&gt;
 5906           &lt;outptr&gt;&lt;jfloat/&gt;&lt;/outptr&gt;
 5907           &lt;description&gt;
 5908             On return, points to the variable&#39;s value.
 5909           &lt;/description&gt;
 5910         &lt;/param&gt;
 5911       &lt;/parameters&gt;
 5912       &lt;errors&gt;
 5913         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5914           Invalid &lt;code&gt;slot&lt;/code&gt;.
 5915         &lt;/error&gt;
 5916         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5917           The variable type is not &lt;code&gt;float&lt;/code&gt;.
 5918         &lt;/error&gt;
 5919         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5920           Not a visible frame
 5921         &lt;/error&gt;
 5922       &lt;/errors&gt;
 5923     &lt;/function&gt;
 5924 
 5925     &lt;function id=&quot;GetLocalDouble&quot; num=&quot;25&quot;&gt;
 5926       &lt;synopsis&gt;Get Local Variable - Double&lt;/synopsis&gt;
 5927       &lt;description&gt;
 5928         This function can be used to retrieve the value of a local
 5929         variable whose type is &lt;code&gt;long&lt;/code&gt;.
 5930       &lt;/description&gt;
 5931       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5932       &lt;capabilities&gt;
 5933         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5934       &lt;/capabilities&gt;
 5935       &lt;parameters&gt;
 5936         &lt;param id=&quot;thread&quot;&gt;
 5937           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5938           &lt;description&gt;
 5939             The thread of the frame containing the variable&#39;s value.
 5940           &lt;/description&gt;
 5941         &lt;/param&gt;
 5942         &lt;param id=&quot;depth&quot;&gt;
 5943           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5944           &lt;description&gt;
 5945             The depth of the frame containing the variable&#39;s value.
 5946           &lt;/description&gt;
 5947         &lt;/param&gt;
 5948         &lt;param id=&quot;slot&quot;&gt;
 5949           &lt;jint/&gt;
 5950           &lt;description&gt;
 5951             The variable&#39;s slot number.
 5952           &lt;/description&gt;
 5953         &lt;/param&gt;
 5954         &lt;param id=&quot;value_ptr&quot;&gt;
 5955           &lt;outptr&gt;&lt;jdouble/&gt;&lt;/outptr&gt;
 5956           &lt;description&gt;
 5957             On return, points to the variable&#39;s value.
 5958           &lt;/description&gt;
 5959         &lt;/param&gt;
 5960       &lt;/parameters&gt;
 5961       &lt;errors&gt;
 5962         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5963           Invalid &lt;code&gt;slot&lt;/code&gt;.
 5964         &lt;/error&gt;
 5965         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5966           The variable type is not &lt;code&gt;double&lt;/code&gt;.
 5967         &lt;/error&gt;
 5968         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5969           Not a visible frame
 5970         &lt;/error&gt;
 5971       &lt;/errors&gt;
 5972     &lt;/function&gt;
 5973 
 5974     &lt;function id=&quot;SetLocalObject&quot; num=&quot;26&quot;&gt;
 5975       &lt;synopsis&gt;Set Local Variable - Object&lt;/synopsis&gt;
 5976       &lt;description&gt;
 5977         This function can be used to set the value of a local
 5978         variable whose type is &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 5979       &lt;/description&gt;
 5980       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5981       &lt;capabilities&gt;
 5982         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5983       &lt;/capabilities&gt;
 5984       &lt;parameters&gt;
 5985         &lt;param id=&quot;thread&quot;&gt;
 5986           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5987           &lt;description&gt;
 5988             The thread of the frame containing the variable&#39;s value.
 5989           &lt;/description&gt;
 5990         &lt;/param&gt;
 5991         &lt;param id=&quot;depth&quot;&gt;
 5992           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5993           &lt;description&gt;
 5994             The depth of the frame containing the variable&#39;s value.
 5995           &lt;/description&gt;
 5996         &lt;/param&gt;
 5997         &lt;param id=&quot;slot&quot;&gt;
 5998           &lt;jint/&gt;
 5999           &lt;description&gt;
 6000             The variable&#39;s slot number.
 6001           &lt;/description&gt;
 6002         &lt;/param&gt;
 6003         &lt;param id=&quot;value&quot;&gt;
 6004           &lt;jobject/&gt;
 6005             &lt;description&gt;
 6006               The new value for the variable.
 6007             &lt;/description&gt;
 6008         &lt;/param&gt;
 6009       &lt;/parameters&gt;
 6010       &lt;errors&gt;
 6011         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6012           Invalid &lt;code&gt;slot&lt;/code&gt;.
 6013         &lt;/error&gt;
 6014         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6015           The variable type is not
 6016           &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 6017         &lt;/error&gt;
 6018         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6019           The supplied &lt;paramlink id=&quot;value&quot;/&gt; is not compatible
 6020           with the variable type.
 6021         &lt;/error&gt;
 6022         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6023           Not a visible frame
 6024         &lt;/error&gt;
 6025       &lt;/errors&gt;
 6026     &lt;/function&gt;
 6027 
 6028     &lt;function id=&quot;SetLocalInt&quot; num=&quot;27&quot;&gt;
 6029       &lt;synopsis&gt;Set Local Variable - Int&lt;/synopsis&gt;
 6030       &lt;description&gt;
 6031         This function can be used to set the value of a local
 6032         variable whose type is &lt;code&gt;int&lt;/code&gt;,
 6033         &lt;code&gt;short&lt;/code&gt;, &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 6034         &lt;code&gt;boolean&lt;/code&gt;.
 6035       &lt;/description&gt;
 6036       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6037       &lt;capabilities&gt;
 6038         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 6039       &lt;/capabilities&gt;
 6040       &lt;parameters&gt;
 6041         &lt;param id=&quot;thread&quot;&gt;
 6042           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 6043           &lt;description&gt;
 6044             The thread of the frame containing the variable&#39;s value.
 6045           &lt;/description&gt;
 6046         &lt;/param&gt;
 6047         &lt;param id=&quot;depth&quot;&gt;
 6048           &lt;jframeID thread=&quot;thread&quot;/&gt;
 6049           &lt;description&gt;
 6050             The depth of the frame containing the variable&#39;s value.
 6051           &lt;/description&gt;
 6052         &lt;/param&gt;
 6053         &lt;param id=&quot;slot&quot;&gt;
 6054           &lt;jint/&gt;
 6055           &lt;description&gt;
 6056             The variable&#39;s slot number.
 6057           &lt;/description&gt;
 6058         &lt;/param&gt;
 6059         &lt;param id=&quot;value&quot;&gt;
 6060           &lt;jint/&gt;
 6061           &lt;description&gt;
 6062             The new value for the variable.
 6063           &lt;/description&gt;
 6064         &lt;/param&gt;
 6065       &lt;/parameters&gt;
 6066       &lt;errors&gt;
 6067         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6068           Invalid &lt;code&gt;slot&lt;/code&gt;.
 6069         &lt;/error&gt;
 6070         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6071           The variable type is not
 6072           &lt;code&gt;int&lt;/code&gt;, &lt;code&gt;short&lt;/code&gt;,
 6073           &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 6074           &lt;code&gt;boolean&lt;/code&gt;.
 6075         &lt;/error&gt;
 6076         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6077           Not a visible frame
 6078         &lt;/error&gt;
 6079       &lt;/errors&gt;
 6080     &lt;/function&gt;
 6081 
 6082     &lt;function id=&quot;SetLocalLong&quot; num=&quot;28&quot;&gt;
 6083       &lt;synopsis&gt;Set Local Variable - Long&lt;/synopsis&gt;
 6084       &lt;description&gt;
 6085         This function can be used to set the value of a local
 6086         variable whose type is &lt;code&gt;long&lt;/code&gt;.
 6087       &lt;/description&gt;
 6088       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6089       &lt;capabilities&gt;
 6090         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 6091       &lt;/capabilities&gt;
 6092       &lt;parameters&gt;
 6093         &lt;param id=&quot;thread&quot;&gt;
 6094           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 6095           &lt;description&gt;
 6096             The thread of the frame containing the variable&#39;s value.
 6097           &lt;/description&gt;
 6098         &lt;/param&gt;
 6099         &lt;param id=&quot;depth&quot;&gt;
 6100           &lt;jframeID thread=&quot;thread&quot;/&gt;
 6101           &lt;description&gt;
 6102             The depth of the frame containing the variable&#39;s value.
 6103           &lt;/description&gt;
 6104         &lt;/param&gt;
 6105         &lt;param id=&quot;slot&quot;&gt;
 6106           &lt;jint/&gt;
 6107           &lt;description&gt;
 6108             The variable&#39;s slot number.
 6109           &lt;/description&gt;
 6110         &lt;/param&gt;
 6111         &lt;param id=&quot;value&quot;&gt;
 6112           &lt;jlong/&gt;
 6113           &lt;description&gt;
 6114             The new value for the variable.
 6115           &lt;/description&gt;
 6116         &lt;/param&gt;
 6117       &lt;/parameters&gt;
 6118       &lt;errors&gt;
 6119         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6120           Invalid &lt;code&gt;slot&lt;/code&gt;.
 6121         &lt;/error&gt;
 6122         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6123           The variable type is not &lt;code&gt;long&lt;/code&gt;.
 6124         &lt;/error&gt;
 6125         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6126           Not a visible frame
 6127         &lt;/error&gt;
 6128       &lt;/errors&gt;
 6129     &lt;/function&gt;
 6130 
 6131     &lt;function id=&quot;SetLocalFloat&quot; num=&quot;29&quot;&gt;
 6132       &lt;synopsis&gt;Set Local Variable - Float&lt;/synopsis&gt;
 6133       &lt;description&gt;
 6134         This function can be used to set the value of a local
 6135         variable whose type is &lt;code&gt;float&lt;/code&gt;.
 6136       &lt;/description&gt;
 6137       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6138       &lt;capabilities&gt;
 6139         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 6140       &lt;/capabilities&gt;
 6141       &lt;parameters&gt;
 6142         &lt;param id=&quot;thread&quot;&gt;
 6143           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 6144           &lt;description&gt;
 6145             The thread of the frame containing the variable&#39;s value.
 6146           &lt;/description&gt;
 6147         &lt;/param&gt;
 6148         &lt;param id=&quot;depth&quot;&gt;
 6149           &lt;jframeID thread=&quot;thread&quot;/&gt;
 6150           &lt;description&gt;
 6151             The depth of the frame containing the variable&#39;s value.
 6152           &lt;/description&gt;
 6153         &lt;/param&gt;
 6154         &lt;param id=&quot;slot&quot;&gt;
 6155           &lt;jint/&gt;
 6156           &lt;description&gt;
 6157             The variable&#39;s slot number.
 6158           &lt;/description&gt;
 6159         &lt;/param&gt;
 6160         &lt;param id=&quot;value&quot;&gt;
 6161           &lt;jfloat/&gt;
 6162           &lt;description&gt;
 6163             The new value for the variable.
 6164           &lt;/description&gt;
 6165         &lt;/param&gt;
 6166       &lt;/parameters&gt;
 6167       &lt;errors&gt;
 6168         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6169           Invalid &lt;code&gt;slot&lt;/code&gt;.
 6170         &lt;/error&gt;
 6171         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6172           The variable type is not &lt;code&gt;float&lt;/code&gt;.
 6173         &lt;/error&gt;
 6174         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6175           Not a visible frame
 6176         &lt;/error&gt;
 6177       &lt;/errors&gt;
 6178     &lt;/function&gt;
 6179 
 6180     &lt;function id=&quot;SetLocalDouble&quot; num=&quot;30&quot;&gt;
 6181       &lt;synopsis&gt;Set Local Variable - Double&lt;/synopsis&gt;
 6182       &lt;description&gt;
 6183         This function can be used to set the value of a local
 6184         variable whose type is &lt;code&gt;double&lt;/code&gt;.
 6185       &lt;/description&gt;
 6186       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6187       &lt;capabilities&gt;
 6188         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 6189       &lt;/capabilities&gt;
 6190       &lt;parameters&gt;
 6191         &lt;param id=&quot;thread&quot;&gt;
 6192           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 6193           &lt;description&gt;
 6194             The thread of the frame containing the variable&#39;s value.
 6195           &lt;/description&gt;
 6196         &lt;/param&gt;
 6197         &lt;param id=&quot;depth&quot;&gt;
 6198           &lt;jframeID thread=&quot;thread&quot;/&gt;
 6199           &lt;description&gt;
 6200             The depth of the frame containing the variable&#39;s value.
 6201           &lt;/description&gt;
 6202         &lt;/param&gt;
 6203         &lt;param id=&quot;slot&quot;&gt;
 6204           &lt;jint/&gt;
 6205           &lt;description&gt;
 6206             The variable&#39;s slot number.
 6207           &lt;/description&gt;
 6208         &lt;/param&gt;
 6209         &lt;param id=&quot;value&quot;&gt;
 6210           &lt;jdouble/&gt;
 6211           &lt;description&gt;
 6212             The new value for the variable.
 6213           &lt;/description&gt;
 6214         &lt;/param&gt;
 6215       &lt;/parameters&gt;
 6216       &lt;errors&gt;
 6217         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6218           Invalid &lt;code&gt;slot&lt;/code&gt;.
 6219         &lt;/error&gt;
 6220         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6221           The variable type is not &lt;code&gt;double&lt;/code&gt;.
 6222         &lt;/error&gt;
 6223         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6224           Not a visible frame
 6225         &lt;/error&gt;
 6226       &lt;/errors&gt;
 6227     &lt;/function&gt;
 6228   &lt;/category&gt;
 6229 
 6230   &lt;category id=&quot;breakpointCategory&quot; label=&quot;Breakpoint&quot;&gt;
 6231 
 6232     &lt;intro&gt;
 6233     &lt;/intro&gt;
 6234 
 6235     &lt;function id=&quot;SetBreakpoint&quot; num=&quot;38&quot;&gt;
 6236       &lt;synopsis&gt;Set Breakpoint&lt;/synopsis&gt;
 6237       &lt;description&gt;
 6238         Set a breakpoint at the instruction indicated by
 6239         &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;.
 6240         An instruction can only have one breakpoint.
 6241         &lt;p/&gt;
 6242         Whenever the designated instruction is about to be executed, a
 6243         &lt;eventlink id=&quot;Breakpoint&quot;&gt;&lt;/eventlink&gt; event is generated.
 6244       &lt;/description&gt;
 6245       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6246       &lt;capabilities&gt;
 6247         &lt;required id=&quot;can_generate_breakpoint_events&quot;&gt;&lt;/required&gt;
 6248       &lt;/capabilities&gt;
 6249       &lt;parameters&gt;
 6250         &lt;param id=&quot;klass&quot;&gt;
 6251           &lt;jclass method=&quot;method&quot;/&gt;
 6252             &lt;description&gt;
 6253               The class in which to set the breakpoint
 6254             &lt;/description&gt;
 6255         &lt;/param&gt;
 6256         &lt;param id=&quot;method&quot;&gt;
 6257           &lt;jmethodID class=&quot;klass&quot;/&gt;
 6258             &lt;description&gt;
 6259               The method in which to set the breakpoint
 6260             &lt;/description&gt;
 6261         &lt;/param&gt;
 6262         &lt;param id=&quot;location&quot;&gt;
 6263           &lt;jlocation/&gt;
 6264           &lt;description&gt;
 6265             the index of the instruction at which to set the breakpoint
 6266 
 6267           &lt;/description&gt;
 6268         &lt;/param&gt;
 6269       &lt;/parameters&gt;
 6270       &lt;errors&gt;
 6271         &lt;error id=&quot;JVMTI_ERROR_DUPLICATE&quot;&gt;
 6272           The designated bytecode already has a breakpoint.
 6273         &lt;/error&gt;
 6274       &lt;/errors&gt;
 6275     &lt;/function&gt;
 6276 
 6277     &lt;function id=&quot;ClearBreakpoint&quot; num=&quot;39&quot;&gt;
 6278       &lt;synopsis&gt;Clear Breakpoint&lt;/synopsis&gt;
 6279       &lt;description&gt;
 6280         Clear the breakpoint at the bytecode indicated by
 6281         &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;.
 6282       &lt;/description&gt;
 6283       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6284       &lt;capabilities&gt;
 6285         &lt;required id=&quot;can_generate_breakpoint_events&quot;&gt;&lt;/required&gt;
 6286       &lt;/capabilities&gt;
 6287       &lt;parameters&gt;
 6288         &lt;param id=&quot;klass&quot;&gt;
 6289           &lt;jclass method=&quot;method&quot;/&gt;
 6290             &lt;description&gt;
 6291               The class in which to clear the breakpoint
 6292             &lt;/description&gt;
 6293         &lt;/param&gt;
 6294         &lt;param id=&quot;method&quot;&gt;
 6295           &lt;jmethodID class=&quot;klass&quot;/&gt;
 6296             &lt;description&gt;
 6297               The method in which to clear the breakpoint
 6298             &lt;/description&gt;
 6299         &lt;/param&gt;
 6300         &lt;param id=&quot;location&quot;&gt;
 6301           &lt;jlocation/&gt;
 6302           &lt;description&gt;
 6303             the index of the instruction at which to clear the breakpoint
 6304           &lt;/description&gt;
 6305         &lt;/param&gt;
 6306       &lt;/parameters&gt;
 6307       &lt;errors&gt;
 6308         &lt;error id=&quot;JVMTI_ERROR_NOT_FOUND&quot;&gt;
 6309           There&#39;s no breakpoint at the designated bytecode.
 6310         &lt;/error&gt;
 6311       &lt;/errors&gt;
 6312     &lt;/function&gt;
 6313 
 6314   &lt;/category&gt;
 6315 
 6316   &lt;category id=&quot;fieldWatch&quot; label=&quot;Watched Field&quot;&gt;
 6317 
 6318     &lt;intro&gt;
 6319     &lt;/intro&gt;
 6320 
 6321     &lt;function id=&quot;SetFieldAccessWatch&quot; num=&quot;41&quot;&gt;
 6322       &lt;synopsis&gt;Set Field Access Watch&lt;/synopsis&gt;
 6323       &lt;description&gt;
 6324         Generate a &lt;eventlink id=&quot;FieldAccess&quot;&gt;&lt;/eventlink&gt; event
 6325         when the field specified
 6326         by &lt;code&gt;klass&lt;/code&gt; and
 6327         &lt;code&gt;field&lt;/code&gt; is about to be accessed.
 6328         An event will be generated for each access of the field
 6329         until it is canceled with
 6330         &lt;functionlink id=&quot;ClearFieldAccessWatch&quot;&gt;&lt;/functionlink&gt;.
 6331         Field accesses from Java programming language code or from JNI code are watched,
 6332         fields modified by other means are not watched.
 6333         Note that &lt;jvmti/&gt; users should be aware that their own field accesses
 6334         will trigger the watch.
 6335         A field can only have one field access watch set.
 6336         Modification of a field is not considered an access--use
 6337         &lt;functionlink id=&quot;SetFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;
 6338         to monitor modifications.
 6339       &lt;/description&gt;
 6340       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6341       &lt;capabilities&gt;
 6342         &lt;required id=&quot;can_generate_field_access_events&quot;&gt;&lt;/required&gt;
 6343       &lt;/capabilities&gt;
 6344       &lt;parameters&gt;
 6345         &lt;param id=&quot;klass&quot;&gt;
 6346           &lt;jclass field=&quot;field&quot;/&gt;
 6347             &lt;description&gt;
 6348               The class containing the field to watch
 6349             &lt;/description&gt;
 6350         &lt;/param&gt;
 6351         &lt;param id=&quot;field&quot;&gt;
 6352           &lt;jfieldID class=&quot;klass&quot;/&gt;
 6353             &lt;description&gt;
 6354               The field to watch
 6355 
 6356             &lt;/description&gt;
 6357         &lt;/param&gt;
 6358       &lt;/parameters&gt;
 6359       &lt;errors&gt;
 6360         &lt;error id=&quot;JVMTI_ERROR_DUPLICATE&quot;&gt;
 6361           The designated field is already being watched for accesses.
 6362         &lt;/error&gt;
 6363       &lt;/errors&gt;
 6364     &lt;/function&gt;
 6365 
 6366     &lt;function id=&quot;ClearFieldAccessWatch&quot; num=&quot;42&quot;&gt;
 6367       &lt;synopsis&gt;Clear Field Access Watch&lt;/synopsis&gt;
 6368       &lt;description&gt;
 6369         Cancel a field access watch previously set by
 6370         &lt;functionlink id=&quot;SetFieldAccessWatch&quot;&gt;&lt;/functionlink&gt;, on the
 6371         field specified
 6372         by &lt;code&gt;klass&lt;/code&gt; and
 6373         &lt;code&gt;field&lt;/code&gt;.
 6374       &lt;/description&gt;
 6375       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6376       &lt;capabilities&gt;
 6377         &lt;required id=&quot;can_generate_field_access_events&quot;&gt;&lt;/required&gt;
 6378       &lt;/capabilities&gt;
 6379       &lt;parameters&gt;
 6380         &lt;param id=&quot;klass&quot;&gt;
 6381           &lt;jclass field=&quot;field&quot;/&gt;
 6382             &lt;description&gt;
 6383               The class containing the field to watch
 6384             &lt;/description&gt;
 6385         &lt;/param&gt;
 6386         &lt;param id=&quot;field&quot;&gt;
 6387           &lt;jfieldID class=&quot;klass&quot;/&gt;
 6388             &lt;description&gt;
 6389               The field to watch
 6390 
 6391             &lt;/description&gt;
 6392         &lt;/param&gt;
 6393       &lt;/parameters&gt;
 6394       &lt;errors&gt;
 6395         &lt;error id=&quot;JVMTI_ERROR_NOT_FOUND&quot;&gt;
 6396           The designated field is not being watched for accesses.
 6397         &lt;/error&gt;
 6398       &lt;/errors&gt;
 6399     &lt;/function&gt;
 6400 
 6401     &lt;function id=&quot;SetFieldModificationWatch&quot; num=&quot;43&quot;&gt;
 6402       &lt;synopsis&gt;Set Field Modification Watch&lt;/synopsis&gt;
 6403       &lt;description&gt;
 6404         Generate a &lt;eventlink id=&quot;FieldModification&quot;&gt;&lt;/eventlink&gt; event
 6405         when the field specified
 6406         by &lt;code&gt;klass&lt;/code&gt; and
 6407         &lt;code&gt;field&lt;/code&gt; is about to be modified.
 6408         An event will be generated for each modification of the field
 6409         until it is canceled with
 6410         &lt;functionlink id=&quot;ClearFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;.
 6411         Field modifications from Java programming language code or from JNI code are watched,
 6412         fields modified by other means are not watched.
 6413         Note that &lt;jvmti/&gt; users should be aware that their own field modifications
 6414         will trigger the watch.
 6415         A field can only have one field modification watch set.
 6416       &lt;/description&gt;
 6417       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6418       &lt;capabilities&gt;
 6419         &lt;required id=&quot;can_generate_field_modification_events&quot;&gt;&lt;/required&gt;
 6420       &lt;/capabilities&gt;
 6421       &lt;parameters&gt;
 6422         &lt;param id=&quot;klass&quot;&gt;
 6423           &lt;jclass field=&quot;field&quot;/&gt;
 6424             &lt;description&gt;
 6425               The class containing the field to watch
 6426             &lt;/description&gt;
 6427         &lt;/param&gt;
 6428         &lt;param id=&quot;field&quot;&gt;
 6429           &lt;jfieldID class=&quot;klass&quot;/&gt;
 6430             &lt;description&gt;
 6431               The field to watch
 6432 
 6433             &lt;/description&gt;
 6434         &lt;/param&gt;
 6435       &lt;/parameters&gt;
 6436       &lt;errors&gt;
 6437         &lt;error id=&quot;JVMTI_ERROR_DUPLICATE&quot;&gt;
 6438           The designated field is already being watched for modifications.
 6439         &lt;/error&gt;
 6440       &lt;/errors&gt;
 6441     &lt;/function&gt;
 6442 
 6443     &lt;function id=&quot;ClearFieldModificationWatch&quot; num=&quot;44&quot;&gt;
 6444       &lt;synopsis&gt;Clear Field Modification Watch&lt;/synopsis&gt;
 6445       &lt;description&gt;
 6446 
 6447         Cancel a field modification watch previously set by
 6448         &lt;functionlink id=&quot;SetFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;, on the
 6449         field specified
 6450         by &lt;code&gt;klass&lt;/code&gt; and
 6451         &lt;code&gt;field&lt;/code&gt;.
 6452       &lt;/description&gt;
 6453       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6454       &lt;capabilities&gt;
 6455         &lt;required id=&quot;can_generate_field_modification_events&quot;&gt;&lt;/required&gt;
 6456       &lt;/capabilities&gt;
 6457       &lt;parameters&gt;
 6458         &lt;param id=&quot;klass&quot;&gt;
 6459           &lt;jclass field=&quot;field&quot;/&gt;
 6460             &lt;description&gt;
 6461               The class containing the field to watch
 6462             &lt;/description&gt;
 6463         &lt;/param&gt;
 6464         &lt;param id=&quot;field&quot;&gt;
 6465           &lt;jfieldID class=&quot;klass&quot;/&gt;
 6466             &lt;description&gt;
 6467               The field to watch
 6468 
 6469             &lt;/description&gt;
 6470         &lt;/param&gt;
 6471       &lt;/parameters&gt;
 6472       &lt;errors&gt;
 6473         &lt;error id=&quot;JVMTI_ERROR_NOT_FOUND&quot;&gt;
 6474           The designated field is not being watched for modifications.
 6475         &lt;/error&gt;
 6476       &lt;/errors&gt;
 6477     &lt;/function&gt;
 6478   &lt;/category&gt;
 6479 
 6480   &lt;category id=&quot;module&quot; label=&quot;Module&quot;&gt;
 6481 
 6482     &lt;intro&gt;
 6483     &lt;/intro&gt;
 6484 
 6485     &lt;function id=&quot;GetAllModules&quot; num=&quot;3&quot; since=&quot;9&quot;&gt;
 6486       &lt;synopsis&gt;Get All Modules&lt;/synopsis&gt;
 6487       &lt;description&gt;
 6488         Return an array of all modules loaded in the virtual machine.
 6489         The array includes the unnamed module for each class loader.
 6490         The number of modules in the array is returned via
 6491         &lt;code&gt;module_count_ptr&lt;/code&gt;, and the array itself via
 6492         &lt;code&gt;modules_ptr&lt;/code&gt;.
 6493         &lt;p/&gt;
 6494       &lt;/description&gt;
 6495       &lt;origin&gt;new&lt;/origin&gt;
 6496       &lt;capabilities&gt;
 6497       &lt;/capabilities&gt;
 6498       &lt;parameters&gt;
 6499         &lt;param id=&quot;module_count_ptr&quot;&gt;
 6500           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 6501           &lt;description&gt;
 6502             On return, points to the number of returned modules.
 6503           &lt;/description&gt;
 6504         &lt;/param&gt;
 6505         &lt;param id=&quot;modules_ptr&quot;&gt;
 6506           &lt;allocbuf outcount=&quot;module_count_ptr&quot;&gt;&lt;jobject/&gt;&lt;/allocbuf&gt;
 6507             &lt;description&gt;
 6508               On return, points to an array of references, one
 6509               for each module.
 6510             &lt;/description&gt;
 6511         &lt;/param&gt;
 6512       &lt;/parameters&gt;
 6513       &lt;errors&gt;
 6514       &lt;/errors&gt;
 6515     &lt;/function&gt;
 6516 
 6517     &lt;function id=&quot;GetNamedModule&quot; num=&quot;40&quot; since=&quot;9&quot;&gt;
 6518       &lt;synopsis&gt;Get Named Module&lt;/synopsis&gt;
 6519       &lt;description&gt;
 6520         Return the &lt;code&gt;java.lang.Module&lt;/code&gt; object for a named
 6521         module defined to a class loader that contains a given package.
 6522         The module is returned via &lt;code&gt;module_ptr&lt;/code&gt;.
 6523         &lt;p/&gt;
 6524         If a named module is defined to the class loader and it
 6525         contains the package then that named module is returned,
 6526         otherwise &lt;code&gt;NULL&lt;/code&gt; is returned.
 6527         &lt;p/&gt;
 6528       &lt;/description&gt;
 6529       &lt;origin&gt;new&lt;/origin&gt;
 6530       &lt;capabilities&gt;
 6531       &lt;/capabilities&gt;
 6532       &lt;parameters&gt;
 6533         &lt;param id=&quot;class_loader&quot;&gt;
 6534           &lt;ptrtype&gt;
 6535             &lt;jobject/&gt;
 6536             &lt;nullok&gt;the bootstrap loader is assumed&lt;/nullok&gt;
 6537           &lt;/ptrtype&gt;
 6538           &lt;description&gt;
 6539             A class loader.
 6540             If the &lt;code&gt;class_loader&lt;/code&gt; is not &lt;code&gt;NULL&lt;/code&gt;
 6541             or a subclass of &lt;code&gt;java.lang.ClassLoader&lt;/code&gt;
 6542             this function returns
 6543             &lt;errorlink id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;&lt;/errorlink&gt;.
 6544           &lt;/description&gt;
 6545         &lt;/param&gt;
 6546         &lt;param id=&quot;package_name&quot;&gt;
 6547           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
 6548           &lt;description&gt;
 6549             The name of the package, encoded as a
 6550             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 6551             The package name is in internal form (JVMS 4.2.1);
 6552             identifiers are separated by forward slashes rather than periods.
 6553           &lt;/description&gt;
 6554         &lt;/param&gt;
 6555         &lt;param id=&quot;module_ptr&quot;&gt;
 6556           &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 6557           &lt;description&gt;
 6558             On return, points to a &lt;code&gt;java.lang.Module&lt;/code&gt; object
 6559             or points to &lt;code&gt;NULL&lt;/code&gt;.
 6560           &lt;/description&gt;
 6561         &lt;/param&gt;
 6562       &lt;/parameters&gt;
 6563       &lt;errors&gt;
 6564         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 6565           If class loader is not &lt;code&gt;NULL&lt;/code&gt; and is not a class loader object.
 6566         &lt;/error&gt;
 6567       &lt;/errors&gt;
 6568     &lt;/function&gt;
 6569 
 6570     &lt;function id=&quot;AddModuleReads&quot; num=&quot;94&quot; since=&quot;9&quot;&gt;
 6571       &lt;synopsis&gt;Add Module Reads&lt;/synopsis&gt;
 6572       &lt;description&gt;
 6573          Update a module to read another module. This function is a no-op
 6574          when &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is an unnamed module.
 6575          This function facilitates the instrumentation of code
 6576          in named modules where that instrumentation requires
 6577          expanding the set of modules that a module reads.
 6578       &lt;/description&gt;
 6579       &lt;origin&gt;new&lt;/origin&gt;
 6580       &lt;capabilities&gt;
 6581       &lt;/capabilities&gt;
 6582       &lt;parameters&gt;
 6583         &lt;param id=&quot;module&quot;&gt;
 6584           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6585           &lt;description&gt;
 6586             The module to update.
 6587           &lt;/description&gt;
 6588         &lt;/param&gt;
 6589         &lt;param id=&quot;to_module&quot;&gt;
 6590           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6591           &lt;description&gt;
 6592             The additional module to read.
 6593           &lt;/description&gt;
 6594         &lt;/param&gt;
 6595       &lt;/parameters&gt;
 6596       &lt;errors&gt;
 6597         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6598           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6599         &lt;/error&gt;
 6600         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6601           If &lt;paramlink id=&quot;to_module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6602         &lt;/error&gt;
 6603         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6604           if the module cannot be modified.
 6605           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6606         &lt;/error&gt;
 6607       &lt;/errors&gt;
 6608     &lt;/function&gt;
 6609 
 6610     &lt;function id=&quot;AddModuleExports&quot; num=&quot;95&quot; since=&quot;9&quot;&gt;
 6611       &lt;synopsis&gt;Add Module Exports&lt;/synopsis&gt;
 6612       &lt;description&gt;
 6613          Update a module to export a package to another module.
 6614          This function is a no-op when &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt;
 6615          is an unnamed module or an open module.
 6616          This function facilitates the instrumentation of code
 6617          in named modules where that instrumentation requires
 6618          expanding the set of packages that a module exports.
 6619       &lt;/description&gt;
 6620       &lt;origin&gt;new&lt;/origin&gt;
 6621       &lt;capabilities&gt;
 6622       &lt;/capabilities&gt;
 6623       &lt;parameters&gt;
 6624         &lt;param id=&quot;module&quot;&gt;
 6625           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6626           &lt;description&gt;
 6627             The module to update.
 6628           &lt;/description&gt;
 6629         &lt;/param&gt;
 6630         &lt;param id=&quot;pkg_name&quot;&gt;
 6631           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
 6632           &lt;description&gt;
 6633             The exported package name.
 6634           &lt;/description&gt;
 6635         &lt;/param&gt;
 6636         &lt;param id=&quot;to_module&quot;&gt;
 6637           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6638           &lt;description&gt;
 6639             The module the package is exported to.
 6640             If the &lt;code&gt;to_module&lt;/code&gt; is not a subclass of
 6641             &lt;code&gt;java.lang.Module&lt;/code&gt; this function returns
 6642             &lt;errorlink id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;&lt;/errorlink&gt;.
 6643           &lt;/description&gt;
 6644         &lt;/param&gt;
 6645       &lt;/parameters&gt;
 6646       &lt;errors&gt;
 6647         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6648           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6649         &lt;/error&gt;
 6650         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6651           If &lt;paramlink id=&quot;to_module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6652         &lt;/error&gt;
 6653         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 6654           If the package &lt;paramlink id=&quot;pkg_name&quot;&gt;&lt;/paramlink&gt;
 6655           does not belong to the module.
 6656         &lt;/error&gt;
 6657         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6658           if the module cannot be modified.
 6659           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6660         &lt;/error&gt;
 6661       &lt;/errors&gt;
 6662     &lt;/function&gt;
 6663 
 6664     &lt;function id=&quot;AddModuleOpens&quot; num=&quot;96&quot; since=&quot;9&quot;&gt;
 6665       &lt;synopsis&gt;Add Module Opens&lt;/synopsis&gt;
 6666       &lt;description&gt;
 6667          Update a module to open a package to another module.
 6668          This function is a no-op when &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt;
 6669          is an unnamed module or an open module.
 6670          This function facilitates the instrumentation of code
 6671          in modules where that instrumentation requires
 6672          expanding the set of packages that a module opens to
 6673          other modules.
 6674       &lt;/description&gt;
 6675       &lt;origin&gt;new&lt;/origin&gt;
 6676       &lt;capabilities&gt;
 6677       &lt;/capabilities&gt;
 6678       &lt;parameters&gt;
 6679         &lt;param id=&quot;module&quot;&gt;
 6680           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6681           &lt;description&gt;
 6682             The module to update.
 6683           &lt;/description&gt;
 6684         &lt;/param&gt;
 6685         &lt;param id=&quot;pkg_name&quot;&gt;
 6686           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
 6687           &lt;description&gt;
 6688             The package name of the package to open.
 6689           &lt;/description&gt;
 6690         &lt;/param&gt;
 6691         &lt;param id=&quot;to_module&quot;&gt;
 6692           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6693           &lt;description&gt;
 6694             The module with the package to open.
 6695             If the &lt;code&gt;to_module&lt;/code&gt; is not a subclass of
 6696             &lt;code&gt;java.lang.Module&lt;/code&gt; this function returns
 6697             &lt;errorlink id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;&lt;/errorlink&gt;.
 6698           &lt;/description&gt;
 6699         &lt;/param&gt;
 6700       &lt;/parameters&gt;
 6701       &lt;errors&gt;
 6702         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6703           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6704         &lt;/error&gt;
 6705         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6706           If &lt;paramlink id=&quot;to_module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6707         &lt;/error&gt;
 6708         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 6709           If the package &lt;paramlink id=&quot;pkg_name&quot;&gt;&lt;/paramlink&gt;
 6710           does not belong to the module.
 6711         &lt;/error&gt;
 6712         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6713           if the module cannot be modified.
 6714           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6715         &lt;/error&gt;
 6716       &lt;/errors&gt;
 6717     &lt;/function&gt;
 6718 
 6719     &lt;function id=&quot;AddModuleUses&quot; num=&quot;97&quot; since=&quot;9&quot;&gt;
 6720       &lt;synopsis&gt;Add Module Uses&lt;/synopsis&gt;
 6721       &lt;description&gt;
 6722          Updates a module to add a service to the set of services that
 6723          a module uses. This function is a no-op when the module
 6724          is an unnamed module.
 6725          This function facilitates the instrumentation of code
 6726          in named modules where that instrumentation requires
 6727          expanding the set of services that a module is using.
 6728       &lt;/description&gt;
 6729       &lt;origin&gt;new&lt;/origin&gt;
 6730       &lt;capabilities&gt;
 6731       &lt;/capabilities&gt;
 6732       &lt;parameters&gt;
 6733         &lt;param id=&quot;module&quot;&gt;
 6734           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6735           &lt;description&gt;
 6736             The module to update.
 6737           &lt;/description&gt;
 6738         &lt;/param&gt;
 6739         &lt;param id=&quot;service&quot;&gt;
 6740           &lt;ptrtype&gt;&lt;jclass/&gt;&lt;/ptrtype&gt;
 6741           &lt;description&gt;
 6742             The service to use.
 6743           &lt;/description&gt;
 6744         &lt;/param&gt;
 6745       &lt;/parameters&gt;
 6746       &lt;errors&gt;
 6747         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6748           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6749         &lt;/error&gt;
 6750         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 6751           If &lt;paramlink id=&quot;service&quot;&gt;&lt;/paramlink&gt; is not a class object.
 6752         &lt;/error&gt;
 6753         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6754           if the module cannot be modified.
 6755           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6756         &lt;/error&gt;
 6757       &lt;/errors&gt;
 6758     &lt;/function&gt;
 6759 
 6760     &lt;function id=&quot;AddModuleProvides&quot; num=&quot;98&quot; since=&quot;9&quot;&gt;
 6761       &lt;synopsis&gt;Add Module Provides&lt;/synopsis&gt;
 6762       &lt;description&gt;
 6763          Updates a module to add a service to the set of services that
 6764          a module provides. This function is a no-op when the module
 6765          is an unnamed module.
 6766          This function facilitates the instrumentation of code
 6767          in named modules where that instrumentation requires
 6768          changes to the services that are provided.
 6769       &lt;/description&gt;
 6770       &lt;origin&gt;new&lt;/origin&gt;
 6771       &lt;capabilities&gt;
 6772       &lt;/capabilities&gt;
 6773       &lt;parameters&gt;
 6774         &lt;param id=&quot;module&quot;&gt;
 6775           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6776           &lt;description&gt;
 6777             The module to update.
 6778           &lt;/description&gt;
 6779         &lt;/param&gt;
 6780         &lt;param id=&quot;service&quot;&gt;
 6781           &lt;ptrtype&gt;&lt;jclass/&gt;&lt;/ptrtype&gt;
 6782           &lt;description&gt;
 6783             The service to provide.
 6784           &lt;/description&gt;
 6785         &lt;/param&gt;
 6786         &lt;param id=&quot;impl_class&quot;&gt;
 6787           &lt;ptrtype&gt;&lt;jclass/&gt;&lt;/ptrtype&gt;
 6788           &lt;description&gt;
 6789             The implementation class for the provided service.
 6790           &lt;/description&gt;
 6791         &lt;/param&gt;
 6792       &lt;/parameters&gt;
 6793       &lt;errors&gt;
 6794         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6795           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6796         &lt;/error&gt;
 6797         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 6798           If &lt;paramlink id=&quot;service&quot;&gt;&lt;/paramlink&gt; is not a class object.
 6799         &lt;/error&gt;
 6800         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 6801           If &lt;paramlink id=&quot;impl_class&quot;&gt;&lt;/paramlink&gt; is not a class object.
 6802         &lt;/error&gt;
 6803         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6804           if the module cannot be modified.
 6805           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6806         &lt;/error&gt;
 6807       &lt;/errors&gt;
 6808     &lt;/function&gt;
 6809 
 6810     &lt;function id=&quot;IsModifiableModule&quot; num=&quot;99&quot; since=&quot;9&quot;&gt;
 6811       &lt;synopsis&gt;Is Modifiable Module&lt;/synopsis&gt;
 6812       &lt;description&gt;
 6813         Determines whether a module is modifiable.
 6814         If a module is modifiable then this module can be updated with
 6815         &lt;functionlink id=&quot;AddModuleReads&quot;/&gt;, &lt;functionlink id=&quot;AddModuleExports&quot;/&gt;,
 6816         &lt;functionlink id=&quot;AddModuleOpens&quot;/&gt;, &lt;functionlink id=&quot;AddModuleUses&quot;/&gt;,
 6817         and &lt;functionlink id=&quot;AddModuleProvides&quot;/&gt;. If a module is not modifiable
 6818         then the module can not be updated with these functions. The result of
 6819         this function is always &lt;code&gt;JNI_TRUE&lt;/code&gt; when called to determine
 6820         if an unnamed module is modifiable.
 6821       &lt;/description&gt;
 6822       &lt;origin&gt;new&lt;/origin&gt;
 6823       &lt;capabilities&gt;
 6824       &lt;/capabilities&gt;
 6825       &lt;parameters&gt;
 6826         &lt;param id=&quot;module&quot;&gt;
 6827           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6828           &lt;description&gt;
 6829             The module to query.
 6830           &lt;/description&gt;
 6831         &lt;/param&gt;
 6832         &lt;param id=&quot;is_modifiable_module_ptr&quot;&gt;
 6833           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 6834           &lt;description&gt;
 6835             On return, points to the boolean result of this function.
 6836           &lt;/description&gt;
 6837         &lt;/param&gt;
 6838       &lt;/parameters&gt;
 6839       &lt;errors&gt;
 6840         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6841           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6842         &lt;/error&gt;
 6843       &lt;/errors&gt;
 6844     &lt;/function&gt;
 6845 
 6846   &lt;/category&gt;
 6847 
 6848   &lt;category id=&quot;class&quot; label=&quot;Class&quot;&gt;
 6849 
 6850     &lt;intro&gt;
 6851     &lt;/intro&gt;
 6852 
 6853     &lt;function id=&quot;GetLoadedClasses&quot; jkernel=&quot;yes&quot; num=&quot;78&quot;&gt;
 6854       &lt;synopsis&gt;Get Loaded Classes&lt;/synopsis&gt;
 6855       &lt;description&gt;
 6856         Return an array of all classes loaded in the virtual machine.
 6857         The number of classes in the array is returned via
 6858         &lt;code&gt;class_count_ptr&lt;/code&gt;, and the array itself via
 6859         &lt;code&gt;classes_ptr&lt;/code&gt;.
 6860         &lt;p/&gt;
 6861         Array classes of all types (including arrays of primitive types) are
 6862         included in the returned list. Primitive classes (for example,
 6863         &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;) are &lt;i&gt;not&lt;/i&gt; included in this list.
 6864       &lt;/description&gt;
 6865       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6866       &lt;capabilities&gt;
 6867       &lt;/capabilities&gt;
 6868       &lt;parameters&gt;
 6869         &lt;param id=&quot;class_count_ptr&quot;&gt;
 6870           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 6871           &lt;description&gt;
 6872             On return, points to the number of classes.
 6873           &lt;/description&gt;
 6874         &lt;/param&gt;
 6875         &lt;param id=&quot;classes_ptr&quot;&gt;
 6876           &lt;allocbuf outcount=&quot;class_count_ptr&quot;&gt;&lt;jclass/&gt;&lt;/allocbuf&gt;
 6877             &lt;description&gt;
 6878               On return, points to an array of references, one
 6879               for each class.
 6880             &lt;/description&gt;
 6881         &lt;/param&gt;
 6882       &lt;/parameters&gt;
 6883       &lt;errors&gt;
 6884       &lt;/errors&gt;
 6885     &lt;/function&gt;
 6886 
 6887     &lt;function id=&quot;GetClassLoaderClasses&quot; jkernel=&quot;yes&quot; num=&quot;79&quot;&gt;
 6888       &lt;synopsis&gt;Get Classloader Classes&lt;/synopsis&gt;
 6889       &lt;description&gt;
 6890         Returns an array of those classes for which this class loader has
 6891         been recorded as an initiating loader. Each
 6892         class in the returned array was created by this class loader,
 6893         either by defining it directly or by delegation to another class loader.
 6894         See &lt;vmspec chapter=&quot;5.3&quot;/&gt;.
 6895         &lt;p/&gt;
 6896         The number of classes in the array is returned via
 6897         &lt;code&gt;class_count_ptr&lt;/code&gt;, and the array itself via
 6898         &lt;code&gt;classes_ptr&lt;/code&gt;.
 6899       &lt;/description&gt;
 6900       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6901       &lt;capabilities&gt;
 6902       &lt;/capabilities&gt;
 6903       &lt;parameters&gt;
 6904         &lt;param id=&quot;initiating_loader&quot;&gt;
 6905           &lt;ptrtype&gt;
 6906             &lt;jobject/&gt;
 6907             &lt;nullok&gt;the classes initiated by the bootstrap loader will be returned&lt;/nullok&gt;
 6908           &lt;/ptrtype&gt;
 6909             &lt;description&gt;
 6910               An initiating class loader.
 6911             &lt;/description&gt;
 6912         &lt;/param&gt;
 6913         &lt;param id=&quot;class_count_ptr&quot;&gt;
 6914           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 6915           &lt;description&gt;
 6916             On return, points to the number of classes.
 6917           &lt;/description&gt;
 6918         &lt;/param&gt;
 6919         &lt;param id=&quot;classes_ptr&quot;&gt;
 6920           &lt;allocbuf outcount=&quot;class_count_ptr&quot;&gt;&lt;jclass/&gt;&lt;/allocbuf&gt;
 6921             &lt;description&gt;
 6922               On return, points to an array of references, one
 6923               for each class.
 6924             &lt;/description&gt;
 6925         &lt;/param&gt;
 6926       &lt;/parameters&gt;
 6927       &lt;errors&gt;
 6928       &lt;/errors&gt;
 6929     &lt;/function&gt;
 6930 
 6931     &lt;function id=&quot;GetClassSignature&quot; phase=&quot;start&quot; num=&quot;48&quot;&gt;
 6932       &lt;synopsis&gt;Get Class Signature&lt;/synopsis&gt;
 6933       &lt;description&gt;
 6934         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return the
 6935         &lt;externallink id=&quot;jni/types.html#type-signatures&quot;&gt;JNI
 6936             type signature&lt;/externallink&gt;
 6937         and the generic signature of the class.
 6938         For example, &lt;code&gt;java.util.List&lt;/code&gt; is &lt;code&gt;&quot;Ljava/util/List;&quot;&lt;/code&gt;
 6939         and &lt;code&gt;int[]&lt;/code&gt; is &lt;code&gt;&quot;[I&quot;&lt;/code&gt;
 6940         The returned name for primitive classes
 6941         is the type signature character of the corresponding primitive type.
 6942         For example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt; is &lt;code&gt;&quot;I&quot;&lt;/code&gt;.
 6943       &lt;/description&gt;
 6944       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 6945       &lt;capabilities&gt;
 6946       &lt;/capabilities&gt;
 6947       &lt;parameters&gt;
 6948         &lt;param id=&quot;klass&quot;&gt;
 6949           &lt;jclass/&gt;
 6950             &lt;description&gt;
 6951               The class to query.
 6952             &lt;/description&gt;
 6953         &lt;/param&gt;
 6954         &lt;param id=&quot;signature_ptr&quot;&gt;
 6955           &lt;allocbuf&gt;
 6956             &lt;char/&gt;
 6957             &lt;nullok&gt;the signature is not returned&lt;/nullok&gt;
 6958           &lt;/allocbuf&gt;
 6959           &lt;description&gt;
 6960             On return, points to the JNI type signature of the class, encoded as a
 6961             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 6962           &lt;/description&gt;
 6963         &lt;/param&gt;
 6964         &lt;param id=&quot;generic_ptr&quot;&gt;
 6965           &lt;allocbuf&gt;
 6966             &lt;char/&gt;
 6967             &lt;nullok&gt;the generic signature is not returned&lt;/nullok&gt;
 6968           &lt;/allocbuf&gt;
 6969           &lt;description&gt;
 6970             On return, points to the generic signature of the class, encoded as a
 6971             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 6972             If there is no generic signature attribute for the class, then,
 6973             on return, points to &lt;code&gt;NULL&lt;/code&gt;.
 6974           &lt;/description&gt;
 6975         &lt;/param&gt;
 6976       &lt;/parameters&gt;
 6977       &lt;errors&gt;
 6978       &lt;/errors&gt;
 6979     &lt;/function&gt;
 6980 
 6981     &lt;function id=&quot;GetClassStatus&quot; phase=&quot;start&quot; num=&quot;49&quot;&gt;
 6982       &lt;synopsis&gt;Get Class Status&lt;/synopsis&gt;
 6983       &lt;description&gt;
 6984         Get the status of the class. Zero or more of the following bits can be
 6985         set.
 6986         &lt;constants id=&quot;jvmtiClassStatus&quot; label=&quot;Class Status Flags&quot; kind=&quot;bits&quot;&gt;
 6987           &lt;constant id=&quot;JVMTI_CLASS_STATUS_VERIFIED&quot; num=&quot;1&quot;&gt;
 6988             Class bytecodes have been verified
 6989           &lt;/constant&gt;
 6990           &lt;constant id=&quot;JVMTI_CLASS_STATUS_PREPARED&quot; num=&quot;2&quot;&gt;
 6991             Class preparation is complete
 6992           &lt;/constant&gt;
 6993           &lt;constant id=&quot;JVMTI_CLASS_STATUS_INITIALIZED&quot; num=&quot;4&quot;&gt;
 6994             Class initialization is complete. Static initializer has been run.
 6995           &lt;/constant&gt;
 6996           &lt;constant id=&quot;JVMTI_CLASS_STATUS_ERROR&quot; num=&quot;8&quot;&gt;
 6997             Error during initialization makes class unusable
 6998           &lt;/constant&gt;
 6999           &lt;constant id=&quot;JVMTI_CLASS_STATUS_ARRAY&quot; num=&quot;16&quot;&gt;
 7000             Class is an array.  If set, all other bits are zero.
 7001           &lt;/constant&gt;
 7002           &lt;constant id=&quot;JVMTI_CLASS_STATUS_PRIMITIVE&quot; num=&quot;32&quot;&gt;
 7003             Class is a primitive class (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7004             If set, all other bits are zero.
 7005           &lt;/constant&gt;
 7006         &lt;/constants&gt;
 7007       &lt;/description&gt;
 7008       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7009       &lt;capabilities&gt;
 7010       &lt;/capabilities&gt;
 7011       &lt;parameters&gt;
 7012         &lt;param id=&quot;klass&quot;&gt;
 7013           &lt;jclass/&gt;
 7014             &lt;description&gt;
 7015               The class to query.
 7016             &lt;/description&gt;
 7017         &lt;/param&gt;
 7018         &lt;param id=&quot;status_ptr&quot;&gt;
 7019           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7020           &lt;description&gt;
 7021             On return, points to the current state of this class as one or
 7022             more of the &lt;internallink id=&quot;jvmtiClassStatus&quot;&gt;class status flags&lt;/internallink&gt;.
 7023           &lt;/description&gt;
 7024         &lt;/param&gt;
 7025       &lt;/parameters&gt;
 7026       &lt;errors&gt;
 7027       &lt;/errors&gt;
 7028     &lt;/function&gt;
 7029 
 7030     &lt;function id=&quot;GetSourceFileName&quot; phase=&quot;start&quot; num=&quot;50&quot;&gt;
 7031       &lt;synopsis&gt;Get Source File Name&lt;/synopsis&gt;
 7032       &lt;description&gt;
 7033         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return the source file
 7034         name via &lt;code&gt;source_name_ptr&lt;/code&gt;. The returned string
 7035         is a file name only and never contains a directory name.
 7036         &lt;p/&gt;
 7037         For primitive classes (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;)
 7038         and for arrays this function returns
 7039         &lt;errorlink id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;&lt;/errorlink&gt;.
 7040       &lt;/description&gt;
 7041       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7042       &lt;capabilities&gt;
 7043         &lt;required id=&quot;can_get_source_file_name&quot;&gt;&lt;/required&gt;
 7044       &lt;/capabilities&gt;
 7045       &lt;parameters&gt;
 7046         &lt;param id=&quot;klass&quot;&gt;
 7047           &lt;jclass/&gt;
 7048             &lt;description&gt;
 7049               The class to query.
 7050             &lt;/description&gt;
 7051         &lt;/param&gt;
 7052         &lt;param id=&quot;source_name_ptr&quot;&gt;
 7053           &lt;allocbuf&gt;&lt;char/&gt;&lt;/allocbuf&gt;
 7054           &lt;description&gt;
 7055             On return, points to the class&#39;s source file name, encoded as a
 7056             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 7057           &lt;/description&gt;
 7058         &lt;/param&gt;
 7059       &lt;/parameters&gt;
 7060       &lt;errors&gt;
 7061         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 7062           Class information does not include a source file name. This includes
 7063           cases where the class is an array class or primitive class.
 7064         &lt;/error&gt;
 7065       &lt;/errors&gt;
 7066     &lt;/function&gt;
 7067 
 7068     &lt;function id=&quot;GetClassModifiers&quot; phase=&quot;start&quot; num=&quot;51&quot;&gt;
 7069       &lt;synopsis&gt;Get Class Modifiers&lt;/synopsis&gt;
 7070       &lt;description&gt;
 7071         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return the access
 7072         flags
 7073         via &lt;code&gt;modifiers_ptr&lt;/code&gt;.
 7074         Access flags are defined in &lt;vmspec chapter=&quot;4&quot;/&gt;.
 7075         &lt;p/&gt;
 7076         If the class is an array class, then its public, private, and protected
 7077         modifiers are the same as those of its component type. For arrays of
 7078         primitives, this component type is represented by one of the primitive
 7079         classes (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7080         &lt;p/&gt;
 7081         If the class is a primitive class, its public modifier is always true,
 7082         and its protected and private modifiers are always false.
 7083         &lt;p/&gt;
 7084         If the class is an array class or a primitive class then its final
 7085         modifier is always true and its interface modifier is always false.
 7086         The values of its other modifiers are not determined by this specification.
 7087 
 7088       &lt;/description&gt;
 7089       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7090       &lt;capabilities&gt;
 7091       &lt;/capabilities&gt;
 7092       &lt;parameters&gt;
 7093         &lt;param id=&quot;klass&quot;&gt;
 7094           &lt;jclass/&gt;
 7095             &lt;description&gt;
 7096               The class to query.
 7097             &lt;/description&gt;
 7098         &lt;/param&gt;
 7099         &lt;param id=&quot;modifiers_ptr&quot;&gt;
 7100           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7101           &lt;description&gt;
 7102             On return, points to the current access flags of this class.
 7103 
 7104           &lt;/description&gt;
 7105         &lt;/param&gt;
 7106       &lt;/parameters&gt;
 7107       &lt;errors&gt;
 7108       &lt;/errors&gt;
 7109     &lt;/function&gt;
 7110 
 7111     &lt;function id=&quot;GetClassMethods&quot; phase=&quot;start&quot; num=&quot;52&quot;&gt;
 7112       &lt;synopsis&gt;Get Class Methods&lt;/synopsis&gt;
 7113       &lt;description&gt;
 7114         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return a count of
 7115         methods via &lt;code&gt;method_count_ptr&lt;/code&gt; and a list of
 7116         method IDs via &lt;code&gt;methods_ptr&lt;/code&gt;. The method list contains
 7117         constructors and static initializers as well as true methods.
 7118         Only directly declared methods are returned (not inherited methods).
 7119         An empty method list is returned for array classes and primitive classes
 7120         (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7121       &lt;/description&gt;
 7122       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7123       &lt;capabilities&gt;
 7124         &lt;capability id=&quot;can_maintain_original_method_order&quot;/&gt;
 7125       &lt;/capabilities&gt;
 7126       &lt;parameters&gt;
 7127         &lt;param id=&quot;klass&quot;&gt;
 7128           &lt;jclass/&gt;
 7129             &lt;description&gt;
 7130               The class to query.
 7131             &lt;/description&gt;
 7132         &lt;/param&gt;
 7133         &lt;param id=&quot;method_count_ptr&quot;&gt;
 7134           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7135           &lt;description&gt;
 7136             On return, points to the number of methods declared in this class.
 7137           &lt;/description&gt;
 7138         &lt;/param&gt;
 7139         &lt;param id=&quot;methods_ptr&quot;&gt;
 7140           &lt;allocbuf outcount=&quot;method_count_ptr&quot;&gt;&lt;jmethodID class=&quot;klass&quot;/&gt;&lt;/allocbuf&gt;
 7141             &lt;description&gt;
 7142               On return, points to the method ID array.
 7143             &lt;/description&gt;
 7144         &lt;/param&gt;
 7145       &lt;/parameters&gt;
 7146       &lt;errors&gt;
 7147         &lt;error id=&quot;JVMTI_ERROR_CLASS_NOT_PREPARED&quot;&gt;
 7148           &lt;paramlink id=&quot;klass&quot;&gt;&lt;/paramlink&gt; is not prepared.
 7149         &lt;/error&gt;
 7150       &lt;/errors&gt;
 7151     &lt;/function&gt;
 7152 
 7153     &lt;function id=&quot;GetClassFields&quot; phase=&quot;start&quot; num=&quot;53&quot;&gt;
 7154       &lt;synopsis&gt;Get Class Fields&lt;/synopsis&gt;
 7155       &lt;description&gt;
 7156         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return a count of fields
 7157         via &lt;code&gt;field_count_ptr&lt;/code&gt; and a list of field IDs via
 7158         &lt;code&gt;fields_ptr&lt;/code&gt;.
 7159         Only directly declared fields are returned (not inherited fields).
 7160         Fields are returned in the order they occur in the class file.
 7161         An empty field list is returned for array classes and primitive classes
 7162         (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7163         Use JNI to determine the length of an array.
 7164       &lt;/description&gt;
 7165       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7166       &lt;capabilities&gt;
 7167       &lt;/capabilities&gt;
 7168       &lt;parameters&gt;
 7169         &lt;param id=&quot;klass&quot;&gt;
 7170           &lt;jclass/&gt;
 7171             &lt;description&gt;
 7172               The class to query.
 7173             &lt;/description&gt;
 7174         &lt;/param&gt;
 7175         &lt;param id=&quot;field_count_ptr&quot;&gt;
 7176           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7177           &lt;description&gt;
 7178             On return, points to the number of fields declared in this class.
 7179           &lt;/description&gt;
 7180         &lt;/param&gt;
 7181         &lt;param id=&quot;fields_ptr&quot;&gt;
 7182           &lt;allocbuf outcount=&quot;field_count_ptr&quot;&gt;&lt;jfieldID/&gt;&lt;/allocbuf&gt;
 7183             &lt;description&gt;
 7184               On return, points to the field ID array.
 7185             &lt;/description&gt;
 7186         &lt;/param&gt;
 7187       &lt;/parameters&gt;
 7188       &lt;errors&gt;
 7189         &lt;error id=&quot;JVMTI_ERROR_CLASS_NOT_PREPARED&quot;&gt;
 7190           &lt;paramlink id=&quot;klass&quot;&gt;&lt;/paramlink&gt; is not prepared.
 7191         &lt;/error&gt;
 7192       &lt;/errors&gt;
 7193     &lt;/function&gt;
 7194 
 7195     &lt;function id=&quot;GetImplementedInterfaces&quot; phase=&quot;start&quot; num=&quot;54&quot;&gt;
 7196       &lt;synopsis&gt;Get Implemented Interfaces&lt;/synopsis&gt;
 7197       &lt;description&gt;
 7198         Return the direct super-interfaces of this class. For a class, this
 7199         function returns the interfaces declared in its &lt;code&gt;implements&lt;/code&gt;
 7200         clause. For an interface, this function returns the interfaces declared in
 7201         its &lt;code&gt;extends&lt;/code&gt; clause.
 7202         An empty interface list is returned for array classes and primitive classes
 7203         (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7204       &lt;/description&gt;
 7205       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7206       &lt;capabilities&gt;
 7207       &lt;/capabilities&gt;
 7208       &lt;parameters&gt;
 7209         &lt;param id=&quot;klass&quot;&gt;
 7210           &lt;jclass/&gt;
 7211             &lt;description&gt;
 7212               The class to query.
 7213             &lt;/description&gt;
 7214         &lt;/param&gt;
 7215         &lt;param id=&quot;interface_count_ptr&quot;&gt;
 7216           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7217           &lt;description&gt;
 7218             On return, points to the number of interfaces.
 7219           &lt;/description&gt;
 7220         &lt;/param&gt;
 7221         &lt;param id=&quot;interfaces_ptr&quot;&gt;
 7222           &lt;allocbuf outcount=&quot;interface_count_ptr&quot;&gt;&lt;jclass/&gt;&lt;/allocbuf&gt;
 7223             &lt;description&gt;
 7224               On return, points to the interface array.
 7225             &lt;/description&gt;
 7226         &lt;/param&gt;
 7227       &lt;/parameters&gt;
 7228       &lt;errors&gt;
 7229         &lt;error id=&quot;JVMTI_ERROR_CLASS_NOT_PREPARED&quot;&gt;
 7230           &lt;paramlink id=&quot;klass&quot;&gt;&lt;/paramlink&gt; is not prepared.
 7231         &lt;/error&gt;
 7232       &lt;/errors&gt;
 7233     &lt;/function&gt;
 7234 
 7235     &lt;function id=&quot;GetClassVersionNumbers&quot; phase=&quot;start&quot; num=&quot;145&quot; since=&quot;1.1&quot;&gt;
 7236       &lt;synopsis&gt;Get Class Version Numbers&lt;/synopsis&gt;
 7237       &lt;description&gt;
 7238         For the class indicated by &lt;code&gt;klass&lt;/code&gt;,
 7239         return the minor and major version numbers,
 7240         as defined in
 7241         &lt;vmspec chapter=&quot;4&quot;/&gt;.
 7242       &lt;/description&gt;
 7243       &lt;origin&gt;new&lt;/origin&gt;
 7244       &lt;capabilities&gt;
 7245       &lt;/capabilities&gt;
 7246       &lt;parameters&gt;
 7247         &lt;param id=&quot;klass&quot;&gt;
 7248           &lt;jclass/&gt;
 7249             &lt;description&gt;
 7250               The class to query.
 7251             &lt;/description&gt;
 7252         &lt;/param&gt;
 7253         &lt;param id=&quot;minor_version_ptr&quot;&gt;
 7254           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7255           &lt;description&gt;
 7256             On return, points to the value of the
 7257             &lt;code&gt;minor_version&lt;/code&gt; item of the
 7258             Class File Format.
 7259             Note: to be consistent with the Class File Format,
 7260             the minor version number is the first parameter.
 7261           &lt;/description&gt;
 7262         &lt;/param&gt;
 7263         &lt;param id=&quot;major_version_ptr&quot;&gt;
 7264           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7265           &lt;description&gt;
 7266             On return, points to the value of the
 7267             &lt;code&gt;major_version&lt;/code&gt; item of the
 7268             Class File Format.
 7269           &lt;/description&gt;
 7270         &lt;/param&gt;
 7271       &lt;/parameters&gt;
 7272       &lt;errors&gt;
 7273         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 7274           The class is a primitive or array class.
 7275         &lt;/error&gt;
 7276       &lt;/errors&gt;
 7277     &lt;/function&gt;
 7278 
 7279     &lt;function id=&quot;GetConstantPool&quot; phase=&quot;start&quot; num=&quot;146&quot; since=&quot;1.1&quot;&gt;
 7280       &lt;synopsis&gt;Get Constant Pool&lt;/synopsis&gt;
 7281       &lt;description&gt;
 7282         For the class indicated by &lt;code&gt;klass&lt;/code&gt;,
 7283         return the raw bytes of the constant pool in the format of the
 7284         &lt;code&gt;constant_pool&lt;/code&gt; item of
 7285         &lt;vmspec chapter=&quot;4&quot;/&gt;.
 7286         The format of the constant pool may differ between versions
 7287         of the Class File Format, so, the
 7288         &lt;functionlink id=&quot;GetClassVersionNumbers&quot;&gt;minor and major
 7289         class version numbers&lt;/functionlink&gt; should be checked for
 7290         compatibility.
 7291         &lt;p/&gt;
 7292         The returned constant pool might not have the same layout or
 7293         contents as the constant pool in the defining class file.
 7294         The constant pool returned by GetConstantPool() may have
 7295         more or fewer entries than the defining constant pool.
 7296         Entries may be in a different order.
 7297         The constant pool returned by GetConstantPool() will match the
 7298         constant pool used by
 7299         &lt;functionlink id=&quot;GetBytecodes&quot;&gt;GetBytecodes()&lt;/functionlink&gt;.
 7300         That is, the bytecodes returned by GetBytecodes() will have
 7301         constant pool indices which refer to constant pool entries returned
 7302         by GetConstantPool().
 7303         Note that since &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;
 7304         and &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; can change
 7305         the constant pool, the constant pool returned by this function
 7306         can change accordingly.  Thus, the correspondence between
 7307         GetConstantPool() and GetBytecodes() does not hold if there
 7308         is an intervening class retransformation or redefinition.
 7309         The value of a constant pool entry used by a given bytecode will
 7310         match that of the defining class file (even if the indices don&#39;t match).
 7311         Constant pool entries which are not used directly or indirectly by
 7312         bytecodes (for example,  UTF-8 strings associated with annotations) are
 7313         not  required to exist in the returned constant pool.
 7314       &lt;/description&gt;
 7315       &lt;origin&gt;new&lt;/origin&gt;
 7316       &lt;capabilities&gt;
 7317         &lt;required id=&quot;can_get_constant_pool&quot;&gt;&lt;/required&gt;
 7318       &lt;/capabilities&gt;
 7319       &lt;parameters&gt;
 7320         &lt;param id=&quot;klass&quot;&gt;
 7321           &lt;jclass/&gt;
 7322             &lt;description&gt;
 7323               The class to query.
 7324             &lt;/description&gt;
 7325         &lt;/param&gt;
 7326         &lt;param id=&quot;constant_pool_count_ptr&quot;&gt;
 7327           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7328           &lt;description&gt;
 7329             On return, points to the number of entries
 7330             in the constant pool table plus one.
 7331             This corresponds to the &lt;code&gt;constant_pool_count&lt;/code&gt;
 7332             item of the Class File Format.
 7333           &lt;/description&gt;
 7334         &lt;/param&gt;
 7335         &lt;param id=&quot;constant_pool_byte_count_ptr&quot;&gt;
 7336           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7337           &lt;description&gt;
 7338             On return, points to the number of bytes
 7339             in the returned raw constant pool.
 7340           &lt;/description&gt;
 7341         &lt;/param&gt;
 7342         &lt;param id=&quot;constant_pool_bytes_ptr&quot;&gt;
 7343           &lt;allocbuf outcount=&quot;constant_pool_byte_count_ptr&quot;&gt;&lt;uchar/&gt;&lt;/allocbuf&gt;
 7344             &lt;description&gt;
 7345               On return, points to the raw constant pool, that is the bytes
 7346               defined by the &lt;code&gt;constant_pool&lt;/code&gt; item of the
 7347               Class File Format
 7348             &lt;/description&gt;
 7349         &lt;/param&gt;
 7350       &lt;/parameters&gt;
 7351       &lt;errors&gt;
 7352         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 7353           The class is a primitive or array class.
 7354         &lt;/error&gt;
 7355       &lt;/errors&gt;
 7356     &lt;/function&gt;
 7357 
 7358     &lt;function id=&quot;IsInterface&quot; phase=&quot;start&quot; num=&quot;55&quot;&gt;
 7359       &lt;synopsis&gt;Is Interface&lt;/synopsis&gt;
 7360       &lt;description&gt;
 7361         Determines whether a class object reference represents an interface.
 7362         The &lt;code&gt;jboolean&lt;/code&gt; result is
 7363         &lt;code&gt;JNI_TRUE&lt;/code&gt; if the &quot;class&quot; is actually an interface,
 7364         &lt;code&gt;JNI_FALSE&lt;/code&gt; otherwise.
 7365       &lt;/description&gt;
 7366       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7367       &lt;capabilities&gt;
 7368       &lt;/capabilities&gt;
 7369       &lt;parameters&gt;
 7370         &lt;param id=&quot;klass&quot;&gt;
 7371           &lt;jclass/&gt;
 7372             &lt;description&gt;
 7373               The class to query.
 7374             &lt;/description&gt;
 7375         &lt;/param&gt;
 7376         &lt;param id=&quot;is_interface_ptr&quot;&gt;
 7377           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 7378           &lt;description&gt;
 7379             On return, points to the boolean result of this function.
 7380 
 7381           &lt;/description&gt;
 7382         &lt;/param&gt;
 7383       &lt;/parameters&gt;
 7384       &lt;errors&gt;
 7385       &lt;/errors&gt;
 7386     &lt;/function&gt;
 7387 
 7388     &lt;function id=&quot;IsArrayClass&quot; phase=&quot;start&quot; num=&quot;56&quot;&gt;
 7389       &lt;synopsis&gt;Is Array Class&lt;/synopsis&gt;
 7390       &lt;description&gt;
 7391         Determines whether a class object reference represents an array.
 7392         The &lt;code&gt;jboolean&lt;/code&gt; result is
 7393         &lt;code&gt;JNI_TRUE&lt;/code&gt; if the class is an array,
 7394         &lt;code&gt;JNI_FALSE&lt;/code&gt; otherwise.
 7395       &lt;/description&gt;
 7396       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7397       &lt;capabilities&gt;
 7398       &lt;/capabilities&gt;
 7399       &lt;parameters&gt;
 7400         &lt;param id=&quot;klass&quot;&gt;
 7401           &lt;jclass/&gt;
 7402             &lt;description&gt;
 7403               The class to query.
 7404             &lt;/description&gt;
 7405         &lt;/param&gt;
 7406         &lt;param id=&quot;is_array_class_ptr&quot;&gt;
 7407           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 7408           &lt;description&gt;
 7409             On return, points to the boolean result of this function.
 7410 
 7411           &lt;/description&gt;
 7412         &lt;/param&gt;
 7413       &lt;/parameters&gt;
 7414       &lt;errors&gt;
 7415       &lt;/errors&gt;
 7416     &lt;/function&gt;
 7417 
 7418     &lt;function id=&quot;IsModifiableClass&quot; jkernel=&quot;yes&quot; phase=&quot;start&quot; num=&quot;45&quot; since=&quot;1.1&quot;&gt;
 7419       &lt;synopsis&gt;Is Modifiable Class&lt;/synopsis&gt;
 7420       &lt;description&gt;
 7421         Determines whether a class is modifiable.
 7422         If a class is modifiable (&lt;paramlink id=&quot;is_modifiable_class_ptr&quot;/&gt;
 7423         returns &lt;code&gt;JNI_TRUE&lt;/code&gt;) the class can be
 7424         redefined with &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; (assuming
 7425         the agent possesses the
 7426         &lt;fieldlink id=&quot;can_redefine_classes&quot; struct=&quot;jvmtiCapabilities&quot;/&gt;
 7427         capability) or
 7428         retransformed with &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; (assuming
 7429         the agent possesses the
 7430         &lt;fieldlink id=&quot;can_retransform_classes&quot; struct=&quot;jvmtiCapabilities&quot;/&gt;
 7431         capability).
 7432         If a class is not modifiable (&lt;paramlink id=&quot;is_modifiable_class_ptr&quot;/&gt;
 7433         returns &lt;code&gt;JNI_FALSE&lt;/code&gt;) the class can be neither
 7434         redefined nor retransformed.
 7435         &lt;p/&gt;
 7436         Primitive classes (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;),
 7437         array classes, and some implementation defined classes are never modifiable.
 7438         &lt;p/&gt;
 7439       &lt;/description&gt;
 7440       &lt;origin&gt;new&lt;/origin&gt;
 7441       &lt;capabilities&gt;
 7442         &lt;capability id=&quot;can_redefine_any_class&quot;&gt;
 7443           If possessed then all classes (except primitive, array, and some implementation defined
 7444           classes) are modifiable with &lt;functionlink id=&quot;RedefineClasses&quot;/&gt;.
 7445         &lt;/capability&gt;
 7446         &lt;capability id=&quot;can_retransform_any_class&quot;&gt;
 7447           If possessed then all classes (except primitive, array, and some implementation defined
 7448           classes) are modifiable with &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;.
 7449         &lt;/capability&gt;
 7450         &lt;capability id=&quot;can_redefine_classes&quot;&gt;
 7451           No effect on the result of the function.
 7452           But must additionally be possessed to modify the class with
 7453           &lt;functionlink id=&quot;RedefineClasses&quot;/&gt;.
 7454         &lt;/capability&gt;
 7455         &lt;capability id=&quot;can_retransform_classes&quot;&gt;
 7456           No effect on the result of the function.
 7457           But must additionally be possessed to modify the class with
 7458           &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;.
 7459         &lt;/capability&gt;
 7460       &lt;/capabilities&gt;
 7461       &lt;parameters&gt;
 7462         &lt;param id=&quot;klass&quot;&gt;
 7463           &lt;jclass/&gt;
 7464             &lt;description&gt;
 7465               The class to query.
 7466             &lt;/description&gt;
 7467         &lt;/param&gt;
 7468         &lt;param id=&quot;is_modifiable_class_ptr&quot;&gt;
 7469           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 7470           &lt;description&gt;
 7471             On return, points to the boolean result of this function.
 7472           &lt;/description&gt;
 7473         &lt;/param&gt;
 7474       &lt;/parameters&gt;
 7475       &lt;errors&gt;
 7476       &lt;/errors&gt;
 7477     &lt;/function&gt;
 7478 
 7479     &lt;function id=&quot;GetClassLoader&quot; phase=&quot;start&quot; num=&quot;57&quot;&gt;
 7480       &lt;synopsis&gt;Get Class Loader&lt;/synopsis&gt;
 7481       &lt;description&gt;
 7482         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return via
 7483         &lt;code&gt;classloader_ptr&lt;/code&gt; a reference to the class loader for the
 7484         class.
 7485       &lt;/description&gt;
 7486       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7487       &lt;capabilities&gt;
 7488       &lt;/capabilities&gt;
 7489       &lt;parameters&gt;
 7490         &lt;param id=&quot;klass&quot;&gt;
 7491           &lt;jclass/&gt;
 7492             &lt;description&gt;
 7493               The class to query.
 7494             &lt;/description&gt;
 7495         &lt;/param&gt;
 7496         &lt;param id=&quot;classloader_ptr&quot;&gt;
 7497           &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 7498             &lt;description&gt;
 7499               On return, points to the class loader that loaded
 7500               this class.
 7501               If the class was not created by a class loader
 7502               or if the class loader is the bootstrap class loader,
 7503               points to &lt;code&gt;NULL&lt;/code&gt;.
 7504             &lt;/description&gt;
 7505         &lt;/param&gt;
 7506       &lt;/parameters&gt;
 7507       &lt;errors&gt;
 7508       &lt;/errors&gt;
 7509 
 7510     &lt;/function&gt;
 7511 
 7512     &lt;function id=&quot;GetSourceDebugExtension&quot; phase=&quot;start&quot; num=&quot;90&quot;&gt;
 7513       &lt;synopsis&gt;Get Source Debug Extension&lt;/synopsis&gt;
 7514       &lt;description&gt;
 7515         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return the debug
 7516         extension via &lt;code&gt;source_debug_extension_ptr&lt;/code&gt;.
 7517         The returned string
 7518         contains exactly the debug extension information present in the
 7519         class file of &lt;code&gt;klass&lt;/code&gt;.
 7520       &lt;/description&gt;
 7521       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7522       &lt;capabilities&gt;
 7523         &lt;required id=&quot;can_get_source_debug_extension&quot;&gt;&lt;/required&gt;
 7524       &lt;/capabilities&gt;
 7525       &lt;parameters&gt;
 7526         &lt;param id=&quot;klass&quot;&gt;
 7527           &lt;jclass/&gt;
 7528             &lt;description&gt;
 7529               The class to query.
 7530             &lt;/description&gt;
 7531         &lt;/param&gt;
 7532         &lt;param id=&quot;source_debug_extension_ptr&quot;&gt;
 7533           &lt;allocbuf&gt;&lt;char/&gt;&lt;/allocbuf&gt;
 7534           &lt;description&gt;
 7535             On return, points to the class&#39;s debug extension, encoded as a
 7536             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 7537           &lt;/description&gt;
 7538         &lt;/param&gt;
 7539       &lt;/parameters&gt;
 7540       &lt;errors&gt;
 7541         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 7542           Class information does not include a debug extension.
 7543         &lt;/error&gt;
 7544       &lt;/errors&gt;
 7545     &lt;/function&gt;
 7546 
 7547     &lt;function id=&quot;RetransformClasses&quot; jkernel=&quot;yes&quot; num=&quot;152&quot; since=&quot;1.1&quot;&gt;
 7548       &lt;synopsis&gt;Retransform Classes&lt;/synopsis&gt;
 7549       &lt;description&gt;
 7550         This function facilitates the
 7551         &lt;internallink id=&quot;bci&quot;&gt;bytecode instrumentation&lt;/internallink&gt;
 7552         of already loaded classes.
 7553         To replace the class definition without reference to the existing
 7554         bytecodes, as one might do when recompiling from source for
 7555         fix-and-continue debugging, &lt;functionlink id=&quot;RedefineClasses&quot;/&gt;
 7556         function should be used instead.
 7557         &lt;p/&gt;
 7558         When classes are initially loaded or when they are
 7559         &lt;functionlink id=&quot;RedefineClasses&quot;&gt;redefined&lt;/functionlink&gt;,
 7560         the initial class file bytes can be transformed with the
 7561         &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event.
 7562         This function reruns the transformation process
 7563         (whether or not a transformation has previously occurred).
 7564         This retransformation follows these steps:
 7565         &lt;ul&gt;
 7566           &lt;li&gt;starting from the initial class file bytes
 7567           &lt;/li&gt;
 7568           &lt;li&gt;for each &lt;fieldlink id=&quot;can_retransform_classes&quot;
 7569                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
 7570                                                 incapable&lt;/fieldlink&gt;
 7571             agent which received a
 7572             &lt;code&gt;ClassFileLoadHook&lt;/code&gt; event during the previous
 7573             load or redefine, the bytes it returned
 7574             (via the &lt;code&gt;new_class_data&lt;/code&gt; parameter)
 7575             are reused as the output of the transformation;
 7576             note that this is equivalent to reapplying
 7577             the previous transformation, unaltered. except that
 7578             the &lt;code&gt;ClassFileLoadHook&lt;/code&gt; event
 7579             is &lt;b&gt;not&lt;/b&gt; sent to these agents
 7580           &lt;/li&gt;
 7581           &lt;li&gt;for each &lt;fieldlink id=&quot;can_retransform_classes&quot;
 7582                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
 7583                                                 capable&lt;/fieldlink&gt;
 7584             agent, the &lt;code&gt;ClassFileLoadHook&lt;/code&gt; event is sent,
 7585             allowing a new transformation to be applied
 7586           &lt;/li&gt;
 7587           &lt;li&gt;the transformed class file bytes are installed as the new
 7588             definition of the class
 7589           &lt;/li&gt;
 7590         &lt;/ul&gt;
 7591         See the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event for more details.
 7592         &lt;p/&gt;
 7593         The initial class file bytes represent the bytes passed to
 7594         &lt;code&gt;ClassLoader.defineClass&lt;/code&gt;
 7595         or &lt;code&gt;RedefineClasses&lt;/code&gt; (before any transformations
 7596         were applied), however they may not exactly match them.
 7597         The constant pool may differ in ways described in
 7598         &lt;functionlink id=&quot;GetConstantPool&quot;/&gt;.
 7599         Constant pool indices in the bytecodes of methods will correspond.
 7600         Some attributes may not be present.
 7601         Where order is not meaningful, for example the order of methods,
 7602         order may not be preserved.
 7603         &lt;p/&gt;
 7604         Retransformation can cause new versions of methods to be installed.
 7605         Old method versions may become
 7606         &lt;internallink id=&quot;obsoleteMethods&quot;&gt;obsolete&lt;/internallink&gt;
 7607         The new method version will be used on new invokes.
 7608         If a method has active stack frames, those active frames continue to
 7609         run the bytecodes of the original method version.
 7610         &lt;p/&gt;
 7611         This function does not cause any initialization except that which
 7612         would occur under the customary JVM semantics.
 7613         In other words, retransforming a class does not cause its initializers to be
 7614         run. The values of static fields will remain as they were
 7615         prior to the call.
 7616         &lt;p/&gt;
 7617         Threads need not be suspended.
 7618         &lt;p/&gt;
 7619         All breakpoints in the class are cleared.
 7620         &lt;p/&gt;
 7621         All attributes are updated.
 7622         &lt;p/&gt;
 7623         Instances of the retransformed class are not affected -- fields retain their
 7624         previous values.
 7625         &lt;functionlink id=&quot;GetTag&quot;&gt;Tags&lt;/functionlink&gt; on the instances are
 7626         also unaffected.
 7627         &lt;p/&gt;
 7628         In response to this call, no events other than the
 7629         &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event
 7630         will be sent.
 7631         &lt;p/&gt;
 7632         The retransformation may change method bodies, the constant pool and attributes
 7633         (unless explicitly prohibited).
 7634         The retransformation must not add, remove or rename fields or methods, change the
 7635         signatures of methods, change modifiers, or change inheritance.
 7636         The retransformation must not change the &lt;code&gt;NestHost&lt;/code&gt;,
 7637         &lt;code&gt;NestMembers&lt;/code&gt;, or &lt;code&gt;Record&lt;/code&gt; attributes.
 7638         These restrictions may be lifted in future versions.
 7639         See the error return description below for information on error codes
 7640         returned if an unsupported retransformation is attempted.
 7641         The class file bytes are not verified or installed until they have passed
 7642         through the chain of &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events, thus the
 7643         returned error code reflects the result of the transformations.
 7644         If any error code is returned other than &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;,
 7645         none of the classes to be retransformed will have a new definition installed.
 7646         When this function returns (with the error code of &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;)
 7647         all of the classes to be retransformed will have their new definitions installed.
 7648       &lt;/description&gt;
 7649       &lt;origin&gt;new&lt;/origin&gt;
 7650       &lt;capabilities&gt;
 7651         &lt;required id=&quot;can_retransform_classes&quot;&gt;&lt;/required&gt;
 7652         &lt;capability id=&quot;can_retransform_any_class&quot;&gt;&lt;/capability&gt;
 7653       &lt;/capabilities&gt;
 7654       &lt;parameters&gt;
 7655         &lt;param id=&quot;class_count&quot;&gt;
 7656           &lt;jint min=&quot;0&quot;/&gt;
 7657           &lt;description&gt;
 7658             The number of classes to be retransformed.
 7659           &lt;/description&gt;
 7660         &lt;/param&gt;
 7661         &lt;param id=&quot;classes&quot;&gt;
 7662           &lt;inbuf incount=&quot;class_count&quot;&gt;&lt;jclass/&gt;&lt;/inbuf&gt;
 7663           &lt;description&gt;
 7664             The array of classes to be retransformed.
 7665           &lt;/description&gt;
 7666         &lt;/param&gt;
 7667       &lt;/parameters&gt;
 7668       &lt;errors&gt;
 7669         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_CLASS&quot;&gt;
 7670           One of the &lt;paramlink id=&quot;classes&quot;/&gt; cannot be modified.
 7671           See &lt;functionlink id=&quot;IsModifiableClass&quot;/&gt;.
 7672         &lt;/error&gt;
 7673         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 7674           One of the &lt;paramlink id=&quot;classes&quot;/&gt; is not a valid class.
 7675         &lt;/error&gt;
 7676         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_VERSION&quot;&gt;
 7677           A retransformed class file has a version number not supported by this VM.
 7678         &lt;/error&gt;
 7679         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS_FORMAT&quot;&gt;
 7680           A retransformed class file is malformed (The VM would return a &lt;code&gt;ClassFormatError&lt;/code&gt;).
 7681         &lt;/error&gt;
 7682         &lt;error id=&quot;JVMTI_ERROR_CIRCULAR_CLASS_DEFINITION&quot;&gt;
 7683           The retransformed class file definitions would lead to a circular definition
 7684           (the VM would return a &lt;code&gt;ClassCircularityError&lt;/code&gt;).
 7685         &lt;/error&gt;
 7686         &lt;error id=&quot;JVMTI_ERROR_FAILS_VERIFICATION&quot;&gt;
 7687           The retransformed class file bytes fail verification.
 7688         &lt;/error&gt;
 7689         &lt;error id=&quot;JVMTI_ERROR_NAMES_DONT_MATCH&quot;&gt;
 7690           The class name defined in a retransformed class file is
 7691           different from the name in the old class object.
 7692         &lt;/error&gt;
 7693         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_ADDED&quot;&gt;
 7694           A retransformed class file would require adding a method.
 7695         &lt;/error&gt;
 7696         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_SCHEMA_CHANGED&quot;&gt;
 7697           A retransformed class file changes a field.
 7698         &lt;/error&gt;
 7699         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_HIERARCHY_CHANGED&quot;&gt;
 7700           A direct superclass is different for a retransformed class file,
 7701           or the set of directly implemented
 7702           interfaces is different.
 7703         &lt;/error&gt;
 7704         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_DELETED&quot;&gt;
 7705           A retransformed class file does not declare a method
 7706           declared in the old class version.
 7707         &lt;/error&gt;
 7708         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_ATTRIBUTE_CHANGED&quot;&gt;
 7709           A retransformed class file has unsupported differences in class attributes.
 7710         &lt;/error&gt;
 7711         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_MODIFIERS_CHANGED&quot;&gt;
 7712           A retransformed class file has different class modifiers.
 7713         &lt;/error&gt;
 7714         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_MODIFIERS_CHANGED&quot;&gt;
 7715           A method in the retransformed class file has different modifiers
 7716           than its counterpart in the old class version.
 7717         &lt;/error&gt;
 7718       &lt;/errors&gt;
 7719     &lt;/function&gt;
 7720 
 7721     &lt;function id=&quot;RedefineClasses&quot; jkernel=&quot;yes&quot; num=&quot;87&quot;&gt;
 7722       &lt;synopsis&gt;Redefine Classes&lt;/synopsis&gt;
 7723       &lt;typedef id=&quot;jvmtiClassDefinition&quot; label=&quot;Class redefinition description&quot;&gt;
 7724         &lt;field id=&quot;klass&quot;&gt;
 7725           &lt;jclass/&gt;
 7726             &lt;description&gt;
 7727               Class object for this class
 7728             &lt;/description&gt;
 7729         &lt;/field&gt;
 7730         &lt;field id=&quot;class_byte_count&quot;&gt;
 7731           &lt;jint/&gt;
 7732           &lt;description&gt;
 7733             Number of bytes defining class (below)
 7734           &lt;/description&gt;
 7735         &lt;/field&gt;
 7736         &lt;field id=&quot;class_bytes&quot;&gt;
 7737           &lt;inbuf incount=&quot;class_byte_count&quot;&gt;&lt;uchar/&gt;&lt;/inbuf&gt;
 7738           &lt;description&gt;
 7739             Bytes defining class (in &lt;vmspec chapter=&quot;4&quot;/&gt;)
 7740           &lt;/description&gt;
 7741         &lt;/field&gt;
 7742       &lt;/typedef&gt;
 7743       &lt;description&gt;
 7744         All classes given are redefined according to the definitions
 7745         supplied.
 7746         This function is used to replace the definition of a class
 7747         with a new definition, as might be needed in fix-and-continue
 7748         debugging.
 7749         Where the existing class file bytes are to be transformed, for
 7750         example in
 7751         &lt;internallink id=&quot;bci&quot;&gt;bytecode instrumentation&lt;/internallink&gt;,
 7752         &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; should be used.
 7753         &lt;p/&gt;
 7754         Redefinition can cause new versions of methods to be installed.
 7755         Old method versions may become
 7756         &lt;internallink id=&quot;obsoleteMethods&quot;&gt;obsolete&lt;/internallink&gt;
 7757         The new method version will be used on new invokes.
 7758         If a method has active stack frames, those active frames continue to
 7759         run the bytecodes of the original method version.
 7760         If resetting of stack frames is desired, use
 7761         &lt;functionlink id=&quot;PopFrame&quot;&gt;&lt;/functionlink&gt;
 7762         to pop frames with obsolete method versions.
 7763         &lt;p/&gt;
 7764         This function does not cause any initialization except that which
 7765         would occur under the customary JVM semantics.
 7766         In other words, redefining a class does not cause its initializers to be
 7767         run. The values of static fields will remain as they were
 7768         prior to the call.
 7769         &lt;p/&gt;
 7770         Threads need not be suspended.
 7771         &lt;p/&gt;
 7772         All breakpoints in the class are cleared.
 7773         &lt;p/&gt;
 7774         All attributes are updated.
 7775         &lt;p/&gt;
 7776         Instances of the redefined class are not affected -- fields retain their
 7777         previous values.
 7778         &lt;functionlink id=&quot;GetTag&quot;&gt;Tags&lt;/functionlink&gt; on the instances are
 7779         also unaffected.
 7780         &lt;p/&gt;
 7781         In response to this call, the &lt;jvmti/&gt; event
 7782         &lt;eventlink id=&quot;ClassFileLoadHook&quot;&gt;Class File Load Hook&lt;/eventlink&gt;
 7783         will be sent (if enabled), but no other &lt;jvmti/&gt; events will be sent.
 7784         &lt;p/&gt;
 7785         The redefinition may change method bodies, the constant pool and attributes
 7786         (unless explicitly prohibited).
 7787         The redefinition must not add, remove or rename fields or methods, change the
 7788         signatures of methods, change modifiers, or change inheritance.
 7789         The redefinition must not change the &lt;code&gt;NestHost&lt;/code&gt;,
 7790         &lt;code&gt;NestMembers&lt;/code&gt;, or &lt;code&gt;Record&lt;/code&gt; attributes.
 7791         These restrictions may be lifted in future versions.
 7792         See the error return description below for information on error codes
 7793         returned if an unsupported redefinition is attempted.
 7794         The class file bytes are not verified or installed until they have passed
 7795         through the chain of &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events, thus the
 7796         returned error code reflects the result of the transformations applied
 7797         to the bytes passed into &lt;paramlink id=&quot;class_definitions&quot;/&gt;.
 7798         If any error code is returned other than &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;,
 7799         none of the classes to be redefined will have a new definition installed.
 7800         When this function returns (with the error code of &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;)
 7801         all of the classes to be redefined will have their new definitions installed.
 7802       &lt;/description&gt;
 7803       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7804       &lt;capabilities&gt;
 7805         &lt;required id=&quot;can_redefine_classes&quot;&gt;&lt;/required&gt;
 7806         &lt;capability id=&quot;can_redefine_any_class&quot;&gt;&lt;/capability&gt;
 7807       &lt;/capabilities&gt;
 7808       &lt;parameters&gt;
 7809         &lt;param id=&quot;class_count&quot;&gt;
 7810           &lt;jint min=&quot;0&quot;/&gt;
 7811           &lt;description&gt;
 7812             The number of classes specified in &lt;code&gt;class_definitions&lt;/code&gt;
 7813           &lt;/description&gt;
 7814         &lt;/param&gt;
 7815         &lt;param id=&quot;class_definitions&quot;&gt;
 7816           &lt;inbuf incount=&quot;class_count&quot;&gt;&lt;struct&gt;jvmtiClassDefinition&lt;/struct&gt;&lt;/inbuf&gt;
 7817           &lt;description&gt;
 7818             The array of new class definitions
 7819           &lt;/description&gt;
 7820         &lt;/param&gt;
 7821       &lt;/parameters&gt;
 7822       &lt;errors&gt;
 7823         &lt;error id=&quot;JVMTI_ERROR_NULL_POINTER&quot;&gt;
 7824           One of &lt;code&gt;class_bytes&lt;/code&gt; is &lt;code&gt;NULL&lt;/code&gt;.
 7825         &lt;/error&gt;
 7826         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_CLASS&quot;&gt;
 7827           An element of &lt;code&gt;class_definitions&lt;/code&gt; cannot be modified.
 7828           See &lt;functionlink id=&quot;IsModifiableClass&quot;/&gt;.
 7829         &lt;/error&gt;
 7830         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 7831           An element of &lt;code&gt;class_definitions&lt;/code&gt; is not a valid class.
 7832         &lt;/error&gt;
 7833         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_VERSION&quot;&gt;
 7834           A new class file has a version number not supported by this VM.
 7835         &lt;/error&gt;
 7836         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS_FORMAT&quot;&gt;
 7837           A new class file is malformed (The VM would return a &lt;code&gt;ClassFormatError&lt;/code&gt;).
 7838         &lt;/error&gt;
 7839         &lt;error id=&quot;JVMTI_ERROR_CIRCULAR_CLASS_DEFINITION&quot;&gt;
 7840           The new class file definitions would lead to a circular definition
 7841           (the VM would return a &lt;code&gt;ClassCircularityError&lt;/code&gt;).
 7842         &lt;/error&gt;
 7843         &lt;error id=&quot;JVMTI_ERROR_FAILS_VERIFICATION&quot;&gt;
 7844           The class bytes fail verification.
 7845         &lt;/error&gt;
 7846         &lt;error id=&quot;JVMTI_ERROR_NAMES_DONT_MATCH&quot;&gt;
 7847           The class name defined in a new class file is
 7848           different from the name in the old class object.
 7849         &lt;/error&gt;
 7850         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_ADDED&quot;&gt;
 7851           A new class file would require adding a method.
 7852         &lt;/error&gt;
 7853         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_SCHEMA_CHANGED&quot;&gt;
 7854           A new class version changes a field.
 7855         &lt;/error&gt;
 7856         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_HIERARCHY_CHANGED&quot;&gt;
 7857           A direct superclass is different for a new class
 7858           version, or the set of directly implemented
 7859           interfaces is different.
 7860         &lt;/error&gt;
 7861         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_DELETED&quot;&gt;
 7862           A new class version does not declare a method
 7863           declared in the old class version.
 7864         &lt;/error&gt;
 7865         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_ATTRIBUTE_CHANGED&quot;&gt;
 7866           A new class version has unsupported differences in class attributes.
 7867         &lt;/error&gt;
 7868         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_MODIFIERS_CHANGED&quot;&gt;
 7869           A new class version has different modifiers.
 7870         &lt;/error&gt;
 7871         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_MODIFIERS_CHANGED&quot;&gt;
 7872           A method in the new class version has different modifiers
 7873           than its counterpart in the old class version.
 7874         &lt;/error&gt;
 7875         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 7876           A module cannot be modified.
 7877           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 7878         &lt;/error&gt;
 7879       &lt;/errors&gt;
 7880     &lt;/function&gt;
 7881 
 7882   &lt;/category&gt;
 7883 
 7884   &lt;category id=&quot;object&quot; label=&quot;Object&quot;&gt;
 7885 
 7886     &lt;function id=&quot;GetObjectSize&quot; jkernel=&quot;yes&quot; phase=&quot;start&quot; num=&quot;154&quot;&gt;
 7887       &lt;synopsis&gt;Get Object Size&lt;/synopsis&gt;
 7888       &lt;description&gt;
 7889         For the object indicated by &lt;code&gt;object&lt;/code&gt;,
 7890         return via &lt;code&gt;size_ptr&lt;/code&gt; the size of the object.
 7891         This size is an implementation-specific approximation of
 7892         the amount of storage consumed by this object.
 7893         It may include some or all of the object&#39;s overhead, and thus
 7894         is useful for comparison within an implementation but not
 7895         between implementations.
 7896         The estimate may change during a single invocation of the JVM.
 7897       &lt;/description&gt;
 7898       &lt;origin&gt;new&lt;/origin&gt;
 7899       &lt;capabilities&gt;
 7900       &lt;/capabilities&gt;
 7901       &lt;parameters&gt;
 7902         &lt;param id=&quot;object&quot;&gt;
 7903           &lt;jobject/&gt;
 7904             &lt;description&gt;
 7905               The object to query.
 7906             &lt;/description&gt;
 7907         &lt;/param&gt;
 7908         &lt;param id=&quot;size_ptr&quot;&gt;
 7909           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 7910           &lt;description&gt;
 7911             On return, points to the object&#39;s size in bytes.
 7912           &lt;/description&gt;
 7913         &lt;/param&gt;
 7914       &lt;/parameters&gt;
 7915       &lt;errors&gt;
 7916       &lt;/errors&gt;
 7917     &lt;/function&gt;
 7918 
 7919     &lt;function id=&quot;GetObjectHashCode&quot; phase=&quot;start&quot; num=&quot;58&quot;&gt;
 7920       &lt;synopsis&gt;Get Object Hash Code&lt;/synopsis&gt;
 7921       &lt;description&gt;
 7922         For the object indicated by &lt;code&gt;object&lt;/code&gt;,
 7923         return via &lt;code&gt;hash_code_ptr&lt;/code&gt; a hash code.
 7924         This hash code could be used to maintain a hash table of object references,
 7925         however, on some implementations this can cause significant performance
 7926         impacts--in most cases
 7927         &lt;internallink id=&quot;Heap&quot;&gt;tags&lt;/internallink&gt;
 7928         will be a more efficient means of associating information with objects.
 7929         This function guarantees
 7930         the same hash code value for a particular object throughout its life
 7931       &lt;/description&gt;
 7932       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7933       &lt;capabilities&gt;
 7934       &lt;/capabilities&gt;
 7935       &lt;parameters&gt;
 7936         &lt;param id=&quot;object&quot;&gt;
 7937           &lt;jobject/&gt;
 7938             &lt;description&gt;
 7939               The object to query.
 7940             &lt;/description&gt;
 7941         &lt;/param&gt;
 7942         &lt;param id=&quot;hash_code_ptr&quot;&gt;
 7943           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7944           &lt;description&gt;
 7945             On return, points to the object&#39;s hash code.
 7946           &lt;/description&gt;
 7947         &lt;/param&gt;
 7948       &lt;/parameters&gt;
 7949       &lt;errors&gt;
 7950       &lt;/errors&gt;
 7951     &lt;/function&gt;
 7952 
 7953     &lt;function id=&quot;GetObjectMonitorUsage&quot; num=&quot;59&quot;&gt;
 7954       &lt;synopsis&gt;Get Object Monitor Usage&lt;/synopsis&gt;
 7955       &lt;typedef id=&quot;jvmtiMonitorUsage&quot; label=&quot;Object monitor usage information&quot;&gt;
 7956         &lt;field id=&quot;owner&quot;&gt;
 7957           &lt;jthread/&gt;
 7958             &lt;description&gt;
 7959               The thread owning this monitor, or &lt;code&gt;NULL&lt;/code&gt; if unused
 7960             &lt;/description&gt;
 7961         &lt;/field&gt;
 7962         &lt;field id=&quot;entry_count&quot;&gt;
 7963           &lt;jint/&gt;
 7964           &lt;description&gt;
 7965             The number of times the owning thread has entered the monitor
 7966           &lt;/description&gt;
 7967         &lt;/field&gt;
 7968         &lt;field id=&quot;waiter_count&quot;&gt;
 7969           &lt;jint/&gt;
 7970           &lt;description&gt;
 7971             The number of threads waiting to own this monitor
 7972           &lt;/description&gt;
 7973         &lt;/field&gt;
 7974         &lt;field id=&quot;waiters&quot;&gt;
 7975           &lt;allocfieldbuf&gt;&lt;jthread/&gt;&lt;/allocfieldbuf&gt;
 7976             &lt;description&gt;
 7977               The &lt;code&gt;waiter_count&lt;/code&gt; waiting threads
 7978             &lt;/description&gt;
 7979         &lt;/field&gt;
 7980         &lt;field id=&quot;notify_waiter_count&quot;&gt;
 7981           &lt;jint/&gt;
 7982           &lt;description&gt;
 7983             The number of threads waiting to be notified by this monitor
 7984           &lt;/description&gt;
 7985         &lt;/field&gt;
 7986         &lt;field id=&quot;notify_waiters&quot;&gt;
 7987           &lt;allocfieldbuf&gt;&lt;jthread/&gt;&lt;/allocfieldbuf&gt;
 7988             &lt;description&gt;
 7989               The &lt;code&gt;notify_waiter_count&lt;/code&gt; threads waiting to be notified
 7990             &lt;/description&gt;
 7991         &lt;/field&gt;
 7992       &lt;/typedef&gt;
 7993       &lt;description&gt;
 7994         Get information about the object&#39;s monitor.
 7995         The fields of the &lt;functionlink id=&quot;jvmtiMonitorUsage&quot;&gt;&lt;/functionlink&gt; structure
 7996         are filled in with information about usage of the monitor.
 7997           &lt;todo&gt;
 7998             Decide and then clarify suspend requirements.
 7999           &lt;/todo&gt;
 8000       &lt;/description&gt;
 8001       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8002       &lt;capabilities&gt;
 8003         &lt;required id=&quot;can_get_monitor_info&quot;&gt;&lt;/required&gt;
 8004       &lt;/capabilities&gt;
 8005       &lt;parameters&gt;
 8006         &lt;param id=&quot;object&quot;&gt;
 8007           &lt;jobject/&gt;
 8008             &lt;description&gt;
 8009               The object to query.
 8010             &lt;/description&gt;
 8011         &lt;/param&gt;
 8012         &lt;param id=&quot;info_ptr&quot;&gt;
 8013           &lt;outptr&gt;&lt;struct&gt;jvmtiMonitorUsage&lt;/struct&gt;&lt;/outptr&gt;
 8014           &lt;description&gt;
 8015             On return, filled with monitor information for the
 8016             specified object.
 8017           &lt;/description&gt;
 8018         &lt;/param&gt;
 8019       &lt;/parameters&gt;
 8020       &lt;errors&gt;
 8021       &lt;/errors&gt;
 8022     &lt;/function&gt;
 8023 
 8024     &lt;elide&gt;
 8025     &lt;function id=&quot;GetObjectMonitors&quot; num=&quot;116&quot;&gt;
 8026       &lt;synopsis&gt;Get Object Monitors&lt;/synopsis&gt;
 8027       &lt;description&gt;
 8028         Return the list of object monitors.
 8029         &lt;p/&gt;
 8030         Note: details about each monitor can be examined with
 8031         &lt;functionlink id=&quot;GetObjectMonitorUsage&quot;&gt;&lt;/functionlink&gt;.
 8032       &lt;/description&gt;
 8033       &lt;origin&gt;new&lt;/origin&gt;
 8034       &lt;capabilities&gt;
 8035         &lt;required id=&quot;can_get_monitor_info&quot;&gt;&lt;/required&gt;
 8036       &lt;/capabilities&gt;
 8037       &lt;parameters&gt;
 8038         &lt;param id=&quot;monitorCnt&quot;&gt;
 8039           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8040           &lt;description&gt;
 8041             On return, pointer to the number
 8042             of monitors returned in &lt;code&gt;monitors_ptr&lt;/code&gt;.
 8043           &lt;/description&gt;
 8044         &lt;/param&gt;
 8045         &lt;param id=&quot;monitors_ptr&quot;&gt;
 8046           &lt;allocbuf outcount=&quot;monitorCnt&quot;&gt;&lt;jobject/&gt;&lt;/allocbuf&gt;
 8047             &lt;description&gt;
 8048               On return, pointer to the monitor list.
 8049             &lt;/description&gt;
 8050         &lt;/param&gt;
 8051       &lt;/parameters&gt;
 8052       &lt;errors&gt;
 8053       &lt;/errors&gt;
 8054     &lt;/function&gt;
 8055     &lt;/elide&gt;
 8056 
 8057   &lt;/category&gt;
 8058 
 8059   &lt;category id=&quot;fieldCategory&quot; label=&quot;Field&quot;&gt;
 8060 
 8061     &lt;intro&gt;
 8062     &lt;/intro&gt;
 8063 
 8064     &lt;function id=&quot;GetFieldName&quot; phase=&quot;start&quot; num=&quot;60&quot;&gt;
 8065       &lt;synopsis&gt;Get Field Name (and Signature)&lt;/synopsis&gt;
 8066       &lt;description&gt;
 8067         For the field indicated by &lt;paramlink id=&quot;klass&quot;/&gt; and &lt;paramlink id=&quot;field&quot;/&gt;,
 8068         return the field name via &lt;paramlink id=&quot;name_ptr&quot;/&gt; and field signature via
 8069         &lt;paramlink id=&quot;signature_ptr&quot;/&gt;.
 8070         &lt;p/&gt;
 8071         Field signatures are defined in the
 8072         &lt;externallink id=&quot;jni/index.html&quot;&gt;JNI Specification&lt;/externallink&gt;
 8073         and are referred to as &lt;code&gt;field descriptors&lt;/code&gt; in
 8074         &lt;vmspec chapter=&quot;4.3.2&quot;/&gt;.
 8075       &lt;/description&gt;
 8076       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 8077       &lt;capabilities&gt;
 8078       &lt;/capabilities&gt;
 8079       &lt;parameters&gt;
 8080         &lt;param id=&quot;klass&quot;&gt;
 8081           &lt;jclass field=&quot;field&quot;/&gt;
 8082             &lt;description&gt;
 8083               The class of the field to query.
 8084             &lt;/description&gt;
 8085         &lt;/param&gt;
 8086         &lt;param id=&quot;field&quot;&gt;
 8087           &lt;jfieldID class=&quot;klass&quot;/&gt;
 8088             &lt;description&gt;
 8089               The field to query.
 8090             &lt;/description&gt;
 8091         &lt;/param&gt;
 8092         &lt;param id=&quot;name_ptr&quot;&gt;
 8093           &lt;allocbuf&gt;
 8094             &lt;char/&gt;
 8095             &lt;nullok&gt;the name is not returned&lt;/nullok&gt;
 8096           &lt;/allocbuf&gt;
 8097           &lt;description&gt;
 8098             On return, points to the field name, encoded as a
 8099             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8100           &lt;/description&gt;
 8101         &lt;/param&gt;
 8102         &lt;param id=&quot;signature_ptr&quot;&gt;
 8103           &lt;allocbuf&gt;
 8104             &lt;char/&gt;
 8105             &lt;nullok&gt;the signature is not returned&lt;/nullok&gt;
 8106           &lt;/allocbuf&gt;
 8107           &lt;description&gt;
 8108             On return, points to the field signature, encoded as a
 8109             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8110           &lt;/description&gt;
 8111         &lt;/param&gt;
 8112         &lt;param id=&quot;generic_ptr&quot;&gt;
 8113           &lt;allocbuf&gt;
 8114             &lt;char/&gt;
 8115             &lt;nullok&gt;the generic signature is not returned&lt;/nullok&gt;
 8116           &lt;/allocbuf&gt;
 8117           &lt;description&gt;
 8118             On return, points to the generic signature of the field, encoded as a
 8119             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8120             If there is no generic signature attribute for the field, then,
 8121             on return, points to &lt;code&gt;NULL&lt;/code&gt;.
 8122           &lt;/description&gt;
 8123         &lt;/param&gt;
 8124       &lt;/parameters&gt;
 8125       &lt;errors&gt;
 8126       &lt;/errors&gt;
 8127     &lt;/function&gt;
 8128 
 8129     &lt;function id=&quot;GetFieldDeclaringClass&quot; phase=&quot;start&quot; num=&quot;61&quot;&gt;
 8130       &lt;synopsis&gt;Get Field Declaring Class&lt;/synopsis&gt;
 8131       &lt;description&gt;
 8132         For the field indicated by &lt;code&gt;klass&lt;/code&gt; and &lt;code&gt;field&lt;/code&gt;
 8133         return the class that defined it via &lt;code&gt;declaring_class_ptr&lt;/code&gt;.
 8134         The declaring class will either be &lt;code&gt;klass&lt;/code&gt;, a superclass, or
 8135         an implemented interface.
 8136       &lt;/description&gt;
 8137       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8138       &lt;capabilities&gt;
 8139       &lt;/capabilities&gt;
 8140       &lt;parameters&gt;
 8141         &lt;param id=&quot;klass&quot;&gt;
 8142           &lt;jclass field=&quot;field&quot;/&gt;
 8143             &lt;description&gt;
 8144               The class to query.
 8145             &lt;/description&gt;
 8146         &lt;/param&gt;
 8147         &lt;param id=&quot;field&quot;&gt;
 8148           &lt;jfieldID class=&quot;klass&quot;/&gt;
 8149             &lt;description&gt;
 8150               The field to query.
 8151             &lt;/description&gt;
 8152         &lt;/param&gt;
 8153         &lt;param id=&quot;declaring_class_ptr&quot;&gt;
 8154           &lt;outptr&gt;&lt;jclass/&gt;&lt;/outptr&gt;
 8155             &lt;description&gt;
 8156               On return, points to the declaring class
 8157             &lt;/description&gt;
 8158         &lt;/param&gt;
 8159       &lt;/parameters&gt;
 8160       &lt;errors&gt;
 8161       &lt;/errors&gt;
 8162     &lt;/function&gt;
 8163 
 8164     &lt;function id=&quot;GetFieldModifiers&quot; phase=&quot;start&quot; num=&quot;62&quot;&gt;
 8165       &lt;synopsis&gt;Get Field Modifiers&lt;/synopsis&gt;
 8166       &lt;description&gt;
 8167         For the field indicated by &lt;code&gt;klass&lt;/code&gt; and &lt;code&gt;field&lt;/code&gt;
 8168         return the access flags via &lt;code&gt;modifiers_ptr&lt;/code&gt;.
 8169         Access flags are defined in &lt;vmspec chapter=&quot;4&quot;/&gt;.
 8170       &lt;/description&gt;
 8171       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8172       &lt;capabilities&gt;
 8173       &lt;/capabilities&gt;
 8174       &lt;parameters&gt;
 8175         &lt;param id=&quot;klass&quot;&gt;
 8176           &lt;jclass field=&quot;field&quot;/&gt;
 8177             &lt;description&gt;
 8178               The class to query.
 8179             &lt;/description&gt;
 8180         &lt;/param&gt;
 8181         &lt;param id=&quot;field&quot;&gt;
 8182           &lt;jfieldID class=&quot;klass&quot;/&gt;
 8183             &lt;description&gt;
 8184               The field to query.
 8185             &lt;/description&gt;
 8186         &lt;/param&gt;
 8187         &lt;param id=&quot;modifiers_ptr&quot;&gt;
 8188           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8189           &lt;description&gt;
 8190             On return, points to the access flags.
 8191           &lt;/description&gt;
 8192         &lt;/param&gt;
 8193       &lt;/parameters&gt;
 8194       &lt;errors&gt;
 8195       &lt;/errors&gt;
 8196     &lt;/function&gt;
 8197 
 8198     &lt;function id=&quot;IsFieldSynthetic&quot; phase=&quot;start&quot; num=&quot;63&quot;&gt;
 8199       &lt;synopsis&gt;Is Field Synthetic&lt;/synopsis&gt;
 8200       &lt;description&gt;
 8201         For the field indicated by &lt;code&gt;klass&lt;/code&gt; and &lt;code&gt;field&lt;/code&gt;, return a
 8202         value indicating whether the field is synthetic via &lt;code&gt;is_synthetic_ptr&lt;/code&gt;.
 8203         Synthetic fields are generated by the compiler but not present in the
 8204         original source code.
 8205       &lt;/description&gt;
 8206       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8207       &lt;capabilities&gt;
 8208         &lt;required id=&quot;can_get_synthetic_attribute&quot;&gt;&lt;/required&gt;
 8209       &lt;/capabilities&gt;
 8210       &lt;parameters&gt;
 8211         &lt;param id=&quot;klass&quot;&gt;
 8212           &lt;jclass field=&quot;field&quot;/&gt;
 8213             &lt;description&gt;
 8214               The class of the field to query.
 8215             &lt;/description&gt;
 8216         &lt;/param&gt;
 8217         &lt;param id=&quot;field&quot;&gt;
 8218           &lt;jfieldID class=&quot;klass&quot;/&gt;
 8219             &lt;description&gt;
 8220               The field to query.
 8221             &lt;/description&gt;
 8222         &lt;/param&gt;
 8223         &lt;param id=&quot;is_synthetic_ptr&quot;&gt;
 8224           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 8225           &lt;description&gt;
 8226             On return, points to the boolean result of this function.
 8227           &lt;/description&gt;
 8228         &lt;/param&gt;
 8229       &lt;/parameters&gt;
 8230       &lt;errors&gt;
 8231       &lt;/errors&gt;
 8232     &lt;/function&gt;
 8233 
 8234   &lt;/category&gt;
 8235 
 8236   &lt;category id=&quot;method&quot; label=&quot;Method&quot;&gt;
 8237 
 8238     &lt;intro&gt;
 8239       These functions provide information about a method (represented as a
 8240       &lt;typelink id=&quot;jmethodID&quot;/&gt;) and set how methods are processed.
 8241     &lt;/intro&gt;
 8242 
 8243     &lt;intro id=&quot;obsoleteMethods&quot; label=&quot;Obsolete Methods&quot;&gt;
 8244       The functions &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; and
 8245       &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; can cause new versions
 8246       of methods to be installed.
 8247       An original version of a method is considered equivalent
 8248       to the new version if:
 8249       &lt;ul&gt;
 8250         &lt;li&gt;their bytecodes are the same except for indices into the
 8251           constant pool and &lt;/li&gt;
 8252         &lt;li&gt;the referenced constants are equal.&lt;/li&gt;
 8253       &lt;/ul&gt;
 8254       An original method version which is not equivalent to the
 8255       new method version is called obsolete and is assigned a new method ID;
 8256       the original method ID now refers to the new method version.
 8257       A method ID can be tested for obsolescence with
 8258       &lt;functionlink id=&quot;IsMethodObsolete&quot;/&gt;.
 8259     &lt;/intro&gt;
 8260 
 8261     &lt;function id=&quot;GetMethodName&quot; phase=&quot;start&quot; num=&quot;64&quot;&gt;
 8262       &lt;synopsis&gt;Get Method Name (and Signature)&lt;/synopsis&gt;
 8263       &lt;description&gt;
 8264         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8265         return the method name via &lt;code&gt;name_ptr&lt;/code&gt; and method signature via
 8266         &lt;code&gt;signature_ptr&lt;/code&gt;.
 8267         &lt;p/&gt;
 8268         Method signatures are defined in the
 8269         &lt;externallink id=&quot;jni/index.html&quot;&gt;JNI Specification&lt;/externallink&gt;
 8270         and are referred to as &lt;code&gt;method descriptors&lt;/code&gt; in
 8271         &lt;vmspec chapter=&quot;4.3.3&quot;/&gt;.
 8272         Note this is different
 8273         than method signatures as defined in the &lt;i&gt;Java Language Specification&lt;/i&gt;.
 8274       &lt;/description&gt;
 8275       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 8276       &lt;capabilities&gt;
 8277       &lt;/capabilities&gt;
 8278       &lt;parameters&gt;
 8279         &lt;param id=&quot;method&quot;&gt;
 8280           &lt;jmethodID/&gt;
 8281             &lt;description&gt;
 8282               The method to query.
 8283             &lt;/description&gt;
 8284         &lt;/param&gt;
 8285         &lt;param id=&quot;name_ptr&quot;&gt;
 8286           &lt;allocbuf&gt;
 8287             &lt;char/&gt;
 8288             &lt;nullok&gt;the name is not returned&lt;/nullok&gt;
 8289           &lt;/allocbuf&gt;
 8290           &lt;description&gt;
 8291             On return, points to the method name, encoded as a
 8292             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8293           &lt;/description&gt;
 8294         &lt;/param&gt;
 8295         &lt;param id=&quot;signature_ptr&quot;&gt;
 8296           &lt;allocbuf&gt;
 8297             &lt;char/&gt;
 8298             &lt;nullok&gt;the signature is not returned&lt;/nullok&gt;
 8299           &lt;/allocbuf&gt;
 8300           &lt;description&gt;
 8301             On return, points to the method signature, encoded as a
 8302             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8303           &lt;/description&gt;
 8304         &lt;/param&gt;
 8305         &lt;param id=&quot;generic_ptr&quot;&gt;
 8306           &lt;allocbuf&gt;
 8307             &lt;char/&gt;
 8308             &lt;nullok&gt;the generic signature is not returned&lt;/nullok&gt;
 8309           &lt;/allocbuf&gt;
 8310           &lt;description&gt;
 8311             On return, points to the generic signature of the method, encoded as a
 8312             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8313             If there is no generic signature attribute for the method, then,
 8314             on return, points to &lt;code&gt;NULL&lt;/code&gt;.
 8315           &lt;/description&gt;
 8316         &lt;/param&gt;
 8317       &lt;/parameters&gt;
 8318       &lt;errors&gt;
 8319       &lt;/errors&gt;
 8320     &lt;/function&gt;
 8321 
 8322     &lt;function id=&quot;GetMethodDeclaringClass&quot; phase=&quot;start&quot; num=&quot;65&quot;&gt;
 8323       &lt;synopsis&gt;Get Method Declaring Class&lt;/synopsis&gt;
 8324       &lt;description&gt;
 8325         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8326         return the class that defined it via &lt;code&gt;declaring_class_ptr&lt;/code&gt;.
 8327       &lt;/description&gt;
 8328       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8329       &lt;capabilities&gt;
 8330       &lt;/capabilities&gt;
 8331       &lt;parameters&gt;
 8332         &lt;param id=&quot;klass&quot;&gt;
 8333           &lt;jclass method=&quot;method&quot;/&gt;
 8334             &lt;description&gt;
 8335               The class to query.
 8336             &lt;/description&gt;
 8337         &lt;/param&gt;
 8338         &lt;param id=&quot;method&quot;&gt;
 8339           &lt;jmethodID class=&quot;klass&quot;/&gt;
 8340             &lt;description&gt;
 8341               The method to query.
 8342             &lt;/description&gt;
 8343         &lt;/param&gt;
 8344         &lt;param id=&quot;declaring_class_ptr&quot;&gt;
 8345           &lt;outptr&gt;&lt;jclass/&gt;&lt;/outptr&gt;
 8346             &lt;description&gt;
 8347               On return, points to the declaring class
 8348             &lt;/description&gt;
 8349         &lt;/param&gt;
 8350       &lt;/parameters&gt;
 8351       &lt;errors&gt;
 8352       &lt;/errors&gt;
 8353     &lt;/function&gt;
 8354 
 8355     &lt;function id=&quot;GetMethodModifiers&quot; phase=&quot;start&quot; num=&quot;66&quot;&gt;
 8356       &lt;synopsis&gt;Get Method Modifiers&lt;/synopsis&gt;
 8357       &lt;description&gt;
 8358         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8359         return the access flags via &lt;code&gt;modifiers_ptr&lt;/code&gt;.
 8360         Access flags are defined in &lt;vmspec chapter=&quot;4&quot;/&gt;.
 8361       &lt;/description&gt;
 8362       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8363       &lt;capabilities&gt;
 8364       &lt;/capabilities&gt;
 8365       &lt;parameters&gt;
 8366         &lt;param id=&quot;klass&quot;&gt;
 8367           &lt;jclass method=&quot;method&quot;/&gt;
 8368             &lt;description&gt;
 8369               The class to query.
 8370             &lt;/description&gt;
 8371         &lt;/param&gt;
 8372         &lt;param id=&quot;method&quot;&gt;
 8373           &lt;jmethodID class=&quot;klass&quot;/&gt;
 8374             &lt;description&gt;
 8375               The method to query.
 8376             &lt;/description&gt;
 8377         &lt;/param&gt;
 8378         &lt;param id=&quot;modifiers_ptr&quot;&gt;
 8379           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8380           &lt;description&gt;
 8381             On return, points to the access flags.
 8382           &lt;/description&gt;
 8383         &lt;/param&gt;
 8384       &lt;/parameters&gt;
 8385       &lt;errors&gt;
 8386       &lt;/errors&gt;
 8387     &lt;/function&gt;
 8388 
 8389     &lt;function id=&quot;GetMaxLocals&quot; phase=&quot;start&quot; num=&quot;68&quot;&gt;
 8390       &lt;synopsis&gt;Get Max Locals&lt;/synopsis&gt;
 8391       &lt;description&gt;
 8392           For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8393           return the number of local variable slots used by the method,
 8394           including the local variables used to pass parameters to the
 8395           method on its invocation.
 8396           &lt;p/&gt;
 8397           See &lt;code&gt;max_locals&lt;/code&gt; in &lt;vmspec chapter=&quot;4.7.3&quot;/&gt;.
 8398       &lt;/description&gt;
 8399       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8400       &lt;capabilities&gt;
 8401       &lt;/capabilities&gt;
 8402       &lt;parameters&gt;
 8403         &lt;param id=&quot;klass&quot;&gt;
 8404           &lt;jclass method=&quot;method&quot;/&gt;
 8405             &lt;description&gt;
 8406               The class to query.
 8407             &lt;/description&gt;
 8408         &lt;/param&gt;
 8409         &lt;param id=&quot;method&quot;&gt;
 8410           &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8411             &lt;description&gt;
 8412               The method to query.
 8413             &lt;/description&gt;
 8414         &lt;/param&gt;
 8415         &lt;param id=&quot;max_ptr&quot;&gt;
 8416           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8417           &lt;description&gt;
 8418             On return, points to the maximum number of local slots
 8419           &lt;/description&gt;
 8420         &lt;/param&gt;
 8421       &lt;/parameters&gt;
 8422       &lt;errors&gt;
 8423       &lt;/errors&gt;
 8424     &lt;/function&gt;
 8425 
 8426     &lt;function id=&quot;GetArgumentsSize&quot; phase=&quot;start&quot; num=&quot;69&quot;&gt;
 8427       &lt;synopsis&gt;Get Arguments Size&lt;/synopsis&gt;
 8428       &lt;description&gt;
 8429         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8430         return via &lt;code&gt;max_ptr&lt;/code&gt; the number of local variable slots used
 8431         by the method&#39;s arguments.
 8432         Note that two-word arguments use two slots.
 8433       &lt;/description&gt;
 8434       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8435       &lt;capabilities&gt;
 8436       &lt;/capabilities&gt;
 8437       &lt;parameters&gt;
 8438         &lt;param id=&quot;klass&quot;&gt;
 8439           &lt;jclass method=&quot;method&quot;/&gt;
 8440             &lt;description&gt;
 8441               The class to query.
 8442             &lt;/description&gt;
 8443         &lt;/param&gt;
 8444         &lt;param id=&quot;method&quot;&gt;
 8445           &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8446             &lt;description&gt;
 8447               The method to query.
 8448             &lt;/description&gt;
 8449         &lt;/param&gt;
 8450         &lt;param id=&quot;size_ptr&quot;&gt;
 8451           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8452           &lt;description&gt;
 8453             On return, points to the number of argument slots
 8454           &lt;/description&gt;
 8455         &lt;/param&gt;
 8456       &lt;/parameters&gt;
 8457       &lt;errors&gt;
 8458       &lt;/errors&gt;
 8459     &lt;/function&gt;
 8460 
 8461     &lt;function id=&quot;GetLineNumberTable&quot; phase=&quot;start&quot; num=&quot;70&quot;&gt;
 8462       &lt;synopsis&gt;Get Line Number Table&lt;/synopsis&gt;
 8463       &lt;typedef id=&quot;jvmtiLineNumberEntry&quot; label=&quot;Line number table entry&quot;&gt;
 8464         &lt;field id=&quot;start_location&quot;&gt;
 8465           &lt;jlocation/&gt;
 8466           &lt;description&gt;
 8467             the &lt;datalink id=&quot;jlocation&quot;&gt;&lt;/datalink&gt; where the line begins
 8468           &lt;/description&gt;
 8469         &lt;/field&gt;
 8470         &lt;field id=&quot;line_number&quot;&gt;
 8471           &lt;jint/&gt;
 8472           &lt;description&gt;
 8473             the line number
 8474           &lt;/description&gt;
 8475         &lt;/field&gt;
 8476       &lt;/typedef&gt;
 8477       &lt;description&gt;
 8478         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8479         return a table of source line number entries. The size of the table is
 8480         returned via &lt;code&gt;entry_count_ptr&lt;/code&gt; and the table itself is
 8481         returned via &lt;code&gt;table_ptr&lt;/code&gt;.
 8482       &lt;/description&gt;
 8483       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8484       &lt;capabilities&gt;
 8485         &lt;required id=&quot;can_get_line_numbers&quot;&gt;&lt;/required&gt;
 8486       &lt;/capabilities&gt;
 8487       &lt;parameters&gt;
 8488         &lt;param id=&quot;klass&quot;&gt;
 8489           &lt;jclass method=&quot;method&quot;/&gt;
 8490             &lt;description&gt;
 8491               The class to query.
 8492             &lt;/description&gt;
 8493         &lt;/param&gt;
 8494         &lt;param id=&quot;method&quot;&gt;
 8495           &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8496             &lt;description&gt;
 8497               The method to query.
 8498             &lt;/description&gt;
 8499         &lt;/param&gt;
 8500         &lt;param id=&quot;entry_count_ptr&quot;&gt;
 8501           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8502           &lt;description&gt;
 8503             On return, points to the number of entries in the table
 8504           &lt;/description&gt;
 8505         &lt;/param&gt;
 8506         &lt;param id=&quot;table_ptr&quot;&gt;
 8507           &lt;allocbuf outcount=&quot;entry_count_ptr&quot;&gt;&lt;struct&gt;jvmtiLineNumberEntry&lt;/struct&gt;&lt;/allocbuf&gt;
 8508           &lt;description&gt;
 8509             On return, points to the line number table pointer.
 8510           &lt;/description&gt;
 8511         &lt;/param&gt;
 8512       &lt;/parameters&gt;
 8513       &lt;errors&gt;
 8514         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 8515           Class information does not include line numbers.
 8516         &lt;/error&gt;
 8517       &lt;/errors&gt;
 8518     &lt;/function&gt;
 8519 
 8520     &lt;function id=&quot;GetMethodLocation&quot; phase=&quot;start&quot; num=&quot;71&quot;&gt;
 8521       &lt;synopsis&gt;Get Method Location&lt;/synopsis&gt;
 8522       &lt;description&gt;
 8523         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8524         return the beginning and ending addresses through
 8525         &lt;code&gt;start_location_ptr&lt;/code&gt; and &lt;code&gt;end_location_ptr&lt;/code&gt;. In a
 8526         conventional bytecode indexing scheme,
 8527         &lt;code&gt;start_location_ptr&lt;/code&gt; will always point to zero
 8528         and &lt;code&gt;end_location_ptr&lt;/code&gt;
 8529         will always point to the bytecode count minus one.
 8530       &lt;/description&gt;
 8531       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8532       &lt;capabilities&gt;
 8533       &lt;/capabilities&gt;
 8534       &lt;parameters&gt;
 8535         &lt;param id=&quot;klass&quot;&gt;
 8536           &lt;jclass method=&quot;method&quot;/&gt;
 8537             &lt;description&gt;
 8538               The class to query.
 8539             &lt;/description&gt;
 8540         &lt;/param&gt;
 8541         &lt;param id=&quot;method&quot;&gt;
 8542           &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8543             &lt;description&gt;
 8544               The method to query.
 8545             &lt;/description&gt;
 8546         &lt;/param&gt;
 8547         &lt;param id=&quot;start_location_ptr&quot;&gt;
 8548           &lt;outptr&gt;&lt;jlocation/&gt;&lt;/outptr&gt;
 8549           &lt;description&gt;
 8550             On return, points to the first location, or
 8551             &lt;code&gt;-1&lt;/code&gt; if location information is not available.
 8552             If the information is available and
 8553             &lt;functionlink id=&quot;GetJLocationFormat&quot;&gt;&lt;/functionlink&gt;
 8554             returns &lt;datalink id=&quot;JVMTI_JLOCATION_JVMBCI&quot;&gt;&lt;/datalink&gt;
 8555             then this will always be zero.
 8556           &lt;/description&gt;
 8557         &lt;/param&gt;
 8558         &lt;param id=&quot;end_location_ptr&quot;&gt;
 8559           &lt;outptr&gt;&lt;jlocation/&gt;&lt;/outptr&gt;
 8560           &lt;description&gt;
 8561             On return, points to the last location,
 8562             or &lt;code&gt;-1&lt;/code&gt; if location information is not available.
 8563           &lt;/description&gt;
 8564         &lt;/param&gt;
 8565       &lt;/parameters&gt;
 8566       &lt;errors&gt;
 8567         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 8568           Class information does not include method sizes.
 8569         &lt;/error&gt;
 8570       &lt;/errors&gt;
 8571     &lt;/function&gt;
 8572 
 8573     &lt;function id=&quot;GetLocalVariableTable&quot; num=&quot;72&quot;&gt;
 8574       &lt;synopsis&gt;Get Local Variable Table&lt;/synopsis&gt;
 8575       &lt;typedef id=&quot;jvmtiLocalVariableEntry&quot; label=&quot;Local variable table entry&quot;&gt;
 8576         &lt;field id=&quot;start_location&quot;&gt;
 8577           &lt;jlocation/&gt;
 8578           &lt;description&gt;
 8579             The code array index where the local variable is first valid
 8580             (that is, where it must have a value).
 8581           &lt;/description&gt;
 8582         &lt;/field&gt;
 8583         &lt;field id=&quot;length&quot;&gt;
 8584           &lt;jint/&gt;
 8585           &lt;description&gt;
 8586             The length of the valid section for this local variable.
 8587             The last code array index where the local variable is valid
 8588             is &lt;code&gt;start_location + length&lt;/code&gt;.
 8589           &lt;/description&gt;
 8590         &lt;/field&gt;
 8591         &lt;field id=&quot;name&quot;&gt;
 8592           &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 8593           &lt;description&gt;
 8594             The local variable name, encoded as a
 8595             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8596           &lt;/description&gt;
 8597         &lt;/field&gt;
 8598         &lt;field id=&quot;signature&quot;&gt;
 8599           &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 8600           &lt;description&gt;
 8601             The local variable&#39;s type signature, encoded as a
 8602             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8603             The signature format is the same as that defined in
 8604             &lt;vmspec chapter=&quot;4.3.2&quot;/&gt;.
 8605           &lt;/description&gt;
 8606         &lt;/field&gt;
 8607         &lt;field id=&quot;generic_signature&quot;&gt;
 8608           &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 8609           &lt;description&gt;
 8610             The local variable&#39;s generic signature, encoded as a
 8611             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8612             The value of this field will be &lt;code&gt;NULL&lt;/code&gt; for any local
 8613             variable which does not have a generic type.
 8614           &lt;/description&gt;
 8615         &lt;/field&gt;
 8616         &lt;field id=&quot;slot&quot;&gt;
 8617           &lt;jint/&gt;
 8618           &lt;description&gt;
 8619             The local variable&#39;s slot.  See &lt;internallink id=&quot;local&quot;&gt;Local Variables&lt;/internallink&gt;.
 8620           &lt;/description&gt;
 8621         &lt;/field&gt;
 8622       &lt;/typedef&gt;
 8623       &lt;description&gt;
 8624         Return local variable information.
 8625       &lt;/description&gt;
 8626       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 8627       &lt;capabilities&gt;
 8628         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 8629       &lt;/capabilities&gt;
 8630       &lt;parameters&gt;
 8631         &lt;param id=&quot;method&quot;&gt;
 8632           &lt;jmethodID native=&quot;error&quot;/&gt;
 8633             &lt;description&gt;
 8634               The method to query.
 8635             &lt;/description&gt;
 8636         &lt;/param&gt;
 8637         &lt;param id=&quot;entry_count_ptr&quot;&gt;
 8638           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8639           &lt;description&gt;
 8640             On return, points to the number of entries in the table
 8641           &lt;/description&gt;
 8642         &lt;/param&gt;
 8643         &lt;param id=&quot;table_ptr&quot;&gt;
 8644           &lt;allocbuf outcount=&quot;entry_count_ptr&quot;&gt;&lt;struct&gt;jvmtiLocalVariableEntry&lt;/struct&gt;&lt;/allocbuf&gt;
 8645           &lt;description&gt;
 8646             On return, points to an array of local variable table entries.
 8647           &lt;/description&gt;
 8648         &lt;/param&gt;
 8649       &lt;/parameters&gt;
 8650       &lt;errors&gt;
 8651         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 8652           Class information does not include local variable
 8653           information.
 8654         &lt;/error&gt;
 8655       &lt;/errors&gt;
 8656     &lt;/function&gt;
 8657 
 8658     &lt;function id=&quot;GetBytecodes&quot; phase=&quot;start&quot; num=&quot;75&quot;&gt;
 8659       &lt;synopsis&gt;Get Bytecodes&lt;/synopsis&gt;
 8660       &lt;description&gt;
 8661         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8662         return the bytecodes that implement the method. The number of
 8663         bytecodes is returned via &lt;code&gt;bytecode_count_ptr&lt;/code&gt;. The bytecodes
 8664         themselves are returned via &lt;code&gt;bytecodes_ptr&lt;/code&gt;.
 8665       &lt;/description&gt;
 8666       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8667       &lt;capabilities&gt;
 8668         &lt;required id=&quot;can_get_bytecodes&quot;&gt;&lt;/required&gt;
 8669       &lt;/capabilities&gt;
 8670       &lt;parameters&gt;
 8671         &lt;param id=&quot;klass&quot;&gt;
 8672           &lt;jclass method=&quot;method&quot;/&gt;
 8673             &lt;description&gt;
 8674               The class to query.
 8675             &lt;/description&gt;
 8676         &lt;/param&gt;
 8677         &lt;param id=&quot;method&quot;&gt;
 8678           &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8679             &lt;description&gt;
 8680               The method to query.
 8681             &lt;/description&gt;
 8682         &lt;/param&gt;
 8683         &lt;param id=&quot;bytecode_count_ptr&quot;&gt;
 8684           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8685           &lt;description&gt;
 8686             On return, points to the length of the bytecode array
 8687           &lt;/description&gt;
 8688         &lt;/param&gt;
 8689         &lt;param id=&quot;bytecodes_ptr&quot;&gt;
 8690           &lt;allocbuf outcount=&quot;bytecode_count_ptr&quot;&gt;&lt;uchar/&gt;&lt;/allocbuf&gt;
 8691           &lt;description&gt;
 8692             On return, points to the pointer to the bytecode array
 8693           &lt;/description&gt;
 8694         &lt;/param&gt;
 8695       &lt;/parameters&gt;
 8696       &lt;errors&gt;
 8697       &lt;/errors&gt;
 8698     &lt;/function&gt;
 8699 
 8700     &lt;function id=&quot;IsMethodNative&quot; phase=&quot;start&quot; num=&quot;76&quot;&gt;
 8701       &lt;synopsis&gt;Is Method Native&lt;/synopsis&gt;
 8702       &lt;description&gt;
 8703         For the method indicated by &lt;code&gt;method&lt;/code&gt;, return a
 8704         value indicating whether the method is native via &lt;code&gt;is_native_ptr&lt;/code&gt;
 8705       &lt;/description&gt;
 8706       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8707       &lt;capabilities&gt;
 8708       &lt;/capabilities&gt;
 8709       &lt;parameters&gt;
 8710         &lt;param id=&quot;klass&quot;&gt;
 8711           &lt;jclass method=&quot;method&quot;/&gt;
 8712             &lt;description&gt;
 8713               The class to query.
 8714             &lt;/description&gt;
 8715         &lt;/param&gt;
 8716         &lt;param id=&quot;method&quot;&gt;
 8717           &lt;jmethodID class=&quot;klass&quot;/&gt;
 8718             &lt;description&gt;
 8719               The method to query.
 8720             &lt;/description&gt;
 8721         &lt;/param&gt;
 8722         &lt;param id=&quot;is_native_ptr&quot;&gt;
 8723           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 8724           &lt;description&gt;
 8725             On return, points to the boolean result of this function.
 8726           &lt;/description&gt;
 8727         &lt;/param&gt;
 8728       &lt;/parameters&gt;
 8729       &lt;errors&gt;
 8730       &lt;/errors&gt;
 8731     &lt;/function&gt;
 8732 
 8733     &lt;function id=&quot;IsMethodSynthetic&quot; phase=&quot;start&quot; num=&quot;77&quot;&gt;
 8734       &lt;synopsis&gt;Is Method Synthetic&lt;/synopsis&gt;
 8735       &lt;description&gt;
 8736         For the method indicated by &lt;code&gt;method&lt;/code&gt;, return a
 8737         value indicating whether the method is synthetic via &lt;code&gt;is_synthetic_ptr&lt;/code&gt;.
 8738         Synthetic methods are generated by the compiler but not present in the
 8739         original source code.
 8740       &lt;/description&gt;
 8741       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8742       &lt;capabilities&gt;
 8743         &lt;required id=&quot;can_get_synthetic_attribute&quot;&gt;&lt;/required&gt;
 8744       &lt;/capabilities&gt;
 8745       &lt;parameters&gt;
 8746         &lt;param id=&quot;klass&quot;&gt;
 8747           &lt;jclass method=&quot;method&quot;/&gt;
 8748             &lt;description&gt;
 8749               The class to query.
 8750             &lt;/description&gt;
 8751         &lt;/param&gt;
 8752         &lt;param id=&quot;method&quot;&gt;
 8753           &lt;jmethodID class=&quot;klass&quot;/&gt;
 8754             &lt;description&gt;
 8755               The method to query.
 8756             &lt;/description&gt;
 8757         &lt;/param&gt;
 8758         &lt;param id=&quot;is_synthetic_ptr&quot;&gt;
 8759           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 8760           &lt;description&gt;
 8761             On return, points to the boolean result of this function.
 8762           &lt;/description&gt;
 8763         &lt;/param&gt;
 8764       &lt;/parameters&gt;
 8765       &lt;errors&gt;
 8766       &lt;/errors&gt;
 8767     &lt;/function&gt;
 8768 
 8769     &lt;function id=&quot;IsMethodObsolete&quot; phase=&quot;start&quot; num=&quot;91&quot;&gt;
 8770       &lt;synopsis&gt;Is Method Obsolete&lt;/synopsis&gt;
 8771       &lt;description&gt;
 8772         Determine if a method ID refers to an
 8773         &lt;internallink id=&quot;obsoleteMethods&quot;&gt;obsolete&lt;/internallink&gt;
 8774         method version.
 8775       &lt;/description&gt;
 8776       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8777       &lt;capabilities&gt;
 8778       &lt;/capabilities&gt;
 8779       &lt;parameters&gt;
 8780         &lt;param id=&quot;klass&quot;&gt;
 8781           &lt;jclass method=&quot;method&quot;/&gt;
 8782             &lt;description&gt;
 8783               The class to query.
 8784             &lt;/description&gt;
 8785         &lt;/param&gt;
 8786         &lt;param id=&quot;method&quot;&gt;
 8787           &lt;jmethodID class=&quot;klass&quot;/&gt;
 8788             &lt;description&gt;
 8789               The method ID to query.
 8790             &lt;/description&gt;
 8791         &lt;/param&gt;
 8792         &lt;param id=&quot;is_obsolete_ptr&quot;&gt;
 8793           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 8794           &lt;description&gt;
 8795             On return, points to the boolean result of this function.
 8796           &lt;/description&gt;
 8797         &lt;/param&gt;
 8798       &lt;/parameters&gt;
 8799       &lt;errors&gt;
 8800       &lt;/errors&gt;
 8801     &lt;/function&gt;
 8802 
 8803     &lt;function id=&quot;SetNativeMethodPrefix&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;73&quot; since=&quot;1.1&quot;&gt;
 8804       &lt;synopsis&gt;Set Native Method Prefix&lt;/synopsis&gt;
 8805       &lt;description&gt;
 8806         This function modifies the failure handling of
 8807         native method resolution by allowing retry
 8808         with a prefix applied to the name.
 8809         When used with the
 8810         &lt;eventlink id=&quot;ClassFileLoadHook&quot;&gt;ClassFileLoadHook
 8811         event&lt;/eventlink&gt;, it enables native methods to be
 8812         &lt;internallink id=&quot;bci&quot;&gt;instrumented&lt;/internallink&gt;.
 8813         &lt;p/&gt;
 8814         Since native methods cannot be directly instrumented
 8815         (they have no bytecodes), they must be wrapped with
 8816         a non-native method which can be instrumented.
 8817         For example, if we had:
 8818         &lt;example&gt;
 8819 native boolean foo(int x);&lt;/example&gt;
 8820         &lt;p/&gt;
 8821         We could transform the class file (with the
 8822         ClassFileLoadHook event) so that this becomes:
 8823         &lt;example&gt;
 8824 boolean foo(int x) {
 8825   &lt;i&gt;... record entry to foo ...&lt;/i&gt;
 8826   return wrapped_foo(x);
 8827 }
 8828 
 8829 native boolean wrapped_foo(int x);&lt;/example&gt;
 8830         &lt;p/&gt;
 8831         Where foo becomes a wrapper for the actual native method
 8832         with the appended prefix &quot;wrapped_&quot;.  Note that
 8833         &quot;wrapped_&quot; would be a poor choice of prefix since it
 8834         might conceivably form the name of an existing method
 8835         thus something like &quot;$$$MyAgentWrapped$$$_&quot; would be
 8836         better but would make these examples less readable.
 8837         &lt;p/&gt;
 8838         The wrapper will allow data to be collected on the native
 8839         method call, but now the problem becomes linking up the
 8840         wrapped method with the native implementation.
 8841         That is, the method &lt;code&gt;wrapped_foo&lt;/code&gt; needs to be
 8842         resolved to the native implementation of &lt;code&gt;foo&lt;/code&gt;,
 8843         which might be:
 8844         &lt;example&gt;
 8845 Java_somePackage_someClass_foo(JNIEnv* env, jint x)&lt;/example&gt;
 8846         &lt;p/&gt;
 8847         This function allows the prefix to be specified and the
 8848         proper resolution to occur.
 8849         Specifically, when the standard resolution fails, the
 8850         resolution is retried taking the prefix into consideration.
 8851         There are two ways that resolution occurs, explicit
 8852         resolution with the JNI function &lt;code&gt;RegisterNatives&lt;/code&gt;
 8853         and the normal automatic resolution.  For
 8854         &lt;code&gt;RegisterNatives&lt;/code&gt;, the VM will attempt this
 8855         association:
 8856         &lt;example&gt;
 8857 method(foo) -&gt; nativeImplementation(foo)&lt;/example&gt;
 8858         &lt;p/&gt;
 8859         When this fails, the resolution will be retried with
 8860         the specified prefix prepended to the method name,
 8861         yielding the correct resolution:
 8862         &lt;example&gt;
 8863 method(wrapped_foo) -&gt; nativeImplementation(foo)&lt;/example&gt;
 8864         &lt;p/&gt;
 8865         For automatic resolution, the VM will attempt:
 8866         &lt;example&gt;
 8867 method(wrapped_foo) -&gt; nativeImplementation(wrapped_foo)&lt;/example&gt;
 8868         &lt;p/&gt;
 8869         When this fails, the resolution will be retried with
 8870         the specified prefix deleted from the implementation name,
 8871         yielding the correct resolution:
 8872         &lt;example&gt;
 8873 method(wrapped_foo) -&gt; nativeImplementation(foo)&lt;/example&gt;
 8874         &lt;p/&gt;
 8875         Note that since the prefix is only used when standard
 8876         resolution fails, native methods can be wrapped selectively.
 8877         &lt;p/&gt;
 8878         Since each &lt;jvmti/&gt; environment is independent and
 8879         can do its own transformation of the bytecodes, more
 8880         than one layer of wrappers may be applied. Thus each
 8881         environment needs its own prefix.  Since transformations
 8882         are applied in order, the prefixes, if applied, will
 8883         be applied in the same order.
 8884         The order of transformation application is described in
 8885         the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event.
 8886         Thus if three environments applied
 8887         wrappers, &lt;code&gt;foo&lt;/code&gt; might become
 8888         &lt;code&gt;$env3_$env2_$env1_foo&lt;/code&gt;.  But if, say,
 8889         the second environment did not apply a wrapper to
 8890         &lt;code&gt;foo&lt;/code&gt; it would be just
 8891         &lt;code&gt;$env3_$env1_foo&lt;/code&gt;.  To be able to
 8892         efficiently determine the sequence of prefixes,
 8893         an intermediate prefix is only applied if its non-native
 8894         wrapper exists.  Thus, in the last example, even though
 8895         &lt;code&gt;$env1_foo&lt;/code&gt; is not a native method, the
 8896         &lt;code&gt;$env1_&lt;/code&gt; prefix is applied since
 8897         &lt;code&gt;$env1_foo&lt;/code&gt; exists.
 8898         &lt;p/&gt;
 8899         Since the prefixes are used at resolution time
 8900         and since resolution may be arbitrarily delayed, a
 8901         native method prefix must remain set as long as there
 8902         are corresponding prefixed native methods.
 8903       &lt;/description&gt;
 8904       &lt;origin&gt;new&lt;/origin&gt;
 8905       &lt;capabilities&gt;
 8906         &lt;required id=&quot;can_set_native_method_prefix&quot;&gt;&lt;/required&gt;
 8907       &lt;/capabilities&gt;
 8908       &lt;parameters&gt;
 8909         &lt;param id=&quot;prefix&quot;&gt;
 8910           &lt;inbuf&gt;
 8911             &lt;char/&gt;
 8912             &lt;nullok&gt;
 8913               any existing prefix in this environment is cancelled
 8914             &lt;/nullok&gt;
 8915           &lt;/inbuf&gt;
 8916           &lt;description&gt;
 8917             The prefix to apply, encoded as a
 8918             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8919           &lt;/description&gt;
 8920         &lt;/param&gt;
 8921       &lt;/parameters&gt;
 8922       &lt;errors&gt;
 8923       &lt;/errors&gt;
 8924     &lt;/function&gt;
 8925 
 8926     &lt;function id=&quot;SetNativeMethodPrefixes&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;74&quot; since=&quot;1.1&quot;&gt;
 8927       &lt;synopsis&gt;Set Native Method Prefixes&lt;/synopsis&gt;
 8928       &lt;description&gt;
 8929          For a normal agent, &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt;
 8930          will provide all needed native method prefixing.
 8931          For a meta-agent that performs multiple independent class
 8932          file transformations (for example as a proxy for another
 8933          layer of agents) this function allows each transformation
 8934          to have its own prefix.
 8935          The prefixes are applied in the order supplied and are
 8936          processed in the same manner as described for the
 8937          application of prefixes from multiple &lt;jvmti/&gt; environments
 8938          in &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt;.
 8939          &lt;p/&gt;
 8940          Any previous prefixes are replaced.  Thus, calling this
 8941          function with a &lt;paramlink id=&quot;prefix_count&quot;/&gt; of &lt;code&gt;0&lt;/code&gt;
 8942          disables prefixing in this environment.
 8943          &lt;p/&gt;
 8944          &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt; and this function
 8945          are the two ways to set the prefixes.
 8946          Calling &lt;code&gt;SetNativeMethodPrefix&lt;/code&gt; with
 8947          a prefix is the same as calling this function with
 8948          &lt;paramlink id=&quot;prefix_count&quot;/&gt; of &lt;code&gt;1&lt;/code&gt;.
 8949          Calling &lt;code&gt;SetNativeMethodPrefix&lt;/code&gt; with
 8950          &lt;code&gt;NULL&lt;/code&gt; is the same as calling this function with
 8951          &lt;paramlink id=&quot;prefix_count&quot;/&gt; of &lt;code&gt;0&lt;/code&gt;.
 8952       &lt;/description&gt;
 8953       &lt;origin&gt;new&lt;/origin&gt;
 8954       &lt;capabilities&gt;
 8955         &lt;required id=&quot;can_set_native_method_prefix&quot;&gt;&lt;/required&gt;
 8956       &lt;/capabilities&gt;
 8957       &lt;parameters&gt;
 8958         &lt;param id=&quot;prefix_count&quot;&gt;
 8959           &lt;jint min=&quot;0&quot;/&gt;
 8960             &lt;description&gt;
 8961               The number of prefixes to apply.
 8962             &lt;/description&gt;
 8963         &lt;/param&gt;
 8964         &lt;param id=&quot;prefixes&quot;&gt;
 8965           &lt;agentbuf&gt;
 8966             &lt;char/&gt;
 8967           &lt;/agentbuf&gt;
 8968           &lt;description&gt;
 8969             The prefixes to apply for this environment, each encoded as a
 8970             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8971           &lt;/description&gt;
 8972         &lt;/param&gt;
 8973       &lt;/parameters&gt;
 8974       &lt;errors&gt;
 8975       &lt;/errors&gt;
 8976     &lt;/function&gt;
 8977 
 8978   &lt;/category&gt;
 8979 
 8980   &lt;category id=&quot;RawMonitors&quot; label=&quot;Raw Monitor&quot;&gt;
 8981 
 8982     &lt;function id=&quot;CreateRawMonitor&quot; phase=&quot;onload&quot; callbacksafe=&quot;safe&quot; num=&quot;31&quot;&gt;
 8983       &lt;synopsis&gt;Create Raw Monitor&lt;/synopsis&gt;
 8984       &lt;description&gt;
 8985         Create a raw monitor.
 8986       &lt;/description&gt;
 8987       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8988       &lt;capabilities&gt;
 8989       &lt;/capabilities&gt;
 8990       &lt;parameters&gt;
 8991         &lt;param id=&quot;name&quot;&gt;
 8992           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
 8993           &lt;description&gt;
 8994             A name to identify the monitor, encoded as a
 8995             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8996           &lt;/description&gt;
 8997         &lt;/param&gt;
 8998         &lt;param id=&quot;monitor_ptr&quot;&gt;
 8999           &lt;outptr&gt;&lt;jrawMonitorID/&gt;&lt;/outptr&gt;
 9000           &lt;description&gt;
 9001             On return, points to the created monitor.
 9002           &lt;/description&gt;
 9003         &lt;/param&gt;
 9004       &lt;/parameters&gt;
 9005       &lt;errors&gt;
 9006       &lt;/errors&gt;
 9007     &lt;/function&gt;
 9008 
 9009     &lt;function id=&quot;DestroyRawMonitor&quot; phase=&quot;onload&quot; callbacksafe=&quot;safe&quot; num=&quot;32&quot;&gt;
 9010       &lt;synopsis&gt;Destroy Raw Monitor&lt;/synopsis&gt;
 9011       &lt;description&gt;
 9012         Destroy the raw monitor.
 9013         If the monitor being destroyed has been entered by this thread, it will be
 9014         exited before it is destroyed.
 9015         If the monitor being destroyed has been entered by another thread,
 9016         an error will be returned and the monitor will not be destroyed.
 9017       &lt;/description&gt;
 9018       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9019       &lt;capabilities&gt;
 9020       &lt;/capabilities&gt;
 9021       &lt;parameters&gt;
 9022         &lt;param id=&quot;monitor&quot;&gt;
 9023           &lt;jrawMonitorID/&gt;
 9024           &lt;description&gt;
 9025             The monitor
 9026           &lt;/description&gt;
 9027         &lt;/param&gt;
 9028       &lt;/parameters&gt;
 9029       &lt;errors&gt;
 9030         &lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9031           Not monitor owner
 9032         &lt;/error&gt;
 9033       &lt;/errors&gt;
 9034     &lt;/function&gt;
 9035 
 9036     &lt;function id=&quot;RawMonitorEnter&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;33&quot;&gt;
 9037       &lt;synopsis&gt;Raw Monitor Enter&lt;/synopsis&gt;
 9038       &lt;description&gt;
 9039         Gain exclusive ownership of a raw monitor.
 9040         The same thread may enter a monitor more then once.
 9041         The thread must
 9042         &lt;functionlink id=&quot;RawMonitorExit&quot;&gt;exit&lt;/functionlink&gt;
 9043         the monitor the same number of times as it is entered.
 9044         If a monitor is entered during &lt;code&gt;OnLoad&lt;/code&gt; (before attached threads exist)
 9045         and has not exited when attached threads come into existence, the enter
 9046         is considered to have occurred on the main thread.
 9047       &lt;/description&gt;
 9048       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9049       &lt;capabilities&gt;
 9050       &lt;/capabilities&gt;
 9051       &lt;parameters&gt;
 9052         &lt;param id=&quot;monitor&quot;&gt;
 9053           &lt;jrawMonitorID/&gt;
 9054           &lt;description&gt;
 9055             The monitor
 9056           &lt;/description&gt;
 9057         &lt;/param&gt;
 9058       &lt;/parameters&gt;
 9059       &lt;errors&gt;
 9060       &lt;/errors&gt;
 9061     &lt;/function&gt;
 9062 
 9063     &lt;function id=&quot;RawMonitorExit&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;34&quot;&gt;
 9064       &lt;synopsis&gt;Raw Monitor Exit&lt;/synopsis&gt;
 9065       &lt;description&gt;
 9066         Release exclusive ownership of a raw monitor.
 9067       &lt;/description&gt;
 9068       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9069       &lt;capabilities&gt;
 9070       &lt;/capabilities&gt;
 9071       &lt;parameters&gt;
 9072         &lt;param id=&quot;monitor&quot;&gt;
 9073           &lt;jrawMonitorID/&gt;
 9074           &lt;description&gt;
 9075             The monitor
 9076           &lt;/description&gt;
 9077         &lt;/param&gt;
 9078       &lt;/parameters&gt;
 9079       &lt;errors&gt;
 9080         &lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9081           Not monitor owner
 9082         &lt;/error&gt;
 9083       &lt;/errors&gt;
 9084     &lt;/function&gt;
 9085 
 9086     &lt;function id=&quot;RawMonitorWait&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;35&quot;&gt;
 9087       &lt;synopsis&gt;Raw Monitor Wait&lt;/synopsis&gt;
 9088       &lt;description&gt;
 9089         Wait for notification of the raw monitor.
 9090         &lt;p/&gt;
 9091         Causes the current thread to wait until either another thread calls
 9092         &lt;functionlink id=&quot;RawMonitorNotify&quot;/&gt; or
 9093         &lt;functionlink id=&quot;RawMonitorNotifyAll&quot;/&gt;
 9094         for the specified raw monitor, or the specified
 9095         &lt;paramlink id=&quot;millis&quot;&gt;timeout&lt;/paramlink&gt;
 9096         has elapsed.
 9097       &lt;/description&gt;
 9098       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9099       &lt;capabilities&gt;
 9100       &lt;/capabilities&gt;
 9101       &lt;parameters&gt;
 9102         &lt;param id=&quot;monitor&quot;&gt;
 9103           &lt;jrawMonitorID/&gt;
 9104           &lt;description&gt;
 9105             The monitor
 9106           &lt;/description&gt;
 9107         &lt;/param&gt;
 9108         &lt;param id=&quot;millis&quot;&gt;
 9109           &lt;jlong/&gt;
 9110           &lt;description&gt;
 9111             The timeout, in milliseconds.  If the timeout is
 9112             zero, then real time is not taken into consideration
 9113             and the thread simply waits until notified.
 9114           &lt;/description&gt;
 9115         &lt;/param&gt;
 9116       &lt;/parameters&gt;
 9117       &lt;errors&gt;
 9118         &lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9119           Not monitor owner
 9120         &lt;/error&gt;
 9121         &lt;error id=&quot;JVMTI_ERROR_INTERRUPT&quot;&gt;
 9122           Wait was interrupted, try again
 9123         &lt;/error&gt;
 9124       &lt;/errors&gt;
 9125     &lt;/function&gt;
 9126 
 9127     &lt;function id=&quot;RawMonitorNotify&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;notrace&quot; num=&quot;36&quot;&gt;
 9128       &lt;synopsis&gt;Raw Monitor Notify&lt;/synopsis&gt;
 9129       &lt;description&gt;
 9130         Notify a single thread waiting on the raw monitor.
 9131       &lt;/description&gt;
 9132       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9133       &lt;capabilities&gt;
 9134       &lt;/capabilities&gt;
 9135       &lt;parameters&gt;
 9136         &lt;param id=&quot;monitor&quot;&gt;
 9137           &lt;jrawMonitorID/&gt;
 9138           &lt;description&gt;
 9139             The monitor
 9140           &lt;/description&gt;
 9141         &lt;/param&gt;
 9142       &lt;/parameters&gt;
 9143       &lt;errors&gt;
 9144         &lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9145           Not monitor owner
 9146         &lt;/error&gt;
 9147       &lt;/errors&gt;
 9148     &lt;/function&gt;
 9149 
 9150     &lt;function id=&quot;RawMonitorNotifyAll&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;notrace&quot; num=&quot;37&quot;&gt;
 9151       &lt;synopsis&gt;Raw Monitor Notify All&lt;/synopsis&gt;
 9152       &lt;description&gt;
 9153         Notify all threads waiting on the raw monitor.
 9154       &lt;/description&gt;
 9155       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9156       &lt;capabilities&gt;
 9157       &lt;/capabilities&gt;
 9158       &lt;parameters&gt;
 9159         &lt;param id=&quot;monitor&quot;&gt;
 9160           &lt;jrawMonitorID/&gt;
 9161           &lt;description&gt;
 9162             The monitor
 9163           &lt;/description&gt;
 9164         &lt;/param&gt;
 9165       &lt;/parameters&gt;
 9166       &lt;errors&gt;
 9167         &lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9168           Not monitor owner
 9169         &lt;/error&gt;
 9170       &lt;/errors&gt;
 9171     &lt;/function&gt;
 9172 
 9173    &lt;elide&gt;
 9174     &lt;function id=&quot;GetRawMonitorUse&quot; num=&quot;118&quot;&gt;
 9175       &lt;synopsis&gt;Get Raw Monitor Use&lt;/synopsis&gt;
 9176       &lt;description&gt;
 9177         The fields of the &lt;functionlink id=&quot;jvmtiMonitorUsage&quot;&gt;&lt;/functionlink&gt; structure
 9178         are filled in with information about usage of the raw monitor.
 9179       &lt;/description&gt;
 9180       &lt;origin&gt;new&lt;/origin&gt;
 9181       &lt;capabilities&gt;
 9182         &lt;required id=&quot;can_get_raw_monitor_usage&quot;&gt;&lt;/required&gt;
 9183       &lt;/capabilities&gt;
 9184       &lt;parameters&gt;
 9185         &lt;param id=&quot;monitor&quot;&gt;
 9186           &lt;jrawMonitorID/&gt;
 9187           &lt;description&gt;
 9188             the raw monitor to query.
 9189           &lt;/description&gt;
 9190         &lt;/param&gt;
 9191         &lt;param id=&quot;info_ptr&quot;&gt;
 9192           &lt;outptr&gt;&lt;struct&gt;jvmtiMonitorUsage&lt;/struct&gt;&lt;/outptr&gt;
 9193           &lt;description&gt;
 9194             On return, filled with monitor information for the
 9195             specified raw monitor.
 9196           &lt;/description&gt;
 9197         &lt;/param&gt;
 9198       &lt;/parameters&gt;
 9199       &lt;errors&gt;
 9200       &lt;/errors&gt;
 9201     &lt;/function&gt;
 9202 
 9203     &lt;function id=&quot;GetRawMonitors&quot; num=&quot;119&quot;&gt;
 9204       &lt;synopsis&gt;Get Raw Monitors&lt;/synopsis&gt;
 9205       &lt;description&gt;
 9206         Return the list of raw monitors.
 9207         &lt;p/&gt;
 9208         Note: details about each monitor can be examined with
 9209         &lt;functionlink id=&quot;GetRawMonitorUse&quot;&gt;&lt;/functionlink&gt;.
 9210       &lt;/description&gt;
 9211       &lt;origin&gt;new&lt;/origin&gt;
 9212       &lt;capabilities&gt;
 9213         &lt;required id=&quot;can_get_raw_monitor_usage&quot;&gt;&lt;/required&gt;
 9214       &lt;/capabilities&gt;
 9215       &lt;parameters&gt;
 9216         &lt;param id=&quot;monitorCnt&quot;&gt;
 9217           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 9218           &lt;description&gt;
 9219             On return, pointer to the number
 9220             of monitors returned in &lt;code&gt;monitors_ptr&lt;/code&gt;.
 9221           &lt;/description&gt;
 9222         &lt;/param&gt;
 9223         &lt;param id=&quot;monitors_ptr&quot;&gt;
 9224           &lt;allocbuf outcount=&quot;monitorCnt&quot;&gt;&lt;jrawMonitorID/&gt;&lt;/allocbuf&gt;
 9225           &lt;description&gt;
 9226             On return, pointer to the monitor list.
 9227           &lt;/description&gt;
 9228         &lt;/param&gt;
 9229       &lt;/parameters&gt;
 9230       &lt;errors&gt;
 9231       &lt;/errors&gt;
 9232     &lt;/function&gt;
 9233     &lt;/elide&gt;
 9234   &lt;/category&gt;
 9235 
 9236   &lt;category id=&quot;jniIntercept&quot; label=&quot;JNI Function Interception&quot;&gt;
 9237 
 9238     &lt;intro&gt;
 9239       Provides the ability to intercept and resend
 9240       Java Native Interface (JNI) function calls
 9241       by manipulating the JNI function table.
 9242       See &lt;externallink id=&quot;jni/functions.html&quot;&gt;JNI
 9243         Functions&lt;/externallink&gt; in the &lt;i&gt;Java Native Interface Specification&lt;/i&gt;.
 9244       &lt;p/&gt;
 9245       The following example illustrates intercepting the
 9246       &lt;code&gt;NewGlobalRef&lt;/code&gt; JNI call in order to count reference
 9247       creation.
 9248       &lt;example&gt;
 9249 JNIEnv original_jni_Functions;
 9250 JNIEnv redirected_jni_Functions;
 9251 int my_global_ref_count = 0;
 9252 
 9253 jobject
 9254 MyNewGlobalRef(JNIEnv *jni_env, jobject lobj) {
 9255    ++my_global_ref_count;
 9256    return originalJNIFunctions-&amp;gt;NewGlobalRef(env, lobj);
 9257 }
 9258 
 9259 void
 9260 myInit() {
 9261    jvmtiError err;
 9262 
 9263    err = (*jvmti_env)-&amp;gt;GetJNIFunctionTable(jvmti_env, &amp;amp;original_jni_Functions);
 9264    if (err != JVMTI_ERROR_NONE) {
 9265       die();
 9266    }
 9267    err = (*jvmti_env)-&amp;gt;GetJNIFunctionTable(jvmti_env, &amp;amp;redirected_jni_Functions);
 9268    if (err != JVMTI_ERROR_NONE) {
 9269       die();
 9270    }
 9271    redirectedJNIFunctions-&amp;gt;NewGlobalRef = MyNewGlobalRef;
 9272       err = (*jvmti_env)-&amp;gt;SetJNIFunctionTable(jvmti_env, redirected_jni_Functions);
 9273    if (err != JVMTI_ERROR_NONE) {
 9274       die();
 9275    }
 9276 }
 9277       &lt;/example&gt;
 9278       Sometime after &lt;code&gt;myInit&lt;/code&gt; is called the user&#39;s JNI
 9279       code is executed which makes the call to create a new global
 9280       reference.  Instead of going to the normal JNI implementation
 9281       the call goes to &lt;code&gt;myNewGlobalRef&lt;/code&gt;.  Note that a
 9282       copy of the original function table is kept so that the normal
 9283       JNI function can be called after the data is collected.
 9284       Note also that any JNI functions which are not overwritten
 9285       will behave normally.
 9286       &lt;todo&gt;
 9287         check that the example compiles and executes.
 9288       &lt;/todo&gt;
 9289     &lt;/intro&gt;
 9290 
 9291     &lt;function id=&quot;SetJNIFunctionTable&quot; phase=&quot;start&quot; num=&quot;120&quot;&gt;
 9292       &lt;synopsis&gt;Set JNI Function Table&lt;/synopsis&gt;
 9293       &lt;description&gt;
 9294         Set the JNI function table
 9295         in all current and future JNI environments.
 9296         As a result, all future JNI calls are directed to the specified functions.
 9297         Use &lt;functionlink id=&quot;GetJNIFunctionTable&quot;&gt;&lt;/functionlink&gt; to get the
 9298         function table to pass to this function.
 9299         For this function to take effect the the updated table entries must be
 9300         used by the JNI clients.
 9301         Since the table is defined &lt;code&gt;const&lt;/code&gt; some compilers may optimize
 9302         away the access to the table, thus preventing this function from taking
 9303         effect.
 9304         The table is copied--changes to the local copy of the
 9305         table have no effect.
 9306         This function affects only the function table, all other aspects of the environment are
 9307         unaffected.
 9308         See the examples &lt;internallink id=&quot;jniIntercept&quot;&gt;above&lt;/internallink&gt;.
 9309       &lt;/description&gt;
 9310       &lt;origin&gt;new&lt;/origin&gt;
 9311       &lt;capabilities&gt;
 9312       &lt;/capabilities&gt;
 9313       &lt;parameters&gt;
 9314         &lt;param id=&quot;function_table&quot;&gt;
 9315           &lt;inptr&gt;
 9316             &lt;struct&gt;jniNativeInterface&lt;/struct&gt;
 9317           &lt;/inptr&gt;
 9318           &lt;description&gt;
 9319             Points to the new JNI function table.
 9320           &lt;/description&gt;
 9321         &lt;/param&gt;
 9322       &lt;/parameters&gt;
 9323       &lt;errors&gt;
 9324       &lt;/errors&gt;
 9325     &lt;/function&gt;
 9326 
 9327     &lt;function id=&quot;GetJNIFunctionTable&quot; phase=&quot;start&quot; num=&quot;121&quot;&gt;
 9328       &lt;synopsis&gt;Get JNI Function Table&lt;/synopsis&gt;
 9329       &lt;description&gt;
 9330         Get the JNI function table.
 9331         The JNI function table is copied into allocated memory.
 9332         If &lt;functionlink id=&quot;SetJNIFunctionTable&quot;&gt;&lt;/functionlink&gt;
 9333         has been called, the modified (not the original) function
 9334         table is returned.
 9335         Only the function table is copied, no other aspects of the environment
 9336         are copied.
 9337         See the examples &lt;internallink id=&quot;jniIntercept&quot;&gt;above&lt;/internallink&gt;.
 9338       &lt;/description&gt;
 9339       &lt;origin&gt;new&lt;/origin&gt;
 9340       &lt;capabilities&gt;
 9341       &lt;/capabilities&gt;
 9342       &lt;parameters&gt;
 9343         &lt;param id=&quot;function_table&quot;&gt;
 9344           &lt;allocbuf&gt;
 9345             &lt;struct&gt;jniNativeInterface&lt;/struct&gt;
 9346           &lt;/allocbuf&gt;
 9347           &lt;description&gt;
 9348             On return, &lt;code&gt;*function_table&lt;/code&gt;
 9349             points a newly allocated copy of the JNI function table.
 9350           &lt;/description&gt;
 9351         &lt;/param&gt;
 9352       &lt;/parameters&gt;
 9353       &lt;errors&gt;
 9354       &lt;/errors&gt;
 9355     &lt;/function&gt;
 9356 
 9357   &lt;/category&gt;
 9358 
 9359   &lt;category id=&quot;eventManagement&quot; label=&quot;Event Management&quot;&gt;
 9360 
 9361     &lt;function id=&quot;SetEventCallbacks&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;122&quot;&gt;
 9362       &lt;synopsis&gt;Set Event Callbacks&lt;/synopsis&gt;
 9363       &lt;description&gt;
 9364         Set the functions to be called for each event.
 9365         The callbacks are specified by supplying a replacement function table.
 9366         The function table is copied--changes to the local copy of the
 9367         table have no effect.
 9368         This is an atomic action, all callbacks are set at once.
 9369         No events are sent before this function is called.
 9370         When an entry is &lt;code&gt;NULL&lt;/code&gt; or when the event is beyond
 9371         &lt;paramlink id=&quot;size_of_callbacks&quot;&gt;&lt;/paramlink&gt; no event is sent.
 9372         Details on events are
 9373         described &lt;internallink id=&quot;EventSection&quot;&gt;later&lt;/internallink&gt; in this document.
 9374         An event must be enabled and have a callback in order to be
 9375         sent--the order in which this function and
 9376         &lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;&lt;/functionlink&gt;
 9377         are called does not affect the result.
 9378       &lt;/description&gt;
 9379       &lt;origin&gt;new&lt;/origin&gt;
 9380       &lt;capabilities&gt;
 9381       &lt;/capabilities&gt;
 9382       &lt;parameters&gt;
 9383         &lt;param id=&quot;callbacks&quot;&gt;
 9384           &lt;inptr&gt;
 9385             &lt;struct&gt;jvmtiEventCallbacks&lt;/struct&gt;
 9386             &lt;nullok&gt;remove the existing callbacks&lt;/nullok&gt;
 9387           &lt;/inptr&gt;
 9388           &lt;description&gt;
 9389             The new event callbacks.
 9390           &lt;/description&gt;
 9391         &lt;/param&gt;
 9392         &lt;param id=&quot;size_of_callbacks&quot;&gt;
 9393           &lt;jint min=&quot;0&quot;/&gt;
 9394           &lt;description&gt;
 9395             &lt;code&gt;sizeof(jvmtiEventCallbacks)&lt;/code&gt;--for version
 9396             compatibility.
 9397           &lt;/description&gt;
 9398         &lt;/param&gt;
 9399       &lt;/parameters&gt;
 9400       &lt;errors&gt;
 9401       &lt;/errors&gt;
 9402     &lt;/function&gt;
 9403 
 9404     &lt;function id=&quot;SetEventNotificationMode&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;2&quot;&gt;
 9405       &lt;synopsis&gt;Set Event Notification Mode&lt;/synopsis&gt;
 9406       &lt;description&gt;
 9407         Control the generation of events.
 9408         &lt;constants id=&quot;jvmtiEventMode&quot; label=&quot;Event Enable/Disable&quot; kind=&quot;enum&quot;&gt;
 9409           &lt;constant id=&quot;JVMTI_ENABLE&quot; num=&quot;1&quot;&gt;
 9410             If &lt;paramlink id=&quot;mode&quot;&gt;&lt;/paramlink&gt; is &lt;code&gt;JVMTI_ENABLE&lt;/code&gt;,
 9411             the event &lt;paramlink id=&quot;event_type&quot;&gt;&lt;/paramlink&gt; will be enabled
 9412           &lt;/constant&gt;
 9413           &lt;constant id=&quot;JVMTI_DISABLE&quot; num=&quot;0&quot;&gt;
 9414             If &lt;paramlink id=&quot;mode&quot;&gt;&lt;/paramlink&gt; is &lt;code&gt;JVMTI_DISABLE&lt;/code&gt;,
 9415             the event &lt;paramlink id=&quot;event_type&quot;&gt;&lt;/paramlink&gt; will be disabled
 9416           &lt;/constant&gt;
 9417         &lt;/constants&gt;
 9418         If &lt;code&gt;event_thread&lt;/code&gt; is &lt;code&gt;NULL&lt;/code&gt;,
 9419         the event is enabled or disabled globally; otherwise, it is
 9420         enabled or disabled for a particular thread.
 9421         An event is generated for
 9422         a particular thread if it is enabled either at the thread or global
 9423         levels.
 9424         &lt;p/&gt;
 9425         See &lt;internallink id=&quot;EventIndex&quot;&gt;below&lt;/internallink&gt; for information on specific events.
 9426         &lt;p/&gt;
 9427         The following events cannot be controlled at the thread
 9428         level through this function.
 9429         &lt;ul&gt;
 9430           &lt;li&gt;&lt;eventlink id=&quot;VMInit&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9431           &lt;li&gt;&lt;eventlink id=&quot;VMStart&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9432           &lt;li&gt;&lt;eventlink id=&quot;VMDeath&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9433           &lt;li&gt;&lt;eventlink id=&quot;ThreadStart&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9434           &lt;li&gt;&lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9435           &lt;li&gt;&lt;eventlink id=&quot;CompiledMethodUnload&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9436           &lt;li&gt;&lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9437           &lt;li&gt;&lt;eventlink id=&quot;DataDumpRequest&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9438         &lt;/ul&gt;
 9439         &lt;p/&gt;
 9440         Initially, no events are enabled at either the thread level
 9441         or the global level.
 9442         &lt;p/&gt;
 9443         Any needed capabilities (see Event Enabling Capabilities below) must be possessed
 9444         before calling this function.
 9445         &lt;p/&gt;
 9446         Details on events are
 9447         described &lt;internallink id=&quot;EventSection&quot;&gt;below&lt;/internallink&gt;.
 9448       &lt;/description&gt;
 9449       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 9450       &lt;eventcapabilities&gt;&lt;/eventcapabilities&gt;
 9451       &lt;parameters&gt;
 9452         &lt;param id=&quot;mode&quot;&gt;
 9453           &lt;enum&gt;jvmtiEventMode&lt;/enum&gt;
 9454           &lt;description&gt;
 9455             &lt;code&gt;JVMTI_ENABLE&lt;/code&gt; or &lt;code&gt;JVMTI_DISABLE&lt;/code&gt;
 9456           &lt;/description&gt;
 9457         &lt;/param&gt;
 9458         &lt;param id=&quot;event_type&quot;&gt;
 9459           &lt;enum&gt;jvmtiEvent&lt;/enum&gt;
 9460           &lt;description&gt;
 9461             the event to control
 9462           &lt;/description&gt;
 9463         &lt;/param&gt;
 9464         &lt;param id=&quot;event_thread&quot;&gt;
 9465           &lt;ptrtype&gt;
 9466             &lt;jthread impl=&quot;noconvert&quot;/&gt;
 9467             &lt;nullok&gt;event is controlled at the global level&lt;/nullok&gt;
 9468           &lt;/ptrtype&gt;
 9469             &lt;description&gt;
 9470               The thread to control
 9471             &lt;/description&gt;
 9472         &lt;/param&gt;
 9473         &lt;param id=&quot;...&quot;&gt;
 9474           &lt;varargs/&gt;
 9475             &lt;description&gt;
 9476               for future expansion
 9477             &lt;/description&gt;
 9478         &lt;/param&gt;
 9479       &lt;/parameters&gt;
 9480       &lt;errors&gt;
 9481         &lt;error id=&quot;JVMTI_ERROR_INVALID_THREAD&quot;&gt;
 9482           &lt;paramlink id=&quot;event_thread&quot;/&gt; is non-&lt;code&gt;NULL&lt;/code&gt; and is not a valid thread.
 9483         &lt;/error&gt;
 9484         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_ALIVE&quot;&gt;
 9485           &lt;paramlink id=&quot;event_thread&quot;/&gt; is non-&lt;code&gt;NULL&lt;/code&gt; and is not live (has not been started or is now dead).
 9486         &lt;/error&gt;
 9487         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 9488           thread level control was attempted on events which do not
 9489           permit thread level control.
 9490         &lt;/error&gt;
 9491         &lt;error id=&quot;JVMTI_ERROR_MUST_POSSESS_CAPABILITY&quot;&gt;
 9492           The Required Event Enabling Capability is not possessed.
 9493         &lt;/error&gt;
 9494       &lt;/errors&gt;
 9495     &lt;/function&gt;
 9496 
 9497     &lt;function id=&quot;GenerateEvents&quot; num=&quot;123&quot;&gt;
 9498       &lt;synopsis&gt;Generate Events&lt;/synopsis&gt;
 9499       &lt;description&gt;
 9500         Generate events to represent the current state of the VM.
 9501         For example, if &lt;paramlink id=&quot;event_type&quot;/&gt; is
 9502         &lt;code&gt;JVMTI_EVENT_COMPILED_METHOD_LOAD&lt;/code&gt;,
 9503         a &lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;/eventlink&gt; event will be
 9504         sent for each currently compiled method.
 9505         Methods that were loaded and now have been unloaded are not sent.
 9506         The history of what events have previously been sent does not
 9507         effect what events are sent by this function--for example,
 9508         all currently compiled methods
 9509         will be sent each time this function is called.
 9510         &lt;p/&gt;
 9511         This function is useful when
 9512         events may have been missed due to the agent attaching after program
 9513         execution begins; this function generates the missed events.
 9514         &lt;p/&gt;
 9515         Attempts to execute Java programming language code or
 9516         JNI functions may be paused until this function returns -
 9517         so neither should be called from the thread sending the event.
 9518         This function returns only after the missed events have been
 9519         sent, processed and have returned.
 9520         The event may be sent on a different thread than the thread
 9521         on which the event occurred.
 9522         The callback for the event must be set with
 9523         &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt;
 9524         and the event must be enabled with
 9525         &lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;&lt;/functionlink&gt;
 9526         or the events will not occur.
 9527         If the VM no longer has the information to generate some or
 9528         all of the requested events, the events are simply not sent -
 9529         no error is returned.
 9530         &lt;p/&gt;
 9531         Only the following events are supported:
 9532         &lt;ul&gt;
 9533           &lt;li&gt;&lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9534           &lt;li&gt;&lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9535         &lt;/ul&gt;
 9536       &lt;/description&gt;
 9537       &lt;origin&gt;new&lt;/origin&gt;
 9538       &lt;capabilities&gt;
 9539         &lt;capability id=&quot;can_generate_compiled_method_load_events&quot;&gt;&lt;/capability&gt;
 9540       &lt;/capabilities&gt;
 9541       &lt;parameters&gt;
 9542         &lt;param id=&quot;event_type&quot;&gt;
 9543           &lt;enum&gt;jvmtiEvent&lt;/enum&gt;
 9544           &lt;description&gt;
 9545             The type of event to generate.  Must be one of these:
 9546             &lt;ul&gt;
 9547               &lt;li&gt;&lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;code&gt;JVMTI_EVENT_COMPILED_METHOD_LOAD&lt;/code&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9548               &lt;li&gt;&lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;code&gt;JVMTI_EVENT_DYNAMIC_CODE_GENERATED&lt;/code&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9549             &lt;/ul&gt;
 9550           &lt;/description&gt;
 9551         &lt;/param&gt;
 9552       &lt;/parameters&gt;
 9553       &lt;errors&gt;
 9554         &lt;error id=&quot;JVMTI_ERROR_MUST_POSSESS_CAPABILITY&quot;&gt;
 9555           &lt;paramlink id=&quot;event_type&quot;/&gt; is
 9556           &lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;code&gt;JVMTI_EVENT_COMPILED_METHOD_LOAD&lt;/code&gt;&lt;/eventlink&gt;
 9557           and &lt;fieldlink id=&quot;can_generate_compiled_method_load_events&quot; struct=&quot;jvmtiCapabilities&quot;&gt;&lt;/fieldlink&gt;
 9558           is &lt;code&gt;false&lt;/code&gt;.
 9559         &lt;/error&gt;
 9560         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 9561           &lt;paramlink id=&quot;event_type&quot;/&gt; is other than
 9562           &lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;code&gt;JVMTI_EVENT_COMPILED_METHOD_LOAD&lt;/code&gt;&lt;/eventlink&gt;
 9563           or &lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;code&gt;JVMTI_EVENT_DYNAMIC_CODE_GENERATED&lt;/code&gt;&lt;/eventlink&gt;.
 9564         &lt;/error&gt;
 9565       &lt;/errors&gt;
 9566     &lt;/function&gt;
 9567 
 9568   &lt;/category&gt;
 9569 
 9570     &lt;category id=&quot;extension&quot; label=&quot;Extension Mechanism&quot;&gt;
 9571 
 9572       &lt;intro&gt;
 9573         These functions
 9574         allow a &lt;jvmti/&gt; implementation to provide functions and events
 9575         beyond those defined in this specification.
 9576         &lt;p/&gt;
 9577         Both extension functions and extension events have parameters
 9578         each of which has a &#39;type&#39; and &#39;kind&#39; chosen from the following tables:
 9579 
 9580         &lt;constants id=&quot;jvmtiParamTypes&quot; label=&quot;Extension Function/Event Parameter Types&quot; kind=&quot;enum&quot;&gt;
 9581           &lt;constant id=&quot;JVMTI_TYPE_JBYTE&quot; num=&quot;101&quot;&gt;
 9582             Java programming language primitive type - &lt;code&gt;byte&lt;/code&gt;.
 9583             JNI type &lt;code&gt;jbyte&lt;/code&gt;.
 9584           &lt;/constant&gt;
 9585           &lt;constant id=&quot;JVMTI_TYPE_JCHAR&quot; num=&quot;102&quot;&gt;
 9586             Java programming language primitive type - &lt;code&gt;char&lt;/code&gt;.
 9587             JNI type &lt;code&gt;jchar&lt;/code&gt;.
 9588           &lt;/constant&gt;
 9589           &lt;constant id=&quot;JVMTI_TYPE_JSHORT&quot; num=&quot;103&quot;&gt;
 9590             Java programming language primitive type - &lt;code&gt;short&lt;/code&gt;.
 9591             JNI type &lt;code&gt;jshort&lt;/code&gt;.
 9592           &lt;/constant&gt;
 9593           &lt;constant id=&quot;JVMTI_TYPE_JINT&quot; num=&quot;104&quot;&gt;
 9594             Java programming language primitive type - &lt;code&gt;int&lt;/code&gt;.
 9595             JNI type &lt;datalink id=&quot;jint&quot;&gt;&lt;/datalink&gt;.
 9596           &lt;/constant&gt;
 9597           &lt;constant id=&quot;JVMTI_TYPE_JLONG&quot; num=&quot;105&quot;&gt;
 9598             Java programming language primitive type - &lt;code&gt;long&lt;/code&gt;.
 9599             JNI type &lt;datalink id=&quot;jlong&quot;&gt;&lt;/datalink&gt;.
 9600           &lt;/constant&gt;
 9601           &lt;constant id=&quot;JVMTI_TYPE_JFLOAT&quot; num=&quot;106&quot;&gt;
 9602             Java programming language primitive type - &lt;code&gt;float&lt;/code&gt;.
 9603             JNI type &lt;datalink id=&quot;jfloat&quot;&gt;&lt;/datalink&gt;.
 9604           &lt;/constant&gt;
 9605           &lt;constant id=&quot;JVMTI_TYPE_JDOUBLE&quot; num=&quot;107&quot;&gt;
 9606             Java programming language primitive type - &lt;code&gt;double&lt;/code&gt;.
 9607             JNI type &lt;datalink id=&quot;jdouble&quot;&gt;&lt;/datalink&gt;.
 9608           &lt;/constant&gt;
 9609           &lt;constant id=&quot;JVMTI_TYPE_JBOOLEAN&quot; num=&quot;108&quot;&gt;
 9610             Java programming language primitive type - &lt;code&gt;boolean&lt;/code&gt;.
 9611             JNI type &lt;datalink id=&quot;jboolean&quot;&gt;&lt;/datalink&gt;.
 9612           &lt;/constant&gt;
 9613           &lt;constant id=&quot;JVMTI_TYPE_JOBJECT&quot; num=&quot;109&quot;&gt;
 9614             Java programming language object type - &lt;code&gt;java.lang.Object&lt;/code&gt;.
 9615             JNI type &lt;datalink id=&quot;jobject&quot;&gt;&lt;/datalink&gt;.
 9616             Returned values are JNI local references and must be managed.
 9617           &lt;/constant&gt;
 9618           &lt;constant id=&quot;JVMTI_TYPE_JTHREAD&quot; num=&quot;110&quot;&gt;
 9619             Java programming language object type - &lt;code&gt;java.lang.Thread&lt;/code&gt;.
 9620             &lt;jvmti/&gt; type &lt;datalink id=&quot;jthread&quot;&gt;&lt;/datalink&gt;.
 9621             Returned values are JNI local references and must be managed.
 9622           &lt;/constant&gt;
 9623           &lt;constant id=&quot;JVMTI_TYPE_JCLASS&quot; num=&quot;111&quot;&gt;
 9624             Java programming language object type - &lt;code&gt;java.lang.Class&lt;/code&gt;.
 9625             JNI type &lt;datalink id=&quot;jclass&quot;&gt;&lt;/datalink&gt;.
 9626             Returned values are JNI local references and must be managed.
 9627           &lt;/constant&gt;
 9628           &lt;constant id=&quot;JVMTI_TYPE_JVALUE&quot; num=&quot;112&quot;&gt;
 9629             Union of all Java programming language primitive and object types -
 9630             JNI type &lt;datalink id=&quot;jvalue&quot;&gt;&lt;/datalink&gt;.
 9631             Returned values which represent object types are JNI local references and must be managed.
 9632           &lt;/constant&gt;
 9633           &lt;constant id=&quot;JVMTI_TYPE_JFIELDID&quot; num=&quot;113&quot;&gt;
 9634             Java programming language field identifier -
 9635             JNI type &lt;datalink id=&quot;jfieldID&quot;&gt;&lt;/datalink&gt;.
 9636           &lt;/constant&gt;
 9637           &lt;constant id=&quot;JVMTI_TYPE_JMETHODID&quot; num=&quot;114&quot;&gt;
 9638             Java programming language method identifier -
 9639             JNI type &lt;datalink id=&quot;jmethodID&quot;&gt;&lt;/datalink&gt;.
 9640           &lt;/constant&gt;
 9641           &lt;constant id=&quot;JVMTI_TYPE_CCHAR&quot; num=&quot;115&quot;&gt;
 9642             C programming language type - &lt;code&gt;char&lt;/code&gt;.
 9643           &lt;/constant&gt;
 9644           &lt;constant id=&quot;JVMTI_TYPE_CVOID&quot; num=&quot;116&quot;&gt;
 9645             C programming language type - &lt;code&gt;void&lt;/code&gt;.
 9646           &lt;/constant&gt;
 9647           &lt;constant id=&quot;JVMTI_TYPE_JNIENV&quot; num=&quot;117&quot;&gt;
 9648             JNI environment - &lt;code&gt;JNIEnv&lt;/code&gt;.
 9649             Should be used with the correct &lt;datalink id=&quot;jvmtiParamKind&quot;/&gt; to make it a pointer type.
 9650           &lt;/constant&gt;
 9651         &lt;/constants&gt;
 9652 
 9653         &lt;constants id=&quot;jvmtiParamKind&quot; label=&quot;Extension Function/Event Parameter Kinds&quot; kind=&quot;enum&quot;&gt;
 9654           &lt;constant id=&quot;JVMTI_KIND_IN&quot; num=&quot;91&quot;&gt;
 9655             Ingoing argument - &lt;code&gt;foo&lt;/code&gt;.
 9656           &lt;/constant&gt;
 9657           &lt;constant id=&quot;JVMTI_KIND_IN_PTR&quot; num=&quot;92&quot;&gt;
 9658             Ingoing pointer argument - &lt;code&gt;const foo*&lt;/code&gt;.
 9659           &lt;/constant&gt;
 9660           &lt;constant id=&quot;JVMTI_KIND_IN_BUF&quot; num=&quot;93&quot;&gt;
 9661             Ingoing array argument - &lt;code&gt;const foo*&lt;/code&gt;.
 9662           &lt;/constant&gt;
 9663           &lt;constant id=&quot;JVMTI_KIND_ALLOC_BUF&quot; num=&quot;94&quot;&gt;
 9664             Outgoing allocated array argument -  &lt;code&gt;foo**&lt;/code&gt;.
 9665             Free with &lt;code&gt;Deallocate&lt;/code&gt;.
 9666           &lt;/constant&gt;
 9667           &lt;constant id=&quot;JVMTI_KIND_ALLOC_ALLOC_BUF&quot; num=&quot;95&quot;&gt;
 9668             Outgoing allocated array of allocated arrays argument - &lt;code&gt;foo***&lt;/code&gt;.
 9669             Free with &lt;code&gt;Deallocate&lt;/code&gt;.
 9670           &lt;/constant&gt;
 9671           &lt;constant id=&quot;JVMTI_KIND_OUT&quot; num=&quot;96&quot;&gt;
 9672             Outgoing argument - &lt;code&gt;foo*&lt;/code&gt;.
 9673           &lt;/constant&gt;
 9674           &lt;constant id=&quot;JVMTI_KIND_OUT_BUF&quot; num=&quot;97&quot;&gt;
 9675             Outgoing array argument (pre-allocated by agent) - &lt;code&gt;foo*&lt;/code&gt;.
 9676             Do not &lt;code&gt;Deallocate&lt;/code&gt;.
 9677           &lt;/constant&gt;
 9678         &lt;/constants&gt;
 9679 
 9680       &lt;/intro&gt;
 9681 
 9682       &lt;typedef id=&quot;jvmtiParamInfo&quot; label=&quot;Extension Function/Event Parameter Info&quot;&gt;
 9683         &lt;field id=&quot;name&quot;&gt;
 9684           &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9685             &lt;description&gt;
 9686               The parameter name, encoded as a
 9687               &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string
 9688             &lt;/description&gt;
 9689         &lt;/field&gt;
 9690         &lt;field id=&quot;kind&quot;&gt;
 9691           &lt;enum&gt;jvmtiParamKind&lt;/enum&gt;
 9692           &lt;description&gt;
 9693             The kind of the parameter - type modifiers
 9694           &lt;/description&gt;
 9695         &lt;/field&gt;
 9696         &lt;field id=&quot;base_type&quot;&gt;
 9697           &lt;enum&gt;jvmtiParamTypes&lt;/enum&gt;
 9698           &lt;description&gt;
 9699             The base type of the parameter -  modified by &lt;code&gt;kind&lt;/code&gt;
 9700           &lt;/description&gt;
 9701         &lt;/field&gt;
 9702         &lt;field id=&quot;null_ok&quot;&gt;
 9703           &lt;jboolean/&gt;
 9704             &lt;description&gt;
 9705               Is a &lt;code&gt;NULL&lt;/code&gt; argument permitted? Applies only to pointer and object types.
 9706             &lt;/description&gt;
 9707         &lt;/field&gt;
 9708       &lt;/typedef&gt;
 9709 
 9710       &lt;callback id=&quot;jvmtiExtensionFunction&quot;&gt;
 9711         &lt;enum&gt;jvmtiError&lt;/enum&gt;
 9712           &lt;synopsis&gt;Extension Function&lt;/synopsis&gt;
 9713         &lt;description&gt;
 9714           This is the implementation-specific extension function.
 9715         &lt;/description&gt;
 9716         &lt;parameters&gt;
 9717           &lt;param id=&quot;jvmti_env&quot;&gt;
 9718             &lt;outptr&gt;
 9719               &lt;struct&gt;jvmtiEnv&lt;/struct&gt;
 9720             &lt;/outptr&gt;
 9721             &lt;description&gt;
 9722               The &lt;jvmti/&gt; environment is the only fixed parameter for extension functions.
 9723             &lt;/description&gt;
 9724           &lt;/param&gt;
 9725           &lt;param id=&quot;...&quot;&gt;
 9726             &lt;varargs/&gt;
 9727               &lt;description&gt;
 9728                 The extension function-specific parameters
 9729               &lt;/description&gt;
 9730           &lt;/param&gt;
 9731         &lt;/parameters&gt;
 9732       &lt;/callback&gt;
 9733 
 9734       &lt;function id=&quot;GetExtensionFunctions&quot; phase=&quot;onload&quot; num=&quot;124&quot;&gt;
 9735         &lt;synopsis&gt;Get Extension Functions&lt;/synopsis&gt;
 9736 
 9737         &lt;typedef id=&quot;jvmtiExtensionFunctionInfo&quot; label=&quot;Extension Function Info&quot;&gt;
 9738           &lt;field id=&quot;func&quot;&gt;
 9739             &lt;ptrtype&gt;
 9740               &lt;struct&gt;jvmtiExtensionFunction&lt;/struct&gt;
 9741             &lt;/ptrtype&gt;
 9742             &lt;description&gt;
 9743               The actual function to call
 9744             &lt;/description&gt;
 9745           &lt;/field&gt;
 9746           &lt;field id=&quot;id&quot;&gt;
 9747             &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9748               &lt;description&gt;
 9749                 The identifier for the extension function, encoded as a
 9750                 &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9751                 Uses package name conventions.
 9752                 For example, &lt;code&gt;com.sun.hotspot.bar&lt;/code&gt;
 9753               &lt;/description&gt;
 9754           &lt;/field&gt;
 9755           &lt;field id=&quot;short_description&quot;&gt;
 9756             &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9757               &lt;description&gt;
 9758                 A one sentence description of the function, encoded as a
 9759                 &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9760               &lt;/description&gt;
 9761           &lt;/field&gt;
 9762           &lt;field id=&quot;param_count&quot;&gt;
 9763             &lt;jint/&gt;
 9764               &lt;description&gt;
 9765                 The number of parameters excluding &lt;code&gt;jvmtiEnv *jvmti_env&lt;/code&gt;
 9766               &lt;/description&gt;
 9767           &lt;/field&gt;
 9768           &lt;field id=&quot;params&quot;&gt;
 9769             &lt;allocfieldbuf outcount=&quot;param_count&quot;&gt;
 9770               &lt;struct&gt;jvmtiParamInfo&lt;/struct&gt;
 9771             &lt;/allocfieldbuf&gt;
 9772             &lt;description&gt;
 9773               Array of
 9774               &lt;fieldlink id=&quot;param_count&quot; struct=&quot;jvmtiExtensionFunctionInfo&quot;&gt;&lt;/fieldlink&gt;
 9775               parameters (&lt;code&gt;jvmtiEnv *jvmti_env&lt;/code&gt; excluded)
 9776             &lt;/description&gt;
 9777           &lt;/field&gt;
 9778           &lt;field id=&quot;error_count&quot;&gt;
 9779             &lt;jint/&gt;
 9780               &lt;description&gt;
 9781                 The number of possible error returns (excluding universal errors)
 9782               &lt;/description&gt;
 9783           &lt;/field&gt;
 9784           &lt;field id=&quot;errors&quot;&gt;
 9785             &lt;allocfieldbuf outcount=&quot;error_count&quot;&gt;
 9786               &lt;enum&gt;jvmtiError&lt;/enum&gt;
 9787             &lt;/allocfieldbuf&gt;
 9788             &lt;description&gt;
 9789               Array of &lt;fieldlink id=&quot;error_count&quot; struct=&quot;jvmtiExtensionFunctionInfo&quot;&gt;&lt;/fieldlink&gt;
 9790               possible errors
 9791             &lt;/description&gt;
 9792           &lt;/field&gt;
 9793         &lt;/typedef&gt;
 9794 
 9795         &lt;description&gt;
 9796           Returns the set of extension functions.
 9797         &lt;/description&gt;
 9798         &lt;origin&gt;new&lt;/origin&gt;
 9799         &lt;capabilities&gt;
 9800         &lt;/capabilities&gt;
 9801         &lt;parameters&gt;
 9802           &lt;param id=&quot;extension_count_ptr&quot;&gt;
 9803             &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 9804               &lt;description&gt;
 9805                 On return, points to the number of extension functions
 9806               &lt;/description&gt;
 9807           &lt;/param&gt;
 9808           &lt;param id=&quot;extensions&quot;&gt;
 9809             &lt;allocbuf outcount=&quot;extension_count_ptr&quot;&gt;&lt;struct&gt;jvmtiExtensionFunctionInfo&lt;/struct&gt;&lt;/allocbuf&gt;
 9810             &lt;description&gt;
 9811               Returns an array of extension function info, one per function
 9812             &lt;/description&gt;
 9813           &lt;/param&gt;
 9814         &lt;/parameters&gt;
 9815         &lt;errors&gt;
 9816         &lt;/errors&gt;
 9817       &lt;/function&gt;
 9818 
 9819       &lt;function id=&quot;GetExtensionEvents&quot; phase=&quot;onload&quot; num=&quot;125&quot;&gt;
 9820         &lt;synopsis&gt;Get Extension Events&lt;/synopsis&gt;
 9821 
 9822         &lt;typedef id=&quot;jvmtiExtensionEventInfo&quot; label=&quot;Extension Event Info&quot;&gt;
 9823           &lt;field id=&quot;extension_event_index&quot;&gt;
 9824             &lt;jint/&gt;
 9825             &lt;description&gt;
 9826               The identifying index of the event
 9827             &lt;/description&gt;
 9828           &lt;/field&gt;
 9829           &lt;field id=&quot;id&quot;&gt;
 9830             &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9831               &lt;description&gt;
 9832                 The identifier for the extension event, encoded as a
 9833                 &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9834                 Uses package name conventions.
 9835                 For example, &lt;code&gt;com.sun.hotspot.bar&lt;/code&gt;
 9836               &lt;/description&gt;
 9837           &lt;/field&gt;
 9838           &lt;field id=&quot;short_description&quot;&gt;
 9839             &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9840               &lt;description&gt;
 9841                 A one sentence description of the event, encoded as a
 9842                 &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9843               &lt;/description&gt;
 9844           &lt;/field&gt;
 9845           &lt;field id=&quot;param_count&quot;&gt;
 9846             &lt;jint/&gt;
 9847               &lt;description&gt;
 9848                 The number of parameters excluding &lt;code&gt;jvmtiEnv *jvmti_env&lt;/code&gt;
 9849               &lt;/description&gt;
 9850           &lt;/field&gt;
 9851           &lt;field id=&quot;params&quot;&gt;
 9852             &lt;allocfieldbuf outcount=&quot;param_count&quot;&gt;
 9853               &lt;struct&gt;jvmtiParamInfo&lt;/struct&gt;
 9854             &lt;/allocfieldbuf&gt;
 9855             &lt;description&gt;
 9856               Array of
 9857               &lt;fieldlink id=&quot;param_count&quot; struct=&quot;jvmtiExtensionEventInfo&quot;&gt;&lt;/fieldlink&gt;
 9858               parameters (&lt;code&gt;jvmtiEnv *jvmti_env&lt;/code&gt; excluded)
 9859             &lt;/description&gt;
 9860           &lt;/field&gt;
 9861         &lt;/typedef&gt;
 9862 
 9863         &lt;description&gt;
 9864           Returns the set of extension events.
 9865         &lt;/description&gt;
 9866         &lt;origin&gt;new&lt;/origin&gt;
 9867         &lt;capabilities&gt;
 9868         &lt;/capabilities&gt;
 9869         &lt;parameters&gt;
 9870           &lt;param id=&quot;extension_count_ptr&quot;&gt;
 9871             &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 9872               &lt;description&gt;
 9873                 On return, points to the number of extension events
 9874               &lt;/description&gt;
 9875           &lt;/param&gt;
 9876           &lt;param id=&quot;extensions&quot;&gt;
 9877             &lt;allocbuf outcount=&quot;extension_count_ptr&quot;&gt;&lt;struct&gt;jvmtiExtensionEventInfo&lt;/struct&gt;&lt;/allocbuf&gt;
 9878             &lt;description&gt;
 9879               Returns an array of extension event info, one per event
 9880             &lt;/description&gt;
 9881           &lt;/param&gt;
 9882         &lt;/parameters&gt;
 9883         &lt;errors&gt;
 9884         &lt;/errors&gt;
 9885       &lt;/function&gt;
 9886 
 9887       &lt;callback id=&quot;jvmtiExtensionEvent&quot;&gt;
 9888         &lt;void/&gt;
 9889           &lt;synopsis&gt;Extension Event&lt;/synopsis&gt;
 9890         &lt;description&gt;
 9891           This is the implementation-specific event.
 9892           The event handler is set with
 9893           &lt;functionlink id=&quot;SetExtensionEventCallback&quot;/&gt;.
 9894           &lt;p/&gt;
 9895           Event handlers for extension events must be declared varargs to match this definition.
 9896           Failure to do so could result in calling convention mismatch and undefined behavior
 9897           on some platforms.
 9898           &lt;p/&gt;
 9899           For example, if the &lt;code&gt;jvmtiParamInfo&lt;/code&gt;
 9900           returned by &lt;functionlink id=&quot;GetExtensionEvents&quot;/&gt; indicates that
 9901           there is a &lt;code&gt;jint&lt;/code&gt; parameter, the event handler should be
 9902           declared:
 9903 &lt;example&gt;
 9904     void JNICALL myHandler(jvmtiEnv* jvmti_env, jint myInt, ...)
 9905 &lt;/example&gt;
 9906           Note the terminal &quot;&lt;code&gt;...&lt;/code&gt;&quot; which indicates varargs.
 9907         &lt;/description&gt;
 9908         &lt;parameters&gt;
 9909           &lt;param id=&quot;jvmti_env&quot;&gt;
 9910             &lt;outptr&gt;
 9911               &lt;struct&gt;jvmtiEnv&lt;/struct&gt;
 9912             &lt;/outptr&gt;
 9913             &lt;description&gt;
 9914               The &lt;jvmti/&gt; environment is the only fixed parameter for extension events.
 9915             &lt;/description&gt;
 9916           &lt;/param&gt;
 9917           &lt;param id=&quot;...&quot;&gt;
 9918             &lt;varargs/&gt;
 9919               &lt;description&gt;
 9920                 The extension event-specific parameters
 9921               &lt;/description&gt;
 9922           &lt;/param&gt;
 9923         &lt;/parameters&gt;
 9924       &lt;/callback&gt;
 9925 
 9926       &lt;function id=&quot;SetExtensionEventCallback&quot; phase=&quot;onload&quot; num=&quot;126&quot;&gt;
 9927         &lt;synopsis&gt;Set Extension Event Callback&lt;/synopsis&gt;
 9928 
 9929         &lt;description&gt;
 9930           Sets the callback function for an extension event and
 9931           enables the event. Or, if the callback is &lt;code&gt;NULL&lt;/code&gt;, disables
 9932           the event.  Note that unlike standard events, setting
 9933           the callback and enabling the event are a single operation.
 9934         &lt;/description&gt;
 9935         &lt;origin&gt;new&lt;/origin&gt;
 9936         &lt;capabilities&gt;
 9937         &lt;/capabilities&gt;
 9938         &lt;parameters&gt;
 9939           &lt;param id=&quot;extension_event_index&quot;&gt;
 9940             &lt;jint/&gt;
 9941               &lt;description&gt;
 9942                 Identifies which callback to set.
 9943                 This index is the
 9944                 &lt;fieldlink id=&quot;extension_event_index&quot; struct=&quot;jvmtiExtensionEventInfo&quot;&gt;&lt;/fieldlink&gt;
 9945                 field of
 9946                 &lt;datalink id=&quot;jvmtiExtensionEventInfo&quot;/&gt;.
 9947               &lt;/description&gt;
 9948           &lt;/param&gt;
 9949           &lt;param id=&quot;callback&quot;&gt;
 9950             &lt;ptrtype&gt;
 9951               &lt;struct&gt;jvmtiExtensionEvent&lt;/struct&gt;
 9952               &lt;nullok&gt;disable the event&lt;/nullok&gt;
 9953             &lt;/ptrtype&gt;
 9954             &lt;description&gt;
 9955               If &lt;code&gt;callback&lt;/code&gt; is non-&lt;code&gt;NULL&lt;/code&gt;,
 9956               set &lt;code&gt;callback&lt;/code&gt; to be the event callback function
 9957               and enable the event.
 9958             &lt;/description&gt;
 9959           &lt;/param&gt;
 9960         &lt;/parameters&gt;
 9961         &lt;errors&gt;
 9962         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 9963             &lt;paramlink id=&quot;extension_event_index&quot;/&gt; is not an
 9964             &lt;fieldlink id=&quot;extension_event_index&quot;
 9965                        struct=&quot;jvmtiExtensionEventInfo&quot;/&gt;
 9966             returned by
 9967             &lt;functionlink id=&quot;GetExtensionEvents&quot;/&gt;
 9968         &lt;/error&gt;
 9969         &lt;/errors&gt;
 9970       &lt;/function&gt;
 9971 
 9972     &lt;/category&gt;
 9973 
 9974   &lt;category id=&quot;capability&quot; label=&quot;Capability&quot;&gt;
 9975 
 9976     &lt;intro&gt;
 9977       The capabilities functions allow you to change the
 9978       functionality available to &lt;jvmti/&gt;--that is,
 9979       which &lt;jvmti/&gt;
 9980       functions can be called, what events can be generated,
 9981       and what functionality these events and functions can
 9982       provide.
 9983       &lt;p/&gt;
 9984         The &quot;Capabilities&quot; section of each function and event describe which
 9985         capabilities, if any, they are associated with. &quot;Required Functionality&quot;
 9986         means it is available for use and no capabilities must be added to use it.
 9987         &quot;Optional Functionality&quot; means the agent must possess the capability
 9988         before it can be used.
 9989         To possess a capability, the agent must
 9990         &lt;functionlink id=&quot;AddCapabilities&quot;&gt;add the capability&lt;/functionlink&gt;.
 9991         &quot;Optional Features&quot; describe capabilities which,
 9992         if added, extend the feature set.
 9993         &lt;p/&gt;
 9994         The potentially available capabilities of each &lt;jvmti/&gt; implementation are different.
 9995         Depending on the implementation, a capability:
 9996         &lt;ul&gt;
 9997           &lt;li&gt;may never be added&lt;/li&gt;
 9998           &lt;li&gt;may be added in either the &lt;code&gt;OnLoad&lt;/code&gt; or live phase in any environment&lt;/li&gt;
 9999           &lt;li&gt;may be added only during the &lt;code&gt;OnLoad&lt;/code&gt; phase&lt;/li&gt;
10000           &lt;li&gt;may be possessed by only one environment at a time&lt;/li&gt;
10001           &lt;li&gt;may be possessed by only one environment at a time,
10002               and only during the &lt;code&gt;OnLoad&lt;/code&gt; phase&lt;/li&gt;
10003           &lt;li&gt;and so on ...&lt;/li&gt;
10004         &lt;/ul&gt;
10005       Frequently, the addition of a capability may incur a cost in execution speed, start up
10006       time, and/or memory footprint.  Note that the overhead of using a capability
10007       is completely different than the overhead of possessing a capability.
10008       Take single stepping as an example. When single stepping is on (that
10009       is, when the event is enabled and thus actively sending events)
10010       the overhead of sending and processing an event
10011       on each instruction is huge in any implementation.
10012       However, the overhead of possessing the capability may be small or large,
10013       depending on the implementation.  Also, when and if a capability is potentially
10014       available depends on the implementation.  Some examples:
10015       &lt;ul&gt;
10016         &lt;li&gt;One VM might perform all execution by compiling bytecodes into
10017           native code and be unable to generate single step instructions.
10018           In this implementation the capability can not be added.&lt;/li&gt;
10019         &lt;li&gt;Another VM may be able to switch execution to a single stepping
10020           interpreter at any time.  In this implementation, having the capability has no
10021           overhead and could be added at any time.&lt;/li&gt;
10022         &lt;li&gt;Yet another VM might be able to choose a bytecode compiling or single stepping capable interpreted
10023           execution engine at start up, but be unable to switch between them.
10024           In this implementation the capability would need to be added
10025           during the &lt;code&gt;OnLoad&lt;/code&gt; phase (before bytecode
10026           execution begins) and would have a large impact on execution speed
10027           even if single stepping was never used.&lt;/li&gt;
10028         &lt;li&gt;Still another VM might be able to add an &quot;is single stepping on&quot; check
10029           into compiled bytecodes or a generated interpreter.  Again in this implementation
10030           the capability would need to be added during the &lt;code&gt;OnLoad&lt;/code&gt; phase but the overhead (a test
10031           and branch on each instruction) would be considerably less.&lt;/li&gt;
10032       &lt;/ul&gt;
10033       &lt;p/&gt;
10034       Each &lt;jvmti/&gt; &lt;internallink id=&quot;environments&quot;&gt;environment&lt;/internallink&gt;
10035       has its own set of capabilities.
10036       Initially, that set is empty.
10037       Any desired capability must be added.
10038       If possible, capabilities should be added during the &lt;code&gt;OnLoad&lt;/code&gt; phase.  For most
10039       virtual machines certain capabilities require special set up for
10040       the virtual machine and this set up must happen
10041       during the &lt;code&gt;OnLoad&lt;/code&gt; phase, before the virtual machine begins execution.
10042       Once a capability is added, it can
10043       only be removed if explicitly relinquished by the environment.
10044       &lt;p/&gt;
10045       The agent can,
10046       &lt;functionlink id=&quot;GetPotentialCapabilities&quot;&gt;determine what
10047         capabilities this VM can potentially provide&lt;/functionlink&gt;,
10048       &lt;functionlink id=&quot;AddCapabilities&quot;&gt;add the capabilities
10049         to be used&lt;/functionlink&gt;,
10050       &lt;functionlink id=&quot;RelinquishCapabilities&quot;&gt;release capabilities
10051         which are no longer needed&lt;/functionlink&gt;, and
10052       &lt;functionlink id=&quot;GetCapabilities&quot;&gt;examine the currently available
10053         capabilities&lt;/functionlink&gt;.
10054     &lt;/intro&gt;
10055 
10056     &lt;intro id=&quot;capabilityExamples&quot; label=&quot;Capability Examples&quot;&gt;
10057       For example, a freshly started agent (in the &lt;code&gt;OnLoad&lt;/code&gt; function)
10058       wants to enable all possible capabilities.
10059       Note that, in general, this is not advisable as the agent may suffer
10060       a performance penalty for functionality it is not using.
10061       The code might look like this in C:
10062       &lt;example&gt;
10063         jvmtiCapabilities capa;
10064         jvmtiError err;
10065 
10066         err = (*jvmti)-&amp;gt;GetPotentialCapabilities(jvmti, &amp;amp;capa);
10067         if (err == JVMTI_ERROR_NONE) {
10068            err = (*jvmti)-&amp;gt;AddCapabilities(jvmti, &amp;amp;capa);
10069       &lt;/example&gt;
10070       For example, if an  agent wants to check if it can get
10071       the bytecodes of a method (that is, it wants to check
10072       if it previously added this capability and has not
10073       relinquished it), the code might
10074       look like this in C:
10075       &lt;example&gt;
10076         jvmtiCapabilities capa;
10077         jvmtiError err;
10078 
10079         err = (*jvmti)-&amp;gt;GetCapabilities(jvmti, &amp;amp;capa);
10080         if (err == JVMTI_ERROR_NONE) {
10081            if (capa.can_get_bytecodes) { ... } }
10082       &lt;/example&gt;
10083     &lt;/intro&gt;
10084 
10085     &lt;capabilitiestypedef id=&quot;jvmtiCapabilities&quot; label=&quot;The Capabilities Structure&quot;&gt;
10086       &lt;description&gt;
10087         The functions in this category use this capabilities structure
10088         which contains boolean flags corresponding to each capability:
10089       &lt;/description&gt;
10090       &lt;capabilityfield id=&quot;can_tag_objects&quot;&gt;
10091         &lt;description&gt;
10092           Can set and get tags, as described in the
10093           &lt;internallink id=&quot;Heap&quot;&gt;Heap category&lt;/internallink&gt;.
10094         &lt;/description&gt;
10095       &lt;/capabilityfield&gt;
10096       &lt;capabilityfield id=&quot;can_generate_field_modification_events&quot;&gt;
10097         &lt;description&gt;
10098           Can set watchpoints on field modification -
10099           &lt;functionlink id=&quot;SetFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;
10100         &lt;/description&gt;
10101       &lt;/capabilityfield&gt;
10102       &lt;capabilityfield id=&quot;can_generate_field_access_events&quot;&gt;
10103         &lt;description&gt;
10104           Can set watchpoints on field access -
10105           &lt;functionlink id=&quot;SetFieldAccessWatch&quot;&gt;&lt;/functionlink&gt;
10106         &lt;/description&gt;
10107       &lt;/capabilityfield&gt;
10108       &lt;capabilityfield id=&quot;can_get_bytecodes&quot;&gt;
10109         &lt;description&gt;
10110           Can get bytecodes of a method &lt;functionlink id=&quot;GetBytecodes&quot;&gt;&lt;/functionlink&gt;
10111         &lt;/description&gt;
10112       &lt;/capabilityfield&gt;
10113       &lt;capabilityfield id=&quot;can_get_synthetic_attribute&quot;&gt;
10114         &lt;description&gt;
10115           Can test if a field or method is synthetic -
10116           &lt;functionlink id=&quot;IsFieldSynthetic&quot;&gt;&lt;/functionlink&gt; and
10117           &lt;functionlink id=&quot;IsMethodSynthetic&quot;&gt;&lt;/functionlink&gt;
10118         &lt;/description&gt;
10119       &lt;/capabilityfield&gt;
10120       &lt;capabilityfield id=&quot;can_get_owned_monitor_info&quot;&gt;
10121         &lt;description&gt;
10122           Can get information about ownership of monitors -
10123           &lt;functionlink id=&quot;GetOwnedMonitorInfo&quot;&gt;&lt;/functionlink&gt;
10124         &lt;/description&gt;
10125       &lt;/capabilityfield&gt;
10126       &lt;capabilityfield id=&quot;can_get_current_contended_monitor&quot;&gt;
10127         &lt;description&gt;
10128           Can &lt;functionlink id=&quot;GetCurrentContendedMonitor&quot;&gt;&lt;/functionlink&gt;
10129         &lt;/description&gt;
10130       &lt;/capabilityfield&gt;
10131       &lt;capabilityfield id=&quot;can_get_monitor_info&quot;&gt;
10132       &lt;description&gt;
10133         Can &lt;functionlink id=&quot;GetObjectMonitorUsage&quot;&gt;&lt;/functionlink&gt;
10134       &lt;/description&gt;
10135       &lt;/capabilityfield&gt;
10136       &lt;capabilityfield id=&quot;can_pop_frame&quot;&gt;
10137         &lt;description&gt;
10138           Can pop frames off the stack - &lt;functionlink id=&quot;PopFrame&quot;&gt;&lt;/functionlink&gt;
10139         &lt;/description&gt;
10140       &lt;/capabilityfield&gt;
10141       &lt;capabilityfield id=&quot;can_redefine_classes&quot;&gt;
10142         &lt;description&gt;
10143           Can redefine classes with &lt;functionlink id=&quot;RedefineClasses&quot;/&gt;.
10144         &lt;/description&gt;
10145       &lt;/capabilityfield&gt;
10146       &lt;capabilityfield id=&quot;can_signal_thread&quot;&gt;
10147         &lt;description&gt;
10148           Can send stop or interrupt to threads
10149         &lt;/description&gt;
10150       &lt;/capabilityfield&gt;
10151       &lt;capabilityfield id=&quot;can_get_source_file_name&quot;&gt;
10152         &lt;description&gt;
10153           Can get the source file name of a class
10154         &lt;/description&gt;
10155       &lt;/capabilityfield&gt;
10156       &lt;capabilityfield id=&quot;can_get_line_numbers&quot;&gt;
10157         &lt;description&gt;
10158           Can get the line number table of a method
10159         &lt;/description&gt;
10160       &lt;/capabilityfield&gt;
10161       &lt;capabilityfield id=&quot;can_get_source_debug_extension&quot;&gt;
10162         &lt;description&gt;
10163           Can get the source debug extension of a class
10164         &lt;/description&gt;
10165       &lt;/capabilityfield&gt;
10166       &lt;capabilityfield id=&quot;can_access_local_variables&quot;&gt;
10167         &lt;description&gt;
10168           Can set and get local variables
10169         &lt;/description&gt;
10170       &lt;/capabilityfield&gt;
10171       &lt;capabilityfield id=&quot;can_maintain_original_method_order&quot;&gt;
10172         &lt;description&gt;
10173           Can return methods in the order they occur in the class file
10174         &lt;/description&gt;
10175       &lt;/capabilityfield&gt;
10176       &lt;capabilityfield id=&quot;can_generate_single_step_events&quot;&gt;
10177         &lt;description&gt;
10178           Can get &lt;eventlink id=&quot;SingleStep&quot;&gt;single step&lt;/eventlink&gt; events
10179         &lt;/description&gt;
10180       &lt;/capabilityfield&gt;
10181       &lt;capabilityfield id=&quot;can_generate_exception_events&quot;&gt;
10182         &lt;description&gt;
10183           Can get &lt;eventlink id=&quot;Exception&quot;&gt;exception thrown&lt;/eventlink&gt; and
10184             &lt;eventlink id=&quot;ExceptionCatch&quot;&gt;exception catch&lt;/eventlink&gt; events
10185         &lt;/description&gt;
10186       &lt;/capabilityfield&gt;
10187       &lt;capabilityfield id=&quot;can_generate_frame_pop_events&quot;&gt;
10188         &lt;description&gt;
10189           Can &lt;functionlink id=&quot;NotifyFramePop&quot;&gt;set&lt;/functionlink&gt; and thus get
10190             &lt;eventlink id=&quot;FramePop&quot;&gt;&lt;/eventlink&gt; events
10191         &lt;/description&gt;
10192       &lt;/capabilityfield&gt;
10193       &lt;capabilityfield id=&quot;can_generate_breakpoint_events&quot;&gt;
10194         &lt;description&gt;
10195           Can &lt;functionlink id=&quot;SetBreakpoint&quot;&gt;set&lt;/functionlink&gt; and thus get
10196             &lt;eventlink id=&quot;Breakpoint&quot;&gt;&lt;/eventlink&gt; events
10197         &lt;/description&gt;
10198       &lt;/capabilityfield&gt;
10199       &lt;capabilityfield id=&quot;can_suspend&quot;&gt;
10200         &lt;description&gt;
10201           Can suspend and resume threads
10202         &lt;/description&gt;
10203       &lt;/capabilityfield&gt;
10204       &lt;capabilityfield id=&quot;can_redefine_any_class&quot;&gt;
10205         &lt;description&gt;
10206           &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; can be called on any modifiable class.
10207           See &lt;functionlink id=&quot;IsModifiableClass&quot;/&gt;.
10208           (&lt;fieldlink id=&quot;can_redefine_classes&quot; struct=&quot;jvmtiCapabilities&quot;/&gt;
10209           must also be set)
10210         &lt;/description&gt;
10211       &lt;/capabilityfield&gt;
10212       &lt;capabilityfield id=&quot;can_get_current_thread_cpu_time&quot;&gt;
10213         &lt;description&gt;
10214           Can &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;&gt;get&lt;/functionlink&gt;
10215           current thread CPU time
10216         &lt;/description&gt;
10217       &lt;/capabilityfield&gt;
10218       &lt;capabilityfield id=&quot;can_get_thread_cpu_time&quot;&gt;
10219         &lt;description&gt;
10220           Can &lt;functionlink id=&quot;GetThreadCpuTime&quot;&gt;get&lt;/functionlink&gt;
10221           thread CPU time
10222         &lt;/description&gt;
10223       &lt;/capabilityfield&gt;
10224       &lt;capabilityfield id=&quot;can_generate_method_entry_events&quot;
10225                        disp1=&quot;can_generate&quot; disp2=&quot;_method_entry_events&quot;
10226                        &gt;
10227         &lt;description&gt;
10228           Can generate method entry events on entering a method
10229         &lt;/description&gt;
10230       &lt;/capabilityfield&gt;
10231       &lt;capabilityfield id=&quot;can_generate_method_exit_events&quot;
10232                        disp1=&quot;can_generate&quot; disp2=&quot;_method_exit_events&quot;
10233                        &gt;
10234         &lt;description&gt;
10235           Can generate method exit events on leaving a method
10236         &lt;/description&gt;
10237       &lt;/capabilityfield&gt;
10238       &lt;capabilityfield id=&quot;can_generate_all_class_hook_events&quot;
10239                        disp1=&quot;can_generate&quot; disp2=&quot;_all_class_hook_events&quot;
10240                        &gt;
10241         &lt;description&gt;
10242           Can generate ClassFileLoadHook events for every loaded class.
10243         &lt;/description&gt;
10244       &lt;/capabilityfield&gt;
10245       &lt;capabilityfield id=&quot;can_generate_compiled_method_load_events&quot;
10246                        disp1=&quot;can_generate&quot; disp2=&quot;_compiled_method_load_events&quot;
10247                        &gt;
10248         &lt;description&gt;
10249           Can generate events when a method is compiled or unloaded
10250         &lt;/description&gt;
10251       &lt;/capabilityfield&gt;
10252       &lt;capabilityfield id=&quot;can_generate_monitor_events&quot;
10253                        disp1=&quot;can_generate&quot; disp2=&quot;_monitor_events&quot;
10254                        &gt;
10255         &lt;description&gt;
10256           Can generate events on monitor activity
10257         &lt;/description&gt;
10258       &lt;/capabilityfield&gt;
10259       &lt;capabilityfield id=&quot;can_generate_vm_object_alloc_events&quot;
10260                        disp1=&quot;can_generate&quot; disp2=&quot;_vm_object_alloc_events&quot;
10261                        &gt;
10262         &lt;description&gt;
10263           Can generate events on VM allocation of an object
10264         &lt;/description&gt;
10265       &lt;/capabilityfield&gt;
10266       &lt;capabilityfield id=&quot;can_generate_native_method_bind_events&quot;
10267                        disp1=&quot;can_generate&quot; disp2=&quot;_native_method_bind_events&quot;
10268                        &gt;
10269         &lt;description&gt;
10270           Can generate events when a native method is bound to its
10271           implementation
10272         &lt;/description&gt;
10273       &lt;/capabilityfield&gt;
10274       &lt;capabilityfield id=&quot;can_generate_garbage_collection_events&quot;
10275                        disp1=&quot;can_generate&quot; disp2=&quot;_garbage_collection_events&quot;
10276                        &gt;
10277         &lt;description&gt;
10278           Can generate events when garbage collection begins or ends
10279         &lt;/description&gt;
10280       &lt;/capabilityfield&gt;
10281       &lt;capabilityfield id=&quot;can_generate_object_free_events&quot;
10282                        disp1=&quot;can_generate&quot; disp2=&quot;_object_free_events&quot;
10283                        &gt;
10284         &lt;description&gt;
10285           Can generate events when the garbage collector frees an object
10286         &lt;/description&gt;
10287       &lt;/capabilityfield&gt;
10288       &lt;capabilityfield id=&quot;can_force_early_return&quot; since=&quot;1.1&quot;&gt;
10289         &lt;description&gt;
10290           Can return early from a method, as described in the
10291           &lt;internallink id=&quot;ForceEarlyReturn&quot;&gt;Force Early Return category&lt;/internallink&gt;.
10292         &lt;/description&gt;
10293       &lt;/capabilityfield&gt;
10294       &lt;capabilityfield id=&quot;can_get_owned_monitor_stack_depth_info&quot; since=&quot;1.1&quot;&gt;
10295         &lt;description&gt;
10296           Can get information about owned monitors with stack depth -
10297           &lt;functionlink id=&quot;GetOwnedMonitorStackDepthInfo&quot;&gt;&lt;/functionlink&gt;
10298         &lt;/description&gt;
10299       &lt;/capabilityfield&gt;
10300       &lt;capabilityfield id=&quot;can_get_constant_pool&quot; since=&quot;1.1&quot;&gt;
10301         &lt;description&gt;
10302           Can get the constant pool of a class -
10303           &lt;functionlink id=&quot;GetConstantPool&quot;&gt;&lt;/functionlink&gt;
10304         &lt;/description&gt;
10305       &lt;/capabilityfield&gt;
10306       &lt;capabilityfield id=&quot;can_set_native_method_prefix&quot; since=&quot;1.1&quot;&gt;
10307         &lt;description&gt;
10308           Can set prefix to be applied when native method cannot be resolved -
10309           &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt; and
10310           &lt;functionlink id=&quot;SetNativeMethodPrefixes&quot;/&gt;
10311         &lt;/description&gt;
10312       &lt;/capabilityfield&gt;
10313       &lt;capabilityfield id=&quot;can_retransform_classes&quot; since=&quot;1.1&quot;&gt;
10314         &lt;description&gt;
10315           Can retransform classes with &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;.
10316           In addition to the restrictions imposed by the specific
10317           implementation on this capability (see the
10318           &lt;internallink id=&quot;capability&quot;&gt;Capability&lt;/internallink&gt; section),
10319           this capability must be set before the
10320           &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event is enabled for the
10321           first time in this environment.
10322           An environment that possesses this capability at the time that
10323           &lt;code&gt;ClassFileLoadHook&lt;/code&gt; is enabled for the first time is
10324           said to be &lt;i&gt;retransformation capable&lt;/i&gt;.
10325           An environment that does not possess this capability at the time that
10326           &lt;code&gt;ClassFileLoadHook&lt;/code&gt; is enabled for the first time is
10327           said to be &lt;i&gt;retransformation incapable&lt;/i&gt;.
10328         &lt;/description&gt;
10329       &lt;/capabilityfield&gt;
10330       &lt;capabilityfield id=&quot;can_retransform_any_class&quot; since=&quot;1.1&quot;&gt;
10331         &lt;description&gt;
10332           &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; can be called on any modifiable class.
10333           See &lt;functionlink id=&quot;IsModifiableClass&quot;/&gt;.
10334           (&lt;fieldlink id=&quot;can_retransform_classes&quot; struct=&quot;jvmtiCapabilities&quot;/&gt;
10335           must also be set)
10336         &lt;/description&gt;
10337       &lt;/capabilityfield&gt;
10338       &lt;capabilityfield id=&quot;can_generate_resource_exhaustion_heap_events&quot; since=&quot;1.1&quot;&gt;
10339         &lt;description&gt;
10340           Can generate events when the VM is unable to allocate memory from
10341           the &lt;tm&gt;Java&lt;/tm&gt; platform heap.
10342           See &lt;eventlink id=&quot;ResourceExhausted&quot;/&gt;.
10343         &lt;/description&gt;
10344       &lt;/capabilityfield&gt;
10345       &lt;capabilityfield id=&quot;can_generate_resource_exhaustion_threads_events&quot; since=&quot;1.1&quot;&gt;
10346         &lt;description&gt;
10347           Can generate events when the VM is unable to create a thread.
10348           See &lt;eventlink id=&quot;ResourceExhausted&quot;/&gt;.
10349         &lt;/description&gt;
10350       &lt;/capabilityfield&gt;
10351       &lt;capabilityfield id=&quot;can_generate_early_vmstart&quot; since=&quot;9&quot;&gt;
10352         &lt;description&gt;
10353           Can generate the &lt;code&gt;VMStart&lt;/code&gt; event early.
10354           See &lt;eventlink id=&quot;VMStart&quot;/&gt;.
10355         &lt;/description&gt;
10356       &lt;/capabilityfield&gt;
10357       &lt;capabilityfield id=&quot;can_generate_early_class_hook_events&quot; since=&quot;9&quot;&gt;
10358         &lt;description&gt;
10359           Can generate the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events
10360           in the primordial phase. If this capability and
10361           &lt;internallink id=&quot;jvmtiCapabilities.can_generate_all_class_hook_events&quot;&gt;
10362           &lt;code&gt;can_generate_all_class_hook_events&lt;/code&gt;&lt;/internallink&gt;
10363           are enabled then the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events
10364           can be posted for classes loaded in the primordial phase.
10365           See &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt;.
10366         &lt;/description&gt;
10367       &lt;/capabilityfield&gt;
10368       &lt;capabilityfield id=&quot;can_generate_sampled_object_alloc_events&quot; since=&quot;11&quot;&gt;
10369         &lt;description&gt;
10370           Can generate sampled allocation events.
10371           If this capability is enabled then the heap sampling method
10372           &lt;functionlink id=&quot;SetHeapSamplingInterval&quot;&gt;&lt;/functionlink&gt; can be
10373           called and &lt;eventlink id=&quot;SampledObjectAlloc&quot;&gt;&lt;/eventlink&gt; events can be generated.
10374         &lt;/description&gt;
10375       &lt;/capabilityfield&gt;
10376     &lt;/capabilitiestypedef&gt;
10377 
10378     &lt;function id=&quot;GetPotentialCapabilities&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;140&quot;&gt;
10379       &lt;synopsis&gt;Get Potential Capabilities&lt;/synopsis&gt;
10380       &lt;description&gt;
10381         Returns via &lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt; the &lt;jvmti/&gt;
10382         features that can potentially be possessed by this environment
10383         at this time.
10384         The returned capabilities differ from the complete set of capabilities
10385         implemented by the VM in two cases: another environment possesses
10386         capabilities that can only be possessed by one environment, or the
10387         current &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt; is live,
10388         and certain capabilities can only be added during the &lt;code&gt;OnLoad&lt;/code&gt; phase.
10389         The &lt;functionlink id=&quot;AddCapabilities&quot;&gt;&lt;/functionlink&gt; function
10390         may be used to set any or all or these capabilities.
10391         Currently possessed capabilities are included.
10392         &lt;p/&gt;
10393         Typically this function is used in the &lt;code&gt;OnLoad&lt;/code&gt; function.
10394         Some virtual machines may allow a limited set of capabilities to be
10395         added in the live phase.
10396         In this case, the set of potentially available capabilities
10397         will likely differ from the &lt;code&gt;OnLoad&lt;/code&gt; phase set.
10398         &lt;p/&gt;
10399         See the
10400         &lt;internallink id=&quot;capabilityExamples&quot;&gt;Capability Examples&lt;/internallink&gt;.
10401       &lt;/description&gt;
10402       &lt;origin&gt;new&lt;/origin&gt;
10403       &lt;capabilities&gt;
10404       &lt;/capabilities&gt;
10405       &lt;parameters&gt;
10406         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10407           &lt;outptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/outptr&gt;
10408           &lt;description&gt;
10409             On return, points to the &lt;jvmti/&gt; capabilities that may be added.
10410           &lt;/description&gt;
10411         &lt;/param&gt;
10412       &lt;/parameters&gt;
10413       &lt;errors&gt;
10414       &lt;/errors&gt;
10415     &lt;/function&gt;
10416 
10417     &lt;elide&gt;
10418     &lt;function id=&quot;EstimateCostOfCapabilities&quot; phase=&quot;onload&quot; num=&quot;141&quot;&gt;
10419       &lt;synopsis&gt;Estimate Cost Of Capabilities&lt;/synopsis&gt;
10420       &lt;description&gt;
10421         &lt;issue&gt;There is strong opposition to this function.  The concern is
10422           that it would be difficult or impossible to provide meaningful
10423           numbers, as the amount of impact is conditional on many factors
10424           that a single number could not represent.  There is doubt that
10425           conditional implementations would be used or are even a good idea.
10426           The thought is that release documentation for the implementation
10427           would be the best means of exposing this information.
10428           Unless new arguments are presented, I intend to remove this
10429           function in the next revision.
10430         &lt;/issue&gt;
10431         &lt;p/&gt;
10432         Return via the &lt;paramlink id=&quot;time_impact_ptr&quot;&gt;&lt;/paramlink&gt; and
10433         &lt;paramlink id=&quot;space_impact_ptr&quot;&gt;&lt;/paramlink&gt; an estimate of the impact
10434         of adding the capabilities pointed to by
10435         &lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt;.
10436         The returned estimates are in percentage of additional overhead, thus
10437         a time impact of 100 mean the application might run
10438         at half the speed.
10439         The estimates are very rough approximations and are not guaranteed.
10440         Note also, that the estimates are of the impact of having the
10441         capability available--when and if it is used the impact may be
10442         much greater.
10443         Estimates can be for a single capability or for a set of
10444         capabilities.  Note that the costs are not necessarily additive,
10445         adding support for one capability might make another available
10446         for free or conversely having two capabilities at once may
10447         have multiplicative impact.
10448         Estimates are relative to the current set of capabilities -
10449         that is, how much more impact given the currently possessed capabilities.
10450         &lt;p/&gt;
10451         Typically this function is used in the OnLoad function,
10452         some virtual machines may allow a limited set of capabilities to be
10453         added in the live phase.
10454         In this case, the set of potentially available capabilities
10455         will likely differ from the OnLoad phase set.
10456         &lt;p/&gt;
10457         See the
10458         &lt;internallink id=&quot;capabilityExamples&quot;&gt;Capability Examples&lt;/internallink&gt;.
10459       &lt;/description&gt;
10460       &lt;origin&gt;new&lt;/origin&gt;
10461       &lt;capabilities&gt;
10462       &lt;/capabilities&gt;
10463       &lt;parameters&gt;
10464         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10465           &lt;inptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/inptr&gt;
10466           &lt;description&gt;
10467             points to the &lt;jvmti/&gt; capabilities to evaluate.
10468           &lt;/description&gt;
10469         &lt;/param&gt;
10470         &lt;param id=&quot;time_impact_ptr&quot;&gt;
10471           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
10472           &lt;description&gt;
10473             On return, points to the estimated percentage increase in
10474             run time if this capability was added.
10475           &lt;/description&gt;
10476         &lt;/param&gt;
10477         &lt;param id=&quot;space_impact_ptr&quot;&gt;
10478           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
10479           &lt;description&gt;
10480             On return, points to the estimated percentage increase in
10481             memory space used if this capability was added.
10482           &lt;/description&gt;
10483         &lt;/param&gt;
10484       &lt;/parameters&gt;
10485       &lt;errors&gt;
10486         &lt;error id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;&gt;
10487           The desired capabilities are not even potentially available.
10488         &lt;/error&gt;
10489       &lt;/errors&gt;
10490     &lt;/function&gt;
10491     &lt;/elide&gt;
10492 
10493     &lt;function id=&quot;AddCapabilities&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;142&quot;&gt;
10494       &lt;synopsis&gt;Add Capabilities&lt;/synopsis&gt;
10495       &lt;description&gt;
10496         Set new capabilities by adding the capabilities
10497         whose values are set to one (&lt;code&gt;1&lt;/code&gt;) in
10498         &lt;code&gt;*&lt;/code&gt;&lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt;.
10499         All previous capabilities are retained.
10500         Typically this function is used in the &lt;code&gt;OnLoad&lt;/code&gt; function.
10501         Some virtual machines may allow a limited set of capabilities to be
10502         added in the live phase.
10503         &lt;p/&gt;
10504         See the
10505         &lt;internallink id=&quot;capabilityExamples&quot;&gt;Capability Examples&lt;/internallink&gt;.
10506       &lt;/description&gt;
10507       &lt;origin&gt;new&lt;/origin&gt;
10508       &lt;capabilities&gt;
10509       &lt;/capabilities&gt;
10510       &lt;parameters&gt;
10511         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10512           &lt;inptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/inptr&gt;
10513           &lt;description&gt;
10514             Points to the &lt;jvmti/&gt; capabilities to add.
10515           &lt;/description&gt;
10516         &lt;/param&gt;
10517       &lt;/parameters&gt;
10518       &lt;errors&gt;
10519         &lt;error id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;&gt;
10520           The desired capabilities are not even potentially available.
10521         &lt;/error&gt;
10522       &lt;/errors&gt;
10523     &lt;/function&gt;
10524 
10525 
10526     &lt;function id=&quot;RelinquishCapabilities&quot; phase=&quot;onload&quot; num=&quot;143&quot;&gt;
10527       &lt;synopsis&gt;Relinquish Capabilities&lt;/synopsis&gt;
10528       &lt;description&gt;
10529         Relinquish the capabilities
10530         whose values are set to one (&lt;code&gt;1&lt;/code&gt;) in
10531         &lt;code&gt;*&lt;/code&gt;&lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt;.
10532         Some implementations may allow only one environment to have a capability
10533         (see the &lt;internallink id=&quot;capability&quot;&gt;capability introduction&lt;/internallink&gt;).
10534         This function releases capabilities
10535         so that they may be used by other agents.
10536         All other capabilities are retained.
10537         The capability will no longer be present in &lt;functionlink id=&quot;GetCapabilities&quot;&gt;&lt;/functionlink&gt;.
10538         Attempting to relinquish a capability that the agent does not possess is not an error.
10539           &lt;issue&gt;
10540             It is possible for the agent to be actively using capabilities
10541             which are being relinquished.  For example, a thread is currently
10542             suspended and can_suspend is being relinquished or an event is currently
10543             enabled and can_generate_whatever is being relinquished.
10544             There are three possible ways we could spec this:
10545             &lt;ul&gt;
10546               &lt;li&gt;relinquish automatically releases them&lt;/li&gt;
10547               &lt;li&gt;relinquish checks and returns some error code if held&lt;/li&gt;
10548               &lt;li&gt;it is the agent&#39;s responsibility and it is not checked&lt;/li&gt;
10549             &lt;/ul&gt;
10550             One of these should be chosen.
10551           &lt;/issue&gt;
10552       &lt;/description&gt;
10553       &lt;origin&gt;new&lt;/origin&gt;
10554       &lt;capabilities&gt;
10555       &lt;/capabilities&gt;
10556       &lt;parameters&gt;
10557         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10558           &lt;inptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/inptr&gt;
10559           &lt;description&gt;
10560             Points to the &lt;jvmti/&gt; capabilities to relinquish.
10561           &lt;/description&gt;
10562         &lt;/param&gt;
10563       &lt;/parameters&gt;
10564       &lt;errors&gt;
10565       &lt;/errors&gt;
10566     &lt;/function&gt;
10567 
10568 
10569 
10570     &lt;function id=&quot;GetCapabilities&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;89&quot;&gt;
10571       &lt;synopsis&gt;Get Capabilities&lt;/synopsis&gt;
10572         &lt;description&gt;
10573           Returns via &lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt; the optional &lt;jvmti/&gt;
10574           features which this environment currently possesses.
10575           Each possessed capability is indicated by a one (&lt;code&gt;1&lt;/code&gt;) in the
10576           corresponding field of the &lt;internallink id=&quot;jvmtiCapabilities&quot;&gt;capabilities
10577           structure&lt;/internallink&gt;.
10578           An environment does not possess a capability unless it has been successfully added with
10579           &lt;functionlink id=&quot;AddCapabilities&quot;/&gt;.
10580           An environment only loses possession of a capability if it has been relinquished with
10581           &lt;functionlink id=&quot;RelinquishCapabilities&quot;/&gt;. Thus, this function returns the net result
10582           of the &lt;code&gt;AddCapabilities&lt;/code&gt; and &lt;code&gt;RelinquishCapabilities&lt;/code&gt; calls which
10583           have been made.
10584           &lt;p/&gt;
10585           See the
10586           &lt;internallink id=&quot;capabilityExamples&quot;&gt;Capability Examples&lt;/internallink&gt;.
10587         &lt;/description&gt;
10588       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
10589       &lt;capabilities&gt;
10590       &lt;/capabilities&gt;
10591       &lt;parameters&gt;
10592         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10593           &lt;outptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/outptr&gt;
10594           &lt;description&gt;
10595             On return, points to the &lt;jvmti/&gt; capabilities.
10596           &lt;/description&gt;
10597         &lt;/param&gt;
10598       &lt;/parameters&gt;
10599       &lt;errors&gt;
10600       &lt;/errors&gt;
10601     &lt;/function&gt;
10602 
10603   &lt;/category&gt;
10604 
10605 
10606   &lt;category id=&quot;timers&quot; label=&quot;Timers&quot;&gt;
10607 
10608       &lt;intro&gt;
10609         These functions provide timing information.
10610         The resolution at which the time is updated is not specified.
10611         They provides nanosecond precision, but not necessarily nanosecond accuracy.
10612         Details about the timers, such as their maximum values, can be accessed with
10613         the timer information functions.
10614       &lt;/intro&gt;
10615 
10616       &lt;typedef id=&quot;jvmtiTimerInfo&quot; label=&quot;Timer Info&quot;&gt;
10617         &lt;description&gt;
10618           The information function for each timer returns this data structure.
10619         &lt;/description&gt;
10620         &lt;field id=&quot;max_value&quot;&gt;
10621           &lt;jlong/&gt;
10622             &lt;description&gt;
10623               The maximum value the timer can reach.
10624               After this value is reached the timer wraps back to zero.
10625               This is an unsigned value.  If tested or printed as a jlong (signed value)
10626               it may appear to be a negative number.
10627             &lt;/description&gt;
10628         &lt;/field&gt;
10629         &lt;field id=&quot;may_skip_forward&quot;&gt;
10630           &lt;jboolean/&gt;
10631           &lt;description&gt;
10632             If true, the timer can be externally adjusted and as a result skip forward.
10633             If false, the timer value will never increase faster than real time.
10634           &lt;/description&gt;
10635         &lt;/field&gt;
10636         &lt;field id=&quot;may_skip_backward&quot;&gt;
10637           &lt;jboolean/&gt;
10638           &lt;description&gt;
10639             If true, the timer can be externally adjusted and as a result skip backward.
10640             If false, the timer value will be monotonically increasing.
10641           &lt;/description&gt;
10642         &lt;/field&gt;
10643         &lt;field id=&quot;kind&quot;&gt;
10644           &lt;enum&gt;jvmtiTimerKind&lt;/enum&gt;
10645           &lt;description&gt;
10646             The kind of timer.
10647             On a platform that does not distinguish between user and system time, &lt;datalink
10648                  id=&quot;JVMTI_TIMER_TOTAL_CPU&quot;&gt;&lt;code&gt;JVMTI_TIMER_TOTAL_CPU&lt;/code&gt;&lt;/datalink&gt;
10649             is returned.
10650           &lt;/description&gt;
10651         &lt;/field&gt;
10652         &lt;field id=&quot;reserved1&quot;&gt;
10653           &lt;jlong/&gt;
10654             &lt;description&gt;
10655               Reserved for future use.
10656             &lt;/description&gt;
10657         &lt;/field&gt;
10658         &lt;field id=&quot;reserved2&quot;&gt;
10659           &lt;jlong/&gt;
10660             &lt;description&gt;
10661               Reserved for future use.
10662             &lt;/description&gt;
10663         &lt;/field&gt;
10664       &lt;/typedef&gt;
10665 
10666       &lt;intro&gt;
10667         Where the timer kind is --
10668 
10669         &lt;constants id=&quot;jvmtiTimerKind&quot; label=&quot;Timer Kinds&quot; kind=&quot;enum&quot;&gt;
10670           &lt;constant id=&quot;JVMTI_TIMER_USER_CPU&quot; num=&quot;30&quot;&gt;
10671             CPU time that a thread is in user mode.
10672           &lt;/constant&gt;
10673           &lt;constant id=&quot;JVMTI_TIMER_TOTAL_CPU&quot; num=&quot;31&quot;&gt;
10674             CPU time that a thread is in user or system mode.
10675           &lt;/constant&gt;
10676           &lt;constant id=&quot;JVMTI_TIMER_ELAPSED&quot; num=&quot;32&quot;&gt;
10677             Elapsed time.
10678           &lt;/constant&gt;
10679         &lt;/constants&gt;
10680       &lt;/intro&gt;
10681 
10682     &lt;function id=&quot;GetCurrentThreadCpuTimerInfo&quot; callbacksafe=&quot;safe&quot;  impl=&quot;innative notrace&quot; phase=&quot;start&quot; num=&quot;134&quot;&gt;
10683       &lt;synopsis&gt;Get Current Thread CPU Timer Information&lt;/synopsis&gt;
10684       &lt;description&gt;
10685         Get information about the
10686         &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt; timer.
10687         The fields of the &lt;datalink id=&quot;jvmtiTimerInfo&quot;/&gt; structure
10688         are filled in with details about the timer.
10689         This information is specific to the platform and the implementation of
10690         &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt; and thus
10691         does not vary by thread nor does it vary
10692         during a particular invocation of the VM.
10693         &lt;p/&gt;
10694         Note that the implementations of &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt;
10695         and &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt; may differ, and thus the values
10696         returned by &lt;code&gt;GetCurrentThreadCpuTimerInfo&lt;/code&gt;
10697         and &lt;functionlink id=&quot;GetThreadCpuTimerInfo&quot;/&gt;
10698         may differ -- see &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt; for more information.
10699       &lt;/description&gt;
10700       &lt;origin&gt;new&lt;/origin&gt;
10701       &lt;capabilities&gt;
10702         &lt;required id=&quot;can_get_current_thread_cpu_time&quot;&gt;
10703             Can get current thread CPU time.
10704         &lt;/required&gt;
10705       &lt;/capabilities&gt;
10706       &lt;parameters&gt;
10707         &lt;param id=&quot;info_ptr&quot;&gt;
10708           &lt;outptr&gt;&lt;struct&gt;jvmtiTimerInfo&lt;/struct&gt;&lt;/outptr&gt;
10709           &lt;description&gt;
10710             On return, filled with information describing the time
10711             returned by &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt;.
10712           &lt;/description&gt;
10713         &lt;/param&gt;
10714       &lt;/parameters&gt;
10715       &lt;errors&gt;
10716       &lt;/errors&gt;
10717     &lt;/function&gt;
10718 
10719     &lt;function id=&quot;GetCurrentThreadCpuTime&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; phase=&quot;start&quot; num=&quot;135&quot;&gt;
10720       &lt;synopsis&gt;Get Current Thread CPU Time&lt;/synopsis&gt;
10721       &lt;description&gt;
10722             Return the CPU time utilized by the current thread.
10723             &lt;p/&gt;
10724             Note that the &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt;
10725             function provides CPU time for any thread, including
10726             the current thread. &lt;code&gt;GetCurrentThreadCpuTime&lt;/code&gt;
10727             exists to support platforms which cannot
10728             supply CPU time for threads other than the current
10729             thread or which have more accurate information for
10730             the current thread (see
10731             &lt;functionlink id=&quot;GetCurrentThreadCpuTimerInfo&quot;/&gt; vs
10732             &lt;functionlink id=&quot;GetThreadCpuTimerInfo&quot;/&gt;).
10733             On many platforms this call will be equivalent to:
10734 &lt;example&gt;
10735   GetThreadCpuTime(env, NULL, nanos_ptr)
10736 &lt;/example&gt;
10737       &lt;/description&gt;
10738       &lt;origin&gt;new&lt;/origin&gt;
10739       &lt;capabilities&gt;
10740         &lt;required id=&quot;can_get_current_thread_cpu_time&quot;&gt;
10741             Can get current thread CPU time.
10742             &lt;p/&gt;
10743             If this capability is enabled after threads have started,
10744             the implementation may choose any time up
10745             to and including the time that the capability is enabled
10746             as the point where CPU time collection starts.
10747             &lt;p/&gt;
10748             This capability must be potentially available on any
10749             platform where
10750             &lt;internallink id=&quot;jvmtiCapabilities.can_get_thread_cpu_time&quot;&gt;&lt;code&gt;can_get_thread_cpu_time&lt;/code&gt;&lt;/internallink&gt;
10751             is potentially available.
10752         &lt;/required&gt;
10753       &lt;/capabilities&gt;
10754       &lt;parameters&gt;
10755         &lt;param id=&quot;nanos_ptr&quot;&gt;
10756           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
10757           &lt;description&gt;
10758             On return, points to the CPU time used by this thread
10759             in nanoseconds.
10760             This is an unsigned value.  If tested or printed as a jlong (signed value)
10761             it may appear to be a negative number.
10762           &lt;/description&gt;
10763         &lt;/param&gt;
10764       &lt;/parameters&gt;
10765       &lt;errors&gt;
10766       &lt;/errors&gt;
10767     &lt;/function&gt;
10768 
10769     &lt;function id=&quot;GetThreadCpuTimerInfo&quot; num=&quot;136&quot;&gt;
10770       &lt;synopsis&gt;Get Thread CPU Timer Information&lt;/synopsis&gt;
10771       &lt;description&gt;
10772         Get information about the
10773         &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt; timer.
10774         The fields of the &lt;datalink id=&quot;jvmtiTimerInfo&quot;/&gt; structure
10775         are filled in with details about the timer.
10776         This information is specific to the platform and the implementation of
10777         &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt; and thus
10778         does not vary by thread nor does it vary
10779         during a particular invocation of the VM.
10780         &lt;p/&gt;
10781         Note that the implementations of &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt;
10782         and &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt; may differ, and thus the values
10783         returned by &lt;functionlink id=&quot;GetCurrentThreadCpuTimerInfo&quot;/&gt;
10784         and &lt;code&gt;GetThreadCpuTimerInfo&lt;/code&gt;
10785         may differ -- see &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt; for more information.
10786       &lt;/description&gt;
10787       &lt;origin&gt;new&lt;/origin&gt;
10788       &lt;capabilities&gt;
10789         &lt;required id=&quot;can_get_thread_cpu_time&quot;&gt;
10790             Can get thread CPU time.
10791         &lt;/required&gt;
10792       &lt;/capabilities&gt;
10793       &lt;parameters&gt;
10794         &lt;param id=&quot;info_ptr&quot;&gt;
10795           &lt;outptr&gt;&lt;struct&gt;jvmtiTimerInfo&lt;/struct&gt;&lt;/outptr&gt;
10796           &lt;description&gt;
10797             On return, filled with information describing the time
10798             returned by &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt;.
10799           &lt;/description&gt;
10800         &lt;/param&gt;
10801       &lt;/parameters&gt;
10802       &lt;errors&gt;
10803       &lt;/errors&gt;
10804     &lt;/function&gt;
10805 
10806     &lt;function id=&quot;GetThreadCpuTime&quot; num=&quot;137&quot;&gt;
10807       &lt;synopsis&gt;Get Thread CPU Time&lt;/synopsis&gt;
10808       &lt;description&gt;
10809           Return the CPU time utilized by the specified thread.
10810           &lt;p/&gt;
10811           Get information about this timer with
10812           &lt;functionlink id=&quot;GetThreadCpuTimerInfo&quot;/&gt;.
10813       &lt;/description&gt;
10814       &lt;origin&gt;new&lt;/origin&gt;
10815       &lt;capabilities&gt;
10816         &lt;required id=&quot;can_get_thread_cpu_time&quot;&gt;
10817             Can get thread CPU time.
10818             &lt;p/&gt;
10819             If this capability is enabled after threads have started,
10820             the implementation may choose any time up
10821             to and including the time that the capability is enabled
10822             as the point where CPU time collection starts.
10823         &lt;/required&gt;
10824       &lt;/capabilities&gt;
10825       &lt;parameters&gt;
10826         &lt;param id=&quot;thread&quot;&gt;
10827           &lt;jthread null=&quot;current&quot;/&gt;
10828             &lt;description&gt;
10829               The thread to query.
10830             &lt;/description&gt;
10831         &lt;/param&gt;
10832         &lt;param id=&quot;nanos_ptr&quot;&gt;
10833           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
10834           &lt;description&gt;
10835             On return, points to the CPU time used by the specified thread
10836             in nanoseconds.
10837             This is an unsigned value.  If tested or printed as a jlong (signed value)
10838             it may appear to be a negative number.
10839           &lt;/description&gt;
10840         &lt;/param&gt;
10841       &lt;/parameters&gt;
10842       &lt;errors&gt;
10843       &lt;/errors&gt;
10844     &lt;/function&gt;
10845 
10846     &lt;function id=&quot;GetTimerInfo&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; num=&quot;138&quot;&gt;
10847       &lt;synopsis&gt;Get Timer Information&lt;/synopsis&gt;
10848       &lt;description&gt;
10849         Get information about the
10850         &lt;functionlink id=&quot;GetTime&quot;/&gt; timer.
10851         The fields of the &lt;datalink id=&quot;jvmtiTimerInfo&quot;/&gt; structure
10852         are filled in with details about the timer.
10853         This information will not change during a particular invocation of the VM.
10854       &lt;/description&gt;
10855       &lt;origin&gt;new&lt;/origin&gt;
10856       &lt;capabilities&gt;
10857       &lt;/capabilities&gt;
10858       &lt;parameters&gt;
10859         &lt;param id=&quot;info_ptr&quot;&gt;
10860           &lt;outptr&gt;&lt;struct&gt;jvmtiTimerInfo&lt;/struct&gt;&lt;/outptr&gt;
10861           &lt;description&gt;
10862             On return, filled with information describing the time
10863             returned by &lt;functionlink id=&quot;GetTime&quot;/&gt;.
10864           &lt;/description&gt;
10865         &lt;/param&gt;
10866       &lt;/parameters&gt;
10867       &lt;errors&gt;
10868       &lt;/errors&gt;
10869     &lt;/function&gt;
10870 
10871     &lt;function id=&quot;GetTime&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; num=&quot;139&quot;&gt;
10872       &lt;synopsis&gt;Get Time&lt;/synopsis&gt;
10873       &lt;description&gt;
10874           Return the current value of the system timer, in nanoseconds.
10875           &lt;p/&gt;
10876           The value returned represents nanoseconds since some fixed but
10877           arbitrary time (perhaps in the future, so values may be
10878           negative).  This function provides nanosecond precision, but not
10879           necessarily nanosecond accuracy. No guarantees are made about
10880           how frequently values change.
10881           &lt;p/&gt;
10882           Get information about this timer with
10883           &lt;functionlink id=&quot;GetTimerInfo&quot;/&gt;.
10884       &lt;/description&gt;
10885       &lt;origin&gt;new&lt;/origin&gt;
10886       &lt;capabilities&gt;
10887       &lt;/capabilities&gt;
10888       &lt;parameters&gt;
10889         &lt;param id=&quot;nanos_ptr&quot;&gt;
10890           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
10891           &lt;description&gt;
10892             On return, points to the time in nanoseconds.
10893             This is an unsigned value.  If tested or printed as a jlong (signed value)
10894             it may appear to be a negative number.
10895           &lt;/description&gt;
10896         &lt;/param&gt;
10897       &lt;/parameters&gt;
10898       &lt;errors&gt;
10899       &lt;/errors&gt;
10900     &lt;/function&gt;
10901 
10902     &lt;function id=&quot;GetAvailableProcessors&quot; phase=&quot;any&quot; num=&quot;144&quot;&gt;
10903       &lt;synopsis&gt;Get Available Processors&lt;/synopsis&gt;
10904       &lt;description&gt;
10905           Returns the number of processors available to the Java virtual machine.
10906           &lt;p/&gt;
10907           This value may change during a particular invocation of the virtual machine.
10908           Applications that are sensitive to the number of available processors should
10909           therefore occasionally poll this property.
10910       &lt;/description&gt;
10911       &lt;origin&gt;new&lt;/origin&gt;
10912       &lt;capabilities&gt;
10913       &lt;/capabilities&gt;
10914       &lt;parameters&gt;
10915         &lt;param id=&quot;processor_count_ptr&quot;&gt;
10916           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
10917           &lt;description&gt;
10918             On return, points to the maximum number of processors available to the
10919             virtual machine; never smaller than one.
10920           &lt;/description&gt;
10921         &lt;/param&gt;
10922       &lt;/parameters&gt;
10923       &lt;errors&gt;
10924       &lt;/errors&gt;
10925     &lt;/function&gt;
10926 
10927   &lt;/category&gt;
10928 
10929 
10930   &lt;category id=&quot;classLoaderSearch&quot; label=&quot;Class Loader Search&quot;&gt;
10931 
10932     &lt;intro&gt;
10933       These functions allow the agent to add to the locations that a class loader searches for a class.
10934       This is useful for installing instrumentation under the correct class loader.
10935     &lt;/intro&gt;
10936 
10937     &lt;function id=&quot;AddToBootstrapClassLoaderSearch&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;149&quot;&gt;
10938       &lt;synopsis&gt;Add To Bootstrap Class Loader Search&lt;/synopsis&gt;
10939       &lt;description&gt;
10940           This function can be used to cause instrumentation classes to be defined by the
10941           bootstrap class loader. See &lt;vmspec chapter=&quot;5.3.1&quot;/&gt;.
10942           After the bootstrap
10943           class loader unsuccessfully searches for a class, the specified platform-dependent
10944           search path &lt;paramlink id=&quot;segment&quot;/&gt; will be searched as well. Only one segment may be specified in
10945           the &lt;paramlink id=&quot;segment&quot;/&gt;. This function may be called multiple times to add multiple segments,
10946           the segments will be searched in the order that this function was called.
10947           &lt;p/&gt;
10948           In the &lt;code&gt;OnLoad&lt;/code&gt; phase the function may be used to specify any platform-dependent
10949           search path segment to be searched after the bootstrap class loader unsuccessfully searches
10950           for a class. The segment is typically a directory or JAR file.
10951           &lt;p/&gt;
10952           In the live phase the &lt;paramlink id=&quot;segment&quot;/&gt; may be used to specify any platform-dependent
10953           path to a &lt;externallink id=&quot;jar/jar.html&quot;&gt;
10954           JAR file&lt;/externallink&gt;. The agent should take care that the JAR file does not
10955           contain any classes or resources other than those to be defined by the bootstrap
10956           class loader for the purposes of instrumentation.
10957           &lt;p/&gt;
10958           &lt;vmspec/&gt; specifies that a subsequent attempt to resolve a symbolic
10959           reference that the Java virtual machine has previously unsuccessfully attempted
10960           to resolve always fails with the same error that was thrown as a result of the
10961           initial resolution attempt. Consequently, if the JAR file contains an entry
10962           that corresponds to a class for which the Java virtual machine has
10963           unsuccessfully attempted to resolve a reference, then subsequent attempts to
10964           resolve that reference will fail with the same error as the initial attempt.
10965       &lt;/description&gt;
10966       &lt;origin&gt;new&lt;/origin&gt;
10967       &lt;capabilities&gt;
10968       &lt;/capabilities&gt;
10969       &lt;parameters&gt;
10970         &lt;param id=&quot;segment&quot;&gt;
10971           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
10972           &lt;description&gt;
10973             The platform-dependent search path segment, encoded as a
10974             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
10975           &lt;/description&gt;
10976         &lt;/param&gt;
10977       &lt;/parameters&gt;
10978       &lt;errors&gt;
10979         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
10980           &lt;paramlink id=&quot;segment&quot;/&gt; is an invalid path. In the live phase, anything other than an
10981            existing JAR file is an invalid path.
10982         &lt;/error&gt;
10983       &lt;/errors&gt;
10984     &lt;/function&gt;
10985 
10986     &lt;function id=&quot;AddToSystemClassLoaderSearch&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;151&quot; since=&quot;1.1&quot;&gt;
10987       &lt;synopsis&gt;Add To System Class Loader Search&lt;/synopsis&gt;
10988       &lt;description&gt;
10989           This function can be used to cause instrumentation classes to be
10990           defined by the system class loader. See &lt;vmspec chapter=&quot;5.3.2&quot;/&gt;.
10991           After the class loader unsuccessfully searches for a class, the specified platform-dependent search
10992           path &lt;paramlink id=&quot;segment&quot;/&gt; will be searched as well. Only one segment may be specified in the
10993           &lt;paramlink id=&quot;segment&quot;/&gt;. This function may be called multiple times to add multiple segments, the
10994           segments will be searched in the order that this function was called.
10995           &lt;p/&gt;
10996           In the &lt;code&gt;OnLoad&lt;/code&gt; phase the function may be used to specify any platform-dependent
10997           search path segment to be searched after the system class loader unsuccessfully searches
10998           for a class. The segment is typically a directory or JAR file.
10999           &lt;p/&gt;
11000           In the live phase the &lt;paramlink id=&quot;segment&quot;/&gt; is a platform-dependent path to a
11001           &lt;externallink id=&quot;jar/jar.html&quot;&gt;JAR file&lt;/externallink&gt; to be
11002           searched after the system class loader unsuccessfully searches for a class. The agent should
11003           take care that the JAR file does not contain any classes or resources other than those to be
11004           defined by the system class loader for the purposes of instrumentation.
11005           &lt;p/&gt;
11006           In the live phase the system class loader supports adding a JAR file to be searched if
11007           the system class loader implements a method name &lt;code&gt;appendToClassPathForInstrumentation&lt;/code&gt;
11008           which takes a single parameter of type &lt;code&gt;java.lang.String&lt;/code&gt;. The method is not required
11009           to have &lt;code&gt;public&lt;/code&gt; access.
11010           &lt;p/&gt;
11011           &lt;vmspec/&gt; specifies that a subsequent attempt to resolve a symbolic
11012           reference that the Java virtual machine has previously unsuccessfully attempted
11013           to resolve always fails with the same error that was thrown as a result of the
11014           initial resolution attempt. Consequently, if the JAR file contains an entry
11015           that corresponds to a class for which the Java virtual machine has
11016           unsuccessfully attempted to resolve a reference, then subsequent attempts to
11017           resolve that reference will fail with the same error as the initial attempt.
11018       &lt;/description&gt;
11019       &lt;origin&gt;new&lt;/origin&gt;
11020       &lt;capabilities&gt;
11021       &lt;/capabilities&gt;
11022       &lt;parameters&gt;
11023         &lt;param id=&quot;segment&quot;&gt;
11024           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
11025           &lt;description&gt;
11026             The platform-dependent search path segment, encoded as a
11027             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11028           &lt;/description&gt;
11029         &lt;/param&gt;
11030       &lt;/parameters&gt;
11031       &lt;errors&gt;
11032         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
11033           &lt;paramlink id=&quot;segment&quot;/&gt; is an invalid path. In the live phase, anything other than an
11034            existing JAR file is an invalid path.
11035         &lt;/error&gt;
11036         &lt;error id=&quot;JVMTI_ERROR_CLASS_LOADER_UNSUPPORTED&quot;&gt;
11037           Operation not supported by the system class loader.
11038         &lt;/error&gt;
11039       &lt;/errors&gt;
11040     &lt;/function&gt;
11041 
11042   &lt;/category&gt;
11043 
11044 
11045   &lt;category id=&quot;props&quot; label=&quot;System Properties&quot;&gt;
11046 
11047     &lt;intro&gt;
11048       These functions get and set system properties.
11049     &lt;/intro&gt;
11050 
11051     &lt;function id=&quot;GetSystemProperties&quot; phase=&quot;onload&quot; num=&quot;130&quot;&gt;
11052       &lt;synopsis&gt;Get System Properties&lt;/synopsis&gt;
11053       &lt;description&gt;
11054         The list of VM system property keys which may be used with
11055         &lt;functionlink id=&quot;GetSystemProperty&quot;/&gt; is returned.
11056         It is strongly recommended that virtual machines provide the
11057         following property keys:
11058         &lt;ul&gt;
11059           &lt;li&gt;&lt;code&gt;java.vm.vendor&lt;/code&gt;&lt;/li&gt;
11060           &lt;li&gt;&lt;code&gt;java.vm.version&lt;/code&gt;&lt;/li&gt;
11061           &lt;li&gt;&lt;code&gt;java.vm.name&lt;/code&gt;&lt;/li&gt;
11062           &lt;li&gt;&lt;code&gt;java.vm.info&lt;/code&gt;&lt;/li&gt;
11063           &lt;li&gt;&lt;code&gt;java.library.path&lt;/code&gt;&lt;/li&gt;
11064           &lt;li&gt;&lt;code&gt;java.class.path&lt;/code&gt;&lt;/li&gt;
11065         &lt;/ul&gt;
11066         Provides access to system properties defined by and used
11067         by the VM.
11068         Properties set on the command-line are included.
11069         This allows getting and setting of these properties
11070         before the VM even begins executing bytecodes.
11071         Since this is a VM view of system properties, the set of available
11072         properties will usually be different than that
11073         in &lt;code&gt;java.lang.System.getProperties&lt;/code&gt;.
11074         JNI method invocation may be used to access
11075         &lt;code&gt;java.lang.System.getProperties&lt;/code&gt;.
11076         &lt;p/&gt;
11077         The set of properties may grow during execution.
11078       &lt;/description&gt;
11079       &lt;origin&gt;new&lt;/origin&gt;
11080       &lt;capabilities&gt;
11081       &lt;/capabilities&gt;
11082       &lt;parameters&gt;
11083         &lt;param id=&quot;count_ptr&quot;&gt;
11084           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
11085           &lt;description&gt;
11086             On return, points to the number of property keys returned.
11087           &lt;/description&gt;
11088         &lt;/param&gt;
11089         &lt;param id=&quot;property_ptr&quot;&gt;
11090           &lt;allocallocbuf outcount=&quot;count_ptr&quot;&gt;&lt;char/&gt;&lt;/allocallocbuf&gt;
11091           &lt;description&gt;
11092             On return, points to an array of property keys, encoded as
11093             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; strings.
11094           &lt;/description&gt;
11095         &lt;/param&gt;
11096       &lt;/parameters&gt;
11097       &lt;errors&gt;
11098       &lt;/errors&gt;
11099     &lt;/function&gt;
11100 
11101     &lt;function id=&quot;GetSystemProperty&quot; phase=&quot;onload&quot; num=&quot;131&quot;&gt;
11102       &lt;synopsis&gt;Get System Property&lt;/synopsis&gt;
11103       &lt;description&gt;
11104         Return a VM system property value given the property key.
11105         &lt;p/&gt;
11106         The function &lt;functionlink id=&quot;GetSystemProperties&quot;/&gt;
11107         returns the set of property keys which may be used.
11108         The properties which can be retrieved may grow during
11109         execution.
11110         &lt;p/&gt;
11111         Since this is a VM view of system properties, the values
11112         of properties may differ from that returned by
11113         &lt;code&gt;java.lang.System.getProperty(String)&lt;/code&gt;.
11114         A typical VM might copy the values of the VM system
11115         properties into the &lt;code&gt;Properties&lt;/code&gt; held by
11116         &lt;code&gt;java.lang.System&lt;/code&gt; during the initialization
11117         of that class. Thereafter any changes to the VM system
11118         properties (with &lt;functionlink id=&quot;SetSystemProperty&quot;/&gt;)
11119         or the &lt;code&gt;java.lang.System&lt;/code&gt; system properties
11120         (with &lt;code&gt;java.lang.System.setProperty(String,String)&lt;/code&gt;)
11121         would cause the values to diverge.
11122         JNI method invocation may be used to access
11123         &lt;code&gt;java.lang.System.getProperty(String)&lt;/code&gt;.
11124       &lt;/description&gt;
11125       &lt;origin&gt;new&lt;/origin&gt;
11126       &lt;capabilities&gt;
11127       &lt;/capabilities&gt;
11128       &lt;parameters&gt;
11129         &lt;param id=&quot;property&quot;&gt;
11130           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
11131           &lt;description&gt;
11132             The key of the property to retrieve, encoded as a
11133             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11134           &lt;/description&gt;
11135         &lt;/param&gt;
11136         &lt;param id=&quot;value_ptr&quot;&gt;
11137           &lt;allocbuf&gt;&lt;char/&gt;&lt;/allocbuf&gt;
11138           &lt;description&gt;
11139             On return, points to the property value, encoded as a
11140             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11141           &lt;/description&gt;
11142         &lt;/param&gt;
11143       &lt;/parameters&gt;
11144       &lt;errors&gt;
11145         &lt;error id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;&gt;
11146           This property is not available.
11147           Use &lt;functionlink id=&quot;GetSystemProperties&quot;/&gt; to find available properties.
11148         &lt;/error&gt;
11149       &lt;/errors&gt;
11150     &lt;/function&gt;
11151 
11152     &lt;function id=&quot;SetSystemProperty&quot; phase=&quot;onloadOnly&quot; num=&quot;132&quot;&gt;
11153       &lt;synopsis&gt;Set System Property&lt;/synopsis&gt;
11154       &lt;description&gt;
11155         Set a VM system property value.
11156         &lt;p/&gt;
11157         The function &lt;functionlink id=&quot;GetSystemProperties&quot;/&gt;
11158         returns the set of property keys, some of these may be settable.
11159         See &lt;functionlink id=&quot;GetSystemProperty&quot;/&gt;.
11160       &lt;/description&gt;
11161       &lt;origin&gt;new&lt;/origin&gt;
11162       &lt;capabilities&gt;
11163       &lt;/capabilities&gt;
11164       &lt;parameters&gt;
11165         &lt;param id=&quot;property&quot;&gt;
11166           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
11167           &lt;description&gt;
11168             The key of the property, encoded as a
11169             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11170           &lt;/description&gt;
11171         &lt;/param&gt;
11172         &lt;param id=&quot;value_ptr&quot;&gt;
11173           &lt;inbuf&gt;
11174             &lt;char/&gt;
11175             &lt;nullok&gt;
11176               do not set the value, but return &lt;errorlink id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;/&gt;
11177               if the property is not writeable
11178             &lt;/nullok&gt;
11179           &lt;/inbuf&gt;
11180           &lt;description&gt;
11181             The property value to set, encoded as a
11182             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11183           &lt;/description&gt;
11184         &lt;/param&gt;
11185       &lt;/parameters&gt;
11186       &lt;errors&gt;
11187         &lt;error id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;&gt;
11188           This property is not available or is not writeable.
11189         &lt;/error&gt;
11190       &lt;/errors&gt;
11191     &lt;/function&gt;
11192 
11193   &lt;/category&gt;
11194 
11195   &lt;category id=&quot;general&quot; label=&quot;General&quot;&gt;
11196 
11197     &lt;intro&gt;
11198     &lt;/intro&gt;
11199 
11200     &lt;function id=&quot;GetPhase&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;133&quot;&gt;
11201       &lt;synopsis&gt;Get Phase&lt;/synopsis&gt;
11202       &lt;description&gt;
11203           Return the current phase of VM execution.
11204           The phases proceed in sequence:
11205           &lt;constants id=&quot;jvmtiPhase&quot; label=&quot;Phases of execution&quot; kind=&quot;enum&quot;&gt;
11206             &lt;constant id=&quot;JVMTI_PHASE_ONLOAD&quot; num=&quot;1&quot;&gt;
11207               &lt;code&gt;OnLoad&lt;/code&gt; phase: while in the
11208               &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad&lt;/code&gt;&lt;/internallink&gt;
11209               or, for statically linked agents, the &lt;internallink id=&quot;onload&quot;&gt;
11210               &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;
11211               &lt;/code&gt;&lt;/internallink&gt; function.
11212             &lt;/constant&gt;
11213             &lt;constant id=&quot;JVMTI_PHASE_PRIMORDIAL&quot; num=&quot;2&quot;&gt;
11214               Primordial phase: between return from &lt;code&gt;Agent_OnLoad&lt;/code&gt;
11215               or &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; and the
11216               &lt;code&gt;VMStart&lt;/code&gt; event.
11217             &lt;/constant&gt;
11218             &lt;constant id=&quot;JVMTI_PHASE_START&quot; num=&quot;6&quot;&gt;
11219               Start phase: when the &lt;eventlink id=&quot;VMStart&quot;&gt;&lt;code&gt;VMStart&lt;/code&gt;&lt;/eventlink&gt; event
11220               is sent and until the &lt;code&gt;VMInit&lt;/code&gt; event is sent.
11221             &lt;/constant&gt;
11222             &lt;constant id=&quot;JVMTI_PHASE_LIVE&quot; num=&quot;4&quot;&gt;
11223               Live phase: when the &lt;eventlink id=&quot;VMInit&quot;&gt;&lt;code&gt;VMInit&lt;/code&gt;&lt;/eventlink&gt; event is sent
11224               and until the &lt;eventlink id=&quot;VMDeath&quot;&gt;&lt;/eventlink&gt; event returns.
11225             &lt;/constant&gt;
11226             &lt;constant id=&quot;JVMTI_PHASE_DEAD&quot; num=&quot;8&quot;&gt;
11227               Dead phase: after the &lt;eventlink id=&quot;VMDeath&quot;&gt;&lt;/eventlink&gt; event returns or after
11228               start-up failure.
11229             &lt;/constant&gt;
11230           &lt;/constants&gt;
11231           In the case of start-up failure the VM will proceed directly to the dead
11232           phase skipping intermediate phases and neither a &lt;code&gt;VMInit&lt;/code&gt; nor
11233           &lt;code&gt;VMDeath&lt;/code&gt; event will be sent.
11234           &lt;p/&gt;
11235           Most &lt;jvmti/&gt; functions operate only in the live phase.
11236           The following functions operate in either the &lt;code&gt;OnLoad&lt;/code&gt; or live phases:
11237           &lt;functionphaselist phase=&quot;onload&quot;/&gt;
11238           The following functions operate in only the &lt;code&gt;OnLoad&lt;/code&gt; phase:
11239           &lt;functionphaselist phase=&quot;onloadOnly&quot;/&gt;
11240           The following functions operate in the start or live phases:
11241           &lt;functionphaselist phase=&quot;start&quot;/&gt;
11242           The following functions operate in any phase:
11243           &lt;functionphaselist phase=&quot;any&quot;/&gt;
11244           JNI functions (except the Invocation API) must only be used in the start or live phases.
11245           &lt;p/&gt;
11246           Most &lt;jvmti/&gt; events are sent only in the live phase.
11247           The following events operate in others phases:
11248           &lt;eventphaselist phase=&quot;start&quot;/&gt;
11249           &lt;eventphaselist phase=&quot;any&quot;/&gt;
11250       &lt;/description&gt;
11251       &lt;origin&gt;new&lt;/origin&gt;
11252       &lt;capabilities&gt;
11253       &lt;/capabilities&gt;
11254       &lt;parameters&gt;
11255         &lt;param id=&quot;phase_ptr&quot;&gt;
11256           &lt;outptr&gt;&lt;enum&gt;jvmtiPhase&lt;/enum&gt;&lt;/outptr&gt;
11257           &lt;description&gt;
11258             On return, points to the phase.
11259           &lt;/description&gt;
11260         &lt;/param&gt;
11261       &lt;/parameters&gt;
11262       &lt;errors&gt;
11263       &lt;/errors&gt;
11264     &lt;/function&gt;
11265 
11266     &lt;function id=&quot;DisposeEnvironment&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;127&quot;&gt;
11267       &lt;synopsis&gt;Dispose Environment&lt;/synopsis&gt;
11268       &lt;description&gt;
11269         Shutdown a &lt;jvmti/&gt; connection created with JNI &lt;code&gt;GetEnv&lt;/code&gt;
11270         (see &lt;internallink id=&quot;environments&quot;&gt;&lt;jvmti/&gt; Environments&lt;/internallink&gt;).
11271         Dispose of any resources held by the environment.
11272         &lt;issue&gt;
11273             What resources are reclaimed? What is undone?
11274             Breakpoints,watchpoints removed?
11275         &lt;/issue&gt;
11276         Threads suspended by this environment are not resumed by this call,
11277         this must be done explicitly by the agent.
11278         Memory allocated by this environment via calls to &lt;jvmti/&gt; functions
11279         is not released, this can be done explicitly by the agent
11280         by calling &lt;functionlink id=&quot;Deallocate&quot;/&gt;.
11281         Raw monitors created by this environment are not destroyed,
11282         this can be done explicitly by the agent
11283         by calling &lt;functionlink id=&quot;DestroyRawMonitor&quot;/&gt;.
11284         The state of threads waiting on raw monitors created by this environment
11285         are not affected.
11286         &lt;p/&gt;
11287         Any &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;&gt;native method
11288         prefixes&lt;/functionlink&gt; for this environment will be unset;
11289         the agent must remove any prefixed native methods before
11290         dispose is called.
11291         &lt;p/&gt;
11292         Any &lt;internallink id=&quot;capability&quot;&gt;capabilities&lt;/internallink&gt;
11293         held by this environment are relinquished.
11294         &lt;p/&gt;
11295         Events enabled by this environment will no longer be sent, however
11296         event handlers currently running will continue to run.  Caution must
11297         be exercised in the design of event handlers whose environment may
11298         be disposed and thus become invalid during their execution.
11299         &lt;p/&gt;
11300         This environment may not be used after this call.
11301         This call returns to the caller.
11302       &lt;/description&gt;
11303       &lt;origin&gt;new&lt;/origin&gt;
11304       &lt;capabilities&gt;
11305       &lt;/capabilities&gt;
11306       &lt;parameters&gt;
11307       &lt;/parameters&gt;
11308       &lt;errors&gt;
11309       &lt;/errors&gt;
11310     &lt;/function&gt;
11311 
11312     &lt;function id=&quot;SetEnvironmentLocalStorage&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;148&quot;&gt;
11313       &lt;synopsis&gt;Set Environment Local Storage&lt;/synopsis&gt;
11314       &lt;description&gt;
11315         The VM stores a pointer value associated with each environment.
11316         This pointer value is called &lt;i&gt;environment-local storage&lt;/i&gt;.
11317         This value is &lt;code&gt;NULL&lt;/code&gt; unless set with this function.
11318         Agents can allocate memory in which they store environment specific
11319         information. By setting environment-local storage it can then be
11320         accessed with
11321         &lt;functionlink id=&quot;GetEnvironmentLocalStorage&quot;&gt;&lt;/functionlink&gt;.
11322         &lt;p/&gt;
11323         Called by the agent to set the value of the &lt;jvmti/&gt;
11324         environment-local storage. &lt;jvmti/&gt; supplies to the agent a pointer-size
11325         environment-local storage that can be used to record per-environment
11326         information.
11327       &lt;/description&gt;
11328       &lt;origin&gt;new&lt;/origin&gt;
11329       &lt;capabilities&gt;
11330       &lt;/capabilities&gt;
11331       &lt;parameters&gt;
11332         &lt;param id=&quot;data&quot;&gt;
11333           &lt;inbuf&gt;
11334             &lt;void/&gt;
11335             &lt;nullok&gt;value is set to &lt;code&gt;NULL&lt;/code&gt;&lt;/nullok&gt;
11336           &lt;/inbuf&gt;
11337           &lt;description&gt;
11338             The value to be entered into the environment-local storage.
11339           &lt;/description&gt;
11340         &lt;/param&gt;
11341       &lt;/parameters&gt;
11342       &lt;errors&gt;
11343       &lt;/errors&gt;
11344     &lt;/function&gt;
11345 
11346     &lt;function id=&quot;GetEnvironmentLocalStorage&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;147&quot;&gt;
11347       &lt;synopsis&gt;Get Environment Local Storage&lt;/synopsis&gt;
11348       &lt;description&gt;
11349         Called by the agent to get the value of the &lt;jvmti/&gt; environment-local
11350         storage.
11351       &lt;/description&gt;
11352       &lt;origin&gt;new&lt;/origin&gt;
11353       &lt;capabilities&gt;
11354       &lt;/capabilities&gt;
11355       &lt;parameters&gt;
11356         &lt;param id=&quot;data_ptr&quot;&gt;
11357           &lt;agentbuf&gt;&lt;void/&gt;&lt;/agentbuf&gt;
11358           &lt;description&gt;
11359             Pointer through which the value of the environment local
11360             storage is returned.
11361             If environment-local storage has not been set with
11362             &lt;functionlink id=&quot;SetEnvironmentLocalStorage&quot;&gt;&lt;/functionlink&gt; returned
11363             pointer is &lt;code&gt;NULL&lt;/code&gt;.
11364           &lt;/description&gt;
11365         &lt;/param&gt;
11366       &lt;/parameters&gt;
11367       &lt;errors&gt;
11368       &lt;/errors&gt;
11369     &lt;/function&gt;
11370 
11371     &lt;function id=&quot;GetVersionNumber&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;88&quot;&gt;
11372       &lt;synopsis&gt;Get Version Number&lt;/synopsis&gt;
11373       &lt;description&gt;
11374         Return the &lt;jvmti/&gt; version via &lt;code&gt;version_ptr&lt;/code&gt;.
11375         The return value is the version identifier.
11376         The version identifier includes major, minor and micro
11377         version as well as the interface type.
11378         &lt;constants id=&quot;jvmtiVersionInterfaceTypes&quot; label=&quot;Version Interface Types&quot; kind=&quot;bits&quot;&gt;
11379           &lt;constant id=&quot;JVMTI_VERSION_INTERFACE_JNI&quot; num=&quot;0x00000000&quot;&gt;
11380             Value of &lt;code&gt;JVMTI_VERSION_MASK_INTERFACE_TYPE&lt;/code&gt; for JNI.
11381           &lt;/constant&gt;
11382           &lt;constant id=&quot;JVMTI_VERSION_INTERFACE_JVMTI&quot; num=&quot;0x30000000&quot;&gt;
11383             Value of &lt;code&gt;JVMTI_VERSION_MASK_INTERFACE_TYPE&lt;/code&gt; for &lt;jvmti/&gt;.
11384           &lt;/constant&gt;
11385         &lt;/constants&gt;
11386         &lt;constants id=&quot;jvmtiVersionMasks&quot; label=&quot;Version Masks&quot; kind=&quot;bits&quot;&gt;
11387           &lt;constant id=&quot;JVMTI_VERSION_MASK_INTERFACE_TYPE&quot; num=&quot;0x70000000&quot;&gt;
11388             Mask to extract interface type.
11389             The value of the version returned by this function masked with
11390             &lt;code&gt;JVMTI_VERSION_MASK_INTERFACE_TYPE&lt;/code&gt; is always
11391             &lt;code&gt;JVMTI_VERSION_INTERFACE_JVMTI&lt;/code&gt;
11392             since this is a &lt;jvmti/&gt; function.
11393           &lt;/constant&gt;
11394           &lt;constant id=&quot;JVMTI_VERSION_MASK_MAJOR&quot; num=&quot;0x0FFF0000&quot;&gt;
11395             Mask to extract major version number.
11396           &lt;/constant&gt;
11397           &lt;constant id=&quot;JVMTI_VERSION_MASK_MINOR&quot; num=&quot;0x0000FF00&quot;&gt;
11398             Mask to extract minor version number.
11399           &lt;/constant&gt;
11400           &lt;constant id=&quot;JVMTI_VERSION_MASK_MICRO&quot; num=&quot;0x000000FF&quot;&gt;
11401             Mask to extract micro version number.
11402           &lt;/constant&gt;
11403         &lt;/constants&gt;
11404         &lt;constants id=&quot;jvmtiVersionShifts&quot; label=&quot;Version Shifts&quot; kind=&quot;bits&quot;&gt;
11405           &lt;constant id=&quot;JVMTI_VERSION_SHIFT_MAJOR&quot; num=&quot;16&quot;&gt;
11406             Shift to extract major version number.
11407           &lt;/constant&gt;
11408           &lt;constant id=&quot;JVMTI_VERSION_SHIFT_MINOR&quot; num=&quot;8&quot;&gt;
11409             Shift to extract minor version number.
11410           &lt;/constant&gt;
11411           &lt;constant id=&quot;JVMTI_VERSION_SHIFT_MICRO&quot; num=&quot;0&quot;&gt;
11412             Shift to extract micro version number.
11413           &lt;/constant&gt;
11414         &lt;/constants&gt;
11415       &lt;/description&gt;
11416       &lt;origin&gt;jvmdi&lt;/origin&gt;
11417       &lt;capabilities&gt;
11418       &lt;/capabilities&gt;
11419       &lt;parameters&gt;
11420         &lt;param id=&quot;version_ptr&quot;&gt;
11421           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
11422           &lt;description&gt;
11423             On return, points to the &lt;jvmti/&gt; version.
11424           &lt;/description&gt;
11425         &lt;/param&gt;
11426       &lt;/parameters&gt;
11427       &lt;errors&gt;
11428       &lt;/errors&gt;
11429     &lt;/function&gt;
11430 
11431 
11432     &lt;function id=&quot;GetErrorName&quot; phase=&quot;any&quot; num=&quot;128&quot;&gt;
11433       &lt;synopsis&gt;Get Error Name&lt;/synopsis&gt;
11434       &lt;description&gt;
11435         Return the symbolic name for an
11436           &lt;internallink id=&quot;ErrorSection&quot;&gt;error code&lt;/internallink&gt;.
11437         &lt;p/&gt;
11438         For example
11439         &lt;code&gt;GetErrorName(env, JVMTI_ERROR_NONE, &amp;amp;err_name)&lt;/code&gt;
11440         would return in &lt;code&gt;err_name&lt;/code&gt; the string
11441         &lt;code&gt;&quot;JVMTI_ERROR_NONE&quot;&lt;/code&gt;.
11442       &lt;/description&gt;
11443       &lt;origin&gt;new&lt;/origin&gt;
11444       &lt;capabilities&gt;
11445       &lt;/capabilities&gt;
11446       &lt;parameters&gt;
11447         &lt;param id=&quot;error&quot;&gt;
11448           &lt;enum&gt;jvmtiError&lt;/enum&gt;
11449           &lt;description&gt;
11450             The error code.
11451           &lt;/description&gt;
11452         &lt;/param&gt;
11453         &lt;param id=&quot;name_ptr&quot;&gt;
11454           &lt;allocbuf&gt;&lt;char/&gt;&lt;/allocbuf&gt;
11455           &lt;description&gt;
11456             On return, points to the error name.
11457             The name is encoded as a
11458             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string,
11459             but is restricted to the ASCII subset.
11460           &lt;/description&gt;
11461         &lt;/param&gt;
11462       &lt;/parameters&gt;
11463       &lt;errors&gt;
11464       &lt;/errors&gt;
11465     &lt;/function&gt;
11466 
11467     &lt;function id=&quot;SetVerboseFlag&quot; phase=&quot;any&quot; num=&quot;150&quot;&gt;
11468       &lt;synopsis&gt;Set Verbose Flag&lt;/synopsis&gt;
11469       &lt;description&gt;
11470         &lt;constants id=&quot;jvmtiVerboseFlag&quot; label=&quot;Verbose Flag Enumeration&quot; kind=&quot;enum&quot;&gt;
11471           &lt;constant id=&quot;JVMTI_VERBOSE_OTHER&quot; num=&quot;0&quot;&gt;
11472             Verbose output other than the below.
11473           &lt;/constant&gt;
11474           &lt;constant id=&quot;JVMTI_VERBOSE_GC&quot; num=&quot;1&quot;&gt;
11475             Verbose garbage collector output, like that specified with &lt;code&gt;-verbose:gc&lt;/code&gt;.
11476           &lt;/constant&gt;
11477           &lt;constant id=&quot;JVMTI_VERBOSE_CLASS&quot; num=&quot;2&quot;&gt;
11478             Verbose class loading output, like that specified with &lt;code&gt;-verbose:class&lt;/code&gt;.
11479           &lt;/constant&gt;
11480           &lt;constant id=&quot;JVMTI_VERBOSE_JNI&quot; num=&quot;4&quot;&gt;
11481             Verbose JNI output, like that specified with &lt;code&gt;-verbose:jni&lt;/code&gt;.
11482           &lt;/constant&gt;
11483         &lt;/constants&gt;
11484         Control verbose output.
11485         This is the output which typically is sent to &lt;code&gt;stderr&lt;/code&gt;.
11486       &lt;/description&gt;
11487       &lt;origin&gt;new&lt;/origin&gt;
11488       &lt;capabilities&gt;
11489       &lt;/capabilities&gt;
11490       &lt;parameters&gt;
11491         &lt;param id=&quot;flag&quot;&gt;
11492           &lt;enum&gt;jvmtiVerboseFlag&lt;/enum&gt;
11493           &lt;description&gt;
11494             Which verbose flag to set.
11495           &lt;/description&gt;
11496         &lt;/param&gt;
11497         &lt;param id=&quot;value&quot;&gt;
11498           &lt;jboolean/&gt;
11499           &lt;description&gt;
11500             New value of the flag.
11501           &lt;/description&gt;
11502         &lt;/param&gt;
11503       &lt;/parameters&gt;
11504       &lt;errors&gt;
11505       &lt;/errors&gt;
11506     &lt;/function&gt;
11507 
11508 
11509     &lt;function id=&quot;GetJLocationFormat&quot; phase=&quot;any&quot; num=&quot;129&quot;&gt;
11510       &lt;synopsis&gt;Get JLocation Format&lt;/synopsis&gt;
11511       &lt;description&gt;
11512         Although the greatest functionality is achieved with location information
11513         referencing the virtual machine bytecode index, the definition of
11514         &lt;code&gt;jlocation&lt;/code&gt; has intentionally been left unconstrained to allow VM
11515         implementations that do not have this information.
11516         &lt;p/&gt;
11517         This function describes the representation of &lt;code&gt;jlocation&lt;/code&gt; used in this VM.
11518         If the returned format is &lt;datalink id=&quot;JVMTI_JLOCATION_JVMBCI&quot;&gt;&lt;/datalink&gt;,
11519         &lt;code&gt;jlocation&lt;/code&gt;s can
11520         be used as in indices into the array returned by
11521         &lt;functionlink id=&quot;GetBytecodes&quot;&gt;&lt;/functionlink&gt;.
11522         &lt;constants id=&quot;jvmtiJlocationFormat&quot; label=&quot;JLocation Format Enumeration&quot; kind=&quot;enum&quot;&gt;
11523           &lt;constant id=&quot;JVMTI_JLOCATION_JVMBCI&quot; num=&quot;1&quot;&gt;
11524             &lt;code&gt;jlocation&lt;/code&gt; values represent virtual machine
11525             bytecode indices--that is, offsets into the
11526             virtual machine code for a method.
11527           &lt;/constant&gt;
11528           &lt;constant id=&quot;JVMTI_JLOCATION_MACHINEPC&quot; num=&quot;2&quot;&gt;
11529             &lt;code&gt;jlocation&lt;/code&gt; values represent native machine
11530             program counter values.
11531           &lt;/constant&gt;
11532           &lt;constant id=&quot;JVMTI_JLOCATION_OTHER&quot; num=&quot;0&quot;&gt;
11533             &lt;code&gt;jlocation&lt;/code&gt; values have some other representation.
11534           &lt;/constant&gt;
11535         &lt;/constants&gt;
11536       &lt;/description&gt;
11537       &lt;origin&gt;new&lt;/origin&gt;
11538       &lt;capabilities&gt;
11539       &lt;/capabilities&gt;
11540       &lt;parameters&gt;
11541         &lt;param id=&quot;format_ptr&quot;&gt;
11542           &lt;outptr&gt;&lt;enum&gt;jvmtiJlocationFormat&lt;/enum&gt;&lt;/outptr&gt;
11543           &lt;description&gt;
11544             On return, points to the format identifier for &lt;code&gt;jlocation&lt;/code&gt; values.
11545           &lt;/description&gt;
11546         &lt;/param&gt;
11547       &lt;/parameters&gt;
11548       &lt;errors&gt;
11549       &lt;/errors&gt;
11550     &lt;/function&gt;
11551 
11552   &lt;/category&gt;
11553 
11554   &lt;category id=&quot;heap_monitoring&quot; label=&quot;Heap Monitoring&quot;&gt;
11555     &lt;function id=&quot;SetHeapSamplingInterval&quot; phase=&quot;onload&quot; num=&quot;156&quot; since=&quot;11&quot;&gt;
11556       &lt;synopsis&gt;Set Heap Sampling Interval&lt;/synopsis&gt;
11557       &lt;description&gt;
11558         Generate a &lt;eventlink id=&quot;SampledObjectAlloc&quot;/&gt; event when objects are allocated.
11559         Each thread keeps a counter of bytes allocated. The event will only be generated
11560         when that counter exceeds an average of &lt;paramlink id=&quot;sampling_interval&quot;&gt;&lt;/paramlink&gt;
11561         since the last sample.
11562         &lt;p/&gt;
11563         Setting &lt;paramlink id=&quot;sampling_interval&quot;&gt;&lt;/paramlink&gt; to 0 will cause an event to be
11564         generated by each allocation supported by the system once the new interval is taken into account.
11565         &lt;p/&gt;
11566         Note that updating the new sampling interval might take various number of allocations
11567         to provoke internal data structure updates.  Therefore it is important to
11568         consider the sampling interval as an average. This includes the interval 0, where events
11569         might not be generated straight away for each allocation.
11570       &lt;/description&gt;
11571       &lt;origin&gt;new&lt;/origin&gt;
11572       &lt;capabilities&gt;
11573         &lt;required id=&quot;can_generate_sampled_object_alloc_events&quot;&gt;&lt;/required&gt;
11574       &lt;/capabilities&gt;
11575       &lt;parameters&gt;
11576         &lt;param id=&quot;sampling_interval&quot;&gt;
11577           &lt;jint/&gt;
11578           &lt;description&gt;
11579             The sampling interval in bytes. The sampler uses a statistical approach to
11580             generate an event, on average, once for every &lt;paramlink id=&quot;sampling_interval&quot;/&gt; bytes of
11581             memory allocated by a given thread.
11582             &lt;p/&gt;
11583             Once the new sampling interval is taken into account, 0 as a sampling interval will generate
11584             a sample for every allocation.
11585             &lt;p/&gt;
11586             Note: The overhead of this feature is directly correlated with the sampling interval.
11587             A high sampling interval, such as 1024 bytes, will incur a high overhead.
11588             A lower interval, such as 1024KB, will have a much lower overhead.  Sampling should only
11589             be used with an understanding that it may impact performance.
11590           &lt;/description&gt;
11591         &lt;/param&gt;
11592       &lt;/parameters&gt;
11593       &lt;errors&gt;
11594         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
11595           &lt;paramlink id=&quot;sampling_interval&quot;&gt;&lt;/paramlink&gt; is less than zero.
11596         &lt;/error&gt;
11597       &lt;/errors&gt;
11598     &lt;/function&gt;
11599   &lt;/category&gt;
11600 
11601 &lt;/functionsection&gt;
11602 
11603 &lt;errorsection label=&quot;Error Reference&quot;&gt;
11604   &lt;intro&gt;
11605     Every &lt;jvmti/&gt; function returns a &lt;b&gt;&lt;code&gt;jvmtiError&lt;/code&gt;&lt;/b&gt; error code.
11606     &lt;p/&gt;
11607     It is the responsibility of the agent to call &lt;jvmti/&gt; functions with
11608     valid parameters and in the proper context (calling thread is attached,
11609     phase is correct, etc.).
11610     Detecting some error conditions may be difficult, inefficient, or
11611     impossible for an implementation.
11612     The errors listed in
11613     &lt;internallink id=&quot;reqerrors&quot;&gt;Function Specific Required Errors&lt;/internallink&gt;
11614     must be detected by the implementation.
11615     All other errors represent the recommended response to the error
11616     condition.
11617   &lt;/intro&gt;
11618 
11619   &lt;errorcategory id=&quot;universal-error&quot; label=&quot;Universal Errors&quot;&gt;
11620     &lt;intro&gt;
11621       The following errors may be returned by any function
11622     &lt;/intro&gt;
11623 
11624     &lt;errorid id=&quot;JVMTI_ERROR_NONE&quot; num=&quot;0&quot;&gt;
11625       No error has occurred.  This is the error code that is returned
11626       on successful completion of the function.
11627     &lt;/errorid&gt;
11628     &lt;errorid id=&quot;JVMTI_ERROR_NULL_POINTER&quot; num=&quot;100&quot;&gt;
11629       Pointer is unexpectedly &lt;code&gt;NULL&lt;/code&gt;.
11630     &lt;/errorid&gt;
11631     &lt;errorid id=&quot;JVMTI_ERROR_OUT_OF_MEMORY&quot; num=&quot;110&quot;&gt;
11632       The function attempted to allocate memory and no more memory was
11633       available for allocation.
11634     &lt;/errorid&gt;
11635     &lt;errorid id=&quot;JVMTI_ERROR_ACCESS_DENIED&quot; num=&quot;111&quot;&gt;
11636       The desired functionality has not been enabled in this virtual machine.
11637     &lt;/errorid&gt;
11638     &lt;errorid id=&quot;JVMTI_ERROR_UNATTACHED_THREAD&quot; num=&quot;115&quot;&gt;
11639       The thread being used to call this function is not attached
11640       to the virtual machine.  Calls must be made from attached threads.
11641       See &lt;code&gt;AttachCurrentThread&lt;/code&gt; in the JNI invocation API.
11642     &lt;/errorid&gt;
11643     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_ENVIRONMENT&quot; num=&quot;116&quot;&gt;
11644       The &lt;jvmti/&gt; environment provided is no longer connected or is
11645       not an environment.
11646     &lt;/errorid&gt;
11647     &lt;errorid id=&quot;JVMTI_ERROR_WRONG_PHASE&quot; num=&quot;112&quot;&gt;
11648       The desired functionality is not available in the current
11649         &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;.
11650       Always returned if the virtual machine has completed running.
11651     &lt;/errorid&gt;
11652     &lt;errorid id=&quot;JVMTI_ERROR_INTERNAL&quot; num=&quot;113&quot;&gt;
11653       An unexpected internal error has occurred.
11654     &lt;/errorid&gt;
11655   &lt;/errorcategory&gt;
11656 
11657   &lt;errorcategory id=&quot;reqerrors&quot; label=&quot;Function Specific Required Errors&quot;&gt;
11658     &lt;intro&gt;
11659       The following errors are returned by some &lt;jvmti/&gt; functions and must
11660       be returned by the implementation when the condition occurs.
11661     &lt;/intro&gt;
11662 
11663     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_PRIORITY&quot; num=&quot;12&quot;&gt;
11664       Invalid priority.
11665     &lt;/errorid&gt;
11666     &lt;errorid id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot; num=&quot;13&quot;&gt;
11667       Thread was not suspended.
11668     &lt;/errorid&gt;
11669     &lt;errorid id=&quot;JVMTI_ERROR_THREAD_SUSPENDED&quot; num=&quot;14&quot;&gt;
11670       Thread already suspended.
11671     &lt;/errorid&gt;
11672     &lt;errorid id=&quot;JVMTI_ERROR_THREAD_NOT_ALIVE&quot; num=&quot;15&quot;&gt;
11673       This operation requires the thread to be alive--that is,
11674       it must be started and not yet have died.
11675     &lt;/errorid&gt;
11676     &lt;errorid id=&quot;JVMTI_ERROR_CLASS_NOT_PREPARED&quot; num=&quot;22&quot;&gt;
11677       The class has been loaded but not yet prepared.
11678     &lt;/errorid&gt;
11679     &lt;errorid id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot; num=&quot;31&quot;&gt;
11680       There are no Java programming language or JNI stack frames at the specified depth.
11681     &lt;/errorid&gt;
11682     &lt;errorid id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot; num=&quot;32&quot;&gt;
11683       Information about the frame is not available (e.g. for native frames).
11684     &lt;/errorid&gt;
11685     &lt;errorid id=&quot;JVMTI_ERROR_DUPLICATE&quot; num=&quot;40&quot;&gt;
11686       Item already set.
11687     &lt;/errorid&gt;
11688     &lt;errorid id=&quot;JVMTI_ERROR_NOT_FOUND&quot; num=&quot;41&quot;&gt;
11689       Desired element (e.g. field or breakpoint) not found
11690     &lt;/errorid&gt;
11691     &lt;errorid id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot; num=&quot;51&quot;&gt;
11692       This thread doesn&#39;t own the raw monitor.
11693     &lt;/errorid&gt;
11694     &lt;errorid id=&quot;JVMTI_ERROR_INTERRUPT&quot; num=&quot;52&quot;&gt;
11695       The call has been interrupted before completion.
11696     &lt;/errorid&gt;
11697     &lt;errorid id=&quot;JVMTI_ERROR_UNMODIFIABLE_CLASS&quot; num=&quot;79&quot;&gt;
11698       The class cannot be modified.
11699     &lt;/errorid&gt;
11700     &lt;errorid id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot; num=&quot;80&quot;&gt;
11701       The module cannot be modified.
11702     &lt;/errorid&gt;
11703     &lt;errorid id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot; num=&quot;98&quot;&gt;
11704       The functionality is not available in this virtual machine.
11705     &lt;/errorid&gt;
11706     &lt;errorid id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot; num=&quot;101&quot;&gt;
11707       The requested information is not available.
11708     &lt;/errorid&gt;
11709     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_EVENT_TYPE&quot; num=&quot;102&quot;&gt;
11710       The specified event type ID is not recognized.
11711     &lt;/errorid&gt;
11712     &lt;errorid id=&quot;JVMTI_ERROR_NATIVE_METHOD&quot; num=&quot;104&quot;&gt;
11713       The requested information is not available for native method.
11714     &lt;/errorid&gt;
11715     &lt;errorid id=&quot;JVMTI_ERROR_CLASS_LOADER_UNSUPPORTED&quot; num=&quot;106&quot;&gt;
11716       The class loader does not support this operation.
11717     &lt;/errorid&gt;
11718   &lt;/errorcategory&gt;
11719 
11720   &lt;errorcategory id=&quot;function-specific-errors&quot; label=&quot;Function Specific Agent Errors&quot;&gt;
11721     &lt;intro&gt;
11722       The following errors are returned by some &lt;jvmti/&gt; functions.
11723       They are returned in the event of invalid parameters passed by the
11724       agent or usage in an invalid context.
11725       An implementation is not required to detect these errors.
11726     &lt;/intro&gt;
11727 
11728     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_THREAD&quot; num=&quot;10&quot;&gt;
11729       The passed thread is not a valid thread.
11730     &lt;/errorid&gt;
11731     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_FIELDID&quot; num=&quot;25&quot;&gt;
11732       Invalid field.
11733     &lt;/errorid&gt;
11734     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_MODULE&quot; num=&quot;26&quot;&gt;
11735       Invalid module.
11736     &lt;/errorid&gt;
11737     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_METHODID&quot; num=&quot;23&quot;&gt;
11738       Invalid method.
11739     &lt;/errorid&gt;
11740     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_LOCATION&quot; num=&quot;24&quot;&gt;
11741       Invalid location.
11742     &lt;/errorid&gt;
11743     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_OBJECT&quot; num=&quot;20&quot;&gt;
11744       Invalid object.
11745     &lt;/errorid&gt;
11746     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_CLASS&quot; num=&quot;21&quot;&gt;
11747       Invalid class.
11748     &lt;/errorid&gt;
11749     &lt;errorid id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot; num=&quot;34&quot;&gt;
11750       The variable is not an appropriate type for the function used.
11751     &lt;/errorid&gt;
11752     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_SLOT&quot; num=&quot;35&quot;&gt;
11753       Invalid slot.
11754     &lt;/errorid&gt;
11755     &lt;errorid id=&quot;JVMTI_ERROR_MUST_POSSESS_CAPABILITY&quot; num=&quot;99&quot;&gt;
11756       The capability being used is false in this environment.
11757     &lt;/errorid&gt;
11758     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_THREAD_GROUP&quot; num=&quot;11&quot;&gt;
11759       Thread group invalid.
11760     &lt;/errorid&gt;
11761     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_MONITOR&quot; num=&quot;50&quot;&gt;
11762       Invalid raw monitor.
11763     &lt;/errorid&gt;
11764     &lt;errorid id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot; num=&quot;103&quot;&gt;
11765       Illegal argument.
11766     &lt;/errorid&gt;
11767     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_TYPESTATE&quot; num=&quot;65&quot;&gt;
11768       The state of the thread has been modified, and is now inconsistent.
11769     &lt;/errorid&gt;
11770     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_VERSION&quot; num=&quot;68&quot;&gt;
11771       A new class file has a version number not supported by this VM.
11772     &lt;/errorid&gt;
11773     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_CLASS_FORMAT&quot; num=&quot;60&quot;&gt;
11774       A new class file is malformed (the VM would return a &lt;code&gt;ClassFormatError&lt;/code&gt;).
11775     &lt;/errorid&gt;
11776     &lt;errorid id=&quot;JVMTI_ERROR_CIRCULAR_CLASS_DEFINITION&quot; num=&quot;61&quot;&gt;
11777       The new class file definitions would lead to a circular
11778       definition (the VM would return a &lt;code&gt;ClassCircularityError&lt;/code&gt;).
11779     &lt;/errorid&gt;
11780     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_ADDED&quot; num=&quot;63&quot;&gt;
11781       A new class file would require adding a method.
11782     &lt;/errorid&gt;
11783     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_SCHEMA_CHANGED&quot; num=&quot;64&quot;&gt;
11784       A new class version changes a field.
11785     &lt;/errorid&gt;
11786     &lt;errorid id=&quot;JVMTI_ERROR_FAILS_VERIFICATION&quot; num=&quot;62&quot;&gt;
11787       The class bytes fail verification.
11788     &lt;/errorid&gt;
11789     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_HIERARCHY_CHANGED&quot; num=&quot;66&quot;&gt;
11790       A direct superclass is different for the new class
11791       version, or the set of directly implemented
11792       interfaces is different.
11793     &lt;/errorid&gt;
11794     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_DELETED&quot; num=&quot;67&quot;&gt;
11795       A new class version does not declare a method
11796       declared in the old class version.
11797     &lt;/errorid&gt;
11798     &lt;errorid id=&quot;JVMTI_ERROR_NAMES_DONT_MATCH&quot; num=&quot;69&quot;&gt;
11799       The class name defined in the new class file is
11800       different from the name in the old class object.
11801     &lt;/errorid&gt;
11802     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_MODIFIERS_CHANGED&quot; num=&quot;70&quot;&gt;
11803       A new class version has different modifiers.
11804     &lt;/errorid&gt;
11805     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_MODIFIERS_CHANGED&quot; num=&quot;71&quot;&gt;
11806       A method in the new class version has different modifiers
11807       than its counterpart in the old class version.
11808     &lt;/errorid&gt;
11809     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_ATTRIBUTE_CHANGED&quot; num=&quot;72&quot;&gt;
11810       A new class version has unsupported differences in class attributes.
11811     &lt;/errorid&gt;
11812   &lt;/errorcategory&gt;
11813 &lt;/errorsection&gt;
11814 
11815 &lt;eventsection label=&quot;Events&quot;&gt;
11816   &lt;intro label=&quot;Handling Events&quot; id=&quot;eventIntro&quot;&gt;
11817     Agents can be informed of many events that occur in application
11818     programs.
11819     &lt;p/&gt;
11820     To handle events, designate a set of callback functions with
11821     &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt;.
11822     For each event the corresponding callback function will be
11823     called.
11824     Arguments to the callback function provide additional
11825     information about the event.
11826     &lt;p/&gt;
11827     The callback function is usually called from within an application
11828     thread. The &lt;jvmti/&gt; implementation does not
11829     queue events in any way. This means
11830     that event callback functions must be written
11831     carefully. Here are some general guidelines. See
11832     the individual event descriptions for further
11833     suggestions.
11834     &lt;p/&gt;
11835     &lt;ul&gt;
11836       &lt;li&gt;Any exception thrown during the execution of an event callback can
11837         overwrite any current pending exception in the current application thread.
11838         Care must be taken to preserve a pending exception
11839         when an event callback makes a JNI call that might generate an exception.
11840       &lt;/li&gt;
11841       &lt;li&gt;Event callback functions must be re-entrant. The &lt;jvmti/&gt; implementation does
11842         not queue events. If an agent needs to process events one at a time, it
11843         can use a raw monitor inside the
11844         event callback functions to serialize event processing.
11845       &lt;/li&gt;
11846       &lt;li&gt;Event callback functions that execute JNI&#39;s FindClass function to load
11847         classes need to note that FindClass locates the class loader associated
11848         with the current native method. For the purposes of class loading, an
11849         event callback that includes a JNI environment as a parameter to the
11850         callback will treated as if it is a native call, where the native method
11851         is in the class of the event thread&#39;s current frame.
11852       &lt;/li&gt;
11853     &lt;/ul&gt;
11854     &lt;p/&gt;
11855     Some &lt;jvmti/&gt; events identify objects with JNI references.
11856     All references
11857     in &lt;jvmti/&gt; events are JNI local references and will become invalid
11858     after the event callback returns.
11859     Unless stated otherwise, memory referenced by pointers sent in event
11860     callbacks may not be referenced after the event callback returns.
11861     &lt;p/&gt;
11862     Except where stated otherwise, events are delivered on the thread
11863     that caused the event.
11864     Events are sent at the time they occur.
11865     The specification for each event includes the set of
11866     &lt;functionlink id=&quot;GetPhase&quot;&gt;phases&lt;/functionlink&gt; in which it can be sent;
11867     if an event triggering activity occurs during another phase, no event
11868     is sent.
11869     &lt;p/&gt;
11870     A thread that generates an event does not change its execution status
11871     (for example, the event does not cause the thread to be suspended).
11872     If an agent wishes the event to result in suspension, then the agent
11873     is responsible for explicitly suspending the thread with
11874     &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;.
11875     &lt;p/&gt;
11876     If an event is enabled in multiple environments, the event will be sent
11877     to each agent in the order that the environments were created.
11878   &lt;/intro&gt;
11879 
11880   &lt;intro label=&quot;Enabling Events&quot; id=&quot;enablingevents&quot;&gt;
11881     All events are initially disabled.  In order to receive any
11882     event:
11883       &lt;ul&gt;
11884         &lt;li&gt;
11885           If the event requires a capability, that capability must
11886           be added with
11887           &lt;functionlink id=&quot;AddCapabilities&quot;&gt;&lt;/functionlink&gt;.
11888         &lt;/li&gt;
11889         &lt;li&gt;
11890           A callback for the event must be set with
11891           &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt;.
11892         &lt;/li&gt;
11893         &lt;li&gt;
11894           The event must be enabled with
11895           &lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;&lt;/functionlink&gt;.
11896         &lt;/li&gt;
11897       &lt;/ul&gt;
11898   &lt;/intro&gt;
11899 
11900   &lt;intro label=&quot;Multiple Co-located Events&quot; id=&quot;eventorder&quot;&gt;
11901     In many situations it is possible for multiple events to occur
11902     at the same location in one thread. When this happens, all the events
11903     are reported through the event callbacks in the order specified in this section.
11904     &lt;p/&gt;
11905     If the current location is at the entry point of a method, the
11906     &lt;eventlink id=&quot;MethodEntry&quot;&gt;&lt;/eventlink&gt; event is reported before
11907     any other event at the current location in the same thread.
11908     &lt;p/&gt;
11909     If an exception catch has been detected at the current location,
11910     either because it is the beginning of a catch clause or a native method
11911     that cleared a pending exception has returned, the
11912     &lt;code&gt;exceptionCatch&lt;/code&gt; event is reported before
11913     any other event at the current location in the same thread.
11914     &lt;p/&gt;
11915     If a &lt;code&gt;singleStep&lt;/code&gt; event or
11916     &lt;code&gt;breakpoint&lt;/code&gt; event is triggered at the
11917     current location, the event is defined to occur
11918     immediately before the code at the current location is executed.
11919     These events are reported before any events which are triggered
11920     by the execution of code at the current location in the same
11921     thread (specifically:
11922     &lt;code&gt;exception&lt;/code&gt;,
11923     &lt;code&gt;fieldAccess&lt;/code&gt;, and
11924     &lt;code&gt;fieldModification&lt;/code&gt;).
11925     If both a step and breakpoint event are triggered for the same thread and
11926     location, the step event is reported before the breakpoint event.
11927     &lt;p/&gt;
11928     If the current location is the exit point of a method (that is, the last
11929     location before returning to the caller), the
11930     &lt;eventlink id=&quot;MethodExit&quot;&gt;&lt;/eventlink&gt; event and
11931     the &lt;eventlink id=&quot;FramePop&quot;&gt;&lt;/eventlink&gt; event (if requested)
11932     are reported after all other events at the current location in the same
11933     thread. There is no specified ordering of these two events
11934     with respect to each other.
11935     &lt;p/&gt;
11936     Co-located events can be triggered during the processing of some other
11937     event by the agent at the same location in the same thread.
11938     If such an event, of type &lt;i&gt;y&lt;/i&gt;, is triggered during the processing of
11939     an event of type &lt;i&gt;x&lt;/i&gt;, and if &lt;i&gt;x&lt;/i&gt;
11940     precedes &lt;i&gt;y&lt;/i&gt; in the ordering specified above, the co-located event
11941     &lt;i&gt;y&lt;/i&gt; is reported for the current thread and location. If &lt;i&gt;x&lt;/i&gt; does not precede
11942     &lt;i&gt;y&lt;/i&gt;, &lt;i&gt;y&lt;/i&gt; is not reported for the current thread and location.
11943     For example, if a breakpoint is set at the current location
11944     during the processing of &lt;eventlink id=&quot;SingleStep&quot;&gt;&lt;/eventlink&gt;,
11945     that breakpoint will be reported before the thread moves off the current
11946     location.
11947     &lt;p/&gt;The following events are never considered to be co-located with
11948     other events.
11949     &lt;ul&gt;
11950       &lt;li&gt;&lt;eventlink id=&quot;VMStart&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
11951       &lt;li&gt;&lt;eventlink id=&quot;VMInit&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
11952       &lt;li&gt;&lt;eventlink id=&quot;VMDeath&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
11953       &lt;li&gt;&lt;eventlink id=&quot;ThreadStart&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
11954       &lt;li&gt;&lt;eventlink id=&quot;ThreadEnd&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
11955       &lt;li&gt;&lt;eventlink id=&quot;ClassLoad&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
11956       &lt;li&gt;&lt;eventlink id=&quot;ClassPrepare&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
11957     &lt;/ul&gt;
11958   &lt;/intro&gt;
11959 
11960   &lt;intro label=&quot;Event Callbacks&quot; id=&quot;jvmtiEventCallbacks&quot;&gt;
11961       The event callback structure below is used to specify the handler function
11962       for events.  It is set with the
11963       &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt; function.
11964   &lt;/intro&gt;
11965 
11966   &lt;event label=&quot;Single Step&quot;
11967          id=&quot;SingleStep&quot; const=&quot;JVMTI_EVENT_SINGLE_STEP&quot; filtered=&quot;thread&quot; num=&quot;60&quot;&gt;
11968     &lt;description&gt;
11969       Single step events allow the agent to trace thread execution
11970       at the finest granularity allowed by the VM. A single step event is
11971       generated whenever a thread reaches a new location.
11972       Typically, single step events represent the completion of one VM
11973       instruction as defined in &lt;vmspec/&gt;. However, some implementations
11974       may define locations differently. In any case the
11975       &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
11976       parameters  uniquely identify the current location and allow
11977       the mapping to source file and line number when that information is
11978       available.
11979       &lt;p/&gt;
11980       No single step events are generated from within native methods.
11981     &lt;/description&gt;
11982     &lt;origin&gt;jvmdi&lt;/origin&gt;
11983     &lt;capabilities&gt;
11984       &lt;required id=&quot;can_generate_single_step_events&quot;&gt;&lt;/required&gt;
11985     &lt;/capabilities&gt;
11986     &lt;parameters&gt;
11987       &lt;param id=&quot;jni_env&quot;&gt;
11988         &lt;outptr&gt;
11989           &lt;struct&gt;JNIEnv&lt;/struct&gt;
11990         &lt;/outptr&gt;
11991           &lt;description&gt;
11992             The JNI environment of the event (current) thread
11993           &lt;/description&gt;
11994       &lt;/param&gt;
11995       &lt;param id=&quot;thread&quot;&gt;
11996         &lt;jthread/&gt;
11997           &lt;description&gt;
11998             Thread about to execution a new instruction
11999           &lt;/description&gt;
12000       &lt;/param&gt;
12001       &lt;param id=&quot;klass&quot;&gt;
12002         &lt;jclass method=&quot;method&quot;/&gt;
12003           &lt;description&gt;
12004             Class of the method about to execute a new instruction
12005           &lt;/description&gt;
12006       &lt;/param&gt;
12007       &lt;param id=&quot;method&quot;&gt;
12008         &lt;jmethodID class=&quot;klass&quot;/&gt;
12009           &lt;description&gt;
12010             Method about to execute a new instruction
12011           &lt;/description&gt;
12012       &lt;/param&gt;
12013       &lt;param id=&quot;location&quot;&gt;
12014         &lt;jlocation/&gt;
12015         &lt;description&gt;
12016           Location of the new instruction
12017         &lt;/description&gt;
12018       &lt;/param&gt;
12019     &lt;/parameters&gt;
12020   &lt;/event&gt;
12021 
12022   &lt;event label=&quot;Breakpoint&quot;
12023          id=&quot;Breakpoint&quot; const=&quot;JVMTI_EVENT_BREAKPOINT&quot; filtered=&quot;thread&quot; num=&quot;62&quot;&gt;
12024     &lt;description&gt;
12025       Breakpoint events are generated whenever a thread reaches a location
12026       designated as a breakpoint with &lt;functionlink id=&quot;SetBreakpoint&quot;&gt;&lt;/functionlink&gt;.
12027       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12028       parameters uniquely identify the current location and allow
12029       the mapping to source file and line number when that information is
12030       available.
12031     &lt;/description&gt;
12032     &lt;origin&gt;jvmdi&lt;/origin&gt;
12033     &lt;capabilities&gt;
12034       &lt;required id=&quot;can_generate_breakpoint_events&quot;&gt;&lt;/required&gt;
12035     &lt;/capabilities&gt;
12036     &lt;parameters&gt;
12037       &lt;param id=&quot;jni_env&quot;&gt;
12038         &lt;outptr&gt;
12039           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12040         &lt;/outptr&gt;
12041           &lt;description&gt;
12042             The JNI environment of the event (current) thread.
12043           &lt;/description&gt;
12044       &lt;/param&gt;
12045       &lt;param id=&quot;thread&quot;&gt;
12046         &lt;jthread/&gt;
12047           &lt;description&gt;
12048             Thread that hit the breakpoint
12049           &lt;/description&gt;
12050       &lt;/param&gt;
12051       &lt;param id=&quot;klass&quot;&gt;
12052         &lt;jclass method=&quot;method&quot;/&gt;
12053           &lt;description&gt;
12054             Class of the method that hit the breakpoint
12055           &lt;/description&gt;
12056       &lt;/param&gt;
12057       &lt;param id=&quot;method&quot;&gt;
12058         &lt;jmethodID class=&quot;klass&quot;/&gt;
12059           &lt;description&gt;
12060             Method that hit the breakpoint
12061           &lt;/description&gt;
12062       &lt;/param&gt;
12063       &lt;param id=&quot;location&quot;&gt;
12064         &lt;jlocation/&gt;
12065         &lt;description&gt;
12066           location of the breakpoint
12067         &lt;/description&gt;
12068       &lt;/param&gt;
12069     &lt;/parameters&gt;
12070   &lt;/event&gt;
12071 
12072   &lt;event label=&quot;Field Access&quot;
12073          id=&quot;FieldAccess&quot; const=&quot;JVMTI_EVENT_FIELD_ACCESS&quot; filtered=&quot;thread&quot; num=&quot;63&quot;&gt;
12074     &lt;description&gt;
12075       Field access events are generated whenever a thread accesses
12076       a field that was designated as a watchpoint
12077       with &lt;functionlink id=&quot;SetFieldAccessWatch&quot;&gt;&lt;/functionlink&gt;.
12078       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12079       parameters uniquely identify the current location and allow
12080       the mapping to source file and line number when that information is
12081       available.
12082     &lt;/description&gt;
12083     &lt;origin&gt;jvmdi&lt;/origin&gt;
12084     &lt;capabilities&gt;
12085       &lt;required id=&quot;can_generate_field_access_events&quot;&gt;&lt;/required&gt;
12086     &lt;/capabilities&gt;
12087     &lt;parameters&gt;
12088       &lt;param id=&quot;jni_env&quot;&gt;
12089         &lt;outptr&gt;
12090           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12091         &lt;/outptr&gt;
12092           &lt;description&gt;
12093             The JNI environment of the event (current) thread
12094           &lt;/description&gt;
12095       &lt;/param&gt;
12096       &lt;param id=&quot;thread&quot;&gt;
12097         &lt;jthread/&gt;
12098           &lt;description&gt;
12099             Thread accessing the field
12100           &lt;/description&gt;
12101       &lt;/param&gt;
12102       &lt;param id=&quot;klass&quot;&gt;
12103         &lt;jclass method=&quot;method&quot;/&gt;
12104           &lt;description&gt;
12105             Class of the method where the access is occurring
12106           &lt;/description&gt;
12107       &lt;/param&gt;
12108       &lt;param id=&quot;method&quot;&gt;
12109         &lt;jmethodID class=&quot;klass&quot;/&gt;
12110           &lt;description&gt;
12111             Method where the access is occurring
12112           &lt;/description&gt;
12113       &lt;/param&gt;
12114       &lt;param id=&quot;location&quot;&gt;
12115         &lt;jlocation/&gt;
12116         &lt;description&gt;
12117           Location where the access is occurring
12118         &lt;/description&gt;
12119       &lt;/param&gt;
12120       &lt;param id=&quot;field_klass&quot;&gt;
12121         &lt;jclass field=&quot;field&quot;/&gt;
12122           &lt;description&gt;
12123             Class of the field being accessed
12124           &lt;/description&gt;
12125       &lt;/param&gt;
12126       &lt;param id=&quot;object&quot;&gt;
12127         &lt;jobject/&gt;
12128           &lt;description&gt;
12129             Object with the field being accessed if the field is an
12130             instance field; &lt;code&gt;NULL&lt;/code&gt; otherwise
12131           &lt;/description&gt;
12132       &lt;/param&gt;
12133       &lt;param id=&quot;field&quot;&gt;
12134         &lt;jfieldID class=&quot;field_klass&quot;/&gt;
12135           &lt;description&gt;
12136             Field being accessed
12137           &lt;/description&gt;
12138       &lt;/param&gt;
12139     &lt;/parameters&gt;
12140   &lt;/event&gt;
12141 
12142   &lt;event label=&quot;Field Modification&quot;
12143          id=&quot;FieldModification&quot; const=&quot;JVMTI_EVENT_FIELD_MODIFICATION&quot; filtered=&quot;thread&quot; num=&quot;64&quot;&gt;
12144     &lt;description&gt;
12145       Field modification events are generated whenever a thread modifies
12146       a field that was designated as a watchpoint
12147       with &lt;functionlink id=&quot;SetFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;.
12148       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12149       parameters uniquely identify the current location and allow
12150       the mapping to source file and line number when that information is
12151       available.
12152     &lt;/description&gt;
12153     &lt;origin&gt;jvmdi&lt;/origin&gt;
12154     &lt;capabilities&gt;
12155       &lt;required id=&quot;can_generate_field_modification_events&quot;&gt;&lt;/required&gt;
12156     &lt;/capabilities&gt;
12157     &lt;parameters&gt;
12158       &lt;param id=&quot;jni_env&quot;&gt;
12159         &lt;outptr&gt;
12160           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12161         &lt;/outptr&gt;
12162           &lt;description&gt;
12163             The JNI environment of the event (current) thread
12164           &lt;/description&gt;
12165       &lt;/param&gt;
12166       &lt;param id=&quot;thread&quot;&gt;
12167         &lt;jthread/&gt;
12168           &lt;description&gt;
12169             Thread modifying the field
12170           &lt;/description&gt;
12171       &lt;/param&gt;
12172       &lt;param id=&quot;klass&quot;&gt;
12173         &lt;jclass method=&quot;method&quot;/&gt;
12174           &lt;description&gt;
12175             Class of the method where the modification is occurring
12176           &lt;/description&gt;
12177       &lt;/param&gt;
12178       &lt;param id=&quot;method&quot;&gt;
12179         &lt;jmethodID class=&quot;klass&quot;/&gt;
12180           &lt;description&gt;
12181             Method where the modification is occurring
12182           &lt;/description&gt;
12183       &lt;/param&gt;
12184       &lt;param id=&quot;location&quot;&gt;
12185         &lt;jlocation/&gt;
12186         &lt;description&gt;
12187           Location where the modification is occurring
12188         &lt;/description&gt;
12189       &lt;/param&gt;
12190       &lt;param id=&quot;field_klass&quot;&gt;
12191         &lt;jclass field=&quot;field&quot;/&gt;
12192           &lt;description&gt;
12193             Class of the field being modified
12194           &lt;/description&gt;
12195       &lt;/param&gt;
12196       &lt;param id=&quot;object&quot;&gt;
12197         &lt;jobject/&gt;
12198           &lt;description&gt;
12199             Object with the field being modified if the field is an
12200             instance field; &lt;code&gt;NULL&lt;/code&gt; otherwise
12201           &lt;/description&gt;
12202       &lt;/param&gt;
12203       &lt;param id=&quot;field&quot;&gt;
12204         &lt;jfieldID class=&quot;field_klass&quot;/&gt;
12205           &lt;description&gt;
12206             Field being modified
12207           &lt;/description&gt;
12208       &lt;/param&gt;
12209       &lt;param id=&quot;signature_type&quot;&gt;
12210         &lt;char/&gt;
12211         &lt;description&gt;
12212           Signature type of the new value
12213         &lt;/description&gt;
12214       &lt;/param&gt;
12215       &lt;param id=&quot;new_value&quot;&gt;
12216         &lt;jvalue/&gt;
12217         &lt;description&gt;
12218           The new value
12219         &lt;/description&gt;
12220       &lt;/param&gt;
12221     &lt;/parameters&gt;
12222   &lt;/event&gt;
12223 
12224   &lt;event label=&quot;Frame Pop&quot;
12225          id=&quot;FramePop&quot; const=&quot;JVMTI_EVENT_FRAME_POP&quot; filtered=&quot;thread&quot; num=&quot;61&quot;&gt;
12226     &lt;description&gt;
12227       Frame pop events are generated upon exit from a single method
12228       in a single frame as specified
12229       in a call to &lt;functionlink id=&quot;NotifyFramePop&quot;&gt;&lt;/functionlink&gt;.
12230       This is true whether termination is caused by
12231       executing its return instruction
12232       or by throwing an exception to its caller
12233       (see &lt;paramlink id=&quot;was_popped_by_exception&quot;&gt;&lt;/paramlink&gt;).
12234       However, frame pops caused by the &lt;functionlink id=&quot;PopFrame&quot;/&gt;
12235       function are not reported.
12236       &lt;p/&gt;
12237       The location reported by &lt;functionlink id=&quot;GetFrameLocation&quot;&gt;&lt;/functionlink&gt;
12238       identifies the executable location in the returning method,
12239       immediately prior to the return.
12240     &lt;/description&gt;
12241     &lt;origin&gt;jvmdi&lt;/origin&gt;
12242     &lt;capabilities&gt;
12243       &lt;required id=&quot;can_generate_frame_pop_events&quot;&gt;&lt;/required&gt;
12244     &lt;/capabilities&gt;
12245     &lt;parameters&gt;
12246       &lt;param id=&quot;jni_env&quot;&gt;
12247         &lt;outptr&gt;
12248           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12249         &lt;/outptr&gt;
12250           &lt;description&gt;
12251             The JNI environment of the event (current) thread
12252           &lt;/description&gt;
12253       &lt;/param&gt;
12254       &lt;param id=&quot;thread&quot;&gt;
12255         &lt;jthread/&gt;
12256           &lt;description&gt;
12257             Thread that is popping the frame
12258           &lt;/description&gt;
12259       &lt;/param&gt;
12260       &lt;param id=&quot;klass&quot;&gt;
12261         &lt;jclass method=&quot;method&quot;/&gt;
12262           &lt;description&gt;
12263             Class of the method being popped
12264           &lt;/description&gt;
12265       &lt;/param&gt;
12266       &lt;param id=&quot;method&quot;&gt;
12267         &lt;jmethodID class=&quot;klass&quot;/&gt;
12268           &lt;description&gt;
12269             Method being popped
12270           &lt;/description&gt;
12271       &lt;/param&gt;
12272       &lt;param id=&quot;was_popped_by_exception&quot;&gt;
12273         &lt;jboolean/&gt;
12274         &lt;description&gt;
12275           True if frame was popped by a thrown exception.
12276           False if method exited through its return instruction.
12277         &lt;/description&gt;
12278       &lt;/param&gt;
12279     &lt;/parameters&gt;
12280   &lt;/event&gt;
12281 
12282   &lt;event label=&quot;Method Entry&quot;
12283          id=&quot;MethodEntry&quot; const=&quot;JVMTI_EVENT_METHOD_ENTRY&quot; filtered=&quot;thread&quot; num=&quot;65&quot;&gt;
12284     &lt;description&gt;
12285       Method entry events are generated upon entry of Java
12286       programming language methods (including native methods).
12287       &lt;p/&gt;
12288       The location reported by &lt;functionlink id=&quot;GetFrameLocation&quot;&gt;&lt;/functionlink&gt;
12289       identifies the initial executable location in
12290       the method.
12291       &lt;p/&gt;
12292       Enabling method
12293       entry or exit events will significantly degrade performance on many platforms and is thus
12294       not advised for performance critical usage (such as profiling).
12295       &lt;internallink id=&quot;bci&quot;&gt;Bytecode instrumentation&lt;/internallink&gt; should be
12296       used in these cases.
12297     &lt;/description&gt;
12298     &lt;origin&gt;jvmdi&lt;/origin&gt;
12299     &lt;capabilities&gt;
12300       &lt;required id=&quot;can_generate_method_entry_events&quot;&gt;&lt;/required&gt;
12301     &lt;/capabilities&gt;
12302     &lt;parameters&gt;
12303       &lt;param id=&quot;jni_env&quot;&gt;
12304         &lt;outptr&gt;
12305           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12306         &lt;/outptr&gt;
12307           &lt;description&gt;
12308             The JNI environment of the event (current) thread
12309           &lt;/description&gt;
12310       &lt;/param&gt;
12311       &lt;param id=&quot;thread&quot;&gt;
12312         &lt;jthread/&gt;
12313           &lt;description&gt;
12314             Thread entering the method
12315           &lt;/description&gt;
12316       &lt;/param&gt;
12317       &lt;param id=&quot;klass&quot;&gt;
12318         &lt;jclass method=&quot;method&quot;/&gt;
12319           &lt;description&gt;
12320             Class of the method being entered
12321           &lt;/description&gt;
12322       &lt;/param&gt;
12323       &lt;param id=&quot;method&quot;&gt;
12324         &lt;jmethodID class=&quot;klass&quot;/&gt;
12325           &lt;description&gt;
12326             Method being entered
12327           &lt;/description&gt;
12328       &lt;/param&gt;
12329     &lt;/parameters&gt;
12330   &lt;/event&gt;
12331 
12332   &lt;event label=&quot;Method Exit&quot;
12333          id=&quot;MethodExit&quot; const=&quot;JVMTI_EVENT_METHOD_EXIT&quot; filtered=&quot;thread&quot; num=&quot;66&quot;&gt;
12334     &lt;description&gt;
12335       Method exit events are generated upon exit from Java
12336       programming language methods (including native methods).
12337       This is true whether termination is caused by
12338       executing its return instruction
12339       or by throwing an exception to its caller
12340       (see &lt;paramlink id=&quot;was_popped_by_exception&quot;&gt;&lt;/paramlink&gt;).
12341       &lt;p/&gt;
12342       The &lt;code&gt;method&lt;/code&gt; field uniquely identifies the
12343       method being entered or exited. The &lt;code&gt;frame&lt;/code&gt; field provides
12344       access to the stack frame for the method.
12345       &lt;p/&gt;
12346       The location reported by &lt;functionlink id=&quot;GetFrameLocation&quot;&gt;&lt;/functionlink&gt;
12347       identifies the executable location in the returning method
12348       immediately prior to the return.
12349       &lt;p/&gt;
12350         Enabling method
12351         entry or exit events will significantly degrade performance on many platforms and is thus
12352         not advised for performance critical usage (such as profiling).
12353         &lt;internallink id=&quot;bci&quot;&gt;Bytecode instrumentation&lt;/internallink&gt; should be
12354         used in these cases.
12355     &lt;/description&gt;
12356     &lt;origin&gt;jvmdi&lt;/origin&gt;
12357     &lt;capabilities&gt;
12358       &lt;required id=&quot;can_generate_method_exit_events&quot;&gt;&lt;/required&gt;
12359     &lt;/capabilities&gt;
12360     &lt;parameters&gt;
12361       &lt;param id=&quot;jni_env&quot;&gt;
12362         &lt;outptr&gt;
12363           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12364         &lt;/outptr&gt;
12365           &lt;description&gt;
12366             The JNI environment of the event (current) thread
12367           &lt;/description&gt;
12368       &lt;/param&gt;
12369       &lt;param id=&quot;thread&quot;&gt;
12370         &lt;jthread/&gt;
12371           &lt;description&gt;
12372             Thread exiting the method
12373           &lt;/description&gt;
12374       &lt;/param&gt;
12375       &lt;param id=&quot;klass&quot;&gt;
12376         &lt;jclass method=&quot;method&quot;/&gt;
12377           &lt;description&gt;
12378             Class of the method being exited
12379           &lt;/description&gt;
12380       &lt;/param&gt;
12381       &lt;param id=&quot;method&quot;&gt;
12382         &lt;jmethodID class=&quot;klass&quot;/&gt;
12383           &lt;description&gt;
12384             Method being exited
12385           &lt;/description&gt;
12386       &lt;/param&gt;
12387       &lt;param id=&quot;was_popped_by_exception&quot;&gt;
12388         &lt;jboolean/&gt;
12389         &lt;description&gt;
12390           True if frame was popped by a thrown exception.
12391           False if method exited through its return instruction.
12392         &lt;/description&gt;
12393       &lt;/param&gt;
12394       &lt;param id=&quot;return_value&quot;&gt;
12395         &lt;jvalue/&gt;
12396         &lt;description&gt;
12397           The return value of the method being exited.
12398           Undefined and should not be used if
12399           &lt;paramlink id=&quot;was_popped_by_exception&quot;&gt;&lt;/paramlink&gt;
12400           is true.
12401         &lt;/description&gt;
12402       &lt;/param&gt;
12403     &lt;/parameters&gt;
12404   &lt;/event&gt;
12405 
12406   &lt;event label=&quot;Native Method Bind&quot; phase=&quot;any&quot;
12407          id=&quot;NativeMethodBind&quot; const=&quot;JVMTI_EVENT_NATIVE_METHOD_BIND&quot; num=&quot;67&quot;&gt;
12408     &lt;description&gt;
12409       A Native Method Bind event is sent when a VM binds a
12410       Java programming language native method
12411       to the address of a function that implements the native method.
12412       This will occur when the native method is called for the first time
12413       and also occurs when the JNI function &lt;code&gt;RegisterNatives&lt;/code&gt; is called.
12414       This event allows the bind to be redirected to an agent-specified
12415       proxy function.
12416       This event is not sent when the native method is unbound.
12417       Typically, this proxy function will need to be specific to a
12418       particular method or, to handle the general case, automatically
12419       generated assembly code, since after instrumentation code is
12420       executed the function at the original binding
12421       address will usually be invoked.
12422       The original binding can be restored or the redirection changed
12423       by use of the JNI function &lt;code&gt;RegisterNatives&lt;/code&gt;.
12424       Some events may be sent during the primordial phase, JNI and
12425       most of &lt;jvmti/&gt; cannot be used at this time but the method and
12426       address can be saved for use later.
12427     &lt;/description&gt;
12428     &lt;origin&gt;new&lt;/origin&gt;
12429     &lt;capabilities&gt;
12430       &lt;required id=&quot;can_generate_native_method_bind_events&quot;&gt;&lt;/required&gt;
12431     &lt;/capabilities&gt;
12432     &lt;parameters&gt;
12433       &lt;param id=&quot;jni_env&quot;&gt;
12434         &lt;outptr&gt;
12435           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12436         &lt;/outptr&gt;
12437           &lt;description&gt;
12438             The JNI environment of the event (current) thread
12439             Will be &lt;code&gt;NULL&lt;/code&gt; if sent during the primordial
12440             &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;.
12441           &lt;/description&gt;
12442       &lt;/param&gt;
12443       &lt;param id=&quot;thread&quot;&gt;
12444         &lt;jthread/&gt;
12445           &lt;description&gt;
12446             Thread requesting the bind
12447           &lt;/description&gt;
12448       &lt;/param&gt;
12449       &lt;param id=&quot;klass&quot;&gt;
12450         &lt;jclass method=&quot;method&quot;/&gt;
12451           &lt;description&gt;
12452             Class of the method being bound
12453           &lt;/description&gt;
12454       &lt;/param&gt;
12455       &lt;param id=&quot;method&quot;&gt;
12456         &lt;jmethodID class=&quot;klass&quot;/&gt;
12457           &lt;description&gt;
12458             Native method being bound
12459           &lt;/description&gt;
12460       &lt;/param&gt;
12461       &lt;param id=&quot;address&quot;&gt;
12462         &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
12463         &lt;description&gt;
12464           The address the VM is about to bind to--that is, the
12465           address of the implementation of the native method
12466         &lt;/description&gt;
12467       &lt;/param&gt;
12468       &lt;param id=&quot;new_address_ptr&quot;&gt;
12469         &lt;agentbuf&gt;&lt;void/&gt;&lt;/agentbuf&gt;
12470         &lt;description&gt;
12471           if the referenced address is changed (that is, if
12472           &lt;code&gt;*new_address_ptr&lt;/code&gt; is set), the binding
12473           will instead be made to the supplied address.
12474         &lt;/description&gt;
12475       &lt;/param&gt;
12476     &lt;/parameters&gt;
12477   &lt;/event&gt;
12478 
12479   &lt;event label=&quot;Exception&quot;
12480          id=&quot;Exception&quot; const=&quot;JVMTI_EVENT_EXCEPTION&quot; filtered=&quot;thread&quot; num=&quot;58&quot;&gt;
12481     &lt;description&gt;
12482       Exception events are generated whenever an exception is first detected
12483       in a Java programming language method.
12484       Where &quot;exception&quot; means any &lt;code&gt;java.lang.Throwable&lt;/code&gt;.
12485       The exception may have been thrown by a Java programming language or native
12486       method, but in the case of native methods, the event is not generated
12487       until the exception is first seen by a Java programming language method. If an exception is
12488       set and cleared in a native method (and thus is never visible to Java programming language code),
12489       no exception event is generated.
12490       &lt;p/&gt;
12491       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12492       parameters  uniquely identify the current location
12493       (where the exception was detected) and allow
12494       the mapping to source file and line number when that information is
12495       available. The &lt;code&gt;exception&lt;/code&gt; field identifies the thrown
12496       exception object. The &lt;code&gt;catch_method&lt;/code&gt;
12497       and &lt;code&gt;catch_location&lt;/code&gt; identify the location of the catch clause,
12498       if any, that handles the thrown exception. If there is no such catch clause,
12499       each field is set to 0. There is no guarantee that the thread will ever
12500       reach this catch clause. If there are native methods on the call stack
12501       between the throw location and the catch clause, the exception may
12502       be reset by one of those native methods.
12503       Similarly, exceptions that are reported as uncaught (&lt;code&gt;catch_klass&lt;/code&gt;
12504       et al. set to 0) may in fact be caught by native code.
12505       Agents can check for these occurrences by monitoring
12506       &lt;eventlink id=&quot;ExceptionCatch&quot;&gt;&lt;/eventlink&gt; events.
12507       Note that finally clauses are implemented as catch and re-throw. Therefore they
12508       will be reported in the catch location.
12509     &lt;/description&gt;
12510     &lt;origin&gt;jvmdi&lt;/origin&gt;
12511     &lt;capabilities&gt;
12512       &lt;required id=&quot;can_generate_exception_events&quot;&gt;&lt;/required&gt;
12513     &lt;/capabilities&gt;
12514     &lt;parameters&gt;
12515       &lt;param id=&quot;jni_env&quot;&gt;
12516         &lt;outptr&gt;
12517           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12518         &lt;/outptr&gt;
12519           &lt;description&gt;
12520             The JNI environment of the event (current) thread
12521           &lt;/description&gt;
12522       &lt;/param&gt;
12523       &lt;param id=&quot;thread&quot;&gt;
12524         &lt;jthread/&gt;
12525           &lt;description&gt;
12526             Thread generating the exception
12527           &lt;/description&gt;
12528       &lt;/param&gt;
12529       &lt;param id=&quot;klass&quot;&gt;
12530         &lt;jclass method=&quot;method&quot;/&gt;
12531           &lt;description&gt;
12532             Class generating the exception
12533           &lt;/description&gt;
12534       &lt;/param&gt;
12535       &lt;param id=&quot;method&quot;&gt;
12536         &lt;jmethodID class=&quot;klass&quot;/&gt;
12537           &lt;description&gt;
12538             Method generating the exception
12539           &lt;/description&gt;
12540       &lt;/param&gt;
12541       &lt;param id=&quot;location&quot;&gt;
12542         &lt;jlocation/&gt;
12543         &lt;description&gt;
12544           Location where exception occurred
12545         &lt;/description&gt;
12546       &lt;/param&gt;
12547       &lt;param id=&quot;exception&quot;&gt;
12548         &lt;jobject/&gt;
12549           &lt;description&gt;
12550             The exception being thrown
12551           &lt;/description&gt;
12552       &lt;/param&gt;
12553       &lt;param id=&quot;catch_klass&quot;&gt;
12554         &lt;jclass method=&quot;catch_method&quot;/&gt;
12555           &lt;description&gt;
12556             Class that will catch the exception, or &lt;code&gt;NULL&lt;/code&gt; if no known catch
12557           &lt;/description&gt;
12558       &lt;/param&gt;
12559       &lt;param id=&quot;catch_method&quot;&gt;
12560         &lt;jmethodID class=&quot;catch_klass&quot;/&gt;
12561           &lt;description&gt;
12562             Method that will catch the exception, or &lt;code&gt;NULL&lt;/code&gt; if no known catch
12563           &lt;/description&gt;
12564       &lt;/param&gt;
12565       &lt;param id=&quot;catch_location&quot;&gt;
12566         &lt;jlocation/&gt;
12567         &lt;description&gt;
12568           location which will catch the exception or zero if no known catch
12569         &lt;/description&gt;
12570       &lt;/param&gt;
12571     &lt;/parameters&gt;
12572   &lt;/event&gt;
12573 
12574   &lt;event label=&quot;Exception Catch&quot;
12575          id=&quot;ExceptionCatch&quot; const=&quot;JVMTI_EVENT_EXCEPTION_CATCH&quot; filtered=&quot;thread&quot; num=&quot;59&quot;&gt;
12576     &lt;description&gt;
12577       Exception catch events are generated whenever a thrown exception is caught.
12578       Where &quot;exception&quot; means any &lt;code&gt;java.lang.Throwable&lt;/code&gt;.
12579       If the exception is caught in a Java programming language method, the event is generated
12580       when the catch clause is reached. If the exception is caught in a native
12581       method, the event is generated as soon as control is returned to a Java programming language
12582       method. Exception catch events are generated for any exception for which
12583       a throw was detected in a Java programming language method.
12584       Note that finally clauses are implemented as catch and re-throw. Therefore they
12585       will generate exception catch events.
12586       &lt;p/&gt;
12587       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12588       parameters uniquely identify the current location
12589       and allow the mapping to source file and line number when that information is
12590       available. For exceptions caught in a Java programming language method, the
12591       &lt;code&gt;exception&lt;/code&gt; object identifies the exception object. Exceptions
12592       caught in native methods are not necessarily available by the time the
12593       exception catch is reported, so the &lt;code&gt;exception&lt;/code&gt; field is set
12594       to &lt;code&gt;NULL&lt;/code&gt;.
12595     &lt;/description&gt;
12596     &lt;origin&gt;jvmdi&lt;/origin&gt;
12597     &lt;capabilities&gt;
12598       &lt;required id=&quot;can_generate_exception_events&quot;&gt;&lt;/required&gt;
12599     &lt;/capabilities&gt;
12600     &lt;parameters&gt;
12601       &lt;param id=&quot;jni_env&quot;&gt;
12602         &lt;outptr&gt;
12603           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12604         &lt;/outptr&gt;
12605           &lt;description&gt;
12606             The JNI environment of the event (current) thread
12607           &lt;/description&gt;
12608       &lt;/param&gt;
12609       &lt;param id=&quot;thread&quot;&gt;
12610         &lt;jthread/&gt;
12611           &lt;description&gt;
12612             Thread catching the exception
12613           &lt;/description&gt;
12614       &lt;/param&gt;
12615       &lt;param id=&quot;klass&quot;&gt;
12616         &lt;jclass method=&quot;method&quot;/&gt;
12617           &lt;description&gt;
12618             Class catching the exception
12619           &lt;/description&gt;
12620       &lt;/param&gt;
12621       &lt;param id=&quot;method&quot;&gt;
12622         &lt;jmethodID class=&quot;klass&quot;/&gt;
12623           &lt;description&gt;
12624             Method catching the exception
12625           &lt;/description&gt;
12626       &lt;/param&gt;
12627       &lt;param id=&quot;location&quot;&gt;
12628         &lt;jlocation/&gt;
12629         &lt;description&gt;
12630           Location where exception is being caught
12631         &lt;/description&gt;
12632       &lt;/param&gt;
12633       &lt;param id=&quot;exception&quot;&gt;
12634         &lt;jobject/&gt;
12635           &lt;description&gt;
12636             Exception being caught
12637           &lt;/description&gt;
12638       &lt;/param&gt;
12639     &lt;/parameters&gt;
12640   &lt;/event&gt;
12641 
12642   &lt;event label=&quot;Thread Start&quot;
12643          id=&quot;ThreadStart&quot; const=&quot;JVMTI_EVENT_THREAD_START&quot; num=&quot;52&quot; phase=&quot;start&quot;&gt;
12644     &lt;description&gt;
12645       Thread start events are generated by a new thread before its initial
12646       method executes.
12647       &lt;p/&gt;
12648       A thread may be listed in the array returned by
12649       &lt;functionlink id=&quot;GetAllThreads&quot;&gt;&lt;/functionlink&gt;
12650       before its thread start event is generated.
12651       It is possible for other events to be generated
12652       on a thread before its thread start event.
12653       &lt;p/&gt;
12654       The event is sent on the newly started &lt;paramlink id=&quot;thread&quot;&gt;&lt;/paramlink&gt;.
12655     &lt;/description&gt;
12656     &lt;origin&gt;jvmdi&lt;/origin&gt;
12657     &lt;capabilities&gt;
12658     &lt;/capabilities&gt;
12659     &lt;parameters&gt;
12660       &lt;param id=&quot;jni_env&quot;&gt;
12661         &lt;outptr&gt;
12662           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12663         &lt;/outptr&gt;
12664           &lt;description&gt;
12665             The JNI environment of the event (current) thread.
12666           &lt;/description&gt;
12667       &lt;/param&gt;
12668       &lt;param id=&quot;thread&quot;&gt;
12669         &lt;jthread/&gt;
12670           &lt;description&gt;
12671             Thread starting
12672           &lt;/description&gt;
12673       &lt;/param&gt;
12674     &lt;/parameters&gt;
12675   &lt;/event&gt;
12676 
12677   &lt;event label=&quot;Thread End&quot;
12678          id=&quot;ThreadEnd&quot; const=&quot;JVMTI_EVENT_THREAD_END&quot; filtered=&quot;thread&quot; num=&quot;53&quot; phase=&quot;start&quot;&gt;
12679     &lt;description&gt;
12680       Thread end events are generated by a terminating thread
12681       after its initial method has finished execution.
12682       &lt;p/&gt;
12683       A thread may be listed in the array returned by
12684       &lt;functionlink id=&quot;GetAllThreads&quot;&gt;&lt;/functionlink&gt;
12685       after its thread end event is generated.
12686       No events are generated on a thread
12687       after its thread end event.
12688       &lt;p/&gt;
12689       The event is sent on the dying &lt;paramlink id=&quot;thread&quot;&gt;&lt;/paramlink&gt;.
12690     &lt;/description&gt;
12691     &lt;origin&gt;jvmdi&lt;/origin&gt;
12692     &lt;capabilities&gt;
12693     &lt;/capabilities&gt;
12694     &lt;parameters&gt;
12695       &lt;param id=&quot;jni_env&quot;&gt;
12696         &lt;outptr&gt;
12697           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12698         &lt;/outptr&gt;
12699           &lt;description&gt;
12700             The JNI environment of the event (current) thread.
12701           &lt;/description&gt;
12702       &lt;/param&gt;
12703       &lt;param id=&quot;thread&quot;&gt;
12704         &lt;jthread/&gt;
12705           &lt;description&gt;
12706             Thread ending
12707           &lt;/description&gt;
12708       &lt;/param&gt;
12709     &lt;/parameters&gt;
12710   &lt;/event&gt;
12711 
12712   &lt;event label=&quot;Class Load&quot;
12713          id=&quot;ClassLoad&quot; const=&quot;JVMTI_EVENT_CLASS_LOAD&quot; filtered=&quot;thread&quot; phase=&quot;start&quot; num=&quot;55&quot;&gt;
12714     &lt;description&gt;
12715       A class load event is generated when a class is first loaded. The order
12716       of class load events generated by a particular thread are guaranteed
12717       to match the order of class loading within that thread.
12718       Array class creation does not generate a class load event.
12719       The creation of a primitive class (for example, java.lang.Integer.TYPE)
12720       does not generate a class load event.
12721       &lt;p/&gt;
12722       This event is sent at an early stage in loading the class. As
12723       a result the class should be used carefully.  Note, for example,
12724       that methods and fields are not yet loaded, so queries for methods,
12725       fields, subclasses, and so on will not give correct results.
12726       See &quot;Loading of Classes and Interfaces&quot; in the &lt;i&gt;Java Language
12727       Specification&lt;/i&gt;.  For most
12728       purposes the &lt;eventlink id=&quot;ClassPrepare&quot;&gt;&lt;/eventlink&gt; event will
12729       be more useful.
12730     &lt;/description&gt;
12731     &lt;origin&gt;jvmdi&lt;/origin&gt;
12732     &lt;capabilities&gt;
12733     &lt;/capabilities&gt;
12734     &lt;parameters&gt;
12735       &lt;param id=&quot;jni_env&quot;&gt;
12736         &lt;outptr&gt;
12737           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12738         &lt;/outptr&gt;
12739           &lt;description&gt;
12740             The JNI environment of the event (current) thread
12741           &lt;/description&gt;
12742       &lt;/param&gt;
12743       &lt;param id=&quot;thread&quot;&gt;
12744         &lt;jthread/&gt;
12745           &lt;description&gt;
12746             Thread loading the class
12747           &lt;/description&gt;
12748       &lt;/param&gt;
12749       &lt;param id=&quot;klass&quot;&gt;
12750         &lt;jclass/&gt;
12751           &lt;description&gt;
12752             Class being loaded
12753           &lt;/description&gt;
12754       &lt;/param&gt;
12755     &lt;/parameters&gt;
12756   &lt;/event&gt;
12757 
12758   &lt;elide&gt;
12759   &lt;event label=&quot;Class Unload&quot;
12760          id=&quot;ClassUnload&quot; const=&quot;JVMTI_EVENT_CLASS_UNLOAD&quot; num=&quot;57&quot;&gt;
12761     &lt;description&gt;
12762       A class unload event is generated when the class is about to be unloaded.
12763       Class unload events take place during garbage collection and must be
12764       handled extremely carefully. The garbage collector holds many locks
12765       and has suspended all other threads, so the event handler cannot depend
12766       on the ability to acquire any locks. The class unload event handler should
12767       do as little as possible, perhaps by queuing information to be processed
12768       later.  In particular, the &lt;code&gt;jclass&lt;/code&gt; should be used only in
12769       the JNI function &lt;code&gt;isSameObject&lt;/code&gt; or in the following &lt;jvmti/&gt; functions:
12770       &lt;ul&gt;
12771         &lt;li&gt;&lt;functionlink id=&quot;GetClassSignature&quot;&gt;&lt;/functionlink&gt;&lt;/li&gt;
12772         &lt;li&gt;&lt;functionlink id=&quot;GetSourceFileName&quot;&gt;&lt;/functionlink&gt;&lt;/li&gt;
12773         &lt;li&gt;&lt;functionlink id=&quot;IsInterface&quot;&gt;&lt;/functionlink&gt;&lt;/li&gt;
12774         &lt;li&gt;&lt;functionlink id=&quot;IsArrayClass&quot;&gt;&lt;/functionlink&gt;&lt;/li&gt;
12775       &lt;/ul&gt;
12776     &lt;/description&gt;
12777     &lt;origin&gt;jvmdi&lt;/origin&gt;
12778     &lt;capabilities&gt;
12779     &lt;/capabilities&gt;
12780     &lt;parameters&gt;
12781       &lt;param id=&quot;jni_env&quot;&gt;
12782         &lt;outptr&gt;
12783           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12784         &lt;/outptr&gt;
12785           &lt;description&gt;
12786             The JNI environment of the event (current) thread
12787           &lt;/description&gt;
12788       &lt;/param&gt;
12789       &lt;param id=&quot;thread&quot;&gt;
12790         &lt;jthread/&gt;
12791           &lt;description&gt;
12792             Thread generating the class unload
12793           &lt;/description&gt;
12794       &lt;/param&gt;
12795       &lt;param id=&quot;klass&quot;&gt;
12796         &lt;jclass/&gt;
12797           &lt;description&gt;
12798             Class being unloaded
12799           &lt;/description&gt;
12800       &lt;/param&gt;
12801     &lt;/parameters&gt;
12802   &lt;/event&gt;
12803   &lt;/elide&gt;
12804 
12805   &lt;event label=&quot;Class Prepare&quot;
12806          id=&quot;ClassPrepare&quot; const=&quot;JVMTI_EVENT_CLASS_PREPARE&quot; filtered=&quot;thread&quot; phase=&quot;start&quot; num=&quot;56&quot;&gt;
12807     &lt;description&gt;
12808       A class prepare event is generated when class preparation is complete.
12809       At this point, class fields, methods, and implemented interfaces are
12810       available, and no code from the class has been executed. Since array
12811       classes never have fields or methods, class prepare events are not
12812       generated for them. Class prepare events are not generated for
12813       primitive classes (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
12814     &lt;/description&gt;
12815     &lt;origin&gt;jvmdi&lt;/origin&gt;
12816     &lt;capabilities&gt;
12817     &lt;/capabilities&gt;
12818     &lt;parameters&gt;
12819       &lt;param id=&quot;jni_env&quot;&gt;
12820         &lt;outptr&gt;
12821           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12822         &lt;/outptr&gt;
12823           &lt;description&gt;
12824             The JNI environment of the event (current) thread
12825           &lt;/description&gt;
12826       &lt;/param&gt;
12827       &lt;param id=&quot;thread&quot;&gt;
12828         &lt;jthread/&gt;
12829           &lt;description&gt;
12830             Thread generating the class prepare
12831           &lt;/description&gt;
12832       &lt;/param&gt;
12833       &lt;param id=&quot;klass&quot;&gt;
12834         &lt;jclass/&gt;
12835           &lt;description&gt;
12836             Class being prepared
12837           &lt;/description&gt;
12838       &lt;/param&gt;
12839     &lt;/parameters&gt;
12840   &lt;/event&gt;
12841 
12842   &lt;event label=&quot;Class File Load Hook&quot; phase=&quot;any&quot;
12843          id=&quot;ClassFileLoadHook&quot; const=&quot;JVMTI_EVENT_CLASS_FILE_LOAD_HOOK&quot; num=&quot;54&quot;&gt;
12844     &lt;description&gt;
12845       This event is sent when the VM obtains class file data,
12846       but before it constructs
12847       the in-memory representation for that class.
12848       This event is also sent when the class is being modified by the
12849       &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; function or
12850       the &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; function,
12851       called in any &lt;jvmti/&gt; environment.
12852       The agent can instrument
12853       the existing class file data sent by the VM to include profiling/debugging hooks.
12854       See the description of
12855       &lt;internallink id=&quot;bci&quot;&gt;bytecode instrumentation&lt;/internallink&gt;
12856       for usage information.
12857       &lt;p/&gt;
12858     When the capabilities
12859     &lt;internallink id=&quot;jvmtiCapabilities.can_generate_early_class_hook_events&quot;&gt;
12860     &lt;code&gt;can_generate_early_class_hook_events&lt;/code&gt;&lt;/internallink&gt; and
12861     &lt;internallink id=&quot;jvmtiCapabilities.can_generate_all_class_hook_events&quot;&gt;
12862     &lt;code&gt;can_generate_all_class_hook_events&lt;/code&gt;&lt;/internallink&gt;
12863     are enabled then this event may be sent in the primordial phase.
12864     Otherwise, this event may be sent before the VM is initialized (the start
12865     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;).
12866     Some classes might not be compatible
12867     with the function (eg. ROMized classes or implementation defined classes) and this event will
12868     not be generated for these classes.
12869     &lt;p/&gt;
12870     The agent must allocate the space for the modified
12871     class file data buffer
12872     using the memory allocation function
12873     &lt;functionlink id=&quot;Allocate&quot;&gt;&lt;/functionlink&gt; because the
12874     VM is responsible for freeing the new class file data buffer
12875     using &lt;functionlink id=&quot;Deallocate&quot;&gt;&lt;/functionlink&gt;.
12876     &lt;p/&gt;
12877     If the agent wishes to modify the class file, it must set
12878     &lt;code&gt;new_class_data&lt;/code&gt; to point
12879     to the newly instrumented class file data buffer and set
12880     &lt;code&gt;new_class_data_len&lt;/code&gt; to the length of that
12881     buffer before returning
12882     from this call.  If no modification is desired, the agent simply
12883     does not set &lt;code&gt;new_class_data&lt;/code&gt;.  If multiple agents
12884     have enabled this event the results are chained. That is, if
12885     &lt;code&gt;new_class_data&lt;/code&gt; has been set, it becomes the
12886     &lt;code&gt;class_data&lt;/code&gt; for the next agent.
12887     &lt;p/&gt;
12888     When handling a class load in the live phase, then the
12889     &lt;functionlink id=&quot;GetNamedModule&quot;&gt;&lt;/functionlink&gt;
12890     function can be used to map class loader and a package name to a module.
12891     When a class is being redefined or retransformed then
12892     &lt;code&gt;class_being_redefined&lt;/code&gt; is non &lt;code&gt;NULL&lt;/code&gt; and so
12893     the JNI &lt;code&gt;GetModule&lt;/code&gt; function can also be used
12894     to obtain the Module.
12895     &lt;p/&gt;
12896     The order that this event is sent to each environment differs
12897     from other events.
12898     This event is sent to environments in the following order:
12899     &lt;ul&gt;
12900       &lt;li&gt;&lt;fieldlink id=&quot;can_retransform_classes&quot;
12901                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
12902                                                 incapable&lt;/fieldlink&gt;
12903           environments, in the
12904           order in which they were created
12905       &lt;/li&gt;
12906       &lt;li&gt;&lt;fieldlink id=&quot;can_retransform_classes&quot;
12907                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
12908                                                 capable&lt;/fieldlink&gt;
12909           environments, in the
12910           order in which they were created
12911       &lt;/li&gt;
12912     &lt;/ul&gt;
12913     When triggered by &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;,
12914     this event is sent only to &lt;fieldlink id=&quot;can_retransform_classes&quot;
12915                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
12916                                                 capable&lt;/fieldlink&gt;
12917     environments.
12918   &lt;/description&gt;
12919   &lt;origin&gt;jvmpi&lt;/origin&gt;
12920     &lt;capabilities&gt;
12921       &lt;capability id=&quot;can_generate_all_class_hook_events&quot;&gt;&lt;/capability&gt;
12922       &lt;capability id=&quot;can_generate_early_class_hook_events&quot;&gt;&lt;/capability&gt;
12923     &lt;/capabilities&gt;
12924     &lt;parameters&gt;
12925       &lt;param id=&quot;jni_env&quot;&gt;
12926         &lt;outptr&gt;
12927           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12928         &lt;/outptr&gt;
12929           &lt;description&gt;
12930             The JNI environment of the event (current) thread.
12931           &lt;/description&gt;
12932       &lt;/param&gt;
12933       &lt;param id=&quot;class_being_redefined&quot;&gt;
12934         &lt;jclass/&gt;
12935         &lt;description&gt;
12936           The class being
12937           &lt;functionlink id=&quot;RedefineClasses&quot;&gt;redefined&lt;/functionlink&gt; or
12938           &lt;functionlink id=&quot;RetransformClasses&quot;&gt;retransformed&lt;/functionlink&gt;.
12939           &lt;code&gt;NULL&lt;/code&gt; if sent by class load.
12940         &lt;/description&gt;
12941       &lt;/param&gt;
12942       &lt;param id=&quot;loader&quot;&gt;
12943         &lt;jobject/&gt;
12944           &lt;description&gt;
12945             The class loader loading the class.
12946             &lt;code&gt;NULL&lt;/code&gt; if the bootstrap class loader.
12947           &lt;/description&gt;
12948       &lt;/param&gt;
12949       &lt;param id=&quot;name&quot;&gt;
12950         &lt;vmbuf&gt;&lt;char/&gt;&lt;/vmbuf&gt;
12951         &lt;description&gt;
12952             Name of class being loaded as a VM internal qualified name
12953             (for example, &quot;java/util/List&quot;), encoded as a
12954             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
12955             Note: if the class is defined with a &lt;code&gt;NULL&lt;/code&gt; name or
12956             without a name specified, &lt;code&gt;name&lt;/code&gt; will be &lt;code&gt;NULL&lt;/code&gt;.
12957         &lt;/description&gt;
12958       &lt;/param&gt;
12959       &lt;param id=&quot;protection_domain&quot;&gt;
12960         &lt;jobject/&gt;
12961         &lt;description&gt;
12962           The &lt;code&gt;ProtectionDomain&lt;/code&gt; of the class.
12963         &lt;/description&gt;
12964       &lt;/param&gt;
12965       &lt;param id=&quot;class_data_len&quot;&gt;
12966         &lt;jint/&gt;
12967         &lt;description&gt;
12968           Length of current class file data buffer.
12969         &lt;/description&gt;
12970       &lt;/param&gt;
12971       &lt;param id=&quot;class_data&quot;&gt;
12972         &lt;vmbuf&gt;&lt;uchar/&gt;&lt;/vmbuf&gt;
12973         &lt;description&gt;
12974           Pointer to the current class file data buffer.
12975         &lt;/description&gt;
12976       &lt;/param&gt;
12977       &lt;param id=&quot;new_class_data_len&quot;&gt;
12978         &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
12979         &lt;description&gt;
12980           Pointer to the length of the new class file data buffer.
12981         &lt;/description&gt;
12982       &lt;/param&gt;
12983       &lt;param id=&quot;new_class_data&quot;&gt;
12984         &lt;agentbuf incount=&quot;new_class_data_len&quot;&gt;&lt;uchar/&gt;&lt;/agentbuf&gt;
12985         &lt;description&gt;
12986           Pointer to the pointer to the instrumented class file data buffer.
12987         &lt;/description&gt;
12988       &lt;/param&gt;
12989     &lt;/parameters&gt;
12990   &lt;/event&gt;
12991 
12992   &lt;event label=&quot;VM Start Event&quot;
12993          id=&quot;VMStart&quot; const=&quot;JVMTI_EVENT_VM_START&quot; num=&quot;57&quot; phase=&quot;start&quot;&gt;
12994     &lt;description&gt;
12995       The VM start event signals the start of the VM.
12996       At this time JNI is live but the VM is not yet fully initialized.
12997       Once this event is generated, the agent is free to call any JNI function.
12998       This event signals the beginning of the start phase,
12999       &lt;jvmti/&gt; functions permitted in the start phase may be called.
13000       &lt;p/&gt;
13001       The timing of this event may depend on whether the agent has added the
13002       &lt;internallink id=&quot;jvmtiCapabilities.can_generate_early_vmstart&quot;&gt;
13003       &lt;code&gt;can_generate_early_vmstart&lt;/code&gt;&lt;/internallink&gt; capability or not.
13004       If the capability has been added then the VM posts the event as early
13005       as possible. The VM is capable of executing bytecode but it may not have
13006       initialized to the point where it can load classes in modules other than
13007       &lt;code&gt;java.base&lt;/code&gt;, or even arbitrary classes in &lt;code&gt;java.base&lt;/code&gt;.
13008       Agents that do load-time instrumentation in this
13009       phase must take great care when instrumenting code that potentially
13010       executes in this phase. Extreme care should also be taken with JNI
13011       &lt;code&gt;FindClass&lt;/code&gt; as it may not be possible to load classes and attempts
13012       to do so may result in unpredictable behavior, maybe even stability issues
13013       on some VM implementations.
13014       If the capability has not been added then the VM delays posting this
13015       event until it is capable of loading classes in modules other than
13016       &lt;code&gt;java.base&lt;/code&gt; or the VM has completed its initialization.
13017       Agents that create more than one JVM TI environment, where the
13018       capability is added to some but not all environments, may observe the
13019       start phase beginning earlier in the JVM TI environments that possess
13020       the capability.
13021       &lt;p/&gt;
13022       In the case of VM start-up failure, this event will not be sent.
13023     &lt;/description&gt;
13024     &lt;origin&gt;jvmdi&lt;/origin&gt;
13025     &lt;capabilities&gt;
13026     &lt;/capabilities&gt;
13027     &lt;parameters&gt;
13028       &lt;param id=&quot;jni_env&quot;&gt;
13029         &lt;outptr&gt;
13030           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13031         &lt;/outptr&gt;
13032           &lt;description&gt;
13033             The JNI environment of the event (current) thread.
13034           &lt;/description&gt;
13035       &lt;/param&gt;
13036     &lt;/parameters&gt;
13037   &lt;/event&gt;
13038 
13039   &lt;event label=&quot;VM Initialization Event&quot;
13040          id=&quot;VMInit&quot; const=&quot;JVMTI_EVENT_VM_INIT&quot; num=&quot;50&quot;&gt;
13041     &lt;description&gt;
13042       The VM initialization event signals the completion of VM initialization. Once
13043       this event is generated, the agent is free to call any JNI or &lt;jvmti/&gt;
13044       function. The VM initialization event can be preceded by or can be concurrent
13045       with other events, but
13046       the preceding events should be handled carefully, if at all, because the
13047       VM has not completed its initialization. The thread start event for the
13048       main application thread is guaranteed not to occur until after the
13049       handler for the VM initialization event returns.
13050       &lt;p/&gt;
13051       In the case of VM start-up failure, this event will not be sent.
13052     &lt;/description&gt;
13053     &lt;origin&gt;jvmdi&lt;/origin&gt;
13054     &lt;capabilities&gt;
13055     &lt;/capabilities&gt;
13056     &lt;parameters&gt;
13057       &lt;param id=&quot;jni_env&quot;&gt;
13058         &lt;outptr&gt;
13059           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13060         &lt;/outptr&gt;
13061           &lt;description&gt;
13062             The JNI environment of the event (current) thread.
13063           &lt;/description&gt;
13064       &lt;/param&gt;
13065       &lt;param id=&quot;thread&quot;&gt;
13066         &lt;jthread/&gt;
13067           &lt;description&gt;
13068             The initial thread
13069           &lt;/description&gt;
13070       &lt;/param&gt;
13071     &lt;/parameters&gt;
13072   &lt;/event&gt;
13073 
13074   &lt;event label=&quot;VM Death Event&quot;
13075          id=&quot;VMDeath&quot; const=&quot;JVMTI_EVENT_VM_DEATH&quot; num=&quot;51&quot;&gt;
13076     &lt;description&gt;
13077       The VM death event notifies the agent of the termination of the VM.
13078       No events will occur after the VMDeath event.
13079       &lt;p/&gt;
13080       In the case of VM start-up failure, this event will not be sent.
13081       Note that &lt;internallink id=&quot;onunload&quot;&gt;Agent_OnUnload&lt;/internallink&gt;
13082       will still be called in these cases.
13083     &lt;/description&gt;
13084     &lt;origin&gt;jvmdi&lt;/origin&gt;
13085     &lt;capabilities&gt;
13086     &lt;/capabilities&gt;
13087     &lt;parameters&gt;
13088       &lt;param id=&quot;jni_env&quot;&gt;
13089         &lt;outptr&gt;
13090           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13091         &lt;/outptr&gt;
13092           &lt;description&gt;
13093             The JNI environment of the event (current) thread
13094           &lt;/description&gt;
13095       &lt;/param&gt;
13096     &lt;/parameters&gt;
13097   &lt;/event&gt;
13098 
13099   &lt;event label=&quot;Compiled Method Load&quot; phase=&quot;start&quot;
13100          id=&quot;CompiledMethodLoad&quot; const=&quot;JVMTI_EVENT_COMPILED_METHOD_LOAD&quot; num=&quot;68&quot;&gt;
13101     &lt;description&gt;
13102       Sent when a method is compiled and loaded into memory by the VM.
13103       If it is unloaded, the &lt;eventlink id=&quot;CompiledMethodUnload&quot;/&gt; event is sent.
13104       If it is moved, the &lt;eventlink id=&quot;CompiledMethodUnload&quot;/&gt; event is sent,
13105       followed by a new &lt;code&gt;CompiledMethodLoad&lt;/code&gt; event.
13106       Note that a single method may have multiple compiled forms, and that
13107       this event will be sent for each form.
13108       Note also that several methods may be inlined into a single
13109       address range, and that this event will be sent for each method.
13110       &lt;p/&gt;
13111       These events can be sent after their initial occurrence with
13112       &lt;functionlink id=&quot;GenerateEvents&quot;&gt;&lt;/functionlink&gt;.
13113     &lt;/description&gt;
13114     &lt;origin&gt;jvmpi&lt;/origin&gt;
13115     &lt;typedef id=&quot;jvmtiAddrLocationMap&quot; label=&quot;Native address to location entry&quot;&gt;
13116       &lt;field id=&quot;start_address&quot;&gt;
13117         &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13118         &lt;description&gt;
13119           Starting native address of code corresponding to a location
13120         &lt;/description&gt;
13121       &lt;/field&gt;
13122       &lt;field id=&quot;location&quot;&gt;
13123         &lt;jlocation/&gt;
13124         &lt;description&gt;
13125           Corresponding location. See
13126           &lt;functionlink id=&quot;GetJLocationFormat&quot;&gt;&lt;/functionlink&gt;
13127           for the meaning of location.
13128         &lt;/description&gt;
13129       &lt;/field&gt;
13130     &lt;/typedef&gt;
13131     &lt;capabilities&gt;
13132       &lt;required id=&quot;can_generate_compiled_method_load_events&quot;&gt;&lt;/required&gt;
13133     &lt;/capabilities&gt;
13134     &lt;parameters&gt;
13135       &lt;param id=&quot;klass&quot;&gt;
13136         &lt;jclass method=&quot;method&quot;/&gt;
13137           &lt;description&gt;
13138             Class of the method being compiled and loaded
13139           &lt;/description&gt;
13140       &lt;/param&gt;
13141       &lt;param id=&quot;method&quot;&gt;
13142         &lt;jmethodID class=&quot;klass&quot;/&gt;
13143           &lt;description&gt;
13144             Method being compiled and loaded
13145           &lt;/description&gt;
13146       &lt;/param&gt;
13147       &lt;param id=&quot;code_size&quot;&gt;
13148         &lt;jint/&gt;
13149         &lt;description&gt;
13150           Size of compiled code
13151         &lt;/description&gt;
13152       &lt;/param&gt;
13153       &lt;param id=&quot;code_addr&quot;&gt;
13154         &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13155         &lt;description&gt;
13156           Address where compiled method code is loaded
13157         &lt;/description&gt;
13158       &lt;/param&gt;
13159       &lt;param id=&quot;map_length&quot;&gt;
13160         &lt;jint/&gt;
13161         &lt;description&gt;
13162           Number of &lt;typelink id=&quot;jvmtiAddrLocationMap&quot;&gt;&lt;/typelink&gt;
13163           entries in the address map.
13164           Zero if mapping information cannot be supplied.
13165         &lt;/description&gt;
13166       &lt;/param&gt;
13167       &lt;param id=&quot;map&quot;&gt;
13168         &lt;vmbuf&gt;&lt;struct&gt;jvmtiAddrLocationMap&lt;/struct&gt;&lt;/vmbuf&gt;
13169         &lt;description&gt;
13170           Map from native addresses to location.
13171           The native address range of each entry is from
13172           &lt;fieldlink id=&quot;start_address&quot; struct=&quot;jvmtiAddrLocationMap&quot;&gt;&lt;/fieldlink&gt;
13173           to &lt;code&gt;start_address-1&lt;/code&gt; of the next entry.
13174           &lt;code&gt;NULL&lt;/code&gt; if mapping information cannot be supplied.
13175         &lt;/description&gt;
13176       &lt;/param&gt;
13177       &lt;param id=&quot;compile_info&quot;&gt;
13178         &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13179         &lt;description&gt;
13180           VM-specific compilation information.
13181           The referenced compile information is managed by the VM
13182           and must not depend on the agent for collection.
13183           A VM implementation defines the content and lifetime
13184           of the information.
13185         &lt;/description&gt;
13186       &lt;/param&gt;
13187     &lt;/parameters&gt;
13188   &lt;/event&gt;
13189 
13190   &lt;event label=&quot;Compiled Method Unload&quot; phase=&quot;start&quot;
13191          id=&quot;CompiledMethodUnload&quot; const=&quot;JVMTI_EVENT_COMPILED_METHOD_UNLOAD&quot; num=&quot;69&quot;&gt;
13192     &lt;description&gt;
13193       Sent when a compiled method is unloaded from memory.
13194       This event might not be sent on the thread which performed the unload.
13195       This event may be sent sometime after the unload occurs, but
13196       will be sent before the memory is reused
13197       by a newly generated compiled method. This event may be sent after
13198       the class is unloaded.
13199     &lt;/description&gt;
13200     &lt;origin&gt;jvmpi&lt;/origin&gt;
13201     &lt;capabilities&gt;
13202       &lt;required id=&quot;can_generate_compiled_method_load_events&quot;&gt;&lt;/required&gt;
13203     &lt;/capabilities&gt;
13204     &lt;parameters&gt;
13205       &lt;param id=&quot;klass&quot;&gt;
13206         &lt;jclass method=&quot;method&quot;/&gt;
13207           &lt;description&gt;
13208             Class of the compiled method being unloaded.
13209           &lt;/description&gt;
13210       &lt;/param&gt;
13211       &lt;param id=&quot;method&quot;&gt;
13212         &lt;jmethodID class=&quot;klass&quot;/&gt;
13213           &lt;description&gt;
13214             Compiled method being unloaded.
13215             For identification of the compiled method only -- the class
13216             may be unloaded and therefore the method should not be used
13217             as an argument to further JNI or &lt;jvmti/&gt; functions.
13218           &lt;/description&gt;
13219       &lt;/param&gt;
13220       &lt;param id=&quot;code_addr&quot;&gt;
13221         &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13222         &lt;description&gt;
13223           Address where compiled method code was loaded.
13224           For identification of the compiled method only --
13225           the space may have been reclaimed.
13226         &lt;/description&gt;
13227       &lt;/param&gt;
13228     &lt;/parameters&gt;
13229   &lt;/event&gt;
13230 
13231   &lt;event label=&quot;Dynamic Code Generated&quot; phase=&quot;any&quot;
13232          id=&quot;DynamicCodeGenerated&quot; const=&quot;JVMTI_EVENT_DYNAMIC_CODE_GENERATED&quot; num=&quot;70&quot;&gt;
13233     &lt;description&gt;
13234       Sent when a component of the virtual machine is generated dynamically.
13235       This does not correspond to Java programming language code that is
13236       compiled--see &lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;/eventlink&gt;.
13237       This is for native code--for example, an interpreter that is generated
13238       differently depending on command-line options.
13239       &lt;p/&gt;
13240       Note that this event has no controlling capability.
13241       If a VM cannot generate these events, it simply does not send any.
13242       &lt;p/&gt;
13243       These events can be sent after their initial occurrence with
13244       &lt;functionlink id=&quot;GenerateEvents&quot;&gt;&lt;/functionlink&gt;.
13245     &lt;/description&gt;
13246     &lt;origin&gt;jvmpi&lt;/origin&gt;
13247     &lt;capabilities&gt;
13248     &lt;/capabilities&gt;
13249     &lt;parameters&gt;
13250       &lt;param id=&quot;name&quot;&gt;
13251         &lt;vmbuf&gt;&lt;char/&gt;&lt;/vmbuf&gt;
13252         &lt;description&gt;
13253           Name of the code, encoded as a
13254           &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
13255           Intended for display to an end-user.
13256           The name might not be unique.
13257         &lt;/description&gt;
13258       &lt;/param&gt;
13259       &lt;param id=&quot;address&quot;&gt;
13260         &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13261         &lt;description&gt;
13262           Native address of the code
13263         &lt;/description&gt;
13264       &lt;/param&gt;
13265       &lt;param id=&quot;length&quot;&gt;
13266         &lt;jint/&gt;
13267         &lt;description&gt;
13268           Length in bytes of the code
13269         &lt;/description&gt;
13270       &lt;/param&gt;
13271     &lt;/parameters&gt;
13272   &lt;/event&gt;
13273 
13274   &lt;event label=&quot;Data Dump Request&quot;
13275          id=&quot;DataDumpRequest&quot; const=&quot;JVMTI_EVENT_DATA_DUMP_REQUEST&quot; num=&quot;71&quot;&gt;
13276     &lt;description&gt;
13277       Sent by the VM to request the agent to dump its data.  This
13278       is just a hint and the agent need not react to this event.
13279       This is useful for processing command-line signals from users.  For
13280       example, in the Java 2 SDK a CTRL-Break on Win32 and a CTRL-\ on Solaris
13281       causes the VM to send this event to the agent.
13282     &lt;/description&gt;
13283     &lt;origin&gt;jvmpi&lt;/origin&gt;
13284     &lt;capabilities&gt;
13285     &lt;/capabilities&gt;
13286     &lt;parameters&gt;
13287     &lt;/parameters&gt;
13288   &lt;/event&gt;
13289 
13290   &lt;event label=&quot;Monitor Contended Enter&quot;
13291          id=&quot;MonitorContendedEnter&quot; const=&quot;JVMTI_EVENT_MONITOR_CONTENDED_ENTER&quot; filtered=&quot;thread&quot; num=&quot;75&quot;&gt;
13292     &lt;description&gt;
13293       Sent when a thread is attempting to enter a Java programming language
13294       monitor already acquired by another thread.
13295     &lt;/description&gt;
13296     &lt;origin&gt;jvmpi&lt;/origin&gt;
13297     &lt;capabilities&gt;
13298       &lt;required id=&quot;can_generate_monitor_events&quot;&gt;&lt;/required&gt;
13299     &lt;/capabilities&gt;
13300     &lt;parameters&gt;
13301       &lt;param id=&quot;jni_env&quot;&gt;
13302         &lt;outptr&gt;
13303           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13304         &lt;/outptr&gt;
13305           &lt;description&gt;
13306             The JNI environment of the event (current) thread
13307           &lt;/description&gt;
13308       &lt;/param&gt;
13309       &lt;param id=&quot;thread&quot;&gt;
13310         &lt;jthread/&gt;
13311           &lt;description&gt;
13312             JNI local reference to the thread
13313             attempting to enter the monitor
13314           &lt;/description&gt;
13315       &lt;/param&gt;
13316       &lt;param id=&quot;object&quot;&gt;
13317         &lt;jobject/&gt;
13318           &lt;description&gt;
13319             JNI local reference to the monitor
13320           &lt;/description&gt;
13321       &lt;/param&gt;
13322     &lt;/parameters&gt;
13323   &lt;/event&gt;
13324 
13325   &lt;event label=&quot;Monitor Contended Entered&quot;
13326          id=&quot;MonitorContendedEntered&quot; const=&quot;JVMTI_EVENT_MONITOR_CONTENDED_ENTERED&quot; filtered=&quot;thread&quot; num=&quot;76&quot;&gt;
13327     &lt;description&gt;
13328       Sent when a thread enters a Java programming language
13329       monitor after waiting for it to be released by another thread.
13330     &lt;/description&gt;
13331     &lt;origin&gt;jvmpi&lt;/origin&gt;
13332     &lt;capabilities&gt;
13333       &lt;required id=&quot;can_generate_monitor_events&quot;&gt;&lt;/required&gt;
13334     &lt;/capabilities&gt;
13335     &lt;parameters&gt;
13336       &lt;param id=&quot;jni_env&quot;&gt;
13337         &lt;outptr&gt;
13338           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13339         &lt;/outptr&gt;
13340           &lt;description&gt;
13341             The JNI environment of the event (current) thread
13342           &lt;/description&gt;
13343       &lt;/param&gt;
13344       &lt;param id=&quot;thread&quot;&gt;
13345         &lt;jthread/&gt;
13346           &lt;description&gt;
13347             JNI local reference to the thread entering
13348             the monitor
13349           &lt;/description&gt;
13350       &lt;/param&gt;
13351       &lt;param id=&quot;object&quot;&gt;
13352         &lt;jobject/&gt;
13353           &lt;description&gt;
13354             JNI local reference to the monitor
13355           &lt;/description&gt;
13356       &lt;/param&gt;
13357     &lt;/parameters&gt;
13358   &lt;/event&gt;
13359 
13360   &lt;event label=&quot;Monitor Wait&quot;
13361          id=&quot;MonitorWait&quot; const=&quot;JVMTI_EVENT_MONITOR_WAIT&quot; filtered=&quot;thread&quot; num=&quot;73&quot;&gt;
13362     &lt;description&gt;
13363       Sent when a thread is about to wait on an object.
13364     &lt;/description&gt;
13365     &lt;origin&gt;jvmpi&lt;/origin&gt;
13366     &lt;capabilities&gt;
13367       &lt;required id=&quot;can_generate_monitor_events&quot;&gt;&lt;/required&gt;
13368     &lt;/capabilities&gt;
13369     &lt;parameters&gt;
13370       &lt;param id=&quot;jni_env&quot;&gt;
13371         &lt;outptr&gt;
13372           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13373         &lt;/outptr&gt;
13374           &lt;description&gt;
13375             The JNI environment of the event (current) thread
13376           &lt;/description&gt;
13377       &lt;/param&gt;
13378       &lt;param id=&quot;thread&quot;&gt;
13379         &lt;jthread/&gt;
13380           &lt;description&gt;
13381             JNI local reference to the thread about to wait
13382           &lt;/description&gt;
13383       &lt;/param&gt;
13384       &lt;param id=&quot;object&quot;&gt;
13385         &lt;jobject/&gt;
13386           &lt;description&gt;
13387             JNI local reference to the monitor
13388           &lt;/description&gt;
13389       &lt;/param&gt;
13390       &lt;param id=&quot;timeout&quot;&gt;
13391         &lt;jlong/&gt;
13392         &lt;description&gt;
13393           The number of milliseconds the thread will wait
13394         &lt;/description&gt;
13395       &lt;/param&gt;
13396     &lt;/parameters&gt;
13397   &lt;/event&gt;
13398 
13399   &lt;event label=&quot;Monitor Waited&quot;
13400          id=&quot;MonitorWaited&quot; const=&quot;JVMTI_EVENT_MONITOR_WAITED&quot; filtered=&quot;thread&quot; num=&quot;74&quot;&gt;
13401     &lt;description&gt;
13402       Sent when a thread finishes waiting on an object.
13403     &lt;/description&gt;
13404     &lt;origin&gt;jvmpi&lt;/origin&gt;
13405     &lt;capabilities&gt;
13406       &lt;required id=&quot;can_generate_monitor_events&quot;&gt;&lt;/required&gt;
13407     &lt;/capabilities&gt;
13408     &lt;parameters&gt;
13409       &lt;param id=&quot;jni_env&quot;&gt;
13410         &lt;outptr&gt;
13411           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13412         &lt;/outptr&gt;
13413           &lt;description&gt;
13414             The JNI environment of the event (current) thread
13415           &lt;/description&gt;
13416       &lt;/param&gt;
13417       &lt;param id=&quot;thread&quot;&gt;
13418         &lt;jthread/&gt;
13419           &lt;description&gt;
13420             JNI local reference to the thread that was finished waiting
13421           &lt;/description&gt;
13422       &lt;/param&gt;
13423       &lt;param id=&quot;object&quot;&gt;
13424         &lt;jobject/&gt;
13425           &lt;description&gt;
13426             JNI local reference to the monitor.
13427           &lt;/description&gt;
13428       &lt;/param&gt;
13429       &lt;param id=&quot;timed_out&quot;&gt;
13430         &lt;jboolean/&gt;
13431         &lt;description&gt;
13432           True if the monitor timed out
13433         &lt;/description&gt;
13434       &lt;/param&gt;
13435     &lt;/parameters&gt;
13436   &lt;/event&gt;
13437 
13438   &lt;event label=&quot;Resource Exhausted&quot;
13439          id=&quot;ResourceExhausted&quot; const=&quot;JVMTI_EVENT_RESOURCE_EXHAUSTED&quot; num=&quot;80&quot;
13440          since=&quot;1.1&quot;&gt;
13441     &lt;description&gt;
13442       Sent when a VM resource needed by a running application has been exhausted.
13443       Except as required by the optional capabilities, the set of resources
13444       which report exhaustion is implementation dependent.
13445       &lt;p/&gt;
13446       The following bit flags define the properties of the resource exhaustion:
13447       &lt;constants id=&quot;jvmtiResourceExhaustionFlags&quot;
13448                  label=&quot;Resource Exhaustion Flags&quot;
13449                  kind=&quot;bits&quot;
13450                  since=&quot;1.1&quot;&gt;
13451         &lt;constant id=&quot;JVMTI_RESOURCE_EXHAUSTED_OOM_ERROR&quot; num=&quot;0x0001&quot;&gt;
13452           After this event returns, the VM will throw a
13453           &lt;code&gt;java.lang.OutOfMemoryError&lt;/code&gt;.
13454         &lt;/constant&gt;
13455         &lt;constant id=&quot;JVMTI_RESOURCE_EXHAUSTED_JAVA_HEAP&quot; num=&quot;0x0002&quot;&gt;
13456           The VM was unable to allocate memory from the &lt;tm&gt;Java&lt;/tm&gt;
13457           platform &lt;i&gt;heap&lt;/i&gt;.
13458           The &lt;i&gt;heap&lt;/i&gt; is the runtime
13459           data area from which memory for all class instances and
13460           arrays are allocated.
13461         &lt;/constant&gt;
13462         &lt;constant id=&quot;JVMTI_RESOURCE_EXHAUSTED_THREADS&quot; num=&quot;0x0004&quot;&gt;
13463           The VM was unable to create a thread.
13464         &lt;/constant&gt;
13465       &lt;/constants&gt;
13466     &lt;/description&gt;
13467     &lt;origin&gt;new&lt;/origin&gt;
13468     &lt;capabilities&gt;
13469       &lt;capability id=&quot;can_generate_resource_exhaustion_heap_events&quot;&gt;
13470         Can generate events when the VM is unable to allocate memory from the
13471         &lt;internallink id=&quot;JVMTI_RESOURCE_EXHAUSTED_JAVA_HEAP&quot;&gt;heap&lt;/internallink&gt;.
13472       &lt;/capability&gt;
13473       &lt;capability id=&quot;can_generate_resource_exhaustion_threads_events&quot;&gt;
13474         Can generate events when the VM is unable to
13475         &lt;internallink id=&quot;JVMTI_RESOURCE_EXHAUSTED_THREADS&quot;&gt;create
13476         a thread&lt;/internallink&gt;.
13477       &lt;/capability&gt;
13478     &lt;/capabilities&gt;
13479     &lt;parameters&gt;
13480       &lt;param id=&quot;jni_env&quot;&gt;
13481         &lt;outptr&gt;
13482           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13483         &lt;/outptr&gt;
13484           &lt;description&gt;
13485             The JNI environment of the event (current) thread
13486           &lt;/description&gt;
13487       &lt;/param&gt;
13488       &lt;param id=&quot;flags&quot;&gt;
13489         &lt;jint/&gt;
13490         &lt;description&gt;
13491           Flags defining the properties of the of resource exhaustion
13492           as specified by the
13493           &lt;internallink id=&quot;jvmtiResourceExhaustionFlags&quot;&gt;Resource
13494           Exhaustion Flags&lt;/internallink&gt;.
13495           &lt;/description&gt;
13496         &lt;/param&gt;
13497       &lt;param id=&quot;reserved&quot;&gt;
13498         &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13499         &lt;description&gt;
13500           Reserved.
13501         &lt;/description&gt;
13502       &lt;/param&gt;
13503       &lt;param id=&quot;description&quot;&gt;
13504         &lt;vmbuf&gt;&lt;char/&gt;&lt;/vmbuf&gt;
13505         &lt;description&gt;
13506           Description of the resource exhaustion, encoded as a
13507           &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
13508         &lt;/description&gt;
13509       &lt;/param&gt;
13510     &lt;/parameters&gt;
13511   &lt;/event&gt;
13512 
13513   &lt;event label=&quot;VM Object Allocation&quot;
13514          id=&quot;VMObjectAlloc&quot; const=&quot;JVMTI_EVENT_VM_OBJECT_ALLOC&quot; num=&quot;84&quot;&gt;
13515     &lt;description&gt;
13516       Sent when a method causes the virtual machine to directly allocate an
13517       Object visible to Java programming language code.
13518       Generally object allocation should be detected by instrumenting
13519       the bytecodes of allocating methods.
13520       Object allocation generated in native code by JNI function
13521       calls should be detected using
13522       &lt;internallink id=&quot;jniIntercept&quot;&gt;JNI function interception&lt;/internallink&gt;.
13523       Some methods might not have associated bytecodes and are not
13524       native methods, they instead are executed directly by the
13525       VM. These methods should send this event.
13526       Virtual machines which are incapable of bytecode instrumentation
13527       for some or all of their methods can send this event.
13528 
13529       Note that the &lt;internallink
13530       id=&quot;SampledObjectAlloc&quot;&gt;SampledObjectAlloc&lt;/internallink&gt;
13531       event is triggered on all Java object allocations, including those
13532       caused by bytecode method execution, JNI method execution, and
13533       directly by VM methods.
13534       &lt;p/&gt;
13535       Typical examples where this event might be sent:
13536       &lt;ul&gt;
13537         &lt;li&gt;Reflection -- for example, &lt;code&gt;java.lang.Class.newInstance()&lt;/code&gt;&lt;/li&gt;
13538         &lt;li&gt;Methods not represented by bytecodes -- for example, VM intrinsics and
13539             J2ME preloaded classes&lt;/li&gt;
13540       &lt;/ul&gt;
13541       Cases where this event would not be generated:
13542       &lt;ul&gt;
13543         &lt;li&gt;Allocation due to bytecodes -- for example, the &lt;code&gt;new&lt;/code&gt;
13544             and &lt;code&gt;newarray&lt;/code&gt; VM instructions&lt;/li&gt;
13545         &lt;li&gt;Allocation due to JNI function calls -- for example,
13546             &lt;code&gt;AllocObject&lt;/code&gt;&lt;/li&gt;
13547         &lt;li&gt;Allocations during VM initialization&lt;/li&gt;
13548         &lt;li&gt;VM internal objects&lt;/li&gt;
13549       &lt;/ul&gt;
13550     &lt;/description&gt;
13551     &lt;origin&gt;new&lt;/origin&gt;
13552     &lt;capabilities&gt;
13553       &lt;required id=&quot;can_generate_vm_object_alloc_events&quot;&gt;&lt;/required&gt;
13554     &lt;/capabilities&gt;
13555     &lt;parameters&gt;
13556       &lt;param id=&quot;jni_env&quot;&gt;
13557         &lt;outptr&gt;
13558           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13559         &lt;/outptr&gt;
13560           &lt;description&gt;
13561             The JNI environment of the event (current) thread
13562           &lt;/description&gt;
13563       &lt;/param&gt;
13564       &lt;param id=&quot;thread&quot;&gt;
13565         &lt;jthread/&gt;
13566           &lt;description&gt;
13567             Thread allocating the object.
13568           &lt;/description&gt;
13569       &lt;/param&gt;
13570       &lt;param id=&quot;object&quot;&gt;
13571         &lt;jobject/&gt;
13572           &lt;description&gt;
13573             JNI local reference to the object that was allocated.
13574           &lt;/description&gt;
13575       &lt;/param&gt;
13576       &lt;param id=&quot;object_klass&quot;&gt;
13577         &lt;jclass/&gt;
13578           &lt;description&gt;
13579             JNI local reference to the class of the object.
13580           &lt;/description&gt;
13581       &lt;/param&gt;
13582       &lt;param id=&quot;size&quot;&gt;
13583         &lt;jlong/&gt;
13584         &lt;description&gt;
13585             Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
13586         &lt;/description&gt;
13587       &lt;/param&gt;
13588     &lt;/parameters&gt;
13589   &lt;/event&gt;
13590 
13591   &lt;event label=&quot;Sampled Object Allocation&quot;
13592     id=&quot;SampledObjectAlloc&quot; const=&quot;JVMTI_EVENT_SAMPLED_OBJECT_ALLOC&quot; filtered=&quot;thread&quot; num=&quot;86&quot; since=&quot;11&quot;&gt;
13593     &lt;description&gt;
13594       Sent when an allocated object is sampled.
13595       By default, the sampling interval is set to 512KB. The sampling is semi-random to avoid
13596       pattern-based bias and provides an approximate overall average interval over long periods of
13597       sampling.
13598       &lt;p/&gt;
13599       Each thread tracks how many bytes it has allocated since it sent the last event.
13600       When the number of bytes exceeds the sampling interval, it will send another event.
13601       This implies that, on average, one object will be sampled every time a thread has
13602       allocated 512KB bytes since the last sample.
13603       &lt;p/&gt;
13604       Note that the sampler is pseudo-random: it will not sample every 512KB precisely.
13605       The goal of this is to ensure high quality sampling even if allocation is
13606       happening in a fixed pattern (i.e., the same set of objects are being allocated
13607       every 512KB).
13608       &lt;p/&gt;
13609       If another sampling interval is required, the user can call
13610       &lt;functionlink id=&quot;SetHeapSamplingInterval&quot;&gt;&lt;/functionlink&gt; with a strictly positive integer value,
13611       representing the new sampling interval.
13612       &lt;p/&gt;
13613       This event is sent once the sampled allocation has been performed.  It provides the object, stack trace
13614       of the allocation, the thread allocating, the size of allocation, and the object&#39;s class.
13615       &lt;p/&gt;
13616       A typical use case of this system is to determine where heap allocations originate.
13617       In conjunction with weak references and the function
13618       &lt;functionlink id=&quot;GetStackTrace&quot;&gt;&lt;/functionlink&gt;, a user can track which objects were allocated from which
13619       stack trace, and which are still live during the execution of the program.
13620     &lt;/description&gt;
13621     &lt;origin&gt;new&lt;/origin&gt;
13622     &lt;capabilities&gt;
13623       &lt;required id=&quot;can_generate_sampled_object_alloc_events&quot;&gt;&lt;/required&gt;
13624     &lt;/capabilities&gt;
13625     &lt;parameters&gt;
13626       &lt;param id=&quot;jni_env&quot;&gt;
13627         &lt;outptr&gt;
13628           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13629         &lt;/outptr&gt;
13630         &lt;description&gt;
13631           The JNI environment of the event (current) thread.
13632         &lt;/description&gt;
13633       &lt;/param&gt;
13634       &lt;param id=&quot;thread&quot;&gt;
13635         &lt;jthread/&gt;
13636         &lt;description&gt;
13637           Thread allocating the object.
13638         &lt;/description&gt;
13639       &lt;/param&gt;
13640       &lt;param id=&quot;object&quot;&gt;
13641         &lt;jobject/&gt;
13642         &lt;description&gt;
13643           JNI local reference to the object that was allocated.
13644         &lt;/description&gt;
13645       &lt;/param&gt;
13646       &lt;param id=&quot;object_klass&quot;&gt;
13647         &lt;jclass/&gt;
13648         &lt;description&gt;
13649           JNI local reference to the class of the object
13650         &lt;/description&gt;
13651       &lt;/param&gt;
13652       &lt;param id=&quot;size&quot;&gt;
13653         &lt;jlong/&gt;
13654         &lt;description&gt;
13655           Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
13656         &lt;/description&gt;
13657       &lt;/param&gt;
13658     &lt;/parameters&gt;
13659   &lt;/event&gt;
13660 
13661   &lt;event label=&quot;Object Free&quot;
13662         id=&quot;ObjectFree&quot; const=&quot;JVMTI_EVENT_OBJECT_FREE&quot; num=&quot;83&quot;&gt;
13663     &lt;description&gt;
13664       An Object Free event is sent when the garbage collector frees an object.
13665       Events are only sent for tagged objects--see
13666       &lt;internallink id=&quot;Heap&quot;&gt;heap functions&lt;/internallink&gt;.
13667       &lt;p/&gt;
13668       The event handler must not use JNI functions and
13669       must not use &lt;jvmti/&gt; functions except those which
13670       specifically allow such use (see the raw monitor, memory management,
13671       and environment local storage functions).
13672     &lt;/description&gt;
13673     &lt;origin&gt;new&lt;/origin&gt;
13674     &lt;capabilities&gt;
13675       &lt;required id=&quot;can_generate_object_free_events&quot;&gt;&lt;/required&gt;
13676     &lt;/capabilities&gt;
13677     &lt;parameters&gt;
13678       &lt;param id=&quot;tag&quot;&gt;
13679         &lt;jlong/&gt;
13680         &lt;description&gt;
13681           The freed object&#39;s tag
13682         &lt;/description&gt;
13683       &lt;/param&gt;
13684     &lt;/parameters&gt;
13685   &lt;/event&gt;
13686 
13687   &lt;event label=&quot;Garbage Collection Start&quot;
13688          id=&quot;GarbageCollectionStart&quot; const=&quot;JVMTI_EVENT_GARBAGE_COLLECTION_START&quot; num=&quot;81&quot;&gt;
13689     &lt;description&gt;
13690       A Garbage Collection Start event is sent when a
13691       garbage collection pause begins.
13692       Only stop-the-world collections are reported--that is, collections during
13693       which all threads cease to modify the state of the Java virtual machine.
13694       This means that some collectors will never generate these events.
13695       This event is sent while the VM is still stopped, thus
13696       the event handler must not use JNI functions and
13697       must not use &lt;jvmti/&gt; functions except those which
13698       specifically allow such use (see the raw monitor, memory management,
13699       and environment local storage functions).
13700       &lt;p/&gt;
13701       This event is always sent as a matched pair with
13702       &lt;eventlink id=&quot;GarbageCollectionFinish&quot;/&gt;
13703       (assuming both events are enabled) and no garbage collection
13704       events will occur between them.
13705     &lt;/description&gt;
13706     &lt;origin&gt;new&lt;/origin&gt;
13707     &lt;capabilities&gt;
13708       &lt;required id=&quot;can_generate_garbage_collection_events&quot;&gt;&lt;/required&gt;
13709     &lt;/capabilities&gt;
13710     &lt;parameters&gt;
13711     &lt;/parameters&gt;
13712   &lt;/event&gt;
13713 
13714   &lt;event label=&quot;Garbage Collection Finish&quot;
13715          id=&quot;GarbageCollectionFinish&quot; const=&quot;JVMTI_EVENT_GARBAGE_COLLECTION_FINISH&quot; num=&quot;82&quot;&gt;
13716     &lt;description&gt;
13717       A Garbage Collection Finish event is sent when a
13718       garbage collection pause ends.
13719       This event is sent while the VM is still stopped, thus
13720       the event handler must not use JNI functions and
13721       must not use &lt;jvmti/&gt; functions except those which
13722       specifically allow such use (see the raw monitor, memory management,
13723       and environment local storage functions).
13724       &lt;p/&gt;
13725       Some agents may need to do post garbage collection operations that
13726       require the use of the disallowed &lt;jvmti/&gt; or JNI functions. For these
13727       cases an agent thread can be created which waits on a raw monitor,
13728       and the handler for the Garbage Collection Finish event simply
13729       notifies the raw monitor
13730       &lt;p/&gt;
13731       This event is always sent as a matched pair with
13732       &lt;eventlink id=&quot;GarbageCollectionStart&quot;/&gt; (assuming both events are enabled).
13733       &lt;issue&gt;
13734         The most important use of this event is to provide timing information,
13735         and thus additional information is not required.  However,
13736         information about the collection which is &quot;free&quot; should be included -
13737         what that information is needs to be determined.
13738       &lt;/issue&gt;
13739     &lt;/description&gt;
13740     &lt;origin&gt;new&lt;/origin&gt;
13741     &lt;capabilities&gt;
13742       &lt;required id=&quot;can_generate_garbage_collection_events&quot;&gt;&lt;/required&gt;
13743     &lt;/capabilities&gt;
13744     &lt;parameters&gt;
13745     &lt;/parameters&gt;
13746   &lt;/event&gt;
13747 
13748   &lt;elide&gt;
13749   &lt;event label=&quot;Verbose Output&quot; phase=&quot;any&quot;
13750          id=&quot;VerboseOutput&quot; const=&quot;JVMTI_EVENT_VERBOSE_OUTPUT&quot; num=&quot;85&quot;&gt;
13751     &lt;description&gt;
13752       Send verbose messages as strings.
13753         &lt;issue&gt;
13754           This format is extremely fragile, as it can change with each
13755           platform, collector and version.  Alternatives include:
13756           &lt;ul&gt;
13757             &lt;li&gt;building off Java programming language M and M APIs&lt;/li&gt;
13758             &lt;li&gt;XML&lt;/li&gt;
13759             &lt;li&gt;key/value pairs&lt;/li&gt;
13760             &lt;li&gt;removing it&lt;/li&gt;
13761           &lt;/ul&gt;
13762         &lt;/issue&gt;
13763         &lt;issue&gt;
13764           Though this seemed trivial to implement.
13765           In the RI it appears this will be quite complex.
13766         &lt;/issue&gt;
13767     &lt;/description&gt;
13768     &lt;origin&gt;new&lt;/origin&gt;
13769     &lt;capabilities&gt;
13770     &lt;/capabilities&gt;
13771     &lt;parameters&gt;
13772       &lt;param id=&quot;flag&quot;&gt;
13773         &lt;enum&gt;jvmtiVerboseFlag&lt;/enum&gt;
13774         &lt;description&gt;
13775           Which verbose output is being sent.
13776         &lt;/description&gt;
13777       &lt;/param&gt;
13778       &lt;param id=&quot;message&quot;&gt;
13779         &lt;vmbuf&gt;&lt;char/&gt;&lt;/vmbuf&gt;
13780         &lt;description&gt;
13781           Message text, encoded as a
13782           &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
13783         &lt;/description&gt;
13784       &lt;/param&gt;
13785     &lt;/parameters&gt;
13786   &lt;/event&gt;
13787   &lt;/elide&gt;
13788 
13789 &lt;/eventsection&gt;
13790 
13791 &lt;datasection&gt;
13792   &lt;intro&gt;
13793     &lt;jvmti/&gt; extends the data types defined by JNI.
13794   &lt;/intro&gt;
13795   &lt;basetypes id=&quot;jniTypes&quot; label=&quot;JNI Types Used in the JVM Tool Interface&quot;&gt;
13796     &lt;basetype id=&quot;jboolean&quot;&gt;
13797       &lt;description&gt;
13798         Holds a Java programming language &lt;code&gt;boolean&lt;/code&gt;.
13799         Unsigned 8 bits.
13800       &lt;/description&gt;
13801     &lt;/basetype&gt;
13802     &lt;basetype id=&quot;jchar&quot;&gt;
13803       &lt;description&gt;
13804         Holds a Java programming language &lt;code&gt;char&lt;/code&gt;.
13805         Unsigned 16 bits.
13806       &lt;/description&gt;
13807     &lt;/basetype&gt;
13808     &lt;basetype id=&quot;jint&quot;&gt;
13809       &lt;description&gt;
13810         Holds a Java programming language &lt;code&gt;int&lt;/code&gt;.
13811         Signed 32 bits.
13812       &lt;/description&gt;
13813     &lt;/basetype&gt;
13814     &lt;basetype id=&quot;jlong&quot;&gt;
13815       &lt;description&gt;
13816         Holds a Java programming language &lt;code&gt;long&lt;/code&gt;.
13817         Signed 64 bits.
13818       &lt;/description&gt;
13819     &lt;/basetype&gt;
13820     &lt;basetype id=&quot;jfloat&quot;&gt;
13821       &lt;description&gt;
13822         Holds a Java programming language &lt;code&gt;float&lt;/code&gt;.
13823         32 bits.
13824       &lt;/description&gt;
13825     &lt;/basetype&gt;
13826     &lt;basetype id=&quot;jdouble&quot;&gt;
13827       &lt;description&gt;
13828         Holds a Java programming language &lt;code&gt;double&lt;/code&gt;.
13829         64 bits.
13830       &lt;/description&gt;
13831     &lt;/basetype&gt;
13832     &lt;basetype id=&quot;jobject&quot;&gt;
13833       &lt;description&gt;
13834         Holds a Java programming language object.
13835       &lt;/description&gt;
13836     &lt;/basetype&gt;
13837     &lt;basetype id=&quot;jclass&quot;&gt;
13838       &lt;description&gt;
13839         Holds a Java programming language class.
13840       &lt;/description&gt;
13841     &lt;/basetype&gt;
13842     &lt;basetype id=&quot;jvalue&quot;&gt;
13843       &lt;description&gt;
13844         Is a union of all primitive types and &lt;code&gt;jobject&lt;/code&gt;.  Thus, holds any Java
13845         programming language value.
13846       &lt;/description&gt;
13847     &lt;/basetype&gt;
13848     &lt;basetype id=&quot;jfieldID&quot;&gt;
13849       &lt;description&gt;
13850         Identifies a Java programming language field.
13851         &lt;code&gt;jfieldID&lt;/code&gt;s returned by &lt;jvmti/&gt; functions and events may be
13852         safely stored.
13853       &lt;/description&gt;
13854     &lt;/basetype&gt;
13855     &lt;basetype id=&quot;jmethodID&quot;&gt;
13856       &lt;description&gt;
13857         Identifies a Java programming language method, initializer, or constructor.
13858         &lt;code&gt;jmethodID&lt;/code&gt;s returned by &lt;jvmti/&gt; functions and events may be
13859         safely stored.  However, if the class is unloaded, they become invalid
13860         and must not be used.
13861       &lt;/description&gt;
13862     &lt;/basetype&gt;
13863     &lt;basetype id=&quot;JNIEnv&quot;&gt;
13864       &lt;description&gt;
13865         Pointer to the JNI function table.  Pointer to this (&lt;code&gt;JNIEnv *&lt;/code&gt;)
13866         is a JNI environment.
13867       &lt;/description&gt;
13868     &lt;/basetype&gt;
13869   &lt;/basetypes&gt;
13870 
13871   &lt;basetypes id=&quot;jvmtiTypes&quot; label=&quot;JVM Tool Interface Base Types&quot;&gt;
13872     &lt;basetype id=&quot;jvmtiEnv&quot;&gt;
13873       &lt;description&gt;
13874         The &lt;jvmti/&gt; &lt;internallink id=&quot;environments&quot;&gt;environment&lt;/internallink&gt; pointer.
13875         See the &lt;internallink id=&quot;FunctionSection&quot;&gt;Function Section&lt;/internallink&gt;.
13876         &lt;code&gt;jvmtiEnv&lt;/code&gt; points to the
13877         &lt;internallink id=&quot;FunctionTable&quot;&gt;function table&lt;/internallink&gt; pointer.
13878       &lt;/description&gt;
13879     &lt;/basetype&gt;
13880     &lt;basetype id=&quot;jthread&quot;&gt;
13881       &lt;definition&gt;typedef jobject jthread;&lt;/definition&gt;
13882       &lt;description&gt;
13883         Subtype of &lt;datalink id=&quot;jobject&quot;&gt;&lt;/datalink&gt; that holds a thread.
13884       &lt;/description&gt;
13885     &lt;/basetype&gt;
13886     &lt;basetype id=&quot;jthreadGroup&quot;&gt;
13887       &lt;definition&gt;typedef jobject jthreadGroup;&lt;/definition&gt;
13888       &lt;description&gt;
13889         Subtype of &lt;datalink id=&quot;jobject&quot;&gt;&lt;/datalink&gt; that holds a thread group.
13890       &lt;/description&gt;
13891     &lt;/basetype&gt;
13892     &lt;basetype id=&quot;jlocation&quot;&gt;
13893       &lt;definition&gt;typedef jlong jlocation;&lt;/definition&gt;
13894       &lt;description&gt;
13895         A 64 bit value, representing a monotonically increasing
13896         executable position within a method.
13897         &lt;code&gt;-1&lt;/code&gt; indicates a native method.
13898         See &lt;functionlink id=&quot;GetJLocationFormat&quot;&gt;&lt;/functionlink&gt; for the format on a
13899         given VM.
13900       &lt;/description&gt;
13901     &lt;/basetype&gt;
13902     &lt;basetype id=&quot;jrawMonitorID&quot;&gt;
13903       &lt;definition&gt;struct _jrawMonitorID;
13904 typedef struct _jrawMonitorID *jrawMonitorID;&lt;/definition&gt;
13905       &lt;description&gt;
13906         A raw monitor.
13907       &lt;/description&gt;
13908     &lt;/basetype&gt;
13909     &lt;basetype id=&quot;jvmtiError&quot;&gt;
13910       &lt;description&gt;
13911         Holds an error return code.
13912         See the &lt;internallink id=&quot;ErrorSection&quot;&gt;Error section&lt;/internallink&gt; for possible values.
13913         &lt;example&gt;
13914 typedef enum {
13915     JVMTI_ERROR_NONE = 0,
13916     JVMTI_ERROR_INVALID_THREAD = 10,
13917       ...
13918 } jvmtiError;
13919 &lt;/example&gt;
13920       &lt;/description&gt;
13921     &lt;/basetype&gt;
13922     &lt;basetype id=&quot;jvmtiEvent&quot;&gt;
13923       &lt;description&gt;
13924         An identifier for an event type.
13925         See the &lt;internallink id=&quot;EventSection&quot;&gt;Event section&lt;/internallink&gt; for possible values.
13926         It is guaranteed that future versions of this specification will
13927         never assign zero as an event type identifier.
13928 &lt;example&gt;
13929 typedef enum {
13930     JVMTI_EVENT_SINGLE_STEP = 1,
13931     JVMTI_EVENT_BREAKPOINT = 2,
13932       ...
13933 } jvmtiEvent;
13934 &lt;/example&gt;
13935       &lt;/description&gt;
13936     &lt;/basetype&gt;
13937     &lt;basetype id=&quot;jvmtiEventCallbacks&quot; name=&quot;eventCallbacks&quot;&gt;
13938       &lt;description&gt;
13939         The callbacks used for events.
13940 &lt;example&gt;
13941 typedef struct {
13942     jvmtiEventVMInit VMInit;
13943     jvmtiEventVMDeath VMDeath;
13944       ...
13945 } jvmtiEventCallbacks;
13946 &lt;/example&gt;
13947         See &lt;internallink id=&quot;jvmtiEventCallbacks&quot;&gt;event callbacks&lt;/internallink&gt;
13948         for the complete structure.
13949         &lt;p/&gt;
13950         Where, for example, the VM initialization callback is defined:
13951 &lt;example&gt;
13952 typedef void (JNICALL *jvmtiEventVMInit)
13953     (jvmtiEnv *jvmti_env,
13954      JNIEnv* jni_env,
13955      jthread thread);
13956 &lt;/example&gt;
13957         See the individual events for the callback function definition.
13958       &lt;/description&gt;
13959     &lt;/basetype&gt;
13960     &lt;basetype id=&quot;jniNativeInterface&quot;&gt;
13961       &lt;definition&gt;typedef struct JNINativeInterface_ jniNativeInterface;&lt;/definition&gt;
13962       &lt;description&gt;
13963         Typedef for the JNI function table &lt;code&gt;JNINativeInterface&lt;/code&gt;
13964         defined in the
13965         &lt;externallink id=&quot;jni/functions.html#interface-function-table&quot;&gt;
13966           JNI Specification&lt;/externallink&gt;.
13967         The JNI reference implementation defines this with an underscore.
13968       &lt;/description&gt;
13969     &lt;/basetype&gt;
13970   &lt;/basetypes&gt;
13971 
13972 &lt;/datasection&gt;
13973 
13974 &lt;issuessection label=&quot;Issues&quot;&gt;
13975   &lt;intro id=&quot;suspendRequired&quot; label=&quot;Resolved Issue: Suspend - Required or Automatic&quot;&gt;
13976     JVMDI requires that the agent suspend threads before calling
13977     certain sensitive functions.  JVMPI requires garbage collection to be
13978     disabled before calling certain sensitive functions.
13979     It was suggested that rather than have this requirement, that
13980     VM place itself in a suitable state before performing an
13981     operation.  This makes considerable sense since each VM
13982     knows its requirements and can most easily arrange a
13983     safe state.
13984     &lt;p/&gt;
13985     The ability to externally suspend/resume threads will, of
13986     course, remain.  The ability to enable/disable garbage collection will not.
13987     &lt;p/&gt;
13988     This issue is resolved--suspend will not
13989     be required.  The spec has been updated to reflect this.
13990   &lt;/intro&gt;
13991 
13992   &lt;intro id=&quot;stackSampling&quot; label=&quot;Resolved Issue: Call Stack Sampling&quot;&gt;
13993     There are a variety of approaches to sampling call stacks.
13994     The biggest bifurcation is between VM controlled and agent
13995     controlled.
13996     &lt;p/&gt;
13997     This issue is resolved--agent controlled
13998     sampling will be the approach.
13999   &lt;/intro&gt;
14000 
14001   &lt;intro id=&quot;threadRepresentation&quot; label=&quot;Resolved Issue: Thread Representation&quot;&gt;
14002     JVMDI represents threads as jthread.  JVMPI primarily
14003     uses JNIEnv* to represent threads.
14004     &lt;p/&gt;
14005     The Expert Group has chosen jthread as the representation
14006     for threads in &lt;jvmti/&gt;.
14007     JNIEnv* is sent by
14008     events since it is needed to JNI functions.  JNIEnv, per the
14009     JNI spec, are not supposed to be used outside their thread.
14010   &lt;/intro&gt;
14011 
14012   &lt;intro id=&quot;design&quot; label=&quot;Resolved Issue: Method Representation&quot;&gt;
14013     The JNI spec allows an implementation to depend on jclass/jmethodID
14014     pairs, rather than simply a jmethodID, to reference a method.
14015     JVMDI, for consistency, choose the same representation.
14016     JVMPI, however, specifies that a jmethodID alone maps to a
14017     method.  Both of the Sun &lt;tm&gt;J2SE&lt;/tm&gt; virtual machines (Classic and &lt;tm&gt;HotSpot&lt;/tm&gt;) store
14018     pointers in jmethodIDs, and as a result, a jmethodID is sufficient.
14019     In fact, any JVM implementation that supports JVMPI must have
14020     such a representation.
14021     &lt;jvmti/&gt; will use jmethodID as a unique representation of a method
14022     (no jclass is used).
14023     There should be efficiency gains, particularly in
14024     functionality like stack dumping, to this representation.
14025     &lt;p/&gt;
14026     Note that fields were not used in JVMPI and that the access profile
14027     of fields differs from methods--for implementation efficiency
14028     reasons, a jclass/jfieldID pair will still be needed for field
14029     reference.
14030   &lt;/intro&gt;
14031 
14032   &lt;intro id=&quot;localReferenceIssue&quot; label=&quot;Resolved Issue: Local References&quot;&gt;
14033     Functions return local references.
14034   &lt;/intro&gt;
14035 
14036   &lt;intro id=&quot;frameRep&quot; label=&quot;Resolved Issue: Representation of frames&quot;&gt;
14037     In JVMDI, a frame ID is used to represent a frame.  Problem with this
14038     is that a VM must track when a frame becomes invalid, a far better
14039     approach, and the one used in &lt;jvmti/&gt;, is to reference frames by depth.
14040   &lt;/intro&gt;
14041 
14042   &lt;intro id=&quot;requiredCapabilities&quot; label=&quot;Issue: Required Capabilities&quot;&gt;
14043     Currently, having a required capabilities means that the functionality
14044     is optional.   Capabilities are useful even for required functionality
14045     since they can inform the VM is needed set-up.  Thus, there should be
14046     a set of capabilities that a conformant implementation must provide
14047     (if requested during Agent_OnLoad).
14048   &lt;/intro&gt;
14049 
14050   &lt;intro id=&quot;taghint&quot; label=&quot;Proposal: add tag hint function&quot;&gt;
14051     A hint of the percentage of objects that will be tagged would
14052     help the VM pick a good implementation.
14053   &lt;/intro&gt;
14054 
14055   &lt;intro id=&quot;moreMonitorQueries&quot; label=&quot;Request: More Monitor Quires&quot;&gt;
14056   How difficult or easy would be to extend the monitor_info category to include
14057     &lt;pre&gt;
14058   - current number of monitors
14059   - enumeration of monitors
14060   - enumeration of threads waiting on a given monitor
14061     &lt;/pre&gt;
14062   The reason for my question is the fact that current get_monitor_info support
14063   requires the agent to specify a given thread to get the info which is probably
14064   OK in the profiling/debugging space, while in the monitoring space the agent
14065   could be watching the monitor list and then decide which thread to ask for
14066   the info. You might ask why is this important for monitoring .... I think it
14067   can aid in the detection/prediction of application contention caused by hot-locks.
14068   &lt;/intro&gt;
14069 &lt;/issuessection&gt;
14070 
14071 &lt;changehistory id=&quot;ChangeHistory&quot; update=&quot;09/05/07&quot;&gt;
14072   &lt;intro&gt;
14073     The &lt;jvmti/&gt; specification is an evolving document with major, minor,
14074     and micro version numbers.
14075     A released version of the specification is uniquely identified
14076     by its major and minor version.
14077     The functions, events, and capabilities in this specification
14078     indicate a &quot;Since&quot; value which is the major and minor version in
14079     which it was introduced.
14080     The version of the specification implemented by the VM can
14081     be retrieved at runtime with the &lt;functionlink id=&quot;GetVersionNumber&quot;/&gt;
14082     function.
14083   &lt;/intro&gt;
14084   &lt;change date=&quot;14 Nov 2002&quot;&gt;
14085     Converted to XML document.
14086   &lt;/change&gt;
14087   &lt;change date=&quot;14 Nov 2002&quot;&gt;
14088     Elided heap dump functions (for now) since what was there
14089     was wrong.
14090   &lt;/change&gt;
14091   &lt;change date=&quot;18 Nov 2002&quot;&gt;
14092     Added detail throughout.
14093   &lt;/change&gt;
14094   &lt;change date=&quot;18 Nov 2002&quot;&gt;
14095     Changed JVMTI_THREAD_STATUS_RUNNING to JVMTI_THREAD_STATUS_RUNNABLE.
14096   &lt;/change&gt;
14097   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14098     Added AsyncGetStackTrace.
14099   &lt;/change&gt;
14100   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14101     Added jframeID return to GetStackTrace.
14102   &lt;/change&gt;
14103   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14104     Elided GetCurrentFrame and GetCallingFrame functions (for now) since what was there
14105     since they are redundant with GetStackTrace.
14106   &lt;/change&gt;
14107   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14108     Elided ClearAllBreakpoints since it has always been redundant.
14109   &lt;/change&gt;
14110   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14111     Added GetSystemProperties.
14112   &lt;/change&gt;
14113   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14114     Changed the thread local storage functions to use jthread.
14115   &lt;/change&gt;
14116   &lt;change date=&quot;20 Nov 2002&quot;&gt;
14117     Added GetJLocationFormat.
14118   &lt;/change&gt;
14119   &lt;change date=&quot;22 Nov 2002&quot;&gt;
14120     Added events and introductory text.
14121   &lt;/change&gt;
14122   &lt;change date=&quot;22 Nov 2002&quot;&gt;
14123     Cross reference type and constant definitions.
14124   &lt;/change&gt;
14125   &lt;change date=&quot;24 Nov 2002&quot;&gt;
14126     Added DTD.
14127   &lt;/change&gt;
14128   &lt;change date=&quot;24 Nov 2002&quot;&gt;
14129     Added capabilities function section.
14130   &lt;/change&gt;
14131   &lt;change date=&quot;29 Nov 2002&quot;&gt;
14132     Assign capabilities to each function and event.
14133   &lt;/change&gt;
14134   &lt;change date=&quot;29 Nov 2002&quot;&gt;
14135     Add &lt;internallink id=&quot;jniIntercept&quot;&gt;JNI interception functions&lt;/internallink&gt;.
14136   &lt;/change&gt;
14137   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14138     Auto generate SetEventNotificationMode capabilities.
14139   &lt;/change&gt;
14140   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14141     Add &lt;eventlink id=&quot;VMObjectAlloc&quot;&gt;&lt;/eventlink&gt; event.
14142   &lt;/change&gt;
14143   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14144     Add &lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;/eventlink&gt; event.
14145   &lt;/change&gt;
14146   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14147     Add const to declarations.
14148   &lt;/change&gt;
14149   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14150     Change method exit and frame pop to send on exception.
14151   &lt;/change&gt;
14152   &lt;change date=&quot;1 Dec 2002&quot;&gt;
14153     Add ForceGarbageCollection.
14154   &lt;/change&gt;
14155   &lt;change date=&quot;2 Dec 2002&quot;&gt;
14156     Redo Xrun section; clarify GetStackTrace and add example;
14157     Fix width problems; use &quot;agent&quot; consistently.
14158   &lt;/change&gt;
14159   &lt;change date=&quot;8 Dec 2002&quot;&gt;
14160     Remove previous start-up intro.
14161     Add &lt;internallink id=&quot;environments&quot;&gt;&lt;jvmti/&gt; Environments&lt;/internallink&gt;
14162     section.
14163   &lt;/change&gt;
14164   &lt;change date=&quot;8 Dec 2002&quot;&gt;
14165     Add &lt;functionlink id=&quot;DisposeEnvironment&quot;&gt;&lt;/functionlink&gt;.
14166   &lt;/change&gt;
14167   &lt;change date=&quot;9 Dec 2002&quot;&gt;
14168     Numerous minor updates.
14169   &lt;/change&gt;
14170   &lt;change date=&quot;15 Dec 2002&quot;&gt;
14171     Add heap profiling functions added:
14172     get/set annotation, iterate live objects/heap.
14173     Add heap profiling functions place holder added:
14174     heap roots.
14175     Heap profiling event added: object free.
14176     Heap profiling event redesigned: vm object allocation.
14177     Heap profiling event placeholders added: garbage collection start/finish.
14178     Native method bind event added.
14179   &lt;/change&gt;
14180   &lt;change date=&quot;19 Dec 2002&quot;&gt;
14181     Revamp suspend/resume functions.
14182     Add origin information with jvmdi tag.
14183     Misc fixes.
14184   &lt;/change&gt;
14185   &lt;change date=&quot;24 Dec 2002&quot;&gt;
14186     Add semantics to types.
14187   &lt;/change&gt;
14188   &lt;change date=&quot;27 Dec 2002&quot;&gt;
14189     Add local reference section.
14190     Autogenerate parameter descriptions from types.
14191   &lt;/change&gt;
14192   &lt;change date=&quot;28 Dec 2002&quot;&gt;
14193     Document that RunAgentThread sends threadStart.
14194   &lt;/change&gt;
14195   &lt;change date=&quot;29 Dec 2002&quot;&gt;
14196     Remove redundant local ref and dealloc warning.
14197     Convert GetRawMonitorName to allocated buffer.
14198     Add GenerateEvents.
14199   &lt;/change&gt;
14200   &lt;change date=&quot;30 Dec 2002&quot;&gt;
14201     Make raw monitors a type and rename to &quot;jrawMonitorID&quot;.
14202   &lt;/change&gt;
14203   &lt;change date=&quot;1 Jan 2003&quot;&gt;
14204     Include origin information.
14205     Clean-up JVMDI issue references.
14206     Remove Deallocate warnings which are now automatically generated.
14207   &lt;/change&gt;
14208   &lt;change date=&quot;2 Jan 2003&quot;&gt;
14209     Fix representation issues for jthread.
14210   &lt;/change&gt;
14211   &lt;change date=&quot;3 Jan 2003&quot;&gt;
14212     Make capabilities buffered out to 64 bits - and do it automatically.
14213   &lt;/change&gt;
14214   &lt;change date=&quot;4 Jan 2003&quot;&gt;
14215     Make constants which are enumeration into enum types.
14216     Parameters now of enum type.
14217     Clean-up and index type section.
14218     Replace remaining datadef entities with callback.
14219   &lt;/change&gt;
14220   &lt;change date=&quot;7 Jan 2003&quot;&gt;
14221     Correct GenerateEvents description.
14222     More internal semantics work.
14223   &lt;/change&gt;
14224   &lt;change date=&quot;9 Jan 2003&quot;&gt;
14225     Replace previous GetSystemProperties with two functions
14226     which use allocated information instead fixed.
14227     Add SetSystemProperty.
14228     More internal semantics work.
14229   &lt;/change&gt;
14230   &lt;change date=&quot;12 Jan 2003&quot;&gt;
14231     Add varargs to end of SetEventNotificationMode.
14232   &lt;/change&gt;
14233   &lt;change date=&quot;20 Jan 2003&quot;&gt;
14234     Finish fixing spec to reflect that alloc sizes are jlong.
14235   &lt;/change&gt;
14236   &lt;change date=&quot;22 Jan 2003&quot;&gt;
14237     Allow NULL as RunAgentThread arg.
14238   &lt;/change&gt;
14239   &lt;change date=&quot;22 Jan 2003&quot;&gt;
14240     Fixed names to standardized naming convention
14241     Removed AsyncGetStackTrace.
14242   &lt;/change&gt;
14243   &lt;change date=&quot;29 Jan 2003&quot;&gt;
14244     Since we are using jthread, removed GetThread.
14245   &lt;/change&gt;
14246   &lt;change date=&quot;31 Jan 2003&quot;&gt;
14247     Change GetFieldName to allow NULLs like GetMethodName.
14248   &lt;/change&gt;
14249   &lt;change date=&quot;29 Feb 2003&quot; version=&quot;v40&quot;&gt;
14250       Rewrite the introductory text, adding sections on
14251       start-up, environments and bytecode instrumentation.
14252       Change the command line arguments per EG discussions.
14253       Add an introduction to the capabilities section.
14254       Add the extension mechanism category and functions.
14255       Mark for deletion, but clarified anyhow, SuspendAllThreads.
14256       Rename IterateOverLiveObjects to IterateOverReachableObjects and
14257       change the text accordingly.
14258       Clarify IterateOverHeap.
14259       Clarify CompiledMethodLoad.
14260       Discuss prerequisite state for Calling Functions.
14261       Clarify SetAllocationHooks.
14262       Added issues (&quot;To be resolved:&quot;) through-out.
14263       And so on...
14264   &lt;/change&gt;
14265   &lt;change date=&quot;6 Mar 2003&quot; version=&quot;v41&quot;&gt;
14266       Remove struct from the call to GetOwnedMonitorInfo.
14267       Automatically generate most error documentation, remove
14268       (rather broken) hand written error doc.
14269       Better describe capability use (empty initial set).
14270       Add min value to jint params.
14271       Remove the capability can_access_thread_local_storage.
14272       Rename error JVMTI_ERROR_NOT_IMPLEMENTED to JVMTI_ERROR_MUST_POSSESS_CAPABILITY;
14273       same for *NOT_IMPLEMENTED.
14274       Description fixes.
14275   &lt;/change&gt;
14276   &lt;change date=&quot;8 Mar 2003&quot; version=&quot;v42&quot;&gt;
14277       Rename GetClassSignature to GetClassName.
14278       Rename IterateOverClassObjects to IterateOverInstancesOfClass.
14279       Remove GetMaxStack (operand stack isn&#39;t used in &lt;jvmti/&gt;).
14280       Description fixes: define launch-time, remove native frame pop
14281       from PopFrame, and assorted clarifications.
14282   &lt;/change&gt;
14283   &lt;change date=&quot;8 Mar 2003&quot; version=&quot;v43&quot;&gt;
14284       Fix minor editing problem.
14285   &lt;/change&gt;
14286   &lt;change date=&quot;10 Mar 2003&quot; version=&quot;v44&quot;&gt;
14287       Add phase information.
14288       Remap (compact) event numbers.
14289   &lt;/change&gt;
14290   &lt;change date=&quot;11 Mar 2003&quot; version=&quot;v45&quot;&gt;
14291       More phase information - allow &quot;any&quot;.
14292       Elide raw monitor queries and events.
14293       Minor description fixes.
14294   &lt;/change&gt;
14295   &lt;change date=&quot;12 Mar 2003&quot; version=&quot;v46&quot;&gt;
14296       Add GetPhase.
14297       Use &quot;phase&quot; through document.
14298       Elide GetRawMonitorName.
14299       Elide GetObjectMonitors.
14300   &lt;/change&gt;
14301   &lt;change date=&quot;12 Mar 2003&quot; version=&quot;v47&quot;&gt;
14302       Fixes from link, XML, and spell checking.
14303       Auto-generate the callback structure.
14304   &lt;/change&gt;
14305   &lt;change date=&quot;13 Mar 2003&quot; version=&quot;v48&quot;&gt;
14306       One character XML fix.
14307   &lt;/change&gt;
14308   &lt;change date=&quot;13 Mar 2003&quot; version=&quot;v49&quot;&gt;
14309       Change function parameter names to be consistent with
14310       event parameters (fooBarBaz becomes foo_bar_baz).
14311   &lt;/change&gt;
14312   &lt;change date=&quot;14 Mar 2003&quot; version=&quot;v50&quot;&gt;
14313       Fix broken link.  Fix thread markers.
14314   &lt;/change&gt;
14315   &lt;change date=&quot;14 Mar 2003&quot; version=&quot;v51&quot;&gt;
14316       Change constants so they are under 128 to workaround
14317       compiler problems.
14318   &lt;/change&gt;
14319   &lt;change date=&quot;23 Mar 2003&quot; version=&quot;v52&quot;&gt;
14320       Overhaul capabilities.  Separate GetStackTrace into
14321       GetStackTrace and GetStackFrames.
14322   &lt;/change&gt;
14323   &lt;change date=&quot;8 Apr 2003&quot; version=&quot;v54&quot;&gt;
14324       Use depth instead of jframeID to reference frames.
14325       Remove the now irrelevant GetCurrentFrame, GetCallerFrame and GetStackFrames.
14326       Remove frame arg from events.
14327   &lt;/change&gt;
14328   &lt;change date=&quot;9 Apr 2003&quot; version=&quot;v55&quot;&gt;
14329       Remove GetObjectWithAnnotation since tests show bufferred approach more efficient.
14330       Add missing annotation_count to GetObjectsWithAnnotations
14331   &lt;/change&gt;
14332   &lt;change date=&quot;10 Apr 2003&quot; version=&quot;v56&quot;&gt;
14333       Remove confusing parenthetical statement in GetObjectsWithAnnotations
14334   &lt;/change&gt;
14335   &lt;change date=&quot;13 Apr 2003&quot; version=&quot;v58&quot;&gt;
14336       Replace jclass/jmethodID representation of method with simply jmethodID;
14337       Pass JvmtiEnv* as first arg of every event; remove JNIEnv* where inappropriate.
14338       Replace can_access_frames with can_access_local_variables; remove from purely stack access.
14339       Use can_get_synthetic_attribute; fix description.
14340       Clarify that zero length arrays must be deallocated.
14341       Clarify RelinquishCapabilities.
14342       Generalize JVMTI_ERROR_VM_DEAD to JVMTI_ERROR_WRONG_PHASE.
14343   &lt;/change&gt;
14344   &lt;change date=&quot;27 Apr 2003&quot; version=&quot;v59&quot;&gt;
14345       Remove lingering indirect references to OBSOLETE_METHOD_ID.
14346   &lt;/change&gt;
14347   &lt;change date=&quot;4 May 2003&quot; version=&quot;v60&quot;&gt;
14348       Allow DestroyRawMonitor during OnLoad.
14349   &lt;/change&gt;
14350   &lt;change date=&quot;7 May 2003&quot; version=&quot;v61&quot;&gt;
14351       Added not monitor owner error return to DestroyRawMonitor.
14352   &lt;/change&gt;
14353   &lt;change date=&quot;13 May 2003&quot; version=&quot;v62&quot;&gt;
14354       Clarify semantics of raw monitors.
14355       Change flags on &lt;code&gt;GetThreadStatus&lt;/code&gt;.
14356       &lt;code&gt;GetClassLoader&lt;/code&gt; return NULL for the bootstrap class loader.
14357       Add &lt;code&gt;GetClassName&lt;/code&gt; issue.
14358       Define local variable signature.
14359       Disallow zero in annotations array of &lt;code&gt;GetObjectsWithAnnotations&lt;/code&gt;.
14360       Remove over specification in &lt;code&gt;GetObjectsWithAnnotations&lt;/code&gt;.
14361       Elide &lt;code&gt;SetAllocationHooks&lt;/code&gt;.
14362       Elide &lt;code&gt;SuspendAllThreads&lt;/code&gt;.
14363   &lt;/change&gt;
14364   &lt;change date=&quot;14 May 2003&quot; version=&quot;v63&quot;&gt;
14365       Define the data type &lt;code&gt;jvmtiEventCallbacks&lt;/code&gt;.
14366       Zero length allocations return NULL.
14367       Keep SetAllocationHooks in JVMDI, but remove from &lt;jvmti/&gt;.
14368       Add JVMTI_THREAD_STATUS_FLAG_INTERRUPTED.
14369   &lt;/change&gt;
14370   &lt;change date=&quot;15 May 2003&quot; version=&quot;v64&quot;&gt;
14371       Better wording, per review.
14372   &lt;/change&gt;
14373   &lt;change date=&quot;15 May 2003&quot; version=&quot;v65&quot;&gt;
14374       First Alpha.
14375       Make jmethodID and jfieldID unique, jclass not used.
14376   &lt;/change&gt;
14377   &lt;change date=&quot;27 May 2003&quot; version=&quot;v66&quot;&gt;
14378       Fix minor XSLT errors.
14379   &lt;/change&gt;
14380   &lt;change date=&quot;13 June 2003&quot; version=&quot;v67&quot;&gt;
14381       Undo making jfieldID unique (jmethodID still is).
14382   &lt;/change&gt;
14383   &lt;change date=&quot;17 June 2003&quot; version=&quot;v68&quot;&gt;
14384       Changes per June 11th Expert Group meeting --
14385       Overhaul Heap functionality: single callback,
14386       remove GetHeapRoots, add reachable iterators,
14387       and rename &quot;annotation&quot; to &quot;tag&quot;.
14388       NULL thread parameter on most functions is current
14389       thread.
14390       Add timers.
14391       Remove ForceExit.
14392       Add GetEnvironmentLocalStorage.
14393       Add verbose flag and event.
14394       Add AddToBootstrapClassLoaderSearch.
14395       Update ClassFileLoadHook.
14396   &lt;/change&gt;
14397   &lt;change date=&quot;18 June 2003&quot; version=&quot;v69&quot;&gt;
14398       Clean up issues sections.
14399       Rename GetClassName back to GetClassSignature and
14400       fix description.
14401       Add generic signature to GetClassSignature,
14402       GetFieldSignature, GetMethodSignature, and
14403       GetLocalVariableTable.
14404       Elide EstimateCostOfCapabilities.
14405       Clarify that the system property functions operate
14406       on the VM view of system properties.
14407       Clarify Agent_OnLoad.
14408       Remove &quot;const&quot; from JNIEnv* in events.
14409       Add metadata accessors.
14410   &lt;/change&gt;
14411   &lt;change date=&quot;18 June 2003&quot; version=&quot;v70&quot;&gt;
14412       Add start_depth to GetStackTrace.
14413       Move system properties to a new category.
14414       Add GetObjectSize.
14415       Remove &quot;X&quot; from command line flags.
14416       XML, HTML, and spell check corrections.
14417   &lt;/change&gt;
14418   &lt;change date=&quot;19 June 2003&quot; version=&quot;v71&quot;&gt;
14419       Fix JVMTI_HEAP_ROOT_THREAD to be 6.
14420       Make each synopsis match the function name.
14421       Fix unclear wording.
14422   &lt;/change&gt;
14423   &lt;change date=&quot;26 June 2003&quot; version=&quot;v72&quot;&gt;
14424       SetThreadLocalStorage and SetEnvironmentLocalStorage should allow value
14425       to be set to NULL.
14426       NotifyFramePop, GetFrameLocationm and all the local variable operations
14427       needed to have their wording about frames fixed.
14428       Grammar and clarity need to be fixed throughout.
14429       Capitalization and puntuation need to be consistent.
14430       Need micro version number and masks for accessing major, minor, and micro.
14431       The error code lists should indicate which must be returned by
14432       an implementation.
14433       The command line properties should be visible in the properties functions.
14434       Disallow popping from the current thread.
14435       Allow implementations to return opaque frame error when they cannot pop.
14436       The NativeMethodBind event should be sent during any phase.
14437       The DynamicCodeGenerated event should be sent during any phase.
14438       The following functions should be allowed to operate before VMInit:
14439         Set/GetEnvironmentLocalStorage
14440         GetMethodDeclaringClass
14441         GetClassSignature
14442         GetClassModifiers
14443         IsInterface
14444         IsArrayClass
14445         GetMethodName
14446         GetMethodModifiers
14447         GetMaxLocals
14448         GetArgumentsSize
14449         GetLineNumberTable
14450         GetMethodLocation
14451         IsMethodNative
14452         IsMethodSynthetic.
14453       Other changes (to XSL):
14454       Argument description should show asterisk after not before pointers.
14455       NotifyFramePop, GetFrameLocationm and all the local variable operations
14456       should hsve the NO_MORE_FRAMES error added.
14457       Not alive threads should have a different error return than invalid thread.
14458   &lt;/change&gt;
14459   &lt;change date=&quot;7 July 2003&quot; version=&quot;v73&quot;&gt;
14460       VerboseOutput event was missing message parameter.
14461       Minor fix-ups.
14462   &lt;/change&gt;
14463   &lt;change date=&quot;14 July 2003&quot; version=&quot;v74&quot;&gt;
14464       Technical Publications Department corrections.
14465       Allow thread and environment local storage to be set to NULL.
14466   &lt;/change&gt;
14467   &lt;change date=&quot;23 July 2003&quot; version=&quot;v75&quot;&gt;
14468       Use new Agent_OnLoad rather than overloaded JVM_OnLoad.
14469       Add JNICALL to callbacks (XSL).
14470       Document JNICALL requirement for both events and callbacks (XSL).
14471       Restrict RedefineClasses to methods and attributes.
14472       Elide the VerboseOutput event.
14473       VMObjectAlloc: restrict when event is sent and remove method parameter.
14474       Finish loose ends from Tech Pubs edit.
14475   &lt;/change&gt;
14476   &lt;change date=&quot;24 July 2003&quot; version=&quot;v76&quot;&gt;
14477       Change ClassFileLoadHook event to send the class instead of a boolean of redefine.
14478   &lt;/change&gt;
14479   &lt;change date=&quot;24 July 2003&quot; version=&quot;v77&quot;&gt;
14480       XML fixes.
14481       Minor text clarifications and corrections.
14482   &lt;/change&gt;
14483   &lt;change date=&quot;24 July 2003&quot; version=&quot;v78&quot;&gt;
14484       Remove GetExceptionHandlerTable and GetThrownExceptions from &lt;jvmti/&gt;.
14485       Clarify that stack frames are JVM Spec frames.
14486       Split can_get_source_info into can_get_source_file_name, can_get_line_numbers,
14487       and can_get_source_debug_extension.
14488       PopFrame cannot have a native calling method.
14489       Removed incorrect statement in GetClassloaderClasses
14490       (see &lt;vmspec chapter=&quot;4.4&quot;/&gt;).
14491   &lt;/change&gt;
14492   &lt;change date=&quot;24 July 2003&quot; version=&quot;v79&quot;&gt;
14493       XML and text fixes.
14494       Move stack frame description into Stack Frame category.
14495   &lt;/change&gt;
14496   &lt;change date=&quot;26 July 2003&quot; version=&quot;v80&quot;&gt;
14497       Allow NULL (means bootstrap loader) for GetClassloaderClasses.
14498       Add new heap reference kinds for references from classes.
14499       Add timer information struct and query functions.
14500       Add AvailableProcessors.
14501       Rename GetOtherThreadCpuTime to GetThreadCpuTime.
14502       Explicitly add JVMTI_ERROR_INVALID_THREAD and JVMTI_ERROR_THREAD_NOT_ALIVE
14503       to SetEventNotification mode.
14504       Add initial thread to the VM_INIT event.
14505       Remove platform assumptions from AddToBootstrapClassLoaderSearch.
14506   &lt;/change&gt;
14507   &lt;change date=&quot;26 July 2003&quot; version=&quot;v81&quot;&gt;
14508       Grammar and clarity changes per review.
14509   &lt;/change&gt;
14510   &lt;change date=&quot;27 July 2003&quot; version=&quot;v82&quot;&gt;
14511       More grammar and clarity changes per review.
14512       Add Agent_OnUnload.
14513   &lt;/change&gt;
14514   &lt;change date=&quot;28 July 2003&quot; version=&quot;v83&quot;&gt;
14515       Change return type of Agent_OnUnload to void.
14516   &lt;/change&gt;
14517   &lt;change date=&quot;28 July 2003&quot; version=&quot;v84&quot;&gt;
14518       Rename JVMTI_REFERENCE_ARRAY to JVMTI_REFERENCE_ARRAY_ELEMENT.
14519   &lt;/change&gt;
14520   &lt;change date=&quot;28 July 2003&quot; version=&quot;v85&quot;&gt;
14521       Steal java.lang.Runtime.availableProcessors() wording for
14522       AvailableProcessors().
14523       Guarantee that zero will never be an event ID.
14524       Remove some issues which are no longer issues.
14525       Per review, rename and more completely document the timer
14526       information functions.
14527   &lt;/change&gt;
14528   &lt;change date=&quot;29 July 2003&quot; version=&quot;v86&quot;&gt;
14529       Non-spec visible change to XML controlled implementation:
14530         SetThreadLocalStorage must run in VM mode.
14531   &lt;/change&gt;
14532   &lt;change date=&quot;5 August 2003&quot; version=&quot;0.1.87&quot;&gt;
14533       Add GetErrorName.
14534       Add varargs warning to jvmtiExtensionEvent.
14535       Remove &quot;const&quot; on the jvmtiEnv* of jvmtiExtensionEvent.
14536       Remove unused can_get_exception_info capability.
14537       Pass jvmtiEnv* and JNIEnv* to the jvmtiStartFunction.
14538       Fix jvmtiExtensionFunctionInfo.func declared type.
14539       Extension function returns error code.
14540       Use new version numbering.
14541   &lt;/change&gt;
14542   &lt;change date=&quot;5 August 2003&quot; version=&quot;0.2.88&quot;&gt;
14543       Remove the ClassUnload event.
14544   &lt;/change&gt;
14545   &lt;change date=&quot;8 August 2003&quot; version=&quot;0.2.89&quot;&gt;
14546       Heap reference iterator callbacks return an enum that
14547       allows outgoing object references to be ignored.
14548       Allow JNIEnv as a param type to extension events/functions.
14549   &lt;/change&gt;
14550   &lt;change date=&quot;15 August 2003&quot; version=&quot;0.2.90&quot;&gt;
14551       Fix a typo.
14552   &lt;/change&gt;
14553   &lt;change date=&quot;2 September 2003&quot; version=&quot;0.2.91&quot;&gt;
14554       Remove all metadata functions: GetClassMetadata,
14555       GetFieldMetadata, and GetMethodMetadata.
14556   &lt;/change&gt;
14557   &lt;change date=&quot;1 October 2003&quot; version=&quot;0.2.92&quot;&gt;
14558       Mark the functions Allocate. Deallocate, RawMonitor*,
14559       SetEnvironmentLocalStorage, and GetEnvironmentLocalStorage
14560       as safe for use in heap callbacks and GC events.
14561   &lt;/change&gt;
14562   &lt;change date=&quot;24 November 2003&quot; version=&quot;0.2.93&quot;&gt;
14563       Add pass through opaque user data pointer to heap iterate
14564       functions and callbacks.
14565       In the CompiledMethodUnload event, send the code address.
14566       Add GarbageCollectionOccurred event.
14567       Add constant pool reference kind.
14568       Mark the functions CreateRawMonitor and DestroyRawMonitor
14569       as safe for use in heap callbacks and GC events.
14570       Clarify: VMDeath, GetCurrentThreadCpuTimerInfo,
14571       GetThreadCpuTimerInfo, IterateOverReachableObjects,
14572       IterateOverObjectsReachableFromObject, GetTime and
14573       JVMTI_ERROR_NULL_POINTER.
14574       Add missing errors to: GenerateEvents and
14575       AddToBootstrapClassLoaderSearch.
14576       Fix description of ClassFileLoadHook name parameter.
14577       In heap callbacks and GC/ObjectFree events, specify
14578       that only explicitly allowed functions can be called.
14579       Allow GetCurrentThreadCpuTimerInfo, GetCurrentThreadCpuTime,
14580       GetTimerInfo, and GetTime during callback.
14581       Allow calling SetTag/GetTag during the onload phase.
14582       SetEventNotificationMode, add: error attempted inappropriate
14583       thread level control.
14584       Remove jvmtiExceptionHandlerEntry.
14585       Fix handling of native methods on the stack --
14586       location_ptr param of GetFrameLocation, remove
14587       JVMTI_ERROR_OPAQUE_FRAME from GetFrameLocation,
14588       jvmtiFrameInfo.location, and jlocation.
14589       Remove typo (from JVMPI) implying that the MonitorWaited
14590       event is sent on sleep.
14591   &lt;/change&gt;
14592   &lt;change date=&quot;25 November 2003&quot; version=&quot;0.2.94&quot;&gt;
14593       Clarifications and typos.
14594   &lt;/change&gt;
14595   &lt;change date=&quot;3 December 2003&quot; version=&quot;0.2.95&quot;&gt;
14596       Allow NULL user_data in heap iterators.
14597   &lt;/change&gt;
14598   &lt;change date=&quot;28 January 2004&quot; version=&quot;0.2.97&quot;&gt;
14599       Add GetThreadState, deprecate GetThreadStatus.
14600   &lt;/change&gt;
14601   &lt;change date=&quot;29 January 2004&quot; version=&quot;0.2.98&quot;&gt;
14602       INVALID_SLOT and TYPE_MISMATCH errors should be optional.
14603   &lt;/change&gt;
14604   &lt;change date=&quot;12 February 2004&quot; version=&quot;0.2.102&quot;&gt;
14605       Remove MonitorContendedExit.
14606       Added JNIEnv parameter to VMObjectAlloc.
14607       Clarified definition of class_tag and referrer_index
14608       parameters to heap callbacks.
14609   &lt;/change&gt;
14610   &lt;change date=&quot;16 Febuary 2004&quot; version=&quot;0.2.103&quot;&gt;
14611       Document JAVA_TOOL_OPTIONS.
14612   &lt;/change&gt;
14613   &lt;change date=&quot;17 Febuary 2004&quot; version=&quot;0.2.105&quot;&gt;
14614       Divide start phase into primordial and start.
14615       Add VMStart event
14616       Change phase associations of functions and events.
14617   &lt;/change&gt;
14618   &lt;change date=&quot;18 Febuary 2004&quot; version=&quot;0.3.6&quot;&gt;
14619       Elide deprecated GetThreadStatus.
14620       Bump minor version, subtract 100 from micro version
14621   &lt;/change&gt;
14622   &lt;change date=&quot;18 Febuary 2004&quot; version=&quot;0.3.7&quot;&gt;
14623       Document that timer nanosecond values are unsigned.
14624       Clarify text having to do with native methods.
14625   &lt;/change&gt;
14626   &lt;change date=&quot;19 Febuary 2004&quot; version=&quot;0.3.8&quot;&gt;
14627       Fix typos.
14628       Remove elided deprecated GetThreadStatus.
14629   &lt;/change&gt;
14630   &lt;change date=&quot;23 Febuary 2004&quot; version=&quot;0.3.9&quot;&gt;
14631       Require NotifyFramePop to act on suspended threads.
14632   &lt;/change&gt;
14633   &lt;change date=&quot;24 Febuary 2004&quot; version=&quot;0.3.10&quot;&gt;
14634       Add capabilities
14635         (&lt;internallink id=&quot;jvmtiCapabilities.can_redefine_any_class&quot;
14636          &gt;&lt;code&gt;can_redefine_any_class&lt;/code&gt;&lt;/internallink&gt;
14637       and
14638          &lt;internallink id=&quot;jvmtiCapabilities.can_generate_all_class_hook_events&quot;
14639          &gt;&lt;code&gt;can_generate_all_class_hook_events&lt;/code&gt;&lt;/internallink&gt;)
14640       and an error (&lt;errorlink id=&quot;JVMTI_ERROR_UNMODIFIABLE_CLASS&quot;&gt;&lt;/errorlink&gt;)
14641       which allow some classes to be unmodifiable.
14642   &lt;/change&gt;
14643   &lt;change date=&quot;28 Febuary 2004&quot; version=&quot;0.3.11&quot;&gt;
14644       Add JVMTI_ERROR_MUST_POSSESS_CAPABILITY to SetEventNotificationMode.
14645   &lt;/change&gt;
14646   &lt;change date=&quot;8 March 2004&quot; version=&quot;0.3.12&quot;&gt;
14647       Clarified CompiledMethodUnload so that it is clear the event
14648       may be posted after the class has been unloaded.
14649   &lt;/change&gt;
14650   &lt;change date=&quot;5 March 2004&quot; version=&quot;0.3.13&quot;&gt;
14651       Change the size parameter of VMObjectAlloc to jlong to match GetObjectSize.
14652   &lt;/change&gt;
14653   &lt;change date=&quot;13 March 2004&quot; version=&quot;0.3.14&quot;&gt;
14654       Added guideline for the use of the JNI FindClass function in event
14655       callback functions.
14656   &lt;/change&gt;
14657   &lt;change date=&quot;15 March 2004&quot; version=&quot;0.3.15&quot;&gt;
14658       Add GetAllStackTraces and GetThreadListStackTraces.
14659   &lt;/change&gt;
14660   &lt;change date=&quot;19 March 2004&quot; version=&quot;0.3.16&quot;&gt;
14661       ClassLoad and ClassPrepare events can be posted during start phase.
14662   &lt;/change&gt;
14663   &lt;change date=&quot;25 March 2004&quot; version=&quot;0.3.17&quot;&gt;
14664       Add JVMTI_ERROR_NATIVE_METHOD to GetLineNumberTable, GetLocalVariableTable,
14665       GetMaxLocals, GetArgumentsSize, GetMethodLocation, GetBytecodes.
14666   &lt;/change&gt;
14667   &lt;change date=&quot;29 March 2004&quot; version=&quot;0.3.18&quot;&gt;
14668       Return the timer kind in the timer information structure.
14669   &lt;/change&gt;
14670   &lt;change date=&quot;31 March 2004&quot; version=&quot;0.3.19&quot;&gt;
14671       Spec clarifications:
14672       JVMTI_THREAD_STATE_IN_NATIVE might not include JNI or &lt;jvmti/&gt;.
14673       ForceGarbageCollection does not run finalizers.
14674       The context of the specification is the Java platform.
14675       Warn about early instrumentation.
14676   &lt;/change&gt;
14677   &lt;change date=&quot;1 April 2004&quot; version=&quot;0.3.20&quot;&gt;
14678       Refinements to the above clarifications and
14679       Clarify that an error returned by Agent_OnLoad terminates the VM.
14680   &lt;/change&gt;
14681   &lt;change date=&quot;1 April 2004&quot; version=&quot;0.3.21&quot;&gt;
14682       Array class creation does not generate a class load event.
14683   &lt;/change&gt;
14684   &lt;change date=&quot;7 April 2004&quot; version=&quot;0.3.22&quot;&gt;
14685       Align thread state hierarchy more closely with java.lang.Thread.State.
14686   &lt;/change&gt;
14687   &lt;change date=&quot;12 April 2004&quot; version=&quot;0.3.23&quot;&gt;
14688       Clarify the documentation of thread state.
14689   &lt;/change&gt;
14690   &lt;change date=&quot;19 April 2004&quot; version=&quot;0.3.24&quot;&gt;
14691       Remove GarbageCollectionOccurred event -- can be done by agent.
14692   &lt;/change&gt;
14693   &lt;change date=&quot;22 April 2004&quot; version=&quot;0.3.25&quot;&gt;
14694       Define &quot;command-line option&quot;.
14695   &lt;/change&gt;
14696   &lt;change date=&quot;29 April 2004&quot; version=&quot;0.3.26&quot;&gt;
14697       Describe the intended use of bytecode instrumentation.
14698       Fix description of extension event first parameter.
14699   &lt;/change&gt;
14700   &lt;change date=&quot;30 April 2004&quot; version=&quot;0.3.27&quot;&gt;
14701       Clarification and typos.
14702   &lt;/change&gt;
14703   &lt;change date=&quot;18 May 2004&quot; version=&quot;0.3.28&quot;&gt;
14704       Remove DataDumpRequest event.
14705   &lt;/change&gt;
14706   &lt;change date=&quot;18 May 2004&quot; version=&quot;0.3.29&quot;&gt;
14707       Clarify RawMonitorWait with zero timeout.
14708       Clarify thread state after RunAgentThread.
14709   &lt;/change&gt;
14710   &lt;change date=&quot;24 May 2004&quot; version=&quot;0.3.30&quot;&gt;
14711       Clean-up: fix bad/old links, etc.
14712   &lt;/change&gt;
14713   &lt;change date=&quot;30 May 2004&quot; version=&quot;0.3.31&quot;&gt;
14714       Clarifications including:
14715       All character strings are modified UTF-8.
14716       Agent thread visibiity.
14717       Meaning of obsolete method version.
14718       Thread invoking heap callbacks,
14719   &lt;/change&gt;
14720   &lt;change date=&quot;1 June 2004&quot; version=&quot;1.0.32&quot;&gt;
14721       Bump major.minor version numbers to &quot;1.0&quot;.
14722   &lt;/change&gt;
14723   &lt;change date=&quot;2 June 2004&quot; version=&quot;1.0.33&quot;&gt;
14724       Clarify interaction between ForceGarbageCollection
14725       and ObjectFree.
14726   &lt;/change&gt;
14727   &lt;change date=&quot;6 June 2004&quot; version=&quot;1.0.34&quot;&gt;
14728       Restrict AddToBootstrapClassLoaderSearch and
14729       SetSystemProperty to the OnLoad phase only.
14730   &lt;/change&gt;
14731   &lt;change date=&quot;11 June 2004&quot; version=&quot;1.0.35&quot;&gt;
14732       Fix typo in SetTag.
14733   &lt;/change&gt;
14734   &lt;change date=&quot;18 June 2004&quot; version=&quot;1.0.36&quot;&gt;
14735       Fix trademarks.
14736       Add missing parameter in example GetThreadState usage.
14737   &lt;/change&gt;
14738   &lt;change date=&quot;4 August 2004&quot; version=&quot;1.0.37&quot;&gt;
14739       Copyright updates.
14740   &lt;/change&gt;
14741   &lt;change date=&quot;5 November 2004&quot; version=&quot;1.0.38&quot;&gt;
14742       Add missing function table layout.
14743       Add missing description of C++ member function format of functions.
14744       Clarify that name in CFLH can be NULL.
14745       Released as part of &lt;tm&gt;J2SE&lt;/tm&gt; 5.0.
14746   &lt;/change&gt;
14747   &lt;change date=&quot;24 April 2005&quot; version=&quot;1.1.47&quot;&gt;
14748       Bump major.minor version numbers to &quot;1.1&quot;.
14749       Add ForceEarlyReturn* functions.
14750       Add GetOwnedMonitorStackDepthInfo function.
14751       Add GetCurrentThread function.
14752       Add &quot;since&quot; version marker.
14753       Add AddToSystemClassLoaderSearch.
14754       Allow AddToBootstrapClassLoaderSearch be used in live phase.
14755       Fix historic rubbish in the descriptions of the heap_object_callback
14756       parameter of IterateOverHeap and IterateOverInstancesOfClass functions;
14757       disallow NULL for this parameter.
14758       Clarify, correct and make consistent: wording about current thread,
14759       opaque frames and insufficient number of frames in PopFrame.
14760       Consistently use &quot;current frame&quot; rather than &quot;topmost&quot;.
14761       Clarify the JVMTI_ERROR_TYPE_MISMATCH errors in GetLocal* and SetLocal*
14762       by making them compatible with those in ForceEarlyReturn*.
14763       Many other clarifications and wording clean ups.
14764   &lt;/change&gt;
14765   &lt;change date=&quot;25 April 2005&quot; version=&quot;1.1.48&quot;&gt;
14766       Add GetConstantPool.
14767       Switch references to the first edition of the VM Spec, to the seconds edition.
14768   &lt;/change&gt;
14769   &lt;change date=&quot;26 April 2005&quot; version=&quot;1.1.49&quot;&gt;
14770       Clarify minor/major version order in GetConstantPool.
14771   &lt;/change&gt;
14772   &lt;change date=&quot;26 April 2005&quot; version=&quot;1.1.50&quot;&gt;
14773       Add SetNativeMethodPrefix and SetNativeMethodPrefixes.
14774       Reassign GetOwnedMonitorStackDepthInfo to position 153.
14775       Break out Class Loader Search in its own documentation category.
14776       Deal with overly long lines in XML source.
14777   &lt;/change&gt;
14778   &lt;change date=&quot;29 April 2005&quot; version=&quot;1.1.51&quot;&gt;
14779       Allow agents be started in the live phase.
14780       Added paragraph about deploying agents.
14781   &lt;/change&gt;
14782   &lt;change date=&quot;30 April 2005&quot; version=&quot;1.1.52&quot;&gt;
14783       Add specification description to SetNativeMethodPrefix(es).
14784       Better define the conditions on GetConstantPool.
14785   &lt;/change&gt;
14786   &lt;change date=&quot;30 April 2005&quot; version=&quot;1.1.53&quot;&gt;
14787       Break out the GetClassVersionNumber function from GetConstantPool.
14788       Clean-up the references to the VM Spec.
14789   &lt;/change&gt;
14790   &lt;change date=&quot;1 May 2005&quot; version=&quot;1.1.54&quot;&gt;
14791       Allow SetNativeMethodPrefix(es) in any phase.
14792       Add clarifications about the impact of redefinition on GetConstantPool.
14793   &lt;/change&gt;
14794   &lt;change date=&quot;2 May 2005&quot; version=&quot;1.1.56&quot;&gt;
14795       Various clarifications to SetNativeMethodPrefix(es).
14796   &lt;/change&gt;
14797   &lt;change date=&quot;2 May 2005&quot; version=&quot;1.1.57&quot;&gt;
14798       Add missing performance warning to the method entry event.
14799   &lt;/change&gt;
14800   &lt;change date=&quot;5 May 2005&quot; version=&quot;1.1.58&quot;&gt;
14801       Remove internal JVMDI support.
14802   &lt;/change&gt;
14803   &lt;change date=&quot;8 May 2005&quot; version=&quot;1.1.59&quot;&gt;
14804       Add &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;.
14805       Revamp the bytecode instrumentation documentation.
14806       Change &lt;functionlink id=&quot;IsMethodObsolete&quot;/&gt; to no longer
14807       require the can_redefine_classes capability.
14808   &lt;/change&gt;
14809   &lt;change date=&quot;11 May 2005&quot; version=&quot;1.1.63&quot;&gt;
14810       Clarifications for retransformation.
14811   &lt;/change&gt;
14812   &lt;change date=&quot;11 May 2005&quot; version=&quot;1.1.64&quot;&gt;
14813       Clarifications for retransformation, per review.
14814       Lock &quot;retransformation (in)capable&quot; at class load enable time.
14815   &lt;/change&gt;
14816   &lt;change date=&quot;4 June 2005&quot; version=&quot;1.1.67&quot;&gt;
14817       Add new heap functionity which supports reporting primitive values,
14818       allows setting the referrer tag, and has more powerful filtering:
14819       FollowReferences, IterateThroughHeap, and their associated
14820       callbacks, structs, enums, and constants.
14821   &lt;/change&gt;
14822   &lt;change date=&quot;4 June 2005&quot; version=&quot;1.1.68&quot;&gt;
14823       Clarification.
14824   &lt;/change&gt;
14825   &lt;change date=&quot;6 June 2005&quot; version=&quot;1.1.69&quot;&gt;
14826       FollowReferences, IterateThroughHeap: Put callbacks in a struct;
14827       Add missing error codes; reduce bits in the visit control flags.
14828   &lt;/change&gt;
14829   &lt;change date=&quot;14 June 2005&quot; version=&quot;1.1.70&quot;&gt;
14830       More on new heap functionity: spec clean-up per review.
14831   &lt;/change&gt;
14832   &lt;change date=&quot;15 June 2005&quot; version=&quot;1.1.71&quot;&gt;
14833       More on new heap functionity: Rename old heap section to Heap (1.0).
14834   &lt;/change&gt;
14835   &lt;change date=&quot;21 June 2005&quot; version=&quot;1.1.72&quot;&gt;
14836       Fix typos.
14837   &lt;/change&gt;
14838   &lt;change date=&quot;27 June 2005&quot; version=&quot;1.1.73&quot;&gt;
14839       Make referrer info structure a union.
14840   &lt;/change&gt;
14841   &lt;change date=&quot;9 September 2005&quot; version=&quot;1.1.74&quot;&gt;
14842       In new heap functions:
14843       Add missing superclass reference kind.
14844       Use a single scheme for computing field indexes.
14845       Remove outdated references to struct based referrer info.
14846   &lt;/change&gt;
14847   &lt;change date=&quot;12 September 2005&quot; version=&quot;1.1.75&quot;&gt;
14848       Don&#39;t callback during FollowReferences on frivolous java.lang.Object superclass.
14849   &lt;/change&gt;
14850   &lt;change date=&quot;13 September 2005&quot; version=&quot;1.1.76&quot;&gt;
14851       In string primitive callback, length now Unicode length.
14852       In array and string primitive callbacks, value now &quot;const&quot;.
14853       Note possible compiler impacts on setting JNI function table.
14854   &lt;/change&gt;
14855   &lt;change date=&quot;13 September 2005&quot; version=&quot;1.1.77&quot;&gt;
14856       GetClassVersionNumbers() and GetConstantPool() should return
14857       error on array or primitive class.
14858   &lt;/change&gt;
14859   &lt;change date=&quot;14 September 2005&quot; version=&quot;1.1.78&quot;&gt;
14860       Grammar fixes.
14861   &lt;/change&gt;
14862   &lt;change date=&quot;26 September 2005&quot; version=&quot;1.1.79&quot;&gt;
14863       Add IsModifiableClass query.
14864   &lt;/change&gt;
14865   &lt;change date=&quot;9 February 2006&quot; version=&quot;1.1.81&quot;&gt;
14866       Add referrer_class_tag parameter to jvmtiHeapReferenceCallback.
14867   &lt;/change&gt;
14868   &lt;change date=&quot;13 February 2006&quot; version=&quot;1.1.82&quot;&gt;
14869       Doc fixes: update can_redefine_any_class to include retransform.
14870       Clarify that exception events cover all Throwables.
14871       In GetStackTrace, no test is done for start_depth too big if start_depth is zero,
14872       Clarify fields reported in Primitive Field Callback -- static vs instance.
14873       Repair confusing names of heap types, including callback names.
14874       Require consistent usage of stack depth in the face of thread launch methods.
14875       Note incompatibility of &lt;jvmti/&gt; memory management with other systems.
14876   &lt;/change&gt;
14877   &lt;change date=&quot;14 February 2006&quot; version=&quot;1.1.85&quot;&gt;
14878       Fix typos and missing renames.
14879   &lt;/change&gt;
14880   &lt;change date=&quot;13 March 2006&quot; version=&quot;1.1.86&quot;&gt;
14881       Clarify that jmethodIDs and jfieldIDs can be saved.
14882       Clarify that Iterate Over Instances Of Class includes subclasses.
14883   &lt;/change&gt;
14884   &lt;change date=&quot;14 March 2006&quot; version=&quot;1.1.87&quot;&gt;
14885       Better phrasing.
14886   &lt;/change&gt;
14887   &lt;change date=&quot;16 March 2006&quot; version=&quot;1.1.88&quot;&gt;
14888       Match the referrer_index for static fields in Object Reference Callback
14889       with the Reference Implementation (and all other known implementations);
14890       that is, make it match the definition for instance fields.
14891       In GetThreadListStackTraces, add JVMTI_ERROR_INVALID_THREAD to cover
14892       an invalid thread in the list; and specify that not started threads
14893       return empty stacks.
14894   &lt;/change&gt;
14895   &lt;change date=&quot;17 March 2006&quot; version=&quot;1.1.89&quot;&gt;
14896       Typo.
14897   &lt;/change&gt;
14898   &lt;change date=&quot;25 March 2006&quot; version=&quot;1.1.90&quot;&gt;
14899       Typo.
14900   &lt;/change&gt;
14901   &lt;change date=&quot;6 April 2006&quot; version=&quot;1.1.91&quot;&gt;
14902       Remove restrictions on AddToBootstrapClassLoaderSearch and
14903       AddToSystemClassLoaderSearch.
14904   &lt;/change&gt;
14905   &lt;change date=&quot;1 May 2006&quot; version=&quot;1.1.93&quot;&gt;
14906       Changed spec to return -1 for monitor stack depth for the
14907       implementation which can not determine stack depth.
14908   &lt;/change&gt;
14909   &lt;change date=&quot;3 May 2006&quot; version=&quot;1.1.94&quot;&gt;
14910       Corrections for readability and accuracy courtesy of Alan Pratt of IBM.
14911       List the object relationships reported in FollowReferences.
14912   &lt;/change&gt;
14913   &lt;change date=&quot;5 May 2006&quot; version=&quot;1.1.95&quot;&gt;
14914       Clarify the object relationships reported in FollowReferences.
14915   &lt;/change&gt;
14916   &lt;change date=&quot;28 June 2006&quot; version=&quot;1.1.98&quot;&gt;
14917       Clarify DisposeEnvironment; add warning.
14918       Fix typos in SetLocalXXX &quot;retrieve&quot; =&gt; &quot;set&quot;.
14919       Clarify that native method prefixes must remain set while used.
14920       Clarify that exactly one Agent_OnXXX is called per agent.
14921       Clarify that library loading is independent from start-up.
14922       Remove ambiguous reference to Agent_OnLoad in the Agent_OnUnload spec.
14923   &lt;/change&gt;
14924   &lt;change date=&quot;31 July 2006&quot; version=&quot;1.1.99&quot;&gt;
14925       Clarify the interaction between functions and exceptions.
14926       Clarify and give examples of field indices.
14927       Remove confusing &quot;That is&quot; sentence from MonitorWait and MonitorWaited events.
14928       Update links to point to Java 6.
14929   &lt;/change&gt;
14930   &lt;change date=&quot;6 August 2006&quot; version=&quot;1.1.102&quot;&gt;
14931       Add ResourceExhaustedEvent.
14932   &lt;/change&gt;
14933   &lt;change date=&quot;11 October 2012&quot; version=&quot;1.2.2&quot;&gt;
14934       Fixed the &quot;HTTP&quot; and &quot;Missing Anchor&quot; errors reported by the LinkCheck tool.
14935   &lt;/change&gt;
14936   &lt;change date=&quot;19 June 2013&quot; version=&quot;1.2.3&quot;&gt;
14937       Added support for statically linked agents.
14938   &lt;/change&gt;
14939   &lt;change date=&quot;13 October 2016&quot; version=&quot;9.0.0&quot;&gt;
14940       Support for modules:
14941        - The majorversion is 9 now
14942        - The ClassFileLoadHook events are not sent during the primordial phase anymore.
14943        - Allow CompiledMethodLoad events at start phase
14944        - Add new capabilities:
14945           - can_generate_early_vmstart
14946           - can_generate_early_class_hook_events
14947        - Add new functions:
14948           - GetAllModules
14949           - AddModuleReads, AddModuleExports, AddModuleOpens, AddModuleUses, AddModuleProvides
14950           - IsModifiableModule
14951       Clarified can_redefine_any_classes, can_retransform_any_classes and IsModifiableClass API to
14952       disallow some implementation defined classes.
14953   &lt;/change&gt;
14954   &lt;change date=&quot;12 February 2017&quot; version=&quot;9.0.0&quot;&gt;
14955       Minor update for GetCurrentThread function:
14956        - The function may return NULL in the start phase if the
14957          can_generate_early_vmstart capability is enabled.
14958   &lt;/change&gt;
14959   &lt;change date=&quot;7 February 2018&quot; version=&quot;11.0.0&quot;&gt;
14960       Minor update for new class file NestHost and NestMembers attributes:
14961         - Specify that RedefineClasses and RetransformClasses are not allowed
14962           to change the class file NestHost and NestMembers attributes.
14963         - Add new error JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_ATTRIBUTE_CHANGED
14964           that can be returned by RedefineClasses and RetransformClasses.
14965   &lt;/change&gt;
14966   &lt;change date=&quot;20 May 2019&quot; version=&quot;13.0.0&quot;&gt;
14967       Minor spec update for the capability &quot;can_redefine_any_class&quot;.
14968       It now says:
14969        &quot;RedefineClasses can be called on any modifiable class. See IsModifiableClass.
14970        (can_redefine_classes must also be set)&quot;
14971   &lt;/change&gt;
14972   &lt;change date=&quot;5 June 2019&quot; version=&quot;13.0.0&quot;&gt;
14973       Minor PopFrame spec update:
14974         - The specified thread must be suspended or must be the current thread.
14975           (It was not allowed to be the current thread before.)
14976   &lt;/change&gt;
14977   &lt;change date=&quot;10 October 2019&quot; version=&quot;14.0.0&quot;&gt;
14978       Minor update for new class file Record attribute:
14979         - Specify that RedefineClasses and RetransformClasses are not allowed
14980           to change the class file Record attribute.
14981   &lt;/change&gt;
14982 &lt;/changehistory&gt;
14983 
14984 &lt;/specification&gt;
14985 &lt;!-- Keep this comment at the end of the file
14986 Local variables:
14987 mode: sgml
14988 sgml-omittag:t
14989 sgml-shorttag:t
14990 sgml-namecase-general:t
14991 sgml-general-insert-case:lower
14992 sgml-minimize-attributes:nil
14993 sgml-always-quote-attributes:t
14994 sgml-indent-step:2
14995 sgml-indent-data:t
14996 sgml-parent-document:nil
14997 sgml-exposed-tags:nil
14998 sgml-local-catalogs:nil
14999 sgml-local-ecat-files:nil
15000 End:
15001 --&gt;
    </pre>
  </body>
</html>