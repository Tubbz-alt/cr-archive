<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/hotspot/share/prims/jvmtiLib.xsl</title>
    <link rel="stylesheet" href="../../../../style.css" />
    <script type="text/javascript" src="../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>   1 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
   2 &lt;!--
   3 
<a name="1" id="anc1"></a><span class="line-modified">   4  Copyright (c) 2002, 2018, Oracle and/or its affiliates. All rights reserved.</span>
   5  DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   6 
   7  This code is free software; you can redistribute it and/or modify it
   8  under the terms of the GNU General Public License version 2 only, as
   9  published by the Free Software Foundation.
  10 
  11  This code is distributed in the hope that it will be useful, but WITHOUT
  12  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  version 2 for more details (a copy is included in the LICENSE file that
  15  accompanied this code).
  16 
  17  You should have received a copy of the GNU General Public License version
  18  2 along with this work; if not, write to the Free Software Foundation,
  19  Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20 
  21  Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  or visit www.oracle.com if you need additional information or have any
  23  questions.
  24   
  25 --&gt;
  26 
  27 &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;
  28                 version=&quot;1.0&quot;&gt;
  29 
<a name="2" id="anc2"></a>

  30   &lt;xsl:template name=&quot;microversion&quot;&gt;
<a name="3" id="anc3"></a><span class="line-modified">  31     &lt;xsl:value-of select=&quot;//specification/@microversion&quot;/&gt;</span>

  32   &lt;/xsl:template&gt;
  33 
  34   &lt;xsl:template name=&quot;showbasicversion&quot;&gt;
<a name="4" id="anc4"></a><span class="line-modified">  35     &lt;xsl:value-of select=&quot;//specification/@majorversion&quot;/&gt;</span>
<span class="line-modified">  36     &lt;xsl:text&gt;.&lt;/xsl:text&gt;</span>
<span class="line-modified">  37     &lt;xsl:value-of select=&quot;//specification/@minorversion&quot;/&gt;</span>
  38   &lt;/xsl:template&gt;
  39 
  40   &lt;xsl:template name=&quot;showversion&quot;&gt;
  41     &lt;xsl:call-template name=&quot;showbasicversion&quot;/&gt;
  42     &lt;xsl:text&gt;.&lt;/xsl:text&gt;
  43     &lt;xsl:call-template name=&quot;microversion&quot;/&gt;
  44   &lt;/xsl:template&gt;
  45 
  46   &lt;xsl:variable name=&quot;GPL_header&quot;&gt;
  47     &lt;!-- The Copyright comment from jvmti.xml --&gt;
  48     &lt;xsl:value-of select=&quot;/comment()[position()=1]&quot;/&gt;
  49   &lt;/xsl:variable&gt;
  50 
  51   &lt;xsl:variable name=&quot;GPL_CP_header_body&quot;&gt;
  52     &lt;xsl:text&gt; * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.&amp;#xA;&lt;/xsl:text&gt;
  53     &lt;xsl:text&gt; *&amp;#xA;&lt;/xsl:text&gt;
  54     &lt;xsl:text&gt; * This code is free software; you can redistribute it and/or modify it&amp;#xA;&lt;/xsl:text&gt;
  55     &lt;xsl:text&gt; * under the terms of the GNU General Public License version 2 only, as&amp;#xA;&lt;/xsl:text&gt;
  56     &lt;xsl:text&gt; * published by the Free Software Foundation.  Oracle designates this&amp;#xA;&lt;/xsl:text&gt;
  57     &lt;xsl:text&gt; * particular file as subject to the &quot;Classpath&quot; exception as provided&amp;#xA;&lt;/xsl:text&gt;
  58     &lt;xsl:text&gt; * by Oracle in the LICENSE file that accompanied this code.&amp;#xA;&lt;/xsl:text&gt;
  59     &lt;xsl:text&gt; *&amp;#xA;&lt;/xsl:text&gt;
  60     &lt;xsl:text&gt; * This code is distributed in the hope that it will be useful, but WITHOUT&amp;#xA;&lt;/xsl:text&gt;
  61     &lt;xsl:text&gt; * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or&amp;#xA;&lt;/xsl:text&gt;
  62     &lt;xsl:text&gt; * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License&amp;#xA;&lt;/xsl:text&gt;
  63     &lt;xsl:text&gt; * version 2 for more details (a copy is included in the LICENSE file that&amp;#xA;&lt;/xsl:text&gt;
  64     &lt;xsl:text&gt; * accompanied this code).&amp;#xA;&lt;/xsl:text&gt;
  65     &lt;xsl:text&gt; *&amp;#xA;&lt;/xsl:text&gt;
  66     &lt;xsl:text&gt; * You should have received a copy of the GNU General Public License version&amp;#xA;&lt;/xsl:text&gt;
  67     &lt;xsl:text&gt; * 2 along with this work; if not, write to the Free Software Foundation,&amp;#xA;&lt;/xsl:text&gt;
  68     &lt;xsl:text&gt; * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.&amp;#xA;&lt;/xsl:text&gt;
  69     &lt;xsl:text&gt; *&amp;#xA;&lt;/xsl:text&gt;
  70     &lt;xsl:text&gt; * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA&amp;#xA;&lt;/xsl:text&gt;
  71     &lt;xsl:text&gt; * or visit www.oracle.com if you need additional information or have any&amp;#xA;&lt;/xsl:text&gt;
  72     &lt;xsl:text&gt; * questions.&amp;#xA;&lt;/xsl:text&gt;
  73   &lt;/xsl:variable&gt;
  74 
  75   &lt;xsl:template name=&quot;copyrightComment&quot;&gt;
  76     &lt;xsl:text&gt;/*&lt;/xsl:text&gt;
  77     &lt;!-- The Copyright comment from jvmti.xml --&gt;
  78     &lt;xsl:value-of select=&quot;$GPL_header&quot;/&gt;
  79     &lt;xsl:text&gt; */&amp;#xA;&amp;#xA;&lt;/xsl:text&gt;
  80   &lt;/xsl:template&gt;
  81 
  82   &lt;xsl:template name=&quot;GPL_CP_copyrightComment&quot;&gt;
  83     &lt;xsl:text&gt;/*&amp;#xA; *&lt;/xsl:text&gt;
  84     &lt;!-- The Copyright year from jvmti.xml --&gt;
  85     &lt;xsl:value-of select=&quot;substring-after(substring-before($GPL_header, &#39; DO NOT ALTER&#39;), &#39;&amp;#xA;&#39;)&quot;/&gt;
  86     &lt;!-- The GPL+CP Copyright header body --&gt;
  87     &lt;xsl:value-of select=&quot;$GPL_CP_header_body&quot;/&gt;
  88     &lt;xsl:text&gt; */&amp;#xA;&amp;#xA;&lt;/xsl:text&gt;
  89   &lt;/xsl:template&gt;
  90 
  91   &lt;xsl:template name=&quot;include_GPL_CP_Header&quot;&gt;
  92     &lt;xsl:call-template name=&quot;GPL_CP_copyrightComment&quot;/&gt;
  93     &lt;xsl:text&gt; /* AUTOMATICALLY GENERATED FILE - DO NOT EDIT */&amp;#xA;&lt;/xsl:text&gt;    
  94   &lt;/xsl:template&gt;
  95 
  96   &lt;xsl:template name=&quot;includeHeader&quot;&gt;
  97     &lt;xsl:call-template name=&quot;copyrightComment&quot;/&gt;
  98     &lt;xsl:text&gt; /* AUTOMATICALLY GENERATED FILE - DO NOT EDIT */&amp;#xA;&lt;/xsl:text&gt;    
  99   &lt;/xsl:template&gt;
 100 
 101   &lt;xsl:template name=&quot;sourceHeader&quot;&gt;
 102     &lt;xsl:call-template name=&quot;copyrightComment&quot;/&gt;
 103     &lt;xsl:text&gt; // AUTOMATICALLY GENERATED FILE - DO NOT EDIT&amp;#xA;&lt;/xsl:text&gt;    
 104   &lt;/xsl:template&gt;
 105 
 106 
 107 &lt;xsl:template match=&quot;parameters&quot; mode=&quot;signature&quot;&gt;
 108   &lt;xsl:param name=&quot;comma&quot;&gt;
 109     &lt;xsl:text&gt;,
 110             &lt;/xsl:text&gt;
 111   &lt;/xsl:param&gt;
 112   &lt;xsl:if test=&quot;count(param) != 0&quot;&gt;
 113     &lt;xsl:value-of select=&quot;$comma&quot;/&gt;
 114   &lt;/xsl:if&gt;
 115   &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;signaturenoleadcomma&quot;&gt;
 116     &lt;xsl:with-param name=&quot;comma&quot; select=&quot;$comma&quot;/&gt;
 117   &lt;/xsl:apply-templates&gt;
 118 &lt;/xsl:template&gt;
 119 
 120 
 121 &lt;xsl:template match=&quot;parameters&quot; mode=&quot;signaturenoleadcomma&quot;&gt;
 122   &lt;xsl:param name=&quot;comma&quot;&gt;
 123     &lt;xsl:text&gt;,
 124             &lt;/xsl:text&gt;
 125   &lt;/xsl:param&gt;
 126   &lt;xsl:variable name=&quot;length&quot; select=&quot;count(param)&quot;/&gt;
 127   &lt;xsl:for-each select=&quot;param&quot;&gt;
 128     &lt;xsl:variable name=&quot;separator&quot;&gt;
 129         &lt;xsl:choose&gt;
 130           &lt;xsl:when test=&quot;position()=$length&quot;&gt;
 131             &lt;xsl:text&gt;&lt;/xsl:text&gt;
 132           &lt;/xsl:when&gt;
 133           &lt;xsl:otherwise&gt;
 134             &lt;xsl:value-of select=&quot;$comma&quot;/&gt;
 135           &lt;/xsl:otherwise&gt;
 136         &lt;/xsl:choose&gt;
 137     &lt;/xsl:variable&gt;
 138     &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;signature&quot;&gt;
 139       &lt;xsl:with-param name=&quot;comma&quot; select=&quot;$separator&quot;/&gt;
 140     &lt;/xsl:apply-templates&gt;
 141   &lt;/xsl:for-each&gt;
 142 &lt;/xsl:template&gt;
 143 
 144 
 145 &lt;!-- remove jclass parameters that are jclass/jmethodID pairs.
 146      since the jclass was removed in JVMTI.
 147 --&gt;
 148 &lt;xsl:template match=&quot;param&quot; mode=&quot;signature&quot;&gt;
 149   &lt;xsl:param name=&quot;comma&quot;/&gt;
 150   &lt;xsl:variable name=&quot;id&quot; select=&quot;@id&quot;/&gt;
 151   &lt;xsl:for-each select=&quot;child::*[position()=1]&quot;&gt;
 152     &lt;xsl:if test=&quot;count(@method)=0&quot;&gt;
 153       &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;signature&quot;/&gt;
 154       &lt;xsl:text&gt; &lt;/xsl:text&gt;
 155       &lt;xsl:value-of select=&quot;$id&quot;/&gt;
 156       &lt;xsl:value-of select=&quot;$comma&quot;/&gt;
 157     &lt;/xsl:if&gt;
 158   &lt;/xsl:for-each&gt;
 159 &lt;/xsl:template&gt;
 160 
 161 
 162 &lt;xsl:template match=&quot;field&quot; mode=&quot;signature&quot;&gt;
 163   &lt;xsl:text&gt;    &lt;/xsl:text&gt;
 164   &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;signature&quot;/&gt;
 165   &lt;xsl:text&gt; &lt;/xsl:text&gt;
 166   &lt;xsl:value-of select=&quot;@id&quot;/&gt;
 167   &lt;xsl:text&gt;;
 168 &lt;/xsl:text&gt;
 169 &lt;/xsl:template&gt;
 170 
 171 &lt;xsl:template match=&quot;nullok&quot; mode=&quot;funcdescription&quot;&gt;
 172   If
 173   &lt;code&gt;
 174     &lt;xsl:value-of select=&quot;../../@id&quot;/&gt;
 175   &lt;/code&gt;
 176   is
 177   &lt;code&gt;NULL&lt;/code&gt;, &lt;xsl:apply-templates/&gt;.
 178 &lt;/xsl:template&gt;
 179 
 180 &lt;xsl:template match=&quot;vmbuf|allocfieldbuf|struct&quot; mode=&quot;funcdescription&quot;&gt;
 181   &lt;xsl:message terminate=&quot;yes&quot;&gt;
 182     vmbuf|allocfieldbuf|struct as type of function parameter
 183   &lt;/xsl:message&gt;
 184 &lt;/xsl:template&gt;
 185 
 186 &lt;xsl:template match=&quot;ptrtype&quot; mode=&quot;funcdescription&quot;&gt;
 187   &lt;div class=&quot;sep&quot;/&gt;
 188   &lt;xsl:apply-templates select=&quot;nullok&quot; mode=&quot;funcdescription&quot;/&gt;
 189 &lt;/xsl:template&gt;
 190 
 191 &lt;xsl:template match=&quot;inptr&quot; mode=&quot;funcdescription&quot;&gt;
 192   &lt;div class=&quot;sep&quot;/&gt;
 193   &lt;xsl:variable name=&quot;child&quot; select=&quot;child::*[position()=1]&quot;/&gt;
 194   &lt;xsl:text&gt;Agent passes in a pointer&lt;/xsl:text&gt;
 195   &lt;xsl:if test=&quot;name($child)!=&#39;void&#39;&quot;&gt;
 196     &lt;xsl:text&gt; to &lt;/xsl:text&gt;
 197     &lt;code&gt;
 198       &lt;xsl:apply-templates select=&quot;$child&quot; mode=&quot;signature&quot;/&gt; 
 199     &lt;/code&gt;
 200   &lt;/xsl:if&gt;
 201   &lt;xsl:text&gt;. &lt;/xsl:text&gt;
 202   &lt;xsl:apply-templates select=&quot;nullok&quot; mode=&quot;funcdescription&quot;/&gt;
 203 &lt;/xsl:template&gt;
 204 
 205 &lt;xsl:template match=&quot;inbuf&quot; mode=&quot;funcdescription&quot;&gt;
 206   &lt;div class=&quot;sep&quot;/&gt;
 207   &lt;xsl:variable name=&quot;child&quot; select=&quot;child::*[position()=1]&quot;/&gt;
 208   &lt;xsl:text&gt;Agent passes in &lt;/xsl:text&gt;
 209   &lt;xsl:choose&gt;
 210     &lt;xsl:when test=&quot;name($child)=&#39;void&#39;&quot;&gt;
 211       &lt;xsl:text&gt; a pointer&lt;/xsl:text&gt;
 212     &lt;/xsl:when&gt;
 213     &lt;xsl:otherwise&gt;
 214       &lt;xsl:text&gt; an array of &lt;/xsl:text&gt;
 215       &lt;xsl:if test=&quot;count(@incount)=1 and @incount!=&#39;&#39;&quot;&gt;
 216         &lt;code&gt;
 217           &lt;xsl:value-of select=&quot;@incount&quot;/&gt;
 218         &lt;/code&gt;
 219         &lt;xsl:text&gt; elements of &lt;/xsl:text&gt;
 220       &lt;/xsl:if&gt;
 221       &lt;code&gt;
 222         &lt;xsl:apply-templates select=&quot;$child&quot; mode=&quot;signature&quot;/&gt; 
 223       &lt;/code&gt;
 224     &lt;/xsl:otherwise&gt;
 225   &lt;/xsl:choose&gt;
 226   &lt;xsl:text&gt;. &lt;/xsl:text&gt;
 227   &lt;xsl:apply-templates select=&quot;nullok&quot; mode=&quot;funcdescription&quot;/&gt;
 228 &lt;/xsl:template&gt;
 229 
 230 &lt;xsl:template match=&quot;outptr&quot; mode=&quot;funcdescription&quot;&gt;
 231   &lt;div class=&quot;sep&quot;/&gt;
 232   &lt;xsl:text&gt;Agent passes a pointer to a &lt;/xsl:text&gt;
 233   &lt;code&gt;
 234     &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;signature&quot;/&gt; 
 235   &lt;/code&gt;
 236   &lt;xsl:text&gt;. &lt;/xsl:text&gt;
 237   &lt;xsl:text&gt;On return, the &lt;/xsl:text&gt;
 238   &lt;code&gt;
 239     &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;signature&quot;/&gt; 
 240   &lt;/code&gt;
 241   &lt;xsl:text&gt; has been set. &lt;/xsl:text&gt;
 242   &lt;xsl:apply-templates select=&quot;nullok&quot; mode=&quot;funcdescription&quot;/&gt;
 243   &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;returndescription&quot;/&gt;
 244 &lt;/xsl:template&gt;
 245 
 246 &lt;xsl:template match=&quot;allocbuf&quot; mode=&quot;funcdescription&quot;&gt;
 247   &lt;div class=&quot;sep&quot;/&gt;
 248   &lt;xsl:text&gt;Agent passes a pointer to a &lt;/xsl:text&gt;
 249   &lt;code&gt;
 250     &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;signature&quot;/&gt; 
 251     &lt;xsl:text&gt;*&lt;/xsl:text&gt;
 252   &lt;/code&gt;
 253   &lt;xsl:text&gt;. &lt;/xsl:text&gt;
 254   &lt;xsl:text&gt;On return, the &lt;/xsl:text&gt;
 255   &lt;code&gt;
 256     &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;signature&quot;/&gt; 
 257     &lt;xsl:text&gt;*&lt;/xsl:text&gt;
 258   &lt;/code&gt;
 259   &lt;xsl:text&gt; points to a newly allocated array&lt;/xsl:text&gt;
 260   &lt;xsl:choose&gt;
 261     &lt;xsl:when test=&quot;count(@outcount)=1 and @outcount!=&#39;&#39;&quot;&gt;
 262       &lt;xsl:text&gt; of size &lt;/xsl:text&gt;
 263       &lt;code&gt;
 264         &lt;xsl:text&gt;*&lt;/xsl:text&gt;
 265         &lt;xsl:value-of select=&quot;@outcount&quot;/&gt;
 266       &lt;/code&gt;
 267     &lt;/xsl:when&gt;
 268     &lt;xsl:otherwise&gt;
 269       &lt;xsl:if test=&quot;count(@incount)=1 and @incount!=&#39;&#39;&quot;&gt;
 270         &lt;xsl:text&gt; of size &lt;/xsl:text&gt;
 271         &lt;code&gt;
 272           &lt;xsl:value-of select=&quot;@incount&quot;/&gt;
 273         &lt;/code&gt;
 274       &lt;/xsl:if&gt;
 275     &lt;/xsl:otherwise&gt;
 276   &lt;/xsl:choose&gt;
 277   &lt;xsl:text&gt;.  The array should be freed with &lt;/xsl:text&gt;
 278   &lt;a href=&quot;#Deallocate&quot;&gt;&lt;code&gt;Deallocate&lt;/code&gt;&lt;/a&gt;
 279   &lt;xsl:text&gt;. &lt;/xsl:text&gt;
 280   &lt;xsl:apply-templates select=&quot;nullok&quot; mode=&quot;funcdescription&quot;/&gt;
 281   &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;returndescription&quot;&gt;
 282     &lt;xsl:with-param name=&quot;plural&quot; select=&quot;&#39;plural&#39;&quot;/&gt;
 283   &lt;/xsl:apply-templates&gt;
 284 &lt;/xsl:template&gt;
 285 
 286 &lt;xsl:template match=&quot;allocallocbuf&quot; mode=&quot;funcdescription&quot;&gt;
 287   &lt;div class=&quot;sep&quot;/&gt;
 288   &lt;xsl:text&gt;Agent passes a pointer to a &lt;/xsl:text&gt;
 289   &lt;code&gt;
 290     &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;signature&quot;/&gt; 
 291     &lt;xsl:text&gt;**&lt;/xsl:text&gt;
 292   &lt;/code&gt;
 293   &lt;xsl:text&gt;. &lt;/xsl:text&gt;
 294   &lt;xsl:text&gt;On return, the &lt;/xsl:text&gt;
 295   &lt;code&gt;
 296     &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;signature&quot;/&gt; 
 297     &lt;xsl:text&gt;**&lt;/xsl:text&gt;
 298   &lt;/code&gt;
 299   &lt;xsl:text&gt; points to a newly allocated array&lt;/xsl:text&gt;
 300   &lt;xsl:choose&gt;
 301     &lt;xsl:when test=&quot;count(@outcount)=1 and @outcount!=&#39;&#39;&quot;&gt;
 302       &lt;xsl:text&gt; of size &lt;/xsl:text&gt;
 303       &lt;code&gt;
 304         &lt;xsl:text&gt;*&lt;/xsl:text&gt;
 305         &lt;xsl:value-of select=&quot;@outcount&quot;/&gt;
 306       &lt;/code&gt;
 307     &lt;/xsl:when&gt;
 308     &lt;xsl:otherwise&gt;
 309       &lt;xsl:if test=&quot;count(@incount)=1 and @incount!=&#39;&#39;&quot;&gt;
 310         &lt;xsl:text&gt; of size &lt;/xsl:text&gt;
 311         &lt;code&gt;
 312           &lt;xsl:value-of select=&quot;@incount&quot;/&gt;
 313         &lt;/code&gt;
 314       &lt;/xsl:if&gt;
 315     &lt;/xsl:otherwise&gt;
 316   &lt;/xsl:choose&gt;
 317   &lt;xsl:text&gt;, each element of which is also newly allocated.
 318   The array should be freed with &lt;/xsl:text&gt;
 319   &lt;a href=&quot;#Deallocate&quot;&gt;&lt;code&gt;Deallocate&lt;/code&gt;&lt;/a&gt;
 320   &lt;xsl:text&gt;. 
 321   Each of the elements should be freed with &lt;/xsl:text&gt;
 322   &lt;a href=&quot;#Deallocate&quot;&gt;&lt;code&gt;Deallocate&lt;/code&gt;&lt;/a&gt;
 323   &lt;xsl:text&gt;. &lt;/xsl:text&gt;
 324   &lt;xsl:apply-templates select=&quot;nullok&quot; mode=&quot;funcdescription&quot;/&gt;
 325   &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;returndescription&quot;&gt;
 326     &lt;xsl:with-param name=&quot;plural&quot; select=&quot;&#39;plural&#39;&quot;/&gt;
 327   &lt;/xsl:apply-templates&gt;
 328 &lt;/xsl:template&gt;
 329 
 330 &lt;xsl:template match=&quot;outbuf&quot; mode=&quot;funcdescription&quot;&gt;
 331   &lt;div class=&quot;sep&quot;/&gt;
 332   &lt;xsl:text&gt;Agent passes an array &lt;/xsl:text&gt;
 333   &lt;xsl:if test=&quot;count(@incount)=1 and @incount!=&#39;&#39;&quot;&gt;
 334     &lt;xsl:text&gt;large enough to hold &lt;/xsl:text&gt;
 335     &lt;code&gt;
 336       &lt;xsl:value-of select=&quot;@incount&quot;/&gt;
 337     &lt;/code&gt;
 338     &lt;xsl:text&gt; elements &lt;/xsl:text&gt;
 339   &lt;/xsl:if&gt;
 340   &lt;xsl:text&gt;of &lt;/xsl:text&gt;
 341   &lt;code&gt;
 342     &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;signature&quot;/&gt; 
 343   &lt;/code&gt;
 344   &lt;xsl:text&gt;. The incoming values of the elements of the array are ignored. &lt;/xsl:text&gt;
 345   &lt;xsl:text&gt;On return, &lt;/xsl:text&gt;
 346   &lt;xsl:if test=&quot;count(@outcount)=1 and @outcount!=&#39;&#39;&quot;&gt;
 347     &lt;code&gt;
 348       &lt;xsl:text&gt;*&lt;/xsl:text&gt;
 349       &lt;xsl:value-of select=&quot;@outcount&quot;/&gt;
 350     &lt;/code&gt;
 351     &lt;xsl:text&gt; of &lt;/xsl:text&gt;
 352   &lt;/xsl:if&gt;
 353   &lt;xsl:text&gt;the elements are set. &lt;/xsl:text&gt;
 354   &lt;xsl:apply-templates select=&quot;nullok&quot; mode=&quot;funcdescription&quot;/&gt;
 355   &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;returndescription&quot;&gt;
 356     &lt;xsl:with-param name=&quot;plural&quot; select=&quot;&#39;plural&#39;&quot;/&gt;
 357   &lt;/xsl:apply-templates&gt;
 358 &lt;/xsl:template&gt;
 359 
 360 &lt;xsl:template match=&quot;agentbuf&quot; mode=&quot;funcdescription&quot;&gt;
 361   &lt;div class=&quot;sep&quot;/&gt;
 362   &lt;xsl:apply-templates select=&quot;nullok&quot; mode=&quot;funcdescription&quot;/&gt;
 363   &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;returndescription&quot;&gt;
 364     &lt;xsl:with-param name=&quot;plural&quot; select=&quot;&#39;plural&#39;&quot;/&gt;
 365   &lt;/xsl:apply-templates&gt;
 366 &lt;/xsl:template&gt;
 367 
 368 &lt;xsl:template match=&quot;jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jobject|jvalue|jthreadGroup|enum|jint|jchar|jlong|jfloat|jdouble|jlocation|jboolean|char|uchar|size_t|void|varargs|struct&quot; mode=&quot;funcdescription&quot;&gt;
 369 &lt;/xsl:template&gt;
 370 
 371 &lt;xsl:template match=&quot;jthread&quot; mode=&quot;funcdescription&quot;&gt;
 372   &lt;xsl:if test=&quot;count(@null)!=0&quot;&gt;
 373     If
 374     &lt;code&gt;
 375       &lt;xsl:value-of select=&quot;../@id&quot;/&gt;
 376     &lt;/code&gt;
 377     is
 378     &lt;code&gt;NULL&lt;/code&gt;, the current thread is used.
 379   &lt;/xsl:if&gt;
 380 &lt;/xsl:template&gt;
 381 
 382 &lt;xsl:template match=&quot;jmethodID|jfieldID|jframeID|jrawMonitorID|enum|jint|jchar|jlong|jfloat|jdouble|jlocation|jboolean|char|uchar|size_t|void|varargs&quot; mode=&quot;returndescription&quot;&gt;
 383 &lt;/xsl:template&gt;
 384 
 385 &lt;xsl:template match=&quot;struct&quot; mode=&quot;returndescription&quot;&gt;
 386   &lt;xsl:param name=&quot;plural&quot;/&gt;
 387   &lt;xsl:variable name=&quot;structname&quot; select=&quot;.&quot;/&gt;
 388   &lt;xsl:for-each select=&quot;//typedef[@id=$structname]|//uniontypedef[@id=$structname]&quot;&gt;
 389     &lt;xsl:for-each select=&quot;field&quot;&gt;
 390       &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;fieldreturndescription&quot;&gt;
 391         &lt;xsl:with-param name=&quot;plural&quot; select=&quot;$plural&quot;/&gt;
 392       &lt;/xsl:apply-templates&gt;
 393     &lt;/xsl:for-each&gt;
 394   &lt;/xsl:for-each&gt;
 395 &lt;/xsl:template&gt;
 396 
 397 &lt;xsl:template match=&quot;jclass|jthread|jobject|jvalue|jthreadGroup&quot; mode=&quot;returndescription&quot;&gt;
 398   &lt;xsl:param name=&quot;plural&quot;/&gt;
 399   &lt;xsl:text&gt;The object&lt;/xsl:text&gt;
 400   &lt;xsl:if test=&quot;$plural=&#39;plural&#39;&quot;&gt;
 401     &lt;xsl:text&gt;s&lt;/xsl:text&gt;
 402   &lt;/xsl:if&gt;
 403   &lt;xsl:text&gt; returned by &lt;/xsl:text&gt;
 404   &lt;code&gt;
 405     &lt;xsl:value-of select=&quot;../../@id&quot;/&gt;
 406   &lt;/code&gt;
 407   &lt;xsl:choose&gt;    
 408     &lt;xsl:when test=&quot;$plural=&#39;plural&#39;&quot;&gt;
 409       &lt;xsl:text&gt; are JNI local references and must be &lt;/xsl:text&gt;
 410     &lt;/xsl:when&gt;
 411     &lt;xsl:otherwise&gt;
 412       &lt;xsl:text&gt; is a JNI local reference and must be &lt;/xsl:text&gt;
 413     &lt;/xsl:otherwise&gt;
 414   &lt;/xsl:choose&gt;
 415   &lt;a href=&quot;#refs&quot;&gt;managed&lt;/a&gt;.
 416 &lt;/xsl:template&gt;
 417 
 418 &lt;xsl:template match=&quot;outptr|inptr|inbuf|agentbuf|allocbuf|allocallocbuf&quot; mode=&quot;fieldreturndescription&quot;&gt;
 419   &lt;xsl:variable name=&quot;field&quot; select=&quot;ancestor::field&quot;/&gt;
 420   &lt;xsl:message terminate=&quot;yes&quot;&gt;
 421     outptr, allocallocbuf, outbuf, vmbuf, allocbuf, inptr, inbuf or agentbuf as type of returned field:
 422     &lt;xsl:value-of select=&quot;$field/@id&quot;/&gt; of &lt;xsl:value-of select=&quot;$field/../@id&quot;/&gt;
 423   &lt;/xsl:message&gt;
 424 &lt;/xsl:template&gt;
 425 
 426 &lt;xsl:template match=&quot;outbuf&quot; mode=&quot;fieldreturndescription&quot;&gt;
 427   &lt;!-- hand document this special case.
 428   --&gt;
 429 &lt;/xsl:template&gt;
 430 
 431 &lt;xsl:template match=&quot;struct&quot; mode=&quot;fieldreturndescription&quot;&gt;
 432   &lt;xsl:param name=&quot;plural&quot;/&gt;
 433   &lt;xsl:variable name=&quot;structname&quot; select=&quot;.&quot;/&gt;
 434   &lt;xsl:for-each select=&quot;//typedef[@id=$structname]|//uniontypedef[@id=$structname]&quot;&gt;
 435     &lt;xsl:for-each select=&quot;field&quot;&gt;
 436       &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;fieldreturndescription&quot;&gt;
 437         &lt;xsl:with-param name=&quot;plural&quot; select=&quot;$plural&quot;/&gt;
 438       &lt;/xsl:apply-templates&gt;
 439     &lt;/xsl:for-each&gt;
 440   &lt;/xsl:for-each&gt;
 441 &lt;/xsl:template&gt;
 442 
 443 &lt;xsl:template match=&quot;allocfieldbuf&quot; mode=&quot;fieldreturndescription&quot;&gt;
 444   &lt;xsl:param name=&quot;plural&quot;/&gt;
 445   &lt;xsl:variable name=&quot;field&quot; select=&quot;ancestor::field&quot;/&gt;
 446   &lt;xsl:text&gt;The pointer&lt;/xsl:text&gt;
 447   &lt;xsl:if test=&quot;$plural=&#39;plural&#39;&quot;&gt;
 448     &lt;xsl:text&gt;s&lt;/xsl:text&gt;
 449   &lt;/xsl:if&gt;
 450   &lt;xsl:text&gt; returned in the field &lt;/xsl:text&gt;
 451   &lt;code&gt;
 452     &lt;xsl:value-of select=&quot;$field/@id&quot;/&gt;
 453   &lt;/code&gt;
 454   &lt;xsl:text&gt; of &lt;/xsl:text&gt;
 455   &lt;code&gt;
 456     &lt;xsl:value-of select=&quot;$field/../@id&quot;/&gt;
 457   &lt;/code&gt;
 458   &lt;xsl:choose&gt;    
 459     &lt;xsl:when test=&quot;$plural=&#39;plural&#39;&quot;&gt;
 460       &lt;xsl:text&gt; are newly allocated arrays. The arrays&lt;/xsl:text&gt;
 461     &lt;/xsl:when&gt;
 462     &lt;xsl:otherwise&gt;
 463       &lt;xsl:text&gt; is a newly allocated array. The array&lt;/xsl:text&gt;
 464     &lt;/xsl:otherwise&gt;
 465   &lt;/xsl:choose&gt;
 466   &lt;xsl:text&gt; should be freed with &lt;/xsl:text&gt;
 467   &lt;a href=&quot;#Deallocate&quot;&gt;&lt;code&gt;Deallocate&lt;/code&gt;&lt;/a&gt;
 468   &lt;xsl:text&gt;. &lt;/xsl:text&gt;
 469 
 470   &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;fieldreturndescription&quot;&gt;
 471     &lt;xsl:with-param name=&quot;plural&quot; select=&quot;&#39;plural&#39;&quot;/&gt;
 472   &lt;/xsl:apply-templates&gt;
 473 &lt;/xsl:template&gt;
 474 
 475 &lt;xsl:template match=&quot;ptrtype|vmbuf|jmethodID|jfieldID|jframeID|jrawMonitorID|enum|jint|jchar|jlong|jfloat|jdouble|jlocation|jboolean|char|uchar|size_t|void&quot; mode=&quot;fieldreturndescription&quot;&gt;
 476 &lt;/xsl:template&gt;
 477 
 478 &lt;xsl:template match=&quot;jclass|jthread|jobject|jvalue|jthreadGroup&quot; mode=&quot;fieldreturndescription&quot;&gt;
 479   &lt;xsl:param name=&quot;plural&quot;/&gt;
 480   &lt;xsl:variable name=&quot;field&quot; select=&quot;ancestor::field&quot;/&gt;
 481   &lt;xsl:text&gt;The object&lt;/xsl:text&gt;
 482   &lt;xsl:if test=&quot;$plural=&#39;plural&#39;&quot;&gt;
 483     &lt;xsl:text&gt;s&lt;/xsl:text&gt;
 484   &lt;/xsl:if&gt;
 485   &lt;xsl:text&gt; returned in the field &lt;/xsl:text&gt;
 486   &lt;code&gt;
 487     &lt;xsl:value-of select=&quot;$field/@id&quot;/&gt;
 488   &lt;/code&gt;
 489   &lt;xsl:text&gt; of &lt;/xsl:text&gt;
 490   &lt;code&gt;
 491     &lt;xsl:value-of select=&quot;$field/../@id&quot;/&gt;
 492   &lt;/code&gt;
 493   &lt;xsl:choose&gt;    
 494     &lt;xsl:when test=&quot;$plural=&#39;plural&#39;&quot;&gt;
 495       &lt;xsl:text&gt; are JNI local references and must be &lt;/xsl:text&gt;
 496     &lt;/xsl:when&gt;
 497     &lt;xsl:otherwise&gt;
 498       &lt;xsl:text&gt; is a JNI local reference and must be &lt;/xsl:text&gt;
 499     &lt;/xsl:otherwise&gt;
 500   &lt;/xsl:choose&gt;
 501   &lt;a href=&quot;#refs&quot;&gt;managed&lt;/a&gt;.
 502 &lt;/xsl:template&gt;
 503 
 504 &lt;xsl:template match=&quot;nullok&quot; mode=&quot;signature&quot;&gt;
 505 &lt;/xsl:template&gt;
 506 
 507 &lt;xsl:template match=&quot;jmethodID|jfieldID|jrawMonitorID|jclass|jthread|jobject|jvalue|jthreadGroup|jint|jchar|jlong|jfloat|jdouble|jlocation|jboolean|char|size_t|void&quot; mode=&quot;signature&quot;&gt;
 508   &lt;xsl:value-of select=&quot;name()&quot;/&gt;
 509 &lt;/xsl:template&gt;
 510 
 511 &lt;xsl:template match=&quot;jframeID&quot; mode=&quot;signature&quot;&gt;
 512   &lt;xsl:text&gt;jint&lt;/xsl:text&gt;
 513 &lt;/xsl:template&gt;
 514 
 515 &lt;xsl:template match=&quot;uchar&quot; mode=&quot;signature&quot;&gt;
 516   &lt;xsl:text&gt;unsigned char&lt;/xsl:text&gt;
 517 &lt;/xsl:template&gt;
 518 
 519 &lt;xsl:template match=&quot;enum|struct&quot; mode=&quot;signature&quot;&gt;
 520   &lt;xsl:value-of select=&quot;.&quot;/&gt;
 521 &lt;/xsl:template&gt;
 522 
 523 &lt;xsl:template match=&quot;varargs&quot; mode=&quot;signature&quot;&gt;
 524 &lt;/xsl:template&gt;
 525 
 526 &lt;xsl:template match=&quot;outptr|outbuf|allocfieldbuf&quot; mode=&quot;signature&quot;&gt;
 527   &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;signature&quot;/&gt;
 528   &lt;xsl:text&gt;*&lt;/xsl:text&gt;
 529 &lt;/xsl:template&gt;
 530 
 531 &lt;xsl:template match=&quot;ptrtype&quot; mode=&quot;signature&quot;&gt;
 532   &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;signature&quot;/&gt;
 533 &lt;/xsl:template&gt;
 534 
 535 &lt;xsl:template match=&quot;inptr|inbuf|vmbuf&quot; mode=&quot;signature&quot;&gt;
 536   &lt;xsl:text&gt;const &lt;/xsl:text&gt;
 537   &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;signature&quot;/&gt;
 538   &lt;xsl:text&gt;*&lt;/xsl:text&gt;
 539 &lt;/xsl:template&gt;
 540 
 541 &lt;xsl:template match=&quot;allocbuf|agentbuf&quot; mode=&quot;signature&quot;&gt;
 542   &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;signature&quot;/&gt;
 543   &lt;xsl:text&gt;**&lt;/xsl:text&gt;
 544 &lt;/xsl:template&gt;
 545 
 546 &lt;xsl:template match=&quot;allocallocbuf&quot; mode=&quot;signature&quot;&gt;
 547   &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;signature&quot;/&gt;
 548   &lt;xsl:text&gt;***&lt;/xsl:text&gt;
 549 &lt;/xsl:template&gt;
 550 
 551 &lt;xsl:template match=&quot;nullok&quot; mode=&quot;link&quot;&gt;
 552 &lt;/xsl:template&gt;
 553 
 554 &lt;xsl:template match=&quot;jmethodID|jfieldID|jrawMonitorID|jclass|jthread|jobject|jvalue|jint|jchar|jlong|jfloat|jdouble|jlocation|jboolean|jthreadGroup&quot; mode=&quot;link&quot;&gt;
 555   &lt;a&gt;
 556     &lt;xsl:attribute name=&quot;href&quot;&gt;
 557       &lt;xsl:text&gt;#&lt;/xsl:text&gt;&lt;xsl:value-of select=&quot;name()&quot;/&gt;
 558     &lt;/xsl:attribute&gt;
 559     &lt;xsl:value-of select=&quot;name()&quot;/&gt;
 560   &lt;/a&gt;
 561 &lt;/xsl:template&gt;
 562 
 563 &lt;xsl:template match=&quot;jframeID&quot; mode=&quot;link&quot;&gt;
 564   &lt;a&gt;
 565     &lt;xsl:attribute name=&quot;href&quot;&gt;
 566       &lt;xsl:text&gt;#jint&lt;/xsl:text&gt;
 567     &lt;/xsl:attribute&gt;
 568     &lt;xsl:text&gt;jint&lt;/xsl:text&gt;
 569   &lt;/a&gt;
 570 &lt;/xsl:template&gt;
 571 
 572 &lt;xsl:template match=&quot;enum|struct&quot; mode=&quot;link&quot;&gt;
 573   &lt;a&gt;
 574     &lt;xsl:attribute name=&quot;href&quot;&gt;
 575       &lt;xsl:text&gt;#&lt;/xsl:text&gt;
 576       &lt;xsl:value-of select=&quot;.&quot;/&gt;
 577     &lt;/xsl:attribute&gt;
 578     &lt;xsl:value-of select=&quot;.&quot;/&gt;
 579   &lt;/a&gt;
 580 &lt;/xsl:template&gt;
 581 
 582 &lt;xsl:template match=&quot;char|size_t|void&quot; mode=&quot;link&quot;&gt;
 583     &lt;xsl:value-of select=&quot;name()&quot;/&gt;
 584 &lt;/xsl:template&gt;
 585 
 586 &lt;xsl:template match=&quot;uchar&quot; mode=&quot;link&quot;&gt;
 587     &lt;xsl:text&gt;unsigned char&lt;/xsl:text&gt;
 588 &lt;/xsl:template&gt;
 589 
 590 &lt;xsl:template match=&quot;varargs&quot; mode=&quot;link&quot;&gt;
 591   &lt;xsl:text&gt;...&lt;/xsl:text&gt;
 592 &lt;/xsl:template&gt;
 593 
 594 &lt;xsl:template match=&quot;ptrtype&quot; mode=&quot;link&quot;&gt;
 595   &lt;xsl:apply-templates mode=&quot;link&quot;/&gt;
 596 &lt;/xsl:template&gt;
 597 
 598 &lt;xsl:template match=&quot;outptr|outbuf|allocfieldbuf&quot; mode=&quot;link&quot;&gt;
 599   &lt;xsl:apply-templates mode=&quot;link&quot;/&gt;
 600   &lt;xsl:text&gt;*&lt;/xsl:text&gt;
 601 &lt;/xsl:template&gt;
 602 
 603 &lt;xsl:template match=&quot;inptr|inbuf|vmbuf&quot; mode=&quot;link&quot;&gt;
 604   &lt;xsl:text&gt;const &lt;/xsl:text&gt;
 605   &lt;xsl:apply-templates mode=&quot;link&quot;/&gt;
 606   &lt;xsl:text&gt;*&lt;/xsl:text&gt;
 607 &lt;/xsl:template&gt;
 608 
 609 &lt;xsl:template match=&quot;allocbuf|agentbuf&quot; mode=&quot;link&quot;&gt;
 610   &lt;xsl:apply-templates mode=&quot;link&quot;/&gt;
 611   &lt;xsl:text&gt;**&lt;/xsl:text&gt;
 612 &lt;/xsl:template&gt;
 613 
 614 &lt;xsl:template match=&quot;allocallocbuf&quot; mode=&quot;link&quot;&gt;
 615   &lt;xsl:apply-templates mode=&quot;link&quot;/&gt;
 616   &lt;xsl:text&gt;***&lt;/xsl:text&gt;
 617 &lt;/xsl:template&gt;
 618 
 619 &lt;xsl:template match=&quot;jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jobject|jvalue|jthreadGroup|jthread|jint|jchar|jlong|jfloat|jdouble|jlocation|jboolean|char|size_t|void&quot; mode=&quot;btsig&quot;&gt;
 620   &lt;xsl:value-of select=&quot;name()&quot;/&gt;
 621 &lt;/xsl:template&gt;
 622 
 623 &lt;xsl:template match=&quot;uchar&quot; mode=&quot;btsig&quot;&gt;
 624   &lt;xsl:text&gt;unsigned char&lt;/xsl:text&gt;
 625 &lt;/xsl:template&gt;
 626 
 627 &lt;xsl:template match=&quot;enum|struct&quot; mode=&quot;btsig&quot;&gt;
 628   &lt;xsl:value-of select=&quot;.&quot;/&gt;
 629 &lt;/xsl:template&gt;
 630 
 631 &lt;xsl:template match=&quot;outbuf&quot; mode=&quot;btsig&quot;&gt;
 632   &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;btsig&quot;/&gt;
 633   &lt;xsl:text&gt;*&lt;/xsl:text&gt;
 634 &lt;/xsl:template&gt;
 635 
 636 &lt;xsl:template name=&quot;gentypedef&quot;&gt;
 637   &lt;xsl:param name=&quot;tdef&quot;/&gt;
 638   &lt;xsl:text&gt;typedef struct {
 639 &lt;/xsl:text&gt;
 640 &lt;xsl:apply-templates select=&quot;$tdef/field&quot; mode=&quot;signature&quot;/&gt;
 641   &lt;xsl:text&gt;} &lt;/xsl:text&gt;
 642   &lt;xsl:value-of select=&quot;$tdef/@id&quot;/&gt;
 643   &lt;xsl:text&gt;;&lt;/xsl:text&gt;
 644 &lt;/xsl:template&gt;
 645 
 646 &lt;xsl:template name=&quot;genuniontypedef&quot;&gt;
 647   &lt;xsl:param name=&quot;tdef&quot;/&gt;
 648   &lt;xsl:text&gt;typedef union {
 649 &lt;/xsl:text&gt;
 650 &lt;xsl:apply-templates select=&quot;$tdef/field&quot; mode=&quot;signature&quot;/&gt;
 651   &lt;xsl:text&gt;} &lt;/xsl:text&gt;
 652   &lt;xsl:value-of select=&quot;$tdef/@id&quot;/&gt;
 653   &lt;xsl:text&gt;;&lt;/xsl:text&gt;
 654 &lt;/xsl:template&gt;
 655 
 656 
 657 &lt;xsl:template match=&quot;capabilitiestypedef&quot; mode=&quot;genstruct&quot;&gt;
 658   &lt;xsl:variable name=&quot;caps&quot; select=&quot;count(capabilityfield)&quot;/&gt;
 659   &lt;xsl:text&gt;typedef struct {
 660 &lt;/xsl:text&gt;
 661   &lt;xsl:apply-templates select=&quot;capabilityfield&quot; mode=&quot;signature&quot;/&gt;
 662   &lt;xsl:variable name=&quot;rem&quot; select=&quot;$caps mod 16&quot;/&gt;
 663   &lt;xsl:if test=&quot;$rem != 0&quot;&gt;
 664     &lt;xsl:text&gt;    unsigned int : &lt;/xsl:text&gt;
 665     &lt;xsl:value-of select=&quot;16 - $rem&quot;/&gt;
 666     &lt;xsl:text&gt;;
 667 &lt;/xsl:text&gt;
 668   &lt;/xsl:if&gt;
 669   &lt;xsl:if test=&quot;$caps &amp;lt;= 32&quot;&gt;
 670     &lt;xsl:text&gt;    unsigned int : 16;
 671 &lt;/xsl:text&gt;
 672   &lt;/xsl:if&gt;
 673   &lt;xsl:if test=&quot;$caps &amp;lt;= 48&quot;&gt;
 674     &lt;xsl:text&gt;    unsigned int : 16;
 675 &lt;/xsl:text&gt;
 676   &lt;/xsl:if&gt;
 677   &lt;xsl:if test=&quot;$caps &amp;lt;= 64&quot;&gt;
 678     &lt;xsl:text&gt;    unsigned int : 16;
 679 &lt;/xsl:text&gt;
 680   &lt;/xsl:if&gt;
 681   &lt;xsl:if test=&quot;$caps &amp;lt;= 80&quot;&gt;
 682     &lt;xsl:text&gt;    unsigned int : 16;
 683 &lt;/xsl:text&gt;
 684   &lt;/xsl:if&gt;
 685   &lt;xsl:if test=&quot;$caps &amp;lt;= 96&quot;&gt;
 686     &lt;xsl:text&gt;    unsigned int : 16;
 687 &lt;/xsl:text&gt;
 688   &lt;/xsl:if&gt;
 689   &lt;xsl:if test=&quot;$caps &amp;lt;= 112&quot;&gt;
 690     &lt;xsl:text&gt;    unsigned int : 16;
 691 &lt;/xsl:text&gt;
 692   &lt;/xsl:if&gt;
 693   &lt;xsl:text&gt;} &lt;/xsl:text&gt;
 694   &lt;xsl:value-of select=&quot;@id&quot;/&gt;
 695   &lt;xsl:text&gt;;&lt;/xsl:text&gt;
 696 &lt;/xsl:template&gt;
 697 
 698 &lt;xsl:template match=&quot;capabilityfield&quot; mode=&quot;signature&quot;&gt;
 699   &lt;xsl:text&gt;    unsigned int &lt;/xsl:text&gt;
 700   &lt;xsl:value-of select=&quot;@id&quot;/&gt;
 701   &lt;xsl:text&gt; : 1;
 702 &lt;/xsl:text&gt;
 703 &lt;/xsl:template&gt;
 704 
 705 &lt;xsl:template match=&quot;constants&quot; mode=&quot;enum&quot;&gt;
 706   &lt;xsl:text&gt;
 707 typedef &lt;/xsl:text&gt;
 708   &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;enumcore&quot;/&gt;
 709   &lt;xsl:text&gt; &lt;/xsl:text&gt;
 710   &lt;xsl:value-of select=&quot;@id&quot;/&gt;
 711   &lt;xsl:text&gt;;&lt;/xsl:text&gt;
 712 &lt;/xsl:template&gt;
 713 
 714 &lt;xsl:template match=&quot;constants&quot; mode=&quot;constants&quot;&gt;
 715   &lt;xsl:text&gt;
 716 &lt;/xsl:text&gt;
 717   &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;enumcore&quot;/&gt;
 718   &lt;xsl:text&gt;;&lt;/xsl:text&gt;
 719 &lt;/xsl:template&gt;
 720 
 721 &lt;xsl:template match=&quot;constants&quot; mode=&quot;enumcore&quot;&gt;
 722   &lt;xsl:text&gt;enum {
 723 &lt;/xsl:text&gt;
 724   &lt;xsl:for-each select=&quot;constant&quot;&gt;
 725     &lt;xsl:if test=&quot;position() &amp;gt; 1&quot;&gt;
 726       &lt;xsl:text&gt;,
 727 &lt;/xsl:text&gt;
 728     &lt;/xsl:if&gt;
 729     &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;enum&quot;/&gt;
 730   &lt;/xsl:for-each&gt;
 731   &lt;xsl:text&gt;
 732 }&lt;/xsl:text&gt;
 733 &lt;/xsl:template&gt;
 734 
 735 &lt;xsl:template match=&quot;event&quot; mode=&quot;enum&quot;&gt;
 736   &lt;xsl:text&gt;    &lt;/xsl:text&gt;
 737   &lt;xsl:value-of select=&quot;@const&quot;/&gt;
 738   &lt;xsl:text&gt; = &lt;/xsl:text&gt;
 739   &lt;xsl:value-of select=&quot;@num&quot;/&gt;
 740 &lt;/xsl:template&gt;
 741 
 742 &lt;xsl:template match=&quot;constant|errorid&quot; mode=&quot;enum&quot;&gt;
 743   &lt;xsl:text&gt;    &lt;/xsl:text&gt;
 744   &lt;xsl:value-of select=&quot;@id&quot;/&gt;
 745   &lt;xsl:text&gt; = &lt;/xsl:text&gt;
 746   &lt;xsl:value-of select=&quot;@num&quot;/&gt;
 747 &lt;/xsl:template&gt;
 748 
 749 
 750   &lt;xsl:template name=&quot;eventStruct&quot;&gt;
 751     &lt;xsl:param name=&quot;events&quot;/&gt;
 752     &lt;xsl:param name=&quot;index&quot;/&gt;
 753     &lt;xsl:param name=&quot;started&quot;/&gt;
 754     &lt;xsl:param name=&quot;comment&quot;/&gt;
 755     &lt;xsl:variable name=&quot;thisEvent&quot; select=&quot;$events[@num=$index]&quot;/&gt;
 756     &lt;xsl:choose&gt;
 757       &lt;xsl:when test=&quot;count($thisEvent)=1&quot;&gt;
 758         &lt;xsl:if test=&quot;$comment=&#39;Yes&#39;&quot;&gt;
 759           &lt;xsl:text&gt;                              /* &lt;/xsl:text&gt;
 760           &lt;xsl:number value=&quot;$index&quot; format=&quot;  1&quot;/&gt;
 761           &lt;xsl:text&gt; : &lt;/xsl:text&gt;
 762           &lt;xsl:value-of select=&quot;$thisEvent/@label&quot;/&gt;
 763           &lt;xsl:text&gt; */
 764 &lt;/xsl:text&gt;
 765         &lt;/xsl:if&gt;
 766         &lt;xsl:text&gt;    jvmtiEvent&lt;/xsl:text&gt;
 767         &lt;xsl:value-of select=&quot;$thisEvent/@id&quot;/&gt;
 768         &lt;xsl:text&gt; &lt;/xsl:text&gt;
 769         &lt;xsl:value-of select=&quot;$thisEvent/@id&quot;/&gt;
 770         &lt;xsl:text&gt;;
 771 &lt;/xsl:text&gt;
 772     &lt;/xsl:when&gt;
 773     &lt;xsl:otherwise&gt;
 774       &lt;xsl:if test=&quot;$started&quot;&gt;
 775         &lt;xsl:if test=&quot;$comment=&#39;Yes&#39;&quot;&gt;
 776           &lt;xsl:text&gt;                              /* &lt;/xsl:text&gt;
 777           &lt;xsl:number value=&quot;$index&quot; format=&quot;  1&quot;/&gt;
 778           &lt;xsl:text&gt; */
 779 &lt;/xsl:text&gt;
 780         &lt;/xsl:if&gt;
 781         &lt;xsl:text&gt;    jvmtiEventReserved reserved&lt;/xsl:text&gt;        
 782         &lt;xsl:value-of select=&quot;$index&quot;/&gt;
 783         &lt;xsl:text&gt;;
 784 &lt;/xsl:text&gt;     
 785     &lt;/xsl:if&gt;
 786   &lt;/xsl:otherwise&gt;
 787 &lt;/xsl:choose&gt;
 788     &lt;xsl:if test=&quot;count($events[@num &amp;gt; $index]) &amp;gt; 0&quot;&gt;
 789       &lt;xsl:call-template name=&quot;eventStruct&quot;&gt;
 790         &lt;xsl:with-param name=&quot;events&quot; select=&quot;$events&quot;/&gt;
 791         &lt;xsl:with-param name=&quot;index&quot; select=&quot;1+$index&quot;/&gt;
 792         &lt;xsl:with-param name=&quot;started&quot; select=&quot;$started or count($thisEvent)=1&quot;/&gt;
 793         &lt;xsl:with-param name=&quot;comment&quot; select=&quot;$comment&quot;/&gt;
 794       &lt;/xsl:call-template&gt;
 795     &lt;/xsl:if&gt;
 796   &lt;/xsl:template&gt;
 797 
 798 
 799 &lt;!-- ======== HotSpotType ======== --&gt;
 800 
 801 &lt;xsl:template match=&quot;parameters&quot; mode=&quot;HotSpotSig&quot;&gt;
 802   &lt;xsl:variable name=&quot;length&quot; select=&quot;count(param)&quot;/&gt;
 803   &lt;xsl:for-each select=&quot;param&quot;&gt;
 804     &lt;xsl:variable name=&quot;separator&quot;&gt;
 805         &lt;xsl:choose&gt;
 806           &lt;xsl:when test=&quot;position()=$length&quot;&gt;
 807             &lt;xsl:text&gt;&lt;/xsl:text&gt;
 808           &lt;/xsl:when&gt;
 809           &lt;xsl:otherwise&gt;
 810             &lt;xsl:text&gt;, &lt;/xsl:text&gt;
 811           &lt;/xsl:otherwise&gt;
 812         &lt;/xsl:choose&gt;
 813     &lt;/xsl:variable&gt;
 814     &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;HotSpotSig&quot;&gt;
 815       &lt;xsl:with-param name=&quot;comma&quot; select=&quot;$separator&quot;/&gt;
 816     &lt;/xsl:apply-templates&gt;
 817   &lt;/xsl:for-each&gt;
 818 &lt;/xsl:template&gt;
 819 
 820 &lt;xsl:template match=&quot;param&quot; mode=&quot;HotSpotSig&quot;&gt;
 821   &lt;xsl:param name=&quot;comma&quot;/&gt;
 822   &lt;xsl:variable name=&quot;result&quot;&gt;
 823     &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;HotSpotType&quot;/&gt;
 824   &lt;/xsl:variable&gt;
 825   &lt;xsl:if test=&quot;string-length($result)!=0&quot;&gt;
 826     &lt;xsl:value-of select=&quot;$result&quot;/&gt;
 827     &lt;xsl:text&gt; &lt;/xsl:text&gt;
 828     &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;HotSpotName&quot;&gt;
 829       &lt;xsl:with-param name=&quot;name&quot; select=&quot;@id&quot;/&gt;
 830     &lt;/xsl:apply-templates&gt;
 831     &lt;xsl:value-of select=&quot;$comma&quot;/&gt;    
 832   &lt;/xsl:if&gt;
 833 &lt;/xsl:template&gt;
 834 
 835 &lt;xsl:template match=&quot;jthread&quot; mode=&quot;HotSpotType&quot;&gt;
 836   &lt;xsl:choose&gt;
 837     &lt;xsl:when test=&quot;count(@impl)=0 or not(contains(@impl,&#39;noconvert&#39;))&quot;&gt;
 838       &lt;xsl:text&gt;JavaThread*&lt;/xsl:text&gt;
 839     &lt;/xsl:when&gt;
 840     &lt;xsl:otherwise&gt;
 841       &lt;xsl:value-of select=&quot;name()&quot;/&gt;
 842     &lt;/xsl:otherwise&gt;
 843   &lt;/xsl:choose&gt;
 844 &lt;/xsl:template&gt;
 845 
 846 &lt;xsl:template match=&quot;jrawMonitorID&quot; mode=&quot;HotSpotType&quot;&gt;
 847   &lt;xsl:text&gt;JvmtiRawMonitor *&lt;/xsl:text&gt;
 848 &lt;/xsl:template&gt;
 849 
 850 &lt;xsl:template match=&quot;jframeID&quot; mode=&quot;HotSpotType&quot;&gt;
 851   &lt;xsl:text&gt;jint&lt;/xsl:text&gt;
 852 &lt;/xsl:template&gt;
 853 
 854 &lt;xsl:template match=&quot;jmethodID&quot; mode=&quot;HotSpotType&quot;&gt;
 855   &lt;xsl:text&gt;Method*&lt;/xsl:text&gt;
 856 &lt;/xsl:template&gt;
 857 
 858 &lt;xsl:template match=&quot;jfieldID&quot; mode=&quot;HotSpotType&quot;&gt;
 859   &lt;xsl:text&gt;fieldDescriptor*&lt;/xsl:text&gt;
 860 &lt;/xsl:template&gt;
 861 
 862 &lt;xsl:template match=&quot;jclass&quot; mode=&quot;HotSpotType&quot;&gt;
 863   &lt;!--
 864     classes passed as part of a class/method or class/field pair are used
 865     by the wrapper to get the internal type but are not needed by nor 
 866     passed to the implementation layer.
 867   --&gt;
 868   &lt;xsl:if test=&quot;count(@method|@field)=0&quot;&gt;
 869     &lt;xsl:text&gt;oop&lt;/xsl:text&gt;
 870   &lt;/xsl:if&gt;
 871 &lt;/xsl:template&gt;
 872 
 873 &lt;xsl:template match=&quot;nullok&quot; mode=&quot;HotSpotType&quot;&gt;
 874 &lt;/xsl:template&gt;
 875 
 876 &lt;xsl:template match=&quot;jobject|jvalue|jthreadGroup|enum|jint|jchar|jlong|jfloat|jdouble|jlocation|jboolean|char|uchar|size_t|void|struct&quot; mode=&quot;HotSpotType&quot;&gt;
 877   &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;btsig&quot;/&gt;
 878 &lt;/xsl:template&gt;
 879 
 880 &lt;xsl:template match=&quot;varargs&quot; mode=&quot;HotSpotType&quot;&gt;
 881   &lt;xsl:text&gt; &lt;/xsl:text&gt;
 882 &lt;/xsl:template&gt;
 883 
 884 &lt;xsl:template match=&quot;outptr|outbuf|allocfieldbuf&quot; mode=&quot;HotSpotType&quot;&gt;
 885   &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;btsig&quot;/&gt;
 886   &lt;xsl:text&gt;*&lt;/xsl:text&gt;
 887 &lt;/xsl:template&gt;
 888 
 889 &lt;xsl:template match=&quot;ptrtype&quot; mode=&quot;HotSpotType&quot;&gt;
 890   &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;btsig&quot;/&gt;
 891 &lt;/xsl:template&gt;
 892 
 893 &lt;xsl:template match=&quot;inptr|inbuf|vmbuf&quot; mode=&quot;HotSpotType&quot;&gt;
 894   &lt;xsl:text&gt;const &lt;/xsl:text&gt;
 895   &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;btsig&quot;/&gt;
 896   &lt;xsl:text&gt;*&lt;/xsl:text&gt;
 897 &lt;/xsl:template&gt;
 898 
 899 &lt;xsl:template match=&quot;allocbuf|agentbuf&quot; mode=&quot;HotSpotType&quot;&gt;
 900   &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;btsig&quot;/&gt;
 901   &lt;xsl:text&gt;**&lt;/xsl:text&gt;
 902 &lt;/xsl:template&gt;
 903 
 904 &lt;xsl:template match=&quot;allocallocbuf&quot; mode=&quot;HotSpotType&quot;&gt;
 905   &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;btsig&quot;/&gt;
 906   &lt;xsl:text&gt;***&lt;/xsl:text&gt;
 907 &lt;/xsl:template&gt;
 908 
 909 &lt;!-- ========  HotSpotName ======== --&gt;
 910 
 911 &lt;xsl:template match=&quot;jthread&quot; mode=&quot;HotSpotName&quot;&gt;
 912   &lt;xsl:param name=&quot;name&quot;/&gt;
 913   &lt;xsl:choose&gt;
 914     &lt;xsl:when test=&quot;count(@impl)=0 or not(contains(@impl,&#39;noconvert&#39;))&quot;&gt;
 915       &lt;xsl:text&gt;java_thread&lt;/xsl:text&gt;
 916     &lt;/xsl:when&gt;
 917     &lt;xsl:otherwise&gt;
 918       &lt;xsl:value-of select=&quot;$name&quot;/&gt;
 919     &lt;/xsl:otherwise&gt;
 920   &lt;/xsl:choose&gt;
 921 &lt;/xsl:template&gt;
 922 
 923 &lt;xsl:template match=&quot;jrawMonitorID&quot; mode=&quot;HotSpotName&quot;&gt;
 924   &lt;xsl:text&gt;rmonitor&lt;/xsl:text&gt;
 925 &lt;/xsl:template&gt;
 926 
 927 &lt;xsl:template match=&quot;jframeID&quot; mode=&quot;HotSpotName&quot;&gt;
 928   &lt;xsl:text&gt;depth&lt;/xsl:text&gt;
 929 &lt;/xsl:template&gt;
 930 
 931 &lt;xsl:template match=&quot;jmethodID&quot; mode=&quot;HotSpotName&quot;&gt;
 932   &lt;xsl:text&gt;method_oop&lt;/xsl:text&gt;
 933 &lt;/xsl:template&gt;
 934 
 935 &lt;xsl:template match=&quot;jfieldID&quot; mode=&quot;HotSpotName&quot;&gt;
 936   &lt;xsl:text&gt;fdesc_ptr&lt;/xsl:text&gt;
 937 &lt;/xsl:template&gt;
 938 
 939 &lt;xsl:template match=&quot;jclass&quot; mode=&quot;HotSpotName&quot;&gt;
 940   &lt;!--
 941     classes passed as part of a class/method or class/field pair are used
 942     by the wrapper to get the internal type but are not needed by nor 
 943     passed to the implementation layer.  This value is checked for empty.
 944   --&gt;
 945   &lt;xsl:if test=&quot;count(@method|@field)=0&quot;&gt;
 946     &lt;xsl:text&gt;k_mirror&lt;/xsl:text&gt;
 947   &lt;/xsl:if&gt;
 948 &lt;/xsl:template&gt;
 949 
 950 &lt;xsl:template match=&quot;nullok&quot; mode=&quot;HotSpotName&quot;&gt;
 951 &lt;/xsl:template&gt;
 952 
 953 &lt;xsl:template match=&quot;jobject|jvalue|jthreadGroup|enum|jint|jchar|jlong|jfloat|jdouble|jlocation|jboolean|char|uchar|size_t|void|varargs|struct|outptr|outbuf|allocfieldbuf|ptrtype|inptr|inbuf|vmbuf|allocbuf|agentbuf|allocallocbuf&quot; mode=&quot;HotSpotName&quot;&gt;
 954   &lt;xsl:param name=&quot;name&quot;/&gt;
 955   &lt;xsl:value-of select=&quot;$name&quot;/&gt;
 956 &lt;/xsl:template&gt;
 957 
 958 &lt;!-- ======== HotSpotValue ======== --&gt;
 959 
 960 
 961 &lt;xsl:template match=&quot;parameters&quot; mode=&quot;HotSpotValue&quot;&gt;
 962   &lt;xsl:variable name=&quot;length&quot; select=&quot;count(param)&quot;/&gt;
 963   &lt;xsl:for-each select=&quot;param&quot;&gt;
 964     &lt;xsl:variable name=&quot;separator&quot;&gt;
 965         &lt;xsl:choose&gt;
 966           &lt;xsl:when test=&quot;position()=$length&quot;&gt;
 967             &lt;xsl:text&gt;&lt;/xsl:text&gt;
 968           &lt;/xsl:when&gt;
 969           &lt;xsl:otherwise&gt;
 970             &lt;xsl:text&gt;, &lt;/xsl:text&gt;
 971           &lt;/xsl:otherwise&gt;
 972         &lt;/xsl:choose&gt;
 973     &lt;/xsl:variable&gt;
 974     &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;HotSpotValue&quot;&gt;
 975       &lt;xsl:with-param name=&quot;comma&quot; select=&quot;$separator&quot;/&gt;
 976     &lt;/xsl:apply-templates&gt;
 977   &lt;/xsl:for-each&gt;
 978 &lt;/xsl:template&gt;
 979 
 980 &lt;xsl:template match=&quot;param&quot; mode=&quot;HotSpotValue&quot;&gt;
 981   &lt;xsl:param name=&quot;comma&quot;/&gt;
 982   &lt;xsl:variable name=&quot;result&quot;&gt;
 983     &lt;xsl:apply-templates select=&quot;child::*[position()=1]&quot; mode=&quot;HotSpotValue&quot;&gt;
 984       &lt;xsl:with-param name=&quot;name&quot; select=&quot;@id&quot;/&gt;
 985     &lt;/xsl:apply-templates&gt;
 986   &lt;/xsl:variable&gt;
 987   &lt;xsl:if test=&quot;string-length($result)!=0&quot;&gt;
 988     &lt;xsl:value-of select=&quot;$result&quot;/&gt;
 989     &lt;xsl:value-of select=&quot;$comma&quot;/&gt;    
 990   &lt;/xsl:if&gt;
 991 &lt;/xsl:template&gt;
 992 
 993 &lt;xsl:template match=&quot;jframeID|jmethodID|jrawMonitorID|jthread|jclass|nullok&quot; mode=&quot;HotSpotValue&quot;&gt;
 994   &lt;xsl:param name=&quot;name&quot;/&gt;
 995   &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;HotSpotName&quot;&gt;
 996     &lt;xsl:with-param name=&quot;name&quot; select=&quot;$name&quot;/&gt;
 997   &lt;/xsl:apply-templates&gt;
 998 &lt;/xsl:template&gt;
 999 
1000 &lt;xsl:template match=&quot;jfieldID&quot; mode=&quot;HotSpotValue&quot;&gt;
1001   &lt;xsl:text&gt;&amp;amp;fdesc&lt;/xsl:text&gt;
1002 &lt;/xsl:template&gt;
1003 
1004 &lt;xsl:template match=&quot;jobject|jvalue|jthreadGroup|enum|jint|jchar|jlong|jfloat|jdouble|jlocation|jboolean|char|uchar|size_t|void|struct|outptr|outbuf|allocfieldbuf|ptrtype|inptr|inbuf|vmbuf|allocbuf|agentbuf|allocallocbuf&quot; mode=&quot;HotSpotValue&quot;&gt;
1005   &lt;xsl:param name=&quot;name&quot;/&gt;
1006   &lt;xsl:value-of select=&quot;$name&quot;/&gt;
1007 &lt;/xsl:template&gt;
1008 
1009 &lt;xsl:template match=&quot;varargs&quot; mode=&quot;HotSpotValue&quot;&gt;
1010   &lt;xsl:text&gt;NULL&lt;/xsl:text&gt;
1011 &lt;/xsl:template&gt;
1012 
1013 &lt;/xsl:stylesheet&gt;
1014 
<a name="5" id="anc5"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="5" type="hidden" />
</body>
</html>