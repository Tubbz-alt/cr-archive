<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/share/gc/parallel/psScavenge.hpp</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="psScavenge.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="psScavenge.inline.hpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/gc/parallel/psScavenge.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 2002, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 2002, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 31,12 ***</span>
  #include &quot;gc/shared/gcTrace.hpp&quot;
  #include &quot;memory/allocation.hpp&quot;
  #include &quot;oops/oop.hpp&quot;
  #include &quot;utilities/stack.hpp&quot;
  
<span class="line-removed">- class GCTaskManager;</span>
<span class="line-removed">- class GCTaskQueue;</span>
  class OopStack;
  class ReferenceProcessor;
  class ParallelScavengeHeap;
  class ParallelScavengeTracer;
  class PSIsAliveClosure;
<span class="line-new-header">--- 31,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 104,17 ***</span>
    static CollectorCounters* counters()           { return _counters; }
  
    static void set_subject_to_discovery_span(MemRegion mr) {
      _span_based_discoverer.set_span(mr);
    }
<span class="line-modified">!   // Used by scavenge_contents &amp;&amp; psMarkSweep</span>
    static ReferenceProcessor* const reference_processor() {
      assert(_ref_processor != NULL, &quot;Sanity&quot;);
      return _ref_processor;
    }
<span class="line-removed">-   // Used to add tasks</span>
<span class="line-removed">-   static GCTaskManager* const gc_task_manager();</span>
    // The promotion managers tell us if they encountered overflow
    static void set_survivor_overflow(bool state) {
      _survivor_overflow = state;
    }
    // Adaptive size policy support.  When the young generation/old generation
<span class="line-new-header">--- 102,15 ---</span>
    static CollectorCounters* counters()           { return _counters; }
  
    static void set_subject_to_discovery_span(MemRegion mr) {
      _span_based_discoverer.set_span(mr);
    }
<span class="line-modified">!   // Used by scavenge_contents</span>
    static ReferenceProcessor* const reference_processor() {
      assert(_ref_processor != NULL, &quot;Sanity&quot;);
      return _ref_processor;
    }
    // The promotion managers tell us if they encountered overflow
    static void set_survivor_overflow(bool state) {
      _survivor_overflow = state;
    }
    // Adaptive size policy support.  When the young generation/old generation
</pre>
<hr />
<pre>
<span class="line-old-header">*** 143,11 ***</span>
    // Is an object in the young generation
    // This assumes that the &#39;o&#39; is in the heap,
    // so it only checks one side of the complete predicate.
  
    inline static bool is_obj_in_young(oop o) {
<span class="line-modified">!     return (HeapWord*)o &gt;= _young_generation_boundary;</span>
    }
  
    inline static bool is_obj_in_young(narrowOop o) {
      return (uintptr_t)o &gt;= _young_generation_boundary_compressed;
    }
<span class="line-new-header">--- 139,11 ---</span>
    // Is an object in the young generation
    // This assumes that the &#39;o&#39; is in the heap,
    // so it only checks one side of the complete predicate.
  
    inline static bool is_obj_in_young(oop o) {
<span class="line-modified">!     return cast_from_oop&lt;HeapWord*&gt;(o) &gt;= _young_generation_boundary;</span>
    }
  
    inline static bool is_obj_in_young(narrowOop o) {
      return (uintptr_t)o &gt;= _young_generation_boundary_compressed;
    }
</pre>
<center><a href="psScavenge.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="psScavenge.inline.hpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>