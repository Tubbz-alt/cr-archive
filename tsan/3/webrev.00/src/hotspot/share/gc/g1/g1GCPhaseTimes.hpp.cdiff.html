<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/share/gc/g1/g1GCPhaseTimes.hpp</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="g1GCPhaseTimes.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="g1HeapRegionEventSender.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/gc/g1/g1GCPhaseTimes.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 53,99 ***</span>
      ObjectSynchronizerRoots,
      ManagementRoots,
      SystemDictionaryRoots,
      CLDGRoots,
      JVMTIRoots,
<span class="line-modified">! #if INCLUDE_AOT</span>
<span class="line-removed">-     AOTCodeRoots,</span>
<span class="line-removed">- #endif</span>
      CMRefRoots,
<span class="line-modified">!     WaitForStrongCLD,</span>
<span class="line-modified">!     WeakCLDRoots,</span>
<span class="line-modified">!     SATBFiltering,</span>
<span class="line-modified">!     UpdateRS,</span>
<span class="line-modified">!     ScanHCC,</span>
<span class="line-modified">!     ScanRS,</span>
<span class="line-modified">!     OptScanRS,</span>
      CodeRoots,
      ObjCopy,
      OptObjCopy,
      Termination,
      Other,
      GCWorkerTotal,
      GCWorkerEnd,
      StringDedupQueueFixup,
      StringDedupTableFixup,
      RedirtyCards,
      YoungFreeCSet,
      NonYoungFreeCSet,
      GCParPhasesSentinel
    };
  
<span class="line-modified">!   static const GCParPhases ExtRootScanSubPhasesStart = ThreadRoots;</span>
<span class="line-modified">!   static const GCParPhases ExtRootScanSubPhasesEnd = SATBFiltering;</span>
  
<span class="line-modified">!   enum GCScanRSWorkItems {</span>
<span class="line-modified">!     ScanRSScannedCards,</span>
<span class="line-modified">!     ScanRSClaimedCards,</span>
<span class="line-modified">!     ScanRSSkippedCards</span>
    };
  
<span class="line-modified">!   enum GCUpdateRSWorkItems {</span>
<span class="line-modified">!     UpdateRSProcessedBuffers,</span>
<span class="line-modified">!     UpdateRSScannedCards,</span>
<span class="line-modified">!     UpdateRSSkippedCards</span>
    };
  
<span class="line-modified">!   enum GCObjCopyWorkItems {</span>
<span class="line-modified">!     ObjCopyLABWaste,</span>
<span class="line-modified">!     ObjCopyLABUndoWaste</span>
    };
  
<span class="line-modified">!   enum GCOptCSetWorkItems {</span>
<span class="line-modified">!       OptCSetScannedCards,</span>
<span class="line-modified">!       OptCSetClaimedCards,</span>
<span class="line-modified">!       OptCSetSkippedCards,</span>
<span class="line-modified">!       OptCSetUsedMemory</span>
    };
  
   private:
    // Markers for grouping the phases in the GCPhases enum above
    static const int GCMainParPhasesLast = GCWorkerEnd;
  
    WorkerDataArray&lt;double&gt;* _gc_par_phases[GCParPhasesSentinel];
  
<span class="line-modified">!   WorkerDataArray&lt;size_t&gt;* _update_rs_processed_buffers;</span>
<span class="line-modified">!   WorkerDataArray&lt;size_t&gt;* _update_rs_scanned_cards;</span>
<span class="line-removed">-   WorkerDataArray&lt;size_t&gt;* _update_rs_skipped_cards;</span>
<span class="line-removed">- </span>
<span class="line-removed">-   WorkerDataArray&lt;size_t&gt;* _scan_rs_scanned_cards;</span>
<span class="line-removed">-   WorkerDataArray&lt;size_t&gt;* _scan_rs_claimed_cards;</span>
<span class="line-removed">-   WorkerDataArray&lt;size_t&gt;* _scan_rs_skipped_cards;</span>
<span class="line-removed">- </span>
<span class="line-removed">-   WorkerDataArray&lt;size_t&gt;* _obj_copy_lab_waste;</span>
<span class="line-removed">-   WorkerDataArray&lt;size_t&gt;* _obj_copy_lab_undo_waste;</span>
<span class="line-removed">- </span>
<span class="line-removed">-   WorkerDataArray&lt;size_t&gt;* _opt_cset_scanned_cards;</span>
<span class="line-removed">-   WorkerDataArray&lt;size_t&gt;* _opt_cset_claimed_cards;</span>
<span class="line-removed">-   WorkerDataArray&lt;size_t&gt;* _opt_cset_skipped_cards;</span>
<span class="line-removed">-   WorkerDataArray&lt;size_t&gt;* _opt_cset_used_memory;</span>
<span class="line-removed">- </span>
<span class="line-removed">-   WorkerDataArray&lt;size_t&gt;* _termination_attempts;</span>
<span class="line-removed">- </span>
<span class="line-removed">-   WorkerDataArray&lt;size_t&gt;* _redirtied_cards;</span>
<span class="line-removed">- </span>
<span class="line-removed">-   double _cur_collection_par_time_ms;</span>
<span class="line-removed">-   double _cur_optional_evac_ms;</span>
    double _cur_collection_code_root_fixup_time_ms;
    double _cur_strong_code_root_purge_time_ms;
  
    double _cur_evac_fail_recalc_used;
    double _cur_evac_fail_remove_self_forwards;
  
    double _cur_string_deduplication_time_ms;
  
    double _cur_prepare_tlab_time_ms;
    double _cur_resize_tlab_time_ms;
  
    double _cur_derived_pointer_table_update_time_ms;
  
<span class="line-new-header">--- 53,95 ---</span>
      ObjectSynchronizerRoots,
      ManagementRoots,
      SystemDictionaryRoots,
      CLDGRoots,
      JVMTIRoots,
<span class="line-modified">!     AOT_ONLY(AOTCodeRoots COMMA)</span>
      CMRefRoots,
<span class="line-modified">!     MergeER,</span>
<span class="line-modified">!     MergeRS,</span>
<span class="line-modified">!     OptMergeRS,</span>
<span class="line-modified">!     MergeLB,</span>
<span class="line-modified">!     MergeHCC,</span>
<span class="line-modified">!     ScanHR,</span>
<span class="line-modified">!     OptScanHR,</span>
      CodeRoots,
<span class="line-added">+     OptCodeRoots,</span>
      ObjCopy,
      OptObjCopy,
      Termination,
<span class="line-added">+     OptTermination,</span>
      Other,
      GCWorkerTotal,
      GCWorkerEnd,
      StringDedupQueueFixup,
      StringDedupTableFixup,
      RedirtyCards,
<span class="line-added">+     ParFreeCSet,</span>
      YoungFreeCSet,
      NonYoungFreeCSet,
<span class="line-added">+     RebuildFreeList,</span>
<span class="line-added">+     MergePSS,</span>
      GCParPhasesSentinel
    };
  
<span class="line-modified">!   static const GCParPhases ExtRootScanSubPhasesFirst = ThreadRoots;</span>
<span class="line-modified">!   static const GCParPhases ExtRootScanSubPhasesLast = CMRefRoots;</span>
  
<span class="line-modified">!   enum GCMergeRSWorkTimes {</span>
<span class="line-modified">!     MergeRSMergedSparse,</span>
<span class="line-modified">!     MergeRSMergedFine,</span>
<span class="line-modified">!     MergeRSMergedCoarse,</span>
<span class="line-added">+     MergeRSDirtyCards</span>
    };
  
<span class="line-modified">!   enum GCScanHRWorkItems {</span>
<span class="line-modified">!     ScanHRScannedCards,</span>
<span class="line-modified">!     ScanHRScannedBlocks,</span>
<span class="line-modified">!     ScanHRClaimedChunks,</span>
<span class="line-added">+     ScanHRScannedOptRefs,</span>
<span class="line-added">+     ScanHRUsedMemory</span>
    };
  
<span class="line-modified">!   enum GCMergeHCCWorkItems {</span>
<span class="line-modified">!     MergeHCCDirtyCards,</span>
<span class="line-modified">!     MergeHCCSkippedCards</span>
    };
  
<span class="line-modified">!   enum GCMergeLBWorkItems {</span>
<span class="line-modified">!     MergeLBDirtyCards,</span>
<span class="line-modified">!     MergeLBSkippedCards</span>
<span class="line-modified">!   };</span>
<span class="line-modified">! </span>
<span class="line-added">+   enum GCMergePSSWorkItems {</span>
<span class="line-added">+     MergePSSCopiedBytes,</span>
<span class="line-added">+     MergePSSLABWasteBytes,</span>
<span class="line-added">+     MergePSSLABUndoWasteBytes</span>
    };
  
   private:
    // Markers for grouping the phases in the GCPhases enum above
    static const int GCMainParPhasesLast = GCWorkerEnd;
  
    WorkerDataArray&lt;double&gt;* _gc_par_phases[GCParPhasesSentinel];
  
<span class="line-modified">!   double _cur_collection_initial_evac_time_ms;</span>
<span class="line-modified">!   double _cur_optional_evac_time_ms;</span>
    double _cur_collection_code_root_fixup_time_ms;
    double _cur_strong_code_root_purge_time_ms;
  
    double _cur_evac_fail_recalc_used;
    double _cur_evac_fail_remove_self_forwards;
  
    double _cur_string_deduplication_time_ms;
  
<span class="line-added">+   double _cur_merge_heap_roots_time_ms;</span>
<span class="line-added">+   double _cur_optional_merge_heap_roots_time_ms;</span>
<span class="line-added">+ </span>
<span class="line-added">+   double _cur_prepare_merge_heap_roots_time_ms;</span>
<span class="line-added">+   double _cur_optional_prepare_merge_heap_roots_time_ms;</span>
<span class="line-added">+ </span>
    double _cur_prepare_tlab_time_ms;
    double _cur_resize_tlab_time_ms;
  
    double _cur_derived_pointer_table_update_time_ms;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 156,10 ***</span>
<span class="line-new-header">--- 152,12 ---</span>
    double _cur_collection_start_sec;
    double _root_region_scan_wait_time_ms;
  
    double _external_accounted_time_ms;
  
<span class="line-added">+   double _recorded_prepare_heap_roots_time_ms;</span>
<span class="line-added">+ </span>
    double _recorded_clear_claimed_marks_time_ms;
  
    double _recorded_young_cset_choice_time_ms;
    double _recorded_non_young_cset_choice_time_ms;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 173,12 ***</span>
  
    double _recorded_total_free_cset_time_ms;
  
    double _recorded_serial_free_cset_time_ms;
  
    double _cur_fast_reclaim_humongous_time_ms;
<span class="line-removed">-   double _cur_fast_reclaim_humongous_register_time_ms;</span>
    size_t _cur_fast_reclaim_humongous_total;
    size_t _cur_fast_reclaim_humongous_candidates;
    size_t _cur_fast_reclaim_humongous_reclaimed;
  
    double _cur_verify_before_time_ms;
<span class="line-new-header">--- 171,17 ---</span>
  
    double _recorded_total_free_cset_time_ms;
  
    double _recorded_serial_free_cset_time_ms;
  
<span class="line-added">+   double _recorded_total_rebuild_freelist_time_ms;</span>
<span class="line-added">+ </span>
<span class="line-added">+   double _recorded_serial_rebuild_freelist_time_ms;</span>
<span class="line-added">+ </span>
<span class="line-added">+   double _cur_region_register_time;</span>
<span class="line-added">+ </span>
    double _cur_fast_reclaim_humongous_time_ms;
    size_t _cur_fast_reclaim_humongous_total;
    size_t _cur_fast_reclaim_humongous_candidates;
    size_t _cur_fast_reclaim_humongous_reclaimed;
  
    double _cur_verify_before_time_ms;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 190,25 ***</span>
    double worker_time(GCParPhases phase, uint worker);
    void note_gc_end();
    void reset();
  
    template &lt;class T&gt;
<span class="line-modified">!   void details(T* phase, const char* indent) const;</span>
  
<span class="line-modified">!   void log_phase(WorkerDataArray&lt;double&gt;* phase, uint indent, outputStream* out, bool print_sum) const;</span>
    void debug_phase(WorkerDataArray&lt;double&gt;* phase, uint extra_indent = 0) const;
<span class="line-modified">!   void trace_phase(WorkerDataArray&lt;double&gt;* phase, bool print_sum = true) const;</span>
  
    void info_time(const char* name, double value) const;
    void debug_time(const char* name, double value) const;
    // This will print logs for both &#39;gc+phases&#39; and &#39;gc+phases+ref&#39;.
    void debug_time_for_reference(const char* name, double value) const;
    void trace_time(const char* name, double value) const;
    void trace_count(const char* name, size_t value) const;
  
    double print_pre_evacuate_collection_set() const;
<span class="line-modified">!   double print_evacuate_collection_set() const;</span>
    double print_evacuate_optional_collection_set() const;
    double print_post_evacuate_collection_set() const;
    void print_other(double accounted_ms) const;
  
   public:
<span class="line-new-header">--- 193,28 ---</span>
    double worker_time(GCParPhases phase, uint worker);
    void note_gc_end();
    void reset();
  
    template &lt;class T&gt;
<span class="line-modified">!   void details(T* phase, const char* indent_str) const;</span>
  
<span class="line-modified">!   void log_work_items(WorkerDataArray&lt;double&gt;* phase, uint indent, outputStream* out) const;</span>
<span class="line-added">+   void log_phase(WorkerDataArray&lt;double&gt;* phase, uint indent_level, outputStream* out, bool print_sum) const;</span>
<span class="line-added">+   void debug_serial_phase(WorkerDataArray&lt;double&gt;* phase, uint extra_indent = 0) const;</span>
    void debug_phase(WorkerDataArray&lt;double&gt;* phase, uint extra_indent = 0) const;
<span class="line-modified">!   void trace_phase(WorkerDataArray&lt;double&gt;* phase, bool print_sum = true, uint extra_indent = 0) const;</span>
  
    void info_time(const char* name, double value) const;
    void debug_time(const char* name, double value) const;
    // This will print logs for both &#39;gc+phases&#39; and &#39;gc+phases+ref&#39;.
    void debug_time_for_reference(const char* name, double value) const;
    void trace_time(const char* name, double value) const;
    void trace_count(const char* name, size_t value) const;
  
    double print_pre_evacuate_collection_set() const;
<span class="line-modified">!   double print_merge_heap_roots_time() const;</span>
<span class="line-added">+   double print_evacuate_initial_collection_set() const;</span>
    double print_evacuate_optional_collection_set() const;
    double print_post_evacuate_collection_set() const;
    void print_other(double accounted_ms) const;
  
   public:
</pre>
<hr />
<pre>
<span class="line-old-header">*** 216,28 ***</span>
    void note_gc_start();
    void print();
    static const char* phase_name(GCParPhases phase);
  
    // record the time a phase took in seconds
<span class="line-modified">!   void record_time_secs(GCParPhases phase, uint worker_i, double secs);</span>
  
    // add a number of seconds to a phase
<span class="line-modified">!   void add_time_secs(GCParPhases phase, uint worker_i, double secs);</span>
  
<span class="line-modified">!   void record_or_add_time_secs(GCParPhases phase, uint worker_i, double secs);</span>
  
<span class="line-modified">!   void record_thread_work_item(GCParPhases phase, uint worker_i, size_t count, uint index = 0);</span>
  
<span class="line-modified">!   void record_or_add_thread_work_item(GCParPhases phase, uint worker_i, size_t count, uint index = 0);</span>
  
    // return the average time for a phase in milliseconds
    double average_time_ms(GCParPhases phase);
  
    size_t sum_thread_work_items(GCParPhases phase, uint index = 0);
  
<span class="line-removed">-  public:</span>
<span class="line-removed">- </span>
    void record_prepare_tlab_time_ms(double ms) {
      _cur_prepare_tlab_time_ms = ms;
    }
  
    void record_resize_tlab_time_ms(double ms) {
<span class="line-new-header">--- 222,30 ---</span>
    void note_gc_start();
    void print();
    static const char* phase_name(GCParPhases phase);
  
    // record the time a phase took in seconds
<span class="line-modified">!   void record_time_secs(GCParPhases phase, uint worker_id, double secs);</span>
  
    // add a number of seconds to a phase
<span class="line-modified">!   void add_time_secs(GCParPhases phase, uint worker_id, double secs);</span>
<span class="line-added">+ </span>
<span class="line-added">+   void record_or_add_time_secs(GCParPhases phase, uint worker_id, double secs);</span>
  
<span class="line-modified">!   double get_time_secs(GCParPhases phase, uint worker_id);</span>
  
<span class="line-modified">!   void record_thread_work_item(GCParPhases phase, uint worker_id, size_t count, uint index = 0);</span>
  
<span class="line-modified">!   void record_or_add_thread_work_item(GCParPhases phase, uint worker_id, size_t count, uint index = 0);</span>
<span class="line-added">+ </span>
<span class="line-added">+   size_t get_thread_work_item(GCParPhases phase, uint worker_id, uint index = 0);</span>
  
    // return the average time for a phase in milliseconds
    double average_time_ms(GCParPhases phase);
  
    size_t sum_thread_work_items(GCParPhases phase, uint index = 0);
  
    void record_prepare_tlab_time_ms(double ms) {
      _cur_prepare_tlab_time_ms = ms;
    }
  
    void record_resize_tlab_time_ms(double ms) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 254,26 ***</span>
  
    void record_expand_heap_time(double ms) {
      _cur_expand_heap_time_ms = ms;
    }
  
<span class="line-modified">!   void record_par_time(double ms) {</span>
<span class="line-modified">!     _cur_collection_par_time_ms = ms;</span>
    }
  
<span class="line-modified">!   void record_optional_evacuation(double ms) {</span>
<span class="line-modified">!     _cur_optional_evac_ms = ms;</span>
    }
  
<span class="line-modified">!   void record_code_root_fixup_time(double ms) {</span>
<span class="line-modified">!     _cur_collection_code_root_fixup_time_ms = ms;</span>
    }
  
    void record_strong_code_root_purge_time(double ms) {
      _cur_strong_code_root_purge_time_ms = ms;
    }
  
    void record_evac_fail_recalc_used_time(double ms) {
      _cur_evac_fail_recalc_used = ms;
    }
  
    void record_evac_fail_remove_self_forwards(double ms) {
<span class="line-new-header">--- 262,42 ---</span>
  
    void record_expand_heap_time(double ms) {
      _cur_expand_heap_time_ms = ms;
    }
  
<span class="line-modified">!   void record_initial_evac_time(double ms) {</span>
<span class="line-modified">!     _cur_collection_initial_evac_time_ms = ms;</span>
    }
  
<span class="line-modified">!   void record_or_add_optional_evac_time(double ms) {</span>
<span class="line-modified">!     _cur_optional_evac_time_ms += ms;</span>
    }
  
<span class="line-modified">!   void record_or_add_code_root_fixup_time(double ms) {</span>
<span class="line-modified">!     _cur_collection_code_root_fixup_time_ms += ms;</span>
    }
  
    void record_strong_code_root_purge_time(double ms) {
      _cur_strong_code_root_purge_time_ms = ms;
    }
  
<span class="line-added">+   void record_merge_heap_roots_time(double ms) {</span>
<span class="line-added">+     _cur_merge_heap_roots_time_ms += ms;</span>
<span class="line-added">+   }</span>
<span class="line-added">+ </span>
<span class="line-added">+   void record_or_add_optional_merge_heap_roots_time(double ms) {</span>
<span class="line-added">+     _cur_optional_merge_heap_roots_time_ms += ms;</span>
<span class="line-added">+   }</span>
<span class="line-added">+ </span>
<span class="line-added">+   void record_prepare_merge_heap_roots_time(double ms) {</span>
<span class="line-added">+     _cur_prepare_merge_heap_roots_time_ms += ms;</span>
<span class="line-added">+   }</span>
<span class="line-added">+ </span>
<span class="line-added">+   void record_or_add_optional_prepare_merge_heap_roots_time(double ms) {</span>
<span class="line-added">+     _cur_optional_prepare_merge_heap_roots_time_ms += ms;</span>
<span class="line-added">+   }</span>
<span class="line-added">+ </span>
    void record_evac_fail_recalc_used_time(double ms) {
      _cur_evac_fail_recalc_used = ms;
    }
  
    void record_evac_fail_remove_self_forwards(double ms) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 298,12 ***</span>
  
    void record_serial_free_cset_time_ms(double time_ms) {
      _recorded_serial_free_cset_time_ms = time_ms;
    }
  
<span class="line-modified">!   void record_fast_reclaim_humongous_stats(double time_ms, size_t total, size_t candidates) {</span>
<span class="line-modified">!     _cur_fast_reclaim_humongous_register_time_ms = time_ms;</span>
      _cur_fast_reclaim_humongous_total = total;
      _cur_fast_reclaim_humongous_candidates = candidates;
    }
  
    void record_fast_reclaim_humongous_time_ms(double value, size_t reclaimed) {
<span class="line-new-header">--- 322,20 ---</span>
  
    void record_serial_free_cset_time_ms(double time_ms) {
      _recorded_serial_free_cset_time_ms = time_ms;
    }
  
<span class="line-modified">!   void record_total_rebuild_freelist_time_ms(double time_ms) {</span>
<span class="line-modified">!     _recorded_total_rebuild_freelist_time_ms = time_ms;</span>
<span class="line-added">+   }</span>
<span class="line-added">+ </span>
<span class="line-added">+   void record_serial_rebuild_freelist_time_ms(double time_ms) {</span>
<span class="line-added">+     _recorded_serial_rebuild_freelist_time_ms = time_ms;</span>
<span class="line-added">+   }</span>
<span class="line-added">+ </span>
<span class="line-added">+   void record_register_regions(double time_ms, size_t total, size_t candidates) {</span>
<span class="line-added">+     _cur_region_register_time = time_ms;</span>
      _cur_fast_reclaim_humongous_total = total;
      _cur_fast_reclaim_humongous_candidates = candidates;
    }
  
    void record_fast_reclaim_humongous_time_ms(double value, size_t reclaimed) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 325,14 ***</span>
  
    void record_preserve_cm_referents_time_ms(double time_ms) {
      _recorded_preserve_cm_referents_time_ms = time_ms;
    }
  
<span class="line-removed">-   void record_merge_pss_time_ms(double time_ms) {</span>
<span class="line-removed">-     _recorded_merge_pss_time_ms = time_ms;</span>
<span class="line-removed">-   }</span>
<span class="line-removed">- </span>
    void record_start_new_cset_time_ms(double time_ms) {
      _recorded_start_new_cset_time_ms = time_ms;
    }
  
    void record_cur_collection_start_sec(double time_ms) {
<span class="line-new-header">--- 357,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 349,20 ***</span>
  
    void inc_external_accounted_time_ms(double time_ms) {
      _external_accounted_time_ms += time_ms;
    }
  
    void record_clear_claimed_marks_time_ms(double recorded_clear_claimed_marks_time_ms) {
      _recorded_clear_claimed_marks_time_ms = recorded_clear_claimed_marks_time_ms;
    }
  
    double cur_collection_start_sec() {
      return _cur_collection_start_sec;
    }
  
    double cur_collection_par_time_ms() {
<span class="line-modified">!     return _cur_collection_par_time_ms;</span>
    }
  
    double cur_clear_ct_time_ms() {
      return _cur_clear_ct_time_ms;
    }
<span class="line-new-header">--- 377,24 ---</span>
  
    void inc_external_accounted_time_ms(double time_ms) {
      _external_accounted_time_ms += time_ms;
    }
  
<span class="line-added">+   void record_prepare_heap_roots_time_ms(double recorded_prepare_heap_roots_time_ms) {</span>
<span class="line-added">+     _recorded_prepare_heap_roots_time_ms = recorded_prepare_heap_roots_time_ms;</span>
<span class="line-added">+   }</span>
<span class="line-added">+ </span>
    void record_clear_claimed_marks_time_ms(double recorded_clear_claimed_marks_time_ms) {
      _recorded_clear_claimed_marks_time_ms = recorded_clear_claimed_marks_time_ms;
    }
  
    double cur_collection_start_sec() {
      return _cur_collection_start_sec;
    }
  
    double cur_collection_par_time_ms() {
<span class="line-modified">!     return _cur_collection_initial_evac_time_ms + _cur_optional_evac_time_ms;</span>
    }
  
    double cur_clear_ct_time_ms() {
      return _cur_clear_ct_time_ms;
    }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 381,18 ***</span>
<span class="line-new-header">--- 413,26 ---</span>
  
    double total_free_cset_time_ms() {
      return _recorded_total_free_cset_time_ms;
    }
  
<span class="line-added">+   double total_rebuild_freelist_time_ms() {</span>
<span class="line-added">+     return _recorded_total_rebuild_freelist_time_ms;</span>
<span class="line-added">+   }</span>
<span class="line-added">+ </span>
    double non_young_cset_choice_time_ms() {
      return _recorded_non_young_cset_choice_time_ms;
    }
  
    double fast_reclaim_humongous_time_ms() {
      return _cur_fast_reclaim_humongous_time_ms;
    }
  
<span class="line-added">+   size_t fast_reclaim_humongous_candidates() const {</span>
<span class="line-added">+     return _cur_fast_reclaim_humongous_candidates;</span>
<span class="line-added">+   }</span>
<span class="line-added">+ </span>
    ReferenceProcessorPhaseTimes* ref_phase_times() { return &amp;_ref_phase_times; }
  
    WeakProcessorPhaseTimes* weak_phase_times() { return &amp;_weak_phase_times; }
  };
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 416,12 ***</span>
    Ticks _start_time;
    G1GCPhaseTimes::GCParPhases _phase;
    G1GCPhaseTimes* _phase_times;
    uint _worker_id;
    EventGCPhaseParallel _event;
  public:
<span class="line-modified">!   G1GCParPhaseTimesTracker(G1GCPhaseTimes* phase_times, G1GCPhaseTimes::GCParPhases phase, uint worker_id);</span>
    virtual ~G1GCParPhaseTimesTracker();
  };
  
  class G1EvacPhaseTimesTracker : public G1GCParPhaseTimesTracker {
    Tickspan _total_time;
<span class="line-new-header">--- 456,14 ---</span>
    Ticks _start_time;
    G1GCPhaseTimes::GCParPhases _phase;
    G1GCPhaseTimes* _phase_times;
    uint _worker_id;
    EventGCPhaseParallel _event;
<span class="line-added">+   bool _must_record;</span>
<span class="line-added">+ </span>
  public:
<span class="line-modified">!   G1GCParPhaseTimesTracker(G1GCPhaseTimes* phase_times, G1GCPhaseTimes::GCParPhases phase, uint worker_id, bool must_record = true);</span>
    virtual ~G1GCParPhaseTimesTracker();
  };
  
  class G1EvacPhaseTimesTracker : public G1GCParPhaseTimesTracker {
    Tickspan _total_time;
</pre>
<center><a href="g1GCPhaseTimes.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="g1HeapRegionEventSender.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>