<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/hotspot/share/gc/g1/g1OopClosures.cpp</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="g1MonitoringSupport.hpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="g1OopClosures.hpp.udiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/gc/g1/g1OopClosures.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -41,20 +41,18 @@</span>
    _g1h(g1h), _par_scan_state(par_scan_state)
  { }
  
  void G1CLDScanClosure::do_cld(ClassLoaderData* cld) {
    // If the class loader data has not been dirtied we know that there&#39;s
<span class="udiff-line-modified-removed">-   // no references into  the young gen and we can skip it.</span>
<span class="udiff-line-modified-added">+   // no references into the young gen and we can skip it.</span>
    if (!_process_only_dirty || cld-&gt;has_modified_oops()) {
  
      // Tell the closure that this class loader data is the CLD to scavenge
      // and is the one to dirty if oops are left pointing into the young gen.
      _closure-&gt;set_scanned_cld(cld);
<span class="udiff-line-modified-removed">- </span>
<span class="udiff-line-modified-removed">-     // Clean the cld since we&#39;re going to scavenge all the metadata.</span>
<span class="udiff-line-removed">-     // Clear modified oops only if this cld is claimed.</span>
<span class="udiff-line-removed">-     cld-&gt;oops_do(_closure, _claim, /*clear_modified_oops*/true);</span>
<span class="udiff-line-modified-added">+     // Clean modified oops since we&#39;re going to scavenge all the metadata.</span>
<span class="udiff-line-modified-added">+     cld-&gt;oops_do(_closure, ClassLoaderData::_claim_none, true /*clear_modified_oops*/);</span>
  
      _closure-&gt;set_scanned_cld(NULL);
  
      _closure-&gt;trim_queue_partially();
    }
</pre>
<center><a href="g1MonitoringSupport.hpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="g1OopClosures.hpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>