<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/hotspot/share/gc/g1/g1FullGCOopClosures.cpp</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="g1FullGCMarker.inline.hpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="g1FullGCOopClosures.hpp.udiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/gc/g1/g1FullGCOopClosures.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -59,28 +59,27 @@</span>
    T heap_oop = RawAccess&lt;&gt;::oop_load(p);
    if (!CompressedOops::is_null(heap_oop)) {
      _cc++;
      oop obj = CompressedOops::decode_not_null(heap_oop);
      bool failed = false;
<span class="udiff-line-modified-removed">-     if (!_g1h-&gt;is_in_closed_subset(obj) || _g1h-&gt;is_obj_dead_cond(obj, _verify_option)) {</span>
<span class="udiff-line-modified-removed">-       MutexLockerEx x(ParGCRareEvent_lock,</span>
<span class="udiff-line-removed">-           Mutex::_no_safepoint_check_flag);</span>
<span class="udiff-line-modified-added">+     if (!_g1h-&gt;is_in(obj) || _g1h-&gt;is_obj_dead_cond(obj, _verify_option)) {</span>
<span class="udiff-line-modified-added">+       MutexLocker x(ParGCRareEvent_lock, Mutex::_no_safepoint_check_flag);</span>
        LogStreamHandle(Error, gc, verify) yy;
        if (!_failures) {
          yy.cr();
          yy.print_cr(&quot;----------&quot;);
        }
<span class="udiff-line-modified-removed">-       if (!_g1h-&gt;is_in_closed_subset(obj)) {</span>
<span class="udiff-line-modified-added">+       if (!_g1h-&gt;is_in(obj)) {</span>
          HeapRegion* from = _g1h-&gt;heap_region_containing((HeapWord*)p);
          yy.print_cr(&quot;Field &quot; PTR_FORMAT &quot; of live obj &quot; PTR_FORMAT &quot; in region &quot; HR_FORMAT,
                      p2i(p), p2i(_containing_obj), HR_FORMAT_PARAMS(from));
          print_object(&amp;yy, _containing_obj);
          yy.print_cr(&quot;points to obj &quot; PTR_FORMAT &quot; not in the heap&quot;,
                      p2i(obj));
        } else {
          HeapRegion* from = _g1h-&gt;heap_region_containing((HeapWord*)p);
<span class="udiff-line-modified-removed">-         HeapRegion* to   = _g1h-&gt;heap_region_containing((HeapWord*)obj);</span>
<span class="udiff-line-modified-added">+         HeapRegion* to   = _g1h-&gt;heap_region_containing(obj);</span>
          yy.print_cr(&quot;Field &quot; PTR_FORMAT &quot; of live obj &quot; PTR_FORMAT &quot; in region &quot; HR_FORMAT,
                      p2i(p), p2i(_containing_obj), HR_FORMAT_PARAMS(from));
          print_object(&amp;yy, _containing_obj);
          yy.print_cr(&quot;points to dead obj &quot; PTR_FORMAT &quot; in region &quot; HR_FORMAT,
                      p2i(obj), HR_FORMAT_PARAMS(to));
</pre>
<center><a href="g1FullGCMarker.inline.hpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="g1FullGCOopClosures.hpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>