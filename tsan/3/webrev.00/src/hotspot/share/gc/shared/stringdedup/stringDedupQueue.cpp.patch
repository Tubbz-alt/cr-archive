diff a/src/hotspot/share/gc/shared/stringdedup/stringDedupQueue.cpp b/src/hotspot/share/gc/shared/stringdedup/stringDedupQueue.cpp
--- a/src/hotspot/share/gc/shared/stringdedup/stringDedupQueue.cpp
+++ b/src/hotspot/share/gc/shared/stringdedup/stringDedupQueue.cpp
@@ -30,11 +30,11 @@
 
 StringDedupQueue* StringDedupQueue::_queue = NULL;
 volatile size_t   StringDedupQueue::_claimed_index = 0;
 
 size_t StringDedupQueue::claim() {
-  return Atomic::add(size_t(1), &_claimed_index) - 1;
+  return Atomic::fetch_and_add(&_claimed_index, 1u);
 }
 
 void StringDedupQueue::unlink_or_oops_do(StringDedupUnlinkOrOopsDoClosure* cl) {
   size_t claimed_queue = claim();
   while (claimed_queue < queue()->num_queues()) {
