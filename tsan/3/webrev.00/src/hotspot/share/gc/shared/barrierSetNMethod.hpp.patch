diff a/src/hotspot/share/gc/shared/barrierSetNMethod.hpp b/src/hotspot/share/gc/shared/barrierSetNMethod.hpp
--- a/src/hotspot/share/gc/shared/barrierSetNMethod.hpp
+++ b/src/hotspot/share/gc/shared/barrierSetNMethod.hpp
@@ -30,19 +30,19 @@
 #include "utilities/sizes.hpp"
 
 class nmethod;
 
 class BarrierSetNMethod: public CHeapObj<mtGC> {
-  bool supports_entry_barrier(nmethod* nm);
   void deoptimize(nmethod* nm, address* return_addr_ptr);
-
-protected:
-  virtual int disarmed_value() const;
-  virtual bool nmethod_entry_barrier(nmethod* nm) = 0;
+  int disarmed_value() const;
 
 public:
+  bool supports_entry_barrier(nmethod* nm);
+
+  virtual bool nmethod_entry_barrier(nmethod* nm) = 0;
   virtual ByteSize thread_disarmed_offset() const = 0;
+  virtual int* disarmed_value_address() const = 0;
 
   static int nmethod_stub_entry_barrier(address* return_address_ptr);
   bool nmethod_osr_entry_barrier(nmethod* nm);
   bool is_armed(nmethod* nm);
   void disarm(nmethod* nm);
