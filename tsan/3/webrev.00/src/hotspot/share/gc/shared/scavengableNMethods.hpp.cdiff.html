<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/share/gc/shared/scavengableNMethods.hpp</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="scavengableNMethods.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="space.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/gc/shared/scavengableNMethods.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 43,28 ***</span>
    static void initialize(BoolObjectClosure* is_scavengable);
  
    static void register_nmethod(nmethod* nm);
    static void unregister_nmethod(nmethod* nm);
    static void verify_nmethod(nmethod* nm);
<span class="line-removed">-   static void flush_nmethod(nmethod* nm);</span>
  
    static void prune_nmethods();
  
<span class="line-modified">!   // Apply f to every live code blob in scavengable nmethods. Prune nmethods</span>
<span class="line-modified">!   // from the list of scavengable nmethods if f-&gt;fix_relocations() and a nmethod</span>
<span class="line-modified">!   // no longer has scavengable oops.  If f-&gt;fix_relocations(), then f must copy</span>
<span class="line-removed">-   // objects to their new location immediately to avoid fixing nmethods on the</span>
<span class="line-removed">-   // basis of the old object locations.</span>
<span class="line-removed">-   static void scavengable_nmethods_do(CodeBlobToOopClosure* f);</span>
  
<span class="line-modified">!   static void asserted_non_scavengable_nmethods_do(CodeBlobClosure* f = NULL) PRODUCT_RETURN;</span>
  
  private:
    static void unlist_nmethod(nmethod* nm, nmethod* prev);
  
    static bool has_scavengable_oops(nmethod* nm);
  
    static void mark_on_list_nmethods() PRODUCT_RETURN;
<span class="line-modified">!   static void verify_unlisted_nmethods(CodeBlobClosure* f_or_null) PRODUCT_RETURN;</span>
  };
  
  #endif // SHARE_GC_SHARED_SCAVENGABLENMETHODS_HPP
<span class="line-new-header">--- 43,26 ---</span>
    static void initialize(BoolObjectClosure* is_scavengable);
  
    static void register_nmethod(nmethod* nm);
    static void unregister_nmethod(nmethod* nm);
    static void verify_nmethod(nmethod* nm);
  
<span class="line-added">+   // Remove nmethods that no longer have scavengable oops.</span>
    static void prune_nmethods();
  
<span class="line-modified">!   // Apply closure to every scavengable nmethod.</span>
<span class="line-modified">!   // Remove nmethods that no longer have scavengable oops.</span>
<span class="line-modified">!   static void nmethods_do(CodeBlobToOopClosure* cl);</span>
  
<span class="line-modified">!   static void asserted_non_scavengable_nmethods_do(CodeBlobClosure* cl) PRODUCT_RETURN;</span>
  
  private:
<span class="line-added">+   static void nmethods_do_and_prune(CodeBlobToOopClosure* cl);</span>
    static void unlist_nmethod(nmethod* nm, nmethod* prev);
  
    static bool has_scavengable_oops(nmethod* nm);
  
    static void mark_on_list_nmethods() PRODUCT_RETURN;
<span class="line-modified">!   static void verify_unlisted_nmethods(CodeBlobClosure* cl) PRODUCT_RETURN;</span>
  };
  
  #endif // SHARE_GC_SHARED_SCAVENGABLENMETHODS_HPP
</pre>
<center><a href="scavengableNMethods.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="space.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>