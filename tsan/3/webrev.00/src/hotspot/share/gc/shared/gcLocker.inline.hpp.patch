diff a/src/hotspot/share/gc/shared/gcLocker.inline.hpp b/src/hotspot/share/gc/shared/gcLocker.inline.hpp
--- a/src/hotspot/share/gc/shared/gcLocker.inline.hpp
+++ b/src/hotspot/share/gc/shared/gcLocker.inline.hpp
@@ -24,11 +24,11 @@
 
 #ifndef SHARE_GC_SHARED_GCLOCKER_INLINE_HPP
 #define SHARE_GC_SHARED_GCLOCKER_INLINE_HPP
 
 #include "gc/shared/gcLocker.hpp"
-#include "runtime/thread.hpp"
+#include "runtime/thread.inline.hpp"
 
 void GCLocker::lock_critical(JavaThread* thread) {
   if (!thread->in_critical()) {
     if (needs_gc()) {
       // jni_lock call calls enter_critical under the lock so that the
