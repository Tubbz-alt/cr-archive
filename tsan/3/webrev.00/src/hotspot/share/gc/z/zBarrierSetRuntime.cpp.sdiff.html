<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/gc/z/zBarrierSetRuntime.cpp</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="zBarrierSetNMethod.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="zBarrierSetRuntime.hpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/gc/z/zBarrierSetRuntime.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
25 #include &quot;gc/z/zBarrier.inline.hpp&quot;
26 #include &quot;gc/z/zBarrierSetRuntime.hpp&quot;
27 #include &quot;runtime/interfaceSupport.inline.hpp&quot;
28 
29 JRT_LEAF(oopDesc*, ZBarrierSetRuntime::load_barrier_on_oop_field_preloaded(oopDesc* o, oop* p))
30   return ZBarrier::load_barrier_on_oop_field_preloaded(p, o);
31 JRT_END
32 
33 JRT_LEAF(oopDesc*, ZBarrierSetRuntime::load_barrier_on_weak_oop_field_preloaded(oopDesc* o, oop* p))
34   return ZBarrier::load_barrier_on_weak_oop_field_preloaded(p, o);
35 JRT_END
36 
37 JRT_LEAF(oopDesc*, ZBarrierSetRuntime::load_barrier_on_phantom_oop_field_preloaded(oopDesc* o, oop* p))
38   return ZBarrier::load_barrier_on_phantom_oop_field_preloaded(p, o);
39 JRT_END
40 
41 JRT_LEAF(void, ZBarrierSetRuntime::load_barrier_on_oop_array(oop* p, size_t length))
42   ZBarrier::load_barrier_on_oop_array(p, length);
43 JRT_END
44 




45 address ZBarrierSetRuntime::load_barrier_on_oop_field_preloaded_addr(DecoratorSet decorators) {
46   if (decorators &amp; ON_PHANTOM_OOP_REF) {
47     return load_barrier_on_phantom_oop_field_preloaded_addr();
48   } else if (decorators &amp; ON_WEAK_OOP_REF) {
49     return load_barrier_on_weak_oop_field_preloaded_addr();
50   } else {
51     return load_barrier_on_oop_field_preloaded_addr();
52   }
53 }
54 
55 address ZBarrierSetRuntime::load_barrier_on_oop_field_preloaded_addr() {
56   return reinterpret_cast&lt;address&gt;(load_barrier_on_oop_field_preloaded);
57 }
58 
59 address ZBarrierSetRuntime::load_barrier_on_weak_oop_field_preloaded_addr() {
60   return reinterpret_cast&lt;address&gt;(load_barrier_on_weak_oop_field_preloaded);
61 }
62 
63 address ZBarrierSetRuntime::load_barrier_on_phantom_oop_field_preloaded_addr() {
64   return reinterpret_cast&lt;address&gt;(load_barrier_on_phantom_oop_field_preloaded);
65 }
66 
67 address ZBarrierSetRuntime::load_barrier_on_oop_array_addr() {
68   return reinterpret_cast&lt;address&gt;(load_barrier_on_oop_array);
69 }




</pre>
</td>
<td>
<hr />
<pre>
25 #include &quot;gc/z/zBarrier.inline.hpp&quot;
26 #include &quot;gc/z/zBarrierSetRuntime.hpp&quot;
27 #include &quot;runtime/interfaceSupport.inline.hpp&quot;
28 
29 JRT_LEAF(oopDesc*, ZBarrierSetRuntime::load_barrier_on_oop_field_preloaded(oopDesc* o, oop* p))
30   return ZBarrier::load_barrier_on_oop_field_preloaded(p, o);
31 JRT_END
32 
33 JRT_LEAF(oopDesc*, ZBarrierSetRuntime::load_barrier_on_weak_oop_field_preloaded(oopDesc* o, oop* p))
34   return ZBarrier::load_barrier_on_weak_oop_field_preloaded(p, o);
35 JRT_END
36 
37 JRT_LEAF(oopDesc*, ZBarrierSetRuntime::load_barrier_on_phantom_oop_field_preloaded(oopDesc* o, oop* p))
38   return ZBarrier::load_barrier_on_phantom_oop_field_preloaded(p, o);
39 JRT_END
40 
41 JRT_LEAF(void, ZBarrierSetRuntime::load_barrier_on_oop_array(oop* p, size_t length))
42   ZBarrier::load_barrier_on_oop_array(p, length);
43 JRT_END
44 
<span class="line-added">45 JRT_LEAF(void, ZBarrierSetRuntime::clone(oopDesc* src, oopDesc* dst, size_t size))</span>
<span class="line-added">46   HeapAccess&lt;&gt;::clone(src, dst, size);</span>
<span class="line-added">47 JRT_END</span>
<span class="line-added">48 </span>
49 address ZBarrierSetRuntime::load_barrier_on_oop_field_preloaded_addr(DecoratorSet decorators) {
50   if (decorators &amp; ON_PHANTOM_OOP_REF) {
51     return load_barrier_on_phantom_oop_field_preloaded_addr();
52   } else if (decorators &amp; ON_WEAK_OOP_REF) {
53     return load_barrier_on_weak_oop_field_preloaded_addr();
54   } else {
55     return load_barrier_on_oop_field_preloaded_addr();
56   }
57 }
58 
59 address ZBarrierSetRuntime::load_barrier_on_oop_field_preloaded_addr() {
60   return reinterpret_cast&lt;address&gt;(load_barrier_on_oop_field_preloaded);
61 }
62 
63 address ZBarrierSetRuntime::load_barrier_on_weak_oop_field_preloaded_addr() {
64   return reinterpret_cast&lt;address&gt;(load_barrier_on_weak_oop_field_preloaded);
65 }
66 
67 address ZBarrierSetRuntime::load_barrier_on_phantom_oop_field_preloaded_addr() {
68   return reinterpret_cast&lt;address&gt;(load_barrier_on_phantom_oop_field_preloaded);
69 }
70 
71 address ZBarrierSetRuntime::load_barrier_on_oop_array_addr() {
72   return reinterpret_cast&lt;address&gt;(load_barrier_on_oop_array);
73 }
<span class="line-added">74 </span>
<span class="line-added">75 address ZBarrierSetRuntime::clone_addr() {</span>
<span class="line-added">76   return reinterpret_cast&lt;address&gt;(clone);</span>
<span class="line-added">77 }</span>
</pre>
</td>
</tr>
</table>
<center><a href="zBarrierSetNMethod.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="zBarrierSetRuntime.hpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>