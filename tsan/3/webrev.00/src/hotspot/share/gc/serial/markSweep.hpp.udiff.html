<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/hotspot/share/gc/serial/markSweep.hpp</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="markSweep.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="markSweep.inline.hpp.udiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/gc/serial/markSweep.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -27,11 +27,11 @@</span>
  
  #include &quot;gc/shared/collectedHeap.hpp&quot;
  #include &quot;gc/shared/genOopClosures.hpp&quot;
  #include &quot;gc/shared/taskqueue.hpp&quot;
  #include &quot;memory/iterator.hpp&quot;
<span class="udiff-line-modified-removed">- #include &quot;oops/markOop.hpp&quot;</span>
<span class="udiff-line-modified-added">+ #include &quot;oops/markWord.hpp&quot;</span>
  #include &quot;oops/oop.hpp&quot;
  #include &quot;runtime/timer.hpp&quot;
  #include &quot;utilities/growableArray.hpp&quot;
  #include &quot;utilities/stack.hpp&quot;
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -98,11 +98,11 @@</span>
    // Traversal stacks used during phase1
    static Stack&lt;oop, mtGC&gt;                      _marking_stack;
    static Stack&lt;ObjArrayTask, mtGC&gt;             _objarray_stack;
  
    // Space for storing/restoring mark word
<span class="udiff-line-modified-removed">-   static Stack&lt;markOop, mtGC&gt;                  _preserved_mark_stack;</span>
<span class="udiff-line-modified-added">+   static Stack&lt;markWord, mtGC&gt;                 _preserved_mark_stack;</span>
    static Stack&lt;oop, mtGC&gt;                      _preserved_oop_stack;
    static size_t                          _preserved_count;
    static size_t                          _preserved_count_max;
    static PreservedMark*                  _preserved_marks;
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -135,11 +135,11 @@</span>
    static void set_ref_processor(ReferenceProcessor* rp);
  
    static STWGCTimer* gc_timer() { return _gc_timer; }
    static SerialOldTracer* gc_tracer() { return _gc_tracer; }
  
<span class="udiff-line-modified-removed">-   static void preserve_mark(oop p, markOop mark);</span>
<span class="udiff-line-modified-added">+   static void preserve_mark(oop p, markWord mark);</span>
                                  // Save the mark word so it can be restored later
    static void adjust_marks();   // Adjust the pointers in the preserved marks table
    static void restore_marks();  // Restore the marks that we saved in preserve_mark
  
    static int adjust_pointers(oop obj);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -197,14 +197,14 @@</span>
  };
  
  class PreservedMark {
  private:
    oop _obj;
<span class="udiff-line-modified-removed">-   markOop _mark;</span>
<span class="udiff-line-modified-added">+   markWord _mark;</span>
  
  public:
<span class="udiff-line-modified-removed">-   void init(oop obj, markOop mark) {</span>
<span class="udiff-line-modified-added">+   void init(oop obj, markWord mark) {</span>
      _obj = obj;
      _mark = mark;
    }
  
    void adjust_pointer();
</pre>
<center><a href="markSweep.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="markSweep.inline.hpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>