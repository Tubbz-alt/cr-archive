<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/share/oops/constantPool.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="constantPool.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="constantPool.inline.hpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/oops/constantPool.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 1997, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 1997, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 91,12 ***</span>
      assert(_resolved_klass_index != _temp_resolved_klass_index, &quot;constant pool merging was incomplete&quot;);
      return _resolved_klass_index;
    }
  };
  
<span class="line-removed">- class KlassSizeStats;</span>
<span class="line-removed">- </span>
  class ConstantPool : public Metadata {
    friend class VMStructs;
    friend class JVMCIVMStructs;
    friend class BytecodeInterpreter;  // Directly extracts a klass in the pool for fast instanceof/checkcast
    friend class Universe;             // For null constructor
<span class="line-new-header">--- 91,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 744,15 ***</span>
    oop find_cached_constant_at(int pool_index, bool&amp; found_it, TRAPS) {
      constantPoolHandle h_this(THREAD, this);
      return resolve_constant_at_impl(h_this, pool_index, _possible_index_sentinel, &amp;found_it, THREAD);
    }
  
<span class="line-removed">-   oop resolve_bootstrap_specifier_at(int index, TRAPS) {</span>
<span class="line-removed">-     constantPoolHandle h_this(THREAD, this);</span>
<span class="line-removed">-     return resolve_bootstrap_specifier_at_impl(h_this, index, THREAD);</span>
<span class="line-removed">-   }</span>
<span class="line-removed">- </span>
    void copy_bootstrap_arguments_at(int index,
                                     int start_arg, int end_arg,
                                     objArrayHandle info, int pos,
                                     bool must_resolve, Handle if_not_available, TRAPS) {
      constantPoolHandle h_this(THREAD, this);
<span class="line-new-header">--- 742,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 776,13 ***</span>
    static int header_size()             {
      return align_up((int)sizeof(ConstantPool), wordSize) / wordSize;
    }
    static int size(int length)          { return align_metadata_size(header_size() + length); }
    int size() const                     { return size(length()); }
<span class="line-removed">- #if INCLUDE_SERVICES</span>
<span class="line-removed">-   void collect_statistics(KlassSizeStats *sz) const;</span>
<span class="line-removed">- #endif</span>
  
    // ConstantPools should be stored in the read-only region of CDS archive.
    static bool is_read_only_by_default() { return true; }
  
    friend class ClassFileParser;
<span class="line-new-header">--- 769,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 869,11 ***</span>
    // Resolve string constants (to prevent allocation during compilation)
    static void resolve_string_constants_impl(const constantPoolHandle&amp; this_cp, TRAPS);
  
    static oop resolve_constant_at_impl(const constantPoolHandle&amp; this_cp, int index, int cache_index,
                                        bool* status_return, TRAPS);
<span class="line-removed">-   static oop resolve_bootstrap_specifier_at_impl(const constantPoolHandle&amp; this_cp, int index, TRAPS);</span>
    static void copy_bootstrap_arguments_at_impl(const constantPoolHandle&amp; this_cp, int index,
                                                 int start_arg, int end_arg,
                                                 objArrayHandle info, int pos,
                                                 bool must_resolve, Handle if_not_available, TRAPS);
  
<span class="line-new-header">--- 859,10 ---</span>
</pre>
<center><a href="constantPool.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="constantPool.inline.hpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>