<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/oops/fieldInfo.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="cpCache.inline.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="fieldStreams.hpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/oops/fieldInfo.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
159     u2 lo = _shorts[low_packed_offset];
160     switch(lo &amp; FIELDINFO_TAG_MASK) {
161       case FIELDINFO_TAG_TYPE_PLAIN:
162       case FIELDINFO_TAG_TYPE_CONTENDED:
163         return (lo &gt;&gt; FIELDINFO_TAG_SIZE);
164 #ifndef PRODUCT
165       case FIELDINFO_TAG_OFFSET:
166         fatal(&quot;Asking the field type for field with offset&quot;);
167       case FIELDINFO_TAG_BLANK:
168         fatal(&quot;Asking the field type for the blank field&quot;);
169 #endif
170     }
171     ShouldNotReachHere();
172     return 0;
173   }
174 
175   bool is_offset_set() const {
176     return (_shorts[low_packed_offset] &amp; FIELDINFO_TAG_MASK) == FIELDINFO_TAG_OFFSET;
177   }
178 
<span class="line-modified">179   Symbol* name(const constantPoolHandle&amp; cp) const {</span>
180     int index = name_index();
181     if (is_internal()) {
182       return lookup_symbol(index);
183     }
184     return cp-&gt;symbol_at(index);
185   }
186 
<span class="line-modified">187   Symbol* signature(const constantPoolHandle&amp; cp) const {</span>
188     int index = signature_index();
189     if (is_internal()) {
190       return lookup_symbol(index);
191     }
192     return cp-&gt;symbol_at(index);
193   }
194 
195   void set_access_flags(u2 val)                  { _shorts[access_flags_offset] = val;             }
196   void set_offset(u4 val)                        {
197     val = val &lt;&lt; FIELDINFO_TAG_SIZE; // make room for tag
198     _shorts[low_packed_offset] = extract_low_short_from_int(val) | FIELDINFO_TAG_OFFSET;
199     _shorts[high_packed_offset] = extract_high_short_from_int(val);
200   }
201 
202   void set_allocation_type(int type) {
203     u2 lo = _shorts[low_packed_offset];
204     switch(lo &amp; FIELDINFO_TAG_MASK) {
205       case FIELDINFO_TAG_BLANK:
206         _shorts[low_packed_offset] = ((type &lt;&lt; FIELDINFO_TAG_SIZE)) &amp; 0xFFFF;
207         _shorts[low_packed_offset] &amp;= ~FIELDINFO_TAG_MASK;
</pre>
</td>
<td>
<hr />
<pre>
159     u2 lo = _shorts[low_packed_offset];
160     switch(lo &amp; FIELDINFO_TAG_MASK) {
161       case FIELDINFO_TAG_TYPE_PLAIN:
162       case FIELDINFO_TAG_TYPE_CONTENDED:
163         return (lo &gt;&gt; FIELDINFO_TAG_SIZE);
164 #ifndef PRODUCT
165       case FIELDINFO_TAG_OFFSET:
166         fatal(&quot;Asking the field type for field with offset&quot;);
167       case FIELDINFO_TAG_BLANK:
168         fatal(&quot;Asking the field type for the blank field&quot;);
169 #endif
170     }
171     ShouldNotReachHere();
172     return 0;
173   }
174 
175   bool is_offset_set() const {
176     return (_shorts[low_packed_offset] &amp; FIELDINFO_TAG_MASK) == FIELDINFO_TAG_OFFSET;
177   }
178 
<span class="line-modified">179   Symbol* name(ConstantPool* cp) const {</span>
180     int index = name_index();
181     if (is_internal()) {
182       return lookup_symbol(index);
183     }
184     return cp-&gt;symbol_at(index);
185   }
186 
<span class="line-modified">187   Symbol* signature(ConstantPool* cp) const {</span>
188     int index = signature_index();
189     if (is_internal()) {
190       return lookup_symbol(index);
191     }
192     return cp-&gt;symbol_at(index);
193   }
194 
195   void set_access_flags(u2 val)                  { _shorts[access_flags_offset] = val;             }
196   void set_offset(u4 val)                        {
197     val = val &lt;&lt; FIELDINFO_TAG_SIZE; // make room for tag
198     _shorts[low_packed_offset] = extract_low_short_from_int(val) | FIELDINFO_TAG_OFFSET;
199     _shorts[high_packed_offset] = extract_high_short_from_int(val);
200   }
201 
202   void set_allocation_type(int type) {
203     u2 lo = _shorts[low_packed_offset];
204     switch(lo &amp; FIELDINFO_TAG_MASK) {
205       case FIELDINFO_TAG_BLANK:
206         _shorts[low_packed_offset] = ((type &lt;&lt; FIELDINFO_TAG_SIZE)) &amp; 0xFFFF;
207         _shorts[low_packed_offset] &amp;= ~FIELDINFO_TAG_MASK;
</pre>
</td>
</tr>
</table>
<center><a href="cpCache.inline.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="fieldStreams.hpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>