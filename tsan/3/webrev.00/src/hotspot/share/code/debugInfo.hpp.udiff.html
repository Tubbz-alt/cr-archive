<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/hotspot/share/code/debugInfo.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="debugInfo.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="dependencies.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/code/debugInfo.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -47,10 +47,11 @@</span>
  class ScopeValue: public ResourceObj {
   public:
    // Testers
    virtual bool is_location() const { return false; }
    virtual bool is_object() const { return false; }
<span class="udiff-line-added">+   virtual bool is_auto_box() const { return false; }</span>
    virtual bool is_constant_int() const { return false; }
    virtual bool is_constant_double() const { return false; }
    virtual bool is_constant_long() const { return false; }
    virtual bool is_constant_oop() const { return false; }
    virtual bool equals(ScopeValue* other) const { return false; }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -92,17 +93,16 @@</span>
  
  
  // An ObjectValue describes an object eliminated by escape analysis.
  
  class ObjectValue: public ScopeValue {
<span class="udiff-line-modified-removed">-  private:</span>
<span class="udiff-line-modified-added">+  protected:</span>
    int                        _id;
    ScopeValue*                _klass;
    GrowableArray&lt;ScopeValue*&gt; _field_values;
    Handle                     _value;
    bool                       _visited;
<span class="udiff-line-removed">- </span>
   public:
    ObjectValue(int id, ScopeValue* klass)
       : _id(id)
       , _klass(klass)
       , _field_values()
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -138,10 +138,20 @@</span>
    // Printing
    void print_on(outputStream* st) const;
    void print_fields_on(outputStream* st) const;
  };
  
<span class="udiff-line-added">+ class AutoBoxObjectValue : public ObjectValue {</span>
<span class="udiff-line-added">+   bool                       _cached;</span>
<span class="udiff-line-added">+ public:</span>
<span class="udiff-line-added">+   bool                       is_auto_box() const        { return true; }</span>
<span class="udiff-line-added">+   bool                       is_cached() const          { return _cached; }</span>
<span class="udiff-line-added">+   void                       set_cached(bool cached)    { _cached = cached; }</span>
<span class="udiff-line-added">+   AutoBoxObjectValue(int id, ScopeValue* klass) : ObjectValue(id, klass), _cached(false) { }</span>
<span class="udiff-line-added">+   AutoBoxObjectValue(int id) : ObjectValue(id), _cached(false) { }</span>
<span class="udiff-line-added">+ };</span>
<span class="udiff-line-added">+ </span>
  
  // A ConstantIntValue describes a constant int; i.e., the corresponding logical entity
  // is either a source constant or its computation has been constant-folded.
  
  class ConstantIntValue: public ScopeValue {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -278,11 +288,11 @@</span>
      Method* o = (Method*)(code()-&gt;metadata_at(read_int()));
      // is_metadata() is a faster check than is_metaspace_object()
      assert(o == NULL || o-&gt;is_metadata(), &quot;meta data only&quot;);
      return o;
    }
<span class="udiff-line-modified-removed">-   ScopeValue* read_object_value();</span>
<span class="udiff-line-modified-added">+   ScopeValue* read_object_value(bool is_auto_box);</span>
    ScopeValue* get_cached_object();
    // BCI encoding is mostly unsigned, but -1 is a distinguished value
    int read_bci() { return read_int() + InvocationEntryBci; }
  };
  
</pre>
<center><a href="debugInfo.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="dependencies.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>