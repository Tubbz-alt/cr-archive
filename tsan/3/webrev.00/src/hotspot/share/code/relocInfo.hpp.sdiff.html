<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/code/relocInfo.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="relocInfo.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="stubs.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/code/relocInfo.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 918 
 919   oop_Relocation(int oop_index, int offset) {
 920     _oop_index = oop_index; _offset = offset;
 921   }
 922 
 923   friend class RelocIterator;
 924   oop_Relocation() { }
 925 
 926  public:
 927   int oop_index() { return _oop_index; }
 928   int offset()    { return _offset; }
 929 
 930   // data is packed in &quot;2_ints&quot; format:  [i o] or [Ii Oo]
 931   void pack_data_to(CodeSection* dest);
 932   void unpack_data();
 933 
 934   void fix_oop_relocation();        // reasserts oop value
 935 
 936   void verify_oop_relocation();
 937 
<span class="line-modified"> 938   address value()  { return (address) *oop_addr(); }</span>
 939 
 940   bool oop_is_immediate()  { return oop_index() == 0; }
 941 
 942   oop* oop_addr();                  // addr or &amp;pool[jint_data]
 943   oop  oop_value();                 // *oop_addr
 944   // Note:  oop_value transparently converts Universe::non_oop_word to NULL.
 945 };
 946 
 947 
 948 // copy of oop_Relocation for now but may delete stuff in both/either
 949 class metadata_Relocation : public DataRelocation {
 950   relocInfo::relocType type() { return relocInfo::metadata_type; }
 951 
 952  public:
 953   // encode in one of these formats:  [] [n] [n l] [Nn l] [Nn Ll]
 954   // an metadata in the CodeBlob&#39;s metadata pool
 955   static RelocationHolder spec(int metadata_index, int offset = 0) {
 956     assert(metadata_index &gt; 0, &quot;must be a pool-resident metadata&quot;);
 957     RelocationHolder rh = newHolder();
 958     new(rh) metadata_Relocation(metadata_index, offset);
</pre>
</td>
<td>
<hr />
<pre>
 918 
 919   oop_Relocation(int oop_index, int offset) {
 920     _oop_index = oop_index; _offset = offset;
 921   }
 922 
 923   friend class RelocIterator;
 924   oop_Relocation() { }
 925 
 926  public:
 927   int oop_index() { return _oop_index; }
 928   int offset()    { return _offset; }
 929 
 930   // data is packed in &quot;2_ints&quot; format:  [i o] or [Ii Oo]
 931   void pack_data_to(CodeSection* dest);
 932   void unpack_data();
 933 
 934   void fix_oop_relocation();        // reasserts oop value
 935 
 936   void verify_oop_relocation();
 937 
<span class="line-modified"> 938   address value()  { return cast_from_oop&lt;address&gt;(*oop_addr()); }</span>
 939 
 940   bool oop_is_immediate()  { return oop_index() == 0; }
 941 
 942   oop* oop_addr();                  // addr or &amp;pool[jint_data]
 943   oop  oop_value();                 // *oop_addr
 944   // Note:  oop_value transparently converts Universe::non_oop_word to NULL.
 945 };
 946 
 947 
 948 // copy of oop_Relocation for now but may delete stuff in both/either
 949 class metadata_Relocation : public DataRelocation {
 950   relocInfo::relocType type() { return relocInfo::metadata_type; }
 951 
 952  public:
 953   // encode in one of these formats:  [] [n] [n l] [Nn l] [Nn Ll]
 954   // an metadata in the CodeBlob&#39;s metadata pool
 955   static RelocationHolder spec(int metadata_index, int offset = 0) {
 956     assert(metadata_index &gt; 0, &quot;must be a pool-resident metadata&quot;);
 957     RelocationHolder rh = newHolder();
 958     new(rh) metadata_Relocation(metadata_index, offset);
</pre>
</td>
</tr>
</table>
<center><a href="relocInfo.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="stubs.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>