<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/hotspot/share/jvmci/vmStructs_jvmci.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="jvmci_globals.hpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="vmSymbols_jvmci.hpp.udiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/jvmci/vmStructs_jvmci.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 2015, 2019, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 2015, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -21,31 +21,21 @@</span>
   * questions.
   *
   */
  
  #include &quot;precompiled.hpp&quot;
<span class="udiff-line-removed">- #include &quot;code/codeBlob.hpp&quot;</span>
<span class="udiff-line-removed">- #include &quot;compiler/abstractCompiler.hpp&quot;</span>
  #include &quot;compiler/compileBroker.hpp&quot;
<span class="udiff-line-removed">- #include &quot;gc/shared/cardTable.hpp&quot;</span>
  #include &quot;gc/shared/collectedHeap.hpp&quot;
  #include &quot;jvmci/jvmciCodeInstaller.hpp&quot;
  #include &quot;jvmci/jvmciCompilerToVM.hpp&quot;
<span class="udiff-line-removed">- #include &quot;jvmci/jvmciEnv.hpp&quot;</span>
  #include &quot;jvmci/jvmciRuntime.hpp&quot;
  #include &quot;jvmci/vmStructs_compiler_runtime.hpp&quot;
  #include &quot;jvmci/vmStructs_jvmci.hpp&quot;
<span class="udiff-line-removed">- #include &quot;oops/oop.hpp&quot;</span>
<span class="udiff-line-removed">- #include &quot;oops/oopHandle.hpp&quot;</span>
  #include &quot;oops/objArrayKlass.hpp&quot;
<span class="udiff-line-modified-removed">- #include &quot;runtime/flags/jvmFlag.hpp&quot;</span>
<span class="udiff-line-removed">- #include &quot;runtime/globals.hpp&quot;</span>
<span class="udiff-line-modified-added">+ #include &quot;runtime/deoptimization.hpp&quot;</span>
  #include &quot;runtime/sharedRuntime.hpp&quot;
<span class="udiff-line-removed">- #include &quot;runtime/thread.hpp&quot;</span>
<span class="udiff-line-removed">- #include &quot;runtime/vm_version.hpp&quot;</span>
  #if INCLUDE_G1GC
<span class="udiff-line-removed">- #include &quot;gc/g1/g1BarrierSet.hpp&quot;</span>
  #include &quot;gc/g1/g1CardTable.hpp&quot;
  #include &quot;gc/g1/heapRegion.hpp&quot;
  #include &quot;gc/g1/g1ThreadLocalData.hpp&quot;
  #endif
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -56,10 +46,11 @@</span>
    static_field(CompilerToVM::Data,             Method_extra_stack_entries,             int)                                          \
                                                                                                                                       \
    static_field(CompilerToVM::Data,             SharedRuntime_ic_miss_stub,             address)                                      \
    static_field(CompilerToVM::Data,             SharedRuntime_handle_wrong_method_stub, address)                                      \
    static_field(CompilerToVM::Data,             SharedRuntime_deopt_blob_unpack,        address)                                      \
<span class="udiff-line-added">+   static_field(CompilerToVM::Data,             SharedRuntime_deopt_blob_unpack_with_exception_in_tls,        address)                       \</span>
    static_field(CompilerToVM::Data,             SharedRuntime_deopt_blob_uncommon_trap, address)                                      \
                                                                                                                                       \
    static_field(CompilerToVM::Data,             ThreadLocalAllocBuffer_alignment_reserve, size_t)                                     \
                                                                                                                                       \
    static_field(CompilerToVM::Data,             Universe_collectedHeap,                 CollectedHeap*)                               \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -111,11 +102,11 @@</span>
    unchecked_nonstatic_field(Array&lt;u1&gt;,         _data,                                  sizeof(u1))                                   \
    unchecked_nonstatic_field(Array&lt;u2&gt;,         _data,                                  sizeof(u2))                                   \
    nonstatic_field(Array&lt;Klass*&gt;,               _length,                                int)                                          \
    nonstatic_field(Array&lt;Klass*&gt;,               _data[0],                               Klass*)                                       \
                                                                                                                                       \
<span class="udiff-line-modified-removed">-   volatile_nonstatic_field(BasicLock,          _displaced_header,                      markOop)                                      \</span>
<span class="udiff-line-modified-added">+   volatile_nonstatic_field(BasicLock,          _displaced_header,                      markWord)                                     \</span>
                                                                                                                                       \
    static_field(CodeCache,                      _low_bound,                             address)                                      \
    static_field(CodeCache,                      _high_bound,                            address)                                      \
                                                                                                                                       \
    nonstatic_field(CollectedHeap,               _total_collections,                     unsigned int)                                 \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -164,53 +155,55 @@</span>
                                                                                                                                       \
    nonstatic_field(InstanceKlass,               _fields,                                       Array&lt;u2&gt;*)                            \
    nonstatic_field(InstanceKlass,               _constants,                                    ConstantPool*)                         \
    nonstatic_field(InstanceKlass,               _source_file_name_index,                       u2)                                    \
    nonstatic_field(InstanceKlass,               _init_state,                                   u1)                                    \
<span class="udiff-line-modified-removed">-   nonstatic_field(InstanceKlass,               _misc_flags,                                   u2)                                    \</span>
<span class="udiff-line-modified-added">+   nonstatic_field(InstanceKlass,               _misc_flags,                                   u4)                                    \</span>
    nonstatic_field(InstanceKlass,               _annotations,                                  Annotations*)                          \
                                                                                                                                       \
    volatile_nonstatic_field(JavaFrameAnchor,    _last_Java_sp,                                 intptr_t*)                             \
    volatile_nonstatic_field(JavaFrameAnchor,    _last_Java_pc,                                 address)                               \
                                                                                                                                       \
<span class="udiff-line-added">+   nonstatic_field(JVMCICompileState,           _jvmti_can_hotswap_or_post_breakpoint,         jbyte)                                 \</span>
<span class="udiff-line-added">+   nonstatic_field(JVMCICompileState,           _jvmti_can_access_local_variables,             jbyte)                                 \</span>
<span class="udiff-line-added">+   nonstatic_field(JVMCICompileState,           _jvmti_can_post_on_exceptions,                 jbyte)                                 \</span>
<span class="udiff-line-added">+   nonstatic_field(JVMCICompileState,           _jvmti_can_pop_frame,                          jbyte)                                 \</span>
<span class="udiff-line-added">+                                                                                                                                      \</span>
    nonstatic_field(JavaThread,                  _threadObj,                                    oop)                                   \
    nonstatic_field(JavaThread,                  _anchor,                                       JavaFrameAnchor)                       \
    nonstatic_field(JavaThread,                  _vm_result,                                    oop)                                   \
    volatile_nonstatic_field(JavaThread,         _exception_oop,                                oop)                                   \
    volatile_nonstatic_field(JavaThread,         _exception_pc,                                 address)                               \
    volatile_nonstatic_field(JavaThread,         _is_method_handle_return,                      int)                                   \
<span class="udiff-line-added">+   volatile_nonstatic_field(JavaThread,         _doing_unsafe_access,                          bool)                                  \</span>
    nonstatic_field(JavaThread,                  _osthread,                                     OSThread*)                             \
    nonstatic_field(JavaThread,                  _pending_deoptimization,                       int)                                   \
<span class="udiff-line-modified-removed">-   nonstatic_field(JavaThread,                  _pending_failed_speculation,                   long)                                  \</span>
<span class="udiff-line-modified-added">+   nonstatic_field(JavaThread,                  _pending_failed_speculation,                   jlong)                                 \</span>
    nonstatic_field(JavaThread,                  _pending_transfer_to_interpreter,              bool)                                  \
    nonstatic_field(JavaThread,                  _jvmci_counters,                               jlong*)                                \
    nonstatic_field(JavaThread,                  _should_post_on_exceptions_flag,               int)                                   \
<span class="udiff-line-added">+   nonstatic_field(JavaThread,                  _jni_environment,                              JNIEnv)                                \</span>
    nonstatic_field(JavaThread,                  _reserved_stack_activation,                    address)                               \
                                                                                                                                       \
    static_field(java_lang_Class,                _klass_offset,                                 int)                                   \
    static_field(java_lang_Class,                _array_klass_offset,                           int)                                   \
                                                                                                                                       \
<span class="udiff-line-removed">-   nonstatic_field(JVMCIEnv,                    _task,                                         CompileTask*)                          \</span>
<span class="udiff-line-removed">-   nonstatic_field(JVMCIEnv,                    _jvmti_can_hotswap_or_post_breakpoint,         jbyte)                                 \</span>
<span class="udiff-line-removed">-   nonstatic_field(JVMCIEnv,                    _jvmti_can_access_local_variables,             jbyte)                                 \</span>
<span class="udiff-line-removed">-   nonstatic_field(JVMCIEnv,                    _jvmti_can_post_on_exceptions,                 jbyte)                                 \</span>
<span class="udiff-line-removed">-   nonstatic_field(JVMCIEnv,                    _jvmti_can_pop_frame,                          jbyte)                                 \</span>
<span class="udiff-line-removed">-                                                                                                                                      \</span>
    nonstatic_field(InvocationCounter,           _counter,                                      unsigned int)                          \
                                                                                                                                       \
    nonstatic_field(Klass,                       _secondary_super_cache,                        Klass*)                                \
    nonstatic_field(Klass,                       _secondary_supers,                             Array&lt;Klass*&gt;*)                        \
    nonstatic_field(Klass,                       _super,                                        Klass*)                                \
    nonstatic_field(Klass,                       _super_check_offset,                           juint)                                 \
    nonstatic_field(Klass,                       _subklass,                                     Klass*)                                \
    nonstatic_field(Klass,                       _layout_helper,                                jint)                                  \
    nonstatic_field(Klass,                       _name,                                         Symbol*)                               \
<span class="udiff-line-modified-removed">-   nonstatic_field(Klass,                       _prototype_header,                             markOop)                               \</span>
<span class="udiff-line-modified-added">+   nonstatic_field(Klass,                       _prototype_header,                             markWord)                              \</span>
    nonstatic_field(Klass,                       _next_sibling,                                 Klass*)                                \
    nonstatic_field(Klass,                       _java_mirror,                                  OopHandle)                             \
    nonstatic_field(Klass,                       _modifier_flags,                               jint)                                  \
    nonstatic_field(Klass,                       _access_flags,                                 AccessFlags)                           \
<span class="udiff-line-added">+   nonstatic_field(Klass,                       _class_loader_data,                            ClassLoaderData*)                      \</span>
                                                                                                                                       \
    nonstatic_field(LocalVariableTableElement,   start_bci,                                     u2)                                    \
    nonstatic_field(LocalVariableTableElement,   length,                                        u2)                                    \
    nonstatic_field(LocalVariableTableElement,   name_cp_index,                                 u2)                                    \
    nonstatic_field(LocalVariableTableElement,   descriptor_cp_index,                           u2)                                    \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -260,17 +253,19 @@</span>
    nonstatic_field(nmethod,                     _verified_entry_point,                         address)                               \
    nonstatic_field(nmethod,                     _comp_level,                                   int)                                   \
                                                                                                                                       \
    nonstatic_field(ObjArrayKlass,               _element_klass,                                Klass*)                                \
                                                                                                                                       \
<span class="udiff-line-modified-removed">-   volatile_nonstatic_field(oopDesc,            _mark,                                         markOop)                               \</span>
<span class="udiff-line-modified-added">+   volatile_nonstatic_field(ObjectMonitor,      _cxq,                                   ObjectWaiter*)                                \</span>
<span class="udiff-line-added">+   volatile_nonstatic_field(ObjectMonitor,      _EntryList,                             ObjectWaiter*)                                \</span>
<span class="udiff-line-added">+   volatile_nonstatic_field(ObjectMonitor,      _succ,                                  Thread*)                                      \</span>
<span class="udiff-line-added">+                                                                                                                                      \</span>
<span class="udiff-line-added">+   volatile_nonstatic_field(oopDesc,            _mark,                                         markWord)                              \</span>
    volatile_nonstatic_field(oopDesc,            _metadata._klass,                              Klass*)                                \
                                                                                                                                       \
    static_field(os,                             _polling_page,                                 address)                               \
                                                                                                                                       \
<span class="udiff-line-removed">-   volatile_nonstatic_field(OSThread,           _interrupted,                                  jint)                                  \</span>
<span class="udiff-line-removed">-                                                                                                                                      \</span>
    static_field(StubRoutines,                _verify_oop_count,                                jint)                                  \
                                                                                                                                       \
    static_field(StubRoutines,                _throw_delayed_StackOverflowError_entry,          address)                               \
                                                                                                                                       \
    static_field(StubRoutines,                _jbyte_arraycopy,                                 address)                               \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -304,10 +299,12 @@</span>
                                                                                                                                       \
    static_field(StubRoutines,                _aescrypt_encryptBlock,                           address)                               \
    static_field(StubRoutines,                _aescrypt_decryptBlock,                           address)                               \
    static_field(StubRoutines,                _cipherBlockChaining_encryptAESCrypt,             address)                               \
    static_field(StubRoutines,                _cipherBlockChaining_decryptAESCrypt,             address)                               \
<span class="udiff-line-added">+   static_field(StubRoutines,                _electronicCodeBook_encryptAESCrypt,              address)                               \</span>
<span class="udiff-line-added">+   static_field(StubRoutines,                _electronicCodeBook_decryptAESCrypt,              address)                               \</span>
    static_field(StubRoutines,                _counterMode_AESCrypt,                            address)                               \
    static_field(StubRoutines,                _base64_encodeBlock,                              address)                               \
    static_field(StubRoutines,                _ghash_processBlocks,                             address)                               \
    static_field(StubRoutines,                _sha1_implCompress,                               address)                               \
    static_field(StubRoutines,                _sha1_implCompressMB,                             address)                               \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -324,10 +321,12 @@</span>
    static_field(StubRoutines,                _squareToLen,                                     address)                               \
    static_field(StubRoutines,                _mulAdd,                                          address)                               \
    static_field(StubRoutines,                _montgomeryMultiply,                              address)                               \
    static_field(StubRoutines,                _montgomerySquare,                                address)                               \
    static_field(StubRoutines,                _vectorizedMismatch,                              address)                               \
<span class="udiff-line-added">+   static_field(StubRoutines,                _bigIntegerRightShiftWorker,                      address)                               \</span>
<span class="udiff-line-added">+   static_field(StubRoutines,                _bigIntegerLeftShiftWorker,                       address)                               \</span>
                                                                                                                                       \
    nonstatic_field(Thread,                   _tlab,                                            ThreadLocalAllocBuffer)                \
    nonstatic_field(Thread,                   _allocated_bytes,                                 jlong)                                 \
    nonstatic_field(Thread,                   _polling_page,                                    address)                               \
                                                                                                                                       \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -357,13 +356,15 @@</span>
    declare_toplevel_type(CompilerToVM)                                     \
    declare_toplevel_type(ExceptionTableElement)                            \
    declare_toplevel_type(JVMFlag)                                          \
    declare_toplevel_type(JVMFlag*)                                         \
    declare_toplevel_type(InvocationCounter)                                \
<span class="udiff-line-added">+   declare_toplevel_type(JVMCICompileState)                                \</span>
    declare_toplevel_type(JVMCIEnv)                                         \
    declare_toplevel_type(LocalVariableTableElement)                        \
    declare_toplevel_type(narrowKlass)                                      \
<span class="udiff-line-added">+   declare_toplevel_type(ObjectWaiter)                                     \</span>
    declare_toplevel_type(Symbol*)                                          \
    declare_toplevel_type(vtableEntry)                                      \
                                                                            \
    declare_toplevel_type(oopDesc)                                          \
      declare_type(arrayOopDesc, oopDesc)                                   \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -399,10 +400,11 @@</span>
    declare_preprocessor_constant(&quot;JVM_ACC_VARARGS&quot;, JVM_ACC_VARARGS)       \
    declare_preprocessor_constant(&quot;JVM_ACC_BRIDGE&quot;, JVM_ACC_BRIDGE)         \
    declare_preprocessor_constant(&quot;JVM_ACC_ANNOTATION&quot;, JVM_ACC_ANNOTATION) \
    declare_preprocessor_constant(&quot;JVM_ACC_ENUM&quot;, JVM_ACC_ENUM)             \
    declare_preprocessor_constant(&quot;JVM_ACC_SYNTHETIC&quot;, JVM_ACC_SYNTHETIC)   \
<span class="udiff-line-added">+   declare_preprocessor_constant(&quot;JVM_ACC_INTERFACE&quot;, JVM_ACC_INTERFACE)   \</span>
                                                                            \
    declare_constant(JVM_CONSTANT_Utf8)                                     \
    declare_constant(JVM_CONSTANT_Unicode)                                  \
    declare_constant(JVM_CONSTANT_Integer)                                  \
    declare_constant(JVM_CONSTANT_Float)                                    \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -415,10 +417,12 @@</span>
    declare_constant(JVM_CONSTANT_InterfaceMethodref)                       \
    declare_constant(JVM_CONSTANT_NameAndType)                              \
    declare_constant(JVM_CONSTANT_MethodHandle)                             \
    declare_constant(JVM_CONSTANT_MethodType)                               \
    declare_constant(JVM_CONSTANT_InvokeDynamic)                            \
<span class="udiff-line-added">+   declare_constant(JVM_CONSTANT_Module)                                   \</span>
<span class="udiff-line-added">+   declare_constant(JVM_CONSTANT_Package)                                  \</span>
    declare_constant(JVM_CONSTANT_ExternalMax)                              \
                                                                            \
    declare_constant(JVM_CONSTANT_Invalid)                                  \
    declare_constant(JVM_CONSTANT_InternalMin)                              \
    declare_constant(JVM_CONSTANT_UnresolvedClass)                          \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -462,10 +466,17 @@</span>
    declare_constant(CodeInstaller::CRC_TABLE_ADDRESS)                      \
    declare_constant(CodeInstaller::LOG_OF_HEAP_REGION_GRAIN_BYTES)         \
    declare_constant(CodeInstaller::INLINE_CONTIGUOUS_ALLOCATION_SUPPORTED) \
    declare_constant(CodeInstaller::INVOKE_INVALID)                         \
                                                                            \
<span class="udiff-line-added">+   declare_constant(CollectedHeap::Serial)                                 \</span>
<span class="udiff-line-added">+   declare_constant(CollectedHeap::Parallel)                               \</span>
<span class="udiff-line-added">+   declare_constant(CollectedHeap::G1)                                     \</span>
<span class="udiff-line-added">+   declare_constant(CollectedHeap::Epsilon)                                \</span>
<span class="udiff-line-added">+   declare_constant(CollectedHeap::Z)                                      \</span>
<span class="udiff-line-added">+   declare_constant(CollectedHeap::Shenandoah)                             \</span>
<span class="udiff-line-added">+                                                                           \</span>
    declare_constant(ConstantPool::CPCACHE_INDEX_TAG)                       \
    declare_constant(ConstantPool::_has_dynamic_constant)                   \
                                                                            \
    declare_constant(ConstMethod::_has_linenumber_table)                    \
    declare_constant(ConstMethod::_has_localvariable_table)                 \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -534,21 +545,21 @@</span>
    declare_constant(FieldInfo::low_packed_offset)                          \
    declare_constant(FieldInfo::high_packed_offset)                         \
    declare_constant(FieldInfo::field_slots)                                \
                                                                            \
    declare_constant(InstanceKlass::linked)                                 \
<span class="udiff-line-added">+   declare_constant(InstanceKlass::being_initialized)                      \</span>
    declare_constant(InstanceKlass::fully_initialized)                      \
    declare_constant(InstanceKlass::_misc_is_unsafe_anonymous)              \
                                                                            \
    declare_constant(JumpData::taken_off_set)                               \
    declare_constant(JumpData::displacement_off_set)                        \
                                                                            \
<span class="udiff-line-modified-removed">-   declare_constant(JVMCIEnv::ok)                                          \</span>
<span class="udiff-line-modified-removed">-   declare_constant(JVMCIEnv::dependencies_failed)                         \</span>
<span class="udiff-line-modified-removed">-   declare_constant(JVMCIEnv::dependencies_invalid)                        \</span>
<span class="udiff-line-modified-removed">-   declare_constant(JVMCIEnv::cache_full)                                  \</span>
<span class="udiff-line-removed">-   declare_constant(JVMCIEnv::code_too_large)                              \</span>
<span class="udiff-line-modified-added">+   declare_preprocessor_constant(&quot;JVMCI::ok&quot;,                   JVMCI::ok)                      \</span>
<span class="udiff-line-modified-added">+   declare_preprocessor_constant(&quot;JVMCI::dependencies_failed&quot;,  JVMCI::dependencies_failed)     \</span>
<span class="udiff-line-modified-added">+   declare_preprocessor_constant(&quot;JVMCI::cache_full&quot;,           JVMCI::cache_full)              \</span>
<span class="udiff-line-modified-added">+   declare_preprocessor_constant(&quot;JVMCI::code_too_large&quot;,       JVMCI::code_too_large)          \</span>
    declare_constant(JVMCIRuntime::none)                                    \
    declare_constant(JVMCIRuntime::by_holder)                               \
    declare_constant(JVMCIRuntime::by_full_signature)                       \
                                                                            \
    declare_constant(Klass::_lh_neutral_value)                              \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -561,11 +572,11 @@</span>
    declare_constant(Klass::_lh_header_size_mask)                           \
    declare_constant(Klass::_lh_array_tag_shift)                            \
    declare_constant(Klass::_lh_array_tag_type_value)                       \
    declare_constant(Klass::_lh_array_tag_obj_value)                        \
                                                                            \
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::no_hash)                                  \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::no_hash)                                     \</span>
                                                                            \
    declare_constant(Method::_caller_sensitive)                             \
    declare_constant(Method::_force_inline)                                 \
    declare_constant(Method::_dont_inline)                                  \
    declare_constant(Method::_hidden)                                       \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -593,23 +604,23 @@</span>
  
  #define VM_LONG_CONSTANTS(declare_constant, declare_preprocessor_constant) \
    declare_constant(InvocationCounter::count_increment)                    \
    declare_constant(InvocationCounter::count_shift)                        \
                                                                            \
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::hash_shift)                               \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::hash_shift)                                  \</span>
                                                                            \
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::biased_lock_mask_in_place)                \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::age_mask_in_place)                        \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::epoch_mask_in_place)                      \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::hash_mask)                                \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::hash_mask_in_place)                       \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::biased_lock_mask_in_place)                   \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::age_mask_in_place)                           \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::epoch_mask_in_place)                         \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::hash_mask)                                   \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::hash_mask_in_place)                          \</span>
                                                                            \
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::unlocked_value)                           \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::biased_lock_pattern)                      \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::unlocked_value)                              \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::biased_lock_pattern)                         \</span>
                                                                            \
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::no_hash_in_place)                         \</span>
<span class="udiff-line-modified-removed">-   declare_constant(markOopDesc::no_lock_in_place)                         \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::no_hash_in_place)                            \</span>
<span class="udiff-line-modified-added">+   declare_constant(markWord::no_lock_in_place)                            \</span>
  
  #define VM_ADDRESSES(declare_address, declare_preprocessor_address, declare_function) \
    declare_function(SharedRuntime::register_finalizer)                     \
    declare_function(SharedRuntime::exception_handler_for_return_address)   \
    declare_function(SharedRuntime::OSR_migration_end)                      \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -636,11 +647,10 @@</span>
    declare_function(JVMCIRuntime::new_array_or_null) \
    declare_function(JVMCIRuntime::new_multi_array_or_null) \
    declare_function(JVMCIRuntime::dynamic_new_array_or_null) \
    declare_function(JVMCIRuntime::dynamic_new_instance_or_null) \
    \
<span class="udiff-line-removed">-   declare_function(JVMCIRuntime::thread_is_interrupted) \</span>
    declare_function(JVMCIRuntime::vm_message) \
    declare_function(JVMCIRuntime::identity_hash_code) \
    declare_function(JVMCIRuntime::exception_handler_for_pc) \
    declare_function(JVMCIRuntime::monitorenter) \
    declare_function(JVMCIRuntime::monitorexit) \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -690,14 +700,14 @@</span>
  #define VM_ADDRESSES_OS(declare_address, declare_preprocessor_address, declare_function) \
    declare_preprocessor_address(&quot;RTLD_DEFAULT&quot;, RTLD_DEFAULT)
  
  #endif
  
<span class="udiff-line-modified-removed">- // AARCH64 is defined in closed port, too. TARGET_ARCH_aarch64 is not.</span>
<span class="udiff-line-removed">- #ifdef TARGET_ARCH_aarch64</span>
<span class="udiff-line-modified-added">+ #ifdef AARCH64</span>
  
  #define VM_STRUCTS_CPU(nonstatic_field, static_field, unchecked_nonstatic_field, volatile_nonstatic_field, nonproduct_nonstatic_field, c2_nonstatic_field, unchecked_c1_static_field, unchecked_c2_static_field) \
<span class="udiff-line-added">+   static_field(VM_Version, _psr_info.dczid_el0, uint32_t)               \</span>
    volatile_nonstatic_field(JavaFrameAnchor, _last_Java_fp, intptr_t*)
  
  #define VM_INT_CONSTANTS_CPU(declare_constant, declare_preprocessor_constant, declare_c1_constant, declare_c2_constant, declare_c2_preprocessor_constant) \
    declare_constant(VM_Version::CPU_FP)                  \
    declare_constant(VM_Version::CPU_ASIMD)               \
</pre>
<center><a href="jvmci_globals.hpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="vmSymbols_jvmci.hpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>