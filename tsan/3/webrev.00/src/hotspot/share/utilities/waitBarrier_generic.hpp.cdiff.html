<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/share/utilities/waitBarrier_generic.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="waitBarrier_generic.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="xmlstream.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/utilities/waitBarrier_generic.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 25,10 ***</span>
<span class="line-new-header">--- 25,11 ---</span>
  #ifndef SHARE_UTILITIES_WAITBARRIER_GENERIC_HPP
  #define SHARE_UTILITIES_WAITBARRIER_GENERIC_HPP
  
  #include &quot;memory/allocation.hpp&quot;
  #include &quot;runtime/semaphore.hpp&quot;
<span class="line-added">+ #include &quot;utilities/globalDefinitions.hpp&quot;</span>
  
  // In addition to the barrier tag, it uses two counters to keep the semaphore
  // count correct and not leave any late thread waiting.
  class GenericWaitBarrier : public CHeapObj&lt;mtInternal&gt; {
    volatile int _barrier_tag;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 37,13 ***</span>
    // The number of threads in the wait path, before or after the tag check.
    // These threads can become waiters.
    volatile int _barrier_threads;
    Semaphore _sem_barrier;
  
<span class="line-modified">!   // Prevent copying and assignment of GenericWaitBarrier instances.</span>
<span class="line-removed">-   GenericWaitBarrier(const GenericWaitBarrier&amp;);</span>
<span class="line-removed">-   GenericWaitBarrier&amp; operator=(const GenericWaitBarrier&amp;);</span>
  
    int wake_if_needed();
  
   public:
    GenericWaitBarrier() : _barrier_tag(0), _waiters(0), _barrier_threads(0), _sem_barrier(0) {}
<span class="line-new-header">--- 38,11 ---</span>
    // The number of threads in the wait path, before or after the tag check.
    // These threads can become waiters.
    volatile int _barrier_threads;
    Semaphore _sem_barrier;
  
<span class="line-modified">!   NONCOPYABLE(GenericWaitBarrier);</span>
  
    int wake_if_needed();
  
   public:
    GenericWaitBarrier() : _barrier_tag(0), _waiters(0), _barrier_threads(0), _sem_barrier(0) {}
</pre>
<center><a href="waitBarrier_generic.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="xmlstream.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>