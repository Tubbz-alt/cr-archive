<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/share/jfr/recorder/repository/jfrRepository.hpp</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="jfrRepository.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../service/jfrOptionSet.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/jfr/recorder/repository/jfrRepository.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 53,12 ***</span>
    ~JfrRepository();
  
    bool set_path(const char* path);
    void set_chunk_path(const char* path);
    bool open_chunk(bool vm_error = false);
<span class="line-modified">!   size_t close_chunk(int64_t metadata_offset);</span>
    void on_vm_error();
    static void notify_on_new_chunk_path();
    static JfrChunkWriter&amp; chunkwriter();
  
    static JfrRepository&amp; instance();
    static JfrRepository* create(JfrPostBox&amp; post_box);
<span class="line-new-header">--- 53,14 ---</span>
    ~JfrRepository();
  
    bool set_path(const char* path);
    void set_chunk_path(const char* path);
    bool open_chunk(bool vm_error = false);
<span class="line-modified">!   size_t close_chunk();</span>
<span class="line-added">+   size_t flush_chunk();</span>
    void on_vm_error();
<span class="line-added">+ </span>
    static void notify_on_new_chunk_path();
    static JfrChunkWriter&amp; chunkwriter();
  
    static JfrRepository&amp; instance();
    static JfrRepository* create(JfrPostBox&amp; post_box);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 66,8 ***</span>
<span class="line-new-header">--- 68,11 ---</span>
    static void destroy();
  
   public:
    static void set_path(jstring location, JavaThread* jt);
    static void set_chunk_path(jstring path, JavaThread* jt);
<span class="line-added">+   static void mark_chunk_final();</span>
<span class="line-added">+   static void flush(JavaThread* jt);</span>
<span class="line-added">+   static jlong current_chunk_start_nanos();</span>
  };
  
  #endif // SHARE_JFR_RECORDER_REPOSITORY_JFRREPOSITORY_HPP
</pre>
<center><a href="jfrRepository.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../service/jfrOptionSet.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>