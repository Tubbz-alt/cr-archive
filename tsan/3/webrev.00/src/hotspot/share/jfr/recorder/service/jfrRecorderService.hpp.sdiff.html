<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/jfr/recorder/service/jfrRecorderService.hpp</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="jfrRecorderService.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="jfrRecorderThread.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/jfr/recorder/service/jfrRecorderService.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
29 
30 class JfrCheckpointManager;
31 class JfrChunkWriter;
32 class JfrRepository;
33 class JfrStackTraceRepository;
34 class JfrStorage;
35 class JfrStringPool;
36 
37 class JfrRecorderService : public StackObj {
38  private:
39   JfrCheckpointManager&amp; _checkpoint_manager;
40   JfrChunkWriter&amp; _chunkwriter;
41   JfrRepository&amp; _repository;
42   JfrStackTraceRepository&amp; _stack_trace_repository;
43   JfrStorage&amp; _storage;
44   JfrStringPool&amp; _string_pool;
45 
46   void open_new_chunk(bool vm_error = false);
47   void chunk_rotation();
48   void in_memory_rotation();
<span class="line-removed">49   void serialize_storage_from_in_memory_recording();</span>
50   void finalize_current_chunk();
<span class="line-removed">51   void finalize_current_chunk_on_vm_error();</span>
<span class="line-removed">52   void prepare_for_vm_error_rotation();</span>
53   void vm_error_rotation();

54 
55   void clear();
56   void pre_safepoint_clear();
57   void safepoint_clear();
58   void invoke_safepoint_clear();
59   void post_safepoint_clear();
60 
61   void write();
62   void pre_safepoint_write();
63   void safepoint_write();
64   void invoke_safepoint_write();
65   void post_safepoint_write();
66 
67  public:
68   JfrRecorderService();
69   void start();

70   void rotate(int msgs);

71   void process_full_buffers();
72   void scavenge();
73   void evaluate_chunk_size_for_rotation();
74   static bool is_recording();
75 };
76 
77 #endif // SHARE_JFR_RECORDER_SERVICE_JFRRECORDERSERVICE_HPP
</pre>
</td>
<td>
<hr />
<pre>
29 
30 class JfrCheckpointManager;
31 class JfrChunkWriter;
32 class JfrRepository;
33 class JfrStackTraceRepository;
34 class JfrStorage;
35 class JfrStringPool;
36 
37 class JfrRecorderService : public StackObj {
38  private:
39   JfrCheckpointManager&amp; _checkpoint_manager;
40   JfrChunkWriter&amp; _chunkwriter;
41   JfrRepository&amp; _repository;
42   JfrStackTraceRepository&amp; _stack_trace_repository;
43   JfrStorage&amp; _storage;
44   JfrStringPool&amp; _string_pool;
45 
46   void open_new_chunk(bool vm_error = false);
47   void chunk_rotation();
48   void in_memory_rotation();

49   void finalize_current_chunk();


50   void vm_error_rotation();
<span class="line-added">51   void invoke_flush();</span>
52 
53   void clear();
54   void pre_safepoint_clear();
55   void safepoint_clear();
56   void invoke_safepoint_clear();
57   void post_safepoint_clear();
58 
59   void write();
60   void pre_safepoint_write();
61   void safepoint_write();
62   void invoke_safepoint_write();
63   void post_safepoint_write();
64 
65  public:
66   JfrRecorderService();
67   void start();
<span class="line-added">68   size_t flush();</span>
69   void rotate(int msgs);
<span class="line-added">70   void flushpoint();</span>
71   void process_full_buffers();
72   void scavenge();
73   void evaluate_chunk_size_for_rotation();
74   static bool is_recording();
75 };
76 
77 #endif // SHARE_JFR_RECORDER_SERVICE_JFRRECORDERSERVICE_HPP
</pre>
</td>
</tr>
</table>
<center><a href="jfrRecorderService.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="jfrRecorderThread.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>