<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/opto/vectornode.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="vectornode.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../prims/cdsoffsets.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/opto/vectornode.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 53 
 54   const TypeVect* vect_type() const { return type()-&gt;is_vect(); }
 55   uint length() const { return vect_type()-&gt;length(); } // Vector length
 56   uint length_in_bytes() const { return vect_type()-&gt;length_in_bytes(); }
 57 
 58   virtual int Opcode() const;
 59 
 60   virtual uint ideal_reg() const { return Matcher::vector_ideal_reg(vect_type()-&gt;length_in_bytes()); }
 61 
 62   static VectorNode* scalar2vector(Node* s, uint vlen, const Type* opd_t);
 63   static VectorNode* shift_count(Node* shift, Node* cnt, uint vlen, BasicType bt);
 64   static VectorNode* make(int opc, Node* n1, Node* n2, uint vlen, BasicType bt);
 65   static VectorNode* make(int opc, Node* n1, Node* n2, Node* n3, uint vlen, BasicType bt);
 66 
 67   static int  opcode(int opc, BasicType bt);
 68   static bool implemented(int opc, uint vlen, BasicType bt);
 69   static bool is_shift(Node* n);
 70   static bool is_type_transition_short_to_int(Node* n);
 71   static bool is_type_transition_to_int(Node* n);
 72   static bool is_muladds2i(Node* n);

 73   static bool is_invariant_vector(Node* n);
 74   // [Start, end) half-open range defining which operands are vectors
 75   static void vector_operands(Node* n, uint* start, uint* end);










 76 };
 77 
 78 //===========================Vector=ALU=Operations=============================
 79 
 80 //------------------------------AddVBNode--------------------------------------
 81 // Vector add byte
 82 class AddVBNode : public VectorNode {
 83  public:
 84   AddVBNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
 85   virtual int Opcode() const;
 86 };
 87 
 88 //------------------------------AddVSNode--------------------------------------
 89 // Vector add char/short
 90 class AddVSNode : public VectorNode {
 91  public:
 92   AddVSNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
 93   virtual int Opcode() const;
 94 };
 95 
</pre>
<hr />
<pre>
207   SubVLNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
208   virtual int Opcode() const;
209 };
210 
211 //------------------------------SubVFNode--------------------------------------
212 // Vector subtract float
213 class SubVFNode : public VectorNode {
214  public:
215   SubVFNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
216   virtual int Opcode() const;
217 };
218 
219 //------------------------------SubVDNode--------------------------------------
220 // Vector subtract double
221 class SubVDNode : public VectorNode {
222  public:
223   SubVDNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
224   virtual int Opcode() const;
225 };
226 








227 //------------------------------MulVSNode--------------------------------------
228 // Vector multiply short
229 class MulVSNode : public VectorNode {
230  public:
231   MulVSNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
232   virtual int Opcode() const;
233 };
234 
235 //------------------------------MulVINode--------------------------------------
236 // Vector multiply int
237 class MulVINode : public VectorNode {
238  public:
239   MulVINode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
240   virtual int Opcode() const;
241 };
242 
243 //------------------------------MulVLNode--------------------------------------
244 // Vector multiply long
245 class MulVLNode : public VectorNode {
246 public:
</pre>
<hr />
<pre>
343   virtual const Type* bottom_type() const { return Type::DOUBLE; }
344   virtual uint ideal_reg() const { return Op_RegD; }
345 };
346 
347 //------------------------------DivVFNode--------------------------------------
348 // Vector divide float
349 class DivVFNode : public VectorNode {
350  public:
351   DivVFNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
352   virtual int Opcode() const;
353 };
354 
355 //------------------------------DivVDNode--------------------------------------
356 // Vector Divide double
357 class DivVDNode : public VectorNode {
358  public:
359   DivVDNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
360   virtual int Opcode() const;
361 };
362 
































363 //------------------------------AbsVFNode--------------------------------------
364 // Vector Abs float
365 class AbsVFNode : public VectorNode {
366  public:
367   AbsVFNode(Node* in, const TypeVect* vt) : VectorNode(in,vt) {}
368   virtual int Opcode() const;
369 };
370 
371 //------------------------------AbsVDNode--------------------------------------
372 // Vector Abs double
373 class AbsVDNode : public VectorNode {
374  public:
375   AbsVDNode(Node* in, const TypeVect* vt) : VectorNode(in,vt) {}
376   virtual int Opcode() const;
377 };
378 
379 //------------------------------NegVFNode--------------------------------------
380 // Vector Neg float
381 class NegVFNode : public VectorNode {
382  public:
</pre>
<hr />
<pre>
390  public:
391   NegVDNode(Node* in, const TypeVect* vt) : VectorNode(in,vt) {}
392   virtual int Opcode() const;
393 };
394 
395 //------------------------------PopCountVINode---------------------------------
396 // Vector popcount integer bits
397 class PopCountVINode : public VectorNode {
398  public:
399   PopCountVINode(Node* in, const TypeVect* vt) : VectorNode(in,vt) {}
400   virtual int Opcode() const;
401 };
402 
403 //------------------------------SqrtVFNode--------------------------------------
404 // Vector Sqrt float
405 class SqrtVFNode : public VectorNode {
406  public:
407   SqrtVFNode(Node* in, const TypeVect* vt) : VectorNode(in,vt) {}
408   virtual int Opcode() const;
409 };







410 
411 //------------------------------SqrtVDNode--------------------------------------
412 // Vector Sqrt double
413 class SqrtVDNode : public VectorNode {
414  public:
415   SqrtVDNode(Node* in, const TypeVect* vt) : VectorNode(in,vt) {}
416   virtual int Opcode() const;
417 };
418 
419 //------------------------------LShiftVBNode-----------------------------------
420 // Vector left shift bytes
421 class LShiftVBNode : public VectorNode {
422  public:
423   LShiftVBNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
424   virtual int Opcode() const;
425 };
426 
427 //------------------------------LShiftVSNode-----------------------------------
428 // Vector left shift shorts
429 class LShiftVSNode : public VectorNode {
</pre>
</td>
<td>
<hr />
<pre>
 53 
 54   const TypeVect* vect_type() const { return type()-&gt;is_vect(); }
 55   uint length() const { return vect_type()-&gt;length(); } // Vector length
 56   uint length_in_bytes() const { return vect_type()-&gt;length_in_bytes(); }
 57 
 58   virtual int Opcode() const;
 59 
 60   virtual uint ideal_reg() const { return Matcher::vector_ideal_reg(vect_type()-&gt;length_in_bytes()); }
 61 
 62   static VectorNode* scalar2vector(Node* s, uint vlen, const Type* opd_t);
 63   static VectorNode* shift_count(Node* shift, Node* cnt, uint vlen, BasicType bt);
 64   static VectorNode* make(int opc, Node* n1, Node* n2, uint vlen, BasicType bt);
 65   static VectorNode* make(int opc, Node* n1, Node* n2, Node* n3, uint vlen, BasicType bt);
 66 
 67   static int  opcode(int opc, BasicType bt);
 68   static bool implemented(int opc, uint vlen, BasicType bt);
 69   static bool is_shift(Node* n);
 70   static bool is_type_transition_short_to_int(Node* n);
 71   static bool is_type_transition_to_int(Node* n);
 72   static bool is_muladds2i(Node* n);
<span class="line-added"> 73   static bool is_roundopD(Node * n);</span>
 74   static bool is_invariant_vector(Node* n);
 75   // [Start, end) half-open range defining which operands are vectors
 76   static void vector_operands(Node* n, uint* start, uint* end);
<span class="line-added"> 77 </span>
<span class="line-added"> 78   static bool is_vector_shift(int opc);</span>
<span class="line-added"> 79   static bool is_vector_shift_count(int opc);</span>
<span class="line-added"> 80 </span>
<span class="line-added"> 81   static bool is_vector_shift(Node* n) {</span>
<span class="line-added"> 82     return is_vector_shift(n-&gt;Opcode());</span>
<span class="line-added"> 83   }</span>
<span class="line-added"> 84   static bool is_vector_shift_count(Node* n) {</span>
<span class="line-added"> 85     return is_vector_shift_count(n-&gt;Opcode());</span>
<span class="line-added"> 86   }</span>
 87 };
 88 
 89 //===========================Vector=ALU=Operations=============================
 90 
 91 //------------------------------AddVBNode--------------------------------------
 92 // Vector add byte
 93 class AddVBNode : public VectorNode {
 94  public:
 95   AddVBNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
 96   virtual int Opcode() const;
 97 };
 98 
 99 //------------------------------AddVSNode--------------------------------------
100 // Vector add char/short
101 class AddVSNode : public VectorNode {
102  public:
103   AddVSNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
104   virtual int Opcode() const;
105 };
106 
</pre>
<hr />
<pre>
218   SubVLNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
219   virtual int Opcode() const;
220 };
221 
222 //------------------------------SubVFNode--------------------------------------
223 // Vector subtract float
224 class SubVFNode : public VectorNode {
225  public:
226   SubVFNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
227   virtual int Opcode() const;
228 };
229 
230 //------------------------------SubVDNode--------------------------------------
231 // Vector subtract double
232 class SubVDNode : public VectorNode {
233  public:
234   SubVDNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
235   virtual int Opcode() const;
236 };
237 
<span class="line-added">238 //------------------------------MulVBNode--------------------------------------</span>
<span class="line-added">239 // Vector multiply byte</span>
<span class="line-added">240 class MulVBNode : public VectorNode {</span>
<span class="line-added">241  public:</span>
<span class="line-added">242   MulVBNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1, in2, vt) {}</span>
<span class="line-added">243   virtual int Opcode() const;</span>
<span class="line-added">244 };</span>
<span class="line-added">245 </span>
246 //------------------------------MulVSNode--------------------------------------
247 // Vector multiply short
248 class MulVSNode : public VectorNode {
249  public:
250   MulVSNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
251   virtual int Opcode() const;
252 };
253 
254 //------------------------------MulVINode--------------------------------------
255 // Vector multiply int
256 class MulVINode : public VectorNode {
257  public:
258   MulVINode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
259   virtual int Opcode() const;
260 };
261 
262 //------------------------------MulVLNode--------------------------------------
263 // Vector multiply long
264 class MulVLNode : public VectorNode {
265 public:
</pre>
<hr />
<pre>
362   virtual const Type* bottom_type() const { return Type::DOUBLE; }
363   virtual uint ideal_reg() const { return Op_RegD; }
364 };
365 
366 //------------------------------DivVFNode--------------------------------------
367 // Vector divide float
368 class DivVFNode : public VectorNode {
369  public:
370   DivVFNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
371   virtual int Opcode() const;
372 };
373 
374 //------------------------------DivVDNode--------------------------------------
375 // Vector Divide double
376 class DivVDNode : public VectorNode {
377  public:
378   DivVDNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
379   virtual int Opcode() const;
380 };
381 
<span class="line-added">382 //------------------------------AbsVBNode--------------------------------------</span>
<span class="line-added">383 // Vector Abs byte</span>
<span class="line-added">384 class AbsVBNode : public VectorNode {</span>
<span class="line-added">385 public:</span>
<span class="line-added">386   AbsVBNode(Node* in, const TypeVect* vt) : VectorNode(in, vt) {}</span>
<span class="line-added">387   virtual int Opcode() const;</span>
<span class="line-added">388 };</span>
<span class="line-added">389 </span>
<span class="line-added">390 //------------------------------AbsVSNode--------------------------------------</span>
<span class="line-added">391 // Vector Abs short</span>
<span class="line-added">392 class AbsVSNode : public VectorNode {</span>
<span class="line-added">393 public:</span>
<span class="line-added">394   AbsVSNode(Node* in, const TypeVect* vt) : VectorNode(in, vt) {}</span>
<span class="line-added">395   virtual int Opcode() const;</span>
<span class="line-added">396 };</span>
<span class="line-added">397 </span>
<span class="line-added">398 //------------------------------AbsVINode--------------------------------------</span>
<span class="line-added">399 // Vector Abs int</span>
<span class="line-added">400 class AbsVINode : public VectorNode {</span>
<span class="line-added">401 public:</span>
<span class="line-added">402   AbsVINode(Node* in, const TypeVect* vt) : VectorNode(in, vt) {}</span>
<span class="line-added">403   virtual int Opcode() const;</span>
<span class="line-added">404 };</span>
<span class="line-added">405 </span>
<span class="line-added">406 //------------------------------AbsVLNode--------------------------------------</span>
<span class="line-added">407 // Vector Abs long</span>
<span class="line-added">408 class AbsVLNode : public VectorNode {</span>
<span class="line-added">409 public:</span>
<span class="line-added">410   AbsVLNode(Node* in, const TypeVect* vt) : VectorNode(in, vt) {}</span>
<span class="line-added">411   virtual int Opcode() const;</span>
<span class="line-added">412 };</span>
<span class="line-added">413 </span>
414 //------------------------------AbsVFNode--------------------------------------
415 // Vector Abs float
416 class AbsVFNode : public VectorNode {
417  public:
418   AbsVFNode(Node* in, const TypeVect* vt) : VectorNode(in,vt) {}
419   virtual int Opcode() const;
420 };
421 
422 //------------------------------AbsVDNode--------------------------------------
423 // Vector Abs double
424 class AbsVDNode : public VectorNode {
425  public:
426   AbsVDNode(Node* in, const TypeVect* vt) : VectorNode(in,vt) {}
427   virtual int Opcode() const;
428 };
429 
430 //------------------------------NegVFNode--------------------------------------
431 // Vector Neg float
432 class NegVFNode : public VectorNode {
433  public:
</pre>
<hr />
<pre>
441  public:
442   NegVDNode(Node* in, const TypeVect* vt) : VectorNode(in,vt) {}
443   virtual int Opcode() const;
444 };
445 
446 //------------------------------PopCountVINode---------------------------------
447 // Vector popcount integer bits
448 class PopCountVINode : public VectorNode {
449  public:
450   PopCountVINode(Node* in, const TypeVect* vt) : VectorNode(in,vt) {}
451   virtual int Opcode() const;
452 };
453 
454 //------------------------------SqrtVFNode--------------------------------------
455 // Vector Sqrt float
456 class SqrtVFNode : public VectorNode {
457  public:
458   SqrtVFNode(Node* in, const TypeVect* vt) : VectorNode(in,vt) {}
459   virtual int Opcode() const;
460 };
<span class="line-added">461 //------------------------------RoundDoubleVNode--------------------------------</span>
<span class="line-added">462 // Vector round double</span>
<span class="line-added">463 class RoundDoubleModeVNode : public VectorNode {</span>
<span class="line-added">464  public:</span>
<span class="line-added">465   RoundDoubleModeVNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1, in2, vt) {}</span>
<span class="line-added">466   virtual int Opcode() const;</span>
<span class="line-added">467 };</span>
468 
469 //------------------------------SqrtVDNode--------------------------------------
470 // Vector Sqrt double
471 class SqrtVDNode : public VectorNode {
472  public:
473   SqrtVDNode(Node* in, const TypeVect* vt) : VectorNode(in,vt) {}
474   virtual int Opcode() const;
475 };
476 
477 //------------------------------LShiftVBNode-----------------------------------
478 // Vector left shift bytes
479 class LShiftVBNode : public VectorNode {
480  public:
481   LShiftVBNode(Node* in1, Node* in2, const TypeVect* vt) : VectorNode(in1,in2,vt) {}
482   virtual int Opcode() const;
483 };
484 
485 //------------------------------LShiftVSNode-----------------------------------
486 // Vector left shift shorts
487 class LShiftVSNode : public VectorNode {
</pre>
</td>
</tr>
</table>
<center><a href="vectornode.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../prims/cdsoffsets.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>