<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/share/aot/aotCodeHeap.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="aotCodeHeap.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="aotCompiledMethod.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/aot/aotCodeHeap.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 2016, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 2016, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 90,32 ***</span>
      AOT_SHARED_VERSION = 1
    };
  } AOTHeader;
  
  typedef struct {
<span class="line-modified">!   enum { CONFIG_SIZE = 8 * jintSize + 11 };</span>
<span class="line-modified">!   // 8 int values</span>
    int _config_size;
    int _narrowOopShift;
    int _narrowKlassShift;
    int _contendedPaddingWidth;
<span class="line-removed">-   int _fieldsAllocationStyle;</span>
    int _objectAlignment;
    int _codeSegmentSize;
    int _gc;
<span class="line-modified">!   // byte[11] array map to boolean values here</span>
    bool _debug_VM;
    bool _useCompressedOops;
    bool _useCompressedClassPointers;
<span class="line-removed">-   bool _compactFields;</span>
    bool _useTLAB;
    bool _useBiasedLocking;
    bool _tieredAOT;
    bool _enableContended;
    bool _restrictContended;
    bool _omitAssertions;
<span class="line-removed">-   bool _threadLocalHandshakes;</span>
  } AOTConfiguration;
  
  class AOTLib : public CHeapObj&lt;mtCode&gt; {
    static bool _narrow_oop_shift_initialized;
    static int _narrow_oop_shift;
<span class="line-new-header">--- 90,29 ---</span>
      AOT_SHARED_VERSION = 1
    };
  } AOTHeader;
  
  typedef struct {
<span class="line-modified">!   enum { CONFIG_SIZE = 7 * jintSize + 9 };</span>
<span class="line-modified">!   // 7 int values</span>
    int _config_size;
    int _narrowOopShift;
    int _narrowKlassShift;
    int _contendedPaddingWidth;
    int _objectAlignment;
    int _codeSegmentSize;
    int _gc;
<span class="line-modified">!   // byte[9] array map to boolean values here</span>
    bool _debug_VM;
    bool _useCompressedOops;
    bool _useCompressedClassPointers;
    bool _useTLAB;
    bool _useBiasedLocking;
    bool _tieredAOT;
    bool _enableContended;
    bool _restrictContended;
    bool _omitAssertions;
  } AOTConfiguration;
  
  class AOTLib : public CHeapObj&lt;mtCode&gt; {
    static bool _narrow_oop_shift_initialized;
    static int _narrow_oop_shift;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 250,12 ***</span>
      return _metaspace_names + offset;
    }
  
  
    void oops_do(OopClosure* f);
<span class="line-modified">!   void metadata_do(void f(Metadata*));</span>
<span class="line-modified">!   void got_metadata_do(void f(Metadata*));</span>
  
  #ifdef ASSERT
    bool got_contains(Metadata **p) {
      return (p &gt;= &amp;_metadata_got[0] &amp;&amp; p &lt; &amp;_metadata_got[_metadata_got_size]) ||
             (p &gt;= &amp;_klasses_got[0] &amp;&amp; p &lt; &amp;_klasses_got[_klasses_got_size]);
<span class="line-new-header">--- 247,12 ---</span>
      return _metaspace_names + offset;
    }
  
  
    void oops_do(OopClosure* f);
<span class="line-modified">!   void metadata_do(MetadataClosure* f);</span>
<span class="line-modified">!   void got_metadata_do(MetadataClosure* f);</span>
  
  #ifdef ASSERT
    bool got_contains(Metadata **p) {
      return (p &gt;= &amp;_metadata_got[0] &amp;&amp; p &lt; &amp;_metadata_got[_metadata_got_size]) ||
             (p &gt;= &amp;_klasses_got[0] &amp;&amp; p &lt; &amp;_klasses_got[_klasses_got_size]);
</pre>
<center><a href="aotCodeHeap.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="aotCompiledMethod.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>