<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/autoconf/hotspot.m4</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="flags-cflags.m4.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> next &gt;</center>    <h2>make/autoconf/hotspot.m4</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
538     if test &quot;x$enable_cds&quot; = &quot;xyes&quot;; then
539       AC_MSG_RESULT([yes, forced])
540     else
541       AC_MSG_RESULT([yes])
542     fi
543     NON_MINIMAL_FEATURES=&quot;$NON_MINIMAL_FEATURES cds&quot;
544   else
545     if test &quot;x$enable_cds&quot; = &quot;xno&quot;; then
546       AC_MSG_RESULT([no, forced])
547     else
548       AC_MSG_RESULT([no])
549     fi
550   fi
551 
552   AC_MSG_CHECKING([if tsan should be built])
553   # Check if user explicitly disabled tsan
554   if HOTSPOT_IS_JVM_FEATURE_DISABLED(tsan); then
555     AC_MSG_RESULT([no, forced])
556     INCLUDE_TSAN=&quot;false&quot;
557   # Only enable ThreadSanitizer on supported platforms
<span class="line-modified">558   elif test &quot;x$OPENJDK_TARGET_OS&quot; = &quot;xlinux&quot; &amp;&amp; test &quot;x$OPENJDK_TARGET_CPU&quot; = &quot;xx86_64&quot;; then</span>
559     AC_MSG_RESULT([yes])
560     NON_MINIMAL_FEATURES=&quot;$NON_MINIMAL_FEATURES tsan&quot;
561     INCLUDE_TSAN=&quot;true&quot;
562   else
563     AC_MSG_RESULT([no, platform not supported])
564     INCLUDE_TSAN=&quot;false&quot;
565     if HOTSPOT_CHECK_JVM_FEATURE(tsan); then
566       AC_MSG_ERROR([ThreadSanitizer is currently not supported on this platform.])
567     fi
568   fi
569 
570   # Add a configure option --&lt;enable|disable&gt;-tsan-launcher to allow
571   # more control on whether to link TSAN runtime with the launcher.
572   AC_ARG_ENABLE([tsan-launcher], [AS_HELP_STRING([--enable-tsan-launcher],
573       [link tsan runtime with the default JDK launcher. Default is consistent with whether tsan feature is enabled.])])
574   AC_MSG_CHECKING([if tsan should be linked with JDK launcher])
575   if test &quot;x$INCLUDE_TSAN&quot; = &quot;xtrue&quot;; then
576     if test &quot;x$enable_tsan_launcher&quot; = &quot;xyes&quot;; then
577       AC_MSG_RESULT([yes, forced])
578     elif test &quot;x$enable_tsan_launcher&quot; = &quot;xno&quot;; then
</pre>
</td>
<td>
<hr />
<pre>
538     if test &quot;x$enable_cds&quot; = &quot;xyes&quot;; then
539       AC_MSG_RESULT([yes, forced])
540     else
541       AC_MSG_RESULT([yes])
542     fi
543     NON_MINIMAL_FEATURES=&quot;$NON_MINIMAL_FEATURES cds&quot;
544   else
545     if test &quot;x$enable_cds&quot; = &quot;xno&quot;; then
546       AC_MSG_RESULT([no, forced])
547     else
548       AC_MSG_RESULT([no])
549     fi
550   fi
551 
552   AC_MSG_CHECKING([if tsan should be built])
553   # Check if user explicitly disabled tsan
554   if HOTSPOT_IS_JVM_FEATURE_DISABLED(tsan); then
555     AC_MSG_RESULT([no, forced])
556     INCLUDE_TSAN=&quot;false&quot;
557   # Only enable ThreadSanitizer on supported platforms
<span class="line-modified">558   elif test &quot;x$OPENJDK_TARGET_OS&quot; = &quot;xlinux&quot; &amp;&amp; (test &quot;x$OPENJDK_TARGET_CPU&quot; = &quot;xx86_64&quot; || test &quot;x$OPENJDK_TARGET_CPU&quot; = &quot;xaarch64&quot;); then</span>
559     AC_MSG_RESULT([yes])
560     NON_MINIMAL_FEATURES=&quot;$NON_MINIMAL_FEATURES tsan&quot;
561     INCLUDE_TSAN=&quot;true&quot;
562   else
563     AC_MSG_RESULT([no, platform not supported])
564     INCLUDE_TSAN=&quot;false&quot;
565     if HOTSPOT_CHECK_JVM_FEATURE(tsan); then
566       AC_MSG_ERROR([ThreadSanitizer is currently not supported on this platform.])
567     fi
568   fi
569 
570   # Add a configure option --&lt;enable|disable&gt;-tsan-launcher to allow
571   # more control on whether to link TSAN runtime with the launcher.
572   AC_ARG_ENABLE([tsan-launcher], [AS_HELP_STRING([--enable-tsan-launcher],
573       [link tsan runtime with the default JDK launcher. Default is consistent with whether tsan feature is enabled.])])
574   AC_MSG_CHECKING([if tsan should be linked with JDK launcher])
575   if test &quot;x$INCLUDE_TSAN&quot; = &quot;xtrue&quot;; then
576     if test &quot;x$enable_tsan_launcher&quot; = &quot;xyes&quot;; then
577       AC_MSG_RESULT([yes, forced])
578     elif test &quot;x$enable_tsan_launcher&quot; = &quot;xno&quot;; then
</pre>
</td>
</tr>
</table>
<center><a href="flags-cflags.m4.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>