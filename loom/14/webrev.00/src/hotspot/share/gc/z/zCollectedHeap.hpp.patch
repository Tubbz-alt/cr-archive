diff a/src/hotspot/share/gc/z/zCollectedHeap.hpp b/src/hotspot/share/gc/z/zCollectedHeap.hpp
--- a/src/hotspot/share/gc/z/zCollectedHeap.hpp
+++ b/src/hotspot/share/gc/z/zCollectedHeap.hpp
@@ -72,11 +72,11 @@
   virtual bool is_maximal_no_gc() const;
   virtual bool is_in(const void* p) const;
   virtual bool requires_barriers(oop obj) const;
 
   // Continuation support
-  virtual void collect_for_codecache() {}
+  virtual void collect_for_codecache();
 
   virtual uint32_t hash_oop(oop obj) const;
 
   virtual oop array_allocate(Klass* klass, int size, int length, bool do_zero, TRAPS);
   virtual HeapWord* mem_allocate(size_t size, bool* gc_overhead_limit_was_exceeded);
