<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/gc/z/zDriver.cpp</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="zCollectedHeap.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="zMark.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/gc/z/zDriver.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
224 };
225 
226 ZDriver::ZDriver() :
227     _gc_cycle_port(),
228     _gc_locker_port() {
229   set_name(&quot;ZDriver&quot;);
230   create_and_start();
231 }
232 
233 void ZDriver::collect(GCCause::Cause cause) {
234   switch (cause) {
235   case GCCause::_wb_young_gc:
236   case GCCause::_wb_conc_mark:
237   case GCCause::_wb_full_gc:
238   case GCCause::_dcmd_gc_run:
239   case GCCause::_java_lang_system_gc:
240   case GCCause::_full_gc_alot:
241   case GCCause::_scavenge_alot:
242   case GCCause::_jvmti_force_gc:
243   case GCCause::_metadata_GC_clear_soft_refs:

244     // Start synchronous GC
245     _gc_cycle_port.send_sync(cause);
246     break;
247 
248   case GCCause::_z_timer:
249   case GCCause::_z_warmup:
250   case GCCause::_z_allocation_rate:
251   case GCCause::_z_allocation_stall:
252   case GCCause::_z_proactive:
253   case GCCause::_z_high_usage:
254   case GCCause::_metadata_GC_threshold:
255     // Start asynchronous GC
256     _gc_cycle_port.send_async(cause);
257     break;
258 
259   case GCCause::_gc_locker:
260     // Restart VM operation previously blocked by the GC locker
261     _gc_locker_port.signal();
262     break;
263 
</pre>
</td>
<td>
<hr />
<pre>
224 };
225 
226 ZDriver::ZDriver() :
227     _gc_cycle_port(),
228     _gc_locker_port() {
229   set_name(&quot;ZDriver&quot;);
230   create_and_start();
231 }
232 
233 void ZDriver::collect(GCCause::Cause cause) {
234   switch (cause) {
235   case GCCause::_wb_young_gc:
236   case GCCause::_wb_conc_mark:
237   case GCCause::_wb_full_gc:
238   case GCCause::_dcmd_gc_run:
239   case GCCause::_java_lang_system_gc:
240   case GCCause::_full_gc_alot:
241   case GCCause::_scavenge_alot:
242   case GCCause::_jvmti_force_gc:
243   case GCCause::_metadata_GC_clear_soft_refs:
<span class="line-added">244   case GCCause::_codecache_GC_threshold:</span>
245     // Start synchronous GC
246     _gc_cycle_port.send_sync(cause);
247     break;
248 
249   case GCCause::_z_timer:
250   case GCCause::_z_warmup:
251   case GCCause::_z_allocation_rate:
252   case GCCause::_z_allocation_stall:
253   case GCCause::_z_proactive:
254   case GCCause::_z_high_usage:
255   case GCCause::_metadata_GC_threshold:
256     // Start asynchronous GC
257     _gc_cycle_port.send_async(cause);
258     break;
259 
260   case GCCause::_gc_locker:
261     // Restart VM operation previously blocked by the GC locker
262     _gc_locker_port.signal();
263     break;
264 
</pre>
</td>
</tr>
</table>
<center><a href="zCollectedHeap.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="zMark.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>