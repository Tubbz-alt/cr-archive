diff a/src/hotspot/cpu/x86/continuationChunk_x86.inline.hpp b/src/hotspot/cpu/x86/continuationChunk_x86.inline.hpp
--- a/src/hotspot/cpu/x86/continuationChunk_x86.inline.hpp
+++ b/src/hotspot/cpu/x86/continuationChunk_x86.inline.hpp
@@ -232,13 +232,13 @@
     assert (oopmap != NULL, "");
     log_develop_trace(jvmcont)("stack_chunk_iterate_stack slot: %d codeblob:", slot);
     if (log_develop_is_enabled(Trace, jvmcont)) cb->print_value_on(tty);
 
     if (Devirtualizer::do_metadata(closure) && cb->is_nmethod()) {
-      nmethod* nm = cb->as_nmethod();
-      nm->mark_as_maybe_on_continuation();
-      nm->oops_do(closure);
+      // The nmethod entry barrier takes care of having the right synchronization
+      // when keeping the nmethod alive during concurrent execution.
+      cb->as_nmethod_or_null()->run_nmethod_entry_barrier();
     }
 
     num_frames++;
     num_oops += oopmap->num_oops();
     if (closure == NULL) {
@@ -316,6 +316,6 @@
         omv.type() == OopMapValue::narrowoop_value ? Devirtualizer::do_oop(closure, (narrowOop*)p) : Devirtualizer::do_oop(closure, p);
     }
   }
 }
 
-#endif // CPU_X86_CONTINUATION_CHUNK_X86_INLINE_HPP
+#endif // CPU_X86_CONTINUATION_CHUNK_X86_INLINE_HPP
