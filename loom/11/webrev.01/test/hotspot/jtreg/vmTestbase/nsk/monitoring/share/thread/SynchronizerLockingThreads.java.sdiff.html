<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/hotspot/jtreg/vmTestbase/nsk/monitoring/share/thread/SynchronizerLockingThreads.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="SleepingThread.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ThreadMonitoringScenarioBase.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/vmTestbase/nsk/monitoring/share/thread/SynchronizerLockingThreads.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 25 
 26 import java.lang.management.*;
 27 import nsk.share.log.*;
 28 import java.util.Map;
 29 import java.util.HashMap;
 30 import java.util.concurrent.locks.ReentrantLock;
 31 import java.util.concurrent.locks.Condition;
 32 import java.util.concurrent.locks.Lock;
 33 
 34 /**
 35  * Scenario that starts two threads that use locks * to synchronize.
 36  * The code is based on tests/java/lang/management/ThreadMXBean/LockingThread.java
 37  */
 38 public class SynchronizerLockingThreads implements ThreadMonitoringScenario, LogAware {
 39         private static final String[] expectedMethodsThread1 = {
 40                 &quot;nsk.monitoring.share.thread.SynchronizerLockingThreads$Thread1.runInside&quot;,
 41                 &quot;nsk.monitoring.share.thread.SynchronizerLockingThreads$Thread1.A&quot;,
 42                 &quot;nsk.monitoring.share.thread.SynchronizerLockingThreads$Thread1.B&quot;,
 43                 &quot;nsk.monitoring.share.thread.SynchronizerLockingThreads$Thread1.C&quot;,
 44                 &quot;nsk.monitoring.share.thread.SynchronizerLockingThreads$Thread1.D&quot;,
<span class="line-modified"> 45                 &quot;java.lang.Object.wait&quot;</span>

 46         };
 47         private static final String[] expectedMethodsThread2 = {
 48                 &quot;nsk.monitoring.share.thread.SynchronizerLockingThreads$Thread2.runInside&quot;
 49         };
 50         private ReentrantLock lock1 = new ReentrantLock();
 51         private ReentrantLock lock2 = new ReentrantLock();
 52         private ReentrantLock lock3 = new ReentrantLock();
 53         private ReentrantLock lock4 = new ReentrantLock();
 54         private CustomLock lock5 = new CustomLock(&quot;lock5&quot;);
 55         private CustomLock lock6 = new CustomLock(&quot;lock6&quot;);
 56         private CustomLock lock7 = new CustomLock(&quot;lock7&quot;);
 57         private ReentrantLock lock8 = new ReentrantLock();
 58         private MonitoringThread thread1;
 59         private MonitoringThread thread2;
 60         private Log log;
 61         private RunType recursionType;
 62         private int maxDepth;
 63 
 64         public SynchronizerLockingThreads(Log log, RunType recursionType, int maxDepth) {
 65                 setLog(log);
</pre>
</td>
<td>
<hr />
<pre>
 25 
 26 import java.lang.management.*;
 27 import nsk.share.log.*;
 28 import java.util.Map;
 29 import java.util.HashMap;
 30 import java.util.concurrent.locks.ReentrantLock;
 31 import java.util.concurrent.locks.Condition;
 32 import java.util.concurrent.locks.Lock;
 33 
 34 /**
 35  * Scenario that starts two threads that use locks * to synchronize.
 36  * The code is based on tests/java/lang/management/ThreadMXBean/LockingThread.java
 37  */
 38 public class SynchronizerLockingThreads implements ThreadMonitoringScenario, LogAware {
 39         private static final String[] expectedMethodsThread1 = {
 40                 &quot;nsk.monitoring.share.thread.SynchronizerLockingThreads$Thread1.runInside&quot;,
 41                 &quot;nsk.monitoring.share.thread.SynchronizerLockingThreads$Thread1.A&quot;,
 42                 &quot;nsk.monitoring.share.thread.SynchronizerLockingThreads$Thread1.B&quot;,
 43                 &quot;nsk.monitoring.share.thread.SynchronizerLockingThreads$Thread1.C&quot;,
 44                 &quot;nsk.monitoring.share.thread.SynchronizerLockingThreads$Thread1.D&quot;,
<span class="line-modified"> 45                 &quot;java.lang.Object.wait&quot;,</span>
<span class="line-added"> 46                 &quot;java.lang.Object.wait0&quot;</span>
 47         };
 48         private static final String[] expectedMethodsThread2 = {
 49                 &quot;nsk.monitoring.share.thread.SynchronizerLockingThreads$Thread2.runInside&quot;
 50         };
 51         private ReentrantLock lock1 = new ReentrantLock();
 52         private ReentrantLock lock2 = new ReentrantLock();
 53         private ReentrantLock lock3 = new ReentrantLock();
 54         private ReentrantLock lock4 = new ReentrantLock();
 55         private CustomLock lock5 = new CustomLock(&quot;lock5&quot;);
 56         private CustomLock lock6 = new CustomLock(&quot;lock6&quot;);
 57         private CustomLock lock7 = new CustomLock(&quot;lock7&quot;);
 58         private ReentrantLock lock8 = new ReentrantLock();
 59         private MonitoringThread thread1;
 60         private MonitoringThread thread2;
 61         private Log log;
 62         private RunType recursionType;
 63         private int maxDepth;
 64 
 65         public SynchronizerLockingThreads(Log log, RunType recursionType, int maxDepth) {
 66                 setLog(log);
</pre>
</td>
</tr>
</table>
<center><a href="SleepingThread.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ThreadMonitoringScenarioBase.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>