<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/hotspot/jtreg/vmTestbase/nsk/monitoring/share/ThreadController.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../index.html" target="_top">index</a> <a href="thread/LockingThreads.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/vmTestbase/nsk/monitoring/share/ThreadController.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 602,10 ***</span>
<span class="line-new-header">--- 602,11 ---</span>
  
          expectedLength += 4;
  
          expectedMethods.add(ThreadsGroupLocks.PlainCountDownLatch.class.getName() + &quot;.await&quot;);
          expectedMethods.add(Object.class.getName() + &quot;.wait&quot;);
<span class="line-added">+         expectedMethods.add(Object.class.getName() + &quot;.wait0&quot;);</span>
  
          switch (controller.invocationType) {
              case ThreadController.JAVA_TYPE:
                  expectedMethods.add(WaitingThread.class.getName() + &quot;.bringState&quot;);
                  break;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 650,13 ***</span>
      public SleepingThread(ThreadController controller, String name, Log log, ThreadsGroupLocks threadsGroupLocks) {
          super(controller, name, log, threadsGroupLocks);
  
          this.threadsGroupLocks = threadsGroupLocks;
  
<span class="line-modified">!         expectedLength += 3;</span>
  
          expectedMethods.add(Thread.class.getName() + &quot;.sleep&quot;);
          expectedMethods.add(SleepingThread.class.getName() + &quot;.run&quot;);
  
          switch (controller.invocationType) {
              case ThreadController.JAVA_TYPE:
                  expectedMethods.add(SleepingThread.class.getName() + &quot;.bringState&quot;);
<span class="line-new-header">--- 651,23 ---</span>
      public SleepingThread(ThreadController controller, String name, Log log, ThreadsGroupLocks threadsGroupLocks) {
          super(controller, name, log, threadsGroupLocks);
  
          this.threadsGroupLocks = threadsGroupLocks;
  
<span class="line-modified">!         expectedLength += 4;</span>
  
          expectedMethods.add(Thread.class.getName() + &quot;.sleep&quot;);
<span class="line-added">+         expectedMethods.add(Thread.class.getName() + &quot;.sleep0&quot;);</span>
<span class="line-added">+         expectedMethods.add(Thread.class.getName() + &quot;.getVirtualThread&quot;);</span>
<span class="line-added">+         expectedMethods.add(Thread.class.getName() + &quot;.currentCarrierThread&quot;);</span>
<span class="line-added">+         expectedMethods.add(Thread.class.getName() + &quot;.currentThread&quot;);</span>
<span class="line-added">+         expectedMethods.add(Thread.class.getName() + &quot;.currentThread0&quot;);</span>
<span class="line-added">+         expectedMethods.add(Thread.class.getName() + &quot;.sleepMillis&quot;);</span>
<span class="line-added">+         // jdk.internal.event.ThreadSleepEvent not accessible</span>
<span class="line-added">+         expectedMethods.add(&quot;jdk.internal.event.ThreadSleepEvent.&lt;clinit&gt;&quot;);</span>
<span class="line-added">+         expectedMethods.add(&quot;jdk.internal.event.ThreadSleepEvent.isEnabled&quot;);</span>
<span class="line-added">+         expectedMethods.add(&quot;jdk.internal.event.ThreadSleepEvent.isTurnedOn&quot;);</span>
          expectedMethods.add(SleepingThread.class.getName() + &quot;.run&quot;);
  
          switch (controller.invocationType) {
              case ThreadController.JAVA_TYPE:
                  expectedMethods.add(SleepingThread.class.getName() + &quot;.bringState&quot;);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 717,13 ***</span>
  
      public RunningThread(ThreadController controller, String name, Log log, ThreadsGroupLocks threadsGroupLocks) {
          super(controller, name, log, threadsGroupLocks);
          this.threadsGroupLocks = threadsGroupLocks;
  
<span class="line-modified">!         expectedLength += 2;</span>
  
          expectedMethods.add(Thread.class.getName() + &quot;.yield&quot;);
  
          switch (controller.invocationType) {
              case ThreadController.JAVA_TYPE:
                  expectedMethods.add(RunningThread.class.getName() + &quot;.bringState&quot;);
                  break;
<span class="line-new-header">--- 728,18 ---</span>
  
      public RunningThread(ThreadController controller, String name, Log log, ThreadsGroupLocks threadsGroupLocks) {
          super(controller, name, log, threadsGroupLocks);
          this.threadsGroupLocks = threadsGroupLocks;
  
<span class="line-modified">!         expectedLength += 3;</span>
  
          expectedMethods.add(Thread.class.getName() + &quot;.yield&quot;);
<span class="line-added">+         expectedMethods.add(Thread.class.getName() + &quot;.getVirtualThread&quot;);</span>
<span class="line-added">+         expectedMethods.add(Thread.class.getName() + &quot;.currentCarrierThread&quot;);</span>
<span class="line-added">+         expectedMethods.add(Thread.class.getName() + &quot;.currentThread&quot;);</span>
<span class="line-added">+         expectedMethods.add(Thread.class.getName() + &quot;.currentThread0&quot;);</span>
<span class="line-added">+         expectedMethods.add(Thread.class.getName() + &quot;.yield0&quot;);</span>
  
          switch (controller.invocationType) {
              case ThreadController.JAVA_TYPE:
                  expectedMethods.add(RunningThread.class.getName() + &quot;.bringState&quot;);
                  break;
</pre>
<center>&lt; prev <a href="../../../../../../../index.html" target="_top">index</a> <a href="thread/LockingThreads.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>