<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/autoconf/lib-clang.m4</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../index.html" target="_top">index</a> <a href="../../src/jdk.incubator.foreign/share/classes/jdk/internal/foreign/Utils.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/autoconf/lib-clang.m4</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 85           AC_MSG_ERROR([Can not find libclang version matching the specified version: &#39;$LIBCLANG_VERSION&#39; in
 86             $($FIND $with_libclang/lib/clang/ -mindepth 1 -maxdepth 1)])
 87         fi        
 88         CLANG_INCLUDE_AUX_PATH=&quot;$with_libclang/lib/clang/$VER/include&quot;
 89         AC_MSG_RESULT([$CLANG_INCLUDE_AUX_PATH])
 90       fi      
 91     fi
 92 
 93     if test &quot;x$with_libclang_lib&quot; != &quot;x&quot;; then
 94       CLANG_LIB_PATH=&quot;$with_libclang_lib&quot;
 95     fi
 96     if test &quot;x$with_libclang_include&quot; != &quot;x&quot;; then
 97       CLANG_INCLUDE_PATH=&quot;$with_libclang_include&quot;
 98     fi
 99     if test &quot;x$with_libclang_bin&quot; != &quot;x&quot;; then
100       CLANG_BIN_PATH=&quot;$with_libclang_bin&quot;
101     fi
102 
103     dnl Only for Windows platform now, as we don&#39;t need bin yet for other platform
104     if test &quot;x$OPENJDK_TARGET_OS&quot; = xwindows; then
<span class="line-modified">105         BASIC_FIXUP_PATH(CLANG_BIN_PATH)</span>
106     else
107         CLANG_BIN_PATH=&quot;&quot;
108     fi
109 
<span class="line-modified">110     BASIC_FIXUP_PATH(CLANG_INCLUDE_PATH)</span>
<span class="line-modified">111     BASIC_FIXUP_PATH(CLANG_LIB_PATH)</span>
<span class="line-modified">112     BASIC_FIXUP_PATH(CLANG_INCLUDE_AUX_PATH)</span>
113 
114     if test &quot;x$CLANG_INCLUDE_PATH&quot; != &quot;x&quot;; then
115         LIBCLANG_CPPFLAGS=&quot;-I$CLANG_INCLUDE_PATH&quot;
116     else
117         LIBCLANG_CPPFLAGS=&quot;&quot;
118     fi
119 
120     if test &quot;x$CLANG_LIB_PATH&quot; != &quot;x&quot;; then
121       if test &quot;x$TOOLCHAIN_TYPE&quot; = &quot;xmicrosoft&quot;; then
122         LIBCLANG_LDFLAGS=&quot;/LIBPATH:$CLANG_LIB_PATH&quot;
123         LIBCLANG_LIBS=&quot;$CLANG_LIB_PATH/libclang.lib&quot;
124       else
125         LIBCLANG_LDFLAGS=&quot;-L$CLANG_LIB_PATH&quot;
126         LIBCLANG_LIBS=&quot;-lclang&quot;
127       fi
128     else
129         LIBCLANG_LDFLAGS=&quot;&quot;
130     fi
131 
132     OLD_CPPFLAGS=$CPPFLAGS
</pre>
<hr />
<pre>
172     LIBCLANG_LIBS=&quot;$LIBS&quot;
173 
174     LIBS=&quot;$OLD_LIBS&quot;
175     LDFLAGS=&quot;$OLD_LDFLAGS&quot;
176     CPPFLAGS=&quot;$OLD_CPPFLAGS&quot;
177   fi
178 
179   if test &quot;x$ENABLE_LIBCLANG&quot; = &quot;xfalse&quot;; then
180     CLANG_INCLUDE_PATH=&quot;&quot;
181     CLANG_INCLUDE_AUX_PATH=&quot;&quot;
182     CLANG_LIB_PATH=&quot;&quot;
183     LIBCLANG_CPPFLAGS=&quot;&quot;
184     LIBCLANG_LDFLAGS=&quot;&quot;
185     LIBCLANG_LIBS=&quot;&quot;
186   else
187     if test &quot;x$OPENJDK_TARGET_OS&quot; = xwindows; then
188       CLANG_LIBNAME=[$CLANG_BIN_PATH][&quot;/libclang&quot;][$SHARED_LIBRARY_SUFFIX]
189     else
190       CLANG_LIBNAME=[$CLANG_LIB_PATH/$LIBRARY_PREFIX][&quot;clang&quot;][$SHARED_LIBRARY_SUFFIX]
191     fi
<span class="line-modified">192     BASIC_REMOVE_SYMBOLIC_LINKS(CLANG_LIBNAME)</span>
193   fi
194 
195   AC_SUBST(ENABLE_LIBCLANG)
196   AC_SUBST(CLANG_INCLUDE_PATH)
197   AC_SUBST(CLANG_INCLUDE_AUX_PATH)
198   AC_SUBST(CLANG_LIB_PATH)
199   AC_SUBST(CLANG_LIBNAME)
200   AC_SUBST(LIBCLANG_CPPFLAGS)
201   AC_SUBST(LIBCLANG_LDFLAGS)
202   AC_SUBST(LIBCLANG_LIBS)
203 ])
</pre>
</td>
<td>
<hr />
<pre>
 85           AC_MSG_ERROR([Can not find libclang version matching the specified version: &#39;$LIBCLANG_VERSION&#39; in
 86             $($FIND $with_libclang/lib/clang/ -mindepth 1 -maxdepth 1)])
 87         fi        
 88         CLANG_INCLUDE_AUX_PATH=&quot;$with_libclang/lib/clang/$VER/include&quot;
 89         AC_MSG_RESULT([$CLANG_INCLUDE_AUX_PATH])
 90       fi      
 91     fi
 92 
 93     if test &quot;x$with_libclang_lib&quot; != &quot;x&quot;; then
 94       CLANG_LIB_PATH=&quot;$with_libclang_lib&quot;
 95     fi
 96     if test &quot;x$with_libclang_include&quot; != &quot;x&quot;; then
 97       CLANG_INCLUDE_PATH=&quot;$with_libclang_include&quot;
 98     fi
 99     if test &quot;x$with_libclang_bin&quot; != &quot;x&quot;; then
100       CLANG_BIN_PATH=&quot;$with_libclang_bin&quot;
101     fi
102 
103     dnl Only for Windows platform now, as we don&#39;t need bin yet for other platform
104     if test &quot;x$OPENJDK_TARGET_OS&quot; = xwindows; then
<span class="line-modified">105         UTIL_FIXUP_PATH(CLANG_BIN_PATH)</span>
106     else
107         CLANG_BIN_PATH=&quot;&quot;
108     fi
109 
<span class="line-modified">110     UTIL_FIXUP_PATH(CLANG_INCLUDE_PATH)</span>
<span class="line-modified">111     UTIL_FIXUP_PATH(CLANG_LIB_PATH)</span>
<span class="line-modified">112     UTIL_FIXUP_PATH(CLANG_INCLUDE_AUX_PATH)</span>
113 
114     if test &quot;x$CLANG_INCLUDE_PATH&quot; != &quot;x&quot;; then
115         LIBCLANG_CPPFLAGS=&quot;-I$CLANG_INCLUDE_PATH&quot;
116     else
117         LIBCLANG_CPPFLAGS=&quot;&quot;
118     fi
119 
120     if test &quot;x$CLANG_LIB_PATH&quot; != &quot;x&quot;; then
121       if test &quot;x$TOOLCHAIN_TYPE&quot; = &quot;xmicrosoft&quot;; then
122         LIBCLANG_LDFLAGS=&quot;/LIBPATH:$CLANG_LIB_PATH&quot;
123         LIBCLANG_LIBS=&quot;$CLANG_LIB_PATH/libclang.lib&quot;
124       else
125         LIBCLANG_LDFLAGS=&quot;-L$CLANG_LIB_PATH&quot;
126         LIBCLANG_LIBS=&quot;-lclang&quot;
127       fi
128     else
129         LIBCLANG_LDFLAGS=&quot;&quot;
130     fi
131 
132     OLD_CPPFLAGS=$CPPFLAGS
</pre>
<hr />
<pre>
172     LIBCLANG_LIBS=&quot;$LIBS&quot;
173 
174     LIBS=&quot;$OLD_LIBS&quot;
175     LDFLAGS=&quot;$OLD_LDFLAGS&quot;
176     CPPFLAGS=&quot;$OLD_CPPFLAGS&quot;
177   fi
178 
179   if test &quot;x$ENABLE_LIBCLANG&quot; = &quot;xfalse&quot;; then
180     CLANG_INCLUDE_PATH=&quot;&quot;
181     CLANG_INCLUDE_AUX_PATH=&quot;&quot;
182     CLANG_LIB_PATH=&quot;&quot;
183     LIBCLANG_CPPFLAGS=&quot;&quot;
184     LIBCLANG_LDFLAGS=&quot;&quot;
185     LIBCLANG_LIBS=&quot;&quot;
186   else
187     if test &quot;x$OPENJDK_TARGET_OS&quot; = xwindows; then
188       CLANG_LIBNAME=[$CLANG_BIN_PATH][&quot;/libclang&quot;][$SHARED_LIBRARY_SUFFIX]
189     else
190       CLANG_LIBNAME=[$CLANG_LIB_PATH/$LIBRARY_PREFIX][&quot;clang&quot;][$SHARED_LIBRARY_SUFFIX]
191     fi
<span class="line-modified">192     UTIL_REMOVE_SYMBOLIC_LINKS(CLANG_LIBNAME)</span>
193   fi
194 
195   AC_SUBST(ENABLE_LIBCLANG)
196   AC_SUBST(CLANG_INCLUDE_PATH)
197   AC_SUBST(CLANG_INCLUDE_AUX_PATH)
198   AC_SUBST(CLANG_LIB_PATH)
199   AC_SUBST(CLANG_LIBNAME)
200   AC_SUBST(LIBCLANG_CPPFLAGS)
201   AC_SUBST(LIBCLANG_LDFLAGS)
202   AC_SUBST(LIBCLANG_LIBS)
203 ])
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../index.html" target="_top">index</a> <a href="../../src/jdk.incubator.foreign/share/classes/jdk/internal/foreign/Utils.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>