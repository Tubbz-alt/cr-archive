<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff doc/panama_jextract.html</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../index.html" target="_top">index</a> <a href="panama_jextract.md.sdiff.html" target="_top">next &gt;</a></center>    <h2>doc/panama_jextract.html</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
131 &lt;li&gt;&lt;a href=&quot;#using-libproc-library-to-list-processes-from-java-mac-os&quot;&gt;Using libproc library to list processes from Java (Mac OS)&lt;/a&gt;
132 &lt;ul&gt;
133 &lt;li&gt;&lt;a href=&quot;#jextract-libproc.h&quot;&gt;jextract libproc.h&lt;/a&gt;&lt;/li&gt;
134 &lt;li&gt;&lt;a href=&quot;#java-program-that-uses-libproc-to-list-processes&quot;&gt;Java program that uses libproc to list processes&lt;/a&gt;&lt;/li&gt;
135 &lt;li&gt;&lt;a href=&quot;#compiling-and-running-the-libproc-sample&quot;&gt;Compiling and running the libproc sample&lt;/a&gt;&lt;/li&gt;
136 &lt;/ul&gt;&lt;/li&gt;
137 &lt;li&gt;&lt;a href=&quot;#using-libgit2-from-java-mac-os&quot;&gt;Using libgit2 from Java (Mac OS)&lt;/a&gt;
138 &lt;ul&gt;
139 &lt;li&gt;&lt;a href=&quot;#getting-and-building-libgit2&quot;&gt;Getting and building libgit2&lt;/a&gt;&lt;/li&gt;
140 &lt;li&gt;&lt;a href=&quot;#jextract-git2.h&quot;&gt;jextract git2.h&lt;/a&gt;&lt;/li&gt;
141 &lt;li&gt;&lt;a href=&quot;#java-program-that-uses-libgit2-to-clone-github-repo&quot;&gt;Java program that uses libgit2 to clone github repo&lt;/a&gt;&lt;/li&gt;
142 &lt;li&gt;&lt;a href=&quot;#compiling-and-running-the-libgit2-sample&quot;&gt;Compiling and running the libgit2 sample&lt;/a&gt;&lt;/li&gt;
143 &lt;li&gt;&lt;a href=&quot;#cloning-a-github-repo-using-the-above-run.sh-command&quot;&gt;Cloning a github repo using the above run.sh command&lt;/a&gt;&lt;/li&gt;
144 &lt;/ul&gt;&lt;/li&gt;
145 &lt;li&gt;&lt;a href=&quot;#using-sqlite3-library-from-java-mac-os&quot;&gt;Using sqlite3 library from Java (Mac OS)&lt;/a&gt;
146 &lt;ul&gt;
147 &lt;li&gt;&lt;a href=&quot;#jextract-sqlite3.h&quot;&gt;jextract sqlite3.h&lt;/a&gt;&lt;/li&gt;
148 &lt;li&gt;&lt;a href=&quot;#java-program-that-uses-sqlite3&quot;&gt;Java program that uses sqlite3&lt;/a&gt;&lt;/li&gt;
149 &lt;li&gt;&lt;a href=&quot;#compiling-and-running-the-sqlite3-sample&quot;&gt;Compiling and running the sqlite3 sample&lt;/a&gt;&lt;/li&gt;
150 &lt;/ul&gt;&lt;/li&gt;






151 &lt;/ul&gt;&lt;/li&gt;
152 &lt;/ul&gt;
153 &lt;/nav&gt;
154 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
155 &lt;h1 id=&quot;using-panama-foreign-jextract-jdk&quot;&gt;Using Panama &quot;foreign-jextract&quot; JDK&lt;/h1&gt;
156 &lt;p&gt;You can build &quot;foreign-jextract&quot; branch of panama repo &lt;a href=&quot;https://github.com/openjdk/panama-foreign&quot;&gt;https://github.com/openjdk/panama-foreign&lt;/a&gt;&lt;/p&gt;
157 &lt;p&gt;Using foreign function call in Java involves the following two steps:&lt;/p&gt;
158 &lt;ol type=&quot;1&quot;&gt;
159 &lt;li&gt;Use &lt;strong&gt;jextract&lt;/strong&gt; tool to generate java interface for your C header file(s)&lt;/li&gt;
160 &lt;li&gt;Invoke C functions via the jextracted Java interface&lt;/li&gt;
161 &lt;/ol&gt;
162 &lt;h2 id=&quot;hello-world&quot;&gt;Hello World&lt;/h2&gt;
163 &lt;h3 id=&quot;hello-world-c-header-helloworld.h&quot;&gt;Hello World C Header (helloworld.h)&lt;/h3&gt;
164 &lt;div class=&quot;sourceCode&quot; id=&quot;cb1&quot;&gt;&lt;pre class=&quot;sourceCode c&quot;&gt;&lt;code class=&quot;sourceCode c&quot;&gt;&lt;span id=&quot;cb1-1&quot;&gt;&lt;a href=&quot;#cb1-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
165 &lt;span id=&quot;cb1-2&quot;&gt;&lt;a href=&quot;#cb1-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;pp&quot;&gt;#ifndef helloworld_h&lt;/span&gt;&lt;/span&gt;
166 &lt;span id=&quot;cb1-3&quot;&gt;&lt;a href=&quot;#cb1-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;pp&quot;&gt;#define helloworld_h&lt;/span&gt;&lt;/span&gt;
167 &lt;span id=&quot;cb1-4&quot;&gt;&lt;a href=&quot;#cb1-4&quot;&gt;&lt;/a&gt;&lt;/span&gt;
168 &lt;span id=&quot;cb1-5&quot;&gt;&lt;a href=&quot;#cb1-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; helloworld(&lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt;);&lt;/span&gt;
169 &lt;span id=&quot;cb1-6&quot;&gt;&lt;a href=&quot;#cb1-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;
170 &lt;span id=&quot;cb1-7&quot;&gt;&lt;a href=&quot;#cb1-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;pp&quot;&gt;#endif &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;/* helloworld_h */&lt;/span&gt;&lt;/span&gt;
</pre>
<hr />
<pre>
190 &lt;span id=&quot;cb5-3&quot;&gt;&lt;a href=&quot;#cb5-3&quot;&gt;&lt;/a&gt;&lt;/span&gt;
191 &lt;span id=&quot;cb5-4&quot;&gt;&lt;a href=&quot;#cb5-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; HelloWorld {&lt;/span&gt;
192 &lt;span id=&quot;cb5-5&quot;&gt;&lt;a href=&quot;#cb5-5&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
193 &lt;span id=&quot;cb5-6&quot;&gt;&lt;a href=&quot;#cb5-6&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;helloworld&lt;/span&gt;();&lt;/span&gt;
194 &lt;span id=&quot;cb5-7&quot;&gt;&lt;a href=&quot;#cb5-7&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
195 &lt;span id=&quot;cb5-8&quot;&gt;&lt;a href=&quot;#cb5-8&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
196 &lt;h3 id=&quot;running-the-java-code-that-invokes-helloworld&quot;&gt;Running the Java code that invokes helloworld&lt;/h3&gt;
197 &lt;div class=&quot;sourceCode&quot; id=&quot;cb6&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb6-1&quot;&gt;&lt;a href=&quot;#cb6-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
198 &lt;span id=&quot;cb6-2&quot;&gt;&lt;a href=&quot;#cb6-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign HelloWorld.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
199 &lt;h2 id=&quot;embedding-python-interpreter-in-your-java-program-mac-os&quot;&gt;Embedding Python interpreter in your Java program (Mac OS)&lt;/h2&gt;
200 &lt;h3 id=&quot;jextract-python.h&quot;&gt;jextract Python.h&lt;/h3&gt;
201 &lt;div class=&quot;sourceCode&quot; id=&quot;cb7&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb7-1&quot;&gt;&lt;a href=&quot;#cb7-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
202 &lt;span id=&quot;cb7-2&quot;&gt;&lt;a href=&quot;#cb7-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
203 &lt;span id=&quot;cb7-3&quot;&gt;&lt;a href=&quot;#cb7-3&quot;&gt;&lt;/a&gt;  -l python2.7 \&lt;/span&gt;
204 &lt;span id=&quot;cb7-4&quot;&gt;&lt;a href=&quot;#cb7-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
205 &lt;span id=&quot;cb7-5&quot;&gt;&lt;a href=&quot;#cb7-5&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/python2.7/ \&lt;/span&gt;
206 &lt;span id=&quot;cb7-6&quot;&gt;&lt;a href=&quot;#cb7-6&quot;&gt;&lt;/a&gt;  -t org.python \&lt;/span&gt;
207 &lt;span id=&quot;cb7-7&quot;&gt;&lt;a href=&quot;#cb7-7&quot;&gt;&lt;/a&gt;   /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/python2.7/Python.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
208 &lt;h3 id=&quot;java-program-that-uses-extracted-python-interface&quot;&gt;Java program that uses extracted Python interface&lt;/h3&gt;
209 &lt;div class=&quot;sourceCode&quot; id=&quot;cb8&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb8-1&quot;&gt;&lt;a href=&quot;#cb8-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
<span class="line-modified">210 &lt;span id=&quot;cb8-2&quot;&gt;&lt;a href=&quot;#cb8-2&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">211 &lt;span id=&quot;cb8-3&quot;&gt;&lt;a href=&quot;#cb8-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">212 &lt;span id=&quot;cb8-4&quot;&gt;&lt;a href=&quot;#cb8-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">213 &lt;span id=&quot;cb8-5&quot;&gt;&lt;a href=&quot;#cb8-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;// import jextracted python &amp;#39;header&amp;#39; class&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">214 &lt;span id=&quot;cb8-6&quot;&gt;&lt;a href=&quot;#cb8-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.python.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">215 &lt;span id=&quot;cb8-7&quot;&gt;&lt;a href=&quot;#cb8-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.python.Python_h.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">216 &lt;span id=&quot;cb8-8&quot;&gt;&lt;a href=&quot;#cb8-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">217 &lt;span id=&quot;cb8-9&quot;&gt;&lt;a href=&quot;#cb8-9&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; PythonMain {&lt;/span&gt;</span>
<span class="line-modified">218 &lt;span id=&quot;cb8-10&quot;&gt;&lt;a href=&quot;#cb8-10&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-modified">219 &lt;span id=&quot;cb8-11&quot;&gt;&lt;a href=&quot;#cb8-11&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; script = &lt;span class=&quot;st&quot;&gt;&amp;quot;print(sum([33, 55, 66])); print(&amp;#39;Hello from Python!&amp;#39;)&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">220 &lt;span id=&quot;cb8-12&quot;&gt;&lt;a href=&quot;#cb8-12&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">221 &lt;span id=&quot;cb8-13&quot;&gt;&lt;a href=&quot;#cb8-13&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;Py_Initialize&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">222 &lt;span id=&quot;cb8-14&quot;&gt;&lt;a href=&quot;#cb8-14&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var s = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(script)) {&lt;/span&gt;</span>
<span class="line-modified">223 &lt;span id=&quot;cb8-15&quot;&gt;&lt;a href=&quot;#cb8-15&quot;&gt;&lt;/a&gt;            var str = s.&lt;span class=&quot;fu&quot;&gt;baseAddress&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">224 &lt;span id=&quot;cb8-16&quot;&gt;&lt;a href=&quot;#cb8-16&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;PyRun_SimpleStringFlags&lt;/span&gt;(str, NULL);&lt;/span&gt;</span>
<span class="line-modified">225 &lt;span id=&quot;cb8-17&quot;&gt;&lt;a href=&quot;#cb8-17&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;Py_Finalize&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">226 &lt;span id=&quot;cb8-18&quot;&gt;&lt;a href=&quot;#cb8-18&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-removed">227 &lt;span id=&quot;cb8-19&quot;&gt;&lt;a href=&quot;#cb8-19&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-removed">228 &lt;span id=&quot;cb8-20&quot;&gt;&lt;a href=&quot;#cb8-20&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
229 &lt;h3 id=&quot;running-the-java-code-that-calls-python-interpreter&quot;&gt;Running the Java code that calls Python interpreter&lt;/h3&gt;
230 &lt;div class=&quot;sourceCode&quot; id=&quot;cb9&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb9-1&quot;&gt;&lt;a href=&quot;#cb9-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
231 &lt;span id=&quot;cb9-2&quot;&gt;&lt;a href=&quot;#cb9-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;
232 &lt;span id=&quot;cb9-3&quot;&gt;&lt;a href=&quot;#cb9-3&quot;&gt;&lt;/a&gt;    -Djava.library.path=/System/Library/Frameworks/Python.framework/Versions/2.7/lib \&lt;/span&gt;
233 &lt;span id=&quot;cb9-4&quot;&gt;&lt;a href=&quot;#cb9-4&quot;&gt;&lt;/a&gt;    PythonMain.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
234 &lt;h2 id=&quot;using-readline-library-from-java-code-mac-os&quot;&gt;Using readline library from Java code (Mac OS)&lt;/h2&gt;
235 &lt;h3 id=&quot;jextract-readline.h&quot;&gt;jextract readline.h&lt;/h3&gt;
236 &lt;div class=&quot;sourceCode&quot; id=&quot;cb10&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb10-1&quot;&gt;&lt;a href=&quot;#cb10-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
237 &lt;span id=&quot;cb10-2&quot;&gt;&lt;a href=&quot;#cb10-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
238 &lt;span id=&quot;cb10-3&quot;&gt;&lt;a href=&quot;#cb10-3&quot;&gt;&lt;/a&gt;  -l readline -t org.unix \&lt;/span&gt;
239 &lt;span id=&quot;cb10-4&quot;&gt;&lt;a href=&quot;#cb10-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
240 &lt;span id=&quot;cb10-5&quot;&gt;&lt;a href=&quot;#cb10-5&quot;&gt;&lt;/a&gt;   /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/readline/readline.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
241 &lt;h3 id=&quot;java-code-that-uses-readline&quot;&gt;Java code that uses readline&lt;/h3&gt;
242 &lt;div class=&quot;sourceCode&quot; id=&quot;cb11&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb11-1&quot;&gt;&lt;a href=&quot;#cb11-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
243 &lt;span id=&quot;cb11-2&quot;&gt;&lt;a href=&quot;#cb11-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;
244 &lt;span id=&quot;cb11-3&quot;&gt;&lt;a href=&quot;#cb11-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.readline_h.*;&lt;/span&gt;&lt;/span&gt;
245 &lt;span id=&quot;cb11-4&quot;&gt;&lt;a href=&quot;#cb11-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;
246 &lt;span id=&quot;cb11-5&quot;&gt;&lt;a href=&quot;#cb11-5&quot;&gt;&lt;/a&gt;&lt;/span&gt;
247 &lt;span id=&quot;cb11-6&quot;&gt;&lt;a href=&quot;#cb11-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; Readline {&lt;/span&gt;
248 &lt;span id=&quot;cb11-7&quot;&gt;&lt;a href=&quot;#cb11-7&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
<span class="line-modified">249 &lt;span id=&quot;cb11-8&quot;&gt;&lt;a href=&quot;#cb11-8&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var s = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;name? &amp;quot;&lt;/span&gt;)) {&lt;/span&gt;</span>
<span class="line-modified">250 &lt;span id=&quot;cb11-9&quot;&gt;&lt;a href=&quot;#cb11-9&quot;&gt;&lt;/a&gt;            var pstr = s.&lt;span class=&quot;fu&quot;&gt;baseAddress&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">251 &lt;span id=&quot;cb11-10&quot;&gt;&lt;a href=&quot;#cb11-10&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// call &amp;quot;readline&amp;quot; API&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">252 &lt;span id=&quot;cb11-11&quot;&gt;&lt;a href=&quot;#cb11-11&quot;&gt;&lt;/a&gt;            var p = &lt;span class=&quot;fu&quot;&gt;readline&lt;/span&gt;(pstr);&lt;/span&gt;</span>
<span class="line-modified">253 &lt;span id=&quot;cb11-12&quot;&gt;&lt;a href=&quot;#cb11-12&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">254 &lt;span id=&quot;cb11-13&quot;&gt;&lt;a href=&quot;#cb11-13&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// print char* as is&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">255 &lt;span id=&quot;cb11-14&quot;&gt;&lt;a href=&quot;#cb11-14&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(p);&lt;/span&gt;</span>
<span class="line-modified">256 &lt;span id=&quot;cb11-15&quot;&gt;&lt;a href=&quot;#cb11-15&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// convert char* ptr from readline as Java String &amp;amp; print it&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">257 &lt;span id=&quot;cb11-16&quot;&gt;&lt;a href=&quot;#cb11-16&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello, &amp;quot;&lt;/span&gt; + &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(p));&lt;/span&gt;</span>
<span class="line-modified">258 &lt;span id=&quot;cb11-17&quot;&gt;&lt;a href=&quot;#cb11-17&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-modified">259 &lt;span id=&quot;cb11-18&quot;&gt;&lt;a href=&quot;#cb11-18&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-removed">260 &lt;span id=&quot;cb11-19&quot;&gt;&lt;a href=&quot;#cb11-19&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
261 &lt;h3 id=&quot;running-the-java-code-that-uses-readline&quot;&gt;Running the java code that uses readline&lt;/h3&gt;
262 &lt;pre&gt;&lt;code&gt;java -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \
263     -Djava.library.path=/usr/local/opt/readline/lib/ Readline.java
264 &lt;/code&gt;&lt;/pre&gt;
265 &lt;h2 id=&quot;using-libcurl-from-java-mac-os&quot;&gt;Using libcurl from Java (Mac OS)&lt;/h2&gt;
266 &lt;h3 id=&quot;jextract-curl.h&quot;&gt;jextract curl.h&lt;/h3&gt;
267 &lt;div class=&quot;sourceCode&quot; id=&quot;cb13&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb13-1&quot;&gt;&lt;a href=&quot;#cb13-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
268 &lt;span id=&quot;cb13-2&quot;&gt;&lt;a href=&quot;#cb13-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -t org.unix -lcurl \&lt;/span&gt;
269 &lt;span id=&quot;cb13-3&quot;&gt;&lt;a href=&quot;#cb13-3&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/ \&lt;/span&gt;
270 &lt;span id=&quot;cb13-4&quot;&gt;&lt;a href=&quot;#cb13-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/curl/ \&lt;/span&gt;
271 &lt;span id=&quot;cb13-5&quot;&gt;&lt;a href=&quot;#cb13-5&quot;&gt;&lt;/a&gt;  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/curl/curl.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
272 &lt;h3 id=&quot;java-code-that-uses-libcurl&quot;&gt;Java code that uses libcurl&lt;/h3&gt;
273 &lt;div class=&quot;sourceCode&quot; id=&quot;cb14&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb14-1&quot;&gt;&lt;a href=&quot;#cb14-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
<span class="line-modified">274 &lt;span id=&quot;cb14-2&quot;&gt;&lt;a href=&quot;#cb14-2&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">275 &lt;span id=&quot;cb14-3&quot;&gt;&lt;a href=&quot;#cb14-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">276 &lt;span id=&quot;cb14-4&quot;&gt;&lt;a href=&quot;#cb14-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">277 &lt;span id=&quot;cb14-5&quot;&gt;&lt;a href=&quot;#cb14-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.curl_h.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">278 &lt;span id=&quot;cb14-6&quot;&gt;&lt;a href=&quot;#cb14-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">279 &lt;span id=&quot;cb14-7&quot;&gt;&lt;a href=&quot;#cb14-7&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">280 &lt;span id=&quot;cb14-8&quot;&gt;&lt;a href=&quot;#cb14-8&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; CurlMain {&lt;/span&gt;</span>
<span class="line-modified">281 &lt;span id=&quot;cb14-9&quot;&gt;&lt;a href=&quot;#cb14-9&quot;&gt;&lt;/a&gt;   &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-modified">282 &lt;span id=&quot;cb14-10&quot;&gt;&lt;a href=&quot;#cb14-10&quot;&gt;&lt;/a&gt;       var urlStr = args[&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;];&lt;/span&gt;</span>
<span class="line-modified">283 &lt;span id=&quot;cb14-11&quot;&gt;&lt;a href=&quot;#cb14-11&quot;&gt;&lt;/a&gt;       &lt;span class=&quot;fu&quot;&gt;curl_global_init&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;CURL_GLOBAL_DEFAULT&lt;/span&gt;());&lt;/span&gt;</span>
<span class="line-modified">284 &lt;span id=&quot;cb14-12&quot;&gt;&lt;a href=&quot;#cb14-12&quot;&gt;&lt;/a&gt;       var curl = &lt;span class=&quot;fu&quot;&gt;curl_easy_init&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">285 &lt;span id=&quot;cb14-13&quot;&gt;&lt;a href=&quot;#cb14-13&quot;&gt;&lt;/a&gt;       &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt;(!curl.&lt;span class=&quot;fu&quot;&gt;equals&lt;/span&gt;(NULL)) {&lt;/span&gt;</span>
<span class="line-modified">286 &lt;span id=&quot;cb14-14&quot;&gt;&lt;a href=&quot;#cb14-14&quot;&gt;&lt;/a&gt;           &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var s = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(urlStr)) {&lt;/span&gt;</span>
<span class="line-modified">287 &lt;span id=&quot;cb14-15&quot;&gt;&lt;a href=&quot;#cb14-15&quot;&gt;&lt;/a&gt;               var url = s.&lt;span class=&quot;fu&quot;&gt;baseAddress&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">288 &lt;span id=&quot;cb14-16&quot;&gt;&lt;a href=&quot;#cb14-16&quot;&gt;&lt;/a&gt;               &lt;span class=&quot;fu&quot;&gt;curl_easy_setopt&lt;/span&gt;(curl, &lt;span class=&quot;fu&quot;&gt;CURLOPT_URL&lt;/span&gt;(), url);&lt;/span&gt;</span>
<span class="line-modified">289 &lt;span id=&quot;cb14-17&quot;&gt;&lt;a href=&quot;#cb14-17&quot;&gt;&lt;/a&gt;               &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; res = &lt;span class=&quot;fu&quot;&gt;curl_easy_perform&lt;/span&gt;(curl);&lt;/span&gt;</span>
<span class="line-modified">290 &lt;span id=&quot;cb14-18&quot;&gt;&lt;a href=&quot;#cb14-18&quot;&gt;&lt;/a&gt;               &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (res != &lt;span class=&quot;fu&quot;&gt;CURLE_OK&lt;/span&gt;()) {&lt;/span&gt;</span>
291 &lt;span id=&quot;cb14-19&quot;&gt;&lt;a href=&quot;#cb14-19&quot;&gt;&lt;/a&gt;                   &lt;span class=&quot;fu&quot;&gt;curl_easy_cleanup&lt;/span&gt;(curl);&lt;/span&gt;
292 &lt;span id=&quot;cb14-20&quot;&gt;&lt;a href=&quot;#cb14-20&quot;&gt;&lt;/a&gt;               }&lt;/span&gt;
293 &lt;span id=&quot;cb14-21&quot;&gt;&lt;a href=&quot;#cb14-21&quot;&gt;&lt;/a&gt;           }&lt;/span&gt;
294 &lt;span id=&quot;cb14-22&quot;&gt;&lt;a href=&quot;#cb14-22&quot;&gt;&lt;/a&gt;       }&lt;/span&gt;
295 &lt;span id=&quot;cb14-23&quot;&gt;&lt;a href=&quot;#cb14-23&quot;&gt;&lt;/a&gt;       &lt;span class=&quot;fu&quot;&gt;curl_global_cleanup&lt;/span&gt;();&lt;/span&gt;
296 &lt;span id=&quot;cb14-24&quot;&gt;&lt;a href=&quot;#cb14-24&quot;&gt;&lt;/a&gt;   }&lt;/span&gt;
297 &lt;span id=&quot;cb14-25&quot;&gt;&lt;a href=&quot;#cb14-25&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
298 &lt;h3 id=&quot;running-the-java-code-that-uses-libcurl&quot;&gt;Running the java code that uses libcurl&lt;/h3&gt;
299 &lt;div class=&quot;sourceCode&quot; id=&quot;cb15&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb15-1&quot;&gt;&lt;a href=&quot;#cb15-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
300 &lt;span id=&quot;cb15-2&quot;&gt;&lt;a href=&quot;#cb15-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;# run this shell script by passing a URL as first argument&lt;/span&gt;&lt;/span&gt;
301 &lt;span id=&quot;cb15-3&quot;&gt;&lt;a href=&quot;#cb15-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;
302 &lt;span id=&quot;cb15-4&quot;&gt;&lt;a href=&quot;#cb15-4&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/lib CurlMain.java &lt;span class=&quot;va&quot;&gt;$*&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
303 &lt;h2 id=&quot;using-blas-library&quot;&gt;Using BLAS library&lt;/h2&gt;
304 &lt;p&gt;BLAS is a popular library that allows fast matrix and vector computation: &lt;a href=&quot;http://www.netlib.org/blas/&quot;&gt;http://www.netlib.org/blas/&lt;/a&gt;.&lt;/p&gt;
305 &lt;h3 id=&quot;installing-openblas-mac-os&quot;&gt;Installing OpenBLAS (Mac OS)&lt;/h3&gt;
306 &lt;p&gt;On Mac, blas is available as part of the OpenBLAS library: &lt;a href=&quot;https://github.com/xianyi/OpenBLAS/wiki&quot;&gt;https://github.com/xianyi/OpenBLAS/wiki&lt;/a&gt;&lt;/p&gt;
307 &lt;p&gt;OpenBLAS is an optimized BLAS library based on GotoBLAS2 1.13 BSD version.&lt;/p&gt;
308 &lt;p&gt;You can install openblas using HomeBrew&lt;/p&gt;
309 &lt;div class=&quot;sourceCode&quot; id=&quot;cb16&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb16-1&quot;&gt;&lt;a href=&quot;#cb16-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
310 &lt;span id=&quot;cb16-2&quot;&gt;&lt;a href=&quot;#cb16-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;brew&lt;/span&gt; install openblas&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</pre>
<hr />
<pre>
366 &lt;span id=&quot;cb18-48&quot;&gt;&lt;a href=&quot;#cb18-48&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
367 &lt;h3 id=&quot;compiling-and-running-the-above-blas-sample&quot;&gt;Compiling and running the above BLAS sample&lt;/h3&gt;
368 &lt;div class=&quot;sourceCode&quot; id=&quot;cb19&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb19-1&quot;&gt;&lt;a href=&quot;#cb19-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
369 &lt;span id=&quot;cb19-2&quot;&gt;&lt;a href=&quot;#cb19-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
370 &lt;span id=&quot;cb19-3&quot;&gt;&lt;a href=&quot;#cb19-3&quot;&gt;&lt;/a&gt;  -C &lt;span class=&quot;st&quot;&gt;&amp;quot;-D FORCE_OPENBLAS_COMPLEX_STRUCT&amp;quot;&lt;/span&gt; \&lt;/span&gt;
371 &lt;span id=&quot;cb19-4&quot;&gt;&lt;a href=&quot;#cb19-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
372 &lt;span id=&quot;cb19-5&quot;&gt;&lt;a href=&quot;#cb19-5&quot;&gt;&lt;/a&gt;  -l openblas -t blas /usr/local/opt/openblas/include/cblas.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
373 &lt;h2 id=&quot;using-lapack-library-mac-os&quot;&gt;Using LAPACK library (Mac OS)&lt;/h2&gt;
374 &lt;p&gt;On Mac OS, lapack is installed under /usr/local/opt/lapack directory.&lt;/p&gt;
375 &lt;h3 id=&quot;jextracting-lapacke.h&quot;&gt;jextracting lapacke.h&lt;/h3&gt;
376 &lt;div class=&quot;sourceCode&quot; id=&quot;cb20&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb20-1&quot;&gt;&lt;a href=&quot;#cb20-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
377 &lt;span id=&quot;cb20-2&quot;&gt;&lt;a href=&quot;#cb20-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
378 &lt;span id=&quot;cb20-3&quot;&gt;&lt;a href=&quot;#cb20-3&quot;&gt;&lt;/a&gt;   -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
379 &lt;span id=&quot;cb20-4&quot;&gt;&lt;a href=&quot;#cb20-4&quot;&gt;&lt;/a&gt;   -l lapacke -t lapack \&lt;/span&gt;
380 &lt;span id=&quot;cb20-5&quot;&gt;&lt;a href=&quot;#cb20-5&quot;&gt;&lt;/a&gt;   --filter lapacke.h \&lt;/span&gt;
381 &lt;span id=&quot;cb20-6&quot;&gt;&lt;a href=&quot;#cb20-6&quot;&gt;&lt;/a&gt;   /usr/local/opt/lapack/include/lapacke.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
382 &lt;h3 id=&quot;java-sample-code-that-uses-lapack-library&quot;&gt;Java sample code that uses LAPACK library&lt;/h3&gt;
383 &lt;div class=&quot;sourceCode&quot; id=&quot;cb21&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb21-1&quot;&gt;&lt;a href=&quot;#cb21-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
384 &lt;span id=&quot;cb21-2&quot;&gt;&lt;a href=&quot;#cb21-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAccess;&lt;/span&gt;&lt;/span&gt;
385 &lt;span id=&quot;cb21-3&quot;&gt;&lt;a href=&quot;#cb21-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress;&lt;/span&gt;&lt;/span&gt;
<span class="line-modified">386 &lt;span id=&quot;cb21-4&quot;&gt;&lt;a href=&quot;#cb21-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">387 &lt;span id=&quot;cb21-5&quot;&gt;&lt;a href=&quot;#cb21-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; lapack.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">388 &lt;span id=&quot;cb21-6&quot;&gt;&lt;a href=&quot;#cb21-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; lapack.lapacke_h.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">389 &lt;span id=&quot;cb21-7&quot;&gt;&lt;a href=&quot;#cb21-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">390 &lt;span id=&quot;cb21-8&quot;&gt;&lt;a href=&quot;#cb21-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">391 &lt;span id=&quot;cb21-9&quot;&gt;&lt;a href=&quot;#cb21-9&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; TestLapack {&lt;/span&gt;</span>
<span class="line-modified">392 &lt;span id=&quot;cb21-10&quot;&gt;&lt;a href=&quot;#cb21-10&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-modified">393 &lt;span id=&quot;cb21-11&quot;&gt;&lt;a href=&quot;#cb21-11&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">394 &lt;span id=&quot;cb21-12&quot;&gt;&lt;a href=&quot;#cb21-12&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;co&quot;&gt;/* Locals */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">395 &lt;span id=&quot;cb21-13&quot;&gt;&lt;a href=&quot;#cb21-13&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;</span>
<span class="line-modified">396 &lt;span id=&quot;cb21-14&quot;&gt;&lt;a href=&quot;#cb21-14&quot;&gt;&lt;/a&gt;            var A = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(C_DOUBLE, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt;[]{&lt;/span&gt;</span>
<span class="line-modified">397 &lt;span id=&quot;cb21-15&quot;&gt;&lt;a href=&quot;#cb21-15&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">398 &lt;span id=&quot;cb21-16&quot;&gt;&lt;a href=&quot;#cb21-16&quot;&gt;&lt;/a&gt;            });&lt;/span&gt;</span>
<span class="line-modified">399 &lt;span id=&quot;cb21-17&quot;&gt;&lt;a href=&quot;#cb21-17&quot;&gt;&lt;/a&gt;            var b = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(C_DOUBLE, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt;[]{&lt;/span&gt;</span>
<span class="line-modified">400 &lt;span id=&quot;cb21-18&quot;&gt;&lt;a href=&quot;#cb21-18&quot;&gt;&lt;/a&gt;                    -&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;12&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;14&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;18&lt;/span&gt;, -&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;14&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;12&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">401 &lt;span id=&quot;cb21-19&quot;&gt;&lt;a href=&quot;#cb21-19&quot;&gt;&lt;/a&gt;            });&lt;/span&gt;</span>
<span class="line-modified">402 &lt;span id=&quot;cb21-20&quot;&gt;&lt;a href=&quot;#cb21-20&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; info, m, n, lda, ldb, nrhs;&lt;/span&gt;</span>
<span class="line-modified">403 &lt;span id=&quot;cb21-21&quot;&gt;&lt;a href=&quot;#cb21-21&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">404 &lt;span id=&quot;cb21-22&quot;&gt;&lt;a href=&quot;#cb21-22&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Initialization */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">405 &lt;span id=&quot;cb21-23&quot;&gt;&lt;a href=&quot;#cb21-23&quot;&gt;&lt;/a&gt;            m = &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">406 &lt;span id=&quot;cb21-24&quot;&gt;&lt;a href=&quot;#cb21-24&quot;&gt;&lt;/a&gt;            n = &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">407 &lt;span id=&quot;cb21-25&quot;&gt;&lt;a href=&quot;#cb21-25&quot;&gt;&lt;/a&gt;            nrhs = &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">408 &lt;span id=&quot;cb21-26&quot;&gt;&lt;a href=&quot;#cb21-26&quot;&gt;&lt;/a&gt;            lda = &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">409 &lt;span id=&quot;cb21-27&quot;&gt;&lt;a href=&quot;#cb21-27&quot;&gt;&lt;/a&gt;            ldb = &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">410 &lt;span id=&quot;cb21-28&quot;&gt;&lt;a href=&quot;#cb21-28&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">411 &lt;span id=&quot;cb21-29&quot;&gt;&lt;a href=&quot;#cb21-29&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Print Entry Matrix */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">412 &lt;span id=&quot;cb21-30&quot;&gt;&lt;a href=&quot;#cb21-30&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Entry Matrix A&amp;quot;&lt;/span&gt;, m, n, A, lda );&lt;/span&gt;</span>
<span class="line-modified">413 &lt;span id=&quot;cb21-31&quot;&gt;&lt;a href=&quot;#cb21-31&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Print Right Rand Side */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">414 &lt;span id=&quot;cb21-32&quot;&gt;&lt;a href=&quot;#cb21-32&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Right Hand Side b&amp;quot;&lt;/span&gt;, n, nrhs, b, ldb );&lt;/span&gt;</span>
<span class="line-modified">415 &lt;span id=&quot;cb21-33&quot;&gt;&lt;a href=&quot;#cb21-33&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">416 &lt;span id=&quot;cb21-34&quot;&gt;&lt;a href=&quot;#cb21-34&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">417 &lt;span id=&quot;cb21-35&quot;&gt;&lt;a href=&quot;#cb21-35&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Executable statements */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">418 &lt;span id=&quot;cb21-36&quot;&gt;&lt;a href=&quot;#cb21-36&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;//            printf( &amp;quot;LAPACKE_dgels (col-major, high-level) Example Program Results\n&amp;quot; );&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">419 &lt;span id=&quot;cb21-37&quot;&gt;&lt;a href=&quot;#cb21-37&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Solve least squares problem*/&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">420 &lt;span id=&quot;cb21-38&quot;&gt;&lt;a href=&quot;#cb21-38&quot;&gt;&lt;/a&gt;            info = &lt;span class=&quot;fu&quot;&gt;LAPACKE_dgels&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;LAPACK_COL_MAJOR&lt;/span&gt;(), (&lt;span class=&quot;dt&quot;&gt;byte&lt;/span&gt;)&lt;span class=&quot;ch&quot;&gt;&amp;#39;N&amp;#39;&lt;/span&gt;, m, n, nrhs, A, lda, b, ldb);&lt;/span&gt;</span>
<span class="line-modified">421 &lt;span id=&quot;cb21-39&quot;&gt;&lt;a href=&quot;#cb21-39&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">422 &lt;span id=&quot;cb21-40&quot;&gt;&lt;a href=&quot;#cb21-40&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Print Solution */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">423 &lt;span id=&quot;cb21-41&quot;&gt;&lt;a href=&quot;#cb21-41&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Solution&amp;quot;&lt;/span&gt;, n, nrhs, b, ldb );&lt;/span&gt;</span>
<span class="line-modified">424 &lt;span id=&quot;cb21-42&quot;&gt;&lt;a href=&quot;#cb21-42&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">425 &lt;span id=&quot;cb21-43&quot;&gt;&lt;a href=&quot;#cb21-43&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;exit&lt;/span&gt;(info);&lt;/span&gt;</span>
<span class="line-modified">426 &lt;span id=&quot;cb21-44&quot;&gt;&lt;a href=&quot;#cb21-44&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-modified">427 &lt;span id=&quot;cb21-45&quot;&gt;&lt;a href=&quot;#cb21-45&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-modified">428 &lt;span id=&quot;cb21-46&quot;&gt;&lt;a href=&quot;#cb21-46&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">429 &lt;span id=&quot;cb21-47&quot;&gt;&lt;a href=&quot;#cb21-47&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; msg, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; m, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; n, MemoryAddress mat, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; ldm) {&lt;/span&gt;</span>
<span class="line-modified">430 &lt;span id=&quot;cb21-48&quot;&gt;&lt;a href=&quot;#cb21-48&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; i, j;&lt;/span&gt;</span>
<span class="line-modified">431 &lt;span id=&quot;cb21-49&quot;&gt;&lt;a href=&quot;#cb21-49&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, msg);&lt;/span&gt;</span>
<span class="line-modified">432 &lt;span id=&quot;cb21-50&quot;&gt;&lt;a href=&quot;#cb21-50&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">433 &lt;span id=&quot;cb21-51&quot;&gt;&lt;a href=&quot;#cb21-51&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt;( i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; m; i++ ) {&lt;/span&gt;</span>
<span class="line-modified">434 &lt;span id=&quot;cb21-52&quot;&gt;&lt;a href=&quot;#cb21-52&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt;( j = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; j &amp;lt; n; j++ ) &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot; &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%6.2f&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getDoubleAtIndex&lt;/span&gt;(mat, i+j*ldm));&lt;/span&gt;</span>
<span class="line-modified">435 &lt;span id=&quot;cb21-53&quot;&gt;&lt;a href=&quot;#cb21-53&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;( &lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt; );&lt;/span&gt;</span>
<span class="line-modified">436 &lt;span id=&quot;cb21-54&quot;&gt;&lt;a href=&quot;#cb21-54&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-modified">437 &lt;span id=&quot;cb21-55&quot;&gt;&lt;a href=&quot;#cb21-55&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-modified">438 &lt;span id=&quot;cb21-56&quot;&gt;&lt;a href=&quot;#cb21-56&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>

439 &lt;h3 id=&quot;compiling-and-running-the-above-lapack-sample&quot;&gt;Compiling and running the above LAPACK sample&lt;/h3&gt;
440 &lt;div class=&quot;sourceCode&quot; id=&quot;cb22&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb22-1&quot;&gt;&lt;a href=&quot;#cb22-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
441 &lt;span id=&quot;cb22-2&quot;&gt;&lt;a href=&quot;#cb22-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit \&lt;/span&gt;
442 &lt;span id=&quot;cb22-3&quot;&gt;&lt;a href=&quot;#cb22-3&quot;&gt;&lt;/a&gt;    --add-modules jdk.incubator.foreign \&lt;/span&gt;
443 &lt;span id=&quot;cb22-4&quot;&gt;&lt;a href=&quot;#cb22-4&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/local/opt/lapack/lib \&lt;/span&gt;
444 &lt;span id=&quot;cb22-5&quot;&gt;&lt;a href=&quot;#cb22-5&quot;&gt;&lt;/a&gt;    TestLapack.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
445 &lt;h2 id=&quot;using-libproc-library-to-list-processes-from-java-mac-os&quot;&gt;Using libproc library to list processes from Java (Mac OS)&lt;/h2&gt;
446 &lt;h3 id=&quot;jextract-libproc.h&quot;&gt;jextract libproc.h&lt;/h3&gt;
447 &lt;div class=&quot;sourceCode&quot; id=&quot;cb23&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb23-1&quot;&gt;&lt;a href=&quot;#cb23-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
448 &lt;span id=&quot;cb23-2&quot;&gt;&lt;a href=&quot;#cb23-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
449 &lt;span id=&quot;cb23-3&quot;&gt;&lt;a href=&quot;#cb23-3&quot;&gt;&lt;/a&gt;  -t org.unix \&lt;/span&gt;
450 &lt;span id=&quot;cb23-4&quot;&gt;&lt;a href=&quot;#cb23-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
451 &lt;span id=&quot;cb23-5&quot;&gt;&lt;a href=&quot;#cb23-5&quot;&gt;&lt;/a&gt;  --filter libproc.h \&lt;/span&gt;
452 &lt;span id=&quot;cb23-6&quot;&gt;&lt;a href=&quot;#cb23-6&quot;&gt;&lt;/a&gt;  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/libproc.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
453 &lt;h3 id=&quot;java-program-that-uses-libproc-to-list-processes&quot;&gt;Java program that uses libproc to list processes&lt;/h3&gt;
454 &lt;div class=&quot;sourceCode&quot; id=&quot;cb24&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb24-1&quot;&gt;&lt;a href=&quot;#cb24-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
455 &lt;span id=&quot;cb24-2&quot;&gt;&lt;a href=&quot;#cb24-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport;&lt;/span&gt;&lt;/span&gt;
456 &lt;span id=&quot;cb24-3&quot;&gt;&lt;a href=&quot;#cb24-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemorySegment;&lt;/span&gt;&lt;/span&gt;
457 &lt;span id=&quot;cb24-4&quot;&gt;&lt;a href=&quot;#cb24-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;
458 &lt;span id=&quot;cb24-5&quot;&gt;&lt;a href=&quot;#cb24-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.*;&lt;/span&gt;&lt;/span&gt;
459 &lt;span id=&quot;cb24-6&quot;&gt;&lt;a href=&quot;#cb24-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;
460 &lt;span id=&quot;cb24-7&quot;&gt;&lt;a href=&quot;#cb24-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.libproc_h.*;&lt;/span&gt;&lt;/span&gt;
461 &lt;span id=&quot;cb24-8&quot;&gt;&lt;a href=&quot;#cb24-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;
462 &lt;span id=&quot;cb24-9&quot;&gt;&lt;a href=&quot;#cb24-9&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; LibprocMain {&lt;/span&gt;
463 &lt;span id=&quot;cb24-10&quot;&gt;&lt;a href=&quot;#cb24-10&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; NAME_BUF_MAX = &lt;span class=&quot;dv&quot;&gt;256&lt;/span&gt;;&lt;/span&gt;
464 &lt;span id=&quot;cb24-11&quot;&gt;&lt;a href=&quot;#cb24-11&quot;&gt;&lt;/a&gt;&lt;/span&gt;
465 &lt;span id=&quot;cb24-12&quot;&gt;&lt;a href=&quot;#cb24-12&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
466 &lt;span id=&quot;cb24-13&quot;&gt;&lt;a href=&quot;#cb24-13&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;
467 &lt;span id=&quot;cb24-14&quot;&gt;&lt;a href=&quot;#cb24-14&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// get the number of processes&lt;/span&gt;&lt;/span&gt;
468 &lt;span id=&quot;cb24-15&quot;&gt;&lt;a href=&quot;#cb24-15&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; numPids = &lt;span class=&quot;fu&quot;&gt;proc_listallpids&lt;/span&gt;(NULL, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;
469 &lt;span id=&quot;cb24-16&quot;&gt;&lt;a href=&quot;#cb24-16&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// allocate an array&lt;/span&gt;&lt;/span&gt;
470 &lt;span id=&quot;cb24-17&quot;&gt;&lt;a href=&quot;#cb24-17&quot;&gt;&lt;/a&gt;            var pids = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(CSupport.&lt;span class=&quot;fu&quot;&gt;C_INT&lt;/span&gt;, numPids);&lt;/span&gt;
471 &lt;span id=&quot;cb24-18&quot;&gt;&lt;a href=&quot;#cb24-18&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// list all the pids into the native array&lt;/span&gt;&lt;/span&gt;
472 &lt;span id=&quot;cb24-19&quot;&gt;&lt;a href=&quot;#cb24-19&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;proc_listallpids&lt;/span&gt;(pids, numPids);&lt;/span&gt;
473 &lt;span id=&quot;cb24-20&quot;&gt;&lt;a href=&quot;#cb24-20&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// convert native array to java array&lt;/span&gt;&lt;/span&gt;
<span class="line-modified">474 &lt;span id=&quot;cb24-21&quot;&gt;&lt;a href=&quot;#cb24-21&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;[] jpids = pids.&lt;span class=&quot;fu&quot;&gt;segment&lt;/span&gt;().&lt;span class=&quot;fu&quot;&gt;toIntArray&lt;/span&gt;();&lt;/span&gt;</span>
475 &lt;span id=&quot;cb24-22&quot;&gt;&lt;a href=&quot;#cb24-22&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// buffer for process name&lt;/span&gt;&lt;/span&gt;
476 &lt;span id=&quot;cb24-23&quot;&gt;&lt;a href=&quot;#cb24-23&quot;&gt;&lt;/a&gt;            var nameBuf = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(CSupport.&lt;span class=&quot;fu&quot;&gt;C_CHAR&lt;/span&gt;, NAME_BUF_MAX);&lt;/span&gt;
477 &lt;span id=&quot;cb24-24&quot;&gt;&lt;a href=&quot;#cb24-24&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; jpids.&lt;span class=&quot;fu&quot;&gt;length&lt;/span&gt;; i++) {&lt;/span&gt;
478 &lt;span id=&quot;cb24-25&quot;&gt;&lt;a href=&quot;#cb24-25&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; pid = jpids[i];&lt;/span&gt;
479 &lt;span id=&quot;cb24-26&quot;&gt;&lt;a href=&quot;#cb24-26&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;co&quot;&gt;// get the process name&lt;/span&gt;&lt;/span&gt;
480 &lt;span id=&quot;cb24-27&quot;&gt;&lt;a href=&quot;#cb24-27&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;proc_name&lt;/span&gt;(pid, nameBuf, NAME_BUF_MAX);&lt;/span&gt;
481 &lt;span id=&quot;cb24-28&quot;&gt;&lt;a href=&quot;#cb24-28&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; procName = CSupport.&lt;span class=&quot;fu&quot;&gt;toJavaString&lt;/span&gt;(nameBuf);&lt;/span&gt;
482 &lt;span id=&quot;cb24-29&quot;&gt;&lt;a href=&quot;#cb24-29&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;co&quot;&gt;// print pid and process name&lt;/span&gt;&lt;/span&gt;
483 &lt;span id=&quot;cb24-30&quot;&gt;&lt;a href=&quot;#cb24-30&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%d&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, pid, procName);&lt;/span&gt;
484 &lt;span id=&quot;cb24-31&quot;&gt;&lt;a href=&quot;#cb24-31&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;
485 &lt;span id=&quot;cb24-32&quot;&gt;&lt;a href=&quot;#cb24-32&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
486 &lt;span id=&quot;cb24-33&quot;&gt;&lt;a href=&quot;#cb24-33&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
487 &lt;span id=&quot;cb24-34&quot;&gt;&lt;a href=&quot;#cb24-34&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
488 &lt;h3 id=&quot;compiling-and-running-the-libproc-sample&quot;&gt;Compiling and running the libproc sample&lt;/h3&gt;
489 &lt;div class=&quot;sourceCode&quot; id=&quot;cb25&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb25-1&quot;&gt;&lt;a href=&quot;#cb25-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
490 &lt;span id=&quot;cb25-2&quot;&gt;&lt;a href=&quot;#cb25-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit \&lt;/span&gt;
491 &lt;span id=&quot;cb25-3&quot;&gt;&lt;a href=&quot;#cb25-3&quot;&gt;&lt;/a&gt;    --add-modules jdk.incubator.foreign \&lt;/span&gt;
492 &lt;span id=&quot;cb25-4&quot;&gt;&lt;a href=&quot;#cb25-4&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/lib LibprocMain.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
493 &lt;h2 id=&quot;using-libgit2-from-java-mac-os&quot;&gt;Using libgit2 from Java (Mac OS)&lt;/h2&gt;
494 &lt;h3 id=&quot;getting-and-building-libgit2&quot;&gt;Getting and building libgit2&lt;/h3&gt;
</pre>
<hr />
<pre>
599 &lt;span id=&quot;cb31-49&quot;&gt;&lt;a href=&quot;#cb31-49&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;INSERT INTO EMPLOYEE (ID,NAME,SALARY) &amp;quot;&lt;/span&gt; +&lt;/span&gt;
600 &lt;span id=&quot;cb31-50&quot;&gt;&lt;a href=&quot;#cb31-50&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;st&quot;&gt;&amp;quot;VALUES (134, &amp;#39;Xyz&amp;#39;, 200000.0); &amp;quot;&lt;/span&gt; +&lt;/span&gt;
601 &lt;span id=&quot;cb31-51&quot;&gt;&lt;a href=&quot;#cb31-51&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;INSERT INTO EMPLOYEE (ID,NAME,SALARY) &amp;quot;&lt;/span&gt; +&lt;/span&gt;
602 &lt;span id=&quot;cb31-52&quot;&gt;&lt;a href=&quot;#cb31-52&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;st&quot;&gt;&amp;quot;VALUES (333, &amp;#39;Abc&amp;#39;, 100000.0);&amp;quot;&lt;/span&gt;, scope&lt;/span&gt;
603 &lt;span id=&quot;cb31-53&quot;&gt;&lt;a href=&quot;#cb31-53&quot;&gt;&lt;/a&gt;            );&lt;/span&gt;
604 &lt;span id=&quot;cb31-54&quot;&gt;&lt;a href=&quot;#cb31-54&quot;&gt;&lt;/a&gt;            rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_exec&lt;/span&gt;(dbPtr, sql, NULL, NULL, errMsgPtrPtr);&lt;/span&gt;
605 &lt;span id=&quot;cb31-55&quot;&gt;&lt;a href=&quot;#cb31-55&quot;&gt;&lt;/a&gt;&lt;/span&gt;
606 &lt;span id=&quot;cb31-56&quot;&gt;&lt;a href=&quot;#cb31-56&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;
607 &lt;span id=&quot;cb31-57&quot;&gt;&lt;a href=&quot;#cb31-57&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_exec failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;
608 &lt;span id=&quot;cb31-58&quot;&gt;&lt;a href=&quot;#cb31-58&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SQL error: &amp;quot;&lt;/span&gt; + &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr)));&lt;/span&gt;
609 &lt;span id=&quot;cb31-59&quot;&gt;&lt;a href=&quot;#cb31-59&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;sqlite3_free&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr));&lt;/span&gt;
610 &lt;span id=&quot;cb31-60&quot;&gt;&lt;a href=&quot;#cb31-60&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;
611 &lt;span id=&quot;cb31-61&quot;&gt;&lt;a href=&quot;#cb31-61&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;rows inserted&amp;quot;&lt;/span&gt;);&lt;/span&gt;
612 &lt;span id=&quot;cb31-62&quot;&gt;&lt;a href=&quot;#cb31-62&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;
613 &lt;span id=&quot;cb31-63&quot;&gt;&lt;a href=&quot;#cb31-63&quot;&gt;&lt;/a&gt;&lt;/span&gt;
614 &lt;span id=&quot;cb31-64&quot;&gt;&lt;a href=&quot;#cb31-64&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;[] rowNum = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;];&lt;/span&gt;
615 &lt;span id=&quot;cb31-65&quot;&gt;&lt;a href=&quot;#cb31-65&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// callback to print rows from SELECT query&lt;/span&gt;&lt;/span&gt;
616 &lt;span id=&quot;cb31-66&quot;&gt;&lt;a href=&quot;#cb31-66&quot;&gt;&lt;/a&gt;            var callback = sqlite3_exec$callback.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;((a, argc, argv, columnNames) -&amp;gt; {&lt;/span&gt;
617 &lt;span id=&quot;cb31-67&quot;&gt;&lt;a href=&quot;#cb31-67&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Row num: &amp;quot;&lt;/span&gt; + rowNum[&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;]++);&lt;/span&gt;
618 &lt;span id=&quot;cb31-68&quot;&gt;&lt;a href=&quot;#cb31-68&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;numColumns = &amp;quot;&lt;/span&gt; + argc);&lt;/span&gt;
<span class="line-modified">619 &lt;span id=&quot;cb31-69&quot;&gt;&lt;a href=&quot;#cb31-69&quot;&gt;&lt;/a&gt;                argv = &lt;span class=&quot;fu&quot;&gt;asArrayRestricted&lt;/span&gt;(argv, C_POINTER, argc);&lt;/span&gt;</span>
<span class="line-modified">620 &lt;span id=&quot;cb31-70&quot;&gt;&lt;a href=&quot;#cb31-70&quot;&gt;&lt;/a&gt;                columnNames = &lt;span class=&quot;fu&quot;&gt;asArrayRestricted&lt;/span&gt;(columnNames, C_POINTER, argc);&lt;/span&gt;</span>
621 &lt;span id=&quot;cb31-71&quot;&gt;&lt;a href=&quot;#cb31-71&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; argc; i++) {&lt;/span&gt;
<span class="line-modified">622 &lt;span id=&quot;cb31-72&quot;&gt;&lt;a href=&quot;#cb31-72&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; name = &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddressAtIndex&lt;/span&gt;(columnNames, i));&lt;/span&gt;</span>
<span class="line-modified">623 &lt;span id=&quot;cb31-73&quot;&gt;&lt;a href=&quot;#cb31-73&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; value = &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddressAtIndex&lt;/span&gt;(argv, i));&lt;/span&gt;</span>
624 &lt;span id=&quot;cb31-74&quot;&gt;&lt;a href=&quot;#cb31-74&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, name, value);&lt;/span&gt;
625 &lt;span id=&quot;cb31-75&quot;&gt;&lt;a href=&quot;#cb31-75&quot;&gt;&lt;/a&gt;                }&lt;/span&gt;
626 &lt;span id=&quot;cb31-76&quot;&gt;&lt;a href=&quot;#cb31-76&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;
627 &lt;span id=&quot;cb31-77&quot;&gt;&lt;a href=&quot;#cb31-77&quot;&gt;&lt;/a&gt;            }, scope);&lt;/span&gt;
628 &lt;span id=&quot;cb31-78&quot;&gt;&lt;a href=&quot;#cb31-78&quot;&gt;&lt;/a&gt;&lt;/span&gt;
629 &lt;span id=&quot;cb31-79&quot;&gt;&lt;a href=&quot;#cb31-79&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// select query&lt;/span&gt;&lt;/span&gt;
630 &lt;span id=&quot;cb31-80&quot;&gt;&lt;a href=&quot;#cb31-80&quot;&gt;&lt;/a&gt;            sql = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SELECT * FROM EMPLOYEE&amp;quot;&lt;/span&gt;, scope);&lt;/span&gt;
631 &lt;span id=&quot;cb31-81&quot;&gt;&lt;a href=&quot;#cb31-81&quot;&gt;&lt;/a&gt;            rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_exec&lt;/span&gt;(dbPtr, sql, callback, NULL, errMsgPtrPtr);&lt;/span&gt;
632 &lt;span id=&quot;cb31-82&quot;&gt;&lt;a href=&quot;#cb31-82&quot;&gt;&lt;/a&gt;&lt;/span&gt;
633 &lt;span id=&quot;cb31-83&quot;&gt;&lt;a href=&quot;#cb31-83&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;
634 &lt;span id=&quot;cb31-84&quot;&gt;&lt;a href=&quot;#cb31-84&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_exec failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;
635 &lt;span id=&quot;cb31-85&quot;&gt;&lt;a href=&quot;#cb31-85&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SQL error: &amp;quot;&lt;/span&gt; + &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr)));&lt;/span&gt;
636 &lt;span id=&quot;cb31-86&quot;&gt;&lt;a href=&quot;#cb31-86&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;sqlite3_free&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr));&lt;/span&gt;
637 &lt;span id=&quot;cb31-87&quot;&gt;&lt;a href=&quot;#cb31-87&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;
638 &lt;span id=&quot;cb31-88&quot;&gt;&lt;a href=&quot;#cb31-88&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;done&amp;quot;&lt;/span&gt;);&lt;/span&gt;
639 &lt;span id=&quot;cb31-89&quot;&gt;&lt;a href=&quot;#cb31-89&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;
640 &lt;span id=&quot;cb31-90&quot;&gt;&lt;a href=&quot;#cb31-90&quot;&gt;&lt;/a&gt;&lt;/span&gt;
641 &lt;span id=&quot;cb31-91&quot;&gt;&lt;a href=&quot;#cb31-91&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;sqlite3_close&lt;/span&gt;(dbPtr);&lt;/span&gt;
642 &lt;span id=&quot;cb31-92&quot;&gt;&lt;a href=&quot;#cb31-92&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
643 &lt;span id=&quot;cb31-93&quot;&gt;&lt;a href=&quot;#cb31-93&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
644 &lt;span id=&quot;cb31-94&quot;&gt;&lt;a href=&quot;#cb31-94&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
645 &lt;h3 id=&quot;compiling-and-running-the-sqlite3-sample&quot;&gt;Compiling and running the sqlite3 sample&lt;/h3&gt;
646 &lt;div class=&quot;sourceCode&quot; id=&quot;cb32&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb32-1&quot;&gt;&lt;a href=&quot;#cb32-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
647 &lt;span id=&quot;cb32-2&quot;&gt;&lt;a href=&quot;#cb32-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit \&lt;/span&gt;
648 &lt;span id=&quot;cb32-3&quot;&gt;&lt;a href=&quot;#cb32-3&quot;&gt;&lt;/a&gt;   --add-modules jdk.incubator.foreign \&lt;/span&gt;
649 &lt;span id=&quot;cb32-4&quot;&gt;&lt;a href=&quot;#cb32-4&quot;&gt;&lt;/a&gt;   -Djava.library.path=/usr/lib SqliteMain.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;






































































650 &lt;/body&gt;
651 &lt;/html&gt;
</pre>
</td>
<td>
<hr />
<pre>
131 &lt;li&gt;&lt;a href=&quot;#using-libproc-library-to-list-processes-from-java-mac-os&quot;&gt;Using libproc library to list processes from Java (Mac OS)&lt;/a&gt;
132 &lt;ul&gt;
133 &lt;li&gt;&lt;a href=&quot;#jextract-libproc.h&quot;&gt;jextract libproc.h&lt;/a&gt;&lt;/li&gt;
134 &lt;li&gt;&lt;a href=&quot;#java-program-that-uses-libproc-to-list-processes&quot;&gt;Java program that uses libproc to list processes&lt;/a&gt;&lt;/li&gt;
135 &lt;li&gt;&lt;a href=&quot;#compiling-and-running-the-libproc-sample&quot;&gt;Compiling and running the libproc sample&lt;/a&gt;&lt;/li&gt;
136 &lt;/ul&gt;&lt;/li&gt;
137 &lt;li&gt;&lt;a href=&quot;#using-libgit2-from-java-mac-os&quot;&gt;Using libgit2 from Java (Mac OS)&lt;/a&gt;
138 &lt;ul&gt;
139 &lt;li&gt;&lt;a href=&quot;#getting-and-building-libgit2&quot;&gt;Getting and building libgit2&lt;/a&gt;&lt;/li&gt;
140 &lt;li&gt;&lt;a href=&quot;#jextract-git2.h&quot;&gt;jextract git2.h&lt;/a&gt;&lt;/li&gt;
141 &lt;li&gt;&lt;a href=&quot;#java-program-that-uses-libgit2-to-clone-github-repo&quot;&gt;Java program that uses libgit2 to clone github repo&lt;/a&gt;&lt;/li&gt;
142 &lt;li&gt;&lt;a href=&quot;#compiling-and-running-the-libgit2-sample&quot;&gt;Compiling and running the libgit2 sample&lt;/a&gt;&lt;/li&gt;
143 &lt;li&gt;&lt;a href=&quot;#cloning-a-github-repo-using-the-above-run.sh-command&quot;&gt;Cloning a github repo using the above run.sh command&lt;/a&gt;&lt;/li&gt;
144 &lt;/ul&gt;&lt;/li&gt;
145 &lt;li&gt;&lt;a href=&quot;#using-sqlite3-library-from-java-mac-os&quot;&gt;Using sqlite3 library from Java (Mac OS)&lt;/a&gt;
146 &lt;ul&gt;
147 &lt;li&gt;&lt;a href=&quot;#jextract-sqlite3.h&quot;&gt;jextract sqlite3.h&lt;/a&gt;&lt;/li&gt;
148 &lt;li&gt;&lt;a href=&quot;#java-program-that-uses-sqlite3&quot;&gt;Java program that uses sqlite3&lt;/a&gt;&lt;/li&gt;
149 &lt;li&gt;&lt;a href=&quot;#compiling-and-running-the-sqlite3-sample&quot;&gt;Compiling and running the sqlite3 sample&lt;/a&gt;&lt;/li&gt;
150 &lt;/ul&gt;&lt;/li&gt;
<span class="line-added">151 &lt;li&gt;&lt;a href=&quot;#using-opengl-library-from-java-mac-os&quot;&gt;Using OpenGL library from Java (Mac OS)&lt;/a&gt;</span>
<span class="line-added">152 &lt;ul&gt;</span>
<span class="line-added">153 &lt;li&gt;&lt;a href=&quot;#jextract-glut.h&quot;&gt;jextract glut.h&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-added">154 &lt;li&gt;&lt;a href=&quot;#java-program-that-uses-opengl&quot;&gt;Java program that uses OpenGL&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-added">155 &lt;li&gt;&lt;a href=&quot;#compiling-and-running-the-opengl-sample&quot;&gt;Compiling and running the OpenGL sample&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-added">156 &lt;/ul&gt;&lt;/li&gt;</span>
157 &lt;/ul&gt;&lt;/li&gt;
158 &lt;/ul&gt;
159 &lt;/nav&gt;
160 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
161 &lt;h1 id=&quot;using-panama-foreign-jextract-jdk&quot;&gt;Using Panama &quot;foreign-jextract&quot; JDK&lt;/h1&gt;
162 &lt;p&gt;You can build &quot;foreign-jextract&quot; branch of panama repo &lt;a href=&quot;https://github.com/openjdk/panama-foreign&quot;&gt;https://github.com/openjdk/panama-foreign&lt;/a&gt;&lt;/p&gt;
163 &lt;p&gt;Using foreign function call in Java involves the following two steps:&lt;/p&gt;
164 &lt;ol type=&quot;1&quot;&gt;
165 &lt;li&gt;Use &lt;strong&gt;jextract&lt;/strong&gt; tool to generate java interface for your C header file(s)&lt;/li&gt;
166 &lt;li&gt;Invoke C functions via the jextracted Java interface&lt;/li&gt;
167 &lt;/ol&gt;
168 &lt;h2 id=&quot;hello-world&quot;&gt;Hello World&lt;/h2&gt;
169 &lt;h3 id=&quot;hello-world-c-header-helloworld.h&quot;&gt;Hello World C Header (helloworld.h)&lt;/h3&gt;
170 &lt;div class=&quot;sourceCode&quot; id=&quot;cb1&quot;&gt;&lt;pre class=&quot;sourceCode c&quot;&gt;&lt;code class=&quot;sourceCode c&quot;&gt;&lt;span id=&quot;cb1-1&quot;&gt;&lt;a href=&quot;#cb1-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
171 &lt;span id=&quot;cb1-2&quot;&gt;&lt;a href=&quot;#cb1-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;pp&quot;&gt;#ifndef helloworld_h&lt;/span&gt;&lt;/span&gt;
172 &lt;span id=&quot;cb1-3&quot;&gt;&lt;a href=&quot;#cb1-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;pp&quot;&gt;#define helloworld_h&lt;/span&gt;&lt;/span&gt;
173 &lt;span id=&quot;cb1-4&quot;&gt;&lt;a href=&quot;#cb1-4&quot;&gt;&lt;/a&gt;&lt;/span&gt;
174 &lt;span id=&quot;cb1-5&quot;&gt;&lt;a href=&quot;#cb1-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; helloworld(&lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt;);&lt;/span&gt;
175 &lt;span id=&quot;cb1-6&quot;&gt;&lt;a href=&quot;#cb1-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;
176 &lt;span id=&quot;cb1-7&quot;&gt;&lt;a href=&quot;#cb1-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;pp&quot;&gt;#endif &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;/* helloworld_h */&lt;/span&gt;&lt;/span&gt;
</pre>
<hr />
<pre>
196 &lt;span id=&quot;cb5-3&quot;&gt;&lt;a href=&quot;#cb5-3&quot;&gt;&lt;/a&gt;&lt;/span&gt;
197 &lt;span id=&quot;cb5-4&quot;&gt;&lt;a href=&quot;#cb5-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; HelloWorld {&lt;/span&gt;
198 &lt;span id=&quot;cb5-5&quot;&gt;&lt;a href=&quot;#cb5-5&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
199 &lt;span id=&quot;cb5-6&quot;&gt;&lt;a href=&quot;#cb5-6&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;helloworld&lt;/span&gt;();&lt;/span&gt;
200 &lt;span id=&quot;cb5-7&quot;&gt;&lt;a href=&quot;#cb5-7&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
201 &lt;span id=&quot;cb5-8&quot;&gt;&lt;a href=&quot;#cb5-8&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
202 &lt;h3 id=&quot;running-the-java-code-that-invokes-helloworld&quot;&gt;Running the Java code that invokes helloworld&lt;/h3&gt;
203 &lt;div class=&quot;sourceCode&quot; id=&quot;cb6&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb6-1&quot;&gt;&lt;a href=&quot;#cb6-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
204 &lt;span id=&quot;cb6-2&quot;&gt;&lt;a href=&quot;#cb6-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign HelloWorld.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
205 &lt;h2 id=&quot;embedding-python-interpreter-in-your-java-program-mac-os&quot;&gt;Embedding Python interpreter in your Java program (Mac OS)&lt;/h2&gt;
206 &lt;h3 id=&quot;jextract-python.h&quot;&gt;jextract Python.h&lt;/h3&gt;
207 &lt;div class=&quot;sourceCode&quot; id=&quot;cb7&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb7-1&quot;&gt;&lt;a href=&quot;#cb7-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
208 &lt;span id=&quot;cb7-2&quot;&gt;&lt;a href=&quot;#cb7-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
209 &lt;span id=&quot;cb7-3&quot;&gt;&lt;a href=&quot;#cb7-3&quot;&gt;&lt;/a&gt;  -l python2.7 \&lt;/span&gt;
210 &lt;span id=&quot;cb7-4&quot;&gt;&lt;a href=&quot;#cb7-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
211 &lt;span id=&quot;cb7-5&quot;&gt;&lt;a href=&quot;#cb7-5&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/python2.7/ \&lt;/span&gt;
212 &lt;span id=&quot;cb7-6&quot;&gt;&lt;a href=&quot;#cb7-6&quot;&gt;&lt;/a&gt;  -t org.python \&lt;/span&gt;
213 &lt;span id=&quot;cb7-7&quot;&gt;&lt;a href=&quot;#cb7-7&quot;&gt;&lt;/a&gt;   /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/python2.7/Python.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
214 &lt;h3 id=&quot;java-program-that-uses-extracted-python-interface&quot;&gt;Java program that uses extracted Python interface&lt;/h3&gt;
215 &lt;div class=&quot;sourceCode&quot; id=&quot;cb8&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb8-1&quot;&gt;&lt;a href=&quot;#cb8-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
<span class="line-modified">216 &lt;span id=&quot;cb8-2&quot;&gt;&lt;a href=&quot;#cb8-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">217 &lt;span id=&quot;cb8-3&quot;&gt;&lt;a href=&quot;#cb8-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">218 &lt;span id=&quot;cb8-4&quot;&gt;&lt;a href=&quot;#cb8-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;// import jextracted python &amp;#39;header&amp;#39; class&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">219 &lt;span id=&quot;cb8-5&quot;&gt;&lt;a href=&quot;#cb8-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.python.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">220 &lt;span id=&quot;cb8-6&quot;&gt;&lt;a href=&quot;#cb8-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.python.Python_h.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">221 &lt;span id=&quot;cb8-7&quot;&gt;&lt;a href=&quot;#cb8-7&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">222 &lt;span id=&quot;cb8-8&quot;&gt;&lt;a href=&quot;#cb8-8&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; PythonMain {&lt;/span&gt;</span>
<span class="line-modified">223 &lt;span id=&quot;cb8-9&quot;&gt;&lt;a href=&quot;#cb8-9&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-modified">224 &lt;span id=&quot;cb8-10&quot;&gt;&lt;a href=&quot;#cb8-10&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; script = &lt;span class=&quot;st&quot;&gt;&amp;quot;print(sum([33, 55, 66])); print(&amp;#39;Hello from Python!&amp;#39;)&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">225 &lt;span id=&quot;cb8-11&quot;&gt;&lt;a href=&quot;#cb8-11&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">226 &lt;span id=&quot;cb8-12&quot;&gt;&lt;a href=&quot;#cb8-12&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;Py_Initialize&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">227 &lt;span id=&quot;cb8-13&quot;&gt;&lt;a href=&quot;#cb8-13&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var str = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(script)) {&lt;/span&gt;</span>
<span class="line-modified">228 &lt;span id=&quot;cb8-14&quot;&gt;&lt;a href=&quot;#cb8-14&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;PyRun_SimpleStringFlags&lt;/span&gt;(str, NULL);&lt;/span&gt;</span>
<span class="line-modified">229 &lt;span id=&quot;cb8-15&quot;&gt;&lt;a href=&quot;#cb8-15&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;Py_Finalize&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">230 &lt;span id=&quot;cb8-16&quot;&gt;&lt;a href=&quot;#cb8-16&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-modified">231 &lt;span id=&quot;cb8-17&quot;&gt;&lt;a href=&quot;#cb8-17&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-modified">232 &lt;span id=&quot;cb8-18&quot;&gt;&lt;a href=&quot;#cb8-18&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>


233 &lt;h3 id=&quot;running-the-java-code-that-calls-python-interpreter&quot;&gt;Running the Java code that calls Python interpreter&lt;/h3&gt;
234 &lt;div class=&quot;sourceCode&quot; id=&quot;cb9&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb9-1&quot;&gt;&lt;a href=&quot;#cb9-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
235 &lt;span id=&quot;cb9-2&quot;&gt;&lt;a href=&quot;#cb9-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;
236 &lt;span id=&quot;cb9-3&quot;&gt;&lt;a href=&quot;#cb9-3&quot;&gt;&lt;/a&gt;    -Djava.library.path=/System/Library/Frameworks/Python.framework/Versions/2.7/lib \&lt;/span&gt;
237 &lt;span id=&quot;cb9-4&quot;&gt;&lt;a href=&quot;#cb9-4&quot;&gt;&lt;/a&gt;    PythonMain.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
238 &lt;h2 id=&quot;using-readline-library-from-java-code-mac-os&quot;&gt;Using readline library from Java code (Mac OS)&lt;/h2&gt;
239 &lt;h3 id=&quot;jextract-readline.h&quot;&gt;jextract readline.h&lt;/h3&gt;
240 &lt;div class=&quot;sourceCode&quot; id=&quot;cb10&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb10-1&quot;&gt;&lt;a href=&quot;#cb10-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
241 &lt;span id=&quot;cb10-2&quot;&gt;&lt;a href=&quot;#cb10-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
242 &lt;span id=&quot;cb10-3&quot;&gt;&lt;a href=&quot;#cb10-3&quot;&gt;&lt;/a&gt;  -l readline -t org.unix \&lt;/span&gt;
243 &lt;span id=&quot;cb10-4&quot;&gt;&lt;a href=&quot;#cb10-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
244 &lt;span id=&quot;cb10-5&quot;&gt;&lt;a href=&quot;#cb10-5&quot;&gt;&lt;/a&gt;   /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/readline/readline.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
245 &lt;h3 id=&quot;java-code-that-uses-readline&quot;&gt;Java code that uses readline&lt;/h3&gt;
246 &lt;div class=&quot;sourceCode&quot; id=&quot;cb11&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb11-1&quot;&gt;&lt;a href=&quot;#cb11-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
247 &lt;span id=&quot;cb11-2&quot;&gt;&lt;a href=&quot;#cb11-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;
248 &lt;span id=&quot;cb11-3&quot;&gt;&lt;a href=&quot;#cb11-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.readline_h.*;&lt;/span&gt;&lt;/span&gt;
249 &lt;span id=&quot;cb11-4&quot;&gt;&lt;a href=&quot;#cb11-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;
250 &lt;span id=&quot;cb11-5&quot;&gt;&lt;a href=&quot;#cb11-5&quot;&gt;&lt;/a&gt;&lt;/span&gt;
251 &lt;span id=&quot;cb11-6&quot;&gt;&lt;a href=&quot;#cb11-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; Readline {&lt;/span&gt;
252 &lt;span id=&quot;cb11-7&quot;&gt;&lt;a href=&quot;#cb11-7&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
<span class="line-modified">253 &lt;span id=&quot;cb11-8&quot;&gt;&lt;a href=&quot;#cb11-8&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var str = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;name? &amp;quot;&lt;/span&gt;)) {&lt;/span&gt;</span>
<span class="line-modified">254 &lt;span id=&quot;cb11-9&quot;&gt;&lt;a href=&quot;#cb11-9&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// call &amp;quot;readline&amp;quot; API&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">255 &lt;span id=&quot;cb11-10&quot;&gt;&lt;a href=&quot;#cb11-10&quot;&gt;&lt;/a&gt;            var p = &lt;span class=&quot;fu&quot;&gt;readline&lt;/span&gt;(str);&lt;/span&gt;</span>
<span class="line-modified">256 &lt;span id=&quot;cb11-11&quot;&gt;&lt;a href=&quot;#cb11-11&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">257 &lt;span id=&quot;cb11-12&quot;&gt;&lt;a href=&quot;#cb11-12&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// print char* as is&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">258 &lt;span id=&quot;cb11-13&quot;&gt;&lt;a href=&quot;#cb11-13&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(p);&lt;/span&gt;</span>
<span class="line-modified">259 &lt;span id=&quot;cb11-14&quot;&gt;&lt;a href=&quot;#cb11-14&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// convert char* ptr from readline as Java String &amp;amp; print it&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">260 &lt;span id=&quot;cb11-15&quot;&gt;&lt;a href=&quot;#cb11-15&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello, &amp;quot;&lt;/span&gt; + &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(p));&lt;/span&gt;</span>
<span class="line-modified">261 &lt;span id=&quot;cb11-16&quot;&gt;&lt;a href=&quot;#cb11-16&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-modified">262 &lt;span id=&quot;cb11-17&quot;&gt;&lt;a href=&quot;#cb11-17&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-modified">263 &lt;span id=&quot;cb11-18&quot;&gt;&lt;a href=&quot;#cb11-18&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>

264 &lt;h3 id=&quot;running-the-java-code-that-uses-readline&quot;&gt;Running the java code that uses readline&lt;/h3&gt;
265 &lt;pre&gt;&lt;code&gt;java -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \
266     -Djava.library.path=/usr/local/opt/readline/lib/ Readline.java
267 &lt;/code&gt;&lt;/pre&gt;
268 &lt;h2 id=&quot;using-libcurl-from-java-mac-os&quot;&gt;Using libcurl from Java (Mac OS)&lt;/h2&gt;
269 &lt;h3 id=&quot;jextract-curl.h&quot;&gt;jextract curl.h&lt;/h3&gt;
270 &lt;div class=&quot;sourceCode&quot; id=&quot;cb13&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb13-1&quot;&gt;&lt;a href=&quot;#cb13-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
271 &lt;span id=&quot;cb13-2&quot;&gt;&lt;a href=&quot;#cb13-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -t org.unix -lcurl \&lt;/span&gt;
272 &lt;span id=&quot;cb13-3&quot;&gt;&lt;a href=&quot;#cb13-3&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/ \&lt;/span&gt;
273 &lt;span id=&quot;cb13-4&quot;&gt;&lt;a href=&quot;#cb13-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/curl/ \&lt;/span&gt;
274 &lt;span id=&quot;cb13-5&quot;&gt;&lt;a href=&quot;#cb13-5&quot;&gt;&lt;/a&gt;  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/curl/curl.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
275 &lt;h3 id=&quot;java-code-that-uses-libcurl&quot;&gt;Java code that uses libcurl&lt;/h3&gt;
276 &lt;div class=&quot;sourceCode&quot; id=&quot;cb14&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb14-1&quot;&gt;&lt;a href=&quot;#cb14-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
<span class="line-modified">277 &lt;span id=&quot;cb14-2&quot;&gt;&lt;a href=&quot;#cb14-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">278 &lt;span id=&quot;cb14-3&quot;&gt;&lt;a href=&quot;#cb14-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.jextract.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">279 &lt;span id=&quot;cb14-4&quot;&gt;&lt;a href=&quot;#cb14-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.jextract.curl_h.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">280 &lt;span id=&quot;cb14-5&quot;&gt;&lt;a href=&quot;#cb14-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">281 &lt;span id=&quot;cb14-6&quot;&gt;&lt;a href=&quot;#cb14-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">282 &lt;span id=&quot;cb14-7&quot;&gt;&lt;a href=&quot;#cb14-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; CurlMain {&lt;/span&gt;</span>
<span class="line-modified">283 &lt;span id=&quot;cb14-8&quot;&gt;&lt;a href=&quot;#cb14-8&quot;&gt;&lt;/a&gt;   &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-modified">284 &lt;span id=&quot;cb14-9&quot;&gt;&lt;a href=&quot;#cb14-9&quot;&gt;&lt;/a&gt;       var urlStr = args[&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;];&lt;/span&gt;</span>
<span class="line-modified">285 &lt;span id=&quot;cb14-10&quot;&gt;&lt;a href=&quot;#cb14-10&quot;&gt;&lt;/a&gt;       &lt;span class=&quot;fu&quot;&gt;curl_global_init&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;CURL_GLOBAL_DEFAULT&lt;/span&gt;());&lt;/span&gt;</span>
<span class="line-modified">286 &lt;span id=&quot;cb14-11&quot;&gt;&lt;a href=&quot;#cb14-11&quot;&gt;&lt;/a&gt;       var curl = &lt;span class=&quot;fu&quot;&gt;curl_easy_init&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">287 &lt;span id=&quot;cb14-12&quot;&gt;&lt;a href=&quot;#cb14-12&quot;&gt;&lt;/a&gt;       &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt;(!curl.&lt;span class=&quot;fu&quot;&gt;equals&lt;/span&gt;(NULL)) {&lt;/span&gt;</span>
<span class="line-modified">288 &lt;span id=&quot;cb14-13&quot;&gt;&lt;a href=&quot;#cb14-13&quot;&gt;&lt;/a&gt;           &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var url = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(urlStr)) {&lt;/span&gt;</span>
<span class="line-modified">289 &lt;span id=&quot;cb14-14&quot;&gt;&lt;a href=&quot;#cb14-14&quot;&gt;&lt;/a&gt;               &lt;span class=&quot;fu&quot;&gt;curl_easy_setopt&lt;/span&gt;(curl, &lt;span class=&quot;fu&quot;&gt;CURLOPT_URL&lt;/span&gt;(), url.&lt;span class=&quot;fu&quot;&gt;address&lt;/span&gt;());&lt;/span&gt;</span>
<span class="line-modified">290 &lt;span id=&quot;cb14-15&quot;&gt;&lt;a href=&quot;#cb14-15&quot;&gt;&lt;/a&gt;               &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; res = &lt;span class=&quot;fu&quot;&gt;curl_easy_perform&lt;/span&gt;(curl);&lt;/span&gt;</span>
<span class="line-modified">291 &lt;span id=&quot;cb14-16&quot;&gt;&lt;a href=&quot;#cb14-16&quot;&gt;&lt;/a&gt;               &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (res != &lt;span class=&quot;fu&quot;&gt;CURLE_OK&lt;/span&gt;()) {&lt;/span&gt;</span>
<span class="line-modified">292 &lt;span id=&quot;cb14-17&quot;&gt;&lt;a href=&quot;#cb14-17&quot;&gt;&lt;/a&gt;                   &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; error = &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;curl_easy_strerror&lt;/span&gt;(res));&lt;/span&gt;</span>
<span class="line-modified">293 &lt;span id=&quot;cb14-18&quot;&gt;&lt;a href=&quot;#cb14-18&quot;&gt;&lt;/a&gt;                   &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Curl error: &amp;quot;&lt;/span&gt; + error);&lt;/span&gt;</span>
294 &lt;span id=&quot;cb14-19&quot;&gt;&lt;a href=&quot;#cb14-19&quot;&gt;&lt;/a&gt;                   &lt;span class=&quot;fu&quot;&gt;curl_easy_cleanup&lt;/span&gt;(curl);&lt;/span&gt;
295 &lt;span id=&quot;cb14-20&quot;&gt;&lt;a href=&quot;#cb14-20&quot;&gt;&lt;/a&gt;               }&lt;/span&gt;
296 &lt;span id=&quot;cb14-21&quot;&gt;&lt;a href=&quot;#cb14-21&quot;&gt;&lt;/a&gt;           }&lt;/span&gt;
297 &lt;span id=&quot;cb14-22&quot;&gt;&lt;a href=&quot;#cb14-22&quot;&gt;&lt;/a&gt;       }&lt;/span&gt;
298 &lt;span id=&quot;cb14-23&quot;&gt;&lt;a href=&quot;#cb14-23&quot;&gt;&lt;/a&gt;       &lt;span class=&quot;fu&quot;&gt;curl_global_cleanup&lt;/span&gt;();&lt;/span&gt;
299 &lt;span id=&quot;cb14-24&quot;&gt;&lt;a href=&quot;#cb14-24&quot;&gt;&lt;/a&gt;   }&lt;/span&gt;
300 &lt;span id=&quot;cb14-25&quot;&gt;&lt;a href=&quot;#cb14-25&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
301 &lt;h3 id=&quot;running-the-java-code-that-uses-libcurl&quot;&gt;Running the java code that uses libcurl&lt;/h3&gt;
302 &lt;div class=&quot;sourceCode&quot; id=&quot;cb15&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb15-1&quot;&gt;&lt;a href=&quot;#cb15-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
303 &lt;span id=&quot;cb15-2&quot;&gt;&lt;a href=&quot;#cb15-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;# run this shell script by passing a URL as first argument&lt;/span&gt;&lt;/span&gt;
304 &lt;span id=&quot;cb15-3&quot;&gt;&lt;a href=&quot;#cb15-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;
305 &lt;span id=&quot;cb15-4&quot;&gt;&lt;a href=&quot;#cb15-4&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/lib CurlMain.java &lt;span class=&quot;va&quot;&gt;$*&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
306 &lt;h2 id=&quot;using-blas-library&quot;&gt;Using BLAS library&lt;/h2&gt;
307 &lt;p&gt;BLAS is a popular library that allows fast matrix and vector computation: &lt;a href=&quot;http://www.netlib.org/blas/&quot;&gt;http://www.netlib.org/blas/&lt;/a&gt;.&lt;/p&gt;
308 &lt;h3 id=&quot;installing-openblas-mac-os&quot;&gt;Installing OpenBLAS (Mac OS)&lt;/h3&gt;
309 &lt;p&gt;On Mac, blas is available as part of the OpenBLAS library: &lt;a href=&quot;https://github.com/xianyi/OpenBLAS/wiki&quot;&gt;https://github.com/xianyi/OpenBLAS/wiki&lt;/a&gt;&lt;/p&gt;
310 &lt;p&gt;OpenBLAS is an optimized BLAS library based on GotoBLAS2 1.13 BSD version.&lt;/p&gt;
311 &lt;p&gt;You can install openblas using HomeBrew&lt;/p&gt;
312 &lt;div class=&quot;sourceCode&quot; id=&quot;cb16&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb16-1&quot;&gt;&lt;a href=&quot;#cb16-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
313 &lt;span id=&quot;cb16-2&quot;&gt;&lt;a href=&quot;#cb16-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;brew&lt;/span&gt; install openblas&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</pre>
<hr />
<pre>
369 &lt;span id=&quot;cb18-48&quot;&gt;&lt;a href=&quot;#cb18-48&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
370 &lt;h3 id=&quot;compiling-and-running-the-above-blas-sample&quot;&gt;Compiling and running the above BLAS sample&lt;/h3&gt;
371 &lt;div class=&quot;sourceCode&quot; id=&quot;cb19&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb19-1&quot;&gt;&lt;a href=&quot;#cb19-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
372 &lt;span id=&quot;cb19-2&quot;&gt;&lt;a href=&quot;#cb19-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
373 &lt;span id=&quot;cb19-3&quot;&gt;&lt;a href=&quot;#cb19-3&quot;&gt;&lt;/a&gt;  -C &lt;span class=&quot;st&quot;&gt;&amp;quot;-D FORCE_OPENBLAS_COMPLEX_STRUCT&amp;quot;&lt;/span&gt; \&lt;/span&gt;
374 &lt;span id=&quot;cb19-4&quot;&gt;&lt;a href=&quot;#cb19-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
375 &lt;span id=&quot;cb19-5&quot;&gt;&lt;a href=&quot;#cb19-5&quot;&gt;&lt;/a&gt;  -l openblas -t blas /usr/local/opt/openblas/include/cblas.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
376 &lt;h2 id=&quot;using-lapack-library-mac-os&quot;&gt;Using LAPACK library (Mac OS)&lt;/h2&gt;
377 &lt;p&gt;On Mac OS, lapack is installed under /usr/local/opt/lapack directory.&lt;/p&gt;
378 &lt;h3 id=&quot;jextracting-lapacke.h&quot;&gt;jextracting lapacke.h&lt;/h3&gt;
379 &lt;div class=&quot;sourceCode&quot; id=&quot;cb20&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb20-1&quot;&gt;&lt;a href=&quot;#cb20-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
380 &lt;span id=&quot;cb20-2&quot;&gt;&lt;a href=&quot;#cb20-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
381 &lt;span id=&quot;cb20-3&quot;&gt;&lt;a href=&quot;#cb20-3&quot;&gt;&lt;/a&gt;   -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
382 &lt;span id=&quot;cb20-4&quot;&gt;&lt;a href=&quot;#cb20-4&quot;&gt;&lt;/a&gt;   -l lapacke -t lapack \&lt;/span&gt;
383 &lt;span id=&quot;cb20-5&quot;&gt;&lt;a href=&quot;#cb20-5&quot;&gt;&lt;/a&gt;   --filter lapacke.h \&lt;/span&gt;
384 &lt;span id=&quot;cb20-6&quot;&gt;&lt;a href=&quot;#cb20-6&quot;&gt;&lt;/a&gt;   /usr/local/opt/lapack/include/lapacke.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
385 &lt;h3 id=&quot;java-sample-code-that-uses-lapack-library&quot;&gt;Java sample code that uses LAPACK library&lt;/h3&gt;
386 &lt;div class=&quot;sourceCode&quot; id=&quot;cb21&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb21-1&quot;&gt;&lt;a href=&quot;#cb21-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
387 &lt;span id=&quot;cb21-2&quot;&gt;&lt;a href=&quot;#cb21-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAccess;&lt;/span&gt;&lt;/span&gt;
388 &lt;span id=&quot;cb21-3&quot;&gt;&lt;a href=&quot;#cb21-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress;&lt;/span&gt;&lt;/span&gt;
<span class="line-modified">389 &lt;span id=&quot;cb21-4&quot;&gt;&lt;a href=&quot;#cb21-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemorySegment;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">390 &lt;span id=&quot;cb21-5&quot;&gt;&lt;a href=&quot;#cb21-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">391 &lt;span id=&quot;cb21-6&quot;&gt;&lt;a href=&quot;#cb21-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; lapack.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">392 &lt;span id=&quot;cb21-7&quot;&gt;&lt;a href=&quot;#cb21-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; lapack.lapacke_h.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">393 &lt;span id=&quot;cb21-8&quot;&gt;&lt;a href=&quot;#cb21-8&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">394 &lt;span id=&quot;cb21-9&quot;&gt;&lt;a href=&quot;#cb21-9&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">395 &lt;span id=&quot;cb21-10&quot;&gt;&lt;a href=&quot;#cb21-10&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; TestLapack {&lt;/span&gt;</span>
<span class="line-modified">396 &lt;span id=&quot;cb21-11&quot;&gt;&lt;a href=&quot;#cb21-11&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-modified">397 &lt;span id=&quot;cb21-12&quot;&gt;&lt;a href=&quot;#cb21-12&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">398 &lt;span id=&quot;cb21-13&quot;&gt;&lt;a href=&quot;#cb21-13&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;co&quot;&gt;/* Locals */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">399 &lt;span id=&quot;cb21-14&quot;&gt;&lt;a href=&quot;#cb21-14&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;</span>
<span class="line-modified">400 &lt;span id=&quot;cb21-15&quot;&gt;&lt;a href=&quot;#cb21-15&quot;&gt;&lt;/a&gt;            var A = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(C_DOUBLE, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt;[]{&lt;/span&gt;</span>
<span class="line-modified">401 &lt;span id=&quot;cb21-16&quot;&gt;&lt;a href=&quot;#cb21-16&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">402 &lt;span id=&quot;cb21-17&quot;&gt;&lt;a href=&quot;#cb21-17&quot;&gt;&lt;/a&gt;            });&lt;/span&gt;</span>
<span class="line-modified">403 &lt;span id=&quot;cb21-18&quot;&gt;&lt;a href=&quot;#cb21-18&quot;&gt;&lt;/a&gt;            var b = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(C_DOUBLE, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt;[]{&lt;/span&gt;</span>
<span class="line-modified">404 &lt;span id=&quot;cb21-19&quot;&gt;&lt;a href=&quot;#cb21-19&quot;&gt;&lt;/a&gt;                    -&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;12&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;14&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;18&lt;/span&gt;, -&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;14&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;12&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">405 &lt;span id=&quot;cb21-20&quot;&gt;&lt;a href=&quot;#cb21-20&quot;&gt;&lt;/a&gt;            });&lt;/span&gt;</span>
<span class="line-modified">406 &lt;span id=&quot;cb21-21&quot;&gt;&lt;a href=&quot;#cb21-21&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; info, m, n, lda, ldb, nrhs;&lt;/span&gt;</span>
<span class="line-modified">407 &lt;span id=&quot;cb21-22&quot;&gt;&lt;a href=&quot;#cb21-22&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">408 &lt;span id=&quot;cb21-23&quot;&gt;&lt;a href=&quot;#cb21-23&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Initialization */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">409 &lt;span id=&quot;cb21-24&quot;&gt;&lt;a href=&quot;#cb21-24&quot;&gt;&lt;/a&gt;            m = &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">410 &lt;span id=&quot;cb21-25&quot;&gt;&lt;a href=&quot;#cb21-25&quot;&gt;&lt;/a&gt;            n = &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">411 &lt;span id=&quot;cb21-26&quot;&gt;&lt;a href=&quot;#cb21-26&quot;&gt;&lt;/a&gt;            nrhs = &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">412 &lt;span id=&quot;cb21-27&quot;&gt;&lt;a href=&quot;#cb21-27&quot;&gt;&lt;/a&gt;            lda = &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">413 &lt;span id=&quot;cb21-28&quot;&gt;&lt;a href=&quot;#cb21-28&quot;&gt;&lt;/a&gt;            ldb = &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">414 &lt;span id=&quot;cb21-29&quot;&gt;&lt;a href=&quot;#cb21-29&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">415 &lt;span id=&quot;cb21-30&quot;&gt;&lt;a href=&quot;#cb21-30&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Print Entry Matrix */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">416 &lt;span id=&quot;cb21-31&quot;&gt;&lt;a href=&quot;#cb21-31&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Entry Matrix A&amp;quot;&lt;/span&gt;, m, n, A, lda );&lt;/span&gt;</span>
<span class="line-modified">417 &lt;span id=&quot;cb21-32&quot;&gt;&lt;a href=&quot;#cb21-32&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Print Right Rand Side */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">418 &lt;span id=&quot;cb21-33&quot;&gt;&lt;a href=&quot;#cb21-33&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Right Hand Side b&amp;quot;&lt;/span&gt;, n, nrhs, b, ldb );&lt;/span&gt;</span>
<span class="line-modified">419 &lt;span id=&quot;cb21-34&quot;&gt;&lt;a href=&quot;#cb21-34&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">420 &lt;span id=&quot;cb21-35&quot;&gt;&lt;a href=&quot;#cb21-35&quot;&gt;&lt;/a&gt;            &lt;/span&gt;</span>
<span class="line-modified">421 &lt;span id=&quot;cb21-36&quot;&gt;&lt;a href=&quot;#cb21-36&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Executable statements */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">422 &lt;span id=&quot;cb21-37&quot;&gt;&lt;a href=&quot;#cb21-37&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;//            printf( &amp;quot;LAPACKE_dgels (col-major, high-level) Example Program Results\n&amp;quot; );&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">423 &lt;span id=&quot;cb21-38&quot;&gt;&lt;a href=&quot;#cb21-38&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Solve least squares problem*/&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">424 &lt;span id=&quot;cb21-39&quot;&gt;&lt;a href=&quot;#cb21-39&quot;&gt;&lt;/a&gt;            info = &lt;span class=&quot;fu&quot;&gt;LAPACKE_dgels&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;LAPACK_COL_MAJOR&lt;/span&gt;(), (&lt;span class=&quot;dt&quot;&gt;byte&lt;/span&gt;)&lt;span class=&quot;ch&quot;&gt;&amp;#39;N&amp;#39;&lt;/span&gt;, m, n, nrhs, A, lda, b, ldb);&lt;/span&gt;</span>
<span class="line-modified">425 &lt;span id=&quot;cb21-40&quot;&gt;&lt;a href=&quot;#cb21-40&quot;&gt;&lt;/a&gt; &lt;/span&gt;</span>
<span class="line-modified">426 &lt;span id=&quot;cb21-41&quot;&gt;&lt;a href=&quot;#cb21-41&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Print Solution */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">427 &lt;span id=&quot;cb21-42&quot;&gt;&lt;a href=&quot;#cb21-42&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Solution&amp;quot;&lt;/span&gt;, n, nrhs, b, ldb );&lt;/span&gt;</span>
<span class="line-modified">428 &lt;span id=&quot;cb21-43&quot;&gt;&lt;a href=&quot;#cb21-43&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">429 &lt;span id=&quot;cb21-44&quot;&gt;&lt;a href=&quot;#cb21-44&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;exit&lt;/span&gt;(info);&lt;/span&gt;</span>
<span class="line-modified">430 &lt;span id=&quot;cb21-45&quot;&gt;&lt;a href=&quot;#cb21-45&quot;&gt;&lt;/a&gt;        }   &lt;/span&gt;</span>
<span class="line-modified">431 &lt;span id=&quot;cb21-46&quot;&gt;&lt;a href=&quot;#cb21-46&quot;&gt;&lt;/a&gt;    }   &lt;/span&gt;</span>
<span class="line-modified">432 &lt;span id=&quot;cb21-47&quot;&gt;&lt;a href=&quot;#cb21-47&quot;&gt;&lt;/a&gt;    &lt;/span&gt;</span>
<span class="line-modified">433 &lt;span id=&quot;cb21-48&quot;&gt;&lt;a href=&quot;#cb21-48&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; msg, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; m, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; n, MemorySegment mat, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; ldm) {&lt;/span&gt;</span>
<span class="line-modified">434 &lt;span id=&quot;cb21-49&quot;&gt;&lt;a href=&quot;#cb21-49&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; i, j;&lt;/span&gt;</span>
<span class="line-modified">435 &lt;span id=&quot;cb21-50&quot;&gt;&lt;a href=&quot;#cb21-50&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, msg);&lt;/span&gt;</span>
<span class="line-modified">436 &lt;span id=&quot;cb21-51&quot;&gt;&lt;a href=&quot;#cb21-51&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">437 &lt;span id=&quot;cb21-52&quot;&gt;&lt;a href=&quot;#cb21-52&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt;( i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; m; i++ ) {&lt;/span&gt;</span>
<span class="line-modified">438 &lt;span id=&quot;cb21-53&quot;&gt;&lt;a href=&quot;#cb21-53&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt;( j = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; j &amp;lt; n; j++ ) &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot; &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%6.2f&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getDoubleAtIndex&lt;/span&gt;(mat, i+j*ldm));&lt;/span&gt;</span>
<span class="line-modified">439 &lt;span id=&quot;cb21-54&quot;&gt;&lt;a href=&quot;#cb21-54&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;( &lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt; );&lt;/span&gt;</span>
<span class="line-modified">440 &lt;span id=&quot;cb21-55&quot;&gt;&lt;a href=&quot;#cb21-55&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-modified">441 &lt;span id=&quot;cb21-56&quot;&gt;&lt;a href=&quot;#cb21-56&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-added">442 &lt;span id=&quot;cb21-57&quot;&gt;&lt;a href=&quot;#cb21-57&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
443 &lt;h3 id=&quot;compiling-and-running-the-above-lapack-sample&quot;&gt;Compiling and running the above LAPACK sample&lt;/h3&gt;
444 &lt;div class=&quot;sourceCode&quot; id=&quot;cb22&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb22-1&quot;&gt;&lt;a href=&quot;#cb22-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
445 &lt;span id=&quot;cb22-2&quot;&gt;&lt;a href=&quot;#cb22-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit \&lt;/span&gt;
446 &lt;span id=&quot;cb22-3&quot;&gt;&lt;a href=&quot;#cb22-3&quot;&gt;&lt;/a&gt;    --add-modules jdk.incubator.foreign \&lt;/span&gt;
447 &lt;span id=&quot;cb22-4&quot;&gt;&lt;a href=&quot;#cb22-4&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/local/opt/lapack/lib \&lt;/span&gt;
448 &lt;span id=&quot;cb22-5&quot;&gt;&lt;a href=&quot;#cb22-5&quot;&gt;&lt;/a&gt;    TestLapack.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
449 &lt;h2 id=&quot;using-libproc-library-to-list-processes-from-java-mac-os&quot;&gt;Using libproc library to list processes from Java (Mac OS)&lt;/h2&gt;
450 &lt;h3 id=&quot;jextract-libproc.h&quot;&gt;jextract libproc.h&lt;/h3&gt;
451 &lt;div class=&quot;sourceCode&quot; id=&quot;cb23&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb23-1&quot;&gt;&lt;a href=&quot;#cb23-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
452 &lt;span id=&quot;cb23-2&quot;&gt;&lt;a href=&quot;#cb23-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
453 &lt;span id=&quot;cb23-3&quot;&gt;&lt;a href=&quot;#cb23-3&quot;&gt;&lt;/a&gt;  -t org.unix \&lt;/span&gt;
454 &lt;span id=&quot;cb23-4&quot;&gt;&lt;a href=&quot;#cb23-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
455 &lt;span id=&quot;cb23-5&quot;&gt;&lt;a href=&quot;#cb23-5&quot;&gt;&lt;/a&gt;  --filter libproc.h \&lt;/span&gt;
456 &lt;span id=&quot;cb23-6&quot;&gt;&lt;a href=&quot;#cb23-6&quot;&gt;&lt;/a&gt;  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/libproc.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
457 &lt;h3 id=&quot;java-program-that-uses-libproc-to-list-processes&quot;&gt;Java program that uses libproc to list processes&lt;/h3&gt;
458 &lt;div class=&quot;sourceCode&quot; id=&quot;cb24&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb24-1&quot;&gt;&lt;a href=&quot;#cb24-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
459 &lt;span id=&quot;cb24-2&quot;&gt;&lt;a href=&quot;#cb24-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport;&lt;/span&gt;&lt;/span&gt;
460 &lt;span id=&quot;cb24-3&quot;&gt;&lt;a href=&quot;#cb24-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemorySegment;&lt;/span&gt;&lt;/span&gt;
461 &lt;span id=&quot;cb24-4&quot;&gt;&lt;a href=&quot;#cb24-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;
462 &lt;span id=&quot;cb24-5&quot;&gt;&lt;a href=&quot;#cb24-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.*;&lt;/span&gt;&lt;/span&gt;
463 &lt;span id=&quot;cb24-6&quot;&gt;&lt;a href=&quot;#cb24-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;
464 &lt;span id=&quot;cb24-7&quot;&gt;&lt;a href=&quot;#cb24-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.libproc_h.*;&lt;/span&gt;&lt;/span&gt;
465 &lt;span id=&quot;cb24-8&quot;&gt;&lt;a href=&quot;#cb24-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;
466 &lt;span id=&quot;cb24-9&quot;&gt;&lt;a href=&quot;#cb24-9&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; LibprocMain {&lt;/span&gt;
467 &lt;span id=&quot;cb24-10&quot;&gt;&lt;a href=&quot;#cb24-10&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; NAME_BUF_MAX = &lt;span class=&quot;dv&quot;&gt;256&lt;/span&gt;;&lt;/span&gt;
468 &lt;span id=&quot;cb24-11&quot;&gt;&lt;a href=&quot;#cb24-11&quot;&gt;&lt;/a&gt;&lt;/span&gt;
469 &lt;span id=&quot;cb24-12&quot;&gt;&lt;a href=&quot;#cb24-12&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
470 &lt;span id=&quot;cb24-13&quot;&gt;&lt;a href=&quot;#cb24-13&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;
471 &lt;span id=&quot;cb24-14&quot;&gt;&lt;a href=&quot;#cb24-14&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// get the number of processes&lt;/span&gt;&lt;/span&gt;
472 &lt;span id=&quot;cb24-15&quot;&gt;&lt;a href=&quot;#cb24-15&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; numPids = &lt;span class=&quot;fu&quot;&gt;proc_listallpids&lt;/span&gt;(NULL, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;
473 &lt;span id=&quot;cb24-16&quot;&gt;&lt;a href=&quot;#cb24-16&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// allocate an array&lt;/span&gt;&lt;/span&gt;
474 &lt;span id=&quot;cb24-17&quot;&gt;&lt;a href=&quot;#cb24-17&quot;&gt;&lt;/a&gt;            var pids = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(CSupport.&lt;span class=&quot;fu&quot;&gt;C_INT&lt;/span&gt;, numPids);&lt;/span&gt;
475 &lt;span id=&quot;cb24-18&quot;&gt;&lt;a href=&quot;#cb24-18&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// list all the pids into the native array&lt;/span&gt;&lt;/span&gt;
476 &lt;span id=&quot;cb24-19&quot;&gt;&lt;a href=&quot;#cb24-19&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;proc_listallpids&lt;/span&gt;(pids, numPids);&lt;/span&gt;
477 &lt;span id=&quot;cb24-20&quot;&gt;&lt;a href=&quot;#cb24-20&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// convert native array to java array&lt;/span&gt;&lt;/span&gt;
<span class="line-modified">478 &lt;span id=&quot;cb24-21&quot;&gt;&lt;a href=&quot;#cb24-21&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;[] jpids = pids.&lt;span class=&quot;fu&quot;&gt;toIntArray&lt;/span&gt;();&lt;/span&gt;</span>
479 &lt;span id=&quot;cb24-22&quot;&gt;&lt;a href=&quot;#cb24-22&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// buffer for process name&lt;/span&gt;&lt;/span&gt;
480 &lt;span id=&quot;cb24-23&quot;&gt;&lt;a href=&quot;#cb24-23&quot;&gt;&lt;/a&gt;            var nameBuf = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(CSupport.&lt;span class=&quot;fu&quot;&gt;C_CHAR&lt;/span&gt;, NAME_BUF_MAX);&lt;/span&gt;
481 &lt;span id=&quot;cb24-24&quot;&gt;&lt;a href=&quot;#cb24-24&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; jpids.&lt;span class=&quot;fu&quot;&gt;length&lt;/span&gt;; i++) {&lt;/span&gt;
482 &lt;span id=&quot;cb24-25&quot;&gt;&lt;a href=&quot;#cb24-25&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; pid = jpids[i];&lt;/span&gt;
483 &lt;span id=&quot;cb24-26&quot;&gt;&lt;a href=&quot;#cb24-26&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;co&quot;&gt;// get the process name&lt;/span&gt;&lt;/span&gt;
484 &lt;span id=&quot;cb24-27&quot;&gt;&lt;a href=&quot;#cb24-27&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;proc_name&lt;/span&gt;(pid, nameBuf, NAME_BUF_MAX);&lt;/span&gt;
485 &lt;span id=&quot;cb24-28&quot;&gt;&lt;a href=&quot;#cb24-28&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; procName = CSupport.&lt;span class=&quot;fu&quot;&gt;toJavaString&lt;/span&gt;(nameBuf);&lt;/span&gt;
486 &lt;span id=&quot;cb24-29&quot;&gt;&lt;a href=&quot;#cb24-29&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;co&quot;&gt;// print pid and process name&lt;/span&gt;&lt;/span&gt;
487 &lt;span id=&quot;cb24-30&quot;&gt;&lt;a href=&quot;#cb24-30&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%d&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, pid, procName);&lt;/span&gt;
488 &lt;span id=&quot;cb24-31&quot;&gt;&lt;a href=&quot;#cb24-31&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;
489 &lt;span id=&quot;cb24-32&quot;&gt;&lt;a href=&quot;#cb24-32&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
490 &lt;span id=&quot;cb24-33&quot;&gt;&lt;a href=&quot;#cb24-33&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
491 &lt;span id=&quot;cb24-34&quot;&gt;&lt;a href=&quot;#cb24-34&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
492 &lt;h3 id=&quot;compiling-and-running-the-libproc-sample&quot;&gt;Compiling and running the libproc sample&lt;/h3&gt;
493 &lt;div class=&quot;sourceCode&quot; id=&quot;cb25&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb25-1&quot;&gt;&lt;a href=&quot;#cb25-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
494 &lt;span id=&quot;cb25-2&quot;&gt;&lt;a href=&quot;#cb25-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit \&lt;/span&gt;
495 &lt;span id=&quot;cb25-3&quot;&gt;&lt;a href=&quot;#cb25-3&quot;&gt;&lt;/a&gt;    --add-modules jdk.incubator.foreign \&lt;/span&gt;
496 &lt;span id=&quot;cb25-4&quot;&gt;&lt;a href=&quot;#cb25-4&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/lib LibprocMain.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
497 &lt;h2 id=&quot;using-libgit2-from-java-mac-os&quot;&gt;Using libgit2 from Java (Mac OS)&lt;/h2&gt;
498 &lt;h3 id=&quot;getting-and-building-libgit2&quot;&gt;Getting and building libgit2&lt;/h3&gt;
</pre>
<hr />
<pre>
603 &lt;span id=&quot;cb31-49&quot;&gt;&lt;a href=&quot;#cb31-49&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;INSERT INTO EMPLOYEE (ID,NAME,SALARY) &amp;quot;&lt;/span&gt; +&lt;/span&gt;
604 &lt;span id=&quot;cb31-50&quot;&gt;&lt;a href=&quot;#cb31-50&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;st&quot;&gt;&amp;quot;VALUES (134, &amp;#39;Xyz&amp;#39;, 200000.0); &amp;quot;&lt;/span&gt; +&lt;/span&gt;
605 &lt;span id=&quot;cb31-51&quot;&gt;&lt;a href=&quot;#cb31-51&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;INSERT INTO EMPLOYEE (ID,NAME,SALARY) &amp;quot;&lt;/span&gt; +&lt;/span&gt;
606 &lt;span id=&quot;cb31-52&quot;&gt;&lt;a href=&quot;#cb31-52&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;st&quot;&gt;&amp;quot;VALUES (333, &amp;#39;Abc&amp;#39;, 100000.0);&amp;quot;&lt;/span&gt;, scope&lt;/span&gt;
607 &lt;span id=&quot;cb31-53&quot;&gt;&lt;a href=&quot;#cb31-53&quot;&gt;&lt;/a&gt;            );&lt;/span&gt;
608 &lt;span id=&quot;cb31-54&quot;&gt;&lt;a href=&quot;#cb31-54&quot;&gt;&lt;/a&gt;            rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_exec&lt;/span&gt;(dbPtr, sql, NULL, NULL, errMsgPtrPtr);&lt;/span&gt;
609 &lt;span id=&quot;cb31-55&quot;&gt;&lt;a href=&quot;#cb31-55&quot;&gt;&lt;/a&gt;&lt;/span&gt;
610 &lt;span id=&quot;cb31-56&quot;&gt;&lt;a href=&quot;#cb31-56&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;
611 &lt;span id=&quot;cb31-57&quot;&gt;&lt;a href=&quot;#cb31-57&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_exec failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;
612 &lt;span id=&quot;cb31-58&quot;&gt;&lt;a href=&quot;#cb31-58&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SQL error: &amp;quot;&lt;/span&gt; + &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr)));&lt;/span&gt;
613 &lt;span id=&quot;cb31-59&quot;&gt;&lt;a href=&quot;#cb31-59&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;sqlite3_free&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr));&lt;/span&gt;
614 &lt;span id=&quot;cb31-60&quot;&gt;&lt;a href=&quot;#cb31-60&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;
615 &lt;span id=&quot;cb31-61&quot;&gt;&lt;a href=&quot;#cb31-61&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;rows inserted&amp;quot;&lt;/span&gt;);&lt;/span&gt;
616 &lt;span id=&quot;cb31-62&quot;&gt;&lt;a href=&quot;#cb31-62&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;
617 &lt;span id=&quot;cb31-63&quot;&gt;&lt;a href=&quot;#cb31-63&quot;&gt;&lt;/a&gt;&lt;/span&gt;
618 &lt;span id=&quot;cb31-64&quot;&gt;&lt;a href=&quot;#cb31-64&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;[] rowNum = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;];&lt;/span&gt;
619 &lt;span id=&quot;cb31-65&quot;&gt;&lt;a href=&quot;#cb31-65&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// callback to print rows from SELECT query&lt;/span&gt;&lt;/span&gt;
620 &lt;span id=&quot;cb31-66&quot;&gt;&lt;a href=&quot;#cb31-66&quot;&gt;&lt;/a&gt;            var callback = sqlite3_exec$callback.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;((a, argc, argv, columnNames) -&amp;gt; {&lt;/span&gt;
621 &lt;span id=&quot;cb31-67&quot;&gt;&lt;a href=&quot;#cb31-67&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Row num: &amp;quot;&lt;/span&gt; + rowNum[&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;]++);&lt;/span&gt;
622 &lt;span id=&quot;cb31-68&quot;&gt;&lt;a href=&quot;#cb31-68&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;numColumns = &amp;quot;&lt;/span&gt; + argc);&lt;/span&gt;
<span class="line-modified">623 &lt;span id=&quot;cb31-69&quot;&gt;&lt;a href=&quot;#cb31-69&quot;&gt;&lt;/a&gt;                var argv_seg = &lt;span class=&quot;fu&quot;&gt;asArrayRestricted&lt;/span&gt;(argv, C_POINTER, argc);&lt;/span&gt;</span>
<span class="line-modified">624 &lt;span id=&quot;cb31-70&quot;&gt;&lt;a href=&quot;#cb31-70&quot;&gt;&lt;/a&gt;                var columnNames_seg = &lt;span class=&quot;fu&quot;&gt;asArrayRestricted&lt;/span&gt;(columnNames, C_POINTER, argc);&lt;/span&gt;</span>
625 &lt;span id=&quot;cb31-71&quot;&gt;&lt;a href=&quot;#cb31-71&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; argc; i++) {&lt;/span&gt;
<span class="line-modified">626 &lt;span id=&quot;cb31-72&quot;&gt;&lt;a href=&quot;#cb31-72&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; name = &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddressAtIndex&lt;/span&gt;(columnNames_seg, i));&lt;/span&gt;</span>
<span class="line-modified">627 &lt;span id=&quot;cb31-73&quot;&gt;&lt;a href=&quot;#cb31-73&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; value = &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddressAtIndex&lt;/span&gt;(argv_seg, i));&lt;/span&gt;</span>
628 &lt;span id=&quot;cb31-74&quot;&gt;&lt;a href=&quot;#cb31-74&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, name, value);&lt;/span&gt;
629 &lt;span id=&quot;cb31-75&quot;&gt;&lt;a href=&quot;#cb31-75&quot;&gt;&lt;/a&gt;                }&lt;/span&gt;
630 &lt;span id=&quot;cb31-76&quot;&gt;&lt;a href=&quot;#cb31-76&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;
631 &lt;span id=&quot;cb31-77&quot;&gt;&lt;a href=&quot;#cb31-77&quot;&gt;&lt;/a&gt;            }, scope);&lt;/span&gt;
632 &lt;span id=&quot;cb31-78&quot;&gt;&lt;a href=&quot;#cb31-78&quot;&gt;&lt;/a&gt;&lt;/span&gt;
633 &lt;span id=&quot;cb31-79&quot;&gt;&lt;a href=&quot;#cb31-79&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// select query&lt;/span&gt;&lt;/span&gt;
634 &lt;span id=&quot;cb31-80&quot;&gt;&lt;a href=&quot;#cb31-80&quot;&gt;&lt;/a&gt;            sql = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SELECT * FROM EMPLOYEE&amp;quot;&lt;/span&gt;, scope);&lt;/span&gt;
635 &lt;span id=&quot;cb31-81&quot;&gt;&lt;a href=&quot;#cb31-81&quot;&gt;&lt;/a&gt;            rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_exec&lt;/span&gt;(dbPtr, sql, callback, NULL, errMsgPtrPtr);&lt;/span&gt;
636 &lt;span id=&quot;cb31-82&quot;&gt;&lt;a href=&quot;#cb31-82&quot;&gt;&lt;/a&gt;&lt;/span&gt;
637 &lt;span id=&quot;cb31-83&quot;&gt;&lt;a href=&quot;#cb31-83&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;
638 &lt;span id=&quot;cb31-84&quot;&gt;&lt;a href=&quot;#cb31-84&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_exec failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;
639 &lt;span id=&quot;cb31-85&quot;&gt;&lt;a href=&quot;#cb31-85&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SQL error: &amp;quot;&lt;/span&gt; + &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr)));&lt;/span&gt;
640 &lt;span id=&quot;cb31-86&quot;&gt;&lt;a href=&quot;#cb31-86&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;sqlite3_free&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr));&lt;/span&gt;
641 &lt;span id=&quot;cb31-87&quot;&gt;&lt;a href=&quot;#cb31-87&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;
642 &lt;span id=&quot;cb31-88&quot;&gt;&lt;a href=&quot;#cb31-88&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;done&amp;quot;&lt;/span&gt;);&lt;/span&gt;
643 &lt;span id=&quot;cb31-89&quot;&gt;&lt;a href=&quot;#cb31-89&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;
644 &lt;span id=&quot;cb31-90&quot;&gt;&lt;a href=&quot;#cb31-90&quot;&gt;&lt;/a&gt;&lt;/span&gt;
645 &lt;span id=&quot;cb31-91&quot;&gt;&lt;a href=&quot;#cb31-91&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;sqlite3_close&lt;/span&gt;(dbPtr);&lt;/span&gt;
646 &lt;span id=&quot;cb31-92&quot;&gt;&lt;a href=&quot;#cb31-92&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
647 &lt;span id=&quot;cb31-93&quot;&gt;&lt;a href=&quot;#cb31-93&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
648 &lt;span id=&quot;cb31-94&quot;&gt;&lt;a href=&quot;#cb31-94&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
649 &lt;h3 id=&quot;compiling-and-running-the-sqlite3-sample&quot;&gt;Compiling and running the sqlite3 sample&lt;/h3&gt;
650 &lt;div class=&quot;sourceCode&quot; id=&quot;cb32&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb32-1&quot;&gt;&lt;a href=&quot;#cb32-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
651 &lt;span id=&quot;cb32-2&quot;&gt;&lt;a href=&quot;#cb32-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit \&lt;/span&gt;
652 &lt;span id=&quot;cb32-3&quot;&gt;&lt;a href=&quot;#cb32-3&quot;&gt;&lt;/a&gt;   --add-modules jdk.incubator.foreign \&lt;/span&gt;
653 &lt;span id=&quot;cb32-4&quot;&gt;&lt;a href=&quot;#cb32-4&quot;&gt;&lt;/a&gt;   -Djava.library.path=/usr/lib SqliteMain.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
<span class="line-added">654 &lt;h2 id=&quot;using-opengl-library-from-java-mac-os&quot;&gt;Using OpenGL library from Java (Mac OS)&lt;/h2&gt;</span>
<span class="line-added">655 &lt;h3 id=&quot;jextract-glut.h&quot;&gt;jextract glut.h&lt;/h3&gt;</span>
<span class="line-added">656 &lt;div class=&quot;sourceCode&quot; id=&quot;cb33&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb33-1&quot;&gt;&lt;a href=&quot;#cb33-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">657 &lt;span id=&quot;cb33-2&quot;&gt;&lt;a href=&quot;#cb33-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -t opengl -lGL -l/System/Library/Frameworks/GLUT.framework/Versions/Current/GLUT \&lt;/span&gt;</span>
<span class="line-added">658 &lt;span id=&quot;cb33-3&quot;&gt;&lt;a href=&quot;#cb33-3&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/ \&lt;/span&gt;</span>
<span class="line-added">659 &lt;span id=&quot;cb33-4&quot;&gt;&lt;a href=&quot;#cb33-4&quot;&gt;&lt;/a&gt;  -C-F/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/System/Library/Frameworks \&lt;/span&gt;</span>
<span class="line-added">660 &lt;span id=&quot;cb33-5&quot;&gt;&lt;a href=&quot;#cb33-5&quot;&gt;&lt;/a&gt;  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/System/Library/Frameworks/GLUT.framework/Headers/glut.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">661 &lt;h3 id=&quot;java-program-that-uses-opengl&quot;&gt;Java program that uses OpenGL&lt;/h3&gt;</span>
<span class="line-added">662 &lt;div class=&quot;sourceCode&quot; id=&quot;cb34&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb34-1&quot;&gt;&lt;a href=&quot;#cb34-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">663 &lt;span id=&quot;cb34-2&quot;&gt;&lt;a href=&quot;#cb34-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">664 &lt;span id=&quot;cb34-3&quot;&gt;&lt;a href=&quot;#cb34-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">665 &lt;span id=&quot;cb34-4&quot;&gt;&lt;a href=&quot;#cb34-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">666 &lt;span id=&quot;cb34-5&quot;&gt;&lt;a href=&quot;#cb34-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; opengl.glut_h.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">667 &lt;span id=&quot;cb34-6&quot;&gt;&lt;a href=&quot;#cb34-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">668 &lt;span id=&quot;cb34-7&quot;&gt;&lt;a href=&quot;#cb34-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; Teapot {&lt;/span&gt;</span>
<span class="line-added">669 &lt;span id=&quot;cb34-8&quot;&gt;&lt;a href=&quot;#cb34-8&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;float&lt;/span&gt; rot = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-added">670 &lt;span id=&quot;cb34-9&quot;&gt;&lt;a href=&quot;#cb34-9&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">671 &lt;span id=&quot;cb34-10&quot;&gt;&lt;a href=&quot;#cb34-10&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;fu&quot;&gt;Teapot&lt;/span&gt;(NativeScope scope) {&lt;/span&gt;</span>
<span class="line-added">672 &lt;span id=&quot;cb34-11&quot;&gt;&lt;a href=&quot;#cb34-11&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;co&quot;&gt;// Reset Background&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">673 &lt;span id=&quot;cb34-12&quot;&gt;&lt;a href=&quot;#cb34-12&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glClearColor&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;0f&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0f&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0f&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0f&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-added">674 &lt;span id=&quot;cb34-13&quot;&gt;&lt;a href=&quot;#cb34-13&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;co&quot;&gt;// Setup Lighting&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">675 &lt;span id=&quot;cb34-14&quot;&gt;&lt;a href=&quot;#cb34-14&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glShadeModel&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_SMOOTH&lt;/span&gt;());&lt;/span&gt;</span>
<span class="line-added">676 &lt;span id=&quot;cb34-15&quot;&gt;&lt;a href=&quot;#cb34-15&quot;&gt;&lt;/a&gt;        var pos = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(C_FLOAT, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;float&lt;/span&gt;[] {&lt;span class=&quot;fl&quot;&gt;0.0f&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;15.0f&lt;/span&gt;, -&lt;span class=&quot;fl&quot;&gt;15.0f&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;});&lt;/span&gt;</span>
<span class="line-added">677 &lt;span id=&quot;cb34-16&quot;&gt;&lt;a href=&quot;#cb34-16&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glLightfv&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_LIGHT0&lt;/span&gt;(), &lt;span class=&quot;fu&quot;&gt;GL_POSITION&lt;/span&gt;(), pos);&lt;/span&gt;</span>
<span class="line-added">678 &lt;span id=&quot;cb34-17&quot;&gt;&lt;a href=&quot;#cb34-17&quot;&gt;&lt;/a&gt;        var spec = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(C_FLOAT, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;float&lt;/span&gt;[] {&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;});&lt;/span&gt;</span>
<span class="line-added">679 &lt;span id=&quot;cb34-18&quot;&gt;&lt;a href=&quot;#cb34-18&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glLightfv&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_LIGHT0&lt;/span&gt;(), &lt;span class=&quot;fu&quot;&gt;GL_AMBIENT&lt;/span&gt;(), spec);&lt;/span&gt;</span>
<span class="line-added">680 &lt;span id=&quot;cb34-19&quot;&gt;&lt;a href=&quot;#cb34-19&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glLightfv&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_LIGHT0&lt;/span&gt;(), &lt;span class=&quot;fu&quot;&gt;GL_DIFFUSE&lt;/span&gt;(), spec);&lt;/span&gt;</span>
<span class="line-added">681 &lt;span id=&quot;cb34-20&quot;&gt;&lt;a href=&quot;#cb34-20&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glLightfv&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_LIGHT0&lt;/span&gt;(), &lt;span class=&quot;fu&quot;&gt;GL_SPECULAR&lt;/span&gt;(), spec);&lt;/span&gt;</span>
<span class="line-added">682 &lt;span id=&quot;cb34-21&quot;&gt;&lt;a href=&quot;#cb34-21&quot;&gt;&lt;/a&gt;        var shini = scope.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(C_FLOAT, &lt;span class=&quot;dv&quot;&gt;113&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-added">683 &lt;span id=&quot;cb34-22&quot;&gt;&lt;a href=&quot;#cb34-22&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glMaterialfv&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_FRONT&lt;/span&gt;(), &lt;span class=&quot;fu&quot;&gt;GL_SHININESS&lt;/span&gt;(), shini);&lt;/span&gt;</span>
<span class="line-added">684 &lt;span id=&quot;cb34-23&quot;&gt;&lt;a href=&quot;#cb34-23&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glEnable&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_LIGHTING&lt;/span&gt;());&lt;/span&gt;</span>
<span class="line-added">685 &lt;span id=&quot;cb34-24&quot;&gt;&lt;a href=&quot;#cb34-24&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glEnable&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_LIGHT0&lt;/span&gt;());&lt;/span&gt;</span>
<span class="line-added">686 &lt;span id=&quot;cb34-25&quot;&gt;&lt;a href=&quot;#cb34-25&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glEnable&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_DEPTH_TEST&lt;/span&gt;());&lt;/span&gt;</span>
<span class="line-added">687 &lt;span id=&quot;cb34-26&quot;&gt;&lt;a href=&quot;#cb34-26&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-added">688 &lt;span id=&quot;cb34-27&quot;&gt;&lt;a href=&quot;#cb34-27&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">689 &lt;span id=&quot;cb34-28&quot;&gt;&lt;a href=&quot;#cb34-28&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;display&lt;/span&gt;() {&lt;/span&gt;</span>
<span class="line-added">690 &lt;span id=&quot;cb34-29&quot;&gt;&lt;a href=&quot;#cb34-29&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glClear&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_COLOR_BUFFER_BIT&lt;/span&gt;() | &lt;span class=&quot;fu&quot;&gt;GL_DEPTH_BUFFER_BIT&lt;/span&gt;());&lt;/span&gt;</span>
<span class="line-added">691 &lt;span id=&quot;cb34-30&quot;&gt;&lt;a href=&quot;#cb34-30&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glPushMatrix&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-added">692 &lt;span id=&quot;cb34-31&quot;&gt;&lt;a href=&quot;#cb34-31&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glRotatef&lt;/span&gt;(-&lt;span class=&quot;fl&quot;&gt;20f&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1f&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1f&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0f&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-added">693 &lt;span id=&quot;cb34-32&quot;&gt;&lt;a href=&quot;#cb34-32&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glRotatef&lt;/span&gt;(rot, &lt;span class=&quot;fl&quot;&gt;0f&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1f&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0f&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-added">694 &lt;span id=&quot;cb34-33&quot;&gt;&lt;a href=&quot;#cb34-33&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glutSolidTeapot&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;0.5d&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-added">695 &lt;span id=&quot;cb34-34&quot;&gt;&lt;a href=&quot;#cb34-34&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glPopMatrix&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-added">696 &lt;span id=&quot;cb34-35&quot;&gt;&lt;a href=&quot;#cb34-35&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glutSwapBuffers&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-added">697 &lt;span id=&quot;cb34-36&quot;&gt;&lt;a href=&quot;#cb34-36&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-added">698 &lt;span id=&quot;cb34-37&quot;&gt;&lt;a href=&quot;#cb34-37&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">699 &lt;span id=&quot;cb34-38&quot;&gt;&lt;a href=&quot;#cb34-38&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;onIdle&lt;/span&gt;() {&lt;/span&gt;</span>
<span class="line-added">700 &lt;span id=&quot;cb34-39&quot;&gt;&lt;a href=&quot;#cb34-39&quot;&gt;&lt;/a&gt;        rot += &lt;span class=&quot;fl&quot;&gt;0.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-added">701 &lt;span id=&quot;cb34-40&quot;&gt;&lt;a href=&quot;#cb34-40&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glutPostRedisplay&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-added">702 &lt;span id=&quot;cb34-41&quot;&gt;&lt;a href=&quot;#cb34-41&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-added">703 &lt;span id=&quot;cb34-42&quot;&gt;&lt;a href=&quot;#cb34-42&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">704 &lt;span id=&quot;cb34-43&quot;&gt;&lt;a href=&quot;#cb34-43&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-added">705 &lt;span id=&quot;cb34-44&quot;&gt;&lt;a href=&quot;#cb34-44&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;</span>
<span class="line-added">706 &lt;span id=&quot;cb34-45&quot;&gt;&lt;a href=&quot;#cb34-45&quot;&gt;&lt;/a&gt;            var argc = scope.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(C_INT, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-added">707 &lt;span id=&quot;cb34-46&quot;&gt;&lt;a href=&quot;#cb34-46&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;glutInit&lt;/span&gt;(argc, argc);&lt;/span&gt;</span>
<span class="line-added">708 &lt;span id=&quot;cb34-47&quot;&gt;&lt;a href=&quot;#cb34-47&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;glutInitDisplayMode&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GLUT_DOUBLE&lt;/span&gt;() | &lt;span class=&quot;fu&quot;&gt;GLUT_RGB&lt;/span&gt;() | &lt;span class=&quot;fu&quot;&gt;GLUT_DEPTH&lt;/span&gt;());&lt;/span&gt;</span>
<span class="line-added">709 &lt;span id=&quot;cb34-48&quot;&gt;&lt;a href=&quot;#cb34-48&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;glutInitWindowSize&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-added">710 &lt;span id=&quot;cb34-49&quot;&gt;&lt;a href=&quot;#cb34-49&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;glutCreateWindow&lt;/span&gt;(CSupport.&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello Panama!&amp;quot;&lt;/span&gt;, scope));&lt;/span&gt;</span>
<span class="line-added">711 &lt;span id=&quot;cb34-50&quot;&gt;&lt;a href=&quot;#cb34-50&quot;&gt;&lt;/a&gt;            var teapot = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;Teapot&lt;/span&gt;(scope);&lt;/span&gt;</span>
<span class="line-added">712 &lt;span id=&quot;cb34-51&quot;&gt;&lt;a href=&quot;#cb34-51&quot;&gt;&lt;/a&gt;            var displayStub = glutDisplayFunc$func.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(teapot::display, scope);&lt;/span&gt;</span>
<span class="line-added">713 &lt;span id=&quot;cb34-52&quot;&gt;&lt;a href=&quot;#cb34-52&quot;&gt;&lt;/a&gt;            var idleStub = glutIdleFunc$func.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(teapot::onIdle, scope);&lt;/span&gt;</span>
<span class="line-added">714 &lt;span id=&quot;cb34-53&quot;&gt;&lt;a href=&quot;#cb34-53&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;glutDisplayFunc&lt;/span&gt;(displayStub);&lt;/span&gt;</span>
<span class="line-added">715 &lt;span id=&quot;cb34-54&quot;&gt;&lt;a href=&quot;#cb34-54&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;glutIdleFunc&lt;/span&gt;(idleStub);&lt;/span&gt;</span>
<span class="line-added">716 &lt;span id=&quot;cb34-55&quot;&gt;&lt;a href=&quot;#cb34-55&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;glutMainLoop&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-added">717 &lt;span id=&quot;cb34-56&quot;&gt;&lt;a href=&quot;#cb34-56&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-added">718 &lt;span id=&quot;cb34-57&quot;&gt;&lt;a href=&quot;#cb34-57&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-added">719 &lt;span id=&quot;cb34-58&quot;&gt;&lt;a href=&quot;#cb34-58&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">720 &lt;h3 id=&quot;compiling-and-running-the-opengl-sample&quot;&gt;Compiling and running the OpenGL sample&lt;/h3&gt;</span>
<span class="line-added">721 &lt;div class=&quot;sourceCode&quot; id=&quot;cb35&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb35-1&quot;&gt;&lt;a href=&quot;#cb35-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">722 &lt;span id=&quot;cb35-2&quot;&gt;&lt;a href=&quot;#cb35-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -XstartOnFirstThread -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;</span>
<span class="line-added">723 &lt;span id=&quot;cb35-3&quot;&gt;&lt;a href=&quot;#cb35-3&quot;&gt;&lt;/a&gt;    -Djava.library.path=.:/System/Library/Frameworks/OpenGL.framework/Versions/Current/Libraries/ Teapot.java &lt;span class=&quot;va&quot;&gt;$*&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
724 &lt;/body&gt;
725 &lt;/html&gt;
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../index.html" target="_top">index</a> <a href="panama_jextract.md.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>