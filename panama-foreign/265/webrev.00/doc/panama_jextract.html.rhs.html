<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames doc/panama_jextract.html</title>
    <link rel="stylesheet" href="../style.css" />
    <script type="text/javascript" src="../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 &lt;!DOCTYPE html&gt;
  2 &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; lang=&quot;&quot; xml:lang=&quot;&quot;&gt;
  3 &lt;head&gt;
  4   &lt;meta charset=&quot;utf-8&quot; /&gt;
  5   &lt;meta name=&quot;generator&quot; content=&quot;pandoc&quot; /&gt;
  6   &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, user-scalable=yes&quot; /&gt;
  7   &lt;title&gt;Using Panama &amp;quot;foreign&amp;quot; JDK&lt;/title&gt;
  8   &lt;style&gt;
  9     code{white-space: pre-wrap;}
 10     span.smallcaps{font-variant: small-caps;}
 11     span.underline{text-decoration: underline;}
 12     div.column{display: inline-block; vertical-align: top; width: 50%;}
 13     div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
 14     ul.task-list{list-style: none;}
 15     pre &gt; code.sourceCode { white-space: pre; position: relative; }
 16     pre &gt; code.sourceCode &gt; span { display: inline-block; line-height: 1.25; }
 17     pre &gt; code.sourceCode &gt; span:empty { height: 1.2em; }
 18     code.sourceCode &gt; span { color: inherit; text-decoration: inherit; }
 19     div.sourceCode { margin: 1em 0; }
 20     pre.sourceCode { margin: 0; }
 21     @media screen {
 22     div.sourceCode { overflow: auto; }
 23     }
 24     @media print {
 25     pre &gt; code.sourceCode { white-space: pre-wrap; }
 26     pre &gt; code.sourceCode &gt; span { text-indent: -5em; padding-left: 5em; }
 27     }
 28     pre.numberSource code
 29       { counter-reset: source-line 0; }
 30     pre.numberSource code &gt; span
 31       { position: relative; left: -4em; counter-increment: source-line; }
 32     pre.numberSource code &gt; span &gt; a:first-child::before
 33       { content: counter(source-line);
 34         position: relative; left: -1em; text-align: right; vertical-align: baseline;
 35         border: none; display: inline-block;
 36         -webkit-touch-callout: none; -webkit-user-select: none;
 37         -khtml-user-select: none; -moz-user-select: none;
 38         -ms-user-select: none; user-select: none;
 39         padding: 0 4px; width: 4em;
 40         color: #aaaaaa;
 41       }
 42     pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
 43     div.sourceCode
 44       {   }
 45     @media screen {
 46     pre &gt; code.sourceCode &gt; span &gt; a:first-child::before { text-decoration: underline; }
 47     }
 48     code span.al { color: #ff0000; font-weight: bold; } /* Alert */
 49     code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
 50     code span.at { color: #7d9029; } /* Attribute */
 51     code span.bn { color: #40a070; } /* BaseN */
 52     code span.bu { } /* BuiltIn */
 53     code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
 54     code span.ch { color: #4070a0; } /* Char */
 55     code span.cn { color: #880000; } /* Constant */
 56     code span.co { color: #60a0b0; font-style: italic; } /* Comment */
 57     code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
 58     code span.do { color: #ba2121; font-style: italic; } /* Documentation */
 59     code span.dt { color: #902000; } /* DataType */
 60     code span.dv { color: #40a070; } /* DecVal */
 61     code span.er { color: #ff0000; font-weight: bold; } /* Error */
 62     code span.ex { } /* Extension */
 63     code span.fl { color: #40a070; } /* Float */
 64     code span.fu { color: #06287e; } /* Function */
 65     code span.im { } /* Import */
 66     code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
 67     code span.kw { color: #007020; font-weight: bold; } /* Keyword */
 68     code span.op { color: #666666; } /* Operator */
 69     code span.ot { color: #007020; } /* Other */
 70     code span.pp { color: #bc7a00; } /* Preprocessor */
 71     code span.sc { color: #4070a0; } /* SpecialChar */
 72     code span.ss { color: #bb6688; } /* SpecialString */
 73     code span.st { color: #4070a0; } /* String */
 74     code span.va { color: #19177c; } /* Variable */
 75     code span.vs { color: #4070a0; } /* VerbatimString */
 76     code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
 77   &lt;/style&gt;
 78   &lt;link rel=&quot;stylesheet&quot; href=&quot;../make/data/docs-resources/resources/jdk-default.css&quot; /&gt;
 79   &lt;!--[if lt IE 9]&gt;
 80     &lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js&quot;&gt;&lt;/script&gt;
 81   &lt;![endif]--&gt;
 82 &lt;/head&gt;
 83 &lt;body&gt;
 84 &lt;header id=&quot;title-block-header&quot;&gt;
 85 &lt;h1 class=&quot;title&quot;&gt;Using Panama &quot;foreign&quot; JDK&lt;/h1&gt;
 86 &lt;/header&gt;
 87 &lt;nav id=&quot;TOC&quot; role=&quot;doc-toc&quot;&gt;
 88 &lt;ul&gt;
 89 &lt;li&gt;&lt;a href=&quot;#using-panama-foreign-jextract-jdk&quot;&gt;Using Panama &quot;foreign-jextract&quot; JDK&lt;/a&gt;
 90 &lt;ul&gt;
 91 &lt;li&gt;&lt;a href=&quot;#hello-world&quot;&gt;Hello World&lt;/a&gt;
 92 &lt;ul&gt;
 93 &lt;li&gt;&lt;a href=&quot;#hello-world-c-header-helloworld.h&quot;&gt;Hello World C Header (helloworld.h)&lt;/a&gt;&lt;/li&gt;
 94 &lt;li&gt;&lt;a href=&quot;#hello-world-c-source-helloworld.c&quot;&gt;Hello World C Source (helloworld.c)&lt;/a&gt;&lt;/li&gt;
 95 &lt;li&gt;&lt;a href=&quot;#building-hello-world&quot;&gt;Building Hello World&lt;/a&gt;&lt;/li&gt;
 96 &lt;li&gt;&lt;a href=&quot;#jextract-a-jar-file-for-helloworld.h&quot;&gt;jextract a Jar file for helloworld.h&lt;/a&gt;&lt;/li&gt;
 97 &lt;li&gt;&lt;a href=&quot;#java-program-that-uses-extracted-helloworld-interface&quot;&gt;Java program that uses extracted helloworld interface&lt;/a&gt;&lt;/li&gt;
 98 &lt;li&gt;&lt;a href=&quot;#running-the-java-code-that-invokes-helloworld&quot;&gt;Running the Java code that invokes helloworld&lt;/a&gt;&lt;/li&gt;
 99 &lt;/ul&gt;&lt;/li&gt;
<a name="1" id="anc1"></a><span class="line-modified">100 &lt;li&gt;&lt;a href=&quot;#embedding-python-interpreter-in-your-java-program&quot;&gt;Embedding Python interpreter in your Java program&lt;/a&gt;</span>
101 &lt;ul&gt;
<a name="2" id="anc2"></a><span class="line-modified">102 &lt;li&gt;&lt;a href=&quot;#jextract-python.h-mac-os&quot;&gt;jextract Python.h (Mac OS)&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-added">103 &lt;li&gt;&lt;a href=&quot;#shared-windows-utility-script-used-in-all-samples---shared_windows.ps1&quot;&gt;Shared Windows Utility script (used in all samples - shared_windows.ps1)&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-added">104 &lt;li&gt;&lt;a href=&quot;#jextract-python.h-windows&quot;&gt;jextract Python.h (Windows)&lt;/a&gt;&lt;/li&gt;</span>
105 &lt;li&gt;&lt;a href=&quot;#java-program-that-uses-extracted-python-interface&quot;&gt;Java program that uses extracted Python interface&lt;/a&gt;&lt;/li&gt;
<a name="3" id="anc3"></a><span class="line-modified">106 &lt;li&gt;&lt;a href=&quot;#running-the-java-code-that-calls-python-interpreter-mac-os&quot;&gt;Running the Java code that calls Python interpreter (Mac OS)&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-added">107 &lt;li&gt;&lt;a href=&quot;#running-the-java-code-that-calls-python-interpreter-windows&quot;&gt;Running the Java code that calls Python interpreter (Windows)&lt;/a&gt;&lt;/li&gt;</span>
108 &lt;/ul&gt;&lt;/li&gt;
<a name="4" id="anc4"></a><span class="line-modified">109 &lt;li&gt;&lt;a href=&quot;#using-readline-library-from-java-code&quot;&gt;Using readline library from Java code&lt;/a&gt;</span>
110 &lt;ul&gt;
<a name="5" id="anc5"></a><span class="line-modified">111 &lt;li&gt;&lt;a href=&quot;#jextract-readline.h-mac-os&quot;&gt;jextract readline.h (Mac OS)&lt;/a&gt;&lt;/li&gt;</span>
112 &lt;li&gt;&lt;a href=&quot;#java-code-that-uses-readline&quot;&gt;Java code that uses readline&lt;/a&gt;&lt;/li&gt;
<a name="6" id="anc6"></a><span class="line-modified">113 &lt;li&gt;&lt;a href=&quot;#running-the-java-code-that-uses-readline-mac-os&quot;&gt;Running the java code that uses readline (Mac OS)&lt;/a&gt;&lt;/li&gt;</span>
114 &lt;/ul&gt;&lt;/li&gt;
<a name="7" id="anc7"></a><span class="line-modified">115 &lt;li&gt;&lt;a href=&quot;#using-libcurl-from-java&quot;&gt;Using libcurl from Java&lt;/a&gt;</span>
116 &lt;ul&gt;
<a name="8" id="anc8"></a><span class="line-modified">117 &lt;li&gt;&lt;a href=&quot;#jextract-curl.h-mac-os&quot;&gt;jextract curl.h (Mac OS)&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-added">118 &lt;li&gt;&lt;a href=&quot;#jextract-curl.h-windows&quot;&gt;jextract curl.h (Windows)&lt;/a&gt;&lt;/li&gt;</span>
119 &lt;li&gt;&lt;a href=&quot;#java-code-that-uses-libcurl&quot;&gt;Java code that uses libcurl&lt;/a&gt;&lt;/li&gt;
<a name="9" id="anc9"></a><span class="line-modified">120 &lt;li&gt;&lt;a href=&quot;#running-the-java-code-that-uses-libcurl-mac-os&quot;&gt;Running the java code that uses libcurl (Mac OS)&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-added">121 &lt;li&gt;&lt;a href=&quot;#running-the-java-code-that-uses-libcurl-windows&quot;&gt;Running the java code that uses libcurl (Windows)&lt;/a&gt;&lt;/li&gt;</span>
122 &lt;/ul&gt;&lt;/li&gt;
123 &lt;li&gt;&lt;a href=&quot;#using-blas-library&quot;&gt;Using BLAS library&lt;/a&gt;
124 &lt;ul&gt;
125 &lt;li&gt;&lt;a href=&quot;#installing-openblas-mac-os&quot;&gt;Installing OpenBLAS (Mac OS)&lt;/a&gt;&lt;/li&gt;
<a name="10" id="anc10"></a><span class="line-modified">126 &lt;li&gt;&lt;a href=&quot;#jextracting-cblas.h-mac-os&quot;&gt;jextracting cblas.h (Mac OS)&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-added">127 &lt;li&gt;&lt;a href=&quot;#jextracting-cblas.h-windows&quot;&gt;jextracting cblas.h (Windows)&lt;/a&gt;&lt;/li&gt;</span>
128 &lt;li&gt;&lt;a href=&quot;#java-sample-code-that-uses-cblas-library&quot;&gt;Java sample code that uses cblas library&lt;/a&gt;&lt;/li&gt;
<a name="11" id="anc11"></a><span class="line-modified">129 &lt;li&gt;&lt;a href=&quot;#compiling-and-running-the-above-blas-sample-mac-os&quot;&gt;Compiling and running the above BLAS sample (Mac OS)&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-added">130 &lt;li&gt;&lt;a href=&quot;#compiling-and-running-the-above-blas-sample-windows&quot;&gt;Compiling and running the above BLAS sample (Windows)&lt;/a&gt;&lt;/li&gt;</span>
131 &lt;/ul&gt;&lt;/li&gt;
<a name="12" id="anc12"></a><span class="line-modified">132 &lt;li&gt;&lt;a href=&quot;#using-lapack-library&quot;&gt;Using LAPACK library&lt;/a&gt;</span>
133 &lt;ul&gt;
<a name="13" id="anc13"></a><span class="line-modified">134 &lt;li&gt;&lt;a href=&quot;#jextracting-lapacke.h-mac-os&quot;&gt;jextracting lapacke.h (Mac OS)&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-added">135 &lt;li&gt;&lt;a href=&quot;#jextracting-lapacke.h-windows&quot;&gt;jextracting lapacke.h (Windows)&lt;/a&gt;&lt;/li&gt;</span>
136 &lt;li&gt;&lt;a href=&quot;#java-sample-code-that-uses-lapack-library&quot;&gt;Java sample code that uses LAPACK library&lt;/a&gt;&lt;/li&gt;
<a name="14" id="anc14"></a><span class="line-modified">137 &lt;li&gt;&lt;a href=&quot;#compiling-and-running-the-above-lapack-sample-mac-os&quot;&gt;Compiling and running the above LAPACK sample (Mac OS)&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-added">138 &lt;li&gt;&lt;a href=&quot;#compiling-and-running-the-above-lapack-sample-windows&quot;&gt;Compiling and running the above LAPACK sample (Windows)&lt;/a&gt;&lt;/li&gt;</span>
139 &lt;/ul&gt;&lt;/li&gt;
<a name="15" id="anc15"></a><span class="line-modified">140 &lt;li&gt;&lt;a href=&quot;#using-libproc-library-to-list-processes-from-java&quot;&gt;Using libproc library to list processes from Java&lt;/a&gt;</span>
141 &lt;ul&gt;
<a name="16" id="anc16"></a><span class="line-modified">142 &lt;li&gt;&lt;a href=&quot;#jextract-libproc.h-mac-os&quot;&gt;jextract libproc.h (Mac OS)&lt;/a&gt;&lt;/li&gt;</span>
143 &lt;li&gt;&lt;a href=&quot;#java-program-that-uses-libproc-to-list-processes&quot;&gt;Java program that uses libproc to list processes&lt;/a&gt;&lt;/li&gt;
<a name="17" id="anc17"></a><span class="line-modified">144 &lt;li&gt;&lt;a href=&quot;#compiling-and-running-the-libproc-sample-mac-os&quot;&gt;Compiling and running the libproc sample (Mac OS)&lt;/a&gt;&lt;/li&gt;</span>
145 &lt;/ul&gt;&lt;/li&gt;
<a name="18" id="anc18"></a><span class="line-modified">146 &lt;li&gt;&lt;a href=&quot;#using-libgit2-from-java&quot;&gt;Using libgit2 from Java&lt;/a&gt;</span>
147 &lt;ul&gt;
<a name="19" id="anc19"></a><span class="line-modified">148 &lt;li&gt;&lt;a href=&quot;#getting-and-building-libgit2-mac-os&quot;&gt;Getting and building libgit2 (Mac OS)&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-modified">149 &lt;li&gt;&lt;a href=&quot;#jextract-git2.h-mac-os&quot;&gt;jextract git2.h (Mac OS)&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-added">150 &lt;li&gt;&lt;a href=&quot;#jextract-git2.h-windows&quot;&gt;jextract git2.h (Windows)&lt;/a&gt;&lt;/li&gt;</span>
151 &lt;li&gt;&lt;a href=&quot;#java-program-that-uses-libgit2-to-clone-github-repo&quot;&gt;Java program that uses libgit2 to clone github repo&lt;/a&gt;&lt;/li&gt;
<a name="20" id="anc20"></a><span class="line-modified">152 &lt;li&gt;&lt;a href=&quot;#compiling-and-running-the-libgit2-sample-mac-os&quot;&gt;Compiling and running the libgit2 sample (Mac OS)&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-added">153 &lt;li&gt;&lt;a href=&quot;#compiling-and-running-the-libgit2-sample-windows&quot;&gt;Compiling and running the libgit2 sample (Windows)&lt;/a&gt;&lt;/li&gt;</span>
154 &lt;li&gt;&lt;a href=&quot;#cloning-a-github-repo-using-the-above-run.sh-command&quot;&gt;Cloning a github repo using the above run.sh command&lt;/a&gt;&lt;/li&gt;
155 &lt;/ul&gt;&lt;/li&gt;
<a name="21" id="anc21"></a><span class="line-modified">156 &lt;li&gt;&lt;a href=&quot;#using-sqlite3-library-from-java&quot;&gt;Using sqlite3 library from Java&lt;/a&gt;</span>
157 &lt;ul&gt;
<a name="22" id="anc22"></a><span class="line-modified">158 &lt;li&gt;&lt;a href=&quot;#jextract-sqlite3.h-mac-os&quot;&gt;jextract sqlite3.h (Mac OS)&lt;/a&gt;&lt;/li&gt;</span>
159 &lt;li&gt;&lt;a href=&quot;#java-program-that-uses-sqlite3&quot;&gt;Java program that uses sqlite3&lt;/a&gt;&lt;/li&gt;
<a name="23" id="anc23"></a><span class="line-modified">160 &lt;li&gt;&lt;a href=&quot;#compiling-and-running-the-sqlite3-sample-mac-os&quot;&gt;Compiling and running the sqlite3 sample (Mac OS)&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-added">161 &lt;/ul&gt;&lt;/li&gt;</span>
<span class="line-added">162 &lt;li&gt;&lt;a href=&quot;#using-opengl-library-from-java&quot;&gt;Using OpenGL library from Java&lt;/a&gt;</span>
<span class="line-added">163 &lt;ul&gt;</span>
<span class="line-added">164 &lt;li&gt;&lt;a href=&quot;#jextract-glut.h-mac-os&quot;&gt;jextract glut.h (Mac OS)&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-added">165 &lt;li&gt;&lt;a href=&quot;#jextract-glut.h-windows&quot;&gt;jextract glut.h (Windows)&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-added">166 &lt;li&gt;&lt;a href=&quot;#java-program-that-uses-opengl&quot;&gt;Java program that uses OpenGL&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-added">167 &lt;li&gt;&lt;a href=&quot;#compiling-and-running-the-opengl-sample-mac-os&quot;&gt;Compiling and running the OpenGL sample (Mac OS)&lt;/a&gt;&lt;/li&gt;</span>
<span class="line-added">168 &lt;li&gt;&lt;a href=&quot;#compiling-and-running-the-opengl-sample-windows&quot;&gt;Compiling and running the OpenGL sample (Windows)&lt;/a&gt;&lt;/li&gt;</span>
169 &lt;/ul&gt;&lt;/li&gt;
170 &lt;/ul&gt;&lt;/li&gt;
171 &lt;/ul&gt;
172 &lt;/nav&gt;
173 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
174 &lt;h1 id=&quot;using-panama-foreign-jextract-jdk&quot;&gt;Using Panama &quot;foreign-jextract&quot; JDK&lt;/h1&gt;
175 &lt;p&gt;You can build &quot;foreign-jextract&quot; branch of panama repo &lt;a href=&quot;https://github.com/openjdk/panama-foreign&quot;&gt;https://github.com/openjdk/panama-foreign&lt;/a&gt;&lt;/p&gt;
176 &lt;p&gt;Using foreign function call in Java involves the following two steps:&lt;/p&gt;
177 &lt;ol type=&quot;1&quot;&gt;
178 &lt;li&gt;Use &lt;strong&gt;jextract&lt;/strong&gt; tool to generate java interface for your C header file(s)&lt;/li&gt;
179 &lt;li&gt;Invoke C functions via the jextracted Java interface&lt;/li&gt;
180 &lt;/ol&gt;
181 &lt;h2 id=&quot;hello-world&quot;&gt;Hello World&lt;/h2&gt;
182 &lt;h3 id=&quot;hello-world-c-header-helloworld.h&quot;&gt;Hello World C Header (helloworld.h)&lt;/h3&gt;
183 &lt;div class=&quot;sourceCode&quot; id=&quot;cb1&quot;&gt;&lt;pre class=&quot;sourceCode c&quot;&gt;&lt;code class=&quot;sourceCode c&quot;&gt;&lt;span id=&quot;cb1-1&quot;&gt;&lt;a href=&quot;#cb1-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
184 &lt;span id=&quot;cb1-2&quot;&gt;&lt;a href=&quot;#cb1-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;pp&quot;&gt;#ifndef helloworld_h&lt;/span&gt;&lt;/span&gt;
185 &lt;span id=&quot;cb1-3&quot;&gt;&lt;a href=&quot;#cb1-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;pp&quot;&gt;#define helloworld_h&lt;/span&gt;&lt;/span&gt;
186 &lt;span id=&quot;cb1-4&quot;&gt;&lt;a href=&quot;#cb1-4&quot;&gt;&lt;/a&gt;&lt;/span&gt;
187 &lt;span id=&quot;cb1-5&quot;&gt;&lt;a href=&quot;#cb1-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; helloworld(&lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt;);&lt;/span&gt;
188 &lt;span id=&quot;cb1-6&quot;&gt;&lt;a href=&quot;#cb1-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;
189 &lt;span id=&quot;cb1-7&quot;&gt;&lt;a href=&quot;#cb1-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;pp&quot;&gt;#endif &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;/* helloworld_h */&lt;/span&gt;&lt;/span&gt;
190 &lt;span id=&quot;cb1-8&quot;&gt;&lt;a href=&quot;#cb1-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
191 &lt;h3 id=&quot;hello-world-c-source-helloworld.c&quot;&gt;Hello World C Source (helloworld.c)&lt;/h3&gt;
192 &lt;div class=&quot;sourceCode&quot; id=&quot;cb2&quot;&gt;&lt;pre class=&quot;sourceCode c&quot;&gt;&lt;code class=&quot;sourceCode c&quot;&gt;&lt;span id=&quot;cb2-1&quot;&gt;&lt;a href=&quot;#cb2-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
193 &lt;span id=&quot;cb2-2&quot;&gt;&lt;a href=&quot;#cb2-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;pp&quot;&gt;#include &lt;/span&gt;&lt;span class=&quot;im&quot;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;/span&gt;
194 &lt;span id=&quot;cb2-3&quot;&gt;&lt;a href=&quot;#cb2-3&quot;&gt;&lt;/a&gt;&lt;/span&gt;
195 &lt;span id=&quot;cb2-4&quot;&gt;&lt;a href=&quot;#cb2-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;pp&quot;&gt;#include &lt;/span&gt;&lt;span class=&quot;im&quot;&gt;&amp;quot;helloworld.h&amp;quot;&lt;/span&gt;&lt;/span&gt;
196 &lt;span id=&quot;cb2-5&quot;&gt;&lt;a href=&quot;#cb2-5&quot;&gt;&lt;/a&gt;&lt;/span&gt;
197 &lt;span id=&quot;cb2-6&quot;&gt;&lt;a href=&quot;#cb2-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; helloworld(&lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt;) {&lt;/span&gt;
198 &lt;span id=&quot;cb2-7&quot;&gt;&lt;a href=&quot;#cb2-7&quot;&gt;&lt;/a&gt;    printf(&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello World!&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;);&lt;/span&gt;
199 &lt;span id=&quot;cb2-8&quot;&gt;&lt;a href=&quot;#cb2-8&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
200 &lt;h3 id=&quot;building-hello-world&quot;&gt;Building Hello World&lt;/h3&gt;
201 &lt;div class=&quot;sourceCode&quot; id=&quot;cb3&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb3-1&quot;&gt;&lt;a href=&quot;#cb3-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
202 &lt;span id=&quot;cb3-2&quot;&gt;&lt;a href=&quot;#cb3-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;fu&quot;&gt;cc&lt;/span&gt; -shared -o libhelloworld.dylib helloworld.c&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
203 &lt;h3 id=&quot;jextract-a-jar-file-for-helloworld.h&quot;&gt;jextract a Jar file for helloworld.h&lt;/h3&gt;
204 &lt;div class=&quot;sourceCode&quot; id=&quot;cb4&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb4-1&quot;&gt;&lt;a href=&quot;#cb4-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
205 &lt;span id=&quot;cb4-2&quot;&gt;&lt;a href=&quot;#cb4-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -t org.hello -lhelloworld helloworld.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
206 &lt;h3 id=&quot;java-program-that-uses-extracted-helloworld-interface&quot;&gt;Java program that uses extracted helloworld interface&lt;/h3&gt;
207 &lt;div class=&quot;sourceCode&quot; id=&quot;cb5&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb5-1&quot;&gt;&lt;a href=&quot;#cb5-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
208 &lt;span id=&quot;cb5-2&quot;&gt;&lt;a href=&quot;#cb5-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.hello.helloworld_h.*;&lt;/span&gt;&lt;/span&gt;
209 &lt;span id=&quot;cb5-3&quot;&gt;&lt;a href=&quot;#cb5-3&quot;&gt;&lt;/a&gt;&lt;/span&gt;
210 &lt;span id=&quot;cb5-4&quot;&gt;&lt;a href=&quot;#cb5-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; HelloWorld {&lt;/span&gt;
211 &lt;span id=&quot;cb5-5&quot;&gt;&lt;a href=&quot;#cb5-5&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
212 &lt;span id=&quot;cb5-6&quot;&gt;&lt;a href=&quot;#cb5-6&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;helloworld&lt;/span&gt;();&lt;/span&gt;
213 &lt;span id=&quot;cb5-7&quot;&gt;&lt;a href=&quot;#cb5-7&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
214 &lt;span id=&quot;cb5-8&quot;&gt;&lt;a href=&quot;#cb5-8&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
215 &lt;h3 id=&quot;running-the-java-code-that-invokes-helloworld&quot;&gt;Running the Java code that invokes helloworld&lt;/h3&gt;
216 &lt;div class=&quot;sourceCode&quot; id=&quot;cb6&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb6-1&quot;&gt;&lt;a href=&quot;#cb6-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
217 &lt;span id=&quot;cb6-2&quot;&gt;&lt;a href=&quot;#cb6-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign HelloWorld.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
<a name="24" id="anc24"></a><span class="line-modified">218 &lt;h2 id=&quot;embedding-python-interpreter-in-your-java-program&quot;&gt;Embedding Python interpreter in your Java program&lt;/h2&gt;</span>
<span class="line-modified">219 &lt;h3 id=&quot;jextract-python.h-mac-os&quot;&gt;jextract Python.h (Mac OS)&lt;/h3&gt;</span>
220 &lt;div class=&quot;sourceCode&quot; id=&quot;cb7&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb7-1&quot;&gt;&lt;a href=&quot;#cb7-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
221 &lt;span id=&quot;cb7-2&quot;&gt;&lt;a href=&quot;#cb7-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
222 &lt;span id=&quot;cb7-3&quot;&gt;&lt;a href=&quot;#cb7-3&quot;&gt;&lt;/a&gt;  -l python2.7 \&lt;/span&gt;
223 &lt;span id=&quot;cb7-4&quot;&gt;&lt;a href=&quot;#cb7-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
224 &lt;span id=&quot;cb7-5&quot;&gt;&lt;a href=&quot;#cb7-5&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/python2.7/ \&lt;/span&gt;
225 &lt;span id=&quot;cb7-6&quot;&gt;&lt;a href=&quot;#cb7-6&quot;&gt;&lt;/a&gt;  -t org.python \&lt;/span&gt;
226 &lt;span id=&quot;cb7-7&quot;&gt;&lt;a href=&quot;#cb7-7&quot;&gt;&lt;/a&gt;   /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/python2.7/Python.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
<a name="25" id="anc25"></a><span class="line-added">227 &lt;h3 id=&quot;shared-windows-utility-script-used-in-all-samples---shared_windows.ps1&quot;&gt;Shared Windows Utility script (used in all samples - shared_windows.ps1)&lt;/h3&gt;</span>
<span class="line-added">228 &lt;div class=&quot;sourceCode&quot; id=&quot;cb8&quot;&gt;&lt;pre class=&quot;sourceCode powershell&quot;&gt;&lt;code class=&quot;sourceCode powershell&quot;&gt;&lt;span id=&quot;cb8-1&quot;&gt;&lt;a href=&quot;#cb8-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">229 &lt;span id=&quot;cb8-2&quot;&gt;&lt;a href=&quot;#cb8-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;$jdk&lt;/span&gt; = &lt;span class=&quot;va&quot;&gt;$Env&lt;/span&gt;:JAVA_HOME&lt;/span&gt;</span>
<span class="line-added">230 &lt;span id=&quot;cb8-3&quot;&gt;&lt;a href=&quot;#cb8-3&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">231 &lt;span id=&quot;cb8-4&quot;&gt;&lt;a href=&quot;#cb8-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;function&lt;/span&gt; find-tool(&lt;span class=&quot;va&quot;&gt;$tool&lt;/span&gt;) {&lt;/span&gt;</span>
<span class="line-added">232 &lt;span id=&quot;cb8-5&quot;&gt;&lt;a href=&quot;#cb8-5&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;fu&quot;&gt;Test-Path&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;$jdk\bin\$tool.exe&amp;quot;&lt;/span&gt;) {&lt;/span&gt;</span>
<span class="line-added">233 &lt;span id=&quot;cb8-6&quot;&gt;&lt;a href=&quot;#cb8-6&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;va&quot;&gt;$func&lt;/span&gt; = {&lt;/span&gt;</span>
<span class="line-added">234 &lt;span id=&quot;cb8-7&quot;&gt;&lt;a href=&quot;#cb8-7&quot;&gt;&lt;/a&gt;      &amp;amp; &lt;span class=&quot;st&quot;&gt;&amp;quot;$jdk\bin\$tool.exe&amp;quot;&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;$args&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-added">235 &lt;span id=&quot;cb8-8&quot;&gt;&lt;a href=&quot;#cb8-8&quot;&gt;&lt;/a&gt;      &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;va&quot;&gt;$LASTEXITCODE&lt;/span&gt; -ne 0) {&lt;/span&gt;</span>
<span class="line-added">236 &lt;span id=&quot;cb8-9&quot;&gt;&lt;a href=&quot;#cb8-9&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;Write-Host&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;ERROR: $tool exited with non-zero exit code: $LASTEXITCODE&amp;quot;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">237 &lt;span id=&quot;cb8-10&quot;&gt;&lt;a href=&quot;#cb8-10&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;exit&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">238 &lt;span id=&quot;cb8-11&quot;&gt;&lt;a href=&quot;#cb8-11&quot;&gt;&lt;/a&gt;      }&lt;/span&gt;</span>
<span class="line-added">239 &lt;span id=&quot;cb8-12&quot;&gt;&lt;a href=&quot;#cb8-12&quot;&gt;&lt;/a&gt;    }.&lt;span class=&quot;fu&quot;&gt;GetNewClosure&lt;/span&gt;()&lt;/span&gt;</span>
<span class="line-added">240 &lt;span id=&quot;cb8-13&quot;&gt;&lt;a href=&quot;#cb8-13&quot;&gt;&lt;/a&gt;    &amp;amp; &lt;span class=&quot;va&quot;&gt;$func&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;Module&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;Set-Variable&lt;/span&gt; jdk &lt;span class=&quot;va&quot;&gt;$jdk&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">241 &lt;span id=&quot;cb8-14&quot;&gt;&lt;a href=&quot;#cb8-14&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;$func&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">242 &lt;span id=&quot;cb8-15&quot;&gt;&lt;a href=&quot;#cb8-15&quot;&gt;&lt;/a&gt;  } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;</span>
<span class="line-added">243 &lt;span id=&quot;cb8-16&quot;&gt;&lt;a href=&quot;#cb8-16&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;fu&quot;&gt;Write-Host&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;ERROR: Could not find $tool executable in %JAVA_HOME%\bin.&amp;quot;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">244 &lt;span id=&quot;cb8-17&quot;&gt;&lt;a href=&quot;#cb8-17&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;exit&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">245 &lt;span id=&quot;cb8-18&quot;&gt;&lt;a href=&quot;#cb8-18&quot;&gt;&lt;/a&gt;  }&lt;/span&gt;</span>
<span class="line-added">246 &lt;span id=&quot;cb8-19&quot;&gt;&lt;a href=&quot;#cb8-19&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">247 &lt;h3 id=&quot;jextract-python.h-windows&quot;&gt;jextract Python.h (Windows)&lt;/h3&gt;</span>
<span class="line-added">248 &lt;div class=&quot;sourceCode&quot; id=&quot;cb9&quot;&gt;&lt;pre class=&quot;sourceCode powershell&quot;&gt;&lt;code class=&quot;sourceCode powershell&quot;&gt;&lt;span id=&quot;cb9-1&quot;&gt;&lt;a href=&quot;#cb9-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">249 &lt;span id=&quot;cb9-2&quot;&gt;&lt;a href=&quot;#cb9-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;param&lt;/span&gt;(&lt;/span&gt;</span>
<span class="line-added">250 &lt;span id=&quot;cb9-3&quot;&gt;&lt;a href=&quot;#cb9-3&quot;&gt;&lt;/a&gt;  [Parameter(Mandatory=&lt;span class=&quot;va&quot;&gt;$true&lt;/span&gt;, HelpMessage=&lt;span class=&quot;st&quot;&gt;&amp;quot;The path python install&amp;quot;&lt;/span&gt;)]&lt;/span&gt;</span>
<span class="line-added">251 &lt;span id=&quot;cb9-4&quot;&gt;&lt;a href=&quot;#cb9-4&quot;&gt;&lt;/a&gt;  [&lt;span class=&quot;dt&quot;&gt;string&lt;/span&gt;]&lt;span class=&quot;va&quot;&gt;$pythonPath&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">252 &lt;span id=&quot;cb9-5&quot;&gt;&lt;a href=&quot;#cb9-5&quot;&gt;&lt;/a&gt;)&lt;/span&gt;</span>
<span class="line-added">253 &lt;span id=&quot;cb9-6&quot;&gt;&lt;a href=&quot;#cb9-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">254 &lt;span id=&quot;cb9-7&quot;&gt;&lt;a href=&quot;#cb9-7&quot;&gt;&lt;/a&gt;. ./shared_windows.&lt;span class=&quot;fu&quot;&gt;ps1&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">255 &lt;span id=&quot;cb9-8&quot;&gt;&lt;a href=&quot;#cb9-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">256 &lt;span id=&quot;cb9-9&quot;&gt;&lt;a href=&quot;#cb9-9&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;$jextract&lt;/span&gt; = find-tool(&lt;span class=&quot;st&quot;&gt;&amp;quot;jextract&amp;quot;&lt;/span&gt;)&lt;/span&gt;</span>
<span class="line-added">257 &lt;span id=&quot;cb9-10&quot;&gt;&lt;a href=&quot;#cb9-10&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">258 &lt;span id=&quot;cb9-11&quot;&gt;&lt;a href=&quot;#cb9-11&quot;&gt;&lt;/a&gt;&amp;amp; &lt;span class=&quot;va&quot;&gt;$jextract&lt;/span&gt; -I &lt;span class=&quot;st&quot;&gt;&amp;quot;$pythonPath\include&amp;quot;&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;-l&amp;quot;&lt;/span&gt; python3 &lt;span class=&quot;st&quot;&gt;&amp;quot;-t&amp;quot;&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;org.python&amp;quot;&lt;/span&gt; -J-Xmx2G -J&lt;span class=&quot;st&quot;&gt;&amp;quot;-Djextract.log=true&amp;quot;&lt;/span&gt; -J&lt;span class=&quot;st&quot;&gt;&amp;quot;-Djextract.debug=true&amp;quot;&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;--&amp;quot;&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;$pythonPath\include\Python.h&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
259 &lt;h3 id=&quot;java-program-that-uses-extracted-python-interface&quot;&gt;Java program that uses extracted Python interface&lt;/h3&gt;
<a name="26" id="anc26"></a><span class="line-modified">260 &lt;div class=&quot;sourceCode&quot; id=&quot;cb10&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb10-1&quot;&gt;&lt;a href=&quot;#cb10-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">261 &lt;span id=&quot;cb10-2&quot;&gt;&lt;a href=&quot;#cb10-2&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">262 &lt;span id=&quot;cb10-3&quot;&gt;&lt;a href=&quot;#cb10-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">263 &lt;span id=&quot;cb10-4&quot;&gt;&lt;a href=&quot;#cb10-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">264 &lt;span id=&quot;cb10-5&quot;&gt;&lt;a href=&quot;#cb10-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;// import jextracted python &amp;#39;header&amp;#39; class&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">265 &lt;span id=&quot;cb10-6&quot;&gt;&lt;a href=&quot;#cb10-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.python.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">266 &lt;span id=&quot;cb10-7&quot;&gt;&lt;a href=&quot;#cb10-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.python.Python_h.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">267 &lt;span id=&quot;cb10-8&quot;&gt;&lt;a href=&quot;#cb10-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">268 &lt;span id=&quot;cb10-9&quot;&gt;&lt;a href=&quot;#cb10-9&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; PythonMain {&lt;/span&gt;</span>
<span class="line-modified">269 &lt;span id=&quot;cb10-10&quot;&gt;&lt;a href=&quot;#cb10-10&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-modified">270 &lt;span id=&quot;cb10-11&quot;&gt;&lt;a href=&quot;#cb10-11&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; script = &lt;span class=&quot;st&quot;&gt;&amp;quot;print(sum([33, 55, 66])); print(&amp;#39;Hello from Python!&amp;#39;)&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">271 &lt;span id=&quot;cb10-12&quot;&gt;&lt;a href=&quot;#cb10-12&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">272 &lt;span id=&quot;cb10-13&quot;&gt;&lt;a href=&quot;#cb10-13&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;Py_Initialize&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">273 &lt;span id=&quot;cb10-14&quot;&gt;&lt;a href=&quot;#cb10-14&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var s = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(script)) {&lt;/span&gt;</span>
<span class="line-modified">274 &lt;span id=&quot;cb10-15&quot;&gt;&lt;a href=&quot;#cb10-15&quot;&gt;&lt;/a&gt;            var str = s.&lt;span class=&quot;fu&quot;&gt;baseAddress&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">275 &lt;span id=&quot;cb10-16&quot;&gt;&lt;a href=&quot;#cb10-16&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;PyRun_SimpleStringFlags&lt;/span&gt;(str, NULL);&lt;/span&gt;</span>
<span class="line-modified">276 &lt;span id=&quot;cb10-17&quot;&gt;&lt;a href=&quot;#cb10-17&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;Py_Finalize&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">277 &lt;span id=&quot;cb10-18&quot;&gt;&lt;a href=&quot;#cb10-18&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-modified">278 &lt;span id=&quot;cb10-19&quot;&gt;&lt;a href=&quot;#cb10-19&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-modified">279 &lt;span id=&quot;cb10-20&quot;&gt;&lt;a href=&quot;#cb10-20&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-modified">280 &lt;h3 id=&quot;running-the-java-code-that-calls-python-interpreter-mac-os&quot;&gt;Running the Java code that calls Python interpreter (Mac OS)&lt;/h3&gt;</span>
<span class="line-modified">281 &lt;div class=&quot;sourceCode&quot; id=&quot;cb11&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb11-1&quot;&gt;&lt;a href=&quot;#cb11-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">282 &lt;span id=&quot;cb11-2&quot;&gt;&lt;a href=&quot;#cb11-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;</span>
<span class="line-modified">283 &lt;span id=&quot;cb11-3&quot;&gt;&lt;a href=&quot;#cb11-3&quot;&gt;&lt;/a&gt;    -Djava.library.path=/System/Library/Frameworks/Python.framework/Versions/2.7/lib \&lt;/span&gt;</span>
<span class="line-modified">284 &lt;span id=&quot;cb11-4&quot;&gt;&lt;a href=&quot;#cb11-4&quot;&gt;&lt;/a&gt;    PythonMain.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-modified">285 &lt;h3 id=&quot;running-the-java-code-that-calls-python-interpreter-windows&quot;&gt;Running the Java code that calls Python interpreter (Windows)&lt;/h3&gt;</span>
<span class="line-modified">286 &lt;div class=&quot;sourceCode&quot; id=&quot;cb12&quot;&gt;&lt;pre class=&quot;sourceCode powershell&quot;&gt;&lt;code class=&quot;sourceCode powershell&quot;&gt;&lt;span id=&quot;cb12-1&quot;&gt;&lt;a href=&quot;#cb12-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">287 &lt;span id=&quot;cb12-2&quot;&gt;&lt;a href=&quot;#cb12-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;param&lt;/span&gt;(&lt;/span&gt;</span>
<span class="line-modified">288 &lt;span id=&quot;cb12-3&quot;&gt;&lt;a href=&quot;#cb12-3&quot;&gt;&lt;/a&gt;  [Parameter(Mandatory=&lt;span class=&quot;va&quot;&gt;$true&lt;/span&gt;, HelpMessage=&lt;span class=&quot;st&quot;&gt;&amp;quot;The path python install&amp;quot;&lt;/span&gt;)]&lt;/span&gt;</span>
<span class="line-modified">289 &lt;span id=&quot;cb12-4&quot;&gt;&lt;a href=&quot;#cb12-4&quot;&gt;&lt;/a&gt;  [&lt;span class=&quot;dt&quot;&gt;string&lt;/span&gt;]&lt;span class=&quot;va&quot;&gt;$pythonPath&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">290 &lt;span id=&quot;cb12-5&quot;&gt;&lt;a href=&quot;#cb12-5&quot;&gt;&lt;/a&gt;)&lt;/span&gt;</span>
<span class="line-modified">291 &lt;span id=&quot;cb12-6&quot;&gt;&lt;a href=&quot;#cb12-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">292 &lt;span id=&quot;cb12-7&quot;&gt;&lt;a href=&quot;#cb12-7&quot;&gt;&lt;/a&gt;. ./shared_windows.&lt;span class=&quot;fu&quot;&gt;ps1&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">293 &lt;span id=&quot;cb12-8&quot;&gt;&lt;a href=&quot;#cb12-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">294 &lt;span id=&quot;cb12-9&quot;&gt;&lt;a href=&quot;#cb12-9&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;$java&lt;/span&gt; = find-tool(&lt;span class=&quot;st&quot;&gt;&amp;quot;java&amp;quot;&lt;/span&gt;)&lt;/span&gt;</span>
<span class="line-added">295 &lt;span id=&quot;cb12-10&quot;&gt;&lt;a href=&quot;#cb12-10&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">296 &lt;span id=&quot;cb12-11&quot;&gt;&lt;a href=&quot;#cb12-11&quot;&gt;&lt;/a&gt;&amp;amp; &lt;span class=&quot;va&quot;&gt;$java&lt;/span&gt; -D&lt;span class=&quot;st&quot;&gt;&amp;quot;foreign.restricted=permit&amp;quot;&lt;/span&gt; --add-modules jdk.&lt;span class=&quot;fu&quot;&gt;incubator&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;foreign&lt;/span&gt; -D&lt;span class=&quot;st&quot;&gt;&amp;quot;java.library.path=$pythonPath&amp;quot;&lt;/span&gt; PythonMain.&lt;span class=&quot;fu&quot;&gt;java&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">297 &lt;h2 id=&quot;using-readline-library-from-java-code&quot;&gt;Using readline library from Java code&lt;/h2&gt;</span>
<span class="line-added">298 &lt;h3 id=&quot;jextract-readline.h-mac-os&quot;&gt;jextract readline.h (Mac OS)&lt;/h3&gt;</span>
<span class="line-added">299 &lt;div class=&quot;sourceCode&quot; id=&quot;cb13&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb13-1&quot;&gt;&lt;a href=&quot;#cb13-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">300 &lt;span id=&quot;cb13-2&quot;&gt;&lt;a href=&quot;#cb13-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;</span>
<span class="line-added">301 &lt;span id=&quot;cb13-3&quot;&gt;&lt;a href=&quot;#cb13-3&quot;&gt;&lt;/a&gt;  -l readline -t org.unix \&lt;/span&gt;</span>
<span class="line-added">302 &lt;span id=&quot;cb13-4&quot;&gt;&lt;a href=&quot;#cb13-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;</span>
<span class="line-added">303 &lt;span id=&quot;cb13-5&quot;&gt;&lt;a href=&quot;#cb13-5&quot;&gt;&lt;/a&gt;   /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/readline/readline.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
304 &lt;h3 id=&quot;java-code-that-uses-readline&quot;&gt;Java code that uses readline&lt;/h3&gt;
<a name="27" id="anc27"></a><span class="line-modified">305 &lt;div class=&quot;sourceCode&quot; id=&quot;cb14&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb14-1&quot;&gt;&lt;a href=&quot;#cb14-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">306 &lt;span id=&quot;cb14-2&quot;&gt;&lt;a href=&quot;#cb14-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">307 &lt;span id=&quot;cb14-3&quot;&gt;&lt;a href=&quot;#cb14-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.readline_h.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">308 &lt;span id=&quot;cb14-4&quot;&gt;&lt;a href=&quot;#cb14-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">309 &lt;span id=&quot;cb14-5&quot;&gt;&lt;a href=&quot;#cb14-5&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">310 &lt;span id=&quot;cb14-6&quot;&gt;&lt;a href=&quot;#cb14-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; Readline {&lt;/span&gt;</span>
<span class="line-modified">311 &lt;span id=&quot;cb14-7&quot;&gt;&lt;a href=&quot;#cb14-7&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-modified">312 &lt;span id=&quot;cb14-8&quot;&gt;&lt;a href=&quot;#cb14-8&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var s = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;name? &amp;quot;&lt;/span&gt;)) {&lt;/span&gt;</span>
<span class="line-modified">313 &lt;span id=&quot;cb14-9&quot;&gt;&lt;a href=&quot;#cb14-9&quot;&gt;&lt;/a&gt;            var pstr = s.&lt;span class=&quot;fu&quot;&gt;baseAddress&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">314 &lt;span id=&quot;cb14-10&quot;&gt;&lt;a href=&quot;#cb14-10&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// call &amp;quot;readline&amp;quot; API&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">315 &lt;span id=&quot;cb14-11&quot;&gt;&lt;a href=&quot;#cb14-11&quot;&gt;&lt;/a&gt;            var p = &lt;span class=&quot;fu&quot;&gt;readline&lt;/span&gt;(pstr);&lt;/span&gt;</span>
<span class="line-modified">316 &lt;span id=&quot;cb14-12&quot;&gt;&lt;a href=&quot;#cb14-12&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">317 &lt;span id=&quot;cb14-13&quot;&gt;&lt;a href=&quot;#cb14-13&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// print char* as is&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">318 &lt;span id=&quot;cb14-14&quot;&gt;&lt;a href=&quot;#cb14-14&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(p);&lt;/span&gt;</span>
<span class="line-modified">319 &lt;span id=&quot;cb14-15&quot;&gt;&lt;a href=&quot;#cb14-15&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// convert char* ptr from readline as Java String &amp;amp; print it&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">320 &lt;span id=&quot;cb14-16&quot;&gt;&lt;a href=&quot;#cb14-16&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello, &amp;quot;&lt;/span&gt; + &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(p));&lt;/span&gt;</span>
<span class="line-modified">321 &lt;span id=&quot;cb14-17&quot;&gt;&lt;a href=&quot;#cb14-17&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-modified">322 &lt;span id=&quot;cb14-18&quot;&gt;&lt;a href=&quot;#cb14-18&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-modified">323 &lt;span id=&quot;cb14-19&quot;&gt;&lt;a href=&quot;#cb14-19&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-modified">324 &lt;h3 id=&quot;running-the-java-code-that-uses-readline-mac-os&quot;&gt;Running the java code that uses readline (Mac OS)&lt;/h3&gt;</span>
325 &lt;pre&gt;&lt;code&gt;java -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \
326     -Djava.library.path=/usr/local/opt/readline/lib/ Readline.java
327 &lt;/code&gt;&lt;/pre&gt;
<a name="28" id="anc28"></a><span class="line-modified">328 &lt;h2 id=&quot;using-libcurl-from-java&quot;&gt;Using libcurl from Java&lt;/h2&gt;</span>
<span class="line-modified">329 &lt;h3 id=&quot;jextract-curl.h-mac-os&quot;&gt;jextract curl.h (Mac OS)&lt;/h3&gt;</span>
<span class="line-modified">330 &lt;div class=&quot;sourceCode&quot; id=&quot;cb16&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb16-1&quot;&gt;&lt;a href=&quot;#cb16-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">331 &lt;span id=&quot;cb16-2&quot;&gt;&lt;a href=&quot;#cb16-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -t org.jextract -lcurl \&lt;/span&gt;</span>
<span class="line-modified">332 &lt;span id=&quot;cb16-3&quot;&gt;&lt;a href=&quot;#cb16-3&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/ \&lt;/span&gt;</span>
<span class="line-modified">333 &lt;span id=&quot;cb16-4&quot;&gt;&lt;a href=&quot;#cb16-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/curl/ \&lt;/span&gt;</span>
<span class="line-modified">334 &lt;span id=&quot;cb16-5&quot;&gt;&lt;a href=&quot;#cb16-5&quot;&gt;&lt;/a&gt;  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/curl/curl.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">335 &lt;h3 id=&quot;jextract-curl.h-windows&quot;&gt;jextract curl.h (Windows)&lt;/h3&gt;</span>
<span class="line-added">336 &lt;div class=&quot;sourceCode&quot; id=&quot;cb17&quot;&gt;&lt;pre class=&quot;sourceCode powershell&quot;&gt;&lt;code class=&quot;sourceCode powershell&quot;&gt;&lt;span id=&quot;cb17-1&quot;&gt;&lt;a href=&quot;#cb17-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">337 &lt;span id=&quot;cb17-2&quot;&gt;&lt;a href=&quot;#cb17-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;param&lt;/span&gt;(&lt;/span&gt;</span>
<span class="line-added">338 &lt;span id=&quot;cb17-3&quot;&gt;&lt;a href=&quot;#cb17-3&quot;&gt;&lt;/a&gt;  [Parameter(Mandatory=&lt;span class=&quot;va&quot;&gt;$true&lt;/span&gt;, HelpMessage=&lt;span class=&quot;st&quot;&gt;&amp;quot;The path to the lib curl installation&amp;quot;&lt;/span&gt;)]&lt;/span&gt;</span>
<span class="line-added">339 &lt;span id=&quot;cb17-4&quot;&gt;&lt;a href=&quot;#cb17-4&quot;&gt;&lt;/a&gt;  [&lt;span class=&quot;dt&quot;&gt;string&lt;/span&gt;]&lt;span class=&quot;va&quot;&gt;$curlpath&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">340 &lt;span id=&quot;cb17-5&quot;&gt;&lt;a href=&quot;#cb17-5&quot;&gt;&lt;/a&gt;)&lt;/span&gt;</span>
<span class="line-added">341 &lt;span id=&quot;cb17-6&quot;&gt;&lt;a href=&quot;#cb17-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">342 &lt;span id=&quot;cb17-7&quot;&gt;&lt;a href=&quot;#cb17-7&quot;&gt;&lt;/a&gt;. ./shared_windows.&lt;span class=&quot;fu&quot;&gt;ps1&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">343 &lt;span id=&quot;cb17-8&quot;&gt;&lt;a href=&quot;#cb17-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">344 &lt;span id=&quot;cb17-9&quot;&gt;&lt;a href=&quot;#cb17-9&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;$jextract&lt;/span&gt; = find-tool(&lt;span class=&quot;st&quot;&gt;&amp;quot;jextract&amp;quot;&lt;/span&gt;)&lt;/span&gt;</span>
<span class="line-added">345 &lt;span id=&quot;cb17-10&quot;&gt;&lt;a href=&quot;#cb17-10&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">346 &lt;span id=&quot;cb17-11&quot;&gt;&lt;a href=&quot;#cb17-11&quot;&gt;&lt;/a&gt;&amp;amp; &lt;span class=&quot;va&quot;&gt;$jextract&lt;/span&gt; -t org.&lt;span class=&quot;fu&quot;&gt;jextract&lt;/span&gt; -I &lt;span class=&quot;st&quot;&gt;&amp;quot;$curlpath\include&amp;quot;&lt;/span&gt; -I &lt;span class=&quot;st&quot;&gt;&amp;quot;$curlpath\include\curl&amp;quot;&lt;/span&gt; -J-Xmx2G -llibcurl --filter &amp;#39;curl&amp;#39; -- &lt;span class=&quot;st&quot;&gt;&amp;quot;$curlpath\include\curl\curl.h&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
347 &lt;h3 id=&quot;java-code-that-uses-libcurl&quot;&gt;Java code that uses libcurl&lt;/h3&gt;
<a name="29" id="anc29"></a><span class="line-modified">348 &lt;div class=&quot;sourceCode&quot; id=&quot;cb18&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb18-1&quot;&gt;&lt;a href=&quot;#cb18-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">349 &lt;span id=&quot;cb18-2&quot;&gt;&lt;a href=&quot;#cb18-2&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">350 &lt;span id=&quot;cb18-3&quot;&gt;&lt;a href=&quot;#cb18-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">351 &lt;span id=&quot;cb18-4&quot;&gt;&lt;a href=&quot;#cb18-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.jextract.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">352 &lt;span id=&quot;cb18-5&quot;&gt;&lt;a href=&quot;#cb18-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.jextract.curl_h.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">353 &lt;span id=&quot;cb18-6&quot;&gt;&lt;a href=&quot;#cb18-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">354 &lt;span id=&quot;cb18-7&quot;&gt;&lt;a href=&quot;#cb18-7&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">355 &lt;span id=&quot;cb18-8&quot;&gt;&lt;a href=&quot;#cb18-8&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; CurlMain {&lt;/span&gt;</span>
<span class="line-modified">356 &lt;span id=&quot;cb18-9&quot;&gt;&lt;a href=&quot;#cb18-9&quot;&gt;&lt;/a&gt;   &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-modified">357 &lt;span id=&quot;cb18-10&quot;&gt;&lt;a href=&quot;#cb18-10&quot;&gt;&lt;/a&gt;       var urlStr = args[&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;];&lt;/span&gt;</span>
<span class="line-modified">358 &lt;span id=&quot;cb18-11&quot;&gt;&lt;a href=&quot;#cb18-11&quot;&gt;&lt;/a&gt;       &lt;span class=&quot;fu&quot;&gt;curl_global_init&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;CURL_GLOBAL_DEFAULT&lt;/span&gt;());&lt;/span&gt;</span>
<span class="line-modified">359 &lt;span id=&quot;cb18-12&quot;&gt;&lt;a href=&quot;#cb18-12&quot;&gt;&lt;/a&gt;       var curl = &lt;span class=&quot;fu&quot;&gt;curl_easy_init&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">360 &lt;span id=&quot;cb18-13&quot;&gt;&lt;a href=&quot;#cb18-13&quot;&gt;&lt;/a&gt;       &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt;(!curl.&lt;span class=&quot;fu&quot;&gt;equals&lt;/span&gt;(NULL)) {&lt;/span&gt;</span>
<span class="line-modified">361 &lt;span id=&quot;cb18-14&quot;&gt;&lt;a href=&quot;#cb18-14&quot;&gt;&lt;/a&gt;           &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var s = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(urlStr)) {&lt;/span&gt;</span>
<span class="line-modified">362 &lt;span id=&quot;cb18-15&quot;&gt;&lt;a href=&quot;#cb18-15&quot;&gt;&lt;/a&gt;               var url = s.&lt;span class=&quot;fu&quot;&gt;baseAddress&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">363 &lt;span id=&quot;cb18-16&quot;&gt;&lt;a href=&quot;#cb18-16&quot;&gt;&lt;/a&gt;               &lt;span class=&quot;fu&quot;&gt;curl_easy_setopt&lt;/span&gt;(curl, &lt;span class=&quot;fu&quot;&gt;CURLOPT_URL&lt;/span&gt;(), url);&lt;/span&gt;</span>
<span class="line-modified">364 &lt;span id=&quot;cb18-17&quot;&gt;&lt;a href=&quot;#cb18-17&quot;&gt;&lt;/a&gt;               &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; res = &lt;span class=&quot;fu&quot;&gt;curl_easy_perform&lt;/span&gt;(curl);&lt;/span&gt;</span>
<span class="line-modified">365 &lt;span id=&quot;cb18-18&quot;&gt;&lt;a href=&quot;#cb18-18&quot;&gt;&lt;/a&gt;               &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (res != &lt;span class=&quot;fu&quot;&gt;CURLE_OK&lt;/span&gt;()) {&lt;/span&gt;</span>
<span class="line-modified">366 &lt;span id=&quot;cb18-19&quot;&gt;&lt;a href=&quot;#cb18-19&quot;&gt;&lt;/a&gt;                   &lt;span class=&quot;fu&quot;&gt;curl_easy_cleanup&lt;/span&gt;(curl);&lt;/span&gt;</span>
<span class="line-modified">367 &lt;span id=&quot;cb18-20&quot;&gt;&lt;a href=&quot;#cb18-20&quot;&gt;&lt;/a&gt;               }&lt;/span&gt;</span>
<span class="line-modified">368 &lt;span id=&quot;cb18-21&quot;&gt;&lt;a href=&quot;#cb18-21&quot;&gt;&lt;/a&gt;           }&lt;/span&gt;</span>
<span class="line-modified">369 &lt;span id=&quot;cb18-22&quot;&gt;&lt;a href=&quot;#cb18-22&quot;&gt;&lt;/a&gt;       }&lt;/span&gt;</span>
<span class="line-modified">370 &lt;span id=&quot;cb18-23&quot;&gt;&lt;a href=&quot;#cb18-23&quot;&gt;&lt;/a&gt;       &lt;span class=&quot;fu&quot;&gt;curl_global_cleanup&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">371 &lt;span id=&quot;cb18-24&quot;&gt;&lt;a href=&quot;#cb18-24&quot;&gt;&lt;/a&gt;   }&lt;/span&gt;</span>
<span class="line-modified">372 &lt;span id=&quot;cb18-25&quot;&gt;&lt;a href=&quot;#cb18-25&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-modified">373 &lt;h3 id=&quot;running-the-java-code-that-uses-libcurl-mac-os&quot;&gt;Running the java code that uses libcurl (Mac OS)&lt;/h3&gt;</span>
<span class="line-modified">374 &lt;div class=&quot;sourceCode&quot; id=&quot;cb19&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb19-1&quot;&gt;&lt;a href=&quot;#cb19-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">375 &lt;span id=&quot;cb19-2&quot;&gt;&lt;a href=&quot;#cb19-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;# run this shell script by passing a URL as first argument&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">376 &lt;span id=&quot;cb19-3&quot;&gt;&lt;a href=&quot;#cb19-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;</span>
<span class="line-modified">377 &lt;span id=&quot;cb19-4&quot;&gt;&lt;a href=&quot;#cb19-4&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/lib CurlMain.java &lt;span class=&quot;va&quot;&gt;$*&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">378 &lt;h3 id=&quot;running-the-java-code-that-uses-libcurl-windows&quot;&gt;Running the java code that uses libcurl (Windows)&lt;/h3&gt;</span>
<span class="line-added">379 &lt;div class=&quot;sourceCode&quot; id=&quot;cb20&quot;&gt;&lt;pre class=&quot;sourceCode powershell&quot;&gt;&lt;code class=&quot;sourceCode powershell&quot;&gt;&lt;span id=&quot;cb20-1&quot;&gt;&lt;a href=&quot;#cb20-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">380 &lt;span id=&quot;cb20-2&quot;&gt;&lt;a href=&quot;#cb20-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;param&lt;/span&gt;(&lt;/span&gt;</span>
<span class="line-added">381 &lt;span id=&quot;cb20-3&quot;&gt;&lt;a href=&quot;#cb20-3&quot;&gt;&lt;/a&gt;  [Parameter(Mandatory=&lt;span class=&quot;va&quot;&gt;$true&lt;/span&gt;, HelpMessage=&lt;span class=&quot;st&quot;&gt;&amp;quot;The path to the lib curl installation&amp;quot;&lt;/span&gt;)]&lt;/span&gt;</span>
<span class="line-added">382 &lt;span id=&quot;cb20-4&quot;&gt;&lt;a href=&quot;#cb20-4&quot;&gt;&lt;/a&gt;  [&lt;span class=&quot;dt&quot;&gt;string&lt;/span&gt;]&lt;span class=&quot;va&quot;&gt;$curlpath&lt;/span&gt;,&lt;/span&gt;</span>
<span class="line-added">383 &lt;span id=&quot;cb20-5&quot;&gt;&lt;a href=&quot;#cb20-5&quot;&gt;&lt;/a&gt;  [Parameter(Mandatory=&lt;span class=&quot;va&quot;&gt;$true&lt;/span&gt;, HelpMessage=&lt;span class=&quot;st&quot;&gt;&amp;quot;URL to get&amp;quot;&lt;/span&gt;)]&lt;/span&gt;</span>
<span class="line-added">384 &lt;span id=&quot;cb20-6&quot;&gt;&lt;a href=&quot;#cb20-6&quot;&gt;&lt;/a&gt;  [&lt;span class=&quot;dt&quot;&gt;string&lt;/span&gt;]&lt;span class=&quot;va&quot;&gt;$url&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">385 &lt;span id=&quot;cb20-7&quot;&gt;&lt;a href=&quot;#cb20-7&quot;&gt;&lt;/a&gt;)&lt;/span&gt;</span>
<span class="line-added">386 &lt;span id=&quot;cb20-8&quot;&gt;&lt;a href=&quot;#cb20-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">387 &lt;span id=&quot;cb20-9&quot;&gt;&lt;a href=&quot;#cb20-9&quot;&gt;&lt;/a&gt;. ./shared_windows.&lt;span class=&quot;fu&quot;&gt;ps1&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">388 &lt;span id=&quot;cb20-10&quot;&gt;&lt;a href=&quot;#cb20-10&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">389 &lt;span id=&quot;cb20-11&quot;&gt;&lt;a href=&quot;#cb20-11&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;$java&lt;/span&gt; = find-tool(&lt;span class=&quot;st&quot;&gt;&amp;quot;java&amp;quot;&lt;/span&gt;)&lt;/span&gt;</span>
<span class="line-added">390 &lt;span id=&quot;cb20-12&quot;&gt;&lt;a href=&quot;#cb20-12&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">391 &lt;span id=&quot;cb20-13&quot;&gt;&lt;a href=&quot;#cb20-13&quot;&gt;&lt;/a&gt;&amp;amp; &lt;span class=&quot;va&quot;&gt;$java&lt;/span&gt; -D&lt;span class=&quot;st&quot;&gt;&amp;quot;foreign.restricted=permit&amp;quot;&lt;/span&gt; --add-modules jdk.&lt;span class=&quot;fu&quot;&gt;incubator&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;foreign&lt;/span&gt; -D&lt;span class=&quot;st&quot;&gt;&amp;quot;java.library.path=$curlpath\bin&amp;quot;&lt;/span&gt; CurlMain.&lt;span class=&quot;fu&quot;&gt;java&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;$url&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
392 &lt;h2 id=&quot;using-blas-library&quot;&gt;Using BLAS library&lt;/h2&gt;
393 &lt;p&gt;BLAS is a popular library that allows fast matrix and vector computation: &lt;a href=&quot;http://www.netlib.org/blas/&quot;&gt;http://www.netlib.org/blas/&lt;/a&gt;.&lt;/p&gt;
394 &lt;h3 id=&quot;installing-openblas-mac-os&quot;&gt;Installing OpenBLAS (Mac OS)&lt;/h3&gt;
395 &lt;p&gt;On Mac, blas is available as part of the OpenBLAS library: &lt;a href=&quot;https://github.com/xianyi/OpenBLAS/wiki&quot;&gt;https://github.com/xianyi/OpenBLAS/wiki&lt;/a&gt;&lt;/p&gt;
396 &lt;p&gt;OpenBLAS is an optimized BLAS library based on GotoBLAS2 1.13 BSD version.&lt;/p&gt;
397 &lt;p&gt;You can install openblas using HomeBrew&lt;/p&gt;
<a name="30" id="anc30"></a><span class="line-modified">398 &lt;div class=&quot;sourceCode&quot; id=&quot;cb21&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb21-1&quot;&gt;&lt;a href=&quot;#cb21-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">399 &lt;span id=&quot;cb21-2&quot;&gt;&lt;a href=&quot;#cb21-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;brew&lt;/span&gt; install openblas&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
400 &lt;p&gt;It installs include and lib directories under /usr/local/opt/openblas&lt;/p&gt;
<a name="31" id="anc31"></a><span class="line-modified">401 &lt;h3 id=&quot;jextracting-cblas.h-mac-os&quot;&gt;jextracting cblas.h (Mac OS)&lt;/h3&gt;</span>
402 &lt;p&gt;The following command can be used to extract cblas.h on MacOs&lt;/p&gt;
<a name="32" id="anc32"></a>





























































































































403 &lt;div class=&quot;sourceCode&quot; id=&quot;cb22&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb22-1&quot;&gt;&lt;a href=&quot;#cb22-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
<a name="33" id="anc33"></a><span class="line-modified">404 &lt;span id=&quot;cb22-2&quot;&gt;&lt;a href=&quot;#cb22-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -C &lt;span class=&quot;st&quot;&gt;&amp;quot;-D FORCE_OPENBLAS_COMPLEX_STRUCT&amp;quot;&lt;/span&gt; \&lt;/span&gt;</span>
<span class="line-modified">405 &lt;span id=&quot;cb22-3&quot;&gt;&lt;a href=&quot;#cb22-3&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;</span>
<span class="line-modified">406 &lt;span id=&quot;cb22-4&quot;&gt;&lt;a href=&quot;#cb22-4&quot;&gt;&lt;/a&gt;  -l openblas -t blas /usr/local/opt/openblas/include/cblas.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-modified">407 &lt;h3 id=&quot;jextracting-cblas.h-windows&quot;&gt;jextracting cblas.h (Windows)&lt;/h3&gt;</span>
<span class="line-modified">408 &lt;div class=&quot;sourceCode&quot; id=&quot;cb23&quot;&gt;&lt;pre class=&quot;sourceCode powershell&quot;&gt;&lt;code class=&quot;sourceCode powershell&quot;&gt;&lt;span id=&quot;cb23-1&quot;&gt;&lt;a href=&quot;#cb23-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">409 &lt;span id=&quot;cb23-2&quot;&gt;&lt;a href=&quot;#cb23-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;param&lt;/span&gt;(&lt;/span&gt;</span>
<span class="line-modified">410 &lt;span id=&quot;cb23-3&quot;&gt;&lt;a href=&quot;#cb23-3&quot;&gt;&lt;/a&gt;  [Parameter(Mandatory=&lt;span class=&quot;va&quot;&gt;$true&lt;/span&gt;, HelpMessage=&lt;span class=&quot;st&quot;&gt;&amp;quot;The path to the lapack installation which include/cblas.h and dependent headers&amp;quot;&lt;/span&gt;)]&lt;/span&gt;</span>
<span class="line-modified">411 &lt;span id=&quot;cb23-4&quot;&gt;&lt;a href=&quot;#cb23-4&quot;&gt;&lt;/a&gt;  [&lt;span class=&quot;dt&quot;&gt;string&lt;/span&gt;]&lt;span class=&quot;va&quot;&gt;$blasPath&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">412 &lt;span id=&quot;cb23-5&quot;&gt;&lt;a href=&quot;#cb23-5&quot;&gt;&lt;/a&gt;)&lt;/span&gt;</span>
<span class="line-modified">413 &lt;span id=&quot;cb23-6&quot;&gt;&lt;a href=&quot;#cb23-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">414 &lt;span id=&quot;cb23-7&quot;&gt;&lt;a href=&quot;#cb23-7&quot;&gt;&lt;/a&gt;. ./shared_windows.&lt;span class=&quot;fu&quot;&gt;ps1&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">415 &lt;span id=&quot;cb23-8&quot;&gt;&lt;a href=&quot;#cb23-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">416 &lt;span id=&quot;cb23-9&quot;&gt;&lt;a href=&quot;#cb23-9&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;$jextract&lt;/span&gt; = find-tool(&lt;span class=&quot;st&quot;&gt;&amp;quot;jextract&amp;quot;&lt;/span&gt;)&lt;/span&gt;</span>
<span class="line-added">417 &lt;span id=&quot;cb23-10&quot;&gt;&lt;a href=&quot;#cb23-10&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">418 &lt;span id=&quot;cb23-11&quot;&gt;&lt;a href=&quot;#cb23-11&quot;&gt;&lt;/a&gt;&amp;amp; &lt;span class=&quot;va&quot;&gt;$jextract&lt;/span&gt; -t blas -I &lt;span class=&quot;st&quot;&gt;&amp;quot;$blasPath\include&amp;quot;&lt;/span&gt; -l libcblas -J-Xmx2G --filter &amp;#39;cblas.&lt;span class=&quot;fu&quot;&gt;h&lt;/span&gt;&amp;#39; -- &lt;span class=&quot;st&quot;&gt;&amp;quot;$blasPath\include\cblas.h&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">419 &lt;h3 id=&quot;java-sample-code-that-uses-cblas-library&quot;&gt;Java sample code that uses cblas library&lt;/h3&gt;</span>
420 &lt;div class=&quot;sourceCode&quot; id=&quot;cb24&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb24-1&quot;&gt;&lt;a href=&quot;#cb24-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
<a name="34" id="anc34"></a><span class="line-modified">421 &lt;span id=&quot;cb24-2&quot;&gt;&lt;a href=&quot;#cb24-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">422 &lt;span id=&quot;cb24-3&quot;&gt;&lt;a href=&quot;#cb24-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAccess;&lt;/span&gt;&lt;/span&gt;</span>
423 &lt;span id=&quot;cb24-4&quot;&gt;&lt;a href=&quot;#cb24-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;
<a name="35" id="anc35"></a><span class="line-modified">424 &lt;span id=&quot;cb24-5&quot;&gt;&lt;a href=&quot;#cb24-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; blas.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">425 &lt;span id=&quot;cb24-6&quot;&gt;&lt;a href=&quot;#cb24-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; blas.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">426 &lt;span id=&quot;cb24-7&quot;&gt;&lt;a href=&quot;#cb24-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; blas.cblas_h.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">427 &lt;span id=&quot;cb24-8&quot;&gt;&lt;a href=&quot;#cb24-8&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">428 &lt;span id=&quot;cb24-9&quot;&gt;&lt;a href=&quot;#cb24-9&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">429 &lt;span id=&quot;cb24-10&quot;&gt;&lt;a href=&quot;#cb24-10&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; TestBlas {&lt;/span&gt;</span>
<span class="line-modified">430 &lt;span id=&quot;cb24-11&quot;&gt;&lt;a href=&quot;#cb24-11&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-modified">431 &lt;span id=&quot;cb24-12&quot;&gt;&lt;a href=&quot;#cb24-12&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; Layout;&lt;/span&gt;</span>
<span class="line-modified">432 &lt;span id=&quot;cb24-13&quot;&gt;&lt;a href=&quot;#cb24-13&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; transa;&lt;/span&gt;</span>
<span class="line-modified">433 &lt;span id=&quot;cb24-14&quot;&gt;&lt;a href=&quot;#cb24-14&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">434 &lt;span id=&quot;cb24-15&quot;&gt;&lt;a href=&quot;#cb24-15&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt; alpha, beta;&lt;/span&gt;</span>
<span class="line-modified">435 &lt;span id=&quot;cb24-16&quot;&gt;&lt;a href=&quot;#cb24-16&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; m, n, lda, incx, incy, i;&lt;/span&gt;</span>
<span class="line-modified">436 &lt;span id=&quot;cb24-17&quot;&gt;&lt;a href=&quot;#cb24-17&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">437 &lt;span id=&quot;cb24-18&quot;&gt;&lt;a href=&quot;#cb24-18&quot;&gt;&lt;/a&gt;        Layout = &lt;span class=&quot;fu&quot;&gt;CblasColMajor&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">438 &lt;span id=&quot;cb24-19&quot;&gt;&lt;a href=&quot;#cb24-19&quot;&gt;&lt;/a&gt;        transa = &lt;span class=&quot;fu&quot;&gt;CblasNoTrans&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">439 &lt;span id=&quot;cb24-20&quot;&gt;&lt;a href=&quot;#cb24-20&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">440 &lt;span id=&quot;cb24-21&quot;&gt;&lt;a href=&quot;#cb24-21&quot;&gt;&lt;/a&gt;        m = &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;; &lt;span class=&quot;co&quot;&gt;/* Size of Column ( the number of rows ) */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">441 &lt;span id=&quot;cb24-22&quot;&gt;&lt;a href=&quot;#cb24-22&quot;&gt;&lt;/a&gt;        n = &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;; &lt;span class=&quot;co&quot;&gt;/* Size of Row ( the number of columns ) */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">442 &lt;span id=&quot;cb24-23&quot;&gt;&lt;a href=&quot;#cb24-23&quot;&gt;&lt;/a&gt;        lda = &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;; &lt;span class=&quot;co&quot;&gt;/* Leading dimension of 5 * 4 matrix is 5 */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">443 &lt;span id=&quot;cb24-24&quot;&gt;&lt;a href=&quot;#cb24-24&quot;&gt;&lt;/a&gt;        incx = &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">444 &lt;span id=&quot;cb24-25&quot;&gt;&lt;a href=&quot;#cb24-25&quot;&gt;&lt;/a&gt;        incy = &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">445 &lt;span id=&quot;cb24-26&quot;&gt;&lt;a href=&quot;#cb24-26&quot;&gt;&lt;/a&gt;        alpha = &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">446 &lt;span id=&quot;cb24-27&quot;&gt;&lt;a href=&quot;#cb24-27&quot;&gt;&lt;/a&gt;        beta = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">447 &lt;span id=&quot;cb24-28&quot;&gt;&lt;a href=&quot;#cb24-28&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">448 &lt;span id=&quot;cb24-29&quot;&gt;&lt;a href=&quot;#cb24-29&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;</span>
<span class="line-modified">449 &lt;span id=&quot;cb24-30&quot;&gt;&lt;a href=&quot;#cb24-30&quot;&gt;&lt;/a&gt;            var a = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(C_DOUBLE, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt;[] {&lt;/span&gt;</span>
<span class="line-modified">450 &lt;span id=&quot;cb24-31&quot;&gt;&lt;a href=&quot;#cb24-31&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;2.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;3.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;4.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;</span>
<span class="line-modified">451 &lt;span id=&quot;cb24-32&quot;&gt;&lt;a href=&quot;#cb24-32&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;</span>
<span class="line-modified">452 &lt;span id=&quot;cb24-33&quot;&gt;&lt;a href=&quot;#cb24-33&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fl&quot;&gt;3.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;4.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;5.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;6.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;</span>
<span class="line-modified">453 &lt;span id=&quot;cb24-34&quot;&gt;&lt;a href=&quot;#cb24-34&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fl&quot;&gt;5.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;6.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;7.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;8.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">454 &lt;span id=&quot;cb24-35&quot;&gt;&lt;a href=&quot;#cb24-35&quot;&gt;&lt;/a&gt;            });&lt;/span&gt;</span>
<span class="line-added">455 &lt;span id=&quot;cb24-36&quot;&gt;&lt;a href=&quot;#cb24-36&quot;&gt;&lt;/a&gt;            var x = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(C_DOUBLE, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt;[] {&lt;/span&gt;</span>
<span class="line-added">456 &lt;span id=&quot;cb24-37&quot;&gt;&lt;a href=&quot;#cb24-37&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;2.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">457 &lt;span id=&quot;cb24-38&quot;&gt;&lt;a href=&quot;#cb24-38&quot;&gt;&lt;/a&gt;            });&lt;/span&gt;</span>
<span class="line-added">458 &lt;span id=&quot;cb24-39&quot;&gt;&lt;a href=&quot;#cb24-39&quot;&gt;&lt;/a&gt;            var y = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(C_DOUBLE, n);&lt;/span&gt;</span>
<span class="line-added">459 &lt;span id=&quot;cb24-40&quot;&gt;&lt;a href=&quot;#cb24-40&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">460 &lt;span id=&quot;cb24-41&quot;&gt;&lt;a href=&quot;#cb24-41&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;cblas_dgemv&lt;/span&gt;(Layout, transa, m, n, alpha, a, lda, x, incx, beta, y, incy);&lt;/span&gt;</span>
<span class="line-added">461 &lt;span id=&quot;cb24-42&quot;&gt;&lt;a href=&quot;#cb24-42&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Print y */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">462 &lt;span id=&quot;cb24-43&quot;&gt;&lt;a href=&quot;#cb24-43&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt; (i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; n; i++) {&lt;/span&gt;</span>
<span class="line-added">463 &lt;span id=&quot;cb24-44&quot;&gt;&lt;a href=&quot;#cb24-44&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;.format&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot; y&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%d&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%f\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, i, MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getDoubleAtIndex&lt;/span&gt;(y, i)));&lt;/span&gt;</span>
<span class="line-added">464 &lt;span id=&quot;cb24-45&quot;&gt;&lt;a href=&quot;#cb24-45&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;</span>
<span class="line-added">465 &lt;span id=&quot;cb24-46&quot;&gt;&lt;a href=&quot;#cb24-46&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-added">466 &lt;span id=&quot;cb24-47&quot;&gt;&lt;a href=&quot;#cb24-47&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-added">467 &lt;span id=&quot;cb24-48&quot;&gt;&lt;a href=&quot;#cb24-48&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">468 &lt;h3 id=&quot;compiling-and-running-the-above-blas-sample-mac-os&quot;&gt;Compiling and running the above BLAS sample (Mac OS)&lt;/h3&gt;</span>
469 &lt;div class=&quot;sourceCode&quot; id=&quot;cb25&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb25-1&quot;&gt;&lt;a href=&quot;#cb25-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
<a name="36" id="anc36"></a><span class="line-modified">470 &lt;span id=&quot;cb25-2&quot;&gt;&lt;a href=&quot;#cb25-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;</span>
<span class="line-modified">471 &lt;span id=&quot;cb25-3&quot;&gt;&lt;a href=&quot;#cb25-3&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/local/opt/openblas/lib \&lt;/span&gt;</span>
<span class="line-modified">472 &lt;span id=&quot;cb25-4&quot;&gt;&lt;a href=&quot;#cb25-4&quot;&gt;&lt;/a&gt;    TestBlas.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-modified">473 &lt;h3 id=&quot;compiling-and-running-the-above-blas-sample-windows&quot;&gt;Compiling and running the above BLAS sample (Windows)&lt;/h3&gt;</span>
<span class="line-modified">474 &lt;div class=&quot;sourceCode&quot; id=&quot;cb26&quot;&gt;&lt;pre class=&quot;sourceCode powershell&quot;&gt;&lt;code class=&quot;sourceCode powershell&quot;&gt;&lt;span id=&quot;cb26-1&quot;&gt;&lt;a href=&quot;#cb26-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">475 &lt;span id=&quot;cb26-2&quot;&gt;&lt;a href=&quot;#cb26-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;param&lt;/span&gt;(&lt;/span&gt;</span>
<span class="line-added">476 &lt;span id=&quot;cb26-3&quot;&gt;&lt;a href=&quot;#cb26-3&quot;&gt;&lt;/a&gt;  [Parameter(Mandatory=&lt;span class=&quot;va&quot;&gt;$true&lt;/span&gt;, HelpMessage=&lt;span class=&quot;st&quot;&gt;&amp;quot;The path to the lib curl installation, which contains bin/liblapacke.dll&amp;quot;&lt;/span&gt;)]&lt;/span&gt;</span>
<span class="line-added">477 &lt;span id=&quot;cb26-4&quot;&gt;&lt;a href=&quot;#cb26-4&quot;&gt;&lt;/a&gt;  [&lt;span class=&quot;dt&quot;&gt;string&lt;/span&gt;]&lt;span class=&quot;va&quot;&gt;$blasPath&lt;/span&gt;,&lt;/span&gt;</span>
<span class="line-added">478 &lt;span id=&quot;cb26-5&quot;&gt;&lt;a href=&quot;#cb26-5&quot;&gt;&lt;/a&gt;  [Parameter(Mandatory=&lt;span class=&quot;va&quot;&gt;$true&lt;/span&gt;, HelpMessage=&lt;span class=&quot;st&quot;&gt;&amp;quot;The path to the mingw bin directory which contains libgcc_s_seh-1.dll and libquadmath-0.dll&amp;quot;&lt;/span&gt;)]&lt;/span&gt;</span>
<span class="line-added">479 &lt;span id=&quot;cb26-6&quot;&gt;&lt;a href=&quot;#cb26-6&quot;&gt;&lt;/a&gt;  [&lt;span class=&quot;dt&quot;&gt;string&lt;/span&gt;]&lt;span class=&quot;va&quot;&gt;$mingwBinPath&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">480 &lt;span id=&quot;cb26-7&quot;&gt;&lt;a href=&quot;#cb26-7&quot;&gt;&lt;/a&gt;)&lt;/span&gt;</span>
<span class="line-added">481 &lt;span id=&quot;cb26-8&quot;&gt;&lt;a href=&quot;#cb26-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">482 &lt;span id=&quot;cb26-9&quot;&gt;&lt;a href=&quot;#cb26-9&quot;&gt;&lt;/a&gt;. ./shared_windows.&lt;span class=&quot;fu&quot;&gt;ps1&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">483 &lt;span id=&quot;cb26-10&quot;&gt;&lt;a href=&quot;#cb26-10&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">484 &lt;span id=&quot;cb26-11&quot;&gt;&lt;a href=&quot;#cb26-11&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;$java&lt;/span&gt; = find-tool(&lt;span class=&quot;st&quot;&gt;&amp;quot;java&amp;quot;&lt;/span&gt;)&lt;/span&gt;</span>
<span class="line-added">485 &lt;span id=&quot;cb26-12&quot;&gt;&lt;a href=&quot;#cb26-12&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">486 &lt;span id=&quot;cb26-13&quot;&gt;&lt;a href=&quot;#cb26-13&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;$Env&lt;/span&gt;:path+=&lt;span class=&quot;st&quot;&gt;&amp;quot;`;$blasPath\bin&amp;quot;&lt;/span&gt; &lt;span class=&quot;co&quot;&gt;# libblas.dll&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">487 &lt;span id=&quot;cb26-14&quot;&gt;&lt;a href=&quot;#cb26-14&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;$Env&lt;/span&gt;:path+=&lt;span class=&quot;st&quot;&gt;&amp;quot;`;$mingwBinPath&amp;quot;&lt;/span&gt; &lt;span class=&quot;co&quot;&gt;# mingw runtime dlls&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">488 &lt;span id=&quot;cb26-15&quot;&gt;&lt;a href=&quot;#cb26-15&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">489 &lt;span id=&quot;cb26-16&quot;&gt;&lt;a href=&quot;#cb26-16&quot;&gt;&lt;/a&gt;&amp;amp; &lt;span class=&quot;va&quot;&gt;$java&lt;/span&gt; -D&lt;span class=&quot;st&quot;&gt;&amp;quot;foreign.restricted=permit&amp;quot;&lt;/span&gt; --add-modules jdk.&lt;span class=&quot;fu&quot;&gt;incubator&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;foreign&lt;/span&gt; -D&lt;span class=&quot;st&quot;&gt;&amp;quot;java.library.path=$blasPath\bin&amp;quot;&lt;/span&gt; TestBlas.&lt;span class=&quot;fu&quot;&gt;java&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">490 &lt;h2 id=&quot;using-lapack-library&quot;&gt;Using LAPACK library&lt;/h2&gt;</span>
<span class="line-added">491 &lt;p&gt;On Mac OS, lapack is installed under /usr/local/opt/lapack directory.&lt;/p&gt;</span>
<span class="line-added">492 &lt;h3 id=&quot;jextracting-lapacke.h-mac-os&quot;&gt;jextracting lapacke.h (Mac OS)&lt;/h3&gt;</span>
<span class="line-added">493 &lt;div class=&quot;sourceCode&quot; id=&quot;cb27&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb27-1&quot;&gt;&lt;a href=&quot;#cb27-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">494 &lt;span id=&quot;cb27-2&quot;&gt;&lt;a href=&quot;#cb27-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;</span>
<span class="line-added">495 &lt;span id=&quot;cb27-3&quot;&gt;&lt;a href=&quot;#cb27-3&quot;&gt;&lt;/a&gt;   -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;</span>
<span class="line-added">496 &lt;span id=&quot;cb27-4&quot;&gt;&lt;a href=&quot;#cb27-4&quot;&gt;&lt;/a&gt;   -l lapacke -t lapack \&lt;/span&gt;</span>
<span class="line-added">497 &lt;span id=&quot;cb27-5&quot;&gt;&lt;a href=&quot;#cb27-5&quot;&gt;&lt;/a&gt;   --filter lapacke.h \&lt;/span&gt;</span>
<span class="line-added">498 &lt;span id=&quot;cb27-6&quot;&gt;&lt;a href=&quot;#cb27-6&quot;&gt;&lt;/a&gt;   /usr/local/opt/lapack/include/lapacke.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">499 &lt;h3 id=&quot;jextracting-lapacke.h-windows&quot;&gt;jextracting lapacke.h (Windows)&lt;/h3&gt;</span>
<span class="line-added">500 &lt;div class=&quot;sourceCode&quot; id=&quot;cb28&quot;&gt;&lt;pre class=&quot;sourceCode powershell&quot;&gt;&lt;code class=&quot;sourceCode powershell&quot;&gt;&lt;span id=&quot;cb28-1&quot;&gt;&lt;a href=&quot;#cb28-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">501 &lt;span id=&quot;cb28-2&quot;&gt;&lt;a href=&quot;#cb28-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;param&lt;/span&gt;(&lt;/span&gt;</span>
<span class="line-added">502 &lt;span id=&quot;cb28-3&quot;&gt;&lt;a href=&quot;#cb28-3&quot;&gt;&lt;/a&gt;  [Parameter(Mandatory=&lt;span class=&quot;va&quot;&gt;$true&lt;/span&gt;, HelpMessage=&lt;span class=&quot;st&quot;&gt;&amp;quot;The path to the lapack installation which include/lapacke.h and dependent headers&amp;quot;&lt;/span&gt;)]&lt;/span&gt;</span>
<span class="line-added">503 &lt;span id=&quot;cb28-4&quot;&gt;&lt;a href=&quot;#cb28-4&quot;&gt;&lt;/a&gt;  [&lt;span class=&quot;dt&quot;&gt;string&lt;/span&gt;]&lt;span class=&quot;va&quot;&gt;$lapackPath&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">504 &lt;span id=&quot;cb28-5&quot;&gt;&lt;a href=&quot;#cb28-5&quot;&gt;&lt;/a&gt;)&lt;/span&gt;</span>
<span class="line-added">505 &lt;span id=&quot;cb28-6&quot;&gt;&lt;a href=&quot;#cb28-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">506 &lt;span id=&quot;cb28-7&quot;&gt;&lt;a href=&quot;#cb28-7&quot;&gt;&lt;/a&gt;. ./shared_windows.&lt;span class=&quot;fu&quot;&gt;ps1&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">507 &lt;span id=&quot;cb28-8&quot;&gt;&lt;a href=&quot;#cb28-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">508 &lt;span id=&quot;cb28-9&quot;&gt;&lt;a href=&quot;#cb28-9&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;$jextract&lt;/span&gt; = find-tool(&lt;span class=&quot;st&quot;&gt;&amp;quot;jextract&amp;quot;&lt;/span&gt;)&lt;/span&gt;</span>
<span class="line-added">509 &lt;span id=&quot;cb28-10&quot;&gt;&lt;a href=&quot;#cb28-10&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">510 &lt;span id=&quot;cb28-11&quot;&gt;&lt;a href=&quot;#cb28-11&quot;&gt;&lt;/a&gt;&amp;amp; &lt;span class=&quot;va&quot;&gt;$jextract&lt;/span&gt; -t lapack -I &lt;span class=&quot;st&quot;&gt;&amp;quot;$lapackPath\include&amp;quot;&lt;/span&gt; -l liblapacke -J-Xmx2G --filter &amp;#39;lapacke.&lt;span class=&quot;fu&quot;&gt;h&lt;/span&gt;&amp;#39; -- &lt;span class=&quot;st&quot;&gt;&amp;quot;$lapackPath\include\lapacke.h&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">511 &lt;h3 id=&quot;java-sample-code-that-uses-lapack-library&quot;&gt;Java sample code that uses LAPACK library&lt;/h3&gt;</span>
<span class="line-added">512 &lt;div class=&quot;sourceCode&quot; id=&quot;cb29&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb29-1&quot;&gt;&lt;a href=&quot;#cb29-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">513 &lt;span id=&quot;cb29-2&quot;&gt;&lt;a href=&quot;#cb29-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAccess;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">514 &lt;span id=&quot;cb29-3&quot;&gt;&lt;a href=&quot;#cb29-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">515 &lt;span id=&quot;cb29-4&quot;&gt;&lt;a href=&quot;#cb29-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">516 &lt;span id=&quot;cb29-5&quot;&gt;&lt;a href=&quot;#cb29-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; lapack.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">517 &lt;span id=&quot;cb29-6&quot;&gt;&lt;a href=&quot;#cb29-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; lapack.lapacke_h.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">518 &lt;span id=&quot;cb29-7&quot;&gt;&lt;a href=&quot;#cb29-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">519 &lt;span id=&quot;cb29-8&quot;&gt;&lt;a href=&quot;#cb29-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">520 &lt;span id=&quot;cb29-9&quot;&gt;&lt;a href=&quot;#cb29-9&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; TestLapack {&lt;/span&gt;</span>
<span class="line-added">521 &lt;span id=&quot;cb29-10&quot;&gt;&lt;a href=&quot;#cb29-10&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-added">522 &lt;span id=&quot;cb29-11&quot;&gt;&lt;a href=&quot;#cb29-11&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">523 &lt;span id=&quot;cb29-12&quot;&gt;&lt;a href=&quot;#cb29-12&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;co&quot;&gt;/* Locals */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">524 &lt;span id=&quot;cb29-13&quot;&gt;&lt;a href=&quot;#cb29-13&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;</span>
<span class="line-added">525 &lt;span id=&quot;cb29-14&quot;&gt;&lt;a href=&quot;#cb29-14&quot;&gt;&lt;/a&gt;            var A = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(C_DOUBLE, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt;[]{&lt;/span&gt;</span>
<span class="line-added">526 &lt;span id=&quot;cb29-15&quot;&gt;&lt;a href=&quot;#cb29-15&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">527 &lt;span id=&quot;cb29-16&quot;&gt;&lt;a href=&quot;#cb29-16&quot;&gt;&lt;/a&gt;            });&lt;/span&gt;</span>
<span class="line-added">528 &lt;span id=&quot;cb29-17&quot;&gt;&lt;a href=&quot;#cb29-17&quot;&gt;&lt;/a&gt;            var b = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(C_DOUBLE, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt;[]{&lt;/span&gt;</span>
<span class="line-added">529 &lt;span id=&quot;cb29-18&quot;&gt;&lt;a href=&quot;#cb29-18&quot;&gt;&lt;/a&gt;                    -&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;12&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;14&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;18&lt;/span&gt;, -&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;14&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;12&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">530 &lt;span id=&quot;cb29-19&quot;&gt;&lt;a href=&quot;#cb29-19&quot;&gt;&lt;/a&gt;            });&lt;/span&gt;</span>
<span class="line-added">531 &lt;span id=&quot;cb29-20&quot;&gt;&lt;a href=&quot;#cb29-20&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; info, m, n, lda, ldb, nrhs;&lt;/span&gt;</span>
<span class="line-added">532 &lt;span id=&quot;cb29-21&quot;&gt;&lt;a href=&quot;#cb29-21&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">533 &lt;span id=&quot;cb29-22&quot;&gt;&lt;a href=&quot;#cb29-22&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Initialization */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">534 &lt;span id=&quot;cb29-23&quot;&gt;&lt;a href=&quot;#cb29-23&quot;&gt;&lt;/a&gt;            m = &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-added">535 &lt;span id=&quot;cb29-24&quot;&gt;&lt;a href=&quot;#cb29-24&quot;&gt;&lt;/a&gt;            n = &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-added">536 &lt;span id=&quot;cb29-25&quot;&gt;&lt;a href=&quot;#cb29-25&quot;&gt;&lt;/a&gt;            nrhs = &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-added">537 &lt;span id=&quot;cb29-26&quot;&gt;&lt;a href=&quot;#cb29-26&quot;&gt;&lt;/a&gt;            lda = &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-added">538 &lt;span id=&quot;cb29-27&quot;&gt;&lt;a href=&quot;#cb29-27&quot;&gt;&lt;/a&gt;            ldb = &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-added">539 &lt;span id=&quot;cb29-28&quot;&gt;&lt;a href=&quot;#cb29-28&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">540 &lt;span id=&quot;cb29-29&quot;&gt;&lt;a href=&quot;#cb29-29&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Print Entry Matrix */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">541 &lt;span id=&quot;cb29-30&quot;&gt;&lt;a href=&quot;#cb29-30&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Entry Matrix A&amp;quot;&lt;/span&gt;, m, n, A, lda );&lt;/span&gt;</span>
<span class="line-added">542 &lt;span id=&quot;cb29-31&quot;&gt;&lt;a href=&quot;#cb29-31&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Print Right Rand Side */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">543 &lt;span id=&quot;cb29-32&quot;&gt;&lt;a href=&quot;#cb29-32&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Right Hand Side b&amp;quot;&lt;/span&gt;, n, nrhs, b, ldb );&lt;/span&gt;</span>
<span class="line-added">544 &lt;span id=&quot;cb29-33&quot;&gt;&lt;a href=&quot;#cb29-33&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-added">545 &lt;span id=&quot;cb29-34&quot;&gt;&lt;a href=&quot;#cb29-34&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">546 &lt;span id=&quot;cb29-35&quot;&gt;&lt;a href=&quot;#cb29-35&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Executable statements */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">547 &lt;span id=&quot;cb29-36&quot;&gt;&lt;a href=&quot;#cb29-36&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;//            printf( &amp;quot;LAPACKE_dgels (col-major, high-level) Example Program Results\n&amp;quot; );&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">548 &lt;span id=&quot;cb29-37&quot;&gt;&lt;a href=&quot;#cb29-37&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Solve least squares problem*/&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">549 &lt;span id=&quot;cb29-38&quot;&gt;&lt;a href=&quot;#cb29-38&quot;&gt;&lt;/a&gt;            info = &lt;span class=&quot;fu&quot;&gt;LAPACKE_dgels&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;LAPACK_COL_MAJOR&lt;/span&gt;(), (&lt;span class=&quot;dt&quot;&gt;byte&lt;/span&gt;)&lt;span class=&quot;ch&quot;&gt;&amp;#39;N&amp;#39;&lt;/span&gt;, m, n, nrhs, A, lda, b, ldb);&lt;/span&gt;</span>
<span class="line-added">550 &lt;span id=&quot;cb29-39&quot;&gt;&lt;a href=&quot;#cb29-39&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">551 &lt;span id=&quot;cb29-40&quot;&gt;&lt;a href=&quot;#cb29-40&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Print Solution */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">552 &lt;span id=&quot;cb29-41&quot;&gt;&lt;a href=&quot;#cb29-41&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Solution&amp;quot;&lt;/span&gt;, n, nrhs, b, ldb );&lt;/span&gt;</span>
<span class="line-added">553 &lt;span id=&quot;cb29-42&quot;&gt;&lt;a href=&quot;#cb29-42&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-added">554 &lt;span id=&quot;cb29-43&quot;&gt;&lt;a href=&quot;#cb29-43&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;exit&lt;/span&gt;(info);&lt;/span&gt;</span>
<span class="line-added">555 &lt;span id=&quot;cb29-44&quot;&gt;&lt;a href=&quot;#cb29-44&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-added">556 &lt;span id=&quot;cb29-45&quot;&gt;&lt;a href=&quot;#cb29-45&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-added">557 &lt;span id=&quot;cb29-46&quot;&gt;&lt;a href=&quot;#cb29-46&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">558 &lt;span id=&quot;cb29-47&quot;&gt;&lt;a href=&quot;#cb29-47&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; msg, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; m, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; n, MemoryAddress mat, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; ldm) {&lt;/span&gt;</span>
<span class="line-added">559 &lt;span id=&quot;cb29-48&quot;&gt;&lt;a href=&quot;#cb29-48&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; i, j;&lt;/span&gt;</span>
<span class="line-added">560 &lt;span id=&quot;cb29-49&quot;&gt;&lt;a href=&quot;#cb29-49&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, msg);&lt;/span&gt;</span>
<span class="line-added">561 &lt;span id=&quot;cb29-50&quot;&gt;&lt;a href=&quot;#cb29-50&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">562 &lt;span id=&quot;cb29-51&quot;&gt;&lt;a href=&quot;#cb29-51&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt;( i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; m; i++ ) {&lt;/span&gt;</span>
<span class="line-added">563 &lt;span id=&quot;cb29-52&quot;&gt;&lt;a href=&quot;#cb29-52&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt;( j = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; j &amp;lt; n; j++ ) &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot; &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%6.2f&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getDoubleAtIndex&lt;/span&gt;(mat, i+j*ldm));&lt;/span&gt;</span>
<span class="line-added">564 &lt;span id=&quot;cb29-53&quot;&gt;&lt;a href=&quot;#cb29-53&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;( &lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt; );&lt;/span&gt;</span>
<span class="line-added">565 &lt;span id=&quot;cb29-54&quot;&gt;&lt;a href=&quot;#cb29-54&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-added">566 &lt;span id=&quot;cb29-55&quot;&gt;&lt;a href=&quot;#cb29-55&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-added">567 &lt;span id=&quot;cb29-56&quot;&gt;&lt;a href=&quot;#cb29-56&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">568 &lt;h3 id=&quot;compiling-and-running-the-above-lapack-sample-mac-os&quot;&gt;Compiling and running the above LAPACK sample (Mac OS)&lt;/h3&gt;</span>
<span class="line-added">569 &lt;div class=&quot;sourceCode&quot; id=&quot;cb30&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb30-1&quot;&gt;&lt;a href=&quot;#cb30-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">570 &lt;span id=&quot;cb30-2&quot;&gt;&lt;a href=&quot;#cb30-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit \&lt;/span&gt;</span>
<span class="line-added">571 &lt;span id=&quot;cb30-3&quot;&gt;&lt;a href=&quot;#cb30-3&quot;&gt;&lt;/a&gt;    --add-modules jdk.incubator.foreign \&lt;/span&gt;</span>
<span class="line-added">572 &lt;span id=&quot;cb30-4&quot;&gt;&lt;a href=&quot;#cb30-4&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/local/opt/lapack/lib \&lt;/span&gt;</span>
<span class="line-added">573 &lt;span id=&quot;cb30-5&quot;&gt;&lt;a href=&quot;#cb30-5&quot;&gt;&lt;/a&gt;    TestLapack.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">574 &lt;h3 id=&quot;compiling-and-running-the-above-lapack-sample-windows&quot;&gt;Compiling and running the above LAPACK sample (Windows)&lt;/h3&gt;</span>
<span class="line-added">575 &lt;div class=&quot;sourceCode&quot; id=&quot;cb31&quot;&gt;&lt;pre class=&quot;sourceCode powershell&quot;&gt;&lt;code class=&quot;sourceCode powershell&quot;&gt;&lt;span id=&quot;cb31-1&quot;&gt;&lt;a href=&quot;#cb31-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">576 &lt;span id=&quot;cb31-2&quot;&gt;&lt;a href=&quot;#cb31-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;param&lt;/span&gt;(&lt;/span&gt;</span>
<span class="line-added">577 &lt;span id=&quot;cb31-3&quot;&gt;&lt;a href=&quot;#cb31-3&quot;&gt;&lt;/a&gt;  [Parameter(Mandatory=&lt;span class=&quot;va&quot;&gt;$true&lt;/span&gt;, HelpMessage=&lt;span class=&quot;st&quot;&gt;&amp;quot;The path to the lib curl installation, which contains bin/liblapacke.dll&amp;quot;&lt;/span&gt;)]&lt;/span&gt;</span>
<span class="line-added">578 &lt;span id=&quot;cb31-4&quot;&gt;&lt;a href=&quot;#cb31-4&quot;&gt;&lt;/a&gt;  [&lt;span class=&quot;dt&quot;&gt;string&lt;/span&gt;]&lt;span class=&quot;va&quot;&gt;$lapackPath&lt;/span&gt;,&lt;/span&gt;</span>
<span class="line-added">579 &lt;span id=&quot;cb31-5&quot;&gt;&lt;a href=&quot;#cb31-5&quot;&gt;&lt;/a&gt;  [Parameter(Mandatory=&lt;span class=&quot;va&quot;&gt;$true&lt;/span&gt;, HelpMessage=&lt;span class=&quot;st&quot;&gt;&amp;quot;The path to the mingw bin directory which contains libgcc_s_seh-1.dll and libquadmath-0.dll&amp;quot;&lt;/span&gt;)]&lt;/span&gt;</span>
<span class="line-added">580 &lt;span id=&quot;cb31-6&quot;&gt;&lt;a href=&quot;#cb31-6&quot;&gt;&lt;/a&gt;  [&lt;span class=&quot;dt&quot;&gt;string&lt;/span&gt;]&lt;span class=&quot;va&quot;&gt;$mingwBinPath&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">581 &lt;span id=&quot;cb31-7&quot;&gt;&lt;a href=&quot;#cb31-7&quot;&gt;&lt;/a&gt;)&lt;/span&gt;</span>
<span class="line-added">582 &lt;span id=&quot;cb31-8&quot;&gt;&lt;a href=&quot;#cb31-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">583 &lt;span id=&quot;cb31-9&quot;&gt;&lt;a href=&quot;#cb31-9&quot;&gt;&lt;/a&gt;. ./shared_windows.&lt;span class=&quot;fu&quot;&gt;ps1&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">584 &lt;span id=&quot;cb31-10&quot;&gt;&lt;a href=&quot;#cb31-10&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">585 &lt;span id=&quot;cb31-11&quot;&gt;&lt;a href=&quot;#cb31-11&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;$java&lt;/span&gt; = find-tool(&lt;span class=&quot;st&quot;&gt;&amp;quot;java&amp;quot;&lt;/span&gt;)&lt;/span&gt;</span>
<span class="line-added">586 &lt;span id=&quot;cb31-12&quot;&gt;&lt;a href=&quot;#cb31-12&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">587 &lt;span id=&quot;cb31-13&quot;&gt;&lt;a href=&quot;#cb31-13&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;$Env&lt;/span&gt;:path+=&lt;span class=&quot;st&quot;&gt;&amp;quot;`;$lapackPath\bin&amp;quot;&lt;/span&gt; &lt;span class=&quot;co&quot;&gt;# libblas.dll&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">588 &lt;span id=&quot;cb31-14&quot;&gt;&lt;a href=&quot;#cb31-14&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;$Env&lt;/span&gt;:path+=&lt;span class=&quot;st&quot;&gt;&amp;quot;`;$mingwBinPath&amp;quot;&lt;/span&gt; &lt;span class=&quot;co&quot;&gt;# mingw runtime dlls&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">589 &lt;span id=&quot;cb31-15&quot;&gt;&lt;a href=&quot;#cb31-15&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">590 &lt;span id=&quot;cb31-16&quot;&gt;&lt;a href=&quot;#cb31-16&quot;&gt;&lt;/a&gt;&amp;amp; &lt;span class=&quot;va&quot;&gt;$java&lt;/span&gt; -D&lt;span class=&quot;st&quot;&gt;&amp;quot;foreign.restricted=permit&amp;quot;&lt;/span&gt; --add-modules jdk.&lt;span class=&quot;fu&quot;&gt;incubator&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;foreign&lt;/span&gt; -D&lt;span class=&quot;st&quot;&gt;&amp;quot;java.library.path=$lapackPath\bin&amp;quot;&lt;/span&gt; TestLapack.&lt;span class=&quot;fu&quot;&gt;java&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">591 &lt;h2 id=&quot;using-libproc-library-to-list-processes-from-java&quot;&gt;Using libproc library to list processes from Java&lt;/h2&gt;</span>
<span class="line-added">592 &lt;h3 id=&quot;jextract-libproc.h-mac-os&quot;&gt;jextract libproc.h (Mac OS)&lt;/h3&gt;</span>
<span class="line-added">593 &lt;div class=&quot;sourceCode&quot; id=&quot;cb32&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb32-1&quot;&gt;&lt;a href=&quot;#cb32-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">594 &lt;span id=&quot;cb32-2&quot;&gt;&lt;a href=&quot;#cb32-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;</span>
<span class="line-added">595 &lt;span id=&quot;cb32-3&quot;&gt;&lt;a href=&quot;#cb32-3&quot;&gt;&lt;/a&gt;  -t org.unix \&lt;/span&gt;</span>
<span class="line-added">596 &lt;span id=&quot;cb32-4&quot;&gt;&lt;a href=&quot;#cb32-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;</span>
<span class="line-added">597 &lt;span id=&quot;cb32-5&quot;&gt;&lt;a href=&quot;#cb32-5&quot;&gt;&lt;/a&gt;  --filter libproc.h \&lt;/span&gt;</span>
<span class="line-added">598 &lt;span id=&quot;cb32-6&quot;&gt;&lt;a href=&quot;#cb32-6&quot;&gt;&lt;/a&gt;  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/libproc.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">599 &lt;h3 id=&quot;java-program-that-uses-libproc-to-list-processes&quot;&gt;Java program that uses libproc to list processes&lt;/h3&gt;</span>
<span class="line-added">600 &lt;div class=&quot;sourceCode&quot; id=&quot;cb33&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb33-1&quot;&gt;&lt;a href=&quot;#cb33-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">601 &lt;span id=&quot;cb33-2&quot;&gt;&lt;a href=&quot;#cb33-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">602 &lt;span id=&quot;cb33-3&quot;&gt;&lt;a href=&quot;#cb33-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemorySegment;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">603 &lt;span id=&quot;cb33-4&quot;&gt;&lt;a href=&quot;#cb33-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">604 &lt;span id=&quot;cb33-5&quot;&gt;&lt;a href=&quot;#cb33-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">605 &lt;span id=&quot;cb33-6&quot;&gt;&lt;a href=&quot;#cb33-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">606 &lt;span id=&quot;cb33-7&quot;&gt;&lt;a href=&quot;#cb33-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.libproc_h.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">607 &lt;span id=&quot;cb33-8&quot;&gt;&lt;a href=&quot;#cb33-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">608 &lt;span id=&quot;cb33-9&quot;&gt;&lt;a href=&quot;#cb33-9&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; LibprocMain {&lt;/span&gt;</span>
<span class="line-added">609 &lt;span id=&quot;cb33-10&quot;&gt;&lt;a href=&quot;#cb33-10&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; NAME_BUF_MAX = &lt;span class=&quot;dv&quot;&gt;256&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-added">610 &lt;span id=&quot;cb33-11&quot;&gt;&lt;a href=&quot;#cb33-11&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">611 &lt;span id=&quot;cb33-12&quot;&gt;&lt;a href=&quot;#cb33-12&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-added">612 &lt;span id=&quot;cb33-13&quot;&gt;&lt;a href=&quot;#cb33-13&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;</span>
<span class="line-added">613 &lt;span id=&quot;cb33-14&quot;&gt;&lt;a href=&quot;#cb33-14&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// get the number of processes&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">614 &lt;span id=&quot;cb33-15&quot;&gt;&lt;a href=&quot;#cb33-15&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; numPids = &lt;span class=&quot;fu&quot;&gt;proc_listallpids&lt;/span&gt;(NULL, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-added">615 &lt;span id=&quot;cb33-16&quot;&gt;&lt;a href=&quot;#cb33-16&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// allocate an array&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">616 &lt;span id=&quot;cb33-17&quot;&gt;&lt;a href=&quot;#cb33-17&quot;&gt;&lt;/a&gt;            var pids = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(CSupport.&lt;span class=&quot;fu&quot;&gt;C_INT&lt;/span&gt;, numPids);&lt;/span&gt;</span>
<span class="line-added">617 &lt;span id=&quot;cb33-18&quot;&gt;&lt;a href=&quot;#cb33-18&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// list all the pids into the native array&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">618 &lt;span id=&quot;cb33-19&quot;&gt;&lt;a href=&quot;#cb33-19&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;proc_listallpids&lt;/span&gt;(pids, numPids);&lt;/span&gt;</span>
<span class="line-added">619 &lt;span id=&quot;cb33-20&quot;&gt;&lt;a href=&quot;#cb33-20&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// convert native array to java array&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">620 &lt;span id=&quot;cb33-21&quot;&gt;&lt;a href=&quot;#cb33-21&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;[] jpids = pids.&lt;span class=&quot;fu&quot;&gt;segment&lt;/span&gt;().&lt;span class=&quot;fu&quot;&gt;toIntArray&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-added">621 &lt;span id=&quot;cb33-22&quot;&gt;&lt;a href=&quot;#cb33-22&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// buffer for process name&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">622 &lt;span id=&quot;cb33-23&quot;&gt;&lt;a href=&quot;#cb33-23&quot;&gt;&lt;/a&gt;            var nameBuf = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(CSupport.&lt;span class=&quot;fu&quot;&gt;C_CHAR&lt;/span&gt;, NAME_BUF_MAX);&lt;/span&gt;</span>
<span class="line-added">623 &lt;span id=&quot;cb33-24&quot;&gt;&lt;a href=&quot;#cb33-24&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; jpids.&lt;span class=&quot;fu&quot;&gt;length&lt;/span&gt;; i++) {&lt;/span&gt;</span>
<span class="line-added">624 &lt;span id=&quot;cb33-25&quot;&gt;&lt;a href=&quot;#cb33-25&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; pid = jpids[i];&lt;/span&gt;</span>
<span class="line-added">625 &lt;span id=&quot;cb33-26&quot;&gt;&lt;a href=&quot;#cb33-26&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;co&quot;&gt;// get the process name&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">626 &lt;span id=&quot;cb33-27&quot;&gt;&lt;a href=&quot;#cb33-27&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;proc_name&lt;/span&gt;(pid, nameBuf, NAME_BUF_MAX);&lt;/span&gt;</span>
<span class="line-added">627 &lt;span id=&quot;cb33-28&quot;&gt;&lt;a href=&quot;#cb33-28&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; procName = CSupport.&lt;span class=&quot;fu&quot;&gt;toJavaString&lt;/span&gt;(nameBuf);&lt;/span&gt;</span>
<span class="line-added">628 &lt;span id=&quot;cb33-29&quot;&gt;&lt;a href=&quot;#cb33-29&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;co&quot;&gt;// print pid and process name&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">629 &lt;span id=&quot;cb33-30&quot;&gt;&lt;a href=&quot;#cb33-30&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%d&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, pid, procName);&lt;/span&gt;</span>
<span class="line-added">630 &lt;span id=&quot;cb33-31&quot;&gt;&lt;a href=&quot;#cb33-31&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;</span>
<span class="line-added">631 &lt;span id=&quot;cb33-32&quot;&gt;&lt;a href=&quot;#cb33-32&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-added">632 &lt;span id=&quot;cb33-33&quot;&gt;&lt;a href=&quot;#cb33-33&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-added">633 &lt;span id=&quot;cb33-34&quot;&gt;&lt;a href=&quot;#cb33-34&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">634 &lt;h3 id=&quot;compiling-and-running-the-libproc-sample-mac-os&quot;&gt;Compiling and running the libproc sample (Mac OS)&lt;/h3&gt;</span>
<span class="line-added">635 &lt;div class=&quot;sourceCode&quot; id=&quot;cb34&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb34-1&quot;&gt;&lt;a href=&quot;#cb34-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">636 &lt;span id=&quot;cb34-2&quot;&gt;&lt;a href=&quot;#cb34-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit \&lt;/span&gt;</span>
<span class="line-added">637 &lt;span id=&quot;cb34-3&quot;&gt;&lt;a href=&quot;#cb34-3&quot;&gt;&lt;/a&gt;    --add-modules jdk.incubator.foreign \&lt;/span&gt;</span>
<span class="line-added">638 &lt;span id=&quot;cb34-4&quot;&gt;&lt;a href=&quot;#cb34-4&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/lib LibprocMain.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">639 &lt;h2 id=&quot;using-libgit2-from-java&quot;&gt;Using libgit2 from Java&lt;/h2&gt;</span>
<span class="line-added">640 &lt;h3 id=&quot;getting-and-building-libgit2-mac-os&quot;&gt;Getting and building libgit2 (Mac OS)&lt;/h3&gt;</span>
641 &lt;ul&gt;
642 &lt;li&gt;Download libgit2 v1.0.0 source from https://github.com/libgit2/libgit2/releases&lt;/li&gt;
643 &lt;li&gt;Use cmake to build from libgit2&lt;/li&gt;
644 &lt;li&gt;Let ${LIBGIT2_HOME} be the directory where you expanded libgit2 sources.&lt;/li&gt;
645 &lt;li&gt;Let ${LIBGIT2_HOME}/build be the build directory where libgit2.dylib is built.&lt;/li&gt;
646 &lt;/ul&gt;
<a name="37" id="anc37"></a><span class="line-modified">647 &lt;h3 id=&quot;jextract-git2.h-mac-os&quot;&gt;jextract git2.h (Mac OS)&lt;/h3&gt;</span>
<span class="line-modified">648 &lt;div class=&quot;sourceCode&quot; id=&quot;cb35&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb35-1&quot;&gt;&lt;a href=&quot;#cb35-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">649 &lt;span id=&quot;cb35-2&quot;&gt;&lt;a href=&quot;#cb35-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;</span>
<span class="line-modified">650 &lt;span id=&quot;cb35-3&quot;&gt;&lt;a href=&quot;#cb35-3&quot;&gt;&lt;/a&gt;  -t com.github -lgit2 \&lt;/span&gt;</span>
<span class="line-modified">651 &lt;span id=&quot;cb35-4&quot;&gt;&lt;a href=&quot;#cb35-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/ \&lt;/span&gt;</span>
<span class="line-modified">652 &lt;span id=&quot;cb35-5&quot;&gt;&lt;a href=&quot;#cb35-5&quot;&gt;&lt;/a&gt;  -I &lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/include/ \&lt;/span&gt;</span>
<span class="line-modified">653 &lt;span id=&quot;cb35-6&quot;&gt;&lt;a href=&quot;#cb35-6&quot;&gt;&lt;/a&gt;  -I &lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/include/git2 \&lt;/span&gt;</span>
<span class="line-modified">654 &lt;span id=&quot;cb35-7&quot;&gt;&lt;a href=&quot;#cb35-7&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/include/git2.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">655 &lt;h3 id=&quot;jextract-git2.h-windows&quot;&gt;jextract git2.h (Windows)&lt;/h3&gt;</span>
<span class="line-added">656 &lt;div class=&quot;sourceCode&quot; id=&quot;cb36&quot;&gt;&lt;pre class=&quot;sourceCode powershell&quot;&gt;&lt;code class=&quot;sourceCode powershell&quot;&gt;&lt;span id=&quot;cb36-1&quot;&gt;&lt;a href=&quot;#cb36-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">657 &lt;span id=&quot;cb36-2&quot;&gt;&lt;a href=&quot;#cb36-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;param&lt;/span&gt;(&lt;/span&gt;</span>
<span class="line-added">658 &lt;span id=&quot;cb36-3&quot;&gt;&lt;a href=&quot;#cb36-3&quot;&gt;&lt;/a&gt;  [Parameter(Mandatory=&lt;span class=&quot;va&quot;&gt;$true&lt;/span&gt;, HelpMessage=&lt;span class=&quot;st&quot;&gt;&amp;quot;The path to the libgit2 installation&amp;quot;&lt;/span&gt;)]&lt;/span&gt;</span>
<span class="line-added">659 &lt;span id=&quot;cb36-4&quot;&gt;&lt;a href=&quot;#cb36-4&quot;&gt;&lt;/a&gt;  [&lt;span class=&quot;dt&quot;&gt;string&lt;/span&gt;]&lt;span class=&quot;va&quot;&gt;$libgit2path&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">660 &lt;span id=&quot;cb36-5&quot;&gt;&lt;a href=&quot;#cb36-5&quot;&gt;&lt;/a&gt;)&lt;/span&gt;</span>
<span class="line-added">661 &lt;span id=&quot;cb36-6&quot;&gt;&lt;a href=&quot;#cb36-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">662 &lt;span id=&quot;cb36-7&quot;&gt;&lt;a href=&quot;#cb36-7&quot;&gt;&lt;/a&gt;. ./shared_windows.&lt;span class=&quot;fu&quot;&gt;ps1&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">663 &lt;span id=&quot;cb36-8&quot;&gt;&lt;a href=&quot;#cb36-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">664 &lt;span id=&quot;cb36-9&quot;&gt;&lt;a href=&quot;#cb36-9&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;$jextract&lt;/span&gt; = find-tool(&lt;span class=&quot;st&quot;&gt;&amp;quot;jextract&amp;quot;&lt;/span&gt;)&lt;/span&gt;</span>
<span class="line-added">665 &lt;span id=&quot;cb36-10&quot;&gt;&lt;a href=&quot;#cb36-10&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">666 &lt;span id=&quot;cb36-11&quot;&gt;&lt;a href=&quot;#cb36-11&quot;&gt;&lt;/a&gt;&amp;amp; &lt;span class=&quot;va&quot;&gt;$jextract&lt;/span&gt; -t com.&lt;span class=&quot;fu&quot;&gt;github&lt;/span&gt; -I &lt;span class=&quot;st&quot;&gt;&amp;quot;$libgit2path\include&amp;quot;&lt;/span&gt; -J-Xmx2G -l git2 -- &lt;span class=&quot;st&quot;&gt;&amp;quot;$libgit2path\include\git2.h&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
667 &lt;h3 id=&quot;java-program-that-uses-libgit2-to-clone-github-repo&quot;&gt;Java program that uses libgit2 to clone github repo&lt;/h3&gt;
<a name="38" id="anc38"></a><span class="line-modified">668 &lt;div class=&quot;sourceCode&quot; id=&quot;cb37&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb37-1&quot;&gt;&lt;a href=&quot;#cb37-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">669 &lt;span id=&quot;cb37-2&quot;&gt;&lt;a href=&quot;#cb37-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">670 &lt;span id=&quot;cb37-3&quot;&gt;&lt;a href=&quot;#cb37-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">671 &lt;span id=&quot;cb37-4&quot;&gt;&lt;a href=&quot;#cb37-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; com.github.git2_h.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">672 &lt;span id=&quot;cb37-5&quot;&gt;&lt;a href=&quot;#cb37-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">673 &lt;span id=&quot;cb37-6&quot;&gt;&lt;a href=&quot;#cb37-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">674 &lt;span id=&quot;cb37-7&quot;&gt;&lt;a href=&quot;#cb37-7&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">675 &lt;span id=&quot;cb37-8&quot;&gt;&lt;a href=&quot;#cb37-8&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; GitClone {&lt;/span&gt;</span>
<span class="line-modified">676 &lt;span id=&quot;cb37-9&quot;&gt;&lt;a href=&quot;#cb37-9&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-modified">677 &lt;span id=&quot;cb37-10&quot;&gt;&lt;a href=&quot;#cb37-10&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (args.&lt;span class=&quot;fu&quot;&gt;length&lt;/span&gt; != &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;) {&lt;/span&gt;</span>
<span class="line-modified">678 &lt;span id=&quot;cb37-11&quot;&gt;&lt;a href=&quot;#cb37-11&quot;&gt;&lt;/a&gt;              &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;java GitClone &amp;lt;url&amp;gt; &amp;lt;path&amp;gt;&amp;quot;&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">679 &lt;span id=&quot;cb37-12&quot;&gt;&lt;a href=&quot;#cb37-12&quot;&gt;&lt;/a&gt;              &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;exit&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">680 &lt;span id=&quot;cb37-13&quot;&gt;&lt;a href=&quot;#cb37-13&quot;&gt;&lt;/a&gt;          }&lt;/span&gt;</span>
<span class="line-modified">681 &lt;span id=&quot;cb37-14&quot;&gt;&lt;a href=&quot;#cb37-14&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;fu&quot;&gt;git_libgit2_init&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">682 &lt;span id=&quot;cb37-15&quot;&gt;&lt;a href=&quot;#cb37-15&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;</span>
<span class="line-modified">683 &lt;span id=&quot;cb37-16&quot;&gt;&lt;a href=&quot;#cb37-16&quot;&gt;&lt;/a&gt;              var repo = scope.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(C_POINTER);&lt;/span&gt;</span>
<span class="line-modified">684 &lt;span id=&quot;cb37-17&quot;&gt;&lt;a href=&quot;#cb37-17&quot;&gt;&lt;/a&gt;              var url = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(args[&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;], scope);&lt;/span&gt;</span>
<span class="line-modified">685 &lt;span id=&quot;cb37-18&quot;&gt;&lt;a href=&quot;#cb37-18&quot;&gt;&lt;/a&gt;              var path = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(args[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], scope);&lt;/span&gt;</span>
<span class="line-modified">686 &lt;span id=&quot;cb37-19&quot;&gt;&lt;a href=&quot;#cb37-19&quot;&gt;&lt;/a&gt;              &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;git_clone&lt;/span&gt;(repo, url, path, NULL));&lt;/span&gt;</span>
<span class="line-modified">687 &lt;span id=&quot;cb37-20&quot;&gt;&lt;a href=&quot;#cb37-20&quot;&gt;&lt;/a&gt;          }&lt;/span&gt;</span>
<span class="line-modified">688 &lt;span id=&quot;cb37-21&quot;&gt;&lt;a href=&quot;#cb37-21&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;fu&quot;&gt;git_libgit2_shutdown&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">689 &lt;span id=&quot;cb37-22&quot;&gt;&lt;a href=&quot;#cb37-22&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-modified">690 &lt;span id=&quot;cb37-23&quot;&gt;&lt;a href=&quot;#cb37-23&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-modified">691 &lt;h3 id=&quot;compiling-and-running-the-libgit2-sample-mac-os&quot;&gt;Compiling and running the libgit2 sample (Mac OS)&lt;/h3&gt;</span>
<span class="line-modified">692 &lt;div class=&quot;sourceCode&quot; id=&quot;cb38&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb38-1&quot;&gt;&lt;a href=&quot;#cb38-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">693 &lt;span id=&quot;cb38-2&quot;&gt;&lt;a href=&quot;#cb38-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;# file run.sh&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">694 &lt;span id=&quot;cb38-3&quot;&gt;&lt;a href=&quot;#cb38-3&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">695 &lt;span id=&quot;cb38-4&quot;&gt;&lt;a href=&quot;#cb38-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;</span>
<span class="line-modified">696 &lt;span id=&quot;cb38-5&quot;&gt;&lt;a href=&quot;#cb38-5&quot;&gt;&lt;/a&gt;    -Djava.library.path=&lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/build/ \&lt;/span&gt;</span>
<span class="line-modified">697 &lt;span id=&quot;cb38-6&quot;&gt;&lt;a href=&quot;#cb38-6&quot;&gt;&lt;/a&gt;    GitClone.java &lt;span class=&quot;va&quot;&gt;$*&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">698 &lt;h3 id=&quot;compiling-and-running-the-libgit2-sample-windows&quot;&gt;Compiling and running the libgit2 sample (Windows)&lt;/h3&gt;</span>
<span class="line-added">699 &lt;div class=&quot;sourceCode&quot; id=&quot;cb39&quot;&gt;&lt;pre class=&quot;sourceCode powershell&quot;&gt;&lt;code class=&quot;sourceCode powershell&quot;&gt;&lt;span id=&quot;cb39-1&quot;&gt;&lt;a href=&quot;#cb39-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">700 &lt;span id=&quot;cb39-2&quot;&gt;&lt;a href=&quot;#cb39-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;param&lt;/span&gt;(&lt;/span&gt;</span>
<span class="line-added">701 &lt;span id=&quot;cb39-3&quot;&gt;&lt;a href=&quot;#cb39-3&quot;&gt;&lt;/a&gt;  [Parameter(Mandatory=&lt;span class=&quot;va&quot;&gt;$true&lt;/span&gt;, HelpMessage=&lt;span class=&quot;st&quot;&gt;&amp;quot;The path to the libgit2 installation&amp;quot;&lt;/span&gt;)]&lt;/span&gt;</span>
<span class="line-added">702 &lt;span id=&quot;cb39-4&quot;&gt;&lt;a href=&quot;#cb39-4&quot;&gt;&lt;/a&gt;  [&lt;span class=&quot;dt&quot;&gt;string&lt;/span&gt;]&lt;span class=&quot;va&quot;&gt;$libgit2path&lt;/span&gt;,&lt;/span&gt;</span>
<span class="line-added">703 &lt;span id=&quot;cb39-5&quot;&gt;&lt;a href=&quot;#cb39-5&quot;&gt;&lt;/a&gt;  [Parameter(Mandatory=&lt;span class=&quot;va&quot;&gt;$true&lt;/span&gt;, HelpMessage=&lt;span class=&quot;st&quot;&gt;&amp;quot;URL to clone from&amp;quot;&lt;/span&gt;)]&lt;/span&gt;</span>
<span class="line-added">704 &lt;span id=&quot;cb39-6&quot;&gt;&lt;a href=&quot;#cb39-6&quot;&gt;&lt;/a&gt;  [&lt;span class=&quot;dt&quot;&gt;string&lt;/span&gt;]&lt;span class=&quot;va&quot;&gt;$url&lt;/span&gt;,&lt;/span&gt;</span>
<span class="line-added">705 &lt;span id=&quot;cb39-7&quot;&gt;&lt;a href=&quot;#cb39-7&quot;&gt;&lt;/a&gt;  [Parameter(Mandatory=&lt;span class=&quot;va&quot;&gt;$true&lt;/span&gt;, HelpMessage=&lt;span class=&quot;st&quot;&gt;&amp;quot;Path to clone into&amp;quot;&lt;/span&gt;)]&lt;/span&gt;</span>
<span class="line-added">706 &lt;span id=&quot;cb39-8&quot;&gt;&lt;a href=&quot;#cb39-8&quot;&gt;&lt;/a&gt;  [&lt;span class=&quot;dt&quot;&gt;string&lt;/span&gt;]&lt;span class=&quot;va&quot;&gt;$path&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">707 &lt;span id=&quot;cb39-9&quot;&gt;&lt;a href=&quot;#cb39-9&quot;&gt;&lt;/a&gt;)&lt;/span&gt;</span>
<span class="line-added">708 &lt;span id=&quot;cb39-10&quot;&gt;&lt;a href=&quot;#cb39-10&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">709 &lt;span id=&quot;cb39-11&quot;&gt;&lt;a href=&quot;#cb39-11&quot;&gt;&lt;/a&gt;. ./shared_windows.&lt;span class=&quot;fu&quot;&gt;ps1&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">710 &lt;span id=&quot;cb39-12&quot;&gt;&lt;a href=&quot;#cb39-12&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">711 &lt;span id=&quot;cb39-13&quot;&gt;&lt;a href=&quot;#cb39-13&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;$java&lt;/span&gt; = find-tool(&lt;span class=&quot;st&quot;&gt;&amp;quot;java&amp;quot;&lt;/span&gt;)&lt;/span&gt;</span>
<span class="line-added">712 &lt;span id=&quot;cb39-14&quot;&gt;&lt;a href=&quot;#cb39-14&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">713 &lt;span id=&quot;cb39-15&quot;&gt;&lt;a href=&quot;#cb39-15&quot;&gt;&lt;/a&gt;&amp;amp; &lt;span class=&quot;va&quot;&gt;$java&lt;/span&gt; -D&lt;span class=&quot;st&quot;&gt;&amp;quot;foreign.restricted=permit&amp;quot;&lt;/span&gt; --add-modules jdk.&lt;span class=&quot;fu&quot;&gt;incubator&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;foreign&lt;/span&gt; -D&lt;span class=&quot;st&quot;&gt;&amp;quot;java.library.path=$libgit2path\bin&amp;quot;&lt;/span&gt; GitClone.&lt;span class=&quot;fu&quot;&gt;java&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;$url&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;$path&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
714 &lt;h3 id=&quot;cloning-a-github-repo-using-the-above-run.sh-command&quot;&gt;Cloning a github repo using the above run.sh command&lt;/h3&gt;
<a name="39" id="anc39"></a><span class="line-modified">715 &lt;div class=&quot;sourceCode&quot; id=&quot;cb40&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb40-1&quot;&gt;&lt;a href=&quot;#cb40-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">716 &lt;span id=&quot;cb40-2&quot;&gt;&lt;a href=&quot;#cb40-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;fu&quot;&gt;sh&lt;/span&gt; run.sh https://github.com/libgit2/libgit2.git libgit2&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-modified">717 &lt;h2 id=&quot;using-sqlite3-library-from-java&quot;&gt;Using sqlite3 library from Java&lt;/h2&gt;</span>
<span class="line-modified">718 &lt;h3 id=&quot;jextract-sqlite3.h-mac-os&quot;&gt;jextract sqlite3.h (Mac OS)&lt;/h3&gt;</span>
<span class="line-modified">719 &lt;div class=&quot;sourceCode&quot; id=&quot;cb41&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb41-1&quot;&gt;&lt;a href=&quot;#cb41-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">720 &lt;span id=&quot;cb41-2&quot;&gt;&lt;a href=&quot;#cb41-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;</span>
<span class="line-modified">721 &lt;span id=&quot;cb41-3&quot;&gt;&lt;a href=&quot;#cb41-3&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;</span>
<span class="line-modified">722 &lt;span id=&quot;cb41-4&quot;&gt;&lt;a href=&quot;#cb41-4&quot;&gt;&lt;/a&gt;  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sqlite3.h \&lt;/span&gt;</span>
<span class="line-modified">723 &lt;span id=&quot;cb41-5&quot;&gt;&lt;a href=&quot;#cb41-5&quot;&gt;&lt;/a&gt;  -t org.sqlite -lsqlite3&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
724 &lt;h3 id=&quot;java-program-that-uses-sqlite3&quot;&gt;Java program that uses sqlite3&lt;/h3&gt;
<a name="40" id="anc40"></a><span class="line-modified">725 &lt;div class=&quot;sourceCode&quot; id=&quot;cb42&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb42-1&quot;&gt;&lt;a href=&quot;#cb42-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">726 &lt;span id=&quot;cb42-2&quot;&gt;&lt;a href=&quot;#cb42-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">727 &lt;span id=&quot;cb42-3&quot;&gt;&lt;a href=&quot;#cb42-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAccess;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">728 &lt;span id=&quot;cb42-4&quot;&gt;&lt;a href=&quot;#cb42-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">729 &lt;span id=&quot;cb42-5&quot;&gt;&lt;a href=&quot;#cb42-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">730 &lt;span id=&quot;cb42-6&quot;&gt;&lt;a href=&quot;#cb42-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.sqlite.sqlite3_h.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">731 &lt;span id=&quot;cb42-7&quot;&gt;&lt;a href=&quot;#cb42-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.sqlite.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">732 &lt;span id=&quot;cb42-8&quot;&gt;&lt;a href=&quot;#cb42-8&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">733 &lt;span id=&quot;cb42-9&quot;&gt;&lt;a href=&quot;#cb42-9&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">734 &lt;span id=&quot;cb42-10&quot;&gt;&lt;a href=&quot;#cb42-10&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; SqliteMain {&lt;/span&gt;</span>
<span class="line-modified">735 &lt;span id=&quot;cb42-11&quot;&gt;&lt;a href=&quot;#cb42-11&quot;&gt;&lt;/a&gt;   &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;kw&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;bu&quot;&gt;Exception&lt;/span&gt; {&lt;/span&gt;</span>
<span class="line-modified">736 &lt;span id=&quot;cb42-12&quot;&gt;&lt;a href=&quot;#cb42-12&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;</span>
<span class="line-modified">737 &lt;span id=&quot;cb42-13&quot;&gt;&lt;a href=&quot;#cb42-13&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// char** errMsgPtrPtr;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">738 &lt;span id=&quot;cb42-14&quot;&gt;&lt;a href=&quot;#cb42-14&quot;&gt;&lt;/a&gt;            var errMsgPtrPtr = scope.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(C_POINTER);&lt;/span&gt;</span>
<span class="line-modified">739 &lt;span id=&quot;cb42-15&quot;&gt;&lt;a href=&quot;#cb42-15&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">740 &lt;span id=&quot;cb42-16&quot;&gt;&lt;a href=&quot;#cb42-16&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// sqlite3** dbPtrPtr;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">741 &lt;span id=&quot;cb42-17&quot;&gt;&lt;a href=&quot;#cb42-17&quot;&gt;&lt;/a&gt;            var dbPtrPtr = scope.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(C_POINTER);&lt;/span&gt;</span>
<span class="line-modified">742 &lt;span id=&quot;cb42-18&quot;&gt;&lt;a href=&quot;#cb42-18&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">743 &lt;span id=&quot;cb42-19&quot;&gt;&lt;a href=&quot;#cb42-19&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_open&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;employee.db&amp;quot;&lt;/span&gt;,scope), dbPtrPtr);&lt;/span&gt;</span>
<span class="line-modified">744 &lt;span id=&quot;cb42-20&quot;&gt;&lt;a href=&quot;#cb42-20&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;</span>
<span class="line-modified">745 &lt;span id=&quot;cb42-21&quot;&gt;&lt;a href=&quot;#cb42-21&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_open failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;</span>
<span class="line-modified">746 &lt;span id=&quot;cb42-22&quot;&gt;&lt;a href=&quot;#cb42-22&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">747 &lt;span id=&quot;cb42-23&quot;&gt;&lt;a href=&quot;#cb42-23&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;</span>
<span class="line-modified">748 &lt;span id=&quot;cb42-24&quot;&gt;&lt;a href=&quot;#cb42-24&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;employee db opened&amp;quot;&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">749 &lt;span id=&quot;cb42-25&quot;&gt;&lt;a href=&quot;#cb42-25&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;</span>
<span class="line-modified">750 &lt;span id=&quot;cb42-26&quot;&gt;&lt;a href=&quot;#cb42-26&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">751 &lt;span id=&quot;cb42-27&quot;&gt;&lt;a href=&quot;#cb42-27&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// sqlite3* dbPtr;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">752 &lt;span id=&quot;cb42-28&quot;&gt;&lt;a href=&quot;#cb42-28&quot;&gt;&lt;/a&gt;            var dbPtr = MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(dbPtrPtr);&lt;/span&gt;</span>
<span class="line-modified">753 &lt;span id=&quot;cb42-29&quot;&gt;&lt;a href=&quot;#cb42-29&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">754 &lt;span id=&quot;cb42-30&quot;&gt;&lt;a href=&quot;#cb42-30&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// create a new table&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">755 &lt;span id=&quot;cb42-31&quot;&gt;&lt;a href=&quot;#cb42-31&quot;&gt;&lt;/a&gt;            var sql = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;/span&gt;</span>
<span class="line-modified">756 &lt;span id=&quot;cb42-32&quot;&gt;&lt;a href=&quot;#cb42-32&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;CREATE TABLE EMPLOYEE (&amp;quot;&lt;/span&gt;  +&lt;/span&gt;</span>
<span class="line-modified">757 &lt;span id=&quot;cb42-33&quot;&gt;&lt;a href=&quot;#cb42-33&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;  ID INT PRIMARY KEY NOT NULL,&amp;quot;&lt;/span&gt; +&lt;/span&gt;</span>
<span class="line-modified">758 &lt;span id=&quot;cb42-34&quot;&gt;&lt;a href=&quot;#cb42-34&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;  NAME TEXT NOT NULL,&amp;quot;&lt;/span&gt;    +&lt;/span&gt;</span>
<span class="line-modified">759 &lt;span id=&quot;cb42-35&quot;&gt;&lt;a href=&quot;#cb42-35&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;  SALARY REAL NOT NULL )&amp;quot;&lt;/span&gt;, scope);&lt;/span&gt;</span>
<span class="line-modified">760 &lt;span id=&quot;cb42-36&quot;&gt;&lt;a href=&quot;#cb42-36&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">761 &lt;span id=&quot;cb42-37&quot;&gt;&lt;a href=&quot;#cb42-37&quot;&gt;&lt;/a&gt;            rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_exec&lt;/span&gt;(dbPtr, sql, NULL, NULL, errMsgPtrPtr);&lt;/span&gt;</span>
<span class="line-modified">762 &lt;span id=&quot;cb42-38&quot;&gt;&lt;a href=&quot;#cb42-38&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">763 &lt;span id=&quot;cb42-39&quot;&gt;&lt;a href=&quot;#cb42-39&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;</span>
<span class="line-modified">764 &lt;span id=&quot;cb42-40&quot;&gt;&lt;a href=&quot;#cb42-40&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_exec failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;</span>
<span class="line-modified">765 &lt;span id=&quot;cb42-41&quot;&gt;&lt;a href=&quot;#cb42-41&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SQL error: &amp;quot;&lt;/span&gt; + &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr)));&lt;/span&gt;</span>
<span class="line-modified">766 &lt;span id=&quot;cb42-42&quot;&gt;&lt;a href=&quot;#cb42-42&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;sqlite3_free&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr));&lt;/span&gt;</span>
<span class="line-modified">767 &lt;span id=&quot;cb42-43&quot;&gt;&lt;a href=&quot;#cb42-43&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;</span>
<span class="line-modified">768 &lt;span id=&quot;cb42-44&quot;&gt;&lt;a href=&quot;#cb42-44&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;employee table created&amp;quot;&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">769 &lt;span id=&quot;cb42-45&quot;&gt;&lt;a href=&quot;#cb42-45&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;</span>
<span class="line-modified">770 &lt;span id=&quot;cb42-46&quot;&gt;&lt;a href=&quot;#cb42-46&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">771 &lt;span id=&quot;cb42-47&quot;&gt;&lt;a href=&quot;#cb42-47&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// insert two rows&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">772 &lt;span id=&quot;cb42-48&quot;&gt;&lt;a href=&quot;#cb42-48&quot;&gt;&lt;/a&gt;            sql = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;/span&gt;</span>
<span class="line-modified">773 &lt;span id=&quot;cb42-49&quot;&gt;&lt;a href=&quot;#cb42-49&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;INSERT INTO EMPLOYEE (ID,NAME,SALARY) &amp;quot;&lt;/span&gt; +&lt;/span&gt;</span>
<span class="line-modified">774 &lt;span id=&quot;cb42-50&quot;&gt;&lt;a href=&quot;#cb42-50&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;st&quot;&gt;&amp;quot;VALUES (134, &amp;#39;Xyz&amp;#39;, 200000.0); &amp;quot;&lt;/span&gt; +&lt;/span&gt;</span>
<span class="line-modified">775 &lt;span id=&quot;cb42-51&quot;&gt;&lt;a href=&quot;#cb42-51&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;INSERT INTO EMPLOYEE (ID,NAME,SALARY) &amp;quot;&lt;/span&gt; +&lt;/span&gt;</span>
<span class="line-modified">776 &lt;span id=&quot;cb42-52&quot;&gt;&lt;a href=&quot;#cb42-52&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;st&quot;&gt;&amp;quot;VALUES (333, &amp;#39;Abc&amp;#39;, 100000.0);&amp;quot;&lt;/span&gt;, scope&lt;/span&gt;</span>
<span class="line-modified">777 &lt;span id=&quot;cb42-53&quot;&gt;&lt;a href=&quot;#cb42-53&quot;&gt;&lt;/a&gt;            );&lt;/span&gt;</span>
<span class="line-modified">778 &lt;span id=&quot;cb42-54&quot;&gt;&lt;a href=&quot;#cb42-54&quot;&gt;&lt;/a&gt;            rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_exec&lt;/span&gt;(dbPtr, sql, NULL, NULL, errMsgPtrPtr);&lt;/span&gt;</span>
<span class="line-modified">779 &lt;span id=&quot;cb42-55&quot;&gt;&lt;a href=&quot;#cb42-55&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">780 &lt;span id=&quot;cb42-56&quot;&gt;&lt;a href=&quot;#cb42-56&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;</span>
<span class="line-modified">781 &lt;span id=&quot;cb42-57&quot;&gt;&lt;a href=&quot;#cb42-57&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_exec failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;</span>
<span class="line-modified">782 &lt;span id=&quot;cb42-58&quot;&gt;&lt;a href=&quot;#cb42-58&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SQL error: &amp;quot;&lt;/span&gt; + &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr)));&lt;/span&gt;</span>
<span class="line-modified">783 &lt;span id=&quot;cb42-59&quot;&gt;&lt;a href=&quot;#cb42-59&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;sqlite3_free&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr));&lt;/span&gt;</span>
<span class="line-modified">784 &lt;span id=&quot;cb42-60&quot;&gt;&lt;a href=&quot;#cb42-60&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;</span>
<span class="line-modified">785 &lt;span id=&quot;cb42-61&quot;&gt;&lt;a href=&quot;#cb42-61&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;rows inserted&amp;quot;&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">786 &lt;span id=&quot;cb42-62&quot;&gt;&lt;a href=&quot;#cb42-62&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;</span>
<span class="line-modified">787 &lt;span id=&quot;cb42-63&quot;&gt;&lt;a href=&quot;#cb42-63&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">788 &lt;span id=&quot;cb42-64&quot;&gt;&lt;a href=&quot;#cb42-64&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;[] rowNum = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;];&lt;/span&gt;</span>
<span class="line-modified">789 &lt;span id=&quot;cb42-65&quot;&gt;&lt;a href=&quot;#cb42-65&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// callback to print rows from SELECT query&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">790 &lt;span id=&quot;cb42-66&quot;&gt;&lt;a href=&quot;#cb42-66&quot;&gt;&lt;/a&gt;            var callback = sqlite3_exec$callback.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;((a, argc, argv, columnNames) -&amp;gt; {&lt;/span&gt;</span>
<span class="line-modified">791 &lt;span id=&quot;cb42-67&quot;&gt;&lt;a href=&quot;#cb42-67&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Row num: &amp;quot;&lt;/span&gt; + rowNum[&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;]++);&lt;/span&gt;</span>
<span class="line-modified">792 &lt;span id=&quot;cb42-68&quot;&gt;&lt;a href=&quot;#cb42-68&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;numColumns = &amp;quot;&lt;/span&gt; + argc);&lt;/span&gt;</span>
<span class="line-modified">793 &lt;span id=&quot;cb42-69&quot;&gt;&lt;a href=&quot;#cb42-69&quot;&gt;&lt;/a&gt;                argv = &lt;span class=&quot;fu&quot;&gt;asArrayRestricted&lt;/span&gt;(argv, C_POINTER, argc);&lt;/span&gt;</span>
<span class="line-modified">794 &lt;span id=&quot;cb42-70&quot;&gt;&lt;a href=&quot;#cb42-70&quot;&gt;&lt;/a&gt;                columnNames = &lt;span class=&quot;fu&quot;&gt;asArrayRestricted&lt;/span&gt;(columnNames, C_POINTER, argc);&lt;/span&gt;</span>
<span class="line-modified">795 &lt;span id=&quot;cb42-71&quot;&gt;&lt;a href=&quot;#cb42-71&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; argc; i++) {&lt;/span&gt;</span>
<span class="line-modified">796 &lt;span id=&quot;cb42-72&quot;&gt;&lt;a href=&quot;#cb42-72&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; name = &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddressAtIndex&lt;/span&gt;(columnNames, i));&lt;/span&gt;</span>
<span class="line-modified">797 &lt;span id=&quot;cb42-73&quot;&gt;&lt;a href=&quot;#cb42-73&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; value = &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddressAtIndex&lt;/span&gt;(argv, i));&lt;/span&gt;</span>
<span class="line-modified">798 &lt;span id=&quot;cb42-74&quot;&gt;&lt;a href=&quot;#cb42-74&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, name, value);&lt;/span&gt;</span>
<span class="line-modified">799 &lt;span id=&quot;cb42-75&quot;&gt;&lt;a href=&quot;#cb42-75&quot;&gt;&lt;/a&gt;                }&lt;/span&gt;</span>
<span class="line-modified">800 &lt;span id=&quot;cb42-76&quot;&gt;&lt;a href=&quot;#cb42-76&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">801 &lt;span id=&quot;cb42-77&quot;&gt;&lt;a href=&quot;#cb42-77&quot;&gt;&lt;/a&gt;            }, scope);&lt;/span&gt;</span>
<span class="line-modified">802 &lt;span id=&quot;cb42-78&quot;&gt;&lt;a href=&quot;#cb42-78&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">803 &lt;span id=&quot;cb42-79&quot;&gt;&lt;a href=&quot;#cb42-79&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// select query&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">804 &lt;span id=&quot;cb42-80&quot;&gt;&lt;a href=&quot;#cb42-80&quot;&gt;&lt;/a&gt;            sql = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SELECT * FROM EMPLOYEE&amp;quot;&lt;/span&gt;, scope);&lt;/span&gt;</span>
<span class="line-modified">805 &lt;span id=&quot;cb42-81&quot;&gt;&lt;a href=&quot;#cb42-81&quot;&gt;&lt;/a&gt;            rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_exec&lt;/span&gt;(dbPtr, sql, callback, NULL, errMsgPtrPtr);&lt;/span&gt;</span>
<span class="line-modified">806 &lt;span id=&quot;cb42-82&quot;&gt;&lt;a href=&quot;#cb42-82&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">807 &lt;span id=&quot;cb42-83&quot;&gt;&lt;a href=&quot;#cb42-83&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;</span>
<span class="line-modified">808 &lt;span id=&quot;cb42-84&quot;&gt;&lt;a href=&quot;#cb42-84&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_exec failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;</span>
<span class="line-modified">809 &lt;span id=&quot;cb42-85&quot;&gt;&lt;a href=&quot;#cb42-85&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SQL error: &amp;quot;&lt;/span&gt; + &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr)));&lt;/span&gt;</span>
<span class="line-modified">810 &lt;span id=&quot;cb42-86&quot;&gt;&lt;a href=&quot;#cb42-86&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;sqlite3_free&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr));&lt;/span&gt;</span>
<span class="line-modified">811 &lt;span id=&quot;cb42-87&quot;&gt;&lt;a href=&quot;#cb42-87&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;</span>
<span class="line-modified">812 &lt;span id=&quot;cb42-88&quot;&gt;&lt;a href=&quot;#cb42-88&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;done&amp;quot;&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">813 &lt;span id=&quot;cb42-89&quot;&gt;&lt;a href=&quot;#cb42-89&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;</span>
<span class="line-modified">814 &lt;span id=&quot;cb42-90&quot;&gt;&lt;a href=&quot;#cb42-90&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">815 &lt;span id=&quot;cb42-91&quot;&gt;&lt;a href=&quot;#cb42-91&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;sqlite3_close&lt;/span&gt;(dbPtr);&lt;/span&gt;</span>
<span class="line-modified">816 &lt;span id=&quot;cb42-92&quot;&gt;&lt;a href=&quot;#cb42-92&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-modified">817 &lt;span id=&quot;cb42-93&quot;&gt;&lt;a href=&quot;#cb42-93&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-modified">818 &lt;span id=&quot;cb42-94&quot;&gt;&lt;a href=&quot;#cb42-94&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-modified">819 &lt;h3 id=&quot;compiling-and-running-the-sqlite3-sample-mac-os&quot;&gt;Compiling and running the sqlite3 sample (Mac OS)&lt;/h3&gt;</span>
<span class="line-modified">820 &lt;div class=&quot;sourceCode&quot; id=&quot;cb43&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb43-1&quot;&gt;&lt;a href=&quot;#cb43-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">821 &lt;span id=&quot;cb43-2&quot;&gt;&lt;a href=&quot;#cb43-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit \&lt;/span&gt;</span>
<span class="line-modified">822 &lt;span id=&quot;cb43-3&quot;&gt;&lt;a href=&quot;#cb43-3&quot;&gt;&lt;/a&gt;   --add-modules jdk.incubator.foreign \&lt;/span&gt;</span>
<span class="line-modified">823 &lt;span id=&quot;cb43-4&quot;&gt;&lt;a href=&quot;#cb43-4&quot;&gt;&lt;/a&gt;   -Djava.library.path=/usr/lib SqliteMain.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">824 &lt;h2 id=&quot;using-opengl-library-from-java&quot;&gt;Using OpenGL library from Java&lt;/h2&gt;</span>
<span class="line-added">825 &lt;h3 id=&quot;jextract-glut.h-mac-os&quot;&gt;jextract glut.h (Mac OS)&lt;/h3&gt;</span>
<span class="line-added">826 &lt;div class=&quot;sourceCode&quot; id=&quot;cb44&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb44-1&quot;&gt;&lt;a href=&quot;#cb44-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">827 &lt;span id=&quot;cb44-2&quot;&gt;&lt;a href=&quot;#cb44-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -t opengl -lGL -l/System/Library/Frameworks/GLUT.framework/Versions/Current/GLUT \&lt;/span&gt;</span>
<span class="line-added">828 &lt;span id=&quot;cb44-3&quot;&gt;&lt;a href=&quot;#cb44-3&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/ \&lt;/span&gt;</span>
<span class="line-added">829 &lt;span id=&quot;cb44-4&quot;&gt;&lt;a href=&quot;#cb44-4&quot;&gt;&lt;/a&gt;  -C-F/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/System/Library/Frameworks \&lt;/span&gt;</span>
<span class="line-added">830 &lt;span id=&quot;cb44-5&quot;&gt;&lt;a href=&quot;#cb44-5&quot;&gt;&lt;/a&gt;  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/System/Library/Frameworks/GLUT.framework/Headers/glut.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">831 &lt;h3 id=&quot;jextract-glut.h-windows&quot;&gt;jextract glut.h (Windows)&lt;/h3&gt;</span>
<span class="line-added">832 &lt;div class=&quot;sourceCode&quot; id=&quot;cb45&quot;&gt;&lt;pre class=&quot;sourceCode powershell&quot;&gt;&lt;code class=&quot;sourceCode powershell&quot;&gt;&lt;span id=&quot;cb45-1&quot;&gt;&lt;a href=&quot;#cb45-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">833 &lt;span id=&quot;cb45-2&quot;&gt;&lt;a href=&quot;#cb45-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;param&lt;/span&gt;(&lt;/span&gt;</span>
<span class="line-added">834 &lt;span id=&quot;cb45-3&quot;&gt;&lt;a href=&quot;#cb45-3&quot;&gt;&lt;/a&gt;  [Parameter(Mandatory=&lt;span class=&quot;va&quot;&gt;$true&lt;/span&gt;, HelpMessage=&lt;span class=&quot;st&quot;&gt;&amp;quot;The path to the freeglut installation&amp;quot;&lt;/span&gt;)]&lt;/span&gt;</span>
<span class="line-added">835 &lt;span id=&quot;cb45-4&quot;&gt;&lt;a href=&quot;#cb45-4&quot;&gt;&lt;/a&gt;  [&lt;span class=&quot;dt&quot;&gt;string&lt;/span&gt;]&lt;span class=&quot;va&quot;&gt;$freeglutPath&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">836 &lt;span id=&quot;cb45-5&quot;&gt;&lt;a href=&quot;#cb45-5&quot;&gt;&lt;/a&gt;)&lt;/span&gt;</span>
<span class="line-added">837 &lt;span id=&quot;cb45-6&quot;&gt;&lt;a href=&quot;#cb45-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">838 &lt;span id=&quot;cb45-7&quot;&gt;&lt;a href=&quot;#cb45-7&quot;&gt;&lt;/a&gt;. ./shared_windows.&lt;span class=&quot;fu&quot;&gt;ps1&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">839 &lt;span id=&quot;cb45-8&quot;&gt;&lt;a href=&quot;#cb45-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">840 &lt;span id=&quot;cb45-9&quot;&gt;&lt;a href=&quot;#cb45-9&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;$jextract&lt;/span&gt; = find-tool(&lt;span class=&quot;st&quot;&gt;&amp;quot;jextract&amp;quot;&lt;/span&gt;)&lt;/span&gt;</span>
<span class="line-added">841 &lt;span id=&quot;cb45-10&quot;&gt;&lt;a href=&quot;#cb45-10&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">842 &lt;span id=&quot;cb45-11&quot;&gt;&lt;a href=&quot;#cb45-11&quot;&gt;&lt;/a&gt;&amp;amp; &lt;span class=&quot;va&quot;&gt;$jextract&lt;/span&gt; -I &lt;span class=&quot;st&quot;&gt;&amp;quot;$freeglutPath\include&amp;quot;&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;-l&amp;quot;&lt;/span&gt; opengl32 &lt;span class=&quot;st&quot;&gt;&amp;quot;-l&amp;quot;&lt;/span&gt; glu32 &lt;span class=&quot;st&quot;&gt;&amp;quot;-l&amp;quot;&lt;/span&gt; freeglut &lt;span class=&quot;st&quot;&gt;&amp;quot;-t&amp;quot;&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;opengl&amp;quot;&lt;/span&gt; -J-Xmx2G --filter &amp;#39;GL&amp;#39; --filter &amp;#39;GLU&amp;#39; &lt;span class=&quot;st&quot;&gt;&amp;quot;--&amp;quot;&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;$freeglutPath\include\GL\glut.h&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">843 &lt;h3 id=&quot;java-program-that-uses-opengl&quot;&gt;Java program that uses OpenGL&lt;/h3&gt;</span>
<span class="line-added">844 &lt;div class=&quot;sourceCode&quot; id=&quot;cb46&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb46-1&quot;&gt;&lt;a href=&quot;#cb46-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">845 &lt;span id=&quot;cb46-2&quot;&gt;&lt;a href=&quot;#cb46-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">846 &lt;span id=&quot;cb46-3&quot;&gt;&lt;a href=&quot;#cb46-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">847 &lt;span id=&quot;cb46-4&quot;&gt;&lt;a href=&quot;#cb46-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">848 &lt;span id=&quot;cb46-5&quot;&gt;&lt;a href=&quot;#cb46-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; opengl.glut_h.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">849 &lt;span id=&quot;cb46-6&quot;&gt;&lt;a href=&quot;#cb46-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">850 &lt;span id=&quot;cb46-7&quot;&gt;&lt;a href=&quot;#cb46-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; Teapot {&lt;/span&gt;</span>
<span class="line-added">851 &lt;span id=&quot;cb46-8&quot;&gt;&lt;a href=&quot;#cb46-8&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;float&lt;/span&gt; rot = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-added">852 &lt;span id=&quot;cb46-9&quot;&gt;&lt;a href=&quot;#cb46-9&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">853 &lt;span id=&quot;cb46-10&quot;&gt;&lt;a href=&quot;#cb46-10&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;fu&quot;&gt;Teapot&lt;/span&gt;(NativeScope scope) {&lt;/span&gt;</span>
<span class="line-added">854 &lt;span id=&quot;cb46-11&quot;&gt;&lt;a href=&quot;#cb46-11&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;co&quot;&gt;// Reset Background&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">855 &lt;span id=&quot;cb46-12&quot;&gt;&lt;a href=&quot;#cb46-12&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glClearColor&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;0f&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0f&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0f&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0f&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-added">856 &lt;span id=&quot;cb46-13&quot;&gt;&lt;a href=&quot;#cb46-13&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;co&quot;&gt;// Setup Lighting&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">857 &lt;span id=&quot;cb46-14&quot;&gt;&lt;a href=&quot;#cb46-14&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glShadeModel&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_SMOOTH&lt;/span&gt;());&lt;/span&gt;</span>
<span class="line-added">858 &lt;span id=&quot;cb46-15&quot;&gt;&lt;a href=&quot;#cb46-15&quot;&gt;&lt;/a&gt;        var pos = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(C_FLOAT, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;float&lt;/span&gt;[] {&lt;span class=&quot;fl&quot;&gt;0.0f&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;15.0f&lt;/span&gt;, -&lt;span class=&quot;fl&quot;&gt;15.0f&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;});&lt;/span&gt;</span>
<span class="line-added">859 &lt;span id=&quot;cb46-16&quot;&gt;&lt;a href=&quot;#cb46-16&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glLightfv&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_LIGHT0&lt;/span&gt;(), &lt;span class=&quot;fu&quot;&gt;GL_POSITION&lt;/span&gt;(), pos);&lt;/span&gt;</span>
<span class="line-added">860 &lt;span id=&quot;cb46-17&quot;&gt;&lt;a href=&quot;#cb46-17&quot;&gt;&lt;/a&gt;        var spec = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(C_FLOAT, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;float&lt;/span&gt;[] {&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;});&lt;/span&gt;</span>
<span class="line-added">861 &lt;span id=&quot;cb46-18&quot;&gt;&lt;a href=&quot;#cb46-18&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glLightfv&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_LIGHT0&lt;/span&gt;(), &lt;span class=&quot;fu&quot;&gt;GL_AMBIENT&lt;/span&gt;(), spec);&lt;/span&gt;</span>
<span class="line-added">862 &lt;span id=&quot;cb46-19&quot;&gt;&lt;a href=&quot;#cb46-19&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glLightfv&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_LIGHT0&lt;/span&gt;(), &lt;span class=&quot;fu&quot;&gt;GL_DIFFUSE&lt;/span&gt;(), spec);&lt;/span&gt;</span>
<span class="line-added">863 &lt;span id=&quot;cb46-20&quot;&gt;&lt;a href=&quot;#cb46-20&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glLightfv&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_LIGHT0&lt;/span&gt;(), &lt;span class=&quot;fu&quot;&gt;GL_SPECULAR&lt;/span&gt;(), spec);&lt;/span&gt;</span>
<span class="line-added">864 &lt;span id=&quot;cb46-21&quot;&gt;&lt;a href=&quot;#cb46-21&quot;&gt;&lt;/a&gt;        var shini = scope.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(C_FLOAT, &lt;span class=&quot;dv&quot;&gt;113&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-added">865 &lt;span id=&quot;cb46-22&quot;&gt;&lt;a href=&quot;#cb46-22&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glMaterialfv&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_FRONT&lt;/span&gt;(), &lt;span class=&quot;fu&quot;&gt;GL_SHININESS&lt;/span&gt;(), shini);&lt;/span&gt;</span>
<span class="line-added">866 &lt;span id=&quot;cb46-23&quot;&gt;&lt;a href=&quot;#cb46-23&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glEnable&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_LIGHTING&lt;/span&gt;());&lt;/span&gt;</span>
<span class="line-added">867 &lt;span id=&quot;cb46-24&quot;&gt;&lt;a href=&quot;#cb46-24&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glEnable&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_LIGHT0&lt;/span&gt;());&lt;/span&gt;</span>
<span class="line-added">868 &lt;span id=&quot;cb46-25&quot;&gt;&lt;a href=&quot;#cb46-25&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glEnable&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_DEPTH_TEST&lt;/span&gt;());&lt;/span&gt;</span>
<span class="line-added">869 &lt;span id=&quot;cb46-26&quot;&gt;&lt;a href=&quot;#cb46-26&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-added">870 &lt;span id=&quot;cb46-27&quot;&gt;&lt;a href=&quot;#cb46-27&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">871 &lt;span id=&quot;cb46-28&quot;&gt;&lt;a href=&quot;#cb46-28&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;display&lt;/span&gt;() {&lt;/span&gt;</span>
<span class="line-added">872 &lt;span id=&quot;cb46-29&quot;&gt;&lt;a href=&quot;#cb46-29&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glClear&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GL_COLOR_BUFFER_BIT&lt;/span&gt;() | &lt;span class=&quot;fu&quot;&gt;GL_DEPTH_BUFFER_BIT&lt;/span&gt;());&lt;/span&gt;</span>
<span class="line-added">873 &lt;span id=&quot;cb46-30&quot;&gt;&lt;a href=&quot;#cb46-30&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glPushMatrix&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-added">874 &lt;span id=&quot;cb46-31&quot;&gt;&lt;a href=&quot;#cb46-31&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glRotatef&lt;/span&gt;(-&lt;span class=&quot;fl&quot;&gt;20f&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1f&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1f&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0f&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-added">875 &lt;span id=&quot;cb46-32&quot;&gt;&lt;a href=&quot;#cb46-32&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glRotatef&lt;/span&gt;(rot, &lt;span class=&quot;fl&quot;&gt;0f&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1f&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0f&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-added">876 &lt;span id=&quot;cb46-33&quot;&gt;&lt;a href=&quot;#cb46-33&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glutSolidTeapot&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;0.5d&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-added">877 &lt;span id=&quot;cb46-34&quot;&gt;&lt;a href=&quot;#cb46-34&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glPopMatrix&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-added">878 &lt;span id=&quot;cb46-35&quot;&gt;&lt;a href=&quot;#cb46-35&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glutSwapBuffers&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-added">879 &lt;span id=&quot;cb46-36&quot;&gt;&lt;a href=&quot;#cb46-36&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-added">880 &lt;span id=&quot;cb46-37&quot;&gt;&lt;a href=&quot;#cb46-37&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">881 &lt;span id=&quot;cb46-38&quot;&gt;&lt;a href=&quot;#cb46-38&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;onIdle&lt;/span&gt;() {&lt;/span&gt;</span>
<span class="line-added">882 &lt;span id=&quot;cb46-39&quot;&gt;&lt;a href=&quot;#cb46-39&quot;&gt;&lt;/a&gt;        rot += &lt;span class=&quot;fl&quot;&gt;0.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-added">883 &lt;span id=&quot;cb46-40&quot;&gt;&lt;a href=&quot;#cb46-40&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;glutPostRedisplay&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-added">884 &lt;span id=&quot;cb46-41&quot;&gt;&lt;a href=&quot;#cb46-41&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-added">885 &lt;span id=&quot;cb46-42&quot;&gt;&lt;a href=&quot;#cb46-42&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">886 &lt;span id=&quot;cb46-43&quot;&gt;&lt;a href=&quot;#cb46-43&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-added">887 &lt;span id=&quot;cb46-44&quot;&gt;&lt;a href=&quot;#cb46-44&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;</span>
<span class="line-added">888 &lt;span id=&quot;cb46-45&quot;&gt;&lt;a href=&quot;#cb46-45&quot;&gt;&lt;/a&gt;            var argc = scope.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(C_INT, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-added">889 &lt;span id=&quot;cb46-46&quot;&gt;&lt;a href=&quot;#cb46-46&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;glutInit&lt;/span&gt;(argc, argc);&lt;/span&gt;</span>
<span class="line-added">890 &lt;span id=&quot;cb46-47&quot;&gt;&lt;a href=&quot;#cb46-47&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;glutInitDisplayMode&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;GLUT_DOUBLE&lt;/span&gt;() | &lt;span class=&quot;fu&quot;&gt;GLUT_RGB&lt;/span&gt;() | &lt;span class=&quot;fu&quot;&gt;GLUT_DEPTH&lt;/span&gt;());&lt;/span&gt;</span>
<span class="line-added">891 &lt;span id=&quot;cb46-48&quot;&gt;&lt;a href=&quot;#cb46-48&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;glutInitWindowSize&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-added">892 &lt;span id=&quot;cb46-49&quot;&gt;&lt;a href=&quot;#cb46-49&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;glutCreateWindow&lt;/span&gt;(CSupport.&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello Panama!&amp;quot;&lt;/span&gt;, scope));&lt;/span&gt;</span>
<span class="line-added">893 &lt;span id=&quot;cb46-50&quot;&gt;&lt;a href=&quot;#cb46-50&quot;&gt;&lt;/a&gt;            var teapot = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;Teapot&lt;/span&gt;(scope);&lt;/span&gt;</span>
<span class="line-added">894 &lt;span id=&quot;cb46-51&quot;&gt;&lt;a href=&quot;#cb46-51&quot;&gt;&lt;/a&gt;            var displayStub = glutDisplayFunc$func.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(teapot::display, scope);&lt;/span&gt;</span>
<span class="line-added">895 &lt;span id=&quot;cb46-52&quot;&gt;&lt;a href=&quot;#cb46-52&quot;&gt;&lt;/a&gt;            var idleStub = glutIdleFunc$func.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(teapot::onIdle, scope);&lt;/span&gt;</span>
<span class="line-added">896 &lt;span id=&quot;cb46-53&quot;&gt;&lt;a href=&quot;#cb46-53&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;glutDisplayFunc&lt;/span&gt;(displayStub);&lt;/span&gt;</span>
<span class="line-added">897 &lt;span id=&quot;cb46-54&quot;&gt;&lt;a href=&quot;#cb46-54&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;glutIdleFunc&lt;/span&gt;(idleStub);&lt;/span&gt;</span>
<span class="line-added">898 &lt;span id=&quot;cb46-55&quot;&gt;&lt;a href=&quot;#cb46-55&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;glutMainLoop&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-added">899 &lt;span id=&quot;cb46-56&quot;&gt;&lt;a href=&quot;#cb46-56&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-added">900 &lt;span id=&quot;cb46-57&quot;&gt;&lt;a href=&quot;#cb46-57&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-added">901 &lt;span id=&quot;cb46-58&quot;&gt;&lt;a href=&quot;#cb46-58&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">902 &lt;h3 id=&quot;compiling-and-running-the-opengl-sample-mac-os&quot;&gt;Compiling and running the OpenGL sample (Mac OS)&lt;/h3&gt;</span>
<span class="line-added">903 &lt;div class=&quot;sourceCode&quot; id=&quot;cb47&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb47-1&quot;&gt;&lt;a href=&quot;#cb47-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">904 &lt;span id=&quot;cb47-2&quot;&gt;&lt;a href=&quot;#cb47-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -XstartOnFirstThread -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;</span>
<span class="line-added">905 &lt;span id=&quot;cb47-3&quot;&gt;&lt;a href=&quot;#cb47-3&quot;&gt;&lt;/a&gt;    -Djava.library.path=.:/System/Library/Frameworks/OpenGL.framework/Versions/Current/Libraries/ Teapot.java &lt;span class=&quot;va&quot;&gt;$*&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
<span class="line-added">906 &lt;h3 id=&quot;compiling-and-running-the-opengl-sample-windows&quot;&gt;Compiling and running the OpenGL sample (Windows)&lt;/h3&gt;</span>
<span class="line-added">907 &lt;div class=&quot;sourceCode&quot; id=&quot;cb48&quot;&gt;&lt;pre class=&quot;sourceCode powershell&quot;&gt;&lt;code class=&quot;sourceCode powershell&quot;&gt;&lt;span id=&quot;cb48-1&quot;&gt;&lt;a href=&quot;#cb48-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">908 &lt;span id=&quot;cb48-2&quot;&gt;&lt;a href=&quot;#cb48-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;param&lt;/span&gt;(&lt;/span&gt;</span>
<span class="line-added">909 &lt;span id=&quot;cb48-3&quot;&gt;&lt;a href=&quot;#cb48-3&quot;&gt;&lt;/a&gt;  [Parameter(Mandatory=&lt;span class=&quot;va&quot;&gt;$true&lt;/span&gt;, HelpMessage=&lt;span class=&quot;st&quot;&gt;&amp;quot;The path to the freeglut installation&amp;quot;&lt;/span&gt;)]&lt;/span&gt;</span>
<span class="line-added">910 &lt;span id=&quot;cb48-4&quot;&gt;&lt;a href=&quot;#cb48-4&quot;&gt;&lt;/a&gt;  [&lt;span class=&quot;dt&quot;&gt;string&lt;/span&gt;]&lt;span class=&quot;va&quot;&gt;$freeglutPath&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">911 &lt;span id=&quot;cb48-5&quot;&gt;&lt;a href=&quot;#cb48-5&quot;&gt;&lt;/a&gt;)&lt;/span&gt;</span>
<span class="line-added">912 &lt;span id=&quot;cb48-6&quot;&gt;&lt;a href=&quot;#cb48-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">913 &lt;span id=&quot;cb48-7&quot;&gt;&lt;a href=&quot;#cb48-7&quot;&gt;&lt;/a&gt;. ./shared_windows.&lt;span class=&quot;fu&quot;&gt;ps1&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-added">914 &lt;span id=&quot;cb48-8&quot;&gt;&lt;a href=&quot;#cb48-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">915 &lt;span id=&quot;cb48-9&quot;&gt;&lt;a href=&quot;#cb48-9&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;$java&lt;/span&gt; = find-tool(&lt;span class=&quot;st&quot;&gt;&amp;quot;java&amp;quot;&lt;/span&gt;)&lt;/span&gt;</span>
<span class="line-added">916 &lt;span id=&quot;cb48-10&quot;&gt;&lt;a href=&quot;#cb48-10&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-added">917 &lt;span id=&quot;cb48-11&quot;&gt;&lt;a href=&quot;#cb48-11&quot;&gt;&lt;/a&gt;&amp;amp; &lt;span class=&quot;va&quot;&gt;$java&lt;/span&gt; -D&lt;span class=&quot;st&quot;&gt;&amp;quot;foreign.restricted=permit&amp;quot;&lt;/span&gt; --add-modules jdk.&lt;span class=&quot;fu&quot;&gt;incubator&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;foreign&lt;/span&gt; -D&lt;span class=&quot;st&quot;&gt;&amp;quot;java.library.path=C:\Windows\System32`;$freeglutPath\bin\x64&amp;quot;&lt;/span&gt; Teapot.&lt;span class=&quot;fu&quot;&gt;java&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
918 &lt;/body&gt;
919 &lt;/html&gt;
<a name="41" id="anc41"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="41" type="hidden" />
</body>
</html>