<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/jdk.jfr/share/classes/jdk/jfr/Recording.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="Period.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="RecordingState.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.jfr/share/classes/jdk/jfr/Recording.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -44,21 +44,19 @@</span>
  /**
   * Provides means to configure, start, stop and dump recording data to disk.
   * &lt;p&gt;
   * The following example shows how configure, start, stop and dump recording data to disk.
   *
<span class="udiff-line-modified-removed">-  * &lt;pre&gt;</span>
<span class="udiff-line-removed">-  * &lt;code&gt;</span>
<span class="udiff-line-modified-added">+  * &lt;pre&gt;{@literal</span>
   *   Configuration c = Configuration.getConfiguration(&quot;default&quot;);
   *   Recording r = new Recording(c);
   *   r.start();
   *   System.gc();
   *   Thread.sleep(5000);
   *   r.stop();
   *   r.dump(Files.createTempFile(&quot;my-recording&quot;, &quot;.jfr&quot;));
<span class="udiff-line-modified-removed">-  * &lt;/code&gt;</span>
<span class="udiff-line-removed">-  * &lt;/pre&gt;</span>
<span class="udiff-line-modified-added">+  * }&lt;/pre&gt;</span>
   *
   * @since 9
   */
  public final class Recording implements Closeable {
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -143,15 +141,13 @@</span>
      /**
       * Creates a recording with settings from a configuration.
       * &lt;p&gt;
       * The following example shows how create a recording that uses a predefined configuration.
       *
<span class="udiff-line-modified-removed">-      * &lt;pre&gt;</span>
<span class="udiff-line-removed">-      * &lt;code&gt;</span>
<span class="udiff-line-modified-added">+      * &lt;pre&gt;{@literal</span>
       * Recording r = new Recording(Configuration.getConfiguration(&quot;default&quot;));
<span class="udiff-line-modified-removed">-      * &lt;/code&gt;</span>
<span class="udiff-line-removed">-      * &lt;/pre&gt;</span>
<span class="udiff-line-modified-added">+      * }&lt;/pre&gt;</span>
       *
       * The newly created recording is in the {@link RecordingState#NEW} state. To
       * start the recording, invoke the {@link Recording#start()} method.
       *
       * @param configuration configuration that contains the settings to be use, not
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -267,11 +263,11 @@</span>
      }
  
      /**
       * Returns the time when this recording was started.
       *
<span class="udiff-line-modified-removed">-      * @return the the time, or {@code null} if this recording is not started</span>
<span class="udiff-line-modified-added">+      * @return the time, or {@code null} if this recording is not started</span>
       */
      public Instant getStartTime() {
          return internal.getStartTime();
      }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -309,29 +305,25 @@</span>
      /**
       * Replaces all settings for this recording.
       * &lt;p&gt;
       * The following example shows how to set event settings for a recording.
       *
<span class="udiff-line-modified-removed">-      * &lt;pre&gt;</span>
<span class="udiff-line-modified-removed">-      * &lt;code&gt;</span>
<span class="udiff-line-removed">-      *     Map{@literal &lt;}String, String{@literal &gt;} settings = new HashMap{@literal &lt;}{@literal &gt;}();</span>
<span class="udiff-line-modified-added">+      * &lt;pre&gt;{@literal</span>
<span class="udiff-line-modified-added">+      *     Map&lt;String, String&gt; settings = new HashMap&lt;&gt;();</span>
       *     settings.putAll(EventSettings.enabled(&quot;jdk.CPUSample&quot;).withPeriod(Duration.ofSeconds(2)).toMap());
       *     settings.putAll(EventSettings.enabled(MyEvent.class).withThreshold(Duration.ofSeconds(2)).withoutStackTrace().toMap());
       *     settings.put(&quot;jdk.ExecutionSample#period&quot;, &quot;10 ms&quot;);
       *     recording.setSettings(settings);
<span class="udiff-line-modified-removed">-      * &lt;/code&gt;</span>
<span class="udiff-line-removed">-      * &lt;/pre&gt;</span>
<span class="udiff-line-modified-added">+      * }&lt;/pre&gt;</span>
       *
       * The following example shows how to merge settings.
       *
<span class="udiff-line-modified-removed">-      * &lt;pre&gt;</span>
<span class="udiff-line-removed">-      *     {@code</span>
<span class="udiff-line-modified-added">+      * &lt;pre&gt;{@literal</span>
       *     Map&lt;String, String&gt; settings = recording.getSettings();
       *     settings.putAll(additionalSettings);
       *     recording.setSettings(settings);
<span class="udiff-line-modified-removed">-      * }</span>
<span class="udiff-line-removed">-      * &lt;/pre&gt;</span>
<span class="udiff-line-modified-added">+      * }&lt;/pre&gt;</span>
       *
       * @param settings the settings to set, not {@code null}
       */
      public void setSettings(Map&lt;String, String&gt; settings) {
          Objects.requireNonNull(settings);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -419,11 +411,11 @@</span>
       * If neither maximum limit or the maximum age is set, the size of the
       * recording may grow indefinitely.
       *
       * @param maxSize the amount of data to retain, {@code 0} if infinite
       *
<span class="udiff-line-modified-removed">-      * @throws IllegalArgumentException if &lt;code&gt;maxSize&lt;/code&gt; is negative</span>
<span class="udiff-line-modified-added">+      * @throws IllegalArgumentException if {@code maxSize} is negative</span>
       *
       * @throws IllegalStateException if the recording is in {@code CLOSED} state
       */
      public void setMaxSize(long maxSize) {
          if (maxSize &lt; 0) {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -472,11 +464,11 @@</span>
       * If neither maximum limit or the maximum age is set, the size of the
       * recording may grow indefinitely.
       *
       * @param maxAge the length of time that data is kept, or {@code null} if infinite
       *
<span class="udiff-line-modified-removed">-      * @throws IllegalArgumentException if &lt;code&gt;maxAge&lt;/code&gt; is negative</span>
<span class="udiff-line-modified-added">+      * @throws IllegalArgumentException if {@code maxAge} is negative</span>
       *
       * @throws IllegalStateException if the recording is in the {@code CLOSED} state
       */
      public void setMaxAge(Duration maxAge) {
          if (maxAge != null &amp;&amp; maxAge.isNegative()) {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -584,14 +576,14 @@</span>
      /**
       * Creates a data stream for a specified interval.
       * &lt;p&gt;
       * The stream may contain some data outside the specified range.
       *
<span class="udiff-line-modified-removed">-      * @param the start start time for the stream, or {@code null} to get data from</span>
<span class="udiff-line-modified-added">+      * @param start the start time for the stream, or {@code null} to get data from</span>
       *        start time of the recording
       *
<span class="udiff-line-modified-removed">-      * @param the end end time for the stream, or {@code null} to get data until the</span>
<span class="udiff-line-modified-added">+      * @param end the end time for the stream, or {@code null} to get data until the</span>
       *        present time.
       *
       * @return an input stream, or {@code null} if no data is available in the
       *         interval.
       *
</pre>
<center><a href="Period.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="RecordingState.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>