<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New src/hotspot/cpu/aarch64/stubRoutines_aarch64.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (c) 2003, 2020, Oracle and/or its affiliates. All rights reserved.
  3  * Copyright (c) 2014, Red Hat Inc. All rights reserved.
  4  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  5  *
  6  * This code is free software; you can redistribute it and/or modify it
  7  * under the terms of the GNU General Public License version 2 only, as
  8  * published by the Free Software Foundation.
  9  *
 10  * This code is distributed in the hope that it will be useful, but WITHOUT
 11  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 12  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 13  * version 2 for more details (a copy is included in the LICENSE file that
 14  * accompanied this code).
 15  *
 16  * You should have received a copy of the GNU General Public License version
 17  * 2 along with this work; if not, write to the Free Software Foundation,
 18  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 19  *
 20  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 21  * or visit www.oracle.com if you need additional information or have any
 22  * questions.
 23  *
 24  */
 25 
 26 #ifndef CPU_AARCH64_STUBROUTINES_AARCH64_HPP
 27 #define CPU_AARCH64_STUBROUTINES_AARCH64_HPP
 28 
 29 // This file holds the platform specific parts of the StubRoutines
 30 // definition. See stubRoutines.hpp for a description on how to
 31 // extend it.
 32 
 33 static bool    returns_to_call_stub(address return_pc)   {
 34   return return_pc == _call_stub_return_address;
 35 }
 36 
 37 enum platform_dependent_constants {
 38   code_size1 = 19000,          // simply increase if too small (assembler will crash if too small)
 39   code_size2 = 28000           // simply increase if too small (assembler will crash if too small)
 40 };
 41 
 42 class aarch64 {
 43  friend class StubGenerator;
 44 
 45  private:
 46   static address _get_previous_fp_entry;
 47   static address _get_previous_sp_entry;
 48 
 49   static address _f2i_fixup;
 50   static address _f2l_fixup;
 51   static address _d2i_fixup;
 52   static address _d2l_fixup;
 53 
 54   static address _float_sign_mask;
 55   static address _float_sign_flip;
 56   static address _double_sign_mask;
 57   static address _double_sign_flip;
 58 
 59   static address _zero_blocks;
 60 
 61   static address _has_negatives;
 62   static address _has_negatives_long;
 63   static address _large_array_equals;
 64   static address _compare_long_string_LL;
 65   static address _compare_long_string_LU;
 66   static address _compare_long_string_UL;
 67   static address _compare_long_string_UU;
 68   static address _string_indexof_linear_ll;
 69   static address _string_indexof_linear_uu;
 70   static address _string_indexof_linear_ul;
 71   static address _large_byte_array_inflate;
 72 
 73   static address _method_entry_barrier;
 74 
 75   static bool _completed;
 76 
 77  public:
 78 
 79   static address get_previous_fp_entry()
 80   {
 81     return _get_previous_fp_entry;
 82   }
 83 
 84   static address get_previous_sp_entry()
 85   {
 86     return _get_previous_sp_entry;
 87   }
 88 
 89   static address f2i_fixup()
 90   {
 91     return _f2i_fixup;
 92   }
 93 
 94   static address f2l_fixup()
 95   {
 96     return _f2l_fixup;
 97   }
 98 
 99   static address d2i_fixup()
100   {
101     return _d2i_fixup;
102   }
103 
104   static address d2l_fixup()
105   {
106     return _d2l_fixup;
107   }
108 
109   static address float_sign_mask()
110   {
111     return _float_sign_mask;
112   }
113 
114   static address float_sign_flip()
115   {
116     return _float_sign_flip;
117   }
118 
119   static address double_sign_mask()
120   {
121     return _double_sign_mask;
122   }
123 
124   static address double_sign_flip()
125   {
126     return _double_sign_flip;
127   }
128 
129   static address zero_blocks() {
130     return _zero_blocks;
131   }
132 
133   static address has_negatives() {
134     return _has_negatives;
135   }
136 
137   static address has_negatives_long() {
138       return _has_negatives_long;
139   }
140 
141   static address large_array_equals() {
142       return _large_array_equals;
143   }
144 
145   static address compare_long_string_LL() {
146       return _compare_long_string_LL;
147   }
148 
149   static address compare_long_string_LU() {
150       return _compare_long_string_LU;
151   }
152 
153   static address compare_long_string_UL() {
154       return _compare_long_string_UL;
155   }
156 
157   static address compare_long_string_UU() {
158       return _compare_long_string_UU;
159   }
160 
161   static address string_indexof_linear_ul() {
162       return _string_indexof_linear_ul;
163   }
164 
165   static address string_indexof_linear_ll() {
166       return _string_indexof_linear_ll;
167   }
168 
169   static address string_indexof_linear_uu() {
170       return _string_indexof_linear_uu;
171   }
172 
173   static address large_byte_array_inflate() {
174       return _large_byte_array_inflate;
175   }
176 
177   static address method_entry_barrier() {
178     return _method_entry_barrier;
179   }
180 
181   static bool complete() {
182     return _completed;
183   }
184 
185   static void set_completed() {
186     _completed = true;
187   }
188 
189 private:
190   static juint    _crc_table[];
191   static jubyte   _adler_table[];
192   // begin trigonometric tables block. See comments in .cpp file
193   static juint    _npio2_hw[];
194   static jdouble   _two_over_pi[];
195   static jdouble   _pio2[];
196   static jdouble   _dsin_coef[];
197   static jdouble  _dcos_coef[];
198   // end trigonometric tables block
199 };
200 
201 #endif // CPU_AARCH64_STUBROUTINES_AARCH64_HPP
    </pre>
  </body>
</html>