<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/jdk.incubator.jpackage/share/classes/jdk/incubator/jpackage/internal/Arguments.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ApplicationLayout.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DeployParams.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.incubator.jpackage/share/classes/jdk/incubator/jpackage/internal/Arguments.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 2018, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 2018, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 168,10 ***</span>
<span class="line-new-header">--- 168,15 ---</span>
          ARGUMENTS (&quot;arguments&quot;, OptionCategories.PROPERTY, () -&gt; {
              List&lt;String&gt; arguments = getArgumentList(popArg());
              setOptionValue(&quot;arguments&quot;, arguments);
          }),
  
<span class="line-added">+         JLINK_OPTIONS (&quot;jlink-options&quot;, OptionCategories.PROPERTY, () -&gt; {</span>
<span class="line-added">+             List&lt;String&gt; options = getArgumentList(popArg());</span>
<span class="line-added">+             setOptionValue(&quot;jlink-options&quot;, options);</span>
<span class="line-added">+         }),</span>
<span class="line-added">+ </span>
          ICON (&quot;icon&quot;, OptionCategories.PROPERTY),
  
          COPYRIGHT (&quot;copyright&quot;, OptionCategories.PROPERTY),
  
          LICENSE_FILE (&quot;license-file&quot;, OptionCategories.PROPERTY),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 262,10 ***</span>
<span class="line-new-header">--- 267,11 ---</span>
          ADD_MODULES (&quot;add-modules&quot;, OptionCategories.MODULAR),
  
          MODULE_PATH (&quot;module-path&quot;, &quot;p&quot;, OptionCategories.MODULAR),
  
          BIND_SERVICES (&quot;bind-services&quot;, OptionCategories.PROPERTY, () -&gt; {
<span class="line-added">+             showDeprecation(&quot;bind-services&quot;);</span>
              setOptionValue(&quot;bind-services&quot;, true);
          }),
  
          MAC_SIGN (&quot;mac-sign&quot;, &quot;s&quot;, OptionCategories.PLATFORM_MAC, () -&gt; {
              setOptionValue(&quot;mac-sign&quot;, true);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 577,11 ***</span>
              if (allOptions.contains(CLIOptions.BIND_SERVICES)) {
                  throw new PackagerException(&quot;ERR_MutuallyExclusiveOptions&quot;,
                          CLIOptions.PREDEFINED_RUNTIME_IMAGE.getIdWithPrefix(),
                          CLIOptions.BIND_SERVICES.getIdWithPrefix());
              }
<span class="line-modified">! </span>
          }
          if (hasMainJar &amp;&amp; hasMainModule) {
              throw new PackagerException(&quot;ERR_BothMainJarAndModule&quot;);
          }
          if (imageOnly &amp;&amp; !hasMainJar &amp;&amp; !hasMainModule) {
<span class="line-new-header">--- 583,15 ---</span>
              if (allOptions.contains(CLIOptions.BIND_SERVICES)) {
                  throw new PackagerException(&quot;ERR_MutuallyExclusiveOptions&quot;,
                          CLIOptions.PREDEFINED_RUNTIME_IMAGE.getIdWithPrefix(),
                          CLIOptions.BIND_SERVICES.getIdWithPrefix());
              }
<span class="line-modified">!             if (allOptions.contains(CLIOptions.JLINK_OPTIONS)) {</span>
<span class="line-added">+                 throw new PackagerException(&quot;ERR_MutuallyExclusiveOptions&quot;,</span>
<span class="line-added">+                         CLIOptions.PREDEFINED_RUNTIME_IMAGE.getIdWithPrefix(),</span>
<span class="line-added">+                         CLIOptions.JLINK_OPTIONS.getIdWithPrefix());</span>
<span class="line-added">+             }</span>
          }
          if (hasMainJar &amp;&amp; hasMainModule) {
              throw new PackagerException(&quot;ERR_BothMainJarAndModule&quot;);
          }
          if (imageOnly &amp;&amp; !hasMainJar &amp;&amp; !hasMainModule) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 807,6 ***</span>
<span class="line-new-header">--- 817,10 ---</span>
              }
          } catch (IOException ignore) {}
          return null;
      }
  
<span class="line-added">+     private static void showDeprecation(String option) {</span>
<span class="line-added">+         Log.error(MessageFormat.format(I18N.getString(&quot;warning.deprecation&quot;),</span>
<span class="line-added">+                 option));</span>
<span class="line-added">+     }</span>
  }
</pre>
<center><a href="ApplicationLayout.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DeployParams.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>