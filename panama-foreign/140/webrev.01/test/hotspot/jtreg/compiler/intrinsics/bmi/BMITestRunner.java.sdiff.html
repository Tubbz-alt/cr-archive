<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/hotspot/jtreg/compiler/intrinsics/bmi/BMITestRunner.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../bigInteger/MontgomeryMultiplyTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="TestAndnI.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/compiler/intrinsics/bmi/BMITestRunner.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
129             Collections.addAll(vmOpts, new String[] { &quot;-Xint&quot; });
130             break;
131         case COMP:
132             Collections.addAll(vmOpts, new String[] {
133                     &quot;-Xcomp&quot;,
134                     &quot;-XX:-TieredCompilation&quot;,
135                     String.format(&quot;-XX:CompileCommand=compileonly,%s::*&quot;,
136                                   expr.getName())
137                 });
138             break;
139         }
140 
141         Collections.addAll(vmOpts, new String[] {
142                 &quot;-XX:+DisplayVMOutputToStderr&quot;,
143                 &quot;-D&quot; + Utils.SEED_PROPERTY_NAME + &quot;=&quot; + seed,
144                 Executor.class.getName(),
145                 expr.getName(),
146                 new Integer(iterations).toString()
147             });
148 
<span class="line-modified">149         OutputAnalyzer outputAnalyzer = ProcessTools.</span>
<span class="line-removed">150             executeTestJvm(vmOpts.toArray(new String[vmOpts.size()]));</span>
151 
152         outputAnalyzer.shouldHaveExitValue(0);
153 
154         return outputAnalyzer;
155     }
156 
157     /**
158      * Dump stdout and stderr of test process to &lt;i&gt;prefix&lt;/i&gt;.test.out
159      * and &lt;i&gt;prefix&lt;/i&gt;.test.err respectively.
160      *
161      * @param outputAnalyzer OutputAnalyzer whom output should be dumped
162      * @param prefix Prefix that will be used in file names.
163      * @throws IOException if unable to dump output to file.
164      */
165     protected static void dumpOutput(OutputAnalyzer outputAnalyzer,
166                                      String prefix)
167                               throws IOException {
168         Files.write(Paths.get(prefix + &quot;.test.out&quot;),
169                     outputAnalyzer.getStdout().getBytes());
170 
</pre>
</td>
<td>
<hr />
<pre>
129             Collections.addAll(vmOpts, new String[] { &quot;-Xint&quot; });
130             break;
131         case COMP:
132             Collections.addAll(vmOpts, new String[] {
133                     &quot;-Xcomp&quot;,
134                     &quot;-XX:-TieredCompilation&quot;,
135                     String.format(&quot;-XX:CompileCommand=compileonly,%s::*&quot;,
136                                   expr.getName())
137                 });
138             break;
139         }
140 
141         Collections.addAll(vmOpts, new String[] {
142                 &quot;-XX:+DisplayVMOutputToStderr&quot;,
143                 &quot;-D&quot; + Utils.SEED_PROPERTY_NAME + &quot;=&quot; + seed,
144                 Executor.class.getName(),
145                 expr.getName(),
146                 new Integer(iterations).toString()
147             });
148 
<span class="line-modified">149         OutputAnalyzer outputAnalyzer = ProcessTools.executeTestJvm(vmOpts);</span>

150 
151         outputAnalyzer.shouldHaveExitValue(0);
152 
153         return outputAnalyzer;
154     }
155 
156     /**
157      * Dump stdout and stderr of test process to &lt;i&gt;prefix&lt;/i&gt;.test.out
158      * and &lt;i&gt;prefix&lt;/i&gt;.test.err respectively.
159      *
160      * @param outputAnalyzer OutputAnalyzer whom output should be dumped
161      * @param prefix Prefix that will be used in file names.
162      * @throws IOException if unable to dump output to file.
163      */
164     protected static void dumpOutput(OutputAnalyzer outputAnalyzer,
165                                      String prefix)
166                               throws IOException {
167         Files.write(Paths.get(prefix + &quot;.test.out&quot;),
168                     outputAnalyzer.getStdout().getBytes());
169 
</pre>
</td>
</tr>
</table>
<center><a href="../bigInteger/MontgomeryMultiplyTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="TestAndnI.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>