<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/hotspot/jtreg/runtime/CommandLine/OptionsValidation/common/optionsvalidation/JVMOptionsUtils.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="JVMOption.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../PrintTouchedMethods.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/runtime/CommandLine/OptionsValidation/common/optionsvalidation/JVMOptionsUtils.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
452         Map&lt;String, JVMOption&gt; result;
453         Process p;
454         List&lt;String&gt; runJava = new ArrayList&lt;&gt;();
455 
456         if (additionalArgs.length &gt; 0) {
457             runJava.addAll(Arrays.asList(additionalArgs));
458         }
459 
460         if (VMType != null) {
461             runJava.add(VMType);
462         }
463 
464         if (GCType != null) {
465             runJava.add(GCType);
466         }
467         runJava.add(UNLOCK_FLAG1);
468         runJava.add(UNLOCK_FLAG2);
469         runJava.add(PRINT_FLAGS_RANGES);
470         runJava.add(&quot;-version&quot;);
471 
<span class="line-modified">472         p = ProcessTools.createJavaProcessBuilder(runJava.toArray(new String[0])).start();</span>
473 
474         result = getJVMOptions(new InputStreamReader(p.getInputStream()), withRanges, acceptOrigin);
475 
476         p.waitFor();
477 
478         return result;
479     }
480 
481     /**
482      * Get JVM options as list. Can return options with defined ranges or
483      * options without range depending on &quot;withRanges&quot; argument. &quot;acceptOrigin&quot;
484      * predicate can be used to filter option origin.
485      *
486      * @param withRanges true if needed options with defined ranges inside JVM
487      * @param acceptOrigin predicate for option origins. Origins can be
488      * &quot;product&quot;, &quot;diagnostic&quot; etc. Accept option only if acceptOrigin evaluates
489      * to true.
490      * @param additionalArgs additional arguments to the Java process which ran
491      * with &quot;-XX:+PrintFlagsRanges&quot;
492      * @return List of options
</pre>
</td>
<td>
<hr />
<pre>
452         Map&lt;String, JVMOption&gt; result;
453         Process p;
454         List&lt;String&gt; runJava = new ArrayList&lt;&gt;();
455 
456         if (additionalArgs.length &gt; 0) {
457             runJava.addAll(Arrays.asList(additionalArgs));
458         }
459 
460         if (VMType != null) {
461             runJava.add(VMType);
462         }
463 
464         if (GCType != null) {
465             runJava.add(GCType);
466         }
467         runJava.add(UNLOCK_FLAG1);
468         runJava.add(UNLOCK_FLAG2);
469         runJava.add(PRINT_FLAGS_RANGES);
470         runJava.add(&quot;-version&quot;);
471 
<span class="line-modified">472         p = ProcessTools.createJavaProcessBuilder(runJava).start();</span>
473 
474         result = getJVMOptions(new InputStreamReader(p.getInputStream()), withRanges, acceptOrigin);
475 
476         p.waitFor();
477 
478         return result;
479     }
480 
481     /**
482      * Get JVM options as list. Can return options with defined ranges or
483      * options without range depending on &quot;withRanges&quot; argument. &quot;acceptOrigin&quot;
484      * predicate can be used to filter option origin.
485      *
486      * @param withRanges true if needed options with defined ranges inside JVM
487      * @param acceptOrigin predicate for option origins. Origins can be
488      * &quot;product&quot;, &quot;diagnostic&quot; etc. Accept option only if acceptOrigin evaluates
489      * to true.
490      * @param additionalArgs additional arguments to the Java process which ran
491      * with &quot;-XX:+PrintFlagsRanges&quot;
492      * @return List of options
</pre>
</td>
</tr>
</table>
<center><a href="JVMOption.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../PrintTouchedMethods.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>