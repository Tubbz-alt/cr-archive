<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/hotspot/jtreg/vmTestbase/vm/jit/LongTransitions/JniArmHFTestGenerator.java.txt</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../compiler/coverage/parentheses/share/generation/RandomInstructionsGenerator.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="LTTest.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/vmTestbase/vm/jit/LongTransitions/JniArmHFTestGenerator.java.txt</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2012, 2018, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
</pre>
<hr />
<pre>
173         appendToC(&quot;#include &lt;stdio.h&gt;&quot;);
174     }
175 
176     private void makeJavaIntro(String className) {
177 
178         cFileSrc = new StringBuilder();
179         javaFileSrc = new StringBuilder();
180 
181 
182         File outputDirL1 = new File(&quot;vm&quot; + File.separatorChar + &quot;jit&quot; + File.separatorChar + &quot;LongTransitions&quot;);
183         //outputDir=new File(outputDirL1,className);
184         outputDir = outputDirL1;
185         outputDir.mkdirs();
186 
187         javaTxtFileName = className + &quot;_java.txt&quot;;
188         cTxtFileName = className + &quot;_c.txt&quot;;
189 
190         appendToJava(&quot;package &quot; + JAVA_PACKAGE_NAME + &quot;;&quot;);
191         appendToJava(&quot;import java.io.*;&quot;);
192         appendToJava(&quot;import java.util.Random;&quot;);

193         appendToJava(&quot;public class &quot; + className);
194         appendToJava(&quot;{&quot;);
195         appendToJava(&quot;    public static boolean flag = false;&quot;);
196         appendToJava(&quot;    static Random rnd;&quot;);
197         appendToJava(&quot;    static{&quot;);
<span class="line-modified">198         appendToJava(&quot;        rnd=new Random();&quot;);</span>
199         appendToJava(&quot;        System.loadLibrary(\&quot;&quot; + className + &quot;\&quot;);&quot;);
200         appendToJava(&quot;    }&quot;);
201         //Different randoms
202         appendToJava(&quot;    public static int getRndInt(){return rnd.nextInt(Integer.MAX_VALUE);}&quot;);
203         appendToJava(&quot;    public static float getRndFloat(){return rnd.nextFloat()*Float.MAX_VALUE;}&quot;);
204         appendToJava(&quot;    public static double getRndDouble(){return rnd.nextDouble()*Double.MAX_VALUE;}&quot;);
205         appendToJava(&quot;    public static byte getRndByte(){return (byte)rnd.nextInt(Byte.MAX_VALUE);}&quot;);
206 
207         //deleteFiles method
208         appendToJava(&quot;    private static void deleteFiles()&quot;);
209         appendToJava(&quot;    {&quot;);
210         appendToJavaN(&quot;        File f=new File(\&quot;&quot;);
211         appendToJavaN(javaTxtFileName);
212         appendToJava(&quot;\&quot;);&quot;);
213         appendToJava(&quot;        if ( f.exists())&quot;);
214         appendToJava(&quot;        f.delete();&quot;);
215         appendToJavaN(&quot;        f=new File(\&quot;&quot;);
216         appendToJavaN(cTxtFileName);
217         appendToJava(&quot;\&quot;);&quot;);
218         appendToJava(&quot;        if ( f.exists())&quot;);
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2012, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
</pre>
<hr />
<pre>
173         appendToC(&quot;#include &lt;stdio.h&gt;&quot;);
174     }
175 
176     private void makeJavaIntro(String className) {
177 
178         cFileSrc = new StringBuilder();
179         javaFileSrc = new StringBuilder();
180 
181 
182         File outputDirL1 = new File(&quot;vm&quot; + File.separatorChar + &quot;jit&quot; + File.separatorChar + &quot;LongTransitions&quot;);
183         //outputDir=new File(outputDirL1,className);
184         outputDir = outputDirL1;
185         outputDir.mkdirs();
186 
187         javaTxtFileName = className + &quot;_java.txt&quot;;
188         cTxtFileName = className + &quot;_c.txt&quot;;
189 
190         appendToJava(&quot;package &quot; + JAVA_PACKAGE_NAME + &quot;;&quot;);
191         appendToJava(&quot;import java.io.*;&quot;);
192         appendToJava(&quot;import java.util.Random;&quot;);
<span class="line-added">193         appendToJava(&quot;import jdk.test.lib.Utils;&quot;);</span>
194         appendToJava(&quot;public class &quot; + className);
195         appendToJava(&quot;{&quot;);
196         appendToJava(&quot;    public static boolean flag = false;&quot;);
197         appendToJava(&quot;    static Random rnd;&quot;);
198         appendToJava(&quot;    static{&quot;);
<span class="line-modified">199         appendToJava(&quot;        rnd=Utils.getRandomInstance();&quot;);</span>
200         appendToJava(&quot;        System.loadLibrary(\&quot;&quot; + className + &quot;\&quot;);&quot;);
201         appendToJava(&quot;    }&quot;);
202         //Different randoms
203         appendToJava(&quot;    public static int getRndInt(){return rnd.nextInt(Integer.MAX_VALUE);}&quot;);
204         appendToJava(&quot;    public static float getRndFloat(){return rnd.nextFloat()*Float.MAX_VALUE;}&quot;);
205         appendToJava(&quot;    public static double getRndDouble(){return rnd.nextDouble()*Double.MAX_VALUE;}&quot;);
206         appendToJava(&quot;    public static byte getRndByte(){return (byte)rnd.nextInt(Byte.MAX_VALUE);}&quot;);
207 
208         //deleteFiles method
209         appendToJava(&quot;    private static void deleteFiles()&quot;);
210         appendToJava(&quot;    {&quot;);
211         appendToJavaN(&quot;        File f=new File(\&quot;&quot;);
212         appendToJavaN(javaTxtFileName);
213         appendToJava(&quot;\&quot;);&quot;);
214         appendToJava(&quot;        if ( f.exists())&quot;);
215         appendToJava(&quot;        f.delete();&quot;);
216         appendToJavaN(&quot;        f=new File(\&quot;&quot;);
217         appendToJavaN(cTxtFileName);
218         appendToJava(&quot;\&quot;);&quot;);
219         appendToJava(&quot;        if ( f.exists())&quot;);
</pre>
</td>
</tr>
</table>
<center><a href="../../compiler/coverage/parentheses/share/generation/RandomInstructionsGenerator.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="LTTest.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>