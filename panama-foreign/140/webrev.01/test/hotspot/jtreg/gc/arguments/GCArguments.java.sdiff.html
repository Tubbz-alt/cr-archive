<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/hotspot/jtreg/gc/arguments/GCArguments.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../TestVerifySubSet.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="TestCompressedClassFlags.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/gc/arguments/GCArguments.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
49     // Avoid excessive execution time.
50     static private void disableVerifyBeforeExit(List&lt;String&gt; arguments) {
51         // Diagnostic option, default enabled in debug builds.
52         if (Platform.isDebugBuild()) {
53             arguments.add(&quot;-XX:-VerifyBeforeExit&quot;);
54         }
55     }
56 
57     static private void addDefaults(List&lt;String&gt; arguments) {
58         disableZapUnusedHeapArea(arguments);
59         disableVerifyBeforeExit(arguments);
60     }
61 
62     static private String[] withDefaults(String[] arguments) {
63         List&lt;String&gt; augmented = new ArrayList&lt;String&gt;();
64         addDefaults(augmented);
65         Collections.addAll(augmented, arguments);
66         return augmented.toArray(new String[augmented.size()]);
67     }
68 










69     static public ProcessBuilder createJavaProcessBuilder(String... arguments) {
70         return createJavaProcessBuilder(false, arguments);
71     }
72 
73     static public ProcessBuilder createJavaProcessBuilder(boolean addTestVmAndJavaOptions,
74                                                           String... arguments) {
75         return ProcessTools.createJavaProcessBuilder(addTestVmAndJavaOptions,
76                                                      withDefaults(arguments));
77     }
<span class="line-removed">78 </span>
79 }
</pre>
</td>
<td>
<hr />
<pre>
49     // Avoid excessive execution time.
50     static private void disableVerifyBeforeExit(List&lt;String&gt; arguments) {
51         // Diagnostic option, default enabled in debug builds.
52         if (Platform.isDebugBuild()) {
53             arguments.add(&quot;-XX:-VerifyBeforeExit&quot;);
54         }
55     }
56 
57     static private void addDefaults(List&lt;String&gt; arguments) {
58         disableZapUnusedHeapArea(arguments);
59         disableVerifyBeforeExit(arguments);
60     }
61 
62     static private String[] withDefaults(String[] arguments) {
63         List&lt;String&gt; augmented = new ArrayList&lt;String&gt;();
64         addDefaults(augmented);
65         Collections.addAll(augmented, arguments);
66         return augmented.toArray(new String[augmented.size()]);
67     }
68 
<span class="line-added">69     static public ProcessBuilder createJavaProcessBuilder(List&lt;String&gt; arguments) {</span>
<span class="line-added">70         return createJavaProcessBuilder(false, arguments);</span>
<span class="line-added">71     }</span>
<span class="line-added">72 </span>
<span class="line-added">73     static public ProcessBuilder createJavaProcessBuilder(boolean addTestVmAndJavaOptions,</span>
<span class="line-added">74                                                           List&lt;String&gt; arguments) {</span>
<span class="line-added">75         return createJavaProcessBuilder(addTestVmAndJavaOptions,</span>
<span class="line-added">76                                         arguments.toArray(String[]::new));</span>
<span class="line-added">77     }</span>
<span class="line-added">78 </span>
79     static public ProcessBuilder createJavaProcessBuilder(String... arguments) {
80         return createJavaProcessBuilder(false, arguments);
81     }
82 
83     static public ProcessBuilder createJavaProcessBuilder(boolean addTestVmAndJavaOptions,
84                                                           String... arguments) {
85         return ProcessTools.createJavaProcessBuilder(addTestVmAndJavaOptions,
86                                                      withDefaults(arguments));
87     }

88 }
</pre>
</td>
</tr>
</table>
<center><a href="../TestVerifySubSet.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="TestCompressedClassFlags.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>