<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New test/hotspot/jtreg/applications/ctw/modules/generate.bash</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
  <body>
    <pre>
 1 #!/bin/bash
 2 #
 3 #  Copyright (c) 2017, 2020, Oracle and/or its affiliates. All rights reserved.
 4 #  DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 5 #
 6 #  This code is free software; you can redistribute it and/or modify it
 7 #  under the terms of the GNU General Public License version 2 only, as
 8 #  published by the Free Software Foundation.
 9 #
10 #  This code is distributed in the hope that it will be useful, but WITHOUT
11 #  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
12 #  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
13 #  version 2 for more details (a copy is included in the LICENSE file that
14 #  accompanied this code).
15 #
16 #  You should have received a copy of the GNU General Public License version
17 #  2 along with this work; if not, write to the Free Software Foundation,
18 #  Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
19 #
20 #  Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
21 #  or visit www.oracle.com if you need additional information or have any
22 #  questions.
23 #
24 
25 # generates CTW tests for modules passed as argument
26 
27 for module in $@
28 do
29     file=${module//./_}.java
30     echo creating $file for $module...
31     cat &gt; $file &lt;&lt;EOF
32 /*
33  * Copyright (c) 2017, 2020, Oracle and/or its affiliates. All rights reserved.
34  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
35  *
36  * This code is free software; you can redistribute it and/or modify it
37  * under the terms of the GNU General Public License version 2 only, as
38  * published by the Free Software Foundation.
39  *
40  * This code is distributed in the hope that it will be useful, but WITHOUT
41  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
42  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
43  * version 2 for more details (a copy is included in the LICENSE file that
44  * accompanied this code).
45  *
46  * You should have received a copy of the GNU General Public License version
47  * 2 along with this work; if not, write to the Free Software Foundation,
48  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
49  *
50  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
51  * or visit www.oracle.com if you need additional information or have any
52  * questions.
53  */
54 
55 /*
56  * @test
57  * @summary run CTW for all classes from $module module
58  *
59  * @library /test/lib / /testlibrary/ctw/src
60  * @modules java.base/jdk.internal.access
61  *          java.base/jdk.internal.jimage
62  *          java.base/jdk.internal.misc
63  *          java.base/jdk.internal.reflect
64  * @modules $module
65  *
66  * @build sun.hotspot.WhiteBox
67  * @run driver ClassFileInstaller sun.hotspot.WhiteBox
68  * @run driver/timeout=7200 sun.hotspot.tools.ctw.CtwRunner modules:$module
69  */
70 EOF
71 
72 done
    </pre>
  </body>
</html>