<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/tools/jpackage/helpers/jdk/jpackage/test/JPackageCommand.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../jmod/hashes/HashesTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../langtools/jdk/javadoc/doclet/testAbstractMethod/TestAbstractMethod.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/tools/jpackage/helpers/jdk/jpackage/test/JPackageCommand.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
710         }
711 
712         if (!typesSet.contains(packageType())) {
713             throw new IllegalArgumentException(&quot;Unexpected type&quot;);
714         }
715     }
716 
717     public CfgFile readLaunherCfgFile() {
718         return readLaunherCfgFile(null);
719     }
720 
721     public CfgFile readLaunherCfgFile(String launcherName) {
722         verifyIsOfType(PackageType.IMAGE);
723         if (isRuntime()) {
724             return null;
725         }
726         return ThrowingFunction.toFunction(CfgFile::readFromFile).apply(
727                 appLauncherCfgPath(launcherName));
728     }
729 













730     public static String escapeAndJoin(String... args) {
731         return escapeAndJoin(List.of(args));
732     }
733 
734     public static String escapeAndJoin(List&lt;String&gt; args) {
735         Pattern whitespaceRegexp = Pattern.compile(&quot;\\s&quot;);
736 
737         return args.stream().map(v -&gt; {
738             String str = v;
739             // Escape backslashes.
740             str = str.replace(&quot;\\&quot;, &quot;\\\\&quot;);
741             // Escape quotes.
742             str = str.replace(&quot;\&quot;&quot;, &quot;\\\&quot;&quot;);
743             // If value contains whitespace characters, put the value in quotes
744             if (whitespaceRegexp.matcher(str).find()) {
745                 str = &quot;\&quot;&quot; + str + &quot;\&quot;&quot;;
746             }
747             return str;
748         }).collect(Collectors.joining(&quot; &quot;));
749     }
</pre>
</td>
<td>
<hr />
<pre>
710         }
711 
712         if (!typesSet.contains(packageType())) {
713             throw new IllegalArgumentException(&quot;Unexpected type&quot;);
714         }
715     }
716 
717     public CfgFile readLaunherCfgFile() {
718         return readLaunherCfgFile(null);
719     }
720 
721     public CfgFile readLaunherCfgFile(String launcherName) {
722         verifyIsOfType(PackageType.IMAGE);
723         if (isRuntime()) {
724             return null;
725         }
726         return ThrowingFunction.toFunction(CfgFile::readFromFile).apply(
727                 appLauncherCfgPath(launcherName));
728     }
729 
<span class="line-added">730     public List&lt;String&gt; readRuntimeReleaseFile() {</span>
<span class="line-added">731         verifyIsOfType(PackageType.IMAGE);</span>
<span class="line-added">732         if (isRuntime()) {</span>
<span class="line-added">733             return null;</span>
<span class="line-added">734         }</span>
<span class="line-added">735         Path release = appLayout().runtimeRelease();</span>
<span class="line-added">736         try {</span>
<span class="line-added">737             return Files.readAllLines(release);</span>
<span class="line-added">738         } catch (IOException ioe) {</span>
<span class="line-added">739             throw new RuntimeException(ioe);</span>
<span class="line-added">740         }</span>
<span class="line-added">741     }</span>
<span class="line-added">742 </span>
743     public static String escapeAndJoin(String... args) {
744         return escapeAndJoin(List.of(args));
745     }
746 
747     public static String escapeAndJoin(List&lt;String&gt; args) {
748         Pattern whitespaceRegexp = Pattern.compile(&quot;\\s&quot;);
749 
750         return args.stream().map(v -&gt; {
751             String str = v;
752             // Escape backslashes.
753             str = str.replace(&quot;\\&quot;, &quot;\\\\&quot;);
754             // Escape quotes.
755             str = str.replace(&quot;\&quot;&quot;, &quot;\\\&quot;&quot;);
756             // If value contains whitespace characters, put the value in quotes
757             if (whitespaceRegexp.matcher(str).find()) {
758                 str = &quot;\&quot;&quot; + str + &quot;\&quot;&quot;;
759             }
760             return str;
761         }).collect(Collectors.joining(&quot; &quot;));
762     }
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../jmod/hashes/HashesTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../langtools/jdk/javadoc/doclet/testAbstractMethod/TestAbstractMethod.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>