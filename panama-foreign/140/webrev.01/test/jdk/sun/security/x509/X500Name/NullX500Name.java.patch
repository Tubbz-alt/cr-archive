diff a/test/jdk/sun/security/x509/X500Name/NullX500Name.java b/test/jdk/sun/security/x509/X500Name/NullX500Name.java
--- a/test/jdk/sun/security/x509/X500Name/NullX500Name.java
+++ b/test/jdk/sun/security/x509/X500Name/NullX500Name.java
@@ -1,7 +1,7 @@
 /*
- * Copyright (c) 1998, Oracle and/or its affiliates. All rights reserved.
+ * Copyright (c) 1998, 2020, Oracle and/or its affiliates. All rights reserved.
  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  *
  * This code is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License version 2 only, as
  * published by the Free Software Foundation.
@@ -22,18 +22,19 @@
  */
 
 /* @test
  * @bug 4118818
  * @summary allow null X.500 Names
+ * @library /test/lib
  * @modules java.base/sun.security.util
  *          java.base/sun.security.x509
  */
 
 import java.util.Arrays;
 import sun.security.util.DerOutputStream;
 import sun.security.x509.*;
-import sun.security.util.HexDumpEncoder;
+import jdk.test.lib.hexdump.HexPrinter;
 
 public class NullX500Name {
 
     public static void main(String[] argv) throws Exception {
         X500Name subject;
@@ -61,19 +62,19 @@
         // encode, getEncoded()
         DerOutputStream dos = new DerOutputStream();
         subject.encode(dos);
         byte[] out = dos.toByteArray();
         byte[] enc = subject.getEncoded();
-        HexDumpEncoder e = new HexDumpEncoder();
+        HexPrinter e = HexPrinter.simple();
         if (Arrays.equals(out, enc))
-            System.out.println("Sucess: out:" + e.encodeBuffer(out));
+            System.out.println("Success: out:" + e.toString(out));
         else {
-            System.out.println("Failed: encode:" + e.encodeBuffer(out));
-            System.out.println("getEncoded:" + e.encodeBuffer(enc));
+            System.out.println("Failed: encode:" + e.toString(out));
+            System.out.println("getEncoded:" + e.toString(enc));
         }
         X500Name x = new X500Name(enc);
         if (x.equals(subject))
-            System.out.println("Sucess: X500Name(byte[]):" + x.toString());
+            System.out.println("Success: X500Name(byte[]):" + x.toString());
         else
             System.out.println("Failed: X500Name(byte[]):" + x.toString());
     }
 }
