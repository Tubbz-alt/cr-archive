<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff make/CompileToolsJdk.gmk</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center><a href="CompileToolsHotspot.gmk.cdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="GenerateLinkOptData.gmk.cdiff.html" target="_top">next &gt;</a></center>    <h2>make/CompileToolsJdk.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 26,11 ***</span>
  default: all
  
  include $(SPEC)
  include MakeBase.gmk
  include JavaCompilation.gmk
<span class="line-removed">- include SetupJavaCompilers.gmk</span>
  include TextFileProcessing.gmk
  
  ################################################################################
  
  $(eval $(call IncludeCustomExtension, CompileTools.gmk))
<span class="line-new-header">--- 26,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 42,24 ***</span>
      $(TOPDIR)/make/jdk/src/classes \
      $(BUILDTOOLS_OUTPUTDIR)/interim_tzdb_classes \
      #
  
  $(eval $(call SetupJavaCompilation, BUILD_TOOLS_JDK, \
<span class="line-modified">!     SETUP := GENERATE_OLDBYTECODE, \</span>
      SRC := $(BUILD_TOOLS_SRC_DIRS), \
      EXCLUDES := \
          build/tools/classlist \
          build/tools/deps \
          build/tools/docs \
          build/tools/jigsaw \
          build/tools/depend \
          , \
      BIN := $(BUILDTOOLS_OUTPUTDIR)/jdk_tools_classes, \
<span class="line-modified">!     ADD_JAVAC_FLAGS := \</span>
          --add-exports java.desktop/sun.awt=ALL-UNNAMED \
<span class="line-modified">!         --add-exports java.base/sun.text=ALL-UNNAMED \</span>
<span class="line-removed">-         , \</span>
  ))
  
  TARGETS += $(BUILD_TOOLS_JDK)
  
  $(eval $(call SetupCopyFiles,COPY_NIMBUS_TEMPLATES, \
<span class="line-new-header">--- 41,24 ---</span>
      $(TOPDIR)/make/jdk/src/classes \
      $(BUILDTOOLS_OUTPUTDIR)/interim_tzdb_classes \
      #
  
  $(eval $(call SetupJavaCompilation, BUILD_TOOLS_JDK, \
<span class="line-modified">!     TARGET_RELEASE := $(TARGET_RELEASE_BOOTJDK), \</span>
      SRC := $(BUILD_TOOLS_SRC_DIRS), \
      EXCLUDES := \
          build/tools/classlist \
          build/tools/deps \
          build/tools/docs \
          build/tools/jigsaw \
          build/tools/depend \
          , \
      BIN := $(BUILDTOOLS_OUTPUTDIR)/jdk_tools_classes, \
<span class="line-modified">!     DISABLED_WARNINGS := options, \</span>
<span class="line-added">+     JAVAC_FLAGS := \</span>
          --add-exports java.desktop/sun.awt=ALL-UNNAMED \
<span class="line-modified">!         --add-exports java.base/sun.text=ALL-UNNAMED, \</span>
  ))
  
  TARGETS += $(BUILD_TOOLS_JDK)
  
  $(eval $(call SetupCopyFiles,COPY_NIMBUS_TEMPLATES, \
</pre>
<hr />
<pre>
<span class="line-old-header">*** 70,14 ***</span>
  TARGETS += $(COPY_NIMBUS_TEMPLATES)
  
  ################################################################################
  
  $(eval $(call SetupJavaCompilation, COMPILE_DEPEND, \
<span class="line-modified">!     SETUP := GENERATE_OLDBYTECODE, \</span>
      SRC := $(TOPDIR)/make/jdk/src/classes, \
      INCLUDES := build/tools/depend, \
      BIN := $(BUILDTOOLS_OUTPUTDIR)/depend, \
  ))
  
  DEPEND_SERVICE_PROVIDER := $(BUILDTOOLS_OUTPUTDIR)/depend/META-INF/services/com.sun.source.util.Plugin
  
  $(DEPEND_SERVICE_PROVIDER):
<span class="line-new-header">--- 69,15 ---</span>
  TARGETS += $(COPY_NIMBUS_TEMPLATES)
  
  ################################################################################
  
  $(eval $(call SetupJavaCompilation, COMPILE_DEPEND, \
<span class="line-modified">!     TARGET_RELEASE := $(TARGET_RELEASE_BOOTJDK), \</span>
      SRC := $(TOPDIR)/make/jdk/src/classes, \
      INCLUDES := build/tools/depend, \
      BIN := $(BUILDTOOLS_OUTPUTDIR)/depend, \
<span class="line-added">+     DISABLED_WARNINGS := options, \</span>
  ))
  
  DEPEND_SERVICE_PROVIDER := $(BUILDTOOLS_OUTPUTDIR)/depend/META-INF/services/com.sun.source.util.Plugin
  
  $(DEPEND_SERVICE_PROVIDER):
</pre>
<center><a href="CompileToolsHotspot.gmk.cdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="GenerateLinkOptData.gmk.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>