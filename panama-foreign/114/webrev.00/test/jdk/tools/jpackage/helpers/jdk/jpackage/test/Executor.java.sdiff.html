<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/tools/jpackage/helpers/jdk/jpackage/test/Executor.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../jlink/ModuleNamesOrderTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../macosx/base/SigningBase.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/tools/jpackage/helpers/jdk/jpackage/test/Executor.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
154 
155         public List&lt;String&gt; getOutput() {
156             return output;
157         }
158 
159         public String getPrintableCommandLine() {
160             return Executor.this.getPrintableCommandLine();
161         }
162 
163         public Result assertExitCodeIs(int expectedExitCode) {
164             TKit.assertEquals(expectedExitCode, exitCode, String.format(
165                     &quot;Check command %s exited with %d code&quot;,
166                     getPrintableCommandLine(), expectedExitCode));
167             return this;
168         }
169 
170         public Result assertExitCodeIsZero() {
171             return assertExitCodeIs(0);
172         }
173 




174         final int exitCode;
175         private List&lt;String&gt; output;
176     }
177 
178     public Result executeWithoutExitCodeCheck() {
179         if (toolProvider != null &amp;&amp; directory != null) {
180             throw new IllegalArgumentException(
181                     &quot;Can&#39;t change directory when using tool provider&quot;);
182         }
183 
184         return ThrowingSupplier.toSupplier(() -&gt; {
185             if (toolProvider != null) {
186                 return runToolProvider();
187             }
188 
189             if (executable != null) {
190                 return runExecutable();
191             }
192 
193             throw new IllegalStateException(&quot;No command to execute&quot;);
</pre>
</td>
<td>
<hr />
<pre>
154 
155         public List&lt;String&gt; getOutput() {
156             return output;
157         }
158 
159         public String getPrintableCommandLine() {
160             return Executor.this.getPrintableCommandLine();
161         }
162 
163         public Result assertExitCodeIs(int expectedExitCode) {
164             TKit.assertEquals(expectedExitCode, exitCode, String.format(
165                     &quot;Check command %s exited with %d code&quot;,
166                     getPrintableCommandLine(), expectedExitCode));
167             return this;
168         }
169 
170         public Result assertExitCodeIsZero() {
171             return assertExitCodeIs(0);
172         }
173 
<span class="line-added">174         public int getExitCode() {</span>
<span class="line-added">175             return exitCode;</span>
<span class="line-added">176         }</span>
<span class="line-added">177 </span>
178         final int exitCode;
179         private List&lt;String&gt; output;
180     }
181 
182     public Result executeWithoutExitCodeCheck() {
183         if (toolProvider != null &amp;&amp; directory != null) {
184             throw new IllegalArgumentException(
185                     &quot;Can&#39;t change directory when using tool provider&quot;);
186         }
187 
188         return ThrowingSupplier.toSupplier(() -&gt; {
189             if (toolProvider != null) {
190                 return runToolProvider();
191             }
192 
193             if (executable != null) {
194                 return runExecutable();
195             }
196 
197             throw new IllegalStateException(&quot;No command to execute&quot;);
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../jlink/ModuleNamesOrderTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../macosx/base/SigningBase.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>