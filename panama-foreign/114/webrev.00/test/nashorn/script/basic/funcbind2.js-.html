<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old test/nashorn/script/basic/funcbind2.js</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
  <body>
    <pre>
 1 /*
 2  * Copyright (c) 2010, 2013, Oracle and/or its affiliates. All rights reserved.
 3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 4  *
 5  * This code is free software; you can redistribute it and/or modify it
 6  * under the terms of the GNU General Public License version 2 only, as
 7  * published by the Free Software Foundation.
 8  *
 9  * This code is distributed in the hope that it will be useful, but WITHOUT
10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
12  * version 2 for more details (a copy is included in the LICENSE file that
13  * accompanied this code).
14  *
15  * You should have received a copy of the GNU General Public License version
16  * 2 along with this work; if not, write to the Free Software Foundation,
17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
18  *
19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
20  * or visit www.oracle.com if you need additional information or have any
21  * questions.
22  */
23 
24 /**
25  * Test the functionality of Function.prototype.bind.
26  *
27  * @test
28  * @run
29  */
30 
31 function f(a, b) {
32     print(&quot;f: this=&quot; + this + &quot;, a=&quot; + a + &quot;, b=&quot; + b);
33 }
34 function v(a, b) {
35     print(&quot;v: this=&quot; + this + &quot;, a=&quot; + a + &quot;, b=&quot; + b + &quot;, c=&quot; + arguments[2]);
36 }
37 
38 (f.bind(null))();
39 (v.bind(null))();
40 
41 var boundThis = &quot;boundThis&quot;;
42 (f.bind(boundThis))();
43 (v.bind(boundThis))();
44 
45 (f.bind(boundThis))(&quot;a0&quot;);
46 (v.bind(boundThis))(&quot;a1&quot;);
47 
48 (f.bind(boundThis, &quot;a2&quot;))();
49 (v.bind(boundThis, &quot;a3&quot;))();
50 
51 (f.bind(boundThis, &quot;a4&quot;))(&quot;b4&quot;);
52 (v.bind(boundThis, &quot;a5&quot;))(&quot;b5&quot;);
53 
54 (f.bind(boundThis, &quot;a6&quot;, &quot;b6&quot;))();
55 (v.bind(boundThis, &quot;a7&quot;, &quot;b7&quot;))();
56 
57 (f.bind(boundThis, &quot;a8&quot;, &quot;b8&quot;))(&quot;c8&quot;); // invoking with extra args after all were bound!
58 (v.bind(boundThis, &quot;a9&quot;, &quot;b9&quot;))(&quot;c9&quot;);
59 
60 (f.bind(boundThis, &quot;a10&quot;, &quot;b10&quot;, &quot;c10&quot;))(); // binding more args than it receives!
61 (v.bind(boundThis, &quot;a11&quot;, &quot;b11&quot;, &quot;c11&quot;))();
62 
63 print(&quot;\nTest constructors\n&quot;);
64 
65 new (f.bind(boundThis))();
66 new (v.bind(boundThis))();
67 
68 new (f.bind(boundThis))(&quot;a0&quot;);
69 new (v.bind(boundThis))(&quot;a1&quot;);
70 
71 new (f.bind(boundThis, &quot;a2&quot;))();
72 new (v.bind(boundThis, &quot;a3&quot;))();
73 
74 new (f.bind(boundThis, &quot;a4&quot;))(&quot;b4&quot;);
75 new (v.bind(boundThis, &quot;a5&quot;))(&quot;b5&quot;);
76 
77 new (f.bind(boundThis, &quot;a6&quot;, &quot;b6&quot;))();
78 new (v.bind(boundThis, &quot;a7&quot;, &quot;b7&quot;))();
79 
80 new (f.bind(boundThis, &quot;a8&quot;, &quot;b8&quot;))(&quot;c8&quot;);
81 new (v.bind(boundThis, &quot;a9&quot;, &quot;b9&quot;))(&quot;c9&quot;);
82 
83 new (f.bind(boundThis, &quot;a10&quot;, &quot;b10&quot;, &quot;c10&quot;))();
84 new (v.bind(boundThis, &quot;a11&quot;, &quot;b11&quot;, &quot;c11&quot;))();
85 
86 print(&quot;\nTest double binding\n&quot;);
87 
88 (f.bind(boundThis).bind(&quot;thisIsIgnored&quot;))();
89 new (f.bind(&quot;thisIsIgnored&quot;).bind(&quot;thisIsIgnoredToo&quot;))();
90 new (f.bind(&quot;thisIsIgnored&quot;, &quot;a12&quot;).bind(&quot;thisIsIgnoredToo&quot;))();
91 
92 (v.bind(boundThis).bind(&quot;thisIsIgnored&quot;))();
93 new (v.bind(&quot;thisIsIgnored&quot;).bind(&quot;thisIsIgnoredToo&quot;))();
94 new (v.bind(&quot;thisIsIgnored&quot;, &quot;a13&quot;).bind(&quot;thisIsIgnoredToo&quot;))();
    </pre>
  </body>
</html>