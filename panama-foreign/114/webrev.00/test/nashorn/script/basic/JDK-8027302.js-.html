<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old test/nashorn/script/basic/JDK-8027302.js</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (c) 2017, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  * 
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  * 
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  * 
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  * 
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
 23 
 24 /**
 25  * JDK-8027302: Identifiers containing unicode escapes are not recognized as reserved words
 26  *
 27  * @test
 28  * @run
 29  */
 30 
 31 // keywords containing escapes
 32 
 33 try {
 34     eval(&quot;v\\u0061r i;&quot;);
 35     fail(&quot;Expected error&quot;);
 36 } catch (e) {
 37     Assert.assertTrue(e instanceof SyntaxError);
 38 }
 39 
 40 try {
 41     eval(&quot;\\u0069f (true) ;&quot;);
 42     fail(&quot;Expected error&quot;);
 43 } catch (e) {
 44     Assert.assertTrue(e instanceof ReferenceError); // no SyntaxError in ES5
 45 }
 46 
 47 try {
 48     eval(&quot;if (true) ; \\u0065lse ;&quot;);
 49     fail(&quot;Expected error&quot;);
 50 } catch (e) {
 51     Assert.assertTrue(e instanceof ReferenceError); // no SyntaxError in ES5
 52 }
 53 
 54 try {
 55     eval(&quot;f\\u0075nction x() {}&quot;);
 56     fail(&quot;Expected error&quot;);
 57 } catch (e) {
 58     Assert.assertTrue(e instanceof SyntaxError);
 59 }
 60 
 61 try {
 62     eval(&quot;var f = f\\u0075nction() {}&quot;);
 63     fail(&quot;Expected error&quot;);
 64 } catch (e) {
 65     Assert.assertTrue(e instanceof SyntaxError);
 66 }
 67 
 68 try {
 69     eval(&quot;var o = { f: f\\u0075nction() {}}&quot;);
 70     fail(&quot;Expected error&quot;);
 71 } catch (e) {
 72     Assert.assertTrue(e instanceof SyntaxError);
 73 }
 74 
 75 try {
 76     eval(&quot;var a = [f\\u0075nction() {}]&quot;);
 77     fail(&quot;Expected error&quot;);
 78 } catch (e) {
 79     Assert.assertTrue(e instanceof SyntaxError);
 80 }
 81 
 82 // keywords as identifiers, with and without escapes
 83 
 84 try {
 85     eval(&quot;function break() {}&quot;);
 86     fail(&quot;Expected error&quot;);
 87 } catch (e) {
 88     Assert.assertTrue(e instanceof SyntaxError);
 89 }
 90 
 91 try {
 92     eval(&quot;function bre\\u0061k() {}&quot;);
 93 } catch (e) {
 94     fail(&quot;Unexpected error&quot;);
 95 }
 96 
 97 try {
 98     eval(&quot;function f(break) {}&quot;);
 99     fail(&quot;Expected error&quot;);
100 } catch (e) {
101     Assert.assertTrue(e instanceof SyntaxError);
102 }
103 
104 try {
105     eval(&quot;function f(bre\\u0061k) {}&quot;);
106 } catch (e) {
107     fail(&quot;Unexpected error&quot;);
108 }
109 
110 try {
111     eval(&quot;var break = 3&quot;);
112     fail(&quot;Expected error&quot;);
113 } catch (e) {
114     Assert.assertTrue(e instanceof SyntaxError);
115 }
116 
117 try {
118     eval(&quot;&#39;use strict&#39;; var break = 3&quot;);
119     fail(&quot;Expected error&quot;);
120 } catch (e) {
121     Assert.assertTrue(e instanceof SyntaxError);
122 }
123 
124 try {
125     eval(&quot;var bre\\u0061k = 3&quot;);
126 } catch (e) {
127     fail(&quot;Unexpected error&quot;);
128 }
129 
130 try {
131     eval(&quot;&#39;use strict&#39;; var bre\\u0061k = 3&quot;);
132 } catch (e) {
133     fail(&quot;Unexpected error&quot;);
134 }
135 
136 try {
137     eval(&quot;var package = 3&quot;);
138 } catch (e) {
139     fail(&quot;Unexpected error&quot;);
140 }
141 
142 try {
143     eval(&quot;&#39;use strict&#39;; var package = 3&quot;);
144     fail(&quot;Expected error&quot;);
145 } catch (e) {
146     Assert.assertTrue(e instanceof SyntaxError);
147 }
148 
149 try {
150     eval(&quot;var p\\u0061ckage = 3&quot;);
151 } catch (e) {
152     fail(&quot;Unexpected error&quot;);
153 }
154 
155 try {
156     eval(&quot;&#39;use strict&#39;; var p\\u0061ckage = 3&quot;);
157 } catch (e) {
158     fail(&quot;Unexpected error&quot;);
159 }
160 
    </pre>
  </body>
</html>