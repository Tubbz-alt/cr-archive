<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old test/nashorn/script/basic/NASHORN-63.js</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (c) 2010, 2013, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
 23 
 24 /**
 25  * NASHORN-63 :  equality and strict equality implementations are broken.
 26  *
 27  * @test
 28  * @run
 29  */
 30 
 31 function error(msg) {
 32     print(&quot;Error: &quot; + msg);
 33 }
 34 
 35 if ((new Boolean(true) != new Boolean(true)) !== true) {
 36     error(&#39;Different Boolean objects are equal&#39;);
 37 }
 38 
 39 if ((new Boolean(false) != new Boolean(false)) !== true) {
 40     error(&#39;Different Boolean objects are equal&#39;);
 41 }
 42 
 43 if ((new Boolean(true) != new Boolean(false)) !== true) {
 44     error(&#39;Different Boolean objects are equal&#39;);
 45 }
 46 
 47 if ((new Number(3.14) != new Number(3.14)) !== true) {
 48     error(&#39;Different Number objects are equal&#39;);
 49 }
 50 
 51 if ((new Number(2.718) != new Number(3.14)) !== true) {
 52     error(&#39;Different Number objects are equal&#39;);
 53 }
 54 
 55 if ((new String(&quot;nashorn&quot;) != new String(&quot;nashorn&quot;)) !== true) {
 56     error(&#39;Different String objects are equal&#39;);
 57 }
 58 
 59 if ((new String(&quot;ecmascript&quot;) != new String(&quot;nashorn&quot;)) !== true) {
 60     error(&#39;Different String objects are equal&#39;);
 61 }
 62 
 63 if ((new Object() != new Object()) !== true) {
 64     error(&#39;Different Objects are equal&#39;);
 65 }
 66 
 67 var obj1 = {};
 68 var obj2 = obj1;
 69 if (obj1 != obj2) {
 70     error(&#39; Same object literals are not equal&#39;);
 71 }
 72 
 73 if ((new Boolean(0) != new Number(0)) !== true) {
 74     error(&#39;a Boolean and a Number object are equal&#39;);
 75 }
 76 
 77 if ((new Number(42) != new String(&quot;42&quot;)) !== true) {
 78     error(&#39;a Number and a String object are equal&#39;);
 79 }
 80 
 81 if ((new String(&quot;1&quot;) != new Boolean(true)) !== true) {
 82     error(&#39;a String and a Boolean object are equal&#39;);
 83 }
 84 
 85 // strict equality checks
 86 if ((new String(&quot;abc&quot;)) === &quot;abc&quot;) {
 87     error(&#39;a String and a primitive string are strict equal&#39;);
 88 }
 89 
 90 if ((new Number(42)) === 42) {
 91     error(&#39;a Number and a primitive number are strict equal&#39;);
 92 }
 93 
 94 if ((new Boolean(true)) === true) {
 95     error(&#39;a Boolean and a primitive boolean are strict equal&#39;);
 96 }
 97 
 98 if ((new Boolean(false)) === false) {
 99     error(&#39;a Boolean and a primitive boolean are strict equal&#39;);
100 }
101 
102 if ((new Object()) === (new Object())) {
103     error(&#39;two different Objects are strict strict equal&#39;);
104 }
105 
106 if ({} === {}) {
107     error(&#39;two different Objects are strict strict equal&#39;);
108 }
    </pre>
  </body>
</html>