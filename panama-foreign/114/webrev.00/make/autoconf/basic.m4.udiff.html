<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff make/autoconf/basic.m4</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="../TestImage.gmk.udiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="configure.ac.udiff.html" target="_top">next &gt;</a></center>    <h2>make/autoconf/basic.m4</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -84,10 +84,17 @@</span>
    AC_MSG_CHECKING([for top-level directory])
    AC_MSG_RESULT([$TOPDIR])
    AC_SUBST(TOPDIR)
    AC_SUBST(CONFIGURE_START_DIR)
  
<span class="udiff-line-added">+   if test &quot;x$CUSTOM_ROOT&quot; != x; then</span>
<span class="udiff-line-added">+     WORKSPACE_ROOT=&quot;${CUSTOM_ROOT}&quot;</span>
<span class="udiff-line-added">+   else</span>
<span class="udiff-line-added">+     WORKSPACE_ROOT=&quot;${TOPDIR}&quot;</span>
<span class="udiff-line-added">+   fi</span>
<span class="udiff-line-added">+   AC_SUBST(WORKSPACE_ROOT)</span>
<span class="udiff-line-added">+ </span>
    # We can only call UTIL_FIXUP_PATH after BASIC_CHECK_PATHS_WINDOWS.
    UTIL_FIXUP_PATH(CONFIGURE_START_DIR)
    UTIL_FIXUP_PATH(TOPDIR)
  
    # Locate the directory of this script.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -139,10 +146,12 @@</span>
        BASIC_EVAL_DEVKIT_VARIABLE([DEVKIT_VS_INCLUDE])
        # The Visual Studio lib environment variable
        BASIC_EVAL_DEVKIT_VARIABLE([DEVKIT_VS_LIB])
        # Corresponds to --with-msvcr-dll
        BASIC_EVAL_DEVKIT_VARIABLE([DEVKIT_MSVCR_DLL])
<span class="udiff-line-added">+       # Corresponds to --with-vcruntime-1-dll</span>
<span class="udiff-line-added">+       BASIC_EVAL_DEVKIT_VARIABLE([DEVKIT_VCRUNTIME_1_DLL])</span>
        # Corresponds to --with-msvcp-dll
        BASIC_EVAL_DEVKIT_VARIABLE([DEVKIT_MSVCP_DLL])
        # Corresponds to --with-ucrt-dll-dir
        BASIC_EVAL_DEVKIT_VARIABLE([DEVKIT_UCRT_DLL_DIR])
      fi
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -311,15 +320,10 @@</span>
        CONF_NAME=&quot;${OPENJDK_TARGET_OS}-${OPENJDK_TARGET_CPU}-${JVM_VARIANTS_WITH_AND}-${DEBUG_LEVEL}&quot;
      else
        AC_MSG_RESULT([in build directory with custom name])
      fi
  
<span class="udiff-line-removed">-     if test &quot;x$CUSTOM_ROOT&quot; != x; then</span>
<span class="udiff-line-removed">-       WORKSPACE_ROOT=&quot;${CUSTOM_ROOT}&quot;</span>
<span class="udiff-line-removed">-     else</span>
<span class="udiff-line-removed">-       WORKSPACE_ROOT=&quot;${TOPDIR}&quot;</span>
<span class="udiff-line-removed">-     fi</span>
      OUTPUTDIR=&quot;${WORKSPACE_ROOT}/build/${CONF_NAME}&quot;
      $MKDIR -p &quot;$OUTPUTDIR&quot;
      if test ! -d &quot;$OUTPUTDIR&quot;; then
        AC_MSG_ERROR([Could not create build directory $OUTPUTDIR])
      fi
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -372,11 +376,10 @@</span>
  
    SPEC=&quot;$OUTPUTDIR/spec.gmk&quot;
    AC_SUBST(SPEC)
    AC_SUBST(CONF_NAME)
    AC_SUBST(OUTPUTDIR)
<span class="udiff-line-removed">-   AC_SUBST(WORKSPACE_ROOT)</span>
    AC_SUBST(CONFIGURESUPPORT_OUTPUTDIR)
  
    # The spec.gmk file contains all variables for the make system.
    AC_CONFIG_FILES([$OUTPUTDIR/spec.gmk:$AUTOCONF_DIR/spec.gmk.in])
    # The bootcycle-spec.gmk file contains support for boot cycle builds.
</pre>
<center><a href="../TestImage.gmk.udiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="configure.ac.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>