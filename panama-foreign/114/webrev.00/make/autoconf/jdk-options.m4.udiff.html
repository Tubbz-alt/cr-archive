<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff make/autoconf/jdk-options.m4</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="flags-ldflags.m4.udiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="spec.gmk.in.udiff.html" target="_top">next &gt;</a></center>    <h2>make/autoconf/jdk-options.m4</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -596,5 +596,37 @@</span>
            AC_MSG_RESULT([yes])
          fi
        ])
    AC_SUBST(BUILD_CDS_ARCHIVE)
  ])
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ ################################################################################</span>
<span class="udiff-line-added">+ #</span>
<span class="udiff-line-added">+ # Disallow any output from containing absolute paths from the build system.</span>
<span class="udiff-line-added">+ # This setting defaults to allowed on debug builds and not allowed on release</span>
<span class="udiff-line-added">+ # builds.</span>
<span class="udiff-line-added">+ #</span>
<span class="udiff-line-added">+ AC_DEFUN([JDKOPT_ALLOW_ABSOLUTE_PATHS_IN_OUTPUT],</span>
<span class="udiff-line-added">+ [</span>
<span class="udiff-line-added">+   AC_ARG_ENABLE([absolute-paths-in-output],</span>
<span class="udiff-line-added">+       [AS_HELP_STRING([--disable-absolute-paths-in-output],</span>
<span class="udiff-line-added">+        [Set to disable to prevent any absolute paths from the build to end up in</span>
<span class="udiff-line-added">+         any of the build output. @&lt;:@disabled in release builds, otherwise enabled@:&gt;@])</span>
<span class="udiff-line-added">+       ])</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+   AC_MSG_CHECKING([if absolute paths should be allowed in the build output])</span>
<span class="udiff-line-added">+   if test &quot;x$enable_absolute_paths_in_output&quot; = &quot;xno&quot;; then</span>
<span class="udiff-line-added">+     AC_MSG_RESULT([no, forced])</span>
<span class="udiff-line-added">+     ALLOW_ABSOLUTE_PATHS_IN_OUTPUT=&quot;false&quot;</span>
<span class="udiff-line-added">+   elif test &quot;x$enable_absolute_paths_in_output&quot; = &quot;xyes&quot;; then</span>
<span class="udiff-line-added">+     AC_MSG_RESULT([yes, forced])</span>
<span class="udiff-line-added">+     ALLOW_ABSOLUTE_PATHS_IN_OUTPUT=&quot;true&quot;</span>
<span class="udiff-line-added">+   elif test &quot;x$DEBUG_LEVEL&quot; = &quot;xrelease&quot;; then</span>
<span class="udiff-line-added">+     AC_MSG_RESULT([no, release build])</span>
<span class="udiff-line-added">+     ALLOW_ABSOLUTE_PATHS_IN_OUTPUT=&quot;false&quot;</span>
<span class="udiff-line-added">+   else</span>
<span class="udiff-line-added">+     AC_MSG_RESULT([yes, debug build])</span>
<span class="udiff-line-added">+     ALLOW_ABSOLUTE_PATHS_IN_OUTPUT=&quot;true&quot;</span>
<span class="udiff-line-added">+   fi</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+   AC_SUBST(ALLOW_ABSOLUTE_PATHS_IN_OUTPUT)</span>
<span class="udiff-line-added">+ ])</span>
</pre>
<center><a href="flags-ldflags.m4.udiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="spec.gmk.in.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>