<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/hotspot/lib/CompileGtest.gmk</title>
    <link rel="stylesheet" href="../../../style.css" />
  </head>
<body>
<center><a href="CompileDtraceLibraries.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../../index.html" target="_top">index</a> <a href="CompileJvm.gmk.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/hotspot/lib/CompileGtest.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 79     CFLAGS_solaris := -DGTEST_HAS_EXCEPTIONS=0 -library=stlport4, \
 80     CFLAGS_macosx := -DGTEST_OS_MAC=1, \
 81     DISABLED_WARNINGS_gcc := $(DISABLED_WARNINGS_gcc) \
 82         undef, \
 83     DISABLED_WARNINGS_clang := $(DISABLED_WARNINGS_clang) \
 84         undef switch format-nonliteral tautological-undefined-compare \
 85         self-assign-overloaded, \
 86     DISABLED_WARNINGS_solstudio := $(DISABLED_WARNINGS_solstudio) \
 87         identexpected, \
 88     LDFLAGS := $(JVM_LDFLAGS), \
 89     LDFLAGS_solaris := -library=stlport4 $(call SET_SHARED_LIBRARY_ORIGIN), \
 90     LIBS := $(JVM_LIBS), \
 91     OPTIMIZATION := $(JVM_OPTIMIZATION), \
 92     MAPFILE := $(GTEST_JVM_MAPFILE), \
 93     USE_MAPFILE_FOR_SYMBOLS := true, \
 94     COPY_DEBUG_SYMBOLS := $(GTEST_COPY_DEBUG_SYMBOLS), \
 95     ZIP_EXTERNAL_DEBUG_SYMBOLS := false, \
 96     STRIP_SYMBOLS := false, \
 97     PRECOMPILED_HEADER := $(JVM_PRECOMPILED_HEADER), \
 98     PRECOMPILED_HEADER_EXCLUDE := gtest-all.cc gmock-all.cc gtestMain.cpp, \
<span class="line-removed"> 99     DEFINE_THIS_FILE := false, \</span>
100 ))
101 
102 TARGETS += $(BUILD_GTEST_LIBJVM)
103 
104 ################################################################################
105 
106 $(eval $(call SetupNativeCompilation, BUILD_GTEST_LAUNCHER, \
107     TOOLCHAIN := TOOLCHAIN_LINK_CXX, \
108     NAME := gtestLauncher, \
109     TYPE := EXECUTABLE, \
110     OUTPUT_DIR := $(JVM_OUTPUTDIR)/gtest, \
111     EXTRA_FILES := $(GTEST_LAUNCHER_SRC), \
112     OBJECT_DIR := $(JVM_OUTPUTDIR)/gtest/launcher-objs, \
113     CFLAGS := $(JVM_CFLAGS) \
114         -I$(GTEST_FRAMEWORK_SRC)/googletest \
115         -I$(GTEST_FRAMEWORK_SRC)/googletest/include \
116         -I$(GTEST_FRAMEWORK_SRC)/googlemock \
117         -I$(GTEST_FRAMEWORK_SRC)/googlemock/include, \
118     LDFLAGS := $(LDFLAGS_JDKEXE), \
119     LDFLAGS_unix := -L$(JVM_OUTPUTDIR)/gtest $(call SET_SHARED_LIBRARY_ORIGIN), \
120     LDFLAGS_solaris := -library=stlport4, \
121     LIBS_linux := $(LIBCXX), \
122     LIBS_unix := -ljvm, \
123     LIBS_windows := $(JVM_OUTPUTDIR)/gtest/objs/jvm.lib, \
124     COPY_DEBUG_SYMBOLS := $(GTEST_COPY_DEBUG_SYMBOLS), \
125     ZIP_EXTERNAL_DEBUG_SYMBOLS := false, \
<span class="line-removed">126     DEFINE_THIS_FILE := false, \</span>
127 ))
128 
129 $(BUILD_GTEST_LAUNCHER): $(BUILD_GTEST_LIBJVM)
130 
131 TARGETS += $(BUILD_GTEST_LAUNCHER)
132 
133 ################################################################################
</pre>
</td>
<td>
<hr />
<pre>
 79     CFLAGS_solaris := -DGTEST_HAS_EXCEPTIONS=0 -library=stlport4, \
 80     CFLAGS_macosx := -DGTEST_OS_MAC=1, \
 81     DISABLED_WARNINGS_gcc := $(DISABLED_WARNINGS_gcc) \
 82         undef, \
 83     DISABLED_WARNINGS_clang := $(DISABLED_WARNINGS_clang) \
 84         undef switch format-nonliteral tautological-undefined-compare \
 85         self-assign-overloaded, \
 86     DISABLED_WARNINGS_solstudio := $(DISABLED_WARNINGS_solstudio) \
 87         identexpected, \
 88     LDFLAGS := $(JVM_LDFLAGS), \
 89     LDFLAGS_solaris := -library=stlport4 $(call SET_SHARED_LIBRARY_ORIGIN), \
 90     LIBS := $(JVM_LIBS), \
 91     OPTIMIZATION := $(JVM_OPTIMIZATION), \
 92     MAPFILE := $(GTEST_JVM_MAPFILE), \
 93     USE_MAPFILE_FOR_SYMBOLS := true, \
 94     COPY_DEBUG_SYMBOLS := $(GTEST_COPY_DEBUG_SYMBOLS), \
 95     ZIP_EXTERNAL_DEBUG_SYMBOLS := false, \
 96     STRIP_SYMBOLS := false, \
 97     PRECOMPILED_HEADER := $(JVM_PRECOMPILED_HEADER), \
 98     PRECOMPILED_HEADER_EXCLUDE := gtest-all.cc gmock-all.cc gtestMain.cpp, \

 99 ))
100 
101 TARGETS += $(BUILD_GTEST_LIBJVM)
102 
103 ################################################################################
104 
105 $(eval $(call SetupNativeCompilation, BUILD_GTEST_LAUNCHER, \
106     TOOLCHAIN := TOOLCHAIN_LINK_CXX, \
107     NAME := gtestLauncher, \
108     TYPE := EXECUTABLE, \
109     OUTPUT_DIR := $(JVM_OUTPUTDIR)/gtest, \
110     EXTRA_FILES := $(GTEST_LAUNCHER_SRC), \
111     OBJECT_DIR := $(JVM_OUTPUTDIR)/gtest/launcher-objs, \
112     CFLAGS := $(JVM_CFLAGS) \
113         -I$(GTEST_FRAMEWORK_SRC)/googletest \
114         -I$(GTEST_FRAMEWORK_SRC)/googletest/include \
115         -I$(GTEST_FRAMEWORK_SRC)/googlemock \
116         -I$(GTEST_FRAMEWORK_SRC)/googlemock/include, \
117     LDFLAGS := $(LDFLAGS_JDKEXE), \
118     LDFLAGS_unix := -L$(JVM_OUTPUTDIR)/gtest $(call SET_SHARED_LIBRARY_ORIGIN), \
119     LDFLAGS_solaris := -library=stlport4, \
120     LIBS_linux := $(LIBCXX), \
121     LIBS_unix := -ljvm, \
122     LIBS_windows := $(JVM_OUTPUTDIR)/gtest/objs/jvm.lib, \
123     COPY_DEBUG_SYMBOLS := $(GTEST_COPY_DEBUG_SYMBOLS), \
124     ZIP_EXTERNAL_DEBUG_SYMBOLS := false, \

125 ))
126 
127 $(BUILD_GTEST_LAUNCHER): $(BUILD_GTEST_LIBJVM)
128 
129 TARGETS += $(BUILD_GTEST_LAUNCHER)
130 
131 ################################################################################
</pre>
</td>
</tr>
</table>
<center><a href="CompileDtraceLibraries.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../../index.html" target="_top">index</a> <a href="CompileJvm.gmk.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>