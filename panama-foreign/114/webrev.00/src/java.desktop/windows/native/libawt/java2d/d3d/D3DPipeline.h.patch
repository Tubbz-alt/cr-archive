diff a/src/java.desktop/windows/native/libawt/java2d/d3d/D3DPipeline.h b/src/java.desktop/windows/native/libawt/java2d/d3d/D3DPipeline.h
--- a/src/java.desktop/windows/native/libawt/java2d/d3d/D3DPipeline.h
+++ b/src/java.desktop/windows/native/libawt/java2d/d3d/D3DPipeline.h
@@ -26,15 +26,10 @@
 
 #ifdef DEBUG
 #define D3D_DEBUG_INFO
 #endif // DEBUG
 
-/* Use THIS_FILE when it is available. */
-#ifndef THIS_FILE
-    #define THIS_FILE THIS_FILE
-#endif
-
 #ifdef D3D_PPL_DLL
 
 
     #ifndef WIN32_LEAN_AND_MEAN
     #define WIN32_LEAN_AND_MEAN
@@ -107,24 +102,24 @@
  * allow for a trailing ';' after RETURN/CONTINUE_IF_NULL() invocations.)
  */
 #define ACT_IF_NULL(ACTION, value)         \
     if ((value) == NULL) {                 \
         J2dTraceLn3(J2D_TRACE_ERROR,       \
-                    "%s is null in %s:%d", #value, THIS_FILE, __LINE__); \
+                    "%s is null in %s:%d", #value, __FILE__, __LINE__); \
         ACTION;                            \
     } else do { } while (0)
 #define RETURN_IF_NULL(value)   ACT_IF_NULL(return, value)
 #define CONTINUE_IF_NULL(value) ACT_IF_NULL(continue, value)
 #define RETURN_STATUS_IF_NULL(value, status) \
         ACT_IF_NULL(return (status), value)
 
 #define RETURN_STATUS_IF_EXP_FAILED(EXPR) \
     if (FAILED(res = (EXPR))) {                    \
-        DebugPrintD3DError(res, " " ## #EXPR ## " failed in " ## THIS_FILE); \
+        DebugPrintD3DError(res, " " ## #EXPR ## " failed in " ## __FILE__); \
         return res;                   \
     } else do { } while (0)
 
 #define RETURN_STATUS_IF_FAILED(status) \
     if (FAILED((status))) {                    \
-        DebugPrintD3DError((status), " failed in " ## THIS_FILE ## ", return;");\
+        DebugPrintD3DError((status), " failed in " ## __FILE__ ## ", return;");\
         return (status);                   \
     } else do { } while (0)
