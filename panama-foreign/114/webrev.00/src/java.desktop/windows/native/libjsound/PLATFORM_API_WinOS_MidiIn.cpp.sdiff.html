<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/windows/native/libjsound/PLATFORM_API_WinOS_MidiIn.cpp</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../libawt/windows/awt_ole.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="PLATFORM_API_WinOS_MidiOut.c.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/windows/native/libjsound/PLATFORM_API_WinOS_MidiIn.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 #define USE_ERROR
 27 #define USE_TRACE
 28 
 29 /* include Java Sound specific headers as C code */
 30 extern &quot;C&quot; {
 31 #include &quot;PLATFORM_API_WinOS_Util.h&quot;
 32 }
 33 
 34 /* include to prevent charset problem */
 35 #include &quot;PLATFORM_API_WinOS_Charset_Util.h&quot;
 36 
 37 #if USE_PLATFORM_MIDI_IN == TRUE
 38 
 39 #ifdef USE_ERROR
 40 #include &lt;stdio.h&gt;
 41 
<span class="line-removed"> 42 /* Use THIS_FILE when it is available. */</span>
<span class="line-removed"> 43 #ifndef THIS_FILE</span>
<span class="line-removed"> 44     #define THIS_FILE __FILE__</span>
<span class="line-removed"> 45 #endif</span>
<span class="line-removed"> 46 </span>
 47 #define MIDIIN_CHECK_ERROR { \
 48         if (err != MMSYSERR_NOERROR) \
<span class="line-modified"> 49             ERROR3(&quot;MIDI IN Error in %s:%d : %s\n&quot;, THIS_FILE, __LINE__, MIDI_IN_GetErrorStr((INT32) err)); \</span>
 50     }
 51 #else
 52 #define MIDIIN_CHECK_ERROR
 53 #endif
 54 
 55 /*
 56  * Callback from the MIDI device for all messages.
 57  */
 58 //$$fb dwParam1 holds a pointer for long messages. How can that be a DWORD then ???
 59 void CALLBACK MIDI_IN_PutMessage( HMIDIIN hMidiIn, UINT wMsg, UINT_PTR dwInstance, UINT_PTR dwParam1, UINT_PTR dwParam2 ) {
 60 
 61     MidiDeviceHandle* handle = (MidiDeviceHandle*) dwInstance;
 62 
 63     TRACE3(&quot;&gt; MIDI_IN_PutMessage, hMidiIn: %x, wMsg: %x, dwInstance: %x\n&quot;, hMidiIn, wMsg, dwInstance);
 64     TRACE2(&quot;                      dwParam1: %x, dwParam2: %x\n&quot;, dwParam1, dwParam2);
 65 
 66     switch(wMsg) {
 67 
 68     case MIM_OPEN:
 69         TRACE0(&quot;&lt; MIDI_IN_PutMessage: MIM_OPEN\n&quot;);
</pre>
</td>
<td>
<hr />
<pre>
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 #define USE_ERROR
 27 #define USE_TRACE
 28 
 29 /* include Java Sound specific headers as C code */
 30 extern &quot;C&quot; {
 31 #include &quot;PLATFORM_API_WinOS_Util.h&quot;
 32 }
 33 
 34 /* include to prevent charset problem */
 35 #include &quot;PLATFORM_API_WinOS_Charset_Util.h&quot;
 36 
 37 #if USE_PLATFORM_MIDI_IN == TRUE
 38 
 39 #ifdef USE_ERROR
 40 #include &lt;stdio.h&gt;
 41 





 42 #define MIDIIN_CHECK_ERROR { \
 43         if (err != MMSYSERR_NOERROR) \
<span class="line-modified"> 44             ERROR3(&quot;MIDI IN Error in %s:%d : %s\n&quot;, __FILE__, __LINE__, MIDI_IN_GetErrorStr((INT32) err)); \</span>
 45     }
 46 #else
 47 #define MIDIIN_CHECK_ERROR
 48 #endif
 49 
 50 /*
 51  * Callback from the MIDI device for all messages.
 52  */
 53 //$$fb dwParam1 holds a pointer for long messages. How can that be a DWORD then ???
 54 void CALLBACK MIDI_IN_PutMessage( HMIDIIN hMidiIn, UINT wMsg, UINT_PTR dwInstance, UINT_PTR dwParam1, UINT_PTR dwParam2 ) {
 55 
 56     MidiDeviceHandle* handle = (MidiDeviceHandle*) dwInstance;
 57 
 58     TRACE3(&quot;&gt; MIDI_IN_PutMessage, hMidiIn: %x, wMsg: %x, dwInstance: %x\n&quot;, hMidiIn, wMsg, dwInstance);
 59     TRACE2(&quot;                      dwParam1: %x, dwParam2: %x\n&quot;, dwParam1, dwParam2);
 60 
 61     switch(wMsg) {
 62 
 63     case MIM_OPEN:
 64         TRACE0(&quot;&lt; MIDI_IN_PutMessage: MIM_OPEN\n&quot;);
</pre>
</td>
</tr>
</table>
<center><a href="../libawt/windows/awt_ole.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="PLATFORM_API_WinOS_MidiOut.c.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>