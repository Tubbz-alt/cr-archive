<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/hotspot/share/logging/logTag.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
    <script type="text/javascript" src="../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /*
  2  * Copyright (c) 2015, 2020, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  *
 23  */
 24 #ifndef SHARE_LOGGING_LOGTAG_HPP
 25 #define SHARE_LOGGING_LOGTAG_HPP
 26 
 27 #include &quot;memory/allocation.hpp&quot;
 28 #include &quot;utilities/globalDefinitions.hpp&quot;
 29 
 30 // List of available logging tags. New tags should be added here.
 31 // (The tags &#39;all&#39;, &#39;disable&#39; and &#39;help&#39; are special tags that can
 32 // not be used in log calls, and should not be listed below.)
 33 #define LOG_TAG_LIST \
 34   LOG_TAG(add) \
 35   LOG_TAG(age) \
 36   LOG_TAG(alloc) \
 37   LOG_TAG(aot) \
 38   LOG_TAG(annotation) \
 39   LOG_TAG(arguments) \
 40   LOG_TAG(attach) \
 41   LOG_TAG(barrier) \
 42   LOG_TAG(biasedlocking) \
 43   LOG_TAG(blocks) \
 44   LOG_TAG(bot) \
 45   LOG_TAG(breakpoint) \
 46   LOG_TAG(bytecode) \
 47   LOG_TAG(cds) \
 48   LOG_TAG(census) \
 49   LOG_TAG(class) \
 50   LOG_TAG(classhisto) \
 51   LOG_TAG(cleanup) \
 52   LOG_TAG(codecache) \
 53   LOG_TAG(compaction) \
 54   LOG_TAG(compilation) \
<a name="1" id="anc1"></a><span class="line-added"> 55   LOG_TAG(condy) \</span>
 56   LOG_TAG(constraints) \
 57   LOG_TAG(constantpool) \
 58   LOG_TAG(container) \
 59   LOG_TAG(coops) \
 60   LOG_TAG(cpu) \
 61   LOG_TAG(cset) \
 62   LOG_TAG(data) \
 63   LOG_TAG(datacreation) \
 64   LOG_TAG(dcmd) \
 65   LOG_TAG(decoder) \
 66   LOG_TAG(defaultmethods) \
 67   LOG_TAG(director) \
 68   LOG_TAG(dump) \
 69   LOG_TAG(dynamic) \
 70   LOG_TAG(ergo) \
 71   LOG_TAG(event) \
 72   LOG_TAG(exceptions) \
 73   LOG_TAG(exit) \
 74   LOG_TAG(fingerprint) \
 75   LOG_TAG(free) \
 76   LOG_TAG(freelist) \
 77   LOG_TAG(gc) \
 78   LOG_TAG(handshake) \
 79   LOG_TAG(hashtables) \
 80   LOG_TAG(heap) \
 81   LOG_TAG(humongous) \
 82   LOG_TAG(ihop) \
 83   LOG_TAG(iklass) \
<a name="2" id="anc2"></a><span class="line-added"> 84   LOG_TAG(indy) \</span>
 85   LOG_TAG(init) \
 86   LOG_TAG(inlining) \
 87   LOG_TAG(install) \
 88   LOG_TAG(interpreter) \
 89   LOG_TAG(itables) \
 90   LOG_TAG(jfr) \
 91   LOG_TAG(jit) \
 92   LOG_TAG(jni) \
 93   LOG_TAG(jvmti) \
 94   LOG_TAG(library) \
 95   LOG_TAG(liveness) \
 96   LOG_TAG(load) /* Trace all classes loaded */ \
 97   LOG_TAG(loader) \
 98   LOG_TAG(logging) \
 99   LOG_TAG(malloc) \
100   LOG_TAG(mark) \
101   LOG_TAG(marking) \
102   LOG_TAG(membername) \
103   LOG_TAG(memops) \
104   LOG_TAG(methodcomparator) \
105   LOG_TAG(metadata) \
106   LOG_TAG(metaspace) \
<a name="3" id="anc3"></a><span class="line-added">107   LOG_TAG(methodhandles) \</span>
108   LOG_TAG(mmu) \
109   LOG_TAG(module) \
110   LOG_TAG(monitorinflation) \
111   LOG_TAG(monitormismatch) \
112   LOG_TAG(nestmates) \
113   LOG_TAG(nmethod) \
114   LOG_TAG(normalize) \
115   LOG_TAG(numa) \
116   LOG_TAG(objecttagging) \
117   LOG_TAG(obsolete) \
118   LOG_TAG(oldobject) \
119   LOG_TAG(oom) \
120   LOG_TAG(oopmap) \
121   LOG_TAG(oops) \
122   LOG_TAG(oopstorage) \
123   LOG_TAG(os) \
124   LOG_TAG(owner) \
125   LOG_TAG(pagesize) \
126   LOG_TAG(patch) \
127   LOG_TAG(path) \
128   LOG_TAG(perf) \
129   LOG_TAG(periodic) \
130   LOG_TAG(phases) \
131   LOG_TAG(plab) \
132   LOG_TAG(preview)   /* Trace loading of preview feature types */ \
133   LOG_TAG(promotion) \
134   LOG_TAG(preorder) /* Trace all classes loaded in order referenced (not loaded) */ \
135   LOG_TAG(protectiondomain) /* &quot;Trace protection domain verification&quot; */ \
136   LOG_TAG(ref) \
137   LOG_TAG(redefine) \
138   LOG_TAG(refine) \
139   LOG_TAG(region) \
140   LOG_TAG(reloc) \
141   LOG_TAG(remset) \
142   LOG_TAG(parser) \
143   LOG_TAG(ptrqueue) \
144   LOG_TAG(purge) \
145   LOG_TAG(record) \
146   LOG_TAG(resolve) \
147   LOG_TAG(safepoint) \
148   LOG_TAG(sampling) \
149   LOG_TAG(scavenge) \
150   LOG_TAG(setting) \
151   LOG_TAG(smr) \
152   LOG_TAG(stacktrace) \
153   LOG_TAG(stackwalk) \
154   LOG_TAG(start) \
155   LOG_TAG(startuptime) \
156   LOG_TAG(state) \
157   LOG_TAG(stats) \
158   LOG_TAG(streaming) \
159   LOG_TAG(stringdedup) \
160   LOG_TAG(stringtable) \
161   LOG_TAG(symboltable) \
162   LOG_TAG(stackmap) \
163   LOG_TAG(subclass) \
164   LOG_TAG(survivor) \
165   LOG_TAG(sweep) \
166   LOG_TAG(system) \
167   LOG_TAG(table) \
168   LOG_TAG(task) \
169   DEBUG_ONLY(LOG_TAG(test)) \
170   LOG_TAG(thread) \
171   LOG_TAG(tlab) \
172   LOG_TAG(time) \
173   LOG_TAG(timer) \
174   LOG_TAG(tracking) \
175   LOG_TAG(update) \
176   LOG_TAG(unload) /* Trace unloading of classes */ \
177   LOG_TAG(unshareable) \
178   LOG_TAG(mirror) \
179   LOG_TAG(verification) \
180   LOG_TAG(verify) \
181   LOG_TAG(vmmutex) \
182   LOG_TAG(vmoperation) \
183   LOG_TAG(vmthread) \
184   LOG_TAG(vtables) \
185   LOG_TAG(vtablestubs) \
186   LOG_TAG(workgang)
187 
188 #define PREFIX_LOG_TAG(T) (LogTag::_##T)
189 
190 // Expand a set of log tags to their prefixed names.
191 // For error detection purposes, the macro passes one more tag than what is supported.
192 // If too many tags are given, a static assert in the log class will fail.
193 #define LOG_TAGS_EXPANDED(T0, T1, T2, T3, T4, T5, ...)  PREFIX_LOG_TAG(T0), PREFIX_LOG_TAG(T1), PREFIX_LOG_TAG(T2), \
194                                                         PREFIX_LOG_TAG(T3), PREFIX_LOG_TAG(T4), PREFIX_LOG_TAG(T5)
195 // The EXPAND_VARARGS macro is required for MSVC, or it will resolve the LOG_TAGS_EXPANDED macro incorrectly.
196 #define EXPAND_VARARGS(x) x
197 #define LOG_TAGS(...) EXPAND_VARARGS(LOG_TAGS_EXPANDED(__VA_ARGS__, _NO_TAG, _NO_TAG, _NO_TAG, _NO_TAG, _NO_TAG, _NO_TAG))
198 
199 // Log tags are used to classify log messages.
200 // Each log message can be assigned between 1 to LogTag::MaxTags number of tags.
201 // Specifying multiple tags for a log message means that only outputs configured
202 // for those exact tags, or a subset of the tags with a wildcard, will see the logging.
203 // Multiple tags should be comma separated, e.g. log_error(tag1, tag2)(&quot;msg&quot;).
204 class LogTag : public AllStatic {
205  public:
206   // The maximum number of tags that a single log message can have.
207   // E.g. there might be hundreds of different tags available,
208   // but a specific log message can only be tagged with up to MaxTags of those.
209   static const size_t MaxTags = 5;
210 
211   enum type {
212     __NO_TAG,
213 #define LOG_TAG(name) _##name,
214     LOG_TAG_LIST
215 #undef LOG_TAG
216     Count
217   };
218 
219   static const char* name(LogTag::type tag) {
220     return _name[tag];
221   }
222 
223   static LogTag::type from_string(const char *str);
224   static LogTag::type fuzzy_match(const char *tag);
225   static void list_tags(outputStream* out);
226 
227  private:
228   static const char* _name[];
229 };
230 
231 typedef LogTag::type LogTagType;
232 
233 #endif // SHARE_LOGGING_LOGTAG_HPP
<a name="4" id="anc4"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="4" type="hidden" />
</body>
</html>