<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/toolkit/builders/PackageSummaryBuilder.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ModuleSummaryBuilder.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../resources/stylesheet.css.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/toolkit/builders/PackageSummaryBuilder.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
119                 .getDocFilesHandler(packageElement);
120         docFilesHandler.copyDocFiles();
121     }
122 
123     /**
124      * Build the content for the package.
125      *
126      * @throws DocletException if there is a problem while building the documentation
127      */
128     protected void buildContent() throws DocletException {
129         Content packageContentTree = packageWriter.getContentHeader();
130 
131         buildPackageDescription(packageContentTree);
132         buildPackageTags(packageContentTree);
133         buildSummary(packageContentTree);
134 
135         packageWriter.addPackageContent(packageContentTree);
136     }
137 
138     /**
<span class="line-modified">139      * Build the package summary.</span>
140      *
141      * @param packageContentTree the package content tree to which the summaries will
142      *                           be added
143      * @throws DocletException if there is a problem while building the documentation
144      */
145     protected void buildSummary(Content packageContentTree) throws DocletException {
<span class="line-modified">146         Content summaryContentTree = packageWriter.getSummaryHeader();</span>
147 
<span class="line-modified">148         buildInterfaceSummary(summaryContentTree);</span>
<span class="line-modified">149         buildClassSummary(summaryContentTree);</span>
<span class="line-modified">150         buildEnumSummary(summaryContentTree);</span>
<span class="line-modified">151         buildRecordSummary(summaryContentTree);</span>
<span class="line-modified">152         buildExceptionSummary(summaryContentTree);</span>
<span class="line-modified">153         buildErrorSummary(summaryContentTree);</span>
<span class="line-modified">154         buildAnnotationTypeSummary(summaryContentTree);</span>
155 
<span class="line-modified">156         packageContentTree.add(packageWriter.getPackageSummary(summaryContentTree));</span>
157     }
158 
159     /**
<span class="line-modified">160      * Build the summary for the interfaces in this package.</span>
161      *
<span class="line-modified">162      * @param summaryContentTree the summary tree to which the interface summary</span>
<span class="line-removed">163      *                           will be added</span>
164      */
<span class="line-modified">165     protected void buildInterfaceSummary(Content summaryContentTree) {</span>
166         SortedSet&lt;TypeElement&gt; ilist = utils.isSpecified(packageElement)
167                         ? utils.getTypeElementsAsSortedSet(utils.getInterfaces(packageElement))
168                         : configuration.typeElementCatalog.interfaces(packageElement);
169         SortedSet&lt;TypeElement&gt; interfaces = utils.filterOutPrivateClasses(ilist, options.javafx());
170         if (!interfaces.isEmpty()) {
<span class="line-modified">171             packageWriter.addInterfaceSummary(interfaces, summaryContentTree);</span>
172         }
173     }
174 
175     /**
<span class="line-modified">176      * Build the summary for the classes in this package.</span>
177      *
<span class="line-modified">178      * @param summaryContentTree the summary tree to which the class summary will</span>
<span class="line-removed">179      *                           be added</span>
180      */
<span class="line-modified">181     protected void buildClassSummary(Content summaryContentTree) {</span>
182         SortedSet&lt;TypeElement&gt; clist = utils.isSpecified(packageElement)
183             ? utils.getTypeElementsAsSortedSet(utils.getOrdinaryClasses(packageElement))
184             : configuration.typeElementCatalog.ordinaryClasses(packageElement);
185         SortedSet&lt;TypeElement&gt; classes = utils.filterOutPrivateClasses(clist, options.javafx());
186         if (!classes.isEmpty()) {
<span class="line-modified">187             packageWriter.addClassSummary(classes, summaryContentTree);</span>
188         }
189     }
190 
191     /**
<span class="line-modified">192      * Build the summary for the enums in this package.</span>
193      *
<span class="line-modified">194      * @param summaryContentTree the summary tree to which the enum summary will</span>
<span class="line-removed">195      *                           be added</span>
196      */
<span class="line-modified">197     protected void buildEnumSummary(Content summaryContentTree) {</span>
198         SortedSet&lt;TypeElement&gt; elist = utils.isSpecified(packageElement)
199             ? utils.getTypeElementsAsSortedSet(utils.getEnums(packageElement))
200             : configuration.typeElementCatalog.enums(packageElement);
201         SortedSet&lt;TypeElement&gt; enums = utils.filterOutPrivateClasses(elist, options.javafx());
202         if (!enums.isEmpty()) {
<span class="line-modified">203             packageWriter.addEnumSummary(enums, summaryContentTree);</span>
204         }
205     }
206 
207     /**
<span class="line-modified">208      * Build the summary for the records in this package.</span>
209      *
<span class="line-modified">210      * @param summaryContentTree the summary tree to which the record summary will</span>
<span class="line-removed">211      *                           be added</span>
212      */
<span class="line-modified">213     protected void buildRecordSummary(Content summaryContentTree) {</span>
214         SortedSet&lt;TypeElement&gt; rlist = utils.isSpecified(packageElement)
215                 ? utils.getTypeElementsAsSortedSet(utils.getRecords(packageElement))
216                 : configuration.typeElementCatalog.records(packageElement);
217         SortedSet&lt;TypeElement&gt; records = utils.filterOutPrivateClasses(rlist, options.javafx());
218         if (!records.isEmpty()) {
<span class="line-modified">219             packageWriter.addRecordSummary(records, summaryContentTree);</span>
220         }
221     }
222 
223     /**
<span class="line-modified">224      * Build the summary for the exceptions in this package.</span>
225      *
<span class="line-modified">226      * @param summaryContentTree the summary tree to which the exception summary will</span>
<span class="line-removed">227      *                           be added</span>
228      */
<span class="line-modified">229     protected void buildExceptionSummary(Content summaryContentTree) {</span>
230         Set&lt;TypeElement&gt; iexceptions =
231             utils.isSpecified(packageElement)
232                 ? utils.getTypeElementsAsSortedSet(utils.getExceptions(packageElement))
233                 : configuration.typeElementCatalog.exceptions(packageElement);
234         SortedSet&lt;TypeElement&gt; exceptions = utils.filterOutPrivateClasses(iexceptions,
235                 options.javafx());
236         if (!exceptions.isEmpty()) {
<span class="line-modified">237             packageWriter.addExceptionSummary(exceptions, summaryContentTree);</span>
238         }
239     }
240 
241     /**
<span class="line-modified">242      * Build the summary for the errors in this package.</span>
243      *
<span class="line-modified">244      * @param summaryContentTree the summary tree to which the error summary will</span>
<span class="line-removed">245      *                           be added</span>
246      */
<span class="line-modified">247     protected void buildErrorSummary(Content summaryContentTree) {</span>
248         Set&lt;TypeElement&gt; ierrors =
249             utils.isSpecified(packageElement)
250                 ? utils.getTypeElementsAsSortedSet(utils.getErrors(packageElement))
251                 : configuration.typeElementCatalog.errors(packageElement);
252         SortedSet&lt;TypeElement&gt; errors = utils.filterOutPrivateClasses(ierrors, options.javafx());
253         if (!errors.isEmpty()) {
<span class="line-modified">254             packageWriter.addErrorSummary(errors, summaryContentTree);</span>
255         }
256     }
257 
258     /**
<span class="line-modified">259      * Build the summary for the annotation type in this package.</span>
260      *
<span class="line-modified">261      * @param summaryContentTree the summary tree to which the annotation type</span>
<span class="line-removed">262      *                           summary will be added</span>
263      */
<span class="line-modified">264     protected void buildAnnotationTypeSummary(Content summaryContentTree) {</span>
265         SortedSet&lt;TypeElement&gt; iannotationTypes =
266             utils.isSpecified(packageElement)
267                 ? utils.getTypeElementsAsSortedSet(utils.getAnnotationTypes(packageElement))
268                 : configuration.typeElementCatalog.annotationTypes(packageElement);
269         SortedSet&lt;TypeElement&gt; annotationTypes = utils.filterOutPrivateClasses(iannotationTypes,
270                 options.javafx());
271         if (!annotationTypes.isEmpty()) {
<span class="line-modified">272             packageWriter.addAnnotationTypeSummary(annotationTypes, summaryContentTree);</span>
273         }
274     }
275 
276     /**
277      * Build the description of the summary.
278      *
279      * @param packageContentTree the tree to which the package description will
280      *                           be added
281      */
282     protected void buildPackageDescription(Content packageContentTree) {
283         if (options.noComment()) {
284             return;
285         }
286         packageWriter.addPackageDescription(packageContentTree);
287     }
288 
289     /**
290      * Build the tags of the summary.
291      *
292      * @param packageContentTree the tree to which the package tags will be added
</pre>
</td>
<td>
<hr />
<pre>
119                 .getDocFilesHandler(packageElement);
120         docFilesHandler.copyDocFiles();
121     }
122 
123     /**
124      * Build the content for the package.
125      *
126      * @throws DocletException if there is a problem while building the documentation
127      */
128     protected void buildContent() throws DocletException {
129         Content packageContentTree = packageWriter.getContentHeader();
130 
131         buildPackageDescription(packageContentTree);
132         buildPackageTags(packageContentTree);
133         buildSummary(packageContentTree);
134 
135         packageWriter.addPackageContent(packageContentTree);
136     }
137 
138     /**
<span class="line-modified">139      * Builds the list of summaries for the different kinds of types in this package.</span>
140      *
141      * @param packageContentTree the package content tree to which the summaries will
142      *                           be added
143      * @throws DocletException if there is a problem while building the documentation
144      */
145     protected void buildSummary(Content packageContentTree) throws DocletException {
<span class="line-modified">146         Content summariesList = packageWriter.getSummariesList();</span>
147 
<span class="line-modified">148         buildInterfaceSummary(summariesList);</span>
<span class="line-modified">149         buildClassSummary(summariesList);</span>
<span class="line-modified">150         buildEnumSummary(summariesList);</span>
<span class="line-modified">151         buildRecordSummary(summariesList);</span>
<span class="line-modified">152         buildExceptionSummary(summariesList);</span>
<span class="line-modified">153         buildErrorSummary(summariesList);</span>
<span class="line-modified">154         buildAnnotationTypeSummary(summariesList);</span>
155 
<span class="line-modified">156         packageContentTree.add(packageWriter.getPackageSummary(summariesList));</span>
157     }
158 
159     /**
<span class="line-modified">160      * Builds the summary for any interfaces in this package.</span>
161      *
<span class="line-modified">162      * @param summariesList the list of summaries to which the summary will be added</span>

163      */
<span class="line-modified">164     protected void buildInterfaceSummary(Content summariesList) {</span>
165         SortedSet&lt;TypeElement&gt; ilist = utils.isSpecified(packageElement)
166                         ? utils.getTypeElementsAsSortedSet(utils.getInterfaces(packageElement))
167                         : configuration.typeElementCatalog.interfaces(packageElement);
168         SortedSet&lt;TypeElement&gt; interfaces = utils.filterOutPrivateClasses(ilist, options.javafx());
169         if (!interfaces.isEmpty()) {
<span class="line-modified">170             packageWriter.addInterfaceSummary(interfaces, summariesList);</span>
171         }
172     }
173 
174     /**
<span class="line-modified">175      * Builds the summary for any classes in this package.</span>
176      *
<span class="line-modified">177      * @param summariesList the list of summaries to which the summary will be added</span>

178      */
<span class="line-modified">179     protected void buildClassSummary(Content summariesList) {</span>
180         SortedSet&lt;TypeElement&gt; clist = utils.isSpecified(packageElement)
181             ? utils.getTypeElementsAsSortedSet(utils.getOrdinaryClasses(packageElement))
182             : configuration.typeElementCatalog.ordinaryClasses(packageElement);
183         SortedSet&lt;TypeElement&gt; classes = utils.filterOutPrivateClasses(clist, options.javafx());
184         if (!classes.isEmpty()) {
<span class="line-modified">185             packageWriter.addClassSummary(classes, summariesList);</span>
186         }
187     }
188 
189     /**
<span class="line-modified">190      * Builds the summary for the enum types in this package.</span>
191      *
<span class="line-modified">192      * @param summariesList the list of summaries to which the summary will be added</span>

193      */
<span class="line-modified">194     protected void buildEnumSummary(Content summariesList) {</span>
195         SortedSet&lt;TypeElement&gt; elist = utils.isSpecified(packageElement)
196             ? utils.getTypeElementsAsSortedSet(utils.getEnums(packageElement))
197             : configuration.typeElementCatalog.enums(packageElement);
198         SortedSet&lt;TypeElement&gt; enums = utils.filterOutPrivateClasses(elist, options.javafx());
199         if (!enums.isEmpty()) {
<span class="line-modified">200             packageWriter.addEnumSummary(enums, summariesList);</span>
201         }
202     }
203 
204     /**
<span class="line-modified">205      * Builds the summary for any record types in this package.</span>
206      *
<span class="line-modified">207      * @param summariesList the list of summaries to which the summary will be added</span>

208      */
<span class="line-modified">209     protected void buildRecordSummary(Content summariesList) {</span>
210         SortedSet&lt;TypeElement&gt; rlist = utils.isSpecified(packageElement)
211                 ? utils.getTypeElementsAsSortedSet(utils.getRecords(packageElement))
212                 : configuration.typeElementCatalog.records(packageElement);
213         SortedSet&lt;TypeElement&gt; records = utils.filterOutPrivateClasses(rlist, options.javafx());
214         if (!records.isEmpty()) {
<span class="line-modified">215             packageWriter.addRecordSummary(records, summariesList);</span>
216         }
217     }
218 
219     /**
<span class="line-modified">220      * Builds the summary for any exception types in this package.</span>
221      *
<span class="line-modified">222      * @param summariesList the list of summaries to which the summary will be added</span>

223      */
<span class="line-modified">224     protected void buildExceptionSummary(Content summariesList) {</span>
225         Set&lt;TypeElement&gt; iexceptions =
226             utils.isSpecified(packageElement)
227                 ? utils.getTypeElementsAsSortedSet(utils.getExceptions(packageElement))
228                 : configuration.typeElementCatalog.exceptions(packageElement);
229         SortedSet&lt;TypeElement&gt; exceptions = utils.filterOutPrivateClasses(iexceptions,
230                 options.javafx());
231         if (!exceptions.isEmpty()) {
<span class="line-modified">232             packageWriter.addExceptionSummary(exceptions, summariesList);</span>
233         }
234     }
235 
236     /**
<span class="line-modified">237      * Builds the summary for any error types in this package.</span>
238      *
<span class="line-modified">239      * @param summariesList the list of summaries to which the summary will be added</span>

240      */
<span class="line-modified">241     protected void buildErrorSummary(Content summariesList) {</span>
242         Set&lt;TypeElement&gt; ierrors =
243             utils.isSpecified(packageElement)
244                 ? utils.getTypeElementsAsSortedSet(utils.getErrors(packageElement))
245                 : configuration.typeElementCatalog.errors(packageElement);
246         SortedSet&lt;TypeElement&gt; errors = utils.filterOutPrivateClasses(ierrors, options.javafx());
247         if (!errors.isEmpty()) {
<span class="line-modified">248             packageWriter.addErrorSummary(errors, summariesList);</span>
249         }
250     }
251 
252     /**
<span class="line-modified">253      * Builds the summary for any annotation types in this package.</span>
254      *
<span class="line-modified">255      * @param summariesList the list of summaries to which the summary will be added</span>

256      */
<span class="line-modified">257     protected void buildAnnotationTypeSummary(Content summariesList) {</span>
258         SortedSet&lt;TypeElement&gt; iannotationTypes =
259             utils.isSpecified(packageElement)
260                 ? utils.getTypeElementsAsSortedSet(utils.getAnnotationTypes(packageElement))
261                 : configuration.typeElementCatalog.annotationTypes(packageElement);
262         SortedSet&lt;TypeElement&gt; annotationTypes = utils.filterOutPrivateClasses(iannotationTypes,
263                 options.javafx());
264         if (!annotationTypes.isEmpty()) {
<span class="line-modified">265             packageWriter.addAnnotationTypeSummary(annotationTypes, summariesList);</span>
266         }
267     }
268 
269     /**
270      * Build the description of the summary.
271      *
272      * @param packageContentTree the tree to which the package description will
273      *                           be added
274      */
275     protected void buildPackageDescription(Content packageContentTree) {
276         if (options.noComment()) {
277             return;
278         }
279         packageWriter.addPackageDescription(packageContentTree);
280     }
281 
282     /**
283      * Build the tags of the summary.
284      *
285      * @param packageContentTree the tree to which the package tags will be added
</pre>
</td>
</tr>
</table>
<center><a href="ModuleSummaryBuilder.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../resources/stylesheet.css.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>