<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/java/util/Scanner.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="List.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="jar/JarFile.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/util/Scanner.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 426,11 ***</span>
          String radixDigits = digits.substring(0, radix);
          // \\p{javaDigit} is not guaranteed to be appropriate
          // here but what can we do? The final authority will be
          // whatever parse method is invoked, so ultimately the
          // Scanner will do the right thing
<span class="line-modified">!         String digit = &quot;((?i)[&quot;+radixDigits+&quot;]|\\p{javaDigit})&quot;;</span>
          String groupedNumeral = &quot;(&quot;+non0Digit+digit+&quot;?&quot;+digit+&quot;?(&quot;+
                                  groupSeparator+digit+digit+digit+&quot;)+)&quot;;
          // digit++ is the possessive form which is necessary for reducing
          // backtracking that would otherwise cause unacceptable performance
          String numeral = &quot;((&quot;+ digit+&quot;++)|&quot;+groupedNumeral+&quot;)&quot;;
<span class="line-new-header">--- 426,11 ---</span>
          String radixDigits = digits.substring(0, radix);
          // \\p{javaDigit} is not guaranteed to be appropriate
          // here but what can we do? The final authority will be
          // whatever parse method is invoked, so ultimately the
          // Scanner will do the right thing
<span class="line-modified">!         String digit = &quot;((?i)[&quot;+radixDigits+&quot;\\p{javaDigit}])&quot;;</span>
          String groupedNumeral = &quot;(&quot;+non0Digit+digit+&quot;?&quot;+digit+&quot;?(&quot;+
                                  groupSeparator+digit+digit+digit+&quot;)+)&quot;;
          // digit++ is the possessive form which is necessary for reducing
          // backtracking that would otherwise cause unacceptable performance
          String numeral = &quot;((&quot;+ digit+&quot;++)|&quot;+groupedNumeral+&quot;)&quot;;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 476,11 ***</span>
       */
      private Pattern floatPattern;
      private Pattern decimalPattern;
      private void buildFloatAndDecimalPattern() {
          // \\p{javaDigit} may not be perfect, see above
<span class="line-modified">!         String digit = &quot;([0-9]|(\\p{javaDigit}))&quot;;</span>
          String exponent = &quot;([eE][+-]?&quot;+digit+&quot;+)?&quot;;
          String groupedNumeral = &quot;(&quot;+non0Digit+digit+&quot;?&quot;+digit+&quot;?(&quot;+
                                  groupSeparator+digit+digit+digit+&quot;)+)&quot;;
          // Once again digit++ is used for performance, as above
          String numeral = &quot;((&quot;+digit+&quot;++)|&quot;+groupedNumeral+&quot;)&quot;;
<span class="line-new-header">--- 476,11 ---</span>
       */
      private Pattern floatPattern;
      private Pattern decimalPattern;
      private void buildFloatAndDecimalPattern() {
          // \\p{javaDigit} may not be perfect, see above
<span class="line-modified">!         String digit = &quot;(([0-9\\p{javaDigit}]))&quot;;</span>
          String exponent = &quot;([eE][+-]?&quot;+digit+&quot;+)?&quot;;
          String groupedNumeral = &quot;(&quot;+non0Digit+digit+&quot;?&quot;+digit+&quot;?(&quot;+
                                  groupSeparator+digit+digit+digit+&quot;)+)&quot;;
          // Once again digit++ is used for performance, as above
          String numeral = &quot;((&quot;+digit+&quot;++)|&quot;+groupedNumeral+&quot;)&quot;;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1287,29 ***</span>
              df = new DecimalFormat(all[0], dfs);
          }
  
          // These must be literalized to avoid collision with regex
          // metacharacters such as dot or parenthesis
<span class="line-modified">!         groupSeparator =   &quot;\\&quot; + dfs.getGroupingSeparator();</span>
<span class="line-modified">!         decimalSeparator = &quot;\\&quot; + dfs.getDecimalSeparator();</span>
  
          // Quoting the nonzero length locale-specific things
          // to avoid potential conflict with metacharacters
<span class="line-modified">!         nanString = &quot;\\Q&quot; + dfs.getNaN() + &quot;\\E&quot;;</span>
<span class="line-modified">!         infinityString = &quot;\\Q&quot; + dfs.getInfinity() + &quot;\\E&quot;;</span>
          positivePrefix = df.getPositivePrefix();
          if (!positivePrefix.isEmpty())
<span class="line-modified">!             positivePrefix = &quot;\\Q&quot; + positivePrefix + &quot;\\E&quot;;</span>
          negativePrefix = df.getNegativePrefix();
          if (!negativePrefix.isEmpty())
<span class="line-modified">!             negativePrefix = &quot;\\Q&quot; + negativePrefix + &quot;\\E&quot;;</span>
          positiveSuffix = df.getPositiveSuffix();
          if (!positiveSuffix.isEmpty())
<span class="line-modified">!             positiveSuffix = &quot;\\Q&quot; + positiveSuffix + &quot;\\E&quot;;</span>
          negativeSuffix = df.getNegativeSuffix();
          if (!negativeSuffix.isEmpty())
<span class="line-modified">!             negativeSuffix = &quot;\\Q&quot; + negativeSuffix + &quot;\\E&quot;;</span>
  
          // Force rebuilding and recompilation of locale dependent
          // primitive patterns
          integerPattern = null;
          floatPattern = null;
<span class="line-new-header">--- 1287,29 ---</span>
              df = new DecimalFormat(all[0], dfs);
          }
  
          // These must be literalized to avoid collision with regex
          // metacharacters such as dot or parenthesis
<span class="line-modified">!         groupSeparator =   &quot;\\x{&quot; + Integer.toHexString(dfs.getGroupingSeparator()) + &quot;}&quot;;</span>
<span class="line-modified">!         decimalSeparator = &quot;\\x{&quot; + Integer.toHexString(dfs.getDecimalSeparator()) + &quot;}&quot;;</span>
  
          // Quoting the nonzero length locale-specific things
          // to avoid potential conflict with metacharacters
<span class="line-modified">!         nanString = Pattern.quote(dfs.getNaN());</span>
<span class="line-modified">!         infinityString = Pattern.quote(dfs.getInfinity());</span>
          positivePrefix = df.getPositivePrefix();
          if (!positivePrefix.isEmpty())
<span class="line-modified">!             positivePrefix = Pattern.quote(positivePrefix);</span>
          negativePrefix = df.getNegativePrefix();
          if (!negativePrefix.isEmpty())
<span class="line-modified">!             negativePrefix = Pattern.quote(negativePrefix);</span>
          positiveSuffix = df.getPositiveSuffix();
          if (!positiveSuffix.isEmpty())
<span class="line-modified">!             positiveSuffix = Pattern.quote(positiveSuffix);</span>
          negativeSuffix = df.getNegativeSuffix();
          if (!negativeSuffix.isEmpty())
<span class="line-modified">!             negativeSuffix = Pattern.quote(negativeSuffix);</span>
  
          // Force rebuilding and recompilation of locale dependent
          // primitive patterns
          integerPattern = null;
          floatPattern = null;
</pre>
<center><a href="List.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="jar/JarFile.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>