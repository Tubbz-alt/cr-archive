<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/com/sun/crypto/provider/KeyGeneratorCore.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="JceKeyStore.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="KeyProtector.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/com/sun/crypto/provider/KeyGeneratorCore.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 2003, 2018, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 2003, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 103,14 ***</span>
          byte[] b = new byte[(keySize + 7) &gt;&gt; 3];
          random.nextBytes(b);
          return new SecretKeySpec(b, name);
      }
  
<span class="line-modified">!     // nested static classes for the HmacSHA-2 family of key generator</span>
<span class="line-modified">!     abstract static class HmacSHA2KG extends KeyGeneratorSpi {</span>
          private final KeyGeneratorCore core;
<span class="line-modified">!         protected HmacSHA2KG(String algoName, int len) {</span>
              core = new KeyGeneratorCore(algoName, len);
          }
          @Override
          protected void engineInit(SecureRandom random) {
              core.implInit(random);
<span class="line-new-header">--- 103,14 ---</span>
          byte[] b = new byte[(keySize + 7) &gt;&gt; 3];
          random.nextBytes(b);
          return new SecretKeySpec(b, name);
      }
  
<span class="line-modified">!     // nested static classes for the Hmac key generator</span>
<span class="line-modified">!     abstract static class HmacKG extends KeyGeneratorSpi {</span>
          private final KeyGeneratorCore core;
<span class="line-modified">!         protected HmacKG(String algoName, int len) {</span>
              core = new KeyGeneratorCore(algoName, len);
          }
          @Override
          protected void engineInit(SecureRandom random) {
              core.implInit(random);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 127,30 ***</span>
          @Override
          protected SecretKey engineGenerateKey() {
              return core.implGenerateKey();
          }
  
<span class="line-modified">!         public static final class SHA224 extends HmacSHA2KG {</span>
              public SHA224() {
                  super(&quot;HmacSHA224&quot;, 224);
              }
          }
<span class="line-modified">!         public static final class SHA256 extends HmacSHA2KG {</span>
              public SHA256() {
                  super(&quot;HmacSHA256&quot;, 256);
              }
          }
<span class="line-modified">!         public static final class SHA384 extends HmacSHA2KG {</span>
              public SHA384() {
                  super(&quot;HmacSHA384&quot;, 384);
              }
          }
<span class="line-modified">!         public static final class SHA512 extends HmacSHA2KG {</span>
              public SHA512() {
                  super(&quot;HmacSHA512&quot;, 512);
              }
          }
      }
  
      // nested static class for the RC2 key generator
      public static final class RC2KeyGenerator extends KeyGeneratorSpi {
          private final KeyGeneratorCore core;
<span class="line-new-header">--- 127,60 ---</span>
          @Override
          protected SecretKey engineGenerateKey() {
              return core.implGenerateKey();
          }
  
<span class="line-modified">!         public static final class SHA224 extends HmacKG {</span>
              public SHA224() {
                  super(&quot;HmacSHA224&quot;, 224);
              }
          }
<span class="line-modified">!         public static final class SHA256 extends HmacKG {</span>
              public SHA256() {
                  super(&quot;HmacSHA256&quot;, 256);
              }
          }
<span class="line-modified">!         public static final class SHA384 extends HmacKG {</span>
              public SHA384() {
                  super(&quot;HmacSHA384&quot;, 384);
              }
          }
<span class="line-modified">!         public static final class SHA512 extends HmacKG {</span>
              public SHA512() {
                  super(&quot;HmacSHA512&quot;, 512);
              }
          }
<span class="line-added">+         public static final class SHA512_224 extends HmacKG {</span>
<span class="line-added">+             public SHA512_224() {</span>
<span class="line-added">+                 super(&quot;HmacSHA512/224&quot;, 224);</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         public static final class SHA512_256 extends HmacKG {</span>
<span class="line-added">+             public SHA512_256() {</span>
<span class="line-added">+                 super(&quot;HmacSHA512/256&quot;, 256);</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         public static final class SHA3_224 extends HmacKG {</span>
<span class="line-added">+             public SHA3_224() {</span>
<span class="line-added">+                 super(&quot;HmacSHA3-224&quot;, 224);</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         public static final class SHA3_256 extends HmacKG {</span>
<span class="line-added">+             public SHA3_256() {</span>
<span class="line-added">+                 super(&quot;HmacSHA3-256&quot;, 256);</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         public static final class SHA3_384 extends HmacKG {</span>
<span class="line-added">+             public SHA3_384() {</span>
<span class="line-added">+                 super(&quot;HmacSHA3-384&quot;, 384);</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         public static final class SHA3_512 extends HmacKG {</span>
<span class="line-added">+             public SHA3_512() {</span>
<span class="line-added">+                 super(&quot;HmacSHA3-512&quot;, 512);</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
      }
  
      // nested static class for the RC2 key generator
      public static final class RC2KeyGenerator extends KeyGeneratorSpi {
          private final KeyGeneratorCore core;
</pre>
<center><a href="JceKeyStore.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="KeyProtector.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>