<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.jfr/share/classes/jdk/jfr/internal/dcmd/DCmdConfigure.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../consumer/RecordedObject.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DCmdDump.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.jfr/share/classes/jdk/jfr/internal/dcmd/DCmdConfigure.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 62      */
 63     public String execute
 64     (
 65             String repositoryPath,
 66             String dumpPath,
 67             Integer stackDepth,
 68             Long globalBufferCount,
 69             Long globalBufferSize,
 70             Long threadBufferSize,
 71             Long memorySize,
 72             Long maxChunkSize,
 73             Boolean sampleThreads
 74 
 75     ) throws DCmdException {
 76         if (Logger.shouldLog(LogTag.JFR_DCMD, LogLevel.DEBUG)) {
 77             Logger.log(LogTag.JFR_DCMD, LogLevel.DEBUG, &quot;Executing DCmdConfigure: repositorypath=&quot; + repositoryPath +
 78                     &quot;, dumppath=&quot; + dumpPath +
 79                     &quot;, stackdepth=&quot; + stackDepth +
 80                     &quot;, globalbuffercount=&quot; + globalBufferCount +
 81                     &quot;, globalbuffersize=&quot; + globalBufferSize +
<span class="line-modified"> 82                     &quot;, thread_buffer_size&quot; + threadBufferSize +</span>
<span class="line-modified"> 83                     &quot;, memorysize&quot; + memorySize +</span>
 84                     &quot;, maxchunksize=&quot; + maxChunkSize +
<span class="line-modified"> 85                     &quot;, samplethreads&quot; + sampleThreads);</span>
 86         }
 87 
 88 
 89         boolean updated = false;
 90         if (repositoryPath != null) {
 91             try {
 92                 SafePath s = new SafePath(repositoryPath);
 93                 if (FlightRecorder.isInitialized()) {
 94                     PrivateAccess.getInstance().getPlatformRecorder().migrate(s);
 95                 } else {
 96                     Repository.getRepository().setBasePath(s);
 97                 }
 98                 Logger.log(LogTag.JFR, LogLevel.INFO, &quot;Base repository path set to &quot; + repositoryPath);
 99             } catch (Exception e) {
100                 throw new DCmdException(&quot;Could not use &quot; + repositoryPath + &quot; as repository. &quot; + e.getMessage(), e);
101             }
102             printRepositoryPath();
103             updated = true;
104         }
105 
</pre>
</td>
<td>
<hr />
<pre>
 62      */
 63     public String execute
 64     (
 65             String repositoryPath,
 66             String dumpPath,
 67             Integer stackDepth,
 68             Long globalBufferCount,
 69             Long globalBufferSize,
 70             Long threadBufferSize,
 71             Long memorySize,
 72             Long maxChunkSize,
 73             Boolean sampleThreads
 74 
 75     ) throws DCmdException {
 76         if (Logger.shouldLog(LogTag.JFR_DCMD, LogLevel.DEBUG)) {
 77             Logger.log(LogTag.JFR_DCMD, LogLevel.DEBUG, &quot;Executing DCmdConfigure: repositorypath=&quot; + repositoryPath +
 78                     &quot;, dumppath=&quot; + dumpPath +
 79                     &quot;, stackdepth=&quot; + stackDepth +
 80                     &quot;, globalbuffercount=&quot; + globalBufferCount +
 81                     &quot;, globalbuffersize=&quot; + globalBufferSize +
<span class="line-modified"> 82                     &quot;, thread_buffer_size=&quot; + threadBufferSize +</span>
<span class="line-modified"> 83                     &quot;, memorysize=&quot; + memorySize +</span>
 84                     &quot;, maxchunksize=&quot; + maxChunkSize +
<span class="line-modified"> 85                     &quot;, samplethreads=&quot; + sampleThreads);</span>
 86         }
 87 
 88 
 89         boolean updated = false;
 90         if (repositoryPath != null) {
 91             try {
 92                 SafePath s = new SafePath(repositoryPath);
 93                 if (FlightRecorder.isInitialized()) {
 94                     PrivateAccess.getInstance().getPlatformRecorder().migrate(s);
 95                 } else {
 96                     Repository.getRepository().setBasePath(s);
 97                 }
 98                 Logger.log(LogTag.JFR, LogLevel.INFO, &quot;Base repository path set to &quot; + repositoryPath);
 99             } catch (Exception e) {
100                 throw new DCmdException(&quot;Could not use &quot; + repositoryPath + &quot; as repository. &quot; + e.getMessage(), e);
101             }
102             printRepositoryPath();
103             updated = true;
104         }
105 
</pre>
</td>
</tr>
</table>
<center><a href="../../consumer/RecordedObject.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DCmdDump.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>