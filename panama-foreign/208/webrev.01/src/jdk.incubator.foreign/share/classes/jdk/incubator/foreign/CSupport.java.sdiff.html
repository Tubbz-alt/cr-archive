<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.incubator.foreign/share/classes/jdk/incubator/foreign/CSupport.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../internal/foreign/abi/SharedUtils.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.incubator.foreign/share/classes/jdk/incubator/foreign/CSupport.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
156         /**
157          * Returns the memory address of the C {@code va_list} associated with this instance.
158          *
159          * @return the memory address of the C {@code va_list} associated with this instance.
160          */
161         MemoryAddress address();
162 
163         /**
164          * Constructs a new {@code VaList} instance out of a memory address pointing to an existing C {@code va_list}.
165          *
166          * @param address a memory address pointing to an existing C {@code va_list}.
167          * @return a new {@code VaList} instance backed by the C {@code va_list} at {@code address}.
168          */
169         static VaList ofAddress(MemoryAddress address) {
170             return SharedUtils.newVaListOfAddress(address);
171         }
172 
173         /**
174          * Constructs a new {@code VaList} using a builder (see {@link Builder}).
175          *



176          * @param actions a consumer for a builder (see {@link Builder}) which can be used to specify the contents
177          *                of the underlying C {@code va_list}.
178          * @return a new {@code VaList} instance backed by a fresh C {@code va_list}.
179          */
180         static VaList make(Consumer&lt;VaList.Builder&gt; actions) {
181             return SharedUtils.newVaList(actions);
182         }
183 











184         /**
185          * A builder interface used to construct a C {@code va_list}.
186          */
187         interface Builder {
188 
189             /**
190              * Adds a native value represented as an {@code int} to the C {@code va_list} being constructed.
191              *
192              * @param layout the native layout of the value.
193              * @param value the value, represented as an {@code int}.
194              * @return this builder.
195              */
196             Builder vargFromInt(MemoryLayout layout, int value);
197 
198             /**
199              * Adds a native value represented as a {@code long} to the C {@code va_list} being constructed.
200              *
201              * @param layout the native layout of the value.
202              * @param value the value, represented as a {@code long}.
203              * @return this builder.
</pre>
</td>
<td>
<hr />
<pre>
156         /**
157          * Returns the memory address of the C {@code va_list} associated with this instance.
158          *
159          * @return the memory address of the C {@code va_list} associated with this instance.
160          */
161         MemoryAddress address();
162 
163         /**
164          * Constructs a new {@code VaList} instance out of a memory address pointing to an existing C {@code va_list}.
165          *
166          * @param address a memory address pointing to an existing C {@code va_list}.
167          * @return a new {@code VaList} instance backed by the C {@code va_list} at {@code address}.
168          */
169         static VaList ofAddress(MemoryAddress address) {
170             return SharedUtils.newVaListOfAddress(address);
171         }
172 
173         /**
174          * Constructs a new {@code VaList} using a builder (see {@link Builder}).
175          *
<span class="line-added">176          * Note that when there are no arguments added to the created va list,</span>
<span class="line-added">177          * this method will return the same as {@linkplain #empty()}.</span>
<span class="line-added">178          *</span>
179          * @param actions a consumer for a builder (see {@link Builder}) which can be used to specify the contents
180          *                of the underlying C {@code va_list}.
181          * @return a new {@code VaList} instance backed by a fresh C {@code va_list}.
182          */
183         static VaList make(Consumer&lt;VaList.Builder&gt; actions) {
184             return SharedUtils.newVaList(actions);
185         }
186 
<span class="line-added">187         /**</span>
<span class="line-added">188          * Returns an empty C {@code va_list} constant.</span>
<span class="line-added">189          *</span>
<span class="line-added">190          * The returned {@code VaList} can not be closed.</span>
<span class="line-added">191          *</span>
<span class="line-added">192          * @return a {@code VaList} modelling an empty C {@code va_list}.</span>
<span class="line-added">193          */</span>
<span class="line-added">194         static VaList empty() {</span>
<span class="line-added">195             return SharedUtils.emptyVaList();</span>
<span class="line-added">196         }</span>
<span class="line-added">197 </span>
198         /**
199          * A builder interface used to construct a C {@code va_list}.
200          */
201         interface Builder {
202 
203             /**
204              * Adds a native value represented as an {@code int} to the C {@code va_list} being constructed.
205              *
206              * @param layout the native layout of the value.
207              * @param value the value, represented as an {@code int}.
208              * @return this builder.
209              */
210             Builder vargFromInt(MemoryLayout layout, int value);
211 
212             /**
213              * Adds a native value represented as a {@code long} to the C {@code va_list} being constructed.
214              *
215              * @param layout the native layout of the value.
216              * @param value the value, represented as a {@code long}.
217              * @return this builder.
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../internal/foreign/abi/SharedUtils.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>