<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.incubator.foreign/share/classes/jdk/internal/foreign/abi/Binding.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../Utils.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="CallingSequence.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.incubator.foreign/share/classes/jdk/internal/foreign/abi/Binding.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 73  * int* f();
 74  *
 75  * Argument bindings:
 76  * none
 77  *
 78  * Return bindings:
 79  * 0: MOVE(rax, long) // load a &#39;long&#39; from the RAX register
 80  *    CONVERT_ADDRESS // convert the &#39;long&#39; into a &#39;MemoryAddress&#39;
 81  *
 82  * --------------------
 83  *
 84  * typedef struct { // fits into single register
 85  *   int x;
 86  *   int y;
 87  * } MyStruct;
 88  *
 89  * void f(MyStruct ms);
 90  *
 91  * Argument bindings:
 92  * 0: DEREFERENCE(0, long.class) // From the struct&#39;s memory region, load a &#39;long&#39; from offset &#39;0&#39;
<span class="line-modified"> 93  *    MOVE(rcx, long.class) // and copy that into the RCX regitster</span>
 94  *
 95  * Return bindings:
 96  * none
 97  *
 98  * --------------------
 99  *
100  * typedef struct { // does not fit into single register
101  *   long long x;
102  *   long long y;
103  * } MyStruct;
104  *
105  * void f(MyStruct ms);
106  *
107  * For the Windows ABI:
108  *
109  * Argument bindings:
110  * 0: COPY(16, 8) // copy the memory region containing the struct
111  *    BASE_ADDRESS // take the base address of the copy
112  *    CONVERT_ADDRESS // converts the base address to a &#39;long&#39;
113  *    MOVE(rcx, long.class) // moves the &#39;long&#39; into the RCX register
</pre>
</td>
<td>
<hr />
<pre>
 73  * int* f();
 74  *
 75  * Argument bindings:
 76  * none
 77  *
 78  * Return bindings:
 79  * 0: MOVE(rax, long) // load a &#39;long&#39; from the RAX register
 80  *    CONVERT_ADDRESS // convert the &#39;long&#39; into a &#39;MemoryAddress&#39;
 81  *
 82  * --------------------
 83  *
 84  * typedef struct { // fits into single register
 85  *   int x;
 86  *   int y;
 87  * } MyStruct;
 88  *
 89  * void f(MyStruct ms);
 90  *
 91  * Argument bindings:
 92  * 0: DEREFERENCE(0, long.class) // From the struct&#39;s memory region, load a &#39;long&#39; from offset &#39;0&#39;
<span class="line-modified"> 93  *    MOVE(rcx, long.class) // and copy that into the RCX register</span>
 94  *
 95  * Return bindings:
 96  * none
 97  *
 98  * --------------------
 99  *
100  * typedef struct { // does not fit into single register
101  *   long long x;
102  *   long long y;
103  * } MyStruct;
104  *
105  * void f(MyStruct ms);
106  *
107  * For the Windows ABI:
108  *
109  * Argument bindings:
110  * 0: COPY(16, 8) // copy the memory region containing the struct
111  *    BASE_ADDRESS // take the base address of the copy
112  *    CONVERT_ADDRESS // converts the base address to a &#39;long&#39;
113  *    MOVE(rcx, long.class) // moves the &#39;long&#39; into the RCX register
</pre>
</td>
</tr>
</table>
<center><a href="../Utils.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="CallingSequence.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>