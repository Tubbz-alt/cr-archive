<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.incubator.jextract/share/classes/jdk/incubator/jextract/tool/StructBuilder.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="OutputFactory.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../test/jdk/tools/jextract/RepeatedDeclsTest.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.incubator.jextract/share/classes/jdk/incubator/jextract/tool/StructBuilder.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 47         // nested class. containing class has necessary package declaration
 48     }
 49 
 50     @Override
 51     protected void addImportSection() {
 52         // nested class. containing class has necessary imports
 53     }
 54 
 55     @Override
 56     public void classEnd() {
 57         emitSizeof();
 58         emitAllocate();
 59         emitScopeAllocate();
 60         emitAllocateArray();
 61         emitScopeAllocateArray();
 62         super.classEnd();
 63     }
 64 
 65     @Override
 66     public void addLayoutGetter(String javaName, MemoryLayout layout) {
<span class="line-modified"> 67         var desc = constantHelper.addLayout(javaName, layout);</span>
 68         incrAlign();
 69         indent();
 70         sb.append(PUB_MODS + displayName(desc.invocationType().returnType()) + &quot; $LAYOUT() {\n&quot;);
 71         incrAlign();
 72         indent();
 73         sb.append(&quot;return &quot; + getCallString(desc) + &quot;;\n&quot;);
 74         decrAlign();
 75         indent();
 76         sb.append(&quot;}\n&quot;);
 77         decrAlign();
 78     }
 79 
 80     @Override
 81     public void addGetter(String javaName, String nativeName, MemoryLayout layout, Class&lt;?&gt; type, MemoryLayout parentLayout) {
 82         incrAlign();
 83         indent();
 84         sb.append(PUB_MODS + type.getName() + &quot; &quot; + javaName + &quot;$get(MemoryAddress addr) {\n&quot;);
 85         incrAlign();
 86         indent();
 87         sb.append(&quot;return (&quot; + type.getName() + &quot;)&quot;
</pre>
</td>
<td>
<hr />
<pre>
 47         // nested class. containing class has necessary package declaration
 48     }
 49 
 50     @Override
 51     protected void addImportSection() {
 52         // nested class. containing class has necessary imports
 53     }
 54 
 55     @Override
 56     public void classEnd() {
 57         emitSizeof();
 58         emitAllocate();
 59         emitScopeAllocate();
 60         emitAllocateArray();
 61         emitScopeAllocateArray();
 62         super.classEnd();
 63     }
 64 
 65     @Override
 66     public void addLayoutGetter(String javaName, MemoryLayout layout) {
<span class="line-modified"> 67         var desc = constantHelper.addLayout(javaName + &quot;$struct&quot;, layout);</span>
 68         incrAlign();
 69         indent();
 70         sb.append(PUB_MODS + displayName(desc.invocationType().returnType()) + &quot; $LAYOUT() {\n&quot;);
 71         incrAlign();
 72         indent();
 73         sb.append(&quot;return &quot; + getCallString(desc) + &quot;;\n&quot;);
 74         decrAlign();
 75         indent();
 76         sb.append(&quot;}\n&quot;);
 77         decrAlign();
 78     }
 79 
 80     @Override
 81     public void addGetter(String javaName, String nativeName, MemoryLayout layout, Class&lt;?&gt; type, MemoryLayout parentLayout) {
 82         incrAlign();
 83         indent();
 84         sb.append(PUB_MODS + type.getName() + &quot; &quot; + javaName + &quot;$get(MemoryAddress addr) {\n&quot;);
 85         incrAlign();
 86         indent();
 87         sb.append(&quot;return (&quot; + type.getName() + &quot;)&quot;
</pre>
</td>
</tr>
</table>
<center><a href="OutputFactory.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../test/jdk/tools/jextract/RepeatedDeclsTest.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>