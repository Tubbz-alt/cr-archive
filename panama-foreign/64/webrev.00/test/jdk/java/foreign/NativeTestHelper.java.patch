diff a/test/jdk/java/foreign/NativeTestHelper.java b/test/jdk/java/foreign/NativeTestHelper.java
--- a/test/jdk/java/foreign/NativeTestHelper.java
+++ b/test/jdk/java/foreign/NativeTestHelper.java
@@ -36,11 +36,11 @@
 public class NativeTestHelper {
 
     public static final SystemABI ABI = Foreign.getInstance().getSystemABI();
 
     public static boolean isIntegral(MemoryLayout layout) {
-        var optAbiType = layout.abiType();
+        var optAbiType = layout.attribute(SystemABI.NATIVE_TYPE, SystemABI.Type.class);
         if (!optAbiType.isPresent()) {
             return false;
         }
         return switch(optAbiType.get()) {
             case BOOL, UNSIGNED_CHAR, SIGNED_CHAR, CHAR, SHORT, UNSIGNED_SHORT,
@@ -48,11 +48,12 @@
             default -> false;
         };
     }
 
     public static boolean isPointer(MemoryLayout layout) {
-        return layout.abiType().filter(Predicate.isEqual(Type.POINTER)).isPresent();
+        return layout.attribute(SystemABI.NATIVE_TYPE, SystemABI.Type.class)
+                     .filter(Predicate.isEqual(Type.POINTER)).isPresent();
     }
 
     public static ValueLayout asVarArg(ValueLayout layout) {
         return ABI.name().equals(ABI_WINDOWS) ? WinABI.asVarArg(layout) : layout;
     }
