<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/autoconf/lib-clang.m4</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../index.html" target="_top">index</a> next &gt;</center>    <h2>make/autoconf/lib-clang.m4</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
146     if test &quot;x$ENABLE_LIBCLANG&quot; = &quot;xtrue&quot;; then
147       if test &quot;x$TOOLCHAIN_TYPE&quot; = &quot;xmicrosoft&quot; || test &quot;x$COMPILE_TYPE&quot; = &quot;xcross&quot;; then
148         # Just trust the lib is there
149         LIBS=$LIBCLANG_LIBS
150       else
151         AC_CHECK_LIB(clang, clang_getClangVersion, [], [ENABLE_LIBCLANG=&quot;false&quot;])
152       fi
153     fi
154 
155     CXX=$OLD_CXX
156     CXXCPP=$OLD_CXXCPP
157 
158     if test &quot;x$ENABLE_LIBCLANG&quot; = &quot;xfalse&quot;; then
159       if test &quot;x$ENABLE_LIBCLANG_FORCED&quot; = &quot;xtrue&quot;; then
160         AC_MSG_ERROR([Cannot locate libclang or headers at the specified locations:
161             $CLANG_LIB_PATH
162             $CLANG_INCLUDE_PATH])
163       else
164         AC_MSG_CHECKING([if libclang should be enabled])
165         AC_MSG_RESULT([no, not found])
<span class="line-modified">166         AC_MSG_NOTICE([Cannot locate libclang! You can download pre-built llvm</span>
167             binary from http://llvm.org/releases/download.html, then specify the
168             location using --with-libclang])
169       fi
170     fi
171 
172     LIBCLANG_LIBS=&quot;$LIBS&quot;
173 
174     LIBS=&quot;$OLD_LIBS&quot;
175     LDFLAGS=&quot;$OLD_LDFLAGS&quot;
176     CPPFLAGS=&quot;$OLD_CPPFLAGS&quot;
177   fi
178 
179   if test &quot;x$ENABLE_LIBCLANG&quot; = &quot;xfalse&quot;; then
180     CLANG_INCLUDE_PATH=&quot;&quot;
181     CLANG_INCLUDE_AUX_PATH=&quot;&quot;
182     CLANG_LIB_PATH=&quot;&quot;
183     LIBCLANG_CPPFLAGS=&quot;&quot;
184     LIBCLANG_LDFLAGS=&quot;&quot;
185     LIBCLANG_LIBS=&quot;&quot;
186   else
</pre>
</td>
<td>
<hr />
<pre>
146     if test &quot;x$ENABLE_LIBCLANG&quot; = &quot;xtrue&quot;; then
147       if test &quot;x$TOOLCHAIN_TYPE&quot; = &quot;xmicrosoft&quot; || test &quot;x$COMPILE_TYPE&quot; = &quot;xcross&quot;; then
148         # Just trust the lib is there
149         LIBS=$LIBCLANG_LIBS
150       else
151         AC_CHECK_LIB(clang, clang_getClangVersion, [], [ENABLE_LIBCLANG=&quot;false&quot;])
152       fi
153     fi
154 
155     CXX=$OLD_CXX
156     CXXCPP=$OLD_CXXCPP
157 
158     if test &quot;x$ENABLE_LIBCLANG&quot; = &quot;xfalse&quot;; then
159       if test &quot;x$ENABLE_LIBCLANG_FORCED&quot; = &quot;xtrue&quot;; then
160         AC_MSG_ERROR([Cannot locate libclang or headers at the specified locations:
161             $CLANG_LIB_PATH
162             $CLANG_INCLUDE_PATH])
163       else
164         AC_MSG_CHECKING([if libclang should be enabled])
165         AC_MSG_RESULT([no, not found])
<span class="line-modified">166         AC_MSG_ERROR([Cannot locate libclang! You can download pre-built llvm</span>
167             binary from http://llvm.org/releases/download.html, then specify the
168             location using --with-libclang])
169       fi
170     fi
171 
172     LIBCLANG_LIBS=&quot;$LIBS&quot;
173 
174     LIBS=&quot;$OLD_LIBS&quot;
175     LDFLAGS=&quot;$OLD_LDFLAGS&quot;
176     CPPFLAGS=&quot;$OLD_CPPFLAGS&quot;
177   fi
178 
179   if test &quot;x$ENABLE_LIBCLANG&quot; = &quot;xfalse&quot;; then
180     CLANG_INCLUDE_PATH=&quot;&quot;
181     CLANG_INCLUDE_AUX_PATH=&quot;&quot;
182     CLANG_LIB_PATH=&quot;&quot;
183     LIBCLANG_CPPFLAGS=&quot;&quot;
184     LIBCLANG_LDFLAGS=&quot;&quot;
185     LIBCLANG_LIBS=&quot;&quot;
186   else
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>