<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/CompileJavaModules.gmk</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../index.html" target="_top">index</a> <a href="autoconf/spec.gmk.in.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/CompileJavaModules.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
286 java.xml.crypto_COPY += .dtd .xml
287 java.xml.crypto_CLEAN += .properties
288 
289 ################################################################################
290 
291 jdk.charsets_COPY += .dat
292 
293 ################################################################################
294 
295 ################################################################################
296 
297 jdk.compiler_ADD_JAVAC_FLAGS += -Xdoclint:all/protected \
298     &#39;-Xdoclint/package:-com.sun.tools.*,-jdk.internal.*,sun.tools.serialver.resources.*&#39; \
299     -XDstringConcat=inline
300 jdk.compiler_CLEAN_FILES += $(wildcard \
301     $(patsubst %, $(TOPDIR)/src/jdk.compiler/share/classes/%/*.properties, \
302         sun/tools/serialver/resources))
303 
304 ################################################################################
305 
<span class="line-modified">306 jdk.hotspot.agent_DISABLED_WARNINGS += deprecation rawtypes serial unchecked \</span>
307     cast static overrides fallthrough
308 jdk.hotspot.agent_COPY += .gif .png sa.js .properties
309 
310 ################################################################################
311 
312 jdk.editpad_COPY += .properties
313 
314 ################################################################################
315 
316 jdk.jshell_COPY += .jsh .properties
317 
318 ################################################################################
319 
320 jdk.internal.le_COPY += .properties .caps .txt
321 
322 ################################################################################
323 
324 jdk.internal.opt_COPY += .properties
325 
326 ################################################################################
</pre>
<hr />
<pre>
655 # the modules output dir
656 
657 ifneq ($(wildcard $(IMPORT_MODULE_DIR)), )
658   $(JDK_OUTPUTDIR)/modules/$(MODULE)/_imported.marker: \
659       $(call FindFiles, $(IMPORT_MODULE_DIR))
660 	$(call MakeDir, $(@D))
661         # Do not delete marker and build meta data files
662 	$(RM) -r $(filter-out $(@D)/_%, $(wildcard $(@D)/*))
663 	$(CP) -R $(IMPORT_MODULE_DIR)/* $(@D)/
664 	$(TOUCH) $@
665 
666   TARGETS += $(JDK_OUTPUTDIR)/modules/$(MODULE)/_imported.marker
667 
668   # Add this dependency to avoid a race between compiling module-info.java and
669   # importing the classes.
670   $($(MODULE)_COMPILE_TARGET): $(JDK_OUTPUTDIR)/modules/$(MODULE)/_imported.marker
671 endif
672 
673 ################################################################################
674 
<span class="line-removed">675 ifeq ($(MODULE), jdk.scripting.nashorn)</span>
<span class="line-removed">676   include CompileJavaModulesNashorn.gmk</span>
<span class="line-removed">677 endif</span>
<span class="line-removed">678 </span>
<span class="line-removed">679 ################################################################################</span>
<span class="line-removed">680 </span>
681 $(eval $(call IncludeCustomExtension, CompileJavaModules-post.gmk))
682 
683 ################################################################################
684 
685 all: $(TARGETS)
686 
687 .PHONY: all
</pre>
</td>
<td>
<hr />
<pre>
286 java.xml.crypto_COPY += .dtd .xml
287 java.xml.crypto_CLEAN += .properties
288 
289 ################################################################################
290 
291 jdk.charsets_COPY += .dat
292 
293 ################################################################################
294 
295 ################################################################################
296 
297 jdk.compiler_ADD_JAVAC_FLAGS += -Xdoclint:all/protected \
298     &#39;-Xdoclint/package:-com.sun.tools.*,-jdk.internal.*,sun.tools.serialver.resources.*&#39; \
299     -XDstringConcat=inline
300 jdk.compiler_CLEAN_FILES += $(wildcard \
301     $(patsubst %, $(TOPDIR)/src/jdk.compiler/share/classes/%/*.properties, \
302         sun/tools/serialver/resources))
303 
304 ################################################################################
305 
<span class="line-modified">306 jdk.hotspot.agent_DISABLED_WARNINGS += rawtypes serial unchecked \</span>
307     cast static overrides fallthrough
308 jdk.hotspot.agent_COPY += .gif .png sa.js .properties
309 
310 ################################################################################
311 
312 jdk.editpad_COPY += .properties
313 
314 ################################################################################
315 
316 jdk.jshell_COPY += .jsh .properties
317 
318 ################################################################################
319 
320 jdk.internal.le_COPY += .properties .caps .txt
321 
322 ################################################################################
323 
324 jdk.internal.opt_COPY += .properties
325 
326 ################################################################################
</pre>
<hr />
<pre>
655 # the modules output dir
656 
657 ifneq ($(wildcard $(IMPORT_MODULE_DIR)), )
658   $(JDK_OUTPUTDIR)/modules/$(MODULE)/_imported.marker: \
659       $(call FindFiles, $(IMPORT_MODULE_DIR))
660 	$(call MakeDir, $(@D))
661         # Do not delete marker and build meta data files
662 	$(RM) -r $(filter-out $(@D)/_%, $(wildcard $(@D)/*))
663 	$(CP) -R $(IMPORT_MODULE_DIR)/* $(@D)/
664 	$(TOUCH) $@
665 
666   TARGETS += $(JDK_OUTPUTDIR)/modules/$(MODULE)/_imported.marker
667 
668   # Add this dependency to avoid a race between compiling module-info.java and
669   # importing the classes.
670   $($(MODULE)_COMPILE_TARGET): $(JDK_OUTPUTDIR)/modules/$(MODULE)/_imported.marker
671 endif
672 
673 ################################################################################
674 






675 $(eval $(call IncludeCustomExtension, CompileJavaModules-post.gmk))
676 
677 ################################################################################
678 
679 all: $(TARGETS)
680 
681 .PHONY: all
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../index.html" target="_top">index</a> <a href="autoconf/spec.gmk.in.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>