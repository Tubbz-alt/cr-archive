<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/jdk/internal/jrtfs/Basic.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../../../javax/swing/MultiUIDefaults/4300666/bug4300666.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../nio/zipfs/testng/test/ChannelTests.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/jdk/internal/jrtfs/Basic.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
590         Path p = fs.getPath(path);
591         assertTrue(Files.exists(p), path);
592         assertTrue(!(pm.matches(p) ^ expectMatch),
593             p + (expectMatch? &quot; should match &quot; : &quot; should not match &quot;) +
594             pattern);
595     }
596 
597     @Test
598     public void testPackagesAndModules() throws Exception {
599         FileSystem fs = FileSystems.getFileSystem(URI.create(&quot;jrt:/&quot;));
600         assertTrue(Files.isDirectory(fs.getPath(&quot;/packages&quot;)));
601         assertTrue(Files.isDirectory(fs.getPath(&quot;/modules&quot;)));
602     }
603 
604     @DataProvider(name = &quot;packagesSubDirs&quot;)
605     private Object[][] packagesSubDirs() {
606         return new Object[][] {
607             { &quot;java.lang&quot; },
608             { &quot;java.util&quot; },
609             { &quot;java.nio&quot;  },
<span class="line-removed">610             { &quot;jdk.nashorn.api.scripting&quot; }</span>
611         };
612     }
613 
614     @Test(dataProvider = &quot;packagesSubDirs&quot;)
615     public void testPackagesSubDirs(String pkg) throws Exception {
616         FileSystem fs = FileSystems.getFileSystem(URI.create(&quot;jrt:/&quot;));
617         assertTrue(Files.isDirectory(fs.getPath(&quot;/packages/&quot; + pkg)),
618             pkg + &quot; missing&quot;);
619     }
620 
621     @DataProvider(name = &quot;packagesLinks&quot;)
622     private Object[][] packagesLinks() {
623         return new Object[][] {
624             { &quot;/packages/java.lang/java.base&quot; },
625             { &quot;/packages/java.lang/java.instrument&quot; },
626             { &quot;/packages/java/java.base&quot; },
627             { &quot;/packages/java/java.instrument&quot; },
628             { &quot;/packages/java/java.rmi&quot;  },
629             { &quot;/packages/java/java.sql&quot;  },
630             { &quot;/packages/javax/java.base&quot;  },
631             { &quot;/packages/javax/java.sql&quot;  },
632             { &quot;/packages/javax/java.xml&quot;  },
633             { &quot;/packages/javax/java.management&quot;  },
634             { &quot;/packages/java.util/java.base&quot; },
<span class="line-removed">635             { &quot;/packages/jdk.nashorn.api.scripting/jdk.scripting.nashorn&quot; },</span>
636         };
637     }
638 
639     @Test(dataProvider = &quot;packagesLinks&quot;)
640     public void testPackagesLinks(String link) throws Exception {
641         FileSystem fs = FileSystems.getFileSystem(URI.create(&quot;jrt:/&quot;));
642         Path path = fs.getPath(link);
643         assertTrue(Files.exists(path), link + &quot; missing&quot;);
644         assertTrue(Files.isSymbolicLink(path), path + &quot; is not a link&quot;);
645         path = Files.readSymbolicLink(path);
646         assertEquals(path.toString(), &quot;/modules&quot; + link.substring(link.lastIndexOf(&quot;/&quot;)));
647     }
648 
649     @DataProvider(name = &quot;modulesSubDirs&quot;)
650     private Object[][] modulesSubDirs() {
651         return new Object[][] {
652             { &quot;java.base&quot; },
653             { &quot;java.sql&quot; },
<span class="line-removed">654             { &quot;jdk.scripting.nashorn&quot; },</span>
655         };
656     }
657 
658     @Test(dataProvider = &quot;modulesSubDirs&quot;)
659     public void testModulesSubDirs(String module) throws Exception {
660         FileSystem fs = FileSystems.getFileSystem(URI.create(&quot;jrt:/&quot;));
661         Path path = fs.getPath(&quot;/modules/&quot; + module);
662         assertTrue(Files.isDirectory(path), module + &quot; missing&quot;);
663         assertTrue(!Files.isSymbolicLink(path), path + &quot; is a link&quot;);
664     }
665 
666     @DataProvider(name=&quot;linkChases&quot;)
667     private Object[][] linkChases() {
668         return new Object[][] {
669             { &quot;/modules/java.base/java/lang&quot; },
670             { &quot;/modules/java.base/java/util/Vector.class&quot; },
<span class="line-removed">671             { &quot;/modules/jdk.scripting.nashorn/jdk/nashorn&quot; },</span>
672             { &quot;/packages/java.lang/java.base/java/lang&quot; },
673             { &quot;/packages/java.util/java.base/java/util/Vector.class&quot; },
674         };
675     }
676 
677     @Test(dataProvider = &quot;linkChases&quot;)
678     public void testLinkChases(String link) throws Exception {
679         FileSystem fs = FileSystems.getFileSystem(URI.create(&quot;jrt:/&quot;));
680         Path path = fs.getPath(link);
681         assertTrue(Files.exists(path), link);
682     }
683 
684     @Test
685     public void testSymlinkDirList() throws Exception {
686         FileSystem fs = FileSystems.getFileSystem(URI.create(&quot;jrt:/&quot;));
687         Path path = fs.getPath(&quot;/packages/java.lang/java.base&quot;);
688         assertTrue(Files.isSymbolicLink(path));
689         assertTrue(Files.isDirectory(path));
690 
691         boolean javaSeen = false, javaxSeen = false;
</pre>
</td>
<td>
<hr />
<pre>
590         Path p = fs.getPath(path);
591         assertTrue(Files.exists(p), path);
592         assertTrue(!(pm.matches(p) ^ expectMatch),
593             p + (expectMatch? &quot; should match &quot; : &quot; should not match &quot;) +
594             pattern);
595     }
596 
597     @Test
598     public void testPackagesAndModules() throws Exception {
599         FileSystem fs = FileSystems.getFileSystem(URI.create(&quot;jrt:/&quot;));
600         assertTrue(Files.isDirectory(fs.getPath(&quot;/packages&quot;)));
601         assertTrue(Files.isDirectory(fs.getPath(&quot;/modules&quot;)));
602     }
603 
604     @DataProvider(name = &quot;packagesSubDirs&quot;)
605     private Object[][] packagesSubDirs() {
606         return new Object[][] {
607             { &quot;java.lang&quot; },
608             { &quot;java.util&quot; },
609             { &quot;java.nio&quot;  },

610         };
611     }
612 
613     @Test(dataProvider = &quot;packagesSubDirs&quot;)
614     public void testPackagesSubDirs(String pkg) throws Exception {
615         FileSystem fs = FileSystems.getFileSystem(URI.create(&quot;jrt:/&quot;));
616         assertTrue(Files.isDirectory(fs.getPath(&quot;/packages/&quot; + pkg)),
617             pkg + &quot; missing&quot;);
618     }
619 
620     @DataProvider(name = &quot;packagesLinks&quot;)
621     private Object[][] packagesLinks() {
622         return new Object[][] {
623             { &quot;/packages/java.lang/java.base&quot; },
624             { &quot;/packages/java.lang/java.instrument&quot; },
625             { &quot;/packages/java/java.base&quot; },
626             { &quot;/packages/java/java.instrument&quot; },
627             { &quot;/packages/java/java.rmi&quot;  },
628             { &quot;/packages/java/java.sql&quot;  },
629             { &quot;/packages/javax/java.base&quot;  },
630             { &quot;/packages/javax/java.sql&quot;  },
631             { &quot;/packages/javax/java.xml&quot;  },
632             { &quot;/packages/javax/java.management&quot;  },
633             { &quot;/packages/java.util/java.base&quot; },

634         };
635     }
636 
637     @Test(dataProvider = &quot;packagesLinks&quot;)
638     public void testPackagesLinks(String link) throws Exception {
639         FileSystem fs = FileSystems.getFileSystem(URI.create(&quot;jrt:/&quot;));
640         Path path = fs.getPath(link);
641         assertTrue(Files.exists(path), link + &quot; missing&quot;);
642         assertTrue(Files.isSymbolicLink(path), path + &quot; is not a link&quot;);
643         path = Files.readSymbolicLink(path);
644         assertEquals(path.toString(), &quot;/modules&quot; + link.substring(link.lastIndexOf(&quot;/&quot;)));
645     }
646 
647     @DataProvider(name = &quot;modulesSubDirs&quot;)
648     private Object[][] modulesSubDirs() {
649         return new Object[][] {
650             { &quot;java.base&quot; },
651             { &quot;java.sql&quot; },

652         };
653     }
654 
655     @Test(dataProvider = &quot;modulesSubDirs&quot;)
656     public void testModulesSubDirs(String module) throws Exception {
657         FileSystem fs = FileSystems.getFileSystem(URI.create(&quot;jrt:/&quot;));
658         Path path = fs.getPath(&quot;/modules/&quot; + module);
659         assertTrue(Files.isDirectory(path), module + &quot; missing&quot;);
660         assertTrue(!Files.isSymbolicLink(path), path + &quot; is a link&quot;);
661     }
662 
663     @DataProvider(name=&quot;linkChases&quot;)
664     private Object[][] linkChases() {
665         return new Object[][] {
666             { &quot;/modules/java.base/java/lang&quot; },
667             { &quot;/modules/java.base/java/util/Vector.class&quot; },

668             { &quot;/packages/java.lang/java.base/java/lang&quot; },
669             { &quot;/packages/java.util/java.base/java/util/Vector.class&quot; },
670         };
671     }
672 
673     @Test(dataProvider = &quot;linkChases&quot;)
674     public void testLinkChases(String link) throws Exception {
675         FileSystem fs = FileSystems.getFileSystem(URI.create(&quot;jrt:/&quot;));
676         Path path = fs.getPath(link);
677         assertTrue(Files.exists(path), link);
678     }
679 
680     @Test
681     public void testSymlinkDirList() throws Exception {
682         FileSystem fs = FileSystems.getFileSystem(URI.create(&quot;jrt:/&quot;));
683         Path path = fs.getPath(&quot;/packages/java.lang/java.base&quot;);
684         assertTrue(Files.isSymbolicLink(path));
685         assertTrue(Files.isDirectory(path));
686 
687         boolean javaSeen = false, javaxSeen = false;
</pre>
</td>
</tr>
</table>
<center><a href="../../../javax/swing/MultiUIDefaults/4300666/bug4300666.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../nio/zipfs/testng/test/ChannelTests.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>