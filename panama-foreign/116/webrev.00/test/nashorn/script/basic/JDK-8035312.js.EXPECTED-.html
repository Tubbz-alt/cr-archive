<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old test/nashorn/script/basic/JDK-8035312.js.EXPECTED</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
  <body>
    <pre>
  1 *** Freezing
  2 
  3 &gt;&gt;&gt; Push test
  4 Pushing 0 to 1,2,3
  5 	array is now [1,2,3] length is = 3
  6 
  7 class jdk.nashorn.internal.runtime.arrays.FrozenArrayFilter
  8 x.length === 3 (should be 3)
  9 x[3] === undefined (should be 0)
 10 x[4] === undefined (should be undefined)
 11 
 12 &gt;&gt;&gt; Pop test
 13 Popping from 1,2,3
 14 	array is now [1,2,3] length is = 3
 15 
 16 class jdk.nashorn.internal.runtime.arrays.FrozenArrayFilter
 17 Popping from 1,2,3
 18 	array is now [1,2,3] length is = 3
 19 
 20 class jdk.nashorn.internal.runtime.arrays.FrozenArrayFilter
 21 x.length === 3 (should be 3)
 22 x === 1,2,3
 23 Popping from 1,2,3
 24 	array is now [1,2,3] length is = 3
 25 
 26 class jdk.nashorn.internal.runtime.arrays.FrozenArrayFilter
 27 Popping from 1,2,3
 28 	array is now [1,2,3] length is = 3
 29 
 30 class jdk.nashorn.internal.runtime.arrays.FrozenArrayFilter
 31 Popping from 1,2,3
 32 	array is now [1,2,3] length is = 3
 33 
 34 class jdk.nashorn.internal.runtime.arrays.FrozenArrayFilter
 35 Popping from 1,2,3
 36 	array is now [1,2,3] length is = 3
 37 
 38 class jdk.nashorn.internal.runtime.arrays.FrozenArrayFilter
 39 Popping from 1,2,3
 40 	array is now [1,2,3] length is = 3
 41 
 42 class jdk.nashorn.internal.runtime.arrays.FrozenArrayFilter
 43 x.length === 3 (should be 3)
 44 x === 1,2,3
 45 class jdk.nashorn.internal.runtime.arrays.FrozenArrayFilter
 46 
 47 *** Other length not writable issues
 48 
 49 &gt;&gt;&gt; Push test
 50 Pushing 0 to 1,2,3
 51 caught errorTypeError: &quot;length&quot; is not a writable property of [object Array]
 52 	array is now [1,2,3] length is = 3
 53 
 54 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
 55 x.length === 3 (should be 3)
 56 x[3] === 0 (should be 0)
 57 x[4] === undefined (should be undefined)
 58 
 59 &gt;&gt;&gt; Pop test
 60 Popping from 1,2,3
 61 	array is now [1,2,] length is = 3
 62 
 63 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
 64 Popping from 1,2,
 65 	array is now [1,2,] length is = 3
 66 
 67 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
 68 x.length === 3 (should be 3)
 69 x === 1,2,
 70 Popping from 1,2,
 71 	array is now [1,2,] length is = 3
 72 
 73 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
 74 Popping from 1,2,
 75 	array is now [1,2,] length is = 3
 76 
 77 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
 78 Popping from 1,2,
 79 	array is now [1,2,] length is = 3
 80 
 81 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
 82 Popping from 1,2,
 83 	array is now [1,2,] length is = 3
 84 
 85 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
 86 Popping from 1,2,
 87 	array is now [1,2,] length is = 3
 88 
 89 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
 90 x.length === 3 (should be 3)
 91 x === 1,2,
 92 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
 93 Writing 0
 94 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
 95 Writing 1
 96 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
 97 Writing 2
 98 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
 99 
100 array writing 0-3, with 1 stride, array = 0
101 length = 1, but elements are: 0 undefined 2
102 
103 initial length = 1
104 Writing 0
105 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
106 Writing 3
107 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
108 Writing 6
109 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
110 Writing 9
111 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
112 Writing 12
113 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
114 Writing 15
115 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
116 Writing 18
117 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
118 Writing 21
119 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
120 Writing 24
121 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
122 Writing 27
123 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
124 
125 array writing 0-20, with 3 stride, array = 0
126 length = 1, but elements are: 0 undefined undefined
127 0 has length 1
128 
129 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
130 adding a new element high up in the array
131 length before element was added 1
132 putting sparse at 2147483637
133 length after element was added 1 should be the same
134 class jdk.nashorn.internal.runtime.arrays.LengthNotWritableFilter
135 
136 Printing arr2 - this will fail if length is &gt; 28 and it is 1
137 arr2 = [0]
138 new length that should not be writable = 1
139 true
140 sparse
141 0
142 undefined
143 undefined
144 undefined
145 undefined
146 undefined
147 undefined
148 undefined
149 undefined
150 undefined
151 undefined
152 undefined
153 undefined
154 undefined
155 undefined
156 undefined
157 undefined
158 undefined
159 undefined
160 undefined
161 0:0
162 2147483637:sparse
163 Checking if push works for bulkable non bulkable arrays - Setting length property not allowed
164 1 should be 1
165 bar should be bar
166 [bar] should be [bar]
167 1 should STILL be 1
168 bar should be bar
169 baz should be baz
170 [bar] should be [bar]
171 
172 Checking if push works for bulkable non bulkable arrays - Setting length property not allowed
173 1 should be 1
174 bar should be bar
175 [bar] should be [bar]
176 got TypeError when redefining length, as expected
177 
178 Checking if push works for bulkable non bulkable arrays - Setting length property not allowed
179 1 should be 1
180 bar should be bar
181 [bar] should be [bar]
182 2 should be 2
183 bar should be bar
184 baz should be baz
185 [bar,baz] should be [bar,baz]
186 Done
    </pre>
  </body>
</html>