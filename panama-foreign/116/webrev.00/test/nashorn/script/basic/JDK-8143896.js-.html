<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old test/nashorn/script/basic/JDK-8143896.js</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (c) 2016, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  * 
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  * 
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  * 
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  * 
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
 23 
 24 /**
 25  * JDK-8143896: java.lang.Long is implicitly converted to double
 26  *
 27  * @test
 28  * @run
 29  */
 30 
 31 Assert.assertTrue(java.lang.Long.valueOf(&quot;301077366599181567&quot;).toString() === &quot;301077366599181567&quot;);
 32 Assert.assertTrue(java.lang.Long.valueOf(&quot;-301077366599181567&quot;).toString() === &quot;-301077366599181567&quot;);
 33 Assert.assertTrue(java.lang.Long.valueOf(&quot;301077366599181567&quot;) == 301077366599181567);
 34 Assert.assertFalse(java.lang.Long.valueOf(&quot;301077366599181567&quot;) === 301077366599181567);
 35 
 36 Assert.assertTrue(new java.math.BigInteger(&quot;301077366599181567&quot;).toString() === &quot;301077366599181567&quot;);
 37 Assert.assertTrue(new java.math.BigInteger(&quot;-301077366599181567&quot;).toString() === &quot;-301077366599181567&quot;);
 38 Assert.assertTrue(new java.math.BigInteger(&quot;301077366599181567&quot;) == 301077366599181567);
 39 Assert.assertFalse(new java.math.BigInteger(&quot;301077366599181567&quot;) === 301077366599181567);
 40 
 41 
 42 var n = new java.lang.Byte(&quot;123&quot;);
 43 Assert.assertTrue(typeof n === &quot;number&quot;);
 44 Assert.assertTrue(n + 1 === 124);
 45 Assert.assertTrue(n == 123);
 46 Assert.assertTrue(n === 123);
 47 
 48 n = new java.lang.Short(&quot;123&quot;);
 49 Assert.assertTrue(typeof n === &quot;number&quot;);
 50 Assert.assertTrue(n + 1 === 124);
 51 Assert.assertTrue(n == 123);
 52 Assert.assertTrue(n === 123);
 53 
 54 n = new java.lang.Integer(&quot;123&quot;);
 55 Assert.assertTrue(typeof n === &quot;number&quot;);
 56 Assert.assertTrue(n + 1 === 124);
 57 Assert.assertTrue(n == 123);
 58 Assert.assertTrue(n === 123);
 59 
 60 n = new java.lang.Float(&quot;123&quot;);
 61 Assert.assertTrue(typeof n === &quot;number&quot;);
 62 Assert.assertTrue(n + 1 === 124);
 63 Assert.assertTrue(n == 123);
 64 Assert.assertTrue(n === 123);
 65 
 66 n = new java.lang.Double(&quot;123&quot;);
 67 Assert.assertTrue(typeof n === &quot;number&quot;);
 68 Assert.assertTrue(n + 1 === 124);
 69 Assert.assertTrue(n == 123);
 70 Assert.assertTrue(n === 123);
 71 
 72 n = new java.lang.Long(&quot;123&quot;);
 73 Assert.assertTrue(typeof n === &quot;object&quot;);
 74 Assert.assertTrue(n + 1 === 124);
 75 Assert.assertTrue(n == 123);
 76 Assert.assertFalse(n === 123);
 77 
 78 n = new java.util.concurrent.atomic.DoubleAdder();
 79 n.add(&quot;123&quot;);
 80 Assert.assertTrue(typeof n === &quot;object&quot;);
 81 Assert.assertTrue(n + 1 === 124);
 82 Assert.assertTrue(n == 123);
 83 Assert.assertFalse(n === 123);
 84 
 85 n = new java.util.concurrent.atomic.AtomicInteger(123);
 86 Assert.assertTrue(typeof n === &quot;object&quot;);
 87 Assert.assertTrue(n + 1 === 124);
 88 Assert.assertTrue(n == 123);
 89 Assert.assertFalse(n === 123);
 90 
 91 n = new java.util.concurrent.atomic.AtomicLong(123);
 92 Assert.assertTrue(typeof n === &quot;object&quot;);
 93 Assert.assertTrue(n + 1 === 124);
 94 Assert.assertTrue(n == 123);
 95 Assert.assertFalse(n === 123);
 96 
 97 n = new java.math.BigInteger(&quot;123&quot;);
 98 Assert.assertTrue(typeof n === &quot;object&quot;);
 99 Assert.assertTrue(n + 1 === 124);
100 Assert.assertTrue(n == 123);
101 Assert.assertFalse(n === 123);
102 
103 n = new java.math.BigDecimal(&quot;123&quot;);
104 Assert.assertTrue(typeof n === &quot;object&quot;);
105 Assert.assertTrue(n + 1 === 124);
106 Assert.assertTrue(n == 123);
107 Assert.assertFalse(n === 123);
    </pre>
  </body>
</html>