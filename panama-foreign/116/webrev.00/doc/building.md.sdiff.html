<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff doc/building.md</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center><a href="building.html.sdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="../make/CompileJavaModules.gmk.sdiff.html" target="_top">next &gt;</a></center>    <h2>doc/building.md</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 801 Apart from the default target, here are some common make targets:
 802 
 803   * `hotspot` - Build all of hotspot (but only hotspot)
 804   * `hotspot-&lt;variant&gt;` - Build just the specified jvm variant
 805   * `images` or `product-images` - Build the JDK image
 806   * `docs` or `docs-image` - Build the documentation image
 807   * `test-image` - Build the test image
 808   * `all` or `all-images` - Build all images (product, docs and test)
 809   * `bootcycle-images` - Build images twice, second time with newly built JDK
 810     (good for testing)
 811   * `clean` - Remove all files generated by make, but not those generated by
 812     configure
 813   * `dist-clean` - Remove all files, including configuration
 814 
 815 Run `make help` to get an up-to-date list of important make targets and make
 816 control variables.
 817 
 818 It is possible to build just a single module, a single phase, or a single phase
 819 of a single module, by creating make targets according to these followin
 820 patterns. A phase can be either of `gensrc`, `gendata`, `copy`, `java`,
<span class="line-modified"> 821 `launchers`, `libs` or `rmic`. See [Using Fine-Grained Make Targets](</span>
 822 #using-fine-grained-make-targets) for more details about this functionality.
 823 
 824   * `&lt;phase&gt;` - Build the specified phase and everything it depends on
 825   * `&lt;module&gt;` - Build the specified module and everything it depends on
 826   * `&lt;module&gt;-&lt;phase&gt;` - Compile the specified phase for the specified module
 827     and everything it depends on
 828 
 829 Similarly, it is possible to clean just a part of the build by creating make
 830 targets according to these patterns:
 831 
 832   * `clean-&lt;outputdir&gt;` - Remove the subdir in the output dir with the name
 833   * `clean-&lt;phase&gt;` - Remove all build results related to a certain build
 834     phase
 835   * `clean-&lt;module&gt;` - Remove all build results related to a certain module
 836   * `clean-&lt;module&gt;-&lt;phase&gt;` - Remove all build results related to a certain
 837     module and phase
 838 
 839 ### Make Control Variables
 840 
 841 It is possible to control `make` behavior by overriding the value of `make`
</pre>
<hr />
<pre>
1602 module, by giving it as make target: `make jdk.jdwp.agent`. If the specified
1603 module depends on other modules (e.g. `java.base`), those modules will be built
1604 first.
1605 
1606 You can also specify a set of modules, just as you can always specify a set of
1607 make targets: `make jdk.crypto.cryptoki jdk.crypto.ec jdk.crypto.mscapi
1608 jdk.crypto.ucrypto`
1609 
1610 #### Building Individual Module Phases
1611 
1612 The build process for each module is divided into separate phases. Not all
1613 modules need all phases. Which are needed depends on what kind of source code
1614 and other artifact the module consists of. The phases are:
1615 
1616   * `gensrc` (Generate source code to compile)
1617   * `gendata` (Generate non-source code artifacts)
1618   * `copy` (Copy resource artifacts)
1619   * `java` (Compile Java code)
1620   * `launchers` (Compile native executables)
1621   * `libs` (Compile native libraries)
<span class="line-removed">1622   * `rmic` (Run the `rmic` tool)</span>
1623 
1624 You can build only a single phase for a module by using the notation
1625 `$MODULE-$PHASE`. For instance, to build the `gensrc` phase for `java.base`,
1626 use `make java.base-gensrc`.
1627 
1628 Note that some phases may depend on others, e.g. `java` depends on `gensrc` (if
1629 present). Make will build all needed prerequisites before building the
1630 requested phase.
1631 
1632 #### Skipping the Dependency Check
1633 
1634 When using an iterative development style with frequent quick rebuilds, the
1635 dependency check made by make can take up a significant portion of the time
1636 spent on the rebuild. In such cases, it can be useful to bypass the dependency
1637 check in make.
1638 
1639 &gt; **Note that if used incorrectly, this can lead to a broken build!**
1640 
1641 To achieve this, append `-only` to the build target. For instance, `make
1642 jdk.jdwp.agent-java-only` will *only* build the `java` phase of the
</pre>
</td>
<td>
<hr />
<pre>
 801 Apart from the default target, here are some common make targets:
 802 
 803   * `hotspot` - Build all of hotspot (but only hotspot)
 804   * `hotspot-&lt;variant&gt;` - Build just the specified jvm variant
 805   * `images` or `product-images` - Build the JDK image
 806   * `docs` or `docs-image` - Build the documentation image
 807   * `test-image` - Build the test image
 808   * `all` or `all-images` - Build all images (product, docs and test)
 809   * `bootcycle-images` - Build images twice, second time with newly built JDK
 810     (good for testing)
 811   * `clean` - Remove all files generated by make, but not those generated by
 812     configure
 813   * `dist-clean` - Remove all files, including configuration
 814 
 815 Run `make help` to get an up-to-date list of important make targets and make
 816 control variables.
 817 
 818 It is possible to build just a single module, a single phase, or a single phase
 819 of a single module, by creating make targets according to these followin
 820 patterns. A phase can be either of `gensrc`, `gendata`, `copy`, `java`,
<span class="line-modified"> 821 `launchers`, or `libs`. See [Using Fine-Grained Make Targets](</span>
 822 #using-fine-grained-make-targets) for more details about this functionality.
 823 
 824   * `&lt;phase&gt;` - Build the specified phase and everything it depends on
 825   * `&lt;module&gt;` - Build the specified module and everything it depends on
 826   * `&lt;module&gt;-&lt;phase&gt;` - Compile the specified phase for the specified module
 827     and everything it depends on
 828 
 829 Similarly, it is possible to clean just a part of the build by creating make
 830 targets according to these patterns:
 831 
 832   * `clean-&lt;outputdir&gt;` - Remove the subdir in the output dir with the name
 833   * `clean-&lt;phase&gt;` - Remove all build results related to a certain build
 834     phase
 835   * `clean-&lt;module&gt;` - Remove all build results related to a certain module
 836   * `clean-&lt;module&gt;-&lt;phase&gt;` - Remove all build results related to a certain
 837     module and phase
 838 
 839 ### Make Control Variables
 840 
 841 It is possible to control `make` behavior by overriding the value of `make`
</pre>
<hr />
<pre>
1602 module, by giving it as make target: `make jdk.jdwp.agent`. If the specified
1603 module depends on other modules (e.g. `java.base`), those modules will be built
1604 first.
1605 
1606 You can also specify a set of modules, just as you can always specify a set of
1607 make targets: `make jdk.crypto.cryptoki jdk.crypto.ec jdk.crypto.mscapi
1608 jdk.crypto.ucrypto`
1609 
1610 #### Building Individual Module Phases
1611 
1612 The build process for each module is divided into separate phases. Not all
1613 modules need all phases. Which are needed depends on what kind of source code
1614 and other artifact the module consists of. The phases are:
1615 
1616   * `gensrc` (Generate source code to compile)
1617   * `gendata` (Generate non-source code artifacts)
1618   * `copy` (Copy resource artifacts)
1619   * `java` (Compile Java code)
1620   * `launchers` (Compile native executables)
1621   * `libs` (Compile native libraries)

1622 
1623 You can build only a single phase for a module by using the notation
1624 `$MODULE-$PHASE`. For instance, to build the `gensrc` phase for `java.base`,
1625 use `make java.base-gensrc`.
1626 
1627 Note that some phases may depend on others, e.g. `java` depends on `gensrc` (if
1628 present). Make will build all needed prerequisites before building the
1629 requested phase.
1630 
1631 #### Skipping the Dependency Check
1632 
1633 When using an iterative development style with frequent quick rebuilds, the
1634 dependency check made by make can take up a significant portion of the time
1635 spent on the rebuild. In such cases, it can be useful to bypass the dependency
1636 check in make.
1637 
1638 &gt; **Note that if used incorrectly, this can lead to a broken build!**
1639 
1640 To achieve this, append `-only` to the build target. For instance, `make
1641 jdk.jdwp.agent-java-only` will *only* build the `java` phase of the
</pre>
</td>
</tr>
</table>
<center><a href="building.html.sdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="../make/CompileJavaModules.gmk.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>