<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/autoconf/jdk-options.m4</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="flags-ldflags.m4.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="spec.gmk.in.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/autoconf/jdk-options.m4</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
581 AC_DEFUN([JDKOPT_ENABLE_DISABLE_CDS_ARCHIVE],
582 [
583   UTIL_ARG_ENABLE(NAME: cds-archive, DEFAULT: auto, RESULT: BUILD_CDS_ARCHIVE,
584       DESC: [enable generation of a default CDS archive in the product image],
585       DEFAULT_DESC: [enabled if possible],
586       CHECKING_MSG: [if a default CDS archive should be generated],
587       CHECK_AVAILABLE: [
588         AC_MSG_CHECKING([if CDS archive is available])
589         if test &quot;x$ENABLE_CDS&quot; = &quot;xfalse&quot;; then
590           AC_MSG_RESULT([no (CDS is disabled)])
591           AVAILABLE=false
592         elif test &quot;x$COMPILE_TYPE&quot; = &quot;xcross&quot;; then
593           AC_MSG_RESULT([no (not possible with cross compilation)])
594           AVAILABLE=false
595         else
596           AC_MSG_RESULT([yes])
597         fi
598       ])
599   AC_SUBST(BUILD_CDS_ARCHIVE)
600 ])
































</pre>
</td>
<td>
<hr />
<pre>
581 AC_DEFUN([JDKOPT_ENABLE_DISABLE_CDS_ARCHIVE],
582 [
583   UTIL_ARG_ENABLE(NAME: cds-archive, DEFAULT: auto, RESULT: BUILD_CDS_ARCHIVE,
584       DESC: [enable generation of a default CDS archive in the product image],
585       DEFAULT_DESC: [enabled if possible],
586       CHECKING_MSG: [if a default CDS archive should be generated],
587       CHECK_AVAILABLE: [
588         AC_MSG_CHECKING([if CDS archive is available])
589         if test &quot;x$ENABLE_CDS&quot; = &quot;xfalse&quot;; then
590           AC_MSG_RESULT([no (CDS is disabled)])
591           AVAILABLE=false
592         elif test &quot;x$COMPILE_TYPE&quot; = &quot;xcross&quot;; then
593           AC_MSG_RESULT([no (not possible with cross compilation)])
594           AVAILABLE=false
595         else
596           AC_MSG_RESULT([yes])
597         fi
598       ])
599   AC_SUBST(BUILD_CDS_ARCHIVE)
600 ])
<span class="line-added">601 </span>
<span class="line-added">602 ################################################################################</span>
<span class="line-added">603 #</span>
<span class="line-added">604 # Disallow any output from containing absolute paths from the build system.</span>
<span class="line-added">605 # This setting defaults to allowed on debug builds and not allowed on release</span>
<span class="line-added">606 # builds.</span>
<span class="line-added">607 #</span>
<span class="line-added">608 AC_DEFUN([JDKOPT_ALLOW_ABSOLUTE_PATHS_IN_OUTPUT],</span>
<span class="line-added">609 [</span>
<span class="line-added">610   AC_ARG_ENABLE([absolute-paths-in-output],</span>
<span class="line-added">611       [AS_HELP_STRING([--disable-absolute-paths-in-output],</span>
<span class="line-added">612        [Set to disable to prevent any absolute paths from the build to end up in</span>
<span class="line-added">613         any of the build output. @&lt;:@disabled in release builds, otherwise enabled@:&gt;@])</span>
<span class="line-added">614       ])</span>
<span class="line-added">615 </span>
<span class="line-added">616   AC_MSG_CHECKING([if absolute paths should be allowed in the build output])</span>
<span class="line-added">617   if test &quot;x$enable_absolute_paths_in_output&quot; = &quot;xno&quot;; then</span>
<span class="line-added">618     AC_MSG_RESULT([no, forced])</span>
<span class="line-added">619     ALLOW_ABSOLUTE_PATHS_IN_OUTPUT=&quot;false&quot;</span>
<span class="line-added">620   elif test &quot;x$enable_absolute_paths_in_output&quot; = &quot;xyes&quot;; then</span>
<span class="line-added">621     AC_MSG_RESULT([yes, forced])</span>
<span class="line-added">622     ALLOW_ABSOLUTE_PATHS_IN_OUTPUT=&quot;true&quot;</span>
<span class="line-added">623   elif test &quot;x$DEBUG_LEVEL&quot; = &quot;xrelease&quot;; then</span>
<span class="line-added">624     AC_MSG_RESULT([no, release build])</span>
<span class="line-added">625     ALLOW_ABSOLUTE_PATHS_IN_OUTPUT=&quot;false&quot;</span>
<span class="line-added">626   else</span>
<span class="line-added">627     AC_MSG_RESULT([yes, debug build])</span>
<span class="line-added">628     ALLOW_ABSOLUTE_PATHS_IN_OUTPUT=&quot;true&quot;</span>
<span class="line-added">629   fi</span>
<span class="line-added">630 </span>
<span class="line-added">631   AC_SUBST(ALLOW_ABSOLUTE_PATHS_IN_OUTPUT)</span>
<span class="line-added">632 ])</span>
</pre>
</td>
</tr>
</table>
<center><a href="flags-ldflags.m4.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="spec.gmk.in.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>