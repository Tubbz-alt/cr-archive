<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old make/nashorn/build-nasgen.xml</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
  <body>
    <pre>
 1 &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
 2 &lt;!--
 3  Copyright (c) 2010, 2013, Oracle and/or its affiliates. All rights reserved.
 4  DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 5  
 6  This code is free software; you can redistribute it and/or modify it
 7  under the terms of the GNU General Public License version 2 only, as
 8  published by the Free Software Foundation.
 9  
10  This code is distributed in the hope that it will be useful, but WITHOUT
11  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
12  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
13  version 2 for more details (a copy is included in the LICENSE file that
14  accompanied this code).
15  
16  You should have received a copy of the GNU General Public License version
17  2 along with this work; if not, write to the Free Software Foundation,
18  Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
19  
20  Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
21  or visit www.oracle.com if you need additional information or have any
22  questions.
23 --&gt;
24 &lt;project name=&quot;build-nasgen&quot; default=&quot;run-nasgen&quot; basedir=&quot;.&quot;&gt;
25     &lt;description&gt;Builds and runs nasgen.&lt;/description&gt;
26     &lt;import file=&quot;build.xml&quot;/&gt;
27 
28     &lt;target name=&quot;build-nasgen&quot; depends=&quot;prepare&quot;&gt;
29         &lt;ant inheritAll=&quot;false&quot; dir=&quot;${nashorn.make.dir}/buildtools/nasgen&quot;
30             antfile=&quot;build.xml&quot; target=&quot;jar&quot;/&gt;
31     &lt;/target&gt;
32 
33     &lt;target name=&quot;run-nasgen&quot; depends=&quot;build-nasgen&quot;&gt;
34         &lt;java classname=&quot;${nasgen.tool}&quot; fork=&quot;true&quot; failonerror=&quot;true&quot;&gt;
35             &lt;classpath&gt;
36                 &lt;pathelement location=&quot;${basedir}/jcov2/lib/jcov_j2se_rt.jar&quot;/&gt;
37                 &lt;pathelement location=&quot;${build.dir}/nasgen/dist/nasgen.jar&quot;/&gt;
38             &lt;/classpath&gt;
39             &lt;jvmarg line=&quot;${nasgen.module.imports}&quot;/&gt;
40             &lt;arg value=&quot;${nashorn.module.classes.dir}&quot;/&gt;
41             &lt;arg value=&quot;jdk.nashorn.internal.objects&quot;/&gt;
42             &lt;arg value=&quot;${nashorn.module.classes.dir}&quot;/&gt;
43         &lt;/java&gt;
44     &lt;/target&gt;
45 
46     &lt;target name=&quot;run-nasgen-eclipse&quot; depends=&quot;load-properties&quot;&gt;
47         &lt;mkdir dir=&quot;${basedir}/build/eclipse/.nasgentmp&quot;/&gt;
48 
49         &lt;java classname=&quot;jdk.nashorn.internal.tools.nasgen.Main&quot; fork=&quot;true&quot; failonerror=&quot;true&quot;&gt;
50             &lt;classpath&gt;
51                 &lt;pathelement location=&quot;${basedir}/buildtools/nasgen/dist/nasgen.jar&quot;/&gt;
52             &lt;/classpath&gt;
53             &lt;jvmarg line=&quot;${nasgen.module.imports}&quot;/&gt;
54             &lt;arg value=&quot;${basedir}/build/eclipse&quot;/&gt;
55             &lt;arg value=&quot;jdk.nashorn.internal.objects&quot;/&gt;
56             &lt;arg value=&quot;${basedir}/build/eclipse/.nasgentmp&quot;/&gt;
57         &lt;/java&gt;
58 
59         &lt;move todir=&quot;${basedir}/build/eclipse/jdk/nashorn/internal/objects&quot;&gt;
60             &lt;fileset dir=&quot;${basedir}/build/eclipse/.nasgentmp/jdk/nashorn/internal/objects&quot;&gt;
61                 &lt;include name=&quot;*.class&quot;/&gt;
62             &lt;/fileset&gt;
63         &lt;/move&gt;
64 
65         &lt;delete includeemptydirs=&quot;true&quot;&gt;&lt;fileset dir=&quot;${basedir}/build/eclipse/.nasgentmp&quot; includes=&quot;**&quot;/&gt;&lt;/delete&gt;
66 
67         &lt;copy todir=&quot;${basedir}/build/eclipse/jdk/nashorn/internal/objects&quot; preservelastmodified=&quot;true&quot;&gt;
68             &lt;fileset dir=&quot;${basedir}/build/eclipse/jdk/nashorn/internal/objects&quot;&gt;
69                 &lt;include name=&quot;**/*.class&quot;/&gt;
70             &lt;/fileset&gt;
71         &lt;/copy&gt;
72     &lt;/target&gt;
73 
74     &lt;target name=&quot;clean-nasgen&quot;&gt;
75         &lt;ant inheritAll=&quot;false&quot; dir=&quot;${nashorn.make.dir}/buildtools/nasgen&quot;
76             antfile=&quot;build.xml&quot; target=&quot;clean&quot;/&gt;
77     &lt;/target&gt;
78 
79 &lt;/project&gt;
    </pre>
  </body>
</html>