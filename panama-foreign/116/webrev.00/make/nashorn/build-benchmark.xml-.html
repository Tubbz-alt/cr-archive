<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old make/nashorn/build-benchmark.xml</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
  <body>
    <pre>
  1 &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  2 
  3 &lt;!--
  4     Copyright (c) 2010, 2014, Oracle and/or its affiliates. All rights reserved.
  5     DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  6 
  7     This code is free software; you can redistribute it and/or modify it
  8     under the terms of the GNU General Public License version 2 only, as
  9     published by the Free Software Foundation.
 10 
 11     This code is distributed in the hope that it will be useful, but WITHOUT
 12     ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13     FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14     version 2 for more details (a copy is included in the LICENSE file that
 15     accompanied this code).
 16 
 17     You should have received a copy of the GNU General Public License version
 18     2 along with this work; if not, write to the Free Software Foundation,
 19     Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20 
 21     Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22     or visit www.oracle.com if you need additional information or have any
 23     questions.
 24 --&gt;
 25 
 26 
 27 &lt;project
 28     name=&quot;nashorn-benchmarks&quot;
 29     default=&quot;all&quot;
 30     basedir=&quot;..&quot;
 31     xmlns:if=&quot;ant:if&quot;&gt;
 32 
 33   &lt;!--
 34        Below are the octane benchmarks that should be run.
 35        The ones that are excluded, as Nashorn currently has
 36        some issues with them (functionality or performance)
 37        are commented out
 38   --&gt;
 39 
 40   &lt;!-- box2d --&gt;
 41   &lt;target name=&quot;octane-box2d&quot; depends=&quot;octane-box2d-nashorn&quot;/&gt;
 42   &lt;target name=&quot;octane-box2d-nashorn&quot; depends=&quot;jar&quot;&gt;
 43     &lt;run-one cond=&quot;octane.benchmark.box2d&quot; runtime=&quot;nashorn&quot;/&gt;
 44   &lt;/target&gt;
 45   &lt;target name=&quot;octane-box2d-v8&quot; depends=&quot;jar&quot;&gt;
 46     &lt;run-one cond=&quot;octane.benchmark.box2d&quot; runtime=&quot;v8&quot;/&gt;
 47   &lt;/target&gt;
 48   &lt;target name=&quot;octane-box2d-rhino&quot; depends=&quot;jar&quot;&gt;
 49     &lt;run-one cond=&quot;octane.benchmark.box2d&quot; runtime=&quot;rhino&quot;/&gt;
 50   &lt;/target&gt;
 51 
 52   &lt;!-- code-load --&gt;
 53   &lt;target name=&quot;octane-code-load&quot; depends=&quot;octane-code-load-nashorn&quot;/&gt;
 54   &lt;target name=&quot;octane-code-load-nashorn&quot; depends=&quot;jar&quot;&gt;
 55     &lt;run-one cond=&quot;octane.benchmark.code-load&quot; runtime=&quot;nashorn&quot;/&gt;
 56   &lt;/target&gt;
 57   &lt;target name=&quot;octane-code-load-v8&quot; depends=&quot;jar&quot;&gt;
 58     &lt;run-one cond=&quot;octane.benchmark.code-load&quot; runtime=&quot;v8&quot;/&gt;
 59   &lt;/target&gt;
 60   &lt;target name=&quot;octane-code-load-rhino&quot; depends=&quot;jar&quot;&gt;
 61     &lt;run-one cond=&quot;octane.benchmark.code-load&quot; runtime=&quot;rhino&quot;/&gt;
 62   &lt;/target&gt;
 63 
 64   &lt;!-- crypto --&gt;
 65   &lt;target name=&quot;octane-crypto&quot; depends=&quot;octane-crypto-nashorn&quot;/&gt;
 66   &lt;target name=&quot;octane-crypto-nashorn&quot; depends=&quot;jar&quot;&gt;
 67     &lt;run-one cond=&quot;octane.benchmark.crypto&quot; runtime=&quot;nashorn&quot;/&gt;
 68   &lt;/target&gt;
 69   &lt;target name=&quot;octane-crypto-v8&quot; depends=&quot;jar&quot;&gt;
 70     &lt;run-one cond=&quot;octane.benchmark.crypto&quot; runtime=&quot;v8&quot;/&gt;
 71   &lt;/target&gt;
 72   &lt;target name=&quot;octane-crypto-rhino&quot; depends=&quot;jar&quot;&gt;
 73     &lt;run-one cond=&quot;octane.benchmark.crypto&quot; runtime=&quot;rhino&quot;/&gt;
 74   &lt;/target&gt;
 75 
 76   &lt;!-- deltablue --&gt;
 77   &lt;target name=&quot;octane-deltablue&quot; depends=&quot;octane-deltablue-nashorn&quot;/&gt;
 78   &lt;target name=&quot;octane-deltablue-nashorn&quot; depends=&quot;jar&quot;&gt;
 79     &lt;run-one cond=&quot;octane.benchmark.deltablue&quot; runtime=&quot;nashorn&quot;/&gt;
 80   &lt;/target&gt;
 81   &lt;target name=&quot;octane-deltablue-v8&quot; depends=&quot;jar&quot;&gt;
 82     &lt;run-one cond=&quot;octane.benchmark.deltablue&quot; runtime=&quot;v8&quot;/&gt;
 83   &lt;/target&gt;
 84   &lt;target name=&quot;octane-deltablue-rhino&quot; depends=&quot;jar&quot;&gt;
 85     &lt;run-one cond=&quot;octane.benchmark.deltablue&quot; runtime=&quot;rhino&quot;/&gt;
 86   &lt;/target&gt;
 87 
 88   &lt;!-- earley-boyer --&gt;
 89   &lt;target name=&quot;octane-earley-boyer&quot; depends=&quot;octane-earley-boyer-nashorn&quot;/&gt;
 90   &lt;target name=&quot;octane-earley-boyer-nashorn&quot; depends=&quot;jar&quot;&gt;
 91     &lt;run-one cond=&quot;octane.benchmark.earley-boyer&quot; runtime=&quot;nashorn&quot;/&gt;
 92   &lt;/target&gt;
 93   &lt;target name=&quot;octane-earley-boyer-v8&quot; depends=&quot;jar&quot;&gt;
 94     &lt;run-one cond=&quot;octane.benchmark.earley-boyer&quot; runtime=&quot;v8&quot;/&gt;
 95   &lt;/target&gt;
 96   &lt;target name=&quot;octane-earley-boyer-rhino&quot; depends=&quot;jar&quot;&gt;
 97     &lt;run-one cond=&quot;octane.benchmark.earley-boyer&quot; runtime=&quot;rhino&quot;/&gt;
 98   &lt;/target&gt;
 99   
100   &lt;!-- gbemu --&gt;
101   &lt;target name=&quot;octane-gbemu&quot; depends=&quot;octane-gbemu-nashorn&quot;/&gt;
102   &lt;target name=&quot;octane-gbemu-nashorn&quot; depends=&quot;jar&quot;&gt;
103     &lt;run-one cond=&quot;octane.benchmark.gbemu&quot; runtime=&quot;nashorn&quot;/&gt;
104   &lt;/target&gt;
105   &lt;target name=&quot;octane-gbemu-v8&quot; depends=&quot;jar&quot;&gt;
106     &lt;run-one cond=&quot;octane.benchmark.gbemu&quot; runtime=&quot;v8&quot;/&gt;
107   &lt;/target&gt;
108   &lt;target name=&quot;octane-gbemu-rhino&quot; depends=&quot;jar&quot;&gt;
109     &lt;run-one cond=&quot;octane.benchmark.gbemu&quot; runtime=&quot;rhino&quot;/&gt;
110   &lt;/target&gt;
111 
112   &lt;!-- mandreel --&gt;
113   &lt;target name=&quot;octane-mandreel&quot; depends=&quot;octane-mandreel-nashorn&quot;/&gt;
114   &lt;target name=&quot;octane-mandreel-nashorn&quot; depends=&quot;jar&quot;&gt;
115     &lt;run-one cond=&quot;octane.benchmark.mandreel&quot; runtime=&quot;nashorn&quot;/&gt;
116   &lt;/target&gt;
117   &lt;target name=&quot;octane-mandreel-v8&quot; depends=&quot;jar&quot;&gt;
118     &lt;run-one cond=&quot;octane.benchmark.mandreel&quot; runtime=&quot;v8&quot;/&gt;
119   &lt;/target&gt;
120   &lt;target name=&quot;octane-mandreel-rhino&quot; depends=&quot;jar&quot;&gt;
121     &lt;run-one cond=&quot;octane.benchmark.mandreel&quot; runtime=&quot;rhino&quot;/&gt;
122   &lt;/target&gt;
123 
124   &lt;!-- navier-stokes --&gt;
125   &lt;target name=&quot;octane-navier-stokes&quot; depends=&quot;octane-navier-stokes-nashorn&quot;/&gt;
126   &lt;target name=&quot;octane-navier-stokes-nashorn&quot; depends=&quot;jar&quot;&gt;
127     &lt;run-one cond=&quot;octane.benchmark.navier-stokes&quot; runtime=&quot;nashorn&quot;/&gt;
128   &lt;/target&gt;
129   &lt;target name=&quot;octane-navier-stokes-v8&quot; depends=&quot;jar&quot;&gt;
130     &lt;run-one cond=&quot;octane.benchmark.navier-stokes&quot; runtime=&quot;v8&quot;/&gt;
131   &lt;/target&gt;
132   &lt;target name=&quot;octane-navier-stokes-rhino&quot; depends=&quot;jar&quot;&gt;
133     &lt;run-one cond=&quot;octane.benchmark.navier-stokes&quot; runtime=&quot;rhino&quot;/&gt;
134   &lt;/target&gt;
135 
136   &lt;!-- pdfjs --&gt;
137   &lt;target name=&quot;octane-pdfjs&quot; depends=&quot;octane-pdfjs-nashorn&quot;/&gt;
138   &lt;target name=&quot;octane-pdfjs-nashorn&quot; depends=&quot;jar&quot;&gt;
139     &lt;run-one cond=&quot;octane.benchmark.pdfjs&quot; runtime=&quot;nashorn&quot;/&gt;
140   &lt;/target&gt;
141   &lt;target name=&quot;octane-pdfjs-v8&quot; depends=&quot;jar&quot;&gt;
142     &lt;run-one cond=&quot;octane.benchmark.pdfjs&quot; runtime=&quot;v8&quot;/&gt;
143   &lt;/target&gt;
144   &lt;target name=&quot;octane-pdfjs-rhino&quot; depends=&quot;jar&quot;&gt;
145     &lt;run-one cond=&quot;octane.benchmark.pdfjs&quot; runtime=&quot;rhino&quot;/&gt;
146   &lt;/target&gt;
147 
148   &lt;!-- raytrace --&gt;
149   &lt;target name=&quot;octane-raytrace&quot; depends=&quot;octane-raytrace-nashorn&quot;/&gt;
150   &lt;target name=&quot;octane-raytrace-nashorn&quot; depends=&quot;jar&quot;&gt;
151     &lt;run-one cond=&quot;octane.benchmark.raytrace&quot; runtime=&quot;nashorn&quot;/&gt;
152   &lt;/target&gt;
153   &lt;target name=&quot;octane-raytrace-v8&quot; depends=&quot;jar&quot;&gt;
154     &lt;run-one cond=&quot;octane.benchmark.raytrace&quot; runtime=&quot;v8&quot;/&gt;
155   &lt;/target&gt;
156   &lt;target name=&quot;octane-raytrace-rhino&quot; depends=&quot;jar&quot;&gt;
157     &lt;run-one cond=&quot;octane.benchmark.raytrace&quot; runtime=&quot;rhino&quot;/&gt;
158   &lt;/target&gt;
159 
160   &lt;!-- regexp --&gt;
161   &lt;target name=&quot;octane-regexp&quot; depends=&quot;octane-regexp-nashorn&quot;/&gt;
162   &lt;target name=&quot;octane-regexp-nashorn&quot; depends=&quot;jar&quot;&gt;
163     &lt;run-one cond=&quot;octane.benchmark.regexp&quot; runtime=&quot;nashorn&quot;/&gt;
164   &lt;/target&gt;
165   &lt;target name=&quot;octane-regexp-v8&quot; depends=&quot;jar&quot;&gt;
166     &lt;run-one cond=&quot;octane.benchmark.regexp&quot; runtime=&quot;v8&quot;/&gt;
167   &lt;/target&gt;
168   &lt;target name=&quot;octane-regexp-rhino&quot; depends=&quot;jar&quot;&gt;
169     &lt;run-one cond=&quot;octane.benchmark.regexp&quot; runtime=&quot;rhino&quot;/&gt;
170   &lt;/target&gt;
171 
172   &lt;!-- richards --&gt;
173   &lt;target name=&quot;octane-richards&quot; depends=&quot;octane-richards-nashorn&quot;/&gt;
174   &lt;target name=&quot;octane-richards-nashorn&quot; depends=&quot;jar&quot;&gt;
175     &lt;run-one cond=&quot;octane.benchmark.richards&quot; runtime=&quot;nashorn&quot;/&gt;
176   &lt;/target&gt;
177   &lt;target name=&quot;octane-richards-v8&quot; depends=&quot;jar&quot;&gt;
178     &lt;run-one cond=&quot;octane.benchmark.richards&quot; runtime=&quot;v8&quot;/&gt;
179   &lt;/target&gt;
180   &lt;target name=&quot;octane-richards-rhino&quot; depends=&quot;jar&quot;&gt;
181     &lt;run-one cond=&quot;octane.benchmark.richards&quot; runtime=&quot;rhino&quot;/&gt;
182   &lt;/target&gt;
183 
184   &lt;!-- splay --&gt;
185   &lt;target name=&quot;octane-splay&quot; depends=&quot;octane-splay-nashorn&quot;/&gt;
186   &lt;target name=&quot;octane-splay-nashorn&quot; depends=&quot;jar&quot;&gt;
187     &lt;run-one cond=&quot;octane.benchmark.splay&quot; runtime=&quot;nashorn&quot;/&gt;
188   &lt;/target&gt;
189   &lt;target name=&quot;octane-splay-v8&quot; depends=&quot;jar&quot;&gt;
190     &lt;run-one cond=&quot;octane.benchmark.splay&quot; runtime=&quot;v8&quot;/&gt;
191   &lt;/target&gt;
192   &lt;target name=&quot;octane-splay-rhino&quot; depends=&quot;jar&quot;&gt;
193     &lt;run-one cond=&quot;octane.benchmark.splay&quot; runtime=&quot;rhino&quot;/&gt;
194   &lt;/target&gt;
195 
196   &lt;!-- typescript --&gt;
197   &lt;target name=&quot;octane-typescript&quot; depends=&quot;octane-typescript-nashorn&quot;/&gt;
198   &lt;target name=&quot;octane-typescript-nashorn&quot; depends=&quot;jar&quot;&gt;
199     &lt;run-one cond=&quot;octane.benchmark.typescript&quot; runtime=&quot;nashorn&quot;/&gt;
200   &lt;/target&gt;
201   &lt;target name=&quot;octane-typescript-v8&quot; depends=&quot;jar&quot;&gt;
202     &lt;run-one cond=&quot;octane.benchmark.typescript&quot; runtime=&quot;v8&quot;/&gt;
203   &lt;/target&gt;
204   &lt;target name=&quot;octane-typescript-rhino&quot; depends=&quot;jar&quot;&gt;
205     &lt;run-one cond=&quot;octane.benchmark.typescript&quot; runtime=&quot;rhino&quot;/&gt;
206   &lt;/target&gt;
207 
208   &lt;!-- zlib --&gt;
209   &lt;target name=&quot;octane-zlib&quot; depends=&quot;octane-zlib-nashorn&quot;/&gt;
210   &lt;target name=&quot;octane-zlib-nashorn&quot; depends=&quot;jar&quot;&gt;
211     &lt;run-one cond=&quot;octane.benchmark.zlib&quot; runtime=&quot;nashorn&quot;/&gt;
212   &lt;/target&gt;
213   &lt;target name=&quot;octane-zlib-v8&quot; depends=&quot;jar&quot;&gt;
214     &lt;run-one cond=&quot;octane.benchmark.zlib&quot; runtime=&quot;v8&quot;/&gt;
215   &lt;/target&gt;
216   &lt;target name=&quot;octane-zlib-rhino&quot; depends=&quot;jar&quot;&gt;
217     &lt;run-one cond=&quot;octane.benchmark.zlib&quot; runtime=&quot;rhino&quot;/&gt;
218   &lt;/target&gt;
219 
220   &lt;target name=&quot;-define-nashorn-task&quot;&gt;
221     &lt;ant dir=&quot;${nashorntask.dir}&quot; inheritAll=&quot;false&quot;/&gt;
222     &lt;taskdef name=&quot;nashorn&quot; classname=&quot;jdk.nashorn.ant.NashornTask&quot;
223         classpath=&quot;${nashorntask.dist.dir}/nashorntask.jar&quot;/&gt;
224   &lt;/target&gt;
225 
226   &lt;!--
227       Benchmark runners for one or more benchmarks, single
228       or multiple process
229   --&gt;
230 
231   &lt;target name=&quot;octane-process-separate&quot; if=&quot;${octane-test-sys-prop.separate.process}&quot;
232       depends=&quot;-define-nashorn-task&quot;&gt;
233     &lt;echo message=&quot;Running each benchmark in separate processes, starting new JVMs for each.&quot;/&gt;
234     &lt;nashorn&gt;&lt;![CDATA[
235       var props = [];
236 
237       for (var prop in project.getProperties()) {
238         if (prop.startsWith(&quot;octane.benchmark.&quot;)) {
239           props.push(prop);
240         }
241       }
242 
243       //sort benchmark props in alphabetical order by name
244       props.sort(function(a, b) {
245         if (a &lt; b) {
246           return -1;
247         } else if (a &gt; b) {
248           return 1;
249         } else {
250            return 0;
251         }
252       });
253       
254       var runtime = project.getProperty(&quot;runtime&quot;);
255 
256       for (var i in props) {
257         var task = project.createTask(&quot;run-one&quot;);
258 	// workaround for https://issues.apache.org/bugzilla/show_bug.cgi?id=53831, still not fixed
259         if (task.getOwningTarget() == null) {
260 	  task.setOwningTarget(self.getOwningTarget());
261 	}
262         var prop = props[i];
263         task.setDynamicAttribute(&quot;cond&quot;, prop);
264         task.setDynamicAttribute(&quot;runtime&quot;, runtime);
265 	task.perform();
266       }
267     ]]&gt;&lt;/nashorn&gt;
268   &lt;/target&gt;
269 
270   &lt;target name=&quot;octane-process-single&quot; unless=&quot;${octane-test-sys-prop.separate.process}&quot;&gt;
271     &lt;echo message=&quot;Running all benchmarks in the same process.&quot;/&gt;
272     &lt;pathconvert property=&quot;octane.benchmarks&quot; pathsep=&quot; &quot;&gt;
273       &lt;propertyset&gt;
274     &lt;propertyref prefix=&quot;octane.benchmark.&quot;/&gt;
275       &lt;/propertyset&gt;
276     &lt;/pathconvert&gt;
277     &lt;antcall target=&quot;run-octane${runtime}&quot;&gt;
278       &lt;param name=&quot;octane-tests&quot; value=&quot;${octane.benchmarks}&quot;/&gt;
279     &lt;/antcall&gt;
280   &lt;/target&gt;
281 
282   &lt;!--
283        run &#39;octane&#39; in single or separate processes based on config
284        This uses nashorn as the default runtime
285   --&gt;
286   &lt;target name=&quot;octane-nashorn&quot; depends=&quot;jar&quot;&gt;
287     &lt;property name=&quot;runtime&quot; value=&quot;nashorn&quot;/&gt;
288     &lt;antcall target=&quot;octane-process-separate&quot;/&gt;
289     &lt;antcall target=&quot;octane-process-single&quot;/&gt;
290   &lt;/target&gt;
291 
292   &lt;!-- alias for &#39;octane&#39; --&gt;
293   &lt;target name=&quot;octane&quot; depends=&quot;octane-nashorn&quot;/&gt;
294 
295   &lt;!-- run octane benchmarks using octane as runtime --&gt;
296   &lt;target name=&quot;octane-v8&quot; depends=&quot;jar&quot;&gt;
297     &lt;property name=&quot;runtime&quot; value=&quot;v8&quot;/&gt;
298     &lt;antcall target=&quot;octane-process-separate&quot;/&gt;
299     &lt;antcall target=&quot;octane-process-single&quot;/&gt;
300   &lt;/target&gt;
301 
302   &lt;!-- run octane benchmarks using Rhino as runtime --&gt;
303   &lt;target name=&quot;octane-rhino&quot; depends=&quot;jar&quot;&gt;
304     &lt;property name=&quot;runtime&quot; value=&quot;rhino&quot;/&gt;
305     &lt;antcall target=&quot;octane-process-separate&quot;/&gt;
306     &lt;antcall target=&quot;octane-process-single&quot;/&gt;
307   &lt;/target&gt;
308 
309   &lt;macrodef name=&quot;run-one&quot;&gt;
310     &lt;attribute name=&quot;cond&quot;/&gt;
311     &lt;attribute name=&quot;runtime&quot; default=&quot;&quot;/&gt;
312     &lt;sequential&gt;
313 	&lt;antcall target=&quot;run-octane-@{runtime}&quot; if:set=&quot;@{cond}&quot;&gt;
314 	  &lt;param name=&quot;octane-tests&quot; value=&quot;${@{cond}}&quot;/&gt;
315 	&lt;/antcall&gt;
316     &lt;/sequential&gt;
317   &lt;/macrodef&gt;
318 
319   &lt;target name=&quot;run-octane-nashorn&quot;&gt;
320     &lt;java classname=&quot;${nashorn.shell.tool}&quot;
321           classpath=&quot;${run.test.classpath}&quot;
322           fork=&quot;true&quot;&gt;
323       &lt;jvmarg line=&quot;${run.test.jvmargs.octane} -Xms${run.test.xms} -Xmx${run.test.xmx}&quot;/&gt;
324       &lt;!-- pass on all properties prefixed with &#39;nashorn&#39; to the runtime --&gt;
325       &lt;syspropertyset&gt;
326         &lt;propertyref prefix=&quot;nashorn.&quot;/&gt;
327       &lt;/syspropertyset&gt;
328       &lt;arg value=&quot;${octane-test-sys-prop.test.js.framework}&quot;/&gt;
329       &lt;arg value=&quot;-scripting&quot;/&gt;
330       &lt;arg value=&quot;--&quot;/&gt;
331       &lt;arg value=&quot;${octane-tests}&quot;/&gt;
332       &lt;arg value=&quot;--runtime&quot;/&gt;
333       &lt;arg value=&quot;nashorn&quot;/&gt;
334       &lt;arg value=&quot;--verbose&quot;/&gt;
335       &lt;arg value=&quot;--iterations ${octane.iterations}&quot;/&gt;
336     &lt;/java&gt;
337   &lt;/target&gt;
338 
339   &lt;target name=&quot;run-octane-v8&quot;&gt;
340     &lt;exec executable=&quot;${v8.shell}&quot;&gt;
341       &lt;arg value=&quot;${octane-test-sys-prop.test.js.framework}&quot;/&gt;
342       &lt;arg value=&quot;--&quot;/&gt;
343       &lt;arg value=&quot;${octane-tests}&quot;/&gt;
344       &lt;arg value=&quot;--runtime&quot;/&gt;
345       &lt;arg value=&quot;v8&quot;/&gt;
346       &lt;arg value=&quot;--verbose&quot;/&gt;
347       &lt;arg value=&quot;--iterations ${octane.iterations}&quot;/&gt;
348     &lt;/exec&gt;
349   &lt;/target&gt;
350 
351   &lt;target name=&quot;run-octane-rhino&quot;&gt;
352     &lt;java jar=&quot;${rhino.jar}&quot;
353           classpath=&quot;${run.test.classpath}&quot;
354           fork=&quot;true&quot;
355           dir=&quot;.&quot;&gt;
356       &lt;jvmarg line=&quot;${run.test.jvmargs.octane} -Xms${run.test.xms} -Xmx${run.test.xmx}&quot;/&gt;
357       &lt;arg value=&quot;-opt&quot;/&gt;
358       &lt;arg value=&quot;9&quot;/&gt;
359       &lt;arg value=&quot;${octane-test-sys-prop.test.js.framework}&quot;/&gt;
360       &lt;arg value=&quot;${octane-tests}&quot;/&gt;
361       &lt;arg value=&quot;--runtime&quot;/&gt;
362       &lt;arg value=&quot;rhino&quot;/&gt;
363       &lt;arg value=&quot;--verbose&quot;/&gt;
364       &lt;arg value=&quot;--iterations ${octane.iterations}&quot;/&gt;
365     &lt;/java&gt;
366   &lt;/target&gt;
367 
368   &lt;!-- run octane with all known runtimes for comparison --&gt;
369   &lt;target name=&quot;octane-all&quot; depends=&quot;octane, octane-v8, octane-rhino&quot;&gt;
370     &lt;exec executable=&quot;${v8.shell}&quot;&gt;
371       &lt;arg value=&quot;${octane-test-sys-prop.test.js.framework}&quot;/&gt;
372       &lt;arg value=&quot;${octane-tests}/&quot;/&gt;
373     &lt;/exec&gt;
374   &lt;/target&gt;
375 
376   &lt;target name=&quot;sunspider-init&quot; depends=&quot;jar&quot;&gt;
377     &lt;fileset id=&quot;sunspider-set&quot;
378          dir=&quot;${sunspider-test-sys-prop.test.js.roots}&quot;
379          excludes=&quot;${sunspider-test-sys-prop.test.js.exclude.list}&quot;&gt;
380       &lt;include name=&quot;**/*.js&quot;/&gt;
381     &lt;/fileset&gt;
382     &lt;pathconvert pathsep=&quot; &quot; property=&quot;sunspider-tests&quot; refid=&quot;sunspider-set&quot;/&gt;
383   &lt;/target&gt;
384 
385   &lt;!--- SUNSPIDER JOB BELOW --&gt;
386 
387   &lt;!-- run sunspider with Nashorn --&gt;
388   &lt;target name=&quot;sunspider&quot; depends=&quot;sunspider-nashorn&quot;/&gt;
389 
390   &lt;target name=&quot;sunspider-nashorn&quot; depends=&quot;sunspider-init&quot;&gt;
391     &lt;java classname=&quot;${nashorn.shell.tool}&quot;
392           classpath=&quot;${run.test.classpath}&quot;
393           fork=&quot;true&quot;&gt;
394       &lt;jvmarg line=&quot;${run.test.jvmargs} -Xmx${run.test.xmx}&quot;/&gt;
395       &lt;arg value=&quot;-timezone=PST&quot;/&gt;
396       &lt;arg value=&quot;--class-cache-size=50&quot;/&gt;
397       &lt;arg value=&quot;${sunspider-test-sys-prop.test.js.framework}&quot;/&gt;
398       &lt;arg value=&quot;--&quot;/&gt;
399       &lt;arg value=&quot;${sunspider-tests}/&quot;/&gt;
400       &lt;arg value=&quot;--verbose&quot;/&gt;
401       &lt;arg value=&quot;--times&quot;/&gt;
402       &lt;arg value=&quot;${sunspider.iterations}&quot;/&gt;
403     &lt;/java&gt;
404   &lt;/target&gt;
405 
406   &lt;!-- run sunspider with v8 --&gt;
407   &lt;target name=&quot;sunspider-v8&quot; depends=&quot;sunspider-init&quot;&gt;
408     &lt;exec executable=&quot;${v8.shell}&quot;&gt;
409       &lt;arg value=&quot;${sunspider-test-sys-prop.test.js.framework}&quot;/&gt;
410       &lt;arg value=&quot;--&quot;/&gt;
411       &lt;arg value=&quot;${sunspider-tests}/&quot;/&gt;
412       &lt;arg value=&quot;--verbose&quot;/&gt;
413       &lt;arg value=&quot;--times&quot;/&gt;
414       &lt;arg value=&quot;${sunspider.iterations}&quot;/&gt;
415     &lt;/exec&gt;
416   &lt;/target&gt;
417 
418   &lt;!-- run sunspider with Rhino --&gt;
419   &lt;target name=&quot;sunspider-rhino&quot; depends=&quot;sunspider-init&quot;&gt;
420     &lt;java jar=&quot;${rhino.jar}&quot;
421           classpath=&quot;${run.test.classpath}&quot;
422           fork=&quot;true&quot;
423           dir=&quot;.&quot;&gt;
424       &lt;jvmarg line=&quot;${run.test.jvmargs} -Xmx${run.test.xmx}&quot;/&gt;
425       &lt;arg value=&quot;-opt&quot;/&gt;
426       &lt;arg value=&quot;9&quot;/&gt;
427       &lt;arg value=&quot;${sunspider-test-sys-prop.test.js.framework}&quot;/&gt;
428       &lt;arg value=&quot;${sunspider-tests}/&quot;/&gt;
429       &lt;arg value=&quot;--verbose&quot;/&gt;
430       &lt;arg value=&quot;--times&quot;/&gt;
431       &lt;arg value=&quot;${sunspider.iterations}&quot;/&gt;
432     &lt;/java&gt;
433   &lt;/target&gt;
434 
435 &lt;/project&gt;
    </pre>
  </body>
</html>