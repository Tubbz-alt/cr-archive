<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/unix/native/libawt_xawt/xawt/XToolkit.c</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../java2d/x11/XRBackendNative.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="XWindow.c.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/unix/native/libawt_xawt/xawt/XToolkit.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 2002, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.  Oracle designates this
   8  * particular file as subject to the &quot;Classpath&quot; exception as provided
   9  * by Oracle in the LICENSE file that accompanied this code.
  10  *
  11  * This code is distributed in the hope that it will be useful, but WITHOUT
  12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  * version 2 for more details (a copy is included in the LICENSE file that
  15  * accompanied this code).
  16  *
  17  * You should have received a copy of the GNU General Public License version
  18  * 2 along with this work; if not, write to the Free Software Foundation,
  19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20  *
  21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 111 JNIEXPORT jlong JNICALL Java_sun_awt_X11_XToolkit_getTrayIconDisplayTimeout
 112   (JNIEnv *env, jclass clazz)
 113 {
 114     return (jlong) 2000;
 115 }
 116 
 117 /*
 118  * Class:     sun_awt_X11_XToolkit
 119  * Method:    getDefaultXColormap
 120  * Signature: ()J
 121  */
 122 JNIEXPORT jlong JNICALL Java_sun_awt_X11_XToolkit_getDefaultXColormap
 123   (JNIEnv *env, jclass clazz)
 124 {
 125     AwtGraphicsConfigDataPtr defaultConfig =
 126         getDefaultConfig(DefaultScreen(awt_display));
 127 
 128     return (jlong) defaultConfig-&gt;awt_cmap;
 129 }
 130 
<span class="line-removed"> 131 JNIEXPORT jlong JNICALL Java_sun_awt_X11_XToolkit_getDefaultScreenData</span>
<span class="line-removed"> 132   (JNIEnv *env, jclass clazz)</span>
<span class="line-removed"> 133 {</span>
<span class="line-removed"> 134     return ptr_to_jlong(getDefaultConfig(DefaultScreen(awt_display)));</span>
<span class="line-removed"> 135 }</span>
<span class="line-removed"> 136 </span>
<span class="line-removed"> 137 </span>
 138 JNIEXPORT jint JNICALL
 139 DEF_JNI_OnLoad(JavaVM *vm, void *reserved)
 140 {
 141     jvm = vm;
 142 
 143     //Set the gtk backend to x11 on all the systems
 144     putenv(&quot;GDK_BACKEND=x11&quot;);
 145 
 146     return JNI_VERSION_1_2;
 147 }
 148 
 149 /*
 150  * Class:     sun_awt_X11_XToolkit
 151  * Method:    nativeLoadSystemColors
 152  * Signature: ([I)V
 153  */
 154 JNIEXPORT void JNICALL Java_sun_awt_X11_XToolkit_nativeLoadSystemColors
 155   (JNIEnv *env, jobject this, jintArray systemColors)
 156 {
 157     AwtGraphicsConfigDataPtr defaultConfig =
</pre>
</td>
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 2002, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.  Oracle designates this
   8  * particular file as subject to the &quot;Classpath&quot; exception as provided
   9  * by Oracle in the LICENSE file that accompanied this code.
  10  *
  11  * This code is distributed in the hope that it will be useful, but WITHOUT
  12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  * version 2 for more details (a copy is included in the LICENSE file that
  15  * accompanied this code).
  16  *
  17  * You should have received a copy of the GNU General Public License version
  18  * 2 along with this work; if not, write to the Free Software Foundation,
  19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20  *
  21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 111 JNIEXPORT jlong JNICALL Java_sun_awt_X11_XToolkit_getTrayIconDisplayTimeout
 112   (JNIEnv *env, jclass clazz)
 113 {
 114     return (jlong) 2000;
 115 }
 116 
 117 /*
 118  * Class:     sun_awt_X11_XToolkit
 119  * Method:    getDefaultXColormap
 120  * Signature: ()J
 121  */
 122 JNIEXPORT jlong JNICALL Java_sun_awt_X11_XToolkit_getDefaultXColormap
 123   (JNIEnv *env, jclass clazz)
 124 {
 125     AwtGraphicsConfigDataPtr defaultConfig =
 126         getDefaultConfig(DefaultScreen(awt_display));
 127 
 128     return (jlong) defaultConfig-&gt;awt_cmap;
 129 }
 130 







 131 JNIEXPORT jint JNICALL
 132 DEF_JNI_OnLoad(JavaVM *vm, void *reserved)
 133 {
 134     jvm = vm;
 135 
 136     //Set the gtk backend to x11 on all the systems
 137     putenv(&quot;GDK_BACKEND=x11&quot;);
 138 
 139     return JNI_VERSION_1_2;
 140 }
 141 
 142 /*
 143  * Class:     sun_awt_X11_XToolkit
 144  * Method:    nativeLoadSystemColors
 145  * Signature: ([I)V
 146  */
 147 JNIEXPORT void JNICALL Java_sun_awt_X11_XToolkit_nativeLoadSystemColors
 148   (JNIEnv *env, jobject this, jintArray systemColors)
 149 {
 150     AwtGraphicsConfigDataPtr defaultConfig =
</pre>
</td>
</tr>
</table>
<center><a href="../java2d/x11/XRBackendNative.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="XWindow.c.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>