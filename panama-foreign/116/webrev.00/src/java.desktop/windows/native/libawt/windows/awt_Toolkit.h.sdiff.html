<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/windows/native/libawt/windows/awt_Toolkit.h</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="awt_DnDDT.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="awt_ole.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/windows/native/libawt/windows/awt_Toolkit.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
116     CRITICAL_SECTION rep;
117 
118     CriticalSection(const CriticalSection&amp;);
119     const CriticalSection&amp; operator =(const CriticalSection&amp;);
120 
121   public:
122     virtual void Enter() {
123         ::EnterCriticalSection(&amp;rep);
124     }
125     virtual BOOL TryEnter() {
126         return ::TryEnterCriticalSection(&amp;rep);
127     }
128     virtual void Leave() {
129         ::LeaveCriticalSection(&amp;rep);
130     }
131 };
132 
133 // Macros for using CriticalSection objects that help trace
134 // lock/unlock actions
135 
<span class="line-removed">136 /* Use THIS_FILE when it is available. */</span>
<span class="line-removed">137 #ifndef THIS_FILE</span>
<span class="line-removed">138     #define THIS_FILE __FILE__</span>
<span class="line-removed">139 #endif</span>
<span class="line-removed">140 </span>
141 #define CRITICAL_SECTION_ENTER(cs) { \
142     J2dTraceLn4(J2D_TRACE_VERBOSE2, \
143                 &quot;CS.Wait:  tid, cs, file, line = 0x%x, 0x%x, %s, %d&quot;, \
<span class="line-modified">144                 GetCurrentThreadId(), &amp;(cs), THIS_FILE, __LINE__); \</span>
145     (cs).Enter(); \
146     J2dTraceLn4(J2D_TRACE_VERBOSE2, \
147                 &quot;CS.Enter: tid, cs, file, line = 0x%x, 0x%x, %s, %d&quot;, \
<span class="line-modified">148                 GetCurrentThreadId(), &amp;(cs), THIS_FILE, __LINE__); \</span>
149 }
150 
151 #define CRITICAL_SECTION_LEAVE(cs) { \
152     J2dTraceLn4(J2D_TRACE_VERBOSE2, \
153                 &quot;CS.Leave: tid, cs, file, line = 0x%x, 0x%x, %s, %d&quot;, \
<span class="line-modified">154                 GetCurrentThreadId(), &amp;(cs), THIS_FILE, __LINE__); \</span>
155     (cs).Leave(); \
156     J2dTraceLn4(J2D_TRACE_VERBOSE2, \
157                 &quot;CS.Left:  tid, cs, file, line = 0x%x, 0x%x, %s, %d&quot;, \
<span class="line-modified">158                 GetCurrentThreadId(), &amp;(cs), THIS_FILE, __LINE__); \</span>
159 }
160 
161 // Redefine WinAPI values related to touch input, if OS &lt; Windows 7.
162 #if (!defined(WINVER) || ((WINVER) &lt; 0x0601))
163     /*
164      * RegisterTouchWindow flag values
165      */
166     #define TWF_FINETOUCH       (0x00000001)
167     #define TWF_WANTPALM        (0x00000002)
168 
169     #define WM_TOUCH                        0x0240
170 
171     /*
172      * Touch input handle
173      */
174     typedef HANDLE HTOUCHINPUT;
175 
176     typedef struct tagTOUCHINPUT {
177         LONG x;
178         LONG y;
</pre>
</td>
<td>
<hr />
<pre>
116     CRITICAL_SECTION rep;
117 
118     CriticalSection(const CriticalSection&amp;);
119     const CriticalSection&amp; operator =(const CriticalSection&amp;);
120 
121   public:
122     virtual void Enter() {
123         ::EnterCriticalSection(&amp;rep);
124     }
125     virtual BOOL TryEnter() {
126         return ::TryEnterCriticalSection(&amp;rep);
127     }
128     virtual void Leave() {
129         ::LeaveCriticalSection(&amp;rep);
130     }
131 };
132 
133 // Macros for using CriticalSection objects that help trace
134 // lock/unlock actions
135 





136 #define CRITICAL_SECTION_ENTER(cs) { \
137     J2dTraceLn4(J2D_TRACE_VERBOSE2, \
138                 &quot;CS.Wait:  tid, cs, file, line = 0x%x, 0x%x, %s, %d&quot;, \
<span class="line-modified">139                 GetCurrentThreadId(), &amp;(cs), __FILE__, __LINE__); \</span>
140     (cs).Enter(); \
141     J2dTraceLn4(J2D_TRACE_VERBOSE2, \
142                 &quot;CS.Enter: tid, cs, file, line = 0x%x, 0x%x, %s, %d&quot;, \
<span class="line-modified">143                 GetCurrentThreadId(), &amp;(cs), __FILE__, __LINE__); \</span>
144 }
145 
146 #define CRITICAL_SECTION_LEAVE(cs) { \
147     J2dTraceLn4(J2D_TRACE_VERBOSE2, \
148                 &quot;CS.Leave: tid, cs, file, line = 0x%x, 0x%x, %s, %d&quot;, \
<span class="line-modified">149                 GetCurrentThreadId(), &amp;(cs), __FILE__, __LINE__); \</span>
150     (cs).Leave(); \
151     J2dTraceLn4(J2D_TRACE_VERBOSE2, \
152                 &quot;CS.Left:  tid, cs, file, line = 0x%x, 0x%x, %s, %d&quot;, \
<span class="line-modified">153                 GetCurrentThreadId(), &amp;(cs), __FILE__, __LINE__); \</span>
154 }
155 
156 // Redefine WinAPI values related to touch input, if OS &lt; Windows 7.
157 #if (!defined(WINVER) || ((WINVER) &lt; 0x0601))
158     /*
159      * RegisterTouchWindow flag values
160      */
161     #define TWF_FINETOUCH       (0x00000001)
162     #define TWF_WANTPALM        (0x00000002)
163 
164     #define WM_TOUCH                        0x0240
165 
166     /*
167      * Touch input handle
168      */
169     typedef HANDLE HTOUCHINPUT;
170 
171     typedef struct tagTOUCHINPUT {
172         LONG x;
173         LONG y;
</pre>
</td>
</tr>
</table>
<center><a href="awt_DnDDT.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="awt_ole.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>