<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/share/classes/javax/swing/text/html/FormView.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../plaf/basic/BasicDirectoryModel.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../sun/font/FileFontStrike.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/classes/javax/swing/text/html/FormView.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
772 
773     /**
774      * Loads the buffer with the data associated with the Select
775      * form element.  Basically, only items that are selected
776      * and have their name attribute set are added to the buffer.
777      */
778     private void loadSelectData(AttributeSet attr, StringBuilder buffer) {
779 
780         String name = (String)attr.getAttribute(HTML.Attribute.NAME);
781         if (name == null) {
782             return;
783         }
784         Object m = attr.getAttribute(StyleConstants.ModelAttribute);
785         if (m instanceof OptionListModel) {
786             @SuppressWarnings(&quot;unchecked&quot;)
787             OptionListModel&lt;Option&gt; model = (OptionListModel&lt;Option&gt;) m;
788 
789             for (int i = 0; i &lt; model.getSize(); i++) {
790                 if (model.isSelectedIndex(i)) {
791                     Option option = model.getElementAt(i);
<span class="line-modified">792                     appendBuffer(buffer, name, option.getValue());</span>





793                 }
794             }
795         } else if (m instanceof ComboBoxModel) {
796             @SuppressWarnings(&quot;unchecked&quot;)
797             ComboBoxModel&lt;?&gt; model = (ComboBoxModel)m;
798             Option option = (Option)model.getSelectedItem();
799             if (option != null) {
<span class="line-modified">800                 appendBuffer(buffer, name, option.getValue());</span>



801             }
802         }
803     }
804 
805     /**
806      * Appends name / value pairs into the
807      * buffer.  Both names and values are encoded using the
808      * URLEncoder.encode() method before being added to the
809      * buffer.
810      */
811     @SuppressWarnings(&quot;deprecation&quot;)
812     private void appendBuffer(StringBuilder buffer, String name, String value) {
813         if (buffer.length() &gt; 0) {
814             buffer.append(&#39;&amp;&#39;);
815         }
816         String encodedName = URLEncoder.encode(name);
817         buffer.append(encodedName);
818         buffer.append(&#39;=&#39;);
819         String encodedValue = URLEncoder.encode(value);
820         buffer.append(encodedValue);
</pre>
</td>
<td>
<hr />
<pre>
772 
773     /**
774      * Loads the buffer with the data associated with the Select
775      * form element.  Basically, only items that are selected
776      * and have their name attribute set are added to the buffer.
777      */
778     private void loadSelectData(AttributeSet attr, StringBuilder buffer) {
779 
780         String name = (String)attr.getAttribute(HTML.Attribute.NAME);
781         if (name == null) {
782             return;
783         }
784         Object m = attr.getAttribute(StyleConstants.ModelAttribute);
785         if (m instanceof OptionListModel) {
786             @SuppressWarnings(&quot;unchecked&quot;)
787             OptionListModel&lt;Option&gt; model = (OptionListModel&lt;Option&gt;) m;
788 
789             for (int i = 0; i &lt; model.getSize(); i++) {
790                 if (model.isSelectedIndex(i)) {
791                     Option option = model.getElementAt(i);
<span class="line-modified">792                     if (option != null) {</span>
<span class="line-added">793                         String value = option.getValue();</span>
<span class="line-added">794                         if (value != null) {</span>
<span class="line-added">795                             appendBuffer(buffer, name, value);</span>
<span class="line-added">796                         }</span>
<span class="line-added">797                     }</span>
798                 }
799             }
800         } else if (m instanceof ComboBoxModel) {
801             @SuppressWarnings(&quot;unchecked&quot;)
802             ComboBoxModel&lt;?&gt; model = (ComboBoxModel)m;
803             Option option = (Option)model.getSelectedItem();
804             if (option != null) {
<span class="line-modified">805                 String value = option.getValue();</span>
<span class="line-added">806                 if (value != null) {</span>
<span class="line-added">807                     appendBuffer(buffer, name, value);</span>
<span class="line-added">808                 }</span>
809             }
810         }
811     }
812 
813     /**
814      * Appends name / value pairs into the
815      * buffer.  Both names and values are encoded using the
816      * URLEncoder.encode() method before being added to the
817      * buffer.
818      */
819     @SuppressWarnings(&quot;deprecation&quot;)
820     private void appendBuffer(StringBuilder buffer, String name, String value) {
821         if (buffer.length() &gt; 0) {
822             buffer.append(&#39;&amp;&#39;);
823         }
824         String encodedName = URLEncoder.encode(name);
825         buffer.append(encodedName);
826         buffer.append(&#39;=&#39;);
827         String encodedValue = URLEncoder.encode(value);
828         buffer.append(encodedValue);
</pre>
</td>
</tr>
</table>
<center><a href="../../plaf/basic/BasicDirectoryModel.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../sun/font/FileFontStrike.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>