<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.jfr/share/classes/jdk/jfr/internal/dcmd/DCmdDump.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="DCmdConfigure.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DCmdStart.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.jfr/share/classes/jdk/jfr/internal/dcmd/DCmdDump.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 62      *
 63      * @param filename file path where recording should be written, not null
 64      * @param maxAge how far back in time to dump, may be null
 65      * @param maxSize how far back in size to dump data from, may be null
 66      * @param begin point in time to dump data from, may be null
 67      * @param end point in time to dump data to, may be null
 68      * @param pathToGcRoots if Java heap should be swept for reference chains
 69      *
 70      * @return result output
 71      *
 72      * @throws DCmdException if the dump could not be completed
 73      */
 74     public String execute(String name, String filename, Long maxAge, Long maxSize, String begin, String end, Boolean pathToGcRoots) throws DCmdException {
 75         if (Logger.shouldLog(LogTag.JFR_DCMD, LogLevel.DEBUG)) {
 76             Logger.log(LogTag.JFR_DCMD, LogLevel.DEBUG,
 77                     &quot;Executing DCmdDump: name=&quot; + name +
 78                     &quot;, filename=&quot; + filename +
 79                     &quot;, maxage=&quot; + maxAge +
 80                     &quot;, maxsize=&quot; + maxSize +
 81                     &quot;, begin=&quot; + begin +
<span class="line-modified"> 82                     &quot;, end&quot; + end +</span>
 83                     &quot;, path-to-gc-roots=&quot; + pathToGcRoots);
 84         }
 85 
 86         if (FlightRecorder.getFlightRecorder().getRecordings().isEmpty()) {
 87             throw new DCmdException(&quot;No recordings to dump from. Use JFR.start to start a recording.&quot;);
 88         }
 89 
 90         if (maxAge != null) {
 91             if (end != null || begin != null) {
 92                 throw new DCmdException(&quot;Dump failed, maxage can&#39;t be combined with begin or end.&quot;);
 93             }
 94 
 95             if (maxAge &lt; 0) {
 96                 throw new DCmdException(&quot;Dump failed, maxage can&#39;t be negative.&quot;);
 97             }
 98             if (maxAge == 0) {
 99                 maxAge = Long.MAX_VALUE / 2; // a high value that won&#39;t overflow
100             }
101         }
102 
</pre>
</td>
<td>
<hr />
<pre>
 62      *
 63      * @param filename file path where recording should be written, not null
 64      * @param maxAge how far back in time to dump, may be null
 65      * @param maxSize how far back in size to dump data from, may be null
 66      * @param begin point in time to dump data from, may be null
 67      * @param end point in time to dump data to, may be null
 68      * @param pathToGcRoots if Java heap should be swept for reference chains
 69      *
 70      * @return result output
 71      *
 72      * @throws DCmdException if the dump could not be completed
 73      */
 74     public String execute(String name, String filename, Long maxAge, Long maxSize, String begin, String end, Boolean pathToGcRoots) throws DCmdException {
 75         if (Logger.shouldLog(LogTag.JFR_DCMD, LogLevel.DEBUG)) {
 76             Logger.log(LogTag.JFR_DCMD, LogLevel.DEBUG,
 77                     &quot;Executing DCmdDump: name=&quot; + name +
 78                     &quot;, filename=&quot; + filename +
 79                     &quot;, maxage=&quot; + maxAge +
 80                     &quot;, maxsize=&quot; + maxSize +
 81                     &quot;, begin=&quot; + begin +
<span class="line-modified"> 82                     &quot;, end=&quot; + end +</span>
 83                     &quot;, path-to-gc-roots=&quot; + pathToGcRoots);
 84         }
 85 
 86         if (FlightRecorder.getFlightRecorder().getRecordings().isEmpty()) {
 87             throw new DCmdException(&quot;No recordings to dump from. Use JFR.start to start a recording.&quot;);
 88         }
 89 
 90         if (maxAge != null) {
 91             if (end != null || begin != null) {
 92                 throw new DCmdException(&quot;Dump failed, maxage can&#39;t be combined with begin or end.&quot;);
 93             }
 94 
 95             if (maxAge &lt; 0) {
 96                 throw new DCmdException(&quot;Dump failed, maxage can&#39;t be negative.&quot;);
 97             }
 98             if (maxAge == 0) {
 99                 maxAge = Long.MAX_VALUE / 2; // a high value that won&#39;t overflow
100             }
101         }
102 
</pre>
</td>
</tr>
</table>
<center><a href="DCmdConfigure.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DCmdStart.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>