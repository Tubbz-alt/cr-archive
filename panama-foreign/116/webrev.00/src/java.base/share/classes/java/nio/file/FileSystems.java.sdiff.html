<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/nio/file/FileSystems.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../StringCharBuffer.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../util/GregorianCalendar.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/nio/file/FileSystems.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2007, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
209      * may require to check a permission before returning a reference to an
210      * existing file system. In the case of the {@link FileSystems#getDefault
211      * default} file system, no permission check is required.
212      *
213      * @param   uri  the URI to locate the file system
214      *
215      * @return  the reference to the file system
216      *
217      * @throws  IllegalArgumentException
218      *          if the pre-conditions for the {@code uri} parameter are not met
219      * @throws  FileSystemNotFoundException
220      *          if the file system, identified by the URI, does not exist
221      * @throws  ProviderNotFoundException
222      *          if a provider supporting the URI scheme is not installed
223      * @throws  SecurityException
224      *          if a security manager is installed and it denies an unspecified
225      *          permission
226      */
227     public static FileSystem getFileSystem(URI uri) {
228         String scheme = uri.getScheme();



229         for (FileSystemProvider provider: FileSystemProvider.installedProviders()) {
230             if (scheme.equalsIgnoreCase(provider.getScheme())) {
231                 return provider.getFileSystem(uri);
232             }
233         }
234         throw new ProviderNotFoundException(&quot;Provider \&quot;&quot; + scheme + &quot;\&quot; not found&quot;);
235     }
236 
237     /**
238      * Constructs a new file system that is identified by a {@link URI}
239      *
240      * &lt;p&gt; This method iterates over the {@link FileSystemProvider#installedProviders()
241      * installed} providers to locate the provider that is identified by the URI
242      * {@link URI#getScheme scheme} of the given URI. URI schemes are compared
243      * without regard to case. The exact form of the URI is highly provider
244      * dependent. If found, the provider&#39;s {@link FileSystemProvider#newFileSystem(URI,Map)
245      * newFileSystem(URI,Map)} method is invoked to construct the new file system.
246      *
247      * &lt;p&gt; Once a file system is {@link FileSystem#close closed} it is
248      * provider-dependent if the provider allows a new file system to be created
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2007, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
209      * may require to check a permission before returning a reference to an
210      * existing file system. In the case of the {@link FileSystems#getDefault
211      * default} file system, no permission check is required.
212      *
213      * @param   uri  the URI to locate the file system
214      *
215      * @return  the reference to the file system
216      *
217      * @throws  IllegalArgumentException
218      *          if the pre-conditions for the {@code uri} parameter are not met
219      * @throws  FileSystemNotFoundException
220      *          if the file system, identified by the URI, does not exist
221      * @throws  ProviderNotFoundException
222      *          if a provider supporting the URI scheme is not installed
223      * @throws  SecurityException
224      *          if a security manager is installed and it denies an unspecified
225      *          permission
226      */
227     public static FileSystem getFileSystem(URI uri) {
228         String scheme = uri.getScheme();
<span class="line-added">229         if (scheme == null) {</span>
<span class="line-added">230             throw new IllegalArgumentException(uri.toString());</span>
<span class="line-added">231         }</span>
232         for (FileSystemProvider provider: FileSystemProvider.installedProviders()) {
233             if (scheme.equalsIgnoreCase(provider.getScheme())) {
234                 return provider.getFileSystem(uri);
235             }
236         }
237         throw new ProviderNotFoundException(&quot;Provider \&quot;&quot; + scheme + &quot;\&quot; not found&quot;);
238     }
239 
240     /**
241      * Constructs a new file system that is identified by a {@link URI}
242      *
243      * &lt;p&gt; This method iterates over the {@link FileSystemProvider#installedProviders()
244      * installed} providers to locate the provider that is identified by the URI
245      * {@link URI#getScheme scheme} of the given URI. URI schemes are compared
246      * without regard to case. The exact form of the URI is highly provider
247      * dependent. If found, the provider&#39;s {@link FileSystemProvider#newFileSystem(URI,Map)
248      * newFileSystem(URI,Map)} method is invoked to construct the new file system.
249      *
250      * &lt;p&gt; Once a file system is {@link FileSystem#close closed} it is
251      * provider-dependent if the provider allows a new file system to be created
</pre>
</td>
</tr>
</table>
<center><a href="../StringCharBuffer.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../util/GregorianCalendar.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>