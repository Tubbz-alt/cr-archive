<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.xml.crypto/share/classes/org/jcp/xml/dsig/internal/dom/DOMXMLSignatureFactory.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="DOMKeyInfoFactory.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../java.xml/share/legal/xerces.md.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.xml.crypto/share/classes/org/jcp/xml/dsig/internal/dom/DOMXMLSignatureFactory.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
175         node.normalize();
176 
177         Element element = null;
178         if (node.getNodeType() == Node.DOCUMENT_NODE) {
179             element = ((Document) node).getDocumentElement();
180         } else if (node.getNodeType() == Node.ELEMENT_NODE) {
181             element = (Element) node;
182         } else {
183             throw new MarshalException
184                 (&quot;Signature element is not a proper Node&quot;);
185         }
186 
187         // check tag
188         String tag = element.getLocalName();
189         String namespace = element.getNamespaceURI();
190         if (tag == null || namespace == null) {
191             throw new MarshalException(&quot;Document implementation must &quot; +
192                 &quot;support DOM Level 2 and be namespace aware&quot;);
193         }
194         if (&quot;Signature&quot;.equals(tag) &amp;&amp; XMLSignature.XMLNS.equals(namespace)) {
<span class="line-modified">195             return new DOMXMLSignature(element, context, getProvider());</span>






196         } else {
<span class="line-modified">197             throw new MarshalException(&quot;invalid Signature tag: &quot; + namespace + &quot;:&quot; + tag);</span>
198         }
199     }
200 
201     public boolean isFeatureSupported(String feature) {
202         if (feature == null) {
203             throw new NullPointerException();
204         } else {
205             return false;
206         }
207     }
208 
209     public DigestMethod newDigestMethod(String algorithm,
210         DigestMethodParameterSpec params) throws NoSuchAlgorithmException,
211         InvalidAlgorithmParameterException {
212         if (algorithm == null) {
213             throw new NullPointerException();
214         }
215         if (algorithm.equals(DigestMethod.SHA1)) {
216             return new DOMDigestMethod.SHA1(params);
217         } else if (algorithm.equals(DOMDigestMethod.SHA224)) {
</pre>
</td>
<td>
<hr />
<pre>
175         node.normalize();
176 
177         Element element = null;
178         if (node.getNodeType() == Node.DOCUMENT_NODE) {
179             element = ((Document) node).getDocumentElement();
180         } else if (node.getNodeType() == Node.ELEMENT_NODE) {
181             element = (Element) node;
182         } else {
183             throw new MarshalException
184                 (&quot;Signature element is not a proper Node&quot;);
185         }
186 
187         // check tag
188         String tag = element.getLocalName();
189         String namespace = element.getNamespaceURI();
190         if (tag == null || namespace == null) {
191             throw new MarshalException(&quot;Document implementation must &quot; +
192                 &quot;support DOM Level 2 and be namespace aware&quot;);
193         }
194         if (&quot;Signature&quot;.equals(tag) &amp;&amp; XMLSignature.XMLNS.equals(namespace)) {
<span class="line-modified">195             try {</span>
<span class="line-added">196                 return new DOMXMLSignature(element, context, getProvider());</span>
<span class="line-added">197             } catch (MarshalException me) {</span>
<span class="line-added">198                 throw me;</span>
<span class="line-added">199             } catch (Exception e) {</span>
<span class="line-added">200                 throw new MarshalException(e);</span>
<span class="line-added">201             }</span>
202         } else {
<span class="line-modified">203             throw new MarshalException(&quot;Invalid Signature tag: &quot; + namespace + &quot;:&quot; + tag);</span>
204         }
205     }
206 
207     public boolean isFeatureSupported(String feature) {
208         if (feature == null) {
209             throw new NullPointerException();
210         } else {
211             return false;
212         }
213     }
214 
215     public DigestMethod newDigestMethod(String algorithm,
216         DigestMethodParameterSpec params) throws NoSuchAlgorithmException,
217         InvalidAlgorithmParameterException {
218         if (algorithm == null) {
219             throw new NullPointerException();
220         }
221         if (algorithm.equals(DigestMethod.SHA1)) {
222             return new DOMDigestMethod.SHA1(params);
223         } else if (algorithm.equals(DOMDigestMethod.SHA224)) {
</pre>
</td>
</tr>
</table>
<center><a href="DOMKeyInfoFactory.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../java.xml/share/legal/xerces.md.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>