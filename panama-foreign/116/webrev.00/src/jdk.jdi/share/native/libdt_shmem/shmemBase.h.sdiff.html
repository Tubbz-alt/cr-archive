<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.jdi/share/native/libdt_shmem/shmemBase.h</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../../classes/com/sun/tools/jdi/EventSetImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../../windows/native/libdt_shmem/shmem_md.c.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.jdi/share/native/libdt_shmem/shmemBase.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
32 
33 typedef struct SharedMemoryConnection SharedMemoryConnection;
34 typedef struct SharedMemoryTransport SharedMemoryTransport;
35 
36 typedef void * (*SharedMemAllocFunc)(jint);
37 typedef void  (*SharedMemFreeFunc)(void);
38 
39 jint shmemBase_initialize(JavaVM *, jdwpTransportCallback *callback);
40 jint shmemBase_listen(const char *address, SharedMemoryTransport **);
41 jint shmemBase_accept(SharedMemoryTransport *, long, SharedMemoryConnection **);
42 jint shmemBase_attach(const char *addressString, long, SharedMemoryConnection **);
43 void shmemBase_closeConnection(SharedMemoryConnection *);
44 void shmemBase_closeTransport(SharedMemoryTransport *);
45 jint shmemBase_sendByte(SharedMemoryConnection *, jbyte data);
46 jint shmemBase_receiveByte(SharedMemoryConnection *, jbyte *data);
47 jint shmemBase_sendPacket(SharedMemoryConnection *, const jdwpPacket *packet);
48 jint shmemBase_receivePacket(SharedMemoryConnection *, jdwpPacket *packet);
49 jint shmemBase_name(SharedMemoryTransport *, char **name);
50 jint shmemBase_getlasterror(char *msg, jint size);
51 
<span class="line-removed">52 /* Use THIS_FILE when it is available. */</span>
<span class="line-removed">53 #ifndef THIS_FILE</span>
<span class="line-removed">54     #define THIS_FILE __FILE__</span>
<span class="line-removed">55 #endif</span>
<span class="line-removed">56 </span>
57 #ifdef DEBUG
58 #define SHMEM_ASSERT(expression)  \
59 do {                            \
60     if (!(expression)) {                \
<span class="line-modified">61         exitTransportWithError(&quot;assertion failed&quot;, THIS_FILE, __DATE__, __LINE__); \</span>
62     } \
63 } while (0)
64 #else
65 #define SHMEM_ASSERT(expression) ((void) 0)
66 #endif
67 
68 #define SHMEM_GUARANTEE(expression) \
69 do {                            \
70     if (!(expression)) {                \
<span class="line-modified">71         exitTransportWithError(&quot;assertion failed&quot;, THIS_FILE, __DATE__, __LINE__); \</span>
72     } \
73 } while (0)
74 
75 #endif
</pre>
</td>
<td>
<hr />
<pre>
32 
33 typedef struct SharedMemoryConnection SharedMemoryConnection;
34 typedef struct SharedMemoryTransport SharedMemoryTransport;
35 
36 typedef void * (*SharedMemAllocFunc)(jint);
37 typedef void  (*SharedMemFreeFunc)(void);
38 
39 jint shmemBase_initialize(JavaVM *, jdwpTransportCallback *callback);
40 jint shmemBase_listen(const char *address, SharedMemoryTransport **);
41 jint shmemBase_accept(SharedMemoryTransport *, long, SharedMemoryConnection **);
42 jint shmemBase_attach(const char *addressString, long, SharedMemoryConnection **);
43 void shmemBase_closeConnection(SharedMemoryConnection *);
44 void shmemBase_closeTransport(SharedMemoryTransport *);
45 jint shmemBase_sendByte(SharedMemoryConnection *, jbyte data);
46 jint shmemBase_receiveByte(SharedMemoryConnection *, jbyte *data);
47 jint shmemBase_sendPacket(SharedMemoryConnection *, const jdwpPacket *packet);
48 jint shmemBase_receivePacket(SharedMemoryConnection *, jdwpPacket *packet);
49 jint shmemBase_name(SharedMemoryTransport *, char **name);
50 jint shmemBase_getlasterror(char *msg, jint size);
51 





52 #ifdef DEBUG
53 #define SHMEM_ASSERT(expression)  \
54 do {                            \
55     if (!(expression)) {                \
<span class="line-modified">56         exitTransportWithError(&quot;assertion failed&quot;, __FILE__, __DATE__, __LINE__); \</span>
57     } \
58 } while (0)
59 #else
60 #define SHMEM_ASSERT(expression) ((void) 0)
61 #endif
62 
63 #define SHMEM_GUARANTEE(expression) \
64 do {                            \
65     if (!(expression)) {                \
<span class="line-modified">66         exitTransportWithError(&quot;assertion failed&quot;, __FILE__, __DATE__, __LINE__); \</span>
67     } \
68 } while (0)
69 
70 #endif
</pre>
</td>
</tr>
</table>
<center><a href="../../classes/com/sun/tools/jdi/EventSetImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../../windows/native/libdt_shmem/shmem_md.c.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>