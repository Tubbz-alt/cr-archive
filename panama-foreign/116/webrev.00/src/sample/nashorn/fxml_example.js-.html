<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old src/sample/nashorn/fxml_example.js</title>
    <link rel="stylesheet" href="../../../style.css" />
  </head>
  <body>
    <pre>
 1 #Usage: jjs -fx fxml_example.js
 2 #nashorn simple example using FXML with #javafx
 3 
 4 /*
 5  * Copyright (c) 2015, Oracle and/or its affiliates. All rights reserved.
 6  *
 7  * Redistribution and use in source and binary forms, with or without
 8  * modification, are permitted provided that the following conditions
 9  * are met:
10  *
11  *   - Redistributions of source code must retain the above copyright
12  *     notice, this list of conditions and the following disclaimer.
13  *
14  *   - Redistributions in binary form must reproduce the above copyright
15  *     notice, this list of conditions and the following disclaimer in the
16  *     documentation and/or other materials provided with the distribution.
17  *
18  *   - Neither the name of Oracle nor the names of its
19  *     contributors may be used to endorse or promote products derived
20  *     from this software without specific prior written permission.
21  *
22  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS
23  * IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
24  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
25  * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
26  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
27  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
28  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
29  * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
30  * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
31  * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
32  * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
33  */
34  
35 // See also https://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html
36  
37 if (! $OPTIONS._fx) {
38     print(&quot;Usage: jjs -fx fxml_example.js&quot;);
39     exit(1);
40 }
41  
42 // inline FXML document here
43 var fxml = &lt;&lt;EOF
44  
45 &lt;?import javafx.scene.*?&gt;
46 &lt;?import javafx.scene.control.*?&gt;
47 &lt;?import javafx.scene.layout.*?&gt;
48  
49 &lt;VBox xmlns:fx=&quot;http://javafx.com/fxml&quot;&gt;
50     &lt;children&gt;
51     &lt;!-- ids will be used script later --&gt;
52     &lt;HBox&gt;
53         &lt;Label text=&quot;Your name please:&quot;/&gt;
54         &lt;TextField fx:id=&quot;nameText&quot; text=&quot;Nashorn&quot;/&gt;
55     &lt;/HBox&gt;
56     &lt;Button fx:id=&quot;clickButton&quot; text=&quot;Click!&quot;/&gt;
57     &lt;/children&gt;
58 &lt;/VBox&gt;
59  
60 EOF
61  
62 // Java and FX classes used
63 var ByteArrayInputStream = Java.type(&quot;java.io.ByteArrayInputStream&quot;);
64 var FXMLLoader = Java.type(&quot;javafx.fxml.FXMLLoader&quot;);
65 var Scene = Java.type(&quot;javafx.scene.Scene&quot;);
66  
67 function start(stage) {
68     var loader = new FXMLLoader();
69     // load FXML from a string
70     var root = loader.load(new ByteArrayInputStream(fxml.getBytes(&quot;UTF-8&quot;)));
71  
72     // get the button and the text field controls
73     var button = root.lookup(&quot;#clickButton&quot;);
74     var textField = root.lookup(&quot;#nameText&quot;);
75  
76     // event handler for button
77     var clickCount = 0;
78     button.onAction = function() {
79         print(textField.text + &quot;, you clicked me: &quot; + ++clickCount + &quot; time(s)&quot;);
80     }
81  
82     var scene = new Scene(root, 300, 275);
83     stage.title = &quot;FXML Example&quot;;
84     stage.scene = scene;
85     stage.show();
86 } 
    </pre>
  </body>
</html>