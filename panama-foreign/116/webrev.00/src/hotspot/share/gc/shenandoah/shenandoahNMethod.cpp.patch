diff a/src/hotspot/share/gc/shenandoah/shenandoahNMethod.cpp b/src/hotspot/share/gc/shenandoah/shenandoahNMethod.cpp
--- a/src/hotspot/share/gc/shenandoah/shenandoahNMethod.cpp
+++ b/src/hotspot/share/gc/shenandoah/shenandoahNMethod.cpp
@@ -211,11 +211,11 @@
       data->oops_do(&cl);
     } else {
       ShenandoahKeepNMethodMetadataAliveClosure<false> cl;
       data->oops_do(&cl);
     }
-  } else if (heap->is_concurrent_root_in_progress()) {
+  } else if (heap->is_concurrent_weak_root_in_progress()) {
     ShenandoahEvacOOMScope evac_scope;
     ShenandoahEvacuateUpdateRootsClosure<> cl;
     data->oops_do(&cl, true /*fix relocation*/);
   } else {
     // There is possibility that GC is cancelled when it arrives final mark.
