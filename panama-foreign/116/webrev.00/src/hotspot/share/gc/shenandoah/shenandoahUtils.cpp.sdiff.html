<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/gc/shenandoah/shenandoahUtils.cpp</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="shenandoahUnload.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="shenandoahUtils.hpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/gc/shenandoah/shenandoahUtils.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 68   _heap-&gt;trace_heap_after_gc(_tracer);
 69   _tracer-&gt;report_gc_end(_timer-&gt;gc_end(), _timer-&gt;time_partitions());
 70   assert(!ShenandoahGCPhase::is_current_phase_valid(), &quot;No current GC phase&quot;);
 71   _heap-&gt;set_gc_cause(GCCause::_no_gc);
 72 }
 73 
 74 ShenandoahGCPauseMark::ShenandoahGCPauseMark(uint gc_id, SvcGCMarker::reason_type type) :
 75   _heap(ShenandoahHeap::heap()), _gc_id_mark(gc_id), _svc_gc_mark(type), _is_gc_active_mark() {
 76   _trace_pause.initialize(_heap-&gt;stw_memory_manager(), _heap-&gt;gc_cause(),
 77           /* allMemoryPoolsAffected */    true,
 78           /* recordGCBeginTime = */       true,
 79           /* recordPreGCUsage = */        false,
 80           /* recordPeakUsage = */         false,
 81           /* recordPostGCUsage = */       false,
 82           /* recordAccumulatedGCTime = */ true,
 83           /* recordGCEndTime = */         true,
 84           /* countCollection = */         true
 85   );
 86 }
 87 
<span class="line-modified"> 88 ShenandoahPausePhase::ShenandoahPausePhase(const char* title) :</span>
<span class="line-modified"> 89   _tracer(title),</span>
 90   _timer(ShenandoahHeap::heap()-&gt;gc_timer()) {
 91   _timer-&gt;register_gc_pause_start(title);
 92 }
 93 
 94 ShenandoahPausePhase::~ShenandoahPausePhase() {
 95   _timer-&gt;register_gc_pause_end();
 96 }
 97 
 98 ShenandoahConcurrentPhase::ShenandoahConcurrentPhase(const char* title, bool log_heap_usage) :
 99   _tracer(title, NULL, GCCause::_no_gc, log_heap_usage),
100   _timer(ShenandoahHeap::heap()-&gt;gc_timer()) {
101   _timer-&gt;register_gc_concurrent_start(title);
102 }
103 
104 ShenandoahConcurrentPhase::~ShenandoahConcurrentPhase() {
105   _timer-&gt;register_gc_concurrent_end();
106 }
107 
108 ShenandoahGCPhase::ShenandoahGCPhase(ShenandoahPhaseTimings::Phase phase) :
109   _timings(ShenandoahHeap::heap()-&gt;phase_timings()), _phase(phase) {
</pre>
</td>
<td>
<hr />
<pre>
 68   _heap-&gt;trace_heap_after_gc(_tracer);
 69   _tracer-&gt;report_gc_end(_timer-&gt;gc_end(), _timer-&gt;time_partitions());
 70   assert(!ShenandoahGCPhase::is_current_phase_valid(), &quot;No current GC phase&quot;);
 71   _heap-&gt;set_gc_cause(GCCause::_no_gc);
 72 }
 73 
 74 ShenandoahGCPauseMark::ShenandoahGCPauseMark(uint gc_id, SvcGCMarker::reason_type type) :
 75   _heap(ShenandoahHeap::heap()), _gc_id_mark(gc_id), _svc_gc_mark(type), _is_gc_active_mark() {
 76   _trace_pause.initialize(_heap-&gt;stw_memory_manager(), _heap-&gt;gc_cause(),
 77           /* allMemoryPoolsAffected */    true,
 78           /* recordGCBeginTime = */       true,
 79           /* recordPreGCUsage = */        false,
 80           /* recordPeakUsage = */         false,
 81           /* recordPostGCUsage = */       false,
 82           /* recordAccumulatedGCTime = */ true,
 83           /* recordGCEndTime = */         true,
 84           /* countCollection = */         true
 85   );
 86 }
 87 
<span class="line-modified"> 88 ShenandoahPausePhase::ShenandoahPausePhase(const char* title, bool log_heap_usage) :</span>
<span class="line-modified"> 89   _tracer(title, NULL, GCCause::_no_gc, log_heap_usage),</span>
 90   _timer(ShenandoahHeap::heap()-&gt;gc_timer()) {
 91   _timer-&gt;register_gc_pause_start(title);
 92 }
 93 
 94 ShenandoahPausePhase::~ShenandoahPausePhase() {
 95   _timer-&gt;register_gc_pause_end();
 96 }
 97 
 98 ShenandoahConcurrentPhase::ShenandoahConcurrentPhase(const char* title, bool log_heap_usage) :
 99   _tracer(title, NULL, GCCause::_no_gc, log_heap_usage),
100   _timer(ShenandoahHeap::heap()-&gt;gc_timer()) {
101   _timer-&gt;register_gc_concurrent_start(title);
102 }
103 
104 ShenandoahConcurrentPhase::~ShenandoahConcurrentPhase() {
105   _timer-&gt;register_gc_concurrent_end();
106 }
107 
108 ShenandoahGCPhase::ShenandoahGCPhase(ShenandoahPhaseTimings::Phase phase) :
109   _timings(ShenandoahHeap::heap()-&gt;phase_timings()), _phase(phase) {
</pre>
</td>
</tr>
</table>
<center><a href="shenandoahUnload.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="shenandoahUtils.hpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>