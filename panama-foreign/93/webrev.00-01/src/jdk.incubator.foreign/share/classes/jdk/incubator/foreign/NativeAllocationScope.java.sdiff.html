<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.incubator.foreign/share/classes/jdk/incubator/foreign/NativeAllocationScope.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../internal/foreign/BoundedAllocationScope.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.incubator.foreign/share/classes/jdk/incubator/foreign/NativeAllocationScope.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
222      * @param bytesAlignment the alignment (in bytes) of the block of memory to be allocated.
223      * @return an address which points to the newly allocated memory block.
224      * @throws OutOfMemoryError if there is not enough space left in this allocation scope, that is, if
225      * {@code limit() - size() &lt; bytesSize}.
226      */
227     public abstract MemoryAddress allocate(long bytesSize, long bytesAlignment);
228 
229     /**
230      * Close this allocation scope; calling this method will render any address obtained through this allocation scope
231      * unusable and might release any backing memory resources associated with this allocation scope.
232      */
233     @Override
234     public abstract void close();
235 
236     /**
237      * Creates a new bounded allocation scope, backed by off-heap memory.
238      * @param size the size of the allocation scope.
239      * @return a new bounded allocation scope, with given size (in bytes).
240      */
241     public static NativeAllocationScope boundedScope(long size) {
<span class="line-modified">242         return new BoundedAllocationScope(MemorySegment.allocateNative(size));</span>
243     }
244 
245     /**
246      * Creates a new unbounded allocation scope, backed by off-heap memory.
247      * @return a new unbounded allocation scope.
248      */
249     public static NativeAllocationScope unboundedScope() {
<span class="line-modified">250         return new UnboundedAllocationScope(MemorySegment::allocateNative);</span>
251     }
252 }
</pre>
</td>
<td>
<hr />
<pre>
222      * @param bytesAlignment the alignment (in bytes) of the block of memory to be allocated.
223      * @return an address which points to the newly allocated memory block.
224      * @throws OutOfMemoryError if there is not enough space left in this allocation scope, that is, if
225      * {@code limit() - size() &lt; bytesSize}.
226      */
227     public abstract MemoryAddress allocate(long bytesSize, long bytesAlignment);
228 
229     /**
230      * Close this allocation scope; calling this method will render any address obtained through this allocation scope
231      * unusable and might release any backing memory resources associated with this allocation scope.
232      */
233     @Override
234     public abstract void close();
235 
236     /**
237      * Creates a new bounded allocation scope, backed by off-heap memory.
238      * @param size the size of the allocation scope.
239      * @return a new bounded allocation scope, with given size (in bytes).
240      */
241     public static NativeAllocationScope boundedScope(long size) {
<span class="line-modified">242         return new BoundedAllocationScope(size);</span>
243     }
244 
245     /**
246      * Creates a new unbounded allocation scope, backed by off-heap memory.
247      * @return a new unbounded allocation scope.
248      */
249     public static NativeAllocationScope unboundedScope() {
<span class="line-modified">250         return new UnboundedAllocationScope();</span>
251     }
252 }
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../internal/foreign/BoundedAllocationScope.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>