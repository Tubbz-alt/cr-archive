<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff doc/panama_jextract.html</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../index.html" target="_top">index</a> <a href="panama_jextract.md.sdiff.html" target="_top">next &gt;</a></center>    <h2>doc/panama_jextract.html</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
234 &lt;div class=&quot;sourceCode&quot; id=&quot;cb10&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb10-1&quot;&gt;&lt;a href=&quot;#cb10-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
235 &lt;span id=&quot;cb10-2&quot;&gt;&lt;a href=&quot;#cb10-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -l readline -t org.unix \&lt;/span&gt;
236 &lt;span id=&quot;cb10-3&quot;&gt;&lt;a href=&quot;#cb10-3&quot;&gt;&lt;/a&gt;  -I /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include \&lt;/span&gt;
237 &lt;span id=&quot;cb10-4&quot;&gt;&lt;a href=&quot;#cb10-4&quot;&gt;&lt;/a&gt;   /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include/readline/readline.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
238 &lt;h3 id=&quot;java-code-that-uses-readline&quot;&gt;Java code that uses readline&lt;/h3&gt;
239 &lt;div class=&quot;sourceCode&quot; id=&quot;cb11&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb11-1&quot;&gt;&lt;a href=&quot;#cb11-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
240 &lt;span id=&quot;cb11-2&quot;&gt;&lt;a href=&quot;#cb11-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.Cstring;&lt;/span&gt;&lt;/span&gt;
241 &lt;span id=&quot;cb11-3&quot;&gt;&lt;a href=&quot;#cb11-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;
242 &lt;span id=&quot;cb11-4&quot;&gt;&lt;a href=&quot;#cb11-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.readline_h.*;&lt;/span&gt;&lt;/span&gt;
243 &lt;span id=&quot;cb11-5&quot;&gt;&lt;a href=&quot;#cb11-5&quot;&gt;&lt;/a&gt;&lt;/span&gt;
244 &lt;span id=&quot;cb11-6&quot;&gt;&lt;a href=&quot;#cb11-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; Readline {&lt;/span&gt;
245 &lt;span id=&quot;cb11-7&quot;&gt;&lt;a href=&quot;#cb11-7&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
246 &lt;span id=&quot;cb11-8&quot;&gt;&lt;a href=&quot;#cb11-8&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var s = Cstring.&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;name? &amp;quot;&lt;/span&gt;)) {&lt;/span&gt;
247 &lt;span id=&quot;cb11-9&quot;&gt;&lt;a href=&quot;#cb11-9&quot;&gt;&lt;/a&gt;            var pstr = s.&lt;span class=&quot;fu&quot;&gt;baseAddress&lt;/span&gt;();&lt;/span&gt;
248 &lt;span id=&quot;cb11-10&quot;&gt;&lt;a href=&quot;#cb11-10&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// call &amp;quot;readline&amp;quot; API&lt;/span&gt;&lt;/span&gt;
249 &lt;span id=&quot;cb11-11&quot;&gt;&lt;a href=&quot;#cb11-11&quot;&gt;&lt;/a&gt;            var p = &lt;span class=&quot;fu&quot;&gt;readline&lt;/span&gt;(pstr);&lt;/span&gt;
250 &lt;span id=&quot;cb11-12&quot;&gt;&lt;a href=&quot;#cb11-12&quot;&gt;&lt;/a&gt;&lt;/span&gt;
251 &lt;span id=&quot;cb11-13&quot;&gt;&lt;a href=&quot;#cb11-13&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// print char* as is&lt;/span&gt;&lt;/span&gt;
252 &lt;span id=&quot;cb11-14&quot;&gt;&lt;a href=&quot;#cb11-14&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(p);&lt;/span&gt;
253 &lt;span id=&quot;cb11-15&quot;&gt;&lt;a href=&quot;#cb11-15&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// convert char* ptr from readline as Java String &amp;amp; print it&lt;/span&gt;&lt;/span&gt;
<span class="line-modified">254 &lt;span id=&quot;cb11-16&quot;&gt;&lt;a href=&quot;#cb11-16&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello, &amp;quot;&lt;/span&gt; + Cstring.&lt;span class=&quot;fu&quot;&gt;toJavaString&lt;/span&gt;(p));&lt;/span&gt;</span>
255 &lt;span id=&quot;cb11-17&quot;&gt;&lt;a href=&quot;#cb11-17&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
256 &lt;span id=&quot;cb11-18&quot;&gt;&lt;a href=&quot;#cb11-18&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
257 &lt;span id=&quot;cb11-19&quot;&gt;&lt;a href=&quot;#cb11-19&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
258 &lt;h3 id=&quot;running-the-java-code-that-uses-readline&quot;&gt;Running the java code that uses readline&lt;/h3&gt;
259 &lt;pre&gt;&lt;code&gt;java -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \
260     -Djava.library.path=/usr/local/opt/readline/lib/ Readline.java
261 &lt;/code&gt;&lt;/pre&gt;
262 &lt;h2 id=&quot;using-libcurl-from-java-mac-os&quot;&gt;Using libcurl from Java (Mac OS)&lt;/h2&gt;
263 &lt;h3 id=&quot;jextract-curl.h&quot;&gt;jextract curl.h&lt;/h3&gt;
264 &lt;div class=&quot;sourceCode&quot; id=&quot;cb13&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb13-1&quot;&gt;&lt;a href=&quot;#cb13-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
265 &lt;span id=&quot;cb13-2&quot;&gt;&lt;a href=&quot;#cb13-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -t org.unix -lcurl \&lt;/span&gt;
266 &lt;span id=&quot;cb13-3&quot;&gt;&lt;a href=&quot;#cb13-3&quot;&gt;&lt;/a&gt;  -I /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include/ \&lt;/span&gt;
267 &lt;span id=&quot;cb13-4&quot;&gt;&lt;a href=&quot;#cb13-4&quot;&gt;&lt;/a&gt;  -I /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include/curl/ \&lt;/span&gt;
268 &lt;span id=&quot;cb13-5&quot;&gt;&lt;a href=&quot;#cb13-5&quot;&gt;&lt;/a&gt;  /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include/curl/curl.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
269 &lt;h3 id=&quot;java-code-that-uses-libcurl&quot;&gt;Java code that uses libcurl&lt;/h3&gt;
270 &lt;div class=&quot;sourceCode&quot; id=&quot;cb14&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb14-1&quot;&gt;&lt;a href=&quot;#cb14-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
271 &lt;span id=&quot;cb14-2&quot;&gt;&lt;a href=&quot;#cb14-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.Cstring;&lt;/span&gt;&lt;/span&gt;
272 &lt;span id=&quot;cb14-3&quot;&gt;&lt;a href=&quot;#cb14-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;
273 &lt;span id=&quot;cb14-4&quot;&gt;&lt;a href=&quot;#cb14-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;
274 &lt;span id=&quot;cb14-5&quot;&gt;&lt;a href=&quot;#cb14-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.curl_h.*;&lt;/span&gt;&lt;/span&gt;
</pre>
<hr />
<pre>
576 &lt;span id=&quot;cb31-19&quot;&gt;&lt;a href=&quot;#cb31-19&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_open failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;
577 &lt;span id=&quot;cb31-20&quot;&gt;&lt;a href=&quot;#cb31-20&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;
578 &lt;span id=&quot;cb31-21&quot;&gt;&lt;a href=&quot;#cb31-21&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;
579 &lt;span id=&quot;cb31-22&quot;&gt;&lt;a href=&quot;#cb31-22&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;employee db opened&amp;quot;&lt;/span&gt;);&lt;/span&gt;
580 &lt;span id=&quot;cb31-23&quot;&gt;&lt;a href=&quot;#cb31-23&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;
581 &lt;span id=&quot;cb31-24&quot;&gt;&lt;a href=&quot;#cb31-24&quot;&gt;&lt;/a&gt;&lt;/span&gt;
582 &lt;span id=&quot;cb31-25&quot;&gt;&lt;a href=&quot;#cb31-25&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// sqlite3* dbPtr;&lt;/span&gt;&lt;/span&gt;
583 &lt;span id=&quot;cb31-26&quot;&gt;&lt;a href=&quot;#cb31-26&quot;&gt;&lt;/a&gt;            var dbPtr = Cpointer.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(dbPtrPtr);&lt;/span&gt;
584 &lt;span id=&quot;cb31-27&quot;&gt;&lt;a href=&quot;#cb31-27&quot;&gt;&lt;/a&gt;&lt;/span&gt;
585 &lt;span id=&quot;cb31-28&quot;&gt;&lt;a href=&quot;#cb31-28&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// create a new table&lt;/span&gt;&lt;/span&gt;
586 &lt;span id=&quot;cb31-29&quot;&gt;&lt;a href=&quot;#cb31-29&quot;&gt;&lt;/a&gt;            var sql = Cstring.&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;/span&gt;
587 &lt;span id=&quot;cb31-30&quot;&gt;&lt;a href=&quot;#cb31-30&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;CREATE TABLE EMPLOYEE (&amp;quot;&lt;/span&gt;  +&lt;/span&gt;
588 &lt;span id=&quot;cb31-31&quot;&gt;&lt;a href=&quot;#cb31-31&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;  ID INT PRIMARY KEY NOT NULL,&amp;quot;&lt;/span&gt; +&lt;/span&gt;
589 &lt;span id=&quot;cb31-32&quot;&gt;&lt;a href=&quot;#cb31-32&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;  NAME TEXT NOT NULL,&amp;quot;&lt;/span&gt;    +&lt;/span&gt;
590 &lt;span id=&quot;cb31-33&quot;&gt;&lt;a href=&quot;#cb31-33&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;  SALARY REAL NOT NULL )&amp;quot;&lt;/span&gt;, scope);&lt;/span&gt;
591 &lt;span id=&quot;cb31-34&quot;&gt;&lt;a href=&quot;#cb31-34&quot;&gt;&lt;/a&gt;&lt;/span&gt;
592 &lt;span id=&quot;cb31-35&quot;&gt;&lt;a href=&quot;#cb31-35&quot;&gt;&lt;/a&gt;            rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_exec&lt;/span&gt;(dbPtr, sql, NULL, NULL, errMsgPtrPtr);&lt;/span&gt;
593 &lt;span id=&quot;cb31-36&quot;&gt;&lt;a href=&quot;#cb31-36&quot;&gt;&lt;/a&gt;&lt;/span&gt;
594 &lt;span id=&quot;cb31-37&quot;&gt;&lt;a href=&quot;#cb31-37&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;
595 &lt;span id=&quot;cb31-38&quot;&gt;&lt;a href=&quot;#cb31-38&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_exec failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;
<span class="line-modified">596 &lt;span id=&quot;cb31-39&quot;&gt;&lt;a href=&quot;#cb31-39&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SQL error: &amp;quot;&lt;/span&gt; + Cstring.&lt;span class=&quot;fu&quot;&gt;toJavaString&lt;/span&gt;(Cpointer.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(errMsgPtrPtr)));&lt;/span&gt;</span>
597 &lt;span id=&quot;cb31-40&quot;&gt;&lt;a href=&quot;#cb31-40&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;sqlite3_free&lt;/span&gt;(Cpointer.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(errMsgPtrPtr));&lt;/span&gt;
598 &lt;span id=&quot;cb31-41&quot;&gt;&lt;a href=&quot;#cb31-41&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;
599 &lt;span id=&quot;cb31-42&quot;&gt;&lt;a href=&quot;#cb31-42&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;employee table created&amp;quot;&lt;/span&gt;);&lt;/span&gt;
600 &lt;span id=&quot;cb31-43&quot;&gt;&lt;a href=&quot;#cb31-43&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;
601 &lt;span id=&quot;cb31-44&quot;&gt;&lt;a href=&quot;#cb31-44&quot;&gt;&lt;/a&gt;&lt;/span&gt;
602 &lt;span id=&quot;cb31-45&quot;&gt;&lt;a href=&quot;#cb31-45&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// insert two rows&lt;/span&gt;&lt;/span&gt;
603 &lt;span id=&quot;cb31-46&quot;&gt;&lt;a href=&quot;#cb31-46&quot;&gt;&lt;/a&gt;            sql = Cstring.&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;/span&gt;
604 &lt;span id=&quot;cb31-47&quot;&gt;&lt;a href=&quot;#cb31-47&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;INSERT INTO EMPLOYEE (ID,NAME,SALARY) &amp;quot;&lt;/span&gt; +&lt;/span&gt;
605 &lt;span id=&quot;cb31-48&quot;&gt;&lt;a href=&quot;#cb31-48&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;st&quot;&gt;&amp;quot;VALUES (134, &amp;#39;Xyz&amp;#39;, 200000.0); &amp;quot;&lt;/span&gt; +&lt;/span&gt;
606 &lt;span id=&quot;cb31-49&quot;&gt;&lt;a href=&quot;#cb31-49&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;INSERT INTO EMPLOYEE (ID,NAME,SALARY) &amp;quot;&lt;/span&gt; +&lt;/span&gt;
607 &lt;span id=&quot;cb31-50&quot;&gt;&lt;a href=&quot;#cb31-50&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;st&quot;&gt;&amp;quot;VALUES (333, &amp;#39;Abc&amp;#39;, 100000.0);&amp;quot;&lt;/span&gt;, scope&lt;/span&gt;
608 &lt;span id=&quot;cb31-51&quot;&gt;&lt;a href=&quot;#cb31-51&quot;&gt;&lt;/a&gt;            );&lt;/span&gt;
609 &lt;span id=&quot;cb31-52&quot;&gt;&lt;a href=&quot;#cb31-52&quot;&gt;&lt;/a&gt;            rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_exec&lt;/span&gt;(dbPtr, sql, NULL, NULL, errMsgPtrPtr);&lt;/span&gt;
610 &lt;span id=&quot;cb31-53&quot;&gt;&lt;a href=&quot;#cb31-53&quot;&gt;&lt;/a&gt;&lt;/span&gt;
611 &lt;span id=&quot;cb31-54&quot;&gt;&lt;a href=&quot;#cb31-54&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;
612 &lt;span id=&quot;cb31-55&quot;&gt;&lt;a href=&quot;#cb31-55&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_exec failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;
<span class="line-modified">613 &lt;span id=&quot;cb31-56&quot;&gt;&lt;a href=&quot;#cb31-56&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SQL error: &amp;quot;&lt;/span&gt; + Cstring.&lt;span class=&quot;fu&quot;&gt;toJavaString&lt;/span&gt;(Cpointer.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(errMsgPtrPtr)));&lt;/span&gt;</span>
614 &lt;span id=&quot;cb31-57&quot;&gt;&lt;a href=&quot;#cb31-57&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;sqlite3_free&lt;/span&gt;(Cpointer.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(errMsgPtrPtr));&lt;/span&gt;
615 &lt;span id=&quot;cb31-58&quot;&gt;&lt;a href=&quot;#cb31-58&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;
616 &lt;span id=&quot;cb31-59&quot;&gt;&lt;a href=&quot;#cb31-59&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;rows inserted&amp;quot;&lt;/span&gt;);&lt;/span&gt;
617 &lt;span id=&quot;cb31-60&quot;&gt;&lt;a href=&quot;#cb31-60&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;
618 &lt;span id=&quot;cb31-61&quot;&gt;&lt;a href=&quot;#cb31-61&quot;&gt;&lt;/a&gt;&lt;/span&gt;
619 &lt;span id=&quot;cb31-62&quot;&gt;&lt;a href=&quot;#cb31-62&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;[] rowNum = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;];&lt;/span&gt;
620 &lt;span id=&quot;cb31-63&quot;&gt;&lt;a href=&quot;#cb31-63&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// callback to print rows from SELECT query&lt;/span&gt;&lt;/span&gt;
621 &lt;span id=&quot;cb31-64&quot;&gt;&lt;a href=&quot;#cb31-64&quot;&gt;&lt;/a&gt;            var callback = sqlite3_exec$callback.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;((a, argc, argv, columnNames) -&amp;gt; {&lt;/span&gt;
622 &lt;span id=&quot;cb31-65&quot;&gt;&lt;a href=&quot;#cb31-65&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Row num: &amp;quot;&lt;/span&gt; + rowNum[&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;]++);&lt;/span&gt;
623 &lt;span id=&quot;cb31-66&quot;&gt;&lt;a href=&quot;#cb31-66&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;numColumns = &amp;quot;&lt;/span&gt; + argc);&lt;/span&gt;
<span class="line-modified">624 &lt;span id=&quot;cb31-67&quot;&gt;&lt;a href=&quot;#cb31-67&quot;&gt;&lt;/a&gt;                argv = Cpointer.&lt;span class=&quot;fu&quot;&gt;asArray&lt;/span&gt;(argv, argc);&lt;/span&gt;</span>
<span class="line-modified">625 &lt;span id=&quot;cb31-68&quot;&gt;&lt;a href=&quot;#cb31-68&quot;&gt;&lt;/a&gt;                columnNames = Cpointer.&lt;span class=&quot;fu&quot;&gt;asArray&lt;/span&gt;(columnNames, argc);&lt;/span&gt;</span>
626 &lt;span id=&quot;cb31-69&quot;&gt;&lt;a href=&quot;#cb31-69&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; argc; i++) {&lt;/span&gt;
<span class="line-modified">627 &lt;span id=&quot;cb31-70&quot;&gt;&lt;a href=&quot;#cb31-70&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; name = Cstring.&lt;span class=&quot;fu&quot;&gt;toJavaString&lt;/span&gt;(Cpointer.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(columnNames, i));&lt;/span&gt;</span>
<span class="line-modified">628 &lt;span id=&quot;cb31-71&quot;&gt;&lt;a href=&quot;#cb31-71&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; value = Cstring.&lt;span class=&quot;fu&quot;&gt;toJavaString&lt;/span&gt;(Cpointer.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(argv, i));&lt;/span&gt;</span>
629 &lt;span id=&quot;cb31-72&quot;&gt;&lt;a href=&quot;#cb31-72&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, name, value);&lt;/span&gt;
630 &lt;span id=&quot;cb31-73&quot;&gt;&lt;a href=&quot;#cb31-73&quot;&gt;&lt;/a&gt;                }&lt;/span&gt;
631 &lt;span id=&quot;cb31-74&quot;&gt;&lt;a href=&quot;#cb31-74&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;
632 &lt;span id=&quot;cb31-75&quot;&gt;&lt;a href=&quot;#cb31-75&quot;&gt;&lt;/a&gt;            }, scope);&lt;/span&gt;
633 &lt;span id=&quot;cb31-76&quot;&gt;&lt;a href=&quot;#cb31-76&quot;&gt;&lt;/a&gt;&lt;/span&gt;
634 &lt;span id=&quot;cb31-77&quot;&gt;&lt;a href=&quot;#cb31-77&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// select query&lt;/span&gt;&lt;/span&gt;
635 &lt;span id=&quot;cb31-78&quot;&gt;&lt;a href=&quot;#cb31-78&quot;&gt;&lt;/a&gt;            sql = Cstring.&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SELECT * FROM EMPLOYEE&amp;quot;&lt;/span&gt;, scope);&lt;/span&gt;
636 &lt;span id=&quot;cb31-79&quot;&gt;&lt;a href=&quot;#cb31-79&quot;&gt;&lt;/a&gt;            rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_exec&lt;/span&gt;(dbPtr, sql, callback, NULL, errMsgPtrPtr);&lt;/span&gt;
637 &lt;span id=&quot;cb31-80&quot;&gt;&lt;a href=&quot;#cb31-80&quot;&gt;&lt;/a&gt;&lt;/span&gt;
638 &lt;span id=&quot;cb31-81&quot;&gt;&lt;a href=&quot;#cb31-81&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;
639 &lt;span id=&quot;cb31-82&quot;&gt;&lt;a href=&quot;#cb31-82&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_exec failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;
<span class="line-modified">640 &lt;span id=&quot;cb31-83&quot;&gt;&lt;a href=&quot;#cb31-83&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SQL error: &amp;quot;&lt;/span&gt; + Cstring.&lt;span class=&quot;fu&quot;&gt;toJavaString&lt;/span&gt;(Cpointer.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(errMsgPtrPtr)));&lt;/span&gt;</span>
641 &lt;span id=&quot;cb31-84&quot;&gt;&lt;a href=&quot;#cb31-84&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;sqlite3_free&lt;/span&gt;(Cpointer.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(errMsgPtrPtr));&lt;/span&gt;
642 &lt;span id=&quot;cb31-85&quot;&gt;&lt;a href=&quot;#cb31-85&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;
643 &lt;span id=&quot;cb31-86&quot;&gt;&lt;a href=&quot;#cb31-86&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;done&amp;quot;&lt;/span&gt;);&lt;/span&gt;
644 &lt;span id=&quot;cb31-87&quot;&gt;&lt;a href=&quot;#cb31-87&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;
645 &lt;span id=&quot;cb31-88&quot;&gt;&lt;a href=&quot;#cb31-88&quot;&gt;&lt;/a&gt;&lt;/span&gt;
646 &lt;span id=&quot;cb31-89&quot;&gt;&lt;a href=&quot;#cb31-89&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;sqlite3_close&lt;/span&gt;(dbPtr);&lt;/span&gt;
647 &lt;span id=&quot;cb31-90&quot;&gt;&lt;a href=&quot;#cb31-90&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
648 &lt;span id=&quot;cb31-91&quot;&gt;&lt;a href=&quot;#cb31-91&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
649 &lt;span id=&quot;cb31-92&quot;&gt;&lt;a href=&quot;#cb31-92&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
650 &lt;h3 id=&quot;compiling-and-running-the-sqlite3-sample&quot;&gt;Compiling and running the sqlite3 sample&lt;/h3&gt;
651 &lt;div class=&quot;sourceCode&quot; id=&quot;cb32&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb32-1&quot;&gt;&lt;a href=&quot;#cb32-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
652 &lt;span id=&quot;cb32-2&quot;&gt;&lt;a href=&quot;#cb32-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit \&lt;/span&gt;
653 &lt;span id=&quot;cb32-3&quot;&gt;&lt;a href=&quot;#cb32-3&quot;&gt;&lt;/a&gt;   --add-modules jdk.incubator.foreign \&lt;/span&gt;
654 &lt;span id=&quot;cb32-4&quot;&gt;&lt;a href=&quot;#cb32-4&quot;&gt;&lt;/a&gt;   -Djava.library.path=/usr/lib SqliteMain.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
655 &lt;/body&gt;
656 &lt;/html&gt;
</pre>
</td>
<td>
<hr />
<pre>
234 &lt;div class=&quot;sourceCode&quot; id=&quot;cb10&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb10-1&quot;&gt;&lt;a href=&quot;#cb10-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
235 &lt;span id=&quot;cb10-2&quot;&gt;&lt;a href=&quot;#cb10-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -l readline -t org.unix \&lt;/span&gt;
236 &lt;span id=&quot;cb10-3&quot;&gt;&lt;a href=&quot;#cb10-3&quot;&gt;&lt;/a&gt;  -I /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include \&lt;/span&gt;
237 &lt;span id=&quot;cb10-4&quot;&gt;&lt;a href=&quot;#cb10-4&quot;&gt;&lt;/a&gt;   /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include/readline/readline.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
238 &lt;h3 id=&quot;java-code-that-uses-readline&quot;&gt;Java code that uses readline&lt;/h3&gt;
239 &lt;div class=&quot;sourceCode&quot; id=&quot;cb11&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb11-1&quot;&gt;&lt;a href=&quot;#cb11-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
240 &lt;span id=&quot;cb11-2&quot;&gt;&lt;a href=&quot;#cb11-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.Cstring;&lt;/span&gt;&lt;/span&gt;
241 &lt;span id=&quot;cb11-3&quot;&gt;&lt;a href=&quot;#cb11-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;
242 &lt;span id=&quot;cb11-4&quot;&gt;&lt;a href=&quot;#cb11-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.readline_h.*;&lt;/span&gt;&lt;/span&gt;
243 &lt;span id=&quot;cb11-5&quot;&gt;&lt;a href=&quot;#cb11-5&quot;&gt;&lt;/a&gt;&lt;/span&gt;
244 &lt;span id=&quot;cb11-6&quot;&gt;&lt;a href=&quot;#cb11-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; Readline {&lt;/span&gt;
245 &lt;span id=&quot;cb11-7&quot;&gt;&lt;a href=&quot;#cb11-7&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
246 &lt;span id=&quot;cb11-8&quot;&gt;&lt;a href=&quot;#cb11-8&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var s = Cstring.&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;name? &amp;quot;&lt;/span&gt;)) {&lt;/span&gt;
247 &lt;span id=&quot;cb11-9&quot;&gt;&lt;a href=&quot;#cb11-9&quot;&gt;&lt;/a&gt;            var pstr = s.&lt;span class=&quot;fu&quot;&gt;baseAddress&lt;/span&gt;();&lt;/span&gt;
248 &lt;span id=&quot;cb11-10&quot;&gt;&lt;a href=&quot;#cb11-10&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// call &amp;quot;readline&amp;quot; API&lt;/span&gt;&lt;/span&gt;
249 &lt;span id=&quot;cb11-11&quot;&gt;&lt;a href=&quot;#cb11-11&quot;&gt;&lt;/a&gt;            var p = &lt;span class=&quot;fu&quot;&gt;readline&lt;/span&gt;(pstr);&lt;/span&gt;
250 &lt;span id=&quot;cb11-12&quot;&gt;&lt;a href=&quot;#cb11-12&quot;&gt;&lt;/a&gt;&lt;/span&gt;
251 &lt;span id=&quot;cb11-13&quot;&gt;&lt;a href=&quot;#cb11-13&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// print char* as is&lt;/span&gt;&lt;/span&gt;
252 &lt;span id=&quot;cb11-14&quot;&gt;&lt;a href=&quot;#cb11-14&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(p);&lt;/span&gt;
253 &lt;span id=&quot;cb11-15&quot;&gt;&lt;a href=&quot;#cb11-15&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// convert char* ptr from readline as Java String &amp;amp; print it&lt;/span&gt;&lt;/span&gt;
<span class="line-modified">254 &lt;span id=&quot;cb11-16&quot;&gt;&lt;a href=&quot;#cb11-16&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello, &amp;quot;&lt;/span&gt; + Cstring.&lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(p));&lt;/span&gt;</span>
255 &lt;span id=&quot;cb11-17&quot;&gt;&lt;a href=&quot;#cb11-17&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
256 &lt;span id=&quot;cb11-18&quot;&gt;&lt;a href=&quot;#cb11-18&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
257 &lt;span id=&quot;cb11-19&quot;&gt;&lt;a href=&quot;#cb11-19&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
258 &lt;h3 id=&quot;running-the-java-code-that-uses-readline&quot;&gt;Running the java code that uses readline&lt;/h3&gt;
259 &lt;pre&gt;&lt;code&gt;java -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \
260     -Djava.library.path=/usr/local/opt/readline/lib/ Readline.java
261 &lt;/code&gt;&lt;/pre&gt;
262 &lt;h2 id=&quot;using-libcurl-from-java-mac-os&quot;&gt;Using libcurl from Java (Mac OS)&lt;/h2&gt;
263 &lt;h3 id=&quot;jextract-curl.h&quot;&gt;jextract curl.h&lt;/h3&gt;
264 &lt;div class=&quot;sourceCode&quot; id=&quot;cb13&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb13-1&quot;&gt;&lt;a href=&quot;#cb13-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
265 &lt;span id=&quot;cb13-2&quot;&gt;&lt;a href=&quot;#cb13-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -t org.unix -lcurl \&lt;/span&gt;
266 &lt;span id=&quot;cb13-3&quot;&gt;&lt;a href=&quot;#cb13-3&quot;&gt;&lt;/a&gt;  -I /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include/ \&lt;/span&gt;
267 &lt;span id=&quot;cb13-4&quot;&gt;&lt;a href=&quot;#cb13-4&quot;&gt;&lt;/a&gt;  -I /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include/curl/ \&lt;/span&gt;
268 &lt;span id=&quot;cb13-5&quot;&gt;&lt;a href=&quot;#cb13-5&quot;&gt;&lt;/a&gt;  /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include/curl/curl.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
269 &lt;h3 id=&quot;java-code-that-uses-libcurl&quot;&gt;Java code that uses libcurl&lt;/h3&gt;
270 &lt;div class=&quot;sourceCode&quot; id=&quot;cb14&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb14-1&quot;&gt;&lt;a href=&quot;#cb14-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
271 &lt;span id=&quot;cb14-2&quot;&gt;&lt;a href=&quot;#cb14-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.Cstring;&lt;/span&gt;&lt;/span&gt;
272 &lt;span id=&quot;cb14-3&quot;&gt;&lt;a href=&quot;#cb14-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;
273 &lt;span id=&quot;cb14-4&quot;&gt;&lt;a href=&quot;#cb14-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;
274 &lt;span id=&quot;cb14-5&quot;&gt;&lt;a href=&quot;#cb14-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.curl_h.*;&lt;/span&gt;&lt;/span&gt;
</pre>
<hr />
<pre>
576 &lt;span id=&quot;cb31-19&quot;&gt;&lt;a href=&quot;#cb31-19&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_open failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;
577 &lt;span id=&quot;cb31-20&quot;&gt;&lt;a href=&quot;#cb31-20&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;
578 &lt;span id=&quot;cb31-21&quot;&gt;&lt;a href=&quot;#cb31-21&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;
579 &lt;span id=&quot;cb31-22&quot;&gt;&lt;a href=&quot;#cb31-22&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;employee db opened&amp;quot;&lt;/span&gt;);&lt;/span&gt;
580 &lt;span id=&quot;cb31-23&quot;&gt;&lt;a href=&quot;#cb31-23&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;
581 &lt;span id=&quot;cb31-24&quot;&gt;&lt;a href=&quot;#cb31-24&quot;&gt;&lt;/a&gt;&lt;/span&gt;
582 &lt;span id=&quot;cb31-25&quot;&gt;&lt;a href=&quot;#cb31-25&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// sqlite3* dbPtr;&lt;/span&gt;&lt;/span&gt;
583 &lt;span id=&quot;cb31-26&quot;&gt;&lt;a href=&quot;#cb31-26&quot;&gt;&lt;/a&gt;            var dbPtr = Cpointer.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(dbPtrPtr);&lt;/span&gt;
584 &lt;span id=&quot;cb31-27&quot;&gt;&lt;a href=&quot;#cb31-27&quot;&gt;&lt;/a&gt;&lt;/span&gt;
585 &lt;span id=&quot;cb31-28&quot;&gt;&lt;a href=&quot;#cb31-28&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// create a new table&lt;/span&gt;&lt;/span&gt;
586 &lt;span id=&quot;cb31-29&quot;&gt;&lt;a href=&quot;#cb31-29&quot;&gt;&lt;/a&gt;            var sql = Cstring.&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;/span&gt;
587 &lt;span id=&quot;cb31-30&quot;&gt;&lt;a href=&quot;#cb31-30&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;CREATE TABLE EMPLOYEE (&amp;quot;&lt;/span&gt;  +&lt;/span&gt;
588 &lt;span id=&quot;cb31-31&quot;&gt;&lt;a href=&quot;#cb31-31&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;  ID INT PRIMARY KEY NOT NULL,&amp;quot;&lt;/span&gt; +&lt;/span&gt;
589 &lt;span id=&quot;cb31-32&quot;&gt;&lt;a href=&quot;#cb31-32&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;  NAME TEXT NOT NULL,&amp;quot;&lt;/span&gt;    +&lt;/span&gt;
590 &lt;span id=&quot;cb31-33&quot;&gt;&lt;a href=&quot;#cb31-33&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;  SALARY REAL NOT NULL )&amp;quot;&lt;/span&gt;, scope);&lt;/span&gt;
591 &lt;span id=&quot;cb31-34&quot;&gt;&lt;a href=&quot;#cb31-34&quot;&gt;&lt;/a&gt;&lt;/span&gt;
592 &lt;span id=&quot;cb31-35&quot;&gt;&lt;a href=&quot;#cb31-35&quot;&gt;&lt;/a&gt;            rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_exec&lt;/span&gt;(dbPtr, sql, NULL, NULL, errMsgPtrPtr);&lt;/span&gt;
593 &lt;span id=&quot;cb31-36&quot;&gt;&lt;a href=&quot;#cb31-36&quot;&gt;&lt;/a&gt;&lt;/span&gt;
594 &lt;span id=&quot;cb31-37&quot;&gt;&lt;a href=&quot;#cb31-37&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;
595 &lt;span id=&quot;cb31-38&quot;&gt;&lt;a href=&quot;#cb31-38&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_exec failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;
<span class="line-modified">596 &lt;span id=&quot;cb31-39&quot;&gt;&lt;a href=&quot;#cb31-39&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SQL error: &amp;quot;&lt;/span&gt; + Cstring.&lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(Cpointer.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(errMsgPtrPtr)));&lt;/span&gt;</span>
597 &lt;span id=&quot;cb31-40&quot;&gt;&lt;a href=&quot;#cb31-40&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;sqlite3_free&lt;/span&gt;(Cpointer.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(errMsgPtrPtr));&lt;/span&gt;
598 &lt;span id=&quot;cb31-41&quot;&gt;&lt;a href=&quot;#cb31-41&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;
599 &lt;span id=&quot;cb31-42&quot;&gt;&lt;a href=&quot;#cb31-42&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;employee table created&amp;quot;&lt;/span&gt;);&lt;/span&gt;
600 &lt;span id=&quot;cb31-43&quot;&gt;&lt;a href=&quot;#cb31-43&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;
601 &lt;span id=&quot;cb31-44&quot;&gt;&lt;a href=&quot;#cb31-44&quot;&gt;&lt;/a&gt;&lt;/span&gt;
602 &lt;span id=&quot;cb31-45&quot;&gt;&lt;a href=&quot;#cb31-45&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// insert two rows&lt;/span&gt;&lt;/span&gt;
603 &lt;span id=&quot;cb31-46&quot;&gt;&lt;a href=&quot;#cb31-46&quot;&gt;&lt;/a&gt;            sql = Cstring.&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;/span&gt;
604 &lt;span id=&quot;cb31-47&quot;&gt;&lt;a href=&quot;#cb31-47&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;INSERT INTO EMPLOYEE (ID,NAME,SALARY) &amp;quot;&lt;/span&gt; +&lt;/span&gt;
605 &lt;span id=&quot;cb31-48&quot;&gt;&lt;a href=&quot;#cb31-48&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;st&quot;&gt;&amp;quot;VALUES (134, &amp;#39;Xyz&amp;#39;, 200000.0); &amp;quot;&lt;/span&gt; +&lt;/span&gt;
606 &lt;span id=&quot;cb31-49&quot;&gt;&lt;a href=&quot;#cb31-49&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;INSERT INTO EMPLOYEE (ID,NAME,SALARY) &amp;quot;&lt;/span&gt; +&lt;/span&gt;
607 &lt;span id=&quot;cb31-50&quot;&gt;&lt;a href=&quot;#cb31-50&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;st&quot;&gt;&amp;quot;VALUES (333, &amp;#39;Abc&amp;#39;, 100000.0);&amp;quot;&lt;/span&gt;, scope&lt;/span&gt;
608 &lt;span id=&quot;cb31-51&quot;&gt;&lt;a href=&quot;#cb31-51&quot;&gt;&lt;/a&gt;            );&lt;/span&gt;
609 &lt;span id=&quot;cb31-52&quot;&gt;&lt;a href=&quot;#cb31-52&quot;&gt;&lt;/a&gt;            rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_exec&lt;/span&gt;(dbPtr, sql, NULL, NULL, errMsgPtrPtr);&lt;/span&gt;
610 &lt;span id=&quot;cb31-53&quot;&gt;&lt;a href=&quot;#cb31-53&quot;&gt;&lt;/a&gt;&lt;/span&gt;
611 &lt;span id=&quot;cb31-54&quot;&gt;&lt;a href=&quot;#cb31-54&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;
612 &lt;span id=&quot;cb31-55&quot;&gt;&lt;a href=&quot;#cb31-55&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_exec failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;
<span class="line-modified">613 &lt;span id=&quot;cb31-56&quot;&gt;&lt;a href=&quot;#cb31-56&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SQL error: &amp;quot;&lt;/span&gt; + Cstring.&lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(Cpointer.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(errMsgPtrPtr)));&lt;/span&gt;</span>
614 &lt;span id=&quot;cb31-57&quot;&gt;&lt;a href=&quot;#cb31-57&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;sqlite3_free&lt;/span&gt;(Cpointer.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(errMsgPtrPtr));&lt;/span&gt;
615 &lt;span id=&quot;cb31-58&quot;&gt;&lt;a href=&quot;#cb31-58&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;
616 &lt;span id=&quot;cb31-59&quot;&gt;&lt;a href=&quot;#cb31-59&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;rows inserted&amp;quot;&lt;/span&gt;);&lt;/span&gt;
617 &lt;span id=&quot;cb31-60&quot;&gt;&lt;a href=&quot;#cb31-60&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;
618 &lt;span id=&quot;cb31-61&quot;&gt;&lt;a href=&quot;#cb31-61&quot;&gt;&lt;/a&gt;&lt;/span&gt;
619 &lt;span id=&quot;cb31-62&quot;&gt;&lt;a href=&quot;#cb31-62&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;[] rowNum = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;];&lt;/span&gt;
620 &lt;span id=&quot;cb31-63&quot;&gt;&lt;a href=&quot;#cb31-63&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// callback to print rows from SELECT query&lt;/span&gt;&lt;/span&gt;
621 &lt;span id=&quot;cb31-64&quot;&gt;&lt;a href=&quot;#cb31-64&quot;&gt;&lt;/a&gt;            var callback = sqlite3_exec$callback.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;((a, argc, argv, columnNames) -&amp;gt; {&lt;/span&gt;
622 &lt;span id=&quot;cb31-65&quot;&gt;&lt;a href=&quot;#cb31-65&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Row num: &amp;quot;&lt;/span&gt; + rowNum[&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;]++);&lt;/span&gt;
623 &lt;span id=&quot;cb31-66&quot;&gt;&lt;a href=&quot;#cb31-66&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;numColumns = &amp;quot;&lt;/span&gt; + argc);&lt;/span&gt;
<span class="line-modified">624 &lt;span id=&quot;cb31-67&quot;&gt;&lt;a href=&quot;#cb31-67&quot;&gt;&lt;/a&gt;                argv = Cpointer.&lt;span class=&quot;fu&quot;&gt;asArrayRestricted&lt;/span&gt;(argv, argc);&lt;/span&gt;</span>
<span class="line-modified">625 &lt;span id=&quot;cb31-68&quot;&gt;&lt;a href=&quot;#cb31-68&quot;&gt;&lt;/a&gt;                columnNames = Cpointer.&lt;span class=&quot;fu&quot;&gt;asArrayRestricted&lt;/span&gt;(columnNames, argc);&lt;/span&gt;</span>
626 &lt;span id=&quot;cb31-69&quot;&gt;&lt;a href=&quot;#cb31-69&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; argc; i++) {&lt;/span&gt;
<span class="line-modified">627 &lt;span id=&quot;cb31-70&quot;&gt;&lt;a href=&quot;#cb31-70&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; name = Cstring.&lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(Cpointer.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(columnNames, i));&lt;/span&gt;</span>
<span class="line-modified">628 &lt;span id=&quot;cb31-71&quot;&gt;&lt;a href=&quot;#cb31-71&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; value = Cstring.&lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(Cpointer.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(argv, i));&lt;/span&gt;</span>
629 &lt;span id=&quot;cb31-72&quot;&gt;&lt;a href=&quot;#cb31-72&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, name, value);&lt;/span&gt;
630 &lt;span id=&quot;cb31-73&quot;&gt;&lt;a href=&quot;#cb31-73&quot;&gt;&lt;/a&gt;                }&lt;/span&gt;
631 &lt;span id=&quot;cb31-74&quot;&gt;&lt;a href=&quot;#cb31-74&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;
632 &lt;span id=&quot;cb31-75&quot;&gt;&lt;a href=&quot;#cb31-75&quot;&gt;&lt;/a&gt;            }, scope);&lt;/span&gt;
633 &lt;span id=&quot;cb31-76&quot;&gt;&lt;a href=&quot;#cb31-76&quot;&gt;&lt;/a&gt;&lt;/span&gt;
634 &lt;span id=&quot;cb31-77&quot;&gt;&lt;a href=&quot;#cb31-77&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// select query&lt;/span&gt;&lt;/span&gt;
635 &lt;span id=&quot;cb31-78&quot;&gt;&lt;a href=&quot;#cb31-78&quot;&gt;&lt;/a&gt;            sql = Cstring.&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SELECT * FROM EMPLOYEE&amp;quot;&lt;/span&gt;, scope);&lt;/span&gt;
636 &lt;span id=&quot;cb31-79&quot;&gt;&lt;a href=&quot;#cb31-79&quot;&gt;&lt;/a&gt;            rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_exec&lt;/span&gt;(dbPtr, sql, callback, NULL, errMsgPtrPtr);&lt;/span&gt;
637 &lt;span id=&quot;cb31-80&quot;&gt;&lt;a href=&quot;#cb31-80&quot;&gt;&lt;/a&gt;&lt;/span&gt;
638 &lt;span id=&quot;cb31-81&quot;&gt;&lt;a href=&quot;#cb31-81&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;
639 &lt;span id=&quot;cb31-82&quot;&gt;&lt;a href=&quot;#cb31-82&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_exec failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;
<span class="line-modified">640 &lt;span id=&quot;cb31-83&quot;&gt;&lt;a href=&quot;#cb31-83&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SQL error: &amp;quot;&lt;/span&gt; + Cstring.&lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(Cpointer.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(errMsgPtrPtr)));&lt;/span&gt;</span>
641 &lt;span id=&quot;cb31-84&quot;&gt;&lt;a href=&quot;#cb31-84&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;sqlite3_free&lt;/span&gt;(Cpointer.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(errMsgPtrPtr));&lt;/span&gt;
642 &lt;span id=&quot;cb31-85&quot;&gt;&lt;a href=&quot;#cb31-85&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;
643 &lt;span id=&quot;cb31-86&quot;&gt;&lt;a href=&quot;#cb31-86&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;done&amp;quot;&lt;/span&gt;);&lt;/span&gt;
644 &lt;span id=&quot;cb31-87&quot;&gt;&lt;a href=&quot;#cb31-87&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;
645 &lt;span id=&quot;cb31-88&quot;&gt;&lt;a href=&quot;#cb31-88&quot;&gt;&lt;/a&gt;&lt;/span&gt;
646 &lt;span id=&quot;cb31-89&quot;&gt;&lt;a href=&quot;#cb31-89&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;sqlite3_close&lt;/span&gt;(dbPtr);&lt;/span&gt;
647 &lt;span id=&quot;cb31-90&quot;&gt;&lt;a href=&quot;#cb31-90&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
648 &lt;span id=&quot;cb31-91&quot;&gt;&lt;a href=&quot;#cb31-91&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
649 &lt;span id=&quot;cb31-92&quot;&gt;&lt;a href=&quot;#cb31-92&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
650 &lt;h3 id=&quot;compiling-and-running-the-sqlite3-sample&quot;&gt;Compiling and running the sqlite3 sample&lt;/h3&gt;
651 &lt;div class=&quot;sourceCode&quot; id=&quot;cb32&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb32-1&quot;&gt;&lt;a href=&quot;#cb32-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
652 &lt;span id=&quot;cb32-2&quot;&gt;&lt;a href=&quot;#cb32-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit \&lt;/span&gt;
653 &lt;span id=&quot;cb32-3&quot;&gt;&lt;a href=&quot;#cb32-3&quot;&gt;&lt;/a&gt;   --add-modules jdk.incubator.foreign \&lt;/span&gt;
654 &lt;span id=&quot;cb32-4&quot;&gt;&lt;a href=&quot;#cb32-4&quot;&gt;&lt;/a&gt;   -Djava.library.path=/usr/lib SqliteMain.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
655 &lt;/body&gt;
656 &lt;/html&gt;
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../index.html" target="_top">index</a> <a href="panama_jextract.md.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>