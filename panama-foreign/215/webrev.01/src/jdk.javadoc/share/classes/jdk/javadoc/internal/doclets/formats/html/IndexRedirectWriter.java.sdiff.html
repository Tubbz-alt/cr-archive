<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/IndexRedirectWriter.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="HtmlDocletWriter.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="SearchIndexItem.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/IndexRedirectWriter.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 58 
 59     public static void generate(HtmlConfiguration configuration, DocPath fileName, DocPath target)
 60             throws DocFileIOException {
 61         IndexRedirectWriter indexRedirect = new IndexRedirectWriter(configuration, fileName, target);
 62         indexRedirect.generateIndexFile();
 63     }
 64 
 65     private DocPath target;
 66 
 67     private IndexRedirectWriter(HtmlConfiguration configuration, DocPath filename, DocPath target) {
 68         super(configuration, filename);
 69         this.target = target;
 70     }
 71 
 72     /**
 73      * Generate an index file that redirects to an alternate file.
 74      * @throws DocFileIOException if there is a problem generating the file
 75      */
 76     private void generateIndexFile() throws DocFileIOException {
 77         Content htmlComment = contents.newPage;
<span class="line-modified"> 78         Head head = new Head(path, configuration.docletVersion, configuration.startTime)</span>
 79                 .setTimestamp(!options.noTimestamp())
 80                 .setDescription(&quot;index redirect&quot;)
 81                 .setGenerator(getGenerator(getClass()))
 82                 .setStylesheets(configuration.getMainStylesheet(), Collections.emptyList()) // avoid reference to default stylesheet
 83                 .addDefaultScript(false);
 84 
 85         String title = (options.windowTitle().length() &gt; 0)
 86                 ? options.windowTitle()
 87                 : resources.getText(&quot;doclet.Generated_Docs_Untitled&quot;);
 88 
 89         head.setTitle(title)
 90                 .setCharset(options.charset())
 91                 .setCanonicalLink(target);
 92 
 93         String targetPath = target.getPath();
 94         Script script = new Script(&quot;window.location.replace(&quot;)
 95                 .appendStringLiteral(targetPath, &#39;\&#39;&#39;)
 96                 .append(&quot;)&quot;);
 97         HtmlTree metaRefresh = new HtmlTree(TagName.META)
 98                 .put(HtmlAttr.HTTP_EQUIV, &quot;Refresh&quot;)
</pre>
</td>
<td>
<hr />
<pre>
 58 
 59     public static void generate(HtmlConfiguration configuration, DocPath fileName, DocPath target)
 60             throws DocFileIOException {
 61         IndexRedirectWriter indexRedirect = new IndexRedirectWriter(configuration, fileName, target);
 62         indexRedirect.generateIndexFile();
 63     }
 64 
 65     private DocPath target;
 66 
 67     private IndexRedirectWriter(HtmlConfiguration configuration, DocPath filename, DocPath target) {
 68         super(configuration, filename);
 69         this.target = target;
 70     }
 71 
 72     /**
 73      * Generate an index file that redirects to an alternate file.
 74      * @throws DocFileIOException if there is a problem generating the file
 75      */
 76     private void generateIndexFile() throws DocFileIOException {
 77         Content htmlComment = contents.newPage;
<span class="line-modified"> 78         Head head = new Head(path, configuration.getDocletVersionString(), configuration.startTime)</span>
 79                 .setTimestamp(!options.noTimestamp())
 80                 .setDescription(&quot;index redirect&quot;)
 81                 .setGenerator(getGenerator(getClass()))
 82                 .setStylesheets(configuration.getMainStylesheet(), Collections.emptyList()) // avoid reference to default stylesheet
 83                 .addDefaultScript(false);
 84 
 85         String title = (options.windowTitle().length() &gt; 0)
 86                 ? options.windowTitle()
 87                 : resources.getText(&quot;doclet.Generated_Docs_Untitled&quot;);
 88 
 89         head.setTitle(title)
 90                 .setCharset(options.charset())
 91                 .setCanonicalLink(target);
 92 
 93         String targetPath = target.getPath();
 94         Script script = new Script(&quot;window.location.replace(&quot;)
 95                 .appendStringLiteral(targetPath, &#39;\&#39;&#39;)
 96                 .append(&quot;)&quot;);
 97         HtmlTree metaRefresh = new HtmlTree(TagName.META)
 98                 .put(HtmlAttr.HTTP_EQUIV, &quot;Refresh&quot;)
</pre>
</td>
</tr>
</table>
<center><a href="HtmlDocletWriter.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="SearchIndexItem.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>