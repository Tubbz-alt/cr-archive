<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/prims/whitebox.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="resolvedMethodTable.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../runtime/arguments.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/prims/whitebox.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  24 
  25 #include &quot;precompiled.hpp&quot;
  26 
  27 #include &lt;new&gt;
  28 
  29 #include &quot;classfile/classLoaderDataGraph.hpp&quot;
  30 #include &quot;classfile/javaClasses.inline.hpp&quot;
  31 #include &quot;classfile/modules.hpp&quot;
  32 #include &quot;classfile/protectionDomainCache.hpp&quot;
  33 #include &quot;classfile/stringTable.hpp&quot;
  34 #include &quot;classfile/symbolTable.hpp&quot;
  35 #include &quot;code/codeCache.hpp&quot;
  36 #include &quot;compiler/compilationPolicy.hpp&quot;
  37 #include &quot;compiler/methodMatcher.hpp&quot;
  38 #include &quot;compiler/directivesParser.hpp&quot;
  39 #include &quot;gc/shared/concurrentGCBreakpoints.hpp&quot;
  40 #include &quot;gc/shared/gcConfig.hpp&quot;
  41 #include &quot;gc/shared/genArguments.hpp&quot;
  42 #include &quot;gc/shared/genCollectedHeap.hpp&quot;
  43 #include &quot;jvmtifiles/jvmtiEnv.hpp&quot;

  44 #include &quot;memory/filemap.hpp&quot;
  45 #include &quot;memory/heapShared.inline.hpp&quot;
  46 #include &quot;memory/metaspaceShared.hpp&quot;
  47 #include &quot;memory/metadataFactory.hpp&quot;
  48 #include &quot;memory/iterator.hpp&quot;
  49 #include &quot;memory/resourceArea.hpp&quot;
  50 #include &quot;memory/universe.hpp&quot;
  51 #include &quot;memory/oopFactory.hpp&quot;
  52 #include &quot;oops/array.hpp&quot;
  53 #include &quot;oops/compressedOops.hpp&quot;
  54 #include &quot;oops/constantPool.inline.hpp&quot;
  55 #include &quot;oops/method.inline.hpp&quot;
  56 #include &quot;oops/objArrayKlass.hpp&quot;
  57 #include &quot;oops/objArrayOop.inline.hpp&quot;
  58 #include &quot;oops/oop.inline.hpp&quot;
  59 #include &quot;oops/typeArrayOop.inline.hpp&quot;
  60 #include &quot;prims/resolvedMethodTable.hpp&quot;
  61 #include &quot;prims/wbtestmethods/parserTests.hpp&quot;
  62 #include &quot;prims/whitebox.inline.hpp&quot;
  63 #include &quot;runtime/arguments.hpp&quot;
</pre>
<hr />
<pre>
 461 
 462 WB_ENTRY(jlong, WB_G1NumFreeRegions(JNIEnv* env, jobject o))
 463   if (UseG1GC) {
 464     G1CollectedHeap* g1h = G1CollectedHeap::heap();
 465     size_t nr = g1h-&gt;num_free_regions();
 466     return (jlong)nr;
 467   }
 468   THROW_MSG_0(vmSymbols::java_lang_UnsupportedOperationException(), &quot;WB_G1NumFreeRegions: G1 GC is not enabled&quot;);
 469 WB_END
 470 
 471 WB_ENTRY(jboolean, WB_G1InConcurrentMark(JNIEnv* env, jobject o))
 472   if (UseG1GC) {
 473     G1CollectedHeap* g1h = G1CollectedHeap::heap();
 474     return g1h-&gt;concurrent_mark()-&gt;cm_thread()-&gt;during_cycle();
 475   }
 476   THROW_MSG_0(vmSymbols::java_lang_UnsupportedOperationException(), &quot;WB_G1InConcurrentMark: G1 GC is not enabled&quot;);
 477 WB_END
 478 
 479 WB_ENTRY(jboolean, WB_G1StartMarkCycle(JNIEnv* env, jobject o))
 480   if (UseG1GC) {
<span class="line-removed"> 481     if (AsyncDeflateIdleMonitors) {</span>
<span class="line-removed"> 482       // AsyncDeflateIdleMonitors needs to know when System.gc() or</span>
<span class="line-removed"> 483       // the equivalent is called so any special clean up can be done</span>
<span class="line-removed"> 484       // at a safepoint, e.g., TestHumongousClassLoader.java.</span>
<span class="line-removed"> 485       ObjectSynchronizer::set_is_special_deflation_requested(true);</span>
<span class="line-removed"> 486     }</span>
 487     G1CollectedHeap* g1h = G1CollectedHeap::heap();
 488     if (!g1h-&gt;concurrent_mark()-&gt;cm_thread()-&gt;during_cycle()) {
 489       g1h-&gt;collect(GCCause::_wb_conc_mark);
 490       return true;
 491     }
 492     return false;
 493   }
 494   THROW_MSG_0(vmSymbols::java_lang_UnsupportedOperationException(), &quot;WB_G1StartMarkCycle: G1 GC is not enabled&quot;);
 495 WB_END
 496 
 497 WB_ENTRY(jint, WB_G1RegionSize(JNIEnv* env, jobject o))
 498   if (UseG1GC) {
 499     return (jint)HeapRegion::GrainBytes;
 500   }
 501   THROW_MSG_0(vmSymbols::java_lang_UnsupportedOperationException(), &quot;WB_G1RegionSize: G1 GC is not enabled&quot;);
 502 WB_END
 503 
 504 #endif // INCLUDE_G1GC
 505 
 506 #if INCLUDE_G1GC || INCLUDE_PARALLELGC
</pre>
<hr />
<pre>
1438 
1439 WB_ENTRY(void, WB_UnlockCompilation(JNIEnv* env, jobject o))
1440   MonitorLocker mo(Compilation_lock, Mutex::_no_safepoint_check_flag);
1441   WhiteBox::compilation_locked = false;
1442   mo.notify_all();
1443 WB_END
1444 
1445 WB_ENTRY(void, WB_ForceNMethodSweep(JNIEnv* env, jobject o))
1446   // Force a code cache sweep and block until it finished
1447   NMethodSweeper::force_sweep();
1448 WB_END
1449 
1450 WB_ENTRY(jboolean, WB_IsInStringTable(JNIEnv* env, jobject o, jstring javaString))
1451   ResourceMark rm(THREAD);
1452   int len;
1453   jchar* name = java_lang_String::as_unicode_string(JNIHandles::resolve(javaString), len, CHECK_false);
1454   return (StringTable::lookup(name, len) != NULL);
1455 WB_END
1456 
1457 WB_ENTRY(void, WB_FullGC(JNIEnv* env, jobject o))
<span class="line-removed">1458   if (AsyncDeflateIdleMonitors) {</span>
<span class="line-removed">1459     // AsyncDeflateIdleMonitors needs to know when System.gc() or</span>
<span class="line-removed">1460     // the equivalent is called so any special clean up can be done</span>
<span class="line-removed">1461     // at a safepoint, e.g., TestHumongousClassLoader.java.</span>
<span class="line-removed">1462     ObjectSynchronizer::set_is_special_deflation_requested(true);</span>
<span class="line-removed">1463   }</span>
1464   Universe::heap()-&gt;soft_ref_policy()-&gt;set_should_clear_all_soft_refs(true);
1465   Universe::heap()-&gt;collect(GCCause::_wb_full_gc);
1466 #if INCLUDE_G1GC
1467   if (UseG1GC) {
1468     // Needs to be cleared explicitly for G1
1469     Universe::heap()-&gt;soft_ref_policy()-&gt;set_should_clear_all_soft_refs(false);
1470   }
1471 #endif // INCLUDE_G1GC
1472 WB_END
1473 
1474 WB_ENTRY(void, WB_YoungGC(JNIEnv* env, jobject o))
1475   Universe::heap()-&gt;collect(GCCause::_wb_young_gc);
1476 WB_END
1477 
1478 WB_ENTRY(void, WB_ReadReservedMemory(JNIEnv* env, jobject o))
1479   // static+volatile in order to force the read to happen
1480   // (not be eliminated by the compiler)
1481   static char c;
1482   static volatile char* p;
1483 
</pre>
<hr />
<pre>
1792 
1793 WB_ENTRY(void, WB_AssertSpecialLock(JNIEnv* env, jobject o, jboolean allowVMBlock, jboolean safepointCheck))
1794   // Create a special lock violating condition in value
1795   Mutex::SafepointCheckRequired sfpt_check_required = safepointCheck ?
1796                                            Mutex::_safepoint_check_always :
1797                                            Mutex::_safepoint_check_never;
1798   Mutex::SafepointCheckFlag safepoint_check = safepointCheck ?
1799                                            Monitor::_safepoint_check_flag :
1800                                            Monitor::_no_safepoint_check_flag;
1801 
1802   MutexLocker ml(new Mutex(Mutex::special, &quot;SpecialTest_lock&quot;, allowVMBlock, sfpt_check_required), safepoint_check);
1803   // If the lock above succeeds, try to safepoint to test the NSV implied with this special lock.
1804   ThreadBlockInVM tbivm(JavaThread::current());
1805 WB_END
1806 
1807 WB_ENTRY(jboolean, WB_IsMonitorInflated(JNIEnv* env, jobject wb, jobject obj))
1808   oop obj_oop = JNIHandles::resolve(obj);
1809   return (jboolean) obj_oop-&gt;mark().has_monitor();
1810 WB_END
1811 





1812 WB_ENTRY(void, WB_ForceSafepoint(JNIEnv* env, jobject wb))
<span class="line-removed">1813   if (AsyncDeflateIdleMonitors) {</span>
<span class="line-removed">1814     // AsyncDeflateIdleMonitors needs to know when System.gc() or</span>
<span class="line-removed">1815     // the equivalent is called so any special clean up can be done</span>
<span class="line-removed">1816     // at a safepoint, e.g., TestRTMTotalCountIncrRate.java or</span>
<span class="line-removed">1817     // TestUseRTMForStackLocks.java.</span>
<span class="line-removed">1818     ObjectSynchronizer::set_is_special_deflation_requested(true);</span>
<span class="line-removed">1819   }</span>
1820   VM_ForceSafepoint force_safepoint_op;
1821   VMThread::execute(&amp;force_safepoint_op);
1822 WB_END
1823 
1824 WB_ENTRY(jlong, WB_GetConstantPool(JNIEnv* env, jobject wb, jclass klass))
1825   InstanceKlass* ik = InstanceKlass::cast(java_lang_Class::as_Klass(JNIHandles::resolve(klass)));
1826   return (jlong) ik-&gt;constants();
1827 WB_END
1828 
1829 WB_ENTRY(jint, WB_GetConstantPoolCacheIndexTag(JNIEnv* env, jobject wb))
1830   return ConstantPool::CPCACHE_INDEX_TAG;
1831 WB_END
1832 
1833 WB_ENTRY(jint, WB_GetConstantPoolCacheLength(JNIEnv* env, jobject wb, jclass klass))
1834   InstanceKlass* ik = InstanceKlass::cast(java_lang_Class::as_Klass(JNIHandles::resolve(klass)));
1835   ConstantPool* cp = ik-&gt;constants();
1836   if (cp-&gt;cache() == NULL) {
1837       return -1;
1838   }
1839   return cp-&gt;cache()-&gt;length();
</pre>
<hr />
<pre>
2463   {CC&quot;getCodeHeapEntries&quot;, CC&quot;(I)[Ljava/lang/Object;&quot;,(void*)&amp;WB_GetCodeHeapEntries },
2464   {CC&quot;getCompilationActivityMode&quot;,
2465                            CC&quot;()I&quot;,                   (void*)&amp;WB_GetCompilationActivityMode},
2466   {CC&quot;getMethodData0&quot;,     CC&quot;(Ljava/lang/reflect/Executable;)J&quot;,
2467                                                       (void*)&amp;WB_GetMethodData      },
2468   {CC&quot;getCodeBlob&quot;,        CC&quot;(J)[Ljava/lang/Object;&quot;,(void*)&amp;WB_GetCodeBlob        },
2469   {CC&quot;getThreadStackSize&quot;, CC&quot;()J&quot;,                   (void*)&amp;WB_GetThreadStackSize },
2470   {CC&quot;getThreadRemainingStackSize&quot;, CC&quot;()J&quot;,          (void*)&amp;WB_GetThreadRemainingStackSize },
2471   {CC&quot;DefineModule&quot;,       CC&quot;(Ljava/lang/Object;ZLjava/lang/String;Ljava/lang/String;[Ljava/lang/Object;)V&quot;,
2472                                                       (void*)&amp;WB_DefineModule },
2473   {CC&quot;AddModuleExports&quot;,   CC&quot;(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/Object;)V&quot;,
2474                                                       (void*)&amp;WB_AddModuleExports },
2475   {CC&quot;AddReadsModule&quot;,     CC&quot;(Ljava/lang/Object;Ljava/lang/Object;)V&quot;,
2476                                                       (void*)&amp;WB_AddReadsModule },
2477   {CC&quot;AddModuleExportsToAllUnnamed&quot;, CC&quot;(Ljava/lang/Object;Ljava/lang/String;)V&quot;,
2478                                                       (void*)&amp;WB_AddModuleExportsToAllUnnamed },
2479   {CC&quot;AddModuleExportsToAll&quot;, CC&quot;(Ljava/lang/Object;Ljava/lang/String;)V&quot;,
2480                                                       (void*)&amp;WB_AddModuleExportsToAll },
2481   {CC&quot;assertMatchingSafepointCalls&quot;, CC&quot;(ZZ)V&quot;,       (void*)&amp;WB_AssertMatchingSafepointCalls },
2482   {CC&quot;assertSpecialLock&quot;,  CC&quot;(ZZ)V&quot;,                 (void*)&amp;WB_AssertSpecialLock },

2483   {CC&quot;isMonitorInflated0&quot;, CC&quot;(Ljava/lang/Object;)Z&quot;, (void*)&amp;WB_IsMonitorInflated  },
2484   {CC&quot;forceSafepoint&quot;,     CC&quot;()V&quot;,                   (void*)&amp;WB_ForceSafepoint     },
2485   {CC&quot;getConstantPool0&quot;,   CC&quot;(Ljava/lang/Class;)J&quot;,  (void*)&amp;WB_GetConstantPool    },
2486   {CC&quot;getConstantPoolCacheIndexTag0&quot;, CC&quot;()I&quot;,  (void*)&amp;WB_GetConstantPoolCacheIndexTag},
2487   {CC&quot;getConstantPoolCacheLength0&quot;, CC&quot;(Ljava/lang/Class;)I&quot;,  (void*)&amp;WB_GetConstantPoolCacheLength},
2488   {CC&quot;remapInstructionOperandFromCPCache0&quot;,
2489       CC&quot;(Ljava/lang/Class;I)I&quot;,                      (void*)&amp;WB_ConstantPoolRemapInstructionOperandFromCache},
2490   {CC&quot;encodeConstantPoolIndyIndex0&quot;,
2491       CC&quot;(I)I&quot;,                      (void*)&amp;WB_ConstantPoolEncodeIndyIndex},
2492   {CC&quot;getMethodBooleanOption&quot;,
2493       CC&quot;(Ljava/lang/reflect/Executable;Ljava/lang/String;)Ljava/lang/Boolean;&quot;,
2494                                                       (void*)&amp;WB_GetMethodBooleaneOption},
2495   {CC&quot;getMethodIntxOption&quot;,
2496       CC&quot;(Ljava/lang/reflect/Executable;Ljava/lang/String;)Ljava/lang/Long;&quot;,
2497                                                       (void*)&amp;WB_GetMethodIntxOption},
2498   {CC&quot;getMethodUintxOption&quot;,
2499       CC&quot;(Ljava/lang/reflect/Executable;Ljava/lang/String;)Ljava/lang/Long;&quot;,
2500                                                       (void*)&amp;WB_GetMethodUintxOption},
2501   {CC&quot;getMethodDoubleOption&quot;,
2502       CC&quot;(Ljava/lang/reflect/Executable;Ljava/lang/String;)Ljava/lang/Double;&quot;,
</pre>
</td>
<td>
<hr />
<pre>
  24 
  25 #include &quot;precompiled.hpp&quot;
  26 
  27 #include &lt;new&gt;
  28 
  29 #include &quot;classfile/classLoaderDataGraph.hpp&quot;
  30 #include &quot;classfile/javaClasses.inline.hpp&quot;
  31 #include &quot;classfile/modules.hpp&quot;
  32 #include &quot;classfile/protectionDomainCache.hpp&quot;
  33 #include &quot;classfile/stringTable.hpp&quot;
  34 #include &quot;classfile/symbolTable.hpp&quot;
  35 #include &quot;code/codeCache.hpp&quot;
  36 #include &quot;compiler/compilationPolicy.hpp&quot;
  37 #include &quot;compiler/methodMatcher.hpp&quot;
  38 #include &quot;compiler/directivesParser.hpp&quot;
  39 #include &quot;gc/shared/concurrentGCBreakpoints.hpp&quot;
  40 #include &quot;gc/shared/gcConfig.hpp&quot;
  41 #include &quot;gc/shared/genArguments.hpp&quot;
  42 #include &quot;gc/shared/genCollectedHeap.hpp&quot;
  43 #include &quot;jvmtifiles/jvmtiEnv.hpp&quot;
<span class="line-added">  44 #include &quot;logging/log.hpp&quot;</span>
  45 #include &quot;memory/filemap.hpp&quot;
  46 #include &quot;memory/heapShared.inline.hpp&quot;
  47 #include &quot;memory/metaspaceShared.hpp&quot;
  48 #include &quot;memory/metadataFactory.hpp&quot;
  49 #include &quot;memory/iterator.hpp&quot;
  50 #include &quot;memory/resourceArea.hpp&quot;
  51 #include &quot;memory/universe.hpp&quot;
  52 #include &quot;memory/oopFactory.hpp&quot;
  53 #include &quot;oops/array.hpp&quot;
  54 #include &quot;oops/compressedOops.hpp&quot;
  55 #include &quot;oops/constantPool.inline.hpp&quot;
  56 #include &quot;oops/method.inline.hpp&quot;
  57 #include &quot;oops/objArrayKlass.hpp&quot;
  58 #include &quot;oops/objArrayOop.inline.hpp&quot;
  59 #include &quot;oops/oop.inline.hpp&quot;
  60 #include &quot;oops/typeArrayOop.inline.hpp&quot;
  61 #include &quot;prims/resolvedMethodTable.hpp&quot;
  62 #include &quot;prims/wbtestmethods/parserTests.hpp&quot;
  63 #include &quot;prims/whitebox.inline.hpp&quot;
  64 #include &quot;runtime/arguments.hpp&quot;
</pre>
<hr />
<pre>
 462 
 463 WB_ENTRY(jlong, WB_G1NumFreeRegions(JNIEnv* env, jobject o))
 464   if (UseG1GC) {
 465     G1CollectedHeap* g1h = G1CollectedHeap::heap();
 466     size_t nr = g1h-&gt;num_free_regions();
 467     return (jlong)nr;
 468   }
 469   THROW_MSG_0(vmSymbols::java_lang_UnsupportedOperationException(), &quot;WB_G1NumFreeRegions: G1 GC is not enabled&quot;);
 470 WB_END
 471 
 472 WB_ENTRY(jboolean, WB_G1InConcurrentMark(JNIEnv* env, jobject o))
 473   if (UseG1GC) {
 474     G1CollectedHeap* g1h = G1CollectedHeap::heap();
 475     return g1h-&gt;concurrent_mark()-&gt;cm_thread()-&gt;during_cycle();
 476   }
 477   THROW_MSG_0(vmSymbols::java_lang_UnsupportedOperationException(), &quot;WB_G1InConcurrentMark: G1 GC is not enabled&quot;);
 478 WB_END
 479 
 480 WB_ENTRY(jboolean, WB_G1StartMarkCycle(JNIEnv* env, jobject o))
 481   if (UseG1GC) {






 482     G1CollectedHeap* g1h = G1CollectedHeap::heap();
 483     if (!g1h-&gt;concurrent_mark()-&gt;cm_thread()-&gt;during_cycle()) {
 484       g1h-&gt;collect(GCCause::_wb_conc_mark);
 485       return true;
 486     }
 487     return false;
 488   }
 489   THROW_MSG_0(vmSymbols::java_lang_UnsupportedOperationException(), &quot;WB_G1StartMarkCycle: G1 GC is not enabled&quot;);
 490 WB_END
 491 
 492 WB_ENTRY(jint, WB_G1RegionSize(JNIEnv* env, jobject o))
 493   if (UseG1GC) {
 494     return (jint)HeapRegion::GrainBytes;
 495   }
 496   THROW_MSG_0(vmSymbols::java_lang_UnsupportedOperationException(), &quot;WB_G1RegionSize: G1 GC is not enabled&quot;);
 497 WB_END
 498 
 499 #endif // INCLUDE_G1GC
 500 
 501 #if INCLUDE_G1GC || INCLUDE_PARALLELGC
</pre>
<hr />
<pre>
1433 
1434 WB_ENTRY(void, WB_UnlockCompilation(JNIEnv* env, jobject o))
1435   MonitorLocker mo(Compilation_lock, Mutex::_no_safepoint_check_flag);
1436   WhiteBox::compilation_locked = false;
1437   mo.notify_all();
1438 WB_END
1439 
1440 WB_ENTRY(void, WB_ForceNMethodSweep(JNIEnv* env, jobject o))
1441   // Force a code cache sweep and block until it finished
1442   NMethodSweeper::force_sweep();
1443 WB_END
1444 
1445 WB_ENTRY(jboolean, WB_IsInStringTable(JNIEnv* env, jobject o, jstring javaString))
1446   ResourceMark rm(THREAD);
1447   int len;
1448   jchar* name = java_lang_String::as_unicode_string(JNIHandles::resolve(javaString), len, CHECK_false);
1449   return (StringTable::lookup(name, len) != NULL);
1450 WB_END
1451 
1452 WB_ENTRY(void, WB_FullGC(JNIEnv* env, jobject o))






1453   Universe::heap()-&gt;soft_ref_policy()-&gt;set_should_clear_all_soft_refs(true);
1454   Universe::heap()-&gt;collect(GCCause::_wb_full_gc);
1455 #if INCLUDE_G1GC
1456   if (UseG1GC) {
1457     // Needs to be cleared explicitly for G1
1458     Universe::heap()-&gt;soft_ref_policy()-&gt;set_should_clear_all_soft_refs(false);
1459   }
1460 #endif // INCLUDE_G1GC
1461 WB_END
1462 
1463 WB_ENTRY(void, WB_YoungGC(JNIEnv* env, jobject o))
1464   Universe::heap()-&gt;collect(GCCause::_wb_young_gc);
1465 WB_END
1466 
1467 WB_ENTRY(void, WB_ReadReservedMemory(JNIEnv* env, jobject o))
1468   // static+volatile in order to force the read to happen
1469   // (not be eliminated by the compiler)
1470   static char c;
1471   static volatile char* p;
1472 
</pre>
<hr />
<pre>
1781 
1782 WB_ENTRY(void, WB_AssertSpecialLock(JNIEnv* env, jobject o, jboolean allowVMBlock, jboolean safepointCheck))
1783   // Create a special lock violating condition in value
1784   Mutex::SafepointCheckRequired sfpt_check_required = safepointCheck ?
1785                                            Mutex::_safepoint_check_always :
1786                                            Mutex::_safepoint_check_never;
1787   Mutex::SafepointCheckFlag safepoint_check = safepointCheck ?
1788                                            Monitor::_safepoint_check_flag :
1789                                            Monitor::_no_safepoint_check_flag;
1790 
1791   MutexLocker ml(new Mutex(Mutex::special, &quot;SpecialTest_lock&quot;, allowVMBlock, sfpt_check_required), safepoint_check);
1792   // If the lock above succeeds, try to safepoint to test the NSV implied with this special lock.
1793   ThreadBlockInVM tbivm(JavaThread::current());
1794 WB_END
1795 
1796 WB_ENTRY(jboolean, WB_IsMonitorInflated(JNIEnv* env, jobject wb, jobject obj))
1797   oop obj_oop = JNIHandles::resolve(obj);
1798   return (jboolean) obj_oop-&gt;mark().has_monitor();
1799 WB_END
1800 
<span class="line-added">1801 WB_ENTRY(jboolean, WB_DeflateIdleMonitors(JNIEnv* env, jobject wb))</span>
<span class="line-added">1802   log_info(monitorinflation)(&quot;WhiteBox initiated DeflateIdleMonitors&quot;);</span>
<span class="line-added">1803   return ObjectSynchronizer::request_deflate_idle_monitors();</span>
<span class="line-added">1804 WB_END</span>
<span class="line-added">1805 </span>
1806 WB_ENTRY(void, WB_ForceSafepoint(JNIEnv* env, jobject wb))







1807   VM_ForceSafepoint force_safepoint_op;
1808   VMThread::execute(&amp;force_safepoint_op);
1809 WB_END
1810 
1811 WB_ENTRY(jlong, WB_GetConstantPool(JNIEnv* env, jobject wb, jclass klass))
1812   InstanceKlass* ik = InstanceKlass::cast(java_lang_Class::as_Klass(JNIHandles::resolve(klass)));
1813   return (jlong) ik-&gt;constants();
1814 WB_END
1815 
1816 WB_ENTRY(jint, WB_GetConstantPoolCacheIndexTag(JNIEnv* env, jobject wb))
1817   return ConstantPool::CPCACHE_INDEX_TAG;
1818 WB_END
1819 
1820 WB_ENTRY(jint, WB_GetConstantPoolCacheLength(JNIEnv* env, jobject wb, jclass klass))
1821   InstanceKlass* ik = InstanceKlass::cast(java_lang_Class::as_Klass(JNIHandles::resolve(klass)));
1822   ConstantPool* cp = ik-&gt;constants();
1823   if (cp-&gt;cache() == NULL) {
1824       return -1;
1825   }
1826   return cp-&gt;cache()-&gt;length();
</pre>
<hr />
<pre>
2450   {CC&quot;getCodeHeapEntries&quot;, CC&quot;(I)[Ljava/lang/Object;&quot;,(void*)&amp;WB_GetCodeHeapEntries },
2451   {CC&quot;getCompilationActivityMode&quot;,
2452                            CC&quot;()I&quot;,                   (void*)&amp;WB_GetCompilationActivityMode},
2453   {CC&quot;getMethodData0&quot;,     CC&quot;(Ljava/lang/reflect/Executable;)J&quot;,
2454                                                       (void*)&amp;WB_GetMethodData      },
2455   {CC&quot;getCodeBlob&quot;,        CC&quot;(J)[Ljava/lang/Object;&quot;,(void*)&amp;WB_GetCodeBlob        },
2456   {CC&quot;getThreadStackSize&quot;, CC&quot;()J&quot;,                   (void*)&amp;WB_GetThreadStackSize },
2457   {CC&quot;getThreadRemainingStackSize&quot;, CC&quot;()J&quot;,          (void*)&amp;WB_GetThreadRemainingStackSize },
2458   {CC&quot;DefineModule&quot;,       CC&quot;(Ljava/lang/Object;ZLjava/lang/String;Ljava/lang/String;[Ljava/lang/Object;)V&quot;,
2459                                                       (void*)&amp;WB_DefineModule },
2460   {CC&quot;AddModuleExports&quot;,   CC&quot;(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/Object;)V&quot;,
2461                                                       (void*)&amp;WB_AddModuleExports },
2462   {CC&quot;AddReadsModule&quot;,     CC&quot;(Ljava/lang/Object;Ljava/lang/Object;)V&quot;,
2463                                                       (void*)&amp;WB_AddReadsModule },
2464   {CC&quot;AddModuleExportsToAllUnnamed&quot;, CC&quot;(Ljava/lang/Object;Ljava/lang/String;)V&quot;,
2465                                                       (void*)&amp;WB_AddModuleExportsToAllUnnamed },
2466   {CC&quot;AddModuleExportsToAll&quot;, CC&quot;(Ljava/lang/Object;Ljava/lang/String;)V&quot;,
2467                                                       (void*)&amp;WB_AddModuleExportsToAll },
2468   {CC&quot;assertMatchingSafepointCalls&quot;, CC&quot;(ZZ)V&quot;,       (void*)&amp;WB_AssertMatchingSafepointCalls },
2469   {CC&quot;assertSpecialLock&quot;,  CC&quot;(ZZ)V&quot;,                 (void*)&amp;WB_AssertSpecialLock },
<span class="line-added">2470   {CC&quot;deflateIdleMonitors&quot;, CC&quot;()Z&quot;,                  (void*)&amp;WB_DeflateIdleMonitors },</span>
2471   {CC&quot;isMonitorInflated0&quot;, CC&quot;(Ljava/lang/Object;)Z&quot;, (void*)&amp;WB_IsMonitorInflated  },
2472   {CC&quot;forceSafepoint&quot;,     CC&quot;()V&quot;,                   (void*)&amp;WB_ForceSafepoint     },
2473   {CC&quot;getConstantPool0&quot;,   CC&quot;(Ljava/lang/Class;)J&quot;,  (void*)&amp;WB_GetConstantPool    },
2474   {CC&quot;getConstantPoolCacheIndexTag0&quot;, CC&quot;()I&quot;,  (void*)&amp;WB_GetConstantPoolCacheIndexTag},
2475   {CC&quot;getConstantPoolCacheLength0&quot;, CC&quot;(Ljava/lang/Class;)I&quot;,  (void*)&amp;WB_GetConstantPoolCacheLength},
2476   {CC&quot;remapInstructionOperandFromCPCache0&quot;,
2477       CC&quot;(Ljava/lang/Class;I)I&quot;,                      (void*)&amp;WB_ConstantPoolRemapInstructionOperandFromCache},
2478   {CC&quot;encodeConstantPoolIndyIndex0&quot;,
2479       CC&quot;(I)I&quot;,                      (void*)&amp;WB_ConstantPoolEncodeIndyIndex},
2480   {CC&quot;getMethodBooleanOption&quot;,
2481       CC&quot;(Ljava/lang/reflect/Executable;Ljava/lang/String;)Ljava/lang/Boolean;&quot;,
2482                                                       (void*)&amp;WB_GetMethodBooleaneOption},
2483   {CC&quot;getMethodIntxOption&quot;,
2484       CC&quot;(Ljava/lang/reflect/Executable;Ljava/lang/String;)Ljava/lang/Long;&quot;,
2485                                                       (void*)&amp;WB_GetMethodIntxOption},
2486   {CC&quot;getMethodUintxOption&quot;,
2487       CC&quot;(Ljava/lang/reflect/Executable;Ljava/lang/String;)Ljava/lang/Long;&quot;,
2488                                                       (void*)&amp;WB_GetMethodUintxOption},
2489   {CC&quot;getMethodDoubleOption&quot;,
2490       CC&quot;(Ljava/lang/reflect/Executable;Ljava/lang/String;)Ljava/lang/Double;&quot;,
</pre>
</td>
</tr>
</table>
<center><a href="resolvedMethodTable.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../runtime/arguments.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>