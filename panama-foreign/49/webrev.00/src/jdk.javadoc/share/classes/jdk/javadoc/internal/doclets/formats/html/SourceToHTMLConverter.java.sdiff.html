<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/SourceToHTMLConverter.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="SingleIndexWriter.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="SplitIndexWriter.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/SourceToHTMLConverter.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
228             String message = resources.getText(&quot;doclet.exception.read.file&quot;, fo.getName());
229             throw new SimpleDocletException(message, e);
230         }
231     }
232 
233     /**
234      * Write the output to the file.
235      *
236      * @param body the documentation content to be written to the file.
237      * @param path the path for the file.
238      */
239     private void writeToFile(Content body, DocPath path, TypeElement te) throws DocFileIOException {
240         Head head = new Head(path, configuration.docletVersion, configuration.startTime)
241 //                .setTimestamp(!options.notimestamp) // temporary: compatibility!
242                 .setTitle(resources.getText(&quot;doclet.Window_Source_title&quot;))
243 //                .setCharset(options.charset) // temporary: compatibility!
244                 .setDescription(HtmlDocletWriter.getDescription(&quot;source&quot;, te))
245                 .setGenerator(HtmlDocletWriter.getGenerator(getClass()))
246                 .addDefaultScript(false)
247                 .setStylesheets(configuration.getMainStylesheet(), configuration.getAdditionalStylesheets());
<span class="line-modified">248         Content htmlTree = HtmlTree.HTML(configuration.getLocale().getLanguage(),</span>
<span class="line-removed">249                 head.toContent(), body);</span>
250         HtmlDocument htmlDocument = new HtmlDocument(htmlTree);
251         messages.notice(&quot;doclet.Generating_0&quot;, path.getPath());
252         htmlDocument.write(DocFile.createFileForOutput(configuration, path));
253     }
254 
255     /**
256      * Returns a link to the stylesheet file.
257      *
258      * @param head an HtmlTree to which the stylesheet links will be added
259      */
260     public void addStyleSheetProperties(Content head) {
261         String filename = options.stylesheetFile();
262         DocPath stylesheet;
263         if (filename.length() &gt; 0) {
264             DocFile file = DocFile.createFileForInput(configuration, filename);
265             stylesheet = DocPath.create(file.getName());
266         } else {
267             stylesheet = DocPaths.STYLESHEET;
268         }
269         DocPath p = relativePath.resolve(stylesheet);
</pre>
</td>
<td>
<hr />
<pre>
228             String message = resources.getText(&quot;doclet.exception.read.file&quot;, fo.getName());
229             throw new SimpleDocletException(message, e);
230         }
231     }
232 
233     /**
234      * Write the output to the file.
235      *
236      * @param body the documentation content to be written to the file.
237      * @param path the path for the file.
238      */
239     private void writeToFile(Content body, DocPath path, TypeElement te) throws DocFileIOException {
240         Head head = new Head(path, configuration.docletVersion, configuration.startTime)
241 //                .setTimestamp(!options.notimestamp) // temporary: compatibility!
242                 .setTitle(resources.getText(&quot;doclet.Window_Source_title&quot;))
243 //                .setCharset(options.charset) // temporary: compatibility!
244                 .setDescription(HtmlDocletWriter.getDescription(&quot;source&quot;, te))
245                 .setGenerator(HtmlDocletWriter.getGenerator(getClass()))
246                 .addDefaultScript(false)
247                 .setStylesheets(configuration.getMainStylesheet(), configuration.getAdditionalStylesheets());
<span class="line-modified">248         Content htmlTree = HtmlTree.HTML(configuration.getLocale().getLanguage(), head, body);</span>

249         HtmlDocument htmlDocument = new HtmlDocument(htmlTree);
250         messages.notice(&quot;doclet.Generating_0&quot;, path.getPath());
251         htmlDocument.write(DocFile.createFileForOutput(configuration, path));
252     }
253 
254     /**
255      * Returns a link to the stylesheet file.
256      *
257      * @param head an HtmlTree to which the stylesheet links will be added
258      */
259     public void addStyleSheetProperties(Content head) {
260         String filename = options.stylesheetFile();
261         DocPath stylesheet;
262         if (filename.length() &gt; 0) {
263             DocFile file = DocFile.createFileForInput(configuration, filename);
264             stylesheet = DocPath.create(file.getName());
265         } else {
266             stylesheet = DocPaths.STYLESHEET;
267         }
268         DocPath p = relativePath.resolve(stylesheet);
</pre>
</td>
</tr>
</table>
<center><a href="SingleIndexWriter.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="SplitIndexWriter.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>