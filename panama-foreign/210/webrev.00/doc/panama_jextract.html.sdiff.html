<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff doc/panama_jextract.html</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../index.html" target="_top">index</a> <a href="panama_jextract.md.sdiff.html" target="_top">next &gt;</a></center>    <h2>doc/panama_jextract.html</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
183 &lt;span id=&quot;cb3-2&quot;&gt;&lt;a href=&quot;#cb3-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;fu&quot;&gt;cc&lt;/span&gt; -shared -o libhelloworld.dylib helloworld.c&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
184 &lt;h3 id=&quot;jextract-a-jar-file-for-helloworld.h&quot;&gt;jextract a Jar file for helloworld.h&lt;/h3&gt;
185 &lt;div class=&quot;sourceCode&quot; id=&quot;cb4&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb4-1&quot;&gt;&lt;a href=&quot;#cb4-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
186 &lt;span id=&quot;cb4-2&quot;&gt;&lt;a href=&quot;#cb4-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -t org.hello -lhelloworld helloworld.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
187 &lt;h3 id=&quot;java-program-that-uses-extracted-helloworld-interface&quot;&gt;Java program that uses extracted helloworld interface&lt;/h3&gt;
188 &lt;div class=&quot;sourceCode&quot; id=&quot;cb5&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb5-1&quot;&gt;&lt;a href=&quot;#cb5-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
189 &lt;span id=&quot;cb5-2&quot;&gt;&lt;a href=&quot;#cb5-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.hello.helloworld_h.*;&lt;/span&gt;&lt;/span&gt;
190 &lt;span id=&quot;cb5-3&quot;&gt;&lt;a href=&quot;#cb5-3&quot;&gt;&lt;/a&gt;&lt;/span&gt;
191 &lt;span id=&quot;cb5-4&quot;&gt;&lt;a href=&quot;#cb5-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; HelloWorld {&lt;/span&gt;
192 &lt;span id=&quot;cb5-5&quot;&gt;&lt;a href=&quot;#cb5-5&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
193 &lt;span id=&quot;cb5-6&quot;&gt;&lt;a href=&quot;#cb5-6&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;helloworld&lt;/span&gt;();&lt;/span&gt;
194 &lt;span id=&quot;cb5-7&quot;&gt;&lt;a href=&quot;#cb5-7&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
195 &lt;span id=&quot;cb5-8&quot;&gt;&lt;a href=&quot;#cb5-8&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
196 &lt;h3 id=&quot;running-the-java-code-that-invokes-helloworld&quot;&gt;Running the Java code that invokes helloworld&lt;/h3&gt;
197 &lt;div class=&quot;sourceCode&quot; id=&quot;cb6&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb6-1&quot;&gt;&lt;a href=&quot;#cb6-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
198 &lt;span id=&quot;cb6-2&quot;&gt;&lt;a href=&quot;#cb6-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign HelloWorld.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
199 &lt;h2 id=&quot;embedding-python-interpreter-in-your-java-program-mac-os&quot;&gt;Embedding Python interpreter in your Java program (Mac OS)&lt;/h2&gt;
200 &lt;h3 id=&quot;jextract-python.h&quot;&gt;jextract Python.h&lt;/h3&gt;
201 &lt;div class=&quot;sourceCode&quot; id=&quot;cb7&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb7-1&quot;&gt;&lt;a href=&quot;#cb7-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
202 &lt;span id=&quot;cb7-2&quot;&gt;&lt;a href=&quot;#cb7-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -l python2.7 \&lt;/span&gt;
<span class="line-modified">203 &lt;span id=&quot;cb7-3&quot;&gt;&lt;a href=&quot;#cb7-3&quot;&gt;&lt;/a&gt;  -I /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;</span>
<span class="line-modified">204 &lt;span id=&quot;cb7-4&quot;&gt;&lt;a href=&quot;#cb7-4&quot;&gt;&lt;/a&gt;  -I /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/python2.7/ \&lt;/span&gt;</span>
205 &lt;span id=&quot;cb7-5&quot;&gt;&lt;a href=&quot;#cb7-5&quot;&gt;&lt;/a&gt;  -t org.python \&lt;/span&gt;
<span class="line-modified">206 &lt;span id=&quot;cb7-6&quot;&gt;&lt;a href=&quot;#cb7-6&quot;&gt;&lt;/a&gt;   /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/python2.7/Python.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
207 &lt;h3 id=&quot;java-program-that-uses-extracted-python-interface&quot;&gt;Java program that uses extracted Python interface&lt;/h3&gt;
208 &lt;div class=&quot;sourceCode&quot; id=&quot;cb8&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb8-1&quot;&gt;&lt;a href=&quot;#cb8-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
209 &lt;span id=&quot;cb8-2&quot;&gt;&lt;a href=&quot;#cb8-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.python.Cstring;&lt;/span&gt;&lt;/span&gt;
210 &lt;span id=&quot;cb8-3&quot;&gt;&lt;a href=&quot;#cb8-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;
211 &lt;span id=&quot;cb8-4&quot;&gt;&lt;a href=&quot;#cb8-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;// import jextracted python &amp;#39;header&amp;#39; class&lt;/span&gt;&lt;/span&gt;
212 &lt;span id=&quot;cb8-5&quot;&gt;&lt;a href=&quot;#cb8-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.python.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;
213 &lt;span id=&quot;cb8-6&quot;&gt;&lt;a href=&quot;#cb8-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.python.Python_h.*;&lt;/span&gt;&lt;/span&gt;
214 &lt;span id=&quot;cb8-7&quot;&gt;&lt;a href=&quot;#cb8-7&quot;&gt;&lt;/a&gt;&lt;/span&gt;
215 &lt;span id=&quot;cb8-8&quot;&gt;&lt;a href=&quot;#cb8-8&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; PythonMain {&lt;/span&gt;
216 &lt;span id=&quot;cb8-9&quot;&gt;&lt;a href=&quot;#cb8-9&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
217 &lt;span id=&quot;cb8-10&quot;&gt;&lt;a href=&quot;#cb8-10&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; script = &lt;span class=&quot;st&quot;&gt;&amp;quot;print(sum([33, 55, 66])); print(&amp;#39;Hello from Python!&amp;#39;)&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;;&lt;/span&gt;
218 &lt;span id=&quot;cb8-11&quot;&gt;&lt;a href=&quot;#cb8-11&quot;&gt;&lt;/a&gt;&lt;/span&gt;
219 &lt;span id=&quot;cb8-12&quot;&gt;&lt;a href=&quot;#cb8-12&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;Py_Initialize&lt;/span&gt;();&lt;/span&gt;
220 &lt;span id=&quot;cb8-13&quot;&gt;&lt;a href=&quot;#cb8-13&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var s = Cstring.&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(script)) {&lt;/span&gt;
221 &lt;span id=&quot;cb8-14&quot;&gt;&lt;a href=&quot;#cb8-14&quot;&gt;&lt;/a&gt;            var str = s.&lt;span class=&quot;fu&quot;&gt;baseAddress&lt;/span&gt;();&lt;/span&gt;
222 &lt;span id=&quot;cb8-15&quot;&gt;&lt;a href=&quot;#cb8-15&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;PyRun_SimpleStringFlags&lt;/span&gt;(str, NULL);&lt;/span&gt;
223 &lt;span id=&quot;cb8-16&quot;&gt;&lt;a href=&quot;#cb8-16&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;Py_Finalize&lt;/span&gt;();&lt;/span&gt;
224 &lt;span id=&quot;cb8-17&quot;&gt;&lt;a href=&quot;#cb8-17&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
225 &lt;span id=&quot;cb8-18&quot;&gt;&lt;a href=&quot;#cb8-18&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
226 &lt;span id=&quot;cb8-19&quot;&gt;&lt;a href=&quot;#cb8-19&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
227 &lt;h3 id=&quot;running-the-java-code-that-calls-python-interpreter&quot;&gt;Running the Java code that calls Python interpreter&lt;/h3&gt;
228 &lt;div class=&quot;sourceCode&quot; id=&quot;cb9&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb9-1&quot;&gt;&lt;a href=&quot;#cb9-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
229 &lt;span id=&quot;cb9-2&quot;&gt;&lt;a href=&quot;#cb9-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;
230 &lt;span id=&quot;cb9-3&quot;&gt;&lt;a href=&quot;#cb9-3&quot;&gt;&lt;/a&gt;    -Djava.library.path=/System/Library/Frameworks/Python.framework/Versions/2.7/lib \&lt;/span&gt;
231 &lt;span id=&quot;cb9-4&quot;&gt;&lt;a href=&quot;#cb9-4&quot;&gt;&lt;/a&gt;    PythonMain.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
232 &lt;h2 id=&quot;using-readline-library-from-java-code-mac-os&quot;&gt;Using readline library from Java code (Mac OS)&lt;/h2&gt;
233 &lt;h3 id=&quot;jextract-readline.h&quot;&gt;jextract readline.h&lt;/h3&gt;
234 &lt;div class=&quot;sourceCode&quot; id=&quot;cb10&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb10-1&quot;&gt;&lt;a href=&quot;#cb10-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
235 &lt;span id=&quot;cb10-2&quot;&gt;&lt;a href=&quot;#cb10-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -l readline -t org.unix \&lt;/span&gt;
<span class="line-modified">236 &lt;span id=&quot;cb10-3&quot;&gt;&lt;a href=&quot;#cb10-3&quot;&gt;&lt;/a&gt;  -I /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include \&lt;/span&gt;</span>
<span class="line-modified">237 &lt;span id=&quot;cb10-4&quot;&gt;&lt;a href=&quot;#cb10-4&quot;&gt;&lt;/a&gt;   /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include/readline/readline.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>

238 &lt;h3 id=&quot;java-code-that-uses-readline&quot;&gt;Java code that uses readline&lt;/h3&gt;
239 &lt;div class=&quot;sourceCode&quot; id=&quot;cb11&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb11-1&quot;&gt;&lt;a href=&quot;#cb11-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
240 &lt;span id=&quot;cb11-2&quot;&gt;&lt;a href=&quot;#cb11-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.Cstring;&lt;/span&gt;&lt;/span&gt;
241 &lt;span id=&quot;cb11-3&quot;&gt;&lt;a href=&quot;#cb11-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;
242 &lt;span id=&quot;cb11-4&quot;&gt;&lt;a href=&quot;#cb11-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.readline_h.*;&lt;/span&gt;&lt;/span&gt;
243 &lt;span id=&quot;cb11-5&quot;&gt;&lt;a href=&quot;#cb11-5&quot;&gt;&lt;/a&gt;&lt;/span&gt;
244 &lt;span id=&quot;cb11-6&quot;&gt;&lt;a href=&quot;#cb11-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; Readline {&lt;/span&gt;
245 &lt;span id=&quot;cb11-7&quot;&gt;&lt;a href=&quot;#cb11-7&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
246 &lt;span id=&quot;cb11-8&quot;&gt;&lt;a href=&quot;#cb11-8&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var s = Cstring.&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;name? &amp;quot;&lt;/span&gt;)) {&lt;/span&gt;
247 &lt;span id=&quot;cb11-9&quot;&gt;&lt;a href=&quot;#cb11-9&quot;&gt;&lt;/a&gt;            var pstr = s.&lt;span class=&quot;fu&quot;&gt;baseAddress&lt;/span&gt;();&lt;/span&gt;
248 &lt;span id=&quot;cb11-10&quot;&gt;&lt;a href=&quot;#cb11-10&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// call &amp;quot;readline&amp;quot; API&lt;/span&gt;&lt;/span&gt;
249 &lt;span id=&quot;cb11-11&quot;&gt;&lt;a href=&quot;#cb11-11&quot;&gt;&lt;/a&gt;            var p = &lt;span class=&quot;fu&quot;&gt;readline&lt;/span&gt;(pstr);&lt;/span&gt;
250 &lt;span id=&quot;cb11-12&quot;&gt;&lt;a href=&quot;#cb11-12&quot;&gt;&lt;/a&gt;&lt;/span&gt;
251 &lt;span id=&quot;cb11-13&quot;&gt;&lt;a href=&quot;#cb11-13&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// print char* as is&lt;/span&gt;&lt;/span&gt;
252 &lt;span id=&quot;cb11-14&quot;&gt;&lt;a href=&quot;#cb11-14&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(p);&lt;/span&gt;
253 &lt;span id=&quot;cb11-15&quot;&gt;&lt;a href=&quot;#cb11-15&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// convert char* ptr from readline as Java String &amp;amp; print it&lt;/span&gt;&lt;/span&gt;
254 &lt;span id=&quot;cb11-16&quot;&gt;&lt;a href=&quot;#cb11-16&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello, &amp;quot;&lt;/span&gt; + Cstring.&lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(p));&lt;/span&gt;
255 &lt;span id=&quot;cb11-17&quot;&gt;&lt;a href=&quot;#cb11-17&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
256 &lt;span id=&quot;cb11-18&quot;&gt;&lt;a href=&quot;#cb11-18&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
257 &lt;span id=&quot;cb11-19&quot;&gt;&lt;a href=&quot;#cb11-19&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
258 &lt;h3 id=&quot;running-the-java-code-that-uses-readline&quot;&gt;Running the java code that uses readline&lt;/h3&gt;
259 &lt;pre&gt;&lt;code&gt;java -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \
260     -Djava.library.path=/usr/local/opt/readline/lib/ Readline.java
261 &lt;/code&gt;&lt;/pre&gt;
262 &lt;h2 id=&quot;using-libcurl-from-java-mac-os&quot;&gt;Using libcurl from Java (Mac OS)&lt;/h2&gt;
263 &lt;h3 id=&quot;jextract-curl.h&quot;&gt;jextract curl.h&lt;/h3&gt;
264 &lt;div class=&quot;sourceCode&quot; id=&quot;cb13&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb13-1&quot;&gt;&lt;a href=&quot;#cb13-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
265 &lt;span id=&quot;cb13-2&quot;&gt;&lt;a href=&quot;#cb13-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -t org.unix -lcurl \&lt;/span&gt;
<span class="line-modified">266 &lt;span id=&quot;cb13-3&quot;&gt;&lt;a href=&quot;#cb13-3&quot;&gt;&lt;/a&gt;  -I /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include/ \&lt;/span&gt;</span>
<span class="line-modified">267 &lt;span id=&quot;cb13-4&quot;&gt;&lt;a href=&quot;#cb13-4&quot;&gt;&lt;/a&gt;  -I /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include/curl/ \&lt;/span&gt;</span>
<span class="line-modified">268 &lt;span id=&quot;cb13-5&quot;&gt;&lt;a href=&quot;#cb13-5&quot;&gt;&lt;/a&gt;  /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include/curl/curl.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
269 &lt;h3 id=&quot;java-code-that-uses-libcurl&quot;&gt;Java code that uses libcurl&lt;/h3&gt;
270 &lt;div class=&quot;sourceCode&quot; id=&quot;cb14&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb14-1&quot;&gt;&lt;a href=&quot;#cb14-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
271 &lt;span id=&quot;cb14-2&quot;&gt;&lt;a href=&quot;#cb14-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.Cstring;&lt;/span&gt;&lt;/span&gt;
272 &lt;span id=&quot;cb14-3&quot;&gt;&lt;a href=&quot;#cb14-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;
273 &lt;span id=&quot;cb14-4&quot;&gt;&lt;a href=&quot;#cb14-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;
274 &lt;span id=&quot;cb14-5&quot;&gt;&lt;a href=&quot;#cb14-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.curl_h.*;&lt;/span&gt;&lt;/span&gt;
275 &lt;span id=&quot;cb14-6&quot;&gt;&lt;a href=&quot;#cb14-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;
276 &lt;span id=&quot;cb14-7&quot;&gt;&lt;a href=&quot;#cb14-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; CurlMain {&lt;/span&gt;
277 &lt;span id=&quot;cb14-8&quot;&gt;&lt;a href=&quot;#cb14-8&quot;&gt;&lt;/a&gt;   &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
278 &lt;span id=&quot;cb14-9&quot;&gt;&lt;a href=&quot;#cb14-9&quot;&gt;&lt;/a&gt;       var urlStr = args[&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;];&lt;/span&gt;
279 &lt;span id=&quot;cb14-10&quot;&gt;&lt;a href=&quot;#cb14-10&quot;&gt;&lt;/a&gt;       &lt;span class=&quot;fu&quot;&gt;curl_global_init&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;CURL_GLOBAL_DEFAULT&lt;/span&gt;());&lt;/span&gt;
280 &lt;span id=&quot;cb14-11&quot;&gt;&lt;a href=&quot;#cb14-11&quot;&gt;&lt;/a&gt;       var curl = &lt;span class=&quot;fu&quot;&gt;curl_easy_init&lt;/span&gt;();&lt;/span&gt;
281 &lt;span id=&quot;cb14-12&quot;&gt;&lt;a href=&quot;#cb14-12&quot;&gt;&lt;/a&gt;       &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt;(!curl.&lt;span class=&quot;fu&quot;&gt;equals&lt;/span&gt;(NULL)) {&lt;/span&gt;
282 &lt;span id=&quot;cb14-13&quot;&gt;&lt;a href=&quot;#cb14-13&quot;&gt;&lt;/a&gt;           &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var s = Cstring.&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(urlStr)) {&lt;/span&gt;
283 &lt;span id=&quot;cb14-14&quot;&gt;&lt;a href=&quot;#cb14-14&quot;&gt;&lt;/a&gt;               var url = s.&lt;span class=&quot;fu&quot;&gt;baseAddress&lt;/span&gt;();&lt;/span&gt;
284 &lt;span id=&quot;cb14-15&quot;&gt;&lt;a href=&quot;#cb14-15&quot;&gt;&lt;/a&gt;               &lt;span class=&quot;fu&quot;&gt;curl_easy_setopt&lt;/span&gt;(curl, &lt;span class=&quot;fu&quot;&gt;CURLOPT_URL&lt;/span&gt;(), url);&lt;/span&gt;
285 &lt;span id=&quot;cb14-16&quot;&gt;&lt;a href=&quot;#cb14-16&quot;&gt;&lt;/a&gt;               &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; res = &lt;span class=&quot;fu&quot;&gt;curl_easy_perform&lt;/span&gt;(curl);&lt;/span&gt;
286 &lt;span id=&quot;cb14-17&quot;&gt;&lt;a href=&quot;#cb14-17&quot;&gt;&lt;/a&gt;               &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (res != &lt;span class=&quot;fu&quot;&gt;CURLE_OK&lt;/span&gt;()) {&lt;/span&gt;
287 &lt;span id=&quot;cb14-18&quot;&gt;&lt;a href=&quot;#cb14-18&quot;&gt;&lt;/a&gt;                   &lt;span class=&quot;fu&quot;&gt;curl_easy_cleanup&lt;/span&gt;(curl);&lt;/span&gt;
288 &lt;span id=&quot;cb14-19&quot;&gt;&lt;a href=&quot;#cb14-19&quot;&gt;&lt;/a&gt;               }&lt;/span&gt;
</pre>
<hr />
<pre>
292 &lt;span id=&quot;cb14-23&quot;&gt;&lt;a href=&quot;#cb14-23&quot;&gt;&lt;/a&gt;   }&lt;/span&gt;
293 &lt;span id=&quot;cb14-24&quot;&gt;&lt;a href=&quot;#cb14-24&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
294 &lt;h3 id=&quot;running-the-java-code-that-uses-libcurl&quot;&gt;Running the java code that uses libcurl&lt;/h3&gt;
295 &lt;div class=&quot;sourceCode&quot; id=&quot;cb15&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb15-1&quot;&gt;&lt;a href=&quot;#cb15-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
296 &lt;span id=&quot;cb15-2&quot;&gt;&lt;a href=&quot;#cb15-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;# run this shell script by passing a URL as first argument&lt;/span&gt;&lt;/span&gt;
297 &lt;span id=&quot;cb15-3&quot;&gt;&lt;a href=&quot;#cb15-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;
298 &lt;span id=&quot;cb15-4&quot;&gt;&lt;a href=&quot;#cb15-4&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/lib CurlMain.java &lt;span class=&quot;va&quot;&gt;$*&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
299 &lt;h2 id=&quot;using-blas-library&quot;&gt;Using BLAS library&lt;/h2&gt;
300 &lt;p&gt;BLAS is a popular library that allows fast matrix and vector computation: &lt;a href=&quot;http://www.netlib.org/blas/&quot;&gt;http://www.netlib.org/blas/&lt;/a&gt;.&lt;/p&gt;
301 &lt;h3 id=&quot;installing-openblas-mac-os&quot;&gt;Installing OpenBLAS (Mac OS)&lt;/h3&gt;
302 &lt;p&gt;On Mac, blas is available as part of the OpenBLAS library: &lt;a href=&quot;https://github.com/xianyi/OpenBLAS/wiki&quot;&gt;https://github.com/xianyi/OpenBLAS/wiki&lt;/a&gt;&lt;/p&gt;
303 &lt;p&gt;OpenBLAS is an optimized BLAS library based on GotoBLAS2 1.13 BSD version.&lt;/p&gt;
304 &lt;p&gt;You can install openblas using HomeBrew&lt;/p&gt;
305 &lt;div class=&quot;sourceCode&quot; id=&quot;cb16&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb16-1&quot;&gt;&lt;a href=&quot;#cb16-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
306 &lt;span id=&quot;cb16-2&quot;&gt;&lt;a href=&quot;#cb16-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;brew&lt;/span&gt; install openblas&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
307 &lt;p&gt;It installs include and lib directories under /usr/local/opt/openblas&lt;/p&gt;
308 &lt;h3 id=&quot;jextracting-cblas.h-macos&quot;&gt;jextracting cblas.h (MacOS)&lt;/h3&gt;
309 &lt;p&gt;The following command can be used to extract cblas.h on MacOs&lt;/p&gt;
310 &lt;div class=&quot;sourceCode&quot; id=&quot;cb17&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb17-1&quot;&gt;&lt;a href=&quot;#cb17-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
311 &lt;span id=&quot;cb17-2&quot;&gt;&lt;a href=&quot;#cb17-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -C &lt;span class=&quot;st&quot;&gt;&amp;quot;-D FORCE_OPENBLAS_COMPLEX_STRUCT&amp;quot;&lt;/span&gt; \&lt;/span&gt;
<span class="line-modified">312 &lt;span id=&quot;cb17-3&quot;&gt;&lt;a href=&quot;#cb17-3&quot;&gt;&lt;/a&gt;  -I /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;</span>
313 &lt;span id=&quot;cb17-4&quot;&gt;&lt;a href=&quot;#cb17-4&quot;&gt;&lt;/a&gt;  -l openblas -t blas /usr/local/opt/openblas/include/cblas.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
314 &lt;h3 id=&quot;java-sample-code-that-uses-cblas-library&quot;&gt;Java sample code that uses cblas library&lt;/h3&gt;
315 &lt;div class=&quot;sourceCode&quot; id=&quot;cb18&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb18-1&quot;&gt;&lt;a href=&quot;#cb18-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
316 &lt;span id=&quot;cb18-2&quot;&gt;&lt;a href=&quot;#cb18-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;
317 &lt;span id=&quot;cb18-3&quot;&gt;&lt;a href=&quot;#cb18-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; blas.*;&lt;/span&gt;&lt;/span&gt;
318 &lt;span id=&quot;cb18-4&quot;&gt;&lt;a href=&quot;#cb18-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; blas.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;
319 &lt;span id=&quot;cb18-5&quot;&gt;&lt;a href=&quot;#cb18-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; blas.cblas_h.*;&lt;/span&gt;&lt;/span&gt;
320 &lt;span id=&quot;cb18-6&quot;&gt;&lt;a href=&quot;#cb18-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;
321 &lt;span id=&quot;cb18-7&quot;&gt;&lt;a href=&quot;#cb18-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; TestBlas {&lt;/span&gt;
322 &lt;span id=&quot;cb18-8&quot;&gt;&lt;a href=&quot;#cb18-8&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
323 &lt;span id=&quot;cb18-9&quot;&gt;&lt;a href=&quot;#cb18-9&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; Layout;&lt;/span&gt;
324 &lt;span id=&quot;cb18-10&quot;&gt;&lt;a href=&quot;#cb18-10&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; transa;&lt;/span&gt;
325 &lt;span id=&quot;cb18-11&quot;&gt;&lt;a href=&quot;#cb18-11&quot;&gt;&lt;/a&gt;&lt;/span&gt;
326 &lt;span id=&quot;cb18-12&quot;&gt;&lt;a href=&quot;#cb18-12&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt; alpha, beta;&lt;/span&gt;
327 &lt;span id=&quot;cb18-13&quot;&gt;&lt;a href=&quot;#cb18-13&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; m, n, lda, incx, incy, i;&lt;/span&gt;
328 &lt;span id=&quot;cb18-14&quot;&gt;&lt;a href=&quot;#cb18-14&quot;&gt;&lt;/a&gt;&lt;/span&gt;
329 &lt;span id=&quot;cb18-15&quot;&gt;&lt;a href=&quot;#cb18-15&quot;&gt;&lt;/a&gt;        Layout = &lt;span class=&quot;fu&quot;&gt;CblasColMajor&lt;/span&gt;();&lt;/span&gt;
330 &lt;span id=&quot;cb18-16&quot;&gt;&lt;a href=&quot;#cb18-16&quot;&gt;&lt;/a&gt;        transa = &lt;span class=&quot;fu&quot;&gt;CblasNoTrans&lt;/span&gt;();&lt;/span&gt;
331 &lt;span id=&quot;cb18-17&quot;&gt;&lt;a href=&quot;#cb18-17&quot;&gt;&lt;/a&gt;&lt;/span&gt;
332 &lt;span id=&quot;cb18-18&quot;&gt;&lt;a href=&quot;#cb18-18&quot;&gt;&lt;/a&gt;        m = &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;; &lt;span class=&quot;co&quot;&gt;/* Size of Column ( the number of rows ) */&lt;/span&gt;&lt;/span&gt;
</pre>
<hr />
<pre>
373 &lt;span id=&quot;cb18-59&quot;&gt;&lt;a href=&quot;#cb18-59&quot;&gt;&lt;/a&gt;            Cdouble.&lt;span class=&quot;fu&quot;&gt;set&lt;/span&gt;(y, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;
374 &lt;span id=&quot;cb18-60&quot;&gt;&lt;a href=&quot;#cb18-60&quot;&gt;&lt;/a&gt;&lt;/span&gt;
375 &lt;span id=&quot;cb18-61&quot;&gt;&lt;a href=&quot;#cb18-61&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;cblas_dgemv&lt;/span&gt;(Layout, transa, m, n, alpha, a, lda, x, incx, beta, y, incy);&lt;/span&gt;
376 &lt;span id=&quot;cb18-62&quot;&gt;&lt;a href=&quot;#cb18-62&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Print y */&lt;/span&gt;&lt;/span&gt;
377 &lt;span id=&quot;cb18-63&quot;&gt;&lt;a href=&quot;#cb18-63&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt; (i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; n; i++) {&lt;/span&gt;
378 &lt;span id=&quot;cb18-64&quot;&gt;&lt;a href=&quot;#cb18-64&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;.format&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot; y&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%d&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%f\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, i, Cdouble.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(y, (&lt;span class=&quot;dt&quot;&gt;long&lt;/span&gt;)i)));&lt;/span&gt;
379 &lt;span id=&quot;cb18-65&quot;&gt;&lt;a href=&quot;#cb18-65&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;
380 &lt;span id=&quot;cb18-66&quot;&gt;&lt;a href=&quot;#cb18-66&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
381 &lt;span id=&quot;cb18-67&quot;&gt;&lt;a href=&quot;#cb18-67&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
382 &lt;span id=&quot;cb18-68&quot;&gt;&lt;a href=&quot;#cb18-68&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
383 &lt;h3 id=&quot;compiling-and-running-the-above-blas-sample&quot;&gt;Compiling and running the above BLAS sample&lt;/h3&gt;
384 &lt;div class=&quot;sourceCode&quot; id=&quot;cb19&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb19-1&quot;&gt;&lt;a href=&quot;#cb19-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
385 &lt;span id=&quot;cb19-2&quot;&gt;&lt;a href=&quot;#cb19-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;
386 &lt;span id=&quot;cb19-3&quot;&gt;&lt;a href=&quot;#cb19-3&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/local/opt/openblas/lib \&lt;/span&gt;
387 &lt;span id=&quot;cb19-4&quot;&gt;&lt;a href=&quot;#cb19-4&quot;&gt;&lt;/a&gt;    TestBlas.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
388 &lt;h2 id=&quot;using-lapack-library-mac-os&quot;&gt;Using LAPACK library (Mac OS)&lt;/h2&gt;
389 &lt;p&gt;On Mac OS, lapack is installed under /usr/local/opt/lapack directory.&lt;/p&gt;
390 &lt;h3 id=&quot;jextracting-lapacke.h&quot;&gt;jextracting lapacke.h&lt;/h3&gt;
391 &lt;div class=&quot;sourceCode&quot; id=&quot;cb20&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb20-1&quot;&gt;&lt;a href=&quot;#cb20-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
392 &lt;span id=&quot;cb20-2&quot;&gt;&lt;a href=&quot;#cb20-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
<span class="line-modified">393 &lt;span id=&quot;cb20-3&quot;&gt;&lt;a href=&quot;#cb20-3&quot;&gt;&lt;/a&gt;   -I /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;</span>
394 &lt;span id=&quot;cb20-4&quot;&gt;&lt;a href=&quot;#cb20-4&quot;&gt;&lt;/a&gt;   -l lapacke -t lapack \&lt;/span&gt;
395 &lt;span id=&quot;cb20-5&quot;&gt;&lt;a href=&quot;#cb20-5&quot;&gt;&lt;/a&gt;   --filter lapacke.h \&lt;/span&gt;
396 &lt;span id=&quot;cb20-6&quot;&gt;&lt;a href=&quot;#cb20-6&quot;&gt;&lt;/a&gt;   /usr/local/opt/lapack/include/lapacke.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
397 &lt;h3 id=&quot;java-sample-code-that-uses-lapack-library&quot;&gt;Java sample code that uses LAPACK library&lt;/h3&gt;
398 &lt;div class=&quot;sourceCode&quot; id=&quot;cb21&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb21-1&quot;&gt;&lt;a href=&quot;#cb21-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
399 &lt;span id=&quot;cb21-2&quot;&gt;&lt;a href=&quot;#cb21-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress;&lt;/span&gt;&lt;/span&gt;
400 &lt;span id=&quot;cb21-3&quot;&gt;&lt;a href=&quot;#cb21-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;
401 &lt;span id=&quot;cb21-4&quot;&gt;&lt;a href=&quot;#cb21-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; lapack.*;&lt;/span&gt;&lt;/span&gt;
402 &lt;span id=&quot;cb21-5&quot;&gt;&lt;a href=&quot;#cb21-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; lapack.lapacke_h.*;&lt;/span&gt;&lt;/span&gt;
403 &lt;span id=&quot;cb21-6&quot;&gt;&lt;a href=&quot;#cb21-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;
404 &lt;span id=&quot;cb21-7&quot;&gt;&lt;a href=&quot;#cb21-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; TestLapack {&lt;/span&gt;
405 &lt;span id=&quot;cb21-8&quot;&gt;&lt;a href=&quot;#cb21-8&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
406 &lt;span id=&quot;cb21-9&quot;&gt;&lt;a href=&quot;#cb21-9&quot;&gt;&lt;/a&gt;&lt;/span&gt;
407 &lt;span id=&quot;cb21-10&quot;&gt;&lt;a href=&quot;#cb21-10&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;co&quot;&gt;/* Locals */&lt;/span&gt;&lt;/span&gt;
408 &lt;span id=&quot;cb21-11&quot;&gt;&lt;a href=&quot;#cb21-11&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;
409 &lt;span id=&quot;cb21-12&quot;&gt;&lt;a href=&quot;#cb21-12&quot;&gt;&lt;/a&gt;            var A = Cdouble.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt;[]{&lt;/span&gt;
410 &lt;span id=&quot;cb21-13&quot;&gt;&lt;a href=&quot;#cb21-13&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;&lt;/span&gt;
411 &lt;span id=&quot;cb21-14&quot;&gt;&lt;a href=&quot;#cb21-14&quot;&gt;&lt;/a&gt;            }, scope);&lt;/span&gt;
412 &lt;span id=&quot;cb21-15&quot;&gt;&lt;a href=&quot;#cb21-15&quot;&gt;&lt;/a&gt;            var b = Cdouble.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt;[]{&lt;/span&gt;
413 &lt;span id=&quot;cb21-16&quot;&gt;&lt;a href=&quot;#cb21-16&quot;&gt;&lt;/a&gt;                    -&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;12&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;14&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;18&lt;/span&gt;, -&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;14&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;12&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;&lt;/span&gt;
</pre>
<hr />
<pre>
442 &lt;span id=&quot;cb21-45&quot;&gt;&lt;a href=&quot;#cb21-45&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; msg, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; m, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; n, MemoryAddress mat, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; ldm) {&lt;/span&gt;
443 &lt;span id=&quot;cb21-46&quot;&gt;&lt;a href=&quot;#cb21-46&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; i, j;&lt;/span&gt;
444 &lt;span id=&quot;cb21-47&quot;&gt;&lt;a href=&quot;#cb21-47&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, msg);&lt;/span&gt;
445 &lt;span id=&quot;cb21-48&quot;&gt;&lt;a href=&quot;#cb21-48&quot;&gt;&lt;/a&gt;&lt;/span&gt;
446 &lt;span id=&quot;cb21-49&quot;&gt;&lt;a href=&quot;#cb21-49&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt;( i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; m; i++ ) {&lt;/span&gt;
447 &lt;span id=&quot;cb21-50&quot;&gt;&lt;a href=&quot;#cb21-50&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt;( j = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; j &amp;lt; n; j++ ) &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot; &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%6.2f&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, Cdouble.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(mat, i+j*ldm));&lt;/span&gt;
448 &lt;span id=&quot;cb21-51&quot;&gt;&lt;a href=&quot;#cb21-51&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;( &lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt; );&lt;/span&gt;
449 &lt;span id=&quot;cb21-52&quot;&gt;&lt;a href=&quot;#cb21-52&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
450 &lt;span id=&quot;cb21-53&quot;&gt;&lt;a href=&quot;#cb21-53&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
451 &lt;span id=&quot;cb21-54&quot;&gt;&lt;a href=&quot;#cb21-54&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
452 &lt;h3 id=&quot;compiling-and-running-the-above-lapack-sample&quot;&gt;Compiling and running the above LAPACK sample&lt;/h3&gt;
453 &lt;div class=&quot;sourceCode&quot; id=&quot;cb22&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb22-1&quot;&gt;&lt;a href=&quot;#cb22-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
454 &lt;span id=&quot;cb22-2&quot;&gt;&lt;a href=&quot;#cb22-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit \&lt;/span&gt;
455 &lt;span id=&quot;cb22-3&quot;&gt;&lt;a href=&quot;#cb22-3&quot;&gt;&lt;/a&gt;    --add-modules jdk.incubator.foreign \&lt;/span&gt;
456 &lt;span id=&quot;cb22-4&quot;&gt;&lt;a href=&quot;#cb22-4&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/local/opt/lapack/lib \&lt;/span&gt;
457 &lt;span id=&quot;cb22-5&quot;&gt;&lt;a href=&quot;#cb22-5&quot;&gt;&lt;/a&gt;    TestLapack.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
458 &lt;h2 id=&quot;using-libproc-library-to-list-processes-from-java-mac-os&quot;&gt;Using libproc library to list processes from Java (Mac OS)&lt;/h2&gt;
459 &lt;h3 id=&quot;jextract-libproc.h&quot;&gt;jextract libproc.h&lt;/h3&gt;
460 &lt;div class=&quot;sourceCode&quot; id=&quot;cb23&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb23-1&quot;&gt;&lt;a href=&quot;#cb23-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
461 &lt;span id=&quot;cb23-2&quot;&gt;&lt;a href=&quot;#cb23-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -t org.unix \&lt;/span&gt;
<span class="line-modified">462 &lt;span id=&quot;cb23-3&quot;&gt;&lt;a href=&quot;#cb23-3&quot;&gt;&lt;/a&gt;  -I /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;</span>
463 &lt;span id=&quot;cb23-4&quot;&gt;&lt;a href=&quot;#cb23-4&quot;&gt;&lt;/a&gt;  --filter libproc.h \&lt;/span&gt;
<span class="line-modified">464 &lt;span id=&quot;cb23-5&quot;&gt;&lt;a href=&quot;#cb23-5&quot;&gt;&lt;/a&gt;  /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/libproc.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
465 &lt;h3 id=&quot;java-program-that-uses-libproc-to-list-processes&quot;&gt;Java program that uses libproc to list processes&lt;/h3&gt;
466 &lt;div class=&quot;sourceCode&quot; id=&quot;cb24&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb24-1&quot;&gt;&lt;a href=&quot;#cb24-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
467 &lt;span id=&quot;cb24-2&quot;&gt;&lt;a href=&quot;#cb24-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;
468 &lt;span id=&quot;cb24-3&quot;&gt;&lt;a href=&quot;#cb24-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.*;&lt;/span&gt;&lt;/span&gt;
469 &lt;span id=&quot;cb24-4&quot;&gt;&lt;a href=&quot;#cb24-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;
470 &lt;span id=&quot;cb24-5&quot;&gt;&lt;a href=&quot;#cb24-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.libproc_h.*;&lt;/span&gt;&lt;/span&gt;
471 &lt;span id=&quot;cb24-6&quot;&gt;&lt;a href=&quot;#cb24-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;
472 &lt;span id=&quot;cb24-7&quot;&gt;&lt;a href=&quot;#cb24-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; LibprocMain {&lt;/span&gt;
473 &lt;span id=&quot;cb24-8&quot;&gt;&lt;a href=&quot;#cb24-8&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; NAME_BUF_MAX = &lt;span class=&quot;dv&quot;&gt;256&lt;/span&gt;;&lt;/span&gt;
474 &lt;span id=&quot;cb24-9&quot;&gt;&lt;a href=&quot;#cb24-9&quot;&gt;&lt;/a&gt;&lt;/span&gt;
475 &lt;span id=&quot;cb24-10&quot;&gt;&lt;a href=&quot;#cb24-10&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
476 &lt;span id=&quot;cb24-11&quot;&gt;&lt;a href=&quot;#cb24-11&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;
477 &lt;span id=&quot;cb24-12&quot;&gt;&lt;a href=&quot;#cb24-12&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// get the number of processes&lt;/span&gt;&lt;/span&gt;
478 &lt;span id=&quot;cb24-13&quot;&gt;&lt;a href=&quot;#cb24-13&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; numPids = &lt;span class=&quot;fu&quot;&gt;proc_listallpids&lt;/span&gt;(NULL, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;
479 &lt;span id=&quot;cb24-14&quot;&gt;&lt;a href=&quot;#cb24-14&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// allocate an array&lt;/span&gt;&lt;/span&gt;
480 &lt;span id=&quot;cb24-15&quot;&gt;&lt;a href=&quot;#cb24-15&quot;&gt;&lt;/a&gt;            var pids = Cint.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(numPids, scope);&lt;/span&gt;
481 &lt;span id=&quot;cb24-16&quot;&gt;&lt;a href=&quot;#cb24-16&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// list all the pids into the native array&lt;/span&gt;&lt;/span&gt;
482 &lt;span id=&quot;cb24-17&quot;&gt;&lt;a href=&quot;#cb24-17&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;proc_listallpids&lt;/span&gt;(pids, numPids);&lt;/span&gt;
483 &lt;span id=&quot;cb24-18&quot;&gt;&lt;a href=&quot;#cb24-18&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// convert native array to java array&lt;/span&gt;&lt;/span&gt;
484 &lt;span id=&quot;cb24-19&quot;&gt;&lt;a href=&quot;#cb24-19&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;[] jpids = Cint.&lt;span class=&quot;fu&quot;&gt;toJavaArray&lt;/span&gt;(pids.&lt;span class=&quot;fu&quot;&gt;segment&lt;/span&gt;());&lt;/span&gt;
</pre>
<hr />
<pre>
494 &lt;span id=&quot;cb24-29&quot;&gt;&lt;a href=&quot;#cb24-29&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;
495 &lt;span id=&quot;cb24-30&quot;&gt;&lt;a href=&quot;#cb24-30&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
496 &lt;span id=&quot;cb24-31&quot;&gt;&lt;a href=&quot;#cb24-31&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
497 &lt;span id=&quot;cb24-32&quot;&gt;&lt;a href=&quot;#cb24-32&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
498 &lt;h3 id=&quot;compiling-and-running-the-libproc-sample&quot;&gt;Compiling and running the libproc sample&lt;/h3&gt;
499 &lt;div class=&quot;sourceCode&quot; id=&quot;cb25&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb25-1&quot;&gt;&lt;a href=&quot;#cb25-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
500 &lt;span id=&quot;cb25-2&quot;&gt;&lt;a href=&quot;#cb25-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit \&lt;/span&gt;
501 &lt;span id=&quot;cb25-3&quot;&gt;&lt;a href=&quot;#cb25-3&quot;&gt;&lt;/a&gt;    --add-modules jdk.incubator.foreign \&lt;/span&gt;
502 &lt;span id=&quot;cb25-4&quot;&gt;&lt;a href=&quot;#cb25-4&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/lib LibprocMain.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
503 &lt;h2 id=&quot;using-libgit2-from-java-mac-os&quot;&gt;Using libgit2 from Java (Mac OS)&lt;/h2&gt;
504 &lt;h3 id=&quot;getting-and-building-libgit2&quot;&gt;Getting and building libgit2&lt;/h3&gt;
505 &lt;ul&gt;
506 &lt;li&gt;Download libgit2 v1.0.0 source from https://github.com/libgit2/libgit2/releases&lt;/li&gt;
507 &lt;li&gt;Use cmake to build from libgit2&lt;/li&gt;
508 &lt;li&gt;Let ${LIBGIT2_HOME} be the directory where you expanded libgit2 sources.&lt;/li&gt;
509 &lt;li&gt;Let ${LIBGIT2_HOME}/build be the build directory where libgit2.dylib is built.&lt;/li&gt;
510 &lt;/ul&gt;
511 &lt;h3 id=&quot;jextract-git2.h&quot;&gt;jextract git2.h&lt;/h3&gt;
512 &lt;div class=&quot;sourceCode&quot; id=&quot;cb26&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb26-1&quot;&gt;&lt;a href=&quot;#cb26-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
513 &lt;span id=&quot;cb26-2&quot;&gt;&lt;a href=&quot;#cb26-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -t com.github -lgit2 \&lt;/span&gt;
<span class="line-modified">514 &lt;span id=&quot;cb26-3&quot;&gt;&lt;a href=&quot;#cb26-3&quot;&gt;&lt;/a&gt;  -I /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include/ \&lt;/span&gt;</span>
515 &lt;span id=&quot;cb26-4&quot;&gt;&lt;a href=&quot;#cb26-4&quot;&gt;&lt;/a&gt;  -I &lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/include/ \&lt;/span&gt;
516 &lt;span id=&quot;cb26-5&quot;&gt;&lt;a href=&quot;#cb26-5&quot;&gt;&lt;/a&gt;  -I &lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/include/git2 \&lt;/span&gt;
517 &lt;span id=&quot;cb26-6&quot;&gt;&lt;a href=&quot;#cb26-6&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/include/git2.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
518 &lt;h3 id=&quot;java-program-that-uses-libgit2-to-clone-github-repo&quot;&gt;Java program that uses libgit2 to clone github repo&lt;/h3&gt;
519 &lt;div class=&quot;sourceCode&quot; id=&quot;cb27&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb27-1&quot;&gt;&lt;a href=&quot;#cb27-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
520 &lt;span id=&quot;cb27-2&quot;&gt;&lt;a href=&quot;#cb27-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;
521 &lt;span id=&quot;cb27-3&quot;&gt;&lt;a href=&quot;#cb27-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; com.github.git2_h.*;&lt;/span&gt;&lt;/span&gt;
522 &lt;span id=&quot;cb27-4&quot;&gt;&lt;a href=&quot;#cb27-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;
523 &lt;span id=&quot;cb27-5&quot;&gt;&lt;a href=&quot;#cb27-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;
<span class="line-modified">524 &lt;span id=&quot;cb27-6&quot;&gt;&lt;a href=&quot;#cb27-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; com.github.Cstring.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">525 &lt;span id=&quot;cb27-7&quot;&gt;&lt;a href=&quot;#cb27-7&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">526 &lt;span id=&quot;cb27-8&quot;&gt;&lt;a href=&quot;#cb27-8&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; GitClone {&lt;/span&gt;</span>
<span class="line-modified">527 &lt;span id=&quot;cb27-9&quot;&gt;&lt;a href=&quot;#cb27-9&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-modified">528 &lt;span id=&quot;cb27-10&quot;&gt;&lt;a href=&quot;#cb27-10&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (args.&lt;span class=&quot;fu&quot;&gt;length&lt;/span&gt; != &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;) {&lt;/span&gt;</span>
<span class="line-modified">529 &lt;span id=&quot;cb27-11&quot;&gt;&lt;a href=&quot;#cb27-11&quot;&gt;&lt;/a&gt;              &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;java GitClone &amp;lt;url&amp;gt; &amp;lt;path&amp;gt;&amp;quot;&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">530 &lt;span id=&quot;cb27-12&quot;&gt;&lt;a href=&quot;#cb27-12&quot;&gt;&lt;/a&gt;              &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;exit&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">531 &lt;span id=&quot;cb27-13&quot;&gt;&lt;a href=&quot;#cb27-13&quot;&gt;&lt;/a&gt;          }&lt;/span&gt;</span>
<span class="line-modified">532 &lt;span id=&quot;cb27-14&quot;&gt;&lt;a href=&quot;#cb27-14&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;fu&quot;&gt;git_libgit2_init&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">533 &lt;span id=&quot;cb27-15&quot;&gt;&lt;a href=&quot;#cb27-15&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;</span>
<span class="line-modified">534 &lt;span id=&quot;cb27-16&quot;&gt;&lt;a href=&quot;#cb27-16&quot;&gt;&lt;/a&gt;              var repo = scope.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(C_POINTER, NULL);&lt;/span&gt;</span>
<span class="line-modified">535 &lt;span id=&quot;cb27-17&quot;&gt;&lt;a href=&quot;#cb27-17&quot;&gt;&lt;/a&gt;              var url = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(args[&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;], scope);&lt;/span&gt;</span>
<span class="line-modified">536 &lt;span id=&quot;cb27-18&quot;&gt;&lt;a href=&quot;#cb27-18&quot;&gt;&lt;/a&gt;              var path = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(args[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], scope);&lt;/span&gt;</span>
<span class="line-modified">537 &lt;span id=&quot;cb27-19&quot;&gt;&lt;a href=&quot;#cb27-19&quot;&gt;&lt;/a&gt;              &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;git_clone&lt;/span&gt;(repo, url, path, NULL));&lt;/span&gt;</span>
<span class="line-modified">538 &lt;span id=&quot;cb27-20&quot;&gt;&lt;a href=&quot;#cb27-20&quot;&gt;&lt;/a&gt;          }&lt;/span&gt;</span>
<span class="line-modified">539 &lt;span id=&quot;cb27-21&quot;&gt;&lt;a href=&quot;#cb27-21&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;fu&quot;&gt;git_libgit2_shutdown&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">540 &lt;span id=&quot;cb27-22&quot;&gt;&lt;a href=&quot;#cb27-22&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-removed">541 &lt;span id=&quot;cb27-23&quot;&gt;&lt;a href=&quot;#cb27-23&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
542 &lt;h3 id=&quot;compiling-and-running-the-libgit2-sample&quot;&gt;Compiling and running the libgit2 sample&lt;/h3&gt;
543 &lt;div class=&quot;sourceCode&quot; id=&quot;cb28&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb28-1&quot;&gt;&lt;a href=&quot;#cb28-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
544 &lt;span id=&quot;cb28-2&quot;&gt;&lt;a href=&quot;#cb28-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;# file run.sh&lt;/span&gt;&lt;/span&gt;
545 &lt;span id=&quot;cb28-3&quot;&gt;&lt;a href=&quot;#cb28-3&quot;&gt;&lt;/a&gt;&lt;/span&gt;
546 &lt;span id=&quot;cb28-4&quot;&gt;&lt;a href=&quot;#cb28-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;
547 &lt;span id=&quot;cb28-5&quot;&gt;&lt;a href=&quot;#cb28-5&quot;&gt;&lt;/a&gt;    -Djava.library.path=&lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/build/ \&lt;/span&gt;
548 &lt;span id=&quot;cb28-6&quot;&gt;&lt;a href=&quot;#cb28-6&quot;&gt;&lt;/a&gt;    GitClone.java &lt;span class=&quot;va&quot;&gt;$*&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
549 &lt;h3 id=&quot;cloning-a-github-repo-using-the-above-run.sh-command&quot;&gt;Cloning a github repo using the above run.sh command&lt;/h3&gt;
550 &lt;div class=&quot;sourceCode&quot; id=&quot;cb29&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb29-1&quot;&gt;&lt;a href=&quot;#cb29-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
551 &lt;span id=&quot;cb29-2&quot;&gt;&lt;a href=&quot;#cb29-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;fu&quot;&gt;sh&lt;/span&gt; run.sh https://github.com/libgit2/libgit2.git libgit2&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
552 &lt;h2 id=&quot;using-sqlite3-library-from-java-mac-os&quot;&gt;Using sqlite3 library from Java (Mac OS)&lt;/h2&gt;
553 &lt;h3 id=&quot;jextract-sqlite3.h&quot;&gt;jextract sqlite3.h&lt;/h3&gt;
554 &lt;div class=&quot;sourceCode&quot; id=&quot;cb30&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb30-1&quot;&gt;&lt;a href=&quot;#cb30-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
555 &lt;span id=&quot;cb30-2&quot;&gt;&lt;a href=&quot;#cb30-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
<span class="line-modified">556 &lt;span id=&quot;cb30-3&quot;&gt;&lt;a href=&quot;#cb30-3&quot;&gt;&lt;/a&gt;  -I /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;</span>
<span class="line-modified">557 &lt;span id=&quot;cb30-4&quot;&gt;&lt;a href=&quot;#cb30-4&quot;&gt;&lt;/a&gt;  /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sqlite3.h \&lt;/span&gt;</span>
558 &lt;span id=&quot;cb30-5&quot;&gt;&lt;a href=&quot;#cb30-5&quot;&gt;&lt;/a&gt;  -t org.sqlite -lsqlite3&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
559 &lt;h3 id=&quot;java-program-that-uses-sqlite3&quot;&gt;Java program that uses sqlite3&lt;/h3&gt;
560 &lt;div class=&quot;sourceCode&quot; id=&quot;cb31&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb31-1&quot;&gt;&lt;a href=&quot;#cb31-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
561 &lt;span id=&quot;cb31-2&quot;&gt;&lt;a href=&quot;#cb31-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;
562 &lt;span id=&quot;cb31-3&quot;&gt;&lt;a href=&quot;#cb31-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.sqlite.Cpointer;&lt;/span&gt;&lt;/span&gt;
563 &lt;span id=&quot;cb31-4&quot;&gt;&lt;a href=&quot;#cb31-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.sqlite.Cstring;&lt;/span&gt;&lt;/span&gt;
564 &lt;span id=&quot;cb31-5&quot;&gt;&lt;a href=&quot;#cb31-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;
565 &lt;span id=&quot;cb31-6&quot;&gt;&lt;a href=&quot;#cb31-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.sqlite.sqlite3_h.*;&lt;/span&gt;&lt;/span&gt;
566 &lt;span id=&quot;cb31-7&quot;&gt;&lt;a href=&quot;#cb31-7&quot;&gt;&lt;/a&gt;&lt;/span&gt;
567 &lt;span id=&quot;cb31-8&quot;&gt;&lt;a href=&quot;#cb31-8&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; SqliteMain {&lt;/span&gt;
568 &lt;span id=&quot;cb31-9&quot;&gt;&lt;a href=&quot;#cb31-9&quot;&gt;&lt;/a&gt;   &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;kw&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;bu&quot;&gt;Exception&lt;/span&gt; {&lt;/span&gt;
569 &lt;span id=&quot;cb31-10&quot;&gt;&lt;a href=&quot;#cb31-10&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;
570 &lt;span id=&quot;cb31-11&quot;&gt;&lt;a href=&quot;#cb31-11&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// char** errMsgPtrPtr;&lt;/span&gt;&lt;/span&gt;
571 &lt;span id=&quot;cb31-12&quot;&gt;&lt;a href=&quot;#cb31-12&quot;&gt;&lt;/a&gt;            var errMsgPtrPtr = Cpointer.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(NULL, scope);&lt;/span&gt;
572 &lt;span id=&quot;cb31-13&quot;&gt;&lt;a href=&quot;#cb31-13&quot;&gt;&lt;/a&gt;&lt;/span&gt;
573 &lt;span id=&quot;cb31-14&quot;&gt;&lt;a href=&quot;#cb31-14&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// sqlite3** dbPtrPtr;&lt;/span&gt;&lt;/span&gt;
574 &lt;span id=&quot;cb31-15&quot;&gt;&lt;a href=&quot;#cb31-15&quot;&gt;&lt;/a&gt;            var dbPtrPtr = Cpointer.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(NULL, scope);&lt;/span&gt;
575 &lt;span id=&quot;cb31-16&quot;&gt;&lt;a href=&quot;#cb31-16&quot;&gt;&lt;/a&gt;&lt;/span&gt;
576 &lt;span id=&quot;cb31-17&quot;&gt;&lt;a href=&quot;#cb31-17&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_open&lt;/span&gt;(Cstring.&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;employee.db&amp;quot;&lt;/span&gt;,scope), dbPtrPtr);&lt;/span&gt;
577 &lt;span id=&quot;cb31-18&quot;&gt;&lt;a href=&quot;#cb31-18&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;
</pre>
</td>
<td>
<hr />
<pre>
183 &lt;span id=&quot;cb3-2&quot;&gt;&lt;a href=&quot;#cb3-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;fu&quot;&gt;cc&lt;/span&gt; -shared -o libhelloworld.dylib helloworld.c&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
184 &lt;h3 id=&quot;jextract-a-jar-file-for-helloworld.h&quot;&gt;jextract a Jar file for helloworld.h&lt;/h3&gt;
185 &lt;div class=&quot;sourceCode&quot; id=&quot;cb4&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb4-1&quot;&gt;&lt;a href=&quot;#cb4-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
186 &lt;span id=&quot;cb4-2&quot;&gt;&lt;a href=&quot;#cb4-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -t org.hello -lhelloworld helloworld.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
187 &lt;h3 id=&quot;java-program-that-uses-extracted-helloworld-interface&quot;&gt;Java program that uses extracted helloworld interface&lt;/h3&gt;
188 &lt;div class=&quot;sourceCode&quot; id=&quot;cb5&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb5-1&quot;&gt;&lt;a href=&quot;#cb5-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
189 &lt;span id=&quot;cb5-2&quot;&gt;&lt;a href=&quot;#cb5-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.hello.helloworld_h.*;&lt;/span&gt;&lt;/span&gt;
190 &lt;span id=&quot;cb5-3&quot;&gt;&lt;a href=&quot;#cb5-3&quot;&gt;&lt;/a&gt;&lt;/span&gt;
191 &lt;span id=&quot;cb5-4&quot;&gt;&lt;a href=&quot;#cb5-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; HelloWorld {&lt;/span&gt;
192 &lt;span id=&quot;cb5-5&quot;&gt;&lt;a href=&quot;#cb5-5&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
193 &lt;span id=&quot;cb5-6&quot;&gt;&lt;a href=&quot;#cb5-6&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;helloworld&lt;/span&gt;();&lt;/span&gt;
194 &lt;span id=&quot;cb5-7&quot;&gt;&lt;a href=&quot;#cb5-7&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
195 &lt;span id=&quot;cb5-8&quot;&gt;&lt;a href=&quot;#cb5-8&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
196 &lt;h3 id=&quot;running-the-java-code-that-invokes-helloworld&quot;&gt;Running the Java code that invokes helloworld&lt;/h3&gt;
197 &lt;div class=&quot;sourceCode&quot; id=&quot;cb6&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb6-1&quot;&gt;&lt;a href=&quot;#cb6-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
198 &lt;span id=&quot;cb6-2&quot;&gt;&lt;a href=&quot;#cb6-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign HelloWorld.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
199 &lt;h2 id=&quot;embedding-python-interpreter-in-your-java-program-mac-os&quot;&gt;Embedding Python interpreter in your Java program (Mac OS)&lt;/h2&gt;
200 &lt;h3 id=&quot;jextract-python.h&quot;&gt;jextract Python.h&lt;/h3&gt;
201 &lt;div class=&quot;sourceCode&quot; id=&quot;cb7&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb7-1&quot;&gt;&lt;a href=&quot;#cb7-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
202 &lt;span id=&quot;cb7-2&quot;&gt;&lt;a href=&quot;#cb7-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -l python2.7 \&lt;/span&gt;
<span class="line-modified">203 &lt;span id=&quot;cb7-3&quot;&gt;&lt;a href=&quot;#cb7-3&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;</span>
<span class="line-modified">204 &lt;span id=&quot;cb7-4&quot;&gt;&lt;a href=&quot;#cb7-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/python2.7/ \&lt;/span&gt;</span>
205 &lt;span id=&quot;cb7-5&quot;&gt;&lt;a href=&quot;#cb7-5&quot;&gt;&lt;/a&gt;  -t org.python \&lt;/span&gt;
<span class="line-modified">206 &lt;span id=&quot;cb7-6&quot;&gt;&lt;a href=&quot;#cb7-6&quot;&gt;&lt;/a&gt;   /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/python2.7/Python.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
207 &lt;h3 id=&quot;java-program-that-uses-extracted-python-interface&quot;&gt;Java program that uses extracted Python interface&lt;/h3&gt;
208 &lt;div class=&quot;sourceCode&quot; id=&quot;cb8&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb8-1&quot;&gt;&lt;a href=&quot;#cb8-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
209 &lt;span id=&quot;cb8-2&quot;&gt;&lt;a href=&quot;#cb8-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.python.Cstring;&lt;/span&gt;&lt;/span&gt;
210 &lt;span id=&quot;cb8-3&quot;&gt;&lt;a href=&quot;#cb8-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;
211 &lt;span id=&quot;cb8-4&quot;&gt;&lt;a href=&quot;#cb8-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;// import jextracted python &amp;#39;header&amp;#39; class&lt;/span&gt;&lt;/span&gt;
212 &lt;span id=&quot;cb8-5&quot;&gt;&lt;a href=&quot;#cb8-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.python.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;
213 &lt;span id=&quot;cb8-6&quot;&gt;&lt;a href=&quot;#cb8-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.python.Python_h.*;&lt;/span&gt;&lt;/span&gt;
214 &lt;span id=&quot;cb8-7&quot;&gt;&lt;a href=&quot;#cb8-7&quot;&gt;&lt;/a&gt;&lt;/span&gt;
215 &lt;span id=&quot;cb8-8&quot;&gt;&lt;a href=&quot;#cb8-8&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; PythonMain {&lt;/span&gt;
216 &lt;span id=&quot;cb8-9&quot;&gt;&lt;a href=&quot;#cb8-9&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
217 &lt;span id=&quot;cb8-10&quot;&gt;&lt;a href=&quot;#cb8-10&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; script = &lt;span class=&quot;st&quot;&gt;&amp;quot;print(sum([33, 55, 66])); print(&amp;#39;Hello from Python!&amp;#39;)&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;;&lt;/span&gt;
218 &lt;span id=&quot;cb8-11&quot;&gt;&lt;a href=&quot;#cb8-11&quot;&gt;&lt;/a&gt;&lt;/span&gt;
219 &lt;span id=&quot;cb8-12&quot;&gt;&lt;a href=&quot;#cb8-12&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;fu&quot;&gt;Py_Initialize&lt;/span&gt;();&lt;/span&gt;
220 &lt;span id=&quot;cb8-13&quot;&gt;&lt;a href=&quot;#cb8-13&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var s = Cstring.&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(script)) {&lt;/span&gt;
221 &lt;span id=&quot;cb8-14&quot;&gt;&lt;a href=&quot;#cb8-14&quot;&gt;&lt;/a&gt;            var str = s.&lt;span class=&quot;fu&quot;&gt;baseAddress&lt;/span&gt;();&lt;/span&gt;
222 &lt;span id=&quot;cb8-15&quot;&gt;&lt;a href=&quot;#cb8-15&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;PyRun_SimpleStringFlags&lt;/span&gt;(str, NULL);&lt;/span&gt;
223 &lt;span id=&quot;cb8-16&quot;&gt;&lt;a href=&quot;#cb8-16&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;Py_Finalize&lt;/span&gt;();&lt;/span&gt;
224 &lt;span id=&quot;cb8-17&quot;&gt;&lt;a href=&quot;#cb8-17&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
225 &lt;span id=&quot;cb8-18&quot;&gt;&lt;a href=&quot;#cb8-18&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
226 &lt;span id=&quot;cb8-19&quot;&gt;&lt;a href=&quot;#cb8-19&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
227 &lt;h3 id=&quot;running-the-java-code-that-calls-python-interpreter&quot;&gt;Running the Java code that calls Python interpreter&lt;/h3&gt;
228 &lt;div class=&quot;sourceCode&quot; id=&quot;cb9&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb9-1&quot;&gt;&lt;a href=&quot;#cb9-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
229 &lt;span id=&quot;cb9-2&quot;&gt;&lt;a href=&quot;#cb9-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;
230 &lt;span id=&quot;cb9-3&quot;&gt;&lt;a href=&quot;#cb9-3&quot;&gt;&lt;/a&gt;    -Djava.library.path=/System/Library/Frameworks/Python.framework/Versions/2.7/lib \&lt;/span&gt;
231 &lt;span id=&quot;cb9-4&quot;&gt;&lt;a href=&quot;#cb9-4&quot;&gt;&lt;/a&gt;    PythonMain.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
232 &lt;h2 id=&quot;using-readline-library-from-java-code-mac-os&quot;&gt;Using readline library from Java code (Mac OS)&lt;/h2&gt;
233 &lt;h3 id=&quot;jextract-readline.h&quot;&gt;jextract readline.h&lt;/h3&gt;
234 &lt;div class=&quot;sourceCode&quot; id=&quot;cb10&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb10-1&quot;&gt;&lt;a href=&quot;#cb10-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
235 &lt;span id=&quot;cb10-2&quot;&gt;&lt;a href=&quot;#cb10-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -l readline -t org.unix \&lt;/span&gt;
<span class="line-modified">236 &lt;span id=&quot;cb10-3&quot;&gt;&lt;a href=&quot;#cb10-3&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;</span>
<span class="line-modified">237 &lt;span id=&quot;cb10-4&quot;&gt;&lt;a href=&quot;#cb10-4&quot;&gt;&lt;/a&gt;   /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/readline/readline.h&lt;/span&gt;</span>
<span class="line-added">238 &lt;span id=&quot;cb10-5&quot;&gt;&lt;a href=&quot;#cb10-5&quot;&gt;&lt;/a&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
239 &lt;h3 id=&quot;java-code-that-uses-readline&quot;&gt;Java code that uses readline&lt;/h3&gt;
240 &lt;div class=&quot;sourceCode&quot; id=&quot;cb11&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb11-1&quot;&gt;&lt;a href=&quot;#cb11-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
241 &lt;span id=&quot;cb11-2&quot;&gt;&lt;a href=&quot;#cb11-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.Cstring;&lt;/span&gt;&lt;/span&gt;
242 &lt;span id=&quot;cb11-3&quot;&gt;&lt;a href=&quot;#cb11-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;
243 &lt;span id=&quot;cb11-4&quot;&gt;&lt;a href=&quot;#cb11-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.readline_h.*;&lt;/span&gt;&lt;/span&gt;
244 &lt;span id=&quot;cb11-5&quot;&gt;&lt;a href=&quot;#cb11-5&quot;&gt;&lt;/a&gt;&lt;/span&gt;
245 &lt;span id=&quot;cb11-6&quot;&gt;&lt;a href=&quot;#cb11-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; Readline {&lt;/span&gt;
246 &lt;span id=&quot;cb11-7&quot;&gt;&lt;a href=&quot;#cb11-7&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
247 &lt;span id=&quot;cb11-8&quot;&gt;&lt;a href=&quot;#cb11-8&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var s = Cstring.&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;name? &amp;quot;&lt;/span&gt;)) {&lt;/span&gt;
248 &lt;span id=&quot;cb11-9&quot;&gt;&lt;a href=&quot;#cb11-9&quot;&gt;&lt;/a&gt;            var pstr = s.&lt;span class=&quot;fu&quot;&gt;baseAddress&lt;/span&gt;();&lt;/span&gt;
249 &lt;span id=&quot;cb11-10&quot;&gt;&lt;a href=&quot;#cb11-10&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// call &amp;quot;readline&amp;quot; API&lt;/span&gt;&lt;/span&gt;
250 &lt;span id=&quot;cb11-11&quot;&gt;&lt;a href=&quot;#cb11-11&quot;&gt;&lt;/a&gt;            var p = &lt;span class=&quot;fu&quot;&gt;readline&lt;/span&gt;(pstr);&lt;/span&gt;
251 &lt;span id=&quot;cb11-12&quot;&gt;&lt;a href=&quot;#cb11-12&quot;&gt;&lt;/a&gt;&lt;/span&gt;
252 &lt;span id=&quot;cb11-13&quot;&gt;&lt;a href=&quot;#cb11-13&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// print char* as is&lt;/span&gt;&lt;/span&gt;
253 &lt;span id=&quot;cb11-14&quot;&gt;&lt;a href=&quot;#cb11-14&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(p);&lt;/span&gt;
254 &lt;span id=&quot;cb11-15&quot;&gt;&lt;a href=&quot;#cb11-15&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// convert char* ptr from readline as Java String &amp;amp; print it&lt;/span&gt;&lt;/span&gt;
255 &lt;span id=&quot;cb11-16&quot;&gt;&lt;a href=&quot;#cb11-16&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello, &amp;quot;&lt;/span&gt; + Cstring.&lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(p));&lt;/span&gt;
256 &lt;span id=&quot;cb11-17&quot;&gt;&lt;a href=&quot;#cb11-17&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
257 &lt;span id=&quot;cb11-18&quot;&gt;&lt;a href=&quot;#cb11-18&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
258 &lt;span id=&quot;cb11-19&quot;&gt;&lt;a href=&quot;#cb11-19&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
259 &lt;h3 id=&quot;running-the-java-code-that-uses-readline&quot;&gt;Running the java code that uses readline&lt;/h3&gt;
260 &lt;pre&gt;&lt;code&gt;java -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \
261     -Djava.library.path=/usr/local/opt/readline/lib/ Readline.java
262 &lt;/code&gt;&lt;/pre&gt;
263 &lt;h2 id=&quot;using-libcurl-from-java-mac-os&quot;&gt;Using libcurl from Java (Mac OS)&lt;/h2&gt;
264 &lt;h3 id=&quot;jextract-curl.h&quot;&gt;jextract curl.h&lt;/h3&gt;
265 &lt;div class=&quot;sourceCode&quot; id=&quot;cb13&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb13-1&quot;&gt;&lt;a href=&quot;#cb13-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
266 &lt;span id=&quot;cb13-2&quot;&gt;&lt;a href=&quot;#cb13-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -t org.unix -lcurl \&lt;/span&gt;
<span class="line-modified">267 &lt;span id=&quot;cb13-3&quot;&gt;&lt;a href=&quot;#cb13-3&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/ \&lt;/span&gt;</span>
<span class="line-modified">268 &lt;span id=&quot;cb13-4&quot;&gt;&lt;a href=&quot;#cb13-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/curl/ \&lt;/span&gt;</span>
<span class="line-modified">269 &lt;span id=&quot;cb13-5&quot;&gt;&lt;a href=&quot;#cb13-5&quot;&gt;&lt;/a&gt;  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/curl/curl.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
270 &lt;h3 id=&quot;java-code-that-uses-libcurl&quot;&gt;Java code that uses libcurl&lt;/h3&gt;
271 &lt;div class=&quot;sourceCode&quot; id=&quot;cb14&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb14-1&quot;&gt;&lt;a href=&quot;#cb14-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
272 &lt;span id=&quot;cb14-2&quot;&gt;&lt;a href=&quot;#cb14-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.Cstring;&lt;/span&gt;&lt;/span&gt;
273 &lt;span id=&quot;cb14-3&quot;&gt;&lt;a href=&quot;#cb14-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;
274 &lt;span id=&quot;cb14-4&quot;&gt;&lt;a href=&quot;#cb14-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;
275 &lt;span id=&quot;cb14-5&quot;&gt;&lt;a href=&quot;#cb14-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.curl_h.*;&lt;/span&gt;&lt;/span&gt;
276 &lt;span id=&quot;cb14-6&quot;&gt;&lt;a href=&quot;#cb14-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;
277 &lt;span id=&quot;cb14-7&quot;&gt;&lt;a href=&quot;#cb14-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; CurlMain {&lt;/span&gt;
278 &lt;span id=&quot;cb14-8&quot;&gt;&lt;a href=&quot;#cb14-8&quot;&gt;&lt;/a&gt;   &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
279 &lt;span id=&quot;cb14-9&quot;&gt;&lt;a href=&quot;#cb14-9&quot;&gt;&lt;/a&gt;       var urlStr = args[&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;];&lt;/span&gt;
280 &lt;span id=&quot;cb14-10&quot;&gt;&lt;a href=&quot;#cb14-10&quot;&gt;&lt;/a&gt;       &lt;span class=&quot;fu&quot;&gt;curl_global_init&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;CURL_GLOBAL_DEFAULT&lt;/span&gt;());&lt;/span&gt;
281 &lt;span id=&quot;cb14-11&quot;&gt;&lt;a href=&quot;#cb14-11&quot;&gt;&lt;/a&gt;       var curl = &lt;span class=&quot;fu&quot;&gt;curl_easy_init&lt;/span&gt;();&lt;/span&gt;
282 &lt;span id=&quot;cb14-12&quot;&gt;&lt;a href=&quot;#cb14-12&quot;&gt;&lt;/a&gt;       &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt;(!curl.&lt;span class=&quot;fu&quot;&gt;equals&lt;/span&gt;(NULL)) {&lt;/span&gt;
283 &lt;span id=&quot;cb14-13&quot;&gt;&lt;a href=&quot;#cb14-13&quot;&gt;&lt;/a&gt;           &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var s = Cstring.&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(urlStr)) {&lt;/span&gt;
284 &lt;span id=&quot;cb14-14&quot;&gt;&lt;a href=&quot;#cb14-14&quot;&gt;&lt;/a&gt;               var url = s.&lt;span class=&quot;fu&quot;&gt;baseAddress&lt;/span&gt;();&lt;/span&gt;
285 &lt;span id=&quot;cb14-15&quot;&gt;&lt;a href=&quot;#cb14-15&quot;&gt;&lt;/a&gt;               &lt;span class=&quot;fu&quot;&gt;curl_easy_setopt&lt;/span&gt;(curl, &lt;span class=&quot;fu&quot;&gt;CURLOPT_URL&lt;/span&gt;(), url);&lt;/span&gt;
286 &lt;span id=&quot;cb14-16&quot;&gt;&lt;a href=&quot;#cb14-16&quot;&gt;&lt;/a&gt;               &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; res = &lt;span class=&quot;fu&quot;&gt;curl_easy_perform&lt;/span&gt;(curl);&lt;/span&gt;
287 &lt;span id=&quot;cb14-17&quot;&gt;&lt;a href=&quot;#cb14-17&quot;&gt;&lt;/a&gt;               &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (res != &lt;span class=&quot;fu&quot;&gt;CURLE_OK&lt;/span&gt;()) {&lt;/span&gt;
288 &lt;span id=&quot;cb14-18&quot;&gt;&lt;a href=&quot;#cb14-18&quot;&gt;&lt;/a&gt;                   &lt;span class=&quot;fu&quot;&gt;curl_easy_cleanup&lt;/span&gt;(curl);&lt;/span&gt;
289 &lt;span id=&quot;cb14-19&quot;&gt;&lt;a href=&quot;#cb14-19&quot;&gt;&lt;/a&gt;               }&lt;/span&gt;
</pre>
<hr />
<pre>
293 &lt;span id=&quot;cb14-23&quot;&gt;&lt;a href=&quot;#cb14-23&quot;&gt;&lt;/a&gt;   }&lt;/span&gt;
294 &lt;span id=&quot;cb14-24&quot;&gt;&lt;a href=&quot;#cb14-24&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
295 &lt;h3 id=&quot;running-the-java-code-that-uses-libcurl&quot;&gt;Running the java code that uses libcurl&lt;/h3&gt;
296 &lt;div class=&quot;sourceCode&quot; id=&quot;cb15&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb15-1&quot;&gt;&lt;a href=&quot;#cb15-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
297 &lt;span id=&quot;cb15-2&quot;&gt;&lt;a href=&quot;#cb15-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;# run this shell script by passing a URL as first argument&lt;/span&gt;&lt;/span&gt;
298 &lt;span id=&quot;cb15-3&quot;&gt;&lt;a href=&quot;#cb15-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;
299 &lt;span id=&quot;cb15-4&quot;&gt;&lt;a href=&quot;#cb15-4&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/lib CurlMain.java &lt;span class=&quot;va&quot;&gt;$*&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
300 &lt;h2 id=&quot;using-blas-library&quot;&gt;Using BLAS library&lt;/h2&gt;
301 &lt;p&gt;BLAS is a popular library that allows fast matrix and vector computation: &lt;a href=&quot;http://www.netlib.org/blas/&quot;&gt;http://www.netlib.org/blas/&lt;/a&gt;.&lt;/p&gt;
302 &lt;h3 id=&quot;installing-openblas-mac-os&quot;&gt;Installing OpenBLAS (Mac OS)&lt;/h3&gt;
303 &lt;p&gt;On Mac, blas is available as part of the OpenBLAS library: &lt;a href=&quot;https://github.com/xianyi/OpenBLAS/wiki&quot;&gt;https://github.com/xianyi/OpenBLAS/wiki&lt;/a&gt;&lt;/p&gt;
304 &lt;p&gt;OpenBLAS is an optimized BLAS library based on GotoBLAS2 1.13 BSD version.&lt;/p&gt;
305 &lt;p&gt;You can install openblas using HomeBrew&lt;/p&gt;
306 &lt;div class=&quot;sourceCode&quot; id=&quot;cb16&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb16-1&quot;&gt;&lt;a href=&quot;#cb16-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
307 &lt;span id=&quot;cb16-2&quot;&gt;&lt;a href=&quot;#cb16-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;brew&lt;/span&gt; install openblas&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
308 &lt;p&gt;It installs include and lib directories under /usr/local/opt/openblas&lt;/p&gt;
309 &lt;h3 id=&quot;jextracting-cblas.h-macos&quot;&gt;jextracting cblas.h (MacOS)&lt;/h3&gt;
310 &lt;p&gt;The following command can be used to extract cblas.h on MacOs&lt;/p&gt;
311 &lt;div class=&quot;sourceCode&quot; id=&quot;cb17&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb17-1&quot;&gt;&lt;a href=&quot;#cb17-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
312 &lt;span id=&quot;cb17-2&quot;&gt;&lt;a href=&quot;#cb17-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -C &lt;span class=&quot;st&quot;&gt;&amp;quot;-D FORCE_OPENBLAS_COMPLEX_STRUCT&amp;quot;&lt;/span&gt; \&lt;/span&gt;
<span class="line-modified">313 &lt;span id=&quot;cb17-3&quot;&gt;&lt;a href=&quot;#cb17-3&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;</span>
314 &lt;span id=&quot;cb17-4&quot;&gt;&lt;a href=&quot;#cb17-4&quot;&gt;&lt;/a&gt;  -l openblas -t blas /usr/local/opt/openblas/include/cblas.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
315 &lt;h3 id=&quot;java-sample-code-that-uses-cblas-library&quot;&gt;Java sample code that uses cblas library&lt;/h3&gt;
316 &lt;div class=&quot;sourceCode&quot; id=&quot;cb18&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb18-1&quot;&gt;&lt;a href=&quot;#cb18-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
317 &lt;span id=&quot;cb18-2&quot;&gt;&lt;a href=&quot;#cb18-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;
318 &lt;span id=&quot;cb18-3&quot;&gt;&lt;a href=&quot;#cb18-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; blas.*;&lt;/span&gt;&lt;/span&gt;
319 &lt;span id=&quot;cb18-4&quot;&gt;&lt;a href=&quot;#cb18-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; blas.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;
320 &lt;span id=&quot;cb18-5&quot;&gt;&lt;a href=&quot;#cb18-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; blas.cblas_h.*;&lt;/span&gt;&lt;/span&gt;
321 &lt;span id=&quot;cb18-6&quot;&gt;&lt;a href=&quot;#cb18-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;
322 &lt;span id=&quot;cb18-7&quot;&gt;&lt;a href=&quot;#cb18-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; TestBlas {&lt;/span&gt;
323 &lt;span id=&quot;cb18-8&quot;&gt;&lt;a href=&quot;#cb18-8&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
324 &lt;span id=&quot;cb18-9&quot;&gt;&lt;a href=&quot;#cb18-9&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; Layout;&lt;/span&gt;
325 &lt;span id=&quot;cb18-10&quot;&gt;&lt;a href=&quot;#cb18-10&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; transa;&lt;/span&gt;
326 &lt;span id=&quot;cb18-11&quot;&gt;&lt;a href=&quot;#cb18-11&quot;&gt;&lt;/a&gt;&lt;/span&gt;
327 &lt;span id=&quot;cb18-12&quot;&gt;&lt;a href=&quot;#cb18-12&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt; alpha, beta;&lt;/span&gt;
328 &lt;span id=&quot;cb18-13&quot;&gt;&lt;a href=&quot;#cb18-13&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; m, n, lda, incx, incy, i;&lt;/span&gt;
329 &lt;span id=&quot;cb18-14&quot;&gt;&lt;a href=&quot;#cb18-14&quot;&gt;&lt;/a&gt;&lt;/span&gt;
330 &lt;span id=&quot;cb18-15&quot;&gt;&lt;a href=&quot;#cb18-15&quot;&gt;&lt;/a&gt;        Layout = &lt;span class=&quot;fu&quot;&gt;CblasColMajor&lt;/span&gt;();&lt;/span&gt;
331 &lt;span id=&quot;cb18-16&quot;&gt;&lt;a href=&quot;#cb18-16&quot;&gt;&lt;/a&gt;        transa = &lt;span class=&quot;fu&quot;&gt;CblasNoTrans&lt;/span&gt;();&lt;/span&gt;
332 &lt;span id=&quot;cb18-17&quot;&gt;&lt;a href=&quot;#cb18-17&quot;&gt;&lt;/a&gt;&lt;/span&gt;
333 &lt;span id=&quot;cb18-18&quot;&gt;&lt;a href=&quot;#cb18-18&quot;&gt;&lt;/a&gt;        m = &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;; &lt;span class=&quot;co&quot;&gt;/* Size of Column ( the number of rows ) */&lt;/span&gt;&lt;/span&gt;
</pre>
<hr />
<pre>
374 &lt;span id=&quot;cb18-59&quot;&gt;&lt;a href=&quot;#cb18-59&quot;&gt;&lt;/a&gt;            Cdouble.&lt;span class=&quot;fu&quot;&gt;set&lt;/span&gt;(y, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;
375 &lt;span id=&quot;cb18-60&quot;&gt;&lt;a href=&quot;#cb18-60&quot;&gt;&lt;/a&gt;&lt;/span&gt;
376 &lt;span id=&quot;cb18-61&quot;&gt;&lt;a href=&quot;#cb18-61&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;cblas_dgemv&lt;/span&gt;(Layout, transa, m, n, alpha, a, lda, x, incx, beta, y, incy);&lt;/span&gt;
377 &lt;span id=&quot;cb18-62&quot;&gt;&lt;a href=&quot;#cb18-62&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Print y */&lt;/span&gt;&lt;/span&gt;
378 &lt;span id=&quot;cb18-63&quot;&gt;&lt;a href=&quot;#cb18-63&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt; (i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; n; i++) {&lt;/span&gt;
379 &lt;span id=&quot;cb18-64&quot;&gt;&lt;a href=&quot;#cb18-64&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;.format&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot; y&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%d&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%f\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, i, Cdouble.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(y, (&lt;span class=&quot;dt&quot;&gt;long&lt;/span&gt;)i)));&lt;/span&gt;
380 &lt;span id=&quot;cb18-65&quot;&gt;&lt;a href=&quot;#cb18-65&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;
381 &lt;span id=&quot;cb18-66&quot;&gt;&lt;a href=&quot;#cb18-66&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
382 &lt;span id=&quot;cb18-67&quot;&gt;&lt;a href=&quot;#cb18-67&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
383 &lt;span id=&quot;cb18-68&quot;&gt;&lt;a href=&quot;#cb18-68&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
384 &lt;h3 id=&quot;compiling-and-running-the-above-blas-sample&quot;&gt;Compiling and running the above BLAS sample&lt;/h3&gt;
385 &lt;div class=&quot;sourceCode&quot; id=&quot;cb19&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb19-1&quot;&gt;&lt;a href=&quot;#cb19-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
386 &lt;span id=&quot;cb19-2&quot;&gt;&lt;a href=&quot;#cb19-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;
387 &lt;span id=&quot;cb19-3&quot;&gt;&lt;a href=&quot;#cb19-3&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/local/opt/openblas/lib \&lt;/span&gt;
388 &lt;span id=&quot;cb19-4&quot;&gt;&lt;a href=&quot;#cb19-4&quot;&gt;&lt;/a&gt;    TestBlas.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
389 &lt;h2 id=&quot;using-lapack-library-mac-os&quot;&gt;Using LAPACK library (Mac OS)&lt;/h2&gt;
390 &lt;p&gt;On Mac OS, lapack is installed under /usr/local/opt/lapack directory.&lt;/p&gt;
391 &lt;h3 id=&quot;jextracting-lapacke.h&quot;&gt;jextracting lapacke.h&lt;/h3&gt;
392 &lt;div class=&quot;sourceCode&quot; id=&quot;cb20&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb20-1&quot;&gt;&lt;a href=&quot;#cb20-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
393 &lt;span id=&quot;cb20-2&quot;&gt;&lt;a href=&quot;#cb20-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
<span class="line-modified">394 &lt;span id=&quot;cb20-3&quot;&gt;&lt;a href=&quot;#cb20-3&quot;&gt;&lt;/a&gt;   -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;</span>
395 &lt;span id=&quot;cb20-4&quot;&gt;&lt;a href=&quot;#cb20-4&quot;&gt;&lt;/a&gt;   -l lapacke -t lapack \&lt;/span&gt;
396 &lt;span id=&quot;cb20-5&quot;&gt;&lt;a href=&quot;#cb20-5&quot;&gt;&lt;/a&gt;   --filter lapacke.h \&lt;/span&gt;
397 &lt;span id=&quot;cb20-6&quot;&gt;&lt;a href=&quot;#cb20-6&quot;&gt;&lt;/a&gt;   /usr/local/opt/lapack/include/lapacke.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
398 &lt;h3 id=&quot;java-sample-code-that-uses-lapack-library&quot;&gt;Java sample code that uses LAPACK library&lt;/h3&gt;
399 &lt;div class=&quot;sourceCode&quot; id=&quot;cb21&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb21-1&quot;&gt;&lt;a href=&quot;#cb21-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
400 &lt;span id=&quot;cb21-2&quot;&gt;&lt;a href=&quot;#cb21-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress;&lt;/span&gt;&lt;/span&gt;
401 &lt;span id=&quot;cb21-3&quot;&gt;&lt;a href=&quot;#cb21-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;
402 &lt;span id=&quot;cb21-4&quot;&gt;&lt;a href=&quot;#cb21-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; lapack.*;&lt;/span&gt;&lt;/span&gt;
403 &lt;span id=&quot;cb21-5&quot;&gt;&lt;a href=&quot;#cb21-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; lapack.lapacke_h.*;&lt;/span&gt;&lt;/span&gt;
404 &lt;span id=&quot;cb21-6&quot;&gt;&lt;a href=&quot;#cb21-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;
405 &lt;span id=&quot;cb21-7&quot;&gt;&lt;a href=&quot;#cb21-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; TestLapack {&lt;/span&gt;
406 &lt;span id=&quot;cb21-8&quot;&gt;&lt;a href=&quot;#cb21-8&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
407 &lt;span id=&quot;cb21-9&quot;&gt;&lt;a href=&quot;#cb21-9&quot;&gt;&lt;/a&gt;&lt;/span&gt;
408 &lt;span id=&quot;cb21-10&quot;&gt;&lt;a href=&quot;#cb21-10&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;co&quot;&gt;/* Locals */&lt;/span&gt;&lt;/span&gt;
409 &lt;span id=&quot;cb21-11&quot;&gt;&lt;a href=&quot;#cb21-11&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;
410 &lt;span id=&quot;cb21-12&quot;&gt;&lt;a href=&quot;#cb21-12&quot;&gt;&lt;/a&gt;            var A = Cdouble.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt;[]{&lt;/span&gt;
411 &lt;span id=&quot;cb21-13&quot;&gt;&lt;a href=&quot;#cb21-13&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;&lt;/span&gt;
412 &lt;span id=&quot;cb21-14&quot;&gt;&lt;a href=&quot;#cb21-14&quot;&gt;&lt;/a&gt;            }, scope);&lt;/span&gt;
413 &lt;span id=&quot;cb21-15&quot;&gt;&lt;a href=&quot;#cb21-15&quot;&gt;&lt;/a&gt;            var b = Cdouble.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt;[]{&lt;/span&gt;
414 &lt;span id=&quot;cb21-16&quot;&gt;&lt;a href=&quot;#cb21-16&quot;&gt;&lt;/a&gt;                    -&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;12&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;14&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;18&lt;/span&gt;, -&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;14&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;12&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;&lt;/span&gt;
</pre>
<hr />
<pre>
443 &lt;span id=&quot;cb21-45&quot;&gt;&lt;a href=&quot;#cb21-45&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; msg, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; m, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; n, MemoryAddress mat, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; ldm) {&lt;/span&gt;
444 &lt;span id=&quot;cb21-46&quot;&gt;&lt;a href=&quot;#cb21-46&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; i, j;&lt;/span&gt;
445 &lt;span id=&quot;cb21-47&quot;&gt;&lt;a href=&quot;#cb21-47&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, msg);&lt;/span&gt;
446 &lt;span id=&quot;cb21-48&quot;&gt;&lt;a href=&quot;#cb21-48&quot;&gt;&lt;/a&gt;&lt;/span&gt;
447 &lt;span id=&quot;cb21-49&quot;&gt;&lt;a href=&quot;#cb21-49&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt;( i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; m; i++ ) {&lt;/span&gt;
448 &lt;span id=&quot;cb21-50&quot;&gt;&lt;a href=&quot;#cb21-50&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt;( j = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; j &amp;lt; n; j++ ) &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot; &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%6.2f&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, Cdouble.&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(mat, i+j*ldm));&lt;/span&gt;
449 &lt;span id=&quot;cb21-51&quot;&gt;&lt;a href=&quot;#cb21-51&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;( &lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt; );&lt;/span&gt;
450 &lt;span id=&quot;cb21-52&quot;&gt;&lt;a href=&quot;#cb21-52&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
451 &lt;span id=&quot;cb21-53&quot;&gt;&lt;a href=&quot;#cb21-53&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
452 &lt;span id=&quot;cb21-54&quot;&gt;&lt;a href=&quot;#cb21-54&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
453 &lt;h3 id=&quot;compiling-and-running-the-above-lapack-sample&quot;&gt;Compiling and running the above LAPACK sample&lt;/h3&gt;
454 &lt;div class=&quot;sourceCode&quot; id=&quot;cb22&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb22-1&quot;&gt;&lt;a href=&quot;#cb22-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
455 &lt;span id=&quot;cb22-2&quot;&gt;&lt;a href=&quot;#cb22-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit \&lt;/span&gt;
456 &lt;span id=&quot;cb22-3&quot;&gt;&lt;a href=&quot;#cb22-3&quot;&gt;&lt;/a&gt;    --add-modules jdk.incubator.foreign \&lt;/span&gt;
457 &lt;span id=&quot;cb22-4&quot;&gt;&lt;a href=&quot;#cb22-4&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/local/opt/lapack/lib \&lt;/span&gt;
458 &lt;span id=&quot;cb22-5&quot;&gt;&lt;a href=&quot;#cb22-5&quot;&gt;&lt;/a&gt;    TestLapack.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
459 &lt;h2 id=&quot;using-libproc-library-to-list-processes-from-java-mac-os&quot;&gt;Using libproc library to list processes from Java (Mac OS)&lt;/h2&gt;
460 &lt;h3 id=&quot;jextract-libproc.h&quot;&gt;jextract libproc.h&lt;/h3&gt;
461 &lt;div class=&quot;sourceCode&quot; id=&quot;cb23&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb23-1&quot;&gt;&lt;a href=&quot;#cb23-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
462 &lt;span id=&quot;cb23-2&quot;&gt;&lt;a href=&quot;#cb23-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -t org.unix \&lt;/span&gt;
<span class="line-modified">463 &lt;span id=&quot;cb23-3&quot;&gt;&lt;a href=&quot;#cb23-3&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;</span>
464 &lt;span id=&quot;cb23-4&quot;&gt;&lt;a href=&quot;#cb23-4&quot;&gt;&lt;/a&gt;  --filter libproc.h \&lt;/span&gt;
<span class="line-modified">465 &lt;span id=&quot;cb23-5&quot;&gt;&lt;a href=&quot;#cb23-5&quot;&gt;&lt;/a&gt;  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/libproc.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
466 &lt;h3 id=&quot;java-program-that-uses-libproc-to-list-processes&quot;&gt;Java program that uses libproc to list processes&lt;/h3&gt;
467 &lt;div class=&quot;sourceCode&quot; id=&quot;cb24&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb24-1&quot;&gt;&lt;a href=&quot;#cb24-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
468 &lt;span id=&quot;cb24-2&quot;&gt;&lt;a href=&quot;#cb24-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;
469 &lt;span id=&quot;cb24-3&quot;&gt;&lt;a href=&quot;#cb24-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.*;&lt;/span&gt;&lt;/span&gt;
470 &lt;span id=&quot;cb24-4&quot;&gt;&lt;a href=&quot;#cb24-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;
471 &lt;span id=&quot;cb24-5&quot;&gt;&lt;a href=&quot;#cb24-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.unix.libproc_h.*;&lt;/span&gt;&lt;/span&gt;
472 &lt;span id=&quot;cb24-6&quot;&gt;&lt;a href=&quot;#cb24-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;
473 &lt;span id=&quot;cb24-7&quot;&gt;&lt;a href=&quot;#cb24-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; LibprocMain {&lt;/span&gt;
474 &lt;span id=&quot;cb24-8&quot;&gt;&lt;a href=&quot;#cb24-8&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; NAME_BUF_MAX = &lt;span class=&quot;dv&quot;&gt;256&lt;/span&gt;;&lt;/span&gt;
475 &lt;span id=&quot;cb24-9&quot;&gt;&lt;a href=&quot;#cb24-9&quot;&gt;&lt;/a&gt;&lt;/span&gt;
476 &lt;span id=&quot;cb24-10&quot;&gt;&lt;a href=&quot;#cb24-10&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;
477 &lt;span id=&quot;cb24-11&quot;&gt;&lt;a href=&quot;#cb24-11&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;
478 &lt;span id=&quot;cb24-12&quot;&gt;&lt;a href=&quot;#cb24-12&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// get the number of processes&lt;/span&gt;&lt;/span&gt;
479 &lt;span id=&quot;cb24-13&quot;&gt;&lt;a href=&quot;#cb24-13&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; numPids = &lt;span class=&quot;fu&quot;&gt;proc_listallpids&lt;/span&gt;(NULL, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;
480 &lt;span id=&quot;cb24-14&quot;&gt;&lt;a href=&quot;#cb24-14&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// allocate an array&lt;/span&gt;&lt;/span&gt;
481 &lt;span id=&quot;cb24-15&quot;&gt;&lt;a href=&quot;#cb24-15&quot;&gt;&lt;/a&gt;            var pids = Cint.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(numPids, scope);&lt;/span&gt;
482 &lt;span id=&quot;cb24-16&quot;&gt;&lt;a href=&quot;#cb24-16&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// list all the pids into the native array&lt;/span&gt;&lt;/span&gt;
483 &lt;span id=&quot;cb24-17&quot;&gt;&lt;a href=&quot;#cb24-17&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;proc_listallpids&lt;/span&gt;(pids, numPids);&lt;/span&gt;
484 &lt;span id=&quot;cb24-18&quot;&gt;&lt;a href=&quot;#cb24-18&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// convert native array to java array&lt;/span&gt;&lt;/span&gt;
485 &lt;span id=&quot;cb24-19&quot;&gt;&lt;a href=&quot;#cb24-19&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;[] jpids = Cint.&lt;span class=&quot;fu&quot;&gt;toJavaArray&lt;/span&gt;(pids.&lt;span class=&quot;fu&quot;&gt;segment&lt;/span&gt;());&lt;/span&gt;
</pre>
<hr />
<pre>
495 &lt;span id=&quot;cb24-29&quot;&gt;&lt;a href=&quot;#cb24-29&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;
496 &lt;span id=&quot;cb24-30&quot;&gt;&lt;a href=&quot;#cb24-30&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
497 &lt;span id=&quot;cb24-31&quot;&gt;&lt;a href=&quot;#cb24-31&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
498 &lt;span id=&quot;cb24-32&quot;&gt;&lt;a href=&quot;#cb24-32&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
499 &lt;h3 id=&quot;compiling-and-running-the-libproc-sample&quot;&gt;Compiling and running the libproc sample&lt;/h3&gt;
500 &lt;div class=&quot;sourceCode&quot; id=&quot;cb25&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb25-1&quot;&gt;&lt;a href=&quot;#cb25-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
501 &lt;span id=&quot;cb25-2&quot;&gt;&lt;a href=&quot;#cb25-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit \&lt;/span&gt;
502 &lt;span id=&quot;cb25-3&quot;&gt;&lt;a href=&quot;#cb25-3&quot;&gt;&lt;/a&gt;    --add-modules jdk.incubator.foreign \&lt;/span&gt;
503 &lt;span id=&quot;cb25-4&quot;&gt;&lt;a href=&quot;#cb25-4&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/lib LibprocMain.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
504 &lt;h2 id=&quot;using-libgit2-from-java-mac-os&quot;&gt;Using libgit2 from Java (Mac OS)&lt;/h2&gt;
505 &lt;h3 id=&quot;getting-and-building-libgit2&quot;&gt;Getting and building libgit2&lt;/h3&gt;
506 &lt;ul&gt;
507 &lt;li&gt;Download libgit2 v1.0.0 source from https://github.com/libgit2/libgit2/releases&lt;/li&gt;
508 &lt;li&gt;Use cmake to build from libgit2&lt;/li&gt;
509 &lt;li&gt;Let ${LIBGIT2_HOME} be the directory where you expanded libgit2 sources.&lt;/li&gt;
510 &lt;li&gt;Let ${LIBGIT2_HOME}/build be the build directory where libgit2.dylib is built.&lt;/li&gt;
511 &lt;/ul&gt;
512 &lt;h3 id=&quot;jextract-git2.h&quot;&gt;jextract git2.h&lt;/h3&gt;
513 &lt;div class=&quot;sourceCode&quot; id=&quot;cb26&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb26-1&quot;&gt;&lt;a href=&quot;#cb26-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
514 &lt;span id=&quot;cb26-2&quot;&gt;&lt;a href=&quot;#cb26-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -t com.github -lgit2 \&lt;/span&gt;
<span class="line-modified">515 &lt;span id=&quot;cb26-3&quot;&gt;&lt;a href=&quot;#cb26-3&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/ \&lt;/span&gt;</span>
516 &lt;span id=&quot;cb26-4&quot;&gt;&lt;a href=&quot;#cb26-4&quot;&gt;&lt;/a&gt;  -I &lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/include/ \&lt;/span&gt;
517 &lt;span id=&quot;cb26-5&quot;&gt;&lt;a href=&quot;#cb26-5&quot;&gt;&lt;/a&gt;  -I &lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/include/git2 \&lt;/span&gt;
518 &lt;span id=&quot;cb26-6&quot;&gt;&lt;a href=&quot;#cb26-6&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/include/git2.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
519 &lt;h3 id=&quot;java-program-that-uses-libgit2-to-clone-github-repo&quot;&gt;Java program that uses libgit2 to clone github repo&lt;/h3&gt;
520 &lt;div class=&quot;sourceCode&quot; id=&quot;cb27&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb27-1&quot;&gt;&lt;a href=&quot;#cb27-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
521 &lt;span id=&quot;cb27-2&quot;&gt;&lt;a href=&quot;#cb27-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;
522 &lt;span id=&quot;cb27-3&quot;&gt;&lt;a href=&quot;#cb27-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; com.github.git2_h.*;&lt;/span&gt;&lt;/span&gt;
523 &lt;span id=&quot;cb27-4&quot;&gt;&lt;a href=&quot;#cb27-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;
524 &lt;span id=&quot;cb27-5&quot;&gt;&lt;a href=&quot;#cb27-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;
<span class="line-modified">525 &lt;span id=&quot;cb27-6&quot;&gt;&lt;a href=&quot;#cb27-6&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">526 &lt;span id=&quot;cb27-7&quot;&gt;&lt;a href=&quot;#cb27-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; GitClone {&lt;/span&gt;</span>
<span class="line-modified">527 &lt;span id=&quot;cb27-8&quot;&gt;&lt;a href=&quot;#cb27-8&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-modified">528 &lt;span id=&quot;cb27-9&quot;&gt;&lt;a href=&quot;#cb27-9&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (args.&lt;span class=&quot;fu&quot;&gt;length&lt;/span&gt; != &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;) {&lt;/span&gt;</span>
<span class="line-modified">529 &lt;span id=&quot;cb27-10&quot;&gt;&lt;a href=&quot;#cb27-10&quot;&gt;&lt;/a&gt;              &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;java GitClone &amp;lt;url&amp;gt; &amp;lt;path&amp;gt;&amp;quot;&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">530 &lt;span id=&quot;cb27-11&quot;&gt;&lt;a href=&quot;#cb27-11&quot;&gt;&lt;/a&gt;              &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;exit&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">531 &lt;span id=&quot;cb27-12&quot;&gt;&lt;a href=&quot;#cb27-12&quot;&gt;&lt;/a&gt;          }&lt;/span&gt;</span>
<span class="line-modified">532 &lt;span id=&quot;cb27-13&quot;&gt;&lt;a href=&quot;#cb27-13&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;fu&quot;&gt;git_libgit2_init&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">533 &lt;span id=&quot;cb27-14&quot;&gt;&lt;a href=&quot;#cb27-14&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;</span>
<span class="line-modified">534 &lt;span id=&quot;cb27-15&quot;&gt;&lt;a href=&quot;#cb27-15&quot;&gt;&lt;/a&gt;              var repo = scope.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(C_POINTER, NULL);&lt;/span&gt;</span>
<span class="line-modified">535 &lt;span id=&quot;cb27-16&quot;&gt;&lt;a href=&quot;#cb27-16&quot;&gt;&lt;/a&gt;              var url = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(args[&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;], scope);&lt;/span&gt;</span>
<span class="line-modified">536 &lt;span id=&quot;cb27-17&quot;&gt;&lt;a href=&quot;#cb27-17&quot;&gt;&lt;/a&gt;              var path = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(args[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], scope);&lt;/span&gt;</span>
<span class="line-modified">537 &lt;span id=&quot;cb27-18&quot;&gt;&lt;a href=&quot;#cb27-18&quot;&gt;&lt;/a&gt;              &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;git_clone&lt;/span&gt;(repo, url, path, NULL));&lt;/span&gt;</span>
<span class="line-modified">538 &lt;span id=&quot;cb27-19&quot;&gt;&lt;a href=&quot;#cb27-19&quot;&gt;&lt;/a&gt;          }&lt;/span&gt;</span>
<span class="line-modified">539 &lt;span id=&quot;cb27-20&quot;&gt;&lt;a href=&quot;#cb27-20&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;fu&quot;&gt;git_libgit2_shutdown&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">540 &lt;span id=&quot;cb27-21&quot;&gt;&lt;a href=&quot;#cb27-21&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-modified">541 &lt;span id=&quot;cb27-22&quot;&gt;&lt;a href=&quot;#cb27-22&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>

542 &lt;h3 id=&quot;compiling-and-running-the-libgit2-sample&quot;&gt;Compiling and running the libgit2 sample&lt;/h3&gt;
543 &lt;div class=&quot;sourceCode&quot; id=&quot;cb28&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb28-1&quot;&gt;&lt;a href=&quot;#cb28-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
544 &lt;span id=&quot;cb28-2&quot;&gt;&lt;a href=&quot;#cb28-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;# file run.sh&lt;/span&gt;&lt;/span&gt;
545 &lt;span id=&quot;cb28-3&quot;&gt;&lt;a href=&quot;#cb28-3&quot;&gt;&lt;/a&gt;&lt;/span&gt;
546 &lt;span id=&quot;cb28-4&quot;&gt;&lt;a href=&quot;#cb28-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;
547 &lt;span id=&quot;cb28-5&quot;&gt;&lt;a href=&quot;#cb28-5&quot;&gt;&lt;/a&gt;    -Djava.library.path=&lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/build/ \&lt;/span&gt;
548 &lt;span id=&quot;cb28-6&quot;&gt;&lt;a href=&quot;#cb28-6&quot;&gt;&lt;/a&gt;    GitClone.java &lt;span class=&quot;va&quot;&gt;$*&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
549 &lt;h3 id=&quot;cloning-a-github-repo-using-the-above-run.sh-command&quot;&gt;Cloning a github repo using the above run.sh command&lt;/h3&gt;
550 &lt;div class=&quot;sourceCode&quot; id=&quot;cb29&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb29-1&quot;&gt;&lt;a href=&quot;#cb29-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
551 &lt;span id=&quot;cb29-2&quot;&gt;&lt;a href=&quot;#cb29-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;fu&quot;&gt;sh&lt;/span&gt; run.sh https://github.com/libgit2/libgit2.git libgit2&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
552 &lt;h2 id=&quot;using-sqlite3-library-from-java-mac-os&quot;&gt;Using sqlite3 library from Java (Mac OS)&lt;/h2&gt;
553 &lt;h3 id=&quot;jextract-sqlite3.h&quot;&gt;jextract sqlite3.h&lt;/h3&gt;
554 &lt;div class=&quot;sourceCode&quot; id=&quot;cb30&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb30-1&quot;&gt;&lt;a href=&quot;#cb30-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
555 &lt;span id=&quot;cb30-2&quot;&gt;&lt;a href=&quot;#cb30-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
<span class="line-modified">556 &lt;span id=&quot;cb30-3&quot;&gt;&lt;a href=&quot;#cb30-3&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;</span>
<span class="line-modified">557 &lt;span id=&quot;cb30-4&quot;&gt;&lt;a href=&quot;#cb30-4&quot;&gt;&lt;/a&gt;  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sqlite3.h \&lt;/span&gt;</span>
558 &lt;span id=&quot;cb30-5&quot;&gt;&lt;a href=&quot;#cb30-5&quot;&gt;&lt;/a&gt;  -t org.sqlite -lsqlite3&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
559 &lt;h3 id=&quot;java-program-that-uses-sqlite3&quot;&gt;Java program that uses sqlite3&lt;/h3&gt;
560 &lt;div class=&quot;sourceCode&quot; id=&quot;cb31&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb31-1&quot;&gt;&lt;a href=&quot;#cb31-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
561 &lt;span id=&quot;cb31-2&quot;&gt;&lt;a href=&quot;#cb31-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;
562 &lt;span id=&quot;cb31-3&quot;&gt;&lt;a href=&quot;#cb31-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.sqlite.Cpointer;&lt;/span&gt;&lt;/span&gt;
563 &lt;span id=&quot;cb31-4&quot;&gt;&lt;a href=&quot;#cb31-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.sqlite.Cstring;&lt;/span&gt;&lt;/span&gt;
564 &lt;span id=&quot;cb31-5&quot;&gt;&lt;a href=&quot;#cb31-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;
565 &lt;span id=&quot;cb31-6&quot;&gt;&lt;a href=&quot;#cb31-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.sqlite.sqlite3_h.*;&lt;/span&gt;&lt;/span&gt;
566 &lt;span id=&quot;cb31-7&quot;&gt;&lt;a href=&quot;#cb31-7&quot;&gt;&lt;/a&gt;&lt;/span&gt;
567 &lt;span id=&quot;cb31-8&quot;&gt;&lt;a href=&quot;#cb31-8&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; SqliteMain {&lt;/span&gt;
568 &lt;span id=&quot;cb31-9&quot;&gt;&lt;a href=&quot;#cb31-9&quot;&gt;&lt;/a&gt;   &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;kw&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;bu&quot;&gt;Exception&lt;/span&gt; {&lt;/span&gt;
569 &lt;span id=&quot;cb31-10&quot;&gt;&lt;a href=&quot;#cb31-10&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;
570 &lt;span id=&quot;cb31-11&quot;&gt;&lt;a href=&quot;#cb31-11&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// char** errMsgPtrPtr;&lt;/span&gt;&lt;/span&gt;
571 &lt;span id=&quot;cb31-12&quot;&gt;&lt;a href=&quot;#cb31-12&quot;&gt;&lt;/a&gt;            var errMsgPtrPtr = Cpointer.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(NULL, scope);&lt;/span&gt;
572 &lt;span id=&quot;cb31-13&quot;&gt;&lt;a href=&quot;#cb31-13&quot;&gt;&lt;/a&gt;&lt;/span&gt;
573 &lt;span id=&quot;cb31-14&quot;&gt;&lt;a href=&quot;#cb31-14&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// sqlite3** dbPtrPtr;&lt;/span&gt;&lt;/span&gt;
574 &lt;span id=&quot;cb31-15&quot;&gt;&lt;a href=&quot;#cb31-15&quot;&gt;&lt;/a&gt;            var dbPtrPtr = Cpointer.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(NULL, scope);&lt;/span&gt;
575 &lt;span id=&quot;cb31-16&quot;&gt;&lt;a href=&quot;#cb31-16&quot;&gt;&lt;/a&gt;&lt;/span&gt;
576 &lt;span id=&quot;cb31-17&quot;&gt;&lt;a href=&quot;#cb31-17&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_open&lt;/span&gt;(Cstring.&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;employee.db&amp;quot;&lt;/span&gt;,scope), dbPtrPtr);&lt;/span&gt;
577 &lt;span id=&quot;cb31-18&quot;&gt;&lt;a href=&quot;#cb31-18&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../index.html" target="_top">index</a> <a href="panama_jextract.md.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>