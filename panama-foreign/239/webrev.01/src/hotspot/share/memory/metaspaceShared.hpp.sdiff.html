<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/memory/metaspaceShared.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="metaspaceShared.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../oops/instanceKlass.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/memory/metaspaceShared.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
337 
338   template &lt;typename T&gt;
339   static size_t ro_array_bytesize(int length) {
340     size_t byte_size = Array&lt;T&gt;::byte_sizeof(length, sizeof(T));
341     return align_up(byte_size, BytesPerWord);
342   }
343 
344   static address i2i_entry_code_buffers(size_t total_size);
345 
346   static address i2i_entry_code_buffers() {
347     return _i2i_entry_code_buffers;
348   }
349   static size_t i2i_entry_code_buffers_size() {
350     return _i2i_entry_code_buffers_size;
351   }
352   static void relocate_klass_ptr(oop o);
353 
354   static Klass* get_relocated_klass(Klass *k, bool is_final=false);
355 
356   static void allocate_cloned_cpp_vtptrs();
<span class="line-modified">357   static intptr_t* fix_cpp_vtable_for_dynamic_archive(MetaspaceObj::Type msotype, address obj);</span>
358   static void initialize_ptr_marker(CHeapBitMap* ptrmap);
359 
360   // This is the base address as specified by -XX:SharedBaseAddress during -Xshare:dump.
361   // Both the base/top archives are written using this as their base address.
362   static char* requested_base_address() {
363     return _requested_base_address;
364   }
365 
366   // Non-zero if the archive(s) need to be mapped a non-default location due to ASLR.
367   static intx relocation_delta() { return _relocation_delta; }
368   static intx final_delta();
369   static bool use_windows_memory_mapping() {
370     const bool is_windows = (NOT_WINDOWS(false) WINDOWS_ONLY(true));
371     //const bool is_windows = true; // enable this to allow testing the windows mmap semantics on Linux, etc.
372     return is_windows;
373   }
374 
375   static void write_core_archive_regions(FileMapInfo* mapinfo,
376                                          GrowableArray&lt;ArchiveHeapOopmapInfo&gt;* closed_oopmaps,
377                                          GrowableArray&lt;ArchiveHeapOopmapInfo&gt;* open_oopmaps);
</pre>
</td>
<td>
<hr />
<pre>
337 
338   template &lt;typename T&gt;
339   static size_t ro_array_bytesize(int length) {
340     size_t byte_size = Array&lt;T&gt;::byte_sizeof(length, sizeof(T));
341     return align_up(byte_size, BytesPerWord);
342   }
343 
344   static address i2i_entry_code_buffers(size_t total_size);
345 
346   static address i2i_entry_code_buffers() {
347     return _i2i_entry_code_buffers;
348   }
349   static size_t i2i_entry_code_buffers_size() {
350     return _i2i_entry_code_buffers_size;
351   }
352   static void relocate_klass_ptr(oop o);
353 
354   static Klass* get_relocated_klass(Klass *k, bool is_final=false);
355 
356   static void allocate_cloned_cpp_vtptrs();
<span class="line-modified">357   static intptr_t* get_archived_cpp_vtable(MetaspaceObj::Type msotype, address obj);</span>
358   static void initialize_ptr_marker(CHeapBitMap* ptrmap);
359 
360   // This is the base address as specified by -XX:SharedBaseAddress during -Xshare:dump.
361   // Both the base/top archives are written using this as their base address.
362   static char* requested_base_address() {
363     return _requested_base_address;
364   }
365 
366   // Non-zero if the archive(s) need to be mapped a non-default location due to ASLR.
367   static intx relocation_delta() { return _relocation_delta; }
368   static intx final_delta();
369   static bool use_windows_memory_mapping() {
370     const bool is_windows = (NOT_WINDOWS(false) WINDOWS_ONLY(true));
371     //const bool is_windows = true; // enable this to allow testing the windows mmap semantics on Linux, etc.
372     return is_windows;
373   }
374 
375   static void write_core_archive_regions(FileMapInfo* mapinfo,
376                                          GrowableArray&lt;ArchiveHeapOopmapInfo&gt;* closed_oopmaps,
377                                          GrowableArray&lt;ArchiveHeapOopmapInfo&gt;* open_oopmaps);
</pre>
</td>
</tr>
</table>
<center><a href="metaspaceShared.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../oops/instanceKlass.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>