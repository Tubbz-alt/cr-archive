<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/jvmci/jvmciEnv.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../jfr/recorder/service/jfrOptionSet.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="vmStructs_jvmci.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/jvmci/jvmciEnv.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  *
 23  */
 24 
 25 #ifndef SHARE_JVMCI_JVMCIENV_HPP
 26 #define SHARE_JVMCI_JVMCIENV_HPP
 27 
 28 #include &quot;classfile/javaClasses.hpp&quot;
 29 #include &quot;jvmci/jvmciJavaClasses.hpp&quot;
 30 #include &quot;runtime/thread.hpp&quot;
 31 
 32 class CompileTask;
 33 class JVMCIObject;
 34 class JVMCIObjectArray;
 35 class JVMCIPrimitiveArray;
 36 class JVMCICompiler;
 37 class JVMCIRuntime;

 38 
 39 #define JVMCI_EXCEPTION_CONTEXT \
 40   JavaThread* thread=JavaThread::current(); \
 41   Thread* THREAD = thread;
 42 
 43 // Helper to log more context on a JNI exception
 44 #define JVMCI_EXCEPTION_CHECK(env, ...) \
 45   do { \
 46     if (env-&gt;ExceptionCheck()) { \
 47       if (env != JavaThread::current()-&gt;jni_environment()) { \
 48         char* sl_path; \
 49         if (::JVMCI::get_shared_library(sl_path, false) != NULL) { \
 50           tty-&gt;print_cr(&quot;In JVMCI shared library (%s):&quot;, sl_path); \
 51         } \
 52       } \
 53       tty-&gt;print_cr(__VA_ARGS__); \
 54       return; \
 55     } \
 56   } while(0)
 57 
</pre>
</td>
<td>
<hr />
<pre>
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  *
 23  */
 24 
 25 #ifndef SHARE_JVMCI_JVMCIENV_HPP
 26 #define SHARE_JVMCI_JVMCIENV_HPP
 27 
 28 #include &quot;classfile/javaClasses.hpp&quot;
 29 #include &quot;jvmci/jvmciJavaClasses.hpp&quot;
 30 #include &quot;runtime/thread.hpp&quot;
 31 
 32 class CompileTask;
 33 class JVMCIObject;
 34 class JVMCIObjectArray;
 35 class JVMCIPrimitiveArray;
 36 class JVMCICompiler;
 37 class JVMCIRuntime;
<span class="line-added"> 38 class nmethodLocker;</span>
 39 
 40 #define JVMCI_EXCEPTION_CONTEXT \
 41   JavaThread* thread=JavaThread::current(); \
 42   Thread* THREAD = thread;
 43 
 44 // Helper to log more context on a JNI exception
 45 #define JVMCI_EXCEPTION_CHECK(env, ...) \
 46   do { \
 47     if (env-&gt;ExceptionCheck()) { \
 48       if (env != JavaThread::current()-&gt;jni_environment()) { \
 49         char* sl_path; \
 50         if (::JVMCI::get_shared_library(sl_path, false) != NULL) { \
 51           tty-&gt;print_cr(&quot;In JVMCI shared library (%s):&quot;, sl_path); \
 52         } \
 53       } \
 54       tty-&gt;print_cr(__VA_ARGS__); \
 55       return; \
 56     } \
 57   } while(0)
 58 
</pre>
</td>
</tr>
</table>
<center><a href="../jfr/recorder/service/jfrOptionSet.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="vmStructs_jvmci.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>