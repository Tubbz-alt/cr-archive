diff a/test/hotspot/jtreg/compiler/c2/TestBit.java b/test/hotspot/jtreg/compiler/c2/TestBit.java
--- a/test/hotspot/jtreg/compiler/c2/TestBit.java
+++ b/test/hotspot/jtreg/compiler/c2/TestBit.java
@@ -30,20 +30,22 @@
  * @test
  * @bug 8247408
  * @summary C2 should convert ((var&16) == 16) to ((var&16) != 0) for power-of-two constants
  * @library /test/lib /
  *
- * @run main/othervm compiler.c2.TestBit
+ * @run driver compiler.c2.TestBit
  *
  * @requires os.arch=="aarch64" | os.arch=="amd64" | os.arch == "ppc64le"
- * @requires vm.debug == true & vm.flavor == "server" & !vm.graal.enabled
+ * @requires vm.debug == true & vm.compiler2.enabled
  */
 public class TestBit {
 
     static void runTest(String testName) throws Exception {
         String className = "compiler.c2.TestBit";
         String[] procArgs = {
+            "-Xbatch",
+            "-XX:-TieredCompilation",
             "-XX:+PrintOptoAssembly",
             "-XX:CompileCommand=compileonly," + className + "::tst*",
             className, testName};
 
         ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(procArgs);
