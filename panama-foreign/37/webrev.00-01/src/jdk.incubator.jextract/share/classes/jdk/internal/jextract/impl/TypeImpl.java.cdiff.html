<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/jdk.incubator.jextract/share/classes/jdk/internal/jextract/impl/TypeImpl.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="DeclarationImpl.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../test/jdk/tools/jextract/JextractToolProviderTest.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.incubator.jextract/share/classes/jdk/internal/jextract/impl/TypeImpl.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 89,13 ***</span>
          }
  
          @Override
          public boolean equals(Object o) {
              if (this == o) return true;
<span class="line-modified">!             if (o == null || getClass() != o.getClass()) return false;</span>
<span class="line-modified">!             PrimitiveImpl primitive = (PrimitiveImpl) o;</span>
<span class="line-modified">!             return kind == primitive.kind;</span>
          }
  
          @Override
          public int hashCode() {
              return Objects.hash(kind);
<span class="line-new-header">--- 89,13 ---</span>
          }
  
          @Override
          public boolean equals(Object o) {
              if (this == o) return true;
<span class="line-modified">!             if (!(o instanceof Type.Primitive)) return false;</span>
<span class="line-modified">!             Type.Primitive primitive = (Type.Primitive) o;</span>
<span class="line-modified">!             return kind == primitive.kind();</span>
          }
  
          @Override
          public int hashCode() {
              return Objects.hash(kind);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 127,23 ***</span>
          }
  
          @Override
          public boolean equals(Object o) {
              if (this == o) return true;
<span class="line-modified">!             if (o == null || getClass() != o.getClass()) return false;</span>
<span class="line-modified">!             DelegatedBase that = (DelegatedBase) o;</span>
<span class="line-modified">!             return kind == that.kind &amp;&amp;</span>
<span class="line-modified">!                     name.equals(that.name);</span>
          }
  
          @Override
          public int hashCode() {
              return Objects.hash(kind, name);
          }
      }
  
<span class="line-modified">!     public static class QualifiedImpl extends DelegatedBase {</span>
          private final Type type;
  
          public QualifiedImpl(Kind kind, Type type) {
              this(kind, Optional.empty(), type);
          }
<span class="line-new-header">--- 127,23 ---</span>
          }
  
          @Override
          public boolean equals(Object o) {
              if (this == o) return true;
<span class="line-modified">!             if (!(o instanceof Type.Delegated)) return false;</span>
<span class="line-modified">!             Type.Delegated that = (Type.Delegated) o;</span>
<span class="line-modified">!             return kind == that.kind() &amp;&amp;</span>
<span class="line-modified">!                     name.equals(that.name());</span>
          }
  
          @Override
          public int hashCode() {
              return Objects.hash(kind, name);
          }
      }
  
<span class="line-modified">!     public static final class QualifiedImpl extends DelegatedBase {</span>
          private final Type type;
  
          public QualifiedImpl(Kind kind, Type type) {
              this(kind, Optional.empty(), type);
          }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 163,23 ***</span>
          }
  
          @Override
          public boolean equals(Object o) {
              if (this == o) return true;
<span class="line-modified">!             if (o == null || getClass() != o.getClass()) return false;</span>
              if (!super.equals(o)) return false;
<span class="line-modified">!             QualifiedImpl qualified = (QualifiedImpl) o;</span>
<span class="line-modified">!             return Objects.equals(type, qualified.type);</span>
          }
  
          @Override
          public int hashCode() {
              return Objects.hash(super.hashCode(), type);
          }
      }
  
<span class="line-modified">!     public static class PointerImpl extends DelegatedBase {</span>
          private final Supplier&lt;Type&gt; pointeeFactory;
  
          public PointerImpl(Supplier&lt;Type&gt; pointeeFactory) {
              super(Kind.POINTER, Optional.empty());
              this.pointeeFactory = Objects.requireNonNull(pointeeFactory);
<span class="line-new-header">--- 163,23 ---</span>
          }
  
          @Override
          public boolean equals(Object o) {
              if (this == o) return true;
<span class="line-modified">!             if (!(o instanceof Type.Delegated)) return false;</span>
              if (!super.equals(o)) return false;
<span class="line-modified">!             Type.Delegated qualified = (Type.Delegated) o;</span>
<span class="line-modified">!             return Objects.equals(type, qualified.type());</span>
          }
  
          @Override
          public int hashCode() {
              return Objects.hash(super.hashCode(), type);
          }
      }
  
<span class="line-modified">!     public static final class PointerImpl extends DelegatedBase {</span>
          private final Supplier&lt;Type&gt; pointeeFactory;
  
          public PointerImpl(Supplier&lt;Type&gt; pointeeFactory) {
              super(Kind.POINTER, Optional.empty());
              this.pointeeFactory = Objects.requireNonNull(pointeeFactory);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 193,11 ***</span>
          public Type type() {
              return pointeeFactory.get();
          }
      }
  
<span class="line-modified">!     public static class DeclaredImpl extends TypeImpl implements Type.Declared {</span>
  
          private final Declaration.Scoped declaration;
  
          public DeclaredImpl(Declaration.Scoped declaration) {
              super();
<span class="line-new-header">--- 193,11 ---</span>
          public Type type() {
              return pointeeFactory.get();
          }
      }
  
<span class="line-modified">!     public static final class DeclaredImpl extends TypeImpl implements Type.Declared {</span>
  
          private final Declaration.Scoped declaration;
  
          public DeclaredImpl(Declaration.Scoped declaration) {
              super();
</pre>
<hr />
<pre>
<span class="line-old-header">*** 215,22 ***</span>
          }
  
          @Override
          public boolean equals(Object o) {
              if (this == o) return true;
<span class="line-modified">!             if (o == null || getClass() != o.getClass()) return false;</span>
<span class="line-modified">!             DeclaredImpl declared = (DeclaredImpl) o;</span>
<span class="line-modified">!             return declaration.equals(declared.declaration);</span>
          }
  
          @Override
          public int hashCode() {
              return Objects.hash(declaration);
          }
      }
  
<span class="line-modified">!     public static class FunctionImpl extends TypeImpl implements Type.Function {</span>
  
          private final boolean varargs;
          private final List&lt;Type&gt; argtypes;
          private final Type restype;
  
<span class="line-new-header">--- 215,22 ---</span>
          }
  
          @Override
          public boolean equals(Object o) {
              if (this == o) return true;
<span class="line-modified">!             if (!(o instanceof Type.Declared)) return false;</span>
<span class="line-modified">!             Type.Declared declared = (Type.Declared) o;</span>
<span class="line-modified">!             return declaration.equals(declared.tree());</span>
          }
  
          @Override
          public int hashCode() {
              return Objects.hash(declaration);
          }
      }
  
<span class="line-modified">!     public static final class FunctionImpl extends TypeImpl implements Type.Function {</span>
  
          private final boolean varargs;
          private final List&lt;Type&gt; argtypes;
          private final Type restype;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 262,24 ***</span>
          }
  
          @Override
          public boolean equals(Object o) {
              if (this == o) return true;
<span class="line-modified">!             if (o == null || getClass() != o.getClass()) return false;</span>
<span class="line-modified">!             FunctionImpl function = (FunctionImpl) o;</span>
<span class="line-modified">!             return varargs == function.varargs &amp;&amp;</span>
<span class="line-modified">!                     argtypes.equals(function.argtypes) &amp;&amp;</span>
<span class="line-modified">!                     restype.equals(function.restype);</span>
          }
  
          @Override
          public int hashCode() {
              return Objects.hash(varargs, argtypes, restype);
          }
      }
  
<span class="line-modified">!     public static class ArrayImpl extends TypeImpl implements Type.Array {</span>
  
          private final Kind kind;
          private final OptionalLong elemCount;
          private final Type elemType;
  
<span class="line-new-header">--- 262,24 ---</span>
          }
  
          @Override
          public boolean equals(Object o) {
              if (this == o) return true;
<span class="line-modified">!             if (!(o instanceof Type.Function)) return false;</span>
<span class="line-modified">!             Type.Function function = (Type.Function) o;</span>
<span class="line-modified">!             return varargs == function.varargs() &amp;&amp;</span>
<span class="line-modified">!                     argtypes.equals(function.argumentTypes()) &amp;&amp;</span>
<span class="line-modified">!                     restype.equals(function.returnType());</span>
          }
  
          @Override
          public int hashCode() {
              return Objects.hash(varargs, argtypes, restype);
          }
      }
  
<span class="line-modified">!     public static final class ArrayImpl extends TypeImpl implements Type.Array {</span>
  
          private final Kind kind;
          private final OptionalLong elemCount;
          private final Type elemType;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 319,14 ***</span>
          }
  
          @Override
          public boolean equals(Object o) {
              if (this == o) return true;
<span class="line-modified">!             if (o == null || getClass() != o.getClass()) return false;</span>
<span class="line-modified">!             ArrayImpl array = (ArrayImpl) o;</span>
<span class="line-modified">!             return kind == array.kind &amp;&amp;</span>
<span class="line-modified">!                     elemType.equals(array.elemType);</span>
          }
  
          @Override
          public int hashCode() {
              return Objects.hash(kind, elemType);
<span class="line-new-header">--- 319,14 ---</span>
          }
  
          @Override
          public boolean equals(Object o) {
              if (this == o) return true;
<span class="line-modified">!             if (!(o instanceof Type.Array)) return false;</span>
<span class="line-modified">!             Type.Array array = (Type.Array) o;</span>
<span class="line-modified">!             return kind == array.kind() &amp;&amp;</span>
<span class="line-modified">!                     elemType.equals(array.elementType());</span>
          }
  
          @Override
          public int hashCode() {
              return Objects.hash(kind, elemType);
</pre>
<center><a href="DeclarationImpl.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../test/jdk/tools/jextract/JextractToolProviderTest.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>