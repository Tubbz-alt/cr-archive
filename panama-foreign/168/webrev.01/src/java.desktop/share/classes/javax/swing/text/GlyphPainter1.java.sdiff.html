<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/share/classes/javax/swing/text/GlyphPainter1.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../plaf/basic/BasicTabbedPaneUI.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="Utilities.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/classes/javax/swing/text/GlyphPainter1.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
159      * @param x the X coordinate
160      * @param y the Y coordinate
161      * @param a the allocated region to render into
162      * @param biasReturn always returns &lt;code&gt;Position.Bias.Forward&lt;/code&gt;
163      *   as the zero-th element of this array
164      * @return the location within the model that best represents the
165      *  given point in the view
166      * @see View#viewToModel
167      */
168     public int viewToModel(GlyphView v, float x, float y, Shape a,
169                            Position.Bias[] biasReturn) {
170 
171         sync(v);
172         Rectangle alloc = (a instanceof Rectangle) ? (Rectangle)a : a.getBounds();
173         int p0 = v.getStartOffset();
174         int p1 = v.getEndOffset();
175         TabExpander expander = v.getTabExpander();
176         Segment text = v.getText(p0, p1);
177         int[] justificationData = getJustificationData(v);
178         int offs = Utilities.getTabbedTextOffset(v, text, metrics,
<span class="line-modified">179                                                  alloc.x, (int) x, expander, p0,</span>
<span class="line-removed">180                                                  justificationData);</span>
181         SegmentCache.releaseSharedSegment(text);
182         int retValue = p0 + offs;
183         if(retValue == p1) {
184             // No need to return backward bias as GlyphPainter1 is used for
185             // ltr text only.
186             retValue--;
187         }
188         biasReturn[0] = Position.Bias.Forward;
189         return retValue;
190     }
191 
192     /**
193      * Determines the best location (in the model) to break
194      * the given view.
195      * This method attempts to break on a whitespace
196      * location.  If a whitespace location can&#39;t be found, the
197      * nearest character location is returned.
198      *
199      * @param v the view
200      * @param p0 the location in the model where the
</pre>
</td>
<td>
<hr />
<pre>
159      * @param x the X coordinate
160      * @param y the Y coordinate
161      * @param a the allocated region to render into
162      * @param biasReturn always returns &lt;code&gt;Position.Bias.Forward&lt;/code&gt;
163      *   as the zero-th element of this array
164      * @return the location within the model that best represents the
165      *  given point in the view
166      * @see View#viewToModel
167      */
168     public int viewToModel(GlyphView v, float x, float y, Shape a,
169                            Position.Bias[] biasReturn) {
170 
171         sync(v);
172         Rectangle alloc = (a instanceof Rectangle) ? (Rectangle)a : a.getBounds();
173         int p0 = v.getStartOffset();
174         int p1 = v.getEndOffset();
175         TabExpander expander = v.getTabExpander();
176         Segment text = v.getText(p0, p1);
177         int[] justificationData = getJustificationData(v);
178         int offs = Utilities.getTabbedTextOffset(v, text, metrics,
<span class="line-modified">179                 (float)alloc.x,  x, expander, p0, justificationData);</span>

180         SegmentCache.releaseSharedSegment(text);
181         int retValue = p0 + offs;
182         if(retValue == p1) {
183             // No need to return backward bias as GlyphPainter1 is used for
184             // ltr text only.
185             retValue--;
186         }
187         biasReturn[0] = Position.Bias.Forward;
188         return retValue;
189     }
190 
191     /**
192      * Determines the best location (in the model) to break
193      * the given view.
194      * This method attempts to break on a whitespace
195      * location.  If a whitespace location can&#39;t be found, the
196      * nearest character location is returned.
197      *
198      * @param v the view
199      * @param p0 the location in the model where the
</pre>
</td>
</tr>
</table>
<center><a href="../plaf/basic/BasicTabbedPaneUI.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="Utilities.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>