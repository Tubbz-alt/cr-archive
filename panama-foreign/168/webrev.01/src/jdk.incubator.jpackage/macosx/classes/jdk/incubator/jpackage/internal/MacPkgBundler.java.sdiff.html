<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.incubator.jpackage/macosx/classes/jdk/incubator/jpackage/internal/MacPkgBundler.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="MacDmgBundler.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="resources/DMGsetup.scpt.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.incubator.jpackage/macosx/classes/jdk/incubator/jpackage/internal/MacPkgBundler.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 84             params -&gt; {
 85                     String result = MacBaseInstallerBundler.findKey(
 86                             &quot;Developer ID Installer: &quot;
 87                             + SIGNING_KEY_USER.fetchFrom(params),
 88                             SIGNING_KEYCHAIN.fetchFrom(params),
 89                             VERBOSE.fetchFrom(params));
 90                     if (result != null) {
 91                         MacCertificate certificate = new MacCertificate(result);
 92 
 93                         if (!certificate.isValid()) {
 94                             Log.error(MessageFormat.format(
 95                                     I18N.getString(&quot;error.certificate.expired&quot;),
 96                                     result));
 97                         }
 98                     }
 99 
100                     return result;
101                 },
102             (s, p) -&gt; s);
103 
<span class="line-removed">104     public static final BundlerParamInfo&lt;String&gt; MAC_INSTALL_DIR =</span>
<span class="line-removed">105             new StandardBundlerParam&lt;&gt;(</span>
<span class="line-removed">106             &quot;mac-install-dir&quot;,</span>
<span class="line-removed">107             String.class,</span>
<span class="line-removed">108              params -&gt; {</span>
<span class="line-removed">109                  String dir = INSTALL_DIR.fetchFrom(params);</span>
<span class="line-removed">110                  return (dir != null) ? dir : &quot;/Applications&quot;;</span>
<span class="line-removed">111              },</span>
<span class="line-removed">112             (s, p) -&gt; s</span>
<span class="line-removed">113     );</span>
<span class="line-removed">114 </span>
115     public static final BundlerParamInfo&lt;String&gt; INSTALLER_SUFFIX =
116             new StandardBundlerParam&lt;&gt; (
117             &quot;mac.pkg.installerName.suffix&quot;,
118             String.class,
119             params -&gt; &quot;&quot;,
120             (s, p) -&gt; s);
121 
122     public File bundle(Map&lt;String, ? super Object&gt; params,
123             File outdir) throws PackagerException {
124         Log.verbose(MessageFormat.format(I18N.getString(&quot;message.building-pkg&quot;),
125                 APP_NAME.fetchFrom(params)));
126 
127         IOUtils.writableOutputDir(outdir.toPath());
128 
129         try {
130             File appImageDir = prepareAppBundle(params);
131 
132             if (appImageDir != null &amp;&amp; prepareConfigFiles(params)) {
133 
134                 File configScript = getConfig_Script(params);
</pre>
</td>
<td>
<hr />
<pre>
 84             params -&gt; {
 85                     String result = MacBaseInstallerBundler.findKey(
 86                             &quot;Developer ID Installer: &quot;
 87                             + SIGNING_KEY_USER.fetchFrom(params),
 88                             SIGNING_KEYCHAIN.fetchFrom(params),
 89                             VERBOSE.fetchFrom(params));
 90                     if (result != null) {
 91                         MacCertificate certificate = new MacCertificate(result);
 92 
 93                         if (!certificate.isValid()) {
 94                             Log.error(MessageFormat.format(
 95                                     I18N.getString(&quot;error.certificate.expired&quot;),
 96                                     result));
 97                         }
 98                     }
 99 
100                     return result;
101                 },
102             (s, p) -&gt; s);
103 











104     public static final BundlerParamInfo&lt;String&gt; INSTALLER_SUFFIX =
105             new StandardBundlerParam&lt;&gt; (
106             &quot;mac.pkg.installerName.suffix&quot;,
107             String.class,
108             params -&gt; &quot;&quot;,
109             (s, p) -&gt; s);
110 
111     public File bundle(Map&lt;String, ? super Object&gt; params,
112             File outdir) throws PackagerException {
113         Log.verbose(MessageFormat.format(I18N.getString(&quot;message.building-pkg&quot;),
114                 APP_NAME.fetchFrom(params)));
115 
116         IOUtils.writableOutputDir(outdir.toPath());
117 
118         try {
119             File appImageDir = prepareAppBundle(params);
120 
121             if (appImageDir != null &amp;&amp; prepareConfigFiles(params)) {
122 
123                 File configScript = getConfig_Script(params);
</pre>
</td>
</tr>
</table>
<center><a href="MacDmgBundler.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="resources/DMGsetup.scpt.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>