<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/adlc/output_c.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../../os/linux/attachListener_linux.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../c1/c1_GraphBuilder.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/adlc/output_c.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
3924         fprintf(fp_cpp, &quot;, &quot;);
3925         path_to_constant(fp_cpp, _globalNames, op-&gt;_matrule, i);
3926       }
3927     }
3928     fprintf(fp_cpp, &quot; );\n&quot;);
3929     // #####
3930   }
3931 
3932   // Fill in the bottom_type where requested
3933   if (inst-&gt;captures_bottom_type(_globalNames)) {
3934     if (strncmp(&quot;MachCall&quot;, inst-&gt;mach_base_class(_globalNames), strlen(&quot;MachCall&quot;))) {
3935       fprintf(fp_cpp, &quot;%s node-&gt;_bottom_type = _leaf-&gt;bottom_type();\n&quot;, indent);
3936     }
3937   }
3938   if( inst-&gt;is_ideal_if() ) {
3939     fprintf(fp_cpp, &quot;%s node-&gt;_prob = _leaf-&gt;as_If()-&gt;_prob;\n&quot;, indent);
3940     fprintf(fp_cpp, &quot;%s node-&gt;_fcnt = _leaf-&gt;as_If()-&gt;_fcnt;\n&quot;, indent);
3941   }
3942   if (inst-&gt;is_ideal_halt()) {
3943     fprintf(fp_cpp, &quot;%s node-&gt;_halt_reason = _leaf-&gt;as_Halt()-&gt;_halt_reason;\n&quot;, indent);

3944   }
3945   if (inst-&gt;is_ideal_jump()) {
3946     fprintf(fp_cpp, &quot;%s node-&gt;_probs = _leaf-&gt;as_Jump()-&gt;_probs;\n&quot;, indent);
3947   }
3948   if( inst-&gt;is_ideal_fastlock() ) {
3949     fprintf(fp_cpp, &quot;%s node-&gt;_counters = _leaf-&gt;as_FastLock()-&gt;counters();\n&quot;, indent);
3950     fprintf(fp_cpp, &quot;%s node-&gt;_rtm_counters = _leaf-&gt;as_FastLock()-&gt;rtm_counters();\n&quot;, indent);
3951     fprintf(fp_cpp, &quot;%s node-&gt;_stack_rtm_counters = _leaf-&gt;as_FastLock()-&gt;stack_rtm_counters();\n&quot;, indent);
3952   }
3953 
3954 }
3955 
3956 //---------------------------declare_cisc_version------------------------------
3957 // Build CISC version of this instruction
3958 void InstructForm::declare_cisc_version(ArchDesc &amp;AD, FILE *fp_hpp) {
3959   if( AD.can_cisc_spill() ) {
3960     InstructForm *inst_cisc = cisc_spill_alternate();
3961     if (inst_cisc != NULL) {
3962       fprintf(fp_hpp, &quot;  virtual int            cisc_operand() const { return %d; }\n&quot;, cisc_spill_operand());
3963       fprintf(fp_hpp, &quot;  virtual MachNode      *cisc_version(int offset);\n&quot;);
</pre>
</td>
<td>
<hr />
<pre>
3924         fprintf(fp_cpp, &quot;, &quot;);
3925         path_to_constant(fp_cpp, _globalNames, op-&gt;_matrule, i);
3926       }
3927     }
3928     fprintf(fp_cpp, &quot; );\n&quot;);
3929     // #####
3930   }
3931 
3932   // Fill in the bottom_type where requested
3933   if (inst-&gt;captures_bottom_type(_globalNames)) {
3934     if (strncmp(&quot;MachCall&quot;, inst-&gt;mach_base_class(_globalNames), strlen(&quot;MachCall&quot;))) {
3935       fprintf(fp_cpp, &quot;%s node-&gt;_bottom_type = _leaf-&gt;bottom_type();\n&quot;, indent);
3936     }
3937   }
3938   if( inst-&gt;is_ideal_if() ) {
3939     fprintf(fp_cpp, &quot;%s node-&gt;_prob = _leaf-&gt;as_If()-&gt;_prob;\n&quot;, indent);
3940     fprintf(fp_cpp, &quot;%s node-&gt;_fcnt = _leaf-&gt;as_If()-&gt;_fcnt;\n&quot;, indent);
3941   }
3942   if (inst-&gt;is_ideal_halt()) {
3943     fprintf(fp_cpp, &quot;%s node-&gt;_halt_reason = _leaf-&gt;as_Halt()-&gt;_halt_reason;\n&quot;, indent);
<span class="line-added">3944     fprintf(fp_cpp, &quot;%s node-&gt;_reachable   = _leaf-&gt;as_Halt()-&gt;_reachable;\n&quot;, indent);</span>
3945   }
3946   if (inst-&gt;is_ideal_jump()) {
3947     fprintf(fp_cpp, &quot;%s node-&gt;_probs = _leaf-&gt;as_Jump()-&gt;_probs;\n&quot;, indent);
3948   }
3949   if( inst-&gt;is_ideal_fastlock() ) {
3950     fprintf(fp_cpp, &quot;%s node-&gt;_counters = _leaf-&gt;as_FastLock()-&gt;counters();\n&quot;, indent);
3951     fprintf(fp_cpp, &quot;%s node-&gt;_rtm_counters = _leaf-&gt;as_FastLock()-&gt;rtm_counters();\n&quot;, indent);
3952     fprintf(fp_cpp, &quot;%s node-&gt;_stack_rtm_counters = _leaf-&gt;as_FastLock()-&gt;stack_rtm_counters();\n&quot;, indent);
3953   }
3954 
3955 }
3956 
3957 //---------------------------declare_cisc_version------------------------------
3958 // Build CISC version of this instruction
3959 void InstructForm::declare_cisc_version(ArchDesc &amp;AD, FILE *fp_hpp) {
3960   if( AD.can_cisc_spill() ) {
3961     InstructForm *inst_cisc = cisc_spill_alternate();
3962     if (inst_cisc != NULL) {
3963       fprintf(fp_hpp, &quot;  virtual int            cisc_operand() const { return %d; }\n&quot;, cisc_spill_operand());
3964       fprintf(fp_hpp, &quot;  virtual MachNode      *cisc_version(int offset);\n&quot;);
</pre>
</td>
</tr>
</table>
<center><a href="../../os/linux/attachListener_linux.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../c1/c1_GraphBuilder.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>