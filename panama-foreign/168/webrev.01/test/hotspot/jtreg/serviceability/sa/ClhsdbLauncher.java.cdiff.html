<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/hotspot/jtreg/serviceability/sa/ClhsdbLauncher.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="ClhsdbJstackXcompStress.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="DeadlockDetectionTest.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/serviceability/sa/ClhsdbLauncher.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 23,14 ***</span>
  
  import java.io.IOException;
  import java.io.OutputStream;
  import java.util.List;
  import java.util.Map;
<span class="line-removed">- import java.util.Arrays;</span>
  
<span class="line-modified">! import jdk.test.lib.apps.LingeredApp;</span>
<span class="line-removed">- import jdk.test.lib.Platform;</span>
  import jdk.test.lib.JDKToolLauncher;
  import jdk.test.lib.JDKToolFinder;
  import jdk.test.lib.process.OutputAnalyzer;
  import jdk.test.lib.SA.SATestUtils;
  
<span class="line-new-header">--- 23,12 ---</span>
  
  import java.io.IOException;
  import java.io.OutputStream;
  import java.util.List;
  import java.util.Map;
  
<span class="line-modified">! import jdk.test.lib.Utils;</span>
  import jdk.test.lib.JDKToolLauncher;
  import jdk.test.lib.JDKToolFinder;
  import jdk.test.lib.process.OutputAnalyzer;
  import jdk.test.lib.SA.SATestUtils;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 54,10 ***</span>
<span class="line-new-header">--- 52,11 ---</span>
       * @param lingeredAppPid  - pid of the Lingered App or one its sub-classes.
       */
      private void attach(long lingeredAppPid)
          throws IOException {
          JDKToolLauncher launcher = JDKToolLauncher.createUsingTestJDK(&quot;jhsdb&quot;);
<span class="line-added">+         launcher.addVMArgs(Utils.getTestJavaOpts());</span>
          launcher.addToolArg(&quot;clhsdb&quot;);
          if (lingeredAppPid != -1) {
              launcher.addToolArg(&quot;--pid=&quot; + Long.toString(lingeredAppPid));
              System.out.println(&quot;Starting clhsdb against &quot; + lingeredAppPid);
          }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 73,10 ***</span>
<span class="line-new-header">--- 72,11 ---</span>
       */
      private void loadCore(String coreFileName)
          throws IOException {
  
          JDKToolLauncher launcher = JDKToolLauncher.createUsingTestJDK(&quot;jhsdb&quot;);
<span class="line-added">+         launcher.addVMArgs(Utils.getTestJavaOpts());</span>
          launcher.addToolArg(&quot;clhsdb&quot;);
          launcher.addToolArg(&quot;--core=&quot; + coreFileName);
          launcher.addToolArg(&quot;--exe=&quot; + JDKToolFinder.getTestJDKTool(&quot;java&quot;));
          System.out.println(&quot;Starting clhsdb against corefile &quot; + coreFileName +
                             &quot; and exe &quot; + JDKToolFinder.getTestJDKTool(&quot;java&quot;));
</pre>
<center><a href="ClhsdbJstackXcompStress.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="DeadlockDetectionTest.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>