<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/javax/swing/JMenu/4515762/bug4515762.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../java/util/regex/GraphemeTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../JMenuItem/8139169/ScreenMenuBarInputTwice.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/javax/swing/JMenu/4515762/bug4515762.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
104             actionRecieved = false;
105         } else {
106             throw new RuntimeException(&quot;Action has not been received&quot;);
107         }
108     }
109 
110     public static void main(String[] args) throws Throwable {
111         try {
112             Robot robot = new Robot();
113             robot.setAutoDelay(250);
114 
115             SwingUtilities.invokeAndWait(new Runnable() {
116 
117                 @Override
118                 public void run() {
119                     frame = new JFrame(&quot;Test&quot;);
120                     frame.setJMenuBar(createMenuBar());
121                     frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
122                     frame.pack();
123                     frame.setVisible(true);

124                 }
125             });
126 
127             robot.waitForIdle();
128 
129             Util.hitMnemonics(robot, KeyEvent.VK_D);
130             robot.waitForIdle();
131 
132             // Press the S key many times (should not cause an action peformed)
133             int TIMES = 5;
134             for (int i = 0; i &lt; TIMES; i++) {
135                 Util.hitKeys(robot, KeyEvent.VK_S);
136             }
137             robot.waitForIdle();
138 
139             // Unique menu items.
140             actionExpected = true;
141             Util.hitMnemonics(robot, KeyEvent.VK_U);
142 

143             robot.keyPress(KeyEvent.VK_S);
144             robot.keyRelease(KeyEvent.VK_S);
145             robot.waitForIdle();
146 
147             checkAction();
148 
149             Util.hitMnemonics(robot, KeyEvent.VK_U);


150             robot.keyPress(KeyEvent.VK_M);
151             robot.keyRelease(KeyEvent.VK_M);
152             robot.waitForIdle();
153 
154             checkAction();
155 
156             Util.hitMnemonics(robot, KeyEvent.VK_U);

157             Util.hitKeys(robot, KeyEvent.VK_T);
158             robot.waitForIdle();
159 
160             checkAction();

161             Util.hitMnemonics(robot, KeyEvent.VK_U);

162             Util.hitKeys(robot, KeyEvent.VK_W);
163             robot.waitForIdle();
164 
165             checkAction();
166 
167             Util.hitMnemonics(robot, KeyEvent.VK_U);

168             Util.hitKeys(robot, KeyEvent.VK_U);
169             robot.waitForIdle();
170 
171             checkAction();
172         } finally {
173             if (frame != null) SwingUtilities.invokeAndWait(() -&gt; frame.dispose());
174         }
175     }
176 }
</pre>
</td>
<td>
<hr />
<pre>
104             actionRecieved = false;
105         } else {
106             throw new RuntimeException(&quot;Action has not been received&quot;);
107         }
108     }
109 
110     public static void main(String[] args) throws Throwable {
111         try {
112             Robot robot = new Robot();
113             robot.setAutoDelay(250);
114 
115             SwingUtilities.invokeAndWait(new Runnable() {
116 
117                 @Override
118                 public void run() {
119                     frame = new JFrame(&quot;Test&quot;);
120                     frame.setJMenuBar(createMenuBar());
121                     frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
122                     frame.pack();
123                     frame.setVisible(true);
<span class="line-added">124                     frame.toFront();</span>
125                 }
126             });
127 
128             robot.waitForIdle();
129 
130             Util.hitMnemonics(robot, KeyEvent.VK_D);
131             robot.waitForIdle();
132 
133             // Press the S key many times (should not cause an action peformed)
134             int TIMES = 5;
135             for (int i = 0; i &lt; TIMES; i++) {
136                 Util.hitKeys(robot, KeyEvent.VK_S);
137             }
138             robot.waitForIdle();
139 
140             // Unique menu items.
141             actionExpected = true;
142             Util.hitMnemonics(robot, KeyEvent.VK_U);
143 
<span class="line-added">144             robot.waitForIdle();</span>
145             robot.keyPress(KeyEvent.VK_S);
146             robot.keyRelease(KeyEvent.VK_S);
147             robot.waitForIdle();
148 
149             checkAction();
150 
151             Util.hitMnemonics(robot, KeyEvent.VK_U);
<span class="line-added">152             robot.waitForIdle();</span>
<span class="line-added">153 </span>
154             robot.keyPress(KeyEvent.VK_M);
155             robot.keyRelease(KeyEvent.VK_M);
156             robot.waitForIdle();
157 
158             checkAction();
159 
160             Util.hitMnemonics(robot, KeyEvent.VK_U);
<span class="line-added">161             robot.waitForIdle();</span>
162             Util.hitKeys(robot, KeyEvent.VK_T);
163             robot.waitForIdle();
164 
165             checkAction();
<span class="line-added">166 </span>
167             Util.hitMnemonics(robot, KeyEvent.VK_U);
<span class="line-added">168             robot.waitForIdle();</span>
169             Util.hitKeys(robot, KeyEvent.VK_W);
170             robot.waitForIdle();
171 
172             checkAction();
173 
174             Util.hitMnemonics(robot, KeyEvent.VK_U);
<span class="line-added">175             robot.waitForIdle();</span>
176             Util.hitKeys(robot, KeyEvent.VK_U);
177             robot.waitForIdle();
178 
179             checkAction();
180         } finally {
181             if (frame != null) SwingUtilities.invokeAndWait(() -&gt; frame.dispose());
182         }
183     }
184 }
</pre>
</td>
</tr>
</table>
<center><a href="../../../../java/util/regex/GraphemeTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../JMenuItem/8139169/ScreenMenuBarInputTwice.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>