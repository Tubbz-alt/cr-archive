<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/common/MakeBase.gmk</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="JavaCompilation.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="NativeCompilation.gmk.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/common/MakeBase.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 #
<span class="line-modified">  2 # Copyright (c) 2011, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4 #
  5 # This code is free software; you can redistribute it and/or modify it
  6 # under the terms of the GNU General Public License version 2 only, as
  7 # published by the Free Software Foundation.  Oracle designates this
  8 # particular file as subject to the &quot;Classpath&quot; exception as provided
  9 # by Oracle in the LICENSE file that accompanied this code.
 10 #
 11 # This code is distributed in the hope that it will be useful, but WITHOUT
 12 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14 # version 2 for more details (a copy is included in the LICENSE file that
 15 # accompanied this code).
 16 #
 17 # You should have received a copy of the GNU General Public License version
 18 # 2 along with this work; if not, write to the Free Software Foundation,
 19 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20 #
 21 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22 # or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
448 # If files with spaces are anticipated, use ShellFindFiles directly.
449 #
450 # $1 - Directories to start search in.
451 # $2 - Optional search patterns, empty means find everything. Patterns use
452 #      standard file wildcards (* and ?) and should not be quoted.
453 ifeq ($(DISABLE_CACHE_FIND), true)
454   FindFiles = $(DirectFindFiles)
455 else
456   FindFiles = $(CacheFindFiles)
457 endif
458 
459 ################################################################################
460 # FixPath
461 #
462 # On Windows, converts a path from cygwin/unix style (e.g. /bin/foo) into
463 # &quot;mixed mode&quot; (e.g. c:/cygwin/bin/foo). On other platforms, return the path
464 # unchanged.
465 # This is normally not needed since we use the FIXPATH prefix for command lines,
466 # but might be needed in certain circumstances.
467 ifeq ($(call isTargetOs, windows), true)
<span class="line-modified">468   FixPath = \</span>




469       $(shell $(CYGPATH) -m $1)

470 else
471   FixPath = \
472       $1
473 endif
474 
475 ################################################################################
476 # FixPathList
477 #
478 # On Windows, converts a cygwin/unix style path list (colon-separated) into
479 # the native format (mixed mode, semicolon-separated). On other platforms,
480 # return the path list unchanged.
481 ################################################################################
482 ifeq ($(call isTargetOs, windows), true)
483   FixPathList = \
484       $(subst @,$(SPACE),$(subst $(SPACE),;,$(foreach entry,$(subst :,$(SPACE),\
485       $(subst $(SPACE),@,$(strip $1))),$(call FixPath, $(entry)))))
486 else
487   FixPathList = \
488       $1
489 endif
</pre>
</td>
<td>
<hr />
<pre>
  1 #
<span class="line-modified">  2 # Copyright (c) 2011, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4 #
  5 # This code is free software; you can redistribute it and/or modify it
  6 # under the terms of the GNU General Public License version 2 only, as
  7 # published by the Free Software Foundation.  Oracle designates this
  8 # particular file as subject to the &quot;Classpath&quot; exception as provided
  9 # by Oracle in the LICENSE file that accompanied this code.
 10 #
 11 # This code is distributed in the hope that it will be useful, but WITHOUT
 12 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14 # version 2 for more details (a copy is included in the LICENSE file that
 15 # accompanied this code).
 16 #
 17 # You should have received a copy of the GNU General Public License version
 18 # 2 along with this work; if not, write to the Free Software Foundation,
 19 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20 #
 21 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22 # or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
448 # If files with spaces are anticipated, use ShellFindFiles directly.
449 #
450 # $1 - Directories to start search in.
451 # $2 - Optional search patterns, empty means find everything. Patterns use
452 #      standard file wildcards (* and ?) and should not be quoted.
453 ifeq ($(DISABLE_CACHE_FIND), true)
454   FindFiles = $(DirectFindFiles)
455 else
456   FindFiles = $(CacheFindFiles)
457 endif
458 
459 ################################################################################
460 # FixPath
461 #
462 # On Windows, converts a path from cygwin/unix style (e.g. /bin/foo) into
463 # &quot;mixed mode&quot; (e.g. c:/cygwin/bin/foo). On other platforms, return the path
464 # unchanged.
465 # This is normally not needed since we use the FIXPATH prefix for command lines,
466 # but might be needed in certain circumstances.
467 ifeq ($(call isTargetOs, windows), true)
<span class="line-modified">468   ifeq ($(call isBuildOsEnv, windows.wsl), true)</span>
<span class="line-added">469     FixPath = \</span>
<span class="line-added">470       $(shell $(WSLPATH) -m $1)</span>
<span class="line-added">471   else</span>
<span class="line-added">472     FixPath = \</span>
473       $(shell $(CYGPATH) -m $1)
<span class="line-added">474   endif</span>
475 else
476   FixPath = \
477       $1
478 endif
479 
480 ################################################################################
481 # FixPathList
482 #
483 # On Windows, converts a cygwin/unix style path list (colon-separated) into
484 # the native format (mixed mode, semicolon-separated). On other platforms,
485 # return the path list unchanged.
486 ################################################################################
487 ifeq ($(call isTargetOs, windows), true)
488   FixPathList = \
489       $(subst @,$(SPACE),$(subst $(SPACE),;,$(foreach entry,$(subst :,$(SPACE),\
490       $(subst $(SPACE),@,$(strip $1))),$(call FixPath, $(entry)))))
491 else
492   FixPathList = \
493       $1
494 endif
</pre>
</td>
</tr>
</table>
<center><a href="JavaCompilation.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="NativeCompilation.gmk.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>