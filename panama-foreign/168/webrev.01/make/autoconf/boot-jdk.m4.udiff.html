<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff make/autoconf/boot-jdk.m4</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="basic_tools.m4.udiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="flags-cflags.m4.udiff.html" target="_top">next &gt;</a></center>    <h2>make/autoconf/boot-jdk.m4</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -73,11 +73,11 @@</span>
            AC_MSG_NOTICE([(This might be an JRE instead of an JDK)])
            BOOT_JDK_FOUND=no
          else
            # Oh, this is looking good! We probably have found a proper JDK. Is it the correct version?
            # Additional [] needed to keep m4 from mangling shell constructs.
<span class="udiff-line-modified-removed">-           [ BOOT_JDK_VERSION=`&quot;$BOOT_JDK/bin/java$EXE_SUFFIX&quot; $USER_BOOT_JDK_OPTIONS -version 2&gt;&amp;1 | $AWK &#39;/version \&quot;[0-9\._\-a-zA-Z]+\&quot;/{print $ 0; exit;}&#39;` ]</span>
<span class="udiff-line-modified-added">+           [ BOOT_JDK_VERSION=`&quot;$BOOT_JDK/bin/java$EXE_SUFFIX&quot; $USER_BOOT_JDK_OPTIONS -version 2&gt;&amp;1 | $AWK &#39;/version \&quot;[0-9a-zA-Z\._\-]+\&quot;/{print $ 0; exit;}&#39;` ]</span>
            if [ [[ &quot;$BOOT_JDK_VERSION&quot; =~ &quot;Picked up&quot; ]] ]; then
              AC_MSG_NOTICE([You have _JAVA_OPTIONS or JAVA_TOOL_OPTIONS set. This can mess up the build. Please use --with-boot-jdk-jvmargs instead.])
              AC_MSG_NOTICE([Java reports: &quot;$BOOT_JDK_VERSION&quot;.])
              AC_MSG_ERROR([Cannot continue])
            fi
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -390,12 +390,13 @@</span>
      if test ! -x $JJS; then
        AC_MSG_RESULT(not found)
        JJS=&quot;&quot;
        AC_MSG_NOTICE([Cannot use pandoc without jjs])
        ENABLE_PANDOC=false
<span class="udiff-line-added">+     else</span>
<span class="udiff-line-added">+       AC_MSG_RESULT(ok)</span>
      fi
<span class="udiff-line-removed">-     AC_MSG_RESULT(ok)</span>
      AC_SUBST(JJS)
    ])
  ])
  
  AC_DEFUN_ONCE([BOOTJDK_SETUP_BOOT_JDK_ARGUMENTS],
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -529,11 +530,11 @@</span>
          AC_MSG_NOTICE([(This might be a JRE instead of an JDK)])
          BUILD_JDK_FOUND=no
        else
          # Oh, this is looking good! We probably have found a proper JDK. Is it the correct version?
          # Additional [] needed to keep m4 from mangling shell constructs.
<span class="udiff-line-modified-removed">-         [ BUILD_JDK_VERSION=`&quot;$BUILD_JDK/bin/java&quot; -version 2&gt;&amp;1 | $AWK &#39;/version \&quot;[0-9\._\-a-zA-Z]+\&quot;/{print $ 0; exit;}&#39;` ]</span>
<span class="udiff-line-modified-added">+         [ BUILD_JDK_VERSION=`&quot;$BUILD_JDK/bin/java&quot; -version 2&gt;&amp;1 | $AWK &#39;/version \&quot;[0-9a-zA-Z\._\-]+\&quot;/{print $ 0; exit;}&#39;` ]</span>
  
          # Extra M4 quote needed to protect [] in grep expression.
          [FOUND_CORRECT_VERSION=`echo $BUILD_JDK_VERSION | $EGREP &quot;\&quot;$VERSION_FEATURE([\.+-].*)?\&quot;&quot;`]
          if test &quot;x$FOUND_CORRECT_VERSION&quot; = x; then
            AC_MSG_NOTICE([Potential Build JDK found at $BUILD_JDK is incorrect JDK version ($BUILD_JDK_VERSION); ignoring])
</pre>
<center><a href="basic_tools.m4.udiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="flags-cflags.m4.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>