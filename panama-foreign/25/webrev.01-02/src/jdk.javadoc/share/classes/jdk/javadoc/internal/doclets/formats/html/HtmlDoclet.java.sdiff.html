<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/HtmlDoclet.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="HtmlConfiguration.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="HtmlDocletWriter.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/HtmlDoclet.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
133             SourceToHTMLConverter.convertRoot(configuration,
134                 docEnv, DocPaths.SOURCE_OUTPUT);
135         }
136         // Modules with no documented classes may be specified on the
137         // command line to specify a service provider, allow these.
138         if (configuration.getSpecifiedModuleElements().isEmpty() &amp;&amp;
139                 configuration.topFile.isEmpty()) {
140             messages.error(&quot;doclet.No_Non_Deprecated_Classes_To_Document&quot;);
141             return;
142         }
143         boolean nodeprecated = options.noDeprecated();
144         performCopy(options.helpFile());
145         performCopy(options.stylesheetFile());
146         for (String stylesheet : options.additionalStylesheets()) {
147             performCopy(stylesheet);
148         }
149         // do early to reduce memory footprint
150         if (options.classUse()) {
151             ClassUseWriter.generate(configuration, classtree);
152         }
<span class="line-removed">153         IndexBuilder indexbuilder = new IndexBuilder(configuration, nodeprecated);</span>
154 
155         if (options.createTree()) {
156             TreeWriter.generate(configuration, classtree);
157         }
158 
159         if (!(options.noDeprecatedList() || nodeprecated)) {
160             DeprecatedListWriter.generate(configuration);
161         }
162 
163         if (options.createOverview()) {
164             if (configuration.showModules) {
165                 ModuleIndexWriter.generate(configuration);
166             } else {
167                 PackageIndexWriter.generate(configuration);
168             }
169         }
170 
171         if (options.createIndex()) {

172             configuration.buildSearchTagIndex();
173             if (options.splitIndex()) {
<span class="line-modified">174                 SplitIndexWriter.generate(configuration, indexbuilder);</span>
175             } else {
<span class="line-modified">176                 SingleIndexWriter.generate(configuration, indexbuilder);</span>
177             }
178             AllClassesIndexWriter.generate(configuration,
179                     new IndexBuilder(configuration, nodeprecated, true));
180             if (!configuration.packages.isEmpty()) {
181                 AllPackagesIndexWriter.generate(configuration);
182             }
183             SystemPropertiesWriter.generate(configuration);
184         }
185 
186         if (options.createOverview()) {
187             IndexRedirectWriter.generate(configuration, DocPaths.OVERVIEW_SUMMARY, DocPaths.INDEX);
188         } else {
189             IndexRedirectWriter.generate(configuration);
190         }
191 
192         if (options.helpFile().isEmpty() &amp;&amp; !options.noHelp()) {
193             HelpWriter.generate(configuration);
194         }
195         // If a stylesheet file is not specified, copy the default stylesheet
196         // and replace newline with platform-specific newline.
</pre>
</td>
<td>
<hr />
<pre>
133             SourceToHTMLConverter.convertRoot(configuration,
134                 docEnv, DocPaths.SOURCE_OUTPUT);
135         }
136         // Modules with no documented classes may be specified on the
137         // command line to specify a service provider, allow these.
138         if (configuration.getSpecifiedModuleElements().isEmpty() &amp;&amp;
139                 configuration.topFile.isEmpty()) {
140             messages.error(&quot;doclet.No_Non_Deprecated_Classes_To_Document&quot;);
141             return;
142         }
143         boolean nodeprecated = options.noDeprecated();
144         performCopy(options.helpFile());
145         performCopy(options.stylesheetFile());
146         for (String stylesheet : options.additionalStylesheets()) {
147             performCopy(stylesheet);
148         }
149         // do early to reduce memory footprint
150         if (options.classUse()) {
151             ClassUseWriter.generate(configuration, classtree);
152         }

153 
154         if (options.createTree()) {
155             TreeWriter.generate(configuration, classtree);
156         }
157 
158         if (!(options.noDeprecatedList() || nodeprecated)) {
159             DeprecatedListWriter.generate(configuration);
160         }
161 
162         if (options.createOverview()) {
163             if (configuration.showModules) {
164                 ModuleIndexWriter.generate(configuration);
165             } else {
166                 PackageIndexWriter.generate(configuration);
167             }
168         }
169 
170         if (options.createIndex()) {
<span class="line-added">171             IndexBuilder indexBuilder = new IndexBuilder(configuration, nodeprecated);</span>
172             configuration.buildSearchTagIndex();
173             if (options.splitIndex()) {
<span class="line-modified">174                 SplitIndexWriter.generate(configuration, indexBuilder);</span>
175             } else {
<span class="line-modified">176                 SingleIndexWriter.generate(configuration, indexBuilder);</span>
177             }
178             AllClassesIndexWriter.generate(configuration,
179                     new IndexBuilder(configuration, nodeprecated, true));
180             if (!configuration.packages.isEmpty()) {
181                 AllPackagesIndexWriter.generate(configuration);
182             }
183             SystemPropertiesWriter.generate(configuration);
184         }
185 
186         if (options.createOverview()) {
187             IndexRedirectWriter.generate(configuration, DocPaths.OVERVIEW_SUMMARY, DocPaths.INDEX);
188         } else {
189             IndexRedirectWriter.generate(configuration);
190         }
191 
192         if (options.helpFile().isEmpty() &amp;&amp; !options.noHelp()) {
193             HelpWriter.generate(configuration);
194         }
195         // If a stylesheet file is not specified, copy the default stylesheet
196         // and replace newline with platform-specific newline.
</pre>
</td>
</tr>
</table>
<center><a href="HtmlConfiguration.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="HtmlDocletWriter.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>