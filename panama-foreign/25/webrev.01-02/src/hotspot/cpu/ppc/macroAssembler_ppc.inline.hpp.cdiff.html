<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/cpu/ppc/macroAssembler_ppc.inline.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="macroAssembler_ppc.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="ppc.ad.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/cpu/ppc/macroAssembler_ppc.inline.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 33,10 ***</span>
<span class="line-new-header">--- 33,11 ---</span>
  #include &quot;gc/shared/barrierSet.hpp&quot;
  #include &quot;gc/shared/barrierSetAssembler.hpp&quot;
  #include &quot;oops/accessDecorators.hpp&quot;
  #include &quot;oops/compressedOops.hpp&quot;
  #include &quot;runtime/safepointMechanism.hpp&quot;
<span class="line-added">+ #include &quot;utilities/powerOfTwo.hpp&quot;</span>
  
  inline bool MacroAssembler::is_ld_largeoffset(address a) {
    const int inst1 = *(int *)a;
    const int inst2 = *(int *)(a+4);
    return (is_ld(inst1)) ||
</pre>
<hr />
<pre>
<span class="line-old-header">*** 54,11 ***</span>
      return (inv_d1_field(inst1) &lt;&lt; 16) + inv_d1_field(inst2);
    }
  }
  
  inline void MacroAssembler::round_to(Register r, int modulus) {
<span class="line-modified">!   assert(is_power_of_2_long((jlong)modulus), &quot;must be power of 2&quot;);</span>
    addi(r, r, modulus-1);
    clrrdi(r, r, log2_long((jlong)modulus));
  }
  
  // Move register if destination register and target register are different.
<span class="line-new-header">--- 55,11 ---</span>
      return (inv_d1_field(inst1) &lt;&lt; 16) + inv_d1_field(inst2);
    }
  }
  
  inline void MacroAssembler::round_to(Register r, int modulus) {
<span class="line-modified">!   assert(is_power_of_2((jlong)modulus), &quot;must be power of 2&quot;);</span>
    addi(r, r, modulus-1);
    clrrdi(r, r, log2_long((jlong)modulus));
  }
  
  // Move register if destination register and target register are different.
</pre>
<center><a href="macroAssembler_ppc.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="ppc.ad.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>