<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/ClassWriterImpl.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="AnnotationTypeFieldWriterImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="HtmlConfiguration.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/ClassWriterImpl.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 63  * Generate the Class Information Page.
 64  *
 65  *  &lt;p&gt;&lt;b&gt;This is NOT part of any supported API.
 66  *  If you write code that depends on this, you do so at your own risk.
 67  *  This code and its internal interfaces are subject to change or
 68  *  deletion without notice.&lt;/b&gt;
 69  *
 70  * @see javax.lang.model.element.TypeElement
 71  * @see java.util.Collections
 72  * @see java.util.List
 73  * @see java.util.ArrayList
 74  * @see java.util.HashMap
 75  */
 76 public class ClassWriterImpl extends SubWriterHolderWriter implements ClassWriter {
 77 
 78     private static final Set&lt;String&gt; suppressSubtypesSet
 79             = Set.of(&quot;java.lang.Object&quot;,
 80                      &quot;org.omg.CORBA.Object&quot;);
 81 
 82     private static final Set&lt;String&gt; suppressImplementingSet
<span class="line-modified"> 83             = Set.of( &quot;java.lang.Cloneable&quot;,</span>
<span class="line-modified"> 84                     &quot;java.lang.constant.Constable&quot;,</span>
<span class="line-modified"> 85                     &quot;java.lang.constant.ConstantDesc&quot;,</span>
<span class="line-modified"> 86                     &quot;java.io.Serializable&quot;);</span>
 87 
 88     protected final TypeElement typeElement;
 89 
 90     protected final ClassTree classtree;
 91 
 92     private final Navigation navBar;
 93 
 94     /**
 95      * @param configuration the configuration data for the doclet
 96      * @param typeElement the class being documented.
 97      * @param classTree the class tree for the given class.
 98      */
 99     public ClassWriterImpl(HtmlConfiguration configuration, TypeElement typeElement,
100                            ClassTree classTree) {
101         super(configuration, configuration.docPaths.forClass(typeElement));
102         this.typeElement = typeElement;
103         configuration.currentTypeElement = typeElement;
104         this.classtree = classTree;
105         this.navBar = new Navigation(typeElement, configuration, PageMode.CLASS, path);
106     }
</pre>
<hr />
<pre>
240                     isFirst = false;
241                 } else {
242                     pre.add(&quot;, &quot;);
243                 }
244                 Content link = getLink(new LinkInfoImpl(configuration,
245                                                         LinkInfoImpl.Kind.CLASS_SIGNATURE_PARENT_NAME,
246                                                         type));
247                 pre.add(link);
248             }
249         }
250         classInfoTree.add(pre);
251     }
252 
253     @SuppressWarnings(&quot;preview&quot;)
254     private Content getRecordComponents(TypeElement typeElem) {
255         Content content = new ContentBuilder();
256         content.add(&quot;(&quot;);
257         String sep = &quot;&quot;;
258         for (RecordComponentElement e : typeElement.getRecordComponents()) {
259             content.add(sep);
<span class="line-modified">260             getAnnotations(e.getAnnotationMirrors(), false).stream()</span>
261                     .forEach(a -&gt; { content.add(a); content.add(&quot; &quot;); });
262             Content link = getLink(new LinkInfoImpl(configuration, LinkInfoImpl.Kind.RECORD_COMPONENT,
263                     e.asType()));
264             content.add(link);
265             content.add(Entity.NO_BREAK_SPACE);
266             content.add(e.getSimpleName());
267             sep = &quot;, &quot;;
268         }
269         content.add(&quot;)&quot;);
270         return content;
271     }
272 
273     @Override
274     public void addClassDescription(Content classInfoTree) {
275         if (!options.noComment()) {
276             // generate documentation for the class.
277             if (!utils.getFullBody(typeElement).isEmpty()) {
278                 addInlineComment(typeElement, classInfoTree);
279             }
280         }
</pre>
</td>
<td>
<hr />
<pre>
 63  * Generate the Class Information Page.
 64  *
 65  *  &lt;p&gt;&lt;b&gt;This is NOT part of any supported API.
 66  *  If you write code that depends on this, you do so at your own risk.
 67  *  This code and its internal interfaces are subject to change or
 68  *  deletion without notice.&lt;/b&gt;
 69  *
 70  * @see javax.lang.model.element.TypeElement
 71  * @see java.util.Collections
 72  * @see java.util.List
 73  * @see java.util.ArrayList
 74  * @see java.util.HashMap
 75  */
 76 public class ClassWriterImpl extends SubWriterHolderWriter implements ClassWriter {
 77 
 78     private static final Set&lt;String&gt; suppressSubtypesSet
 79             = Set.of(&quot;java.lang.Object&quot;,
 80                      &quot;org.omg.CORBA.Object&quot;);
 81 
 82     private static final Set&lt;String&gt; suppressImplementingSet
<span class="line-modified"> 83             = Set.of(&quot;java.lang.Cloneable&quot;,</span>
<span class="line-modified"> 84                      &quot;java.lang.constant.Constable&quot;,</span>
<span class="line-modified"> 85                      &quot;java.lang.constant.ConstantDesc&quot;,</span>
<span class="line-modified"> 86                      &quot;java.io.Serializable&quot;);</span>
 87 
 88     protected final TypeElement typeElement;
 89 
 90     protected final ClassTree classtree;
 91 
 92     private final Navigation navBar;
 93 
 94     /**
 95      * @param configuration the configuration data for the doclet
 96      * @param typeElement the class being documented.
 97      * @param classTree the class tree for the given class.
 98      */
 99     public ClassWriterImpl(HtmlConfiguration configuration, TypeElement typeElement,
100                            ClassTree classTree) {
101         super(configuration, configuration.docPaths.forClass(typeElement));
102         this.typeElement = typeElement;
103         configuration.currentTypeElement = typeElement;
104         this.classtree = classTree;
105         this.navBar = new Navigation(typeElement, configuration, PageMode.CLASS, path);
106     }
</pre>
<hr />
<pre>
240                     isFirst = false;
241                 } else {
242                     pre.add(&quot;, &quot;);
243                 }
244                 Content link = getLink(new LinkInfoImpl(configuration,
245                                                         LinkInfoImpl.Kind.CLASS_SIGNATURE_PARENT_NAME,
246                                                         type));
247                 pre.add(link);
248             }
249         }
250         classInfoTree.add(pre);
251     }
252 
253     @SuppressWarnings(&quot;preview&quot;)
254     private Content getRecordComponents(TypeElement typeElem) {
255         Content content = new ContentBuilder();
256         content.add(&quot;(&quot;);
257         String sep = &quot;&quot;;
258         for (RecordComponentElement e : typeElement.getRecordComponents()) {
259             content.add(sep);
<span class="line-modified">260             getAnnotations(e.getAnnotationMirrors(), false)</span>
261                     .forEach(a -&gt; { content.add(a); content.add(&quot; &quot;); });
262             Content link = getLink(new LinkInfoImpl(configuration, LinkInfoImpl.Kind.RECORD_COMPONENT,
263                     e.asType()));
264             content.add(link);
265             content.add(Entity.NO_BREAK_SPACE);
266             content.add(e.getSimpleName());
267             sep = &quot;, &quot;;
268         }
269         content.add(&quot;)&quot;);
270         return content;
271     }
272 
273     @Override
274     public void addClassDescription(Content classInfoTree) {
275         if (!options.noComment()) {
276             // generate documentation for the class.
277             if (!utils.getFullBody(typeElement).isEmpty()) {
278                 addInlineComment(typeElement, classInfoTree);
279             }
280         }
</pre>
</td>
</tr>
</table>
<center><a href="AnnotationTypeFieldWriterImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="HtmlConfiguration.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>