<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/share/opto/loopopts.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="loopnode.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="macro.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/opto/loopopts.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 38,10 ***</span>
<span class="line-new-header">--- 38,11 ---</span>
  #include &quot;opto/mulnode.hpp&quot;
  #include &quot;opto/movenode.hpp&quot;
  #include &quot;opto/opaquenode.hpp&quot;
  #include &quot;opto/rootnode.hpp&quot;
  #include &quot;opto/subnode.hpp&quot;
<span class="line-added">+ #include &quot;opto/subtypenode.hpp&quot;</span>
  #include &quot;utilities/macros.hpp&quot;
  
  //=============================================================================
  //------------------------------split_thru_phi---------------------------------
  // Split Node &#39;n&#39; through merge point if there is enough win.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 654,10 ***</span>
<span class="line-new-header">--- 655,13 ---</span>
    if (bol-&gt;Opcode() == Op_Opaque4) {
      return NULL; // Ignore loop predicate checks (the Opaque4 ensures they will go away)
    }
    assert(bol-&gt;Opcode() == Op_Bool, &quot;Unexpected node&quot;);
    int cmp_op = bol-&gt;in(1)-&gt;Opcode();
<span class="line-added">+   if (cmp_op == Op_SubTypeCheck) { // SubTypeCheck expansion expects an IfNode</span>
<span class="line-added">+     return NULL;</span>
<span class="line-added">+   }</span>
    // It is expensive to generate flags from a float compare.
    // Avoid duplicated float compare.
    if (phis &gt; 1 &amp;&amp; (cmp_op == Op_CmpF || cmp_op == Op_CmpD)) return NULL;
  
    float infrequent_prob = PROB_UNLIKELY_MAG(3);
</pre>
<center><a href="loopnode.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="macro.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>