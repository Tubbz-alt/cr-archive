<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/autoconf/basics.m4</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="../RunTestsPrebuilt.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="configure.ac.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/autoconf/basics.m4</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
   1 #
<span class="line-modified">   2 # Copyright (c) 2011, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   3 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4 #
   5 # This code is free software; you can redistribute it and/or modify it
   6 # under the terms of the GNU General Public License version 2 only, as
   7 # published by the Free Software Foundation.  Oracle designates this
   8 # particular file as subject to the &quot;Classpath&quot; exception as provided
   9 # by Oracle in the LICENSE file that accompanied this code.
  10 #
  11 # This code is distributed in the hope that it will be useful, but WITHOUT
  12 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14 # version 2 for more details (a copy is included in the LICENSE file that
  15 # accompanied this code).
  16 #
  17 # You should have received a copy of the GNU General Public License version
  18 # 2 along with this work; if not, write to the Free Software Foundation,
  19 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20 #
  21 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22 # or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 401 ###############################################################################
 402 # Register a --enable argument but mark it as deprecated
 403 # $1: The name of the with argument to deprecate, not including --enable-
 404 # $2: The name of the argument to deprecate, in shell variable style (i.e. with _ instead of -)
 405 # $3: Messages to user.
 406 AC_DEFUN([BASIC_DEPRECATED_ARG_ENABLE],
 407 [
 408   AC_ARG_ENABLE($1, [AS_HELP_STRING([--enable-$1],
 409       [Deprecated. Option is kept for backwards compatibility and is ignored])])
 410   if test &quot;x$enable_$2&quot; != x; then
 411     AC_MSG_WARN([Option --enable-$1 is deprecated and will be ignored.])
 412 
 413     if test &quot;x$3&quot; != x; then
 414       AC_MSG_WARN([$3])
 415     fi
 416 
 417   fi
 418 ])
 419 
 420 ###############################################################################















 421 AC_DEFUN_ONCE([BASIC_INIT],
 422 [
 423   # Save the original command line. This is passed to us by the wrapper configure script.
 424   AC_SUBST(CONFIGURE_COMMAND_LINE)
 425   # AUTOCONF might be set in the environment by the user. Preserve for &quot;make reconfigure&quot;.
 426   AC_SUBST(AUTOCONF)
 427   # Save the path variable before it gets changed
 428   ORIGINAL_PATH=&quot;$PATH&quot;
 429   AC_SUBST(ORIGINAL_PATH)
 430   DATE_WHEN_CONFIGURED=`date`
 431   AC_SUBST(DATE_WHEN_CONFIGURED)
 432   AC_MSG_NOTICE([Configuration created at $DATE_WHEN_CONFIGURED.])
 433 ])
 434 
 435 ###############################################################################
 436 # Test that variable $1 denoting a program is not empty. If empty, exit with an error.
 437 # $1: variable to check
 438 AC_DEFUN([BASIC_CHECK_NONEMPTY],
 439 [
 440   if test &quot;x[$]$1&quot; = x; then
</pre>
</td>
<td>
<hr />
<pre>
   1 #
<span class="line-modified">   2 # Copyright (c) 2011, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   3 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4 #
   5 # This code is free software; you can redistribute it and/or modify it
   6 # under the terms of the GNU General Public License version 2 only, as
   7 # published by the Free Software Foundation.  Oracle designates this
   8 # particular file as subject to the &quot;Classpath&quot; exception as provided
   9 # by Oracle in the LICENSE file that accompanied this code.
  10 #
  11 # This code is distributed in the hope that it will be useful, but WITHOUT
  12 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14 # version 2 for more details (a copy is included in the LICENSE file that
  15 # accompanied this code).
  16 #
  17 # You should have received a copy of the GNU General Public License version
  18 # 2 along with this work; if not, write to the Free Software Foundation,
  19 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20 #
  21 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22 # or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 401 ###############################################################################
 402 # Register a --enable argument but mark it as deprecated
 403 # $1: The name of the with argument to deprecate, not including --enable-
 404 # $2: The name of the argument to deprecate, in shell variable style (i.e. with _ instead of -)
 405 # $3: Messages to user.
 406 AC_DEFUN([BASIC_DEPRECATED_ARG_ENABLE],
 407 [
 408   AC_ARG_ENABLE($1, [AS_HELP_STRING([--enable-$1],
 409       [Deprecated. Option is kept for backwards compatibility and is ignored])])
 410   if test &quot;x$enable_$2&quot; != x; then
 411     AC_MSG_WARN([Option --enable-$1 is deprecated and will be ignored.])
 412 
 413     if test &quot;x$3&quot; != x; then
 414       AC_MSG_WARN([$3])
 415     fi
 416 
 417   fi
 418 ])
 419 
 420 ###############################################################################
<span class="line-added"> 421 # Register an --enable-* argument as an alias for another argument.</span>
<span class="line-added"> 422 # $1: The name of the enable argument for the new alias, not including --enable-</span>
<span class="line-added"> 423 # $2: The full name of the argument of which to make this an alias, including</span>
<span class="line-added"> 424 #     --enable- or --with-.</span>
<span class="line-added"> 425 AC_DEFUN([BASIC_ALIASED_ARG_ENABLE],</span>
<span class="line-added"> 426 [</span>
<span class="line-added"> 427   AC_ARG_ENABLE($1, [AS_HELP_STRING([--enable-$1], [alias for $2])], [</span>
<span class="line-added"> 428     # Use m4 to strip initial -- from target ($2), convert - to _, prefix enable_</span>
<span class="line-added"> 429     # to new alias name, and create a shell variable assignment,</span>
<span class="line-added"> 430     # e.g.: enable_old_style=&quot;$enable_new_alias&quot;</span>
<span class="line-added"> 431     translit(patsubst($2, --), -, _)=&quot;$[enable_]translit($1, -, _)&quot;</span>
<span class="line-added"> 432   ])</span>
<span class="line-added"> 433 ])</span>
<span class="line-added"> 434 </span>
<span class="line-added"> 435 ###############################################################################</span>
 436 AC_DEFUN_ONCE([BASIC_INIT],
 437 [
 438   # Save the original command line. This is passed to us by the wrapper configure script.
 439   AC_SUBST(CONFIGURE_COMMAND_LINE)
 440   # AUTOCONF might be set in the environment by the user. Preserve for &quot;make reconfigure&quot;.
 441   AC_SUBST(AUTOCONF)
 442   # Save the path variable before it gets changed
 443   ORIGINAL_PATH=&quot;$PATH&quot;
 444   AC_SUBST(ORIGINAL_PATH)
 445   DATE_WHEN_CONFIGURED=`date`
 446   AC_SUBST(DATE_WHEN_CONFIGURED)
 447   AC_MSG_NOTICE([Configuration created at $DATE_WHEN_CONFIGURED.])
 448 ])
 449 
 450 ###############################################################################
 451 # Test that variable $1 denoting a program is not empty. If empty, exit with an error.
 452 # $1: variable to check
 453 AC_DEFUN([BASIC_CHECK_NONEMPTY],
 454 [
 455   if test &quot;x[$]$1&quot; = x; then
</pre>
</td>
</tr>
</table>
<center><a href="../RunTestsPrebuilt.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="configure.ac.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>