<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old make/autoconf/spec.gmk.in</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
  <body>
    <pre>
  1 #
  2 # Copyright (c) 2011, 2020, Oracle and/or its affiliates. All rights reserved.
  3 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4 #
  5 # This code is free software; you can redistribute it and/or modify it
  6 # under the terms of the GNU General Public License version 2 only, as
  7 # published by the Free Software Foundation.  Oracle designates this
  8 # particular file as subject to the &quot;Classpath&quot; exception as provided
  9 # by Oracle in the LICENSE file that accompanied this code.
 10 #
 11 # This code is distributed in the hope that it will be useful, but WITHOUT
 12 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14 # version 2 for more details (a copy is included in the LICENSE file that
 15 # accompanied this code).
 16 #
 17 # You should have received a copy of the GNU General Public License version
 18 # 2 along with this work; if not, write to the Free Software Foundation,
 19 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20 #
 21 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22 # or visit www.oracle.com if you need additional information or have any
 23 # questions.
 24 #
 25 
 26 # Configured @DATE_WHEN_CONFIGURED@ to build
 27 # for target system @OPENJDK_TARGET_OS@-@OPENJDK_TARGET_CPU@
 28 #   (called @OPENJDK_TARGET_AUTOCONF_NAME@ by autoconf)
 29 # on build system @OPENJDK_BUILD_OS@-@OPENJDK_BUILD_CPU@
 30 #   (called @OPENJDK_BUILD_AUTOCONF_NAME@ by autoconf)
 31 # using &#39;configure @CONFIGURE_COMMAND_LINE@&#39;
 32 
 33 # The command line given to configure.
 34 CONFIGURE_COMMAND_LINE:=@CONFIGURE_COMMAND_LINE@
 35 # The current directory when configure was run
 36 CONFIGURE_START_DIR:=@CONFIGURE_START_DIR@
 37 
 38 # A self-referential reference to this file.
 39 SPEC:=@SPEC@
 40 
 41 # Path to autoconf if overriden by the user, to be used by &quot;make reconfigure&quot;
 42 AUTOCONF := @AUTOCONF@
 43 
 44 # SPACE and COMMA are defined in MakeBase.gmk, but they are also used in
 45 # some definitions here, and are needed if MakeBase.gmk is not included before
 46 # this file.
 47 X:=
 48 SPACE:=$(X) $(X)
 49 COMMA:=,
 50 
 51 # What make to use for main processing, after bootstrapping top-level Makefile.
 52 MAKE := @MAKE@
 53 
 54 # Make sure all shell commands are executed with the C locale
 55 export LC_ALL := C
 56 
 57 # The default make arguments
 58 MAKE_ARGS = $(MAKE_LOG_FLAGS) -r -R -I $(TOPDIR)/make/common SPEC=$(SPEC) \
 59     MAKE_LOG_FLAGS=&quot;$(MAKE_LOG_FLAGS)&quot; $(MAKE_LOG_VARS)
 60 
 61 OUTPUT_SYNC_SUPPORTED:=@OUTPUT_SYNC_SUPPORTED@
 62 OUTPUT_SYNC:=@OUTPUT_SYNC@
 63 
 64 # Override the shell with bash
 65 BASH:=@BASH@
 66 BASH_ARGS:=@BASH_ARGS@
 67 SHELL:=$(BASH) $(BASH_ARGS)
 68 
 69 # The &quot;human readable&quot; name of this configuration
 70 CONF_NAME:=@CONF_NAME@
 71 
 72 # The built jdk will run in this target system.
 73 OPENJDK_TARGET_OS:=@OPENJDK_TARGET_OS@
 74 OPENJDK_TARGET_OS_TYPE:=@OPENJDK_TARGET_OS_TYPE@
 75 OPENJDK_TARGET_OS_ENV:=@OPENJDK_TARGET_OS_ENV@
 76 OPENJDK_TARGET_OS_UPPERCASE:=@OPENJDK_TARGET_OS_UPPERCASE@
 77 
 78 OPENJDK_TARGET_CPU:=@OPENJDK_TARGET_CPU@
 79 OPENJDK_TARGET_CPU_ARCH:=@OPENJDK_TARGET_CPU_ARCH@
 80 OPENJDK_TARGET_CPU_BITS:=@OPENJDK_TARGET_CPU_BITS@
 81 OPENJDK_TARGET_CPU_ENDIAN:=@OPENJDK_TARGET_CPU_ENDIAN@
 82 
 83 COMPILE_TYPE:=@COMPILE_TYPE@
 84 
 85 # Legacy support
 86 OPENJDK_TARGET_CPU_LEGACY:=@OPENJDK_TARGET_CPU_LEGACY@
 87 OPENJDK_TARGET_CPU_LEGACY_LIB:=@OPENJDK_TARGET_CPU_LEGACY_LIB@
 88 OPENJDK_TARGET_CPU_OSARCH:=@OPENJDK_TARGET_CPU_OSARCH@
 89 OPENJDK_TARGET_OS_INCLUDE_SUBDIR:=@OPENJDK_TARGET_OS_INCLUDE_SUBDIR@
 90 
 91 HOTSPOT_TARGET_OS := @HOTSPOT_TARGET_OS@
 92 HOTSPOT_TARGET_OS_TYPE := @HOTSPOT_TARGET_OS_TYPE@
 93 
 94 HOTSPOT_TARGET_CPU := @HOTSPOT_TARGET_CPU@
 95 HOTSPOT_TARGET_CPU_ARCH := @HOTSPOT_TARGET_CPU_ARCH@
 96 HOTSPOT_TARGET_CPU_DEFINE := @HOTSPOT_TARGET_CPU_DEFINE@
 97 
 98 OPENJDK_TARGET_BUNDLE_PLATFORM:=@OPENJDK_TARGET_BUNDLE_PLATFORM@
 99 JDK_ARCH_ABI_PROP_NAME := @JDK_ARCH_ABI_PROP_NAME@
100 
101 # We are building on this build system.
102 # When not cross-compiling, it is the same as the target.
103 OPENJDK_BUILD_OS:=@OPENJDK_BUILD_OS@
104 OPENJDK_BUILD_OS_TYPE:=@OPENJDK_BUILD_OS_TYPE@
105 OPENJDK_BUILD_OS_ENV:=@OPENJDK_BUILD_OS_ENV@
106 
107 OPENJDK_BUILD_CPU:=@OPENJDK_BUILD_CPU@
108 OPENJDK_BUILD_CPU_ARCH:=@OPENJDK_BUILD_CPU_ARCH@
109 OPENJDK_BUILD_CPU_BITS:=@OPENJDK_BUILD_CPU_BITS@
110 OPENJDK_BUILD_CPU_ENDIAN:=@OPENJDK_BUILD_CPU_ENDIAN@
111 
112 OPENJDK_BUILD_OS_INCLUDE_SUBDIR:=@OPENJDK_TARGET_OS_INCLUDE_SUBDIR@
113 
114 # Target platform value in ModuleTarget class file attribute.
115 OPENJDK_MODULE_TARGET_PLATFORM:=@OPENJDK_MODULE_TARGET_PLATFORM@
116 
117 # OS_* properties in release file
118 RELEASE_FILE_OS_NAME:=@RELEASE_FILE_OS_NAME@
119 RELEASE_FILE_OS_ARCH:=@RELEASE_FILE_OS_ARCH@
120 
121 SOURCE_DATE := @SOURCE_DATE@
122 ENABLE_REPRODUCIBLE_BUILD := @ENABLE_REPRODUCIBLE_BUILD@
123 
124 LIBM:=@LIBM@
125 LIBDL:=@LIBDL@
126 
127 ENABLE_LIBCLANG:=@ENABLE_LIBCLANG@
128 CLANG_LIB_PATH:=@CLANG_LIB_PATH@
129 CLANG_INCLUDE_PATH:=@CLANG_INCLUDE_PATH@
130 CLANG_INCLUDE_AUX_PATH:=@CLANG_INCLUDE_AUX_PATH@
131 CLANG_LIBNAME:=@CLANG_LIBNAME@
132 LIBCLANG_CPPFLAGS:=@LIBCLANG_CPPFLAGS@
133 LIBCLANG_LDFLAGS:=@LIBCLANG_LDFLAGS@
134 LIBCLANG_LIBS:=@LIBCLANG_LIBS@
135 
136 # colon or semicolon
137 PATH_SEP:=@PATH_SEP@
138 
139 # Save the original path before replacing it with the Visual Studio tools
140 ORIGINAL_PATH:=@ORIGINAL_PATH@
141 ifeq ($(OPENJDK_TARGET_OS), windows)
142   # On Windows, the Visual Studio toolchain needs the PATH to be adjusted
143   # to include Visual Studio tools (this needs to be in cygwin/msys style).
144   ifeq ($(OPENJDK_TARGET_OS_ENV), windows.wsl)
145     export FIXPATH_PATH:=@VS_PATH_WINDOWS@
146     export WSLENV:=$(WSLENV):FIXPATH_PATH:DEBUG_FIXPATH
147   else
148     export PATH:=@VS_PATH@
149   endif
150 endif
151 
152 SYSROOT_CFLAGS := @SYSROOT_CFLAGS@
153 SYSROOT_LDFLAGS := @SYSROOT_LDFLAGS@
154 
155 # The top-level directory of the source repository
156 TOPDIR:=@TOPDIR@
157 # Usually the top level directory, but could be something else if a custom
158 # root is defined.
159 WORKSPACE_ROOT:=@WORKSPACE_ROOT@
160 IMPORT_MODULES_CLASSES:=@IMPORT_MODULES_CLASSES@
161 IMPORT_MODULES_CMDS:=@IMPORT_MODULES_CMDS@
162 IMPORT_MODULES_LIBS:=@IMPORT_MODULES_LIBS@
163 IMPORT_MODULES_CONF:=@IMPORT_MODULES_CONF@
164 IMPORT_MODULES_LEGAL:=@IMPORT_MODULES_LEGAL@
165 IMPORT_MODULES_MAN:=@IMPORT_MODULES_MAN@
166 IMPORT_MODULES_SRC:=@IMPORT_MODULES_SRC@
167 IMPORT_MODULES_MAKE:=@IMPORT_MODULES_MAKE@
168 
169 COPYRIGHT_YEAR:=@COPYRIGHT_YEAR@
170 HOTSPOT_BUILD_TIME:=@HOTSPOT_BUILD_TIME@
171 
172 # Platform naming variables
173 LAUNCHER_NAME:=@LAUNCHER_NAME@
174 PRODUCT_NAME:=@PRODUCT_NAME@
175 PRODUCT_SUFFIX:=@PRODUCT_SUFFIX@
176 JDK_RC_PLATFORM_NAME:=@JDK_RC_PLATFORM_NAME@
177 JDK_RC_NAME:=@JDK_RC_NAME@
178 COMPANY_NAME:=@COMPANY_NAME@
179 HOTSPOT_VM_DISTRO:=@HOTSPOT_VM_DISTRO@
180 MACOSX_BUNDLE_NAME_BASE=@MACOSX_BUNDLE_NAME_BASE@
181 MACOSX_BUNDLE_ID_BASE=@MACOSX_BUNDLE_ID_BASE@
182 USERNAME:=@USERNAME@
183 VENDOR_URL:=@VENDOR_URL@
184 VENDOR_URL_BUG:=@VENDOR_URL_BUG@
185 VENDOR_URL_VM_BUG:=@VENDOR_URL_VM_BUG@
186 
187 # New (JEP-223) version information
188 
189 ## Building blocks of the version string
190 # First three version numbers, with well-specified meanings (numerical)
191 VERSION_FEATURE := @VERSION_FEATURE@
192 VERSION_INTERIM := @VERSION_INTERIM@
193 VERSION_UPDATE := @VERSION_UPDATE@
194 VERSION_PATCH := @VERSION_PATCH@
195 VERSION_EXTRA1 := @VERSION_EXTRA1@
196 VERSION_EXTRA2 := @VERSION_EXTRA2@
197 VERSION_EXTRA3 := @VERSION_EXTRA3@
198 # The pre-release identifier (string)
199 VERSION_PRE := @VERSION_PRE@
200 # The build number (numerical)
201 VERSION_BUILD := @VERSION_BUILD@
202 # Optional build information (string)
203 VERSION_OPT := @VERSION_OPT@
204 
205 ## Composite variables
206 # The version number as a dot separated sequence of numbers, e.g. 9.0.1
207 VERSION_NUMBER := @VERSION_NUMBER@
208 # VERSION_NUMBER but always with exactly 4 positions, with 0 for empty positions.
209 VERSION_NUMBER_FOUR_POSITIONS := @VERSION_NUMBER_FOUR_POSITIONS@
210 # The complete version string, with additional build information
211 VERSION_STRING := @VERSION_STRING@
212 # The short version string, without trailing zeroes and just PRE, if present.
213 VERSION_SHORT := @VERSION_SHORT@
214 # The Java specification version. It usually equals the feature version number.
215 VERSION_SPECIFICATION := @VERSION_FEATURE@
216 # A GA version is defined by the PRE string being empty. Rather than testing for
217 # that, this variable defines it with true/false.
218 VERSION_IS_GA := @VERSION_IS_GA@
219 
220 # Version date
221 VERSION_DATE := @VERSION_DATE@
222 
223 # Vendor version string
224 VENDOR_VERSION_STRING := @VENDOR_VERSION_STRING@
225 
226 # Class-file version
227 VERSION_CLASSFILE_MAJOR := @VERSION_CLASSFILE_MAJOR@
228 VERSION_CLASSFILE_MINOR := @VERSION_CLASSFILE_MINOR@
229 
230 JDK_SOURCE_TARGET_VERSION := @JDK_SOURCE_TARGET_VERSION@
231 
232 # Convenience CFLAGS settings for passing version information into native programs.
233 VERSION_CFLAGS := \
234     -DVERSION_FEATURE=$(VERSION_FEATURE) \
235     -DVERSION_INTERIM=$(VERSION_INTERIM) \
236     -DVERSION_UPDATE=$(VERSION_UPDATE) \
237     -DVERSION_PATCH=$(VERSION_PATCH) \
238     -DVERSION_EXTRA1=$(VERSION_EXTRA1) \
239     -DVERSION_EXTRA2=$(VERSION_EXTRA2) \
240     -DVERSION_EXTRA3=$(VERSION_EXTRA3) \
241     -DVERSION_PRE=&#39;&quot;$(VERSION_PRE)&quot;&#39; \
242     -DVERSION_BUILD=$(VERSION_BUILD) \
243     -DVERSION_OPT=&#39;&quot;$(VERSION_OPT)&quot;&#39; \
244     -DVERSION_NUMBER=&#39;&quot;$(VERSION_NUMBER)&quot;&#39; \
245     -DVERSION_STRING=&#39;&quot;$(VERSION_STRING)&quot;&#39; \
246     -DVERSION_SHORT=&#39;&quot;$(VERSION_SHORT)&quot;&#39; \
247     -DVERSION_SPECIFICATION=&#39;&quot;$(VERSION_SPECIFICATION)&quot;&#39; \
248     -DVERSION_DATE=&#39;&quot;$(VERSION_DATE)&quot;&#39; \
249     -DVENDOR_VERSION_STRING=&#39;&quot;$(VENDOR_VERSION_STRING)&quot;&#39; \
250     -DVERSION_CLASSFILE_MAJOR=$(VERSION_CLASSFILE_MAJOR) \
251     -DVERSION_CLASSFILE_MINOR=$(VERSION_CLASSFILE_MINOR) \
252     #
253 
254 ifneq ($(COMPANY_NAME),)
255   # COMPANY_NAME is set to &quot;N/A&quot; in $AUTOCONF_DIR/version-numbers by default,
256   # but can be customized with the &#39;--with-vendor-name&#39; configure option.
257   # Only export &quot;VENDOR&quot; to the build if COMPANY_NAME contains a real value.
258   # Otherwise the default value for VENDOR, which is used to set the &quot;java.vendor&quot;
259   # and &quot;java.vm.vendor&quot; properties is hard-coded into the source code (i.e. in
260   # VersionProps.java.template in the jdk for &quot;java.vendor&quot; and
261   # vm_version.cpp in the VM for &quot;java.vm.vendor&quot;)
262   ifneq ($(COMPANY_NAME), N/A)
263     VERSION_CFLAGS += -DVENDOR=&#39;&quot;$(COMPANY_NAME)&quot;&#39;
264   endif
265 endif
266 
267 # Only export VENDOR_URL, VENDOR_URL_BUG and VENDOR_VM_URL_BUG to the build if
268 # they are not empty. Otherwise, default values which are defined in the sources
269 # will be used.
270 ifneq ($(VENDOR_URL),)
271   VERSION_CFLAGS += -DVENDOR_URL=&#39;&quot;$(VENDOR_URL)&quot;&#39;
272 endif
273 ifneq ($(VENDOR_URL_BUG),)
274   VERSION_CFLAGS += -DVENDOR_URL_BUG=&#39;&quot;$(VENDOR_URL_BUG)&quot;&#39;
275 endif
276 ifneq ($(VENDOR_URL_VM_BUG),)
277   VERSION_CFLAGS += -DVENDOR_URL_VM_BUG=&#39;&quot;$(VENDOR_URL_VM_BUG)&quot;&#39;
278 endif
279 
280 # Different naming strings generated from the above information.
281 RUNTIME_NAME=$(PRODUCT_NAME) $(PRODUCT_SUFFIX)
282 
283 # How to compile the code: release, fastdebug or slowdebug
284 DEBUG_LEVEL:=@DEBUG_LEVEL@
285 HOTSPOT_DEBUG_LEVEL:=@HOTSPOT_DEBUG_LEVEL@
286 
287 # Which JVM variants to build (space-separated list)
288 JVM_VARIANTS := @JVM_VARIANTS@
289 JVM_VARIANT_MAIN := @JVM_VARIANT_MAIN@
290 
291 # Lists of features per variant. Only relevant for the variants listed in
292 # JVM_VARIANTS.
293 JVM_FEATURES_server := @JVM_FEATURES_server@
294 JVM_FEATURES_client := @JVM_FEATURES_client@
295 JVM_FEATURES_core := @JVM_FEATURES_core@
296 JVM_FEATURES_minimal := @JVM_FEATURES_minimal@
297 JVM_FEATURES_zero := @JVM_FEATURES_zero@
298 JVM_FEATURES_custom := @JVM_FEATURES_custom@
299 
300 # Used for make-time verifications
301 VALID_JVM_FEATURES := @VALID_JVM_FEATURES@
302 VALID_JVM_VARIANTS := @VALID_JVM_VARIANTS@
303 
304 # Control whether Hotspot builds gtest tests
305 BUILD_GTEST := @BUILD_GTEST@
306 
307 # Allow overriding the default hotspot library path
308 HOTSPOT_OVERRIDE_LIBPATH := @HOTSPOT_OVERRIDE_LIBPATH@
309 
310 # Control use of precompiled header in hotspot libjvm build
311 USE_PRECOMPILED_HEADER := @USE_PRECOMPILED_HEADER@
312 
313 # Only build headless support or not
314 ENABLE_HEADLESS_ONLY := @ENABLE_HEADLESS_ONLY@
315 
316 ENABLE_LINKTIME_GC := @ENABLE_LINKTIME_GC@
317 
318 # Ship debug symbols (e.g. pdbs on Windows)
319 SHIP_DEBUG_SYMBOLS := @SHIP_DEBUG_SYMBOLS@
320 
321 ENABLE_FULL_DOCS := @ENABLE_FULL_DOCS@
322 
323 # JDK_OUTPUTDIR specifies where a working jvm is built.
324 # You can run $(JDK_OUTPUTDIR)/bin/java
325 
326 OUTPUTDIR := @OUTPUTDIR@
327 # Colon left out to be able to override IMAGES_OUTPUTDIR for bootcycle-images
328 SUPPORT_OUTPUTDIR=$(OUTPUTDIR)/support
329 BUILDTOOLS_OUTPUTDIR=$(OUTPUTDIR)/buildtools
330 
331 HOTSPOT_OUTPUTDIR=$(OUTPUTDIR)/hotspot
332 JDK_OUTPUTDIR=$(OUTPUTDIR)/jdk
333 IMAGES_OUTPUTDIR=$(OUTPUTDIR)/images
334 BUNDLES_OUTPUTDIR=$(OUTPUTDIR)/bundles
335 TESTMAKE_OUTPUTDIR=$(OUTPUTDIR)/test-make
336 MAKESUPPORT_OUTPUTDIR=$(OUTPUTDIR)/make-support
337 
338 # This does not get overridden in a bootcycle build
339 CONFIGURESUPPORT_OUTPUTDIR:=@CONFIGURESUPPORT_OUTPUTDIR@
340 BUILDJDK_OUTPUTDIR=$(OUTPUTDIR)/buildjdk
341 
342 BUILD_FAILURE_HANDLER := @BUILD_FAILURE_HANDLER@
343 
344 ENABLE_GENERATE_CLASSLIST := @ENABLE_GENERATE_CLASSLIST@
345 
346 EXCLUDE_TRANSLATIONS := @EXCLUDE_TRANSLATIONS@
347 
348 BUILD_MANPAGES := @BUILD_MANPAGES@
349 
350 BUILD_CDS_ARCHIVE := @BUILD_CDS_ARCHIVE@
351 
352 ALLOW_ABSOLUTE_PATHS_IN_OUTPUT := @ALLOW_ABSOLUTE_PATHS_IN_OUTPUT@
353 
354 # The boot jdk to use. This is overridden in bootcycle-spec.gmk. Make sure to keep
355 # it in sync.
356 BOOT_JDK:=@BOOT_JDK@
357 
358 BUILD_JDK:=@BUILD_JDK@
359 CREATE_BUILDJDK:=@CREATE_BUILDJDK@
360 EXTERNAL_BUILDJDK:=@EXTERNAL_BUILDJDK@
361 
362 # When compiling Java source to be run by the boot jdk
363 # use these extra flags, eg -source 6 -target 6
364 BOOT_JDK_SOURCETARGET:=@BOOT_JDK_SOURCETARGET@
365 
366 # Information about the build system
367 NUM_CORES:=@NUM_CORES@
368 MEMORY_SIZE:=@MEMORY_SIZE@
369 ENABLE_JAVAC_SERVER:=@ENABLE_JAVAC_SERVER@
370 # Store javac server synchronization files here, and
371 # the javac server log files.
372 JAVAC_SERVER_DIR=$(MAKESUPPORT_OUTPUTDIR)/javacservers
373 
374 # Number of parallel jobs to use for compilation
375 JOBS?=@JOBS@
376 TEST_JOBS?=@TEST_JOBS@
377 
378 # Default make target
379 DEFAULT_MAKE_TARGET:=@DEFAULT_MAKE_TARGET@
380 DEFAULT_LOG:=@DEFAULT_LOG@
381 
382 FREETYPE_TO_USE:=@FREETYPE_TO_USE@
383 FREETYPE_LIBS:=@FREETYPE_LIBS@
384 FREETYPE_CFLAGS:=@FREETYPE_CFLAGS@
385 FONTCONFIG_CFLAGS:=@FONTCONFIG_CFLAGS@
386 CUPS_CFLAGS:=@CUPS_CFLAGS@
387 ALSA_LIBS:=@ALSA_LIBS@
388 ALSA_CFLAGS:=@ALSA_CFLAGS@
389 LIBFFI_LIBS:=@LIBFFI_LIBS@
390 LIBFFI_CFLAGS:=@LIBFFI_CFLAGS@
391 ENABLE_LIBFFI_BUNDLING:=@ENABLE_LIBFFI_BUNDLING@
392 LIBFFI_LIB_FILE:=@LIBFFI_LIB_FILE@
393 GRAALUNIT_LIB := @GRAALUNIT_LIB@
394 FILE_MACRO_CFLAGS := @FILE_MACRO_CFLAGS@
395 
396 STATIC_LIBS_CFLAGS := @STATIC_LIBS_CFLAGS@
397 
398 JMH_CORE_JAR := @JMH_CORE_JAR@
399 JMH_GENERATOR_JAR := @JMH_GENERATOR_JAR@
400 JMH_JOPT_SIMPLE_JAR := @JMH_JOPT_SIMPLE_JAR@
401 JMH_COMMONS_MATH_JAR := @JMH_COMMONS_MATH_JAR@
402 JMH_VERSION := @JMH_VERSION@
403 
404 # Source file for cacerts
405 CACERTS_FILE=@CACERTS_FILE@
406 
407 # Enable unlimited crypto policy
408 UNLIMITED_CRYPTO=@UNLIMITED_CRYPTO@
409 
410 GCOV_ENABLED=@GCOV_ENABLED@
411 JCOV_ENABLED=@JCOV_ENABLED@
412 JCOV_HOME=@JCOV_HOME@
413 JCOV_INPUT_JDK=@JCOV_INPUT_JDK@
414 JCOV_FILTERS=@JCOV_FILTERS@
415 
416 # AddressSanitizer
417 export ASAN_ENABLED:=@ASAN_ENABLED@
418 export DEVKIT_LIB_DIR:=@DEVKIT_LIB_DIR@
419 ifeq ($(ASAN_ENABLED), yes)
420   export ASAN_OPTIONS=handle_segv=0 detect_leaks=0
421   ifneq ($(DEVKIT_LIB_DIR),)
422     export LD_LIBRARY_PATH:=$(LD_LIBRARY_PATH):$(DEVKIT_LIB_DIR)
423   endif
424 endif
425 
426 # Necessary additional compiler flags to compile X11
427 X_CFLAGS:=@X_CFLAGS@
428 X_LIBS:=@X_LIBS@
429 
430 # The lowest required version of macosx
431 MACOSX_VERSION_MIN=@MACOSX_VERSION_MIN@
432 # The highest allowed version of macosx
433 MACOSX_VERSION_MAX=@MACOSX_VERSION_MAX@
434 
435 # The macosx code signing identity to use
436 MACOSX_CODESIGN_IDENTITY=@MACOSX_CODESIGN_IDENTITY@
437 
438 # Toolchain type: gcc, clang, xlc, microsoft...
439 TOOLCHAIN_TYPE:=@TOOLCHAIN_TYPE@
440 TOOLCHAIN_VERSION := @TOOLCHAIN_VERSION@
441 CC_VERSION_NUMBER := @CC_VERSION_NUMBER@
442 CXX_VERSION_NUMBER := @CXX_VERSION_NUMBER@
443 
444 # Legacy support
445 HOTSPOT_TOOLCHAIN_TYPE := @HOTSPOT_TOOLCHAIN_TYPE@
446 
447 # Option used to tell the compiler whether to create 32- or 64-bit executables
448 COMPILER_TARGET_BITS_FLAG:=@COMPILER_TARGET_BITS_FLAG@
449 COMPILER_SUPPORTS_TARGET_BITS_FLAG=@COMPILER_SUPPORTS_TARGET_BITS_FLAG@
450 
451 # Option used to pass a command file to the compiler
452 COMPILER_COMMAND_FILE_FLAG:=@COMPILER_COMMAND_FILE_FLAG@
453 
454 # Option for specifying a file which saves the binder commands
455 # produced by the link step (for debugging, currently AIX only)
456 COMPILER_BINDCMD_FILE_FLAG:=@COMPILER_BINDCMD_FILE_FLAG@
457 
458 CC_OUT_OPTION:=@CC_OUT_OPTION@
459 LD_OUT_OPTION:=@LD_OUT_OPTION@
460 AR_OUT_OPTION:=@AR_OUT_OPTION@
461 
462 # Flags used for overriding the default opt setting for a C/C++ source file.
463 C_O_FLAG_HIGHEST_JVM:=@C_O_FLAG_HIGHEST_JVM@
464 C_O_FLAG_HIGHEST:=@C_O_FLAG_HIGHEST@
465 C_O_FLAG_HI:=@C_O_FLAG_HI@
466 C_O_FLAG_NORM:=@C_O_FLAG_NORM@
467 C_O_FLAG_NONE:=@C_O_FLAG_NONE@
468 C_O_FLAG_SIZE:=@C_O_FLAG_SIZE@
469 CXX_O_FLAG_HIGHEST_JVM:=@CXX_O_FLAG_HIGHEST_JVM@
470 CXX_O_FLAG_HIGHEST:=@CXX_O_FLAG_HIGHEST@
471 CXX_O_FLAG_HI:=@CXX_O_FLAG_HI@
472 CXX_O_FLAG_NORM:=@CXX_O_FLAG_NORM@
473 CXX_O_FLAG_NONE:=@CXX_O_FLAG_NONE@
474 CXX_O_FLAG_SIZE:=@CXX_O_FLAG_SIZE@
475 
476 C_FLAG_DEPS:=@C_FLAG_DEPS@
477 CXX_FLAG_DEPS:=@CXX_FLAG_DEPS@
478 
479 DISABLE_WARNING_PREFIX := @DISABLE_WARNING_PREFIX@
480 CFLAGS_WARNINGS_ARE_ERRORS:=@CFLAGS_WARNINGS_ARE_ERRORS@
481 DISABLED_WARNINGS := @DISABLED_WARNINGS@
482 DISABLED_WARNINGS_C := @DISABLED_WARNINGS_C@
483 DISABLED_WARNINGS_CXX := @DISABLED_WARNINGS_CXX@
484 
485 # A global flag (true or false) determining if native warnings are considered errors.
486 WARNINGS_AS_ERRORS := @WARNINGS_AS_ERRORS@
487 
488 CFLAGS_CCACHE:=@CFLAGS_CCACHE@
489 ADLC_CXXFLAG=@ADLC_CXXFLAG@
490 
491 # Tools that potentially need to be cross compilation aware.
492 CC:=@FIXPATH@ @CCACHE@ @ICECC@ @CC@
493 
494 # CFLAGS used to compile the jdk native libraries (C-code)
495 CFLAGS_JDKLIB:=@CFLAGS_JDKLIB@
496 CXXFLAGS_JDKLIB:=@CXXFLAGS_JDKLIB@
497 
498 # CFLAGS used to compile the jdk native launchers (C-code)
499 CFLAGS_JDKEXE:=@CFLAGS_JDKEXE@
500 CXXFLAGS_JDKEXE:=@CXXFLAGS_JDKEXE@
501 
502 LIBJSIG_HASHSTYLE_LDFLAGS := @LIBJSIG_HASHSTYLE_LDFLAGS@
503 LIBJSIG_NOEXECSTACK_LDFLAGS := @LIBJSIG_NOEXECSTACK_LDFLAGS@
504 
505 FDLIBM_CFLAGS := @FDLIBM_CFLAGS@
506 JVM_CFLAGS := @JVM_CFLAGS@
507 JVM_LDFLAGS := @JVM_LDFLAGS@
508 JVM_ASFLAGS := @JVM_ASFLAGS@
509 JVM_LIBS := @JVM_LIBS@
510 JVM_RCFLAGS := @JVM_RCFLAGS@
511 
512 # These flags might contain variables set by a custom extension that is included later.
513 EXTRA_CFLAGS = @EXTRA_CFLAGS@
514 EXTRA_CXXFLAGS = @EXTRA_CXXFLAGS@
515 EXTRA_LDFLAGS = @EXTRA_LDFLAGS@
516 EXTRA_ASFLAGS = @EXTRA_ASFLAGS@
517 
518 CXX:=@FIXPATH@ @CCACHE@ @ICECC@ @CXX@
519 
520 CPP:=@FIXPATH@ @CPP@
521 
522 # The linker can be gcc or ld on unix systems, or link.exe on windows systems.
523 LD:=@FIXPATH@ @LD@
524 
525 # Linker used by the jaotc tool for AOT compilation.
526 LD_JAOTC:=@LD_JAOTC@
527 
528 # Xcode SDK path
529 SDKROOT:=@SDKROOT@
530 
531 # LDFLAGS used to link the jdk native libraries (C-code)
532 LDFLAGS_JDKLIB:=@LDFLAGS_JDKLIB@
533 JDKLIB_LIBS:=@JDKLIB_LIBS@
534 
535 # LDFLAGS used to link the jdk native launchers (C-code)
536 LDFLAGS_JDKEXE:=@LDFLAGS_JDKEXE@
537 JDKEXE_LIBS:=@JDKEXE_LIBS@
538 
539 # LDFLAGS specific to C++ linking.
540 LDFLAGS_CXX_JDK:=@LDFLAGS_CXX_JDK@
541 
542 # Sometimes a different linker is needed for c++ libs
543 LDCXX:=@FIXPATH@ @LDCXX@
544 # The flags for linking libstdc++ linker.
545 LIBCXX:=@LIBCXX@
546 
547 # Compiler and linker flags used when building native tests
548 LDFLAGS_TESTEXE:=@LDFLAGS_TESTEXE@
549 
550 # BUILD_CC/BUILD_LD is a compiler/linker that generates code that is runnable on the
551 # build platform.
552 BUILD_CC:=@FIXPATH@ @BUILD_ICECC@ @BUILD_CC@
553 BUILD_CXX:=@FIXPATH@ @BUILD_ICECC@ @BUILD_CXX@
554 BUILD_LD:=@FIXPATH@ @BUILD_LD@
555 BUILD_LDCXX:=@FIXPATH@ @BUILD_LDCXX@
556 BUILD_AS:=@FIXPATH@ @BUILD_AS@
557 BUILD_AR:=@FIXPATH@ @BUILD_AR@
558 BUILD_NM:=@FIXPATH@ @BUILD_NM@
559 BUILD_OBJCOPY:=@BUILD_OBJCOPY@
560 BUILD_STRIP:=@BUILD_STRIP@
561 BUILD_SYSROOT_CFLAGS:=@BUILD_SYSROOT_CFLAGS@
562 BUILD_SYSROOT_LDFLAGS:=@BUILD_SYSROOT_LDFLAGS@
563 
564 AS:=@FIXPATH@ @AS@
565 
566 # AR is used to create a static library (is ar in unix, lib.exe in windows)
567 AR:=@FIXPATH@ @AR@
568 ARFLAGS:=@ARFLAGS@
569 
570 NM:=@NM@
571 GNM:=@GNM@
572 STRIP:=@STRIP@
573 OBJDUMP:=@OBJDUMP@
574 CXXFILT:=@CXXFILT@
575 
576 LIPO:=@LIPO@
577 INSTALL_NAME_TOOL:=@INSTALL_NAME_TOOL@
578 
579 # Options to linker to specify a mapfile.
580 # (Note absence of := assignment, because we do not want to evaluate the macro body here)
581 SET_SHARED_LIBRARY_MAPFILE=@SET_SHARED_LIBRARY_MAPFILE@
582 
583 #
584 # Options for generating debug symbols
585 COMPILE_WITH_DEBUG_SYMBOLS := @COMPILE_WITH_DEBUG_SYMBOLS@
586 COPY_DEBUG_SYMBOLS := @COPY_DEBUG_SYMBOLS@
587 ZIP_EXTERNAL_DEBUG_SYMBOLS := @ZIP_EXTERNAL_DEBUG_SYMBOLS@
588 
589 CFLAGS_DEBUG_SYMBOLS:=@CFLAGS_DEBUG_SYMBOLS@
590 ASFLAGS_DEBUG_SYMBOLS:=@ASFLAGS_DEBUG_SYMBOLS@
591 
592 #
593 # Compress (or not) jars
594 COMPRESS_JARS=@COMPRESS_JARS@
595 
596 # Options to linker to specify the library name.
597 # (Note absence of := assignment, because we do not want to evaluate the macro body here)
598 SET_SHARED_LIBRARY_NAME=@SET_SHARED_LIBRARY_NAME@
599 
600 SHARED_LIBRARY_FLAGS=@SHARED_LIBRARY_FLAGS@
601 
602 # Set origin using the linker, ie use the relative path to the dependent library to find the dependees.
603 # (Note absence of := assignment, because we do not want to evaluate the macro body here)
604 SET_SHARED_LIBRARY_ORIGIN=@SET_SHARED_LIBRARY_ORIGIN@
605 SET_JCLANG_LIBRARY_ORIGIN=@SET_JCLANG_LIBRARY_ORIGIN@
606 SET_EXECUTABLE_ORIGIN=@SET_EXECUTABLE_ORIGIN@
607 
608 # Different OS:es have different ways of naming shared libraries.
609 # The SHARED_LIBRARY macro takes &quot;verify&quot; as and argument and returns:
610 #    &quot;libverify.so&quot; or &quot;libverify.dylib&quot; or &quot;verify.dll&quot; depending on platform.
611 # (Note absence of := assignment, because we do not want to evaluate the macro body here)
612 SHARED_LIBRARY=@SHARED_LIBRARY@
613 STATIC_LIBRARY=@STATIC_LIBRARY@
614 LIBRARY_PREFIX:=@LIBRARY_PREFIX@
615 SHARED_LIBRARY_SUFFIX:=@SHARED_LIBRARY_SUFFIX@
616 STATIC_LIBRARY_SUFFIX:=@STATIC_LIBRARY_SUFFIX@
617 EXE_SUFFIX:=@EXE_SUFFIX@
618 OBJ_SUFFIX:=@OBJ_SUFFIX@
619 STATIC_BUILD:=@STATIC_BUILD@
620 
621 STRIPFLAGS:=@STRIPFLAGS@
622 
623 JAVA_FLAGS:=@JAVA_FLAGS@
624 JAVA_FLAGS_BIG:=@JAVA_FLAGS_BIG@
625 JAVA_FLAGS_SMALL:=@JAVA_FLAGS_SMALL@
626 BUILDJDK_JAVA_FLAGS_SMALL:=@BUILDJDK_JAVA_FLAGS_SMALL@
627 JAVA_TOOL_FLAGS_SMALL:=@JAVA_TOOL_FLAGS_SMALL@
628 
629 # The *_CMD variables are defined separately to be easily overridden in bootcycle-spec.gmk
630 # for bootcycle-images build. Make sure to keep them in sync. Do not use the *_CMD
631 # versions of the variables directly.
632 JAVA_CMD:=@JAVA@
633 JAVAC_CMD:=@JAVAC@
634 JAVADOC_CMD:=@JAVADOC@
635 JAR_CMD:=@JAR@
636 JLINK_CMD := @JLINK@
637 JMOD_CMD := @JMOD@
638 JARSIGNER_CMD:=@JARSIGNER@
639 JJS_CMD:=@JJS@
640 # These variables are meant to be used. They are defined with = instead of := to make
641 # it possible to override only the *_CMD variables.
642 JAVA=@FIXPATH@ $(JAVA_CMD) $(JAVA_FLAGS_BIG) $(JAVA_FLAGS)
643 JAVA_SMALL=@FIXPATH@ $(JAVA_CMD) $(JAVA_FLAGS_SMALL) $(JAVA_FLAGS)
644 JAVA_DETACH =@FIXPATH@ @FIXPATH_DETACH_FLAG@ $(JAVA_CMD) $(JAVA_FLAGS_BIG) $(JAVA_FLAGS)
645 JAVAC=@FIXPATH@ $(JAVAC_CMD)
646 JAVADOC=@FIXPATH@ $(JAVADOC_CMD)
647 JAR=@FIXPATH@ $(JAR_CMD)
648 JLINK = @FIXPATH@ $(JLINK_CMD)
649 JMOD = @FIXPATH@ $(JMOD_CMD) $(JAVA_TOOL_FLAGS_SMALL)
650 JARSIGNER=@FIXPATH@ $(JARSIGNER_CMD)
651 JJS=@FIXPATH@ $(JJS_CMD) $(JAVA_TOOL_FLAGS_SMALL)
652 
653 BUILD_JAVA_FLAGS := @BOOTCYCLE_JVM_ARGS_BIG@
654 BUILD_JAVA=@FIXPATH@ $(BUILD_JDK)/bin/java $(BUILD_JAVA_FLAGS)
655 BUILD_JAR=@FIXPATH@ $(BUILD_JDK)/bin/jar
656 
657 # Interim langtools modules and arguments
658 INTERIM_LANGTOOLS_BASE_MODULES := java.compiler jdk.compiler jdk.javadoc
659 INTERIM_LANGTOOLS_MODULES := $(addsuffix .interim, $(INTERIM_LANGTOOLS_BASE_MODULES))
660 INTERIM_LANGTOOLS_ADD_EXPORTS := \
661     --add-exports java.base/sun.reflect.annotation=jdk.compiler.interim \
662     --add-exports java.base/jdk.internal.jmod=jdk.compiler.interim \
663     --add-exports java.base/jdk.internal.misc=jdk.compiler.interim \
664     #
665 INTERIM_LANGTOOLS_MODULES_COMMA := $(strip $(subst $(SPACE),$(COMMA),$(strip \
666     $(INTERIM_LANGTOOLS_MODULES))))
667 INTERIM_LANGTOOLS_ARGS := \
668     --limit-modules java.base,jdk.zipfs,$(INTERIM_LANGTOOLS_MODULES_COMMA) \
669     --add-modules $(INTERIM_LANGTOOLS_MODULES_COMMA) \
670     --module-path $(BUILDTOOLS_OUTPUTDIR)/interim_langtools_modules \
671     $(INTERIM_LANGTOOLS_ADD_EXPORTS) \
672     #
673 JAVAC_MAIN_CLASS = -m jdk.compiler.interim/com.sun.tools.javac.Main
674 JAVADOC_MAIN_CLASS = -m jdk.javadoc.interim/jdk.javadoc.internal.tool.Main
675 
676 # You run the new javac using the boot jdk with $(BOOT_JDK)/bin/java $(NEW_JAVAC) ...
677 # Use = assignment to be able to override in bootcycle-spec.gmk
678 NEW_JAVAC   = $(INTERIM_LANGTOOLS_ARGS) $(JAVAC_MAIN_CLASS)
679 NEW_JAVADOC = $(INTERIM_LANGTOOLS_ARGS) $(JAVADOC_MAIN_CLASS)
680 
681 JLINK_KEEP_PACKAGED_MODULES:=@JLINK_KEEP_PACKAGED_MODULES@
682 
683 # Base flags for RC
684 # Guarding this against resetting value. Legacy make files include spec multiple
685 # times.
686 ifndef RC_FLAGS
687   RC_FLAGS:=@RC_FLAGS@
688 endif
689 
690 # Tools adhering to a minimal and common standard of posix compliance.
691 AWK:=@AWK@
692 BASENAME:=@BASENAME@
693 CAT:=@CAT@
694 CCACHE:=@CCACHE@
695 # CD is going away, but remains to cater for legacy makefiles.
696 CD:=cd
697 CHMOD:=@CHMOD@
698 CODESIGN:=@CODESIGN@
699 COMM:=@COMM@
700 CP:=@CP@
701 CPIO:=@CPIO@
702 CUT:=@CUT@
703 DATE:=@DATE@
704 DIFF:=@DIFF@
705 DIRNAME:=@DIRNAME@
706 DSYMUTIL:=@DSYMUTIL@
707 FIND:=@FIND@
708 FIND_DELETE:=@FIND_DELETE@
709 FLOCK:=@FLOCK@
710 ECHO:=@ECHO@
711 EGREP:=@EGREP@
712 FGREP:=@FGREP@
713 GREP:=@GREP@
714 GZIP:=@GZIP@
715 HEAD:=@HEAD@
716 LS:=@LS@
717 LN:=@LN@
718 MIG:=@MIG@
719 MKDIR:=@MKDIR@
720 MV:=@MV@
721 NAWK:=@NAWK@
722 NICE:=@NICE@
723 PANDOC:=@FIXPATH@ @PANDOC@
724 PATCH:=@PATCH@
725 PRINTF:=@PRINTF@
726 READLINK:=@READLINK@
727 RM:=@RM@
728 RMDIR:=@RMDIR@
729 SED:=@SED@
730 SH:=@SH@
731 SORT:=@SORT@
732 TAR:=@TAR@
733 TAIL:=@TAIL@
734 TEE:=@TEE@
735 TIME:=@TIME@
736 IS_GNU_TIME:=@IS_GNU_TIME@
737 TR:=@TR@
738 TOUCH:=@TOUCH@
739 UNIQ:=@UNIQ@
740 WC:=@WC@
741 XARGS:=@XARGS@
742 ZIPEXE:=@ZIPEXE@
743 UNZIP:=@UNZIP@
744 MT:=@FIXPATH@ @MT@
745 RC:=@FIXPATH@ @RC@
746 DUMPBIN:=@FIXPATH@ @DUMPBIN@
747 CYGPATH:=@CYGPATH@
748 WSLPATH:=@WSLPATH@
749 LDD:=@LDD@
750 OTOOL:=@OTOOL@
751 READELF:=@READELF@
752 EXPR:=@EXPR@
753 FILE:=@FILE@
754 DOT:=@DOT@
755 HG:=@HG@
756 GIT:=@GIT@
757 OBJCOPY:=@OBJCOPY@
758 SETFILE:=@SETFILE@
759 XATTR:=@XATTR@
760 JT_HOME:=@JT_HOME@
761 JIB_HOME:=@JIB_HOME@
762 XCODEBUILD=@XCODEBUILD@
763 DTRACE := @DTRACE@
764 FIXPATH:=@FIXPATH@
765 ULIMIT:=@ULIMIT@
766 
767 TAR_TYPE:=@TAR_TYPE@
768 TAR_INCLUDE_PARAM:=@TAR_INCLUDE_PARAM@
769 TAR_SUPPORTS_TRANSFORM:=@TAR_SUPPORTS_TRANSFORM@
770 
771 # Build setup
772 ENABLE_AOT:=@ENABLE_AOT@
773 ENABLE_INTREE_EC:=@ENABLE_INTREE_EC@
774 USE_EXTERNAL_LIBJPEG:=@USE_EXTERNAL_LIBJPEG@
775 USE_EXTERNAL_LIBGIF:=@USE_EXTERNAL_LIBGIF@
776 USE_EXTERNAL_LIBZ:=@USE_EXTERNAL_LIBZ@
777 LIBZ_CFLAGS:=@LIBZ_CFLAGS@
778 LIBZ_LIBS:=@LIBZ_LIBS@
779 LIBZIP_CAN_USE_MMAP:=@LIBZIP_CAN_USE_MMAP@
780 MSVCR_DLL:=@MSVCR_DLL@
781 VCRUNTIME_1_DLL:=@VCRUNTIME_1_DLL@
782 MSVCP_DLL:=@MSVCP_DLL@
783 UCRT_DLL_DIR:=@UCRT_DLL_DIR@
784 ENABLE_PANDOC:=@ENABLE_PANDOC@
785 PANDOC_MARKDOWN_FLAG:=@PANDOC_MARKDOWN_FLAG@
786 
787 ####################################################
788 #
789 # INSTALLATION
790 #
791 
792 # Common prefix for all installed files. Defaults to /usr/local,
793 # but /opt/myjdk is another common version.
794 INSTALL_PREFIX=@prefix@
795 
796 # Directories containing architecture-dependent files should be relative to exec_prefix
797 INSTALL_EXECPREFIX=@exec_prefix@
798 
799 # java,javac,javap etc are installed here.
800 INSTALL_BINDIR=@bindir@
801 
802 # Read only architecture-independent data
803 INSTALL_DATADIR=@datadir@
804 
805 # Root of above.
806 INSTALL_DATAROOTDIR=@datarootdir@
807 
808 # Doc files, other than info and man.
809 INSTALL_DOCDIR=@docdir@
810 
811 # Html documentation
812 INSTALL_HTMLDIR=@htmldir@
813 
814 # Installing C header files, JNI headers for example.
815 INSTALL_INCLUDEDIR=@includedir@
816 
817 # Installing library files....
818 INSTALL_INCLUDEDIR=@libdir@
819 
820 # Executables that other programs run.
821 INSTALL_LIBEXECDIR=@libexecdir@
822 
823 # Locale-dependent but architecture-independent data, such as message catalogs.
824 INSTALL_LOCALEDIR=@localedir@
825 
826 # Modifiable single-machine data
827 INSTALL_LOCALSTATEDIR=@localstatedir@
828 
829 # Man pages
830 INSTALL_MANDIR=@mandir@
831 
832 # Modifiable architecture-independent data.
833 INSTALL_SHAREDSTATEDIR=@sharedstatedir@
834 
835 # Read-only single-machine data
836 INSTALL_SYSCONFDIR=@sysconfdir@
837 
838 ####################################################
839 #
840 # Libraries
841 #
842 
843 USE_EXTERNAL_LCMS:=@USE_EXTERNAL_LCMS@
844 LCMS_CFLAGS:=@LCMS_CFLAGS@
845 LCMS_LIBS:=@LCMS_LIBS@
846 
847 USE_EXTERNAL_LIBPNG:=@USE_EXTERNAL_LIBPNG@
848 PNG_LIBS:=@PNG_LIBS@
849 PNG_CFLAGS:=@PNG_CFLAGS@
850 
851 ####################################################
852 #
853 # Misc
854 #
855 
856 INCLUDE_SA=@INCLUDE_SA@
857 INCLUDE_GRAAL=@INCLUDE_GRAAL@
858 INCLUDE_JVMCI=@INCLUDE_JVMCI@
859 
860 OS_VERSION_MAJOR:=@OS_VERSION_MAJOR@
861 OS_VERSION_MINOR:=@OS_VERSION_MINOR@
862 OS_VERSION_MICRO:=@OS_VERSION_MICRO@
863 
864 # Images directory definitions
865 JDK_IMAGE_SUBDIR:=jdk
866 JRE_IMAGE_SUBDIR:=jre
867 JCOV_IMAGE_SUBDIR := jdk-jcov
868 
869 # Colon left out to be able to override output dir for bootcycle-images
870 JDK_IMAGE_DIR=$(IMAGES_OUTPUTDIR)/$(JDK_IMAGE_SUBDIR)
871 JRE_IMAGE_DIR=$(IMAGES_OUTPUTDIR)/$(JRE_IMAGE_SUBDIR)
872 JCOV_IMAGE_DIR = $(IMAGES_OUTPUTDIR)/$(JCOV_IMAGE_SUBDIR)
873 
874 # Test image, as above
875 TEST_IMAGE_SUBDIR:=test
876 TEST_IMAGE_DIR=$(IMAGES_OUTPUTDIR)/$(TEST_IMAGE_SUBDIR)
877 
878 # Symbols image
879 SYMBOLS_IMAGE_SUBDIR:=symbols
880 SYMBOLS_IMAGE_DIR=$(IMAGES_OUTPUTDIR)/$(SYMBOLS_IMAGE_SUBDIR)
881 
882 # Interim image
883 INTERIM_JMODS_DIR := $(SUPPORT_OUTPUTDIR)/interim-jmods
884 INTERIM_IMAGE_DIR := $(SUPPORT_OUTPUTDIR)/interim-image
885 
886 # Docs image
887 DOCS_IMAGE_SUBDIR := docs
888 DOCS_IMAGE_DIR = $(IMAGES_OUTPUTDIR)/$(DOCS_IMAGE_SUBDIR)
889 # Output docs directly into image
890 DOCS_OUTPUTDIR := $(DOCS_IMAGE_DIR)
891 
892 # Static libs image
893 STATIC_LIBS_IMAGE_SUBDIR := static-libs
894 STATIC_LIBS_IMAGE_DIR := $(IMAGES_OUTPUTDIR)/$(STATIC_LIBS_IMAGE_SUBDIR)
895 
896 # Graal builder image
897 GRAAL_BUILDER_IMAGE_SUBDIR := graal-builder-jdk
898 GRAAL_BUILDER_IMAGE_DIR := $(IMAGES_OUTPUTDIR)/$(GRAAL_BUILDER_IMAGE_SUBDIR)
899 
900 # Macosx bundles directory definitions
901 JDK_MACOSX_BUNDLE_SUBDIR=jdk-bundle
902 JRE_MACOSX_BUNDLE_SUBDIR=jre-bundle
903 JDK_MACOSX_BUNDLE_SUBDIR_SIGNED=jdk-bundle-signed
904 JRE_MACOSX_BUNDLE_SUBDIR_SIGNED=jre-bundle-signed
905 JDK_MACOSX_BUNDLE_DIR=$(IMAGES_OUTPUTDIR)/$(JDK_MACOSX_BUNDLE_SUBDIR)
906 JRE_MACOSX_BUNDLE_DIR=$(IMAGES_OUTPUTDIR)/$(JRE_MACOSX_BUNDLE_SUBDIR)
907 JDK_MACOSX_BUNDLE_DIR_SIGNED=$(IMAGES_OUTPUTDIR)/$(JDK_MACOSX_BUNDLE_SUBDIR_SIGNED)
908 JRE_MACOSX_BUNDLE_DIR_SIGNED=$(IMAGES_OUTPUTDIR)/$(JRE_MACOSX_BUNDLE_SUBDIR_SIGNED)
909 JDK_MACOSX_BUNDLE_TOP_DIR=jdk-$(VERSION_NUMBER).jdk
910 JRE_MACOSX_BUNDLE_TOP_DIR=jre-$(VERSION_NUMBER).jre
911 JDK_MACOSX_CONTENTS_SUBDIR=$(JDK_MACOSX_BUNDLE_TOP_DIR)/Contents
912 JRE_MACOSX_CONTENTS_SUBDIR=$(JRE_MACOSX_BUNDLE_TOP_DIR)/Contents
913 JDK_MACOSX_CONTENTS_DIR=$(JDK_MACOSX_BUNDLE_DIR)/$(JDK_MACOSX_CONTENTS_SUBDIR)
914 JRE_MACOSX_CONTENTS_DIR=$(JRE_MACOSX_BUNDLE_DIR)/$(JRE_MACOSX_CONTENTS_SUBDIR)
915 
916 # Bundle names
917 BASE_NAME := $(VERSION_SHORT)+$(VERSION_BUILD)_$(OPENJDK_TARGET_BUNDLE_PLATFORM)
918 ifeq ($(DEBUG_LEVEL), fastdebug)
919   DEBUG_PART := -debug
920 else ifneq ($(DEBUG_LEVEL), release)
921   DEBUG_PART := -$(DEBUG_LEVEL)
922 endif
923 ifeq ($(OPENJDK_TARGET_OS), windows)
924   JDK_BUNDLE_EXTENSION := zip
925 else
926   JDK_BUNDLE_EXTENSION := tar.gz
927 endif
928 JDK_BUNDLE_NAME := jdk-$(BASE_NAME)_bin$(DEBUG_PART).$(JDK_BUNDLE_EXTENSION)
929 JRE_BUNDLE_NAME := jre-$(BASE_NAME)_bin$(DEBUG_PART).$(JDK_BUNDLE_EXTENSION)
930 JDK_SYMBOLS_BUNDLE_NAME := jdk-$(BASE_NAME)_bin$(DEBUG_PART)-symbols.tar.gz
931 TEST_DEMOS_BUNDLE_NAME := jdk-$(BASE_NAME)_bin-tests-demos$(DEBUG_PART).tar.gz
932 TEST_BUNDLE_NAME := jdk-$(BASE_NAME)_bin-tests$(DEBUG_PART).tar.gz
933 DOCS_BUNDLE_NAME := jdk-$(BASE_NAME)_doc-api-spec$(DEBUG_PART).tar.gz
934 STATIC_LIBS_BUNDLE_NAME := jdk-$(BASE_NAME)_bin-static-libs$(DEBUG_PART).tar.gz
935 JCOV_BUNDLE_NAME := jdk-jcov-$(BASE_NAME)_bin$(DEBUG_PART).$(JDK_BUNDLE_EXTENSION)
936 
937 JDK_BUNDLE := $(BUNDLES_OUTPUTDIR)/$(JDK_BUNDLE_NAME)
938 JRE_BUNDLE :=  $(BUNDLES_OUTPUTDIR)/$(JRE_BUNDLE_NAME)
939 JDK_SYMBOLS_BUNDLE :=  $(BUNDLES_OUTPUTDIR)/$(JDK_SYMBOLS_BUNDLE_NAME)
940 TEST_DEMOS_BUNDLE := $(BUNDLES_OUTPUTDIR)/$(TEST_DEMOS_BUNDLE_NAME)
941 TEST_BUNDLE :=  $(BUNDLES_OUTPUTDIR)/$(TEST_BUNDLE_NAME)
942 DOCS_BUNDLE :=  $(BUNDLES_OUTPUTDIR)/$(DOCS_BUNDLE_NAME)
943 JCOV_BUNDLE := $(BUNDLES_OUTPUTDIR)/$(JCOV_BUNDLE_NAME)
944 
945 # This macro is called to allow inclusion of closed source counterparts.
946 # Unless overridden in closed sources, it expands to nothing.
947 # Usage: This function is called in an open makefile, with the following
948 # argument:
949 # $1 the name of the makefile
950 define IncludeCustomExtension
951 endef
952 
953 # Include the custom-spec.gmk file if it exists
954 -include $(dir @SPEC@)/custom-spec.gmk
    </pre>
  </body>
</html>