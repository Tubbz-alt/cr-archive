<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/hotspot/jtreg/vmTestbase/gc/memory/Churn/Churn.README</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../Array/ArrayJuggle/Juggle2_gc/TestDescription.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="Churn1/Churn1.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/vmTestbase/gc/memory/Churn/Churn.README</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
<span class="line-modified">  1 Copyright (c) 2002, 2018, Oracle and/or its affiliates. All rights reserved.</span>
  2 DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  3 
  4 This code is free software; you can redistribute it and/or modify it
  5 under the terms of the GNU General Public License version 2 only, as
  6 published by the Free Software Foundation.
  7 
  8 This code is distributed in the hope that it will be useful, but WITHOUT
  9 ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 10 FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 11 version 2 for more details (a copy is included in the LICENSE file that
 12 accompanied this code).
 13 
 14 You should have received a copy of the GNU General Public License version
 15 2 along with this work; if not, write to the Free Software Foundation,
 16 Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 17 
 18 Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 19 or visit www.oracle.com if you need additional information or have any
 20 questions.
 21 
</pre>
<hr />
<pre>
 26 
 27 LocalRandom class -- used to isloate calls to random generator
 28         for reproducibility
 29 
 30 MemoryObject class -- simply allocated and reclaimed. contains
 31         a byte array
 32 
 33 Churn class -- entry point. Allocates threads and counts objects.
 34         When loop is done, sets Semaphore to signal threads to cease
 35 
 36 ThreadObject class -- allocates and deallocates (by assignment)
 37         MemoryObjects
 38 
 39 SemaphoreObject class -- static class for signalling threads when
 40         to stop running. Perhap poorly named.
 41 
 42 CommandLine class -- parses command line args. Static class.
 43 --------------------------
 44 Usage:
 45 
<span class="line-modified"> 46 java Churn [-l numberOfLoops] [-t numberOfThreads] [-a sizeOfArray] [-m multiplier] [-f &lt;run forever&gt;] [-s seed]</span>
 47 
 48 NOTE: the options can be passed in any order
 49 
 50 
<span class="line-removed"> 51 seed is the seed for the LocalRandom pseudo-random generator</span>
<span class="line-removed"> 52 </span>
 53 numberOfLoops is the number of iterations a test will go through.
 54 This defaults to 2000
 55 
 56 numberOfThreads is the number of threads activating and deactivating
 57 MemoryObjects. This deaults to 2.
 58 
 59 sizeOfArray is the number of MemoryObjects each thread manipulates.
 60 This defaults to 1024.
 61 
 62 multiplier is a value used to determine how much memory each MemoryObject
 63 holds. It defaults to 10.
 64 
 65 The tests can be configured to run forever by passing -f on the
 66 command line. This is useful for continued stress testing outside
 67 of a test harness.
 68 -----------------------------
 69 The total amount of needed memory is approximately
 70 numberOfThreads * (sizeOfArray * sizeOfArray) * (multiplier / 2) bytes
 71 
 72 The default is about 10 Megs needed, not couting garbage collection
</pre>
</td>
<td>
<hr />
<pre>
<span class="line-modified">  1 Copyright (c) 2002, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  2 DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  3 
  4 This code is free software; you can redistribute it and/or modify it
  5 under the terms of the GNU General Public License version 2 only, as
  6 published by the Free Software Foundation.
  7 
  8 This code is distributed in the hope that it will be useful, but WITHOUT
  9 ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 10 FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 11 version 2 for more details (a copy is included in the LICENSE file that
 12 accompanied this code).
 13 
 14 You should have received a copy of the GNU General Public License version
 15 2 along with this work; if not, write to the Free Software Foundation,
 16 Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 17 
 18 Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 19 or visit www.oracle.com if you need additional information or have any
 20 questions.
 21 
</pre>
<hr />
<pre>
 26 
 27 LocalRandom class -- used to isloate calls to random generator
 28         for reproducibility
 29 
 30 MemoryObject class -- simply allocated and reclaimed. contains
 31         a byte array
 32 
 33 Churn class -- entry point. Allocates threads and counts objects.
 34         When loop is done, sets Semaphore to signal threads to cease
 35 
 36 ThreadObject class -- allocates and deallocates (by assignment)
 37         MemoryObjects
 38 
 39 SemaphoreObject class -- static class for signalling threads when
 40         to stop running. Perhap poorly named.
 41 
 42 CommandLine class -- parses command line args. Static class.
 43 --------------------------
 44 Usage:
 45 
<span class="line-modified"> 46 java Churn [-l numberOfLoops] [-t numberOfThreads] [-a sizeOfArray] [-m multiplier] [-f &lt;run forever&gt;]</span>
 47 
 48 NOTE: the options can be passed in any order
 49 
 50 


 51 numberOfLoops is the number of iterations a test will go through.
 52 This defaults to 2000
 53 
 54 numberOfThreads is the number of threads activating and deactivating
 55 MemoryObjects. This deaults to 2.
 56 
 57 sizeOfArray is the number of MemoryObjects each thread manipulates.
 58 This defaults to 1024.
 59 
 60 multiplier is a value used to determine how much memory each MemoryObject
 61 holds. It defaults to 10.
 62 
 63 The tests can be configured to run forever by passing -f on the
 64 command line. This is useful for continued stress testing outside
 65 of a test harness.
 66 -----------------------------
 67 The total amount of needed memory is approximately
 68 numberOfThreads * (sizeOfArray * sizeOfArray) * (multiplier / 2) bytes
 69 
 70 The default is about 10 Megs needed, not couting garbage collection
</pre>
</td>
</tr>
</table>
<center><a href="../Array/ArrayJuggle/Juggle2_gc/TestDescription.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="Churn1/Churn1.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>