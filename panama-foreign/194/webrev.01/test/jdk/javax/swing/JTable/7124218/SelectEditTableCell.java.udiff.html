<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff test/jdk/javax/swing/JTable/7124218/SelectEditTableCell.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../../JComboBox/ConsumedKeyTest/ConsumedKeyTest.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../JTree/4330357/bug4330357.java.udiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/javax/swing/JTable/7124218/SelectEditTableCell.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -48,27 +48,32 @@</span>
      private static JTable table;
      private static Robot robot;
  
      public static void main(String[] args) throws Exception {
          robot = new Robot();
<span class="udiff-line-modified-removed">-         robot.delay(2000);</span>
<span class="udiff-line-modified-added">+         robot.setAutoDelay(100);</span>
          UIManager.LookAndFeelInfo[] lookAndFeelArray
                  = UIManager.getInstalledLookAndFeels();
          for (UIManager.LookAndFeelInfo lookAndFeelItem : lookAndFeelArray) {
              executeCase(lookAndFeelItem.getClassName());
          }
<span class="udiff-line-removed">- </span>
      }
  
      private static void executeCase(String lookAndFeelString) throws Exception {
<span class="udiff-line-modified-removed">-         if (tryLookAndFeel(lookAndFeelString)) {</span>
<span class="udiff-line-modified-removed">-             createUI(lookAndFeelString);</span>
<span class="udiff-line-modified-removed">-             robot.delay(2000);</span>
<span class="udiff-line-modified-removed">-             runTestCase();</span>
<span class="udiff-line-modified-removed">-             robot.delay(2000);</span>
<span class="udiff-line-modified-removed">-             cleanUp();</span>
<span class="udiff-line-modified-removed">-             robot.delay(2000);</span>
<span class="udiff-line-modified-added">+         try {</span>
<span class="udiff-line-modified-added">+             if (tryLookAndFeel(lookAndFeelString)) {</span>
<span class="udiff-line-modified-added">+                 createUI(lookAndFeelString);</span>
<span class="udiff-line-modified-added">+                 robot.delay(2000);</span>
<span class="udiff-line-modified-added">+                 runTestCase();</span>
<span class="udiff-line-modified-added">+                 robot.delay(2000);</span>
<span class="udiff-line-modified-added">+                 cleanUp();</span>
<span class="udiff-line-added">+                 robot.delay(2000);</span>
<span class="udiff-line-added">+             }</span>
<span class="udiff-line-added">+         } finally {</span>
<span class="udiff-line-added">+             if (frame != null) {</span>
<span class="udiff-line-added">+                 SwingUtilities.invokeAndWait(frame::dispose);</span>
<span class="udiff-line-added">+             }</span>
          }
  
      }
  
      private static void createUI(final String lookAndFeelString)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -98,10 +103,11 @@</span>
          centerPoint = Util.getCenterPoint(table);
          LookAndFeel lookAndFeel = UIManager.getLookAndFeel();
          robot.mouseMove(centerPoint.x, centerPoint.y);
          robot.mousePress(InputEvent.BUTTON1_MASK);
          robot.mouseRelease(InputEvent.BUTTON1_MASK);
<span class="udiff-line-added">+         robot.waitForIdle();</span>
          SwingUtilities.invokeAndWait(new Runnable() {
              @Override
              public void run() {
                  table.clearSelection();
                  if (table.isEditing() || table.isCellSelected(0, 0)) {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -110,11 +116,11 @@</span>
                      throw new AssertionError(&quot;Failed assumption: assumed no&quot;
                              + &quot;editing and no selection.&quot;);
                  }
              }
          });
<span class="udiff-line-modified-removed">-         robot.waitForIdle();</span>
<span class="udiff-line-modified-added">+ </span>
          int fetchKeyCode;
          keyTap(fetchKeyCode = isMac(lookAndFeel)
                  ? KeyEvent.VK_ENTER : KeyEvent.VK_SPACE);
          final int keyCode = fetchKeyCode;
          robot.waitForIdle();
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -127,11 +133,11 @@</span>
                              ? &quot;Enter&quot; : &quot;Space&quot;)
                              + &quot; should select cell&quot;);
                  }
              }
          });
<span class="udiff-line-modified-removed">-         robot.waitForIdle();</span>
<span class="udiff-line-modified-added">+ </span>
          keyTap(KeyEvent.VK_SPACE);
          robot.waitForIdle();
          SwingUtilities.invokeAndWait(new Runnable() {
              @Override
              public void run() {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -147,14 +153,16 @@</span>
                      throw new AssertionError(&quot;Failed assumption: assumed no &quot;
                              + &quot;editing and no selection.&quot;);
                  }
              }
          });
<span class="udiff-line-modified-removed">-         robot.waitForIdle();</span>
<span class="udiff-line-modified-added">+ </span>
          // hitting a letter key will start editing
          keyTap(KeyEvent.VK_A);
<span class="udiff-line-added">+         robot.waitForIdle();</span>
          keyTap(KeyEvent.VK_SPACE);
<span class="udiff-line-added">+         robot.waitForIdle();</span>
          keyTap(KeyEvent.VK_A);
          robot.waitForIdle();
          SwingUtilities.invokeAndWait(new Runnable() {
              @Override
              public void run() {
</pre>
<center><a href="../../JComboBox/ConsumedKeyTest/ConsumedKeyTest.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../JTree/4330357/bug4330357.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>