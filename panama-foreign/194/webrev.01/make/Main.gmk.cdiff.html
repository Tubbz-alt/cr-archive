<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff make/Main.gmk</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center><a href="GenerateLinkOptData.gmk.cdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="StaticLibsImage.gmk.cdiff.html" target="_top">next &gt;</a></center>    <h2>make/Main.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 215,11 ***</span>
  # a special deliverable.
  $(eval $(call DeclareRecipesForPhase, STATIC_LIBS, \
      TARGET_SUFFIX := static-libs, \
      FILE_PREFIX := Lib, \
      MAKE_SUBDIR := lib, \
<span class="line-modified">!     CHECK_MODULES := $(STATIC_LIBS_MODULES), \</span>
      EXTRA_ARGS := STATIC_LIBS=true, \
  ))
  
  ALL_TARGETS += $(STATIC_LIBS_TARGETS)
  
<span class="line-new-header">--- 215,11 ---</span>
  # a special deliverable.
  $(eval $(call DeclareRecipesForPhase, STATIC_LIBS, \
      TARGET_SUFFIX := static-libs, \
      FILE_PREFIX := Lib, \
      MAKE_SUBDIR := lib, \
<span class="line-modified">!     CHECK_MODULES := $(ALL_MODULES), \</span>
      EXTRA_ARGS := STATIC_LIBS=true, \
  ))
  
  ALL_TARGETS += $(STATIC_LIBS_TARGETS)
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 796,14 ***</span>
<span class="line-new-header">--- 796,18 ---</span>
        $(eval hotspot-$v-libs: hotspot-$v-gensrc java.base-copy) \
    )
  
    # If not already set, set the JVM variant target so that the JVM will be built.
    JVM_MAIN_LIB_TARGETS ?= hotspot-$(JVM_VARIANT_MAIN)-libs
<span class="line-added">+   JVM_MAIN_GENSRC_TARGETS ?= hotspot-$(JVM_VARIANT_MAIN)-gensrc</span>
  
    # Building one JVM variant is enough to start building the other libs
    $(LIBS_TARGETS): $(JVM_MAIN_LIB_TARGETS)
  
<span class="line-added">+   # Static libs depend on hotspot gensrc</span>
<span class="line-added">+   $(STATIC_LIBS_TARGETS): $(JVM_MAIN_GENSRC_TARGETS)</span>
<span class="line-added">+ </span>
    $(LAUNCHER_TARGETS): java.base-libs
  
    ifeq ($(STATIC_BUILD), true)
      $(LAUNCHER_TARGETS): generate-exported-symbols
    endif
</pre>
<center><a href="GenerateLinkOptData.gmk.cdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="StaticLibsImage.gmk.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>