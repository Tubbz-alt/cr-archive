<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/autoconf/spec.gmk.in</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="../StaticLibsImage.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="../common/Modules.gmk.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/autoconf/spec.gmk.in</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
633 JAVA_DETACH =@FIXPATH@ @FIXPATH_DETACH_FLAG@ $(JAVA_CMD) $(JAVA_FLAGS_BIG) $(JAVA_FLAGS)
634 JAVAC=@FIXPATH@ $(JAVAC_CMD)
635 JAVADOC=@FIXPATH@ $(JAVADOC_CMD)
636 JAR=@FIXPATH@ $(JAR_CMD)
637 JLINK = @FIXPATH@ $(JLINK_CMD)
638 JMOD = @FIXPATH@ $(JMOD_CMD) $(JAVA_TOOL_FLAGS_SMALL)
639 JARSIGNER=@FIXPATH@ $(JARSIGNER_CMD)
640 JJS=@FIXPATH@ $(JJS_CMD) $(JAVA_TOOL_FLAGS_SMALL)
641 
642 BUILD_JAVA_FLAGS := @BOOTCYCLE_JVM_ARGS_BIG@
643 BUILD_JAVA=@FIXPATH@ $(BUILD_JDK)/bin/java $(BUILD_JAVA_FLAGS)
644 BUILD_JAR=@FIXPATH@ $(BUILD_JDK)/bin/jar
645 
646 # Interim langtools modules and arguments
647 INTERIM_LANGTOOLS_BASE_MODULES := java.compiler jdk.compiler jdk.javadoc
648 INTERIM_LANGTOOLS_MODULES := $(addsuffix .interim, $(INTERIM_LANGTOOLS_BASE_MODULES))
649 INTERIM_LANGTOOLS_ADD_EXPORTS := \
650     --add-exports java.base/sun.reflect.annotation=jdk.compiler.interim \
651     --add-exports java.base/jdk.internal.jmod=jdk.compiler.interim \
652     --add-exports java.base/jdk.internal.misc=jdk.compiler.interim \

653     #
654 INTERIM_LANGTOOLS_MODULES_COMMA := $(strip $(subst $(SPACE),$(COMMA),$(strip \
655     $(INTERIM_LANGTOOLS_MODULES))))
656 INTERIM_LANGTOOLS_ARGS := \
657     --limit-modules java.base,jdk.zipfs,$(INTERIM_LANGTOOLS_MODULES_COMMA) \
658     --add-modules $(INTERIM_LANGTOOLS_MODULES_COMMA) \
659     --module-path $(BUILDTOOLS_OUTPUTDIR)/interim_langtools_modules \
660     $(INTERIM_LANGTOOLS_ADD_EXPORTS) \
661     #
662 JAVAC_MAIN_CLASS = -m jdk.compiler.interim/com.sun.tools.javac.Main
663 JAVADOC_MAIN_CLASS = -m jdk.javadoc.interim/jdk.javadoc.internal.tool.Main
664 
665 # You run the new javac using the boot jdk with $(BOOT_JDK)/bin/java $(NEW_JAVAC) ...
666 # Use = assignment to be able to override in bootcycle-spec.gmk
667 NEW_JAVAC   = $(INTERIM_LANGTOOLS_ARGS) $(JAVAC_MAIN_CLASS)
668 NEW_JAVADOC = $(INTERIM_LANGTOOLS_ARGS) $(JAVADOC_MAIN_CLASS)
669 
670 JLINK_KEEP_PACKAGED_MODULES:=@JLINK_KEEP_PACKAGED_MODULES@
671 
672 # Base flags for RC
</pre>
</td>
<td>
<hr />
<pre>
633 JAVA_DETACH =@FIXPATH@ @FIXPATH_DETACH_FLAG@ $(JAVA_CMD) $(JAVA_FLAGS_BIG) $(JAVA_FLAGS)
634 JAVAC=@FIXPATH@ $(JAVAC_CMD)
635 JAVADOC=@FIXPATH@ $(JAVADOC_CMD)
636 JAR=@FIXPATH@ $(JAR_CMD)
637 JLINK = @FIXPATH@ $(JLINK_CMD)
638 JMOD = @FIXPATH@ $(JMOD_CMD) $(JAVA_TOOL_FLAGS_SMALL)
639 JARSIGNER=@FIXPATH@ $(JARSIGNER_CMD)
640 JJS=@FIXPATH@ $(JJS_CMD) $(JAVA_TOOL_FLAGS_SMALL)
641 
642 BUILD_JAVA_FLAGS := @BOOTCYCLE_JVM_ARGS_BIG@
643 BUILD_JAVA=@FIXPATH@ $(BUILD_JDK)/bin/java $(BUILD_JAVA_FLAGS)
644 BUILD_JAR=@FIXPATH@ $(BUILD_JDK)/bin/jar
645 
646 # Interim langtools modules and arguments
647 INTERIM_LANGTOOLS_BASE_MODULES := java.compiler jdk.compiler jdk.javadoc
648 INTERIM_LANGTOOLS_MODULES := $(addsuffix .interim, $(INTERIM_LANGTOOLS_BASE_MODULES))
649 INTERIM_LANGTOOLS_ADD_EXPORTS := \
650     --add-exports java.base/sun.reflect.annotation=jdk.compiler.interim \
651     --add-exports java.base/jdk.internal.jmod=jdk.compiler.interim \
652     --add-exports java.base/jdk.internal.misc=jdk.compiler.interim \
<span class="line-added">653     --add-exports java.base/sun.invoke.util=jdk.compiler.interim \</span>
654     #
655 INTERIM_LANGTOOLS_MODULES_COMMA := $(strip $(subst $(SPACE),$(COMMA),$(strip \
656     $(INTERIM_LANGTOOLS_MODULES))))
657 INTERIM_LANGTOOLS_ARGS := \
658     --limit-modules java.base,jdk.zipfs,$(INTERIM_LANGTOOLS_MODULES_COMMA) \
659     --add-modules $(INTERIM_LANGTOOLS_MODULES_COMMA) \
660     --module-path $(BUILDTOOLS_OUTPUTDIR)/interim_langtools_modules \
661     $(INTERIM_LANGTOOLS_ADD_EXPORTS) \
662     #
663 JAVAC_MAIN_CLASS = -m jdk.compiler.interim/com.sun.tools.javac.Main
664 JAVADOC_MAIN_CLASS = -m jdk.javadoc.interim/jdk.javadoc.internal.tool.Main
665 
666 # You run the new javac using the boot jdk with $(BOOT_JDK)/bin/java $(NEW_JAVAC) ...
667 # Use = assignment to be able to override in bootcycle-spec.gmk
668 NEW_JAVAC   = $(INTERIM_LANGTOOLS_ARGS) $(JAVAC_MAIN_CLASS)
669 NEW_JAVADOC = $(INTERIM_LANGTOOLS_ARGS) $(JAVADOC_MAIN_CLASS)
670 
671 JLINK_KEEP_PACKAGED_MODULES:=@JLINK_KEEP_PACKAGED_MODULES@
672 
673 # Base flags for RC
</pre>
</td>
</tr>
</table>
<center><a href="../StaticLibsImage.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="../common/Modules.gmk.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>