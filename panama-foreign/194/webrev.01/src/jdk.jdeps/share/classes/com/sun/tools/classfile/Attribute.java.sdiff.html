<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.jdeps/share/classes/com/sun/tools/classfile/Attribute.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/toolkit/util/Utils.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ClassWriter.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.jdeps/share/classes/com/sun/tools/classfile/Attribute.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2007, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 50     public static final String InnerClasses             = &quot;InnerClasses&quot;;
 51     public static final String LineNumberTable          = &quot;LineNumberTable&quot;;
 52     public static final String LocalVariableTable       = &quot;LocalVariableTable&quot;;
 53     public static final String LocalVariableTypeTable   = &quot;LocalVariableTypeTable&quot;;
 54     public static final String MethodParameters         = &quot;MethodParameters&quot;;
 55     public static final String Module                   = &quot;Module&quot;;
 56     public static final String ModuleHashes             = &quot;ModuleHashes&quot;;
 57     public static final String ModuleMainClass          = &quot;ModuleMainClass&quot;;
 58     public static final String ModulePackages           = &quot;ModulePackages&quot;;
 59     public static final String ModuleResolution         = &quot;ModuleResolution&quot;;
 60     public static final String ModuleTarget             = &quot;ModuleTarget&quot;;
 61     public static final String NestHost                 = &quot;NestHost&quot;;
 62     public static final String NestMembers              = &quot;NestMembers&quot;;
 63     public static final String Record                   = &quot;Record&quot;;
 64     public static final String RuntimeVisibleAnnotations = &quot;RuntimeVisibleAnnotations&quot;;
 65     public static final String RuntimeInvisibleAnnotations = &quot;RuntimeInvisibleAnnotations&quot;;
 66     public static final String RuntimeVisibleParameterAnnotations = &quot;RuntimeVisibleParameterAnnotations&quot;;
 67     public static final String RuntimeInvisibleParameterAnnotations = &quot;RuntimeInvisibleParameterAnnotations&quot;;
 68     public static final String RuntimeVisibleTypeAnnotations = &quot;RuntimeVisibleTypeAnnotations&quot;;
 69     public static final String RuntimeInvisibleTypeAnnotations = &quot;RuntimeInvisibleTypeAnnotations&quot;;

 70     public static final String Signature                = &quot;Signature&quot;;
 71     public static final String SourceDebugExtension     = &quot;SourceDebugExtension&quot;;
 72     public static final String SourceFile               = &quot;SourceFile&quot;;
 73     public static final String SourceID                 = &quot;SourceID&quot;;
 74     public static final String StackMap                 = &quot;StackMap&quot;;
 75     public static final String StackMapTable            = &quot;StackMapTable&quot;;
 76     public static final String Synthetic                = &quot;Synthetic&quot;;
 77 
 78     public static class Factory {
 79         public Factory() {
 80             // defer init of standardAttributeClasses until after options set up
 81         }
 82 
 83         public Attribute createAttribute(ClassReader cr, int name_index, byte[] data)
 84                 throws IOException {
 85             if (standardAttributes == null) {
 86                 init();
 87             }
 88 
 89             ConstantPool cp = cr.getConstantPool();
</pre>
<hr />
<pre>
125             standardAttributes.put(InnerClasses,      InnerClasses_attribute.class);
126             standardAttributes.put(LineNumberTable,   LineNumberTable_attribute.class);
127             standardAttributes.put(LocalVariableTable, LocalVariableTable_attribute.class);
128             standardAttributes.put(LocalVariableTypeTable, LocalVariableTypeTable_attribute.class);
129             standardAttributes.put(MethodParameters,  MethodParameters_attribute.class);
130             standardAttributes.put(Module,            Module_attribute.class);
131             standardAttributes.put(ModuleHashes,      ModuleHashes_attribute.class);
132             standardAttributes.put(ModuleMainClass,   ModuleMainClass_attribute.class);
133             standardAttributes.put(ModulePackages,    ModulePackages_attribute.class);
134             standardAttributes.put(ModuleResolution,  ModuleResolution_attribute.class);
135             standardAttributes.put(ModuleTarget,      ModuleTarget_attribute.class);
136             standardAttributes.put(NestHost, NestHost_attribute.class);
137             standardAttributes.put(NestMembers, NestMembers_attribute.class);
138             standardAttributes.put(Record, Record_attribute.class);
139             standardAttributes.put(RuntimeInvisibleAnnotations, RuntimeInvisibleAnnotations_attribute.class);
140             standardAttributes.put(RuntimeInvisibleParameterAnnotations, RuntimeInvisibleParameterAnnotations_attribute.class);
141             standardAttributes.put(RuntimeVisibleAnnotations, RuntimeVisibleAnnotations_attribute.class);
142             standardAttributes.put(RuntimeVisibleParameterAnnotations, RuntimeVisibleParameterAnnotations_attribute.class);
143             standardAttributes.put(RuntimeVisibleTypeAnnotations, RuntimeVisibleTypeAnnotations_attribute.class);
144             standardAttributes.put(RuntimeInvisibleTypeAnnotations, RuntimeInvisibleTypeAnnotations_attribute.class);

145             standardAttributes.put(Signature,         Signature_attribute.class);
146             standardAttributes.put(SourceDebugExtension, SourceDebugExtension_attribute.class);
147             standardAttributes.put(SourceFile,        SourceFile_attribute.class);
148             standardAttributes.put(SourceID,          SourceID_attribute.class);
149             standardAttributes.put(StackMap,          StackMap_attribute.class);
150             standardAttributes.put(StackMapTable,     StackMapTable_attribute.class);
151             standardAttributes.put(Synthetic,         Synthetic_attribute.class);
152         }
153 
154         private Map&lt;String,Class&lt;? extends Attribute&gt;&gt; standardAttributes;
155     }
156 
157     public static Attribute read(ClassReader cr) throws IOException {
158         return cr.readAttribute();
159     }
160 
161     protected Attribute(int name_index, int length) {
162         attribute_name_index = name_index;
163         attribute_length = length;
164     }
</pre>
<hr />
<pre>
191         R visitInnerClasses(InnerClasses_attribute attr, P p);
192         R visitLineNumberTable(LineNumberTable_attribute attr, P p);
193         R visitLocalVariableTable(LocalVariableTable_attribute attr, P p);
194         R visitLocalVariableTypeTable(LocalVariableTypeTable_attribute attr, P p);
195         R visitMethodParameters(MethodParameters_attribute attr, P p);
196         R visitModule(Module_attribute attr, P p);
197         R visitModuleHashes(ModuleHashes_attribute attr, P p);
198         R visitModuleMainClass(ModuleMainClass_attribute attr, P p);
199         R visitModulePackages(ModulePackages_attribute attr, P p);
200         R visitModuleResolution(ModuleResolution_attribute attr, P p);
201         R visitModuleTarget(ModuleTarget_attribute attr, P p);
202         R visitNestHost(NestHost_attribute attr, P p);
203         R visitNestMembers(NestMembers_attribute attr, P p);
204         R visitRecord(Record_attribute attr, P p);
205         R visitRuntimeVisibleAnnotations(RuntimeVisibleAnnotations_attribute attr, P p);
206         R visitRuntimeInvisibleAnnotations(RuntimeInvisibleAnnotations_attribute attr, P p);
207         R visitRuntimeVisibleParameterAnnotations(RuntimeVisibleParameterAnnotations_attribute attr, P p);
208         R visitRuntimeInvisibleParameterAnnotations(RuntimeInvisibleParameterAnnotations_attribute attr, P p);
209         R visitRuntimeVisibleTypeAnnotations(RuntimeVisibleTypeAnnotations_attribute attr, P p);
210         R visitRuntimeInvisibleTypeAnnotations(RuntimeInvisibleTypeAnnotations_attribute attr, P p);

211         R visitSignature(Signature_attribute attr, P p);
212         R visitSourceDebugExtension(SourceDebugExtension_attribute attr, P p);
213         R visitSourceFile(SourceFile_attribute attr, P p);
214         R visitSourceID(SourceID_attribute attr, P p);
215         R visitStackMap(StackMap_attribute attr, P p);
216         R visitStackMapTable(StackMapTable_attribute attr, P p);
217         R visitSynthetic(Synthetic_attribute attr, P p);
218     }
219 }
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2007, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 50     public static final String InnerClasses             = &quot;InnerClasses&quot;;
 51     public static final String LineNumberTable          = &quot;LineNumberTable&quot;;
 52     public static final String LocalVariableTable       = &quot;LocalVariableTable&quot;;
 53     public static final String LocalVariableTypeTable   = &quot;LocalVariableTypeTable&quot;;
 54     public static final String MethodParameters         = &quot;MethodParameters&quot;;
 55     public static final String Module                   = &quot;Module&quot;;
 56     public static final String ModuleHashes             = &quot;ModuleHashes&quot;;
 57     public static final String ModuleMainClass          = &quot;ModuleMainClass&quot;;
 58     public static final String ModulePackages           = &quot;ModulePackages&quot;;
 59     public static final String ModuleResolution         = &quot;ModuleResolution&quot;;
 60     public static final String ModuleTarget             = &quot;ModuleTarget&quot;;
 61     public static final String NestHost                 = &quot;NestHost&quot;;
 62     public static final String NestMembers              = &quot;NestMembers&quot;;
 63     public static final String Record                   = &quot;Record&quot;;
 64     public static final String RuntimeVisibleAnnotations = &quot;RuntimeVisibleAnnotations&quot;;
 65     public static final String RuntimeInvisibleAnnotations = &quot;RuntimeInvisibleAnnotations&quot;;
 66     public static final String RuntimeVisibleParameterAnnotations = &quot;RuntimeVisibleParameterAnnotations&quot;;
 67     public static final String RuntimeInvisibleParameterAnnotations = &quot;RuntimeInvisibleParameterAnnotations&quot;;
 68     public static final String RuntimeVisibleTypeAnnotations = &quot;RuntimeVisibleTypeAnnotations&quot;;
 69     public static final String RuntimeInvisibleTypeAnnotations = &quot;RuntimeInvisibleTypeAnnotations&quot;;
<span class="line-added"> 70     public static final String PermittedSubclasses      = &quot;PermittedSubclasses&quot;;</span>
 71     public static final String Signature                = &quot;Signature&quot;;
 72     public static final String SourceDebugExtension     = &quot;SourceDebugExtension&quot;;
 73     public static final String SourceFile               = &quot;SourceFile&quot;;
 74     public static final String SourceID                 = &quot;SourceID&quot;;
 75     public static final String StackMap                 = &quot;StackMap&quot;;
 76     public static final String StackMapTable            = &quot;StackMapTable&quot;;
 77     public static final String Synthetic                = &quot;Synthetic&quot;;
 78 
 79     public static class Factory {
 80         public Factory() {
 81             // defer init of standardAttributeClasses until after options set up
 82         }
 83 
 84         public Attribute createAttribute(ClassReader cr, int name_index, byte[] data)
 85                 throws IOException {
 86             if (standardAttributes == null) {
 87                 init();
 88             }
 89 
 90             ConstantPool cp = cr.getConstantPool();
</pre>
<hr />
<pre>
126             standardAttributes.put(InnerClasses,      InnerClasses_attribute.class);
127             standardAttributes.put(LineNumberTable,   LineNumberTable_attribute.class);
128             standardAttributes.put(LocalVariableTable, LocalVariableTable_attribute.class);
129             standardAttributes.put(LocalVariableTypeTable, LocalVariableTypeTable_attribute.class);
130             standardAttributes.put(MethodParameters,  MethodParameters_attribute.class);
131             standardAttributes.put(Module,            Module_attribute.class);
132             standardAttributes.put(ModuleHashes,      ModuleHashes_attribute.class);
133             standardAttributes.put(ModuleMainClass,   ModuleMainClass_attribute.class);
134             standardAttributes.put(ModulePackages,    ModulePackages_attribute.class);
135             standardAttributes.put(ModuleResolution,  ModuleResolution_attribute.class);
136             standardAttributes.put(ModuleTarget,      ModuleTarget_attribute.class);
137             standardAttributes.put(NestHost, NestHost_attribute.class);
138             standardAttributes.put(NestMembers, NestMembers_attribute.class);
139             standardAttributes.put(Record, Record_attribute.class);
140             standardAttributes.put(RuntimeInvisibleAnnotations, RuntimeInvisibleAnnotations_attribute.class);
141             standardAttributes.put(RuntimeInvisibleParameterAnnotations, RuntimeInvisibleParameterAnnotations_attribute.class);
142             standardAttributes.put(RuntimeVisibleAnnotations, RuntimeVisibleAnnotations_attribute.class);
143             standardAttributes.put(RuntimeVisibleParameterAnnotations, RuntimeVisibleParameterAnnotations_attribute.class);
144             standardAttributes.put(RuntimeVisibleTypeAnnotations, RuntimeVisibleTypeAnnotations_attribute.class);
145             standardAttributes.put(RuntimeInvisibleTypeAnnotations, RuntimeInvisibleTypeAnnotations_attribute.class);
<span class="line-added">146             standardAttributes.put(PermittedSubclasses, PermittedSubclasses_attribute.class);</span>
147             standardAttributes.put(Signature,         Signature_attribute.class);
148             standardAttributes.put(SourceDebugExtension, SourceDebugExtension_attribute.class);
149             standardAttributes.put(SourceFile,        SourceFile_attribute.class);
150             standardAttributes.put(SourceID,          SourceID_attribute.class);
151             standardAttributes.put(StackMap,          StackMap_attribute.class);
152             standardAttributes.put(StackMapTable,     StackMapTable_attribute.class);
153             standardAttributes.put(Synthetic,         Synthetic_attribute.class);
154         }
155 
156         private Map&lt;String,Class&lt;? extends Attribute&gt;&gt; standardAttributes;
157     }
158 
159     public static Attribute read(ClassReader cr) throws IOException {
160         return cr.readAttribute();
161     }
162 
163     protected Attribute(int name_index, int length) {
164         attribute_name_index = name_index;
165         attribute_length = length;
166     }
</pre>
<hr />
<pre>
193         R visitInnerClasses(InnerClasses_attribute attr, P p);
194         R visitLineNumberTable(LineNumberTable_attribute attr, P p);
195         R visitLocalVariableTable(LocalVariableTable_attribute attr, P p);
196         R visitLocalVariableTypeTable(LocalVariableTypeTable_attribute attr, P p);
197         R visitMethodParameters(MethodParameters_attribute attr, P p);
198         R visitModule(Module_attribute attr, P p);
199         R visitModuleHashes(ModuleHashes_attribute attr, P p);
200         R visitModuleMainClass(ModuleMainClass_attribute attr, P p);
201         R visitModulePackages(ModulePackages_attribute attr, P p);
202         R visitModuleResolution(ModuleResolution_attribute attr, P p);
203         R visitModuleTarget(ModuleTarget_attribute attr, P p);
204         R visitNestHost(NestHost_attribute attr, P p);
205         R visitNestMembers(NestMembers_attribute attr, P p);
206         R visitRecord(Record_attribute attr, P p);
207         R visitRuntimeVisibleAnnotations(RuntimeVisibleAnnotations_attribute attr, P p);
208         R visitRuntimeInvisibleAnnotations(RuntimeInvisibleAnnotations_attribute attr, P p);
209         R visitRuntimeVisibleParameterAnnotations(RuntimeVisibleParameterAnnotations_attribute attr, P p);
210         R visitRuntimeInvisibleParameterAnnotations(RuntimeInvisibleParameterAnnotations_attribute attr, P p);
211         R visitRuntimeVisibleTypeAnnotations(RuntimeVisibleTypeAnnotations_attribute attr, P p);
212         R visitRuntimeInvisibleTypeAnnotations(RuntimeInvisibleTypeAnnotations_attribute attr, P p);
<span class="line-added">213         R visitPermittedSubclasses(PermittedSubclasses_attribute attr, P p);</span>
214         R visitSignature(Signature_attribute attr, P p);
215         R visitSourceDebugExtension(SourceDebugExtension_attribute attr, P p);
216         R visitSourceFile(SourceFile_attribute attr, P p);
217         R visitSourceID(SourceID_attribute attr, P p);
218         R visitStackMap(StackMap_attribute attr, P p);
219         R visitStackMapTable(StackMapTable_attribute attr, P p);
220         R visitSynthetic(Synthetic_attribute attr, P p);
221     }
222 }
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../../jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/toolkit/util/Utils.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ClassWriter.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>