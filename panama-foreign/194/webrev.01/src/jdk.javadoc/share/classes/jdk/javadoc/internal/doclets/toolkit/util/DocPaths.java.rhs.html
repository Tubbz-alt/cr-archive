<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/toolkit/util/DocPaths.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /*
  2  * Copyright (c) 1998, 2020, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 package jdk.javadoc.internal.doclets.toolkit.util;
 27 
 28 import javax.lang.model.element.ModuleElement;
 29 import javax.lang.model.element.PackageElement;
 30 import javax.lang.model.element.TypeElement;
 31 
 32 /**
 33  * Standard DocPath objects.
 34  *
 35  *  &lt;p&gt;&lt;b&gt;This is NOT part of any supported API.
 36  *  If you write code that depends on this, you do so at your own risk.
 37  *  This code and its internal interfaces are subject to change or
 38  *  deletion without notice.&lt;/b&gt;
 39  *
 40  */
 41 public class DocPaths {
 42     private final String moduleSeparator;
 43     private final Utils utils;
 44 
 45     public DocPaths(Utils utils) {
 46         this.utils = utils;
 47         moduleSeparator = &quot;/module-&quot;;
 48     }
 49 
 50     public static final DocPath DOT_DOT = DocPath.create(&quot;..&quot;);
 51 
 52     /** The name of the file for all classes index. */
 53     public static final DocPath ALLCLASSES_INDEX = DocPath.create(&quot;allclasses-index.html&quot;);
 54 
 55     /** The name of the file for all packages index. */
 56     public static final DocPath ALLPACKAGES_INDEX = DocPath.create(&quot;allpackages-index.html&quot;);
 57 
 58     /** The name of the sub-directory for storing class usage info. */
 59     public static final DocPath CLASS_USE = DocPath.create(&quot;class-use&quot;);
 60 
 61     /** The name of the file for constant values. */
 62     public static final DocPath CONSTANT_VALUES = DocPath.create(&quot;constant-values.html&quot;);
 63 
 64     /** The name of the fie for deprecated elements. */
 65     public static final DocPath DEPRECATED_LIST = DocPath.create(&quot;deprecated-list.html&quot;);
 66 
 67     /** The name of the subdirectory for user-provided additional documentation files. */
 68     public static final DocPath DOC_FILES = DocPath.create(&quot;doc-files&quot;);
 69 
 70     /** The name of the file for the element list. */
 71     public static final DocPath ELEMENT_LIST = DocPath.create(&quot;element-list&quot;);
 72 
 73     /** The name of the image file showing a magnifying glass on the search box. */
 74     public static final DocPath GLASS_IMG = DocPath.create(&quot;glass.png&quot;);
 75 
 76     /** The name of the file for help info. */
 77     public static final DocPath HELP_DOC = DocPath.create(&quot;help-doc.html&quot;);
 78 
 79     /** The name of the main index file. */
 80     public static final DocPath INDEX = DocPath.create(&quot;index.html&quot;);
 81 
 82     /** The name of the single index file for all classes. */
 83     public static final DocPath INDEX_ALL = DocPath.create(&quot;index-all.html&quot;);
 84 
 85     /** The name of the directory for the split index files. */
 86     public static final DocPath INDEX_FILES = DocPath.create(&quot;index-files&quot;);
 87 
 88     /**
 89      * Generate the name of one of the files in the split index.
 90      * @param n the position in the index
 91      * @return the path
 92      */
 93     public static DocPath indexN(int n) {
 94         return DocPath.create(&quot;index-&quot; + n + &quot;.html&quot;);
 95     }
 96 
 97     /** The name of the default javascript file. */
 98     public static final DocPath JAVASCRIPT = DocPath.create(&quot;script.js&quot;);
 99 
<a name="1" id="anc1"></a><span class="line-added">100     /** The name of the stylesheet file overriding jQuery UI stylesheet. */</span>
<span class="line-added">101     public static final DocPath JQUERY_OVERRIDES_CSS = DocPath.create(&quot;jquery-ui.overrides.css&quot;);</span>
<span class="line-added">102 </span>
103     /** The name of the directory for the jQuery. */
104     public static final DocPath JQUERY_FILES = DocPath.create(&quot;script-dir&quot;);
105 
<a name="2" id="anc2"></a>


106     /** The name of the default jQuery javascript file. */
<a name="3" id="anc3"></a><span class="line-modified">107     public static final DocPath JQUERY_JS = DocPath.create(&quot;jquery-3.4.1.min.js&quot;);</span>
108 
<a name="4" id="anc4"></a><span class="line-modified">109     /** The name of the default jQuery UI stylesheet file. */</span>
<span class="line-modified">110     public static final DocPath JQUERY_UI_CSS = DocPath.create(&quot;jquery-ui.min.css&quot;);</span>
<span class="line-added">111 </span>
<span class="line-added">112     /** The name of the default jQuery UI javascript file. */</span>
<span class="line-added">113     public static final DocPath JQUERY_UI_JS = DocPath.create(&quot;jquery-ui.min.js&quot;);</span>
114 
115     /** The name of the member search index js file. */
116     public static final DocPath MEMBER_SEARCH_INDEX_JS = DocPath.create(&quot;member-search-index.js&quot;);
117 
118     /** The name of the module search index js file. */
119     public static final DocPath MODULE_SEARCH_INDEX_JS = DocPath.create(&quot;module-search-index.js&quot;);
120 
121     /** The name of the file for the overview summary. */
122     public static final DocPath OVERVIEW_SUMMARY = DocPath.create(&quot;overview-summary.html&quot;);
123 
124     /** The name of the file for the overview tree. */
125     public static final DocPath OVERVIEW_TREE = DocPath.create(&quot;overview-tree.html&quot;);
126 
127     /** The name of the file for the package list. This is to support the legacy mode. */
128     public static final DocPath PACKAGE_LIST = DocPath.create(&quot;package-list&quot;);
129 
130     /** The name of the package search index js file. */
131     public static final DocPath PACKAGE_SEARCH_INDEX_JS = DocPath.create(&quot;package-search-index.js&quot;);
132 
133     /** The name of the file for the package summary. */
134     public static final DocPath PACKAGE_SUMMARY = DocPath.create(&quot;package-summary.html&quot;);
135 
136     /** The name of the file for the package tree. */
137     public static final DocPath PACKAGE_TREE = DocPath.create(&quot;package-tree.html&quot;);
138 
139     /** The name of the file for the package usage info. */
140     public static final DocPath PACKAGE_USE = DocPath.create(&quot;package-use.html&quot;);
141 
142     /** The name of the file for all system properties. */
143     public static final DocPath SYSTEM_PROPERTIES = DocPath.create(&quot;system-properties.html&quot;);
144 
145     /**
146      * Returns the path for a type element.
147      * For example, if the type element is {@code java.lang.Object},
148      * the path is {@code java/lang/Object.html}.
149      *
150      * @param typeElement the type element
151      * @return the path
152      */
153     public DocPath forClass(TypeElement typeElement) {
154         return (typeElement == null)
155                 ? DocPath.empty
156                 : forPackage(utils.containingPackage(typeElement)).resolve(forName(typeElement));
157     }
158 
159     /**
160      * Returns the path for the simple name of a type element.
161      * For example, if the type element is {@code java.lang.Object},
162      * the path is {@code Object.html}.
163      *
164      * @param typeElement the type element
165      * @return the path
166      */
167     public DocPath forName(TypeElement typeElement) {
168         return (typeElement == null)
169                 ? DocPath.empty
170                 : new DocPath(utils.getSimpleName(typeElement) + &quot;.html&quot;);
171     }
172 
173     public static DocPath forModule(ModuleElement mdle) {
174         return mdle == null || mdle.isUnnamed()
175                 ? DocPath.empty
176                 : DocPath.create(mdle.getQualifiedName().toString());
177     }
178 
179     /**
180      * Returns the path for the package of a type element.
181      * For example, if the type element is {@code java.lang.Object},
182      * the path is {@code java/lang}.
183      *
184      * @param typeElement the type element
185      * @return the path
186      */
187     public DocPath forPackage(TypeElement typeElement) {
188         return (typeElement == null)
189                 ? DocPath.empty
190                 : forPackage(utils.containingPackage(typeElement));
191     }
192 
193     /**
194      * Returns the path for a package.
195      * For example, if the package is {@code java.lang},
196      * the path is {@code java/lang}.
197      *
198      * @param pkgElement the package element
199      * @return the path
200      */
201     public DocPath forPackage(PackageElement pkgElement) {
202         if (pkgElement == null || pkgElement.isUnnamed()) {
203             return DocPath.empty;
204         }
205 
206         DocPath pkgPath = DocPath.create(pkgElement.getQualifiedName().toString().replace(&#39;.&#39;, &#39;/&#39;));
207         ModuleElement mdle = (ModuleElement) pkgElement.getEnclosingElement();
208         return forModule(mdle).resolve(pkgPath);
209     }
210 
211     /**
212      * Returns the inverse path for a package.
213      * For example, if the package is {@code java.lang},
214      * the inverse path is {@code ../..}.
215      *
216      * @param pkgElement the package element
217      * @return the path
218      */
219     public static DocPath forRoot(PackageElement pkgElement) {
220         String name = (pkgElement == null || pkgElement.isUnnamed())
221                 ? &quot;&quot;
222                 : pkgElement.getQualifiedName().toString();
223         return new DocPath(name.replace(&#39;.&#39;, &#39;/&#39;).replaceAll(&quot;[^/]+&quot;, &quot;..&quot;));
224     }
225 
226     /**
227      * Returns a relative path from one package to another.
228      *
229      * @param from the origin of the relative path
230      * @param to the destination of the relative path
231      * @return the path
232      */
233     public DocPath relativePath(PackageElement from, PackageElement to) {
234         return forRoot(from).resolve(forPackage(to));
235     }
236 
237     /**
238      * The path for the output directory for module documentation files.
239      * @param mdle the module
240      * @return the path
241      */
242     public DocPath moduleDocFiles(ModuleElement mdle) {
243         return createModulePath(mdle, &quot;doc-files&quot;);
244     }
245 
246     /**
247      * The path for the file for a module&#39;s summary page.
248      * @param mdle the module
249      * @return the path
250      */
251     public DocPath moduleSummary(ModuleElement mdle) {
252         return createModulePath(mdle, &quot;summary.html&quot;);
253     }
254 
255     /**
256      * The path for the file for a module&#39;s summary page.
257      * @param mdleName the module
258      * @return the path
259      */
260     public DocPath moduleSummary(String mdleName) {
261         return createModulePath(mdleName, &quot;summary.html&quot;);
262     }
263 
264     private DocPath createModulePath(ModuleElement mdle, String path) {
265         return DocPath.create(mdle.getQualifiedName() + moduleSeparator + path);
266     }
267 
268     private DocPath createModulePath(String moduleName, String path) {
269         return DocPath.create(moduleName + moduleSeparator + path);
270     }
271 
272     /** The name of the sub-package from which resources are read. */
273     public static final DocPath RESOURCES = DocPath.create(&quot;resources&quot;);
274 
275     /** The name of the search javascript file. */
276     public static final DocPath SEARCH_JS = DocPath.create(&quot;search.js&quot;);
277 
278     /** The name of the file for the serialized form info. */
279     public static final DocPath SERIALIZED_FORM = DocPath.create(&quot;serialized-form.html&quot;);
280 
281     /** The name of the directory in which HTML versions of the source code
282      *  are generated.
283      */
284     public static final DocPath SOURCE_OUTPUT = DocPath.create(&quot;src-html&quot;);
285 
286     /** The name of the default stylesheet. */
287     public static final DocPath STYLESHEET = DocPath.create(&quot;stylesheet.css&quot;);
288 
289     /** The name of the tag search index js file. */
290     public static final DocPath TAG_SEARCH_INDEX_JS = DocPath.create(&quot;tag-search-index.js&quot;);
291 
292     /** The name of the type search index js file. */
293     public static final DocPath TYPE_SEARCH_INDEX_JS = DocPath.create(&quot;type-search-index.js&quot;);
294 
295     /** The name of the image file for undo button on the search box. */
296     public static final DocPath X_IMG = DocPath.create(&quot;x.png&quot;);
297 
298 }
<a name="5" id="anc5"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="5" type="hidden" />
</body>
</html>