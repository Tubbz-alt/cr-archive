<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/cpu/aarch64/c1_LIRGenerator_aarch64.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="aarch64.ad.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="macroAssembler_aarch64.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/cpu/aarch64/c1_LIRGenerator_aarch64.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 457,11 ***</span>
        right.load_item();
      }
      if (need_zero_check) {
        CodeEmitInfo* info = state_for(x);
        __ cmp(lir_cond_equal, right.result(), LIR_OprFact::longConst(0));
<span class="line-modified">!       __ branch(lir_cond_equal, T_LONG, new DivByZeroStub(info));</span>
      }
  
      rlock_result(x);
      switch (x-&gt;op()) {
      case Bytecodes::_lrem:
<span class="line-new-header">--- 457,11 ---</span>
        right.load_item();
      }
      if (need_zero_check) {
        CodeEmitInfo* info = state_for(x);
        __ cmp(lir_cond_equal, right.result(), LIR_OprFact::longConst(0));
<span class="line-modified">!       __ branch(lir_cond_equal, new DivByZeroStub(info));</span>
      }
  
      rlock_result(x);
      switch (x-&gt;op()) {
      case Bytecodes::_lrem:
</pre>
<hr />
<pre>
<span class="line-old-header">*** 532,11 ***</span>
        right_arg-&gt;load_item();
      }
      if (need_zero_check) {
        CodeEmitInfo* info = state_for(x);
        __ cmp(lir_cond_equal, right_arg-&gt;result(), LIR_OprFact::longConst(0));
<span class="line-modified">!       __ branch(lir_cond_equal, T_INT, new DivByZeroStub(info));</span>
      }
  
      LIR_Opr ill = LIR_OprFact::illegalOpr;
      if (x-&gt;op() == Bytecodes::_irem) {
        __ irem(left_arg-&gt;result(), right_arg-&gt;result(), x-&gt;operand(), ill, NULL);
<span class="line-new-header">--- 532,11 ---</span>
        right_arg-&gt;load_item();
      }
      if (need_zero_check) {
        CodeEmitInfo* info = state_for(x);
        __ cmp(lir_cond_equal, right_arg-&gt;result(), LIR_OprFact::longConst(0));
<span class="line-modified">!       __ branch(lir_cond_equal, new DivByZeroStub(info));</span>
      }
  
      LIR_Opr ill = LIR_OprFact::illegalOpr;
      if (x-&gt;op() == Bytecodes::_irem) {
        __ irem(left_arg-&gt;result(), right_arg-&gt;result(), x-&gt;operand(), ill, NULL);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1382,13 ***</span>
    __ cmp(lir_cond(cond), left, right);
    // Generate branch profiling. Profiling code doesn&#39;t kill flags.
    profile_branch(x, cond);
    move_to_phi(x-&gt;state());
    if (x-&gt;x()-&gt;type()-&gt;is_float_kind()) {
<span class="line-modified">!     __ branch(lir_cond(cond), right-&gt;type(), x-&gt;tsux(), x-&gt;usux());</span>
    } else {
<span class="line-modified">!     __ branch(lir_cond(cond), right-&gt;type(), x-&gt;tsux());</span>
    }
    assert(x-&gt;default_sux() == x-&gt;fsux(), &quot;wrong destination above&quot;);
    __ jump(x-&gt;default_sux());
  }
  
<span class="line-new-header">--- 1382,13 ---</span>
    __ cmp(lir_cond(cond), left, right);
    // Generate branch profiling. Profiling code doesn&#39;t kill flags.
    profile_branch(x, cond);
    move_to_phi(x-&gt;state());
    if (x-&gt;x()-&gt;type()-&gt;is_float_kind()) {
<span class="line-modified">!     __ branch(lir_cond(cond), x-&gt;tsux(), x-&gt;usux());</span>
    } else {
<span class="line-modified">!     __ branch(lir_cond(cond), x-&gt;tsux());</span>
    }
    assert(x-&gt;default_sux() == x-&gt;fsux(), &quot;wrong destination above&quot;);
    __ jump(x-&gt;default_sux());
  }
  
</pre>
<center><a href="aarch64.ad.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="macroAssembler_aarch64.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>