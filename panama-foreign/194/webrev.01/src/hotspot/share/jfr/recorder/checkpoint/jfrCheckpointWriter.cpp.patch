diff a/src/hotspot/share/jfr/recorder/checkpoint/jfrCheckpointWriter.cpp b/src/hotspot/share/jfr/recorder/checkpoint/jfrCheckpointWriter.cpp
--- a/src/hotspot/share/jfr/recorder/checkpoint/jfrCheckpointWriter.cpp
+++ b/src/hotspot/share/jfr/recorder/checkpoint/jfrCheckpointWriter.cpp
@@ -124,11 +124,12 @@
   this->commit();
   assert(0 == this->current_offset(), "invariant");
 }
 
 void JfrCheckpointWriter::write_type(JfrTypeId type_id) {
-  assert(type_id < TYPES_END, "invariant");
+  assert(type_id <= LAST_TYPE_ID, "type id overflow invariant");
+  assert(type_id >= FIRST_TYPE_ID, "type id underflow invariant");
   write<u8>(type_id);
   increment();
 }
 
 void JfrCheckpointWriter::write_key(u8 key) {
