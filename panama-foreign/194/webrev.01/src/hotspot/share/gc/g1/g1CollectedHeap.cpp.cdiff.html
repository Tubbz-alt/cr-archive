<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/share/gc/g1/g1CollectedHeap.cpp</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="c2/g1BarrierSetC2.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../parallel/parallelScavengeHeap.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/gc/g1/g1CollectedHeap.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 2505,15 ***</span>
    }
  }
  
  void G1CollectedHeap::print_on(outputStream* st) const {
    st-&gt;print(&quot; %-20s&quot;, &quot;garbage-first heap&quot;);
<span class="line-modified">!   st-&gt;print(&quot; total &quot; SIZE_FORMAT &quot;K, used &quot; SIZE_FORMAT &quot;K&quot;,</span>
<span class="line-modified">!             capacity()/K, used_unlocked()/K);</span>
<span class="line-modified">!   st-&gt;print(&quot; [&quot; PTR_FORMAT &quot;, &quot; PTR_FORMAT &quot;)&quot;,</span>
<span class="line-modified">!             p2i(_hrm-&gt;reserved().start()),</span>
<span class="line-modified">!             p2i(_hrm-&gt;reserved().end()));</span>
    st-&gt;cr();
    st-&gt;print(&quot;  region size &quot; SIZE_FORMAT &quot;K, &quot;, HeapRegion::GrainBytes / K);
    uint young_regions = young_regions_count();
    st-&gt;print(&quot;%u young (&quot; SIZE_FORMAT &quot;K), &quot;, young_regions,
              (size_t) young_regions * HeapRegion::GrainBytes / K);
<span class="line-new-header">--- 2505,17 ---</span>
    }
  }
  
  void G1CollectedHeap::print_on(outputStream* st) const {
    st-&gt;print(&quot; %-20s&quot;, &quot;garbage-first heap&quot;);
<span class="line-modified">!   if (_hrm != NULL) {</span>
<span class="line-modified">!     st-&gt;print(&quot; total &quot; SIZE_FORMAT &quot;K, used &quot; SIZE_FORMAT &quot;K&quot;,</span>
<span class="line-modified">!               capacity()/K, used_unlocked()/K);</span>
<span class="line-modified">!     st-&gt;print(&quot; [&quot; PTR_FORMAT &quot;, &quot; PTR_FORMAT &quot;)&quot;,</span>
<span class="line-modified">!               p2i(_hrm-&gt;reserved().start()),</span>
<span class="line-added">+               p2i(_hrm-&gt;reserved().end()));</span>
<span class="line-added">+   }</span>
    st-&gt;cr();
    st-&gt;print(&quot;  region size &quot; SIZE_FORMAT &quot;K, &quot;, HeapRegion::GrainBytes / K);
    uint young_regions = young_regions_count();
    st-&gt;print(&quot;%u young (&quot; SIZE_FORMAT &quot;K), &quot;, young_regions,
              (size_t) young_regions * HeapRegion::GrainBytes / K);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2524,18 ***</span>
    if (_numa-&gt;is_enabled()) {
      uint num_nodes = _numa-&gt;num_active_nodes();
      st-&gt;print(&quot;  remaining free region(s) on each NUMA node: &quot;);
      const int* node_ids = _numa-&gt;node_ids();
      for (uint node_index = 0; node_index &lt; num_nodes; node_index++) {
<span class="line-modified">!       st-&gt;print(&quot;%d=%u &quot;, node_ids[node_index], _hrm-&gt;num_free_regions(node_index));</span>
      }
      st-&gt;cr();
    }
    MetaspaceUtils::print_on(st);
  }
  
  void G1CollectedHeap::print_regions_on(outputStream* st) const {
    st-&gt;print_cr(&quot;Heap Regions: E=young(eden), S=young(survivor), O=old, &quot;
                 &quot;HS=humongous(starts), HC=humongous(continues), &quot;
                 &quot;CS=collection set, F=free, &quot;
                 &quot;OA=open archive, CA=closed archive, &quot;
                 &quot;TAMS=top-at-mark-start (previous, next)&quot;);
<span class="line-new-header">--- 2526,23 ---</span>
    if (_numa-&gt;is_enabled()) {
      uint num_nodes = _numa-&gt;num_active_nodes();
      st-&gt;print(&quot;  remaining free region(s) on each NUMA node: &quot;);
      const int* node_ids = _numa-&gt;node_ids();
      for (uint node_index = 0; node_index &lt; num_nodes; node_index++) {
<span class="line-modified">!       uint num_free_regions = (_hrm != NULL ? _hrm-&gt;num_free_regions(node_index) : 0);</span>
<span class="line-added">+       st-&gt;print(&quot;%d=%u &quot;, node_ids[node_index], num_free_regions);</span>
      }
      st-&gt;cr();
    }
    MetaspaceUtils::print_on(st);
  }
  
  void G1CollectedHeap::print_regions_on(outputStream* st) const {
<span class="line-added">+   if (_hrm == NULL) {</span>
<span class="line-added">+     return;</span>
<span class="line-added">+   }</span>
<span class="line-added">+ </span>
    st-&gt;print_cr(&quot;Heap Regions: E=young(eden), S=young(survivor), O=old, &quot;
                 &quot;HS=humongous(starts), HC=humongous(continues), &quot;
                 &quot;CS=collection set, F=free, &quot;
                 &quot;OA=open archive, CA=closed archive, &quot;
                 &quot;TAMS=top-at-mark-start (previous, next)&quot;);
</pre>
<center><a href="c2/g1BarrierSetC2.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../parallel/parallelScavengeHeap.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>