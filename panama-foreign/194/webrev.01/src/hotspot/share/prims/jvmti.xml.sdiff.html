<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/prims/jvmti.xml</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="jvm.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="jvmtiClassFileReconstituter.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/prims/jvmti.xml</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 6883           &lt;description&gt;
 6884             On return, points to the number of classes.
 6885           &lt;/description&gt;
 6886         &lt;/param&gt;
 6887         &lt;param id=&quot;classes_ptr&quot;&gt;
 6888           &lt;allocbuf outcount=&quot;class_count_ptr&quot;&gt;&lt;jclass/&gt;&lt;/allocbuf&gt;
 6889             &lt;description&gt;
 6890               On return, points to an array of references, one
 6891               for each class.
 6892             &lt;/description&gt;
 6893         &lt;/param&gt;
 6894       &lt;/parameters&gt;
 6895       &lt;errors&gt;
 6896       &lt;/errors&gt;
 6897     &lt;/function&gt;
 6898 
 6899     &lt;function id=&quot;GetClassLoaderClasses&quot; jkernel=&quot;yes&quot; num=&quot;79&quot;&gt;
 6900       &lt;synopsis&gt;Get Classloader Classes&lt;/synopsis&gt;
 6901       &lt;description&gt;
 6902         Returns an array of all classes which this class loader
<span class="line-modified"> 6903         can find by name via </span>
 6904         &lt;externallink id=&quot;../api/java.base/java/lang/ClassLoader.html#loadClass(java.lang.String,boolean)&quot;&gt;ClassLoader::loadClass&lt;/externallink&gt;,
 6905         &lt;externallink id=&quot;../api/java.base/java/lang/Class.html#forName(java.lang.String,boolean,java.lang.ClassLoader)&quot;&gt;Class::forName&lt;/externallink&gt; and bytecode linkage.
 6906         That is, all classes for which &lt;code&gt;initiating_loader&lt;/code&gt;
 6907         has been recorded as an initiating loader.
 6908         Each class in the returned array was created by this class loader,
 6909         either by defining it directly or by delegation to another class loader.
 6910         See &lt;vmspec chapter=&quot;5.3&quot;/&gt;.
 6911         &lt;p/&gt;
 6912         The returned list does not include
 6913         &lt;externallink id=&quot;../api/java.base/java/lang/Class.html#isHidden()&quot;&gt;hidden
 6914         classes or interfaces&lt;/externallink&gt; or array classes whose
 6915         element type is a hidden class or interface as they cannot be discovered
 6916         by any class loader.
 6917         &lt;p/&gt;
 6918         The number of classes in the array is returned via
 6919         &lt;code&gt;class_count_ptr&lt;/code&gt;, and the array itself via
 6920         &lt;code&gt;classes_ptr&lt;/code&gt;.
 6921         &lt;p/&gt;
 6922         See &lt;externallink id=&quot;../api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte[],boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)&quot;&gt;Lookup::defineHiddenClass&lt;/externallink&gt;.
 6923       &lt;/description&gt;
</pre>
<hr />
<pre>
 7663         Threads need not be suspended.
 7664         &lt;p/&gt;
 7665         All breakpoints in the class are cleared.
 7666         &lt;p/&gt;
 7667         All attributes are updated.
 7668         &lt;p/&gt;
 7669         Instances of the retransformed class are not affected -- fields retain their
 7670         previous values.
 7671         &lt;functionlink id=&quot;GetTag&quot;&gt;Tags&lt;/functionlink&gt; on the instances are
 7672         also unaffected.
 7673         &lt;p/&gt;
 7674         In response to this call, no events other than the
 7675         &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event
 7676         will be sent.
 7677         &lt;p/&gt;
 7678         The retransformation may change method bodies, the constant pool and attributes
 7679         (unless explicitly prohibited).
 7680         The retransformation must not add, remove or rename fields or methods, change the
 7681         signatures of methods, change modifiers, or change inheritance.
 7682         The retransformation must not change the &lt;code&gt;NestHost&lt;/code&gt;,
<span class="line-modified"> 7683         &lt;code&gt;NestMembers&lt;/code&gt;, or &lt;code&gt;Record&lt;/code&gt; attributes.</span>

 7684         These restrictions may be lifted in future versions.
 7685         See the error return description below for information on error codes
 7686         returned if an unsupported retransformation is attempted.
 7687         The class file bytes are not verified or installed until they have passed
 7688         through the chain of &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events, thus the
 7689         returned error code reflects the result of the transformations.
 7690         If any error code is returned other than &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;,
 7691         none of the classes to be retransformed will have a new definition installed.
 7692         When this function returns (with the error code of &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;)
 7693         all of the classes to be retransformed will have their new definitions installed.
 7694       &lt;/description&gt;
 7695       &lt;origin&gt;new&lt;/origin&gt;
 7696       &lt;capabilities&gt;
 7697         &lt;required id=&quot;can_retransform_classes&quot;&gt;&lt;/required&gt;
 7698         &lt;capability id=&quot;can_retransform_any_class&quot;&gt;&lt;/capability&gt;
 7699       &lt;/capabilities&gt;
 7700       &lt;parameters&gt;
 7701         &lt;param id=&quot;class_count&quot;&gt;
 7702           &lt;jint min=&quot;0&quot;/&gt;
 7703           &lt;description&gt;
</pre>
<hr />
<pre>
 7816         Threads need not be suspended.
 7817         &lt;p/&gt;
 7818         All breakpoints in the class are cleared.
 7819         &lt;p/&gt;
 7820         All attributes are updated.
 7821         &lt;p/&gt;
 7822         Instances of the redefined class are not affected -- fields retain their
 7823         previous values.
 7824         &lt;functionlink id=&quot;GetTag&quot;&gt;Tags&lt;/functionlink&gt; on the instances are
 7825         also unaffected.
 7826         &lt;p/&gt;
 7827         In response to this call, the &lt;jvmti/&gt; event
 7828         &lt;eventlink id=&quot;ClassFileLoadHook&quot;&gt;Class File Load Hook&lt;/eventlink&gt;
 7829         will be sent (if enabled), but no other &lt;jvmti/&gt; events will be sent.
 7830         &lt;p/&gt;
 7831         The redefinition may change method bodies, the constant pool and attributes
 7832         (unless explicitly prohibited).
 7833         The redefinition must not add, remove or rename fields or methods, change the
 7834         signatures of methods, change modifiers, or change inheritance.
 7835         The redefinition must not change the &lt;code&gt;NestHost&lt;/code&gt;,
<span class="line-modified"> 7836         &lt;code&gt;NestMembers&lt;/code&gt;, or &lt;code&gt;Record&lt;/code&gt; attributes.</span>

 7837         These restrictions may be lifted in future versions.
 7838         See the error return description below for information on error codes
 7839         returned if an unsupported redefinition is attempted.
 7840         The class file bytes are not verified or installed until they have passed
 7841         through the chain of &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events, thus the
 7842         returned error code reflects the result of the transformations applied
 7843         to the bytes passed into &lt;paramlink id=&quot;class_definitions&quot;/&gt;.
 7844         If any error code is returned other than &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;,
 7845         none of the classes to be redefined will have a new definition installed.
 7846         When this function returns (with the error code of &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;)
 7847         all of the classes to be redefined will have their new definitions installed.
 7848       &lt;/description&gt;
 7849       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7850       &lt;capabilities&gt;
 7851         &lt;required id=&quot;can_redefine_classes&quot;&gt;&lt;/required&gt;
 7852         &lt;capability id=&quot;can_redefine_any_class&quot;&gt;&lt;/capability&gt;
 7853       &lt;/capabilities&gt;
 7854       &lt;parameters&gt;
 7855         &lt;param id=&quot;class_count&quot;&gt;
 7856           &lt;jint min=&quot;0&quot;/&gt;
</pre>
<hr />
<pre>
12264           The new value
12265         &lt;/description&gt;
12266       &lt;/param&gt;
12267     &lt;/parameters&gt;
12268   &lt;/event&gt;
12269 
12270   &lt;event label=&quot;Frame Pop&quot;
12271          id=&quot;FramePop&quot; const=&quot;JVMTI_EVENT_FRAME_POP&quot; filtered=&quot;thread&quot; num=&quot;61&quot;&gt;
12272     &lt;description&gt;
12273       Frame pop events are generated upon exit from a single method
12274       in a single frame as specified
12275       in a call to &lt;functionlink id=&quot;NotifyFramePop&quot;&gt;&lt;/functionlink&gt;.
12276       This is true whether termination is caused by
12277       executing its return instruction
12278       or by throwing an exception to its caller
12279       (see &lt;paramlink id=&quot;was_popped_by_exception&quot;&gt;&lt;/paramlink&gt;).
12280       However, frame pops caused by the &lt;functionlink id=&quot;PopFrame&quot;/&gt;
12281       function are not reported.
12282       &lt;p/&gt;
12283       The location reported by &lt;functionlink id=&quot;GetFrameLocation&quot;&gt;&lt;/functionlink&gt;
<span class="line-modified">12284       identifies the executable location in the returning method,</span>
12285       immediately prior to the return.
12286     &lt;/description&gt;
12287     &lt;origin&gt;jvmdi&lt;/origin&gt;
12288     &lt;capabilities&gt;
12289       &lt;required id=&quot;can_generate_frame_pop_events&quot;&gt;&lt;/required&gt;
12290     &lt;/capabilities&gt;
12291     &lt;parameters&gt;
12292       &lt;param id=&quot;jni_env&quot;&gt;
12293         &lt;outptr&gt;
12294           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12295         &lt;/outptr&gt;
12296           &lt;description&gt;
12297             The JNI environment of the event (current) thread
12298           &lt;/description&gt;
12299       &lt;/param&gt;
12300       &lt;param id=&quot;thread&quot;&gt;
12301         &lt;jthread/&gt;
12302           &lt;description&gt;
12303             Thread that is popping the frame
12304           &lt;/description&gt;
</pre>
<hr />
<pre>
12315             Method being popped
12316           &lt;/description&gt;
12317       &lt;/param&gt;
12318       &lt;param id=&quot;was_popped_by_exception&quot;&gt;
12319         &lt;jboolean/&gt;
12320         &lt;description&gt;
12321           True if frame was popped by a thrown exception.
12322           False if method exited through its return instruction.
12323         &lt;/description&gt;
12324       &lt;/param&gt;
12325     &lt;/parameters&gt;
12326   &lt;/event&gt;
12327 
12328   &lt;event label=&quot;Method Entry&quot;
12329          id=&quot;MethodEntry&quot; const=&quot;JVMTI_EVENT_METHOD_ENTRY&quot; filtered=&quot;thread&quot; num=&quot;65&quot;&gt;
12330     &lt;description&gt;
12331       Method entry events are generated upon entry of Java
12332       programming language methods (including native methods).
12333       &lt;p/&gt;
12334       The location reported by &lt;functionlink id=&quot;GetFrameLocation&quot;&gt;&lt;/functionlink&gt;
<span class="line-modified">12335       identifies the initial executable location in</span>
<span class="line-removed">12336       the method.</span>
12337       &lt;p/&gt;
12338       Enabling method
12339       entry or exit events will significantly degrade performance on many platforms and is thus
12340       not advised for performance critical usage (such as profiling).
12341       &lt;internallink id=&quot;bci&quot;&gt;Bytecode instrumentation&lt;/internallink&gt; should be
12342       used in these cases.
12343     &lt;/description&gt;
12344     &lt;origin&gt;jvmdi&lt;/origin&gt;
12345     &lt;capabilities&gt;
12346       &lt;required id=&quot;can_generate_method_entry_events&quot;&gt;&lt;/required&gt;
12347     &lt;/capabilities&gt;
12348     &lt;parameters&gt;
12349       &lt;param id=&quot;jni_env&quot;&gt;
12350         &lt;outptr&gt;
12351           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12352         &lt;/outptr&gt;
12353           &lt;description&gt;
12354             The JNI environment of the event (current) thread
12355           &lt;/description&gt;
12356       &lt;/param&gt;
</pre>
<hr />
<pre>
12368       &lt;/param&gt;
12369       &lt;param id=&quot;method&quot;&gt;
12370         &lt;jmethodID class=&quot;klass&quot;/&gt;
12371           &lt;description&gt;
12372             Method being entered
12373           &lt;/description&gt;
12374       &lt;/param&gt;
12375     &lt;/parameters&gt;
12376   &lt;/event&gt;
12377 
12378   &lt;event label=&quot;Method Exit&quot;
12379          id=&quot;MethodExit&quot; const=&quot;JVMTI_EVENT_METHOD_EXIT&quot; filtered=&quot;thread&quot; num=&quot;66&quot;&gt;
12380     &lt;description&gt;
12381       Method exit events are generated upon exit from Java
12382       programming language methods (including native methods).
12383       This is true whether termination is caused by
12384       executing its return instruction
12385       or by throwing an exception to its caller
12386       (see &lt;paramlink id=&quot;was_popped_by_exception&quot;&gt;&lt;/paramlink&gt;).
12387       &lt;p/&gt;
<span class="line-removed">12388       The &lt;code&gt;method&lt;/code&gt; field uniquely identifies the</span>
<span class="line-removed">12389       method being entered or exited. The &lt;code&gt;frame&lt;/code&gt; field provides</span>
<span class="line-removed">12390       access to the stack frame for the method.</span>
<span class="line-removed">12391       &lt;p/&gt;</span>
12392       The location reported by &lt;functionlink id=&quot;GetFrameLocation&quot;&gt;&lt;/functionlink&gt;
<span class="line-modified">12393       identifies the executable location in the returning method</span>
12394       immediately prior to the return.
12395       &lt;p/&gt;
12396         Enabling method
12397         entry or exit events will significantly degrade performance on many platforms and is thus
12398         not advised for performance critical usage (such as profiling).
12399         &lt;internallink id=&quot;bci&quot;&gt;Bytecode instrumentation&lt;/internallink&gt; should be
12400         used in these cases.
12401     &lt;/description&gt;
12402     &lt;origin&gt;jvmdi&lt;/origin&gt;
12403     &lt;capabilities&gt;
12404       &lt;required id=&quot;can_generate_method_exit_events&quot;&gt;&lt;/required&gt;
12405     &lt;/capabilities&gt;
12406     &lt;parameters&gt;
12407       &lt;param id=&quot;jni_env&quot;&gt;
12408         &lt;outptr&gt;
12409           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12410         &lt;/outptr&gt;
12411           &lt;description&gt;
12412             The JNI environment of the event (current) thread
12413           &lt;/description&gt;
</pre>
<hr />
<pre>
15011           to change the class file NestHost and NestMembers attributes.
15012         - Add new error JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_ATTRIBUTE_CHANGED
15013           that can be returned by RedefineClasses and RetransformClasses.
15014   &lt;/change&gt;
15015   &lt;change date=&quot;20 May 2019&quot; version=&quot;13.0.0&quot;&gt;
15016       Minor spec update for the capability &quot;can_redefine_any_class&quot;.
15017       It now says:
15018        &quot;RedefineClasses can be called on any modifiable class. See IsModifiableClass.
15019        (can_redefine_classes must also be set)&quot;
15020   &lt;/change&gt;
15021   &lt;change date=&quot;5 June 2019&quot; version=&quot;13.0.0&quot;&gt;
15022       Minor PopFrame spec update:
15023         - The specified thread must be suspended or must be the current thread.
15024           (It was not allowed to be the current thread before.)
15025   &lt;/change&gt;
15026   &lt;change date=&quot;10 October 2019&quot; version=&quot;14.0.0&quot;&gt;
15027       Minor update for new class file Record attribute:
15028         - Specify that RedefineClasses and RetransformClasses are not allowed
15029           to change the class file Record attribute.
15030   &lt;/change&gt;





15031 &lt;/changehistory&gt;
15032 
15033 &lt;/specification&gt;
15034 &lt;!-- Keep this comment at the end of the file
15035 Local variables:
15036 mode: sgml
15037 sgml-omittag:t
15038 sgml-shorttag:t
15039 sgml-namecase-general:t
15040 sgml-general-insert-case:lower
15041 sgml-minimize-attributes:nil
15042 sgml-always-quote-attributes:t
15043 sgml-indent-step:2
15044 sgml-indent-data:t
15045 sgml-parent-document:nil
15046 sgml-exposed-tags:nil
15047 sgml-local-catalogs:nil
15048 sgml-local-ecat-files:nil
15049 End:
15050 --&gt;
</pre>
</td>
<td>
<hr />
<pre>
 6883           &lt;description&gt;
 6884             On return, points to the number of classes.
 6885           &lt;/description&gt;
 6886         &lt;/param&gt;
 6887         &lt;param id=&quot;classes_ptr&quot;&gt;
 6888           &lt;allocbuf outcount=&quot;class_count_ptr&quot;&gt;&lt;jclass/&gt;&lt;/allocbuf&gt;
 6889             &lt;description&gt;
 6890               On return, points to an array of references, one
 6891               for each class.
 6892             &lt;/description&gt;
 6893         &lt;/param&gt;
 6894       &lt;/parameters&gt;
 6895       &lt;errors&gt;
 6896       &lt;/errors&gt;
 6897     &lt;/function&gt;
 6898 
 6899     &lt;function id=&quot;GetClassLoaderClasses&quot; jkernel=&quot;yes&quot; num=&quot;79&quot;&gt;
 6900       &lt;synopsis&gt;Get Classloader Classes&lt;/synopsis&gt;
 6901       &lt;description&gt;
 6902         Returns an array of all classes which this class loader
<span class="line-modified"> 6903         can find by name via</span>
 6904         &lt;externallink id=&quot;../api/java.base/java/lang/ClassLoader.html#loadClass(java.lang.String,boolean)&quot;&gt;ClassLoader::loadClass&lt;/externallink&gt;,
 6905         &lt;externallink id=&quot;../api/java.base/java/lang/Class.html#forName(java.lang.String,boolean,java.lang.ClassLoader)&quot;&gt;Class::forName&lt;/externallink&gt; and bytecode linkage.
 6906         That is, all classes for which &lt;code&gt;initiating_loader&lt;/code&gt;
 6907         has been recorded as an initiating loader.
 6908         Each class in the returned array was created by this class loader,
 6909         either by defining it directly or by delegation to another class loader.
 6910         See &lt;vmspec chapter=&quot;5.3&quot;/&gt;.
 6911         &lt;p/&gt;
 6912         The returned list does not include
 6913         &lt;externallink id=&quot;../api/java.base/java/lang/Class.html#isHidden()&quot;&gt;hidden
 6914         classes or interfaces&lt;/externallink&gt; or array classes whose
 6915         element type is a hidden class or interface as they cannot be discovered
 6916         by any class loader.
 6917         &lt;p/&gt;
 6918         The number of classes in the array is returned via
 6919         &lt;code&gt;class_count_ptr&lt;/code&gt;, and the array itself via
 6920         &lt;code&gt;classes_ptr&lt;/code&gt;.
 6921         &lt;p/&gt;
 6922         See &lt;externallink id=&quot;../api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte[],boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)&quot;&gt;Lookup::defineHiddenClass&lt;/externallink&gt;.
 6923       &lt;/description&gt;
</pre>
<hr />
<pre>
 7663         Threads need not be suspended.
 7664         &lt;p/&gt;
 7665         All breakpoints in the class are cleared.
 7666         &lt;p/&gt;
 7667         All attributes are updated.
 7668         &lt;p/&gt;
 7669         Instances of the retransformed class are not affected -- fields retain their
 7670         previous values.
 7671         &lt;functionlink id=&quot;GetTag&quot;&gt;Tags&lt;/functionlink&gt; on the instances are
 7672         also unaffected.
 7673         &lt;p/&gt;
 7674         In response to this call, no events other than the
 7675         &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event
 7676         will be sent.
 7677         &lt;p/&gt;
 7678         The retransformation may change method bodies, the constant pool and attributes
 7679         (unless explicitly prohibited).
 7680         The retransformation must not add, remove or rename fields or methods, change the
 7681         signatures of methods, change modifiers, or change inheritance.
 7682         The retransformation must not change the &lt;code&gt;NestHost&lt;/code&gt;,
<span class="line-modified"> 7683         &lt;code&gt;NestMembers&lt;/code&gt;, &lt;code&gt;Record&lt;/code&gt;, or &lt;code&gt;PermittedSubclasses&lt;/code&gt;</span>
<span class="line-added"> 7684         attributes.</span>
 7685         These restrictions may be lifted in future versions.
 7686         See the error return description below for information on error codes
 7687         returned if an unsupported retransformation is attempted.
 7688         The class file bytes are not verified or installed until they have passed
 7689         through the chain of &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events, thus the
 7690         returned error code reflects the result of the transformations.
 7691         If any error code is returned other than &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;,
 7692         none of the classes to be retransformed will have a new definition installed.
 7693         When this function returns (with the error code of &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;)
 7694         all of the classes to be retransformed will have their new definitions installed.
 7695       &lt;/description&gt;
 7696       &lt;origin&gt;new&lt;/origin&gt;
 7697       &lt;capabilities&gt;
 7698         &lt;required id=&quot;can_retransform_classes&quot;&gt;&lt;/required&gt;
 7699         &lt;capability id=&quot;can_retransform_any_class&quot;&gt;&lt;/capability&gt;
 7700       &lt;/capabilities&gt;
 7701       &lt;parameters&gt;
 7702         &lt;param id=&quot;class_count&quot;&gt;
 7703           &lt;jint min=&quot;0&quot;/&gt;
 7704           &lt;description&gt;
</pre>
<hr />
<pre>
 7817         Threads need not be suspended.
 7818         &lt;p/&gt;
 7819         All breakpoints in the class are cleared.
 7820         &lt;p/&gt;
 7821         All attributes are updated.
 7822         &lt;p/&gt;
 7823         Instances of the redefined class are not affected -- fields retain their
 7824         previous values.
 7825         &lt;functionlink id=&quot;GetTag&quot;&gt;Tags&lt;/functionlink&gt; on the instances are
 7826         also unaffected.
 7827         &lt;p/&gt;
 7828         In response to this call, the &lt;jvmti/&gt; event
 7829         &lt;eventlink id=&quot;ClassFileLoadHook&quot;&gt;Class File Load Hook&lt;/eventlink&gt;
 7830         will be sent (if enabled), but no other &lt;jvmti/&gt; events will be sent.
 7831         &lt;p/&gt;
 7832         The redefinition may change method bodies, the constant pool and attributes
 7833         (unless explicitly prohibited).
 7834         The redefinition must not add, remove or rename fields or methods, change the
 7835         signatures of methods, change modifiers, or change inheritance.
 7836         The redefinition must not change the &lt;code&gt;NestHost&lt;/code&gt;,
<span class="line-modified"> 7837         &lt;code&gt;NestMembers&lt;/code&gt;, &lt;code&gt;Record&lt;/code&gt;, or &lt;code&gt;PermittedSubclasses&lt;/code&gt;</span>
<span class="line-added"> 7838         attributes.</span>
 7839         These restrictions may be lifted in future versions.
 7840         See the error return description below for information on error codes
 7841         returned if an unsupported redefinition is attempted.
 7842         The class file bytes are not verified or installed until they have passed
 7843         through the chain of &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events, thus the
 7844         returned error code reflects the result of the transformations applied
 7845         to the bytes passed into &lt;paramlink id=&quot;class_definitions&quot;/&gt;.
 7846         If any error code is returned other than &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;,
 7847         none of the classes to be redefined will have a new definition installed.
 7848         When this function returns (with the error code of &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;)
 7849         all of the classes to be redefined will have their new definitions installed.
 7850       &lt;/description&gt;
 7851       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7852       &lt;capabilities&gt;
 7853         &lt;required id=&quot;can_redefine_classes&quot;&gt;&lt;/required&gt;
 7854         &lt;capability id=&quot;can_redefine_any_class&quot;&gt;&lt;/capability&gt;
 7855       &lt;/capabilities&gt;
 7856       &lt;parameters&gt;
 7857         &lt;param id=&quot;class_count&quot;&gt;
 7858           &lt;jint min=&quot;0&quot;/&gt;
</pre>
<hr />
<pre>
12266           The new value
12267         &lt;/description&gt;
12268       &lt;/param&gt;
12269     &lt;/parameters&gt;
12270   &lt;/event&gt;
12271 
12272   &lt;event label=&quot;Frame Pop&quot;
12273          id=&quot;FramePop&quot; const=&quot;JVMTI_EVENT_FRAME_POP&quot; filtered=&quot;thread&quot; num=&quot;61&quot;&gt;
12274     &lt;description&gt;
12275       Frame pop events are generated upon exit from a single method
12276       in a single frame as specified
12277       in a call to &lt;functionlink id=&quot;NotifyFramePop&quot;&gt;&lt;/functionlink&gt;.
12278       This is true whether termination is caused by
12279       executing its return instruction
12280       or by throwing an exception to its caller
12281       (see &lt;paramlink id=&quot;was_popped_by_exception&quot;&gt;&lt;/paramlink&gt;).
12282       However, frame pops caused by the &lt;functionlink id=&quot;PopFrame&quot;/&gt;
12283       function are not reported.
12284       &lt;p/&gt;
12285       The location reported by &lt;functionlink id=&quot;GetFrameLocation&quot;&gt;&lt;/functionlink&gt;
<span class="line-modified">12286       for the depth 0 identifies the executable location in the returning method,</span>
12287       immediately prior to the return.
12288     &lt;/description&gt;
12289     &lt;origin&gt;jvmdi&lt;/origin&gt;
12290     &lt;capabilities&gt;
12291       &lt;required id=&quot;can_generate_frame_pop_events&quot;&gt;&lt;/required&gt;
12292     &lt;/capabilities&gt;
12293     &lt;parameters&gt;
12294       &lt;param id=&quot;jni_env&quot;&gt;
12295         &lt;outptr&gt;
12296           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12297         &lt;/outptr&gt;
12298           &lt;description&gt;
12299             The JNI environment of the event (current) thread
12300           &lt;/description&gt;
12301       &lt;/param&gt;
12302       &lt;param id=&quot;thread&quot;&gt;
12303         &lt;jthread/&gt;
12304           &lt;description&gt;
12305             Thread that is popping the frame
12306           &lt;/description&gt;
</pre>
<hr />
<pre>
12317             Method being popped
12318           &lt;/description&gt;
12319       &lt;/param&gt;
12320       &lt;param id=&quot;was_popped_by_exception&quot;&gt;
12321         &lt;jboolean/&gt;
12322         &lt;description&gt;
12323           True if frame was popped by a thrown exception.
12324           False if method exited through its return instruction.
12325         &lt;/description&gt;
12326       &lt;/param&gt;
12327     &lt;/parameters&gt;
12328   &lt;/event&gt;
12329 
12330   &lt;event label=&quot;Method Entry&quot;
12331          id=&quot;MethodEntry&quot; const=&quot;JVMTI_EVENT_METHOD_ENTRY&quot; filtered=&quot;thread&quot; num=&quot;65&quot;&gt;
12332     &lt;description&gt;
12333       Method entry events are generated upon entry of Java
12334       programming language methods (including native methods).
12335       &lt;p/&gt;
12336       The location reported by &lt;functionlink id=&quot;GetFrameLocation&quot;&gt;&lt;/functionlink&gt;
<span class="line-modified">12337       for the depth 0 identifies the initial executable location in the method.</span>

12338       &lt;p/&gt;
12339       Enabling method
12340       entry or exit events will significantly degrade performance on many platforms and is thus
12341       not advised for performance critical usage (such as profiling).
12342       &lt;internallink id=&quot;bci&quot;&gt;Bytecode instrumentation&lt;/internallink&gt; should be
12343       used in these cases.
12344     &lt;/description&gt;
12345     &lt;origin&gt;jvmdi&lt;/origin&gt;
12346     &lt;capabilities&gt;
12347       &lt;required id=&quot;can_generate_method_entry_events&quot;&gt;&lt;/required&gt;
12348     &lt;/capabilities&gt;
12349     &lt;parameters&gt;
12350       &lt;param id=&quot;jni_env&quot;&gt;
12351         &lt;outptr&gt;
12352           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12353         &lt;/outptr&gt;
12354           &lt;description&gt;
12355             The JNI environment of the event (current) thread
12356           &lt;/description&gt;
12357       &lt;/param&gt;
</pre>
<hr />
<pre>
12369       &lt;/param&gt;
12370       &lt;param id=&quot;method&quot;&gt;
12371         &lt;jmethodID class=&quot;klass&quot;/&gt;
12372           &lt;description&gt;
12373             Method being entered
12374           &lt;/description&gt;
12375       &lt;/param&gt;
12376     &lt;/parameters&gt;
12377   &lt;/event&gt;
12378 
12379   &lt;event label=&quot;Method Exit&quot;
12380          id=&quot;MethodExit&quot; const=&quot;JVMTI_EVENT_METHOD_EXIT&quot; filtered=&quot;thread&quot; num=&quot;66&quot;&gt;
12381     &lt;description&gt;
12382       Method exit events are generated upon exit from Java
12383       programming language methods (including native methods).
12384       This is true whether termination is caused by
12385       executing its return instruction
12386       or by throwing an exception to its caller
12387       (see &lt;paramlink id=&quot;was_popped_by_exception&quot;&gt;&lt;/paramlink&gt;).
12388       &lt;p/&gt;




12389       The location reported by &lt;functionlink id=&quot;GetFrameLocation&quot;&gt;&lt;/functionlink&gt;
<span class="line-modified">12390       for the depth 0 identifies the executable location in the returning method</span>
12391       immediately prior to the return.
12392       &lt;p/&gt;
12393         Enabling method
12394         entry or exit events will significantly degrade performance on many platforms and is thus
12395         not advised for performance critical usage (such as profiling).
12396         &lt;internallink id=&quot;bci&quot;&gt;Bytecode instrumentation&lt;/internallink&gt; should be
12397         used in these cases.
12398     &lt;/description&gt;
12399     &lt;origin&gt;jvmdi&lt;/origin&gt;
12400     &lt;capabilities&gt;
12401       &lt;required id=&quot;can_generate_method_exit_events&quot;&gt;&lt;/required&gt;
12402     &lt;/capabilities&gt;
12403     &lt;parameters&gt;
12404       &lt;param id=&quot;jni_env&quot;&gt;
12405         &lt;outptr&gt;
12406           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12407         &lt;/outptr&gt;
12408           &lt;description&gt;
12409             The JNI environment of the event (current) thread
12410           &lt;/description&gt;
</pre>
<hr />
<pre>
15008           to change the class file NestHost and NestMembers attributes.
15009         - Add new error JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_ATTRIBUTE_CHANGED
15010           that can be returned by RedefineClasses and RetransformClasses.
15011   &lt;/change&gt;
15012   &lt;change date=&quot;20 May 2019&quot; version=&quot;13.0.0&quot;&gt;
15013       Minor spec update for the capability &quot;can_redefine_any_class&quot;.
15014       It now says:
15015        &quot;RedefineClasses can be called on any modifiable class. See IsModifiableClass.
15016        (can_redefine_classes must also be set)&quot;
15017   &lt;/change&gt;
15018   &lt;change date=&quot;5 June 2019&quot; version=&quot;13.0.0&quot;&gt;
15019       Minor PopFrame spec update:
15020         - The specified thread must be suspended or must be the current thread.
15021           (It was not allowed to be the current thread before.)
15022   &lt;/change&gt;
15023   &lt;change date=&quot;10 October 2019&quot; version=&quot;14.0.0&quot;&gt;
15024       Minor update for new class file Record attribute:
15025         - Specify that RedefineClasses and RetransformClasses are not allowed
15026           to change the class file Record attribute.
15027   &lt;/change&gt;
<span class="line-added">15028   &lt;change date=&quot;13 May 2020&quot; version=&quot;15.0.0&quot;&gt;</span>
<span class="line-added">15029       Minor update for new class file PermittedSubclasses attribute:</span>
<span class="line-added">15030         - Specify that RedefineClasses and RetransformClasses are not allowed</span>
<span class="line-added">15031           to change the class file PermittedSubclasses attribute.</span>
<span class="line-added">15032   &lt;/change&gt;</span>
15033 &lt;/changehistory&gt;
15034 
15035 &lt;/specification&gt;
15036 &lt;!-- Keep this comment at the end of the file
15037 Local variables:
15038 mode: sgml
15039 sgml-omittag:t
15040 sgml-shorttag:t
15041 sgml-namecase-general:t
15042 sgml-general-insert-case:lower
15043 sgml-minimize-attributes:nil
15044 sgml-always-quote-attributes:t
15045 sgml-indent-step:2
15046 sgml-indent-data:t
15047 sgml-parent-document:nil
15048 sgml-exposed-tags:nil
15049 sgml-local-catalogs:nil
15050 sgml-local-ecat-files:nil
15051 End:
15052 --&gt;
</pre>
</td>
</tr>
</table>
<center><a href="jvm.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="jvmtiClassFileReconstituter.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>