diff a/src/java.desktop/unix/native/libjawt/jawt.c b/src/java.desktop/unix/native/libjawt/jawt.c
--- a/src/java.desktop/unix/native/libjawt/jawt.c
+++ b/src/java.desktop/unix/native/libjawt/jawt.c
@@ -35,11 +35,11 @@
 
 /*
  * Get the AWT native structure.  This function returns JNI_FALSE if
  * an error occurs.
  */
-JNIEXPORT jboolean JNICALL JAWT_GetAWT(JNIEnv* env, JAWT* awt)
+_JNI_IMPORT_OR_EXPORT_ jboolean JNICALL JAWT_GetAWT(JNIEnv* env, JAWT* awt)
 {
 #if defined(HEADLESS)
     /* there are no AWT libs available at all */
     return JNI_FALSE;
 #else
