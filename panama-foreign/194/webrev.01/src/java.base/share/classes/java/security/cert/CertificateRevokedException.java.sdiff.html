<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/security/cert/CertificateRevokedException.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../Signature.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="X509CRLSelector.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/security/cert/CertificateRevokedException.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 package java.security.cert;
 27 
 28 import java.io.ObjectInputStream;
 29 import java.io.ObjectOutputStream;
 30 import java.io.IOException;
 31 import java.util.Collections;
 32 import java.util.Date;
 33 import java.util.HashMap;
 34 import java.util.Map;
 35 import javax.security.auth.x500.X500Principal;
 36 
 37 import sun.security.util.IOUtils;

 38 import sun.security.util.ObjectIdentifier;
 39 import sun.security.x509.InvalidityDateExtension;
 40 
 41 /**
 42  * An exception that indicates an X.509 certificate is revoked. A
 43  * {@code CertificateRevokedException} contains additional information
 44  * about the revoked certificate, such as the date on which the
 45  * certificate was revoked and the reason it was revoked.
 46  *
 47  * @author Sean Mullan
 48  * @since 1.7
 49  * @see CertPathValidatorException
 50  */
 51 public class CertificateRevokedException extends CertificateException {
 52 
 53     @java.io.Serial
 54     private static final long serialVersionUID = 7839996631571608627L;
 55 
 56     /**
 57      * @serial the date on which the certificate was revoked
</pre>
<hr />
<pre>
132      *     authority that signed the certificate&#39;s revocation status information
133      */
134     public X500Principal getAuthorityName() {
135         return authority;
136     }
137 
138     /**
139      * Returns the invalidity date, as specified in the Invalidity Date
140      * extension of this {@code CertificateRevokedException}. The
141      * invalidity date is the date on which it is known or suspected that the
142      * private key was compromised or that the certificate otherwise became
143      * invalid. This implementation calls {@code getExtensions()} and
144      * checks the returned map for an entry for the Invalidity Date extension
145      * OID (&quot;2.5.29.24&quot;). If found, it returns the invalidity date in the
146      * extension; otherwise null. A new Date object is returned each time the
147      * method is invoked to protect against subsequent modification.
148      *
149      * @return the invalidity date, or {@code null} if not specified
150      */
151     public Date getInvalidityDate() {
<span class="line-modified">152         Extension ext = getExtensions().get(&quot;2.5.29.24&quot;);</span>
153         if (ext == null) {
154             return null;
155         } else {
156             try {
157                 Date invalidity = InvalidityDateExtension.toImpl(ext).get(&quot;DATE&quot;);
158                 return new Date(invalidity.getTime());
159             } catch (IOException ioe) {
160                 return null;
161             }
162         }
163     }
164 
165     /**
166      * Returns a map of X.509 extensions containing additional information
167      * about the revoked certificate, such as the Invalidity Date
168      * Extension. Each key is an OID String that maps to the corresponding
169      * Extension.
170      *
171      * @return an unmodifiable map of X.509 extensions, or an empty map
172      *    if there are no extensions
</pre>
</td>
<td>
<hr />
<pre>
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 package java.security.cert;
 27 
 28 import java.io.ObjectInputStream;
 29 import java.io.ObjectOutputStream;
 30 import java.io.IOException;
 31 import java.util.Collections;
 32 import java.util.Date;
 33 import java.util.HashMap;
 34 import java.util.Map;
 35 import javax.security.auth.x500.X500Principal;
 36 
 37 import sun.security.util.IOUtils;
<span class="line-added"> 38 import sun.security.util.KnownOIDs;</span>
 39 import sun.security.util.ObjectIdentifier;
 40 import sun.security.x509.InvalidityDateExtension;
 41 
 42 /**
 43  * An exception that indicates an X.509 certificate is revoked. A
 44  * {@code CertificateRevokedException} contains additional information
 45  * about the revoked certificate, such as the date on which the
 46  * certificate was revoked and the reason it was revoked.
 47  *
 48  * @author Sean Mullan
 49  * @since 1.7
 50  * @see CertPathValidatorException
 51  */
 52 public class CertificateRevokedException extends CertificateException {
 53 
 54     @java.io.Serial
 55     private static final long serialVersionUID = 7839996631571608627L;
 56 
 57     /**
 58      * @serial the date on which the certificate was revoked
</pre>
<hr />
<pre>
133      *     authority that signed the certificate&#39;s revocation status information
134      */
135     public X500Principal getAuthorityName() {
136         return authority;
137     }
138 
139     /**
140      * Returns the invalidity date, as specified in the Invalidity Date
141      * extension of this {@code CertificateRevokedException}. The
142      * invalidity date is the date on which it is known or suspected that the
143      * private key was compromised or that the certificate otherwise became
144      * invalid. This implementation calls {@code getExtensions()} and
145      * checks the returned map for an entry for the Invalidity Date extension
146      * OID (&quot;2.5.29.24&quot;). If found, it returns the invalidity date in the
147      * extension; otherwise null. A new Date object is returned each time the
148      * method is invoked to protect against subsequent modification.
149      *
150      * @return the invalidity date, or {@code null} if not specified
151      */
152     public Date getInvalidityDate() {
<span class="line-modified">153         Extension ext = getExtensions().get(KnownOIDs.InvalidityDate.value());</span>
154         if (ext == null) {
155             return null;
156         } else {
157             try {
158                 Date invalidity = InvalidityDateExtension.toImpl(ext).get(&quot;DATE&quot;);
159                 return new Date(invalidity.getTime());
160             } catch (IOException ioe) {
161                 return null;
162             }
163         }
164     }
165 
166     /**
167      * Returns a map of X.509 extensions containing additional information
168      * about the revoked certificate, such as the Invalidity Date
169      * Extension. Each key is an OID String that maps to the corresponding
170      * Extension.
171      *
172      * @return an unmodifiable map of X.509 extensions, or an empty map
173      *    if there are no extensions
</pre>
</td>
</tr>
</table>
<center><a href="../Signature.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="X509CRLSelector.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>