<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.compiler/share/classes/com/sun/tools/javac/parser/JavaTokenizer.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../main/JavaCompiler.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="JavacParser.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.compiler/share/classes/com/sun/tools/javac/parser/JavaTokenizer.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 410             reader.scanChar();
 411         }
 412         reader.scanChar();
 413         processLineTerminator(start, reader.bp);
 414     }
 415 
 416     /** Scan a string literal or text block.
 417      */
 418     private void scanString(int pos) {
 419         // Clear flags.
 420         isTextBlock = false;
 421         hasEscapeSequences = false;
 422         // Track the end of first line for error recovery.
 423         int firstEOLN = -1;
 424         // Attempt to scan for up to 3 double quotes.
 425         int openCount = countChar(&#39;\&quot;&#39;, 3);
 426         switch (openCount) {
 427         case 1: // Starting a string literal.
 428             break;
 429         case 2: // Starting an empty string literal.
<span class="line-modified"> 430             // Start again but only consume one quote.</span>
<span class="line-modified"> 431             reader.reset(pos);</span>
<span class="line-removed"> 432             openCount = countChar(&#39;\&quot;&#39;, 1);</span>
<span class="line-removed"> 433             break;</span>
 434         case 3: // Starting a text block.
 435             // Check if preview feature is enabled for text blocks.
 436             checkSourceLevel(pos, Feature.TEXT_BLOCKS);
 437             isTextBlock = true;
 438             // Verify the open delimiter sequence.
 439             while (reader.bp &lt; reader.buflen) {
 440                 char ch = reader.ch;
 441                 if (ch != &#39; &#39; &amp;&amp; ch != &#39;\t&#39; &amp;&amp; ch != FF) {
 442                     break;
 443                 }
 444                 reader.scanChar();
 445             }
 446             if (isEOLN()) {
 447                 skipLineTerminator();
 448             } else {
 449                 // Error if the open delimiter sequence is not
 450                 //     &quot;&quot;&quot;&lt;white space&gt;*&lt;LineTerminator&gt;.
 451                 lexError(reader.bp, Errors.IllegalTextBlockOpen);
 452                 return;
 453             }
</pre>
</td>
<td>
<hr />
<pre>
 410             reader.scanChar();
 411         }
 412         reader.scanChar();
 413         processLineTerminator(start, reader.bp);
 414     }
 415 
 416     /** Scan a string literal or text block.
 417      */
 418     private void scanString(int pos) {
 419         // Clear flags.
 420         isTextBlock = false;
 421         hasEscapeSequences = false;
 422         // Track the end of first line for error recovery.
 423         int firstEOLN = -1;
 424         // Attempt to scan for up to 3 double quotes.
 425         int openCount = countChar(&#39;\&quot;&#39;, 3);
 426         switch (openCount) {
 427         case 1: // Starting a string literal.
 428             break;
 429         case 2: // Starting an empty string literal.
<span class="line-modified"> 430             tk = Tokens.TokenKind.STRINGLITERAL;</span>
<span class="line-modified"> 431             return;</span>


 432         case 3: // Starting a text block.
 433             // Check if preview feature is enabled for text blocks.
 434             checkSourceLevel(pos, Feature.TEXT_BLOCKS);
 435             isTextBlock = true;
 436             // Verify the open delimiter sequence.
 437             while (reader.bp &lt; reader.buflen) {
 438                 char ch = reader.ch;
 439                 if (ch != &#39; &#39; &amp;&amp; ch != &#39;\t&#39; &amp;&amp; ch != FF) {
 440                     break;
 441                 }
 442                 reader.scanChar();
 443             }
 444             if (isEOLN()) {
 445                 skipLineTerminator();
 446             } else {
 447                 // Error if the open delimiter sequence is not
 448                 //     &quot;&quot;&quot;&lt;white space&gt;*&lt;LineTerminator&gt;.
 449                 lexError(reader.bp, Errors.IllegalTextBlockOpen);
 450                 return;
 451             }
</pre>
</td>
</tr>
</table>
<center><a href="../main/JavaCompiler.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="JavacParser.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>