<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/jdk.incubator.foreign/share/classes/jdk/incubator/foreign/LibraryLookup.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../index.html" target="_top">index</a> <a href="MemoryLayouts.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.incubator.foreign/share/classes/jdk/incubator/foreign/LibraryLookup.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -36,11 +36,11 @@</span>
   * A given native library remains loaded as long as there is at least one &lt;em&gt;live&lt;/em&gt; library lookup instance referring
   * to it.
   * &lt;p&gt;
   * Memory address instances generated by a library lookup will contain a strong reference to the originating lookup object,
   * therefore preventing library unloading; in turn method handle instances obtained from
<span class="udiff-line-modified-removed">-  * {@link SystemABI#downcallHandle(MemoryAddress, MethodType, FunctionDescriptor)}) also maintain a strong reference</span>
<span class="udiff-line-modified-added">+  * {@link ForeignLinker#downcallHandle(MemoryAddress, MethodType, FunctionDescriptor)}) also maintain a strong reference</span>
   * to the memory address parameter used for their construction. This means that there is always a strong reachability chain
   * from a native method handle to a lookup object (the one that was used to lookup the native library symbol the method handle
   * refers to); this is useful to prevent situations where a native library is unloaded in the middle of a native call.
   * &lt;p&gt;
   * To allow for a library to be unloaded, a client will have to discard any strong references it
</pre>
<center>&lt; prev <a href="../../../../../../../index.html" target="_top">index</a> <a href="MemoryLayouts.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>