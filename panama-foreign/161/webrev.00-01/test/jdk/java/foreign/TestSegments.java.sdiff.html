<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/java/foreign/TestSegments.java</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>test/jdk/java/foreign/TestSegments.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
237             if (!(e instanceof IllegalStateException)) {
238                 throw e;
239             }
240         }
241     }
242 
243     @Test
244     public void testFillEmpty() {
245         try (MemorySegment segment = MemorySegment.ofArray(new byte[] { })) {
246             MemorySegment.fill(segment, (byte) 0xFF);
247         }
248         try (MemorySegment segment = MemorySegment.ofArray(new byte[2]).asSlice(0, 0)) {
249             MemorySegment.fill(segment, (byte) 0xFF);
250         }
251         try (MemorySegment segment = MemorySegment.ofByteBuffer(ByteBuffer.allocateDirect(0))) {
252             MemorySegment.fill(segment, (byte) 0xFF);
253         }
254     }
255 
256     @Test(expectedExceptions = NullPointerException.class)
<span class="line-modified">257     public void testFillWithNull() {</span>
258         MemorySegment.fill(null, (byte) 0xFF);
259     }
260 
261     @Test(expectedExceptions = IllegalArgumentException.class)
262     public void testBadWithAccessModes() {
263         int[] arr = new int[1];
264         MemorySegment segment = MemorySegment.ofArray(arr);
265         segment.withAccessModes((1 &lt;&lt; AccessActions.values().length) + 1);
266     }
267 
268     @Test(expectedExceptions = IllegalArgumentException.class)
269     public void testBadHasAccessModes() {
270         int[] arr = new int[1];
271         MemorySegment segment = MemorySegment.ofArray(arr);
272         segment.hasAccessModes((1 &lt;&lt; AccessActions.values().length) + 1);
273     }
274 
275     @DataProvider(name = &quot;badSizeAndAlignments&quot;)
276     public Object[][] sizesAndAlignments() {
277         return new Object[][] {
</pre>
</td>
<td>
<hr />
<pre>
237             if (!(e instanceof IllegalStateException)) {
238                 throw e;
239             }
240         }
241     }
242 
243     @Test
244     public void testFillEmpty() {
245         try (MemorySegment segment = MemorySegment.ofArray(new byte[] { })) {
246             MemorySegment.fill(segment, (byte) 0xFF);
247         }
248         try (MemorySegment segment = MemorySegment.ofArray(new byte[2]).asSlice(0, 0)) {
249             MemorySegment.fill(segment, (byte) 0xFF);
250         }
251         try (MemorySegment segment = MemorySegment.ofByteBuffer(ByteBuffer.allocateDirect(0))) {
252             MemorySegment.fill(segment, (byte) 0xFF);
253         }
254     }
255 
256     @Test(expectedExceptions = NullPointerException.class)
<span class="line-modified">257     public void testFillNull() {</span>
258         MemorySegment.fill(null, (byte) 0xFF);
259     }
260 
261     @Test(expectedExceptions = IllegalArgumentException.class)
262     public void testBadWithAccessModes() {
263         int[] arr = new int[1];
264         MemorySegment segment = MemorySegment.ofArray(arr);
265         segment.withAccessModes((1 &lt;&lt; AccessActions.values().length) + 1);
266     }
267 
268     @Test(expectedExceptions = IllegalArgumentException.class)
269     public void testBadHasAccessModes() {
270         int[] arr = new int[1];
271         MemorySegment segment = MemorySegment.ofArray(arr);
272         segment.hasAccessModes((1 &lt;&lt; AccessActions.values().length) + 1);
273     }
274 
275     @DataProvider(name = &quot;badSizeAndAlignments&quot;)
276     public Object[][] sizesAndAlignments() {
277         return new Object[][] {
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>