<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/jdk.incubator.foreign/share/classes/jdk/incubator/foreign/package-info.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="MemorySegment.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../internal/foreign/MemoryAddressImpl.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.incubator.foreign/share/classes/jdk/incubator/foreign/package-info.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 57,14 ***</span>
   * memory access var handles, e.g. using &lt;a href=&quot;MemoryLayout.html#layout-paths&quot;&gt;&lt;em&gt;layout paths&lt;/em&gt;&lt;/a&gt;.
   *
   * &lt;h2&gt;&lt;a id=&quot;deallocation&quot;&gt;&lt;/a&gt;Deterministic deallocation&lt;/h2&gt;
   *
   * When writing code that manipulates memory segments, especially if backed by memory which resides outside the Java heap, it is
<span class="line-modified">!  * crucial that the resources associated with a memory segment are released when the segment is no longer in use, by calling the {@link jdk.incubator.foreign.MemorySegment#close()}</span>
<span class="line-modified">!  * method either explicitly, or implicitly, by relying on try-with-resources construct (as demonstrated in the example above).</span>
<span class="line-modified">!  * Closing a given memory segment is an &lt;em&gt;atomic&lt;/em&gt; operation which can either succeed - and result in the underlying</span>
<span class="line-removed">-  * memory associated with the segment to be released, or &lt;em&gt;fail&lt;/em&gt; with an exception.</span>
   * &lt;p&gt;
   * The deterministic deallocation model differs significantly from the implicit strategies adopted within other APIs, most
   * notably the {@link java.nio.ByteBuffer} API: in that case, when a native byte buffer is created (see {@link java.nio.ByteBuffer#allocateDirect(int)}),
   * the underlying memory is not released until the byte buffer reference becomes &lt;em&gt;unreachable&lt;/em&gt;. While implicit deallocation
   * models such as this can be very convenient - clients do not have to remember to &lt;em&gt;close&lt;/em&gt; a direct buffer - such models can also make it
<span class="line-new-header">--- 57,13 ---</span>
   * memory access var handles, e.g. using &lt;a href=&quot;MemoryLayout.html#layout-paths&quot;&gt;&lt;em&gt;layout paths&lt;/em&gt;&lt;/a&gt;.
   *
   * &lt;h2&gt;&lt;a id=&quot;deallocation&quot;&gt;&lt;/a&gt;Deterministic deallocation&lt;/h2&gt;
   *
   * When writing code that manipulates memory segments, especially if backed by memory which resides outside the Java heap, it is
<span class="line-modified">!  * crucial that the memory source associated with a memory segment is &lt;a href=&quot;MemorySource.html#releasing-sources&quot;&gt;released&lt;/a&gt;</span>
<span class="line-modified">!  * when the segment is no longer in use; this is achieved by calling the {@link jdk.incubator.foreign.MemorySegment#close()} method,</span>
<span class="line-modified">!  * either explicitly, or implicitly, by relying on try-with-resources construct (as demonstrated in the example above).</span>
   * &lt;p&gt;
   * The deterministic deallocation model differs significantly from the implicit strategies adopted within other APIs, most
   * notably the {@link java.nio.ByteBuffer} API: in that case, when a native byte buffer is created (see {@link java.nio.ByteBuffer#allocateDirect(int)}),
   * the underlying memory is not released until the byte buffer reference becomes &lt;em&gt;unreachable&lt;/em&gt;. While implicit deallocation
   * models such as this can be very convenient - clients do not have to remember to &lt;em&gt;close&lt;/em&gt; a direct buffer - such models can also make it
</pre>
<center><a href="MemorySegment.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../internal/foreign/MemoryAddressImpl.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>