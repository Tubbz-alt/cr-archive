<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff doc/panama_jextract.html</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../index.html" target="_top">index</a> <a href="panama_jextract.md.sdiff.html" target="_top">next &gt;</a></center>    <h2>doc/panama_jextract.html</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
309 &lt;div class=&quot;sourceCode&quot; id=&quot;cb16&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb16-1&quot;&gt;&lt;a href=&quot;#cb16-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
310 &lt;span id=&quot;cb16-2&quot;&gt;&lt;a href=&quot;#cb16-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;brew&lt;/span&gt; install openblas&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
311 &lt;p&gt;It installs include and lib directories under /usr/local/opt/openblas&lt;/p&gt;
312 &lt;h3 id=&quot;jextracting-cblas.h-macos&quot;&gt;jextracting cblas.h (MacOS)&lt;/h3&gt;
313 &lt;p&gt;The following command can be used to extract cblas.h on MacOs&lt;/p&gt;
314 &lt;div class=&quot;sourceCode&quot; id=&quot;cb17&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb17-1&quot;&gt;&lt;a href=&quot;#cb17-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
315 &lt;span id=&quot;cb17-2&quot;&gt;&lt;a href=&quot;#cb17-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -C &lt;span class=&quot;st&quot;&gt;&amp;quot;-D FORCE_OPENBLAS_COMPLEX_STRUCT&amp;quot;&lt;/span&gt; \&lt;/span&gt;
316 &lt;span id=&quot;cb17-3&quot;&gt;&lt;a href=&quot;#cb17-3&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
317 &lt;span id=&quot;cb17-4&quot;&gt;&lt;a href=&quot;#cb17-4&quot;&gt;&lt;/a&gt;  -l openblas -t blas /usr/local/opt/openblas/include/cblas.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
318 &lt;h3 id=&quot;java-sample-code-that-uses-cblas-library&quot;&gt;Java sample code that uses cblas library&lt;/h3&gt;
319 &lt;div class=&quot;sourceCode&quot; id=&quot;cb18&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb18-1&quot;&gt;&lt;a href=&quot;#cb18-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
320 &lt;span id=&quot;cb18-2&quot;&gt;&lt;a href=&quot;#cb18-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress;&lt;/span&gt;&lt;/span&gt;
321 &lt;span id=&quot;cb18-3&quot;&gt;&lt;a href=&quot;#cb18-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAccess;&lt;/span&gt;&lt;/span&gt;
322 &lt;span id=&quot;cb18-4&quot;&gt;&lt;a href=&quot;#cb18-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;
323 &lt;span id=&quot;cb18-5&quot;&gt;&lt;a href=&quot;#cb18-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; blas.*;&lt;/span&gt;&lt;/span&gt;
324 &lt;span id=&quot;cb18-6&quot;&gt;&lt;a href=&quot;#cb18-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; blas.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;
325 &lt;span id=&quot;cb18-7&quot;&gt;&lt;a href=&quot;#cb18-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; blas.cblas_h.*;&lt;/span&gt;&lt;/span&gt;
326 &lt;span id=&quot;cb18-8&quot;&gt;&lt;a href=&quot;#cb18-8&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;
327 &lt;span id=&quot;cb18-9&quot;&gt;&lt;a href=&quot;#cb18-9&quot;&gt;&lt;/a&gt;&lt;/span&gt;
328 &lt;span id=&quot;cb18-10&quot;&gt;&lt;a href=&quot;#cb18-10&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; TestBlas {&lt;/span&gt;
<span class="line-modified">329 &lt;span id=&quot;cb18-11&quot;&gt;&lt;a href=&quot;#cb18-11&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;getDouble&lt;/span&gt;(MemoryAddress addr, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; element) {&lt;/span&gt;</span>
<span class="line-modified">330 &lt;span id=&quot;cb18-12&quot;&gt;&lt;a href=&quot;#cb18-12&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getDouble&lt;/span&gt;(addr, element*C_DOUBLE.&lt;span class=&quot;fu&quot;&gt;byteSize&lt;/span&gt;());&lt;/span&gt;</span>
<span class="line-modified">331 &lt;span id=&quot;cb18-13&quot;&gt;&lt;a href=&quot;#cb18-13&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
332 &lt;span id=&quot;cb18-14&quot;&gt;&lt;a href=&quot;#cb18-14&quot;&gt;&lt;/a&gt;&lt;/span&gt;
<span class="line-modified">333 &lt;span id=&quot;cb18-15&quot;&gt;&lt;a href=&quot;#cb18-15&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-modified">334 &lt;span id=&quot;cb18-16&quot;&gt;&lt;a href=&quot;#cb18-16&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; Layout;&lt;/span&gt;</span>
<span class="line-modified">335 &lt;span id=&quot;cb18-17&quot;&gt;&lt;a href=&quot;#cb18-17&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; transa;&lt;/span&gt;</span>
<span class="line-modified">336 &lt;span id=&quot;cb18-18&quot;&gt;&lt;a href=&quot;#cb18-18&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">337 &lt;span id=&quot;cb18-19&quot;&gt;&lt;a href=&quot;#cb18-19&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt; alpha, beta;&lt;/span&gt;</span>
<span class="line-modified">338 &lt;span id=&quot;cb18-20&quot;&gt;&lt;a href=&quot;#cb18-20&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; m, n, lda, incx, incy, i;&lt;/span&gt;</span>
<span class="line-modified">339 &lt;span id=&quot;cb18-21&quot;&gt;&lt;a href=&quot;#cb18-21&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">340 &lt;span id=&quot;cb18-22&quot;&gt;&lt;a href=&quot;#cb18-22&quot;&gt;&lt;/a&gt;        Layout = &lt;span class=&quot;fu&quot;&gt;CblasColMajor&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">341 &lt;span id=&quot;cb18-23&quot;&gt;&lt;a href=&quot;#cb18-23&quot;&gt;&lt;/a&gt;        transa = &lt;span class=&quot;fu&quot;&gt;CblasNoTrans&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">342 &lt;span id=&quot;cb18-24&quot;&gt;&lt;a href=&quot;#cb18-24&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">343 &lt;span id=&quot;cb18-25&quot;&gt;&lt;a href=&quot;#cb18-25&quot;&gt;&lt;/a&gt;        m = &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;; &lt;span class=&quot;co&quot;&gt;/* Size of Column ( the number of rows ) */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">344 &lt;span id=&quot;cb18-26&quot;&gt;&lt;a href=&quot;#cb18-26&quot;&gt;&lt;/a&gt;        n = &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;; &lt;span class=&quot;co&quot;&gt;/* Size of Row ( the number of columns ) */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">345 &lt;span id=&quot;cb18-27&quot;&gt;&lt;a href=&quot;#cb18-27&quot;&gt;&lt;/a&gt;        lda = &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;; &lt;span class=&quot;co&quot;&gt;/* Leading dimension of 5 * 4 matrix is 5 */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">346 &lt;span id=&quot;cb18-28&quot;&gt;&lt;a href=&quot;#cb18-28&quot;&gt;&lt;/a&gt;        incx = &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">347 &lt;span id=&quot;cb18-29&quot;&gt;&lt;a href=&quot;#cb18-29&quot;&gt;&lt;/a&gt;        incy = &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">348 &lt;span id=&quot;cb18-30&quot;&gt;&lt;a href=&quot;#cb18-30&quot;&gt;&lt;/a&gt;        alpha = &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">349 &lt;span id=&quot;cb18-31&quot;&gt;&lt;a href=&quot;#cb18-31&quot;&gt;&lt;/a&gt;        beta = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">350 &lt;span id=&quot;cb18-32&quot;&gt;&lt;a href=&quot;#cb18-32&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">351 &lt;span id=&quot;cb18-33&quot;&gt;&lt;a href=&quot;#cb18-33&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;</span>
<span class="line-modified">352 &lt;span id=&quot;cb18-34&quot;&gt;&lt;a href=&quot;#cb18-34&quot;&gt;&lt;/a&gt;            var a = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(C_DOUBLE, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt;[] {&lt;/span&gt;</span>
<span class="line-modified">353 &lt;span id=&quot;cb18-35&quot;&gt;&lt;a href=&quot;#cb18-35&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;2.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;3.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;4.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;</span>
<span class="line-modified">354 &lt;span id=&quot;cb18-36&quot;&gt;&lt;a href=&quot;#cb18-36&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;</span>
<span class="line-modified">355 &lt;span id=&quot;cb18-37&quot;&gt;&lt;a href=&quot;#cb18-37&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fl&quot;&gt;3.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;4.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;5.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;6.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;</span>
<span class="line-modified">356 &lt;span id=&quot;cb18-38&quot;&gt;&lt;a href=&quot;#cb18-38&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fl&quot;&gt;5.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;6.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;7.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;8.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">357 &lt;span id=&quot;cb18-39&quot;&gt;&lt;a href=&quot;#cb18-39&quot;&gt;&lt;/a&gt;            });&lt;/span&gt;</span>
<span class="line-modified">358 &lt;span id=&quot;cb18-40&quot;&gt;&lt;a href=&quot;#cb18-40&quot;&gt;&lt;/a&gt;            var x = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(C_DOUBLE, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt;[] {&lt;/span&gt;</span>
<span class="line-modified">359 &lt;span id=&quot;cb18-41&quot;&gt;&lt;a href=&quot;#cb18-41&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;2.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">360 &lt;span id=&quot;cb18-42&quot;&gt;&lt;a href=&quot;#cb18-42&quot;&gt;&lt;/a&gt;            });&lt;/span&gt;</span>
<span class="line-modified">361 &lt;span id=&quot;cb18-43&quot;&gt;&lt;a href=&quot;#cb18-43&quot;&gt;&lt;/a&gt;            var y = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(C_DOUBLE, n);&lt;/span&gt;</span>
<span class="line-modified">362 &lt;span id=&quot;cb18-44&quot;&gt;&lt;a href=&quot;#cb18-44&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">363 &lt;span id=&quot;cb18-45&quot;&gt;&lt;a href=&quot;#cb18-45&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;cblas_dgemv&lt;/span&gt;(Layout, transa, m, n, alpha, a, lda, x, incx, beta, y, incy);&lt;/span&gt;</span>
<span class="line-modified">364 &lt;span id=&quot;cb18-46&quot;&gt;&lt;a href=&quot;#cb18-46&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Print y */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">365 &lt;span id=&quot;cb18-47&quot;&gt;&lt;a href=&quot;#cb18-47&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt; (i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; n; i++) {&lt;/span&gt;</span>
<span class="line-modified">366 &lt;span id=&quot;cb18-48&quot;&gt;&lt;a href=&quot;#cb18-48&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;.format&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot; y&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%d&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%f\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, i, &lt;span class=&quot;fu&quot;&gt;getDouble&lt;/span&gt;(y, i)));&lt;/span&gt;</span>
<span class="line-removed">367 &lt;span id=&quot;cb18-49&quot;&gt;&lt;a href=&quot;#cb18-49&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;</span>
<span class="line-removed">368 &lt;span id=&quot;cb18-50&quot;&gt;&lt;a href=&quot;#cb18-50&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-removed">369 &lt;span id=&quot;cb18-51&quot;&gt;&lt;a href=&quot;#cb18-51&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-removed">370 &lt;span id=&quot;cb18-52&quot;&gt;&lt;a href=&quot;#cb18-52&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
371 &lt;h3 id=&quot;compiling-and-running-the-above-blas-sample&quot;&gt;Compiling and running the above BLAS sample&lt;/h3&gt;
372 &lt;div class=&quot;sourceCode&quot; id=&quot;cb19&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb19-1&quot;&gt;&lt;a href=&quot;#cb19-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
373 &lt;span id=&quot;cb19-2&quot;&gt;&lt;a href=&quot;#cb19-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
374 &lt;span id=&quot;cb19-3&quot;&gt;&lt;a href=&quot;#cb19-3&quot;&gt;&lt;/a&gt;  -C &lt;span class=&quot;st&quot;&gt;&amp;quot;-D FORCE_OPENBLAS_COMPLEX_STRUCT&amp;quot;&lt;/span&gt; \&lt;/span&gt;
375 &lt;span id=&quot;cb19-4&quot;&gt;&lt;a href=&quot;#cb19-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
376 &lt;span id=&quot;cb19-5&quot;&gt;&lt;a href=&quot;#cb19-5&quot;&gt;&lt;/a&gt;  -l openblas -t blas /usr/local/opt/openblas/include/cblas.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
377 &lt;h2 id=&quot;using-lapack-library-mac-os&quot;&gt;Using LAPACK library (Mac OS)&lt;/h2&gt;
378 &lt;p&gt;On Mac OS, lapack is installed under /usr/local/opt/lapack directory.&lt;/p&gt;
379 &lt;h3 id=&quot;jextracting-lapacke.h&quot;&gt;jextracting lapacke.h&lt;/h3&gt;
380 &lt;div class=&quot;sourceCode&quot; id=&quot;cb20&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb20-1&quot;&gt;&lt;a href=&quot;#cb20-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
381 &lt;span id=&quot;cb20-2&quot;&gt;&lt;a href=&quot;#cb20-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
382 &lt;span id=&quot;cb20-3&quot;&gt;&lt;a href=&quot;#cb20-3&quot;&gt;&lt;/a&gt;   -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
383 &lt;span id=&quot;cb20-4&quot;&gt;&lt;a href=&quot;#cb20-4&quot;&gt;&lt;/a&gt;   -l lapacke -t lapack \&lt;/span&gt;
384 &lt;span id=&quot;cb20-5&quot;&gt;&lt;a href=&quot;#cb20-5&quot;&gt;&lt;/a&gt;   --filter lapacke.h \&lt;/span&gt;
385 &lt;span id=&quot;cb20-6&quot;&gt;&lt;a href=&quot;#cb20-6&quot;&gt;&lt;/a&gt;   /usr/local/opt/lapack/include/lapacke.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
386 &lt;h3 id=&quot;java-sample-code-that-uses-lapack-library&quot;&gt;Java sample code that uses LAPACK library&lt;/h3&gt;
387 &lt;div class=&quot;sourceCode&quot; id=&quot;cb21&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb21-1&quot;&gt;&lt;a href=&quot;#cb21-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
388 &lt;span id=&quot;cb21-2&quot;&gt;&lt;a href=&quot;#cb21-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAccess;&lt;/span&gt;&lt;/span&gt;
389 &lt;span id=&quot;cb21-3&quot;&gt;&lt;a href=&quot;#cb21-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress;&lt;/span&gt;&lt;/span&gt;
390 &lt;span id=&quot;cb21-4&quot;&gt;&lt;a href=&quot;#cb21-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;
</pre>
<hr />
<pre>
418 &lt;span id=&quot;cb21-32&quot;&gt;&lt;a href=&quot;#cb21-32&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Right Hand Side b&amp;quot;&lt;/span&gt;, n, nrhs, b, ldb );&lt;/span&gt;
419 &lt;span id=&quot;cb21-33&quot;&gt;&lt;a href=&quot;#cb21-33&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;();&lt;/span&gt;
420 &lt;span id=&quot;cb21-34&quot;&gt;&lt;a href=&quot;#cb21-34&quot;&gt;&lt;/a&gt;&lt;/span&gt;
421 &lt;span id=&quot;cb21-35&quot;&gt;&lt;a href=&quot;#cb21-35&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Executable statements */&lt;/span&gt;&lt;/span&gt;
422 &lt;span id=&quot;cb21-36&quot;&gt;&lt;a href=&quot;#cb21-36&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;//            printf( &amp;quot;LAPACKE_dgels (col-major, high-level) Example Program Results\n&amp;quot; );&lt;/span&gt;&lt;/span&gt;
423 &lt;span id=&quot;cb21-37&quot;&gt;&lt;a href=&quot;#cb21-37&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Solve least squares problem*/&lt;/span&gt;&lt;/span&gt;
424 &lt;span id=&quot;cb21-38&quot;&gt;&lt;a href=&quot;#cb21-38&quot;&gt;&lt;/a&gt;            info = &lt;span class=&quot;fu&quot;&gt;LAPACKE_dgels&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;LAPACK_COL_MAJOR&lt;/span&gt;(), (&lt;span class=&quot;dt&quot;&gt;byte&lt;/span&gt;)&lt;span class=&quot;ch&quot;&gt;&amp;#39;N&amp;#39;&lt;/span&gt;, m, n, nrhs, A, lda, b, ldb);&lt;/span&gt;
425 &lt;span id=&quot;cb21-39&quot;&gt;&lt;a href=&quot;#cb21-39&quot;&gt;&lt;/a&gt;&lt;/span&gt;
426 &lt;span id=&quot;cb21-40&quot;&gt;&lt;a href=&quot;#cb21-40&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Print Solution */&lt;/span&gt;&lt;/span&gt;
427 &lt;span id=&quot;cb21-41&quot;&gt;&lt;a href=&quot;#cb21-41&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Solution&amp;quot;&lt;/span&gt;, n, nrhs, b, ldb );&lt;/span&gt;
428 &lt;span id=&quot;cb21-42&quot;&gt;&lt;a href=&quot;#cb21-42&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;();&lt;/span&gt;
429 &lt;span id=&quot;cb21-43&quot;&gt;&lt;a href=&quot;#cb21-43&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;exit&lt;/span&gt;(info);&lt;/span&gt;
430 &lt;span id=&quot;cb21-44&quot;&gt;&lt;a href=&quot;#cb21-44&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
431 &lt;span id=&quot;cb21-45&quot;&gt;&lt;a href=&quot;#cb21-45&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
432 &lt;span id=&quot;cb21-46&quot;&gt;&lt;a href=&quot;#cb21-46&quot;&gt;&lt;/a&gt;&lt;/span&gt;
433 &lt;span id=&quot;cb21-47&quot;&gt;&lt;a href=&quot;#cb21-47&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; msg, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; m, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; n, MemoryAddress mat, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; ldm) {&lt;/span&gt;
434 &lt;span id=&quot;cb21-48&quot;&gt;&lt;a href=&quot;#cb21-48&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; i, j;&lt;/span&gt;
435 &lt;span id=&quot;cb21-49&quot;&gt;&lt;a href=&quot;#cb21-49&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, msg);&lt;/span&gt;
436 &lt;span id=&quot;cb21-50&quot;&gt;&lt;a href=&quot;#cb21-50&quot;&gt;&lt;/a&gt;&lt;/span&gt;
437 &lt;span id=&quot;cb21-51&quot;&gt;&lt;a href=&quot;#cb21-51&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt;( i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; m; i++ ) {&lt;/span&gt;
<span class="line-modified">438 &lt;span id=&quot;cb21-52&quot;&gt;&lt;a href=&quot;#cb21-52&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt;( j = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; j &amp;lt; n; j++ ) &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot; &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%6.2f&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getDouble&lt;/span&gt;(mat, C_DOUBLE.&lt;span class=&quot;fu&quot;&gt;byteSize&lt;/span&gt;()*(i+j*ldm)));&lt;/span&gt;</span>
439 &lt;span id=&quot;cb21-53&quot;&gt;&lt;a href=&quot;#cb21-53&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;( &lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt; );&lt;/span&gt;
440 &lt;span id=&quot;cb21-54&quot;&gt;&lt;a href=&quot;#cb21-54&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
441 &lt;span id=&quot;cb21-55&quot;&gt;&lt;a href=&quot;#cb21-55&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
442 &lt;span id=&quot;cb21-56&quot;&gt;&lt;a href=&quot;#cb21-56&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
443 &lt;h3 id=&quot;compiling-and-running-the-above-lapack-sample&quot;&gt;Compiling and running the above LAPACK sample&lt;/h3&gt;
444 &lt;div class=&quot;sourceCode&quot; id=&quot;cb22&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb22-1&quot;&gt;&lt;a href=&quot;#cb22-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
445 &lt;span id=&quot;cb22-2&quot;&gt;&lt;a href=&quot;#cb22-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit \&lt;/span&gt;
446 &lt;span id=&quot;cb22-3&quot;&gt;&lt;a href=&quot;#cb22-3&quot;&gt;&lt;/a&gt;    --add-modules jdk.incubator.foreign \&lt;/span&gt;
447 &lt;span id=&quot;cb22-4&quot;&gt;&lt;a href=&quot;#cb22-4&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/local/opt/lapack/lib \&lt;/span&gt;
448 &lt;span id=&quot;cb22-5&quot;&gt;&lt;a href=&quot;#cb22-5&quot;&gt;&lt;/a&gt;    TestLapack.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
449 &lt;h2 id=&quot;using-libproc-library-to-list-processes-from-java-mac-os&quot;&gt;Using libproc library to list processes from Java (Mac OS)&lt;/h2&gt;
450 &lt;h3 id=&quot;jextract-libproc.h&quot;&gt;jextract libproc.h&lt;/h3&gt;
451 &lt;div class=&quot;sourceCode&quot; id=&quot;cb23&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb23-1&quot;&gt;&lt;a href=&quot;#cb23-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
452 &lt;span id=&quot;cb23-2&quot;&gt;&lt;a href=&quot;#cb23-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
453 &lt;span id=&quot;cb23-3&quot;&gt;&lt;a href=&quot;#cb23-3&quot;&gt;&lt;/a&gt;  -t org.unix \&lt;/span&gt;
454 &lt;span id=&quot;cb23-4&quot;&gt;&lt;a href=&quot;#cb23-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
455 &lt;span id=&quot;cb23-5&quot;&gt;&lt;a href=&quot;#cb23-5&quot;&gt;&lt;/a&gt;  --filter libproc.h \&lt;/span&gt;
456 &lt;span id=&quot;cb23-6&quot;&gt;&lt;a href=&quot;#cb23-6&quot;&gt;&lt;/a&gt;  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/libproc.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
457 &lt;h3 id=&quot;java-program-that-uses-libproc-to-list-processes&quot;&gt;Java program that uses libproc to list processes&lt;/h3&gt;
458 &lt;div class=&quot;sourceCode&quot; id=&quot;cb24&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb24-1&quot;&gt;&lt;a href=&quot;#cb24-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
</pre>
<hr />
<pre>
495 &lt;span id=&quot;cb25-3&quot;&gt;&lt;a href=&quot;#cb25-3&quot;&gt;&lt;/a&gt;    --add-modules jdk.incubator.foreign \&lt;/span&gt;
496 &lt;span id=&quot;cb25-4&quot;&gt;&lt;a href=&quot;#cb25-4&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/lib LibprocMain.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
497 &lt;h2 id=&quot;using-libgit2-from-java-mac-os&quot;&gt;Using libgit2 from Java (Mac OS)&lt;/h2&gt;
498 &lt;h3 id=&quot;getting-and-building-libgit2&quot;&gt;Getting and building libgit2&lt;/h3&gt;
499 &lt;ul&gt;
500 &lt;li&gt;Download libgit2 v1.0.0 source from https://github.com/libgit2/libgit2/releases&lt;/li&gt;
501 &lt;li&gt;Use cmake to build from libgit2&lt;/li&gt;
502 &lt;li&gt;Let ${LIBGIT2_HOME} be the directory where you expanded libgit2 sources.&lt;/li&gt;
503 &lt;li&gt;Let ${LIBGIT2_HOME}/build be the build directory where libgit2.dylib is built.&lt;/li&gt;
504 &lt;/ul&gt;
505 &lt;h3 id=&quot;jextract-git2.h&quot;&gt;jextract git2.h&lt;/h3&gt;
506 &lt;div class=&quot;sourceCode&quot; id=&quot;cb26&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb26-1&quot;&gt;&lt;a href=&quot;#cb26-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
507 &lt;span id=&quot;cb26-2&quot;&gt;&lt;a href=&quot;#cb26-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
508 &lt;span id=&quot;cb26-3&quot;&gt;&lt;a href=&quot;#cb26-3&quot;&gt;&lt;/a&gt;  -t com.github -lgit2 \&lt;/span&gt;
509 &lt;span id=&quot;cb26-4&quot;&gt;&lt;a href=&quot;#cb26-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/ \&lt;/span&gt;
510 &lt;span id=&quot;cb26-5&quot;&gt;&lt;a href=&quot;#cb26-5&quot;&gt;&lt;/a&gt;  -I &lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/include/ \&lt;/span&gt;
511 &lt;span id=&quot;cb26-6&quot;&gt;&lt;a href=&quot;#cb26-6&quot;&gt;&lt;/a&gt;  -I &lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/include/git2 \&lt;/span&gt;
512 &lt;span id=&quot;cb26-7&quot;&gt;&lt;a href=&quot;#cb26-7&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/include/git2.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
513 &lt;h3 id=&quot;java-program-that-uses-libgit2-to-clone-github-repo&quot;&gt;Java program that uses libgit2 to clone github repo&lt;/h3&gt;
514 &lt;div class=&quot;sourceCode&quot; id=&quot;cb27&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb27-1&quot;&gt;&lt;a href=&quot;#cb27-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
<span class="line-modified">515 &lt;span id=&quot;cb27-2&quot;&gt;&lt;a href=&quot;#cb27-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAccess;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">516 &lt;span id=&quot;cb27-3&quot;&gt;&lt;a href=&quot;#cb27-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">517 &lt;span id=&quot;cb27-4&quot;&gt;&lt;a href=&quot;#cb27-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">518 &lt;span id=&quot;cb27-5&quot;&gt;&lt;a href=&quot;#cb27-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; com.github.git2_h.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">519 &lt;span id=&quot;cb27-6&quot;&gt;&lt;a href=&quot;#cb27-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">520 &lt;span id=&quot;cb27-7&quot;&gt;&lt;a href=&quot;#cb27-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">521 &lt;span id=&quot;cb27-8&quot;&gt;&lt;a href=&quot;#cb27-8&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">522 &lt;span id=&quot;cb27-9&quot;&gt;&lt;a href=&quot;#cb27-9&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; GitClone {&lt;/span&gt;</span>
<span class="line-modified">523 &lt;span id=&quot;cb27-10&quot;&gt;&lt;a href=&quot;#cb27-10&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-modified">524 &lt;span id=&quot;cb27-11&quot;&gt;&lt;a href=&quot;#cb27-11&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (args.&lt;span class=&quot;fu&quot;&gt;length&lt;/span&gt; != &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;) {&lt;/span&gt;</span>
<span class="line-modified">525 &lt;span id=&quot;cb27-12&quot;&gt;&lt;a href=&quot;#cb27-12&quot;&gt;&lt;/a&gt;              &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;java GitClone &amp;lt;url&amp;gt; &amp;lt;path&amp;gt;&amp;quot;&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">526 &lt;span id=&quot;cb27-13&quot;&gt;&lt;a href=&quot;#cb27-13&quot;&gt;&lt;/a&gt;              &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;exit&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">527 &lt;span id=&quot;cb27-14&quot;&gt;&lt;a href=&quot;#cb27-14&quot;&gt;&lt;/a&gt;          }&lt;/span&gt;</span>
<span class="line-modified">528 &lt;span id=&quot;cb27-15&quot;&gt;&lt;a href=&quot;#cb27-15&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;fu&quot;&gt;git_libgit2_init&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">529 &lt;span id=&quot;cb27-16&quot;&gt;&lt;a href=&quot;#cb27-16&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;</span>
<span class="line-modified">530 &lt;span id=&quot;cb27-17&quot;&gt;&lt;a href=&quot;#cb27-17&quot;&gt;&lt;/a&gt;              var repo = scope.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(C_POINTER);&lt;/span&gt;</span>
<span class="line-modified">531 &lt;span id=&quot;cb27-18&quot;&gt;&lt;a href=&quot;#cb27-18&quot;&gt;&lt;/a&gt;              MemoryAccess.&lt;span class=&quot;fu&quot;&gt;setAddress&lt;/span&gt;(repo, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, NULL);&lt;/span&gt;</span>
<span class="line-modified">532 &lt;span id=&quot;cb27-19&quot;&gt;&lt;a href=&quot;#cb27-19&quot;&gt;&lt;/a&gt;              var url = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(args[&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;], scope);&lt;/span&gt;</span>
<span class="line-modified">533 &lt;span id=&quot;cb27-20&quot;&gt;&lt;a href=&quot;#cb27-20&quot;&gt;&lt;/a&gt;              var path = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(args[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], scope);&lt;/span&gt;</span>
<span class="line-modified">534 &lt;span id=&quot;cb27-21&quot;&gt;&lt;a href=&quot;#cb27-21&quot;&gt;&lt;/a&gt;              &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;git_clone&lt;/span&gt;(repo, url, path, NULL));&lt;/span&gt;</span>
<span class="line-modified">535 &lt;span id=&quot;cb27-22&quot;&gt;&lt;a href=&quot;#cb27-22&quot;&gt;&lt;/a&gt;          }          &lt;/span&gt;</span>
<span class="line-modified">536 &lt;span id=&quot;cb27-23&quot;&gt;&lt;a href=&quot;#cb27-23&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;fu&quot;&gt;git_libgit2_shutdown&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-removed">537 &lt;span id=&quot;cb27-24&quot;&gt;&lt;a href=&quot;#cb27-24&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-removed">538 &lt;span id=&quot;cb27-25&quot;&gt;&lt;a href=&quot;#cb27-25&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
539 &lt;h3 id=&quot;compiling-and-running-the-libgit2-sample&quot;&gt;Compiling and running the libgit2 sample&lt;/h3&gt;
540 &lt;div class=&quot;sourceCode&quot; id=&quot;cb28&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb28-1&quot;&gt;&lt;a href=&quot;#cb28-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
541 &lt;span id=&quot;cb28-2&quot;&gt;&lt;a href=&quot;#cb28-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;# file run.sh&lt;/span&gt;&lt;/span&gt;
542 &lt;span id=&quot;cb28-3&quot;&gt;&lt;a href=&quot;#cb28-3&quot;&gt;&lt;/a&gt;&lt;/span&gt;
543 &lt;span id=&quot;cb28-4&quot;&gt;&lt;a href=&quot;#cb28-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;
544 &lt;span id=&quot;cb28-5&quot;&gt;&lt;a href=&quot;#cb28-5&quot;&gt;&lt;/a&gt;    -Djava.library.path=&lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/build/ \&lt;/span&gt;
545 &lt;span id=&quot;cb28-6&quot;&gt;&lt;a href=&quot;#cb28-6&quot;&gt;&lt;/a&gt;    GitClone.java &lt;span class=&quot;va&quot;&gt;$*&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
546 &lt;h3 id=&quot;cloning-a-github-repo-using-the-above-run.sh-command&quot;&gt;Cloning a github repo using the above run.sh command&lt;/h3&gt;
547 &lt;div class=&quot;sourceCode&quot; id=&quot;cb29&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb29-1&quot;&gt;&lt;a href=&quot;#cb29-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
548 &lt;span id=&quot;cb29-2&quot;&gt;&lt;a href=&quot;#cb29-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;fu&quot;&gt;sh&lt;/span&gt; run.sh https://github.com/libgit2/libgit2.git libgit2&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
549 &lt;h2 id=&quot;using-sqlite3-library-from-java-mac-os&quot;&gt;Using sqlite3 library from Java (Mac OS)&lt;/h2&gt;
550 &lt;h3 id=&quot;jextract-sqlite3.h&quot;&gt;jextract sqlite3.h&lt;/h3&gt;
551 &lt;div class=&quot;sourceCode&quot; id=&quot;cb30&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb30-1&quot;&gt;&lt;a href=&quot;#cb30-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
552 &lt;span id=&quot;cb30-2&quot;&gt;&lt;a href=&quot;#cb30-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
553 &lt;span id=&quot;cb30-3&quot;&gt;&lt;a href=&quot;#cb30-3&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
554 &lt;span id=&quot;cb30-4&quot;&gt;&lt;a href=&quot;#cb30-4&quot;&gt;&lt;/a&gt;  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sqlite3.h \&lt;/span&gt;
<span class="line-modified">555 &lt;span id=&quot;cb30-5&quot;&gt;&lt;a href=&quot;#cb30-5&quot;&gt;&lt;/a&gt;  -t org.sqlite -lsqlite3 &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
556 &lt;h3 id=&quot;java-program-that-uses-sqlite3&quot;&gt;Java program that uses sqlite3&lt;/h3&gt;
557 &lt;div class=&quot;sourceCode&quot; id=&quot;cb31&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb31-1&quot;&gt;&lt;a href=&quot;#cb31-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
558 &lt;span id=&quot;cb31-2&quot;&gt;&lt;a href=&quot;#cb31-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress;&lt;/span&gt;&lt;/span&gt;
559 &lt;span id=&quot;cb31-3&quot;&gt;&lt;a href=&quot;#cb31-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAccess;&lt;/span&gt;&lt;/span&gt;
560 &lt;span id=&quot;cb31-4&quot;&gt;&lt;a href=&quot;#cb31-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;
561 &lt;span id=&quot;cb31-5&quot;&gt;&lt;a href=&quot;#cb31-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;
562 &lt;span id=&quot;cb31-6&quot;&gt;&lt;a href=&quot;#cb31-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.sqlite.sqlite3_h.*;&lt;/span&gt;&lt;/span&gt;
563 &lt;span id=&quot;cb31-7&quot;&gt;&lt;a href=&quot;#cb31-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.sqlite.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;
564 &lt;span id=&quot;cb31-8&quot;&gt;&lt;a href=&quot;#cb31-8&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;
565 &lt;span id=&quot;cb31-9&quot;&gt;&lt;a href=&quot;#cb31-9&quot;&gt;&lt;/a&gt;&lt;/span&gt;
566 &lt;span id=&quot;cb31-10&quot;&gt;&lt;a href=&quot;#cb31-10&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; SqliteMain {&lt;/span&gt;
<span class="line-modified">567 &lt;span id=&quot;cb31-11&quot;&gt;&lt;a href=&quot;#cb31-11&quot;&gt;&lt;/a&gt;   &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; MemoryAddress &lt;span class=&quot;fu&quot;&gt;getPointer&lt;/span&gt;(MemoryAddress addr) {&lt;/span&gt;</span>
<span class="line-modified">568 &lt;span id=&quot;cb31-12&quot;&gt;&lt;a href=&quot;#cb31-12&quot;&gt;&lt;/a&gt;       &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;getPointer&lt;/span&gt;(addr, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">569 &lt;span id=&quot;cb31-13&quot;&gt;&lt;a href=&quot;#cb31-13&quot;&gt;&lt;/a&gt;   }&lt;/span&gt;</span>
<span class="line-modified">570 &lt;span id=&quot;cb31-14&quot;&gt;&lt;a href=&quot;#cb31-14&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">571 &lt;span id=&quot;cb31-15&quot;&gt;&lt;a href=&quot;#cb31-15&quot;&gt;&lt;/a&gt;   &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; MemoryAddress &lt;span class=&quot;fu&quot;&gt;getPointer&lt;/span&gt;(MemoryAddress addr, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; element) {&lt;/span&gt;</span>
<span class="line-modified">572 &lt;span id=&quot;cb31-16&quot;&gt;&lt;a href=&quot;#cb31-16&quot;&gt;&lt;/a&gt;       &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(addr, element*C_POINTER.&lt;span class=&quot;fu&quot;&gt;byteSize&lt;/span&gt;());&lt;/span&gt;</span>
<span class="line-modified">573 &lt;span id=&quot;cb31-17&quot;&gt;&lt;a href=&quot;#cb31-17&quot;&gt;&lt;/a&gt;   }&lt;/span&gt;</span>
574 &lt;span id=&quot;cb31-18&quot;&gt;&lt;a href=&quot;#cb31-18&quot;&gt;&lt;/a&gt;&lt;/span&gt;
<span class="line-modified">575 &lt;span id=&quot;cb31-19&quot;&gt;&lt;a href=&quot;#cb31-19&quot;&gt;&lt;/a&gt;   &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;kw&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;bu&quot;&gt;Exception&lt;/span&gt; {&lt;/span&gt;</span>
<span class="line-modified">576 &lt;span id=&quot;cb31-20&quot;&gt;&lt;a href=&quot;#cb31-20&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;</span>
<span class="line-modified">577 &lt;span id=&quot;cb31-21&quot;&gt;&lt;a href=&quot;#cb31-21&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// char** errMsgPtrPtr;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">578 &lt;span id=&quot;cb31-22&quot;&gt;&lt;a href=&quot;#cb31-22&quot;&gt;&lt;/a&gt;            var errMsgPtrPtr = scope.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(C_POINTER);&lt;/span&gt;</span>
<span class="line-modified">579 &lt;span id=&quot;cb31-23&quot;&gt;&lt;a href=&quot;#cb31-23&quot;&gt;&lt;/a&gt;            MemoryAccess.&lt;span class=&quot;fu&quot;&gt;setAddress&lt;/span&gt;(errMsgPtrPtr, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, NULL);&lt;/span&gt;</span>
<span class="line-modified">580 &lt;span id=&quot;cb31-24&quot;&gt;&lt;a href=&quot;#cb31-24&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">581 &lt;span id=&quot;cb31-25&quot;&gt;&lt;a href=&quot;#cb31-25&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// sqlite3** dbPtrPtr;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">582 &lt;span id=&quot;cb31-26&quot;&gt;&lt;a href=&quot;#cb31-26&quot;&gt;&lt;/a&gt;            var dbPtrPtr = scope.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(C_POINTER);&lt;/span&gt;</span>
<span class="line-modified">583 &lt;span id=&quot;cb31-27&quot;&gt;&lt;a href=&quot;#cb31-27&quot;&gt;&lt;/a&gt;            MemoryAccess.&lt;span class=&quot;fu&quot;&gt;setAddress&lt;/span&gt;(dbPtrPtr, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, NULL);&lt;/span&gt;</span>
<span class="line-modified">584 &lt;span id=&quot;cb31-28&quot;&gt;&lt;a href=&quot;#cb31-28&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">585 &lt;span id=&quot;cb31-29&quot;&gt;&lt;a href=&quot;#cb31-29&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_open&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;employee.db&amp;quot;&lt;/span&gt;,scope), dbPtrPtr);&lt;/span&gt;</span>
<span class="line-modified">586 &lt;span id=&quot;cb31-30&quot;&gt;&lt;a href=&quot;#cb31-30&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;</span>
<span class="line-modified">587 &lt;span id=&quot;cb31-31&quot;&gt;&lt;a href=&quot;#cb31-31&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_open failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;</span>
<span class="line-modified">588 &lt;span id=&quot;cb31-32&quot;&gt;&lt;a href=&quot;#cb31-32&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">589 &lt;span id=&quot;cb31-33&quot;&gt;&lt;a href=&quot;#cb31-33&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;</span>
<span class="line-modified">590 &lt;span id=&quot;cb31-34&quot;&gt;&lt;a href=&quot;#cb31-34&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;employee db opened&amp;quot;&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">591 &lt;span id=&quot;cb31-35&quot;&gt;&lt;a href=&quot;#cb31-35&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;</span>
592 &lt;span id=&quot;cb31-36&quot;&gt;&lt;a href=&quot;#cb31-36&quot;&gt;&lt;/a&gt;&lt;/span&gt;
<span class="line-modified">593 &lt;span id=&quot;cb31-37&quot;&gt;&lt;a href=&quot;#cb31-37&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// sqlite3* dbPtr;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">594 &lt;span id=&quot;cb31-38&quot;&gt;&lt;a href=&quot;#cb31-38&quot;&gt;&lt;/a&gt;            var dbPtr = &lt;span class=&quot;fu&quot;&gt;getPointer&lt;/span&gt;(dbPtrPtr);&lt;/span&gt;</span>
<span class="line-modified">595 &lt;span id=&quot;cb31-39&quot;&gt;&lt;a href=&quot;#cb31-39&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">596 &lt;span id=&quot;cb31-40&quot;&gt;&lt;a href=&quot;#cb31-40&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// create a new table&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">597 &lt;span id=&quot;cb31-41&quot;&gt;&lt;a href=&quot;#cb31-41&quot;&gt;&lt;/a&gt;            var sql = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;/span&gt;</span>
<span class="line-modified">598 &lt;span id=&quot;cb31-42&quot;&gt;&lt;a href=&quot;#cb31-42&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;CREATE TABLE EMPLOYEE (&amp;quot;&lt;/span&gt;  +&lt;/span&gt;</span>
<span class="line-modified">599 &lt;span id=&quot;cb31-43&quot;&gt;&lt;a href=&quot;#cb31-43&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;  ID INT PRIMARY KEY NOT NULL,&amp;quot;&lt;/span&gt; +&lt;/span&gt;</span>
<span class="line-modified">600 &lt;span id=&quot;cb31-44&quot;&gt;&lt;a href=&quot;#cb31-44&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;  NAME TEXT NOT NULL,&amp;quot;&lt;/span&gt;    +&lt;/span&gt;</span>
<span class="line-modified">601 &lt;span id=&quot;cb31-45&quot;&gt;&lt;a href=&quot;#cb31-45&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;  SALARY REAL NOT NULL )&amp;quot;&lt;/span&gt;, scope);&lt;/span&gt;</span>
602 &lt;span id=&quot;cb31-46&quot;&gt;&lt;a href=&quot;#cb31-46&quot;&gt;&lt;/a&gt;&lt;/span&gt;
<span class="line-modified">603 &lt;span id=&quot;cb31-47&quot;&gt;&lt;a href=&quot;#cb31-47&quot;&gt;&lt;/a&gt;            rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_exec&lt;/span&gt;(dbPtr, sql, NULL, NULL, errMsgPtrPtr);&lt;/span&gt;</span>
<span class="line-modified">604 &lt;span id=&quot;cb31-48&quot;&gt;&lt;a href=&quot;#cb31-48&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">605 &lt;span id=&quot;cb31-49&quot;&gt;&lt;a href=&quot;#cb31-49&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;</span>
<span class="line-modified">606 &lt;span id=&quot;cb31-50&quot;&gt;&lt;a href=&quot;#cb31-50&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_exec failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;</span>
<span class="line-modified">607 &lt;span id=&quot;cb31-51&quot;&gt;&lt;a href=&quot;#cb31-51&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SQL error: &amp;quot;&lt;/span&gt; + &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;getPointer&lt;/span&gt;(errMsgPtrPtr)));&lt;/span&gt;</span>
<span class="line-modified">608 &lt;span id=&quot;cb31-52&quot;&gt;&lt;a href=&quot;#cb31-52&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;sqlite3_free&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;getPointer&lt;/span&gt;(errMsgPtrPtr));&lt;/span&gt;</span>
<span class="line-modified">609 &lt;span id=&quot;cb31-53&quot;&gt;&lt;a href=&quot;#cb31-53&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;</span>
<span class="line-modified">610 &lt;span id=&quot;cb31-54&quot;&gt;&lt;a href=&quot;#cb31-54&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;employee table created&amp;quot;&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">611 &lt;span id=&quot;cb31-55&quot;&gt;&lt;a href=&quot;#cb31-55&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;</span>
<span class="line-modified">612 &lt;span id=&quot;cb31-56&quot;&gt;&lt;a href=&quot;#cb31-56&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">613 &lt;span id=&quot;cb31-57&quot;&gt;&lt;a href=&quot;#cb31-57&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// insert two rows&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">614 &lt;span id=&quot;cb31-58&quot;&gt;&lt;a href=&quot;#cb31-58&quot;&gt;&lt;/a&gt;            sql = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;/span&gt;</span>
<span class="line-modified">615 &lt;span id=&quot;cb31-59&quot;&gt;&lt;a href=&quot;#cb31-59&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;INSERT INTO EMPLOYEE (ID,NAME,SALARY) &amp;quot;&lt;/span&gt; +&lt;/span&gt;</span>
<span class="line-modified">616 &lt;span id=&quot;cb31-60&quot;&gt;&lt;a href=&quot;#cb31-60&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;st&quot;&gt;&amp;quot;VALUES (134, &amp;#39;Xyz&amp;#39;, 200000.0); &amp;quot;&lt;/span&gt; +&lt;/span&gt;</span>
<span class="line-modified">617 &lt;span id=&quot;cb31-61&quot;&gt;&lt;a href=&quot;#cb31-61&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;INSERT INTO EMPLOYEE (ID,NAME,SALARY) &amp;quot;&lt;/span&gt; +&lt;/span&gt;</span>
<span class="line-modified">618 &lt;span id=&quot;cb31-62&quot;&gt;&lt;a href=&quot;#cb31-62&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;st&quot;&gt;&amp;quot;VALUES (333, &amp;#39;Abc&amp;#39;, 100000.0);&amp;quot;&lt;/span&gt;, scope&lt;/span&gt;</span>
<span class="line-modified">619 &lt;span id=&quot;cb31-63&quot;&gt;&lt;a href=&quot;#cb31-63&quot;&gt;&lt;/a&gt;            );&lt;/span&gt;</span>
<span class="line-modified">620 &lt;span id=&quot;cb31-64&quot;&gt;&lt;a href=&quot;#cb31-64&quot;&gt;&lt;/a&gt;            rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_exec&lt;/span&gt;(dbPtr, sql, NULL, NULL, errMsgPtrPtr);&lt;/span&gt;</span>
<span class="line-modified">621 &lt;span id=&quot;cb31-65&quot;&gt;&lt;a href=&quot;#cb31-65&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">622 &lt;span id=&quot;cb31-66&quot;&gt;&lt;a href=&quot;#cb31-66&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;</span>
<span class="line-modified">623 &lt;span id=&quot;cb31-67&quot;&gt;&lt;a href=&quot;#cb31-67&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_exec failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;</span>
<span class="line-modified">624 &lt;span id=&quot;cb31-68&quot;&gt;&lt;a href=&quot;#cb31-68&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SQL error: &amp;quot;&lt;/span&gt; + &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;getPointer&lt;/span&gt;(errMsgPtrPtr)));&lt;/span&gt;</span>
<span class="line-modified">625 &lt;span id=&quot;cb31-69&quot;&gt;&lt;a href=&quot;#cb31-69&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;sqlite3_free&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;getPointer&lt;/span&gt;(errMsgPtrPtr));&lt;/span&gt;</span>
<span class="line-modified">626 &lt;span id=&quot;cb31-70&quot;&gt;&lt;a href=&quot;#cb31-70&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;</span>
<span class="line-modified">627 &lt;span id=&quot;cb31-71&quot;&gt;&lt;a href=&quot;#cb31-71&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;rows inserted&amp;quot;&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">628 &lt;span id=&quot;cb31-72&quot;&gt;&lt;a href=&quot;#cb31-72&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;</span>
<span class="line-modified">629 &lt;span id=&quot;cb31-73&quot;&gt;&lt;a href=&quot;#cb31-73&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">630 &lt;span id=&quot;cb31-74&quot;&gt;&lt;a href=&quot;#cb31-74&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;[] rowNum = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;];&lt;/span&gt;</span>
<span class="line-modified">631 &lt;span id=&quot;cb31-75&quot;&gt;&lt;a href=&quot;#cb31-75&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// callback to print rows from SELECT query&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">632 &lt;span id=&quot;cb31-76&quot;&gt;&lt;a href=&quot;#cb31-76&quot;&gt;&lt;/a&gt;            var callback = sqlite3_exec$callback.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;((a, argc, argv, columnNames) -&amp;gt; {&lt;/span&gt;</span>
<span class="line-modified">633 &lt;span id=&quot;cb31-77&quot;&gt;&lt;a href=&quot;#cb31-77&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Row num: &amp;quot;&lt;/span&gt; + rowNum[&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;]++);&lt;/span&gt;</span>
<span class="line-modified">634 &lt;span id=&quot;cb31-78&quot;&gt;&lt;a href=&quot;#cb31-78&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;numColumns = &amp;quot;&lt;/span&gt; + argc);&lt;/span&gt;</span>
<span class="line-modified">635 &lt;span id=&quot;cb31-79&quot;&gt;&lt;a href=&quot;#cb31-79&quot;&gt;&lt;/a&gt;                argv = &lt;span class=&quot;fu&quot;&gt;asArrayRestricted&lt;/span&gt;(argv, C_POINTER, argc);&lt;/span&gt;</span>
<span class="line-modified">636 &lt;span id=&quot;cb31-80&quot;&gt;&lt;a href=&quot;#cb31-80&quot;&gt;&lt;/a&gt;                columnNames = &lt;span class=&quot;fu&quot;&gt;asArrayRestricted&lt;/span&gt;(columnNames, C_POINTER, argc);&lt;/span&gt;</span>
<span class="line-modified">637 &lt;span id=&quot;cb31-81&quot;&gt;&lt;a href=&quot;#cb31-81&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; argc; i++) {&lt;/span&gt;</span>
<span class="line-modified">638 &lt;span id=&quot;cb31-82&quot;&gt;&lt;a href=&quot;#cb31-82&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; name = &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;getPointer&lt;/span&gt;(columnNames, i));&lt;/span&gt;</span>
<span class="line-modified">639 &lt;span id=&quot;cb31-83&quot;&gt;&lt;a href=&quot;#cb31-83&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; value = &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;getPointer&lt;/span&gt;(argv, i));&lt;/span&gt;</span>
<span class="line-modified">640 &lt;span id=&quot;cb31-84&quot;&gt;&lt;a href=&quot;#cb31-84&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, name, value);&lt;/span&gt;</span>
<span class="line-modified">641 &lt;span id=&quot;cb31-85&quot;&gt;&lt;a href=&quot;#cb31-85&quot;&gt;&lt;/a&gt;                }&lt;/span&gt;</span>
<span class="line-modified">642 &lt;span id=&quot;cb31-86&quot;&gt;&lt;a href=&quot;#cb31-86&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">643 &lt;span id=&quot;cb31-87&quot;&gt;&lt;a href=&quot;#cb31-87&quot;&gt;&lt;/a&gt;            }, scope);&lt;/span&gt;</span>
<span class="line-modified">644 &lt;span id=&quot;cb31-88&quot;&gt;&lt;a href=&quot;#cb31-88&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">645 &lt;span id=&quot;cb31-89&quot;&gt;&lt;a href=&quot;#cb31-89&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// select query&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">646 &lt;span id=&quot;cb31-90&quot;&gt;&lt;a href=&quot;#cb31-90&quot;&gt;&lt;/a&gt;            sql = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SELECT * FROM EMPLOYEE&amp;quot;&lt;/span&gt;, scope);&lt;/span&gt;</span>
<span class="line-modified">647 &lt;span id=&quot;cb31-91&quot;&gt;&lt;a href=&quot;#cb31-91&quot;&gt;&lt;/a&gt;            rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_exec&lt;/span&gt;(dbPtr, sql, callback, NULL, errMsgPtrPtr);&lt;/span&gt;</span>
<span class="line-modified">648 &lt;span id=&quot;cb31-92&quot;&gt;&lt;a href=&quot;#cb31-92&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">649 &lt;span id=&quot;cb31-93&quot;&gt;&lt;a href=&quot;#cb31-93&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;</span>
<span class="line-modified">650 &lt;span id=&quot;cb31-94&quot;&gt;&lt;a href=&quot;#cb31-94&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_exec failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;</span>
<span class="line-removed">651 &lt;span id=&quot;cb31-95&quot;&gt;&lt;a href=&quot;#cb31-95&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SQL error: &amp;quot;&lt;/span&gt; + &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;getPointer&lt;/span&gt;(errMsgPtrPtr)));&lt;/span&gt;</span>
<span class="line-removed">652 &lt;span id=&quot;cb31-96&quot;&gt;&lt;a href=&quot;#cb31-96&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;sqlite3_free&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;getPointer&lt;/span&gt;(errMsgPtrPtr));&lt;/span&gt;</span>
<span class="line-removed">653 &lt;span id=&quot;cb31-97&quot;&gt;&lt;a href=&quot;#cb31-97&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;</span>
<span class="line-removed">654 &lt;span id=&quot;cb31-98&quot;&gt;&lt;a href=&quot;#cb31-98&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;done&amp;quot;&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-removed">655 &lt;span id=&quot;cb31-99&quot;&gt;&lt;a href=&quot;#cb31-99&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;</span>
<span class="line-removed">656 &lt;span id=&quot;cb31-100&quot;&gt;&lt;a href=&quot;#cb31-100&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-removed">657 &lt;span id=&quot;cb31-101&quot;&gt;&lt;a href=&quot;#cb31-101&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;sqlite3_close&lt;/span&gt;(dbPtr);&lt;/span&gt;</span>
<span class="line-removed">658 &lt;span id=&quot;cb31-102&quot;&gt;&lt;a href=&quot;#cb31-102&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-removed">659 &lt;span id=&quot;cb31-103&quot;&gt;&lt;a href=&quot;#cb31-103&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-removed">660 &lt;span id=&quot;cb31-104&quot;&gt;&lt;a href=&quot;#cb31-104&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
661 &lt;h3 id=&quot;compiling-and-running-the-sqlite3-sample&quot;&gt;Compiling and running the sqlite3 sample&lt;/h3&gt;
662 &lt;div class=&quot;sourceCode&quot; id=&quot;cb32&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb32-1&quot;&gt;&lt;a href=&quot;#cb32-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
663 &lt;span id=&quot;cb32-2&quot;&gt;&lt;a href=&quot;#cb32-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit \&lt;/span&gt;
664 &lt;span id=&quot;cb32-3&quot;&gt;&lt;a href=&quot;#cb32-3&quot;&gt;&lt;/a&gt;   --add-modules jdk.incubator.foreign \&lt;/span&gt;
665 &lt;span id=&quot;cb32-4&quot;&gt;&lt;a href=&quot;#cb32-4&quot;&gt;&lt;/a&gt;   -Djava.library.path=/usr/lib SqliteMain.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
666 &lt;/body&gt;
667 &lt;/html&gt;
</pre>
</td>
<td>
<hr />
<pre>
309 &lt;div class=&quot;sourceCode&quot; id=&quot;cb16&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb16-1&quot;&gt;&lt;a href=&quot;#cb16-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
310 &lt;span id=&quot;cb16-2&quot;&gt;&lt;a href=&quot;#cb16-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;brew&lt;/span&gt; install openblas&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
311 &lt;p&gt;It installs include and lib directories under /usr/local/opt/openblas&lt;/p&gt;
312 &lt;h3 id=&quot;jextracting-cblas.h-macos&quot;&gt;jextracting cblas.h (MacOS)&lt;/h3&gt;
313 &lt;p&gt;The following command can be used to extract cblas.h on MacOs&lt;/p&gt;
314 &lt;div class=&quot;sourceCode&quot; id=&quot;cb17&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb17-1&quot;&gt;&lt;a href=&quot;#cb17-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
315 &lt;span id=&quot;cb17-2&quot;&gt;&lt;a href=&quot;#cb17-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; -C &lt;span class=&quot;st&quot;&gt;&amp;quot;-D FORCE_OPENBLAS_COMPLEX_STRUCT&amp;quot;&lt;/span&gt; \&lt;/span&gt;
316 &lt;span id=&quot;cb17-3&quot;&gt;&lt;a href=&quot;#cb17-3&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
317 &lt;span id=&quot;cb17-4&quot;&gt;&lt;a href=&quot;#cb17-4&quot;&gt;&lt;/a&gt;  -l openblas -t blas /usr/local/opt/openblas/include/cblas.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
318 &lt;h3 id=&quot;java-sample-code-that-uses-cblas-library&quot;&gt;Java sample code that uses cblas library&lt;/h3&gt;
319 &lt;div class=&quot;sourceCode&quot; id=&quot;cb18&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb18-1&quot;&gt;&lt;a href=&quot;#cb18-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
320 &lt;span id=&quot;cb18-2&quot;&gt;&lt;a href=&quot;#cb18-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress;&lt;/span&gt;&lt;/span&gt;
321 &lt;span id=&quot;cb18-3&quot;&gt;&lt;a href=&quot;#cb18-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAccess;&lt;/span&gt;&lt;/span&gt;
322 &lt;span id=&quot;cb18-4&quot;&gt;&lt;a href=&quot;#cb18-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;
323 &lt;span id=&quot;cb18-5&quot;&gt;&lt;a href=&quot;#cb18-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; blas.*;&lt;/span&gt;&lt;/span&gt;
324 &lt;span id=&quot;cb18-6&quot;&gt;&lt;a href=&quot;#cb18-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; blas.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;
325 &lt;span id=&quot;cb18-7&quot;&gt;&lt;a href=&quot;#cb18-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; blas.cblas_h.*;&lt;/span&gt;&lt;/span&gt;
326 &lt;span id=&quot;cb18-8&quot;&gt;&lt;a href=&quot;#cb18-8&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;
327 &lt;span id=&quot;cb18-9&quot;&gt;&lt;a href=&quot;#cb18-9&quot;&gt;&lt;/a&gt;&lt;/span&gt;
328 &lt;span id=&quot;cb18-10&quot;&gt;&lt;a href=&quot;#cb18-10&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; TestBlas {&lt;/span&gt;
<span class="line-modified">329 &lt;span id=&quot;cb18-11&quot;&gt;&lt;a href=&quot;#cb18-11&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-modified">330 &lt;span id=&quot;cb18-12&quot;&gt;&lt;a href=&quot;#cb18-12&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; Layout;&lt;/span&gt;</span>
<span class="line-modified">331 &lt;span id=&quot;cb18-13&quot;&gt;&lt;a href=&quot;#cb18-13&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; transa;&lt;/span&gt;</span>
332 &lt;span id=&quot;cb18-14&quot;&gt;&lt;a href=&quot;#cb18-14&quot;&gt;&lt;/a&gt;&lt;/span&gt;
<span class="line-modified">333 &lt;span id=&quot;cb18-15&quot;&gt;&lt;a href=&quot;#cb18-15&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt; alpha, beta;&lt;/span&gt;</span>
<span class="line-modified">334 &lt;span id=&quot;cb18-16&quot;&gt;&lt;a href=&quot;#cb18-16&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; m, n, lda, incx, incy, i;&lt;/span&gt;</span>
<span class="line-modified">335 &lt;span id=&quot;cb18-17&quot;&gt;&lt;a href=&quot;#cb18-17&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">336 &lt;span id=&quot;cb18-18&quot;&gt;&lt;a href=&quot;#cb18-18&quot;&gt;&lt;/a&gt;        Layout = &lt;span class=&quot;fu&quot;&gt;CblasColMajor&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">337 &lt;span id=&quot;cb18-19&quot;&gt;&lt;a href=&quot;#cb18-19&quot;&gt;&lt;/a&gt;        transa = &lt;span class=&quot;fu&quot;&gt;CblasNoTrans&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">338 &lt;span id=&quot;cb18-20&quot;&gt;&lt;a href=&quot;#cb18-20&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">339 &lt;span id=&quot;cb18-21&quot;&gt;&lt;a href=&quot;#cb18-21&quot;&gt;&lt;/a&gt;        m = &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;; &lt;span class=&quot;co&quot;&gt;/* Size of Column ( the number of rows ) */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">340 &lt;span id=&quot;cb18-22&quot;&gt;&lt;a href=&quot;#cb18-22&quot;&gt;&lt;/a&gt;        n = &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;; &lt;span class=&quot;co&quot;&gt;/* Size of Row ( the number of columns ) */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">341 &lt;span id=&quot;cb18-23&quot;&gt;&lt;a href=&quot;#cb18-23&quot;&gt;&lt;/a&gt;        lda = &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;; &lt;span class=&quot;co&quot;&gt;/* Leading dimension of 5 * 4 matrix is 5 */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">342 &lt;span id=&quot;cb18-24&quot;&gt;&lt;a href=&quot;#cb18-24&quot;&gt;&lt;/a&gt;        incx = &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">343 &lt;span id=&quot;cb18-25&quot;&gt;&lt;a href=&quot;#cb18-25&quot;&gt;&lt;/a&gt;        incy = &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">344 &lt;span id=&quot;cb18-26&quot;&gt;&lt;a href=&quot;#cb18-26&quot;&gt;&lt;/a&gt;        alpha = &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">345 &lt;span id=&quot;cb18-27&quot;&gt;&lt;a href=&quot;#cb18-27&quot;&gt;&lt;/a&gt;        beta = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">346 &lt;span id=&quot;cb18-28&quot;&gt;&lt;a href=&quot;#cb18-28&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">347 &lt;span id=&quot;cb18-29&quot;&gt;&lt;a href=&quot;#cb18-29&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;</span>
<span class="line-modified">348 &lt;span id=&quot;cb18-30&quot;&gt;&lt;a href=&quot;#cb18-30&quot;&gt;&lt;/a&gt;            var a = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(C_DOUBLE, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt;[] {&lt;/span&gt;</span>
<span class="line-modified">349 &lt;span id=&quot;cb18-31&quot;&gt;&lt;a href=&quot;#cb18-31&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;2.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;3.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;4.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;</span>
<span class="line-modified">350 &lt;span id=&quot;cb18-32&quot;&gt;&lt;a href=&quot;#cb18-32&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;</span>
<span class="line-modified">351 &lt;span id=&quot;cb18-33&quot;&gt;&lt;a href=&quot;#cb18-33&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fl&quot;&gt;3.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;4.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;5.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;6.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;</span>
<span class="line-modified">352 &lt;span id=&quot;cb18-34&quot;&gt;&lt;a href=&quot;#cb18-34&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fl&quot;&gt;5.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;6.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;7.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;8.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">353 &lt;span id=&quot;cb18-35&quot;&gt;&lt;a href=&quot;#cb18-35&quot;&gt;&lt;/a&gt;            });&lt;/span&gt;</span>
<span class="line-modified">354 &lt;span id=&quot;cb18-36&quot;&gt;&lt;a href=&quot;#cb18-36&quot;&gt;&lt;/a&gt;            var x = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(C_DOUBLE, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;double&lt;/span&gt;[] {&lt;/span&gt;</span>
<span class="line-modified">355 &lt;span id=&quot;cb18-37&quot;&gt;&lt;a href=&quot;#cb18-37&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;2.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">356 &lt;span id=&quot;cb18-38&quot;&gt;&lt;a href=&quot;#cb18-38&quot;&gt;&lt;/a&gt;            });&lt;/span&gt;</span>
<span class="line-modified">357 &lt;span id=&quot;cb18-39&quot;&gt;&lt;a href=&quot;#cb18-39&quot;&gt;&lt;/a&gt;            var y = scope.&lt;span class=&quot;fu&quot;&gt;allocateArray&lt;/span&gt;(C_DOUBLE, n);&lt;/span&gt;</span>
<span class="line-modified">358 &lt;span id=&quot;cb18-40&quot;&gt;&lt;a href=&quot;#cb18-40&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">359 &lt;span id=&quot;cb18-41&quot;&gt;&lt;a href=&quot;#cb18-41&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;cblas_dgemv&lt;/span&gt;(Layout, transa, m, n, alpha, a, lda, x, incx, beta, y, incy);&lt;/span&gt;</span>
<span class="line-modified">360 &lt;span id=&quot;cb18-42&quot;&gt;&lt;a href=&quot;#cb18-42&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Print y */&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">361 &lt;span id=&quot;cb18-43&quot;&gt;&lt;a href=&quot;#cb18-43&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt; (i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; n; i++) {&lt;/span&gt;</span>
<span class="line-modified">362 &lt;span id=&quot;cb18-44&quot;&gt;&lt;a href=&quot;#cb18-44&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;.format&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot; y&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%d&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%f\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, i, MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getDoubleAtIndex&lt;/span&gt;(y, i)));&lt;/span&gt;</span>
<span class="line-modified">363 &lt;span id=&quot;cb18-45&quot;&gt;&lt;a href=&quot;#cb18-45&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;</span>
<span class="line-modified">364 &lt;span id=&quot;cb18-46&quot;&gt;&lt;a href=&quot;#cb18-46&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-modified">365 &lt;span id=&quot;cb18-47&quot;&gt;&lt;a href=&quot;#cb18-47&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-modified">366 &lt;span id=&quot;cb18-48&quot;&gt;&lt;a href=&quot;#cb18-48&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>




367 &lt;h3 id=&quot;compiling-and-running-the-above-blas-sample&quot;&gt;Compiling and running the above BLAS sample&lt;/h3&gt;
368 &lt;div class=&quot;sourceCode&quot; id=&quot;cb19&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb19-1&quot;&gt;&lt;a href=&quot;#cb19-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
369 &lt;span id=&quot;cb19-2&quot;&gt;&lt;a href=&quot;#cb19-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
370 &lt;span id=&quot;cb19-3&quot;&gt;&lt;a href=&quot;#cb19-3&quot;&gt;&lt;/a&gt;  -C &lt;span class=&quot;st&quot;&gt;&amp;quot;-D FORCE_OPENBLAS_COMPLEX_STRUCT&amp;quot;&lt;/span&gt; \&lt;/span&gt;
371 &lt;span id=&quot;cb19-4&quot;&gt;&lt;a href=&quot;#cb19-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
372 &lt;span id=&quot;cb19-5&quot;&gt;&lt;a href=&quot;#cb19-5&quot;&gt;&lt;/a&gt;  -l openblas -t blas /usr/local/opt/openblas/include/cblas.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
373 &lt;h2 id=&quot;using-lapack-library-mac-os&quot;&gt;Using LAPACK library (Mac OS)&lt;/h2&gt;
374 &lt;p&gt;On Mac OS, lapack is installed under /usr/local/opt/lapack directory.&lt;/p&gt;
375 &lt;h3 id=&quot;jextracting-lapacke.h&quot;&gt;jextracting lapacke.h&lt;/h3&gt;
376 &lt;div class=&quot;sourceCode&quot; id=&quot;cb20&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb20-1&quot;&gt;&lt;a href=&quot;#cb20-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
377 &lt;span id=&quot;cb20-2&quot;&gt;&lt;a href=&quot;#cb20-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
378 &lt;span id=&quot;cb20-3&quot;&gt;&lt;a href=&quot;#cb20-3&quot;&gt;&lt;/a&gt;   -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
379 &lt;span id=&quot;cb20-4&quot;&gt;&lt;a href=&quot;#cb20-4&quot;&gt;&lt;/a&gt;   -l lapacke -t lapack \&lt;/span&gt;
380 &lt;span id=&quot;cb20-5&quot;&gt;&lt;a href=&quot;#cb20-5&quot;&gt;&lt;/a&gt;   --filter lapacke.h \&lt;/span&gt;
381 &lt;span id=&quot;cb20-6&quot;&gt;&lt;a href=&quot;#cb20-6&quot;&gt;&lt;/a&gt;   /usr/local/opt/lapack/include/lapacke.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
382 &lt;h3 id=&quot;java-sample-code-that-uses-lapack-library&quot;&gt;Java sample code that uses LAPACK library&lt;/h3&gt;
383 &lt;div class=&quot;sourceCode&quot; id=&quot;cb21&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb21-1&quot;&gt;&lt;a href=&quot;#cb21-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
384 &lt;span id=&quot;cb21-2&quot;&gt;&lt;a href=&quot;#cb21-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAccess;&lt;/span&gt;&lt;/span&gt;
385 &lt;span id=&quot;cb21-3&quot;&gt;&lt;a href=&quot;#cb21-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress;&lt;/span&gt;&lt;/span&gt;
386 &lt;span id=&quot;cb21-4&quot;&gt;&lt;a href=&quot;#cb21-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;
</pre>
<hr />
<pre>
414 &lt;span id=&quot;cb21-32&quot;&gt;&lt;a href=&quot;#cb21-32&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Right Hand Side b&amp;quot;&lt;/span&gt;, n, nrhs, b, ldb );&lt;/span&gt;
415 &lt;span id=&quot;cb21-33&quot;&gt;&lt;a href=&quot;#cb21-33&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;();&lt;/span&gt;
416 &lt;span id=&quot;cb21-34&quot;&gt;&lt;a href=&quot;#cb21-34&quot;&gt;&lt;/a&gt;&lt;/span&gt;
417 &lt;span id=&quot;cb21-35&quot;&gt;&lt;a href=&quot;#cb21-35&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Executable statements */&lt;/span&gt;&lt;/span&gt;
418 &lt;span id=&quot;cb21-36&quot;&gt;&lt;a href=&quot;#cb21-36&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;//            printf( &amp;quot;LAPACKE_dgels (col-major, high-level) Example Program Results\n&amp;quot; );&lt;/span&gt;&lt;/span&gt;
419 &lt;span id=&quot;cb21-37&quot;&gt;&lt;a href=&quot;#cb21-37&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Solve least squares problem*/&lt;/span&gt;&lt;/span&gt;
420 &lt;span id=&quot;cb21-38&quot;&gt;&lt;a href=&quot;#cb21-38&quot;&gt;&lt;/a&gt;            info = &lt;span class=&quot;fu&quot;&gt;LAPACKE_dgels&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;LAPACK_COL_MAJOR&lt;/span&gt;(), (&lt;span class=&quot;dt&quot;&gt;byte&lt;/span&gt;)&lt;span class=&quot;ch&quot;&gt;&amp;#39;N&amp;#39;&lt;/span&gt;, m, n, nrhs, A, lda, b, ldb);&lt;/span&gt;
421 &lt;span id=&quot;cb21-39&quot;&gt;&lt;a href=&quot;#cb21-39&quot;&gt;&lt;/a&gt;&lt;/span&gt;
422 &lt;span id=&quot;cb21-40&quot;&gt;&lt;a href=&quot;#cb21-40&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;/* Print Solution */&lt;/span&gt;&lt;/span&gt;
423 &lt;span id=&quot;cb21-41&quot;&gt;&lt;a href=&quot;#cb21-41&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Solution&amp;quot;&lt;/span&gt;, n, nrhs, b, ldb );&lt;/span&gt;
424 &lt;span id=&quot;cb21-42&quot;&gt;&lt;a href=&quot;#cb21-42&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;();&lt;/span&gt;
425 &lt;span id=&quot;cb21-43&quot;&gt;&lt;a href=&quot;#cb21-43&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;exit&lt;/span&gt;(info);&lt;/span&gt;
426 &lt;span id=&quot;cb21-44&quot;&gt;&lt;a href=&quot;#cb21-44&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
427 &lt;span id=&quot;cb21-45&quot;&gt;&lt;a href=&quot;#cb21-45&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
428 &lt;span id=&quot;cb21-46&quot;&gt;&lt;a href=&quot;#cb21-46&quot;&gt;&lt;/a&gt;&lt;/span&gt;
429 &lt;span id=&quot;cb21-47&quot;&gt;&lt;a href=&quot;#cb21-47&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;print_matrix_colmajor&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; msg, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; m, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; n, MemoryAddress mat, &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; ldm) {&lt;/span&gt;
430 &lt;span id=&quot;cb21-48&quot;&gt;&lt;a href=&quot;#cb21-48&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; i, j;&lt;/span&gt;
431 &lt;span id=&quot;cb21-49&quot;&gt;&lt;a href=&quot;#cb21-49&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, msg);&lt;/span&gt;
432 &lt;span id=&quot;cb21-50&quot;&gt;&lt;a href=&quot;#cb21-50&quot;&gt;&lt;/a&gt;&lt;/span&gt;
433 &lt;span id=&quot;cb21-51&quot;&gt;&lt;a href=&quot;#cb21-51&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt;( i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; m; i++ ) {&lt;/span&gt;
<span class="line-modified">434 &lt;span id=&quot;cb21-52&quot;&gt;&lt;a href=&quot;#cb21-52&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt;( j = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; j &amp;lt; n; j++ ) &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot; &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%6.2f&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getDoubleAtIndex&lt;/span&gt;(mat, i+j*ldm));&lt;/span&gt;</span>
435 &lt;span id=&quot;cb21-53&quot;&gt;&lt;a href=&quot;#cb21-53&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;( &lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt; );&lt;/span&gt;
436 &lt;span id=&quot;cb21-54&quot;&gt;&lt;a href=&quot;#cb21-54&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;
437 &lt;span id=&quot;cb21-55&quot;&gt;&lt;a href=&quot;#cb21-55&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;
438 &lt;span id=&quot;cb21-56&quot;&gt;&lt;a href=&quot;#cb21-56&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
439 &lt;h3 id=&quot;compiling-and-running-the-above-lapack-sample&quot;&gt;Compiling and running the above LAPACK sample&lt;/h3&gt;
440 &lt;div class=&quot;sourceCode&quot; id=&quot;cb22&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb22-1&quot;&gt;&lt;a href=&quot;#cb22-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
441 &lt;span id=&quot;cb22-2&quot;&gt;&lt;a href=&quot;#cb22-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit \&lt;/span&gt;
442 &lt;span id=&quot;cb22-3&quot;&gt;&lt;a href=&quot;#cb22-3&quot;&gt;&lt;/a&gt;    --add-modules jdk.incubator.foreign \&lt;/span&gt;
443 &lt;span id=&quot;cb22-4&quot;&gt;&lt;a href=&quot;#cb22-4&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/local/opt/lapack/lib \&lt;/span&gt;
444 &lt;span id=&quot;cb22-5&quot;&gt;&lt;a href=&quot;#cb22-5&quot;&gt;&lt;/a&gt;    TestLapack.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
445 &lt;h2 id=&quot;using-libproc-library-to-list-processes-from-java-mac-os&quot;&gt;Using libproc library to list processes from Java (Mac OS)&lt;/h2&gt;
446 &lt;h3 id=&quot;jextract-libproc.h&quot;&gt;jextract libproc.h&lt;/h3&gt;
447 &lt;div class=&quot;sourceCode&quot; id=&quot;cb23&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb23-1&quot;&gt;&lt;a href=&quot;#cb23-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
448 &lt;span id=&quot;cb23-2&quot;&gt;&lt;a href=&quot;#cb23-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
449 &lt;span id=&quot;cb23-3&quot;&gt;&lt;a href=&quot;#cb23-3&quot;&gt;&lt;/a&gt;  -t org.unix \&lt;/span&gt;
450 &lt;span id=&quot;cb23-4&quot;&gt;&lt;a href=&quot;#cb23-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
451 &lt;span id=&quot;cb23-5&quot;&gt;&lt;a href=&quot;#cb23-5&quot;&gt;&lt;/a&gt;  --filter libproc.h \&lt;/span&gt;
452 &lt;span id=&quot;cb23-6&quot;&gt;&lt;a href=&quot;#cb23-6&quot;&gt;&lt;/a&gt;  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/libproc.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
453 &lt;h3 id=&quot;java-program-that-uses-libproc-to-list-processes&quot;&gt;Java program that uses libproc to list processes&lt;/h3&gt;
454 &lt;div class=&quot;sourceCode&quot; id=&quot;cb24&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb24-1&quot;&gt;&lt;a href=&quot;#cb24-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
</pre>
<hr />
<pre>
491 &lt;span id=&quot;cb25-3&quot;&gt;&lt;a href=&quot;#cb25-3&quot;&gt;&lt;/a&gt;    --add-modules jdk.incubator.foreign \&lt;/span&gt;
492 &lt;span id=&quot;cb25-4&quot;&gt;&lt;a href=&quot;#cb25-4&quot;&gt;&lt;/a&gt;    -Djava.library.path=/usr/lib LibprocMain.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
493 &lt;h2 id=&quot;using-libgit2-from-java-mac-os&quot;&gt;Using libgit2 from Java (Mac OS)&lt;/h2&gt;
494 &lt;h3 id=&quot;getting-and-building-libgit2&quot;&gt;Getting and building libgit2&lt;/h3&gt;
495 &lt;ul&gt;
496 &lt;li&gt;Download libgit2 v1.0.0 source from https://github.com/libgit2/libgit2/releases&lt;/li&gt;
497 &lt;li&gt;Use cmake to build from libgit2&lt;/li&gt;
498 &lt;li&gt;Let ${LIBGIT2_HOME} be the directory where you expanded libgit2 sources.&lt;/li&gt;
499 &lt;li&gt;Let ${LIBGIT2_HOME}/build be the build directory where libgit2.dylib is built.&lt;/li&gt;
500 &lt;/ul&gt;
501 &lt;h3 id=&quot;jextract-git2.h&quot;&gt;jextract git2.h&lt;/h3&gt;
502 &lt;div class=&quot;sourceCode&quot; id=&quot;cb26&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb26-1&quot;&gt;&lt;a href=&quot;#cb26-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
503 &lt;span id=&quot;cb26-2&quot;&gt;&lt;a href=&quot;#cb26-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
504 &lt;span id=&quot;cb26-3&quot;&gt;&lt;a href=&quot;#cb26-3&quot;&gt;&lt;/a&gt;  -t com.github -lgit2 \&lt;/span&gt;
505 &lt;span id=&quot;cb26-4&quot;&gt;&lt;a href=&quot;#cb26-4&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/ \&lt;/span&gt;
506 &lt;span id=&quot;cb26-5&quot;&gt;&lt;a href=&quot;#cb26-5&quot;&gt;&lt;/a&gt;  -I &lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/include/ \&lt;/span&gt;
507 &lt;span id=&quot;cb26-6&quot;&gt;&lt;a href=&quot;#cb26-6&quot;&gt;&lt;/a&gt;  -I &lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/include/git2 \&lt;/span&gt;
508 &lt;span id=&quot;cb26-7&quot;&gt;&lt;a href=&quot;#cb26-7&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/include/git2.h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
509 &lt;h3 id=&quot;java-program-that-uses-libgit2-to-clone-github-repo&quot;&gt;Java program that uses libgit2 to clone github repo&lt;/h3&gt;
510 &lt;div class=&quot;sourceCode&quot; id=&quot;cb27&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb27-1&quot;&gt;&lt;a href=&quot;#cb27-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
<span class="line-modified">511 &lt;span id=&quot;cb27-2&quot;&gt;&lt;a href=&quot;#cb27-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">512 &lt;span id=&quot;cb27-3&quot;&gt;&lt;a href=&quot;#cb27-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">513 &lt;span id=&quot;cb27-4&quot;&gt;&lt;a href=&quot;#cb27-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; com.github.git2_h.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">514 &lt;span id=&quot;cb27-5&quot;&gt;&lt;a href=&quot;#cb27-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">515 &lt;span id=&quot;cb27-6&quot;&gt;&lt;a href=&quot;#cb27-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">516 &lt;span id=&quot;cb27-7&quot;&gt;&lt;a href=&quot;#cb27-7&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">517 &lt;span id=&quot;cb27-8&quot;&gt;&lt;a href=&quot;#cb27-8&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; GitClone {&lt;/span&gt;</span>
<span class="line-modified">518 &lt;span id=&quot;cb27-9&quot;&gt;&lt;a href=&quot;#cb27-9&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;</span>
<span class="line-modified">519 &lt;span id=&quot;cb27-10&quot;&gt;&lt;a href=&quot;#cb27-10&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (args.&lt;span class=&quot;fu&quot;&gt;length&lt;/span&gt; != &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;) {&lt;/span&gt;</span>
<span class="line-modified">520 &lt;span id=&quot;cb27-11&quot;&gt;&lt;a href=&quot;#cb27-11&quot;&gt;&lt;/a&gt;              &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;java GitClone &amp;lt;url&amp;gt; &amp;lt;path&amp;gt;&amp;quot;&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">521 &lt;span id=&quot;cb27-12&quot;&gt;&lt;a href=&quot;#cb27-12&quot;&gt;&lt;/a&gt;              &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;exit&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">522 &lt;span id=&quot;cb27-13&quot;&gt;&lt;a href=&quot;#cb27-13&quot;&gt;&lt;/a&gt;          }&lt;/span&gt;</span>
<span class="line-modified">523 &lt;span id=&quot;cb27-14&quot;&gt;&lt;a href=&quot;#cb27-14&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;fu&quot;&gt;git_libgit2_init&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">524 &lt;span id=&quot;cb27-15&quot;&gt;&lt;a href=&quot;#cb27-15&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;</span>
<span class="line-modified">525 &lt;span id=&quot;cb27-16&quot;&gt;&lt;a href=&quot;#cb27-16&quot;&gt;&lt;/a&gt;              var repo = scope.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(C_POINTER);&lt;/span&gt;</span>
<span class="line-modified">526 &lt;span id=&quot;cb27-17&quot;&gt;&lt;a href=&quot;#cb27-17&quot;&gt;&lt;/a&gt;              var url = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(args[&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;], scope);&lt;/span&gt;</span>
<span class="line-modified">527 &lt;span id=&quot;cb27-18&quot;&gt;&lt;a href=&quot;#cb27-18&quot;&gt;&lt;/a&gt;              var path = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(args[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], scope);&lt;/span&gt;</span>
<span class="line-modified">528 &lt;span id=&quot;cb27-19&quot;&gt;&lt;a href=&quot;#cb27-19&quot;&gt;&lt;/a&gt;              &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;git_clone&lt;/span&gt;(repo, url, path, NULL));&lt;/span&gt;</span>
<span class="line-modified">529 &lt;span id=&quot;cb27-20&quot;&gt;&lt;a href=&quot;#cb27-20&quot;&gt;&lt;/a&gt;          }&lt;/span&gt;</span>
<span class="line-modified">530 &lt;span id=&quot;cb27-21&quot;&gt;&lt;a href=&quot;#cb27-21&quot;&gt;&lt;/a&gt;          &lt;span class=&quot;fu&quot;&gt;git_libgit2_shutdown&lt;/span&gt;();&lt;/span&gt;</span>
<span class="line-modified">531 &lt;span id=&quot;cb27-22&quot;&gt;&lt;a href=&quot;#cb27-22&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-modified">532 &lt;span id=&quot;cb27-23&quot;&gt;&lt;a href=&quot;#cb27-23&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>


533 &lt;h3 id=&quot;compiling-and-running-the-libgit2-sample&quot;&gt;Compiling and running the libgit2 sample&lt;/h3&gt;
534 &lt;div class=&quot;sourceCode&quot; id=&quot;cb28&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb28-1&quot;&gt;&lt;a href=&quot;#cb28-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
535 &lt;span id=&quot;cb28-2&quot;&gt;&lt;a href=&quot;#cb28-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;# file run.sh&lt;/span&gt;&lt;/span&gt;
536 &lt;span id=&quot;cb28-3&quot;&gt;&lt;a href=&quot;#cb28-3&quot;&gt;&lt;/a&gt;&lt;/span&gt;
537 &lt;span id=&quot;cb28-4&quot;&gt;&lt;a href=&quot;#cb28-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \&lt;/span&gt;
538 &lt;span id=&quot;cb28-5&quot;&gt;&lt;a href=&quot;#cb28-5&quot;&gt;&lt;/a&gt;    -Djava.library.path=&lt;span class=&quot;va&quot;&gt;${LIBGIT2_HOME}&lt;/span&gt;/build/ \&lt;/span&gt;
539 &lt;span id=&quot;cb28-6&quot;&gt;&lt;a href=&quot;#cb28-6&quot;&gt;&lt;/a&gt;    GitClone.java &lt;span class=&quot;va&quot;&gt;$*&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
540 &lt;h3 id=&quot;cloning-a-github-repo-using-the-above-run.sh-command&quot;&gt;Cloning a github repo using the above run.sh command&lt;/h3&gt;
541 &lt;div class=&quot;sourceCode&quot; id=&quot;cb29&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb29-1&quot;&gt;&lt;a href=&quot;#cb29-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
542 &lt;span id=&quot;cb29-2&quot;&gt;&lt;a href=&quot;#cb29-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;fu&quot;&gt;sh&lt;/span&gt; run.sh https://github.com/libgit2/libgit2.git libgit2&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
543 &lt;h2 id=&quot;using-sqlite3-library-from-java-mac-os&quot;&gt;Using sqlite3 library from Java (Mac OS)&lt;/h2&gt;
544 &lt;h3 id=&quot;jextract-sqlite3.h&quot;&gt;jextract sqlite3.h&lt;/h3&gt;
545 &lt;div class=&quot;sourceCode&quot; id=&quot;cb30&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb30-1&quot;&gt;&lt;a href=&quot;#cb30-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
546 &lt;span id=&quot;cb30-2&quot;&gt;&lt;a href=&quot;#cb30-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;jextract&lt;/span&gt; \&lt;/span&gt;
547 &lt;span id=&quot;cb30-3&quot;&gt;&lt;a href=&quot;#cb30-3&quot;&gt;&lt;/a&gt;  -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \&lt;/span&gt;
548 &lt;span id=&quot;cb30-4&quot;&gt;&lt;a href=&quot;#cb30-4&quot;&gt;&lt;/a&gt;  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sqlite3.h \&lt;/span&gt;
<span class="line-modified">549 &lt;span id=&quot;cb30-5&quot;&gt;&lt;a href=&quot;#cb30-5&quot;&gt;&lt;/a&gt;  -t org.sqlite -lsqlite3&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>
550 &lt;h3 id=&quot;java-program-that-uses-sqlite3&quot;&gt;Java program that uses sqlite3&lt;/h3&gt;
551 &lt;div class=&quot;sourceCode&quot; id=&quot;cb31&quot;&gt;&lt;pre class=&quot;sourceCode java&quot;&gt;&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span id=&quot;cb31-1&quot;&gt;&lt;a href=&quot;#cb31-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
552 &lt;span id=&quot;cb31-2&quot;&gt;&lt;a href=&quot;#cb31-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress;&lt;/span&gt;&lt;/span&gt;
553 &lt;span id=&quot;cb31-3&quot;&gt;&lt;a href=&quot;#cb31-3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAccess;&lt;/span&gt;&lt;/span&gt;
554 &lt;span id=&quot;cb31-4&quot;&gt;&lt;a href=&quot;#cb31-4&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.NativeScope;&lt;/span&gt;&lt;/span&gt;
555 &lt;span id=&quot;cb31-5&quot;&gt;&lt;a href=&quot;#cb31-5&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.MemoryAddress.NULL;&lt;/span&gt;&lt;/span&gt;
556 &lt;span id=&quot;cb31-6&quot;&gt;&lt;a href=&quot;#cb31-6&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.sqlite.sqlite3_h.*;&lt;/span&gt;&lt;/span&gt;
557 &lt;span id=&quot;cb31-7&quot;&gt;&lt;a href=&quot;#cb31-7&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; org.sqlite.RuntimeHelper.*;&lt;/span&gt;&lt;/span&gt;
558 &lt;span id=&quot;cb31-8&quot;&gt;&lt;a href=&quot;#cb31-8&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;import static&lt;/span&gt;&lt;span class=&quot;im&quot;&gt; jdk.incubator.foreign.CSupport.*;&lt;/span&gt;&lt;/span&gt;
559 &lt;span id=&quot;cb31-9&quot;&gt;&lt;a href=&quot;#cb31-9&quot;&gt;&lt;/a&gt;&lt;/span&gt;
560 &lt;span id=&quot;cb31-10&quot;&gt;&lt;a href=&quot;#cb31-10&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; SqliteMain {&lt;/span&gt;
<span class="line-modified">561 &lt;span id=&quot;cb31-11&quot;&gt;&lt;a href=&quot;#cb31-11&quot;&gt;&lt;/a&gt;   &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;kw&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;bu&quot;&gt;Exception&lt;/span&gt; {&lt;/span&gt;</span>
<span class="line-modified">562 &lt;span id=&quot;cb31-12&quot;&gt;&lt;a href=&quot;#cb31-12&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; (var scope = NativeScope.&lt;span class=&quot;fu&quot;&gt;unboundedScope&lt;/span&gt;()) {&lt;/span&gt;</span>
<span class="line-modified">563 &lt;span id=&quot;cb31-13&quot;&gt;&lt;a href=&quot;#cb31-13&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// char** errMsgPtrPtr;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">564 &lt;span id=&quot;cb31-14&quot;&gt;&lt;a href=&quot;#cb31-14&quot;&gt;&lt;/a&gt;            var errMsgPtrPtr = scope.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(C_POINTER);&lt;/span&gt;</span>
<span class="line-modified">565 &lt;span id=&quot;cb31-15&quot;&gt;&lt;a href=&quot;#cb31-15&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">566 &lt;span id=&quot;cb31-16&quot;&gt;&lt;a href=&quot;#cb31-16&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// sqlite3** dbPtrPtr;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">567 &lt;span id=&quot;cb31-17&quot;&gt;&lt;a href=&quot;#cb31-17&quot;&gt;&lt;/a&gt;            var dbPtrPtr = scope.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;(C_POINTER);&lt;/span&gt;</span>
568 &lt;span id=&quot;cb31-18&quot;&gt;&lt;a href=&quot;#cb31-18&quot;&gt;&lt;/a&gt;&lt;/span&gt;
<span class="line-modified">569 &lt;span id=&quot;cb31-19&quot;&gt;&lt;a href=&quot;#cb31-19&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_open&lt;/span&gt;(&lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;employee.db&amp;quot;&lt;/span&gt;,scope), dbPtrPtr);&lt;/span&gt;</span>
<span class="line-modified">570 &lt;span id=&quot;cb31-20&quot;&gt;&lt;a href=&quot;#cb31-20&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;</span>
<span class="line-modified">571 &lt;span id=&quot;cb31-21&quot;&gt;&lt;a href=&quot;#cb31-21&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_open failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;</span>
<span class="line-modified">572 &lt;span id=&quot;cb31-22&quot;&gt;&lt;a href=&quot;#cb31-22&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">573 &lt;span id=&quot;cb31-23&quot;&gt;&lt;a href=&quot;#cb31-23&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;</span>
<span class="line-modified">574 &lt;span id=&quot;cb31-24&quot;&gt;&lt;a href=&quot;#cb31-24&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;employee db opened&amp;quot;&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">575 &lt;span id=&quot;cb31-25&quot;&gt;&lt;a href=&quot;#cb31-25&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;</span>
<span class="line-modified">576 &lt;span id=&quot;cb31-26&quot;&gt;&lt;a href=&quot;#cb31-26&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">577 &lt;span id=&quot;cb31-27&quot;&gt;&lt;a href=&quot;#cb31-27&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// sqlite3* dbPtr;&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">578 &lt;span id=&quot;cb31-28&quot;&gt;&lt;a href=&quot;#cb31-28&quot;&gt;&lt;/a&gt;            var dbPtr = MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(dbPtrPtr);&lt;/span&gt;</span>
<span class="line-modified">579 &lt;span id=&quot;cb31-29&quot;&gt;&lt;a href=&quot;#cb31-29&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">580 &lt;span id=&quot;cb31-30&quot;&gt;&lt;a href=&quot;#cb31-30&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// create a new table&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">581 &lt;span id=&quot;cb31-31&quot;&gt;&lt;a href=&quot;#cb31-31&quot;&gt;&lt;/a&gt;            var sql = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;/span&gt;</span>
<span class="line-modified">582 &lt;span id=&quot;cb31-32&quot;&gt;&lt;a href=&quot;#cb31-32&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;CREATE TABLE EMPLOYEE (&amp;quot;&lt;/span&gt;  +&lt;/span&gt;</span>
<span class="line-modified">583 &lt;span id=&quot;cb31-33&quot;&gt;&lt;a href=&quot;#cb31-33&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;  ID INT PRIMARY KEY NOT NULL,&amp;quot;&lt;/span&gt; +&lt;/span&gt;</span>
<span class="line-modified">584 &lt;span id=&quot;cb31-34&quot;&gt;&lt;a href=&quot;#cb31-34&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;  NAME TEXT NOT NULL,&amp;quot;&lt;/span&gt;    +&lt;/span&gt;</span>
<span class="line-modified">585 &lt;span id=&quot;cb31-35&quot;&gt;&lt;a href=&quot;#cb31-35&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;  SALARY REAL NOT NULL )&amp;quot;&lt;/span&gt;, scope);&lt;/span&gt;</span>
586 &lt;span id=&quot;cb31-36&quot;&gt;&lt;a href=&quot;#cb31-36&quot;&gt;&lt;/a&gt;&lt;/span&gt;
<span class="line-modified">587 &lt;span id=&quot;cb31-37&quot;&gt;&lt;a href=&quot;#cb31-37&quot;&gt;&lt;/a&gt;            rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_exec&lt;/span&gt;(dbPtr, sql, NULL, NULL, errMsgPtrPtr);&lt;/span&gt;</span>
<span class="line-modified">588 &lt;span id=&quot;cb31-38&quot;&gt;&lt;a href=&quot;#cb31-38&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">589 &lt;span id=&quot;cb31-39&quot;&gt;&lt;a href=&quot;#cb31-39&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;</span>
<span class="line-modified">590 &lt;span id=&quot;cb31-40&quot;&gt;&lt;a href=&quot;#cb31-40&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_exec failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;</span>
<span class="line-modified">591 &lt;span id=&quot;cb31-41&quot;&gt;&lt;a href=&quot;#cb31-41&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SQL error: &amp;quot;&lt;/span&gt; + &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr)));&lt;/span&gt;</span>
<span class="line-modified">592 &lt;span id=&quot;cb31-42&quot;&gt;&lt;a href=&quot;#cb31-42&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;sqlite3_free&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr));&lt;/span&gt;</span>
<span class="line-modified">593 &lt;span id=&quot;cb31-43&quot;&gt;&lt;a href=&quot;#cb31-43&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;</span>
<span class="line-modified">594 &lt;span id=&quot;cb31-44&quot;&gt;&lt;a href=&quot;#cb31-44&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;employee table created&amp;quot;&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">595 &lt;span id=&quot;cb31-45&quot;&gt;&lt;a href=&quot;#cb31-45&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;</span>
596 &lt;span id=&quot;cb31-46&quot;&gt;&lt;a href=&quot;#cb31-46&quot;&gt;&lt;/a&gt;&lt;/span&gt;
<span class="line-modified">597 &lt;span id=&quot;cb31-47&quot;&gt;&lt;a href=&quot;#cb31-47&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// insert two rows&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">598 &lt;span id=&quot;cb31-48&quot;&gt;&lt;a href=&quot;#cb31-48&quot;&gt;&lt;/a&gt;            sql = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;/span&gt;</span>
<span class="line-modified">599 &lt;span id=&quot;cb31-49&quot;&gt;&lt;a href=&quot;#cb31-49&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;INSERT INTO EMPLOYEE (ID,NAME,SALARY) &amp;quot;&lt;/span&gt; +&lt;/span&gt;</span>
<span class="line-modified">600 &lt;span id=&quot;cb31-50&quot;&gt;&lt;a href=&quot;#cb31-50&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;st&quot;&gt;&amp;quot;VALUES (134, &amp;#39;Xyz&amp;#39;, 200000.0); &amp;quot;&lt;/span&gt; +&lt;/span&gt;</span>
<span class="line-modified">601 &lt;span id=&quot;cb31-51&quot;&gt;&lt;a href=&quot;#cb31-51&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;st&quot;&gt;&amp;quot;INSERT INTO EMPLOYEE (ID,NAME,SALARY) &amp;quot;&lt;/span&gt; +&lt;/span&gt;</span>
<span class="line-modified">602 &lt;span id=&quot;cb31-52&quot;&gt;&lt;a href=&quot;#cb31-52&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;st&quot;&gt;&amp;quot;VALUES (333, &amp;#39;Abc&amp;#39;, 100000.0);&amp;quot;&lt;/span&gt;, scope&lt;/span&gt;</span>
<span class="line-modified">603 &lt;span id=&quot;cb31-53&quot;&gt;&lt;a href=&quot;#cb31-53&quot;&gt;&lt;/a&gt;            );&lt;/span&gt;</span>
<span class="line-modified">604 &lt;span id=&quot;cb31-54&quot;&gt;&lt;a href=&quot;#cb31-54&quot;&gt;&lt;/a&gt;            rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_exec&lt;/span&gt;(dbPtr, sql, NULL, NULL, errMsgPtrPtr);&lt;/span&gt;</span>
<span class="line-modified">605 &lt;span id=&quot;cb31-55&quot;&gt;&lt;a href=&quot;#cb31-55&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">606 &lt;span id=&quot;cb31-56&quot;&gt;&lt;a href=&quot;#cb31-56&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;</span>
<span class="line-modified">607 &lt;span id=&quot;cb31-57&quot;&gt;&lt;a href=&quot;#cb31-57&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_exec failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;</span>
<span class="line-modified">608 &lt;span id=&quot;cb31-58&quot;&gt;&lt;a href=&quot;#cb31-58&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SQL error: &amp;quot;&lt;/span&gt; + &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr)));&lt;/span&gt;</span>
<span class="line-modified">609 &lt;span id=&quot;cb31-59&quot;&gt;&lt;a href=&quot;#cb31-59&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;sqlite3_free&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr));&lt;/span&gt;</span>
<span class="line-modified">610 &lt;span id=&quot;cb31-60&quot;&gt;&lt;a href=&quot;#cb31-60&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;</span>
<span class="line-modified">611 &lt;span id=&quot;cb31-61&quot;&gt;&lt;a href=&quot;#cb31-61&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;rows inserted&amp;quot;&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">612 &lt;span id=&quot;cb31-62&quot;&gt;&lt;a href=&quot;#cb31-62&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;</span>
<span class="line-modified">613 &lt;span id=&quot;cb31-63&quot;&gt;&lt;a href=&quot;#cb31-63&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">614 &lt;span id=&quot;cb31-64&quot;&gt;&lt;a href=&quot;#cb31-64&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;[] rowNum = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;];&lt;/span&gt;</span>
<span class="line-modified">615 &lt;span id=&quot;cb31-65&quot;&gt;&lt;a href=&quot;#cb31-65&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// callback to print rows from SELECT query&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">616 &lt;span id=&quot;cb31-66&quot;&gt;&lt;a href=&quot;#cb31-66&quot;&gt;&lt;/a&gt;            var callback = sqlite3_exec$callback.&lt;span class=&quot;fu&quot;&gt;allocate&lt;/span&gt;((a, argc, argv, columnNames) -&amp;gt; {&lt;/span&gt;</span>
<span class="line-modified">617 &lt;span id=&quot;cb31-67&quot;&gt;&lt;a href=&quot;#cb31-67&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Row num: &amp;quot;&lt;/span&gt; + rowNum[&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;]++);&lt;/span&gt;</span>
<span class="line-modified">618 &lt;span id=&quot;cb31-68&quot;&gt;&lt;a href=&quot;#cb31-68&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;numColumns = &amp;quot;&lt;/span&gt; + argc);&lt;/span&gt;</span>
<span class="line-modified">619 &lt;span id=&quot;cb31-69&quot;&gt;&lt;a href=&quot;#cb31-69&quot;&gt;&lt;/a&gt;                argv = &lt;span class=&quot;fu&quot;&gt;asArrayRestricted&lt;/span&gt;(argv, C_POINTER, argc);&lt;/span&gt;</span>
<span class="line-modified">620 &lt;span id=&quot;cb31-70&quot;&gt;&lt;a href=&quot;#cb31-70&quot;&gt;&lt;/a&gt;                columnNames = &lt;span class=&quot;fu&quot;&gt;asArrayRestricted&lt;/span&gt;(columnNames, C_POINTER, argc);&lt;/span&gt;</span>
<span class="line-modified">621 &lt;span id=&quot;cb31-71&quot;&gt;&lt;a href=&quot;#cb31-71&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;; i &amp;lt; argc; i++) {&lt;/span&gt;</span>
<span class="line-modified">622 &lt;span id=&quot;cb31-72&quot;&gt;&lt;a href=&quot;#cb31-72&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; name = &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddressAtIndex&lt;/span&gt;(columnNames, i));&lt;/span&gt;</span>
<span class="line-modified">623 &lt;span id=&quot;cb31-73&quot;&gt;&lt;a href=&quot;#cb31-73&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;String&lt;/span&gt; value = &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddressAtIndex&lt;/span&gt;(argv, i));&lt;/span&gt;</span>
<span class="line-modified">624 &lt;span id=&quot;cb31-74&quot;&gt;&lt;a href=&quot;#cb31-74&quot;&gt;&lt;/a&gt;                     &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out.printf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;%s\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, name, value);&lt;/span&gt;</span>
<span class="line-modified">625 &lt;span id=&quot;cb31-75&quot;&gt;&lt;a href=&quot;#cb31-75&quot;&gt;&lt;/a&gt;                }&lt;/span&gt;</span>
<span class="line-modified">626 &lt;span id=&quot;cb31-76&quot;&gt;&lt;a href=&quot;#cb31-76&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;</span>
<span class="line-modified">627 &lt;span id=&quot;cb31-77&quot;&gt;&lt;a href=&quot;#cb31-77&quot;&gt;&lt;/a&gt;            }, scope);&lt;/span&gt;</span>
<span class="line-modified">628 &lt;span id=&quot;cb31-78&quot;&gt;&lt;a href=&quot;#cb31-78&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">629 &lt;span id=&quot;cb31-79&quot;&gt;&lt;a href=&quot;#cb31-79&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;co&quot;&gt;// select query&lt;/span&gt;&lt;/span&gt;</span>
<span class="line-modified">630 &lt;span id=&quot;cb31-80&quot;&gt;&lt;a href=&quot;#cb31-80&quot;&gt;&lt;/a&gt;            sql = &lt;span class=&quot;fu&quot;&gt;toCString&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SELECT * FROM EMPLOYEE&amp;quot;&lt;/span&gt;, scope);&lt;/span&gt;</span>
<span class="line-modified">631 &lt;span id=&quot;cb31-81&quot;&gt;&lt;a href=&quot;#cb31-81&quot;&gt;&lt;/a&gt;            rc = &lt;span class=&quot;fu&quot;&gt;sqlite3_exec&lt;/span&gt;(dbPtr, sql, callback, NULL, errMsgPtrPtr);&lt;/span&gt;</span>
<span class="line-modified">632 &lt;span id=&quot;cb31-82&quot;&gt;&lt;a href=&quot;#cb31-82&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">633 &lt;span id=&quot;cb31-83&quot;&gt;&lt;a href=&quot;#cb31-83&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (rc != &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;</span>
<span class="line-modified">634 &lt;span id=&quot;cb31-84&quot;&gt;&lt;a href=&quot;#cb31-84&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sqlite3_exec failed: &amp;quot;&lt;/span&gt; + rc);&lt;/span&gt;</span>
<span class="line-modified">635 &lt;span id=&quot;cb31-85&quot;&gt;&lt;a href=&quot;#cb31-85&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;SQL error: &amp;quot;&lt;/span&gt; + &lt;span class=&quot;fu&quot;&gt;toJavaStringRestricted&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr)));&lt;/span&gt;</span>
<span class="line-modified">636 &lt;span id=&quot;cb31-86&quot;&gt;&lt;a href=&quot;#cb31-86&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;sqlite3_free&lt;/span&gt;(MemoryAccess.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;(errMsgPtrPtr));&lt;/span&gt;</span>
<span class="line-modified">637 &lt;span id=&quot;cb31-87&quot;&gt;&lt;a href=&quot;#cb31-87&quot;&gt;&lt;/a&gt;            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;</span>
<span class="line-modified">638 &lt;span id=&quot;cb31-88&quot;&gt;&lt;a href=&quot;#cb31-88&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;bu&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;done&amp;quot;&lt;/span&gt;);&lt;/span&gt;</span>
<span class="line-modified">639 &lt;span id=&quot;cb31-89&quot;&gt;&lt;a href=&quot;#cb31-89&quot;&gt;&lt;/a&gt;            }&lt;/span&gt;</span>
<span class="line-modified">640 &lt;span id=&quot;cb31-90&quot;&gt;&lt;a href=&quot;#cb31-90&quot;&gt;&lt;/a&gt;&lt;/span&gt;</span>
<span class="line-modified">641 &lt;span id=&quot;cb31-91&quot;&gt;&lt;a href=&quot;#cb31-91&quot;&gt;&lt;/a&gt;            &lt;span class=&quot;fu&quot;&gt;sqlite3_close&lt;/span&gt;(dbPtr);&lt;/span&gt;</span>
<span class="line-modified">642 &lt;span id=&quot;cb31-92&quot;&gt;&lt;a href=&quot;#cb31-92&quot;&gt;&lt;/a&gt;        }&lt;/span&gt;</span>
<span class="line-modified">643 &lt;span id=&quot;cb31-93&quot;&gt;&lt;a href=&quot;#cb31-93&quot;&gt;&lt;/a&gt;    }&lt;/span&gt;</span>
<span class="line-modified">644 &lt;span id=&quot;cb31-94&quot;&gt;&lt;a href=&quot;#cb31-94&quot;&gt;&lt;/a&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span>










645 &lt;h3 id=&quot;compiling-and-running-the-sqlite3-sample&quot;&gt;Compiling and running the sqlite3 sample&lt;/h3&gt;
646 &lt;div class=&quot;sourceCode&quot; id=&quot;cb32&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb32-1&quot;&gt;&lt;a href=&quot;#cb32-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
647 &lt;span id=&quot;cb32-2&quot;&gt;&lt;a href=&quot;#cb32-2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;java&lt;/span&gt; -Dforeign.restricted=permit \&lt;/span&gt;
648 &lt;span id=&quot;cb32-3&quot;&gt;&lt;a href=&quot;#cb32-3&quot;&gt;&lt;/a&gt;   --add-modules jdk.incubator.foreign \&lt;/span&gt;
649 &lt;span id=&quot;cb32-4&quot;&gt;&lt;a href=&quot;#cb32-4&quot;&gt;&lt;/a&gt;   -Djava.library.path=/usr/lib SqliteMain.java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
650 &lt;/body&gt;
651 &lt;/html&gt;
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../index.html" target="_top">index</a> <a href="panama_jextract.md.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>