<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff issuetracker/src/main/java/org/openjdk/skara/issuetracker/jira/JiraProject.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>issuetracker/src/main/java/org/openjdk/skara/issuetracker/jira/JiraProject.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 118,20 ***</span>
      JiraHost jiraHost() {
          return jiraHost;
      }
  
      private static final Set&lt;String&gt; knownProperties = Set.of(&quot;issuetype&quot;, &quot;fixVersions&quot;, &quot;versions&quot;, &quot;priority&quot;, &quot;components&quot;);
  
<span class="line-modified">!     boolean isAllowedProperty(String name) {</span>
          if (knownProperties.contains(name)) {
              return true;
          }
          return name.startsWith(&quot;customfield_&quot;);
      }
  
      Optional&lt;JSONValue&gt; decodeProperty(String name, JSONValue value) {
<span class="line-modified">!         if (!isAllowedProperty(name)) {</span>
              return Optional.empty();
          }
          if (value.isNull()) {
              return Optional.empty();
          }
<span class="line-new-header">--- 118,24 ---</span>
      JiraHost jiraHost() {
          return jiraHost;
      }
  
      private static final Set&lt;String&gt; knownProperties = Set.of(&quot;issuetype&quot;, &quot;fixVersions&quot;, &quot;versions&quot;, &quot;priority&quot;, &quot;components&quot;);
<span class="line-added">+     private static final Set&lt;String&gt; readOnlyProperties = Set.of(&quot;resolution&quot;);</span>
  
<span class="line-modified">!     boolean isAllowedProperty(String name, boolean forWrite) {</span>
          if (knownProperties.contains(name)) {
              return true;
          }
<span class="line-added">+         if (!forWrite &amp;&amp; readOnlyProperties.contains(name)) {</span>
<span class="line-added">+             return true;</span>
<span class="line-added">+         }</span>
          return name.startsWith(&quot;customfield_&quot;);
      }
  
      Optional&lt;JSONValue&gt; decodeProperty(String name, JSONValue value) {
<span class="line-modified">!         if (!isAllowedProperty(name, false)) {</span>
              return Optional.empty();
          }
          if (value.isNull()) {
              return Optional.empty();
          }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 152,11 ***</span>
                  return Optional.of(value);
          }
      }
  
      Optional&lt;JSONValue&gt; encodeProperty(String name, JSONValue value) {
<span class="line-modified">!         if (!isAllowedProperty(name)) {</span>
              return Optional.empty();
          }
  
          switch (name) {
              case &quot;fixVersions&quot;: // fall-through
<span class="line-new-header">--- 156,11 ---</span>
                  return Optional.of(value);
          }
      }
  
      Optional&lt;JSONValue&gt; encodeProperty(String name, JSONValue value) {
<span class="line-modified">!         if (!isAllowedProperty(name, true)) {</span>
              return Optional.empty();
          }
  
          switch (name) {
              case &quot;fixVersions&quot;: // fall-through
</pre>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>