<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff bots/mlbridge/src/main/java/org/openjdk/skara/bots/mlbridge/ArchiveMessages.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ArchiveItem.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="ArchiveWorkItem.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>bots/mlbridge/src/main/java/org/openjdk/skara/bots/mlbridge/ArchiveMessages.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
376     static String composeReviewFooter(PullRequest pr, Review review, HostUserToUserName hostUserToUserName, HostUserToRole hostUserToRole) {
377         var result = new StringBuilder();
378         if (review.body().isPresent() &amp;&amp; !review.body().get().isBlank()) {
379             var verdict = composeReviewVerdict(review, hostUserToUserName, hostUserToRole);
380             if (!verdict.isBlank()) {
381                 result.append(verdict);
382                 result.append(&quot;\n\n&quot;);
383             }
384         }
385         result.append(composeReplyFooter(pr));
386         return result.toString();
387     }
388 
389     static String composeReplyHeader(ZonedDateTime parentDate, EmailAddress parentAuthor) {
390         return &quot;On &quot; + parentDate.format(DateTimeFormatter.RFC_1123_DATE_TIME) + &quot;, &quot; + parentAuthor.toString() + &quot; wrote:&quot;;
391     }
392 
393     static String composeClosedNotice(PullRequest pr) {
394         return &quot;This pull request has been closed without being integrated.&quot;;
395     }
















396 }
</pre>
</td>
<td>
<hr />
<pre>
376     static String composeReviewFooter(PullRequest pr, Review review, HostUserToUserName hostUserToUserName, HostUserToRole hostUserToRole) {
377         var result = new StringBuilder();
378         if (review.body().isPresent() &amp;&amp; !review.body().get().isBlank()) {
379             var verdict = composeReviewVerdict(review, hostUserToUserName, hostUserToRole);
380             if (!verdict.isBlank()) {
381                 result.append(verdict);
382                 result.append(&quot;\n\n&quot;);
383             }
384         }
385         result.append(composeReplyFooter(pr));
386         return result.toString();
387     }
388 
389     static String composeReplyHeader(ZonedDateTime parentDate, EmailAddress parentAuthor) {
390         return &quot;On &quot; + parentDate.format(DateTimeFormatter.RFC_1123_DATE_TIME) + &quot;, &quot; + parentAuthor.toString() + &quot; wrote:&quot;;
391     }
392 
393     static String composeClosedNotice(PullRequest pr) {
394         return &quot;This pull request has been closed without being integrated.&quot;;
395     }
<span class="line-added">396 </span>
<span class="line-added">397     static String composeIntegratedNotice(PullRequest pr, Repository localRepo, Commit commit) {</span>
<span class="line-added">398         var result = new StringBuilder();</span>
<span class="line-added">399         result.append(&quot;This pull request has now been integrated.\n\n&quot;);</span>
<span class="line-added">400         result.append(&quot;Changeset: &quot;).append(commit.hash().abbreviate()).append(&quot;\n&quot;);</span>
<span class="line-added">401         result.append(&quot;Author:    &quot;).append(commit.author().name()).append(&quot; &lt;&quot;).append(commit.author().email()).append(&quot;&gt;\n&quot;);</span>
<span class="line-added">402         if (!commit.author().equals(commit.committer())) {</span>
<span class="line-added">403             result.append(&quot;Committer: &quot;).append(commit.committer().name()).append(&quot; &lt;&quot;).append(commit.committer().email()).append(&quot;&gt;\n&quot;);</span>
<span class="line-added">404         }</span>
<span class="line-added">405         result.append(&quot;URL:       &quot;).append(pr.repository().webUrl(commit.hash())).append(&quot;\n&quot;);</span>
<span class="line-added">406         result.append(&quot;Stats:     &quot;).append(stats(localRepo, commit.hash(), commit.parents().get(0))).append(&quot;\n&quot;);</span>
<span class="line-added">407         result.append(&quot;\n&quot;);</span>
<span class="line-added">408         result.append(String.join(&quot;\n&quot;, commit.message()));</span>
<span class="line-added">409 </span>
<span class="line-added">410         return result.toString();</span>
<span class="line-added">411     }</span>
412 }
</pre>
</td>
</tr>
</table>
<center><a href="ArchiveItem.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="ArchiveWorkItem.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>