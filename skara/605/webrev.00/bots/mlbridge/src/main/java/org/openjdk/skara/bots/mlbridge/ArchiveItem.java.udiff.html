<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff bots/mlbridge/src/main/java/org/openjdk/skara/bots/mlbridge/ArchiveItem.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="ArchiveMessages.java.udiff.html" target="_top">next &gt;</a></center>    <h2>bots/mlbridge/src/main/java/org/openjdk/skara/bots/mlbridge/ArchiveItem.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -220,10 +220,18 @@</span>
                                 () -&gt; ArchiveMessages.composeReplyHeader(parent.createdAt(), hostUserToEmailAuthor.author(parent.author())),
                                 () -&gt; ArchiveMessages.composeClosedNotice(pr),
                                 () -&gt; ArchiveMessages.composeReplyFooter(pr));
      }
  
<span class="udiff-line-added">+     static ArchiveItem integratedNotice(PullRequest pr, Repository localRepo, Commit commit, HostUserToEmailAuthor hostUserToEmailAuthor, ArchiveItem parent, String subjectPrefix, String threadPrefix) {</span>
<span class="udiff-line-added">+         return new ArchiveItem(parent, &quot;in&quot;, pr.updatedAt(), pr.updatedAt(), pr.author(), Map.of(&quot;PR-Integrated-Notice&quot;, &quot;0&quot;),</span>
<span class="udiff-line-added">+                                () -&gt; String.format(&quot;Re: [Integrated] %s%s%s&quot;, subjectPrefix, threadPrefix + (threadPrefix.isEmpty() ? &quot;&quot; : &quot;: &quot;), pr.title()),</span>
<span class="udiff-line-added">+                                () -&gt; ArchiveMessages.composeReplyHeader(parent.createdAt(), hostUserToEmailAuthor.author(parent.author())),</span>
<span class="udiff-line-added">+                                () -&gt; ArchiveMessages.composeIntegratedNotice(pr, localRepo, commit),</span>
<span class="udiff-line-added">+                                () -&gt; ArchiveMessages.composeReplyFooter(pr));</span>
<span class="udiff-line-added">+     }</span>
<span class="udiff-line-added">+ </span>
      private static Pattern mentionPattern = Pattern.compile(&quot;^@([\\w-]+).*&quot;);
  
      private static Optional&lt;ArchiveItem&gt; findLastMention(String commentText, List&lt;ArchiveItem&gt; eligibleParents) {
          var mentionMatcher = mentionPattern.matcher(commentText);
          if (mentionMatcher.matches()) {
</pre>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="ArchiveMessages.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>