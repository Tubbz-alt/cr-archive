<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff bots/pr/src/main/java/org/openjdk/skara/bots/pr/CheckRun.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>bots/pr/src/main/java/org/openjdk/skara/bots/pr/CheckRun.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
525         if (isReady) {
526             var message = getMergeReadyComment(commitMessage, reviews, rebasePossible);
527             if (existing.isEmpty()) {
528                 pr.addComment(message);
529             } else {
530                 pr.updateComment(existing.get().id(), message);
531             }
532         } else {
533             existing.ifPresent(comment -&gt; pr.updateComment(comment.id(), getMergeNoLongerReadyComment()));
534         }
535     }
536 
537     private void addOutdatedComment(List&lt;Comment&gt; comments) {
538         var existing = findComment(comments, outdatedHelpMarker);
539         if (existing.isPresent()) {
540             // Only add the comment once per PR
541             return;
542         }
543         var message = &quot;@&quot; + pr.author().userName() + &quot; this pull request can no longer be integrated into &quot; +
544                 &quot;`&quot; + pr.targetRef() + &quot;` due to one or more merge conflicts. To resolve these merge conflicts &quot; +
<span class="line-modified">545                 &quot;and update this pull request you can run the following commands:\n&quot; +</span>
546                 &quot;```bash\n&quot; +
547                 &quot;git checkout &quot; + pr.sourceRef() + &quot;\n&quot; +
548                 &quot;git fetch &quot; + pr.repository().webUrl() + &quot; &quot; + pr.targetRef() + &quot;\n&quot; +
549                 &quot;git merge FETCH_HEAD\n&quot; +
550                 &quot;# resolve conflicts and follow the instructions given by git merge\n&quot; +
551                 &quot;git commit -m \&quot;Merge &quot; + pr.targetRef() + &quot;\&quot;\n&quot; +
552                 &quot;git push\n&quot; +
553                 &quot;```\n&quot; +
554                 outdatedHelpMarker;
555         pr.addComment(message);
556     }
557 
558     private void checkStatus() {
559         var checkBuilder = CheckBuilder.create(&quot;jcheck&quot;, pr.headHash());
560         var censusDomain = censusInstance.configuration().census().domain();
561         Exception checkException = null;
562 
563         try {
564             // Post check in-progress
565             log.info(&quot;Starting to run jcheck on PR head&quot;);
</pre>
</td>
<td>
<hr />
<pre>
525         if (isReady) {
526             var message = getMergeReadyComment(commitMessage, reviews, rebasePossible);
527             if (existing.isEmpty()) {
528                 pr.addComment(message);
529             } else {
530                 pr.updateComment(existing.get().id(), message);
531             }
532         } else {
533             existing.ifPresent(comment -&gt; pr.updateComment(comment.id(), getMergeNoLongerReadyComment()));
534         }
535     }
536 
537     private void addOutdatedComment(List&lt;Comment&gt; comments) {
538         var existing = findComment(comments, outdatedHelpMarker);
539         if (existing.isPresent()) {
540             // Only add the comment once per PR
541             return;
542         }
543         var message = &quot;@&quot; + pr.author().userName() + &quot; this pull request can no longer be integrated into &quot; +
544                 &quot;`&quot; + pr.targetRef() + &quot;` due to one or more merge conflicts. To resolve these merge conflicts &quot; +
<span class="line-modified">545                 &quot;and update this pull request you can run the following commands in the local repository for your personal fork:\n&quot; +</span>
546                 &quot;```bash\n&quot; +
547                 &quot;git checkout &quot; + pr.sourceRef() + &quot;\n&quot; +
548                 &quot;git fetch &quot; + pr.repository().webUrl() + &quot; &quot; + pr.targetRef() + &quot;\n&quot; +
549                 &quot;git merge FETCH_HEAD\n&quot; +
550                 &quot;# resolve conflicts and follow the instructions given by git merge\n&quot; +
551                 &quot;git commit -m \&quot;Merge &quot; + pr.targetRef() + &quot;\&quot;\n&quot; +
552                 &quot;git push\n&quot; +
553                 &quot;```\n&quot; +
554                 outdatedHelpMarker;
555         pr.addComment(message);
556     }
557 
558     private void checkStatus() {
559         var checkBuilder = CheckBuilder.create(&quot;jcheck&quot;, pr.headHash());
560         var censusDomain = censusInstance.configuration().census().domain();
561         Exception checkException = null;
562 
563         try {
564             // Post check in-progress
565             log.info(&quot;Starting to run jcheck on PR head&quot;);
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>