<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff bots/notify/src/main/java/org/openjdk/skara/bots/notify/IssueUpdater.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="NotifyBotFactory.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>bots/notify/src/main/java/org/openjdk/skara/bots/notify/IssueUpdater.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
323 
324                 if (commitLink) {
325                     var linkBuilder = Link.create(repository.webUrl(commit.hash()), &quot;Commit&quot;)
326                                           .summary(repository.name() + &quot;/&quot; + commit.hash().abbreviate());
327                     if (commitIcon != null) {
328                         linkBuilder.iconTitle(&quot;Commit&quot;);
329                         linkBuilder.iconUrl(commitIcon);
330                     }
331                     issue.addLink(linkBuilder.build());
332                 }
333 
334                 if (setFixVersion) {
335                     if (requestedVersion != null) {
336                         issue.setProperty(&quot;fixVersions&quot;, JSON.of(requestedVersion));
337                     }
338                 }
339             }
340         }
341     }
342 
<span class="line-removed">343     @Override</span>
<span class="line-removed">344     public void handleOpenJDKTagCommits(HostedRepository repository, Repository localRepository, List&lt;Commit&gt; commits, OpenJDKTag tag, Tag.Annotated annotated) {</span>
<span class="line-removed">345 </span>
<span class="line-removed">346     }</span>
<span class="line-removed">347 </span>
<span class="line-removed">348     @Override</span>
<span class="line-removed">349     public void handleTagCommit(HostedRepository repository, Repository localRepository, Commit commit, Tag tag, Tag.Annotated annotation) {</span>
<span class="line-removed">350 </span>
<span class="line-removed">351     }</span>
<span class="line-removed">352 </span>
<span class="line-removed">353     @Override</span>
<span class="line-removed">354     public void handleNewBranch(HostedRepository repository, Repository localRepository, List&lt;Commit&gt; commits, Branch parent, Branch branch) {</span>
<span class="line-removed">355 </span>
<span class="line-removed">356     }</span>
<span class="line-removed">357 </span>
358     @Override
359     public String name() {
360         return &quot;issue&quot;;
361     }
362 
363     @Override
364     public void handleNewIssue(PullRequest pr, org.openjdk.skara.vcs.openjdk.Issue issue) {
365         var realIssue = issueProject.issue(issue.id());
366         if (realIssue.isEmpty()) {
367             log.warning(&quot;Pull request &quot; + pr + &quot; added unknown issue: &quot; + issue.id());
368             return;
369         }
370 
371         if (reviewLink) {
372             var linkBuilder = Link.create(pr.webUrl(), &quot;Review&quot;)
373                                   .summary(pr.repository().name() + &quot;/&quot; + pr.id());
374             if (reviewIcon != null) {
375                 linkBuilder.iconTitle(&quot;Review&quot;);
376                 linkBuilder.iconUrl(reviewIcon);
377             }
</pre>
</td>
<td>
<hr />
<pre>
323 
324                 if (commitLink) {
325                     var linkBuilder = Link.create(repository.webUrl(commit.hash()), &quot;Commit&quot;)
326                                           .summary(repository.name() + &quot;/&quot; + commit.hash().abbreviate());
327                     if (commitIcon != null) {
328                         linkBuilder.iconTitle(&quot;Commit&quot;);
329                         linkBuilder.iconUrl(commitIcon);
330                     }
331                     issue.addLink(linkBuilder.build());
332                 }
333 
334                 if (setFixVersion) {
335                     if (requestedVersion != null) {
336                         issue.setProperty(&quot;fixVersions&quot;, JSON.of(requestedVersion));
337                     }
338                 }
339             }
340         }
341     }
342 















343     @Override
344     public String name() {
345         return &quot;issue&quot;;
346     }
347 
348     @Override
349     public void handleNewIssue(PullRequest pr, org.openjdk.skara.vcs.openjdk.Issue issue) {
350         var realIssue = issueProject.issue(issue.id());
351         if (realIssue.isEmpty()) {
352             log.warning(&quot;Pull request &quot; + pr + &quot; added unknown issue: &quot; + issue.id());
353             return;
354         }
355 
356         if (reviewLink) {
357             var linkBuilder = Link.create(pr.webUrl(), &quot;Review&quot;)
358                                   .summary(pr.repository().name() + &quot;/&quot; + pr.id());
359             if (reviewIcon != null) {
360                 linkBuilder.iconTitle(&quot;Review&quot;);
361                 linkBuilder.iconUrl(reviewIcon);
362             }
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="NotifyBotFactory.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>