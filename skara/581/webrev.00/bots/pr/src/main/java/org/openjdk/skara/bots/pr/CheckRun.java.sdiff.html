<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff bots/pr/src/main/java/org/openjdk/skara/bots/pr/CheckRun.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../test/java/org/openjdk/skara/bots/pr/IntegrateTests.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>bots/pr/src/main/java/org/openjdk/skara/bots/pr/CheckRun.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
503 
504         message.append(&quot;- If you would like to add a summary, use the `/summary` command.\n&quot;);
505         message.append(&quot;- To credit additional contributors, use the `/contributor` command.\n&quot;);
506         message.append(&quot;- To add additional solved issues, use the `/solves` command.\n&quot;);
507 
508         var divergingCommits = prInstance.divergingCommits();
509         if (divergingCommits.size() &gt; 0) {
510             message.append(&quot;\n&quot;);
511             message.append(&quot;Since the source branch of this PR was last updated there &quot;);
512             if (divergingCommits.size() == 1) {
513                 message.append(&quot;has been 1 commit &quot;);
514             } else {
515                 message.append(&quot;have been &quot;);
516                 message.append(divergingCommits.size());
517                 message.append(&quot; commits &quot;);
518             }
519             message.append(&quot;pushed to the `&quot;);
520             message.append(pr.targetRef());
521             message.append(&quot;` branch. &quot;);
522             if (rebasePossible) {
<span class="line-modified">523                 message.append(&quot;Since there are no conflicts, your changes will automatically be rebased on top of &quot;);</span>
524                 message.append(&quot;these commits when integrating. If you prefer to avoid automatic rebasing, please merge `&quot;);
525                 message.append(pr.targetRef());
526                 message.append(&quot;` into your branch, and then specify the current head hash when integrating, like this: &quot;);
527                 message.append(&quot;`/integrate &quot;);
528                 message.append(prInstance.targetHash());
529                 message.append(&quot;`.\n&quot;);
530             } else {
531                 message.append(&quot;Your changes cannot be rebased automatically without conflicts, so you will need to &quot;);
532                 message.append(&quot;merge `&quot;);
533                 message.append(pr.targetRef());
534                 message.append(&quot;` into your branch before integrating.\n&quot;);
535             }










536         }
537 
538         if (!ProjectPermissions.mayCommit(censusInstance, pr.author())) {
539             message.append(&quot;\n&quot;);
540             var contributor = censusInstance.namespace().get(pr.author().id());
541             if (contributor == null) {
542                 message.append(&quot;As you are not a known OpenJDK [Author](https://openjdk.java.net/bylaws#author), &quot;);
543             } else {
544                 message.append(&quot;As you do not have Committer status in this project, &quot;);
545             }
546 
547             message.append(&quot;an existing [Committer](https://openjdk.java.net/bylaws#committer) must agree to &quot;);
548             message.append(&quot;[sponsor](https://openjdk.java.net/sponsor/) your change. &quot;);
549             var candidates = reviews.stream()
550                                     .filter(review -&gt; ProjectPermissions.mayCommit(censusInstance, review.reviewer()))
551                                     .map(review -&gt; &quot;@&quot; + review.reviewer().userName())
552                                     .collect(Collectors.joining(&quot;, &quot;));
553             if (candidates.length() &gt; 0) {
554                 message.append(&quot;Possible candidates are the reviewers of this PR (&quot;);
555                 message.append(candidates);
</pre>
</td>
<td>
<hr />
<pre>
503 
504         message.append(&quot;- If you would like to add a summary, use the `/summary` command.\n&quot;);
505         message.append(&quot;- To credit additional contributors, use the `/contributor` command.\n&quot;);
506         message.append(&quot;- To add additional solved issues, use the `/solves` command.\n&quot;);
507 
508         var divergingCommits = prInstance.divergingCommits();
509         if (divergingCommits.size() &gt; 0) {
510             message.append(&quot;\n&quot;);
511             message.append(&quot;Since the source branch of this PR was last updated there &quot;);
512             if (divergingCommits.size() == 1) {
513                 message.append(&quot;has been 1 commit &quot;);
514             } else {
515                 message.append(&quot;have been &quot;);
516                 message.append(divergingCommits.size());
517                 message.append(&quot; commits &quot;);
518             }
519             message.append(&quot;pushed to the `&quot;);
520             message.append(pr.targetRef());
521             message.append(&quot;` branch. &quot;);
522             if (rebasePossible) {
<span class="line-modified">523                 message.append(&quot;As there are no conflicts, your changes will automatically be rebased on top of &quot;);</span>
524                 message.append(&quot;these commits when integrating. If you prefer to avoid automatic rebasing, please merge `&quot;);
525                 message.append(pr.targetRef());
526                 message.append(&quot;` into your branch, and then specify the current head hash when integrating, like this: &quot;);
527                 message.append(&quot;`/integrate &quot;);
528                 message.append(prInstance.targetHash());
529                 message.append(&quot;`.\n&quot;);
530             } else {
531                 message.append(&quot;Your changes cannot be rebased automatically without conflicts, so you will need to &quot;);
532                 message.append(&quot;merge `&quot;);
533                 message.append(pr.targetRef());
534                 message.append(&quot;` into your branch before integrating.\n&quot;);
535             }
<span class="line-added">536         } else {</span>
<span class="line-added">537             message.append(&quot;\n&quot;);</span>
<span class="line-added">538             message.append(&quot;There are currently no new commits on the `&quot;);</span>
<span class="line-added">539             message.append(pr.targetRef());</span>
<span class="line-added">540             message.append(&quot;` branch since the last update of the source branch of this PR. If another commit should be pushed before &quot;);</span>
<span class="line-added">541             message.append(&quot;you perform the `/integrate` command, your PR will be automatically rebased. If you would like to avoid &quot;);</span>
<span class="line-added">542             message.append(&quot;potential automatic rebasing, specify the current head hash when integrating, like this: &quot;);</span>
<span class="line-added">543             message.append(&quot;`/integrate &quot;);</span>
<span class="line-added">544             message.append(prInstance.targetHash());</span>
<span class="line-added">545             message.append(&quot;`.\n&quot;);</span>
546         }
547 
548         if (!ProjectPermissions.mayCommit(censusInstance, pr.author())) {
549             message.append(&quot;\n&quot;);
550             var contributor = censusInstance.namespace().get(pr.author().id());
551             if (contributor == null) {
552                 message.append(&quot;As you are not a known OpenJDK [Author](https://openjdk.java.net/bylaws#author), &quot;);
553             } else {
554                 message.append(&quot;As you do not have Committer status in this project, &quot;);
555             }
556 
557             message.append(&quot;an existing [Committer](https://openjdk.java.net/bylaws#committer) must agree to &quot;);
558             message.append(&quot;[sponsor](https://openjdk.java.net/sponsor/) your change. &quot;);
559             var candidates = reviews.stream()
560                                     .filter(review -&gt; ProjectPermissions.mayCommit(censusInstance, review.reviewer()))
561                                     .map(review -&gt; &quot;@&quot; + review.reviewer().userName())
562                                     .collect(Collectors.joining(&quot;, &quot;));
563             if (candidates.length() &gt; 0) {
564                 message.append(&quot;Possible candidates are the reviewers of this PR (&quot;);
565                 message.append(candidates);
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../test/java/org/openjdk/skara/bots/pr/IntegrateTests.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>