<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff cli/src/main/java/org/openjdk/skara/cli/pr/GitPrSummary.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>cli/src/main/java/org/openjdk/skara/cli/pr/GitPrSummary.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
59         var repo = getRepo();
60         var uri = getURI(repo, arguments);
61         var host = getForge(uri, repo, arguments);
62         var id = pullRequestIdArgument(repo, arguments);
63         var pr = getPullRequest(uri, repo, host, id);
64 
65         var file = Files.createTempFile(&quot;SUMMARY&quot;, &quot;.txt&quot;);
66         var success = spawnEditor(repo, file);
67         if (!success) {
68             System.err.println(&quot;error: editor exited with non-zero status code, aborting&quot;);
69             System.exit(1);
70         }
71         var lines = Files.readAllLines(file);
72         if (lines.stream().allMatch(String::isEmpty)) {
73             System.err.println(&quot;error: no summary present, aborting&quot;);
74             System.exit(1);
75         }
76         var comment = lines.size() == 1 ?
77             pr.addComment(&quot;/summary &quot; + lines.get(0)) :
78             pr.addComment(&quot;/summary\n&quot; + String.join(&quot;\n&quot;, lines));

79     }
80 }
</pre>
</td>
<td>
<hr />
<pre>
59         var repo = getRepo();
60         var uri = getURI(repo, arguments);
61         var host = getForge(uri, repo, arguments);
62         var id = pullRequestIdArgument(repo, arguments);
63         var pr = getPullRequest(uri, repo, host, id);
64 
65         var file = Files.createTempFile(&quot;SUMMARY&quot;, &quot;.txt&quot;);
66         var success = spawnEditor(repo, file);
67         if (!success) {
68             System.err.println(&quot;error: editor exited with non-zero status code, aborting&quot;);
69             System.exit(1);
70         }
71         var lines = Files.readAllLines(file);
72         if (lines.stream().allMatch(String::isEmpty)) {
73             System.err.println(&quot;error: no summary present, aborting&quot;);
74             System.exit(1);
75         }
76         var comment = lines.size() == 1 ?
77             pr.addComment(&quot;/summary &quot; + lines.get(0)) :
78             pr.addComment(&quot;/summary\n&quot; + String.join(&quot;\n&quot;, lines));
<span class="line-added">79         showReply(awaitReplyTo(pr, comment));</span>
80     }
81 }
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>