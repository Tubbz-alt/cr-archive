diff a/forge/src/main/java/org/openjdk/skara/forge/gitlab/GitLabRepository.java b/forge/src/main/java/org/openjdk/skara/forge/gitlab/GitLabRepository.java
--- a/forge/src/main/java/org/openjdk/skara/forge/gitlab/GitLabRepository.java
+++ b/forge/src/main/java/org/openjdk/skara/forge/gitlab/GitLabRepository.java
@@ -177,12 +177,12 @@
         var conf = request.get("repository/files/" + confName)
                           .param("ref", ref)
                           .onError(response -> {
                               // Retry once with additional escaping of the path fragment
                               var escapedConfName = URLEncoder.encode(confName, StandardCharsets.UTF_8);
-                              return request.get("repository/files/" + escapedConfName)
-                                            .param("ref", ref).execute();
+                              return Optional.of(request.get("repository/files/" + escapedConfName)
+                                            .param("ref", ref).execute());
                           })
                           .execute();
         var content = Base64.getDecoder().decode(conf.get("content").asString());
         return new String(content, StandardCharsets.UTF_8);
     }
@@ -232,11 +232,11 @@
     @Override
     public HostedRepository fork() {
         var namespace = gitLabHost.currentUser().userName();
         request.post("fork")
                .body("namespace", namespace)
-               .onError(r -> r.statusCode() == 409 ? JSON.object().put("exists", true) : null)
+               .onError(r -> r.statusCode() == 409 ? Optional.of(JSON.object().put("exists", true)) : Optional.empty())
                .execute();
         var nameOnlyStart = projectName.lastIndexOf('/');
         var nameOnly = nameOnlyStart >= 0 ? projectName.substring(nameOnlyStart + 1) : projectName;
         var forkedRepoName = namespace + "/" + nameOnly;
         while (!gitLabHost.isProjectForkComplete(forkedRepoName)) {
