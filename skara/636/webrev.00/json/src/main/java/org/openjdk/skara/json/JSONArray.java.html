<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New json/src/main/java/org/openjdk/skara/json/JSONArray.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (c) 2018, 2020, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
 23 package org.openjdk.skara.json;
 24 
 25 import java.util.*;
 26 import java.util.stream.Stream;
 27 
 28 public class JSONArray implements JSONValue, Iterable&lt;JSONValue&gt; {
 29     private final List&lt;JSONValue&gt; values;
 30 
 31     public JSONArray() {
 32         this.values = new ArrayList&lt;JSONValue&gt;();
 33     }
 34 
 35     public JSONArray(JSONValue[] array) {
 36         this.values = new ArrayList&lt;JSONValue&gt;(array.length);
 37         for (var v : array) {
 38             values.add(v);
 39         }
 40     }
 41 
 42     private void append(JSONValue value) {
 43         if (value instanceof JSONArray) {
 44             for (var v : value.asArray()) {
 45                 append(v);
 46             }
 47         } else {
 48             this.values.add(value);
 49         }
 50     }
 51 
 52     public JSONArray(JSONValue value, JSONValue... values) {
 53         this.values = new ArrayList&lt;JSONValue&gt;(values.length + 1);
 54         append(value);
 55         for (var v : values) {
 56             append(v);
 57         }
 58     }
 59 
 60     public JSONArray(List&lt;JSONValue&gt; values) {
 61         this.values = new ArrayList&lt;JSONValue&gt;(values);
 62     }
 63 
 64     @Override
 65     public boolean isArray() {
 66         return true;
 67     }
 68 
 69     @Override
 70     public JSONArray asArray() {
 71         return this;
 72     }
 73 
 74     public JSONArray set(int i, boolean value) {
 75         values.set(i, JSON.of(value));
 76         return this;
 77     }
 78 
 79     public JSONArray set(int i, int value) {
 80         values.set(i, JSON.of(value));
 81         return this;
 82     }
 83 
 84     public JSONArray set(int i, long value) {
 85         values.set(i, JSON.of(value));
 86         return this;
 87     }
 88 
 89     public JSONArray set(int i, String value) {
 90         values.set(i, JSON.of(value));
 91         return this;
 92     }
 93 
 94     public JSONArray set(int i, double value) {
 95         values.set(i, JSON.of(value));
 96         return this;
 97     }
 98 
 99     public JSONArray set(int i, JSONValue value) {
100         values.set(i, value);
101         return this;
102     }
103 
104     public JSONArray setNull(int i) {
105         values.set(i, JSON.of());
106         return this;
107     }
108 
109     public JSONArray add(boolean value) {
110         values.add(JSON.of(value));
111         return this;
112     }
113 
114     public JSONArray add(int value) {
115         values.add(JSON.of(value));
116         return this;
117     }
118 
119     public JSONArray add(long value) {
120         values.add(JSON.of(value));
121         return this;
122     }
123 
124     public JSONArray add(String value) {
125         values.add(JSON.of(value));
126         return this;
127     }
128 
129     public JSONArray add(double value) {
130         values.add(JSON.of(value));
131         return this;
132     }
133 
134     public JSONArray add(JSONValue value) {
135         values.add(value);
136         return this;
137     }
138 
139     public JSONArray addNull() {
140         values.add(JSON.of());
141         return this;
142     }
143 
144     public JSONValue get(int i) {
145         return values.get(i);
146     }
147 
148     public int size() {
149         return values.size();
150     }
151 
152     @Override
153     public String toString() {
154         var builder = new StringBuilder();
155 
156         builder.append(&quot;[&quot;);
157         for (var i = 0; i &lt; size(); i++) {
158             builder.append(get(i).toString());
159             if (i != (size() - 1)) {
160                 builder.append(&quot;,&quot;);
161             }
162         }
163         builder.append(&quot;]&quot;);
164         return builder.toString();
165     }
166 
167     @Override
168     public Stream&lt;JSONValue&gt; stream() {
169         return values.stream();
170     }
171 
172     @Override
173     public Iterator&lt;JSONValue&gt; iterator() {
174         return values.iterator();
175     }
176 }
    </pre>
  </body>
</html>