<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff bots/mlbridge/src/main/java/org/openjdk/skara/bots/mlbridge/ArchiveItem.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../../../merge/src/test/java/org/openjdk/skara/bots/merge/MergeBotTests.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="ReviewArchive.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>bots/mlbridge/src/main/java/org/openjdk/skara/bots/mlbridge/ArchiveItem.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 51,11 ***</span>
                              WebrevNotification webrevNotification, ZonedDateTime created, ZonedDateTime updated,
                              Hash base, Hash head, String subjectPrefix, String threadPrefix) {
          return new ArchiveItem(null, &quot;fc&quot;, created, updated, pr.author(), Map.of(&quot;PR-Head-Hash&quot;, head.hex(),
                                                                                   &quot;PR-Base-Hash&quot;, base.hex(),
                                                                                   &quot;PR-Thread-Prefix&quot;, threadPrefix),
<span class="line-modified">!                                () -&gt; subjectPrefix + threadPrefix + &quot;: &quot; + pr.title(),</span>
                                 () -&gt; &quot;&quot;,
                                 () -&gt; ArchiveMessages.composeConversation(pr, localRepo, base, head),
                                 () -&gt; {
                                     var fullWebrev = webrevGenerator.generate(base, head, &quot;00&quot;, WebrevDescription.Type.FULL);
                                     if (pr.title().startsWith(&quot;Merge&quot;)) {
<span class="line-new-header">--- 51,11 ---</span>
                              WebrevNotification webrevNotification, ZonedDateTime created, ZonedDateTime updated,
                              Hash base, Hash head, String subjectPrefix, String threadPrefix) {
          return new ArchiveItem(null, &quot;fc&quot;, created, updated, pr.author(), Map.of(&quot;PR-Head-Hash&quot;, head.hex(),
                                                                                   &quot;PR-Base-Hash&quot;, base.hex(),
                                                                                   &quot;PR-Thread-Prefix&quot;, threadPrefix),
<span class="line-modified">!                                () -&gt; subjectPrefix + threadPrefix + (threadPrefix.isEmpty() ? &quot;&quot; : &quot;: &quot;) + pr.title(),</span>
                                 () -&gt; &quot;&quot;,
                                 () -&gt; ArchiveMessages.composeConversation(pr, localRepo, base, head),
                                 () -&gt; {
                                     var fullWebrev = webrevGenerator.generate(base, head, &quot;00&quot;, WebrevDescription.Type.FULL);
                                     if (pr.title().startsWith(&quot;Merge&quot;)) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 110,11 ***</span>
      static ArchiveItem from(PullRequest pr, Repository localRepo, HostUserToEmailAuthor hostUserToEmailAuthor,
                              WebrevStorage.WebrevGenerator webrevGenerator, WebrevNotification webrevNotification,
                              ZonedDateTime created, ZonedDateTime updated, Hash lastBase, Hash lastHead, Hash base,
                              Hash head, int index, ArchiveItem parent, String subjectPrefix, String threadPrefix) {
          return new ArchiveItem(parent,&quot;ha&quot; + head.hex(), created, updated, pr.author(), Map.of(&quot;PR-Head-Hash&quot;, head.hex(), &quot;PR-Base-Hash&quot;, base.hex()),
<span class="line-modified">!                                () -&gt; String.format(&quot;Re: %s[Rev %02d] %s: %s&quot;, subjectPrefix, index, threadPrefix, pr.title()),</span>
                                 () -&gt; &quot;&quot;,
                                 () -&gt; {
                                     if (lastBase.equals(base)) {
                                         return ArchiveMessages.composeIncrementalRevision(localRepo, hostUserToCommitterName(hostUserToEmailAuthor, pr.author()), head, lastHead);
                                     } else {
<span class="line-new-header">--- 110,11 ---</span>
      static ArchiveItem from(PullRequest pr, Repository localRepo, HostUserToEmailAuthor hostUserToEmailAuthor,
                              WebrevStorage.WebrevGenerator webrevGenerator, WebrevNotification webrevNotification,
                              ZonedDateTime created, ZonedDateTime updated, Hash lastBase, Hash lastHead, Hash base,
                              Hash head, int index, ArchiveItem parent, String subjectPrefix, String threadPrefix) {
          return new ArchiveItem(parent,&quot;ha&quot; + head.hex(), created, updated, pr.author(), Map.of(&quot;PR-Head-Hash&quot;, head.hex(), &quot;PR-Base-Hash&quot;, base.hex()),
<span class="line-modified">!                                () -&gt; String.format(&quot;Re: %s[Rev %02d] %s%s&quot;, subjectPrefix, index, threadPrefix + (threadPrefix.isEmpty() ? &quot;&quot; : &quot;: &quot;), pr.title()),</span>
                                 () -&gt; &quot;&quot;,
                                 () -&gt; {
                                     if (lastBase.equals(base)) {
                                         return ArchiveMessages.composeIncrementalRevision(localRepo, hostUserToCommitterName(hostUserToEmailAuthor, pr.author()), head, lastHead);
                                     } else {
</pre>
<center><a href="../../../../../../../../../merge/src/test/java/org/openjdk/skara/bots/merge/MergeBotTests.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="ReviewArchive.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>