<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff jcheck/src/main/java/org/openjdk/skara/jcheck/JCheck.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../../bots/pr/src/test/java/org/openjdk/skara/bots/pr/CheckTests.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../test/java/org/openjdk/skara/jcheck/JCheckTests.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>jcheck/src/main/java/org/openjdk/skara/jcheck/JCheck.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 136,15 ***</span>
  
          var conf = configuration.get();
          return new HashSet&lt;&gt;(conf.checks().enabled(commitChecks));
      }
  
<span class="line-modified">!     private Set&lt;Check&gt; checksForCommits() throws IOException {</span>
          try (var commits = repository.commits(revisionRange)) {
              return commits.stream()
<span class="line-modified">!                     .flatMap(commit -&gt; checksForCommit(commit).stream())</span>
<span class="line-modified">!                     .collect(Collectors.toSet());</span>
          }
      }
  
      public static class Issues implements Iterable&lt;Issue&gt;, AutoCloseable {
          private final Iterator&lt;Issue&gt; iterator;
<span class="line-new-header">--- 136,15 ---</span>
  
          var conf = configuration.get();
          return new HashSet&lt;&gt;(conf.checks().enabled(commitChecks));
      }
  
<span class="line-modified">!     private Set&lt;Check&gt; checksForRange() throws IOException {</span>
          try (var commits = repository.commits(revisionRange)) {
              return commits.stream()
<span class="line-modified">!                           .flatMap(commit -&gt; checksForCommit(commit).stream())</span>
<span class="line-modified">!                           .collect(Collectors.toSet());</span>
          }
      }
  
      public static class Issues implements Iterable&lt;Issue&gt;, AutoCloseable {
          private final Iterator&lt;Issue&gt; iterator;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 264,19 ***</span>
          var tagRegex = conf.isPresent() ? conf.get().repository().tags() : &quot;.*&quot;;
  
          return check(repository, census, parser, branchRegex, tagRegex, revisionRange, whitelist, blacklist, List.of(), null);
      }
  
<span class="line-modified">!     public static Set&lt;Check&gt; checks(ReadOnlyRepository repository, Census census, Hash hash) throws IOException {</span>
          var jcheck = new JCheck(repository,
                                  census,
                                  CommitMessageParsers.v1,
<span class="line-modified">!                                 hash.hex() + &quot;^..&quot; + hash.hex(),</span>
                                  Pattern.compile(&quot;.*&quot;),
                                  Pattern.compile(&quot;.*&quot;),
                                  new HashMap&lt;String, Set&lt;Hash&gt;&gt;(),
                                  new HashSet&lt;Hash&gt;(),
                                  List.of(),
                                  null);
<span class="line-modified">!         return jcheck.checksForCommits();</span>
      }
  }
<span class="line-new-header">--- 264,19 ---</span>
          var tagRegex = conf.isPresent() ? conf.get().repository().tags() : &quot;.*&quot;;
  
          return check(repository, census, parser, branchRegex, tagRegex, revisionRange, whitelist, blacklist, List.of(), null);
      }
  
<span class="line-modified">!     public static Set&lt;Check&gt; checksFor(ReadOnlyRepository repository, Census census, Hash hash) throws IOException {</span>
          var jcheck = new JCheck(repository,
                                  census,
                                  CommitMessageParsers.v1,
<span class="line-modified">!                                 repository.range(hash),</span>
                                  Pattern.compile(&quot;.*&quot;),
                                  Pattern.compile(&quot;.*&quot;),
                                  new HashMap&lt;String, Set&lt;Hash&gt;&gt;(),
                                  new HashSet&lt;Hash&gt;(),
                                  List.of(),
                                  null);
<span class="line-modified">!         return jcheck.checksForRange();</span>
      }
  }
</pre>
<center><a href="../../../../../../../../bots/pr/src/test/java/org/openjdk/skara/bots/pr/CheckTests.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../test/java/org/openjdk/skara/jcheck/JCheckTests.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>