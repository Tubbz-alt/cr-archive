<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff build.gradle</title>
    <link rel="stylesheet" href="style.css" />
  </head>
<body>
<center>&lt; prev <a href="index.html" target="_top">index</a> next &gt;</center>    <h2>build.gradle</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -98,28 +98,11 @@</span>
      subprojects.findAll() { !it.getTasksByName(&#39;test&#39;, false).isEmpty() }.each { dependsOn &quot;${it.path}:test&quot; }
  }
  
  task testReport(type: TestReport) {
      destinationDir = file(&quot;$buildDir/reports/allTests&quot;)
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     def failureCount = 0</span>
<span class="udiff-line-removed">-     subprojects.findAll()*.getTasksByName(&#39;test&#39;, false).each { it.each {</span>
<span class="udiff-line-removed">-         it.ignoreFailures = true</span>
<span class="udiff-line-removed">-         it.afterSuite { td, tr -&gt;</span>
<span class="udiff-line-removed">-             if (td.getParent() == null) {</span>
<span class="udiff-line-removed">-                 failureCount += tr.getFailedTestCount()</span>
<span class="udiff-line-removed">-             }</span>
<span class="udiff-line-removed">-         }}</span>
<span class="udiff-line-removed">-     }</span>
<span class="udiff-line-removed">- </span>
      reportOn subprojects.findAll()*.getTasksByName(&#39;test&#39;, false)
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     doLast {</span>
<span class="udiff-line-removed">-         if (failureCount &gt; 0) {</span>
<span class="udiff-line-removed">-             throw new GradleException(&quot;There were &quot; + failureCount + &quot; failing tests. See the report at: &quot; + destinationDir);</span>
<span class="udiff-line-removed">-         }</span>
<span class="udiff-line-removed">-     }</span>
  }
  
  task clean {
      subprojects.findAll() { !it.getTasksByName(&#39;clean&#39;, false).isEmpty() }.each { dependsOn &quot;${it.path}:clean&quot; }
  }
</pre>
<center>&lt; prev <a href="index.html" target="_top">index</a> next &gt;</center>  </body>
</html>