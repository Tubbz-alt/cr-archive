<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/src/main/java/org/openjdk/skara/test/TestHost.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../../bots/pr/src/test/java/org/openjdk/skara/bots/pr/ContributorTests.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>test/src/main/java/org/openjdk/skara/test/TestHost.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
104         }
105         return Optional.of(new TestHostedRepository(this, name, localRepository));
106     }
107 
108     @Override
109     public IssueProject project(String name) {
110         if (data.issueProjects.containsKey(name)) {
111             return data.issueProjects.get(name);
112         } else {
113             if (data.issueProjects.size() &gt; 0) {
114                 throw new RuntimeException(&quot;A test host can only manage a single issue project&quot;);
115             }
116             var issueProject = new TestIssueProject(this, name);
117             data.issueProjects.put(name, issueProject);
118             return issueProject;
119         }
120     }
121 
122     @Override
123     public Optional&lt;HostUser&gt; user(String username) {
<span class="line-modified">124         return data.users</span>
<span class="line-modified">125                    .stream()</span>
<span class="line-modified">126                    .filter(user -&gt; user.userName().equals(username))</span>
<span class="line-removed">127                    .map(user -&gt; Optional.of(user))</span>
<span class="line-removed">128                    .findAny()</span>
<span class="line-removed">129                    .orElseThrow();</span>
130     }
131 
132     @Override
133     public HostUser currentUser() {
134         return data.users.get(currentUser);
135     }
136 
137     @Override
138     public boolean supportsReviewBody() {
139         return true;
140     }
141 
142     @Override
143     public boolean isMemberOf(String groupId, HostUser user) {
144         return false;
145     }
146 
147     void close() {
148         if (currentUser == 0) {
149             data.folders.forEach(TemporaryDirectory::close);
</pre>
</td>
<td>
<hr />
<pre>
104         }
105         return Optional.of(new TestHostedRepository(this, name, localRepository));
106     }
107 
108     @Override
109     public IssueProject project(String name) {
110         if (data.issueProjects.containsKey(name)) {
111             return data.issueProjects.get(name);
112         } else {
113             if (data.issueProjects.size() &gt; 0) {
114                 throw new RuntimeException(&quot;A test host can only manage a single issue project&quot;);
115             }
116             var issueProject = new TestIssueProject(this, name);
117             data.issueProjects.put(name, issueProject);
118             return issueProject;
119         }
120     }
121 
122     @Override
123     public Optional&lt;HostUser&gt; user(String username) {
<span class="line-modified">124         return data.users.stream()</span>
<span class="line-modified">125                          .filter(user -&gt; user.userName().equals(username))</span>
<span class="line-modified">126                          .findAny();</span>



127     }
128 
129     @Override
130     public HostUser currentUser() {
131         return data.users.get(currentUser);
132     }
133 
134     @Override
135     public boolean supportsReviewBody() {
136         return true;
137     }
138 
139     @Override
140     public boolean isMemberOf(String groupId, HostUser user) {
141         return false;
142     }
143 
144     void close() {
145         if (currentUser == 0) {
146             data.folders.forEach(TemporaryDirectory::close);
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../../../bots/pr/src/test/java/org/openjdk/skara/bots/pr/ContributorTests.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>