<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff bots/pr/src/test/java/org/openjdk/skara/bots/pr/MergeTests.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>bots/pr/src/test/java/org/openjdk/skara/bots/pr/MergeTests.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
1047             // Merge the latest commit from master
1048             localRepo.merge(updatedMaster);
1049             var masterMergeHash = localRepo.commit(&quot;Master merge commit&quot;, &quot;some&quot;, &quot;some@one&quot;);
1050             localRepo.push(masterMergeHash, author.url(), &quot;edit&quot;, true);
1051             var pr = credentials.createPullRequest(author, &quot;master&quot;, &quot;edit&quot;, &quot;1234: A change&quot;);
1052 
1053             // Let the bot check the status
1054             TestBotRunner.runPeriodicItems(mergeBot);
1055 
1056             // Merging latest master should not trigger a warning
1057             assertEquals(0, pr.comments().size());
1058 
1059             localRepo.merge(otherHash2);
1060             var mergeHash = localRepo.commit(&quot;Merge commit&quot;, &quot;some&quot;, &quot;some@one&quot;);
1061             localRepo.push(mergeHash, author.url(), &quot;edit&quot;, true);
1062 
1063             // Let the bot check the status
1064             TestBotRunner.runPeriodicItems(mergeBot);
1065 
1066             // There should be a warning
<span class="line-modified">1067             assertLastCommentContains(pr, &quot;This pull request contains merges that brings in commits not present&quot;);</span>
1068         }
1069     }
1070 }
</pre>
</td>
<td>
<hr />
<pre>
1047             // Merge the latest commit from master
1048             localRepo.merge(updatedMaster);
1049             var masterMergeHash = localRepo.commit(&quot;Master merge commit&quot;, &quot;some&quot;, &quot;some@one&quot;);
1050             localRepo.push(masterMergeHash, author.url(), &quot;edit&quot;, true);
1051             var pr = credentials.createPullRequest(author, &quot;master&quot;, &quot;edit&quot;, &quot;1234: A change&quot;);
1052 
1053             // Let the bot check the status
1054             TestBotRunner.runPeriodicItems(mergeBot);
1055 
1056             // Merging latest master should not trigger a warning
1057             assertEquals(0, pr.comments().size());
1058 
1059             localRepo.merge(otherHash2);
1060             var mergeHash = localRepo.commit(&quot;Merge commit&quot;, &quot;some&quot;, &quot;some@one&quot;);
1061             localRepo.push(mergeHash, author.url(), &quot;edit&quot;, true);
1062 
1063             // Let the bot check the status
1064             TestBotRunner.runPeriodicItems(mergeBot);
1065 
1066             // There should be a warning
<span class="line-modified">1067             assertLastCommentContains(pr, &quot;This pull request contains merges that bring in commits not present&quot;);</span>
1068         }
1069     }
1070 }
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>