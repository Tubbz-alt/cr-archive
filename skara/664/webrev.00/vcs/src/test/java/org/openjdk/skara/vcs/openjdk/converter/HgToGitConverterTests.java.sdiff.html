<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff vcs/src/test/java/org/openjdk/skara/vcs/openjdk/converter/HgToGitConverterTests.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="GitToHgConverterTests.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>vcs/src/test/java/org/openjdk/skara/vcs/openjdk/converter/HgToGitConverterTests.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 47             hgRepo.commit(&quot;1234567: Added README&quot;, &quot;foo&quot;, &quot;foo@localhost&quot;);
 48 
 49             var gitRepo = Repository.init(gitRoot.path(), VCS.GIT);
 50 
 51             var converter = new HgToGitConverter(Map.of(), Map.of(), Set.of(), Set.of(),
 52                                                  Map.of(&quot;foo&quot;, &quot;Foo Bar &lt;foo@openjdk.java.net&gt;&quot;), Map.of(), Map.of());
 53             var marks = converter.convert(hgRepo, gitRepo);
 54             assertEquals(1, marks.size());
 55 
 56             var gitCommits = gitRepo.commits().asList();
 57             assertEquals(1, gitCommits.size());
 58             var gitCommit = gitCommits.get(0);
 59 
 60             var hgCommits = hgRepo.commits().asList();
 61             assertEquals(1, hgCommits.size());
 62             var hgCommit = hgCommits.get(0);
 63 
 64             assertEquals(gitCommit.author(), new Author(&quot;Foo Bar&quot;, &quot;foo@openjdk.java.net&quot;));
 65             assertEquals(gitCommit.committer(), new Author(&quot;Foo Bar&quot;, &quot;foo@openjdk.java.net&quot;));
 66             assertEquals(hgCommit.message(), gitCommit.message());
<span class="line-modified"> 67             assertEquals(hgCommit.date(), gitCommit.date());</span>
 68             assertEquals(hgCommit.isInitialCommit(), gitCommit.isInitialCommit());
 69             assertEquals(hgCommit.isMerge(), gitCommit.isMerge());
 70             assertEquals(hgCommit.numParents(), gitCommit.numParents());
 71 
 72             var hgDiffs = hgCommit.parentDiffs();
 73             assertEquals(1, hgDiffs.size());
 74             var hgDiff = hgDiffs.get(0);
 75 
 76             var gitDiffs = gitCommit.parentDiffs();
 77             assertEquals(1, gitDiffs.size());
 78             var gitDiff = gitDiffs.get(0);
 79 
 80             var hgPatches = hgDiff.patches();
 81             assertEquals(1, hgPatches.size());
 82             var hgPatch = hgPatches.get(0).asTextualPatch();
 83 
 84             var gitPatches = gitDiff.patches();
 85             assertEquals(1, gitPatches.size());
 86             var gitPatch = gitPatches.get(0).asTextualPatch();
 87             assertEquals(hgPatch.stats(), gitPatch.stats());
</pre>
</td>
<td>
<hr />
<pre>
 47             hgRepo.commit(&quot;1234567: Added README&quot;, &quot;foo&quot;, &quot;foo@localhost&quot;);
 48 
 49             var gitRepo = Repository.init(gitRoot.path(), VCS.GIT);
 50 
 51             var converter = new HgToGitConverter(Map.of(), Map.of(), Set.of(), Set.of(),
 52                                                  Map.of(&quot;foo&quot;, &quot;Foo Bar &lt;foo@openjdk.java.net&gt;&quot;), Map.of(), Map.of());
 53             var marks = converter.convert(hgRepo, gitRepo);
 54             assertEquals(1, marks.size());
 55 
 56             var gitCommits = gitRepo.commits().asList();
 57             assertEquals(1, gitCommits.size());
 58             var gitCommit = gitCommits.get(0);
 59 
 60             var hgCommits = hgRepo.commits().asList();
 61             assertEquals(1, hgCommits.size());
 62             var hgCommit = hgCommits.get(0);
 63 
 64             assertEquals(gitCommit.author(), new Author(&quot;Foo Bar&quot;, &quot;foo@openjdk.java.net&quot;));
 65             assertEquals(gitCommit.committer(), new Author(&quot;Foo Bar&quot;, &quot;foo@openjdk.java.net&quot;));
 66             assertEquals(hgCommit.message(), gitCommit.message());
<span class="line-modified"> 67             assertEquals(hgCommit.authored(), gitCommit.authored());</span>
 68             assertEquals(hgCommit.isInitialCommit(), gitCommit.isInitialCommit());
 69             assertEquals(hgCommit.isMerge(), gitCommit.isMerge());
 70             assertEquals(hgCommit.numParents(), gitCommit.numParents());
 71 
 72             var hgDiffs = hgCommit.parentDiffs();
 73             assertEquals(1, hgDiffs.size());
 74             var hgDiff = hgDiffs.get(0);
 75 
 76             var gitDiffs = gitCommit.parentDiffs();
 77             assertEquals(1, gitDiffs.size());
 78             var gitDiff = gitDiffs.get(0);
 79 
 80             var hgPatches = hgDiff.patches();
 81             assertEquals(1, hgPatches.size());
 82             var hgPatch = hgPatches.get(0).asTextualPatch();
 83 
 84             var gitPatches = gitDiff.patches();
 85             assertEquals(1, gitPatches.size());
 86             var gitPatch = gitPatches.get(0).asTextualPatch();
 87             assertEquals(hgPatch.stats(), gitPatch.stats());
</pre>
</td>
</tr>
</table>
<center><a href="GitToHgConverterTests.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>