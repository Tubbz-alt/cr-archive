<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/org/openjdk/asmtools/jasm/ClassData.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="ClassArrayAttr.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="Environment.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/org/openjdk/asmtools/jasm/ClassData.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 53,12 ***</span>
      NestMembersAttr nestMembersAttr;
  
      // JEP 359 - Record attribute since class file 58.65535
      private RecordData recordData;
  
<span class="line-modified">!     // JEP 360 - PermittedSubtypes attribute since class file 59.65535</span>
<span class="line-modified">!     private PermittedTypesAttr permittedTypesAttr;</span>
  
      ModuleAttr moduleAttribute = null;
      Environment env;
      protected ConstantPool pool;
  
<span class="line-new-header">--- 53,12 ---</span>
      NestMembersAttr nestMembersAttr;
  
      // JEP 359 - Record attribute since class file 58.65535
      private RecordData recordData;
  
<span class="line-modified">!     // JEP 360 - PermittedSubclasses attribute since class file 59.65535</span>
<span class="line-modified">!     private PermittedSubclassesAttr permittedSubclassesAttr;</span>
  
      ModuleAttr moduleAttribute = null;
      Environment env;
      protected ConstantPool pool;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 309,13 ***</span>
      public void addNestMembers(List&lt;ConstantPool.ConstCell&gt; classes) {
          env.traceln(&quot;addNestMembers&quot;);
          nestMembersAttr = new NestMembersAttr(this, classes);
      }
  
<span class="line-modified">!     public void addPermittedSubtypes(List&lt;ConstantPool.ConstCell&gt; classes) {</span>
<span class="line-modified">!         env.traceln(&quot;addPermittedSubtypes&quot;);</span>
<span class="line-modified">!         permittedTypesAttr = new PermittedTypesAttr(this, classes);</span>
      }
  
  
      public void endClass() {
          sourceFileNameAttr = new CPXAttr(this,
<span class="line-new-header">--- 309,13 ---</span>
      public void addNestMembers(List&lt;ConstantPool.ConstCell&gt; classes) {
          env.traceln(&quot;addNestMembers&quot;);
          nestMembersAttr = new NestMembersAttr(this, classes);
      }
  
<span class="line-modified">!     public void addPermittedSubclasses(List&lt;ConstantPool.ConstCell&gt; classes) {</span>
<span class="line-modified">!         env.traceln(&quot;addPermittedSubclasses&quot;);</span>
<span class="line-modified">!         permittedSubclassesAttr = new PermittedSubclassesAttr(this, classes);</span>
      }
  
  
      public void endClass() {
          sourceFileNameAttr = new CPXAttr(this,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 457,12 ***</span>
              if(nestHostAttributeExists())
                  attrs.add(nestHostAttr);
              if(nestMembersAttributesExist())
                  attrs.add(nestMembersAttr);
              // since class version 59.65535 (JEP 360)
<span class="line-modified">!             if ( permittedSubtypesAttributesExist() )</span>
<span class="line-modified">!                 attrs.add(permittedTypesAttr);</span>
          }
          return attrs;
      }
  
      static char fileSeparator; //=System.getProperty(&quot;file.separator&quot;);
<span class="line-new-header">--- 457,12 ---</span>
              if(nestHostAttributeExists())
                  attrs.add(nestHostAttr);
              if(nestMembersAttributesExist())
                  attrs.add(nestMembersAttr);
              // since class version 59.65535 (JEP 360)
<span class="line-modified">!             if ( permittedSubclassesAttributesExist() )</span>
<span class="line-modified">!                 attrs.add(permittedSubclassesAttr);</span>
          }
          return attrs;
      }
  
      static char fileSeparator; //=System.getProperty(&quot;file.separator&quot;);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 513,11 ***</span>
          return nestHostAttr != null;
      }
  
      public boolean nestMembersAttributesExist() { return nestMembersAttr != null;  }
  
<span class="line-modified">!     public boolean permittedSubtypesAttributesExist() { return permittedTypesAttr != null;  }</span>
  
      public boolean recordAttributeExists() { return recordData != null;  }
  
      /**
       * This is a wrapper for DataOutputStream, used for debugging purposes. it allows
<span class="line-new-header">--- 513,11 ---</span>
          return nestHostAttr != null;
      }
  
      public boolean nestMembersAttributesExist() { return nestMembersAttr != null;  }
  
<span class="line-modified">!     public boolean permittedSubclassesAttributesExist() { return permittedSubclassesAttr != null;  }</span>
  
      public boolean recordAttributeExists() { return recordData != null;  }
  
      /**
       * This is a wrapper for DataOutputStream, used for debugging purposes. it allows
</pre>
<center><a href="ClassArrayAttr.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="Environment.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>