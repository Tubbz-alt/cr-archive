<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/com/sun/javatest/report/KflSection.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="HTMLSection.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="ResultSection.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/com/sun/javatest/report/KflSection.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -240,35 +240,35 @@</span>
          i18n.getString(&quot;kfl.tc_new.summary&quot;);
          i18n.getString(&quot;kfl.tc_new.title&quot;);
      }
  
      @Override
<span class="udiff-line-modified-removed">-     void writeSummary(ReportWriter out) throws IOException {</span>
<span class="udiff-line-modified-removed">-         super.writeSummary(out);</span>
<span class="udiff-line-modified-added">+     void writeSummary(ReportWriter repWriter) throws IOException {</span>
<span class="udiff-line-modified-added">+         super.writeSummary(repWriter);</span>
  
<span class="udiff-line-modified-removed">-         out.write(i18n.getString(&quot;kfl.files.list&quot;));</span>
<span class="udiff-line-modified-added">+         repWriter.write(i18n.getString(&quot;kfl.files.list&quot;));</span>
          File[] kfls = settings.getInterview().getKnownFailureFiles();
  
          if (kfls != null &amp;&amp; kfls.length &gt; 0) {
<span class="udiff-line-modified-removed">-             out.startTag(HTMLWriterEx.UL);</span>
<span class="udiff-line-modified-added">+             repWriter.startTag(HTMLWriterEx.UL);</span>
  
              for (File f : kfls) {
<span class="udiff-line-modified-removed">-                 out.startTag(HTMLWriterEx.LI);</span>
<span class="udiff-line-modified-removed">-                 out.writeLink(f.toURI().toString(), f.getCanonicalPath());</span>
<span class="udiff-line-modified-added">+                 repWriter.startTag(HTMLWriterEx.LI);</span>
<span class="udiff-line-modified-added">+                 repWriter.writeLink(f.toURI().toString(), f.getCanonicalPath());</span>
              }   // for
  
<span class="udiff-line-modified-removed">-             out.endTag(HTMLWriterEx.UL);</span>
<span class="udiff-line-modified-added">+             repWriter.endTag(HTMLWriterEx.UL);</span>
          } else {
<span class="udiff-line-modified-removed">-             out.write(i18n.getString(&quot;kfl.nofiles&quot;));</span>
<span class="udiff-line-modified-removed">-             out.newLine();</span>
<span class="udiff-line-modified-added">+             repWriter.write(i18n.getString(&quot;kfl.nofiles&quot;));</span>
<span class="udiff-line-modified-added">+             repWriter.newLine();</span>
              return;     // no need to continue with section
          }
  
          if (kfl == null) {
<span class="udiff-line-modified-removed">-             out.write(i18n.getString(&quot;kfl.unable&quot;));</span>
<span class="udiff-line-modified-removed">-             out.startTag(HTMLWriterEx.BR);</span>
<span class="udiff-line-modified-removed">-             out.newLine();</span>
<span class="udiff-line-modified-added">+             repWriter.write(i18n.getString(&quot;kfl.unable&quot;));</span>
<span class="udiff-line-modified-added">+             repWriter.startTag(HTMLWriterEx.BR);</span>
<span class="udiff-line-modified-added">+             repWriter.newLine();</span>
              return;
          }
  
          /*
          sorter = new KflSorter(kfl, resultTable, settings.isKflTestCasesEnabled());
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -277,125 +277,125 @@</span>
          sorter.setMissingEnabled(settings.isKflMissingEnabled());
  
          int errors = sorter.run(parent.getResults());
           */
  
<span class="udiff-line-modified-removed">-         out.startTag(HTMLWriterEx.TABLE);</span>
<span class="udiff-line-modified-removed">-         out.writeAttr(HTMLWriterEx.BORDER, 1);</span>
<span class="udiff-line-modified-added">+         repWriter.startTag(HTMLWriterEx.TABLE);</span>
<span class="udiff-line-modified-added">+         repWriter.writeAttr(HTMLWriterEx.BORDER, 1);</span>
  
<span class="udiff-line-modified-removed">-         out.startTag(HTMLWriterEx.TR);</span>
<span class="udiff-line-modified-removed">-         out.writeTH(i18n.getString(&quot;kfl.changes.hdr&quot;), HTMLWriterEx.ROW);</span>
<span class="udiff-line-modified-removed">-         out.writeTH(i18n.getString(&quot;kfl.tests.hdr&quot;, Integer.toString(sorter.getErrorCount())), HTMLWriterEx.ROW);</span>
<span class="udiff-line-modified-added">+         repWriter.startTag(HTMLWriterEx.TR);</span>
<span class="udiff-line-modified-added">+         repWriter.writeTH(i18n.getString(&quot;kfl.changes.hdr&quot;), HTMLWriterEx.ROW);</span>
<span class="udiff-line-modified-added">+         repWriter.writeTH(i18n.getString(&quot;kfl.tests.hdr&quot;, Integer.toString(sorter.getErrorCount())), HTMLWriterEx.ROW);</span>
  
          if (settings.isKflTestCasesEnabled()) {
<span class="udiff-line-modified-removed">-             out.writeTH(i18n.getString(&quot;kfl.tc.hdr&quot;, Integer.toString(sorter.getTestCasesErrorCount())), HTMLWriterEx.ROW);</span>
<span class="udiff-line-modified-added">+             repWriter.writeTH(i18n.getString(&quot;kfl.tc.hdr&quot;, Integer.toString(sorter.getTestCasesErrorCount())), HTMLWriterEx.ROW);</span>
          }
  
          // FAIL to PASS
<span class="udiff-line-modified-removed">-         out.startTag(HTMLWriterEx.TR);</span>
<span class="udiff-line-modified-removed">-         out.writeTH(i18n.getString(&quot;kfl.f2p.summary&quot;), HTMLWriterEx.ROW);</span>
<span class="udiff-line-modified-added">+         repWriter.startTag(HTMLWriterEx.TR);</span>
<span class="udiff-line-modified-added">+         repWriter.writeTH(i18n.getString(&quot;kfl.f2p.summary&quot;), HTMLWriterEx.ROW);</span>
  
<span class="udiff-line-modified-removed">-         out.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-removed">-         out.writeLink(FAIL2PASS, Integer.toString(sorter.getSet(KflSorter.Transitions.FAIL2PASS).size()));</span>
<span class="udiff-line-modified-removed">-         out.endTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+         repWriter.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+         repWriter.writeLink(FAIL2PASS, Integer.toString(sorter.getSet(KflSorter.Transitions.FAIL2PASS).size()));</span>
<span class="udiff-line-modified-added">+         repWriter.endTag(HTMLWriterEx.TD);</span>
  
          if (settings.isKflTestCasesEnabled()) {
<span class="udiff-line-modified-removed">-             out.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-removed">-             out.writeLink(TC_FAIL2PASS, Integer.toString(sorter.getSet(KflSorter.Transitions.TC_FAIL2PASS).size()));</span>
<span class="udiff-line-modified-removed">-             out.endTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+             repWriter.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+             repWriter.writeLink(TC_FAIL2PASS, Integer.toString(sorter.getSet(KflSorter.Transitions.TC_FAIL2PASS).size()));</span>
<span class="udiff-line-modified-added">+             repWriter.endTag(HTMLWriterEx.TD);</span>
          }
  
          // FAIL to ERROR
          if (settings.isKflF2eEnabled()) {
<span class="udiff-line-modified-removed">-             out.startTag(HTMLWriterEx.TR);</span>
<span class="udiff-line-modified-removed">-             out.writeTH(i18n.getString(&quot;kfl.f2e.summary&quot;), HTMLWriterEx.ROW);</span>
<span class="udiff-line-modified-added">+             repWriter.startTag(HTMLWriterEx.TR);</span>
<span class="udiff-line-modified-added">+             repWriter.writeTH(i18n.getString(&quot;kfl.f2e.summary&quot;), HTMLWriterEx.ROW);</span>
  
<span class="udiff-line-modified-removed">-             out.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-removed">-             out.writeLink(FAIL2ERROR, Integer.toString(sorter.getSet(KflSorter.Transitions.FAIL2ERROR).size()));</span>
<span class="udiff-line-modified-removed">-             out.endTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+             repWriter.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+             repWriter.writeLink(FAIL2ERROR, Integer.toString(sorter.getSet(KflSorter.Transitions.FAIL2ERROR).size()));</span>
<span class="udiff-line-modified-added">+             repWriter.endTag(HTMLWriterEx.TD);</span>
  
              if (settings.isKflTestCasesEnabled()) {
<span class="udiff-line-modified-removed">-                 out.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-removed">-                 out.writeLink(TC_FAIL2ERROR, Integer.toString(sorter.getSet(KflSorter.Transitions.TC_FAIL2ERROR).size()));</span>
<span class="udiff-line-modified-removed">-                 out.endTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+                 repWriter.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+                 repWriter.writeLink(TC_FAIL2ERROR, Integer.toString(sorter.getSet(KflSorter.Transitions.TC_FAIL2ERROR).size()));</span>
<span class="udiff-line-modified-added">+                 repWriter.endTag(HTMLWriterEx.TD);</span>
              }
          }
  
          // UNRELATED ERRORS
<span class="udiff-line-modified-removed">-         out.startTag(HTMLWriterEx.TR);</span>
<span class="udiff-line-modified-removed">-         out.writeTH(i18n.getString(&quot;kfl.errors.summary&quot;), HTMLWriterEx.ROW);</span>
<span class="udiff-line-modified-added">+         repWriter.startTag(HTMLWriterEx.TR);</span>
<span class="udiff-line-modified-added">+         repWriter.writeTH(i18n.getString(&quot;kfl.errors.summary&quot;), HTMLWriterEx.ROW);</span>
  
<span class="udiff-line-modified-removed">-         out.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-removed">-         out.writeLink(OTHER_ERRORS, Integer.toString(sorter.getSet(KflSorter.Transitions.OTHER_ERRORS).size()));</span>
<span class="udiff-line-modified-removed">-         out.endTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+         repWriter.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+         repWriter.writeLink(OTHER_ERRORS, Integer.toString(sorter.getSet(KflSorter.Transitions.OTHER_ERRORS).size()));</span>
<span class="udiff-line-modified-added">+         repWriter.endTag(HTMLWriterEx.TD);</span>
  
          // print that no TC info is available
<span class="udiff-line-modified-removed">-         out.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-removed">-         out.write(i18n.getString(&quot;kfl.f2f.notc&quot;));</span>
<span class="udiff-line-modified-removed">-         out.endTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+         repWriter.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+         repWriter.write(i18n.getString(&quot;kfl.f2f.notc&quot;));</span>
<span class="udiff-line-modified-added">+         repWriter.endTag(HTMLWriterEx.TD);</span>
  
          // FAIL to NOT RUN
<span class="udiff-line-modified-removed">-         out.startTag(HTMLWriterEx.TR);</span>
<span class="udiff-line-modified-removed">-         out.writeTH(i18n.getString(&quot;kfl.f2nr.summary&quot;), HTMLWriterEx.ROW);</span>
<span class="udiff-line-modified-added">+         repWriter.startTag(HTMLWriterEx.TR);</span>
<span class="udiff-line-modified-added">+         repWriter.writeTH(i18n.getString(&quot;kfl.f2nr.summary&quot;), HTMLWriterEx.ROW);</span>
  
<span class="udiff-line-modified-removed">-         out.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-removed">-         out.writeLink(FAIL2NOTRUN, Integer.toString(sorter.getSet(KflSorter.Transitions.FAIL2NOTRUN).size()));</span>
<span class="udiff-line-modified-removed">-         out.endTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+         repWriter.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+         repWriter.writeLink(FAIL2NOTRUN, Integer.toString(sorter.getSet(KflSorter.Transitions.FAIL2NOTRUN).size()));</span>
<span class="udiff-line-modified-added">+         repWriter.endTag(HTMLWriterEx.TD);</span>
  
          if (settings.isKflTestCasesEnabled()) {
<span class="udiff-line-modified-removed">-             out.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-removed">-             out.writeLink(TC_FAIL2NOTRUN, Integer.toString(sorter.getSet(KflSorter.Transitions.TC_FAIL2NOTRUN).size()));</span>
<span class="udiff-line-modified-removed">-             out.endTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+             repWriter.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+             repWriter.writeLink(TC_FAIL2NOTRUN, Integer.toString(sorter.getSet(KflSorter.Transitions.TC_FAIL2NOTRUN).size()));</span>
<span class="udiff-line-modified-added">+             repWriter.endTag(HTMLWriterEx.TD);</span>
          }
  
          if (settings.isKflMissingEnabled()) {
<span class="udiff-line-modified-removed">-             out.startTag(HTMLWriterEx.TR);</span>
<span class="udiff-line-modified-removed">-             out.writeTH(i18n.getString(&quot;kfl.f2m.summary&quot;), HTMLWriterEx.ROW);</span>
<span class="udiff-line-modified-added">+             repWriter.startTag(HTMLWriterEx.TR);</span>
<span class="udiff-line-modified-added">+             repWriter.writeTH(i18n.getString(&quot;kfl.f2m.summary&quot;), HTMLWriterEx.ROW);</span>
  
              // FAIL to MISSING
<span class="udiff-line-modified-removed">-             out.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-removed">-             out.writeLink(FAIL2MISSING, Integer.toString(sorter.getSet(KflSorter.Transitions.FAIL2MISSING).size()));</span>
<span class="udiff-line-modified-removed">-             out.endTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+             repWriter.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+             repWriter.writeLink(FAIL2MISSING, Integer.toString(sorter.getSet(KflSorter.Transitions.FAIL2MISSING).size()));</span>
<span class="udiff-line-modified-added">+             repWriter.endTag(HTMLWriterEx.TD);</span>
  
              if (settings.isKflTestCasesEnabled()) {
<span class="udiff-line-modified-removed">-                 out.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-removed">-                 out.writeLink(TC_FAIL2MISSING, Integer.toString(sorter.getSet(KflSorter.Transitions.TC_FAIL2MISSING).size()));</span>
<span class="udiff-line-modified-removed">-                 out.endTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+                 repWriter.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+                 repWriter.writeLink(TC_FAIL2MISSING, Integer.toString(sorter.getSet(KflSorter.Transitions.TC_FAIL2MISSING).size()));</span>
<span class="udiff-line-modified-added">+                 repWriter.endTag(HTMLWriterEx.TD);</span>
              }
          }
  
          // NEW FAILURES
<span class="udiff-line-modified-removed">-         out.startTag(HTMLWriterEx.TR);</span>
<span class="udiff-line-modified-removed">-         out.writeTH(i18n.getString(&quot;kfl.new.summary&quot;), HTMLWriterEx.ROW);</span>
<span class="udiff-line-modified-removed">-         out.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-removed">-         out.writeLink(NEWFAILURES, Integer.toString(sorter.getSet(KflSorter.Transitions.NEWFAILURES).size()));</span>
<span class="udiff-line-modified-removed">-         out.endTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+         repWriter.startTag(HTMLWriterEx.TR);</span>
<span class="udiff-line-modified-added">+         repWriter.writeTH(i18n.getString(&quot;kfl.new.summary&quot;), HTMLWriterEx.ROW);</span>
<span class="udiff-line-modified-added">+         repWriter.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+         repWriter.writeLink(NEWFAILURES, Integer.toString(sorter.getSet(KflSorter.Transitions.NEWFAILURES).size()));</span>
<span class="udiff-line-modified-added">+         repWriter.endTag(HTMLWriterEx.TD);</span>
  
          if (settings.isKflTestCasesEnabled()) {
<span class="udiff-line-modified-removed">-             out.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-removed">-             out.writeLink(TC_NEWFAILURES, Integer.toString(sorter.getSet(KflSorter.Transitions.TC_NEWFAILURES).size()));</span>
<span class="udiff-line-modified-removed">-             out.endTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+             repWriter.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+             repWriter.writeLink(TC_NEWFAILURES, Integer.toString(sorter.getSet(KflSorter.Transitions.TC_NEWFAILURES).size()));</span>
<span class="udiff-line-modified-added">+             repWriter.endTag(HTMLWriterEx.TD);</span>
          }
  
<span class="udiff-line-modified-removed">-         out.endTag(HTMLWriterEx.TR);</span>
<span class="udiff-line-modified-added">+         repWriter.endTag(HTMLWriterEx.TR);</span>
  
          // FAIL to FAIL
          if (settings.isKflF2fEnabled()) {
<span class="udiff-line-modified-removed">-             out.startTag(HTMLWriterEx.TR);</span>
<span class="udiff-line-modified-removed">-             out.writeTH(i18n.getString(&quot;kfl.f2f.summary&quot;), HTMLWriterEx.ROW);</span>
<span class="udiff-line-modified-removed">-             out.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-removed">-             out.writeLink(FAIL2FAIL, Integer.toString(sorter.getSet(KflSorter.Transitions.FAIL2FAIL).size()));</span>
<span class="udiff-line-modified-removed">-             out.endTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+             repWriter.startTag(HTMLWriterEx.TR);</span>
<span class="udiff-line-modified-added">+             repWriter.writeTH(i18n.getString(&quot;kfl.f2f.summary&quot;), HTMLWriterEx.ROW);</span>
<span class="udiff-line-modified-added">+             repWriter.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+             repWriter.writeLink(FAIL2FAIL, Integer.toString(sorter.getSet(KflSorter.Transitions.FAIL2FAIL).size()));</span>
<span class="udiff-line-modified-added">+             repWriter.endTag(HTMLWriterEx.TD);</span>
  
              if (settings.isKflTestCasesEnabled()) {
<span class="udiff-line-modified-removed">-                 out.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-removed">-                 out.write(i18n.getString(&quot;kfl.f2f.notc&quot;));</span>
<span class="udiff-line-modified-removed">-                 out.endTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+                 repWriter.startTag(HTMLWriterEx.TD);</span>
<span class="udiff-line-modified-added">+                 repWriter.write(i18n.getString(&quot;kfl.f2f.notc&quot;));</span>
<span class="udiff-line-modified-added">+                 repWriter.endTag(HTMLWriterEx.TD);</span>
              }
          }
  
<span class="udiff-line-modified-removed">-         out.endTag(HTMLWriterEx.TABLE);</span>
<span class="udiff-line-modified-added">+         repWriter.endTag(HTMLWriterEx.TABLE);</span>
      }
  
      @Override
      void writeExtraFiles() throws IOException {
          // will be null if the KFL files weren&#39;t usable or there were none
</pre>
<center><a href="HTMLSection.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="ResultSection.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>