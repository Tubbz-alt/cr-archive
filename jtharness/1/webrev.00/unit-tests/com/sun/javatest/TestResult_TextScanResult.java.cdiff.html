<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff unit-tests/com/sun/javatest/TestResult_TextScanResult.java</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../../../../src/com/sun/javatest/TestResult.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>unit-tests/com/sun/javatest/TestResult_TextScanResult.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 67,11 ***</span>
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;\r&quot;);
          assertEquals(0, scan.numBackslashes);
          assertEquals(1, scan.numLines);
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
<span class="line-modified">!         assertTrue(scan.needsFinalNewline);</span>
      }
  
      @Test
      public void space_n()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot; \n&quot;);
<span class="line-new-header">--- 67,11 ---</span>
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;\r&quot;);
          assertEquals(0, scan.numBackslashes);
          assertEquals(1, scan.numLines);
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
<span class="line-modified">!         assertFalse(scan.needsFinalNewline);</span>
      }
  
      @Test
      public void space_n()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot; \n&quot;);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 87,11 ***</span>
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot; \r&quot;);
          assertEquals(0, scan.numBackslashes);
          assertEquals(1, scan.numLines);
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
<span class="line-modified">!         assertTrue(scan.needsFinalNewline);</span>
      }
  
      @Test
      public void space_rn()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot; \r\n&quot;);
<span class="line-new-header">--- 87,11 ---</span>
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot; \r&quot;);
          assertEquals(0, scan.numBackslashes);
          assertEquals(1, scan.numLines);
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
<span class="line-modified">!         assertFalse(scan.needsFinalNewline);</span>
      }
  
      @Test
      public void space_rn()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot; \r\n&quot;);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 100,18 ***</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertFalse(scan.needsFinalNewline);
      }
  
      @Test
      public void rr()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;\r\r&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(1, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
<span class="line-modified">!         assertTrue(scan.needsFinalNewline);</span>
      }
  
      @Test
      public void rn()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;\r\n&quot;);
<span class="line-new-header">--- 100,28 ---</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertFalse(scan.needsFinalNewline);
      }
  
<span class="line-added">+     @Test</span>
<span class="line-added">+     public void space_nr()  {</span>
<span class="line-added">+         TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot; \n\r&quot;);</span>
<span class="line-added">+         assertEquals(0, scan.numBackslashes);</span>
<span class="line-added">+         assertEquals(2, scan.numLines);</span>
<span class="line-added">+         assertEquals(0, scan.numNonASCII);</span>
<span class="line-added">+         assertFalse(scan.needsEscape);</span>
<span class="line-added">+         assertFalse(scan.needsFinalNewline);</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
      @Test
      public void rr()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;\r\r&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(2, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
<span class="line-modified">!         assertFalse(scan.needsFinalNewline);</span>
      }
  
      @Test
      public void rn()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;\r\n&quot;);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 120,20 ***</span>
<span class="line-new-header">--- 130,53 ---</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertFalse(scan.needsFinalNewline);
      }
  
<span class="line-added">+     @Test</span>
<span class="line-added">+     public void nr()  {</span>
<span class="line-added">+         TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;\n\r&quot;);</span>
<span class="line-added">+         assertEquals(0, scan.numBackslashes);</span>
<span class="line-added">+         assertEquals(2, scan.numLines);</span>
<span class="line-added">+         assertEquals(0, scan.numNonASCII);</span>
<span class="line-added">+         assertFalse(scan.needsEscape);</span>
<span class="line-added">+         assertFalse(scan.needsFinalNewline);</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
      @Test
      public void rnrn()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;\r\n\r\n&quot;);
          assertEquals(0, scan.numBackslashes);
          assertEquals(2, scan.numLines);
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertFalse(scan.needsFinalNewline);
      }
  
<span class="line-added">+     /**</span>
<span class="line-added">+      * n, rn, r</span>
<span class="line-added">+      */</span>
<span class="line-added">+     @Test</span>
<span class="line-added">+     public void nrnr()  {</span>
<span class="line-added">+         TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;\n\r\n\r&quot;);</span>
<span class="line-added">+         assertEquals(0, scan.numBackslashes);</span>
<span class="line-added">+         assertEquals(3, scan.numLines);</span>
<span class="line-added">+         assertEquals(0, scan.numNonASCII);</span>
<span class="line-added">+         assertFalse(scan.needsEscape);</span>
<span class="line-added">+         assertFalse(scan.needsFinalNewline);</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     @Test</span>
<span class="line-added">+     public void nnnn()  {</span>
<span class="line-added">+         TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;\n\n\n\n&quot;);</span>
<span class="line-added">+         assertEquals(0, scan.numBackslashes);</span>
<span class="line-added">+         assertEquals(4, scan.numLines);</span>
<span class="line-added">+         assertEquals(0, scan.numNonASCII);</span>
<span class="line-added">+         assertFalse(scan.needsEscape);</span>
<span class="line-added">+         assertFalse(scan.needsFinalNewline);</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
      @Test
      public void nn()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;\n\n&quot;);
          assertEquals(0, scan.numBackslashes);
          assertEquals(2, scan.numLines);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 194,11 ***</span>
  
      @Test
      public void twoLines_r()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\rsecond&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(1, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertTrue(scan.needsFinalNewline);
      }
  
<span class="line-new-header">--- 237,11 ---</span>
  
      @Test
      public void twoLines_r()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\rsecond&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(2, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertTrue(scan.needsFinalNewline);
      }
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 220,28 ***</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertFalse(scan.needsFinalNewline);
      }
  
      @Test
      public void twoLines_n_endsWith_r()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\nsecond\r&quot;);
          assertEquals(0, scan.numBackslashes);
          assertEquals(2, scan.numLines);
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
<span class="line-modified">!         assertTrue(scan.needsFinalNewline);</span>
      }
  
      @Test
      public void twoLines_r_endsWith_r()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\rsecond\r&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(1, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
<span class="line-modified">!         assertTrue(scan.needsFinalNewline);</span>
      }
  
      @Test
      public void twoLines_rn_endsWith_n()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\r\nsecond\n&quot;);
<span class="line-new-header">--- 263,38 ---</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertFalse(scan.needsFinalNewline);
      }
  
<span class="line-added">+     @Test</span>
<span class="line-added">+     public void twoLines_n_endsWith_rn()  {</span>
<span class="line-added">+         TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\nsecond\r\n&quot;);</span>
<span class="line-added">+         assertEquals(0, scan.numBackslashes);</span>
<span class="line-added">+         assertEquals(2, scan.numLines);</span>
<span class="line-added">+         assertEquals(0, scan.numNonASCII);</span>
<span class="line-added">+         assertFalse(scan.needsEscape);</span>
<span class="line-added">+         assertFalse(scan.needsFinalNewline);</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
      @Test
      public void twoLines_n_endsWith_r()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\nsecond\r&quot;);
          assertEquals(0, scan.numBackslashes);
          assertEquals(2, scan.numLines);
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
<span class="line-modified">!         assertFalse(scan.needsFinalNewline);</span>
      }
  
      @Test
      public void twoLines_r_endsWith_r()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\rsecond\r&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(2, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
<span class="line-modified">!         assertFalse(scan.needsFinalNewline);</span>
      }
  
      @Test
      public void twoLines_rn_endsWith_n()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\r\nsecond\n&quot;);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 271,65 ***</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertTrue(scan.needsFinalNewline);
      }
  
      @Test
      public void threeLines_n_r()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\nsecond\rthird&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(2, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertTrue(scan.needsFinalNewline);
      }
  
      @Test
      public void threeLines_r_n()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\rsecond\nthird&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(2, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertTrue(scan.needsFinalNewline);
      }
  
      @Test
      public void threeLines_r_n_endsWith_r()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\rsecond\nthird\r&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(2, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
<span class="line-modified">!         assertTrue(scan.needsFinalNewline);</span>
      }
  
      @Test
      public void threeLines_r_n_endsWith_n()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\rsecond\nthird\n&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(2, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertFalse(scan.needsFinalNewline);
      }
  
      @Test
      public void threeLines_r_n_endsWith_rn()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\rsecond\nthird\r\n&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(2, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertFalse(scan.needsFinalNewline);
      }
  
      @Test
      public void threeLines_r_r()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\rsecond\rthird&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(1, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertTrue(scan.needsFinalNewline);
      }
  
<span class="line-new-header">--- 324,85 ---</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertTrue(scan.needsFinalNewline);
      }
  
<span class="line-added">+     @Test</span>
<span class="line-added">+     public void threeLines_n_endsWith_n()  {</span>
<span class="line-added">+         TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\nsecond\nthird\n&quot;);</span>
<span class="line-added">+         assertEquals(0, scan.numBackslashes);</span>
<span class="line-added">+         assertEquals(3, scan.numLines);</span>
<span class="line-added">+         assertEquals(0, scan.numNonASCII);</span>
<span class="line-added">+         assertFalse(scan.needsEscape);</span>
<span class="line-added">+         assertFalse(scan.needsFinalNewline);</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
      @Test
      public void threeLines_n_r()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\nsecond\rthird&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(3, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertTrue(scan.needsFinalNewline);
      }
  
      @Test
      public void threeLines_r_n()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\rsecond\nthird&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(3, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertTrue(scan.needsFinalNewline);
      }
  
      @Test
      public void threeLines_r_n_endsWith_r()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\rsecond\nthird\r&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(3, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
<span class="line-modified">!         assertFalse(scan.needsFinalNewline);</span>
      }
  
      @Test
      public void threeLines_r_n_endsWith_n()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\rsecond\nthird\n&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(3, scan.numLines);</span>
<span class="line-added">+         assertEquals(0, scan.numNonASCII);</span>
<span class="line-added">+         assertFalse(scan.needsEscape);</span>
<span class="line-added">+         assertFalse(scan.needsFinalNewline);</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     @Test</span>
<span class="line-added">+     public void threeLines_n_n_endsWith_n()  {</span>
<span class="line-added">+         TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\rsecond\nthird\n&quot;);</span>
<span class="line-added">+         assertEquals(0, scan.numBackslashes);</span>
<span class="line-added">+         assertEquals(3, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertFalse(scan.needsFinalNewline);
      }
  
      @Test
      public void threeLines_r_n_endsWith_rn()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\rsecond\nthird\r\n&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(3, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertFalse(scan.needsFinalNewline);
      }
  
      @Test
      public void threeLines_r_r()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\rsecond\rthird&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(3, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertTrue(scan.needsFinalNewline);
      }
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 355,11 ***</span>
  
      @Test
      public void threeLines_rn_r()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\r\nsecond\rthird&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(2, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertTrue(scan.needsFinalNewline);
      }
  
<span class="line-new-header">--- 428,21 ---</span>
  
      @Test
      public void threeLines_rn_r()  {
          TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\r\nsecond\rthird&quot;);
          assertEquals(0, scan.numBackslashes);
<span class="line-modified">!         assertEquals(3, scan.numLines);</span>
<span class="line-added">+         assertEquals(0, scan.numNonASCII);</span>
<span class="line-added">+         assertFalse(scan.needsEscape);</span>
<span class="line-added">+         assertTrue(scan.needsFinalNewline);</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     @Test</span>
<span class="line-added">+     public void fourLines_nr_r()  {</span>
<span class="line-added">+         TestResult.TextScanResult scan = TestResult.TextScanResult.scan(&quot;first\n\rsecond\rthird&quot;);</span>
<span class="line-added">+         assertEquals(0, scan.numBackslashes);</span>
<span class="line-added">+         assertEquals(4, scan.numLines);</span>
          assertEquals(0, scan.numNonASCII);
          assertFalse(scan.needsEscape);
          assertTrue(scan.needsFinalNewline);
      }
  
</pre>
<center><a href="../../../../src/com/sun/javatest/TestResult.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>