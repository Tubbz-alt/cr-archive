diff a/application/org.openjdk.jmc.flightrecorder.flameview/src/main/java/org/openjdk/jmc/flightrecorder/flameview/views/FlameGraphView.java b/application/org.openjdk.jmc.flightrecorder.flameview/src/main/java/org/openjdk/jmc/flightrecorder/flameview/views/FlameGraphView.java
--- a/application/org.openjdk.jmc.flightrecorder.flameview/src/main/java/org/openjdk/jmc/flightrecorder/flameview/views/FlameGraphView.java
+++ b/application/org.openjdk.jmc.flightrecorder.flameview/src/main/java/org/openjdk/jmc/flightrecorder/flameview/views/FlameGraphView.java
@@ -384,15 +384,15 @@
 				future.cancel(true);
 				return;
 			}
 
 			String type;
-
+			String fileName = fd.getFileName().toLowerCase();
 			// FIXME: FileDialog filterIndex returns -1 (https://bugs.eclipse.org/bugs/show_bug.cgi?id=546256)
-			if (fd.getFileName().endsWith(".jpg") || fd.getFileName().endsWith(".jpeg")) { //$NON-NLS-1$ //$NON-NLS-2$
+			if (fileName.endsWith(".jpg") || fileName.endsWith(".jpeg")) { //$NON-NLS-1$ //$NON-NLS-2$
 				type = "image/jpeg"; //$NON-NLS-1$
-			} else if (fd.getFileName().endsWith(".png")) { //$NON-NLS-1$
+			} else if (fileName.endsWith(".png")) { //$NON-NLS-1$
 				type = "image/png"; //$NON-NLS-1$
 			} else {
 				future.completeExceptionally(new UnsupportedOperationException("Unsupported image format")); //$NON-NLS-1$
 				return;
 			}
diff a/application/org.openjdk.jmc.flightrecorder.flameview/src/main/resources/page.template b/application/org.openjdk.jmc.flightrecorder.flameview/src/main/resources/page.template
--- a/application/org.openjdk.jmc.flightrecorder.flameview/src/main/resources/page.template
+++ b/application/org.openjdk.jmc.flightrecorder.flameview/src/main/resources/page.template
@@ -111,11 +111,11 @@
 					"	cursor: pointer;" +
 					"}" +
 					".d3-flame-graph-label {" +
 					"	pointer-events: none;" +
 					"	white-space: nowrap;" +
-					"   text-overflow: ellipsis;" +
+					"	text-overflow: ellipsis;" +
 					"	overflow: hidden;" +
 					"	font-size: 12px;" +
 					"	font-family: Verdana;" +
 					"	margin-left: 4px;" +
 					"	margin-right: 4px;" +
@@ -136,13 +136,19 @@
 				try {
 					var canvas = document.createElement('canvas');
 					canvas.setAttribute("width", width);
 					canvas.setAttribute("height", height);
 
+					if (type !== "image/png") {
+						// fill opaque background
+						canvas.getContext('2d').fillStyle = 'white';
+						canvas.getContext('2d').fillRect(0, 0, width, height);
+					}
+
 					canvas.getContext('2d').drawImage(image, 0, 0);
 
-					var b64 = canvas.toDataURL(type);
+					var b64 = canvas.toDataURL(type, 1);
 					callback(b64.substring(b64.indexOf('base64,') + 7));
 				} catch (e) {
 					callback(undefined, e.message)
 				}
 
