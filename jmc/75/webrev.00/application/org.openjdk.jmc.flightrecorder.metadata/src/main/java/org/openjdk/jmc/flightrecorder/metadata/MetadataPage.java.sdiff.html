<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff application/org.openjdk.jmc.flightrecorder.metadata/src/main/java/org/openjdk/jmc/flightrecorder/metadata/MetadataPage.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../../../org.openjdk.jmc.flightrecorder.flameview/src/main/java/org/openjdk/jmc/flightrecorder/flameview/views/FlameGraphView.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../org.openjdk.jmc.flightrecorder.ui/src/main/java/org/openjdk/jmc/flightrecorder/ui/FlightRecorderUI.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>application/org.openjdk.jmc.flightrecorder.metadata/src/main/java/org/openjdk/jmc/flightrecorder/metadata/MetadataPage.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 22  * endorse or promote products derived from this software without specific prior written permission.
 23  * 
 24  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR
 25  * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
 26  * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
 27  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 28  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 29  * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 30  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY
 31  * WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 32  */
 33 package org.openjdk.jmc.flightrecorder.metadata;
 34 
 35 import java.util.Arrays;
 36 import java.util.Comparator;
 37 import java.util.stream.Stream;
 38 
 39 import org.eclipse.jface.layout.GridDataFactory;
 40 import org.eclipse.jface.layout.GridLayoutFactory;
 41 import org.eclipse.jface.resource.ImageDescriptor;

 42 import org.eclipse.jface.viewers.ColumnViewerToolTipSupport;
 43 import org.eclipse.jface.viewers.ISelection;
 44 import org.eclipse.jface.viewers.TreePath;
 45 import org.eclipse.jface.viewers.TreeViewer;
 46 import org.eclipse.swt.SWT;
 47 import org.eclipse.swt.graphics.Image;
 48 import org.eclipse.swt.layout.FillLayout;
 49 import org.eclipse.swt.widgets.Composite;
 50 import org.eclipse.swt.widgets.Text;
 51 import org.eclipse.ui.forms.widgets.Form;
 52 import org.eclipse.ui.forms.widgets.FormToolkit;
<span class="line-removed"> 53 import org.eclipse.ui.plugin.AbstractUIPlugin;</span>
<span class="line-removed"> 54 </span>
 55 import org.openjdk.jmc.common.IState;
 56 import org.openjdk.jmc.common.IWritableState;
 57 import org.openjdk.jmc.common.item.IItemIterable;
 58 import org.openjdk.jmc.common.item.IType;
 59 import org.openjdk.jmc.flightrecorder.ui.IDisplayablePage;
 60 import org.openjdk.jmc.flightrecorder.ui.IPageContainer;
 61 import org.openjdk.jmc.flightrecorder.ui.IPageDefinition;
 62 import org.openjdk.jmc.flightrecorder.ui.IPageUI;
 63 import org.openjdk.jmc.flightrecorder.ui.ItemCollectionToolkit;
 64 import org.openjdk.jmc.flightrecorder.ui.StreamModel;
 65 import org.openjdk.jmc.flightrecorder.ui.common.AbstractDataPage;
 66 import org.openjdk.jmc.flightrecorder.ui.common.DataPageToolkit;
 67 import org.openjdk.jmc.flightrecorder.ui.common.LabeledPageFactory;
 68 import org.openjdk.jmc.flightrecorder.ui.common.TypeLabelProvider;
 69 import org.openjdk.jmc.ui.TypeAppearance;
 70 import org.openjdk.jmc.ui.column.ColumnBuilder;
 71 import org.openjdk.jmc.ui.column.ColumnManager;
 72 import org.openjdk.jmc.ui.column.ColumnMenusFactory;
 73 import org.openjdk.jmc.ui.column.ColumnsFilter;
 74 import org.openjdk.jmc.ui.column.IColumn;
</pre>
<hr />
<pre>
217 					null, null);
218 			// FIXME: Do we want to add some synthetic attributes, like duration, or (thread).groupName, even though they don&#39;t exist in the type?
219 			Stream&lt;MetadataNode&gt; an = type.getAccessorKeys().entrySet().stream()
220 					.map(entry -&gt; new MetadataNode(typeNode, entry.getKey(), entry.getValue()));
221 			typeNode.setChildren(an.sorted(ID_COMPARATOR).toArray(MetadataNode[]::new));
222 			return typeNode;
223 		}).sorted(ID_COMPARATOR).toArray(MetadataNode[]::new));
224 		return root;
225 	}
226 
227 	private static final Comparator&lt;MetadataNode&gt; ID_COMPARATOR = (o1, o2) -&gt; o1.getId().compareTo(o2.getId());
228 
229 	public static class Factory extends LabeledPageFactory {
230 		@Override
231 		public String getName(IState state) {
232 			return Messages.MetadataPage_METADATA_PAGENAME;
233 		}
234 
235 		@Override
236 		public ImageDescriptor getImageDescriptor(IState state) {
<span class="line-modified">237 			return AbstractUIPlugin.imageDescriptorFromPlugin(PLUGIN_ID, ICON);</span>
238 		}
239 
240 		@Override
241 		public IDisplayablePage createPage(IPageDefinition dpd, StreamModel items, IPageContainer editor) {
242 			return new MetadataPage(dpd, items, editor);
243 		}
244 
245 	}
246 
247 }
</pre>
</td>
<td>
<hr />
<pre>
 22  * endorse or promote products derived from this software without specific prior written permission.
 23  * 
 24  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR
 25  * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
 26  * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
 27  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 28  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 29  * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 30  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY
 31  * WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 32  */
 33 package org.openjdk.jmc.flightrecorder.metadata;
 34 
 35 import java.util.Arrays;
 36 import java.util.Comparator;
 37 import java.util.stream.Stream;
 38 
 39 import org.eclipse.jface.layout.GridDataFactory;
 40 import org.eclipse.jface.layout.GridLayoutFactory;
 41 import org.eclipse.jface.resource.ImageDescriptor;
<span class="line-added"> 42 import org.eclipse.jface.resource.ResourceLocator;</span>
 43 import org.eclipse.jface.viewers.ColumnViewerToolTipSupport;
 44 import org.eclipse.jface.viewers.ISelection;
 45 import org.eclipse.jface.viewers.TreePath;
 46 import org.eclipse.jface.viewers.TreeViewer;
 47 import org.eclipse.swt.SWT;
 48 import org.eclipse.swt.graphics.Image;
 49 import org.eclipse.swt.layout.FillLayout;
 50 import org.eclipse.swt.widgets.Composite;
 51 import org.eclipse.swt.widgets.Text;
 52 import org.eclipse.ui.forms.widgets.Form;
 53 import org.eclipse.ui.forms.widgets.FormToolkit;


 54 import org.openjdk.jmc.common.IState;
 55 import org.openjdk.jmc.common.IWritableState;
 56 import org.openjdk.jmc.common.item.IItemIterable;
 57 import org.openjdk.jmc.common.item.IType;
 58 import org.openjdk.jmc.flightrecorder.ui.IDisplayablePage;
 59 import org.openjdk.jmc.flightrecorder.ui.IPageContainer;
 60 import org.openjdk.jmc.flightrecorder.ui.IPageDefinition;
 61 import org.openjdk.jmc.flightrecorder.ui.IPageUI;
 62 import org.openjdk.jmc.flightrecorder.ui.ItemCollectionToolkit;
 63 import org.openjdk.jmc.flightrecorder.ui.StreamModel;
 64 import org.openjdk.jmc.flightrecorder.ui.common.AbstractDataPage;
 65 import org.openjdk.jmc.flightrecorder.ui.common.DataPageToolkit;
 66 import org.openjdk.jmc.flightrecorder.ui.common.LabeledPageFactory;
 67 import org.openjdk.jmc.flightrecorder.ui.common.TypeLabelProvider;
 68 import org.openjdk.jmc.ui.TypeAppearance;
 69 import org.openjdk.jmc.ui.column.ColumnBuilder;
 70 import org.openjdk.jmc.ui.column.ColumnManager;
 71 import org.openjdk.jmc.ui.column.ColumnMenusFactory;
 72 import org.openjdk.jmc.ui.column.ColumnsFilter;
 73 import org.openjdk.jmc.ui.column.IColumn;
</pre>
<hr />
<pre>
216 					null, null);
217 			// FIXME: Do we want to add some synthetic attributes, like duration, or (thread).groupName, even though they don&#39;t exist in the type?
218 			Stream&lt;MetadataNode&gt; an = type.getAccessorKeys().entrySet().stream()
219 					.map(entry -&gt; new MetadataNode(typeNode, entry.getKey(), entry.getValue()));
220 			typeNode.setChildren(an.sorted(ID_COMPARATOR).toArray(MetadataNode[]::new));
221 			return typeNode;
222 		}).sorted(ID_COMPARATOR).toArray(MetadataNode[]::new));
223 		return root;
224 	}
225 
226 	private static final Comparator&lt;MetadataNode&gt; ID_COMPARATOR = (o1, o2) -&gt; o1.getId().compareTo(o2.getId());
227 
228 	public static class Factory extends LabeledPageFactory {
229 		@Override
230 		public String getName(IState state) {
231 			return Messages.MetadataPage_METADATA_PAGENAME;
232 		}
233 
234 		@Override
235 		public ImageDescriptor getImageDescriptor(IState state) {
<span class="line-modified">236 			return ResourceLocator.imageDescriptorFromBundle(PLUGIN_ID, ICON).orElse(null);</span>
237 		}
238 
239 		@Override
240 		public IDisplayablePage createPage(IPageDefinition dpd, StreamModel items, IPageContainer editor) {
241 			return new MetadataPage(dpd, items, editor);
242 		}
243 
244 	}
245 
246 }
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../../../../org.openjdk.jmc.flightrecorder.flameview/src/main/java/org/openjdk/jmc/flightrecorder/flameview/views/FlameGraphView.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../org.openjdk.jmc.flightrecorder.ui/src/main/java/org/openjdk/jmc/flightrecorder/ui/FlightRecorderUI.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>