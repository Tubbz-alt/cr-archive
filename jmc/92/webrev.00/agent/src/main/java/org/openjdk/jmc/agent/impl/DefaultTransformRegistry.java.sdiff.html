<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff agent/src/main/java/org/openjdk/jmc/agent/impl/DefaultTransformRegistry.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../TransformDescriptor.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../jfr/JFRTransformDescriptor.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>agent/src/main/java/org/openjdk/jmc/agent/impl/DefaultTransformRegistry.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
260 					}
261 				} else if (streamReader.isEndElement()) {
262 					String name = streamReader.getName().getLocalPart();
263 					if (XML_ELEMENT_CONFIGURATION.equals(name)) {
264 						break;
265 					}
266 				}
267 				streamReader.next();
268 			}
269 		} catch (XMLStreamException e) {
270 			e.printStackTrace();
271 		}
272 	}
273 
274 	private static void addDefaults(HashMap&lt;String, String&gt; globalDefaults) {
275 		globalDefaults.put(TransformDescriptor.ATTRIBUTE_CLASS_PREFIX, &quot;__JFREvent&quot;); //$NON-NLS-1$
276 		// For safety reasons, allowing toString is opt-in
277 		globalDefaults.put(TransformDescriptor.ATTRIBUTE_ALLOW_TO_STRING, &quot;false&quot;); //$NON-NLS-1$
278 		// For safety reasons, allowing converters is opt-in
279 		globalDefaults.put(TransformDescriptor.ATTRIBUTE_ALLOW_CONVERTER, &quot;false&quot;); //$NON-NLS-1$

280 	}
281 
282 	private static Parameter parseParameter(int index, XMLStreamReader streamReader) throws XMLStreamException {
283 		streamReader.next();
284 		String name = null;
285 		String description = null;
286 		String contentType = null;
287 		String relationKey = null;
288 		String converterClassName = null;
289 
290 		while (streamReader.hasNext()) {
291 			if (streamReader.isStartElement()) {
292 				String key = streamReader.getName().getLocalPart();
293 				streamReader.next();
294 				if (streamReader.hasText()) {
295 					String value = streamReader.getText();
296 					if (value != null) {
297 						value = value.trim();
298 					}
299 					if (&quot;name&quot;.equals(key)) { //$NON-NLS-1$
</pre>
</td>
<td>
<hr />
<pre>
260 					}
261 				} else if (streamReader.isEndElement()) {
262 					String name = streamReader.getName().getLocalPart();
263 					if (XML_ELEMENT_CONFIGURATION.equals(name)) {
264 						break;
265 					}
266 				}
267 				streamReader.next();
268 			}
269 		} catch (XMLStreamException e) {
270 			e.printStackTrace();
271 		}
272 	}
273 
274 	private static void addDefaults(HashMap&lt;String, String&gt; globalDefaults) {
275 		globalDefaults.put(TransformDescriptor.ATTRIBUTE_CLASS_PREFIX, &quot;__JFREvent&quot;); //$NON-NLS-1$
276 		// For safety reasons, allowing toString is opt-in
277 		globalDefaults.put(TransformDescriptor.ATTRIBUTE_ALLOW_TO_STRING, &quot;false&quot;); //$NON-NLS-1$
278 		// For safety reasons, allowing converters is opt-in
279 		globalDefaults.put(TransformDescriptor.ATTRIBUTE_ALLOW_CONVERTER, &quot;false&quot;); //$NON-NLS-1$
<span class="line-added">280 		globalDefaults.put(TransformDescriptor.ATTRIBUTE_EMIT_ON_EXCEPTION, &quot;false&quot;); //$NON-NLS-1$</span>
281 	}
282 
283 	private static Parameter parseParameter(int index, XMLStreamReader streamReader) throws XMLStreamException {
284 		streamReader.next();
285 		String name = null;
286 		String description = null;
287 		String contentType = null;
288 		String relationKey = null;
289 		String converterClassName = null;
290 
291 		while (streamReader.hasNext()) {
292 			if (streamReader.isStartElement()) {
293 				String key = streamReader.getName().getLocalPart();
294 				streamReader.next();
295 				if (streamReader.hasText()) {
296 					String value = streamReader.getText();
297 					if (value != null) {
298 						value = value.trim();
299 					}
300 					if (&quot;name&quot;.equals(key)) { //$NON-NLS-1$
</pre>
</td>
</tr>
</table>
<center><a href="../TransformDescriptor.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../jfr/JFRTransformDescriptor.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>