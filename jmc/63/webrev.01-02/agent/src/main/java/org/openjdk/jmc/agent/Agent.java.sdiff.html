<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff agent/src/main/java/org/openjdk/jmc/agent/Agent.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>agent/src/main/java/org/openjdk/jmc/agent/Agent.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 77 	/**
 78 	 * This method is run when the agent is loaded dynamically.
 79 	 *
 80 	 * @param agentArguments
 81 	 *            the arguments to the agent, in this case the path to the config file.
 82 	 * @param instrumentation
 83 	 *            the {@link Instrumentation} instance, provided to us by the kind JVM.
 84 	 */
 85 	public static void agentmain(String agentArguments, Instrumentation instrumentation) {
 86 		printVersion();
 87 		getLogger().fine(&quot;Starting from agentmain&quot;); //$NON-NLS-1$
 88 		loadedDynamically = true;
 89 		initializeAgent(agentArguments, instrumentation);
 90 	}
 91 
 92 	/**
 93 	 * This method can be used to initialize the BCI agent when using it as a stand alone library.
 94 	 *
 95 	 * @param configuration
 96 	 *            the configuration options, as XML. The stream will be fully read, but not closed.
<span class="line-modified"> 97 	 *            An empty configuration will be used if this argument is &lt;code&gt;null&lt;/&gt;.</span>
 98 	 * @param instrumentation
 99 	 *            the {@link Instrumentation} instance.
100 	 * @throws XMLStreamException
101 	 *             if the configuration could not be read.
102 	 */
103 	public static void initializeAgent(InputStream configuration, Instrumentation instrumentation)
104 			throws XMLStreamException {
105 		TransformRegistry registry =
106 				configuration != null ? DefaultTransformRegistry.from(configuration) : DefaultTransformRegistry.empty();
107 		instrumentation.addTransformer(new Transformer(registry), true);
108 		AgentManagementFactory.createAndRegisterAgentControllerMBean(instrumentation, registry);
109 		if (loadedDynamically) {
110 			retransformClasses(registry.getClassNames(), instrumentation);
111 		}
112 	}
113 
114 	/**
115 	 * @return the Logger to use for agent related status information.
116 	 */
117 	public static Logger getLogger() {
</pre>
</td>
<td>
<hr />
<pre>
 77 	/**
 78 	 * This method is run when the agent is loaded dynamically.
 79 	 *
 80 	 * @param agentArguments
 81 	 *            the arguments to the agent, in this case the path to the config file.
 82 	 * @param instrumentation
 83 	 *            the {@link Instrumentation} instance, provided to us by the kind JVM.
 84 	 */
 85 	public static void agentmain(String agentArguments, Instrumentation instrumentation) {
 86 		printVersion();
 87 		getLogger().fine(&quot;Starting from agentmain&quot;); //$NON-NLS-1$
 88 		loadedDynamically = true;
 89 		initializeAgent(agentArguments, instrumentation);
 90 	}
 91 
 92 	/**
 93 	 * This method can be used to initialize the BCI agent when using it as a stand alone library.
 94 	 *
 95 	 * @param configuration
 96 	 *            the configuration options, as XML. The stream will be fully read, but not closed.
<span class="line-modified"> 97 	 *            An empty configuration will be used if this argument is &lt;code&gt;null&lt;/code&gt;.</span>
 98 	 * @param instrumentation
 99 	 *            the {@link Instrumentation} instance.
100 	 * @throws XMLStreamException
101 	 *             if the configuration could not be read.
102 	 */
103 	public static void initializeAgent(InputStream configuration, Instrumentation instrumentation)
104 			throws XMLStreamException {
105 		TransformRegistry registry =
106 				configuration != null ? DefaultTransformRegistry.from(configuration) : DefaultTransformRegistry.empty();
107 		instrumentation.addTransformer(new Transformer(registry), true);
108 		AgentManagementFactory.createAndRegisterAgentControllerMBean(instrumentation, registry);
109 		if (loadedDynamically) {
110 			retransformClasses(registry.getClassNames(), instrumentation);
111 		}
112 	}
113 
114 	/**
115 	 * @return the Logger to use for agent related status information.
116 	 */
117 	public static Logger getLogger() {
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>