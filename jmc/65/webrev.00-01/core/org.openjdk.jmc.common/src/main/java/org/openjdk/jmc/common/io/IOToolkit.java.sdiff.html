<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff core/org.openjdk.jmc.common/src/main/java/org/openjdk/jmc/common/io/IOToolkit.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>core/org.openjdk.jmc.common/src/main/java/org/openjdk/jmc/common/io/IOToolkit.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
262 		return MAGIC_GZ.clone();
263 	}
264 
265 	/**
266 	 * Returns the magic bytes for identifying Zip. This is a defensive copy. It&#39;s up to the user to
267 	 * cache this to avoid excessive allocations.
268 	 * 
269 	 * @return a copy of the magic bytes for Zip.
270 	 */
271 	public static int[] getZipMagic() {
272 		return MAGIC_ZIP.clone();
273 	}
274 
275 	/**
276 	 * Returns the magic bytes for identifying LZ4. This is a defensive copy. It&#39;s up to the user to
277 	 * cache this to avoid excessive allocations.
278 	 * 
279 	 * @return a copy of the magic bytes for LZ4.
280 	 */
281 	public static int[] getLz4Magic() {
<span class="line-modified">282 		return MAGIC_ZIP.clone();</span>
283 	}
284 
285 	/**
286 	 * Checks if the file is compressed in a way compatible with
287 	 * {@link #openUncompressedStream(File)}.
288 	 *
289 	 * @param file
290 	 *            the file to examine
291 	 * @return {@code true} if the file is compressed in a manner which can be uncompressed by
292 	 *         {@link #openUncompressedStream(File)}, {@code false} otherwise
293 	 * @throws IOException
294 	 *             if an error occurred when trying to read from the file
295 	 */
296 	public static boolean isCompressedFile(File file) throws IOException {
297 		try (BufferedInputStream is = new BufferedInputStream(new FileInputStream(file), MAGIC_ZIP.length + 1)) {
298 			is.mark(MAGIC_ZIP.length + 1);
299 			if (hasMagic(is, MAGIC_GZ)) {
300 				return true;
301 			}
302 			is.reset();
</pre>
</td>
<td>
<hr />
<pre>
262 		return MAGIC_GZ.clone();
263 	}
264 
265 	/**
266 	 * Returns the magic bytes for identifying Zip. This is a defensive copy. It&#39;s up to the user to
267 	 * cache this to avoid excessive allocations.
268 	 * 
269 	 * @return a copy of the magic bytes for Zip.
270 	 */
271 	public static int[] getZipMagic() {
272 		return MAGIC_ZIP.clone();
273 	}
274 
275 	/**
276 	 * Returns the magic bytes for identifying LZ4. This is a defensive copy. It&#39;s up to the user to
277 	 * cache this to avoid excessive allocations.
278 	 * 
279 	 * @return a copy of the magic bytes for LZ4.
280 	 */
281 	public static int[] getLz4Magic() {
<span class="line-modified">282 		return MAGIC_LZ4.clone();</span>
283 	}
284 
285 	/**
286 	 * Checks if the file is compressed in a way compatible with
287 	 * {@link #openUncompressedStream(File)}.
288 	 *
289 	 * @param file
290 	 *            the file to examine
291 	 * @return {@code true} if the file is compressed in a manner which can be uncompressed by
292 	 *         {@link #openUncompressedStream(File)}, {@code false} otherwise
293 	 * @throws IOException
294 	 *             if an error occurred when trying to read from the file
295 	 */
296 	public static boolean isCompressedFile(File file) throws IOException {
297 		try (BufferedInputStream is = new BufferedInputStream(new FileInputStream(file), MAGIC_ZIP.length + 1)) {
298 			is.mark(MAGIC_ZIP.length + 1);
299 			if (hasMagic(is, MAGIC_GZ)) {
300 				return true;
301 			}
302 			is.reset();
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>