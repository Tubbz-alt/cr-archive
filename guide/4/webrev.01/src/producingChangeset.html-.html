<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old src/producingChangeset.html</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
  <body>
    <pre>
  1 &lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot;?&gt;
  2 &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;
  3     &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
  4 
  5 &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
  6 &lt;head&gt;
  7   &lt;title&gt;The OpenJDK Developers&amp;apos; Guide: Producing a Changeset&lt;/title&gt;
  8   &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;guidestyle.css&quot; /&gt;
  9 &lt;/head&gt;
 10 
 11 &lt;body&gt;
 12 
 13 &lt;h1&gt;Producing a Changeset&lt;/h1&gt;
 14 
 15 &lt;div class=&quot;version&quot;&gt;version 0.02&lt;/div&gt;
 16 &lt;div class=&quot;NavBit&quot;&gt;
 17   &lt;a href=&quot;jckAcquisition.html&quot;&gt;&amp;laquo;&amp;nbsp;Previous&lt;/a&gt;&amp;nbsp;&amp;bull;&amp;nbsp;&lt;a href=&quot;index.html&quot;&gt;TOC&lt;/a&gt;&amp;nbsp;&amp;bull;&amp;nbsp;&lt;a href=&quot;next.html&quot;&gt;Next&amp;nbsp;&amp;raquo;&lt;/a&gt;
 18 &lt;/div&gt;
 19 
 20 &lt;p&gt; This section is confined to the actual Mercurial mechanics required to
 21 produce a changeset: &lt;/p&gt;
 22 
 23 &lt;ul&gt;
 24 &lt;li&gt;&lt;a href=&quot;#jdkUserName&quot;&gt;Setting a JDK User Name&lt;/a&gt; reminds the user to
 25     confirm proper configuration. &lt;/li&gt;
 26 &lt;li&gt;&lt;a href=&quot;#create&quot;&gt;Creating&lt;/a&gt; includes instructions for the required
 27     format of a changeset comment and describes how to commit files to a
 28     changeset. &lt;/li&gt;
 29 &lt;li&gt;&lt;a href=&quot;#merge&quot;&gt;Merging&lt;/a&gt; describes how to pull changes from a parent
 30     forest or clone and incorporate the changes into the current working set of
 31     files. &lt;/li&gt;
 32 &lt;li&gt;&lt;a href=&quot;#push&quot;&gt;Pushing&lt;/a&gt; covers configuring ssh, setting
 33     the &lt;code&gt;default-push&lt;/code&gt; path, and pushing changesets. &lt;/li&gt;
 34 &lt;/ul&gt;
 35 
 36 &lt;h2&gt;&lt;a name=&quot;jdkUserName&quot;&gt;Setting a JDK User Name&lt;/a&gt;&lt;/h2&gt;
 37 
 38 &lt;p&gt; Ensure that &lt;em&gt;ui.username&lt;/em&gt; has a value in the &lt;code&gt;~/.hgrc&lt;/code&gt;
 39 file as described in &lt;a href=&quot;repositories.html#verify&quot;&gt;Verifying the
 40 Configuration&lt;/a&gt;. &lt;/p&gt;
 41 
 42 &lt;h2&gt;&lt;a name=&quot;create&quot;&gt;Creating&lt;/a&gt;&lt;/h2&gt;
 43 
 44 &lt;p&gt; The timing for creating a changeset is important. Creating the changeset
 45 long before it gets pushed into the parent repository may require complex
 46 merges.  If a changeset is created before sufficient review or testing, a
 47 rollback may be required and a new changeset may be required to correct
 48 previous mistakes. The &lt;a
 49 href=&quot;http://hgbook.red-bean.com/hgbookch12.html#x16-26500012&quot;&gt;mq extension&lt;/a&gt;
 50 is recommended for managing changes before they become committed to a
 51 changeset. &lt;/p&gt;
 52 
 53 &lt;p&gt; In the examples below, the script &lt;code&gt;common/bin/hgforest.sh&lt;/code&gt;
 54 can be used to apply the Mercurial command to all the repositories in the
 55 forest. So when you see &lt;code&gt;&lt;i&gt;&lt;b&gt;hg&lt;/b&gt;&lt;/i&gt;&lt;/code&gt;, if you are dealing with
 56 one repository, just use &quot;&lt;code&gt;hg&lt;/code&gt;&quot;, if it&#39;s a forest, use &quot;&lt;code&gt;sh
 57 common/bin/hgforest.sh&lt;/code&gt;&quot;. &lt;/p&gt;
 58     
 59 &lt;p&gt; Each repository in the forest is managed independently.  After editing
 60 files in the individual cloned repositories of the forest, the &lt;code&gt;hg
 61 status&lt;/code&gt; command may be used to see the changes in a single
 62 repository. &lt;/p&gt;
 63 
 64 &lt;blockquote&gt;&lt;pre&gt;
 65 $ hg root
 66 /u/iris/sandbox/box
 67 $ hg status
 68 ? duke/images/DukeTubbingSmall.png
 69 $ hg add duke/images/DukeTubbingSmall.png
 70 $ hg status
 71 A duke/images/DukeTubbingSmall.png
 72 &lt;/pre&gt;&lt;/blockquote&gt;
 73 
 74 &lt;p&gt; To see changes made to the repositories use
 75 &lt;code&gt;&lt;i&gt;&lt;b&gt;hg&lt;/b&gt;&lt;/i&gt; status&lt;/code&gt;: &lt;/p&gt;
 76 
 77 &lt;blockquote&gt;&lt;pre&gt;
 78 $ &lt;code&gt;&lt;i&gt;&lt;b&gt;hg&lt;/b&gt;&lt;/i&gt;&lt;/code&gt; status
 79 [.]
 80 A duke/images/DukeTubbingSmall.png
 81 &lt;/pre&gt;&lt;/blockquote&gt;
 82 
 83 &lt;p&gt; In this example, the repository was previously cloned as described in &lt;a
 84 href=&quot;repositories.html#cloneSandbox&quot;&gt;Cloning a Sandbox Repository&lt;/a&gt;.  A new
 85 file &lt;code&gt;DukeTubbingSmall.png&lt;/code&gt; was added to a new subdirectory. &lt;/p&gt;
 86 
 87 &lt;h3&gt;&lt;a name=&quot;changesetComment&quot;&gt;Formatting a Changeset Comment&lt;/a&gt;&lt;/h3&gt;
 88 
 89 &lt;p&gt; A single change is described by a block of text of the following form: &lt;/p&gt;
 90 
 91 &lt;blockquote&gt;&lt;pre&gt;
 92 &amp;lt;bugid&amp;gt;: &amp;lt;synopsis-of-symptom&amp;gt;
 93 Summary: &amp;lt;summary-of-code-change&amp;gt;
 94 Reviewed-by: &amp;lt;reviewer&amp;gt;+
 95 Contributed-by: &amp;lt;contributor-email&amp;gt;
 96 &lt;/pre&gt;&lt;/blockquote&gt;
 97 
 98 &lt;p&gt; There may be more than one &lt;em&gt;bugid&lt;/em&gt; line, but there must be at least
 99 one. &lt;/p&gt;
100 
101 &lt;p&gt; The &lt;em&gt;summary&lt;/em&gt; line is optional, but authors are strongly encouraged
102 to include one if the nature of the change is not obvious from the synopsis.
103 It&#39;s just one line, meant to give the reader a clue as to how the code changed.
104 A more complete description of the change belongs in the bug report. &lt;/p&gt;
105 
106 &lt;p&gt; A &lt;em&gt;reviewed-by&lt;/em&gt; line is required.  Reviewers must have the ability
107 to deal with any adverse consequences of the change, and so must themselves be
108 authors.  They are therefore identified by their OpenJDK usernames rather than
109 full e-mail addresses. &lt;/p&gt;
110 
111 &lt;p&gt; The &lt;em&gt;contributed-by&lt;/em&gt; line is optional.  If present, it is a
112 list of comma-separated email addresses.  It should be included only
113 when the author or authors of the change do not have commit rights to
114 the target repository and thus would not otherwise receive
115 acknowledgment. &lt;/p&gt;
116 
117 &lt;p&gt; There will be exceptions for merge changesets, tag changesets, etc. &lt;/p&gt;
118 
119 &lt;p&gt; Example: &lt;/p&gt;
120 
121 &lt;blockquote&gt;&lt;pre&gt;
122 1234567: NPE thrown on FileInputStream(&quot;&quot;)
123 Summary: Rewrite precondition-checking code in io.c
124 Reviewed-by: mr
125 Contributed-by: Ben Bitdiddle &amp;lt;ben at bits.org&amp;gt;
126 &lt;/pre&gt;&lt;/blockquote&gt;
127 
128 &lt;p&gt; If a changeset contains multiple unrelated changes (this is frowned upon,
129 but may happen from time to time) then its comment will contain multiple blocks
130 of the above form, separated by blank lines. &lt;/p&gt;
131 
132 &lt;p&gt; The required format of the comments will be enforced whenever the changeset
133 is pushed into the JDK master or team repository forests.  Other
134 Projects may copy these conventions, adopt some other conventions, or have no
135 conventions, depending upon their goals. &lt;/p&gt;
136 
137 &lt;h3&gt;&lt;a name=&quot;committing&quot;&gt;Committing a Changeset&lt;/a&gt;&lt;/h3&gt;
138 
139 &lt;p&gt; The following commands commit all of the changes in a repository to a
140 changeset. &lt;/p&gt;
141 
142 &lt;blockquote&gt;&lt;pre&gt;
143 $ cat ../message
144 1111111: Missing Duke gif
145 Summary:  Add missing file
146 Reviewed-by: iag
147 $ hg commit -l ../message
148 $ hg toutgoing
149 [.]
150 comparing with http://hg.openjdk.java.net/sandbox/box
151 searching for changes
152 changeset:   23:fb12953f3a35
153 tag:         tip
154 user:        iris
155 date:        Wed Dec 12 21:05:59 2007 -0800
156 summary:     1111111: Missing Duke gif
157 &lt;/pre&gt;&lt;/blockquote&gt;
158 
159 &lt;h2&gt;&lt;a name=&quot;merge&quot;&gt;Merging&lt;/a&gt;&lt;/h2&gt;
160 
161 &lt;p&gt; It is often necessary to merge local changes with those made in the parent
162 repositories.  The first step in a merge process is to retrieve (or pull) the
163 collection of changesets which have been pushed since the last merge or initial
164 clone.  If there if there are merge conflicts, then they must be resolved.
165 &lt;a href=&quot;http://hgbook.red-bean.com/hgbookch3.html#x7-530003&quot;&gt;Chapter 3&lt;/a&gt; of
166 the Mercurial book contains detailed information on the merging process. &lt;/p&gt;
167 
168 &lt;p&gt; There are two basic ways to update the working set files in the
169 repositories: &lt;/p&gt;
170 
171 &lt;dl&gt;
172 &lt;dt&gt;Option 1: &lt;code&gt;&lt;i&gt;&lt;b&gt;hg&lt;/b&gt;&lt;/i&gt; pull&lt;/code&gt;&lt;/dt&gt;
173 &lt;dd&gt;One way to merge the parent repository with the working set of files is to
174 use &lt;code&gt;&lt;i&gt;&lt;b&gt;hg&lt;/b&gt;&lt;/i&gt; pull&lt;/code&gt; all by itself.
175 This option allows merging off-line or at a later time. 
176 
177 &lt;blockquote&gt;&lt;pre&gt;
178 $ &lt;code&gt;&lt;i&gt;&lt;b&gt;hg&lt;/b&gt;&lt;/i&gt;&lt;/code&gt; pull
179 [.]
180 pulling from http://hg.openjdk.java.net/sandbox/box
181 searching for changes
182 no changes found
183 &lt;/pre&gt;&lt;/blockquote&gt;
184 
185 &lt;p&gt; In Mercurial, pulling changesets will not update or merge into the working
186 set of files.  To update the clone,
187 run &lt;code&gt;&lt;i&gt;&lt;b&gt;hg&lt;/b&gt;&lt;/i&gt; update&lt;/code&gt;.  If the update
188 reports conflicts,
189 run &lt;code&gt;&lt;i&gt;&lt;b&gt;hg&lt;/b&gt;&lt;/i&gt; merge&lt;/code&gt; to resolve them. &lt;/p&gt;
190 &lt;/dd&gt;
191 
192 &lt;dt&gt;Option 2: &lt;code&gt;&lt;i&gt;&lt;b&gt;hg&lt;/b&gt;&lt;/i&gt; fetch&lt;/code&gt;&lt;/dt&gt;
193 &lt;dd&gt;Alternatively,
194 use &lt;code&gt;&lt;i&gt;&lt;b&gt;hg&lt;/b&gt;&lt;/i&gt; fetch&lt;/code&gt; to pull the changes, update
195 the working set files, and create simple merge changesets as necessary.
196 The fetch extension is distributed with Mercurial but needs to be enabled.
197 Edit the &lt;code&gt;.hgrc&lt;/code&gt; to include the following entries:
198 
199 &lt;blockquote&gt;&lt;pre&gt;
200 [extensions]
201 fetch=
202 &lt;/pre&gt;&lt;/blockquote&gt;
203 
204 &lt;p&gt; Once the fetch extension has been enabled,
205     &lt;code&gt;&lt;i&gt;&lt;b&gt;hg&lt;/b&gt;&lt;/i&gt; fetch&lt;/code&gt; may be
206 invoked as follows: &lt;/p&gt;
207 
208 &lt;blockquote&gt;&lt;pre&gt;
209 $ &lt;code&gt;&lt;i&gt;&lt;b&gt;hg&lt;/b&gt;&lt;/i&gt;&lt;/code&gt; fetch
210 [.]
211 pulling from http://hg.openjdk.java.net/sandbox/box
212 searching for changes
213 no changes found
214 &lt;/pre&gt;&lt;/blockquote&gt;&lt;/dd&gt;
215 
216 &lt;/dl&gt;
217 
218 &lt;blockquote&gt;&lt;hr /&gt;
219 
220 &lt;p&gt; Actual file merging will be done with the selected Mercurial merging tool
221 see &lt;a href=&quot;http://www.selenic.com/mercurial/wiki/index.cgi/MergeProgram&quot;&gt;
222 MergeProgram&lt;/a&gt; for the details on how to define the selected merge tool in
223 &lt;code&gt; ~/.hgrc&lt;/code&gt;. &lt;/p&gt;
224 
225 &lt;hr /&gt;&lt;/blockquote&gt;
226 
227 &lt;h2&gt;&lt;a name=&quot;push&quot;&gt;Pushing&lt;/a&gt;&lt;/h2&gt;
228 
229 &lt;p&gt; In order to push changesets into the parent repository, some additional
230 configuration is required.  The following sections describe the operations that
231 will be performed by users with push access. &lt;/p&gt;
232 
233 &lt;h3&gt;&lt;a name=&quot;sshGen&quot;&gt;Generating an SSH Key&lt;/a&gt;&lt;/h3&gt;
234 
235 &lt;p&gt; All pushes require an ssh key which must be installed on the Mercurial
236 server. The &lt;code&gt;ssh-keygen&lt;/code&gt; command generates an ssh key.
237 The &lt;code&gt;-b&lt;/code&gt; option overrides the default number of bits for the key.
238 Allow a few minutes to generate a 4096 bit key; a key of at least 2048 bits is
239 recommended.  While it is possible to use ssh without a passphrase, this
240 is &lt;strong&gt;strongly&lt;/strong&gt; discouraged.  Empty or insecure passphrases may
241 be reset using &lt;code&gt;ssh-keygen -p&lt;/code&gt;; this does not change the keys. &lt;/p&gt;
242 
243 &lt;blockquote&gt;&lt;pre&gt;
244 $ ssh-keygen -t rsa -b 4096
245 Enter file in which to save the key(/u/iris/.ssh/id_rsa):
246 Generating public/private rsa key pair.
247 Enter passphrase(empty for no passphrase):
248 Enter same passphrase again:
249 Your identification has been saved in /u/iris/.ssh/id_rsa.
250 Your public key has been saved in /u/iris/.ssh/id_rsa.pub.
251 The key fingerprint is:
252 md5 4096 c2:b7:00:e6:4b:da:ea:ec:32:30:f5:bd:12:26:04:83 iris@duke
253 The key&#39;s randomart image is:
254 +--[ RSA 4096]----+
255 |    E.=          |
256 |     . *         |
257 |      o .   .    |
258 |         + o     |
259 |        S + .    |
260 |       .   + .   |
261 |        + + +..  |
262 |       * . oo+.  |
263 |      o . .o..   |
264 +-----------------+
265 &lt;/pre&gt;&lt;/blockquote&gt;
266 
267 &lt;p&gt; The &lt;code&gt;~/.ssh/id_rsa.pub&lt;/code&gt; is a text file containing the public
268 ssh key.  This file should be mailed as an attachment along with the JDK
269 username to 
270 &lt;a href=&quot;mailto:keys(at)openjdk.java.net&quot;&gt;keys(at)openjdk.java.net&lt;/a&gt;.  An
271 administrator will install your key on the server and notify you on
272 completion.  This process may take a couple of days. &lt;/p&gt;
273 
274 &lt;blockquote&gt;&lt;hr /&gt;
275 
276 &lt;p&gt; Users behind a SOCKS firewall can add a directive to the
277 &lt;code&gt;~/.ssh/config&lt;/code&gt; file to connect to the OpenJDK Mercurial server: &lt;/p&gt;
278 
279 &lt;blockquote&gt;&lt;pre&gt;
280 Host *.openjdk.java.net
281 ProxyCommand /usr/lib/ssh/ssh-socks5-proxy-connect -h [socks_proxy_address] %h %p
282 &lt;/pre&gt;&lt;/blockquote&gt;
283 
284 &lt;p&gt; See the &lt;code&gt;ssh-socks5-proxy-connect&lt;/code&gt; man page and
285 &lt;code&gt;ssh-config&lt;/code&gt; man page for more information.  Other systems may
286 require proxy access via other programs.  Some Linux distributions provide the
287 &lt;code&gt;corkscrew&lt;/code&gt; package which provides ssh access through HTTP
288 proxies. &lt;/p&gt;
289 
290 &lt;p&gt; &lt;strong&gt;It is recommended that all users check with their network
291 administrators before installing any kind of TCP forwarding tool on their
292 network.  Many corporations and institutions have strict security policies in
293 this area.&lt;/strong&gt; &lt;/p&gt;
294 
295 &lt;hr /&gt;&lt;/blockquote&gt;
296 
297 &lt;h3&gt;&lt;a name=&quot;sshUse&quot;&gt;SSH Shortcuts&lt;/a&gt;&lt;/h3&gt;
298 
299 &lt;p&gt; The following section provides some tips for improving the usability of
300 ssh-related operations. &lt;/p&gt;
301 
302 &lt;ul&gt;
303 &lt;li&gt; &lt;em&gt;Using SSH in multiple shells&lt;/em&gt;
304 
305 &lt;p&gt; To avoid having to constantly type in the passphrase, use the ssh-agent on
306 your local client to cache your pashphrase:
307 &lt;/p&gt; 
308 
309 &lt;blockquote&gt;&lt;pre&gt;
310 $ eval `ssh-agent`
311 Agent pid 17450
312 $ ssh-add
313 Enter passphrase for /u/iris/.ssh/id_rsa:
314 Identity added: /u/iris/.ssh/id_rsa(/u/iris/.ssh/id_rsa)
315 &lt;/pre&gt;&lt;/blockquote&gt;
316 
317 &lt;p&gt; The same ssh-agent process can be shared with multiple shells. There are
318 various ways to do this.  Bash users can accomplish this with the following
319 code in &lt;code&gt;.bashrc&lt;/code&gt;: &lt;/p&gt;
320 
321 &lt;blockquote&gt;&lt;pre&gt;
322 if [ &quot;$PS1&quot; -a -d $HOME/.ssh ]; then
323   if [ &quot;x$SSH_AUTH_SOCK&quot; = x ]; then
324     eval `ssh-agent | grep -v &#39;echo Agent pid&#39;`
325     ssh-add
326     trap &quot;echo Killing SSH agent $SSH_AGENT_PID; kill $SSH_AGENT_PID&quot; 0
327   fi
328 fi
329 &lt;/pre&gt;&lt;/blockquote&gt;
330 
331 &lt;p&gt; For secure operation, only start an ssh-agent when needed and kill it off
332 when the shell completes.  Test this by running &lt;code&gt;ssh `hostname` echo
333 hello&lt;/code&gt; multiple times. &lt;/p&gt;&lt;/li&gt;
334 
335 &lt;li&gt; &lt;em&gt;Logging in without a password&lt;/em&gt;
336 
337 &lt;p&gt; To avoid needing to constantly type in the password, add the public key to
338 the list of ssh authorized keys. &lt;/p&gt;
339 
340 &lt;blockquote&gt;&lt;pre&gt;
341 $ cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys
342 $ chmod 600 ~/.ssh/authorized_keys
343 &lt;/pre&gt;&lt;/blockquote&gt;&lt;/li&gt;
344 
345 &lt;/ul&gt;
346 
347 &lt;h3&gt;&lt;a name=&quot;defaultPath&quot;&gt;Setting the &lt;code&gt;default-push&lt;/code&gt; Path to the
348 Server Repositories&lt;/a&gt;&lt;/h3&gt;
349 
350 &lt;!-- 
351 &lt;dl&gt;
352 &lt;dt&gt;Option 1: Add default-push path to every &lt;code&gt;.hg/hgrc&lt;/code&gt;&lt;/dt&gt;
353 &lt;dd&gt;
354 --&gt;
355 
356 &lt;p&gt; This is the typical development model: &lt;/p&gt;
357 
358 &lt;p style=&quot;text-align:center;&quot;&gt;
359 &lt;img src=&quot;devModel.gif&quot;
360 alt=&quot;Diagram of server repos and user&#39;s clone&quot;/&gt;
361 &lt;/p&gt;
362 
363 &lt;p&gt; Changesets need to be &lt;em&gt;pushed&lt;/em&gt; via ssh to the read/write repository
364 which resides on the OpenJDK Mercurial server.  The easiest way to do this is
365 to have each repository define the &quot;default-push&quot; path in every
366 repository&#39;s &lt;code&gt;.hg/hgrc&lt;/code&gt; file.  The &lt;code&gt;.hg/hgrc&lt;/code&gt; file in is
367 not a managed file-- it is private to the repository.  The following example
368 defines the &quot;default&quot; and &quot;default-push&quot; paths for clones of the jdk9/dev team
369 repository. &lt;/p&gt;
370 
371 &lt;blockquote&gt;&lt;pre&gt;
372 [paths]
373 default = http://hg.openjdk.java.net/jdk9/dev
374 default-push = ssh://&amp;lt;JDK_username&amp;gt;@hg.openjdk.java.net/jdk9/dev
375 &lt;/pre&gt;&lt;/blockquote&gt;
376 
377 &lt;p&gt; Given a &lt;code&gt;JDK_username&lt;/code&gt; this simple script will attempt to do
378 this for all the repositories: &lt;/p&gt;
379 
380 &lt;blockquote&gt;&lt;pre&gt;
381 #!/bin/sh
382 username=$1
383 hgdirs=&quot;`find . -type d -name .hg`&quot;
384 for i in ${hgdirs}; do
385   d=&quot;`dirname ${i}`&quot;
386   defpush=&quot;`(cd ${d} &amp;amp;&amp;amp; hg paths default-push 2&gt; /dev/null)`&quot;
387   if [ &quot;${defpush}&quot; = &quot;&quot; ] ; then
388     defpath=&quot;`(cd ${d} &amp;amp;&amp;amp; hg paths default 2&gt; /dev/null)`&quot;
389     if [ &quot;${defpath}&quot; != &quot;&quot; ] ; then
390       defpush=&quot;`echo ${defpath} | sed -e &#39;s@http://\([^/]*/[^/]*/[^/]*\)/\(.*\)@ssh://$username\@\1/\2@&#39;`&quot;
391       cp ${i}/hgrc ${i}/hgrc.orig
392       echo &quot;default-push = ${defpush}&quot; &gt;&gt; ${i}/hgrc
393       echo &quot;Added default-push: ${defpush}&quot;
394     fi
395   fi
396 done
397 for i in ${hgdirs}; do
398   d=&quot;`dirname ${i}`&quot;
399   echo &quot;(cd ${d} &amp;amp;&amp;amp; hg paths)&quot;
400   (cd ${d} &amp;amp;&amp;amp; hg paths)
401 done
402 exit 0
403 &lt;/pre&gt;&lt;/blockquote&gt;
404 
405 &lt;!--
406 
407 &lt;dt&gt;Option 2: Use the &lt;code&gt;defpath&lt;/code&gt; Extension&lt;/dt&gt;
408 &lt;dd&gt;Another way to setup the default-push path is to use the Mercurial defpath
409     extension, which is available in /java/jdk/lib/hgext/defpath.py. To enable
410     this extension add the following to the &lt;code&gt;~/hgrc&lt;/code&gt; file:
411 
412 &lt;blockquote&gt;&lt;pre&gt;
413 [extensions]
414 defpath = /java/jdk/lib/hgext/defpath.py  # Or the pathname of a local copy
415 &lt;/pre&gt;&lt;/blockquote&gt;
416 
417     &lt;p&gt; The defpath extension actually adds two new Mercurial subcommands:
418     defpath to operate upon a single repository and fdefpath for an entire
419     forest. hg help defpath or hg help fdefpath will tell you more. For a
420     freshly cloned open/closed forest the command you probably want is &lt;/p&gt;
421 
422 &lt;blockquote&gt;&lt;pre&gt;
423 $ hg fdefpath -dgv
424 &lt;/pre&gt;&lt;/blockquote&gt;
425 
426     &lt;p&gt; Be sure to try this with the -n flag first to see if it will do what
427     you actually expect. If your OpenJDK username differs from your local
428     username then add -u name to the command line. &lt;/p&gt;
429 
430     &lt;p&gt; The defpath extension defines the default-push path, which is the path
431     that Mercurial uses by default in push operations.  &lt;/p&gt;&lt;/dd&gt;  
432 
433 &lt;/dl&gt;
434 --&gt;
435 
436 &lt;h3&gt;&lt;a name=&quot;pushChangeset&quot;&gt;Pushing a Changeset&lt;/a&gt;&lt;/h3&gt;
437 
438 &lt;p&gt; &lt;a href=&quot;http://openjdk.java.net/bylaws#committer&quot;&gt;Committers&lt;/a&gt;
439 can use the &lt;code&gt;&lt;i&gt;&lt;b&gt;hg&lt;/b&gt;&lt;/i&gt; push&lt;/code&gt; command to propagate changesets
440 into the repositories. &lt;/p&gt; 
441 
442 &lt;p&gt; Most developers will only find a need to create changesets in one or two
443 repositories. However, it is important that before any changesets are pushed,
444 the corresponding forest pull and merge with the destination forest be
445 performed; otherwise there is a risk of breaking the build. &lt;/p&gt;
446 
447 &lt;blockquote&gt;&lt;pre&gt;
448 $ &lt;code&gt;&lt;i&gt;&lt;b&gt;hg&lt;/b&gt;&lt;/i&gt;&lt;/code&gt; push
449 &lt;/pre&gt;&lt;/blockquote&gt;
450 
451 &lt;p&gt; After the push has been accepted, an automatic e-mail notification will be
452 sent to the &lt;a href=&quot;http://mail.openjdk.java.net&quot;&gt;mailing list&lt;/a&gt; associated
453 with the repository.  In most cases notifications are sent to the
454 Project&#39;s &lt;em&gt;-dev&lt;/em&gt; mailing list.  Some Projects with high
455 traffic &lt;em&gt;-dev&lt;/em&gt; mailing lists use a dedicated &lt;em&gt;-changes&lt;/em&gt; list for
456 notifications. &lt;/p&gt;
457 
458 &lt;blockquote&gt;&lt;hr /&gt;
459 
460 &lt;p&gt; Who has push access? &lt;/p&gt;
461 
462 &lt;p&gt; All of a Project&#39;s
463 &lt;a href=&quot;http://openjdk.java.net/bylaws#committer&quot;&gt;Committers&lt;/a&gt; can push 
464 to all of the the Project&#39;s repositories. &lt;/p&gt;
465 
466 &lt;p&gt; Some Projects may chose to restrict the set of Committers with push to key
467 repositories.  For instance, JDK Release Projects restrict push access to
468 MASTER repositories to Committers who are either integrators or members of the
469 Release Engineering Team. &lt;/p&gt;
470 
471 &lt;p&gt; Refer to the 
472 &lt;a href=&quot;../projects/index.html#project-committer&quot;&gt;Nominating a Contributor
473 or Author to be a Committer&lt;/a&gt; section of the 
474 &lt;a href=&quot;../projects/index.html&quot;&gt;Project&lt;/a&gt; page for information about
475 becoming a Project Committer. &lt;/p&gt;
476 
477 &lt;hr /&gt;&lt;/blockquote&gt;
478 
479 &lt;div class=&quot;version&quot;&gt;version 0.02&lt;/div&gt;
480 &lt;div class=&quot;NavBit&quot;&gt;
481   &lt;a href=&quot;jckAcquisition.html&quot;&gt;&amp;laquo;&amp;nbsp;Previous&lt;/a&gt;&amp;nbsp;&amp;bull;&amp;nbsp;&lt;a href=&quot;index.html&quot;&gt;TOC&lt;/a&gt;&amp;nbsp;&amp;bull;&amp;nbsp;&lt;a href=&quot;next.html&quot;&gt;Next&amp;nbsp;&amp;raquo;&lt;/a&gt;
482 &lt;/div&gt;
483 
484 &lt;/body&gt;
485 &lt;/html&gt;
    </pre>
  </body>
</html>