<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/repositories.md</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center><a href="producingChangeset.md.sdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="tClone.md.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/repositories.md</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 98 Mercurial is a free, cross-platform, distributed source management tool. Source
 99 bundles and binary packages for Mercurial are available at
100 [https://www.selenic.com/mercurial/wiki/index.cgi](https://www.selenic.com/mercurial/wiki/index.cgi/Mercurial).
101 The OpenJDK repositories recommend installation of Mercurial 2.6.3 (or later).
102 A Mercurial installation is sufficient to clone a repository. Contributors who
103 wish to submit changes will need some additional configuration as described
104 below.
105 
106 Some Projects may recommend additional tools or scripts that help with
107 repository manipulation and code development. For instance, in JDK 9, the
108 utility script `common/bin/hgforest.sh` may be
109 used to apply commands to all the repositories in the
110 [forest](glossary.html#forest). Popular extensions for OpenJDK developers include
111 [jcheck](https://openjdk.java.net/projects/code-tools/jcheck/),
112 [trees](https://openjdk.java.net/projects/code-tools/trees/), and
113 [Mercurial Queues](http://hgbook.red-bean.com/read/managing-change-with-mercurial-queues.html)
114 (mq). Note that `trees` is enabled on the OpenJDK Mercurial server.
115 
116 Create and edit the `~/.hgrc` file to minimally contain the following entry:
117 
<span class="line-modified">118 &gt;     [ui]</span>
<span class="line-modified">119 &gt;     username = &lt;openjdk_username&gt;</span>
120 
121 _openjdk\_username_ is a plain lowercase, alphanumeric
122 token (not an e-mail address) with twelve characters or less. The first
123 character should be alphabetic. This username will be publicly visible in all
124 Mercurial changeset logs. It will be used to verify that the changeset author
125 is at least an
126 [Author](https://openjdk.java.net/bylaws#author)
127 for the Project and that the person pushing the changeset is at least a
128 [Committer](https://openjdk.java.net/bylaws#committer).
129 It is recommended that the _openjdk\_username_ be
130 somehow related to the Author&#39;s full name, such as the first character of the
131 Author&#39;s first name followed by the Author&#39;s last name. Refer to the
132 [Becoming an Author](../projects/index.html#project-author) section of the
133 [Project](../projects/index.html) page for
134 additional information.
135 
136 An alphabetical list of all of the assigned
137 _openjdk\_usernames_ may be found on the
138 [OpenJDK people](https://db.openjdk.java.net/people) list. The
139 [Census](../census) shows the structure of the OpenJDK Community.
140 
141 #### Verifying the Configuration
142 
143 After installing and configuring Mercurial, validate the configuration using
144 the following steps.
145 
146 #. Verify that Mercurial is version 2.6.3 (or newer).
147 
<span class="line-modified">148    &gt;     $ hg version</span>
<span class="line-modified">149    &gt;     Mercurial Distributed SCM (version 2.9)</span>
<span class="line-modified">150    &gt;     (see http://mercurial.selenic.com for more information)</span>
<span class="line-modified">151    &gt;</span>
<span class="line-modified">152    &gt;     Copyright (C) 2005-2014 Matt Mackall and others</span>
<span class="line-modified">153    &gt;     This is free software; see the source for copying conditions. There is NO</span>
<span class="line-modified">154    &gt;     warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span>
155 
156 #. Verify that the list of enabled extensions includes fetch and mq.
157 
<span class="line-modified">158    &gt;     $ hg help</span>
<span class="line-modified">159    &gt; [full output](hgHelp.html)</span>
160 
161 #. Verify that the `~/.hgrc` configuration looks correct. Minimally it should contain the following entries:
162 
<span class="line-modified">163    &gt;     $ hg showconfig</span>
<span class="line-modified">164    &gt;     ui.username=iris</span>
165 
166 At this point, it should be possible to start retrieving source from the
167 repositories.
168 
169 ## Cloning
170 
171 With Mercurial each developer works with a clone of the repository which is a
172 snapshot of the files at the time the clone was taken. To update the clone, see
173 [Producing a Changeset](producingChangeset.html).
174 
175 #### ... a Sandbox Repository {#cloneSandbox}
176 
177 In addition to the Project repositories, there are some test repositories that
178 may be used to run test commands against Mercurial without fear of causing
179 damage to development source. Use them freely but with discretion; content in
180 them may be deleted at any time.
181 
<span class="line-modified">182 &gt;     $ mkdir sandbox; cd sandbox</span>
<span class="line-modified">183 &gt;     $ hg clone http://hg.openjdk.java.net/sandbox/box</span>
<span class="line-modified">184 &gt;     destination directory: box</span>
<span class="line-modified">185 &gt;     requesting all changes</span>
<span class="line-modified">186 &gt;     adding changesets</span>
<span class="line-modified">187 &gt;     adding manifests</span>
<span class="line-modified">188 &gt;     adding file changes</span>
<span class="line-modified">189 &gt;     added 23 changesets with 24 changes to 5 files</span>
<span class="line-modified">190 &gt;     4 files updated, 0 files merged, 0 files removed, 0 files unresolved</span>
<span class="line-modified">191 &gt;     $ du -s box</span>
<span class="line-modified">192 &gt;     46      box</span>
193 
194 #### ... a Forest {#cloneForest}
195 
196 If a Project uses a forest, It is strongly recommended for developers to clone
197 an entire forest, rather than a single repository. This is the only means to
198 ensure consistency in builds. The following examples illustrate two
199 alternatives for cloning the entire _jdk9/dev_ forest
200 into the directory `9dev`.
201 
202 #. To clone the forest using the
203 [trees](https://openjdk.java.net/projects/code-tools/trees/)
204 extension just use `tclone`:
205 
<span class="line-modified">206    &gt;     $ hg tclone http://hg.openjdk.java.net/jdk9/dev 9dev</span>
<span class="line-modified">207    &gt; [full output](tClone.html)</span>
208 
209 #. To clone the forest using `get_source.sh`, first
210 clone the main tree:
211 
<span class="line-modified">212    &gt;     $ hg clone http://hg.openjdk.java.net/jdk9/dev 9dev</span>
<span class="line-modified">213    &gt;     requesting all changes</span>
<span class="line-modified">214    &gt;     adding changesets</span>
<span class="line-modified">215    &gt;     adding manifests</span>
<span class="line-modified">216    &gt;     adding file changes</span>
<span class="line-modified">217    &gt;     added 997 changesets with 1477 changes to 138 files</span>
<span class="line-modified">218    &gt;     updating to branch default</span>
<span class="line-modified">219    &gt;     82 files updated, 0 files merged, 0 files removed, 0 files unresolved</span>
220 
221    Then clone the repositories in the forest:
222 
<span class="line-modified">223    &gt;     $ cd 9dev</span>
<span class="line-modified">224    &gt;     $ sh ./get_source.sh</span>
<span class="line-modified">225    &gt; [full output](getSource.html)</span>
226 
227 Regardless of how the forest was cloned, this is the resulting populated
228 forest.
229 
<span class="line-modified">230 &gt;     $ du -s</span>
<span class="line-modified">231 &gt;     934532  .</span>
<span class="line-modified">232 &gt;     $ ls</span>
<span class="line-modified">233 &gt;     ASSEMBLY_EXCEPTION  hotspot    LICENSE   README-builds.html</span>
<span class="line-modified">234 &gt;     common              jaxp       make      test</span>
<span class="line-modified">235 &gt;     configure           jaxws      Makefile  THIRD_PARTY_README</span>
<span class="line-modified">236 &gt;     corba               jdk        nashorn</span>
<span class="line-modified">237 &gt;     get_source.sh       langtools  README</span>
238 
239 #### ... a Single Repository {#cloneSingle}
240 
241 If the source for the Project is contained within a single repository or
242 reading a limited portion of the source is the only goal, it is possible to
243 clone a single repository (even if it&#39;s part of a forest). For instance, this
244 example shows how to clone the `langtools`
245 repository from _jdk9/dev_ into the default
246 destination directory.
247 
<span class="line-modified">248 &gt;     $ hg clone http://hg.openjdk.java.net/jdk9/dev/langtools</span>
<span class="line-modified">249 &gt;     destination directory: langtools</span>
<span class="line-modified">250 &gt;     requesting all changes</span>
<span class="line-modified">251 &gt;     adding changesets</span>
<span class="line-modified">252 &gt;     adding manifests</span>
<span class="line-modified">253 &gt;     adding file changes</span>
<span class="line-modified">254 &gt;     added 2289 changesets with 21194 changes to 7004 files</span>
<span class="line-modified">255 &gt;     updating to branch default</span>
<span class="line-modified">256 &gt;     6212 files updated, 0 files merged, 0 files removed, 0 files unresolved</span>
<span class="line-modified">257 &gt;     $ du -s langtools</span>
<span class="line-modified">258 &gt;     84396   langtools</span>
259 
260 ::: {.NavBit}
261 [« Previous](processWorkflow.html) • [TOC](index.html) • [Next »](mailingLists.html)
262 :::
</pre>
</td>
<td>
<hr />
<pre>
 98 Mercurial is a free, cross-platform, distributed source management tool. Source
 99 bundles and binary packages for Mercurial are available at
100 [https://www.selenic.com/mercurial/wiki/index.cgi](https://www.selenic.com/mercurial/wiki/index.cgi/Mercurial).
101 The OpenJDK repositories recommend installation of Mercurial 2.6.3 (or later).
102 A Mercurial installation is sufficient to clone a repository. Contributors who
103 wish to submit changes will need some additional configuration as described
104 below.
105 
106 Some Projects may recommend additional tools or scripts that help with
107 repository manipulation and code development. For instance, in JDK 9, the
108 utility script `common/bin/hgforest.sh` may be
109 used to apply commands to all the repositories in the
110 [forest](glossary.html#forest). Popular extensions for OpenJDK developers include
111 [jcheck](https://openjdk.java.net/projects/code-tools/jcheck/),
112 [trees](https://openjdk.java.net/projects/code-tools/trees/), and
113 [Mercurial Queues](http://hgbook.red-bean.com/read/managing-change-with-mercurial-queues.html)
114 (mq). Note that `trees` is enabled on the OpenJDK Mercurial server.
115 
116 Create and edit the `~/.hgrc` file to minimally contain the following entry:
117 
<span class="line-modified">118     [ui]</span>
<span class="line-modified">119     username = &lt;openjdk_username&gt;</span>
120 
121 _openjdk\_username_ is a plain lowercase, alphanumeric
122 token (not an e-mail address) with twelve characters or less. The first
123 character should be alphabetic. This username will be publicly visible in all
124 Mercurial changeset logs. It will be used to verify that the changeset author
125 is at least an
126 [Author](https://openjdk.java.net/bylaws#author)
127 for the Project and that the person pushing the changeset is at least a
128 [Committer](https://openjdk.java.net/bylaws#committer).
129 It is recommended that the _openjdk\_username_ be
130 somehow related to the Author&#39;s full name, such as the first character of the
131 Author&#39;s first name followed by the Author&#39;s last name. Refer to the
132 [Becoming an Author](../projects/index.html#project-author) section of the
133 [Project](../projects/index.html) page for
134 additional information.
135 
136 An alphabetical list of all of the assigned
137 _openjdk\_usernames_ may be found on the
138 [OpenJDK people](https://db.openjdk.java.net/people) list. The
139 [Census](../census) shows the structure of the OpenJDK Community.
140 
141 #### Verifying the Configuration
142 
143 After installing and configuring Mercurial, validate the configuration using
144 the following steps.
145 
146 #. Verify that Mercurial is version 2.6.3 (or newer).
147 
<span class="line-modified">148        $ hg version</span>
<span class="line-modified">149        Mercurial Distributed SCM (version 2.9)</span>
<span class="line-modified">150        (see http://mercurial.selenic.com for more information)</span>
<span class="line-modified">151    </span>
<span class="line-modified">152        Copyright (C) 2005-2014 Matt Mackall and others</span>
<span class="line-modified">153        This is free software; see the source for copying conditions. There is NO</span>
<span class="line-modified">154        warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span>
155 
156 #. Verify that the list of enabled extensions includes fetch and mq.
157 
<span class="line-modified">158        $ hg help</span>
<span class="line-modified">159    [full output](hgHelp.html)</span>
160 
161 #. Verify that the `~/.hgrc` configuration looks correct. Minimally it should contain the following entries:
162 
<span class="line-modified">163        $ hg showconfig</span>
<span class="line-modified">164        ui.username=iris</span>
165 
166 At this point, it should be possible to start retrieving source from the
167 repositories.
168 
169 ## Cloning
170 
171 With Mercurial each developer works with a clone of the repository which is a
172 snapshot of the files at the time the clone was taken. To update the clone, see
173 [Producing a Changeset](producingChangeset.html).
174 
175 #### ... a Sandbox Repository {#cloneSandbox}
176 
177 In addition to the Project repositories, there are some test repositories that
178 may be used to run test commands against Mercurial without fear of causing
179 damage to development source. Use them freely but with discretion; content in
180 them may be deleted at any time.
181 
<span class="line-modified">182     $ mkdir sandbox; cd sandbox</span>
<span class="line-modified">183     $ hg clone http://hg.openjdk.java.net/sandbox/box</span>
<span class="line-modified">184     destination directory: box</span>
<span class="line-modified">185     requesting all changes</span>
<span class="line-modified">186     adding changesets</span>
<span class="line-modified">187     adding manifests</span>
<span class="line-modified">188     adding file changes</span>
<span class="line-modified">189     added 23 changesets with 24 changes to 5 files</span>
<span class="line-modified">190     4 files updated, 0 files merged, 0 files removed, 0 files unresolved</span>
<span class="line-modified">191     $ du -s box</span>
<span class="line-modified">192     46      box</span>
193 
194 #### ... a Forest {#cloneForest}
195 
196 If a Project uses a forest, It is strongly recommended for developers to clone
197 an entire forest, rather than a single repository. This is the only means to
198 ensure consistency in builds. The following examples illustrate two
199 alternatives for cloning the entire _jdk9/dev_ forest
200 into the directory `9dev`.
201 
202 #. To clone the forest using the
203 [trees](https://openjdk.java.net/projects/code-tools/trees/)
204 extension just use `tclone`:
205 
<span class="line-modified">206        $ hg tclone http://hg.openjdk.java.net/jdk9/dev 9dev</span>
<span class="line-modified">207    [full output](tClone.html)</span>
208 
209 #. To clone the forest using `get_source.sh`, first
210 clone the main tree:
211 
<span class="line-modified">212        $ hg clone http://hg.openjdk.java.net/jdk9/dev 9dev</span>
<span class="line-modified">213        requesting all changes</span>
<span class="line-modified">214        adding changesets</span>
<span class="line-modified">215        adding manifests</span>
<span class="line-modified">216        adding file changes</span>
<span class="line-modified">217        added 997 changesets with 1477 changes to 138 files</span>
<span class="line-modified">218        updating to branch default</span>
<span class="line-modified">219        82 files updated, 0 files merged, 0 files removed, 0 files unresolved</span>
220 
221    Then clone the repositories in the forest:
222 
<span class="line-modified">223        $ cd 9dev</span>
<span class="line-modified">224        $ sh ./get_source.sh</span>
<span class="line-modified">225    [full output](getSource.html)</span>
226 
227 Regardless of how the forest was cloned, this is the resulting populated
228 forest.
229 
<span class="line-modified">230     $ du -s</span>
<span class="line-modified">231     934532  .</span>
<span class="line-modified">232     $ ls</span>
<span class="line-modified">233     ASSEMBLY_EXCEPTION  hotspot    LICENSE   README-builds.html</span>
<span class="line-modified">234     common              jaxp       make      test</span>
<span class="line-modified">235     configure           jaxws      Makefile  THIRD_PARTY_README</span>
<span class="line-modified">236     corba               jdk        nashorn</span>
<span class="line-modified">237     get_source.sh       langtools  README</span>
238 
239 #### ... a Single Repository {#cloneSingle}
240 
241 If the source for the Project is contained within a single repository or
242 reading a limited portion of the source is the only goal, it is possible to
243 clone a single repository (even if it&#39;s part of a forest). For instance, this
244 example shows how to clone the `langtools`
245 repository from _jdk9/dev_ into the default
246 destination directory.
247 
<span class="line-modified">248     $ hg clone http://hg.openjdk.java.net/jdk9/dev/langtools</span>
<span class="line-modified">249     destination directory: langtools</span>
<span class="line-modified">250     requesting all changes</span>
<span class="line-modified">251     adding changesets</span>
<span class="line-modified">252     adding manifests</span>
<span class="line-modified">253     adding file changes</span>
<span class="line-modified">254     added 2289 changesets with 21194 changes to 7004 files</span>
<span class="line-modified">255     updating to branch default</span>
<span class="line-modified">256     6212 files updated, 0 files merged, 0 files removed, 0 files unresolved</span>
<span class="line-modified">257     $ du -s langtools</span>
<span class="line-modified">258     84396   langtools</span>
259 
260 ::: {.NavBit}
261 [« Previous](processWorkflow.html) • [TOC](index.html) • [Next »](mailingLists.html)
262 :::
</pre>
</td>
</tr>
</table>
<center><a href="producingChangeset.md.sdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="tClone.md.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>