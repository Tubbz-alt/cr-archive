<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/next.md</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center><a href="index.md.cdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> next &gt;</center>    <h2>src/next.md</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 7,11 ***</span>
  This section describes what might happen after a changeset gets into the build,
  for example a bug might be filed or a backport could be requested.
  
  * [Requesting a Backport](#requesting-a-backport)
  * [Filing a Bug](#filing-a-bug)
<span class="line-modified">! * [ProblemListing or Ignoring a test](#problemlisting-or-ignore-ing-a-test)</span>
  * [Backing Out a Change](#backing-out-a-change)
  
  ## Requesting a Backport
  
  TBD
<span class="line-new-header">--- 7,11 ---</span>
  This section describes what might happen after a changeset gets into the build,
  for example a bug might be filed or a backport could be requested.
  
  * [Requesting a Backport](#requesting-a-backport)
  * [Filing a Bug](#filing-a-bug)
<span class="line-modified">! * [ProblemListing or `@ignore`-ing a Test](#problemlisting-or-ignore-ing-a-test)</span>
  * [Backing Out a Change](#backing-out-a-change)
  
  ## Requesting a Backport
  
  TBD
</pre>
<hr />
<pre>
<span class="line-old-header">*** 21,11 ***</span>
  When a new failure is found in the JDK a bug should be filed to describe and track the issue. Depending on your role in the OpenJDK you can either use the [Bug Report Tool](https://bugreport.java.com/) or, if you are Author in an OpenJDK Project, report the bug directly in the [JDK Bug System](https://bugs.openjdk.java.net/). Try to make the bug report as complete as possible to make it easier to triage and investigate the bug. It&#39;s not the reporter&#39;s responsibility to set a correct priority, but a good guess is always better than a default value. To help with setting the right priority consider things like how the bug impacts the product and our testing, how likely is it that the bug triggers, and how difficult is it to work around the bug if it&#39;s not fixed soon.
  
  A few things to keep in mind when filing a new bug:
  
  * Before filing a bug, verify that there isn&#39;t already a bug filed for this issue.
<span class="line-modified">! * Add relevant labels like `intermittent`, `regression`, `testbug` etc.</span>
  * Set affects version to the JDK version(s) where the failure was seen.
  * In the description, always include (if possible):
    * full name of the failing tests
    * error messages
    * assert messages
<span class="line-new-header">--- 21,11 ---</span>
  When a new failure is found in the JDK a bug should be filed to describe and track the issue. Depending on your role in the OpenJDK you can either use the [Bug Report Tool](https://bugreport.java.com/) or, if you are Author in an OpenJDK Project, report the bug directly in the [JDK Bug System](https://bugs.openjdk.java.net/). Try to make the bug report as complete as possible to make it easier to triage and investigate the bug. It&#39;s not the reporter&#39;s responsibility to set a correct priority, but a good guess is always better than a default value. To help with setting the right priority consider things like how the bug impacts the product and our testing, how likely is it that the bug triggers, and how difficult is it to work around the bug if it&#39;s not fixed soon.
  
  A few things to keep in mind when filing a new bug:
  
  * Before filing a bug, verify that there isn&#39;t already a bug filed for this issue.
<span class="line-modified">! * Add relevant labels like `intermittent`, `regression`, `noreg-self` etc.</span>
  * Set affects version to the JDK version(s) where the failure was seen.
  * In the description, always include (if possible):
    * full name of the failing tests
    * error messages
    * assert messages
</pre>
<hr />
<pre>
<span class="line-old-header">*** 64,31 ***</span>
  ~~~
  
  Use the suitable ProblemList and add a line like this in the proper section:
  
  ~~~
<span class="line-modified">! sun.tools.jcmd.MyTest.java                        4711   windows-all</span>
  ~~~
  
  In this example, `MyTest.java` is ProblemListed on windows, tracked by bug `JDK-4711`.
  
  Currently there&#39;s [no support for multiple lines for the same test](https://bugs.openjdk.java.net/browse/CODETOOLS-7902481). For this reason it&#39;s important to always make sure there&#39;s no existing entry for the test before adding a new one, as multiple entries might lead to unexpected results, e.g.
  
  ~~~
<span class="line-modified">! sun.tools.jcmd.MyTest.java                        4710   generic-all</span>
  ...
<span class="line-modified">! sun.tools.jcmd.MyTest.java                        4711   windows-all</span>
  ~~~
  
  This would lead to `sun.tools.jcmd.MyTest.java` being ProblemListed only on `windows-all`. The proper way to write this is:
  
  ~~~
<span class="line-modified">! sun.tools.jcmd.MyTest.java                        4710,4711   generic-all,windows-all</span>
  ~~~
  
  Although `windows-all` isn&#39;t strictly required in this example, it&#39;s preferable to specify platforms for each bugid (unless they are all `generic-all`), this makes it easier to remove one of the bugs from the list.
  
  #### Running ProblemListed tests
  
  To run ad-hoc runs of ProblemListed tests use `RUN_PROBLEM_LISTS=true`.
  
  ~~~
<span class="line-new-header">--- 64,52 ---</span>
  ~~~
  
  Use the suitable ProblemList and add a line like this in the proper section:
  
  ~~~
<span class="line-modified">! foo/bar/MyTest.java                        4711   windows-all</span>
  ~~~
  
  In this example, `MyTest.java` is ProblemListed on windows, tracked by bug `JDK-4711`.
  
  Currently there&#39;s [no support for multiple lines for the same test](https://bugs.openjdk.java.net/browse/CODETOOLS-7902481). For this reason it&#39;s important to always make sure there&#39;s no existing entry for the test before adding a new one, as multiple entries might lead to unexpected results, e.g.
  
  ~~~
<span class="line-modified">! foo/bar/MyTest.java                        4710   generic-all</span>
  ...
<span class="line-modified">! foo/bar/MyTest.java                        4711   windows-all</span>
  ~~~
  
  This would lead to `sun.tools.jcmd.MyTest.java` being ProblemListed only on `windows-all`. The proper way to write this is:
  
  ~~~
<span class="line-modified">! foo/bar/MyTest.java                        4710,4711   generic-all,windows-all</span>
  ~~~
  
  Although `windows-all` isn&#39;t strictly required in this example, it&#39;s preferable to specify platforms for each bugid (unless they are all `generic-all`), this makes it easier to remove one of the bugs from the list.
  
<span class="line-added">+ #### ProblemListing some, but not all, test cases in a file</span>
<span class="line-added">+ </span>
<span class="line-added">+ Some tests contain several test cases and there may be a need to ProblemList only a few of them. To do this use the full test name, i.e. `&lt;filename&gt; + # + &lt;test case id&gt;`, where test case id can be specified in the test header. If no id is specified each test case can be referenced with `id` + ordinary number of the test case in the test file.</span>
<span class="line-added">+ </span>
<span class="line-added">+ Let&#39;s assume we have four test cases in `foo/bar/MyTest.java`:</span>
<span class="line-added">+ </span>
<span class="line-added">+ ~~~</span>
<span class="line-added">+ /* @test */</span>
<span class="line-added">+ /* @test id=fancy_name */</span>
<span class="line-added">+ /* @test */</span>
<span class="line-added">+ /* @test */</span>
<span class="line-added">+ ~~~</span>
<span class="line-added">+ </span>
<span class="line-added">+ A ProblemList entry that excludes the first, second, and third test case would look like this:</span>
<span class="line-added">+ </span>
<span class="line-added">+ ~~~</span>
<span class="line-added">+ foo/bar/MyTest.java#id0          4720  generic-all</span>
<span class="line-added">+ foo/bar/MyTest.java#fancy_name   4721  generic-all</span>
<span class="line-added">+ foo/bar/MyTest.java#id2          4722  generic-all</span>
<span class="line-added">+ ~~~</span>
<span class="line-added">+ </span>
  #### Running ProblemListed tests
  
  To run ad-hoc runs of ProblemListed tests use `RUN_PROBLEM_LISTS=true`.
  
  ~~~
</pre>
<center><a href="index.md.cdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>