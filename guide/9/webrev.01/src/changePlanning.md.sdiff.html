<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/changePlanning.md</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center><a href="bugDatabase.md.sdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="codeConventions.md.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/changePlanning.md</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 % Change Planning and Guidelines
  2 
<span class="line-removed">  3 ::: {.version}</span>
<span class="line-removed">  4 version 0.02</span>
<span class="line-removed">  5 :::</span>
<span class="line-removed">  6 </span>
  7 ::: {.NavBit}
  8 [« Previous](codeConventions.html) • [TOC](index.html) • [Next »](reviewBodies.html)
  9 :::
 10 
 11 This section describes the development process of identifying a bug or
 12 enhancement (formerly &quot;Request for Enhancement&quot; (RFE)) and providing a
 13 solution. The instructions assume that the
 14 [Contributor](/bylaws#contributor) already has a
 15 working build environment and has some familiarity with an existing OpenJDK
 16 [Project](bylaws#_6) and its repositories.
 17 
 18 Three classes of changes are treated in separate sections:
 19 
 20 * [Fixing a Bug](#fixing-a-bug) provides a step-by-step
 21 workflow for fixing a simple bug. Of particular note is the list of
 22 [noreg bug labels](#noreg) for changes which do not have regression tests.
 23 * [Adding an API](#adding-an-api) is TBD.
 24 * [Adding a Feature/JSR](#adding-a-featurejsr) is TBD.
 25 
 26 ## Fixing a Bug
</pre>
<hr />
<pre>
 87 
 88     N   Continue
 89    ---  -----------------------------------------------------------------------
 90 
 91 #. **Fix the bug**
 92 
 93    Assuming that the development team approves of the intended approach, begin
 94    working on the code using the latest source available from the appropriate
 95    OpenJDK Project [repository](http://hg.openjdk.java.net).
 96 
 97 #. **Is it possible to write a test to detect the bug?**
 98 
 99    +:-:+:---------------------------------------------------------------------+
100    | Y | For bugs, provide a [jtreg](../jtreg/) regression test               |
101    |   | as part of the changeset. For enhancements that directly affect      |
102    |   | one or more exported interfaces, add an adequate set of jtreg unit   |
103    |   | tests as part of the changeset. By convention all regression and     |
104    |   | unit tests should contain a                                          |
105    |   | [\@bug tag](http://openjdk.java.net/jtreg/tag-spec.html#INFORMATIONAL_TAGS9) |
106    |   | referencing at least one bugid.                                      |
<span class="line-modified">107    |   |                                                                      |</span>
108    |   | An entirely new test (or tests) may not be required. For             |
109    |   | example, if the bug is an existing regression test failure, then     |
110    |   | when fixing the bug you should just add the new bug ID to the list   |
111    |   | of space-delimited bugs in the                                       |
112    |   | [\@bug tag](http://openjdk.java.net/jtreg/tag-spec.html#INFORMATIONAL_TAGS) |
113    |   | of the failing regression test, even if the test did not need to     |
114    |   | be updated.                                                          |
115    +---+----------------------------------------------------------------------+
116    | N | An explanation for why a test is unnecessary or infeasible is        |
117    |   | required.  Such an explanation is recorded by adding a label, and    |
118    |   | possibly a comment, to the bug report.  The label has the prefix     |
119    |   | &quot;noreg&quot; for regression tests and &quot;nounit&quot; for unit tests.  The       |
120    |   | suffixes and their meanings are as follows:                          |
<span class="line-modified">121    |   |                                                                      |</span>
<span class="line-modified">122    |   | **-sqe**                                                             |</span>
123    |   | :    Change can be verified by running an existing SQE test suite;   |
<span class="line-modified">124    |   |      the bug should identify the suite and the specific test case(s). |</span>
125    |   |                                                                      |
<span class="line-modified">126    |   | **-jck**                                                             |</span>
127    |   | :    Change can be verified by running the JCK; the bug should       |
128    |   |      identify the specific test case(s).                             |
129    |   |                                                                      |
<span class="line-modified">130    |   | **-external**                                                        |</span>
131    |   | :    Change can be verified by running an existing external test     |
132    |   |      suite; the bug should identify the suite and the specific test  |
133    |   |      case(s).                                                        |
134    |   |                                                                      |
<span class="line-modified">135    |   | **-doc**                                                             |</span>
136    |   | :    Change only affects documentation.                              |
137    |   |                                                                      |
<span class="line-modified">138    |   | **-demo**                                                            |</span>
139    |   | :    Change only affects demo code.                                  |
140    |   |                                                                      |
<span class="line-modified">141    |   | **-build**                                                           |</span>
142    |   | :    Change only affects build infrastructure (makefiles,            |
143    |   |      copyrights, scripts, etc.).                                     |
144    |   |                                                                      |
<span class="line-modified">145    |   | **-self**                                                            |</span>
146    |   | :    Change is a fix to a regression or unit test itself.            |
147    |   |                                                                      |
<span class="line-modified">148    |   | **-perf**                                                            |</span>
149    |   | :    Change is for a performance bug for which writing a regression  |
150    |   |      test is infeasible; the bug should describe how to verify the   |
151    |   |      fix.                                                            |
152    |   |                                                                      |
<span class="line-modified">153    |   | **-hard**                                                            |</span>
154    |   | :    It is too hard to write a regression or unit test for this bug  |
155    |   |      (e.g., theoretical race condition, complex setup, reboot        |
156    |   |      required, editing of installed files required, specific         |
157    |   |      graphics card required); the bug should explain why.            |
158    |   |                                                                      |
<span class="line-modified">159    |   | **-long**                                                            |</span>
160    |   | :    Testing requires a very long running time (e.g., more than a    |
161    |   |      few minutes).                                                   |
162    |   |                                                                      |
<span class="line-modified">163    |   | **-big**                                                             |</span>
164    |   | :    Testing requires an unreasonable quantity of resources (e.g.,   |
165    |   |      tens of gigabytes of filesystem space).                         |
166    |   |                                                                      |
<span class="line-modified">167    |   | **-trivial**                                                         |</span>
168    |   | :    Change is so trivial that nothing could possibly go wrong with  |
169    |   |      it.                                                             |
170    |   |                                                                      |
<span class="line-modified">171    |   | **-cleanup**                                                         |</span>
172    |   | :    Change is a cleanup or refactoring of existing code that is     |
173    |   |      covered by existing tests.                                      |
174    |   |                                                                      |
<span class="line-modified">175    |   | **-l10n**                                                            |</span>
176    |   | :    Change only affects localized text.                             |
177    |   |                                                                      |
<span class="line-modified">178    |   | **-undo**                                                            |</span>
179    |   | :    Change is a reversion of a previous faulty change.              |
180    |   |                                                                      |
<span class="line-modified">181    |   | **-other**                                                           |</span>
182    |   | :    Regression or unit test is unnecessary or infeasible for some   |
183    |   |      other reason; the bug report should explain why.                |
184    |   |                                                                      |
185    |   | Examples:  If a bug fix only corrects a change in the build system,  |
186    |   | then add the &quot;noreg-build&quot; label to the corresponding bug. If the    |
187    |   | change improves loop optimizations in HotSpot, then add              |
188    |   | &quot;nounit-perf&quot; to the corresponding bug.                              |
189    +---+----------------------------------------------------------------------+
190 
191 #. **Is modification of shared Java code needed?**
192 
193    ---  -----------------------------------------------------------------------
194     Y   It is often sufficient to build and test on a single platform,
195         but sometimes it is not. Use discretion.
196 
197     N   Continue
198    ---  -----------------------------------------------------------------------
199 
200 #. **Is modification of shared C code needed?**
201 
</pre>
<hr />
<pre>
281 _Congratulations!_ Your changeset will now make its
282 way towards a promoted build. When the changeset becomes part of a promoted
283 build, the bug&#39;s &quot;Resolved in Build&quot; will have a value of \&quot;b\[1-9\]\[0-9\]&amp;ast;\&quot;
284 to indicate the build number.
285 
286 ## Adding an API
287 
288 TBD
289 
290 This section will cover additional considerations for changes that add new
291 public APIs. For instance, they need to be implementable on all platforms.
292 
293 ## Adding a Feature/JSR
294 
295 TBD
296 
297 This section will describe the process for adding new functionality which
298 requires more than just a few new APIs. In particular, this will cover how the
299 JSR process interacts with the OpenJDK development life cycle.
300 
<span class="line-removed">301 ::: {.version}</span>
<span class="line-removed">302 version 0.02</span>
<span class="line-removed">303 :::</span>
<span class="line-removed">304 </span>
305 ::: {.NavBit}
306 [« Previous](codeConventions.html) • [TOC](index.html) • [Next »](reviewBodies.html)
307 :::
</pre>
</td>
<td>
<hr />
<pre>
  1 % Change Planning and Guidelines
  2 




  3 ::: {.NavBit}
  4 [« Previous](codeConventions.html) • [TOC](index.html) • [Next »](reviewBodies.html)
  5 :::
  6 
  7 This section describes the development process of identifying a bug or
  8 enhancement (formerly &quot;Request for Enhancement&quot; (RFE)) and providing a
  9 solution. The instructions assume that the
 10 [Contributor](/bylaws#contributor) already has a
 11 working build environment and has some familiarity with an existing OpenJDK
 12 [Project](bylaws#_6) and its repositories.
 13 
 14 Three classes of changes are treated in separate sections:
 15 
 16 * [Fixing a Bug](#fixing-a-bug) provides a step-by-step
 17 workflow for fixing a simple bug. Of particular note is the list of
 18 [noreg bug labels](#noreg) for changes which do not have regression tests.
 19 * [Adding an API](#adding-an-api) is TBD.
 20 * [Adding a Feature/JSR](#adding-a-featurejsr) is TBD.
 21 
 22 ## Fixing a Bug
</pre>
<hr />
<pre>
 83 
 84     N   Continue
 85    ---  -----------------------------------------------------------------------
 86 
 87 #. **Fix the bug**
 88 
 89    Assuming that the development team approves of the intended approach, begin
 90    working on the code using the latest source available from the appropriate
 91    OpenJDK Project [repository](http://hg.openjdk.java.net).
 92 
 93 #. **Is it possible to write a test to detect the bug?**
 94 
 95    +:-:+:---------------------------------------------------------------------+
 96    | Y | For bugs, provide a [jtreg](../jtreg/) regression test               |
 97    |   | as part of the changeset. For enhancements that directly affect      |
 98    |   | one or more exported interfaces, add an adequate set of jtreg unit   |
 99    |   | tests as part of the changeset. By convention all regression and     |
100    |   | unit tests should contain a                                          |
101    |   | [\@bug tag](http://openjdk.java.net/jtreg/tag-spec.html#INFORMATIONAL_TAGS9) |
102    |   | referencing at least one bugid.                                      |
<span class="line-modified">103    +---+----------------------------------------------------------------------+</span>
104    |   | An entirely new test (or tests) may not be required. For             |
105    |   | example, if the bug is an existing regression test failure, then     |
106    |   | when fixing the bug you should just add the new bug ID to the list   |
107    |   | of space-delimited bugs in the                                       |
108    |   | [\@bug tag](http://openjdk.java.net/jtreg/tag-spec.html#INFORMATIONAL_TAGS) |
109    |   | of the failing regression test, even if the test did not need to     |
110    |   | be updated.                                                          |
111    +---+----------------------------------------------------------------------+
112    | N | An explanation for why a test is unnecessary or infeasible is        |
113    |   | required.  Such an explanation is recorded by adding a label, and    |
114    |   | possibly a comment, to the bug report.  The label has the prefix     |
115    |   | &quot;noreg&quot; for regression tests and &quot;nounit&quot; for unit tests.  The       |
116    |   | suffixes and their meanings are as follows:                          |
<span class="line-modified">117    +---+----------------------------------------------------------------------+</span>
<span class="line-modified">118    |   | &lt;a name=&quot;noreg-sqe&quot;&gt;**-sqe**&lt;/a&gt;                                     |</span>
119    |   | :    Change can be verified by running an existing SQE test suite;   |
<span class="line-modified">120    |   |      the bug should identify the suite and the specific test case(s).|</span>
121    |   |                                                                      |
<span class="line-modified">122    |   | &lt;a name=&quot;noreg-jck&quot;&gt;**-jck**&lt;/a&gt;                                     |</span>
123    |   | :    Change can be verified by running the JCK; the bug should       |
124    |   |      identify the specific test case(s).                             |
125    |   |                                                                      |
<span class="line-modified">126    |   | &lt;a name=&quot;noreg-external&quot;&gt;**-external**&lt;/a&gt;                           |</span>
127    |   | :    Change can be verified by running an existing external test     |
128    |   |      suite; the bug should identify the suite and the specific test  |
129    |   |      case(s).                                                        |
130    |   |                                                                      |
<span class="line-modified">131    |   | &lt;a name=&quot;noreg-doc&quot;&gt;**-doc**&lt;/a&gt;                                     |</span>
132    |   | :    Change only affects documentation.                              |
133    |   |                                                                      |
<span class="line-modified">134    |   | &lt;a name=&quot;noreg-demo&quot;&gt;**-demo**&lt;/a&gt;                                   |</span>
135    |   | :    Change only affects demo code.                                  |
136    |   |                                                                      |
<span class="line-modified">137    |   | &lt;a name=&quot;noreg-build&quot;&gt;**-build**&lt;/a&gt;                                 |</span>
138    |   | :    Change only affects build infrastructure (makefiles,            |
139    |   |      copyrights, scripts, etc.).                                     |
140    |   |                                                                      |
<span class="line-modified">141    |   | &lt;a name=&quot;noreg-self&quot;&gt;**-self**&lt;/a&gt;                                   |</span>
142    |   | :    Change is a fix to a regression or unit test itself.            |
143    |   |                                                                      |
<span class="line-modified">144    |   | &lt;a name=&quot;noreg-perf&quot;&gt;**-perf**&lt;/a&gt;                                   |</span>
145    |   | :    Change is for a performance bug for which writing a regression  |
146    |   |      test is infeasible; the bug should describe how to verify the   |
147    |   |      fix.                                                            |
148    |   |                                                                      |
<span class="line-modified">149    |   | &lt;a name=&quot;noreg-hard&quot;&gt;**-hard**&lt;/a&gt;                                   |</span>
150    |   | :    It is too hard to write a regression or unit test for this bug  |
151    |   |      (e.g., theoretical race condition, complex setup, reboot        |
152    |   |      required, editing of installed files required, specific         |
153    |   |      graphics card required); the bug should explain why.            |
154    |   |                                                                      |
<span class="line-modified">155    |   | &lt;a name=&quot;noreg-long&quot;&gt;**-long**&lt;/a&gt;                                   |</span>
156    |   | :    Testing requires a very long running time (e.g., more than a    |
157    |   |      few minutes).                                                   |
158    |   |                                                                      |
<span class="line-modified">159    |   | &lt;a name=&quot;noreg-big&quot;&gt;**-big**&lt;/a&gt;                                     |</span>
160    |   | :    Testing requires an unreasonable quantity of resources (e.g.,   |
161    |   |      tens of gigabytes of filesystem space).                         |
162    |   |                                                                      |
<span class="line-modified">163    |   | &lt;a name=&quot;noreg-trivial&quot;&gt;**-trivial**&lt;/a&gt;                             |</span>
164    |   | :    Change is so trivial that nothing could possibly go wrong with  |
165    |   |      it.                                                             |
166    |   |                                                                      |
<span class="line-modified">167    |   | &lt;a name=&quot;noreg-cleanup&quot;&gt;**-cleanup**&lt;/a&gt;                             |</span>
168    |   | :    Change is a cleanup or refactoring of existing code that is     |
169    |   |      covered by existing tests.                                      |
170    |   |                                                                      |
<span class="line-modified">171    |   | &lt;a name=&quot;noreg-l10n&quot;&gt;**-l10n**&lt;/a&gt;                                   |</span>
172    |   | :    Change only affects localized text.                             |
173    |   |                                                                      |
<span class="line-modified">174    |   | &lt;a name=&quot;noreg-undo&quot;&gt;**-undo**&lt;/a&gt;                                   |</span>
175    |   | :    Change is a reversion of a previous faulty change.              |
176    |   |                                                                      |
<span class="line-modified">177    |   | &lt;a name=&quot;noreg-other&quot;&gt;**-other**&lt;/a&gt;                                 |</span>
178    |   | :    Regression or unit test is unnecessary or infeasible for some   |
179    |   |      other reason; the bug report should explain why.                |
180    |   |                                                                      |
181    |   | Examples:  If a bug fix only corrects a change in the build system,  |
182    |   | then add the &quot;noreg-build&quot; label to the corresponding bug. If the    |
183    |   | change improves loop optimizations in HotSpot, then add              |
184    |   | &quot;nounit-perf&quot; to the corresponding bug.                              |
185    +---+----------------------------------------------------------------------+
186 
187 #. **Is modification of shared Java code needed?**
188 
189    ---  -----------------------------------------------------------------------
190     Y   It is often sufficient to build and test on a single platform,
191         but sometimes it is not. Use discretion.
192 
193     N   Continue
194    ---  -----------------------------------------------------------------------
195 
196 #. **Is modification of shared C code needed?**
197 
</pre>
<hr />
<pre>
277 _Congratulations!_ Your changeset will now make its
278 way towards a promoted build. When the changeset becomes part of a promoted
279 build, the bug&#39;s &quot;Resolved in Build&quot; will have a value of \&quot;b\[1-9\]\[0-9\]&amp;ast;\&quot;
280 to indicate the build number.
281 
282 ## Adding an API
283 
284 TBD
285 
286 This section will cover additional considerations for changes that add new
287 public APIs. For instance, they need to be implementable on all platforms.
288 
289 ## Adding a Feature/JSR
290 
291 TBD
292 
293 This section will describe the process for adding new functionality which
294 requires more than just a few new APIs. In particular, this will cover how the
295 JSR process interacts with the OpenJDK development life cycle.
296 




297 ::: {.NavBit}
298 [« Previous](codeConventions.html) • [TOC](index.html) • [Next »](reviewBodies.html)
299 :::
</pre>
</td>
</tr>
</table>
<center><a href="bugDatabase.md.sdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="codeConventions.md.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>