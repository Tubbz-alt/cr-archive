<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/javaStyleGuide.md</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center><a href="hgHelp.md.sdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="tClone.md.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/javaStyleGuide.md</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
   1 % Java Style Guide
   2 
   3 ::: {.NavBit}
   4 [« Previous](mailinglists.html) • [TOC](index.html) • [Next »](changePlanning.html)
   5 :::
   6 
<span class="line-modified">   7 While this document covers a lot of ground, it should be noted that no style guide can answer all questions for us, and developers will always need to use good judgment towards the end of producing code that is correct, readable, maintainable, debuggable, consistently formatted, and aesthetically pleasing.</span>
   8 
<span class="line-modified">   9 Examples in this document are non-normative; While they intend to illustrate correct way of formatting the code, there may be other ways to correctly format the code. This is a general principle: There may be several ways to format the code, all adhering to the guidelines in this document.</span>
  10 
  11 Tool support is nice, but ultimately each IDE and style checking tool can handle different sets of rules, and support for rules that can’t be handled today might be added in future versions. So, whether a rule plays well with tools or not can be a factor, but it’s secondary to the above principles.
  12 
  13 ## Overview
  14 
  15 - [Java Source Files](#java-source-files)  
  16   - [Special Characters](#special-characters)  
  17 - [Formatting](#formatting)  
  18   - [Copyright notice](#copyright-notice)  
  19   - [Package declaration](#package-declaration)  
  20   - [Import statements](#import-statements)  
  21   - [Class Structure](#class-structure)  
  22   - [Modifiers](#modifiers)  
  23   - [Braces](#braces)  
  24   - [Indentation](#indentation)  
  25   - [Wrapping Lines](#wrapping-lines)  
  26   - [Whitespace](#whitespace)  
  27   - [Variable Declarations](#variable-declarations)  
  28   - [Annotations](#annotations)  
  29   - [Lambda Expressions](#lambda-expressions)  
</pre>
<hr />
<pre>
  76 
  77 The short forms (e.g. `\t`) are commonly used and easier to recognize than the corresponding longer forms (`\011`, `\u0009`).
  78 :::
  79 
  80 ## Formatting
  81 ::: conventions
  82 - A Java source file should be structured as follows:
  83   1. The copyright notice
  84   1. Package declaration
  85   1. Import statements
  86   1. Class declaration
  87 - There may be only one top level class declaration per file.
  88 :::
  89 
  90 ### Copyright notice
  91 ::: conventions
  92 - All source files should have an appropriate copyright notice at the top of the file.
  93 
  94 - For files under Oracle copyright, the copyright notice must follow the standard wording and format. In particular the first two lines should be
  95 
<span class="line-modified">  96   ```java</span>
  97   /*
  98    * Copyright (c) 2011, Oracle and/or its affiliates. All rights reserved.
<span class="line-modified">  99   ```</span>

 100   or
<span class="line-modified"> 101   ```java</span>

 102   /*
 103    * Copyright (c) 2011, 2015, Oracle and/or its affiliates. All rights reserved.
<span class="line-modified"> 104   ```</span>

 105   where the first year is the year the file was created and the second year is the year the file was last edited.
 106 :::
 107 
 108 For questions regarding Oracle copyright or license notices, please contact [iris.clark@oracle.com](mailto:iris.clark@oracle.com).
 109 
 110 ### Package declaration
 111 ::: conventions
 112 - The package declaration should not be line wrapped, regardless of whether it exceeds the recommended maximum length of a line. (See section on [Wrapping Lines](#wrapping-lines).)
 113 :::
 114 
 115 ### Import statements
 116 ::: conventions
 117 - Import statements should be sorted…
 118   - …primarily by non-static / static with non-static imports first.
 119   - …secondarily by package origin according to the following order
 120     - `java` packages
 121     - `javax` packages
 122     - external packages (e.g. `org.xml`)
 123     - internal packages (e.g. `com.sun`)
 124   - …tertiary by package and class identifier in lexicographical order
</pre>
<hr />
<pre>
 145 ### Class Structure
 146 ::: conventions
 147 - The recommended order of class members is the following:
 148   1. Fields
 149   1. Constructors
 150   1. Factory methods
 151   1. Other Methods
 152 - Related fields should be grouped together. Ordering fields primarily according to access modifiers or identifier is not required. The same applies to methods.
 153 - Nested types should be grouped at the top of the class, or else defined before first use.
 154 :::
 155 
 156 #### Order of Constructors and Overloaded Methods
 157 ::: conventions
 158 - Constructors and overloaded methods should be grouped together by functionality and ordered with increasing arity. This implies that delegation among these constructs flow downward in the code.
 159 - Constructors and overloaded methods should generally not be split apart by other members.
 160 :::
 161 
 162 ::: leftcol
 163 ::: box
 164 [Dos]{.boxheader .dos}
<span class="line-modified"> 165 ```java</span>

 166 public HashSet() {
 167     this(DEFAULT_INITIAL_CAPACITY);
 168 }
 169 
 170 public HashSet(int capacity) {
 171     this(capacity, DEFAULT_LOAD_FACTOR);
 172 }
 173 
 174 public HashSet(int capacity, double loadFactor) {
 175     …
 176 }
<span class="line-modified"> 177 ```</span>

 178 :::
 179 :::
 180 
 181 ::: rightcol
 182 ::: box
 183 [Don’ts]{.boxheader .donts}
<span class="line-modified"> 184 ```java</span>

 185 // Overloaded methods should not be split apart
 186 void logValue(int i) {
 187     log(&quot;Int: %d&quot;, i);
 188 }
 189 
 190 void setValue(int i) {
 191     val = i;
 192 }
 193 
 194 void logValue(double d) {
 195     log(&quot;Double: %.2d&quot;, d);
 196 }
 197 
 198 void setValue(double d) {
 199     val = d;
 200 }
<span class="line-modified"> 201 ```</span>

 202 :::
 203 :::
 204 
 205 ::: box
 206 [Motivation]{.boxheader}
 207 This order puts the most generally applicable versions first. Also, making sure delegation is always done downwards in the file makes the code easier to follow.
 208 :::
 209 
 210 ### Modifiers
 211 ::: conventions
 212 - Modifiers should go in the following order
 213   1. Access modifier (`public` / `private` / `protected`)
 214   1. `abstract`
 215   1. `static`
 216   1. `final`
 217   1. `transient`
 218   1. `volatile`
 219   1. `default`
 220   1. `synchronized`
 221   1. `native`
</pre>
<hr />
<pre>
 231 
 232 Although method parameters should typically not be mutated, consistently marking all parameters in every methods as `final` is an exaggeration.
 233 
 234 Making fields immutable where possible is good programming practice. Refer to *Effective Java, Item 15: Minimize Mutability* for details.
 235 :::
 236 
 237 ### Braces
 238 ::: conventions
 239 - Opening braces should be put on the end of the current line rather than on a line by its own.
 240 - There should be a new line in front of a closing brace unless the block is empty (see [Short Forms](#short-forms) below)
 241 - Braces are recommended even where the language makes them optional, such as single-line if and loop bodies.
 242   - If a block spans more than one line (including comments) it must have braces.
 243   - If one of the blocks in a if / else statement has braces, the other block must too.
 244   - If the block comes last in an enclosing block, it must have braces.
 245 - The `else`,&amp;nbsp;`catch` and the `while` keyword in `do`…`while` loops go on the same line as the closing brace of the preceding block.
 246 :::
 247 
 248 ::: leftcol
 249 ::: box
 250 [Dos]{.boxheader .dos}
<span class="line-modified"> 251 ```java</span>

 252 void method() {
 253     …
 254 }
<span class="line-modified"> 255 ```</span>
<span class="line-modified"> 256 ```java</span>

 257 try {
 258     something();
 259 } catch (AnException e) {
 260     …
 261 }
<span class="line-modified"> 262 ```</span>
<span class="line-modified"> 263 ```java</span>

 264 for (int[] row : matrix) {
 265     for (int val : row) {
 266         sum += val;
 267     }
 268 }
<span class="line-modified"> 269 ```</span>

 270 :::
 271 :::
 272 
 273 ::: rightcol
 274 ::: box
 275 [Don’ts]{.boxheader .donts}
<span class="line-modified"> 276 ```java</span>

 277 // Wrong placement of opening brace
 278 void method()
 279 {
 280     …
 281 }
<span class="line-modified"> 282 ```</span>
<span class="line-modified"> 283 ```java</span>

 284 // Newline in front of catch should be avoided
 285 try {
 286     something();
 287 }
 288 catch (AnException e) {
 289     …
 290 }
<span class="line-modified"> 291 ```</span>
<span class="line-modified"> 292 ```java</span>

 293 // Braces should be used
 294 if (flag)
 295     // Restore x
 296     x = 1;
<span class="line-modified"> 297 ```</span>
<span class="line-modified"> 298 ```java</span>

 299 // Use braces if block comes last in enclosing block
 300 // to avoid accidentally indenting the closing brace.
 301 for (int[] row : matrix) {
 302     for (int val : row)
 303         sum += val;
 304 }
<span class="line-modified"> 305 ```</span>

 306 :::
 307 :::
 308 
 309 ::: box
 310 [Motivation]{.boxheader}
 311 Putting opening braces on the end of the line (as opposed to on a line of its own) is a long standing Java convention. This style is also suitable for Java, considering that it’s common to have small blocks (in for instance anonymous classes and lambda expressions) and having opening braces on a separate line creates an unnecessary amount of white space in such situations.
 312 
 313 Omitting braces is error prone and can lead to mistakes in the indentation and hard to detect bugs.
 314 :::
 315 
 316 #### Short Forms
 317 ::: conventions
 318 - The above recommendations are intended to improve uniformity (and thus increase familiarity / readability). In some cases “short forms” that deviate from the above guidelines are just as readable and may be used instead. These cases include for instance simple enum declarations and trivial methods and lambda expressions.
 319 :::
 320 
 321 
 322 ::: leftcol
 323 ::: box
 324 [Dos]{.boxheader .dos}
<span class="line-modified"> 325 ```java</span>

 326 enum Response { YES, NO, MAYBE }
<span class="line-modified"> 327 ```</span>
<span class="line-modified"> 328 ```java</span>

 329 public boolean isReference() { return true; }
<span class="line-modified"> 330 ```</span>

 331 :::
 332 :::
 333 
 334 ::: rightcol
 335 ::: box
 336 [Don’ts]{.boxheader .donts}
<span class="line-modified"> 337 ```java</span>

 338 public boolean getResult() { int value = getValue(); return value &lt; 0 ? 0 : value; }
<span class="line-modified"> 339 ```</span>
<span class="line-modified"> 340 ```java</span>

 341 for (int i = 0; i &lt; size; i++) { sum += data[i]; }
<span class="line-modified"> 342 ```</span>

 343 :::
 344 :::
 345 
 346 
 347 ### Indentation
 348 ::: conventions
 349 - Indentation level is four spaces.
 350 - Only space characters may be used for indentation. No tabs.
 351 - Empty lines must not be indented. (This is implied by the no trailing white space rule.)
 352 - `case` lines should be indented with four spaces, and statements within the case should be indented with another four spaces.
 353 :::
 354 Refer to Section&amp;nbsp;[Wrapping Lines](#wrapping-lines)&amp;nbsp;for guidelines on how to indent continuation lines.
 355 
 356 ::: leftcol
 357 ::: box
 358 [Dos]{.boxheader .dos}
<span class="line-modified"> 359 ```java</span>

 360 switch (var) {
 361     case TWO:
 362         setChoice(&quot;two&quot;);
 363         break;
 364     case THREE:
 365         setChoice(&quot;three&quot;);
 366         break;
 367     default:
 368         throw new IllegalArgumentException();
 369 }
<span class="line-modified"> 370 ```</span>

 371 :::
 372 :::
 373 
 374 ::: rightcol
 375 ::: box
 376 [Don’ts]{.boxheader .donts}
<span class="line-modified"> 377 ```java</span>

 378 switch (var) {
 379 case TWO:
 380     setChoice(&quot;two&quot;);
 381     break;
 382 case THREE:
 383     setChoice(&quot;three&quot;);
 384     break;
 385 default:
 386     throw new IllegalArgumentException();
 387 }
<span class="line-modified"> 388 ```</span>

 389 :::
 390 :::
 391 
 392 
 393 ::: box
 394 [Motivation]{.boxheader}
 395 By using spaces for indentation, problems regarding different default settings for tab stops in various editors are avoided.
 396 :::
 397 
 398 ### Wrapping Lines
 399 ::: conventions
 400 - Source code and comments should generally not exceed 80 characters per line and rarely if ever exceed 100 characters per line, including indentation.
 401 
 402   ::: box
 403   ::: boxheader
 404   Note
 405   :::
 406   The character limit must be judged on a case by case basis. What really matters is the semantical “density” and readability of the line. Making lines gratuitously long makes them hard to read; similarly, making “heroic attempts” to fit them into 80 columns can also make them hard to read. The flexibility outlined here aims to enable developers to avoid these extremes, not to maximize use of monitor real-estate.
 407   :::
 408 
 409   ::: leftcol
 410   ::: box
 411   ::: {.boxheader .dos}
 412   Dos
 413   :::
<span class="line-modified"> 414   ```java</span>

 415   // Ok even though it might exceed the character limit when indented.
 416   Error e = isTypeParam
 417           ? Errors.InvalidRepeatableAnnotationNotApplicable(targetContainerType, on)
 418           : Errors.InvalidRepeatableAnnotationNotApplicableInContext(targetContainerType));
<span class="line-modified"> 419   ```</span>
<span class="line-modified"> 420   ```java</span>

 421   String pretty = Stream.of(args)
 422                         .map(Argument::prettyPrint)
 423                         .collectors(joining(&quot;, &quot;));
<span class="line-modified"> 424   ```</span>

 425   :::
 426   :::
 427 
 428   ::: rightcol
 429   ::: box
 430   ::: {.boxheader .donts}
 431   Don’ts
 432   :::
<span class="line-modified"> 433   ```java</span>

 434   // Too strict interpretation of the character limit. Readability suffers.
 435   Error e = isTypeParam
 436         ? Errors.InvalidRepeatableAnnotationNotApplicable(
 437                 targetContainerType, on)
 438         : Errors.InvalidRepeatableAnnotationNotApplicableInContext(
 439                 targetContainerType);
<span class="line-modified"> 440   ```</span>
<span class="line-modified"> 441   ```java</span>

 442   // Should be wrapped even though it fits within the character limit
 443   String pretty = Stream.of(args).map(Argument::prettyPrint).collectors(joining(&quot;, &quot;));
<span class="line-modified"> 444   ```</span>

 445   :::
 446   :::
 447 
 448   ::: clear-floats
 449   :::
 450 
 451 - URLs or example commands should not be wrapped.
 452 - Wrapping at a higher syntactical level is preferred over wrapping at a lower syntactical level.
 453 
 454   ::: leftcol
 455   ::: box
 456   ::: {.boxheader .dos}
 457   Dos
 458   :::
<span class="line-modified"> 459   ```java</span>

 460   aMethodCall(withMany(arguments, that, needs),
 461           to(be, (wrapped - to) * avoid / veryLong - lines));
<span class="line-modified"> 462   ```</span>

 463   :::
 464   :::
 465 
 466   ::: rightcol
 467   ::: box
 468   ::: {.boxheader .donts}
 469   Don’ts
 470   :::
<span class="line-modified"> 471   ```java</span>

 472   aMethodCall(withMany(arguments, that, needs), to(be, (wrapped
 473           - to) * avoid / veryLong - lines));
<span class="line-modified"> 474   ```</span>

 475   :::
 476   :::
 477 
 478   ::: clear-floats
 479   :::
 480 
 481 - There should be at most 1 statement per line.
 482 
 483   ::: leftcol
 484   ::: box
 485   ::: {.boxheader .dos}
 486   Dos
 487   :::
<span class="line-modified"> 488   ```java</span>

 489   i += j;
 490   j += k;
<span class="line-modified"> 491   ```</span>
<span class="line-modified"> 492   ```java</span>

 493   if (condition) {
 494       return expression;
 495   }
<span class="line-modified"> 496   ```</span>

 497   :::
 498   :::
 499 
 500   ::: rightcol
 501   ::: box
 502   ::: {.boxheader .donts}
 503   Don’ts
 504   :::
<span class="line-modified"> 505   ```java</span>

 506   i += j; j += k;
<span class="line-modified"> 507   ```</span>
<span class="line-modified"> 508   ```java</span>

 509   if (condition) { return expression; }
<span class="line-modified"> 510   ```</span>

 511   :::
 512   :::
 513 
 514   ::: clear-floats
 515   :::
 516 
 517 - A continuation line should be indented in one of the following four ways
 518   - **Variant 1:** With 8 extra spaces relative to the indentation of the previous line.
 519   - **Variant 2:** With 8 extra spaces relative to the starting column of the wrapped expression.
 520   - **Variant 3:** Aligned with previous sibling expression (as long as it is clear that it’s a continuation line)
 521   - **Variant 4:** Aligned with previous method call in a chained expression.
 522 
 523   ::: leftcol
 524   ::: box
 525   ::: {.boxheader .dos}
 526   Dos
 527   :::
<span class="line-modified"> 528   ```java</span>

 529   // Variant 1
 530   int anInteger = aMethod(that, takes,
 531           a, lengthy, list, of, arguments);
<span class="line-modified"> 532   ```</span>
<span class="line-modified"> 533   ```java</span>

 534   // Variant 2
 535   int anInteger = that * (is + computed) / using
 536                           + a * complex - expression;
<span class="line-modified"> 537   ```</span>
<span class="line-modified"> 538   ```java</span>

 539   // Variant 3
 540   int anInteger = aMethod(thatTakes,
 541                           aLongList,
 542                           ofArguments);
<span class="line-modified"> 543   ```</span>
<span class="line-modified"> 544   ```java</span>

 545   // Variant 4
 546   int anInteger = IntStream.of(numbers)
 547                            .map(Math::sqrt)
 548                            .sum();
<span class="line-modified"> 549   ```</span>

 550   :::
 551   :::
 552 
 553   ::: rightcol
 554   ::: box
 555   ::: {.boxheader .donts}
 556   Don’ts
 557   :::
<span class="line-modified"> 558   ```java</span>

 559   // Mixing of wrapping variants (unless there
 560   // is a logical grouping of arguments)
 561   int anInteger = aMethod(that,
 562                           takes,
 563                           a, lengthy, list,
 564                           of, arguments);
<span class="line-modified"> 565   ```</span>
<span class="line-modified"> 566   ```java</span>

 567   // Don&#39;t align with sibling expression if the
 568   // continuation line can be confused with a block
 569   // indentation
 570   if (somePredicate() ||
 571       someOtherPredicate()) {
 572       System.out.println(&quot;Avoid&quot;);
 573   }
<span class="line-modified"> 574   ```</span>

 575   :::
 576   :::
 577 
 578   ::: clear-floats
 579   :::
 580 :::
 581 
 582 #### Wrapping Class Declarations
 583 ::: conventions
 584 - A class header should not be wrapped unless it approaches the maximum column limit.
 585 - If it does, it may be wrapped before `extends` and/or `implements` keywords.
 586 - Declarations of type parameters may, if necessary, be wrapped the same way as method arguments
 587 :::
 588 
 589 ::: leftcol
 590 ::: box
 591 [Dos]{.boxheader .dos}
<span class="line-modified"> 592 ```java</span>

 593 public class MyGenericClass&lt;T, S&gt;
 594         extends HashMap&lt;T, S&gt;
 595         implements Comparable&lt;T&gt; {
 596     …
 597 }
<span class="line-modified"> 598 ```</span>
<span class="line-modified"> 599 ```java</span>

 600 public class AnotherClass&lt;K, R&gt; implements Collector&lt;T extends K,
 601                                                      Set&lt;? extends R&gt;,
 602                                                      List&lt;R&gt;&gt; {
 603     …
 604 }
<span class="line-modified"> 605 ```</span>
<span class="line-modified"> 606 ```java</span>

 607 public class AnotherClass&lt;K, R&gt; implements Collector&lt;T extends K,
 608                                                      Set&lt;? extends R&gt;,
 609                                                      List&lt;R&gt;&gt; {
 610     …
 611 }
<span class="line-modified"> 612 ```</span>

 613 :::
 614 :::
 615 
 616 ::: rightcol
 617 ::: box
 618 [Don’ts]{.boxheader .donts}
<span class="line-modified"> 619 ```java</span>

 620 public class MyGenericClass&lt;T&gt; implements Comparable&lt;T&gt;,
 621         Predicate&lt;T&gt; {
 622     …
 623 }
<span class="line-modified"> 624 ```</span>

 625 :::
 626 :::
 627 
 628 
 629 #### Wrapping Method Declarations
 630 ::: conventions
 631 - Method declarations can be formatted by listing the arguments vertically, or by a new line and +8 extra spaces
 632 - If a throws clause needs to be wrapped, put the line break in front of the throws clause and make sure it stands out from the argument list, either by indenting +8 relative to the function declaration, or +8 relative to the previous line.
 633 :::
 634 
 635 ::: leftcol
 636 ::: box
 637 [Dos]{.boxheader .dos}
<span class="line-modified"> 638 ```java</span>

 639 int someMethod(String aString,
 640                List&lt;Integer&gt; aList,
 641                Map&lt;String, String&gt; aMap,
 642                int anInt,
 643                long aLong,
 644                Set&lt;Number&gt; aSet,
 645                double aDouble) {
 646     …
 647 }
<span class="line-modified"> 648 ```</span>
<span class="line-modified"> 649 ```java</span>

 650 int someMethod(String aString, List&lt;Integer&gt; aList,
 651         Map&lt;String, String&gt; aMap, int anInt, long aLong,
 652         double aDouble, long aLong) {
 653     …
 654 }
<span class="line-modified"> 655 ```</span>
<span class="line-modified"> 656 ```java</span>

 657 int someMethod(String aString,
 658                List&lt;Map&lt;Integer, StringBuffer&gt;&gt; aListOfMaps,
 659                Map&lt;String, String&gt; aMap)
 660         throws IllegalArgumentException {
 661     …
 662 }
<span class="line-modified"> 663 ```</span>
<span class="line-modified"> 664 ```java</span>

 665 int someMethod(String aString, List&lt;Integer&gt; aList,
 666         Map&lt;String, String&gt; aMap, int anInt)
 667                 throws IllegalArgumentException {
 668     …
 669 }
<span class="line-modified"> 670 ```</span>

 671 :::
 672 :::
 673 
 674 ::: rightcol
 675 ::: box
 676 [Don’ts]{.boxheader .donts}
<span class="line-modified"> 677 ```java</span>

 678 // If aligning the parameters vertically, don&#39;t put two
 679 // parameters on one line
 680 int someMethod(String aString,
 681                List&lt;Integer&gt; aList,
 682                Map&lt;String, String&gt; aMap,
 683                int anInt, long aLong,
 684                Set&lt;Number&gt; aSet,
 685                double aDouble) {
 686     …
 687 }
<span class="line-modified"> 688 ```</span>
<span class="line-modified"> 689 ```java</span>

 690 int someMethod(String aString,
 691                List&lt;Map&lt;Integer, StringBuffer&gt;&gt; aListOfMaps,
 692                Map&lt;String, String&gt; aMap) throws InterruptedException {
 693     …
 694 }
<span class="line-modified"> 695 ```</span>
<span class="line-modified"> 696 ```java</span>

 697 int someMethod(String aString,
 698                List&lt;Integer&gt; aList,
 699                Map&lt;String, String&gt; aMap)
 700                throws IllegalArgumentException {
 701     …
 702 }
<span class="line-modified"> 703 ```</span>

 704 :::
 705 :::
 706 
 707 
 708 #### Wrapping Expressions
 709 ::: conventions
 710 - If a line approaches the maximum character limit, always consider breaking it down into multiple statements / expressions instead of wrapping the line.
 711 - Break before operators.
 712 - Break before the `.` in chained method calls.
 713 :::
 714 
 715 ::: leftcol
 716 ::: box
 717 [Dos]{.boxheader .dos}
<span class="line-modified"> 718 ```java</span>

 719 methodCall(a * simple - formula,
 720            some + complex - formula * spanning
 721                         + multiple - lines * may
 722                         + look - as * follows);
<span class="line-modified"> 723 ```</span>
<span class="line-modified"> 724 ```java</span>

 725 popupMsg(&quot;Inbox notification: You have &quot;
 726         + newMsgs + &quot; new messages&quot;);
<span class="line-modified"> 727 ```</span>
<span class="line-modified"> 728 ```java</span>

 729 people.stream()
 730       .map(Person::getName)
 731       .forEach(System.out::println);
<span class="line-modified"> 732 ```</span>

 733 :::
 734 :::
 735 
 736 ::: rightcol
 737 ::: box
 738 [Don’ts]{.boxheader .donts}
<span class="line-modified"> 739 ```java</span>

 740 // Arity unclear
 741 methodCall(a * simple - formula,
 742            some + complex - formula * spanning +
 743            multiple - lines * should + not *
 744            look - as * follows);
<span class="line-modified"> 745 ```</span>
<span class="line-modified"> 746 ```java</span>

 747 // Looks like two arguments
 748 popupMsg(&quot;Inbox notification: You have &quot; +
 749          newMsgs + &quot; new messages&quot;);
<span class="line-modified"> 750 ```</span>
<span class="line-modified"> 751 ```java</span>

 752 people.stream().
 753        map(Person::getName).
 754        forEach(System.out::println);
<span class="line-modified"> 755 ```</span>

 756 :::
 757 :::
 758 
 759     
 760 ### Whitespace
 761 #### Vertical Whitespace
 762 ::: conventions
 763 - A single blank line should be used to separate…
 764   - Copyright notice
 765   - Package declaration
 766   - Class declarations
 767   - Constructors
 768   - Methods
 769   - Static initializers
 770   - Instance initializers
 771 
 772   …and may be used to separate logical groups of
 773 
 774   - import statements
 775   - fields
 776   - statements
 777 - Multiple consecutive blank lines should only be used to separate groups of related members and not as the standard inter-member spacing.
 778 :::
 779 
 780 #### Horizontal Whitespace
 781 ::: conventions
 782 - A single space should be used…
 783   - To separate keywords from neighboring opening or closing brackets and braces
 784   - Before and after all binary operators and operator like symbols such as arrows in lambda expressions and the colon in enhanced for loops (but not before the colon of a label)
 785   - After `//` that starts a comment.
 786   - After commas separating arguments and semicolons separating the parts of a for loop.
 787   - After the closing parenthesis of a cast.
 788 - In variable declarations it is not recommended to align types and variables.
 789 :::
 790 
 791 ::: leftcol
 792 ::: box
 793 [Dos]{.boxheader .dos}
<span class="line-modified"> 794 ```java</span>

 795 int someInt;
 796 String myString;
 797 char aChar;
 798 long sixtyfourFlags;
<span class="line-modified"> 799 ```</span>
<span class="line-modified"> 800 ```java</span>

 801 if (isFlagSet(GO)) {
 802     …
 803 }
<span class="line-modified"> 804 ```</span>
<span class="line-modified"> 805 ```java</span>

 806 IntUnaryOperator inc = x -&gt; x + 1;
<span class="line-modified"> 807 ```</span>
<span class="line-modified"> 808 ```java</span>

 809 init: {
 810     …
 811 }
<span class="line-modified"> 812 ```</span>

 813 :::
 814 :::
 815 
 816 ::: rightcol
 817 ::: box
 818 [Don’ts]{.boxheader .donts}
<span class="line-modified"> 819 ```java</span>

 820 int    someInt;
 821 String myString;
 822 char   aChar;
 823 long   sixtyfourFlags;
<span class="line-modified"> 824 ```</span>
<span class="line-modified"> 825 ```java</span>

 826 if( isFlagSet( GO ) ) {
 827     …
 828 }
<span class="line-modified"> 829 ```</span>
<span class="line-modified"> 830 ```java</span>

 831 IntUnaryOperator inc = x-&gt;x + 1;
<span class="line-modified"> 832 ```</span>
<span class="line-modified"> 833 ```java</span>

 834 init : {
 835     …
 836 }
<span class="line-modified"> 837 ```</span>

 838 :::
 839 :::
 840 
 841 
 842 ::: box
 843 [Motivation]{.boxheader}
 844 The improvement in readability when aligning variable names is negligible compared to the efforts needed to keep them aligned as the code evolves. Realigning all variables when one of the types change also causes unnecessarily complicated patches to review.
 845 :::
 846 
 847 ### Variable Declarations
 848 ::: conventions
 849 - One variable per declaration (and at most one declaration per line)
 850 - Square brackets of arrays should be at the type (`String[] args`) and not on the variable (`String args[]`).
 851 - Declare a local variable right before it is first used, and initialize it as close to the declaration as possible.
 852 :::
 853 
 854 ### Annotations
 855 ::: conventions
 856 - Declaration annotations should be put on a separate line from the declaration being annotated.
 857 - Few/short annotations annotating a single-line method may however be put on the same line as the method if it improves readability.
 858 - Either all annotations should be put on the same line or each annotation should be put on a separate line.
 859 :::
 860 
 861 ::: leftcol
 862 ::: box
 863 [Dos]{.boxheader .dos}
<span class="line-modified"> 864 ```java</span>

 865 @Deprecated
 866 @Override
 867 public void foo() {
 868     …
 869 }
<span class="line-modified"> 870 ```</span>
<span class="line-modified"> 871 ```java</span>

 872 @Deprecated @Override
 873 public void foo() {
 874     …
 875 }
<span class="line-modified"> 876 ```</span>
<span class="line-modified"> 877 ```java</span>

 878 addListener(new Listener() {
 879  
 880     // Ignored events
 881     @Override public void event1() { }
 882     @Override public void event2() { }
 883     @Override public void event3() { }
 884  
 885     // Important event
 886     @Override
 887     public void event4() {
 888         …
 889     }
 890 });
<span class="line-modified"> 891 ```</span>

 892 :::
 893 :::
 894 
 895 ::: rightcol
 896 ::: box
 897 [Don’ts]{.boxheader .donts}
<span class="line-modified"> 898 ```java</span>

 899 @Override @Deprecated public void foo() {
 900     …
 901 }
<span class="line-modified"> 902 ```</span>
<span class="line-modified"> 903 ```java</span>

 904 @Override @Deprecated
 905 @SafeVarargs
 906 public void foo() {
 907     …
 908 }
<span class="line-modified"> 909 ```</span>

 910 :::
 911 :::
 912 
 913 
 914 ### Lambda Expressions
 915 ::: conventions
 916 - Expression lambdas are preferred over single-line block lambdas.
 917 - Method references should generally be preferred over lambda expressions.&lt;br /&gt;&lt;br /&gt;
 918   For bound instance method references, or methods with arity greater than one, a lambda expression may be easier to understand and therefore preferred. Especially if the behavior of the method is not clear from the context.
 919 - The parameter types should be omitted unless they improve readability.
 920 - If a lambda expression stretches over more than a few lines, consider creating a method.
 921 :::
 922 
 923 ::: leftcol
 924 ::: box
 925 [Dos]{.boxheader .dos}
<span class="line-modified"> 926 ```java</span>

 927 Runnable r = () -&gt; System.out.println(&quot;Hello World&quot;);
<span class="line-modified"> 928 ```</span>
<span class="line-modified"> 929 ```java</span>

 930 Supplier&lt;String&gt; c = () -&gt; &quot;Hello World&quot;;
<span class="line-modified"> 931 ```</span>
<span class="line-modified"> 932 ```java</span>

 933 // Collection::contains is a simple unary method and its behavior is
 934 // clear from the context. A method reference is preferred here.
 935 appendFilter(goodStrings::contains);
<span class="line-modified"> 936 ```</span>
<span class="line-modified"> 937 ```java</span>

 938 // A lambda expression is more readable in this case
 939 // (cf. corresponding example in Don&#39;ts section)
 940 trackTemperature((time, temp) -&gt; tempMap.put(time, temp));
<span class="line-modified"> 941 ```</span>
<span class="line-modified"> 942 ```java</span>

 943 Function&lt;Person, String&gt; nameFunc = p -&gt; p.getFirstName() + &quot; &quot; + p.getLastName();
<span class="line-modified"> 944 ```</span>
<span class="line-modified"> 945 ```java</span>

 946 class Util {
 947     private static String getCapitalizedFirstName(Person p) {
 948         String first = p.getFirstName();
 949         char initial = Character.toUpperCase(first.charAt(0));
 950         return initial + first.substring(1);
 951     }
 952  
 953     static void printAllPeople(List&lt;Person&gt; people) {
 954         people.stream()
 955               .map(Util::getCapitalizedFirstName)
 956               .forEach(System.out::println);
 957     }
 958 }
<span class="line-modified"> 959 ```</span>

 960 :::
 961 :::
 962 
 963 ::: rightcol
 964 ::: box
 965 [Don’ts]{.boxheader .donts}
<span class="line-modified"> 966 ```java</span>

 967 Runnable r = () -&gt; { System.out.println(&quot;Hello World&quot;); };
<span class="line-modified"> 968 ```</span>
<span class="line-modified"> 969 ```java</span>

 970 Supplier&lt;String&gt; s = () -&gt; { return &quot;Hello World&quot;; };
<span class="line-modified"> 971 ```</span>
<span class="line-modified"> 972 ```java</span>

 973 // A lambda expression is not needed here
 974 appendFilter(s -&gt; goodStrings.contains(s));
<span class="line-modified"> 975 ```</span>
<span class="line-modified"> 976 ```java</span>

 977 // Map::put is a binary function, and it’s not clear from context what type
 978 // of argument trackTemperature accepts. A lambda expression is better here.
 979 trackTemperature(tempMap::put);
<span class="line-modified"> 980 ```</span>
<span class="line-modified"> 981 ```java</span>

 982 // Unnecessary parameter type
 983 Function&lt;Person, String&gt; nameFunc = (Person p) -&gt; p.getFirstName() + &quot; &quot; + p.getLastName();
<span class="line-modified"> 984 ```</span>
<span class="line-modified"> 985 ```java</span>

 986 class Util {
 987     static void printAllPeople(List&lt;Person&gt; people) {
 988         people.stream()
 989               .map(p -&gt; {
 990                   String first = p.getFirstName();
 991                   char initial = Character.toTitleCase(first.charAt(0));
 992                   return initial + first.substring(1);
 993               })
 994               .forEach(System.out::println);
 995     }
 996 }
<span class="line-modified"> 997 ```</span>

 998 :::
 999 :::
1000 
1001 
1002 ### Redundant Parentheses
1003 ::: conventions
1004 - Redundant grouping parentheses (i.e. parentheses that does not affect evaluation) may be used if they improve readability.
1005 - Redundant grouping parentheses should typically be left out in shorter expressions involving common operators but included in longer expressions or expressions involving operators whose precedence and associativity is unclear without parentheses. Ternary expressions with non-trivial conditions belong to the latter.
1006 - The entire expression following a return keyword must not be surrounded by parentheses.
1007 :::
1008 
1009 ::: leftcol
1010 ::: box
1011 [Dos]{.boxheader .dos}
<span class="line-modified">1012 ```java</span>

1013 return flag ? &quot;yes&quot; : &quot;no&quot;;
<span class="line-modified">1014 ```</span>
<span class="line-modified">1015 ```java</span>

1016 String cmp = (flag1 != flag2) ? &quot;not equal&quot; : &quot;equal&quot;;
<span class="line-modified">1017 ```</span>

1018 :::
1019 :::
1020 
1021 ::: rightcol
1022 ::: box
1023 [Don’ts]{.boxheader .donts}
<span class="line-modified">1024 ```java</span>

1025 return (flag ? &quot;yes&quot; : &quot;no&quot;);
<span class="line-modified">1026 ```</span>

1027 :::
1028 :::
1029 
1030 
1031 ### Literals
1032 ::: conventions
1033 - `long` literals should use the upper case letter `L` suffix.
1034 - Hexadecimal literals should use upper case letters `A`-`F`.
1035 - All other numerical prefixes, infixes, and suffixes should use lowercase letters.
1036 :::
1037 
1038 ::: leftcol
1039 ::: box
1040 [Dos]{.boxheader .dos}
<span class="line-modified">1041 ```java</span>

1042 long l = 5432L;
1043 int i = 0x123 + 0xABC;
1044 byte b = 0b1010;
1045 float f1 = 1 / 5432f;
1046 float f2 = 0.123e4f;
1047 double d1 = 1 / 5432d;  // or 1 / 5432.0
1048 double d2 = 0x1.3p2;
<span class="line-modified">1049 ```</span>

1050 :::
1051 :::
1052 
1053 ::: rightcol
1054 ::: box
1055 [Don’ts]{.boxheader .donts}
<span class="line-modified">1056 ```java</span>

1057 long l = 5432l;
1058 int i = 0X123 + 0xabc;
1059 byte b = 0B1010;
1060 float f1 = 1 / 5432F;
1061 float f2 = 0.123E4f;
1062 double d1 = 1 / 5432D;
1063 double d2 = 0x1.3P2;
<span class="line-modified">1064 ```</span>

1065 :::
1066 :::
1067 
1068 
1069 ::: box
1070 [Motivation]{.boxheader}
1071 Lower case L resembles a 1 in many monospace fonts which means that the literal `5432l` can be confused with `54321`. Using upper case `L` suffix avoids this. The lowercase `0x`, `0b`, `e`, `p`, `f`, and `d` characters are easier to spot in a long sequence of digits, and they avoid confusion with the hexadecimal digits `A`-`F`.
1072 :::
1073 
<span class="line-removed">1074 ### Javadoc</span>
<span class="line-removed">1075 This section only covers basic Javadoc formatting. For a complete reference refer to &amp;nbsp;[How to Write Doc Comments for the Javadoc Tool](http://www.oracle.com/technetwork/articles/java/index-137868.html).</span>
<span class="line-removed">1076 </span>
<span class="line-removed">1077 ::: conventions</span>
<span class="line-removed">1078 - Start longer comments with a short summarizing sentence since Javadoc includes this in the method summary table.</span>
<span class="line-removed">1079 - Prefer inline tags (such as `{@code …}` and `{@link …}` etc) over corresponding HTML tags (`&lt;code&gt;…&lt;/code&gt;`, `&lt;a href=&quot;…&quot;&gt;…&lt;/a&gt;` etc).</span>
<span class="line-removed">1080 - Use `&lt;p&gt;` to separate paragraphs (closing `&lt;/p&gt;` tags are not needed and should not be used)</span>
<span class="line-removed">1081 :::</span>
<span class="line-removed">1082 </span>
<span class="line-removed">1083 ::: leftcol</span>
<span class="line-removed">1084 ::: box</span>
<span class="line-removed">1085 [Dos]{.boxheader .dos}</span>
<span class="line-removed">1086 ```java</span>
<span class="line-removed">1087 /** A short javadoc comment */</span>
<span class="line-removed">1088 ```</span>
<span class="line-removed">1089 ```java</span>
<span class="line-removed">1090 /**</span>
<span class="line-removed">1091  * …</span>
<span class="line-removed">1092  *</span>
<span class="line-removed">1093  * &lt;blockquote&gt;{@code</span>
<span class="line-removed">1094  *     List&lt;String&gt; names;</span>
<span class="line-removed">1095  * }&lt;/blockquote&gt;</span>
<span class="line-removed">1096  */</span>
<span class="line-removed">1097 ```</span>
<span class="line-removed">1098 :::</span>
<span class="line-removed">1099 :::</span>
<span class="line-removed">1100 </span>
<span class="line-removed">1101 ::: rightcol</span>
<span class="line-removed">1102 ::: box</span>
<span class="line-removed">1103 [Don’ts]{.boxheader .donts}</span>
<span class="line-removed">1104 ```java</span>
<span class="line-removed">1105 /** put on single line instead</span>
<span class="line-removed">1106  */</span>
<span class="line-removed">1107 ```</span>
<span class="line-removed">1108 ```java</span>
<span class="line-removed">1109 /**</span>
<span class="line-removed">1110  * The &lt;String&gt; below may interfere with the HTML!</span>
<span class="line-removed">1111  *</span>
<span class="line-removed">1112  * &lt;blockquote&gt;&lt;pre&gt;</span>
<span class="line-removed">1113  *     List&lt;String&gt; names;</span>
<span class="line-removed">1114  * &lt;/pre&gt;&lt;/blockquote&gt;</span>
<span class="line-removed">1115  */</span>
<span class="line-removed">1116 ```</span>
<span class="line-removed">1117 :::</span>
<span class="line-removed">1118 :::</span>
<span class="line-removed">1119 </span>
<span class="line-removed">1120 </span>
1121 ## Naming
1122 ::: conventions
1123 - Avoid hiding/shadowing methods, variables and type variables in outer scopes.
1124 - Let the verbosity of the name correlate to the size of the scope. (For instance, use descriptive names for fields of large classes and brief names for local short-lived variables.)
1125 - When naming public static members, let the identifier be self descriptive if you believe they will be statically imported.
1126 :::
1127 
1128 ### Package Names
1129 ::: conventions
1130 - Package names should be all lower case without underscores or other special characters.
1131 - Don’t use plural form. Follow the convention of the standard API which uses for instance `java.lang.annotation` and not `java.lang.annotations`.
1132 :::
1133 
1134 ### Class, Interface and Enum Names
1135 ::: conventions
1136 - Class and enum names should typically be nouns.
1137 - Interface names should typically be nouns or adjectives ending with *…able*.
1138 - Use mixed case with the first letter in each word in upper case.
1139 - Use whole words and avoid using abbreviations unless the abbreviation is more widely used than the long form.
1140 - Format an abbreviation as a word if the it is part of a longer class name.
1141 :::
1142 
1143 ::: leftcol
1144 ::: box
1145 [Dos]{.boxheader .dos}
<span class="line-modified">1146 ```java</span>

1147 class EmptyCell {
1148     …
1149 }
<span class="line-modified">1150 ```</span>
<span class="line-modified">1151 ```java</span>

1152 class RunningMode {
1153     …
1154 }
<span class="line-modified">1155 ```</span>
<span class="line-modified">1156 ```java</span>

1157 interface Expandable {
1158     …
1159 }
<span class="line-modified">1160 ```</span>
<span class="line-modified">1161 ```java</span>

1162 class XmlParser {
1163     …
1164 }
<span class="line-modified">1165 ```</span>

1166 :::
1167 :::
1168 
1169 ::: rightcol
1170 ::: box
1171 [Don’ts]{.boxheader .donts}
<span class="line-modified">1172 ```java</span>

1173 class Empty {
1174     …
1175 }
<span class="line-modified">1176 ```</span>
<span class="line-modified">1177 ```java</span>

1178 class Running {
1179     …
1180 }
<span class="line-modified">1181 ```</span>
<span class="line-modified">1182 ```java</span>

1183 class Expandable {
1184     …
1185 }
<span class="line-modified">1186 ```</span>
<span class="line-modified">1187 ```java</span>

1188 // Abbreviation should be formatted as &#39;Xml&#39;
1189 class XMLParser {
1190     …
1191 }
<span class="line-modified">1192 ```</span>

1193 :::
1194 :::
1195 
1196         
1197 ### Method Names
1198 ::: conventions
1199 - Method names should typically be verbs or other descriptions of actions.
1200 - Use mixed case with the first letter in lower case.
1201 :::
1202 
1203 ::: leftcol
1204 ::: box
1205 [Dos]{.boxheader .dos}
<span class="line-modified">1206 ```java</span>

1207 public void expand() {
1208     …
1209 }
<span class="line-modified">1210 ```</span>
<span class="line-modified">1211 ```java</span>

1212 public boolean isExpanding() {
1213     …
1214 }
<span class="line-modified">1215 ```</span>
<span class="line-modified">1216 ```java</span>

1217 public State getState() {
1218     …
1219 }
<span class="line-modified">1220 ```</span>

1221 :::
1222 :::
1223 
1224 ::: rightcol
1225 ::: box
1226 [Don’ts]{.boxheader .donts}
<span class="line-modified">1227 ```java</span>

1228 public boolean expanding() {
1229     …
1230 }
<span class="line-modified">1231 ```</span>
<span class="line-modified">1232 ```java</span>

1233 public State GetState() {
1234     …
1235 }
<span class="line-modified">1236 ```</span>
<span class="line-modified">1237 ```java</span>

1238 public int get_index() {
1239     …
1240 }
<span class="line-modified">1241 ```</span>

1242 :::
1243 :::
1244 
1245 
1246 
1247 ### Variables
1248 ::: conventions
1249 - Variable names should be in mixed case with the first letter in lower case.
1250 :::
1251 
1252 ::: leftcol
1253 ::: box
1254 [Dos]{.boxheader .dos}
<span class="line-modified">1255 ```java</span>

1256 int currentIndex;
1257 boolean dataAvailable;
<span class="line-modified">1258 ```</span>

1259 :::
1260 :::
1261 
1262 ::: rightcol
1263 ::: box
1264 [Don’ts]{.boxheader .donts}
<span class="line-modified">1265 ```java</span>

1266 int current_index;
1267 boolean DataAvailable;
<span class="line-modified">1268 ```</span>

1269 :::
1270 :::
1271 
1272 
1273 ### Type Variables
1274 ::: conventions
1275 - For simple cases where there are few type variables involved use a single upper case letter.
1276 - If one letter is more descriptive than another (such as `K` and `V` for keys and values in maps or `R` for a function return type) use that, otherwise use `T`.
1277 - For complex cases where single letter type variables become confusing, use longer names written in all capital letters and use underscore (`_`) to separate words.
1278 :::
1279 
1280 ::: leftcol
1281 ::: box
1282 [Dos]{.boxheader .dos}
<span class="line-modified">1283 ```java</span>

1284 interface SpecialMap&lt;K, V&gt; extends Map&lt;K, V&gt; {
1285     …
1286 }
<span class="line-modified">1287 ```</span>
<span class="line-modified">1288 ```java</span>

1289 class GraphMapper&lt;SRC_VERTEX, SRC_EDGE, DST_VERTEX, DST_EDGE&gt; {
1290     …
1291 }
<span class="line-modified">1292 ```</span>

1293 :::
1294 :::
1295 
1296 ::: rightcol
1297 ::: box
1298 [Don’ts]{.boxheader .donts}
<span class="line-modified">1299 ```java</span>

1300 interface SpecialMap&lt;Key, Value&gt; extends Map&lt;Key, Value&gt; {
1301     …
1302 }
<span class="line-modified">1303 ```</span>
<span class="line-modified">1304 ```java</span>

1305 class GraphMapper&lt;S, T, U, V&gt; {
1306     …
1307 }
<span class="line-modified">1308 ```</span>

1309 :::
1310 :::
1311 
1312 
1313 ### Constants
1314 ::: conventions
1315 - Constants (static final fields whose content is immutable, by language rules or by convention) should be named with all capital letters and underscore (`_`) to separate words.
1316 :::
1317 
1318 ::: leftcol
1319 ::: box
1320 [Dos]{.boxheader .dos}
<span class="line-modified">1321 ```java</span>

1322 public static final int BUFFER_SIZE = 1024;
<span class="line-modified">1323 ```</span>
<span class="line-modified">1324 ```java</span>

1325 enum ApplicationMode { RUNNING, PAUSED, TERMINATED }
<span class="line-modified">1326 ```</span>

1327 :::
1328 :::
1329 
1330 ::: rightcol
1331 ::: box
1332 [Don’ts]{.boxheader .donts}
<span class="line-modified">1333 ```java</span>

1334 public final List&lt;String&gt; CURRENT_WORDS = new ArrayList&lt;&gt;();
<span class="line-modified">1335 ```</span>
<span class="line-modified">1336 ```java</span>

1337 enum ApplicationMode { Running, Paused, Terminated }
<span class="line-modified">1338 ```</span>

1339 :::
1340 :::
1341 
1342 
1343 ## Programming Practices
<span class="line-modified">1344 The focus of the guidelines in this document is on style. General guidelines on best programming practices, use of design patterns, how to structure programs etc is thus out of scope.&amp;nbsp;A few “low level” practices that are easy to pin down is however good to agree upon.</span>
1345 
1346 ::: conventions
1347 - Always use `@Override` where it is possible to do so.
1348 - Document any non-obvious pre and post conditions (also for private methods). In particular, all parameters / return values are assumed to be non-null unless explicitly stated otherwise.
1349 - Avoid checking in “`TODO`” comments. If the missing code doesn’t affect correctness or performance, skip the comment, otherwise file an issue for it.
1350 - Avoid checking in dead code.
1351 - Static mutable state should be used judiciously. In particular enums should not have mutable state, and any public static variable must also be final.
1352 - Static methods and fields that are accessed out of scope should be qualified with the identifier of the class that declares them and not with a subclass or an instance variable.
1353 - Fall through on non-empty cases in switch statements should be documented, typically with a “`// fall through`” comment.
1354 - Mutating method parameters is discouraged. This is because parameters are typically associated with the input values and by mutating these the code may be harder to understand, especially when only looking at parts of the method below the mutation.
1355 - Keep methods short. Consider splitting up long methods into smaller ones to limit variable scopes and simplify structure of the code.
1356 :::
1357 
1358 ### Commenting Code
1359 ::: conventions
1360 - First and foremost, try to make the code simple enough that it’s self explanatory. While comments explaining the code are good, not having to explain the code is better.
1361 - For single line comments, use end-of-line comments (`//`) otherwise use multiline comments (`/* … */`).
1362 - Avoid comments that run the risk of getting out of sync as the code evolves. (If a comment runs the risk of getting out of sync, it’s often a sign that it comments how the code works rather than what the code achieves.)
1363 - Small well documented methods are preferred over longer methods with comments in the body of the method.
1364 - Don’t check in code that’s commented out.
1365 - IDE/tool-specific comments should be avoided wherever possible, especially when there are reasonable alternatives, such as external settings files, etc.
1366 - Comments should be grammatically correct and follow general recommendations of technical writing.



1367 :::
<span class="line-modified">1368     </span>













































1369 ## When to reformat code
1370 ::: conventions
1371 - Do not reformat code in files unrelated to the current changeset, even if the code doesn’t adhere to the guidelines.
1372 - Minor cleanups in files that are already touched for other reasons are fine. Put the cleanups in a separate patch if you think it will simplify the review process. Large cleanups should always go in a separate changeset.
1373 :::
1374 
1375 ::: box
1376 [Motivation]{.boxheader}
1377 Cleaning up code that’s unrelated to the patch may…
1378 - Complicate the review of the patch in which case correctness may suffer
1379 - Run the risk of breaking existing code
1380 - Have a downstream impact, e.g. affect ports to other versions.
1381 - Trigger an unnecessary debate (perhaps the original formatting was intentional).
1382 :::
1383 
1384 ## Cases not covered
1385 ::: conventions
1386 - If some aspect is not covered by these guidelines one should fall back on the style of the surrounding code within the same file, within the package or within the project in that order.
1387 :::
1388 
</pre>
</td>
<td>
<hr />
<pre>
   1 % Java Style Guide
   2 
   3 ::: {.NavBit}
   4 [« Previous](mailinglists.html) • [TOC](index.html) • [Next »](changePlanning.html)
   5 :::
   6 
<span class="line-modified">   7 While this section covers a lot of ground, it should be noted that no style guide can answer all questions for us, and developers will always need to use good judgment towards the end of producing code that is correct, readable, maintainable, debuggable, consistently formatted, and aesthetically pleasing.</span>
   8 
<span class="line-modified">   9 Examples in this section are non-normative; While they intend to illustrate correct way of formatting the code, there may be other ways to correctly format the code. This is a general principle: There may be several ways to format the code, all adhering to the guidelines in this section.</span>
  10 
  11 Tool support is nice, but ultimately each IDE and style checking tool can handle different sets of rules, and support for rules that can’t be handled today might be added in future versions. So, whether a rule plays well with tools or not can be a factor, but it’s secondary to the above principles.
  12 
  13 ## Overview
  14 
  15 - [Java Source Files](#java-source-files)  
  16   - [Special Characters](#special-characters)  
  17 - [Formatting](#formatting)  
  18   - [Copyright notice](#copyright-notice)  
  19   - [Package declaration](#package-declaration)  
  20   - [Import statements](#import-statements)  
  21   - [Class Structure](#class-structure)  
  22   - [Modifiers](#modifiers)  
  23   - [Braces](#braces)  
  24   - [Indentation](#indentation)  
  25   - [Wrapping Lines](#wrapping-lines)  
  26   - [Whitespace](#whitespace)  
  27   - [Variable Declarations](#variable-declarations)  
  28   - [Annotations](#annotations)  
  29   - [Lambda Expressions](#lambda-expressions)  
</pre>
<hr />
<pre>
  76 
  77 The short forms (e.g. `\t`) are commonly used and easier to recognize than the corresponding longer forms (`\011`, `\u0009`).
  78 :::
  79 
  80 ## Formatting
  81 ::: conventions
  82 - A Java source file should be structured as follows:
  83   1. The copyright notice
  84   1. Package declaration
  85   1. Import statements
  86   1. Class declaration
  87 - There may be only one top level class declaration per file.
  88 :::
  89 
  90 ### Copyright notice
  91 ::: conventions
  92 - All source files should have an appropriate copyright notice at the top of the file.
  93 
  94 - For files under Oracle copyright, the copyright notice must follow the standard wording and format. In particular the first two lines should be
  95 
<span class="line-modified">  96   ~~~java</span>
  97   /*
  98    * Copyright (c) 2011, Oracle and/or its affiliates. All rights reserved.
<span class="line-modified">  99   ~~~</span>
<span class="line-added"> 100 </span>
 101   or
<span class="line-modified"> 102 </span>
<span class="line-added"> 103   ~~~java</span>
 104   /*
 105    * Copyright (c) 2011, 2015, Oracle and/or its affiliates. All rights reserved.
<span class="line-modified"> 106   ~~~</span>
<span class="line-added"> 107 </span>
 108   where the first year is the year the file was created and the second year is the year the file was last edited.
 109 :::
 110 
 111 For questions regarding Oracle copyright or license notices, please contact [iris.clark@oracle.com](mailto:iris.clark@oracle.com).
 112 
 113 ### Package declaration
 114 ::: conventions
 115 - The package declaration should not be line wrapped, regardless of whether it exceeds the recommended maximum length of a line. (See section on [Wrapping Lines](#wrapping-lines).)
 116 :::
 117 
 118 ### Import statements
 119 ::: conventions
 120 - Import statements should be sorted…
 121   - …primarily by non-static / static with non-static imports first.
 122   - …secondarily by package origin according to the following order
 123     - `java` packages
 124     - `javax` packages
 125     - external packages (e.g. `org.xml`)
 126     - internal packages (e.g. `com.sun`)
 127   - …tertiary by package and class identifier in lexicographical order
</pre>
<hr />
<pre>
 148 ### Class Structure
 149 ::: conventions
 150 - The recommended order of class members is the following:
 151   1. Fields
 152   1. Constructors
 153   1. Factory methods
 154   1. Other Methods
 155 - Related fields should be grouped together. Ordering fields primarily according to access modifiers or identifier is not required. The same applies to methods.
 156 - Nested types should be grouped at the top of the class, or else defined before first use.
 157 :::
 158 
 159 #### Order of Constructors and Overloaded Methods
 160 ::: conventions
 161 - Constructors and overloaded methods should be grouped together by functionality and ordered with increasing arity. This implies that delegation among these constructs flow downward in the code.
 162 - Constructors and overloaded methods should generally not be split apart by other members.
 163 :::
 164 
 165 ::: leftcol
 166 ::: box
 167 [Dos]{.boxheader .dos}
<span class="line-modified"> 168 </span>
<span class="line-added"> 169 ~~~java</span>
 170 public HashSet() {
 171     this(DEFAULT_INITIAL_CAPACITY);
 172 }
 173 
 174 public HashSet(int capacity) {
 175     this(capacity, DEFAULT_LOAD_FACTOR);
 176 }
 177 
 178 public HashSet(int capacity, double loadFactor) {
 179     …
 180 }
<span class="line-modified"> 181 ~~~</span>
<span class="line-added"> 182 </span>
 183 :::
 184 :::
 185 
 186 ::: rightcol
 187 ::: box
 188 [Don’ts]{.boxheader .donts}
<span class="line-modified"> 189 </span>
<span class="line-added"> 190 ~~~java</span>
 191 // Overloaded methods should not be split apart
 192 void logValue(int i) {
 193     log(&quot;Int: %d&quot;, i);
 194 }
 195 
 196 void setValue(int i) {
 197     val = i;
 198 }
 199 
 200 void logValue(double d) {
 201     log(&quot;Double: %.2d&quot;, d);
 202 }
 203 
 204 void setValue(double d) {
 205     val = d;
 206 }
<span class="line-modified"> 207 ~~~</span>
<span class="line-added"> 208 </span>
 209 :::
 210 :::
 211 
 212 ::: box
 213 [Motivation]{.boxheader}
 214 This order puts the most generally applicable versions first. Also, making sure delegation is always done downwards in the file makes the code easier to follow.
 215 :::
 216 
 217 ### Modifiers
 218 ::: conventions
 219 - Modifiers should go in the following order
 220   1. Access modifier (`public` / `private` / `protected`)
 221   1. `abstract`
 222   1. `static`
 223   1. `final`
 224   1. `transient`
 225   1. `volatile`
 226   1. `default`
 227   1. `synchronized`
 228   1. `native`
</pre>
<hr />
<pre>
 238 
 239 Although method parameters should typically not be mutated, consistently marking all parameters in every methods as `final` is an exaggeration.
 240 
 241 Making fields immutable where possible is good programming practice. Refer to *Effective Java, Item 15: Minimize Mutability* for details.
 242 :::
 243 
 244 ### Braces
 245 ::: conventions
 246 - Opening braces should be put on the end of the current line rather than on a line by its own.
 247 - There should be a new line in front of a closing brace unless the block is empty (see [Short Forms](#short-forms) below)
 248 - Braces are recommended even where the language makes them optional, such as single-line if and loop bodies.
 249   - If a block spans more than one line (including comments) it must have braces.
 250   - If one of the blocks in a if / else statement has braces, the other block must too.
 251   - If the block comes last in an enclosing block, it must have braces.
 252 - The `else`,&amp;nbsp;`catch` and the `while` keyword in `do`…`while` loops go on the same line as the closing brace of the preceding block.
 253 :::
 254 
 255 ::: leftcol
 256 ::: box
 257 [Dos]{.boxheader .dos}
<span class="line-modified"> 258 </span>
<span class="line-added"> 259 ~~~java</span>
 260 void method() {
 261     …
 262 }
<span class="line-modified"> 263 ~~~</span>
<span class="line-modified"> 264 </span>
<span class="line-added"> 265 ~~~java</span>
 266 try {
 267     something();
 268 } catch (AnException e) {
 269     …
 270 }
<span class="line-modified"> 271 ~~~</span>
<span class="line-modified"> 272 </span>
<span class="line-added"> 273 ~~~java</span>
 274 for (int[] row : matrix) {
 275     for (int val : row) {
 276         sum += val;
 277     }
 278 }
<span class="line-modified"> 279 ~~~</span>
<span class="line-added"> 280 </span>
 281 :::
 282 :::
 283 
 284 ::: rightcol
 285 ::: box
 286 [Don’ts]{.boxheader .donts}
<span class="line-modified"> 287 </span>
<span class="line-added"> 288 ~~~java</span>
 289 // Wrong placement of opening brace
 290 void method()
 291 {
 292     …
 293 }
<span class="line-modified"> 294 ~~~</span>
<span class="line-modified"> 295 </span>
<span class="line-added"> 296 ~~~java</span>
 297 // Newline in front of catch should be avoided
 298 try {
 299     something();
 300 }
 301 catch (AnException e) {
 302     …
 303 }
<span class="line-modified"> 304 ~~~</span>
<span class="line-modified"> 305 </span>
<span class="line-added"> 306 ~~~java</span>
 307 // Braces should be used
 308 if (flag)
 309     // Restore x
 310     x = 1;
<span class="line-modified"> 311 ~~~</span>
<span class="line-modified"> 312 </span>
<span class="line-added"> 313 ~~~java</span>
 314 // Use braces if block comes last in enclosing block
 315 // to avoid accidentally indenting the closing brace.
 316 for (int[] row : matrix) {
 317     for (int val : row)
 318         sum += val;
 319 }
<span class="line-modified"> 320 ~~~</span>
<span class="line-added"> 321 </span>
 322 :::
 323 :::
 324 
 325 ::: box
 326 [Motivation]{.boxheader}
 327 Putting opening braces on the end of the line (as opposed to on a line of its own) is a long standing Java convention. This style is also suitable for Java, considering that it’s common to have small blocks (in for instance anonymous classes and lambda expressions) and having opening braces on a separate line creates an unnecessary amount of white space in such situations.
 328 
 329 Omitting braces is error prone and can lead to mistakes in the indentation and hard to detect bugs.
 330 :::
 331 
 332 #### Short Forms
 333 ::: conventions
 334 - The above recommendations are intended to improve uniformity (and thus increase familiarity / readability). In some cases “short forms” that deviate from the above guidelines are just as readable and may be used instead. These cases include for instance simple enum declarations and trivial methods and lambda expressions.
 335 :::
 336 
 337 
 338 ::: leftcol
 339 ::: box
 340 [Dos]{.boxheader .dos}
<span class="line-modified"> 341 </span>
<span class="line-added"> 342 ~~~java</span>
 343 enum Response { YES, NO, MAYBE }
<span class="line-modified"> 344 ~~~</span>
<span class="line-modified"> 345 </span>
<span class="line-added"> 346 ~~~java</span>
 347 public boolean isReference() { return true; }
<span class="line-modified"> 348 ~~~</span>
<span class="line-added"> 349 </span>
 350 :::
 351 :::
 352 
 353 ::: rightcol
 354 ::: box
 355 [Don’ts]{.boxheader .donts}
<span class="line-modified"> 356 </span>
<span class="line-added"> 357 ~~~java</span>
 358 public boolean getResult() { int value = getValue(); return value &lt; 0 ? 0 : value; }
<span class="line-modified"> 359 ~~~</span>
<span class="line-modified"> 360 </span>
<span class="line-added"> 361 ~~~java</span>
 362 for (int i = 0; i &lt; size; i++) { sum += data[i]; }
<span class="line-modified"> 363 ~~~</span>
<span class="line-added"> 364 </span>
 365 :::
 366 :::
 367 
 368 
 369 ### Indentation
 370 ::: conventions
 371 - Indentation level is four spaces.
 372 - Only space characters may be used for indentation. No tabs.
 373 - Empty lines must not be indented. (This is implied by the no trailing white space rule.)
 374 - `case` lines should be indented with four spaces, and statements within the case should be indented with another four spaces.
 375 :::
 376 Refer to Section&amp;nbsp;[Wrapping Lines](#wrapping-lines)&amp;nbsp;for guidelines on how to indent continuation lines.
 377 
 378 ::: leftcol
 379 ::: box
 380 [Dos]{.boxheader .dos}
<span class="line-modified"> 381 </span>
<span class="line-added"> 382 ~~~java</span>
 383 switch (var) {
 384     case TWO:
 385         setChoice(&quot;two&quot;);
 386         break;
 387     case THREE:
 388         setChoice(&quot;three&quot;);
 389         break;
 390     default:
 391         throw new IllegalArgumentException();
 392 }
<span class="line-modified"> 393 ~~~</span>
<span class="line-added"> 394 </span>
 395 :::
 396 :::
 397 
 398 ::: rightcol
 399 ::: box
 400 [Don’ts]{.boxheader .donts}
<span class="line-modified"> 401 </span>
<span class="line-added"> 402 ~~~java</span>
 403 switch (var) {
 404 case TWO:
 405     setChoice(&quot;two&quot;);
 406     break;
 407 case THREE:
 408     setChoice(&quot;three&quot;);
 409     break;
 410 default:
 411     throw new IllegalArgumentException();
 412 }
<span class="line-modified"> 413 ~~~</span>
<span class="line-added"> 414 </span>
 415 :::
 416 :::
 417 
 418 
 419 ::: box
 420 [Motivation]{.boxheader}
 421 By using spaces for indentation, problems regarding different default settings for tab stops in various editors are avoided.
 422 :::
 423 
 424 ### Wrapping Lines
 425 ::: conventions
 426 - Source code and comments should generally not exceed 80 characters per line and rarely if ever exceed 100 characters per line, including indentation.
 427 
 428   ::: box
 429   ::: boxheader
 430   Note
 431   :::
 432   The character limit must be judged on a case by case basis. What really matters is the semantical “density” and readability of the line. Making lines gratuitously long makes them hard to read; similarly, making “heroic attempts” to fit them into 80 columns can also make them hard to read. The flexibility outlined here aims to enable developers to avoid these extremes, not to maximize use of monitor real-estate.
 433   :::
 434 
 435   ::: leftcol
 436   ::: box
 437   ::: {.boxheader .dos}
 438   Dos
 439   :::
<span class="line-modified"> 440   </span>
<span class="line-added"> 441   ~~~java</span>
 442   // Ok even though it might exceed the character limit when indented.
 443   Error e = isTypeParam
 444           ? Errors.InvalidRepeatableAnnotationNotApplicable(targetContainerType, on)
 445           : Errors.InvalidRepeatableAnnotationNotApplicableInContext(targetContainerType));
<span class="line-modified"> 446   ~~~</span>
<span class="line-modified"> 447   </span>
<span class="line-added"> 448   ~~~java</span>
 449   String pretty = Stream.of(args)
 450                         .map(Argument::prettyPrint)
 451                         .collectors(joining(&quot;, &quot;));
<span class="line-modified"> 452   ~~~</span>
<span class="line-added"> 453 </span>
 454   :::
 455   :::
 456 
 457   ::: rightcol
 458   ::: box
 459   ::: {.boxheader .donts}
 460   Don’ts
 461   :::
<span class="line-modified"> 462 </span>
<span class="line-added"> 463   ~~~java</span>
 464   // Too strict interpretation of the character limit. Readability suffers.
 465   Error e = isTypeParam
 466         ? Errors.InvalidRepeatableAnnotationNotApplicable(
 467                 targetContainerType, on)
 468         : Errors.InvalidRepeatableAnnotationNotApplicableInContext(
 469                 targetContainerType);
<span class="line-modified"> 470   ~~~</span>
<span class="line-modified"> 471 </span>
<span class="line-added"> 472   ~~~java</span>
 473   // Should be wrapped even though it fits within the character limit
 474   String pretty = Stream.of(args).map(Argument::prettyPrint).collectors(joining(&quot;, &quot;));
<span class="line-modified"> 475   ~~~</span>
<span class="line-added"> 476 </span>
 477   :::
 478   :::
 479 
 480   ::: clear-floats
 481   :::
 482 
 483 - URLs or example commands should not be wrapped.
 484 - Wrapping at a higher syntactical level is preferred over wrapping at a lower syntactical level.
 485 
 486   ::: leftcol
 487   ::: box
 488   ::: {.boxheader .dos}
 489   Dos
 490   :::
<span class="line-modified"> 491 </span>
<span class="line-added"> 492   ~~~java</span>
 493   aMethodCall(withMany(arguments, that, needs),
 494           to(be, (wrapped - to) * avoid / veryLong - lines));
<span class="line-modified"> 495   ~~~</span>
<span class="line-added"> 496 </span>
 497   :::
 498   :::
 499 
 500   ::: rightcol
 501   ::: box
 502   ::: {.boxheader .donts}
 503   Don’ts
 504   :::
<span class="line-modified"> 505 </span>
<span class="line-added"> 506   ~~~java</span>
 507   aMethodCall(withMany(arguments, that, needs), to(be, (wrapped
 508           - to) * avoid / veryLong - lines));
<span class="line-modified"> 509   ~~~</span>
<span class="line-added"> 510 </span>
 511   :::
 512   :::
 513 
 514   ::: clear-floats
 515   :::
 516 
 517 - There should be at most 1 statement per line.
 518 
 519   ::: leftcol
 520   ::: box
 521   ::: {.boxheader .dos}
 522   Dos
 523   :::
<span class="line-modified"> 524 </span>
<span class="line-added"> 525   ~~~java</span>
 526   i += j;
 527   j += k;
<span class="line-modified"> 528   ~~~</span>
<span class="line-modified"> 529 </span>
<span class="line-added"> 530   ~~~java</span>
 531   if (condition) {
 532       return expression;
 533   }
<span class="line-modified"> 534   ~~~</span>
<span class="line-added"> 535 </span>
 536   :::
 537   :::
 538 
 539   ::: rightcol
 540   ::: box
 541   ::: {.boxheader .donts}
 542   Don’ts
 543   :::
<span class="line-modified"> 544 </span>
<span class="line-added"> 545   ~~~java</span>
 546   i += j; j += k;
<span class="line-modified"> 547   ~~~</span>
<span class="line-modified"> 548 </span>
<span class="line-added"> 549   ~~~java</span>
 550   if (condition) { return expression; }
<span class="line-modified"> 551   ~~~</span>
<span class="line-added"> 552 </span>
 553   :::
 554   :::
 555 
 556   ::: clear-floats
 557   :::
 558 
 559 - A continuation line should be indented in one of the following four ways
 560   - **Variant 1:** With 8 extra spaces relative to the indentation of the previous line.
 561   - **Variant 2:** With 8 extra spaces relative to the starting column of the wrapped expression.
 562   - **Variant 3:** Aligned with previous sibling expression (as long as it is clear that it’s a continuation line)
 563   - **Variant 4:** Aligned with previous method call in a chained expression.
 564 
 565   ::: leftcol
 566   ::: box
 567   ::: {.boxheader .dos}
 568   Dos
 569   :::
<span class="line-modified"> 570 </span>
<span class="line-added"> 571   ~~~java</span>
 572   // Variant 1
 573   int anInteger = aMethod(that, takes,
 574           a, lengthy, list, of, arguments);
<span class="line-modified"> 575   ~~~</span>
<span class="line-modified"> 576 </span>
<span class="line-added"> 577   ~~~java</span>
 578   // Variant 2
 579   int anInteger = that * (is + computed) / using
 580                           + a * complex - expression;
<span class="line-modified"> 581   ~~~</span>
<span class="line-modified"> 582 </span>
<span class="line-added"> 583   ~~~java</span>
 584   // Variant 3
 585   int anInteger = aMethod(thatTakes,
 586                           aLongList,
 587                           ofArguments);
<span class="line-modified"> 588   ~~~</span>
<span class="line-modified"> 589 </span>
<span class="line-added"> 590   ~~~java</span>
 591   // Variant 4
 592   int anInteger = IntStream.of(numbers)
 593                            .map(Math::sqrt)
 594                            .sum();
<span class="line-modified"> 595   ~~~</span>
<span class="line-added"> 596 </span>
 597   :::
 598   :::
 599 
 600   ::: rightcol
 601   ::: box
 602   ::: {.boxheader .donts}
 603   Don’ts
 604   :::
<span class="line-modified"> 605 </span>
<span class="line-added"> 606   ~~~java</span>
 607   // Mixing of wrapping variants (unless there
 608   // is a logical grouping of arguments)
 609   int anInteger = aMethod(that,
 610                           takes,
 611                           a, lengthy, list,
 612                           of, arguments);
<span class="line-modified"> 613   ~~~</span>
<span class="line-modified"> 614 </span>
<span class="line-added"> 615   ~~~java</span>
 616   // Don&#39;t align with sibling expression if the
 617   // continuation line can be confused with a block
 618   // indentation
 619   if (somePredicate() ||
 620       someOtherPredicate()) {
 621       System.out.println(&quot;Avoid&quot;);
 622   }
<span class="line-modified"> 623   ~~~</span>
<span class="line-added"> 624 </span>
 625   :::
 626   :::
 627 
 628   ::: clear-floats
 629   :::
 630 :::
 631 
 632 #### Wrapping Class Declarations
 633 ::: conventions
 634 - A class header should not be wrapped unless it approaches the maximum column limit.
 635 - If it does, it may be wrapped before `extends` and/or `implements` keywords.
 636 - Declarations of type parameters may, if necessary, be wrapped the same way as method arguments
 637 :::
 638 
 639 ::: leftcol
 640 ::: box
 641 [Dos]{.boxheader .dos}
<span class="line-modified"> 642 </span>
<span class="line-added"> 643 ~~~java</span>
 644 public class MyGenericClass&lt;T, S&gt;
 645         extends HashMap&lt;T, S&gt;
 646         implements Comparable&lt;T&gt; {
 647     …
 648 }
<span class="line-modified"> 649 ~~~</span>
<span class="line-modified"> 650 </span>
<span class="line-added"> 651 ~~~java</span>
 652 public class AnotherClass&lt;K, R&gt; implements Collector&lt;T extends K,
 653                                                      Set&lt;? extends R&gt;,
 654                                                      List&lt;R&gt;&gt; {
 655     …
 656 }
<span class="line-modified"> 657 ~~~</span>
<span class="line-modified"> 658 </span>
<span class="line-added"> 659 ~~~java</span>
 660 public class AnotherClass&lt;K, R&gt; implements Collector&lt;T extends K,
 661                                                      Set&lt;? extends R&gt;,
 662                                                      List&lt;R&gt;&gt; {
 663     …
 664 }
<span class="line-modified"> 665 ~~~</span>
<span class="line-added"> 666 </span>
 667 :::
 668 :::
 669 
 670 ::: rightcol
 671 ::: box
 672 [Don’ts]{.boxheader .donts}
<span class="line-modified"> 673 </span>
<span class="line-added"> 674 ~~~java</span>
 675 public class MyGenericClass&lt;T&gt; implements Comparable&lt;T&gt;,
 676         Predicate&lt;T&gt; {
 677     …
 678 }
<span class="line-modified"> 679 ~~~</span>
<span class="line-added"> 680 </span>
 681 :::
 682 :::
 683 
 684 
 685 #### Wrapping Method Declarations
 686 ::: conventions
 687 - Method declarations can be formatted by listing the arguments vertically, or by a new line and +8 extra spaces
 688 - If a throws clause needs to be wrapped, put the line break in front of the throws clause and make sure it stands out from the argument list, either by indenting +8 relative to the function declaration, or +8 relative to the previous line.
 689 :::
 690 
 691 ::: leftcol
 692 ::: box
 693 [Dos]{.boxheader .dos}
<span class="line-modified"> 694 </span>
<span class="line-added"> 695 ~~~java</span>
 696 int someMethod(String aString,
 697                List&lt;Integer&gt; aList,
 698                Map&lt;String, String&gt; aMap,
 699                int anInt,
 700                long aLong,
 701                Set&lt;Number&gt; aSet,
 702                double aDouble) {
 703     …
 704 }
<span class="line-modified"> 705 ~~~</span>
<span class="line-modified"> 706 </span>
<span class="line-added"> 707 ~~~java</span>
 708 int someMethod(String aString, List&lt;Integer&gt; aList,
 709         Map&lt;String, String&gt; aMap, int anInt, long aLong,
 710         double aDouble, long aLong) {
 711     …
 712 }
<span class="line-modified"> 713 ~~~</span>
<span class="line-modified"> 714 </span>
<span class="line-added"> 715 ~~~java</span>
 716 int someMethod(String aString,
 717                List&lt;Map&lt;Integer, StringBuffer&gt;&gt; aListOfMaps,
 718                Map&lt;String, String&gt; aMap)
 719         throws IllegalArgumentException {
 720     …
 721 }
<span class="line-modified"> 722 ~~~</span>
<span class="line-modified"> 723 </span>
<span class="line-added"> 724 ~~~java</span>
 725 int someMethod(String aString, List&lt;Integer&gt; aList,
 726         Map&lt;String, String&gt; aMap, int anInt)
 727                 throws IllegalArgumentException {
 728     …
 729 }
<span class="line-modified"> 730 ~~~</span>
<span class="line-added"> 731 </span>
 732 :::
 733 :::
 734 
 735 ::: rightcol
 736 ::: box
 737 [Don’ts]{.boxheader .donts}
<span class="line-modified"> 738 </span>
<span class="line-added"> 739 ~~~java</span>
 740 // If aligning the parameters vertically, don&#39;t put two
 741 // parameters on one line
 742 int someMethod(String aString,
 743                List&lt;Integer&gt; aList,
 744                Map&lt;String, String&gt; aMap,
 745                int anInt, long aLong,
 746                Set&lt;Number&gt; aSet,
 747                double aDouble) {
 748     …
 749 }
<span class="line-modified"> 750 ~~~</span>
<span class="line-modified"> 751 </span>
<span class="line-added"> 752 ~~~java</span>
 753 int someMethod(String aString,
 754                List&lt;Map&lt;Integer, StringBuffer&gt;&gt; aListOfMaps,
 755                Map&lt;String, String&gt; aMap) throws InterruptedException {
 756     …
 757 }
<span class="line-modified"> 758 ~~~</span>
<span class="line-modified"> 759 </span>
<span class="line-added"> 760 ~~~java</span>
 761 int someMethod(String aString,
 762                List&lt;Integer&gt; aList,
 763                Map&lt;String, String&gt; aMap)
 764                throws IllegalArgumentException {
 765     …
 766 }
<span class="line-modified"> 767 ~~~</span>
<span class="line-added"> 768 </span>
 769 :::
 770 :::
 771 
 772 
 773 #### Wrapping Expressions
 774 ::: conventions
 775 - If a line approaches the maximum character limit, always consider breaking it down into multiple statements / expressions instead of wrapping the line.
 776 - Break before operators.
 777 - Break before the `.` in chained method calls.
 778 :::
 779 
 780 ::: leftcol
 781 ::: box
 782 [Dos]{.boxheader .dos}
<span class="line-modified"> 783 </span>
<span class="line-added"> 784 ~~~java</span>
 785 methodCall(a * simple - formula,
 786            some + complex - formula * spanning
 787                         + multiple - lines * may
 788                         + look - as * follows);
<span class="line-modified"> 789 ~~~</span>
<span class="line-modified"> 790 </span>
<span class="line-added"> 791 ~~~java</span>
 792 popupMsg(&quot;Inbox notification: You have &quot;
 793         + newMsgs + &quot; new messages&quot;);
<span class="line-modified"> 794 ~~~</span>
<span class="line-modified"> 795 </span>
<span class="line-added"> 796 ~~~java</span>
 797 people.stream()
 798       .map(Person::getName)
 799       .forEach(System.out::println);
<span class="line-modified"> 800 ~~~</span>
<span class="line-added"> 801 </span>
 802 :::
 803 :::
 804 
 805 ::: rightcol
 806 ::: box
 807 [Don’ts]{.boxheader .donts}
<span class="line-modified"> 808 </span>
<span class="line-added"> 809 ~~~java</span>
 810 // Arity unclear
 811 methodCall(a * simple - formula,
 812            some + complex - formula * spanning +
 813            multiple - lines * should + not *
 814            look - as * follows);
<span class="line-modified"> 815 ~~~</span>
<span class="line-modified"> 816 </span>
<span class="line-added"> 817 ~~~java</span>
 818 // Looks like two arguments
 819 popupMsg(&quot;Inbox notification: You have &quot; +
 820          newMsgs + &quot; new messages&quot;);
<span class="line-modified"> 821 ~~~</span>
<span class="line-modified"> 822 </span>
<span class="line-added"> 823 ~~~java</span>
 824 people.stream().
 825        map(Person::getName).
 826        forEach(System.out::println);
<span class="line-modified"> 827 ~~~</span>
<span class="line-added"> 828 </span>
 829 :::
 830 :::
 831 
 832     
 833 ### Whitespace
 834 #### Vertical Whitespace
 835 ::: conventions
 836 - A single blank line should be used to separate…
 837   - Copyright notice
 838   - Package declaration
 839   - Class declarations
 840   - Constructors
 841   - Methods
 842   - Static initializers
 843   - Instance initializers
 844 
 845   …and may be used to separate logical groups of
 846 
 847   - import statements
 848   - fields
 849   - statements
 850 - Multiple consecutive blank lines should only be used to separate groups of related members and not as the standard inter-member spacing.
 851 :::
 852 
 853 #### Horizontal Whitespace
 854 ::: conventions
 855 - A single space should be used…
 856   - To separate keywords from neighboring opening or closing brackets and braces
 857   - Before and after all binary operators and operator like symbols such as arrows in lambda expressions and the colon in enhanced for loops (but not before the colon of a label)
 858   - After `//` that starts a comment.
 859   - After commas separating arguments and semicolons separating the parts of a for loop.
 860   - After the closing parenthesis of a cast.
 861 - In variable declarations it is not recommended to align types and variables.
 862 :::
 863 
 864 ::: leftcol
 865 ::: box
 866 [Dos]{.boxheader .dos}
<span class="line-modified"> 867 </span>
<span class="line-added"> 868 ~~~java</span>
 869 int someInt;
 870 String myString;
 871 char aChar;
 872 long sixtyfourFlags;
<span class="line-modified"> 873 ~~~</span>
<span class="line-modified"> 874 </span>
<span class="line-added"> 875 ~~~java</span>
 876 if (isFlagSet(GO)) {
 877     …
 878 }
<span class="line-modified"> 879 ~~~</span>
<span class="line-modified"> 880 </span>
<span class="line-added"> 881 ~~~java</span>
 882 IntUnaryOperator inc = x -&gt; x + 1;
<span class="line-modified"> 883 ~~~</span>
<span class="line-modified"> 884 </span>
<span class="line-added"> 885 ~~~java</span>
 886 init: {
 887     …
 888 }
<span class="line-modified"> 889 ~~~</span>
<span class="line-added"> 890 </span>
 891 :::
 892 :::
 893 
 894 ::: rightcol
 895 ::: box
 896 [Don’ts]{.boxheader .donts}
<span class="line-modified"> 897 </span>
<span class="line-added"> 898 ~~~java</span>
 899 int    someInt;
 900 String myString;
 901 char   aChar;
 902 long   sixtyfourFlags;
<span class="line-modified"> 903 ~~~</span>
<span class="line-modified"> 904 </span>
<span class="line-added"> 905 ~~~java</span>
 906 if( isFlagSet( GO ) ) {
 907     …
 908 }
<span class="line-modified"> 909 ~~~</span>
<span class="line-modified"> 910 </span>
<span class="line-added"> 911 ~~~java</span>
 912 IntUnaryOperator inc = x-&gt;x + 1;
<span class="line-modified"> 913 ~~~</span>
<span class="line-modified"> 914 </span>
<span class="line-added"> 915 ~~~java</span>
 916 init : {
 917     …
 918 }
<span class="line-modified"> 919 ~~~</span>
<span class="line-added"> 920 </span>
 921 :::
 922 :::
 923 
 924 
 925 ::: box
 926 [Motivation]{.boxheader}
 927 The improvement in readability when aligning variable names is negligible compared to the efforts needed to keep them aligned as the code evolves. Realigning all variables when one of the types change also causes unnecessarily complicated patches to review.
 928 :::
 929 
 930 ### Variable Declarations
 931 ::: conventions
 932 - One variable per declaration (and at most one declaration per line)
 933 - Square brackets of arrays should be at the type (`String[] args`) and not on the variable (`String args[]`).
 934 - Declare a local variable right before it is first used, and initialize it as close to the declaration as possible.
 935 :::
 936 
 937 ### Annotations
 938 ::: conventions
 939 - Declaration annotations should be put on a separate line from the declaration being annotated.
 940 - Few/short annotations annotating a single-line method may however be put on the same line as the method if it improves readability.
 941 - Either all annotations should be put on the same line or each annotation should be put on a separate line.
 942 :::
 943 
 944 ::: leftcol
 945 ::: box
 946 [Dos]{.boxheader .dos}
<span class="line-modified"> 947 </span>
<span class="line-added"> 948 ~~~java</span>
 949 @Deprecated
 950 @Override
 951 public void foo() {
 952     …
 953 }
<span class="line-modified"> 954 ~~~</span>
<span class="line-modified"> 955 </span>
<span class="line-added"> 956 ~~~java</span>
 957 @Deprecated @Override
 958 public void foo() {
 959     …
 960 }
<span class="line-modified"> 961 ~~~</span>
<span class="line-modified"> 962 </span>
<span class="line-added"> 963 ~~~java</span>
 964 addListener(new Listener() {
 965  
 966     // Ignored events
 967     @Override public void event1() { }
 968     @Override public void event2() { }
 969     @Override public void event3() { }
 970  
 971     // Important event
 972     @Override
 973     public void event4() {
 974         …
 975     }
 976 });
<span class="line-modified"> 977 ~~~</span>
<span class="line-added"> 978 </span>
 979 :::
 980 :::
 981 
 982 ::: rightcol
 983 ::: box
 984 [Don’ts]{.boxheader .donts}
<span class="line-modified"> 985 </span>
<span class="line-added"> 986 ~~~java</span>
 987 @Override @Deprecated public void foo() {
 988     …
 989 }
<span class="line-modified"> 990 ~~~</span>
<span class="line-modified"> 991 </span>
<span class="line-added"> 992 ~~~java</span>
 993 @Override @Deprecated
 994 @SafeVarargs
 995 public void foo() {
 996     …
 997 }
<span class="line-modified"> 998 ~~~</span>
<span class="line-added"> 999 </span>
1000 :::
1001 :::
1002 
1003 
1004 ### Lambda Expressions
1005 ::: conventions
1006 - Expression lambdas are preferred over single-line block lambdas.
1007 - Method references should generally be preferred over lambda expressions.&lt;br /&gt;&lt;br /&gt;
1008   For bound instance method references, or methods with arity greater than one, a lambda expression may be easier to understand and therefore preferred. Especially if the behavior of the method is not clear from the context.
1009 - The parameter types should be omitted unless they improve readability.
1010 - If a lambda expression stretches over more than a few lines, consider creating a method.
1011 :::
1012 
1013 ::: leftcol
1014 ::: box
1015 [Dos]{.boxheader .dos}
<span class="line-modified">1016 </span>
<span class="line-added">1017 ~~~java</span>
1018 Runnable r = () -&gt; System.out.println(&quot;Hello World&quot;);
<span class="line-modified">1019 ~~~</span>
<span class="line-modified">1020 </span>
<span class="line-added">1021 ~~~java</span>
1022 Supplier&lt;String&gt; c = () -&gt; &quot;Hello World&quot;;
<span class="line-modified">1023 ~~~</span>
<span class="line-modified">1024 </span>
<span class="line-added">1025 ~~~java</span>
1026 // Collection::contains is a simple unary method and its behavior is
1027 // clear from the context. A method reference is preferred here.
1028 appendFilter(goodStrings::contains);
<span class="line-modified">1029 ~~~</span>
<span class="line-modified">1030 </span>
<span class="line-added">1031 ~~~java</span>
1032 // A lambda expression is more readable in this case
1033 // (cf. corresponding example in Don&#39;ts section)
1034 trackTemperature((time, temp) -&gt; tempMap.put(time, temp));
<span class="line-modified">1035 ~~~</span>
<span class="line-modified">1036 </span>
<span class="line-added">1037 ~~~java</span>
1038 Function&lt;Person, String&gt; nameFunc = p -&gt; p.getFirstName() + &quot; &quot; + p.getLastName();
<span class="line-modified">1039 ~~~</span>
<span class="line-modified">1040 </span>
<span class="line-added">1041 ~~~java</span>
1042 class Util {
1043     private static String getCapitalizedFirstName(Person p) {
1044         String first = p.getFirstName();
1045         char initial = Character.toUpperCase(first.charAt(0));
1046         return initial + first.substring(1);
1047     }
1048  
1049     static void printAllPeople(List&lt;Person&gt; people) {
1050         people.stream()
1051               .map(Util::getCapitalizedFirstName)
1052               .forEach(System.out::println);
1053     }
1054 }
<span class="line-modified">1055 ~~~</span>
<span class="line-added">1056 </span>
1057 :::
1058 :::
1059 
1060 ::: rightcol
1061 ::: box
1062 [Don’ts]{.boxheader .donts}
<span class="line-modified">1063 </span>
<span class="line-added">1064 ~~~java</span>
1065 Runnable r = () -&gt; { System.out.println(&quot;Hello World&quot;); };
<span class="line-modified">1066 ~~~</span>
<span class="line-modified">1067 </span>
<span class="line-added">1068 ~~~java</span>
1069 Supplier&lt;String&gt; s = () -&gt; { return &quot;Hello World&quot;; };
<span class="line-modified">1070 ~~~</span>
<span class="line-modified">1071 </span>
<span class="line-added">1072 ~~~java</span>
1073 // A lambda expression is not needed here
1074 appendFilter(s -&gt; goodStrings.contains(s));
<span class="line-modified">1075 ~~~</span>
<span class="line-modified">1076 </span>
<span class="line-added">1077 ~~~java</span>
1078 // Map::put is a binary function, and it’s not clear from context what type
1079 // of argument trackTemperature accepts. A lambda expression is better here.
1080 trackTemperature(tempMap::put);
<span class="line-modified">1081 ~~~</span>
<span class="line-modified">1082 </span>
<span class="line-added">1083 ~~~java</span>
1084 // Unnecessary parameter type
1085 Function&lt;Person, String&gt; nameFunc = (Person p) -&gt; p.getFirstName() + &quot; &quot; + p.getLastName();
<span class="line-modified">1086 ~~~</span>
<span class="line-modified">1087 </span>
<span class="line-added">1088 ~~~java</span>
1089 class Util {
1090     static void printAllPeople(List&lt;Person&gt; people) {
1091         people.stream()
1092               .map(p -&gt; {
1093                   String first = p.getFirstName();
1094                   char initial = Character.toTitleCase(first.charAt(0));
1095                   return initial + first.substring(1);
1096               })
1097               .forEach(System.out::println);
1098     }
1099 }
<span class="line-modified">1100 ~~~</span>
<span class="line-added">1101 </span>
1102 :::
1103 :::
1104 
1105 
1106 ### Redundant Parentheses
1107 ::: conventions
1108 - Redundant grouping parentheses (i.e. parentheses that does not affect evaluation) may be used if they improve readability.
1109 - Redundant grouping parentheses should typically be left out in shorter expressions involving common operators but included in longer expressions or expressions involving operators whose precedence and associativity is unclear without parentheses. Ternary expressions with non-trivial conditions belong to the latter.
1110 - The entire expression following a return keyword must not be surrounded by parentheses.
1111 :::
1112 
1113 ::: leftcol
1114 ::: box
1115 [Dos]{.boxheader .dos}
<span class="line-modified">1116 </span>
<span class="line-added">1117 ~~~java</span>
1118 return flag ? &quot;yes&quot; : &quot;no&quot;;
<span class="line-modified">1119 ~~~</span>
<span class="line-modified">1120 </span>
<span class="line-added">1121 ~~~java</span>
1122 String cmp = (flag1 != flag2) ? &quot;not equal&quot; : &quot;equal&quot;;
<span class="line-modified">1123 ~~~</span>
<span class="line-added">1124 </span>
1125 :::
1126 :::
1127 
1128 ::: rightcol
1129 ::: box
1130 [Don’ts]{.boxheader .donts}
<span class="line-modified">1131 </span>
<span class="line-added">1132 ~~~java</span>
1133 return (flag ? &quot;yes&quot; : &quot;no&quot;);
<span class="line-modified">1134 ~~~</span>
<span class="line-added">1135 </span>
1136 :::
1137 :::
1138 
1139 
1140 ### Literals
1141 ::: conventions
1142 - `long` literals should use the upper case letter `L` suffix.
1143 - Hexadecimal literals should use upper case letters `A`-`F`.
1144 - All other numerical prefixes, infixes, and suffixes should use lowercase letters.
1145 :::
1146 
1147 ::: leftcol
1148 ::: box
1149 [Dos]{.boxheader .dos}
<span class="line-modified">1150 </span>
<span class="line-added">1151 ~~~java</span>
1152 long l = 5432L;
1153 int i = 0x123 + 0xABC;
1154 byte b = 0b1010;
1155 float f1 = 1 / 5432f;
1156 float f2 = 0.123e4f;
1157 double d1 = 1 / 5432d;  // or 1 / 5432.0
1158 double d2 = 0x1.3p2;
<span class="line-modified">1159 ~~~</span>
<span class="line-added">1160 </span>
1161 :::
1162 :::
1163 
1164 ::: rightcol
1165 ::: box
1166 [Don’ts]{.boxheader .donts}
<span class="line-modified">1167 </span>
<span class="line-added">1168 ~~~java</span>
1169 long l = 5432l;
1170 int i = 0X123 + 0xabc;
1171 byte b = 0B1010;
1172 float f1 = 1 / 5432F;
1173 float f2 = 0.123E4f;
1174 double d1 = 1 / 5432D;
1175 double d2 = 0x1.3P2;
<span class="line-modified">1176 ~~~</span>
<span class="line-added">1177 </span>
1178 :::
1179 :::
1180 
1181 
1182 ::: box
1183 [Motivation]{.boxheader}
1184 Lower case L resembles a 1 in many monospace fonts which means that the literal `5432l` can be confused with `54321`. Using upper case `L` suffix avoids this. The lowercase `0x`, `0b`, `e`, `p`, `f`, and `d` characters are easier to spot in a long sequence of digits, and they avoid confusion with the hexadecimal digits `A`-`F`.
1185 :::
1186 















































1187 ## Naming
1188 ::: conventions
1189 - Avoid hiding/shadowing methods, variables and type variables in outer scopes.
1190 - Let the verbosity of the name correlate to the size of the scope. (For instance, use descriptive names for fields of large classes and brief names for local short-lived variables.)
1191 - When naming public static members, let the identifier be self descriptive if you believe they will be statically imported.
1192 :::
1193 
1194 ### Package Names
1195 ::: conventions
1196 - Package names should be all lower case without underscores or other special characters.
1197 - Don’t use plural form. Follow the convention of the standard API which uses for instance `java.lang.annotation` and not `java.lang.annotations`.
1198 :::
1199 
1200 ### Class, Interface and Enum Names
1201 ::: conventions
1202 - Class and enum names should typically be nouns.
1203 - Interface names should typically be nouns or adjectives ending with *…able*.
1204 - Use mixed case with the first letter in each word in upper case.
1205 - Use whole words and avoid using abbreviations unless the abbreviation is more widely used than the long form.
1206 - Format an abbreviation as a word if the it is part of a longer class name.
1207 :::
1208 
1209 ::: leftcol
1210 ::: box
1211 [Dos]{.boxheader .dos}
<span class="line-modified">1212 </span>
<span class="line-added">1213 ~~~java</span>
1214 class EmptyCell {
1215     …
1216 }
<span class="line-modified">1217 ~~~</span>
<span class="line-modified">1218 </span>
<span class="line-added">1219 ~~~java</span>
1220 class RunningMode {
1221     …
1222 }
<span class="line-modified">1223 ~~~</span>
<span class="line-modified">1224 </span>
<span class="line-added">1225 ~~~java</span>
1226 interface Expandable {
1227     …
1228 }
<span class="line-modified">1229 ~~~</span>
<span class="line-modified">1230 </span>
<span class="line-added">1231 ~~~java</span>
1232 class XmlParser {
1233     …
1234 }
<span class="line-modified">1235 ~~~</span>
<span class="line-added">1236 </span>
1237 :::
1238 :::
1239 
1240 ::: rightcol
1241 ::: box
1242 [Don’ts]{.boxheader .donts}
<span class="line-modified">1243 </span>
<span class="line-added">1244 ~~~java</span>
1245 class Empty {
1246     …
1247 }
<span class="line-modified">1248 ~~~</span>
<span class="line-modified">1249 </span>
<span class="line-added">1250 ~~~java</span>
1251 class Running {
1252     …
1253 }
<span class="line-modified">1254 ~~~</span>
<span class="line-modified">1255 </span>
<span class="line-added">1256 ~~~java</span>
1257 class Expandable {
1258     …
1259 }
<span class="line-modified">1260 ~~~</span>
<span class="line-modified">1261 </span>
<span class="line-added">1262 ~~~java</span>
1263 // Abbreviation should be formatted as &#39;Xml&#39;
1264 class XMLParser {
1265     …
1266 }
<span class="line-modified">1267 ~~~</span>
<span class="line-added">1268 </span>
1269 :::
1270 :::
1271 
1272         
1273 ### Method Names
1274 ::: conventions
1275 - Method names should typically be verbs or other descriptions of actions.
1276 - Use mixed case with the first letter in lower case.
1277 :::
1278 
1279 ::: leftcol
1280 ::: box
1281 [Dos]{.boxheader .dos}
<span class="line-modified">1282 </span>
<span class="line-added">1283 ~~~java</span>
1284 public void expand() {
1285     …
1286 }
<span class="line-modified">1287 ~~~</span>
<span class="line-modified">1288 </span>
<span class="line-added">1289 ~~~java</span>
1290 public boolean isExpanding() {
1291     …
1292 }
<span class="line-modified">1293 ~~~</span>
<span class="line-modified">1294 </span>
<span class="line-added">1295 ~~~java</span>
1296 public State getState() {
1297     …
1298 }
<span class="line-modified">1299 ~~~</span>
<span class="line-added">1300 </span>
1301 :::
1302 :::
1303 
1304 ::: rightcol
1305 ::: box
1306 [Don’ts]{.boxheader .donts}
<span class="line-modified">1307 </span>
<span class="line-added">1308 ~~~java</span>
1309 public boolean expanding() {
1310     …
1311 }
<span class="line-modified">1312 ~~~</span>
<span class="line-modified">1313 </span>
<span class="line-added">1314 ~~~java</span>
1315 public State GetState() {
1316     …
1317 }
<span class="line-modified">1318 ~~~</span>
<span class="line-modified">1319 </span>
<span class="line-added">1320 ~~~java</span>
1321 public int get_index() {
1322     …
1323 }
<span class="line-modified">1324 ~~~</span>
<span class="line-added">1325 </span>
1326 :::
1327 :::
1328 
1329 
1330 
1331 ### Variables
1332 ::: conventions
1333 - Variable names should be in mixed case with the first letter in lower case.
1334 :::
1335 
1336 ::: leftcol
1337 ::: box
1338 [Dos]{.boxheader .dos}
<span class="line-modified">1339 </span>
<span class="line-added">1340 ~~~java</span>
1341 int currentIndex;
1342 boolean dataAvailable;
<span class="line-modified">1343 ~~~</span>
<span class="line-added">1344 </span>
1345 :::
1346 :::
1347 
1348 ::: rightcol
1349 ::: box
1350 [Don’ts]{.boxheader .donts}
<span class="line-modified">1351 </span>
<span class="line-added">1352 ~~~java</span>
1353 int current_index;
1354 boolean DataAvailable;
<span class="line-modified">1355 ~~~</span>
<span class="line-added">1356 </span>
1357 :::
1358 :::
1359 
1360 
1361 ### Type Variables
1362 ::: conventions
1363 - For simple cases where there are few type variables involved use a single upper case letter.
1364 - If one letter is more descriptive than another (such as `K` and `V` for keys and values in maps or `R` for a function return type) use that, otherwise use `T`.
1365 - For complex cases where single letter type variables become confusing, use longer names written in all capital letters and use underscore (`_`) to separate words.
1366 :::
1367 
1368 ::: leftcol
1369 ::: box
1370 [Dos]{.boxheader .dos}
<span class="line-modified">1371 </span>
<span class="line-added">1372 ~~~java</span>
1373 interface SpecialMap&lt;K, V&gt; extends Map&lt;K, V&gt; {
1374     …
1375 }
<span class="line-modified">1376 ~~~</span>
<span class="line-modified">1377 </span>
<span class="line-added">1378 ~~~java</span>
1379 class GraphMapper&lt;SRC_VERTEX, SRC_EDGE, DST_VERTEX, DST_EDGE&gt; {
1380     …
1381 }
<span class="line-modified">1382 ~~~</span>
<span class="line-added">1383 </span>
1384 :::
1385 :::
1386 
1387 ::: rightcol
1388 ::: box
1389 [Don’ts]{.boxheader .donts}
<span class="line-modified">1390 </span>
<span class="line-added">1391 ~~~java</span>
1392 interface SpecialMap&lt;Key, Value&gt; extends Map&lt;Key, Value&gt; {
1393     …
1394 }
<span class="line-modified">1395 ~~~</span>
<span class="line-modified">1396 </span>
<span class="line-added">1397 ~~~java</span>
1398 class GraphMapper&lt;S, T, U, V&gt; {
1399     …
1400 }
<span class="line-modified">1401 ~~~</span>
<span class="line-added">1402 </span>
1403 :::
1404 :::
1405 
1406 
1407 ### Constants
1408 ::: conventions
1409 - Constants (static final fields whose content is immutable, by language rules or by convention) should be named with all capital letters and underscore (`_`) to separate words.
1410 :::
1411 
1412 ::: leftcol
1413 ::: box
1414 [Dos]{.boxheader .dos}
<span class="line-modified">1415 </span>
<span class="line-added">1416 ~~~java</span>
1417 public static final int BUFFER_SIZE = 1024;
<span class="line-modified">1418 ~~~</span>
<span class="line-modified">1419 </span>
<span class="line-added">1420 ~~~java</span>
1421 enum ApplicationMode { RUNNING, PAUSED, TERMINATED }
<span class="line-modified">1422 ~~~</span>
<span class="line-added">1423 </span>
1424 :::
1425 :::
1426 
1427 ::: rightcol
1428 ::: box
1429 [Don’ts]{.boxheader .donts}
<span class="line-modified">1430 </span>
<span class="line-added">1431 ~~~java</span>
1432 public final List&lt;String&gt; CURRENT_WORDS = new ArrayList&lt;&gt;();
<span class="line-modified">1433 ~~~</span>
<span class="line-modified">1434 </span>
<span class="line-added">1435 ~~~java</span>
1436 enum ApplicationMode { Running, Paused, Terminated }
<span class="line-modified">1437 ~~~</span>
<span class="line-added">1438 </span>
1439 :::
1440 :::
1441 
1442 
1443 ## Programming Practices
<span class="line-modified">1444 The focus of the guidelines in this section is on style. General guidelines on best programming practices, use of design patterns, how to structure programs etc is thus out of scope.&amp;nbsp;A few “low level” practices that are easy to pin down is however good to agree upon.</span>
1445 
1446 ::: conventions
1447 - Always use `@Override` where it is possible to do so.
1448 - Document any non-obvious pre and post conditions (also for private methods). In particular, all parameters / return values are assumed to be non-null unless explicitly stated otherwise.
1449 - Avoid checking in “`TODO`” comments. If the missing code doesn’t affect correctness or performance, skip the comment, otherwise file an issue for it.
1450 - Avoid checking in dead code.
1451 - Static mutable state should be used judiciously. In particular enums should not have mutable state, and any public static variable must also be final.
1452 - Static methods and fields that are accessed out of scope should be qualified with the identifier of the class that declares them and not with a subclass or an instance variable.
1453 - Fall through on non-empty cases in switch statements should be documented, typically with a “`// fall through`” comment.
1454 - Mutating method parameters is discouraged. This is because parameters are typically associated with the input values and by mutating these the code may be harder to understand, especially when only looking at parts of the method below the mutation.
1455 - Keep methods short. Consider splitting up long methods into smaller ones to limit variable scopes and simplify structure of the code.
1456 :::
1457 
1458 ### Commenting Code
1459 ::: conventions
1460 - First and foremost, try to make the code simple enough that it’s self explanatory. While comments explaining the code are good, not having to explain the code is better.
1461 - For single line comments, use end-of-line comments (`//`) otherwise use multiline comments (`/* … */`).
1462 - Avoid comments that run the risk of getting out of sync as the code evolves. (If a comment runs the risk of getting out of sync, it’s often a sign that it comments how the code works rather than what the code achieves.)
1463 - Small well documented methods are preferred over longer methods with comments in the body of the method.
1464 - Don’t check in code that’s commented out.
1465 - IDE/tool-specific comments should be avoided wherever possible, especially when there are reasonable alternatives, such as external settings files, etc.
1466 - Comments should be grammatically correct and follow general recommendations of technical writing.
<span class="line-added">1467 - Start longer Javadoc comments with a short summarizing sentence since Javadoc includes this in the method summary table.</span>
<span class="line-added">1468 - Prefer inline tags (such as `{@code …}` and `{@link …}` etc) over corresponding HTML tags (`&lt;code&gt;…&lt;/code&gt;`, `&lt;a href=&quot;…&quot;&gt;…&lt;/a&gt;` etc).</span>
<span class="line-added">1469 - Use `&lt;p&gt;` to separate paragraphs (closing `&lt;/p&gt;` tags are not needed and should not be used)</span>
1470 :::
<span class="line-modified">1471 </span>
<span class="line-added">1472 ::: leftcol</span>
<span class="line-added">1473 ::: box</span>
<span class="line-added">1474 [Dos]{.boxheader .dos}</span>
<span class="line-added">1475 </span>
<span class="line-added">1476 ~~~java</span>
<span class="line-added">1477 /** A short javadoc comment */</span>
<span class="line-added">1478 ~~~</span>
<span class="line-added">1479 </span>
<span class="line-added">1480 ~~~java</span>
<span class="line-added">1481 /**</span>
<span class="line-added">1482  * …</span>
<span class="line-added">1483  *</span>
<span class="line-added">1484  * &lt;blockquote&gt;{@code</span>
<span class="line-added">1485  *     List&lt;String&gt; names;</span>
<span class="line-added">1486  * }&lt;/blockquote&gt;</span>
<span class="line-added">1487  */</span>
<span class="line-added">1488 ~~~</span>
<span class="line-added">1489 </span>
<span class="line-added">1490 :::</span>
<span class="line-added">1491 :::</span>
<span class="line-added">1492 </span>
<span class="line-added">1493 ::: rightcol</span>
<span class="line-added">1494 ::: box</span>
<span class="line-added">1495 [Don’ts]{.boxheader .donts}</span>
<span class="line-added">1496 </span>
<span class="line-added">1497 ~~~java</span>
<span class="line-added">1498 /** put on single line instead</span>
<span class="line-added">1499  */</span>
<span class="line-added">1500 ~~~</span>
<span class="line-added">1501 </span>
<span class="line-added">1502 ~~~java</span>
<span class="line-added">1503 /**</span>
<span class="line-added">1504  * The &lt;String&gt; below may interfere with the HTML!</span>
<span class="line-added">1505  *</span>
<span class="line-added">1506  * &lt;blockquote&gt;&lt;pre&gt;</span>
<span class="line-added">1507  *     List&lt;String&gt; names;</span>
<span class="line-added">1508  * &lt;/pre&gt;&lt;/blockquote&gt;</span>
<span class="line-added">1509  */</span>
<span class="line-added">1510 ~~~</span>
<span class="line-added">1511 </span>
<span class="line-added">1512 :::</span>
<span class="line-added">1513 :::</span>
<span class="line-added">1514 </span>
<span class="line-added">1515 For a complete Javadoc reference refer to &amp;nbsp;[How to Write Doc Comments for the Javadoc Tool](http://www.oracle.com/technetwork/articles/java/index-137868.html).</span>
<span class="line-added">1516 </span>
1517 ## When to reformat code
1518 ::: conventions
1519 - Do not reformat code in files unrelated to the current changeset, even if the code doesn’t adhere to the guidelines.
1520 - Minor cleanups in files that are already touched for other reasons are fine. Put the cleanups in a separate patch if you think it will simplify the review process. Large cleanups should always go in a separate changeset.
1521 :::
1522 
1523 ::: box
1524 [Motivation]{.boxheader}
1525 Cleaning up code that’s unrelated to the patch may…
1526 - Complicate the review of the patch in which case correctness may suffer
1527 - Run the risk of breaking existing code
1528 - Have a downstream impact, e.g. affect ports to other versions.
1529 - Trigger an unnecessary debate (perhaps the original formatting was intentional).
1530 :::
1531 
1532 ## Cases not covered
1533 ::: conventions
1534 - If some aspect is not covered by these guidelines one should fall back on the style of the surrounding code within the same file, within the package or within the project in that order.
1535 :::
1536 
</pre>
</td>
</tr>
</table>
<center><a href="hgHelp.md.sdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="tClone.md.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>