<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/sun/security/util/asn1StringTypes/StringTypes.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../DerValue/DerValueEqualsHashCode.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../x509/AVA/AVAEqualsHashCode.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/sun/security/util/asn1StringTypes/StringTypes.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 46         byte[] iso8859_1Bytes = s.getBytes(&quot;ISO-8859-1&quot;);
 47 
 48         byte[] unicodeBytes = s.getBytes(&quot;UnicodeBigUnmarked&quot;);
 49         byte[] unicodeBytes2 = getBytes(s);
 50 
 51         // test that unicode encoder is the correct one
 52         if (!equalBytes(unicodeBytes, unicodeBytes2))
 53           throw new Exception (&quot;Problem with unicode encoder being used.&quot;);
 54 
 55         FileOutputStream fout = new FileOutputStream(fileName);
 56         DerOutputStream derOut = new DerOutputStream();
 57 
 58         System.out.println(&quot;Writing Java string out as various DER&quot; +
 59                            &quot; encoded Strings now...&quot;);
 60         derOut.putUTF8String(s);
 61         derOut.putPrintableString(s);
 62         derOut.putIA5String(s);
 63         derOut.putT61String(s);
 64         derOut.putBMPString(s);
 65 
<span class="line-modified"> 66         derOut.derEncode(fout);</span>
 67         fout.close();
 68 
 69         FileInputStream fis = new FileInputStream(fileName);
 70         byte[] data = new byte[fis.available()];
 71         fis.read(data);
 72         DerInputStream derIn = new DerInputStream(data);
 73         fis.close();
 74 
 75         System.out.println(&quot;\nReading Strings back as DerValue&#39;s...\n&quot;);
 76 
 77         DerValue der;
 78 
 79         der = derIn.getDerValue();
 80         verifyDER(&quot;UTF8&quot;, der, DerValue.tag_UTF8String, utf8Bytes);
 81 
 82         der = derIn.getDerValue();
 83         verifyDER(&quot;Printable&quot;, der, DerValue.tag_PrintableString, asciiBytes);
 84 
 85         der = derIn.getDerValue();
 86         verifyDER(&quot;IA5&quot;, der, DerValue.tag_IA5String, asciiBytes);
</pre>
</td>
<td>
<hr />
<pre>
 46         byte[] iso8859_1Bytes = s.getBytes(&quot;ISO-8859-1&quot;);
 47 
 48         byte[] unicodeBytes = s.getBytes(&quot;UnicodeBigUnmarked&quot;);
 49         byte[] unicodeBytes2 = getBytes(s);
 50 
 51         // test that unicode encoder is the correct one
 52         if (!equalBytes(unicodeBytes, unicodeBytes2))
 53           throw new Exception (&quot;Problem with unicode encoder being used.&quot;);
 54 
 55         FileOutputStream fout = new FileOutputStream(fileName);
 56         DerOutputStream derOut = new DerOutputStream();
 57 
 58         System.out.println(&quot;Writing Java string out as various DER&quot; +
 59                            &quot; encoded Strings now...&quot;);
 60         derOut.putUTF8String(s);
 61         derOut.putPrintableString(s);
 62         derOut.putIA5String(s);
 63         derOut.putT61String(s);
 64         derOut.putBMPString(s);
 65 
<span class="line-modified"> 66         derOut.encode(fout);</span>
 67         fout.close();
 68 
 69         FileInputStream fis = new FileInputStream(fileName);
 70         byte[] data = new byte[fis.available()];
 71         fis.read(data);
 72         DerInputStream derIn = new DerInputStream(data);
 73         fis.close();
 74 
 75         System.out.println(&quot;\nReading Strings back as DerValue&#39;s...\n&quot;);
 76 
 77         DerValue der;
 78 
 79         der = derIn.getDerValue();
 80         verifyDER(&quot;UTF8&quot;, der, DerValue.tag_UTF8String, utf8Bytes);
 81 
 82         der = derIn.getDerValue();
 83         verifyDER(&quot;Printable&quot;, der, DerValue.tag_PrintableString, asciiBytes);
 84 
 85         der = derIn.getDerValue();
 86         verifyDER(&quot;IA5&quot;, der, DerValue.tag_IA5String, asciiBytes);
</pre>
</td>
</tr>
</table>
<center><a href="../DerValue/DerValueEqualsHashCode.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../x509/AVA/AVAEqualsHashCode.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>