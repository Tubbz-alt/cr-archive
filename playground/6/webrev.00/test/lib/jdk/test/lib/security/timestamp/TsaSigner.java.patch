diff a/test/lib/jdk/test/lib/security/timestamp/TsaSigner.java b/test/lib/jdk/test/lib/security/timestamp/TsaSigner.java
--- a/test/lib/jdk/test/lib/security/timestamp/TsaSigner.java
+++ b/test/lib/jdk/test/lib/security/timestamp/TsaSigner.java
@@ -176,11 +176,11 @@
 
             String digestAlgo = respParam.digestAlgo();
             print("digestAlgo", digestAlgo);
             DerOutputStream digestAlgoOut = new DerOutputStream();
             AlgorithmId digestAlgoId = AlgorithmId.get(digestAlgo);
-            digestAlgoId.encode(digestAlgoOut);
+            digestAlgoId.derEncode(digestAlgoOut);
             byte[] hashedMessage = respParam.hashedMessage();
             debug("hashedMessage", hashedMessage);
             digestAlgoOut.putOctetString(hashedMessage);
             tstInfoOut.write(DerValue.tag_Sequence, digestAlgoOut);
 
