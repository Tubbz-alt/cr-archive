<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/sun/security/x509/CRLNumberExtension.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="CRLDistributionPointsExtension.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="CRLReasonCodeExtension.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/sun/security/x509/CRLNumberExtension.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 44  * @author Hemma Prafullchandra
 45  * @see Extension
 46  * @see CertAttrSet
 47  */
 48 public class CRLNumberExtension extends Extension
 49 implements CertAttrSet&lt;String&gt; {
 50 
 51     /**
 52      * Attribute name.
 53      */
 54     public static final String NAME = &quot;CRLNumber&quot;;
 55     public static final String NUMBER = &quot;value&quot;;
 56 
 57     private static final String LABEL = &quot;CRL Number&quot;;
 58 
 59     private BigInteger crlNumber = null;
 60     private String extensionName;
 61     private String extensionLabel;
 62 
 63     // Encode this extension value
<span class="line-modified"> 64     private void encodeThis() throws IOException {</span>
 65         if (crlNumber == null) {
 66             this.extensionValue = null;
 67             return;
 68         }
 69         DerOutputStream os = new DerOutputStream();
 70         os.putInteger(this.crlNumber);
 71         this.extensionValue = os.toByteArray();
 72     }
 73 
 74     /**
 75      * Create a CRLNumberExtension with the integer value .
 76      * The criticality is set to false.
 77      *
 78      * @param crlNum the value to be set for the extension.
 79      */
 80     public CRLNumberExtension(int crlNum) throws IOException {
 81         this(PKIXExtensions.CRLNumber_Id, false, BigInteger.valueOf(crlNum),
 82         NAME, LABEL);
 83     }
 84 
</pre>
<hr />
<pre>
181      * Returns a printable representation of the CRLNumberExtension.
182      */
183     public String toString() {
184         StringBuilder sb = new StringBuilder();
185         sb.append(super.toString())
186             .append(extensionLabel)
187             .append(&quot;: &quot;);
188         if (crlNumber != null) {
189             sb.append(Debug.toHexString(crlNumber));
190         }
191         sb.append(&#39;\n&#39;);
192         return sb.toString();
193     }
194 
195     /**
196      * Write the extension to the DerOutputStream.
197      *
198      * @param out the DerOutputStream to write the extension to.
199      * @exception IOException on encoding errors.
200      */
<span class="line-modified">201     public void encode(OutputStream out) throws IOException {</span>
<span class="line-modified">202         DerOutputStream tmp = new DerOutputStream();</span>
203         encode(out, PKIXExtensions.CRLNumber_Id, true);
204     }
205 
206     /**
207      * Write the extension to the DerOutputStream.
208      * (Also called by the subclass)
209      */
<span class="line-modified">210     protected void encode(OutputStream out, ObjectIdentifier extensionId,</span>
<span class="line-modified">211         boolean isCritical) throws IOException {</span>
<span class="line-removed">212 </span>
<span class="line-removed">213        DerOutputStream  tmp = new DerOutputStream();</span>
214 
215        if (this.extensionValue == null) {
216            this.extensionId = extensionId;
217            this.critical = isCritical;
218            encodeThis();
219        }
<span class="line-modified">220        super.encode(tmp);</span>
<span class="line-removed">221        out.write(tmp.toByteArray());</span>
222     }
223 
224     /**
225      * Return an enumeration of names of attributes existing within this
226      * attribute.
227      */
228     public Enumeration&lt;String&gt; getElements() {
229         AttributeNameEnumeration elements = new AttributeNameEnumeration();
230         elements.addElement(NUMBER);
231         return (elements.elements());
232     }
233 
234     /**
235      * Return the name of this attribute.
236      */
237     public String getName() {
238         return (extensionName);
239     }
240 }
</pre>
</td>
<td>
<hr />
<pre>
 44  * @author Hemma Prafullchandra
 45  * @see Extension
 46  * @see CertAttrSet
 47  */
 48 public class CRLNumberExtension extends Extension
 49 implements CertAttrSet&lt;String&gt; {
 50 
 51     /**
 52      * Attribute name.
 53      */
 54     public static final String NAME = &quot;CRLNumber&quot;;
 55     public static final String NUMBER = &quot;value&quot;;
 56 
 57     private static final String LABEL = &quot;CRL Number&quot;;
 58 
 59     private BigInteger crlNumber = null;
 60     private String extensionName;
 61     private String extensionLabel;
 62 
 63     // Encode this extension value
<span class="line-modified"> 64     private void encodeThis() {</span>
 65         if (crlNumber == null) {
 66             this.extensionValue = null;
 67             return;
 68         }
 69         DerOutputStream os = new DerOutputStream();
 70         os.putInteger(this.crlNumber);
 71         this.extensionValue = os.toByteArray();
 72     }
 73 
 74     /**
 75      * Create a CRLNumberExtension with the integer value .
 76      * The criticality is set to false.
 77      *
 78      * @param crlNum the value to be set for the extension.
 79      */
 80     public CRLNumberExtension(int crlNum) throws IOException {
 81         this(PKIXExtensions.CRLNumber_Id, false, BigInteger.valueOf(crlNum),
 82         NAME, LABEL);
 83     }
 84 
</pre>
<hr />
<pre>
181      * Returns a printable representation of the CRLNumberExtension.
182      */
183     public String toString() {
184         StringBuilder sb = new StringBuilder();
185         sb.append(super.toString())
186             .append(extensionLabel)
187             .append(&quot;: &quot;);
188         if (crlNumber != null) {
189             sb.append(Debug.toHexString(crlNumber));
190         }
191         sb.append(&#39;\n&#39;);
192         return sb.toString();
193     }
194 
195     /**
196      * Write the extension to the DerOutputStream.
197      *
198      * @param out the DerOutputStream to write the extension to.
199      * @exception IOException on encoding errors.
200      */
<span class="line-modified">201     @Override</span>
<span class="line-modified">202     public void encode(DerOutputStream out) {</span>
203         encode(out, PKIXExtensions.CRLNumber_Id, true);
204     }
205 
206     /**
207      * Write the extension to the DerOutputStream.
208      * (Also called by the subclass)
209      */
<span class="line-modified">210     protected void encode(DerOutputStream out, ObjectIdentifier extensionId,</span>
<span class="line-modified">211         boolean isCritical) {</span>


212 
213        if (this.extensionValue == null) {
214            this.extensionId = extensionId;
215            this.critical = isCritical;
216            encodeThis();
217        }
<span class="line-modified">218        super.encode(out);</span>

219     }
220 
221     /**
222      * Return an enumeration of names of attributes existing within this
223      * attribute.
224      */
225     public Enumeration&lt;String&gt; getElements() {
226         AttributeNameEnumeration elements = new AttributeNameEnumeration();
227         elements.addElement(NUMBER);
228         return (elements.elements());
229     }
230 
231     /**
232      * Return the name of this attribute.
233      */
234     public String getName() {
235         return (extensionName);
236     }
237 }
</pre>
</td>
</tr>
</table>
<center><a href="CRLDistributionPointsExtension.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="CRLReasonCodeExtension.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>