<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/sun/security/x509/DistributionPointName.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="DistributionPoint.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="EDIPartyName.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/sun/security/x509/DistributionPointName.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 package sun.security.x509;
 27 
 28 import java.io.IOException;
 29 import java.util.*;
 30 
<span class="line-removed"> 31 import sun.security.util.BitArray;</span>
 32 import sun.security.util.DerOutputStream;
 33 import sun.security.util.DerValue;
 34 
 35 /**
 36  * Represents the DistributionPointName ASN.1 type.
 37  *
 38  * It is used in the CRL Distribution Points Extension (OID = 2.5.29.31)
 39  * and the Issuing Distribution Point Extension (OID = 2.5.29.28).
 40  * &lt;p&gt;
 41  * Its ASN.1 definition is:
 42  * &lt;pre&gt;
 43  *
 44  *     DistributionPointName ::= CHOICE {
 45  *         fullName                  [0] GeneralNames,
 46  *         nameRelativeToCRLIssuer   [1] RelativeDistinguishedName }
 47  *
 48  *     GeneralNames ::= SEQUENCE SIZE (1..MAX) OF GeneralName
 49  *
 50  *     GeneralName ::= CHOICE {
 51  *         otherName                 [0] INSTANCE OF OTHER-NAME,
</pre>
<hr />
<pre>
150     /**
151      * Returns the full name for the distribution point or null if not set.
152      */
153     public GeneralNames getFullName() {
154         return fullName;
155     }
156 
157     /**
158      * Returns the relative name for the distribution point or null if not set.
159      */
160     public RDN getRelativeName() {
161         return relativeName;
162     }
163 
164     /**
165      * Encodes the distribution point name and writes it to the DerOutputStream.
166      *
167      * @param out the output stream.
168      * @exception IOException on encoding error.
169      */
<span class="line-modified">170     public void encode(DerOutputStream out) throws IOException {</span>
171 
172         DerOutputStream theChoice = new DerOutputStream();
173 
174         if (fullName != null) {
175             fullName.encode(theChoice);
176             out.writeImplicit(
177                 DerValue.createTag(DerValue.TAG_CONTEXT, true, TAG_FULL_NAME),
178                 theChoice);
179 
180         } else {
<span class="line-modified">181             relativeName.encode(theChoice);</span>
182             out.writeImplicit(
183                 DerValue.createTag(DerValue.TAG_CONTEXT, true,
184                     TAG_RELATIVE_NAME),
185                 theChoice);
186         }
187     }
188 
189     /**
190      * Compare an object to this distribution point name for equality.
191      *
192      * @param obj Object to be compared to this
193      * @return true if objects match; false otherwise
194      */
195     public boolean equals(Object obj) {
196         if (this == obj) {
197             return true;
198         }
199         if (obj instanceof DistributionPointName == false) {
200             return false;
201         }
</pre>
</td>
<td>
<hr />
<pre>
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 package sun.security.x509;
 27 
 28 import java.io.IOException;
 29 import java.util.*;
 30 

 31 import sun.security.util.DerOutputStream;
 32 import sun.security.util.DerValue;
 33 
 34 /**
 35  * Represents the DistributionPointName ASN.1 type.
 36  *
 37  * It is used in the CRL Distribution Points Extension (OID = 2.5.29.31)
 38  * and the Issuing Distribution Point Extension (OID = 2.5.29.28).
 39  * &lt;p&gt;
 40  * Its ASN.1 definition is:
 41  * &lt;pre&gt;
 42  *
 43  *     DistributionPointName ::= CHOICE {
 44  *         fullName                  [0] GeneralNames,
 45  *         nameRelativeToCRLIssuer   [1] RelativeDistinguishedName }
 46  *
 47  *     GeneralNames ::= SEQUENCE SIZE (1..MAX) OF GeneralName
 48  *
 49  *     GeneralName ::= CHOICE {
 50  *         otherName                 [0] INSTANCE OF OTHER-NAME,
</pre>
<hr />
<pre>
149     /**
150      * Returns the full name for the distribution point or null if not set.
151      */
152     public GeneralNames getFullName() {
153         return fullName;
154     }
155 
156     /**
157      * Returns the relative name for the distribution point or null if not set.
158      */
159     public RDN getRelativeName() {
160         return relativeName;
161     }
162 
163     /**
164      * Encodes the distribution point name and writes it to the DerOutputStream.
165      *
166      * @param out the output stream.
167      * @exception IOException on encoding error.
168      */
<span class="line-modified">169     public void encode(DerOutputStream out) {</span>
170 
171         DerOutputStream theChoice = new DerOutputStream();
172 
173         if (fullName != null) {
174             fullName.encode(theChoice);
175             out.writeImplicit(
176                 DerValue.createTag(DerValue.TAG_CONTEXT, true, TAG_FULL_NAME),
177                 theChoice);
178 
179         } else {
<span class="line-modified">180             relativeName.derEncode(theChoice);</span>
181             out.writeImplicit(
182                 DerValue.createTag(DerValue.TAG_CONTEXT, true,
183                     TAG_RELATIVE_NAME),
184                 theChoice);
185         }
186     }
187 
188     /**
189      * Compare an object to this distribution point name for equality.
190      *
191      * @param obj Object to be compared to this
192      * @return true if objects match; false otherwise
193      */
194     public boolean equals(Object obj) {
195         if (this == obj) {
196             return true;
197         }
198         if (obj instanceof DistributionPointName == false) {
199             return false;
200         }
</pre>
</td>
</tr>
</table>
<center><a href="DistributionPoint.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="EDIPartyName.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>