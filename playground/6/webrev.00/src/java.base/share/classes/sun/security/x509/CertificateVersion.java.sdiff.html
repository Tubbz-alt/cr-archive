<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/sun/security/x509/CertificateVersion.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="CertificateValidity.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="CertificateX509Key.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/sun/security/x509/CertificateVersion.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
141      */
142     public CertificateVersion(DerValue val) throws IOException {
143         version = V1;
144 
145         construct(val);
146     }
147 
148     /**
149      * Return the version number of the certificate.
150      */
151     public String toString() {
152         return(&quot;Version: V&quot; + (version+1));
153     }
154 
155     /**
156      * Encode the CertificateVersion period in DER form to the stream.
157      *
158      * @param out the OutputStream to marshal the contents to.
159      * @exception IOException on errors.
160      */
<span class="line-modified">161     public void encode(OutputStream out) throws IOException {</span>

162         // Nothing for default
163         if (version == V1) {
164             return;
165         }
166         DerOutputStream tmp = new DerOutputStream();
167         tmp.putInteger(version);
168 
<span class="line-modified">169         DerOutputStream seq = new DerOutputStream();</span>
<span class="line-removed">170         seq.write(DerValue.createTag(DerValue.TAG_CONTEXT, true, (byte)0),</span>
171                   tmp);
<span class="line-removed">172 </span>
<span class="line-removed">173         out.write(seq.toByteArray());</span>
174     }
175 
176     /**
177      * Set the attribute value.
178      */
179     public void set(String name, Object obj) throws IOException {
180         if (!(obj instanceof Integer)) {
181             throw new IOException(&quot;Attribute must be of type Integer.&quot;);
182         }
183         if (name.equalsIgnoreCase(VERSION)) {
184             version = ((Integer)obj).intValue();
185         } else {
186             throw new IOException(&quot;Attribute name not recognized by &quot; +
187                                   &quot;CertAttrSet: CertificateVersion.&quot;);
188         }
189     }
190 
191     /**
192      * Get the attribute value.
193      */
</pre>
</td>
<td>
<hr />
<pre>
141      */
142     public CertificateVersion(DerValue val) throws IOException {
143         version = V1;
144 
145         construct(val);
146     }
147 
148     /**
149      * Return the version number of the certificate.
150      */
151     public String toString() {
152         return(&quot;Version: V&quot; + (version+1));
153     }
154 
155     /**
156      * Encode the CertificateVersion period in DER form to the stream.
157      *
158      * @param out the OutputStream to marshal the contents to.
159      * @exception IOException on errors.
160      */
<span class="line-modified">161     @Override</span>
<span class="line-added">162     public void encode(DerOutputStream out) {</span>
163         // Nothing for default
164         if (version == V1) {
165             return;
166         }
167         DerOutputStream tmp = new DerOutputStream();
168         tmp.putInteger(version);
169 
<span class="line-modified">170         out.write(DerValue.createTag(DerValue.TAG_CONTEXT, true, (byte)0),</span>

171                   tmp);


172     }
173 
174     /**
175      * Set the attribute value.
176      */
177     public void set(String name, Object obj) throws IOException {
178         if (!(obj instanceof Integer)) {
179             throw new IOException(&quot;Attribute must be of type Integer.&quot;);
180         }
181         if (name.equalsIgnoreCase(VERSION)) {
182             version = ((Integer)obj).intValue();
183         } else {
184             throw new IOException(&quot;Attribute name not recognized by &quot; +
185                                   &quot;CertAttrSet: CertificateVersion.&quot;);
186         }
187     }
188 
189     /**
190      * Get the attribute value.
191      */
</pre>
</td>
</tr>
</table>
<center><a href="CertificateValidity.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="CertificateX509Key.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>