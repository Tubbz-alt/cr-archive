<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/common/modules/LauncherCommon.gmk</title>
    <link rel="stylesheet" href="../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../index.html" target="_top">index</a> next &gt;</center>    <h2>make/common/modules/LauncherCommon.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 31 # Tell the compiler not to export any functions unless declared so in
 32 # the source code. On Windows, this is the default and cannot be changed.
 33 # On Mac, we have always exported all symbols, probably due to oversight
 34 # and/or misunderstanding. To emulate this, don&#39;t hide any symbols
 35 # by default.
 36 # On AIX/xlc we need at least xlc 13.1 for the symbol hiding (see JDK-8214063)
 37 # Also provide an override for non-conformant libraries.
 38 ifeq ($(TOOLCHAIN_TYPE), gcc)
 39   LAUNCHER_CFLAGS += -fvisibility=hidden
 40   LDFLAGS_JDKEXE += -Wl,--exclude-libs,ALL
 41 else ifeq ($(TOOLCHAIN_TYPE), clang)
 42   LAUNCHER_CFLAGS += -fvisibility=hidden
 43 endif
 44 
 45 LAUNCHER_SRC := $(TOPDIR)/src/java.base/share/native/launcher
 46 LAUNCHER_CFLAGS += -I$(TOPDIR)/src/java.base/share/native/launcher \
 47     -I$(TOPDIR)/src/java.base/share/native/libjli \
 48     -I$(TOPDIR)/src/java.base/$(OPENJDK_TARGET_OS_TYPE)/native/libjli \
 49     -I$(TOPDIR)/src/java.base/$(OPENJDK_TARGET_OS)/native/libjli \
 50     #









 51 MACOSX_PLIST_DIR := $(TOPDIR)/src/java.base/macosx/native/launcher
 52 JAVA_MANIFEST := $(TOPDIR)/src/java.base/windows/native/launcher/java.manifest
 53 
 54 ################################################################################
 55 # Build standard launcher.
 56 
 57 # Setup make rules for building a standard launcher.
 58 #
 59 # Parameter 1 is the name of the rule. This name is used as variable prefix,
 60 # and the targets generated are listed in a variable by that name. It is also
 61 # used as the name of the executable.
 62 #
 63 # Remaining parameters are named arguments. These include:
 64 # MAIN_MODULE  The module of the main class to launch if different from the
 65 #     current module
 66 # MAIN_CLASS   The Java main class to launch
 67 # JAVA_ARGS   Processed into a -DJAVA_ARGS and added to CFLAGS
 68 # EXTRA_JAVA_ARGS Processed into a -DEXTRA_JAVA_ARGS and is prepended
 69 #     before JAVA_ARGS to CFLAGS, primarily to allow long string literal
 70 #     compile time defines exceeding Visual Studio 2013 limitations.
</pre>
</td>
<td>
<hr />
<pre>
 31 # Tell the compiler not to export any functions unless declared so in
 32 # the source code. On Windows, this is the default and cannot be changed.
 33 # On Mac, we have always exported all symbols, probably due to oversight
 34 # and/or misunderstanding. To emulate this, don&#39;t hide any symbols
 35 # by default.
 36 # On AIX/xlc we need at least xlc 13.1 for the symbol hiding (see JDK-8214063)
 37 # Also provide an override for non-conformant libraries.
 38 ifeq ($(TOOLCHAIN_TYPE), gcc)
 39   LAUNCHER_CFLAGS += -fvisibility=hidden
 40   LDFLAGS_JDKEXE += -Wl,--exclude-libs,ALL
 41 else ifeq ($(TOOLCHAIN_TYPE), clang)
 42   LAUNCHER_CFLAGS += -fvisibility=hidden
 43 endif
 44 
 45 LAUNCHER_SRC := $(TOPDIR)/src/java.base/share/native/launcher
 46 LAUNCHER_CFLAGS += -I$(TOPDIR)/src/java.base/share/native/launcher \
 47     -I$(TOPDIR)/src/java.base/share/native/libjli \
 48     -I$(TOPDIR)/src/java.base/$(OPENJDK_TARGET_OS_TYPE)/native/libjli \
 49     -I$(TOPDIR)/src/java.base/$(OPENJDK_TARGET_OS)/native/libjli \
 50     #
<span class="line-added"> 51 &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span>
<span class="line-added"> 52 =======</span>
<span class="line-added"> 53 </span>
<span class="line-added"> 54 ifeq ($(call isTargetOs, ios), true)</span>
<span class="line-added"> 55   LAUNCHER_CFLAGS += -I$(TOPDIR)/src/java.base/macosx/native/libjli</span>
<span class="line-added"> 56 fi</span>
<span class="line-added"> 57 </span>
<span class="line-added"> 58 GLOBAL_VERSION_INFO_RESOURCE := $(TOPDIR)/src/java.base/windows/native/common/version.rc</span>
<span class="line-added"> 59 &gt;&gt;&gt;&gt;&gt;&gt;&gt; 37b9f0563123d278841fbb57d7ad2da005d0ebc9</span>
 60 MACOSX_PLIST_DIR := $(TOPDIR)/src/java.base/macosx/native/launcher
 61 JAVA_MANIFEST := $(TOPDIR)/src/java.base/windows/native/launcher/java.manifest
 62 
 63 ################################################################################
 64 # Build standard launcher.
 65 
 66 # Setup make rules for building a standard launcher.
 67 #
 68 # Parameter 1 is the name of the rule. This name is used as variable prefix,
 69 # and the targets generated are listed in a variable by that name. It is also
 70 # used as the name of the executable.
 71 #
 72 # Remaining parameters are named arguments. These include:
 73 # MAIN_MODULE  The module of the main class to launch if different from the
 74 #     current module
 75 # MAIN_CLASS   The Java main class to launch
 76 # JAVA_ARGS   Processed into a -DJAVA_ARGS and added to CFLAGS
 77 # EXTRA_JAVA_ARGS Processed into a -DEXTRA_JAVA_ARGS and is prepended
 78 #     before JAVA_ARGS to CFLAGS, primarily to allow long string literal
 79 #     compile time defines exceeding Visual Studio 2013 limitations.
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>