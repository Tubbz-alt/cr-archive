<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.hotspot.agent/share/classes/sun/jvm/hotspot/asm/Disassembler.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../HotSpotAgent.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../debugger/Debugger.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.hotspot.agent/share/classes/sun/jvm/hotspot/asm/Disassembler.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 57       this.startPc = startPc;
 58       this.code = code;
 59 
 60       // Lazily load hsdis
 61       if (decode_function == 0) {
 62          StringBuilder path = new StringBuilder(System.getProperty(&quot;java.home&quot;));
 63          String sep = System.getProperty(&quot;file.separator&quot;);
 64          String os = System.getProperty(&quot;os.name&quot;);
 65          String libname = &quot;hsdis&quot;;
 66          String arch = System.getProperty(&quot;os.arch&quot;);
 67          if (os.lastIndexOf(&quot;Windows&quot;, 0) != -1) {
 68             if (arch.equals(&quot;x86&quot;)) {
 69                libname +=  &quot;-i386&quot;;
 70             } else if (arch.equals(&quot;amd64&quot;)) {
 71                libname +=  &quot;-amd64&quot;;
 72             } else {
 73                libname +=  &quot;-&quot; + arch;
 74             }
 75             path.append(sep + &quot;bin&quot; + sep);
 76             libname += &quot;.dll&quot;;
<span class="line-removed"> 77          } else if (os.lastIndexOf(&quot;SunOS&quot;, 0) != -1) {</span>
<span class="line-removed"> 78             if (arch.equals(&quot;x86&quot;) || arch.equals(&quot;i386&quot;)) {</span>
<span class="line-removed"> 79                path.append(sep + &quot;lib&quot; + sep + &quot;i386&quot; + sep);</span>
<span class="line-removed"> 80                libname +=  &quot;-i386&quot; + &quot;.so&quot;;</span>
<span class="line-removed"> 81             } else if (arch.equals(&quot;amd64&quot;)) {</span>
<span class="line-removed"> 82                path.append(sep + &quot;lib&quot; + sep + &quot;amd64&quot; + sep);</span>
<span class="line-removed"> 83                libname +=  &quot;-amd64&quot; + &quot;.so&quot;;</span>
<span class="line-removed"> 84             } else {</span>
<span class="line-removed"> 85                path.append(sep + &quot;lib&quot; + sep + arch + sep);</span>
<span class="line-removed"> 86                libname +=  &quot;-&quot; + arch + &quot;.so&quot;;</span>
<span class="line-removed"> 87             }</span>
 88          } else if (os.lastIndexOf(&quot;Linux&quot;, 0) != -1) {
 89             if (arch.equals(&quot;x86&quot;) || arch.equals(&quot;i386&quot;)) {
 90                path.append(sep + &quot;lib&quot; + sep + &quot;i386&quot; + sep);
 91                libname += &quot;-i386.so&quot;;
 92             } else if (arch.equals(&quot;amd64&quot;) || arch.equals(&quot;x86_64&quot;)) {
 93                path.append(sep + &quot;lib&quot; + sep + &quot;amd64&quot; + sep);
 94                libname +=  &quot;-amd64.so&quot;;
 95             } else {
 96                path.append(sep + &quot;lib&quot; + sep + arch + sep);
 97                libname +=  &quot;-&quot; + arch + &quot;.so&quot;;
 98             }
 99          } else if (os.lastIndexOf(&quot;Mac OS X&quot;, 0) != -1) {
100             path.append(sep + &quot;lib&quot; + sep);
101             libname += &quot;-amd64&quot; + &quot;.dylib&quot;;       // x86_64 =&gt; amd64
102          } else {
103             path.append(sep + &quot;lib&quot; + sep + &quot;arch&quot; + sep);
104             libname +=  &quot;-&quot; + arch + &quot;.so&quot;;
105          }
106          decode_function = load_library(path.toString(), libname);
107       }
</pre>
</td>
<td>
<hr />
<pre>
 57       this.startPc = startPc;
 58       this.code = code;
 59 
 60       // Lazily load hsdis
 61       if (decode_function == 0) {
 62          StringBuilder path = new StringBuilder(System.getProperty(&quot;java.home&quot;));
 63          String sep = System.getProperty(&quot;file.separator&quot;);
 64          String os = System.getProperty(&quot;os.name&quot;);
 65          String libname = &quot;hsdis&quot;;
 66          String arch = System.getProperty(&quot;os.arch&quot;);
 67          if (os.lastIndexOf(&quot;Windows&quot;, 0) != -1) {
 68             if (arch.equals(&quot;x86&quot;)) {
 69                libname +=  &quot;-i386&quot;;
 70             } else if (arch.equals(&quot;amd64&quot;)) {
 71                libname +=  &quot;-amd64&quot;;
 72             } else {
 73                libname +=  &quot;-&quot; + arch;
 74             }
 75             path.append(sep + &quot;bin&quot; + sep);
 76             libname += &quot;.dll&quot;;











 77          } else if (os.lastIndexOf(&quot;Linux&quot;, 0) != -1) {
 78             if (arch.equals(&quot;x86&quot;) || arch.equals(&quot;i386&quot;)) {
 79                path.append(sep + &quot;lib&quot; + sep + &quot;i386&quot; + sep);
 80                libname += &quot;-i386.so&quot;;
 81             } else if (arch.equals(&quot;amd64&quot;) || arch.equals(&quot;x86_64&quot;)) {
 82                path.append(sep + &quot;lib&quot; + sep + &quot;amd64&quot; + sep);
 83                libname +=  &quot;-amd64.so&quot;;
 84             } else {
 85                path.append(sep + &quot;lib&quot; + sep + arch + sep);
 86                libname +=  &quot;-&quot; + arch + &quot;.so&quot;;
 87             }
 88          } else if (os.lastIndexOf(&quot;Mac OS X&quot;, 0) != -1) {
 89             path.append(sep + &quot;lib&quot; + sep);
 90             libname += &quot;-amd64&quot; + &quot;.dylib&quot;;       // x86_64 =&gt; amd64
 91          } else {
 92             path.append(sep + &quot;lib&quot; + sep + &quot;arch&quot; + sep);
 93             libname +=  &quot;-&quot; + arch + &quot;.so&quot;;
 94          }
 95          decode_function = load_library(path.toString(), libname);
 96       }
</pre>
</td>
</tr>
</table>
<center><a href="../HotSpotAgent.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../debugger/Debugger.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>