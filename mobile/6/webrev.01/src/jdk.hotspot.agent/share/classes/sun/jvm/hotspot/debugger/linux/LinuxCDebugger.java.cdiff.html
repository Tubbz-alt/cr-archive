<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/jdk.hotspot.agent/share/classes/sun/jvm/hotspot/debugger/linux/LinuxCDebugger.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../Debugger.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="LinuxThreadContextFactory.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.hotspot.agent/share/classes/sun/jvm/hotspot/debugger/linux/LinuxCDebugger.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 31,15 ***</span>
  import sun.jvm.hotspot.debugger.*;
  import sun.jvm.hotspot.debugger.cdbg.*;
  import sun.jvm.hotspot.debugger.x86.*;
  import sun.jvm.hotspot.debugger.amd64.*;
  import sun.jvm.hotspot.debugger.aarch64.*;
<span class="line-removed">- import sun.jvm.hotspot.debugger.sparc.*;</span>
  import sun.jvm.hotspot.debugger.ppc64.*;
  import sun.jvm.hotspot.debugger.linux.x86.*;
  import sun.jvm.hotspot.debugger.linux.amd64.*;
<span class="line-removed">- import sun.jvm.hotspot.debugger.linux.sparc.*;</span>
  import sun.jvm.hotspot.debugger.linux.ppc64.*;
  import sun.jvm.hotspot.debugger.linux.aarch64.*;
  import sun.jvm.hotspot.utilities.*;
  
  class LinuxCDebugger implements CDebugger {
<span class="line-new-header">--- 31,13 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 91,17 ***</span>
      } else if (cpu.equals(&quot;amd64&quot;)) {
         AMD64ThreadContext context = (AMD64ThreadContext) thread.getContext();
         Address pc  = context.getRegisterAsAddress(AMD64ThreadContext.RIP);
         if (pc == null) return null;
         return LinuxAMD64CFrame.getTopFrame(dbg, pc, context);
<span class="line-removed">-     } else if (cpu.equals(&quot;sparc&quot;)) {</span>
<span class="line-removed">-        SPARCThreadContext context = (SPARCThreadContext) thread.getContext();</span>
<span class="line-removed">-        Address sp = context.getRegisterAsAddress(SPARCThreadContext.R_SP);</span>
<span class="line-removed">-        if (sp == null) return null;</span>
<span class="line-removed">-        Address pc  = context.getRegisterAsAddress(SPARCThreadContext.R_O7);</span>
<span class="line-removed">-        if (pc == null) return null;</span>
<span class="line-removed">-        return new LinuxSPARCCFrame(dbg, sp, pc, LinuxDebuggerLocal.getAddressSize());</span>
      }  else if (cpu.equals(&quot;ppc64&quot;)) {
          PPC64ThreadContext context = (PPC64ThreadContext) thread.getContext();
          Address sp = context.getRegisterAsAddress(PPC64ThreadContext.SP);
          if (sp == null) return null;
          Address pc  = context.getRegisterAsAddress(PPC64ThreadContext.PC);
<span class="line-new-header">--- 89,10 ---</span>
</pre>
<center><a href="../Debugger.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="LinuxThreadContextFactory.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>