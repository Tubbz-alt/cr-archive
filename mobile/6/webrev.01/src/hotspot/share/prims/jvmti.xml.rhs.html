<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/hotspot/share/prims/jvmti.xml</title>
    <link rel="stylesheet" href="../../../../style.css" />
    <script type="text/javascript" src="../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>    1 &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;
    2 &lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;jvmti.xsl&quot;?&gt;
    3 &lt;!--
    4  Copyright (c) 2002, 2020, Oracle and/or its affiliates. All rights reserved.
    5  DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
    6 
    7  This code is free software; you can redistribute it and/or modify it
    8  under the terms of the GNU General Public License version 2 only, as
    9  published by the Free Software Foundation.
   10 
   11  This code is distributed in the hope that it will be useful, but WITHOUT
   12  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
   13  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
   14  version 2 for more details (a copy is included in the LICENSE file that
   15  accompanied this code).
   16 
   17  You should have received a copy of the GNU General Public License version
   18  2 along with this work; if not, write to the Free Software Foundation,
   19  Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
   20 
   21  Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
   22  or visit www.oracle.com if you need additional information or have any
   23  questions.
   24 --&gt;
   25 
   26 &lt;!DOCTYPE specification [
   27    &lt;!ELEMENT specification (title, intro*, functionsection, errorsection,
   28                             eventsection, datasection, issuessection, changehistory)&gt;
   29    &lt;!ATTLIST specification label CDATA #REQUIRED&gt;
   30 
   31    &lt;!ELEMENT title (#PCDATA|jvmti|tm)*&gt;
   32    &lt;!ATTLIST title subtitle CDATA #REQUIRED&gt;
   33 
   34    &lt;!ELEMENT intro ANY&gt;
   35    &lt;!ATTLIST intro id CDATA #IMPLIED
   36                    label CDATA &quot;&quot;&gt;
   37 
   38    &lt;!ELEMENT functionsection (intro*, category*)&gt;
   39    &lt;!ATTLIST functionsection label CDATA #REQUIRED&gt;
   40 
   41    &lt;!ELEMENT category ((intro|typedef|uniontypedef|capabilitiestypedef)*,
   42                           (function|callback|elide)*)&gt;
   43    &lt;!ATTLIST category id CDATA #REQUIRED
   44                       label CDATA #REQUIRED&gt;
   45 
   46    &lt;!ELEMENT function (synopsis, typedef*, description?, origin,
   47                          (capabilities|eventcapabilities),
   48                          parameters, errors)&gt;
   49    &lt;!ATTLIST function id CDATA #REQUIRED
   50                       num CDATA #REQUIRED
   51                       phase (onload|onloadOnly|start|live|any) #IMPLIED
   52                       callbacksafe (safe|unsafe) #IMPLIED
   53                       impl CDATA #IMPLIED
   54                       hide CDATA #IMPLIED
   55                       jkernel (yes|no) #IMPLIED
   56                       since CDATA &quot;1.0&quot;&gt;
   57 
   58    &lt;!ELEMENT callback ((jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|jthreadGroup|jobject|
   59                         jvalue|enum|jint|jlong|jfloat|jdouble|jlocation|jboolean|char|uchar|size_t|void),
   60                         synopsis, description?, parameters)&gt;
   61    &lt;!ATTLIST callback id CDATA #REQUIRED
   62                       since CDATA &quot;1.0&quot;&gt;
   63 
   64    &lt;!ELEMENT synopsis (#PCDATA|jvmti)*&gt;
   65 
   66    &lt;!ELEMENT typedef (description?, field*)&gt;
   67    &lt;!ATTLIST typedef id CDATA #REQUIRED
   68                      label CDATA #REQUIRED
   69                      since CDATA &quot;1.0&quot;&gt;
   70 
   71    &lt;!ELEMENT uniontypedef (description?, field*)&gt;
   72    &lt;!ATTLIST uniontypedef id CDATA #REQUIRED
   73                      label CDATA #REQUIRED
   74                      since CDATA &quot;1.0&quot;&gt;
   75 
   76    &lt;!ELEMENT field ((jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|jthreadGroup|jobject|
   77                      jvalue|enum|jint|jlong|jfloat|jdouble|jlocation|jboolean|char|uchar|size_t|void|allocfieldbuf|inptr|inbuf|outbuf|vmbuf|ptrtype|struct),
   78                     description)&gt;
   79    &lt;!ATTLIST field id CDATA #REQUIRED&gt;
   80 
   81    &lt;!ELEMENT capabilitiestypedef (description?, capabilityfield*)&gt;
   82    &lt;!ATTLIST capabilitiestypedef id CDATA #REQUIRED
   83                      label CDATA #REQUIRED&gt;
   84 
   85    &lt;!ELEMENT capabilityfield (description)&gt;
   86    &lt;!ATTLIST capabilityfield id CDATA #REQUIRED
   87                    disp1 CDATA &quot;&quot;
   88                    disp2 CDATA &quot;&quot;
   89                    since CDATA &quot;1.0&quot;&gt;
   90 
   91    &lt;!ELEMENT description ANY&gt;
   92 
   93    &lt;!ELEMENT capabilities (required*, capability*)&gt;
   94 
   95    &lt;!ELEMENT eventcapabilities EMPTY&gt;
   96 
   97    &lt;!ELEMENT required ANY&gt;
   98    &lt;!ATTLIST required id CDATA #REQUIRED&gt;
   99 
  100    &lt;!ELEMENT capability ANY&gt;
  101    &lt;!ATTLIST capability id CDATA #REQUIRED&gt;
  102 
  103    &lt;!ELEMENT parameters (param*)&gt;
  104 
  105    &lt;!ELEMENT param ((jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|jthreadGroup|jobject|
  106                      jvalue|enum|jint|jlong|jfloat|jdouble|jlocation|jboolean|char|uchar|size_t|void|varargs|struct|ptrtype|
  107                      outptr|allocbuf|allocallocbuf|inptr|inbuf|outbuf|vmbuf|agentbuf),
  108                     description)&gt;
  109    &lt;!ATTLIST param id CDATA #REQUIRED&gt;
  110 
  111    &lt;!ELEMENT jmethodID EMPTY&gt;
  112    &lt;!ATTLIST jmethodID class  CDATA #IMPLIED
  113                        native CDATA #IMPLIED&gt;
  114 
  115    &lt;!ELEMENT jfieldID EMPTY&gt;
  116    &lt;!ATTLIST jfieldID class CDATA #IMPLIED&gt;
  117 
  118    &lt;!ELEMENT jclass EMPTY&gt;
  119    &lt;!ATTLIST jclass method CDATA #IMPLIED
  120                     field  CDATA #IMPLIED&gt;
  121 
  122    &lt;!ELEMENT jframeID EMPTY&gt;
  123    &lt;!ATTLIST jframeID thread CDATA #IMPLIED&gt;
  124 
  125    &lt;!ELEMENT jrawMonitorID EMPTY&gt;
  126 
  127    &lt;!ELEMENT jthread EMPTY&gt;
  128    &lt;!ATTLIST jthread started CDATA #IMPLIED
  129                      null CDATA #IMPLIED
  130                      frame CDATA #IMPLIED
  131                      impl CDATA #IMPLIED&gt;
  132 
  133    &lt;!ELEMENT varargs EMPTY&gt;
  134 
  135    &lt;!ELEMENT jthreadGroup EMPTY&gt;
  136    &lt;!ELEMENT jobject EMPTY&gt;
  137    &lt;!ELEMENT jvalue EMPTY&gt;
  138    &lt;!ELEMENT jchar EMPTY&gt;
  139    &lt;!ELEMENT jint EMPTY&gt;
  140    &lt;!ATTLIST jint min CDATA #IMPLIED&gt;
  141    &lt;!ELEMENT jlong EMPTY&gt;
  142    &lt;!ELEMENT jfloat EMPTY&gt;
  143    &lt;!ELEMENT jdouble EMPTY&gt;
  144    &lt;!ELEMENT jlocation EMPTY&gt;
  145    &lt;!ELEMENT jboolean EMPTY&gt;
  146    &lt;!ELEMENT char EMPTY&gt;
  147    &lt;!ELEMENT uchar EMPTY&gt;
  148    &lt;!ELEMENT size_t EMPTY&gt;
  149    &lt;!ELEMENT void EMPTY&gt;
  150    &lt;!ELEMENT enum (#PCDATA)*&gt;
  151    &lt;!ELEMENT struct (#PCDATA)*&gt;
  152 
  153    &lt;!ELEMENT nullok ANY&gt;
  154 
  155    &lt;!ELEMENT ptrtype     ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  156                                    jthreadGroup|jobject|jvalue), nullok?)&gt;
  157 
  158    &lt;!ELEMENT outptr     ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  159                                    jthreadGroup|jobject|jvalue|enum|jchar|jint|jlong|jfloat|jdouble|
  160                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  161 
  162    &lt;!ELEMENT allocbuf   ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  163                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  164                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  165    &lt;!ATTLIST allocbuf incount CDATA #IMPLIED
  166                       outcount CDATA #IMPLIED&gt;
  167 
  168    &lt;!ELEMENT allocallocbuf   ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  169                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  170                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  171    &lt;!ATTLIST allocallocbuf incount CDATA #IMPLIED
  172                       outcount CDATA #IMPLIED&gt;
  173 
  174    &lt;!ELEMENT inptr      (struct, nullok?)&gt;
  175 
  176    &lt;!ELEMENT inbuf      ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  177                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  178                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  179    &lt;!ATTLIST inbuf    incount CDATA #IMPLIED&gt;
  180 
  181    &lt;!ELEMENT outbuf     ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  182                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  183                                    jlocation|jboolean|char|uchar|size_t|void|outbuf), nullok?)&gt;
  184    &lt;!ATTLIST outbuf   incount CDATA #IMPLIED
  185                       outcount CDATA #IMPLIED&gt;
  186 
  187    &lt;!ELEMENT vmbuf      ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  188                                    jthreadGroup|jobject|jvalue|enum|jchar|jint|jlong|jfloat|jdouble|
  189                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  190    &lt;!ATTLIST vmbuf    incount CDATA #IMPLIED
  191                       outcount CDATA #IMPLIED&gt;
  192 
  193    &lt;!ELEMENT agentbuf   ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  194                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  195                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  196    &lt;!ATTLIST agentbuf incount CDATA #IMPLIED
  197                       outcount CDATA #IMPLIED&gt;
  198 
  199    &lt;!ELEMENT allocfieldbuf   ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  200                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  201                                    jlocation|jboolean|char|uchar|size_t|void))&gt;
  202    &lt;!ATTLIST allocfieldbuf outcount CDATA #IMPLIED&gt;
  203 
  204    &lt;!ELEMENT errors (error*)&gt;
  205 
  206    &lt;!ELEMENT error ANY&gt;
  207    &lt;!ATTLIST error id CDATA #REQUIRED&gt;
  208 
  209    &lt;!ELEMENT errorsection (intro*, errorcategory*)&gt;
  210    &lt;!ATTLIST errorsection label CDATA #REQUIRED&gt;
  211 
  212    &lt;!ELEMENT errorcategory (intro*, errorid*)&gt;
  213    &lt;!ATTLIST errorcategory id CDATA #REQUIRED
  214                            label CDATA #REQUIRED&gt;
  215 
  216    &lt;!ELEMENT errorid ANY&gt;
  217    &lt;!ATTLIST errorid id CDATA #REQUIRED
  218                      num CDATA #REQUIRED&gt;
  219 
  220    &lt;!ELEMENT datasection (intro*, basetypes*)&gt;
  221 
  222    &lt;!ELEMENT basetypes (intro*, basetype*)&gt;
  223    &lt;!ATTLIST basetypes id CDATA #REQUIRED
  224                        label CDATA #REQUIRED&gt;
  225 
  226    &lt;!ELEMENT basetype (definition?,description)&gt;
  227    &lt;!ATTLIST basetype id CDATA #REQUIRED
  228                       name CDATA #IMPLIED&gt;
  229 
  230    &lt;!ELEMENT definition (#PCDATA|jvmti)*&gt;
  231 
  232    &lt;!ELEMENT eventsection (intro*, (event|elide)*)&gt;
  233    &lt;!ATTLIST eventsection label CDATA #REQUIRED&gt;
  234 
  235    &lt;!ELEMENT event (description, origin, typedef*, capabilities, parameters)&gt;
  236    &lt;!ATTLIST event id CDATA #REQUIRED
  237                    label CDATA #REQUIRED
  238                    const CDATA #REQUIRED
  239                    num CDATA #REQUIRED
  240                    phase (onload|start|live|any) #IMPLIED
  241                    filtered (thread|global) #IMPLIED
  242                    since CDATA &quot;1.0&quot;&gt;
  243 
  244    &lt;!ELEMENT issuessection (intro*)&gt;
  245    &lt;!ATTLIST issuessection label CDATA #REQUIRED&gt;
  246 
  247    &lt;!ELEMENT changehistory (intro*, change*)&gt;
  248    &lt;!ATTLIST changehistory update CDATA #REQUIRED
  249                            id CDATA #REQUIRED&gt;
  250 
  251    &lt;!ELEMENT change ANY&gt;
  252    &lt;!ATTLIST change date CDATA #REQUIRED
  253                     version CDATA #IMPLIED&gt;
  254 
  255    &lt;!ELEMENT functionlink (#PCDATA|jvmti|code|i|b)*&gt;
  256    &lt;!ATTLIST functionlink id CDATA #REQUIRED&gt;
  257 
  258    &lt;!ELEMENT datalink (#PCDATA|jvmti|code|i|b)*&gt;
  259    &lt;!ATTLIST datalink id CDATA #REQUIRED&gt;
  260 
  261    &lt;!ELEMENT typelink (#PCDATA|jvmti|code|i|b)*&gt;
  262    &lt;!ATTLIST typelink id CDATA #REQUIRED&gt;
  263 
  264    &lt;!ELEMENT fieldlink (#PCDATA|jvmti|code|i|b)*&gt;
  265    &lt;!ATTLIST fieldlink id CDATA #REQUIRED
  266                        struct CDATA #REQUIRED&gt;
  267 
  268    &lt;!ELEMENT paramlink (#PCDATA|jvmti|code|i|b)*&gt;
  269    &lt;!ATTLIST paramlink id CDATA #REQUIRED&gt;
  270 
  271    &lt;!ELEMENT eventlink (#PCDATA|jvmti|code|i|b)*&gt;
  272    &lt;!ATTLIST eventlink id CDATA #REQUIRED&gt;
  273 
  274    &lt;!ELEMENT errorlink (#PCDATA|jvmti|code|i|b|tm)*&gt;
  275    &lt;!ATTLIST errorlink id CDATA #REQUIRED&gt;
  276 
  277    &lt;!ELEMENT externallink (#PCDATA|jvmti|code|i|b|tm)*&gt;
  278    &lt;!ATTLIST externallink id CDATA #REQUIRED&gt;
  279 
  280    &lt;!ELEMENT vmspec EMPTY&gt;
  281    &lt;!ATTLIST vmspec chapter CDATA #IMPLIED&gt;
  282 
  283    &lt;!ELEMENT internallink (#PCDATA|jvmti|code|i|b)*&gt;
  284    &lt;!ATTLIST internallink id CDATA #REQUIRED&gt;
  285 
  286    &lt;!ELEMENT functionphaselist EMPTY&gt;
  287    &lt;!ATTLIST functionphaselist phase (onload|onloadOnly|start|live|any) #REQUIRED&gt;
  288 
  289    &lt;!ELEMENT eventphaselist EMPTY&gt;
  290    &lt;!ATTLIST eventphaselist phase (onload|start|live|any) #REQUIRED&gt;
  291 
  292    &lt;!ELEMENT issue ANY&gt;
  293 
  294    &lt;!ELEMENT rationale ANY&gt;
  295 
  296    &lt;!ELEMENT todo ANY&gt;
  297 
  298    &lt;!ELEMENT origin (#PCDATA)*&gt;
  299 
  300    &lt;!ELEMENT elide (intro|function|callback|event)*&gt;
  301    &lt;!ATTLIST elide why CDATA #IMPLIED&gt;
  302 
  303    &lt;!ELEMENT constants (constant*)&gt;
  304    &lt;!ATTLIST constants id CDATA #REQUIRED
  305                        label CDATA #REQUIRED
  306                        kind (enum|bits|const) #REQUIRED
  307                        since CDATA &quot;1.0&quot;&gt;
  308 
  309    &lt;!ELEMENT constant ANY&gt;
  310    &lt;!ATTLIST constant id CDATA #REQUIRED
  311                       num CDATA #REQUIRED&gt;
  312 
  313    &lt;!ELEMENT tm (#PCDATA)&gt;
  314 
  315    &lt;!ELEMENT i (#PCDATA|jvmti|tm)*&gt;
  316 
  317    &lt;!ELEMENT b (#PCDATA|jvmti|code)*&gt;
  318 
  319    &lt;!ELEMENT code (#PCDATA|space)*&gt;
  320 
  321    &lt;!ELEMENT pre ANY&gt;
  322 
  323    &lt;!ELEMENT space EMPTY&gt;
  324 
  325    &lt;!ELEMENT jvmti EMPTY&gt;
  326 
  327    &lt;!ELEMENT example (#PCDATA|i)*&gt;
  328 
  329    &lt;!ELEMENT br EMPTY&gt;
  330 
  331    &lt;!ELEMENT p EMPTY&gt;
  332 
  333    &lt;!ELEMENT blockquote ANY&gt;
  334 
  335    &lt;!ELEMENT dl  (dt|dd)+&gt;
  336 
  337    &lt;!ELEMENT dd  ANY&gt;
  338 
  339    &lt;!ELEMENT dt  (#PCDATA|jvmti|code|i|b)*&gt;
  340 
  341    &lt;!ELEMENT table  (tr)+&gt;
  342 
  343    &lt;!ELEMENT tr  (td|th)*&gt;
  344    &lt;!ATTLIST tr class CDATA #IMPLIED&gt;
  345 
  346    &lt;!ELEMENT td  ANY&gt;
  347    &lt;!ATTLIST td class CDATA #IMPLIED&gt;
  348 
  349    &lt;!ELEMENT th  ANY&gt;
  350    &lt;!ATTLIST th class CDATA #IMPLIED
  351                 scope (col|row) #IMPLIED&gt;
  352 
  353    &lt;!ELEMENT ul  (li)+&gt;
  354    &lt;!ATTLIST ul type (disc|circle|square) &quot;disc&quot;&gt;
  355 
  356    &lt;!ELEMENT li  ANY&gt;
  357  ]&gt;
  358 
  359 &lt;specification label=&quot;JVM(TM) Tool Interface&quot;&gt;
  360   &lt;title subtitle=&quot;Version&quot;&gt;
  361     &lt;tm&gt;JVM&lt;/tm&gt; Tool Interface
  362   &lt;/title&gt;
  363 
  364   &lt;intro id=&quot;whatIs&quot; label=&quot;What is the JVM Tool Interface?&quot;&gt;
  365     The &lt;tm&gt;JVM&lt;/tm&gt; Tool Interface (&lt;jvmti/&gt;)
  366     is a programming interface used by development and monitoring tools.
  367     It provides both a way to inspect the state and
  368     to control the execution of applications running in the
  369     &lt;tm&gt;Java&lt;/tm&gt; virtual machine (VM).
  370     &lt;p/&gt;
  371     &lt;jvmti/&gt; is intended to provide a VM interface for the full breadth of tools
  372     that need access to VM state, including but not limited to: profiling,
  373     debugging, monitoring, thread analysis, and coverage analysis tools.
  374     &lt;p/&gt;
  375     &lt;jvmti/&gt; may not be available in all implementations of the &lt;tm&gt;Java&lt;/tm&gt; virtual
  376     machine.
  377     &lt;p/&gt;
  378     &lt;jvmti/&gt; is a two-way interface.
  379     A client of &lt;jvmti/&gt;, hereafter called an &lt;i&gt;agent&lt;/i&gt;,
  380     can be notified of
  381     interesting occurrences through &lt;internallink id=&quot;EventSection&quot;&gt;events&lt;/internallink&gt;.
  382     &lt;jvmti/&gt;
  383     can query and control the application through many
  384     &lt;internallink id=&quot;FunctionSection&quot;&gt;functions&lt;/internallink&gt;,
  385     either in response to events or
  386     independent of them.
  387     &lt;p/&gt;
  388     Agents run in the same process with and communicate directly with
  389     the virtual machine executing
  390     the application being examined.  This communication is
  391     through a native interface (&lt;jvmti/&gt;). The native in-process interface allows
  392     maximal control with minimal intrusion on the part of a tool.
  393     Typically, agents are relatively compact. They can be controlled
  394     by a separate process which implements the bulk of a tool&#39;s
  395     function without interfering with the target application&#39;s normal execution.
  396   &lt;/intro&gt;
  397 
  398   &lt;intro id=&quot;architecture&quot; label=&quot;Architecture&quot;&gt;
  399     Tools can be written directly to &lt;jvmti/&gt; or indirectly
  400     through higher level interfaces.
  401     The Java Platform Debugger Architecture includes &lt;jvmti/&gt;, but also
  402     contains higher-level, out-of-process debugger interfaces. The higher-level
  403     interfaces are more appropriate than &lt;jvmti/&gt; for many tools.
  404     For more information on the Java Platform Debugger Architecture,
  405     see the
  406     &lt;externallink id=&quot;jpda/architecture.html&quot;&gt;Java
  407       Platform Debugger Architecture website&lt;/externallink&gt;.
  408   &lt;/intro&gt;
  409 
  410   &lt;intro id=&quot;writingAgents&quot; label=&quot;Writing Agents&quot;&gt;
  411     Agents can be written in any native language that supports C
  412     language calling conventions and C or C++
  413     definitions.
  414     &lt;p/&gt;
  415     The function, event, data type, and constant definitions needed for
  416     using &lt;jvmti/&gt; are defined in the include file &lt;code&gt;jvmti.h&lt;/code&gt;.
  417     To use these definitions add the &lt;tm&gt;J2SE&lt;/tm&gt; include directory
  418     to your include path and add
  419     &lt;example&gt;
  420 #include &amp;lt;jvmti.h&amp;gt;
  421     &lt;/example&gt;
  422     to your source code.
  423   &lt;/intro&gt;
  424 
  425   &lt;intro id=&quot;deployingAgents&quot; label=&quot;Deploying Agents&quot;&gt;
  426     An agent is deployed in a platform specific manner but is typically the
  427     platform equivalent of a dynamic library. On the &lt;tm&gt;Windows&lt;/tm&gt; operating
  428     system, for example, an agent library is a &quot;Dynamic Linked Library&quot; (DLL).
<a name="1" id="anc1"></a><span class="line-modified">  429     On &lt;tm&gt;Linux&lt;/tm&gt; Operating Environment, an agent library is a shared object</span>
<span class="line-modified">  430     (&lt;code&gt;.so&lt;/code&gt; file).</span>
  431     &lt;p/&gt;
  432 
  433     An agent may be started at VM startup by specifying the agent library
  434     name using a &lt;internallink id=&quot;starting&quot;&gt;command line option&lt;/internallink&gt;.
  435     Some implementations may support a mechanism to &lt;internallink id=&quot;onattach&quot;&gt;
  436     start agents&lt;/internallink&gt; in the live &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;.
  437     The details of how this is initiated are implementation specific.
  438   &lt;/intro&gt;
  439 
  440     &lt;intro id=&quot;entryPoint&quot; label=&quot;Statically Linked Agents (since version 1.2.3)&quot;&gt;
  441 
  442       A native JVMTI Agent may be &lt;i&gt;statically linked&lt;/i&gt; with the VM.
  443       The manner in which the library and VM image are combined is
  444       implementation-dependent.
  445       An agent L whose image has been combined with the VM is defined as
  446       &lt;i&gt;statically linked&lt;/i&gt; if and only if the agent exports a function
  447       called Agent_OnLoad_L.
  448 &lt;p/&gt;
  449       If a &lt;i&gt;statically linked&lt;/i&gt; agent L exports a function called
  450       Agent_OnLoad_L and a function called Agent_OnLoad, the Agent_OnLoad
  451       function will be ignored.
  452       If an agent L is &lt;i&gt;statically linked&lt;/i&gt;, an Agent_OnLoad_L
  453       function will be invoked with the same arguments and expected return
  454       value as specified for the Agent_OnLoad function.
  455       An agent L that is &lt;i&gt;statically linked&lt;/i&gt; will prohibit an agent of
  456       the same name from being loaded dynamically.
  457 &lt;p/&gt;
  458       The VM will invoke the Agent_OnUnload_L function of the agent, if such
  459       a function is exported, at the same point during VM execution as it would
  460       have called the dynamic entry point Agent_OnUnLoad. A statically loaded
  461       agent cannot be unloaded. The Agent_OnUnload_L function will still be
  462       called to do any other agent shutdown related tasks.
  463       If a &lt;i&gt;statically linked&lt;/i&gt; agent L exports a function called
  464       Agent_OnUnLoad_L and a function called Agent_OnUnLoad, the Agent_OnUnLoad
  465       function will be ignored.
  466 &lt;p/&gt;
  467       If an agent L is &lt;i&gt;statically linked&lt;/i&gt;, an Agent_OnAttach_L function
  468       will be invoked with the same arguments and expected return value as
  469       specified for the Agent_OnAttach function.
  470       If a &lt;i&gt;statically linked&lt;/i&gt; agent L exports a function called
  471       Agent_OnAttach_L and a function called Agent_OnAttach, the Agent_OnAttach
  472       function will be ignored.
  473 &lt;/intro&gt;
  474 
  475   &lt;intro id=&quot;starting&quot; label=&quot;Agent Command Line Options&quot;&gt;
  476     The term &quot;command-line option&quot; is used below to
  477     mean options supplied in the &lt;code&gt;JavaVMInitArgs&lt;/code&gt; argument
  478     to the &lt;code&gt;JNI_CreateJavaVM&lt;/code&gt; function of the JNI
  479     Invocation API.
  480     &lt;p/&gt;
  481     One of the two following
  482     command-line options is used on VM startup to
  483     properly load and run agents.
  484     These arguments identify the library containing
  485     the agent as well as an options
  486     string to be passed in at startup.
  487     &lt;dl&gt;
  488       &lt;dt&gt;&lt;code&gt;-agentlib:&lt;/code&gt;&lt;i&gt;&amp;lt;agent-lib-name&amp;gt;&lt;/i&gt;&lt;code&gt;=&lt;/code&gt;&lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt;&lt;/dt&gt;
  489       &lt;dd&gt;
  490         The name following &lt;code&gt;-agentlib:&lt;/code&gt; is the name of the
  491         library to load.  Lookup of the library, both its full name and location,
  492         proceeds in a platform-specific manner.
  493         Typically, the &lt;i&gt;&amp;lt;agent-lib-name&amp;gt;&lt;/i&gt; is expanded to an
  494         operating system specific file name.
  495         The &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; will be passed to the agent on start-up.
  496         For example, if the option
  497         &lt;code&gt;-agentlib:foo=opt1,opt2&lt;/code&gt; is specified, the VM will attempt to
  498         load the shared library &lt;code&gt;foo.dll&lt;/code&gt; from the system &lt;code&gt;PATH&lt;/code&gt;
  499         under &lt;tm&gt;Windows&lt;/tm&gt; or &lt;code&gt;libfoo.so&lt;/code&gt; from the
<a name="2" id="anc2"></a><span class="line-modified">  500         &lt;code&gt;LD_LIBRARY_PATH&lt;/code&gt; under &lt;tm&gt;Linux&lt;/tm&gt;.</span>

  501         If the agent library is statically linked into the executable
  502         then no actual loading takes place.
  503     &lt;p/&gt;
  504       &lt;/dd&gt;
  505       &lt;dt&gt;&lt;code&gt;-agentpath:&lt;/code&gt;&lt;i&gt;&amp;lt;path-to-agent&amp;gt;&lt;/i&gt;&lt;code&gt;=&lt;/code&gt;&lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt;&lt;/dt&gt;
  506       &lt;dd&gt;
  507         The path following &lt;code&gt;-agentpath:&lt;/code&gt; is the absolute path from which
  508         to load the library.
  509         No library name expansion will occur.
  510         The &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; will be passed to the agent on start-up.
  511         For example, if the option
  512         &lt;code&gt;-agentpath:c:\myLibs\foo.dll=opt1,opt2&lt;/code&gt; is specified, the VM will attempt to
  513         load the shared library &lt;code&gt;c:\myLibs\foo.dll&lt;/code&gt;. If the agent
  514         library is statically linked into the executable
  515         then no actual loading takes place.
  516     &lt;p/&gt;
  517       &lt;/dd&gt;
  518     &lt;/dl&gt;
  519     For a dynamic shared library agent, the start-up routine
  520     &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad&lt;/code&gt;&lt;/internallink&gt;
  521     in the library will be invoked. If the agent library is statically linked
  522     into the executable then the system will attempt to invoke the
  523     &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; entry point where
  524     &amp;lt;agent-lib-name&amp;gt; is the basename of the
  525     agent. In the above example &lt;code&gt;-agentpath:c:\myLibs\foo.dll=opt1,opt2&lt;/code&gt;,
  526     the system will attempt to find and call the &lt;code&gt;Agent_OnLoad_foo&lt;/code&gt; start-up routine.
  527     &lt;p/&gt;
  528     Libraries loaded with &lt;code&gt;-agentlib:&lt;/code&gt; or &lt;code&gt;-agentpath:&lt;/code&gt;
  529     will be searched for JNI native method implementations to facilitate the
  530     use of Java programming language code in tools, as is needed for
  531     &lt;internallink id=&quot;bci&quot;&gt;bytecode instrumentation&lt;/internallink&gt;.
  532     &lt;p/&gt;
  533     The agent libraries will be searched after all other libraries have been
  534     searched (agents wishing to override or intercept the native method
  535     implementations of non-agent methods can use the
  536     &lt;eventlink id=&quot;NativeMethodBind&quot;&gt;NativeMethodBind event&lt;/eventlink&gt;).
  537     &lt;p/&gt;
  538     These switches do the above and nothing more - they do not change the
  539     state of the VM or &lt;jvmti/&gt;.  No command line options are needed
  540     to enable &lt;jvmti/&gt;
  541     or aspects of &lt;jvmti/&gt;, this is handled programmatically
  542     by the use of
  543     &lt;internallink id=&quot;capability&quot;&gt;capabilities&lt;/internallink&gt;.
  544   &lt;/intro&gt;
  545 
  546   &lt;intro id=&quot;startup&quot; label=&quot;Agent Start-Up&quot;&gt;
  547     The VM starts each agent by invoking a start-up function.
  548     If the agent is started in the &lt;code&gt;OnLoad&lt;/code&gt;
  549     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt; the function
  550     &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad&lt;/code&gt;&lt;/internallink&gt;
  551     or &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad_L&lt;/code&gt;&lt;/internallink&gt;
  552     for statically linked agents will be invoked.
  553     If the agent is started in the live
  554     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt; the function
  555     &lt;internallink id=&quot;onattach&quot;&gt;&lt;code&gt;Agent_OnAttach&lt;/code&gt;&lt;/internallink&gt;
  556     or &lt;internallink id=&quot;onattach&quot;&gt;&lt;code&gt;Agent_OnAttach_L&lt;/code&gt;&lt;/internallink&gt;
  557     for statically linked agents will be invoked.
  558     Exactly one call to a start-up function is made per agent.
  559   &lt;/intro&gt;
  560 
  561   &lt;intro id=&quot;onload&quot; label=&quot;Agent Start-Up (OnLoad phase)&quot;&gt;
  562     If an agent is started during the &lt;code&gt;OnLoad&lt;/code&gt; phase then its
  563     agent library must export a start-up function with the following prototype:
  564     &lt;example&gt;
  565 JNIEXPORT jint JNICALL
  566 Agent_OnLoad(JavaVM *vm, char *options, void *reserved)&lt;/example&gt;
  567     Or for a statically linked agent named &#39;L&#39;:
  568     &lt;example&gt;
  569 JNIEXPORT jint JNICALL
  570 Agent_OnLoad_L(JavaVM *vm, char *options, void *reserved)&lt;/example&gt;
  571 
  572     The VM will start the agent by calling this function.
  573     It will be called early enough in VM initialization that:
  574     &lt;ul&gt;
  575       &lt;li&gt;&lt;functionlink id=&quot;SetSystemProperty&quot;&gt;system properties&lt;/functionlink&gt;
  576         may be set before they have been used in the start-up of the VM&lt;/li&gt;
  577       &lt;li&gt;the full set of
  578         &lt;internallink id=&quot;capability&quot;&gt;capabilities&lt;/internallink&gt;
  579         is still available (note that capabilities that configure the VM
  580         may only be available at this time--see the
  581         &lt;internallink id=&quot;capability&quot;&gt;Capability function section&lt;/internallink&gt;)&lt;/li&gt;
  582       &lt;li&gt;no bytecodes have executed&lt;/li&gt;
  583       &lt;li&gt;no classes have been loaded&lt;/li&gt;
  584       &lt;li&gt;no objects have been created&lt;/li&gt;
  585     &lt;/ul&gt;
  586     &lt;p/&gt;
  587     The VM will call the &lt;code&gt;Agent_OnLoad&lt;/code&gt; or
  588     &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; function with
  589     &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; as the second argument -
  590     that is, using the command-line option examples,
  591     &lt;code&gt;&quot;opt1,opt2&quot;&lt;/code&gt; will be passed to the &lt;code&gt;char *options&lt;/code&gt;
  592     argument of &lt;code&gt;Agent_OnLoad&lt;/code&gt;.
  593     The &lt;code&gt;options&lt;/code&gt; argument is encoded as a
  594     &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
  595     If &lt;i&gt;=&amp;lt;options&amp;gt;&lt;/i&gt; is not specified,
  596     a zero length string is passed to &lt;code&gt;options&lt;/code&gt;.
  597     The lifespan of the &lt;code&gt;options&lt;/code&gt; string is the
  598     &lt;code&gt;Agent_OnLoad&lt;/code&gt; or &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt;
  599     call.  If needed beyond this time the string or parts of the string must
  600     be copied.
  601     The period between when &lt;code&gt;Agent_OnLoad&lt;/code&gt; is called and when it
  602     returns is called the &lt;i&gt;OnLoad phase&lt;/i&gt;.
  603     Since the VM is not initialized during the OnLoad
  604     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;,
  605     the set of allowed operations
  606     inside &lt;code&gt;Agent_OnLoad&lt;/code&gt; is restricted (see the function descriptions for the
  607     functionality available at this time).
  608     The agent can safely process the options and set
  609     event callbacks with &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt;. Once
  610     the VM initialization event is received
  611     (that is, the &lt;eventlink id=&quot;VMInit&quot;&gt;VMInit&lt;/eventlink&gt;
  612     callback is invoked), the agent
  613     can complete its initialization.
  614     &lt;rationale&gt;
  615       Early startup is required so that agents can set the desired capabilities,
  616       many of which must be set before the VM is initialized.
  617       In JVMDI, the -Xdebug command-line option provided
  618       very coarse-grain control of capabilities.
  619       JVMPI implementations use various tricks to provide a single &quot;JVMPI on&quot; switch.
  620       No reasonable command-line
  621       option could provide the fine-grain of control required to balance needed capabilities vs
  622       performance impact.
  623       Early startup is also needed so that agents can control the execution
  624       environment - modifying the file system and system properties to install
  625       their functionality.
  626     &lt;/rationale&gt;
  627     &lt;p/&gt;
  628     The return value from &lt;code&gt;Agent_OnLoad&lt;/code&gt; or
  629     &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; is used to indicate an error.
  630     Any value other than zero indicates an error and causes termination of the VM.
  631   &lt;/intro&gt;
  632 
  633   &lt;intro id=&quot;onattach&quot; label=&quot;Agent Start-Up (Live phase)&quot;&gt;
  634     A VM may support a mechanism that allows agents to be started in the VM during the live
  635     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;. The details of how this is supported,
  636     are implementation specific. For example, a tool may use some platform specific mechanism,
  637     or implementation specific API, to attach to the running VM, and request it start a given
  638     agent.
  639     &lt;p/&gt;
  640     If an agent is started during the live phase then its agent library
  641     must export a start-up function
  642     with the following prototype:
  643     &lt;example&gt;
  644 JNIEXPORT jint JNICALL
  645 Agent_OnAttach(JavaVM* vm, char *options, void *reserved)&lt;/example&gt;
  646 Or for a statically linked agent named &#39;L&#39;:
  647     &lt;example&gt;
  648 JNIEXPORT jint JNICALL
  649 Agent_OnAttach_L(JavaVM* vm, char *options, void *reserved)&lt;/example&gt;
  650 
  651     &lt;p/&gt;
  652     The VM will start the agent by calling this function.
  653     It will be called in the context of a thread
  654     that is attached to the VM. The first argument &lt;i&gt;&amp;lt;vm&amp;gt;&lt;/i&gt; is the Java VM.
  655     The &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; argument is the startup options provided to the agent.
  656     &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; is encoded as a &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8
  657     &lt;/internallink&gt; string.
  658     If startup options were not provided, a zero length string is passed to
  659     &lt;code&gt;options&lt;/code&gt;. The lifespan of the &lt;code&gt;options&lt;/code&gt; string is the
  660     &lt;code&gt;Agent_OnAttach&lt;/code&gt; or &lt;code&gt;Agent_OnAttach_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; call.
  661     If needed beyond this time the string or parts of the string must be copied.
  662     &lt;p/&gt;
  663     Note that some &lt;internallink id=&quot;capability&quot;&gt;capabilities&lt;/internallink&gt;
  664     may not be available in the live phase.
  665     &lt;p/&gt;
  666     The &lt;code&gt;Agent_OnAttach&lt;/code&gt; or &lt;code&gt;Agent_OnAttach_&amp;lt;agent-lib-name
  667     &amp;gt;&lt;/code&gt; function initializes the agent and returns a value
  668     to the VM to indicate if an error occurred. Any value other than zero indicates an error.
  669     An error does not cause the VM to terminate. Instead the VM ignores the error, or takes
  670     some implementation specific action -- for example it might print an error to standard error,
  671     or record the error in a system log.
  672   &lt;/intro&gt;
  673 
  674   &lt;intro id=&quot;onunload&quot; label=&quot;Agent Shutdown&quot;&gt;
  675     The library may optionally export a
  676     shutdown function with the following prototype:
  677     &lt;example&gt;
  678 JNIEXPORT void JNICALL
  679 Agent_OnUnload(JavaVM *vm)&lt;/example&gt;
  680     Or for a statically linked agent named &#39;L&#39;:
  681     &lt;example&gt;
  682 JNIEXPORT void JNICALL
  683 Agent_OnUnload_L(JavaVM *vm)&lt;/example&gt;
  684 
  685     This function will be called by the VM when the library is about to be unloaded.
  686     The library will be unloaded (unless it is statically linked into the
  687     executable) and this function will be called if some platform specific
  688     mechanism causes the unload (an unload mechanism is not specified in this document)
  689     or the library is (in effect) unloaded by the termination of the VM whether through
  690     normal termination or VM failure, including start-up failure.
  691     Uncontrolled shutdown is, of course, an exception to this rule.
  692     Note the distinction between this function and the
  693     &lt;eventlink id=&quot;VMDeath&quot;&gt;VM Death event&lt;/eventlink&gt;: for the VM Death event
  694     to be sent, the VM must have run at least to the point of initialization and a valid
  695     &lt;jvmti/&gt; environment must exist which has set a callback for VMDeath
  696     and enabled the event.
  697     None of these are required for &lt;code&gt;Agent_OnUnload&lt;/code&gt; or
  698     &lt;code&gt;Agent_OnUnload_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; and this function
  699     is also called if the library is unloaded for other reasons.
  700     In the case that a VM Death event is sent, it will be sent before this
  701     function is called (assuming this function is called due to VM termination).
  702     This function can be used to clean-up resources allocated by the agent.
  703   &lt;/intro&gt;
  704 
  705   &lt;intro id=&quot;tooloptions&quot; label=&quot;JAVA_TOOL_OPTIONS&quot;&gt;
  706     Since the command-line cannot always be accessed or modified, for example in embedded VMs
  707     or simply VMs launched deep within scripts, a &lt;code&gt;JAVA_TOOL_OPTIONS&lt;/code&gt; variable is
  708     provided so that agents may be launched in these cases.
  709     &lt;p/&gt;
  710     Platforms which support environment variables or other named strings, may support the
  711     &lt;code&gt;JAVA_TOOL_OPTIONS&lt;/code&gt; variable.  This variable will be broken into options at white-space
  712     boundaries.  White-space characters include space, tab, carriage-return, new-line,
  713     vertical-tab, and form-feed.  Sequences of white-space characters are considered
  714     equivalent to a single white-space character.  No white-space is included in the options
  715     unless quoted.  Quoting is as follows:
  716     &lt;ul&gt;
  717         &lt;li&gt;All characters enclosed between a pair of single quote marks (&#39;&#39;), except a single
  718         quote, are quoted.&lt;/li&gt;
  719         &lt;li&gt;Double quote characters have no special meaning inside a pair of single quote marks.&lt;/li&gt;
  720         &lt;li&gt;All characters enclosed between a pair of double quote marks (&quot;&quot;), except a double
  721         quote, are quoted.&lt;/li&gt;
  722         &lt;li&gt;Single quote characters have no special meaning inside a pair of double quote marks.&lt;/li&gt;
  723         &lt;li&gt;A quoted part can start or end anywhere in the variable.&lt;/li&gt;
  724         &lt;li&gt;White-space characters have no special meaning when quoted -- they are included in
  725         the option like any other character and do not mark white-space boundaries.&lt;/li&gt;
  726         &lt;li&gt;The pair of quote marks is not included in the option.&lt;/li&gt;
  727     &lt;/ul&gt;
  728     &lt;code&gt;JNI_CreateJavaVM&lt;/code&gt; (in the JNI Invocation API) will prepend these options to the options supplied
  729     in its &lt;code&gt;JavaVMInitArgs&lt;/code&gt; argument. Platforms may disable this feature in cases where security is
  730     a concern; for example, the Reference Implementation disables this feature on Unix systems when
  731     the effective user or group ID differs from the real ID.
  732     This feature is intended to support the initialization of tools -- specifically including the
  733     launching of native or Java programming language agents.  Multiple tools may wish to use this
  734     feature, so the variable should not be overwritten, instead,  options should be appended to
  735     the variable.  Note that since the variable is processed at the time of the JNI Invocation
  736     API create VM call, options processed by a launcher (e.g., VM selection options) will not be handled.
  737   &lt;/intro&gt;
  738 
  739   &lt;intro id=&quot;environments&quot; label=&quot;Environments&quot;&gt;
  740     The &lt;jvmti/&gt; specification supports the use of multiple simultaneous
  741     &lt;jvmti/&gt; agents.
  742     Each agent has its own &lt;jvmti/&gt; environment.
  743     That is, the &lt;jvmti/&gt; state is
  744     separate for each agent - changes to one environment do not affect the
  745     others.  The state of a &lt;jvmti/&gt;
  746     environment includes:
  747     &lt;ul&gt;
  748       &lt;li&gt;&lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;the event callbacks&lt;/functionlink&gt;&lt;/li&gt;
  749       &lt;li&gt;&lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;the set of events which are enabled&lt;/functionlink&gt;&lt;/li&gt;
  750       &lt;li&gt;&lt;internallink id=&quot;capability&quot;&gt;the capabilities&lt;/internallink&gt;&lt;/li&gt;
  751       &lt;li&gt;&lt;internallink id=&quot;memory&quot;&gt;the memory allocation/deallocation hooks&lt;/internallink&gt;&lt;/li&gt;
  752     &lt;/ul&gt;
  753     Although their &lt;jvmti/&gt; state
  754     is separate, agents inspect and modify the shared state
  755     of the VM, they also share the native environment in which they execute.
  756     As such, an agent can perturb the results of other agents or cause them
  757     to fail.  It is the responsibility of the agent writer to specify the level
  758     of compatibility with other agents.  &lt;jvmti/&gt; implementations are not capable
  759     of preventing destructive interactions between agents. Techniques to reduce
  760     the likelihood of these occurrences are beyond the scope of this document.
  761     &lt;p/&gt;
  762     An agent creates a &lt;jvmti/&gt; environment
  763     by passing a &lt;jvmti/&gt; version
  764     as the interface ID to the JNI Invocation API function
  765     &lt;externallink id=&quot;jni/invocation.html#getenv&quot;&gt;
  766       &lt;code&gt;GetEnv&lt;/code&gt;&lt;/externallink&gt;.
  767     See &lt;internallink id=&quot;jvmtiEnvAccess&quot;&gt;Accessing &lt;jvmti/&gt; Functions&lt;/internallink&gt;
  768     for more details on the creation and use of
  769     &lt;jvmti/&gt; environments.
  770     Typically, &lt;jvmti/&gt; environments are created by calling &lt;code&gt;GetEnv&lt;/code&gt; from
  771     &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad&lt;/code&gt;&lt;/internallink&gt;.
  772   &lt;/intro&gt;
  773 
  774   &lt;intro id=&quot;bci&quot; label=&quot;Bytecode Instrumentation&quot;&gt;
  775     This interface does not include some events that one might expect in an interface with
  776     profiling support.  Some examples include full speed
  777     method enter and exit events.  The interface instead provides support for
  778     &lt;i&gt;bytecode instrumentation&lt;/i&gt;, the ability to alter the Java virtual machine
  779     bytecode instructions which comprise the target program.  Typically, these alterations
  780     are to add &quot;events&quot; to the code of a method - for example, to add, at the beginning of a method,
  781     a call to &lt;code&gt;MyProfiler.methodEntered()&lt;/code&gt;.
  782     Since the changes are purely additive, they do not modify application
  783     state or behavior.
  784     Because the inserted agent code is standard bytecodes, the VM can run at full speed,
  785     optimizing not only the target program but also the instrumentation.  If the
  786     instrumentation does not involve switching from bytecode execution, no expensive
  787     state transitions are needed.  The result is high performance events.
  788     This approach also provides complete control to the agent: instrumentation can be
  789     restricted to &quot;interesting&quot; portions of the code (e.g., the end user&#39;s code) and
  790     can be conditional.  Instrumentation can run entirely in Java programming language
  791     code or can call into the native agent.  Instrumentation can simply maintain
  792     counters or can statistically sample events.
  793     &lt;p/&gt;
  794     Instrumentation can be inserted in one of three ways:
  795     &lt;ul&gt;
  796       &lt;li&gt;
  797         Static Instrumentation: The class file is instrumented before it
  798         is loaded into the VM - for example, by creating a duplicate directory of
  799         &lt;code&gt;*.class&lt;/code&gt; files which have been modified to add the instrumentation.
  800         This method is extremely awkward and, in general, an agent cannot know
  801         the origin of the class files which will be loaded.
  802       &lt;/li&gt;
  803       &lt;li&gt;
  804         Load-Time Instrumentation: When a class file is loaded by the VM, the raw
  805         bytes of the class file are sent for instrumentation to the agent.
  806         The &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt;
  807         event, triggered by the class load,
  808         provides this functionality.  This mechanism provides efficient
  809         and complete access to one-time instrumentation.
  810       &lt;/li&gt;
  811       &lt;li&gt;
  812         Dynamic Instrumentation: A class which is already loaded (and possibly
  813         even running) is modified.  This optional feature is provided by the
  814         &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event, triggered by calling the
  815         &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; function.
  816         Classes can be modified multiple times and can be returned to their
  817         original state.
  818         The mechanism allows instrumentation which changes during the
  819         course of execution.
  820       &lt;/li&gt;
  821     &lt;/ul&gt;
  822     &lt;p/&gt;
  823     The class modification functionality provided in this interface
  824     is intended to provide a mechanism for instrumentation
  825     (the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event
  826     and the &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; function)
  827     and, during development, for fix-and-continue debugging
  828     (the &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; function).
  829     &lt;p/&gt;
  830     Care must be taken to avoid perturbing dependencies, especially when
  831     instrumenting core classes.  For example, an approach to getting notification
  832     of every object allocation is to instrument the constructor on
  833     &lt;code&gt;Object&lt;/code&gt;.  Assuming that the constructor is initially
  834     empty, the constructor could be changed to:
  835     &lt;example&gt;
  836       public Object() {
  837         MyProfiler.allocationTracker(this);
  838       }
  839     &lt;/example&gt;
  840     However, if this change was made using the
  841     &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt;
  842     event then this might impact a typical VM as follows:
  843     the first created object will call the constructor causing a class load of
  844     &lt;code&gt;MyProfiler&lt;/code&gt;; which will then cause
  845     object creation, and since &lt;code&gt;MyProfiler&lt;/code&gt; isn&#39;t loaded yet,
  846     infinite recursion; resulting in a stack overflow.  A refinement of this
  847     would be to delay invoking the tracking method until a safe time.  For
  848     example, &lt;code&gt;trackAllocations&lt;/code&gt; could be set in the
  849     handler for the &lt;code&gt;VMInit&lt;/code&gt; event.
  850     &lt;example&gt;
  851       static boolean trackAllocations = false;
  852 
  853       public Object() {
  854         if (trackAllocations) {
  855           MyProfiler.allocationTracker(this);
  856         }
  857       }
  858     &lt;/example&gt;
  859     &lt;p/&gt;
  860     The &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt; allows native methods
  861     to be instrumented by the use of wrapper methods.
  862   &lt;/intro&gt;
  863 
  864 &lt;intro id=&quot;bcimodules&quot; label=&quot;Bytecode Instrumentation of code in modules&quot;&gt;
  865   Agents can use the functions &lt;functionlink id=&quot;AddModuleReads&quot;/&gt;,
  866   &lt;functionlink id=&quot;AddModuleExports&quot;/&gt;, &lt;functionlink id=&quot;AddModuleOpens&quot;/&gt;,
  867   &lt;functionlink id=&quot;AddModuleUses&quot;/&gt; and &lt;functionlink id=&quot;AddModuleProvides&quot;/&gt;
  868   to update a module to expand the set of modules that it reads, the set of
  869   packages that it exports or opens to other modules, or the services that it
  870   uses and provides.
  871   &lt;p/&gt;
  872   As an aid to agents that deploy supporting classes on the search path of
  873   the bootstrap class loader, or the search path of the class loader that
  874   loads the main class, the Java virtual machine arranges for the module
  875   of classes transformed by the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event to
  876   read the unnamed module of both class loaders.
  877 &lt;/intro&gt;
  878 
  879   &lt;intro id=&quot;mUTF&quot; label=&quot;Modified UTF-8 String Encoding&quot;&gt;
  880     &lt;jvmti/&gt; uses modified UTF-8 to encode character strings.
  881     This is the same encoding used by JNI.
  882     Modified UTF-8 differs
  883     from standard UTF-8 in the representation of supplementary characters
  884     and of the null character. See the
  885     &lt;externallink id=&quot;jni/types.html#modified-utf-8-strings&quot;&gt;
  886       Modified UTF-8 Strings&lt;/externallink&gt;
  887     section of the JNI specification for details.
  888   &lt;/intro&gt;
  889 
  890   &lt;intro id=&quot;context&quot; label=&quot;Specification Context&quot;&gt;
  891     Since this interface provides access to the state of applications running in the
  892     Java virtual machine;
  893     terminology refers to the Java platform and not the native
  894     platform (unless stated otherwise).  For example:
  895     &lt;ul&gt;
  896       &lt;li&gt;&quot;thread&quot; means Java programming language thread.&lt;/li&gt;
  897       &lt;li&gt;&quot;stack frame&quot; means Java virtual machine stack frame.&lt;/li&gt;
  898       &lt;li&gt;&quot;class&quot; means Java programming language class.&lt;/li&gt;
  899       &lt;li&gt;&quot;heap&quot; means Java virtual machine heap.&lt;/li&gt;
  900       &lt;li&gt;&quot;monitor&quot; means Java programming language object monitor.&lt;/li&gt;
  901     &lt;/ul&gt;
  902     &lt;p/&gt;
  903     Sun, Sun Microsystems, the Sun logo, Java, and JVM
  904     are trademarks or registered trademarks of Oracle
  905     and/or its affiliates, in the U.S. and other countries.
  906   &lt;/intro&gt;
  907 
  908 
  909 &lt;functionsection label=&quot;Functions&quot;&gt;
  910   &lt;intro id=&quot;jvmtiEnvAccess&quot; label=&quot;Accessing Functions&quot;&gt;
  911     Native code accesses &lt;jvmti/&gt; features
  912     by calling &lt;jvmti/&gt; functions.
  913     Access to &lt;jvmti/&gt; functions is by use of an interface pointer
  914     in the same manner as
  915     &lt;externallink id=&quot;jni/design.html&quot;&gt;Java
  916       Native Interface (JNI) functions&lt;/externallink&gt; are accessed.
  917     The &lt;jvmti/&gt; interface pointer is called the
  918     &lt;i&gt;environment pointer&lt;/i&gt;.
  919     &lt;p/&gt;
  920     An environment pointer is a pointer to an environment and has
  921     the type &lt;code&gt;jvmtiEnv*&lt;/code&gt;.
  922     An environment has information about its &lt;jvmti/&gt; connection.
  923     The first value in the environment is a pointer to the function table.
  924     The function table is an array of pointers to &lt;jvmti/&gt; functions.
  925     Every function pointer is at a predefined offset inside the
  926     array.
  927     &lt;p/&gt;
  928     When used from the C language:
  929     double indirection is used to access the functions;
  930     the environment pointer provides context and is the first
  931     parameter of each function call; for example:
  932     &lt;example&gt;
  933 jvmtiEnv *jvmti;
  934 ...
  935 jvmtiError err = (*jvmti)-&gt;GetLoadedClasses(jvmti, &amp;amp;class_count, &amp;amp;classes);
  936     &lt;/example&gt;
  937     &lt;p/&gt;
  938     When used from the C++ language:
  939     functions are accessed as member functions of &lt;code&gt;jvmtiEnv&lt;/code&gt;;
  940     the environment pointer is not passed to the function call; for example:
  941     &lt;example&gt;
  942 jvmtiEnv *jvmti;
  943 ...
  944 jvmtiError err = jvmti-&gt;GetLoadedClasses(&amp;amp;class_count, &amp;amp;classes);
  945     &lt;/example&gt;
  946     Unless otherwise stated, all examples and declarations in this
  947     specification use the C language.
  948     &lt;p/&gt;
  949     A &lt;jvmti/&gt; environment can be obtained through the JNI Invocation API
  950     &lt;code&gt;GetEnv&lt;/code&gt; function:
  951     &lt;example&gt;
  952 jvmtiEnv *jvmti;
  953 ...
  954 (*jvm)-&gt;GetEnv(jvm, &amp;amp;jvmti, JVMTI_VERSION_1_0);
  955     &lt;/example&gt;
  956     Each call to &lt;code&gt;GetEnv&lt;/code&gt;
  957     creates a new &lt;jvmti/&gt; connection and thus
  958     a new &lt;jvmti/&gt; environment.
  959     The &lt;code&gt;version&lt;/code&gt; argument of &lt;code&gt;GetEnv&lt;/code&gt; must be
  960     a &lt;jvmti/&gt; version.
  961     The returned environment may have a different version than the
  962     requested version but the returned environment must be compatible.
  963     &lt;code&gt;GetEnv&lt;/code&gt; will return &lt;code&gt;JNI_EVERSION&lt;/code&gt; if a
  964     compatible version is not available, if &lt;jvmti/&gt; is not supported or
  965     &lt;jvmti/&gt; is not supported in the current VM configuration.
  966     Other interfaces may be added for creating &lt;jvmti/&gt; environments
  967     in specific contexts.
  968     Each environment has its own state (for example,
  969     &lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;desired events&lt;/functionlink&gt;,
  970     &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;event handling functions&lt;/functionlink&gt;, and
  971     &lt;functionlink id=&quot;AddCapabilities&quot;&gt;capabilities&lt;/functionlink&gt;).
  972     An environment is released with
  973     &lt;functionlink id=&quot;DisposeEnvironment&quot;&gt;&lt;/functionlink&gt;.
  974     Thus, unlike JNI which has one environment per thread, &lt;jvmti/&gt; environments work
  975     across threads and are created dynamically.
  976   &lt;/intro&gt;
  977 
  978   &lt;intro id=&quot;functionReturn&quot; label=&quot;Function Return Values&quot;&gt;
  979     &lt;jvmti/&gt; functions always return an
  980     &lt;internallink id=&quot;ErrorSection&quot;&gt;error code&lt;/internallink&gt; via the
  981     &lt;datalink id=&quot;jvmtiError&quot;/&gt; function return value.
  982     Some functions can return additional
  983     values through pointers provided by the calling function.
  984     In some cases, &lt;jvmti/&gt; functions allocate memory that your program must
  985     explicitly deallocate. This is indicated in the individual &lt;jvmti/&gt;
  986     function descriptions.  Empty lists, arrays, sequences, etc are
  987     returned as &lt;code&gt;NULL&lt;/code&gt;.
  988     &lt;p/&gt;
  989     In the event that the &lt;jvmti/&gt; function encounters
  990     an error (any return value other than &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;) the values
  991     of memory referenced by argument pointers is undefined, but no memory
  992     will have been allocated and no global references will have been allocated.
  993     If the error occurs because of invalid input, no action will have occurred.
  994   &lt;/intro&gt;
  995 
  996 &lt;intro id=&quot;refs&quot; label=&quot;Managing JNI Object References&quot;&gt;
  997     &lt;jvmti/&gt; functions identify objects with JNI references
  998     (&lt;datalink id=&quot;jobject&quot;/&gt; and &lt;datalink id=&quot;jclass&quot;/&gt;)
  999     and their derivatives
 1000     (&lt;datalink id=&quot;jthread&quot;/&gt; and &lt;datalink id=&quot;jthreadGroup&quot;/&gt;).
 1001     References passed to
 1002     &lt;jvmti/&gt; functions can be either global or local, but they must be
 1003     strong references. All references returned by &lt;jvmti/&gt; functions are
 1004     local references--these local references are created
 1005     during the &lt;jvmti/&gt; call.
 1006     Local references are a resource that must be managed (see the
 1007     &lt;externallink id=&quot;jni/functions.html#local-references&quot;&gt;
 1008       JNI Documentation&lt;/externallink&gt;).
 1009     When threads return from native code all local references
 1010     are freed.  Note that some threads, including typical
 1011     agent threads, will never return from native code.
 1012     A thread is ensured the ability to create sixteen local
 1013     references without the need for any explicit management.
 1014     For threads executing a limited number of &lt;jvmti/&gt; calls before
 1015     returning from native code
 1016     (for example, threads processing events),
 1017     it may be determined that no explicit management
 1018     is needed.
 1019     However, long running agent threads will need explicit
 1020     local reference management--usually with the JNI functions
 1021     &lt;code&gt;PushLocalFrame&lt;/code&gt; and &lt;code&gt;PopLocalFrame&lt;/code&gt;.
 1022     Conversely, to preserve references beyond the
 1023     return from native code, they must be converted to global references.
 1024     These rules do not apply to &lt;datalink id=&quot;jmethodID&quot;/&gt; and &lt;datalink id=&quot;jfieldID&quot;/&gt;
 1025     as they are not &lt;datalink id=&quot;jobject&quot;/&gt;s.
 1026 &lt;/intro&gt;
 1027 
 1028     &lt;intro id=&quot;prereqState&quot; label=&quot;Prerequisite State for Calling Functions&quot;&gt;
 1029       Unless the function explicitly states that the agent must bring
 1030       a thread or the VM to a particular state (for example, suspended),
 1031       the &lt;jvmti/&gt; implementation is responsible for bringing the VM to a
 1032       safe and consistent state for performing the function.
 1033     &lt;/intro&gt;
 1034 
 1035     &lt;intro id=&quot;functionsExceptions&quot; label=&quot;Exceptions and Functions&quot;&gt;
 1036       &lt;jvmti/&gt; functions never throw exceptions; error conditions are
 1037       communicated via the
 1038       &lt;internallink id=&quot;functionReturn&quot;&gt;function return value&lt;/internallink&gt;.
 1039       Any existing exception state is preserved across a call to a
 1040       &lt;jvmti/&gt; function.
 1041       See the
 1042       &lt;externallink
 1043         id=&quot;jni/design.html#java-exceptions&quot;
 1044              &gt;Java Exceptions&lt;/externallink&gt;
 1045       section of the JNI specification for information on handling exceptions.
 1046     &lt;/intro&gt;
 1047 
 1048   &lt;category id=&quot;memory&quot; label=&quot;Memory Management&quot;&gt;
 1049     &lt;intro&gt;
 1050       These functions provide for the allocation and deallocation of
 1051       memory used by &lt;jvmti/&gt; functionality and can be used to provide
 1052       working memory for agents.
 1053       Memory managed by &lt;jvmti/&gt; is not compatible with other memory
 1054       allocation libraries and mechanisms.
 1055     &lt;/intro&gt;
 1056 
 1057     &lt;function id=&quot;Allocate&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;notrace&quot; num=&quot;46&quot;&gt;
 1058       &lt;synopsis&gt;Allocate&lt;/synopsis&gt;
 1059       &lt;description&gt;
 1060         Allocate an area of memory through the &lt;jvmti/&gt; allocator.
 1061         The allocated
 1062         memory should be freed with &lt;functionlink id=&quot;Deallocate&quot;&gt;&lt;/functionlink&gt;.
 1063       &lt;/description&gt;
 1064       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1065       &lt;capabilities&gt;
 1066       &lt;/capabilities&gt;
 1067       &lt;parameters&gt;
 1068         &lt;param id=&quot;size&quot;&gt;
 1069           &lt;jlong/&gt;
 1070           &lt;description&gt;
 1071             The number of bytes to allocate.
 1072             &lt;rationale&gt;
 1073               &lt;code&gt;jlong&lt;/code&gt; is used for compatibility with JVMDI.
 1074             &lt;/rationale&gt;
 1075           &lt;/description&gt;
 1076         &lt;/param&gt;
 1077         &lt;param id=&quot;mem_ptr&quot;&gt;
 1078           &lt;allocbuf incount=&quot;size&quot;&gt;&lt;uchar/&gt;&lt;/allocbuf&gt;
 1079           &lt;description&gt;
 1080             On return, a pointer to the beginning of the allocated memory.
 1081             If &lt;code&gt;size&lt;/code&gt; is zero, &lt;code&gt;NULL&lt;/code&gt; is returned.
 1082           &lt;/description&gt;
 1083         &lt;/param&gt;
 1084       &lt;/parameters&gt;
 1085       &lt;errors&gt;
 1086         &lt;error id=&quot;JVMTI_ERROR_OUT_OF_MEMORY&quot;&gt;
 1087           Memory request cannot be honored.
 1088         &lt;/error&gt;
 1089         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 1090           &lt;paramlink id=&quot;size&quot;&gt;&lt;/paramlink&gt; is less than zero.
 1091         &lt;/error&gt;
 1092       &lt;/errors&gt;
 1093     &lt;/function&gt;
 1094 
 1095     &lt;function id=&quot;Deallocate&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;notrace&quot; num=&quot;47&quot;&gt;
 1096       &lt;synopsis&gt;Deallocate&lt;/synopsis&gt;
 1097       &lt;description&gt;
 1098         Deallocate &lt;code&gt;mem&lt;/code&gt;  using the &lt;jvmti/&gt; allocator.
 1099         This function should
 1100         be used to deallocate any memory allocated and returned
 1101         by a &lt;jvmti/&gt; function
 1102         (including memory allocated with &lt;functionlink id=&quot;Allocate&quot;&gt;&lt;/functionlink&gt;).
 1103         All allocated memory must be deallocated
 1104         or the memory cannot be reclaimed.
 1105       &lt;/description&gt;
 1106       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1107       &lt;capabilities&gt;
 1108       &lt;/capabilities&gt;
 1109       &lt;parameters&gt;
 1110         &lt;param id=&quot;mem&quot;&gt;
 1111           &lt;outbuf&gt;
 1112             &lt;uchar/&gt;
 1113             &lt;nullok&gt;the call is ignored&lt;/nullok&gt;
 1114           &lt;/outbuf&gt;
 1115           &lt;description&gt;
 1116             A pointer to the beginning of the allocated memory.
 1117             Please ignore &quot;On return, the elements are set.&quot;
 1118               &lt;todo&gt;keep it from generating &quot;On return, the elements are set&quot;&lt;/todo&gt;
 1119           &lt;/description&gt;
 1120         &lt;/param&gt;
 1121       &lt;/parameters&gt;
 1122       &lt;errors&gt;
 1123       &lt;/errors&gt;
 1124     &lt;/function&gt;
 1125   &lt;/category&gt;
 1126 
 1127   &lt;category id=&quot;threadCategory&quot; label=&quot;Thread&quot;&gt;
 1128     &lt;intro&gt;
 1129     &lt;/intro&gt;
 1130 
 1131     &lt;function id=&quot;GetThreadState&quot; num=&quot;17&quot;&gt;
 1132       &lt;synopsis&gt;Get Thread State&lt;/synopsis&gt;
 1133       &lt;description&gt;
 1134         Get the state of a thread.  The state of the thread is represented by the
 1135         answers to the hierarchical set of questions below:
 1136           &lt;ul type=&quot;circle&quot;&gt;
 1137             &lt;li&gt;&lt;i&gt;Alive?&lt;/i&gt;
 1138               &lt;ul&gt;
 1139                 &lt;li&gt;Not alive.
 1140                   &lt;ul type=&quot;circle&quot;&gt;
 1141                     &lt;li&gt;&lt;i&gt;Why not alive?&lt;/i&gt;
 1142                       &lt;ul&gt;
 1143                         &lt;li&gt;New.&lt;/li&gt;
 1144                         &lt;li&gt;Terminated (&lt;datalink
 1145                             id=&quot;JVMTI_THREAD_STATE_TERMINATED&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_TERMINATED&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1146                       &lt;/ul&gt;
 1147                     &lt;/li&gt;
 1148                   &lt;/ul&gt;
 1149                 &lt;/li&gt;
 1150                 &lt;li&gt;Alive (&lt;datalink
 1151                     id=&quot;JVMTI_THREAD_STATE_ALIVE&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt;&lt;/datalink&gt;)
 1152                   &lt;ul type=&quot;circle&quot;&gt;
 1153                     &lt;li&gt;&lt;i&gt;Suspended?&lt;/i&gt;
 1154                       &lt;ul&gt;
 1155                         &lt;li&gt;Suspended (&lt;datalink
 1156                             id=&quot;JVMTI_THREAD_STATE_SUSPENDED&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_SUSPENDED&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1157                         &lt;li&gt;Not suspended&lt;/li&gt;
 1158                       &lt;/ul&gt;
 1159                     &lt;/li&gt;
 1160                     &lt;li&gt;&lt;i&gt;Interrupted?&lt;/i&gt;
 1161                       &lt;ul&gt;
 1162                         &lt;li&gt;Interrupted (&lt;datalink
 1163                             id=&quot;JVMTI_THREAD_STATE_INTERRUPTED&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_INTERRUPTED&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1164                         &lt;li&gt;Not interrupted.&lt;/li&gt;
 1165                       &lt;/ul&gt;
 1166                     &lt;/li&gt;
 1167                     &lt;li&gt;&lt;i&gt;In native?&lt;/i&gt;
 1168                       &lt;ul&gt;
 1169                         &lt;li&gt;In native code (&lt;datalink
 1170                             id=&quot;JVMTI_THREAD_STATE_IN_NATIVE&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_IN_NATIVE&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1171                         &lt;li&gt;In Java programming language code&lt;/li&gt;
 1172                       &lt;/ul&gt;
 1173                     &lt;/li&gt;
 1174                     &lt;li&gt;&lt;i&gt;What alive state?&lt;/i&gt;
 1175                       &lt;ul&gt;
 1176                         &lt;li&gt;Runnable (&lt;datalink
 1177                             id=&quot;JVMTI_THREAD_STATE_RUNNABLE&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_RUNNABLE&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1178                         &lt;li&gt;Blocked (&lt;datalink
 1179                             id=&quot;JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1180                         &lt;li&gt;Waiting (&lt;datalink
 1181                             id=&quot;JVMTI_THREAD_STATE_WAITING&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt;&lt;/datalink&gt;)
 1182                           &lt;ul type=&quot;circle&quot;&gt;
 1183                             &lt;li&gt;&lt;i&gt;Timed wait?&lt;/i&gt;
 1184                               &lt;ul&gt;
 1185                                 &lt;li&gt;Indefinite (&lt;datalink
 1186                                     id=&quot;JVMTI_THREAD_STATE_WAITING_INDEFINITELY&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING_INDEFINITELY&lt;/code&gt;&lt;/datalink&gt;&lt;/li&gt;
 1187                                 &lt;li&gt;Timed (&lt;datalink
 1188                                     id=&quot;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1189                               &lt;/ul&gt;
 1190                             &lt;/li&gt;
 1191                             &lt;li&gt;&lt;i&gt;Why waiting?&lt;/i&gt;
 1192                               &lt;ul&gt;
 1193                                 &lt;li&gt;Object.wait (&lt;datalink
 1194                                     id=&quot;JVMTI_THREAD_STATE_IN_OBJECT_WAIT&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_IN_OBJECT_WAIT&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1195                                 &lt;li&gt;LockSupport.park (&lt;datalink
 1196                                     id=&quot;JVMTI_THREAD_STATE_PARKED&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_PARKED&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1197                                 &lt;li&gt;Sleeping (&lt;datalink
 1198                                     id=&quot;JVMTI_THREAD_STATE_SLEEPING&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_SLEEPING&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1199                               &lt;/ul&gt;
 1200                             &lt;/li&gt;
 1201                           &lt;/ul&gt;
 1202                         &lt;/li&gt;
 1203                       &lt;/ul&gt;
 1204                     &lt;/li&gt;
 1205                   &lt;/ul&gt;
 1206                 &lt;/li&gt;
 1207               &lt;/ul&gt;
 1208             &lt;/li&gt;
 1209           &lt;/ul&gt;
 1210         &lt;p/&gt;
 1211         The answers are represented by the following bit vector.
 1212         &lt;constants id=&quot;jvmtiThreadState&quot; label=&quot;Thread State Flags&quot; kind=&quot;bits&quot;&gt;
 1213           &lt;constant id=&quot;JVMTI_THREAD_STATE_ALIVE&quot; num=&quot;0x0001&quot;&gt;
 1214             Thread is alive. Zero if thread is new (not started) or terminated.
 1215           &lt;/constant&gt;
 1216           &lt;constant id=&quot;JVMTI_THREAD_STATE_TERMINATED&quot; num=&quot;0x0002&quot;&gt;
 1217             Thread has completed execution.
 1218           &lt;/constant&gt;
 1219           &lt;constant id=&quot;JVMTI_THREAD_STATE_RUNNABLE&quot; num=&quot;0x0004&quot;&gt;
 1220             Thread is runnable.
 1221           &lt;/constant&gt;
 1222           &lt;constant id=&quot;JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&quot; num=&quot;0x0400&quot;&gt;
 1223             Thread is waiting to enter a synchronization block/method or,
 1224             after an &lt;code&gt;Object.wait()&lt;/code&gt;, waiting to re-enter a
 1225             synchronization block/method.
 1226           &lt;/constant&gt;
 1227           &lt;constant id=&quot;JVMTI_THREAD_STATE_WAITING&quot; num=&quot;0x0080&quot;&gt;
 1228             Thread is waiting.
 1229           &lt;/constant&gt;
 1230           &lt;constant id=&quot;JVMTI_THREAD_STATE_WAITING_INDEFINITELY&quot; num=&quot;0x0010&quot;&gt;
 1231             Thread is waiting without a timeout.
 1232             For example, &lt;code&gt;Object.wait()&lt;/code&gt;.
 1233           &lt;/constant&gt;
 1234           &lt;constant id=&quot;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&quot; num=&quot;0x0020&quot;&gt;
 1235             Thread is waiting with a maximum time to wait specified.
 1236             For example, &lt;code&gt;Object.wait(long)&lt;/code&gt;.
 1237           &lt;/constant&gt;
 1238           &lt;constant id=&quot;JVMTI_THREAD_STATE_SLEEPING&quot; num=&quot;0x0040&quot;&gt;
 1239             Thread is sleeping -- &lt;code&gt;Thread.sleep(long)&lt;/code&gt;.
 1240           &lt;/constant&gt;
 1241           &lt;constant id=&quot;JVMTI_THREAD_STATE_IN_OBJECT_WAIT&quot; num=&quot;0x0100&quot;&gt;
 1242             Thread is waiting on an object monitor -- &lt;code&gt;Object.wait&lt;/code&gt;.
 1243           &lt;/constant&gt;
 1244           &lt;constant id=&quot;JVMTI_THREAD_STATE_PARKED&quot; num=&quot;0x0200&quot;&gt;
 1245             Thread is parked, for example: &lt;code&gt;LockSupport.park&lt;/code&gt;,
 1246             &lt;code&gt;LockSupport.parkUtil&lt;/code&gt; and &lt;code&gt;LockSupport.parkNanos&lt;/code&gt;.
 1247           &lt;/constant&gt;
 1248           &lt;constant id=&quot;JVMTI_THREAD_STATE_SUSPENDED&quot; num=&quot;0x100000&quot;&gt;
 1249             Thread suspended.
 1250             &lt;code&gt;java.lang.Thread.suspend()&lt;/code&gt;
 1251             or a &lt;jvmti/&gt; suspend function
 1252             (such as &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;)
 1253             has been called on the thread. If this bit
 1254             is set, the other bits refer to the thread state before suspension.
 1255           &lt;/constant&gt;
 1256           &lt;constant id=&quot;JVMTI_THREAD_STATE_INTERRUPTED&quot; num=&quot;0x200000&quot;&gt;
 1257             Thread has been interrupted.
 1258           &lt;/constant&gt;
 1259           &lt;constant id=&quot;JVMTI_THREAD_STATE_IN_NATIVE&quot; num=&quot;0x400000&quot;&gt;
 1260             Thread is in native code--that is, a native method is running
 1261             which has not called back into the VM or Java programming
 1262             language code.
 1263             &lt;p/&gt;
 1264             This flag is not set when running VM compiled Java programming
 1265             language code nor is it set when running VM code or
 1266             VM support code. Native VM interface functions, such as JNI and
 1267             &lt;jvmti/&gt; functions, may be implemented as VM code.
 1268           &lt;/constant&gt;
 1269           &lt;constant id=&quot;JVMTI_THREAD_STATE_VENDOR_1&quot; num=&quot;0x10000000&quot;&gt;
 1270             Defined by VM vendor.
 1271           &lt;/constant&gt;
 1272           &lt;constant id=&quot;JVMTI_THREAD_STATE_VENDOR_2&quot; num=&quot;0x20000000&quot;&gt;
 1273             Defined by VM vendor.
 1274           &lt;/constant&gt;
 1275           &lt;constant id=&quot;JVMTI_THREAD_STATE_VENDOR_3&quot; num=&quot;0x40000000&quot;&gt;
 1276             Defined by VM vendor.
 1277           &lt;/constant&gt;
 1278         &lt;/constants&gt;
 1279         The following definitions are used to convert &lt;jvmti/&gt; thread state
 1280         to &lt;code&gt;java.lang.Thread.State&lt;/code&gt; style states.
 1281         &lt;constants id=&quot;jvmtiJavaLangThreadState&quot; label=&quot;java.lang.Thread.State Conversion Masks&quot; kind=&quot;bits&quot;&gt;
 1282           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_MASK&quot;
 1283                      num=&quot;JVMTI_THREAD_STATE_TERMINATED | JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_RUNNABLE | JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER | JVMTI_THREAD_STATE_WAITING | JVMTI_THREAD_STATE_WAITING_INDEFINITELY | JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&quot;&gt;
 1284             Mask the state with this before comparison
 1285           &lt;/constant&gt;
 1286           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_NEW&quot;
 1287                      num=&quot;0&quot;&gt;
 1288             &lt;code&gt;java.lang.Thread.State.NEW&lt;/code&gt;
 1289           &lt;/constant&gt;
 1290           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_TERMINATED&quot;
 1291                      num=&quot;JVMTI_THREAD_STATE_TERMINATED&quot;&gt;
 1292             &lt;code&gt;java.lang.Thread.State.TERMINATED&lt;/code&gt;
 1293           &lt;/constant&gt;
 1294           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_RUNNABLE&quot;
 1295                      num=&quot;JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_RUNNABLE&quot;&gt;
 1296             &lt;code&gt;java.lang.Thread.State.RUNNABLE&lt;/code&gt;
 1297           &lt;/constant&gt;
 1298           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_BLOCKED&quot;
 1299                      num=&quot;JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&quot;&gt;
 1300             &lt;code&gt;java.lang.Thread.State.BLOCKED&lt;/code&gt;
 1301           &lt;/constant&gt;
 1302           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_WAITING&quot;
 1303                      num=&quot;JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_WAITING | JVMTI_THREAD_STATE_WAITING_INDEFINITELY&quot;&gt;
 1304             &lt;code&gt;java.lang.Thread.State.WAITING&lt;/code&gt;
 1305           &lt;/constant&gt;
 1306           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_TIMED_WAITING&quot;
 1307                      num=&quot;JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_WAITING | JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&quot;&gt;
 1308             &lt;code&gt;java.lang.Thread.State.TIMED_WAITING&lt;/code&gt;
 1309           &lt;/constant&gt;
 1310         &lt;/constants&gt;
 1311         &lt;b&gt;Rules&lt;/b&gt;
 1312         &lt;p/&gt;
 1313         There can be no more than one answer to a question, although there can be no
 1314         answer (because the answer is unknown, does not apply, or none of the answers is
 1315         correct).  An answer is set only when the enclosing answers match.
 1316         That is, no more than one of
 1317           &lt;ul type=&quot;circle&quot;&gt;
 1318               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_RUNNABLE&lt;/code&gt;&lt;/li&gt;
 1319               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&lt;/code&gt;&lt;/li&gt;
 1320               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt;&lt;/li&gt;
 1321           &lt;/ul&gt;
 1322         can be set (a &lt;tm&gt;J2SE&lt;/tm&gt; compliant implementation will always set
 1323         one of these if &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; is set).
 1324         And if any of these are set, the enclosing answer
 1325         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; is set.
 1326         No more than one of
 1327           &lt;ul type=&quot;circle&quot;&gt;
 1328               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING_INDEFINITELY&lt;/code&gt;&lt;/li&gt;
 1329               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&lt;/code&gt;&lt;/li&gt;
 1330           &lt;/ul&gt;
 1331         can be set (a &lt;tm&gt;J2SE&lt;/tm&gt; compliant implementation will always set
 1332         one of these if &lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt; is set).
 1333         And if either is set, the enclosing answers
 1334         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; and
 1335         &lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt; are set.
 1336         No more than one of
 1337           &lt;ul type=&quot;circle&quot;&gt;
 1338               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_IN_OBJECT_WAIT&lt;/code&gt;&lt;/li&gt;
 1339               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_PARKED&lt;/code&gt;&lt;/li&gt;
 1340               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_SLEEPING&lt;/code&gt;&lt;/li&gt;
 1341           &lt;/ul&gt;
 1342         can be set. And if any of these is set, the enclosing answers
 1343         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; and
 1344         &lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt; are set.
 1345         Also, if &lt;code&gt;JVMTI_THREAD_STATE_SLEEPING&lt;/code&gt; is set,
 1346         then &lt;code&gt;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&lt;/code&gt; is set.
 1347         If a state &lt;i&gt;A&lt;/i&gt; is implemented using the mechanism of
 1348         state &lt;i&gt;B&lt;/i&gt; then it is state &lt;i&gt;A&lt;/i&gt; which
 1349         is returned by this function.
 1350         For example, if &lt;code&gt;Thread.sleep(long)&lt;/code&gt;
 1351         is implemented using &lt;code&gt;Object.wait(long)&lt;/code&gt;
 1352         then it is still &lt;code&gt;JVMTI_THREAD_STATE_SLEEPING&lt;/code&gt;
 1353         which is returned.
 1354         More than one of
 1355           &lt;ul type=&quot;circle&quot;&gt;
 1356               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_SUSPENDED&lt;/code&gt;&lt;/li&gt;
 1357               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_INTERRUPTED&lt;/code&gt;&lt;/li&gt;
 1358               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_IN_NATIVE&lt;/code&gt;&lt;/li&gt;
 1359           &lt;/ul&gt;
 1360         can be set, but if any is set,
 1361         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; is set.
 1362         &lt;p/&gt;
 1363         And finally,
 1364         &lt;code&gt;JVMTI_THREAD_STATE_TERMINATED&lt;/code&gt; cannot be set unless
 1365         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; is not set.
 1366         &lt;p/&gt;
 1367         The thread state representation is designed for extension in future versions
 1368         of the specification; thread state values should be used accordingly, that is
 1369         they should not be used as ordinals.
 1370         Most queries can be made by testing a single bit, if use in a switch statement is desired,
 1371         the state bits should be masked with the interesting bits.
 1372         All bits not defined above are reserved for future use.
 1373         A VM, compliant to the current specification, must set reserved bits to zero.
 1374         An agent should ignore reserved bits --
 1375         they should not be assumed to be zero and thus should not be included in comparisons.
 1376         &lt;p/&gt;
 1377         &lt;b&gt;Examples&lt;/b&gt;
 1378         &lt;p/&gt;
 1379         Note that the values below exclude reserved and vendor bits.
 1380         &lt;p/&gt;
 1381         The state of a thread blocked at a &lt;code&gt;synchronized&lt;/code&gt;-statement would be:
 1382         &lt;example&gt;
 1383             JVMTI_THREAD_STATE_ALIVE + JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER
 1384         &lt;/example&gt;
 1385         The state of a thread which hasn&#39;t started yet would be:
 1386         &lt;example&gt;
 1387             0
 1388         &lt;/example&gt;
 1389         The state of a thread at a &lt;code&gt;Object.wait(3000)&lt;/code&gt; would be:
 1390         &lt;example&gt;
 1391             JVMTI_THREAD_STATE_ALIVE + JVMTI_THREAD_STATE_WAITING +
 1392                 JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT +
 1393                 JVMTI_THREAD_STATE_MONITOR_WAITING
 1394         &lt;/example&gt;
 1395         The state of a thread suspended while runnable would be:
 1396         &lt;example&gt;
 1397             JVMTI_THREAD_STATE_ALIVE + JVMTI_THREAD_STATE_RUNNABLE + JVMTI_THREAD_STATE_SUSPENDED
 1398         &lt;/example&gt;
 1399         &lt;p/&gt;
 1400         &lt;b&gt;Testing the State&lt;/b&gt;
 1401         &lt;p/&gt;
 1402         In most cases, the thread state can be determined by testing the one bit corresponding
 1403         to that question.  For example, the code to test if a thread is sleeping:
 1404         &lt;example&gt;
 1405         jint state;
 1406         jvmtiError err;
 1407 
 1408         err = (*jvmti)-&amp;gt;GetThreadState(jvmti, thread, &amp;amp;state);
 1409         if (err == JVMTI_ERROR_NONE) {
 1410            if (state &amp;amp; JVMTI_THREAD_STATE_SLEEPING) {  ...
 1411         &lt;/example&gt;
 1412         &lt;p/&gt;
 1413         For waiting (that is, in &lt;code&gt;Object.wait&lt;/code&gt;, parked, or sleeping) it would be:
 1414         &lt;example&gt;
 1415            if (state &amp;amp; JVMTI_THREAD_STATE_WAITING) {  ...
 1416         &lt;/example&gt;
 1417         For some states, more than one bit will need to be tested as is the case
 1418         when testing if a thread has not yet been started:
 1419         &lt;example&gt;
 1420            if ((state &amp;amp; (JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_TERMINATED)) == 0)  {  ...
 1421         &lt;/example&gt;
 1422         To distinguish timed from untimed &lt;code&gt;Object.wait&lt;/code&gt;:
 1423         &lt;example&gt;
 1424            if (state &amp;amp; JVMTI_THREAD_STATE_IN_OBJECT_WAIT)  {
 1425              if (state &amp;amp; JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT)  {
 1426                printf(&quot;in Object.wait(long timeout)\n&quot;);
 1427              } else {
 1428                printf(&quot;in Object.wait()\n&quot;);
 1429              }
 1430            }
 1431         &lt;/example&gt;
 1432         &lt;p/&gt;
 1433         &lt;b&gt;Relationship to &lt;code&gt;java.lang.Thread.State&lt;/code&gt;&lt;/b&gt;
 1434         &lt;p/&gt;
 1435         The thread state represented by &lt;code&gt;java.lang.Thread.State&lt;/code&gt;
 1436         returned from &lt;code&gt;java.lang.Thread.getState()&lt;/code&gt; is a subset of the
 1437         information returned from this function.
 1438         The corresponding &lt;code&gt;java.lang.Thread.State&lt;/code&gt; can be determined
 1439         by using the provided conversion masks.
 1440         For example, this returns the name of the &lt;code&gt;java.lang.Thread.State&lt;/code&gt; thread state:
 1441         &lt;example&gt;
 1442             err = (*jvmti)-&amp;gt;GetThreadState(jvmti, thread, &amp;amp;state);
 1443             abortOnError(err);
 1444             switch (state &amp;amp; JVMTI_JAVA_LANG_THREAD_STATE_MASK) {
 1445             case JVMTI_JAVA_LANG_THREAD_STATE_NEW:
 1446               return &quot;NEW&quot;;
 1447             case JVMTI_JAVA_LANG_THREAD_STATE_TERMINATED:
 1448               return &quot;TERMINATED&quot;;
 1449             case JVMTI_JAVA_LANG_THREAD_STATE_RUNNABLE:
 1450               return &quot;RUNNABLE&quot;;
 1451             case JVMTI_JAVA_LANG_THREAD_STATE_BLOCKED:
 1452               return &quot;BLOCKED&quot;;
 1453             case JVMTI_JAVA_LANG_THREAD_STATE_WAITING:
 1454               return &quot;WAITING&quot;;
 1455             case JVMTI_JAVA_LANG_THREAD_STATE_TIMED_WAITING:
 1456               return &quot;TIMED_WAITING&quot;;
 1457             }
 1458         &lt;/example&gt;
 1459       &lt;/description&gt;
 1460       &lt;origin&gt;new&lt;/origin&gt;
 1461       &lt;capabilities&gt;
 1462       &lt;/capabilities&gt;
 1463       &lt;parameters&gt;
 1464         &lt;param id=&quot;thread&quot;&gt;
 1465           &lt;jthread null=&quot;current&quot; started=&quot;maybe&quot; impl=&quot;noconvert&quot;/&gt;
 1466             &lt;description&gt;
 1467               The thread to query.
 1468             &lt;/description&gt;
 1469         &lt;/param&gt;
 1470         &lt;param id=&quot;thread_state_ptr&quot;&gt;
 1471           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1472           &lt;description&gt;
 1473             On return, points to state flags,
 1474             as defined by the &lt;internallink id=&quot;jvmtiThreadState&quot;&gt;Thread State Flags&lt;/internallink&gt;.
 1475           &lt;/description&gt;
 1476         &lt;/param&gt;
 1477       &lt;/parameters&gt;
 1478       &lt;errors&gt;
 1479       &lt;/errors&gt;
 1480     &lt;/function&gt;
 1481 
 1482     &lt;function id=&quot;GetCurrentThread&quot; phase=&quot;start&quot; num=&quot;18&quot; since=&quot;1.1&quot;&gt;
 1483       &lt;synopsis&gt;Get Current Thread&lt;/synopsis&gt;
 1484       &lt;description&gt;
 1485         Get the current thread.
 1486         The current thread is the Java programming language thread which has called the function.
 1487         The function may return &lt;code&gt;NULL&lt;/code&gt; in the start phase if the
 1488         &lt;internallink id=&quot;jvmtiCapabilities.can_generate_early_vmstart&quot;&gt;
 1489         &lt;code&gt;can_generate_early_vmstart&lt;/code&gt;&lt;/internallink&gt; capability is enabled
 1490         and the &lt;code&gt;java.lang.Thread&lt;/code&gt; class has not been initialized yet.
 1491         &lt;p/&gt;
 1492         Note that most &lt;jvmti/&gt; functions that take a thread
 1493         as an argument will accept &lt;code&gt;NULL&lt;/code&gt; to mean
 1494         the current thread.
 1495       &lt;/description&gt;
 1496       &lt;origin&gt;new&lt;/origin&gt;
 1497       &lt;capabilities&gt;
 1498       &lt;/capabilities&gt;
 1499       &lt;parameters&gt;
 1500         &lt;param id=&quot;thread_ptr&quot;&gt;
 1501           &lt;outptr&gt;&lt;jthread/&gt;&lt;/outptr&gt;
 1502           &lt;description&gt;
 1503              On return, points to the current thread, or &lt;code&gt;NULL&lt;/code&gt;.
 1504           &lt;/description&gt;
 1505         &lt;/param&gt;
 1506       &lt;/parameters&gt;
 1507       &lt;errors&gt;
 1508       &lt;/errors&gt;
 1509     &lt;/function&gt;
 1510 
 1511     &lt;function id=&quot;GetAllThreads&quot; num=&quot;4&quot;&gt;
 1512       &lt;synopsis&gt;Get All Threads&lt;/synopsis&gt;
 1513       &lt;description&gt;
 1514         Get all live threads.
 1515         The threads are Java programming language threads;
 1516         that is, threads that are attached to the VM.
 1517         A thread is live if &lt;code&gt;java.lang.Thread.isAlive()&lt;/code&gt;
 1518         would return &lt;code&gt;true&lt;/code&gt;, that is, the thread has
 1519         been started and has not yet died.
 1520         The universe of threads is determined by the context of the &lt;jvmti/&gt;
 1521         environment, which typically is all threads attached to the VM.
 1522         Note that this includes &lt;jvmti/&gt; agent threads
 1523         (see &lt;functionlink id=&quot;RunAgentThread&quot;/&gt;).
 1524       &lt;/description&gt;
 1525       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1526       &lt;capabilities&gt;
 1527       &lt;/capabilities&gt;
 1528       &lt;parameters&gt;
 1529         &lt;param id=&quot;threads_count_ptr&quot;&gt;
 1530           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1531           &lt;description&gt;
 1532             On return, points to the number of running threads.
 1533           &lt;/description&gt;
 1534         &lt;/param&gt;
 1535         &lt;param id=&quot;threads_ptr&quot;&gt;
 1536           &lt;allocbuf outcount=&quot;threads_count_ptr&quot;&gt;&lt;jthread/&gt;&lt;/allocbuf&gt;
 1537             &lt;description&gt;
 1538               On return, points to an array of references, one
 1539               for each running thread.
 1540             &lt;/description&gt;
 1541         &lt;/param&gt;
 1542       &lt;/parameters&gt;
 1543       &lt;errors&gt;
 1544       &lt;/errors&gt;
 1545     &lt;/function&gt;
 1546 
 1547     &lt;function id=&quot;SuspendThread&quot; num=&quot;5&quot;&gt;
 1548       &lt;synopsis&gt;Suspend Thread&lt;/synopsis&gt;
 1549       &lt;description&gt;
 1550         Suspend the specified thread. If the calling thread is specified,
 1551         this function will not return until some other thread calls
 1552         &lt;functionlink id=&quot;ResumeThread&quot;&gt;&lt;/functionlink&gt;.
 1553         If the thread is currently suspended, this function
 1554         does nothing and returns an error.
 1555       &lt;/description&gt;
 1556       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1557       &lt;capabilities&gt;
 1558         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1559       &lt;/capabilities&gt;
 1560       &lt;parameters&gt;
 1561         &lt;param id=&quot;thread&quot;&gt;
 1562           &lt;jthread null=&quot;current&quot;/&gt;
 1563             &lt;description&gt;
 1564               The thread to suspend.
 1565             &lt;/description&gt;
 1566         &lt;/param&gt;
 1567       &lt;/parameters&gt;
 1568       &lt;errors&gt;
 1569         &lt;error id=&quot;JVMTI_ERROR_THREAD_SUSPENDED&quot;&gt;
 1570           Thread already suspended.
 1571         &lt;/error&gt;
 1572       &lt;/errors&gt;
 1573     &lt;/function&gt;
 1574 
 1575     &lt;elide&gt;
 1576     &lt;function id=&quot;SuspendAllThreads&quot; num=&quot;101&quot;&gt;
 1577       &lt;synopsis&gt;Suspend All Threads&lt;/synopsis&gt;
 1578       &lt;description&gt;
 1579         &lt;issue&gt;
 1580             There has been no explicit call for this function, and it will
 1581             thus be removed if there is no interest.
 1582         &lt;/issue&gt;
 1583         Suspend all live threads except:
 1584         &lt;ul&gt;
 1585           &lt;li&gt;already suspended threads&lt;/li&gt;
 1586           &lt;li&gt;those listed in &lt;paramlink id=&quot;except_list&quot;&gt;&lt;/paramlink&gt;&lt;/li&gt;
 1587           &lt;li&gt;certain system (non application) threads, as determined
 1588             by the VM implementation&lt;/li&gt;
 1589         &lt;/ul&gt;
 1590         The threads are Java programming language threads;
 1591         native threads which are not attached to the VM are not
 1592         Java programming language threads.
 1593         A thread is live if &lt;code&gt;java.lang.Thread.isAlive()&lt;/code&gt;
 1594         would return &lt;code&gt;true&lt;/code&gt;, that is, the thread has
 1595         been started and has not yet died.
 1596         The universe of threads is determined
 1597         by the context of the &lt;jvmti/&gt;
 1598         environment, which, typically, is all threads attached to the VM,
 1599         except critical VM internal threads and &lt;jvmti/&gt; agent threads
 1600         (see &lt;functionlink id=&quot;RunAgentThread&quot;/&gt;).
 1601         &lt;p/&gt;
 1602         If the calling thread is specified,
 1603         all other threads are suspended first then the caller thread is suspended -
 1604         this function will not return until some other thread calls
 1605         &lt;functionlink id=&quot;ResumeThread&quot;&gt;&lt;/functionlink&gt;.
 1606         &lt;p/&gt;
 1607         The list of actually
 1608         suspended threads is returned in
 1609         &lt;paramlink id=&quot;suspended_list_ptr&quot;&gt;&lt;/paramlink&gt;.
 1610         Suspension is as defined in &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;.
 1611         &lt;functionlink id=&quot;ResumeThreadList&quot;&gt;&lt;/functionlink&gt;
 1612         can be used to resume the suspended threads.
 1613       &lt;/description&gt;
 1614       &lt;origin&gt;new&lt;/origin&gt;
 1615       &lt;capabilities&gt;
 1616         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1617       &lt;/capabilities&gt;
 1618       &lt;parameters&gt;
 1619         &lt;param id=&quot;except_count&quot;&gt;
 1620           &lt;jint min=&quot;0&quot;/&gt;
 1621           &lt;description&gt;
 1622             The number of threads in the list of threads not to be suspended.
 1623           &lt;/description&gt;
 1624         &lt;/param&gt;
 1625         &lt;param id=&quot;except_list&quot;&gt;
 1626             &lt;inbuf incount=&quot;except_count&quot;&gt;
 1627               &lt;jthread/&gt;
 1628               &lt;nullok&gt;not an error if &lt;code&gt;except_count == 0&lt;/code&gt;&lt;/nullok&gt;
 1629             &lt;/inbuf&gt;
 1630             &lt;description&gt;
 1631               The list of threads not to be suspended.
 1632             &lt;/description&gt;
 1633         &lt;/param&gt;
 1634         &lt;param id=&quot;suspended_count_ptr&quot;&gt;
 1635           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1636           &lt;description&gt;
 1637             On return, points to the number of threads suspended by this call.
 1638           &lt;/description&gt;
 1639         &lt;/param&gt;
 1640         &lt;param id=&quot;suspended_list_ptr&quot;&gt;
 1641           &lt;allocbuf outcount=&quot;suspended_count_ptr&quot;&gt;&lt;jthread/&gt;&lt;/allocbuf&gt;
 1642             &lt;description&gt;
 1643               On return, points to an array of references, one
 1644               for each thread suspended.
 1645             &lt;/description&gt;
 1646         &lt;/param&gt;
 1647       &lt;/parameters&gt;
 1648       &lt;errors&gt;
 1649         &lt;error id=&quot;JVMTI_ERROR_INVALID_THREAD&quot;&gt;
 1650           A thread in &lt;paramlink id=&quot;except_list&quot;&gt;&lt;/paramlink&gt; was invalid.
 1651         &lt;/error&gt;
 1652         &lt;error id=&quot;JVMTI_ERROR_NULL_POINTER&quot;&gt;
 1653           Both &lt;paramlink id=&quot;except_list&quot;&gt;&lt;/paramlink&gt; was &lt;code&gt;NULL&lt;/code&gt;
 1654           and &lt;paramlink id=&quot;except_count&quot;&gt;&lt;/paramlink&gt; was non-zero.
 1655         &lt;/error&gt;
 1656       &lt;/errors&gt;
 1657     &lt;/function&gt;
 1658     &lt;/elide&gt;
 1659 
 1660     &lt;function id=&quot;SuspendThreadList&quot; num=&quot;92&quot;&gt;
 1661       &lt;synopsis&gt;Suspend Thread List&lt;/synopsis&gt;
 1662       &lt;description&gt;
 1663         Suspend the &lt;paramlink id=&quot;request_count&quot;&gt;&lt;/paramlink&gt;
 1664         threads specified in the
 1665         &lt;paramlink id=&quot;request_list&quot;&gt;&lt;/paramlink&gt; array.
 1666         Threads may be resumed with
 1667         &lt;functionlink id=&quot;ResumeThreadList&quot;&gt;&lt;/functionlink&gt; or
 1668         &lt;functionlink id=&quot;ResumeThread&quot;&gt;&lt;/functionlink&gt;.
 1669         If the calling thread is specified in the
 1670         &lt;paramlink id=&quot;request_list&quot;&gt;&lt;/paramlink&gt; array, this function will
 1671         not return until some other thread resumes it.
 1672         Errors encountered in the suspension of a thread
 1673         are returned in the &lt;paramlink id=&quot;results&quot;&gt;&lt;/paramlink&gt;
 1674         array, &lt;b&gt;not&lt;/b&gt; in the return value of this function.
 1675         Threads that are currently suspended do not change state.
 1676       &lt;/description&gt;
 1677       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1678       &lt;capabilities&gt;
 1679         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1680       &lt;/capabilities&gt;
 1681       &lt;parameters&gt;
 1682         &lt;param id=&quot;request_count&quot;&gt;
 1683           &lt;jint min=&quot;0&quot;/&gt;
 1684           &lt;description&gt;
 1685             The number of threads to suspend.
 1686           &lt;/description&gt;
 1687         &lt;/param&gt;
 1688         &lt;param id=&quot;request_list&quot;&gt;
 1689           &lt;inbuf incount=&quot;request_count&quot;&gt;&lt;jthread/&gt;&lt;/inbuf&gt;
 1690             &lt;description&gt;
 1691               The list of threads to suspend.
 1692             &lt;/description&gt;
 1693         &lt;/param&gt;
 1694         &lt;param id=&quot;results&quot;&gt;
 1695           &lt;outbuf incount=&quot;request_count&quot;&gt;&lt;enum&gt;jvmtiError&lt;/enum&gt;&lt;/outbuf&gt;
 1696           &lt;description&gt;
 1697             An agent supplied array of
 1698             &lt;paramlink id=&quot;request_count&quot;&gt;&lt;/paramlink&gt; elements.
 1699             On return, filled with the error code for
 1700             the suspend of the corresponding thread.
 1701             The error code will be
 1702             &lt;errorlink id=&quot;JVMTI_ERROR_NONE&quot;&gt;&lt;/errorlink&gt;
 1703             if the thread was suspended by this call.
 1704             Possible error codes are those specified
 1705             for &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;.
 1706           &lt;/description&gt;
 1707         &lt;/param&gt;
 1708       &lt;/parameters&gt;
 1709       &lt;errors&gt;
 1710       &lt;/errors&gt;
 1711     &lt;/function&gt;
 1712 
 1713     &lt;function id=&quot;ResumeThread&quot; num=&quot;6&quot;&gt;
 1714       &lt;synopsis&gt;Resume Thread&lt;/synopsis&gt;
 1715       &lt;description&gt;
 1716         Resume a suspended thread.
 1717         Any threads currently suspended through
 1718         a &lt;jvmti/&gt; suspend function (eg.
 1719         &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;)
 1720         or &lt;code&gt;java.lang.Thread.suspend()&lt;/code&gt;
 1721         will resume execution;
 1722         all other threads are unaffected.
 1723       &lt;/description&gt;
 1724       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1725       &lt;capabilities&gt;
 1726         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1727       &lt;/capabilities&gt;
 1728       &lt;parameters&gt;
 1729         &lt;param id=&quot;thread&quot;&gt;
 1730           &lt;jthread/&gt;
 1731             &lt;description&gt;
 1732               The thread to resume.
 1733             &lt;/description&gt;
 1734         &lt;/param&gt;
 1735       &lt;/parameters&gt;
 1736       &lt;errors&gt;
 1737         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 1738           Thread was not suspended.
 1739         &lt;/error&gt;
 1740         &lt;error id=&quot;JVMTI_ERROR_INVALID_TYPESTATE&quot;&gt;
 1741           The state of the thread has been modified, and is now inconsistent.
 1742         &lt;/error&gt;
 1743       &lt;/errors&gt;
 1744     &lt;/function&gt;
 1745 
 1746     &lt;function id=&quot;ResumeThreadList&quot; num=&quot;93&quot;&gt;
 1747       &lt;synopsis&gt;Resume Thread List&lt;/synopsis&gt;
 1748       &lt;description&gt;
 1749         Resume the &lt;paramlink id=&quot;request_count&quot;&gt;&lt;/paramlink&gt;
 1750         threads specified in the
 1751         &lt;paramlink id=&quot;request_list&quot;&gt;&lt;/paramlink&gt; array.
 1752         Any thread suspended through
 1753         a &lt;jvmti/&gt; suspend function (eg.
 1754         &lt;functionlink id=&quot;SuspendThreadList&quot;&gt;&lt;/functionlink&gt;)
 1755         or &lt;code&gt;java.lang.Thread.suspend()&lt;/code&gt;
 1756         will resume execution.
 1757       &lt;/description&gt;
 1758       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1759       &lt;capabilities&gt;
 1760         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1761       &lt;/capabilities&gt;
 1762       &lt;parameters&gt;
 1763         &lt;param id=&quot;request_count&quot;&gt;
 1764           &lt;jint min=&quot;0&quot;/&gt;
 1765           &lt;description&gt;
 1766             The number of threads to resume.
 1767           &lt;/description&gt;
 1768         &lt;/param&gt;
 1769         &lt;param id=&quot;request_list&quot;&gt;
 1770           &lt;inbuf incount=&quot;request_count&quot;&gt;&lt;jthread/&gt;&lt;/inbuf&gt;
 1771             &lt;description&gt;
 1772               The threads to resume.
 1773             &lt;/description&gt;
 1774         &lt;/param&gt;
 1775         &lt;param id=&quot;results&quot;&gt;
 1776           &lt;outbuf incount=&quot;request_count&quot;&gt;&lt;enum&gt;jvmtiError&lt;/enum&gt;&lt;/outbuf&gt;
 1777           &lt;description&gt;
 1778             An agent supplied array of
 1779             &lt;paramlink id=&quot;request_count&quot;&gt;&lt;/paramlink&gt; elements.
 1780             On return, filled with the error code for
 1781             the resume of the corresponding thread.
 1782             The error code will be
 1783             &lt;errorlink id=&quot;JVMTI_ERROR_NONE&quot;&gt;&lt;/errorlink&gt;
 1784             if the thread was suspended by this call.
 1785             Possible error codes are those specified
 1786             for &lt;functionlink id=&quot;ResumeThread&quot;&gt;&lt;/functionlink&gt;.
 1787           &lt;/description&gt;
 1788         &lt;/param&gt;
 1789       &lt;/parameters&gt;
 1790       &lt;errors&gt;
 1791       &lt;/errors&gt;
 1792     &lt;/function&gt;
 1793 
 1794     &lt;function id=&quot;StopThread&quot; num=&quot;7&quot;&gt;
 1795       &lt;synopsis&gt;Stop Thread&lt;/synopsis&gt;
 1796       &lt;description&gt;
 1797         Send the specified asynchronous exception to the specified thread.
 1798         Normally, this function is used to kill the specified thread with an
 1799         instance of the exception &lt;code&gt;ThreadDeath&lt;/code&gt;, similar to
 1800         &lt;code&gt;java.lang.Thread.stop&lt;/code&gt;.
 1801       &lt;/description&gt;
 1802       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1803       &lt;capabilities&gt;
 1804         &lt;required id=&quot;can_signal_thread&quot;&gt;&lt;/required&gt;
 1805       &lt;/capabilities&gt;
 1806       &lt;parameters&gt;
 1807         &lt;param id=&quot;thread&quot;&gt;
 1808           &lt;jthread/&gt;
 1809             &lt;description&gt;
 1810               The thread to stop.
 1811             &lt;/description&gt;
 1812         &lt;/param&gt;
 1813         &lt;param id=&quot;exception&quot;&gt;
 1814           &lt;jobject/&gt;
 1815             &lt;description&gt;
 1816               The asynchronous exception object.
 1817             &lt;/description&gt;
 1818         &lt;/param&gt;
 1819       &lt;/parameters&gt;
 1820       &lt;errors&gt;
 1821       &lt;/errors&gt;
 1822     &lt;/function&gt;
 1823 
 1824     &lt;function id=&quot;InterruptThread&quot; num=&quot;8&quot;&gt;
 1825       &lt;synopsis&gt;Interrupt Thread&lt;/synopsis&gt;
 1826       &lt;description&gt;
 1827         Interrupt the specified thread
 1828         (similar to &lt;code&gt;java.lang.Thread.interrupt&lt;/code&gt;).
 1829       &lt;/description&gt;
 1830       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1831       &lt;capabilities&gt;
 1832         &lt;required id=&quot;can_signal_thread&quot;&gt;&lt;/required&gt;
 1833       &lt;/capabilities&gt;
 1834       &lt;parameters&gt;
 1835         &lt;param id=&quot;thread&quot;&gt;
 1836           &lt;jthread impl=&quot;noconvert&quot;/&gt;
 1837             &lt;description&gt;
 1838               The thread to interrupt.
 1839             &lt;/description&gt;
 1840         &lt;/param&gt;
 1841       &lt;/parameters&gt;
 1842       &lt;errors&gt;
 1843       &lt;/errors&gt;
 1844     &lt;/function&gt;
 1845 
 1846     &lt;function id=&quot;GetThreadInfo&quot; num=&quot;9&quot;&gt;
 1847       &lt;synopsis&gt;Get Thread Info&lt;/synopsis&gt;
 1848       &lt;typedef id=&quot;jvmtiThreadInfo&quot; label=&quot;Thread information structure&quot;&gt;
 1849         &lt;field id=&quot;name&quot;&gt;
 1850           &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 1851           &lt;description&gt;
 1852             The thread name, encoded as a
 1853             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 1854           &lt;/description&gt;
 1855         &lt;/field&gt;
 1856         &lt;field id=&quot;priority&quot;&gt;
 1857           &lt;jint/&gt;
 1858           &lt;description&gt;
 1859             The thread priority.  See the thread priority constants:
 1860             &lt;datalink id=&quot;jvmtiThreadPriority&quot;&gt;&lt;/datalink&gt;.
 1861           &lt;/description&gt;
 1862         &lt;/field&gt;
 1863         &lt;field id=&quot;is_daemon&quot;&gt;
 1864           &lt;jboolean/&gt;
 1865           &lt;description&gt;
 1866             Is this a daemon thread?
 1867           &lt;/description&gt;
 1868         &lt;/field&gt;
 1869         &lt;field id=&quot;thread_group&quot;&gt;
 1870           &lt;jthreadGroup/&gt;
 1871           &lt;description&gt;
 1872             The thread group to which this thread belongs.
 1873             &lt;code&gt;NULL&lt;/code&gt; if the thread has died.
 1874           &lt;/description&gt;
 1875         &lt;/field&gt;
 1876         &lt;field id=&quot;context_class_loader&quot;&gt;
 1877           &lt;jobject/&gt;
 1878             &lt;description&gt;
 1879               The context class loader associated with this thread.
 1880             &lt;/description&gt;
 1881         &lt;/field&gt;
 1882       &lt;/typedef&gt;
 1883       &lt;description&gt;
 1884         Get thread information. The fields of the &lt;datalink id=&quot;jvmtiThreadInfo&quot;/&gt; structure
 1885         are filled in with details of the specified thread.
 1886       &lt;/description&gt;
 1887       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1888       &lt;capabilities&gt;
 1889       &lt;/capabilities&gt;
 1890       &lt;parameters&gt;
 1891         &lt;param id=&quot;thread&quot;&gt;
 1892           &lt;jthread null=&quot;current&quot; impl=&quot;noconvert&quot; started=&quot;maybe&quot;/&gt;
 1893             &lt;description&gt;
 1894               The thread to query.
 1895             &lt;/description&gt;
 1896         &lt;/param&gt;
 1897         &lt;param id=&quot;info_ptr&quot;&gt;
 1898           &lt;outptr&gt;&lt;struct&gt;jvmtiThreadInfo&lt;/struct&gt;&lt;/outptr&gt;
 1899           &lt;description&gt;
 1900             On return, filled with information describing the specified thread.
 1901           &lt;/description&gt;
 1902         &lt;/param&gt;
 1903       &lt;/parameters&gt;
 1904       &lt;errors&gt;
 1905       &lt;/errors&gt;
 1906     &lt;/function&gt;
 1907 
 1908     &lt;function id=&quot;GetOwnedMonitorInfo&quot; num=&quot;10&quot;&gt;
 1909       &lt;synopsis&gt;Get Owned Monitor Info&lt;/synopsis&gt;
 1910       &lt;description&gt;
 1911         Get information about the monitors owned by the
 1912         specified thread.
 1913       &lt;/description&gt;
 1914       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 1915       &lt;capabilities&gt;
 1916         &lt;required id=&quot;can_get_owned_monitor_info&quot;&gt;&lt;/required&gt;
 1917       &lt;/capabilities&gt;
 1918       &lt;parameters&gt;
 1919         &lt;param id=&quot;thread&quot;&gt;
 1920           &lt;jthread null=&quot;current&quot;/&gt;
 1921             &lt;description&gt;
 1922               The thread to query.
 1923             &lt;/description&gt;
 1924         &lt;/param&gt;
 1925         &lt;param id=&quot;owned_monitor_count_ptr&quot;&gt;
 1926           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1927           &lt;description&gt;
 1928             The number of monitors returned.
 1929           &lt;/description&gt;
 1930         &lt;/param&gt;
 1931         &lt;param id=&quot;owned_monitors_ptr&quot;&gt;
 1932           &lt;allocbuf outcount=&quot;owned_monitor_count_ptr&quot;&gt;&lt;jobject/&gt;&lt;/allocbuf&gt;
 1933             &lt;description&gt;
 1934               The array of owned monitors.
 1935             &lt;/description&gt;
 1936         &lt;/param&gt;
 1937       &lt;/parameters&gt;
 1938       &lt;errors&gt;
 1939       &lt;/errors&gt;
 1940     &lt;/function&gt;
 1941 
 1942     &lt;function id=&quot;GetOwnedMonitorStackDepthInfo&quot; num=&quot;153&quot; since=&quot;1.1&quot;&gt;
 1943       &lt;synopsis&gt;Get Owned Monitor Stack Depth Info&lt;/synopsis&gt;
 1944       &lt;typedef id=&quot;jvmtiMonitorStackDepthInfo&quot;
 1945                label=&quot;Monitor stack depth information structure&quot;&gt;
 1946         &lt;field id=&quot;monitor&quot;&gt;
 1947           &lt;jobject/&gt;
 1948             &lt;description&gt;
 1949               The owned monitor.
 1950             &lt;/description&gt;
 1951         &lt;/field&gt;
 1952         &lt;field id=&quot;stack_depth&quot;&gt;
 1953           &lt;jint/&gt;
 1954           &lt;description&gt;
 1955             The stack depth.  Corresponds to the stack depth used in the
 1956             &lt;internallink id=&quot;stack&quot;&gt;Stack Frame functions&lt;/internallink&gt;.
 1957             That is, zero is the current frame, one is the frame which
 1958             called the current frame. And it is negative one if the
 1959             implementation cannot determine the stack depth (e.g., for
 1960             monitors acquired by JNI &lt;code&gt;MonitorEnter&lt;/code&gt;).
 1961           &lt;/description&gt;
 1962         &lt;/field&gt;
 1963       &lt;/typedef&gt;
 1964       &lt;description&gt;
 1965         Get information about the monitors owned by the
 1966         specified thread and the depth of the stack frame which locked them.
 1967       &lt;/description&gt;
 1968       &lt;origin&gt;new&lt;/origin&gt;
 1969       &lt;capabilities&gt;
 1970         &lt;required id=&quot;can_get_owned_monitor_stack_depth_info&quot;&gt;&lt;/required&gt;
 1971       &lt;/capabilities&gt;
 1972       &lt;parameters&gt;
 1973         &lt;param id=&quot;thread&quot;&gt;
 1974           &lt;jthread null=&quot;current&quot;/&gt;
 1975             &lt;description&gt;
 1976               The thread to query.
 1977             &lt;/description&gt;
 1978         &lt;/param&gt;
 1979         &lt;param id=&quot;monitor_info_count_ptr&quot;&gt;
 1980           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1981           &lt;description&gt;
 1982             The number of monitors returned.
 1983           &lt;/description&gt;
 1984         &lt;/param&gt;
 1985         &lt;param id=&quot;monitor_info_ptr&quot;&gt;
 1986           &lt;allocbuf outcount=&quot;monitor_info_count_ptr&quot;&gt;
 1987             &lt;struct&gt;jvmtiMonitorStackDepthInfo&lt;/struct&gt;
 1988           &lt;/allocbuf&gt;
 1989           &lt;description&gt;
 1990             The array of owned monitor depth information.
 1991           &lt;/description&gt;
 1992         &lt;/param&gt;
 1993       &lt;/parameters&gt;
 1994       &lt;errors&gt;
 1995       &lt;/errors&gt;
 1996     &lt;/function&gt;
 1997 
 1998     &lt;function id=&quot;GetCurrentContendedMonitor&quot; num=&quot;11&quot;&gt;
 1999       &lt;synopsis&gt;Get Current Contended Monitor&lt;/synopsis&gt;
 2000       &lt;description&gt;
 2001         Get the object, if any, whose monitor the specified thread is waiting to
 2002         enter or waiting to regain through &lt;code&gt;java.lang.Object.wait&lt;/code&gt;.
 2003       &lt;/description&gt;
 2004       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2005       &lt;capabilities&gt;
 2006         &lt;required id=&quot;can_get_current_contended_monitor&quot;&gt;&lt;/required&gt;
 2007       &lt;/capabilities&gt;
 2008       &lt;parameters&gt;
 2009         &lt;param id=&quot;thread&quot;&gt;
 2010           &lt;jthread null=&quot;current&quot;/&gt;
 2011             &lt;description&gt;
 2012               The thread to query.
 2013             &lt;/description&gt;
 2014         &lt;/param&gt;
 2015         &lt;param id=&quot;monitor_ptr&quot;&gt;
 2016           &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 2017             &lt;description&gt;
 2018               On return, filled with the current contended monitor, or
 2019               NULL if there is none.
 2020             &lt;/description&gt;
 2021         &lt;/param&gt;
 2022       &lt;/parameters&gt;
 2023       &lt;errors&gt;
 2024       &lt;/errors&gt;
 2025     &lt;/function&gt;
 2026 
 2027     &lt;callback id=&quot;jvmtiStartFunction&quot;&gt;
 2028       &lt;void/&gt;
 2029       &lt;synopsis&gt;Agent Start Function&lt;/synopsis&gt;
 2030       &lt;description&gt;
 2031         Agent supplied callback function.
 2032         This function is the entry point for an agent thread
 2033         started with
 2034         &lt;functionlink id=&quot;RunAgentThread&quot;&gt;&lt;/functionlink&gt;.
 2035       &lt;/description&gt;
 2036       &lt;parameters&gt;
 2037           &lt;param id=&quot;jvmti_env&quot;&gt;
 2038             &lt;outptr&gt;
 2039               &lt;struct&gt;jvmtiEnv&lt;/struct&gt;
 2040             &lt;/outptr&gt;
 2041             &lt;description&gt;
 2042               The &lt;jvmti/&gt; environment.
 2043             &lt;/description&gt;
 2044           &lt;/param&gt;
 2045           &lt;param id=&quot;jni_env&quot;&gt;
 2046             &lt;outptr&gt;
 2047               &lt;struct&gt;JNIEnv&lt;/struct&gt;
 2048             &lt;/outptr&gt;
 2049             &lt;description&gt;
 2050               The JNI environment.
 2051             &lt;/description&gt;
 2052           &lt;/param&gt;
 2053           &lt;param id=&quot;arg&quot;&gt;
 2054             &lt;outptr&gt;
 2055               &lt;void/&gt;
 2056             &lt;/outptr&gt;
 2057               &lt;description&gt;
 2058                 The &lt;code&gt;arg&lt;/code&gt; parameter passed to
 2059                 &lt;functionlink id=&quot;RunAgentThread&quot;&gt;&lt;/functionlink&gt;.
 2060               &lt;/description&gt;
 2061           &lt;/param&gt;
 2062       &lt;/parameters&gt;
 2063     &lt;/callback&gt;
 2064 
 2065     &lt;function id=&quot;RunAgentThread&quot; num=&quot;12&quot;&gt;
 2066       &lt;synopsis&gt;Run Agent Thread&lt;/synopsis&gt;
 2067       &lt;description&gt;
 2068         Starts the execution of an agent thread. with the specified native function.
 2069         The parameter &lt;paramlink id=&quot;arg&quot;&gt;&lt;/paramlink&gt; is forwarded on to the
 2070         &lt;functionlink id=&quot;jvmtiStartFunction&quot;&gt;start function&lt;/functionlink&gt;
 2071         (specified with &lt;paramlink id=&quot;proc&quot;&gt;&lt;/paramlink&gt;) as its single argument.
 2072         This function allows the creation of agent threads
 2073         for handling communication with another process or for handling events
 2074         without the need to load a special subclass of &lt;code&gt;java.lang.Thread&lt;/code&gt; or
 2075         implementer of &lt;code&gt;java.lang.Runnable&lt;/code&gt;.
 2076         Instead, the created thread can run entirely in native code.
 2077         However, the created thread does require a newly created instance
 2078         of &lt;code&gt;java.lang.Thread&lt;/code&gt; (referenced by the argument &lt;code&gt;thread&lt;/code&gt;) to
 2079         which it will be associated.
 2080         The thread object can be created with JNI calls.
 2081         &lt;p/&gt;
 2082         The following common thread priorities are provided for your convenience:
 2083         &lt;constants id=&quot;jvmtiThreadPriority&quot; label=&quot;Thread Priority Constants&quot; kind=&quot;const&quot;&gt;
 2084           &lt;constant id=&quot;JVMTI_THREAD_MIN_PRIORITY&quot; num=&quot;1&quot;&gt;
 2085             Minimum possible thread priority
 2086           &lt;/constant&gt;
 2087           &lt;constant id=&quot;JVMTI_THREAD_NORM_PRIORITY&quot; num=&quot;5&quot;&gt;
 2088             Normal thread priority
 2089           &lt;/constant&gt;
 2090           &lt;constant id=&quot;JVMTI_THREAD_MAX_PRIORITY&quot; num=&quot;10&quot;&gt;
 2091             Maximum possible thread priority
 2092           &lt;/constant&gt;
 2093         &lt;/constants&gt;
 2094         &lt;p/&gt;
 2095         The new thread is started as a daemon thread with the specified
 2096         &lt;paramlink id=&quot;priority&quot;&gt;&lt;/paramlink&gt;.
 2097         If enabled, a &lt;eventlink id=&quot;ThreadStart&quot;/&gt; event will be sent.
 2098         &lt;p/&gt;
 2099         Since the thread has been started, the thread will be live when this function
 2100         returns, unless the thread has died immediately.
 2101         &lt;p/&gt;
 2102         The thread group of the thread is ignored -- specifically, the thread is not
 2103         added to the thread group and the thread is not seen on queries of the thread
 2104         group at either the Java programming language or &lt;jvmti/&gt; levels.
 2105         &lt;p/&gt;
 2106         The thread is not visible to Java programming language queries but is
 2107         included in &lt;jvmti/&gt; queries (for example,
 2108         &lt;functionlink id=&quot;GetAllThreads&quot;/&gt; and
 2109         &lt;functionlink id=&quot;GetAllStackTraces&quot;/&gt;).
 2110         &lt;p/&gt;
 2111         Upon execution of &lt;code&gt;proc&lt;/code&gt;, the new thread will be attached to the
 2112         VM -- see the JNI documentation on
 2113         &lt;externallink id=&quot;jni/invocation.html#attaching-to-the-vm&quot;
 2114                       &gt;Attaching to the VM&lt;/externallink&gt;.
 2115       &lt;/description&gt;
 2116       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 2117       &lt;capabilities&gt;
 2118       &lt;/capabilities&gt;
 2119       &lt;parameters&gt;
 2120         &lt;param id=&quot;thread&quot;&gt;
 2121           &lt;jthread impl=&quot;noconvert&quot; started=&quot;no&quot;/&gt;
 2122             &lt;description&gt;
 2123               The thread to run.
 2124             &lt;/description&gt;
 2125         &lt;/param&gt;
 2126         &lt;param id=&quot;proc&quot;&gt;
 2127           &lt;ptrtype&gt;
 2128             &lt;struct&gt;jvmtiStartFunction&lt;/struct&gt;
 2129           &lt;/ptrtype&gt;
 2130           &lt;description&gt;
 2131             The start function.
 2132           &lt;/description&gt;
 2133         &lt;/param&gt;
 2134         &lt;param id=&quot;arg&quot;&gt;
 2135           &lt;inbuf&gt;
 2136             &lt;void/&gt;
 2137             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed to the start function&lt;/nullok&gt;
 2138           &lt;/inbuf&gt;
 2139           &lt;description&gt;
 2140             The argument to the start function.
 2141           &lt;/description&gt;
 2142         &lt;/param&gt;
 2143         &lt;param id=&quot;priority&quot;&gt;
 2144           &lt;jint/&gt;
 2145           &lt;description&gt;
 2146             The priority of the started thread. Any thread
 2147             priority allowed by &lt;code&gt;java.lang.Thread.setPriority&lt;/code&gt; can be used including
 2148             those in &lt;datalink id=&quot;jvmtiThreadPriority&quot;&gt;&lt;/datalink&gt;.
 2149           &lt;/description&gt;
 2150         &lt;/param&gt;
 2151       &lt;/parameters&gt;
 2152       &lt;errors&gt;
 2153         &lt;error id=&quot;JVMTI_ERROR_INVALID_PRIORITY&quot;&gt;
 2154             &lt;paramlink id=&quot;priority&quot;/&gt; is less than
 2155             &lt;datalink id=&quot;JVMTI_THREAD_MIN_PRIORITY&quot;/&gt;
 2156               or greater than
 2157             &lt;datalink id=&quot;JVMTI_THREAD_MAX_PRIORITY&quot;/&gt;
 2158         &lt;/error&gt;
 2159       &lt;/errors&gt;
 2160     &lt;/function&gt;
 2161 
 2162     &lt;function id=&quot;SetThreadLocalStorage&quot; jkernel=&quot;yes&quot; impl=&quot;notrace&quot; phase=&quot;start&quot; num=&quot;103&quot;&gt;
 2163       &lt;synopsis&gt;Set Thread Local Storage&lt;/synopsis&gt;
 2164       &lt;description&gt;
 2165         The VM stores a pointer value associated with each environment-thread
 2166         pair. This pointer value is called &lt;i&gt;thread-local storage&lt;/i&gt;.
 2167         This value is &lt;code&gt;NULL&lt;/code&gt; unless set with this function.
 2168         Agents can allocate memory in which they store thread specific
 2169         information. By setting thread-local storage it can then be
 2170         accessed with
 2171         &lt;functionlink id=&quot;GetThreadLocalStorage&quot;&gt;&lt;/functionlink&gt;.
 2172         &lt;p/&gt;
 2173         This function is called by the agent to set the value of the &lt;jvmti/&gt;
 2174         thread-local storage. &lt;jvmti/&gt; supplies to the agent a pointer-size
 2175         thread-local storage that can be used to record per-thread
 2176         information.
 2177       &lt;/description&gt;
 2178       &lt;origin&gt;jvmpi&lt;/origin&gt;
 2179       &lt;capabilities&gt;
 2180       &lt;/capabilities&gt;
 2181       &lt;parameters&gt;
 2182         &lt;param id=&quot;thread&quot;&gt;
 2183           &lt;jthread null=&quot;current&quot;/&gt;
 2184             &lt;description&gt;
 2185               Store to this thread.
 2186             &lt;/description&gt;
 2187         &lt;/param&gt;
 2188         &lt;param id=&quot;data&quot;&gt;
 2189           &lt;inbuf&gt;
 2190             &lt;void/&gt;
 2191             &lt;nullok&gt;value is set to &lt;code&gt;NULL&lt;/code&gt;&lt;/nullok&gt;
 2192           &lt;/inbuf&gt;
 2193           &lt;description&gt;
 2194             The value to be entered into the thread-local storage.
 2195           &lt;/description&gt;
 2196         &lt;/param&gt;
 2197       &lt;/parameters&gt;
 2198       &lt;errors&gt;
 2199       &lt;/errors&gt;
 2200     &lt;/function&gt;
 2201 
 2202     &lt;function id=&quot;GetThreadLocalStorage&quot; jkernel=&quot;yes&quot; impl=&quot;innative notrace&quot; phase=&quot;start&quot; num=&quot;102&quot;&gt;
 2203       &lt;synopsis&gt;Get Thread Local Storage&lt;/synopsis&gt;
 2204       &lt;description&gt;
 2205         Called by the agent to get the value of the &lt;jvmti/&gt; thread-local
 2206         storage.
 2207       &lt;/description&gt;
 2208       &lt;origin&gt;jvmpi&lt;/origin&gt;
 2209       &lt;capabilities&gt;
 2210       &lt;/capabilities&gt;
 2211       &lt;parameters&gt;
 2212         &lt;param id=&quot;thread&quot;&gt;
 2213           &lt;jthread null=&quot;current&quot; impl=&quot;noconvert&quot;/&gt;
 2214             &lt;description&gt;
 2215               Retrieve from this thread.
 2216             &lt;/description&gt;
 2217         &lt;/param&gt;
 2218         &lt;param id=&quot;data_ptr&quot;&gt;
 2219           &lt;agentbuf&gt;&lt;void/&gt;&lt;/agentbuf&gt;
 2220           &lt;description&gt;
 2221             Pointer through which the value of the thread local
 2222             storage is returned.
 2223             If thread-local storage has not been set with
 2224             &lt;functionlink id=&quot;SetThreadLocalStorage&quot;&gt;&lt;/functionlink&gt; the returned
 2225             pointer is &lt;code&gt;NULL&lt;/code&gt;.
 2226           &lt;/description&gt;
 2227         &lt;/param&gt;
 2228       &lt;/parameters&gt;
 2229       &lt;errors&gt;
 2230       &lt;/errors&gt;
 2231     &lt;/function&gt;
 2232 
 2233   &lt;/category&gt;
 2234 
 2235   &lt;category id=&quot;thread_groups&quot; label=&quot;Thread Group&quot;&gt;
 2236     &lt;intro&gt;
 2237     &lt;/intro&gt;
 2238 
 2239     &lt;function id=&quot;GetTopThreadGroups&quot; num=&quot;13&quot;&gt;
 2240       &lt;synopsis&gt;Get Top Thread Groups&lt;/synopsis&gt;
 2241       &lt;description&gt;
 2242         Return all top-level (parentless) thread groups in the VM.
 2243       &lt;/description&gt;
 2244       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2245       &lt;capabilities&gt;
 2246       &lt;/capabilities&gt;
 2247       &lt;parameters&gt;
 2248         &lt;param id=&quot;group_count_ptr&quot;&gt;
 2249           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2250           &lt;description&gt;
 2251             On return, points to the number of top-level thread groups.
 2252           &lt;/description&gt;
 2253         &lt;/param&gt;
 2254         &lt;param id=&quot;groups_ptr&quot;&gt;
 2255           &lt;allocbuf outcount=&quot;group_count_ptr&quot;&gt;&lt;jthreadGroup/&gt;&lt;/allocbuf&gt;
 2256             &lt;description&gt;
 2257               On return, refers to a pointer to the top-level thread group array.
 2258             &lt;/description&gt;
 2259         &lt;/param&gt;
 2260       &lt;/parameters&gt;
 2261       &lt;errors&gt;
 2262       &lt;/errors&gt;
 2263     &lt;/function&gt;
 2264 
 2265     &lt;function id=&quot;GetThreadGroupInfo&quot; num=&quot;14&quot;&gt;
 2266       &lt;synopsis&gt;Get Thread Group Info&lt;/synopsis&gt;
 2267       &lt;typedef id=&quot;jvmtiThreadGroupInfo&quot; label=&quot;Thread group information structure&quot;&gt;
 2268         &lt;field id=&quot;parent&quot;&gt;
 2269           &lt;jthreadGroup/&gt;
 2270           &lt;description&gt;
 2271             The parent thread group.
 2272           &lt;/description&gt;
 2273         &lt;/field&gt;
 2274         &lt;field id=&quot;name&quot;&gt;
 2275           &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 2276           &lt;description&gt;
 2277             The thread group&#39;s name, encoded as a
 2278             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 2279           &lt;/description&gt;
 2280         &lt;/field&gt;
 2281         &lt;field id=&quot;max_priority&quot;&gt;
 2282           &lt;jint/&gt;
 2283           &lt;description&gt;
 2284             The maximum priority for this thread group.
 2285           &lt;/description&gt;
 2286         &lt;/field&gt;
 2287         &lt;field id=&quot;is_daemon&quot;&gt;
 2288           &lt;jboolean/&gt;
 2289           &lt;description&gt;
 2290             Is this a daemon thread group?
 2291           &lt;/description&gt;
 2292         &lt;/field&gt;
 2293       &lt;/typedef&gt;
 2294       &lt;description&gt;
 2295         Get information about the thread group. The fields of the
 2296         &lt;functionlink id=&quot;jvmtiThreadGroupInfo&quot;&gt;&lt;/functionlink&gt; structure
 2297         are filled in with details of the specified thread group.
 2298       &lt;/description&gt;
 2299       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2300       &lt;capabilities&gt;
 2301       &lt;/capabilities&gt;
 2302       &lt;parameters&gt;
 2303         &lt;param id=&quot;group&quot;&gt;
 2304           &lt;jthreadGroup/&gt;
 2305           &lt;description&gt;
 2306             The thread group to query.
 2307           &lt;/description&gt;
 2308         &lt;/param&gt;
 2309         &lt;param id=&quot;info_ptr&quot;&gt;
 2310           &lt;outptr&gt;&lt;struct&gt;jvmtiThreadGroupInfo&lt;/struct&gt;&lt;/outptr&gt;
 2311           &lt;description&gt;
 2312             On return, filled with information describing the specified
 2313             thread group.
 2314           &lt;/description&gt;
 2315         &lt;/param&gt;
 2316       &lt;/parameters&gt;
 2317       &lt;errors&gt;
 2318       &lt;/errors&gt;
 2319     &lt;/function&gt;
 2320 
 2321     &lt;function id=&quot;GetThreadGroupChildren&quot; num=&quot;15&quot;&gt;
 2322       &lt;synopsis&gt;Get Thread Group Children&lt;/synopsis&gt;
 2323       &lt;description&gt;
 2324         Get the live threads and active subgroups in this thread group.
 2325       &lt;/description&gt;
 2326       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2327       &lt;capabilities&gt;
 2328       &lt;/capabilities&gt;
 2329       &lt;parameters&gt;
 2330         &lt;param id=&quot;group&quot;&gt;
 2331           &lt;jthreadGroup/&gt;
 2332           &lt;description&gt;
 2333             The group to query.
 2334           &lt;/description&gt;
 2335         &lt;/param&gt;
 2336         &lt;param id=&quot;thread_count_ptr&quot;&gt;
 2337           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2338           &lt;description&gt;
 2339             On return, points to the number of live threads in this thread group.
 2340           &lt;/description&gt;
 2341         &lt;/param&gt;
 2342         &lt;param id=&quot;threads_ptr&quot;&gt;
 2343           &lt;allocbuf outcount=&quot;thread_count_ptr&quot;&gt;&lt;jthread/&gt;&lt;/allocbuf&gt;
 2344             &lt;description&gt;
 2345               On return, points to an array of the live threads in this thread group.
 2346             &lt;/description&gt;
 2347         &lt;/param&gt;
 2348         &lt;param id=&quot;group_count_ptr&quot;&gt;
 2349           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2350           &lt;description&gt;
 2351             On return, points to the number of active child thread groups
 2352           &lt;/description&gt;
 2353         &lt;/param&gt;
 2354         &lt;param id=&quot;groups_ptr&quot;&gt;
 2355           &lt;allocbuf outcount=&quot;group_count_ptr&quot;&gt;&lt;jthreadGroup/&gt;&lt;/allocbuf&gt;
 2356             &lt;description&gt;
 2357               On return, points to an array of the active child thread groups.
 2358             &lt;/description&gt;
 2359         &lt;/param&gt;
 2360       &lt;/parameters&gt;
 2361       &lt;errors&gt;
 2362       &lt;/errors&gt;
 2363     &lt;/function&gt;
 2364   &lt;/category&gt;
 2365 
 2366   &lt;category id=&quot;stack&quot; label=&quot;Stack Frame&quot;&gt;
 2367     &lt;intro&gt;
 2368         These functions provide information about the stack of a thread.
 2369         Stack frames are referenced by depth.
 2370         The frame at depth zero is the current frame.
 2371         &lt;p/&gt;
 2372         Stack frames are as described in
 2373         &lt;vmspec chapter=&quot;3.6&quot;/&gt;,
 2374         That is, they correspond to method
 2375         invocations (including native methods) but do not correspond to platform native or
 2376         VM internal frames.
 2377         &lt;p/&gt;
 2378         A &lt;jvmti/&gt; implementation may use method invocations to launch a thread and
 2379         the corresponding frames may be included in the stack as presented by these functions --
 2380         that is, there may be frames shown
 2381         deeper than &lt;code&gt;main()&lt;/code&gt; and &lt;code&gt;run()&lt;/code&gt;.
 2382         However this presentation must be consistent across all &lt;jvmti/&gt; functionality which
 2383         uses stack frames or stack depth.
 2384     &lt;/intro&gt;
 2385 
 2386       &lt;typedef id=&quot;jvmtiFrameInfo&quot; label=&quot;Stack frame information structure&quot;&gt;
 2387         &lt;description&gt;
 2388           Information about a stack frame is returned in this structure.
 2389         &lt;/description&gt;
 2390         &lt;field id=&quot;method&quot;&gt;
 2391           &lt;jmethodID/&gt;
 2392             &lt;description&gt;
 2393               The method executing in this frame.
 2394             &lt;/description&gt;
 2395         &lt;/field&gt;
 2396         &lt;field id=&quot;location&quot;&gt;
 2397           &lt;jlocation/&gt;
 2398           &lt;description&gt;
 2399             The index of the instruction executing in this frame.
 2400             &lt;code&gt;-1&lt;/code&gt; if the frame is executing a native method.
 2401           &lt;/description&gt;
 2402         &lt;/field&gt;
 2403       &lt;/typedef&gt;
 2404 
 2405       &lt;typedef id=&quot;jvmtiStackInfo&quot; label=&quot;Stack information structure&quot;&gt;
 2406         &lt;description&gt;
 2407           Information about a set of stack frames is returned in this structure.
 2408         &lt;/description&gt;
 2409         &lt;field id=&quot;thread&quot;&gt;
 2410           &lt;jthread/&gt;
 2411           &lt;description&gt;
 2412             On return, the thread traced.
 2413           &lt;/description&gt;
 2414         &lt;/field&gt;
 2415         &lt;field id=&quot;state&quot;&gt;
 2416           &lt;jint/&gt;
 2417           &lt;description&gt;
 2418             On return, the thread state. See &lt;functionlink id=&quot;GetThreadState&quot;&gt;&lt;/functionlink&gt;.
 2419           &lt;/description&gt;
 2420         &lt;/field&gt;
 2421         &lt;field id=&quot;frame_buffer&quot;&gt;
 2422           &lt;outbuf incount=&quot;max_frame_count&quot;&gt;
 2423             &lt;struct&gt;jvmtiFrameInfo&lt;/struct&gt;
 2424           &lt;/outbuf&gt;
 2425             &lt;description&gt;
 2426               On return, this agent allocated buffer is filled
 2427               with stack frame information.
 2428             &lt;/description&gt;
 2429         &lt;/field&gt;
 2430         &lt;field id=&quot;frame_count&quot;&gt;
 2431           &lt;jint/&gt;
 2432           &lt;description&gt;
 2433             On return, the number of records filled into
 2434             &lt;code&gt;frame_buffer&lt;/code&gt;.
 2435             This will be
 2436             min(&lt;code&gt;max_frame_count&lt;/code&gt;, &lt;i&gt;stackDepth&lt;/i&gt;).
 2437           &lt;/description&gt;
 2438         &lt;/field&gt;
 2439       &lt;/typedef&gt;
 2440 
 2441     &lt;function id=&quot;GetStackTrace&quot; num=&quot;104&quot;&gt;
 2442       &lt;synopsis&gt;Get Stack Trace&lt;/synopsis&gt;
 2443       &lt;description&gt;
 2444         Get information about the stack of a thread.
 2445         If &lt;paramlink id=&quot;max_frame_count&quot;&gt;&lt;/paramlink&gt; is less than the depth of the stack,
 2446         the &lt;paramlink id=&quot;max_frame_count&quot;&gt;&lt;/paramlink&gt; topmost frames are returned,
 2447         otherwise the entire stack is returned.
 2448         The topmost frames, those most recently invoked, are at the beginning of the returned buffer.
 2449         &lt;p/&gt;
 2450         The following example causes up to five of the topmost frames
 2451         to be returned and (if there are any frames) the currently
 2452         executing method name to be printed.
 2453         &lt;example&gt;
 2454 jvmtiFrameInfo frames[5];
 2455 jint count;
 2456 jvmtiError err;
 2457 
 2458 err = (*jvmti)-&amp;gt;GetStackTrace(jvmti, aThread, 0, 5,
 2459                                frames, &amp;amp;count);
 2460 if (err == JVMTI_ERROR_NONE &amp;amp;&amp;amp; count &amp;gt;= 1) {
 2461    char *methodName;
 2462    err = (*jvmti)-&amp;gt;GetMethodName(jvmti, frames[0].method,
 2463                        &amp;amp;methodName, NULL, NULL);
 2464    if (err == JVMTI_ERROR_NONE) {
 2465       printf(&quot;Executing method: %s&quot;, methodName);
 2466    }
 2467 }
 2468         &lt;/example&gt;
 2469         &lt;todo&gt;
 2470           check example code.
 2471         &lt;/todo&gt;
 2472         &lt;p/&gt;
 2473         The &lt;paramlink id=&quot;thread&quot;&gt;&lt;/paramlink&gt; need not be suspended
 2474         to call this function.
 2475         &lt;p/&gt;
 2476         The &lt;functionlink id=&quot;GetLineNumberTable&quot;&gt;&lt;/functionlink&gt;
 2477         function can be used to map locations to line numbers. Note that
 2478         this mapping can be done lazily.
 2479       &lt;/description&gt;
 2480       &lt;origin&gt;jvmpi&lt;/origin&gt;
 2481       &lt;capabilities&gt;
 2482       &lt;/capabilities&gt;
 2483       &lt;parameters&gt;
 2484         &lt;param id=&quot;thread&quot;&gt;
 2485           &lt;jthread null=&quot;current&quot;/&gt;
 2486             &lt;description&gt;
 2487               Fetch the stack trace of this thread.
 2488             &lt;/description&gt;
 2489         &lt;/param&gt;
 2490         &lt;param id=&quot;start_depth&quot;&gt;
 2491           &lt;jint/&gt;
 2492           &lt;description&gt;
 2493             Begin retrieving frames at this depth.
 2494             If non-negative, count from the current frame,
 2495             the first frame retrieved is at depth &lt;code&gt;start_depth&lt;/code&gt;.
 2496             For example, if zero, start from the current frame; if one, start from the
 2497             caller of the current frame; if two, start from the caller of the
 2498             caller of the current frame; and so on.
 2499             If negative, count from below the oldest frame,
 2500             the first frame retrieved is at depth &lt;i&gt;stackDepth&lt;/i&gt;&lt;code&gt; + start_depth&lt;/code&gt;,
 2501             where &lt;i&gt;stackDepth&lt;/i&gt; is the count of frames on the stack.
 2502             For example, if negative one, only the oldest frame is retrieved;
 2503             if negative two, start from the frame called by the oldest frame.
 2504           &lt;/description&gt;
 2505         &lt;/param&gt;
 2506         &lt;param id=&quot;max_frame_count&quot;&gt;
 2507           &lt;jint min=&quot;0&quot;/&gt;
 2508           &lt;description&gt;
 2509             The maximum number of &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt; records to retrieve.
 2510           &lt;/description&gt;
 2511         &lt;/param&gt;
 2512         &lt;param id=&quot;frame_buffer&quot;&gt;
 2513           &lt;outbuf incount=&quot;max_frame_count&quot; outcount=&quot;count_ptr&quot;&gt;
 2514             &lt;struct&gt;jvmtiFrameInfo&lt;/struct&gt;
 2515           &lt;/outbuf&gt;
 2516             &lt;description&gt;
 2517               On return, this agent allocated buffer is filled
 2518               with stack frame information.
 2519             &lt;/description&gt;
 2520         &lt;/param&gt;
 2521         &lt;param id=&quot;count_ptr&quot;&gt;
 2522           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2523           &lt;description&gt;
 2524             On return, points to the number of records filled in.
 2525             For non-negative &lt;code&gt;start_depth&lt;/code&gt;, this will be
 2526             min(&lt;code&gt;max_frame_count&lt;/code&gt;, &lt;i&gt;stackDepth&lt;/i&gt;&lt;code&gt; - start_depth&lt;/code&gt;).
 2527             For negative &lt;code&gt;start_depth&lt;/code&gt;, this will be
 2528             min(&lt;code&gt;max_frame_count&lt;/code&gt;, &lt;code&gt;-start_depth&lt;/code&gt;).
 2529           &lt;/description&gt;
 2530         &lt;/param&gt;
 2531       &lt;/parameters&gt;
 2532       &lt;errors&gt;
 2533         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 2534           &lt;paramlink id=&quot;start_depth&quot;/&gt; is positive and greater than or equal to &lt;i&gt;stackDepth&lt;/i&gt;.
 2535           Or &lt;paramlink id=&quot;start_depth&quot;/&gt; is negative and less than &lt;i&gt;-stackDepth&lt;/i&gt;.
 2536         &lt;/error&gt;
 2537       &lt;/errors&gt;
 2538     &lt;/function&gt;
 2539 
 2540 
 2541     &lt;function id=&quot;GetAllStackTraces&quot; num=&quot;100&quot;&gt;
 2542       &lt;synopsis&gt;Get All Stack Traces&lt;/synopsis&gt;
 2543       &lt;description&gt;
 2544         Get information about the stacks of all live threads
 2545         (including &lt;internallink id=&quot;RunAgentThread&quot;&gt;agent threads&lt;/internallink&gt;).
 2546         If &lt;paramlink id=&quot;max_frame_count&quot;/&gt; is less than the depth of a stack,
 2547         the &lt;paramlink id=&quot;max_frame_count&quot;/&gt; topmost frames are returned for that thread,
 2548         otherwise the entire stack is returned.
 2549         The topmost frames, those most recently invoked, are at the beginning of the returned buffer.
 2550         &lt;p/&gt;
 2551         All stacks are collected simultaneously, that is, no changes will occur to the
 2552         thread state or stacks between the sampling of one thread and the next.
 2553         The threads need not be suspended.
 2554 
 2555         &lt;example&gt;
 2556 jvmtiStackInfo *stack_info;
 2557 jint thread_count;
 2558 int ti;
 2559 jvmtiError err;
 2560 
 2561 err = (*jvmti)-&amp;gt;GetAllStackTraces(jvmti, MAX_FRAMES, &amp;amp;stack_info, &amp;amp;thread_count);
 2562 if (err != JVMTI_ERROR_NONE) {
 2563    ...
 2564 }
 2565 for (ti = 0; ti &amp;lt; thread_count; ++ti) {
 2566    jvmtiStackInfo *infop = &amp;amp;stack_info[ti];
 2567    jthread thread = infop-&amp;gt;thread;
 2568    jint state = infop-&amp;gt;state;
 2569    jvmtiFrameInfo *frames = infop-&amp;gt;frame_buffer;
 2570    int fi;
 2571 
 2572    myThreadAndStatePrinter(thread, state);
 2573    for (fi = 0; fi &amp;lt; infop-&amp;gt;frame_count; fi++) {
 2574       myFramePrinter(frames[fi].method, frames[fi].location);
 2575    }
 2576 }
 2577 /* this one Deallocate call frees all data allocated by GetAllStackTraces */
 2578 err = (*jvmti)-&amp;gt;Deallocate(jvmti, stack_info);
 2579         &lt;/example&gt;
 2580         &lt;todo&gt;
 2581           check example code.
 2582         &lt;/todo&gt;
 2583 
 2584       &lt;/description&gt;
 2585       &lt;origin&gt;new&lt;/origin&gt;
 2586       &lt;capabilities&gt;
 2587       &lt;/capabilities&gt;
 2588       &lt;parameters&gt;
 2589         &lt;param id=&quot;max_frame_count&quot;&gt;
 2590           &lt;jint min=&quot;0&quot;/&gt;
 2591           &lt;description&gt;
 2592             The maximum number of &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt; records to retrieve per thread.
 2593           &lt;/description&gt;
 2594         &lt;/param&gt;
 2595         &lt;param id=&quot;stack_info_ptr&quot;&gt;
 2596           &lt;allocbuf&gt;
 2597             &lt;struct&gt;jvmtiStackInfo&lt;/struct&gt;
 2598           &lt;/allocbuf&gt;
 2599             &lt;description&gt;
 2600               On return, this buffer is filled
 2601               with stack information for each thread.
 2602               The number of &lt;datalink id=&quot;jvmtiStackInfo&quot;/&gt; records is determined
 2603               by &lt;paramlink id=&quot;thread_count_ptr&quot;/&gt;.
 2604               &lt;p/&gt;
 2605               Note that this buffer is allocated to include the &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt;
 2606               buffers pointed to by &lt;datalink id=&quot;jvmtiStackInfo.frame_buffer&quot;/&gt;.
 2607               These buffers must not be separately deallocated.
 2608             &lt;/description&gt;
 2609         &lt;/param&gt;
 2610         &lt;param id=&quot;thread_count_ptr&quot;&gt;
 2611           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2612           &lt;description&gt;
 2613             The number of threads traced.
 2614           &lt;/description&gt;
 2615         &lt;/param&gt;
 2616       &lt;/parameters&gt;
 2617       &lt;errors&gt;
 2618       &lt;/errors&gt;
 2619     &lt;/function&gt;
 2620 
 2621     &lt;function id=&quot;GetThreadListStackTraces&quot; num=&quot;101&quot;&gt;
 2622       &lt;synopsis&gt;Get Thread List Stack Traces&lt;/synopsis&gt;
 2623       &lt;description&gt;
 2624         Get information about the stacks of the supplied threads.
 2625         If &lt;paramlink id=&quot;max_frame_count&quot;/&gt; is less than the depth of a stack,
 2626         the &lt;paramlink id=&quot;max_frame_count&quot;/&gt; topmost frames are returned for that thread,
 2627         otherwise the entire stack is returned.
 2628         The topmost frames, those most recently invoked, are at the beginning of the returned buffer.
 2629         &lt;p/&gt;
 2630         All stacks are collected simultaneously, that is, no changes will occur to the
 2631         thread state or stacks between the sampling one thread and the next.
 2632         The threads need not be suspended.
 2633         &lt;p/&gt;
 2634         If a thread has not yet started or terminates before the stack information is collected,
 2635         a zero length stack (&lt;datalink id=&quot;jvmtiStackInfo.frame_count&quot;/&gt; will be zero)
 2636         will be returned and the thread &lt;datalink id=&quot;jvmtiStackInfo.state&quot;/&gt; can be checked.
 2637         &lt;p/&gt;
 2638         See the example for the similar function
 2639         &lt;functionlink id=&quot;GetAllStackTraces&quot;/&gt;.
 2640       &lt;/description&gt;
 2641       &lt;origin&gt;new&lt;/origin&gt;
 2642       &lt;capabilities&gt;
 2643       &lt;/capabilities&gt;
 2644       &lt;parameters&gt;
 2645         &lt;param id=&quot;thread_count&quot;&gt;
 2646           &lt;jint min=&quot;0&quot;/&gt;
 2647           &lt;description&gt;
 2648             The number of threads to trace.
 2649           &lt;/description&gt;
 2650         &lt;/param&gt;
 2651         &lt;param id=&quot;thread_list&quot;&gt;
 2652           &lt;inbuf incount=&quot;thread_count&quot;&gt;&lt;jthread/&gt;&lt;/inbuf&gt;
 2653             &lt;description&gt;
 2654               The list of threads to trace.
 2655             &lt;/description&gt;
 2656         &lt;/param&gt;
 2657         &lt;param id=&quot;max_frame_count&quot;&gt;
 2658           &lt;jint min=&quot;0&quot;/&gt;
 2659           &lt;description&gt;
 2660             The maximum number of &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt; records to retrieve per thread.
 2661           &lt;/description&gt;
 2662         &lt;/param&gt;
 2663         &lt;param id=&quot;stack_info_ptr&quot;&gt;
 2664           &lt;allocbuf outcount=&quot;thread_count&quot;&gt;
 2665             &lt;struct&gt;jvmtiStackInfo&lt;/struct&gt;
 2666           &lt;/allocbuf&gt;
 2667             &lt;description&gt;
 2668               On return, this buffer is filled
 2669               with stack information for each thread.
 2670               The number of &lt;datalink id=&quot;jvmtiStackInfo&quot;/&gt; records is determined
 2671               by &lt;paramlink id=&quot;thread_count&quot;/&gt;.
 2672               &lt;p/&gt;
 2673               Note that this buffer is allocated to include the &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt;
 2674               buffers pointed to by &lt;datalink id=&quot;jvmtiStackInfo.frame_buffer&quot;/&gt;.
 2675               These buffers must not be separately deallocated.
 2676             &lt;/description&gt;
 2677         &lt;/param&gt;
 2678       &lt;/parameters&gt;
 2679       &lt;errors&gt;
 2680         &lt;error id=&quot;JVMTI_ERROR_INVALID_THREAD&quot;&gt;
 2681           An element in &lt;paramlink id=&quot;thread_list&quot;/&gt; is not a thread object.
 2682         &lt;/error&gt;
 2683       &lt;/errors&gt;
 2684     &lt;/function&gt;
 2685 
 2686     &lt;elide&gt;
 2687     &lt;function id=&quot;AsyncGetStackTrace&quot; num=&quot;1000&quot;&gt;
 2688       &lt;synopsis&gt;Get Stack Trace--Asynchronous&lt;/synopsis&gt;
 2689       &lt;description&gt;
 2690         Get information about the entire stack of a thread (or a sub-section of it).
 2691         This is the asynchronous version of &lt;functionlink id=&quot;GetStackTrace&quot;&gt;&lt;/functionlink&gt;
 2692         and is reentrant and safe to call
 2693         from asynchronous signal handlers.
 2694         The stack trace is returned only for the calling thread.
 2695         &lt;p/&gt;
 2696         The &lt;functionlink id=&quot;GetLineNumberTable&quot;&gt;&lt;/functionlink&gt;
 2697         function can be used to map locations to line numbers. Note that
 2698         this mapping can be done lazily.
 2699       &lt;/description&gt;
 2700       &lt;origin&gt;jvmpi&lt;/origin&gt;
 2701       &lt;capabilities&gt;
 2702         &lt;required id=&quot;can_get_async_stack_trace&quot;&gt;&lt;/required&gt;
 2703         &lt;capability id=&quot;can_show_JVM_spec_async_frames&quot;&gt;
 2704           If &lt;code&gt;false&lt;/code&gt;,
 2705           &lt;paramlink id=&quot;use_java_stack&quot;&gt;&lt;/paramlink&gt;
 2706           must be &lt;code&gt;false&lt;/code&gt;.
 2707         &lt;/capability&gt;
 2708       &lt;/capabilities&gt;
 2709       &lt;parameters&gt;
 2710         &lt;param id=&quot;use_java_stack&quot;&gt;
 2711           &lt;jboolean/&gt;
 2712           &lt;description&gt;
 2713             Return the stack showing &lt;vmspec/&gt;
 2714             model of the stack;
 2715             otherwise, show the internal representation of the stack with
 2716             inlined and optimized methods missing.  If the virtual machine
 2717             is using the &lt;i&gt;Java Virtual Machine Specification&lt;/i&gt; stack model
 2718             internally, this flag is ignored.
 2719           &lt;/description&gt;
 2720         &lt;/param&gt;
 2721         &lt;param id=&quot;max_count&quot;&gt;
 2722           &lt;jint min=&quot;0&quot;/&gt;
 2723           &lt;description&gt;
 2724             The maximum number of &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt; records to retrieve.
 2725             Retrieve this many unless the stack depth is less than &lt;code&gt;max_count&lt;/code&gt;.
 2726           &lt;/description&gt;
 2727         &lt;/param&gt;
 2728         &lt;param id=&quot;frame_buffer&quot;&gt;
 2729           &lt;outbuf incount=&quot;max_count&quot; outcount=&quot;count_ptr&quot;&gt;
 2730             &lt;struct&gt;jvmtiFrameInfo&lt;/struct&gt;
 2731             &lt;nullok&gt;this information is not returned&lt;/nullok&gt;
 2732           &lt;/outbuf&gt;
 2733             &lt;description&gt;
 2734               The agent passes in a buffer
 2735               large enough to hold &lt;code&gt;max_count&lt;/code&gt; records of
 2736               &lt;datalink id=&quot;jvmtiFrameInfo&quot;&gt;&lt;/datalink&gt;.  This buffer must be
 2737               pre-allocated by the agent.
 2738             &lt;/description&gt;
 2739         &lt;/param&gt;
 2740         &lt;param id=&quot;count_ptr&quot;&gt;
 2741           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2742           &lt;description&gt;
 2743             On return, points to the number of records filled in..
 2744           &lt;/description&gt;
 2745         &lt;/param&gt;
 2746       &lt;/parameters&gt;
 2747       &lt;errors&gt;
 2748         &lt;error id=&quot;JVMTI_ERROR_UNATTACHED_THREAD&quot;&gt;
 2749           The thread being used to call this function is not attached
 2750           to the virtual machine.  Calls must be made from attached threads.
 2751         &lt;/error&gt;
 2752       &lt;/errors&gt;
 2753     &lt;/function&gt;
 2754     &lt;/elide&gt;
 2755 
 2756     &lt;function id=&quot;GetFrameCount&quot; num=&quot;16&quot;&gt;
 2757       &lt;synopsis&gt;Get Frame Count&lt;/synopsis&gt;
 2758       &lt;description&gt;
 2759         Get the number of frames currently in the specified thread&#39;s call stack.
 2760         &lt;p/&gt;
 2761         If this function is called for a thread actively executing bytecodes (for example,
 2762         not the current thread and not suspended), the information returned is transient.
 2763       &lt;/description&gt;
 2764       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2765       &lt;capabilities&gt;
 2766       &lt;/capabilities&gt;
 2767       &lt;parameters&gt;
 2768         &lt;param id=&quot;thread&quot;&gt;
 2769           &lt;jthread null=&quot;current&quot;/&gt;
 2770             &lt;description&gt;
 2771               The thread to query.
 2772             &lt;/description&gt;
 2773         &lt;/param&gt;
 2774         &lt;param id=&quot;count_ptr&quot;&gt;
 2775           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2776           &lt;description&gt;
 2777             On return, points to the number of frames in the call stack.
 2778           &lt;/description&gt;
 2779         &lt;/param&gt;
 2780       &lt;/parameters&gt;
 2781       &lt;errors&gt;
 2782       &lt;/errors&gt;
 2783     &lt;/function&gt;
 2784 
 2785     &lt;function id=&quot;PopFrame&quot; num=&quot;80&quot;&gt;
 2786       &lt;synopsis&gt;Pop Frame&lt;/synopsis&gt;
 2787       &lt;description&gt;
 2788         Pop the current frame of &lt;code&gt;thread&lt;/code&gt;&#39;s stack.
 2789         Popping a frame takes you to the previous frame.
 2790         When the thread is resumed, the execution
 2791         state of the thread is reset to the state
 2792         immediately before the called method was invoked.
 2793         That is (using &lt;vmspec/&gt; terminology):
 2794           &lt;ul&gt;
 2795             &lt;li&gt;the current frame is discarded as the previous frame becomes the current one&lt;/li&gt;
 2796             &lt;li&gt;the operand stack is restored--the argument values are added back
 2797               and if the invoke was not &lt;code&gt;invokestatic&lt;/code&gt;,
 2798               &lt;code&gt;objectref&lt;/code&gt; is added back as well&lt;/li&gt;
 2799             &lt;li&gt;the Java virtual machine PC is restored to the opcode
 2800               of the invoke instruction&lt;/li&gt;
 2801           &lt;/ul&gt;
 2802         Note however, that any changes to the arguments, which
 2803         occurred in the called method, remain;
 2804         when execution continues, the first instruction to
 2805         execute will be the invoke.
 2806         &lt;p/&gt;
 2807         Between calling &lt;code&gt;PopFrame&lt;/code&gt; and resuming the
 2808         thread the state of the stack is undefined.
 2809         To pop frames beyond the first,
 2810         these three steps must be repeated:
 2811         &lt;ul&gt;
 2812           &lt;li&gt;suspend the thread via an event (step, breakpoint, ...)&lt;/li&gt;
 2813           &lt;li&gt;call &lt;code&gt;PopFrame&lt;/code&gt;&lt;/li&gt;
 2814           &lt;li&gt;resume the thread&lt;/li&gt;
 2815         &lt;/ul&gt;
 2816         &lt;p/&gt;
 2817         A lock acquired by calling the called method
 2818         (if it is a &lt;code&gt;synchronized&lt;/code&gt;  method)
 2819         and locks acquired by entering &lt;code&gt;synchronized&lt;/code&gt;
 2820         blocks within the called method are released.
 2821         Note: this does not apply to native locks or
 2822         &lt;code&gt;java.util.concurrent.locks&lt;/code&gt; locks.
 2823         &lt;p/&gt;
 2824         Finally blocks are not executed.
 2825         &lt;p/&gt;
 2826         Changes to global state are not addressed and thus remain changed.
 2827         &lt;p/&gt;
 2828         The specified thread must be suspended or must be the current thread.
 2829         &lt;p/&gt;
 2830         Both the called method and calling method must be non-native Java programming
 2831         language methods.
 2832         &lt;p/&gt;
 2833         No &lt;jvmti/&gt; events are generated by this function.
 2834       &lt;/description&gt;
 2835       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2836       &lt;capabilities&gt;
 2837         &lt;required id=&quot;can_pop_frame&quot;&gt;&lt;/required&gt;
 2838       &lt;/capabilities&gt;
 2839       &lt;parameters&gt;
 2840         &lt;param id=&quot;thread&quot;&gt;
 2841           &lt;jthread/&gt;
 2842             &lt;description&gt;
 2843               The thread whose current frame is to be popped.
 2844             &lt;/description&gt;
 2845         &lt;/param&gt;
 2846       &lt;/parameters&gt;
 2847       &lt;errors&gt;
 2848         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 2849           Called or calling method is a native method.
 2850           The implementation is unable to pop this frame.
 2851         &lt;/error&gt;
 2852         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 2853           Thread was not suspended and was not the current thread.
 2854         &lt;/error&gt;
 2855         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 2856           There are less than two stack frames on the call stack.
 2857         &lt;/error&gt;
 2858       &lt;/errors&gt;
 2859     &lt;/function&gt;
 2860 
 2861     &lt;function id=&quot;GetFrameLocation&quot; num=&quot;19&quot;&gt;
 2862       &lt;synopsis&gt;Get Frame Location&lt;/synopsis&gt;
 2863       &lt;description&gt;
 2864         &lt;p/&gt;
 2865         For a Java programming language frame, return the location of the instruction
 2866         currently executing.
 2867       &lt;/description&gt;
 2868       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 2869       &lt;capabilities&gt;
 2870       &lt;/capabilities&gt;
 2871       &lt;parameters&gt;
 2872         &lt;param id=&quot;thread&quot;&gt;
 2873           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 2874           &lt;description&gt;
 2875             The thread of the frame to query.
 2876           &lt;/description&gt;
 2877         &lt;/param&gt;
 2878         &lt;param id=&quot;depth&quot;&gt;
 2879           &lt;jframeID thread=&quot;thread&quot;/&gt;
 2880           &lt;description&gt;
 2881             The depth of the frame to query.
 2882           &lt;/description&gt;
 2883         &lt;/param&gt;
 2884         &lt;param id=&quot;method_ptr&quot;&gt;
 2885           &lt;outptr&gt;&lt;jmethodID/&gt;&lt;/outptr&gt;
 2886             &lt;description&gt;
 2887               On return, points to the method for the current location.
 2888             &lt;/description&gt;
 2889         &lt;/param&gt;
 2890         &lt;param id=&quot;location_ptr&quot;&gt;
 2891           &lt;outptr&gt;&lt;jlocation/&gt;&lt;/outptr&gt;
 2892           &lt;description&gt;
 2893             On return, points to the index of the currently
 2894             executing instruction.
 2895             Is set to &lt;code&gt;-1&lt;/code&gt; if the frame is executing
 2896             a native method.
 2897           &lt;/description&gt;
 2898         &lt;/param&gt;
 2899       &lt;/parameters&gt;
 2900       &lt;errors&gt;
 2901       &lt;/errors&gt;
 2902     &lt;/function&gt;
 2903 
 2904     &lt;function id=&quot;NotifyFramePop&quot; num=&quot;20&quot;&gt;
 2905       &lt;synopsis&gt;Notify Frame Pop&lt;/synopsis&gt;
 2906       &lt;description&gt;
 2907         When the frame that is currently at &lt;paramlink id=&quot;depth&quot;&gt;&lt;/paramlink&gt;
 2908         is popped from the stack, generate a
 2909         &lt;eventlink id=&quot;FramePop&quot;&gt;&lt;/eventlink&gt; event.  See the
 2910         &lt;eventlink id=&quot;FramePop&quot;&gt;&lt;/eventlink&gt; event for details.
 2911         Only frames corresponding to non-native Java programming language
 2912         methods can receive notification.
 2913         &lt;p/&gt;
 2914         The specified thread must be suspended or must be the current thread.
 2915       &lt;/description&gt;
 2916       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2917       &lt;capabilities&gt;
 2918         &lt;required id=&quot;can_generate_frame_pop_events&quot;&gt;&lt;/required&gt;
 2919       &lt;/capabilities&gt;
 2920       &lt;parameters&gt;
 2921         &lt;param id=&quot;thread&quot;&gt;
 2922           &lt;jthread null=&quot;current&quot; frame=&quot;depth&quot;/&gt;
 2923           &lt;description&gt;
 2924             The thread of the frame for which the frame pop event will be generated.
 2925           &lt;/description&gt;
 2926         &lt;/param&gt;
 2927         &lt;param id=&quot;depth&quot;&gt;
 2928           &lt;jframeID thread=&quot;thread&quot;/&gt;
 2929           &lt;description&gt;
 2930             The depth of the frame for which the frame pop event will be generated.
 2931           &lt;/description&gt;
 2932         &lt;/param&gt;
 2933       &lt;/parameters&gt;
 2934       &lt;errors&gt;
 2935         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 2936           The frame at &lt;code&gt;depth&lt;/code&gt; is executing a
 2937           native method.
 2938         &lt;/error&gt;
 2939         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 2940           Thread was not suspended and was not the current thread.
 2941         &lt;/error&gt;
 2942       &lt;/errors&gt;
 2943     &lt;/function&gt;
 2944 
 2945   &lt;/category&gt;
 2946 
 2947   &lt;category id=&quot;ForceEarlyReturn&quot; label=&quot;Force Early Return&quot;&gt;
 2948     &lt;intro&gt;
 2949       These functions allow an agent to force a method
 2950       to return at any point during its execution.
 2951       The method which will return early is referred to as the &lt;i&gt;called method&lt;/i&gt;.
 2952       The called method is the current method
 2953       (as defined by
 2954       &lt;vmspec chapter=&quot;3.6&quot;/&gt;)
 2955       for the specified thread at
 2956       the time the function is called.
 2957       &lt;p/&gt;
 2958       The specified thread must be suspended or must be the current thread.
 2959       The return occurs when execution of Java programming
 2960       language code is resumed on this thread.
 2961       Between calling one of these functions and resumption
 2962       of thread execution, the state of the stack is undefined.
 2963       &lt;p/&gt;
 2964       No further instructions are executed in the called method.
 2965       Specifically, finally blocks are not executed.
 2966       Note: this can cause inconsistent states in the application.
 2967       &lt;p/&gt;
 2968       A lock acquired by calling the called method
 2969       (if it is a &lt;code&gt;synchronized&lt;/code&gt;  method)
 2970       and locks acquired by entering &lt;code&gt;synchronized&lt;/code&gt;
 2971       blocks within the called method are released.
 2972       Note: this does not apply to native locks or
 2973       &lt;code&gt;java.util.concurrent.locks&lt;/code&gt; locks.
 2974       &lt;p/&gt;
 2975       Events, such as &lt;eventlink id=&quot;MethodExit&quot;&gt;&lt;/eventlink&gt;,
 2976       are generated as they would be in a normal return.
 2977       &lt;p/&gt;
 2978       The called method must be a non-native Java programming
 2979       language method.
 2980       Forcing return on a thread with only one frame on the
 2981       stack causes the thread to exit when resumed.
 2982     &lt;/intro&gt;
 2983 
 2984     &lt;function id=&quot;ForceEarlyReturnObject&quot; num=&quot;81&quot; since=&quot;1.1&quot;&gt;
 2985       &lt;synopsis&gt;Force Early Return - Object&lt;/synopsis&gt;
 2986       &lt;description&gt;
 2987         This function can be used to return from a method whose
 2988         result type is &lt;code&gt;Object&lt;/code&gt;
 2989         or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 2990       &lt;/description&gt;
 2991       &lt;origin&gt;new&lt;/origin&gt;
 2992       &lt;capabilities&gt;
 2993         &lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 2994       &lt;/capabilities&gt;
 2995       &lt;parameters&gt;
 2996         &lt;param id=&quot;thread&quot;&gt;
 2997           &lt;jthread null=&quot;current&quot;/&gt;
 2998           &lt;description&gt;
 2999             The thread whose current frame is to return early.
 3000           &lt;/description&gt;
 3001         &lt;/param&gt;
 3002         &lt;param id=&quot;value&quot;&gt;
 3003           &lt;jobject/&gt;
 3004           &lt;description&gt;
 3005             The return value for the called frame.
 3006             An object or &lt;code&gt;NULL&lt;/code&gt;.
 3007           &lt;/description&gt;
 3008         &lt;/param&gt;
 3009       &lt;/parameters&gt;
 3010       &lt;errors&gt;
 3011         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3012           Attempted to return early from a frame
 3013           corresponding to a native method.
 3014           Or the implementation is unable to provide
 3015           this functionality on this frame.
 3016         &lt;/error&gt;
 3017         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3018           The result type of the called method is not
 3019           &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 3020         &lt;/error&gt;
 3021         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3022           The supplied &lt;paramlink id=&quot;value&quot;/&gt; is not compatible with the
 3023           result type of the called method.
 3024         &lt;/error&gt;
 3025         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3026           Thread was not suspended and was not the current thread.
 3027         &lt;/error&gt;
 3028         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3029           There are no more frames on the call stack.
 3030         &lt;/error&gt;
 3031       &lt;/errors&gt;
 3032     &lt;/function&gt;
 3033 
 3034     &lt;function id=&quot;ForceEarlyReturnInt&quot; num=&quot;82&quot; since=&quot;1.1&quot;&gt;
 3035       &lt;synopsis&gt;Force Early Return - Int&lt;/synopsis&gt;
 3036       &lt;description&gt;
 3037         This function can be used to return from a method whose
 3038         result type is &lt;code&gt;int&lt;/code&gt;, &lt;code&gt;short&lt;/code&gt;,
 3039         &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 3040         &lt;code&gt;boolean&lt;/code&gt;.
 3041       &lt;/description&gt;
 3042       &lt;origin&gt;new&lt;/origin&gt;
 3043       &lt;capabilities&gt;
 3044         &lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3045       &lt;/capabilities&gt;
 3046       &lt;parameters&gt;
 3047         &lt;param id=&quot;thread&quot;&gt;
 3048           &lt;jthread null=&quot;current&quot;/&gt;
 3049           &lt;description&gt;
 3050             The thread whose current frame is to return early.
 3051           &lt;/description&gt;
 3052         &lt;/param&gt;
 3053         &lt;param id=&quot;value&quot;&gt;
 3054           &lt;jint/&gt;
 3055           &lt;description&gt;
 3056             The return value for the called frame.
 3057           &lt;/description&gt;
 3058         &lt;/param&gt;
 3059       &lt;/parameters&gt;
 3060       &lt;errors&gt;
 3061         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3062           Attempted to return early from a frame
 3063           corresponding to a native method.
 3064           Or the implementation is unable to provide
 3065           this functionality on this frame.
 3066         &lt;/error&gt;
 3067         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3068           The result type of the called method is not
 3069           &lt;code&gt;int&lt;/code&gt;, &lt;code&gt;short&lt;/code&gt;,
 3070           &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 3071           &lt;code&gt;boolean&lt;/code&gt;.
 3072         &lt;/error&gt;
 3073         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3074           Thread was not suspended and was not the current thread.
 3075         &lt;/error&gt;
 3076         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3077           There are no frames on the call stack.
 3078         &lt;/error&gt;
 3079       &lt;/errors&gt;
 3080     &lt;/function&gt;
 3081 
 3082     &lt;function id=&quot;ForceEarlyReturnLong&quot; num=&quot;83&quot; since=&quot;1.1&quot;&gt;
 3083       &lt;synopsis&gt;Force Early Return - Long&lt;/synopsis&gt;
 3084       &lt;description&gt;
 3085         This function can be used to return from a method whose
 3086         result type is &lt;code&gt;long&lt;/code&gt;.
 3087       &lt;/description&gt;
 3088       &lt;origin&gt;new&lt;/origin&gt;
 3089       &lt;capabilities&gt;
 3090         &lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3091       &lt;/capabilities&gt;
 3092       &lt;parameters&gt;
 3093         &lt;param id=&quot;thread&quot;&gt;
 3094           &lt;jthread null=&quot;current&quot;/&gt;
 3095           &lt;description&gt;
 3096             The thread whose current frame is to return early.
 3097           &lt;/description&gt;
 3098         &lt;/param&gt;
 3099         &lt;param id=&quot;value&quot;&gt;
 3100           &lt;jlong/&gt;
 3101           &lt;description&gt;
 3102             The return value for the called frame.
 3103           &lt;/description&gt;
 3104         &lt;/param&gt;
 3105       &lt;/parameters&gt;
 3106       &lt;errors&gt;
 3107         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3108           Attempted to return early from a frame
 3109           corresponding to a native method.
 3110           Or the implementation is unable to provide
 3111           this functionality on this frame.
 3112         &lt;/error&gt;
 3113         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3114           The result type of the called method is not &lt;code&gt;long&lt;/code&gt;.
 3115         &lt;/error&gt;
 3116         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3117           Thread was not suspended and was not the current thread.
 3118         &lt;/error&gt;
 3119         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3120           There are no frames on the call stack.
 3121         &lt;/error&gt;
 3122       &lt;/errors&gt;
 3123     &lt;/function&gt;
 3124 
 3125     &lt;function id=&quot;ForceEarlyReturnFloat&quot; num=&quot;84&quot; since=&quot;1.1&quot;&gt;
 3126       &lt;synopsis&gt;Force Early Return - Float&lt;/synopsis&gt;
 3127       &lt;description&gt;
 3128         This function can be used to return from a method whose
 3129         result type is &lt;code&gt;float&lt;/code&gt;.
 3130       &lt;/description&gt;
 3131       &lt;origin&gt;new&lt;/origin&gt;
 3132       &lt;capabilities&gt;
 3133         &lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3134       &lt;/capabilities&gt;
 3135       &lt;parameters&gt;
 3136         &lt;param id=&quot;thread&quot;&gt;
 3137           &lt;jthread null=&quot;current&quot;/&gt;
 3138           &lt;description&gt;
 3139             The thread whose current frame is to return early.
 3140           &lt;/description&gt;
 3141         &lt;/param&gt;
 3142         &lt;param id=&quot;value&quot;&gt;
 3143           &lt;jfloat/&gt;
 3144           &lt;description&gt;
 3145             The return value for the called frame.
 3146           &lt;/description&gt;
 3147         &lt;/param&gt;
 3148       &lt;/parameters&gt;
 3149       &lt;errors&gt;
 3150         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3151           Attempted to return early from a frame
 3152           corresponding to a native method.
 3153           Or the implementation is unable to provide
 3154           this functionality on this frame.
 3155         &lt;/error&gt;
 3156         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3157           The result type of the called method is not &lt;code&gt;float&lt;/code&gt;.
 3158         &lt;/error&gt;
 3159         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3160           Thread was not suspended and was not the current thread.
 3161         &lt;/error&gt;
 3162         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3163           There are no frames on the call stack.
 3164         &lt;/error&gt;
 3165       &lt;/errors&gt;
 3166     &lt;/function&gt;
 3167 
 3168     &lt;function id=&quot;ForceEarlyReturnDouble&quot; num=&quot;85&quot; since=&quot;1.1&quot;&gt;
 3169       &lt;synopsis&gt;Force Early Return - Double&lt;/synopsis&gt;
 3170       &lt;description&gt;
 3171         This function can be used to return from a method whose
 3172         result type is &lt;code&gt;double&lt;/code&gt;.
 3173       &lt;/description&gt;
 3174       &lt;origin&gt;new&lt;/origin&gt;
 3175       &lt;capabilities&gt;
 3176         &lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3177       &lt;/capabilities&gt;
 3178       &lt;parameters&gt;
 3179         &lt;param id=&quot;thread&quot;&gt;
 3180           &lt;jthread null=&quot;current&quot;/&gt;
 3181           &lt;description&gt;
 3182             The thread whose current frame is to return early.
 3183           &lt;/description&gt;
 3184         &lt;/param&gt;
 3185         &lt;param id=&quot;value&quot;&gt;
 3186           &lt;jdouble/&gt;
 3187           &lt;description&gt;
 3188             The return value for the called frame.
 3189           &lt;/description&gt;
 3190         &lt;/param&gt;
 3191       &lt;/parameters&gt;
 3192       &lt;errors&gt;
 3193         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3194           Attempted to return early from a frame corresponding to a native method.
 3195           Or the implementation is unable to provide this functionality on this frame.
 3196         &lt;/error&gt;
 3197         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3198           The result type of the called method is not &lt;code&gt;double&lt;/code&gt;.
 3199         &lt;/error&gt;
 3200         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3201           Thread was not suspended and was not the current thread.
 3202         &lt;/error&gt;
 3203         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3204           There are no frames on the call stack.
 3205         &lt;/error&gt;
 3206       &lt;/errors&gt;
 3207     &lt;/function&gt;
 3208 
 3209     &lt;function id=&quot;ForceEarlyReturnVoid&quot; num=&quot;86&quot; since=&quot;1.1&quot;&gt;
 3210       &lt;synopsis&gt;Force Early Return - Void&lt;/synopsis&gt;
 3211       &lt;description&gt;
 3212         This function can be used to return from a method with no result type.
 3213         That is, the called method must be declared &lt;code&gt;void&lt;/code&gt;.
 3214       &lt;/description&gt;
 3215       &lt;origin&gt;new&lt;/origin&gt;
 3216       &lt;capabilities&gt;
 3217         &lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3218       &lt;/capabilities&gt;
 3219       &lt;parameters&gt;
 3220         &lt;param id=&quot;thread&quot;&gt;
 3221           &lt;jthread null=&quot;current&quot;/&gt;
 3222           &lt;description&gt;
 3223             The thread whose current frame is to return early.
 3224           &lt;/description&gt;
 3225         &lt;/param&gt;
 3226       &lt;/parameters&gt;
 3227       &lt;errors&gt;
 3228         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3229           Attempted to return early from a frame
 3230           corresponding to a native method.
 3231           Or the implementation is unable to provide
 3232           this functionality on this frame.
 3233         &lt;/error&gt;
 3234         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3235           The called method has a result type.
 3236         &lt;/error&gt;
 3237         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3238           Thread was not suspended and was not the current thread.
 3239         &lt;/error&gt;
 3240         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3241           There are no frames on the call stack.
 3242         &lt;/error&gt;
 3243       &lt;/errors&gt;
 3244     &lt;/function&gt;
 3245 
 3246   &lt;/category&gt;
 3247 
 3248   &lt;category id=&quot;Heap&quot; label=&quot;Heap&quot;&gt;
 3249     &lt;intro&gt;
 3250       These functions are used to analyze the heap.
 3251       Functionality includes the ability to view the objects in the
 3252       heap and to tag these objects.
 3253     &lt;/intro&gt;
 3254 
 3255     &lt;intro id=&quot;objectTags&quot; label=&quot;Object Tags&quot;&gt;
 3256       A &lt;i&gt;tag&lt;/i&gt; is a value associated with an object.
 3257       Tags are explicitly set by the agent using the
 3258       &lt;functionlink id=&quot;SetTag&quot;&gt;&lt;/functionlink&gt; function or by
 3259       callback functions such as &lt;functionlink id=&quot;jvmtiHeapIterationCallback&quot;/&gt;.
 3260       &lt;p/&gt;
 3261       Tags are local to the environment; that is, the tags of one
 3262       environment are not visible in another.
 3263       &lt;p/&gt;
 3264       Tags are &lt;code&gt;jlong&lt;/code&gt; values which can be used
 3265       simply to mark an object or to store a pointer to more detailed
 3266       information.  Objects which have not been tagged have a
 3267       tag of zero.
 3268       Setting a tag to zero makes the object untagged.
 3269     &lt;/intro&gt;
 3270 
 3271     &lt;intro id=&quot;heapCallbacks&quot; label=&quot;Heap Callback Functions&quot;&gt;
 3272         Heap functions which iterate through the heap and recursively
 3273         follow object references use agent supplied callback functions
 3274         to deliver the information.
 3275         &lt;p/&gt;
 3276         These heap callback functions must adhere to the following restrictions --
 3277         These callbacks must not use JNI functions.
 3278         These callbacks must not use &lt;jvmti/&gt; functions except
 3279         &lt;i&gt;callback safe&lt;/i&gt; functions which
 3280         specifically allow such use (see the raw monitor, memory management,
 3281         and environment local storage functions).
 3282         &lt;p/&gt;
 3283         An implementation may invoke a callback on an internal thread or
 3284         the thread which called the iteration function.
 3285         Heap callbacks are single threaded -- no more than one callback will
 3286         be invoked at a time.
 3287         &lt;p/&gt;
 3288         The Heap Filter Flags can be used to prevent reporting
 3289         based on the tag status of an object or its class.
 3290         If no flags are set (the &lt;code&gt;jint&lt;/code&gt; is zero), objects
 3291         will not be filtered out.
 3292 
 3293         &lt;constants id=&quot;jvmtiHeapFilter&quot; label=&quot;Heap Filter Flags&quot; kind=&quot;bits&quot;&gt;
 3294           &lt;constant id=&quot;JVMTI_HEAP_FILTER_TAGGED&quot; num=&quot;0x4&quot;&gt;
 3295             Filter out tagged objects. Objects which are tagged are not included.
 3296           &lt;/constant&gt;
 3297           &lt;constant id=&quot;JVMTI_HEAP_FILTER_UNTAGGED&quot; num=&quot;0x8&quot;&gt;
 3298             Filter out untagged objects. Objects which are not tagged are not included.
 3299           &lt;/constant&gt;
 3300           &lt;constant id=&quot;JVMTI_HEAP_FILTER_CLASS_TAGGED&quot; num=&quot;0x10&quot;&gt;
 3301             Filter out objects with tagged classes. Objects whose class is tagged are not included.
 3302           &lt;/constant&gt;
 3303           &lt;constant id=&quot;JVMTI_HEAP_FILTER_CLASS_UNTAGGED&quot; num=&quot;0x20&quot;&gt;
 3304             Filter out objects with untagged classes. Objects whose class is not tagged are not included.
 3305           &lt;/constant&gt;
 3306         &lt;/constants&gt;
 3307 
 3308         &lt;p/&gt;
 3309         The Heap Visit Control Flags are returned by the heap callbacks
 3310         and can be used to abort the iteration.  For the
 3311         &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;&gt;Heap
 3312         Reference Callback&lt;/functionlink&gt;, it can also be used
 3313         to prune the graph of traversed references
 3314         (&lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; is not set).
 3315 
 3316         &lt;constants id=&quot;jvmtiHeapVisitControl&quot;
 3317                    label=&quot;Heap Visit Control Flags&quot;
 3318                    kind=&quot;bits&quot;
 3319                    since=&quot;1.1&quot;&gt;
 3320           &lt;constant id=&quot;JVMTI_VISIT_OBJECTS&quot; num=&quot;0x100&quot;&gt;
 3321             If we are visiting an object and if this callback
 3322             was initiated by &lt;functionlink id=&quot;FollowReferences&quot;/&gt;,
 3323             traverse the references of this object.
 3324             Otherwise ignored.
 3325           &lt;/constant&gt;
 3326           &lt;constant id=&quot;JVMTI_VISIT_ABORT&quot; num=&quot;0x8000&quot;&gt;
 3327             Abort the iteration.  Ignore all other bits.
 3328           &lt;/constant&gt;
 3329         &lt;/constants&gt;
 3330 
 3331         &lt;p/&gt;
 3332         The Heap Reference Enumeration is provided by the
 3333         &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;&gt;Heap
 3334         Reference Callback&lt;/functionlink&gt; and
 3335         &lt;functionlink id=&quot;jvmtiPrimitiveFieldCallback&quot;&gt;Primitive Field
 3336         Callback&lt;/functionlink&gt; to
 3337         describe the kind of reference
 3338         being reported.
 3339 
 3340         &lt;constants id=&quot;jvmtiHeapReferenceKind&quot;
 3341                    label=&quot;Heap Reference Enumeration&quot;
 3342                    kind=&quot;enum&quot;
 3343                    since=&quot;1.1&quot;&gt;
 3344           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_CLASS&quot; num=&quot;1&quot;&gt;
 3345             Reference from an object to its class.
 3346           &lt;/constant&gt;
 3347           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot; num=&quot;2&quot;&gt;
 3348             Reference from an object to the value of one of its instance fields.
 3349           &lt;/constant&gt;
 3350           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_ARRAY_ELEMENT&quot; num=&quot;3&quot;&gt;
 3351             Reference from an array to one of its elements.
 3352           &lt;/constant&gt;
 3353           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_CLASS_LOADER&quot; num=&quot;4&quot;&gt;
 3354             Reference from a class to its class loader.
 3355           &lt;/constant&gt;
 3356           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_SIGNERS&quot; num=&quot;5&quot;&gt;
 3357             Reference from a class to its signers array.
 3358           &lt;/constant&gt;
 3359           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_PROTECTION_DOMAIN&quot; num=&quot;6&quot;&gt;
 3360             Reference from a class to its protection domain.
 3361           &lt;/constant&gt;
 3362           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_INTERFACE&quot; num=&quot;7&quot;&gt;
 3363             Reference from a class to one of its interfaces.
 3364             Note: interfaces are defined via a constant pool reference,
 3365             so the referenced interfaces may also be reported with a
 3366             &lt;code&gt;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&lt;/code&gt; reference kind.
 3367           &lt;/constant&gt;
 3368           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot; num=&quot;8&quot;&gt;
 3369             Reference from a class to the value of one of its static fields.
 3370           &lt;/constant&gt;
 3371           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&quot; num=&quot;9&quot;&gt;
 3372             Reference from a class to a resolved entry in the constant pool.
 3373           &lt;/constant&gt;
 3374           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_SUPERCLASS&quot; num=&quot;10&quot;&gt;
 3375             Reference from a class to its superclass.
 3376             A callback is not sent if the superclass is &lt;code&gt;java.lang.Object&lt;/code&gt;.
 3377             Note: loaded classes define superclasses via a constant pool
 3378             reference, so the referenced superclass may also be reported with
 3379             a &lt;code&gt;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&lt;/code&gt; reference kind.
 3380           &lt;/constant&gt;
 3381           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_JNI_GLOBAL&quot; num=&quot;21&quot;&gt;
 3382             Heap root reference: JNI global reference.
 3383           &lt;/constant&gt;
 3384           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_SYSTEM_CLASS&quot; num=&quot;22&quot;&gt;
 3385             Heap root reference: System class.
 3386           &lt;/constant&gt;
 3387           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_MONITOR&quot; num=&quot;23&quot;&gt;
 3388             Heap root reference: monitor.
 3389           &lt;/constant&gt;
 3390           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_STACK_LOCAL&quot; num=&quot;24&quot;&gt;
 3391             Heap root reference: local variable on the stack.
 3392           &lt;/constant&gt;
 3393           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_JNI_LOCAL&quot; num=&quot;25&quot;&gt;
 3394             Heap root reference: JNI local reference.
 3395           &lt;/constant&gt;
 3396           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_THREAD&quot; num=&quot;26&quot;&gt;
 3397             Heap root reference: Thread.
 3398           &lt;/constant&gt;
 3399           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_OTHER&quot; num=&quot;27&quot;&gt;
 3400             Heap root reference: other heap root reference.
 3401           &lt;/constant&gt;
 3402         &lt;/constants&gt;
 3403 
 3404         &lt;p/&gt;
 3405         Definitions for the single character type descriptors of
 3406         primitive types.
 3407 
 3408         &lt;constants id=&quot;jvmtiPrimitiveType&quot;
 3409                    label=&quot;Primitive Type Enumeration&quot;
 3410                    kind=&quot;enum&quot;
 3411                    since=&quot;1.1&quot;&gt;
 3412           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_BOOLEAN&quot; num=&quot;90&quot;&gt;
 3413             &#39;Z&#39; - Java programming language &lt;code&gt;boolean&lt;/code&gt; - JNI &lt;code&gt;jboolean&lt;/code&gt;
 3414           &lt;/constant&gt;
 3415           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_BYTE&quot; num=&quot;66&quot;&gt;
 3416             &#39;B&#39; - Java programming language &lt;code&gt;byte&lt;/code&gt; - JNI &lt;code&gt;jbyte&lt;/code&gt;
 3417           &lt;/constant&gt;
 3418           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_CHAR&quot; num=&quot;67&quot;&gt;
 3419             &#39;C&#39; - Java programming language &lt;code&gt;char&lt;/code&gt; - JNI &lt;code&gt;jchar&lt;/code&gt;
 3420           &lt;/constant&gt;
 3421           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_SHORT&quot; num=&quot;83&quot;&gt;
 3422             &#39;S&#39; - Java programming language &lt;code&gt;short&lt;/code&gt; - JNI &lt;code&gt;jshort&lt;/code&gt;
 3423           &lt;/constant&gt;
 3424           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_INT&quot; num=&quot;73&quot;&gt;
 3425             &#39;I&#39; - Java programming language &lt;code&gt;int&lt;/code&gt; - JNI &lt;code&gt;jint&lt;/code&gt;
 3426           &lt;/constant&gt;
 3427           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_LONG&quot; num=&quot;74&quot;&gt;
 3428             &#39;J&#39; - Java programming language &lt;code&gt;long&lt;/code&gt; - JNI &lt;code&gt;jlong&lt;/code&gt;
 3429           &lt;/constant&gt;
 3430           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_FLOAT&quot; num=&quot;70&quot;&gt;
 3431             &#39;F&#39; - Java programming language &lt;code&gt;float&lt;/code&gt; - JNI &lt;code&gt;jfloat&lt;/code&gt;
 3432           &lt;/constant&gt;
 3433           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_DOUBLE&quot; num=&quot;68&quot;&gt;
 3434             &#39;D&#39; - Java programming language &lt;code&gt;double&lt;/code&gt; - JNI &lt;code&gt;jdouble&lt;/code&gt;
 3435           &lt;/constant&gt;
 3436         &lt;/constants&gt;
 3437     &lt;/intro&gt;
 3438 
 3439       &lt;typedef id=&quot;jvmtiHeapReferenceInfoField&quot;
 3440                label=&quot;Reference information structure for Field references&quot;
 3441                since=&quot;1.1&quot;&gt;
 3442         &lt;description&gt;
 3443           Reference information returned for
 3444           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt; and
 3445           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt; references.
 3446         &lt;/description&gt;
 3447         &lt;field id=&quot;index&quot;&gt;
 3448           &lt;jint/&gt;
 3449           &lt;description&gt;
 3450             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt;, the
 3451             referrer object is not a class or an interface.
 3452             In this case, &lt;code&gt;index&lt;/code&gt; is the index of the field
 3453             in the class of the referrer object.
 3454             This class is referred to below as &lt;i&gt;C&lt;/i&gt;.
 3455             &lt;p/&gt;
 3456             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt;,
 3457             the referrer object is a class (referred to below as &lt;i&gt;C&lt;/i&gt;)
 3458             or an interface (referred to below as &lt;i&gt;I&lt;/i&gt;).
 3459             In this case, &lt;code&gt;index&lt;/code&gt; is the index of the field in
 3460             that class or interface.
 3461             &lt;p/&gt;
 3462             If the referrer object is not an interface, then the field
 3463             indices are determined as follows:
 3464             &lt;ul&gt;
 3465               &lt;li&gt;make a list of all the fields in &lt;i&gt;C&lt;/i&gt; and its
 3466                   superclasses, starting with all the fields in
 3467                   &lt;code&gt;java.lang.Object&lt;/code&gt; and ending with all the
 3468                   fields in &lt;i&gt;C&lt;/i&gt;.&lt;/li&gt;
 3469               &lt;li&gt;Within this list, put
 3470                   the fields for a given class in the order returned by
 3471                   &lt;functionlink id=&quot;GetClassFields&quot;/&gt;.&lt;/li&gt;
 3472               &lt;li&gt;Assign the fields in this list indices
 3473                   &lt;i&gt;n&lt;/i&gt;, &lt;i&gt;n&lt;/i&gt;+1, ..., in order, where &lt;i&gt;n&lt;/i&gt;
 3474                   is the count of the fields in all the interfaces
 3475                   implemented by &lt;i&gt;C&lt;/i&gt;.
 3476                   Note that &lt;i&gt;C&lt;/i&gt; implements all interfaces
 3477                   directly implemented by its superclasses; as well
 3478                   as all superinterfaces of these interfaces.&lt;/li&gt;
 3479             &lt;/ul&gt;
 3480             If the referrer object is an interface, then the field
 3481             indices are determined as follows:
 3482             &lt;ul&gt;
 3483               &lt;li&gt;make a list of the fields directly declared in
 3484                   &lt;i&gt;I&lt;/i&gt;.&lt;/li&gt;
 3485               &lt;li&gt;Within this list, put
 3486                   the fields in the order returned by
 3487                   &lt;functionlink id=&quot;GetClassFields&quot;/&gt;.&lt;/li&gt;
 3488               &lt;li&gt;Assign the fields in this list indices
 3489                   &lt;i&gt;n&lt;/i&gt;, &lt;i&gt;n&lt;/i&gt;+1, ..., in order, where &lt;i&gt;n&lt;/i&gt;
 3490                   is the count of the fields in all the superinterfaces
 3491                   of &lt;i&gt;I&lt;/i&gt;.&lt;/li&gt;
 3492             &lt;/ul&gt;
 3493             All fields are included in this computation, regardless of
 3494             field modifier (static, public, private, etc).
 3495             &lt;p/&gt;
 3496             For example, given the following classes and interfaces:
 3497             &lt;example&gt;
 3498 interface I0 {
 3499     int p = 0;
 3500 }
 3501 
 3502 interface I1 extends I0 {
 3503     int x = 1;
 3504 }
 3505 
 3506 interface I2 extends I0 {
 3507     int y = 2;
 3508 }
 3509 
 3510 class C1 implements I1 {
 3511     public static int a = 3;
 3512     private int b = 4;
 3513 }
 3514 
 3515 class C2 extends C1 implements I2 {
 3516     static int q = 5;
 3517     final int r = 6;
 3518 }
 3519             &lt;/example&gt;
 3520             Assume that &lt;functionlink id=&quot;GetClassFields&quot;/&gt; called on
 3521             &lt;code&gt;C1&lt;/code&gt; returns the fields of &lt;code&gt;C1&lt;/code&gt; in the
 3522             order: a, b; and that the fields of &lt;code&gt;C2&lt;/code&gt; are
 3523             returned in the order: q, r.
 3524             An instance of class &lt;code&gt;C1&lt;/code&gt; will have the
 3525             following field indices:
 3526             &lt;blockquote&gt;&lt;table&gt;
 3527               &lt;tr class=&quot;bgLight&quot;&gt;
 3528                 &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Field&lt;/th&gt;
 3529                 &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Index&lt;/th&gt;
 3530                 &lt;th scope=&quot;col&quot;&gt;Description&lt;/th&gt;
 3531               &lt;/tr&gt;
 3532               &lt;tr&gt;
 3533                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3534                   a
 3535                 &lt;/th&gt;
 3536                 &lt;td class=&quot;centered&quot;&gt;
 3537                   2
 3538                 &lt;/td&gt;
 3539                 &lt;td&gt;
 3540                   The count of the fields in the interfaces
 3541                   implemented by &lt;code&gt;C1&lt;/code&gt; is two (&lt;i&gt;n&lt;/i&gt;=2):
 3542                   &lt;code&gt;p&lt;/code&gt; of &lt;code&gt;I0&lt;/code&gt;
 3543                   and &lt;code&gt;x&lt;/code&gt; of &lt;code&gt;I1&lt;/code&gt;.
 3544                 &lt;/td&gt;
 3545               &lt;/tr&gt;
 3546               &lt;tr&gt;
 3547                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3548                   b
 3549                 &lt;/th&gt;
 3550                 &lt;td class=&quot;centered&quot;&gt;
 3551                   3
 3552                 &lt;/td&gt;
 3553                 &lt;td&gt;
 3554                   the subsequent index.
 3555                 &lt;/td&gt;
 3556               &lt;/tr&gt;
 3557             &lt;/table&gt;&lt;/blockquote&gt;
 3558             The class &lt;code&gt;C1&lt;/code&gt; will have the same field indices.
 3559             &lt;p/&gt;
 3560             An instance of class &lt;code&gt;C2&lt;/code&gt; will have the
 3561             following field indices:
 3562             &lt;blockquote&gt;&lt;table&gt;
 3563               &lt;tr class=&quot;bgLight&quot;&gt;
 3564                 &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Field&lt;/th&gt;
 3565                 &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Index&lt;/th&gt;
 3566                 &lt;th scope=&quot;col&quot;&gt;Description&lt;/th&gt;
 3567               &lt;/tr&gt;
 3568               &lt;tr&gt;
 3569                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3570                   a
 3571                 &lt;/th&gt;
 3572                 &lt;td class=&quot;centered&quot;&gt;
 3573                   3
 3574                 &lt;/td&gt;
 3575                 &lt;td&gt;
 3576                   The count of the fields in the interfaces
 3577                   implemented by &lt;code&gt;C2&lt;/code&gt; is three (&lt;i&gt;n&lt;/i&gt;=3):
 3578                   &lt;code&gt;p&lt;/code&gt; of &lt;code&gt;I0&lt;/code&gt;,
 3579                   &lt;code&gt;x&lt;/code&gt; of &lt;code&gt;I1&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; of &lt;code&gt;I2&lt;/code&gt;
 3580                   (an interface of &lt;code&gt;C2&lt;/code&gt;).  Note that the field &lt;code&gt;p&lt;/code&gt;
 3581                   of &lt;code&gt;I0&lt;/code&gt; is only included once.
 3582                 &lt;/td&gt;
 3583               &lt;/tr&gt;
 3584               &lt;tr&gt;
 3585                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3586                   b
 3587                 &lt;/th&gt;
 3588                 &lt;td class=&quot;centered&quot;&gt;
 3589                   4
 3590                 &lt;/td&gt;
 3591                 &lt;td&gt;
 3592                   the subsequent index to &quot;a&quot;.
 3593                 &lt;/td&gt;
 3594               &lt;/tr&gt;
 3595               &lt;tr&gt;
 3596                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3597                   q
 3598                 &lt;/th&gt;
 3599                 &lt;td class=&quot;centered&quot;&gt;
 3600                   5
 3601                 &lt;/td&gt;
 3602                 &lt;td&gt;
 3603                   the subsequent index to &quot;b&quot;.
 3604                 &lt;/td&gt;
 3605               &lt;/tr&gt;
 3606               &lt;tr&gt;
 3607                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3608                   r
 3609                 &lt;/th&gt;
 3610                 &lt;td class=&quot;centered&quot;&gt;
 3611                   6
 3612                 &lt;/td&gt;
 3613                 &lt;td&gt;
 3614                   the subsequent index to &quot;q&quot;.
 3615                 &lt;/td&gt;
 3616               &lt;/tr&gt;
 3617             &lt;/table&gt;&lt;/blockquote&gt;
 3618             The class &lt;code&gt;C2&lt;/code&gt; will have the same field indices.
 3619             Note that a field may have a different index depending on the
 3620             object that is viewing it -- for example field &quot;a&quot; above.
 3621             Note also: not all field indices may be visible from the
 3622             callbacks, but all indices are shown for illustrative purposes.
 3623             &lt;p/&gt;
 3624             The interface &lt;code&gt;I1&lt;/code&gt; will have the
 3625             following field indices:
 3626             &lt;blockquote&gt;&lt;table&gt;
 3627               &lt;tr class=&quot;bgLight&quot;&gt;
 3628                 &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Field&lt;/th&gt;
 3629                 &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Index&lt;/th&gt;
 3630                 &lt;th scope=&quot;col&quot;&gt;Description&lt;/th&gt;
 3631               &lt;/tr&gt;
 3632               &lt;tr&gt;
 3633                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3634                   x
 3635                 &lt;/th&gt;
 3636                 &lt;td class=&quot;centered&quot;&gt;
 3637                   1
 3638                 &lt;/td&gt;
 3639                 &lt;td&gt;
 3640                   The count of the fields in the superinterfaces
 3641                   of &lt;code&gt;I1&lt;/code&gt; is one (&lt;i&gt;n&lt;/i&gt;=1):
 3642                   &lt;code&gt;p&lt;/code&gt; of &lt;code&gt;I0&lt;/code&gt;.
 3643                 &lt;/td&gt;
 3644               &lt;/tr&gt;
 3645             &lt;/table&gt;&lt;/blockquote&gt;
 3646           &lt;/description&gt;
 3647         &lt;/field&gt;
 3648       &lt;/typedef&gt;
 3649 
 3650       &lt;typedef id=&quot;jvmtiHeapReferenceInfoArray&quot;
 3651                label=&quot;Reference information structure for Array references&quot;
 3652                since=&quot;1.1&quot;&gt;
 3653         &lt;description&gt;
 3654           Reference information returned for
 3655          &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_ARRAY_ELEMENT&quot;/&gt; references.
 3656         &lt;/description&gt;
 3657         &lt;field id=&quot;index&quot;&gt;
 3658           &lt;jint/&gt;
 3659           &lt;description&gt;
 3660             The array index.
 3661           &lt;/description&gt;
 3662         &lt;/field&gt;
 3663       &lt;/typedef&gt;
 3664 
 3665       &lt;typedef id=&quot;jvmtiHeapReferenceInfoConstantPool&quot;
 3666                label=&quot;Reference information structure for Constant Pool references&quot;
 3667                since=&quot;1.1&quot;&gt;
 3668         &lt;description&gt;
 3669           Reference information returned for
 3670           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&quot;/&gt; references.
 3671         &lt;/description&gt;
 3672         &lt;field id=&quot;index&quot;&gt;
 3673           &lt;jint/&gt;
 3674           &lt;description&gt;
 3675             The index into the constant pool of the class. See the description in
 3676       &lt;vmspec chapter=&quot;4.4&quot;/&gt;.
 3677           &lt;/description&gt;
 3678         &lt;/field&gt;
 3679       &lt;/typedef&gt;
 3680 
 3681       &lt;typedef id=&quot;jvmtiHeapReferenceInfoStackLocal&quot;
 3682                label=&quot;Reference information structure for Local Variable references&quot;
 3683                since=&quot;1.1&quot;&gt;
 3684         &lt;description&gt;
 3685           Reference information returned for
 3686           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STACK_LOCAL&quot;/&gt; references.
 3687         &lt;/description&gt;
 3688         &lt;field id=&quot;thread_tag&quot;&gt;
 3689           &lt;jlong/&gt;
 3690           &lt;description&gt;
 3691             The tag of the thread corresponding to this stack, zero if not tagged.
 3692           &lt;/description&gt;
 3693         &lt;/field&gt;
 3694         &lt;field id=&quot;thread_id&quot;&gt;
 3695           &lt;jlong/&gt;
 3696           &lt;description&gt;
 3697             The unique thread ID of the thread corresponding to this stack.
 3698           &lt;/description&gt;
 3699         &lt;/field&gt;
 3700         &lt;field id=&quot;depth&quot;&gt;
 3701           &lt;jint/&gt;
 3702           &lt;description&gt;
 3703             The depth of the frame.
 3704           &lt;/description&gt;
 3705         &lt;/field&gt;
 3706         &lt;field id=&quot;method&quot;&gt;
 3707           &lt;jmethodID/&gt;
 3708           &lt;description&gt;
 3709             The method executing in this frame.
 3710           &lt;/description&gt;
 3711         &lt;/field&gt;
 3712         &lt;field id=&quot;location&quot;&gt;
 3713           &lt;jlocation/&gt;
 3714           &lt;description&gt;
 3715             The currently executing location in this frame.
 3716           &lt;/description&gt;
 3717         &lt;/field&gt;
 3718         &lt;field id=&quot;slot&quot;&gt;
 3719           &lt;jint/&gt;
 3720           &lt;description&gt;
 3721             The slot number of the local variable.
 3722           &lt;/description&gt;
 3723         &lt;/field&gt;
 3724       &lt;/typedef&gt;
 3725 
 3726       &lt;typedef id=&quot;jvmtiHeapReferenceInfoJniLocal&quot;
 3727                label=&quot;Reference information structure for JNI local references&quot;
 3728                since=&quot;1.1&quot;&gt;
 3729         &lt;description&gt;
 3730           Reference information returned for
 3731           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_JNI_LOCAL&quot;/&gt; references.
 3732         &lt;/description&gt;
 3733         &lt;field id=&quot;thread_tag&quot;&gt;
 3734           &lt;jlong/&gt;
 3735           &lt;description&gt;
 3736             The tag of the thread corresponding to this stack, zero if not tagged.
 3737           &lt;/description&gt;
 3738         &lt;/field&gt;
 3739         &lt;field id=&quot;thread_id&quot;&gt;
 3740           &lt;jlong/&gt;
 3741           &lt;description&gt;
 3742             The unique thread ID of the thread corresponding to this stack.
 3743           &lt;/description&gt;
 3744         &lt;/field&gt;
 3745         &lt;field id=&quot;depth&quot;&gt;
 3746           &lt;jint/&gt;
 3747           &lt;description&gt;
 3748             The depth of the frame.
 3749           &lt;/description&gt;
 3750         &lt;/field&gt;
 3751         &lt;field id=&quot;method&quot;&gt;
 3752           &lt;jmethodID/&gt;
 3753           &lt;description&gt;
 3754             The method executing in this frame.
 3755           &lt;/description&gt;
 3756         &lt;/field&gt;
 3757       &lt;/typedef&gt;
 3758 
 3759       &lt;typedef id=&quot;jvmtiHeapReferenceInfoReserved&quot;
 3760                label=&quot;Reference information structure for Other references&quot;
 3761                since=&quot;1.1&quot;&gt;
 3762         &lt;description&gt;
 3763           Reference information returned for other references.
 3764         &lt;/description&gt;
 3765         &lt;field id=&quot;reserved1&quot;&gt;
 3766           &lt;jlong/&gt;
 3767           &lt;description&gt;
 3768             reserved for future use.
 3769           &lt;/description&gt;
 3770         &lt;/field&gt;
 3771         &lt;field id=&quot;reserved2&quot;&gt;
 3772           &lt;jlong/&gt;
 3773           &lt;description&gt;
 3774             reserved for future use.
 3775           &lt;/description&gt;
 3776         &lt;/field&gt;
 3777         &lt;field id=&quot;reserved3&quot;&gt;
 3778           &lt;jlong/&gt;
 3779           &lt;description&gt;
 3780             reserved for future use.
 3781           &lt;/description&gt;
 3782         &lt;/field&gt;
 3783         &lt;field id=&quot;reserved4&quot;&gt;
 3784           &lt;jlong/&gt;
 3785           &lt;description&gt;
 3786             reserved for future use.
 3787           &lt;/description&gt;
 3788         &lt;/field&gt;
 3789         &lt;field id=&quot;reserved5&quot;&gt;
 3790           &lt;jlong/&gt;
 3791           &lt;description&gt;
 3792             reserved for future use.
 3793           &lt;/description&gt;
 3794         &lt;/field&gt;
 3795         &lt;field id=&quot;reserved6&quot;&gt;
 3796           &lt;jlong/&gt;
 3797           &lt;description&gt;
 3798             reserved for future use.
 3799           &lt;/description&gt;
 3800         &lt;/field&gt;
 3801         &lt;field id=&quot;reserved7&quot;&gt;
 3802           &lt;jlong/&gt;
 3803           &lt;description&gt;
 3804             reserved for future use.
 3805           &lt;/description&gt;
 3806         &lt;/field&gt;
 3807         &lt;field id=&quot;reserved8&quot;&gt;
 3808           &lt;jlong/&gt;
 3809           &lt;description&gt;
 3810             reserved for future use.
 3811           &lt;/description&gt;
 3812         &lt;/field&gt;
 3813       &lt;/typedef&gt;
 3814 
 3815       &lt;uniontypedef id=&quot;jvmtiHeapReferenceInfo&quot;
 3816                label=&quot;Reference information structure&quot;
 3817                since=&quot;1.1&quot;&gt;
 3818         &lt;description&gt;
 3819           The information returned about referrers.
 3820           Represented as a union of the various kinds of reference information.
 3821         &lt;/description&gt;
 3822         &lt;field id=&quot;field&quot;&gt;
 3823           &lt;struct&gt;jvmtiHeapReferenceInfoField&lt;/struct&gt;
 3824           &lt;description&gt;
 3825             The referrer information for
 3826             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt;
 3827             and &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt; references.
 3828           &lt;/description&gt;
 3829         &lt;/field&gt;
 3830         &lt;field id=&quot;array&quot;&gt;
 3831           &lt;struct&gt;jvmtiHeapReferenceInfoArray&lt;/struct&gt;
 3832           &lt;description&gt;
 3833             The referrer information for
 3834             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_ARRAY_ELEMENT&quot;/&gt; references.
 3835           &lt;/description&gt;
 3836         &lt;/field&gt;
 3837         &lt;field id=&quot;constant_pool&quot;&gt;
 3838           &lt;struct&gt;jvmtiHeapReferenceInfoConstantPool&lt;/struct&gt;
 3839           &lt;description&gt;
 3840             The referrer information for
 3841             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&quot;/&gt; references.
 3842           &lt;/description&gt;
 3843         &lt;/field&gt;
 3844         &lt;field id=&quot;stack_local&quot;&gt;
 3845           &lt;struct&gt;jvmtiHeapReferenceInfoStackLocal&lt;/struct&gt;
 3846           &lt;description&gt;
 3847             The referrer information for
 3848             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STACK_LOCAL&quot;/&gt; references.
 3849           &lt;/description&gt;
 3850         &lt;/field&gt;
 3851         &lt;field id=&quot;jni_local&quot;&gt;
 3852           &lt;struct&gt;jvmtiHeapReferenceInfoJniLocal&lt;/struct&gt;
 3853           &lt;description&gt;
 3854             The referrer information for
 3855             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_JNI_LOCAL&quot;/&gt; references.
 3856           &lt;/description&gt;
 3857         &lt;/field&gt;
 3858         &lt;field id=&quot;other&quot;&gt;
 3859           &lt;struct&gt;jvmtiHeapReferenceInfoReserved&lt;/struct&gt;
 3860           &lt;description&gt;
 3861             reserved for future use.
 3862           &lt;/description&gt;
 3863         &lt;/field&gt;
 3864       &lt;/uniontypedef&gt;
 3865 
 3866       &lt;typedef id=&quot;jvmtiHeapCallbacks&quot;
 3867                label=&quot;Heap callback function structure&quot;
 3868                since=&quot;1.1&quot;&gt;
 3869         &lt;field id=&quot;heap_iteration_callback&quot;&gt;
 3870           &lt;ptrtype&gt;
 3871             &lt;struct&gt;jvmtiHeapIterationCallback&lt;/struct&gt;
 3872           &lt;/ptrtype&gt;
 3873           &lt;description&gt;
 3874             The callback to be called to describe an
 3875             object in the heap. Used by the
 3876             &lt;functionlink id=&quot;IterateThroughHeap&quot;/&gt; function, ignored by the
 3877             &lt;functionlink id=&quot;FollowReferences&quot;/&gt; function.
 3878           &lt;/description&gt;
 3879         &lt;/field&gt;
 3880         &lt;field id=&quot;heap_reference_callback&quot;&gt;
 3881           &lt;ptrtype&gt;
 3882             &lt;struct&gt;jvmtiHeapReferenceCallback&lt;/struct&gt;
 3883           &lt;/ptrtype&gt;
 3884           &lt;description&gt;
 3885             The callback to be called to describe an
 3886             object reference.  Used by the
 3887             &lt;functionlink id=&quot;FollowReferences&quot;/&gt; function, ignored by the
 3888             &lt;functionlink id=&quot;IterateThroughHeap&quot;/&gt; function.
 3889           &lt;/description&gt;
 3890         &lt;/field&gt;
 3891         &lt;field id=&quot;primitive_field_callback&quot;&gt;
 3892           &lt;ptrtype&gt;
 3893             &lt;struct&gt;jvmtiPrimitiveFieldCallback&lt;/struct&gt;
 3894           &lt;/ptrtype&gt;
 3895           &lt;description&gt;
 3896             The callback to be called to describe a
 3897             primitive field.
 3898           &lt;/description&gt;
 3899         &lt;/field&gt;
 3900         &lt;field id=&quot;array_primitive_value_callback&quot;&gt;
 3901           &lt;ptrtype&gt;
 3902             &lt;struct&gt;jvmtiArrayPrimitiveValueCallback&lt;/struct&gt;
 3903           &lt;/ptrtype&gt;
 3904           &lt;description&gt;
 3905             The callback to be called to describe an
 3906             array of primitive values.
 3907           &lt;/description&gt;
 3908         &lt;/field&gt;
 3909         &lt;field id=&quot;string_primitive_value_callback&quot;&gt;
 3910           &lt;ptrtype&gt;
 3911             &lt;struct&gt;jvmtiStringPrimitiveValueCallback&lt;/struct&gt;
 3912           &lt;/ptrtype&gt;
 3913           &lt;description&gt;
 3914             The callback to be called to describe a String value.
 3915           &lt;/description&gt;
 3916         &lt;/field&gt;
 3917         &lt;field id=&quot;reserved5&quot;&gt;
 3918           &lt;ptrtype&gt;
 3919             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3920           &lt;/ptrtype&gt;
 3921           &lt;description&gt;
 3922             Reserved for future use..
 3923           &lt;/description&gt;
 3924         &lt;/field&gt;
 3925         &lt;field id=&quot;reserved6&quot;&gt;
 3926           &lt;ptrtype&gt;
 3927             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3928           &lt;/ptrtype&gt;
 3929           &lt;description&gt;
 3930             Reserved for future use..
 3931           &lt;/description&gt;
 3932         &lt;/field&gt;
 3933         &lt;field id=&quot;reserved7&quot;&gt;
 3934           &lt;ptrtype&gt;
 3935             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3936           &lt;/ptrtype&gt;
 3937           &lt;description&gt;
 3938             Reserved for future use..
 3939           &lt;/description&gt;
 3940         &lt;/field&gt;
 3941         &lt;field id=&quot;reserved8&quot;&gt;
 3942           &lt;ptrtype&gt;
 3943             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3944           &lt;/ptrtype&gt;
 3945           &lt;description&gt;
 3946             Reserved for future use..
 3947           &lt;/description&gt;
 3948         &lt;/field&gt;
 3949         &lt;field id=&quot;reserved9&quot;&gt;
 3950           &lt;ptrtype&gt;
 3951             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3952           &lt;/ptrtype&gt;
 3953           &lt;description&gt;
 3954             Reserved for future use..
 3955           &lt;/description&gt;
 3956         &lt;/field&gt;
 3957         &lt;field id=&quot;reserved10&quot;&gt;
 3958           &lt;ptrtype&gt;
 3959             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3960           &lt;/ptrtype&gt;
 3961           &lt;description&gt;
 3962             Reserved for future use..
 3963           &lt;/description&gt;
 3964         &lt;/field&gt;
 3965         &lt;field id=&quot;reserved11&quot;&gt;
 3966           &lt;ptrtype&gt;
 3967             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3968           &lt;/ptrtype&gt;
 3969           &lt;description&gt;
 3970             Reserved for future use..
 3971           &lt;/description&gt;
 3972         &lt;/field&gt;
 3973         &lt;field id=&quot;reserved12&quot;&gt;
 3974           &lt;ptrtype&gt;
 3975             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3976           &lt;/ptrtype&gt;
 3977           &lt;description&gt;
 3978             Reserved for future use..
 3979           &lt;/description&gt;
 3980         &lt;/field&gt;
 3981         &lt;field id=&quot;reserved13&quot;&gt;
 3982           &lt;ptrtype&gt;
 3983             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3984           &lt;/ptrtype&gt;
 3985           &lt;description&gt;
 3986             Reserved for future use..
 3987           &lt;/description&gt;
 3988         &lt;/field&gt;
 3989         &lt;field id=&quot;reserved14&quot;&gt;
 3990           &lt;ptrtype&gt;
 3991             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3992           &lt;/ptrtype&gt;
 3993           &lt;description&gt;
 3994             Reserved for future use..
 3995           &lt;/description&gt;
 3996         &lt;/field&gt;
 3997         &lt;field id=&quot;reserved15&quot;&gt;
 3998           &lt;ptrtype&gt;
 3999             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 4000           &lt;/ptrtype&gt;
 4001           &lt;description&gt;
 4002             Reserved for future use..
 4003           &lt;/description&gt;
 4004         &lt;/field&gt;
 4005       &lt;/typedef&gt;
 4006 
 4007 
 4008     &lt;intro&gt;
 4009       &lt;rationale&gt;
 4010         The heap dumping functionality (below) uses a callback
 4011         for each object.  While it would seem that a buffered approach
 4012         would provide better throughput, tests do
 4013         not show this to be the case--possibly due to locality of
 4014         memory reference or array access overhead.
 4015       &lt;/rationale&gt;
 4016 
 4017       &lt;issue&gt;
 4018         Still under investigation as to if java.lang.ref references
 4019         are reported as a different type of reference.
 4020       &lt;/issue&gt;
 4021 
 4022       &lt;issue&gt;
 4023         Should or can an indication of the cost or relative cost of
 4024         these operations be included?
 4025       &lt;/issue&gt;
 4026 
 4027     &lt;/intro&gt;
 4028 
 4029     &lt;callback id=&quot;jvmtiHeapIterationCallback&quot; since=&quot;1.1&quot;&gt;
 4030       &lt;jint/&gt;
 4031       &lt;synopsis&gt;Heap Iteration Callback&lt;/synopsis&gt;
 4032       &lt;description&gt;
 4033         Agent supplied callback function.
 4034         Describes (but does not pass in) an object in the heap.
 4035         &lt;p/&gt;
 4036         This function should return a bit vector of the desired
 4037         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4038         This will determine if the entire iteration should be aborted
 4039         (the &lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; flag is ignored).
 4040         &lt;p/&gt;
 4041         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4042         function restrictions&lt;/internallink&gt;.
 4043       &lt;/description&gt;
 4044       &lt;parameters&gt;
 4045         &lt;param id=&quot;class_tag&quot;&gt;
 4046           &lt;jlong/&gt;
 4047           &lt;description&gt;
 4048             The tag of the class of object (zero if the class is not tagged).
 4049             If the object represents a runtime class,
 4050             the &lt;code&gt;class_tag&lt;/code&gt; is the tag
 4051             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 4052             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 4053           &lt;/description&gt;
 4054         &lt;/param&gt;
 4055         &lt;param id=&quot;size&quot;&gt;
 4056           &lt;jlong/&gt;
 4057           &lt;description&gt;
 4058             Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 4059           &lt;/description&gt;
 4060         &lt;/param&gt;
 4061         &lt;param id=&quot;tag_ptr&quot;&gt;
 4062           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4063           &lt;description&gt;
 4064             The object tag value, or zero if the object is not tagged.
 4065             To set the tag value to be associated with the object
 4066             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4067           &lt;/description&gt;
 4068         &lt;/param&gt;
 4069         &lt;param id=&quot;length&quot;&gt;
 4070           &lt;jint/&gt;
 4071           &lt;description&gt;
 4072             If this object is an array, the length of the array. Otherwise negative one (-1).
 4073           &lt;/description&gt;
 4074         &lt;/param&gt;
 4075         &lt;param id=&quot;user_data&quot;&gt;
 4076           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4077           &lt;description&gt;
 4078             The user supplied data that was passed into the iteration function.
 4079           &lt;/description&gt;
 4080         &lt;/param&gt;
 4081       &lt;/parameters&gt;
 4082     &lt;/callback&gt;
 4083 
 4084     &lt;callback id=&quot;jvmtiHeapReferenceCallback&quot; since=&quot;1.1&quot;&gt;
 4085       &lt;jint/&gt;
 4086       &lt;synopsis&gt;Heap Reference Callback&lt;/synopsis&gt;
 4087       &lt;description&gt;
 4088         Agent supplied callback function.
 4089         Describes a reference from an object or the VM (the referrer) to another object
 4090         (the referree) or a heap root to a referree.
 4091         &lt;p/&gt;
 4092         This function should return a bit vector of the desired
 4093         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4094         This will determine if the objects referenced by the referree
 4095         should be visited or if the entire iteration should be aborted.
 4096         &lt;p/&gt;
 4097         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4098         function restrictions&lt;/internallink&gt;.
 4099       &lt;/description&gt;
 4100       &lt;parameters&gt;
 4101         &lt;param id=&quot;reference_kind&quot;&gt;
 4102           &lt;enum&gt;jvmtiHeapReferenceKind&lt;/enum&gt;
 4103           &lt;description&gt;
 4104             The kind of reference.
 4105           &lt;/description&gt;
 4106         &lt;/param&gt;
 4107         &lt;param id=&quot;reference_info&quot;&gt;
 4108           &lt;inptr&gt;
 4109             &lt;struct&gt;jvmtiHeapReferenceInfo&lt;/struct&gt;
 4110           &lt;/inptr&gt;
 4111           &lt;description&gt;
 4112             Details about the reference.
 4113             Set when the &lt;datalink id=&quot;jvmtiHeapReferenceCallback.reference_kind&quot;&gt;reference_kind&lt;/datalink&gt; is
 4114             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt;,
 4115             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt;,
 4116             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_ARRAY_ELEMENT&quot;/&gt;,
 4117             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&quot;/&gt;,
 4118             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STACK_LOCAL&quot;/&gt;,
 4119             or &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_JNI_LOCAL&quot;/&gt;.
 4120             Otherwise &lt;code&gt;NULL&lt;/code&gt;.
 4121           &lt;/description&gt;
 4122         &lt;/param&gt;
 4123         &lt;param id=&quot;class_tag&quot;&gt;
 4124           &lt;jlong/&gt;
 4125           &lt;description&gt;
 4126             The tag of the class of referree object (zero if the class is not tagged).
 4127             If the referree object represents a runtime class,
 4128             the &lt;code&gt;class_tag&lt;/code&gt; is the tag
 4129             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 4130             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 4131           &lt;/description&gt;
 4132         &lt;/param&gt;
 4133         &lt;param id=&quot;referrer_class_tag&quot;&gt;
 4134           &lt;jlong/&gt;
 4135           &lt;description&gt;
 4136             The tag of the class of the referrer object (zero if the class is not tagged
 4137             or the referree is a heap root). If the referrer object represents a runtime
 4138             class, the &lt;code&gt;referrer_class_tag&lt;/code&gt; is the tag associated with
 4139             the &lt;code&gt;java.lang.Class&lt;/code&gt;
 4140             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 4141           &lt;/description&gt;
 4142         &lt;/param&gt;
 4143         &lt;param id=&quot;size&quot;&gt;
 4144           &lt;jlong/&gt;
 4145           &lt;description&gt;
 4146             Size of the referree object (in bytes).
 4147             See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 4148           &lt;/description&gt;
 4149         &lt;/param&gt;
 4150         &lt;param id=&quot;tag_ptr&quot;&gt;
 4151           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4152           &lt;description&gt;
 4153             Points to the referree object tag value, or zero if the object is not
 4154             tagged.
 4155             To set the tag value to be associated with the object
 4156             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4157           &lt;/description&gt;
 4158         &lt;/param&gt;
 4159         &lt;param id=&quot;referrer_tag_ptr&quot;&gt;
 4160           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4161           &lt;description&gt;
 4162             Points to the tag of the referrer object, or
 4163             points to the zero if the referrer
 4164             object is not tagged.
 4165             &lt;code&gt;NULL&lt;/code&gt; if the referrer in not an object (that is,
 4166             this callback is reporting a heap root).
 4167             To set the tag value to be associated with the referrer object
 4168             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4169             If this callback is reporting a reference from an object to itself,
 4170             &lt;code&gt;referrer_tag_ptr == tag_ptr&lt;/code&gt;.
 4171           &lt;/description&gt;
 4172         &lt;/param&gt;
 4173         &lt;param id=&quot;length&quot;&gt;
 4174           &lt;jint/&gt;
 4175           &lt;description&gt;
 4176             If this object is an array, the length of the array. Otherwise negative one (-1).
 4177           &lt;/description&gt;
 4178         &lt;/param&gt;
 4179         &lt;param id=&quot;user_data&quot;&gt;
 4180           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4181           &lt;description&gt;
 4182             The user supplied data that was passed into the iteration function.
 4183           &lt;/description&gt;
 4184         &lt;/param&gt;
 4185       &lt;/parameters&gt;
 4186     &lt;/callback&gt;
 4187 
 4188     &lt;callback id=&quot;jvmtiPrimitiveFieldCallback&quot; since=&quot;1.1&quot;&gt;
 4189       &lt;jint/&gt;
 4190       &lt;synopsis&gt;Primitive Field Callback&lt;/synopsis&gt;
 4191       &lt;description&gt;
 4192         Agent supplied callback function which
 4193         describes a primitive field of an object (&lt;i&gt;the object&lt;/i&gt;).
 4194         A primitive field is a field whose type is a primitive type.
 4195         This callback will describe a static field if the object is a class,
 4196         and otherwise will describe an instance field.
 4197         &lt;p/&gt;
 4198         This function should return a bit vector of the desired
 4199         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4200         This will determine if the entire iteration should be aborted
 4201         (the &lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; flag is ignored).
 4202         &lt;p/&gt;
 4203         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4204         function restrictions&lt;/internallink&gt;.
 4205       &lt;/description&gt;
 4206       &lt;parameters&gt;
 4207         &lt;param id=&quot;kind&quot;&gt;
 4208           &lt;enum&gt;jvmtiHeapReferenceKind&lt;/enum&gt;
 4209           &lt;description&gt;
 4210             The kind of field -- instance or static (&lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt; or
 4211             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt;).
 4212           &lt;/description&gt;
 4213         &lt;/param&gt;
 4214         &lt;param id=&quot;info&quot;&gt;
 4215           &lt;inptr&gt;
 4216             &lt;struct&gt;jvmtiHeapReferenceInfo&lt;/struct&gt;
 4217           &lt;/inptr&gt;
 4218           &lt;description&gt;
 4219             Which field (the field index).
 4220           &lt;/description&gt;
 4221         &lt;/param&gt;
 4222         &lt;param id=&quot;object_class_tag&quot;&gt;
 4223           &lt;jlong/&gt;
 4224           &lt;description&gt;
 4225             The tag of the class of the object (zero if the class is not tagged).
 4226             If the object represents a runtime class, the
 4227             &lt;code&gt;object_class_tag&lt;/code&gt; is the tag
 4228             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 4229             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 4230           &lt;/description&gt;
 4231         &lt;/param&gt;
 4232         &lt;param id=&quot;object_tag_ptr&quot;&gt;
 4233           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4234           &lt;description&gt;
 4235             Points to the tag of the object, or zero if the object is not
 4236             tagged.
 4237             To set the tag value to be associated with the object
 4238             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4239           &lt;/description&gt;
 4240         &lt;/param&gt;
 4241         &lt;param id=&quot;value&quot;&gt;
 4242           &lt;jvalue/&gt;
 4243           &lt;description&gt;
 4244             The value of the field.
 4245           &lt;/description&gt;
 4246         &lt;/param&gt;
 4247         &lt;param id=&quot;value_type&quot;&gt;
 4248           &lt;enum&gt;jvmtiPrimitiveType&lt;/enum&gt;
 4249           &lt;description&gt;
 4250             The type of the field.
 4251           &lt;/description&gt;
 4252         &lt;/param&gt;
 4253         &lt;param id=&quot;user_data&quot;&gt;
 4254           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4255           &lt;description&gt;
 4256             The user supplied data that was passed into the iteration function.
 4257           &lt;/description&gt;
 4258         &lt;/param&gt;
 4259       &lt;/parameters&gt;
 4260     &lt;/callback&gt;
 4261 
 4262     &lt;callback id=&quot;jvmtiArrayPrimitiveValueCallback&quot; since=&quot;1.1&quot;&gt;
 4263       &lt;jint/&gt;
 4264       &lt;synopsis&gt;Array Primitive Value Callback&lt;/synopsis&gt;
 4265       &lt;description&gt;
 4266         Agent supplied callback function.
 4267         Describes the values in an array of a primitive type.
 4268         &lt;p/&gt;
 4269         This function should return a bit vector of the desired
 4270         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4271         This will determine if the entire iteration should be aborted
 4272         (the &lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; flag is ignored).
 4273         &lt;p/&gt;
 4274         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4275         function restrictions&lt;/internallink&gt;.
 4276       &lt;/description&gt;
 4277       &lt;parameters&gt;
 4278         &lt;param id=&quot;class_tag&quot;&gt;
 4279           &lt;jlong/&gt;
 4280           &lt;description&gt;
 4281             The tag of the class of the array object (zero if the class is not tagged).
 4282           &lt;/description&gt;
 4283         &lt;/param&gt;
 4284         &lt;param id=&quot;size&quot;&gt;
 4285           &lt;jlong/&gt;
 4286           &lt;description&gt;
 4287             Size of the array (in bytes).
 4288             See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 4289           &lt;/description&gt;
 4290         &lt;/param&gt;
 4291         &lt;param id=&quot;tag_ptr&quot;&gt;
 4292           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4293           &lt;description&gt;
 4294             Points to the tag of the array object, or zero if the object is not
 4295             tagged.
 4296             To set the tag value to be associated with the object
 4297             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4298           &lt;/description&gt;
 4299         &lt;/param&gt;
 4300         &lt;param id=&quot;element_count&quot;&gt;
 4301           &lt;jint/&gt;
 4302           &lt;description&gt;
 4303             The length of the primitive array.
 4304           &lt;/description&gt;
 4305         &lt;/param&gt;
 4306         &lt;param id=&quot;element_type&quot;&gt;
 4307           &lt;enum&gt;jvmtiPrimitiveType&lt;/enum&gt;
 4308           &lt;description&gt;
 4309             The type of the elements of the array.
 4310           &lt;/description&gt;
 4311         &lt;/param&gt;
 4312         &lt;param id=&quot;elements&quot;&gt;
 4313           &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
 4314           &lt;description&gt;
 4315             The elements of the array in a packed array of &lt;code&gt;element_count&lt;/code&gt;
 4316             items of &lt;code&gt;element_type&lt;/code&gt; size each.
 4317           &lt;/description&gt;
 4318         &lt;/param&gt;
 4319         &lt;param id=&quot;user_data&quot;&gt;
 4320           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4321           &lt;description&gt;
 4322             The user supplied data that was passed into the iteration function.
 4323           &lt;/description&gt;
 4324         &lt;/param&gt;
 4325       &lt;/parameters&gt;
 4326     &lt;/callback&gt;
 4327 
 4328     &lt;callback id=&quot;jvmtiStringPrimitiveValueCallback&quot; since=&quot;1.1&quot;&gt;
 4329       &lt;jint/&gt;
 4330       &lt;synopsis&gt;String Primitive Value Callback&lt;/synopsis&gt;
 4331       &lt;description&gt;
 4332         Agent supplied callback function.
 4333         Describes the value of a java.lang.String.
 4334         &lt;p/&gt;
 4335         This function should return a bit vector of the desired
 4336         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4337         This will determine if the entire iteration should be aborted
 4338         (the &lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; flag is ignored).
 4339         &lt;p/&gt;
 4340         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4341         function restrictions&lt;/internallink&gt;.
 4342       &lt;/description&gt;
 4343       &lt;parameters&gt;
 4344         &lt;param id=&quot;class_tag&quot;&gt;
 4345           &lt;jlong/&gt;
 4346           &lt;description&gt;
 4347             The tag of the class of the String class (zero if the class is not tagged).
 4348             &lt;issue&gt;Is this needed?&lt;/issue&gt;
 4349           &lt;/description&gt;
 4350         &lt;/param&gt;
 4351         &lt;param id=&quot;size&quot;&gt;
 4352           &lt;jlong/&gt;
 4353           &lt;description&gt;
 4354             Size of the string (in bytes).
 4355             See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 4356           &lt;/description&gt;
 4357         &lt;/param&gt;
 4358         &lt;param id=&quot;tag_ptr&quot;&gt;
 4359           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4360           &lt;description&gt;
 4361             Points to the tag of the String object, or zero if the object is not
 4362             tagged.
 4363             To set the tag value to be associated with the object
 4364             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4365           &lt;/description&gt;
 4366         &lt;/param&gt;
 4367         &lt;param id=&quot;value&quot;&gt;
 4368           &lt;vmbuf&gt;&lt;jchar/&gt;&lt;/vmbuf&gt;
 4369           &lt;description&gt;
 4370             The value of the String, encoded as a Unicode string.
 4371           &lt;/description&gt;
 4372         &lt;/param&gt;
 4373         &lt;param id=&quot;value_length&quot;&gt;
 4374           &lt;jint/&gt;
 4375           &lt;description&gt;
 4376             The length of the string.
 4377             The length is equal to the number of 16-bit Unicode
 4378             characters in the string.
 4379           &lt;/description&gt;
 4380         &lt;/param&gt;
 4381         &lt;param id=&quot;user_data&quot;&gt;
 4382           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4383           &lt;description&gt;
 4384             The user supplied data that was passed into the iteration function.
 4385           &lt;/description&gt;
 4386         &lt;/param&gt;
 4387       &lt;/parameters&gt;
 4388     &lt;/callback&gt;
 4389 
 4390 
 4391     &lt;callback id=&quot;jvmtiReservedCallback&quot; since=&quot;1.1&quot;&gt;
 4392       &lt;jint/&gt;
 4393       &lt;synopsis&gt;reserved for future use Callback&lt;/synopsis&gt;
 4394       &lt;description&gt;
 4395         Placeholder -- reserved for future use.
 4396       &lt;/description&gt;
 4397       &lt;parameters&gt;
 4398       &lt;/parameters&gt;
 4399     &lt;/callback&gt;
 4400 
 4401     &lt;function id=&quot;FollowReferences&quot; num=&quot;115&quot; since=&quot;1.1&quot;&gt;
 4402       &lt;synopsis&gt;Follow References&lt;/synopsis&gt;
 4403       &lt;description&gt;
 4404         This function initiates a traversal over the objects that are
 4405         directly and indirectly reachable from the specified object or,
 4406         if &lt;code&gt;initial_object&lt;/code&gt; is not specified, all objects
 4407         reachable from the heap roots.
 4408         The heap root are the set of system classes,
 4409         JNI globals, references from thread stacks, and other objects used as roots
 4410         for the purposes of garbage collection.
 4411         &lt;p/&gt;
 4412         This function operates by traversing the reference graph.
 4413         Let &lt;i&gt;A&lt;/i&gt;, &lt;i&gt;B&lt;/i&gt;, ... represent objects.
 4414         When a reference from &lt;i&gt;A&lt;/i&gt; to &lt;i&gt;B&lt;/i&gt; is traversed,
 4415         when a reference from a heap root to &lt;i&gt;B&lt;/i&gt; is traversed,
 4416         or when &lt;i&gt;B&lt;/i&gt; is specified as the &lt;paramlink id=&quot;initial_object&quot;/&gt;,
 4417         then &lt;i&gt;B&lt;/i&gt; is said to be &lt;i&gt;visited&lt;/i&gt;.
 4418         A reference from &lt;i&gt;A&lt;/i&gt; to &lt;i&gt;B&lt;/i&gt; is not traversed until &lt;i&gt;A&lt;/i&gt;
 4419         is visited.
 4420         References are reported in the same order that the references are traversed.
 4421         Object references are reported by invoking the agent supplied
 4422         callback function &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;/&gt;.
 4423         In a reference from &lt;i&gt;A&lt;/i&gt; to &lt;i&gt;B&lt;/i&gt;, &lt;i&gt;A&lt;/i&gt; is known
 4424         as the &lt;i&gt;referrer&lt;/i&gt; and &lt;i&gt;B&lt;/i&gt; as the &lt;i&gt;referree&lt;/i&gt;.
 4425         The callback is invoked exactly once for each reference from a referrer;
 4426         this is true even if there are reference cycles or multiple paths to
 4427         the referrer.
 4428         There may be more than one reference between a referrer and a referree,
 4429         each reference is reported.
 4430         These references may be distinguished by examining the
 4431         &lt;datalink
 4432          id=&quot;jvmtiHeapReferenceCallback.reference_kind&quot;&gt;&lt;code&gt;reference_kind&lt;/code&gt;&lt;/datalink&gt;
 4433          and
 4434         &lt;datalink
 4435          id=&quot;jvmtiHeapReferenceCallback.reference_info&quot;&gt;&lt;code&gt;reference_info&lt;/code&gt;&lt;/datalink&gt;
 4436         parameters of the &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;/&gt; callback.
 4437         &lt;p/&gt;
 4438         This function reports a Java programming language view of object references,
 4439         not a virtual machine implementation view. The following object references
 4440         are reported when they are non-null:
 4441         &lt;ul&gt;
 4442           &lt;li&gt;Instance objects report references to each non-primitive instance fields
 4443               (including inherited fields).&lt;/li&gt;
 4444           &lt;li&gt;Instance objects report a reference to the object type (class).&lt;/li&gt;
 4445           &lt;li&gt;Classes report a reference to the superclass and directly
 4446               implemented/extended interfaces.&lt;/li&gt;
 4447           &lt;li&gt;Classes report a reference to the class loader, protection domain,
 4448               signers, and resolved entries in the constant pool.&lt;/li&gt;
 4449           &lt;li&gt;Classes report a reference to each directly declared non-primitive
 4450               static field.&lt;/li&gt;
 4451           &lt;li&gt;Arrays report a reference to the array type (class) and each
 4452               array element.&lt;/li&gt;
 4453           &lt;li&gt;Primitive arrays report a reference to the array type.&lt;/li&gt;
 4454         &lt;/ul&gt;
 4455         &lt;p/&gt;
 4456         This function can also be used to examine primitive (non-object) values.
 4457         The primitive value of an array or String
 4458         is reported after the object has been visited;
 4459         it is reported by invoking the agent supplied callback function
 4460         &lt;functionlink id=&quot;jvmtiArrayPrimitiveValueCallback&quot;/&gt; or
 4461         &lt;functionlink id=&quot;jvmtiStringPrimitiveValueCallback&quot;/&gt;.
 4462         A primitive field
 4463         is reported after the object with that field is visited;
 4464         it is reported by invoking the agent supplied callback function
 4465         &lt;functionlink id=&quot;jvmtiPrimitiveFieldCallback&quot;/&gt;.
 4466         &lt;p/&gt;
 4467         Whether a callback is provided or is &lt;code&gt;NULL&lt;/code&gt; only determines
 4468         whether the callback will be invoked, it does not influence
 4469         which objects are visited nor does it influence whether other callbacks
 4470         will be invoked.
 4471         However, the
 4472         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;
 4473         returned by &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;/&gt;
 4474         do determine if the objects referenced by the
 4475         current object as visited.
 4476         The &lt;datalink id=&quot;jvmtiHeapFilter&quot;&gt;heap filter flags&lt;/datalink&gt;
 4477         and &lt;paramlink id=&quot;klass&quot;/&gt; provided as parameters to this function
 4478         do not control which objects are visited but they do control which
 4479         objects and primitive values are reported by the callbacks.
 4480         For example, if the only callback that was set is
 4481         &lt;fieldlink id=&quot;array_primitive_value_callback&quot; struct=&quot;jvmtiHeapCallbacks&quot;/&gt; and &lt;code&gt;klass&lt;/code&gt;
 4482         is set to the array of bytes class, then only arrays of byte will be
 4483         reported.
 4484         The table below summarizes this:
 4485         &lt;p/&gt;
 4486         &lt;table&gt;
 4487           &lt;tr class=&quot;bgLight&quot;&gt;
 4488             &lt;th/&gt;
 4489             &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Controls objects visited&lt;/th&gt;
 4490             &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Controls objects reported&lt;/th&gt;
 4491             &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Controls primitives reported&lt;/th&gt;
 4492           &lt;/tr&gt;
 4493           &lt;tr&gt;
 4494             &lt;th scope=&quot;row&quot;&gt;
 4495               the
 4496               &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;Heap Visit Control Flags&lt;/datalink&gt;
 4497               returned by &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;/&gt;
 4498             &lt;/th&gt;
 4499             &lt;td class=&quot;centered&quot;&gt;
 4500               &lt;b&gt;Yes&lt;/b&gt;
 4501             &lt;/td&gt;
 4502             &lt;td class=&quot;centered&quot;&gt;
 4503               &lt;b&gt;Yes&lt;/b&gt;, since visits are controlled
 4504             &lt;/td&gt;
 4505             &lt;td class=&quot;centered&quot;&gt;
 4506               &lt;b&gt;Yes&lt;/b&gt;, since visits are controlled
 4507             &lt;/td&gt;
 4508           &lt;/tr&gt;
 4509           &lt;tr&gt;
 4510             &lt;th scope=&quot;row&quot;&gt;
 4511               &lt;fieldlink id=&quot;array_primitive_value_callback&quot; struct=&quot;jvmtiHeapCallbacks&quot;/&gt;
 4512               in &lt;paramlink id=&quot;callbacks&quot;/&gt; set
 4513             &lt;/th&gt;
 4514             &lt;td class=&quot;centered&quot;&gt;
 4515               No
 4516             &lt;/td&gt;
 4517             &lt;td class=&quot;centered&quot;&gt;
 4518               &lt;b&gt;Yes&lt;/b&gt;
 4519             &lt;/td&gt;
 4520             &lt;td class=&quot;centered&quot;&gt;
 4521               No
 4522             &lt;/td&gt;
 4523           &lt;/tr&gt;
 4524           &lt;tr&gt;
 4525             &lt;th scope=&quot;row&quot;&gt;
 4526               &lt;paramlink id=&quot;heap_filter&quot;/&gt;
 4527             &lt;/th&gt;
 4528             &lt;td class=&quot;centered&quot;&gt;
 4529               No
 4530             &lt;/td&gt;
 4531             &lt;td class=&quot;centered&quot;&gt;
 4532               &lt;b&gt;Yes&lt;/b&gt;
 4533             &lt;/td&gt;
 4534             &lt;td class=&quot;centered&quot;&gt;
 4535               &lt;b&gt;Yes&lt;/b&gt;
 4536             &lt;/td&gt;
 4537           &lt;/tr&gt;
 4538           &lt;tr&gt;
 4539             &lt;th scope=&quot;row&quot;&gt;
 4540               &lt;paramlink id=&quot;klass&quot;/&gt;
 4541             &lt;/th&gt;
 4542             &lt;td class=&quot;centered&quot;&gt;
 4543               No
 4544             &lt;/td&gt;
 4545             &lt;td class=&quot;centered&quot;&gt;
 4546               &lt;b&gt;Yes&lt;/b&gt;
 4547             &lt;/td&gt;
 4548             &lt;td class=&quot;centered&quot;&gt;
 4549               &lt;b&gt;Yes&lt;/b&gt;
 4550             &lt;/td&gt;
 4551           &lt;/tr&gt;
 4552         &lt;/table&gt;
 4553         &lt;p/&gt;
 4554         During the execution of this function the state of the heap
 4555         does not change: no objects are allocated, no objects are
 4556         garbage collected, and the state of objects (including
 4557         held values) does not change.
 4558         As a result, threads executing Java
 4559         programming language code, threads attempting to resume the
 4560         execution of Java programming language code, and threads
 4561         attempting to execute JNI functions are typically stalled.
 4562       &lt;/description&gt;
 4563       &lt;origin&gt;new&lt;/origin&gt;
 4564       &lt;capabilities&gt;
 4565         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4566       &lt;/capabilities&gt;
 4567       &lt;parameters&gt;
 4568         &lt;param id=&quot;heap_filter&quot;&gt;
 4569           &lt;jint/&gt;
 4570           &lt;description&gt;
 4571             This bit vector of
 4572             &lt;datalink id=&quot;jvmtiHeapFilter&quot;&gt;heap filter flags&lt;/datalink&gt;.
 4573             restricts the objects for which the callback function is called.
 4574             This applies to both the object and primitive callbacks.
 4575           &lt;/description&gt;
 4576         &lt;/param&gt;
 4577         &lt;param id=&quot;klass&quot;&gt;
 4578           &lt;ptrtype&gt;
 4579             &lt;jclass/&gt;
 4580             &lt;nullok&gt;callbacks are not limited to instances of a particular
 4581                     class&lt;/nullok&gt;
 4582           &lt;/ptrtype&gt;
 4583           &lt;description&gt;
 4584             Callbacks are only reported when the object is an instance of
 4585             this class.
 4586             Objects which are instances of a subclass of &lt;code&gt;klass&lt;/code&gt;
 4587             are not reported.
 4588             If &lt;code&gt;klass&lt;/code&gt; is an interface, no objects are reported.
 4589             This applies to both the object and primitive callbacks.
 4590           &lt;/description&gt;
 4591         &lt;/param&gt;
 4592         &lt;param id=&quot;initial_object&quot;&gt;
 4593           &lt;ptrtype&gt;
 4594             &lt;jobject/&gt;
 4595             &lt;nullok&gt;references are followed from the heap roots&lt;/nullok&gt;
 4596           &lt;/ptrtype&gt;
 4597           &lt;description&gt;
 4598             The object to follow
 4599           &lt;/description&gt;
 4600         &lt;/param&gt;
 4601         &lt;param id=&quot;callbacks&quot;&gt;
 4602           &lt;inptr&gt;
 4603             &lt;struct&gt;jvmtiHeapCallbacks&lt;/struct&gt;
 4604           &lt;/inptr&gt;
 4605           &lt;description&gt;
 4606             Structure defining the set of callback functions.
 4607           &lt;/description&gt;
 4608         &lt;/param&gt;
 4609         &lt;param id=&quot;user_data&quot;&gt;
 4610           &lt;inbuf&gt;
 4611             &lt;void/&gt;
 4612             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 4613           &lt;/inbuf&gt;
 4614           &lt;description&gt;
 4615             User supplied data to be passed to the callback.
 4616           &lt;/description&gt;
 4617         &lt;/param&gt;
 4618       &lt;/parameters&gt;
 4619       &lt;errors&gt;
 4620         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 4621           &lt;paramlink id=&quot;klass&quot;/&gt; is not a valid class.
 4622         &lt;/error&gt;
 4623         &lt;error id=&quot;JVMTI_ERROR_INVALID_OBJECT&quot;&gt;
 4624           &lt;paramlink id=&quot;initial_object&quot;/&gt; is not a valid object.
 4625         &lt;/error&gt;
 4626       &lt;/errors&gt;
 4627     &lt;/function&gt;
 4628 
 4629 
 4630     &lt;function id=&quot;IterateThroughHeap&quot; num=&quot;116&quot; since=&quot;1.1&quot;&gt;
 4631       &lt;synopsis&gt;Iterate Through Heap&lt;/synopsis&gt;
 4632       &lt;description&gt;
 4633         Initiate an iteration over all objects in the heap.
 4634         This includes both reachable and
 4635         unreachable objects. Objects are visited in no particular order.
 4636         &lt;p/&gt;
 4637         Heap objects are reported by invoking the agent supplied
 4638         callback function &lt;functionlink id=&quot;jvmtiHeapIterationCallback&quot;/&gt;.
 4639         References between objects are not reported.
 4640         If only reachable objects are desired, or if object reference information
 4641         is needed, use &lt;functionlink id=&quot;FollowReferences&quot;/&gt;.
 4642         &lt;p/&gt;
 4643         This function can also be used to examine primitive (non-object) values.
 4644         The primitive value of an array or String
 4645         is reported after the object has been visited;
 4646         it is reported by invoking the agent supplied callback function
 4647         &lt;functionlink id=&quot;jvmtiArrayPrimitiveValueCallback&quot;/&gt; or
 4648         &lt;functionlink id=&quot;jvmtiStringPrimitiveValueCallback&quot;/&gt;.
 4649         A primitive field
 4650         is reported after the object with that field is visited;
 4651         it is reported by invoking the agent supplied
 4652         callback function
 4653         &lt;functionlink id=&quot;jvmtiPrimitiveFieldCallback&quot;/&gt;.
 4654         &lt;p/&gt;
 4655         Unless the iteration is aborted by the
 4656         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;Heap Visit Control Flags&lt;/datalink&gt;
 4657         returned by a callback, all objects in the heap are visited.
 4658         Whether a callback is provided or is &lt;code&gt;NULL&lt;/code&gt; only determines
 4659         whether the callback will be invoked, it does not influence
 4660         which objects are visited nor does it influence whether other callbacks
 4661         will be invoked.
 4662         The &lt;datalink id=&quot;jvmtiHeapFilter&quot;&gt;heap filter flags&lt;/datalink&gt;
 4663         and &lt;paramlink id=&quot;klass&quot;/&gt; provided as parameters to this function
 4664         do not control which objects are visited but they do control which
 4665         objects and primitive values are reported by the callbacks.
 4666         For example, if the only callback that was set is
 4667         &lt;fieldlink id=&quot;array_primitive_value_callback&quot; struct=&quot;jvmtiHeapCallbacks&quot;/&gt; and &lt;code&gt;klass&lt;/code&gt;
 4668         is set to the array of bytes class, then only arrays of byte will be
 4669         reported. The table below summarizes this (contrast this with
 4670         &lt;functionlink id=&quot;FollowReferences&quot;/&gt;):
 4671         &lt;p/&gt;
 4672         &lt;table&gt;
 4673           &lt;tr class=&quot;bgLight&quot;&gt;
 4674             &lt;th/&gt;
 4675             &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Controls objects visited&lt;/th&gt;
 4676             &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Controls objects reported&lt;/th&gt;
 4677             &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Controls primitives reported&lt;/th&gt;
 4678           &lt;/tr&gt;
 4679           &lt;tr&gt;
 4680             &lt;th scope=&quot;row&quot;&gt;
 4681               the
 4682               &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;Heap Visit Control Flags&lt;/datalink&gt;
 4683               returned by &lt;functionlink id=&quot;jvmtiHeapIterationCallback&quot;/&gt;
 4684             &lt;/th&gt;
 4685             &lt;td class=&quot;centered&quot;&gt;
 4686               No&lt;br/&gt;(unless they abort the iteration)
 4687             &lt;/td&gt;
 4688             &lt;td class=&quot;centered&quot;&gt;
 4689               No&lt;br/&gt;(unless they abort the iteration)
 4690             &lt;/td&gt;
 4691             &lt;td class=&quot;centered&quot;&gt;
 4692               No&lt;br/&gt;(unless they abort the iteration)
 4693             &lt;/td&gt;
 4694           &lt;/tr&gt;
 4695           &lt;tr&gt;
 4696             &lt;th scope=&quot;row&quot;&gt;
 4697               &lt;fieldlink id=&quot;array_primitive_value_callback&quot; struct=&quot;jvmtiHeapCallbacks&quot;/&gt;
 4698               in &lt;paramlink id=&quot;callbacks&quot;/&gt; set
 4699             &lt;/th&gt;
 4700             &lt;td class=&quot;centered&quot;&gt;
 4701               No
 4702             &lt;/td&gt;
 4703             &lt;td class=&quot;centered&quot;&gt;
 4704               &lt;b&gt;Yes&lt;/b&gt;
 4705             &lt;/td&gt;
 4706             &lt;td class=&quot;centered&quot;&gt;
 4707               No
 4708             &lt;/td&gt;
 4709           &lt;/tr&gt;
 4710           &lt;tr&gt;
 4711             &lt;th scope=&quot;row&quot;&gt;
 4712               &lt;paramlink id=&quot;heap_filter&quot;/&gt;
 4713             &lt;/th&gt;
 4714             &lt;td class=&quot;centered&quot;&gt;
 4715               No
 4716             &lt;/td&gt;
 4717             &lt;td class=&quot;centered&quot;&gt;
 4718               &lt;b&gt;Yes&lt;/b&gt;
 4719             &lt;/td&gt;
 4720             &lt;td class=&quot;centered&quot;&gt;
 4721               &lt;b&gt;Yes&lt;/b&gt;
 4722             &lt;/td&gt;
 4723           &lt;/tr&gt;
 4724           &lt;tr&gt;
 4725             &lt;th scope=&quot;row&quot;&gt;
 4726               &lt;paramlink id=&quot;klass&quot;/&gt;
 4727             &lt;/th&gt;
 4728             &lt;td class=&quot;centered&quot;&gt;
 4729               No
 4730             &lt;/td&gt;
 4731             &lt;td class=&quot;centered&quot;&gt;
 4732               &lt;b&gt;Yes&lt;/b&gt;
 4733             &lt;/td&gt;
 4734             &lt;td class=&quot;centered&quot;&gt;
 4735               &lt;b&gt;Yes&lt;/b&gt;
 4736             &lt;/td&gt;
 4737           &lt;/tr&gt;
 4738         &lt;/table&gt;
 4739         &lt;p/&gt;
 4740         During the execution of this function the state of the heap
 4741         does not change: no objects are allocated, no objects are
 4742         garbage collected, and the state of objects (including
 4743         held values) does not change.
 4744         As a result, threads executing Java
 4745         programming language code, threads attempting to resume the
 4746         execution of Java programming language code, and threads
 4747         attempting to execute JNI functions are typically stalled.
 4748       &lt;/description&gt;
 4749       &lt;origin&gt;new&lt;/origin&gt;
 4750       &lt;capabilities&gt;
 4751         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4752       &lt;/capabilities&gt;
 4753       &lt;parameters&gt;
 4754         &lt;param id=&quot;heap_filter&quot;&gt;
 4755           &lt;jint/&gt;
 4756           &lt;description&gt;
 4757             This bit vector of
 4758             &lt;datalink id=&quot;jvmtiHeapFilter&quot;&gt;heap filter flags&lt;/datalink&gt;.
 4759             restricts the objects for which the callback function is called.
 4760             This applies to both the object and primitive callbacks.
 4761           &lt;/description&gt;
 4762         &lt;/param&gt;
 4763         &lt;param id=&quot;klass&quot;&gt;
 4764           &lt;ptrtype&gt;
 4765             &lt;jclass/&gt;
 4766             &lt;nullok&gt;callbacks are not limited to instances of a particular class&lt;/nullok&gt;
 4767           &lt;/ptrtype&gt;
 4768           &lt;description&gt;
 4769             Callbacks are only reported when the object is an instance of
 4770             this class.
 4771             Objects which are instances of a subclass of &lt;code&gt;klass&lt;/code&gt;
 4772             are not reported.
 4773             If &lt;code&gt;klass&lt;/code&gt; is an interface, no objects are reported.
 4774             This applies to both the object and primitive callbacks.
 4775           &lt;/description&gt;
 4776         &lt;/param&gt;
 4777         &lt;param id=&quot;callbacks&quot;&gt;
 4778           &lt;inptr&gt;
 4779             &lt;struct&gt;jvmtiHeapCallbacks&lt;/struct&gt;
 4780           &lt;/inptr&gt;
 4781           &lt;description&gt;
 4782             Structure defining the set callback functions.
 4783           &lt;/description&gt;
 4784         &lt;/param&gt;
 4785         &lt;param id=&quot;user_data&quot;&gt;
 4786           &lt;inbuf&gt;
 4787             &lt;void/&gt;
 4788             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 4789           &lt;/inbuf&gt;
 4790           &lt;description&gt;
 4791             User supplied data to be passed to the callback.
 4792           &lt;/description&gt;
 4793         &lt;/param&gt;
 4794       &lt;/parameters&gt;
 4795       &lt;errors&gt;
 4796         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 4797           &lt;paramlink id=&quot;klass&quot;/&gt; is not a valid class.
 4798         &lt;/error&gt;
 4799       &lt;/errors&gt;
 4800     &lt;/function&gt;
 4801 
 4802     &lt;function id=&quot;GetTag&quot; phase=&quot;start&quot; num=&quot;106&quot;&gt;
 4803       &lt;synopsis&gt;Get Tag&lt;/synopsis&gt;
 4804       &lt;description&gt;
 4805         Retrieve the tag associated with an object.
 4806         The tag is a long value typically used to store a
 4807         unique identifier or pointer to object information.
 4808         The tag is set with
 4809         &lt;functionlink id=&quot;SetTag&quot;&gt;&lt;/functionlink&gt;.
 4810         Objects for which no tags have been set return a
 4811         tag value of zero.
 4812       &lt;/description&gt;
 4813       &lt;origin&gt;new&lt;/origin&gt;
 4814       &lt;capabilities&gt;
 4815         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4816       &lt;/capabilities&gt;
 4817       &lt;parameters&gt;
 4818         &lt;param id=&quot;object&quot;&gt;
 4819           &lt;jobject/&gt;
 4820             &lt;description&gt;
 4821               The object whose tag is to be retrieved.
 4822             &lt;/description&gt;
 4823         &lt;/param&gt;
 4824         &lt;param id=&quot;tag_ptr&quot;&gt;
 4825           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4826           &lt;description&gt;
 4827             On return, the referenced long is set to the value
 4828             of the tag.
 4829           &lt;/description&gt;
 4830         &lt;/param&gt;
 4831       &lt;/parameters&gt;
 4832       &lt;errors&gt;
 4833       &lt;/errors&gt;
 4834     &lt;/function&gt;
 4835 
 4836     &lt;function id=&quot;SetTag&quot; phase=&quot;start&quot; num=&quot;107&quot;&gt;
 4837       &lt;synopsis&gt;Set Tag&lt;/synopsis&gt;
 4838       &lt;description&gt;
 4839         Set the tag associated with an object.
 4840         The tag is a long value typically used to store a
 4841         unique identifier or pointer to object information.
 4842         The tag is visible with
 4843         &lt;functionlink id=&quot;GetTag&quot;&gt;&lt;/functionlink&gt;.
 4844       &lt;/description&gt;
 4845       &lt;origin&gt;new&lt;/origin&gt;
 4846       &lt;capabilities&gt;
 4847         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4848       &lt;/capabilities&gt;
 4849       &lt;parameters&gt;
 4850         &lt;param id=&quot;object&quot;&gt;
 4851           &lt;jobject/&gt;
 4852             &lt;description&gt;
 4853               The object whose tag is to be set.
 4854             &lt;/description&gt;
 4855         &lt;/param&gt;
 4856         &lt;param id=&quot;tag&quot;&gt;
 4857           &lt;jlong/&gt;
 4858           &lt;description&gt;
 4859             The new value of the tag.
 4860           &lt;/description&gt;
 4861         &lt;/param&gt;
 4862       &lt;/parameters&gt;
 4863       &lt;errors&gt;
 4864       &lt;/errors&gt;
 4865     &lt;/function&gt;
 4866 
 4867     &lt;function id=&quot;GetObjectsWithTags&quot; num=&quot;114&quot;&gt;
 4868       &lt;synopsis&gt;Get Objects With Tags&lt;/synopsis&gt;
 4869       &lt;description&gt;
 4870         Return objects in the heap with the specified tags.
 4871         The format is parallel arrays of objects and tags.
 4872       &lt;/description&gt;
 4873       &lt;origin&gt;new&lt;/origin&gt;
 4874       &lt;capabilities&gt;
 4875         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4876       &lt;/capabilities&gt;
 4877       &lt;parameters&gt;
 4878         &lt;param id=&quot;tag_count&quot;&gt;
 4879           &lt;jint min=&quot;0&quot;/&gt;
 4880             &lt;description&gt;
 4881               Number of tags to scan for.
 4882             &lt;/description&gt;
 4883         &lt;/param&gt;
 4884         &lt;param id=&quot;tags&quot;&gt;
 4885           &lt;inbuf incount=&quot;tag_count&quot;&gt;
 4886             &lt;jlong/&gt;
 4887           &lt;/inbuf&gt;
 4888             &lt;description&gt;
 4889               Scan for objects with these tags.
 4890               Zero is not permitted in this array.
 4891             &lt;/description&gt;
 4892         &lt;/param&gt;
 4893         &lt;param id=&quot;count_ptr&quot;&gt;
 4894           &lt;outptr&gt;
 4895             &lt;jint/&gt;
 4896           &lt;/outptr&gt;
 4897             &lt;description&gt;
 4898               Return the number of objects with any of the tags
 4899               in &lt;paramlink id=&quot;tags&quot;/&gt;.
 4900             &lt;/description&gt;
 4901         &lt;/param&gt;
 4902         &lt;param id=&quot;object_result_ptr&quot;&gt;
 4903           &lt;allocbuf outcount=&quot;count_ptr&quot;&gt;
 4904             &lt;jobject/&gt;
 4905             &lt;nullok&gt;this information is not returned&lt;/nullok&gt;
 4906           &lt;/allocbuf&gt;
 4907             &lt;description&gt;
 4908               Returns the array of objects with any of the tags
 4909               in &lt;paramlink id=&quot;tags&quot;/&gt;.
 4910             &lt;/description&gt;
 4911         &lt;/param&gt;
 4912         &lt;param id=&quot;tag_result_ptr&quot;&gt;
 4913           &lt;allocbuf outcount=&quot;count_ptr&quot;&gt;
 4914             &lt;jlong/&gt;
 4915             &lt;nullok&gt;this information is not returned&lt;/nullok&gt;
 4916           &lt;/allocbuf&gt;
 4917             &lt;description&gt;
 4918               For each object in &lt;paramlink id=&quot;object_result_ptr&quot;/&gt;,
 4919               return the tag at the corresponding index.
 4920             &lt;/description&gt;
 4921         &lt;/param&gt;
 4922       &lt;/parameters&gt;
 4923       &lt;errors&gt;
 4924         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 4925           Zero is present in &lt;paramlink id=&quot;tags&quot;&gt;&lt;/paramlink&gt;.
 4926         &lt;/error&gt;
 4927       &lt;/errors&gt;
 4928     &lt;/function&gt;
 4929 
 4930     &lt;function id=&quot;ForceGarbageCollection&quot; num=&quot;108&quot;&gt;
 4931       &lt;synopsis&gt;Force Garbage Collection&lt;/synopsis&gt;
 4932       &lt;description&gt;
 4933         Force the VM to perform a garbage collection.
 4934         The garbage collection is as complete as possible.
 4935         This function does not cause finalizers to be run.
 4936         This function does not return until the garbage collection
 4937         is finished.
 4938         &lt;p/&gt;
 4939         Although garbage collection is as complete
 4940         as possible there is no guarantee that all
 4941         &lt;eventlink id=&quot;ObjectFree&quot;/&gt;
 4942         events will have been
 4943         sent by the time that this function
 4944         returns. In particular, an object may be
 4945         prevented from being freed because it
 4946         is awaiting finalization.
 4947       &lt;/description&gt;
 4948       &lt;origin&gt;new&lt;/origin&gt;
 4949       &lt;capabilities&gt;
 4950       &lt;/capabilities&gt;
 4951       &lt;parameters&gt;
 4952       &lt;/parameters&gt;
 4953       &lt;errors&gt;
 4954       &lt;/errors&gt;
 4955     &lt;/function&gt;
 4956 
 4957 
 4958   &lt;/category&gt;
 4959 
 4960   &lt;category id=&quot;Heap_1_0&quot; label=&quot;Heap (1.0)&quot;&gt;
 4961     &lt;intro&gt;
 4962       &lt;b&gt;
 4963         These functions and data types were introduced in the original
 4964         &lt;jvmti/&gt; version 1.0 and have been superseded by more
 4965       &lt;/b&gt;
 4966       &lt;internallink id=&quot;Heap&quot;&gt;&lt;b&gt;powerful and flexible versions&lt;/b&gt;&lt;/internallink&gt;
 4967       &lt;b&gt;
 4968         which:
 4969       &lt;/b&gt;
 4970       &lt;ul&gt;
 4971         &lt;li&gt;
 4972           &lt;b&gt;
 4973             Allow access to primitive values (the value of Strings, arrays,
 4974             and primitive fields)
 4975           &lt;/b&gt;
 4976         &lt;/li&gt;
 4977         &lt;li&gt;
 4978           &lt;b&gt;
 4979             Allow the tag of the referrer to be set, thus enabling more
 4980             efficient localized reference graph building
 4981           &lt;/b&gt;
 4982         &lt;/li&gt;
 4983         &lt;li&gt;
 4984           &lt;b&gt;
 4985             Provide more extensive filtering abilities
 4986           &lt;/b&gt;
 4987         &lt;/li&gt;
 4988         &lt;li&gt;
 4989           &lt;b&gt;
 4990             Are extensible, allowing their abilities to grow in future versions of &lt;jvmti/&gt;
 4991           &lt;/b&gt;
 4992         &lt;/li&gt;
 4993       &lt;/ul&gt;
 4994       &lt;p/&gt;
 4995       &lt;b&gt;Please use the &lt;/b&gt;
 4996       &lt;internallink id=&quot;Heap&quot;&gt;&lt;b&gt;current Heap functions&lt;/b&gt;&lt;/internallink&gt;.
 4997         &lt;p/&gt;
 4998         &lt;constants id=&quot;jvmtiHeapObjectFilter&quot; label=&quot;Heap Object Filter Enumeration&quot; kind=&quot;enum&quot;&gt;
 4999           &lt;constant id=&quot;JVMTI_HEAP_OBJECT_TAGGED&quot; num=&quot;1&quot;&gt;
 5000             Tagged objects only.
 5001           &lt;/constant&gt;
 5002           &lt;constant id=&quot;JVMTI_HEAP_OBJECT_UNTAGGED&quot; num=&quot;2&quot;&gt;
 5003             Untagged objects only.
 5004           &lt;/constant&gt;
 5005           &lt;constant id=&quot;JVMTI_HEAP_OBJECT_EITHER&quot; num=&quot;3&quot;&gt;
 5006             Either tagged or untagged objects.
 5007           &lt;/constant&gt;
 5008         &lt;/constants&gt;
 5009 
 5010         &lt;constants id=&quot;jvmtiHeapRootKind&quot; label=&quot;Heap Root Kind Enumeration&quot; kind=&quot;enum&quot;&gt;
 5011           &lt;constant id=&quot;JVMTI_HEAP_ROOT_JNI_GLOBAL&quot; num=&quot;1&quot;&gt;
 5012             JNI global reference.
 5013           &lt;/constant&gt;
 5014           &lt;constant id=&quot;JVMTI_HEAP_ROOT_SYSTEM_CLASS&quot; num=&quot;2&quot;&gt;
 5015             System class.
 5016           &lt;/constant&gt;
 5017           &lt;constant id=&quot;JVMTI_HEAP_ROOT_MONITOR&quot; num=&quot;3&quot;&gt;
 5018             Monitor.
 5019           &lt;/constant&gt;
 5020           &lt;constant id=&quot;JVMTI_HEAP_ROOT_STACK_LOCAL&quot; num=&quot;4&quot;&gt;
 5021             Stack local.
 5022           &lt;/constant&gt;
 5023           &lt;constant id=&quot;JVMTI_HEAP_ROOT_JNI_LOCAL&quot; num=&quot;5&quot;&gt;
 5024             JNI local reference.
 5025           &lt;/constant&gt;
 5026           &lt;constant id=&quot;JVMTI_HEAP_ROOT_THREAD&quot; num=&quot;6&quot;&gt;
 5027             Thread.
 5028           &lt;/constant&gt;
 5029           &lt;constant id=&quot;JVMTI_HEAP_ROOT_OTHER&quot; num=&quot;7&quot;&gt;
 5030             Other.
 5031           &lt;/constant&gt;
 5032         &lt;/constants&gt;
 5033 
 5034         &lt;constants id=&quot;jvmtiObjectReferenceKind&quot; label=&quot;Object Reference Enumeration&quot; kind=&quot;enum&quot;&gt;
 5035           &lt;constant id=&quot;JVMTI_REFERENCE_CLASS&quot; num=&quot;1&quot;&gt;
 5036             Reference from an object to its class.
 5037           &lt;/constant&gt;
 5038           &lt;constant id=&quot;JVMTI_REFERENCE_FIELD&quot; num=&quot;2&quot;&gt;
 5039             Reference from an object to the value of one of its instance fields.
 5040             For references of this kind the &lt;code&gt;referrer_index&lt;/code&gt;
 5041             parameter to the &lt;internallink id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5042             jvmtiObjectReferenceCallback&lt;/internallink&gt; is the index of the
 5043             the instance field. The index is based on the order of all the
 5044             object&#39;s fields. This includes all fields of the directly declared
 5045             static and instance fields in the class, and includes all fields (both
 5046             public and private) fields declared in superclasses and superinterfaces.
 5047             The index is thus calculated by summing the index of the field in the directly
 5048             declared class (see &lt;functionlink id=&quot;GetClassFields&quot;/&gt;), with the total
 5049             number of fields (both public and private) declared in all superclasses
 5050             and superinterfaces. The index starts at zero.
 5051           &lt;/constant&gt;
 5052           &lt;constant id=&quot;JVMTI_REFERENCE_ARRAY_ELEMENT&quot; num=&quot;3&quot;&gt;
 5053             Reference from an array to one of its elements.
 5054             For references of this kind the &lt;code&gt;referrer_index&lt;/code&gt;
 5055             parameter to the &lt;internallink id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5056             jvmtiObjectReferenceCallback&lt;/internallink&gt; is the array index.
 5057           &lt;/constant&gt;
 5058           &lt;constant id=&quot;JVMTI_REFERENCE_CLASS_LOADER&quot; num=&quot;4&quot;&gt;
 5059             Reference from a class to its class loader.
 5060           &lt;/constant&gt;
 5061           &lt;constant id=&quot;JVMTI_REFERENCE_SIGNERS&quot; num=&quot;5&quot;&gt;
 5062             Reference from a class to its signers array.
 5063           &lt;/constant&gt;
 5064           &lt;constant id=&quot;JVMTI_REFERENCE_PROTECTION_DOMAIN&quot; num=&quot;6&quot;&gt;
 5065             Reference from a class to its protection domain.
 5066           &lt;/constant&gt;
 5067           &lt;constant id=&quot;JVMTI_REFERENCE_INTERFACE&quot; num=&quot;7&quot;&gt;
 5068             Reference from a class to one of its interfaces.
 5069           &lt;/constant&gt;
 5070           &lt;constant id=&quot;JVMTI_REFERENCE_STATIC_FIELD&quot; num=&quot;8&quot;&gt;
 5071             Reference from a class to the value of one of its static fields.
 5072             For references of this kind the &lt;code&gt;referrer_index&lt;/code&gt;
 5073             parameter to the &lt;internallink id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5074             jvmtiObjectReferenceCallback&lt;/internallink&gt; is the index of the
 5075             the static field. The index is based on the order of all the
 5076             object&#39;s fields. This includes all fields of the directly declared
 5077             static and instance fields in the class, and includes all fields (both
 5078             public and private) fields declared in superclasses and superinterfaces.
 5079             The index is thus calculated by summing the index of the field in the directly
 5080             declared class (see &lt;functionlink id=&quot;GetClassFields&quot;/&gt;), with the total
 5081             number of fields (both public and private) declared in all superclasses
 5082             and superinterfaces. The index starts at zero.
 5083             Note: this definition differs from that in the &lt;jvmti/&gt; 1.0 Specification.
 5084             &lt;rationale&gt;No known implementations used the 1.0 definition.&lt;/rationale&gt;
 5085           &lt;/constant&gt;
 5086           &lt;constant id=&quot;JVMTI_REFERENCE_CONSTANT_POOL&quot; num=&quot;9&quot;&gt;
 5087             Reference from a class to a resolved entry in the constant pool.
 5088             For references of this kind the &lt;code&gt;referrer_index&lt;/code&gt;
 5089             parameter to the &lt;internallink id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5090             jvmtiObjectReferenceCallback&lt;/internallink&gt; is the index into
 5091             constant pool table of the class, starting at 1. See
 5092             &lt;vmspec chapter=&quot;4.4&quot;/&gt;.
 5093           &lt;/constant&gt;
 5094         &lt;/constants&gt;
 5095 
 5096         &lt;constants id=&quot;jvmtiIterationControl&quot; label=&quot;Iteration Control Enumeration&quot; kind=&quot;enum&quot;&gt;
 5097           &lt;constant id=&quot;JVMTI_ITERATION_CONTINUE&quot; num=&quot;1&quot;&gt;
 5098             Continue the iteration.
 5099             If this is a reference iteration, follow the references of this object.
 5100           &lt;/constant&gt;
 5101           &lt;constant id=&quot;JVMTI_ITERATION_IGNORE&quot; num=&quot;2&quot;&gt;
 5102             Continue the iteration.
 5103             If this is a reference iteration, ignore the references of this object.
 5104           &lt;/constant&gt;
 5105           &lt;constant id=&quot;JVMTI_ITERATION_ABORT&quot; num=&quot;0&quot;&gt;
 5106             Abort the iteration.
 5107           &lt;/constant&gt;
 5108         &lt;/constants&gt;
 5109     &lt;/intro&gt;
 5110 
 5111     &lt;callback id=&quot;jvmtiHeapObjectCallback&quot;&gt;
 5112       &lt;enum&gt;jvmtiIterationControl&lt;/enum&gt;
 5113       &lt;synopsis&gt;Heap Object Callback&lt;/synopsis&gt;
 5114       &lt;description&gt;
 5115         Agent supplied callback function.
 5116         Describes (but does not pass in) an object in the heap.
 5117         &lt;p/&gt;
 5118         Return value should be &lt;code&gt;JVMTI_ITERATION_CONTINUE&lt;/code&gt; to continue iteration,
 5119         or &lt;code&gt;JVMTI_ITERATION_ABORT&lt;/code&gt; to stop iteration.
 5120         &lt;p/&gt;
 5121         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 5122         function restrictions&lt;/internallink&gt;.
 5123       &lt;/description&gt;
 5124       &lt;parameters&gt;
 5125         &lt;param id=&quot;class_tag&quot;&gt;
 5126           &lt;jlong/&gt;
 5127           &lt;description&gt;
 5128             The tag of the class of object (zero if the class is not tagged).
 5129             If the object represents a runtime class,
 5130             the &lt;code&gt;class_tag&lt;/code&gt; is the tag
 5131             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 5132             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 5133           &lt;/description&gt;
 5134         &lt;/param&gt;
 5135         &lt;param id=&quot;size&quot;&gt;
 5136           &lt;jlong/&gt;
 5137           &lt;description&gt;
 5138             Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 5139           &lt;/description&gt;
 5140         &lt;/param&gt;
 5141         &lt;param id=&quot;tag_ptr&quot;&gt;
 5142           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5143           &lt;description&gt;
 5144             The object tag value, or zero if the object is not tagged.
 5145             To set the tag value to be associated with the object
 5146             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 5147           &lt;/description&gt;
 5148         &lt;/param&gt;
 5149         &lt;param id=&quot;user_data&quot;&gt;
 5150           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 5151           &lt;description&gt;
 5152             The user supplied data that was passed into the iteration function.
 5153           &lt;/description&gt;
 5154         &lt;/param&gt;
 5155       &lt;/parameters&gt;
 5156     &lt;/callback&gt;
 5157 
 5158     &lt;callback id=&quot;jvmtiHeapRootCallback&quot;&gt;
 5159       &lt;enum&gt;jvmtiIterationControl&lt;/enum&gt;
 5160       &lt;synopsis&gt;Heap Root Object Callback&lt;/synopsis&gt;
 5161       &lt;description&gt;
 5162         Agent supplied callback function.
 5163         Describes (but does not pass in) an object that is a root for the purposes
 5164         of garbage collection.
 5165         &lt;p/&gt;
 5166         Return value should be &lt;code&gt;JVMTI_ITERATION_CONTINUE&lt;/code&gt; to continue iteration,
 5167         &lt;code&gt;JVMTI_ITERATION_IGNORE&lt;/code&gt; to continue iteration without pursuing
 5168         references from referree object or &lt;code&gt;JVMTI_ITERATION_ABORT&lt;/code&gt; to stop iteration.
 5169         &lt;p/&gt;
 5170         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 5171         function restrictions&lt;/internallink&gt;.
 5172       &lt;/description&gt;
 5173       &lt;parameters&gt;
 5174         &lt;param id=&quot;root_kind&quot;&gt;
 5175           &lt;enum&gt;jvmtiHeapRootKind&lt;/enum&gt;
 5176           &lt;description&gt;
 5177             The kind of heap root.
 5178           &lt;/description&gt;
 5179         &lt;/param&gt;
 5180         &lt;param id=&quot;class_tag&quot;&gt;
 5181           &lt;jlong/&gt;
 5182           &lt;description&gt;
 5183             The tag of the class of object (zero if the class is not tagged).
 5184             If the object represents a runtime class, the &lt;code&gt;class_tag&lt;/code&gt; is the tag
 5185             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 5186             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 5187           &lt;/description&gt;
 5188         &lt;/param&gt;
 5189         &lt;param id=&quot;size&quot;&gt;
 5190           &lt;jlong/&gt;
 5191           &lt;description&gt;
 5192             Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 5193           &lt;/description&gt;
 5194         &lt;/param&gt;
 5195         &lt;param id=&quot;tag_ptr&quot;&gt;
 5196           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5197           &lt;description&gt;
 5198             The object tag value, or zero if the object is not tagged.
 5199             To set the tag value to be associated with the object
 5200             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 5201           &lt;/description&gt;
 5202         &lt;/param&gt;
 5203         &lt;param id=&quot;user_data&quot;&gt;
 5204           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 5205           &lt;description&gt;
 5206             The user supplied data that was passed into the iteration function.
 5207           &lt;/description&gt;
 5208         &lt;/param&gt;
 5209       &lt;/parameters&gt;
 5210     &lt;/callback&gt;
 5211 
 5212     &lt;callback id=&quot;jvmtiStackReferenceCallback&quot;&gt;
 5213       &lt;enum&gt;jvmtiIterationControl&lt;/enum&gt;
 5214       &lt;synopsis&gt;Stack Reference Object Callback&lt;/synopsis&gt;
 5215       &lt;description&gt;
 5216         Agent supplied callback function.
 5217         Describes (but does not pass in) an object on the stack that is a root for
 5218         the purposes of garbage collection.
 5219         &lt;p/&gt;
 5220         Return value should be &lt;code&gt;JVMTI_ITERATION_CONTINUE&lt;/code&gt; to continue iteration,
 5221         &lt;code&gt;JVMTI_ITERATION_IGNORE&lt;/code&gt; to continue iteration without pursuing
 5222         references from referree object or &lt;code&gt;JVMTI_ITERATION_ABORT&lt;/code&gt; to stop iteration.
 5223         &lt;p/&gt;
 5224         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 5225         function restrictions&lt;/internallink&gt;.
 5226       &lt;/description&gt;
 5227       &lt;parameters&gt;
 5228         &lt;param id=&quot;root_kind&quot;&gt;
 5229           &lt;enum&gt;jvmtiHeapRootKind&lt;/enum&gt;
 5230           &lt;description&gt;
 5231             The kind of root (either &lt;code&gt;JVMTI_HEAP_ROOT_STACK_LOCAL&lt;/code&gt; or
 5232             &lt;code&gt;JVMTI_HEAP_ROOT_JNI_LOCAL&lt;/code&gt;).
 5233           &lt;/description&gt;
 5234         &lt;/param&gt;
 5235         &lt;param id=&quot;class_tag&quot;&gt;
 5236           &lt;jlong/&gt;
 5237           &lt;description&gt;
 5238            The tag of the class of object (zero if the class is not tagged).
 5239            If the object represents a runtime class, the  &lt;code&gt;class_tag&lt;/code&gt; is the tag
 5240            associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 5241            (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 5242           &lt;/description&gt;
 5243         &lt;/param&gt;
 5244         &lt;param id=&quot;size&quot;&gt;
 5245           &lt;jlong/&gt;
 5246           &lt;description&gt;
 5247             Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 5248           &lt;/description&gt;
 5249         &lt;/param&gt;
 5250         &lt;param id=&quot;tag_ptr&quot;&gt;
 5251           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5252           &lt;description&gt;
 5253             The object tag value, or zero if the object is not tagged.
 5254             To set the tag value to be associated with the object
 5255             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 5256           &lt;/description&gt;
 5257         &lt;/param&gt;
 5258         &lt;param id=&quot;thread_tag&quot;&gt;
 5259           &lt;jlong/&gt;
 5260           &lt;description&gt;
 5261             The tag of the thread corresponding to this stack, zero if not tagged.
 5262           &lt;/description&gt;
 5263         &lt;/param&gt;
 5264         &lt;param id=&quot;depth&quot;&gt;
 5265           &lt;jint/&gt;
 5266           &lt;description&gt;
 5267             The depth of the frame.
 5268           &lt;/description&gt;
 5269         &lt;/param&gt;
 5270         &lt;param id=&quot;method&quot;&gt;
 5271           &lt;jmethodID/&gt;
 5272           &lt;description&gt;
 5273             The method executing in this frame.
 5274           &lt;/description&gt;
 5275         &lt;/param&gt;
 5276         &lt;param id=&quot;slot&quot;&gt;
 5277           &lt;jint/&gt;
 5278           &lt;description&gt;
 5279             The slot number.
 5280           &lt;/description&gt;
 5281         &lt;/param&gt;
 5282         &lt;param id=&quot;user_data&quot;&gt;
 5283           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 5284           &lt;description&gt;
 5285             The user supplied data that was passed into the iteration function.
 5286           &lt;/description&gt;
 5287         &lt;/param&gt;
 5288       &lt;/parameters&gt;
 5289     &lt;/callback&gt;
 5290 
 5291     &lt;callback id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5292       &lt;enum&gt;jvmtiIterationControl&lt;/enum&gt;
 5293       &lt;synopsis&gt;Object Reference Callback&lt;/synopsis&gt;
 5294       &lt;description&gt;
 5295         Agent supplied callback function.
 5296         Describes a reference from an object (the referrer) to another object
 5297         (the referree).
 5298         &lt;p/&gt;
 5299         Return value should be &lt;code&gt;JVMTI_ITERATION_CONTINUE&lt;/code&gt; to continue iteration,
 5300         &lt;code&gt;JVMTI_ITERATION_IGNORE&lt;/code&gt; to continue iteration without pursuing
 5301         references from referree object or &lt;code&gt;JVMTI_ITERATION_ABORT&lt;/code&gt; to stop iteration.
 5302         &lt;p/&gt;
 5303         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 5304         function restrictions&lt;/internallink&gt;.
 5305       &lt;/description&gt;
 5306       &lt;parameters&gt;
 5307         &lt;param id=&quot;reference_kind&quot;&gt;
 5308           &lt;enum&gt;jvmtiObjectReferenceKind&lt;/enum&gt;
 5309           &lt;description&gt;
 5310             The type of reference.
 5311           &lt;/description&gt;
 5312         &lt;/param&gt;
 5313         &lt;param id=&quot;class_tag&quot;&gt;
 5314           &lt;jlong/&gt;
 5315           &lt;description&gt;
 5316             The tag of the class of referree object (zero if the class is not tagged).
 5317             If the referree object represents a runtime class,
 5318             the  &lt;code&gt;class_tag&lt;/code&gt; is the tag
 5319             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 5320             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 5321           &lt;/description&gt;
 5322         &lt;/param&gt;
 5323         &lt;param id=&quot;size&quot;&gt;
 5324           &lt;jlong/&gt;
 5325           &lt;description&gt;
 5326             Size of the referree object (in bytes).
 5327             See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 5328           &lt;/description&gt;
 5329         &lt;/param&gt;
 5330         &lt;param id=&quot;tag_ptr&quot;&gt;
 5331           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5332           &lt;description&gt;
 5333             The referree object tag value, or zero if the object is not
 5334             tagged.
 5335             To set the tag value to be associated with the object
 5336             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 5337           &lt;/description&gt;
 5338         &lt;/param&gt;
 5339         &lt;param id=&quot;referrer_tag&quot;&gt;
 5340           &lt;jlong/&gt;
 5341           &lt;description&gt;
 5342             The tag of the referrer object, or zero if the referrer
 5343             object is not tagged.
 5344           &lt;/description&gt;
 5345         &lt;/param&gt;
 5346         &lt;param id=&quot;referrer_index&quot;&gt;
 5347           &lt;jint/&gt;
 5348           &lt;description&gt;
 5349             For references of type &lt;code&gt;JVMTI_REFERENCE_FIELD&lt;/code&gt; or
 5350             &lt;code&gt;JVMTI_REFERENCE_STATIC_FIELD&lt;/code&gt; the index
 5351             of the field in the referrer object. The index is based on the
 5352             order of all the object&#39;s fields - see &lt;internallink
 5353             id=&quot;JVMTI_REFERENCE_FIELD&quot;&gt;JVMTI_REFERENCE_FIELD&lt;/internallink&gt;
 5354             or &lt;internallink
 5355             id=&quot;JVMTI_REFERENCE_STATIC_FIELD&quot;&gt;JVMTI_REFERENCE_STATIC_FIELD
 5356             &lt;/internallink&gt; for further description.
 5357             &lt;p/&gt;
 5358             For references of type &lt;code&gt;JVMTI_REFERENCE_ARRAY_ELEMENT&lt;/code&gt;
 5359             the array index - see &lt;internallink id=&quot;JVMTI_REFERENCE_ARRAY_ELEMENT&quot;&gt;
 5360             JVMTI_REFERENCE_ARRAY_ELEMENT&lt;/internallink&gt; for further description.
 5361             &lt;p/&gt;
 5362             For references of type &lt;code&gt;JVMTI_REFERENCE_CONSTANT_POOL&lt;/code&gt;
 5363             the index into the constant pool of the class - see
 5364             &lt;internallink id=&quot;JVMTI_REFERENCE_CONSTANT_POOL&quot;&gt;
 5365             JVMTI_REFERENCE_CONSTANT_POOL&lt;/internallink&gt; for further
 5366             description.
 5367             &lt;p/&gt;
 5368             For references of other kinds the &lt;code&gt;referrer_index&lt;/code&gt; is
 5369             &lt;code&gt;-1&lt;/code&gt;.
 5370           &lt;/description&gt;
 5371         &lt;/param&gt;
 5372         &lt;param id=&quot;user_data&quot;&gt;
 5373           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 5374           &lt;description&gt;
 5375             The user supplied data that was passed into the iteration function.
 5376           &lt;/description&gt;
 5377         &lt;/param&gt;
 5378       &lt;/parameters&gt;
 5379     &lt;/callback&gt;
 5380 
 5381     &lt;function id=&quot;IterateOverObjectsReachableFromObject&quot; num=&quot;109&quot;&gt;
 5382       &lt;synopsis&gt;Iterate Over Objects Reachable From Object&lt;/synopsis&gt;
 5383       &lt;description&gt;
 5384         This function iterates over all objects that are directly
 5385         and indirectly reachable from the specified object.
 5386         For each object &lt;i&gt;A&lt;/i&gt; (known
 5387         as the referrer) with a reference to object &lt;i&gt;B&lt;/i&gt; the specified
 5388         callback function is called to describe the object reference.
 5389         The callback is called exactly once for each reference from a referrer;
 5390         this is true even if there are reference cycles or multiple paths to
 5391         the referrer.
 5392         There may be more than one reference between a referrer and a referree,
 5393         These may be distinguished by the
 5394         &lt;datalink id=&quot;jvmtiObjectReferenceCallback.reference_kind&quot;&gt;&lt;/datalink&gt; and
 5395         &lt;datalink id=&quot;jvmtiObjectReferenceCallback.referrer_index&quot;&gt;&lt;/datalink&gt;.
 5396         The callback for an object will always occur after the callback for
 5397         its referrer.
 5398         &lt;p/&gt;
 5399         See &lt;functionlink id=&quot;FollowReferences&quot;/&gt; for the object
 5400         references which are reported.
 5401         &lt;p/&gt;
 5402         During the execution of this function the state of the heap
 5403         does not change: no objects are allocated, no objects are
 5404         garbage collected, and the state of objects (including
 5405         held values) does not change.
 5406         As a result, threads executing Java
 5407         programming language code, threads attempting to resume the
 5408         execution of Java programming language code, and threads
 5409         attempting to execute JNI functions are typically stalled.
 5410       &lt;/description&gt;
 5411       &lt;origin&gt;new&lt;/origin&gt;
 5412       &lt;capabilities&gt;
 5413         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 5414       &lt;/capabilities&gt;
 5415       &lt;parameters&gt;
 5416         &lt;param id=&quot;object&quot;&gt;
 5417           &lt;jobject/&gt;
 5418             &lt;description&gt;
 5419               The object
 5420             &lt;/description&gt;
 5421         &lt;/param&gt;
 5422         &lt;param id=&quot;object_reference_callback&quot;&gt;
 5423           &lt;ptrtype&gt;
 5424             &lt;struct&gt;jvmtiObjectReferenceCallback&lt;/struct&gt;
 5425           &lt;/ptrtype&gt;
 5426             &lt;description&gt;
 5427               The callback to be called to describe each
 5428               object reference.
 5429             &lt;/description&gt;
 5430         &lt;/param&gt;
 5431         &lt;param id=&quot;user_data&quot;&gt;
 5432           &lt;inbuf&gt;
 5433             &lt;void/&gt;
 5434             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 5435           &lt;/inbuf&gt;
 5436           &lt;description&gt;
 5437             User supplied data to be passed to the callback.
 5438           &lt;/description&gt;
 5439         &lt;/param&gt;
 5440       &lt;/parameters&gt;
 5441       &lt;errors&gt;
 5442       &lt;/errors&gt;
 5443     &lt;/function&gt;
 5444 
 5445     &lt;function id=&quot;IterateOverReachableObjects&quot; num=&quot;110&quot;&gt;
 5446       &lt;synopsis&gt;Iterate Over Reachable Objects&lt;/synopsis&gt;
 5447       &lt;description&gt;
 5448         This function iterates over the root objects and all objects that
 5449         are directly and indirectly reachable from the root objects.
 5450         The root objects comprise the set of system classes,
 5451         JNI globals, references from thread stacks, and other objects used as roots
 5452         for the purposes of garbage collection.
 5453         &lt;p/&gt;
 5454         For each root the &lt;paramlink id=&quot;heap_root_callback&quot;&gt;&lt;/paramlink&gt;
 5455         or &lt;paramlink id=&quot;stack_ref_callback&quot;&gt;&lt;/paramlink&gt; callback is called.
 5456         An object can be a root object for more than one reason and in that case
 5457         the appropriate callback is called for each reason.
 5458         &lt;p/&gt;
 5459         For each object reference the &lt;paramlink id=&quot;object_ref_callback&quot;&gt;&lt;/paramlink&gt;
 5460         callback function is called to describe the object reference.
 5461         The callback is called exactly once for each reference from a referrer;
 5462         this is true even if there are reference cycles or multiple paths to
 5463         the referrer.
 5464         There may be more than one reference between a referrer and a referree,
 5465         These may be distinguished by the
 5466         &lt;datalink id=&quot;jvmtiObjectReferenceCallback.reference_kind&quot;&gt;&lt;/datalink&gt; and
 5467         &lt;datalink id=&quot;jvmtiObjectReferenceCallback.referrer_index&quot;&gt;&lt;/datalink&gt;.
 5468         The callback for an object will always occur after the callback for
 5469         its referrer.
 5470         &lt;p/&gt;
 5471         See &lt;functionlink id=&quot;FollowReferences&quot;/&gt; for the object
 5472         references which are reported.
 5473         &lt;p/&gt;
 5474         Roots are always reported to the profiler before any object references
 5475         are reported. In other words, the &lt;paramlink id=&quot;object_ref_callback&quot;&gt;&lt;/paramlink&gt;
 5476         callback will not be called until the appropriate callback has been called
 5477         for all roots. If the &lt;paramlink id=&quot;object_ref_callback&quot;&gt;&lt;/paramlink&gt; callback is
 5478         specified as &lt;code&gt;NULL&lt;/code&gt; then this function returns after
 5479         reporting the root objects to the profiler.
 5480         &lt;p/&gt;
 5481         During the execution of this function the state of the heap
 5482         does not change: no objects are allocated, no objects are
 5483         garbage collected, and the state of objects (including
 5484         held values) does not change.
 5485         As a result, threads executing Java
 5486         programming language code, threads attempting to resume the
 5487         execution of Java programming language code, and threads
 5488         attempting to execute JNI functions are typically stalled.
 5489       &lt;/description&gt;
 5490       &lt;origin&gt;new&lt;/origin&gt;
 5491       &lt;capabilities&gt;
 5492         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 5493       &lt;/capabilities&gt;
 5494       &lt;parameters&gt;
 5495         &lt;param id=&quot;heap_root_callback&quot;&gt;
 5496           &lt;ptrtype&gt;
 5497             &lt;struct&gt;jvmtiHeapRootCallback&lt;/struct&gt;
 5498             &lt;nullok&gt;do not report heap roots&lt;/nullok&gt;
 5499           &lt;/ptrtype&gt;
 5500             &lt;description&gt;
 5501               The callback function to be called for each heap root of type
 5502               &lt;code&gt;JVMTI_HEAP_ROOT_JNI_GLOBAL&lt;/code&gt;,
 5503               &lt;code&gt;JVMTI_HEAP_ROOT_SYSTEM_CLASS&lt;/code&gt;,
 5504               &lt;code&gt;JVMTI_HEAP_ROOT_MONITOR&lt;/code&gt;,
 5505               &lt;code&gt;JVMTI_HEAP_ROOT_THREAD&lt;/code&gt;, or
 5506               &lt;code&gt;JVMTI_HEAP_ROOT_OTHER&lt;/code&gt;.
 5507             &lt;/description&gt;
 5508         &lt;/param&gt;
 5509         &lt;param id=&quot;stack_ref_callback&quot;&gt;
 5510           &lt;ptrtype&gt;
 5511             &lt;struct&gt;jvmtiStackReferenceCallback&lt;/struct&gt;
 5512             &lt;nullok&gt;do not report stack references&lt;/nullok&gt;
 5513           &lt;/ptrtype&gt;
 5514             &lt;description&gt;
 5515               The callback function to be called for each heap root of
 5516               &lt;code&gt;JVMTI_HEAP_ROOT_STACK_LOCAL&lt;/code&gt; or
 5517               &lt;code&gt;JVMTI_HEAP_ROOT_JNI_LOCAL&lt;/code&gt;.
 5518             &lt;/description&gt;
 5519         &lt;/param&gt;
 5520         &lt;param id=&quot;object_ref_callback&quot;&gt;
 5521           &lt;ptrtype&gt;
 5522             &lt;struct&gt;jvmtiObjectReferenceCallback&lt;/struct&gt;
 5523             &lt;nullok&gt;do not follow references from the root objects&lt;/nullok&gt;
 5524           &lt;/ptrtype&gt;
 5525             &lt;description&gt;
 5526               The callback function to be called for each object reference.
 5527             &lt;/description&gt;
 5528         &lt;/param&gt;
 5529         &lt;param id=&quot;user_data&quot;&gt;
 5530           &lt;inbuf&gt;
 5531             &lt;void/&gt;
 5532             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 5533           &lt;/inbuf&gt;
 5534           &lt;description&gt;
 5535             User supplied data to be passed to the callback.
 5536           &lt;/description&gt;
 5537         &lt;/param&gt;
 5538       &lt;/parameters&gt;
 5539       &lt;errors&gt;
 5540       &lt;/errors&gt;
 5541     &lt;/function&gt;
 5542 
 5543     &lt;function id=&quot;IterateOverHeap&quot; num=&quot;111&quot;&gt;
 5544       &lt;synopsis&gt;Iterate Over Heap&lt;/synopsis&gt;
 5545       &lt;description&gt;
 5546         Iterate over all objects in the heap. This includes both reachable and
 5547         unreachable objects.
 5548         &lt;p/&gt;
 5549         The &lt;paramlink id=&quot;object_filter&quot;&gt;&lt;/paramlink&gt; parameter indicates the
 5550         objects for which the callback function is called. If this parameter
 5551         is &lt;code&gt;JVMTI_HEAP_OBJECT_TAGGED&lt;/code&gt; then the callback will only be
 5552         called for every object that is tagged. If the parameter is
 5553         &lt;code&gt;JVMTI_HEAP_OBJECT_UNTAGGED&lt;/code&gt; then the callback will only be
 5554         for objects that are not tagged. If the parameter
 5555         is &lt;code&gt;JVMTI_HEAP_OBJECT_EITHER&lt;/code&gt; then the callback will be
 5556         called for every object in the heap, irrespective of whether it is
 5557         tagged or not.
 5558         &lt;p/&gt;
 5559         During the execution of this function the state of the heap
 5560         does not change: no objects are allocated, no objects are
 5561         garbage collected, and the state of objects (including
 5562         held values) does not change.
 5563         As a result, threads executing Java
 5564         programming language code, threads attempting to resume the
 5565         execution of Java programming language code, and threads
 5566         attempting to execute JNI functions are typically stalled.
 5567       &lt;/description&gt;
 5568       &lt;origin&gt;new&lt;/origin&gt;
 5569       &lt;capabilities&gt;
 5570         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 5571       &lt;/capabilities&gt;
 5572       &lt;parameters&gt;
 5573         &lt;param id=&quot;object_filter&quot;&gt;
 5574           &lt;enum&gt;jvmtiHeapObjectFilter&lt;/enum&gt;
 5575           &lt;description&gt;
 5576             Indicates the objects for which the callback function is called.
 5577           &lt;/description&gt;
 5578         &lt;/param&gt;
 5579         &lt;param id=&quot;heap_object_callback&quot;&gt;
 5580           &lt;ptrtype&gt;
 5581             &lt;struct&gt;jvmtiHeapObjectCallback&lt;/struct&gt;
 5582           &lt;/ptrtype&gt;
 5583             &lt;description&gt;
 5584               The iterator function to be called for each
 5585               object matching the &lt;paramlink id=&quot;object_filter&quot;/&gt;.
 5586             &lt;/description&gt;
 5587         &lt;/param&gt;
 5588         &lt;param id=&quot;user_data&quot;&gt;
 5589           &lt;inbuf&gt;
 5590             &lt;void/&gt;
 5591             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 5592           &lt;/inbuf&gt;
 5593           &lt;description&gt;
 5594             User supplied data to be passed to the callback.
 5595           &lt;/description&gt;
 5596         &lt;/param&gt;
 5597       &lt;/parameters&gt;
 5598       &lt;errors&gt;
 5599       &lt;/errors&gt;
 5600     &lt;/function&gt;
 5601 
 5602     &lt;function id=&quot;IterateOverInstancesOfClass&quot; num=&quot;112&quot;&gt;
 5603       &lt;synopsis&gt;Iterate Over Instances Of Class&lt;/synopsis&gt;
 5604       &lt;description&gt;
 5605         Iterate over all objects in the heap that are instances of the specified class.
 5606         This includes direct instances of the specified class and
 5607         instances of all subclasses of the specified class.
 5608         This includes both reachable and unreachable objects.
 5609         &lt;p/&gt;
 5610         The &lt;paramlink id=&quot;object_filter&quot;&gt;&lt;/paramlink&gt; parameter indicates the
 5611         objects for which the callback function is called. If this parameter
 5612         is &lt;code&gt;JVMTI_HEAP_OBJECT_TAGGED&lt;/code&gt; then the callback will only be
 5613         called for every object that is tagged. If the parameter is
 5614         &lt;code&gt;JVMTI_HEAP_OBJECT_UNTAGGED&lt;/code&gt; then the callback will only be
 5615         called for objects that are not tagged. If the parameter
 5616         is &lt;code&gt;JVMTI_HEAP_OBJECT_EITHER&lt;/code&gt; then the callback will be
 5617         called for every object in the heap, irrespective of whether it is
 5618         tagged or not.
 5619         &lt;p/&gt;
 5620         During the execution of this function the state of the heap
 5621         does not change: no objects are allocated, no objects are
 5622         garbage collected, and the state of objects (including
 5623         held values) does not change.
 5624         As a result, threads executing Java
 5625         programming language code, threads attempting to resume the
 5626         execution of Java programming language code, and threads
 5627         attempting to execute JNI functions are typically stalled.
 5628       &lt;/description&gt;
 5629       &lt;origin&gt;new&lt;/origin&gt;
 5630       &lt;capabilities&gt;
 5631         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 5632       &lt;/capabilities&gt;
 5633       &lt;parameters&gt;
 5634         &lt;param id=&quot;klass&quot;&gt;
 5635           &lt;jclass/&gt;
 5636             &lt;description&gt;
 5637               Iterate over objects of this class only.
 5638             &lt;/description&gt;
 5639         &lt;/param&gt;
 5640         &lt;param id=&quot;object_filter&quot;&gt;
 5641           &lt;enum&gt;jvmtiHeapObjectFilter&lt;/enum&gt;
 5642           &lt;description&gt;
 5643             Indicates the objects for which the callback function is called.
 5644           &lt;/description&gt;
 5645         &lt;/param&gt;
 5646         &lt;param id=&quot;heap_object_callback&quot;&gt;
 5647           &lt;ptrtype&gt;
 5648             &lt;struct&gt;jvmtiHeapObjectCallback&lt;/struct&gt;
 5649           &lt;/ptrtype&gt;
 5650             &lt;description&gt;
 5651               The iterator function to be called for each
 5652               &lt;paramlink id=&quot;klass&quot;/&gt; instance matching
 5653               the &lt;paramlink id=&quot;object_filter&quot;/&gt;.
 5654             &lt;/description&gt;
 5655         &lt;/param&gt;
 5656         &lt;param id=&quot;user_data&quot;&gt;
 5657           &lt;inbuf&gt;
 5658             &lt;void/&gt;
 5659             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 5660           &lt;/inbuf&gt;
 5661           &lt;description&gt;
 5662             User supplied data to be passed to the callback.
 5663           &lt;/description&gt;
 5664         &lt;/param&gt;
 5665       &lt;/parameters&gt;
 5666       &lt;errors&gt;
 5667       &lt;/errors&gt;
 5668     &lt;/function&gt;
 5669 
 5670   &lt;/category&gt;
 5671 
 5672   &lt;category id=&quot;local&quot; label=&quot;Local Variable&quot;&gt;
 5673 
 5674     &lt;intro&gt;
 5675       These functions are used to retrieve or set the value of a local variable.
 5676       The variable is identified by the depth of the frame containing its
 5677       value and the variable&#39;s slot number within that frame.
 5678       The mapping of variables to
 5679       slot numbers can be obtained with the function
 5680       &lt;functionlink id=&quot;GetLocalVariableTable&quot;&gt;&lt;/functionlink&gt;.
 5681     &lt;/intro&gt;
 5682 
 5683     &lt;function id=&quot;GetLocalObject&quot; num=&quot;21&quot;&gt;
 5684       &lt;synopsis&gt;Get Local Variable - Object&lt;/synopsis&gt;
 5685       &lt;description&gt;
 5686         This function can be used to retrieve the value of a local
 5687         variable whose type is &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 5688       &lt;/description&gt;
 5689       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5690       &lt;capabilities&gt;
 5691         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5692       &lt;/capabilities&gt;
 5693       &lt;parameters&gt;
 5694         &lt;param id=&quot;thread&quot;&gt;
 5695           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5696           &lt;description&gt;
 5697             The thread of the frame containing the variable&#39;s value.
 5698           &lt;/description&gt;
 5699         &lt;/param&gt;
 5700         &lt;param id=&quot;depth&quot;&gt;
 5701           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5702           &lt;description&gt;
 5703             The depth of the frame containing the variable&#39;s value.
 5704           &lt;/description&gt;
 5705         &lt;/param&gt;
 5706         &lt;param id=&quot;slot&quot;&gt;
 5707           &lt;jint/&gt;
 5708           &lt;description&gt;
 5709             The variable&#39;s slot number.
 5710           &lt;/description&gt;
 5711         &lt;/param&gt;
 5712         &lt;param id=&quot;value_ptr&quot;&gt;
 5713           &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 5714             &lt;description&gt;
 5715               On return, points to the variable&#39;s value.
 5716             &lt;/description&gt;
 5717         &lt;/param&gt;
 5718       &lt;/parameters&gt;
 5719       &lt;errors&gt;
 5720         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5721           Invalid &lt;code&gt;slot&lt;/code&gt;.
 5722         &lt;/error&gt;
 5723         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5724           The variable type is not
 5725           &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 5726         &lt;/error&gt;
 5727         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5728           Not a visible frame
 5729         &lt;/error&gt;
 5730       &lt;/errors&gt;
 5731     &lt;/function&gt;
 5732 
 5733     &lt;function id=&quot;GetLocalInstance&quot; num=&quot;155&quot; since=&quot;1.2&quot;&gt;
 5734       &lt;synopsis&gt;Get Local Instance&lt;/synopsis&gt;
 5735       &lt;description&gt;
 5736         This function can be used to retrieve the value of the local object
 5737         variable at slot 0 (the &quot;&lt;code&gt;this&lt;/code&gt;&quot; object) from non-static
 5738         frames.  This function can retrieve the &quot;&lt;code&gt;this&lt;/code&gt;&quot; object from
 5739         native method frames, whereas &lt;code&gt;GetLocalObject()&lt;/code&gt; would
 5740         return &lt;code&gt;JVMTI_ERROR_OPAQUE_FRAME&lt;/code&gt; in those cases.
 5741       &lt;/description&gt;
 5742       &lt;origin&gt;new&lt;/origin&gt;
 5743       &lt;capabilities&gt;
 5744         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5745       &lt;/capabilities&gt;
 5746       &lt;parameters&gt;
 5747         &lt;param id=&quot;thread&quot;&gt;
 5748           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5749           &lt;description&gt;
 5750             The thread of the frame containing the variable&#39;s value.
 5751           &lt;/description&gt;
 5752         &lt;/param&gt;
 5753         &lt;param id=&quot;depth&quot;&gt;
 5754           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5755           &lt;description&gt;
 5756             The depth of the frame containing the variable&#39;s value.
 5757           &lt;/description&gt;
 5758         &lt;/param&gt;
 5759         &lt;param id=&quot;value_ptr&quot;&gt;
 5760           &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 5761             &lt;description&gt;
 5762               On return, points to the variable&#39;s value.
 5763             &lt;/description&gt;
 5764         &lt;/param&gt;
 5765       &lt;/parameters&gt;
 5766       &lt;errors&gt;
 5767         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5768           If the specified frame is a static method frame.
 5769         &lt;/error&gt;
 5770       &lt;/errors&gt;
 5771     &lt;/function&gt;
 5772     &lt;function id=&quot;GetLocalInt&quot; num=&quot;22&quot;&gt;
 5773       &lt;synopsis&gt;Get Local Variable - Int&lt;/synopsis&gt;
 5774       &lt;description&gt;
 5775         This function can be used to retrieve the value of a local
 5776         variable whose type is &lt;code&gt;int&lt;/code&gt;,
 5777         &lt;code&gt;short&lt;/code&gt;, &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 5778         &lt;code&gt;boolean&lt;/code&gt;.
 5779       &lt;/description&gt;
 5780       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5781       &lt;capabilities&gt;
 5782         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5783       &lt;/capabilities&gt;
 5784       &lt;parameters&gt;
 5785         &lt;param id=&quot;thread&quot;&gt;
 5786           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5787           &lt;description&gt;
 5788             The thread of the frame containing the variable&#39;s value.
 5789           &lt;/description&gt;
 5790         &lt;/param&gt;
 5791         &lt;param id=&quot;depth&quot;&gt;
 5792           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5793           &lt;description&gt;
 5794             The depth of the frame containing the variable&#39;s value.
 5795           &lt;/description&gt;
 5796         &lt;/param&gt;
 5797         &lt;param id=&quot;slot&quot;&gt;
 5798           &lt;jint/&gt;
 5799           &lt;description&gt;
 5800             The variable&#39;s slot number.
 5801           &lt;/description&gt;
 5802         &lt;/param&gt;
 5803         &lt;param id=&quot;value_ptr&quot;&gt;
 5804           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 5805           &lt;description&gt;
 5806             On return, points to the variable&#39;s value.
 5807           &lt;/description&gt;
 5808         &lt;/param&gt;
 5809       &lt;/parameters&gt;
 5810       &lt;errors&gt;
 5811         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5812           Invalid &lt;code&gt;slot&lt;/code&gt;.
 5813         &lt;/error&gt;
 5814         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5815           The variable type is not
 5816           &lt;code&gt;int&lt;/code&gt;, &lt;code&gt;short&lt;/code&gt;,
 5817           &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 5818           &lt;code&gt;boolean&lt;/code&gt;.
 5819         &lt;/error&gt;
 5820         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5821           Not a visible frame
 5822         &lt;/error&gt;
 5823       &lt;/errors&gt;
 5824     &lt;/function&gt;
 5825 
 5826     &lt;function id=&quot;GetLocalLong&quot; num=&quot;23&quot;&gt;
 5827       &lt;synopsis&gt;Get Local Variable - Long&lt;/synopsis&gt;
 5828       &lt;description&gt;
 5829         This function can be used to retrieve the value of a local
 5830         variable whose type is &lt;code&gt;long&lt;/code&gt;.
 5831       &lt;/description&gt;
 5832       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5833       &lt;capabilities&gt;
 5834         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5835       &lt;/capabilities&gt;
 5836       &lt;parameters&gt;
 5837         &lt;param id=&quot;thread&quot;&gt;
 5838           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5839           &lt;description&gt;
 5840             The thread of the frame containing the variable&#39;s value.
 5841           &lt;/description&gt;
 5842         &lt;/param&gt;
 5843         &lt;param id=&quot;depth&quot;&gt;
 5844           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5845           &lt;description&gt;
 5846             The depth of the frame containing the variable&#39;s value.
 5847           &lt;/description&gt;
 5848         &lt;/param&gt;
 5849         &lt;param id=&quot;slot&quot;&gt;
 5850           &lt;jint/&gt;
 5851           &lt;description&gt;
 5852             The variable&#39;s slot number.
 5853           &lt;/description&gt;
 5854         &lt;/param&gt;
 5855         &lt;param id=&quot;value_ptr&quot;&gt;
 5856           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5857           &lt;description&gt;
 5858             On return, points to the variable&#39;s value.
 5859           &lt;/description&gt;
 5860         &lt;/param&gt;
 5861       &lt;/parameters&gt;
 5862       &lt;errors&gt;
 5863         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5864           Invalid &lt;code&gt;slot&lt;/code&gt;.
 5865         &lt;/error&gt;
 5866         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5867           The variable type is not &lt;code&gt;long&lt;/code&gt;.
 5868         &lt;/error&gt;
 5869         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5870           Not a visible frame
 5871         &lt;/error&gt;
 5872       &lt;/errors&gt;
 5873     &lt;/function&gt;
 5874 
 5875     &lt;function id=&quot;GetLocalFloat&quot; num=&quot;24&quot;&gt;
 5876       &lt;synopsis&gt;Get Local Variable - Float&lt;/synopsis&gt;
 5877       &lt;description&gt;
 5878         This function can be used to retrieve the value of a local
 5879         variable whose type is &lt;code&gt;float&lt;/code&gt;.
 5880       &lt;/description&gt;
 5881       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5882       &lt;capabilities&gt;
 5883         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5884       &lt;/capabilities&gt;
 5885       &lt;parameters&gt;
 5886         &lt;param id=&quot;thread&quot;&gt;
 5887           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5888           &lt;description&gt;
 5889             The thread of the frame containing the variable&#39;s value.
 5890           &lt;/description&gt;
 5891         &lt;/param&gt;
 5892         &lt;param id=&quot;depth&quot;&gt;
 5893           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5894           &lt;description&gt;
 5895             The depth of the frame containing the variable&#39;s value.
 5896           &lt;/description&gt;
 5897         &lt;/param&gt;
 5898         &lt;param id=&quot;slot&quot;&gt;
 5899           &lt;jint/&gt;
 5900           &lt;description&gt;
 5901             The variable&#39;s slot number.
 5902           &lt;/description&gt;
 5903         &lt;/param&gt;
 5904         &lt;param id=&quot;value_ptr&quot;&gt;
 5905           &lt;outptr&gt;&lt;jfloat/&gt;&lt;/outptr&gt;
 5906           &lt;description&gt;
 5907             On return, points to the variable&#39;s value.
 5908           &lt;/description&gt;
 5909         &lt;/param&gt;
 5910       &lt;/parameters&gt;
 5911       &lt;errors&gt;
 5912         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5913           Invalid &lt;code&gt;slot&lt;/code&gt;.
 5914         &lt;/error&gt;
 5915         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5916           The variable type is not &lt;code&gt;float&lt;/code&gt;.
 5917         &lt;/error&gt;
 5918         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5919           Not a visible frame
 5920         &lt;/error&gt;
 5921       &lt;/errors&gt;
 5922     &lt;/function&gt;
 5923 
 5924     &lt;function id=&quot;GetLocalDouble&quot; num=&quot;25&quot;&gt;
 5925       &lt;synopsis&gt;Get Local Variable - Double&lt;/synopsis&gt;
 5926       &lt;description&gt;
 5927         This function can be used to retrieve the value of a local
 5928         variable whose type is &lt;code&gt;long&lt;/code&gt;.
 5929       &lt;/description&gt;
 5930       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5931       &lt;capabilities&gt;
 5932         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5933       &lt;/capabilities&gt;
 5934       &lt;parameters&gt;
 5935         &lt;param id=&quot;thread&quot;&gt;
 5936           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5937           &lt;description&gt;
 5938             The thread of the frame containing the variable&#39;s value.
 5939           &lt;/description&gt;
 5940         &lt;/param&gt;
 5941         &lt;param id=&quot;depth&quot;&gt;
 5942           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5943           &lt;description&gt;
 5944             The depth of the frame containing the variable&#39;s value.
 5945           &lt;/description&gt;
 5946         &lt;/param&gt;
 5947         &lt;param id=&quot;slot&quot;&gt;
 5948           &lt;jint/&gt;
 5949           &lt;description&gt;
 5950             The variable&#39;s slot number.
 5951           &lt;/description&gt;
 5952         &lt;/param&gt;
 5953         &lt;param id=&quot;value_ptr&quot;&gt;
 5954           &lt;outptr&gt;&lt;jdouble/&gt;&lt;/outptr&gt;
 5955           &lt;description&gt;
 5956             On return, points to the variable&#39;s value.
 5957           &lt;/description&gt;
 5958         &lt;/param&gt;
 5959       &lt;/parameters&gt;
 5960       &lt;errors&gt;
 5961         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5962           Invalid &lt;code&gt;slot&lt;/code&gt;.
 5963         &lt;/error&gt;
 5964         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5965           The variable type is not &lt;code&gt;double&lt;/code&gt;.
 5966         &lt;/error&gt;
 5967         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5968           Not a visible frame
 5969         &lt;/error&gt;
 5970       &lt;/errors&gt;
 5971     &lt;/function&gt;
 5972 
 5973     &lt;function id=&quot;SetLocalObject&quot; num=&quot;26&quot;&gt;
 5974       &lt;synopsis&gt;Set Local Variable - Object&lt;/synopsis&gt;
 5975       &lt;description&gt;
 5976         This function can be used to set the value of a local
 5977         variable whose type is &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 5978       &lt;/description&gt;
 5979       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5980       &lt;capabilities&gt;
 5981         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5982       &lt;/capabilities&gt;
 5983       &lt;parameters&gt;
 5984         &lt;param id=&quot;thread&quot;&gt;
 5985           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5986           &lt;description&gt;
 5987             The thread of the frame containing the variable&#39;s value.
 5988           &lt;/description&gt;
 5989         &lt;/param&gt;
 5990         &lt;param id=&quot;depth&quot;&gt;
 5991           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5992           &lt;description&gt;
 5993             The depth of the frame containing the variable&#39;s value.
 5994           &lt;/description&gt;
 5995         &lt;/param&gt;
 5996         &lt;param id=&quot;slot&quot;&gt;
 5997           &lt;jint/&gt;
 5998           &lt;description&gt;
 5999             The variable&#39;s slot number.
 6000           &lt;/description&gt;
 6001         &lt;/param&gt;
 6002         &lt;param id=&quot;value&quot;&gt;
 6003           &lt;jobject/&gt;
 6004             &lt;description&gt;
 6005               The new value for the variable.
 6006             &lt;/description&gt;
 6007         &lt;/param&gt;
 6008       &lt;/parameters&gt;
 6009       &lt;errors&gt;
 6010         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6011           Invalid &lt;code&gt;slot&lt;/code&gt;.
 6012         &lt;/error&gt;
 6013         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6014           The variable type is not
 6015           &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 6016         &lt;/error&gt;
 6017         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6018           The supplied &lt;paramlink id=&quot;value&quot;/&gt; is not compatible
 6019           with the variable type.
 6020         &lt;/error&gt;
 6021         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6022           Not a visible frame
 6023         &lt;/error&gt;
 6024       &lt;/errors&gt;
 6025     &lt;/function&gt;
 6026 
 6027     &lt;function id=&quot;SetLocalInt&quot; num=&quot;27&quot;&gt;
 6028       &lt;synopsis&gt;Set Local Variable - Int&lt;/synopsis&gt;
 6029       &lt;description&gt;
 6030         This function can be used to set the value of a local
 6031         variable whose type is &lt;code&gt;int&lt;/code&gt;,
 6032         &lt;code&gt;short&lt;/code&gt;, &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 6033         &lt;code&gt;boolean&lt;/code&gt;.
 6034       &lt;/description&gt;
 6035       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6036       &lt;capabilities&gt;
 6037         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 6038       &lt;/capabilities&gt;
 6039       &lt;parameters&gt;
 6040         &lt;param id=&quot;thread&quot;&gt;
 6041           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 6042           &lt;description&gt;
 6043             The thread of the frame containing the variable&#39;s value.
 6044           &lt;/description&gt;
 6045         &lt;/param&gt;
 6046         &lt;param id=&quot;depth&quot;&gt;
 6047           &lt;jframeID thread=&quot;thread&quot;/&gt;
 6048           &lt;description&gt;
 6049             The depth of the frame containing the variable&#39;s value.
 6050           &lt;/description&gt;
 6051         &lt;/param&gt;
 6052         &lt;param id=&quot;slot&quot;&gt;
 6053           &lt;jint/&gt;
 6054           &lt;description&gt;
 6055             The variable&#39;s slot number.
 6056           &lt;/description&gt;
 6057         &lt;/param&gt;
 6058         &lt;param id=&quot;value&quot;&gt;
 6059           &lt;jint/&gt;
 6060           &lt;description&gt;
 6061             The new value for the variable.
 6062           &lt;/description&gt;
 6063         &lt;/param&gt;
 6064       &lt;/parameters&gt;
 6065       &lt;errors&gt;
 6066         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6067           Invalid &lt;code&gt;slot&lt;/code&gt;.
 6068         &lt;/error&gt;
 6069         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6070           The variable type is not
 6071           &lt;code&gt;int&lt;/code&gt;, &lt;code&gt;short&lt;/code&gt;,
 6072           &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 6073           &lt;code&gt;boolean&lt;/code&gt;.
 6074         &lt;/error&gt;
 6075         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6076           Not a visible frame
 6077         &lt;/error&gt;
 6078       &lt;/errors&gt;
 6079     &lt;/function&gt;
 6080 
 6081     &lt;function id=&quot;SetLocalLong&quot; num=&quot;28&quot;&gt;
 6082       &lt;synopsis&gt;Set Local Variable - Long&lt;/synopsis&gt;
 6083       &lt;description&gt;
 6084         This function can be used to set the value of a local
 6085         variable whose type is &lt;code&gt;long&lt;/code&gt;.
 6086       &lt;/description&gt;
 6087       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6088       &lt;capabilities&gt;
 6089         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 6090       &lt;/capabilities&gt;
 6091       &lt;parameters&gt;
 6092         &lt;param id=&quot;thread&quot;&gt;
 6093           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 6094           &lt;description&gt;
 6095             The thread of the frame containing the variable&#39;s value.
 6096           &lt;/description&gt;
 6097         &lt;/param&gt;
 6098         &lt;param id=&quot;depth&quot;&gt;
 6099           &lt;jframeID thread=&quot;thread&quot;/&gt;
 6100           &lt;description&gt;
 6101             The depth of the frame containing the variable&#39;s value.
 6102           &lt;/description&gt;
 6103         &lt;/param&gt;
 6104         &lt;param id=&quot;slot&quot;&gt;
 6105           &lt;jint/&gt;
 6106           &lt;description&gt;
 6107             The variable&#39;s slot number.
 6108           &lt;/description&gt;
 6109         &lt;/param&gt;
 6110         &lt;param id=&quot;value&quot;&gt;
 6111           &lt;jlong/&gt;
 6112           &lt;description&gt;
 6113             The new value for the variable.
 6114           &lt;/description&gt;
 6115         &lt;/param&gt;
 6116       &lt;/parameters&gt;
 6117       &lt;errors&gt;
 6118         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6119           Invalid &lt;code&gt;slot&lt;/code&gt;.
 6120         &lt;/error&gt;
 6121         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6122           The variable type is not &lt;code&gt;long&lt;/code&gt;.
 6123         &lt;/error&gt;
 6124         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6125           Not a visible frame
 6126         &lt;/error&gt;
 6127       &lt;/errors&gt;
 6128     &lt;/function&gt;
 6129 
 6130     &lt;function id=&quot;SetLocalFloat&quot; num=&quot;29&quot;&gt;
 6131       &lt;synopsis&gt;Set Local Variable - Float&lt;/synopsis&gt;
 6132       &lt;description&gt;
 6133         This function can be used to set the value of a local
 6134         variable whose type is &lt;code&gt;float&lt;/code&gt;.
 6135       &lt;/description&gt;
 6136       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6137       &lt;capabilities&gt;
 6138         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 6139       &lt;/capabilities&gt;
 6140       &lt;parameters&gt;
 6141         &lt;param id=&quot;thread&quot;&gt;
 6142           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 6143           &lt;description&gt;
 6144             The thread of the frame containing the variable&#39;s value.
 6145           &lt;/description&gt;
 6146         &lt;/param&gt;
 6147         &lt;param id=&quot;depth&quot;&gt;
 6148           &lt;jframeID thread=&quot;thread&quot;/&gt;
 6149           &lt;description&gt;
 6150             The depth of the frame containing the variable&#39;s value.
 6151           &lt;/description&gt;
 6152         &lt;/param&gt;
 6153         &lt;param id=&quot;slot&quot;&gt;
 6154           &lt;jint/&gt;
 6155           &lt;description&gt;
 6156             The variable&#39;s slot number.
 6157           &lt;/description&gt;
 6158         &lt;/param&gt;
 6159         &lt;param id=&quot;value&quot;&gt;
 6160           &lt;jfloat/&gt;
 6161           &lt;description&gt;
 6162             The new value for the variable.
 6163           &lt;/description&gt;
 6164         &lt;/param&gt;
 6165       &lt;/parameters&gt;
 6166       &lt;errors&gt;
 6167         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6168           Invalid &lt;code&gt;slot&lt;/code&gt;.
 6169         &lt;/error&gt;
 6170         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6171           The variable type is not &lt;code&gt;float&lt;/code&gt;.
 6172         &lt;/error&gt;
 6173         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6174           Not a visible frame
 6175         &lt;/error&gt;
 6176       &lt;/errors&gt;
 6177     &lt;/function&gt;
 6178 
 6179     &lt;function id=&quot;SetLocalDouble&quot; num=&quot;30&quot;&gt;
 6180       &lt;synopsis&gt;Set Local Variable - Double&lt;/synopsis&gt;
 6181       &lt;description&gt;
 6182         This function can be used to set the value of a local
 6183         variable whose type is &lt;code&gt;double&lt;/code&gt;.
 6184       &lt;/description&gt;
 6185       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6186       &lt;capabilities&gt;
 6187         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 6188       &lt;/capabilities&gt;
 6189       &lt;parameters&gt;
 6190         &lt;param id=&quot;thread&quot;&gt;
 6191           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 6192           &lt;description&gt;
 6193             The thread of the frame containing the variable&#39;s value.
 6194           &lt;/description&gt;
 6195         &lt;/param&gt;
 6196         &lt;param id=&quot;depth&quot;&gt;
 6197           &lt;jframeID thread=&quot;thread&quot;/&gt;
 6198           &lt;description&gt;
 6199             The depth of the frame containing the variable&#39;s value.
 6200           &lt;/description&gt;
 6201         &lt;/param&gt;
 6202         &lt;param id=&quot;slot&quot;&gt;
 6203           &lt;jint/&gt;
 6204           &lt;description&gt;
 6205             The variable&#39;s slot number.
 6206           &lt;/description&gt;
 6207         &lt;/param&gt;
 6208         &lt;param id=&quot;value&quot;&gt;
 6209           &lt;jdouble/&gt;
 6210           &lt;description&gt;
 6211             The new value for the variable.
 6212           &lt;/description&gt;
 6213         &lt;/param&gt;
 6214       &lt;/parameters&gt;
 6215       &lt;errors&gt;
 6216         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6217           Invalid &lt;code&gt;slot&lt;/code&gt;.
 6218         &lt;/error&gt;
 6219         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6220           The variable type is not &lt;code&gt;double&lt;/code&gt;.
 6221         &lt;/error&gt;
 6222         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6223           Not a visible frame
 6224         &lt;/error&gt;
 6225       &lt;/errors&gt;
 6226     &lt;/function&gt;
 6227   &lt;/category&gt;
 6228 
 6229   &lt;category id=&quot;breakpointCategory&quot; label=&quot;Breakpoint&quot;&gt;
 6230 
 6231     &lt;intro&gt;
 6232     &lt;/intro&gt;
 6233 
 6234     &lt;function id=&quot;SetBreakpoint&quot; num=&quot;38&quot;&gt;
 6235       &lt;synopsis&gt;Set Breakpoint&lt;/synopsis&gt;
 6236       &lt;description&gt;
 6237         Set a breakpoint at the instruction indicated by
 6238         &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;.
 6239         An instruction can only have one breakpoint.
 6240         &lt;p/&gt;
 6241         Whenever the designated instruction is about to be executed, a
 6242         &lt;eventlink id=&quot;Breakpoint&quot;&gt;&lt;/eventlink&gt; event is generated.
 6243       &lt;/description&gt;
 6244       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6245       &lt;capabilities&gt;
 6246         &lt;required id=&quot;can_generate_breakpoint_events&quot;&gt;&lt;/required&gt;
 6247       &lt;/capabilities&gt;
 6248       &lt;parameters&gt;
 6249         &lt;param id=&quot;klass&quot;&gt;
 6250           &lt;jclass method=&quot;method&quot;/&gt;
 6251             &lt;description&gt;
 6252               The class in which to set the breakpoint
 6253             &lt;/description&gt;
 6254         &lt;/param&gt;
 6255         &lt;param id=&quot;method&quot;&gt;
 6256           &lt;jmethodID class=&quot;klass&quot;/&gt;
 6257             &lt;description&gt;
 6258               The method in which to set the breakpoint
 6259             &lt;/description&gt;
 6260         &lt;/param&gt;
 6261         &lt;param id=&quot;location&quot;&gt;
 6262           &lt;jlocation/&gt;
 6263           &lt;description&gt;
 6264             the index of the instruction at which to set the breakpoint
 6265 
 6266           &lt;/description&gt;
 6267         &lt;/param&gt;
 6268       &lt;/parameters&gt;
 6269       &lt;errors&gt;
 6270         &lt;error id=&quot;JVMTI_ERROR_DUPLICATE&quot;&gt;
 6271           The designated bytecode already has a breakpoint.
 6272         &lt;/error&gt;
 6273       &lt;/errors&gt;
 6274     &lt;/function&gt;
 6275 
 6276     &lt;function id=&quot;ClearBreakpoint&quot; num=&quot;39&quot;&gt;
 6277       &lt;synopsis&gt;Clear Breakpoint&lt;/synopsis&gt;
 6278       &lt;description&gt;
 6279         Clear the breakpoint at the bytecode indicated by
 6280         &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;.
 6281       &lt;/description&gt;
 6282       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6283       &lt;capabilities&gt;
 6284         &lt;required id=&quot;can_generate_breakpoint_events&quot;&gt;&lt;/required&gt;
 6285       &lt;/capabilities&gt;
 6286       &lt;parameters&gt;
 6287         &lt;param id=&quot;klass&quot;&gt;
 6288           &lt;jclass method=&quot;method&quot;/&gt;
 6289             &lt;description&gt;
 6290               The class in which to clear the breakpoint
 6291             &lt;/description&gt;
 6292         &lt;/param&gt;
 6293         &lt;param id=&quot;method&quot;&gt;
 6294           &lt;jmethodID class=&quot;klass&quot;/&gt;
 6295             &lt;description&gt;
 6296               The method in which to clear the breakpoint
 6297             &lt;/description&gt;
 6298         &lt;/param&gt;
 6299         &lt;param id=&quot;location&quot;&gt;
 6300           &lt;jlocation/&gt;
 6301           &lt;description&gt;
 6302             the index of the instruction at which to clear the breakpoint
 6303           &lt;/description&gt;
 6304         &lt;/param&gt;
 6305       &lt;/parameters&gt;
 6306       &lt;errors&gt;
 6307         &lt;error id=&quot;JVMTI_ERROR_NOT_FOUND&quot;&gt;
 6308           There&#39;s no breakpoint at the designated bytecode.
 6309         &lt;/error&gt;
 6310       &lt;/errors&gt;
 6311     &lt;/function&gt;
 6312 
 6313   &lt;/category&gt;
 6314 
 6315   &lt;category id=&quot;fieldWatch&quot; label=&quot;Watched Field&quot;&gt;
 6316 
 6317     &lt;intro&gt;
 6318     &lt;/intro&gt;
 6319 
 6320     &lt;function id=&quot;SetFieldAccessWatch&quot; num=&quot;41&quot;&gt;
 6321       &lt;synopsis&gt;Set Field Access Watch&lt;/synopsis&gt;
 6322       &lt;description&gt;
 6323         Generate a &lt;eventlink id=&quot;FieldAccess&quot;&gt;&lt;/eventlink&gt; event
 6324         when the field specified
 6325         by &lt;code&gt;klass&lt;/code&gt; and
 6326         &lt;code&gt;field&lt;/code&gt; is about to be accessed.
 6327         An event will be generated for each access of the field
 6328         until it is canceled with
 6329         &lt;functionlink id=&quot;ClearFieldAccessWatch&quot;&gt;&lt;/functionlink&gt;.
 6330         Field accesses from Java programming language code or from JNI code are watched,
 6331         fields modified by other means are not watched.
 6332         Note that &lt;jvmti/&gt; users should be aware that their own field accesses
 6333         will trigger the watch.
 6334         A field can only have one field access watch set.
 6335         Modification of a field is not considered an access--use
 6336         &lt;functionlink id=&quot;SetFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;
 6337         to monitor modifications.
 6338       &lt;/description&gt;
 6339       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6340       &lt;capabilities&gt;
 6341         &lt;required id=&quot;can_generate_field_access_events&quot;&gt;&lt;/required&gt;
 6342       &lt;/capabilities&gt;
 6343       &lt;parameters&gt;
 6344         &lt;param id=&quot;klass&quot;&gt;
 6345           &lt;jclass field=&quot;field&quot;/&gt;
 6346             &lt;description&gt;
 6347               The class containing the field to watch
 6348             &lt;/description&gt;
 6349         &lt;/param&gt;
 6350         &lt;param id=&quot;field&quot;&gt;
 6351           &lt;jfieldID class=&quot;klass&quot;/&gt;
 6352             &lt;description&gt;
 6353               The field to watch
 6354 
 6355             &lt;/description&gt;
 6356         &lt;/param&gt;
 6357       &lt;/parameters&gt;
 6358       &lt;errors&gt;
 6359         &lt;error id=&quot;JVMTI_ERROR_DUPLICATE&quot;&gt;
 6360           The designated field is already being watched for accesses.
 6361         &lt;/error&gt;
 6362       &lt;/errors&gt;
 6363     &lt;/function&gt;
 6364 
 6365     &lt;function id=&quot;ClearFieldAccessWatch&quot; num=&quot;42&quot;&gt;
 6366       &lt;synopsis&gt;Clear Field Access Watch&lt;/synopsis&gt;
 6367       &lt;description&gt;
 6368         Cancel a field access watch previously set by
 6369         &lt;functionlink id=&quot;SetFieldAccessWatch&quot;&gt;&lt;/functionlink&gt;, on the
 6370         field specified
 6371         by &lt;code&gt;klass&lt;/code&gt; and
 6372         &lt;code&gt;field&lt;/code&gt;.
 6373       &lt;/description&gt;
 6374       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6375       &lt;capabilities&gt;
 6376         &lt;required id=&quot;can_generate_field_access_events&quot;&gt;&lt;/required&gt;
 6377       &lt;/capabilities&gt;
 6378       &lt;parameters&gt;
 6379         &lt;param id=&quot;klass&quot;&gt;
 6380           &lt;jclass field=&quot;field&quot;/&gt;
 6381             &lt;description&gt;
 6382               The class containing the field to watch
 6383             &lt;/description&gt;
 6384         &lt;/param&gt;
 6385         &lt;param id=&quot;field&quot;&gt;
 6386           &lt;jfieldID class=&quot;klass&quot;/&gt;
 6387             &lt;description&gt;
 6388               The field to watch
 6389 
 6390             &lt;/description&gt;
 6391         &lt;/param&gt;
 6392       &lt;/parameters&gt;
 6393       &lt;errors&gt;
 6394         &lt;error id=&quot;JVMTI_ERROR_NOT_FOUND&quot;&gt;
 6395           The designated field is not being watched for accesses.
 6396         &lt;/error&gt;
 6397       &lt;/errors&gt;
 6398     &lt;/function&gt;
 6399 
 6400     &lt;function id=&quot;SetFieldModificationWatch&quot; num=&quot;43&quot;&gt;
 6401       &lt;synopsis&gt;Set Field Modification Watch&lt;/synopsis&gt;
 6402       &lt;description&gt;
 6403         Generate a &lt;eventlink id=&quot;FieldModification&quot;&gt;&lt;/eventlink&gt; event
 6404         when the field specified
 6405         by &lt;code&gt;klass&lt;/code&gt; and
 6406         &lt;code&gt;field&lt;/code&gt; is about to be modified.
 6407         An event will be generated for each modification of the field
 6408         until it is canceled with
 6409         &lt;functionlink id=&quot;ClearFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;.
 6410         Field modifications from Java programming language code or from JNI code are watched,
 6411         fields modified by other means are not watched.
 6412         Note that &lt;jvmti/&gt; users should be aware that their own field modifications
 6413         will trigger the watch.
 6414         A field can only have one field modification watch set.
 6415       &lt;/description&gt;
 6416       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6417       &lt;capabilities&gt;
 6418         &lt;required id=&quot;can_generate_field_modification_events&quot;&gt;&lt;/required&gt;
 6419       &lt;/capabilities&gt;
 6420       &lt;parameters&gt;
 6421         &lt;param id=&quot;klass&quot;&gt;
 6422           &lt;jclass field=&quot;field&quot;/&gt;
 6423             &lt;description&gt;
 6424               The class containing the field to watch
 6425             &lt;/description&gt;
 6426         &lt;/param&gt;
 6427         &lt;param id=&quot;field&quot;&gt;
 6428           &lt;jfieldID class=&quot;klass&quot;/&gt;
 6429             &lt;description&gt;
 6430               The field to watch
 6431 
 6432             &lt;/description&gt;
 6433         &lt;/param&gt;
 6434       &lt;/parameters&gt;
 6435       &lt;errors&gt;
 6436         &lt;error id=&quot;JVMTI_ERROR_DUPLICATE&quot;&gt;
 6437           The designated field is already being watched for modifications.
 6438         &lt;/error&gt;
 6439       &lt;/errors&gt;
 6440     &lt;/function&gt;
 6441 
 6442     &lt;function id=&quot;ClearFieldModificationWatch&quot; num=&quot;44&quot;&gt;
 6443       &lt;synopsis&gt;Clear Field Modification Watch&lt;/synopsis&gt;
 6444       &lt;description&gt;
 6445 
 6446         Cancel a field modification watch previously set by
 6447         &lt;functionlink id=&quot;SetFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;, on the
 6448         field specified
 6449         by &lt;code&gt;klass&lt;/code&gt; and
 6450         &lt;code&gt;field&lt;/code&gt;.
 6451       &lt;/description&gt;
 6452       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6453       &lt;capabilities&gt;
 6454         &lt;required id=&quot;can_generate_field_modification_events&quot;&gt;&lt;/required&gt;
 6455       &lt;/capabilities&gt;
 6456       &lt;parameters&gt;
 6457         &lt;param id=&quot;klass&quot;&gt;
 6458           &lt;jclass field=&quot;field&quot;/&gt;
 6459             &lt;description&gt;
 6460               The class containing the field to watch
 6461             &lt;/description&gt;
 6462         &lt;/param&gt;
 6463         &lt;param id=&quot;field&quot;&gt;
 6464           &lt;jfieldID class=&quot;klass&quot;/&gt;
 6465             &lt;description&gt;
 6466               The field to watch
 6467 
 6468             &lt;/description&gt;
 6469         &lt;/param&gt;
 6470       &lt;/parameters&gt;
 6471       &lt;errors&gt;
 6472         &lt;error id=&quot;JVMTI_ERROR_NOT_FOUND&quot;&gt;
 6473           The designated field is not being watched for modifications.
 6474         &lt;/error&gt;
 6475       &lt;/errors&gt;
 6476     &lt;/function&gt;
 6477   &lt;/category&gt;
 6478 
 6479   &lt;category id=&quot;module&quot; label=&quot;Module&quot;&gt;
 6480 
 6481     &lt;intro&gt;
 6482     &lt;/intro&gt;
 6483 
 6484     &lt;function id=&quot;GetAllModules&quot; num=&quot;3&quot; since=&quot;9&quot;&gt;
 6485       &lt;synopsis&gt;Get All Modules&lt;/synopsis&gt;
 6486       &lt;description&gt;
 6487         Return an array of all modules loaded in the virtual machine.
 6488         The array includes the unnamed module for each class loader.
 6489         The number of modules in the array is returned via
 6490         &lt;code&gt;module_count_ptr&lt;/code&gt;, and the array itself via
 6491         &lt;code&gt;modules_ptr&lt;/code&gt;.
 6492         &lt;p/&gt;
 6493       &lt;/description&gt;
 6494       &lt;origin&gt;new&lt;/origin&gt;
 6495       &lt;capabilities&gt;
 6496       &lt;/capabilities&gt;
 6497       &lt;parameters&gt;
 6498         &lt;param id=&quot;module_count_ptr&quot;&gt;
 6499           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 6500           &lt;description&gt;
 6501             On return, points to the number of returned modules.
 6502           &lt;/description&gt;
 6503         &lt;/param&gt;
 6504         &lt;param id=&quot;modules_ptr&quot;&gt;
 6505           &lt;allocbuf outcount=&quot;module_count_ptr&quot;&gt;&lt;jobject/&gt;&lt;/allocbuf&gt;
 6506             &lt;description&gt;
 6507               On return, points to an array of references, one
 6508               for each module.
 6509             &lt;/description&gt;
 6510         &lt;/param&gt;
 6511       &lt;/parameters&gt;
 6512       &lt;errors&gt;
 6513       &lt;/errors&gt;
 6514     &lt;/function&gt;
 6515 
 6516     &lt;function id=&quot;GetNamedModule&quot; num=&quot;40&quot; since=&quot;9&quot;&gt;
 6517       &lt;synopsis&gt;Get Named Module&lt;/synopsis&gt;
 6518       &lt;description&gt;
 6519         Return the &lt;code&gt;java.lang.Module&lt;/code&gt; object for a named
 6520         module defined to a class loader that contains a given package.
 6521         The module is returned via &lt;code&gt;module_ptr&lt;/code&gt;.
 6522         &lt;p/&gt;
 6523         If a named module is defined to the class loader and it
 6524         contains the package then that named module is returned,
 6525         otherwise &lt;code&gt;NULL&lt;/code&gt; is returned.
 6526         &lt;p/&gt;
 6527       &lt;/description&gt;
 6528       &lt;origin&gt;new&lt;/origin&gt;
 6529       &lt;capabilities&gt;
 6530       &lt;/capabilities&gt;
 6531       &lt;parameters&gt;
 6532         &lt;param id=&quot;class_loader&quot;&gt;
 6533           &lt;ptrtype&gt;
 6534             &lt;jobject/&gt;
 6535             &lt;nullok&gt;the bootstrap loader is assumed&lt;/nullok&gt;
 6536           &lt;/ptrtype&gt;
 6537           &lt;description&gt;
 6538             A class loader.
 6539             If the &lt;code&gt;class_loader&lt;/code&gt; is not &lt;code&gt;NULL&lt;/code&gt;
 6540             or a subclass of &lt;code&gt;java.lang.ClassLoader&lt;/code&gt;
 6541             this function returns
 6542             &lt;errorlink id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;&lt;/errorlink&gt;.
 6543           &lt;/description&gt;
 6544         &lt;/param&gt;
 6545         &lt;param id=&quot;package_name&quot;&gt;
 6546           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
 6547           &lt;description&gt;
 6548             The name of the package, encoded as a
 6549             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 6550             The package name is in internal form (JVMS 4.2.1);
 6551             identifiers are separated by forward slashes rather than periods.
 6552           &lt;/description&gt;
 6553         &lt;/param&gt;
 6554         &lt;param id=&quot;module_ptr&quot;&gt;
 6555           &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 6556           &lt;description&gt;
 6557             On return, points to a &lt;code&gt;java.lang.Module&lt;/code&gt; object
 6558             or points to &lt;code&gt;NULL&lt;/code&gt;.
 6559           &lt;/description&gt;
 6560         &lt;/param&gt;
 6561       &lt;/parameters&gt;
 6562       &lt;errors&gt;
 6563         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 6564           If class loader is not &lt;code&gt;NULL&lt;/code&gt; and is not a class loader object.
 6565         &lt;/error&gt;
 6566       &lt;/errors&gt;
 6567     &lt;/function&gt;
 6568 
 6569     &lt;function id=&quot;AddModuleReads&quot; num=&quot;94&quot; since=&quot;9&quot;&gt;
 6570       &lt;synopsis&gt;Add Module Reads&lt;/synopsis&gt;
 6571       &lt;description&gt;
 6572          Update a module to read another module. This function is a no-op
 6573          when &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is an unnamed module.
 6574          This function facilitates the instrumentation of code
 6575          in named modules where that instrumentation requires
 6576          expanding the set of modules that a module reads.
 6577       &lt;/description&gt;
 6578       &lt;origin&gt;new&lt;/origin&gt;
 6579       &lt;capabilities&gt;
 6580       &lt;/capabilities&gt;
 6581       &lt;parameters&gt;
 6582         &lt;param id=&quot;module&quot;&gt;
 6583           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6584           &lt;description&gt;
 6585             The module to update.
 6586           &lt;/description&gt;
 6587         &lt;/param&gt;
 6588         &lt;param id=&quot;to_module&quot;&gt;
 6589           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6590           &lt;description&gt;
 6591             The additional module to read.
 6592           &lt;/description&gt;
 6593         &lt;/param&gt;
 6594       &lt;/parameters&gt;
 6595       &lt;errors&gt;
 6596         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6597           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6598         &lt;/error&gt;
 6599         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6600           If &lt;paramlink id=&quot;to_module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6601         &lt;/error&gt;
 6602         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6603           if the module cannot be modified.
 6604           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6605         &lt;/error&gt;
 6606       &lt;/errors&gt;
 6607     &lt;/function&gt;
 6608 
 6609     &lt;function id=&quot;AddModuleExports&quot; num=&quot;95&quot; since=&quot;9&quot;&gt;
 6610       &lt;synopsis&gt;Add Module Exports&lt;/synopsis&gt;
 6611       &lt;description&gt;
 6612          Update a module to export a package to another module.
 6613          This function is a no-op when &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt;
 6614          is an unnamed module or an open module.
 6615          This function facilitates the instrumentation of code
 6616          in named modules where that instrumentation requires
 6617          expanding the set of packages that a module exports.
 6618       &lt;/description&gt;
 6619       &lt;origin&gt;new&lt;/origin&gt;
 6620       &lt;capabilities&gt;
 6621       &lt;/capabilities&gt;
 6622       &lt;parameters&gt;
 6623         &lt;param id=&quot;module&quot;&gt;
 6624           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6625           &lt;description&gt;
 6626             The module to update.
 6627           &lt;/description&gt;
 6628         &lt;/param&gt;
 6629         &lt;param id=&quot;pkg_name&quot;&gt;
 6630           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
 6631           &lt;description&gt;
 6632             The exported package name.
 6633           &lt;/description&gt;
 6634         &lt;/param&gt;
 6635         &lt;param id=&quot;to_module&quot;&gt;
 6636           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6637           &lt;description&gt;
 6638             The module the package is exported to.
 6639             If the &lt;code&gt;to_module&lt;/code&gt; is not a subclass of
 6640             &lt;code&gt;java.lang.Module&lt;/code&gt; this function returns
 6641             &lt;errorlink id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;&lt;/errorlink&gt;.
 6642           &lt;/description&gt;
 6643         &lt;/param&gt;
 6644       &lt;/parameters&gt;
 6645       &lt;errors&gt;
 6646         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6647           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6648         &lt;/error&gt;
 6649         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6650           If &lt;paramlink id=&quot;to_module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6651         &lt;/error&gt;
 6652         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 6653           If the package &lt;paramlink id=&quot;pkg_name&quot;&gt;&lt;/paramlink&gt;
 6654           does not belong to the module.
 6655         &lt;/error&gt;
 6656         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6657           if the module cannot be modified.
 6658           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6659         &lt;/error&gt;
 6660       &lt;/errors&gt;
 6661     &lt;/function&gt;
 6662 
 6663     &lt;function id=&quot;AddModuleOpens&quot; num=&quot;96&quot; since=&quot;9&quot;&gt;
 6664       &lt;synopsis&gt;Add Module Opens&lt;/synopsis&gt;
 6665       &lt;description&gt;
 6666          Update a module to open a package to another module.
 6667          This function is a no-op when &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt;
 6668          is an unnamed module or an open module.
 6669          This function facilitates the instrumentation of code
 6670          in modules where that instrumentation requires
 6671          expanding the set of packages that a module opens to
 6672          other modules.
 6673       &lt;/description&gt;
 6674       &lt;origin&gt;new&lt;/origin&gt;
 6675       &lt;capabilities&gt;
 6676       &lt;/capabilities&gt;
 6677       &lt;parameters&gt;
 6678         &lt;param id=&quot;module&quot;&gt;
 6679           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6680           &lt;description&gt;
 6681             The module to update.
 6682           &lt;/description&gt;
 6683         &lt;/param&gt;
 6684         &lt;param id=&quot;pkg_name&quot;&gt;
 6685           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
 6686           &lt;description&gt;
 6687             The package name of the package to open.
 6688           &lt;/description&gt;
 6689         &lt;/param&gt;
 6690         &lt;param id=&quot;to_module&quot;&gt;
 6691           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6692           &lt;description&gt;
 6693             The module with the package to open.
 6694             If the &lt;code&gt;to_module&lt;/code&gt; is not a subclass of
 6695             &lt;code&gt;java.lang.Module&lt;/code&gt; this function returns
 6696             &lt;errorlink id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;&lt;/errorlink&gt;.
 6697           &lt;/description&gt;
 6698         &lt;/param&gt;
 6699       &lt;/parameters&gt;
 6700       &lt;errors&gt;
 6701         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6702           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6703         &lt;/error&gt;
 6704         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6705           If &lt;paramlink id=&quot;to_module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6706         &lt;/error&gt;
 6707         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 6708           If the package &lt;paramlink id=&quot;pkg_name&quot;&gt;&lt;/paramlink&gt;
 6709           does not belong to the module.
 6710         &lt;/error&gt;
 6711         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6712           if the module cannot be modified.
 6713           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6714         &lt;/error&gt;
 6715       &lt;/errors&gt;
 6716     &lt;/function&gt;
 6717 
 6718     &lt;function id=&quot;AddModuleUses&quot; num=&quot;97&quot; since=&quot;9&quot;&gt;
 6719       &lt;synopsis&gt;Add Module Uses&lt;/synopsis&gt;
 6720       &lt;description&gt;
 6721          Updates a module to add a service to the set of services that
 6722          a module uses. This function is a no-op when the module
 6723          is an unnamed module.
 6724          This function facilitates the instrumentation of code
 6725          in named modules where that instrumentation requires
 6726          expanding the set of services that a module is using.
 6727       &lt;/description&gt;
 6728       &lt;origin&gt;new&lt;/origin&gt;
 6729       &lt;capabilities&gt;
 6730       &lt;/capabilities&gt;
 6731       &lt;parameters&gt;
 6732         &lt;param id=&quot;module&quot;&gt;
 6733           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6734           &lt;description&gt;
 6735             The module to update.
 6736           &lt;/description&gt;
 6737         &lt;/param&gt;
 6738         &lt;param id=&quot;service&quot;&gt;
 6739           &lt;ptrtype&gt;&lt;jclass/&gt;&lt;/ptrtype&gt;
 6740           &lt;description&gt;
 6741             The service to use.
 6742           &lt;/description&gt;
 6743         &lt;/param&gt;
 6744       &lt;/parameters&gt;
 6745       &lt;errors&gt;
 6746         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6747           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6748         &lt;/error&gt;
 6749         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 6750           If &lt;paramlink id=&quot;service&quot;&gt;&lt;/paramlink&gt; is not a class object.
 6751         &lt;/error&gt;
 6752         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6753           if the module cannot be modified.
 6754           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6755         &lt;/error&gt;
 6756       &lt;/errors&gt;
 6757     &lt;/function&gt;
 6758 
 6759     &lt;function id=&quot;AddModuleProvides&quot; num=&quot;98&quot; since=&quot;9&quot;&gt;
 6760       &lt;synopsis&gt;Add Module Provides&lt;/synopsis&gt;
 6761       &lt;description&gt;
 6762          Updates a module to add a service to the set of services that
 6763          a module provides. This function is a no-op when the module
 6764          is an unnamed module.
 6765          This function facilitates the instrumentation of code
 6766          in named modules where that instrumentation requires
 6767          changes to the services that are provided.
 6768       &lt;/description&gt;
 6769       &lt;origin&gt;new&lt;/origin&gt;
 6770       &lt;capabilities&gt;
 6771       &lt;/capabilities&gt;
 6772       &lt;parameters&gt;
 6773         &lt;param id=&quot;module&quot;&gt;
 6774           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6775           &lt;description&gt;
 6776             The module to update.
 6777           &lt;/description&gt;
 6778         &lt;/param&gt;
 6779         &lt;param id=&quot;service&quot;&gt;
 6780           &lt;ptrtype&gt;&lt;jclass/&gt;&lt;/ptrtype&gt;
 6781           &lt;description&gt;
 6782             The service to provide.
 6783           &lt;/description&gt;
 6784         &lt;/param&gt;
 6785         &lt;param id=&quot;impl_class&quot;&gt;
 6786           &lt;ptrtype&gt;&lt;jclass/&gt;&lt;/ptrtype&gt;
 6787           &lt;description&gt;
 6788             The implementation class for the provided service.
 6789           &lt;/description&gt;
 6790         &lt;/param&gt;
 6791       &lt;/parameters&gt;
 6792       &lt;errors&gt;
 6793         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6794           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6795         &lt;/error&gt;
 6796         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 6797           If &lt;paramlink id=&quot;service&quot;&gt;&lt;/paramlink&gt; is not a class object.
 6798         &lt;/error&gt;
 6799         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 6800           If &lt;paramlink id=&quot;impl_class&quot;&gt;&lt;/paramlink&gt; is not a class object.
 6801         &lt;/error&gt;
 6802         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6803           if the module cannot be modified.
 6804           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6805         &lt;/error&gt;
 6806       &lt;/errors&gt;
 6807     &lt;/function&gt;
 6808 
 6809     &lt;function id=&quot;IsModifiableModule&quot; num=&quot;99&quot; since=&quot;9&quot;&gt;
 6810       &lt;synopsis&gt;Is Modifiable Module&lt;/synopsis&gt;
 6811       &lt;description&gt;
 6812         Determines whether a module is modifiable.
 6813         If a module is modifiable then this module can be updated with
 6814         &lt;functionlink id=&quot;AddModuleReads&quot;/&gt;, &lt;functionlink id=&quot;AddModuleExports&quot;/&gt;,
 6815         &lt;functionlink id=&quot;AddModuleOpens&quot;/&gt;, &lt;functionlink id=&quot;AddModuleUses&quot;/&gt;,
 6816         and &lt;functionlink id=&quot;AddModuleProvides&quot;/&gt;. If a module is not modifiable
 6817         then the module can not be updated with these functions. The result of
 6818         this function is always &lt;code&gt;JNI_TRUE&lt;/code&gt; when called to determine
 6819         if an unnamed module is modifiable.
 6820       &lt;/description&gt;
 6821       &lt;origin&gt;new&lt;/origin&gt;
 6822       &lt;capabilities&gt;
 6823       &lt;/capabilities&gt;
 6824       &lt;parameters&gt;
 6825         &lt;param id=&quot;module&quot;&gt;
 6826           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6827           &lt;description&gt;
 6828             The module to query.
 6829           &lt;/description&gt;
 6830         &lt;/param&gt;
 6831         &lt;param id=&quot;is_modifiable_module_ptr&quot;&gt;
 6832           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 6833           &lt;description&gt;
 6834             On return, points to the boolean result of this function.
 6835           &lt;/description&gt;
 6836         &lt;/param&gt;
 6837       &lt;/parameters&gt;
 6838       &lt;errors&gt;
 6839         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6840           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6841         &lt;/error&gt;
 6842       &lt;/errors&gt;
 6843     &lt;/function&gt;
 6844 
 6845   &lt;/category&gt;
 6846 
 6847   &lt;category id=&quot;class&quot; label=&quot;Class&quot;&gt;
 6848     &lt;function id=&quot;GetLoadedClasses&quot; jkernel=&quot;yes&quot; num=&quot;78&quot;&gt;
 6849       &lt;synopsis&gt;Get Loaded Classes&lt;/synopsis&gt;
 6850       &lt;description&gt;
 6851         Return an array of all classes loaded in the virtual machine.
 6852         The number of classes in the array is returned via
 6853         &lt;code&gt;class_count_ptr&lt;/code&gt;, and the array itself via
 6854         &lt;code&gt;classes_ptr&lt;/code&gt;.
 6855         &lt;p/&gt;
 6856         A class or interface creation can be triggered by one of the following:
 6857         &lt;ul&gt;
 6858         &lt;li&gt;By loading and deriving a class from a &lt;code&gt;class&lt;/code&gt; file representation
 6859             using a class loader (see &lt;vmspec chapter=&quot;5.3&quot;/&gt;).&lt;/li&gt;
 6860         &lt;li&gt;By invoking &lt;externallink id=&quot;../api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte[],boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)&quot;&gt;Lookup::defineHiddenClass&lt;/externallink&gt;
 6861             that creates a hidden class or interface from a &lt;code&gt;class&lt;/code&gt; file representation.&lt;/li&gt;
 6862         &lt;li&gt;By invoking methods in certain Java SE Platform APIs such as reflection.&lt;/li&gt;
 6863          &lt;/ul&gt;
 6864         &lt;p/&gt;
 6865         An array class is created directly by the Java virtual machine.  The creation
 6866         can be triggered by using class loaders or by invoking methods in certain
 6867         Java SE Platform APIs such as reflection.
 6868         &lt;p/&gt;
 6869         The returned list includes all classes and interfaces, including
 6870         &lt;externallink id=&quot;../api/java.base/java/lang/Class.html#isHidden()&quot;&gt;
 6871         hidden classes or interfaces&lt;/externallink&gt;,
 6872         and also array classes of all types
 6873         (including arrays of primitive types).
 6874         Primitive classes (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;) are
 6875         &lt;i&gt;not&lt;/i&gt; included in the returned list.
 6876       &lt;/description&gt;
 6877       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6878       &lt;capabilities&gt;
 6879       &lt;/capabilities&gt;
 6880       &lt;parameters&gt;
 6881         &lt;param id=&quot;class_count_ptr&quot;&gt;
 6882           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 6883           &lt;description&gt;
 6884             On return, points to the number of classes.
 6885           &lt;/description&gt;
 6886         &lt;/param&gt;
 6887         &lt;param id=&quot;classes_ptr&quot;&gt;
 6888           &lt;allocbuf outcount=&quot;class_count_ptr&quot;&gt;&lt;jclass/&gt;&lt;/allocbuf&gt;
 6889             &lt;description&gt;
 6890               On return, points to an array of references, one
 6891               for each class.
 6892             &lt;/description&gt;
 6893         &lt;/param&gt;
 6894       &lt;/parameters&gt;
 6895       &lt;errors&gt;
 6896       &lt;/errors&gt;
 6897     &lt;/function&gt;
 6898 
 6899     &lt;function id=&quot;GetClassLoaderClasses&quot; jkernel=&quot;yes&quot; num=&quot;79&quot;&gt;
 6900       &lt;synopsis&gt;Get Classloader Classes&lt;/synopsis&gt;
 6901       &lt;description&gt;
 6902         Returns an array of all classes which this class loader
 6903         can find by name via 
 6904         &lt;externallink id=&quot;../api/java.base/java/lang/ClassLoader.html#loadClass(java.lang.String,boolean)&quot;&gt;ClassLoader::loadClass&lt;/externallink&gt;,
 6905         &lt;externallink id=&quot;../api/java.base/java/lang/Class.html#forName(java.lang.String,boolean,java.lang.ClassLoader)&quot;&gt;Class::forName&lt;/externallink&gt; and bytecode linkage.
 6906         That is, all classes for which &lt;code&gt;initiating_loader&lt;/code&gt;
 6907         has been recorded as an initiating loader.
 6908         Each class in the returned array was created by this class loader,
 6909         either by defining it directly or by delegation to another class loader.
 6910         See &lt;vmspec chapter=&quot;5.3&quot;/&gt;.
 6911         &lt;p/&gt;
 6912         The returned list does not include
 6913         &lt;externallink id=&quot;../api/java.base/java/lang/Class.html#isHidden()&quot;&gt;hidden
 6914         classes or interfaces&lt;/externallink&gt; or array classes whose
 6915         element type is a hidden class or interface as they cannot be discovered
 6916         by any class loader.
 6917         &lt;p/&gt;
 6918         The number of classes in the array is returned via
 6919         &lt;code&gt;class_count_ptr&lt;/code&gt;, and the array itself via
 6920         &lt;code&gt;classes_ptr&lt;/code&gt;.
 6921         &lt;p/&gt;
 6922         See &lt;externallink id=&quot;../api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte[],boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)&quot;&gt;Lookup::defineHiddenClass&lt;/externallink&gt;.
 6923       &lt;/description&gt;
 6924       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6925       &lt;capabilities&gt;
 6926       &lt;/capabilities&gt;
 6927       &lt;parameters&gt;
 6928         &lt;param id=&quot;initiating_loader&quot;&gt;
 6929           &lt;ptrtype&gt;
 6930             &lt;jobject/&gt;
 6931             &lt;nullok&gt;the classes initiated by the bootstrap loader will be returned&lt;/nullok&gt;
 6932           &lt;/ptrtype&gt;
 6933             &lt;description&gt;
 6934               An initiating class loader.
 6935             &lt;/description&gt;
 6936         &lt;/param&gt;
 6937         &lt;param id=&quot;class_count_ptr&quot;&gt;
 6938           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 6939           &lt;description&gt;
 6940             On return, points to the number of classes.
 6941           &lt;/description&gt;
 6942         &lt;/param&gt;
 6943         &lt;param id=&quot;classes_ptr&quot;&gt;
 6944           &lt;allocbuf outcount=&quot;class_count_ptr&quot;&gt;&lt;jclass/&gt;&lt;/allocbuf&gt;
 6945             &lt;description&gt;
 6946               On return, points to an array of references, one
 6947               for each class.
 6948             &lt;/description&gt;
 6949         &lt;/param&gt;
 6950       &lt;/parameters&gt;
 6951       &lt;errors&gt;
 6952       &lt;/errors&gt;
 6953     &lt;/function&gt;
 6954 
 6955     &lt;function id=&quot;GetClassSignature&quot; phase=&quot;start&quot; num=&quot;48&quot;&gt;
 6956       &lt;synopsis&gt;Get Class Signature&lt;/synopsis&gt;
 6957       &lt;description&gt;
 6958         Return the name and the generic signature of the class indicated by &lt;code&gt;klass&lt;/code&gt;.
 6959         &lt;p/&gt;
 6960         If the class is a class or interface, then:
 6961         &lt;ul&gt;
 6962         &lt;li&gt;If the class or interface is not &lt;externallink id=&quot;../api/java.base/java/lang/Class.html#isHidden()&quot;&gt;hidden&lt;/externallink&gt;,
 6963           then the returned name is the &lt;externallink id=&quot;jni/types.html#type-signatures&quot;&gt;
 6964           JNI type signature&lt;/externallink&gt;.
 6965           For example, java.util.List is &quot;Ljava/util/List;&quot;
 6966         &lt;/li&gt;
 6967         &lt;li&gt;If the class or interface is &lt;externallink id=&quot;../api/java.base/java/lang/Class.html#isHidden()&quot;&gt;hidden&lt;/externallink&gt;,
 6968           then the returned name is a string of the form:
 6969           &lt;code&gt;&quot;L&quot; + N + &quot;.&quot; +  S + &quot;;&quot;&lt;/code&gt;
 6970           where &lt;code&gt;N&lt;/code&gt; is the binary name encoded in internal form (JVMS 4.2.1)
 6971           indicated by the &lt;code&gt;class&lt;/code&gt; file passed to
 6972           &lt;externallink id=&quot;../api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte[],boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)&quot;&gt;Lookup::defineHiddenClass&lt;/externallink&gt;,
 6973           and &lt;code&gt;S&lt;/code&gt; is an unqualified name.
 6974           The returned name is not a type descriptor and does not conform to JVMS 4.3.2.
 6975           For example, com.foo.Foo/AnySuffix is &quot;Lcom/foo/Foo.AnySuffix;&quot;
 6976         &lt;/li&gt;
 6977         &lt;/ul&gt;
 6978         &lt;p/&gt;
 6979         If the class indicated by &lt;code&gt;klass&lt;/code&gt; represents an array class, then
 6980         the returned name is a string consisting of one or more &quot;&lt;code&gt;[&lt;/code&gt;&quot; characters
 6981         representing the depth of the array nesting, followed by the class signature
 6982         of the element type.  For example the class signature of java.lang.String[] is
 6983         &quot;[Ljava/lang/String;&quot; and that of int[] is &quot;[I&quot;.
 6984         &lt;p/&gt;
 6985         If the class indicated by &lt;code&gt;klass&lt;/code&gt; represents primitive type or &lt;code&gt;void&lt;/code&gt;,
 6986         then the returned name is the &lt;externallink id=&quot;jni/types.html#type-signatures&quot;&gt;
 6987         type signature character of the corresponding primitive type&lt;/externallink&gt;.
 6988         For example, java.lang.Integer.TYPE is &quot;I&quot;.
 6989       &lt;/description&gt;
 6990       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 6991       &lt;capabilities&gt;
 6992       &lt;/capabilities&gt;
 6993       &lt;parameters&gt;
 6994         &lt;param id=&quot;klass&quot;&gt;
 6995           &lt;jclass/&gt;
 6996             &lt;description&gt;
 6997               The class to query.
 6998             &lt;/description&gt;
 6999         &lt;/param&gt;
 7000         &lt;param id=&quot;signature_ptr&quot;&gt;
 7001           &lt;allocbuf&gt;
 7002             &lt;char/&gt;
 7003             &lt;nullok&gt;the signature is not returned&lt;/nullok&gt;
 7004           &lt;/allocbuf&gt;
 7005           &lt;description&gt;
 7006             On return, points to the JNI type signature of the class, encoded as a
 7007             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 7008           &lt;/description&gt;
 7009         &lt;/param&gt;
 7010         &lt;param id=&quot;generic_ptr&quot;&gt;
 7011           &lt;allocbuf&gt;
 7012             &lt;char/&gt;
 7013             &lt;nullok&gt;the generic signature is not returned&lt;/nullok&gt;
 7014           &lt;/allocbuf&gt;
 7015           &lt;description&gt;
 7016             On return, points to the generic signature of the class, encoded as a
 7017             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 7018             If there is no generic signature attribute for the class, then,
 7019             on return, points to &lt;code&gt;NULL&lt;/code&gt;.
 7020           &lt;/description&gt;
 7021         &lt;/param&gt;
 7022       &lt;/parameters&gt;
 7023       &lt;errors&gt;
 7024       &lt;/errors&gt;
 7025     &lt;/function&gt;
 7026 
 7027     &lt;function id=&quot;GetClassStatus&quot; phase=&quot;start&quot; num=&quot;49&quot;&gt;
 7028       &lt;synopsis&gt;Get Class Status&lt;/synopsis&gt;
 7029       &lt;description&gt;
 7030         Get the status of the class. Zero or more of the following bits can be
 7031         set.
 7032         &lt;constants id=&quot;jvmtiClassStatus&quot; label=&quot;Class Status Flags&quot; kind=&quot;bits&quot;&gt;
 7033           &lt;constant id=&quot;JVMTI_CLASS_STATUS_VERIFIED&quot; num=&quot;1&quot;&gt;
 7034             Class bytecodes have been verified
 7035           &lt;/constant&gt;
 7036           &lt;constant id=&quot;JVMTI_CLASS_STATUS_PREPARED&quot; num=&quot;2&quot;&gt;
 7037             Class preparation is complete
 7038           &lt;/constant&gt;
 7039           &lt;constant id=&quot;JVMTI_CLASS_STATUS_INITIALIZED&quot; num=&quot;4&quot;&gt;
 7040             Class initialization is complete. Static initializer has been run.
 7041           &lt;/constant&gt;
 7042           &lt;constant id=&quot;JVMTI_CLASS_STATUS_ERROR&quot; num=&quot;8&quot;&gt;
 7043             Error during initialization makes class unusable
 7044           &lt;/constant&gt;
 7045           &lt;constant id=&quot;JVMTI_CLASS_STATUS_ARRAY&quot; num=&quot;16&quot;&gt;
 7046             Class is an array.  If set, all other bits are zero.
 7047           &lt;/constant&gt;
 7048           &lt;constant id=&quot;JVMTI_CLASS_STATUS_PRIMITIVE&quot; num=&quot;32&quot;&gt;
 7049             Class is a primitive class (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7050             If set, all other bits are zero.
 7051           &lt;/constant&gt;
 7052         &lt;/constants&gt;
 7053       &lt;/description&gt;
 7054       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7055       &lt;capabilities&gt;
 7056       &lt;/capabilities&gt;
 7057       &lt;parameters&gt;
 7058         &lt;param id=&quot;klass&quot;&gt;
 7059           &lt;jclass/&gt;
 7060             &lt;description&gt;
 7061               The class to query.
 7062             &lt;/description&gt;
 7063         &lt;/param&gt;
 7064         &lt;param id=&quot;status_ptr&quot;&gt;
 7065           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7066           &lt;description&gt;
 7067             On return, points to the current state of this class as one or
 7068             more of the &lt;internallink id=&quot;jvmtiClassStatus&quot;&gt;class status flags&lt;/internallink&gt;.
 7069           &lt;/description&gt;
 7070         &lt;/param&gt;
 7071       &lt;/parameters&gt;
 7072       &lt;errors&gt;
 7073       &lt;/errors&gt;
 7074     &lt;/function&gt;
 7075 
 7076     &lt;function id=&quot;GetSourceFileName&quot; phase=&quot;start&quot; num=&quot;50&quot;&gt;
 7077       &lt;synopsis&gt;Get Source File Name&lt;/synopsis&gt;
 7078       &lt;description&gt;
 7079         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return the source file
 7080         name via &lt;code&gt;source_name_ptr&lt;/code&gt;. The returned string
 7081         is a file name only and never contains a directory name.
 7082         &lt;p/&gt;
 7083         For primitive classes (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;)
 7084         and for arrays this function returns
 7085         &lt;errorlink id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;&lt;/errorlink&gt;.
 7086       &lt;/description&gt;
 7087       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7088       &lt;capabilities&gt;
 7089         &lt;required id=&quot;can_get_source_file_name&quot;&gt;&lt;/required&gt;
 7090       &lt;/capabilities&gt;
 7091       &lt;parameters&gt;
 7092         &lt;param id=&quot;klass&quot;&gt;
 7093           &lt;jclass/&gt;
 7094             &lt;description&gt;
 7095               The class to query.
 7096             &lt;/description&gt;
 7097         &lt;/param&gt;
 7098         &lt;param id=&quot;source_name_ptr&quot;&gt;
 7099           &lt;allocbuf&gt;&lt;char/&gt;&lt;/allocbuf&gt;
 7100           &lt;description&gt;
 7101             On return, points to the class&#39;s source file name, encoded as a
 7102             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 7103           &lt;/description&gt;
 7104         &lt;/param&gt;
 7105       &lt;/parameters&gt;
 7106       &lt;errors&gt;
 7107         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 7108           Class information does not include a source file name. This includes
 7109           cases where the class is an array class or primitive class.
 7110         &lt;/error&gt;
 7111       &lt;/errors&gt;
 7112     &lt;/function&gt;
 7113 
 7114     &lt;function id=&quot;GetClassModifiers&quot; phase=&quot;start&quot; num=&quot;51&quot;&gt;
 7115       &lt;synopsis&gt;Get Class Modifiers&lt;/synopsis&gt;
 7116       &lt;description&gt;
 7117         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return the access
 7118         flags
 7119         via &lt;code&gt;modifiers_ptr&lt;/code&gt;.
 7120         Access flags are defined in &lt;vmspec chapter=&quot;4&quot;/&gt;.
 7121         &lt;p/&gt;
 7122         If the class is an array class, then its public, private, and protected
 7123         modifiers are the same as those of its component type. For arrays of
 7124         primitives, this component type is represented by one of the primitive
 7125         classes (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7126         &lt;p/&gt;
 7127         If the class is a primitive class, its public modifier is always true,
 7128         and its protected and private modifiers are always false.
 7129         &lt;p/&gt;
 7130         If the class is an array class or a primitive class then its final
 7131         modifier is always true and its interface modifier is always false.
 7132         The values of its other modifiers are not determined by this specification.
 7133 
 7134       &lt;/description&gt;
 7135       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7136       &lt;capabilities&gt;
 7137       &lt;/capabilities&gt;
 7138       &lt;parameters&gt;
 7139         &lt;param id=&quot;klass&quot;&gt;
 7140           &lt;jclass/&gt;
 7141             &lt;description&gt;
 7142               The class to query.
 7143             &lt;/description&gt;
 7144         &lt;/param&gt;
 7145         &lt;param id=&quot;modifiers_ptr&quot;&gt;
 7146           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7147           &lt;description&gt;
 7148             On return, points to the current access flags of this class.
 7149 
 7150           &lt;/description&gt;
 7151         &lt;/param&gt;
 7152       &lt;/parameters&gt;
 7153       &lt;errors&gt;
 7154       &lt;/errors&gt;
 7155     &lt;/function&gt;
 7156 
 7157     &lt;function id=&quot;GetClassMethods&quot; phase=&quot;start&quot; num=&quot;52&quot;&gt;
 7158       &lt;synopsis&gt;Get Class Methods&lt;/synopsis&gt;
 7159       &lt;description&gt;
 7160         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return a count of
 7161         methods via &lt;code&gt;method_count_ptr&lt;/code&gt; and a list of
 7162         method IDs via &lt;code&gt;methods_ptr&lt;/code&gt;. The method list contains
 7163         constructors and static initializers as well as true methods.
 7164         Only directly declared methods are returned (not inherited methods).
 7165         An empty method list is returned for array classes and primitive classes
 7166         (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7167       &lt;/description&gt;
 7168       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7169       &lt;capabilities&gt;
 7170         &lt;capability id=&quot;can_maintain_original_method_order&quot;/&gt;
 7171       &lt;/capabilities&gt;
 7172       &lt;parameters&gt;
 7173         &lt;param id=&quot;klass&quot;&gt;
 7174           &lt;jclass/&gt;
 7175             &lt;description&gt;
 7176               The class to query.
 7177             &lt;/description&gt;
 7178         &lt;/param&gt;
 7179         &lt;param id=&quot;method_count_ptr&quot;&gt;
 7180           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7181           &lt;description&gt;
 7182             On return, points to the number of methods declared in this class.
 7183           &lt;/description&gt;
 7184         &lt;/param&gt;
 7185         &lt;param id=&quot;methods_ptr&quot;&gt;
 7186           &lt;allocbuf outcount=&quot;method_count_ptr&quot;&gt;&lt;jmethodID class=&quot;klass&quot;/&gt;&lt;/allocbuf&gt;
 7187             &lt;description&gt;
 7188               On return, points to the method ID array.
 7189             &lt;/description&gt;
 7190         &lt;/param&gt;
 7191       &lt;/parameters&gt;
 7192       &lt;errors&gt;
 7193         &lt;error id=&quot;JVMTI_ERROR_CLASS_NOT_PREPARED&quot;&gt;
 7194           &lt;paramlink id=&quot;klass&quot;&gt;&lt;/paramlink&gt; is not prepared.
 7195         &lt;/error&gt;
 7196       &lt;/errors&gt;
 7197     &lt;/function&gt;
 7198 
 7199     &lt;function id=&quot;GetClassFields&quot; phase=&quot;start&quot; num=&quot;53&quot;&gt;
 7200       &lt;synopsis&gt;Get Class Fields&lt;/synopsis&gt;
 7201       &lt;description&gt;
 7202         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return a count of fields
 7203         via &lt;code&gt;field_count_ptr&lt;/code&gt; and a list of field IDs via
 7204         &lt;code&gt;fields_ptr&lt;/code&gt;.
 7205         Only directly declared fields are returned (not inherited fields).
 7206         Fields are returned in the order they occur in the class file.
 7207         An empty field list is returned for array classes and primitive classes
 7208         (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7209         Use JNI to determine the length of an array.
 7210       &lt;/description&gt;
 7211       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7212       &lt;capabilities&gt;
 7213       &lt;/capabilities&gt;
 7214       &lt;parameters&gt;
 7215         &lt;param id=&quot;klass&quot;&gt;
 7216           &lt;jclass/&gt;
 7217             &lt;description&gt;
 7218               The class to query.
 7219             &lt;/description&gt;
 7220         &lt;/param&gt;
 7221         &lt;param id=&quot;field_count_ptr&quot;&gt;
 7222           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7223           &lt;description&gt;
 7224             On return, points to the number of fields declared in this class.
 7225           &lt;/description&gt;
 7226         &lt;/param&gt;
 7227         &lt;param id=&quot;fields_ptr&quot;&gt;
 7228           &lt;allocbuf outcount=&quot;field_count_ptr&quot;&gt;&lt;jfieldID/&gt;&lt;/allocbuf&gt;
 7229             &lt;description&gt;
 7230               On return, points to the field ID array.
 7231             &lt;/description&gt;
 7232         &lt;/param&gt;
 7233       &lt;/parameters&gt;
 7234       &lt;errors&gt;
 7235         &lt;error id=&quot;JVMTI_ERROR_CLASS_NOT_PREPARED&quot;&gt;
 7236           &lt;paramlink id=&quot;klass&quot;&gt;&lt;/paramlink&gt; is not prepared.
 7237         &lt;/error&gt;
 7238       &lt;/errors&gt;
 7239     &lt;/function&gt;
 7240 
 7241     &lt;function id=&quot;GetImplementedInterfaces&quot; phase=&quot;start&quot; num=&quot;54&quot;&gt;
 7242       &lt;synopsis&gt;Get Implemented Interfaces&lt;/synopsis&gt;
 7243       &lt;description&gt;
 7244         Return the direct super-interfaces of this class. For a class, this
 7245         function returns the interfaces declared in its &lt;code&gt;implements&lt;/code&gt;
 7246         clause. For an interface, this function returns the interfaces declared in
 7247         its &lt;code&gt;extends&lt;/code&gt; clause.
 7248         An empty interface list is returned for array classes and primitive classes
 7249         (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7250       &lt;/description&gt;
 7251       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7252       &lt;capabilities&gt;
 7253       &lt;/capabilities&gt;
 7254       &lt;parameters&gt;
 7255         &lt;param id=&quot;klass&quot;&gt;
 7256           &lt;jclass/&gt;
 7257             &lt;description&gt;
 7258               The class to query.
 7259             &lt;/description&gt;
 7260         &lt;/param&gt;
 7261         &lt;param id=&quot;interface_count_ptr&quot;&gt;
 7262           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7263           &lt;description&gt;
 7264             On return, points to the number of interfaces.
 7265           &lt;/description&gt;
 7266         &lt;/param&gt;
 7267         &lt;param id=&quot;interfaces_ptr&quot;&gt;
 7268           &lt;allocbuf outcount=&quot;interface_count_ptr&quot;&gt;&lt;jclass/&gt;&lt;/allocbuf&gt;
 7269             &lt;description&gt;
 7270               On return, points to the interface array.
 7271             &lt;/description&gt;
 7272         &lt;/param&gt;
 7273       &lt;/parameters&gt;
 7274       &lt;errors&gt;
 7275         &lt;error id=&quot;JVMTI_ERROR_CLASS_NOT_PREPARED&quot;&gt;
 7276           &lt;paramlink id=&quot;klass&quot;&gt;&lt;/paramlink&gt; is not prepared.
 7277         &lt;/error&gt;
 7278       &lt;/errors&gt;
 7279     &lt;/function&gt;
 7280 
 7281     &lt;function id=&quot;GetClassVersionNumbers&quot; phase=&quot;start&quot; num=&quot;145&quot; since=&quot;1.1&quot;&gt;
 7282       &lt;synopsis&gt;Get Class Version Numbers&lt;/synopsis&gt;
 7283       &lt;description&gt;
 7284         For the class indicated by &lt;code&gt;klass&lt;/code&gt;,
 7285         return the minor and major version numbers,
 7286         as defined in
 7287         &lt;vmspec chapter=&quot;4&quot;/&gt;.
 7288       &lt;/description&gt;
 7289       &lt;origin&gt;new&lt;/origin&gt;
 7290       &lt;capabilities&gt;
 7291       &lt;/capabilities&gt;
 7292       &lt;parameters&gt;
 7293         &lt;param id=&quot;klass&quot;&gt;
 7294           &lt;jclass/&gt;
 7295             &lt;description&gt;
 7296               The class to query.
 7297             &lt;/description&gt;
 7298         &lt;/param&gt;
 7299         &lt;param id=&quot;minor_version_ptr&quot;&gt;
 7300           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7301           &lt;description&gt;
 7302             On return, points to the value of the
 7303             &lt;code&gt;minor_version&lt;/code&gt; item of the
 7304             Class File Format.
 7305             Note: to be consistent with the Class File Format,
 7306             the minor version number is the first parameter.
 7307           &lt;/description&gt;
 7308         &lt;/param&gt;
 7309         &lt;param id=&quot;major_version_ptr&quot;&gt;
 7310           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7311           &lt;description&gt;
 7312             On return, points to the value of the
 7313             &lt;code&gt;major_version&lt;/code&gt; item of the
 7314             Class File Format.
 7315           &lt;/description&gt;
 7316         &lt;/param&gt;
 7317       &lt;/parameters&gt;
 7318       &lt;errors&gt;
 7319         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 7320           The class is a primitive or array class.
 7321         &lt;/error&gt;
 7322       &lt;/errors&gt;
 7323     &lt;/function&gt;
 7324 
 7325     &lt;function id=&quot;GetConstantPool&quot; phase=&quot;start&quot; num=&quot;146&quot; since=&quot;1.1&quot;&gt;
 7326       &lt;synopsis&gt;Get Constant Pool&lt;/synopsis&gt;
 7327       &lt;description&gt;
 7328         For the class indicated by &lt;code&gt;klass&lt;/code&gt;,
 7329         return the raw bytes of the constant pool in the format of the
 7330         &lt;code&gt;constant_pool&lt;/code&gt; item of
 7331         &lt;vmspec chapter=&quot;4&quot;/&gt;.
 7332         The format of the constant pool may differ between versions
 7333         of the Class File Format, so, the
 7334         &lt;functionlink id=&quot;GetClassVersionNumbers&quot;&gt;minor and major
 7335         class version numbers&lt;/functionlink&gt; should be checked for
 7336         compatibility.
 7337         &lt;p/&gt;
 7338         The returned constant pool might not have the same layout or
 7339         contents as the constant pool in the defining class file.
 7340         The constant pool returned by GetConstantPool() may have
 7341         more or fewer entries than the defining constant pool.
 7342         Entries may be in a different order.
 7343         The constant pool returned by GetConstantPool() will match the
 7344         constant pool used by
 7345         &lt;functionlink id=&quot;GetBytecodes&quot;&gt;GetBytecodes()&lt;/functionlink&gt;.
 7346         That is, the bytecodes returned by GetBytecodes() will have
 7347         constant pool indices which refer to constant pool entries returned
 7348         by GetConstantPool().
 7349         Note that since &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;
 7350         and &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; can change
 7351         the constant pool, the constant pool returned by this function
 7352         can change accordingly.  Thus, the correspondence between
 7353         GetConstantPool() and GetBytecodes() does not hold if there
 7354         is an intervening class retransformation or redefinition.
 7355         The value of a constant pool entry used by a given bytecode will
 7356         match that of the defining class file (even if the indices don&#39;t match).
 7357         Constant pool entries which are not used directly or indirectly by
 7358         bytecodes (for example,  UTF-8 strings associated with annotations) are
 7359         not  required to exist in the returned constant pool.
 7360       &lt;/description&gt;
 7361       &lt;origin&gt;new&lt;/origin&gt;
 7362       &lt;capabilities&gt;
 7363         &lt;required id=&quot;can_get_constant_pool&quot;&gt;&lt;/required&gt;
 7364       &lt;/capabilities&gt;
 7365       &lt;parameters&gt;
 7366         &lt;param id=&quot;klass&quot;&gt;
 7367           &lt;jclass/&gt;
 7368             &lt;description&gt;
 7369               The class to query.
 7370             &lt;/description&gt;
 7371         &lt;/param&gt;
 7372         &lt;param id=&quot;constant_pool_count_ptr&quot;&gt;
 7373           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7374           &lt;description&gt;
 7375             On return, points to the number of entries
 7376             in the constant pool table plus one.
 7377             This corresponds to the &lt;code&gt;constant_pool_count&lt;/code&gt;
 7378             item of the Class File Format.
 7379           &lt;/description&gt;
 7380         &lt;/param&gt;
 7381         &lt;param id=&quot;constant_pool_byte_count_ptr&quot;&gt;
 7382           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7383           &lt;description&gt;
 7384             On return, points to the number of bytes
 7385             in the returned raw constant pool.
 7386           &lt;/description&gt;
 7387         &lt;/param&gt;
 7388         &lt;param id=&quot;constant_pool_bytes_ptr&quot;&gt;
 7389           &lt;allocbuf outcount=&quot;constant_pool_byte_count_ptr&quot;&gt;&lt;uchar/&gt;&lt;/allocbuf&gt;
 7390             &lt;description&gt;
 7391               On return, points to the raw constant pool, that is the bytes
 7392               defined by the &lt;code&gt;constant_pool&lt;/code&gt; item of the
 7393               Class File Format
 7394             &lt;/description&gt;
 7395         &lt;/param&gt;
 7396       &lt;/parameters&gt;
 7397       &lt;errors&gt;
 7398         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 7399           The class is a primitive or array class.
 7400         &lt;/error&gt;
 7401       &lt;/errors&gt;
 7402     &lt;/function&gt;
 7403 
 7404     &lt;function id=&quot;IsInterface&quot; phase=&quot;start&quot; num=&quot;55&quot;&gt;
 7405       &lt;synopsis&gt;Is Interface&lt;/synopsis&gt;
 7406       &lt;description&gt;
 7407         Determines whether a class object reference represents an interface.
 7408         The &lt;code&gt;jboolean&lt;/code&gt; result is
 7409         &lt;code&gt;JNI_TRUE&lt;/code&gt; if the &quot;class&quot; is actually an interface,
 7410         &lt;code&gt;JNI_FALSE&lt;/code&gt; otherwise.
 7411       &lt;/description&gt;
 7412       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7413       &lt;capabilities&gt;
 7414       &lt;/capabilities&gt;
 7415       &lt;parameters&gt;
 7416         &lt;param id=&quot;klass&quot;&gt;
 7417           &lt;jclass/&gt;
 7418             &lt;description&gt;
 7419               The class to query.
 7420             &lt;/description&gt;
 7421         &lt;/param&gt;
 7422         &lt;param id=&quot;is_interface_ptr&quot;&gt;
 7423           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 7424           &lt;description&gt;
 7425             On return, points to the boolean result of this function.
 7426 
 7427           &lt;/description&gt;
 7428         &lt;/param&gt;
 7429       &lt;/parameters&gt;
 7430       &lt;errors&gt;
 7431       &lt;/errors&gt;
 7432     &lt;/function&gt;
 7433 
 7434     &lt;function id=&quot;IsArrayClass&quot; phase=&quot;start&quot; num=&quot;56&quot;&gt;
 7435       &lt;synopsis&gt;Is Array Class&lt;/synopsis&gt;
 7436       &lt;description&gt;
 7437         Determines whether a class object reference represents an array.
 7438         The &lt;code&gt;jboolean&lt;/code&gt; result is
 7439         &lt;code&gt;JNI_TRUE&lt;/code&gt; if the class is an array,
 7440         &lt;code&gt;JNI_FALSE&lt;/code&gt; otherwise.
 7441       &lt;/description&gt;
 7442       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7443       &lt;capabilities&gt;
 7444       &lt;/capabilities&gt;
 7445       &lt;parameters&gt;
 7446         &lt;param id=&quot;klass&quot;&gt;
 7447           &lt;jclass/&gt;
 7448             &lt;description&gt;
 7449               The class to query.
 7450             &lt;/description&gt;
 7451         &lt;/param&gt;
 7452         &lt;param id=&quot;is_array_class_ptr&quot;&gt;
 7453           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 7454           &lt;description&gt;
 7455             On return, points to the boolean result of this function.
 7456 
 7457           &lt;/description&gt;
 7458         &lt;/param&gt;
 7459       &lt;/parameters&gt;
 7460       &lt;errors&gt;
 7461       &lt;/errors&gt;
 7462     &lt;/function&gt;
 7463 
 7464     &lt;function id=&quot;IsModifiableClass&quot; jkernel=&quot;yes&quot; phase=&quot;start&quot; num=&quot;45&quot; since=&quot;1.1&quot;&gt;
 7465       &lt;synopsis&gt;Is Modifiable Class&lt;/synopsis&gt;
 7466       &lt;description&gt;
 7467         Determines whether a class is modifiable.
 7468         If a class is modifiable (&lt;paramlink id=&quot;is_modifiable_class_ptr&quot;/&gt;
 7469         returns &lt;code&gt;JNI_TRUE&lt;/code&gt;) the class can be
 7470         redefined with &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; (assuming
 7471         the agent possesses the
 7472         &lt;fieldlink id=&quot;can_redefine_classes&quot; struct=&quot;jvmtiCapabilities&quot;/&gt;
 7473         capability) or
 7474         retransformed with &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; (assuming
 7475         the agent possesses the
 7476         &lt;fieldlink id=&quot;can_retransform_classes&quot; struct=&quot;jvmtiCapabilities&quot;/&gt;
 7477         capability).
 7478         If a class is not modifiable (&lt;paramlink id=&quot;is_modifiable_class_ptr&quot;/&gt;
 7479         returns &lt;code&gt;JNI_FALSE&lt;/code&gt;) the class can be neither
 7480         redefined nor retransformed.
 7481         &lt;p/&gt;
 7482         Primitive classes (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;),
 7483         array classes, and some implementation defined classes are never modifiable.
 7484         &lt;p/&gt;
 7485       &lt;/description&gt;
 7486       &lt;origin&gt;new&lt;/origin&gt;
 7487       &lt;capabilities&gt;
 7488         &lt;capability id=&quot;can_redefine_any_class&quot;&gt;
 7489           If possessed then all classes (except primitive, array, and some implementation defined
 7490           classes) are modifiable with &lt;functionlink id=&quot;RedefineClasses&quot;/&gt;.
 7491         &lt;/capability&gt;
 7492         &lt;capability id=&quot;can_retransform_any_class&quot;&gt;
 7493           If possessed then all classes (except primitive, array, and some implementation defined
 7494           classes) are modifiable with &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;.
 7495         &lt;/capability&gt;
 7496         &lt;capability id=&quot;can_redefine_classes&quot;&gt;
 7497           No effect on the result of the function.
 7498           But must additionally be possessed to modify the class with
 7499           &lt;functionlink id=&quot;RedefineClasses&quot;/&gt;.
 7500         &lt;/capability&gt;
 7501         &lt;capability id=&quot;can_retransform_classes&quot;&gt;
 7502           No effect on the result of the function.
 7503           But must additionally be possessed to modify the class with
 7504           &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;.
 7505         &lt;/capability&gt;
 7506       &lt;/capabilities&gt;
 7507       &lt;parameters&gt;
 7508         &lt;param id=&quot;klass&quot;&gt;
 7509           &lt;jclass/&gt;
 7510             &lt;description&gt;
 7511               The class to query.
 7512             &lt;/description&gt;
 7513         &lt;/param&gt;
 7514         &lt;param id=&quot;is_modifiable_class_ptr&quot;&gt;
 7515           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 7516           &lt;description&gt;
 7517             On return, points to the boolean result of this function.
 7518           &lt;/description&gt;
 7519         &lt;/param&gt;
 7520       &lt;/parameters&gt;
 7521       &lt;errors&gt;
 7522       &lt;/errors&gt;
 7523     &lt;/function&gt;
 7524 
 7525     &lt;function id=&quot;GetClassLoader&quot; phase=&quot;start&quot; num=&quot;57&quot;&gt;
 7526       &lt;synopsis&gt;Get Class Loader&lt;/synopsis&gt;
 7527       &lt;description&gt;
 7528         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return via
 7529         &lt;code&gt;classloader_ptr&lt;/code&gt; a reference to the class loader for the
 7530         class.
 7531       &lt;/description&gt;
 7532       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7533       &lt;capabilities&gt;
 7534       &lt;/capabilities&gt;
 7535       &lt;parameters&gt;
 7536         &lt;param id=&quot;klass&quot;&gt;
 7537           &lt;jclass/&gt;
 7538             &lt;description&gt;
 7539               The class to query.
 7540             &lt;/description&gt;
 7541         &lt;/param&gt;
 7542         &lt;param id=&quot;classloader_ptr&quot;&gt;
 7543           &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 7544             &lt;description&gt;
 7545               On return, points to the class loader that loaded
 7546               this class.
 7547               If the class was not created by a class loader
 7548               or if the class loader is the bootstrap class loader,
 7549               points to &lt;code&gt;NULL&lt;/code&gt;.
 7550             &lt;/description&gt;
 7551         &lt;/param&gt;
 7552       &lt;/parameters&gt;
 7553       &lt;errors&gt;
 7554       &lt;/errors&gt;
 7555 
 7556     &lt;/function&gt;
 7557 
 7558     &lt;function id=&quot;GetSourceDebugExtension&quot; phase=&quot;start&quot; num=&quot;90&quot;&gt;
 7559       &lt;synopsis&gt;Get Source Debug Extension&lt;/synopsis&gt;
 7560       &lt;description&gt;
 7561         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return the debug
 7562         extension via &lt;code&gt;source_debug_extension_ptr&lt;/code&gt;.
 7563         The returned string
 7564         contains exactly the debug extension information present in the
 7565         class file of &lt;code&gt;klass&lt;/code&gt;.
 7566       &lt;/description&gt;
 7567       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7568       &lt;capabilities&gt;
 7569         &lt;required id=&quot;can_get_source_debug_extension&quot;&gt;&lt;/required&gt;
 7570       &lt;/capabilities&gt;
 7571       &lt;parameters&gt;
 7572         &lt;param id=&quot;klass&quot;&gt;
 7573           &lt;jclass/&gt;
 7574             &lt;description&gt;
 7575               The class to query.
 7576             &lt;/description&gt;
 7577         &lt;/param&gt;
 7578         &lt;param id=&quot;source_debug_extension_ptr&quot;&gt;
 7579           &lt;allocbuf&gt;&lt;char/&gt;&lt;/allocbuf&gt;
 7580           &lt;description&gt;
 7581             On return, points to the class&#39;s debug extension, encoded as a
 7582             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 7583           &lt;/description&gt;
 7584         &lt;/param&gt;
 7585       &lt;/parameters&gt;
 7586       &lt;errors&gt;
 7587         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 7588           Class information does not include a debug extension.
 7589         &lt;/error&gt;
 7590       &lt;/errors&gt;
 7591     &lt;/function&gt;
 7592 
 7593     &lt;function id=&quot;RetransformClasses&quot; jkernel=&quot;yes&quot; num=&quot;152&quot; since=&quot;1.1&quot;&gt;
 7594       &lt;synopsis&gt;Retransform Classes&lt;/synopsis&gt;
 7595       &lt;description&gt;
 7596         This function facilitates the
 7597         &lt;internallink id=&quot;bci&quot;&gt;bytecode instrumentation&lt;/internallink&gt;
 7598         of already loaded classes.
 7599         To replace the class definition without reference to the existing
 7600         bytecodes, as one might do when recompiling from source for
 7601         fix-and-continue debugging, &lt;functionlink id=&quot;RedefineClasses&quot;/&gt;
 7602         function should be used instead.
 7603         &lt;p/&gt;
 7604         When classes are initially loaded or when they are
 7605         &lt;functionlink id=&quot;RedefineClasses&quot;&gt;redefined&lt;/functionlink&gt;,
 7606         the initial class file bytes can be transformed with the
 7607         &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event.
 7608         This function reruns the transformation process
 7609         (whether or not a transformation has previously occurred).
 7610         This retransformation follows these steps:
 7611         &lt;ul&gt;
 7612           &lt;li&gt;starting from the initial class file bytes
 7613           &lt;/li&gt;
 7614           &lt;li&gt;for each &lt;fieldlink id=&quot;can_retransform_classes&quot;
 7615                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
 7616                                                 incapable&lt;/fieldlink&gt;
 7617             agent which received a
 7618             &lt;code&gt;ClassFileLoadHook&lt;/code&gt; event during the previous
 7619             load or redefine, the bytes it returned
 7620             (via the &lt;code&gt;new_class_data&lt;/code&gt; parameter)
 7621             are reused as the output of the transformation;
 7622             note that this is equivalent to reapplying
 7623             the previous transformation, unaltered. except that
 7624             the &lt;code&gt;ClassFileLoadHook&lt;/code&gt; event
 7625             is &lt;b&gt;not&lt;/b&gt; sent to these agents
 7626           &lt;/li&gt;
 7627           &lt;li&gt;for each &lt;fieldlink id=&quot;can_retransform_classes&quot;
 7628                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
 7629                                                 capable&lt;/fieldlink&gt;
 7630             agent, the &lt;code&gt;ClassFileLoadHook&lt;/code&gt; event is sent,
 7631             allowing a new transformation to be applied
 7632           &lt;/li&gt;
 7633           &lt;li&gt;the transformed class file bytes are installed as the new
 7634             definition of the class
 7635           &lt;/li&gt;
 7636         &lt;/ul&gt;
 7637         See the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event for more details.
 7638         &lt;p/&gt;
 7639         The initial class file bytes represent the bytes passed to
 7640         &lt;code&gt;ClassLoader.defineClass&lt;/code&gt;
 7641         or &lt;code&gt;RedefineClasses&lt;/code&gt; (before any transformations
 7642         were applied), however they may not exactly match them.
 7643         The constant pool may differ in ways described in
 7644         &lt;functionlink id=&quot;GetConstantPool&quot;/&gt;.
 7645         Constant pool indices in the bytecodes of methods will correspond.
 7646         Some attributes may not be present.
 7647         Where order is not meaningful, for example the order of methods,
 7648         order may not be preserved.
 7649         &lt;p/&gt;
 7650         Retransformation can cause new versions of methods to be installed.
 7651         Old method versions may become
 7652         &lt;internallink id=&quot;obsoleteMethods&quot;&gt;obsolete&lt;/internallink&gt;
 7653         The new method version will be used on new invokes.
 7654         If a method has active stack frames, those active frames continue to
 7655         run the bytecodes of the original method version.
 7656         &lt;p/&gt;
 7657         This function does not cause any initialization except that which
 7658         would occur under the customary JVM semantics.
 7659         In other words, retransforming a class does not cause its initializers to be
 7660         run. The values of static fields will remain as they were
 7661         prior to the call.
 7662         &lt;p/&gt;
 7663         Threads need not be suspended.
 7664         &lt;p/&gt;
 7665         All breakpoints in the class are cleared.
 7666         &lt;p/&gt;
 7667         All attributes are updated.
 7668         &lt;p/&gt;
 7669         Instances of the retransformed class are not affected -- fields retain their
 7670         previous values.
 7671         &lt;functionlink id=&quot;GetTag&quot;&gt;Tags&lt;/functionlink&gt; on the instances are
 7672         also unaffected.
 7673         &lt;p/&gt;
 7674         In response to this call, no events other than the
 7675         &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event
 7676         will be sent.
 7677         &lt;p/&gt;
 7678         The retransformation may change method bodies, the constant pool and attributes
 7679         (unless explicitly prohibited).
 7680         The retransformation must not add, remove or rename fields or methods, change the
 7681         signatures of methods, change modifiers, or change inheritance.
 7682         The retransformation must not change the &lt;code&gt;NestHost&lt;/code&gt;,
 7683         &lt;code&gt;NestMembers&lt;/code&gt;, or &lt;code&gt;Record&lt;/code&gt; attributes.
 7684         These restrictions may be lifted in future versions.
 7685         See the error return description below for information on error codes
 7686         returned if an unsupported retransformation is attempted.
 7687         The class file bytes are not verified or installed until they have passed
 7688         through the chain of &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events, thus the
 7689         returned error code reflects the result of the transformations.
 7690         If any error code is returned other than &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;,
 7691         none of the classes to be retransformed will have a new definition installed.
 7692         When this function returns (with the error code of &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;)
 7693         all of the classes to be retransformed will have their new definitions installed.
 7694       &lt;/description&gt;
 7695       &lt;origin&gt;new&lt;/origin&gt;
 7696       &lt;capabilities&gt;
 7697         &lt;required id=&quot;can_retransform_classes&quot;&gt;&lt;/required&gt;
 7698         &lt;capability id=&quot;can_retransform_any_class&quot;&gt;&lt;/capability&gt;
 7699       &lt;/capabilities&gt;
 7700       &lt;parameters&gt;
 7701         &lt;param id=&quot;class_count&quot;&gt;
 7702           &lt;jint min=&quot;0&quot;/&gt;
 7703           &lt;description&gt;
 7704             The number of classes to be retransformed.
 7705           &lt;/description&gt;
 7706         &lt;/param&gt;
 7707         &lt;param id=&quot;classes&quot;&gt;
 7708           &lt;inbuf incount=&quot;class_count&quot;&gt;&lt;jclass/&gt;&lt;/inbuf&gt;
 7709           &lt;description&gt;
 7710             The array of classes to be retransformed.
 7711           &lt;/description&gt;
 7712         &lt;/param&gt;
 7713       &lt;/parameters&gt;
 7714       &lt;errors&gt;
 7715         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_CLASS&quot;&gt;
 7716           One of the &lt;paramlink id=&quot;classes&quot;/&gt; cannot be modified.
 7717           See &lt;functionlink id=&quot;IsModifiableClass&quot;/&gt;.
 7718         &lt;/error&gt;
 7719         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 7720           One of the &lt;paramlink id=&quot;classes&quot;/&gt; is not a valid class.
 7721         &lt;/error&gt;
 7722         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_VERSION&quot;&gt;
 7723           A retransformed class file has a version number not supported by this VM.
 7724         &lt;/error&gt;
 7725         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS_FORMAT&quot;&gt;
 7726           A retransformed class file is malformed (The VM would return a &lt;code&gt;ClassFormatError&lt;/code&gt;).
 7727         &lt;/error&gt;
 7728         &lt;error id=&quot;JVMTI_ERROR_CIRCULAR_CLASS_DEFINITION&quot;&gt;
 7729           The retransformed class file definitions would lead to a circular definition
 7730           (the VM would return a &lt;code&gt;ClassCircularityError&lt;/code&gt;).
 7731         &lt;/error&gt;
 7732         &lt;error id=&quot;JVMTI_ERROR_FAILS_VERIFICATION&quot;&gt;
 7733           The retransformed class file bytes fail verification.
 7734         &lt;/error&gt;
 7735         &lt;error id=&quot;JVMTI_ERROR_NAMES_DONT_MATCH&quot;&gt;
 7736           The class name defined in a retransformed class file is
 7737           different from the name in the old class object.
 7738         &lt;/error&gt;
 7739         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_ADDED&quot;&gt;
 7740           A retransformed class file would require adding a method.
 7741         &lt;/error&gt;
 7742         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_SCHEMA_CHANGED&quot;&gt;
 7743           A retransformed class file changes a field.
 7744         &lt;/error&gt;
 7745         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_HIERARCHY_CHANGED&quot;&gt;
 7746           A direct superclass is different for a retransformed class file,
 7747           or the set of directly implemented
 7748           interfaces is different.
 7749         &lt;/error&gt;
 7750         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_DELETED&quot;&gt;
 7751           A retransformed class file does not declare a method
 7752           declared in the old class version.
 7753         &lt;/error&gt;
 7754         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_ATTRIBUTE_CHANGED&quot;&gt;
 7755           A retransformed class file has unsupported differences in class attributes.
 7756         &lt;/error&gt;
 7757         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_MODIFIERS_CHANGED&quot;&gt;
 7758           A retransformed class file has different class modifiers.
 7759         &lt;/error&gt;
 7760         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_MODIFIERS_CHANGED&quot;&gt;
 7761           A method in the retransformed class file has different modifiers
 7762           than its counterpart in the old class version.
 7763         &lt;/error&gt;
 7764       &lt;/errors&gt;
 7765     &lt;/function&gt;
 7766 
 7767     &lt;function id=&quot;RedefineClasses&quot; jkernel=&quot;yes&quot; num=&quot;87&quot;&gt;
 7768       &lt;synopsis&gt;Redefine Classes&lt;/synopsis&gt;
 7769       &lt;typedef id=&quot;jvmtiClassDefinition&quot; label=&quot;Class redefinition description&quot;&gt;
 7770         &lt;field id=&quot;klass&quot;&gt;
 7771           &lt;jclass/&gt;
 7772             &lt;description&gt;
 7773               Class object for this class
 7774             &lt;/description&gt;
 7775         &lt;/field&gt;
 7776         &lt;field id=&quot;class_byte_count&quot;&gt;
 7777           &lt;jint/&gt;
 7778           &lt;description&gt;
 7779             Number of bytes defining class (below)
 7780           &lt;/description&gt;
 7781         &lt;/field&gt;
 7782         &lt;field id=&quot;class_bytes&quot;&gt;
 7783           &lt;inbuf incount=&quot;class_byte_count&quot;&gt;&lt;uchar/&gt;&lt;/inbuf&gt;
 7784           &lt;description&gt;
 7785             Bytes defining class (in &lt;vmspec chapter=&quot;4&quot;/&gt;)
 7786           &lt;/description&gt;
 7787         &lt;/field&gt;
 7788       &lt;/typedef&gt;
 7789       &lt;description&gt;
 7790         All classes given are redefined according to the definitions
 7791         supplied.
 7792         This function is used to replace the definition of a class
 7793         with a new definition, as might be needed in fix-and-continue
 7794         debugging.
 7795         Where the existing class file bytes are to be transformed, for
 7796         example in
 7797         &lt;internallink id=&quot;bci&quot;&gt;bytecode instrumentation&lt;/internallink&gt;,
 7798         &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; should be used.
 7799         &lt;p/&gt;
 7800         Redefinition can cause new versions of methods to be installed.
 7801         Old method versions may become
 7802         &lt;internallink id=&quot;obsoleteMethods&quot;&gt;obsolete&lt;/internallink&gt;
 7803         The new method version will be used on new invokes.
 7804         If a method has active stack frames, those active frames continue to
 7805         run the bytecodes of the original method version.
 7806         If resetting of stack frames is desired, use
 7807         &lt;functionlink id=&quot;PopFrame&quot;&gt;&lt;/functionlink&gt;
 7808         to pop frames with obsolete method versions.
 7809         &lt;p/&gt;
 7810         This function does not cause any initialization except that which
 7811         would occur under the customary JVM semantics.
 7812         In other words, redefining a class does not cause its initializers to be
 7813         run. The values of static fields will remain as they were
 7814         prior to the call.
 7815         &lt;p/&gt;
 7816         Threads need not be suspended.
 7817         &lt;p/&gt;
 7818         All breakpoints in the class are cleared.
 7819         &lt;p/&gt;
 7820         All attributes are updated.
 7821         &lt;p/&gt;
 7822         Instances of the redefined class are not affected -- fields retain their
 7823         previous values.
 7824         &lt;functionlink id=&quot;GetTag&quot;&gt;Tags&lt;/functionlink&gt; on the instances are
 7825         also unaffected.
 7826         &lt;p/&gt;
 7827         In response to this call, the &lt;jvmti/&gt; event
 7828         &lt;eventlink id=&quot;ClassFileLoadHook&quot;&gt;Class File Load Hook&lt;/eventlink&gt;
 7829         will be sent (if enabled), but no other &lt;jvmti/&gt; events will be sent.
 7830         &lt;p/&gt;
 7831         The redefinition may change method bodies, the constant pool and attributes
 7832         (unless explicitly prohibited).
 7833         The redefinition must not add, remove or rename fields or methods, change the
 7834         signatures of methods, change modifiers, or change inheritance.
 7835         The redefinition must not change the &lt;code&gt;NestHost&lt;/code&gt;,
 7836         &lt;code&gt;NestMembers&lt;/code&gt;, or &lt;code&gt;Record&lt;/code&gt; attributes.
 7837         These restrictions may be lifted in future versions.
 7838         See the error return description below for information on error codes
 7839         returned if an unsupported redefinition is attempted.
 7840         The class file bytes are not verified or installed until they have passed
 7841         through the chain of &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events, thus the
 7842         returned error code reflects the result of the transformations applied
 7843         to the bytes passed into &lt;paramlink id=&quot;class_definitions&quot;/&gt;.
 7844         If any error code is returned other than &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;,
 7845         none of the classes to be redefined will have a new definition installed.
 7846         When this function returns (with the error code of &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;)
 7847         all of the classes to be redefined will have their new definitions installed.
 7848       &lt;/description&gt;
 7849       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7850       &lt;capabilities&gt;
 7851         &lt;required id=&quot;can_redefine_classes&quot;&gt;&lt;/required&gt;
 7852         &lt;capability id=&quot;can_redefine_any_class&quot;&gt;&lt;/capability&gt;
 7853       &lt;/capabilities&gt;
 7854       &lt;parameters&gt;
 7855         &lt;param id=&quot;class_count&quot;&gt;
 7856           &lt;jint min=&quot;0&quot;/&gt;
 7857           &lt;description&gt;
 7858             The number of classes specified in &lt;code&gt;class_definitions&lt;/code&gt;
 7859           &lt;/description&gt;
 7860         &lt;/param&gt;
 7861         &lt;param id=&quot;class_definitions&quot;&gt;
 7862           &lt;inbuf incount=&quot;class_count&quot;&gt;&lt;struct&gt;jvmtiClassDefinition&lt;/struct&gt;&lt;/inbuf&gt;
 7863           &lt;description&gt;
 7864             The array of new class definitions
 7865           &lt;/description&gt;
 7866         &lt;/param&gt;
 7867       &lt;/parameters&gt;
 7868       &lt;errors&gt;
 7869         &lt;error id=&quot;JVMTI_ERROR_NULL_POINTER&quot;&gt;
 7870           One of &lt;code&gt;class_bytes&lt;/code&gt; is &lt;code&gt;NULL&lt;/code&gt;.
 7871         &lt;/error&gt;
 7872         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_CLASS&quot;&gt;
 7873           An element of &lt;code&gt;class_definitions&lt;/code&gt; cannot be modified.
 7874           See &lt;functionlink id=&quot;IsModifiableClass&quot;/&gt;.
 7875         &lt;/error&gt;
 7876         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 7877           An element of &lt;code&gt;class_definitions&lt;/code&gt; is not a valid class.
 7878         &lt;/error&gt;
 7879         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_VERSION&quot;&gt;
 7880           A new class file has a version number not supported by this VM.
 7881         &lt;/error&gt;
 7882         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS_FORMAT&quot;&gt;
 7883           A new class file is malformed (The VM would return a &lt;code&gt;ClassFormatError&lt;/code&gt;).
 7884         &lt;/error&gt;
 7885         &lt;error id=&quot;JVMTI_ERROR_CIRCULAR_CLASS_DEFINITION&quot;&gt;
 7886           The new class file definitions would lead to a circular definition
 7887           (the VM would return a &lt;code&gt;ClassCircularityError&lt;/code&gt;).
 7888         &lt;/error&gt;
 7889         &lt;error id=&quot;JVMTI_ERROR_FAILS_VERIFICATION&quot;&gt;
 7890           The class bytes fail verification.
 7891         &lt;/error&gt;
 7892         &lt;error id=&quot;JVMTI_ERROR_NAMES_DONT_MATCH&quot;&gt;
 7893           The class name defined in a new class file is
 7894           different from the name in the old class object.
 7895         &lt;/error&gt;
 7896         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_ADDED&quot;&gt;
 7897           A new class file would require adding a method.
 7898         &lt;/error&gt;
 7899         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_SCHEMA_CHANGED&quot;&gt;
 7900           A new class version changes a field.
 7901         &lt;/error&gt;
 7902         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_HIERARCHY_CHANGED&quot;&gt;
 7903           A direct superclass is different for a new class
 7904           version, or the set of directly implemented
 7905           interfaces is different.
 7906         &lt;/error&gt;
 7907         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_DELETED&quot;&gt;
 7908           A new class version does not declare a method
 7909           declared in the old class version.
 7910         &lt;/error&gt;
 7911         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_ATTRIBUTE_CHANGED&quot;&gt;
 7912           A new class version has unsupported differences in class attributes.
 7913         &lt;/error&gt;
 7914         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_MODIFIERS_CHANGED&quot;&gt;
 7915           A new class version has different modifiers.
 7916         &lt;/error&gt;
 7917         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_MODIFIERS_CHANGED&quot;&gt;
 7918           A method in the new class version has different modifiers
 7919           than its counterpart in the old class version.
 7920         &lt;/error&gt;
 7921         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 7922           A module cannot be modified.
 7923           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 7924         &lt;/error&gt;
 7925       &lt;/errors&gt;
 7926     &lt;/function&gt;
 7927 
 7928   &lt;/category&gt;
 7929 
 7930   &lt;category id=&quot;object&quot; label=&quot;Object&quot;&gt;
 7931 
 7932     &lt;function id=&quot;GetObjectSize&quot; jkernel=&quot;yes&quot; phase=&quot;start&quot; num=&quot;154&quot;&gt;
 7933       &lt;synopsis&gt;Get Object Size&lt;/synopsis&gt;
 7934       &lt;description&gt;
 7935         For the object indicated by &lt;code&gt;object&lt;/code&gt;,
 7936         return via &lt;code&gt;size_ptr&lt;/code&gt; the size of the object.
 7937         This size is an implementation-specific approximation of
 7938         the amount of storage consumed by this object.
 7939         It may include some or all of the object&#39;s overhead, and thus
 7940         is useful for comparison within an implementation but not
 7941         between implementations.
 7942         The estimate may change during a single invocation of the JVM.
 7943       &lt;/description&gt;
 7944       &lt;origin&gt;new&lt;/origin&gt;
 7945       &lt;capabilities&gt;
 7946       &lt;/capabilities&gt;
 7947       &lt;parameters&gt;
 7948         &lt;param id=&quot;object&quot;&gt;
 7949           &lt;jobject/&gt;
 7950             &lt;description&gt;
 7951               The object to query.
 7952             &lt;/description&gt;
 7953         &lt;/param&gt;
 7954         &lt;param id=&quot;size_ptr&quot;&gt;
 7955           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 7956           &lt;description&gt;
 7957             On return, points to the object&#39;s size in bytes.
 7958           &lt;/description&gt;
 7959         &lt;/param&gt;
 7960       &lt;/parameters&gt;
 7961       &lt;errors&gt;
 7962       &lt;/errors&gt;
 7963     &lt;/function&gt;
 7964 
 7965     &lt;function id=&quot;GetObjectHashCode&quot; phase=&quot;start&quot; num=&quot;58&quot;&gt;
 7966       &lt;synopsis&gt;Get Object Hash Code&lt;/synopsis&gt;
 7967       &lt;description&gt;
 7968         For the object indicated by &lt;code&gt;object&lt;/code&gt;,
 7969         return via &lt;code&gt;hash_code_ptr&lt;/code&gt; a hash code.
 7970         This hash code could be used to maintain a hash table of object references,
 7971         however, on some implementations this can cause significant performance
 7972         impacts--in most cases
 7973         &lt;internallink id=&quot;Heap&quot;&gt;tags&lt;/internallink&gt;
 7974         will be a more efficient means of associating information with objects.
 7975         This function guarantees
 7976         the same hash code value for a particular object throughout its life
 7977       &lt;/description&gt;
 7978       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7979       &lt;capabilities&gt;
 7980       &lt;/capabilities&gt;
 7981       &lt;parameters&gt;
 7982         &lt;param id=&quot;object&quot;&gt;
 7983           &lt;jobject/&gt;
 7984             &lt;description&gt;
 7985               The object to query.
 7986             &lt;/description&gt;
 7987         &lt;/param&gt;
 7988         &lt;param id=&quot;hash_code_ptr&quot;&gt;
 7989           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7990           &lt;description&gt;
 7991             On return, points to the object&#39;s hash code.
 7992           &lt;/description&gt;
 7993         &lt;/param&gt;
 7994       &lt;/parameters&gt;
 7995       &lt;errors&gt;
 7996       &lt;/errors&gt;
 7997     &lt;/function&gt;
 7998 
 7999     &lt;function id=&quot;GetObjectMonitorUsage&quot; num=&quot;59&quot;&gt;
 8000       &lt;synopsis&gt;Get Object Monitor Usage&lt;/synopsis&gt;
 8001       &lt;typedef id=&quot;jvmtiMonitorUsage&quot; label=&quot;Object monitor usage information&quot;&gt;
 8002         &lt;field id=&quot;owner&quot;&gt;
 8003           &lt;jthread/&gt;
 8004             &lt;description&gt;
 8005               The thread owning this monitor, or &lt;code&gt;NULL&lt;/code&gt; if unused
 8006             &lt;/description&gt;
 8007         &lt;/field&gt;
 8008         &lt;field id=&quot;entry_count&quot;&gt;
 8009           &lt;jint/&gt;
 8010           &lt;description&gt;
 8011             The number of times the owning thread has entered the monitor
 8012           &lt;/description&gt;
 8013         &lt;/field&gt;
 8014         &lt;field id=&quot;waiter_count&quot;&gt;
 8015           &lt;jint/&gt;
 8016           &lt;description&gt;
 8017             The number of threads waiting to own this monitor
 8018           &lt;/description&gt;
 8019         &lt;/field&gt;
 8020         &lt;field id=&quot;waiters&quot;&gt;
 8021           &lt;allocfieldbuf&gt;&lt;jthread/&gt;&lt;/allocfieldbuf&gt;
 8022             &lt;description&gt;
 8023               The &lt;code&gt;waiter_count&lt;/code&gt; waiting threads
 8024             &lt;/description&gt;
 8025         &lt;/field&gt;
 8026         &lt;field id=&quot;notify_waiter_count&quot;&gt;
 8027           &lt;jint/&gt;
 8028           &lt;description&gt;
 8029             The number of threads waiting to be notified by this monitor
 8030           &lt;/description&gt;
 8031         &lt;/field&gt;
 8032         &lt;field id=&quot;notify_waiters&quot;&gt;
 8033           &lt;allocfieldbuf&gt;&lt;jthread/&gt;&lt;/allocfieldbuf&gt;
 8034             &lt;description&gt;
 8035               The &lt;code&gt;notify_waiter_count&lt;/code&gt; threads waiting to be notified
 8036             &lt;/description&gt;
 8037         &lt;/field&gt;
 8038       &lt;/typedef&gt;
 8039       &lt;description&gt;
 8040         Get information about the object&#39;s monitor.
 8041         The fields of the &lt;functionlink id=&quot;jvmtiMonitorUsage&quot;&gt;&lt;/functionlink&gt; structure
 8042         are filled in with information about usage of the monitor.
 8043           &lt;todo&gt;
 8044             Decide and then clarify suspend requirements.
 8045           &lt;/todo&gt;
 8046       &lt;/description&gt;
 8047       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8048       &lt;capabilities&gt;
 8049         &lt;required id=&quot;can_get_monitor_info&quot;&gt;&lt;/required&gt;
 8050       &lt;/capabilities&gt;
 8051       &lt;parameters&gt;
 8052         &lt;param id=&quot;object&quot;&gt;
 8053           &lt;jobject/&gt;
 8054             &lt;description&gt;
 8055               The object to query.
 8056             &lt;/description&gt;
 8057         &lt;/param&gt;
 8058         &lt;param id=&quot;info_ptr&quot;&gt;
 8059           &lt;outptr&gt;&lt;struct&gt;jvmtiMonitorUsage&lt;/struct&gt;&lt;/outptr&gt;
 8060           &lt;description&gt;
 8061             On return, filled with monitor information for the
 8062             specified object.
 8063           &lt;/description&gt;
 8064         &lt;/param&gt;
 8065       &lt;/parameters&gt;
 8066       &lt;errors&gt;
 8067       &lt;/errors&gt;
 8068     &lt;/function&gt;
 8069 
 8070     &lt;elide&gt;
 8071     &lt;function id=&quot;GetObjectMonitors&quot; num=&quot;116&quot;&gt;
 8072       &lt;synopsis&gt;Get Object Monitors&lt;/synopsis&gt;
 8073       &lt;description&gt;
 8074         Return the list of object monitors.
 8075         &lt;p/&gt;
 8076         Note: details about each monitor can be examined with
 8077         &lt;functionlink id=&quot;GetObjectMonitorUsage&quot;&gt;&lt;/functionlink&gt;.
 8078       &lt;/description&gt;
 8079       &lt;origin&gt;new&lt;/origin&gt;
 8080       &lt;capabilities&gt;
 8081         &lt;required id=&quot;can_get_monitor_info&quot;&gt;&lt;/required&gt;
 8082       &lt;/capabilities&gt;
 8083       &lt;parameters&gt;
 8084         &lt;param id=&quot;monitorCnt&quot;&gt;
 8085           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8086           &lt;description&gt;
 8087             On return, pointer to the number
 8088             of monitors returned in &lt;code&gt;monitors_ptr&lt;/code&gt;.
 8089           &lt;/description&gt;
 8090         &lt;/param&gt;
 8091         &lt;param id=&quot;monitors_ptr&quot;&gt;
 8092           &lt;allocbuf outcount=&quot;monitorCnt&quot;&gt;&lt;jobject/&gt;&lt;/allocbuf&gt;
 8093             &lt;description&gt;
 8094               On return, pointer to the monitor list.
 8095             &lt;/description&gt;
 8096         &lt;/param&gt;
 8097       &lt;/parameters&gt;
 8098       &lt;errors&gt;
 8099       &lt;/errors&gt;
 8100     &lt;/function&gt;
 8101     &lt;/elide&gt;
 8102 
 8103   &lt;/category&gt;
 8104 
 8105   &lt;category id=&quot;fieldCategory&quot; label=&quot;Field&quot;&gt;
 8106 
 8107     &lt;intro&gt;
 8108     &lt;/intro&gt;
 8109 
 8110     &lt;function id=&quot;GetFieldName&quot; phase=&quot;start&quot; num=&quot;60&quot;&gt;
 8111       &lt;synopsis&gt;Get Field Name (and Signature)&lt;/synopsis&gt;
 8112       &lt;description&gt;
 8113         For the field indicated by &lt;paramlink id=&quot;klass&quot;/&gt; and &lt;paramlink id=&quot;field&quot;/&gt;,
 8114         return the field name via &lt;paramlink id=&quot;name_ptr&quot;/&gt; and field signature via
 8115         &lt;paramlink id=&quot;signature_ptr&quot;/&gt;.
 8116         &lt;p/&gt;
 8117         Field signatures are defined in the
 8118         &lt;externallink id=&quot;jni/index.html&quot;&gt;JNI Specification&lt;/externallink&gt;
 8119         and are referred to as &lt;code&gt;field descriptors&lt;/code&gt; in
 8120         &lt;vmspec chapter=&quot;4.3.2&quot;/&gt;.
 8121       &lt;/description&gt;
 8122       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 8123       &lt;capabilities&gt;
 8124       &lt;/capabilities&gt;
 8125       &lt;parameters&gt;
 8126         &lt;param id=&quot;klass&quot;&gt;
 8127           &lt;jclass field=&quot;field&quot;/&gt;
 8128             &lt;description&gt;
 8129               The class of the field to query.
 8130             &lt;/description&gt;
 8131         &lt;/param&gt;
 8132         &lt;param id=&quot;field&quot;&gt;
 8133           &lt;jfieldID class=&quot;klass&quot;/&gt;
 8134             &lt;description&gt;
 8135               The field to query.
 8136             &lt;/description&gt;
 8137         &lt;/param&gt;
 8138         &lt;param id=&quot;name_ptr&quot;&gt;
 8139           &lt;allocbuf&gt;
 8140             &lt;char/&gt;
 8141             &lt;nullok&gt;the name is not returned&lt;/nullok&gt;
 8142           &lt;/allocbuf&gt;
 8143           &lt;description&gt;
 8144             On return, points to the field name, encoded as a
 8145             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8146           &lt;/description&gt;
 8147         &lt;/param&gt;
 8148         &lt;param id=&quot;signature_ptr&quot;&gt;
 8149           &lt;allocbuf&gt;
 8150             &lt;char/&gt;
 8151             &lt;nullok&gt;the signature is not returned&lt;/nullok&gt;
 8152           &lt;/allocbuf&gt;
 8153           &lt;description&gt;
 8154             On return, points to the field signature, encoded as a
 8155             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8156           &lt;/description&gt;
 8157         &lt;/param&gt;
 8158         &lt;param id=&quot;generic_ptr&quot;&gt;
 8159           &lt;allocbuf&gt;
 8160             &lt;char/&gt;
 8161             &lt;nullok&gt;the generic signature is not returned&lt;/nullok&gt;
 8162           &lt;/allocbuf&gt;
 8163           &lt;description&gt;
 8164             On return, points to the generic signature of the field, encoded as a
 8165             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8166             If there is no generic signature attribute for the field, then,
 8167             on return, points to &lt;code&gt;NULL&lt;/code&gt;.
 8168           &lt;/description&gt;
 8169         &lt;/param&gt;
 8170       &lt;/parameters&gt;
 8171       &lt;errors&gt;
 8172       &lt;/errors&gt;
 8173     &lt;/function&gt;
 8174 
 8175     &lt;function id=&quot;GetFieldDeclaringClass&quot; phase=&quot;start&quot; num=&quot;61&quot;&gt;
 8176       &lt;synopsis&gt;Get Field Declaring Class&lt;/synopsis&gt;
 8177       &lt;description&gt;
 8178         For the field indicated by &lt;code&gt;klass&lt;/code&gt; and &lt;code&gt;field&lt;/code&gt;
 8179         return the class that defined it via &lt;code&gt;declaring_class_ptr&lt;/code&gt;.
 8180         The declaring class will either be &lt;code&gt;klass&lt;/code&gt;, a superclass, or
 8181         an implemented interface.
 8182       &lt;/description&gt;
 8183       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8184       &lt;capabilities&gt;
 8185       &lt;/capabilities&gt;
 8186       &lt;parameters&gt;
 8187         &lt;param id=&quot;klass&quot;&gt;
 8188           &lt;jclass field=&quot;field&quot;/&gt;
 8189             &lt;description&gt;
 8190               The class to query.
 8191             &lt;/description&gt;
 8192         &lt;/param&gt;
 8193         &lt;param id=&quot;field&quot;&gt;
 8194           &lt;jfieldID class=&quot;klass&quot;/&gt;
 8195             &lt;description&gt;
 8196               The field to query.
 8197             &lt;/description&gt;
 8198         &lt;/param&gt;
 8199         &lt;param id=&quot;declaring_class_ptr&quot;&gt;
 8200           &lt;outptr&gt;&lt;jclass/&gt;&lt;/outptr&gt;
 8201             &lt;description&gt;
 8202               On return, points to the declaring class
 8203             &lt;/description&gt;
 8204         &lt;/param&gt;
 8205       &lt;/parameters&gt;
 8206       &lt;errors&gt;
 8207       &lt;/errors&gt;
 8208     &lt;/function&gt;
 8209 
 8210     &lt;function id=&quot;GetFieldModifiers&quot; phase=&quot;start&quot; num=&quot;62&quot;&gt;
 8211       &lt;synopsis&gt;Get Field Modifiers&lt;/synopsis&gt;
 8212       &lt;description&gt;
 8213         For the field indicated by &lt;code&gt;klass&lt;/code&gt; and &lt;code&gt;field&lt;/code&gt;
 8214         return the access flags via &lt;code&gt;modifiers_ptr&lt;/code&gt;.
 8215         Access flags are defined in &lt;vmspec chapter=&quot;4&quot;/&gt;.
 8216       &lt;/description&gt;
 8217       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8218       &lt;capabilities&gt;
 8219       &lt;/capabilities&gt;
 8220       &lt;parameters&gt;
 8221         &lt;param id=&quot;klass&quot;&gt;
 8222           &lt;jclass field=&quot;field&quot;/&gt;
 8223             &lt;description&gt;
 8224               The class to query.
 8225             &lt;/description&gt;
 8226         &lt;/param&gt;
 8227         &lt;param id=&quot;field&quot;&gt;
 8228           &lt;jfieldID class=&quot;klass&quot;/&gt;
 8229             &lt;description&gt;
 8230               The field to query.
 8231             &lt;/description&gt;
 8232         &lt;/param&gt;
 8233         &lt;param id=&quot;modifiers_ptr&quot;&gt;
 8234           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8235           &lt;description&gt;
 8236             On return, points to the access flags.
 8237           &lt;/description&gt;
 8238         &lt;/param&gt;
 8239       &lt;/parameters&gt;
 8240       &lt;errors&gt;
 8241       &lt;/errors&gt;
 8242     &lt;/function&gt;
 8243 
 8244     &lt;function id=&quot;IsFieldSynthetic&quot; phase=&quot;start&quot; num=&quot;63&quot;&gt;
 8245       &lt;synopsis&gt;Is Field Synthetic&lt;/synopsis&gt;
 8246       &lt;description&gt;
 8247         For the field indicated by &lt;code&gt;klass&lt;/code&gt; and &lt;code&gt;field&lt;/code&gt;, return a
 8248         value indicating whether the field is synthetic via &lt;code&gt;is_synthetic_ptr&lt;/code&gt;.
 8249         Synthetic fields are generated by the compiler but not present in the
 8250         original source code.
 8251       &lt;/description&gt;
 8252       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8253       &lt;capabilities&gt;
 8254         &lt;required id=&quot;can_get_synthetic_attribute&quot;&gt;&lt;/required&gt;
 8255       &lt;/capabilities&gt;
 8256       &lt;parameters&gt;
 8257         &lt;param id=&quot;klass&quot;&gt;
 8258           &lt;jclass field=&quot;field&quot;/&gt;
 8259             &lt;description&gt;
 8260               The class of the field to query.
 8261             &lt;/description&gt;
 8262         &lt;/param&gt;
 8263         &lt;param id=&quot;field&quot;&gt;
 8264           &lt;jfieldID class=&quot;klass&quot;/&gt;
 8265             &lt;description&gt;
 8266               The field to query.
 8267             &lt;/description&gt;
 8268         &lt;/param&gt;
 8269         &lt;param id=&quot;is_synthetic_ptr&quot;&gt;
 8270           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 8271           &lt;description&gt;
 8272             On return, points to the boolean result of this function.
 8273           &lt;/description&gt;
 8274         &lt;/param&gt;
 8275       &lt;/parameters&gt;
 8276       &lt;errors&gt;
 8277       &lt;/errors&gt;
 8278     &lt;/function&gt;
 8279 
 8280   &lt;/category&gt;
 8281 
 8282   &lt;category id=&quot;method&quot; label=&quot;Method&quot;&gt;
 8283 
 8284     &lt;intro&gt;
 8285       These functions provide information about a method (represented as a
 8286       &lt;typelink id=&quot;jmethodID&quot;/&gt;) and set how methods are processed.
 8287     &lt;/intro&gt;
 8288 
 8289     &lt;intro id=&quot;obsoleteMethods&quot; label=&quot;Obsolete Methods&quot;&gt;
 8290       The functions &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; and
 8291       &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; can cause new versions
 8292       of methods to be installed.
 8293       An original version of a method is considered equivalent
 8294       to the new version if:
 8295       &lt;ul&gt;
 8296         &lt;li&gt;their bytecodes are the same except for indices into the
 8297           constant pool and &lt;/li&gt;
 8298         &lt;li&gt;the referenced constants are equal.&lt;/li&gt;
 8299       &lt;/ul&gt;
 8300       An original method version which is not equivalent to the
 8301       new method version is called obsolete and is assigned a new method ID;
 8302       the original method ID now refers to the new method version.
 8303       A method ID can be tested for obsolescence with
 8304       &lt;functionlink id=&quot;IsMethodObsolete&quot;/&gt;.
 8305     &lt;/intro&gt;
 8306 
 8307     &lt;function id=&quot;GetMethodName&quot; phase=&quot;start&quot; num=&quot;64&quot;&gt;
 8308       &lt;synopsis&gt;Get Method Name (and Signature)&lt;/synopsis&gt;
 8309       &lt;description&gt;
 8310         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8311         return the method name via &lt;code&gt;name_ptr&lt;/code&gt; and method signature via
 8312         &lt;code&gt;signature_ptr&lt;/code&gt;.
 8313         &lt;p/&gt;
 8314         Method signatures are defined in the
 8315         &lt;externallink id=&quot;jni/index.html&quot;&gt;JNI Specification&lt;/externallink&gt;
 8316         and are referred to as &lt;code&gt;method descriptors&lt;/code&gt; in
 8317         &lt;vmspec chapter=&quot;4.3.3&quot;/&gt;.
 8318         Note this is different
 8319         than method signatures as defined in the &lt;i&gt;Java Language Specification&lt;/i&gt;.
 8320       &lt;/description&gt;
 8321       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 8322       &lt;capabilities&gt;
 8323       &lt;/capabilities&gt;
 8324       &lt;parameters&gt;
 8325         &lt;param id=&quot;method&quot;&gt;
 8326           &lt;jmethodID/&gt;
 8327             &lt;description&gt;
 8328               The method to query.
 8329             &lt;/description&gt;
 8330         &lt;/param&gt;
 8331         &lt;param id=&quot;name_ptr&quot;&gt;
 8332           &lt;allocbuf&gt;
 8333             &lt;char/&gt;
 8334             &lt;nullok&gt;the name is not returned&lt;/nullok&gt;
 8335           &lt;/allocbuf&gt;
 8336           &lt;description&gt;
 8337             On return, points to the method name, encoded as a
 8338             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8339           &lt;/description&gt;
 8340         &lt;/param&gt;
 8341         &lt;param id=&quot;signature_ptr&quot;&gt;
 8342           &lt;allocbuf&gt;
 8343             &lt;char/&gt;
 8344             &lt;nullok&gt;the signature is not returned&lt;/nullok&gt;
 8345           &lt;/allocbuf&gt;
 8346           &lt;description&gt;
 8347             On return, points to the method signature, encoded as a
 8348             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8349           &lt;/description&gt;
 8350         &lt;/param&gt;
 8351         &lt;param id=&quot;generic_ptr&quot;&gt;
 8352           &lt;allocbuf&gt;
 8353             &lt;char/&gt;
 8354             &lt;nullok&gt;the generic signature is not returned&lt;/nullok&gt;
 8355           &lt;/allocbuf&gt;
 8356           &lt;description&gt;
 8357             On return, points to the generic signature of the method, encoded as a
 8358             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8359             If there is no generic signature attribute for the method, then,
 8360             on return, points to &lt;code&gt;NULL&lt;/code&gt;.
 8361           &lt;/description&gt;
 8362         &lt;/param&gt;
 8363       &lt;/parameters&gt;
 8364       &lt;errors&gt;
 8365       &lt;/errors&gt;
 8366     &lt;/function&gt;
 8367 
 8368     &lt;function id=&quot;GetMethodDeclaringClass&quot; phase=&quot;start&quot; num=&quot;65&quot;&gt;
 8369       &lt;synopsis&gt;Get Method Declaring Class&lt;/synopsis&gt;
 8370       &lt;description&gt;
 8371         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8372         return the class that defined it via &lt;code&gt;declaring_class_ptr&lt;/code&gt;.
 8373       &lt;/description&gt;
 8374       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8375       &lt;capabilities&gt;
 8376       &lt;/capabilities&gt;
 8377       &lt;parameters&gt;
 8378         &lt;param id=&quot;klass&quot;&gt;
 8379           &lt;jclass method=&quot;method&quot;/&gt;
 8380             &lt;description&gt;
 8381               The class to query.
 8382             &lt;/description&gt;
 8383         &lt;/param&gt;
 8384         &lt;param id=&quot;method&quot;&gt;
 8385           &lt;jmethodID class=&quot;klass&quot;/&gt;
 8386             &lt;description&gt;
 8387               The method to query.
 8388             &lt;/description&gt;
 8389         &lt;/param&gt;
 8390         &lt;param id=&quot;declaring_class_ptr&quot;&gt;
 8391           &lt;outptr&gt;&lt;jclass/&gt;&lt;/outptr&gt;
 8392             &lt;description&gt;
 8393               On return, points to the declaring class
 8394             &lt;/description&gt;
 8395         &lt;/param&gt;
 8396       &lt;/parameters&gt;
 8397       &lt;errors&gt;
 8398       &lt;/errors&gt;
 8399     &lt;/function&gt;
 8400 
 8401     &lt;function id=&quot;GetMethodModifiers&quot; phase=&quot;start&quot; num=&quot;66&quot;&gt;
 8402       &lt;synopsis&gt;Get Method Modifiers&lt;/synopsis&gt;
 8403       &lt;description&gt;
 8404         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8405         return the access flags via &lt;code&gt;modifiers_ptr&lt;/code&gt;.
 8406         Access flags are defined in &lt;vmspec chapter=&quot;4&quot;/&gt;.
 8407       &lt;/description&gt;
 8408       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8409       &lt;capabilities&gt;
 8410       &lt;/capabilities&gt;
 8411       &lt;parameters&gt;
 8412         &lt;param id=&quot;klass&quot;&gt;
 8413           &lt;jclass method=&quot;method&quot;/&gt;
 8414             &lt;description&gt;
 8415               The class to query.
 8416             &lt;/description&gt;
 8417         &lt;/param&gt;
 8418         &lt;param id=&quot;method&quot;&gt;
 8419           &lt;jmethodID class=&quot;klass&quot;/&gt;
 8420             &lt;description&gt;
 8421               The method to query.
 8422             &lt;/description&gt;
 8423         &lt;/param&gt;
 8424         &lt;param id=&quot;modifiers_ptr&quot;&gt;
 8425           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8426           &lt;description&gt;
 8427             On return, points to the access flags.
 8428           &lt;/description&gt;
 8429         &lt;/param&gt;
 8430       &lt;/parameters&gt;
 8431       &lt;errors&gt;
 8432       &lt;/errors&gt;
 8433     &lt;/function&gt;
 8434 
 8435     &lt;function id=&quot;GetMaxLocals&quot; phase=&quot;start&quot; num=&quot;68&quot;&gt;
 8436       &lt;synopsis&gt;Get Max Locals&lt;/synopsis&gt;
 8437       &lt;description&gt;
 8438           For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8439           return the number of local variable slots used by the method,
 8440           including the local variables used to pass parameters to the
 8441           method on its invocation.
 8442           &lt;p/&gt;
 8443           See &lt;code&gt;max_locals&lt;/code&gt; in &lt;vmspec chapter=&quot;4.7.3&quot;/&gt;.
 8444       &lt;/description&gt;
 8445       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8446       &lt;capabilities&gt;
 8447       &lt;/capabilities&gt;
 8448       &lt;parameters&gt;
 8449         &lt;param id=&quot;klass&quot;&gt;
 8450           &lt;jclass method=&quot;method&quot;/&gt;
 8451             &lt;description&gt;
 8452               The class to query.
 8453             &lt;/description&gt;
 8454         &lt;/param&gt;
 8455         &lt;param id=&quot;method&quot;&gt;
 8456           &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8457             &lt;description&gt;
 8458               The method to query.
 8459             &lt;/description&gt;
 8460         &lt;/param&gt;
 8461         &lt;param id=&quot;max_ptr&quot;&gt;
 8462           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8463           &lt;description&gt;
 8464             On return, points to the maximum number of local slots
 8465           &lt;/description&gt;
 8466         &lt;/param&gt;
 8467       &lt;/parameters&gt;
 8468       &lt;errors&gt;
 8469       &lt;/errors&gt;
 8470     &lt;/function&gt;
 8471 
 8472     &lt;function id=&quot;GetArgumentsSize&quot; phase=&quot;start&quot; num=&quot;69&quot;&gt;
 8473       &lt;synopsis&gt;Get Arguments Size&lt;/synopsis&gt;
 8474       &lt;description&gt;
 8475         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8476         return via &lt;code&gt;max_ptr&lt;/code&gt; the number of local variable slots used
 8477         by the method&#39;s arguments.
 8478         Note that two-word arguments use two slots.
 8479       &lt;/description&gt;
 8480       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8481       &lt;capabilities&gt;
 8482       &lt;/capabilities&gt;
 8483       &lt;parameters&gt;
 8484         &lt;param id=&quot;klass&quot;&gt;
 8485           &lt;jclass method=&quot;method&quot;/&gt;
 8486             &lt;description&gt;
 8487               The class to query.
 8488             &lt;/description&gt;
 8489         &lt;/param&gt;
 8490         &lt;param id=&quot;method&quot;&gt;
 8491           &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8492             &lt;description&gt;
 8493               The method to query.
 8494             &lt;/description&gt;
 8495         &lt;/param&gt;
 8496         &lt;param id=&quot;size_ptr&quot;&gt;
 8497           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8498           &lt;description&gt;
 8499             On return, points to the number of argument slots
 8500           &lt;/description&gt;
 8501         &lt;/param&gt;
 8502       &lt;/parameters&gt;
 8503       &lt;errors&gt;
 8504       &lt;/errors&gt;
 8505     &lt;/function&gt;
 8506 
 8507     &lt;function id=&quot;GetLineNumberTable&quot; phase=&quot;start&quot; num=&quot;70&quot;&gt;
 8508       &lt;synopsis&gt;Get Line Number Table&lt;/synopsis&gt;
 8509       &lt;typedef id=&quot;jvmtiLineNumberEntry&quot; label=&quot;Line number table entry&quot;&gt;
 8510         &lt;field id=&quot;start_location&quot;&gt;
 8511           &lt;jlocation/&gt;
 8512           &lt;description&gt;
 8513             the &lt;datalink id=&quot;jlocation&quot;&gt;&lt;/datalink&gt; where the line begins
 8514           &lt;/description&gt;
 8515         &lt;/field&gt;
 8516         &lt;field id=&quot;line_number&quot;&gt;
 8517           &lt;jint/&gt;
 8518           &lt;description&gt;
 8519             the line number
 8520           &lt;/description&gt;
 8521         &lt;/field&gt;
 8522       &lt;/typedef&gt;
 8523       &lt;description&gt;
 8524         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8525         return a table of source line number entries. The size of the table is
 8526         returned via &lt;code&gt;entry_count_ptr&lt;/code&gt; and the table itself is
 8527         returned via &lt;code&gt;table_ptr&lt;/code&gt;.
 8528       &lt;/description&gt;
 8529       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8530       &lt;capabilities&gt;
 8531         &lt;required id=&quot;can_get_line_numbers&quot;&gt;&lt;/required&gt;
 8532       &lt;/capabilities&gt;
 8533       &lt;parameters&gt;
 8534         &lt;param id=&quot;klass&quot;&gt;
 8535           &lt;jclass method=&quot;method&quot;/&gt;
 8536             &lt;description&gt;
 8537               The class to query.
 8538             &lt;/description&gt;
 8539         &lt;/param&gt;
 8540         &lt;param id=&quot;method&quot;&gt;
 8541           &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8542             &lt;description&gt;
 8543               The method to query.
 8544             &lt;/description&gt;
 8545         &lt;/param&gt;
 8546         &lt;param id=&quot;entry_count_ptr&quot;&gt;
 8547           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8548           &lt;description&gt;
 8549             On return, points to the number of entries in the table
 8550           &lt;/description&gt;
 8551         &lt;/param&gt;
 8552         &lt;param id=&quot;table_ptr&quot;&gt;
 8553           &lt;allocbuf outcount=&quot;entry_count_ptr&quot;&gt;&lt;struct&gt;jvmtiLineNumberEntry&lt;/struct&gt;&lt;/allocbuf&gt;
 8554           &lt;description&gt;
 8555             On return, points to the line number table pointer.
 8556           &lt;/description&gt;
 8557         &lt;/param&gt;
 8558       &lt;/parameters&gt;
 8559       &lt;errors&gt;
 8560         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 8561           Class information does not include line numbers.
 8562         &lt;/error&gt;
 8563       &lt;/errors&gt;
 8564     &lt;/function&gt;
 8565 
 8566     &lt;function id=&quot;GetMethodLocation&quot; phase=&quot;start&quot; num=&quot;71&quot;&gt;
 8567       &lt;synopsis&gt;Get Method Location&lt;/synopsis&gt;
 8568       &lt;description&gt;
 8569         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8570         return the beginning and ending addresses through
 8571         &lt;code&gt;start_location_ptr&lt;/code&gt; and &lt;code&gt;end_location_ptr&lt;/code&gt;. In a
 8572         conventional bytecode indexing scheme,
 8573         &lt;code&gt;start_location_ptr&lt;/code&gt; will always point to zero
 8574         and &lt;code&gt;end_location_ptr&lt;/code&gt;
 8575         will always point to the bytecode count minus one.
 8576       &lt;/description&gt;
 8577       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8578       &lt;capabilities&gt;
 8579       &lt;/capabilities&gt;
 8580       &lt;parameters&gt;
 8581         &lt;param id=&quot;klass&quot;&gt;
 8582           &lt;jclass method=&quot;method&quot;/&gt;
 8583             &lt;description&gt;
 8584               The class to query.
 8585             &lt;/description&gt;
 8586         &lt;/param&gt;
 8587         &lt;param id=&quot;method&quot;&gt;
 8588           &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8589             &lt;description&gt;
 8590               The method to query.
 8591             &lt;/description&gt;
 8592         &lt;/param&gt;
 8593         &lt;param id=&quot;start_location_ptr&quot;&gt;
 8594           &lt;outptr&gt;&lt;jlocation/&gt;&lt;/outptr&gt;
 8595           &lt;description&gt;
 8596             On return, points to the first location, or
 8597             &lt;code&gt;-1&lt;/code&gt; if location information is not available.
 8598             If the information is available and
 8599             &lt;functionlink id=&quot;GetJLocationFormat&quot;&gt;&lt;/functionlink&gt;
 8600             returns &lt;datalink id=&quot;JVMTI_JLOCATION_JVMBCI&quot;&gt;&lt;/datalink&gt;
 8601             then this will always be zero.
 8602           &lt;/description&gt;
 8603         &lt;/param&gt;
 8604         &lt;param id=&quot;end_location_ptr&quot;&gt;
 8605           &lt;outptr&gt;&lt;jlocation/&gt;&lt;/outptr&gt;
 8606           &lt;description&gt;
 8607             On return, points to the last location,
 8608             or &lt;code&gt;-1&lt;/code&gt; if location information is not available.
 8609           &lt;/description&gt;
 8610         &lt;/param&gt;
 8611       &lt;/parameters&gt;
 8612       &lt;errors&gt;
 8613         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 8614           Class information does not include method sizes.
 8615         &lt;/error&gt;
 8616       &lt;/errors&gt;
 8617     &lt;/function&gt;
 8618 
 8619     &lt;function id=&quot;GetLocalVariableTable&quot; num=&quot;72&quot;&gt;
 8620       &lt;synopsis&gt;Get Local Variable Table&lt;/synopsis&gt;
 8621       &lt;typedef id=&quot;jvmtiLocalVariableEntry&quot; label=&quot;Local variable table entry&quot;&gt;
 8622         &lt;field id=&quot;start_location&quot;&gt;
 8623           &lt;jlocation/&gt;
 8624           &lt;description&gt;
 8625             The code array index where the local variable is first valid
 8626             (that is, where it must have a value).
 8627           &lt;/description&gt;
 8628         &lt;/field&gt;
 8629         &lt;field id=&quot;length&quot;&gt;
 8630           &lt;jint/&gt;
 8631           &lt;description&gt;
 8632             The length of the valid section for this local variable.
 8633             The last code array index where the local variable is valid
 8634             is &lt;code&gt;start_location + length&lt;/code&gt;.
 8635           &lt;/description&gt;
 8636         &lt;/field&gt;
 8637         &lt;field id=&quot;name&quot;&gt;
 8638           &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 8639           &lt;description&gt;
 8640             The local variable name, encoded as a
 8641             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8642           &lt;/description&gt;
 8643         &lt;/field&gt;
 8644         &lt;field id=&quot;signature&quot;&gt;
 8645           &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 8646           &lt;description&gt;
 8647             The local variable&#39;s type signature, encoded as a
 8648             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8649             The signature format is the same as that defined in
 8650             &lt;vmspec chapter=&quot;4.3.2&quot;/&gt;.
 8651           &lt;/description&gt;
 8652         &lt;/field&gt;
 8653         &lt;field id=&quot;generic_signature&quot;&gt;
 8654           &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 8655           &lt;description&gt;
 8656             The local variable&#39;s generic signature, encoded as a
 8657             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8658             The value of this field will be &lt;code&gt;NULL&lt;/code&gt; for any local
 8659             variable which does not have a generic type.
 8660           &lt;/description&gt;
 8661         &lt;/field&gt;
 8662         &lt;field id=&quot;slot&quot;&gt;
 8663           &lt;jint/&gt;
 8664           &lt;description&gt;
 8665             The local variable&#39;s slot.  See &lt;internallink id=&quot;local&quot;&gt;Local Variables&lt;/internallink&gt;.
 8666           &lt;/description&gt;
 8667         &lt;/field&gt;
 8668       &lt;/typedef&gt;
 8669       &lt;description&gt;
 8670         Return local variable information.
 8671       &lt;/description&gt;
 8672       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 8673       &lt;capabilities&gt;
 8674         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 8675       &lt;/capabilities&gt;
 8676       &lt;parameters&gt;
 8677         &lt;param id=&quot;method&quot;&gt;
 8678           &lt;jmethodID native=&quot;error&quot;/&gt;
 8679             &lt;description&gt;
 8680               The method to query.
 8681             &lt;/description&gt;
 8682         &lt;/param&gt;
 8683         &lt;param id=&quot;entry_count_ptr&quot;&gt;
 8684           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8685           &lt;description&gt;
 8686             On return, points to the number of entries in the table
 8687           &lt;/description&gt;
 8688         &lt;/param&gt;
 8689         &lt;param id=&quot;table_ptr&quot;&gt;
 8690           &lt;allocbuf outcount=&quot;entry_count_ptr&quot;&gt;&lt;struct&gt;jvmtiLocalVariableEntry&lt;/struct&gt;&lt;/allocbuf&gt;
 8691           &lt;description&gt;
 8692             On return, points to an array of local variable table entries.
 8693           &lt;/description&gt;
 8694         &lt;/param&gt;
 8695       &lt;/parameters&gt;
 8696       &lt;errors&gt;
 8697         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 8698           Class information does not include local variable
 8699           information.
 8700         &lt;/error&gt;
 8701       &lt;/errors&gt;
 8702     &lt;/function&gt;
 8703 
 8704     &lt;function id=&quot;GetBytecodes&quot; phase=&quot;start&quot; num=&quot;75&quot;&gt;
 8705       &lt;synopsis&gt;Get Bytecodes&lt;/synopsis&gt;
 8706       &lt;description&gt;
 8707         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8708         return the bytecodes that implement the method. The number of
 8709         bytecodes is returned via &lt;code&gt;bytecode_count_ptr&lt;/code&gt;. The bytecodes
 8710         themselves are returned via &lt;code&gt;bytecodes_ptr&lt;/code&gt;.
 8711       &lt;/description&gt;
 8712       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8713       &lt;capabilities&gt;
 8714         &lt;required id=&quot;can_get_bytecodes&quot;&gt;&lt;/required&gt;
 8715       &lt;/capabilities&gt;
 8716       &lt;parameters&gt;
 8717         &lt;param id=&quot;klass&quot;&gt;
 8718           &lt;jclass method=&quot;method&quot;/&gt;
 8719             &lt;description&gt;
 8720               The class to query.
 8721             &lt;/description&gt;
 8722         &lt;/param&gt;
 8723         &lt;param id=&quot;method&quot;&gt;
 8724           &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8725             &lt;description&gt;
 8726               The method to query.
 8727             &lt;/description&gt;
 8728         &lt;/param&gt;
 8729         &lt;param id=&quot;bytecode_count_ptr&quot;&gt;
 8730           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8731           &lt;description&gt;
 8732             On return, points to the length of the bytecode array
 8733           &lt;/description&gt;
 8734         &lt;/param&gt;
 8735         &lt;param id=&quot;bytecodes_ptr&quot;&gt;
 8736           &lt;allocbuf outcount=&quot;bytecode_count_ptr&quot;&gt;&lt;uchar/&gt;&lt;/allocbuf&gt;
 8737           &lt;description&gt;
 8738             On return, points to the pointer to the bytecode array
 8739           &lt;/description&gt;
 8740         &lt;/param&gt;
 8741       &lt;/parameters&gt;
 8742       &lt;errors&gt;
 8743       &lt;/errors&gt;
 8744     &lt;/function&gt;
 8745 
 8746     &lt;function id=&quot;IsMethodNative&quot; phase=&quot;start&quot; num=&quot;76&quot;&gt;
 8747       &lt;synopsis&gt;Is Method Native&lt;/synopsis&gt;
 8748       &lt;description&gt;
 8749         For the method indicated by &lt;code&gt;method&lt;/code&gt;, return a
 8750         value indicating whether the method is native via &lt;code&gt;is_native_ptr&lt;/code&gt;
 8751       &lt;/description&gt;
 8752       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8753       &lt;capabilities&gt;
 8754       &lt;/capabilities&gt;
 8755       &lt;parameters&gt;
 8756         &lt;param id=&quot;klass&quot;&gt;
 8757           &lt;jclass method=&quot;method&quot;/&gt;
 8758             &lt;description&gt;
 8759               The class to query.
 8760             &lt;/description&gt;
 8761         &lt;/param&gt;
 8762         &lt;param id=&quot;method&quot;&gt;
 8763           &lt;jmethodID class=&quot;klass&quot;/&gt;
 8764             &lt;description&gt;
 8765               The method to query.
 8766             &lt;/description&gt;
 8767         &lt;/param&gt;
 8768         &lt;param id=&quot;is_native_ptr&quot;&gt;
 8769           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 8770           &lt;description&gt;
 8771             On return, points to the boolean result of this function.
 8772           &lt;/description&gt;
 8773         &lt;/param&gt;
 8774       &lt;/parameters&gt;
 8775       &lt;errors&gt;
 8776       &lt;/errors&gt;
 8777     &lt;/function&gt;
 8778 
 8779     &lt;function id=&quot;IsMethodSynthetic&quot; phase=&quot;start&quot; num=&quot;77&quot;&gt;
 8780       &lt;synopsis&gt;Is Method Synthetic&lt;/synopsis&gt;
 8781       &lt;description&gt;
 8782         For the method indicated by &lt;code&gt;method&lt;/code&gt;, return a
 8783         value indicating whether the method is synthetic via &lt;code&gt;is_synthetic_ptr&lt;/code&gt;.
 8784         Synthetic methods are generated by the compiler but not present in the
 8785         original source code.
 8786       &lt;/description&gt;
 8787       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8788       &lt;capabilities&gt;
 8789         &lt;required id=&quot;can_get_synthetic_attribute&quot;&gt;&lt;/required&gt;
 8790       &lt;/capabilities&gt;
 8791       &lt;parameters&gt;
 8792         &lt;param id=&quot;klass&quot;&gt;
 8793           &lt;jclass method=&quot;method&quot;/&gt;
 8794             &lt;description&gt;
 8795               The class to query.
 8796             &lt;/description&gt;
 8797         &lt;/param&gt;
 8798         &lt;param id=&quot;method&quot;&gt;
 8799           &lt;jmethodID class=&quot;klass&quot;/&gt;
 8800             &lt;description&gt;
 8801               The method to query.
 8802             &lt;/description&gt;
 8803         &lt;/param&gt;
 8804         &lt;param id=&quot;is_synthetic_ptr&quot;&gt;
 8805           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 8806           &lt;description&gt;
 8807             On return, points to the boolean result of this function.
 8808           &lt;/description&gt;
 8809         &lt;/param&gt;
 8810       &lt;/parameters&gt;
 8811       &lt;errors&gt;
 8812       &lt;/errors&gt;
 8813     &lt;/function&gt;
 8814 
 8815     &lt;function id=&quot;IsMethodObsolete&quot; phase=&quot;start&quot; num=&quot;91&quot;&gt;
 8816       &lt;synopsis&gt;Is Method Obsolete&lt;/synopsis&gt;
 8817       &lt;description&gt;
 8818         Determine if a method ID refers to an
 8819         &lt;internallink id=&quot;obsoleteMethods&quot;&gt;obsolete&lt;/internallink&gt;
 8820         method version.
 8821       &lt;/description&gt;
 8822       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8823       &lt;capabilities&gt;
 8824       &lt;/capabilities&gt;
 8825       &lt;parameters&gt;
 8826         &lt;param id=&quot;klass&quot;&gt;
 8827           &lt;jclass method=&quot;method&quot;/&gt;
 8828             &lt;description&gt;
 8829               The class to query.
 8830             &lt;/description&gt;
 8831         &lt;/param&gt;
 8832         &lt;param id=&quot;method&quot;&gt;
 8833           &lt;jmethodID class=&quot;klass&quot;/&gt;
 8834             &lt;description&gt;
 8835               The method ID to query.
 8836             &lt;/description&gt;
 8837         &lt;/param&gt;
 8838         &lt;param id=&quot;is_obsolete_ptr&quot;&gt;
 8839           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 8840           &lt;description&gt;
 8841             On return, points to the boolean result of this function.
 8842           &lt;/description&gt;
 8843         &lt;/param&gt;
 8844       &lt;/parameters&gt;
 8845       &lt;errors&gt;
 8846       &lt;/errors&gt;
 8847     &lt;/function&gt;
 8848 
 8849     &lt;function id=&quot;SetNativeMethodPrefix&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;73&quot; since=&quot;1.1&quot;&gt;
 8850       &lt;synopsis&gt;Set Native Method Prefix&lt;/synopsis&gt;
 8851       &lt;description&gt;
 8852         This function modifies the failure handling of
 8853         native method resolution by allowing retry
 8854         with a prefix applied to the name.
 8855         When used with the
 8856         &lt;eventlink id=&quot;ClassFileLoadHook&quot;&gt;ClassFileLoadHook
 8857         event&lt;/eventlink&gt;, it enables native methods to be
 8858         &lt;internallink id=&quot;bci&quot;&gt;instrumented&lt;/internallink&gt;.
 8859         &lt;p/&gt;
 8860         Since native methods cannot be directly instrumented
 8861         (they have no bytecodes), they must be wrapped with
 8862         a non-native method which can be instrumented.
 8863         For example, if we had:
 8864         &lt;example&gt;
 8865 native boolean foo(int x);&lt;/example&gt;
 8866         &lt;p/&gt;
 8867         We could transform the class file (with the
 8868         ClassFileLoadHook event) so that this becomes:
 8869         &lt;example&gt;
 8870 boolean foo(int x) {
 8871   &lt;i&gt;... record entry to foo ...&lt;/i&gt;
 8872   return wrapped_foo(x);
 8873 }
 8874 
 8875 native boolean wrapped_foo(int x);&lt;/example&gt;
 8876         &lt;p/&gt;
 8877         Where foo becomes a wrapper for the actual native method
 8878         with the appended prefix &quot;wrapped_&quot;.  Note that
 8879         &quot;wrapped_&quot; would be a poor choice of prefix since it
 8880         might conceivably form the name of an existing method
 8881         thus something like &quot;$$$MyAgentWrapped$$$_&quot; would be
 8882         better but would make these examples less readable.
 8883         &lt;p/&gt;
 8884         The wrapper will allow data to be collected on the native
 8885         method call, but now the problem becomes linking up the
 8886         wrapped method with the native implementation.
 8887         That is, the method &lt;code&gt;wrapped_foo&lt;/code&gt; needs to be
 8888         resolved to the native implementation of &lt;code&gt;foo&lt;/code&gt;,
 8889         which might be:
 8890         &lt;example&gt;
 8891 Java_somePackage_someClass_foo(JNIEnv* env, jint x)&lt;/example&gt;
 8892         &lt;p/&gt;
 8893         This function allows the prefix to be specified and the
 8894         proper resolution to occur.
 8895         Specifically, when the standard resolution fails, the
 8896         resolution is retried taking the prefix into consideration.
 8897         There are two ways that resolution occurs, explicit
 8898         resolution with the JNI function &lt;code&gt;RegisterNatives&lt;/code&gt;
 8899         and the normal automatic resolution.  For
 8900         &lt;code&gt;RegisterNatives&lt;/code&gt;, the VM will attempt this
 8901         association:
 8902         &lt;example&gt;
 8903 method(foo) -&gt; nativeImplementation(foo)&lt;/example&gt;
 8904         &lt;p/&gt;
 8905         When this fails, the resolution will be retried with
 8906         the specified prefix prepended to the method name,
 8907         yielding the correct resolution:
 8908         &lt;example&gt;
 8909 method(wrapped_foo) -&gt; nativeImplementation(foo)&lt;/example&gt;
 8910         &lt;p/&gt;
 8911         For automatic resolution, the VM will attempt:
 8912         &lt;example&gt;
 8913 method(wrapped_foo) -&gt; nativeImplementation(wrapped_foo)&lt;/example&gt;
 8914         &lt;p/&gt;
 8915         When this fails, the resolution will be retried with
 8916         the specified prefix deleted from the implementation name,
 8917         yielding the correct resolution:
 8918         &lt;example&gt;
 8919 method(wrapped_foo) -&gt; nativeImplementation(foo)&lt;/example&gt;
 8920         &lt;p/&gt;
 8921         Note that since the prefix is only used when standard
 8922         resolution fails, native methods can be wrapped selectively.
 8923         &lt;p/&gt;
 8924         Since each &lt;jvmti/&gt; environment is independent and
 8925         can do its own transformation of the bytecodes, more
 8926         than one layer of wrappers may be applied. Thus each
 8927         environment needs its own prefix.  Since transformations
 8928         are applied in order, the prefixes, if applied, will
 8929         be applied in the same order.
 8930         The order of transformation application is described in
 8931         the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event.
 8932         Thus if three environments applied
 8933         wrappers, &lt;code&gt;foo&lt;/code&gt; might become
 8934         &lt;code&gt;$env3_$env2_$env1_foo&lt;/code&gt;.  But if, say,
 8935         the second environment did not apply a wrapper to
 8936         &lt;code&gt;foo&lt;/code&gt; it would be just
 8937         &lt;code&gt;$env3_$env1_foo&lt;/code&gt;.  To be able to
 8938         efficiently determine the sequence of prefixes,
 8939         an intermediate prefix is only applied if its non-native
 8940         wrapper exists.  Thus, in the last example, even though
 8941         &lt;code&gt;$env1_foo&lt;/code&gt; is not a native method, the
 8942         &lt;code&gt;$env1_&lt;/code&gt; prefix is applied since
 8943         &lt;code&gt;$env1_foo&lt;/code&gt; exists.
 8944         &lt;p/&gt;
 8945         Since the prefixes are used at resolution time
 8946         and since resolution may be arbitrarily delayed, a
 8947         native method prefix must remain set as long as there
 8948         are corresponding prefixed native methods.
 8949       &lt;/description&gt;
 8950       &lt;origin&gt;new&lt;/origin&gt;
 8951       &lt;capabilities&gt;
 8952         &lt;required id=&quot;can_set_native_method_prefix&quot;&gt;&lt;/required&gt;
 8953       &lt;/capabilities&gt;
 8954       &lt;parameters&gt;
 8955         &lt;param id=&quot;prefix&quot;&gt;
 8956           &lt;inbuf&gt;
 8957             &lt;char/&gt;
 8958             &lt;nullok&gt;
 8959               any existing prefix in this environment is cancelled
 8960             &lt;/nullok&gt;
 8961           &lt;/inbuf&gt;
 8962           &lt;description&gt;
 8963             The prefix to apply, encoded as a
 8964             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8965           &lt;/description&gt;
 8966         &lt;/param&gt;
 8967       &lt;/parameters&gt;
 8968       &lt;errors&gt;
 8969       &lt;/errors&gt;
 8970     &lt;/function&gt;
 8971 
 8972     &lt;function id=&quot;SetNativeMethodPrefixes&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;74&quot; since=&quot;1.1&quot;&gt;
 8973       &lt;synopsis&gt;Set Native Method Prefixes&lt;/synopsis&gt;
 8974       &lt;description&gt;
 8975          For a normal agent, &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt;
 8976          will provide all needed native method prefixing.
 8977          For a meta-agent that performs multiple independent class
 8978          file transformations (for example as a proxy for another
 8979          layer of agents) this function allows each transformation
 8980          to have its own prefix.
 8981          The prefixes are applied in the order supplied and are
 8982          processed in the same manner as described for the
 8983          application of prefixes from multiple &lt;jvmti/&gt; environments
 8984          in &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt;.
 8985          &lt;p/&gt;
 8986          Any previous prefixes are replaced.  Thus, calling this
 8987          function with a &lt;paramlink id=&quot;prefix_count&quot;/&gt; of &lt;code&gt;0&lt;/code&gt;
 8988          disables prefixing in this environment.
 8989          &lt;p/&gt;
 8990          &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt; and this function
 8991          are the two ways to set the prefixes.
 8992          Calling &lt;code&gt;SetNativeMethodPrefix&lt;/code&gt; with
 8993          a prefix is the same as calling this function with
 8994          &lt;paramlink id=&quot;prefix_count&quot;/&gt; of &lt;code&gt;1&lt;/code&gt;.
 8995          Calling &lt;code&gt;SetNativeMethodPrefix&lt;/code&gt; with
 8996          &lt;code&gt;NULL&lt;/code&gt; is the same as calling this function with
 8997          &lt;paramlink id=&quot;prefix_count&quot;/&gt; of &lt;code&gt;0&lt;/code&gt;.
 8998       &lt;/description&gt;
 8999       &lt;origin&gt;new&lt;/origin&gt;
 9000       &lt;capabilities&gt;
 9001         &lt;required id=&quot;can_set_native_method_prefix&quot;&gt;&lt;/required&gt;
 9002       &lt;/capabilities&gt;
 9003       &lt;parameters&gt;
 9004         &lt;param id=&quot;prefix_count&quot;&gt;
 9005           &lt;jint min=&quot;0&quot;/&gt;
 9006             &lt;description&gt;
 9007               The number of prefixes to apply.
 9008             &lt;/description&gt;
 9009         &lt;/param&gt;
 9010         &lt;param id=&quot;prefixes&quot;&gt;
 9011           &lt;agentbuf&gt;
 9012             &lt;char/&gt;
 9013           &lt;/agentbuf&gt;
 9014           &lt;description&gt;
 9015             The prefixes to apply for this environment, each encoded as a
 9016             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9017           &lt;/description&gt;
 9018         &lt;/param&gt;
 9019       &lt;/parameters&gt;
 9020       &lt;errors&gt;
 9021       &lt;/errors&gt;
 9022     &lt;/function&gt;
 9023 
 9024   &lt;/category&gt;
 9025 
 9026   &lt;category id=&quot;RawMonitors&quot; label=&quot;Raw Monitor&quot;&gt;
 9027 
 9028     &lt;function id=&quot;CreateRawMonitor&quot; phase=&quot;onload&quot; callbacksafe=&quot;safe&quot; num=&quot;31&quot;&gt;
 9029       &lt;synopsis&gt;Create Raw Monitor&lt;/synopsis&gt;
 9030       &lt;description&gt;
 9031         Create a raw monitor.
 9032       &lt;/description&gt;
 9033       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9034       &lt;capabilities&gt;
 9035       &lt;/capabilities&gt;
 9036       &lt;parameters&gt;
 9037         &lt;param id=&quot;name&quot;&gt;
 9038           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
 9039           &lt;description&gt;
 9040             A name to identify the monitor, encoded as a
 9041             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9042           &lt;/description&gt;
 9043         &lt;/param&gt;
 9044         &lt;param id=&quot;monitor_ptr&quot;&gt;
 9045           &lt;outptr&gt;&lt;jrawMonitorID/&gt;&lt;/outptr&gt;
 9046           &lt;description&gt;
 9047             On return, points to the created monitor.
 9048           &lt;/description&gt;
 9049         &lt;/param&gt;
 9050       &lt;/parameters&gt;
 9051       &lt;errors&gt;
 9052       &lt;/errors&gt;
 9053     &lt;/function&gt;
 9054 
 9055     &lt;function id=&quot;DestroyRawMonitor&quot; phase=&quot;onload&quot; callbacksafe=&quot;safe&quot; num=&quot;32&quot;&gt;
 9056       &lt;synopsis&gt;Destroy Raw Monitor&lt;/synopsis&gt;
 9057       &lt;description&gt;
 9058         Destroy the raw monitor.
 9059         If the monitor being destroyed has been entered by this thread, it will be
 9060         exited before it is destroyed.
 9061         If the monitor being destroyed has been entered by another thread,
 9062         an error will be returned and the monitor will not be destroyed.
 9063       &lt;/description&gt;
 9064       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9065       &lt;capabilities&gt;
 9066       &lt;/capabilities&gt;
 9067       &lt;parameters&gt;
 9068         &lt;param id=&quot;monitor&quot;&gt;
 9069           &lt;jrawMonitorID/&gt;
 9070           &lt;description&gt;
 9071             The monitor
 9072           &lt;/description&gt;
 9073         &lt;/param&gt;
 9074       &lt;/parameters&gt;
 9075       &lt;errors&gt;
 9076         &lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9077           Not monitor owner
 9078         &lt;/error&gt;
 9079       &lt;/errors&gt;
 9080     &lt;/function&gt;
 9081 
 9082     &lt;function id=&quot;RawMonitorEnter&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;33&quot;&gt;
 9083       &lt;synopsis&gt;Raw Monitor Enter&lt;/synopsis&gt;
 9084       &lt;description&gt;
 9085         Gain exclusive ownership of a raw monitor.
 9086         The same thread may enter a monitor more then once.
 9087         The thread must
 9088         &lt;functionlink id=&quot;RawMonitorExit&quot;&gt;exit&lt;/functionlink&gt;
 9089         the monitor the same number of times as it is entered.
 9090         If a monitor is entered during &lt;code&gt;OnLoad&lt;/code&gt; (before attached threads exist)
 9091         and has not exited when attached threads come into existence, the enter
 9092         is considered to have occurred on the main thread.
 9093       &lt;/description&gt;
 9094       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9095       &lt;capabilities&gt;
 9096       &lt;/capabilities&gt;
 9097       &lt;parameters&gt;
 9098         &lt;param id=&quot;monitor&quot;&gt;
 9099           &lt;jrawMonitorID/&gt;
 9100           &lt;description&gt;
 9101             The monitor
 9102           &lt;/description&gt;
 9103         &lt;/param&gt;
 9104       &lt;/parameters&gt;
 9105       &lt;errors&gt;
 9106       &lt;/errors&gt;
 9107     &lt;/function&gt;
 9108 
 9109     &lt;function id=&quot;RawMonitorExit&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;34&quot;&gt;
 9110       &lt;synopsis&gt;Raw Monitor Exit&lt;/synopsis&gt;
 9111       &lt;description&gt;
 9112         Release exclusive ownership of a raw monitor.
 9113       &lt;/description&gt;
 9114       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9115       &lt;capabilities&gt;
 9116       &lt;/capabilities&gt;
 9117       &lt;parameters&gt;
 9118         &lt;param id=&quot;monitor&quot;&gt;
 9119           &lt;jrawMonitorID/&gt;
 9120           &lt;description&gt;
 9121             The monitor
 9122           &lt;/description&gt;
 9123         &lt;/param&gt;
 9124       &lt;/parameters&gt;
 9125       &lt;errors&gt;
 9126         &lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9127           Not monitor owner
 9128         &lt;/error&gt;
 9129       &lt;/errors&gt;
 9130     &lt;/function&gt;
 9131 
 9132     &lt;function id=&quot;RawMonitorWait&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;35&quot;&gt;
 9133       &lt;synopsis&gt;Raw Monitor Wait&lt;/synopsis&gt;
 9134       &lt;description&gt;
 9135         Wait for notification of the raw monitor.
 9136         &lt;p/&gt;
 9137         Causes the current thread to wait until either another thread calls
 9138         &lt;functionlink id=&quot;RawMonitorNotify&quot;/&gt; or
 9139         &lt;functionlink id=&quot;RawMonitorNotifyAll&quot;/&gt;
 9140         for the specified raw monitor, or the specified
 9141         &lt;paramlink id=&quot;millis&quot;&gt;timeout&lt;/paramlink&gt;
 9142         has elapsed.
 9143       &lt;/description&gt;
 9144       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9145       &lt;capabilities&gt;
 9146       &lt;/capabilities&gt;
 9147       &lt;parameters&gt;
 9148         &lt;param id=&quot;monitor&quot;&gt;
 9149           &lt;jrawMonitorID/&gt;
 9150           &lt;description&gt;
 9151             The monitor
 9152           &lt;/description&gt;
 9153         &lt;/param&gt;
 9154         &lt;param id=&quot;millis&quot;&gt;
 9155           &lt;jlong/&gt;
 9156           &lt;description&gt;
 9157             The timeout, in milliseconds.  If the timeout is
 9158             zero, then real time is not taken into consideration
 9159             and the thread simply waits until notified.
 9160           &lt;/description&gt;
 9161         &lt;/param&gt;
 9162       &lt;/parameters&gt;
 9163       &lt;errors&gt;
 9164         &lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9165           Not monitor owner
 9166         &lt;/error&gt;
 9167         &lt;error id=&quot;JVMTI_ERROR_INTERRUPT&quot;&gt;
 9168           Wait was interrupted, try again
 9169         &lt;/error&gt;
 9170       &lt;/errors&gt;
 9171     &lt;/function&gt;
 9172 
 9173     &lt;function id=&quot;RawMonitorNotify&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;notrace&quot; num=&quot;36&quot;&gt;
 9174       &lt;synopsis&gt;Raw Monitor Notify&lt;/synopsis&gt;
 9175       &lt;description&gt;
 9176         Notify a single thread waiting on the raw monitor.
 9177       &lt;/description&gt;
 9178       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9179       &lt;capabilities&gt;
 9180       &lt;/capabilities&gt;
 9181       &lt;parameters&gt;
 9182         &lt;param id=&quot;monitor&quot;&gt;
 9183           &lt;jrawMonitorID/&gt;
 9184           &lt;description&gt;
 9185             The monitor
 9186           &lt;/description&gt;
 9187         &lt;/param&gt;
 9188       &lt;/parameters&gt;
 9189       &lt;errors&gt;
 9190         &lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9191           Not monitor owner
 9192         &lt;/error&gt;
 9193       &lt;/errors&gt;
 9194     &lt;/function&gt;
 9195 
 9196     &lt;function id=&quot;RawMonitorNotifyAll&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;notrace&quot; num=&quot;37&quot;&gt;
 9197       &lt;synopsis&gt;Raw Monitor Notify All&lt;/synopsis&gt;
 9198       &lt;description&gt;
 9199         Notify all threads waiting on the raw monitor.
 9200       &lt;/description&gt;
 9201       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9202       &lt;capabilities&gt;
 9203       &lt;/capabilities&gt;
 9204       &lt;parameters&gt;
 9205         &lt;param id=&quot;monitor&quot;&gt;
 9206           &lt;jrawMonitorID/&gt;
 9207           &lt;description&gt;
 9208             The monitor
 9209           &lt;/description&gt;
 9210         &lt;/param&gt;
 9211       &lt;/parameters&gt;
 9212       &lt;errors&gt;
 9213         &lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9214           Not monitor owner
 9215         &lt;/error&gt;
 9216       &lt;/errors&gt;
 9217     &lt;/function&gt;
 9218 
 9219    &lt;elide&gt;
 9220     &lt;function id=&quot;GetRawMonitorUse&quot; num=&quot;118&quot;&gt;
 9221       &lt;synopsis&gt;Get Raw Monitor Use&lt;/synopsis&gt;
 9222       &lt;description&gt;
 9223         The fields of the &lt;functionlink id=&quot;jvmtiMonitorUsage&quot;&gt;&lt;/functionlink&gt; structure
 9224         are filled in with information about usage of the raw monitor.
 9225       &lt;/description&gt;
 9226       &lt;origin&gt;new&lt;/origin&gt;
 9227       &lt;capabilities&gt;
 9228         &lt;required id=&quot;can_get_raw_monitor_usage&quot;&gt;&lt;/required&gt;
 9229       &lt;/capabilities&gt;
 9230       &lt;parameters&gt;
 9231         &lt;param id=&quot;monitor&quot;&gt;
 9232           &lt;jrawMonitorID/&gt;
 9233           &lt;description&gt;
 9234             the raw monitor to query.
 9235           &lt;/description&gt;
 9236         &lt;/param&gt;
 9237         &lt;param id=&quot;info_ptr&quot;&gt;
 9238           &lt;outptr&gt;&lt;struct&gt;jvmtiMonitorUsage&lt;/struct&gt;&lt;/outptr&gt;
 9239           &lt;description&gt;
 9240             On return, filled with monitor information for the
 9241             specified raw monitor.
 9242           &lt;/description&gt;
 9243         &lt;/param&gt;
 9244       &lt;/parameters&gt;
 9245       &lt;errors&gt;
 9246       &lt;/errors&gt;
 9247     &lt;/function&gt;
 9248 
 9249     &lt;function id=&quot;GetRawMonitors&quot; num=&quot;119&quot;&gt;
 9250       &lt;synopsis&gt;Get Raw Monitors&lt;/synopsis&gt;
 9251       &lt;description&gt;
 9252         Return the list of raw monitors.
 9253         &lt;p/&gt;
 9254         Note: details about each monitor can be examined with
 9255         &lt;functionlink id=&quot;GetRawMonitorUse&quot;&gt;&lt;/functionlink&gt;.
 9256       &lt;/description&gt;
 9257       &lt;origin&gt;new&lt;/origin&gt;
 9258       &lt;capabilities&gt;
 9259         &lt;required id=&quot;can_get_raw_monitor_usage&quot;&gt;&lt;/required&gt;
 9260       &lt;/capabilities&gt;
 9261       &lt;parameters&gt;
 9262         &lt;param id=&quot;monitorCnt&quot;&gt;
 9263           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 9264           &lt;description&gt;
 9265             On return, pointer to the number
 9266             of monitors returned in &lt;code&gt;monitors_ptr&lt;/code&gt;.
 9267           &lt;/description&gt;
 9268         &lt;/param&gt;
 9269         &lt;param id=&quot;monitors_ptr&quot;&gt;
 9270           &lt;allocbuf outcount=&quot;monitorCnt&quot;&gt;&lt;jrawMonitorID/&gt;&lt;/allocbuf&gt;
 9271           &lt;description&gt;
 9272             On return, pointer to the monitor list.
 9273           &lt;/description&gt;
 9274         &lt;/param&gt;
 9275       &lt;/parameters&gt;
 9276       &lt;errors&gt;
 9277       &lt;/errors&gt;
 9278     &lt;/function&gt;
 9279     &lt;/elide&gt;
 9280   &lt;/category&gt;
 9281 
 9282   &lt;category id=&quot;jniIntercept&quot; label=&quot;JNI Function Interception&quot;&gt;
 9283 
 9284     &lt;intro&gt;
 9285       Provides the ability to intercept and resend
 9286       Java Native Interface (JNI) function calls
 9287       by manipulating the JNI function table.
 9288       See &lt;externallink id=&quot;jni/functions.html&quot;&gt;JNI
 9289         Functions&lt;/externallink&gt; in the &lt;i&gt;Java Native Interface Specification&lt;/i&gt;.
 9290       &lt;p/&gt;
 9291       The following example illustrates intercepting the
 9292       &lt;code&gt;NewGlobalRef&lt;/code&gt; JNI call in order to count reference
 9293       creation.
 9294       &lt;example&gt;
 9295 JNIEnv original_jni_Functions;
 9296 JNIEnv redirected_jni_Functions;
 9297 int my_global_ref_count = 0;
 9298 
 9299 jobject
 9300 MyNewGlobalRef(JNIEnv *jni_env, jobject lobj) {
 9301    ++my_global_ref_count;
 9302    return originalJNIFunctions-&amp;gt;NewGlobalRef(env, lobj);
 9303 }
 9304 
 9305 void
 9306 myInit() {
 9307    jvmtiError err;
 9308 
 9309    err = (*jvmti_env)-&amp;gt;GetJNIFunctionTable(jvmti_env, &amp;amp;original_jni_Functions);
 9310    if (err != JVMTI_ERROR_NONE) {
 9311       die();
 9312    }
 9313    err = (*jvmti_env)-&amp;gt;GetJNIFunctionTable(jvmti_env, &amp;amp;redirected_jni_Functions);
 9314    if (err != JVMTI_ERROR_NONE) {
 9315       die();
 9316    }
 9317    redirectedJNIFunctions-&amp;gt;NewGlobalRef = MyNewGlobalRef;
 9318       err = (*jvmti_env)-&amp;gt;SetJNIFunctionTable(jvmti_env, redirected_jni_Functions);
 9319    if (err != JVMTI_ERROR_NONE) {
 9320       die();
 9321    }
 9322 }
 9323       &lt;/example&gt;
 9324       Sometime after &lt;code&gt;myInit&lt;/code&gt; is called the user&#39;s JNI
 9325       code is executed which makes the call to create a new global
 9326       reference.  Instead of going to the normal JNI implementation
 9327       the call goes to &lt;code&gt;myNewGlobalRef&lt;/code&gt;.  Note that a
 9328       copy of the original function table is kept so that the normal
 9329       JNI function can be called after the data is collected.
 9330       Note also that any JNI functions which are not overwritten
 9331       will behave normally.
 9332       &lt;todo&gt;
 9333         check that the example compiles and executes.
 9334       &lt;/todo&gt;
 9335     &lt;/intro&gt;
 9336 
 9337     &lt;function id=&quot;SetJNIFunctionTable&quot; phase=&quot;start&quot; num=&quot;120&quot;&gt;
 9338       &lt;synopsis&gt;Set JNI Function Table&lt;/synopsis&gt;
 9339       &lt;description&gt;
 9340         Set the JNI function table
 9341         in all current and future JNI environments.
 9342         As a result, all future JNI calls are directed to the specified functions.
 9343         Use &lt;functionlink id=&quot;GetJNIFunctionTable&quot;&gt;&lt;/functionlink&gt; to get the
 9344         function table to pass to this function.
 9345         For this function to take effect the the updated table entries must be
 9346         used by the JNI clients.
 9347         Since the table is defined &lt;code&gt;const&lt;/code&gt; some compilers may optimize
 9348         away the access to the table, thus preventing this function from taking
 9349         effect.
 9350         The table is copied--changes to the local copy of the
 9351         table have no effect.
 9352         This function affects only the function table, all other aspects of the environment are
 9353         unaffected.
 9354         See the examples &lt;internallink id=&quot;jniIntercept&quot;&gt;above&lt;/internallink&gt;.
 9355       &lt;/description&gt;
 9356       &lt;origin&gt;new&lt;/origin&gt;
 9357       &lt;capabilities&gt;
 9358       &lt;/capabilities&gt;
 9359       &lt;parameters&gt;
 9360         &lt;param id=&quot;function_table&quot;&gt;
 9361           &lt;inptr&gt;
 9362             &lt;struct&gt;jniNativeInterface&lt;/struct&gt;
 9363           &lt;/inptr&gt;
 9364           &lt;description&gt;
 9365             Points to the new JNI function table.
 9366           &lt;/description&gt;
 9367         &lt;/param&gt;
 9368       &lt;/parameters&gt;
 9369       &lt;errors&gt;
 9370       &lt;/errors&gt;
 9371     &lt;/function&gt;
 9372 
 9373     &lt;function id=&quot;GetJNIFunctionTable&quot; phase=&quot;start&quot; num=&quot;121&quot;&gt;
 9374       &lt;synopsis&gt;Get JNI Function Table&lt;/synopsis&gt;
 9375       &lt;description&gt;
 9376         Get the JNI function table.
 9377         The JNI function table is copied into allocated memory.
 9378         If &lt;functionlink id=&quot;SetJNIFunctionTable&quot;&gt;&lt;/functionlink&gt;
 9379         has been called, the modified (not the original) function
 9380         table is returned.
 9381         Only the function table is copied, no other aspects of the environment
 9382         are copied.
 9383         See the examples &lt;internallink id=&quot;jniIntercept&quot;&gt;above&lt;/internallink&gt;.
 9384       &lt;/description&gt;
 9385       &lt;origin&gt;new&lt;/origin&gt;
 9386       &lt;capabilities&gt;
 9387       &lt;/capabilities&gt;
 9388       &lt;parameters&gt;
 9389         &lt;param id=&quot;function_table&quot;&gt;
 9390           &lt;allocbuf&gt;
 9391             &lt;struct&gt;jniNativeInterface&lt;/struct&gt;
 9392           &lt;/allocbuf&gt;
 9393           &lt;description&gt;
 9394             On return, &lt;code&gt;*function_table&lt;/code&gt;
 9395             points a newly allocated copy of the JNI function table.
 9396           &lt;/description&gt;
 9397         &lt;/param&gt;
 9398       &lt;/parameters&gt;
 9399       &lt;errors&gt;
 9400       &lt;/errors&gt;
 9401     &lt;/function&gt;
 9402 
 9403   &lt;/category&gt;
 9404 
 9405   &lt;category id=&quot;eventManagement&quot; label=&quot;Event Management&quot;&gt;
 9406 
 9407     &lt;function id=&quot;SetEventCallbacks&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;122&quot;&gt;
 9408       &lt;synopsis&gt;Set Event Callbacks&lt;/synopsis&gt;
 9409       &lt;description&gt;
 9410         Set the functions to be called for each event.
 9411         The callbacks are specified by supplying a replacement function table.
 9412         The function table is copied--changes to the local copy of the
 9413         table have no effect.
 9414         This is an atomic action, all callbacks are set at once.
 9415         No events are sent before this function is called.
 9416         When an entry is &lt;code&gt;NULL&lt;/code&gt; or when the event is beyond
 9417         &lt;paramlink id=&quot;size_of_callbacks&quot;&gt;&lt;/paramlink&gt; no event is sent.
 9418         Details on events are
 9419         described &lt;internallink id=&quot;EventSection&quot;&gt;later&lt;/internallink&gt; in this document.
 9420         An event must be enabled and have a callback in order to be
 9421         sent--the order in which this function and
 9422         &lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;&lt;/functionlink&gt;
 9423         are called does not affect the result.
 9424       &lt;/description&gt;
 9425       &lt;origin&gt;new&lt;/origin&gt;
 9426       &lt;capabilities&gt;
 9427       &lt;/capabilities&gt;
 9428       &lt;parameters&gt;
 9429         &lt;param id=&quot;callbacks&quot;&gt;
 9430           &lt;inptr&gt;
 9431             &lt;struct&gt;jvmtiEventCallbacks&lt;/struct&gt;
 9432             &lt;nullok&gt;remove the existing callbacks&lt;/nullok&gt;
 9433           &lt;/inptr&gt;
 9434           &lt;description&gt;
 9435             The new event callbacks.
 9436           &lt;/description&gt;
 9437         &lt;/param&gt;
 9438         &lt;param id=&quot;size_of_callbacks&quot;&gt;
 9439           &lt;jint min=&quot;0&quot;/&gt;
 9440           &lt;description&gt;
 9441             &lt;code&gt;sizeof(jvmtiEventCallbacks)&lt;/code&gt;--for version
 9442             compatibility.
 9443           &lt;/description&gt;
 9444         &lt;/param&gt;
 9445       &lt;/parameters&gt;
 9446       &lt;errors&gt;
 9447       &lt;/errors&gt;
 9448     &lt;/function&gt;
 9449 
 9450     &lt;function id=&quot;SetEventNotificationMode&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;2&quot;&gt;
 9451       &lt;synopsis&gt;Set Event Notification Mode&lt;/synopsis&gt;
 9452       &lt;description&gt;
 9453         Control the generation of events.
 9454         &lt;constants id=&quot;jvmtiEventMode&quot; label=&quot;Event Enable/Disable&quot; kind=&quot;enum&quot;&gt;
 9455           &lt;constant id=&quot;JVMTI_ENABLE&quot; num=&quot;1&quot;&gt;
 9456             If &lt;paramlink id=&quot;mode&quot;&gt;&lt;/paramlink&gt; is &lt;code&gt;JVMTI_ENABLE&lt;/code&gt;,
 9457             the event &lt;paramlink id=&quot;event_type&quot;&gt;&lt;/paramlink&gt; will be enabled
 9458           &lt;/constant&gt;
 9459           &lt;constant id=&quot;JVMTI_DISABLE&quot; num=&quot;0&quot;&gt;
 9460             If &lt;paramlink id=&quot;mode&quot;&gt;&lt;/paramlink&gt; is &lt;code&gt;JVMTI_DISABLE&lt;/code&gt;,
 9461             the event &lt;paramlink id=&quot;event_type&quot;&gt;&lt;/paramlink&gt; will be disabled
 9462           &lt;/constant&gt;
 9463         &lt;/constants&gt;
 9464         If &lt;code&gt;event_thread&lt;/code&gt; is &lt;code&gt;NULL&lt;/code&gt;,
 9465         the event is enabled or disabled globally; otherwise, it is
 9466         enabled or disabled for a particular thread.
 9467         An event is generated for
 9468         a particular thread if it is enabled either at the thread or global
 9469         levels.
 9470         &lt;p/&gt;
 9471         See &lt;internallink id=&quot;EventIndex&quot;&gt;below&lt;/internallink&gt; for information on specific events.
 9472         &lt;p/&gt;
 9473         The following events cannot be controlled at the thread
 9474         level through this function.
 9475         &lt;ul&gt;
 9476           &lt;li&gt;&lt;eventlink id=&quot;VMInit&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9477           &lt;li&gt;&lt;eventlink id=&quot;VMStart&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9478           &lt;li&gt;&lt;eventlink id=&quot;VMDeath&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9479           &lt;li&gt;&lt;eventlink id=&quot;ThreadStart&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9480           &lt;li&gt;&lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9481           &lt;li&gt;&lt;eventlink id=&quot;CompiledMethodUnload&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9482           &lt;li&gt;&lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9483           &lt;li&gt;&lt;eventlink id=&quot;DataDumpRequest&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9484         &lt;/ul&gt;
 9485         &lt;p/&gt;
 9486         Initially, no events are enabled at either the thread level
 9487         or the global level.
 9488         &lt;p/&gt;
 9489         Any needed capabilities (see Event Enabling Capabilities below) must be possessed
 9490         before calling this function.
 9491         &lt;p/&gt;
 9492         Details on events are
 9493         described &lt;internallink id=&quot;EventSection&quot;&gt;below&lt;/internallink&gt;.
 9494       &lt;/description&gt;
 9495       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 9496       &lt;eventcapabilities&gt;&lt;/eventcapabilities&gt;
 9497       &lt;parameters&gt;
 9498         &lt;param id=&quot;mode&quot;&gt;
 9499           &lt;enum&gt;jvmtiEventMode&lt;/enum&gt;
 9500           &lt;description&gt;
 9501             &lt;code&gt;JVMTI_ENABLE&lt;/code&gt; or &lt;code&gt;JVMTI_DISABLE&lt;/code&gt;
 9502           &lt;/description&gt;
 9503         &lt;/param&gt;
 9504         &lt;param id=&quot;event_type&quot;&gt;
 9505           &lt;enum&gt;jvmtiEvent&lt;/enum&gt;
 9506           &lt;description&gt;
 9507             the event to control
 9508           &lt;/description&gt;
 9509         &lt;/param&gt;
 9510         &lt;param id=&quot;event_thread&quot;&gt;
 9511           &lt;ptrtype&gt;
 9512             &lt;jthread impl=&quot;noconvert&quot;/&gt;
 9513             &lt;nullok&gt;event is controlled at the global level&lt;/nullok&gt;
 9514           &lt;/ptrtype&gt;
 9515             &lt;description&gt;
 9516               The thread to control
 9517             &lt;/description&gt;
 9518         &lt;/param&gt;
 9519         &lt;param id=&quot;...&quot;&gt;
 9520           &lt;varargs/&gt;
 9521             &lt;description&gt;
 9522               for future expansion
 9523             &lt;/description&gt;
 9524         &lt;/param&gt;
 9525       &lt;/parameters&gt;
 9526       &lt;errors&gt;
 9527         &lt;error id=&quot;JVMTI_ERROR_INVALID_THREAD&quot;&gt;
 9528           &lt;paramlink id=&quot;event_thread&quot;/&gt; is non-&lt;code&gt;NULL&lt;/code&gt; and is not a valid thread.
 9529         &lt;/error&gt;
 9530         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_ALIVE&quot;&gt;
 9531           &lt;paramlink id=&quot;event_thread&quot;/&gt; is non-&lt;code&gt;NULL&lt;/code&gt; and is not live (has not been started or is now dead).
 9532         &lt;/error&gt;
 9533         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 9534           thread level control was attempted on events which do not
 9535           permit thread level control.
 9536         &lt;/error&gt;
 9537         &lt;error id=&quot;JVMTI_ERROR_MUST_POSSESS_CAPABILITY&quot;&gt;
 9538           The Required Event Enabling Capability is not possessed.
 9539         &lt;/error&gt;
 9540       &lt;/errors&gt;
 9541     &lt;/function&gt;
 9542 
 9543     &lt;function id=&quot;GenerateEvents&quot; num=&quot;123&quot;&gt;
 9544       &lt;synopsis&gt;Generate Events&lt;/synopsis&gt;
 9545       &lt;description&gt;
 9546         Generate events to represent the current state of the VM.
 9547         For example, if &lt;paramlink id=&quot;event_type&quot;/&gt; is
 9548         &lt;code&gt;JVMTI_EVENT_COMPILED_METHOD_LOAD&lt;/code&gt;,
 9549         a &lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;/eventlink&gt; event will be
 9550         sent for each currently compiled method.
 9551         Methods that were loaded and now have been unloaded are not sent.
 9552         The history of what events have previously been sent does not
 9553         effect what events are sent by this function--for example,
 9554         all currently compiled methods
 9555         will be sent each time this function is called.
 9556         &lt;p/&gt;
 9557         This function is useful when
 9558         events may have been missed due to the agent attaching after program
 9559         execution begins; this function generates the missed events.
 9560         &lt;p/&gt;
 9561         Attempts to execute Java programming language code or
 9562         JNI functions may be paused until this function returns -
 9563         so neither should be called from the thread sending the event.
 9564         This function returns only after the missed events have been
 9565         sent, processed and have returned.
 9566         The event may be sent on a different thread than the thread
 9567         on which the event occurred.
 9568         The callback for the event must be set with
 9569         &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt;
 9570         and the event must be enabled with
 9571         &lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;&lt;/functionlink&gt;
 9572         or the events will not occur.
 9573         If the VM no longer has the information to generate some or
 9574         all of the requested events, the events are simply not sent -
 9575         no error is returned.
 9576         &lt;p/&gt;
 9577         Only the following events are supported:
 9578         &lt;ul&gt;
 9579           &lt;li&gt;&lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9580           &lt;li&gt;&lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9581         &lt;/ul&gt;
 9582       &lt;/description&gt;
 9583       &lt;origin&gt;new&lt;/origin&gt;
 9584       &lt;capabilities&gt;
 9585         &lt;capability id=&quot;can_generate_compiled_method_load_events&quot;&gt;&lt;/capability&gt;
 9586       &lt;/capabilities&gt;
 9587       &lt;parameters&gt;
 9588         &lt;param id=&quot;event_type&quot;&gt;
 9589           &lt;enum&gt;jvmtiEvent&lt;/enum&gt;
 9590           &lt;description&gt;
 9591             The type of event to generate.  Must be one of these:
 9592             &lt;ul&gt;
 9593               &lt;li&gt;&lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;code&gt;JVMTI_EVENT_COMPILED_METHOD_LOAD&lt;/code&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9594               &lt;li&gt;&lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;code&gt;JVMTI_EVENT_DYNAMIC_CODE_GENERATED&lt;/code&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9595             &lt;/ul&gt;
 9596           &lt;/description&gt;
 9597         &lt;/param&gt;
 9598       &lt;/parameters&gt;
 9599       &lt;errors&gt;
 9600         &lt;error id=&quot;JVMTI_ERROR_MUST_POSSESS_CAPABILITY&quot;&gt;
 9601           &lt;paramlink id=&quot;event_type&quot;/&gt; is
 9602           &lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;code&gt;JVMTI_EVENT_COMPILED_METHOD_LOAD&lt;/code&gt;&lt;/eventlink&gt;
 9603           and &lt;fieldlink id=&quot;can_generate_compiled_method_load_events&quot; struct=&quot;jvmtiCapabilities&quot;&gt;&lt;/fieldlink&gt;
 9604           is &lt;code&gt;false&lt;/code&gt;.
 9605         &lt;/error&gt;
 9606         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 9607           &lt;paramlink id=&quot;event_type&quot;/&gt; is other than
 9608           &lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;code&gt;JVMTI_EVENT_COMPILED_METHOD_LOAD&lt;/code&gt;&lt;/eventlink&gt;
 9609           or &lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;code&gt;JVMTI_EVENT_DYNAMIC_CODE_GENERATED&lt;/code&gt;&lt;/eventlink&gt;.
 9610         &lt;/error&gt;
 9611       &lt;/errors&gt;
 9612     &lt;/function&gt;
 9613 
 9614   &lt;/category&gt;
 9615 
 9616     &lt;category id=&quot;extension&quot; label=&quot;Extension Mechanism&quot;&gt;
 9617 
 9618       &lt;intro&gt;
 9619         These functions
 9620         allow a &lt;jvmti/&gt; implementation to provide functions and events
 9621         beyond those defined in this specification.
 9622         &lt;p/&gt;
 9623         Both extension functions and extension events have parameters
 9624         each of which has a &#39;type&#39; and &#39;kind&#39; chosen from the following tables:
 9625 
 9626         &lt;constants id=&quot;jvmtiParamTypes&quot; label=&quot;Extension Function/Event Parameter Types&quot; kind=&quot;enum&quot;&gt;
 9627           &lt;constant id=&quot;JVMTI_TYPE_JBYTE&quot; num=&quot;101&quot;&gt;
 9628             Java programming language primitive type - &lt;code&gt;byte&lt;/code&gt;.
 9629             JNI type &lt;code&gt;jbyte&lt;/code&gt;.
 9630           &lt;/constant&gt;
 9631           &lt;constant id=&quot;JVMTI_TYPE_JCHAR&quot; num=&quot;102&quot;&gt;
 9632             Java programming language primitive type - &lt;code&gt;char&lt;/code&gt;.
 9633             JNI type &lt;code&gt;jchar&lt;/code&gt;.
 9634           &lt;/constant&gt;
 9635           &lt;constant id=&quot;JVMTI_TYPE_JSHORT&quot; num=&quot;103&quot;&gt;
 9636             Java programming language primitive type - &lt;code&gt;short&lt;/code&gt;.
 9637             JNI type &lt;code&gt;jshort&lt;/code&gt;.
 9638           &lt;/constant&gt;
 9639           &lt;constant id=&quot;JVMTI_TYPE_JINT&quot; num=&quot;104&quot;&gt;
 9640             Java programming language primitive type - &lt;code&gt;int&lt;/code&gt;.
 9641             JNI type &lt;datalink id=&quot;jint&quot;&gt;&lt;/datalink&gt;.
 9642           &lt;/constant&gt;
 9643           &lt;constant id=&quot;JVMTI_TYPE_JLONG&quot; num=&quot;105&quot;&gt;
 9644             Java programming language primitive type - &lt;code&gt;long&lt;/code&gt;.
 9645             JNI type &lt;datalink id=&quot;jlong&quot;&gt;&lt;/datalink&gt;.
 9646           &lt;/constant&gt;
 9647           &lt;constant id=&quot;JVMTI_TYPE_JFLOAT&quot; num=&quot;106&quot;&gt;
 9648             Java programming language primitive type - &lt;code&gt;float&lt;/code&gt;.
 9649             JNI type &lt;datalink id=&quot;jfloat&quot;&gt;&lt;/datalink&gt;.
 9650           &lt;/constant&gt;
 9651           &lt;constant id=&quot;JVMTI_TYPE_JDOUBLE&quot; num=&quot;107&quot;&gt;
 9652             Java programming language primitive type - &lt;code&gt;double&lt;/code&gt;.
 9653             JNI type &lt;datalink id=&quot;jdouble&quot;&gt;&lt;/datalink&gt;.
 9654           &lt;/constant&gt;
 9655           &lt;constant id=&quot;JVMTI_TYPE_JBOOLEAN&quot; num=&quot;108&quot;&gt;
 9656             Java programming language primitive type - &lt;code&gt;boolean&lt;/code&gt;.
 9657             JNI type &lt;datalink id=&quot;jboolean&quot;&gt;&lt;/datalink&gt;.
 9658           &lt;/constant&gt;
 9659           &lt;constant id=&quot;JVMTI_TYPE_JOBJECT&quot; num=&quot;109&quot;&gt;
 9660             Java programming language object type - &lt;code&gt;java.lang.Object&lt;/code&gt;.
 9661             JNI type &lt;datalink id=&quot;jobject&quot;&gt;&lt;/datalink&gt;.
 9662             Returned values are JNI local references and must be managed.
 9663           &lt;/constant&gt;
 9664           &lt;constant id=&quot;JVMTI_TYPE_JTHREAD&quot; num=&quot;110&quot;&gt;
 9665             Java programming language object type - &lt;code&gt;java.lang.Thread&lt;/code&gt;.
 9666             &lt;jvmti/&gt; type &lt;datalink id=&quot;jthread&quot;&gt;&lt;/datalink&gt;.
 9667             Returned values are JNI local references and must be managed.
 9668           &lt;/constant&gt;
 9669           &lt;constant id=&quot;JVMTI_TYPE_JCLASS&quot; num=&quot;111&quot;&gt;
 9670             Java programming language object type - &lt;code&gt;java.lang.Class&lt;/code&gt;.
 9671             JNI type &lt;datalink id=&quot;jclass&quot;&gt;&lt;/datalink&gt;.
 9672             Returned values are JNI local references and must be managed.
 9673           &lt;/constant&gt;
 9674           &lt;constant id=&quot;JVMTI_TYPE_JVALUE&quot; num=&quot;112&quot;&gt;
 9675             Union of all Java programming language primitive and object types -
 9676             JNI type &lt;datalink id=&quot;jvalue&quot;&gt;&lt;/datalink&gt;.
 9677             Returned values which represent object types are JNI local references and must be managed.
 9678           &lt;/constant&gt;
 9679           &lt;constant id=&quot;JVMTI_TYPE_JFIELDID&quot; num=&quot;113&quot;&gt;
 9680             Java programming language field identifier -
 9681             JNI type &lt;datalink id=&quot;jfieldID&quot;&gt;&lt;/datalink&gt;.
 9682           &lt;/constant&gt;
 9683           &lt;constant id=&quot;JVMTI_TYPE_JMETHODID&quot; num=&quot;114&quot;&gt;
 9684             Java programming language method identifier -
 9685             JNI type &lt;datalink id=&quot;jmethodID&quot;&gt;&lt;/datalink&gt;.
 9686           &lt;/constant&gt;
 9687           &lt;constant id=&quot;JVMTI_TYPE_CCHAR&quot; num=&quot;115&quot;&gt;
 9688             C programming language type - &lt;code&gt;char&lt;/code&gt;.
 9689           &lt;/constant&gt;
 9690           &lt;constant id=&quot;JVMTI_TYPE_CVOID&quot; num=&quot;116&quot;&gt;
 9691             C programming language type - &lt;code&gt;void&lt;/code&gt;.
 9692           &lt;/constant&gt;
 9693           &lt;constant id=&quot;JVMTI_TYPE_JNIENV&quot; num=&quot;117&quot;&gt;
 9694             JNI environment - &lt;code&gt;JNIEnv&lt;/code&gt;.
 9695             Should be used with the correct &lt;datalink id=&quot;jvmtiParamKind&quot;/&gt; to make it a pointer type.
 9696           &lt;/constant&gt;
 9697         &lt;/constants&gt;
 9698 
 9699         &lt;constants id=&quot;jvmtiParamKind&quot; label=&quot;Extension Function/Event Parameter Kinds&quot; kind=&quot;enum&quot;&gt;
 9700           &lt;constant id=&quot;JVMTI_KIND_IN&quot; num=&quot;91&quot;&gt;
 9701             Ingoing argument - &lt;code&gt;foo&lt;/code&gt;.
 9702           &lt;/constant&gt;
 9703           &lt;constant id=&quot;JVMTI_KIND_IN_PTR&quot; num=&quot;92&quot;&gt;
 9704             Ingoing pointer argument - &lt;code&gt;const foo*&lt;/code&gt;.
 9705           &lt;/constant&gt;
 9706           &lt;constant id=&quot;JVMTI_KIND_IN_BUF&quot; num=&quot;93&quot;&gt;
 9707             Ingoing array argument - &lt;code&gt;const foo*&lt;/code&gt;.
 9708           &lt;/constant&gt;
 9709           &lt;constant id=&quot;JVMTI_KIND_ALLOC_BUF&quot; num=&quot;94&quot;&gt;
 9710             Outgoing allocated array argument -  &lt;code&gt;foo**&lt;/code&gt;.
 9711             Free with &lt;code&gt;Deallocate&lt;/code&gt;.
 9712           &lt;/constant&gt;
 9713           &lt;constant id=&quot;JVMTI_KIND_ALLOC_ALLOC_BUF&quot; num=&quot;95&quot;&gt;
 9714             Outgoing allocated array of allocated arrays argument - &lt;code&gt;foo***&lt;/code&gt;.
 9715             Free with &lt;code&gt;Deallocate&lt;/code&gt;.
 9716           &lt;/constant&gt;
 9717           &lt;constant id=&quot;JVMTI_KIND_OUT&quot; num=&quot;96&quot;&gt;
 9718             Outgoing argument - &lt;code&gt;foo*&lt;/code&gt;.
 9719           &lt;/constant&gt;
 9720           &lt;constant id=&quot;JVMTI_KIND_OUT_BUF&quot; num=&quot;97&quot;&gt;
 9721             Outgoing array argument (pre-allocated by agent) - &lt;code&gt;foo*&lt;/code&gt;.
 9722             Do not &lt;code&gt;Deallocate&lt;/code&gt;.
 9723           &lt;/constant&gt;
 9724         &lt;/constants&gt;
 9725 
 9726       &lt;/intro&gt;
 9727 
 9728       &lt;typedef id=&quot;jvmtiParamInfo&quot; label=&quot;Extension Function/Event Parameter Info&quot;&gt;
 9729         &lt;field id=&quot;name&quot;&gt;
 9730           &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9731             &lt;description&gt;
 9732               The parameter name, encoded as a
 9733               &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string
 9734             &lt;/description&gt;
 9735         &lt;/field&gt;
 9736         &lt;field id=&quot;kind&quot;&gt;
 9737           &lt;enum&gt;jvmtiParamKind&lt;/enum&gt;
 9738           &lt;description&gt;
 9739             The kind of the parameter - type modifiers
 9740           &lt;/description&gt;
 9741         &lt;/field&gt;
 9742         &lt;field id=&quot;base_type&quot;&gt;
 9743           &lt;enum&gt;jvmtiParamTypes&lt;/enum&gt;
 9744           &lt;description&gt;
 9745             The base type of the parameter -  modified by &lt;code&gt;kind&lt;/code&gt;
 9746           &lt;/description&gt;
 9747         &lt;/field&gt;
 9748         &lt;field id=&quot;null_ok&quot;&gt;
 9749           &lt;jboolean/&gt;
 9750             &lt;description&gt;
 9751               Is a &lt;code&gt;NULL&lt;/code&gt; argument permitted? Applies only to pointer and object types.
 9752             &lt;/description&gt;
 9753         &lt;/field&gt;
 9754       &lt;/typedef&gt;
 9755 
 9756       &lt;callback id=&quot;jvmtiExtensionFunction&quot;&gt;
 9757         &lt;enum&gt;jvmtiError&lt;/enum&gt;
 9758           &lt;synopsis&gt;Extension Function&lt;/synopsis&gt;
 9759         &lt;description&gt;
 9760           This is the implementation-specific extension function.
 9761         &lt;/description&gt;
 9762         &lt;parameters&gt;
 9763           &lt;param id=&quot;jvmti_env&quot;&gt;
 9764             &lt;outptr&gt;
 9765               &lt;struct&gt;jvmtiEnv&lt;/struct&gt;
 9766             &lt;/outptr&gt;
 9767             &lt;description&gt;
 9768               The &lt;jvmti/&gt; environment is the only fixed parameter for extension functions.
 9769             &lt;/description&gt;
 9770           &lt;/param&gt;
 9771           &lt;param id=&quot;...&quot;&gt;
 9772             &lt;varargs/&gt;
 9773               &lt;description&gt;
 9774                 The extension function-specific parameters
 9775               &lt;/description&gt;
 9776           &lt;/param&gt;
 9777         &lt;/parameters&gt;
 9778       &lt;/callback&gt;
 9779 
 9780       &lt;function id=&quot;GetExtensionFunctions&quot; phase=&quot;onload&quot; num=&quot;124&quot;&gt;
 9781         &lt;synopsis&gt;Get Extension Functions&lt;/synopsis&gt;
 9782 
 9783         &lt;typedef id=&quot;jvmtiExtensionFunctionInfo&quot; label=&quot;Extension Function Info&quot;&gt;
 9784           &lt;field id=&quot;func&quot;&gt;
 9785             &lt;ptrtype&gt;
 9786               &lt;struct&gt;jvmtiExtensionFunction&lt;/struct&gt;
 9787             &lt;/ptrtype&gt;
 9788             &lt;description&gt;
 9789               The actual function to call
 9790             &lt;/description&gt;
 9791           &lt;/field&gt;
 9792           &lt;field id=&quot;id&quot;&gt;
 9793             &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9794               &lt;description&gt;
 9795                 The identifier for the extension function, encoded as a
 9796                 &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9797                 Uses package name conventions.
 9798                 For example, &lt;code&gt;com.sun.hotspot.bar&lt;/code&gt;
 9799               &lt;/description&gt;
 9800           &lt;/field&gt;
 9801           &lt;field id=&quot;short_description&quot;&gt;
 9802             &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9803               &lt;description&gt;
 9804                 A one sentence description of the function, encoded as a
 9805                 &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9806               &lt;/description&gt;
 9807           &lt;/field&gt;
 9808           &lt;field id=&quot;param_count&quot;&gt;
 9809             &lt;jint/&gt;
 9810               &lt;description&gt;
 9811                 The number of parameters excluding &lt;code&gt;jvmtiEnv *jvmti_env&lt;/code&gt;
 9812               &lt;/description&gt;
 9813           &lt;/field&gt;
 9814           &lt;field id=&quot;params&quot;&gt;
 9815             &lt;allocfieldbuf outcount=&quot;param_count&quot;&gt;
 9816               &lt;struct&gt;jvmtiParamInfo&lt;/struct&gt;
 9817             &lt;/allocfieldbuf&gt;
 9818             &lt;description&gt;
 9819               Array of
 9820               &lt;fieldlink id=&quot;param_count&quot; struct=&quot;jvmtiExtensionFunctionInfo&quot;&gt;&lt;/fieldlink&gt;
 9821               parameters (&lt;code&gt;jvmtiEnv *jvmti_env&lt;/code&gt; excluded)
 9822             &lt;/description&gt;
 9823           &lt;/field&gt;
 9824           &lt;field id=&quot;error_count&quot;&gt;
 9825             &lt;jint/&gt;
 9826               &lt;description&gt;
 9827                 The number of possible error returns (excluding universal errors)
 9828               &lt;/description&gt;
 9829           &lt;/field&gt;
 9830           &lt;field id=&quot;errors&quot;&gt;
 9831             &lt;allocfieldbuf outcount=&quot;error_count&quot;&gt;
 9832               &lt;enum&gt;jvmtiError&lt;/enum&gt;
 9833             &lt;/allocfieldbuf&gt;
 9834             &lt;description&gt;
 9835               Array of &lt;fieldlink id=&quot;error_count&quot; struct=&quot;jvmtiExtensionFunctionInfo&quot;&gt;&lt;/fieldlink&gt;
 9836               possible errors
 9837             &lt;/description&gt;
 9838           &lt;/field&gt;
 9839         &lt;/typedef&gt;
 9840 
 9841         &lt;description&gt;
 9842           Returns the set of extension functions.
 9843         &lt;/description&gt;
 9844         &lt;origin&gt;new&lt;/origin&gt;
 9845         &lt;capabilities&gt;
 9846         &lt;/capabilities&gt;
 9847         &lt;parameters&gt;
 9848           &lt;param id=&quot;extension_count_ptr&quot;&gt;
 9849             &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 9850               &lt;description&gt;
 9851                 On return, points to the number of extension functions
 9852               &lt;/description&gt;
 9853           &lt;/param&gt;
 9854           &lt;param id=&quot;extensions&quot;&gt;
 9855             &lt;allocbuf outcount=&quot;extension_count_ptr&quot;&gt;&lt;struct&gt;jvmtiExtensionFunctionInfo&lt;/struct&gt;&lt;/allocbuf&gt;
 9856             &lt;description&gt;
 9857               Returns an array of extension function info, one per function
 9858             &lt;/description&gt;
 9859           &lt;/param&gt;
 9860         &lt;/parameters&gt;
 9861         &lt;errors&gt;
 9862         &lt;/errors&gt;
 9863       &lt;/function&gt;
 9864 
 9865       &lt;function id=&quot;GetExtensionEvents&quot; phase=&quot;onload&quot; num=&quot;125&quot;&gt;
 9866         &lt;synopsis&gt;Get Extension Events&lt;/synopsis&gt;
 9867 
 9868         &lt;typedef id=&quot;jvmtiExtensionEventInfo&quot; label=&quot;Extension Event Info&quot;&gt;
 9869           &lt;field id=&quot;extension_event_index&quot;&gt;
 9870             &lt;jint/&gt;
 9871             &lt;description&gt;
 9872               The identifying index of the event
 9873             &lt;/description&gt;
 9874           &lt;/field&gt;
 9875           &lt;field id=&quot;id&quot;&gt;
 9876             &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9877               &lt;description&gt;
 9878                 The identifier for the extension event, encoded as a
 9879                 &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9880                 Uses package name conventions.
 9881                 For example, &lt;code&gt;com.sun.hotspot.bar&lt;/code&gt;
 9882               &lt;/description&gt;
 9883           &lt;/field&gt;
 9884           &lt;field id=&quot;short_description&quot;&gt;
 9885             &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9886               &lt;description&gt;
 9887                 A one sentence description of the event, encoded as a
 9888                 &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9889               &lt;/description&gt;
 9890           &lt;/field&gt;
 9891           &lt;field id=&quot;param_count&quot;&gt;
 9892             &lt;jint/&gt;
 9893               &lt;description&gt;
 9894                 The number of parameters excluding &lt;code&gt;jvmtiEnv *jvmti_env&lt;/code&gt;
 9895               &lt;/description&gt;
 9896           &lt;/field&gt;
 9897           &lt;field id=&quot;params&quot;&gt;
 9898             &lt;allocfieldbuf outcount=&quot;param_count&quot;&gt;
 9899               &lt;struct&gt;jvmtiParamInfo&lt;/struct&gt;
 9900             &lt;/allocfieldbuf&gt;
 9901             &lt;description&gt;
 9902               Array of
 9903               &lt;fieldlink id=&quot;param_count&quot; struct=&quot;jvmtiExtensionEventInfo&quot;&gt;&lt;/fieldlink&gt;
 9904               parameters (&lt;code&gt;jvmtiEnv *jvmti_env&lt;/code&gt; excluded)
 9905             &lt;/description&gt;
 9906           &lt;/field&gt;
 9907         &lt;/typedef&gt;
 9908 
 9909         &lt;description&gt;
 9910           Returns the set of extension events.
 9911         &lt;/description&gt;
 9912         &lt;origin&gt;new&lt;/origin&gt;
 9913         &lt;capabilities&gt;
 9914         &lt;/capabilities&gt;
 9915         &lt;parameters&gt;
 9916           &lt;param id=&quot;extension_count_ptr&quot;&gt;
 9917             &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 9918               &lt;description&gt;
 9919                 On return, points to the number of extension events
 9920               &lt;/description&gt;
 9921           &lt;/param&gt;
 9922           &lt;param id=&quot;extensions&quot;&gt;
 9923             &lt;allocbuf outcount=&quot;extension_count_ptr&quot;&gt;&lt;struct&gt;jvmtiExtensionEventInfo&lt;/struct&gt;&lt;/allocbuf&gt;
 9924             &lt;description&gt;
 9925               Returns an array of extension event info, one per event
 9926             &lt;/description&gt;
 9927           &lt;/param&gt;
 9928         &lt;/parameters&gt;
 9929         &lt;errors&gt;
 9930         &lt;/errors&gt;
 9931       &lt;/function&gt;
 9932 
 9933       &lt;callback id=&quot;jvmtiExtensionEvent&quot;&gt;
 9934         &lt;void/&gt;
 9935           &lt;synopsis&gt;Extension Event&lt;/synopsis&gt;
 9936         &lt;description&gt;
 9937           This is the implementation-specific event.
 9938           The event handler is set with
 9939           &lt;functionlink id=&quot;SetExtensionEventCallback&quot;/&gt;.
 9940           &lt;p/&gt;
 9941           Event handlers for extension events must be declared varargs to match this definition.
 9942           Failure to do so could result in calling convention mismatch and undefined behavior
 9943           on some platforms.
 9944           &lt;p/&gt;
 9945           For example, if the &lt;code&gt;jvmtiParamInfo&lt;/code&gt;
 9946           returned by &lt;functionlink id=&quot;GetExtensionEvents&quot;/&gt; indicates that
 9947           there is a &lt;code&gt;jint&lt;/code&gt; parameter, the event handler should be
 9948           declared:
 9949 &lt;example&gt;
 9950     void JNICALL myHandler(jvmtiEnv* jvmti_env, jint myInt, ...)
 9951 &lt;/example&gt;
 9952           Note the terminal &quot;&lt;code&gt;...&lt;/code&gt;&quot; which indicates varargs.
 9953         &lt;/description&gt;
 9954         &lt;parameters&gt;
 9955           &lt;param id=&quot;jvmti_env&quot;&gt;
 9956             &lt;outptr&gt;
 9957               &lt;struct&gt;jvmtiEnv&lt;/struct&gt;
 9958             &lt;/outptr&gt;
 9959             &lt;description&gt;
 9960               The &lt;jvmti/&gt; environment is the only fixed parameter for extension events.
 9961             &lt;/description&gt;
 9962           &lt;/param&gt;
 9963           &lt;param id=&quot;...&quot;&gt;
 9964             &lt;varargs/&gt;
 9965               &lt;description&gt;
 9966                 The extension event-specific parameters
 9967               &lt;/description&gt;
 9968           &lt;/param&gt;
 9969         &lt;/parameters&gt;
 9970       &lt;/callback&gt;
 9971 
 9972       &lt;function id=&quot;SetExtensionEventCallback&quot; phase=&quot;onload&quot; num=&quot;126&quot;&gt;
 9973         &lt;synopsis&gt;Set Extension Event Callback&lt;/synopsis&gt;
 9974 
 9975         &lt;description&gt;
 9976           Sets the callback function for an extension event and
 9977           enables the event. Or, if the callback is &lt;code&gt;NULL&lt;/code&gt;, disables
 9978           the event.  Note that unlike standard events, setting
 9979           the callback and enabling the event are a single operation.
 9980         &lt;/description&gt;
 9981         &lt;origin&gt;new&lt;/origin&gt;
 9982         &lt;capabilities&gt;
 9983         &lt;/capabilities&gt;
 9984         &lt;parameters&gt;
 9985           &lt;param id=&quot;extension_event_index&quot;&gt;
 9986             &lt;jint/&gt;
 9987               &lt;description&gt;
 9988                 Identifies which callback to set.
 9989                 This index is the
 9990                 &lt;fieldlink id=&quot;extension_event_index&quot; struct=&quot;jvmtiExtensionEventInfo&quot;&gt;&lt;/fieldlink&gt;
 9991                 field of
 9992                 &lt;datalink id=&quot;jvmtiExtensionEventInfo&quot;/&gt;.
 9993               &lt;/description&gt;
 9994           &lt;/param&gt;
 9995           &lt;param id=&quot;callback&quot;&gt;
 9996             &lt;ptrtype&gt;
 9997               &lt;struct&gt;jvmtiExtensionEvent&lt;/struct&gt;
 9998               &lt;nullok&gt;disable the event&lt;/nullok&gt;
 9999             &lt;/ptrtype&gt;
10000             &lt;description&gt;
10001               If &lt;code&gt;callback&lt;/code&gt; is non-&lt;code&gt;NULL&lt;/code&gt;,
10002               set &lt;code&gt;callback&lt;/code&gt; to be the event callback function
10003               and enable the event.
10004             &lt;/description&gt;
10005           &lt;/param&gt;
10006         &lt;/parameters&gt;
10007         &lt;errors&gt;
10008         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
10009             &lt;paramlink id=&quot;extension_event_index&quot;/&gt; is not an
10010             &lt;fieldlink id=&quot;extension_event_index&quot;
10011                        struct=&quot;jvmtiExtensionEventInfo&quot;/&gt;
10012             returned by
10013             &lt;functionlink id=&quot;GetExtensionEvents&quot;/&gt;
10014         &lt;/error&gt;
10015         &lt;/errors&gt;
10016       &lt;/function&gt;
10017 
10018     &lt;/category&gt;
10019 
10020   &lt;category id=&quot;capability&quot; label=&quot;Capability&quot;&gt;
10021 
10022     &lt;intro&gt;
10023       The capabilities functions allow you to change the
10024       functionality available to &lt;jvmti/&gt;--that is,
10025       which &lt;jvmti/&gt;
10026       functions can be called, what events can be generated,
10027       and what functionality these events and functions can
10028       provide.
10029       &lt;p/&gt;
10030         The &quot;Capabilities&quot; section of each function and event describe which
10031         capabilities, if any, they are associated with. &quot;Required Functionality&quot;
10032         means it is available for use and no capabilities must be added to use it.
10033         &quot;Optional Functionality&quot; means the agent must possess the capability
10034         before it can be used.
10035         To possess a capability, the agent must
10036         &lt;functionlink id=&quot;AddCapabilities&quot;&gt;add the capability&lt;/functionlink&gt;.
10037         &quot;Optional Features&quot; describe capabilities which,
10038         if added, extend the feature set.
10039         &lt;p/&gt;
10040         The potentially available capabilities of each &lt;jvmti/&gt; implementation are different.
10041         Depending on the implementation, a capability:
10042         &lt;ul&gt;
10043           &lt;li&gt;may never be added&lt;/li&gt;
10044           &lt;li&gt;may be added in either the &lt;code&gt;OnLoad&lt;/code&gt; or live phase in any environment&lt;/li&gt;
10045           &lt;li&gt;may be added only during the &lt;code&gt;OnLoad&lt;/code&gt; phase&lt;/li&gt;
10046           &lt;li&gt;may be possessed by only one environment at a time&lt;/li&gt;
10047           &lt;li&gt;may be possessed by only one environment at a time,
10048               and only during the &lt;code&gt;OnLoad&lt;/code&gt; phase&lt;/li&gt;
10049           &lt;li&gt;and so on ...&lt;/li&gt;
10050         &lt;/ul&gt;
10051       Frequently, the addition of a capability may incur a cost in execution speed, start up
10052       time, and/or memory footprint.  Note that the overhead of using a capability
10053       is completely different than the overhead of possessing a capability.
10054       Take single stepping as an example. When single stepping is on (that
10055       is, when the event is enabled and thus actively sending events)
10056       the overhead of sending and processing an event
10057       on each instruction is huge in any implementation.
10058       However, the overhead of possessing the capability may be small or large,
10059       depending on the implementation.  Also, when and if a capability is potentially
10060       available depends on the implementation.  Some examples:
10061       &lt;ul&gt;
10062         &lt;li&gt;One VM might perform all execution by compiling bytecodes into
10063           native code and be unable to generate single step instructions.
10064           In this implementation the capability can not be added.&lt;/li&gt;
10065         &lt;li&gt;Another VM may be able to switch execution to a single stepping
10066           interpreter at any time.  In this implementation, having the capability has no
10067           overhead and could be added at any time.&lt;/li&gt;
10068         &lt;li&gt;Yet another VM might be able to choose a bytecode compiling or single stepping capable interpreted
10069           execution engine at start up, but be unable to switch between them.
10070           In this implementation the capability would need to be added
10071           during the &lt;code&gt;OnLoad&lt;/code&gt; phase (before bytecode
10072           execution begins) and would have a large impact on execution speed
10073           even if single stepping was never used.&lt;/li&gt;
10074         &lt;li&gt;Still another VM might be able to add an &quot;is single stepping on&quot; check
10075           into compiled bytecodes or a generated interpreter.  Again in this implementation
10076           the capability would need to be added during the &lt;code&gt;OnLoad&lt;/code&gt; phase but the overhead (a test
10077           and branch on each instruction) would be considerably less.&lt;/li&gt;
10078       &lt;/ul&gt;
10079       &lt;p/&gt;
10080       Each &lt;jvmti/&gt; &lt;internallink id=&quot;environments&quot;&gt;environment&lt;/internallink&gt;
10081       has its own set of capabilities.
10082       Initially, that set is empty.
10083       Any desired capability must be added.
10084       If possible, capabilities should be added during the &lt;code&gt;OnLoad&lt;/code&gt; phase.  For most
10085       virtual machines certain capabilities require special set up for
10086       the virtual machine and this set up must happen
10087       during the &lt;code&gt;OnLoad&lt;/code&gt; phase, before the virtual machine begins execution.
10088       Once a capability is added, it can
10089       only be removed if explicitly relinquished by the environment.
10090       &lt;p/&gt;
10091       The agent can,
10092       &lt;functionlink id=&quot;GetPotentialCapabilities&quot;&gt;determine what
10093         capabilities this VM can potentially provide&lt;/functionlink&gt;,
10094       &lt;functionlink id=&quot;AddCapabilities&quot;&gt;add the capabilities
10095         to be used&lt;/functionlink&gt;,
10096       &lt;functionlink id=&quot;RelinquishCapabilities&quot;&gt;release capabilities
10097         which are no longer needed&lt;/functionlink&gt;, and
10098       &lt;functionlink id=&quot;GetCapabilities&quot;&gt;examine the currently available
10099         capabilities&lt;/functionlink&gt;.
10100     &lt;/intro&gt;
10101 
10102     &lt;intro id=&quot;capabilityExamples&quot; label=&quot;Capability Examples&quot;&gt;
10103       For example, a freshly started agent (in the &lt;code&gt;OnLoad&lt;/code&gt; function)
10104       wants to enable all possible capabilities.
10105       Note that, in general, this is not advisable as the agent may suffer
10106       a performance penalty for functionality it is not using.
10107       The code might look like this in C:
10108       &lt;example&gt;
10109         jvmtiCapabilities capa;
10110         jvmtiError err;
10111 
10112         err = (*jvmti)-&amp;gt;GetPotentialCapabilities(jvmti, &amp;amp;capa);
10113         if (err == JVMTI_ERROR_NONE) {
10114            err = (*jvmti)-&amp;gt;AddCapabilities(jvmti, &amp;amp;capa);
10115       &lt;/example&gt;
10116       For example, if an  agent wants to check if it can get
10117       the bytecodes of a method (that is, it wants to check
10118       if it previously added this capability and has not
10119       relinquished it), the code might
10120       look like this in C:
10121       &lt;example&gt;
10122         jvmtiCapabilities capa;
10123         jvmtiError err;
10124 
10125         err = (*jvmti)-&amp;gt;GetCapabilities(jvmti, &amp;amp;capa);
10126         if (err == JVMTI_ERROR_NONE) {
10127            if (capa.can_get_bytecodes) { ... } }
10128       &lt;/example&gt;
10129     &lt;/intro&gt;
10130 
10131     &lt;capabilitiestypedef id=&quot;jvmtiCapabilities&quot; label=&quot;The Capabilities Structure&quot;&gt;
10132       &lt;description&gt;
10133         The functions in this category use this capabilities structure
10134         which contains boolean flags corresponding to each capability:
10135       &lt;/description&gt;
10136       &lt;capabilityfield id=&quot;can_tag_objects&quot;&gt;
10137         &lt;description&gt;
10138           Can set and get tags, as described in the
10139           &lt;internallink id=&quot;Heap&quot;&gt;Heap category&lt;/internallink&gt;.
10140         &lt;/description&gt;
10141       &lt;/capabilityfield&gt;
10142       &lt;capabilityfield id=&quot;can_generate_field_modification_events&quot;&gt;
10143         &lt;description&gt;
10144           Can set watchpoints on field modification -
10145           &lt;functionlink id=&quot;SetFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;
10146         &lt;/description&gt;
10147       &lt;/capabilityfield&gt;
10148       &lt;capabilityfield id=&quot;can_generate_field_access_events&quot;&gt;
10149         &lt;description&gt;
10150           Can set watchpoints on field access -
10151           &lt;functionlink id=&quot;SetFieldAccessWatch&quot;&gt;&lt;/functionlink&gt;
10152         &lt;/description&gt;
10153       &lt;/capabilityfield&gt;
10154       &lt;capabilityfield id=&quot;can_get_bytecodes&quot;&gt;
10155         &lt;description&gt;
10156           Can get bytecodes of a method &lt;functionlink id=&quot;GetBytecodes&quot;&gt;&lt;/functionlink&gt;
10157         &lt;/description&gt;
10158       &lt;/capabilityfield&gt;
10159       &lt;capabilityfield id=&quot;can_get_synthetic_attribute&quot;&gt;
10160         &lt;description&gt;
10161           Can test if a field or method is synthetic -
10162           &lt;functionlink id=&quot;IsFieldSynthetic&quot;&gt;&lt;/functionlink&gt; and
10163           &lt;functionlink id=&quot;IsMethodSynthetic&quot;&gt;&lt;/functionlink&gt;
10164         &lt;/description&gt;
10165       &lt;/capabilityfield&gt;
10166       &lt;capabilityfield id=&quot;can_get_owned_monitor_info&quot;&gt;
10167         &lt;description&gt;
10168           Can get information about ownership of monitors -
10169           &lt;functionlink id=&quot;GetOwnedMonitorInfo&quot;&gt;&lt;/functionlink&gt;
10170         &lt;/description&gt;
10171       &lt;/capabilityfield&gt;
10172       &lt;capabilityfield id=&quot;can_get_current_contended_monitor&quot;&gt;
10173         &lt;description&gt;
10174           Can &lt;functionlink id=&quot;GetCurrentContendedMonitor&quot;&gt;&lt;/functionlink&gt;
10175         &lt;/description&gt;
10176       &lt;/capabilityfield&gt;
10177       &lt;capabilityfield id=&quot;can_get_monitor_info&quot;&gt;
10178       &lt;description&gt;
10179         Can &lt;functionlink id=&quot;GetObjectMonitorUsage&quot;&gt;&lt;/functionlink&gt;
10180       &lt;/description&gt;
10181       &lt;/capabilityfield&gt;
10182       &lt;capabilityfield id=&quot;can_pop_frame&quot;&gt;
10183         &lt;description&gt;
10184           Can pop frames off the stack - &lt;functionlink id=&quot;PopFrame&quot;&gt;&lt;/functionlink&gt;
10185         &lt;/description&gt;
10186       &lt;/capabilityfield&gt;
10187       &lt;capabilityfield id=&quot;can_redefine_classes&quot;&gt;
10188         &lt;description&gt;
10189           Can redefine classes with &lt;functionlink id=&quot;RedefineClasses&quot;/&gt;.
10190         &lt;/description&gt;
10191       &lt;/capabilityfield&gt;
10192       &lt;capabilityfield id=&quot;can_signal_thread&quot;&gt;
10193         &lt;description&gt;
10194           Can send stop or interrupt to threads
10195         &lt;/description&gt;
10196       &lt;/capabilityfield&gt;
10197       &lt;capabilityfield id=&quot;can_get_source_file_name&quot;&gt;
10198         &lt;description&gt;
10199           Can get the source file name of a class
10200         &lt;/description&gt;
10201       &lt;/capabilityfield&gt;
10202       &lt;capabilityfield id=&quot;can_get_line_numbers&quot;&gt;
10203         &lt;description&gt;
10204           Can get the line number table of a method
10205         &lt;/description&gt;
10206       &lt;/capabilityfield&gt;
10207       &lt;capabilityfield id=&quot;can_get_source_debug_extension&quot;&gt;
10208         &lt;description&gt;
10209           Can get the source debug extension of a class
10210         &lt;/description&gt;
10211       &lt;/capabilityfield&gt;
10212       &lt;capabilityfield id=&quot;can_access_local_variables&quot;&gt;
10213         &lt;description&gt;
10214           Can set and get local variables
10215         &lt;/description&gt;
10216       &lt;/capabilityfield&gt;
10217       &lt;capabilityfield id=&quot;can_maintain_original_method_order&quot;&gt;
10218         &lt;description&gt;
10219           Can return methods in the order they occur in the class file
10220         &lt;/description&gt;
10221       &lt;/capabilityfield&gt;
10222       &lt;capabilityfield id=&quot;can_generate_single_step_events&quot;&gt;
10223         &lt;description&gt;
10224           Can get &lt;eventlink id=&quot;SingleStep&quot;&gt;single step&lt;/eventlink&gt; events
10225         &lt;/description&gt;
10226       &lt;/capabilityfield&gt;
10227       &lt;capabilityfield id=&quot;can_generate_exception_events&quot;&gt;
10228         &lt;description&gt;
10229           Can get &lt;eventlink id=&quot;Exception&quot;&gt;exception thrown&lt;/eventlink&gt; and
10230             &lt;eventlink id=&quot;ExceptionCatch&quot;&gt;exception catch&lt;/eventlink&gt; events
10231         &lt;/description&gt;
10232       &lt;/capabilityfield&gt;
10233       &lt;capabilityfield id=&quot;can_generate_frame_pop_events&quot;&gt;
10234         &lt;description&gt;
10235           Can &lt;functionlink id=&quot;NotifyFramePop&quot;&gt;set&lt;/functionlink&gt; and thus get
10236             &lt;eventlink id=&quot;FramePop&quot;&gt;&lt;/eventlink&gt; events
10237         &lt;/description&gt;
10238       &lt;/capabilityfield&gt;
10239       &lt;capabilityfield id=&quot;can_generate_breakpoint_events&quot;&gt;
10240         &lt;description&gt;
10241           Can &lt;functionlink id=&quot;SetBreakpoint&quot;&gt;set&lt;/functionlink&gt; and thus get
10242             &lt;eventlink id=&quot;Breakpoint&quot;&gt;&lt;/eventlink&gt; events
10243         &lt;/description&gt;
10244       &lt;/capabilityfield&gt;
10245       &lt;capabilityfield id=&quot;can_suspend&quot;&gt;
10246         &lt;description&gt;
10247           Can suspend and resume threads
10248         &lt;/description&gt;
10249       &lt;/capabilityfield&gt;
10250       &lt;capabilityfield id=&quot;can_redefine_any_class&quot;&gt;
10251         &lt;description&gt;
10252           &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; can be called on any modifiable class.
10253           See &lt;functionlink id=&quot;IsModifiableClass&quot;/&gt;.
10254           (&lt;fieldlink id=&quot;can_redefine_classes&quot; struct=&quot;jvmtiCapabilities&quot;/&gt;
10255           must also be set)
10256         &lt;/description&gt;
10257       &lt;/capabilityfield&gt;
10258       &lt;capabilityfield id=&quot;can_get_current_thread_cpu_time&quot;&gt;
10259         &lt;description&gt;
10260           Can &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;&gt;get&lt;/functionlink&gt;
10261           current thread CPU time
10262         &lt;/description&gt;
10263       &lt;/capabilityfield&gt;
10264       &lt;capabilityfield id=&quot;can_get_thread_cpu_time&quot;&gt;
10265         &lt;description&gt;
10266           Can &lt;functionlink id=&quot;GetThreadCpuTime&quot;&gt;get&lt;/functionlink&gt;
10267           thread CPU time
10268         &lt;/description&gt;
10269       &lt;/capabilityfield&gt;
10270       &lt;capabilityfield id=&quot;can_generate_method_entry_events&quot;
10271                        disp1=&quot;can_generate&quot; disp2=&quot;_method_entry_events&quot;
10272                        &gt;
10273         &lt;description&gt;
10274           Can generate method entry events on entering a method
10275         &lt;/description&gt;
10276       &lt;/capabilityfield&gt;
10277       &lt;capabilityfield id=&quot;can_generate_method_exit_events&quot;
10278                        disp1=&quot;can_generate&quot; disp2=&quot;_method_exit_events&quot;
10279                        &gt;
10280         &lt;description&gt;
10281           Can generate method exit events on leaving a method
10282         &lt;/description&gt;
10283       &lt;/capabilityfield&gt;
10284       &lt;capabilityfield id=&quot;can_generate_all_class_hook_events&quot;
10285                        disp1=&quot;can_generate&quot; disp2=&quot;_all_class_hook_events&quot;
10286                        &gt;
10287         &lt;description&gt;
10288           Can generate ClassFileLoadHook events for every loaded class.
10289         &lt;/description&gt;
10290       &lt;/capabilityfield&gt;
10291       &lt;capabilityfield id=&quot;can_generate_compiled_method_load_events&quot;
10292                        disp1=&quot;can_generate&quot; disp2=&quot;_compiled_method_load_events&quot;
10293                        &gt;
10294         &lt;description&gt;
10295           Can generate events when a method is compiled or unloaded
10296         &lt;/description&gt;
10297       &lt;/capabilityfield&gt;
10298       &lt;capabilityfield id=&quot;can_generate_monitor_events&quot;
10299                        disp1=&quot;can_generate&quot; disp2=&quot;_monitor_events&quot;
10300                        &gt;
10301         &lt;description&gt;
10302           Can generate events on monitor activity
10303         &lt;/description&gt;
10304       &lt;/capabilityfield&gt;
10305       &lt;capabilityfield id=&quot;can_generate_vm_object_alloc_events&quot;
10306                        disp1=&quot;can_generate&quot; disp2=&quot;_vm_object_alloc_events&quot;
10307                        &gt;
10308         &lt;description&gt;
10309           Can generate events on VM allocation of an object
10310         &lt;/description&gt;
10311       &lt;/capabilityfield&gt;
10312       &lt;capabilityfield id=&quot;can_generate_native_method_bind_events&quot;
10313                        disp1=&quot;can_generate&quot; disp2=&quot;_native_method_bind_events&quot;
10314                        &gt;
10315         &lt;description&gt;
10316           Can generate events when a native method is bound to its
10317           implementation
10318         &lt;/description&gt;
10319       &lt;/capabilityfield&gt;
10320       &lt;capabilityfield id=&quot;can_generate_garbage_collection_events&quot;
10321                        disp1=&quot;can_generate&quot; disp2=&quot;_garbage_collection_events&quot;
10322                        &gt;
10323         &lt;description&gt;
10324           Can generate events when garbage collection begins or ends
10325         &lt;/description&gt;
10326       &lt;/capabilityfield&gt;
10327       &lt;capabilityfield id=&quot;can_generate_object_free_events&quot;
10328                        disp1=&quot;can_generate&quot; disp2=&quot;_object_free_events&quot;
10329                        &gt;
10330         &lt;description&gt;
10331           Can generate events when the garbage collector frees an object
10332         &lt;/description&gt;
10333       &lt;/capabilityfield&gt;
10334       &lt;capabilityfield id=&quot;can_force_early_return&quot; since=&quot;1.1&quot;&gt;
10335         &lt;description&gt;
10336           Can return early from a method, as described in the
10337           &lt;internallink id=&quot;ForceEarlyReturn&quot;&gt;Force Early Return category&lt;/internallink&gt;.
10338         &lt;/description&gt;
10339       &lt;/capabilityfield&gt;
10340       &lt;capabilityfield id=&quot;can_get_owned_monitor_stack_depth_info&quot; since=&quot;1.1&quot;&gt;
10341         &lt;description&gt;
10342           Can get information about owned monitors with stack depth -
10343           &lt;functionlink id=&quot;GetOwnedMonitorStackDepthInfo&quot;&gt;&lt;/functionlink&gt;
10344         &lt;/description&gt;
10345       &lt;/capabilityfield&gt;
10346       &lt;capabilityfield id=&quot;can_get_constant_pool&quot; since=&quot;1.1&quot;&gt;
10347         &lt;description&gt;
10348           Can get the constant pool of a class -
10349           &lt;functionlink id=&quot;GetConstantPool&quot;&gt;&lt;/functionlink&gt;
10350         &lt;/description&gt;
10351       &lt;/capabilityfield&gt;
10352       &lt;capabilityfield id=&quot;can_set_native_method_prefix&quot; since=&quot;1.1&quot;&gt;
10353         &lt;description&gt;
10354           Can set prefix to be applied when native method cannot be resolved -
10355           &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt; and
10356           &lt;functionlink id=&quot;SetNativeMethodPrefixes&quot;/&gt;
10357         &lt;/description&gt;
10358       &lt;/capabilityfield&gt;
10359       &lt;capabilityfield id=&quot;can_retransform_classes&quot; since=&quot;1.1&quot;&gt;
10360         &lt;description&gt;
10361           Can retransform classes with &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;.
10362           In addition to the restrictions imposed by the specific
10363           implementation on this capability (see the
10364           &lt;internallink id=&quot;capability&quot;&gt;Capability&lt;/internallink&gt; section),
10365           this capability must be set before the
10366           &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event is enabled for the
10367           first time in this environment.
10368           An environment that possesses this capability at the time that
10369           &lt;code&gt;ClassFileLoadHook&lt;/code&gt; is enabled for the first time is
10370           said to be &lt;i&gt;retransformation capable&lt;/i&gt;.
10371           An environment that does not possess this capability at the time that
10372           &lt;code&gt;ClassFileLoadHook&lt;/code&gt; is enabled for the first time is
10373           said to be &lt;i&gt;retransformation incapable&lt;/i&gt;.
10374         &lt;/description&gt;
10375       &lt;/capabilityfield&gt;
10376       &lt;capabilityfield id=&quot;can_retransform_any_class&quot; since=&quot;1.1&quot;&gt;
10377         &lt;description&gt;
10378           &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; can be called on any modifiable class.
10379           See &lt;functionlink id=&quot;IsModifiableClass&quot;/&gt;.
10380           (&lt;fieldlink id=&quot;can_retransform_classes&quot; struct=&quot;jvmtiCapabilities&quot;/&gt;
10381           must also be set)
10382         &lt;/description&gt;
10383       &lt;/capabilityfield&gt;
10384       &lt;capabilityfield id=&quot;can_generate_resource_exhaustion_heap_events&quot; since=&quot;1.1&quot;&gt;
10385         &lt;description&gt;
10386           Can generate events when the VM is unable to allocate memory from
10387           the &lt;tm&gt;Java&lt;/tm&gt; platform heap.
10388           See &lt;eventlink id=&quot;ResourceExhausted&quot;/&gt;.
10389         &lt;/description&gt;
10390       &lt;/capabilityfield&gt;
10391       &lt;capabilityfield id=&quot;can_generate_resource_exhaustion_threads_events&quot; since=&quot;1.1&quot;&gt;
10392         &lt;description&gt;
10393           Can generate events when the VM is unable to create a thread.
10394           See &lt;eventlink id=&quot;ResourceExhausted&quot;/&gt;.
10395         &lt;/description&gt;
10396       &lt;/capabilityfield&gt;
10397       &lt;capabilityfield id=&quot;can_generate_early_vmstart&quot; since=&quot;9&quot;&gt;
10398         &lt;description&gt;
10399           Can generate the &lt;code&gt;VMStart&lt;/code&gt; event early.
10400           See &lt;eventlink id=&quot;VMStart&quot;/&gt;.
10401         &lt;/description&gt;
10402       &lt;/capabilityfield&gt;
10403       &lt;capabilityfield id=&quot;can_generate_early_class_hook_events&quot; since=&quot;9&quot;&gt;
10404         &lt;description&gt;
10405           Can generate the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events
10406           in the primordial phase. If this capability and
10407           &lt;internallink id=&quot;jvmtiCapabilities.can_generate_all_class_hook_events&quot;&gt;
10408           &lt;code&gt;can_generate_all_class_hook_events&lt;/code&gt;&lt;/internallink&gt;
10409           are enabled then the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events
10410           can be posted for classes loaded in the primordial phase.
10411           See &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt;.
10412         &lt;/description&gt;
10413       &lt;/capabilityfield&gt;
10414       &lt;capabilityfield id=&quot;can_generate_sampled_object_alloc_events&quot; since=&quot;11&quot;&gt;
10415         &lt;description&gt;
10416           Can generate sampled allocation events.
10417           If this capability is enabled then the heap sampling method
10418           &lt;functionlink id=&quot;SetHeapSamplingInterval&quot;&gt;&lt;/functionlink&gt; can be
10419           called and &lt;eventlink id=&quot;SampledObjectAlloc&quot;&gt;&lt;/eventlink&gt; events can be generated.
10420         &lt;/description&gt;
10421       &lt;/capabilityfield&gt;
10422     &lt;/capabilitiestypedef&gt;
10423 
10424     &lt;function id=&quot;GetPotentialCapabilities&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;140&quot;&gt;
10425       &lt;synopsis&gt;Get Potential Capabilities&lt;/synopsis&gt;
10426       &lt;description&gt;
10427         Returns via &lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt; the &lt;jvmti/&gt;
10428         features that can potentially be possessed by this environment
10429         at this time.
10430         The returned capabilities differ from the complete set of capabilities
10431         implemented by the VM in two cases: another environment possesses
10432         capabilities that can only be possessed by one environment, or the
10433         current &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt; is live,
10434         and certain capabilities can only be added during the &lt;code&gt;OnLoad&lt;/code&gt; phase.
10435         The &lt;functionlink id=&quot;AddCapabilities&quot;&gt;&lt;/functionlink&gt; function
10436         may be used to set any or all or these capabilities.
10437         Currently possessed capabilities are included.
10438         &lt;p/&gt;
10439         Typically this function is used in the &lt;code&gt;OnLoad&lt;/code&gt; function.
10440         Some virtual machines may allow a limited set of capabilities to be
10441         added in the live phase.
10442         In this case, the set of potentially available capabilities
10443         will likely differ from the &lt;code&gt;OnLoad&lt;/code&gt; phase set.
10444         &lt;p/&gt;
10445         See the
10446         &lt;internallink id=&quot;capabilityExamples&quot;&gt;Capability Examples&lt;/internallink&gt;.
10447       &lt;/description&gt;
10448       &lt;origin&gt;new&lt;/origin&gt;
10449       &lt;capabilities&gt;
10450       &lt;/capabilities&gt;
10451       &lt;parameters&gt;
10452         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10453           &lt;outptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/outptr&gt;
10454           &lt;description&gt;
10455             On return, points to the &lt;jvmti/&gt; capabilities that may be added.
10456           &lt;/description&gt;
10457         &lt;/param&gt;
10458       &lt;/parameters&gt;
10459       &lt;errors&gt;
10460       &lt;/errors&gt;
10461     &lt;/function&gt;
10462 
10463     &lt;elide&gt;
10464     &lt;function id=&quot;EstimateCostOfCapabilities&quot; phase=&quot;onload&quot; num=&quot;141&quot;&gt;
10465       &lt;synopsis&gt;Estimate Cost Of Capabilities&lt;/synopsis&gt;
10466       &lt;description&gt;
10467         &lt;issue&gt;There is strong opposition to this function.  The concern is
10468           that it would be difficult or impossible to provide meaningful
10469           numbers, as the amount of impact is conditional on many factors
10470           that a single number could not represent.  There is doubt that
10471           conditional implementations would be used or are even a good idea.
10472           The thought is that release documentation for the implementation
10473           would be the best means of exposing this information.
10474           Unless new arguments are presented, I intend to remove this
10475           function in the next revision.
10476         &lt;/issue&gt;
10477         &lt;p/&gt;
10478         Return via the &lt;paramlink id=&quot;time_impact_ptr&quot;&gt;&lt;/paramlink&gt; and
10479         &lt;paramlink id=&quot;space_impact_ptr&quot;&gt;&lt;/paramlink&gt; an estimate of the impact
10480         of adding the capabilities pointed to by
10481         &lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt;.
10482         The returned estimates are in percentage of additional overhead, thus
10483         a time impact of 100 mean the application might run
10484         at half the speed.
10485         The estimates are very rough approximations and are not guaranteed.
10486         Note also, that the estimates are of the impact of having the
10487         capability available--when and if it is used the impact may be
10488         much greater.
10489         Estimates can be for a single capability or for a set of
10490         capabilities.  Note that the costs are not necessarily additive,
10491         adding support for one capability might make another available
10492         for free or conversely having two capabilities at once may
10493         have multiplicative impact.
10494         Estimates are relative to the current set of capabilities -
10495         that is, how much more impact given the currently possessed capabilities.
10496         &lt;p/&gt;
10497         Typically this function is used in the OnLoad function,
10498         some virtual machines may allow a limited set of capabilities to be
10499         added in the live phase.
10500         In this case, the set of potentially available capabilities
10501         will likely differ from the OnLoad phase set.
10502         &lt;p/&gt;
10503         See the
10504         &lt;internallink id=&quot;capabilityExamples&quot;&gt;Capability Examples&lt;/internallink&gt;.
10505       &lt;/description&gt;
10506       &lt;origin&gt;new&lt;/origin&gt;
10507       &lt;capabilities&gt;
10508       &lt;/capabilities&gt;
10509       &lt;parameters&gt;
10510         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10511           &lt;inptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/inptr&gt;
10512           &lt;description&gt;
10513             points to the &lt;jvmti/&gt; capabilities to evaluate.
10514           &lt;/description&gt;
10515         &lt;/param&gt;
10516         &lt;param id=&quot;time_impact_ptr&quot;&gt;
10517           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
10518           &lt;description&gt;
10519             On return, points to the estimated percentage increase in
10520             run time if this capability was added.
10521           &lt;/description&gt;
10522         &lt;/param&gt;
10523         &lt;param id=&quot;space_impact_ptr&quot;&gt;
10524           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
10525           &lt;description&gt;
10526             On return, points to the estimated percentage increase in
10527             memory space used if this capability was added.
10528           &lt;/description&gt;
10529         &lt;/param&gt;
10530       &lt;/parameters&gt;
10531       &lt;errors&gt;
10532         &lt;error id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;&gt;
10533           The desired capabilities are not even potentially available.
10534         &lt;/error&gt;
10535       &lt;/errors&gt;
10536     &lt;/function&gt;
10537     &lt;/elide&gt;
10538 
10539     &lt;function id=&quot;AddCapabilities&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;142&quot;&gt;
10540       &lt;synopsis&gt;Add Capabilities&lt;/synopsis&gt;
10541       &lt;description&gt;
10542         Set new capabilities by adding the capabilities
10543         whose values are set to one (&lt;code&gt;1&lt;/code&gt;) in
10544         &lt;code&gt;*&lt;/code&gt;&lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt;.
10545         All previous capabilities are retained.
10546         Typically this function is used in the &lt;code&gt;OnLoad&lt;/code&gt; function.
10547         Some virtual machines may allow a limited set of capabilities to be
10548         added in the live phase.
10549         &lt;p/&gt;
10550         See the
10551         &lt;internallink id=&quot;capabilityExamples&quot;&gt;Capability Examples&lt;/internallink&gt;.
10552       &lt;/description&gt;
10553       &lt;origin&gt;new&lt;/origin&gt;
10554       &lt;capabilities&gt;
10555       &lt;/capabilities&gt;
10556       &lt;parameters&gt;
10557         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10558           &lt;inptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/inptr&gt;
10559           &lt;description&gt;
10560             Points to the &lt;jvmti/&gt; capabilities to add.
10561           &lt;/description&gt;
10562         &lt;/param&gt;
10563       &lt;/parameters&gt;
10564       &lt;errors&gt;
10565         &lt;error id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;&gt;
10566           The desired capabilities are not even potentially available.
10567         &lt;/error&gt;
10568       &lt;/errors&gt;
10569     &lt;/function&gt;
10570 
10571 
10572     &lt;function id=&quot;RelinquishCapabilities&quot; phase=&quot;onload&quot; num=&quot;143&quot;&gt;
10573       &lt;synopsis&gt;Relinquish Capabilities&lt;/synopsis&gt;
10574       &lt;description&gt;
10575         Relinquish the capabilities
10576         whose values are set to one (&lt;code&gt;1&lt;/code&gt;) in
10577         &lt;code&gt;*&lt;/code&gt;&lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt;.
10578         Some implementations may allow only one environment to have a capability
10579         (see the &lt;internallink id=&quot;capability&quot;&gt;capability introduction&lt;/internallink&gt;).
10580         This function releases capabilities
10581         so that they may be used by other agents.
10582         All other capabilities are retained.
10583         The capability will no longer be present in &lt;functionlink id=&quot;GetCapabilities&quot;&gt;&lt;/functionlink&gt;.
10584         Attempting to relinquish a capability that the agent does not possess is not an error.
10585           &lt;issue&gt;
10586             It is possible for the agent to be actively using capabilities
10587             which are being relinquished.  For example, a thread is currently
10588             suspended and can_suspend is being relinquished or an event is currently
10589             enabled and can_generate_whatever is being relinquished.
10590             There are three possible ways we could spec this:
10591             &lt;ul&gt;
10592               &lt;li&gt;relinquish automatically releases them&lt;/li&gt;
10593               &lt;li&gt;relinquish checks and returns some error code if held&lt;/li&gt;
10594               &lt;li&gt;it is the agent&#39;s responsibility and it is not checked&lt;/li&gt;
10595             &lt;/ul&gt;
10596             One of these should be chosen.
10597           &lt;/issue&gt;
10598       &lt;/description&gt;
10599       &lt;origin&gt;new&lt;/origin&gt;
10600       &lt;capabilities&gt;
10601       &lt;/capabilities&gt;
10602       &lt;parameters&gt;
10603         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10604           &lt;inptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/inptr&gt;
10605           &lt;description&gt;
10606             Points to the &lt;jvmti/&gt; capabilities to relinquish.
10607           &lt;/description&gt;
10608         &lt;/param&gt;
10609       &lt;/parameters&gt;
10610       &lt;errors&gt;
10611       &lt;/errors&gt;
10612     &lt;/function&gt;
10613 
10614 
10615 
10616     &lt;function id=&quot;GetCapabilities&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;89&quot;&gt;
10617       &lt;synopsis&gt;Get Capabilities&lt;/synopsis&gt;
10618         &lt;description&gt;
10619           Returns via &lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt; the optional &lt;jvmti/&gt;
10620           features which this environment currently possesses.
10621           Each possessed capability is indicated by a one (&lt;code&gt;1&lt;/code&gt;) in the
10622           corresponding field of the &lt;internallink id=&quot;jvmtiCapabilities&quot;&gt;capabilities
10623           structure&lt;/internallink&gt;.
10624           An environment does not possess a capability unless it has been successfully added with
10625           &lt;functionlink id=&quot;AddCapabilities&quot;/&gt;.
10626           An environment only loses possession of a capability if it has been relinquished with
10627           &lt;functionlink id=&quot;RelinquishCapabilities&quot;/&gt;. Thus, this function returns the net result
10628           of the &lt;code&gt;AddCapabilities&lt;/code&gt; and &lt;code&gt;RelinquishCapabilities&lt;/code&gt; calls which
10629           have been made.
10630           &lt;p/&gt;
10631           See the
10632           &lt;internallink id=&quot;capabilityExamples&quot;&gt;Capability Examples&lt;/internallink&gt;.
10633         &lt;/description&gt;
10634       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
10635       &lt;capabilities&gt;
10636       &lt;/capabilities&gt;
10637       &lt;parameters&gt;
10638         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10639           &lt;outptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/outptr&gt;
10640           &lt;description&gt;
10641             On return, points to the &lt;jvmti/&gt; capabilities.
10642           &lt;/description&gt;
10643         &lt;/param&gt;
10644       &lt;/parameters&gt;
10645       &lt;errors&gt;
10646       &lt;/errors&gt;
10647     &lt;/function&gt;
10648 
10649   &lt;/category&gt;
10650 
10651 
10652   &lt;category id=&quot;timers&quot; label=&quot;Timers&quot;&gt;
10653 
10654       &lt;intro&gt;
10655         These functions provide timing information.
10656         The resolution at which the time is updated is not specified.
10657         They provides nanosecond precision, but not necessarily nanosecond accuracy.
10658         Details about the timers, such as their maximum values, can be accessed with
10659         the timer information functions.
10660       &lt;/intro&gt;
10661 
10662       &lt;typedef id=&quot;jvmtiTimerInfo&quot; label=&quot;Timer Info&quot;&gt;
10663         &lt;description&gt;
10664           The information function for each timer returns this data structure.
10665         &lt;/description&gt;
10666         &lt;field id=&quot;max_value&quot;&gt;
10667           &lt;jlong/&gt;
10668             &lt;description&gt;
10669               The maximum value the timer can reach.
10670               After this value is reached the timer wraps back to zero.
10671               This is an unsigned value.  If tested or printed as a jlong (signed value)
10672               it may appear to be a negative number.
10673             &lt;/description&gt;
10674         &lt;/field&gt;
10675         &lt;field id=&quot;may_skip_forward&quot;&gt;
10676           &lt;jboolean/&gt;
10677           &lt;description&gt;
10678             If true, the timer can be externally adjusted and as a result skip forward.
10679             If false, the timer value will never increase faster than real time.
10680           &lt;/description&gt;
10681         &lt;/field&gt;
10682         &lt;field id=&quot;may_skip_backward&quot;&gt;
10683           &lt;jboolean/&gt;
10684           &lt;description&gt;
10685             If true, the timer can be externally adjusted and as a result skip backward.
10686             If false, the timer value will be monotonically increasing.
10687           &lt;/description&gt;
10688         &lt;/field&gt;
10689         &lt;field id=&quot;kind&quot;&gt;
10690           &lt;enum&gt;jvmtiTimerKind&lt;/enum&gt;
10691           &lt;description&gt;
10692             The kind of timer.
10693             On a platform that does not distinguish between user and system time, &lt;datalink
10694                  id=&quot;JVMTI_TIMER_TOTAL_CPU&quot;&gt;&lt;code&gt;JVMTI_TIMER_TOTAL_CPU&lt;/code&gt;&lt;/datalink&gt;
10695             is returned.
10696           &lt;/description&gt;
10697         &lt;/field&gt;
10698         &lt;field id=&quot;reserved1&quot;&gt;
10699           &lt;jlong/&gt;
10700             &lt;description&gt;
10701               Reserved for future use.
10702             &lt;/description&gt;
10703         &lt;/field&gt;
10704         &lt;field id=&quot;reserved2&quot;&gt;
10705           &lt;jlong/&gt;
10706             &lt;description&gt;
10707               Reserved for future use.
10708             &lt;/description&gt;
10709         &lt;/field&gt;
10710       &lt;/typedef&gt;
10711 
10712       &lt;intro&gt;
10713         Where the timer kind is --
10714 
10715         &lt;constants id=&quot;jvmtiTimerKind&quot; label=&quot;Timer Kinds&quot; kind=&quot;enum&quot;&gt;
10716           &lt;constant id=&quot;JVMTI_TIMER_USER_CPU&quot; num=&quot;30&quot;&gt;
10717             CPU time that a thread is in user mode.
10718           &lt;/constant&gt;
10719           &lt;constant id=&quot;JVMTI_TIMER_TOTAL_CPU&quot; num=&quot;31&quot;&gt;
10720             CPU time that a thread is in user or system mode.
10721           &lt;/constant&gt;
10722           &lt;constant id=&quot;JVMTI_TIMER_ELAPSED&quot; num=&quot;32&quot;&gt;
10723             Elapsed time.
10724           &lt;/constant&gt;
10725         &lt;/constants&gt;
10726       &lt;/intro&gt;
10727 
10728     &lt;function id=&quot;GetCurrentThreadCpuTimerInfo&quot; callbacksafe=&quot;safe&quot;  impl=&quot;innative notrace&quot; phase=&quot;start&quot; num=&quot;134&quot;&gt;
10729       &lt;synopsis&gt;Get Current Thread CPU Timer Information&lt;/synopsis&gt;
10730       &lt;description&gt;
10731         Get information about the
10732         &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt; timer.
10733         The fields of the &lt;datalink id=&quot;jvmtiTimerInfo&quot;/&gt; structure
10734         are filled in with details about the timer.
10735         This information is specific to the platform and the implementation of
10736         &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt; and thus
10737         does not vary by thread nor does it vary
10738         during a particular invocation of the VM.
10739         &lt;p/&gt;
10740         Note that the implementations of &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt;
10741         and &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt; may differ, and thus the values
10742         returned by &lt;code&gt;GetCurrentThreadCpuTimerInfo&lt;/code&gt;
10743         and &lt;functionlink id=&quot;GetThreadCpuTimerInfo&quot;/&gt;
10744         may differ -- see &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt; for more information.
10745       &lt;/description&gt;
10746       &lt;origin&gt;new&lt;/origin&gt;
10747       &lt;capabilities&gt;
10748         &lt;required id=&quot;can_get_current_thread_cpu_time&quot;&gt;
10749             Can get current thread CPU time.
10750         &lt;/required&gt;
10751       &lt;/capabilities&gt;
10752       &lt;parameters&gt;
10753         &lt;param id=&quot;info_ptr&quot;&gt;
10754           &lt;outptr&gt;&lt;struct&gt;jvmtiTimerInfo&lt;/struct&gt;&lt;/outptr&gt;
10755           &lt;description&gt;
10756             On return, filled with information describing the time
10757             returned by &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt;.
10758           &lt;/description&gt;
10759         &lt;/param&gt;
10760       &lt;/parameters&gt;
10761       &lt;errors&gt;
10762       &lt;/errors&gt;
10763     &lt;/function&gt;
10764 
10765     &lt;function id=&quot;GetCurrentThreadCpuTime&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; phase=&quot;start&quot; num=&quot;135&quot;&gt;
10766       &lt;synopsis&gt;Get Current Thread CPU Time&lt;/synopsis&gt;
10767       &lt;description&gt;
10768             Return the CPU time utilized by the current thread.
10769             &lt;p/&gt;
10770             Note that the &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt;
10771             function provides CPU time for any thread, including
10772             the current thread. &lt;code&gt;GetCurrentThreadCpuTime&lt;/code&gt;
10773             exists to support platforms which cannot
10774             supply CPU time for threads other than the current
10775             thread or which have more accurate information for
10776             the current thread (see
10777             &lt;functionlink id=&quot;GetCurrentThreadCpuTimerInfo&quot;/&gt; vs
10778             &lt;functionlink id=&quot;GetThreadCpuTimerInfo&quot;/&gt;).
10779             On many platforms this call will be equivalent to:
10780 &lt;example&gt;
10781   GetThreadCpuTime(env, NULL, nanos_ptr)
10782 &lt;/example&gt;
10783       &lt;/description&gt;
10784       &lt;origin&gt;new&lt;/origin&gt;
10785       &lt;capabilities&gt;
10786         &lt;required id=&quot;can_get_current_thread_cpu_time&quot;&gt;
10787             Can get current thread CPU time.
10788             &lt;p/&gt;
10789             If this capability is enabled after threads have started,
10790             the implementation may choose any time up
10791             to and including the time that the capability is enabled
10792             as the point where CPU time collection starts.
10793             &lt;p/&gt;
10794             This capability must be potentially available on any
10795             platform where
10796             &lt;internallink id=&quot;jvmtiCapabilities.can_get_thread_cpu_time&quot;&gt;&lt;code&gt;can_get_thread_cpu_time&lt;/code&gt;&lt;/internallink&gt;
10797             is potentially available.
10798         &lt;/required&gt;
10799       &lt;/capabilities&gt;
10800       &lt;parameters&gt;
10801         &lt;param id=&quot;nanos_ptr&quot;&gt;
10802           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
10803           &lt;description&gt;
10804             On return, points to the CPU time used by this thread
10805             in nanoseconds.
10806             This is an unsigned value.  If tested or printed as a jlong (signed value)
10807             it may appear to be a negative number.
10808           &lt;/description&gt;
10809         &lt;/param&gt;
10810       &lt;/parameters&gt;
10811       &lt;errors&gt;
10812       &lt;/errors&gt;
10813     &lt;/function&gt;
10814 
10815     &lt;function id=&quot;GetThreadCpuTimerInfo&quot; num=&quot;136&quot;&gt;
10816       &lt;synopsis&gt;Get Thread CPU Timer Information&lt;/synopsis&gt;
10817       &lt;description&gt;
10818         Get information about the
10819         &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt; timer.
10820         The fields of the &lt;datalink id=&quot;jvmtiTimerInfo&quot;/&gt; structure
10821         are filled in with details about the timer.
10822         This information is specific to the platform and the implementation of
10823         &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt; and thus
10824         does not vary by thread nor does it vary
10825         during a particular invocation of the VM.
10826         &lt;p/&gt;
10827         Note that the implementations of &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt;
10828         and &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt; may differ, and thus the values
10829         returned by &lt;functionlink id=&quot;GetCurrentThreadCpuTimerInfo&quot;/&gt;
10830         and &lt;code&gt;GetThreadCpuTimerInfo&lt;/code&gt;
10831         may differ -- see &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt; for more information.
10832       &lt;/description&gt;
10833       &lt;origin&gt;new&lt;/origin&gt;
10834       &lt;capabilities&gt;
10835         &lt;required id=&quot;can_get_thread_cpu_time&quot;&gt;
10836             Can get thread CPU time.
10837         &lt;/required&gt;
10838       &lt;/capabilities&gt;
10839       &lt;parameters&gt;
10840         &lt;param id=&quot;info_ptr&quot;&gt;
10841           &lt;outptr&gt;&lt;struct&gt;jvmtiTimerInfo&lt;/struct&gt;&lt;/outptr&gt;
10842           &lt;description&gt;
10843             On return, filled with information describing the time
10844             returned by &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt;.
10845           &lt;/description&gt;
10846         &lt;/param&gt;
10847       &lt;/parameters&gt;
10848       &lt;errors&gt;
10849       &lt;/errors&gt;
10850     &lt;/function&gt;
10851 
10852     &lt;function id=&quot;GetThreadCpuTime&quot; num=&quot;137&quot;&gt;
10853       &lt;synopsis&gt;Get Thread CPU Time&lt;/synopsis&gt;
10854       &lt;description&gt;
10855           Return the CPU time utilized by the specified thread.
10856           &lt;p/&gt;
10857           Get information about this timer with
10858           &lt;functionlink id=&quot;GetThreadCpuTimerInfo&quot;/&gt;.
10859       &lt;/description&gt;
10860       &lt;origin&gt;new&lt;/origin&gt;
10861       &lt;capabilities&gt;
10862         &lt;required id=&quot;can_get_thread_cpu_time&quot;&gt;
10863             Can get thread CPU time.
10864             &lt;p/&gt;
10865             If this capability is enabled after threads have started,
10866             the implementation may choose any time up
10867             to and including the time that the capability is enabled
10868             as the point where CPU time collection starts.
10869         &lt;/required&gt;
10870       &lt;/capabilities&gt;
10871       &lt;parameters&gt;
10872         &lt;param id=&quot;thread&quot;&gt;
10873           &lt;jthread null=&quot;current&quot;/&gt;
10874             &lt;description&gt;
10875               The thread to query.
10876             &lt;/description&gt;
10877         &lt;/param&gt;
10878         &lt;param id=&quot;nanos_ptr&quot;&gt;
10879           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
10880           &lt;description&gt;
10881             On return, points to the CPU time used by the specified thread
10882             in nanoseconds.
10883             This is an unsigned value.  If tested or printed as a jlong (signed value)
10884             it may appear to be a negative number.
10885           &lt;/description&gt;
10886         &lt;/param&gt;
10887       &lt;/parameters&gt;
10888       &lt;errors&gt;
10889       &lt;/errors&gt;
10890     &lt;/function&gt;
10891 
10892     &lt;function id=&quot;GetTimerInfo&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; num=&quot;138&quot;&gt;
10893       &lt;synopsis&gt;Get Timer Information&lt;/synopsis&gt;
10894       &lt;description&gt;
10895         Get information about the
10896         &lt;functionlink id=&quot;GetTime&quot;/&gt; timer.
10897         The fields of the &lt;datalink id=&quot;jvmtiTimerInfo&quot;/&gt; structure
10898         are filled in with details about the timer.
10899         This information will not change during a particular invocation of the VM.
10900       &lt;/description&gt;
10901       &lt;origin&gt;new&lt;/origin&gt;
10902       &lt;capabilities&gt;
10903       &lt;/capabilities&gt;
10904       &lt;parameters&gt;
10905         &lt;param id=&quot;info_ptr&quot;&gt;
10906           &lt;outptr&gt;&lt;struct&gt;jvmtiTimerInfo&lt;/struct&gt;&lt;/outptr&gt;
10907           &lt;description&gt;
10908             On return, filled with information describing the time
10909             returned by &lt;functionlink id=&quot;GetTime&quot;/&gt;.
10910           &lt;/description&gt;
10911         &lt;/param&gt;
10912       &lt;/parameters&gt;
10913       &lt;errors&gt;
10914       &lt;/errors&gt;
10915     &lt;/function&gt;
10916 
10917     &lt;function id=&quot;GetTime&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; num=&quot;139&quot;&gt;
10918       &lt;synopsis&gt;Get Time&lt;/synopsis&gt;
10919       &lt;description&gt;
10920           Return the current value of the system timer, in nanoseconds.
10921           &lt;p/&gt;
10922           The value returned represents nanoseconds since some fixed but
10923           arbitrary time (perhaps in the future, so values may be
10924           negative).  This function provides nanosecond precision, but not
10925           necessarily nanosecond accuracy. No guarantees are made about
10926           how frequently values change.
10927           &lt;p/&gt;
10928           Get information about this timer with
10929           &lt;functionlink id=&quot;GetTimerInfo&quot;/&gt;.
10930       &lt;/description&gt;
10931       &lt;origin&gt;new&lt;/origin&gt;
10932       &lt;capabilities&gt;
10933       &lt;/capabilities&gt;
10934       &lt;parameters&gt;
10935         &lt;param id=&quot;nanos_ptr&quot;&gt;
10936           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
10937           &lt;description&gt;
10938             On return, points to the time in nanoseconds.
10939             This is an unsigned value.  If tested or printed as a jlong (signed value)
10940             it may appear to be a negative number.
10941           &lt;/description&gt;
10942         &lt;/param&gt;
10943       &lt;/parameters&gt;
10944       &lt;errors&gt;
10945       &lt;/errors&gt;
10946     &lt;/function&gt;
10947 
10948     &lt;function id=&quot;GetAvailableProcessors&quot; phase=&quot;any&quot; num=&quot;144&quot;&gt;
10949       &lt;synopsis&gt;Get Available Processors&lt;/synopsis&gt;
10950       &lt;description&gt;
10951           Returns the number of processors available to the Java virtual machine.
10952           &lt;p/&gt;
10953           This value may change during a particular invocation of the virtual machine.
10954           Applications that are sensitive to the number of available processors should
10955           therefore occasionally poll this property.
10956       &lt;/description&gt;
10957       &lt;origin&gt;new&lt;/origin&gt;
10958       &lt;capabilities&gt;
10959       &lt;/capabilities&gt;
10960       &lt;parameters&gt;
10961         &lt;param id=&quot;processor_count_ptr&quot;&gt;
10962           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
10963           &lt;description&gt;
10964             On return, points to the maximum number of processors available to the
10965             virtual machine; never smaller than one.
10966           &lt;/description&gt;
10967         &lt;/param&gt;
10968       &lt;/parameters&gt;
10969       &lt;errors&gt;
10970       &lt;/errors&gt;
10971     &lt;/function&gt;
10972 
10973   &lt;/category&gt;
10974 
10975 
10976   &lt;category id=&quot;classLoaderSearch&quot; label=&quot;Class Loader Search&quot;&gt;
10977 
10978     &lt;intro&gt;
10979       These functions allow the agent to add to the locations that a class loader searches for a class.
10980       This is useful for installing instrumentation under the correct class loader.
10981     &lt;/intro&gt;
10982 
10983     &lt;function id=&quot;AddToBootstrapClassLoaderSearch&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;149&quot;&gt;
10984       &lt;synopsis&gt;Add To Bootstrap Class Loader Search&lt;/synopsis&gt;
10985       &lt;description&gt;
10986           This function can be used to cause instrumentation classes to be defined by the
10987           bootstrap class loader. See &lt;vmspec chapter=&quot;5.3.1&quot;/&gt;.
10988           After the bootstrap
10989           class loader unsuccessfully searches for a class, the specified platform-dependent
10990           search path &lt;paramlink id=&quot;segment&quot;/&gt; will be searched as well. Only one segment may be specified in
10991           the &lt;paramlink id=&quot;segment&quot;/&gt;. This function may be called multiple times to add multiple segments,
10992           the segments will be searched in the order that this function was called.
10993           &lt;p/&gt;
10994           In the &lt;code&gt;OnLoad&lt;/code&gt; phase the function may be used to specify any platform-dependent
10995           search path segment to be searched after the bootstrap class loader unsuccessfully searches
10996           for a class. The segment is typically a directory or JAR file.
10997           &lt;p/&gt;
10998           In the live phase the &lt;paramlink id=&quot;segment&quot;/&gt; may be used to specify any platform-dependent
10999           path to a &lt;externallink id=&quot;jar/jar.html&quot;&gt;
11000           JAR file&lt;/externallink&gt;. The agent should take care that the JAR file does not
11001           contain any classes or resources other than those to be defined by the bootstrap
11002           class loader for the purposes of instrumentation.
11003           &lt;p/&gt;
11004           &lt;vmspec/&gt; specifies that a subsequent attempt to resolve a symbolic
11005           reference that the Java virtual machine has previously unsuccessfully attempted
11006           to resolve always fails with the same error that was thrown as a result of the
11007           initial resolution attempt. Consequently, if the JAR file contains an entry
11008           that corresponds to a class for which the Java virtual machine has
11009           unsuccessfully attempted to resolve a reference, then subsequent attempts to
11010           resolve that reference will fail with the same error as the initial attempt.
11011       &lt;/description&gt;
11012       &lt;origin&gt;new&lt;/origin&gt;
11013       &lt;capabilities&gt;
11014       &lt;/capabilities&gt;
11015       &lt;parameters&gt;
11016         &lt;param id=&quot;segment&quot;&gt;
11017           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
11018           &lt;description&gt;
11019             The platform-dependent search path segment, encoded as a
11020             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11021           &lt;/description&gt;
11022         &lt;/param&gt;
11023       &lt;/parameters&gt;
11024       &lt;errors&gt;
11025         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
11026           &lt;paramlink id=&quot;segment&quot;/&gt; is an invalid path. In the live phase, anything other than an
11027            existing JAR file is an invalid path.
11028         &lt;/error&gt;
11029       &lt;/errors&gt;
11030     &lt;/function&gt;
11031 
11032     &lt;function id=&quot;AddToSystemClassLoaderSearch&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;151&quot; since=&quot;1.1&quot;&gt;
11033       &lt;synopsis&gt;Add To System Class Loader Search&lt;/synopsis&gt;
11034       &lt;description&gt;
11035           This function can be used to cause instrumentation classes to be
11036           defined by the system class loader. See &lt;vmspec chapter=&quot;5.3.2&quot;/&gt;.
11037           After the class loader unsuccessfully searches for a class, the specified platform-dependent search
11038           path &lt;paramlink id=&quot;segment&quot;/&gt; will be searched as well. Only one segment may be specified in the
11039           &lt;paramlink id=&quot;segment&quot;/&gt;. This function may be called multiple times to add multiple segments, the
11040           segments will be searched in the order that this function was called.
11041           &lt;p/&gt;
11042           In the &lt;code&gt;OnLoad&lt;/code&gt; phase the function may be used to specify any platform-dependent
11043           search path segment to be searched after the system class loader unsuccessfully searches
11044           for a class. The segment is typically a directory or JAR file.
11045           &lt;p/&gt;
11046           In the live phase the &lt;paramlink id=&quot;segment&quot;/&gt; is a platform-dependent path to a
11047           &lt;externallink id=&quot;jar/jar.html&quot;&gt;JAR file&lt;/externallink&gt; to be
11048           searched after the system class loader unsuccessfully searches for a class. The agent should
11049           take care that the JAR file does not contain any classes or resources other than those to be
11050           defined by the system class loader for the purposes of instrumentation.
11051           &lt;p/&gt;
11052           In the live phase the system class loader supports adding a JAR file to be searched if
11053           the system class loader implements a method name &lt;code&gt;appendToClassPathForInstrumentation&lt;/code&gt;
11054           which takes a single parameter of type &lt;code&gt;java.lang.String&lt;/code&gt;. The method is not required
11055           to have &lt;code&gt;public&lt;/code&gt; access.
11056           &lt;p/&gt;
11057           &lt;vmspec/&gt; specifies that a subsequent attempt to resolve a symbolic
11058           reference that the Java virtual machine has previously unsuccessfully attempted
11059           to resolve always fails with the same error that was thrown as a result of the
11060           initial resolution attempt. Consequently, if the JAR file contains an entry
11061           that corresponds to a class for which the Java virtual machine has
11062           unsuccessfully attempted to resolve a reference, then subsequent attempts to
11063           resolve that reference will fail with the same error as the initial attempt.
11064       &lt;/description&gt;
11065       &lt;origin&gt;new&lt;/origin&gt;
11066       &lt;capabilities&gt;
11067       &lt;/capabilities&gt;
11068       &lt;parameters&gt;
11069         &lt;param id=&quot;segment&quot;&gt;
11070           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
11071           &lt;description&gt;
11072             The platform-dependent search path segment, encoded as a
11073             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11074           &lt;/description&gt;
11075         &lt;/param&gt;
11076       &lt;/parameters&gt;
11077       &lt;errors&gt;
11078         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
11079           &lt;paramlink id=&quot;segment&quot;/&gt; is an invalid path. In the live phase, anything other than an
11080            existing JAR file is an invalid path.
11081         &lt;/error&gt;
11082         &lt;error id=&quot;JVMTI_ERROR_CLASS_LOADER_UNSUPPORTED&quot;&gt;
11083           Operation not supported by the system class loader.
11084         &lt;/error&gt;
11085       &lt;/errors&gt;
11086     &lt;/function&gt;
11087 
11088   &lt;/category&gt;
11089 
11090 
11091   &lt;category id=&quot;props&quot; label=&quot;System Properties&quot;&gt;
11092 
11093     &lt;intro&gt;
11094       These functions get and set system properties.
11095     &lt;/intro&gt;
11096 
11097     &lt;function id=&quot;GetSystemProperties&quot; phase=&quot;onload&quot; num=&quot;130&quot;&gt;
11098       &lt;synopsis&gt;Get System Properties&lt;/synopsis&gt;
11099       &lt;description&gt;
11100         The list of VM system property keys which may be used with
11101         &lt;functionlink id=&quot;GetSystemProperty&quot;/&gt; is returned.
11102         It is strongly recommended that virtual machines provide the
11103         following property keys:
11104         &lt;ul&gt;
11105           &lt;li&gt;&lt;code&gt;java.vm.vendor&lt;/code&gt;&lt;/li&gt;
11106           &lt;li&gt;&lt;code&gt;java.vm.version&lt;/code&gt;&lt;/li&gt;
11107           &lt;li&gt;&lt;code&gt;java.vm.name&lt;/code&gt;&lt;/li&gt;
11108           &lt;li&gt;&lt;code&gt;java.vm.info&lt;/code&gt;&lt;/li&gt;
11109           &lt;li&gt;&lt;code&gt;java.library.path&lt;/code&gt;&lt;/li&gt;
11110           &lt;li&gt;&lt;code&gt;java.class.path&lt;/code&gt;&lt;/li&gt;
11111         &lt;/ul&gt;
11112         Provides access to system properties defined by and used
11113         by the VM.
11114         Properties set on the command-line are included.
11115         This allows getting and setting of these properties
11116         before the VM even begins executing bytecodes.
11117         Since this is a VM view of system properties, the set of available
11118         properties will usually be different than that
11119         in &lt;code&gt;java.lang.System.getProperties&lt;/code&gt;.
11120         JNI method invocation may be used to access
11121         &lt;code&gt;java.lang.System.getProperties&lt;/code&gt;.
11122         &lt;p/&gt;
11123         The set of properties may grow during execution.
11124       &lt;/description&gt;
11125       &lt;origin&gt;new&lt;/origin&gt;
11126       &lt;capabilities&gt;
11127       &lt;/capabilities&gt;
11128       &lt;parameters&gt;
11129         &lt;param id=&quot;count_ptr&quot;&gt;
11130           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
11131           &lt;description&gt;
11132             On return, points to the number of property keys returned.
11133           &lt;/description&gt;
11134         &lt;/param&gt;
11135         &lt;param id=&quot;property_ptr&quot;&gt;
11136           &lt;allocallocbuf outcount=&quot;count_ptr&quot;&gt;&lt;char/&gt;&lt;/allocallocbuf&gt;
11137           &lt;description&gt;
11138             On return, points to an array of property keys, encoded as
11139             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; strings.
11140           &lt;/description&gt;
11141         &lt;/param&gt;
11142       &lt;/parameters&gt;
11143       &lt;errors&gt;
11144       &lt;/errors&gt;
11145     &lt;/function&gt;
11146 
11147     &lt;function id=&quot;GetSystemProperty&quot; phase=&quot;onload&quot; num=&quot;131&quot;&gt;
11148       &lt;synopsis&gt;Get System Property&lt;/synopsis&gt;
11149       &lt;description&gt;
11150         Return a VM system property value given the property key.
11151         &lt;p/&gt;
11152         The function &lt;functionlink id=&quot;GetSystemProperties&quot;/&gt;
11153         returns the set of property keys which may be used.
11154         The properties which can be retrieved may grow during
11155         execution.
11156         &lt;p/&gt;
11157         Since this is a VM view of system properties, the values
11158         of properties may differ from that returned by
11159         &lt;code&gt;java.lang.System.getProperty(String)&lt;/code&gt;.
11160         A typical VM might copy the values of the VM system
11161         properties into the &lt;code&gt;Properties&lt;/code&gt; held by
11162         &lt;code&gt;java.lang.System&lt;/code&gt; during the initialization
11163         of that class. Thereafter any changes to the VM system
11164         properties (with &lt;functionlink id=&quot;SetSystemProperty&quot;/&gt;)
11165         or the &lt;code&gt;java.lang.System&lt;/code&gt; system properties
11166         (with &lt;code&gt;java.lang.System.setProperty(String,String)&lt;/code&gt;)
11167         would cause the values to diverge.
11168         JNI method invocation may be used to access
11169         &lt;code&gt;java.lang.System.getProperty(String)&lt;/code&gt;.
11170       &lt;/description&gt;
11171       &lt;origin&gt;new&lt;/origin&gt;
11172       &lt;capabilities&gt;
11173       &lt;/capabilities&gt;
11174       &lt;parameters&gt;
11175         &lt;param id=&quot;property&quot;&gt;
11176           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
11177           &lt;description&gt;
11178             The key of the property to retrieve, encoded as a
11179             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11180           &lt;/description&gt;
11181         &lt;/param&gt;
11182         &lt;param id=&quot;value_ptr&quot;&gt;
11183           &lt;allocbuf&gt;&lt;char/&gt;&lt;/allocbuf&gt;
11184           &lt;description&gt;
11185             On return, points to the property value, encoded as a
11186             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11187           &lt;/description&gt;
11188         &lt;/param&gt;
11189       &lt;/parameters&gt;
11190       &lt;errors&gt;
11191         &lt;error id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;&gt;
11192           This property is not available.
11193           Use &lt;functionlink id=&quot;GetSystemProperties&quot;/&gt; to find available properties.
11194         &lt;/error&gt;
11195       &lt;/errors&gt;
11196     &lt;/function&gt;
11197 
11198     &lt;function id=&quot;SetSystemProperty&quot; phase=&quot;onloadOnly&quot; num=&quot;132&quot;&gt;
11199       &lt;synopsis&gt;Set System Property&lt;/synopsis&gt;
11200       &lt;description&gt;
11201         Set a VM system property value.
11202         &lt;p/&gt;
11203         The function &lt;functionlink id=&quot;GetSystemProperties&quot;/&gt;
11204         returns the set of property keys, some of these may be settable.
11205         See &lt;functionlink id=&quot;GetSystemProperty&quot;/&gt;.
11206       &lt;/description&gt;
11207       &lt;origin&gt;new&lt;/origin&gt;
11208       &lt;capabilities&gt;
11209       &lt;/capabilities&gt;
11210       &lt;parameters&gt;
11211         &lt;param id=&quot;property&quot;&gt;
11212           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
11213           &lt;description&gt;
11214             The key of the property, encoded as a
11215             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11216           &lt;/description&gt;
11217         &lt;/param&gt;
11218         &lt;param id=&quot;value_ptr&quot;&gt;
11219           &lt;inbuf&gt;
11220             &lt;char/&gt;
11221             &lt;nullok&gt;
11222               do not set the value, but return &lt;errorlink id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;/&gt;
11223               if the property is not writeable
11224             &lt;/nullok&gt;
11225           &lt;/inbuf&gt;
11226           &lt;description&gt;
11227             The property value to set, encoded as a
11228             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11229           &lt;/description&gt;
11230         &lt;/param&gt;
11231       &lt;/parameters&gt;
11232       &lt;errors&gt;
11233         &lt;error id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;&gt;
11234           This property is not available or is not writeable.
11235         &lt;/error&gt;
11236       &lt;/errors&gt;
11237     &lt;/function&gt;
11238 
11239   &lt;/category&gt;
11240 
11241   &lt;category id=&quot;general&quot; label=&quot;General&quot;&gt;
11242 
11243     &lt;intro&gt;
11244     &lt;/intro&gt;
11245 
11246     &lt;function id=&quot;GetPhase&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;133&quot;&gt;
11247       &lt;synopsis&gt;Get Phase&lt;/synopsis&gt;
11248       &lt;description&gt;
11249           Return the current phase of VM execution.
11250           The phases proceed in sequence:
11251           &lt;constants id=&quot;jvmtiPhase&quot; label=&quot;Phases of execution&quot; kind=&quot;enum&quot;&gt;
11252             &lt;constant id=&quot;JVMTI_PHASE_ONLOAD&quot; num=&quot;1&quot;&gt;
11253               &lt;code&gt;OnLoad&lt;/code&gt; phase: while in the
11254               &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad&lt;/code&gt;&lt;/internallink&gt;
11255               or, for statically linked agents, the &lt;internallink id=&quot;onload&quot;&gt;
11256               &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;
11257               &lt;/code&gt;&lt;/internallink&gt; function.
11258             &lt;/constant&gt;
11259             &lt;constant id=&quot;JVMTI_PHASE_PRIMORDIAL&quot; num=&quot;2&quot;&gt;
11260               Primordial phase: between return from &lt;code&gt;Agent_OnLoad&lt;/code&gt;
11261               or &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; and the
11262               &lt;code&gt;VMStart&lt;/code&gt; event.
11263             &lt;/constant&gt;
11264             &lt;constant id=&quot;JVMTI_PHASE_START&quot; num=&quot;6&quot;&gt;
11265               Start phase: when the &lt;eventlink id=&quot;VMStart&quot;&gt;&lt;code&gt;VMStart&lt;/code&gt;&lt;/eventlink&gt; event
11266               is sent and until the &lt;code&gt;VMInit&lt;/code&gt; event is sent.
11267             &lt;/constant&gt;
11268             &lt;constant id=&quot;JVMTI_PHASE_LIVE&quot; num=&quot;4&quot;&gt;
11269               Live phase: when the &lt;eventlink id=&quot;VMInit&quot;&gt;&lt;code&gt;VMInit&lt;/code&gt;&lt;/eventlink&gt; event is sent
11270               and until the &lt;eventlink id=&quot;VMDeath&quot;&gt;&lt;/eventlink&gt; event returns.
11271             &lt;/constant&gt;
11272             &lt;constant id=&quot;JVMTI_PHASE_DEAD&quot; num=&quot;8&quot;&gt;
11273               Dead phase: after the &lt;eventlink id=&quot;VMDeath&quot;&gt;&lt;/eventlink&gt; event returns or after
11274               start-up failure.
11275             &lt;/constant&gt;
11276           &lt;/constants&gt;
11277           In the case of start-up failure the VM will proceed directly to the dead
11278           phase skipping intermediate phases and neither a &lt;code&gt;VMInit&lt;/code&gt; nor
11279           &lt;code&gt;VMDeath&lt;/code&gt; event will be sent.
11280           &lt;p/&gt;
11281           Most &lt;jvmti/&gt; functions operate only in the live phase.
11282           The following functions operate in either the &lt;code&gt;OnLoad&lt;/code&gt; or live phases:
11283           &lt;functionphaselist phase=&quot;onload&quot;/&gt;
11284           The following functions operate in only the &lt;code&gt;OnLoad&lt;/code&gt; phase:
11285           &lt;functionphaselist phase=&quot;onloadOnly&quot;/&gt;
11286           The following functions operate in the start or live phases:
11287           &lt;functionphaselist phase=&quot;start&quot;/&gt;
11288           The following functions operate in any phase:
11289           &lt;functionphaselist phase=&quot;any&quot;/&gt;
11290           JNI functions (except the Invocation API) must only be used in the start or live phases.
11291           &lt;p/&gt;
11292           Most &lt;jvmti/&gt; events are sent only in the live phase.
11293           The following events operate in others phases:
11294           &lt;eventphaselist phase=&quot;start&quot;/&gt;
11295           &lt;eventphaselist phase=&quot;any&quot;/&gt;
11296       &lt;/description&gt;
11297       &lt;origin&gt;new&lt;/origin&gt;
11298       &lt;capabilities&gt;
11299       &lt;/capabilities&gt;
11300       &lt;parameters&gt;
11301         &lt;param id=&quot;phase_ptr&quot;&gt;
11302           &lt;outptr&gt;&lt;enum&gt;jvmtiPhase&lt;/enum&gt;&lt;/outptr&gt;
11303           &lt;description&gt;
11304             On return, points to the phase.
11305           &lt;/description&gt;
11306         &lt;/param&gt;
11307       &lt;/parameters&gt;
11308       &lt;errors&gt;
11309       &lt;/errors&gt;
11310     &lt;/function&gt;
11311 
11312     &lt;function id=&quot;DisposeEnvironment&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;127&quot;&gt;
11313       &lt;synopsis&gt;Dispose Environment&lt;/synopsis&gt;
11314       &lt;description&gt;
11315         Shutdown a &lt;jvmti/&gt; connection created with JNI &lt;code&gt;GetEnv&lt;/code&gt;
11316         (see &lt;internallink id=&quot;environments&quot;&gt;&lt;jvmti/&gt; Environments&lt;/internallink&gt;).
11317         Dispose of any resources held by the environment.
11318         &lt;issue&gt;
11319             What resources are reclaimed? What is undone?
11320             Breakpoints,watchpoints removed?
11321         &lt;/issue&gt;
11322         Threads suspended by this environment are not resumed by this call,
11323         this must be done explicitly by the agent.
11324         Memory allocated by this environment via calls to &lt;jvmti/&gt; functions
11325         is not released, this can be done explicitly by the agent
11326         by calling &lt;functionlink id=&quot;Deallocate&quot;/&gt;.
11327         Raw monitors created by this environment are not destroyed,
11328         this can be done explicitly by the agent
11329         by calling &lt;functionlink id=&quot;DestroyRawMonitor&quot;/&gt;.
11330         The state of threads waiting on raw monitors created by this environment
11331         are not affected.
11332         &lt;p/&gt;
11333         Any &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;&gt;native method
11334         prefixes&lt;/functionlink&gt; for this environment will be unset;
11335         the agent must remove any prefixed native methods before
11336         dispose is called.
11337         &lt;p/&gt;
11338         Any &lt;internallink id=&quot;capability&quot;&gt;capabilities&lt;/internallink&gt;
11339         held by this environment are relinquished.
11340         &lt;p/&gt;
11341         Events enabled by this environment will no longer be sent, however
11342         event handlers currently running will continue to run.  Caution must
11343         be exercised in the design of event handlers whose environment may
11344         be disposed and thus become invalid during their execution.
11345         &lt;p/&gt;
11346         This environment may not be used after this call.
11347         This call returns to the caller.
11348       &lt;/description&gt;
11349       &lt;origin&gt;new&lt;/origin&gt;
11350       &lt;capabilities&gt;
11351       &lt;/capabilities&gt;
11352       &lt;parameters&gt;
11353       &lt;/parameters&gt;
11354       &lt;errors&gt;
11355       &lt;/errors&gt;
11356     &lt;/function&gt;
11357 
11358     &lt;function id=&quot;SetEnvironmentLocalStorage&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;148&quot;&gt;
11359       &lt;synopsis&gt;Set Environment Local Storage&lt;/synopsis&gt;
11360       &lt;description&gt;
11361         The VM stores a pointer value associated with each environment.
11362         This pointer value is called &lt;i&gt;environment-local storage&lt;/i&gt;.
11363         This value is &lt;code&gt;NULL&lt;/code&gt; unless set with this function.
11364         Agents can allocate memory in which they store environment specific
11365         information. By setting environment-local storage it can then be
11366         accessed with
11367         &lt;functionlink id=&quot;GetEnvironmentLocalStorage&quot;&gt;&lt;/functionlink&gt;.
11368         &lt;p/&gt;
11369         Called by the agent to set the value of the &lt;jvmti/&gt;
11370         environment-local storage. &lt;jvmti/&gt; supplies to the agent a pointer-size
11371         environment-local storage that can be used to record per-environment
11372         information.
11373       &lt;/description&gt;
11374       &lt;origin&gt;new&lt;/origin&gt;
11375       &lt;capabilities&gt;
11376       &lt;/capabilities&gt;
11377       &lt;parameters&gt;
11378         &lt;param id=&quot;data&quot;&gt;
11379           &lt;inbuf&gt;
11380             &lt;void/&gt;
11381             &lt;nullok&gt;value is set to &lt;code&gt;NULL&lt;/code&gt;&lt;/nullok&gt;
11382           &lt;/inbuf&gt;
11383           &lt;description&gt;
11384             The value to be entered into the environment-local storage.
11385           &lt;/description&gt;
11386         &lt;/param&gt;
11387       &lt;/parameters&gt;
11388       &lt;errors&gt;
11389       &lt;/errors&gt;
11390     &lt;/function&gt;
11391 
11392     &lt;function id=&quot;GetEnvironmentLocalStorage&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;147&quot;&gt;
11393       &lt;synopsis&gt;Get Environment Local Storage&lt;/synopsis&gt;
11394       &lt;description&gt;
11395         Called by the agent to get the value of the &lt;jvmti/&gt; environment-local
11396         storage.
11397       &lt;/description&gt;
11398       &lt;origin&gt;new&lt;/origin&gt;
11399       &lt;capabilities&gt;
11400       &lt;/capabilities&gt;
11401       &lt;parameters&gt;
11402         &lt;param id=&quot;data_ptr&quot;&gt;
11403           &lt;agentbuf&gt;&lt;void/&gt;&lt;/agentbuf&gt;
11404           &lt;description&gt;
11405             Pointer through which the value of the environment local
11406             storage is returned.
11407             If environment-local storage has not been set with
11408             &lt;functionlink id=&quot;SetEnvironmentLocalStorage&quot;&gt;&lt;/functionlink&gt; returned
11409             pointer is &lt;code&gt;NULL&lt;/code&gt;.
11410           &lt;/description&gt;
11411         &lt;/param&gt;
11412       &lt;/parameters&gt;
11413       &lt;errors&gt;
11414       &lt;/errors&gt;
11415     &lt;/function&gt;
11416 
11417     &lt;function id=&quot;GetVersionNumber&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;88&quot;&gt;
11418       &lt;synopsis&gt;Get Version Number&lt;/synopsis&gt;
11419       &lt;description&gt;
11420         Return the &lt;jvmti/&gt; version via &lt;code&gt;version_ptr&lt;/code&gt;.
11421         The return value is the version identifier.
11422         The version identifier includes major, minor and micro
11423         version as well as the interface type.
11424         &lt;constants id=&quot;jvmtiVersionInterfaceTypes&quot; label=&quot;Version Interface Types&quot; kind=&quot;bits&quot;&gt;
11425           &lt;constant id=&quot;JVMTI_VERSION_INTERFACE_JNI&quot; num=&quot;0x00000000&quot;&gt;
11426             Value of &lt;code&gt;JVMTI_VERSION_MASK_INTERFACE_TYPE&lt;/code&gt; for JNI.
11427           &lt;/constant&gt;
11428           &lt;constant id=&quot;JVMTI_VERSION_INTERFACE_JVMTI&quot; num=&quot;0x30000000&quot;&gt;
11429             Value of &lt;code&gt;JVMTI_VERSION_MASK_INTERFACE_TYPE&lt;/code&gt; for &lt;jvmti/&gt;.
11430           &lt;/constant&gt;
11431         &lt;/constants&gt;
11432         &lt;constants id=&quot;jvmtiVersionMasks&quot; label=&quot;Version Masks&quot; kind=&quot;bits&quot;&gt;
11433           &lt;constant id=&quot;JVMTI_VERSION_MASK_INTERFACE_TYPE&quot; num=&quot;0x70000000&quot;&gt;
11434             Mask to extract interface type.
11435             The value of the version returned by this function masked with
11436             &lt;code&gt;JVMTI_VERSION_MASK_INTERFACE_TYPE&lt;/code&gt; is always
11437             &lt;code&gt;JVMTI_VERSION_INTERFACE_JVMTI&lt;/code&gt;
11438             since this is a &lt;jvmti/&gt; function.
11439           &lt;/constant&gt;
11440           &lt;constant id=&quot;JVMTI_VERSION_MASK_MAJOR&quot; num=&quot;0x0FFF0000&quot;&gt;
11441             Mask to extract major version number.
11442           &lt;/constant&gt;
11443           &lt;constant id=&quot;JVMTI_VERSION_MASK_MINOR&quot; num=&quot;0x0000FF00&quot;&gt;
11444             Mask to extract minor version number.
11445           &lt;/constant&gt;
11446           &lt;constant id=&quot;JVMTI_VERSION_MASK_MICRO&quot; num=&quot;0x000000FF&quot;&gt;
11447             Mask to extract micro version number.
11448           &lt;/constant&gt;
11449         &lt;/constants&gt;
11450         &lt;constants id=&quot;jvmtiVersionShifts&quot; label=&quot;Version Shifts&quot; kind=&quot;bits&quot;&gt;
11451           &lt;constant id=&quot;JVMTI_VERSION_SHIFT_MAJOR&quot; num=&quot;16&quot;&gt;
11452             Shift to extract major version number.
11453           &lt;/constant&gt;
11454           &lt;constant id=&quot;JVMTI_VERSION_SHIFT_MINOR&quot; num=&quot;8&quot;&gt;
11455             Shift to extract minor version number.
11456           &lt;/constant&gt;
11457           &lt;constant id=&quot;JVMTI_VERSION_SHIFT_MICRO&quot; num=&quot;0&quot;&gt;
11458             Shift to extract micro version number.
11459           &lt;/constant&gt;
11460         &lt;/constants&gt;
11461       &lt;/description&gt;
11462       &lt;origin&gt;jvmdi&lt;/origin&gt;
11463       &lt;capabilities&gt;
11464       &lt;/capabilities&gt;
11465       &lt;parameters&gt;
11466         &lt;param id=&quot;version_ptr&quot;&gt;
11467           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
11468           &lt;description&gt;
11469             On return, points to the &lt;jvmti/&gt; version.
11470           &lt;/description&gt;
11471         &lt;/param&gt;
11472       &lt;/parameters&gt;
11473       &lt;errors&gt;
11474       &lt;/errors&gt;
11475     &lt;/function&gt;
11476 
11477 
11478     &lt;function id=&quot;GetErrorName&quot; phase=&quot;any&quot; num=&quot;128&quot;&gt;
11479       &lt;synopsis&gt;Get Error Name&lt;/synopsis&gt;
11480       &lt;description&gt;
11481         Return the symbolic name for an
11482           &lt;internallink id=&quot;ErrorSection&quot;&gt;error code&lt;/internallink&gt;.
11483         &lt;p/&gt;
11484         For example
11485         &lt;code&gt;GetErrorName(env, JVMTI_ERROR_NONE, &amp;amp;err_name)&lt;/code&gt;
11486         would return in &lt;code&gt;err_name&lt;/code&gt; the string
11487         &lt;code&gt;&quot;JVMTI_ERROR_NONE&quot;&lt;/code&gt;.
11488       &lt;/description&gt;
11489       &lt;origin&gt;new&lt;/origin&gt;
11490       &lt;capabilities&gt;
11491       &lt;/capabilities&gt;
11492       &lt;parameters&gt;
11493         &lt;param id=&quot;error&quot;&gt;
11494           &lt;enum&gt;jvmtiError&lt;/enum&gt;
11495           &lt;description&gt;
11496             The error code.
11497           &lt;/description&gt;
11498         &lt;/param&gt;
11499         &lt;param id=&quot;name_ptr&quot;&gt;
11500           &lt;allocbuf&gt;&lt;char/&gt;&lt;/allocbuf&gt;
11501           &lt;description&gt;
11502             On return, points to the error name.
11503             The name is encoded as a
11504             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string,
11505             but is restricted to the ASCII subset.
11506           &lt;/description&gt;
11507         &lt;/param&gt;
11508       &lt;/parameters&gt;
11509       &lt;errors&gt;
11510       &lt;/errors&gt;
11511     &lt;/function&gt;
11512 
11513     &lt;function id=&quot;SetVerboseFlag&quot; phase=&quot;any&quot; num=&quot;150&quot;&gt;
11514       &lt;synopsis&gt;Set Verbose Flag&lt;/synopsis&gt;
11515       &lt;description&gt;
11516         &lt;constants id=&quot;jvmtiVerboseFlag&quot; label=&quot;Verbose Flag Enumeration&quot; kind=&quot;enum&quot;&gt;
11517           &lt;constant id=&quot;JVMTI_VERBOSE_OTHER&quot; num=&quot;0&quot;&gt;
11518             Verbose output other than the below.
11519           &lt;/constant&gt;
11520           &lt;constant id=&quot;JVMTI_VERBOSE_GC&quot; num=&quot;1&quot;&gt;
11521             Verbose garbage collector output, like that specified with &lt;code&gt;-verbose:gc&lt;/code&gt;.
11522           &lt;/constant&gt;
11523           &lt;constant id=&quot;JVMTI_VERBOSE_CLASS&quot; num=&quot;2&quot;&gt;
11524             Verbose class loading output, like that specified with &lt;code&gt;-verbose:class&lt;/code&gt;.
11525           &lt;/constant&gt;
11526           &lt;constant id=&quot;JVMTI_VERBOSE_JNI&quot; num=&quot;4&quot;&gt;
11527             Verbose JNI output, like that specified with &lt;code&gt;-verbose:jni&lt;/code&gt;.
11528           &lt;/constant&gt;
11529         &lt;/constants&gt;
11530         Control verbose output.
11531         This is the output which typically is sent to &lt;code&gt;stderr&lt;/code&gt;.
11532       &lt;/description&gt;
11533       &lt;origin&gt;new&lt;/origin&gt;
11534       &lt;capabilities&gt;
11535       &lt;/capabilities&gt;
11536       &lt;parameters&gt;
11537         &lt;param id=&quot;flag&quot;&gt;
11538           &lt;enum&gt;jvmtiVerboseFlag&lt;/enum&gt;
11539           &lt;description&gt;
11540             Which verbose flag to set.
11541           &lt;/description&gt;
11542         &lt;/param&gt;
11543         &lt;param id=&quot;value&quot;&gt;
11544           &lt;jboolean/&gt;
11545           &lt;description&gt;
11546             New value of the flag.
11547           &lt;/description&gt;
11548         &lt;/param&gt;
11549       &lt;/parameters&gt;
11550       &lt;errors&gt;
11551       &lt;/errors&gt;
11552     &lt;/function&gt;
11553 
11554 
11555     &lt;function id=&quot;GetJLocationFormat&quot; phase=&quot;any&quot; num=&quot;129&quot;&gt;
11556       &lt;synopsis&gt;Get JLocation Format&lt;/synopsis&gt;
11557       &lt;description&gt;
11558         Although the greatest functionality is achieved with location information
11559         referencing the virtual machine bytecode index, the definition of
11560         &lt;code&gt;jlocation&lt;/code&gt; has intentionally been left unconstrained to allow VM
11561         implementations that do not have this information.
11562         &lt;p/&gt;
11563         This function describes the representation of &lt;code&gt;jlocation&lt;/code&gt; used in this VM.
11564         If the returned format is &lt;datalink id=&quot;JVMTI_JLOCATION_JVMBCI&quot;&gt;&lt;/datalink&gt;,
11565         &lt;code&gt;jlocation&lt;/code&gt;s can
11566         be used as in indices into the array returned by
11567         &lt;functionlink id=&quot;GetBytecodes&quot;&gt;&lt;/functionlink&gt;.
11568         &lt;constants id=&quot;jvmtiJlocationFormat&quot; label=&quot;JLocation Format Enumeration&quot; kind=&quot;enum&quot;&gt;
11569           &lt;constant id=&quot;JVMTI_JLOCATION_JVMBCI&quot; num=&quot;1&quot;&gt;
11570             &lt;code&gt;jlocation&lt;/code&gt; values represent virtual machine
11571             bytecode indices--that is, offsets into the
11572             virtual machine code for a method.
11573           &lt;/constant&gt;
11574           &lt;constant id=&quot;JVMTI_JLOCATION_MACHINEPC&quot; num=&quot;2&quot;&gt;
11575             &lt;code&gt;jlocation&lt;/code&gt; values represent native machine
11576             program counter values.
11577           &lt;/constant&gt;
11578           &lt;constant id=&quot;JVMTI_JLOCATION_OTHER&quot; num=&quot;0&quot;&gt;
11579             &lt;code&gt;jlocation&lt;/code&gt; values have some other representation.
11580           &lt;/constant&gt;
11581         &lt;/constants&gt;
11582       &lt;/description&gt;
11583       &lt;origin&gt;new&lt;/origin&gt;
11584       &lt;capabilities&gt;
11585       &lt;/capabilities&gt;
11586       &lt;parameters&gt;
11587         &lt;param id=&quot;format_ptr&quot;&gt;
11588           &lt;outptr&gt;&lt;enum&gt;jvmtiJlocationFormat&lt;/enum&gt;&lt;/outptr&gt;
11589           &lt;description&gt;
11590             On return, points to the format identifier for &lt;code&gt;jlocation&lt;/code&gt; values.
11591           &lt;/description&gt;
11592         &lt;/param&gt;
11593       &lt;/parameters&gt;
11594       &lt;errors&gt;
11595       &lt;/errors&gt;
11596     &lt;/function&gt;
11597 
11598   &lt;/category&gt;
11599 
11600   &lt;category id=&quot;heap_monitoring&quot; label=&quot;Heap Monitoring&quot;&gt;
11601     &lt;function id=&quot;SetHeapSamplingInterval&quot; phase=&quot;onload&quot; num=&quot;156&quot; since=&quot;11&quot;&gt;
11602       &lt;synopsis&gt;Set Heap Sampling Interval&lt;/synopsis&gt;
11603       &lt;description&gt;
11604         Generate a &lt;eventlink id=&quot;SampledObjectAlloc&quot;/&gt; event when objects are allocated.
11605         Each thread keeps a counter of bytes allocated. The event will only be generated
11606         when that counter exceeds an average of &lt;paramlink id=&quot;sampling_interval&quot;&gt;&lt;/paramlink&gt;
11607         since the last sample.
11608         &lt;p/&gt;
11609         Setting &lt;paramlink id=&quot;sampling_interval&quot;&gt;&lt;/paramlink&gt; to 0 will cause an event to be
11610         generated by each allocation supported by the system once the new interval is taken into account.
11611         &lt;p/&gt;
11612         Note that updating the new sampling interval might take various number of allocations
11613         to provoke internal data structure updates.  Therefore it is important to
11614         consider the sampling interval as an average. This includes the interval 0, where events
11615         might not be generated straight away for each allocation.
11616       &lt;/description&gt;
11617       &lt;origin&gt;new&lt;/origin&gt;
11618       &lt;capabilities&gt;
11619         &lt;required id=&quot;can_generate_sampled_object_alloc_events&quot;&gt;&lt;/required&gt;
11620       &lt;/capabilities&gt;
11621       &lt;parameters&gt;
11622         &lt;param id=&quot;sampling_interval&quot;&gt;
11623           &lt;jint/&gt;
11624           &lt;description&gt;
11625             The sampling interval in bytes. The sampler uses a statistical approach to
11626             generate an event, on average, once for every &lt;paramlink id=&quot;sampling_interval&quot;/&gt; bytes of
11627             memory allocated by a given thread.
11628             &lt;p/&gt;
11629             Once the new sampling interval is taken into account, 0 as a sampling interval will generate
11630             a sample for every allocation.
11631             &lt;p/&gt;
11632             Note: The overhead of this feature is directly correlated with the sampling interval.
11633             A high sampling interval, such as 1024 bytes, will incur a high overhead.
11634             A lower interval, such as 1024KB, will have a much lower overhead.  Sampling should only
11635             be used with an understanding that it may impact performance.
11636           &lt;/description&gt;
11637         &lt;/param&gt;
11638       &lt;/parameters&gt;
11639       &lt;errors&gt;
11640         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
11641           &lt;paramlink id=&quot;sampling_interval&quot;&gt;&lt;/paramlink&gt; is less than zero.
11642         &lt;/error&gt;
11643       &lt;/errors&gt;
11644     &lt;/function&gt;
11645   &lt;/category&gt;
11646 
11647 &lt;/functionsection&gt;
11648 
11649 &lt;errorsection label=&quot;Error Reference&quot;&gt;
11650   &lt;intro&gt;
11651     Every &lt;jvmti/&gt; function returns a &lt;b&gt;&lt;code&gt;jvmtiError&lt;/code&gt;&lt;/b&gt; error code.
11652     &lt;p/&gt;
11653     It is the responsibility of the agent to call &lt;jvmti/&gt; functions with
11654     valid parameters and in the proper context (calling thread is attached,
11655     phase is correct, etc.).
11656     Detecting some error conditions may be difficult, inefficient, or
11657     impossible for an implementation.
11658     The errors listed in
11659     &lt;internallink id=&quot;reqerrors&quot;&gt;Function Specific Required Errors&lt;/internallink&gt;
11660     must be detected by the implementation.
11661     All other errors represent the recommended response to the error
11662     condition.
11663   &lt;/intro&gt;
11664 
11665   &lt;errorcategory id=&quot;universal-error&quot; label=&quot;Universal Errors&quot;&gt;
11666     &lt;intro&gt;
11667       The following errors may be returned by any function
11668     &lt;/intro&gt;
11669 
11670     &lt;errorid id=&quot;JVMTI_ERROR_NONE&quot; num=&quot;0&quot;&gt;
11671       No error has occurred.  This is the error code that is returned
11672       on successful completion of the function.
11673     &lt;/errorid&gt;
11674     &lt;errorid id=&quot;JVMTI_ERROR_NULL_POINTER&quot; num=&quot;100&quot;&gt;
11675       Pointer is unexpectedly &lt;code&gt;NULL&lt;/code&gt;.
11676     &lt;/errorid&gt;
11677     &lt;errorid id=&quot;JVMTI_ERROR_OUT_OF_MEMORY&quot; num=&quot;110&quot;&gt;
11678       The function attempted to allocate memory and no more memory was
11679       available for allocation.
11680     &lt;/errorid&gt;
11681     &lt;errorid id=&quot;JVMTI_ERROR_ACCESS_DENIED&quot; num=&quot;111&quot;&gt;
11682       The desired functionality has not been enabled in this virtual machine.
11683     &lt;/errorid&gt;
11684     &lt;errorid id=&quot;JVMTI_ERROR_UNATTACHED_THREAD&quot; num=&quot;115&quot;&gt;
11685       The thread being used to call this function is not attached
11686       to the virtual machine.  Calls must be made from attached threads.
11687       See &lt;code&gt;AttachCurrentThread&lt;/code&gt; in the JNI invocation API.
11688     &lt;/errorid&gt;
11689     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_ENVIRONMENT&quot; num=&quot;116&quot;&gt;
11690       The &lt;jvmti/&gt; environment provided is no longer connected or is
11691       not an environment.
11692     &lt;/errorid&gt;
11693     &lt;errorid id=&quot;JVMTI_ERROR_WRONG_PHASE&quot; num=&quot;112&quot;&gt;
11694       The desired functionality is not available in the current
11695         &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;.
11696       Always returned if the virtual machine has completed running.
11697     &lt;/errorid&gt;
11698     &lt;errorid id=&quot;JVMTI_ERROR_INTERNAL&quot; num=&quot;113&quot;&gt;
11699       An unexpected internal error has occurred.
11700     &lt;/errorid&gt;
11701   &lt;/errorcategory&gt;
11702 
11703   &lt;errorcategory id=&quot;reqerrors&quot; label=&quot;Function Specific Required Errors&quot;&gt;
11704     &lt;intro&gt;
11705       The following errors are returned by some &lt;jvmti/&gt; functions and must
11706       be returned by the implementation when the condition occurs.
11707     &lt;/intro&gt;
11708 
11709     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_PRIORITY&quot; num=&quot;12&quot;&gt;
11710       Invalid priority.
11711     &lt;/errorid&gt;
11712     &lt;errorid id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot; num=&quot;13&quot;&gt;
11713       Thread was not suspended.
11714     &lt;/errorid&gt;
11715     &lt;errorid id=&quot;JVMTI_ERROR_THREAD_SUSPENDED&quot; num=&quot;14&quot;&gt;
11716       Thread already suspended.
11717     &lt;/errorid&gt;
11718     &lt;errorid id=&quot;JVMTI_ERROR_THREAD_NOT_ALIVE&quot; num=&quot;15&quot;&gt;
11719       This operation requires the thread to be alive--that is,
11720       it must be started and not yet have died.
11721     &lt;/errorid&gt;
11722     &lt;errorid id=&quot;JVMTI_ERROR_CLASS_NOT_PREPARED&quot; num=&quot;22&quot;&gt;
11723       The class has been loaded but not yet prepared.
11724     &lt;/errorid&gt;
11725     &lt;errorid id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot; num=&quot;31&quot;&gt;
11726       There are no Java programming language or JNI stack frames at the specified depth.
11727     &lt;/errorid&gt;
11728     &lt;errorid id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot; num=&quot;32&quot;&gt;
11729       Information about the frame is not available (e.g. for native frames).
11730     &lt;/errorid&gt;
11731     &lt;errorid id=&quot;JVMTI_ERROR_DUPLICATE&quot; num=&quot;40&quot;&gt;
11732       Item already set.
11733     &lt;/errorid&gt;
11734     &lt;errorid id=&quot;JVMTI_ERROR_NOT_FOUND&quot; num=&quot;41&quot;&gt;
11735       Desired element (e.g. field or breakpoint) not found
11736     &lt;/errorid&gt;
11737     &lt;errorid id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot; num=&quot;51&quot;&gt;
11738       This thread doesn&#39;t own the raw monitor.
11739     &lt;/errorid&gt;
11740     &lt;errorid id=&quot;JVMTI_ERROR_INTERRUPT&quot; num=&quot;52&quot;&gt;
11741       The call has been interrupted before completion.
11742     &lt;/errorid&gt;
11743     &lt;errorid id=&quot;JVMTI_ERROR_UNMODIFIABLE_CLASS&quot; num=&quot;79&quot;&gt;
11744       The class cannot be modified.
11745     &lt;/errorid&gt;
11746     &lt;errorid id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot; num=&quot;80&quot;&gt;
11747       The module cannot be modified.
11748     &lt;/errorid&gt;
11749     &lt;errorid id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot; num=&quot;98&quot;&gt;
11750       The functionality is not available in this virtual machine.
11751     &lt;/errorid&gt;
11752     &lt;errorid id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot; num=&quot;101&quot;&gt;
11753       The requested information is not available.
11754     &lt;/errorid&gt;
11755     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_EVENT_TYPE&quot; num=&quot;102&quot;&gt;
11756       The specified event type ID is not recognized.
11757     &lt;/errorid&gt;
11758     &lt;errorid id=&quot;JVMTI_ERROR_NATIVE_METHOD&quot; num=&quot;104&quot;&gt;
11759       The requested information is not available for native method.
11760     &lt;/errorid&gt;
11761     &lt;errorid id=&quot;JVMTI_ERROR_CLASS_LOADER_UNSUPPORTED&quot; num=&quot;106&quot;&gt;
11762       The class loader does not support this operation.
11763     &lt;/errorid&gt;
11764   &lt;/errorcategory&gt;
11765 
11766   &lt;errorcategory id=&quot;function-specific-errors&quot; label=&quot;Function Specific Agent Errors&quot;&gt;
11767     &lt;intro&gt;
11768       The following errors are returned by some &lt;jvmti/&gt; functions.
11769       They are returned in the event of invalid parameters passed by the
11770       agent or usage in an invalid context.
11771       An implementation is not required to detect these errors.
11772     &lt;/intro&gt;
11773 
11774     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_THREAD&quot; num=&quot;10&quot;&gt;
11775       The passed thread is not a valid thread.
11776     &lt;/errorid&gt;
11777     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_FIELDID&quot; num=&quot;25&quot;&gt;
11778       Invalid field.
11779     &lt;/errorid&gt;
11780     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_MODULE&quot; num=&quot;26&quot;&gt;
11781       Invalid module.
11782     &lt;/errorid&gt;
11783     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_METHODID&quot; num=&quot;23&quot;&gt;
11784       Invalid method.
11785     &lt;/errorid&gt;
11786     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_LOCATION&quot; num=&quot;24&quot;&gt;
11787       Invalid location.
11788     &lt;/errorid&gt;
11789     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_OBJECT&quot; num=&quot;20&quot;&gt;
11790       Invalid object.
11791     &lt;/errorid&gt;
11792     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_CLASS&quot; num=&quot;21&quot;&gt;
11793       Invalid class.
11794     &lt;/errorid&gt;
11795     &lt;errorid id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot; num=&quot;34&quot;&gt;
11796       The variable is not an appropriate type for the function used.
11797     &lt;/errorid&gt;
11798     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_SLOT&quot; num=&quot;35&quot;&gt;
11799       Invalid slot.
11800     &lt;/errorid&gt;
11801     &lt;errorid id=&quot;JVMTI_ERROR_MUST_POSSESS_CAPABILITY&quot; num=&quot;99&quot;&gt;
11802       The capability being used is false in this environment.
11803     &lt;/errorid&gt;
11804     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_THREAD_GROUP&quot; num=&quot;11&quot;&gt;
11805       Thread group invalid.
11806     &lt;/errorid&gt;
11807     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_MONITOR&quot; num=&quot;50&quot;&gt;
11808       Invalid raw monitor.
11809     &lt;/errorid&gt;
11810     &lt;errorid id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot; num=&quot;103&quot;&gt;
11811       Illegal argument.
11812     &lt;/errorid&gt;
11813     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_TYPESTATE&quot; num=&quot;65&quot;&gt;
11814       The state of the thread has been modified, and is now inconsistent.
11815     &lt;/errorid&gt;
11816     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_VERSION&quot; num=&quot;68&quot;&gt;
11817       A new class file has a version number not supported by this VM.
11818     &lt;/errorid&gt;
11819     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_CLASS_FORMAT&quot; num=&quot;60&quot;&gt;
11820       A new class file is malformed (the VM would return a &lt;code&gt;ClassFormatError&lt;/code&gt;).
11821     &lt;/errorid&gt;
11822     &lt;errorid id=&quot;JVMTI_ERROR_CIRCULAR_CLASS_DEFINITION&quot; num=&quot;61&quot;&gt;
11823       The new class file definitions would lead to a circular
11824       definition (the VM would return a &lt;code&gt;ClassCircularityError&lt;/code&gt;).
11825     &lt;/errorid&gt;
11826     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_ADDED&quot; num=&quot;63&quot;&gt;
11827       A new class file would require adding a method.
11828     &lt;/errorid&gt;
11829     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_SCHEMA_CHANGED&quot; num=&quot;64&quot;&gt;
11830       A new class version changes a field.
11831     &lt;/errorid&gt;
11832     &lt;errorid id=&quot;JVMTI_ERROR_FAILS_VERIFICATION&quot; num=&quot;62&quot;&gt;
11833       The class bytes fail verification.
11834     &lt;/errorid&gt;
11835     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_HIERARCHY_CHANGED&quot; num=&quot;66&quot;&gt;
11836       A direct superclass is different for the new class
11837       version, or the set of directly implemented
11838       interfaces is different.
11839     &lt;/errorid&gt;
11840     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_DELETED&quot; num=&quot;67&quot;&gt;
11841       A new class version does not declare a method
11842       declared in the old class version.
11843     &lt;/errorid&gt;
11844     &lt;errorid id=&quot;JVMTI_ERROR_NAMES_DONT_MATCH&quot; num=&quot;69&quot;&gt;
11845       The class name defined in the new class file is
11846       different from the name in the old class object.
11847     &lt;/errorid&gt;
11848     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_MODIFIERS_CHANGED&quot; num=&quot;70&quot;&gt;
11849       A new class version has different modifiers.
11850     &lt;/errorid&gt;
11851     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_MODIFIERS_CHANGED&quot; num=&quot;71&quot;&gt;
11852       A method in the new class version has different modifiers
11853       than its counterpart in the old class version.
11854     &lt;/errorid&gt;
11855     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_ATTRIBUTE_CHANGED&quot; num=&quot;72&quot;&gt;
11856       A new class version has unsupported differences in class attributes.
11857     &lt;/errorid&gt;
11858   &lt;/errorcategory&gt;
11859 &lt;/errorsection&gt;
11860 
11861 &lt;eventsection label=&quot;Events&quot;&gt;
11862   &lt;intro label=&quot;Handling Events&quot; id=&quot;eventIntro&quot;&gt;
11863     Agents can be informed of many events that occur in application
11864     programs.
11865     &lt;p/&gt;
11866     To handle events, designate a set of callback functions with
11867     &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt;.
11868     For each event the corresponding callback function will be
11869     called.
11870     Arguments to the callback function provide additional
11871     information about the event.
11872     &lt;p/&gt;
11873     The callback function is usually called from within an application
11874     thread. The &lt;jvmti/&gt; implementation does not
11875     queue events in any way. This means
11876     that event callback functions must be written
11877     carefully. Here are some general guidelines. See
11878     the individual event descriptions for further
11879     suggestions.
11880     &lt;p/&gt;
11881     &lt;ul&gt;
11882       &lt;li&gt;Any exception thrown during the execution of an event callback can
11883         overwrite any current pending exception in the current application thread.
11884         Care must be taken to preserve a pending exception
11885         when an event callback makes a JNI call that might generate an exception.
11886       &lt;/li&gt;
11887       &lt;li&gt;Event callback functions must be re-entrant. The &lt;jvmti/&gt; implementation does
11888         not queue events. If an agent needs to process events one at a time, it
11889         can use a raw monitor inside the
11890         event callback functions to serialize event processing.
11891       &lt;/li&gt;
11892       &lt;li&gt;Event callback functions that execute JNI&#39;s FindClass function to load
11893         classes need to note that FindClass locates the class loader associated
11894         with the current native method. For the purposes of class loading, an
11895         event callback that includes a JNI environment as a parameter to the
11896         callback will treated as if it is a native call, where the native method
11897         is in the class of the event thread&#39;s current frame.
11898       &lt;/li&gt;
11899     &lt;/ul&gt;
11900     &lt;p/&gt;
11901     Some &lt;jvmti/&gt; events identify objects with JNI references.
11902     All references
11903     in &lt;jvmti/&gt; events are JNI local references and will become invalid
11904     after the event callback returns.
11905     Unless stated otherwise, memory referenced by pointers sent in event
11906     callbacks may not be referenced after the event callback returns.
11907     &lt;p/&gt;
11908     Except where stated otherwise, events are delivered on the thread
11909     that caused the event.
11910     Events are sent at the time they occur.
11911     The specification for each event includes the set of
11912     &lt;functionlink id=&quot;GetPhase&quot;&gt;phases&lt;/functionlink&gt; in which it can be sent;
11913     if an event triggering activity occurs during another phase, no event
11914     is sent.
11915     &lt;p/&gt;
11916     A thread that generates an event does not change its execution status
11917     (for example, the event does not cause the thread to be suspended).
11918     If an agent wishes the event to result in suspension, then the agent
11919     is responsible for explicitly suspending the thread with
11920     &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;.
11921     &lt;p/&gt;
11922     If an event is enabled in multiple environments, the event will be sent
11923     to each agent in the order that the environments were created.
11924   &lt;/intro&gt;
11925 
11926   &lt;intro label=&quot;Enabling Events&quot; id=&quot;enablingevents&quot;&gt;
11927     All events are initially disabled.  In order to receive any
11928     event:
11929       &lt;ul&gt;
11930         &lt;li&gt;
11931           If the event requires a capability, that capability must
11932           be added with
11933           &lt;functionlink id=&quot;AddCapabilities&quot;&gt;&lt;/functionlink&gt;.
11934         &lt;/li&gt;
11935         &lt;li&gt;
11936           A callback for the event must be set with
11937           &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt;.
11938         &lt;/li&gt;
11939         &lt;li&gt;
11940           The event must be enabled with
11941           &lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;&lt;/functionlink&gt;.
11942         &lt;/li&gt;
11943       &lt;/ul&gt;
11944   &lt;/intro&gt;
11945 
11946   &lt;intro label=&quot;Multiple Co-located Events&quot; id=&quot;eventorder&quot;&gt;
11947     In many situations it is possible for multiple events to occur
11948     at the same location in one thread. When this happens, all the events
11949     are reported through the event callbacks in the order specified in this section.
11950     &lt;p/&gt;
11951     If the current location is at the entry point of a method, the
11952     &lt;eventlink id=&quot;MethodEntry&quot;&gt;&lt;/eventlink&gt; event is reported before
11953     any other event at the current location in the same thread.
11954     &lt;p/&gt;
11955     If an exception catch has been detected at the current location,
11956     either because it is the beginning of a catch clause or a native method
11957     that cleared a pending exception has returned, the
11958     &lt;code&gt;exceptionCatch&lt;/code&gt; event is reported before
11959     any other event at the current location in the same thread.
11960     &lt;p/&gt;
11961     If a &lt;code&gt;singleStep&lt;/code&gt; event or
11962     &lt;code&gt;breakpoint&lt;/code&gt; event is triggered at the
11963     current location, the event is defined to occur
11964     immediately before the code at the current location is executed.
11965     These events are reported before any events which are triggered
11966     by the execution of code at the current location in the same
11967     thread (specifically:
11968     &lt;code&gt;exception&lt;/code&gt;,
11969     &lt;code&gt;fieldAccess&lt;/code&gt;, and
11970     &lt;code&gt;fieldModification&lt;/code&gt;).
11971     If both a step and breakpoint event are triggered for the same thread and
11972     location, the step event is reported before the breakpoint event.
11973     &lt;p/&gt;
11974     If the current location is the exit point of a method (that is, the last
11975     location before returning to the caller), the
11976     &lt;eventlink id=&quot;MethodExit&quot;&gt;&lt;/eventlink&gt; event and
11977     the &lt;eventlink id=&quot;FramePop&quot;&gt;&lt;/eventlink&gt; event (if requested)
11978     are reported after all other events at the current location in the same
11979     thread. There is no specified ordering of these two events
11980     with respect to each other.
11981     &lt;p/&gt;
11982     Co-located events can be triggered during the processing of some other
11983     event by the agent at the same location in the same thread.
11984     If such an event, of type &lt;i&gt;y&lt;/i&gt;, is triggered during the processing of
11985     an event of type &lt;i&gt;x&lt;/i&gt;, and if &lt;i&gt;x&lt;/i&gt;
11986     precedes &lt;i&gt;y&lt;/i&gt; in the ordering specified above, the co-located event
11987     &lt;i&gt;y&lt;/i&gt; is reported for the current thread and location. If &lt;i&gt;x&lt;/i&gt; does not precede
11988     &lt;i&gt;y&lt;/i&gt;, &lt;i&gt;y&lt;/i&gt; is not reported for the current thread and location.
11989     For example, if a breakpoint is set at the current location
11990     during the processing of &lt;eventlink id=&quot;SingleStep&quot;&gt;&lt;/eventlink&gt;,
11991     that breakpoint will be reported before the thread moves off the current
11992     location.
11993     &lt;p/&gt;The following events are never considered to be co-located with
11994     other events.
11995     &lt;ul&gt;
11996       &lt;li&gt;&lt;eventlink id=&quot;VMStart&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
11997       &lt;li&gt;&lt;eventlink id=&quot;VMInit&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
11998       &lt;li&gt;&lt;eventlink id=&quot;VMDeath&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
11999       &lt;li&gt;&lt;eventlink id=&quot;ThreadStart&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
12000       &lt;li&gt;&lt;eventlink id=&quot;ThreadEnd&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
12001       &lt;li&gt;&lt;eventlink id=&quot;ClassLoad&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
12002       &lt;li&gt;&lt;eventlink id=&quot;ClassPrepare&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
12003     &lt;/ul&gt;
12004   &lt;/intro&gt;
12005 
12006   &lt;intro label=&quot;Event Callbacks&quot; id=&quot;jvmtiEventCallbacks&quot;&gt;
12007       The event callback structure below is used to specify the handler function
12008       for events.  It is set with the
12009       &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt; function.
12010   &lt;/intro&gt;
12011 
12012   &lt;event label=&quot;Single Step&quot;
12013          id=&quot;SingleStep&quot; const=&quot;JVMTI_EVENT_SINGLE_STEP&quot; filtered=&quot;thread&quot; num=&quot;60&quot;&gt;
12014     &lt;description&gt;
12015       Single step events allow the agent to trace thread execution
12016       at the finest granularity allowed by the VM. A single step event is
12017       generated whenever a thread reaches a new location.
12018       Typically, single step events represent the completion of one VM
12019       instruction as defined in &lt;vmspec/&gt;. However, some implementations
12020       may define locations differently. In any case the
12021       &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12022       parameters  uniquely identify the current location and allow
12023       the mapping to source file and line number when that information is
12024       available.
12025       &lt;p/&gt;
12026       No single step events are generated from within native methods.
12027     &lt;/description&gt;
12028     &lt;origin&gt;jvmdi&lt;/origin&gt;
12029     &lt;capabilities&gt;
12030       &lt;required id=&quot;can_generate_single_step_events&quot;&gt;&lt;/required&gt;
12031     &lt;/capabilities&gt;
12032     &lt;parameters&gt;
12033       &lt;param id=&quot;jni_env&quot;&gt;
12034         &lt;outptr&gt;
12035           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12036         &lt;/outptr&gt;
12037           &lt;description&gt;
12038             The JNI environment of the event (current) thread
12039           &lt;/description&gt;
12040       &lt;/param&gt;
12041       &lt;param id=&quot;thread&quot;&gt;
12042         &lt;jthread/&gt;
12043           &lt;description&gt;
12044             Thread about to execution a new instruction
12045           &lt;/description&gt;
12046       &lt;/param&gt;
12047       &lt;param id=&quot;klass&quot;&gt;
12048         &lt;jclass method=&quot;method&quot;/&gt;
12049           &lt;description&gt;
12050             Class of the method about to execute a new instruction
12051           &lt;/description&gt;
12052       &lt;/param&gt;
12053       &lt;param id=&quot;method&quot;&gt;
12054         &lt;jmethodID class=&quot;klass&quot;/&gt;
12055           &lt;description&gt;
12056             Method about to execute a new instruction
12057           &lt;/description&gt;
12058       &lt;/param&gt;
12059       &lt;param id=&quot;location&quot;&gt;
12060         &lt;jlocation/&gt;
12061         &lt;description&gt;
12062           Location of the new instruction
12063         &lt;/description&gt;
12064       &lt;/param&gt;
12065     &lt;/parameters&gt;
12066   &lt;/event&gt;
12067 
12068   &lt;event label=&quot;Breakpoint&quot;
12069          id=&quot;Breakpoint&quot; const=&quot;JVMTI_EVENT_BREAKPOINT&quot; filtered=&quot;thread&quot; num=&quot;62&quot;&gt;
12070     &lt;description&gt;
12071       Breakpoint events are generated whenever a thread reaches a location
12072       designated as a breakpoint with &lt;functionlink id=&quot;SetBreakpoint&quot;&gt;&lt;/functionlink&gt;.
12073       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12074       parameters uniquely identify the current location and allow
12075       the mapping to source file and line number when that information is
12076       available.
12077     &lt;/description&gt;
12078     &lt;origin&gt;jvmdi&lt;/origin&gt;
12079     &lt;capabilities&gt;
12080       &lt;required id=&quot;can_generate_breakpoint_events&quot;&gt;&lt;/required&gt;
12081     &lt;/capabilities&gt;
12082     &lt;parameters&gt;
12083       &lt;param id=&quot;jni_env&quot;&gt;
12084         &lt;outptr&gt;
12085           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12086         &lt;/outptr&gt;
12087           &lt;description&gt;
12088             The JNI environment of the event (current) thread.
12089           &lt;/description&gt;
12090       &lt;/param&gt;
12091       &lt;param id=&quot;thread&quot;&gt;
12092         &lt;jthread/&gt;
12093           &lt;description&gt;
12094             Thread that hit the breakpoint
12095           &lt;/description&gt;
12096       &lt;/param&gt;
12097       &lt;param id=&quot;klass&quot;&gt;
12098         &lt;jclass method=&quot;method&quot;/&gt;
12099           &lt;description&gt;
12100             Class of the method that hit the breakpoint
12101           &lt;/description&gt;
12102       &lt;/param&gt;
12103       &lt;param id=&quot;method&quot;&gt;
12104         &lt;jmethodID class=&quot;klass&quot;/&gt;
12105           &lt;description&gt;
12106             Method that hit the breakpoint
12107           &lt;/description&gt;
12108       &lt;/param&gt;
12109       &lt;param id=&quot;location&quot;&gt;
12110         &lt;jlocation/&gt;
12111         &lt;description&gt;
12112           location of the breakpoint
12113         &lt;/description&gt;
12114       &lt;/param&gt;
12115     &lt;/parameters&gt;
12116   &lt;/event&gt;
12117 
12118   &lt;event label=&quot;Field Access&quot;
12119          id=&quot;FieldAccess&quot; const=&quot;JVMTI_EVENT_FIELD_ACCESS&quot; filtered=&quot;thread&quot; num=&quot;63&quot;&gt;
12120     &lt;description&gt;
12121       Field access events are generated whenever a thread accesses
12122       a field that was designated as a watchpoint
12123       with &lt;functionlink id=&quot;SetFieldAccessWatch&quot;&gt;&lt;/functionlink&gt;.
12124       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12125       parameters uniquely identify the current location and allow
12126       the mapping to source file and line number when that information is
12127       available.
12128     &lt;/description&gt;
12129     &lt;origin&gt;jvmdi&lt;/origin&gt;
12130     &lt;capabilities&gt;
12131       &lt;required id=&quot;can_generate_field_access_events&quot;&gt;&lt;/required&gt;
12132     &lt;/capabilities&gt;
12133     &lt;parameters&gt;
12134       &lt;param id=&quot;jni_env&quot;&gt;
12135         &lt;outptr&gt;
12136           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12137         &lt;/outptr&gt;
12138           &lt;description&gt;
12139             The JNI environment of the event (current) thread
12140           &lt;/description&gt;
12141       &lt;/param&gt;
12142       &lt;param id=&quot;thread&quot;&gt;
12143         &lt;jthread/&gt;
12144           &lt;description&gt;
12145             Thread accessing the field
12146           &lt;/description&gt;
12147       &lt;/param&gt;
12148       &lt;param id=&quot;klass&quot;&gt;
12149         &lt;jclass method=&quot;method&quot;/&gt;
12150           &lt;description&gt;
12151             Class of the method where the access is occurring
12152           &lt;/description&gt;
12153       &lt;/param&gt;
12154       &lt;param id=&quot;method&quot;&gt;
12155         &lt;jmethodID class=&quot;klass&quot;/&gt;
12156           &lt;description&gt;
12157             Method where the access is occurring
12158           &lt;/description&gt;
12159       &lt;/param&gt;
12160       &lt;param id=&quot;location&quot;&gt;
12161         &lt;jlocation/&gt;
12162         &lt;description&gt;
12163           Location where the access is occurring
12164         &lt;/description&gt;
12165       &lt;/param&gt;
12166       &lt;param id=&quot;field_klass&quot;&gt;
12167         &lt;jclass field=&quot;field&quot;/&gt;
12168           &lt;description&gt;
12169             Class of the field being accessed
12170           &lt;/description&gt;
12171       &lt;/param&gt;
12172       &lt;param id=&quot;object&quot;&gt;
12173         &lt;jobject/&gt;
12174           &lt;description&gt;
12175             Object with the field being accessed if the field is an
12176             instance field; &lt;code&gt;NULL&lt;/code&gt; otherwise
12177           &lt;/description&gt;
12178       &lt;/param&gt;
12179       &lt;param id=&quot;field&quot;&gt;
12180         &lt;jfieldID class=&quot;field_klass&quot;/&gt;
12181           &lt;description&gt;
12182             Field being accessed
12183           &lt;/description&gt;
12184       &lt;/param&gt;
12185     &lt;/parameters&gt;
12186   &lt;/event&gt;
12187 
12188   &lt;event label=&quot;Field Modification&quot;
12189          id=&quot;FieldModification&quot; const=&quot;JVMTI_EVENT_FIELD_MODIFICATION&quot; filtered=&quot;thread&quot; num=&quot;64&quot;&gt;
12190     &lt;description&gt;
12191       Field modification events are generated whenever a thread modifies
12192       a field that was designated as a watchpoint
12193       with &lt;functionlink id=&quot;SetFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;.
12194       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12195       parameters uniquely identify the current location and allow
12196       the mapping to source file and line number when that information is
12197       available.
12198     &lt;/description&gt;
12199     &lt;origin&gt;jvmdi&lt;/origin&gt;
12200     &lt;capabilities&gt;
12201       &lt;required id=&quot;can_generate_field_modification_events&quot;&gt;&lt;/required&gt;
12202     &lt;/capabilities&gt;
12203     &lt;parameters&gt;
12204       &lt;param id=&quot;jni_env&quot;&gt;
12205         &lt;outptr&gt;
12206           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12207         &lt;/outptr&gt;
12208           &lt;description&gt;
12209             The JNI environment of the event (current) thread
12210           &lt;/description&gt;
12211       &lt;/param&gt;
12212       &lt;param id=&quot;thread&quot;&gt;
12213         &lt;jthread/&gt;
12214           &lt;description&gt;
12215             Thread modifying the field
12216           &lt;/description&gt;
12217       &lt;/param&gt;
12218       &lt;param id=&quot;klass&quot;&gt;
12219         &lt;jclass method=&quot;method&quot;/&gt;
12220           &lt;description&gt;
12221             Class of the method where the modification is occurring
12222           &lt;/description&gt;
12223       &lt;/param&gt;
12224       &lt;param id=&quot;method&quot;&gt;
12225         &lt;jmethodID class=&quot;klass&quot;/&gt;
12226           &lt;description&gt;
12227             Method where the modification is occurring
12228           &lt;/description&gt;
12229       &lt;/param&gt;
12230       &lt;param id=&quot;location&quot;&gt;
12231         &lt;jlocation/&gt;
12232         &lt;description&gt;
12233           Location where the modification is occurring
12234         &lt;/description&gt;
12235       &lt;/param&gt;
12236       &lt;param id=&quot;field_klass&quot;&gt;
12237         &lt;jclass field=&quot;field&quot;/&gt;
12238           &lt;description&gt;
12239             Class of the field being modified
12240           &lt;/description&gt;
12241       &lt;/param&gt;
12242       &lt;param id=&quot;object&quot;&gt;
12243         &lt;jobject/&gt;
12244           &lt;description&gt;
12245             Object with the field being modified if the field is an
12246             instance field; &lt;code&gt;NULL&lt;/code&gt; otherwise
12247           &lt;/description&gt;
12248       &lt;/param&gt;
12249       &lt;param id=&quot;field&quot;&gt;
12250         &lt;jfieldID class=&quot;field_klass&quot;/&gt;
12251           &lt;description&gt;
12252             Field being modified
12253           &lt;/description&gt;
12254       &lt;/param&gt;
12255       &lt;param id=&quot;signature_type&quot;&gt;
12256         &lt;char/&gt;
12257         &lt;description&gt;
12258           Signature type of the new value
12259         &lt;/description&gt;
12260       &lt;/param&gt;
12261       &lt;param id=&quot;new_value&quot;&gt;
12262         &lt;jvalue/&gt;
12263         &lt;description&gt;
12264           The new value
12265         &lt;/description&gt;
12266       &lt;/param&gt;
12267     &lt;/parameters&gt;
12268   &lt;/event&gt;
12269 
12270   &lt;event label=&quot;Frame Pop&quot;
12271          id=&quot;FramePop&quot; const=&quot;JVMTI_EVENT_FRAME_POP&quot; filtered=&quot;thread&quot; num=&quot;61&quot;&gt;
12272     &lt;description&gt;
12273       Frame pop events are generated upon exit from a single method
12274       in a single frame as specified
12275       in a call to &lt;functionlink id=&quot;NotifyFramePop&quot;&gt;&lt;/functionlink&gt;.
12276       This is true whether termination is caused by
12277       executing its return instruction
12278       or by throwing an exception to its caller
12279       (see &lt;paramlink id=&quot;was_popped_by_exception&quot;&gt;&lt;/paramlink&gt;).
12280       However, frame pops caused by the &lt;functionlink id=&quot;PopFrame&quot;/&gt;
12281       function are not reported.
12282       &lt;p/&gt;
12283       The location reported by &lt;functionlink id=&quot;GetFrameLocation&quot;&gt;&lt;/functionlink&gt;
12284       identifies the executable location in the returning method,
12285       immediately prior to the return.
12286     &lt;/description&gt;
12287     &lt;origin&gt;jvmdi&lt;/origin&gt;
12288     &lt;capabilities&gt;
12289       &lt;required id=&quot;can_generate_frame_pop_events&quot;&gt;&lt;/required&gt;
12290     &lt;/capabilities&gt;
12291     &lt;parameters&gt;
12292       &lt;param id=&quot;jni_env&quot;&gt;
12293         &lt;outptr&gt;
12294           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12295         &lt;/outptr&gt;
12296           &lt;description&gt;
12297             The JNI environment of the event (current) thread
12298           &lt;/description&gt;
12299       &lt;/param&gt;
12300       &lt;param id=&quot;thread&quot;&gt;
12301         &lt;jthread/&gt;
12302           &lt;description&gt;
12303             Thread that is popping the frame
12304           &lt;/description&gt;
12305       &lt;/param&gt;
12306       &lt;param id=&quot;klass&quot;&gt;
12307         &lt;jclass method=&quot;method&quot;/&gt;
12308           &lt;description&gt;
12309             Class of the method being popped
12310           &lt;/description&gt;
12311       &lt;/param&gt;
12312       &lt;param id=&quot;method&quot;&gt;
12313         &lt;jmethodID class=&quot;klass&quot;/&gt;
12314           &lt;description&gt;
12315             Method being popped
12316           &lt;/description&gt;
12317       &lt;/param&gt;
12318       &lt;param id=&quot;was_popped_by_exception&quot;&gt;
12319         &lt;jboolean/&gt;
12320         &lt;description&gt;
12321           True if frame was popped by a thrown exception.
12322           False if method exited through its return instruction.
12323         &lt;/description&gt;
12324       &lt;/param&gt;
12325     &lt;/parameters&gt;
12326   &lt;/event&gt;
12327 
12328   &lt;event label=&quot;Method Entry&quot;
12329          id=&quot;MethodEntry&quot; const=&quot;JVMTI_EVENT_METHOD_ENTRY&quot; filtered=&quot;thread&quot; num=&quot;65&quot;&gt;
12330     &lt;description&gt;
12331       Method entry events are generated upon entry of Java
12332       programming language methods (including native methods).
12333       &lt;p/&gt;
12334       The location reported by &lt;functionlink id=&quot;GetFrameLocation&quot;&gt;&lt;/functionlink&gt;
12335       identifies the initial executable location in
12336       the method.
12337       &lt;p/&gt;
12338       Enabling method
12339       entry or exit events will significantly degrade performance on many platforms and is thus
12340       not advised for performance critical usage (such as profiling).
12341       &lt;internallink id=&quot;bci&quot;&gt;Bytecode instrumentation&lt;/internallink&gt; should be
12342       used in these cases.
12343     &lt;/description&gt;
12344     &lt;origin&gt;jvmdi&lt;/origin&gt;
12345     &lt;capabilities&gt;
12346       &lt;required id=&quot;can_generate_method_entry_events&quot;&gt;&lt;/required&gt;
12347     &lt;/capabilities&gt;
12348     &lt;parameters&gt;
12349       &lt;param id=&quot;jni_env&quot;&gt;
12350         &lt;outptr&gt;
12351           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12352         &lt;/outptr&gt;
12353           &lt;description&gt;
12354             The JNI environment of the event (current) thread
12355           &lt;/description&gt;
12356       &lt;/param&gt;
12357       &lt;param id=&quot;thread&quot;&gt;
12358         &lt;jthread/&gt;
12359           &lt;description&gt;
12360             Thread entering the method
12361           &lt;/description&gt;
12362       &lt;/param&gt;
12363       &lt;param id=&quot;klass&quot;&gt;
12364         &lt;jclass method=&quot;method&quot;/&gt;
12365           &lt;description&gt;
12366             Class of the method being entered
12367           &lt;/description&gt;
12368       &lt;/param&gt;
12369       &lt;param id=&quot;method&quot;&gt;
12370         &lt;jmethodID class=&quot;klass&quot;/&gt;
12371           &lt;description&gt;
12372             Method being entered
12373           &lt;/description&gt;
12374       &lt;/param&gt;
12375     &lt;/parameters&gt;
12376   &lt;/event&gt;
12377 
12378   &lt;event label=&quot;Method Exit&quot;
12379          id=&quot;MethodExit&quot; const=&quot;JVMTI_EVENT_METHOD_EXIT&quot; filtered=&quot;thread&quot; num=&quot;66&quot;&gt;
12380     &lt;description&gt;
12381       Method exit events are generated upon exit from Java
12382       programming language methods (including native methods).
12383       This is true whether termination is caused by
12384       executing its return instruction
12385       or by throwing an exception to its caller
12386       (see &lt;paramlink id=&quot;was_popped_by_exception&quot;&gt;&lt;/paramlink&gt;).
12387       &lt;p/&gt;
12388       The &lt;code&gt;method&lt;/code&gt; field uniquely identifies the
12389       method being entered or exited. The &lt;code&gt;frame&lt;/code&gt; field provides
12390       access to the stack frame for the method.
12391       &lt;p/&gt;
12392       The location reported by &lt;functionlink id=&quot;GetFrameLocation&quot;&gt;&lt;/functionlink&gt;
12393       identifies the executable location in the returning method
12394       immediately prior to the return.
12395       &lt;p/&gt;
12396         Enabling method
12397         entry or exit events will significantly degrade performance on many platforms and is thus
12398         not advised for performance critical usage (such as profiling).
12399         &lt;internallink id=&quot;bci&quot;&gt;Bytecode instrumentation&lt;/internallink&gt; should be
12400         used in these cases.
12401     &lt;/description&gt;
12402     &lt;origin&gt;jvmdi&lt;/origin&gt;
12403     &lt;capabilities&gt;
12404       &lt;required id=&quot;can_generate_method_exit_events&quot;&gt;&lt;/required&gt;
12405     &lt;/capabilities&gt;
12406     &lt;parameters&gt;
12407       &lt;param id=&quot;jni_env&quot;&gt;
12408         &lt;outptr&gt;
12409           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12410         &lt;/outptr&gt;
12411           &lt;description&gt;
12412             The JNI environment of the event (current) thread
12413           &lt;/description&gt;
12414       &lt;/param&gt;
12415       &lt;param id=&quot;thread&quot;&gt;
12416         &lt;jthread/&gt;
12417           &lt;description&gt;
12418             Thread exiting the method
12419           &lt;/description&gt;
12420       &lt;/param&gt;
12421       &lt;param id=&quot;klass&quot;&gt;
12422         &lt;jclass method=&quot;method&quot;/&gt;
12423           &lt;description&gt;
12424             Class of the method being exited
12425           &lt;/description&gt;
12426       &lt;/param&gt;
12427       &lt;param id=&quot;method&quot;&gt;
12428         &lt;jmethodID class=&quot;klass&quot;/&gt;
12429           &lt;description&gt;
12430             Method being exited
12431           &lt;/description&gt;
12432       &lt;/param&gt;
12433       &lt;param id=&quot;was_popped_by_exception&quot;&gt;
12434         &lt;jboolean/&gt;
12435         &lt;description&gt;
12436           True if frame was popped by a thrown exception.
12437           False if method exited through its return instruction.
12438         &lt;/description&gt;
12439       &lt;/param&gt;
12440       &lt;param id=&quot;return_value&quot;&gt;
12441         &lt;jvalue/&gt;
12442         &lt;description&gt;
12443           The return value of the method being exited.
12444           Undefined and should not be used if
12445           &lt;paramlink id=&quot;was_popped_by_exception&quot;&gt;&lt;/paramlink&gt;
12446           is true.
12447         &lt;/description&gt;
12448       &lt;/param&gt;
12449     &lt;/parameters&gt;
12450   &lt;/event&gt;
12451 
12452   &lt;event label=&quot;Native Method Bind&quot; phase=&quot;any&quot;
12453          id=&quot;NativeMethodBind&quot; const=&quot;JVMTI_EVENT_NATIVE_METHOD_BIND&quot; num=&quot;67&quot;&gt;
12454     &lt;description&gt;
12455       A Native Method Bind event is sent when a VM binds a
12456       Java programming language native method
12457       to the address of a function that implements the native method.
12458       This will occur when the native method is called for the first time
12459       and also occurs when the JNI function &lt;code&gt;RegisterNatives&lt;/code&gt; is called.
12460       This event allows the bind to be redirected to an agent-specified
12461       proxy function.
12462       This event is not sent when the native method is unbound.
12463       Typically, this proxy function will need to be specific to a
12464       particular method or, to handle the general case, automatically
12465       generated assembly code, since after instrumentation code is
12466       executed the function at the original binding
12467       address will usually be invoked.
12468       The original binding can be restored or the redirection changed
12469       by use of the JNI function &lt;code&gt;RegisterNatives&lt;/code&gt;.
12470       Some events may be sent during the primordial phase, JNI and
12471       most of &lt;jvmti/&gt; cannot be used at this time but the method and
12472       address can be saved for use later.
12473     &lt;/description&gt;
12474     &lt;origin&gt;new&lt;/origin&gt;
12475     &lt;capabilities&gt;
12476       &lt;required id=&quot;can_generate_native_method_bind_events&quot;&gt;&lt;/required&gt;
12477     &lt;/capabilities&gt;
12478     &lt;parameters&gt;
12479       &lt;param id=&quot;jni_env&quot;&gt;
12480         &lt;outptr&gt;
12481           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12482         &lt;/outptr&gt;
12483           &lt;description&gt;
12484             The JNI environment of the event (current) thread
12485             Will be &lt;code&gt;NULL&lt;/code&gt; if sent during the primordial
12486             &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;.
12487           &lt;/description&gt;
12488       &lt;/param&gt;
12489       &lt;param id=&quot;thread&quot;&gt;
12490         &lt;jthread/&gt;
12491           &lt;description&gt;
12492             Thread requesting the bind
12493           &lt;/description&gt;
12494       &lt;/param&gt;
12495       &lt;param id=&quot;klass&quot;&gt;
12496         &lt;jclass method=&quot;method&quot;/&gt;
12497           &lt;description&gt;
12498             Class of the method being bound
12499           &lt;/description&gt;
12500       &lt;/param&gt;
12501       &lt;param id=&quot;method&quot;&gt;
12502         &lt;jmethodID class=&quot;klass&quot;/&gt;
12503           &lt;description&gt;
12504             Native method being bound
12505           &lt;/description&gt;
12506       &lt;/param&gt;
12507       &lt;param id=&quot;address&quot;&gt;
12508         &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
12509         &lt;description&gt;
12510           The address the VM is about to bind to--that is, the
12511           address of the implementation of the native method
12512         &lt;/description&gt;
12513       &lt;/param&gt;
12514       &lt;param id=&quot;new_address_ptr&quot;&gt;
12515         &lt;agentbuf&gt;&lt;void/&gt;&lt;/agentbuf&gt;
12516         &lt;description&gt;
12517           if the referenced address is changed (that is, if
12518           &lt;code&gt;*new_address_ptr&lt;/code&gt; is set), the binding
12519           will instead be made to the supplied address.
12520         &lt;/description&gt;
12521       &lt;/param&gt;
12522     &lt;/parameters&gt;
12523   &lt;/event&gt;
12524 
12525   &lt;event label=&quot;Exception&quot;
12526          id=&quot;Exception&quot; const=&quot;JVMTI_EVENT_EXCEPTION&quot; filtered=&quot;thread&quot; num=&quot;58&quot;&gt;
12527     &lt;description&gt;
12528       Exception events are generated whenever an exception is first detected
12529       in a Java programming language method.
12530       Where &quot;exception&quot; means any &lt;code&gt;java.lang.Throwable&lt;/code&gt;.
12531       The exception may have been thrown by a Java programming language or native
12532       method, but in the case of native methods, the event is not generated
12533       until the exception is first seen by a Java programming language method. If an exception is
12534       set and cleared in a native method (and thus is never visible to Java programming language code),
12535       no exception event is generated.
12536       &lt;p/&gt;
12537       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12538       parameters  uniquely identify the current location
12539       (where the exception was detected) and allow
12540       the mapping to source file and line number when that information is
12541       available. The &lt;code&gt;exception&lt;/code&gt; field identifies the thrown
12542       exception object. The &lt;code&gt;catch_method&lt;/code&gt;
12543       and &lt;code&gt;catch_location&lt;/code&gt; identify the location of the catch clause,
12544       if any, that handles the thrown exception. If there is no such catch clause,
12545       each field is set to 0. There is no guarantee that the thread will ever
12546       reach this catch clause. If there are native methods on the call stack
12547       between the throw location and the catch clause, the exception may
12548       be reset by one of those native methods.
12549       Similarly, exceptions that are reported as uncaught (&lt;code&gt;catch_klass&lt;/code&gt;
12550       et al. set to 0) may in fact be caught by native code.
12551       Agents can check for these occurrences by monitoring
12552       &lt;eventlink id=&quot;ExceptionCatch&quot;&gt;&lt;/eventlink&gt; events.
12553       Note that finally clauses are implemented as catch and re-throw. Therefore they
12554       will be reported in the catch location.
12555     &lt;/description&gt;
12556     &lt;origin&gt;jvmdi&lt;/origin&gt;
12557     &lt;capabilities&gt;
12558       &lt;required id=&quot;can_generate_exception_events&quot;&gt;&lt;/required&gt;
12559     &lt;/capabilities&gt;
12560     &lt;parameters&gt;
12561       &lt;param id=&quot;jni_env&quot;&gt;
12562         &lt;outptr&gt;
12563           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12564         &lt;/outptr&gt;
12565           &lt;description&gt;
12566             The JNI environment of the event (current) thread
12567           &lt;/description&gt;
12568       &lt;/param&gt;
12569       &lt;param id=&quot;thread&quot;&gt;
12570         &lt;jthread/&gt;
12571           &lt;description&gt;
12572             Thread generating the exception
12573           &lt;/description&gt;
12574       &lt;/param&gt;
12575       &lt;param id=&quot;klass&quot;&gt;
12576         &lt;jclass method=&quot;method&quot;/&gt;
12577           &lt;description&gt;
12578             Class generating the exception
12579           &lt;/description&gt;
12580       &lt;/param&gt;
12581       &lt;param id=&quot;method&quot;&gt;
12582         &lt;jmethodID class=&quot;klass&quot;/&gt;
12583           &lt;description&gt;
12584             Method generating the exception
12585           &lt;/description&gt;
12586       &lt;/param&gt;
12587       &lt;param id=&quot;location&quot;&gt;
12588         &lt;jlocation/&gt;
12589         &lt;description&gt;
12590           Location where exception occurred
12591         &lt;/description&gt;
12592       &lt;/param&gt;
12593       &lt;param id=&quot;exception&quot;&gt;
12594         &lt;jobject/&gt;
12595           &lt;description&gt;
12596             The exception being thrown
12597           &lt;/description&gt;
12598       &lt;/param&gt;
12599       &lt;param id=&quot;catch_klass&quot;&gt;
12600         &lt;jclass method=&quot;catch_method&quot;/&gt;
12601           &lt;description&gt;
12602             Class that will catch the exception, or &lt;code&gt;NULL&lt;/code&gt; if no known catch
12603           &lt;/description&gt;
12604       &lt;/param&gt;
12605       &lt;param id=&quot;catch_method&quot;&gt;
12606         &lt;jmethodID class=&quot;catch_klass&quot;/&gt;
12607           &lt;description&gt;
12608             Method that will catch the exception, or &lt;code&gt;NULL&lt;/code&gt; if no known catch
12609           &lt;/description&gt;
12610       &lt;/param&gt;
12611       &lt;param id=&quot;catch_location&quot;&gt;
12612         &lt;jlocation/&gt;
12613         &lt;description&gt;
12614           location which will catch the exception or zero if no known catch
12615         &lt;/description&gt;
12616       &lt;/param&gt;
12617     &lt;/parameters&gt;
12618   &lt;/event&gt;
12619 
12620   &lt;event label=&quot;Exception Catch&quot;
12621          id=&quot;ExceptionCatch&quot; const=&quot;JVMTI_EVENT_EXCEPTION_CATCH&quot; filtered=&quot;thread&quot; num=&quot;59&quot;&gt;
12622     &lt;description&gt;
12623       Exception catch events are generated whenever a thrown exception is caught.
12624       Where &quot;exception&quot; means any &lt;code&gt;java.lang.Throwable&lt;/code&gt;.
12625       If the exception is caught in a Java programming language method, the event is generated
12626       when the catch clause is reached. If the exception is caught in a native
12627       method, the event is generated as soon as control is returned to a Java programming language
12628       method. Exception catch events are generated for any exception for which
12629       a throw was detected in a Java programming language method.
12630       Note that finally clauses are implemented as catch and re-throw. Therefore they
12631       will generate exception catch events.
12632       &lt;p/&gt;
12633       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12634       parameters uniquely identify the current location
12635       and allow the mapping to source file and line number when that information is
12636       available. For exceptions caught in a Java programming language method, the
12637       &lt;code&gt;exception&lt;/code&gt; object identifies the exception object. Exceptions
12638       caught in native methods are not necessarily available by the time the
12639       exception catch is reported, so the &lt;code&gt;exception&lt;/code&gt; field is set
12640       to &lt;code&gt;NULL&lt;/code&gt;.
12641     &lt;/description&gt;
12642     &lt;origin&gt;jvmdi&lt;/origin&gt;
12643     &lt;capabilities&gt;
12644       &lt;required id=&quot;can_generate_exception_events&quot;&gt;&lt;/required&gt;
12645     &lt;/capabilities&gt;
12646     &lt;parameters&gt;
12647       &lt;param id=&quot;jni_env&quot;&gt;
12648         &lt;outptr&gt;
12649           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12650         &lt;/outptr&gt;
12651           &lt;description&gt;
12652             The JNI environment of the event (current) thread
12653           &lt;/description&gt;
12654       &lt;/param&gt;
12655       &lt;param id=&quot;thread&quot;&gt;
12656         &lt;jthread/&gt;
12657           &lt;description&gt;
12658             Thread catching the exception
12659           &lt;/description&gt;
12660       &lt;/param&gt;
12661       &lt;param id=&quot;klass&quot;&gt;
12662         &lt;jclass method=&quot;method&quot;/&gt;
12663           &lt;description&gt;
12664             Class catching the exception
12665           &lt;/description&gt;
12666       &lt;/param&gt;
12667       &lt;param id=&quot;method&quot;&gt;
12668         &lt;jmethodID class=&quot;klass&quot;/&gt;
12669           &lt;description&gt;
12670             Method catching the exception
12671           &lt;/description&gt;
12672       &lt;/param&gt;
12673       &lt;param id=&quot;location&quot;&gt;
12674         &lt;jlocation/&gt;
12675         &lt;description&gt;
12676           Location where exception is being caught
12677         &lt;/description&gt;
12678       &lt;/param&gt;
12679       &lt;param id=&quot;exception&quot;&gt;
12680         &lt;jobject/&gt;
12681           &lt;description&gt;
12682             Exception being caught
12683           &lt;/description&gt;
12684       &lt;/param&gt;
12685     &lt;/parameters&gt;
12686   &lt;/event&gt;
12687 
12688   &lt;event label=&quot;Thread Start&quot;
12689          id=&quot;ThreadStart&quot; const=&quot;JVMTI_EVENT_THREAD_START&quot; num=&quot;52&quot; phase=&quot;start&quot;&gt;
12690     &lt;description&gt;
12691       Thread start events are generated by a new thread before its initial
12692       method executes.
12693       &lt;p/&gt;
12694       A thread may be listed in the array returned by
12695       &lt;functionlink id=&quot;GetAllThreads&quot;&gt;&lt;/functionlink&gt;
12696       before its thread start event is generated.
12697       It is possible for other events to be generated
12698       on a thread before its thread start event.
12699       &lt;p/&gt;
12700       The event is sent on the newly started &lt;paramlink id=&quot;thread&quot;&gt;&lt;/paramlink&gt;.
12701     &lt;/description&gt;
12702     &lt;origin&gt;jvmdi&lt;/origin&gt;
12703     &lt;capabilities&gt;
12704     &lt;/capabilities&gt;
12705     &lt;parameters&gt;
12706       &lt;param id=&quot;jni_env&quot;&gt;
12707         &lt;outptr&gt;
12708           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12709         &lt;/outptr&gt;
12710           &lt;description&gt;
12711             The JNI environment of the event (current) thread.
12712           &lt;/description&gt;
12713       &lt;/param&gt;
12714       &lt;param id=&quot;thread&quot;&gt;
12715         &lt;jthread/&gt;
12716           &lt;description&gt;
12717             Thread starting
12718           &lt;/description&gt;
12719       &lt;/param&gt;
12720     &lt;/parameters&gt;
12721   &lt;/event&gt;
12722 
12723   &lt;event label=&quot;Thread End&quot;
12724          id=&quot;ThreadEnd&quot; const=&quot;JVMTI_EVENT_THREAD_END&quot; filtered=&quot;thread&quot; num=&quot;53&quot; phase=&quot;start&quot;&gt;
12725     &lt;description&gt;
12726       Thread end events are generated by a terminating thread
12727       after its initial method has finished execution.
12728       &lt;p/&gt;
12729       A thread may be listed in the array returned by
12730       &lt;functionlink id=&quot;GetAllThreads&quot;&gt;&lt;/functionlink&gt;
12731       after its thread end event is generated.
12732       No events are generated on a thread
12733       after its thread end event.
12734       &lt;p/&gt;
12735       The event is sent on the dying &lt;paramlink id=&quot;thread&quot;&gt;&lt;/paramlink&gt;.
12736     &lt;/description&gt;
12737     &lt;origin&gt;jvmdi&lt;/origin&gt;
12738     &lt;capabilities&gt;
12739     &lt;/capabilities&gt;
12740     &lt;parameters&gt;
12741       &lt;param id=&quot;jni_env&quot;&gt;
12742         &lt;outptr&gt;
12743           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12744         &lt;/outptr&gt;
12745           &lt;description&gt;
12746             The JNI environment of the event (current) thread.
12747           &lt;/description&gt;
12748       &lt;/param&gt;
12749       &lt;param id=&quot;thread&quot;&gt;
12750         &lt;jthread/&gt;
12751           &lt;description&gt;
12752             Thread ending
12753           &lt;/description&gt;
12754       &lt;/param&gt;
12755     &lt;/parameters&gt;
12756   &lt;/event&gt;
12757 
12758   &lt;event label=&quot;Class Load&quot;
12759          id=&quot;ClassLoad&quot; const=&quot;JVMTI_EVENT_CLASS_LOAD&quot; filtered=&quot;thread&quot; phase=&quot;start&quot; num=&quot;55&quot;&gt;
12760     &lt;description&gt;
12761       A class load event is generated
12762       &lt;functionlink id=&quot;GetLoadedClasses&quot;&gt;when a class or interface is created.&lt;/functionlink&gt;.
12763       &lt;p/&gt;
12764       Array class creation does not generate a class load event.
12765       The creation of a primitive class (for example, java.lang.Integer.TYPE)
12766       does not generate a class load event.
12767       &lt;p/&gt;
12768       The order of class load events generated by a particular thread is guaranteed
12769       to match the order of class loading within that thread.
12770       &lt;p/&gt;
12771       This event is sent at an early stage in loading the class. As
12772       a result the class should be used carefully.  Note, for example,
12773       that methods and fields are not yet loaded, so queries for methods,
12774       fields, subclasses, and so on will not give correct results.
12775       See &quot;Loading of Classes and Interfaces&quot; in the &lt;i&gt;Java Language
12776       Specification&lt;/i&gt;.  For most
12777       purposes the &lt;eventlink id=&quot;ClassPrepare&quot;&gt;&lt;/eventlink&gt; event will
12778       be more useful.
12779     &lt;/description&gt;
12780     &lt;origin&gt;jvmdi&lt;/origin&gt;
12781     &lt;capabilities&gt;
12782     &lt;/capabilities&gt;
12783     &lt;parameters&gt;
12784       &lt;param id=&quot;jni_env&quot;&gt;
12785         &lt;outptr&gt;
12786           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12787         &lt;/outptr&gt;
12788           &lt;description&gt;
12789             The JNI environment of the event (current) thread
12790           &lt;/description&gt;
12791       &lt;/param&gt;
12792       &lt;param id=&quot;thread&quot;&gt;
12793         &lt;jthread/&gt;
12794           &lt;description&gt;
12795             Thread loading the class
12796           &lt;/description&gt;
12797       &lt;/param&gt;
12798       &lt;param id=&quot;klass&quot;&gt;
12799         &lt;jclass/&gt;
12800           &lt;description&gt;
12801             Class being loaded
12802           &lt;/description&gt;
12803       &lt;/param&gt;
12804     &lt;/parameters&gt;
12805   &lt;/event&gt;
12806 
12807   &lt;elide&gt;
12808   &lt;event label=&quot;Class Unload&quot;
12809          id=&quot;ClassUnload&quot; const=&quot;JVMTI_EVENT_CLASS_UNLOAD&quot; num=&quot;57&quot;&gt;
12810     &lt;description&gt;
12811       A class unload event is generated when the class is about to be unloaded.
12812       Class unload events take place during garbage collection and must be
12813       handled extremely carefully. The garbage collector holds many locks
12814       and has suspended all other threads, so the event handler cannot depend
12815       on the ability to acquire any locks. The class unload event handler should
12816       do as little as possible, perhaps by queuing information to be processed
12817       later.  In particular, the &lt;code&gt;jclass&lt;/code&gt; should be used only in
12818       the JNI function &lt;code&gt;isSameObject&lt;/code&gt; or in the following &lt;jvmti/&gt; functions:
12819       &lt;ul&gt;
12820         &lt;li&gt;&lt;functionlink id=&quot;GetClassSignature&quot;&gt;&lt;/functionlink&gt;&lt;/li&gt;
12821         &lt;li&gt;&lt;functionlink id=&quot;GetSourceFileName&quot;&gt;&lt;/functionlink&gt;&lt;/li&gt;
12822         &lt;li&gt;&lt;functionlink id=&quot;IsInterface&quot;&gt;&lt;/functionlink&gt;&lt;/li&gt;
12823         &lt;li&gt;&lt;functionlink id=&quot;IsArrayClass&quot;&gt;&lt;/functionlink&gt;&lt;/li&gt;
12824       &lt;/ul&gt;
12825     &lt;/description&gt;
12826     &lt;origin&gt;jvmdi&lt;/origin&gt;
12827     &lt;capabilities&gt;
12828     &lt;/capabilities&gt;
12829     &lt;parameters&gt;
12830       &lt;param id=&quot;jni_env&quot;&gt;
12831         &lt;outptr&gt;
12832           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12833         &lt;/outptr&gt;
12834           &lt;description&gt;
12835             The JNI environment of the event (current) thread
12836           &lt;/description&gt;
12837       &lt;/param&gt;
12838       &lt;param id=&quot;thread&quot;&gt;
12839         &lt;jthread/&gt;
12840           &lt;description&gt;
12841             Thread generating the class unload
12842           &lt;/description&gt;
12843       &lt;/param&gt;
12844       &lt;param id=&quot;klass&quot;&gt;
12845         &lt;jclass/&gt;
12846           &lt;description&gt;
12847             Class being unloaded
12848           &lt;/description&gt;
12849       &lt;/param&gt;
12850     &lt;/parameters&gt;
12851   &lt;/event&gt;
12852   &lt;/elide&gt;
12853 
12854   &lt;event label=&quot;Class Prepare&quot;
12855          id=&quot;ClassPrepare&quot; const=&quot;JVMTI_EVENT_CLASS_PREPARE&quot; filtered=&quot;thread&quot; phase=&quot;start&quot; num=&quot;56&quot;&gt;
12856     &lt;description&gt;
12857       A class prepare event is generated when class preparation is complete.
12858       At this point, class fields, methods, and implemented interfaces are
12859       available, and no code from the class has been executed. Since array
12860       classes never have fields or methods, class prepare events are not
12861       generated for them. Class prepare events are not generated for
12862       primitive classes (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
12863     &lt;/description&gt;
12864     &lt;origin&gt;jvmdi&lt;/origin&gt;
12865     &lt;capabilities&gt;
12866     &lt;/capabilities&gt;
12867     &lt;parameters&gt;
12868       &lt;param id=&quot;jni_env&quot;&gt;
12869         &lt;outptr&gt;
12870           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12871         &lt;/outptr&gt;
12872           &lt;description&gt;
12873             The JNI environment of the event (current) thread
12874           &lt;/description&gt;
12875       &lt;/param&gt;
12876       &lt;param id=&quot;thread&quot;&gt;
12877         &lt;jthread/&gt;
12878           &lt;description&gt;
12879             Thread generating the class prepare
12880           &lt;/description&gt;
12881       &lt;/param&gt;
12882       &lt;param id=&quot;klass&quot;&gt;
12883         &lt;jclass/&gt;
12884           &lt;description&gt;
12885             Class being prepared
12886           &lt;/description&gt;
12887       &lt;/param&gt;
12888     &lt;/parameters&gt;
12889   &lt;/event&gt;
12890 
12891   &lt;event label=&quot;Class File Load Hook&quot; phase=&quot;any&quot;
12892          id=&quot;ClassFileLoadHook&quot; const=&quot;JVMTI_EVENT_CLASS_FILE_LOAD_HOOK&quot; num=&quot;54&quot;&gt;
12893     &lt;description&gt;
12894       This event is sent when the VM obtains class file data,
12895       but before it constructs
12896       the in-memory representation for that class.
12897       This event is also sent when the class is being modified by the
12898       &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; function or
12899       the &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; function,
12900       called in any &lt;jvmti/&gt; environment.
12901       The agent can instrument
12902       the existing class file data sent by the VM to include profiling/debugging hooks.
12903       See the description of
12904       &lt;internallink id=&quot;bci&quot;&gt;bytecode instrumentation&lt;/internallink&gt;
12905       for usage information.
12906       &lt;p/&gt;
12907     When the capabilities
12908     &lt;internallink id=&quot;jvmtiCapabilities.can_generate_early_class_hook_events&quot;&gt;
12909     &lt;code&gt;can_generate_early_class_hook_events&lt;/code&gt;&lt;/internallink&gt; and
12910     &lt;internallink id=&quot;jvmtiCapabilities.can_generate_all_class_hook_events&quot;&gt;
12911     &lt;code&gt;can_generate_all_class_hook_events&lt;/code&gt;&lt;/internallink&gt;
12912     are enabled then this event may be sent in the primordial phase.
12913     Otherwise, this event may be sent before the VM is initialized (the start
12914     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;).
12915     Some classes might not be compatible
12916     with the function (eg. ROMized classes or implementation defined classes) and this event will
12917     not be generated for these classes.
12918     &lt;p/&gt;
12919     The agent must allocate the space for the modified
12920     class file data buffer
12921     using the memory allocation function
12922     &lt;functionlink id=&quot;Allocate&quot;&gt;&lt;/functionlink&gt; because the
12923     VM is responsible for freeing the new class file data buffer
12924     using &lt;functionlink id=&quot;Deallocate&quot;&gt;&lt;/functionlink&gt;.
12925     &lt;p/&gt;
12926     If the agent wishes to modify the class file, it must set
12927     &lt;code&gt;new_class_data&lt;/code&gt; to point
12928     to the newly instrumented class file data buffer and set
12929     &lt;code&gt;new_class_data_len&lt;/code&gt; to the length of that
12930     buffer before returning
12931     from this call.  If no modification is desired, the agent simply
12932     does not set &lt;code&gt;new_class_data&lt;/code&gt;.  If multiple agents
12933     have enabled this event the results are chained. That is, if
12934     &lt;code&gt;new_class_data&lt;/code&gt; has been set, it becomes the
12935     &lt;code&gt;class_data&lt;/code&gt; for the next agent.
12936     &lt;p/&gt;
12937     When handling a class load in the live phase, then the
12938     &lt;functionlink id=&quot;GetNamedModule&quot;&gt;&lt;/functionlink&gt;
12939     function can be used to map class loader and a package name to a module.
12940     When a class is being redefined or retransformed then
12941     &lt;code&gt;class_being_redefined&lt;/code&gt; is non &lt;code&gt;NULL&lt;/code&gt; and so
12942     the JNI &lt;code&gt;GetModule&lt;/code&gt; function can also be used
12943     to obtain the Module.
12944     &lt;p/&gt;
12945     The order that this event is sent to each environment differs
12946     from other events.
12947     This event is sent to environments in the following order:
12948     &lt;ul&gt;
12949       &lt;li&gt;&lt;fieldlink id=&quot;can_retransform_classes&quot;
12950                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
12951                                                 incapable&lt;/fieldlink&gt;
12952           environments, in the
12953           order in which they were created
12954       &lt;/li&gt;
12955       &lt;li&gt;&lt;fieldlink id=&quot;can_retransform_classes&quot;
12956                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
12957                                                 capable&lt;/fieldlink&gt;
12958           environments, in the
12959           order in which they were created
12960       &lt;/li&gt;
12961     &lt;/ul&gt;
12962     When triggered by &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;,
12963     this event is sent only to &lt;fieldlink id=&quot;can_retransform_classes&quot;
12964                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
12965                                                 capable&lt;/fieldlink&gt;
12966     environments.
12967   &lt;/description&gt;
12968   &lt;origin&gt;jvmpi&lt;/origin&gt;
12969     &lt;capabilities&gt;
12970       &lt;capability id=&quot;can_generate_all_class_hook_events&quot;&gt;&lt;/capability&gt;
12971       &lt;capability id=&quot;can_generate_early_class_hook_events&quot;&gt;&lt;/capability&gt;
12972     &lt;/capabilities&gt;
12973     &lt;parameters&gt;
12974       &lt;param id=&quot;jni_env&quot;&gt;
12975         &lt;outptr&gt;
12976           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12977         &lt;/outptr&gt;
12978           &lt;description&gt;
12979             The JNI environment of the event (current) thread.
12980           &lt;/description&gt;
12981       &lt;/param&gt;
12982       &lt;param id=&quot;class_being_redefined&quot;&gt;
12983         &lt;jclass/&gt;
12984         &lt;description&gt;
12985           The class being
12986           &lt;functionlink id=&quot;RedefineClasses&quot;&gt;redefined&lt;/functionlink&gt; or
12987           &lt;functionlink id=&quot;RetransformClasses&quot;&gt;retransformed&lt;/functionlink&gt;.
12988           &lt;code&gt;NULL&lt;/code&gt; if sent by class load.
12989         &lt;/description&gt;
12990       &lt;/param&gt;
12991       &lt;param id=&quot;loader&quot;&gt;
12992         &lt;jobject/&gt;
12993           &lt;description&gt;
12994             The class loader loading the class.
12995             &lt;code&gt;NULL&lt;/code&gt; if the bootstrap class loader.
12996           &lt;/description&gt;
12997       &lt;/param&gt;
12998       &lt;param id=&quot;name&quot;&gt;
12999         &lt;vmbuf&gt;&lt;char/&gt;&lt;/vmbuf&gt;
13000         &lt;description&gt;
13001             Name of class being loaded as a VM internal qualified name
13002             (for example, &quot;java/util/List&quot;), encoded as a
13003             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
13004             Note: if the class is defined with a &lt;code&gt;NULL&lt;/code&gt; name or
13005             without a name specified, &lt;code&gt;name&lt;/code&gt; will be &lt;code&gt;NULL&lt;/code&gt;.
13006         &lt;/description&gt;
13007       &lt;/param&gt;
13008       &lt;param id=&quot;protection_domain&quot;&gt;
13009         &lt;jobject/&gt;
13010         &lt;description&gt;
13011           The &lt;code&gt;ProtectionDomain&lt;/code&gt; of the class.
13012         &lt;/description&gt;
13013       &lt;/param&gt;
13014       &lt;param id=&quot;class_data_len&quot;&gt;
13015         &lt;jint/&gt;
13016         &lt;description&gt;
13017           Length of current class file data buffer.
13018         &lt;/description&gt;
13019       &lt;/param&gt;
13020       &lt;param id=&quot;class_data&quot;&gt;
13021         &lt;vmbuf&gt;&lt;uchar/&gt;&lt;/vmbuf&gt;
13022         &lt;description&gt;
13023           Pointer to the current class file data buffer.
13024         &lt;/description&gt;
13025       &lt;/param&gt;
13026       &lt;param id=&quot;new_class_data_len&quot;&gt;
13027         &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
13028         &lt;description&gt;
13029           Pointer to the length of the new class file data buffer.
13030         &lt;/description&gt;
13031       &lt;/param&gt;
13032       &lt;param id=&quot;new_class_data&quot;&gt;
13033         &lt;agentbuf incount=&quot;new_class_data_len&quot;&gt;&lt;uchar/&gt;&lt;/agentbuf&gt;
13034         &lt;description&gt;
13035           Pointer to the pointer to the instrumented class file data buffer.
13036         &lt;/description&gt;
13037       &lt;/param&gt;
13038     &lt;/parameters&gt;
13039   &lt;/event&gt;
13040 
13041   &lt;event label=&quot;VM Start Event&quot;
13042          id=&quot;VMStart&quot; const=&quot;JVMTI_EVENT_VM_START&quot; num=&quot;57&quot; phase=&quot;start&quot;&gt;
13043     &lt;description&gt;
13044       The VM start event signals the start of the VM.
13045       At this time JNI is live but the VM is not yet fully initialized.
13046       Once this event is generated, the agent is free to call any JNI function.
13047       This event signals the beginning of the start phase,
13048       &lt;jvmti/&gt; functions permitted in the start phase may be called.
13049       &lt;p/&gt;
13050       The timing of this event may depend on whether the agent has added the
13051       &lt;internallink id=&quot;jvmtiCapabilities.can_generate_early_vmstart&quot;&gt;
13052       &lt;code&gt;can_generate_early_vmstart&lt;/code&gt;&lt;/internallink&gt; capability or not.
13053       If the capability has been added then the VM posts the event as early
13054       as possible. The VM is capable of executing bytecode but it may not have
13055       initialized to the point where it can load classes in modules other than
13056       &lt;code&gt;java.base&lt;/code&gt;, or even arbitrary classes in &lt;code&gt;java.base&lt;/code&gt;.
13057       Agents that do load-time instrumentation in this
13058       phase must take great care when instrumenting code that potentially
13059       executes in this phase. Extreme care should also be taken with JNI
13060       &lt;code&gt;FindClass&lt;/code&gt; as it may not be possible to load classes and attempts
13061       to do so may result in unpredictable behavior, maybe even stability issues
13062       on some VM implementations.
13063       If the capability has not been added then the VM delays posting this
13064       event until it is capable of loading classes in modules other than
13065       &lt;code&gt;java.base&lt;/code&gt; or the VM has completed its initialization.
13066       Agents that create more than one JVM TI environment, where the
13067       capability is added to some but not all environments, may observe the
13068       start phase beginning earlier in the JVM TI environments that possess
13069       the capability.
13070       &lt;p/&gt;
13071       In the case of VM start-up failure, this event will not be sent.
13072     &lt;/description&gt;
13073     &lt;origin&gt;jvmdi&lt;/origin&gt;
13074     &lt;capabilities&gt;
13075     &lt;/capabilities&gt;
13076     &lt;parameters&gt;
13077       &lt;param id=&quot;jni_env&quot;&gt;
13078         &lt;outptr&gt;
13079           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13080         &lt;/outptr&gt;
13081           &lt;description&gt;
13082             The JNI environment of the event (current) thread.
13083           &lt;/description&gt;
13084       &lt;/param&gt;
13085     &lt;/parameters&gt;
13086   &lt;/event&gt;
13087 
13088   &lt;event label=&quot;VM Initialization Event&quot;
13089          id=&quot;VMInit&quot; const=&quot;JVMTI_EVENT_VM_INIT&quot; num=&quot;50&quot;&gt;
13090     &lt;description&gt;
13091       The VM initialization event signals the completion of VM initialization. Once
13092       this event is generated, the agent is free to call any JNI or &lt;jvmti/&gt;
13093       function. The VM initialization event can be preceded by or can be concurrent
13094       with other events, but
13095       the preceding events should be handled carefully, if at all, because the
13096       VM has not completed its initialization. The thread start event for the
13097       main application thread is guaranteed not to occur until after the
13098       handler for the VM initialization event returns.
13099       &lt;p/&gt;
13100       In the case of VM start-up failure, this event will not be sent.
13101     &lt;/description&gt;
13102     &lt;origin&gt;jvmdi&lt;/origin&gt;
13103     &lt;capabilities&gt;
13104     &lt;/capabilities&gt;
13105     &lt;parameters&gt;
13106       &lt;param id=&quot;jni_env&quot;&gt;
13107         &lt;outptr&gt;
13108           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13109         &lt;/outptr&gt;
13110           &lt;description&gt;
13111             The JNI environment of the event (current) thread.
13112           &lt;/description&gt;
13113       &lt;/param&gt;
13114       &lt;param id=&quot;thread&quot;&gt;
13115         &lt;jthread/&gt;
13116           &lt;description&gt;
13117             The initial thread
13118           &lt;/description&gt;
13119       &lt;/param&gt;
13120     &lt;/parameters&gt;
13121   &lt;/event&gt;
13122 
13123   &lt;event label=&quot;VM Death Event&quot;
13124          id=&quot;VMDeath&quot; const=&quot;JVMTI_EVENT_VM_DEATH&quot; num=&quot;51&quot;&gt;
13125     &lt;description&gt;
13126       The VM death event notifies the agent of the termination of the VM.
13127       No events will occur after the VMDeath event.
13128       &lt;p/&gt;
13129       In the case of VM start-up failure, this event will not be sent.
13130       Note that &lt;internallink id=&quot;onunload&quot;&gt;Agent_OnUnload&lt;/internallink&gt;
13131       will still be called in these cases.
13132     &lt;/description&gt;
13133     &lt;origin&gt;jvmdi&lt;/origin&gt;
13134     &lt;capabilities&gt;
13135     &lt;/capabilities&gt;
13136     &lt;parameters&gt;
13137       &lt;param id=&quot;jni_env&quot;&gt;
13138         &lt;outptr&gt;
13139           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13140         &lt;/outptr&gt;
13141           &lt;description&gt;
13142             The JNI environment of the event (current) thread
13143           &lt;/description&gt;
13144       &lt;/param&gt;
13145     &lt;/parameters&gt;
13146   &lt;/event&gt;
13147 
13148   &lt;event label=&quot;Compiled Method Load&quot; phase=&quot;start&quot;
13149          id=&quot;CompiledMethodLoad&quot; const=&quot;JVMTI_EVENT_COMPILED_METHOD_LOAD&quot; num=&quot;68&quot;&gt;
13150     &lt;description&gt;
13151       Sent when a method is compiled and loaded into memory by the VM.
13152       If it is unloaded, the &lt;eventlink id=&quot;CompiledMethodUnload&quot;/&gt; event is sent.
13153       If it is moved, the &lt;eventlink id=&quot;CompiledMethodUnload&quot;/&gt; event is sent,
13154       followed by a new &lt;code&gt;CompiledMethodLoad&lt;/code&gt; event.
13155       Note that a single method may have multiple compiled forms, and that
13156       this event will be sent for each form.
13157       Note also that several methods may be inlined into a single
13158       address range, and that this event will be sent for each method.
13159       &lt;p/&gt;
13160       These events can be sent after their initial occurrence with
13161       &lt;functionlink id=&quot;GenerateEvents&quot;&gt;&lt;/functionlink&gt;.
13162     &lt;/description&gt;
13163     &lt;origin&gt;jvmpi&lt;/origin&gt;
13164     &lt;typedef id=&quot;jvmtiAddrLocationMap&quot; label=&quot;Native address to location entry&quot;&gt;
13165       &lt;field id=&quot;start_address&quot;&gt;
13166         &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13167         &lt;description&gt;
13168           Starting native address of code corresponding to a location
13169         &lt;/description&gt;
13170       &lt;/field&gt;
13171       &lt;field id=&quot;location&quot;&gt;
13172         &lt;jlocation/&gt;
13173         &lt;description&gt;
13174           Corresponding location. See
13175           &lt;functionlink id=&quot;GetJLocationFormat&quot;&gt;&lt;/functionlink&gt;
13176           for the meaning of location.
13177         &lt;/description&gt;
13178       &lt;/field&gt;
13179     &lt;/typedef&gt;
13180     &lt;capabilities&gt;
13181       &lt;required id=&quot;can_generate_compiled_method_load_events&quot;&gt;&lt;/required&gt;
13182     &lt;/capabilities&gt;
13183     &lt;parameters&gt;
13184       &lt;param id=&quot;klass&quot;&gt;
13185         &lt;jclass method=&quot;method&quot;/&gt;
13186           &lt;description&gt;
13187             Class of the method being compiled and loaded
13188           &lt;/description&gt;
13189       &lt;/param&gt;
13190       &lt;param id=&quot;method&quot;&gt;
13191         &lt;jmethodID class=&quot;klass&quot;/&gt;
13192           &lt;description&gt;
13193             Method being compiled and loaded
13194           &lt;/description&gt;
13195       &lt;/param&gt;
13196       &lt;param id=&quot;code_size&quot;&gt;
13197         &lt;jint/&gt;
13198         &lt;description&gt;
13199           Size of compiled code
13200         &lt;/description&gt;
13201       &lt;/param&gt;
13202       &lt;param id=&quot;code_addr&quot;&gt;
13203         &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13204         &lt;description&gt;
13205           Address where compiled method code is loaded
13206         &lt;/description&gt;
13207       &lt;/param&gt;
13208       &lt;param id=&quot;map_length&quot;&gt;
13209         &lt;jint/&gt;
13210         &lt;description&gt;
13211           Number of &lt;typelink id=&quot;jvmtiAddrLocationMap&quot;&gt;&lt;/typelink&gt;
13212           entries in the address map.
13213           Zero if mapping information cannot be supplied.
13214         &lt;/description&gt;
13215       &lt;/param&gt;
13216       &lt;param id=&quot;map&quot;&gt;
13217         &lt;vmbuf&gt;&lt;struct&gt;jvmtiAddrLocationMap&lt;/struct&gt;&lt;/vmbuf&gt;
13218         &lt;description&gt;
13219           Map from native addresses to location.
13220           The native address range of each entry is from
13221           &lt;fieldlink id=&quot;start_address&quot; struct=&quot;jvmtiAddrLocationMap&quot;&gt;&lt;/fieldlink&gt;
13222           to &lt;code&gt;start_address-1&lt;/code&gt; of the next entry.
13223           &lt;code&gt;NULL&lt;/code&gt; if mapping information cannot be supplied.
13224         &lt;/description&gt;
13225       &lt;/param&gt;
13226       &lt;param id=&quot;compile_info&quot;&gt;
13227         &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13228         &lt;description&gt;
13229           VM-specific compilation information.
13230           The referenced compile information is managed by the VM
13231           and must not depend on the agent for collection.
13232           A VM implementation defines the content and lifetime
13233           of the information.
13234         &lt;/description&gt;
13235       &lt;/param&gt;
13236     &lt;/parameters&gt;
13237   &lt;/event&gt;
13238 
13239   &lt;event label=&quot;Compiled Method Unload&quot; phase=&quot;start&quot;
13240          id=&quot;CompiledMethodUnload&quot; const=&quot;JVMTI_EVENT_COMPILED_METHOD_UNLOAD&quot; num=&quot;69&quot;&gt;
13241     &lt;description&gt;
13242       Sent when a compiled method is unloaded from memory.
13243       This event might not be sent on the thread which performed the unload.
13244       This event may be sent sometime after the unload occurs, but
13245       will be sent before the memory is reused
13246       by a newly generated compiled method. This event may be sent after
13247       the class is unloaded.
13248     &lt;/description&gt;
13249     &lt;origin&gt;jvmpi&lt;/origin&gt;
13250     &lt;capabilities&gt;
13251       &lt;required id=&quot;can_generate_compiled_method_load_events&quot;&gt;&lt;/required&gt;
13252     &lt;/capabilities&gt;
13253     &lt;parameters&gt;
13254       &lt;param id=&quot;klass&quot;&gt;
13255         &lt;jclass method=&quot;method&quot;/&gt;
13256           &lt;description&gt;
13257             Class of the compiled method being unloaded.
13258           &lt;/description&gt;
13259       &lt;/param&gt;
13260       &lt;param id=&quot;method&quot;&gt;
13261         &lt;jmethodID class=&quot;klass&quot;/&gt;
13262           &lt;description&gt;
13263             Compiled method being unloaded.
13264             For identification of the compiled method only -- the class
13265             may be unloaded and therefore the method should not be used
13266             as an argument to further JNI or &lt;jvmti/&gt; functions.
13267           &lt;/description&gt;
13268       &lt;/param&gt;
13269       &lt;param id=&quot;code_addr&quot;&gt;
13270         &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13271         &lt;description&gt;
13272           Address where compiled method code was loaded.
13273           For identification of the compiled method only --
13274           the space may have been reclaimed.
13275         &lt;/description&gt;
13276       &lt;/param&gt;
13277     &lt;/parameters&gt;
13278   &lt;/event&gt;
13279 
13280   &lt;event label=&quot;Dynamic Code Generated&quot; phase=&quot;any&quot;
13281          id=&quot;DynamicCodeGenerated&quot; const=&quot;JVMTI_EVENT_DYNAMIC_CODE_GENERATED&quot; num=&quot;70&quot;&gt;
13282     &lt;description&gt;
13283       Sent when a component of the virtual machine is generated dynamically.
13284       This does not correspond to Java programming language code that is
13285       compiled--see &lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;/eventlink&gt;.
13286       This is for native code--for example, an interpreter that is generated
13287       differently depending on command-line options.
13288       &lt;p/&gt;
13289       Note that this event has no controlling capability.
13290       If a VM cannot generate these events, it simply does not send any.
13291       &lt;p/&gt;
13292       These events can be sent after their initial occurrence with
13293       &lt;functionlink id=&quot;GenerateEvents&quot;&gt;&lt;/functionlink&gt;.
13294     &lt;/description&gt;
13295     &lt;origin&gt;jvmpi&lt;/origin&gt;
13296     &lt;capabilities&gt;
13297     &lt;/capabilities&gt;
13298     &lt;parameters&gt;
13299       &lt;param id=&quot;name&quot;&gt;
13300         &lt;vmbuf&gt;&lt;char/&gt;&lt;/vmbuf&gt;
13301         &lt;description&gt;
13302           Name of the code, encoded as a
13303           &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
13304           Intended for display to an end-user.
13305           The name might not be unique.
13306         &lt;/description&gt;
13307       &lt;/param&gt;
13308       &lt;param id=&quot;address&quot;&gt;
13309         &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13310         &lt;description&gt;
13311           Native address of the code
13312         &lt;/description&gt;
13313       &lt;/param&gt;
13314       &lt;param id=&quot;length&quot;&gt;
13315         &lt;jint/&gt;
13316         &lt;description&gt;
13317           Length in bytes of the code
13318         &lt;/description&gt;
13319       &lt;/param&gt;
13320     &lt;/parameters&gt;
13321   &lt;/event&gt;
13322 
13323   &lt;event label=&quot;Data Dump Request&quot;
13324          id=&quot;DataDumpRequest&quot; const=&quot;JVMTI_EVENT_DATA_DUMP_REQUEST&quot; num=&quot;71&quot;&gt;
13325     &lt;description&gt;
13326       Sent by the VM to request the agent to dump its data.  This
13327       is just a hint and the agent need not react to this event.
13328       This is useful for processing command-line signals from users.  For
<a name="3" id="anc3"></a><span class="line-modified">13329       example, in the Java 2 SDK a CTRL-Break on Win32 and a CTRL-\ on Linux</span>
13330       causes the VM to send this event to the agent.
13331     &lt;/description&gt;
13332     &lt;origin&gt;jvmpi&lt;/origin&gt;
13333     &lt;capabilities&gt;
13334     &lt;/capabilities&gt;
13335     &lt;parameters&gt;
13336     &lt;/parameters&gt;
13337   &lt;/event&gt;
13338 
13339   &lt;event label=&quot;Monitor Contended Enter&quot;
13340          id=&quot;MonitorContendedEnter&quot; const=&quot;JVMTI_EVENT_MONITOR_CONTENDED_ENTER&quot; filtered=&quot;thread&quot; num=&quot;75&quot;&gt;
13341     &lt;description&gt;
13342       Sent when a thread is attempting to enter a Java programming language
13343       monitor already acquired by another thread.
13344     &lt;/description&gt;
13345     &lt;origin&gt;jvmpi&lt;/origin&gt;
13346     &lt;capabilities&gt;
13347       &lt;required id=&quot;can_generate_monitor_events&quot;&gt;&lt;/required&gt;
13348     &lt;/capabilities&gt;
13349     &lt;parameters&gt;
13350       &lt;param id=&quot;jni_env&quot;&gt;
13351         &lt;outptr&gt;
13352           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13353         &lt;/outptr&gt;
13354           &lt;description&gt;
13355             The JNI environment of the event (current) thread
13356           &lt;/description&gt;
13357       &lt;/param&gt;
13358       &lt;param id=&quot;thread&quot;&gt;
13359         &lt;jthread/&gt;
13360           &lt;description&gt;
13361             JNI local reference to the thread
13362             attempting to enter the monitor
13363           &lt;/description&gt;
13364       &lt;/param&gt;
13365       &lt;param id=&quot;object&quot;&gt;
13366         &lt;jobject/&gt;
13367           &lt;description&gt;
13368             JNI local reference to the monitor
13369           &lt;/description&gt;
13370       &lt;/param&gt;
13371     &lt;/parameters&gt;
13372   &lt;/event&gt;
13373 
13374   &lt;event label=&quot;Monitor Contended Entered&quot;
13375          id=&quot;MonitorContendedEntered&quot; const=&quot;JVMTI_EVENT_MONITOR_CONTENDED_ENTERED&quot; filtered=&quot;thread&quot; num=&quot;76&quot;&gt;
13376     &lt;description&gt;
13377       Sent when a thread enters a Java programming language
13378       monitor after waiting for it to be released by another thread.
13379     &lt;/description&gt;
13380     &lt;origin&gt;jvmpi&lt;/origin&gt;
13381     &lt;capabilities&gt;
13382       &lt;required id=&quot;can_generate_monitor_events&quot;&gt;&lt;/required&gt;
13383     &lt;/capabilities&gt;
13384     &lt;parameters&gt;
13385       &lt;param id=&quot;jni_env&quot;&gt;
13386         &lt;outptr&gt;
13387           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13388         &lt;/outptr&gt;
13389           &lt;description&gt;
13390             The JNI environment of the event (current) thread
13391           &lt;/description&gt;
13392       &lt;/param&gt;
13393       &lt;param id=&quot;thread&quot;&gt;
13394         &lt;jthread/&gt;
13395           &lt;description&gt;
13396             JNI local reference to the thread entering
13397             the monitor
13398           &lt;/description&gt;
13399       &lt;/param&gt;
13400       &lt;param id=&quot;object&quot;&gt;
13401         &lt;jobject/&gt;
13402           &lt;description&gt;
13403             JNI local reference to the monitor
13404           &lt;/description&gt;
13405       &lt;/param&gt;
13406     &lt;/parameters&gt;
13407   &lt;/event&gt;
13408 
13409   &lt;event label=&quot;Monitor Wait&quot;
13410          id=&quot;MonitorWait&quot; const=&quot;JVMTI_EVENT_MONITOR_WAIT&quot; filtered=&quot;thread&quot; num=&quot;73&quot;&gt;
13411     &lt;description&gt;
13412       Sent when a thread is about to wait on an object.
13413     &lt;/description&gt;
13414     &lt;origin&gt;jvmpi&lt;/origin&gt;
13415     &lt;capabilities&gt;
13416       &lt;required id=&quot;can_generate_monitor_events&quot;&gt;&lt;/required&gt;
13417     &lt;/capabilities&gt;
13418     &lt;parameters&gt;
13419       &lt;param id=&quot;jni_env&quot;&gt;
13420         &lt;outptr&gt;
13421           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13422         &lt;/outptr&gt;
13423           &lt;description&gt;
13424             The JNI environment of the event (current) thread
13425           &lt;/description&gt;
13426       &lt;/param&gt;
13427       &lt;param id=&quot;thread&quot;&gt;
13428         &lt;jthread/&gt;
13429           &lt;description&gt;
13430             JNI local reference to the thread about to wait
13431           &lt;/description&gt;
13432       &lt;/param&gt;
13433       &lt;param id=&quot;object&quot;&gt;
13434         &lt;jobject/&gt;
13435           &lt;description&gt;
13436             JNI local reference to the monitor
13437           &lt;/description&gt;
13438       &lt;/param&gt;
13439       &lt;param id=&quot;timeout&quot;&gt;
13440         &lt;jlong/&gt;
13441         &lt;description&gt;
13442           The number of milliseconds the thread will wait
13443         &lt;/description&gt;
13444       &lt;/param&gt;
13445     &lt;/parameters&gt;
13446   &lt;/event&gt;
13447 
13448   &lt;event label=&quot;Monitor Waited&quot;
13449          id=&quot;MonitorWaited&quot; const=&quot;JVMTI_EVENT_MONITOR_WAITED&quot; filtered=&quot;thread&quot; num=&quot;74&quot;&gt;
13450     &lt;description&gt;
13451       Sent when a thread finishes waiting on an object.
13452     &lt;/description&gt;
13453     &lt;origin&gt;jvmpi&lt;/origin&gt;
13454     &lt;capabilities&gt;
13455       &lt;required id=&quot;can_generate_monitor_events&quot;&gt;&lt;/required&gt;
13456     &lt;/capabilities&gt;
13457     &lt;parameters&gt;
13458       &lt;param id=&quot;jni_env&quot;&gt;
13459         &lt;outptr&gt;
13460           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13461         &lt;/outptr&gt;
13462           &lt;description&gt;
13463             The JNI environment of the event (current) thread
13464           &lt;/description&gt;
13465       &lt;/param&gt;
13466       &lt;param id=&quot;thread&quot;&gt;
13467         &lt;jthread/&gt;
13468           &lt;description&gt;
13469             JNI local reference to the thread that was finished waiting
13470           &lt;/description&gt;
13471       &lt;/param&gt;
13472       &lt;param id=&quot;object&quot;&gt;
13473         &lt;jobject/&gt;
13474           &lt;description&gt;
13475             JNI local reference to the monitor.
13476           &lt;/description&gt;
13477       &lt;/param&gt;
13478       &lt;param id=&quot;timed_out&quot;&gt;
13479         &lt;jboolean/&gt;
13480         &lt;description&gt;
13481           True if the monitor timed out
13482         &lt;/description&gt;
13483       &lt;/param&gt;
13484     &lt;/parameters&gt;
13485   &lt;/event&gt;
13486 
13487   &lt;event label=&quot;Resource Exhausted&quot;
13488          id=&quot;ResourceExhausted&quot; const=&quot;JVMTI_EVENT_RESOURCE_EXHAUSTED&quot; num=&quot;80&quot;
13489          since=&quot;1.1&quot;&gt;
13490     &lt;description&gt;
13491       Sent when a VM resource needed by a running application has been exhausted.
13492       Except as required by the optional capabilities, the set of resources
13493       which report exhaustion is implementation dependent.
13494       &lt;p/&gt;
13495       The following bit flags define the properties of the resource exhaustion:
13496       &lt;constants id=&quot;jvmtiResourceExhaustionFlags&quot;
13497                  label=&quot;Resource Exhaustion Flags&quot;
13498                  kind=&quot;bits&quot;
13499                  since=&quot;1.1&quot;&gt;
13500         &lt;constant id=&quot;JVMTI_RESOURCE_EXHAUSTED_OOM_ERROR&quot; num=&quot;0x0001&quot;&gt;
13501           After this event returns, the VM will throw a
13502           &lt;code&gt;java.lang.OutOfMemoryError&lt;/code&gt;.
13503         &lt;/constant&gt;
13504         &lt;constant id=&quot;JVMTI_RESOURCE_EXHAUSTED_JAVA_HEAP&quot; num=&quot;0x0002&quot;&gt;
13505           The VM was unable to allocate memory from the &lt;tm&gt;Java&lt;/tm&gt;
13506           platform &lt;i&gt;heap&lt;/i&gt;.
13507           The &lt;i&gt;heap&lt;/i&gt; is the runtime
13508           data area from which memory for all class instances and
13509           arrays are allocated.
13510         &lt;/constant&gt;
13511         &lt;constant id=&quot;JVMTI_RESOURCE_EXHAUSTED_THREADS&quot; num=&quot;0x0004&quot;&gt;
13512           The VM was unable to create a thread.
13513         &lt;/constant&gt;
13514       &lt;/constants&gt;
13515     &lt;/description&gt;
13516     &lt;origin&gt;new&lt;/origin&gt;
13517     &lt;capabilities&gt;
13518       &lt;capability id=&quot;can_generate_resource_exhaustion_heap_events&quot;&gt;
13519         Can generate events when the VM is unable to allocate memory from the
13520         &lt;internallink id=&quot;JVMTI_RESOURCE_EXHAUSTED_JAVA_HEAP&quot;&gt;heap&lt;/internallink&gt;.
13521       &lt;/capability&gt;
13522       &lt;capability id=&quot;can_generate_resource_exhaustion_threads_events&quot;&gt;
13523         Can generate events when the VM is unable to
13524         &lt;internallink id=&quot;JVMTI_RESOURCE_EXHAUSTED_THREADS&quot;&gt;create
13525         a thread&lt;/internallink&gt;.
13526       &lt;/capability&gt;
13527     &lt;/capabilities&gt;
13528     &lt;parameters&gt;
13529       &lt;param id=&quot;jni_env&quot;&gt;
13530         &lt;outptr&gt;
13531           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13532         &lt;/outptr&gt;
13533           &lt;description&gt;
13534             The JNI environment of the event (current) thread
13535           &lt;/description&gt;
13536       &lt;/param&gt;
13537       &lt;param id=&quot;flags&quot;&gt;
13538         &lt;jint/&gt;
13539         &lt;description&gt;
13540           Flags defining the properties of the of resource exhaustion
13541           as specified by the
13542           &lt;internallink id=&quot;jvmtiResourceExhaustionFlags&quot;&gt;Resource
13543           Exhaustion Flags&lt;/internallink&gt;.
13544           &lt;/description&gt;
13545         &lt;/param&gt;
13546       &lt;param id=&quot;reserved&quot;&gt;
13547         &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13548         &lt;description&gt;
13549           Reserved.
13550         &lt;/description&gt;
13551       &lt;/param&gt;
13552       &lt;param id=&quot;description&quot;&gt;
13553         &lt;vmbuf&gt;&lt;char/&gt;&lt;/vmbuf&gt;
13554         &lt;description&gt;
13555           Description of the resource exhaustion, encoded as a
13556           &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
13557         &lt;/description&gt;
13558       &lt;/param&gt;
13559     &lt;/parameters&gt;
13560   &lt;/event&gt;
13561 
13562   &lt;event label=&quot;VM Object Allocation&quot;
13563          id=&quot;VMObjectAlloc&quot; const=&quot;JVMTI_EVENT_VM_OBJECT_ALLOC&quot; num=&quot;84&quot;&gt;
13564     &lt;description&gt;
13565       Sent when a method causes the virtual machine to directly allocate an
13566       Object visible to Java programming language code.
13567       Generally object allocation should be detected by instrumenting
13568       the bytecodes of allocating methods.
13569       Object allocation generated in native code by JNI function
13570       calls should be detected using
13571       &lt;internallink id=&quot;jniIntercept&quot;&gt;JNI function interception&lt;/internallink&gt;.
13572       Some methods might not have associated bytecodes and are not
13573       native methods, they instead are executed directly by the
13574       VM. These methods should send this event.
13575       Virtual machines which are incapable of bytecode instrumentation
13576       for some or all of their methods can send this event.
13577 
13578       Note that the &lt;internallink
13579       id=&quot;SampledObjectAlloc&quot;&gt;SampledObjectAlloc&lt;/internallink&gt;
13580       event is triggered on all Java object allocations, including those
13581       caused by bytecode method execution, JNI method execution, and
13582       directly by VM methods.
13583       &lt;p/&gt;
13584       Typical examples where this event might be sent:
13585       &lt;ul&gt;
13586         &lt;li&gt;Reflection -- for example, &lt;code&gt;java.lang.Class.newInstance()&lt;/code&gt;&lt;/li&gt;
13587         &lt;li&gt;Methods not represented by bytecodes -- for example, VM intrinsics and
13588             J2ME preloaded classes&lt;/li&gt;
13589       &lt;/ul&gt;
13590       Cases where this event would not be generated:
13591       &lt;ul&gt;
13592         &lt;li&gt;Allocation due to bytecodes -- for example, the &lt;code&gt;new&lt;/code&gt;
13593             and &lt;code&gt;newarray&lt;/code&gt; VM instructions&lt;/li&gt;
13594         &lt;li&gt;Allocation due to JNI function calls -- for example,
13595             &lt;code&gt;AllocObject&lt;/code&gt;&lt;/li&gt;
13596         &lt;li&gt;Allocations during VM initialization&lt;/li&gt;
13597         &lt;li&gt;VM internal objects&lt;/li&gt;
13598       &lt;/ul&gt;
13599     &lt;/description&gt;
13600     &lt;origin&gt;new&lt;/origin&gt;
13601     &lt;capabilities&gt;
13602       &lt;required id=&quot;can_generate_vm_object_alloc_events&quot;&gt;&lt;/required&gt;
13603     &lt;/capabilities&gt;
13604     &lt;parameters&gt;
13605       &lt;param id=&quot;jni_env&quot;&gt;
13606         &lt;outptr&gt;
13607           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13608         &lt;/outptr&gt;
13609           &lt;description&gt;
13610             The JNI environment of the event (current) thread
13611           &lt;/description&gt;
13612       &lt;/param&gt;
13613       &lt;param id=&quot;thread&quot;&gt;
13614         &lt;jthread/&gt;
13615           &lt;description&gt;
13616             Thread allocating the object.
13617           &lt;/description&gt;
13618       &lt;/param&gt;
13619       &lt;param id=&quot;object&quot;&gt;
13620         &lt;jobject/&gt;
13621           &lt;description&gt;
13622             JNI local reference to the object that was allocated.
13623           &lt;/description&gt;
13624       &lt;/param&gt;
13625       &lt;param id=&quot;object_klass&quot;&gt;
13626         &lt;jclass/&gt;
13627           &lt;description&gt;
13628             JNI local reference to the class of the object.
13629           &lt;/description&gt;
13630       &lt;/param&gt;
13631       &lt;param id=&quot;size&quot;&gt;
13632         &lt;jlong/&gt;
13633         &lt;description&gt;
13634             Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
13635         &lt;/description&gt;
13636       &lt;/param&gt;
13637     &lt;/parameters&gt;
13638   &lt;/event&gt;
13639 
13640   &lt;event label=&quot;Sampled Object Allocation&quot;
13641     id=&quot;SampledObjectAlloc&quot; const=&quot;JVMTI_EVENT_SAMPLED_OBJECT_ALLOC&quot; filtered=&quot;thread&quot; num=&quot;86&quot; since=&quot;11&quot;&gt;
13642     &lt;description&gt;
13643       Sent when an allocated object is sampled.
13644       By default, the sampling interval is set to 512KB. The sampling is semi-random to avoid
13645       pattern-based bias and provides an approximate overall average interval over long periods of
13646       sampling.
13647       &lt;p/&gt;
13648       Each thread tracks how many bytes it has allocated since it sent the last event.
13649       When the number of bytes exceeds the sampling interval, it will send another event.
13650       This implies that, on average, one object will be sampled every time a thread has
13651       allocated 512KB bytes since the last sample.
13652       &lt;p/&gt;
13653       Note that the sampler is pseudo-random: it will not sample every 512KB precisely.
13654       The goal of this is to ensure high quality sampling even if allocation is
13655       happening in a fixed pattern (i.e., the same set of objects are being allocated
13656       every 512KB).
13657       &lt;p/&gt;
13658       If another sampling interval is required, the user can call
13659       &lt;functionlink id=&quot;SetHeapSamplingInterval&quot;&gt;&lt;/functionlink&gt; with a strictly positive integer value,
13660       representing the new sampling interval.
13661       &lt;p/&gt;
13662       This event is sent once the sampled allocation has been performed.  It provides the object, stack trace
13663       of the allocation, the thread allocating, the size of allocation, and the object&#39;s class.
13664       &lt;p/&gt;
13665       A typical use case of this system is to determine where heap allocations originate.
13666       In conjunction with weak references and the function
13667       &lt;functionlink id=&quot;GetStackTrace&quot;&gt;&lt;/functionlink&gt;, a user can track which objects were allocated from which
13668       stack trace, and which are still live during the execution of the program.
13669     &lt;/description&gt;
13670     &lt;origin&gt;new&lt;/origin&gt;
13671     &lt;capabilities&gt;
13672       &lt;required id=&quot;can_generate_sampled_object_alloc_events&quot;&gt;&lt;/required&gt;
13673     &lt;/capabilities&gt;
13674     &lt;parameters&gt;
13675       &lt;param id=&quot;jni_env&quot;&gt;
13676         &lt;outptr&gt;
13677           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13678         &lt;/outptr&gt;
13679         &lt;description&gt;
13680           The JNI environment of the event (current) thread.
13681         &lt;/description&gt;
13682       &lt;/param&gt;
13683       &lt;param id=&quot;thread&quot;&gt;
13684         &lt;jthread/&gt;
13685         &lt;description&gt;
13686           Thread allocating the object.
13687         &lt;/description&gt;
13688       &lt;/param&gt;
13689       &lt;param id=&quot;object&quot;&gt;
13690         &lt;jobject/&gt;
13691         &lt;description&gt;
13692           JNI local reference to the object that was allocated.
13693         &lt;/description&gt;
13694       &lt;/param&gt;
13695       &lt;param id=&quot;object_klass&quot;&gt;
13696         &lt;jclass/&gt;
13697         &lt;description&gt;
13698           JNI local reference to the class of the object
13699         &lt;/description&gt;
13700       &lt;/param&gt;
13701       &lt;param id=&quot;size&quot;&gt;
13702         &lt;jlong/&gt;
13703         &lt;description&gt;
13704           Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
13705         &lt;/description&gt;
13706       &lt;/param&gt;
13707     &lt;/parameters&gt;
13708   &lt;/event&gt;
13709 
13710   &lt;event label=&quot;Object Free&quot;
13711         id=&quot;ObjectFree&quot; const=&quot;JVMTI_EVENT_OBJECT_FREE&quot; num=&quot;83&quot;&gt;
13712     &lt;description&gt;
13713       An Object Free event is sent when the garbage collector frees an object.
13714       Events are only sent for tagged objects--see
13715       &lt;internallink id=&quot;Heap&quot;&gt;heap functions&lt;/internallink&gt;.
13716       &lt;p/&gt;
13717       The event handler must not use JNI functions and
13718       must not use &lt;jvmti/&gt; functions except those which
13719       specifically allow such use (see the raw monitor, memory management,
13720       and environment local storage functions).
13721     &lt;/description&gt;
13722     &lt;origin&gt;new&lt;/origin&gt;
13723     &lt;capabilities&gt;
13724       &lt;required id=&quot;can_generate_object_free_events&quot;&gt;&lt;/required&gt;
13725     &lt;/capabilities&gt;
13726     &lt;parameters&gt;
13727       &lt;param id=&quot;tag&quot;&gt;
13728         &lt;jlong/&gt;
13729         &lt;description&gt;
13730           The freed object&#39;s tag
13731         &lt;/description&gt;
13732       &lt;/param&gt;
13733     &lt;/parameters&gt;
13734   &lt;/event&gt;
13735 
13736   &lt;event label=&quot;Garbage Collection Start&quot;
13737          id=&quot;GarbageCollectionStart&quot; const=&quot;JVMTI_EVENT_GARBAGE_COLLECTION_START&quot; num=&quot;81&quot;&gt;
13738     &lt;description&gt;
13739       A Garbage Collection Start event is sent when a
13740       garbage collection pause begins.
13741       Only stop-the-world collections are reported--that is, collections during
13742       which all threads cease to modify the state of the Java virtual machine.
13743       This means that some collectors will never generate these events.
13744       This event is sent while the VM is still stopped, thus
13745       the event handler must not use JNI functions and
13746       must not use &lt;jvmti/&gt; functions except those which
13747       specifically allow such use (see the raw monitor, memory management,
13748       and environment local storage functions).
13749       &lt;p/&gt;
13750       This event is always sent as a matched pair with
13751       &lt;eventlink id=&quot;GarbageCollectionFinish&quot;/&gt;
13752       (assuming both events are enabled) and no garbage collection
13753       events will occur between them.
13754     &lt;/description&gt;
13755     &lt;origin&gt;new&lt;/origin&gt;
13756     &lt;capabilities&gt;
13757       &lt;required id=&quot;can_generate_garbage_collection_events&quot;&gt;&lt;/required&gt;
13758     &lt;/capabilities&gt;
13759     &lt;parameters&gt;
13760     &lt;/parameters&gt;
13761   &lt;/event&gt;
13762 
13763   &lt;event label=&quot;Garbage Collection Finish&quot;
13764          id=&quot;GarbageCollectionFinish&quot; const=&quot;JVMTI_EVENT_GARBAGE_COLLECTION_FINISH&quot; num=&quot;82&quot;&gt;
13765     &lt;description&gt;
13766       A Garbage Collection Finish event is sent when a
13767       garbage collection pause ends.
13768       This event is sent while the VM is still stopped, thus
13769       the event handler must not use JNI functions and
13770       must not use &lt;jvmti/&gt; functions except those which
13771       specifically allow such use (see the raw monitor, memory management,
13772       and environment local storage functions).
13773       &lt;p/&gt;
13774       Some agents may need to do post garbage collection operations that
13775       require the use of the disallowed &lt;jvmti/&gt; or JNI functions. For these
13776       cases an agent thread can be created which waits on a raw monitor,
13777       and the handler for the Garbage Collection Finish event simply
13778       notifies the raw monitor
13779       &lt;p/&gt;
13780       This event is always sent as a matched pair with
13781       &lt;eventlink id=&quot;GarbageCollectionStart&quot;/&gt; (assuming both events are enabled).
13782       &lt;issue&gt;
13783         The most important use of this event is to provide timing information,
13784         and thus additional information is not required.  However,
13785         information about the collection which is &quot;free&quot; should be included -
13786         what that information is needs to be determined.
13787       &lt;/issue&gt;
13788     &lt;/description&gt;
13789     &lt;origin&gt;new&lt;/origin&gt;
13790     &lt;capabilities&gt;
13791       &lt;required id=&quot;can_generate_garbage_collection_events&quot;&gt;&lt;/required&gt;
13792     &lt;/capabilities&gt;
13793     &lt;parameters&gt;
13794     &lt;/parameters&gt;
13795   &lt;/event&gt;
13796 
13797   &lt;elide&gt;
13798   &lt;event label=&quot;Verbose Output&quot; phase=&quot;any&quot;
13799          id=&quot;VerboseOutput&quot; const=&quot;JVMTI_EVENT_VERBOSE_OUTPUT&quot; num=&quot;85&quot;&gt;
13800     &lt;description&gt;
13801       Send verbose messages as strings.
13802         &lt;issue&gt;
13803           This format is extremely fragile, as it can change with each
13804           platform, collector and version.  Alternatives include:
13805           &lt;ul&gt;
13806             &lt;li&gt;building off Java programming language M and M APIs&lt;/li&gt;
13807             &lt;li&gt;XML&lt;/li&gt;
13808             &lt;li&gt;key/value pairs&lt;/li&gt;
13809             &lt;li&gt;removing it&lt;/li&gt;
13810           &lt;/ul&gt;
13811         &lt;/issue&gt;
13812         &lt;issue&gt;
13813           Though this seemed trivial to implement.
13814           In the RI it appears this will be quite complex.
13815         &lt;/issue&gt;
13816     &lt;/description&gt;
13817     &lt;origin&gt;new&lt;/origin&gt;
13818     &lt;capabilities&gt;
13819     &lt;/capabilities&gt;
13820     &lt;parameters&gt;
13821       &lt;param id=&quot;flag&quot;&gt;
13822         &lt;enum&gt;jvmtiVerboseFlag&lt;/enum&gt;
13823         &lt;description&gt;
13824           Which verbose output is being sent.
13825         &lt;/description&gt;
13826       &lt;/param&gt;
13827       &lt;param id=&quot;message&quot;&gt;
13828         &lt;vmbuf&gt;&lt;char/&gt;&lt;/vmbuf&gt;
13829         &lt;description&gt;
13830           Message text, encoded as a
13831           &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
13832         &lt;/description&gt;
13833       &lt;/param&gt;
13834     &lt;/parameters&gt;
13835   &lt;/event&gt;
13836   &lt;/elide&gt;
13837 
13838 &lt;/eventsection&gt;
13839 
13840 &lt;datasection&gt;
13841   &lt;intro&gt;
13842     &lt;jvmti/&gt; extends the data types defined by JNI.
13843   &lt;/intro&gt;
13844   &lt;basetypes id=&quot;jniTypes&quot; label=&quot;JNI Types Used in the JVM Tool Interface&quot;&gt;
13845     &lt;basetype id=&quot;jboolean&quot;&gt;
13846       &lt;description&gt;
13847         Holds a Java programming language &lt;code&gt;boolean&lt;/code&gt;.
13848         Unsigned 8 bits.
13849       &lt;/description&gt;
13850     &lt;/basetype&gt;
13851     &lt;basetype id=&quot;jchar&quot;&gt;
13852       &lt;description&gt;
13853         Holds a Java programming language &lt;code&gt;char&lt;/code&gt;.
13854         Unsigned 16 bits.
13855       &lt;/description&gt;
13856     &lt;/basetype&gt;
13857     &lt;basetype id=&quot;jint&quot;&gt;
13858       &lt;description&gt;
13859         Holds a Java programming language &lt;code&gt;int&lt;/code&gt;.
13860         Signed 32 bits.
13861       &lt;/description&gt;
13862     &lt;/basetype&gt;
13863     &lt;basetype id=&quot;jlong&quot;&gt;
13864       &lt;description&gt;
13865         Holds a Java programming language &lt;code&gt;long&lt;/code&gt;.
13866         Signed 64 bits.
13867       &lt;/description&gt;
13868     &lt;/basetype&gt;
13869     &lt;basetype id=&quot;jfloat&quot;&gt;
13870       &lt;description&gt;
13871         Holds a Java programming language &lt;code&gt;float&lt;/code&gt;.
13872         32 bits.
13873       &lt;/description&gt;
13874     &lt;/basetype&gt;
13875     &lt;basetype id=&quot;jdouble&quot;&gt;
13876       &lt;description&gt;
13877         Holds a Java programming language &lt;code&gt;double&lt;/code&gt;.
13878         64 bits.
13879       &lt;/description&gt;
13880     &lt;/basetype&gt;
13881     &lt;basetype id=&quot;jobject&quot;&gt;
13882       &lt;description&gt;
13883         Holds a Java programming language object.
13884       &lt;/description&gt;
13885     &lt;/basetype&gt;
13886     &lt;basetype id=&quot;jclass&quot;&gt;
13887       &lt;description&gt;
13888         Holds a Java programming language class.
13889       &lt;/description&gt;
13890     &lt;/basetype&gt;
13891     &lt;basetype id=&quot;jvalue&quot;&gt;
13892       &lt;description&gt;
13893         Is a union of all primitive types and &lt;code&gt;jobject&lt;/code&gt;.  Thus, holds any Java
13894         programming language value.
13895       &lt;/description&gt;
13896     &lt;/basetype&gt;
13897     &lt;basetype id=&quot;jfieldID&quot;&gt;
13898       &lt;description&gt;
13899         Identifies a Java programming language field.
13900         &lt;code&gt;jfieldID&lt;/code&gt;s returned by &lt;jvmti/&gt; functions and events may be
13901         safely stored.
13902       &lt;/description&gt;
13903     &lt;/basetype&gt;
13904     &lt;basetype id=&quot;jmethodID&quot;&gt;
13905       &lt;description&gt;
13906         Identifies a Java programming language method, initializer, or constructor.
13907         &lt;code&gt;jmethodID&lt;/code&gt;s returned by &lt;jvmti/&gt; functions and events may be
13908         safely stored.  However, if the class is unloaded, they become invalid
13909         and must not be used.
13910       &lt;/description&gt;
13911     &lt;/basetype&gt;
13912     &lt;basetype id=&quot;JNIEnv&quot;&gt;
13913       &lt;description&gt;
13914         Pointer to the JNI function table.  Pointer to this (&lt;code&gt;JNIEnv *&lt;/code&gt;)
13915         is a JNI environment.
13916       &lt;/description&gt;
13917     &lt;/basetype&gt;
13918   &lt;/basetypes&gt;
13919 
13920   &lt;basetypes id=&quot;jvmtiTypes&quot; label=&quot;JVM Tool Interface Base Types&quot;&gt;
13921     &lt;basetype id=&quot;jvmtiEnv&quot;&gt;
13922       &lt;description&gt;
13923         The &lt;jvmti/&gt; &lt;internallink id=&quot;environments&quot;&gt;environment&lt;/internallink&gt; pointer.
13924         See the &lt;internallink id=&quot;FunctionSection&quot;&gt;Function Section&lt;/internallink&gt;.
13925         &lt;code&gt;jvmtiEnv&lt;/code&gt; points to the
13926         &lt;internallink id=&quot;FunctionTable&quot;&gt;function table&lt;/internallink&gt; pointer.
13927       &lt;/description&gt;
13928     &lt;/basetype&gt;
13929     &lt;basetype id=&quot;jthread&quot;&gt;
13930       &lt;definition&gt;typedef jobject jthread;&lt;/definition&gt;
13931       &lt;description&gt;
13932         Subtype of &lt;datalink id=&quot;jobject&quot;&gt;&lt;/datalink&gt; that holds a thread.
13933       &lt;/description&gt;
13934     &lt;/basetype&gt;
13935     &lt;basetype id=&quot;jthreadGroup&quot;&gt;
13936       &lt;definition&gt;typedef jobject jthreadGroup;&lt;/definition&gt;
13937       &lt;description&gt;
13938         Subtype of &lt;datalink id=&quot;jobject&quot;&gt;&lt;/datalink&gt; that holds a thread group.
13939       &lt;/description&gt;
13940     &lt;/basetype&gt;
13941     &lt;basetype id=&quot;jlocation&quot;&gt;
13942       &lt;definition&gt;typedef jlong jlocation;&lt;/definition&gt;
13943       &lt;description&gt;
13944         A 64 bit value, representing a monotonically increasing
13945         executable position within a method.
13946         &lt;code&gt;-1&lt;/code&gt; indicates a native method.
13947         See &lt;functionlink id=&quot;GetJLocationFormat&quot;&gt;&lt;/functionlink&gt; for the format on a
13948         given VM.
13949       &lt;/description&gt;
13950     &lt;/basetype&gt;
13951     &lt;basetype id=&quot;jrawMonitorID&quot;&gt;
13952       &lt;definition&gt;struct _jrawMonitorID;
13953 typedef struct _jrawMonitorID *jrawMonitorID;&lt;/definition&gt;
13954       &lt;description&gt;
13955         A raw monitor.
13956       &lt;/description&gt;
13957     &lt;/basetype&gt;
13958     &lt;basetype id=&quot;jvmtiError&quot;&gt;
13959       &lt;description&gt;
13960         Holds an error return code.
13961         See the &lt;internallink id=&quot;ErrorSection&quot;&gt;Error section&lt;/internallink&gt; for possible values.
13962         &lt;example&gt;
13963 typedef enum {
13964     JVMTI_ERROR_NONE = 0,
13965     JVMTI_ERROR_INVALID_THREAD = 10,
13966       ...
13967 } jvmtiError;
13968 &lt;/example&gt;
13969       &lt;/description&gt;
13970     &lt;/basetype&gt;
13971     &lt;basetype id=&quot;jvmtiEvent&quot;&gt;
13972       &lt;description&gt;
13973         An identifier for an event type.
13974         See the &lt;internallink id=&quot;EventSection&quot;&gt;Event section&lt;/internallink&gt; for possible values.
13975         It is guaranteed that future versions of this specification will
13976         never assign zero as an event type identifier.
13977 &lt;example&gt;
13978 typedef enum {
13979     JVMTI_EVENT_SINGLE_STEP = 1,
13980     JVMTI_EVENT_BREAKPOINT = 2,
13981       ...
13982 } jvmtiEvent;
13983 &lt;/example&gt;
13984       &lt;/description&gt;
13985     &lt;/basetype&gt;
13986     &lt;basetype id=&quot;jvmtiEventCallbacks&quot; name=&quot;eventCallbacks&quot;&gt;
13987       &lt;description&gt;
13988         The callbacks used for events.
13989 &lt;example&gt;
13990 typedef struct {
13991     jvmtiEventVMInit VMInit;
13992     jvmtiEventVMDeath VMDeath;
13993       ...
13994 } jvmtiEventCallbacks;
13995 &lt;/example&gt;
13996         See &lt;internallink id=&quot;jvmtiEventCallbacks&quot;&gt;event callbacks&lt;/internallink&gt;
13997         for the complete structure.
13998         &lt;p/&gt;
13999         Where, for example, the VM initialization callback is defined:
14000 &lt;example&gt;
14001 typedef void (JNICALL *jvmtiEventVMInit)
14002     (jvmtiEnv *jvmti_env,
14003      JNIEnv* jni_env,
14004      jthread thread);
14005 &lt;/example&gt;
14006         See the individual events for the callback function definition.
14007       &lt;/description&gt;
14008     &lt;/basetype&gt;
14009     &lt;basetype id=&quot;jniNativeInterface&quot;&gt;
14010       &lt;definition&gt;typedef struct JNINativeInterface_ jniNativeInterface;&lt;/definition&gt;
14011       &lt;description&gt;
14012         Typedef for the JNI function table &lt;code&gt;JNINativeInterface&lt;/code&gt;
14013         defined in the
14014         &lt;externallink id=&quot;jni/functions.html#interface-function-table&quot;&gt;
14015           JNI Specification&lt;/externallink&gt;.
14016         The JNI reference implementation defines this with an underscore.
14017       &lt;/description&gt;
14018     &lt;/basetype&gt;
14019   &lt;/basetypes&gt;
14020 
14021 &lt;/datasection&gt;
14022 
14023 &lt;issuessection label=&quot;Issues&quot;&gt;
14024   &lt;intro id=&quot;suspendRequired&quot; label=&quot;Resolved Issue: Suspend - Required or Automatic&quot;&gt;
14025     JVMDI requires that the agent suspend threads before calling
14026     certain sensitive functions.  JVMPI requires garbage collection to be
14027     disabled before calling certain sensitive functions.
14028     It was suggested that rather than have this requirement, that
14029     VM place itself in a suitable state before performing an
14030     operation.  This makes considerable sense since each VM
14031     knows its requirements and can most easily arrange a
14032     safe state.
14033     &lt;p/&gt;
14034     The ability to externally suspend/resume threads will, of
14035     course, remain.  The ability to enable/disable garbage collection will not.
14036     &lt;p/&gt;
14037     This issue is resolved--suspend will not
14038     be required.  The spec has been updated to reflect this.
14039   &lt;/intro&gt;
14040 
14041   &lt;intro id=&quot;stackSampling&quot; label=&quot;Resolved Issue: Call Stack Sampling&quot;&gt;
14042     There are a variety of approaches to sampling call stacks.
14043     The biggest bifurcation is between VM controlled and agent
14044     controlled.
14045     &lt;p/&gt;
14046     This issue is resolved--agent controlled
14047     sampling will be the approach.
14048   &lt;/intro&gt;
14049 
14050   &lt;intro id=&quot;threadRepresentation&quot; label=&quot;Resolved Issue: Thread Representation&quot;&gt;
14051     JVMDI represents threads as jthread.  JVMPI primarily
14052     uses JNIEnv* to represent threads.
14053     &lt;p/&gt;
14054     The Expert Group has chosen jthread as the representation
14055     for threads in &lt;jvmti/&gt;.
14056     JNIEnv* is sent by
14057     events since it is needed to JNI functions.  JNIEnv, per the
14058     JNI spec, are not supposed to be used outside their thread.
14059   &lt;/intro&gt;
14060 
14061   &lt;intro id=&quot;design&quot; label=&quot;Resolved Issue: Method Representation&quot;&gt;
14062     The JNI spec allows an implementation to depend on jclass/jmethodID
14063     pairs, rather than simply a jmethodID, to reference a method.
14064     JVMDI, for consistency, choose the same representation.
14065     JVMPI, however, specifies that a jmethodID alone maps to a
14066     method.  Both of the Sun &lt;tm&gt;J2SE&lt;/tm&gt; virtual machines (Classic and &lt;tm&gt;HotSpot&lt;/tm&gt;) store
14067     pointers in jmethodIDs, and as a result, a jmethodID is sufficient.
14068     In fact, any JVM implementation that supports JVMPI must have
14069     such a representation.
14070     &lt;jvmti/&gt; will use jmethodID as a unique representation of a method
14071     (no jclass is used).
14072     There should be efficiency gains, particularly in
14073     functionality like stack dumping, to this representation.
14074     &lt;p/&gt;
14075     Note that fields were not used in JVMPI and that the access profile
14076     of fields differs from methods--for implementation efficiency
14077     reasons, a jclass/jfieldID pair will still be needed for field
14078     reference.
14079   &lt;/intro&gt;
14080 
14081   &lt;intro id=&quot;localReferenceIssue&quot; label=&quot;Resolved Issue: Local References&quot;&gt;
14082     Functions return local references.
14083   &lt;/intro&gt;
14084 
14085   &lt;intro id=&quot;frameRep&quot; label=&quot;Resolved Issue: Representation of frames&quot;&gt;
14086     In JVMDI, a frame ID is used to represent a frame.  Problem with this
14087     is that a VM must track when a frame becomes invalid, a far better
14088     approach, and the one used in &lt;jvmti/&gt;, is to reference frames by depth.
14089   &lt;/intro&gt;
14090 
14091   &lt;intro id=&quot;requiredCapabilities&quot; label=&quot;Issue: Required Capabilities&quot;&gt;
14092     Currently, having a required capabilities means that the functionality
14093     is optional.   Capabilities are useful even for required functionality
14094     since they can inform the VM is needed set-up.  Thus, there should be
14095     a set of capabilities that a conformant implementation must provide
14096     (if requested during Agent_OnLoad).
14097   &lt;/intro&gt;
14098 
14099   &lt;intro id=&quot;taghint&quot; label=&quot;Proposal: add tag hint function&quot;&gt;
14100     A hint of the percentage of objects that will be tagged would
14101     help the VM pick a good implementation.
14102   &lt;/intro&gt;
14103 
14104   &lt;intro id=&quot;moreMonitorQueries&quot; label=&quot;Request: More Monitor Quires&quot;&gt;
14105   How difficult or easy would be to extend the monitor_info category to include
14106     &lt;pre&gt;
14107   - current number of monitors
14108   - enumeration of monitors
14109   - enumeration of threads waiting on a given monitor
14110     &lt;/pre&gt;
14111   The reason for my question is the fact that current get_monitor_info support
14112   requires the agent to specify a given thread to get the info which is probably
14113   OK in the profiling/debugging space, while in the monitoring space the agent
14114   could be watching the monitor list and then decide which thread to ask for
14115   the info. You might ask why is this important for monitoring .... I think it
14116   can aid in the detection/prediction of application contention caused by hot-locks.
14117   &lt;/intro&gt;
14118 &lt;/issuessection&gt;
14119 
14120 &lt;changehistory id=&quot;ChangeHistory&quot; update=&quot;09/05/07&quot;&gt;
14121   &lt;intro&gt;
14122     The &lt;jvmti/&gt; specification is an evolving document with major, minor,
14123     and micro version numbers.
14124     A released version of the specification is uniquely identified
14125     by its major and minor version.
14126     The functions, events, and capabilities in this specification
14127     indicate a &quot;Since&quot; value which is the major and minor version in
14128     which it was introduced.
14129     The version of the specification implemented by the VM can
14130     be retrieved at runtime with the &lt;functionlink id=&quot;GetVersionNumber&quot;/&gt;
14131     function.
14132   &lt;/intro&gt;
14133   &lt;change date=&quot;14 Nov 2002&quot;&gt;
14134     Converted to XML document.
14135   &lt;/change&gt;
14136   &lt;change date=&quot;14 Nov 2002&quot;&gt;
14137     Elided heap dump functions (for now) since what was there
14138     was wrong.
14139   &lt;/change&gt;
14140   &lt;change date=&quot;18 Nov 2002&quot;&gt;
14141     Added detail throughout.
14142   &lt;/change&gt;
14143   &lt;change date=&quot;18 Nov 2002&quot;&gt;
14144     Changed JVMTI_THREAD_STATUS_RUNNING to JVMTI_THREAD_STATUS_RUNNABLE.
14145   &lt;/change&gt;
14146   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14147     Added AsyncGetStackTrace.
14148   &lt;/change&gt;
14149   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14150     Added jframeID return to GetStackTrace.
14151   &lt;/change&gt;
14152   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14153     Elided GetCurrentFrame and GetCallingFrame functions (for now) since what was there
14154     since they are redundant with GetStackTrace.
14155   &lt;/change&gt;
14156   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14157     Elided ClearAllBreakpoints since it has always been redundant.
14158   &lt;/change&gt;
14159   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14160     Added GetSystemProperties.
14161   &lt;/change&gt;
14162   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14163     Changed the thread local storage functions to use jthread.
14164   &lt;/change&gt;
14165   &lt;change date=&quot;20 Nov 2002&quot;&gt;
14166     Added GetJLocationFormat.
14167   &lt;/change&gt;
14168   &lt;change date=&quot;22 Nov 2002&quot;&gt;
14169     Added events and introductory text.
14170   &lt;/change&gt;
14171   &lt;change date=&quot;22 Nov 2002&quot;&gt;
14172     Cross reference type and constant definitions.
14173   &lt;/change&gt;
14174   &lt;change date=&quot;24 Nov 2002&quot;&gt;
14175     Added DTD.
14176   &lt;/change&gt;
14177   &lt;change date=&quot;24 Nov 2002&quot;&gt;
14178     Added capabilities function section.
14179   &lt;/change&gt;
14180   &lt;change date=&quot;29 Nov 2002&quot;&gt;
14181     Assign capabilities to each function and event.
14182   &lt;/change&gt;
14183   &lt;change date=&quot;29 Nov 2002&quot;&gt;
14184     Add &lt;internallink id=&quot;jniIntercept&quot;&gt;JNI interception functions&lt;/internallink&gt;.
14185   &lt;/change&gt;
14186   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14187     Auto generate SetEventNotificationMode capabilities.
14188   &lt;/change&gt;
14189   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14190     Add &lt;eventlink id=&quot;VMObjectAlloc&quot;&gt;&lt;/eventlink&gt; event.
14191   &lt;/change&gt;
14192   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14193     Add &lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;/eventlink&gt; event.
14194   &lt;/change&gt;
14195   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14196     Add const to declarations.
14197   &lt;/change&gt;
14198   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14199     Change method exit and frame pop to send on exception.
14200   &lt;/change&gt;
14201   &lt;change date=&quot;1 Dec 2002&quot;&gt;
14202     Add ForceGarbageCollection.
14203   &lt;/change&gt;
14204   &lt;change date=&quot;2 Dec 2002&quot;&gt;
14205     Redo Xrun section; clarify GetStackTrace and add example;
14206     Fix width problems; use &quot;agent&quot; consistently.
14207   &lt;/change&gt;
14208   &lt;change date=&quot;8 Dec 2002&quot;&gt;
14209     Remove previous start-up intro.
14210     Add &lt;internallink id=&quot;environments&quot;&gt;&lt;jvmti/&gt; Environments&lt;/internallink&gt;
14211     section.
14212   &lt;/change&gt;
14213   &lt;change date=&quot;8 Dec 2002&quot;&gt;
14214     Add &lt;functionlink id=&quot;DisposeEnvironment&quot;&gt;&lt;/functionlink&gt;.
14215   &lt;/change&gt;
14216   &lt;change date=&quot;9 Dec 2002&quot;&gt;
14217     Numerous minor updates.
14218   &lt;/change&gt;
14219   &lt;change date=&quot;15 Dec 2002&quot;&gt;
14220     Add heap profiling functions added:
14221     get/set annotation, iterate live objects/heap.
14222     Add heap profiling functions place holder added:
14223     heap roots.
14224     Heap profiling event added: object free.
14225     Heap profiling event redesigned: vm object allocation.
14226     Heap profiling event placeholders added: garbage collection start/finish.
14227     Native method bind event added.
14228   &lt;/change&gt;
14229   &lt;change date=&quot;19 Dec 2002&quot;&gt;
14230     Revamp suspend/resume functions.
14231     Add origin information with jvmdi tag.
14232     Misc fixes.
14233   &lt;/change&gt;
14234   &lt;change date=&quot;24 Dec 2002&quot;&gt;
14235     Add semantics to types.
14236   &lt;/change&gt;
14237   &lt;change date=&quot;27 Dec 2002&quot;&gt;
14238     Add local reference section.
14239     Autogenerate parameter descriptions from types.
14240   &lt;/change&gt;
14241   &lt;change date=&quot;28 Dec 2002&quot;&gt;
14242     Document that RunAgentThread sends threadStart.
14243   &lt;/change&gt;
14244   &lt;change date=&quot;29 Dec 2002&quot;&gt;
14245     Remove redundant local ref and dealloc warning.
14246     Convert GetRawMonitorName to allocated buffer.
14247     Add GenerateEvents.
14248   &lt;/change&gt;
14249   &lt;change date=&quot;30 Dec 2002&quot;&gt;
14250     Make raw monitors a type and rename to &quot;jrawMonitorID&quot;.
14251   &lt;/change&gt;
14252   &lt;change date=&quot;1 Jan 2003&quot;&gt;
14253     Include origin information.
14254     Clean-up JVMDI issue references.
14255     Remove Deallocate warnings which are now automatically generated.
14256   &lt;/change&gt;
14257   &lt;change date=&quot;2 Jan 2003&quot;&gt;
14258     Fix representation issues for jthread.
14259   &lt;/change&gt;
14260   &lt;change date=&quot;3 Jan 2003&quot;&gt;
14261     Make capabilities buffered out to 64 bits - and do it automatically.
14262   &lt;/change&gt;
14263   &lt;change date=&quot;4 Jan 2003&quot;&gt;
14264     Make constants which are enumeration into enum types.
14265     Parameters now of enum type.
14266     Clean-up and index type section.
14267     Replace remaining datadef entities with callback.
14268   &lt;/change&gt;
14269   &lt;change date=&quot;7 Jan 2003&quot;&gt;
14270     Correct GenerateEvents description.
14271     More internal semantics work.
14272   &lt;/change&gt;
14273   &lt;change date=&quot;9 Jan 2003&quot;&gt;
14274     Replace previous GetSystemProperties with two functions
14275     which use allocated information instead fixed.
14276     Add SetSystemProperty.
14277     More internal semantics work.
14278   &lt;/change&gt;
14279   &lt;change date=&quot;12 Jan 2003&quot;&gt;
14280     Add varargs to end of SetEventNotificationMode.
14281   &lt;/change&gt;
14282   &lt;change date=&quot;20 Jan 2003&quot;&gt;
14283     Finish fixing spec to reflect that alloc sizes are jlong.
14284   &lt;/change&gt;
14285   &lt;change date=&quot;22 Jan 2003&quot;&gt;
14286     Allow NULL as RunAgentThread arg.
14287   &lt;/change&gt;
14288   &lt;change date=&quot;22 Jan 2003&quot;&gt;
14289     Fixed names to standardized naming convention
14290     Removed AsyncGetStackTrace.
14291   &lt;/change&gt;
14292   &lt;change date=&quot;29 Jan 2003&quot;&gt;
14293     Since we are using jthread, removed GetThread.
14294   &lt;/change&gt;
14295   &lt;change date=&quot;31 Jan 2003&quot;&gt;
14296     Change GetFieldName to allow NULLs like GetMethodName.
14297   &lt;/change&gt;
14298   &lt;change date=&quot;29 Feb 2003&quot; version=&quot;v40&quot;&gt;
14299       Rewrite the introductory text, adding sections on
14300       start-up, environments and bytecode instrumentation.
14301       Change the command line arguments per EG discussions.
14302       Add an introduction to the capabilities section.
14303       Add the extension mechanism category and functions.
14304       Mark for deletion, but clarified anyhow, SuspendAllThreads.
14305       Rename IterateOverLiveObjects to IterateOverReachableObjects and
14306       change the text accordingly.
14307       Clarify IterateOverHeap.
14308       Clarify CompiledMethodLoad.
14309       Discuss prerequisite state for Calling Functions.
14310       Clarify SetAllocationHooks.
14311       Added issues (&quot;To be resolved:&quot;) through-out.
14312       And so on...
14313   &lt;/change&gt;
14314   &lt;change date=&quot;6 Mar 2003&quot; version=&quot;v41&quot;&gt;
14315       Remove struct from the call to GetOwnedMonitorInfo.
14316       Automatically generate most error documentation, remove
14317       (rather broken) hand written error doc.
14318       Better describe capability use (empty initial set).
14319       Add min value to jint params.
14320       Remove the capability can_access_thread_local_storage.
14321       Rename error JVMTI_ERROR_NOT_IMPLEMENTED to JVMTI_ERROR_MUST_POSSESS_CAPABILITY;
14322       same for *NOT_IMPLEMENTED.
14323       Description fixes.
14324   &lt;/change&gt;
14325   &lt;change date=&quot;8 Mar 2003&quot; version=&quot;v42&quot;&gt;
14326       Rename GetClassSignature to GetClassName.
14327       Rename IterateOverClassObjects to IterateOverInstancesOfClass.
14328       Remove GetMaxStack (operand stack isn&#39;t used in &lt;jvmti/&gt;).
14329       Description fixes: define launch-time, remove native frame pop
14330       from PopFrame, and assorted clarifications.
14331   &lt;/change&gt;
14332   &lt;change date=&quot;8 Mar 2003&quot; version=&quot;v43&quot;&gt;
14333       Fix minor editing problem.
14334   &lt;/change&gt;
14335   &lt;change date=&quot;10 Mar 2003&quot; version=&quot;v44&quot;&gt;
14336       Add phase information.
14337       Remap (compact) event numbers.
14338   &lt;/change&gt;
14339   &lt;change date=&quot;11 Mar 2003&quot; version=&quot;v45&quot;&gt;
14340       More phase information - allow &quot;any&quot;.
14341       Elide raw monitor queries and events.
14342       Minor description fixes.
14343   &lt;/change&gt;
14344   &lt;change date=&quot;12 Mar 2003&quot; version=&quot;v46&quot;&gt;
14345       Add GetPhase.
14346       Use &quot;phase&quot; through document.
14347       Elide GetRawMonitorName.
14348       Elide GetObjectMonitors.
14349   &lt;/change&gt;
14350   &lt;change date=&quot;12 Mar 2003&quot; version=&quot;v47&quot;&gt;
14351       Fixes from link, XML, and spell checking.
14352       Auto-generate the callback structure.
14353   &lt;/change&gt;
14354   &lt;change date=&quot;13 Mar 2003&quot; version=&quot;v48&quot;&gt;
14355       One character XML fix.
14356   &lt;/change&gt;
14357   &lt;change date=&quot;13 Mar 2003&quot; version=&quot;v49&quot;&gt;
14358       Change function parameter names to be consistent with
14359       event parameters (fooBarBaz becomes foo_bar_baz).
14360   &lt;/change&gt;
14361   &lt;change date=&quot;14 Mar 2003&quot; version=&quot;v50&quot;&gt;
14362       Fix broken link.  Fix thread markers.
14363   &lt;/change&gt;
14364   &lt;change date=&quot;14 Mar 2003&quot; version=&quot;v51&quot;&gt;
14365       Change constants so they are under 128 to workaround
14366       compiler problems.
14367   &lt;/change&gt;
14368   &lt;change date=&quot;23 Mar 2003&quot; version=&quot;v52&quot;&gt;
14369       Overhaul capabilities.  Separate GetStackTrace into
14370       GetStackTrace and GetStackFrames.
14371   &lt;/change&gt;
14372   &lt;change date=&quot;8 Apr 2003&quot; version=&quot;v54&quot;&gt;
14373       Use depth instead of jframeID to reference frames.
14374       Remove the now irrelevant GetCurrentFrame, GetCallerFrame and GetStackFrames.
14375       Remove frame arg from events.
14376   &lt;/change&gt;
14377   &lt;change date=&quot;9 Apr 2003&quot; version=&quot;v55&quot;&gt;
14378       Remove GetObjectWithAnnotation since tests show bufferred approach more efficient.
14379       Add missing annotation_count to GetObjectsWithAnnotations
14380   &lt;/change&gt;
14381   &lt;change date=&quot;10 Apr 2003&quot; version=&quot;v56&quot;&gt;
14382       Remove confusing parenthetical statement in GetObjectsWithAnnotations
14383   &lt;/change&gt;
14384   &lt;change date=&quot;13 Apr 2003&quot; version=&quot;v58&quot;&gt;
14385       Replace jclass/jmethodID representation of method with simply jmethodID;
14386       Pass JvmtiEnv* as first arg of every event; remove JNIEnv* where inappropriate.
14387       Replace can_access_frames with can_access_local_variables; remove from purely stack access.
14388       Use can_get_synthetic_attribute; fix description.
14389       Clarify that zero length arrays must be deallocated.
14390       Clarify RelinquishCapabilities.
14391       Generalize JVMTI_ERROR_VM_DEAD to JVMTI_ERROR_WRONG_PHASE.
14392   &lt;/change&gt;
14393   &lt;change date=&quot;27 Apr 2003&quot; version=&quot;v59&quot;&gt;
14394       Remove lingering indirect references to OBSOLETE_METHOD_ID.
14395   &lt;/change&gt;
14396   &lt;change date=&quot;4 May 2003&quot; version=&quot;v60&quot;&gt;
14397       Allow DestroyRawMonitor during OnLoad.
14398   &lt;/change&gt;
14399   &lt;change date=&quot;7 May 2003&quot; version=&quot;v61&quot;&gt;
14400       Added not monitor owner error return to DestroyRawMonitor.
14401   &lt;/change&gt;
14402   &lt;change date=&quot;13 May 2003&quot; version=&quot;v62&quot;&gt;
14403       Clarify semantics of raw monitors.
14404       Change flags on &lt;code&gt;GetThreadStatus&lt;/code&gt;.
14405       &lt;code&gt;GetClassLoader&lt;/code&gt; return NULL for the bootstrap class loader.
14406       Add &lt;code&gt;GetClassName&lt;/code&gt; issue.
14407       Define local variable signature.
14408       Disallow zero in annotations array of &lt;code&gt;GetObjectsWithAnnotations&lt;/code&gt;.
14409       Remove over specification in &lt;code&gt;GetObjectsWithAnnotations&lt;/code&gt;.
14410       Elide &lt;code&gt;SetAllocationHooks&lt;/code&gt;.
14411       Elide &lt;code&gt;SuspendAllThreads&lt;/code&gt;.
14412   &lt;/change&gt;
14413   &lt;change date=&quot;14 May 2003&quot; version=&quot;v63&quot;&gt;
14414       Define the data type &lt;code&gt;jvmtiEventCallbacks&lt;/code&gt;.
14415       Zero length allocations return NULL.
14416       Keep SetAllocationHooks in JVMDI, but remove from &lt;jvmti/&gt;.
14417       Add JVMTI_THREAD_STATUS_FLAG_INTERRUPTED.
14418   &lt;/change&gt;
14419   &lt;change date=&quot;15 May 2003&quot; version=&quot;v64&quot;&gt;
14420       Better wording, per review.
14421   &lt;/change&gt;
14422   &lt;change date=&quot;15 May 2003&quot; version=&quot;v65&quot;&gt;
14423       First Alpha.
14424       Make jmethodID and jfieldID unique, jclass not used.
14425   &lt;/change&gt;
14426   &lt;change date=&quot;27 May 2003&quot; version=&quot;v66&quot;&gt;
14427       Fix minor XSLT errors.
14428   &lt;/change&gt;
14429   &lt;change date=&quot;13 June 2003&quot; version=&quot;v67&quot;&gt;
14430       Undo making jfieldID unique (jmethodID still is).
14431   &lt;/change&gt;
14432   &lt;change date=&quot;17 June 2003&quot; version=&quot;v68&quot;&gt;
14433       Changes per June 11th Expert Group meeting --
14434       Overhaul Heap functionality: single callback,
14435       remove GetHeapRoots, add reachable iterators,
14436       and rename &quot;annotation&quot; to &quot;tag&quot;.
14437       NULL thread parameter on most functions is current
14438       thread.
14439       Add timers.
14440       Remove ForceExit.
14441       Add GetEnvironmentLocalStorage.
14442       Add verbose flag and event.
14443       Add AddToBootstrapClassLoaderSearch.
14444       Update ClassFileLoadHook.
14445   &lt;/change&gt;
14446   &lt;change date=&quot;18 June 2003&quot; version=&quot;v69&quot;&gt;
14447       Clean up issues sections.
14448       Rename GetClassName back to GetClassSignature and
14449       fix description.
14450       Add generic signature to GetClassSignature,
14451       GetFieldSignature, GetMethodSignature, and
14452       GetLocalVariableTable.
14453       Elide EstimateCostOfCapabilities.
14454       Clarify that the system property functions operate
14455       on the VM view of system properties.
14456       Clarify Agent_OnLoad.
14457       Remove &quot;const&quot; from JNIEnv* in events.
14458       Add metadata accessors.
14459   &lt;/change&gt;
14460   &lt;change date=&quot;18 June 2003&quot; version=&quot;v70&quot;&gt;
14461       Add start_depth to GetStackTrace.
14462       Move system properties to a new category.
14463       Add GetObjectSize.
14464       Remove &quot;X&quot; from command line flags.
14465       XML, HTML, and spell check corrections.
14466   &lt;/change&gt;
14467   &lt;change date=&quot;19 June 2003&quot; version=&quot;v71&quot;&gt;
14468       Fix JVMTI_HEAP_ROOT_THREAD to be 6.
14469       Make each synopsis match the function name.
14470       Fix unclear wording.
14471   &lt;/change&gt;
14472   &lt;change date=&quot;26 June 2003&quot; version=&quot;v72&quot;&gt;
14473       SetThreadLocalStorage and SetEnvironmentLocalStorage should allow value
14474       to be set to NULL.
14475       NotifyFramePop, GetFrameLocationm and all the local variable operations
14476       needed to have their wording about frames fixed.
14477       Grammar and clarity need to be fixed throughout.
14478       Capitalization and puntuation need to be consistent.
14479       Need micro version number and masks for accessing major, minor, and micro.
14480       The error code lists should indicate which must be returned by
14481       an implementation.
14482       The command line properties should be visible in the properties functions.
14483       Disallow popping from the current thread.
14484       Allow implementations to return opaque frame error when they cannot pop.
14485       The NativeMethodBind event should be sent during any phase.
14486       The DynamicCodeGenerated event should be sent during any phase.
14487       The following functions should be allowed to operate before VMInit:
14488         Set/GetEnvironmentLocalStorage
14489         GetMethodDeclaringClass
14490         GetClassSignature
14491         GetClassModifiers
14492         IsInterface
14493         IsArrayClass
14494         GetMethodName
14495         GetMethodModifiers
14496         GetMaxLocals
14497         GetArgumentsSize
14498         GetLineNumberTable
14499         GetMethodLocation
14500         IsMethodNative
14501         IsMethodSynthetic.
14502       Other changes (to XSL):
14503       Argument description should show asterisk after not before pointers.
14504       NotifyFramePop, GetFrameLocationm and all the local variable operations
14505       should hsve the NO_MORE_FRAMES error added.
14506       Not alive threads should have a different error return than invalid thread.
14507   &lt;/change&gt;
14508   &lt;change date=&quot;7 July 2003&quot; version=&quot;v73&quot;&gt;
14509       VerboseOutput event was missing message parameter.
14510       Minor fix-ups.
14511   &lt;/change&gt;
14512   &lt;change date=&quot;14 July 2003&quot; version=&quot;v74&quot;&gt;
14513       Technical Publications Department corrections.
14514       Allow thread and environment local storage to be set to NULL.
14515   &lt;/change&gt;
14516   &lt;change date=&quot;23 July 2003&quot; version=&quot;v75&quot;&gt;
14517       Use new Agent_OnLoad rather than overloaded JVM_OnLoad.
14518       Add JNICALL to callbacks (XSL).
14519       Document JNICALL requirement for both events and callbacks (XSL).
14520       Restrict RedefineClasses to methods and attributes.
14521       Elide the VerboseOutput event.
14522       VMObjectAlloc: restrict when event is sent and remove method parameter.
14523       Finish loose ends from Tech Pubs edit.
14524   &lt;/change&gt;
14525   &lt;change date=&quot;24 July 2003&quot; version=&quot;v76&quot;&gt;
14526       Change ClassFileLoadHook event to send the class instead of a boolean of redefine.
14527   &lt;/change&gt;
14528   &lt;change date=&quot;24 July 2003&quot; version=&quot;v77&quot;&gt;
14529       XML fixes.
14530       Minor text clarifications and corrections.
14531   &lt;/change&gt;
14532   &lt;change date=&quot;24 July 2003&quot; version=&quot;v78&quot;&gt;
14533       Remove GetExceptionHandlerTable and GetThrownExceptions from &lt;jvmti/&gt;.
14534       Clarify that stack frames are JVM Spec frames.
14535       Split can_get_source_info into can_get_source_file_name, can_get_line_numbers,
14536       and can_get_source_debug_extension.
14537       PopFrame cannot have a native calling method.
14538       Removed incorrect statement in GetClassloaderClasses
14539       (see &lt;vmspec chapter=&quot;4.4&quot;/&gt;).
14540   &lt;/change&gt;
14541   &lt;change date=&quot;24 July 2003&quot; version=&quot;v79&quot;&gt;
14542       XML and text fixes.
14543       Move stack frame description into Stack Frame category.
14544   &lt;/change&gt;
14545   &lt;change date=&quot;26 July 2003&quot; version=&quot;v80&quot;&gt;
14546       Allow NULL (means bootstrap loader) for GetClassloaderClasses.
14547       Add new heap reference kinds for references from classes.
14548       Add timer information struct and query functions.
14549       Add AvailableProcessors.
14550       Rename GetOtherThreadCpuTime to GetThreadCpuTime.
14551       Explicitly add JVMTI_ERROR_INVALID_THREAD and JVMTI_ERROR_THREAD_NOT_ALIVE
14552       to SetEventNotification mode.
14553       Add initial thread to the VM_INIT event.
14554       Remove platform assumptions from AddToBootstrapClassLoaderSearch.
14555   &lt;/change&gt;
14556   &lt;change date=&quot;26 July 2003&quot; version=&quot;v81&quot;&gt;
14557       Grammar and clarity changes per review.
14558   &lt;/change&gt;
14559   &lt;change date=&quot;27 July 2003&quot; version=&quot;v82&quot;&gt;
14560       More grammar and clarity changes per review.
14561       Add Agent_OnUnload.
14562   &lt;/change&gt;
14563   &lt;change date=&quot;28 July 2003&quot; version=&quot;v83&quot;&gt;
14564       Change return type of Agent_OnUnload to void.
14565   &lt;/change&gt;
14566   &lt;change date=&quot;28 July 2003&quot; version=&quot;v84&quot;&gt;
14567       Rename JVMTI_REFERENCE_ARRAY to JVMTI_REFERENCE_ARRAY_ELEMENT.
14568   &lt;/change&gt;
14569   &lt;change date=&quot;28 July 2003&quot; version=&quot;v85&quot;&gt;
14570       Steal java.lang.Runtime.availableProcessors() wording for
14571       AvailableProcessors().
14572       Guarantee that zero will never be an event ID.
14573       Remove some issues which are no longer issues.
14574       Per review, rename and more completely document the timer
14575       information functions.
14576   &lt;/change&gt;
14577   &lt;change date=&quot;29 July 2003&quot; version=&quot;v86&quot;&gt;
14578       Non-spec visible change to XML controlled implementation:
14579         SetThreadLocalStorage must run in VM mode.
14580   &lt;/change&gt;
14581   &lt;change date=&quot;5 August 2003&quot; version=&quot;0.1.87&quot;&gt;
14582       Add GetErrorName.
14583       Add varargs warning to jvmtiExtensionEvent.
14584       Remove &quot;const&quot; on the jvmtiEnv* of jvmtiExtensionEvent.
14585       Remove unused can_get_exception_info capability.
14586       Pass jvmtiEnv* and JNIEnv* to the jvmtiStartFunction.
14587       Fix jvmtiExtensionFunctionInfo.func declared type.
14588       Extension function returns error code.
14589       Use new version numbering.
14590   &lt;/change&gt;
14591   &lt;change date=&quot;5 August 2003&quot; version=&quot;0.2.88&quot;&gt;
14592       Remove the ClassUnload event.
14593   &lt;/change&gt;
14594   &lt;change date=&quot;8 August 2003&quot; version=&quot;0.2.89&quot;&gt;
14595       Heap reference iterator callbacks return an enum that
14596       allows outgoing object references to be ignored.
14597       Allow JNIEnv as a param type to extension events/functions.
14598   &lt;/change&gt;
14599   &lt;change date=&quot;15 August 2003&quot; version=&quot;0.2.90&quot;&gt;
14600       Fix a typo.
14601   &lt;/change&gt;
14602   &lt;change date=&quot;2 September 2003&quot; version=&quot;0.2.91&quot;&gt;
14603       Remove all metadata functions: GetClassMetadata,
14604       GetFieldMetadata, and GetMethodMetadata.
14605   &lt;/change&gt;
14606   &lt;change date=&quot;1 October 2003&quot; version=&quot;0.2.92&quot;&gt;
14607       Mark the functions Allocate. Deallocate, RawMonitor*,
14608       SetEnvironmentLocalStorage, and GetEnvironmentLocalStorage
14609       as safe for use in heap callbacks and GC events.
14610   &lt;/change&gt;
14611   &lt;change date=&quot;24 November 2003&quot; version=&quot;0.2.93&quot;&gt;
14612       Add pass through opaque user data pointer to heap iterate
14613       functions and callbacks.
14614       In the CompiledMethodUnload event, send the code address.
14615       Add GarbageCollectionOccurred event.
14616       Add constant pool reference kind.
14617       Mark the functions CreateRawMonitor and DestroyRawMonitor
14618       as safe for use in heap callbacks and GC events.
14619       Clarify: VMDeath, GetCurrentThreadCpuTimerInfo,
14620       GetThreadCpuTimerInfo, IterateOverReachableObjects,
14621       IterateOverObjectsReachableFromObject, GetTime and
14622       JVMTI_ERROR_NULL_POINTER.
14623       Add missing errors to: GenerateEvents and
14624       AddToBootstrapClassLoaderSearch.
14625       Fix description of ClassFileLoadHook name parameter.
14626       In heap callbacks and GC/ObjectFree events, specify
14627       that only explicitly allowed functions can be called.
14628       Allow GetCurrentThreadCpuTimerInfo, GetCurrentThreadCpuTime,
14629       GetTimerInfo, and GetTime during callback.
14630       Allow calling SetTag/GetTag during the onload phase.
14631       SetEventNotificationMode, add: error attempted inappropriate
14632       thread level control.
14633       Remove jvmtiExceptionHandlerEntry.
14634       Fix handling of native methods on the stack --
14635       location_ptr param of GetFrameLocation, remove
14636       JVMTI_ERROR_OPAQUE_FRAME from GetFrameLocation,
14637       jvmtiFrameInfo.location, and jlocation.
14638       Remove typo (from JVMPI) implying that the MonitorWaited
14639       event is sent on sleep.
14640   &lt;/change&gt;
14641   &lt;change date=&quot;25 November 2003&quot; version=&quot;0.2.94&quot;&gt;
14642       Clarifications and typos.
14643   &lt;/change&gt;
14644   &lt;change date=&quot;3 December 2003&quot; version=&quot;0.2.95&quot;&gt;
14645       Allow NULL user_data in heap iterators.
14646   &lt;/change&gt;
14647   &lt;change date=&quot;28 January 2004&quot; version=&quot;0.2.97&quot;&gt;
14648       Add GetThreadState, deprecate GetThreadStatus.
14649   &lt;/change&gt;
14650   &lt;change date=&quot;29 January 2004&quot; version=&quot;0.2.98&quot;&gt;
14651       INVALID_SLOT and TYPE_MISMATCH errors should be optional.
14652   &lt;/change&gt;
14653   &lt;change date=&quot;12 February 2004&quot; version=&quot;0.2.102&quot;&gt;
14654       Remove MonitorContendedExit.
14655       Added JNIEnv parameter to VMObjectAlloc.
14656       Clarified definition of class_tag and referrer_index
14657       parameters to heap callbacks.
14658   &lt;/change&gt;
14659   &lt;change date=&quot;16 Febuary 2004&quot; version=&quot;0.2.103&quot;&gt;
14660       Document JAVA_TOOL_OPTIONS.
14661   &lt;/change&gt;
14662   &lt;change date=&quot;17 Febuary 2004&quot; version=&quot;0.2.105&quot;&gt;
14663       Divide start phase into primordial and start.
14664       Add VMStart event
14665       Change phase associations of functions and events.
14666   &lt;/change&gt;
14667   &lt;change date=&quot;18 Febuary 2004&quot; version=&quot;0.3.6&quot;&gt;
14668       Elide deprecated GetThreadStatus.
14669       Bump minor version, subtract 100 from micro version
14670   &lt;/change&gt;
14671   &lt;change date=&quot;18 Febuary 2004&quot; version=&quot;0.3.7&quot;&gt;
14672       Document that timer nanosecond values are unsigned.
14673       Clarify text having to do with native methods.
14674   &lt;/change&gt;
14675   &lt;change date=&quot;19 Febuary 2004&quot; version=&quot;0.3.8&quot;&gt;
14676       Fix typos.
14677       Remove elided deprecated GetThreadStatus.
14678   &lt;/change&gt;
14679   &lt;change date=&quot;23 Febuary 2004&quot; version=&quot;0.3.9&quot;&gt;
14680       Require NotifyFramePop to act on suspended threads.
14681   &lt;/change&gt;
14682   &lt;change date=&quot;24 Febuary 2004&quot; version=&quot;0.3.10&quot;&gt;
14683       Add capabilities
14684         (&lt;internallink id=&quot;jvmtiCapabilities.can_redefine_any_class&quot;
14685          &gt;&lt;code&gt;can_redefine_any_class&lt;/code&gt;&lt;/internallink&gt;
14686       and
14687          &lt;internallink id=&quot;jvmtiCapabilities.can_generate_all_class_hook_events&quot;
14688          &gt;&lt;code&gt;can_generate_all_class_hook_events&lt;/code&gt;&lt;/internallink&gt;)
14689       and an error (&lt;errorlink id=&quot;JVMTI_ERROR_UNMODIFIABLE_CLASS&quot;&gt;&lt;/errorlink&gt;)
14690       which allow some classes to be unmodifiable.
14691   &lt;/change&gt;
14692   &lt;change date=&quot;28 Febuary 2004&quot; version=&quot;0.3.11&quot;&gt;
14693       Add JVMTI_ERROR_MUST_POSSESS_CAPABILITY to SetEventNotificationMode.
14694   &lt;/change&gt;
14695   &lt;change date=&quot;8 March 2004&quot; version=&quot;0.3.12&quot;&gt;
14696       Clarified CompiledMethodUnload so that it is clear the event
14697       may be posted after the class has been unloaded.
14698   &lt;/change&gt;
14699   &lt;change date=&quot;5 March 2004&quot; version=&quot;0.3.13&quot;&gt;
14700       Change the size parameter of VMObjectAlloc to jlong to match GetObjectSize.
14701   &lt;/change&gt;
14702   &lt;change date=&quot;13 March 2004&quot; version=&quot;0.3.14&quot;&gt;
14703       Added guideline for the use of the JNI FindClass function in event
14704       callback functions.
14705   &lt;/change&gt;
14706   &lt;change date=&quot;15 March 2004&quot; version=&quot;0.3.15&quot;&gt;
14707       Add GetAllStackTraces and GetThreadListStackTraces.
14708   &lt;/change&gt;
14709   &lt;change date=&quot;19 March 2004&quot; version=&quot;0.3.16&quot;&gt;
14710       ClassLoad and ClassPrepare events can be posted during start phase.
14711   &lt;/change&gt;
14712   &lt;change date=&quot;25 March 2004&quot; version=&quot;0.3.17&quot;&gt;
14713       Add JVMTI_ERROR_NATIVE_METHOD to GetLineNumberTable, GetLocalVariableTable,
14714       GetMaxLocals, GetArgumentsSize, GetMethodLocation, GetBytecodes.
14715   &lt;/change&gt;
14716   &lt;change date=&quot;29 March 2004&quot; version=&quot;0.3.18&quot;&gt;
14717       Return the timer kind in the timer information structure.
14718   &lt;/change&gt;
14719   &lt;change date=&quot;31 March 2004&quot; version=&quot;0.3.19&quot;&gt;
14720       Spec clarifications:
14721       JVMTI_THREAD_STATE_IN_NATIVE might not include JNI or &lt;jvmti/&gt;.
14722       ForceGarbageCollection does not run finalizers.
14723       The context of the specification is the Java platform.
14724       Warn about early instrumentation.
14725   &lt;/change&gt;
14726   &lt;change date=&quot;1 April 2004&quot; version=&quot;0.3.20&quot;&gt;
14727       Refinements to the above clarifications and
14728       Clarify that an error returned by Agent_OnLoad terminates the VM.
14729   &lt;/change&gt;
14730   &lt;change date=&quot;1 April 2004&quot; version=&quot;0.3.21&quot;&gt;
14731       Array class creation does not generate a class load event.
14732   &lt;/change&gt;
14733   &lt;change date=&quot;7 April 2004&quot; version=&quot;0.3.22&quot;&gt;
14734       Align thread state hierarchy more closely with java.lang.Thread.State.
14735   &lt;/change&gt;
14736   &lt;change date=&quot;12 April 2004&quot; version=&quot;0.3.23&quot;&gt;
14737       Clarify the documentation of thread state.
14738   &lt;/change&gt;
14739   &lt;change date=&quot;19 April 2004&quot; version=&quot;0.3.24&quot;&gt;
14740       Remove GarbageCollectionOccurred event -- can be done by agent.
14741   &lt;/change&gt;
14742   &lt;change date=&quot;22 April 2004&quot; version=&quot;0.3.25&quot;&gt;
14743       Define &quot;command-line option&quot;.
14744   &lt;/change&gt;
14745   &lt;change date=&quot;29 April 2004&quot; version=&quot;0.3.26&quot;&gt;
14746       Describe the intended use of bytecode instrumentation.
14747       Fix description of extension event first parameter.
14748   &lt;/change&gt;
14749   &lt;change date=&quot;30 April 2004&quot; version=&quot;0.3.27&quot;&gt;
14750       Clarification and typos.
14751   &lt;/change&gt;
14752   &lt;change date=&quot;18 May 2004&quot; version=&quot;0.3.28&quot;&gt;
14753       Remove DataDumpRequest event.
14754   &lt;/change&gt;
14755   &lt;change date=&quot;18 May 2004&quot; version=&quot;0.3.29&quot;&gt;
14756       Clarify RawMonitorWait with zero timeout.
14757       Clarify thread state after RunAgentThread.
14758   &lt;/change&gt;
14759   &lt;change date=&quot;24 May 2004&quot; version=&quot;0.3.30&quot;&gt;
14760       Clean-up: fix bad/old links, etc.
14761   &lt;/change&gt;
14762   &lt;change date=&quot;30 May 2004&quot; version=&quot;0.3.31&quot;&gt;
14763       Clarifications including:
14764       All character strings are modified UTF-8.
14765       Agent thread visibiity.
14766       Meaning of obsolete method version.
14767       Thread invoking heap callbacks,
14768   &lt;/change&gt;
14769   &lt;change date=&quot;1 June 2004&quot; version=&quot;1.0.32&quot;&gt;
14770       Bump major.minor version numbers to &quot;1.0&quot;.
14771   &lt;/change&gt;
14772   &lt;change date=&quot;2 June 2004&quot; version=&quot;1.0.33&quot;&gt;
14773       Clarify interaction between ForceGarbageCollection
14774       and ObjectFree.
14775   &lt;/change&gt;
14776   &lt;change date=&quot;6 June 2004&quot; version=&quot;1.0.34&quot;&gt;
14777       Restrict AddToBootstrapClassLoaderSearch and
14778       SetSystemProperty to the OnLoad phase only.
14779   &lt;/change&gt;
14780   &lt;change date=&quot;11 June 2004&quot; version=&quot;1.0.35&quot;&gt;
14781       Fix typo in SetTag.
14782   &lt;/change&gt;
14783   &lt;change date=&quot;18 June 2004&quot; version=&quot;1.0.36&quot;&gt;
14784       Fix trademarks.
14785       Add missing parameter in example GetThreadState usage.
14786   &lt;/change&gt;
14787   &lt;change date=&quot;4 August 2004&quot; version=&quot;1.0.37&quot;&gt;
14788       Copyright updates.
14789   &lt;/change&gt;
14790   &lt;change date=&quot;5 November 2004&quot; version=&quot;1.0.38&quot;&gt;
14791       Add missing function table layout.
14792       Add missing description of C++ member function format of functions.
14793       Clarify that name in CFLH can be NULL.
14794       Released as part of &lt;tm&gt;J2SE&lt;/tm&gt; 5.0.
14795   &lt;/change&gt;
14796   &lt;change date=&quot;24 April 2005&quot; version=&quot;1.1.47&quot;&gt;
14797       Bump major.minor version numbers to &quot;1.1&quot;.
14798       Add ForceEarlyReturn* functions.
14799       Add GetOwnedMonitorStackDepthInfo function.
14800       Add GetCurrentThread function.
14801       Add &quot;since&quot; version marker.
14802       Add AddToSystemClassLoaderSearch.
14803       Allow AddToBootstrapClassLoaderSearch be used in live phase.
14804       Fix historic rubbish in the descriptions of the heap_object_callback
14805       parameter of IterateOverHeap and IterateOverInstancesOfClass functions;
14806       disallow NULL for this parameter.
14807       Clarify, correct and make consistent: wording about current thread,
14808       opaque frames and insufficient number of frames in PopFrame.
14809       Consistently use &quot;current frame&quot; rather than &quot;topmost&quot;.
14810       Clarify the JVMTI_ERROR_TYPE_MISMATCH errors in GetLocal* and SetLocal*
14811       by making them compatible with those in ForceEarlyReturn*.
14812       Many other clarifications and wording clean ups.
14813   &lt;/change&gt;
14814   &lt;change date=&quot;25 April 2005&quot; version=&quot;1.1.48&quot;&gt;
14815       Add GetConstantPool.
14816       Switch references to the first edition of the VM Spec, to the seconds edition.
14817   &lt;/change&gt;
14818   &lt;change date=&quot;26 April 2005&quot; version=&quot;1.1.49&quot;&gt;
14819       Clarify minor/major version order in GetConstantPool.
14820   &lt;/change&gt;
14821   &lt;change date=&quot;26 April 2005&quot; version=&quot;1.1.50&quot;&gt;
14822       Add SetNativeMethodPrefix and SetNativeMethodPrefixes.
14823       Reassign GetOwnedMonitorStackDepthInfo to position 153.
14824       Break out Class Loader Search in its own documentation category.
14825       Deal with overly long lines in XML source.
14826   &lt;/change&gt;
14827   &lt;change date=&quot;29 April 2005&quot; version=&quot;1.1.51&quot;&gt;
14828       Allow agents be started in the live phase.
14829       Added paragraph about deploying agents.
14830   &lt;/change&gt;
14831   &lt;change date=&quot;30 April 2005&quot; version=&quot;1.1.52&quot;&gt;
14832       Add specification description to SetNativeMethodPrefix(es).
14833       Better define the conditions on GetConstantPool.
14834   &lt;/change&gt;
14835   &lt;change date=&quot;30 April 2005&quot; version=&quot;1.1.53&quot;&gt;
14836       Break out the GetClassVersionNumber function from GetConstantPool.
14837       Clean-up the references to the VM Spec.
14838   &lt;/change&gt;
14839   &lt;change date=&quot;1 May 2005&quot; version=&quot;1.1.54&quot;&gt;
14840       Allow SetNativeMethodPrefix(es) in any phase.
14841       Add clarifications about the impact of redefinition on GetConstantPool.
14842   &lt;/change&gt;
14843   &lt;change date=&quot;2 May 2005&quot; version=&quot;1.1.56&quot;&gt;
14844       Various clarifications to SetNativeMethodPrefix(es).
14845   &lt;/change&gt;
14846   &lt;change date=&quot;2 May 2005&quot; version=&quot;1.1.57&quot;&gt;
14847       Add missing performance warning to the method entry event.
14848   &lt;/change&gt;
14849   &lt;change date=&quot;5 May 2005&quot; version=&quot;1.1.58&quot;&gt;
14850       Remove internal JVMDI support.
14851   &lt;/change&gt;
14852   &lt;change date=&quot;8 May 2005&quot; version=&quot;1.1.59&quot;&gt;
14853       Add &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;.
14854       Revamp the bytecode instrumentation documentation.
14855       Change &lt;functionlink id=&quot;IsMethodObsolete&quot;/&gt; to no longer
14856       require the can_redefine_classes capability.
14857   &lt;/change&gt;
14858   &lt;change date=&quot;11 May 2005&quot; version=&quot;1.1.63&quot;&gt;
14859       Clarifications for retransformation.
14860   &lt;/change&gt;
14861   &lt;change date=&quot;11 May 2005&quot; version=&quot;1.1.64&quot;&gt;
14862       Clarifications for retransformation, per review.
14863       Lock &quot;retransformation (in)capable&quot; at class load enable time.
14864   &lt;/change&gt;
14865   &lt;change date=&quot;4 June 2005&quot; version=&quot;1.1.67&quot;&gt;
14866       Add new heap functionity which supports reporting primitive values,
14867       allows setting the referrer tag, and has more powerful filtering:
14868       FollowReferences, IterateThroughHeap, and their associated
14869       callbacks, structs, enums, and constants.
14870   &lt;/change&gt;
14871   &lt;change date=&quot;4 June 2005&quot; version=&quot;1.1.68&quot;&gt;
14872       Clarification.
14873   &lt;/change&gt;
14874   &lt;change date=&quot;6 June 2005&quot; version=&quot;1.1.69&quot;&gt;
14875       FollowReferences, IterateThroughHeap: Put callbacks in a struct;
14876       Add missing error codes; reduce bits in the visit control flags.
14877   &lt;/change&gt;
14878   &lt;change date=&quot;14 June 2005&quot; version=&quot;1.1.70&quot;&gt;
14879       More on new heap functionity: spec clean-up per review.
14880   &lt;/change&gt;
14881   &lt;change date=&quot;15 June 2005&quot; version=&quot;1.1.71&quot;&gt;
14882       More on new heap functionity: Rename old heap section to Heap (1.0).
14883   &lt;/change&gt;
14884   &lt;change date=&quot;21 June 2005&quot; version=&quot;1.1.72&quot;&gt;
14885       Fix typos.
14886   &lt;/change&gt;
14887   &lt;change date=&quot;27 June 2005&quot; version=&quot;1.1.73&quot;&gt;
14888       Make referrer info structure a union.
14889   &lt;/change&gt;
14890   &lt;change date=&quot;9 September 2005&quot; version=&quot;1.1.74&quot;&gt;
14891       In new heap functions:
14892       Add missing superclass reference kind.
14893       Use a single scheme for computing field indexes.
14894       Remove outdated references to struct based referrer info.
14895   &lt;/change&gt;
14896   &lt;change date=&quot;12 September 2005&quot; version=&quot;1.1.75&quot;&gt;
14897       Don&#39;t callback during FollowReferences on frivolous java.lang.Object superclass.
14898   &lt;/change&gt;
14899   &lt;change date=&quot;13 September 2005&quot; version=&quot;1.1.76&quot;&gt;
14900       In string primitive callback, length now Unicode length.
14901       In array and string primitive callbacks, value now &quot;const&quot;.
14902       Note possible compiler impacts on setting JNI function table.
14903   &lt;/change&gt;
14904   &lt;change date=&quot;13 September 2005&quot; version=&quot;1.1.77&quot;&gt;
14905       GetClassVersionNumbers() and GetConstantPool() should return
14906       error on array or primitive class.
14907   &lt;/change&gt;
14908   &lt;change date=&quot;14 September 2005&quot; version=&quot;1.1.78&quot;&gt;
14909       Grammar fixes.
14910   &lt;/change&gt;
14911   &lt;change date=&quot;26 September 2005&quot; version=&quot;1.1.79&quot;&gt;
14912       Add IsModifiableClass query.
14913   &lt;/change&gt;
14914   &lt;change date=&quot;9 February 2006&quot; version=&quot;1.1.81&quot;&gt;
14915       Add referrer_class_tag parameter to jvmtiHeapReferenceCallback.
14916   &lt;/change&gt;
14917   &lt;change date=&quot;13 February 2006&quot; version=&quot;1.1.82&quot;&gt;
14918       Doc fixes: update can_redefine_any_class to include retransform.
14919       Clarify that exception events cover all Throwables.
14920       In GetStackTrace, no test is done for start_depth too big if start_depth is zero,
14921       Clarify fields reported in Primitive Field Callback -- static vs instance.
14922       Repair confusing names of heap types, including callback names.
14923       Require consistent usage of stack depth in the face of thread launch methods.
14924       Note incompatibility of &lt;jvmti/&gt; memory management with other systems.
14925   &lt;/change&gt;
14926   &lt;change date=&quot;14 February 2006&quot; version=&quot;1.1.85&quot;&gt;
14927       Fix typos and missing renames.
14928   &lt;/change&gt;
14929   &lt;change date=&quot;13 March 2006&quot; version=&quot;1.1.86&quot;&gt;
14930       Clarify that jmethodIDs and jfieldIDs can be saved.
14931       Clarify that Iterate Over Instances Of Class includes subclasses.
14932   &lt;/change&gt;
14933   &lt;change date=&quot;14 March 2006&quot; version=&quot;1.1.87&quot;&gt;
14934       Better phrasing.
14935   &lt;/change&gt;
14936   &lt;change date=&quot;16 March 2006&quot; version=&quot;1.1.88&quot;&gt;
14937       Match the referrer_index for static fields in Object Reference Callback
14938       with the Reference Implementation (and all other known implementations);
14939       that is, make it match the definition for instance fields.
14940       In GetThreadListStackTraces, add JVMTI_ERROR_INVALID_THREAD to cover
14941       an invalid thread in the list; and specify that not started threads
14942       return empty stacks.
14943   &lt;/change&gt;
14944   &lt;change date=&quot;17 March 2006&quot; version=&quot;1.1.89&quot;&gt;
14945       Typo.
14946   &lt;/change&gt;
14947   &lt;change date=&quot;25 March 2006&quot; version=&quot;1.1.90&quot;&gt;
14948       Typo.
14949   &lt;/change&gt;
14950   &lt;change date=&quot;6 April 2006&quot; version=&quot;1.1.91&quot;&gt;
14951       Remove restrictions on AddToBootstrapClassLoaderSearch and
14952       AddToSystemClassLoaderSearch.
14953   &lt;/change&gt;
14954   &lt;change date=&quot;1 May 2006&quot; version=&quot;1.1.93&quot;&gt;
14955       Changed spec to return -1 for monitor stack depth for the
14956       implementation which can not determine stack depth.
14957   &lt;/change&gt;
14958   &lt;change date=&quot;3 May 2006&quot; version=&quot;1.1.94&quot;&gt;
14959       Corrections for readability and accuracy courtesy of Alan Pratt of IBM.
14960       List the object relationships reported in FollowReferences.
14961   &lt;/change&gt;
14962   &lt;change date=&quot;5 May 2006&quot; version=&quot;1.1.95&quot;&gt;
14963       Clarify the object relationships reported in FollowReferences.
14964   &lt;/change&gt;
14965   &lt;change date=&quot;28 June 2006&quot; version=&quot;1.1.98&quot;&gt;
14966       Clarify DisposeEnvironment; add warning.
14967       Fix typos in SetLocalXXX &quot;retrieve&quot; =&gt; &quot;set&quot;.
14968       Clarify that native method prefixes must remain set while used.
14969       Clarify that exactly one Agent_OnXXX is called per agent.
14970       Clarify that library loading is independent from start-up.
14971       Remove ambiguous reference to Agent_OnLoad in the Agent_OnUnload spec.
14972   &lt;/change&gt;
14973   &lt;change date=&quot;31 July 2006&quot; version=&quot;1.1.99&quot;&gt;
14974       Clarify the interaction between functions and exceptions.
14975       Clarify and give examples of field indices.
14976       Remove confusing &quot;That is&quot; sentence from MonitorWait and MonitorWaited events.
14977       Update links to point to Java 6.
14978   &lt;/change&gt;
14979   &lt;change date=&quot;6 August 2006&quot; version=&quot;1.1.102&quot;&gt;
14980       Add ResourceExhaustedEvent.
14981   &lt;/change&gt;
14982   &lt;change date=&quot;11 October 2012&quot; version=&quot;1.2.2&quot;&gt;
14983       Fixed the &quot;HTTP&quot; and &quot;Missing Anchor&quot; errors reported by the LinkCheck tool.
14984   &lt;/change&gt;
14985   &lt;change date=&quot;19 June 2013&quot; version=&quot;1.2.3&quot;&gt;
14986       Added support for statically linked agents.
14987   &lt;/change&gt;
14988   &lt;change date=&quot;13 October 2016&quot; version=&quot;9.0.0&quot;&gt;
14989       Support for modules:
14990        - The majorversion is 9 now
14991        - The ClassFileLoadHook events are not sent during the primordial phase anymore.
14992        - Allow CompiledMethodLoad events at start phase
14993        - Add new capabilities:
14994           - can_generate_early_vmstart
14995           - can_generate_early_class_hook_events
14996        - Add new functions:
14997           - GetAllModules
14998           - AddModuleReads, AddModuleExports, AddModuleOpens, AddModuleUses, AddModuleProvides
14999           - IsModifiableModule
15000       Clarified can_redefine_any_classes, can_retransform_any_classes and IsModifiableClass API to
15001       disallow some implementation defined classes.
15002   &lt;/change&gt;
15003   &lt;change date=&quot;12 February 2017&quot; version=&quot;9.0.0&quot;&gt;
15004       Minor update for GetCurrentThread function:
15005        - The function may return NULL in the start phase if the
15006          can_generate_early_vmstart capability is enabled.
15007   &lt;/change&gt;
15008   &lt;change date=&quot;7 February 2018&quot; version=&quot;11.0.0&quot;&gt;
15009       Minor update for new class file NestHost and NestMembers attributes:
15010         - Specify that RedefineClasses and RetransformClasses are not allowed
15011           to change the class file NestHost and NestMembers attributes.
15012         - Add new error JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_ATTRIBUTE_CHANGED
15013           that can be returned by RedefineClasses and RetransformClasses.
15014   &lt;/change&gt;
15015   &lt;change date=&quot;20 May 2019&quot; version=&quot;13.0.0&quot;&gt;
15016       Minor spec update for the capability &quot;can_redefine_any_class&quot;.
15017       It now says:
15018        &quot;RedefineClasses can be called on any modifiable class. See IsModifiableClass.
15019        (can_redefine_classes must also be set)&quot;
15020   &lt;/change&gt;
15021   &lt;change date=&quot;5 June 2019&quot; version=&quot;13.0.0&quot;&gt;
15022       Minor PopFrame spec update:
15023         - The specified thread must be suspended or must be the current thread.
15024           (It was not allowed to be the current thread before.)
15025   &lt;/change&gt;
15026   &lt;change date=&quot;10 October 2019&quot; version=&quot;14.0.0&quot;&gt;
15027       Minor update for new class file Record attribute:
15028         - Specify that RedefineClasses and RetransformClasses are not allowed
15029           to change the class file Record attribute.
15030   &lt;/change&gt;
15031 &lt;/changehistory&gt;
15032 
15033 &lt;/specification&gt;
15034 &lt;!-- Keep this comment at the end of the file
15035 Local variables:
15036 mode: sgml
15037 sgml-omittag:t
15038 sgml-shorttag:t
15039 sgml-namecase-general:t
15040 sgml-general-insert-case:lower
15041 sgml-minimize-attributes:nil
15042 sgml-always-quote-attributes:t
15043 sgml-indent-step:2
15044 sgml-indent-data:t
15045 sgml-parent-document:nil
15046 sgml-exposed-tags:nil
15047 sgml-local-catalogs:nil
15048 sgml-local-ecat-files:nil
15049 End:
15050 --&gt;
<a name="4" id="anc4"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="4" type="hidden" />
</body>
</html>