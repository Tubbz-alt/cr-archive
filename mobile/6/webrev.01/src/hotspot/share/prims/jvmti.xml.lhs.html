<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/hotspot/share/prims/jvmti.xml</title>
    <link rel="stylesheet" href="../../../../style.css" />
    <script type="text/javascript" src="../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>    1 &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;
    2 &lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;jvmti.xsl&quot;?&gt;
    3 &lt;!--
    4  Copyright (c) 2002, 2020, Oracle and/or its affiliates. All rights reserved.
    5  DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
    6 
    7  This code is free software; you can redistribute it and/or modify it
    8  under the terms of the GNU General Public License version 2 only, as
    9  published by the Free Software Foundation.
   10 
   11  This code is distributed in the hope that it will be useful, but WITHOUT
   12  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
   13  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
   14  version 2 for more details (a copy is included in the LICENSE file that
   15  accompanied this code).
   16 
   17  You should have received a copy of the GNU General Public License version
   18  2 along with this work; if not, write to the Free Software Foundation,
   19  Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
   20 
   21  Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
   22  or visit www.oracle.com if you need additional information or have any
   23  questions.
   24 --&gt;
   25 
   26 &lt;!DOCTYPE specification [
   27    &lt;!ELEMENT specification (title, intro*, functionsection, errorsection,
   28                             eventsection, datasection, issuessection, changehistory)&gt;
   29    &lt;!ATTLIST specification label CDATA #REQUIRED&gt;
   30 
   31    &lt;!ELEMENT title (#PCDATA|jvmti|tm)*&gt;
   32    &lt;!ATTLIST title subtitle CDATA #REQUIRED&gt;
   33 
   34    &lt;!ELEMENT intro ANY&gt;
   35    &lt;!ATTLIST intro id CDATA #IMPLIED
   36                    label CDATA &quot;&quot;&gt;
   37 
   38    &lt;!ELEMENT functionsection (intro*, category*)&gt;
   39    &lt;!ATTLIST functionsection label CDATA #REQUIRED&gt;
   40 
   41    &lt;!ELEMENT category ((intro|typedef|uniontypedef|capabilitiestypedef)*,
   42                           (function|callback|elide)*)&gt;
   43    &lt;!ATTLIST category id CDATA #REQUIRED
   44                       label CDATA #REQUIRED&gt;
   45 
   46    &lt;!ELEMENT function (synopsis, typedef*, description?, origin,
   47                          (capabilities|eventcapabilities),
   48                          parameters, errors)&gt;
   49    &lt;!ATTLIST function id CDATA #REQUIRED
   50                       num CDATA #REQUIRED
   51                       phase (onload|onloadOnly|start|live|any) #IMPLIED
   52                       callbacksafe (safe|unsafe) #IMPLIED
   53                       impl CDATA #IMPLIED
   54                       hide CDATA #IMPLIED
   55                       jkernel (yes|no) #IMPLIED
   56                       since CDATA &quot;1.0&quot;&gt;
   57 
   58    &lt;!ELEMENT callback ((jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|jthreadGroup|jobject|
   59                         jvalue|enum|jint|jlong|jfloat|jdouble|jlocation|jboolean|char|uchar|size_t|void),
   60                         synopsis, description?, parameters)&gt;
   61    &lt;!ATTLIST callback id CDATA #REQUIRED
   62                       since CDATA &quot;1.0&quot;&gt;
   63 
   64    &lt;!ELEMENT synopsis (#PCDATA|jvmti)*&gt;
   65 
   66    &lt;!ELEMENT typedef (description?, field*)&gt;
   67    &lt;!ATTLIST typedef id CDATA #REQUIRED
   68                      label CDATA #REQUIRED
   69                      since CDATA &quot;1.0&quot;&gt;
   70 
   71    &lt;!ELEMENT uniontypedef (description?, field*)&gt;
   72    &lt;!ATTLIST uniontypedef id CDATA #REQUIRED
   73                      label CDATA #REQUIRED
   74                      since CDATA &quot;1.0&quot;&gt;
   75 
   76    &lt;!ELEMENT field ((jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|jthreadGroup|jobject|
   77                      jvalue|enum|jint|jlong|jfloat|jdouble|jlocation|jboolean|char|uchar|size_t|void|allocfieldbuf|inptr|inbuf|outbuf|vmbuf|ptrtype|struct),
   78                     description)&gt;
   79    &lt;!ATTLIST field id CDATA #REQUIRED&gt;
   80 
   81    &lt;!ELEMENT capabilitiestypedef (description?, capabilityfield*)&gt;
   82    &lt;!ATTLIST capabilitiestypedef id CDATA #REQUIRED
   83                      label CDATA #REQUIRED&gt;
   84 
   85    &lt;!ELEMENT capabilityfield (description)&gt;
   86    &lt;!ATTLIST capabilityfield id CDATA #REQUIRED
   87                    disp1 CDATA &quot;&quot;
   88                    disp2 CDATA &quot;&quot;
   89                    since CDATA &quot;1.0&quot;&gt;
   90 
   91    &lt;!ELEMENT description ANY&gt;
   92 
   93    &lt;!ELEMENT capabilities (required*, capability*)&gt;
   94 
   95    &lt;!ELEMENT eventcapabilities EMPTY&gt;
   96 
   97    &lt;!ELEMENT required ANY&gt;
   98    &lt;!ATTLIST required id CDATA #REQUIRED&gt;
   99 
  100    &lt;!ELEMENT capability ANY&gt;
  101    &lt;!ATTLIST capability id CDATA #REQUIRED&gt;
  102 
  103    &lt;!ELEMENT parameters (param*)&gt;
  104 
  105    &lt;!ELEMENT param ((jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|jthreadGroup|jobject|
  106                      jvalue|enum|jint|jlong|jfloat|jdouble|jlocation|jboolean|char|uchar|size_t|void|varargs|struct|ptrtype|
  107                      outptr|allocbuf|allocallocbuf|inptr|inbuf|outbuf|vmbuf|agentbuf),
  108                     description)&gt;
  109    &lt;!ATTLIST param id CDATA #REQUIRED&gt;
  110 
  111    &lt;!ELEMENT jmethodID EMPTY&gt;
  112    &lt;!ATTLIST jmethodID class  CDATA #IMPLIED
  113                        native CDATA #IMPLIED&gt;
  114 
  115    &lt;!ELEMENT jfieldID EMPTY&gt;
  116    &lt;!ATTLIST jfieldID class CDATA #IMPLIED&gt;
  117 
  118    &lt;!ELEMENT jclass EMPTY&gt;
  119    &lt;!ATTLIST jclass method CDATA #IMPLIED
  120                     field  CDATA #IMPLIED&gt;
  121 
  122    &lt;!ELEMENT jframeID EMPTY&gt;
  123    &lt;!ATTLIST jframeID thread CDATA #IMPLIED&gt;
  124 
  125    &lt;!ELEMENT jrawMonitorID EMPTY&gt;
  126 
  127    &lt;!ELEMENT jthread EMPTY&gt;
  128    &lt;!ATTLIST jthread started CDATA #IMPLIED
  129                      null CDATA #IMPLIED
  130                      frame CDATA #IMPLIED
  131                      impl CDATA #IMPLIED&gt;
  132 
  133    &lt;!ELEMENT varargs EMPTY&gt;
  134 
  135    &lt;!ELEMENT jthreadGroup EMPTY&gt;
  136    &lt;!ELEMENT jobject EMPTY&gt;
  137    &lt;!ELEMENT jvalue EMPTY&gt;
  138    &lt;!ELEMENT jchar EMPTY&gt;
  139    &lt;!ELEMENT jint EMPTY&gt;
  140    &lt;!ATTLIST jint min CDATA #IMPLIED&gt;
  141    &lt;!ELEMENT jlong EMPTY&gt;
  142    &lt;!ELEMENT jfloat EMPTY&gt;
  143    &lt;!ELEMENT jdouble EMPTY&gt;
  144    &lt;!ELEMENT jlocation EMPTY&gt;
  145    &lt;!ELEMENT jboolean EMPTY&gt;
  146    &lt;!ELEMENT char EMPTY&gt;
  147    &lt;!ELEMENT uchar EMPTY&gt;
  148    &lt;!ELEMENT size_t EMPTY&gt;
  149    &lt;!ELEMENT void EMPTY&gt;
  150    &lt;!ELEMENT enum (#PCDATA)*&gt;
  151    &lt;!ELEMENT struct (#PCDATA)*&gt;
  152 
  153    &lt;!ELEMENT nullok ANY&gt;
  154 
  155    &lt;!ELEMENT ptrtype     ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  156                                    jthreadGroup|jobject|jvalue), nullok?)&gt;
  157 
  158    &lt;!ELEMENT outptr     ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  159                                    jthreadGroup|jobject|jvalue|enum|jchar|jint|jlong|jfloat|jdouble|
  160                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  161 
  162    &lt;!ELEMENT allocbuf   ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  163                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  164                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  165    &lt;!ATTLIST allocbuf incount CDATA #IMPLIED
  166                       outcount CDATA #IMPLIED&gt;
  167 
  168    &lt;!ELEMENT allocallocbuf   ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  169                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  170                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  171    &lt;!ATTLIST allocallocbuf incount CDATA #IMPLIED
  172                       outcount CDATA #IMPLIED&gt;
  173 
  174    &lt;!ELEMENT inptr      (struct, nullok?)&gt;
  175 
  176    &lt;!ELEMENT inbuf      ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  177                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  178                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  179    &lt;!ATTLIST inbuf    incount CDATA #IMPLIED&gt;
  180 
  181    &lt;!ELEMENT outbuf     ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  182                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  183                                    jlocation|jboolean|char|uchar|size_t|void|outbuf), nullok?)&gt;
  184    &lt;!ATTLIST outbuf   incount CDATA #IMPLIED
  185                       outcount CDATA #IMPLIED&gt;
  186 
  187    &lt;!ELEMENT vmbuf      ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  188                                    jthreadGroup|jobject|jvalue|enum|jchar|jint|jlong|jfloat|jdouble|
  189                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  190    &lt;!ATTLIST vmbuf    incount CDATA #IMPLIED
  191                       outcount CDATA #IMPLIED&gt;
  192 
  193    &lt;!ELEMENT agentbuf   ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  194                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  195                                    jlocation|jboolean|char|uchar|size_t|void), nullok?)&gt;
  196    &lt;!ATTLIST agentbuf incount CDATA #IMPLIED
  197                       outcount CDATA #IMPLIED&gt;
  198 
  199    &lt;!ELEMENT allocfieldbuf   ((struct|jmethodID|jfieldID|jframeID|jrawMonitorID|jclass|jthread|
  200                                    jthreadGroup|jobject|jvalue|enum|jint|jlong|jfloat|jdouble|
  201                                    jlocation|jboolean|char|uchar|size_t|void))&gt;
  202    &lt;!ATTLIST allocfieldbuf outcount CDATA #IMPLIED&gt;
  203 
  204    &lt;!ELEMENT errors (error*)&gt;
  205 
  206    &lt;!ELEMENT error ANY&gt;
  207    &lt;!ATTLIST error id CDATA #REQUIRED&gt;
  208 
  209    &lt;!ELEMENT errorsection (intro*, errorcategory*)&gt;
  210    &lt;!ATTLIST errorsection label CDATA #REQUIRED&gt;
  211 
  212    &lt;!ELEMENT errorcategory (intro*, errorid*)&gt;
  213    &lt;!ATTLIST errorcategory id CDATA #REQUIRED
  214                            label CDATA #REQUIRED&gt;
  215 
  216    &lt;!ELEMENT errorid ANY&gt;
  217    &lt;!ATTLIST errorid id CDATA #REQUIRED
  218                      num CDATA #REQUIRED&gt;
  219 
  220    &lt;!ELEMENT datasection (intro*, basetypes*)&gt;
  221 
  222    &lt;!ELEMENT basetypes (intro*, basetype*)&gt;
  223    &lt;!ATTLIST basetypes id CDATA #REQUIRED
  224                        label CDATA #REQUIRED&gt;
  225 
  226    &lt;!ELEMENT basetype (definition?,description)&gt;
  227    &lt;!ATTLIST basetype id CDATA #REQUIRED
  228                       name CDATA #IMPLIED&gt;
  229 
  230    &lt;!ELEMENT definition (#PCDATA|jvmti)*&gt;
  231 
  232    &lt;!ELEMENT eventsection (intro*, (event|elide)*)&gt;
  233    &lt;!ATTLIST eventsection label CDATA #REQUIRED&gt;
  234 
  235    &lt;!ELEMENT event (description, origin, typedef*, capabilities, parameters)&gt;
  236    &lt;!ATTLIST event id CDATA #REQUIRED
  237                    label CDATA #REQUIRED
  238                    const CDATA #REQUIRED
  239                    num CDATA #REQUIRED
  240                    phase (onload|start|live|any) #IMPLIED
  241                    filtered (thread|global) #IMPLIED
  242                    since CDATA &quot;1.0&quot;&gt;
  243 
  244    &lt;!ELEMENT issuessection (intro*)&gt;
  245    &lt;!ATTLIST issuessection label CDATA #REQUIRED&gt;
  246 
  247    &lt;!ELEMENT changehistory (intro*, change*)&gt;
  248    &lt;!ATTLIST changehistory update CDATA #REQUIRED
  249                            id CDATA #REQUIRED&gt;
  250 
  251    &lt;!ELEMENT change ANY&gt;
  252    &lt;!ATTLIST change date CDATA #REQUIRED
  253                     version CDATA #IMPLIED&gt;
  254 
  255    &lt;!ELEMENT functionlink (#PCDATA|jvmti|code|i|b)*&gt;
  256    &lt;!ATTLIST functionlink id CDATA #REQUIRED&gt;
  257 
  258    &lt;!ELEMENT datalink (#PCDATA|jvmti|code|i|b)*&gt;
  259    &lt;!ATTLIST datalink id CDATA #REQUIRED&gt;
  260 
  261    &lt;!ELEMENT typelink (#PCDATA|jvmti|code|i|b)*&gt;
  262    &lt;!ATTLIST typelink id CDATA #REQUIRED&gt;
  263 
  264    &lt;!ELEMENT fieldlink (#PCDATA|jvmti|code|i|b)*&gt;
  265    &lt;!ATTLIST fieldlink id CDATA #REQUIRED
  266                        struct CDATA #REQUIRED&gt;
  267 
  268    &lt;!ELEMENT paramlink (#PCDATA|jvmti|code|i|b)*&gt;
  269    &lt;!ATTLIST paramlink id CDATA #REQUIRED&gt;
  270 
  271    &lt;!ELEMENT eventlink (#PCDATA|jvmti|code|i|b)*&gt;
  272    &lt;!ATTLIST eventlink id CDATA #REQUIRED&gt;
  273 
  274    &lt;!ELEMENT errorlink (#PCDATA|jvmti|code|i|b|tm)*&gt;
  275    &lt;!ATTLIST errorlink id CDATA #REQUIRED&gt;
  276 
  277    &lt;!ELEMENT externallink (#PCDATA|jvmti|code|i|b|tm)*&gt;
  278    &lt;!ATTLIST externallink id CDATA #REQUIRED&gt;
  279 
  280    &lt;!ELEMENT vmspec EMPTY&gt;
  281    &lt;!ATTLIST vmspec chapter CDATA #IMPLIED&gt;
  282 
  283    &lt;!ELEMENT internallink (#PCDATA|jvmti|code|i|b)*&gt;
  284    &lt;!ATTLIST internallink id CDATA #REQUIRED&gt;
  285 
  286    &lt;!ELEMENT functionphaselist EMPTY&gt;
  287    &lt;!ATTLIST functionphaselist phase (onload|onloadOnly|start|live|any) #REQUIRED&gt;
  288 
  289    &lt;!ELEMENT eventphaselist EMPTY&gt;
  290    &lt;!ATTLIST eventphaselist phase (onload|start|live|any) #REQUIRED&gt;
  291 
  292    &lt;!ELEMENT issue ANY&gt;
  293 
  294    &lt;!ELEMENT rationale ANY&gt;
  295 
  296    &lt;!ELEMENT todo ANY&gt;
  297 
  298    &lt;!ELEMENT origin (#PCDATA)*&gt;
  299 
  300    &lt;!ELEMENT elide (intro|function|callback|event)*&gt;
  301    &lt;!ATTLIST elide why CDATA #IMPLIED&gt;
  302 
  303    &lt;!ELEMENT constants (constant*)&gt;
  304    &lt;!ATTLIST constants id CDATA #REQUIRED
  305                        label CDATA #REQUIRED
  306                        kind (enum|bits|const) #REQUIRED
  307                        since CDATA &quot;1.0&quot;&gt;
  308 
  309    &lt;!ELEMENT constant ANY&gt;
  310    &lt;!ATTLIST constant id CDATA #REQUIRED
  311                       num CDATA #REQUIRED&gt;
  312 
  313    &lt;!ELEMENT tm (#PCDATA)&gt;
  314 
  315    &lt;!ELEMENT i (#PCDATA|jvmti|tm)*&gt;
  316 
  317    &lt;!ELEMENT b (#PCDATA|jvmti|code)*&gt;
  318 
  319    &lt;!ELEMENT code (#PCDATA|space)*&gt;
  320 
  321    &lt;!ELEMENT pre ANY&gt;
  322 
  323    &lt;!ELEMENT space EMPTY&gt;
  324 
  325    &lt;!ELEMENT jvmti EMPTY&gt;
  326 
  327    &lt;!ELEMENT example (#PCDATA|i)*&gt;
  328 
  329    &lt;!ELEMENT br EMPTY&gt;
  330 
  331    &lt;!ELEMENT p EMPTY&gt;
  332 
  333    &lt;!ELEMENT blockquote ANY&gt;
  334 
  335    &lt;!ELEMENT dl  (dt|dd)+&gt;
  336 
  337    &lt;!ELEMENT dd  ANY&gt;
  338 
  339    &lt;!ELEMENT dt  (#PCDATA|jvmti|code|i|b)*&gt;
  340 
  341    &lt;!ELEMENT table  (tr)+&gt;
  342 
  343    &lt;!ELEMENT tr  (td|th)*&gt;
  344    &lt;!ATTLIST tr class CDATA #IMPLIED&gt;
  345 
  346    &lt;!ELEMENT td  ANY&gt;
  347    &lt;!ATTLIST td class CDATA #IMPLIED&gt;
  348 
  349    &lt;!ELEMENT th  ANY&gt;
  350    &lt;!ATTLIST th class CDATA #IMPLIED
  351                 scope (col|row) #IMPLIED&gt;
  352 
  353    &lt;!ELEMENT ul  (li)+&gt;
  354    &lt;!ATTLIST ul type (disc|circle|square) &quot;disc&quot;&gt;
  355 
  356    &lt;!ELEMENT li  ANY&gt;
  357  ]&gt;
  358 
  359 &lt;specification label=&quot;JVM(TM) Tool Interface&quot;&gt;
  360   &lt;title subtitle=&quot;Version&quot;&gt;
  361     &lt;tm&gt;JVM&lt;/tm&gt; Tool Interface
  362   &lt;/title&gt;
  363 
  364   &lt;intro id=&quot;whatIs&quot; label=&quot;What is the JVM Tool Interface?&quot;&gt;
  365     The &lt;tm&gt;JVM&lt;/tm&gt; Tool Interface (&lt;jvmti/&gt;)
  366     is a programming interface used by development and monitoring tools.
  367     It provides both a way to inspect the state and
  368     to control the execution of applications running in the
  369     &lt;tm&gt;Java&lt;/tm&gt; virtual machine (VM).
  370     &lt;p/&gt;
  371     &lt;jvmti/&gt; is intended to provide a VM interface for the full breadth of tools
  372     that need access to VM state, including but not limited to: profiling,
  373     debugging, monitoring, thread analysis, and coverage analysis tools.
  374     &lt;p/&gt;
  375     &lt;jvmti/&gt; may not be available in all implementations of the &lt;tm&gt;Java&lt;/tm&gt; virtual
  376     machine.
  377     &lt;p/&gt;
  378     &lt;jvmti/&gt; is a two-way interface.
  379     A client of &lt;jvmti/&gt;, hereafter called an &lt;i&gt;agent&lt;/i&gt;,
  380     can be notified of
  381     interesting occurrences through &lt;internallink id=&quot;EventSection&quot;&gt;events&lt;/internallink&gt;.
  382     &lt;jvmti/&gt;
  383     can query and control the application through many
  384     &lt;internallink id=&quot;FunctionSection&quot;&gt;functions&lt;/internallink&gt;,
  385     either in response to events or
  386     independent of them.
  387     &lt;p/&gt;
  388     Agents run in the same process with and communicate directly with
  389     the virtual machine executing
  390     the application being examined.  This communication is
  391     through a native interface (&lt;jvmti/&gt;). The native in-process interface allows
  392     maximal control with minimal intrusion on the part of a tool.
  393     Typically, agents are relatively compact. They can be controlled
  394     by a separate process which implements the bulk of a tool&#39;s
  395     function without interfering with the target application&#39;s normal execution.
  396   &lt;/intro&gt;
  397 
  398   &lt;intro id=&quot;architecture&quot; label=&quot;Architecture&quot;&gt;
  399     Tools can be written directly to &lt;jvmti/&gt; or indirectly
  400     through higher level interfaces.
  401     The Java Platform Debugger Architecture includes &lt;jvmti/&gt;, but also
  402     contains higher-level, out-of-process debugger interfaces. The higher-level
  403     interfaces are more appropriate than &lt;jvmti/&gt; for many tools.
  404     For more information on the Java Platform Debugger Architecture,
  405     see the
  406     &lt;externallink id=&quot;jpda/architecture.html&quot;&gt;Java
  407       Platform Debugger Architecture website&lt;/externallink&gt;.
  408   &lt;/intro&gt;
  409 
  410   &lt;intro id=&quot;writingAgents&quot; label=&quot;Writing Agents&quot;&gt;
  411     Agents can be written in any native language that supports C
  412     language calling conventions and C or C++
  413     definitions.
  414     &lt;p/&gt;
  415     The function, event, data type, and constant definitions needed for
  416     using &lt;jvmti/&gt; are defined in the include file &lt;code&gt;jvmti.h&lt;/code&gt;.
  417     To use these definitions add the &lt;tm&gt;J2SE&lt;/tm&gt; include directory
  418     to your include path and add
  419     &lt;example&gt;
  420 #include &amp;lt;jvmti.h&amp;gt;
  421     &lt;/example&gt;
  422     to your source code.
  423   &lt;/intro&gt;
  424 
  425   &lt;intro id=&quot;deployingAgents&quot; label=&quot;Deploying Agents&quot;&gt;
  426     An agent is deployed in a platform specific manner but is typically the
  427     platform equivalent of a dynamic library. On the &lt;tm&gt;Windows&lt;/tm&gt; operating
  428     system, for example, an agent library is a &quot;Dynamic Linked Library&quot; (DLL).
<a name="1" id="anc1"></a><span class="line-modified">  429     On the &lt;tm&gt;Solaris&lt;/tm&gt; Operating Environment, an agent library is a shared</span>
<span class="line-modified">  430     object (&lt;code&gt;.so&lt;/code&gt; file).</span>
  431     &lt;p/&gt;
  432 
  433     An agent may be started at VM startup by specifying the agent library
  434     name using a &lt;internallink id=&quot;starting&quot;&gt;command line option&lt;/internallink&gt;.
  435     Some implementations may support a mechanism to &lt;internallink id=&quot;onattach&quot;&gt;
  436     start agents&lt;/internallink&gt; in the live &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;.
  437     The details of how this is initiated are implementation specific.
  438   &lt;/intro&gt;
  439 
  440     &lt;intro id=&quot;entryPoint&quot; label=&quot;Statically Linked Agents (since version 1.2.3)&quot;&gt;
  441 
  442       A native JVMTI Agent may be &lt;i&gt;statically linked&lt;/i&gt; with the VM.
  443       The manner in which the library and VM image are combined is
  444       implementation-dependent.
  445       An agent L whose image has been combined with the VM is defined as
  446       &lt;i&gt;statically linked&lt;/i&gt; if and only if the agent exports a function
  447       called Agent_OnLoad_L.
  448 &lt;p/&gt;
  449       If a &lt;i&gt;statically linked&lt;/i&gt; agent L exports a function called
  450       Agent_OnLoad_L and a function called Agent_OnLoad, the Agent_OnLoad
  451       function will be ignored.
  452       If an agent L is &lt;i&gt;statically linked&lt;/i&gt;, an Agent_OnLoad_L
  453       function will be invoked with the same arguments and expected return
  454       value as specified for the Agent_OnLoad function.
  455       An agent L that is &lt;i&gt;statically linked&lt;/i&gt; will prohibit an agent of
  456       the same name from being loaded dynamically.
  457 &lt;p/&gt;
  458       The VM will invoke the Agent_OnUnload_L function of the agent, if such
  459       a function is exported, at the same point during VM execution as it would
  460       have called the dynamic entry point Agent_OnUnLoad. A statically loaded
  461       agent cannot be unloaded. The Agent_OnUnload_L function will still be
  462       called to do any other agent shutdown related tasks.
  463       If a &lt;i&gt;statically linked&lt;/i&gt; agent L exports a function called
  464       Agent_OnUnLoad_L and a function called Agent_OnUnLoad, the Agent_OnUnLoad
  465       function will be ignored.
  466 &lt;p/&gt;
  467       If an agent L is &lt;i&gt;statically linked&lt;/i&gt;, an Agent_OnAttach_L function
  468       will be invoked with the same arguments and expected return value as
  469       specified for the Agent_OnAttach function.
  470       If a &lt;i&gt;statically linked&lt;/i&gt; agent L exports a function called
  471       Agent_OnAttach_L and a function called Agent_OnAttach, the Agent_OnAttach
  472       function will be ignored.
  473 &lt;/intro&gt;
  474 
  475   &lt;intro id=&quot;starting&quot; label=&quot;Agent Command Line Options&quot;&gt;
  476     The term &quot;command-line option&quot; is used below to
  477     mean options supplied in the &lt;code&gt;JavaVMInitArgs&lt;/code&gt; argument
  478     to the &lt;code&gt;JNI_CreateJavaVM&lt;/code&gt; function of the JNI
  479     Invocation API.
  480     &lt;p/&gt;
  481     One of the two following
  482     command-line options is used on VM startup to
  483     properly load and run agents.
  484     These arguments identify the library containing
  485     the agent as well as an options
  486     string to be passed in at startup.
  487     &lt;dl&gt;
  488       &lt;dt&gt;&lt;code&gt;-agentlib:&lt;/code&gt;&lt;i&gt;&amp;lt;agent-lib-name&amp;gt;&lt;/i&gt;&lt;code&gt;=&lt;/code&gt;&lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt;&lt;/dt&gt;
  489       &lt;dd&gt;
  490         The name following &lt;code&gt;-agentlib:&lt;/code&gt; is the name of the
  491         library to load.  Lookup of the library, both its full name and location,
  492         proceeds in a platform-specific manner.
  493         Typically, the &lt;i&gt;&amp;lt;agent-lib-name&amp;gt;&lt;/i&gt; is expanded to an
  494         operating system specific file name.
  495         The &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; will be passed to the agent on start-up.
  496         For example, if the option
  497         &lt;code&gt;-agentlib:foo=opt1,opt2&lt;/code&gt; is specified, the VM will attempt to
  498         load the shared library &lt;code&gt;foo.dll&lt;/code&gt; from the system &lt;code&gt;PATH&lt;/code&gt;
  499         under &lt;tm&gt;Windows&lt;/tm&gt; or &lt;code&gt;libfoo.so&lt;/code&gt; from the
<a name="2" id="anc2"></a><span class="line-modified">  500         &lt;code&gt;LD_LIBRARY_PATH&lt;/code&gt; under the &lt;tm&gt;Solaris&lt;/tm&gt; operating</span>
<span class="line-removed">  501         environment.</span>
  502         If the agent library is statically linked into the executable
  503         then no actual loading takes place.
  504     &lt;p/&gt;
  505       &lt;/dd&gt;
  506       &lt;dt&gt;&lt;code&gt;-agentpath:&lt;/code&gt;&lt;i&gt;&amp;lt;path-to-agent&amp;gt;&lt;/i&gt;&lt;code&gt;=&lt;/code&gt;&lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt;&lt;/dt&gt;
  507       &lt;dd&gt;
  508         The path following &lt;code&gt;-agentpath:&lt;/code&gt; is the absolute path from which
  509         to load the library.
  510         No library name expansion will occur.
  511         The &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; will be passed to the agent on start-up.
  512         For example, if the option
  513         &lt;code&gt;-agentpath:c:\myLibs\foo.dll=opt1,opt2&lt;/code&gt; is specified, the VM will attempt to
  514         load the shared library &lt;code&gt;c:\myLibs\foo.dll&lt;/code&gt;. If the agent
  515         library is statically linked into the executable
  516         then no actual loading takes place.
  517     &lt;p/&gt;
  518       &lt;/dd&gt;
  519     &lt;/dl&gt;
  520     For a dynamic shared library agent, the start-up routine
  521     &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad&lt;/code&gt;&lt;/internallink&gt;
  522     in the library will be invoked. If the agent library is statically linked
  523     into the executable then the system will attempt to invoke the
  524     &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; entry point where
  525     &amp;lt;agent-lib-name&amp;gt; is the basename of the
  526     agent. In the above example &lt;code&gt;-agentpath:c:\myLibs\foo.dll=opt1,opt2&lt;/code&gt;,
  527     the system will attempt to find and call the &lt;code&gt;Agent_OnLoad_foo&lt;/code&gt; start-up routine.
  528     &lt;p/&gt;
  529     Libraries loaded with &lt;code&gt;-agentlib:&lt;/code&gt; or &lt;code&gt;-agentpath:&lt;/code&gt;
  530     will be searched for JNI native method implementations to facilitate the
  531     use of Java programming language code in tools, as is needed for
  532     &lt;internallink id=&quot;bci&quot;&gt;bytecode instrumentation&lt;/internallink&gt;.
  533     &lt;p/&gt;
  534     The agent libraries will be searched after all other libraries have been
  535     searched (agents wishing to override or intercept the native method
  536     implementations of non-agent methods can use the
  537     &lt;eventlink id=&quot;NativeMethodBind&quot;&gt;NativeMethodBind event&lt;/eventlink&gt;).
  538     &lt;p/&gt;
  539     These switches do the above and nothing more - they do not change the
  540     state of the VM or &lt;jvmti/&gt;.  No command line options are needed
  541     to enable &lt;jvmti/&gt;
  542     or aspects of &lt;jvmti/&gt;, this is handled programmatically
  543     by the use of
  544     &lt;internallink id=&quot;capability&quot;&gt;capabilities&lt;/internallink&gt;.
  545   &lt;/intro&gt;
  546 
  547   &lt;intro id=&quot;startup&quot; label=&quot;Agent Start-Up&quot;&gt;
  548     The VM starts each agent by invoking a start-up function.
  549     If the agent is started in the &lt;code&gt;OnLoad&lt;/code&gt;
  550     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt; the function
  551     &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad&lt;/code&gt;&lt;/internallink&gt;
  552     or &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad_L&lt;/code&gt;&lt;/internallink&gt;
  553     for statically linked agents will be invoked.
  554     If the agent is started in the live
  555     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt; the function
  556     &lt;internallink id=&quot;onattach&quot;&gt;&lt;code&gt;Agent_OnAttach&lt;/code&gt;&lt;/internallink&gt;
  557     or &lt;internallink id=&quot;onattach&quot;&gt;&lt;code&gt;Agent_OnAttach_L&lt;/code&gt;&lt;/internallink&gt;
  558     for statically linked agents will be invoked.
  559     Exactly one call to a start-up function is made per agent.
  560   &lt;/intro&gt;
  561 
  562   &lt;intro id=&quot;onload&quot; label=&quot;Agent Start-Up (OnLoad phase)&quot;&gt;
  563     If an agent is started during the &lt;code&gt;OnLoad&lt;/code&gt; phase then its
  564     agent library must export a start-up function with the following prototype:
  565     &lt;example&gt;
  566 JNIEXPORT jint JNICALL
  567 Agent_OnLoad(JavaVM *vm, char *options, void *reserved)&lt;/example&gt;
  568     Or for a statically linked agent named &#39;L&#39;:
  569     &lt;example&gt;
  570 JNIEXPORT jint JNICALL
  571 Agent_OnLoad_L(JavaVM *vm, char *options, void *reserved)&lt;/example&gt;
  572 
  573     The VM will start the agent by calling this function.
  574     It will be called early enough in VM initialization that:
  575     &lt;ul&gt;
  576       &lt;li&gt;&lt;functionlink id=&quot;SetSystemProperty&quot;&gt;system properties&lt;/functionlink&gt;
  577         may be set before they have been used in the start-up of the VM&lt;/li&gt;
  578       &lt;li&gt;the full set of
  579         &lt;internallink id=&quot;capability&quot;&gt;capabilities&lt;/internallink&gt;
  580         is still available (note that capabilities that configure the VM
  581         may only be available at this time--see the
  582         &lt;internallink id=&quot;capability&quot;&gt;Capability function section&lt;/internallink&gt;)&lt;/li&gt;
  583       &lt;li&gt;no bytecodes have executed&lt;/li&gt;
  584       &lt;li&gt;no classes have been loaded&lt;/li&gt;
  585       &lt;li&gt;no objects have been created&lt;/li&gt;
  586     &lt;/ul&gt;
  587     &lt;p/&gt;
  588     The VM will call the &lt;code&gt;Agent_OnLoad&lt;/code&gt; or
  589     &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; function with
  590     &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; as the second argument -
  591     that is, using the command-line option examples,
  592     &lt;code&gt;&quot;opt1,opt2&quot;&lt;/code&gt; will be passed to the &lt;code&gt;char *options&lt;/code&gt;
  593     argument of &lt;code&gt;Agent_OnLoad&lt;/code&gt;.
  594     The &lt;code&gt;options&lt;/code&gt; argument is encoded as a
  595     &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
  596     If &lt;i&gt;=&amp;lt;options&amp;gt;&lt;/i&gt; is not specified,
  597     a zero length string is passed to &lt;code&gt;options&lt;/code&gt;.
  598     The lifespan of the &lt;code&gt;options&lt;/code&gt; string is the
  599     &lt;code&gt;Agent_OnLoad&lt;/code&gt; or &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt;
  600     call.  If needed beyond this time the string or parts of the string must
  601     be copied.
  602     The period between when &lt;code&gt;Agent_OnLoad&lt;/code&gt; is called and when it
  603     returns is called the &lt;i&gt;OnLoad phase&lt;/i&gt;.
  604     Since the VM is not initialized during the OnLoad
  605     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;,
  606     the set of allowed operations
  607     inside &lt;code&gt;Agent_OnLoad&lt;/code&gt; is restricted (see the function descriptions for the
  608     functionality available at this time).
  609     The agent can safely process the options and set
  610     event callbacks with &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt;. Once
  611     the VM initialization event is received
  612     (that is, the &lt;eventlink id=&quot;VMInit&quot;&gt;VMInit&lt;/eventlink&gt;
  613     callback is invoked), the agent
  614     can complete its initialization.
  615     &lt;rationale&gt;
  616       Early startup is required so that agents can set the desired capabilities,
  617       many of which must be set before the VM is initialized.
  618       In JVMDI, the -Xdebug command-line option provided
  619       very coarse-grain control of capabilities.
  620       JVMPI implementations use various tricks to provide a single &quot;JVMPI on&quot; switch.
  621       No reasonable command-line
  622       option could provide the fine-grain of control required to balance needed capabilities vs
  623       performance impact.
  624       Early startup is also needed so that agents can control the execution
  625       environment - modifying the file system and system properties to install
  626       their functionality.
  627     &lt;/rationale&gt;
  628     &lt;p/&gt;
  629     The return value from &lt;code&gt;Agent_OnLoad&lt;/code&gt; or
  630     &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; is used to indicate an error.
  631     Any value other than zero indicates an error and causes termination of the VM.
  632   &lt;/intro&gt;
  633 
  634   &lt;intro id=&quot;onattach&quot; label=&quot;Agent Start-Up (Live phase)&quot;&gt;
  635     A VM may support a mechanism that allows agents to be started in the VM during the live
  636     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;. The details of how this is supported,
  637     are implementation specific. For example, a tool may use some platform specific mechanism,
  638     or implementation specific API, to attach to the running VM, and request it start a given
  639     agent.
  640     &lt;p/&gt;
  641     If an agent is started during the live phase then its agent library
  642     must export a start-up function
  643     with the following prototype:
  644     &lt;example&gt;
  645 JNIEXPORT jint JNICALL
  646 Agent_OnAttach(JavaVM* vm, char *options, void *reserved)&lt;/example&gt;
  647 Or for a statically linked agent named &#39;L&#39;:
  648     &lt;example&gt;
  649 JNIEXPORT jint JNICALL
  650 Agent_OnAttach_L(JavaVM* vm, char *options, void *reserved)&lt;/example&gt;
  651 
  652     &lt;p/&gt;
  653     The VM will start the agent by calling this function.
  654     It will be called in the context of a thread
  655     that is attached to the VM. The first argument &lt;i&gt;&amp;lt;vm&amp;gt;&lt;/i&gt; is the Java VM.
  656     The &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; argument is the startup options provided to the agent.
  657     &lt;i&gt;&amp;lt;options&amp;gt;&lt;/i&gt; is encoded as a &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8
  658     &lt;/internallink&gt; string.
  659     If startup options were not provided, a zero length string is passed to
  660     &lt;code&gt;options&lt;/code&gt;. The lifespan of the &lt;code&gt;options&lt;/code&gt; string is the
  661     &lt;code&gt;Agent_OnAttach&lt;/code&gt; or &lt;code&gt;Agent_OnAttach_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; call.
  662     If needed beyond this time the string or parts of the string must be copied.
  663     &lt;p/&gt;
  664     Note that some &lt;internallink id=&quot;capability&quot;&gt;capabilities&lt;/internallink&gt;
  665     may not be available in the live phase.
  666     &lt;p/&gt;
  667     The &lt;code&gt;Agent_OnAttach&lt;/code&gt; or &lt;code&gt;Agent_OnAttach_&amp;lt;agent-lib-name
  668     &amp;gt;&lt;/code&gt; function initializes the agent and returns a value
  669     to the VM to indicate if an error occurred. Any value other than zero indicates an error.
  670     An error does not cause the VM to terminate. Instead the VM ignores the error, or takes
  671     some implementation specific action -- for example it might print an error to standard error,
  672     or record the error in a system log.
  673   &lt;/intro&gt;
  674 
  675   &lt;intro id=&quot;onunload&quot; label=&quot;Agent Shutdown&quot;&gt;
  676     The library may optionally export a
  677     shutdown function with the following prototype:
  678     &lt;example&gt;
  679 JNIEXPORT void JNICALL
  680 Agent_OnUnload(JavaVM *vm)&lt;/example&gt;
  681     Or for a statically linked agent named &#39;L&#39;:
  682     &lt;example&gt;
  683 JNIEXPORT void JNICALL
  684 Agent_OnUnload_L(JavaVM *vm)&lt;/example&gt;
  685 
  686     This function will be called by the VM when the library is about to be unloaded.
  687     The library will be unloaded (unless it is statically linked into the
  688     executable) and this function will be called if some platform specific
  689     mechanism causes the unload (an unload mechanism is not specified in this document)
  690     or the library is (in effect) unloaded by the termination of the VM whether through
  691     normal termination or VM failure, including start-up failure.
  692     Uncontrolled shutdown is, of course, an exception to this rule.
  693     Note the distinction between this function and the
  694     &lt;eventlink id=&quot;VMDeath&quot;&gt;VM Death event&lt;/eventlink&gt;: for the VM Death event
  695     to be sent, the VM must have run at least to the point of initialization and a valid
  696     &lt;jvmti/&gt; environment must exist which has set a callback for VMDeath
  697     and enabled the event.
  698     None of these are required for &lt;code&gt;Agent_OnUnload&lt;/code&gt; or
  699     &lt;code&gt;Agent_OnUnload_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; and this function
  700     is also called if the library is unloaded for other reasons.
  701     In the case that a VM Death event is sent, it will be sent before this
  702     function is called (assuming this function is called due to VM termination).
  703     This function can be used to clean-up resources allocated by the agent.
  704   &lt;/intro&gt;
  705 
  706   &lt;intro id=&quot;tooloptions&quot; label=&quot;JAVA_TOOL_OPTIONS&quot;&gt;
  707     Since the command-line cannot always be accessed or modified, for example in embedded VMs
  708     or simply VMs launched deep within scripts, a &lt;code&gt;JAVA_TOOL_OPTIONS&lt;/code&gt; variable is
  709     provided so that agents may be launched in these cases.
  710     &lt;p/&gt;
  711     Platforms which support environment variables or other named strings, may support the
  712     &lt;code&gt;JAVA_TOOL_OPTIONS&lt;/code&gt; variable.  This variable will be broken into options at white-space
  713     boundaries.  White-space characters include space, tab, carriage-return, new-line,
  714     vertical-tab, and form-feed.  Sequences of white-space characters are considered
  715     equivalent to a single white-space character.  No white-space is included in the options
  716     unless quoted.  Quoting is as follows:
  717     &lt;ul&gt;
  718         &lt;li&gt;All characters enclosed between a pair of single quote marks (&#39;&#39;), except a single
  719         quote, are quoted.&lt;/li&gt;
  720         &lt;li&gt;Double quote characters have no special meaning inside a pair of single quote marks.&lt;/li&gt;
  721         &lt;li&gt;All characters enclosed between a pair of double quote marks (&quot;&quot;), except a double
  722         quote, are quoted.&lt;/li&gt;
  723         &lt;li&gt;Single quote characters have no special meaning inside a pair of double quote marks.&lt;/li&gt;
  724         &lt;li&gt;A quoted part can start or end anywhere in the variable.&lt;/li&gt;
  725         &lt;li&gt;White-space characters have no special meaning when quoted -- they are included in
  726         the option like any other character and do not mark white-space boundaries.&lt;/li&gt;
  727         &lt;li&gt;The pair of quote marks is not included in the option.&lt;/li&gt;
  728     &lt;/ul&gt;
  729     &lt;code&gt;JNI_CreateJavaVM&lt;/code&gt; (in the JNI Invocation API) will prepend these options to the options supplied
  730     in its &lt;code&gt;JavaVMInitArgs&lt;/code&gt; argument. Platforms may disable this feature in cases where security is
  731     a concern; for example, the Reference Implementation disables this feature on Unix systems when
  732     the effective user or group ID differs from the real ID.
  733     This feature is intended to support the initialization of tools -- specifically including the
  734     launching of native or Java programming language agents.  Multiple tools may wish to use this
  735     feature, so the variable should not be overwritten, instead,  options should be appended to
  736     the variable.  Note that since the variable is processed at the time of the JNI Invocation
  737     API create VM call, options processed by a launcher (e.g., VM selection options) will not be handled.
  738   &lt;/intro&gt;
  739 
  740   &lt;intro id=&quot;environments&quot; label=&quot;Environments&quot;&gt;
  741     The &lt;jvmti/&gt; specification supports the use of multiple simultaneous
  742     &lt;jvmti/&gt; agents.
  743     Each agent has its own &lt;jvmti/&gt; environment.
  744     That is, the &lt;jvmti/&gt; state is
  745     separate for each agent - changes to one environment do not affect the
  746     others.  The state of a &lt;jvmti/&gt;
  747     environment includes:
  748     &lt;ul&gt;
  749       &lt;li&gt;&lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;the event callbacks&lt;/functionlink&gt;&lt;/li&gt;
  750       &lt;li&gt;&lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;the set of events which are enabled&lt;/functionlink&gt;&lt;/li&gt;
  751       &lt;li&gt;&lt;internallink id=&quot;capability&quot;&gt;the capabilities&lt;/internallink&gt;&lt;/li&gt;
  752       &lt;li&gt;&lt;internallink id=&quot;memory&quot;&gt;the memory allocation/deallocation hooks&lt;/internallink&gt;&lt;/li&gt;
  753     &lt;/ul&gt;
  754     Although their &lt;jvmti/&gt; state
  755     is separate, agents inspect and modify the shared state
  756     of the VM, they also share the native environment in which they execute.
  757     As such, an agent can perturb the results of other agents or cause them
  758     to fail.  It is the responsibility of the agent writer to specify the level
  759     of compatibility with other agents.  &lt;jvmti/&gt; implementations are not capable
  760     of preventing destructive interactions between agents. Techniques to reduce
  761     the likelihood of these occurrences are beyond the scope of this document.
  762     &lt;p/&gt;
  763     An agent creates a &lt;jvmti/&gt; environment
  764     by passing a &lt;jvmti/&gt; version
  765     as the interface ID to the JNI Invocation API function
  766     &lt;externallink id=&quot;jni/invocation.html#getenv&quot;&gt;
  767       &lt;code&gt;GetEnv&lt;/code&gt;&lt;/externallink&gt;.
  768     See &lt;internallink id=&quot;jvmtiEnvAccess&quot;&gt;Accessing &lt;jvmti/&gt; Functions&lt;/internallink&gt;
  769     for more details on the creation and use of
  770     &lt;jvmti/&gt; environments.
  771     Typically, &lt;jvmti/&gt; environments are created by calling &lt;code&gt;GetEnv&lt;/code&gt; from
  772     &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad&lt;/code&gt;&lt;/internallink&gt;.
  773   &lt;/intro&gt;
  774 
  775   &lt;intro id=&quot;bci&quot; label=&quot;Bytecode Instrumentation&quot;&gt;
  776     This interface does not include some events that one might expect in an interface with
  777     profiling support.  Some examples include full speed
  778     method enter and exit events.  The interface instead provides support for
  779     &lt;i&gt;bytecode instrumentation&lt;/i&gt;, the ability to alter the Java virtual machine
  780     bytecode instructions which comprise the target program.  Typically, these alterations
  781     are to add &quot;events&quot; to the code of a method - for example, to add, at the beginning of a method,
  782     a call to &lt;code&gt;MyProfiler.methodEntered()&lt;/code&gt;.
  783     Since the changes are purely additive, they do not modify application
  784     state or behavior.
  785     Because the inserted agent code is standard bytecodes, the VM can run at full speed,
  786     optimizing not only the target program but also the instrumentation.  If the
  787     instrumentation does not involve switching from bytecode execution, no expensive
  788     state transitions are needed.  The result is high performance events.
  789     This approach also provides complete control to the agent: instrumentation can be
  790     restricted to &quot;interesting&quot; portions of the code (e.g., the end user&#39;s code) and
  791     can be conditional.  Instrumentation can run entirely in Java programming language
  792     code or can call into the native agent.  Instrumentation can simply maintain
  793     counters or can statistically sample events.
  794     &lt;p/&gt;
  795     Instrumentation can be inserted in one of three ways:
  796     &lt;ul&gt;
  797       &lt;li&gt;
  798         Static Instrumentation: The class file is instrumented before it
  799         is loaded into the VM - for example, by creating a duplicate directory of
  800         &lt;code&gt;*.class&lt;/code&gt; files which have been modified to add the instrumentation.
  801         This method is extremely awkward and, in general, an agent cannot know
  802         the origin of the class files which will be loaded.
  803       &lt;/li&gt;
  804       &lt;li&gt;
  805         Load-Time Instrumentation: When a class file is loaded by the VM, the raw
  806         bytes of the class file are sent for instrumentation to the agent.
  807         The &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt;
  808         event, triggered by the class load,
  809         provides this functionality.  This mechanism provides efficient
  810         and complete access to one-time instrumentation.
  811       &lt;/li&gt;
  812       &lt;li&gt;
  813         Dynamic Instrumentation: A class which is already loaded (and possibly
  814         even running) is modified.  This optional feature is provided by the
  815         &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event, triggered by calling the
  816         &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; function.
  817         Classes can be modified multiple times and can be returned to their
  818         original state.
  819         The mechanism allows instrumentation which changes during the
  820         course of execution.
  821       &lt;/li&gt;
  822     &lt;/ul&gt;
  823     &lt;p/&gt;
  824     The class modification functionality provided in this interface
  825     is intended to provide a mechanism for instrumentation
  826     (the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event
  827     and the &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; function)
  828     and, during development, for fix-and-continue debugging
  829     (the &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; function).
  830     &lt;p/&gt;
  831     Care must be taken to avoid perturbing dependencies, especially when
  832     instrumenting core classes.  For example, an approach to getting notification
  833     of every object allocation is to instrument the constructor on
  834     &lt;code&gt;Object&lt;/code&gt;.  Assuming that the constructor is initially
  835     empty, the constructor could be changed to:
  836     &lt;example&gt;
  837       public Object() {
  838         MyProfiler.allocationTracker(this);
  839       }
  840     &lt;/example&gt;
  841     However, if this change was made using the
  842     &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt;
  843     event then this might impact a typical VM as follows:
  844     the first created object will call the constructor causing a class load of
  845     &lt;code&gt;MyProfiler&lt;/code&gt;; which will then cause
  846     object creation, and since &lt;code&gt;MyProfiler&lt;/code&gt; isn&#39;t loaded yet,
  847     infinite recursion; resulting in a stack overflow.  A refinement of this
  848     would be to delay invoking the tracking method until a safe time.  For
  849     example, &lt;code&gt;trackAllocations&lt;/code&gt; could be set in the
  850     handler for the &lt;code&gt;VMInit&lt;/code&gt; event.
  851     &lt;example&gt;
  852       static boolean trackAllocations = false;
  853 
  854       public Object() {
  855         if (trackAllocations) {
  856           MyProfiler.allocationTracker(this);
  857         }
  858       }
  859     &lt;/example&gt;
  860     &lt;p/&gt;
  861     The &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt; allows native methods
  862     to be instrumented by the use of wrapper methods.
  863   &lt;/intro&gt;
  864 
  865 &lt;intro id=&quot;bcimodules&quot; label=&quot;Bytecode Instrumentation of code in modules&quot;&gt;
  866   Agents can use the functions &lt;functionlink id=&quot;AddModuleReads&quot;/&gt;,
  867   &lt;functionlink id=&quot;AddModuleExports&quot;/&gt;, &lt;functionlink id=&quot;AddModuleOpens&quot;/&gt;,
  868   &lt;functionlink id=&quot;AddModuleUses&quot;/&gt; and &lt;functionlink id=&quot;AddModuleProvides&quot;/&gt;
  869   to update a module to expand the set of modules that it reads, the set of
  870   packages that it exports or opens to other modules, or the services that it
  871   uses and provides.
  872   &lt;p/&gt;
  873   As an aid to agents that deploy supporting classes on the search path of
  874   the bootstrap class loader, or the search path of the class loader that
  875   loads the main class, the Java virtual machine arranges for the module
  876   of classes transformed by the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event to
  877   read the unnamed module of both class loaders.
  878 &lt;/intro&gt;
  879 
  880   &lt;intro id=&quot;mUTF&quot; label=&quot;Modified UTF-8 String Encoding&quot;&gt;
  881     &lt;jvmti/&gt; uses modified UTF-8 to encode character strings.
  882     This is the same encoding used by JNI.
  883     Modified UTF-8 differs
  884     from standard UTF-8 in the representation of supplementary characters
  885     and of the null character. See the
  886     &lt;externallink id=&quot;jni/types.html#modified-utf-8-strings&quot;&gt;
  887       Modified UTF-8 Strings&lt;/externallink&gt;
  888     section of the JNI specification for details.
  889   &lt;/intro&gt;
  890 
  891   &lt;intro id=&quot;context&quot; label=&quot;Specification Context&quot;&gt;
  892     Since this interface provides access to the state of applications running in the
  893     Java virtual machine;
  894     terminology refers to the Java platform and not the native
  895     platform (unless stated otherwise).  For example:
  896     &lt;ul&gt;
  897       &lt;li&gt;&quot;thread&quot; means Java programming language thread.&lt;/li&gt;
  898       &lt;li&gt;&quot;stack frame&quot; means Java virtual machine stack frame.&lt;/li&gt;
  899       &lt;li&gt;&quot;class&quot; means Java programming language class.&lt;/li&gt;
  900       &lt;li&gt;&quot;heap&quot; means Java virtual machine heap.&lt;/li&gt;
  901       &lt;li&gt;&quot;monitor&quot; means Java programming language object monitor.&lt;/li&gt;
  902     &lt;/ul&gt;
  903     &lt;p/&gt;
  904     Sun, Sun Microsystems, the Sun logo, Java, and JVM
  905     are trademarks or registered trademarks of Oracle
  906     and/or its affiliates, in the U.S. and other countries.
  907   &lt;/intro&gt;
  908 
  909 
  910 &lt;functionsection label=&quot;Functions&quot;&gt;
  911   &lt;intro id=&quot;jvmtiEnvAccess&quot; label=&quot;Accessing Functions&quot;&gt;
  912     Native code accesses &lt;jvmti/&gt; features
  913     by calling &lt;jvmti/&gt; functions.
  914     Access to &lt;jvmti/&gt; functions is by use of an interface pointer
  915     in the same manner as
  916     &lt;externallink id=&quot;jni/design.html&quot;&gt;Java
  917       Native Interface (JNI) functions&lt;/externallink&gt; are accessed.
  918     The &lt;jvmti/&gt; interface pointer is called the
  919     &lt;i&gt;environment pointer&lt;/i&gt;.
  920     &lt;p/&gt;
  921     An environment pointer is a pointer to an environment and has
  922     the type &lt;code&gt;jvmtiEnv*&lt;/code&gt;.
  923     An environment has information about its &lt;jvmti/&gt; connection.
  924     The first value in the environment is a pointer to the function table.
  925     The function table is an array of pointers to &lt;jvmti/&gt; functions.
  926     Every function pointer is at a predefined offset inside the
  927     array.
  928     &lt;p/&gt;
  929     When used from the C language:
  930     double indirection is used to access the functions;
  931     the environment pointer provides context and is the first
  932     parameter of each function call; for example:
  933     &lt;example&gt;
  934 jvmtiEnv *jvmti;
  935 ...
  936 jvmtiError err = (*jvmti)-&gt;GetLoadedClasses(jvmti, &amp;amp;class_count, &amp;amp;classes);
  937     &lt;/example&gt;
  938     &lt;p/&gt;
  939     When used from the C++ language:
  940     functions are accessed as member functions of &lt;code&gt;jvmtiEnv&lt;/code&gt;;
  941     the environment pointer is not passed to the function call; for example:
  942     &lt;example&gt;
  943 jvmtiEnv *jvmti;
  944 ...
  945 jvmtiError err = jvmti-&gt;GetLoadedClasses(&amp;amp;class_count, &amp;amp;classes);
  946     &lt;/example&gt;
  947     Unless otherwise stated, all examples and declarations in this
  948     specification use the C language.
  949     &lt;p/&gt;
  950     A &lt;jvmti/&gt; environment can be obtained through the JNI Invocation API
  951     &lt;code&gt;GetEnv&lt;/code&gt; function:
  952     &lt;example&gt;
  953 jvmtiEnv *jvmti;
  954 ...
  955 (*jvm)-&gt;GetEnv(jvm, &amp;amp;jvmti, JVMTI_VERSION_1_0);
  956     &lt;/example&gt;
  957     Each call to &lt;code&gt;GetEnv&lt;/code&gt;
  958     creates a new &lt;jvmti/&gt; connection and thus
  959     a new &lt;jvmti/&gt; environment.
  960     The &lt;code&gt;version&lt;/code&gt; argument of &lt;code&gt;GetEnv&lt;/code&gt; must be
  961     a &lt;jvmti/&gt; version.
  962     The returned environment may have a different version than the
  963     requested version but the returned environment must be compatible.
  964     &lt;code&gt;GetEnv&lt;/code&gt; will return &lt;code&gt;JNI_EVERSION&lt;/code&gt; if a
  965     compatible version is not available, if &lt;jvmti/&gt; is not supported or
  966     &lt;jvmti/&gt; is not supported in the current VM configuration.
  967     Other interfaces may be added for creating &lt;jvmti/&gt; environments
  968     in specific contexts.
  969     Each environment has its own state (for example,
  970     &lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;desired events&lt;/functionlink&gt;,
  971     &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;event handling functions&lt;/functionlink&gt;, and
  972     &lt;functionlink id=&quot;AddCapabilities&quot;&gt;capabilities&lt;/functionlink&gt;).
  973     An environment is released with
  974     &lt;functionlink id=&quot;DisposeEnvironment&quot;&gt;&lt;/functionlink&gt;.
  975     Thus, unlike JNI which has one environment per thread, &lt;jvmti/&gt; environments work
  976     across threads and are created dynamically.
  977   &lt;/intro&gt;
  978 
  979   &lt;intro id=&quot;functionReturn&quot; label=&quot;Function Return Values&quot;&gt;
  980     &lt;jvmti/&gt; functions always return an
  981     &lt;internallink id=&quot;ErrorSection&quot;&gt;error code&lt;/internallink&gt; via the
  982     &lt;datalink id=&quot;jvmtiError&quot;/&gt; function return value.
  983     Some functions can return additional
  984     values through pointers provided by the calling function.
  985     In some cases, &lt;jvmti/&gt; functions allocate memory that your program must
  986     explicitly deallocate. This is indicated in the individual &lt;jvmti/&gt;
  987     function descriptions.  Empty lists, arrays, sequences, etc are
  988     returned as &lt;code&gt;NULL&lt;/code&gt;.
  989     &lt;p/&gt;
  990     In the event that the &lt;jvmti/&gt; function encounters
  991     an error (any return value other than &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;) the values
  992     of memory referenced by argument pointers is undefined, but no memory
  993     will have been allocated and no global references will have been allocated.
  994     If the error occurs because of invalid input, no action will have occurred.
  995   &lt;/intro&gt;
  996 
  997 &lt;intro id=&quot;refs&quot; label=&quot;Managing JNI Object References&quot;&gt;
  998     &lt;jvmti/&gt; functions identify objects with JNI references
  999     (&lt;datalink id=&quot;jobject&quot;/&gt; and &lt;datalink id=&quot;jclass&quot;/&gt;)
 1000     and their derivatives
 1001     (&lt;datalink id=&quot;jthread&quot;/&gt; and &lt;datalink id=&quot;jthreadGroup&quot;/&gt;).
 1002     References passed to
 1003     &lt;jvmti/&gt; functions can be either global or local, but they must be
 1004     strong references. All references returned by &lt;jvmti/&gt; functions are
 1005     local references--these local references are created
 1006     during the &lt;jvmti/&gt; call.
 1007     Local references are a resource that must be managed (see the
 1008     &lt;externallink id=&quot;jni/functions.html#local-references&quot;&gt;
 1009       JNI Documentation&lt;/externallink&gt;).
 1010     When threads return from native code all local references
 1011     are freed.  Note that some threads, including typical
 1012     agent threads, will never return from native code.
 1013     A thread is ensured the ability to create sixteen local
 1014     references without the need for any explicit management.
 1015     For threads executing a limited number of &lt;jvmti/&gt; calls before
 1016     returning from native code
 1017     (for example, threads processing events),
 1018     it may be determined that no explicit management
 1019     is needed.
 1020     However, long running agent threads will need explicit
 1021     local reference management--usually with the JNI functions
 1022     &lt;code&gt;PushLocalFrame&lt;/code&gt; and &lt;code&gt;PopLocalFrame&lt;/code&gt;.
 1023     Conversely, to preserve references beyond the
 1024     return from native code, they must be converted to global references.
 1025     These rules do not apply to &lt;datalink id=&quot;jmethodID&quot;/&gt; and &lt;datalink id=&quot;jfieldID&quot;/&gt;
 1026     as they are not &lt;datalink id=&quot;jobject&quot;/&gt;s.
 1027 &lt;/intro&gt;
 1028 
 1029     &lt;intro id=&quot;prereqState&quot; label=&quot;Prerequisite State for Calling Functions&quot;&gt;
 1030       Unless the function explicitly states that the agent must bring
 1031       a thread or the VM to a particular state (for example, suspended),
 1032       the &lt;jvmti/&gt; implementation is responsible for bringing the VM to a
 1033       safe and consistent state for performing the function.
 1034     &lt;/intro&gt;
 1035 
 1036     &lt;intro id=&quot;functionsExceptions&quot; label=&quot;Exceptions and Functions&quot;&gt;
 1037       &lt;jvmti/&gt; functions never throw exceptions; error conditions are
 1038       communicated via the
 1039       &lt;internallink id=&quot;functionReturn&quot;&gt;function return value&lt;/internallink&gt;.
 1040       Any existing exception state is preserved across a call to a
 1041       &lt;jvmti/&gt; function.
 1042       See the
 1043       &lt;externallink
 1044         id=&quot;jni/design.html#java-exceptions&quot;
 1045              &gt;Java Exceptions&lt;/externallink&gt;
 1046       section of the JNI specification for information on handling exceptions.
 1047     &lt;/intro&gt;
 1048 
 1049   &lt;category id=&quot;memory&quot; label=&quot;Memory Management&quot;&gt;
 1050     &lt;intro&gt;
 1051       These functions provide for the allocation and deallocation of
 1052       memory used by &lt;jvmti/&gt; functionality and can be used to provide
 1053       working memory for agents.
 1054       Memory managed by &lt;jvmti/&gt; is not compatible with other memory
 1055       allocation libraries and mechanisms.
 1056     &lt;/intro&gt;
 1057 
 1058     &lt;function id=&quot;Allocate&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;notrace&quot; num=&quot;46&quot;&gt;
 1059       &lt;synopsis&gt;Allocate&lt;/synopsis&gt;
 1060       &lt;description&gt;
 1061         Allocate an area of memory through the &lt;jvmti/&gt; allocator.
 1062         The allocated
 1063         memory should be freed with &lt;functionlink id=&quot;Deallocate&quot;&gt;&lt;/functionlink&gt;.
 1064       &lt;/description&gt;
 1065       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1066       &lt;capabilities&gt;
 1067       &lt;/capabilities&gt;
 1068       &lt;parameters&gt;
 1069         &lt;param id=&quot;size&quot;&gt;
 1070           &lt;jlong/&gt;
 1071           &lt;description&gt;
 1072             The number of bytes to allocate.
 1073             &lt;rationale&gt;
 1074               &lt;code&gt;jlong&lt;/code&gt; is used for compatibility with JVMDI.
 1075             &lt;/rationale&gt;
 1076           &lt;/description&gt;
 1077         &lt;/param&gt;
 1078         &lt;param id=&quot;mem_ptr&quot;&gt;
 1079           &lt;allocbuf incount=&quot;size&quot;&gt;&lt;uchar/&gt;&lt;/allocbuf&gt;
 1080           &lt;description&gt;
 1081             On return, a pointer to the beginning of the allocated memory.
 1082             If &lt;code&gt;size&lt;/code&gt; is zero, &lt;code&gt;NULL&lt;/code&gt; is returned.
 1083           &lt;/description&gt;
 1084         &lt;/param&gt;
 1085       &lt;/parameters&gt;
 1086       &lt;errors&gt;
 1087         &lt;error id=&quot;JVMTI_ERROR_OUT_OF_MEMORY&quot;&gt;
 1088           Memory request cannot be honored.
 1089         &lt;/error&gt;
 1090         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 1091           &lt;paramlink id=&quot;size&quot;&gt;&lt;/paramlink&gt; is less than zero.
 1092         &lt;/error&gt;
 1093       &lt;/errors&gt;
 1094     &lt;/function&gt;
 1095 
 1096     &lt;function id=&quot;Deallocate&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;notrace&quot; num=&quot;47&quot;&gt;
 1097       &lt;synopsis&gt;Deallocate&lt;/synopsis&gt;
 1098       &lt;description&gt;
 1099         Deallocate &lt;code&gt;mem&lt;/code&gt;  using the &lt;jvmti/&gt; allocator.
 1100         This function should
 1101         be used to deallocate any memory allocated and returned
 1102         by a &lt;jvmti/&gt; function
 1103         (including memory allocated with &lt;functionlink id=&quot;Allocate&quot;&gt;&lt;/functionlink&gt;).
 1104         All allocated memory must be deallocated
 1105         or the memory cannot be reclaimed.
 1106       &lt;/description&gt;
 1107       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1108       &lt;capabilities&gt;
 1109       &lt;/capabilities&gt;
 1110       &lt;parameters&gt;
 1111         &lt;param id=&quot;mem&quot;&gt;
 1112           &lt;outbuf&gt;
 1113             &lt;uchar/&gt;
 1114             &lt;nullok&gt;the call is ignored&lt;/nullok&gt;
 1115           &lt;/outbuf&gt;
 1116           &lt;description&gt;
 1117             A pointer to the beginning of the allocated memory.
 1118             Please ignore &quot;On return, the elements are set.&quot;
 1119               &lt;todo&gt;keep it from generating &quot;On return, the elements are set&quot;&lt;/todo&gt;
 1120           &lt;/description&gt;
 1121         &lt;/param&gt;
 1122       &lt;/parameters&gt;
 1123       &lt;errors&gt;
 1124       &lt;/errors&gt;
 1125     &lt;/function&gt;
 1126   &lt;/category&gt;
 1127 
 1128   &lt;category id=&quot;threadCategory&quot; label=&quot;Thread&quot;&gt;
 1129     &lt;intro&gt;
 1130     &lt;/intro&gt;
 1131 
 1132     &lt;function id=&quot;GetThreadState&quot; num=&quot;17&quot;&gt;
 1133       &lt;synopsis&gt;Get Thread State&lt;/synopsis&gt;
 1134       &lt;description&gt;
 1135         Get the state of a thread.  The state of the thread is represented by the
 1136         answers to the hierarchical set of questions below:
 1137           &lt;ul type=&quot;circle&quot;&gt;
 1138             &lt;li&gt;&lt;i&gt;Alive?&lt;/i&gt;
 1139               &lt;ul&gt;
 1140                 &lt;li&gt;Not alive.
 1141                   &lt;ul type=&quot;circle&quot;&gt;
 1142                     &lt;li&gt;&lt;i&gt;Why not alive?&lt;/i&gt;
 1143                       &lt;ul&gt;
 1144                         &lt;li&gt;New.&lt;/li&gt;
 1145                         &lt;li&gt;Terminated (&lt;datalink
 1146                             id=&quot;JVMTI_THREAD_STATE_TERMINATED&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_TERMINATED&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1147                       &lt;/ul&gt;
 1148                     &lt;/li&gt;
 1149                   &lt;/ul&gt;
 1150                 &lt;/li&gt;
 1151                 &lt;li&gt;Alive (&lt;datalink
 1152                     id=&quot;JVMTI_THREAD_STATE_ALIVE&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt;&lt;/datalink&gt;)
 1153                   &lt;ul type=&quot;circle&quot;&gt;
 1154                     &lt;li&gt;&lt;i&gt;Suspended?&lt;/i&gt;
 1155                       &lt;ul&gt;
 1156                         &lt;li&gt;Suspended (&lt;datalink
 1157                             id=&quot;JVMTI_THREAD_STATE_SUSPENDED&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_SUSPENDED&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1158                         &lt;li&gt;Not suspended&lt;/li&gt;
 1159                       &lt;/ul&gt;
 1160                     &lt;/li&gt;
 1161                     &lt;li&gt;&lt;i&gt;Interrupted?&lt;/i&gt;
 1162                       &lt;ul&gt;
 1163                         &lt;li&gt;Interrupted (&lt;datalink
 1164                             id=&quot;JVMTI_THREAD_STATE_INTERRUPTED&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_INTERRUPTED&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1165                         &lt;li&gt;Not interrupted.&lt;/li&gt;
 1166                       &lt;/ul&gt;
 1167                     &lt;/li&gt;
 1168                     &lt;li&gt;&lt;i&gt;In native?&lt;/i&gt;
 1169                       &lt;ul&gt;
 1170                         &lt;li&gt;In native code (&lt;datalink
 1171                             id=&quot;JVMTI_THREAD_STATE_IN_NATIVE&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_IN_NATIVE&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1172                         &lt;li&gt;In Java programming language code&lt;/li&gt;
 1173                       &lt;/ul&gt;
 1174                     &lt;/li&gt;
 1175                     &lt;li&gt;&lt;i&gt;What alive state?&lt;/i&gt;
 1176                       &lt;ul&gt;
 1177                         &lt;li&gt;Runnable (&lt;datalink
 1178                             id=&quot;JVMTI_THREAD_STATE_RUNNABLE&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_RUNNABLE&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1179                         &lt;li&gt;Blocked (&lt;datalink
 1180                             id=&quot;JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1181                         &lt;li&gt;Waiting (&lt;datalink
 1182                             id=&quot;JVMTI_THREAD_STATE_WAITING&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt;&lt;/datalink&gt;)
 1183                           &lt;ul type=&quot;circle&quot;&gt;
 1184                             &lt;li&gt;&lt;i&gt;Timed wait?&lt;/i&gt;
 1185                               &lt;ul&gt;
 1186                                 &lt;li&gt;Indefinite (&lt;datalink
 1187                                     id=&quot;JVMTI_THREAD_STATE_WAITING_INDEFINITELY&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING_INDEFINITELY&lt;/code&gt;&lt;/datalink&gt;&lt;/li&gt;
 1188                                 &lt;li&gt;Timed (&lt;datalink
 1189                                     id=&quot;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1190                               &lt;/ul&gt;
 1191                             &lt;/li&gt;
 1192                             &lt;li&gt;&lt;i&gt;Why waiting?&lt;/i&gt;
 1193                               &lt;ul&gt;
 1194                                 &lt;li&gt;Object.wait (&lt;datalink
 1195                                     id=&quot;JVMTI_THREAD_STATE_IN_OBJECT_WAIT&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_IN_OBJECT_WAIT&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1196                                 &lt;li&gt;LockSupport.park (&lt;datalink
 1197                                     id=&quot;JVMTI_THREAD_STATE_PARKED&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_PARKED&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1198                                 &lt;li&gt;Sleeping (&lt;datalink
 1199                                     id=&quot;JVMTI_THREAD_STATE_SLEEPING&quot;&gt;&lt;code&gt;JVMTI_THREAD_STATE_SLEEPING&lt;/code&gt;&lt;/datalink&gt;)&lt;/li&gt;
 1200                               &lt;/ul&gt;
 1201                             &lt;/li&gt;
 1202                           &lt;/ul&gt;
 1203                         &lt;/li&gt;
 1204                       &lt;/ul&gt;
 1205                     &lt;/li&gt;
 1206                   &lt;/ul&gt;
 1207                 &lt;/li&gt;
 1208               &lt;/ul&gt;
 1209             &lt;/li&gt;
 1210           &lt;/ul&gt;
 1211         &lt;p/&gt;
 1212         The answers are represented by the following bit vector.
 1213         &lt;constants id=&quot;jvmtiThreadState&quot; label=&quot;Thread State Flags&quot; kind=&quot;bits&quot;&gt;
 1214           &lt;constant id=&quot;JVMTI_THREAD_STATE_ALIVE&quot; num=&quot;0x0001&quot;&gt;
 1215             Thread is alive. Zero if thread is new (not started) or terminated.
 1216           &lt;/constant&gt;
 1217           &lt;constant id=&quot;JVMTI_THREAD_STATE_TERMINATED&quot; num=&quot;0x0002&quot;&gt;
 1218             Thread has completed execution.
 1219           &lt;/constant&gt;
 1220           &lt;constant id=&quot;JVMTI_THREAD_STATE_RUNNABLE&quot; num=&quot;0x0004&quot;&gt;
 1221             Thread is runnable.
 1222           &lt;/constant&gt;
 1223           &lt;constant id=&quot;JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&quot; num=&quot;0x0400&quot;&gt;
 1224             Thread is waiting to enter a synchronization block/method or,
 1225             after an &lt;code&gt;Object.wait()&lt;/code&gt;, waiting to re-enter a
 1226             synchronization block/method.
 1227           &lt;/constant&gt;
 1228           &lt;constant id=&quot;JVMTI_THREAD_STATE_WAITING&quot; num=&quot;0x0080&quot;&gt;
 1229             Thread is waiting.
 1230           &lt;/constant&gt;
 1231           &lt;constant id=&quot;JVMTI_THREAD_STATE_WAITING_INDEFINITELY&quot; num=&quot;0x0010&quot;&gt;
 1232             Thread is waiting without a timeout.
 1233             For example, &lt;code&gt;Object.wait()&lt;/code&gt;.
 1234           &lt;/constant&gt;
 1235           &lt;constant id=&quot;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&quot; num=&quot;0x0020&quot;&gt;
 1236             Thread is waiting with a maximum time to wait specified.
 1237             For example, &lt;code&gt;Object.wait(long)&lt;/code&gt;.
 1238           &lt;/constant&gt;
 1239           &lt;constant id=&quot;JVMTI_THREAD_STATE_SLEEPING&quot; num=&quot;0x0040&quot;&gt;
 1240             Thread is sleeping -- &lt;code&gt;Thread.sleep(long)&lt;/code&gt;.
 1241           &lt;/constant&gt;
 1242           &lt;constant id=&quot;JVMTI_THREAD_STATE_IN_OBJECT_WAIT&quot; num=&quot;0x0100&quot;&gt;
 1243             Thread is waiting on an object monitor -- &lt;code&gt;Object.wait&lt;/code&gt;.
 1244           &lt;/constant&gt;
 1245           &lt;constant id=&quot;JVMTI_THREAD_STATE_PARKED&quot; num=&quot;0x0200&quot;&gt;
 1246             Thread is parked, for example: &lt;code&gt;LockSupport.park&lt;/code&gt;,
 1247             &lt;code&gt;LockSupport.parkUtil&lt;/code&gt; and &lt;code&gt;LockSupport.parkNanos&lt;/code&gt;.
 1248           &lt;/constant&gt;
 1249           &lt;constant id=&quot;JVMTI_THREAD_STATE_SUSPENDED&quot; num=&quot;0x100000&quot;&gt;
 1250             Thread suspended.
 1251             &lt;code&gt;java.lang.Thread.suspend()&lt;/code&gt;
 1252             or a &lt;jvmti/&gt; suspend function
 1253             (such as &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;)
 1254             has been called on the thread. If this bit
 1255             is set, the other bits refer to the thread state before suspension.
 1256           &lt;/constant&gt;
 1257           &lt;constant id=&quot;JVMTI_THREAD_STATE_INTERRUPTED&quot; num=&quot;0x200000&quot;&gt;
 1258             Thread has been interrupted.
 1259           &lt;/constant&gt;
 1260           &lt;constant id=&quot;JVMTI_THREAD_STATE_IN_NATIVE&quot; num=&quot;0x400000&quot;&gt;
 1261             Thread is in native code--that is, a native method is running
 1262             which has not called back into the VM or Java programming
 1263             language code.
 1264             &lt;p/&gt;
 1265             This flag is not set when running VM compiled Java programming
 1266             language code nor is it set when running VM code or
 1267             VM support code. Native VM interface functions, such as JNI and
 1268             &lt;jvmti/&gt; functions, may be implemented as VM code.
 1269           &lt;/constant&gt;
 1270           &lt;constant id=&quot;JVMTI_THREAD_STATE_VENDOR_1&quot; num=&quot;0x10000000&quot;&gt;
 1271             Defined by VM vendor.
 1272           &lt;/constant&gt;
 1273           &lt;constant id=&quot;JVMTI_THREAD_STATE_VENDOR_2&quot; num=&quot;0x20000000&quot;&gt;
 1274             Defined by VM vendor.
 1275           &lt;/constant&gt;
 1276           &lt;constant id=&quot;JVMTI_THREAD_STATE_VENDOR_3&quot; num=&quot;0x40000000&quot;&gt;
 1277             Defined by VM vendor.
 1278           &lt;/constant&gt;
 1279         &lt;/constants&gt;
 1280         The following definitions are used to convert &lt;jvmti/&gt; thread state
 1281         to &lt;code&gt;java.lang.Thread.State&lt;/code&gt; style states.
 1282         &lt;constants id=&quot;jvmtiJavaLangThreadState&quot; label=&quot;java.lang.Thread.State Conversion Masks&quot; kind=&quot;bits&quot;&gt;
 1283           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_MASK&quot;
 1284                      num=&quot;JVMTI_THREAD_STATE_TERMINATED | JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_RUNNABLE | JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER | JVMTI_THREAD_STATE_WAITING | JVMTI_THREAD_STATE_WAITING_INDEFINITELY | JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&quot;&gt;
 1285             Mask the state with this before comparison
 1286           &lt;/constant&gt;
 1287           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_NEW&quot;
 1288                      num=&quot;0&quot;&gt;
 1289             &lt;code&gt;java.lang.Thread.State.NEW&lt;/code&gt;
 1290           &lt;/constant&gt;
 1291           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_TERMINATED&quot;
 1292                      num=&quot;JVMTI_THREAD_STATE_TERMINATED&quot;&gt;
 1293             &lt;code&gt;java.lang.Thread.State.TERMINATED&lt;/code&gt;
 1294           &lt;/constant&gt;
 1295           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_RUNNABLE&quot;
 1296                      num=&quot;JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_RUNNABLE&quot;&gt;
 1297             &lt;code&gt;java.lang.Thread.State.RUNNABLE&lt;/code&gt;
 1298           &lt;/constant&gt;
 1299           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_BLOCKED&quot;
 1300                      num=&quot;JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&quot;&gt;
 1301             &lt;code&gt;java.lang.Thread.State.BLOCKED&lt;/code&gt;
 1302           &lt;/constant&gt;
 1303           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_WAITING&quot;
 1304                      num=&quot;JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_WAITING | JVMTI_THREAD_STATE_WAITING_INDEFINITELY&quot;&gt;
 1305             &lt;code&gt;java.lang.Thread.State.WAITING&lt;/code&gt;
 1306           &lt;/constant&gt;
 1307           &lt;constant id=&quot;JVMTI_JAVA_LANG_THREAD_STATE_TIMED_WAITING&quot;
 1308                      num=&quot;JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_WAITING | JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&quot;&gt;
 1309             &lt;code&gt;java.lang.Thread.State.TIMED_WAITING&lt;/code&gt;
 1310           &lt;/constant&gt;
 1311         &lt;/constants&gt;
 1312         &lt;b&gt;Rules&lt;/b&gt;
 1313         &lt;p/&gt;
 1314         There can be no more than one answer to a question, although there can be no
 1315         answer (because the answer is unknown, does not apply, or none of the answers is
 1316         correct).  An answer is set only when the enclosing answers match.
 1317         That is, no more than one of
 1318           &lt;ul type=&quot;circle&quot;&gt;
 1319               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_RUNNABLE&lt;/code&gt;&lt;/li&gt;
 1320               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER&lt;/code&gt;&lt;/li&gt;
 1321               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt;&lt;/li&gt;
 1322           &lt;/ul&gt;
 1323         can be set (a &lt;tm&gt;J2SE&lt;/tm&gt; compliant implementation will always set
 1324         one of these if &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; is set).
 1325         And if any of these are set, the enclosing answer
 1326         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; is set.
 1327         No more than one of
 1328           &lt;ul type=&quot;circle&quot;&gt;
 1329               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING_INDEFINITELY&lt;/code&gt;&lt;/li&gt;
 1330               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&lt;/code&gt;&lt;/li&gt;
 1331           &lt;/ul&gt;
 1332         can be set (a &lt;tm&gt;J2SE&lt;/tm&gt; compliant implementation will always set
 1333         one of these if &lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt; is set).
 1334         And if either is set, the enclosing answers
 1335         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; and
 1336         &lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt; are set.
 1337         No more than one of
 1338           &lt;ul type=&quot;circle&quot;&gt;
 1339               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_IN_OBJECT_WAIT&lt;/code&gt;&lt;/li&gt;
 1340               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_PARKED&lt;/code&gt;&lt;/li&gt;
 1341               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_SLEEPING&lt;/code&gt;&lt;/li&gt;
 1342           &lt;/ul&gt;
 1343         can be set. And if any of these is set, the enclosing answers
 1344         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; and
 1345         &lt;code&gt;JVMTI_THREAD_STATE_WAITING&lt;/code&gt; are set.
 1346         Also, if &lt;code&gt;JVMTI_THREAD_STATE_SLEEPING&lt;/code&gt; is set,
 1347         then &lt;code&gt;JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT&lt;/code&gt; is set.
 1348         If a state &lt;i&gt;A&lt;/i&gt; is implemented using the mechanism of
 1349         state &lt;i&gt;B&lt;/i&gt; then it is state &lt;i&gt;A&lt;/i&gt; which
 1350         is returned by this function.
 1351         For example, if &lt;code&gt;Thread.sleep(long)&lt;/code&gt;
 1352         is implemented using &lt;code&gt;Object.wait(long)&lt;/code&gt;
 1353         then it is still &lt;code&gt;JVMTI_THREAD_STATE_SLEEPING&lt;/code&gt;
 1354         which is returned.
 1355         More than one of
 1356           &lt;ul type=&quot;circle&quot;&gt;
 1357               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_SUSPENDED&lt;/code&gt;&lt;/li&gt;
 1358               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_INTERRUPTED&lt;/code&gt;&lt;/li&gt;
 1359               &lt;li&gt;&lt;code&gt;JVMTI_THREAD_STATE_IN_NATIVE&lt;/code&gt;&lt;/li&gt;
 1360           &lt;/ul&gt;
 1361         can be set, but if any is set,
 1362         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; is set.
 1363         &lt;p/&gt;
 1364         And finally,
 1365         &lt;code&gt;JVMTI_THREAD_STATE_TERMINATED&lt;/code&gt; cannot be set unless
 1366         &lt;code&gt;JVMTI_THREAD_STATE_ALIVE&lt;/code&gt; is not set.
 1367         &lt;p/&gt;
 1368         The thread state representation is designed for extension in future versions
 1369         of the specification; thread state values should be used accordingly, that is
 1370         they should not be used as ordinals.
 1371         Most queries can be made by testing a single bit, if use in a switch statement is desired,
 1372         the state bits should be masked with the interesting bits.
 1373         All bits not defined above are reserved for future use.
 1374         A VM, compliant to the current specification, must set reserved bits to zero.
 1375         An agent should ignore reserved bits --
 1376         they should not be assumed to be zero and thus should not be included in comparisons.
 1377         &lt;p/&gt;
 1378         &lt;b&gt;Examples&lt;/b&gt;
 1379         &lt;p/&gt;
 1380         Note that the values below exclude reserved and vendor bits.
 1381         &lt;p/&gt;
 1382         The state of a thread blocked at a &lt;code&gt;synchronized&lt;/code&gt;-statement would be:
 1383         &lt;example&gt;
 1384             JVMTI_THREAD_STATE_ALIVE + JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER
 1385         &lt;/example&gt;
 1386         The state of a thread which hasn&#39;t started yet would be:
 1387         &lt;example&gt;
 1388             0
 1389         &lt;/example&gt;
 1390         The state of a thread at a &lt;code&gt;Object.wait(3000)&lt;/code&gt; would be:
 1391         &lt;example&gt;
 1392             JVMTI_THREAD_STATE_ALIVE + JVMTI_THREAD_STATE_WAITING +
 1393                 JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT +
 1394                 JVMTI_THREAD_STATE_MONITOR_WAITING
 1395         &lt;/example&gt;
 1396         The state of a thread suspended while runnable would be:
 1397         &lt;example&gt;
 1398             JVMTI_THREAD_STATE_ALIVE + JVMTI_THREAD_STATE_RUNNABLE + JVMTI_THREAD_STATE_SUSPENDED
 1399         &lt;/example&gt;
 1400         &lt;p/&gt;
 1401         &lt;b&gt;Testing the State&lt;/b&gt;
 1402         &lt;p/&gt;
 1403         In most cases, the thread state can be determined by testing the one bit corresponding
 1404         to that question.  For example, the code to test if a thread is sleeping:
 1405         &lt;example&gt;
 1406         jint state;
 1407         jvmtiError err;
 1408 
 1409         err = (*jvmti)-&amp;gt;GetThreadState(jvmti, thread, &amp;amp;state);
 1410         if (err == JVMTI_ERROR_NONE) {
 1411            if (state &amp;amp; JVMTI_THREAD_STATE_SLEEPING) {  ...
 1412         &lt;/example&gt;
 1413         &lt;p/&gt;
 1414         For waiting (that is, in &lt;code&gt;Object.wait&lt;/code&gt;, parked, or sleeping) it would be:
 1415         &lt;example&gt;
 1416            if (state &amp;amp; JVMTI_THREAD_STATE_WAITING) {  ...
 1417         &lt;/example&gt;
 1418         For some states, more than one bit will need to be tested as is the case
 1419         when testing if a thread has not yet been started:
 1420         &lt;example&gt;
 1421            if ((state &amp;amp; (JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_TERMINATED)) == 0)  {  ...
 1422         &lt;/example&gt;
 1423         To distinguish timed from untimed &lt;code&gt;Object.wait&lt;/code&gt;:
 1424         &lt;example&gt;
 1425            if (state &amp;amp; JVMTI_THREAD_STATE_IN_OBJECT_WAIT)  {
 1426              if (state &amp;amp; JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT)  {
 1427                printf(&quot;in Object.wait(long timeout)\n&quot;);
 1428              } else {
 1429                printf(&quot;in Object.wait()\n&quot;);
 1430              }
 1431            }
 1432         &lt;/example&gt;
 1433         &lt;p/&gt;
 1434         &lt;b&gt;Relationship to &lt;code&gt;java.lang.Thread.State&lt;/code&gt;&lt;/b&gt;
 1435         &lt;p/&gt;
 1436         The thread state represented by &lt;code&gt;java.lang.Thread.State&lt;/code&gt;
 1437         returned from &lt;code&gt;java.lang.Thread.getState()&lt;/code&gt; is a subset of the
 1438         information returned from this function.
 1439         The corresponding &lt;code&gt;java.lang.Thread.State&lt;/code&gt; can be determined
 1440         by using the provided conversion masks.
 1441         For example, this returns the name of the &lt;code&gt;java.lang.Thread.State&lt;/code&gt; thread state:
 1442         &lt;example&gt;
 1443             err = (*jvmti)-&amp;gt;GetThreadState(jvmti, thread, &amp;amp;state);
 1444             abortOnError(err);
 1445             switch (state &amp;amp; JVMTI_JAVA_LANG_THREAD_STATE_MASK) {
 1446             case JVMTI_JAVA_LANG_THREAD_STATE_NEW:
 1447               return &quot;NEW&quot;;
 1448             case JVMTI_JAVA_LANG_THREAD_STATE_TERMINATED:
 1449               return &quot;TERMINATED&quot;;
 1450             case JVMTI_JAVA_LANG_THREAD_STATE_RUNNABLE:
 1451               return &quot;RUNNABLE&quot;;
 1452             case JVMTI_JAVA_LANG_THREAD_STATE_BLOCKED:
 1453               return &quot;BLOCKED&quot;;
 1454             case JVMTI_JAVA_LANG_THREAD_STATE_WAITING:
 1455               return &quot;WAITING&quot;;
 1456             case JVMTI_JAVA_LANG_THREAD_STATE_TIMED_WAITING:
 1457               return &quot;TIMED_WAITING&quot;;
 1458             }
 1459         &lt;/example&gt;
 1460       &lt;/description&gt;
 1461       &lt;origin&gt;new&lt;/origin&gt;
 1462       &lt;capabilities&gt;
 1463       &lt;/capabilities&gt;
 1464       &lt;parameters&gt;
 1465         &lt;param id=&quot;thread&quot;&gt;
 1466           &lt;jthread null=&quot;current&quot; started=&quot;maybe&quot; impl=&quot;noconvert&quot;/&gt;
 1467             &lt;description&gt;
 1468               The thread to query.
 1469             &lt;/description&gt;
 1470         &lt;/param&gt;
 1471         &lt;param id=&quot;thread_state_ptr&quot;&gt;
 1472           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1473           &lt;description&gt;
 1474             On return, points to state flags,
 1475             as defined by the &lt;internallink id=&quot;jvmtiThreadState&quot;&gt;Thread State Flags&lt;/internallink&gt;.
 1476           &lt;/description&gt;
 1477         &lt;/param&gt;
 1478       &lt;/parameters&gt;
 1479       &lt;errors&gt;
 1480       &lt;/errors&gt;
 1481     &lt;/function&gt;
 1482 
 1483     &lt;function id=&quot;GetCurrentThread&quot; phase=&quot;start&quot; num=&quot;18&quot; since=&quot;1.1&quot;&gt;
 1484       &lt;synopsis&gt;Get Current Thread&lt;/synopsis&gt;
 1485       &lt;description&gt;
 1486         Get the current thread.
 1487         The current thread is the Java programming language thread which has called the function.
 1488         The function may return &lt;code&gt;NULL&lt;/code&gt; in the start phase if the
 1489         &lt;internallink id=&quot;jvmtiCapabilities.can_generate_early_vmstart&quot;&gt;
 1490         &lt;code&gt;can_generate_early_vmstart&lt;/code&gt;&lt;/internallink&gt; capability is enabled
 1491         and the &lt;code&gt;java.lang.Thread&lt;/code&gt; class has not been initialized yet.
 1492         &lt;p/&gt;
 1493         Note that most &lt;jvmti/&gt; functions that take a thread
 1494         as an argument will accept &lt;code&gt;NULL&lt;/code&gt; to mean
 1495         the current thread.
 1496       &lt;/description&gt;
 1497       &lt;origin&gt;new&lt;/origin&gt;
 1498       &lt;capabilities&gt;
 1499       &lt;/capabilities&gt;
 1500       &lt;parameters&gt;
 1501         &lt;param id=&quot;thread_ptr&quot;&gt;
 1502           &lt;outptr&gt;&lt;jthread/&gt;&lt;/outptr&gt;
 1503           &lt;description&gt;
 1504              On return, points to the current thread, or &lt;code&gt;NULL&lt;/code&gt;.
 1505           &lt;/description&gt;
 1506         &lt;/param&gt;
 1507       &lt;/parameters&gt;
 1508       &lt;errors&gt;
 1509       &lt;/errors&gt;
 1510     &lt;/function&gt;
 1511 
 1512     &lt;function id=&quot;GetAllThreads&quot; num=&quot;4&quot;&gt;
 1513       &lt;synopsis&gt;Get All Threads&lt;/synopsis&gt;
 1514       &lt;description&gt;
 1515         Get all live threads.
 1516         The threads are Java programming language threads;
 1517         that is, threads that are attached to the VM.
 1518         A thread is live if &lt;code&gt;java.lang.Thread.isAlive()&lt;/code&gt;
 1519         would return &lt;code&gt;true&lt;/code&gt;, that is, the thread has
 1520         been started and has not yet died.
 1521         The universe of threads is determined by the context of the &lt;jvmti/&gt;
 1522         environment, which typically is all threads attached to the VM.
 1523         Note that this includes &lt;jvmti/&gt; agent threads
 1524         (see &lt;functionlink id=&quot;RunAgentThread&quot;/&gt;).
 1525       &lt;/description&gt;
 1526       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1527       &lt;capabilities&gt;
 1528       &lt;/capabilities&gt;
 1529       &lt;parameters&gt;
 1530         &lt;param id=&quot;threads_count_ptr&quot;&gt;
 1531           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1532           &lt;description&gt;
 1533             On return, points to the number of running threads.
 1534           &lt;/description&gt;
 1535         &lt;/param&gt;
 1536         &lt;param id=&quot;threads_ptr&quot;&gt;
 1537           &lt;allocbuf outcount=&quot;threads_count_ptr&quot;&gt;&lt;jthread/&gt;&lt;/allocbuf&gt;
 1538             &lt;description&gt;
 1539               On return, points to an array of references, one
 1540               for each running thread.
 1541             &lt;/description&gt;
 1542         &lt;/param&gt;
 1543       &lt;/parameters&gt;
 1544       &lt;errors&gt;
 1545       &lt;/errors&gt;
 1546     &lt;/function&gt;
 1547 
 1548     &lt;function id=&quot;SuspendThread&quot; num=&quot;5&quot;&gt;
 1549       &lt;synopsis&gt;Suspend Thread&lt;/synopsis&gt;
 1550       &lt;description&gt;
 1551         Suspend the specified thread. If the calling thread is specified,
 1552         this function will not return until some other thread calls
 1553         &lt;functionlink id=&quot;ResumeThread&quot;&gt;&lt;/functionlink&gt;.
 1554         If the thread is currently suspended, this function
 1555         does nothing and returns an error.
 1556       &lt;/description&gt;
 1557       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1558       &lt;capabilities&gt;
 1559         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1560       &lt;/capabilities&gt;
 1561       &lt;parameters&gt;
 1562         &lt;param id=&quot;thread&quot;&gt;
 1563           &lt;jthread null=&quot;current&quot;/&gt;
 1564             &lt;description&gt;
 1565               The thread to suspend.
 1566             &lt;/description&gt;
 1567         &lt;/param&gt;
 1568       &lt;/parameters&gt;
 1569       &lt;errors&gt;
 1570         &lt;error id=&quot;JVMTI_ERROR_THREAD_SUSPENDED&quot;&gt;
 1571           Thread already suspended.
 1572         &lt;/error&gt;
 1573       &lt;/errors&gt;
 1574     &lt;/function&gt;
 1575 
 1576     &lt;elide&gt;
 1577     &lt;function id=&quot;SuspendAllThreads&quot; num=&quot;101&quot;&gt;
 1578       &lt;synopsis&gt;Suspend All Threads&lt;/synopsis&gt;
 1579       &lt;description&gt;
 1580         &lt;issue&gt;
 1581             There has been no explicit call for this function, and it will
 1582             thus be removed if there is no interest.
 1583         &lt;/issue&gt;
 1584         Suspend all live threads except:
 1585         &lt;ul&gt;
 1586           &lt;li&gt;already suspended threads&lt;/li&gt;
 1587           &lt;li&gt;those listed in &lt;paramlink id=&quot;except_list&quot;&gt;&lt;/paramlink&gt;&lt;/li&gt;
 1588           &lt;li&gt;certain system (non application) threads, as determined
 1589             by the VM implementation&lt;/li&gt;
 1590         &lt;/ul&gt;
 1591         The threads are Java programming language threads;
 1592         native threads which are not attached to the VM are not
 1593         Java programming language threads.
 1594         A thread is live if &lt;code&gt;java.lang.Thread.isAlive()&lt;/code&gt;
 1595         would return &lt;code&gt;true&lt;/code&gt;, that is, the thread has
 1596         been started and has not yet died.
 1597         The universe of threads is determined
 1598         by the context of the &lt;jvmti/&gt;
 1599         environment, which, typically, is all threads attached to the VM,
 1600         except critical VM internal threads and &lt;jvmti/&gt; agent threads
 1601         (see &lt;functionlink id=&quot;RunAgentThread&quot;/&gt;).
 1602         &lt;p/&gt;
 1603         If the calling thread is specified,
 1604         all other threads are suspended first then the caller thread is suspended -
 1605         this function will not return until some other thread calls
 1606         &lt;functionlink id=&quot;ResumeThread&quot;&gt;&lt;/functionlink&gt;.
 1607         &lt;p/&gt;
 1608         The list of actually
 1609         suspended threads is returned in
 1610         &lt;paramlink id=&quot;suspended_list_ptr&quot;&gt;&lt;/paramlink&gt;.
 1611         Suspension is as defined in &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;.
 1612         &lt;functionlink id=&quot;ResumeThreadList&quot;&gt;&lt;/functionlink&gt;
 1613         can be used to resume the suspended threads.
 1614       &lt;/description&gt;
 1615       &lt;origin&gt;new&lt;/origin&gt;
 1616       &lt;capabilities&gt;
 1617         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1618       &lt;/capabilities&gt;
 1619       &lt;parameters&gt;
 1620         &lt;param id=&quot;except_count&quot;&gt;
 1621           &lt;jint min=&quot;0&quot;/&gt;
 1622           &lt;description&gt;
 1623             The number of threads in the list of threads not to be suspended.
 1624           &lt;/description&gt;
 1625         &lt;/param&gt;
 1626         &lt;param id=&quot;except_list&quot;&gt;
 1627             &lt;inbuf incount=&quot;except_count&quot;&gt;
 1628               &lt;jthread/&gt;
 1629               &lt;nullok&gt;not an error if &lt;code&gt;except_count == 0&lt;/code&gt;&lt;/nullok&gt;
 1630             &lt;/inbuf&gt;
 1631             &lt;description&gt;
 1632               The list of threads not to be suspended.
 1633             &lt;/description&gt;
 1634         &lt;/param&gt;
 1635         &lt;param id=&quot;suspended_count_ptr&quot;&gt;
 1636           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1637           &lt;description&gt;
 1638             On return, points to the number of threads suspended by this call.
 1639           &lt;/description&gt;
 1640         &lt;/param&gt;
 1641         &lt;param id=&quot;suspended_list_ptr&quot;&gt;
 1642           &lt;allocbuf outcount=&quot;suspended_count_ptr&quot;&gt;&lt;jthread/&gt;&lt;/allocbuf&gt;
 1643             &lt;description&gt;
 1644               On return, points to an array of references, one
 1645               for each thread suspended.
 1646             &lt;/description&gt;
 1647         &lt;/param&gt;
 1648       &lt;/parameters&gt;
 1649       &lt;errors&gt;
 1650         &lt;error id=&quot;JVMTI_ERROR_INVALID_THREAD&quot;&gt;
 1651           A thread in &lt;paramlink id=&quot;except_list&quot;&gt;&lt;/paramlink&gt; was invalid.
 1652         &lt;/error&gt;
 1653         &lt;error id=&quot;JVMTI_ERROR_NULL_POINTER&quot;&gt;
 1654           Both &lt;paramlink id=&quot;except_list&quot;&gt;&lt;/paramlink&gt; was &lt;code&gt;NULL&lt;/code&gt;
 1655           and &lt;paramlink id=&quot;except_count&quot;&gt;&lt;/paramlink&gt; was non-zero.
 1656         &lt;/error&gt;
 1657       &lt;/errors&gt;
 1658     &lt;/function&gt;
 1659     &lt;/elide&gt;
 1660 
 1661     &lt;function id=&quot;SuspendThreadList&quot; num=&quot;92&quot;&gt;
 1662       &lt;synopsis&gt;Suspend Thread List&lt;/synopsis&gt;
 1663       &lt;description&gt;
 1664         Suspend the &lt;paramlink id=&quot;request_count&quot;&gt;&lt;/paramlink&gt;
 1665         threads specified in the
 1666         &lt;paramlink id=&quot;request_list&quot;&gt;&lt;/paramlink&gt; array.
 1667         Threads may be resumed with
 1668         &lt;functionlink id=&quot;ResumeThreadList&quot;&gt;&lt;/functionlink&gt; or
 1669         &lt;functionlink id=&quot;ResumeThread&quot;&gt;&lt;/functionlink&gt;.
 1670         If the calling thread is specified in the
 1671         &lt;paramlink id=&quot;request_list&quot;&gt;&lt;/paramlink&gt; array, this function will
 1672         not return until some other thread resumes it.
 1673         Errors encountered in the suspension of a thread
 1674         are returned in the &lt;paramlink id=&quot;results&quot;&gt;&lt;/paramlink&gt;
 1675         array, &lt;b&gt;not&lt;/b&gt; in the return value of this function.
 1676         Threads that are currently suspended do not change state.
 1677       &lt;/description&gt;
 1678       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1679       &lt;capabilities&gt;
 1680         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1681       &lt;/capabilities&gt;
 1682       &lt;parameters&gt;
 1683         &lt;param id=&quot;request_count&quot;&gt;
 1684           &lt;jint min=&quot;0&quot;/&gt;
 1685           &lt;description&gt;
 1686             The number of threads to suspend.
 1687           &lt;/description&gt;
 1688         &lt;/param&gt;
 1689         &lt;param id=&quot;request_list&quot;&gt;
 1690           &lt;inbuf incount=&quot;request_count&quot;&gt;&lt;jthread/&gt;&lt;/inbuf&gt;
 1691             &lt;description&gt;
 1692               The list of threads to suspend.
 1693             &lt;/description&gt;
 1694         &lt;/param&gt;
 1695         &lt;param id=&quot;results&quot;&gt;
 1696           &lt;outbuf incount=&quot;request_count&quot;&gt;&lt;enum&gt;jvmtiError&lt;/enum&gt;&lt;/outbuf&gt;
 1697           &lt;description&gt;
 1698             An agent supplied array of
 1699             &lt;paramlink id=&quot;request_count&quot;&gt;&lt;/paramlink&gt; elements.
 1700             On return, filled with the error code for
 1701             the suspend of the corresponding thread.
 1702             The error code will be
 1703             &lt;errorlink id=&quot;JVMTI_ERROR_NONE&quot;&gt;&lt;/errorlink&gt;
 1704             if the thread was suspended by this call.
 1705             Possible error codes are those specified
 1706             for &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;.
 1707           &lt;/description&gt;
 1708         &lt;/param&gt;
 1709       &lt;/parameters&gt;
 1710       &lt;errors&gt;
 1711       &lt;/errors&gt;
 1712     &lt;/function&gt;
 1713 
 1714     &lt;function id=&quot;ResumeThread&quot; num=&quot;6&quot;&gt;
 1715       &lt;synopsis&gt;Resume Thread&lt;/synopsis&gt;
 1716       &lt;description&gt;
 1717         Resume a suspended thread.
 1718         Any threads currently suspended through
 1719         a &lt;jvmti/&gt; suspend function (eg.
 1720         &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;)
 1721         or &lt;code&gt;java.lang.Thread.suspend()&lt;/code&gt;
 1722         will resume execution;
 1723         all other threads are unaffected.
 1724       &lt;/description&gt;
 1725       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1726       &lt;capabilities&gt;
 1727         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1728       &lt;/capabilities&gt;
 1729       &lt;parameters&gt;
 1730         &lt;param id=&quot;thread&quot;&gt;
 1731           &lt;jthread/&gt;
 1732             &lt;description&gt;
 1733               The thread to resume.
 1734             &lt;/description&gt;
 1735         &lt;/param&gt;
 1736       &lt;/parameters&gt;
 1737       &lt;errors&gt;
 1738         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 1739           Thread was not suspended.
 1740         &lt;/error&gt;
 1741         &lt;error id=&quot;JVMTI_ERROR_INVALID_TYPESTATE&quot;&gt;
 1742           The state of the thread has been modified, and is now inconsistent.
 1743         &lt;/error&gt;
 1744       &lt;/errors&gt;
 1745     &lt;/function&gt;
 1746 
 1747     &lt;function id=&quot;ResumeThreadList&quot; num=&quot;93&quot;&gt;
 1748       &lt;synopsis&gt;Resume Thread List&lt;/synopsis&gt;
 1749       &lt;description&gt;
 1750         Resume the &lt;paramlink id=&quot;request_count&quot;&gt;&lt;/paramlink&gt;
 1751         threads specified in the
 1752         &lt;paramlink id=&quot;request_list&quot;&gt;&lt;/paramlink&gt; array.
 1753         Any thread suspended through
 1754         a &lt;jvmti/&gt; suspend function (eg.
 1755         &lt;functionlink id=&quot;SuspendThreadList&quot;&gt;&lt;/functionlink&gt;)
 1756         or &lt;code&gt;java.lang.Thread.suspend()&lt;/code&gt;
 1757         will resume execution.
 1758       &lt;/description&gt;
 1759       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1760       &lt;capabilities&gt;
 1761         &lt;required id=&quot;can_suspend&quot;&gt;&lt;/required&gt;
 1762       &lt;/capabilities&gt;
 1763       &lt;parameters&gt;
 1764         &lt;param id=&quot;request_count&quot;&gt;
 1765           &lt;jint min=&quot;0&quot;/&gt;
 1766           &lt;description&gt;
 1767             The number of threads to resume.
 1768           &lt;/description&gt;
 1769         &lt;/param&gt;
 1770         &lt;param id=&quot;request_list&quot;&gt;
 1771           &lt;inbuf incount=&quot;request_count&quot;&gt;&lt;jthread/&gt;&lt;/inbuf&gt;
 1772             &lt;description&gt;
 1773               The threads to resume.
 1774             &lt;/description&gt;
 1775         &lt;/param&gt;
 1776         &lt;param id=&quot;results&quot;&gt;
 1777           &lt;outbuf incount=&quot;request_count&quot;&gt;&lt;enum&gt;jvmtiError&lt;/enum&gt;&lt;/outbuf&gt;
 1778           &lt;description&gt;
 1779             An agent supplied array of
 1780             &lt;paramlink id=&quot;request_count&quot;&gt;&lt;/paramlink&gt; elements.
 1781             On return, filled with the error code for
 1782             the resume of the corresponding thread.
 1783             The error code will be
 1784             &lt;errorlink id=&quot;JVMTI_ERROR_NONE&quot;&gt;&lt;/errorlink&gt;
 1785             if the thread was suspended by this call.
 1786             Possible error codes are those specified
 1787             for &lt;functionlink id=&quot;ResumeThread&quot;&gt;&lt;/functionlink&gt;.
 1788           &lt;/description&gt;
 1789         &lt;/param&gt;
 1790       &lt;/parameters&gt;
 1791       &lt;errors&gt;
 1792       &lt;/errors&gt;
 1793     &lt;/function&gt;
 1794 
 1795     &lt;function id=&quot;StopThread&quot; num=&quot;7&quot;&gt;
 1796       &lt;synopsis&gt;Stop Thread&lt;/synopsis&gt;
 1797       &lt;description&gt;
 1798         Send the specified asynchronous exception to the specified thread.
 1799         Normally, this function is used to kill the specified thread with an
 1800         instance of the exception &lt;code&gt;ThreadDeath&lt;/code&gt;, similar to
 1801         &lt;code&gt;java.lang.Thread.stop&lt;/code&gt;.
 1802       &lt;/description&gt;
 1803       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1804       &lt;capabilities&gt;
 1805         &lt;required id=&quot;can_signal_thread&quot;&gt;&lt;/required&gt;
 1806       &lt;/capabilities&gt;
 1807       &lt;parameters&gt;
 1808         &lt;param id=&quot;thread&quot;&gt;
 1809           &lt;jthread/&gt;
 1810             &lt;description&gt;
 1811               The thread to stop.
 1812             &lt;/description&gt;
 1813         &lt;/param&gt;
 1814         &lt;param id=&quot;exception&quot;&gt;
 1815           &lt;jobject/&gt;
 1816             &lt;description&gt;
 1817               The asynchronous exception object.
 1818             &lt;/description&gt;
 1819         &lt;/param&gt;
 1820       &lt;/parameters&gt;
 1821       &lt;errors&gt;
 1822       &lt;/errors&gt;
 1823     &lt;/function&gt;
 1824 
 1825     &lt;function id=&quot;InterruptThread&quot; num=&quot;8&quot;&gt;
 1826       &lt;synopsis&gt;Interrupt Thread&lt;/synopsis&gt;
 1827       &lt;description&gt;
 1828         Interrupt the specified thread
 1829         (similar to &lt;code&gt;java.lang.Thread.interrupt&lt;/code&gt;).
 1830       &lt;/description&gt;
 1831       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1832       &lt;capabilities&gt;
 1833         &lt;required id=&quot;can_signal_thread&quot;&gt;&lt;/required&gt;
 1834       &lt;/capabilities&gt;
 1835       &lt;parameters&gt;
 1836         &lt;param id=&quot;thread&quot;&gt;
 1837           &lt;jthread impl=&quot;noconvert&quot;/&gt;
 1838             &lt;description&gt;
 1839               The thread to interrupt.
 1840             &lt;/description&gt;
 1841         &lt;/param&gt;
 1842       &lt;/parameters&gt;
 1843       &lt;errors&gt;
 1844       &lt;/errors&gt;
 1845     &lt;/function&gt;
 1846 
 1847     &lt;function id=&quot;GetThreadInfo&quot; num=&quot;9&quot;&gt;
 1848       &lt;synopsis&gt;Get Thread Info&lt;/synopsis&gt;
 1849       &lt;typedef id=&quot;jvmtiThreadInfo&quot; label=&quot;Thread information structure&quot;&gt;
 1850         &lt;field id=&quot;name&quot;&gt;
 1851           &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 1852           &lt;description&gt;
 1853             The thread name, encoded as a
 1854             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 1855           &lt;/description&gt;
 1856         &lt;/field&gt;
 1857         &lt;field id=&quot;priority&quot;&gt;
 1858           &lt;jint/&gt;
 1859           &lt;description&gt;
 1860             The thread priority.  See the thread priority constants:
 1861             &lt;datalink id=&quot;jvmtiThreadPriority&quot;&gt;&lt;/datalink&gt;.
 1862           &lt;/description&gt;
 1863         &lt;/field&gt;
 1864         &lt;field id=&quot;is_daemon&quot;&gt;
 1865           &lt;jboolean/&gt;
 1866           &lt;description&gt;
 1867             Is this a daemon thread?
 1868           &lt;/description&gt;
 1869         &lt;/field&gt;
 1870         &lt;field id=&quot;thread_group&quot;&gt;
 1871           &lt;jthreadGroup/&gt;
 1872           &lt;description&gt;
 1873             The thread group to which this thread belongs.
 1874             &lt;code&gt;NULL&lt;/code&gt; if the thread has died.
 1875           &lt;/description&gt;
 1876         &lt;/field&gt;
 1877         &lt;field id=&quot;context_class_loader&quot;&gt;
 1878           &lt;jobject/&gt;
 1879             &lt;description&gt;
 1880               The context class loader associated with this thread.
 1881             &lt;/description&gt;
 1882         &lt;/field&gt;
 1883       &lt;/typedef&gt;
 1884       &lt;description&gt;
 1885         Get thread information. The fields of the &lt;datalink id=&quot;jvmtiThreadInfo&quot;/&gt; structure
 1886         are filled in with details of the specified thread.
 1887       &lt;/description&gt;
 1888       &lt;origin&gt;jvmdi&lt;/origin&gt;
 1889       &lt;capabilities&gt;
 1890       &lt;/capabilities&gt;
 1891       &lt;parameters&gt;
 1892         &lt;param id=&quot;thread&quot;&gt;
 1893           &lt;jthread null=&quot;current&quot; impl=&quot;noconvert&quot; started=&quot;maybe&quot;/&gt;
 1894             &lt;description&gt;
 1895               The thread to query.
 1896             &lt;/description&gt;
 1897         &lt;/param&gt;
 1898         &lt;param id=&quot;info_ptr&quot;&gt;
 1899           &lt;outptr&gt;&lt;struct&gt;jvmtiThreadInfo&lt;/struct&gt;&lt;/outptr&gt;
 1900           &lt;description&gt;
 1901             On return, filled with information describing the specified thread.
 1902           &lt;/description&gt;
 1903         &lt;/param&gt;
 1904       &lt;/parameters&gt;
 1905       &lt;errors&gt;
 1906       &lt;/errors&gt;
 1907     &lt;/function&gt;
 1908 
 1909     &lt;function id=&quot;GetOwnedMonitorInfo&quot; num=&quot;10&quot;&gt;
 1910       &lt;synopsis&gt;Get Owned Monitor Info&lt;/synopsis&gt;
 1911       &lt;description&gt;
 1912         Get information about the monitors owned by the
 1913         specified thread.
 1914       &lt;/description&gt;
 1915       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 1916       &lt;capabilities&gt;
 1917         &lt;required id=&quot;can_get_owned_monitor_info&quot;&gt;&lt;/required&gt;
 1918       &lt;/capabilities&gt;
 1919       &lt;parameters&gt;
 1920         &lt;param id=&quot;thread&quot;&gt;
 1921           &lt;jthread null=&quot;current&quot;/&gt;
 1922             &lt;description&gt;
 1923               The thread to query.
 1924             &lt;/description&gt;
 1925         &lt;/param&gt;
 1926         &lt;param id=&quot;owned_monitor_count_ptr&quot;&gt;
 1927           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1928           &lt;description&gt;
 1929             The number of monitors returned.
 1930           &lt;/description&gt;
 1931         &lt;/param&gt;
 1932         &lt;param id=&quot;owned_monitors_ptr&quot;&gt;
 1933           &lt;allocbuf outcount=&quot;owned_monitor_count_ptr&quot;&gt;&lt;jobject/&gt;&lt;/allocbuf&gt;
 1934             &lt;description&gt;
 1935               The array of owned monitors.
 1936             &lt;/description&gt;
 1937         &lt;/param&gt;
 1938       &lt;/parameters&gt;
 1939       &lt;errors&gt;
 1940       &lt;/errors&gt;
 1941     &lt;/function&gt;
 1942 
 1943     &lt;function id=&quot;GetOwnedMonitorStackDepthInfo&quot; num=&quot;153&quot; since=&quot;1.1&quot;&gt;
 1944       &lt;synopsis&gt;Get Owned Monitor Stack Depth Info&lt;/synopsis&gt;
 1945       &lt;typedef id=&quot;jvmtiMonitorStackDepthInfo&quot;
 1946                label=&quot;Monitor stack depth information structure&quot;&gt;
 1947         &lt;field id=&quot;monitor&quot;&gt;
 1948           &lt;jobject/&gt;
 1949             &lt;description&gt;
 1950               The owned monitor.
 1951             &lt;/description&gt;
 1952         &lt;/field&gt;
 1953         &lt;field id=&quot;stack_depth&quot;&gt;
 1954           &lt;jint/&gt;
 1955           &lt;description&gt;
 1956             The stack depth.  Corresponds to the stack depth used in the
 1957             &lt;internallink id=&quot;stack&quot;&gt;Stack Frame functions&lt;/internallink&gt;.
 1958             That is, zero is the current frame, one is the frame which
 1959             called the current frame. And it is negative one if the
 1960             implementation cannot determine the stack depth (e.g., for
 1961             monitors acquired by JNI &lt;code&gt;MonitorEnter&lt;/code&gt;).
 1962           &lt;/description&gt;
 1963         &lt;/field&gt;
 1964       &lt;/typedef&gt;
 1965       &lt;description&gt;
 1966         Get information about the monitors owned by the
 1967         specified thread and the depth of the stack frame which locked them.
 1968       &lt;/description&gt;
 1969       &lt;origin&gt;new&lt;/origin&gt;
 1970       &lt;capabilities&gt;
 1971         &lt;required id=&quot;can_get_owned_monitor_stack_depth_info&quot;&gt;&lt;/required&gt;
 1972       &lt;/capabilities&gt;
 1973       &lt;parameters&gt;
 1974         &lt;param id=&quot;thread&quot;&gt;
 1975           &lt;jthread null=&quot;current&quot;/&gt;
 1976             &lt;description&gt;
 1977               The thread to query.
 1978             &lt;/description&gt;
 1979         &lt;/param&gt;
 1980         &lt;param id=&quot;monitor_info_count_ptr&quot;&gt;
 1981           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 1982           &lt;description&gt;
 1983             The number of monitors returned.
 1984           &lt;/description&gt;
 1985         &lt;/param&gt;
 1986         &lt;param id=&quot;monitor_info_ptr&quot;&gt;
 1987           &lt;allocbuf outcount=&quot;monitor_info_count_ptr&quot;&gt;
 1988             &lt;struct&gt;jvmtiMonitorStackDepthInfo&lt;/struct&gt;
 1989           &lt;/allocbuf&gt;
 1990           &lt;description&gt;
 1991             The array of owned monitor depth information.
 1992           &lt;/description&gt;
 1993         &lt;/param&gt;
 1994       &lt;/parameters&gt;
 1995       &lt;errors&gt;
 1996       &lt;/errors&gt;
 1997     &lt;/function&gt;
 1998 
 1999     &lt;function id=&quot;GetCurrentContendedMonitor&quot; num=&quot;11&quot;&gt;
 2000       &lt;synopsis&gt;Get Current Contended Monitor&lt;/synopsis&gt;
 2001       &lt;description&gt;
 2002         Get the object, if any, whose monitor the specified thread is waiting to
 2003         enter or waiting to regain through &lt;code&gt;java.lang.Object.wait&lt;/code&gt;.
 2004       &lt;/description&gt;
 2005       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2006       &lt;capabilities&gt;
 2007         &lt;required id=&quot;can_get_current_contended_monitor&quot;&gt;&lt;/required&gt;
 2008       &lt;/capabilities&gt;
 2009       &lt;parameters&gt;
 2010         &lt;param id=&quot;thread&quot;&gt;
 2011           &lt;jthread null=&quot;current&quot;/&gt;
 2012             &lt;description&gt;
 2013               The thread to query.
 2014             &lt;/description&gt;
 2015         &lt;/param&gt;
 2016         &lt;param id=&quot;monitor_ptr&quot;&gt;
 2017           &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 2018             &lt;description&gt;
 2019               On return, filled with the current contended monitor, or
 2020               NULL if there is none.
 2021             &lt;/description&gt;
 2022         &lt;/param&gt;
 2023       &lt;/parameters&gt;
 2024       &lt;errors&gt;
 2025       &lt;/errors&gt;
 2026     &lt;/function&gt;
 2027 
 2028     &lt;callback id=&quot;jvmtiStartFunction&quot;&gt;
 2029       &lt;void/&gt;
 2030       &lt;synopsis&gt;Agent Start Function&lt;/synopsis&gt;
 2031       &lt;description&gt;
 2032         Agent supplied callback function.
 2033         This function is the entry point for an agent thread
 2034         started with
 2035         &lt;functionlink id=&quot;RunAgentThread&quot;&gt;&lt;/functionlink&gt;.
 2036       &lt;/description&gt;
 2037       &lt;parameters&gt;
 2038           &lt;param id=&quot;jvmti_env&quot;&gt;
 2039             &lt;outptr&gt;
 2040               &lt;struct&gt;jvmtiEnv&lt;/struct&gt;
 2041             &lt;/outptr&gt;
 2042             &lt;description&gt;
 2043               The &lt;jvmti/&gt; environment.
 2044             &lt;/description&gt;
 2045           &lt;/param&gt;
 2046           &lt;param id=&quot;jni_env&quot;&gt;
 2047             &lt;outptr&gt;
 2048               &lt;struct&gt;JNIEnv&lt;/struct&gt;
 2049             &lt;/outptr&gt;
 2050             &lt;description&gt;
 2051               The JNI environment.
 2052             &lt;/description&gt;
 2053           &lt;/param&gt;
 2054           &lt;param id=&quot;arg&quot;&gt;
 2055             &lt;outptr&gt;
 2056               &lt;void/&gt;
 2057             &lt;/outptr&gt;
 2058               &lt;description&gt;
 2059                 The &lt;code&gt;arg&lt;/code&gt; parameter passed to
 2060                 &lt;functionlink id=&quot;RunAgentThread&quot;&gt;&lt;/functionlink&gt;.
 2061               &lt;/description&gt;
 2062           &lt;/param&gt;
 2063       &lt;/parameters&gt;
 2064     &lt;/callback&gt;
 2065 
 2066     &lt;function id=&quot;RunAgentThread&quot; num=&quot;12&quot;&gt;
 2067       &lt;synopsis&gt;Run Agent Thread&lt;/synopsis&gt;
 2068       &lt;description&gt;
 2069         Starts the execution of an agent thread. with the specified native function.
 2070         The parameter &lt;paramlink id=&quot;arg&quot;&gt;&lt;/paramlink&gt; is forwarded on to the
 2071         &lt;functionlink id=&quot;jvmtiStartFunction&quot;&gt;start function&lt;/functionlink&gt;
 2072         (specified with &lt;paramlink id=&quot;proc&quot;&gt;&lt;/paramlink&gt;) as its single argument.
 2073         This function allows the creation of agent threads
 2074         for handling communication with another process or for handling events
 2075         without the need to load a special subclass of &lt;code&gt;java.lang.Thread&lt;/code&gt; or
 2076         implementer of &lt;code&gt;java.lang.Runnable&lt;/code&gt;.
 2077         Instead, the created thread can run entirely in native code.
 2078         However, the created thread does require a newly created instance
 2079         of &lt;code&gt;java.lang.Thread&lt;/code&gt; (referenced by the argument &lt;code&gt;thread&lt;/code&gt;) to
 2080         which it will be associated.
 2081         The thread object can be created with JNI calls.
 2082         &lt;p/&gt;
 2083         The following common thread priorities are provided for your convenience:
 2084         &lt;constants id=&quot;jvmtiThreadPriority&quot; label=&quot;Thread Priority Constants&quot; kind=&quot;const&quot;&gt;
 2085           &lt;constant id=&quot;JVMTI_THREAD_MIN_PRIORITY&quot; num=&quot;1&quot;&gt;
 2086             Minimum possible thread priority
 2087           &lt;/constant&gt;
 2088           &lt;constant id=&quot;JVMTI_THREAD_NORM_PRIORITY&quot; num=&quot;5&quot;&gt;
 2089             Normal thread priority
 2090           &lt;/constant&gt;
 2091           &lt;constant id=&quot;JVMTI_THREAD_MAX_PRIORITY&quot; num=&quot;10&quot;&gt;
 2092             Maximum possible thread priority
 2093           &lt;/constant&gt;
 2094         &lt;/constants&gt;
 2095         &lt;p/&gt;
 2096         The new thread is started as a daemon thread with the specified
 2097         &lt;paramlink id=&quot;priority&quot;&gt;&lt;/paramlink&gt;.
 2098         If enabled, a &lt;eventlink id=&quot;ThreadStart&quot;/&gt; event will be sent.
 2099         &lt;p/&gt;
 2100         Since the thread has been started, the thread will be live when this function
 2101         returns, unless the thread has died immediately.
 2102         &lt;p/&gt;
 2103         The thread group of the thread is ignored -- specifically, the thread is not
 2104         added to the thread group and the thread is not seen on queries of the thread
 2105         group at either the Java programming language or &lt;jvmti/&gt; levels.
 2106         &lt;p/&gt;
 2107         The thread is not visible to Java programming language queries but is
 2108         included in &lt;jvmti/&gt; queries (for example,
 2109         &lt;functionlink id=&quot;GetAllThreads&quot;/&gt; and
 2110         &lt;functionlink id=&quot;GetAllStackTraces&quot;/&gt;).
 2111         &lt;p/&gt;
 2112         Upon execution of &lt;code&gt;proc&lt;/code&gt;, the new thread will be attached to the
 2113         VM -- see the JNI documentation on
 2114         &lt;externallink id=&quot;jni/invocation.html#attaching-to-the-vm&quot;
 2115                       &gt;Attaching to the VM&lt;/externallink&gt;.
 2116       &lt;/description&gt;
 2117       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 2118       &lt;capabilities&gt;
 2119       &lt;/capabilities&gt;
 2120       &lt;parameters&gt;
 2121         &lt;param id=&quot;thread&quot;&gt;
 2122           &lt;jthread impl=&quot;noconvert&quot; started=&quot;no&quot;/&gt;
 2123             &lt;description&gt;
 2124               The thread to run.
 2125             &lt;/description&gt;
 2126         &lt;/param&gt;
 2127         &lt;param id=&quot;proc&quot;&gt;
 2128           &lt;ptrtype&gt;
 2129             &lt;struct&gt;jvmtiStartFunction&lt;/struct&gt;
 2130           &lt;/ptrtype&gt;
 2131           &lt;description&gt;
 2132             The start function.
 2133           &lt;/description&gt;
 2134         &lt;/param&gt;
 2135         &lt;param id=&quot;arg&quot;&gt;
 2136           &lt;inbuf&gt;
 2137             &lt;void/&gt;
 2138             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed to the start function&lt;/nullok&gt;
 2139           &lt;/inbuf&gt;
 2140           &lt;description&gt;
 2141             The argument to the start function.
 2142           &lt;/description&gt;
 2143         &lt;/param&gt;
 2144         &lt;param id=&quot;priority&quot;&gt;
 2145           &lt;jint/&gt;
 2146           &lt;description&gt;
 2147             The priority of the started thread. Any thread
 2148             priority allowed by &lt;code&gt;java.lang.Thread.setPriority&lt;/code&gt; can be used including
 2149             those in &lt;datalink id=&quot;jvmtiThreadPriority&quot;&gt;&lt;/datalink&gt;.
 2150           &lt;/description&gt;
 2151         &lt;/param&gt;
 2152       &lt;/parameters&gt;
 2153       &lt;errors&gt;
 2154         &lt;error id=&quot;JVMTI_ERROR_INVALID_PRIORITY&quot;&gt;
 2155             &lt;paramlink id=&quot;priority&quot;/&gt; is less than
 2156             &lt;datalink id=&quot;JVMTI_THREAD_MIN_PRIORITY&quot;/&gt;
 2157               or greater than
 2158             &lt;datalink id=&quot;JVMTI_THREAD_MAX_PRIORITY&quot;/&gt;
 2159         &lt;/error&gt;
 2160       &lt;/errors&gt;
 2161     &lt;/function&gt;
 2162 
 2163     &lt;function id=&quot;SetThreadLocalStorage&quot; jkernel=&quot;yes&quot; impl=&quot;notrace&quot; phase=&quot;start&quot; num=&quot;103&quot;&gt;
 2164       &lt;synopsis&gt;Set Thread Local Storage&lt;/synopsis&gt;
 2165       &lt;description&gt;
 2166         The VM stores a pointer value associated with each environment-thread
 2167         pair. This pointer value is called &lt;i&gt;thread-local storage&lt;/i&gt;.
 2168         This value is &lt;code&gt;NULL&lt;/code&gt; unless set with this function.
 2169         Agents can allocate memory in which they store thread specific
 2170         information. By setting thread-local storage it can then be
 2171         accessed with
 2172         &lt;functionlink id=&quot;GetThreadLocalStorage&quot;&gt;&lt;/functionlink&gt;.
 2173         &lt;p/&gt;
 2174         This function is called by the agent to set the value of the &lt;jvmti/&gt;
 2175         thread-local storage. &lt;jvmti/&gt; supplies to the agent a pointer-size
 2176         thread-local storage that can be used to record per-thread
 2177         information.
 2178       &lt;/description&gt;
 2179       &lt;origin&gt;jvmpi&lt;/origin&gt;
 2180       &lt;capabilities&gt;
 2181       &lt;/capabilities&gt;
 2182       &lt;parameters&gt;
 2183         &lt;param id=&quot;thread&quot;&gt;
 2184           &lt;jthread null=&quot;current&quot;/&gt;
 2185             &lt;description&gt;
 2186               Store to this thread.
 2187             &lt;/description&gt;
 2188         &lt;/param&gt;
 2189         &lt;param id=&quot;data&quot;&gt;
 2190           &lt;inbuf&gt;
 2191             &lt;void/&gt;
 2192             &lt;nullok&gt;value is set to &lt;code&gt;NULL&lt;/code&gt;&lt;/nullok&gt;
 2193           &lt;/inbuf&gt;
 2194           &lt;description&gt;
 2195             The value to be entered into the thread-local storage.
 2196           &lt;/description&gt;
 2197         &lt;/param&gt;
 2198       &lt;/parameters&gt;
 2199       &lt;errors&gt;
 2200       &lt;/errors&gt;
 2201     &lt;/function&gt;
 2202 
 2203     &lt;function id=&quot;GetThreadLocalStorage&quot; jkernel=&quot;yes&quot; impl=&quot;innative notrace&quot; phase=&quot;start&quot; num=&quot;102&quot;&gt;
 2204       &lt;synopsis&gt;Get Thread Local Storage&lt;/synopsis&gt;
 2205       &lt;description&gt;
 2206         Called by the agent to get the value of the &lt;jvmti/&gt; thread-local
 2207         storage.
 2208       &lt;/description&gt;
 2209       &lt;origin&gt;jvmpi&lt;/origin&gt;
 2210       &lt;capabilities&gt;
 2211       &lt;/capabilities&gt;
 2212       &lt;parameters&gt;
 2213         &lt;param id=&quot;thread&quot;&gt;
 2214           &lt;jthread null=&quot;current&quot; impl=&quot;noconvert&quot;/&gt;
 2215             &lt;description&gt;
 2216               Retrieve from this thread.
 2217             &lt;/description&gt;
 2218         &lt;/param&gt;
 2219         &lt;param id=&quot;data_ptr&quot;&gt;
 2220           &lt;agentbuf&gt;&lt;void/&gt;&lt;/agentbuf&gt;
 2221           &lt;description&gt;
 2222             Pointer through which the value of the thread local
 2223             storage is returned.
 2224             If thread-local storage has not been set with
 2225             &lt;functionlink id=&quot;SetThreadLocalStorage&quot;&gt;&lt;/functionlink&gt; the returned
 2226             pointer is &lt;code&gt;NULL&lt;/code&gt;.
 2227           &lt;/description&gt;
 2228         &lt;/param&gt;
 2229       &lt;/parameters&gt;
 2230       &lt;errors&gt;
 2231       &lt;/errors&gt;
 2232     &lt;/function&gt;
 2233 
 2234   &lt;/category&gt;
 2235 
 2236   &lt;category id=&quot;thread_groups&quot; label=&quot;Thread Group&quot;&gt;
 2237     &lt;intro&gt;
 2238     &lt;/intro&gt;
 2239 
 2240     &lt;function id=&quot;GetTopThreadGroups&quot; num=&quot;13&quot;&gt;
 2241       &lt;synopsis&gt;Get Top Thread Groups&lt;/synopsis&gt;
 2242       &lt;description&gt;
 2243         Return all top-level (parentless) thread groups in the VM.
 2244       &lt;/description&gt;
 2245       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2246       &lt;capabilities&gt;
 2247       &lt;/capabilities&gt;
 2248       &lt;parameters&gt;
 2249         &lt;param id=&quot;group_count_ptr&quot;&gt;
 2250           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2251           &lt;description&gt;
 2252             On return, points to the number of top-level thread groups.
 2253           &lt;/description&gt;
 2254         &lt;/param&gt;
 2255         &lt;param id=&quot;groups_ptr&quot;&gt;
 2256           &lt;allocbuf outcount=&quot;group_count_ptr&quot;&gt;&lt;jthreadGroup/&gt;&lt;/allocbuf&gt;
 2257             &lt;description&gt;
 2258               On return, refers to a pointer to the top-level thread group array.
 2259             &lt;/description&gt;
 2260         &lt;/param&gt;
 2261       &lt;/parameters&gt;
 2262       &lt;errors&gt;
 2263       &lt;/errors&gt;
 2264     &lt;/function&gt;
 2265 
 2266     &lt;function id=&quot;GetThreadGroupInfo&quot; num=&quot;14&quot;&gt;
 2267       &lt;synopsis&gt;Get Thread Group Info&lt;/synopsis&gt;
 2268       &lt;typedef id=&quot;jvmtiThreadGroupInfo&quot; label=&quot;Thread group information structure&quot;&gt;
 2269         &lt;field id=&quot;parent&quot;&gt;
 2270           &lt;jthreadGroup/&gt;
 2271           &lt;description&gt;
 2272             The parent thread group.
 2273           &lt;/description&gt;
 2274         &lt;/field&gt;
 2275         &lt;field id=&quot;name&quot;&gt;
 2276           &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 2277           &lt;description&gt;
 2278             The thread group&#39;s name, encoded as a
 2279             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 2280           &lt;/description&gt;
 2281         &lt;/field&gt;
 2282         &lt;field id=&quot;max_priority&quot;&gt;
 2283           &lt;jint/&gt;
 2284           &lt;description&gt;
 2285             The maximum priority for this thread group.
 2286           &lt;/description&gt;
 2287         &lt;/field&gt;
 2288         &lt;field id=&quot;is_daemon&quot;&gt;
 2289           &lt;jboolean/&gt;
 2290           &lt;description&gt;
 2291             Is this a daemon thread group?
 2292           &lt;/description&gt;
 2293         &lt;/field&gt;
 2294       &lt;/typedef&gt;
 2295       &lt;description&gt;
 2296         Get information about the thread group. The fields of the
 2297         &lt;functionlink id=&quot;jvmtiThreadGroupInfo&quot;&gt;&lt;/functionlink&gt; structure
 2298         are filled in with details of the specified thread group.
 2299       &lt;/description&gt;
 2300       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2301       &lt;capabilities&gt;
 2302       &lt;/capabilities&gt;
 2303       &lt;parameters&gt;
 2304         &lt;param id=&quot;group&quot;&gt;
 2305           &lt;jthreadGroup/&gt;
 2306           &lt;description&gt;
 2307             The thread group to query.
 2308           &lt;/description&gt;
 2309         &lt;/param&gt;
 2310         &lt;param id=&quot;info_ptr&quot;&gt;
 2311           &lt;outptr&gt;&lt;struct&gt;jvmtiThreadGroupInfo&lt;/struct&gt;&lt;/outptr&gt;
 2312           &lt;description&gt;
 2313             On return, filled with information describing the specified
 2314             thread group.
 2315           &lt;/description&gt;
 2316         &lt;/param&gt;
 2317       &lt;/parameters&gt;
 2318       &lt;errors&gt;
 2319       &lt;/errors&gt;
 2320     &lt;/function&gt;
 2321 
 2322     &lt;function id=&quot;GetThreadGroupChildren&quot; num=&quot;15&quot;&gt;
 2323       &lt;synopsis&gt;Get Thread Group Children&lt;/synopsis&gt;
 2324       &lt;description&gt;
 2325         Get the live threads and active subgroups in this thread group.
 2326       &lt;/description&gt;
 2327       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2328       &lt;capabilities&gt;
 2329       &lt;/capabilities&gt;
 2330       &lt;parameters&gt;
 2331         &lt;param id=&quot;group&quot;&gt;
 2332           &lt;jthreadGroup/&gt;
 2333           &lt;description&gt;
 2334             The group to query.
 2335           &lt;/description&gt;
 2336         &lt;/param&gt;
 2337         &lt;param id=&quot;thread_count_ptr&quot;&gt;
 2338           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2339           &lt;description&gt;
 2340             On return, points to the number of live threads in this thread group.
 2341           &lt;/description&gt;
 2342         &lt;/param&gt;
 2343         &lt;param id=&quot;threads_ptr&quot;&gt;
 2344           &lt;allocbuf outcount=&quot;thread_count_ptr&quot;&gt;&lt;jthread/&gt;&lt;/allocbuf&gt;
 2345             &lt;description&gt;
 2346               On return, points to an array of the live threads in this thread group.
 2347             &lt;/description&gt;
 2348         &lt;/param&gt;
 2349         &lt;param id=&quot;group_count_ptr&quot;&gt;
 2350           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2351           &lt;description&gt;
 2352             On return, points to the number of active child thread groups
 2353           &lt;/description&gt;
 2354         &lt;/param&gt;
 2355         &lt;param id=&quot;groups_ptr&quot;&gt;
 2356           &lt;allocbuf outcount=&quot;group_count_ptr&quot;&gt;&lt;jthreadGroup/&gt;&lt;/allocbuf&gt;
 2357             &lt;description&gt;
 2358               On return, points to an array of the active child thread groups.
 2359             &lt;/description&gt;
 2360         &lt;/param&gt;
 2361       &lt;/parameters&gt;
 2362       &lt;errors&gt;
 2363       &lt;/errors&gt;
 2364     &lt;/function&gt;
 2365   &lt;/category&gt;
 2366 
 2367   &lt;category id=&quot;stack&quot; label=&quot;Stack Frame&quot;&gt;
 2368     &lt;intro&gt;
 2369         These functions provide information about the stack of a thread.
 2370         Stack frames are referenced by depth.
 2371         The frame at depth zero is the current frame.
 2372         &lt;p/&gt;
 2373         Stack frames are as described in
 2374         &lt;vmspec chapter=&quot;3.6&quot;/&gt;,
 2375         That is, they correspond to method
 2376         invocations (including native methods) but do not correspond to platform native or
 2377         VM internal frames.
 2378         &lt;p/&gt;
 2379         A &lt;jvmti/&gt; implementation may use method invocations to launch a thread and
 2380         the corresponding frames may be included in the stack as presented by these functions --
 2381         that is, there may be frames shown
 2382         deeper than &lt;code&gt;main()&lt;/code&gt; and &lt;code&gt;run()&lt;/code&gt;.
 2383         However this presentation must be consistent across all &lt;jvmti/&gt; functionality which
 2384         uses stack frames or stack depth.
 2385     &lt;/intro&gt;
 2386 
 2387       &lt;typedef id=&quot;jvmtiFrameInfo&quot; label=&quot;Stack frame information structure&quot;&gt;
 2388         &lt;description&gt;
 2389           Information about a stack frame is returned in this structure.
 2390         &lt;/description&gt;
 2391         &lt;field id=&quot;method&quot;&gt;
 2392           &lt;jmethodID/&gt;
 2393             &lt;description&gt;
 2394               The method executing in this frame.
 2395             &lt;/description&gt;
 2396         &lt;/field&gt;
 2397         &lt;field id=&quot;location&quot;&gt;
 2398           &lt;jlocation/&gt;
 2399           &lt;description&gt;
 2400             The index of the instruction executing in this frame.
 2401             &lt;code&gt;-1&lt;/code&gt; if the frame is executing a native method.
 2402           &lt;/description&gt;
 2403         &lt;/field&gt;
 2404       &lt;/typedef&gt;
 2405 
 2406       &lt;typedef id=&quot;jvmtiStackInfo&quot; label=&quot;Stack information structure&quot;&gt;
 2407         &lt;description&gt;
 2408           Information about a set of stack frames is returned in this structure.
 2409         &lt;/description&gt;
 2410         &lt;field id=&quot;thread&quot;&gt;
 2411           &lt;jthread/&gt;
 2412           &lt;description&gt;
 2413             On return, the thread traced.
 2414           &lt;/description&gt;
 2415         &lt;/field&gt;
 2416         &lt;field id=&quot;state&quot;&gt;
 2417           &lt;jint/&gt;
 2418           &lt;description&gt;
 2419             On return, the thread state. See &lt;functionlink id=&quot;GetThreadState&quot;&gt;&lt;/functionlink&gt;.
 2420           &lt;/description&gt;
 2421         &lt;/field&gt;
 2422         &lt;field id=&quot;frame_buffer&quot;&gt;
 2423           &lt;outbuf incount=&quot;max_frame_count&quot;&gt;
 2424             &lt;struct&gt;jvmtiFrameInfo&lt;/struct&gt;
 2425           &lt;/outbuf&gt;
 2426             &lt;description&gt;
 2427               On return, this agent allocated buffer is filled
 2428               with stack frame information.
 2429             &lt;/description&gt;
 2430         &lt;/field&gt;
 2431         &lt;field id=&quot;frame_count&quot;&gt;
 2432           &lt;jint/&gt;
 2433           &lt;description&gt;
 2434             On return, the number of records filled into
 2435             &lt;code&gt;frame_buffer&lt;/code&gt;.
 2436             This will be
 2437             min(&lt;code&gt;max_frame_count&lt;/code&gt;, &lt;i&gt;stackDepth&lt;/i&gt;).
 2438           &lt;/description&gt;
 2439         &lt;/field&gt;
 2440       &lt;/typedef&gt;
 2441 
 2442     &lt;function id=&quot;GetStackTrace&quot; num=&quot;104&quot;&gt;
 2443       &lt;synopsis&gt;Get Stack Trace&lt;/synopsis&gt;
 2444       &lt;description&gt;
 2445         Get information about the stack of a thread.
 2446         If &lt;paramlink id=&quot;max_frame_count&quot;&gt;&lt;/paramlink&gt; is less than the depth of the stack,
 2447         the &lt;paramlink id=&quot;max_frame_count&quot;&gt;&lt;/paramlink&gt; topmost frames are returned,
 2448         otherwise the entire stack is returned.
 2449         The topmost frames, those most recently invoked, are at the beginning of the returned buffer.
 2450         &lt;p/&gt;
 2451         The following example causes up to five of the topmost frames
 2452         to be returned and (if there are any frames) the currently
 2453         executing method name to be printed.
 2454         &lt;example&gt;
 2455 jvmtiFrameInfo frames[5];
 2456 jint count;
 2457 jvmtiError err;
 2458 
 2459 err = (*jvmti)-&amp;gt;GetStackTrace(jvmti, aThread, 0, 5,
 2460                                frames, &amp;amp;count);
 2461 if (err == JVMTI_ERROR_NONE &amp;amp;&amp;amp; count &amp;gt;= 1) {
 2462    char *methodName;
 2463    err = (*jvmti)-&amp;gt;GetMethodName(jvmti, frames[0].method,
 2464                        &amp;amp;methodName, NULL, NULL);
 2465    if (err == JVMTI_ERROR_NONE) {
 2466       printf(&quot;Executing method: %s&quot;, methodName);
 2467    }
 2468 }
 2469         &lt;/example&gt;
 2470         &lt;todo&gt;
 2471           check example code.
 2472         &lt;/todo&gt;
 2473         &lt;p/&gt;
 2474         The &lt;paramlink id=&quot;thread&quot;&gt;&lt;/paramlink&gt; need not be suspended
 2475         to call this function.
 2476         &lt;p/&gt;
 2477         The &lt;functionlink id=&quot;GetLineNumberTable&quot;&gt;&lt;/functionlink&gt;
 2478         function can be used to map locations to line numbers. Note that
 2479         this mapping can be done lazily.
 2480       &lt;/description&gt;
 2481       &lt;origin&gt;jvmpi&lt;/origin&gt;
 2482       &lt;capabilities&gt;
 2483       &lt;/capabilities&gt;
 2484       &lt;parameters&gt;
 2485         &lt;param id=&quot;thread&quot;&gt;
 2486           &lt;jthread null=&quot;current&quot;/&gt;
 2487             &lt;description&gt;
 2488               Fetch the stack trace of this thread.
 2489             &lt;/description&gt;
 2490         &lt;/param&gt;
 2491         &lt;param id=&quot;start_depth&quot;&gt;
 2492           &lt;jint/&gt;
 2493           &lt;description&gt;
 2494             Begin retrieving frames at this depth.
 2495             If non-negative, count from the current frame,
 2496             the first frame retrieved is at depth &lt;code&gt;start_depth&lt;/code&gt;.
 2497             For example, if zero, start from the current frame; if one, start from the
 2498             caller of the current frame; if two, start from the caller of the
 2499             caller of the current frame; and so on.
 2500             If negative, count from below the oldest frame,
 2501             the first frame retrieved is at depth &lt;i&gt;stackDepth&lt;/i&gt;&lt;code&gt; + start_depth&lt;/code&gt;,
 2502             where &lt;i&gt;stackDepth&lt;/i&gt; is the count of frames on the stack.
 2503             For example, if negative one, only the oldest frame is retrieved;
 2504             if negative two, start from the frame called by the oldest frame.
 2505           &lt;/description&gt;
 2506         &lt;/param&gt;
 2507         &lt;param id=&quot;max_frame_count&quot;&gt;
 2508           &lt;jint min=&quot;0&quot;/&gt;
 2509           &lt;description&gt;
 2510             The maximum number of &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt; records to retrieve.
 2511           &lt;/description&gt;
 2512         &lt;/param&gt;
 2513         &lt;param id=&quot;frame_buffer&quot;&gt;
 2514           &lt;outbuf incount=&quot;max_frame_count&quot; outcount=&quot;count_ptr&quot;&gt;
 2515             &lt;struct&gt;jvmtiFrameInfo&lt;/struct&gt;
 2516           &lt;/outbuf&gt;
 2517             &lt;description&gt;
 2518               On return, this agent allocated buffer is filled
 2519               with stack frame information.
 2520             &lt;/description&gt;
 2521         &lt;/param&gt;
 2522         &lt;param id=&quot;count_ptr&quot;&gt;
 2523           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2524           &lt;description&gt;
 2525             On return, points to the number of records filled in.
 2526             For non-negative &lt;code&gt;start_depth&lt;/code&gt;, this will be
 2527             min(&lt;code&gt;max_frame_count&lt;/code&gt;, &lt;i&gt;stackDepth&lt;/i&gt;&lt;code&gt; - start_depth&lt;/code&gt;).
 2528             For negative &lt;code&gt;start_depth&lt;/code&gt;, this will be
 2529             min(&lt;code&gt;max_frame_count&lt;/code&gt;, &lt;code&gt;-start_depth&lt;/code&gt;).
 2530           &lt;/description&gt;
 2531         &lt;/param&gt;
 2532       &lt;/parameters&gt;
 2533       &lt;errors&gt;
 2534         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 2535           &lt;paramlink id=&quot;start_depth&quot;/&gt; is positive and greater than or equal to &lt;i&gt;stackDepth&lt;/i&gt;.
 2536           Or &lt;paramlink id=&quot;start_depth&quot;/&gt; is negative and less than &lt;i&gt;-stackDepth&lt;/i&gt;.
 2537         &lt;/error&gt;
 2538       &lt;/errors&gt;
 2539     &lt;/function&gt;
 2540 
 2541 
 2542     &lt;function id=&quot;GetAllStackTraces&quot; num=&quot;100&quot;&gt;
 2543       &lt;synopsis&gt;Get All Stack Traces&lt;/synopsis&gt;
 2544       &lt;description&gt;
 2545         Get information about the stacks of all live threads
 2546         (including &lt;internallink id=&quot;RunAgentThread&quot;&gt;agent threads&lt;/internallink&gt;).
 2547         If &lt;paramlink id=&quot;max_frame_count&quot;/&gt; is less than the depth of a stack,
 2548         the &lt;paramlink id=&quot;max_frame_count&quot;/&gt; topmost frames are returned for that thread,
 2549         otherwise the entire stack is returned.
 2550         The topmost frames, those most recently invoked, are at the beginning of the returned buffer.
 2551         &lt;p/&gt;
 2552         All stacks are collected simultaneously, that is, no changes will occur to the
 2553         thread state or stacks between the sampling of one thread and the next.
 2554         The threads need not be suspended.
 2555 
 2556         &lt;example&gt;
 2557 jvmtiStackInfo *stack_info;
 2558 jint thread_count;
 2559 int ti;
 2560 jvmtiError err;
 2561 
 2562 err = (*jvmti)-&amp;gt;GetAllStackTraces(jvmti, MAX_FRAMES, &amp;amp;stack_info, &amp;amp;thread_count);
 2563 if (err != JVMTI_ERROR_NONE) {
 2564    ...
 2565 }
 2566 for (ti = 0; ti &amp;lt; thread_count; ++ti) {
 2567    jvmtiStackInfo *infop = &amp;amp;stack_info[ti];
 2568    jthread thread = infop-&amp;gt;thread;
 2569    jint state = infop-&amp;gt;state;
 2570    jvmtiFrameInfo *frames = infop-&amp;gt;frame_buffer;
 2571    int fi;
 2572 
 2573    myThreadAndStatePrinter(thread, state);
 2574    for (fi = 0; fi &amp;lt; infop-&amp;gt;frame_count; fi++) {
 2575       myFramePrinter(frames[fi].method, frames[fi].location);
 2576    }
 2577 }
 2578 /* this one Deallocate call frees all data allocated by GetAllStackTraces */
 2579 err = (*jvmti)-&amp;gt;Deallocate(jvmti, stack_info);
 2580         &lt;/example&gt;
 2581         &lt;todo&gt;
 2582           check example code.
 2583         &lt;/todo&gt;
 2584 
 2585       &lt;/description&gt;
 2586       &lt;origin&gt;new&lt;/origin&gt;
 2587       &lt;capabilities&gt;
 2588       &lt;/capabilities&gt;
 2589       &lt;parameters&gt;
 2590         &lt;param id=&quot;max_frame_count&quot;&gt;
 2591           &lt;jint min=&quot;0&quot;/&gt;
 2592           &lt;description&gt;
 2593             The maximum number of &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt; records to retrieve per thread.
 2594           &lt;/description&gt;
 2595         &lt;/param&gt;
 2596         &lt;param id=&quot;stack_info_ptr&quot;&gt;
 2597           &lt;allocbuf&gt;
 2598             &lt;struct&gt;jvmtiStackInfo&lt;/struct&gt;
 2599           &lt;/allocbuf&gt;
 2600             &lt;description&gt;
 2601               On return, this buffer is filled
 2602               with stack information for each thread.
 2603               The number of &lt;datalink id=&quot;jvmtiStackInfo&quot;/&gt; records is determined
 2604               by &lt;paramlink id=&quot;thread_count_ptr&quot;/&gt;.
 2605               &lt;p/&gt;
 2606               Note that this buffer is allocated to include the &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt;
 2607               buffers pointed to by &lt;datalink id=&quot;jvmtiStackInfo.frame_buffer&quot;/&gt;.
 2608               These buffers must not be separately deallocated.
 2609             &lt;/description&gt;
 2610         &lt;/param&gt;
 2611         &lt;param id=&quot;thread_count_ptr&quot;&gt;
 2612           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2613           &lt;description&gt;
 2614             The number of threads traced.
 2615           &lt;/description&gt;
 2616         &lt;/param&gt;
 2617       &lt;/parameters&gt;
 2618       &lt;errors&gt;
 2619       &lt;/errors&gt;
 2620     &lt;/function&gt;
 2621 
 2622     &lt;function id=&quot;GetThreadListStackTraces&quot; num=&quot;101&quot;&gt;
 2623       &lt;synopsis&gt;Get Thread List Stack Traces&lt;/synopsis&gt;
 2624       &lt;description&gt;
 2625         Get information about the stacks of the supplied threads.
 2626         If &lt;paramlink id=&quot;max_frame_count&quot;/&gt; is less than the depth of a stack,
 2627         the &lt;paramlink id=&quot;max_frame_count&quot;/&gt; topmost frames are returned for that thread,
 2628         otherwise the entire stack is returned.
 2629         The topmost frames, those most recently invoked, are at the beginning of the returned buffer.
 2630         &lt;p/&gt;
 2631         All stacks are collected simultaneously, that is, no changes will occur to the
 2632         thread state or stacks between the sampling one thread and the next.
 2633         The threads need not be suspended.
 2634         &lt;p/&gt;
 2635         If a thread has not yet started or terminates before the stack information is collected,
 2636         a zero length stack (&lt;datalink id=&quot;jvmtiStackInfo.frame_count&quot;/&gt; will be zero)
 2637         will be returned and the thread &lt;datalink id=&quot;jvmtiStackInfo.state&quot;/&gt; can be checked.
 2638         &lt;p/&gt;
 2639         See the example for the similar function
 2640         &lt;functionlink id=&quot;GetAllStackTraces&quot;/&gt;.
 2641       &lt;/description&gt;
 2642       &lt;origin&gt;new&lt;/origin&gt;
 2643       &lt;capabilities&gt;
 2644       &lt;/capabilities&gt;
 2645       &lt;parameters&gt;
 2646         &lt;param id=&quot;thread_count&quot;&gt;
 2647           &lt;jint min=&quot;0&quot;/&gt;
 2648           &lt;description&gt;
 2649             The number of threads to trace.
 2650           &lt;/description&gt;
 2651         &lt;/param&gt;
 2652         &lt;param id=&quot;thread_list&quot;&gt;
 2653           &lt;inbuf incount=&quot;thread_count&quot;&gt;&lt;jthread/&gt;&lt;/inbuf&gt;
 2654             &lt;description&gt;
 2655               The list of threads to trace.
 2656             &lt;/description&gt;
 2657         &lt;/param&gt;
 2658         &lt;param id=&quot;max_frame_count&quot;&gt;
 2659           &lt;jint min=&quot;0&quot;/&gt;
 2660           &lt;description&gt;
 2661             The maximum number of &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt; records to retrieve per thread.
 2662           &lt;/description&gt;
 2663         &lt;/param&gt;
 2664         &lt;param id=&quot;stack_info_ptr&quot;&gt;
 2665           &lt;allocbuf outcount=&quot;thread_count&quot;&gt;
 2666             &lt;struct&gt;jvmtiStackInfo&lt;/struct&gt;
 2667           &lt;/allocbuf&gt;
 2668             &lt;description&gt;
 2669               On return, this buffer is filled
 2670               with stack information for each thread.
 2671               The number of &lt;datalink id=&quot;jvmtiStackInfo&quot;/&gt; records is determined
 2672               by &lt;paramlink id=&quot;thread_count&quot;/&gt;.
 2673               &lt;p/&gt;
 2674               Note that this buffer is allocated to include the &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt;
 2675               buffers pointed to by &lt;datalink id=&quot;jvmtiStackInfo.frame_buffer&quot;/&gt;.
 2676               These buffers must not be separately deallocated.
 2677             &lt;/description&gt;
 2678         &lt;/param&gt;
 2679       &lt;/parameters&gt;
 2680       &lt;errors&gt;
 2681         &lt;error id=&quot;JVMTI_ERROR_INVALID_THREAD&quot;&gt;
 2682           An element in &lt;paramlink id=&quot;thread_list&quot;/&gt; is not a thread object.
 2683         &lt;/error&gt;
 2684       &lt;/errors&gt;
 2685     &lt;/function&gt;
 2686 
 2687     &lt;elide&gt;
 2688     &lt;function id=&quot;AsyncGetStackTrace&quot; num=&quot;1000&quot;&gt;
 2689       &lt;synopsis&gt;Get Stack Trace--Asynchronous&lt;/synopsis&gt;
 2690       &lt;description&gt;
 2691         Get information about the entire stack of a thread (or a sub-section of it).
 2692         This is the asynchronous version of &lt;functionlink id=&quot;GetStackTrace&quot;&gt;&lt;/functionlink&gt;
 2693         and is reentrant and safe to call
 2694         from asynchronous signal handlers.
 2695         The stack trace is returned only for the calling thread.
 2696         &lt;p/&gt;
 2697         The &lt;functionlink id=&quot;GetLineNumberTable&quot;&gt;&lt;/functionlink&gt;
 2698         function can be used to map locations to line numbers. Note that
 2699         this mapping can be done lazily.
 2700       &lt;/description&gt;
 2701       &lt;origin&gt;jvmpi&lt;/origin&gt;
 2702       &lt;capabilities&gt;
 2703         &lt;required id=&quot;can_get_async_stack_trace&quot;&gt;&lt;/required&gt;
 2704         &lt;capability id=&quot;can_show_JVM_spec_async_frames&quot;&gt;
 2705           If &lt;code&gt;false&lt;/code&gt;,
 2706           &lt;paramlink id=&quot;use_java_stack&quot;&gt;&lt;/paramlink&gt;
 2707           must be &lt;code&gt;false&lt;/code&gt;.
 2708         &lt;/capability&gt;
 2709       &lt;/capabilities&gt;
 2710       &lt;parameters&gt;
 2711         &lt;param id=&quot;use_java_stack&quot;&gt;
 2712           &lt;jboolean/&gt;
 2713           &lt;description&gt;
 2714             Return the stack showing &lt;vmspec/&gt;
 2715             model of the stack;
 2716             otherwise, show the internal representation of the stack with
 2717             inlined and optimized methods missing.  If the virtual machine
 2718             is using the &lt;i&gt;Java Virtual Machine Specification&lt;/i&gt; stack model
 2719             internally, this flag is ignored.
 2720           &lt;/description&gt;
 2721         &lt;/param&gt;
 2722         &lt;param id=&quot;max_count&quot;&gt;
 2723           &lt;jint min=&quot;0&quot;/&gt;
 2724           &lt;description&gt;
 2725             The maximum number of &lt;datalink id=&quot;jvmtiFrameInfo&quot;/&gt; records to retrieve.
 2726             Retrieve this many unless the stack depth is less than &lt;code&gt;max_count&lt;/code&gt;.
 2727           &lt;/description&gt;
 2728         &lt;/param&gt;
 2729         &lt;param id=&quot;frame_buffer&quot;&gt;
 2730           &lt;outbuf incount=&quot;max_count&quot; outcount=&quot;count_ptr&quot;&gt;
 2731             &lt;struct&gt;jvmtiFrameInfo&lt;/struct&gt;
 2732             &lt;nullok&gt;this information is not returned&lt;/nullok&gt;
 2733           &lt;/outbuf&gt;
 2734             &lt;description&gt;
 2735               The agent passes in a buffer
 2736               large enough to hold &lt;code&gt;max_count&lt;/code&gt; records of
 2737               &lt;datalink id=&quot;jvmtiFrameInfo&quot;&gt;&lt;/datalink&gt;.  This buffer must be
 2738               pre-allocated by the agent.
 2739             &lt;/description&gt;
 2740         &lt;/param&gt;
 2741         &lt;param id=&quot;count_ptr&quot;&gt;
 2742           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2743           &lt;description&gt;
 2744             On return, points to the number of records filled in..
 2745           &lt;/description&gt;
 2746         &lt;/param&gt;
 2747       &lt;/parameters&gt;
 2748       &lt;errors&gt;
 2749         &lt;error id=&quot;JVMTI_ERROR_UNATTACHED_THREAD&quot;&gt;
 2750           The thread being used to call this function is not attached
 2751           to the virtual machine.  Calls must be made from attached threads.
 2752         &lt;/error&gt;
 2753       &lt;/errors&gt;
 2754     &lt;/function&gt;
 2755     &lt;/elide&gt;
 2756 
 2757     &lt;function id=&quot;GetFrameCount&quot; num=&quot;16&quot;&gt;
 2758       &lt;synopsis&gt;Get Frame Count&lt;/synopsis&gt;
 2759       &lt;description&gt;
 2760         Get the number of frames currently in the specified thread&#39;s call stack.
 2761         &lt;p/&gt;
 2762         If this function is called for a thread actively executing bytecodes (for example,
 2763         not the current thread and not suspended), the information returned is transient.
 2764       &lt;/description&gt;
 2765       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2766       &lt;capabilities&gt;
 2767       &lt;/capabilities&gt;
 2768       &lt;parameters&gt;
 2769         &lt;param id=&quot;thread&quot;&gt;
 2770           &lt;jthread null=&quot;current&quot;/&gt;
 2771             &lt;description&gt;
 2772               The thread to query.
 2773             &lt;/description&gt;
 2774         &lt;/param&gt;
 2775         &lt;param id=&quot;count_ptr&quot;&gt;
 2776           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 2777           &lt;description&gt;
 2778             On return, points to the number of frames in the call stack.
 2779           &lt;/description&gt;
 2780         &lt;/param&gt;
 2781       &lt;/parameters&gt;
 2782       &lt;errors&gt;
 2783       &lt;/errors&gt;
 2784     &lt;/function&gt;
 2785 
 2786     &lt;function id=&quot;PopFrame&quot; num=&quot;80&quot;&gt;
 2787       &lt;synopsis&gt;Pop Frame&lt;/synopsis&gt;
 2788       &lt;description&gt;
 2789         Pop the current frame of &lt;code&gt;thread&lt;/code&gt;&#39;s stack.
 2790         Popping a frame takes you to the previous frame.
 2791         When the thread is resumed, the execution
 2792         state of the thread is reset to the state
 2793         immediately before the called method was invoked.
 2794         That is (using &lt;vmspec/&gt; terminology):
 2795           &lt;ul&gt;
 2796             &lt;li&gt;the current frame is discarded as the previous frame becomes the current one&lt;/li&gt;
 2797             &lt;li&gt;the operand stack is restored--the argument values are added back
 2798               and if the invoke was not &lt;code&gt;invokestatic&lt;/code&gt;,
 2799               &lt;code&gt;objectref&lt;/code&gt; is added back as well&lt;/li&gt;
 2800             &lt;li&gt;the Java virtual machine PC is restored to the opcode
 2801               of the invoke instruction&lt;/li&gt;
 2802           &lt;/ul&gt;
 2803         Note however, that any changes to the arguments, which
 2804         occurred in the called method, remain;
 2805         when execution continues, the first instruction to
 2806         execute will be the invoke.
 2807         &lt;p/&gt;
 2808         Between calling &lt;code&gt;PopFrame&lt;/code&gt; and resuming the
 2809         thread the state of the stack is undefined.
 2810         To pop frames beyond the first,
 2811         these three steps must be repeated:
 2812         &lt;ul&gt;
 2813           &lt;li&gt;suspend the thread via an event (step, breakpoint, ...)&lt;/li&gt;
 2814           &lt;li&gt;call &lt;code&gt;PopFrame&lt;/code&gt;&lt;/li&gt;
 2815           &lt;li&gt;resume the thread&lt;/li&gt;
 2816         &lt;/ul&gt;
 2817         &lt;p/&gt;
 2818         A lock acquired by calling the called method
 2819         (if it is a &lt;code&gt;synchronized&lt;/code&gt;  method)
 2820         and locks acquired by entering &lt;code&gt;synchronized&lt;/code&gt;
 2821         blocks within the called method are released.
 2822         Note: this does not apply to native locks or
 2823         &lt;code&gt;java.util.concurrent.locks&lt;/code&gt; locks.
 2824         &lt;p/&gt;
 2825         Finally blocks are not executed.
 2826         &lt;p/&gt;
 2827         Changes to global state are not addressed and thus remain changed.
 2828         &lt;p/&gt;
 2829         The specified thread must be suspended or must be the current thread.
 2830         &lt;p/&gt;
 2831         Both the called method and calling method must be non-native Java programming
 2832         language methods.
 2833         &lt;p/&gt;
 2834         No &lt;jvmti/&gt; events are generated by this function.
 2835       &lt;/description&gt;
 2836       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2837       &lt;capabilities&gt;
 2838         &lt;required id=&quot;can_pop_frame&quot;&gt;&lt;/required&gt;
 2839       &lt;/capabilities&gt;
 2840       &lt;parameters&gt;
 2841         &lt;param id=&quot;thread&quot;&gt;
 2842           &lt;jthread/&gt;
 2843             &lt;description&gt;
 2844               The thread whose current frame is to be popped.
 2845             &lt;/description&gt;
 2846         &lt;/param&gt;
 2847       &lt;/parameters&gt;
 2848       &lt;errors&gt;
 2849         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 2850           Called or calling method is a native method.
 2851           The implementation is unable to pop this frame.
 2852         &lt;/error&gt;
 2853         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 2854           Thread was not suspended and was not the current thread.
 2855         &lt;/error&gt;
 2856         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 2857           There are less than two stack frames on the call stack.
 2858         &lt;/error&gt;
 2859       &lt;/errors&gt;
 2860     &lt;/function&gt;
 2861 
 2862     &lt;function id=&quot;GetFrameLocation&quot; num=&quot;19&quot;&gt;
 2863       &lt;synopsis&gt;Get Frame Location&lt;/synopsis&gt;
 2864       &lt;description&gt;
 2865         &lt;p/&gt;
 2866         For a Java programming language frame, return the location of the instruction
 2867         currently executing.
 2868       &lt;/description&gt;
 2869       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 2870       &lt;capabilities&gt;
 2871       &lt;/capabilities&gt;
 2872       &lt;parameters&gt;
 2873         &lt;param id=&quot;thread&quot;&gt;
 2874           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 2875           &lt;description&gt;
 2876             The thread of the frame to query.
 2877           &lt;/description&gt;
 2878         &lt;/param&gt;
 2879         &lt;param id=&quot;depth&quot;&gt;
 2880           &lt;jframeID thread=&quot;thread&quot;/&gt;
 2881           &lt;description&gt;
 2882             The depth of the frame to query.
 2883           &lt;/description&gt;
 2884         &lt;/param&gt;
 2885         &lt;param id=&quot;method_ptr&quot;&gt;
 2886           &lt;outptr&gt;&lt;jmethodID/&gt;&lt;/outptr&gt;
 2887             &lt;description&gt;
 2888               On return, points to the method for the current location.
 2889             &lt;/description&gt;
 2890         &lt;/param&gt;
 2891         &lt;param id=&quot;location_ptr&quot;&gt;
 2892           &lt;outptr&gt;&lt;jlocation/&gt;&lt;/outptr&gt;
 2893           &lt;description&gt;
 2894             On return, points to the index of the currently
 2895             executing instruction.
 2896             Is set to &lt;code&gt;-1&lt;/code&gt; if the frame is executing
 2897             a native method.
 2898           &lt;/description&gt;
 2899         &lt;/param&gt;
 2900       &lt;/parameters&gt;
 2901       &lt;errors&gt;
 2902       &lt;/errors&gt;
 2903     &lt;/function&gt;
 2904 
 2905     &lt;function id=&quot;NotifyFramePop&quot; num=&quot;20&quot;&gt;
 2906       &lt;synopsis&gt;Notify Frame Pop&lt;/synopsis&gt;
 2907       &lt;description&gt;
 2908         When the frame that is currently at &lt;paramlink id=&quot;depth&quot;&gt;&lt;/paramlink&gt;
 2909         is popped from the stack, generate a
 2910         &lt;eventlink id=&quot;FramePop&quot;&gt;&lt;/eventlink&gt; event.  See the
 2911         &lt;eventlink id=&quot;FramePop&quot;&gt;&lt;/eventlink&gt; event for details.
 2912         Only frames corresponding to non-native Java programming language
 2913         methods can receive notification.
 2914         &lt;p/&gt;
 2915         The specified thread must be suspended or must be the current thread.
 2916       &lt;/description&gt;
 2917       &lt;origin&gt;jvmdi&lt;/origin&gt;
 2918       &lt;capabilities&gt;
 2919         &lt;required id=&quot;can_generate_frame_pop_events&quot;&gt;&lt;/required&gt;
 2920       &lt;/capabilities&gt;
 2921       &lt;parameters&gt;
 2922         &lt;param id=&quot;thread&quot;&gt;
 2923           &lt;jthread null=&quot;current&quot; frame=&quot;depth&quot;/&gt;
 2924           &lt;description&gt;
 2925             The thread of the frame for which the frame pop event will be generated.
 2926           &lt;/description&gt;
 2927         &lt;/param&gt;
 2928         &lt;param id=&quot;depth&quot;&gt;
 2929           &lt;jframeID thread=&quot;thread&quot;/&gt;
 2930           &lt;description&gt;
 2931             The depth of the frame for which the frame pop event will be generated.
 2932           &lt;/description&gt;
 2933         &lt;/param&gt;
 2934       &lt;/parameters&gt;
 2935       &lt;errors&gt;
 2936         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 2937           The frame at &lt;code&gt;depth&lt;/code&gt; is executing a
 2938           native method.
 2939         &lt;/error&gt;
 2940         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 2941           Thread was not suspended and was not the current thread.
 2942         &lt;/error&gt;
 2943       &lt;/errors&gt;
 2944     &lt;/function&gt;
 2945 
 2946   &lt;/category&gt;
 2947 
 2948   &lt;category id=&quot;ForceEarlyReturn&quot; label=&quot;Force Early Return&quot;&gt;
 2949     &lt;intro&gt;
 2950       These functions allow an agent to force a method
 2951       to return at any point during its execution.
 2952       The method which will return early is referred to as the &lt;i&gt;called method&lt;/i&gt;.
 2953       The called method is the current method
 2954       (as defined by
 2955       &lt;vmspec chapter=&quot;3.6&quot;/&gt;)
 2956       for the specified thread at
 2957       the time the function is called.
 2958       &lt;p/&gt;
 2959       The specified thread must be suspended or must be the current thread.
 2960       The return occurs when execution of Java programming
 2961       language code is resumed on this thread.
 2962       Between calling one of these functions and resumption
 2963       of thread execution, the state of the stack is undefined.
 2964       &lt;p/&gt;
 2965       No further instructions are executed in the called method.
 2966       Specifically, finally blocks are not executed.
 2967       Note: this can cause inconsistent states in the application.
 2968       &lt;p/&gt;
 2969       A lock acquired by calling the called method
 2970       (if it is a &lt;code&gt;synchronized&lt;/code&gt;  method)
 2971       and locks acquired by entering &lt;code&gt;synchronized&lt;/code&gt;
 2972       blocks within the called method are released.
 2973       Note: this does not apply to native locks or
 2974       &lt;code&gt;java.util.concurrent.locks&lt;/code&gt; locks.
 2975       &lt;p/&gt;
 2976       Events, such as &lt;eventlink id=&quot;MethodExit&quot;&gt;&lt;/eventlink&gt;,
 2977       are generated as they would be in a normal return.
 2978       &lt;p/&gt;
 2979       The called method must be a non-native Java programming
 2980       language method.
 2981       Forcing return on a thread with only one frame on the
 2982       stack causes the thread to exit when resumed.
 2983     &lt;/intro&gt;
 2984 
 2985     &lt;function id=&quot;ForceEarlyReturnObject&quot; num=&quot;81&quot; since=&quot;1.1&quot;&gt;
 2986       &lt;synopsis&gt;Force Early Return - Object&lt;/synopsis&gt;
 2987       &lt;description&gt;
 2988         This function can be used to return from a method whose
 2989         result type is &lt;code&gt;Object&lt;/code&gt;
 2990         or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 2991       &lt;/description&gt;
 2992       &lt;origin&gt;new&lt;/origin&gt;
 2993       &lt;capabilities&gt;
 2994         &lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 2995       &lt;/capabilities&gt;
 2996       &lt;parameters&gt;
 2997         &lt;param id=&quot;thread&quot;&gt;
 2998           &lt;jthread null=&quot;current&quot;/&gt;
 2999           &lt;description&gt;
 3000             The thread whose current frame is to return early.
 3001           &lt;/description&gt;
 3002         &lt;/param&gt;
 3003         &lt;param id=&quot;value&quot;&gt;
 3004           &lt;jobject/&gt;
 3005           &lt;description&gt;
 3006             The return value for the called frame.
 3007             An object or &lt;code&gt;NULL&lt;/code&gt;.
 3008           &lt;/description&gt;
 3009         &lt;/param&gt;
 3010       &lt;/parameters&gt;
 3011       &lt;errors&gt;
 3012         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3013           Attempted to return early from a frame
 3014           corresponding to a native method.
 3015           Or the implementation is unable to provide
 3016           this functionality on this frame.
 3017         &lt;/error&gt;
 3018         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3019           The result type of the called method is not
 3020           &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 3021         &lt;/error&gt;
 3022         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3023           The supplied &lt;paramlink id=&quot;value&quot;/&gt; is not compatible with the
 3024           result type of the called method.
 3025         &lt;/error&gt;
 3026         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3027           Thread was not suspended and was not the current thread.
 3028         &lt;/error&gt;
 3029         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3030           There are no more frames on the call stack.
 3031         &lt;/error&gt;
 3032       &lt;/errors&gt;
 3033     &lt;/function&gt;
 3034 
 3035     &lt;function id=&quot;ForceEarlyReturnInt&quot; num=&quot;82&quot; since=&quot;1.1&quot;&gt;
 3036       &lt;synopsis&gt;Force Early Return - Int&lt;/synopsis&gt;
 3037       &lt;description&gt;
 3038         This function can be used to return from a method whose
 3039         result type is &lt;code&gt;int&lt;/code&gt;, &lt;code&gt;short&lt;/code&gt;,
 3040         &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 3041         &lt;code&gt;boolean&lt;/code&gt;.
 3042       &lt;/description&gt;
 3043       &lt;origin&gt;new&lt;/origin&gt;
 3044       &lt;capabilities&gt;
 3045         &lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3046       &lt;/capabilities&gt;
 3047       &lt;parameters&gt;
 3048         &lt;param id=&quot;thread&quot;&gt;
 3049           &lt;jthread null=&quot;current&quot;/&gt;
 3050           &lt;description&gt;
 3051             The thread whose current frame is to return early.
 3052           &lt;/description&gt;
 3053         &lt;/param&gt;
 3054         &lt;param id=&quot;value&quot;&gt;
 3055           &lt;jint/&gt;
 3056           &lt;description&gt;
 3057             The return value for the called frame.
 3058           &lt;/description&gt;
 3059         &lt;/param&gt;
 3060       &lt;/parameters&gt;
 3061       &lt;errors&gt;
 3062         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3063           Attempted to return early from a frame
 3064           corresponding to a native method.
 3065           Or the implementation is unable to provide
 3066           this functionality on this frame.
 3067         &lt;/error&gt;
 3068         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3069           The result type of the called method is not
 3070           &lt;code&gt;int&lt;/code&gt;, &lt;code&gt;short&lt;/code&gt;,
 3071           &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 3072           &lt;code&gt;boolean&lt;/code&gt;.
 3073         &lt;/error&gt;
 3074         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3075           Thread was not suspended and was not the current thread.
 3076         &lt;/error&gt;
 3077         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3078           There are no frames on the call stack.
 3079         &lt;/error&gt;
 3080       &lt;/errors&gt;
 3081     &lt;/function&gt;
 3082 
 3083     &lt;function id=&quot;ForceEarlyReturnLong&quot; num=&quot;83&quot; since=&quot;1.1&quot;&gt;
 3084       &lt;synopsis&gt;Force Early Return - Long&lt;/synopsis&gt;
 3085       &lt;description&gt;
 3086         This function can be used to return from a method whose
 3087         result type is &lt;code&gt;long&lt;/code&gt;.
 3088       &lt;/description&gt;
 3089       &lt;origin&gt;new&lt;/origin&gt;
 3090       &lt;capabilities&gt;
 3091         &lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3092       &lt;/capabilities&gt;
 3093       &lt;parameters&gt;
 3094         &lt;param id=&quot;thread&quot;&gt;
 3095           &lt;jthread null=&quot;current&quot;/&gt;
 3096           &lt;description&gt;
 3097             The thread whose current frame is to return early.
 3098           &lt;/description&gt;
 3099         &lt;/param&gt;
 3100         &lt;param id=&quot;value&quot;&gt;
 3101           &lt;jlong/&gt;
 3102           &lt;description&gt;
 3103             The return value for the called frame.
 3104           &lt;/description&gt;
 3105         &lt;/param&gt;
 3106       &lt;/parameters&gt;
 3107       &lt;errors&gt;
 3108         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3109           Attempted to return early from a frame
 3110           corresponding to a native method.
 3111           Or the implementation is unable to provide
 3112           this functionality on this frame.
 3113         &lt;/error&gt;
 3114         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3115           The result type of the called method is not &lt;code&gt;long&lt;/code&gt;.
 3116         &lt;/error&gt;
 3117         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3118           Thread was not suspended and was not the current thread.
 3119         &lt;/error&gt;
 3120         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3121           There are no frames on the call stack.
 3122         &lt;/error&gt;
 3123       &lt;/errors&gt;
 3124     &lt;/function&gt;
 3125 
 3126     &lt;function id=&quot;ForceEarlyReturnFloat&quot; num=&quot;84&quot; since=&quot;1.1&quot;&gt;
 3127       &lt;synopsis&gt;Force Early Return - Float&lt;/synopsis&gt;
 3128       &lt;description&gt;
 3129         This function can be used to return from a method whose
 3130         result type is &lt;code&gt;float&lt;/code&gt;.
 3131       &lt;/description&gt;
 3132       &lt;origin&gt;new&lt;/origin&gt;
 3133       &lt;capabilities&gt;
 3134         &lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3135       &lt;/capabilities&gt;
 3136       &lt;parameters&gt;
 3137         &lt;param id=&quot;thread&quot;&gt;
 3138           &lt;jthread null=&quot;current&quot;/&gt;
 3139           &lt;description&gt;
 3140             The thread whose current frame is to return early.
 3141           &lt;/description&gt;
 3142         &lt;/param&gt;
 3143         &lt;param id=&quot;value&quot;&gt;
 3144           &lt;jfloat/&gt;
 3145           &lt;description&gt;
 3146             The return value for the called frame.
 3147           &lt;/description&gt;
 3148         &lt;/param&gt;
 3149       &lt;/parameters&gt;
 3150       &lt;errors&gt;
 3151         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3152           Attempted to return early from a frame
 3153           corresponding to a native method.
 3154           Or the implementation is unable to provide
 3155           this functionality on this frame.
 3156         &lt;/error&gt;
 3157         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3158           The result type of the called method is not &lt;code&gt;float&lt;/code&gt;.
 3159         &lt;/error&gt;
 3160         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3161           Thread was not suspended and was not the current thread.
 3162         &lt;/error&gt;
 3163         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3164           There are no frames on the call stack.
 3165         &lt;/error&gt;
 3166       &lt;/errors&gt;
 3167     &lt;/function&gt;
 3168 
 3169     &lt;function id=&quot;ForceEarlyReturnDouble&quot; num=&quot;85&quot; since=&quot;1.1&quot;&gt;
 3170       &lt;synopsis&gt;Force Early Return - Double&lt;/synopsis&gt;
 3171       &lt;description&gt;
 3172         This function can be used to return from a method whose
 3173         result type is &lt;code&gt;double&lt;/code&gt;.
 3174       &lt;/description&gt;
 3175       &lt;origin&gt;new&lt;/origin&gt;
 3176       &lt;capabilities&gt;
 3177         &lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3178       &lt;/capabilities&gt;
 3179       &lt;parameters&gt;
 3180         &lt;param id=&quot;thread&quot;&gt;
 3181           &lt;jthread null=&quot;current&quot;/&gt;
 3182           &lt;description&gt;
 3183             The thread whose current frame is to return early.
 3184           &lt;/description&gt;
 3185         &lt;/param&gt;
 3186         &lt;param id=&quot;value&quot;&gt;
 3187           &lt;jdouble/&gt;
 3188           &lt;description&gt;
 3189             The return value for the called frame.
 3190           &lt;/description&gt;
 3191         &lt;/param&gt;
 3192       &lt;/parameters&gt;
 3193       &lt;errors&gt;
 3194         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3195           Attempted to return early from a frame corresponding to a native method.
 3196           Or the implementation is unable to provide this functionality on this frame.
 3197         &lt;/error&gt;
 3198         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3199           The result type of the called method is not &lt;code&gt;double&lt;/code&gt;.
 3200         &lt;/error&gt;
 3201         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3202           Thread was not suspended and was not the current thread.
 3203         &lt;/error&gt;
 3204         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3205           There are no frames on the call stack.
 3206         &lt;/error&gt;
 3207       &lt;/errors&gt;
 3208     &lt;/function&gt;
 3209 
 3210     &lt;function id=&quot;ForceEarlyReturnVoid&quot; num=&quot;86&quot; since=&quot;1.1&quot;&gt;
 3211       &lt;synopsis&gt;Force Early Return - Void&lt;/synopsis&gt;
 3212       &lt;description&gt;
 3213         This function can be used to return from a method with no result type.
 3214         That is, the called method must be declared &lt;code&gt;void&lt;/code&gt;.
 3215       &lt;/description&gt;
 3216       &lt;origin&gt;new&lt;/origin&gt;
 3217       &lt;capabilities&gt;
 3218         &lt;required id=&quot;can_force_early_return&quot;&gt;&lt;/required&gt;
 3219       &lt;/capabilities&gt;
 3220       &lt;parameters&gt;
 3221         &lt;param id=&quot;thread&quot;&gt;
 3222           &lt;jthread null=&quot;current&quot;/&gt;
 3223           &lt;description&gt;
 3224             The thread whose current frame is to return early.
 3225           &lt;/description&gt;
 3226         &lt;/param&gt;
 3227       &lt;/parameters&gt;
 3228       &lt;errors&gt;
 3229         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 3230           Attempted to return early from a frame
 3231           corresponding to a native method.
 3232           Or the implementation is unable to provide
 3233           this functionality on this frame.
 3234         &lt;/error&gt;
 3235         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 3236           The called method has a result type.
 3237         &lt;/error&gt;
 3238         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot;&gt;
 3239           Thread was not suspended and was not the current thread.
 3240         &lt;/error&gt;
 3241         &lt;error id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot;&gt;
 3242           There are no frames on the call stack.
 3243         &lt;/error&gt;
 3244       &lt;/errors&gt;
 3245     &lt;/function&gt;
 3246 
 3247   &lt;/category&gt;
 3248 
 3249   &lt;category id=&quot;Heap&quot; label=&quot;Heap&quot;&gt;
 3250     &lt;intro&gt;
 3251       These functions are used to analyze the heap.
 3252       Functionality includes the ability to view the objects in the
 3253       heap and to tag these objects.
 3254     &lt;/intro&gt;
 3255 
 3256     &lt;intro id=&quot;objectTags&quot; label=&quot;Object Tags&quot;&gt;
 3257       A &lt;i&gt;tag&lt;/i&gt; is a value associated with an object.
 3258       Tags are explicitly set by the agent using the
 3259       &lt;functionlink id=&quot;SetTag&quot;&gt;&lt;/functionlink&gt; function or by
 3260       callback functions such as &lt;functionlink id=&quot;jvmtiHeapIterationCallback&quot;/&gt;.
 3261       &lt;p/&gt;
 3262       Tags are local to the environment; that is, the tags of one
 3263       environment are not visible in another.
 3264       &lt;p/&gt;
 3265       Tags are &lt;code&gt;jlong&lt;/code&gt; values which can be used
 3266       simply to mark an object or to store a pointer to more detailed
 3267       information.  Objects which have not been tagged have a
 3268       tag of zero.
 3269       Setting a tag to zero makes the object untagged.
 3270     &lt;/intro&gt;
 3271 
 3272     &lt;intro id=&quot;heapCallbacks&quot; label=&quot;Heap Callback Functions&quot;&gt;
 3273         Heap functions which iterate through the heap and recursively
 3274         follow object references use agent supplied callback functions
 3275         to deliver the information.
 3276         &lt;p/&gt;
 3277         These heap callback functions must adhere to the following restrictions --
 3278         These callbacks must not use JNI functions.
 3279         These callbacks must not use &lt;jvmti/&gt; functions except
 3280         &lt;i&gt;callback safe&lt;/i&gt; functions which
 3281         specifically allow such use (see the raw monitor, memory management,
 3282         and environment local storage functions).
 3283         &lt;p/&gt;
 3284         An implementation may invoke a callback on an internal thread or
 3285         the thread which called the iteration function.
 3286         Heap callbacks are single threaded -- no more than one callback will
 3287         be invoked at a time.
 3288         &lt;p/&gt;
 3289         The Heap Filter Flags can be used to prevent reporting
 3290         based on the tag status of an object or its class.
 3291         If no flags are set (the &lt;code&gt;jint&lt;/code&gt; is zero), objects
 3292         will not be filtered out.
 3293 
 3294         &lt;constants id=&quot;jvmtiHeapFilter&quot; label=&quot;Heap Filter Flags&quot; kind=&quot;bits&quot;&gt;
 3295           &lt;constant id=&quot;JVMTI_HEAP_FILTER_TAGGED&quot; num=&quot;0x4&quot;&gt;
 3296             Filter out tagged objects. Objects which are tagged are not included.
 3297           &lt;/constant&gt;
 3298           &lt;constant id=&quot;JVMTI_HEAP_FILTER_UNTAGGED&quot; num=&quot;0x8&quot;&gt;
 3299             Filter out untagged objects. Objects which are not tagged are not included.
 3300           &lt;/constant&gt;
 3301           &lt;constant id=&quot;JVMTI_HEAP_FILTER_CLASS_TAGGED&quot; num=&quot;0x10&quot;&gt;
 3302             Filter out objects with tagged classes. Objects whose class is tagged are not included.
 3303           &lt;/constant&gt;
 3304           &lt;constant id=&quot;JVMTI_HEAP_FILTER_CLASS_UNTAGGED&quot; num=&quot;0x20&quot;&gt;
 3305             Filter out objects with untagged classes. Objects whose class is not tagged are not included.
 3306           &lt;/constant&gt;
 3307         &lt;/constants&gt;
 3308 
 3309         &lt;p/&gt;
 3310         The Heap Visit Control Flags are returned by the heap callbacks
 3311         and can be used to abort the iteration.  For the
 3312         &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;&gt;Heap
 3313         Reference Callback&lt;/functionlink&gt;, it can also be used
 3314         to prune the graph of traversed references
 3315         (&lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; is not set).
 3316 
 3317         &lt;constants id=&quot;jvmtiHeapVisitControl&quot;
 3318                    label=&quot;Heap Visit Control Flags&quot;
 3319                    kind=&quot;bits&quot;
 3320                    since=&quot;1.1&quot;&gt;
 3321           &lt;constant id=&quot;JVMTI_VISIT_OBJECTS&quot; num=&quot;0x100&quot;&gt;
 3322             If we are visiting an object and if this callback
 3323             was initiated by &lt;functionlink id=&quot;FollowReferences&quot;/&gt;,
 3324             traverse the references of this object.
 3325             Otherwise ignored.
 3326           &lt;/constant&gt;
 3327           &lt;constant id=&quot;JVMTI_VISIT_ABORT&quot; num=&quot;0x8000&quot;&gt;
 3328             Abort the iteration.  Ignore all other bits.
 3329           &lt;/constant&gt;
 3330         &lt;/constants&gt;
 3331 
 3332         &lt;p/&gt;
 3333         The Heap Reference Enumeration is provided by the
 3334         &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;&gt;Heap
 3335         Reference Callback&lt;/functionlink&gt; and
 3336         &lt;functionlink id=&quot;jvmtiPrimitiveFieldCallback&quot;&gt;Primitive Field
 3337         Callback&lt;/functionlink&gt; to
 3338         describe the kind of reference
 3339         being reported.
 3340 
 3341         &lt;constants id=&quot;jvmtiHeapReferenceKind&quot;
 3342                    label=&quot;Heap Reference Enumeration&quot;
 3343                    kind=&quot;enum&quot;
 3344                    since=&quot;1.1&quot;&gt;
 3345           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_CLASS&quot; num=&quot;1&quot;&gt;
 3346             Reference from an object to its class.
 3347           &lt;/constant&gt;
 3348           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot; num=&quot;2&quot;&gt;
 3349             Reference from an object to the value of one of its instance fields.
 3350           &lt;/constant&gt;
 3351           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_ARRAY_ELEMENT&quot; num=&quot;3&quot;&gt;
 3352             Reference from an array to one of its elements.
 3353           &lt;/constant&gt;
 3354           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_CLASS_LOADER&quot; num=&quot;4&quot;&gt;
 3355             Reference from a class to its class loader.
 3356           &lt;/constant&gt;
 3357           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_SIGNERS&quot; num=&quot;5&quot;&gt;
 3358             Reference from a class to its signers array.
 3359           &lt;/constant&gt;
 3360           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_PROTECTION_DOMAIN&quot; num=&quot;6&quot;&gt;
 3361             Reference from a class to its protection domain.
 3362           &lt;/constant&gt;
 3363           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_INTERFACE&quot; num=&quot;7&quot;&gt;
 3364             Reference from a class to one of its interfaces.
 3365             Note: interfaces are defined via a constant pool reference,
 3366             so the referenced interfaces may also be reported with a
 3367             &lt;code&gt;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&lt;/code&gt; reference kind.
 3368           &lt;/constant&gt;
 3369           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot; num=&quot;8&quot;&gt;
 3370             Reference from a class to the value of one of its static fields.
 3371           &lt;/constant&gt;
 3372           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&quot; num=&quot;9&quot;&gt;
 3373             Reference from a class to a resolved entry in the constant pool.
 3374           &lt;/constant&gt;
 3375           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_SUPERCLASS&quot; num=&quot;10&quot;&gt;
 3376             Reference from a class to its superclass.
 3377             A callback is not sent if the superclass is &lt;code&gt;java.lang.Object&lt;/code&gt;.
 3378             Note: loaded classes define superclasses via a constant pool
 3379             reference, so the referenced superclass may also be reported with
 3380             a &lt;code&gt;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&lt;/code&gt; reference kind.
 3381           &lt;/constant&gt;
 3382           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_JNI_GLOBAL&quot; num=&quot;21&quot;&gt;
 3383             Heap root reference: JNI global reference.
 3384           &lt;/constant&gt;
 3385           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_SYSTEM_CLASS&quot; num=&quot;22&quot;&gt;
 3386             Heap root reference: System class.
 3387           &lt;/constant&gt;
 3388           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_MONITOR&quot; num=&quot;23&quot;&gt;
 3389             Heap root reference: monitor.
 3390           &lt;/constant&gt;
 3391           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_STACK_LOCAL&quot; num=&quot;24&quot;&gt;
 3392             Heap root reference: local variable on the stack.
 3393           &lt;/constant&gt;
 3394           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_JNI_LOCAL&quot; num=&quot;25&quot;&gt;
 3395             Heap root reference: JNI local reference.
 3396           &lt;/constant&gt;
 3397           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_THREAD&quot; num=&quot;26&quot;&gt;
 3398             Heap root reference: Thread.
 3399           &lt;/constant&gt;
 3400           &lt;constant id=&quot;JVMTI_HEAP_REFERENCE_OTHER&quot; num=&quot;27&quot;&gt;
 3401             Heap root reference: other heap root reference.
 3402           &lt;/constant&gt;
 3403         &lt;/constants&gt;
 3404 
 3405         &lt;p/&gt;
 3406         Definitions for the single character type descriptors of
 3407         primitive types.
 3408 
 3409         &lt;constants id=&quot;jvmtiPrimitiveType&quot;
 3410                    label=&quot;Primitive Type Enumeration&quot;
 3411                    kind=&quot;enum&quot;
 3412                    since=&quot;1.1&quot;&gt;
 3413           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_BOOLEAN&quot; num=&quot;90&quot;&gt;
 3414             &#39;Z&#39; - Java programming language &lt;code&gt;boolean&lt;/code&gt; - JNI &lt;code&gt;jboolean&lt;/code&gt;
 3415           &lt;/constant&gt;
 3416           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_BYTE&quot; num=&quot;66&quot;&gt;
 3417             &#39;B&#39; - Java programming language &lt;code&gt;byte&lt;/code&gt; - JNI &lt;code&gt;jbyte&lt;/code&gt;
 3418           &lt;/constant&gt;
 3419           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_CHAR&quot; num=&quot;67&quot;&gt;
 3420             &#39;C&#39; - Java programming language &lt;code&gt;char&lt;/code&gt; - JNI &lt;code&gt;jchar&lt;/code&gt;
 3421           &lt;/constant&gt;
 3422           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_SHORT&quot; num=&quot;83&quot;&gt;
 3423             &#39;S&#39; - Java programming language &lt;code&gt;short&lt;/code&gt; - JNI &lt;code&gt;jshort&lt;/code&gt;
 3424           &lt;/constant&gt;
 3425           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_INT&quot; num=&quot;73&quot;&gt;
 3426             &#39;I&#39; - Java programming language &lt;code&gt;int&lt;/code&gt; - JNI &lt;code&gt;jint&lt;/code&gt;
 3427           &lt;/constant&gt;
 3428           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_LONG&quot; num=&quot;74&quot;&gt;
 3429             &#39;J&#39; - Java programming language &lt;code&gt;long&lt;/code&gt; - JNI &lt;code&gt;jlong&lt;/code&gt;
 3430           &lt;/constant&gt;
 3431           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_FLOAT&quot; num=&quot;70&quot;&gt;
 3432             &#39;F&#39; - Java programming language &lt;code&gt;float&lt;/code&gt; - JNI &lt;code&gt;jfloat&lt;/code&gt;
 3433           &lt;/constant&gt;
 3434           &lt;constant id=&quot;JVMTI_PRIMITIVE_TYPE_DOUBLE&quot; num=&quot;68&quot;&gt;
 3435             &#39;D&#39; - Java programming language &lt;code&gt;double&lt;/code&gt; - JNI &lt;code&gt;jdouble&lt;/code&gt;
 3436           &lt;/constant&gt;
 3437         &lt;/constants&gt;
 3438     &lt;/intro&gt;
 3439 
 3440       &lt;typedef id=&quot;jvmtiHeapReferenceInfoField&quot;
 3441                label=&quot;Reference information structure for Field references&quot;
 3442                since=&quot;1.1&quot;&gt;
 3443         &lt;description&gt;
 3444           Reference information returned for
 3445           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt; and
 3446           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt; references.
 3447         &lt;/description&gt;
 3448         &lt;field id=&quot;index&quot;&gt;
 3449           &lt;jint/&gt;
 3450           &lt;description&gt;
 3451             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt;, the
 3452             referrer object is not a class or an interface.
 3453             In this case, &lt;code&gt;index&lt;/code&gt; is the index of the field
 3454             in the class of the referrer object.
 3455             This class is referred to below as &lt;i&gt;C&lt;/i&gt;.
 3456             &lt;p/&gt;
 3457             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt;,
 3458             the referrer object is a class (referred to below as &lt;i&gt;C&lt;/i&gt;)
 3459             or an interface (referred to below as &lt;i&gt;I&lt;/i&gt;).
 3460             In this case, &lt;code&gt;index&lt;/code&gt; is the index of the field in
 3461             that class or interface.
 3462             &lt;p/&gt;
 3463             If the referrer object is not an interface, then the field
 3464             indices are determined as follows:
 3465             &lt;ul&gt;
 3466               &lt;li&gt;make a list of all the fields in &lt;i&gt;C&lt;/i&gt; and its
 3467                   superclasses, starting with all the fields in
 3468                   &lt;code&gt;java.lang.Object&lt;/code&gt; and ending with all the
 3469                   fields in &lt;i&gt;C&lt;/i&gt;.&lt;/li&gt;
 3470               &lt;li&gt;Within this list, put
 3471                   the fields for a given class in the order returned by
 3472                   &lt;functionlink id=&quot;GetClassFields&quot;/&gt;.&lt;/li&gt;
 3473               &lt;li&gt;Assign the fields in this list indices
 3474                   &lt;i&gt;n&lt;/i&gt;, &lt;i&gt;n&lt;/i&gt;+1, ..., in order, where &lt;i&gt;n&lt;/i&gt;
 3475                   is the count of the fields in all the interfaces
 3476                   implemented by &lt;i&gt;C&lt;/i&gt;.
 3477                   Note that &lt;i&gt;C&lt;/i&gt; implements all interfaces
 3478                   directly implemented by its superclasses; as well
 3479                   as all superinterfaces of these interfaces.&lt;/li&gt;
 3480             &lt;/ul&gt;
 3481             If the referrer object is an interface, then the field
 3482             indices are determined as follows:
 3483             &lt;ul&gt;
 3484               &lt;li&gt;make a list of the fields directly declared in
 3485                   &lt;i&gt;I&lt;/i&gt;.&lt;/li&gt;
 3486               &lt;li&gt;Within this list, put
 3487                   the fields in the order returned by
 3488                   &lt;functionlink id=&quot;GetClassFields&quot;/&gt;.&lt;/li&gt;
 3489               &lt;li&gt;Assign the fields in this list indices
 3490                   &lt;i&gt;n&lt;/i&gt;, &lt;i&gt;n&lt;/i&gt;+1, ..., in order, where &lt;i&gt;n&lt;/i&gt;
 3491                   is the count of the fields in all the superinterfaces
 3492                   of &lt;i&gt;I&lt;/i&gt;.&lt;/li&gt;
 3493             &lt;/ul&gt;
 3494             All fields are included in this computation, regardless of
 3495             field modifier (static, public, private, etc).
 3496             &lt;p/&gt;
 3497             For example, given the following classes and interfaces:
 3498             &lt;example&gt;
 3499 interface I0 {
 3500     int p = 0;
 3501 }
 3502 
 3503 interface I1 extends I0 {
 3504     int x = 1;
 3505 }
 3506 
 3507 interface I2 extends I0 {
 3508     int y = 2;
 3509 }
 3510 
 3511 class C1 implements I1 {
 3512     public static int a = 3;
 3513     private int b = 4;
 3514 }
 3515 
 3516 class C2 extends C1 implements I2 {
 3517     static int q = 5;
 3518     final int r = 6;
 3519 }
 3520             &lt;/example&gt;
 3521             Assume that &lt;functionlink id=&quot;GetClassFields&quot;/&gt; called on
 3522             &lt;code&gt;C1&lt;/code&gt; returns the fields of &lt;code&gt;C1&lt;/code&gt; in the
 3523             order: a, b; and that the fields of &lt;code&gt;C2&lt;/code&gt; are
 3524             returned in the order: q, r.
 3525             An instance of class &lt;code&gt;C1&lt;/code&gt; will have the
 3526             following field indices:
 3527             &lt;blockquote&gt;&lt;table&gt;
 3528               &lt;tr class=&quot;bgLight&quot;&gt;
 3529                 &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Field&lt;/th&gt;
 3530                 &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Index&lt;/th&gt;
 3531                 &lt;th scope=&quot;col&quot;&gt;Description&lt;/th&gt;
 3532               &lt;/tr&gt;
 3533               &lt;tr&gt;
 3534                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3535                   a
 3536                 &lt;/th&gt;
 3537                 &lt;td class=&quot;centered&quot;&gt;
 3538                   2
 3539                 &lt;/td&gt;
 3540                 &lt;td&gt;
 3541                   The count of the fields in the interfaces
 3542                   implemented by &lt;code&gt;C1&lt;/code&gt; is two (&lt;i&gt;n&lt;/i&gt;=2):
 3543                   &lt;code&gt;p&lt;/code&gt; of &lt;code&gt;I0&lt;/code&gt;
 3544                   and &lt;code&gt;x&lt;/code&gt; of &lt;code&gt;I1&lt;/code&gt;.
 3545                 &lt;/td&gt;
 3546               &lt;/tr&gt;
 3547               &lt;tr&gt;
 3548                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3549                   b
 3550                 &lt;/th&gt;
 3551                 &lt;td class=&quot;centered&quot;&gt;
 3552                   3
 3553                 &lt;/td&gt;
 3554                 &lt;td&gt;
 3555                   the subsequent index.
 3556                 &lt;/td&gt;
 3557               &lt;/tr&gt;
 3558             &lt;/table&gt;&lt;/blockquote&gt;
 3559             The class &lt;code&gt;C1&lt;/code&gt; will have the same field indices.
 3560             &lt;p/&gt;
 3561             An instance of class &lt;code&gt;C2&lt;/code&gt; will have the
 3562             following field indices:
 3563             &lt;blockquote&gt;&lt;table&gt;
 3564               &lt;tr class=&quot;bgLight&quot;&gt;
 3565                 &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Field&lt;/th&gt;
 3566                 &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Index&lt;/th&gt;
 3567                 &lt;th scope=&quot;col&quot;&gt;Description&lt;/th&gt;
 3568               &lt;/tr&gt;
 3569               &lt;tr&gt;
 3570                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3571                   a
 3572                 &lt;/th&gt;
 3573                 &lt;td class=&quot;centered&quot;&gt;
 3574                   3
 3575                 &lt;/td&gt;
 3576                 &lt;td&gt;
 3577                   The count of the fields in the interfaces
 3578                   implemented by &lt;code&gt;C2&lt;/code&gt; is three (&lt;i&gt;n&lt;/i&gt;=3):
 3579                   &lt;code&gt;p&lt;/code&gt; of &lt;code&gt;I0&lt;/code&gt;,
 3580                   &lt;code&gt;x&lt;/code&gt; of &lt;code&gt;I1&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; of &lt;code&gt;I2&lt;/code&gt;
 3581                   (an interface of &lt;code&gt;C2&lt;/code&gt;).  Note that the field &lt;code&gt;p&lt;/code&gt;
 3582                   of &lt;code&gt;I0&lt;/code&gt; is only included once.
 3583                 &lt;/td&gt;
 3584               &lt;/tr&gt;
 3585               &lt;tr&gt;
 3586                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3587                   b
 3588                 &lt;/th&gt;
 3589                 &lt;td class=&quot;centered&quot;&gt;
 3590                   4
 3591                 &lt;/td&gt;
 3592                 &lt;td&gt;
 3593                   the subsequent index to &quot;a&quot;.
 3594                 &lt;/td&gt;
 3595               &lt;/tr&gt;
 3596               &lt;tr&gt;
 3597                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3598                   q
 3599                 &lt;/th&gt;
 3600                 &lt;td class=&quot;centered&quot;&gt;
 3601                   5
 3602                 &lt;/td&gt;
 3603                 &lt;td&gt;
 3604                   the subsequent index to &quot;b&quot;.
 3605                 &lt;/td&gt;
 3606               &lt;/tr&gt;
 3607               &lt;tr&gt;
 3608                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3609                   r
 3610                 &lt;/th&gt;
 3611                 &lt;td class=&quot;centered&quot;&gt;
 3612                   6
 3613                 &lt;/td&gt;
 3614                 &lt;td&gt;
 3615                   the subsequent index to &quot;q&quot;.
 3616                 &lt;/td&gt;
 3617               &lt;/tr&gt;
 3618             &lt;/table&gt;&lt;/blockquote&gt;
 3619             The class &lt;code&gt;C2&lt;/code&gt; will have the same field indices.
 3620             Note that a field may have a different index depending on the
 3621             object that is viewing it -- for example field &quot;a&quot; above.
 3622             Note also: not all field indices may be visible from the
 3623             callbacks, but all indices are shown for illustrative purposes.
 3624             &lt;p/&gt;
 3625             The interface &lt;code&gt;I1&lt;/code&gt; will have the
 3626             following field indices:
 3627             &lt;blockquote&gt;&lt;table&gt;
 3628               &lt;tr class=&quot;bgLight&quot;&gt;
 3629                 &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Field&lt;/th&gt;
 3630                 &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Index&lt;/th&gt;
 3631                 &lt;th scope=&quot;col&quot;&gt;Description&lt;/th&gt;
 3632               &lt;/tr&gt;
 3633               &lt;tr&gt;
 3634                 &lt;th class=&quot;centered&quot; scope=&quot;row&quot;&gt;
 3635                   x
 3636                 &lt;/th&gt;
 3637                 &lt;td class=&quot;centered&quot;&gt;
 3638                   1
 3639                 &lt;/td&gt;
 3640                 &lt;td&gt;
 3641                   The count of the fields in the superinterfaces
 3642                   of &lt;code&gt;I1&lt;/code&gt; is one (&lt;i&gt;n&lt;/i&gt;=1):
 3643                   &lt;code&gt;p&lt;/code&gt; of &lt;code&gt;I0&lt;/code&gt;.
 3644                 &lt;/td&gt;
 3645               &lt;/tr&gt;
 3646             &lt;/table&gt;&lt;/blockquote&gt;
 3647           &lt;/description&gt;
 3648         &lt;/field&gt;
 3649       &lt;/typedef&gt;
 3650 
 3651       &lt;typedef id=&quot;jvmtiHeapReferenceInfoArray&quot;
 3652                label=&quot;Reference information structure for Array references&quot;
 3653                since=&quot;1.1&quot;&gt;
 3654         &lt;description&gt;
 3655           Reference information returned for
 3656          &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_ARRAY_ELEMENT&quot;/&gt; references.
 3657         &lt;/description&gt;
 3658         &lt;field id=&quot;index&quot;&gt;
 3659           &lt;jint/&gt;
 3660           &lt;description&gt;
 3661             The array index.
 3662           &lt;/description&gt;
 3663         &lt;/field&gt;
 3664       &lt;/typedef&gt;
 3665 
 3666       &lt;typedef id=&quot;jvmtiHeapReferenceInfoConstantPool&quot;
 3667                label=&quot;Reference information structure for Constant Pool references&quot;
 3668                since=&quot;1.1&quot;&gt;
 3669         &lt;description&gt;
 3670           Reference information returned for
 3671           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&quot;/&gt; references.
 3672         &lt;/description&gt;
 3673         &lt;field id=&quot;index&quot;&gt;
 3674           &lt;jint/&gt;
 3675           &lt;description&gt;
 3676             The index into the constant pool of the class. See the description in
 3677       &lt;vmspec chapter=&quot;4.4&quot;/&gt;.
 3678           &lt;/description&gt;
 3679         &lt;/field&gt;
 3680       &lt;/typedef&gt;
 3681 
 3682       &lt;typedef id=&quot;jvmtiHeapReferenceInfoStackLocal&quot;
 3683                label=&quot;Reference information structure for Local Variable references&quot;
 3684                since=&quot;1.1&quot;&gt;
 3685         &lt;description&gt;
 3686           Reference information returned for
 3687           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STACK_LOCAL&quot;/&gt; references.
 3688         &lt;/description&gt;
 3689         &lt;field id=&quot;thread_tag&quot;&gt;
 3690           &lt;jlong/&gt;
 3691           &lt;description&gt;
 3692             The tag of the thread corresponding to this stack, zero if not tagged.
 3693           &lt;/description&gt;
 3694         &lt;/field&gt;
 3695         &lt;field id=&quot;thread_id&quot;&gt;
 3696           &lt;jlong/&gt;
 3697           &lt;description&gt;
 3698             The unique thread ID of the thread corresponding to this stack.
 3699           &lt;/description&gt;
 3700         &lt;/field&gt;
 3701         &lt;field id=&quot;depth&quot;&gt;
 3702           &lt;jint/&gt;
 3703           &lt;description&gt;
 3704             The depth of the frame.
 3705           &lt;/description&gt;
 3706         &lt;/field&gt;
 3707         &lt;field id=&quot;method&quot;&gt;
 3708           &lt;jmethodID/&gt;
 3709           &lt;description&gt;
 3710             The method executing in this frame.
 3711           &lt;/description&gt;
 3712         &lt;/field&gt;
 3713         &lt;field id=&quot;location&quot;&gt;
 3714           &lt;jlocation/&gt;
 3715           &lt;description&gt;
 3716             The currently executing location in this frame.
 3717           &lt;/description&gt;
 3718         &lt;/field&gt;
 3719         &lt;field id=&quot;slot&quot;&gt;
 3720           &lt;jint/&gt;
 3721           &lt;description&gt;
 3722             The slot number of the local variable.
 3723           &lt;/description&gt;
 3724         &lt;/field&gt;
 3725       &lt;/typedef&gt;
 3726 
 3727       &lt;typedef id=&quot;jvmtiHeapReferenceInfoJniLocal&quot;
 3728                label=&quot;Reference information structure for JNI local references&quot;
 3729                since=&quot;1.1&quot;&gt;
 3730         &lt;description&gt;
 3731           Reference information returned for
 3732           &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_JNI_LOCAL&quot;/&gt; references.
 3733         &lt;/description&gt;
 3734         &lt;field id=&quot;thread_tag&quot;&gt;
 3735           &lt;jlong/&gt;
 3736           &lt;description&gt;
 3737             The tag of the thread corresponding to this stack, zero if not tagged.
 3738           &lt;/description&gt;
 3739         &lt;/field&gt;
 3740         &lt;field id=&quot;thread_id&quot;&gt;
 3741           &lt;jlong/&gt;
 3742           &lt;description&gt;
 3743             The unique thread ID of the thread corresponding to this stack.
 3744           &lt;/description&gt;
 3745         &lt;/field&gt;
 3746         &lt;field id=&quot;depth&quot;&gt;
 3747           &lt;jint/&gt;
 3748           &lt;description&gt;
 3749             The depth of the frame.
 3750           &lt;/description&gt;
 3751         &lt;/field&gt;
 3752         &lt;field id=&quot;method&quot;&gt;
 3753           &lt;jmethodID/&gt;
 3754           &lt;description&gt;
 3755             The method executing in this frame.
 3756           &lt;/description&gt;
 3757         &lt;/field&gt;
 3758       &lt;/typedef&gt;
 3759 
 3760       &lt;typedef id=&quot;jvmtiHeapReferenceInfoReserved&quot;
 3761                label=&quot;Reference information structure for Other references&quot;
 3762                since=&quot;1.1&quot;&gt;
 3763         &lt;description&gt;
 3764           Reference information returned for other references.
 3765         &lt;/description&gt;
 3766         &lt;field id=&quot;reserved1&quot;&gt;
 3767           &lt;jlong/&gt;
 3768           &lt;description&gt;
 3769             reserved for future use.
 3770           &lt;/description&gt;
 3771         &lt;/field&gt;
 3772         &lt;field id=&quot;reserved2&quot;&gt;
 3773           &lt;jlong/&gt;
 3774           &lt;description&gt;
 3775             reserved for future use.
 3776           &lt;/description&gt;
 3777         &lt;/field&gt;
 3778         &lt;field id=&quot;reserved3&quot;&gt;
 3779           &lt;jlong/&gt;
 3780           &lt;description&gt;
 3781             reserved for future use.
 3782           &lt;/description&gt;
 3783         &lt;/field&gt;
 3784         &lt;field id=&quot;reserved4&quot;&gt;
 3785           &lt;jlong/&gt;
 3786           &lt;description&gt;
 3787             reserved for future use.
 3788           &lt;/description&gt;
 3789         &lt;/field&gt;
 3790         &lt;field id=&quot;reserved5&quot;&gt;
 3791           &lt;jlong/&gt;
 3792           &lt;description&gt;
 3793             reserved for future use.
 3794           &lt;/description&gt;
 3795         &lt;/field&gt;
 3796         &lt;field id=&quot;reserved6&quot;&gt;
 3797           &lt;jlong/&gt;
 3798           &lt;description&gt;
 3799             reserved for future use.
 3800           &lt;/description&gt;
 3801         &lt;/field&gt;
 3802         &lt;field id=&quot;reserved7&quot;&gt;
 3803           &lt;jlong/&gt;
 3804           &lt;description&gt;
 3805             reserved for future use.
 3806           &lt;/description&gt;
 3807         &lt;/field&gt;
 3808         &lt;field id=&quot;reserved8&quot;&gt;
 3809           &lt;jlong/&gt;
 3810           &lt;description&gt;
 3811             reserved for future use.
 3812           &lt;/description&gt;
 3813         &lt;/field&gt;
 3814       &lt;/typedef&gt;
 3815 
 3816       &lt;uniontypedef id=&quot;jvmtiHeapReferenceInfo&quot;
 3817                label=&quot;Reference information structure&quot;
 3818                since=&quot;1.1&quot;&gt;
 3819         &lt;description&gt;
 3820           The information returned about referrers.
 3821           Represented as a union of the various kinds of reference information.
 3822         &lt;/description&gt;
 3823         &lt;field id=&quot;field&quot;&gt;
 3824           &lt;struct&gt;jvmtiHeapReferenceInfoField&lt;/struct&gt;
 3825           &lt;description&gt;
 3826             The referrer information for
 3827             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt;
 3828             and &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt; references.
 3829           &lt;/description&gt;
 3830         &lt;/field&gt;
 3831         &lt;field id=&quot;array&quot;&gt;
 3832           &lt;struct&gt;jvmtiHeapReferenceInfoArray&lt;/struct&gt;
 3833           &lt;description&gt;
 3834             The referrer information for
 3835             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_ARRAY_ELEMENT&quot;/&gt; references.
 3836           &lt;/description&gt;
 3837         &lt;/field&gt;
 3838         &lt;field id=&quot;constant_pool&quot;&gt;
 3839           &lt;struct&gt;jvmtiHeapReferenceInfoConstantPool&lt;/struct&gt;
 3840           &lt;description&gt;
 3841             The referrer information for
 3842             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&quot;/&gt; references.
 3843           &lt;/description&gt;
 3844         &lt;/field&gt;
 3845         &lt;field id=&quot;stack_local&quot;&gt;
 3846           &lt;struct&gt;jvmtiHeapReferenceInfoStackLocal&lt;/struct&gt;
 3847           &lt;description&gt;
 3848             The referrer information for
 3849             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STACK_LOCAL&quot;/&gt; references.
 3850           &lt;/description&gt;
 3851         &lt;/field&gt;
 3852         &lt;field id=&quot;jni_local&quot;&gt;
 3853           &lt;struct&gt;jvmtiHeapReferenceInfoJniLocal&lt;/struct&gt;
 3854           &lt;description&gt;
 3855             The referrer information for
 3856             For &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_JNI_LOCAL&quot;/&gt; references.
 3857           &lt;/description&gt;
 3858         &lt;/field&gt;
 3859         &lt;field id=&quot;other&quot;&gt;
 3860           &lt;struct&gt;jvmtiHeapReferenceInfoReserved&lt;/struct&gt;
 3861           &lt;description&gt;
 3862             reserved for future use.
 3863           &lt;/description&gt;
 3864         &lt;/field&gt;
 3865       &lt;/uniontypedef&gt;
 3866 
 3867       &lt;typedef id=&quot;jvmtiHeapCallbacks&quot;
 3868                label=&quot;Heap callback function structure&quot;
 3869                since=&quot;1.1&quot;&gt;
 3870         &lt;field id=&quot;heap_iteration_callback&quot;&gt;
 3871           &lt;ptrtype&gt;
 3872             &lt;struct&gt;jvmtiHeapIterationCallback&lt;/struct&gt;
 3873           &lt;/ptrtype&gt;
 3874           &lt;description&gt;
 3875             The callback to be called to describe an
 3876             object in the heap. Used by the
 3877             &lt;functionlink id=&quot;IterateThroughHeap&quot;/&gt; function, ignored by the
 3878             &lt;functionlink id=&quot;FollowReferences&quot;/&gt; function.
 3879           &lt;/description&gt;
 3880         &lt;/field&gt;
 3881         &lt;field id=&quot;heap_reference_callback&quot;&gt;
 3882           &lt;ptrtype&gt;
 3883             &lt;struct&gt;jvmtiHeapReferenceCallback&lt;/struct&gt;
 3884           &lt;/ptrtype&gt;
 3885           &lt;description&gt;
 3886             The callback to be called to describe an
 3887             object reference.  Used by the
 3888             &lt;functionlink id=&quot;FollowReferences&quot;/&gt; function, ignored by the
 3889             &lt;functionlink id=&quot;IterateThroughHeap&quot;/&gt; function.
 3890           &lt;/description&gt;
 3891         &lt;/field&gt;
 3892         &lt;field id=&quot;primitive_field_callback&quot;&gt;
 3893           &lt;ptrtype&gt;
 3894             &lt;struct&gt;jvmtiPrimitiveFieldCallback&lt;/struct&gt;
 3895           &lt;/ptrtype&gt;
 3896           &lt;description&gt;
 3897             The callback to be called to describe a
 3898             primitive field.
 3899           &lt;/description&gt;
 3900         &lt;/field&gt;
 3901         &lt;field id=&quot;array_primitive_value_callback&quot;&gt;
 3902           &lt;ptrtype&gt;
 3903             &lt;struct&gt;jvmtiArrayPrimitiveValueCallback&lt;/struct&gt;
 3904           &lt;/ptrtype&gt;
 3905           &lt;description&gt;
 3906             The callback to be called to describe an
 3907             array of primitive values.
 3908           &lt;/description&gt;
 3909         &lt;/field&gt;
 3910         &lt;field id=&quot;string_primitive_value_callback&quot;&gt;
 3911           &lt;ptrtype&gt;
 3912             &lt;struct&gt;jvmtiStringPrimitiveValueCallback&lt;/struct&gt;
 3913           &lt;/ptrtype&gt;
 3914           &lt;description&gt;
 3915             The callback to be called to describe a String value.
 3916           &lt;/description&gt;
 3917         &lt;/field&gt;
 3918         &lt;field id=&quot;reserved5&quot;&gt;
 3919           &lt;ptrtype&gt;
 3920             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3921           &lt;/ptrtype&gt;
 3922           &lt;description&gt;
 3923             Reserved for future use..
 3924           &lt;/description&gt;
 3925         &lt;/field&gt;
 3926         &lt;field id=&quot;reserved6&quot;&gt;
 3927           &lt;ptrtype&gt;
 3928             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3929           &lt;/ptrtype&gt;
 3930           &lt;description&gt;
 3931             Reserved for future use..
 3932           &lt;/description&gt;
 3933         &lt;/field&gt;
 3934         &lt;field id=&quot;reserved7&quot;&gt;
 3935           &lt;ptrtype&gt;
 3936             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3937           &lt;/ptrtype&gt;
 3938           &lt;description&gt;
 3939             Reserved for future use..
 3940           &lt;/description&gt;
 3941         &lt;/field&gt;
 3942         &lt;field id=&quot;reserved8&quot;&gt;
 3943           &lt;ptrtype&gt;
 3944             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3945           &lt;/ptrtype&gt;
 3946           &lt;description&gt;
 3947             Reserved for future use..
 3948           &lt;/description&gt;
 3949         &lt;/field&gt;
 3950         &lt;field id=&quot;reserved9&quot;&gt;
 3951           &lt;ptrtype&gt;
 3952             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3953           &lt;/ptrtype&gt;
 3954           &lt;description&gt;
 3955             Reserved for future use..
 3956           &lt;/description&gt;
 3957         &lt;/field&gt;
 3958         &lt;field id=&quot;reserved10&quot;&gt;
 3959           &lt;ptrtype&gt;
 3960             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3961           &lt;/ptrtype&gt;
 3962           &lt;description&gt;
 3963             Reserved for future use..
 3964           &lt;/description&gt;
 3965         &lt;/field&gt;
 3966         &lt;field id=&quot;reserved11&quot;&gt;
 3967           &lt;ptrtype&gt;
 3968             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3969           &lt;/ptrtype&gt;
 3970           &lt;description&gt;
 3971             Reserved for future use..
 3972           &lt;/description&gt;
 3973         &lt;/field&gt;
 3974         &lt;field id=&quot;reserved12&quot;&gt;
 3975           &lt;ptrtype&gt;
 3976             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3977           &lt;/ptrtype&gt;
 3978           &lt;description&gt;
 3979             Reserved for future use..
 3980           &lt;/description&gt;
 3981         &lt;/field&gt;
 3982         &lt;field id=&quot;reserved13&quot;&gt;
 3983           &lt;ptrtype&gt;
 3984             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3985           &lt;/ptrtype&gt;
 3986           &lt;description&gt;
 3987             Reserved for future use..
 3988           &lt;/description&gt;
 3989         &lt;/field&gt;
 3990         &lt;field id=&quot;reserved14&quot;&gt;
 3991           &lt;ptrtype&gt;
 3992             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 3993           &lt;/ptrtype&gt;
 3994           &lt;description&gt;
 3995             Reserved for future use..
 3996           &lt;/description&gt;
 3997         &lt;/field&gt;
 3998         &lt;field id=&quot;reserved15&quot;&gt;
 3999           &lt;ptrtype&gt;
 4000             &lt;struct&gt;jvmtiReservedCallback&lt;/struct&gt;
 4001           &lt;/ptrtype&gt;
 4002           &lt;description&gt;
 4003             Reserved for future use..
 4004           &lt;/description&gt;
 4005         &lt;/field&gt;
 4006       &lt;/typedef&gt;
 4007 
 4008 
 4009     &lt;intro&gt;
 4010       &lt;rationale&gt;
 4011         The heap dumping functionality (below) uses a callback
 4012         for each object.  While it would seem that a buffered approach
 4013         would provide better throughput, tests do
 4014         not show this to be the case--possibly due to locality of
 4015         memory reference or array access overhead.
 4016       &lt;/rationale&gt;
 4017 
 4018       &lt;issue&gt;
 4019         Still under investigation as to if java.lang.ref references
 4020         are reported as a different type of reference.
 4021       &lt;/issue&gt;
 4022 
 4023       &lt;issue&gt;
 4024         Should or can an indication of the cost or relative cost of
 4025         these operations be included?
 4026       &lt;/issue&gt;
 4027 
 4028     &lt;/intro&gt;
 4029 
 4030     &lt;callback id=&quot;jvmtiHeapIterationCallback&quot; since=&quot;1.1&quot;&gt;
 4031       &lt;jint/&gt;
 4032       &lt;synopsis&gt;Heap Iteration Callback&lt;/synopsis&gt;
 4033       &lt;description&gt;
 4034         Agent supplied callback function.
 4035         Describes (but does not pass in) an object in the heap.
 4036         &lt;p/&gt;
 4037         This function should return a bit vector of the desired
 4038         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4039         This will determine if the entire iteration should be aborted
 4040         (the &lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; flag is ignored).
 4041         &lt;p/&gt;
 4042         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4043         function restrictions&lt;/internallink&gt;.
 4044       &lt;/description&gt;
 4045       &lt;parameters&gt;
 4046         &lt;param id=&quot;class_tag&quot;&gt;
 4047           &lt;jlong/&gt;
 4048           &lt;description&gt;
 4049             The tag of the class of object (zero if the class is not tagged).
 4050             If the object represents a runtime class,
 4051             the &lt;code&gt;class_tag&lt;/code&gt; is the tag
 4052             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 4053             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 4054           &lt;/description&gt;
 4055         &lt;/param&gt;
 4056         &lt;param id=&quot;size&quot;&gt;
 4057           &lt;jlong/&gt;
 4058           &lt;description&gt;
 4059             Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 4060           &lt;/description&gt;
 4061         &lt;/param&gt;
 4062         &lt;param id=&quot;tag_ptr&quot;&gt;
 4063           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4064           &lt;description&gt;
 4065             The object tag value, or zero if the object is not tagged.
 4066             To set the tag value to be associated with the object
 4067             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4068           &lt;/description&gt;
 4069         &lt;/param&gt;
 4070         &lt;param id=&quot;length&quot;&gt;
 4071           &lt;jint/&gt;
 4072           &lt;description&gt;
 4073             If this object is an array, the length of the array. Otherwise negative one (-1).
 4074           &lt;/description&gt;
 4075         &lt;/param&gt;
 4076         &lt;param id=&quot;user_data&quot;&gt;
 4077           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4078           &lt;description&gt;
 4079             The user supplied data that was passed into the iteration function.
 4080           &lt;/description&gt;
 4081         &lt;/param&gt;
 4082       &lt;/parameters&gt;
 4083     &lt;/callback&gt;
 4084 
 4085     &lt;callback id=&quot;jvmtiHeapReferenceCallback&quot; since=&quot;1.1&quot;&gt;
 4086       &lt;jint/&gt;
 4087       &lt;synopsis&gt;Heap Reference Callback&lt;/synopsis&gt;
 4088       &lt;description&gt;
 4089         Agent supplied callback function.
 4090         Describes a reference from an object or the VM (the referrer) to another object
 4091         (the referree) or a heap root to a referree.
 4092         &lt;p/&gt;
 4093         This function should return a bit vector of the desired
 4094         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4095         This will determine if the objects referenced by the referree
 4096         should be visited or if the entire iteration should be aborted.
 4097         &lt;p/&gt;
 4098         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4099         function restrictions&lt;/internallink&gt;.
 4100       &lt;/description&gt;
 4101       &lt;parameters&gt;
 4102         &lt;param id=&quot;reference_kind&quot;&gt;
 4103           &lt;enum&gt;jvmtiHeapReferenceKind&lt;/enum&gt;
 4104           &lt;description&gt;
 4105             The kind of reference.
 4106           &lt;/description&gt;
 4107         &lt;/param&gt;
 4108         &lt;param id=&quot;reference_info&quot;&gt;
 4109           &lt;inptr&gt;
 4110             &lt;struct&gt;jvmtiHeapReferenceInfo&lt;/struct&gt;
 4111           &lt;/inptr&gt;
 4112           &lt;description&gt;
 4113             Details about the reference.
 4114             Set when the &lt;datalink id=&quot;jvmtiHeapReferenceCallback.reference_kind&quot;&gt;reference_kind&lt;/datalink&gt; is
 4115             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt;,
 4116             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt;,
 4117             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_ARRAY_ELEMENT&quot;/&gt;,
 4118             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_CONSTANT_POOL&quot;/&gt;,
 4119             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STACK_LOCAL&quot;/&gt;,
 4120             or &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_JNI_LOCAL&quot;/&gt;.
 4121             Otherwise &lt;code&gt;NULL&lt;/code&gt;.
 4122           &lt;/description&gt;
 4123         &lt;/param&gt;
 4124         &lt;param id=&quot;class_tag&quot;&gt;
 4125           &lt;jlong/&gt;
 4126           &lt;description&gt;
 4127             The tag of the class of referree object (zero if the class is not tagged).
 4128             If the referree object represents a runtime class,
 4129             the &lt;code&gt;class_tag&lt;/code&gt; is the tag
 4130             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 4131             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 4132           &lt;/description&gt;
 4133         &lt;/param&gt;
 4134         &lt;param id=&quot;referrer_class_tag&quot;&gt;
 4135           &lt;jlong/&gt;
 4136           &lt;description&gt;
 4137             The tag of the class of the referrer object (zero if the class is not tagged
 4138             or the referree is a heap root). If the referrer object represents a runtime
 4139             class, the &lt;code&gt;referrer_class_tag&lt;/code&gt; is the tag associated with
 4140             the &lt;code&gt;java.lang.Class&lt;/code&gt;
 4141             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 4142           &lt;/description&gt;
 4143         &lt;/param&gt;
 4144         &lt;param id=&quot;size&quot;&gt;
 4145           &lt;jlong/&gt;
 4146           &lt;description&gt;
 4147             Size of the referree object (in bytes).
 4148             See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 4149           &lt;/description&gt;
 4150         &lt;/param&gt;
 4151         &lt;param id=&quot;tag_ptr&quot;&gt;
 4152           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4153           &lt;description&gt;
 4154             Points to the referree object tag value, or zero if the object is not
 4155             tagged.
 4156             To set the tag value to be associated with the object
 4157             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4158           &lt;/description&gt;
 4159         &lt;/param&gt;
 4160         &lt;param id=&quot;referrer_tag_ptr&quot;&gt;
 4161           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4162           &lt;description&gt;
 4163             Points to the tag of the referrer object, or
 4164             points to the zero if the referrer
 4165             object is not tagged.
 4166             &lt;code&gt;NULL&lt;/code&gt; if the referrer in not an object (that is,
 4167             this callback is reporting a heap root).
 4168             To set the tag value to be associated with the referrer object
 4169             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4170             If this callback is reporting a reference from an object to itself,
 4171             &lt;code&gt;referrer_tag_ptr == tag_ptr&lt;/code&gt;.
 4172           &lt;/description&gt;
 4173         &lt;/param&gt;
 4174         &lt;param id=&quot;length&quot;&gt;
 4175           &lt;jint/&gt;
 4176           &lt;description&gt;
 4177             If this object is an array, the length of the array. Otherwise negative one (-1).
 4178           &lt;/description&gt;
 4179         &lt;/param&gt;
 4180         &lt;param id=&quot;user_data&quot;&gt;
 4181           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4182           &lt;description&gt;
 4183             The user supplied data that was passed into the iteration function.
 4184           &lt;/description&gt;
 4185         &lt;/param&gt;
 4186       &lt;/parameters&gt;
 4187     &lt;/callback&gt;
 4188 
 4189     &lt;callback id=&quot;jvmtiPrimitiveFieldCallback&quot; since=&quot;1.1&quot;&gt;
 4190       &lt;jint/&gt;
 4191       &lt;synopsis&gt;Primitive Field Callback&lt;/synopsis&gt;
 4192       &lt;description&gt;
 4193         Agent supplied callback function which
 4194         describes a primitive field of an object (&lt;i&gt;the object&lt;/i&gt;).
 4195         A primitive field is a field whose type is a primitive type.
 4196         This callback will describe a static field if the object is a class,
 4197         and otherwise will describe an instance field.
 4198         &lt;p/&gt;
 4199         This function should return a bit vector of the desired
 4200         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4201         This will determine if the entire iteration should be aborted
 4202         (the &lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; flag is ignored).
 4203         &lt;p/&gt;
 4204         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4205         function restrictions&lt;/internallink&gt;.
 4206       &lt;/description&gt;
 4207       &lt;parameters&gt;
 4208         &lt;param id=&quot;kind&quot;&gt;
 4209           &lt;enum&gt;jvmtiHeapReferenceKind&lt;/enum&gt;
 4210           &lt;description&gt;
 4211             The kind of field -- instance or static (&lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_FIELD&quot;/&gt; or
 4212             &lt;datalink id=&quot;JVMTI_HEAP_REFERENCE_STATIC_FIELD&quot;/&gt;).
 4213           &lt;/description&gt;
 4214         &lt;/param&gt;
 4215         &lt;param id=&quot;info&quot;&gt;
 4216           &lt;inptr&gt;
 4217             &lt;struct&gt;jvmtiHeapReferenceInfo&lt;/struct&gt;
 4218           &lt;/inptr&gt;
 4219           &lt;description&gt;
 4220             Which field (the field index).
 4221           &lt;/description&gt;
 4222         &lt;/param&gt;
 4223         &lt;param id=&quot;object_class_tag&quot;&gt;
 4224           &lt;jlong/&gt;
 4225           &lt;description&gt;
 4226             The tag of the class of the object (zero if the class is not tagged).
 4227             If the object represents a runtime class, the
 4228             &lt;code&gt;object_class_tag&lt;/code&gt; is the tag
 4229             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 4230             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 4231           &lt;/description&gt;
 4232         &lt;/param&gt;
 4233         &lt;param id=&quot;object_tag_ptr&quot;&gt;
 4234           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4235           &lt;description&gt;
 4236             Points to the tag of the object, or zero if the object is not
 4237             tagged.
 4238             To set the tag value to be associated with the object
 4239             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4240           &lt;/description&gt;
 4241         &lt;/param&gt;
 4242         &lt;param id=&quot;value&quot;&gt;
 4243           &lt;jvalue/&gt;
 4244           &lt;description&gt;
 4245             The value of the field.
 4246           &lt;/description&gt;
 4247         &lt;/param&gt;
 4248         &lt;param id=&quot;value_type&quot;&gt;
 4249           &lt;enum&gt;jvmtiPrimitiveType&lt;/enum&gt;
 4250           &lt;description&gt;
 4251             The type of the field.
 4252           &lt;/description&gt;
 4253         &lt;/param&gt;
 4254         &lt;param id=&quot;user_data&quot;&gt;
 4255           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4256           &lt;description&gt;
 4257             The user supplied data that was passed into the iteration function.
 4258           &lt;/description&gt;
 4259         &lt;/param&gt;
 4260       &lt;/parameters&gt;
 4261     &lt;/callback&gt;
 4262 
 4263     &lt;callback id=&quot;jvmtiArrayPrimitiveValueCallback&quot; since=&quot;1.1&quot;&gt;
 4264       &lt;jint/&gt;
 4265       &lt;synopsis&gt;Array Primitive Value Callback&lt;/synopsis&gt;
 4266       &lt;description&gt;
 4267         Agent supplied callback function.
 4268         Describes the values in an array of a primitive type.
 4269         &lt;p/&gt;
 4270         This function should return a bit vector of the desired
 4271         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4272         This will determine if the entire iteration should be aborted
 4273         (the &lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; flag is ignored).
 4274         &lt;p/&gt;
 4275         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4276         function restrictions&lt;/internallink&gt;.
 4277       &lt;/description&gt;
 4278       &lt;parameters&gt;
 4279         &lt;param id=&quot;class_tag&quot;&gt;
 4280           &lt;jlong/&gt;
 4281           &lt;description&gt;
 4282             The tag of the class of the array object (zero if the class is not tagged).
 4283           &lt;/description&gt;
 4284         &lt;/param&gt;
 4285         &lt;param id=&quot;size&quot;&gt;
 4286           &lt;jlong/&gt;
 4287           &lt;description&gt;
 4288             Size of the array (in bytes).
 4289             See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 4290           &lt;/description&gt;
 4291         &lt;/param&gt;
 4292         &lt;param id=&quot;tag_ptr&quot;&gt;
 4293           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4294           &lt;description&gt;
 4295             Points to the tag of the array object, or zero if the object is not
 4296             tagged.
 4297             To set the tag value to be associated with the object
 4298             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4299           &lt;/description&gt;
 4300         &lt;/param&gt;
 4301         &lt;param id=&quot;element_count&quot;&gt;
 4302           &lt;jint/&gt;
 4303           &lt;description&gt;
 4304             The length of the primitive array.
 4305           &lt;/description&gt;
 4306         &lt;/param&gt;
 4307         &lt;param id=&quot;element_type&quot;&gt;
 4308           &lt;enum&gt;jvmtiPrimitiveType&lt;/enum&gt;
 4309           &lt;description&gt;
 4310             The type of the elements of the array.
 4311           &lt;/description&gt;
 4312         &lt;/param&gt;
 4313         &lt;param id=&quot;elements&quot;&gt;
 4314           &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
 4315           &lt;description&gt;
 4316             The elements of the array in a packed array of &lt;code&gt;element_count&lt;/code&gt;
 4317             items of &lt;code&gt;element_type&lt;/code&gt; size each.
 4318           &lt;/description&gt;
 4319         &lt;/param&gt;
 4320         &lt;param id=&quot;user_data&quot;&gt;
 4321           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4322           &lt;description&gt;
 4323             The user supplied data that was passed into the iteration function.
 4324           &lt;/description&gt;
 4325         &lt;/param&gt;
 4326       &lt;/parameters&gt;
 4327     &lt;/callback&gt;
 4328 
 4329     &lt;callback id=&quot;jvmtiStringPrimitiveValueCallback&quot; since=&quot;1.1&quot;&gt;
 4330       &lt;jint/&gt;
 4331       &lt;synopsis&gt;String Primitive Value Callback&lt;/synopsis&gt;
 4332       &lt;description&gt;
 4333         Agent supplied callback function.
 4334         Describes the value of a java.lang.String.
 4335         &lt;p/&gt;
 4336         This function should return a bit vector of the desired
 4337         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;.
 4338         This will determine if the entire iteration should be aborted
 4339         (the &lt;code&gt;JVMTI_VISIT_OBJECTS&lt;/code&gt; flag is ignored).
 4340         &lt;p/&gt;
 4341         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 4342         function restrictions&lt;/internallink&gt;.
 4343       &lt;/description&gt;
 4344       &lt;parameters&gt;
 4345         &lt;param id=&quot;class_tag&quot;&gt;
 4346           &lt;jlong/&gt;
 4347           &lt;description&gt;
 4348             The tag of the class of the String class (zero if the class is not tagged).
 4349             &lt;issue&gt;Is this needed?&lt;/issue&gt;
 4350           &lt;/description&gt;
 4351         &lt;/param&gt;
 4352         &lt;param id=&quot;size&quot;&gt;
 4353           &lt;jlong/&gt;
 4354           &lt;description&gt;
 4355             Size of the string (in bytes).
 4356             See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 4357           &lt;/description&gt;
 4358         &lt;/param&gt;
 4359         &lt;param id=&quot;tag_ptr&quot;&gt;
 4360           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4361           &lt;description&gt;
 4362             Points to the tag of the String object, or zero if the object is not
 4363             tagged.
 4364             To set the tag value to be associated with the object
 4365             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 4366           &lt;/description&gt;
 4367         &lt;/param&gt;
 4368         &lt;param id=&quot;value&quot;&gt;
 4369           &lt;vmbuf&gt;&lt;jchar/&gt;&lt;/vmbuf&gt;
 4370           &lt;description&gt;
 4371             The value of the String, encoded as a Unicode string.
 4372           &lt;/description&gt;
 4373         &lt;/param&gt;
 4374         &lt;param id=&quot;value_length&quot;&gt;
 4375           &lt;jint/&gt;
 4376           &lt;description&gt;
 4377             The length of the string.
 4378             The length is equal to the number of 16-bit Unicode
 4379             characters in the string.
 4380           &lt;/description&gt;
 4381         &lt;/param&gt;
 4382         &lt;param id=&quot;user_data&quot;&gt;
 4383           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 4384           &lt;description&gt;
 4385             The user supplied data that was passed into the iteration function.
 4386           &lt;/description&gt;
 4387         &lt;/param&gt;
 4388       &lt;/parameters&gt;
 4389     &lt;/callback&gt;
 4390 
 4391 
 4392     &lt;callback id=&quot;jvmtiReservedCallback&quot; since=&quot;1.1&quot;&gt;
 4393       &lt;jint/&gt;
 4394       &lt;synopsis&gt;reserved for future use Callback&lt;/synopsis&gt;
 4395       &lt;description&gt;
 4396         Placeholder -- reserved for future use.
 4397       &lt;/description&gt;
 4398       &lt;parameters&gt;
 4399       &lt;/parameters&gt;
 4400     &lt;/callback&gt;
 4401 
 4402     &lt;function id=&quot;FollowReferences&quot; num=&quot;115&quot; since=&quot;1.1&quot;&gt;
 4403       &lt;synopsis&gt;Follow References&lt;/synopsis&gt;
 4404       &lt;description&gt;
 4405         This function initiates a traversal over the objects that are
 4406         directly and indirectly reachable from the specified object or,
 4407         if &lt;code&gt;initial_object&lt;/code&gt; is not specified, all objects
 4408         reachable from the heap roots.
 4409         The heap root are the set of system classes,
 4410         JNI globals, references from thread stacks, and other objects used as roots
 4411         for the purposes of garbage collection.
 4412         &lt;p/&gt;
 4413         This function operates by traversing the reference graph.
 4414         Let &lt;i&gt;A&lt;/i&gt;, &lt;i&gt;B&lt;/i&gt;, ... represent objects.
 4415         When a reference from &lt;i&gt;A&lt;/i&gt; to &lt;i&gt;B&lt;/i&gt; is traversed,
 4416         when a reference from a heap root to &lt;i&gt;B&lt;/i&gt; is traversed,
 4417         or when &lt;i&gt;B&lt;/i&gt; is specified as the &lt;paramlink id=&quot;initial_object&quot;/&gt;,
 4418         then &lt;i&gt;B&lt;/i&gt; is said to be &lt;i&gt;visited&lt;/i&gt;.
 4419         A reference from &lt;i&gt;A&lt;/i&gt; to &lt;i&gt;B&lt;/i&gt; is not traversed until &lt;i&gt;A&lt;/i&gt;
 4420         is visited.
 4421         References are reported in the same order that the references are traversed.
 4422         Object references are reported by invoking the agent supplied
 4423         callback function &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;/&gt;.
 4424         In a reference from &lt;i&gt;A&lt;/i&gt; to &lt;i&gt;B&lt;/i&gt;, &lt;i&gt;A&lt;/i&gt; is known
 4425         as the &lt;i&gt;referrer&lt;/i&gt; and &lt;i&gt;B&lt;/i&gt; as the &lt;i&gt;referree&lt;/i&gt;.
 4426         The callback is invoked exactly once for each reference from a referrer;
 4427         this is true even if there are reference cycles or multiple paths to
 4428         the referrer.
 4429         There may be more than one reference between a referrer and a referree,
 4430         each reference is reported.
 4431         These references may be distinguished by examining the
 4432         &lt;datalink
 4433          id=&quot;jvmtiHeapReferenceCallback.reference_kind&quot;&gt;&lt;code&gt;reference_kind&lt;/code&gt;&lt;/datalink&gt;
 4434          and
 4435         &lt;datalink
 4436          id=&quot;jvmtiHeapReferenceCallback.reference_info&quot;&gt;&lt;code&gt;reference_info&lt;/code&gt;&lt;/datalink&gt;
 4437         parameters of the &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;/&gt; callback.
 4438         &lt;p/&gt;
 4439         This function reports a Java programming language view of object references,
 4440         not a virtual machine implementation view. The following object references
 4441         are reported when they are non-null:
 4442         &lt;ul&gt;
 4443           &lt;li&gt;Instance objects report references to each non-primitive instance fields
 4444               (including inherited fields).&lt;/li&gt;
 4445           &lt;li&gt;Instance objects report a reference to the object type (class).&lt;/li&gt;
 4446           &lt;li&gt;Classes report a reference to the superclass and directly
 4447               implemented/extended interfaces.&lt;/li&gt;
 4448           &lt;li&gt;Classes report a reference to the class loader, protection domain,
 4449               signers, and resolved entries in the constant pool.&lt;/li&gt;
 4450           &lt;li&gt;Classes report a reference to each directly declared non-primitive
 4451               static field.&lt;/li&gt;
 4452           &lt;li&gt;Arrays report a reference to the array type (class) and each
 4453               array element.&lt;/li&gt;
 4454           &lt;li&gt;Primitive arrays report a reference to the array type.&lt;/li&gt;
 4455         &lt;/ul&gt;
 4456         &lt;p/&gt;
 4457         This function can also be used to examine primitive (non-object) values.
 4458         The primitive value of an array or String
 4459         is reported after the object has been visited;
 4460         it is reported by invoking the agent supplied callback function
 4461         &lt;functionlink id=&quot;jvmtiArrayPrimitiveValueCallback&quot;/&gt; or
 4462         &lt;functionlink id=&quot;jvmtiStringPrimitiveValueCallback&quot;/&gt;.
 4463         A primitive field
 4464         is reported after the object with that field is visited;
 4465         it is reported by invoking the agent supplied callback function
 4466         &lt;functionlink id=&quot;jvmtiPrimitiveFieldCallback&quot;/&gt;.
 4467         &lt;p/&gt;
 4468         Whether a callback is provided or is &lt;code&gt;NULL&lt;/code&gt; only determines
 4469         whether the callback will be invoked, it does not influence
 4470         which objects are visited nor does it influence whether other callbacks
 4471         will be invoked.
 4472         However, the
 4473         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;visit control flags&lt;/datalink&gt;
 4474         returned by &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;/&gt;
 4475         do determine if the objects referenced by the
 4476         current object as visited.
 4477         The &lt;datalink id=&quot;jvmtiHeapFilter&quot;&gt;heap filter flags&lt;/datalink&gt;
 4478         and &lt;paramlink id=&quot;klass&quot;/&gt; provided as parameters to this function
 4479         do not control which objects are visited but they do control which
 4480         objects and primitive values are reported by the callbacks.
 4481         For example, if the only callback that was set is
 4482         &lt;fieldlink id=&quot;array_primitive_value_callback&quot; struct=&quot;jvmtiHeapCallbacks&quot;/&gt; and &lt;code&gt;klass&lt;/code&gt;
 4483         is set to the array of bytes class, then only arrays of byte will be
 4484         reported.
 4485         The table below summarizes this:
 4486         &lt;p/&gt;
 4487         &lt;table&gt;
 4488           &lt;tr class=&quot;bgLight&quot;&gt;
 4489             &lt;th/&gt;
 4490             &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Controls objects visited&lt;/th&gt;
 4491             &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Controls objects reported&lt;/th&gt;
 4492             &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Controls primitives reported&lt;/th&gt;
 4493           &lt;/tr&gt;
 4494           &lt;tr&gt;
 4495             &lt;th scope=&quot;row&quot;&gt;
 4496               the
 4497               &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;Heap Visit Control Flags&lt;/datalink&gt;
 4498               returned by &lt;functionlink id=&quot;jvmtiHeapReferenceCallback&quot;/&gt;
 4499             &lt;/th&gt;
 4500             &lt;td class=&quot;centered&quot;&gt;
 4501               &lt;b&gt;Yes&lt;/b&gt;
 4502             &lt;/td&gt;
 4503             &lt;td class=&quot;centered&quot;&gt;
 4504               &lt;b&gt;Yes&lt;/b&gt;, since visits are controlled
 4505             &lt;/td&gt;
 4506             &lt;td class=&quot;centered&quot;&gt;
 4507               &lt;b&gt;Yes&lt;/b&gt;, since visits are controlled
 4508             &lt;/td&gt;
 4509           &lt;/tr&gt;
 4510           &lt;tr&gt;
 4511             &lt;th scope=&quot;row&quot;&gt;
 4512               &lt;fieldlink id=&quot;array_primitive_value_callback&quot; struct=&quot;jvmtiHeapCallbacks&quot;/&gt;
 4513               in &lt;paramlink id=&quot;callbacks&quot;/&gt; set
 4514             &lt;/th&gt;
 4515             &lt;td class=&quot;centered&quot;&gt;
 4516               No
 4517             &lt;/td&gt;
 4518             &lt;td class=&quot;centered&quot;&gt;
 4519               &lt;b&gt;Yes&lt;/b&gt;
 4520             &lt;/td&gt;
 4521             &lt;td class=&quot;centered&quot;&gt;
 4522               No
 4523             &lt;/td&gt;
 4524           &lt;/tr&gt;
 4525           &lt;tr&gt;
 4526             &lt;th scope=&quot;row&quot;&gt;
 4527               &lt;paramlink id=&quot;heap_filter&quot;/&gt;
 4528             &lt;/th&gt;
 4529             &lt;td class=&quot;centered&quot;&gt;
 4530               No
 4531             &lt;/td&gt;
 4532             &lt;td class=&quot;centered&quot;&gt;
 4533               &lt;b&gt;Yes&lt;/b&gt;
 4534             &lt;/td&gt;
 4535             &lt;td class=&quot;centered&quot;&gt;
 4536               &lt;b&gt;Yes&lt;/b&gt;
 4537             &lt;/td&gt;
 4538           &lt;/tr&gt;
 4539           &lt;tr&gt;
 4540             &lt;th scope=&quot;row&quot;&gt;
 4541               &lt;paramlink id=&quot;klass&quot;/&gt;
 4542             &lt;/th&gt;
 4543             &lt;td class=&quot;centered&quot;&gt;
 4544               No
 4545             &lt;/td&gt;
 4546             &lt;td class=&quot;centered&quot;&gt;
 4547               &lt;b&gt;Yes&lt;/b&gt;
 4548             &lt;/td&gt;
 4549             &lt;td class=&quot;centered&quot;&gt;
 4550               &lt;b&gt;Yes&lt;/b&gt;
 4551             &lt;/td&gt;
 4552           &lt;/tr&gt;
 4553         &lt;/table&gt;
 4554         &lt;p/&gt;
 4555         During the execution of this function the state of the heap
 4556         does not change: no objects are allocated, no objects are
 4557         garbage collected, and the state of objects (including
 4558         held values) does not change.
 4559         As a result, threads executing Java
 4560         programming language code, threads attempting to resume the
 4561         execution of Java programming language code, and threads
 4562         attempting to execute JNI functions are typically stalled.
 4563       &lt;/description&gt;
 4564       &lt;origin&gt;new&lt;/origin&gt;
 4565       &lt;capabilities&gt;
 4566         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4567       &lt;/capabilities&gt;
 4568       &lt;parameters&gt;
 4569         &lt;param id=&quot;heap_filter&quot;&gt;
 4570           &lt;jint/&gt;
 4571           &lt;description&gt;
 4572             This bit vector of
 4573             &lt;datalink id=&quot;jvmtiHeapFilter&quot;&gt;heap filter flags&lt;/datalink&gt;.
 4574             restricts the objects for which the callback function is called.
 4575             This applies to both the object and primitive callbacks.
 4576           &lt;/description&gt;
 4577         &lt;/param&gt;
 4578         &lt;param id=&quot;klass&quot;&gt;
 4579           &lt;ptrtype&gt;
 4580             &lt;jclass/&gt;
 4581             &lt;nullok&gt;callbacks are not limited to instances of a particular
 4582                     class&lt;/nullok&gt;
 4583           &lt;/ptrtype&gt;
 4584           &lt;description&gt;
 4585             Callbacks are only reported when the object is an instance of
 4586             this class.
 4587             Objects which are instances of a subclass of &lt;code&gt;klass&lt;/code&gt;
 4588             are not reported.
 4589             If &lt;code&gt;klass&lt;/code&gt; is an interface, no objects are reported.
 4590             This applies to both the object and primitive callbacks.
 4591           &lt;/description&gt;
 4592         &lt;/param&gt;
 4593         &lt;param id=&quot;initial_object&quot;&gt;
 4594           &lt;ptrtype&gt;
 4595             &lt;jobject/&gt;
 4596             &lt;nullok&gt;references are followed from the heap roots&lt;/nullok&gt;
 4597           &lt;/ptrtype&gt;
 4598           &lt;description&gt;
 4599             The object to follow
 4600           &lt;/description&gt;
 4601         &lt;/param&gt;
 4602         &lt;param id=&quot;callbacks&quot;&gt;
 4603           &lt;inptr&gt;
 4604             &lt;struct&gt;jvmtiHeapCallbacks&lt;/struct&gt;
 4605           &lt;/inptr&gt;
 4606           &lt;description&gt;
 4607             Structure defining the set of callback functions.
 4608           &lt;/description&gt;
 4609         &lt;/param&gt;
 4610         &lt;param id=&quot;user_data&quot;&gt;
 4611           &lt;inbuf&gt;
 4612             &lt;void/&gt;
 4613             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 4614           &lt;/inbuf&gt;
 4615           &lt;description&gt;
 4616             User supplied data to be passed to the callback.
 4617           &lt;/description&gt;
 4618         &lt;/param&gt;
 4619       &lt;/parameters&gt;
 4620       &lt;errors&gt;
 4621         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 4622           &lt;paramlink id=&quot;klass&quot;/&gt; is not a valid class.
 4623         &lt;/error&gt;
 4624         &lt;error id=&quot;JVMTI_ERROR_INVALID_OBJECT&quot;&gt;
 4625           &lt;paramlink id=&quot;initial_object&quot;/&gt; is not a valid object.
 4626         &lt;/error&gt;
 4627       &lt;/errors&gt;
 4628     &lt;/function&gt;
 4629 
 4630 
 4631     &lt;function id=&quot;IterateThroughHeap&quot; num=&quot;116&quot; since=&quot;1.1&quot;&gt;
 4632       &lt;synopsis&gt;Iterate Through Heap&lt;/synopsis&gt;
 4633       &lt;description&gt;
 4634         Initiate an iteration over all objects in the heap.
 4635         This includes both reachable and
 4636         unreachable objects. Objects are visited in no particular order.
 4637         &lt;p/&gt;
 4638         Heap objects are reported by invoking the agent supplied
 4639         callback function &lt;functionlink id=&quot;jvmtiHeapIterationCallback&quot;/&gt;.
 4640         References between objects are not reported.
 4641         If only reachable objects are desired, or if object reference information
 4642         is needed, use &lt;functionlink id=&quot;FollowReferences&quot;/&gt;.
 4643         &lt;p/&gt;
 4644         This function can also be used to examine primitive (non-object) values.
 4645         The primitive value of an array or String
 4646         is reported after the object has been visited;
 4647         it is reported by invoking the agent supplied callback function
 4648         &lt;functionlink id=&quot;jvmtiArrayPrimitiveValueCallback&quot;/&gt; or
 4649         &lt;functionlink id=&quot;jvmtiStringPrimitiveValueCallback&quot;/&gt;.
 4650         A primitive field
 4651         is reported after the object with that field is visited;
 4652         it is reported by invoking the agent supplied
 4653         callback function
 4654         &lt;functionlink id=&quot;jvmtiPrimitiveFieldCallback&quot;/&gt;.
 4655         &lt;p/&gt;
 4656         Unless the iteration is aborted by the
 4657         &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;Heap Visit Control Flags&lt;/datalink&gt;
 4658         returned by a callback, all objects in the heap are visited.
 4659         Whether a callback is provided or is &lt;code&gt;NULL&lt;/code&gt; only determines
 4660         whether the callback will be invoked, it does not influence
 4661         which objects are visited nor does it influence whether other callbacks
 4662         will be invoked.
 4663         The &lt;datalink id=&quot;jvmtiHeapFilter&quot;&gt;heap filter flags&lt;/datalink&gt;
 4664         and &lt;paramlink id=&quot;klass&quot;/&gt; provided as parameters to this function
 4665         do not control which objects are visited but they do control which
 4666         objects and primitive values are reported by the callbacks.
 4667         For example, if the only callback that was set is
 4668         &lt;fieldlink id=&quot;array_primitive_value_callback&quot; struct=&quot;jvmtiHeapCallbacks&quot;/&gt; and &lt;code&gt;klass&lt;/code&gt;
 4669         is set to the array of bytes class, then only arrays of byte will be
 4670         reported. The table below summarizes this (contrast this with
 4671         &lt;functionlink id=&quot;FollowReferences&quot;/&gt;):
 4672         &lt;p/&gt;
 4673         &lt;table&gt;
 4674           &lt;tr class=&quot;bgLight&quot;&gt;
 4675             &lt;th/&gt;
 4676             &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Controls objects visited&lt;/th&gt;
 4677             &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Controls objects reported&lt;/th&gt;
 4678             &lt;th class=&quot;centered&quot; scope=&quot;col&quot;&gt;Controls primitives reported&lt;/th&gt;
 4679           &lt;/tr&gt;
 4680           &lt;tr&gt;
 4681             &lt;th scope=&quot;row&quot;&gt;
 4682               the
 4683               &lt;datalink id=&quot;jvmtiHeapVisitControl&quot;&gt;Heap Visit Control Flags&lt;/datalink&gt;
 4684               returned by &lt;functionlink id=&quot;jvmtiHeapIterationCallback&quot;/&gt;
 4685             &lt;/th&gt;
 4686             &lt;td class=&quot;centered&quot;&gt;
 4687               No&lt;br/&gt;(unless they abort the iteration)
 4688             &lt;/td&gt;
 4689             &lt;td class=&quot;centered&quot;&gt;
 4690               No&lt;br/&gt;(unless they abort the iteration)
 4691             &lt;/td&gt;
 4692             &lt;td class=&quot;centered&quot;&gt;
 4693               No&lt;br/&gt;(unless they abort the iteration)
 4694             &lt;/td&gt;
 4695           &lt;/tr&gt;
 4696           &lt;tr&gt;
 4697             &lt;th scope=&quot;row&quot;&gt;
 4698               &lt;fieldlink id=&quot;array_primitive_value_callback&quot; struct=&quot;jvmtiHeapCallbacks&quot;/&gt;
 4699               in &lt;paramlink id=&quot;callbacks&quot;/&gt; set
 4700             &lt;/th&gt;
 4701             &lt;td class=&quot;centered&quot;&gt;
 4702               No
 4703             &lt;/td&gt;
 4704             &lt;td class=&quot;centered&quot;&gt;
 4705               &lt;b&gt;Yes&lt;/b&gt;
 4706             &lt;/td&gt;
 4707             &lt;td class=&quot;centered&quot;&gt;
 4708               No
 4709             &lt;/td&gt;
 4710           &lt;/tr&gt;
 4711           &lt;tr&gt;
 4712             &lt;th scope=&quot;row&quot;&gt;
 4713               &lt;paramlink id=&quot;heap_filter&quot;/&gt;
 4714             &lt;/th&gt;
 4715             &lt;td class=&quot;centered&quot;&gt;
 4716               No
 4717             &lt;/td&gt;
 4718             &lt;td class=&quot;centered&quot;&gt;
 4719               &lt;b&gt;Yes&lt;/b&gt;
 4720             &lt;/td&gt;
 4721             &lt;td class=&quot;centered&quot;&gt;
 4722               &lt;b&gt;Yes&lt;/b&gt;
 4723             &lt;/td&gt;
 4724           &lt;/tr&gt;
 4725           &lt;tr&gt;
 4726             &lt;th scope=&quot;row&quot;&gt;
 4727               &lt;paramlink id=&quot;klass&quot;/&gt;
 4728             &lt;/th&gt;
 4729             &lt;td class=&quot;centered&quot;&gt;
 4730               No
 4731             &lt;/td&gt;
 4732             &lt;td class=&quot;centered&quot;&gt;
 4733               &lt;b&gt;Yes&lt;/b&gt;
 4734             &lt;/td&gt;
 4735             &lt;td class=&quot;centered&quot;&gt;
 4736               &lt;b&gt;Yes&lt;/b&gt;
 4737             &lt;/td&gt;
 4738           &lt;/tr&gt;
 4739         &lt;/table&gt;
 4740         &lt;p/&gt;
 4741         During the execution of this function the state of the heap
 4742         does not change: no objects are allocated, no objects are
 4743         garbage collected, and the state of objects (including
 4744         held values) does not change.
 4745         As a result, threads executing Java
 4746         programming language code, threads attempting to resume the
 4747         execution of Java programming language code, and threads
 4748         attempting to execute JNI functions are typically stalled.
 4749       &lt;/description&gt;
 4750       &lt;origin&gt;new&lt;/origin&gt;
 4751       &lt;capabilities&gt;
 4752         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4753       &lt;/capabilities&gt;
 4754       &lt;parameters&gt;
 4755         &lt;param id=&quot;heap_filter&quot;&gt;
 4756           &lt;jint/&gt;
 4757           &lt;description&gt;
 4758             This bit vector of
 4759             &lt;datalink id=&quot;jvmtiHeapFilter&quot;&gt;heap filter flags&lt;/datalink&gt;.
 4760             restricts the objects for which the callback function is called.
 4761             This applies to both the object and primitive callbacks.
 4762           &lt;/description&gt;
 4763         &lt;/param&gt;
 4764         &lt;param id=&quot;klass&quot;&gt;
 4765           &lt;ptrtype&gt;
 4766             &lt;jclass/&gt;
 4767             &lt;nullok&gt;callbacks are not limited to instances of a particular class&lt;/nullok&gt;
 4768           &lt;/ptrtype&gt;
 4769           &lt;description&gt;
 4770             Callbacks are only reported when the object is an instance of
 4771             this class.
 4772             Objects which are instances of a subclass of &lt;code&gt;klass&lt;/code&gt;
 4773             are not reported.
 4774             If &lt;code&gt;klass&lt;/code&gt; is an interface, no objects are reported.
 4775             This applies to both the object and primitive callbacks.
 4776           &lt;/description&gt;
 4777         &lt;/param&gt;
 4778         &lt;param id=&quot;callbacks&quot;&gt;
 4779           &lt;inptr&gt;
 4780             &lt;struct&gt;jvmtiHeapCallbacks&lt;/struct&gt;
 4781           &lt;/inptr&gt;
 4782           &lt;description&gt;
 4783             Structure defining the set callback functions.
 4784           &lt;/description&gt;
 4785         &lt;/param&gt;
 4786         &lt;param id=&quot;user_data&quot;&gt;
 4787           &lt;inbuf&gt;
 4788             &lt;void/&gt;
 4789             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 4790           &lt;/inbuf&gt;
 4791           &lt;description&gt;
 4792             User supplied data to be passed to the callback.
 4793           &lt;/description&gt;
 4794         &lt;/param&gt;
 4795       &lt;/parameters&gt;
 4796       &lt;errors&gt;
 4797         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 4798           &lt;paramlink id=&quot;klass&quot;/&gt; is not a valid class.
 4799         &lt;/error&gt;
 4800       &lt;/errors&gt;
 4801     &lt;/function&gt;
 4802 
 4803     &lt;function id=&quot;GetTag&quot; phase=&quot;start&quot; num=&quot;106&quot;&gt;
 4804       &lt;synopsis&gt;Get Tag&lt;/synopsis&gt;
 4805       &lt;description&gt;
 4806         Retrieve the tag associated with an object.
 4807         The tag is a long value typically used to store a
 4808         unique identifier or pointer to object information.
 4809         The tag is set with
 4810         &lt;functionlink id=&quot;SetTag&quot;&gt;&lt;/functionlink&gt;.
 4811         Objects for which no tags have been set return a
 4812         tag value of zero.
 4813       &lt;/description&gt;
 4814       &lt;origin&gt;new&lt;/origin&gt;
 4815       &lt;capabilities&gt;
 4816         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4817       &lt;/capabilities&gt;
 4818       &lt;parameters&gt;
 4819         &lt;param id=&quot;object&quot;&gt;
 4820           &lt;jobject/&gt;
 4821             &lt;description&gt;
 4822               The object whose tag is to be retrieved.
 4823             &lt;/description&gt;
 4824         &lt;/param&gt;
 4825         &lt;param id=&quot;tag_ptr&quot;&gt;
 4826           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 4827           &lt;description&gt;
 4828             On return, the referenced long is set to the value
 4829             of the tag.
 4830           &lt;/description&gt;
 4831         &lt;/param&gt;
 4832       &lt;/parameters&gt;
 4833       &lt;errors&gt;
 4834       &lt;/errors&gt;
 4835     &lt;/function&gt;
 4836 
 4837     &lt;function id=&quot;SetTag&quot; phase=&quot;start&quot; num=&quot;107&quot;&gt;
 4838       &lt;synopsis&gt;Set Tag&lt;/synopsis&gt;
 4839       &lt;description&gt;
 4840         Set the tag associated with an object.
 4841         The tag is a long value typically used to store a
 4842         unique identifier or pointer to object information.
 4843         The tag is visible with
 4844         &lt;functionlink id=&quot;GetTag&quot;&gt;&lt;/functionlink&gt;.
 4845       &lt;/description&gt;
 4846       &lt;origin&gt;new&lt;/origin&gt;
 4847       &lt;capabilities&gt;
 4848         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4849       &lt;/capabilities&gt;
 4850       &lt;parameters&gt;
 4851         &lt;param id=&quot;object&quot;&gt;
 4852           &lt;jobject/&gt;
 4853             &lt;description&gt;
 4854               The object whose tag is to be set.
 4855             &lt;/description&gt;
 4856         &lt;/param&gt;
 4857         &lt;param id=&quot;tag&quot;&gt;
 4858           &lt;jlong/&gt;
 4859           &lt;description&gt;
 4860             The new value of the tag.
 4861           &lt;/description&gt;
 4862         &lt;/param&gt;
 4863       &lt;/parameters&gt;
 4864       &lt;errors&gt;
 4865       &lt;/errors&gt;
 4866     &lt;/function&gt;
 4867 
 4868     &lt;function id=&quot;GetObjectsWithTags&quot; num=&quot;114&quot;&gt;
 4869       &lt;synopsis&gt;Get Objects With Tags&lt;/synopsis&gt;
 4870       &lt;description&gt;
 4871         Return objects in the heap with the specified tags.
 4872         The format is parallel arrays of objects and tags.
 4873       &lt;/description&gt;
 4874       &lt;origin&gt;new&lt;/origin&gt;
 4875       &lt;capabilities&gt;
 4876         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 4877       &lt;/capabilities&gt;
 4878       &lt;parameters&gt;
 4879         &lt;param id=&quot;tag_count&quot;&gt;
 4880           &lt;jint min=&quot;0&quot;/&gt;
 4881             &lt;description&gt;
 4882               Number of tags to scan for.
 4883             &lt;/description&gt;
 4884         &lt;/param&gt;
 4885         &lt;param id=&quot;tags&quot;&gt;
 4886           &lt;inbuf incount=&quot;tag_count&quot;&gt;
 4887             &lt;jlong/&gt;
 4888           &lt;/inbuf&gt;
 4889             &lt;description&gt;
 4890               Scan for objects with these tags.
 4891               Zero is not permitted in this array.
 4892             &lt;/description&gt;
 4893         &lt;/param&gt;
 4894         &lt;param id=&quot;count_ptr&quot;&gt;
 4895           &lt;outptr&gt;
 4896             &lt;jint/&gt;
 4897           &lt;/outptr&gt;
 4898             &lt;description&gt;
 4899               Return the number of objects with any of the tags
 4900               in &lt;paramlink id=&quot;tags&quot;/&gt;.
 4901             &lt;/description&gt;
 4902         &lt;/param&gt;
 4903         &lt;param id=&quot;object_result_ptr&quot;&gt;
 4904           &lt;allocbuf outcount=&quot;count_ptr&quot;&gt;
 4905             &lt;jobject/&gt;
 4906             &lt;nullok&gt;this information is not returned&lt;/nullok&gt;
 4907           &lt;/allocbuf&gt;
 4908             &lt;description&gt;
 4909               Returns the array of objects with any of the tags
 4910               in &lt;paramlink id=&quot;tags&quot;/&gt;.
 4911             &lt;/description&gt;
 4912         &lt;/param&gt;
 4913         &lt;param id=&quot;tag_result_ptr&quot;&gt;
 4914           &lt;allocbuf outcount=&quot;count_ptr&quot;&gt;
 4915             &lt;jlong/&gt;
 4916             &lt;nullok&gt;this information is not returned&lt;/nullok&gt;
 4917           &lt;/allocbuf&gt;
 4918             &lt;description&gt;
 4919               For each object in &lt;paramlink id=&quot;object_result_ptr&quot;/&gt;,
 4920               return the tag at the corresponding index.
 4921             &lt;/description&gt;
 4922         &lt;/param&gt;
 4923       &lt;/parameters&gt;
 4924       &lt;errors&gt;
 4925         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 4926           Zero is present in &lt;paramlink id=&quot;tags&quot;&gt;&lt;/paramlink&gt;.
 4927         &lt;/error&gt;
 4928       &lt;/errors&gt;
 4929     &lt;/function&gt;
 4930 
 4931     &lt;function id=&quot;ForceGarbageCollection&quot; num=&quot;108&quot;&gt;
 4932       &lt;synopsis&gt;Force Garbage Collection&lt;/synopsis&gt;
 4933       &lt;description&gt;
 4934         Force the VM to perform a garbage collection.
 4935         The garbage collection is as complete as possible.
 4936         This function does not cause finalizers to be run.
 4937         This function does not return until the garbage collection
 4938         is finished.
 4939         &lt;p/&gt;
 4940         Although garbage collection is as complete
 4941         as possible there is no guarantee that all
 4942         &lt;eventlink id=&quot;ObjectFree&quot;/&gt;
 4943         events will have been
 4944         sent by the time that this function
 4945         returns. In particular, an object may be
 4946         prevented from being freed because it
 4947         is awaiting finalization.
 4948       &lt;/description&gt;
 4949       &lt;origin&gt;new&lt;/origin&gt;
 4950       &lt;capabilities&gt;
 4951       &lt;/capabilities&gt;
 4952       &lt;parameters&gt;
 4953       &lt;/parameters&gt;
 4954       &lt;errors&gt;
 4955       &lt;/errors&gt;
 4956     &lt;/function&gt;
 4957 
 4958 
 4959   &lt;/category&gt;
 4960 
 4961   &lt;category id=&quot;Heap_1_0&quot; label=&quot;Heap (1.0)&quot;&gt;
 4962     &lt;intro&gt;
 4963       &lt;b&gt;
 4964         These functions and data types were introduced in the original
 4965         &lt;jvmti/&gt; version 1.0 and have been superseded by more
 4966       &lt;/b&gt;
 4967       &lt;internallink id=&quot;Heap&quot;&gt;&lt;b&gt;powerful and flexible versions&lt;/b&gt;&lt;/internallink&gt;
 4968       &lt;b&gt;
 4969         which:
 4970       &lt;/b&gt;
 4971       &lt;ul&gt;
 4972         &lt;li&gt;
 4973           &lt;b&gt;
 4974             Allow access to primitive values (the value of Strings, arrays,
 4975             and primitive fields)
 4976           &lt;/b&gt;
 4977         &lt;/li&gt;
 4978         &lt;li&gt;
 4979           &lt;b&gt;
 4980             Allow the tag of the referrer to be set, thus enabling more
 4981             efficient localized reference graph building
 4982           &lt;/b&gt;
 4983         &lt;/li&gt;
 4984         &lt;li&gt;
 4985           &lt;b&gt;
 4986             Provide more extensive filtering abilities
 4987           &lt;/b&gt;
 4988         &lt;/li&gt;
 4989         &lt;li&gt;
 4990           &lt;b&gt;
 4991             Are extensible, allowing their abilities to grow in future versions of &lt;jvmti/&gt;
 4992           &lt;/b&gt;
 4993         &lt;/li&gt;
 4994       &lt;/ul&gt;
 4995       &lt;p/&gt;
 4996       &lt;b&gt;Please use the &lt;/b&gt;
 4997       &lt;internallink id=&quot;Heap&quot;&gt;&lt;b&gt;current Heap functions&lt;/b&gt;&lt;/internallink&gt;.
 4998         &lt;p/&gt;
 4999         &lt;constants id=&quot;jvmtiHeapObjectFilter&quot; label=&quot;Heap Object Filter Enumeration&quot; kind=&quot;enum&quot;&gt;
 5000           &lt;constant id=&quot;JVMTI_HEAP_OBJECT_TAGGED&quot; num=&quot;1&quot;&gt;
 5001             Tagged objects only.
 5002           &lt;/constant&gt;
 5003           &lt;constant id=&quot;JVMTI_HEAP_OBJECT_UNTAGGED&quot; num=&quot;2&quot;&gt;
 5004             Untagged objects only.
 5005           &lt;/constant&gt;
 5006           &lt;constant id=&quot;JVMTI_HEAP_OBJECT_EITHER&quot; num=&quot;3&quot;&gt;
 5007             Either tagged or untagged objects.
 5008           &lt;/constant&gt;
 5009         &lt;/constants&gt;
 5010 
 5011         &lt;constants id=&quot;jvmtiHeapRootKind&quot; label=&quot;Heap Root Kind Enumeration&quot; kind=&quot;enum&quot;&gt;
 5012           &lt;constant id=&quot;JVMTI_HEAP_ROOT_JNI_GLOBAL&quot; num=&quot;1&quot;&gt;
 5013             JNI global reference.
 5014           &lt;/constant&gt;
 5015           &lt;constant id=&quot;JVMTI_HEAP_ROOT_SYSTEM_CLASS&quot; num=&quot;2&quot;&gt;
 5016             System class.
 5017           &lt;/constant&gt;
 5018           &lt;constant id=&quot;JVMTI_HEAP_ROOT_MONITOR&quot; num=&quot;3&quot;&gt;
 5019             Monitor.
 5020           &lt;/constant&gt;
 5021           &lt;constant id=&quot;JVMTI_HEAP_ROOT_STACK_LOCAL&quot; num=&quot;4&quot;&gt;
 5022             Stack local.
 5023           &lt;/constant&gt;
 5024           &lt;constant id=&quot;JVMTI_HEAP_ROOT_JNI_LOCAL&quot; num=&quot;5&quot;&gt;
 5025             JNI local reference.
 5026           &lt;/constant&gt;
 5027           &lt;constant id=&quot;JVMTI_HEAP_ROOT_THREAD&quot; num=&quot;6&quot;&gt;
 5028             Thread.
 5029           &lt;/constant&gt;
 5030           &lt;constant id=&quot;JVMTI_HEAP_ROOT_OTHER&quot; num=&quot;7&quot;&gt;
 5031             Other.
 5032           &lt;/constant&gt;
 5033         &lt;/constants&gt;
 5034 
 5035         &lt;constants id=&quot;jvmtiObjectReferenceKind&quot; label=&quot;Object Reference Enumeration&quot; kind=&quot;enum&quot;&gt;
 5036           &lt;constant id=&quot;JVMTI_REFERENCE_CLASS&quot; num=&quot;1&quot;&gt;
 5037             Reference from an object to its class.
 5038           &lt;/constant&gt;
 5039           &lt;constant id=&quot;JVMTI_REFERENCE_FIELD&quot; num=&quot;2&quot;&gt;
 5040             Reference from an object to the value of one of its instance fields.
 5041             For references of this kind the &lt;code&gt;referrer_index&lt;/code&gt;
 5042             parameter to the &lt;internallink id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5043             jvmtiObjectReferenceCallback&lt;/internallink&gt; is the index of the
 5044             the instance field. The index is based on the order of all the
 5045             object&#39;s fields. This includes all fields of the directly declared
 5046             static and instance fields in the class, and includes all fields (both
 5047             public and private) fields declared in superclasses and superinterfaces.
 5048             The index is thus calculated by summing the index of the field in the directly
 5049             declared class (see &lt;functionlink id=&quot;GetClassFields&quot;/&gt;), with the total
 5050             number of fields (both public and private) declared in all superclasses
 5051             and superinterfaces. The index starts at zero.
 5052           &lt;/constant&gt;
 5053           &lt;constant id=&quot;JVMTI_REFERENCE_ARRAY_ELEMENT&quot; num=&quot;3&quot;&gt;
 5054             Reference from an array to one of its elements.
 5055             For references of this kind the &lt;code&gt;referrer_index&lt;/code&gt;
 5056             parameter to the &lt;internallink id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5057             jvmtiObjectReferenceCallback&lt;/internallink&gt; is the array index.
 5058           &lt;/constant&gt;
 5059           &lt;constant id=&quot;JVMTI_REFERENCE_CLASS_LOADER&quot; num=&quot;4&quot;&gt;
 5060             Reference from a class to its class loader.
 5061           &lt;/constant&gt;
 5062           &lt;constant id=&quot;JVMTI_REFERENCE_SIGNERS&quot; num=&quot;5&quot;&gt;
 5063             Reference from a class to its signers array.
 5064           &lt;/constant&gt;
 5065           &lt;constant id=&quot;JVMTI_REFERENCE_PROTECTION_DOMAIN&quot; num=&quot;6&quot;&gt;
 5066             Reference from a class to its protection domain.
 5067           &lt;/constant&gt;
 5068           &lt;constant id=&quot;JVMTI_REFERENCE_INTERFACE&quot; num=&quot;7&quot;&gt;
 5069             Reference from a class to one of its interfaces.
 5070           &lt;/constant&gt;
 5071           &lt;constant id=&quot;JVMTI_REFERENCE_STATIC_FIELD&quot; num=&quot;8&quot;&gt;
 5072             Reference from a class to the value of one of its static fields.
 5073             For references of this kind the &lt;code&gt;referrer_index&lt;/code&gt;
 5074             parameter to the &lt;internallink id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5075             jvmtiObjectReferenceCallback&lt;/internallink&gt; is the index of the
 5076             the static field. The index is based on the order of all the
 5077             object&#39;s fields. This includes all fields of the directly declared
 5078             static and instance fields in the class, and includes all fields (both
 5079             public and private) fields declared in superclasses and superinterfaces.
 5080             The index is thus calculated by summing the index of the field in the directly
 5081             declared class (see &lt;functionlink id=&quot;GetClassFields&quot;/&gt;), with the total
 5082             number of fields (both public and private) declared in all superclasses
 5083             and superinterfaces. The index starts at zero.
 5084             Note: this definition differs from that in the &lt;jvmti/&gt; 1.0 Specification.
 5085             &lt;rationale&gt;No known implementations used the 1.0 definition.&lt;/rationale&gt;
 5086           &lt;/constant&gt;
 5087           &lt;constant id=&quot;JVMTI_REFERENCE_CONSTANT_POOL&quot; num=&quot;9&quot;&gt;
 5088             Reference from a class to a resolved entry in the constant pool.
 5089             For references of this kind the &lt;code&gt;referrer_index&lt;/code&gt;
 5090             parameter to the &lt;internallink id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5091             jvmtiObjectReferenceCallback&lt;/internallink&gt; is the index into
 5092             constant pool table of the class, starting at 1. See
 5093             &lt;vmspec chapter=&quot;4.4&quot;/&gt;.
 5094           &lt;/constant&gt;
 5095         &lt;/constants&gt;
 5096 
 5097         &lt;constants id=&quot;jvmtiIterationControl&quot; label=&quot;Iteration Control Enumeration&quot; kind=&quot;enum&quot;&gt;
 5098           &lt;constant id=&quot;JVMTI_ITERATION_CONTINUE&quot; num=&quot;1&quot;&gt;
 5099             Continue the iteration.
 5100             If this is a reference iteration, follow the references of this object.
 5101           &lt;/constant&gt;
 5102           &lt;constant id=&quot;JVMTI_ITERATION_IGNORE&quot; num=&quot;2&quot;&gt;
 5103             Continue the iteration.
 5104             If this is a reference iteration, ignore the references of this object.
 5105           &lt;/constant&gt;
 5106           &lt;constant id=&quot;JVMTI_ITERATION_ABORT&quot; num=&quot;0&quot;&gt;
 5107             Abort the iteration.
 5108           &lt;/constant&gt;
 5109         &lt;/constants&gt;
 5110     &lt;/intro&gt;
 5111 
 5112     &lt;callback id=&quot;jvmtiHeapObjectCallback&quot;&gt;
 5113       &lt;enum&gt;jvmtiIterationControl&lt;/enum&gt;
 5114       &lt;synopsis&gt;Heap Object Callback&lt;/synopsis&gt;
 5115       &lt;description&gt;
 5116         Agent supplied callback function.
 5117         Describes (but does not pass in) an object in the heap.
 5118         &lt;p/&gt;
 5119         Return value should be &lt;code&gt;JVMTI_ITERATION_CONTINUE&lt;/code&gt; to continue iteration,
 5120         or &lt;code&gt;JVMTI_ITERATION_ABORT&lt;/code&gt; to stop iteration.
 5121         &lt;p/&gt;
 5122         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 5123         function restrictions&lt;/internallink&gt;.
 5124       &lt;/description&gt;
 5125       &lt;parameters&gt;
 5126         &lt;param id=&quot;class_tag&quot;&gt;
 5127           &lt;jlong/&gt;
 5128           &lt;description&gt;
 5129             The tag of the class of object (zero if the class is not tagged).
 5130             If the object represents a runtime class,
 5131             the &lt;code&gt;class_tag&lt;/code&gt; is the tag
 5132             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 5133             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 5134           &lt;/description&gt;
 5135         &lt;/param&gt;
 5136         &lt;param id=&quot;size&quot;&gt;
 5137           &lt;jlong/&gt;
 5138           &lt;description&gt;
 5139             Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 5140           &lt;/description&gt;
 5141         &lt;/param&gt;
 5142         &lt;param id=&quot;tag_ptr&quot;&gt;
 5143           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5144           &lt;description&gt;
 5145             The object tag value, or zero if the object is not tagged.
 5146             To set the tag value to be associated with the object
 5147             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 5148           &lt;/description&gt;
 5149         &lt;/param&gt;
 5150         &lt;param id=&quot;user_data&quot;&gt;
 5151           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 5152           &lt;description&gt;
 5153             The user supplied data that was passed into the iteration function.
 5154           &lt;/description&gt;
 5155         &lt;/param&gt;
 5156       &lt;/parameters&gt;
 5157     &lt;/callback&gt;
 5158 
 5159     &lt;callback id=&quot;jvmtiHeapRootCallback&quot;&gt;
 5160       &lt;enum&gt;jvmtiIterationControl&lt;/enum&gt;
 5161       &lt;synopsis&gt;Heap Root Object Callback&lt;/synopsis&gt;
 5162       &lt;description&gt;
 5163         Agent supplied callback function.
 5164         Describes (but does not pass in) an object that is a root for the purposes
 5165         of garbage collection.
 5166         &lt;p/&gt;
 5167         Return value should be &lt;code&gt;JVMTI_ITERATION_CONTINUE&lt;/code&gt; to continue iteration,
 5168         &lt;code&gt;JVMTI_ITERATION_IGNORE&lt;/code&gt; to continue iteration without pursuing
 5169         references from referree object or &lt;code&gt;JVMTI_ITERATION_ABORT&lt;/code&gt; to stop iteration.
 5170         &lt;p/&gt;
 5171         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 5172         function restrictions&lt;/internallink&gt;.
 5173       &lt;/description&gt;
 5174       &lt;parameters&gt;
 5175         &lt;param id=&quot;root_kind&quot;&gt;
 5176           &lt;enum&gt;jvmtiHeapRootKind&lt;/enum&gt;
 5177           &lt;description&gt;
 5178             The kind of heap root.
 5179           &lt;/description&gt;
 5180         &lt;/param&gt;
 5181         &lt;param id=&quot;class_tag&quot;&gt;
 5182           &lt;jlong/&gt;
 5183           &lt;description&gt;
 5184             The tag of the class of object (zero if the class is not tagged).
 5185             If the object represents a runtime class, the &lt;code&gt;class_tag&lt;/code&gt; is the tag
 5186             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 5187             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 5188           &lt;/description&gt;
 5189         &lt;/param&gt;
 5190         &lt;param id=&quot;size&quot;&gt;
 5191           &lt;jlong/&gt;
 5192           &lt;description&gt;
 5193             Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 5194           &lt;/description&gt;
 5195         &lt;/param&gt;
 5196         &lt;param id=&quot;tag_ptr&quot;&gt;
 5197           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5198           &lt;description&gt;
 5199             The object tag value, or zero if the object is not tagged.
 5200             To set the tag value to be associated with the object
 5201             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 5202           &lt;/description&gt;
 5203         &lt;/param&gt;
 5204         &lt;param id=&quot;user_data&quot;&gt;
 5205           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 5206           &lt;description&gt;
 5207             The user supplied data that was passed into the iteration function.
 5208           &lt;/description&gt;
 5209         &lt;/param&gt;
 5210       &lt;/parameters&gt;
 5211     &lt;/callback&gt;
 5212 
 5213     &lt;callback id=&quot;jvmtiStackReferenceCallback&quot;&gt;
 5214       &lt;enum&gt;jvmtiIterationControl&lt;/enum&gt;
 5215       &lt;synopsis&gt;Stack Reference Object Callback&lt;/synopsis&gt;
 5216       &lt;description&gt;
 5217         Agent supplied callback function.
 5218         Describes (but does not pass in) an object on the stack that is a root for
 5219         the purposes of garbage collection.
 5220         &lt;p/&gt;
 5221         Return value should be &lt;code&gt;JVMTI_ITERATION_CONTINUE&lt;/code&gt; to continue iteration,
 5222         &lt;code&gt;JVMTI_ITERATION_IGNORE&lt;/code&gt; to continue iteration without pursuing
 5223         references from referree object or &lt;code&gt;JVMTI_ITERATION_ABORT&lt;/code&gt; to stop iteration.
 5224         &lt;p/&gt;
 5225         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 5226         function restrictions&lt;/internallink&gt;.
 5227       &lt;/description&gt;
 5228       &lt;parameters&gt;
 5229         &lt;param id=&quot;root_kind&quot;&gt;
 5230           &lt;enum&gt;jvmtiHeapRootKind&lt;/enum&gt;
 5231           &lt;description&gt;
 5232             The kind of root (either &lt;code&gt;JVMTI_HEAP_ROOT_STACK_LOCAL&lt;/code&gt; or
 5233             &lt;code&gt;JVMTI_HEAP_ROOT_JNI_LOCAL&lt;/code&gt;).
 5234           &lt;/description&gt;
 5235         &lt;/param&gt;
 5236         &lt;param id=&quot;class_tag&quot;&gt;
 5237           &lt;jlong/&gt;
 5238           &lt;description&gt;
 5239            The tag of the class of object (zero if the class is not tagged).
 5240            If the object represents a runtime class, the  &lt;code&gt;class_tag&lt;/code&gt; is the tag
 5241            associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 5242            (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 5243           &lt;/description&gt;
 5244         &lt;/param&gt;
 5245         &lt;param id=&quot;size&quot;&gt;
 5246           &lt;jlong/&gt;
 5247           &lt;description&gt;
 5248             Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 5249           &lt;/description&gt;
 5250         &lt;/param&gt;
 5251         &lt;param id=&quot;tag_ptr&quot;&gt;
 5252           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5253           &lt;description&gt;
 5254             The object tag value, or zero if the object is not tagged.
 5255             To set the tag value to be associated with the object
 5256             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 5257           &lt;/description&gt;
 5258         &lt;/param&gt;
 5259         &lt;param id=&quot;thread_tag&quot;&gt;
 5260           &lt;jlong/&gt;
 5261           &lt;description&gt;
 5262             The tag of the thread corresponding to this stack, zero if not tagged.
 5263           &lt;/description&gt;
 5264         &lt;/param&gt;
 5265         &lt;param id=&quot;depth&quot;&gt;
 5266           &lt;jint/&gt;
 5267           &lt;description&gt;
 5268             The depth of the frame.
 5269           &lt;/description&gt;
 5270         &lt;/param&gt;
 5271         &lt;param id=&quot;method&quot;&gt;
 5272           &lt;jmethodID/&gt;
 5273           &lt;description&gt;
 5274             The method executing in this frame.
 5275           &lt;/description&gt;
 5276         &lt;/param&gt;
 5277         &lt;param id=&quot;slot&quot;&gt;
 5278           &lt;jint/&gt;
 5279           &lt;description&gt;
 5280             The slot number.
 5281           &lt;/description&gt;
 5282         &lt;/param&gt;
 5283         &lt;param id=&quot;user_data&quot;&gt;
 5284           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 5285           &lt;description&gt;
 5286             The user supplied data that was passed into the iteration function.
 5287           &lt;/description&gt;
 5288         &lt;/param&gt;
 5289       &lt;/parameters&gt;
 5290     &lt;/callback&gt;
 5291 
 5292     &lt;callback id=&quot;jvmtiObjectReferenceCallback&quot;&gt;
 5293       &lt;enum&gt;jvmtiIterationControl&lt;/enum&gt;
 5294       &lt;synopsis&gt;Object Reference Callback&lt;/synopsis&gt;
 5295       &lt;description&gt;
 5296         Agent supplied callback function.
 5297         Describes a reference from an object (the referrer) to another object
 5298         (the referree).
 5299         &lt;p/&gt;
 5300         Return value should be &lt;code&gt;JVMTI_ITERATION_CONTINUE&lt;/code&gt; to continue iteration,
 5301         &lt;code&gt;JVMTI_ITERATION_IGNORE&lt;/code&gt; to continue iteration without pursuing
 5302         references from referree object or &lt;code&gt;JVMTI_ITERATION_ABORT&lt;/code&gt; to stop iteration.
 5303         &lt;p/&gt;
 5304         See the &lt;internallink id=&quot;heapCallbacks&quot;&gt;heap callback
 5305         function restrictions&lt;/internallink&gt;.
 5306       &lt;/description&gt;
 5307       &lt;parameters&gt;
 5308         &lt;param id=&quot;reference_kind&quot;&gt;
 5309           &lt;enum&gt;jvmtiObjectReferenceKind&lt;/enum&gt;
 5310           &lt;description&gt;
 5311             The type of reference.
 5312           &lt;/description&gt;
 5313         &lt;/param&gt;
 5314         &lt;param id=&quot;class_tag&quot;&gt;
 5315           &lt;jlong/&gt;
 5316           &lt;description&gt;
 5317             The tag of the class of referree object (zero if the class is not tagged).
 5318             If the referree object represents a runtime class,
 5319             the  &lt;code&gt;class_tag&lt;/code&gt; is the tag
 5320             associated with &lt;code&gt;java.lang.Class&lt;/code&gt;
 5321             (zero if &lt;code&gt;java.lang.Class&lt;/code&gt; is not tagged).
 5322           &lt;/description&gt;
 5323         &lt;/param&gt;
 5324         &lt;param id=&quot;size&quot;&gt;
 5325           &lt;jlong/&gt;
 5326           &lt;description&gt;
 5327             Size of the referree object (in bytes).
 5328             See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
 5329           &lt;/description&gt;
 5330         &lt;/param&gt;
 5331         &lt;param id=&quot;tag_ptr&quot;&gt;
 5332           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5333           &lt;description&gt;
 5334             The referree object tag value, or zero if the object is not
 5335             tagged.
 5336             To set the tag value to be associated with the object
 5337             the agent sets the &lt;code&gt;jlong&lt;/code&gt; pointed to by the parameter.
 5338           &lt;/description&gt;
 5339         &lt;/param&gt;
 5340         &lt;param id=&quot;referrer_tag&quot;&gt;
 5341           &lt;jlong/&gt;
 5342           &lt;description&gt;
 5343             The tag of the referrer object, or zero if the referrer
 5344             object is not tagged.
 5345           &lt;/description&gt;
 5346         &lt;/param&gt;
 5347         &lt;param id=&quot;referrer_index&quot;&gt;
 5348           &lt;jint/&gt;
 5349           &lt;description&gt;
 5350             For references of type &lt;code&gt;JVMTI_REFERENCE_FIELD&lt;/code&gt; or
 5351             &lt;code&gt;JVMTI_REFERENCE_STATIC_FIELD&lt;/code&gt; the index
 5352             of the field in the referrer object. The index is based on the
 5353             order of all the object&#39;s fields - see &lt;internallink
 5354             id=&quot;JVMTI_REFERENCE_FIELD&quot;&gt;JVMTI_REFERENCE_FIELD&lt;/internallink&gt;
 5355             or &lt;internallink
 5356             id=&quot;JVMTI_REFERENCE_STATIC_FIELD&quot;&gt;JVMTI_REFERENCE_STATIC_FIELD
 5357             &lt;/internallink&gt; for further description.
 5358             &lt;p/&gt;
 5359             For references of type &lt;code&gt;JVMTI_REFERENCE_ARRAY_ELEMENT&lt;/code&gt;
 5360             the array index - see &lt;internallink id=&quot;JVMTI_REFERENCE_ARRAY_ELEMENT&quot;&gt;
 5361             JVMTI_REFERENCE_ARRAY_ELEMENT&lt;/internallink&gt; for further description.
 5362             &lt;p/&gt;
 5363             For references of type &lt;code&gt;JVMTI_REFERENCE_CONSTANT_POOL&lt;/code&gt;
 5364             the index into the constant pool of the class - see
 5365             &lt;internallink id=&quot;JVMTI_REFERENCE_CONSTANT_POOL&quot;&gt;
 5366             JVMTI_REFERENCE_CONSTANT_POOL&lt;/internallink&gt; for further
 5367             description.
 5368             &lt;p/&gt;
 5369             For references of other kinds the &lt;code&gt;referrer_index&lt;/code&gt; is
 5370             &lt;code&gt;-1&lt;/code&gt;.
 5371           &lt;/description&gt;
 5372         &lt;/param&gt;
 5373         &lt;param id=&quot;user_data&quot;&gt;
 5374           &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
 5375           &lt;description&gt;
 5376             The user supplied data that was passed into the iteration function.
 5377           &lt;/description&gt;
 5378         &lt;/param&gt;
 5379       &lt;/parameters&gt;
 5380     &lt;/callback&gt;
 5381 
 5382     &lt;function id=&quot;IterateOverObjectsReachableFromObject&quot; num=&quot;109&quot;&gt;
 5383       &lt;synopsis&gt;Iterate Over Objects Reachable From Object&lt;/synopsis&gt;
 5384       &lt;description&gt;
 5385         This function iterates over all objects that are directly
 5386         and indirectly reachable from the specified object.
 5387         For each object &lt;i&gt;A&lt;/i&gt; (known
 5388         as the referrer) with a reference to object &lt;i&gt;B&lt;/i&gt; the specified
 5389         callback function is called to describe the object reference.
 5390         The callback is called exactly once for each reference from a referrer;
 5391         this is true even if there are reference cycles or multiple paths to
 5392         the referrer.
 5393         There may be more than one reference between a referrer and a referree,
 5394         These may be distinguished by the
 5395         &lt;datalink id=&quot;jvmtiObjectReferenceCallback.reference_kind&quot;&gt;&lt;/datalink&gt; and
 5396         &lt;datalink id=&quot;jvmtiObjectReferenceCallback.referrer_index&quot;&gt;&lt;/datalink&gt;.
 5397         The callback for an object will always occur after the callback for
 5398         its referrer.
 5399         &lt;p/&gt;
 5400         See &lt;functionlink id=&quot;FollowReferences&quot;/&gt; for the object
 5401         references which are reported.
 5402         &lt;p/&gt;
 5403         During the execution of this function the state of the heap
 5404         does not change: no objects are allocated, no objects are
 5405         garbage collected, and the state of objects (including
 5406         held values) does not change.
 5407         As a result, threads executing Java
 5408         programming language code, threads attempting to resume the
 5409         execution of Java programming language code, and threads
 5410         attempting to execute JNI functions are typically stalled.
 5411       &lt;/description&gt;
 5412       &lt;origin&gt;new&lt;/origin&gt;
 5413       &lt;capabilities&gt;
 5414         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 5415       &lt;/capabilities&gt;
 5416       &lt;parameters&gt;
 5417         &lt;param id=&quot;object&quot;&gt;
 5418           &lt;jobject/&gt;
 5419             &lt;description&gt;
 5420               The object
 5421             &lt;/description&gt;
 5422         &lt;/param&gt;
 5423         &lt;param id=&quot;object_reference_callback&quot;&gt;
 5424           &lt;ptrtype&gt;
 5425             &lt;struct&gt;jvmtiObjectReferenceCallback&lt;/struct&gt;
 5426           &lt;/ptrtype&gt;
 5427             &lt;description&gt;
 5428               The callback to be called to describe each
 5429               object reference.
 5430             &lt;/description&gt;
 5431         &lt;/param&gt;
 5432         &lt;param id=&quot;user_data&quot;&gt;
 5433           &lt;inbuf&gt;
 5434             &lt;void/&gt;
 5435             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 5436           &lt;/inbuf&gt;
 5437           &lt;description&gt;
 5438             User supplied data to be passed to the callback.
 5439           &lt;/description&gt;
 5440         &lt;/param&gt;
 5441       &lt;/parameters&gt;
 5442       &lt;errors&gt;
 5443       &lt;/errors&gt;
 5444     &lt;/function&gt;
 5445 
 5446     &lt;function id=&quot;IterateOverReachableObjects&quot; num=&quot;110&quot;&gt;
 5447       &lt;synopsis&gt;Iterate Over Reachable Objects&lt;/synopsis&gt;
 5448       &lt;description&gt;
 5449         This function iterates over the root objects and all objects that
 5450         are directly and indirectly reachable from the root objects.
 5451         The root objects comprise the set of system classes,
 5452         JNI globals, references from thread stacks, and other objects used as roots
 5453         for the purposes of garbage collection.
 5454         &lt;p/&gt;
 5455         For each root the &lt;paramlink id=&quot;heap_root_callback&quot;&gt;&lt;/paramlink&gt;
 5456         or &lt;paramlink id=&quot;stack_ref_callback&quot;&gt;&lt;/paramlink&gt; callback is called.
 5457         An object can be a root object for more than one reason and in that case
 5458         the appropriate callback is called for each reason.
 5459         &lt;p/&gt;
 5460         For each object reference the &lt;paramlink id=&quot;object_ref_callback&quot;&gt;&lt;/paramlink&gt;
 5461         callback function is called to describe the object reference.
 5462         The callback is called exactly once for each reference from a referrer;
 5463         this is true even if there are reference cycles or multiple paths to
 5464         the referrer.
 5465         There may be more than one reference between a referrer and a referree,
 5466         These may be distinguished by the
 5467         &lt;datalink id=&quot;jvmtiObjectReferenceCallback.reference_kind&quot;&gt;&lt;/datalink&gt; and
 5468         &lt;datalink id=&quot;jvmtiObjectReferenceCallback.referrer_index&quot;&gt;&lt;/datalink&gt;.
 5469         The callback for an object will always occur after the callback for
 5470         its referrer.
 5471         &lt;p/&gt;
 5472         See &lt;functionlink id=&quot;FollowReferences&quot;/&gt; for the object
 5473         references which are reported.
 5474         &lt;p/&gt;
 5475         Roots are always reported to the profiler before any object references
 5476         are reported. In other words, the &lt;paramlink id=&quot;object_ref_callback&quot;&gt;&lt;/paramlink&gt;
 5477         callback will not be called until the appropriate callback has been called
 5478         for all roots. If the &lt;paramlink id=&quot;object_ref_callback&quot;&gt;&lt;/paramlink&gt; callback is
 5479         specified as &lt;code&gt;NULL&lt;/code&gt; then this function returns after
 5480         reporting the root objects to the profiler.
 5481         &lt;p/&gt;
 5482         During the execution of this function the state of the heap
 5483         does not change: no objects are allocated, no objects are
 5484         garbage collected, and the state of objects (including
 5485         held values) does not change.
 5486         As a result, threads executing Java
 5487         programming language code, threads attempting to resume the
 5488         execution of Java programming language code, and threads
 5489         attempting to execute JNI functions are typically stalled.
 5490       &lt;/description&gt;
 5491       &lt;origin&gt;new&lt;/origin&gt;
 5492       &lt;capabilities&gt;
 5493         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 5494       &lt;/capabilities&gt;
 5495       &lt;parameters&gt;
 5496         &lt;param id=&quot;heap_root_callback&quot;&gt;
 5497           &lt;ptrtype&gt;
 5498             &lt;struct&gt;jvmtiHeapRootCallback&lt;/struct&gt;
 5499             &lt;nullok&gt;do not report heap roots&lt;/nullok&gt;
 5500           &lt;/ptrtype&gt;
 5501             &lt;description&gt;
 5502               The callback function to be called for each heap root of type
 5503               &lt;code&gt;JVMTI_HEAP_ROOT_JNI_GLOBAL&lt;/code&gt;,
 5504               &lt;code&gt;JVMTI_HEAP_ROOT_SYSTEM_CLASS&lt;/code&gt;,
 5505               &lt;code&gt;JVMTI_HEAP_ROOT_MONITOR&lt;/code&gt;,
 5506               &lt;code&gt;JVMTI_HEAP_ROOT_THREAD&lt;/code&gt;, or
 5507               &lt;code&gt;JVMTI_HEAP_ROOT_OTHER&lt;/code&gt;.
 5508             &lt;/description&gt;
 5509         &lt;/param&gt;
 5510         &lt;param id=&quot;stack_ref_callback&quot;&gt;
 5511           &lt;ptrtype&gt;
 5512             &lt;struct&gt;jvmtiStackReferenceCallback&lt;/struct&gt;
 5513             &lt;nullok&gt;do not report stack references&lt;/nullok&gt;
 5514           &lt;/ptrtype&gt;
 5515             &lt;description&gt;
 5516               The callback function to be called for each heap root of
 5517               &lt;code&gt;JVMTI_HEAP_ROOT_STACK_LOCAL&lt;/code&gt; or
 5518               &lt;code&gt;JVMTI_HEAP_ROOT_JNI_LOCAL&lt;/code&gt;.
 5519             &lt;/description&gt;
 5520         &lt;/param&gt;
 5521         &lt;param id=&quot;object_ref_callback&quot;&gt;
 5522           &lt;ptrtype&gt;
 5523             &lt;struct&gt;jvmtiObjectReferenceCallback&lt;/struct&gt;
 5524             &lt;nullok&gt;do not follow references from the root objects&lt;/nullok&gt;
 5525           &lt;/ptrtype&gt;
 5526             &lt;description&gt;
 5527               The callback function to be called for each object reference.
 5528             &lt;/description&gt;
 5529         &lt;/param&gt;
 5530         &lt;param id=&quot;user_data&quot;&gt;
 5531           &lt;inbuf&gt;
 5532             &lt;void/&gt;
 5533             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 5534           &lt;/inbuf&gt;
 5535           &lt;description&gt;
 5536             User supplied data to be passed to the callback.
 5537           &lt;/description&gt;
 5538         &lt;/param&gt;
 5539       &lt;/parameters&gt;
 5540       &lt;errors&gt;
 5541       &lt;/errors&gt;
 5542     &lt;/function&gt;
 5543 
 5544     &lt;function id=&quot;IterateOverHeap&quot; num=&quot;111&quot;&gt;
 5545       &lt;synopsis&gt;Iterate Over Heap&lt;/synopsis&gt;
 5546       &lt;description&gt;
 5547         Iterate over all objects in the heap. This includes both reachable and
 5548         unreachable objects.
 5549         &lt;p/&gt;
 5550         The &lt;paramlink id=&quot;object_filter&quot;&gt;&lt;/paramlink&gt; parameter indicates the
 5551         objects for which the callback function is called. If this parameter
 5552         is &lt;code&gt;JVMTI_HEAP_OBJECT_TAGGED&lt;/code&gt; then the callback will only be
 5553         called for every object that is tagged. If the parameter is
 5554         &lt;code&gt;JVMTI_HEAP_OBJECT_UNTAGGED&lt;/code&gt; then the callback will only be
 5555         for objects that are not tagged. If the parameter
 5556         is &lt;code&gt;JVMTI_HEAP_OBJECT_EITHER&lt;/code&gt; then the callback will be
 5557         called for every object in the heap, irrespective of whether it is
 5558         tagged or not.
 5559         &lt;p/&gt;
 5560         During the execution of this function the state of the heap
 5561         does not change: no objects are allocated, no objects are
 5562         garbage collected, and the state of objects (including
 5563         held values) does not change.
 5564         As a result, threads executing Java
 5565         programming language code, threads attempting to resume the
 5566         execution of Java programming language code, and threads
 5567         attempting to execute JNI functions are typically stalled.
 5568       &lt;/description&gt;
 5569       &lt;origin&gt;new&lt;/origin&gt;
 5570       &lt;capabilities&gt;
 5571         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 5572       &lt;/capabilities&gt;
 5573       &lt;parameters&gt;
 5574         &lt;param id=&quot;object_filter&quot;&gt;
 5575           &lt;enum&gt;jvmtiHeapObjectFilter&lt;/enum&gt;
 5576           &lt;description&gt;
 5577             Indicates the objects for which the callback function is called.
 5578           &lt;/description&gt;
 5579         &lt;/param&gt;
 5580         &lt;param id=&quot;heap_object_callback&quot;&gt;
 5581           &lt;ptrtype&gt;
 5582             &lt;struct&gt;jvmtiHeapObjectCallback&lt;/struct&gt;
 5583           &lt;/ptrtype&gt;
 5584             &lt;description&gt;
 5585               The iterator function to be called for each
 5586               object matching the &lt;paramlink id=&quot;object_filter&quot;/&gt;.
 5587             &lt;/description&gt;
 5588         &lt;/param&gt;
 5589         &lt;param id=&quot;user_data&quot;&gt;
 5590           &lt;inbuf&gt;
 5591             &lt;void/&gt;
 5592             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 5593           &lt;/inbuf&gt;
 5594           &lt;description&gt;
 5595             User supplied data to be passed to the callback.
 5596           &lt;/description&gt;
 5597         &lt;/param&gt;
 5598       &lt;/parameters&gt;
 5599       &lt;errors&gt;
 5600       &lt;/errors&gt;
 5601     &lt;/function&gt;
 5602 
 5603     &lt;function id=&quot;IterateOverInstancesOfClass&quot; num=&quot;112&quot;&gt;
 5604       &lt;synopsis&gt;Iterate Over Instances Of Class&lt;/synopsis&gt;
 5605       &lt;description&gt;
 5606         Iterate over all objects in the heap that are instances of the specified class.
 5607         This includes direct instances of the specified class and
 5608         instances of all subclasses of the specified class.
 5609         This includes both reachable and unreachable objects.
 5610         &lt;p/&gt;
 5611         The &lt;paramlink id=&quot;object_filter&quot;&gt;&lt;/paramlink&gt; parameter indicates the
 5612         objects for which the callback function is called. If this parameter
 5613         is &lt;code&gt;JVMTI_HEAP_OBJECT_TAGGED&lt;/code&gt; then the callback will only be
 5614         called for every object that is tagged. If the parameter is
 5615         &lt;code&gt;JVMTI_HEAP_OBJECT_UNTAGGED&lt;/code&gt; then the callback will only be
 5616         called for objects that are not tagged. If the parameter
 5617         is &lt;code&gt;JVMTI_HEAP_OBJECT_EITHER&lt;/code&gt; then the callback will be
 5618         called for every object in the heap, irrespective of whether it is
 5619         tagged or not.
 5620         &lt;p/&gt;
 5621         During the execution of this function the state of the heap
 5622         does not change: no objects are allocated, no objects are
 5623         garbage collected, and the state of objects (including
 5624         held values) does not change.
 5625         As a result, threads executing Java
 5626         programming language code, threads attempting to resume the
 5627         execution of Java programming language code, and threads
 5628         attempting to execute JNI functions are typically stalled.
 5629       &lt;/description&gt;
 5630       &lt;origin&gt;new&lt;/origin&gt;
 5631       &lt;capabilities&gt;
 5632         &lt;required id=&quot;can_tag_objects&quot;&gt;&lt;/required&gt;
 5633       &lt;/capabilities&gt;
 5634       &lt;parameters&gt;
 5635         &lt;param id=&quot;klass&quot;&gt;
 5636           &lt;jclass/&gt;
 5637             &lt;description&gt;
 5638               Iterate over objects of this class only.
 5639             &lt;/description&gt;
 5640         &lt;/param&gt;
 5641         &lt;param id=&quot;object_filter&quot;&gt;
 5642           &lt;enum&gt;jvmtiHeapObjectFilter&lt;/enum&gt;
 5643           &lt;description&gt;
 5644             Indicates the objects for which the callback function is called.
 5645           &lt;/description&gt;
 5646         &lt;/param&gt;
 5647         &lt;param id=&quot;heap_object_callback&quot;&gt;
 5648           &lt;ptrtype&gt;
 5649             &lt;struct&gt;jvmtiHeapObjectCallback&lt;/struct&gt;
 5650           &lt;/ptrtype&gt;
 5651             &lt;description&gt;
 5652               The iterator function to be called for each
 5653               &lt;paramlink id=&quot;klass&quot;/&gt; instance matching
 5654               the &lt;paramlink id=&quot;object_filter&quot;/&gt;.
 5655             &lt;/description&gt;
 5656         &lt;/param&gt;
 5657         &lt;param id=&quot;user_data&quot;&gt;
 5658           &lt;inbuf&gt;
 5659             &lt;void/&gt;
 5660             &lt;nullok&gt;&lt;code&gt;NULL&lt;/code&gt; is passed as the user supplied data&lt;/nullok&gt;
 5661           &lt;/inbuf&gt;
 5662           &lt;description&gt;
 5663             User supplied data to be passed to the callback.
 5664           &lt;/description&gt;
 5665         &lt;/param&gt;
 5666       &lt;/parameters&gt;
 5667       &lt;errors&gt;
 5668       &lt;/errors&gt;
 5669     &lt;/function&gt;
 5670 
 5671   &lt;/category&gt;
 5672 
 5673   &lt;category id=&quot;local&quot; label=&quot;Local Variable&quot;&gt;
 5674 
 5675     &lt;intro&gt;
 5676       These functions are used to retrieve or set the value of a local variable.
 5677       The variable is identified by the depth of the frame containing its
 5678       value and the variable&#39;s slot number within that frame.
 5679       The mapping of variables to
 5680       slot numbers can be obtained with the function
 5681       &lt;functionlink id=&quot;GetLocalVariableTable&quot;&gt;&lt;/functionlink&gt;.
 5682     &lt;/intro&gt;
 5683 
 5684     &lt;function id=&quot;GetLocalObject&quot; num=&quot;21&quot;&gt;
 5685       &lt;synopsis&gt;Get Local Variable - Object&lt;/synopsis&gt;
 5686       &lt;description&gt;
 5687         This function can be used to retrieve the value of a local
 5688         variable whose type is &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 5689       &lt;/description&gt;
 5690       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5691       &lt;capabilities&gt;
 5692         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5693       &lt;/capabilities&gt;
 5694       &lt;parameters&gt;
 5695         &lt;param id=&quot;thread&quot;&gt;
 5696           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5697           &lt;description&gt;
 5698             The thread of the frame containing the variable&#39;s value.
 5699           &lt;/description&gt;
 5700         &lt;/param&gt;
 5701         &lt;param id=&quot;depth&quot;&gt;
 5702           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5703           &lt;description&gt;
 5704             The depth of the frame containing the variable&#39;s value.
 5705           &lt;/description&gt;
 5706         &lt;/param&gt;
 5707         &lt;param id=&quot;slot&quot;&gt;
 5708           &lt;jint/&gt;
 5709           &lt;description&gt;
 5710             The variable&#39;s slot number.
 5711           &lt;/description&gt;
 5712         &lt;/param&gt;
 5713         &lt;param id=&quot;value_ptr&quot;&gt;
 5714           &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 5715             &lt;description&gt;
 5716               On return, points to the variable&#39;s value.
 5717             &lt;/description&gt;
 5718         &lt;/param&gt;
 5719       &lt;/parameters&gt;
 5720       &lt;errors&gt;
 5721         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5722           Invalid &lt;code&gt;slot&lt;/code&gt;.
 5723         &lt;/error&gt;
 5724         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5725           The variable type is not
 5726           &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 5727         &lt;/error&gt;
 5728         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5729           Not a visible frame
 5730         &lt;/error&gt;
 5731       &lt;/errors&gt;
 5732     &lt;/function&gt;
 5733 
 5734     &lt;function id=&quot;GetLocalInstance&quot; num=&quot;155&quot; since=&quot;1.2&quot;&gt;
 5735       &lt;synopsis&gt;Get Local Instance&lt;/synopsis&gt;
 5736       &lt;description&gt;
 5737         This function can be used to retrieve the value of the local object
 5738         variable at slot 0 (the &quot;&lt;code&gt;this&lt;/code&gt;&quot; object) from non-static
 5739         frames.  This function can retrieve the &quot;&lt;code&gt;this&lt;/code&gt;&quot; object from
 5740         native method frames, whereas &lt;code&gt;GetLocalObject()&lt;/code&gt; would
 5741         return &lt;code&gt;JVMTI_ERROR_OPAQUE_FRAME&lt;/code&gt; in those cases.
 5742       &lt;/description&gt;
 5743       &lt;origin&gt;new&lt;/origin&gt;
 5744       &lt;capabilities&gt;
 5745         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5746       &lt;/capabilities&gt;
 5747       &lt;parameters&gt;
 5748         &lt;param id=&quot;thread&quot;&gt;
 5749           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5750           &lt;description&gt;
 5751             The thread of the frame containing the variable&#39;s value.
 5752           &lt;/description&gt;
 5753         &lt;/param&gt;
 5754         &lt;param id=&quot;depth&quot;&gt;
 5755           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5756           &lt;description&gt;
 5757             The depth of the frame containing the variable&#39;s value.
 5758           &lt;/description&gt;
 5759         &lt;/param&gt;
 5760         &lt;param id=&quot;value_ptr&quot;&gt;
 5761           &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 5762             &lt;description&gt;
 5763               On return, points to the variable&#39;s value.
 5764             &lt;/description&gt;
 5765         &lt;/param&gt;
 5766       &lt;/parameters&gt;
 5767       &lt;errors&gt;
 5768         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5769           If the specified frame is a static method frame.
 5770         &lt;/error&gt;
 5771       &lt;/errors&gt;
 5772     &lt;/function&gt;
 5773     &lt;function id=&quot;GetLocalInt&quot; num=&quot;22&quot;&gt;
 5774       &lt;synopsis&gt;Get Local Variable - Int&lt;/synopsis&gt;
 5775       &lt;description&gt;
 5776         This function can be used to retrieve the value of a local
 5777         variable whose type is &lt;code&gt;int&lt;/code&gt;,
 5778         &lt;code&gt;short&lt;/code&gt;, &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 5779         &lt;code&gt;boolean&lt;/code&gt;.
 5780       &lt;/description&gt;
 5781       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5782       &lt;capabilities&gt;
 5783         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5784       &lt;/capabilities&gt;
 5785       &lt;parameters&gt;
 5786         &lt;param id=&quot;thread&quot;&gt;
 5787           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5788           &lt;description&gt;
 5789             The thread of the frame containing the variable&#39;s value.
 5790           &lt;/description&gt;
 5791         &lt;/param&gt;
 5792         &lt;param id=&quot;depth&quot;&gt;
 5793           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5794           &lt;description&gt;
 5795             The depth of the frame containing the variable&#39;s value.
 5796           &lt;/description&gt;
 5797         &lt;/param&gt;
 5798         &lt;param id=&quot;slot&quot;&gt;
 5799           &lt;jint/&gt;
 5800           &lt;description&gt;
 5801             The variable&#39;s slot number.
 5802           &lt;/description&gt;
 5803         &lt;/param&gt;
 5804         &lt;param id=&quot;value_ptr&quot;&gt;
 5805           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 5806           &lt;description&gt;
 5807             On return, points to the variable&#39;s value.
 5808           &lt;/description&gt;
 5809         &lt;/param&gt;
 5810       &lt;/parameters&gt;
 5811       &lt;errors&gt;
 5812         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5813           Invalid &lt;code&gt;slot&lt;/code&gt;.
 5814         &lt;/error&gt;
 5815         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5816           The variable type is not
 5817           &lt;code&gt;int&lt;/code&gt;, &lt;code&gt;short&lt;/code&gt;,
 5818           &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 5819           &lt;code&gt;boolean&lt;/code&gt;.
 5820         &lt;/error&gt;
 5821         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5822           Not a visible frame
 5823         &lt;/error&gt;
 5824       &lt;/errors&gt;
 5825     &lt;/function&gt;
 5826 
 5827     &lt;function id=&quot;GetLocalLong&quot; num=&quot;23&quot;&gt;
 5828       &lt;synopsis&gt;Get Local Variable - Long&lt;/synopsis&gt;
 5829       &lt;description&gt;
 5830         This function can be used to retrieve the value of a local
 5831         variable whose type is &lt;code&gt;long&lt;/code&gt;.
 5832       &lt;/description&gt;
 5833       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5834       &lt;capabilities&gt;
 5835         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5836       &lt;/capabilities&gt;
 5837       &lt;parameters&gt;
 5838         &lt;param id=&quot;thread&quot;&gt;
 5839           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5840           &lt;description&gt;
 5841             The thread of the frame containing the variable&#39;s value.
 5842           &lt;/description&gt;
 5843         &lt;/param&gt;
 5844         &lt;param id=&quot;depth&quot;&gt;
 5845           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5846           &lt;description&gt;
 5847             The depth of the frame containing the variable&#39;s value.
 5848           &lt;/description&gt;
 5849         &lt;/param&gt;
 5850         &lt;param id=&quot;slot&quot;&gt;
 5851           &lt;jint/&gt;
 5852           &lt;description&gt;
 5853             The variable&#39;s slot number.
 5854           &lt;/description&gt;
 5855         &lt;/param&gt;
 5856         &lt;param id=&quot;value_ptr&quot;&gt;
 5857           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 5858           &lt;description&gt;
 5859             On return, points to the variable&#39;s value.
 5860           &lt;/description&gt;
 5861         &lt;/param&gt;
 5862       &lt;/parameters&gt;
 5863       &lt;errors&gt;
 5864         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5865           Invalid &lt;code&gt;slot&lt;/code&gt;.
 5866         &lt;/error&gt;
 5867         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5868           The variable type is not &lt;code&gt;long&lt;/code&gt;.
 5869         &lt;/error&gt;
 5870         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5871           Not a visible frame
 5872         &lt;/error&gt;
 5873       &lt;/errors&gt;
 5874     &lt;/function&gt;
 5875 
 5876     &lt;function id=&quot;GetLocalFloat&quot; num=&quot;24&quot;&gt;
 5877       &lt;synopsis&gt;Get Local Variable - Float&lt;/synopsis&gt;
 5878       &lt;description&gt;
 5879         This function can be used to retrieve the value of a local
 5880         variable whose type is &lt;code&gt;float&lt;/code&gt;.
 5881       &lt;/description&gt;
 5882       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5883       &lt;capabilities&gt;
 5884         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5885       &lt;/capabilities&gt;
 5886       &lt;parameters&gt;
 5887         &lt;param id=&quot;thread&quot;&gt;
 5888           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5889           &lt;description&gt;
 5890             The thread of the frame containing the variable&#39;s value.
 5891           &lt;/description&gt;
 5892         &lt;/param&gt;
 5893         &lt;param id=&quot;depth&quot;&gt;
 5894           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5895           &lt;description&gt;
 5896             The depth of the frame containing the variable&#39;s value.
 5897           &lt;/description&gt;
 5898         &lt;/param&gt;
 5899         &lt;param id=&quot;slot&quot;&gt;
 5900           &lt;jint/&gt;
 5901           &lt;description&gt;
 5902             The variable&#39;s slot number.
 5903           &lt;/description&gt;
 5904         &lt;/param&gt;
 5905         &lt;param id=&quot;value_ptr&quot;&gt;
 5906           &lt;outptr&gt;&lt;jfloat/&gt;&lt;/outptr&gt;
 5907           &lt;description&gt;
 5908             On return, points to the variable&#39;s value.
 5909           &lt;/description&gt;
 5910         &lt;/param&gt;
 5911       &lt;/parameters&gt;
 5912       &lt;errors&gt;
 5913         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5914           Invalid &lt;code&gt;slot&lt;/code&gt;.
 5915         &lt;/error&gt;
 5916         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5917           The variable type is not &lt;code&gt;float&lt;/code&gt;.
 5918         &lt;/error&gt;
 5919         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5920           Not a visible frame
 5921         &lt;/error&gt;
 5922       &lt;/errors&gt;
 5923     &lt;/function&gt;
 5924 
 5925     &lt;function id=&quot;GetLocalDouble&quot; num=&quot;25&quot;&gt;
 5926       &lt;synopsis&gt;Get Local Variable - Double&lt;/synopsis&gt;
 5927       &lt;description&gt;
 5928         This function can be used to retrieve the value of a local
 5929         variable whose type is &lt;code&gt;long&lt;/code&gt;.
 5930       &lt;/description&gt;
 5931       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5932       &lt;capabilities&gt;
 5933         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5934       &lt;/capabilities&gt;
 5935       &lt;parameters&gt;
 5936         &lt;param id=&quot;thread&quot;&gt;
 5937           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5938           &lt;description&gt;
 5939             The thread of the frame containing the variable&#39;s value.
 5940           &lt;/description&gt;
 5941         &lt;/param&gt;
 5942         &lt;param id=&quot;depth&quot;&gt;
 5943           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5944           &lt;description&gt;
 5945             The depth of the frame containing the variable&#39;s value.
 5946           &lt;/description&gt;
 5947         &lt;/param&gt;
 5948         &lt;param id=&quot;slot&quot;&gt;
 5949           &lt;jint/&gt;
 5950           &lt;description&gt;
 5951             The variable&#39;s slot number.
 5952           &lt;/description&gt;
 5953         &lt;/param&gt;
 5954         &lt;param id=&quot;value_ptr&quot;&gt;
 5955           &lt;outptr&gt;&lt;jdouble/&gt;&lt;/outptr&gt;
 5956           &lt;description&gt;
 5957             On return, points to the variable&#39;s value.
 5958           &lt;/description&gt;
 5959         &lt;/param&gt;
 5960       &lt;/parameters&gt;
 5961       &lt;errors&gt;
 5962         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 5963           Invalid &lt;code&gt;slot&lt;/code&gt;.
 5964         &lt;/error&gt;
 5965         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 5966           The variable type is not &lt;code&gt;double&lt;/code&gt;.
 5967         &lt;/error&gt;
 5968         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 5969           Not a visible frame
 5970         &lt;/error&gt;
 5971       &lt;/errors&gt;
 5972     &lt;/function&gt;
 5973 
 5974     &lt;function id=&quot;SetLocalObject&quot; num=&quot;26&quot;&gt;
 5975       &lt;synopsis&gt;Set Local Variable - Object&lt;/synopsis&gt;
 5976       &lt;description&gt;
 5977         This function can be used to set the value of a local
 5978         variable whose type is &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 5979       &lt;/description&gt;
 5980       &lt;origin&gt;jvmdi&lt;/origin&gt;
 5981       &lt;capabilities&gt;
 5982         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 5983       &lt;/capabilities&gt;
 5984       &lt;parameters&gt;
 5985         &lt;param id=&quot;thread&quot;&gt;
 5986           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 5987           &lt;description&gt;
 5988             The thread of the frame containing the variable&#39;s value.
 5989           &lt;/description&gt;
 5990         &lt;/param&gt;
 5991         &lt;param id=&quot;depth&quot;&gt;
 5992           &lt;jframeID thread=&quot;thread&quot;/&gt;
 5993           &lt;description&gt;
 5994             The depth of the frame containing the variable&#39;s value.
 5995           &lt;/description&gt;
 5996         &lt;/param&gt;
 5997         &lt;param id=&quot;slot&quot;&gt;
 5998           &lt;jint/&gt;
 5999           &lt;description&gt;
 6000             The variable&#39;s slot number.
 6001           &lt;/description&gt;
 6002         &lt;/param&gt;
 6003         &lt;param id=&quot;value&quot;&gt;
 6004           &lt;jobject/&gt;
 6005             &lt;description&gt;
 6006               The new value for the variable.
 6007             &lt;/description&gt;
 6008         &lt;/param&gt;
 6009       &lt;/parameters&gt;
 6010       &lt;errors&gt;
 6011         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6012           Invalid &lt;code&gt;slot&lt;/code&gt;.
 6013         &lt;/error&gt;
 6014         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6015           The variable type is not
 6016           &lt;code&gt;Object&lt;/code&gt; or a subclass of &lt;code&gt;Object&lt;/code&gt;.
 6017         &lt;/error&gt;
 6018         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6019           The supplied &lt;paramlink id=&quot;value&quot;/&gt; is not compatible
 6020           with the variable type.
 6021         &lt;/error&gt;
 6022         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6023           Not a visible frame
 6024         &lt;/error&gt;
 6025       &lt;/errors&gt;
 6026     &lt;/function&gt;
 6027 
 6028     &lt;function id=&quot;SetLocalInt&quot; num=&quot;27&quot;&gt;
 6029       &lt;synopsis&gt;Set Local Variable - Int&lt;/synopsis&gt;
 6030       &lt;description&gt;
 6031         This function can be used to set the value of a local
 6032         variable whose type is &lt;code&gt;int&lt;/code&gt;,
 6033         &lt;code&gt;short&lt;/code&gt;, &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 6034         &lt;code&gt;boolean&lt;/code&gt;.
 6035       &lt;/description&gt;
 6036       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6037       &lt;capabilities&gt;
 6038         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 6039       &lt;/capabilities&gt;
 6040       &lt;parameters&gt;
 6041         &lt;param id=&quot;thread&quot;&gt;
 6042           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 6043           &lt;description&gt;
 6044             The thread of the frame containing the variable&#39;s value.
 6045           &lt;/description&gt;
 6046         &lt;/param&gt;
 6047         &lt;param id=&quot;depth&quot;&gt;
 6048           &lt;jframeID thread=&quot;thread&quot;/&gt;
 6049           &lt;description&gt;
 6050             The depth of the frame containing the variable&#39;s value.
 6051           &lt;/description&gt;
 6052         &lt;/param&gt;
 6053         &lt;param id=&quot;slot&quot;&gt;
 6054           &lt;jint/&gt;
 6055           &lt;description&gt;
 6056             The variable&#39;s slot number.
 6057           &lt;/description&gt;
 6058         &lt;/param&gt;
 6059         &lt;param id=&quot;value&quot;&gt;
 6060           &lt;jint/&gt;
 6061           &lt;description&gt;
 6062             The new value for the variable.
 6063           &lt;/description&gt;
 6064         &lt;/param&gt;
 6065       &lt;/parameters&gt;
 6066       &lt;errors&gt;
 6067         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6068           Invalid &lt;code&gt;slot&lt;/code&gt;.
 6069         &lt;/error&gt;
 6070         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6071           The variable type is not
 6072           &lt;code&gt;int&lt;/code&gt;, &lt;code&gt;short&lt;/code&gt;,
 6073           &lt;code&gt;char&lt;/code&gt;, &lt;code&gt;byte&lt;/code&gt;, or
 6074           &lt;code&gt;boolean&lt;/code&gt;.
 6075         &lt;/error&gt;
 6076         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6077           Not a visible frame
 6078         &lt;/error&gt;
 6079       &lt;/errors&gt;
 6080     &lt;/function&gt;
 6081 
 6082     &lt;function id=&quot;SetLocalLong&quot; num=&quot;28&quot;&gt;
 6083       &lt;synopsis&gt;Set Local Variable - Long&lt;/synopsis&gt;
 6084       &lt;description&gt;
 6085         This function can be used to set the value of a local
 6086         variable whose type is &lt;code&gt;long&lt;/code&gt;.
 6087       &lt;/description&gt;
 6088       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6089       &lt;capabilities&gt;
 6090         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 6091       &lt;/capabilities&gt;
 6092       &lt;parameters&gt;
 6093         &lt;param id=&quot;thread&quot;&gt;
 6094           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 6095           &lt;description&gt;
 6096             The thread of the frame containing the variable&#39;s value.
 6097           &lt;/description&gt;
 6098         &lt;/param&gt;
 6099         &lt;param id=&quot;depth&quot;&gt;
 6100           &lt;jframeID thread=&quot;thread&quot;/&gt;
 6101           &lt;description&gt;
 6102             The depth of the frame containing the variable&#39;s value.
 6103           &lt;/description&gt;
 6104         &lt;/param&gt;
 6105         &lt;param id=&quot;slot&quot;&gt;
 6106           &lt;jint/&gt;
 6107           &lt;description&gt;
 6108             The variable&#39;s slot number.
 6109           &lt;/description&gt;
 6110         &lt;/param&gt;
 6111         &lt;param id=&quot;value&quot;&gt;
 6112           &lt;jlong/&gt;
 6113           &lt;description&gt;
 6114             The new value for the variable.
 6115           &lt;/description&gt;
 6116         &lt;/param&gt;
 6117       &lt;/parameters&gt;
 6118       &lt;errors&gt;
 6119         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6120           Invalid &lt;code&gt;slot&lt;/code&gt;.
 6121         &lt;/error&gt;
 6122         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6123           The variable type is not &lt;code&gt;long&lt;/code&gt;.
 6124         &lt;/error&gt;
 6125         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6126           Not a visible frame
 6127         &lt;/error&gt;
 6128       &lt;/errors&gt;
 6129     &lt;/function&gt;
 6130 
 6131     &lt;function id=&quot;SetLocalFloat&quot; num=&quot;29&quot;&gt;
 6132       &lt;synopsis&gt;Set Local Variable - Float&lt;/synopsis&gt;
 6133       &lt;description&gt;
 6134         This function can be used to set the value of a local
 6135         variable whose type is &lt;code&gt;float&lt;/code&gt;.
 6136       &lt;/description&gt;
 6137       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6138       &lt;capabilities&gt;
 6139         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 6140       &lt;/capabilities&gt;
 6141       &lt;parameters&gt;
 6142         &lt;param id=&quot;thread&quot;&gt;
 6143           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 6144           &lt;description&gt;
 6145             The thread of the frame containing the variable&#39;s value.
 6146           &lt;/description&gt;
 6147         &lt;/param&gt;
 6148         &lt;param id=&quot;depth&quot;&gt;
 6149           &lt;jframeID thread=&quot;thread&quot;/&gt;
 6150           &lt;description&gt;
 6151             The depth of the frame containing the variable&#39;s value.
 6152           &lt;/description&gt;
 6153         &lt;/param&gt;
 6154         &lt;param id=&quot;slot&quot;&gt;
 6155           &lt;jint/&gt;
 6156           &lt;description&gt;
 6157             The variable&#39;s slot number.
 6158           &lt;/description&gt;
 6159         &lt;/param&gt;
 6160         &lt;param id=&quot;value&quot;&gt;
 6161           &lt;jfloat/&gt;
 6162           &lt;description&gt;
 6163             The new value for the variable.
 6164           &lt;/description&gt;
 6165         &lt;/param&gt;
 6166       &lt;/parameters&gt;
 6167       &lt;errors&gt;
 6168         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6169           Invalid &lt;code&gt;slot&lt;/code&gt;.
 6170         &lt;/error&gt;
 6171         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6172           The variable type is not &lt;code&gt;float&lt;/code&gt;.
 6173         &lt;/error&gt;
 6174         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6175           Not a visible frame
 6176         &lt;/error&gt;
 6177       &lt;/errors&gt;
 6178     &lt;/function&gt;
 6179 
 6180     &lt;function id=&quot;SetLocalDouble&quot; num=&quot;30&quot;&gt;
 6181       &lt;synopsis&gt;Set Local Variable - Double&lt;/synopsis&gt;
 6182       &lt;description&gt;
 6183         This function can be used to set the value of a local
 6184         variable whose type is &lt;code&gt;double&lt;/code&gt;.
 6185       &lt;/description&gt;
 6186       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6187       &lt;capabilities&gt;
 6188         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 6189       &lt;/capabilities&gt;
 6190       &lt;parameters&gt;
 6191         &lt;param id=&quot;thread&quot;&gt;
 6192           &lt;jthread null=&quot;current&quot; frame=&quot;frame&quot;/&gt;
 6193           &lt;description&gt;
 6194             The thread of the frame containing the variable&#39;s value.
 6195           &lt;/description&gt;
 6196         &lt;/param&gt;
 6197         &lt;param id=&quot;depth&quot;&gt;
 6198           &lt;jframeID thread=&quot;thread&quot;/&gt;
 6199           &lt;description&gt;
 6200             The depth of the frame containing the variable&#39;s value.
 6201           &lt;/description&gt;
 6202         &lt;/param&gt;
 6203         &lt;param id=&quot;slot&quot;&gt;
 6204           &lt;jint/&gt;
 6205           &lt;description&gt;
 6206             The variable&#39;s slot number.
 6207           &lt;/description&gt;
 6208         &lt;/param&gt;
 6209         &lt;param id=&quot;value&quot;&gt;
 6210           &lt;jdouble/&gt;
 6211           &lt;description&gt;
 6212             The new value for the variable.
 6213           &lt;/description&gt;
 6214         &lt;/param&gt;
 6215       &lt;/parameters&gt;
 6216       &lt;errors&gt;
 6217         &lt;error id=&quot;JVMTI_ERROR_INVALID_SLOT&quot;&gt;
 6218           Invalid &lt;code&gt;slot&lt;/code&gt;.
 6219         &lt;/error&gt;
 6220         &lt;error id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot;&gt;
 6221           The variable type is not &lt;code&gt;double&lt;/code&gt;.
 6222         &lt;/error&gt;
 6223         &lt;error id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot;&gt;
 6224           Not a visible frame
 6225         &lt;/error&gt;
 6226       &lt;/errors&gt;
 6227     &lt;/function&gt;
 6228   &lt;/category&gt;
 6229 
 6230   &lt;category id=&quot;breakpointCategory&quot; label=&quot;Breakpoint&quot;&gt;
 6231 
 6232     &lt;intro&gt;
 6233     &lt;/intro&gt;
 6234 
 6235     &lt;function id=&quot;SetBreakpoint&quot; num=&quot;38&quot;&gt;
 6236       &lt;synopsis&gt;Set Breakpoint&lt;/synopsis&gt;
 6237       &lt;description&gt;
 6238         Set a breakpoint at the instruction indicated by
 6239         &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;.
 6240         An instruction can only have one breakpoint.
 6241         &lt;p/&gt;
 6242         Whenever the designated instruction is about to be executed, a
 6243         &lt;eventlink id=&quot;Breakpoint&quot;&gt;&lt;/eventlink&gt; event is generated.
 6244       &lt;/description&gt;
 6245       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6246       &lt;capabilities&gt;
 6247         &lt;required id=&quot;can_generate_breakpoint_events&quot;&gt;&lt;/required&gt;
 6248       &lt;/capabilities&gt;
 6249       &lt;parameters&gt;
 6250         &lt;param id=&quot;klass&quot;&gt;
 6251           &lt;jclass method=&quot;method&quot;/&gt;
 6252             &lt;description&gt;
 6253               The class in which to set the breakpoint
 6254             &lt;/description&gt;
 6255         &lt;/param&gt;
 6256         &lt;param id=&quot;method&quot;&gt;
 6257           &lt;jmethodID class=&quot;klass&quot;/&gt;
 6258             &lt;description&gt;
 6259               The method in which to set the breakpoint
 6260             &lt;/description&gt;
 6261         &lt;/param&gt;
 6262         &lt;param id=&quot;location&quot;&gt;
 6263           &lt;jlocation/&gt;
 6264           &lt;description&gt;
 6265             the index of the instruction at which to set the breakpoint
 6266 
 6267           &lt;/description&gt;
 6268         &lt;/param&gt;
 6269       &lt;/parameters&gt;
 6270       &lt;errors&gt;
 6271         &lt;error id=&quot;JVMTI_ERROR_DUPLICATE&quot;&gt;
 6272           The designated bytecode already has a breakpoint.
 6273         &lt;/error&gt;
 6274       &lt;/errors&gt;
 6275     &lt;/function&gt;
 6276 
 6277     &lt;function id=&quot;ClearBreakpoint&quot; num=&quot;39&quot;&gt;
 6278       &lt;synopsis&gt;Clear Breakpoint&lt;/synopsis&gt;
 6279       &lt;description&gt;
 6280         Clear the breakpoint at the bytecode indicated by
 6281         &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;.
 6282       &lt;/description&gt;
 6283       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6284       &lt;capabilities&gt;
 6285         &lt;required id=&quot;can_generate_breakpoint_events&quot;&gt;&lt;/required&gt;
 6286       &lt;/capabilities&gt;
 6287       &lt;parameters&gt;
 6288         &lt;param id=&quot;klass&quot;&gt;
 6289           &lt;jclass method=&quot;method&quot;/&gt;
 6290             &lt;description&gt;
 6291               The class in which to clear the breakpoint
 6292             &lt;/description&gt;
 6293         &lt;/param&gt;
 6294         &lt;param id=&quot;method&quot;&gt;
 6295           &lt;jmethodID class=&quot;klass&quot;/&gt;
 6296             &lt;description&gt;
 6297               The method in which to clear the breakpoint
 6298             &lt;/description&gt;
 6299         &lt;/param&gt;
 6300         &lt;param id=&quot;location&quot;&gt;
 6301           &lt;jlocation/&gt;
 6302           &lt;description&gt;
 6303             the index of the instruction at which to clear the breakpoint
 6304           &lt;/description&gt;
 6305         &lt;/param&gt;
 6306       &lt;/parameters&gt;
 6307       &lt;errors&gt;
 6308         &lt;error id=&quot;JVMTI_ERROR_NOT_FOUND&quot;&gt;
 6309           There&#39;s no breakpoint at the designated bytecode.
 6310         &lt;/error&gt;
 6311       &lt;/errors&gt;
 6312     &lt;/function&gt;
 6313 
 6314   &lt;/category&gt;
 6315 
 6316   &lt;category id=&quot;fieldWatch&quot; label=&quot;Watched Field&quot;&gt;
 6317 
 6318     &lt;intro&gt;
 6319     &lt;/intro&gt;
 6320 
 6321     &lt;function id=&quot;SetFieldAccessWatch&quot; num=&quot;41&quot;&gt;
 6322       &lt;synopsis&gt;Set Field Access Watch&lt;/synopsis&gt;
 6323       &lt;description&gt;
 6324         Generate a &lt;eventlink id=&quot;FieldAccess&quot;&gt;&lt;/eventlink&gt; event
 6325         when the field specified
 6326         by &lt;code&gt;klass&lt;/code&gt; and
 6327         &lt;code&gt;field&lt;/code&gt; is about to be accessed.
 6328         An event will be generated for each access of the field
 6329         until it is canceled with
 6330         &lt;functionlink id=&quot;ClearFieldAccessWatch&quot;&gt;&lt;/functionlink&gt;.
 6331         Field accesses from Java programming language code or from JNI code are watched,
 6332         fields modified by other means are not watched.
 6333         Note that &lt;jvmti/&gt; users should be aware that their own field accesses
 6334         will trigger the watch.
 6335         A field can only have one field access watch set.
 6336         Modification of a field is not considered an access--use
 6337         &lt;functionlink id=&quot;SetFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;
 6338         to monitor modifications.
 6339       &lt;/description&gt;
 6340       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6341       &lt;capabilities&gt;
 6342         &lt;required id=&quot;can_generate_field_access_events&quot;&gt;&lt;/required&gt;
 6343       &lt;/capabilities&gt;
 6344       &lt;parameters&gt;
 6345         &lt;param id=&quot;klass&quot;&gt;
 6346           &lt;jclass field=&quot;field&quot;/&gt;
 6347             &lt;description&gt;
 6348               The class containing the field to watch
 6349             &lt;/description&gt;
 6350         &lt;/param&gt;
 6351         &lt;param id=&quot;field&quot;&gt;
 6352           &lt;jfieldID class=&quot;klass&quot;/&gt;
 6353             &lt;description&gt;
 6354               The field to watch
 6355 
 6356             &lt;/description&gt;
 6357         &lt;/param&gt;
 6358       &lt;/parameters&gt;
 6359       &lt;errors&gt;
 6360         &lt;error id=&quot;JVMTI_ERROR_DUPLICATE&quot;&gt;
 6361           The designated field is already being watched for accesses.
 6362         &lt;/error&gt;
 6363       &lt;/errors&gt;
 6364     &lt;/function&gt;
 6365 
 6366     &lt;function id=&quot;ClearFieldAccessWatch&quot; num=&quot;42&quot;&gt;
 6367       &lt;synopsis&gt;Clear Field Access Watch&lt;/synopsis&gt;
 6368       &lt;description&gt;
 6369         Cancel a field access watch previously set by
 6370         &lt;functionlink id=&quot;SetFieldAccessWatch&quot;&gt;&lt;/functionlink&gt;, on the
 6371         field specified
 6372         by &lt;code&gt;klass&lt;/code&gt; and
 6373         &lt;code&gt;field&lt;/code&gt;.
 6374       &lt;/description&gt;
 6375       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6376       &lt;capabilities&gt;
 6377         &lt;required id=&quot;can_generate_field_access_events&quot;&gt;&lt;/required&gt;
 6378       &lt;/capabilities&gt;
 6379       &lt;parameters&gt;
 6380         &lt;param id=&quot;klass&quot;&gt;
 6381           &lt;jclass field=&quot;field&quot;/&gt;
 6382             &lt;description&gt;
 6383               The class containing the field to watch
 6384             &lt;/description&gt;
 6385         &lt;/param&gt;
 6386         &lt;param id=&quot;field&quot;&gt;
 6387           &lt;jfieldID class=&quot;klass&quot;/&gt;
 6388             &lt;description&gt;
 6389               The field to watch
 6390 
 6391             &lt;/description&gt;
 6392         &lt;/param&gt;
 6393       &lt;/parameters&gt;
 6394       &lt;errors&gt;
 6395         &lt;error id=&quot;JVMTI_ERROR_NOT_FOUND&quot;&gt;
 6396           The designated field is not being watched for accesses.
 6397         &lt;/error&gt;
 6398       &lt;/errors&gt;
 6399     &lt;/function&gt;
 6400 
 6401     &lt;function id=&quot;SetFieldModificationWatch&quot; num=&quot;43&quot;&gt;
 6402       &lt;synopsis&gt;Set Field Modification Watch&lt;/synopsis&gt;
 6403       &lt;description&gt;
 6404         Generate a &lt;eventlink id=&quot;FieldModification&quot;&gt;&lt;/eventlink&gt; event
 6405         when the field specified
 6406         by &lt;code&gt;klass&lt;/code&gt; and
 6407         &lt;code&gt;field&lt;/code&gt; is about to be modified.
 6408         An event will be generated for each modification of the field
 6409         until it is canceled with
 6410         &lt;functionlink id=&quot;ClearFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;.
 6411         Field modifications from Java programming language code or from JNI code are watched,
 6412         fields modified by other means are not watched.
 6413         Note that &lt;jvmti/&gt; users should be aware that their own field modifications
 6414         will trigger the watch.
 6415         A field can only have one field modification watch set.
 6416       &lt;/description&gt;
 6417       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6418       &lt;capabilities&gt;
 6419         &lt;required id=&quot;can_generate_field_modification_events&quot;&gt;&lt;/required&gt;
 6420       &lt;/capabilities&gt;
 6421       &lt;parameters&gt;
 6422         &lt;param id=&quot;klass&quot;&gt;
 6423           &lt;jclass field=&quot;field&quot;/&gt;
 6424             &lt;description&gt;
 6425               The class containing the field to watch
 6426             &lt;/description&gt;
 6427         &lt;/param&gt;
 6428         &lt;param id=&quot;field&quot;&gt;
 6429           &lt;jfieldID class=&quot;klass&quot;/&gt;
 6430             &lt;description&gt;
 6431               The field to watch
 6432 
 6433             &lt;/description&gt;
 6434         &lt;/param&gt;
 6435       &lt;/parameters&gt;
 6436       &lt;errors&gt;
 6437         &lt;error id=&quot;JVMTI_ERROR_DUPLICATE&quot;&gt;
 6438           The designated field is already being watched for modifications.
 6439         &lt;/error&gt;
 6440       &lt;/errors&gt;
 6441     &lt;/function&gt;
 6442 
 6443     &lt;function id=&quot;ClearFieldModificationWatch&quot; num=&quot;44&quot;&gt;
 6444       &lt;synopsis&gt;Clear Field Modification Watch&lt;/synopsis&gt;
 6445       &lt;description&gt;
 6446 
 6447         Cancel a field modification watch previously set by
 6448         &lt;functionlink id=&quot;SetFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;, on the
 6449         field specified
 6450         by &lt;code&gt;klass&lt;/code&gt; and
 6451         &lt;code&gt;field&lt;/code&gt;.
 6452       &lt;/description&gt;
 6453       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6454       &lt;capabilities&gt;
 6455         &lt;required id=&quot;can_generate_field_modification_events&quot;&gt;&lt;/required&gt;
 6456       &lt;/capabilities&gt;
 6457       &lt;parameters&gt;
 6458         &lt;param id=&quot;klass&quot;&gt;
 6459           &lt;jclass field=&quot;field&quot;/&gt;
 6460             &lt;description&gt;
 6461               The class containing the field to watch
 6462             &lt;/description&gt;
 6463         &lt;/param&gt;
 6464         &lt;param id=&quot;field&quot;&gt;
 6465           &lt;jfieldID class=&quot;klass&quot;/&gt;
 6466             &lt;description&gt;
 6467               The field to watch
 6468 
 6469             &lt;/description&gt;
 6470         &lt;/param&gt;
 6471       &lt;/parameters&gt;
 6472       &lt;errors&gt;
 6473         &lt;error id=&quot;JVMTI_ERROR_NOT_FOUND&quot;&gt;
 6474           The designated field is not being watched for modifications.
 6475         &lt;/error&gt;
 6476       &lt;/errors&gt;
 6477     &lt;/function&gt;
 6478   &lt;/category&gt;
 6479 
 6480   &lt;category id=&quot;module&quot; label=&quot;Module&quot;&gt;
 6481 
 6482     &lt;intro&gt;
 6483     &lt;/intro&gt;
 6484 
 6485     &lt;function id=&quot;GetAllModules&quot; num=&quot;3&quot; since=&quot;9&quot;&gt;
 6486       &lt;synopsis&gt;Get All Modules&lt;/synopsis&gt;
 6487       &lt;description&gt;
 6488         Return an array of all modules loaded in the virtual machine.
 6489         The array includes the unnamed module for each class loader.
 6490         The number of modules in the array is returned via
 6491         &lt;code&gt;module_count_ptr&lt;/code&gt;, and the array itself via
 6492         &lt;code&gt;modules_ptr&lt;/code&gt;.
 6493         &lt;p/&gt;
 6494       &lt;/description&gt;
 6495       &lt;origin&gt;new&lt;/origin&gt;
 6496       &lt;capabilities&gt;
 6497       &lt;/capabilities&gt;
 6498       &lt;parameters&gt;
 6499         &lt;param id=&quot;module_count_ptr&quot;&gt;
 6500           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 6501           &lt;description&gt;
 6502             On return, points to the number of returned modules.
 6503           &lt;/description&gt;
 6504         &lt;/param&gt;
 6505         &lt;param id=&quot;modules_ptr&quot;&gt;
 6506           &lt;allocbuf outcount=&quot;module_count_ptr&quot;&gt;&lt;jobject/&gt;&lt;/allocbuf&gt;
 6507             &lt;description&gt;
 6508               On return, points to an array of references, one
 6509               for each module.
 6510             &lt;/description&gt;
 6511         &lt;/param&gt;
 6512       &lt;/parameters&gt;
 6513       &lt;errors&gt;
 6514       &lt;/errors&gt;
 6515     &lt;/function&gt;
 6516 
 6517     &lt;function id=&quot;GetNamedModule&quot; num=&quot;40&quot; since=&quot;9&quot;&gt;
 6518       &lt;synopsis&gt;Get Named Module&lt;/synopsis&gt;
 6519       &lt;description&gt;
 6520         Return the &lt;code&gt;java.lang.Module&lt;/code&gt; object for a named
 6521         module defined to a class loader that contains a given package.
 6522         The module is returned via &lt;code&gt;module_ptr&lt;/code&gt;.
 6523         &lt;p/&gt;
 6524         If a named module is defined to the class loader and it
 6525         contains the package then that named module is returned,
 6526         otherwise &lt;code&gt;NULL&lt;/code&gt; is returned.
 6527         &lt;p/&gt;
 6528       &lt;/description&gt;
 6529       &lt;origin&gt;new&lt;/origin&gt;
 6530       &lt;capabilities&gt;
 6531       &lt;/capabilities&gt;
 6532       &lt;parameters&gt;
 6533         &lt;param id=&quot;class_loader&quot;&gt;
 6534           &lt;ptrtype&gt;
 6535             &lt;jobject/&gt;
 6536             &lt;nullok&gt;the bootstrap loader is assumed&lt;/nullok&gt;
 6537           &lt;/ptrtype&gt;
 6538           &lt;description&gt;
 6539             A class loader.
 6540             If the &lt;code&gt;class_loader&lt;/code&gt; is not &lt;code&gt;NULL&lt;/code&gt;
 6541             or a subclass of &lt;code&gt;java.lang.ClassLoader&lt;/code&gt;
 6542             this function returns
 6543             &lt;errorlink id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;&lt;/errorlink&gt;.
 6544           &lt;/description&gt;
 6545         &lt;/param&gt;
 6546         &lt;param id=&quot;package_name&quot;&gt;
 6547           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
 6548           &lt;description&gt;
 6549             The name of the package, encoded as a
 6550             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 6551             The package name is in internal form (JVMS 4.2.1);
 6552             identifiers are separated by forward slashes rather than periods.
 6553           &lt;/description&gt;
 6554         &lt;/param&gt;
 6555         &lt;param id=&quot;module_ptr&quot;&gt;
 6556           &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 6557           &lt;description&gt;
 6558             On return, points to a &lt;code&gt;java.lang.Module&lt;/code&gt; object
 6559             or points to &lt;code&gt;NULL&lt;/code&gt;.
 6560           &lt;/description&gt;
 6561         &lt;/param&gt;
 6562       &lt;/parameters&gt;
 6563       &lt;errors&gt;
 6564         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 6565           If class loader is not &lt;code&gt;NULL&lt;/code&gt; and is not a class loader object.
 6566         &lt;/error&gt;
 6567       &lt;/errors&gt;
 6568     &lt;/function&gt;
 6569 
 6570     &lt;function id=&quot;AddModuleReads&quot; num=&quot;94&quot; since=&quot;9&quot;&gt;
 6571       &lt;synopsis&gt;Add Module Reads&lt;/synopsis&gt;
 6572       &lt;description&gt;
 6573          Update a module to read another module. This function is a no-op
 6574          when &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is an unnamed module.
 6575          This function facilitates the instrumentation of code
 6576          in named modules where that instrumentation requires
 6577          expanding the set of modules that a module reads.
 6578       &lt;/description&gt;
 6579       &lt;origin&gt;new&lt;/origin&gt;
 6580       &lt;capabilities&gt;
 6581       &lt;/capabilities&gt;
 6582       &lt;parameters&gt;
 6583         &lt;param id=&quot;module&quot;&gt;
 6584           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6585           &lt;description&gt;
 6586             The module to update.
 6587           &lt;/description&gt;
 6588         &lt;/param&gt;
 6589         &lt;param id=&quot;to_module&quot;&gt;
 6590           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6591           &lt;description&gt;
 6592             The additional module to read.
 6593           &lt;/description&gt;
 6594         &lt;/param&gt;
 6595       &lt;/parameters&gt;
 6596       &lt;errors&gt;
 6597         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6598           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6599         &lt;/error&gt;
 6600         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6601           If &lt;paramlink id=&quot;to_module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6602         &lt;/error&gt;
 6603         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6604           if the module cannot be modified.
 6605           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6606         &lt;/error&gt;
 6607       &lt;/errors&gt;
 6608     &lt;/function&gt;
 6609 
 6610     &lt;function id=&quot;AddModuleExports&quot; num=&quot;95&quot; since=&quot;9&quot;&gt;
 6611       &lt;synopsis&gt;Add Module Exports&lt;/synopsis&gt;
 6612       &lt;description&gt;
 6613          Update a module to export a package to another module.
 6614          This function is a no-op when &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt;
 6615          is an unnamed module or an open module.
 6616          This function facilitates the instrumentation of code
 6617          in named modules where that instrumentation requires
 6618          expanding the set of packages that a module exports.
 6619       &lt;/description&gt;
 6620       &lt;origin&gt;new&lt;/origin&gt;
 6621       &lt;capabilities&gt;
 6622       &lt;/capabilities&gt;
 6623       &lt;parameters&gt;
 6624         &lt;param id=&quot;module&quot;&gt;
 6625           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6626           &lt;description&gt;
 6627             The module to update.
 6628           &lt;/description&gt;
 6629         &lt;/param&gt;
 6630         &lt;param id=&quot;pkg_name&quot;&gt;
 6631           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
 6632           &lt;description&gt;
 6633             The exported package name.
 6634           &lt;/description&gt;
 6635         &lt;/param&gt;
 6636         &lt;param id=&quot;to_module&quot;&gt;
 6637           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6638           &lt;description&gt;
 6639             The module the package is exported to.
 6640             If the &lt;code&gt;to_module&lt;/code&gt; is not a subclass of
 6641             &lt;code&gt;java.lang.Module&lt;/code&gt; this function returns
 6642             &lt;errorlink id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;&lt;/errorlink&gt;.
 6643           &lt;/description&gt;
 6644         &lt;/param&gt;
 6645       &lt;/parameters&gt;
 6646       &lt;errors&gt;
 6647         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6648           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6649         &lt;/error&gt;
 6650         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6651           If &lt;paramlink id=&quot;to_module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6652         &lt;/error&gt;
 6653         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 6654           If the package &lt;paramlink id=&quot;pkg_name&quot;&gt;&lt;/paramlink&gt;
 6655           does not belong to the module.
 6656         &lt;/error&gt;
 6657         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6658           if the module cannot be modified.
 6659           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6660         &lt;/error&gt;
 6661       &lt;/errors&gt;
 6662     &lt;/function&gt;
 6663 
 6664     &lt;function id=&quot;AddModuleOpens&quot; num=&quot;96&quot; since=&quot;9&quot;&gt;
 6665       &lt;synopsis&gt;Add Module Opens&lt;/synopsis&gt;
 6666       &lt;description&gt;
 6667          Update a module to open a package to another module.
 6668          This function is a no-op when &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt;
 6669          is an unnamed module or an open module.
 6670          This function facilitates the instrumentation of code
 6671          in modules where that instrumentation requires
 6672          expanding the set of packages that a module opens to
 6673          other modules.
 6674       &lt;/description&gt;
 6675       &lt;origin&gt;new&lt;/origin&gt;
 6676       &lt;capabilities&gt;
 6677       &lt;/capabilities&gt;
 6678       &lt;parameters&gt;
 6679         &lt;param id=&quot;module&quot;&gt;
 6680           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6681           &lt;description&gt;
 6682             The module to update.
 6683           &lt;/description&gt;
 6684         &lt;/param&gt;
 6685         &lt;param id=&quot;pkg_name&quot;&gt;
 6686           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
 6687           &lt;description&gt;
 6688             The package name of the package to open.
 6689           &lt;/description&gt;
 6690         &lt;/param&gt;
 6691         &lt;param id=&quot;to_module&quot;&gt;
 6692           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6693           &lt;description&gt;
 6694             The module with the package to open.
 6695             If the &lt;code&gt;to_module&lt;/code&gt; is not a subclass of
 6696             &lt;code&gt;java.lang.Module&lt;/code&gt; this function returns
 6697             &lt;errorlink id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;&lt;/errorlink&gt;.
 6698           &lt;/description&gt;
 6699         &lt;/param&gt;
 6700       &lt;/parameters&gt;
 6701       &lt;errors&gt;
 6702         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6703           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6704         &lt;/error&gt;
 6705         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6706           If &lt;paramlink id=&quot;to_module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6707         &lt;/error&gt;
 6708         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 6709           If the package &lt;paramlink id=&quot;pkg_name&quot;&gt;&lt;/paramlink&gt;
 6710           does not belong to the module.
 6711         &lt;/error&gt;
 6712         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6713           if the module cannot be modified.
 6714           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6715         &lt;/error&gt;
 6716       &lt;/errors&gt;
 6717     &lt;/function&gt;
 6718 
 6719     &lt;function id=&quot;AddModuleUses&quot; num=&quot;97&quot; since=&quot;9&quot;&gt;
 6720       &lt;synopsis&gt;Add Module Uses&lt;/synopsis&gt;
 6721       &lt;description&gt;
 6722          Updates a module to add a service to the set of services that
 6723          a module uses. This function is a no-op when the module
 6724          is an unnamed module.
 6725          This function facilitates the instrumentation of code
 6726          in named modules where that instrumentation requires
 6727          expanding the set of services that a module is using.
 6728       &lt;/description&gt;
 6729       &lt;origin&gt;new&lt;/origin&gt;
 6730       &lt;capabilities&gt;
 6731       &lt;/capabilities&gt;
 6732       &lt;parameters&gt;
 6733         &lt;param id=&quot;module&quot;&gt;
 6734           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6735           &lt;description&gt;
 6736             The module to update.
 6737           &lt;/description&gt;
 6738         &lt;/param&gt;
 6739         &lt;param id=&quot;service&quot;&gt;
 6740           &lt;ptrtype&gt;&lt;jclass/&gt;&lt;/ptrtype&gt;
 6741           &lt;description&gt;
 6742             The service to use.
 6743           &lt;/description&gt;
 6744         &lt;/param&gt;
 6745       &lt;/parameters&gt;
 6746       &lt;errors&gt;
 6747         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6748           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6749         &lt;/error&gt;
 6750         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 6751           If &lt;paramlink id=&quot;service&quot;&gt;&lt;/paramlink&gt; is not a class object.
 6752         &lt;/error&gt;
 6753         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6754           if the module cannot be modified.
 6755           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6756         &lt;/error&gt;
 6757       &lt;/errors&gt;
 6758     &lt;/function&gt;
 6759 
 6760     &lt;function id=&quot;AddModuleProvides&quot; num=&quot;98&quot; since=&quot;9&quot;&gt;
 6761       &lt;synopsis&gt;Add Module Provides&lt;/synopsis&gt;
 6762       &lt;description&gt;
 6763          Updates a module to add a service to the set of services that
 6764          a module provides. This function is a no-op when the module
 6765          is an unnamed module.
 6766          This function facilitates the instrumentation of code
 6767          in named modules where that instrumentation requires
 6768          changes to the services that are provided.
 6769       &lt;/description&gt;
 6770       &lt;origin&gt;new&lt;/origin&gt;
 6771       &lt;capabilities&gt;
 6772       &lt;/capabilities&gt;
 6773       &lt;parameters&gt;
 6774         &lt;param id=&quot;module&quot;&gt;
 6775           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6776           &lt;description&gt;
 6777             The module to update.
 6778           &lt;/description&gt;
 6779         &lt;/param&gt;
 6780         &lt;param id=&quot;service&quot;&gt;
 6781           &lt;ptrtype&gt;&lt;jclass/&gt;&lt;/ptrtype&gt;
 6782           &lt;description&gt;
 6783             The service to provide.
 6784           &lt;/description&gt;
 6785         &lt;/param&gt;
 6786         &lt;param id=&quot;impl_class&quot;&gt;
 6787           &lt;ptrtype&gt;&lt;jclass/&gt;&lt;/ptrtype&gt;
 6788           &lt;description&gt;
 6789             The implementation class for the provided service.
 6790           &lt;/description&gt;
 6791         &lt;/param&gt;
 6792       &lt;/parameters&gt;
 6793       &lt;errors&gt;
 6794         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6795           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6796         &lt;/error&gt;
 6797         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 6798           If &lt;paramlink id=&quot;service&quot;&gt;&lt;/paramlink&gt; is not a class object.
 6799         &lt;/error&gt;
 6800         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 6801           If &lt;paramlink id=&quot;impl_class&quot;&gt;&lt;/paramlink&gt; is not a class object.
 6802         &lt;/error&gt;
 6803         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 6804           if the module cannot be modified.
 6805           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 6806         &lt;/error&gt;
 6807       &lt;/errors&gt;
 6808     &lt;/function&gt;
 6809 
 6810     &lt;function id=&quot;IsModifiableModule&quot; num=&quot;99&quot; since=&quot;9&quot;&gt;
 6811       &lt;synopsis&gt;Is Modifiable Module&lt;/synopsis&gt;
 6812       &lt;description&gt;
 6813         Determines whether a module is modifiable.
 6814         If a module is modifiable then this module can be updated with
 6815         &lt;functionlink id=&quot;AddModuleReads&quot;/&gt;, &lt;functionlink id=&quot;AddModuleExports&quot;/&gt;,
 6816         &lt;functionlink id=&quot;AddModuleOpens&quot;/&gt;, &lt;functionlink id=&quot;AddModuleUses&quot;/&gt;,
 6817         and &lt;functionlink id=&quot;AddModuleProvides&quot;/&gt;. If a module is not modifiable
 6818         then the module can not be updated with these functions. The result of
 6819         this function is always &lt;code&gt;JNI_TRUE&lt;/code&gt; when called to determine
 6820         if an unnamed module is modifiable.
 6821       &lt;/description&gt;
 6822       &lt;origin&gt;new&lt;/origin&gt;
 6823       &lt;capabilities&gt;
 6824       &lt;/capabilities&gt;
 6825       &lt;parameters&gt;
 6826         &lt;param id=&quot;module&quot;&gt;
 6827           &lt;ptrtype&gt;&lt;jobject/&gt;&lt;/ptrtype&gt;
 6828           &lt;description&gt;
 6829             The module to query.
 6830           &lt;/description&gt;
 6831         &lt;/param&gt;
 6832         &lt;param id=&quot;is_modifiable_module_ptr&quot;&gt;
 6833           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 6834           &lt;description&gt;
 6835             On return, points to the boolean result of this function.
 6836           &lt;/description&gt;
 6837         &lt;/param&gt;
 6838       &lt;/parameters&gt;
 6839       &lt;errors&gt;
 6840         &lt;error id=&quot;JVMTI_ERROR_INVALID_MODULE&quot;&gt;
 6841           If &lt;paramlink id=&quot;module&quot;&gt;&lt;/paramlink&gt; is not a module object.
 6842         &lt;/error&gt;
 6843       &lt;/errors&gt;
 6844     &lt;/function&gt;
 6845 
 6846   &lt;/category&gt;
 6847 
 6848   &lt;category id=&quot;class&quot; label=&quot;Class&quot;&gt;
 6849     &lt;function id=&quot;GetLoadedClasses&quot; jkernel=&quot;yes&quot; num=&quot;78&quot;&gt;
 6850       &lt;synopsis&gt;Get Loaded Classes&lt;/synopsis&gt;
 6851       &lt;description&gt;
 6852         Return an array of all classes loaded in the virtual machine.
 6853         The number of classes in the array is returned via
 6854         &lt;code&gt;class_count_ptr&lt;/code&gt;, and the array itself via
 6855         &lt;code&gt;classes_ptr&lt;/code&gt;.
 6856         &lt;p/&gt;
 6857         A class or interface creation can be triggered by one of the following:
 6858         &lt;ul&gt;
 6859         &lt;li&gt;By loading and deriving a class from a &lt;code&gt;class&lt;/code&gt; file representation
 6860             using a class loader (see &lt;vmspec chapter=&quot;5.3&quot;/&gt;).&lt;/li&gt;
 6861         &lt;li&gt;By invoking &lt;externallink id=&quot;../api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte[],boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)&quot;&gt;Lookup::defineHiddenClass&lt;/externallink&gt;
 6862             that creates a hidden class or interface from a &lt;code&gt;class&lt;/code&gt; file representation.&lt;/li&gt;
 6863         &lt;li&gt;By invoking methods in certain Java SE Platform APIs such as reflection.&lt;/li&gt;
 6864          &lt;/ul&gt;
 6865         &lt;p/&gt;
 6866         An array class is created directly by the Java virtual machine.  The creation
 6867         can be triggered by using class loaders or by invoking methods in certain
 6868         Java SE Platform APIs such as reflection.
 6869         &lt;p/&gt;
 6870         The returned list includes all classes and interfaces, including
 6871         &lt;externallink id=&quot;../api/java.base/java/lang/Class.html#isHidden()&quot;&gt;
 6872         hidden classes or interfaces&lt;/externallink&gt;,
 6873         and also array classes of all types
 6874         (including arrays of primitive types).
 6875         Primitive classes (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;) are
 6876         &lt;i&gt;not&lt;/i&gt; included in the returned list.
 6877       &lt;/description&gt;
 6878       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6879       &lt;capabilities&gt;
 6880       &lt;/capabilities&gt;
 6881       &lt;parameters&gt;
 6882         &lt;param id=&quot;class_count_ptr&quot;&gt;
 6883           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 6884           &lt;description&gt;
 6885             On return, points to the number of classes.
 6886           &lt;/description&gt;
 6887         &lt;/param&gt;
 6888         &lt;param id=&quot;classes_ptr&quot;&gt;
 6889           &lt;allocbuf outcount=&quot;class_count_ptr&quot;&gt;&lt;jclass/&gt;&lt;/allocbuf&gt;
 6890             &lt;description&gt;
 6891               On return, points to an array of references, one
 6892               for each class.
 6893             &lt;/description&gt;
 6894         &lt;/param&gt;
 6895       &lt;/parameters&gt;
 6896       &lt;errors&gt;
 6897       &lt;/errors&gt;
 6898     &lt;/function&gt;
 6899 
 6900     &lt;function id=&quot;GetClassLoaderClasses&quot; jkernel=&quot;yes&quot; num=&quot;79&quot;&gt;
 6901       &lt;synopsis&gt;Get Classloader Classes&lt;/synopsis&gt;
 6902       &lt;description&gt;
 6903         Returns an array of all classes which this class loader
 6904         can find by name via 
 6905         &lt;externallink id=&quot;../api/java.base/java/lang/ClassLoader.html#loadClass(java.lang.String,boolean)&quot;&gt;ClassLoader::loadClass&lt;/externallink&gt;,
 6906         &lt;externallink id=&quot;../api/java.base/java/lang/Class.html#forName(java.lang.String,boolean,java.lang.ClassLoader)&quot;&gt;Class::forName&lt;/externallink&gt; and bytecode linkage.
 6907         That is, all classes for which &lt;code&gt;initiating_loader&lt;/code&gt;
 6908         has been recorded as an initiating loader.
 6909         Each class in the returned array was created by this class loader,
 6910         either by defining it directly or by delegation to another class loader.
 6911         See &lt;vmspec chapter=&quot;5.3&quot;/&gt;.
 6912         &lt;p/&gt;
 6913         The returned list does not include
 6914         &lt;externallink id=&quot;../api/java.base/java/lang/Class.html#isHidden()&quot;&gt;hidden
 6915         classes or interfaces&lt;/externallink&gt; or array classes whose
 6916         element type is a hidden class or interface as they cannot be discovered
 6917         by any class loader.
 6918         &lt;p/&gt;
 6919         The number of classes in the array is returned via
 6920         &lt;code&gt;class_count_ptr&lt;/code&gt;, and the array itself via
 6921         &lt;code&gt;classes_ptr&lt;/code&gt;.
 6922         &lt;p/&gt;
 6923         See &lt;externallink id=&quot;../api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte[],boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)&quot;&gt;Lookup::defineHiddenClass&lt;/externallink&gt;.
 6924       &lt;/description&gt;
 6925       &lt;origin&gt;jvmdi&lt;/origin&gt;
 6926       &lt;capabilities&gt;
 6927       &lt;/capabilities&gt;
 6928       &lt;parameters&gt;
 6929         &lt;param id=&quot;initiating_loader&quot;&gt;
 6930           &lt;ptrtype&gt;
 6931             &lt;jobject/&gt;
 6932             &lt;nullok&gt;the classes initiated by the bootstrap loader will be returned&lt;/nullok&gt;
 6933           &lt;/ptrtype&gt;
 6934             &lt;description&gt;
 6935               An initiating class loader.
 6936             &lt;/description&gt;
 6937         &lt;/param&gt;
 6938         &lt;param id=&quot;class_count_ptr&quot;&gt;
 6939           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 6940           &lt;description&gt;
 6941             On return, points to the number of classes.
 6942           &lt;/description&gt;
 6943         &lt;/param&gt;
 6944         &lt;param id=&quot;classes_ptr&quot;&gt;
 6945           &lt;allocbuf outcount=&quot;class_count_ptr&quot;&gt;&lt;jclass/&gt;&lt;/allocbuf&gt;
 6946             &lt;description&gt;
 6947               On return, points to an array of references, one
 6948               for each class.
 6949             &lt;/description&gt;
 6950         &lt;/param&gt;
 6951       &lt;/parameters&gt;
 6952       &lt;errors&gt;
 6953       &lt;/errors&gt;
 6954     &lt;/function&gt;
 6955 
 6956     &lt;function id=&quot;GetClassSignature&quot; phase=&quot;start&quot; num=&quot;48&quot;&gt;
 6957       &lt;synopsis&gt;Get Class Signature&lt;/synopsis&gt;
 6958       &lt;description&gt;
 6959         Return the name and the generic signature of the class indicated by &lt;code&gt;klass&lt;/code&gt;.
 6960         &lt;p/&gt;
 6961         If the class is a class or interface, then:
 6962         &lt;ul&gt;
 6963         &lt;li&gt;If the class or interface is not &lt;externallink id=&quot;../api/java.base/java/lang/Class.html#isHidden()&quot;&gt;hidden&lt;/externallink&gt;,
 6964           then the returned name is the &lt;externallink id=&quot;jni/types.html#type-signatures&quot;&gt;
 6965           JNI type signature&lt;/externallink&gt;.
 6966           For example, java.util.List is &quot;Ljava/util/List;&quot;
 6967         &lt;/li&gt;
 6968         &lt;li&gt;If the class or interface is &lt;externallink id=&quot;../api/java.base/java/lang/Class.html#isHidden()&quot;&gt;hidden&lt;/externallink&gt;,
 6969           then the returned name is a string of the form:
 6970           &lt;code&gt;&quot;L&quot; + N + &quot;.&quot; +  S + &quot;;&quot;&lt;/code&gt;
 6971           where &lt;code&gt;N&lt;/code&gt; is the binary name encoded in internal form (JVMS 4.2.1)
 6972           indicated by the &lt;code&gt;class&lt;/code&gt; file passed to
 6973           &lt;externallink id=&quot;../api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte[],boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)&quot;&gt;Lookup::defineHiddenClass&lt;/externallink&gt;,
 6974           and &lt;code&gt;S&lt;/code&gt; is an unqualified name.
 6975           The returned name is not a type descriptor and does not conform to JVMS 4.3.2.
 6976           For example, com.foo.Foo/AnySuffix is &quot;Lcom/foo/Foo.AnySuffix;&quot;
 6977         &lt;/li&gt;
 6978         &lt;/ul&gt;
 6979         &lt;p/&gt;
 6980         If the class indicated by &lt;code&gt;klass&lt;/code&gt; represents an array class, then
 6981         the returned name is a string consisting of one or more &quot;&lt;code&gt;[&lt;/code&gt;&quot; characters
 6982         representing the depth of the array nesting, followed by the class signature
 6983         of the element type.  For example the class signature of java.lang.String[] is
 6984         &quot;[Ljava/lang/String;&quot; and that of int[] is &quot;[I&quot;.
 6985         &lt;p/&gt;
 6986         If the class indicated by &lt;code&gt;klass&lt;/code&gt; represents primitive type or &lt;code&gt;void&lt;/code&gt;,
 6987         then the returned name is the &lt;externallink id=&quot;jni/types.html#type-signatures&quot;&gt;
 6988         type signature character of the corresponding primitive type&lt;/externallink&gt;.
 6989         For example, java.lang.Integer.TYPE is &quot;I&quot;.
 6990       &lt;/description&gt;
 6991       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 6992       &lt;capabilities&gt;
 6993       &lt;/capabilities&gt;
 6994       &lt;parameters&gt;
 6995         &lt;param id=&quot;klass&quot;&gt;
 6996           &lt;jclass/&gt;
 6997             &lt;description&gt;
 6998               The class to query.
 6999             &lt;/description&gt;
 7000         &lt;/param&gt;
 7001         &lt;param id=&quot;signature_ptr&quot;&gt;
 7002           &lt;allocbuf&gt;
 7003             &lt;char/&gt;
 7004             &lt;nullok&gt;the signature is not returned&lt;/nullok&gt;
 7005           &lt;/allocbuf&gt;
 7006           &lt;description&gt;
 7007             On return, points to the JNI type signature of the class, encoded as a
 7008             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 7009           &lt;/description&gt;
 7010         &lt;/param&gt;
 7011         &lt;param id=&quot;generic_ptr&quot;&gt;
 7012           &lt;allocbuf&gt;
 7013             &lt;char/&gt;
 7014             &lt;nullok&gt;the generic signature is not returned&lt;/nullok&gt;
 7015           &lt;/allocbuf&gt;
 7016           &lt;description&gt;
 7017             On return, points to the generic signature of the class, encoded as a
 7018             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 7019             If there is no generic signature attribute for the class, then,
 7020             on return, points to &lt;code&gt;NULL&lt;/code&gt;.
 7021           &lt;/description&gt;
 7022         &lt;/param&gt;
 7023       &lt;/parameters&gt;
 7024       &lt;errors&gt;
 7025       &lt;/errors&gt;
 7026     &lt;/function&gt;
 7027 
 7028     &lt;function id=&quot;GetClassStatus&quot; phase=&quot;start&quot; num=&quot;49&quot;&gt;
 7029       &lt;synopsis&gt;Get Class Status&lt;/synopsis&gt;
 7030       &lt;description&gt;
 7031         Get the status of the class. Zero or more of the following bits can be
 7032         set.
 7033         &lt;constants id=&quot;jvmtiClassStatus&quot; label=&quot;Class Status Flags&quot; kind=&quot;bits&quot;&gt;
 7034           &lt;constant id=&quot;JVMTI_CLASS_STATUS_VERIFIED&quot; num=&quot;1&quot;&gt;
 7035             Class bytecodes have been verified
 7036           &lt;/constant&gt;
 7037           &lt;constant id=&quot;JVMTI_CLASS_STATUS_PREPARED&quot; num=&quot;2&quot;&gt;
 7038             Class preparation is complete
 7039           &lt;/constant&gt;
 7040           &lt;constant id=&quot;JVMTI_CLASS_STATUS_INITIALIZED&quot; num=&quot;4&quot;&gt;
 7041             Class initialization is complete. Static initializer has been run.
 7042           &lt;/constant&gt;
 7043           &lt;constant id=&quot;JVMTI_CLASS_STATUS_ERROR&quot; num=&quot;8&quot;&gt;
 7044             Error during initialization makes class unusable
 7045           &lt;/constant&gt;
 7046           &lt;constant id=&quot;JVMTI_CLASS_STATUS_ARRAY&quot; num=&quot;16&quot;&gt;
 7047             Class is an array.  If set, all other bits are zero.
 7048           &lt;/constant&gt;
 7049           &lt;constant id=&quot;JVMTI_CLASS_STATUS_PRIMITIVE&quot; num=&quot;32&quot;&gt;
 7050             Class is a primitive class (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7051             If set, all other bits are zero.
 7052           &lt;/constant&gt;
 7053         &lt;/constants&gt;
 7054       &lt;/description&gt;
 7055       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7056       &lt;capabilities&gt;
 7057       &lt;/capabilities&gt;
 7058       &lt;parameters&gt;
 7059         &lt;param id=&quot;klass&quot;&gt;
 7060           &lt;jclass/&gt;
 7061             &lt;description&gt;
 7062               The class to query.
 7063             &lt;/description&gt;
 7064         &lt;/param&gt;
 7065         &lt;param id=&quot;status_ptr&quot;&gt;
 7066           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7067           &lt;description&gt;
 7068             On return, points to the current state of this class as one or
 7069             more of the &lt;internallink id=&quot;jvmtiClassStatus&quot;&gt;class status flags&lt;/internallink&gt;.
 7070           &lt;/description&gt;
 7071         &lt;/param&gt;
 7072       &lt;/parameters&gt;
 7073       &lt;errors&gt;
 7074       &lt;/errors&gt;
 7075     &lt;/function&gt;
 7076 
 7077     &lt;function id=&quot;GetSourceFileName&quot; phase=&quot;start&quot; num=&quot;50&quot;&gt;
 7078       &lt;synopsis&gt;Get Source File Name&lt;/synopsis&gt;
 7079       &lt;description&gt;
 7080         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return the source file
 7081         name via &lt;code&gt;source_name_ptr&lt;/code&gt;. The returned string
 7082         is a file name only and never contains a directory name.
 7083         &lt;p/&gt;
 7084         For primitive classes (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;)
 7085         and for arrays this function returns
 7086         &lt;errorlink id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;&lt;/errorlink&gt;.
 7087       &lt;/description&gt;
 7088       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7089       &lt;capabilities&gt;
 7090         &lt;required id=&quot;can_get_source_file_name&quot;&gt;&lt;/required&gt;
 7091       &lt;/capabilities&gt;
 7092       &lt;parameters&gt;
 7093         &lt;param id=&quot;klass&quot;&gt;
 7094           &lt;jclass/&gt;
 7095             &lt;description&gt;
 7096               The class to query.
 7097             &lt;/description&gt;
 7098         &lt;/param&gt;
 7099         &lt;param id=&quot;source_name_ptr&quot;&gt;
 7100           &lt;allocbuf&gt;&lt;char/&gt;&lt;/allocbuf&gt;
 7101           &lt;description&gt;
 7102             On return, points to the class&#39;s source file name, encoded as a
 7103             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 7104           &lt;/description&gt;
 7105         &lt;/param&gt;
 7106       &lt;/parameters&gt;
 7107       &lt;errors&gt;
 7108         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 7109           Class information does not include a source file name. This includes
 7110           cases where the class is an array class or primitive class.
 7111         &lt;/error&gt;
 7112       &lt;/errors&gt;
 7113     &lt;/function&gt;
 7114 
 7115     &lt;function id=&quot;GetClassModifiers&quot; phase=&quot;start&quot; num=&quot;51&quot;&gt;
 7116       &lt;synopsis&gt;Get Class Modifiers&lt;/synopsis&gt;
 7117       &lt;description&gt;
 7118         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return the access
 7119         flags
 7120         via &lt;code&gt;modifiers_ptr&lt;/code&gt;.
 7121         Access flags are defined in &lt;vmspec chapter=&quot;4&quot;/&gt;.
 7122         &lt;p/&gt;
 7123         If the class is an array class, then its public, private, and protected
 7124         modifiers are the same as those of its component type. For arrays of
 7125         primitives, this component type is represented by one of the primitive
 7126         classes (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7127         &lt;p/&gt;
 7128         If the class is a primitive class, its public modifier is always true,
 7129         and its protected and private modifiers are always false.
 7130         &lt;p/&gt;
 7131         If the class is an array class or a primitive class then its final
 7132         modifier is always true and its interface modifier is always false.
 7133         The values of its other modifiers are not determined by this specification.
 7134 
 7135       &lt;/description&gt;
 7136       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7137       &lt;capabilities&gt;
 7138       &lt;/capabilities&gt;
 7139       &lt;parameters&gt;
 7140         &lt;param id=&quot;klass&quot;&gt;
 7141           &lt;jclass/&gt;
 7142             &lt;description&gt;
 7143               The class to query.
 7144             &lt;/description&gt;
 7145         &lt;/param&gt;
 7146         &lt;param id=&quot;modifiers_ptr&quot;&gt;
 7147           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7148           &lt;description&gt;
 7149             On return, points to the current access flags of this class.
 7150 
 7151           &lt;/description&gt;
 7152         &lt;/param&gt;
 7153       &lt;/parameters&gt;
 7154       &lt;errors&gt;
 7155       &lt;/errors&gt;
 7156     &lt;/function&gt;
 7157 
 7158     &lt;function id=&quot;GetClassMethods&quot; phase=&quot;start&quot; num=&quot;52&quot;&gt;
 7159       &lt;synopsis&gt;Get Class Methods&lt;/synopsis&gt;
 7160       &lt;description&gt;
 7161         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return a count of
 7162         methods via &lt;code&gt;method_count_ptr&lt;/code&gt; and a list of
 7163         method IDs via &lt;code&gt;methods_ptr&lt;/code&gt;. The method list contains
 7164         constructors and static initializers as well as true methods.
 7165         Only directly declared methods are returned (not inherited methods).
 7166         An empty method list is returned for array classes and primitive classes
 7167         (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7168       &lt;/description&gt;
 7169       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7170       &lt;capabilities&gt;
 7171         &lt;capability id=&quot;can_maintain_original_method_order&quot;/&gt;
 7172       &lt;/capabilities&gt;
 7173       &lt;parameters&gt;
 7174         &lt;param id=&quot;klass&quot;&gt;
 7175           &lt;jclass/&gt;
 7176             &lt;description&gt;
 7177               The class to query.
 7178             &lt;/description&gt;
 7179         &lt;/param&gt;
 7180         &lt;param id=&quot;method_count_ptr&quot;&gt;
 7181           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7182           &lt;description&gt;
 7183             On return, points to the number of methods declared in this class.
 7184           &lt;/description&gt;
 7185         &lt;/param&gt;
 7186         &lt;param id=&quot;methods_ptr&quot;&gt;
 7187           &lt;allocbuf outcount=&quot;method_count_ptr&quot;&gt;&lt;jmethodID class=&quot;klass&quot;/&gt;&lt;/allocbuf&gt;
 7188             &lt;description&gt;
 7189               On return, points to the method ID array.
 7190             &lt;/description&gt;
 7191         &lt;/param&gt;
 7192       &lt;/parameters&gt;
 7193       &lt;errors&gt;
 7194         &lt;error id=&quot;JVMTI_ERROR_CLASS_NOT_PREPARED&quot;&gt;
 7195           &lt;paramlink id=&quot;klass&quot;&gt;&lt;/paramlink&gt; is not prepared.
 7196         &lt;/error&gt;
 7197       &lt;/errors&gt;
 7198     &lt;/function&gt;
 7199 
 7200     &lt;function id=&quot;GetClassFields&quot; phase=&quot;start&quot; num=&quot;53&quot;&gt;
 7201       &lt;synopsis&gt;Get Class Fields&lt;/synopsis&gt;
 7202       &lt;description&gt;
 7203         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return a count of fields
 7204         via &lt;code&gt;field_count_ptr&lt;/code&gt; and a list of field IDs via
 7205         &lt;code&gt;fields_ptr&lt;/code&gt;.
 7206         Only directly declared fields are returned (not inherited fields).
 7207         Fields are returned in the order they occur in the class file.
 7208         An empty field list is returned for array classes and primitive classes
 7209         (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7210         Use JNI to determine the length of an array.
 7211       &lt;/description&gt;
 7212       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7213       &lt;capabilities&gt;
 7214       &lt;/capabilities&gt;
 7215       &lt;parameters&gt;
 7216         &lt;param id=&quot;klass&quot;&gt;
 7217           &lt;jclass/&gt;
 7218             &lt;description&gt;
 7219               The class to query.
 7220             &lt;/description&gt;
 7221         &lt;/param&gt;
 7222         &lt;param id=&quot;field_count_ptr&quot;&gt;
 7223           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7224           &lt;description&gt;
 7225             On return, points to the number of fields declared in this class.
 7226           &lt;/description&gt;
 7227         &lt;/param&gt;
 7228         &lt;param id=&quot;fields_ptr&quot;&gt;
 7229           &lt;allocbuf outcount=&quot;field_count_ptr&quot;&gt;&lt;jfieldID/&gt;&lt;/allocbuf&gt;
 7230             &lt;description&gt;
 7231               On return, points to the field ID array.
 7232             &lt;/description&gt;
 7233         &lt;/param&gt;
 7234       &lt;/parameters&gt;
 7235       &lt;errors&gt;
 7236         &lt;error id=&quot;JVMTI_ERROR_CLASS_NOT_PREPARED&quot;&gt;
 7237           &lt;paramlink id=&quot;klass&quot;&gt;&lt;/paramlink&gt; is not prepared.
 7238         &lt;/error&gt;
 7239       &lt;/errors&gt;
 7240     &lt;/function&gt;
 7241 
 7242     &lt;function id=&quot;GetImplementedInterfaces&quot; phase=&quot;start&quot; num=&quot;54&quot;&gt;
 7243       &lt;synopsis&gt;Get Implemented Interfaces&lt;/synopsis&gt;
 7244       &lt;description&gt;
 7245         Return the direct super-interfaces of this class. For a class, this
 7246         function returns the interfaces declared in its &lt;code&gt;implements&lt;/code&gt;
 7247         clause. For an interface, this function returns the interfaces declared in
 7248         its &lt;code&gt;extends&lt;/code&gt; clause.
 7249         An empty interface list is returned for array classes and primitive classes
 7250         (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
 7251       &lt;/description&gt;
 7252       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7253       &lt;capabilities&gt;
 7254       &lt;/capabilities&gt;
 7255       &lt;parameters&gt;
 7256         &lt;param id=&quot;klass&quot;&gt;
 7257           &lt;jclass/&gt;
 7258             &lt;description&gt;
 7259               The class to query.
 7260             &lt;/description&gt;
 7261         &lt;/param&gt;
 7262         &lt;param id=&quot;interface_count_ptr&quot;&gt;
 7263           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7264           &lt;description&gt;
 7265             On return, points to the number of interfaces.
 7266           &lt;/description&gt;
 7267         &lt;/param&gt;
 7268         &lt;param id=&quot;interfaces_ptr&quot;&gt;
 7269           &lt;allocbuf outcount=&quot;interface_count_ptr&quot;&gt;&lt;jclass/&gt;&lt;/allocbuf&gt;
 7270             &lt;description&gt;
 7271               On return, points to the interface array.
 7272             &lt;/description&gt;
 7273         &lt;/param&gt;
 7274       &lt;/parameters&gt;
 7275       &lt;errors&gt;
 7276         &lt;error id=&quot;JVMTI_ERROR_CLASS_NOT_PREPARED&quot;&gt;
 7277           &lt;paramlink id=&quot;klass&quot;&gt;&lt;/paramlink&gt; is not prepared.
 7278         &lt;/error&gt;
 7279       &lt;/errors&gt;
 7280     &lt;/function&gt;
 7281 
 7282     &lt;function id=&quot;GetClassVersionNumbers&quot; phase=&quot;start&quot; num=&quot;145&quot; since=&quot;1.1&quot;&gt;
 7283       &lt;synopsis&gt;Get Class Version Numbers&lt;/synopsis&gt;
 7284       &lt;description&gt;
 7285         For the class indicated by &lt;code&gt;klass&lt;/code&gt;,
 7286         return the minor and major version numbers,
 7287         as defined in
 7288         &lt;vmspec chapter=&quot;4&quot;/&gt;.
 7289       &lt;/description&gt;
 7290       &lt;origin&gt;new&lt;/origin&gt;
 7291       &lt;capabilities&gt;
 7292       &lt;/capabilities&gt;
 7293       &lt;parameters&gt;
 7294         &lt;param id=&quot;klass&quot;&gt;
 7295           &lt;jclass/&gt;
 7296             &lt;description&gt;
 7297               The class to query.
 7298             &lt;/description&gt;
 7299         &lt;/param&gt;
 7300         &lt;param id=&quot;minor_version_ptr&quot;&gt;
 7301           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7302           &lt;description&gt;
 7303             On return, points to the value of the
 7304             &lt;code&gt;minor_version&lt;/code&gt; item of the
 7305             Class File Format.
 7306             Note: to be consistent with the Class File Format,
 7307             the minor version number is the first parameter.
 7308           &lt;/description&gt;
 7309         &lt;/param&gt;
 7310         &lt;param id=&quot;major_version_ptr&quot;&gt;
 7311           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7312           &lt;description&gt;
 7313             On return, points to the value of the
 7314             &lt;code&gt;major_version&lt;/code&gt; item of the
 7315             Class File Format.
 7316           &lt;/description&gt;
 7317         &lt;/param&gt;
 7318       &lt;/parameters&gt;
 7319       &lt;errors&gt;
 7320         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 7321           The class is a primitive or array class.
 7322         &lt;/error&gt;
 7323       &lt;/errors&gt;
 7324     &lt;/function&gt;
 7325 
 7326     &lt;function id=&quot;GetConstantPool&quot; phase=&quot;start&quot; num=&quot;146&quot; since=&quot;1.1&quot;&gt;
 7327       &lt;synopsis&gt;Get Constant Pool&lt;/synopsis&gt;
 7328       &lt;description&gt;
 7329         For the class indicated by &lt;code&gt;klass&lt;/code&gt;,
 7330         return the raw bytes of the constant pool in the format of the
 7331         &lt;code&gt;constant_pool&lt;/code&gt; item of
 7332         &lt;vmspec chapter=&quot;4&quot;/&gt;.
 7333         The format of the constant pool may differ between versions
 7334         of the Class File Format, so, the
 7335         &lt;functionlink id=&quot;GetClassVersionNumbers&quot;&gt;minor and major
 7336         class version numbers&lt;/functionlink&gt; should be checked for
 7337         compatibility.
 7338         &lt;p/&gt;
 7339         The returned constant pool might not have the same layout or
 7340         contents as the constant pool in the defining class file.
 7341         The constant pool returned by GetConstantPool() may have
 7342         more or fewer entries than the defining constant pool.
 7343         Entries may be in a different order.
 7344         The constant pool returned by GetConstantPool() will match the
 7345         constant pool used by
 7346         &lt;functionlink id=&quot;GetBytecodes&quot;&gt;GetBytecodes()&lt;/functionlink&gt;.
 7347         That is, the bytecodes returned by GetBytecodes() will have
 7348         constant pool indices which refer to constant pool entries returned
 7349         by GetConstantPool().
 7350         Note that since &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;
 7351         and &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; can change
 7352         the constant pool, the constant pool returned by this function
 7353         can change accordingly.  Thus, the correspondence between
 7354         GetConstantPool() and GetBytecodes() does not hold if there
 7355         is an intervening class retransformation or redefinition.
 7356         The value of a constant pool entry used by a given bytecode will
 7357         match that of the defining class file (even if the indices don&#39;t match).
 7358         Constant pool entries which are not used directly or indirectly by
 7359         bytecodes (for example,  UTF-8 strings associated with annotations) are
 7360         not  required to exist in the returned constant pool.
 7361       &lt;/description&gt;
 7362       &lt;origin&gt;new&lt;/origin&gt;
 7363       &lt;capabilities&gt;
 7364         &lt;required id=&quot;can_get_constant_pool&quot;&gt;&lt;/required&gt;
 7365       &lt;/capabilities&gt;
 7366       &lt;parameters&gt;
 7367         &lt;param id=&quot;klass&quot;&gt;
 7368           &lt;jclass/&gt;
 7369             &lt;description&gt;
 7370               The class to query.
 7371             &lt;/description&gt;
 7372         &lt;/param&gt;
 7373         &lt;param id=&quot;constant_pool_count_ptr&quot;&gt;
 7374           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7375           &lt;description&gt;
 7376             On return, points to the number of entries
 7377             in the constant pool table plus one.
 7378             This corresponds to the &lt;code&gt;constant_pool_count&lt;/code&gt;
 7379             item of the Class File Format.
 7380           &lt;/description&gt;
 7381         &lt;/param&gt;
 7382         &lt;param id=&quot;constant_pool_byte_count_ptr&quot;&gt;
 7383           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7384           &lt;description&gt;
 7385             On return, points to the number of bytes
 7386             in the returned raw constant pool.
 7387           &lt;/description&gt;
 7388         &lt;/param&gt;
 7389         &lt;param id=&quot;constant_pool_bytes_ptr&quot;&gt;
 7390           &lt;allocbuf outcount=&quot;constant_pool_byte_count_ptr&quot;&gt;&lt;uchar/&gt;&lt;/allocbuf&gt;
 7391             &lt;description&gt;
 7392               On return, points to the raw constant pool, that is the bytes
 7393               defined by the &lt;code&gt;constant_pool&lt;/code&gt; item of the
 7394               Class File Format
 7395             &lt;/description&gt;
 7396         &lt;/param&gt;
 7397       &lt;/parameters&gt;
 7398       &lt;errors&gt;
 7399         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 7400           The class is a primitive or array class.
 7401         &lt;/error&gt;
 7402       &lt;/errors&gt;
 7403     &lt;/function&gt;
 7404 
 7405     &lt;function id=&quot;IsInterface&quot; phase=&quot;start&quot; num=&quot;55&quot;&gt;
 7406       &lt;synopsis&gt;Is Interface&lt;/synopsis&gt;
 7407       &lt;description&gt;
 7408         Determines whether a class object reference represents an interface.
 7409         The &lt;code&gt;jboolean&lt;/code&gt; result is
 7410         &lt;code&gt;JNI_TRUE&lt;/code&gt; if the &quot;class&quot; is actually an interface,
 7411         &lt;code&gt;JNI_FALSE&lt;/code&gt; otherwise.
 7412       &lt;/description&gt;
 7413       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7414       &lt;capabilities&gt;
 7415       &lt;/capabilities&gt;
 7416       &lt;parameters&gt;
 7417         &lt;param id=&quot;klass&quot;&gt;
 7418           &lt;jclass/&gt;
 7419             &lt;description&gt;
 7420               The class to query.
 7421             &lt;/description&gt;
 7422         &lt;/param&gt;
 7423         &lt;param id=&quot;is_interface_ptr&quot;&gt;
 7424           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 7425           &lt;description&gt;
 7426             On return, points to the boolean result of this function.
 7427 
 7428           &lt;/description&gt;
 7429         &lt;/param&gt;
 7430       &lt;/parameters&gt;
 7431       &lt;errors&gt;
 7432       &lt;/errors&gt;
 7433     &lt;/function&gt;
 7434 
 7435     &lt;function id=&quot;IsArrayClass&quot; phase=&quot;start&quot; num=&quot;56&quot;&gt;
 7436       &lt;synopsis&gt;Is Array Class&lt;/synopsis&gt;
 7437       &lt;description&gt;
 7438         Determines whether a class object reference represents an array.
 7439         The &lt;code&gt;jboolean&lt;/code&gt; result is
 7440         &lt;code&gt;JNI_TRUE&lt;/code&gt; if the class is an array,
 7441         &lt;code&gt;JNI_FALSE&lt;/code&gt; otherwise.
 7442       &lt;/description&gt;
 7443       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7444       &lt;capabilities&gt;
 7445       &lt;/capabilities&gt;
 7446       &lt;parameters&gt;
 7447         &lt;param id=&quot;klass&quot;&gt;
 7448           &lt;jclass/&gt;
 7449             &lt;description&gt;
 7450               The class to query.
 7451             &lt;/description&gt;
 7452         &lt;/param&gt;
 7453         &lt;param id=&quot;is_array_class_ptr&quot;&gt;
 7454           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 7455           &lt;description&gt;
 7456             On return, points to the boolean result of this function.
 7457 
 7458           &lt;/description&gt;
 7459         &lt;/param&gt;
 7460       &lt;/parameters&gt;
 7461       &lt;errors&gt;
 7462       &lt;/errors&gt;
 7463     &lt;/function&gt;
 7464 
 7465     &lt;function id=&quot;IsModifiableClass&quot; jkernel=&quot;yes&quot; phase=&quot;start&quot; num=&quot;45&quot; since=&quot;1.1&quot;&gt;
 7466       &lt;synopsis&gt;Is Modifiable Class&lt;/synopsis&gt;
 7467       &lt;description&gt;
 7468         Determines whether a class is modifiable.
 7469         If a class is modifiable (&lt;paramlink id=&quot;is_modifiable_class_ptr&quot;/&gt;
 7470         returns &lt;code&gt;JNI_TRUE&lt;/code&gt;) the class can be
 7471         redefined with &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; (assuming
 7472         the agent possesses the
 7473         &lt;fieldlink id=&quot;can_redefine_classes&quot; struct=&quot;jvmtiCapabilities&quot;/&gt;
 7474         capability) or
 7475         retransformed with &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; (assuming
 7476         the agent possesses the
 7477         &lt;fieldlink id=&quot;can_retransform_classes&quot; struct=&quot;jvmtiCapabilities&quot;/&gt;
 7478         capability).
 7479         If a class is not modifiable (&lt;paramlink id=&quot;is_modifiable_class_ptr&quot;/&gt;
 7480         returns &lt;code&gt;JNI_FALSE&lt;/code&gt;) the class can be neither
 7481         redefined nor retransformed.
 7482         &lt;p/&gt;
 7483         Primitive classes (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;),
 7484         array classes, and some implementation defined classes are never modifiable.
 7485         &lt;p/&gt;
 7486       &lt;/description&gt;
 7487       &lt;origin&gt;new&lt;/origin&gt;
 7488       &lt;capabilities&gt;
 7489         &lt;capability id=&quot;can_redefine_any_class&quot;&gt;
 7490           If possessed then all classes (except primitive, array, and some implementation defined
 7491           classes) are modifiable with &lt;functionlink id=&quot;RedefineClasses&quot;/&gt;.
 7492         &lt;/capability&gt;
 7493         &lt;capability id=&quot;can_retransform_any_class&quot;&gt;
 7494           If possessed then all classes (except primitive, array, and some implementation defined
 7495           classes) are modifiable with &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;.
 7496         &lt;/capability&gt;
 7497         &lt;capability id=&quot;can_redefine_classes&quot;&gt;
 7498           No effect on the result of the function.
 7499           But must additionally be possessed to modify the class with
 7500           &lt;functionlink id=&quot;RedefineClasses&quot;/&gt;.
 7501         &lt;/capability&gt;
 7502         &lt;capability id=&quot;can_retransform_classes&quot;&gt;
 7503           No effect on the result of the function.
 7504           But must additionally be possessed to modify the class with
 7505           &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;.
 7506         &lt;/capability&gt;
 7507       &lt;/capabilities&gt;
 7508       &lt;parameters&gt;
 7509         &lt;param id=&quot;klass&quot;&gt;
 7510           &lt;jclass/&gt;
 7511             &lt;description&gt;
 7512               The class to query.
 7513             &lt;/description&gt;
 7514         &lt;/param&gt;
 7515         &lt;param id=&quot;is_modifiable_class_ptr&quot;&gt;
 7516           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 7517           &lt;description&gt;
 7518             On return, points to the boolean result of this function.
 7519           &lt;/description&gt;
 7520         &lt;/param&gt;
 7521       &lt;/parameters&gt;
 7522       &lt;errors&gt;
 7523       &lt;/errors&gt;
 7524     &lt;/function&gt;
 7525 
 7526     &lt;function id=&quot;GetClassLoader&quot; phase=&quot;start&quot; num=&quot;57&quot;&gt;
 7527       &lt;synopsis&gt;Get Class Loader&lt;/synopsis&gt;
 7528       &lt;description&gt;
 7529         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return via
 7530         &lt;code&gt;classloader_ptr&lt;/code&gt; a reference to the class loader for the
 7531         class.
 7532       &lt;/description&gt;
 7533       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7534       &lt;capabilities&gt;
 7535       &lt;/capabilities&gt;
 7536       &lt;parameters&gt;
 7537         &lt;param id=&quot;klass&quot;&gt;
 7538           &lt;jclass/&gt;
 7539             &lt;description&gt;
 7540               The class to query.
 7541             &lt;/description&gt;
 7542         &lt;/param&gt;
 7543         &lt;param id=&quot;classloader_ptr&quot;&gt;
 7544           &lt;outptr&gt;&lt;jobject/&gt;&lt;/outptr&gt;
 7545             &lt;description&gt;
 7546               On return, points to the class loader that loaded
 7547               this class.
 7548               If the class was not created by a class loader
 7549               or if the class loader is the bootstrap class loader,
 7550               points to &lt;code&gt;NULL&lt;/code&gt;.
 7551             &lt;/description&gt;
 7552         &lt;/param&gt;
 7553       &lt;/parameters&gt;
 7554       &lt;errors&gt;
 7555       &lt;/errors&gt;
 7556 
 7557     &lt;/function&gt;
 7558 
 7559     &lt;function id=&quot;GetSourceDebugExtension&quot; phase=&quot;start&quot; num=&quot;90&quot;&gt;
 7560       &lt;synopsis&gt;Get Source Debug Extension&lt;/synopsis&gt;
 7561       &lt;description&gt;
 7562         For the class indicated by &lt;code&gt;klass&lt;/code&gt;, return the debug
 7563         extension via &lt;code&gt;source_debug_extension_ptr&lt;/code&gt;.
 7564         The returned string
 7565         contains exactly the debug extension information present in the
 7566         class file of &lt;code&gt;klass&lt;/code&gt;.
 7567       &lt;/description&gt;
 7568       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7569       &lt;capabilities&gt;
 7570         &lt;required id=&quot;can_get_source_debug_extension&quot;&gt;&lt;/required&gt;
 7571       &lt;/capabilities&gt;
 7572       &lt;parameters&gt;
 7573         &lt;param id=&quot;klass&quot;&gt;
 7574           &lt;jclass/&gt;
 7575             &lt;description&gt;
 7576               The class to query.
 7577             &lt;/description&gt;
 7578         &lt;/param&gt;
 7579         &lt;param id=&quot;source_debug_extension_ptr&quot;&gt;
 7580           &lt;allocbuf&gt;&lt;char/&gt;&lt;/allocbuf&gt;
 7581           &lt;description&gt;
 7582             On return, points to the class&#39;s debug extension, encoded as a
 7583             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 7584           &lt;/description&gt;
 7585         &lt;/param&gt;
 7586       &lt;/parameters&gt;
 7587       &lt;errors&gt;
 7588         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 7589           Class information does not include a debug extension.
 7590         &lt;/error&gt;
 7591       &lt;/errors&gt;
 7592     &lt;/function&gt;
 7593 
 7594     &lt;function id=&quot;RetransformClasses&quot; jkernel=&quot;yes&quot; num=&quot;152&quot; since=&quot;1.1&quot;&gt;
 7595       &lt;synopsis&gt;Retransform Classes&lt;/synopsis&gt;
 7596       &lt;description&gt;
 7597         This function facilitates the
 7598         &lt;internallink id=&quot;bci&quot;&gt;bytecode instrumentation&lt;/internallink&gt;
 7599         of already loaded classes.
 7600         To replace the class definition without reference to the existing
 7601         bytecodes, as one might do when recompiling from source for
 7602         fix-and-continue debugging, &lt;functionlink id=&quot;RedefineClasses&quot;/&gt;
 7603         function should be used instead.
 7604         &lt;p/&gt;
 7605         When classes are initially loaded or when they are
 7606         &lt;functionlink id=&quot;RedefineClasses&quot;&gt;redefined&lt;/functionlink&gt;,
 7607         the initial class file bytes can be transformed with the
 7608         &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event.
 7609         This function reruns the transformation process
 7610         (whether or not a transformation has previously occurred).
 7611         This retransformation follows these steps:
 7612         &lt;ul&gt;
 7613           &lt;li&gt;starting from the initial class file bytes
 7614           &lt;/li&gt;
 7615           &lt;li&gt;for each &lt;fieldlink id=&quot;can_retransform_classes&quot;
 7616                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
 7617                                                 incapable&lt;/fieldlink&gt;
 7618             agent which received a
 7619             &lt;code&gt;ClassFileLoadHook&lt;/code&gt; event during the previous
 7620             load or redefine, the bytes it returned
 7621             (via the &lt;code&gt;new_class_data&lt;/code&gt; parameter)
 7622             are reused as the output of the transformation;
 7623             note that this is equivalent to reapplying
 7624             the previous transformation, unaltered. except that
 7625             the &lt;code&gt;ClassFileLoadHook&lt;/code&gt; event
 7626             is &lt;b&gt;not&lt;/b&gt; sent to these agents
 7627           &lt;/li&gt;
 7628           &lt;li&gt;for each &lt;fieldlink id=&quot;can_retransform_classes&quot;
 7629                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
 7630                                                 capable&lt;/fieldlink&gt;
 7631             agent, the &lt;code&gt;ClassFileLoadHook&lt;/code&gt; event is sent,
 7632             allowing a new transformation to be applied
 7633           &lt;/li&gt;
 7634           &lt;li&gt;the transformed class file bytes are installed as the new
 7635             definition of the class
 7636           &lt;/li&gt;
 7637         &lt;/ul&gt;
 7638         See the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event for more details.
 7639         &lt;p/&gt;
 7640         The initial class file bytes represent the bytes passed to
 7641         &lt;code&gt;ClassLoader.defineClass&lt;/code&gt;
 7642         or &lt;code&gt;RedefineClasses&lt;/code&gt; (before any transformations
 7643         were applied), however they may not exactly match them.
 7644         The constant pool may differ in ways described in
 7645         &lt;functionlink id=&quot;GetConstantPool&quot;/&gt;.
 7646         Constant pool indices in the bytecodes of methods will correspond.
 7647         Some attributes may not be present.
 7648         Where order is not meaningful, for example the order of methods,
 7649         order may not be preserved.
 7650         &lt;p/&gt;
 7651         Retransformation can cause new versions of methods to be installed.
 7652         Old method versions may become
 7653         &lt;internallink id=&quot;obsoleteMethods&quot;&gt;obsolete&lt;/internallink&gt;
 7654         The new method version will be used on new invokes.
 7655         If a method has active stack frames, those active frames continue to
 7656         run the bytecodes of the original method version.
 7657         &lt;p/&gt;
 7658         This function does not cause any initialization except that which
 7659         would occur under the customary JVM semantics.
 7660         In other words, retransforming a class does not cause its initializers to be
 7661         run. The values of static fields will remain as they were
 7662         prior to the call.
 7663         &lt;p/&gt;
 7664         Threads need not be suspended.
 7665         &lt;p/&gt;
 7666         All breakpoints in the class are cleared.
 7667         &lt;p/&gt;
 7668         All attributes are updated.
 7669         &lt;p/&gt;
 7670         Instances of the retransformed class are not affected -- fields retain their
 7671         previous values.
 7672         &lt;functionlink id=&quot;GetTag&quot;&gt;Tags&lt;/functionlink&gt; on the instances are
 7673         also unaffected.
 7674         &lt;p/&gt;
 7675         In response to this call, no events other than the
 7676         &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event
 7677         will be sent.
 7678         &lt;p/&gt;
 7679         The retransformation may change method bodies, the constant pool and attributes
 7680         (unless explicitly prohibited).
 7681         The retransformation must not add, remove or rename fields or methods, change the
 7682         signatures of methods, change modifiers, or change inheritance.
 7683         The retransformation must not change the &lt;code&gt;NestHost&lt;/code&gt;,
 7684         &lt;code&gt;NestMembers&lt;/code&gt;, or &lt;code&gt;Record&lt;/code&gt; attributes.
 7685         These restrictions may be lifted in future versions.
 7686         See the error return description below for information on error codes
 7687         returned if an unsupported retransformation is attempted.
 7688         The class file bytes are not verified or installed until they have passed
 7689         through the chain of &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events, thus the
 7690         returned error code reflects the result of the transformations.
 7691         If any error code is returned other than &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;,
 7692         none of the classes to be retransformed will have a new definition installed.
 7693         When this function returns (with the error code of &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;)
 7694         all of the classes to be retransformed will have their new definitions installed.
 7695       &lt;/description&gt;
 7696       &lt;origin&gt;new&lt;/origin&gt;
 7697       &lt;capabilities&gt;
 7698         &lt;required id=&quot;can_retransform_classes&quot;&gt;&lt;/required&gt;
 7699         &lt;capability id=&quot;can_retransform_any_class&quot;&gt;&lt;/capability&gt;
 7700       &lt;/capabilities&gt;
 7701       &lt;parameters&gt;
 7702         &lt;param id=&quot;class_count&quot;&gt;
 7703           &lt;jint min=&quot;0&quot;/&gt;
 7704           &lt;description&gt;
 7705             The number of classes to be retransformed.
 7706           &lt;/description&gt;
 7707         &lt;/param&gt;
 7708         &lt;param id=&quot;classes&quot;&gt;
 7709           &lt;inbuf incount=&quot;class_count&quot;&gt;&lt;jclass/&gt;&lt;/inbuf&gt;
 7710           &lt;description&gt;
 7711             The array of classes to be retransformed.
 7712           &lt;/description&gt;
 7713         &lt;/param&gt;
 7714       &lt;/parameters&gt;
 7715       &lt;errors&gt;
 7716         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_CLASS&quot;&gt;
 7717           One of the &lt;paramlink id=&quot;classes&quot;/&gt; cannot be modified.
 7718           See &lt;functionlink id=&quot;IsModifiableClass&quot;/&gt;.
 7719         &lt;/error&gt;
 7720         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 7721           One of the &lt;paramlink id=&quot;classes&quot;/&gt; is not a valid class.
 7722         &lt;/error&gt;
 7723         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_VERSION&quot;&gt;
 7724           A retransformed class file has a version number not supported by this VM.
 7725         &lt;/error&gt;
 7726         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS_FORMAT&quot;&gt;
 7727           A retransformed class file is malformed (The VM would return a &lt;code&gt;ClassFormatError&lt;/code&gt;).
 7728         &lt;/error&gt;
 7729         &lt;error id=&quot;JVMTI_ERROR_CIRCULAR_CLASS_DEFINITION&quot;&gt;
 7730           The retransformed class file definitions would lead to a circular definition
 7731           (the VM would return a &lt;code&gt;ClassCircularityError&lt;/code&gt;).
 7732         &lt;/error&gt;
 7733         &lt;error id=&quot;JVMTI_ERROR_FAILS_VERIFICATION&quot;&gt;
 7734           The retransformed class file bytes fail verification.
 7735         &lt;/error&gt;
 7736         &lt;error id=&quot;JVMTI_ERROR_NAMES_DONT_MATCH&quot;&gt;
 7737           The class name defined in a retransformed class file is
 7738           different from the name in the old class object.
 7739         &lt;/error&gt;
 7740         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_ADDED&quot;&gt;
 7741           A retransformed class file would require adding a method.
 7742         &lt;/error&gt;
 7743         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_SCHEMA_CHANGED&quot;&gt;
 7744           A retransformed class file changes a field.
 7745         &lt;/error&gt;
 7746         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_HIERARCHY_CHANGED&quot;&gt;
 7747           A direct superclass is different for a retransformed class file,
 7748           or the set of directly implemented
 7749           interfaces is different.
 7750         &lt;/error&gt;
 7751         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_DELETED&quot;&gt;
 7752           A retransformed class file does not declare a method
 7753           declared in the old class version.
 7754         &lt;/error&gt;
 7755         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_ATTRIBUTE_CHANGED&quot;&gt;
 7756           A retransformed class file has unsupported differences in class attributes.
 7757         &lt;/error&gt;
 7758         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_MODIFIERS_CHANGED&quot;&gt;
 7759           A retransformed class file has different class modifiers.
 7760         &lt;/error&gt;
 7761         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_MODIFIERS_CHANGED&quot;&gt;
 7762           A method in the retransformed class file has different modifiers
 7763           than its counterpart in the old class version.
 7764         &lt;/error&gt;
 7765       &lt;/errors&gt;
 7766     &lt;/function&gt;
 7767 
 7768     &lt;function id=&quot;RedefineClasses&quot; jkernel=&quot;yes&quot; num=&quot;87&quot;&gt;
 7769       &lt;synopsis&gt;Redefine Classes&lt;/synopsis&gt;
 7770       &lt;typedef id=&quot;jvmtiClassDefinition&quot; label=&quot;Class redefinition description&quot;&gt;
 7771         &lt;field id=&quot;klass&quot;&gt;
 7772           &lt;jclass/&gt;
 7773             &lt;description&gt;
 7774               Class object for this class
 7775             &lt;/description&gt;
 7776         &lt;/field&gt;
 7777         &lt;field id=&quot;class_byte_count&quot;&gt;
 7778           &lt;jint/&gt;
 7779           &lt;description&gt;
 7780             Number of bytes defining class (below)
 7781           &lt;/description&gt;
 7782         &lt;/field&gt;
 7783         &lt;field id=&quot;class_bytes&quot;&gt;
 7784           &lt;inbuf incount=&quot;class_byte_count&quot;&gt;&lt;uchar/&gt;&lt;/inbuf&gt;
 7785           &lt;description&gt;
 7786             Bytes defining class (in &lt;vmspec chapter=&quot;4&quot;/&gt;)
 7787           &lt;/description&gt;
 7788         &lt;/field&gt;
 7789       &lt;/typedef&gt;
 7790       &lt;description&gt;
 7791         All classes given are redefined according to the definitions
 7792         supplied.
 7793         This function is used to replace the definition of a class
 7794         with a new definition, as might be needed in fix-and-continue
 7795         debugging.
 7796         Where the existing class file bytes are to be transformed, for
 7797         example in
 7798         &lt;internallink id=&quot;bci&quot;&gt;bytecode instrumentation&lt;/internallink&gt;,
 7799         &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; should be used.
 7800         &lt;p/&gt;
 7801         Redefinition can cause new versions of methods to be installed.
 7802         Old method versions may become
 7803         &lt;internallink id=&quot;obsoleteMethods&quot;&gt;obsolete&lt;/internallink&gt;
 7804         The new method version will be used on new invokes.
 7805         If a method has active stack frames, those active frames continue to
 7806         run the bytecodes of the original method version.
 7807         If resetting of stack frames is desired, use
 7808         &lt;functionlink id=&quot;PopFrame&quot;&gt;&lt;/functionlink&gt;
 7809         to pop frames with obsolete method versions.
 7810         &lt;p/&gt;
 7811         This function does not cause any initialization except that which
 7812         would occur under the customary JVM semantics.
 7813         In other words, redefining a class does not cause its initializers to be
 7814         run. The values of static fields will remain as they were
 7815         prior to the call.
 7816         &lt;p/&gt;
 7817         Threads need not be suspended.
 7818         &lt;p/&gt;
 7819         All breakpoints in the class are cleared.
 7820         &lt;p/&gt;
 7821         All attributes are updated.
 7822         &lt;p/&gt;
 7823         Instances of the redefined class are not affected -- fields retain their
 7824         previous values.
 7825         &lt;functionlink id=&quot;GetTag&quot;&gt;Tags&lt;/functionlink&gt; on the instances are
 7826         also unaffected.
 7827         &lt;p/&gt;
 7828         In response to this call, the &lt;jvmti/&gt; event
 7829         &lt;eventlink id=&quot;ClassFileLoadHook&quot;&gt;Class File Load Hook&lt;/eventlink&gt;
 7830         will be sent (if enabled), but no other &lt;jvmti/&gt; events will be sent.
 7831         &lt;p/&gt;
 7832         The redefinition may change method bodies, the constant pool and attributes
 7833         (unless explicitly prohibited).
 7834         The redefinition must not add, remove or rename fields or methods, change the
 7835         signatures of methods, change modifiers, or change inheritance.
 7836         The redefinition must not change the &lt;code&gt;NestHost&lt;/code&gt;,
 7837         &lt;code&gt;NestMembers&lt;/code&gt;, or &lt;code&gt;Record&lt;/code&gt; attributes.
 7838         These restrictions may be lifted in future versions.
 7839         See the error return description below for information on error codes
 7840         returned if an unsupported redefinition is attempted.
 7841         The class file bytes are not verified or installed until they have passed
 7842         through the chain of &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events, thus the
 7843         returned error code reflects the result of the transformations applied
 7844         to the bytes passed into &lt;paramlink id=&quot;class_definitions&quot;/&gt;.
 7845         If any error code is returned other than &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;,
 7846         none of the classes to be redefined will have a new definition installed.
 7847         When this function returns (with the error code of &lt;code&gt;JVMTI_ERROR_NONE&lt;/code&gt;)
 7848         all of the classes to be redefined will have their new definitions installed.
 7849       &lt;/description&gt;
 7850       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7851       &lt;capabilities&gt;
 7852         &lt;required id=&quot;can_redefine_classes&quot;&gt;&lt;/required&gt;
 7853         &lt;capability id=&quot;can_redefine_any_class&quot;&gt;&lt;/capability&gt;
 7854       &lt;/capabilities&gt;
 7855       &lt;parameters&gt;
 7856         &lt;param id=&quot;class_count&quot;&gt;
 7857           &lt;jint min=&quot;0&quot;/&gt;
 7858           &lt;description&gt;
 7859             The number of classes specified in &lt;code&gt;class_definitions&lt;/code&gt;
 7860           &lt;/description&gt;
 7861         &lt;/param&gt;
 7862         &lt;param id=&quot;class_definitions&quot;&gt;
 7863           &lt;inbuf incount=&quot;class_count&quot;&gt;&lt;struct&gt;jvmtiClassDefinition&lt;/struct&gt;&lt;/inbuf&gt;
 7864           &lt;description&gt;
 7865             The array of new class definitions
 7866           &lt;/description&gt;
 7867         &lt;/param&gt;
 7868       &lt;/parameters&gt;
 7869       &lt;errors&gt;
 7870         &lt;error id=&quot;JVMTI_ERROR_NULL_POINTER&quot;&gt;
 7871           One of &lt;code&gt;class_bytes&lt;/code&gt; is &lt;code&gt;NULL&lt;/code&gt;.
 7872         &lt;/error&gt;
 7873         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_CLASS&quot;&gt;
 7874           An element of &lt;code&gt;class_definitions&lt;/code&gt; cannot be modified.
 7875           See &lt;functionlink id=&quot;IsModifiableClass&quot;/&gt;.
 7876         &lt;/error&gt;
 7877         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS&quot;&gt;
 7878           An element of &lt;code&gt;class_definitions&lt;/code&gt; is not a valid class.
 7879         &lt;/error&gt;
 7880         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_VERSION&quot;&gt;
 7881           A new class file has a version number not supported by this VM.
 7882         &lt;/error&gt;
 7883         &lt;error id=&quot;JVMTI_ERROR_INVALID_CLASS_FORMAT&quot;&gt;
 7884           A new class file is malformed (The VM would return a &lt;code&gt;ClassFormatError&lt;/code&gt;).
 7885         &lt;/error&gt;
 7886         &lt;error id=&quot;JVMTI_ERROR_CIRCULAR_CLASS_DEFINITION&quot;&gt;
 7887           The new class file definitions would lead to a circular definition
 7888           (the VM would return a &lt;code&gt;ClassCircularityError&lt;/code&gt;).
 7889         &lt;/error&gt;
 7890         &lt;error id=&quot;JVMTI_ERROR_FAILS_VERIFICATION&quot;&gt;
 7891           The class bytes fail verification.
 7892         &lt;/error&gt;
 7893         &lt;error id=&quot;JVMTI_ERROR_NAMES_DONT_MATCH&quot;&gt;
 7894           The class name defined in a new class file is
 7895           different from the name in the old class object.
 7896         &lt;/error&gt;
 7897         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_ADDED&quot;&gt;
 7898           A new class file would require adding a method.
 7899         &lt;/error&gt;
 7900         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_SCHEMA_CHANGED&quot;&gt;
 7901           A new class version changes a field.
 7902         &lt;/error&gt;
 7903         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_HIERARCHY_CHANGED&quot;&gt;
 7904           A direct superclass is different for a new class
 7905           version, or the set of directly implemented
 7906           interfaces is different.
 7907         &lt;/error&gt;
 7908         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_DELETED&quot;&gt;
 7909           A new class version does not declare a method
 7910           declared in the old class version.
 7911         &lt;/error&gt;
 7912         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_ATTRIBUTE_CHANGED&quot;&gt;
 7913           A new class version has unsupported differences in class attributes.
 7914         &lt;/error&gt;
 7915         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_MODIFIERS_CHANGED&quot;&gt;
 7916           A new class version has different modifiers.
 7917         &lt;/error&gt;
 7918         &lt;error id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_MODIFIERS_CHANGED&quot;&gt;
 7919           A method in the new class version has different modifiers
 7920           than its counterpart in the old class version.
 7921         &lt;/error&gt;
 7922         &lt;error id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot;&gt;
 7923           A module cannot be modified.
 7924           See &lt;functionlink id=&quot;IsModifiableModule&quot;/&gt;.
 7925         &lt;/error&gt;
 7926       &lt;/errors&gt;
 7927     &lt;/function&gt;
 7928 
 7929   &lt;/category&gt;
 7930 
 7931   &lt;category id=&quot;object&quot; label=&quot;Object&quot;&gt;
 7932 
 7933     &lt;function id=&quot;GetObjectSize&quot; jkernel=&quot;yes&quot; phase=&quot;start&quot; num=&quot;154&quot;&gt;
 7934       &lt;synopsis&gt;Get Object Size&lt;/synopsis&gt;
 7935       &lt;description&gt;
 7936         For the object indicated by &lt;code&gt;object&lt;/code&gt;,
 7937         return via &lt;code&gt;size_ptr&lt;/code&gt; the size of the object.
 7938         This size is an implementation-specific approximation of
 7939         the amount of storage consumed by this object.
 7940         It may include some or all of the object&#39;s overhead, and thus
 7941         is useful for comparison within an implementation but not
 7942         between implementations.
 7943         The estimate may change during a single invocation of the JVM.
 7944       &lt;/description&gt;
 7945       &lt;origin&gt;new&lt;/origin&gt;
 7946       &lt;capabilities&gt;
 7947       &lt;/capabilities&gt;
 7948       &lt;parameters&gt;
 7949         &lt;param id=&quot;object&quot;&gt;
 7950           &lt;jobject/&gt;
 7951             &lt;description&gt;
 7952               The object to query.
 7953             &lt;/description&gt;
 7954         &lt;/param&gt;
 7955         &lt;param id=&quot;size_ptr&quot;&gt;
 7956           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
 7957           &lt;description&gt;
 7958             On return, points to the object&#39;s size in bytes.
 7959           &lt;/description&gt;
 7960         &lt;/param&gt;
 7961       &lt;/parameters&gt;
 7962       &lt;errors&gt;
 7963       &lt;/errors&gt;
 7964     &lt;/function&gt;
 7965 
 7966     &lt;function id=&quot;GetObjectHashCode&quot; phase=&quot;start&quot; num=&quot;58&quot;&gt;
 7967       &lt;synopsis&gt;Get Object Hash Code&lt;/synopsis&gt;
 7968       &lt;description&gt;
 7969         For the object indicated by &lt;code&gt;object&lt;/code&gt;,
 7970         return via &lt;code&gt;hash_code_ptr&lt;/code&gt; a hash code.
 7971         This hash code could be used to maintain a hash table of object references,
 7972         however, on some implementations this can cause significant performance
 7973         impacts--in most cases
 7974         &lt;internallink id=&quot;Heap&quot;&gt;tags&lt;/internallink&gt;
 7975         will be a more efficient means of associating information with objects.
 7976         This function guarantees
 7977         the same hash code value for a particular object throughout its life
 7978       &lt;/description&gt;
 7979       &lt;origin&gt;jvmdi&lt;/origin&gt;
 7980       &lt;capabilities&gt;
 7981       &lt;/capabilities&gt;
 7982       &lt;parameters&gt;
 7983         &lt;param id=&quot;object&quot;&gt;
 7984           &lt;jobject/&gt;
 7985             &lt;description&gt;
 7986               The object to query.
 7987             &lt;/description&gt;
 7988         &lt;/param&gt;
 7989         &lt;param id=&quot;hash_code_ptr&quot;&gt;
 7990           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 7991           &lt;description&gt;
 7992             On return, points to the object&#39;s hash code.
 7993           &lt;/description&gt;
 7994         &lt;/param&gt;
 7995       &lt;/parameters&gt;
 7996       &lt;errors&gt;
 7997       &lt;/errors&gt;
 7998     &lt;/function&gt;
 7999 
 8000     &lt;function id=&quot;GetObjectMonitorUsage&quot; num=&quot;59&quot;&gt;
 8001       &lt;synopsis&gt;Get Object Monitor Usage&lt;/synopsis&gt;
 8002       &lt;typedef id=&quot;jvmtiMonitorUsage&quot; label=&quot;Object monitor usage information&quot;&gt;
 8003         &lt;field id=&quot;owner&quot;&gt;
 8004           &lt;jthread/&gt;
 8005             &lt;description&gt;
 8006               The thread owning this monitor, or &lt;code&gt;NULL&lt;/code&gt; if unused
 8007             &lt;/description&gt;
 8008         &lt;/field&gt;
 8009         &lt;field id=&quot;entry_count&quot;&gt;
 8010           &lt;jint/&gt;
 8011           &lt;description&gt;
 8012             The number of times the owning thread has entered the monitor
 8013           &lt;/description&gt;
 8014         &lt;/field&gt;
 8015         &lt;field id=&quot;waiter_count&quot;&gt;
 8016           &lt;jint/&gt;
 8017           &lt;description&gt;
 8018             The number of threads waiting to own this monitor
 8019           &lt;/description&gt;
 8020         &lt;/field&gt;
 8021         &lt;field id=&quot;waiters&quot;&gt;
 8022           &lt;allocfieldbuf&gt;&lt;jthread/&gt;&lt;/allocfieldbuf&gt;
 8023             &lt;description&gt;
 8024               The &lt;code&gt;waiter_count&lt;/code&gt; waiting threads
 8025             &lt;/description&gt;
 8026         &lt;/field&gt;
 8027         &lt;field id=&quot;notify_waiter_count&quot;&gt;
 8028           &lt;jint/&gt;
 8029           &lt;description&gt;
 8030             The number of threads waiting to be notified by this monitor
 8031           &lt;/description&gt;
 8032         &lt;/field&gt;
 8033         &lt;field id=&quot;notify_waiters&quot;&gt;
 8034           &lt;allocfieldbuf&gt;&lt;jthread/&gt;&lt;/allocfieldbuf&gt;
 8035             &lt;description&gt;
 8036               The &lt;code&gt;notify_waiter_count&lt;/code&gt; threads waiting to be notified
 8037             &lt;/description&gt;
 8038         &lt;/field&gt;
 8039       &lt;/typedef&gt;
 8040       &lt;description&gt;
 8041         Get information about the object&#39;s monitor.
 8042         The fields of the &lt;functionlink id=&quot;jvmtiMonitorUsage&quot;&gt;&lt;/functionlink&gt; structure
 8043         are filled in with information about usage of the monitor.
 8044           &lt;todo&gt;
 8045             Decide and then clarify suspend requirements.
 8046           &lt;/todo&gt;
 8047       &lt;/description&gt;
 8048       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8049       &lt;capabilities&gt;
 8050         &lt;required id=&quot;can_get_monitor_info&quot;&gt;&lt;/required&gt;
 8051       &lt;/capabilities&gt;
 8052       &lt;parameters&gt;
 8053         &lt;param id=&quot;object&quot;&gt;
 8054           &lt;jobject/&gt;
 8055             &lt;description&gt;
 8056               The object to query.
 8057             &lt;/description&gt;
 8058         &lt;/param&gt;
 8059         &lt;param id=&quot;info_ptr&quot;&gt;
 8060           &lt;outptr&gt;&lt;struct&gt;jvmtiMonitorUsage&lt;/struct&gt;&lt;/outptr&gt;
 8061           &lt;description&gt;
 8062             On return, filled with monitor information for the
 8063             specified object.
 8064           &lt;/description&gt;
 8065         &lt;/param&gt;
 8066       &lt;/parameters&gt;
 8067       &lt;errors&gt;
 8068       &lt;/errors&gt;
 8069     &lt;/function&gt;
 8070 
 8071     &lt;elide&gt;
 8072     &lt;function id=&quot;GetObjectMonitors&quot; num=&quot;116&quot;&gt;
 8073       &lt;synopsis&gt;Get Object Monitors&lt;/synopsis&gt;
 8074       &lt;description&gt;
 8075         Return the list of object monitors.
 8076         &lt;p/&gt;
 8077         Note: details about each monitor can be examined with
 8078         &lt;functionlink id=&quot;GetObjectMonitorUsage&quot;&gt;&lt;/functionlink&gt;.
 8079       &lt;/description&gt;
 8080       &lt;origin&gt;new&lt;/origin&gt;
 8081       &lt;capabilities&gt;
 8082         &lt;required id=&quot;can_get_monitor_info&quot;&gt;&lt;/required&gt;
 8083       &lt;/capabilities&gt;
 8084       &lt;parameters&gt;
 8085         &lt;param id=&quot;monitorCnt&quot;&gt;
 8086           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8087           &lt;description&gt;
 8088             On return, pointer to the number
 8089             of monitors returned in &lt;code&gt;monitors_ptr&lt;/code&gt;.
 8090           &lt;/description&gt;
 8091         &lt;/param&gt;
 8092         &lt;param id=&quot;monitors_ptr&quot;&gt;
 8093           &lt;allocbuf outcount=&quot;monitorCnt&quot;&gt;&lt;jobject/&gt;&lt;/allocbuf&gt;
 8094             &lt;description&gt;
 8095               On return, pointer to the monitor list.
 8096             &lt;/description&gt;
 8097         &lt;/param&gt;
 8098       &lt;/parameters&gt;
 8099       &lt;errors&gt;
 8100       &lt;/errors&gt;
 8101     &lt;/function&gt;
 8102     &lt;/elide&gt;
 8103 
 8104   &lt;/category&gt;
 8105 
 8106   &lt;category id=&quot;fieldCategory&quot; label=&quot;Field&quot;&gt;
 8107 
 8108     &lt;intro&gt;
 8109     &lt;/intro&gt;
 8110 
 8111     &lt;function id=&quot;GetFieldName&quot; phase=&quot;start&quot; num=&quot;60&quot;&gt;
 8112       &lt;synopsis&gt;Get Field Name (and Signature)&lt;/synopsis&gt;
 8113       &lt;description&gt;
 8114         For the field indicated by &lt;paramlink id=&quot;klass&quot;/&gt; and &lt;paramlink id=&quot;field&quot;/&gt;,
 8115         return the field name via &lt;paramlink id=&quot;name_ptr&quot;/&gt; and field signature via
 8116         &lt;paramlink id=&quot;signature_ptr&quot;/&gt;.
 8117         &lt;p/&gt;
 8118         Field signatures are defined in the
 8119         &lt;externallink id=&quot;jni/index.html&quot;&gt;JNI Specification&lt;/externallink&gt;
 8120         and are referred to as &lt;code&gt;field descriptors&lt;/code&gt; in
 8121         &lt;vmspec chapter=&quot;4.3.2&quot;/&gt;.
 8122       &lt;/description&gt;
 8123       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 8124       &lt;capabilities&gt;
 8125       &lt;/capabilities&gt;
 8126       &lt;parameters&gt;
 8127         &lt;param id=&quot;klass&quot;&gt;
 8128           &lt;jclass field=&quot;field&quot;/&gt;
 8129             &lt;description&gt;
 8130               The class of the field to query.
 8131             &lt;/description&gt;
 8132         &lt;/param&gt;
 8133         &lt;param id=&quot;field&quot;&gt;
 8134           &lt;jfieldID class=&quot;klass&quot;/&gt;
 8135             &lt;description&gt;
 8136               The field to query.
 8137             &lt;/description&gt;
 8138         &lt;/param&gt;
 8139         &lt;param id=&quot;name_ptr&quot;&gt;
 8140           &lt;allocbuf&gt;
 8141             &lt;char/&gt;
 8142             &lt;nullok&gt;the name is not returned&lt;/nullok&gt;
 8143           &lt;/allocbuf&gt;
 8144           &lt;description&gt;
 8145             On return, points to the field name, encoded as a
 8146             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8147           &lt;/description&gt;
 8148         &lt;/param&gt;
 8149         &lt;param id=&quot;signature_ptr&quot;&gt;
 8150           &lt;allocbuf&gt;
 8151             &lt;char/&gt;
 8152             &lt;nullok&gt;the signature is not returned&lt;/nullok&gt;
 8153           &lt;/allocbuf&gt;
 8154           &lt;description&gt;
 8155             On return, points to the field signature, encoded as a
 8156             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8157           &lt;/description&gt;
 8158         &lt;/param&gt;
 8159         &lt;param id=&quot;generic_ptr&quot;&gt;
 8160           &lt;allocbuf&gt;
 8161             &lt;char/&gt;
 8162             &lt;nullok&gt;the generic signature is not returned&lt;/nullok&gt;
 8163           &lt;/allocbuf&gt;
 8164           &lt;description&gt;
 8165             On return, points to the generic signature of the field, encoded as a
 8166             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8167             If there is no generic signature attribute for the field, then,
 8168             on return, points to &lt;code&gt;NULL&lt;/code&gt;.
 8169           &lt;/description&gt;
 8170         &lt;/param&gt;
 8171       &lt;/parameters&gt;
 8172       &lt;errors&gt;
 8173       &lt;/errors&gt;
 8174     &lt;/function&gt;
 8175 
 8176     &lt;function id=&quot;GetFieldDeclaringClass&quot; phase=&quot;start&quot; num=&quot;61&quot;&gt;
 8177       &lt;synopsis&gt;Get Field Declaring Class&lt;/synopsis&gt;
 8178       &lt;description&gt;
 8179         For the field indicated by &lt;code&gt;klass&lt;/code&gt; and &lt;code&gt;field&lt;/code&gt;
 8180         return the class that defined it via &lt;code&gt;declaring_class_ptr&lt;/code&gt;.
 8181         The declaring class will either be &lt;code&gt;klass&lt;/code&gt;, a superclass, or
 8182         an implemented interface.
 8183       &lt;/description&gt;
 8184       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8185       &lt;capabilities&gt;
 8186       &lt;/capabilities&gt;
 8187       &lt;parameters&gt;
 8188         &lt;param id=&quot;klass&quot;&gt;
 8189           &lt;jclass field=&quot;field&quot;/&gt;
 8190             &lt;description&gt;
 8191               The class to query.
 8192             &lt;/description&gt;
 8193         &lt;/param&gt;
 8194         &lt;param id=&quot;field&quot;&gt;
 8195           &lt;jfieldID class=&quot;klass&quot;/&gt;
 8196             &lt;description&gt;
 8197               The field to query.
 8198             &lt;/description&gt;
 8199         &lt;/param&gt;
 8200         &lt;param id=&quot;declaring_class_ptr&quot;&gt;
 8201           &lt;outptr&gt;&lt;jclass/&gt;&lt;/outptr&gt;
 8202             &lt;description&gt;
 8203               On return, points to the declaring class
 8204             &lt;/description&gt;
 8205         &lt;/param&gt;
 8206       &lt;/parameters&gt;
 8207       &lt;errors&gt;
 8208       &lt;/errors&gt;
 8209     &lt;/function&gt;
 8210 
 8211     &lt;function id=&quot;GetFieldModifiers&quot; phase=&quot;start&quot; num=&quot;62&quot;&gt;
 8212       &lt;synopsis&gt;Get Field Modifiers&lt;/synopsis&gt;
 8213       &lt;description&gt;
 8214         For the field indicated by &lt;code&gt;klass&lt;/code&gt; and &lt;code&gt;field&lt;/code&gt;
 8215         return the access flags via &lt;code&gt;modifiers_ptr&lt;/code&gt;.
 8216         Access flags are defined in &lt;vmspec chapter=&quot;4&quot;/&gt;.
 8217       &lt;/description&gt;
 8218       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8219       &lt;capabilities&gt;
 8220       &lt;/capabilities&gt;
 8221       &lt;parameters&gt;
 8222         &lt;param id=&quot;klass&quot;&gt;
 8223           &lt;jclass field=&quot;field&quot;/&gt;
 8224             &lt;description&gt;
 8225               The class to query.
 8226             &lt;/description&gt;
 8227         &lt;/param&gt;
 8228         &lt;param id=&quot;field&quot;&gt;
 8229           &lt;jfieldID class=&quot;klass&quot;/&gt;
 8230             &lt;description&gt;
 8231               The field to query.
 8232             &lt;/description&gt;
 8233         &lt;/param&gt;
 8234         &lt;param id=&quot;modifiers_ptr&quot;&gt;
 8235           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8236           &lt;description&gt;
 8237             On return, points to the access flags.
 8238           &lt;/description&gt;
 8239         &lt;/param&gt;
 8240       &lt;/parameters&gt;
 8241       &lt;errors&gt;
 8242       &lt;/errors&gt;
 8243     &lt;/function&gt;
 8244 
 8245     &lt;function id=&quot;IsFieldSynthetic&quot; phase=&quot;start&quot; num=&quot;63&quot;&gt;
 8246       &lt;synopsis&gt;Is Field Synthetic&lt;/synopsis&gt;
 8247       &lt;description&gt;
 8248         For the field indicated by &lt;code&gt;klass&lt;/code&gt; and &lt;code&gt;field&lt;/code&gt;, return a
 8249         value indicating whether the field is synthetic via &lt;code&gt;is_synthetic_ptr&lt;/code&gt;.
 8250         Synthetic fields are generated by the compiler but not present in the
 8251         original source code.
 8252       &lt;/description&gt;
 8253       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8254       &lt;capabilities&gt;
 8255         &lt;required id=&quot;can_get_synthetic_attribute&quot;&gt;&lt;/required&gt;
 8256       &lt;/capabilities&gt;
 8257       &lt;parameters&gt;
 8258         &lt;param id=&quot;klass&quot;&gt;
 8259           &lt;jclass field=&quot;field&quot;/&gt;
 8260             &lt;description&gt;
 8261               The class of the field to query.
 8262             &lt;/description&gt;
 8263         &lt;/param&gt;
 8264         &lt;param id=&quot;field&quot;&gt;
 8265           &lt;jfieldID class=&quot;klass&quot;/&gt;
 8266             &lt;description&gt;
 8267               The field to query.
 8268             &lt;/description&gt;
 8269         &lt;/param&gt;
 8270         &lt;param id=&quot;is_synthetic_ptr&quot;&gt;
 8271           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 8272           &lt;description&gt;
 8273             On return, points to the boolean result of this function.
 8274           &lt;/description&gt;
 8275         &lt;/param&gt;
 8276       &lt;/parameters&gt;
 8277       &lt;errors&gt;
 8278       &lt;/errors&gt;
 8279     &lt;/function&gt;
 8280 
 8281   &lt;/category&gt;
 8282 
 8283   &lt;category id=&quot;method&quot; label=&quot;Method&quot;&gt;
 8284 
 8285     &lt;intro&gt;
 8286       These functions provide information about a method (represented as a
 8287       &lt;typelink id=&quot;jmethodID&quot;/&gt;) and set how methods are processed.
 8288     &lt;/intro&gt;
 8289 
 8290     &lt;intro id=&quot;obsoleteMethods&quot; label=&quot;Obsolete Methods&quot;&gt;
 8291       The functions &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; and
 8292       &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; can cause new versions
 8293       of methods to be installed.
 8294       An original version of a method is considered equivalent
 8295       to the new version if:
 8296       &lt;ul&gt;
 8297         &lt;li&gt;their bytecodes are the same except for indices into the
 8298           constant pool and &lt;/li&gt;
 8299         &lt;li&gt;the referenced constants are equal.&lt;/li&gt;
 8300       &lt;/ul&gt;
 8301       An original method version which is not equivalent to the
 8302       new method version is called obsolete and is assigned a new method ID;
 8303       the original method ID now refers to the new method version.
 8304       A method ID can be tested for obsolescence with
 8305       &lt;functionlink id=&quot;IsMethodObsolete&quot;/&gt;.
 8306     &lt;/intro&gt;
 8307 
 8308     &lt;function id=&quot;GetMethodName&quot; phase=&quot;start&quot; num=&quot;64&quot;&gt;
 8309       &lt;synopsis&gt;Get Method Name (and Signature)&lt;/synopsis&gt;
 8310       &lt;description&gt;
 8311         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8312         return the method name via &lt;code&gt;name_ptr&lt;/code&gt; and method signature via
 8313         &lt;code&gt;signature_ptr&lt;/code&gt;.
 8314         &lt;p/&gt;
 8315         Method signatures are defined in the
 8316         &lt;externallink id=&quot;jni/index.html&quot;&gt;JNI Specification&lt;/externallink&gt;
 8317         and are referred to as &lt;code&gt;method descriptors&lt;/code&gt; in
 8318         &lt;vmspec chapter=&quot;4.3.3&quot;/&gt;.
 8319         Note this is different
 8320         than method signatures as defined in the &lt;i&gt;Java Language Specification&lt;/i&gt;.
 8321       &lt;/description&gt;
 8322       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 8323       &lt;capabilities&gt;
 8324       &lt;/capabilities&gt;
 8325       &lt;parameters&gt;
 8326         &lt;param id=&quot;method&quot;&gt;
 8327           &lt;jmethodID/&gt;
 8328             &lt;description&gt;
 8329               The method to query.
 8330             &lt;/description&gt;
 8331         &lt;/param&gt;
 8332         &lt;param id=&quot;name_ptr&quot;&gt;
 8333           &lt;allocbuf&gt;
 8334             &lt;char/&gt;
 8335             &lt;nullok&gt;the name is not returned&lt;/nullok&gt;
 8336           &lt;/allocbuf&gt;
 8337           &lt;description&gt;
 8338             On return, points to the method name, encoded as a
 8339             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8340           &lt;/description&gt;
 8341         &lt;/param&gt;
 8342         &lt;param id=&quot;signature_ptr&quot;&gt;
 8343           &lt;allocbuf&gt;
 8344             &lt;char/&gt;
 8345             &lt;nullok&gt;the signature is not returned&lt;/nullok&gt;
 8346           &lt;/allocbuf&gt;
 8347           &lt;description&gt;
 8348             On return, points to the method signature, encoded as a
 8349             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8350           &lt;/description&gt;
 8351         &lt;/param&gt;
 8352         &lt;param id=&quot;generic_ptr&quot;&gt;
 8353           &lt;allocbuf&gt;
 8354             &lt;char/&gt;
 8355             &lt;nullok&gt;the generic signature is not returned&lt;/nullok&gt;
 8356           &lt;/allocbuf&gt;
 8357           &lt;description&gt;
 8358             On return, points to the generic signature of the method, encoded as a
 8359             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8360             If there is no generic signature attribute for the method, then,
 8361             on return, points to &lt;code&gt;NULL&lt;/code&gt;.
 8362           &lt;/description&gt;
 8363         &lt;/param&gt;
 8364       &lt;/parameters&gt;
 8365       &lt;errors&gt;
 8366       &lt;/errors&gt;
 8367     &lt;/function&gt;
 8368 
 8369     &lt;function id=&quot;GetMethodDeclaringClass&quot; phase=&quot;start&quot; num=&quot;65&quot;&gt;
 8370       &lt;synopsis&gt;Get Method Declaring Class&lt;/synopsis&gt;
 8371       &lt;description&gt;
 8372         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8373         return the class that defined it via &lt;code&gt;declaring_class_ptr&lt;/code&gt;.
 8374       &lt;/description&gt;
 8375       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8376       &lt;capabilities&gt;
 8377       &lt;/capabilities&gt;
 8378       &lt;parameters&gt;
 8379         &lt;param id=&quot;klass&quot;&gt;
 8380           &lt;jclass method=&quot;method&quot;/&gt;
 8381             &lt;description&gt;
 8382               The class to query.
 8383             &lt;/description&gt;
 8384         &lt;/param&gt;
 8385         &lt;param id=&quot;method&quot;&gt;
 8386           &lt;jmethodID class=&quot;klass&quot;/&gt;
 8387             &lt;description&gt;
 8388               The method to query.
 8389             &lt;/description&gt;
 8390         &lt;/param&gt;
 8391         &lt;param id=&quot;declaring_class_ptr&quot;&gt;
 8392           &lt;outptr&gt;&lt;jclass/&gt;&lt;/outptr&gt;
 8393             &lt;description&gt;
 8394               On return, points to the declaring class
 8395             &lt;/description&gt;
 8396         &lt;/param&gt;
 8397       &lt;/parameters&gt;
 8398       &lt;errors&gt;
 8399       &lt;/errors&gt;
 8400     &lt;/function&gt;
 8401 
 8402     &lt;function id=&quot;GetMethodModifiers&quot; phase=&quot;start&quot; num=&quot;66&quot;&gt;
 8403       &lt;synopsis&gt;Get Method Modifiers&lt;/synopsis&gt;
 8404       &lt;description&gt;
 8405         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8406         return the access flags via &lt;code&gt;modifiers_ptr&lt;/code&gt;.
 8407         Access flags are defined in &lt;vmspec chapter=&quot;4&quot;/&gt;.
 8408       &lt;/description&gt;
 8409       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8410       &lt;capabilities&gt;
 8411       &lt;/capabilities&gt;
 8412       &lt;parameters&gt;
 8413         &lt;param id=&quot;klass&quot;&gt;
 8414           &lt;jclass method=&quot;method&quot;/&gt;
 8415             &lt;description&gt;
 8416               The class to query.
 8417             &lt;/description&gt;
 8418         &lt;/param&gt;
 8419         &lt;param id=&quot;method&quot;&gt;
 8420           &lt;jmethodID class=&quot;klass&quot;/&gt;
 8421             &lt;description&gt;
 8422               The method to query.
 8423             &lt;/description&gt;
 8424         &lt;/param&gt;
 8425         &lt;param id=&quot;modifiers_ptr&quot;&gt;
 8426           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8427           &lt;description&gt;
 8428             On return, points to the access flags.
 8429           &lt;/description&gt;
 8430         &lt;/param&gt;
 8431       &lt;/parameters&gt;
 8432       &lt;errors&gt;
 8433       &lt;/errors&gt;
 8434     &lt;/function&gt;
 8435 
 8436     &lt;function id=&quot;GetMaxLocals&quot; phase=&quot;start&quot; num=&quot;68&quot;&gt;
 8437       &lt;synopsis&gt;Get Max Locals&lt;/synopsis&gt;
 8438       &lt;description&gt;
 8439           For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8440           return the number of local variable slots used by the method,
 8441           including the local variables used to pass parameters to the
 8442           method on its invocation.
 8443           &lt;p/&gt;
 8444           See &lt;code&gt;max_locals&lt;/code&gt; in &lt;vmspec chapter=&quot;4.7.3&quot;/&gt;.
 8445       &lt;/description&gt;
 8446       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8447       &lt;capabilities&gt;
 8448       &lt;/capabilities&gt;
 8449       &lt;parameters&gt;
 8450         &lt;param id=&quot;klass&quot;&gt;
 8451           &lt;jclass method=&quot;method&quot;/&gt;
 8452             &lt;description&gt;
 8453               The class to query.
 8454             &lt;/description&gt;
 8455         &lt;/param&gt;
 8456         &lt;param id=&quot;method&quot;&gt;
 8457           &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8458             &lt;description&gt;
 8459               The method to query.
 8460             &lt;/description&gt;
 8461         &lt;/param&gt;
 8462         &lt;param id=&quot;max_ptr&quot;&gt;
 8463           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8464           &lt;description&gt;
 8465             On return, points to the maximum number of local slots
 8466           &lt;/description&gt;
 8467         &lt;/param&gt;
 8468       &lt;/parameters&gt;
 8469       &lt;errors&gt;
 8470       &lt;/errors&gt;
 8471     &lt;/function&gt;
 8472 
 8473     &lt;function id=&quot;GetArgumentsSize&quot; phase=&quot;start&quot; num=&quot;69&quot;&gt;
 8474       &lt;synopsis&gt;Get Arguments Size&lt;/synopsis&gt;
 8475       &lt;description&gt;
 8476         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8477         return via &lt;code&gt;max_ptr&lt;/code&gt; the number of local variable slots used
 8478         by the method&#39;s arguments.
 8479         Note that two-word arguments use two slots.
 8480       &lt;/description&gt;
 8481       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8482       &lt;capabilities&gt;
 8483       &lt;/capabilities&gt;
 8484       &lt;parameters&gt;
 8485         &lt;param id=&quot;klass&quot;&gt;
 8486           &lt;jclass method=&quot;method&quot;/&gt;
 8487             &lt;description&gt;
 8488               The class to query.
 8489             &lt;/description&gt;
 8490         &lt;/param&gt;
 8491         &lt;param id=&quot;method&quot;&gt;
 8492           &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8493             &lt;description&gt;
 8494               The method to query.
 8495             &lt;/description&gt;
 8496         &lt;/param&gt;
 8497         &lt;param id=&quot;size_ptr&quot;&gt;
 8498           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8499           &lt;description&gt;
 8500             On return, points to the number of argument slots
 8501           &lt;/description&gt;
 8502         &lt;/param&gt;
 8503       &lt;/parameters&gt;
 8504       &lt;errors&gt;
 8505       &lt;/errors&gt;
 8506     &lt;/function&gt;
 8507 
 8508     &lt;function id=&quot;GetLineNumberTable&quot; phase=&quot;start&quot; num=&quot;70&quot;&gt;
 8509       &lt;synopsis&gt;Get Line Number Table&lt;/synopsis&gt;
 8510       &lt;typedef id=&quot;jvmtiLineNumberEntry&quot; label=&quot;Line number table entry&quot;&gt;
 8511         &lt;field id=&quot;start_location&quot;&gt;
 8512           &lt;jlocation/&gt;
 8513           &lt;description&gt;
 8514             the &lt;datalink id=&quot;jlocation&quot;&gt;&lt;/datalink&gt; where the line begins
 8515           &lt;/description&gt;
 8516         &lt;/field&gt;
 8517         &lt;field id=&quot;line_number&quot;&gt;
 8518           &lt;jint/&gt;
 8519           &lt;description&gt;
 8520             the line number
 8521           &lt;/description&gt;
 8522         &lt;/field&gt;
 8523       &lt;/typedef&gt;
 8524       &lt;description&gt;
 8525         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8526         return a table of source line number entries. The size of the table is
 8527         returned via &lt;code&gt;entry_count_ptr&lt;/code&gt; and the table itself is
 8528         returned via &lt;code&gt;table_ptr&lt;/code&gt;.
 8529       &lt;/description&gt;
 8530       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8531       &lt;capabilities&gt;
 8532         &lt;required id=&quot;can_get_line_numbers&quot;&gt;&lt;/required&gt;
 8533       &lt;/capabilities&gt;
 8534       &lt;parameters&gt;
 8535         &lt;param id=&quot;klass&quot;&gt;
 8536           &lt;jclass method=&quot;method&quot;/&gt;
 8537             &lt;description&gt;
 8538               The class to query.
 8539             &lt;/description&gt;
 8540         &lt;/param&gt;
 8541         &lt;param id=&quot;method&quot;&gt;
 8542           &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8543             &lt;description&gt;
 8544               The method to query.
 8545             &lt;/description&gt;
 8546         &lt;/param&gt;
 8547         &lt;param id=&quot;entry_count_ptr&quot;&gt;
 8548           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8549           &lt;description&gt;
 8550             On return, points to the number of entries in the table
 8551           &lt;/description&gt;
 8552         &lt;/param&gt;
 8553         &lt;param id=&quot;table_ptr&quot;&gt;
 8554           &lt;allocbuf outcount=&quot;entry_count_ptr&quot;&gt;&lt;struct&gt;jvmtiLineNumberEntry&lt;/struct&gt;&lt;/allocbuf&gt;
 8555           &lt;description&gt;
 8556             On return, points to the line number table pointer.
 8557           &lt;/description&gt;
 8558         &lt;/param&gt;
 8559       &lt;/parameters&gt;
 8560       &lt;errors&gt;
 8561         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 8562           Class information does not include line numbers.
 8563         &lt;/error&gt;
 8564       &lt;/errors&gt;
 8565     &lt;/function&gt;
 8566 
 8567     &lt;function id=&quot;GetMethodLocation&quot; phase=&quot;start&quot; num=&quot;71&quot;&gt;
 8568       &lt;synopsis&gt;Get Method Location&lt;/synopsis&gt;
 8569       &lt;description&gt;
 8570         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8571         return the beginning and ending addresses through
 8572         &lt;code&gt;start_location_ptr&lt;/code&gt; and &lt;code&gt;end_location_ptr&lt;/code&gt;. In a
 8573         conventional bytecode indexing scheme,
 8574         &lt;code&gt;start_location_ptr&lt;/code&gt; will always point to zero
 8575         and &lt;code&gt;end_location_ptr&lt;/code&gt;
 8576         will always point to the bytecode count minus one.
 8577       &lt;/description&gt;
 8578       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8579       &lt;capabilities&gt;
 8580       &lt;/capabilities&gt;
 8581       &lt;parameters&gt;
 8582         &lt;param id=&quot;klass&quot;&gt;
 8583           &lt;jclass method=&quot;method&quot;/&gt;
 8584             &lt;description&gt;
 8585               The class to query.
 8586             &lt;/description&gt;
 8587         &lt;/param&gt;
 8588         &lt;param id=&quot;method&quot;&gt;
 8589           &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8590             &lt;description&gt;
 8591               The method to query.
 8592             &lt;/description&gt;
 8593         &lt;/param&gt;
 8594         &lt;param id=&quot;start_location_ptr&quot;&gt;
 8595           &lt;outptr&gt;&lt;jlocation/&gt;&lt;/outptr&gt;
 8596           &lt;description&gt;
 8597             On return, points to the first location, or
 8598             &lt;code&gt;-1&lt;/code&gt; if location information is not available.
 8599             If the information is available and
 8600             &lt;functionlink id=&quot;GetJLocationFormat&quot;&gt;&lt;/functionlink&gt;
 8601             returns &lt;datalink id=&quot;JVMTI_JLOCATION_JVMBCI&quot;&gt;&lt;/datalink&gt;
 8602             then this will always be zero.
 8603           &lt;/description&gt;
 8604         &lt;/param&gt;
 8605         &lt;param id=&quot;end_location_ptr&quot;&gt;
 8606           &lt;outptr&gt;&lt;jlocation/&gt;&lt;/outptr&gt;
 8607           &lt;description&gt;
 8608             On return, points to the last location,
 8609             or &lt;code&gt;-1&lt;/code&gt; if location information is not available.
 8610           &lt;/description&gt;
 8611         &lt;/param&gt;
 8612       &lt;/parameters&gt;
 8613       &lt;errors&gt;
 8614         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 8615           Class information does not include method sizes.
 8616         &lt;/error&gt;
 8617       &lt;/errors&gt;
 8618     &lt;/function&gt;
 8619 
 8620     &lt;function id=&quot;GetLocalVariableTable&quot; num=&quot;72&quot;&gt;
 8621       &lt;synopsis&gt;Get Local Variable Table&lt;/synopsis&gt;
 8622       &lt;typedef id=&quot;jvmtiLocalVariableEntry&quot; label=&quot;Local variable table entry&quot;&gt;
 8623         &lt;field id=&quot;start_location&quot;&gt;
 8624           &lt;jlocation/&gt;
 8625           &lt;description&gt;
 8626             The code array index where the local variable is first valid
 8627             (that is, where it must have a value).
 8628           &lt;/description&gt;
 8629         &lt;/field&gt;
 8630         &lt;field id=&quot;length&quot;&gt;
 8631           &lt;jint/&gt;
 8632           &lt;description&gt;
 8633             The length of the valid section for this local variable.
 8634             The last code array index where the local variable is valid
 8635             is &lt;code&gt;start_location + length&lt;/code&gt;.
 8636           &lt;/description&gt;
 8637         &lt;/field&gt;
 8638         &lt;field id=&quot;name&quot;&gt;
 8639           &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 8640           &lt;description&gt;
 8641             The local variable name, encoded as a
 8642             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8643           &lt;/description&gt;
 8644         &lt;/field&gt;
 8645         &lt;field id=&quot;signature&quot;&gt;
 8646           &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 8647           &lt;description&gt;
 8648             The local variable&#39;s type signature, encoded as a
 8649             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8650             The signature format is the same as that defined in
 8651             &lt;vmspec chapter=&quot;4.3.2&quot;/&gt;.
 8652           &lt;/description&gt;
 8653         &lt;/field&gt;
 8654         &lt;field id=&quot;generic_signature&quot;&gt;
 8655           &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 8656           &lt;description&gt;
 8657             The local variable&#39;s generic signature, encoded as a
 8658             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8659             The value of this field will be &lt;code&gt;NULL&lt;/code&gt; for any local
 8660             variable which does not have a generic type.
 8661           &lt;/description&gt;
 8662         &lt;/field&gt;
 8663         &lt;field id=&quot;slot&quot;&gt;
 8664           &lt;jint/&gt;
 8665           &lt;description&gt;
 8666             The local variable&#39;s slot.  See &lt;internallink id=&quot;local&quot;&gt;Local Variables&lt;/internallink&gt;.
 8667           &lt;/description&gt;
 8668         &lt;/field&gt;
 8669       &lt;/typedef&gt;
 8670       &lt;description&gt;
 8671         Return local variable information.
 8672       &lt;/description&gt;
 8673       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 8674       &lt;capabilities&gt;
 8675         &lt;required id=&quot;can_access_local_variables&quot;&gt;&lt;/required&gt;
 8676       &lt;/capabilities&gt;
 8677       &lt;parameters&gt;
 8678         &lt;param id=&quot;method&quot;&gt;
 8679           &lt;jmethodID native=&quot;error&quot;/&gt;
 8680             &lt;description&gt;
 8681               The method to query.
 8682             &lt;/description&gt;
 8683         &lt;/param&gt;
 8684         &lt;param id=&quot;entry_count_ptr&quot;&gt;
 8685           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8686           &lt;description&gt;
 8687             On return, points to the number of entries in the table
 8688           &lt;/description&gt;
 8689         &lt;/param&gt;
 8690         &lt;param id=&quot;table_ptr&quot;&gt;
 8691           &lt;allocbuf outcount=&quot;entry_count_ptr&quot;&gt;&lt;struct&gt;jvmtiLocalVariableEntry&lt;/struct&gt;&lt;/allocbuf&gt;
 8692           &lt;description&gt;
 8693             On return, points to an array of local variable table entries.
 8694           &lt;/description&gt;
 8695         &lt;/param&gt;
 8696       &lt;/parameters&gt;
 8697       &lt;errors&gt;
 8698         &lt;error id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot;&gt;
 8699           Class information does not include local variable
 8700           information.
 8701         &lt;/error&gt;
 8702       &lt;/errors&gt;
 8703     &lt;/function&gt;
 8704 
 8705     &lt;function id=&quot;GetBytecodes&quot; phase=&quot;start&quot; num=&quot;75&quot;&gt;
 8706       &lt;synopsis&gt;Get Bytecodes&lt;/synopsis&gt;
 8707       &lt;description&gt;
 8708         For the method indicated by &lt;code&gt;method&lt;/code&gt;,
 8709         return the bytecodes that implement the method. The number of
 8710         bytecodes is returned via &lt;code&gt;bytecode_count_ptr&lt;/code&gt;. The bytecodes
 8711         themselves are returned via &lt;code&gt;bytecodes_ptr&lt;/code&gt;.
 8712       &lt;/description&gt;
 8713       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8714       &lt;capabilities&gt;
 8715         &lt;required id=&quot;can_get_bytecodes&quot;&gt;&lt;/required&gt;
 8716       &lt;/capabilities&gt;
 8717       &lt;parameters&gt;
 8718         &lt;param id=&quot;klass&quot;&gt;
 8719           &lt;jclass method=&quot;method&quot;/&gt;
 8720             &lt;description&gt;
 8721               The class to query.
 8722             &lt;/description&gt;
 8723         &lt;/param&gt;
 8724         &lt;param id=&quot;method&quot;&gt;
 8725           &lt;jmethodID class=&quot;klass&quot; native=&quot;error&quot;/&gt;
 8726             &lt;description&gt;
 8727               The method to query.
 8728             &lt;/description&gt;
 8729         &lt;/param&gt;
 8730         &lt;param id=&quot;bytecode_count_ptr&quot;&gt;
 8731           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 8732           &lt;description&gt;
 8733             On return, points to the length of the bytecode array
 8734           &lt;/description&gt;
 8735         &lt;/param&gt;
 8736         &lt;param id=&quot;bytecodes_ptr&quot;&gt;
 8737           &lt;allocbuf outcount=&quot;bytecode_count_ptr&quot;&gt;&lt;uchar/&gt;&lt;/allocbuf&gt;
 8738           &lt;description&gt;
 8739             On return, points to the pointer to the bytecode array
 8740           &lt;/description&gt;
 8741         &lt;/param&gt;
 8742       &lt;/parameters&gt;
 8743       &lt;errors&gt;
 8744       &lt;/errors&gt;
 8745     &lt;/function&gt;
 8746 
 8747     &lt;function id=&quot;IsMethodNative&quot; phase=&quot;start&quot; num=&quot;76&quot;&gt;
 8748       &lt;synopsis&gt;Is Method Native&lt;/synopsis&gt;
 8749       &lt;description&gt;
 8750         For the method indicated by &lt;code&gt;method&lt;/code&gt;, return a
 8751         value indicating whether the method is native via &lt;code&gt;is_native_ptr&lt;/code&gt;
 8752       &lt;/description&gt;
 8753       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8754       &lt;capabilities&gt;
 8755       &lt;/capabilities&gt;
 8756       &lt;parameters&gt;
 8757         &lt;param id=&quot;klass&quot;&gt;
 8758           &lt;jclass method=&quot;method&quot;/&gt;
 8759             &lt;description&gt;
 8760               The class to query.
 8761             &lt;/description&gt;
 8762         &lt;/param&gt;
 8763         &lt;param id=&quot;method&quot;&gt;
 8764           &lt;jmethodID class=&quot;klass&quot;/&gt;
 8765             &lt;description&gt;
 8766               The method to query.
 8767             &lt;/description&gt;
 8768         &lt;/param&gt;
 8769         &lt;param id=&quot;is_native_ptr&quot;&gt;
 8770           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 8771           &lt;description&gt;
 8772             On return, points to the boolean result of this function.
 8773           &lt;/description&gt;
 8774         &lt;/param&gt;
 8775       &lt;/parameters&gt;
 8776       &lt;errors&gt;
 8777       &lt;/errors&gt;
 8778     &lt;/function&gt;
 8779 
 8780     &lt;function id=&quot;IsMethodSynthetic&quot; phase=&quot;start&quot; num=&quot;77&quot;&gt;
 8781       &lt;synopsis&gt;Is Method Synthetic&lt;/synopsis&gt;
 8782       &lt;description&gt;
 8783         For the method indicated by &lt;code&gt;method&lt;/code&gt;, return a
 8784         value indicating whether the method is synthetic via &lt;code&gt;is_synthetic_ptr&lt;/code&gt;.
 8785         Synthetic methods are generated by the compiler but not present in the
 8786         original source code.
 8787       &lt;/description&gt;
 8788       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8789       &lt;capabilities&gt;
 8790         &lt;required id=&quot;can_get_synthetic_attribute&quot;&gt;&lt;/required&gt;
 8791       &lt;/capabilities&gt;
 8792       &lt;parameters&gt;
 8793         &lt;param id=&quot;klass&quot;&gt;
 8794           &lt;jclass method=&quot;method&quot;/&gt;
 8795             &lt;description&gt;
 8796               The class to query.
 8797             &lt;/description&gt;
 8798         &lt;/param&gt;
 8799         &lt;param id=&quot;method&quot;&gt;
 8800           &lt;jmethodID class=&quot;klass&quot;/&gt;
 8801             &lt;description&gt;
 8802               The method to query.
 8803             &lt;/description&gt;
 8804         &lt;/param&gt;
 8805         &lt;param id=&quot;is_synthetic_ptr&quot;&gt;
 8806           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 8807           &lt;description&gt;
 8808             On return, points to the boolean result of this function.
 8809           &lt;/description&gt;
 8810         &lt;/param&gt;
 8811       &lt;/parameters&gt;
 8812       &lt;errors&gt;
 8813       &lt;/errors&gt;
 8814     &lt;/function&gt;
 8815 
 8816     &lt;function id=&quot;IsMethodObsolete&quot; phase=&quot;start&quot; num=&quot;91&quot;&gt;
 8817       &lt;synopsis&gt;Is Method Obsolete&lt;/synopsis&gt;
 8818       &lt;description&gt;
 8819         Determine if a method ID refers to an
 8820         &lt;internallink id=&quot;obsoleteMethods&quot;&gt;obsolete&lt;/internallink&gt;
 8821         method version.
 8822       &lt;/description&gt;
 8823       &lt;origin&gt;jvmdi&lt;/origin&gt;
 8824       &lt;capabilities&gt;
 8825       &lt;/capabilities&gt;
 8826       &lt;parameters&gt;
 8827         &lt;param id=&quot;klass&quot;&gt;
 8828           &lt;jclass method=&quot;method&quot;/&gt;
 8829             &lt;description&gt;
 8830               The class to query.
 8831             &lt;/description&gt;
 8832         &lt;/param&gt;
 8833         &lt;param id=&quot;method&quot;&gt;
 8834           &lt;jmethodID class=&quot;klass&quot;/&gt;
 8835             &lt;description&gt;
 8836               The method ID to query.
 8837             &lt;/description&gt;
 8838         &lt;/param&gt;
 8839         &lt;param id=&quot;is_obsolete_ptr&quot;&gt;
 8840           &lt;outptr&gt;&lt;jboolean/&gt;&lt;/outptr&gt;
 8841           &lt;description&gt;
 8842             On return, points to the boolean result of this function.
 8843           &lt;/description&gt;
 8844         &lt;/param&gt;
 8845       &lt;/parameters&gt;
 8846       &lt;errors&gt;
 8847       &lt;/errors&gt;
 8848     &lt;/function&gt;
 8849 
 8850     &lt;function id=&quot;SetNativeMethodPrefix&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;73&quot; since=&quot;1.1&quot;&gt;
 8851       &lt;synopsis&gt;Set Native Method Prefix&lt;/synopsis&gt;
 8852       &lt;description&gt;
 8853         This function modifies the failure handling of
 8854         native method resolution by allowing retry
 8855         with a prefix applied to the name.
 8856         When used with the
 8857         &lt;eventlink id=&quot;ClassFileLoadHook&quot;&gt;ClassFileLoadHook
 8858         event&lt;/eventlink&gt;, it enables native methods to be
 8859         &lt;internallink id=&quot;bci&quot;&gt;instrumented&lt;/internallink&gt;.
 8860         &lt;p/&gt;
 8861         Since native methods cannot be directly instrumented
 8862         (they have no bytecodes), they must be wrapped with
 8863         a non-native method which can be instrumented.
 8864         For example, if we had:
 8865         &lt;example&gt;
 8866 native boolean foo(int x);&lt;/example&gt;
 8867         &lt;p/&gt;
 8868         We could transform the class file (with the
 8869         ClassFileLoadHook event) so that this becomes:
 8870         &lt;example&gt;
 8871 boolean foo(int x) {
 8872   &lt;i&gt;... record entry to foo ...&lt;/i&gt;
 8873   return wrapped_foo(x);
 8874 }
 8875 
 8876 native boolean wrapped_foo(int x);&lt;/example&gt;
 8877         &lt;p/&gt;
 8878         Where foo becomes a wrapper for the actual native method
 8879         with the appended prefix &quot;wrapped_&quot;.  Note that
 8880         &quot;wrapped_&quot; would be a poor choice of prefix since it
 8881         might conceivably form the name of an existing method
 8882         thus something like &quot;$$$MyAgentWrapped$$$_&quot; would be
 8883         better but would make these examples less readable.
 8884         &lt;p/&gt;
 8885         The wrapper will allow data to be collected on the native
 8886         method call, but now the problem becomes linking up the
 8887         wrapped method with the native implementation.
 8888         That is, the method &lt;code&gt;wrapped_foo&lt;/code&gt; needs to be
 8889         resolved to the native implementation of &lt;code&gt;foo&lt;/code&gt;,
 8890         which might be:
 8891         &lt;example&gt;
 8892 Java_somePackage_someClass_foo(JNIEnv* env, jint x)&lt;/example&gt;
 8893         &lt;p/&gt;
 8894         This function allows the prefix to be specified and the
 8895         proper resolution to occur.
 8896         Specifically, when the standard resolution fails, the
 8897         resolution is retried taking the prefix into consideration.
 8898         There are two ways that resolution occurs, explicit
 8899         resolution with the JNI function &lt;code&gt;RegisterNatives&lt;/code&gt;
 8900         and the normal automatic resolution.  For
 8901         &lt;code&gt;RegisterNatives&lt;/code&gt;, the VM will attempt this
 8902         association:
 8903         &lt;example&gt;
 8904 method(foo) -&gt; nativeImplementation(foo)&lt;/example&gt;
 8905         &lt;p/&gt;
 8906         When this fails, the resolution will be retried with
 8907         the specified prefix prepended to the method name,
 8908         yielding the correct resolution:
 8909         &lt;example&gt;
 8910 method(wrapped_foo) -&gt; nativeImplementation(foo)&lt;/example&gt;
 8911         &lt;p/&gt;
 8912         For automatic resolution, the VM will attempt:
 8913         &lt;example&gt;
 8914 method(wrapped_foo) -&gt; nativeImplementation(wrapped_foo)&lt;/example&gt;
 8915         &lt;p/&gt;
 8916         When this fails, the resolution will be retried with
 8917         the specified prefix deleted from the implementation name,
 8918         yielding the correct resolution:
 8919         &lt;example&gt;
 8920 method(wrapped_foo) -&gt; nativeImplementation(foo)&lt;/example&gt;
 8921         &lt;p/&gt;
 8922         Note that since the prefix is only used when standard
 8923         resolution fails, native methods can be wrapped selectively.
 8924         &lt;p/&gt;
 8925         Since each &lt;jvmti/&gt; environment is independent and
 8926         can do its own transformation of the bytecodes, more
 8927         than one layer of wrappers may be applied. Thus each
 8928         environment needs its own prefix.  Since transformations
 8929         are applied in order, the prefixes, if applied, will
 8930         be applied in the same order.
 8931         The order of transformation application is described in
 8932         the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event.
 8933         Thus if three environments applied
 8934         wrappers, &lt;code&gt;foo&lt;/code&gt; might become
 8935         &lt;code&gt;$env3_$env2_$env1_foo&lt;/code&gt;.  But if, say,
 8936         the second environment did not apply a wrapper to
 8937         &lt;code&gt;foo&lt;/code&gt; it would be just
 8938         &lt;code&gt;$env3_$env1_foo&lt;/code&gt;.  To be able to
 8939         efficiently determine the sequence of prefixes,
 8940         an intermediate prefix is only applied if its non-native
 8941         wrapper exists.  Thus, in the last example, even though
 8942         &lt;code&gt;$env1_foo&lt;/code&gt; is not a native method, the
 8943         &lt;code&gt;$env1_&lt;/code&gt; prefix is applied since
 8944         &lt;code&gt;$env1_foo&lt;/code&gt; exists.
 8945         &lt;p/&gt;
 8946         Since the prefixes are used at resolution time
 8947         and since resolution may be arbitrarily delayed, a
 8948         native method prefix must remain set as long as there
 8949         are corresponding prefixed native methods.
 8950       &lt;/description&gt;
 8951       &lt;origin&gt;new&lt;/origin&gt;
 8952       &lt;capabilities&gt;
 8953         &lt;required id=&quot;can_set_native_method_prefix&quot;&gt;&lt;/required&gt;
 8954       &lt;/capabilities&gt;
 8955       &lt;parameters&gt;
 8956         &lt;param id=&quot;prefix&quot;&gt;
 8957           &lt;inbuf&gt;
 8958             &lt;char/&gt;
 8959             &lt;nullok&gt;
 8960               any existing prefix in this environment is cancelled
 8961             &lt;/nullok&gt;
 8962           &lt;/inbuf&gt;
 8963           &lt;description&gt;
 8964             The prefix to apply, encoded as a
 8965             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 8966           &lt;/description&gt;
 8967         &lt;/param&gt;
 8968       &lt;/parameters&gt;
 8969       &lt;errors&gt;
 8970       &lt;/errors&gt;
 8971     &lt;/function&gt;
 8972 
 8973     &lt;function id=&quot;SetNativeMethodPrefixes&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;74&quot; since=&quot;1.1&quot;&gt;
 8974       &lt;synopsis&gt;Set Native Method Prefixes&lt;/synopsis&gt;
 8975       &lt;description&gt;
 8976          For a normal agent, &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt;
 8977          will provide all needed native method prefixing.
 8978          For a meta-agent that performs multiple independent class
 8979          file transformations (for example as a proxy for another
 8980          layer of agents) this function allows each transformation
 8981          to have its own prefix.
 8982          The prefixes are applied in the order supplied and are
 8983          processed in the same manner as described for the
 8984          application of prefixes from multiple &lt;jvmti/&gt; environments
 8985          in &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt;.
 8986          &lt;p/&gt;
 8987          Any previous prefixes are replaced.  Thus, calling this
 8988          function with a &lt;paramlink id=&quot;prefix_count&quot;/&gt; of &lt;code&gt;0&lt;/code&gt;
 8989          disables prefixing in this environment.
 8990          &lt;p/&gt;
 8991          &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt; and this function
 8992          are the two ways to set the prefixes.
 8993          Calling &lt;code&gt;SetNativeMethodPrefix&lt;/code&gt; with
 8994          a prefix is the same as calling this function with
 8995          &lt;paramlink id=&quot;prefix_count&quot;/&gt; of &lt;code&gt;1&lt;/code&gt;.
 8996          Calling &lt;code&gt;SetNativeMethodPrefix&lt;/code&gt; with
 8997          &lt;code&gt;NULL&lt;/code&gt; is the same as calling this function with
 8998          &lt;paramlink id=&quot;prefix_count&quot;/&gt; of &lt;code&gt;0&lt;/code&gt;.
 8999       &lt;/description&gt;
 9000       &lt;origin&gt;new&lt;/origin&gt;
 9001       &lt;capabilities&gt;
 9002         &lt;required id=&quot;can_set_native_method_prefix&quot;&gt;&lt;/required&gt;
 9003       &lt;/capabilities&gt;
 9004       &lt;parameters&gt;
 9005         &lt;param id=&quot;prefix_count&quot;&gt;
 9006           &lt;jint min=&quot;0&quot;/&gt;
 9007             &lt;description&gt;
 9008               The number of prefixes to apply.
 9009             &lt;/description&gt;
 9010         &lt;/param&gt;
 9011         &lt;param id=&quot;prefixes&quot;&gt;
 9012           &lt;agentbuf&gt;
 9013             &lt;char/&gt;
 9014           &lt;/agentbuf&gt;
 9015           &lt;description&gt;
 9016             The prefixes to apply for this environment, each encoded as a
 9017             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9018           &lt;/description&gt;
 9019         &lt;/param&gt;
 9020       &lt;/parameters&gt;
 9021       &lt;errors&gt;
 9022       &lt;/errors&gt;
 9023     &lt;/function&gt;
 9024 
 9025   &lt;/category&gt;
 9026 
 9027   &lt;category id=&quot;RawMonitors&quot; label=&quot;Raw Monitor&quot;&gt;
 9028 
 9029     &lt;function id=&quot;CreateRawMonitor&quot; phase=&quot;onload&quot; callbacksafe=&quot;safe&quot; num=&quot;31&quot;&gt;
 9030       &lt;synopsis&gt;Create Raw Monitor&lt;/synopsis&gt;
 9031       &lt;description&gt;
 9032         Create a raw monitor.
 9033       &lt;/description&gt;
 9034       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9035       &lt;capabilities&gt;
 9036       &lt;/capabilities&gt;
 9037       &lt;parameters&gt;
 9038         &lt;param id=&quot;name&quot;&gt;
 9039           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
 9040           &lt;description&gt;
 9041             A name to identify the monitor, encoded as a
 9042             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9043           &lt;/description&gt;
 9044         &lt;/param&gt;
 9045         &lt;param id=&quot;monitor_ptr&quot;&gt;
 9046           &lt;outptr&gt;&lt;jrawMonitorID/&gt;&lt;/outptr&gt;
 9047           &lt;description&gt;
 9048             On return, points to the created monitor.
 9049           &lt;/description&gt;
 9050         &lt;/param&gt;
 9051       &lt;/parameters&gt;
 9052       &lt;errors&gt;
 9053       &lt;/errors&gt;
 9054     &lt;/function&gt;
 9055 
 9056     &lt;function id=&quot;DestroyRawMonitor&quot; phase=&quot;onload&quot; callbacksafe=&quot;safe&quot; num=&quot;32&quot;&gt;
 9057       &lt;synopsis&gt;Destroy Raw Monitor&lt;/synopsis&gt;
 9058       &lt;description&gt;
 9059         Destroy the raw monitor.
 9060         If the monitor being destroyed has been entered by this thread, it will be
 9061         exited before it is destroyed.
 9062         If the monitor being destroyed has been entered by another thread,
 9063         an error will be returned and the monitor will not be destroyed.
 9064       &lt;/description&gt;
 9065       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9066       &lt;capabilities&gt;
 9067       &lt;/capabilities&gt;
 9068       &lt;parameters&gt;
 9069         &lt;param id=&quot;monitor&quot;&gt;
 9070           &lt;jrawMonitorID/&gt;
 9071           &lt;description&gt;
 9072             The monitor
 9073           &lt;/description&gt;
 9074         &lt;/param&gt;
 9075       &lt;/parameters&gt;
 9076       &lt;errors&gt;
 9077         &lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9078           Not monitor owner
 9079         &lt;/error&gt;
 9080       &lt;/errors&gt;
 9081     &lt;/function&gt;
 9082 
 9083     &lt;function id=&quot;RawMonitorEnter&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;33&quot;&gt;
 9084       &lt;synopsis&gt;Raw Monitor Enter&lt;/synopsis&gt;
 9085       &lt;description&gt;
 9086         Gain exclusive ownership of a raw monitor.
 9087         The same thread may enter a monitor more then once.
 9088         The thread must
 9089         &lt;functionlink id=&quot;RawMonitorExit&quot;&gt;exit&lt;/functionlink&gt;
 9090         the monitor the same number of times as it is entered.
 9091         If a monitor is entered during &lt;code&gt;OnLoad&lt;/code&gt; (before attached threads exist)
 9092         and has not exited when attached threads come into existence, the enter
 9093         is considered to have occurred on the main thread.
 9094       &lt;/description&gt;
 9095       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9096       &lt;capabilities&gt;
 9097       &lt;/capabilities&gt;
 9098       &lt;parameters&gt;
 9099         &lt;param id=&quot;monitor&quot;&gt;
 9100           &lt;jrawMonitorID/&gt;
 9101           &lt;description&gt;
 9102             The monitor
 9103           &lt;/description&gt;
 9104         &lt;/param&gt;
 9105       &lt;/parameters&gt;
 9106       &lt;errors&gt;
 9107       &lt;/errors&gt;
 9108     &lt;/function&gt;
 9109 
 9110     &lt;function id=&quot;RawMonitorExit&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;34&quot;&gt;
 9111       &lt;synopsis&gt;Raw Monitor Exit&lt;/synopsis&gt;
 9112       &lt;description&gt;
 9113         Release exclusive ownership of a raw monitor.
 9114       &lt;/description&gt;
 9115       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9116       &lt;capabilities&gt;
 9117       &lt;/capabilities&gt;
 9118       &lt;parameters&gt;
 9119         &lt;param id=&quot;monitor&quot;&gt;
 9120           &lt;jrawMonitorID/&gt;
 9121           &lt;description&gt;
 9122             The monitor
 9123           &lt;/description&gt;
 9124         &lt;/param&gt;
 9125       &lt;/parameters&gt;
 9126       &lt;errors&gt;
 9127         &lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9128           Not monitor owner
 9129         &lt;/error&gt;
 9130       &lt;/errors&gt;
 9131     &lt;/function&gt;
 9132 
 9133     &lt;function id=&quot;RawMonitorWait&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;35&quot;&gt;
 9134       &lt;synopsis&gt;Raw Monitor Wait&lt;/synopsis&gt;
 9135       &lt;description&gt;
 9136         Wait for notification of the raw monitor.
 9137         &lt;p/&gt;
 9138         Causes the current thread to wait until either another thread calls
 9139         &lt;functionlink id=&quot;RawMonitorNotify&quot;/&gt; or
 9140         &lt;functionlink id=&quot;RawMonitorNotifyAll&quot;/&gt;
 9141         for the specified raw monitor, or the specified
 9142         &lt;paramlink id=&quot;millis&quot;&gt;timeout&lt;/paramlink&gt;
 9143         has elapsed.
 9144       &lt;/description&gt;
 9145       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9146       &lt;capabilities&gt;
 9147       &lt;/capabilities&gt;
 9148       &lt;parameters&gt;
 9149         &lt;param id=&quot;monitor&quot;&gt;
 9150           &lt;jrawMonitorID/&gt;
 9151           &lt;description&gt;
 9152             The monitor
 9153           &lt;/description&gt;
 9154         &lt;/param&gt;
 9155         &lt;param id=&quot;millis&quot;&gt;
 9156           &lt;jlong/&gt;
 9157           &lt;description&gt;
 9158             The timeout, in milliseconds.  If the timeout is
 9159             zero, then real time is not taken into consideration
 9160             and the thread simply waits until notified.
 9161           &lt;/description&gt;
 9162         &lt;/param&gt;
 9163       &lt;/parameters&gt;
 9164       &lt;errors&gt;
 9165         &lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9166           Not monitor owner
 9167         &lt;/error&gt;
 9168         &lt;error id=&quot;JVMTI_ERROR_INTERRUPT&quot;&gt;
 9169           Wait was interrupted, try again
 9170         &lt;/error&gt;
 9171       &lt;/errors&gt;
 9172     &lt;/function&gt;
 9173 
 9174     &lt;function id=&quot;RawMonitorNotify&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;notrace&quot; num=&quot;36&quot;&gt;
 9175       &lt;synopsis&gt;Raw Monitor Notify&lt;/synopsis&gt;
 9176       &lt;description&gt;
 9177         Notify a single thread waiting on the raw monitor.
 9178       &lt;/description&gt;
 9179       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9180       &lt;capabilities&gt;
 9181       &lt;/capabilities&gt;
 9182       &lt;parameters&gt;
 9183         &lt;param id=&quot;monitor&quot;&gt;
 9184           &lt;jrawMonitorID/&gt;
 9185           &lt;description&gt;
 9186             The monitor
 9187           &lt;/description&gt;
 9188         &lt;/param&gt;
 9189       &lt;/parameters&gt;
 9190       &lt;errors&gt;
 9191         &lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9192           Not monitor owner
 9193         &lt;/error&gt;
 9194       &lt;/errors&gt;
 9195     &lt;/function&gt;
 9196 
 9197     &lt;function id=&quot;RawMonitorNotifyAll&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;notrace&quot; num=&quot;37&quot;&gt;
 9198       &lt;synopsis&gt;Raw Monitor Notify All&lt;/synopsis&gt;
 9199       &lt;description&gt;
 9200         Notify all threads waiting on the raw monitor.
 9201       &lt;/description&gt;
 9202       &lt;origin&gt;jvmdi&lt;/origin&gt;
 9203       &lt;capabilities&gt;
 9204       &lt;/capabilities&gt;
 9205       &lt;parameters&gt;
 9206         &lt;param id=&quot;monitor&quot;&gt;
 9207           &lt;jrawMonitorID/&gt;
 9208           &lt;description&gt;
 9209             The monitor
 9210           &lt;/description&gt;
 9211         &lt;/param&gt;
 9212       &lt;/parameters&gt;
 9213       &lt;errors&gt;
 9214         &lt;error id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot;&gt;
 9215           Not monitor owner
 9216         &lt;/error&gt;
 9217       &lt;/errors&gt;
 9218     &lt;/function&gt;
 9219 
 9220    &lt;elide&gt;
 9221     &lt;function id=&quot;GetRawMonitorUse&quot; num=&quot;118&quot;&gt;
 9222       &lt;synopsis&gt;Get Raw Monitor Use&lt;/synopsis&gt;
 9223       &lt;description&gt;
 9224         The fields of the &lt;functionlink id=&quot;jvmtiMonitorUsage&quot;&gt;&lt;/functionlink&gt; structure
 9225         are filled in with information about usage of the raw monitor.
 9226       &lt;/description&gt;
 9227       &lt;origin&gt;new&lt;/origin&gt;
 9228       &lt;capabilities&gt;
 9229         &lt;required id=&quot;can_get_raw_monitor_usage&quot;&gt;&lt;/required&gt;
 9230       &lt;/capabilities&gt;
 9231       &lt;parameters&gt;
 9232         &lt;param id=&quot;monitor&quot;&gt;
 9233           &lt;jrawMonitorID/&gt;
 9234           &lt;description&gt;
 9235             the raw monitor to query.
 9236           &lt;/description&gt;
 9237         &lt;/param&gt;
 9238         &lt;param id=&quot;info_ptr&quot;&gt;
 9239           &lt;outptr&gt;&lt;struct&gt;jvmtiMonitorUsage&lt;/struct&gt;&lt;/outptr&gt;
 9240           &lt;description&gt;
 9241             On return, filled with monitor information for the
 9242             specified raw monitor.
 9243           &lt;/description&gt;
 9244         &lt;/param&gt;
 9245       &lt;/parameters&gt;
 9246       &lt;errors&gt;
 9247       &lt;/errors&gt;
 9248     &lt;/function&gt;
 9249 
 9250     &lt;function id=&quot;GetRawMonitors&quot; num=&quot;119&quot;&gt;
 9251       &lt;synopsis&gt;Get Raw Monitors&lt;/synopsis&gt;
 9252       &lt;description&gt;
 9253         Return the list of raw monitors.
 9254         &lt;p/&gt;
 9255         Note: details about each monitor can be examined with
 9256         &lt;functionlink id=&quot;GetRawMonitorUse&quot;&gt;&lt;/functionlink&gt;.
 9257       &lt;/description&gt;
 9258       &lt;origin&gt;new&lt;/origin&gt;
 9259       &lt;capabilities&gt;
 9260         &lt;required id=&quot;can_get_raw_monitor_usage&quot;&gt;&lt;/required&gt;
 9261       &lt;/capabilities&gt;
 9262       &lt;parameters&gt;
 9263         &lt;param id=&quot;monitorCnt&quot;&gt;
 9264           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 9265           &lt;description&gt;
 9266             On return, pointer to the number
 9267             of monitors returned in &lt;code&gt;monitors_ptr&lt;/code&gt;.
 9268           &lt;/description&gt;
 9269         &lt;/param&gt;
 9270         &lt;param id=&quot;monitors_ptr&quot;&gt;
 9271           &lt;allocbuf outcount=&quot;monitorCnt&quot;&gt;&lt;jrawMonitorID/&gt;&lt;/allocbuf&gt;
 9272           &lt;description&gt;
 9273             On return, pointer to the monitor list.
 9274           &lt;/description&gt;
 9275         &lt;/param&gt;
 9276       &lt;/parameters&gt;
 9277       &lt;errors&gt;
 9278       &lt;/errors&gt;
 9279     &lt;/function&gt;
 9280     &lt;/elide&gt;
 9281   &lt;/category&gt;
 9282 
 9283   &lt;category id=&quot;jniIntercept&quot; label=&quot;JNI Function Interception&quot;&gt;
 9284 
 9285     &lt;intro&gt;
 9286       Provides the ability to intercept and resend
 9287       Java Native Interface (JNI) function calls
 9288       by manipulating the JNI function table.
 9289       See &lt;externallink id=&quot;jni/functions.html&quot;&gt;JNI
 9290         Functions&lt;/externallink&gt; in the &lt;i&gt;Java Native Interface Specification&lt;/i&gt;.
 9291       &lt;p/&gt;
 9292       The following example illustrates intercepting the
 9293       &lt;code&gt;NewGlobalRef&lt;/code&gt; JNI call in order to count reference
 9294       creation.
 9295       &lt;example&gt;
 9296 JNIEnv original_jni_Functions;
 9297 JNIEnv redirected_jni_Functions;
 9298 int my_global_ref_count = 0;
 9299 
 9300 jobject
 9301 MyNewGlobalRef(JNIEnv *jni_env, jobject lobj) {
 9302    ++my_global_ref_count;
 9303    return originalJNIFunctions-&amp;gt;NewGlobalRef(env, lobj);
 9304 }
 9305 
 9306 void
 9307 myInit() {
 9308    jvmtiError err;
 9309 
 9310    err = (*jvmti_env)-&amp;gt;GetJNIFunctionTable(jvmti_env, &amp;amp;original_jni_Functions);
 9311    if (err != JVMTI_ERROR_NONE) {
 9312       die();
 9313    }
 9314    err = (*jvmti_env)-&amp;gt;GetJNIFunctionTable(jvmti_env, &amp;amp;redirected_jni_Functions);
 9315    if (err != JVMTI_ERROR_NONE) {
 9316       die();
 9317    }
 9318    redirectedJNIFunctions-&amp;gt;NewGlobalRef = MyNewGlobalRef;
 9319       err = (*jvmti_env)-&amp;gt;SetJNIFunctionTable(jvmti_env, redirected_jni_Functions);
 9320    if (err != JVMTI_ERROR_NONE) {
 9321       die();
 9322    }
 9323 }
 9324       &lt;/example&gt;
 9325       Sometime after &lt;code&gt;myInit&lt;/code&gt; is called the user&#39;s JNI
 9326       code is executed which makes the call to create a new global
 9327       reference.  Instead of going to the normal JNI implementation
 9328       the call goes to &lt;code&gt;myNewGlobalRef&lt;/code&gt;.  Note that a
 9329       copy of the original function table is kept so that the normal
 9330       JNI function can be called after the data is collected.
 9331       Note also that any JNI functions which are not overwritten
 9332       will behave normally.
 9333       &lt;todo&gt;
 9334         check that the example compiles and executes.
 9335       &lt;/todo&gt;
 9336     &lt;/intro&gt;
 9337 
 9338     &lt;function id=&quot;SetJNIFunctionTable&quot; phase=&quot;start&quot; num=&quot;120&quot;&gt;
 9339       &lt;synopsis&gt;Set JNI Function Table&lt;/synopsis&gt;
 9340       &lt;description&gt;
 9341         Set the JNI function table
 9342         in all current and future JNI environments.
 9343         As a result, all future JNI calls are directed to the specified functions.
 9344         Use &lt;functionlink id=&quot;GetJNIFunctionTable&quot;&gt;&lt;/functionlink&gt; to get the
 9345         function table to pass to this function.
 9346         For this function to take effect the the updated table entries must be
 9347         used by the JNI clients.
 9348         Since the table is defined &lt;code&gt;const&lt;/code&gt; some compilers may optimize
 9349         away the access to the table, thus preventing this function from taking
 9350         effect.
 9351         The table is copied--changes to the local copy of the
 9352         table have no effect.
 9353         This function affects only the function table, all other aspects of the environment are
 9354         unaffected.
 9355         See the examples &lt;internallink id=&quot;jniIntercept&quot;&gt;above&lt;/internallink&gt;.
 9356       &lt;/description&gt;
 9357       &lt;origin&gt;new&lt;/origin&gt;
 9358       &lt;capabilities&gt;
 9359       &lt;/capabilities&gt;
 9360       &lt;parameters&gt;
 9361         &lt;param id=&quot;function_table&quot;&gt;
 9362           &lt;inptr&gt;
 9363             &lt;struct&gt;jniNativeInterface&lt;/struct&gt;
 9364           &lt;/inptr&gt;
 9365           &lt;description&gt;
 9366             Points to the new JNI function table.
 9367           &lt;/description&gt;
 9368         &lt;/param&gt;
 9369       &lt;/parameters&gt;
 9370       &lt;errors&gt;
 9371       &lt;/errors&gt;
 9372     &lt;/function&gt;
 9373 
 9374     &lt;function id=&quot;GetJNIFunctionTable&quot; phase=&quot;start&quot; num=&quot;121&quot;&gt;
 9375       &lt;synopsis&gt;Get JNI Function Table&lt;/synopsis&gt;
 9376       &lt;description&gt;
 9377         Get the JNI function table.
 9378         The JNI function table is copied into allocated memory.
 9379         If &lt;functionlink id=&quot;SetJNIFunctionTable&quot;&gt;&lt;/functionlink&gt;
 9380         has been called, the modified (not the original) function
 9381         table is returned.
 9382         Only the function table is copied, no other aspects of the environment
 9383         are copied.
 9384         See the examples &lt;internallink id=&quot;jniIntercept&quot;&gt;above&lt;/internallink&gt;.
 9385       &lt;/description&gt;
 9386       &lt;origin&gt;new&lt;/origin&gt;
 9387       &lt;capabilities&gt;
 9388       &lt;/capabilities&gt;
 9389       &lt;parameters&gt;
 9390         &lt;param id=&quot;function_table&quot;&gt;
 9391           &lt;allocbuf&gt;
 9392             &lt;struct&gt;jniNativeInterface&lt;/struct&gt;
 9393           &lt;/allocbuf&gt;
 9394           &lt;description&gt;
 9395             On return, &lt;code&gt;*function_table&lt;/code&gt;
 9396             points a newly allocated copy of the JNI function table.
 9397           &lt;/description&gt;
 9398         &lt;/param&gt;
 9399       &lt;/parameters&gt;
 9400       &lt;errors&gt;
 9401       &lt;/errors&gt;
 9402     &lt;/function&gt;
 9403 
 9404   &lt;/category&gt;
 9405 
 9406   &lt;category id=&quot;eventManagement&quot; label=&quot;Event Management&quot;&gt;
 9407 
 9408     &lt;function id=&quot;SetEventCallbacks&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;122&quot;&gt;
 9409       &lt;synopsis&gt;Set Event Callbacks&lt;/synopsis&gt;
 9410       &lt;description&gt;
 9411         Set the functions to be called for each event.
 9412         The callbacks are specified by supplying a replacement function table.
 9413         The function table is copied--changes to the local copy of the
 9414         table have no effect.
 9415         This is an atomic action, all callbacks are set at once.
 9416         No events are sent before this function is called.
 9417         When an entry is &lt;code&gt;NULL&lt;/code&gt; or when the event is beyond
 9418         &lt;paramlink id=&quot;size_of_callbacks&quot;&gt;&lt;/paramlink&gt; no event is sent.
 9419         Details on events are
 9420         described &lt;internallink id=&quot;EventSection&quot;&gt;later&lt;/internallink&gt; in this document.
 9421         An event must be enabled and have a callback in order to be
 9422         sent--the order in which this function and
 9423         &lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;&lt;/functionlink&gt;
 9424         are called does not affect the result.
 9425       &lt;/description&gt;
 9426       &lt;origin&gt;new&lt;/origin&gt;
 9427       &lt;capabilities&gt;
 9428       &lt;/capabilities&gt;
 9429       &lt;parameters&gt;
 9430         &lt;param id=&quot;callbacks&quot;&gt;
 9431           &lt;inptr&gt;
 9432             &lt;struct&gt;jvmtiEventCallbacks&lt;/struct&gt;
 9433             &lt;nullok&gt;remove the existing callbacks&lt;/nullok&gt;
 9434           &lt;/inptr&gt;
 9435           &lt;description&gt;
 9436             The new event callbacks.
 9437           &lt;/description&gt;
 9438         &lt;/param&gt;
 9439         &lt;param id=&quot;size_of_callbacks&quot;&gt;
 9440           &lt;jint min=&quot;0&quot;/&gt;
 9441           &lt;description&gt;
 9442             &lt;code&gt;sizeof(jvmtiEventCallbacks)&lt;/code&gt;--for version
 9443             compatibility.
 9444           &lt;/description&gt;
 9445         &lt;/param&gt;
 9446       &lt;/parameters&gt;
 9447       &lt;errors&gt;
 9448       &lt;/errors&gt;
 9449     &lt;/function&gt;
 9450 
 9451     &lt;function id=&quot;SetEventNotificationMode&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;2&quot;&gt;
 9452       &lt;synopsis&gt;Set Event Notification Mode&lt;/synopsis&gt;
 9453       &lt;description&gt;
 9454         Control the generation of events.
 9455         &lt;constants id=&quot;jvmtiEventMode&quot; label=&quot;Event Enable/Disable&quot; kind=&quot;enum&quot;&gt;
 9456           &lt;constant id=&quot;JVMTI_ENABLE&quot; num=&quot;1&quot;&gt;
 9457             If &lt;paramlink id=&quot;mode&quot;&gt;&lt;/paramlink&gt; is &lt;code&gt;JVMTI_ENABLE&lt;/code&gt;,
 9458             the event &lt;paramlink id=&quot;event_type&quot;&gt;&lt;/paramlink&gt; will be enabled
 9459           &lt;/constant&gt;
 9460           &lt;constant id=&quot;JVMTI_DISABLE&quot; num=&quot;0&quot;&gt;
 9461             If &lt;paramlink id=&quot;mode&quot;&gt;&lt;/paramlink&gt; is &lt;code&gt;JVMTI_DISABLE&lt;/code&gt;,
 9462             the event &lt;paramlink id=&quot;event_type&quot;&gt;&lt;/paramlink&gt; will be disabled
 9463           &lt;/constant&gt;
 9464         &lt;/constants&gt;
 9465         If &lt;code&gt;event_thread&lt;/code&gt; is &lt;code&gt;NULL&lt;/code&gt;,
 9466         the event is enabled or disabled globally; otherwise, it is
 9467         enabled or disabled for a particular thread.
 9468         An event is generated for
 9469         a particular thread if it is enabled either at the thread or global
 9470         levels.
 9471         &lt;p/&gt;
 9472         See &lt;internallink id=&quot;EventIndex&quot;&gt;below&lt;/internallink&gt; for information on specific events.
 9473         &lt;p/&gt;
 9474         The following events cannot be controlled at the thread
 9475         level through this function.
 9476         &lt;ul&gt;
 9477           &lt;li&gt;&lt;eventlink id=&quot;VMInit&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9478           &lt;li&gt;&lt;eventlink id=&quot;VMStart&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9479           &lt;li&gt;&lt;eventlink id=&quot;VMDeath&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9480           &lt;li&gt;&lt;eventlink id=&quot;ThreadStart&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9481           &lt;li&gt;&lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9482           &lt;li&gt;&lt;eventlink id=&quot;CompiledMethodUnload&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9483           &lt;li&gt;&lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9484           &lt;li&gt;&lt;eventlink id=&quot;DataDumpRequest&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9485         &lt;/ul&gt;
 9486         &lt;p/&gt;
 9487         Initially, no events are enabled at either the thread level
 9488         or the global level.
 9489         &lt;p/&gt;
 9490         Any needed capabilities (see Event Enabling Capabilities below) must be possessed
 9491         before calling this function.
 9492         &lt;p/&gt;
 9493         Details on events are
 9494         described &lt;internallink id=&quot;EventSection&quot;&gt;below&lt;/internallink&gt;.
 9495       &lt;/description&gt;
 9496       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
 9497       &lt;eventcapabilities&gt;&lt;/eventcapabilities&gt;
 9498       &lt;parameters&gt;
 9499         &lt;param id=&quot;mode&quot;&gt;
 9500           &lt;enum&gt;jvmtiEventMode&lt;/enum&gt;
 9501           &lt;description&gt;
 9502             &lt;code&gt;JVMTI_ENABLE&lt;/code&gt; or &lt;code&gt;JVMTI_DISABLE&lt;/code&gt;
 9503           &lt;/description&gt;
 9504         &lt;/param&gt;
 9505         &lt;param id=&quot;event_type&quot;&gt;
 9506           &lt;enum&gt;jvmtiEvent&lt;/enum&gt;
 9507           &lt;description&gt;
 9508             the event to control
 9509           &lt;/description&gt;
 9510         &lt;/param&gt;
 9511         &lt;param id=&quot;event_thread&quot;&gt;
 9512           &lt;ptrtype&gt;
 9513             &lt;jthread impl=&quot;noconvert&quot;/&gt;
 9514             &lt;nullok&gt;event is controlled at the global level&lt;/nullok&gt;
 9515           &lt;/ptrtype&gt;
 9516             &lt;description&gt;
 9517               The thread to control
 9518             &lt;/description&gt;
 9519         &lt;/param&gt;
 9520         &lt;param id=&quot;...&quot;&gt;
 9521           &lt;varargs/&gt;
 9522             &lt;description&gt;
 9523               for future expansion
 9524             &lt;/description&gt;
 9525         &lt;/param&gt;
 9526       &lt;/parameters&gt;
 9527       &lt;errors&gt;
 9528         &lt;error id=&quot;JVMTI_ERROR_INVALID_THREAD&quot;&gt;
 9529           &lt;paramlink id=&quot;event_thread&quot;/&gt; is non-&lt;code&gt;NULL&lt;/code&gt; and is not a valid thread.
 9530         &lt;/error&gt;
 9531         &lt;error id=&quot;JVMTI_ERROR_THREAD_NOT_ALIVE&quot;&gt;
 9532           &lt;paramlink id=&quot;event_thread&quot;/&gt; is non-&lt;code&gt;NULL&lt;/code&gt; and is not live (has not been started or is now dead).
 9533         &lt;/error&gt;
 9534         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 9535           thread level control was attempted on events which do not
 9536           permit thread level control.
 9537         &lt;/error&gt;
 9538         &lt;error id=&quot;JVMTI_ERROR_MUST_POSSESS_CAPABILITY&quot;&gt;
 9539           The Required Event Enabling Capability is not possessed.
 9540         &lt;/error&gt;
 9541       &lt;/errors&gt;
 9542     &lt;/function&gt;
 9543 
 9544     &lt;function id=&quot;GenerateEvents&quot; num=&quot;123&quot;&gt;
 9545       &lt;synopsis&gt;Generate Events&lt;/synopsis&gt;
 9546       &lt;description&gt;
 9547         Generate events to represent the current state of the VM.
 9548         For example, if &lt;paramlink id=&quot;event_type&quot;/&gt; is
 9549         &lt;code&gt;JVMTI_EVENT_COMPILED_METHOD_LOAD&lt;/code&gt;,
 9550         a &lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;/eventlink&gt; event will be
 9551         sent for each currently compiled method.
 9552         Methods that were loaded and now have been unloaded are not sent.
 9553         The history of what events have previously been sent does not
 9554         effect what events are sent by this function--for example,
 9555         all currently compiled methods
 9556         will be sent each time this function is called.
 9557         &lt;p/&gt;
 9558         This function is useful when
 9559         events may have been missed due to the agent attaching after program
 9560         execution begins; this function generates the missed events.
 9561         &lt;p/&gt;
 9562         Attempts to execute Java programming language code or
 9563         JNI functions may be paused until this function returns -
 9564         so neither should be called from the thread sending the event.
 9565         This function returns only after the missed events have been
 9566         sent, processed and have returned.
 9567         The event may be sent on a different thread than the thread
 9568         on which the event occurred.
 9569         The callback for the event must be set with
 9570         &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt;
 9571         and the event must be enabled with
 9572         &lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;&lt;/functionlink&gt;
 9573         or the events will not occur.
 9574         If the VM no longer has the information to generate some or
 9575         all of the requested events, the events are simply not sent -
 9576         no error is returned.
 9577         &lt;p/&gt;
 9578         Only the following events are supported:
 9579         &lt;ul&gt;
 9580           &lt;li&gt;&lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9581           &lt;li&gt;&lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9582         &lt;/ul&gt;
 9583       &lt;/description&gt;
 9584       &lt;origin&gt;new&lt;/origin&gt;
 9585       &lt;capabilities&gt;
 9586         &lt;capability id=&quot;can_generate_compiled_method_load_events&quot;&gt;&lt;/capability&gt;
 9587       &lt;/capabilities&gt;
 9588       &lt;parameters&gt;
 9589         &lt;param id=&quot;event_type&quot;&gt;
 9590           &lt;enum&gt;jvmtiEvent&lt;/enum&gt;
 9591           &lt;description&gt;
 9592             The type of event to generate.  Must be one of these:
 9593             &lt;ul&gt;
 9594               &lt;li&gt;&lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;code&gt;JVMTI_EVENT_COMPILED_METHOD_LOAD&lt;/code&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9595               &lt;li&gt;&lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;code&gt;JVMTI_EVENT_DYNAMIC_CODE_GENERATED&lt;/code&gt;&lt;/eventlink&gt;&lt;/li&gt;
 9596             &lt;/ul&gt;
 9597           &lt;/description&gt;
 9598         &lt;/param&gt;
 9599       &lt;/parameters&gt;
 9600       &lt;errors&gt;
 9601         &lt;error id=&quot;JVMTI_ERROR_MUST_POSSESS_CAPABILITY&quot;&gt;
 9602           &lt;paramlink id=&quot;event_type&quot;/&gt; is
 9603           &lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;code&gt;JVMTI_EVENT_COMPILED_METHOD_LOAD&lt;/code&gt;&lt;/eventlink&gt;
 9604           and &lt;fieldlink id=&quot;can_generate_compiled_method_load_events&quot; struct=&quot;jvmtiCapabilities&quot;&gt;&lt;/fieldlink&gt;
 9605           is &lt;code&gt;false&lt;/code&gt;.
 9606         &lt;/error&gt;
 9607         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
 9608           &lt;paramlink id=&quot;event_type&quot;/&gt; is other than
 9609           &lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;code&gt;JVMTI_EVENT_COMPILED_METHOD_LOAD&lt;/code&gt;&lt;/eventlink&gt;
 9610           or &lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;code&gt;JVMTI_EVENT_DYNAMIC_CODE_GENERATED&lt;/code&gt;&lt;/eventlink&gt;.
 9611         &lt;/error&gt;
 9612       &lt;/errors&gt;
 9613     &lt;/function&gt;
 9614 
 9615   &lt;/category&gt;
 9616 
 9617     &lt;category id=&quot;extension&quot; label=&quot;Extension Mechanism&quot;&gt;
 9618 
 9619       &lt;intro&gt;
 9620         These functions
 9621         allow a &lt;jvmti/&gt; implementation to provide functions and events
 9622         beyond those defined in this specification.
 9623         &lt;p/&gt;
 9624         Both extension functions and extension events have parameters
 9625         each of which has a &#39;type&#39; and &#39;kind&#39; chosen from the following tables:
 9626 
 9627         &lt;constants id=&quot;jvmtiParamTypes&quot; label=&quot;Extension Function/Event Parameter Types&quot; kind=&quot;enum&quot;&gt;
 9628           &lt;constant id=&quot;JVMTI_TYPE_JBYTE&quot; num=&quot;101&quot;&gt;
 9629             Java programming language primitive type - &lt;code&gt;byte&lt;/code&gt;.
 9630             JNI type &lt;code&gt;jbyte&lt;/code&gt;.
 9631           &lt;/constant&gt;
 9632           &lt;constant id=&quot;JVMTI_TYPE_JCHAR&quot; num=&quot;102&quot;&gt;
 9633             Java programming language primitive type - &lt;code&gt;char&lt;/code&gt;.
 9634             JNI type &lt;code&gt;jchar&lt;/code&gt;.
 9635           &lt;/constant&gt;
 9636           &lt;constant id=&quot;JVMTI_TYPE_JSHORT&quot; num=&quot;103&quot;&gt;
 9637             Java programming language primitive type - &lt;code&gt;short&lt;/code&gt;.
 9638             JNI type &lt;code&gt;jshort&lt;/code&gt;.
 9639           &lt;/constant&gt;
 9640           &lt;constant id=&quot;JVMTI_TYPE_JINT&quot; num=&quot;104&quot;&gt;
 9641             Java programming language primitive type - &lt;code&gt;int&lt;/code&gt;.
 9642             JNI type &lt;datalink id=&quot;jint&quot;&gt;&lt;/datalink&gt;.
 9643           &lt;/constant&gt;
 9644           &lt;constant id=&quot;JVMTI_TYPE_JLONG&quot; num=&quot;105&quot;&gt;
 9645             Java programming language primitive type - &lt;code&gt;long&lt;/code&gt;.
 9646             JNI type &lt;datalink id=&quot;jlong&quot;&gt;&lt;/datalink&gt;.
 9647           &lt;/constant&gt;
 9648           &lt;constant id=&quot;JVMTI_TYPE_JFLOAT&quot; num=&quot;106&quot;&gt;
 9649             Java programming language primitive type - &lt;code&gt;float&lt;/code&gt;.
 9650             JNI type &lt;datalink id=&quot;jfloat&quot;&gt;&lt;/datalink&gt;.
 9651           &lt;/constant&gt;
 9652           &lt;constant id=&quot;JVMTI_TYPE_JDOUBLE&quot; num=&quot;107&quot;&gt;
 9653             Java programming language primitive type - &lt;code&gt;double&lt;/code&gt;.
 9654             JNI type &lt;datalink id=&quot;jdouble&quot;&gt;&lt;/datalink&gt;.
 9655           &lt;/constant&gt;
 9656           &lt;constant id=&quot;JVMTI_TYPE_JBOOLEAN&quot; num=&quot;108&quot;&gt;
 9657             Java programming language primitive type - &lt;code&gt;boolean&lt;/code&gt;.
 9658             JNI type &lt;datalink id=&quot;jboolean&quot;&gt;&lt;/datalink&gt;.
 9659           &lt;/constant&gt;
 9660           &lt;constant id=&quot;JVMTI_TYPE_JOBJECT&quot; num=&quot;109&quot;&gt;
 9661             Java programming language object type - &lt;code&gt;java.lang.Object&lt;/code&gt;.
 9662             JNI type &lt;datalink id=&quot;jobject&quot;&gt;&lt;/datalink&gt;.
 9663             Returned values are JNI local references and must be managed.
 9664           &lt;/constant&gt;
 9665           &lt;constant id=&quot;JVMTI_TYPE_JTHREAD&quot; num=&quot;110&quot;&gt;
 9666             Java programming language object type - &lt;code&gt;java.lang.Thread&lt;/code&gt;.
 9667             &lt;jvmti/&gt; type &lt;datalink id=&quot;jthread&quot;&gt;&lt;/datalink&gt;.
 9668             Returned values are JNI local references and must be managed.
 9669           &lt;/constant&gt;
 9670           &lt;constant id=&quot;JVMTI_TYPE_JCLASS&quot; num=&quot;111&quot;&gt;
 9671             Java programming language object type - &lt;code&gt;java.lang.Class&lt;/code&gt;.
 9672             JNI type &lt;datalink id=&quot;jclass&quot;&gt;&lt;/datalink&gt;.
 9673             Returned values are JNI local references and must be managed.
 9674           &lt;/constant&gt;
 9675           &lt;constant id=&quot;JVMTI_TYPE_JVALUE&quot; num=&quot;112&quot;&gt;
 9676             Union of all Java programming language primitive and object types -
 9677             JNI type &lt;datalink id=&quot;jvalue&quot;&gt;&lt;/datalink&gt;.
 9678             Returned values which represent object types are JNI local references and must be managed.
 9679           &lt;/constant&gt;
 9680           &lt;constant id=&quot;JVMTI_TYPE_JFIELDID&quot; num=&quot;113&quot;&gt;
 9681             Java programming language field identifier -
 9682             JNI type &lt;datalink id=&quot;jfieldID&quot;&gt;&lt;/datalink&gt;.
 9683           &lt;/constant&gt;
 9684           &lt;constant id=&quot;JVMTI_TYPE_JMETHODID&quot; num=&quot;114&quot;&gt;
 9685             Java programming language method identifier -
 9686             JNI type &lt;datalink id=&quot;jmethodID&quot;&gt;&lt;/datalink&gt;.
 9687           &lt;/constant&gt;
 9688           &lt;constant id=&quot;JVMTI_TYPE_CCHAR&quot; num=&quot;115&quot;&gt;
 9689             C programming language type - &lt;code&gt;char&lt;/code&gt;.
 9690           &lt;/constant&gt;
 9691           &lt;constant id=&quot;JVMTI_TYPE_CVOID&quot; num=&quot;116&quot;&gt;
 9692             C programming language type - &lt;code&gt;void&lt;/code&gt;.
 9693           &lt;/constant&gt;
 9694           &lt;constant id=&quot;JVMTI_TYPE_JNIENV&quot; num=&quot;117&quot;&gt;
 9695             JNI environment - &lt;code&gt;JNIEnv&lt;/code&gt;.
 9696             Should be used with the correct &lt;datalink id=&quot;jvmtiParamKind&quot;/&gt; to make it a pointer type.
 9697           &lt;/constant&gt;
 9698         &lt;/constants&gt;
 9699 
 9700         &lt;constants id=&quot;jvmtiParamKind&quot; label=&quot;Extension Function/Event Parameter Kinds&quot; kind=&quot;enum&quot;&gt;
 9701           &lt;constant id=&quot;JVMTI_KIND_IN&quot; num=&quot;91&quot;&gt;
 9702             Ingoing argument - &lt;code&gt;foo&lt;/code&gt;.
 9703           &lt;/constant&gt;
 9704           &lt;constant id=&quot;JVMTI_KIND_IN_PTR&quot; num=&quot;92&quot;&gt;
 9705             Ingoing pointer argument - &lt;code&gt;const foo*&lt;/code&gt;.
 9706           &lt;/constant&gt;
 9707           &lt;constant id=&quot;JVMTI_KIND_IN_BUF&quot; num=&quot;93&quot;&gt;
 9708             Ingoing array argument - &lt;code&gt;const foo*&lt;/code&gt;.
 9709           &lt;/constant&gt;
 9710           &lt;constant id=&quot;JVMTI_KIND_ALLOC_BUF&quot; num=&quot;94&quot;&gt;
 9711             Outgoing allocated array argument -  &lt;code&gt;foo**&lt;/code&gt;.
 9712             Free with &lt;code&gt;Deallocate&lt;/code&gt;.
 9713           &lt;/constant&gt;
 9714           &lt;constant id=&quot;JVMTI_KIND_ALLOC_ALLOC_BUF&quot; num=&quot;95&quot;&gt;
 9715             Outgoing allocated array of allocated arrays argument - &lt;code&gt;foo***&lt;/code&gt;.
 9716             Free with &lt;code&gt;Deallocate&lt;/code&gt;.
 9717           &lt;/constant&gt;
 9718           &lt;constant id=&quot;JVMTI_KIND_OUT&quot; num=&quot;96&quot;&gt;
 9719             Outgoing argument - &lt;code&gt;foo*&lt;/code&gt;.
 9720           &lt;/constant&gt;
 9721           &lt;constant id=&quot;JVMTI_KIND_OUT_BUF&quot; num=&quot;97&quot;&gt;
 9722             Outgoing array argument (pre-allocated by agent) - &lt;code&gt;foo*&lt;/code&gt;.
 9723             Do not &lt;code&gt;Deallocate&lt;/code&gt;.
 9724           &lt;/constant&gt;
 9725         &lt;/constants&gt;
 9726 
 9727       &lt;/intro&gt;
 9728 
 9729       &lt;typedef id=&quot;jvmtiParamInfo&quot; label=&quot;Extension Function/Event Parameter Info&quot;&gt;
 9730         &lt;field id=&quot;name&quot;&gt;
 9731           &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9732             &lt;description&gt;
 9733               The parameter name, encoded as a
 9734               &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string
 9735             &lt;/description&gt;
 9736         &lt;/field&gt;
 9737         &lt;field id=&quot;kind&quot;&gt;
 9738           &lt;enum&gt;jvmtiParamKind&lt;/enum&gt;
 9739           &lt;description&gt;
 9740             The kind of the parameter - type modifiers
 9741           &lt;/description&gt;
 9742         &lt;/field&gt;
 9743         &lt;field id=&quot;base_type&quot;&gt;
 9744           &lt;enum&gt;jvmtiParamTypes&lt;/enum&gt;
 9745           &lt;description&gt;
 9746             The base type of the parameter -  modified by &lt;code&gt;kind&lt;/code&gt;
 9747           &lt;/description&gt;
 9748         &lt;/field&gt;
 9749         &lt;field id=&quot;null_ok&quot;&gt;
 9750           &lt;jboolean/&gt;
 9751             &lt;description&gt;
 9752               Is a &lt;code&gt;NULL&lt;/code&gt; argument permitted? Applies only to pointer and object types.
 9753             &lt;/description&gt;
 9754         &lt;/field&gt;
 9755       &lt;/typedef&gt;
 9756 
 9757       &lt;callback id=&quot;jvmtiExtensionFunction&quot;&gt;
 9758         &lt;enum&gt;jvmtiError&lt;/enum&gt;
 9759           &lt;synopsis&gt;Extension Function&lt;/synopsis&gt;
 9760         &lt;description&gt;
 9761           This is the implementation-specific extension function.
 9762         &lt;/description&gt;
 9763         &lt;parameters&gt;
 9764           &lt;param id=&quot;jvmti_env&quot;&gt;
 9765             &lt;outptr&gt;
 9766               &lt;struct&gt;jvmtiEnv&lt;/struct&gt;
 9767             &lt;/outptr&gt;
 9768             &lt;description&gt;
 9769               The &lt;jvmti/&gt; environment is the only fixed parameter for extension functions.
 9770             &lt;/description&gt;
 9771           &lt;/param&gt;
 9772           &lt;param id=&quot;...&quot;&gt;
 9773             &lt;varargs/&gt;
 9774               &lt;description&gt;
 9775                 The extension function-specific parameters
 9776               &lt;/description&gt;
 9777           &lt;/param&gt;
 9778         &lt;/parameters&gt;
 9779       &lt;/callback&gt;
 9780 
 9781       &lt;function id=&quot;GetExtensionFunctions&quot; phase=&quot;onload&quot; num=&quot;124&quot;&gt;
 9782         &lt;synopsis&gt;Get Extension Functions&lt;/synopsis&gt;
 9783 
 9784         &lt;typedef id=&quot;jvmtiExtensionFunctionInfo&quot; label=&quot;Extension Function Info&quot;&gt;
 9785           &lt;field id=&quot;func&quot;&gt;
 9786             &lt;ptrtype&gt;
 9787               &lt;struct&gt;jvmtiExtensionFunction&lt;/struct&gt;
 9788             &lt;/ptrtype&gt;
 9789             &lt;description&gt;
 9790               The actual function to call
 9791             &lt;/description&gt;
 9792           &lt;/field&gt;
 9793           &lt;field id=&quot;id&quot;&gt;
 9794             &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9795               &lt;description&gt;
 9796                 The identifier for the extension function, encoded as a
 9797                 &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9798                 Uses package name conventions.
 9799                 For example, &lt;code&gt;com.sun.hotspot.bar&lt;/code&gt;
 9800               &lt;/description&gt;
 9801           &lt;/field&gt;
 9802           &lt;field id=&quot;short_description&quot;&gt;
 9803             &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9804               &lt;description&gt;
 9805                 A one sentence description of the function, encoded as a
 9806                 &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9807               &lt;/description&gt;
 9808           &lt;/field&gt;
 9809           &lt;field id=&quot;param_count&quot;&gt;
 9810             &lt;jint/&gt;
 9811               &lt;description&gt;
 9812                 The number of parameters excluding &lt;code&gt;jvmtiEnv *jvmti_env&lt;/code&gt;
 9813               &lt;/description&gt;
 9814           &lt;/field&gt;
 9815           &lt;field id=&quot;params&quot;&gt;
 9816             &lt;allocfieldbuf outcount=&quot;param_count&quot;&gt;
 9817               &lt;struct&gt;jvmtiParamInfo&lt;/struct&gt;
 9818             &lt;/allocfieldbuf&gt;
 9819             &lt;description&gt;
 9820               Array of
 9821               &lt;fieldlink id=&quot;param_count&quot; struct=&quot;jvmtiExtensionFunctionInfo&quot;&gt;&lt;/fieldlink&gt;
 9822               parameters (&lt;code&gt;jvmtiEnv *jvmti_env&lt;/code&gt; excluded)
 9823             &lt;/description&gt;
 9824           &lt;/field&gt;
 9825           &lt;field id=&quot;error_count&quot;&gt;
 9826             &lt;jint/&gt;
 9827               &lt;description&gt;
 9828                 The number of possible error returns (excluding universal errors)
 9829               &lt;/description&gt;
 9830           &lt;/field&gt;
 9831           &lt;field id=&quot;errors&quot;&gt;
 9832             &lt;allocfieldbuf outcount=&quot;error_count&quot;&gt;
 9833               &lt;enum&gt;jvmtiError&lt;/enum&gt;
 9834             &lt;/allocfieldbuf&gt;
 9835             &lt;description&gt;
 9836               Array of &lt;fieldlink id=&quot;error_count&quot; struct=&quot;jvmtiExtensionFunctionInfo&quot;&gt;&lt;/fieldlink&gt;
 9837               possible errors
 9838             &lt;/description&gt;
 9839           &lt;/field&gt;
 9840         &lt;/typedef&gt;
 9841 
 9842         &lt;description&gt;
 9843           Returns the set of extension functions.
 9844         &lt;/description&gt;
 9845         &lt;origin&gt;new&lt;/origin&gt;
 9846         &lt;capabilities&gt;
 9847         &lt;/capabilities&gt;
 9848         &lt;parameters&gt;
 9849           &lt;param id=&quot;extension_count_ptr&quot;&gt;
 9850             &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 9851               &lt;description&gt;
 9852                 On return, points to the number of extension functions
 9853               &lt;/description&gt;
 9854           &lt;/param&gt;
 9855           &lt;param id=&quot;extensions&quot;&gt;
 9856             &lt;allocbuf outcount=&quot;extension_count_ptr&quot;&gt;&lt;struct&gt;jvmtiExtensionFunctionInfo&lt;/struct&gt;&lt;/allocbuf&gt;
 9857             &lt;description&gt;
 9858               Returns an array of extension function info, one per function
 9859             &lt;/description&gt;
 9860           &lt;/param&gt;
 9861         &lt;/parameters&gt;
 9862         &lt;errors&gt;
 9863         &lt;/errors&gt;
 9864       &lt;/function&gt;
 9865 
 9866       &lt;function id=&quot;GetExtensionEvents&quot; phase=&quot;onload&quot; num=&quot;125&quot;&gt;
 9867         &lt;synopsis&gt;Get Extension Events&lt;/synopsis&gt;
 9868 
 9869         &lt;typedef id=&quot;jvmtiExtensionEventInfo&quot; label=&quot;Extension Event Info&quot;&gt;
 9870           &lt;field id=&quot;extension_event_index&quot;&gt;
 9871             &lt;jint/&gt;
 9872             &lt;description&gt;
 9873               The identifying index of the event
 9874             &lt;/description&gt;
 9875           &lt;/field&gt;
 9876           &lt;field id=&quot;id&quot;&gt;
 9877             &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9878               &lt;description&gt;
 9879                 The identifier for the extension event, encoded as a
 9880                 &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9881                 Uses package name conventions.
 9882                 For example, &lt;code&gt;com.sun.hotspot.bar&lt;/code&gt;
 9883               &lt;/description&gt;
 9884           &lt;/field&gt;
 9885           &lt;field id=&quot;short_description&quot;&gt;
 9886             &lt;allocfieldbuf&gt;&lt;char/&gt;&lt;/allocfieldbuf&gt;
 9887               &lt;description&gt;
 9888                 A one sentence description of the event, encoded as a
 9889                 &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
 9890               &lt;/description&gt;
 9891           &lt;/field&gt;
 9892           &lt;field id=&quot;param_count&quot;&gt;
 9893             &lt;jint/&gt;
 9894               &lt;description&gt;
 9895                 The number of parameters excluding &lt;code&gt;jvmtiEnv *jvmti_env&lt;/code&gt;
 9896               &lt;/description&gt;
 9897           &lt;/field&gt;
 9898           &lt;field id=&quot;params&quot;&gt;
 9899             &lt;allocfieldbuf outcount=&quot;param_count&quot;&gt;
 9900               &lt;struct&gt;jvmtiParamInfo&lt;/struct&gt;
 9901             &lt;/allocfieldbuf&gt;
 9902             &lt;description&gt;
 9903               Array of
 9904               &lt;fieldlink id=&quot;param_count&quot; struct=&quot;jvmtiExtensionEventInfo&quot;&gt;&lt;/fieldlink&gt;
 9905               parameters (&lt;code&gt;jvmtiEnv *jvmti_env&lt;/code&gt; excluded)
 9906             &lt;/description&gt;
 9907           &lt;/field&gt;
 9908         &lt;/typedef&gt;
 9909 
 9910         &lt;description&gt;
 9911           Returns the set of extension events.
 9912         &lt;/description&gt;
 9913         &lt;origin&gt;new&lt;/origin&gt;
 9914         &lt;capabilities&gt;
 9915         &lt;/capabilities&gt;
 9916         &lt;parameters&gt;
 9917           &lt;param id=&quot;extension_count_ptr&quot;&gt;
 9918             &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
 9919               &lt;description&gt;
 9920                 On return, points to the number of extension events
 9921               &lt;/description&gt;
 9922           &lt;/param&gt;
 9923           &lt;param id=&quot;extensions&quot;&gt;
 9924             &lt;allocbuf outcount=&quot;extension_count_ptr&quot;&gt;&lt;struct&gt;jvmtiExtensionEventInfo&lt;/struct&gt;&lt;/allocbuf&gt;
 9925             &lt;description&gt;
 9926               Returns an array of extension event info, one per event
 9927             &lt;/description&gt;
 9928           &lt;/param&gt;
 9929         &lt;/parameters&gt;
 9930         &lt;errors&gt;
 9931         &lt;/errors&gt;
 9932       &lt;/function&gt;
 9933 
 9934       &lt;callback id=&quot;jvmtiExtensionEvent&quot;&gt;
 9935         &lt;void/&gt;
 9936           &lt;synopsis&gt;Extension Event&lt;/synopsis&gt;
 9937         &lt;description&gt;
 9938           This is the implementation-specific event.
 9939           The event handler is set with
 9940           &lt;functionlink id=&quot;SetExtensionEventCallback&quot;/&gt;.
 9941           &lt;p/&gt;
 9942           Event handlers for extension events must be declared varargs to match this definition.
 9943           Failure to do so could result in calling convention mismatch and undefined behavior
 9944           on some platforms.
 9945           &lt;p/&gt;
 9946           For example, if the &lt;code&gt;jvmtiParamInfo&lt;/code&gt;
 9947           returned by &lt;functionlink id=&quot;GetExtensionEvents&quot;/&gt; indicates that
 9948           there is a &lt;code&gt;jint&lt;/code&gt; parameter, the event handler should be
 9949           declared:
 9950 &lt;example&gt;
 9951     void JNICALL myHandler(jvmtiEnv* jvmti_env, jint myInt, ...)
 9952 &lt;/example&gt;
 9953           Note the terminal &quot;&lt;code&gt;...&lt;/code&gt;&quot; which indicates varargs.
 9954         &lt;/description&gt;
 9955         &lt;parameters&gt;
 9956           &lt;param id=&quot;jvmti_env&quot;&gt;
 9957             &lt;outptr&gt;
 9958               &lt;struct&gt;jvmtiEnv&lt;/struct&gt;
 9959             &lt;/outptr&gt;
 9960             &lt;description&gt;
 9961               The &lt;jvmti/&gt; environment is the only fixed parameter for extension events.
 9962             &lt;/description&gt;
 9963           &lt;/param&gt;
 9964           &lt;param id=&quot;...&quot;&gt;
 9965             &lt;varargs/&gt;
 9966               &lt;description&gt;
 9967                 The extension event-specific parameters
 9968               &lt;/description&gt;
 9969           &lt;/param&gt;
 9970         &lt;/parameters&gt;
 9971       &lt;/callback&gt;
 9972 
 9973       &lt;function id=&quot;SetExtensionEventCallback&quot; phase=&quot;onload&quot; num=&quot;126&quot;&gt;
 9974         &lt;synopsis&gt;Set Extension Event Callback&lt;/synopsis&gt;
 9975 
 9976         &lt;description&gt;
 9977           Sets the callback function for an extension event and
 9978           enables the event. Or, if the callback is &lt;code&gt;NULL&lt;/code&gt;, disables
 9979           the event.  Note that unlike standard events, setting
 9980           the callback and enabling the event are a single operation.
 9981         &lt;/description&gt;
 9982         &lt;origin&gt;new&lt;/origin&gt;
 9983         &lt;capabilities&gt;
 9984         &lt;/capabilities&gt;
 9985         &lt;parameters&gt;
 9986           &lt;param id=&quot;extension_event_index&quot;&gt;
 9987             &lt;jint/&gt;
 9988               &lt;description&gt;
 9989                 Identifies which callback to set.
 9990                 This index is the
 9991                 &lt;fieldlink id=&quot;extension_event_index&quot; struct=&quot;jvmtiExtensionEventInfo&quot;&gt;&lt;/fieldlink&gt;
 9992                 field of
 9993                 &lt;datalink id=&quot;jvmtiExtensionEventInfo&quot;/&gt;.
 9994               &lt;/description&gt;
 9995           &lt;/param&gt;
 9996           &lt;param id=&quot;callback&quot;&gt;
 9997             &lt;ptrtype&gt;
 9998               &lt;struct&gt;jvmtiExtensionEvent&lt;/struct&gt;
 9999               &lt;nullok&gt;disable the event&lt;/nullok&gt;
10000             &lt;/ptrtype&gt;
10001             &lt;description&gt;
10002               If &lt;code&gt;callback&lt;/code&gt; is non-&lt;code&gt;NULL&lt;/code&gt;,
10003               set &lt;code&gt;callback&lt;/code&gt; to be the event callback function
10004               and enable the event.
10005             &lt;/description&gt;
10006           &lt;/param&gt;
10007         &lt;/parameters&gt;
10008         &lt;errors&gt;
10009         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
10010             &lt;paramlink id=&quot;extension_event_index&quot;/&gt; is not an
10011             &lt;fieldlink id=&quot;extension_event_index&quot;
10012                        struct=&quot;jvmtiExtensionEventInfo&quot;/&gt;
10013             returned by
10014             &lt;functionlink id=&quot;GetExtensionEvents&quot;/&gt;
10015         &lt;/error&gt;
10016         &lt;/errors&gt;
10017       &lt;/function&gt;
10018 
10019     &lt;/category&gt;
10020 
10021   &lt;category id=&quot;capability&quot; label=&quot;Capability&quot;&gt;
10022 
10023     &lt;intro&gt;
10024       The capabilities functions allow you to change the
10025       functionality available to &lt;jvmti/&gt;--that is,
10026       which &lt;jvmti/&gt;
10027       functions can be called, what events can be generated,
10028       and what functionality these events and functions can
10029       provide.
10030       &lt;p/&gt;
10031         The &quot;Capabilities&quot; section of each function and event describe which
10032         capabilities, if any, they are associated with. &quot;Required Functionality&quot;
10033         means it is available for use and no capabilities must be added to use it.
10034         &quot;Optional Functionality&quot; means the agent must possess the capability
10035         before it can be used.
10036         To possess a capability, the agent must
10037         &lt;functionlink id=&quot;AddCapabilities&quot;&gt;add the capability&lt;/functionlink&gt;.
10038         &quot;Optional Features&quot; describe capabilities which,
10039         if added, extend the feature set.
10040         &lt;p/&gt;
10041         The potentially available capabilities of each &lt;jvmti/&gt; implementation are different.
10042         Depending on the implementation, a capability:
10043         &lt;ul&gt;
10044           &lt;li&gt;may never be added&lt;/li&gt;
10045           &lt;li&gt;may be added in either the &lt;code&gt;OnLoad&lt;/code&gt; or live phase in any environment&lt;/li&gt;
10046           &lt;li&gt;may be added only during the &lt;code&gt;OnLoad&lt;/code&gt; phase&lt;/li&gt;
10047           &lt;li&gt;may be possessed by only one environment at a time&lt;/li&gt;
10048           &lt;li&gt;may be possessed by only one environment at a time,
10049               and only during the &lt;code&gt;OnLoad&lt;/code&gt; phase&lt;/li&gt;
10050           &lt;li&gt;and so on ...&lt;/li&gt;
10051         &lt;/ul&gt;
10052       Frequently, the addition of a capability may incur a cost in execution speed, start up
10053       time, and/or memory footprint.  Note that the overhead of using a capability
10054       is completely different than the overhead of possessing a capability.
10055       Take single stepping as an example. When single stepping is on (that
10056       is, when the event is enabled and thus actively sending events)
10057       the overhead of sending and processing an event
10058       on each instruction is huge in any implementation.
10059       However, the overhead of possessing the capability may be small or large,
10060       depending on the implementation.  Also, when and if a capability is potentially
10061       available depends on the implementation.  Some examples:
10062       &lt;ul&gt;
10063         &lt;li&gt;One VM might perform all execution by compiling bytecodes into
10064           native code and be unable to generate single step instructions.
10065           In this implementation the capability can not be added.&lt;/li&gt;
10066         &lt;li&gt;Another VM may be able to switch execution to a single stepping
10067           interpreter at any time.  In this implementation, having the capability has no
10068           overhead and could be added at any time.&lt;/li&gt;
10069         &lt;li&gt;Yet another VM might be able to choose a bytecode compiling or single stepping capable interpreted
10070           execution engine at start up, but be unable to switch between them.
10071           In this implementation the capability would need to be added
10072           during the &lt;code&gt;OnLoad&lt;/code&gt; phase (before bytecode
10073           execution begins) and would have a large impact on execution speed
10074           even if single stepping was never used.&lt;/li&gt;
10075         &lt;li&gt;Still another VM might be able to add an &quot;is single stepping on&quot; check
10076           into compiled bytecodes or a generated interpreter.  Again in this implementation
10077           the capability would need to be added during the &lt;code&gt;OnLoad&lt;/code&gt; phase but the overhead (a test
10078           and branch on each instruction) would be considerably less.&lt;/li&gt;
10079       &lt;/ul&gt;
10080       &lt;p/&gt;
10081       Each &lt;jvmti/&gt; &lt;internallink id=&quot;environments&quot;&gt;environment&lt;/internallink&gt;
10082       has its own set of capabilities.
10083       Initially, that set is empty.
10084       Any desired capability must be added.
10085       If possible, capabilities should be added during the &lt;code&gt;OnLoad&lt;/code&gt; phase.  For most
10086       virtual machines certain capabilities require special set up for
10087       the virtual machine and this set up must happen
10088       during the &lt;code&gt;OnLoad&lt;/code&gt; phase, before the virtual machine begins execution.
10089       Once a capability is added, it can
10090       only be removed if explicitly relinquished by the environment.
10091       &lt;p/&gt;
10092       The agent can,
10093       &lt;functionlink id=&quot;GetPotentialCapabilities&quot;&gt;determine what
10094         capabilities this VM can potentially provide&lt;/functionlink&gt;,
10095       &lt;functionlink id=&quot;AddCapabilities&quot;&gt;add the capabilities
10096         to be used&lt;/functionlink&gt;,
10097       &lt;functionlink id=&quot;RelinquishCapabilities&quot;&gt;release capabilities
10098         which are no longer needed&lt;/functionlink&gt;, and
10099       &lt;functionlink id=&quot;GetCapabilities&quot;&gt;examine the currently available
10100         capabilities&lt;/functionlink&gt;.
10101     &lt;/intro&gt;
10102 
10103     &lt;intro id=&quot;capabilityExamples&quot; label=&quot;Capability Examples&quot;&gt;
10104       For example, a freshly started agent (in the &lt;code&gt;OnLoad&lt;/code&gt; function)
10105       wants to enable all possible capabilities.
10106       Note that, in general, this is not advisable as the agent may suffer
10107       a performance penalty for functionality it is not using.
10108       The code might look like this in C:
10109       &lt;example&gt;
10110         jvmtiCapabilities capa;
10111         jvmtiError err;
10112 
10113         err = (*jvmti)-&amp;gt;GetPotentialCapabilities(jvmti, &amp;amp;capa);
10114         if (err == JVMTI_ERROR_NONE) {
10115            err = (*jvmti)-&amp;gt;AddCapabilities(jvmti, &amp;amp;capa);
10116       &lt;/example&gt;
10117       For example, if an  agent wants to check if it can get
10118       the bytecodes of a method (that is, it wants to check
10119       if it previously added this capability and has not
10120       relinquished it), the code might
10121       look like this in C:
10122       &lt;example&gt;
10123         jvmtiCapabilities capa;
10124         jvmtiError err;
10125 
10126         err = (*jvmti)-&amp;gt;GetCapabilities(jvmti, &amp;amp;capa);
10127         if (err == JVMTI_ERROR_NONE) {
10128            if (capa.can_get_bytecodes) { ... } }
10129       &lt;/example&gt;
10130     &lt;/intro&gt;
10131 
10132     &lt;capabilitiestypedef id=&quot;jvmtiCapabilities&quot; label=&quot;The Capabilities Structure&quot;&gt;
10133       &lt;description&gt;
10134         The functions in this category use this capabilities structure
10135         which contains boolean flags corresponding to each capability:
10136       &lt;/description&gt;
10137       &lt;capabilityfield id=&quot;can_tag_objects&quot;&gt;
10138         &lt;description&gt;
10139           Can set and get tags, as described in the
10140           &lt;internallink id=&quot;Heap&quot;&gt;Heap category&lt;/internallink&gt;.
10141         &lt;/description&gt;
10142       &lt;/capabilityfield&gt;
10143       &lt;capabilityfield id=&quot;can_generate_field_modification_events&quot;&gt;
10144         &lt;description&gt;
10145           Can set watchpoints on field modification -
10146           &lt;functionlink id=&quot;SetFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;
10147         &lt;/description&gt;
10148       &lt;/capabilityfield&gt;
10149       &lt;capabilityfield id=&quot;can_generate_field_access_events&quot;&gt;
10150         &lt;description&gt;
10151           Can set watchpoints on field access -
10152           &lt;functionlink id=&quot;SetFieldAccessWatch&quot;&gt;&lt;/functionlink&gt;
10153         &lt;/description&gt;
10154       &lt;/capabilityfield&gt;
10155       &lt;capabilityfield id=&quot;can_get_bytecodes&quot;&gt;
10156         &lt;description&gt;
10157           Can get bytecodes of a method &lt;functionlink id=&quot;GetBytecodes&quot;&gt;&lt;/functionlink&gt;
10158         &lt;/description&gt;
10159       &lt;/capabilityfield&gt;
10160       &lt;capabilityfield id=&quot;can_get_synthetic_attribute&quot;&gt;
10161         &lt;description&gt;
10162           Can test if a field or method is synthetic -
10163           &lt;functionlink id=&quot;IsFieldSynthetic&quot;&gt;&lt;/functionlink&gt; and
10164           &lt;functionlink id=&quot;IsMethodSynthetic&quot;&gt;&lt;/functionlink&gt;
10165         &lt;/description&gt;
10166       &lt;/capabilityfield&gt;
10167       &lt;capabilityfield id=&quot;can_get_owned_monitor_info&quot;&gt;
10168         &lt;description&gt;
10169           Can get information about ownership of monitors -
10170           &lt;functionlink id=&quot;GetOwnedMonitorInfo&quot;&gt;&lt;/functionlink&gt;
10171         &lt;/description&gt;
10172       &lt;/capabilityfield&gt;
10173       &lt;capabilityfield id=&quot;can_get_current_contended_monitor&quot;&gt;
10174         &lt;description&gt;
10175           Can &lt;functionlink id=&quot;GetCurrentContendedMonitor&quot;&gt;&lt;/functionlink&gt;
10176         &lt;/description&gt;
10177       &lt;/capabilityfield&gt;
10178       &lt;capabilityfield id=&quot;can_get_monitor_info&quot;&gt;
10179       &lt;description&gt;
10180         Can &lt;functionlink id=&quot;GetObjectMonitorUsage&quot;&gt;&lt;/functionlink&gt;
10181       &lt;/description&gt;
10182       &lt;/capabilityfield&gt;
10183       &lt;capabilityfield id=&quot;can_pop_frame&quot;&gt;
10184         &lt;description&gt;
10185           Can pop frames off the stack - &lt;functionlink id=&quot;PopFrame&quot;&gt;&lt;/functionlink&gt;
10186         &lt;/description&gt;
10187       &lt;/capabilityfield&gt;
10188       &lt;capabilityfield id=&quot;can_redefine_classes&quot;&gt;
10189         &lt;description&gt;
10190           Can redefine classes with &lt;functionlink id=&quot;RedefineClasses&quot;/&gt;.
10191         &lt;/description&gt;
10192       &lt;/capabilityfield&gt;
10193       &lt;capabilityfield id=&quot;can_signal_thread&quot;&gt;
10194         &lt;description&gt;
10195           Can send stop or interrupt to threads
10196         &lt;/description&gt;
10197       &lt;/capabilityfield&gt;
10198       &lt;capabilityfield id=&quot;can_get_source_file_name&quot;&gt;
10199         &lt;description&gt;
10200           Can get the source file name of a class
10201         &lt;/description&gt;
10202       &lt;/capabilityfield&gt;
10203       &lt;capabilityfield id=&quot;can_get_line_numbers&quot;&gt;
10204         &lt;description&gt;
10205           Can get the line number table of a method
10206         &lt;/description&gt;
10207       &lt;/capabilityfield&gt;
10208       &lt;capabilityfield id=&quot;can_get_source_debug_extension&quot;&gt;
10209         &lt;description&gt;
10210           Can get the source debug extension of a class
10211         &lt;/description&gt;
10212       &lt;/capabilityfield&gt;
10213       &lt;capabilityfield id=&quot;can_access_local_variables&quot;&gt;
10214         &lt;description&gt;
10215           Can set and get local variables
10216         &lt;/description&gt;
10217       &lt;/capabilityfield&gt;
10218       &lt;capabilityfield id=&quot;can_maintain_original_method_order&quot;&gt;
10219         &lt;description&gt;
10220           Can return methods in the order they occur in the class file
10221         &lt;/description&gt;
10222       &lt;/capabilityfield&gt;
10223       &lt;capabilityfield id=&quot;can_generate_single_step_events&quot;&gt;
10224         &lt;description&gt;
10225           Can get &lt;eventlink id=&quot;SingleStep&quot;&gt;single step&lt;/eventlink&gt; events
10226         &lt;/description&gt;
10227       &lt;/capabilityfield&gt;
10228       &lt;capabilityfield id=&quot;can_generate_exception_events&quot;&gt;
10229         &lt;description&gt;
10230           Can get &lt;eventlink id=&quot;Exception&quot;&gt;exception thrown&lt;/eventlink&gt; and
10231             &lt;eventlink id=&quot;ExceptionCatch&quot;&gt;exception catch&lt;/eventlink&gt; events
10232         &lt;/description&gt;
10233       &lt;/capabilityfield&gt;
10234       &lt;capabilityfield id=&quot;can_generate_frame_pop_events&quot;&gt;
10235         &lt;description&gt;
10236           Can &lt;functionlink id=&quot;NotifyFramePop&quot;&gt;set&lt;/functionlink&gt; and thus get
10237             &lt;eventlink id=&quot;FramePop&quot;&gt;&lt;/eventlink&gt; events
10238         &lt;/description&gt;
10239       &lt;/capabilityfield&gt;
10240       &lt;capabilityfield id=&quot;can_generate_breakpoint_events&quot;&gt;
10241         &lt;description&gt;
10242           Can &lt;functionlink id=&quot;SetBreakpoint&quot;&gt;set&lt;/functionlink&gt; and thus get
10243             &lt;eventlink id=&quot;Breakpoint&quot;&gt;&lt;/eventlink&gt; events
10244         &lt;/description&gt;
10245       &lt;/capabilityfield&gt;
10246       &lt;capabilityfield id=&quot;can_suspend&quot;&gt;
10247         &lt;description&gt;
10248           Can suspend and resume threads
10249         &lt;/description&gt;
10250       &lt;/capabilityfield&gt;
10251       &lt;capabilityfield id=&quot;can_redefine_any_class&quot;&gt;
10252         &lt;description&gt;
10253           &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; can be called on any modifiable class.
10254           See &lt;functionlink id=&quot;IsModifiableClass&quot;/&gt;.
10255           (&lt;fieldlink id=&quot;can_redefine_classes&quot; struct=&quot;jvmtiCapabilities&quot;/&gt;
10256           must also be set)
10257         &lt;/description&gt;
10258       &lt;/capabilityfield&gt;
10259       &lt;capabilityfield id=&quot;can_get_current_thread_cpu_time&quot;&gt;
10260         &lt;description&gt;
10261           Can &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;&gt;get&lt;/functionlink&gt;
10262           current thread CPU time
10263         &lt;/description&gt;
10264       &lt;/capabilityfield&gt;
10265       &lt;capabilityfield id=&quot;can_get_thread_cpu_time&quot;&gt;
10266         &lt;description&gt;
10267           Can &lt;functionlink id=&quot;GetThreadCpuTime&quot;&gt;get&lt;/functionlink&gt;
10268           thread CPU time
10269         &lt;/description&gt;
10270       &lt;/capabilityfield&gt;
10271       &lt;capabilityfield id=&quot;can_generate_method_entry_events&quot;
10272                        disp1=&quot;can_generate&quot; disp2=&quot;_method_entry_events&quot;
10273                        &gt;
10274         &lt;description&gt;
10275           Can generate method entry events on entering a method
10276         &lt;/description&gt;
10277       &lt;/capabilityfield&gt;
10278       &lt;capabilityfield id=&quot;can_generate_method_exit_events&quot;
10279                        disp1=&quot;can_generate&quot; disp2=&quot;_method_exit_events&quot;
10280                        &gt;
10281         &lt;description&gt;
10282           Can generate method exit events on leaving a method
10283         &lt;/description&gt;
10284       &lt;/capabilityfield&gt;
10285       &lt;capabilityfield id=&quot;can_generate_all_class_hook_events&quot;
10286                        disp1=&quot;can_generate&quot; disp2=&quot;_all_class_hook_events&quot;
10287                        &gt;
10288         &lt;description&gt;
10289           Can generate ClassFileLoadHook events for every loaded class.
10290         &lt;/description&gt;
10291       &lt;/capabilityfield&gt;
10292       &lt;capabilityfield id=&quot;can_generate_compiled_method_load_events&quot;
10293                        disp1=&quot;can_generate&quot; disp2=&quot;_compiled_method_load_events&quot;
10294                        &gt;
10295         &lt;description&gt;
10296           Can generate events when a method is compiled or unloaded
10297         &lt;/description&gt;
10298       &lt;/capabilityfield&gt;
10299       &lt;capabilityfield id=&quot;can_generate_monitor_events&quot;
10300                        disp1=&quot;can_generate&quot; disp2=&quot;_monitor_events&quot;
10301                        &gt;
10302         &lt;description&gt;
10303           Can generate events on monitor activity
10304         &lt;/description&gt;
10305       &lt;/capabilityfield&gt;
10306       &lt;capabilityfield id=&quot;can_generate_vm_object_alloc_events&quot;
10307                        disp1=&quot;can_generate&quot; disp2=&quot;_vm_object_alloc_events&quot;
10308                        &gt;
10309         &lt;description&gt;
10310           Can generate events on VM allocation of an object
10311         &lt;/description&gt;
10312       &lt;/capabilityfield&gt;
10313       &lt;capabilityfield id=&quot;can_generate_native_method_bind_events&quot;
10314                        disp1=&quot;can_generate&quot; disp2=&quot;_native_method_bind_events&quot;
10315                        &gt;
10316         &lt;description&gt;
10317           Can generate events when a native method is bound to its
10318           implementation
10319         &lt;/description&gt;
10320       &lt;/capabilityfield&gt;
10321       &lt;capabilityfield id=&quot;can_generate_garbage_collection_events&quot;
10322                        disp1=&quot;can_generate&quot; disp2=&quot;_garbage_collection_events&quot;
10323                        &gt;
10324         &lt;description&gt;
10325           Can generate events when garbage collection begins or ends
10326         &lt;/description&gt;
10327       &lt;/capabilityfield&gt;
10328       &lt;capabilityfield id=&quot;can_generate_object_free_events&quot;
10329                        disp1=&quot;can_generate&quot; disp2=&quot;_object_free_events&quot;
10330                        &gt;
10331         &lt;description&gt;
10332           Can generate events when the garbage collector frees an object
10333         &lt;/description&gt;
10334       &lt;/capabilityfield&gt;
10335       &lt;capabilityfield id=&quot;can_force_early_return&quot; since=&quot;1.1&quot;&gt;
10336         &lt;description&gt;
10337           Can return early from a method, as described in the
10338           &lt;internallink id=&quot;ForceEarlyReturn&quot;&gt;Force Early Return category&lt;/internallink&gt;.
10339         &lt;/description&gt;
10340       &lt;/capabilityfield&gt;
10341       &lt;capabilityfield id=&quot;can_get_owned_monitor_stack_depth_info&quot; since=&quot;1.1&quot;&gt;
10342         &lt;description&gt;
10343           Can get information about owned monitors with stack depth -
10344           &lt;functionlink id=&quot;GetOwnedMonitorStackDepthInfo&quot;&gt;&lt;/functionlink&gt;
10345         &lt;/description&gt;
10346       &lt;/capabilityfield&gt;
10347       &lt;capabilityfield id=&quot;can_get_constant_pool&quot; since=&quot;1.1&quot;&gt;
10348         &lt;description&gt;
10349           Can get the constant pool of a class -
10350           &lt;functionlink id=&quot;GetConstantPool&quot;&gt;&lt;/functionlink&gt;
10351         &lt;/description&gt;
10352       &lt;/capabilityfield&gt;
10353       &lt;capabilityfield id=&quot;can_set_native_method_prefix&quot; since=&quot;1.1&quot;&gt;
10354         &lt;description&gt;
10355           Can set prefix to be applied when native method cannot be resolved -
10356           &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;/&gt; and
10357           &lt;functionlink id=&quot;SetNativeMethodPrefixes&quot;/&gt;
10358         &lt;/description&gt;
10359       &lt;/capabilityfield&gt;
10360       &lt;capabilityfield id=&quot;can_retransform_classes&quot; since=&quot;1.1&quot;&gt;
10361         &lt;description&gt;
10362           Can retransform classes with &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;.
10363           In addition to the restrictions imposed by the specific
10364           implementation on this capability (see the
10365           &lt;internallink id=&quot;capability&quot;&gt;Capability&lt;/internallink&gt; section),
10366           this capability must be set before the
10367           &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; event is enabled for the
10368           first time in this environment.
10369           An environment that possesses this capability at the time that
10370           &lt;code&gt;ClassFileLoadHook&lt;/code&gt; is enabled for the first time is
10371           said to be &lt;i&gt;retransformation capable&lt;/i&gt;.
10372           An environment that does not possess this capability at the time that
10373           &lt;code&gt;ClassFileLoadHook&lt;/code&gt; is enabled for the first time is
10374           said to be &lt;i&gt;retransformation incapable&lt;/i&gt;.
10375         &lt;/description&gt;
10376       &lt;/capabilityfield&gt;
10377       &lt;capabilityfield id=&quot;can_retransform_any_class&quot; since=&quot;1.1&quot;&gt;
10378         &lt;description&gt;
10379           &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; can be called on any modifiable class.
10380           See &lt;functionlink id=&quot;IsModifiableClass&quot;/&gt;.
10381           (&lt;fieldlink id=&quot;can_retransform_classes&quot; struct=&quot;jvmtiCapabilities&quot;/&gt;
10382           must also be set)
10383         &lt;/description&gt;
10384       &lt;/capabilityfield&gt;
10385       &lt;capabilityfield id=&quot;can_generate_resource_exhaustion_heap_events&quot; since=&quot;1.1&quot;&gt;
10386         &lt;description&gt;
10387           Can generate events when the VM is unable to allocate memory from
10388           the &lt;tm&gt;Java&lt;/tm&gt; platform heap.
10389           See &lt;eventlink id=&quot;ResourceExhausted&quot;/&gt;.
10390         &lt;/description&gt;
10391       &lt;/capabilityfield&gt;
10392       &lt;capabilityfield id=&quot;can_generate_resource_exhaustion_threads_events&quot; since=&quot;1.1&quot;&gt;
10393         &lt;description&gt;
10394           Can generate events when the VM is unable to create a thread.
10395           See &lt;eventlink id=&quot;ResourceExhausted&quot;/&gt;.
10396         &lt;/description&gt;
10397       &lt;/capabilityfield&gt;
10398       &lt;capabilityfield id=&quot;can_generate_early_vmstart&quot; since=&quot;9&quot;&gt;
10399         &lt;description&gt;
10400           Can generate the &lt;code&gt;VMStart&lt;/code&gt; event early.
10401           See &lt;eventlink id=&quot;VMStart&quot;/&gt;.
10402         &lt;/description&gt;
10403       &lt;/capabilityfield&gt;
10404       &lt;capabilityfield id=&quot;can_generate_early_class_hook_events&quot; since=&quot;9&quot;&gt;
10405         &lt;description&gt;
10406           Can generate the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events
10407           in the primordial phase. If this capability and
10408           &lt;internallink id=&quot;jvmtiCapabilities.can_generate_all_class_hook_events&quot;&gt;
10409           &lt;code&gt;can_generate_all_class_hook_events&lt;/code&gt;&lt;/internallink&gt;
10410           are enabled then the &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt; events
10411           can be posted for classes loaded in the primordial phase.
10412           See &lt;eventlink id=&quot;ClassFileLoadHook&quot;/&gt;.
10413         &lt;/description&gt;
10414       &lt;/capabilityfield&gt;
10415       &lt;capabilityfield id=&quot;can_generate_sampled_object_alloc_events&quot; since=&quot;11&quot;&gt;
10416         &lt;description&gt;
10417           Can generate sampled allocation events.
10418           If this capability is enabled then the heap sampling method
10419           &lt;functionlink id=&quot;SetHeapSamplingInterval&quot;&gt;&lt;/functionlink&gt; can be
10420           called and &lt;eventlink id=&quot;SampledObjectAlloc&quot;&gt;&lt;/eventlink&gt; events can be generated.
10421         &lt;/description&gt;
10422       &lt;/capabilityfield&gt;
10423     &lt;/capabilitiestypedef&gt;
10424 
10425     &lt;function id=&quot;GetPotentialCapabilities&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;140&quot;&gt;
10426       &lt;synopsis&gt;Get Potential Capabilities&lt;/synopsis&gt;
10427       &lt;description&gt;
10428         Returns via &lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt; the &lt;jvmti/&gt;
10429         features that can potentially be possessed by this environment
10430         at this time.
10431         The returned capabilities differ from the complete set of capabilities
10432         implemented by the VM in two cases: another environment possesses
10433         capabilities that can only be possessed by one environment, or the
10434         current &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt; is live,
10435         and certain capabilities can only be added during the &lt;code&gt;OnLoad&lt;/code&gt; phase.
10436         The &lt;functionlink id=&quot;AddCapabilities&quot;&gt;&lt;/functionlink&gt; function
10437         may be used to set any or all or these capabilities.
10438         Currently possessed capabilities are included.
10439         &lt;p/&gt;
10440         Typically this function is used in the &lt;code&gt;OnLoad&lt;/code&gt; function.
10441         Some virtual machines may allow a limited set of capabilities to be
10442         added in the live phase.
10443         In this case, the set of potentially available capabilities
10444         will likely differ from the &lt;code&gt;OnLoad&lt;/code&gt; phase set.
10445         &lt;p/&gt;
10446         See the
10447         &lt;internallink id=&quot;capabilityExamples&quot;&gt;Capability Examples&lt;/internallink&gt;.
10448       &lt;/description&gt;
10449       &lt;origin&gt;new&lt;/origin&gt;
10450       &lt;capabilities&gt;
10451       &lt;/capabilities&gt;
10452       &lt;parameters&gt;
10453         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10454           &lt;outptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/outptr&gt;
10455           &lt;description&gt;
10456             On return, points to the &lt;jvmti/&gt; capabilities that may be added.
10457           &lt;/description&gt;
10458         &lt;/param&gt;
10459       &lt;/parameters&gt;
10460       &lt;errors&gt;
10461       &lt;/errors&gt;
10462     &lt;/function&gt;
10463 
10464     &lt;elide&gt;
10465     &lt;function id=&quot;EstimateCostOfCapabilities&quot; phase=&quot;onload&quot; num=&quot;141&quot;&gt;
10466       &lt;synopsis&gt;Estimate Cost Of Capabilities&lt;/synopsis&gt;
10467       &lt;description&gt;
10468         &lt;issue&gt;There is strong opposition to this function.  The concern is
10469           that it would be difficult or impossible to provide meaningful
10470           numbers, as the amount of impact is conditional on many factors
10471           that a single number could not represent.  There is doubt that
10472           conditional implementations would be used or are even a good idea.
10473           The thought is that release documentation for the implementation
10474           would be the best means of exposing this information.
10475           Unless new arguments are presented, I intend to remove this
10476           function in the next revision.
10477         &lt;/issue&gt;
10478         &lt;p/&gt;
10479         Return via the &lt;paramlink id=&quot;time_impact_ptr&quot;&gt;&lt;/paramlink&gt; and
10480         &lt;paramlink id=&quot;space_impact_ptr&quot;&gt;&lt;/paramlink&gt; an estimate of the impact
10481         of adding the capabilities pointed to by
10482         &lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt;.
10483         The returned estimates are in percentage of additional overhead, thus
10484         a time impact of 100 mean the application might run
10485         at half the speed.
10486         The estimates are very rough approximations and are not guaranteed.
10487         Note also, that the estimates are of the impact of having the
10488         capability available--when and if it is used the impact may be
10489         much greater.
10490         Estimates can be for a single capability or for a set of
10491         capabilities.  Note that the costs are not necessarily additive,
10492         adding support for one capability might make another available
10493         for free or conversely having two capabilities at once may
10494         have multiplicative impact.
10495         Estimates are relative to the current set of capabilities -
10496         that is, how much more impact given the currently possessed capabilities.
10497         &lt;p/&gt;
10498         Typically this function is used in the OnLoad function,
10499         some virtual machines may allow a limited set of capabilities to be
10500         added in the live phase.
10501         In this case, the set of potentially available capabilities
10502         will likely differ from the OnLoad phase set.
10503         &lt;p/&gt;
10504         See the
10505         &lt;internallink id=&quot;capabilityExamples&quot;&gt;Capability Examples&lt;/internallink&gt;.
10506       &lt;/description&gt;
10507       &lt;origin&gt;new&lt;/origin&gt;
10508       &lt;capabilities&gt;
10509       &lt;/capabilities&gt;
10510       &lt;parameters&gt;
10511         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10512           &lt;inptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/inptr&gt;
10513           &lt;description&gt;
10514             points to the &lt;jvmti/&gt; capabilities to evaluate.
10515           &lt;/description&gt;
10516         &lt;/param&gt;
10517         &lt;param id=&quot;time_impact_ptr&quot;&gt;
10518           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
10519           &lt;description&gt;
10520             On return, points to the estimated percentage increase in
10521             run time if this capability was added.
10522           &lt;/description&gt;
10523         &lt;/param&gt;
10524         &lt;param id=&quot;space_impact_ptr&quot;&gt;
10525           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
10526           &lt;description&gt;
10527             On return, points to the estimated percentage increase in
10528             memory space used if this capability was added.
10529           &lt;/description&gt;
10530         &lt;/param&gt;
10531       &lt;/parameters&gt;
10532       &lt;errors&gt;
10533         &lt;error id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;&gt;
10534           The desired capabilities are not even potentially available.
10535         &lt;/error&gt;
10536       &lt;/errors&gt;
10537     &lt;/function&gt;
10538     &lt;/elide&gt;
10539 
10540     &lt;function id=&quot;AddCapabilities&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;142&quot;&gt;
10541       &lt;synopsis&gt;Add Capabilities&lt;/synopsis&gt;
10542       &lt;description&gt;
10543         Set new capabilities by adding the capabilities
10544         whose values are set to one (&lt;code&gt;1&lt;/code&gt;) in
10545         &lt;code&gt;*&lt;/code&gt;&lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt;.
10546         All previous capabilities are retained.
10547         Typically this function is used in the &lt;code&gt;OnLoad&lt;/code&gt; function.
10548         Some virtual machines may allow a limited set of capabilities to be
10549         added in the live phase.
10550         &lt;p/&gt;
10551         See the
10552         &lt;internallink id=&quot;capabilityExamples&quot;&gt;Capability Examples&lt;/internallink&gt;.
10553       &lt;/description&gt;
10554       &lt;origin&gt;new&lt;/origin&gt;
10555       &lt;capabilities&gt;
10556       &lt;/capabilities&gt;
10557       &lt;parameters&gt;
10558         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10559           &lt;inptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/inptr&gt;
10560           &lt;description&gt;
10561             Points to the &lt;jvmti/&gt; capabilities to add.
10562           &lt;/description&gt;
10563         &lt;/param&gt;
10564       &lt;/parameters&gt;
10565       &lt;errors&gt;
10566         &lt;error id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;&gt;
10567           The desired capabilities are not even potentially available.
10568         &lt;/error&gt;
10569       &lt;/errors&gt;
10570     &lt;/function&gt;
10571 
10572 
10573     &lt;function id=&quot;RelinquishCapabilities&quot; phase=&quot;onload&quot; num=&quot;143&quot;&gt;
10574       &lt;synopsis&gt;Relinquish Capabilities&lt;/synopsis&gt;
10575       &lt;description&gt;
10576         Relinquish the capabilities
10577         whose values are set to one (&lt;code&gt;1&lt;/code&gt;) in
10578         &lt;code&gt;*&lt;/code&gt;&lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt;.
10579         Some implementations may allow only one environment to have a capability
10580         (see the &lt;internallink id=&quot;capability&quot;&gt;capability introduction&lt;/internallink&gt;).
10581         This function releases capabilities
10582         so that they may be used by other agents.
10583         All other capabilities are retained.
10584         The capability will no longer be present in &lt;functionlink id=&quot;GetCapabilities&quot;&gt;&lt;/functionlink&gt;.
10585         Attempting to relinquish a capability that the agent does not possess is not an error.
10586           &lt;issue&gt;
10587             It is possible for the agent to be actively using capabilities
10588             which are being relinquished.  For example, a thread is currently
10589             suspended and can_suspend is being relinquished or an event is currently
10590             enabled and can_generate_whatever is being relinquished.
10591             There are three possible ways we could spec this:
10592             &lt;ul&gt;
10593               &lt;li&gt;relinquish automatically releases them&lt;/li&gt;
10594               &lt;li&gt;relinquish checks and returns some error code if held&lt;/li&gt;
10595               &lt;li&gt;it is the agent&#39;s responsibility and it is not checked&lt;/li&gt;
10596             &lt;/ul&gt;
10597             One of these should be chosen.
10598           &lt;/issue&gt;
10599       &lt;/description&gt;
10600       &lt;origin&gt;new&lt;/origin&gt;
10601       &lt;capabilities&gt;
10602       &lt;/capabilities&gt;
10603       &lt;parameters&gt;
10604         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10605           &lt;inptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/inptr&gt;
10606           &lt;description&gt;
10607             Points to the &lt;jvmti/&gt; capabilities to relinquish.
10608           &lt;/description&gt;
10609         &lt;/param&gt;
10610       &lt;/parameters&gt;
10611       &lt;errors&gt;
10612       &lt;/errors&gt;
10613     &lt;/function&gt;
10614 
10615 
10616 
10617     &lt;function id=&quot;GetCapabilities&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;89&quot;&gt;
10618       &lt;synopsis&gt;Get Capabilities&lt;/synopsis&gt;
10619         &lt;description&gt;
10620           Returns via &lt;paramlink id=&quot;capabilities_ptr&quot;&gt;&lt;/paramlink&gt; the optional &lt;jvmti/&gt;
10621           features which this environment currently possesses.
10622           Each possessed capability is indicated by a one (&lt;code&gt;1&lt;/code&gt;) in the
10623           corresponding field of the &lt;internallink id=&quot;jvmtiCapabilities&quot;&gt;capabilities
10624           structure&lt;/internallink&gt;.
10625           An environment does not possess a capability unless it has been successfully added with
10626           &lt;functionlink id=&quot;AddCapabilities&quot;/&gt;.
10627           An environment only loses possession of a capability if it has been relinquished with
10628           &lt;functionlink id=&quot;RelinquishCapabilities&quot;/&gt;. Thus, this function returns the net result
10629           of the &lt;code&gt;AddCapabilities&lt;/code&gt; and &lt;code&gt;RelinquishCapabilities&lt;/code&gt; calls which
10630           have been made.
10631           &lt;p/&gt;
10632           See the
10633           &lt;internallink id=&quot;capabilityExamples&quot;&gt;Capability Examples&lt;/internallink&gt;.
10634         &lt;/description&gt;
10635       &lt;origin&gt;jvmdiClone&lt;/origin&gt;
10636       &lt;capabilities&gt;
10637       &lt;/capabilities&gt;
10638       &lt;parameters&gt;
10639         &lt;param id=&quot;capabilities_ptr&quot;&gt;
10640           &lt;outptr&gt;&lt;struct&gt;jvmtiCapabilities&lt;/struct&gt;&lt;/outptr&gt;
10641           &lt;description&gt;
10642             On return, points to the &lt;jvmti/&gt; capabilities.
10643           &lt;/description&gt;
10644         &lt;/param&gt;
10645       &lt;/parameters&gt;
10646       &lt;errors&gt;
10647       &lt;/errors&gt;
10648     &lt;/function&gt;
10649 
10650   &lt;/category&gt;
10651 
10652 
10653   &lt;category id=&quot;timers&quot; label=&quot;Timers&quot;&gt;
10654 
10655       &lt;intro&gt;
10656         These functions provide timing information.
10657         The resolution at which the time is updated is not specified.
10658         They provides nanosecond precision, but not necessarily nanosecond accuracy.
10659         Details about the timers, such as their maximum values, can be accessed with
10660         the timer information functions.
10661       &lt;/intro&gt;
10662 
10663       &lt;typedef id=&quot;jvmtiTimerInfo&quot; label=&quot;Timer Info&quot;&gt;
10664         &lt;description&gt;
10665           The information function for each timer returns this data structure.
10666         &lt;/description&gt;
10667         &lt;field id=&quot;max_value&quot;&gt;
10668           &lt;jlong/&gt;
10669             &lt;description&gt;
10670               The maximum value the timer can reach.
10671               After this value is reached the timer wraps back to zero.
10672               This is an unsigned value.  If tested or printed as a jlong (signed value)
10673               it may appear to be a negative number.
10674             &lt;/description&gt;
10675         &lt;/field&gt;
10676         &lt;field id=&quot;may_skip_forward&quot;&gt;
10677           &lt;jboolean/&gt;
10678           &lt;description&gt;
10679             If true, the timer can be externally adjusted and as a result skip forward.
10680             If false, the timer value will never increase faster than real time.
10681           &lt;/description&gt;
10682         &lt;/field&gt;
10683         &lt;field id=&quot;may_skip_backward&quot;&gt;
10684           &lt;jboolean/&gt;
10685           &lt;description&gt;
10686             If true, the timer can be externally adjusted and as a result skip backward.
10687             If false, the timer value will be monotonically increasing.
10688           &lt;/description&gt;
10689         &lt;/field&gt;
10690         &lt;field id=&quot;kind&quot;&gt;
10691           &lt;enum&gt;jvmtiTimerKind&lt;/enum&gt;
10692           &lt;description&gt;
10693             The kind of timer.
10694             On a platform that does not distinguish between user and system time, &lt;datalink
10695                  id=&quot;JVMTI_TIMER_TOTAL_CPU&quot;&gt;&lt;code&gt;JVMTI_TIMER_TOTAL_CPU&lt;/code&gt;&lt;/datalink&gt;
10696             is returned.
10697           &lt;/description&gt;
10698         &lt;/field&gt;
10699         &lt;field id=&quot;reserved1&quot;&gt;
10700           &lt;jlong/&gt;
10701             &lt;description&gt;
10702               Reserved for future use.
10703             &lt;/description&gt;
10704         &lt;/field&gt;
10705         &lt;field id=&quot;reserved2&quot;&gt;
10706           &lt;jlong/&gt;
10707             &lt;description&gt;
10708               Reserved for future use.
10709             &lt;/description&gt;
10710         &lt;/field&gt;
10711       &lt;/typedef&gt;
10712 
10713       &lt;intro&gt;
10714         Where the timer kind is --
10715 
10716         &lt;constants id=&quot;jvmtiTimerKind&quot; label=&quot;Timer Kinds&quot; kind=&quot;enum&quot;&gt;
10717           &lt;constant id=&quot;JVMTI_TIMER_USER_CPU&quot; num=&quot;30&quot;&gt;
10718             CPU time that a thread is in user mode.
10719           &lt;/constant&gt;
10720           &lt;constant id=&quot;JVMTI_TIMER_TOTAL_CPU&quot; num=&quot;31&quot;&gt;
10721             CPU time that a thread is in user or system mode.
10722           &lt;/constant&gt;
10723           &lt;constant id=&quot;JVMTI_TIMER_ELAPSED&quot; num=&quot;32&quot;&gt;
10724             Elapsed time.
10725           &lt;/constant&gt;
10726         &lt;/constants&gt;
10727       &lt;/intro&gt;
10728 
10729     &lt;function id=&quot;GetCurrentThreadCpuTimerInfo&quot; callbacksafe=&quot;safe&quot;  impl=&quot;innative notrace&quot; phase=&quot;start&quot; num=&quot;134&quot;&gt;
10730       &lt;synopsis&gt;Get Current Thread CPU Timer Information&lt;/synopsis&gt;
10731       &lt;description&gt;
10732         Get information about the
10733         &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt; timer.
10734         The fields of the &lt;datalink id=&quot;jvmtiTimerInfo&quot;/&gt; structure
10735         are filled in with details about the timer.
10736         This information is specific to the platform and the implementation of
10737         &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt; and thus
10738         does not vary by thread nor does it vary
10739         during a particular invocation of the VM.
10740         &lt;p/&gt;
10741         Note that the implementations of &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt;
10742         and &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt; may differ, and thus the values
10743         returned by &lt;code&gt;GetCurrentThreadCpuTimerInfo&lt;/code&gt;
10744         and &lt;functionlink id=&quot;GetThreadCpuTimerInfo&quot;/&gt;
10745         may differ -- see &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt; for more information.
10746       &lt;/description&gt;
10747       &lt;origin&gt;new&lt;/origin&gt;
10748       &lt;capabilities&gt;
10749         &lt;required id=&quot;can_get_current_thread_cpu_time&quot;&gt;
10750             Can get current thread CPU time.
10751         &lt;/required&gt;
10752       &lt;/capabilities&gt;
10753       &lt;parameters&gt;
10754         &lt;param id=&quot;info_ptr&quot;&gt;
10755           &lt;outptr&gt;&lt;struct&gt;jvmtiTimerInfo&lt;/struct&gt;&lt;/outptr&gt;
10756           &lt;description&gt;
10757             On return, filled with information describing the time
10758             returned by &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt;.
10759           &lt;/description&gt;
10760         &lt;/param&gt;
10761       &lt;/parameters&gt;
10762       &lt;errors&gt;
10763       &lt;/errors&gt;
10764     &lt;/function&gt;
10765 
10766     &lt;function id=&quot;GetCurrentThreadCpuTime&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; phase=&quot;start&quot; num=&quot;135&quot;&gt;
10767       &lt;synopsis&gt;Get Current Thread CPU Time&lt;/synopsis&gt;
10768       &lt;description&gt;
10769             Return the CPU time utilized by the current thread.
10770             &lt;p/&gt;
10771             Note that the &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt;
10772             function provides CPU time for any thread, including
10773             the current thread. &lt;code&gt;GetCurrentThreadCpuTime&lt;/code&gt;
10774             exists to support platforms which cannot
10775             supply CPU time for threads other than the current
10776             thread or which have more accurate information for
10777             the current thread (see
10778             &lt;functionlink id=&quot;GetCurrentThreadCpuTimerInfo&quot;/&gt; vs
10779             &lt;functionlink id=&quot;GetThreadCpuTimerInfo&quot;/&gt;).
10780             On many platforms this call will be equivalent to:
10781 &lt;example&gt;
10782   GetThreadCpuTime(env, NULL, nanos_ptr)
10783 &lt;/example&gt;
10784       &lt;/description&gt;
10785       &lt;origin&gt;new&lt;/origin&gt;
10786       &lt;capabilities&gt;
10787         &lt;required id=&quot;can_get_current_thread_cpu_time&quot;&gt;
10788             Can get current thread CPU time.
10789             &lt;p/&gt;
10790             If this capability is enabled after threads have started,
10791             the implementation may choose any time up
10792             to and including the time that the capability is enabled
10793             as the point where CPU time collection starts.
10794             &lt;p/&gt;
10795             This capability must be potentially available on any
10796             platform where
10797             &lt;internallink id=&quot;jvmtiCapabilities.can_get_thread_cpu_time&quot;&gt;&lt;code&gt;can_get_thread_cpu_time&lt;/code&gt;&lt;/internallink&gt;
10798             is potentially available.
10799         &lt;/required&gt;
10800       &lt;/capabilities&gt;
10801       &lt;parameters&gt;
10802         &lt;param id=&quot;nanos_ptr&quot;&gt;
10803           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
10804           &lt;description&gt;
10805             On return, points to the CPU time used by this thread
10806             in nanoseconds.
10807             This is an unsigned value.  If tested or printed as a jlong (signed value)
10808             it may appear to be a negative number.
10809           &lt;/description&gt;
10810         &lt;/param&gt;
10811       &lt;/parameters&gt;
10812       &lt;errors&gt;
10813       &lt;/errors&gt;
10814     &lt;/function&gt;
10815 
10816     &lt;function id=&quot;GetThreadCpuTimerInfo&quot; num=&quot;136&quot;&gt;
10817       &lt;synopsis&gt;Get Thread CPU Timer Information&lt;/synopsis&gt;
10818       &lt;description&gt;
10819         Get information about the
10820         &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt; timer.
10821         The fields of the &lt;datalink id=&quot;jvmtiTimerInfo&quot;/&gt; structure
10822         are filled in with details about the timer.
10823         This information is specific to the platform and the implementation of
10824         &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt; and thus
10825         does not vary by thread nor does it vary
10826         during a particular invocation of the VM.
10827         &lt;p/&gt;
10828         Note that the implementations of &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt;
10829         and &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt; may differ, and thus the values
10830         returned by &lt;functionlink id=&quot;GetCurrentThreadCpuTimerInfo&quot;/&gt;
10831         and &lt;code&gt;GetThreadCpuTimerInfo&lt;/code&gt;
10832         may differ -- see &lt;functionlink id=&quot;GetCurrentThreadCpuTime&quot;/&gt; for more information.
10833       &lt;/description&gt;
10834       &lt;origin&gt;new&lt;/origin&gt;
10835       &lt;capabilities&gt;
10836         &lt;required id=&quot;can_get_thread_cpu_time&quot;&gt;
10837             Can get thread CPU time.
10838         &lt;/required&gt;
10839       &lt;/capabilities&gt;
10840       &lt;parameters&gt;
10841         &lt;param id=&quot;info_ptr&quot;&gt;
10842           &lt;outptr&gt;&lt;struct&gt;jvmtiTimerInfo&lt;/struct&gt;&lt;/outptr&gt;
10843           &lt;description&gt;
10844             On return, filled with information describing the time
10845             returned by &lt;functionlink id=&quot;GetThreadCpuTime&quot;/&gt;.
10846           &lt;/description&gt;
10847         &lt;/param&gt;
10848       &lt;/parameters&gt;
10849       &lt;errors&gt;
10850       &lt;/errors&gt;
10851     &lt;/function&gt;
10852 
10853     &lt;function id=&quot;GetThreadCpuTime&quot; num=&quot;137&quot;&gt;
10854       &lt;synopsis&gt;Get Thread CPU Time&lt;/synopsis&gt;
10855       &lt;description&gt;
10856           Return the CPU time utilized by the specified thread.
10857           &lt;p/&gt;
10858           Get information about this timer with
10859           &lt;functionlink id=&quot;GetThreadCpuTimerInfo&quot;/&gt;.
10860       &lt;/description&gt;
10861       &lt;origin&gt;new&lt;/origin&gt;
10862       &lt;capabilities&gt;
10863         &lt;required id=&quot;can_get_thread_cpu_time&quot;&gt;
10864             Can get thread CPU time.
10865             &lt;p/&gt;
10866             If this capability is enabled after threads have started,
10867             the implementation may choose any time up
10868             to and including the time that the capability is enabled
10869             as the point where CPU time collection starts.
10870         &lt;/required&gt;
10871       &lt;/capabilities&gt;
10872       &lt;parameters&gt;
10873         &lt;param id=&quot;thread&quot;&gt;
10874           &lt;jthread null=&quot;current&quot;/&gt;
10875             &lt;description&gt;
10876               The thread to query.
10877             &lt;/description&gt;
10878         &lt;/param&gt;
10879         &lt;param id=&quot;nanos_ptr&quot;&gt;
10880           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
10881           &lt;description&gt;
10882             On return, points to the CPU time used by the specified thread
10883             in nanoseconds.
10884             This is an unsigned value.  If tested or printed as a jlong (signed value)
10885             it may appear to be a negative number.
10886           &lt;/description&gt;
10887         &lt;/param&gt;
10888       &lt;/parameters&gt;
10889       &lt;errors&gt;
10890       &lt;/errors&gt;
10891     &lt;/function&gt;
10892 
10893     &lt;function id=&quot;GetTimerInfo&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; num=&quot;138&quot;&gt;
10894       &lt;synopsis&gt;Get Timer Information&lt;/synopsis&gt;
10895       &lt;description&gt;
10896         Get information about the
10897         &lt;functionlink id=&quot;GetTime&quot;/&gt; timer.
10898         The fields of the &lt;datalink id=&quot;jvmtiTimerInfo&quot;/&gt; structure
10899         are filled in with details about the timer.
10900         This information will not change during a particular invocation of the VM.
10901       &lt;/description&gt;
10902       &lt;origin&gt;new&lt;/origin&gt;
10903       &lt;capabilities&gt;
10904       &lt;/capabilities&gt;
10905       &lt;parameters&gt;
10906         &lt;param id=&quot;info_ptr&quot;&gt;
10907           &lt;outptr&gt;&lt;struct&gt;jvmtiTimerInfo&lt;/struct&gt;&lt;/outptr&gt;
10908           &lt;description&gt;
10909             On return, filled with information describing the time
10910             returned by &lt;functionlink id=&quot;GetTime&quot;/&gt;.
10911           &lt;/description&gt;
10912         &lt;/param&gt;
10913       &lt;/parameters&gt;
10914       &lt;errors&gt;
10915       &lt;/errors&gt;
10916     &lt;/function&gt;
10917 
10918     &lt;function id=&quot;GetTime&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; num=&quot;139&quot;&gt;
10919       &lt;synopsis&gt;Get Time&lt;/synopsis&gt;
10920       &lt;description&gt;
10921           Return the current value of the system timer, in nanoseconds.
10922           &lt;p/&gt;
10923           The value returned represents nanoseconds since some fixed but
10924           arbitrary time (perhaps in the future, so values may be
10925           negative).  This function provides nanosecond precision, but not
10926           necessarily nanosecond accuracy. No guarantees are made about
10927           how frequently values change.
10928           &lt;p/&gt;
10929           Get information about this timer with
10930           &lt;functionlink id=&quot;GetTimerInfo&quot;/&gt;.
10931       &lt;/description&gt;
10932       &lt;origin&gt;new&lt;/origin&gt;
10933       &lt;capabilities&gt;
10934       &lt;/capabilities&gt;
10935       &lt;parameters&gt;
10936         &lt;param id=&quot;nanos_ptr&quot;&gt;
10937           &lt;outptr&gt;&lt;jlong/&gt;&lt;/outptr&gt;
10938           &lt;description&gt;
10939             On return, points to the time in nanoseconds.
10940             This is an unsigned value.  If tested or printed as a jlong (signed value)
10941             it may appear to be a negative number.
10942           &lt;/description&gt;
10943         &lt;/param&gt;
10944       &lt;/parameters&gt;
10945       &lt;errors&gt;
10946       &lt;/errors&gt;
10947     &lt;/function&gt;
10948 
10949     &lt;function id=&quot;GetAvailableProcessors&quot; phase=&quot;any&quot; num=&quot;144&quot;&gt;
10950       &lt;synopsis&gt;Get Available Processors&lt;/synopsis&gt;
10951       &lt;description&gt;
10952           Returns the number of processors available to the Java virtual machine.
10953           &lt;p/&gt;
10954           This value may change during a particular invocation of the virtual machine.
10955           Applications that are sensitive to the number of available processors should
10956           therefore occasionally poll this property.
10957       &lt;/description&gt;
10958       &lt;origin&gt;new&lt;/origin&gt;
10959       &lt;capabilities&gt;
10960       &lt;/capabilities&gt;
10961       &lt;parameters&gt;
10962         &lt;param id=&quot;processor_count_ptr&quot;&gt;
10963           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
10964           &lt;description&gt;
10965             On return, points to the maximum number of processors available to the
10966             virtual machine; never smaller than one.
10967           &lt;/description&gt;
10968         &lt;/param&gt;
10969       &lt;/parameters&gt;
10970       &lt;errors&gt;
10971       &lt;/errors&gt;
10972     &lt;/function&gt;
10973 
10974   &lt;/category&gt;
10975 
10976 
10977   &lt;category id=&quot;classLoaderSearch&quot; label=&quot;Class Loader Search&quot;&gt;
10978 
10979     &lt;intro&gt;
10980       These functions allow the agent to add to the locations that a class loader searches for a class.
10981       This is useful for installing instrumentation under the correct class loader.
10982     &lt;/intro&gt;
10983 
10984     &lt;function id=&quot;AddToBootstrapClassLoaderSearch&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;149&quot;&gt;
10985       &lt;synopsis&gt;Add To Bootstrap Class Loader Search&lt;/synopsis&gt;
10986       &lt;description&gt;
10987           This function can be used to cause instrumentation classes to be defined by the
10988           bootstrap class loader. See &lt;vmspec chapter=&quot;5.3.1&quot;/&gt;.
10989           After the bootstrap
10990           class loader unsuccessfully searches for a class, the specified platform-dependent
10991           search path &lt;paramlink id=&quot;segment&quot;/&gt; will be searched as well. Only one segment may be specified in
10992           the &lt;paramlink id=&quot;segment&quot;/&gt;. This function may be called multiple times to add multiple segments,
10993           the segments will be searched in the order that this function was called.
10994           &lt;p/&gt;
10995           In the &lt;code&gt;OnLoad&lt;/code&gt; phase the function may be used to specify any platform-dependent
10996           search path segment to be searched after the bootstrap class loader unsuccessfully searches
10997           for a class. The segment is typically a directory or JAR file.
10998           &lt;p/&gt;
10999           In the live phase the &lt;paramlink id=&quot;segment&quot;/&gt; may be used to specify any platform-dependent
11000           path to a &lt;externallink id=&quot;jar/jar.html&quot;&gt;
11001           JAR file&lt;/externallink&gt;. The agent should take care that the JAR file does not
11002           contain any classes or resources other than those to be defined by the bootstrap
11003           class loader for the purposes of instrumentation.
11004           &lt;p/&gt;
11005           &lt;vmspec/&gt; specifies that a subsequent attempt to resolve a symbolic
11006           reference that the Java virtual machine has previously unsuccessfully attempted
11007           to resolve always fails with the same error that was thrown as a result of the
11008           initial resolution attempt. Consequently, if the JAR file contains an entry
11009           that corresponds to a class for which the Java virtual machine has
11010           unsuccessfully attempted to resolve a reference, then subsequent attempts to
11011           resolve that reference will fail with the same error as the initial attempt.
11012       &lt;/description&gt;
11013       &lt;origin&gt;new&lt;/origin&gt;
11014       &lt;capabilities&gt;
11015       &lt;/capabilities&gt;
11016       &lt;parameters&gt;
11017         &lt;param id=&quot;segment&quot;&gt;
11018           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
11019           &lt;description&gt;
11020             The platform-dependent search path segment, encoded as a
11021             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11022           &lt;/description&gt;
11023         &lt;/param&gt;
11024       &lt;/parameters&gt;
11025       &lt;errors&gt;
11026         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
11027           &lt;paramlink id=&quot;segment&quot;/&gt; is an invalid path. In the live phase, anything other than an
11028            existing JAR file is an invalid path.
11029         &lt;/error&gt;
11030       &lt;/errors&gt;
11031     &lt;/function&gt;
11032 
11033     &lt;function id=&quot;AddToSystemClassLoaderSearch&quot; jkernel=&quot;yes&quot; phase=&quot;onload&quot; num=&quot;151&quot; since=&quot;1.1&quot;&gt;
11034       &lt;synopsis&gt;Add To System Class Loader Search&lt;/synopsis&gt;
11035       &lt;description&gt;
11036           This function can be used to cause instrumentation classes to be
11037           defined by the system class loader. See &lt;vmspec chapter=&quot;5.3.2&quot;/&gt;.
11038           After the class loader unsuccessfully searches for a class, the specified platform-dependent search
11039           path &lt;paramlink id=&quot;segment&quot;/&gt; will be searched as well. Only one segment may be specified in the
11040           &lt;paramlink id=&quot;segment&quot;/&gt;. This function may be called multiple times to add multiple segments, the
11041           segments will be searched in the order that this function was called.
11042           &lt;p/&gt;
11043           In the &lt;code&gt;OnLoad&lt;/code&gt; phase the function may be used to specify any platform-dependent
11044           search path segment to be searched after the system class loader unsuccessfully searches
11045           for a class. The segment is typically a directory or JAR file.
11046           &lt;p/&gt;
11047           In the live phase the &lt;paramlink id=&quot;segment&quot;/&gt; is a platform-dependent path to a
11048           &lt;externallink id=&quot;jar/jar.html&quot;&gt;JAR file&lt;/externallink&gt; to be
11049           searched after the system class loader unsuccessfully searches for a class. The agent should
11050           take care that the JAR file does not contain any classes or resources other than those to be
11051           defined by the system class loader for the purposes of instrumentation.
11052           &lt;p/&gt;
11053           In the live phase the system class loader supports adding a JAR file to be searched if
11054           the system class loader implements a method name &lt;code&gt;appendToClassPathForInstrumentation&lt;/code&gt;
11055           which takes a single parameter of type &lt;code&gt;java.lang.String&lt;/code&gt;. The method is not required
11056           to have &lt;code&gt;public&lt;/code&gt; access.
11057           &lt;p/&gt;
11058           &lt;vmspec/&gt; specifies that a subsequent attempt to resolve a symbolic
11059           reference that the Java virtual machine has previously unsuccessfully attempted
11060           to resolve always fails with the same error that was thrown as a result of the
11061           initial resolution attempt. Consequently, if the JAR file contains an entry
11062           that corresponds to a class for which the Java virtual machine has
11063           unsuccessfully attempted to resolve a reference, then subsequent attempts to
11064           resolve that reference will fail with the same error as the initial attempt.
11065       &lt;/description&gt;
11066       &lt;origin&gt;new&lt;/origin&gt;
11067       &lt;capabilities&gt;
11068       &lt;/capabilities&gt;
11069       &lt;parameters&gt;
11070         &lt;param id=&quot;segment&quot;&gt;
11071           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
11072           &lt;description&gt;
11073             The platform-dependent search path segment, encoded as a
11074             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11075           &lt;/description&gt;
11076         &lt;/param&gt;
11077       &lt;/parameters&gt;
11078       &lt;errors&gt;
11079         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
11080           &lt;paramlink id=&quot;segment&quot;/&gt; is an invalid path. In the live phase, anything other than an
11081            existing JAR file is an invalid path.
11082         &lt;/error&gt;
11083         &lt;error id=&quot;JVMTI_ERROR_CLASS_LOADER_UNSUPPORTED&quot;&gt;
11084           Operation not supported by the system class loader.
11085         &lt;/error&gt;
11086       &lt;/errors&gt;
11087     &lt;/function&gt;
11088 
11089   &lt;/category&gt;
11090 
11091 
11092   &lt;category id=&quot;props&quot; label=&quot;System Properties&quot;&gt;
11093 
11094     &lt;intro&gt;
11095       These functions get and set system properties.
11096     &lt;/intro&gt;
11097 
11098     &lt;function id=&quot;GetSystemProperties&quot; phase=&quot;onload&quot; num=&quot;130&quot;&gt;
11099       &lt;synopsis&gt;Get System Properties&lt;/synopsis&gt;
11100       &lt;description&gt;
11101         The list of VM system property keys which may be used with
11102         &lt;functionlink id=&quot;GetSystemProperty&quot;/&gt; is returned.
11103         It is strongly recommended that virtual machines provide the
11104         following property keys:
11105         &lt;ul&gt;
11106           &lt;li&gt;&lt;code&gt;java.vm.vendor&lt;/code&gt;&lt;/li&gt;
11107           &lt;li&gt;&lt;code&gt;java.vm.version&lt;/code&gt;&lt;/li&gt;
11108           &lt;li&gt;&lt;code&gt;java.vm.name&lt;/code&gt;&lt;/li&gt;
11109           &lt;li&gt;&lt;code&gt;java.vm.info&lt;/code&gt;&lt;/li&gt;
11110           &lt;li&gt;&lt;code&gt;java.library.path&lt;/code&gt;&lt;/li&gt;
11111           &lt;li&gt;&lt;code&gt;java.class.path&lt;/code&gt;&lt;/li&gt;
11112         &lt;/ul&gt;
11113         Provides access to system properties defined by and used
11114         by the VM.
11115         Properties set on the command-line are included.
11116         This allows getting and setting of these properties
11117         before the VM even begins executing bytecodes.
11118         Since this is a VM view of system properties, the set of available
11119         properties will usually be different than that
11120         in &lt;code&gt;java.lang.System.getProperties&lt;/code&gt;.
11121         JNI method invocation may be used to access
11122         &lt;code&gt;java.lang.System.getProperties&lt;/code&gt;.
11123         &lt;p/&gt;
11124         The set of properties may grow during execution.
11125       &lt;/description&gt;
11126       &lt;origin&gt;new&lt;/origin&gt;
11127       &lt;capabilities&gt;
11128       &lt;/capabilities&gt;
11129       &lt;parameters&gt;
11130         &lt;param id=&quot;count_ptr&quot;&gt;
11131           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
11132           &lt;description&gt;
11133             On return, points to the number of property keys returned.
11134           &lt;/description&gt;
11135         &lt;/param&gt;
11136         &lt;param id=&quot;property_ptr&quot;&gt;
11137           &lt;allocallocbuf outcount=&quot;count_ptr&quot;&gt;&lt;char/&gt;&lt;/allocallocbuf&gt;
11138           &lt;description&gt;
11139             On return, points to an array of property keys, encoded as
11140             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; strings.
11141           &lt;/description&gt;
11142         &lt;/param&gt;
11143       &lt;/parameters&gt;
11144       &lt;errors&gt;
11145       &lt;/errors&gt;
11146     &lt;/function&gt;
11147 
11148     &lt;function id=&quot;GetSystemProperty&quot; phase=&quot;onload&quot; num=&quot;131&quot;&gt;
11149       &lt;synopsis&gt;Get System Property&lt;/synopsis&gt;
11150       &lt;description&gt;
11151         Return a VM system property value given the property key.
11152         &lt;p/&gt;
11153         The function &lt;functionlink id=&quot;GetSystemProperties&quot;/&gt;
11154         returns the set of property keys which may be used.
11155         The properties which can be retrieved may grow during
11156         execution.
11157         &lt;p/&gt;
11158         Since this is a VM view of system properties, the values
11159         of properties may differ from that returned by
11160         &lt;code&gt;java.lang.System.getProperty(String)&lt;/code&gt;.
11161         A typical VM might copy the values of the VM system
11162         properties into the &lt;code&gt;Properties&lt;/code&gt; held by
11163         &lt;code&gt;java.lang.System&lt;/code&gt; during the initialization
11164         of that class. Thereafter any changes to the VM system
11165         properties (with &lt;functionlink id=&quot;SetSystemProperty&quot;/&gt;)
11166         or the &lt;code&gt;java.lang.System&lt;/code&gt; system properties
11167         (with &lt;code&gt;java.lang.System.setProperty(String,String)&lt;/code&gt;)
11168         would cause the values to diverge.
11169         JNI method invocation may be used to access
11170         &lt;code&gt;java.lang.System.getProperty(String)&lt;/code&gt;.
11171       &lt;/description&gt;
11172       &lt;origin&gt;new&lt;/origin&gt;
11173       &lt;capabilities&gt;
11174       &lt;/capabilities&gt;
11175       &lt;parameters&gt;
11176         &lt;param id=&quot;property&quot;&gt;
11177           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
11178           &lt;description&gt;
11179             The key of the property to retrieve, encoded as a
11180             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11181           &lt;/description&gt;
11182         &lt;/param&gt;
11183         &lt;param id=&quot;value_ptr&quot;&gt;
11184           &lt;allocbuf&gt;&lt;char/&gt;&lt;/allocbuf&gt;
11185           &lt;description&gt;
11186             On return, points to the property value, encoded as a
11187             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11188           &lt;/description&gt;
11189         &lt;/param&gt;
11190       &lt;/parameters&gt;
11191       &lt;errors&gt;
11192         &lt;error id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;&gt;
11193           This property is not available.
11194           Use &lt;functionlink id=&quot;GetSystemProperties&quot;/&gt; to find available properties.
11195         &lt;/error&gt;
11196       &lt;/errors&gt;
11197     &lt;/function&gt;
11198 
11199     &lt;function id=&quot;SetSystemProperty&quot; phase=&quot;onloadOnly&quot; num=&quot;132&quot;&gt;
11200       &lt;synopsis&gt;Set System Property&lt;/synopsis&gt;
11201       &lt;description&gt;
11202         Set a VM system property value.
11203         &lt;p/&gt;
11204         The function &lt;functionlink id=&quot;GetSystemProperties&quot;/&gt;
11205         returns the set of property keys, some of these may be settable.
11206         See &lt;functionlink id=&quot;GetSystemProperty&quot;/&gt;.
11207       &lt;/description&gt;
11208       &lt;origin&gt;new&lt;/origin&gt;
11209       &lt;capabilities&gt;
11210       &lt;/capabilities&gt;
11211       &lt;parameters&gt;
11212         &lt;param id=&quot;property&quot;&gt;
11213           &lt;inbuf&gt;&lt;char/&gt;&lt;/inbuf&gt;
11214           &lt;description&gt;
11215             The key of the property, encoded as a
11216             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11217           &lt;/description&gt;
11218         &lt;/param&gt;
11219         &lt;param id=&quot;value_ptr&quot;&gt;
11220           &lt;inbuf&gt;
11221             &lt;char/&gt;
11222             &lt;nullok&gt;
11223               do not set the value, but return &lt;errorlink id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;/&gt;
11224               if the property is not writeable
11225             &lt;/nullok&gt;
11226           &lt;/inbuf&gt;
11227           &lt;description&gt;
11228             The property value to set, encoded as a
11229             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
11230           &lt;/description&gt;
11231         &lt;/param&gt;
11232       &lt;/parameters&gt;
11233       &lt;errors&gt;
11234         &lt;error id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot;&gt;
11235           This property is not available or is not writeable.
11236         &lt;/error&gt;
11237       &lt;/errors&gt;
11238     &lt;/function&gt;
11239 
11240   &lt;/category&gt;
11241 
11242   &lt;category id=&quot;general&quot; label=&quot;General&quot;&gt;
11243 
11244     &lt;intro&gt;
11245     &lt;/intro&gt;
11246 
11247     &lt;function id=&quot;GetPhase&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;133&quot;&gt;
11248       &lt;synopsis&gt;Get Phase&lt;/synopsis&gt;
11249       &lt;description&gt;
11250           Return the current phase of VM execution.
11251           The phases proceed in sequence:
11252           &lt;constants id=&quot;jvmtiPhase&quot; label=&quot;Phases of execution&quot; kind=&quot;enum&quot;&gt;
11253             &lt;constant id=&quot;JVMTI_PHASE_ONLOAD&quot; num=&quot;1&quot;&gt;
11254               &lt;code&gt;OnLoad&lt;/code&gt; phase: while in the
11255               &lt;internallink id=&quot;onload&quot;&gt;&lt;code&gt;Agent_OnLoad&lt;/code&gt;&lt;/internallink&gt;
11256               or, for statically linked agents, the &lt;internallink id=&quot;onload&quot;&gt;
11257               &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;
11258               &lt;/code&gt;&lt;/internallink&gt; function.
11259             &lt;/constant&gt;
11260             &lt;constant id=&quot;JVMTI_PHASE_PRIMORDIAL&quot; num=&quot;2&quot;&gt;
11261               Primordial phase: between return from &lt;code&gt;Agent_OnLoad&lt;/code&gt;
11262               or &lt;code&gt;Agent_OnLoad_&amp;lt;agent-lib-name&amp;gt;&lt;/code&gt; and the
11263               &lt;code&gt;VMStart&lt;/code&gt; event.
11264             &lt;/constant&gt;
11265             &lt;constant id=&quot;JVMTI_PHASE_START&quot; num=&quot;6&quot;&gt;
11266               Start phase: when the &lt;eventlink id=&quot;VMStart&quot;&gt;&lt;code&gt;VMStart&lt;/code&gt;&lt;/eventlink&gt; event
11267               is sent and until the &lt;code&gt;VMInit&lt;/code&gt; event is sent.
11268             &lt;/constant&gt;
11269             &lt;constant id=&quot;JVMTI_PHASE_LIVE&quot; num=&quot;4&quot;&gt;
11270               Live phase: when the &lt;eventlink id=&quot;VMInit&quot;&gt;&lt;code&gt;VMInit&lt;/code&gt;&lt;/eventlink&gt; event is sent
11271               and until the &lt;eventlink id=&quot;VMDeath&quot;&gt;&lt;/eventlink&gt; event returns.
11272             &lt;/constant&gt;
11273             &lt;constant id=&quot;JVMTI_PHASE_DEAD&quot; num=&quot;8&quot;&gt;
11274               Dead phase: after the &lt;eventlink id=&quot;VMDeath&quot;&gt;&lt;/eventlink&gt; event returns or after
11275               start-up failure.
11276             &lt;/constant&gt;
11277           &lt;/constants&gt;
11278           In the case of start-up failure the VM will proceed directly to the dead
11279           phase skipping intermediate phases and neither a &lt;code&gt;VMInit&lt;/code&gt; nor
11280           &lt;code&gt;VMDeath&lt;/code&gt; event will be sent.
11281           &lt;p/&gt;
11282           Most &lt;jvmti/&gt; functions operate only in the live phase.
11283           The following functions operate in either the &lt;code&gt;OnLoad&lt;/code&gt; or live phases:
11284           &lt;functionphaselist phase=&quot;onload&quot;/&gt;
11285           The following functions operate in only the &lt;code&gt;OnLoad&lt;/code&gt; phase:
11286           &lt;functionphaselist phase=&quot;onloadOnly&quot;/&gt;
11287           The following functions operate in the start or live phases:
11288           &lt;functionphaselist phase=&quot;start&quot;/&gt;
11289           The following functions operate in any phase:
11290           &lt;functionphaselist phase=&quot;any&quot;/&gt;
11291           JNI functions (except the Invocation API) must only be used in the start or live phases.
11292           &lt;p/&gt;
11293           Most &lt;jvmti/&gt; events are sent only in the live phase.
11294           The following events operate in others phases:
11295           &lt;eventphaselist phase=&quot;start&quot;/&gt;
11296           &lt;eventphaselist phase=&quot;any&quot;/&gt;
11297       &lt;/description&gt;
11298       &lt;origin&gt;new&lt;/origin&gt;
11299       &lt;capabilities&gt;
11300       &lt;/capabilities&gt;
11301       &lt;parameters&gt;
11302         &lt;param id=&quot;phase_ptr&quot;&gt;
11303           &lt;outptr&gt;&lt;enum&gt;jvmtiPhase&lt;/enum&gt;&lt;/outptr&gt;
11304           &lt;description&gt;
11305             On return, points to the phase.
11306           &lt;/description&gt;
11307         &lt;/param&gt;
11308       &lt;/parameters&gt;
11309       &lt;errors&gt;
11310       &lt;/errors&gt;
11311     &lt;/function&gt;
11312 
11313     &lt;function id=&quot;DisposeEnvironment&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;127&quot;&gt;
11314       &lt;synopsis&gt;Dispose Environment&lt;/synopsis&gt;
11315       &lt;description&gt;
11316         Shutdown a &lt;jvmti/&gt; connection created with JNI &lt;code&gt;GetEnv&lt;/code&gt;
11317         (see &lt;internallink id=&quot;environments&quot;&gt;&lt;jvmti/&gt; Environments&lt;/internallink&gt;).
11318         Dispose of any resources held by the environment.
11319         &lt;issue&gt;
11320             What resources are reclaimed? What is undone?
11321             Breakpoints,watchpoints removed?
11322         &lt;/issue&gt;
11323         Threads suspended by this environment are not resumed by this call,
11324         this must be done explicitly by the agent.
11325         Memory allocated by this environment via calls to &lt;jvmti/&gt; functions
11326         is not released, this can be done explicitly by the agent
11327         by calling &lt;functionlink id=&quot;Deallocate&quot;/&gt;.
11328         Raw monitors created by this environment are not destroyed,
11329         this can be done explicitly by the agent
11330         by calling &lt;functionlink id=&quot;DestroyRawMonitor&quot;/&gt;.
11331         The state of threads waiting on raw monitors created by this environment
11332         are not affected.
11333         &lt;p/&gt;
11334         Any &lt;functionlink id=&quot;SetNativeMethodPrefix&quot;&gt;native method
11335         prefixes&lt;/functionlink&gt; for this environment will be unset;
11336         the agent must remove any prefixed native methods before
11337         dispose is called.
11338         &lt;p/&gt;
11339         Any &lt;internallink id=&quot;capability&quot;&gt;capabilities&lt;/internallink&gt;
11340         held by this environment are relinquished.
11341         &lt;p/&gt;
11342         Events enabled by this environment will no longer be sent, however
11343         event handlers currently running will continue to run.  Caution must
11344         be exercised in the design of event handlers whose environment may
11345         be disposed and thus become invalid during their execution.
11346         &lt;p/&gt;
11347         This environment may not be used after this call.
11348         This call returns to the caller.
11349       &lt;/description&gt;
11350       &lt;origin&gt;new&lt;/origin&gt;
11351       &lt;capabilities&gt;
11352       &lt;/capabilities&gt;
11353       &lt;parameters&gt;
11354       &lt;/parameters&gt;
11355       &lt;errors&gt;
11356       &lt;/errors&gt;
11357     &lt;/function&gt;
11358 
11359     &lt;function id=&quot;SetEnvironmentLocalStorage&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;148&quot;&gt;
11360       &lt;synopsis&gt;Set Environment Local Storage&lt;/synopsis&gt;
11361       &lt;description&gt;
11362         The VM stores a pointer value associated with each environment.
11363         This pointer value is called &lt;i&gt;environment-local storage&lt;/i&gt;.
11364         This value is &lt;code&gt;NULL&lt;/code&gt; unless set with this function.
11365         Agents can allocate memory in which they store environment specific
11366         information. By setting environment-local storage it can then be
11367         accessed with
11368         &lt;functionlink id=&quot;GetEnvironmentLocalStorage&quot;&gt;&lt;/functionlink&gt;.
11369         &lt;p/&gt;
11370         Called by the agent to set the value of the &lt;jvmti/&gt;
11371         environment-local storage. &lt;jvmti/&gt; supplies to the agent a pointer-size
11372         environment-local storage that can be used to record per-environment
11373         information.
11374       &lt;/description&gt;
11375       &lt;origin&gt;new&lt;/origin&gt;
11376       &lt;capabilities&gt;
11377       &lt;/capabilities&gt;
11378       &lt;parameters&gt;
11379         &lt;param id=&quot;data&quot;&gt;
11380           &lt;inbuf&gt;
11381             &lt;void/&gt;
11382             &lt;nullok&gt;value is set to &lt;code&gt;NULL&lt;/code&gt;&lt;/nullok&gt;
11383           &lt;/inbuf&gt;
11384           &lt;description&gt;
11385             The value to be entered into the environment-local storage.
11386           &lt;/description&gt;
11387         &lt;/param&gt;
11388       &lt;/parameters&gt;
11389       &lt;errors&gt;
11390       &lt;/errors&gt;
11391     &lt;/function&gt;
11392 
11393     &lt;function id=&quot;GetEnvironmentLocalStorage&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; callbacksafe=&quot;safe&quot; impl=&quot;innative notrace&quot; num=&quot;147&quot;&gt;
11394       &lt;synopsis&gt;Get Environment Local Storage&lt;/synopsis&gt;
11395       &lt;description&gt;
11396         Called by the agent to get the value of the &lt;jvmti/&gt; environment-local
11397         storage.
11398       &lt;/description&gt;
11399       &lt;origin&gt;new&lt;/origin&gt;
11400       &lt;capabilities&gt;
11401       &lt;/capabilities&gt;
11402       &lt;parameters&gt;
11403         &lt;param id=&quot;data_ptr&quot;&gt;
11404           &lt;agentbuf&gt;&lt;void/&gt;&lt;/agentbuf&gt;
11405           &lt;description&gt;
11406             Pointer through which the value of the environment local
11407             storage is returned.
11408             If environment-local storage has not been set with
11409             &lt;functionlink id=&quot;SetEnvironmentLocalStorage&quot;&gt;&lt;/functionlink&gt; returned
11410             pointer is &lt;code&gt;NULL&lt;/code&gt;.
11411           &lt;/description&gt;
11412         &lt;/param&gt;
11413       &lt;/parameters&gt;
11414       &lt;errors&gt;
11415       &lt;/errors&gt;
11416     &lt;/function&gt;
11417 
11418     &lt;function id=&quot;GetVersionNumber&quot; jkernel=&quot;yes&quot; phase=&quot;any&quot; num=&quot;88&quot;&gt;
11419       &lt;synopsis&gt;Get Version Number&lt;/synopsis&gt;
11420       &lt;description&gt;
11421         Return the &lt;jvmti/&gt; version via &lt;code&gt;version_ptr&lt;/code&gt;.
11422         The return value is the version identifier.
11423         The version identifier includes major, minor and micro
11424         version as well as the interface type.
11425         &lt;constants id=&quot;jvmtiVersionInterfaceTypes&quot; label=&quot;Version Interface Types&quot; kind=&quot;bits&quot;&gt;
11426           &lt;constant id=&quot;JVMTI_VERSION_INTERFACE_JNI&quot; num=&quot;0x00000000&quot;&gt;
11427             Value of &lt;code&gt;JVMTI_VERSION_MASK_INTERFACE_TYPE&lt;/code&gt; for JNI.
11428           &lt;/constant&gt;
11429           &lt;constant id=&quot;JVMTI_VERSION_INTERFACE_JVMTI&quot; num=&quot;0x30000000&quot;&gt;
11430             Value of &lt;code&gt;JVMTI_VERSION_MASK_INTERFACE_TYPE&lt;/code&gt; for &lt;jvmti/&gt;.
11431           &lt;/constant&gt;
11432         &lt;/constants&gt;
11433         &lt;constants id=&quot;jvmtiVersionMasks&quot; label=&quot;Version Masks&quot; kind=&quot;bits&quot;&gt;
11434           &lt;constant id=&quot;JVMTI_VERSION_MASK_INTERFACE_TYPE&quot; num=&quot;0x70000000&quot;&gt;
11435             Mask to extract interface type.
11436             The value of the version returned by this function masked with
11437             &lt;code&gt;JVMTI_VERSION_MASK_INTERFACE_TYPE&lt;/code&gt; is always
11438             &lt;code&gt;JVMTI_VERSION_INTERFACE_JVMTI&lt;/code&gt;
11439             since this is a &lt;jvmti/&gt; function.
11440           &lt;/constant&gt;
11441           &lt;constant id=&quot;JVMTI_VERSION_MASK_MAJOR&quot; num=&quot;0x0FFF0000&quot;&gt;
11442             Mask to extract major version number.
11443           &lt;/constant&gt;
11444           &lt;constant id=&quot;JVMTI_VERSION_MASK_MINOR&quot; num=&quot;0x0000FF00&quot;&gt;
11445             Mask to extract minor version number.
11446           &lt;/constant&gt;
11447           &lt;constant id=&quot;JVMTI_VERSION_MASK_MICRO&quot; num=&quot;0x000000FF&quot;&gt;
11448             Mask to extract micro version number.
11449           &lt;/constant&gt;
11450         &lt;/constants&gt;
11451         &lt;constants id=&quot;jvmtiVersionShifts&quot; label=&quot;Version Shifts&quot; kind=&quot;bits&quot;&gt;
11452           &lt;constant id=&quot;JVMTI_VERSION_SHIFT_MAJOR&quot; num=&quot;16&quot;&gt;
11453             Shift to extract major version number.
11454           &lt;/constant&gt;
11455           &lt;constant id=&quot;JVMTI_VERSION_SHIFT_MINOR&quot; num=&quot;8&quot;&gt;
11456             Shift to extract minor version number.
11457           &lt;/constant&gt;
11458           &lt;constant id=&quot;JVMTI_VERSION_SHIFT_MICRO&quot; num=&quot;0&quot;&gt;
11459             Shift to extract micro version number.
11460           &lt;/constant&gt;
11461         &lt;/constants&gt;
11462       &lt;/description&gt;
11463       &lt;origin&gt;jvmdi&lt;/origin&gt;
11464       &lt;capabilities&gt;
11465       &lt;/capabilities&gt;
11466       &lt;parameters&gt;
11467         &lt;param id=&quot;version_ptr&quot;&gt;
11468           &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
11469           &lt;description&gt;
11470             On return, points to the &lt;jvmti/&gt; version.
11471           &lt;/description&gt;
11472         &lt;/param&gt;
11473       &lt;/parameters&gt;
11474       &lt;errors&gt;
11475       &lt;/errors&gt;
11476     &lt;/function&gt;
11477 
11478 
11479     &lt;function id=&quot;GetErrorName&quot; phase=&quot;any&quot; num=&quot;128&quot;&gt;
11480       &lt;synopsis&gt;Get Error Name&lt;/synopsis&gt;
11481       &lt;description&gt;
11482         Return the symbolic name for an
11483           &lt;internallink id=&quot;ErrorSection&quot;&gt;error code&lt;/internallink&gt;.
11484         &lt;p/&gt;
11485         For example
11486         &lt;code&gt;GetErrorName(env, JVMTI_ERROR_NONE, &amp;amp;err_name)&lt;/code&gt;
11487         would return in &lt;code&gt;err_name&lt;/code&gt; the string
11488         &lt;code&gt;&quot;JVMTI_ERROR_NONE&quot;&lt;/code&gt;.
11489       &lt;/description&gt;
11490       &lt;origin&gt;new&lt;/origin&gt;
11491       &lt;capabilities&gt;
11492       &lt;/capabilities&gt;
11493       &lt;parameters&gt;
11494         &lt;param id=&quot;error&quot;&gt;
11495           &lt;enum&gt;jvmtiError&lt;/enum&gt;
11496           &lt;description&gt;
11497             The error code.
11498           &lt;/description&gt;
11499         &lt;/param&gt;
11500         &lt;param id=&quot;name_ptr&quot;&gt;
11501           &lt;allocbuf&gt;&lt;char/&gt;&lt;/allocbuf&gt;
11502           &lt;description&gt;
11503             On return, points to the error name.
11504             The name is encoded as a
11505             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string,
11506             but is restricted to the ASCII subset.
11507           &lt;/description&gt;
11508         &lt;/param&gt;
11509       &lt;/parameters&gt;
11510       &lt;errors&gt;
11511       &lt;/errors&gt;
11512     &lt;/function&gt;
11513 
11514     &lt;function id=&quot;SetVerboseFlag&quot; phase=&quot;any&quot; num=&quot;150&quot;&gt;
11515       &lt;synopsis&gt;Set Verbose Flag&lt;/synopsis&gt;
11516       &lt;description&gt;
11517         &lt;constants id=&quot;jvmtiVerboseFlag&quot; label=&quot;Verbose Flag Enumeration&quot; kind=&quot;enum&quot;&gt;
11518           &lt;constant id=&quot;JVMTI_VERBOSE_OTHER&quot; num=&quot;0&quot;&gt;
11519             Verbose output other than the below.
11520           &lt;/constant&gt;
11521           &lt;constant id=&quot;JVMTI_VERBOSE_GC&quot; num=&quot;1&quot;&gt;
11522             Verbose garbage collector output, like that specified with &lt;code&gt;-verbose:gc&lt;/code&gt;.
11523           &lt;/constant&gt;
11524           &lt;constant id=&quot;JVMTI_VERBOSE_CLASS&quot; num=&quot;2&quot;&gt;
11525             Verbose class loading output, like that specified with &lt;code&gt;-verbose:class&lt;/code&gt;.
11526           &lt;/constant&gt;
11527           &lt;constant id=&quot;JVMTI_VERBOSE_JNI&quot; num=&quot;4&quot;&gt;
11528             Verbose JNI output, like that specified with &lt;code&gt;-verbose:jni&lt;/code&gt;.
11529           &lt;/constant&gt;
11530         &lt;/constants&gt;
11531         Control verbose output.
11532         This is the output which typically is sent to &lt;code&gt;stderr&lt;/code&gt;.
11533       &lt;/description&gt;
11534       &lt;origin&gt;new&lt;/origin&gt;
11535       &lt;capabilities&gt;
11536       &lt;/capabilities&gt;
11537       &lt;parameters&gt;
11538         &lt;param id=&quot;flag&quot;&gt;
11539           &lt;enum&gt;jvmtiVerboseFlag&lt;/enum&gt;
11540           &lt;description&gt;
11541             Which verbose flag to set.
11542           &lt;/description&gt;
11543         &lt;/param&gt;
11544         &lt;param id=&quot;value&quot;&gt;
11545           &lt;jboolean/&gt;
11546           &lt;description&gt;
11547             New value of the flag.
11548           &lt;/description&gt;
11549         &lt;/param&gt;
11550       &lt;/parameters&gt;
11551       &lt;errors&gt;
11552       &lt;/errors&gt;
11553     &lt;/function&gt;
11554 
11555 
11556     &lt;function id=&quot;GetJLocationFormat&quot; phase=&quot;any&quot; num=&quot;129&quot;&gt;
11557       &lt;synopsis&gt;Get JLocation Format&lt;/synopsis&gt;
11558       &lt;description&gt;
11559         Although the greatest functionality is achieved with location information
11560         referencing the virtual machine bytecode index, the definition of
11561         &lt;code&gt;jlocation&lt;/code&gt; has intentionally been left unconstrained to allow VM
11562         implementations that do not have this information.
11563         &lt;p/&gt;
11564         This function describes the representation of &lt;code&gt;jlocation&lt;/code&gt; used in this VM.
11565         If the returned format is &lt;datalink id=&quot;JVMTI_JLOCATION_JVMBCI&quot;&gt;&lt;/datalink&gt;,
11566         &lt;code&gt;jlocation&lt;/code&gt;s can
11567         be used as in indices into the array returned by
11568         &lt;functionlink id=&quot;GetBytecodes&quot;&gt;&lt;/functionlink&gt;.
11569         &lt;constants id=&quot;jvmtiJlocationFormat&quot; label=&quot;JLocation Format Enumeration&quot; kind=&quot;enum&quot;&gt;
11570           &lt;constant id=&quot;JVMTI_JLOCATION_JVMBCI&quot; num=&quot;1&quot;&gt;
11571             &lt;code&gt;jlocation&lt;/code&gt; values represent virtual machine
11572             bytecode indices--that is, offsets into the
11573             virtual machine code for a method.
11574           &lt;/constant&gt;
11575           &lt;constant id=&quot;JVMTI_JLOCATION_MACHINEPC&quot; num=&quot;2&quot;&gt;
11576             &lt;code&gt;jlocation&lt;/code&gt; values represent native machine
11577             program counter values.
11578           &lt;/constant&gt;
11579           &lt;constant id=&quot;JVMTI_JLOCATION_OTHER&quot; num=&quot;0&quot;&gt;
11580             &lt;code&gt;jlocation&lt;/code&gt; values have some other representation.
11581           &lt;/constant&gt;
11582         &lt;/constants&gt;
11583       &lt;/description&gt;
11584       &lt;origin&gt;new&lt;/origin&gt;
11585       &lt;capabilities&gt;
11586       &lt;/capabilities&gt;
11587       &lt;parameters&gt;
11588         &lt;param id=&quot;format_ptr&quot;&gt;
11589           &lt;outptr&gt;&lt;enum&gt;jvmtiJlocationFormat&lt;/enum&gt;&lt;/outptr&gt;
11590           &lt;description&gt;
11591             On return, points to the format identifier for &lt;code&gt;jlocation&lt;/code&gt; values.
11592           &lt;/description&gt;
11593         &lt;/param&gt;
11594       &lt;/parameters&gt;
11595       &lt;errors&gt;
11596       &lt;/errors&gt;
11597     &lt;/function&gt;
11598 
11599   &lt;/category&gt;
11600 
11601   &lt;category id=&quot;heap_monitoring&quot; label=&quot;Heap Monitoring&quot;&gt;
11602     &lt;function id=&quot;SetHeapSamplingInterval&quot; phase=&quot;onload&quot; num=&quot;156&quot; since=&quot;11&quot;&gt;
11603       &lt;synopsis&gt;Set Heap Sampling Interval&lt;/synopsis&gt;
11604       &lt;description&gt;
11605         Generate a &lt;eventlink id=&quot;SampledObjectAlloc&quot;/&gt; event when objects are allocated.
11606         Each thread keeps a counter of bytes allocated. The event will only be generated
11607         when that counter exceeds an average of &lt;paramlink id=&quot;sampling_interval&quot;&gt;&lt;/paramlink&gt;
11608         since the last sample.
11609         &lt;p/&gt;
11610         Setting &lt;paramlink id=&quot;sampling_interval&quot;&gt;&lt;/paramlink&gt; to 0 will cause an event to be
11611         generated by each allocation supported by the system once the new interval is taken into account.
11612         &lt;p/&gt;
11613         Note that updating the new sampling interval might take various number of allocations
11614         to provoke internal data structure updates.  Therefore it is important to
11615         consider the sampling interval as an average. This includes the interval 0, where events
11616         might not be generated straight away for each allocation.
11617       &lt;/description&gt;
11618       &lt;origin&gt;new&lt;/origin&gt;
11619       &lt;capabilities&gt;
11620         &lt;required id=&quot;can_generate_sampled_object_alloc_events&quot;&gt;&lt;/required&gt;
11621       &lt;/capabilities&gt;
11622       &lt;parameters&gt;
11623         &lt;param id=&quot;sampling_interval&quot;&gt;
11624           &lt;jint/&gt;
11625           &lt;description&gt;
11626             The sampling interval in bytes. The sampler uses a statistical approach to
11627             generate an event, on average, once for every &lt;paramlink id=&quot;sampling_interval&quot;/&gt; bytes of
11628             memory allocated by a given thread.
11629             &lt;p/&gt;
11630             Once the new sampling interval is taken into account, 0 as a sampling interval will generate
11631             a sample for every allocation.
11632             &lt;p/&gt;
11633             Note: The overhead of this feature is directly correlated with the sampling interval.
11634             A high sampling interval, such as 1024 bytes, will incur a high overhead.
11635             A lower interval, such as 1024KB, will have a much lower overhead.  Sampling should only
11636             be used with an understanding that it may impact performance.
11637           &lt;/description&gt;
11638         &lt;/param&gt;
11639       &lt;/parameters&gt;
11640       &lt;errors&gt;
11641         &lt;error id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot;&gt;
11642           &lt;paramlink id=&quot;sampling_interval&quot;&gt;&lt;/paramlink&gt; is less than zero.
11643         &lt;/error&gt;
11644       &lt;/errors&gt;
11645     &lt;/function&gt;
11646   &lt;/category&gt;
11647 
11648 &lt;/functionsection&gt;
11649 
11650 &lt;errorsection label=&quot;Error Reference&quot;&gt;
11651   &lt;intro&gt;
11652     Every &lt;jvmti/&gt; function returns a &lt;b&gt;&lt;code&gt;jvmtiError&lt;/code&gt;&lt;/b&gt; error code.
11653     &lt;p/&gt;
11654     It is the responsibility of the agent to call &lt;jvmti/&gt; functions with
11655     valid parameters and in the proper context (calling thread is attached,
11656     phase is correct, etc.).
11657     Detecting some error conditions may be difficult, inefficient, or
11658     impossible for an implementation.
11659     The errors listed in
11660     &lt;internallink id=&quot;reqerrors&quot;&gt;Function Specific Required Errors&lt;/internallink&gt;
11661     must be detected by the implementation.
11662     All other errors represent the recommended response to the error
11663     condition.
11664   &lt;/intro&gt;
11665 
11666   &lt;errorcategory id=&quot;universal-error&quot; label=&quot;Universal Errors&quot;&gt;
11667     &lt;intro&gt;
11668       The following errors may be returned by any function
11669     &lt;/intro&gt;
11670 
11671     &lt;errorid id=&quot;JVMTI_ERROR_NONE&quot; num=&quot;0&quot;&gt;
11672       No error has occurred.  This is the error code that is returned
11673       on successful completion of the function.
11674     &lt;/errorid&gt;
11675     &lt;errorid id=&quot;JVMTI_ERROR_NULL_POINTER&quot; num=&quot;100&quot;&gt;
11676       Pointer is unexpectedly &lt;code&gt;NULL&lt;/code&gt;.
11677     &lt;/errorid&gt;
11678     &lt;errorid id=&quot;JVMTI_ERROR_OUT_OF_MEMORY&quot; num=&quot;110&quot;&gt;
11679       The function attempted to allocate memory and no more memory was
11680       available for allocation.
11681     &lt;/errorid&gt;
11682     &lt;errorid id=&quot;JVMTI_ERROR_ACCESS_DENIED&quot; num=&quot;111&quot;&gt;
11683       The desired functionality has not been enabled in this virtual machine.
11684     &lt;/errorid&gt;
11685     &lt;errorid id=&quot;JVMTI_ERROR_UNATTACHED_THREAD&quot; num=&quot;115&quot;&gt;
11686       The thread being used to call this function is not attached
11687       to the virtual machine.  Calls must be made from attached threads.
11688       See &lt;code&gt;AttachCurrentThread&lt;/code&gt; in the JNI invocation API.
11689     &lt;/errorid&gt;
11690     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_ENVIRONMENT&quot; num=&quot;116&quot;&gt;
11691       The &lt;jvmti/&gt; environment provided is no longer connected or is
11692       not an environment.
11693     &lt;/errorid&gt;
11694     &lt;errorid id=&quot;JVMTI_ERROR_WRONG_PHASE&quot; num=&quot;112&quot;&gt;
11695       The desired functionality is not available in the current
11696         &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;.
11697       Always returned if the virtual machine has completed running.
11698     &lt;/errorid&gt;
11699     &lt;errorid id=&quot;JVMTI_ERROR_INTERNAL&quot; num=&quot;113&quot;&gt;
11700       An unexpected internal error has occurred.
11701     &lt;/errorid&gt;
11702   &lt;/errorcategory&gt;
11703 
11704   &lt;errorcategory id=&quot;reqerrors&quot; label=&quot;Function Specific Required Errors&quot;&gt;
11705     &lt;intro&gt;
11706       The following errors are returned by some &lt;jvmti/&gt; functions and must
11707       be returned by the implementation when the condition occurs.
11708     &lt;/intro&gt;
11709 
11710     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_PRIORITY&quot; num=&quot;12&quot;&gt;
11711       Invalid priority.
11712     &lt;/errorid&gt;
11713     &lt;errorid id=&quot;JVMTI_ERROR_THREAD_NOT_SUSPENDED&quot; num=&quot;13&quot;&gt;
11714       Thread was not suspended.
11715     &lt;/errorid&gt;
11716     &lt;errorid id=&quot;JVMTI_ERROR_THREAD_SUSPENDED&quot; num=&quot;14&quot;&gt;
11717       Thread already suspended.
11718     &lt;/errorid&gt;
11719     &lt;errorid id=&quot;JVMTI_ERROR_THREAD_NOT_ALIVE&quot; num=&quot;15&quot;&gt;
11720       This operation requires the thread to be alive--that is,
11721       it must be started and not yet have died.
11722     &lt;/errorid&gt;
11723     &lt;errorid id=&quot;JVMTI_ERROR_CLASS_NOT_PREPARED&quot; num=&quot;22&quot;&gt;
11724       The class has been loaded but not yet prepared.
11725     &lt;/errorid&gt;
11726     &lt;errorid id=&quot;JVMTI_ERROR_NO_MORE_FRAMES&quot; num=&quot;31&quot;&gt;
11727       There are no Java programming language or JNI stack frames at the specified depth.
11728     &lt;/errorid&gt;
11729     &lt;errorid id=&quot;JVMTI_ERROR_OPAQUE_FRAME&quot; num=&quot;32&quot;&gt;
11730       Information about the frame is not available (e.g. for native frames).
11731     &lt;/errorid&gt;
11732     &lt;errorid id=&quot;JVMTI_ERROR_DUPLICATE&quot; num=&quot;40&quot;&gt;
11733       Item already set.
11734     &lt;/errorid&gt;
11735     &lt;errorid id=&quot;JVMTI_ERROR_NOT_FOUND&quot; num=&quot;41&quot;&gt;
11736       Desired element (e.g. field or breakpoint) not found
11737     &lt;/errorid&gt;
11738     &lt;errorid id=&quot;JVMTI_ERROR_NOT_MONITOR_OWNER&quot; num=&quot;51&quot;&gt;
11739       This thread doesn&#39;t own the raw monitor.
11740     &lt;/errorid&gt;
11741     &lt;errorid id=&quot;JVMTI_ERROR_INTERRUPT&quot; num=&quot;52&quot;&gt;
11742       The call has been interrupted before completion.
11743     &lt;/errorid&gt;
11744     &lt;errorid id=&quot;JVMTI_ERROR_UNMODIFIABLE_CLASS&quot; num=&quot;79&quot;&gt;
11745       The class cannot be modified.
11746     &lt;/errorid&gt;
11747     &lt;errorid id=&quot;JVMTI_ERROR_UNMODIFIABLE_MODULE&quot; num=&quot;80&quot;&gt;
11748       The module cannot be modified.
11749     &lt;/errorid&gt;
11750     &lt;errorid id=&quot;JVMTI_ERROR_NOT_AVAILABLE&quot; num=&quot;98&quot;&gt;
11751       The functionality is not available in this virtual machine.
11752     &lt;/errorid&gt;
11753     &lt;errorid id=&quot;JVMTI_ERROR_ABSENT_INFORMATION&quot; num=&quot;101&quot;&gt;
11754       The requested information is not available.
11755     &lt;/errorid&gt;
11756     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_EVENT_TYPE&quot; num=&quot;102&quot;&gt;
11757       The specified event type ID is not recognized.
11758     &lt;/errorid&gt;
11759     &lt;errorid id=&quot;JVMTI_ERROR_NATIVE_METHOD&quot; num=&quot;104&quot;&gt;
11760       The requested information is not available for native method.
11761     &lt;/errorid&gt;
11762     &lt;errorid id=&quot;JVMTI_ERROR_CLASS_LOADER_UNSUPPORTED&quot; num=&quot;106&quot;&gt;
11763       The class loader does not support this operation.
11764     &lt;/errorid&gt;
11765   &lt;/errorcategory&gt;
11766 
11767   &lt;errorcategory id=&quot;function-specific-errors&quot; label=&quot;Function Specific Agent Errors&quot;&gt;
11768     &lt;intro&gt;
11769       The following errors are returned by some &lt;jvmti/&gt; functions.
11770       They are returned in the event of invalid parameters passed by the
11771       agent or usage in an invalid context.
11772       An implementation is not required to detect these errors.
11773     &lt;/intro&gt;
11774 
11775     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_THREAD&quot; num=&quot;10&quot;&gt;
11776       The passed thread is not a valid thread.
11777     &lt;/errorid&gt;
11778     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_FIELDID&quot; num=&quot;25&quot;&gt;
11779       Invalid field.
11780     &lt;/errorid&gt;
11781     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_MODULE&quot; num=&quot;26&quot;&gt;
11782       Invalid module.
11783     &lt;/errorid&gt;
11784     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_METHODID&quot; num=&quot;23&quot;&gt;
11785       Invalid method.
11786     &lt;/errorid&gt;
11787     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_LOCATION&quot; num=&quot;24&quot;&gt;
11788       Invalid location.
11789     &lt;/errorid&gt;
11790     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_OBJECT&quot; num=&quot;20&quot;&gt;
11791       Invalid object.
11792     &lt;/errorid&gt;
11793     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_CLASS&quot; num=&quot;21&quot;&gt;
11794       Invalid class.
11795     &lt;/errorid&gt;
11796     &lt;errorid id=&quot;JVMTI_ERROR_TYPE_MISMATCH&quot; num=&quot;34&quot;&gt;
11797       The variable is not an appropriate type for the function used.
11798     &lt;/errorid&gt;
11799     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_SLOT&quot; num=&quot;35&quot;&gt;
11800       Invalid slot.
11801     &lt;/errorid&gt;
11802     &lt;errorid id=&quot;JVMTI_ERROR_MUST_POSSESS_CAPABILITY&quot; num=&quot;99&quot;&gt;
11803       The capability being used is false in this environment.
11804     &lt;/errorid&gt;
11805     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_THREAD_GROUP&quot; num=&quot;11&quot;&gt;
11806       Thread group invalid.
11807     &lt;/errorid&gt;
11808     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_MONITOR&quot; num=&quot;50&quot;&gt;
11809       Invalid raw monitor.
11810     &lt;/errorid&gt;
11811     &lt;errorid id=&quot;JVMTI_ERROR_ILLEGAL_ARGUMENT&quot; num=&quot;103&quot;&gt;
11812       Illegal argument.
11813     &lt;/errorid&gt;
11814     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_TYPESTATE&quot; num=&quot;65&quot;&gt;
11815       The state of the thread has been modified, and is now inconsistent.
11816     &lt;/errorid&gt;
11817     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_VERSION&quot; num=&quot;68&quot;&gt;
11818       A new class file has a version number not supported by this VM.
11819     &lt;/errorid&gt;
11820     &lt;errorid id=&quot;JVMTI_ERROR_INVALID_CLASS_FORMAT&quot; num=&quot;60&quot;&gt;
11821       A new class file is malformed (the VM would return a &lt;code&gt;ClassFormatError&lt;/code&gt;).
11822     &lt;/errorid&gt;
11823     &lt;errorid id=&quot;JVMTI_ERROR_CIRCULAR_CLASS_DEFINITION&quot; num=&quot;61&quot;&gt;
11824       The new class file definitions would lead to a circular
11825       definition (the VM would return a &lt;code&gt;ClassCircularityError&lt;/code&gt;).
11826     &lt;/errorid&gt;
11827     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_ADDED&quot; num=&quot;63&quot;&gt;
11828       A new class file would require adding a method.
11829     &lt;/errorid&gt;
11830     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_SCHEMA_CHANGED&quot; num=&quot;64&quot;&gt;
11831       A new class version changes a field.
11832     &lt;/errorid&gt;
11833     &lt;errorid id=&quot;JVMTI_ERROR_FAILS_VERIFICATION&quot; num=&quot;62&quot;&gt;
11834       The class bytes fail verification.
11835     &lt;/errorid&gt;
11836     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_HIERARCHY_CHANGED&quot; num=&quot;66&quot;&gt;
11837       A direct superclass is different for the new class
11838       version, or the set of directly implemented
11839       interfaces is different.
11840     &lt;/errorid&gt;
11841     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_DELETED&quot; num=&quot;67&quot;&gt;
11842       A new class version does not declare a method
11843       declared in the old class version.
11844     &lt;/errorid&gt;
11845     &lt;errorid id=&quot;JVMTI_ERROR_NAMES_DONT_MATCH&quot; num=&quot;69&quot;&gt;
11846       The class name defined in the new class file is
11847       different from the name in the old class object.
11848     &lt;/errorid&gt;
11849     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_MODIFIERS_CHANGED&quot; num=&quot;70&quot;&gt;
11850       A new class version has different modifiers.
11851     &lt;/errorid&gt;
11852     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_MODIFIERS_CHANGED&quot; num=&quot;71&quot;&gt;
11853       A method in the new class version has different modifiers
11854       than its counterpart in the old class version.
11855     &lt;/errorid&gt;
11856     &lt;errorid id=&quot;JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_ATTRIBUTE_CHANGED&quot; num=&quot;72&quot;&gt;
11857       A new class version has unsupported differences in class attributes.
11858     &lt;/errorid&gt;
11859   &lt;/errorcategory&gt;
11860 &lt;/errorsection&gt;
11861 
11862 &lt;eventsection label=&quot;Events&quot;&gt;
11863   &lt;intro label=&quot;Handling Events&quot; id=&quot;eventIntro&quot;&gt;
11864     Agents can be informed of many events that occur in application
11865     programs.
11866     &lt;p/&gt;
11867     To handle events, designate a set of callback functions with
11868     &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt;.
11869     For each event the corresponding callback function will be
11870     called.
11871     Arguments to the callback function provide additional
11872     information about the event.
11873     &lt;p/&gt;
11874     The callback function is usually called from within an application
11875     thread. The &lt;jvmti/&gt; implementation does not
11876     queue events in any way. This means
11877     that event callback functions must be written
11878     carefully. Here are some general guidelines. See
11879     the individual event descriptions for further
11880     suggestions.
11881     &lt;p/&gt;
11882     &lt;ul&gt;
11883       &lt;li&gt;Any exception thrown during the execution of an event callback can
11884         overwrite any current pending exception in the current application thread.
11885         Care must be taken to preserve a pending exception
11886         when an event callback makes a JNI call that might generate an exception.
11887       &lt;/li&gt;
11888       &lt;li&gt;Event callback functions must be re-entrant. The &lt;jvmti/&gt; implementation does
11889         not queue events. If an agent needs to process events one at a time, it
11890         can use a raw monitor inside the
11891         event callback functions to serialize event processing.
11892       &lt;/li&gt;
11893       &lt;li&gt;Event callback functions that execute JNI&#39;s FindClass function to load
11894         classes need to note that FindClass locates the class loader associated
11895         with the current native method. For the purposes of class loading, an
11896         event callback that includes a JNI environment as a parameter to the
11897         callback will treated as if it is a native call, where the native method
11898         is in the class of the event thread&#39;s current frame.
11899       &lt;/li&gt;
11900     &lt;/ul&gt;
11901     &lt;p/&gt;
11902     Some &lt;jvmti/&gt; events identify objects with JNI references.
11903     All references
11904     in &lt;jvmti/&gt; events are JNI local references and will become invalid
11905     after the event callback returns.
11906     Unless stated otherwise, memory referenced by pointers sent in event
11907     callbacks may not be referenced after the event callback returns.
11908     &lt;p/&gt;
11909     Except where stated otherwise, events are delivered on the thread
11910     that caused the event.
11911     Events are sent at the time they occur.
11912     The specification for each event includes the set of
11913     &lt;functionlink id=&quot;GetPhase&quot;&gt;phases&lt;/functionlink&gt; in which it can be sent;
11914     if an event triggering activity occurs during another phase, no event
11915     is sent.
11916     &lt;p/&gt;
11917     A thread that generates an event does not change its execution status
11918     (for example, the event does not cause the thread to be suspended).
11919     If an agent wishes the event to result in suspension, then the agent
11920     is responsible for explicitly suspending the thread with
11921     &lt;functionlink id=&quot;SuspendThread&quot;&gt;&lt;/functionlink&gt;.
11922     &lt;p/&gt;
11923     If an event is enabled in multiple environments, the event will be sent
11924     to each agent in the order that the environments were created.
11925   &lt;/intro&gt;
11926 
11927   &lt;intro label=&quot;Enabling Events&quot; id=&quot;enablingevents&quot;&gt;
11928     All events are initially disabled.  In order to receive any
11929     event:
11930       &lt;ul&gt;
11931         &lt;li&gt;
11932           If the event requires a capability, that capability must
11933           be added with
11934           &lt;functionlink id=&quot;AddCapabilities&quot;&gt;&lt;/functionlink&gt;.
11935         &lt;/li&gt;
11936         &lt;li&gt;
11937           A callback for the event must be set with
11938           &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt;.
11939         &lt;/li&gt;
11940         &lt;li&gt;
11941           The event must be enabled with
11942           &lt;functionlink id=&quot;SetEventNotificationMode&quot;&gt;&lt;/functionlink&gt;.
11943         &lt;/li&gt;
11944       &lt;/ul&gt;
11945   &lt;/intro&gt;
11946 
11947   &lt;intro label=&quot;Multiple Co-located Events&quot; id=&quot;eventorder&quot;&gt;
11948     In many situations it is possible for multiple events to occur
11949     at the same location in one thread. When this happens, all the events
11950     are reported through the event callbacks in the order specified in this section.
11951     &lt;p/&gt;
11952     If the current location is at the entry point of a method, the
11953     &lt;eventlink id=&quot;MethodEntry&quot;&gt;&lt;/eventlink&gt; event is reported before
11954     any other event at the current location in the same thread.
11955     &lt;p/&gt;
11956     If an exception catch has been detected at the current location,
11957     either because it is the beginning of a catch clause or a native method
11958     that cleared a pending exception has returned, the
11959     &lt;code&gt;exceptionCatch&lt;/code&gt; event is reported before
11960     any other event at the current location in the same thread.
11961     &lt;p/&gt;
11962     If a &lt;code&gt;singleStep&lt;/code&gt; event or
11963     &lt;code&gt;breakpoint&lt;/code&gt; event is triggered at the
11964     current location, the event is defined to occur
11965     immediately before the code at the current location is executed.
11966     These events are reported before any events which are triggered
11967     by the execution of code at the current location in the same
11968     thread (specifically:
11969     &lt;code&gt;exception&lt;/code&gt;,
11970     &lt;code&gt;fieldAccess&lt;/code&gt;, and
11971     &lt;code&gt;fieldModification&lt;/code&gt;).
11972     If both a step and breakpoint event are triggered for the same thread and
11973     location, the step event is reported before the breakpoint event.
11974     &lt;p/&gt;
11975     If the current location is the exit point of a method (that is, the last
11976     location before returning to the caller), the
11977     &lt;eventlink id=&quot;MethodExit&quot;&gt;&lt;/eventlink&gt; event and
11978     the &lt;eventlink id=&quot;FramePop&quot;&gt;&lt;/eventlink&gt; event (if requested)
11979     are reported after all other events at the current location in the same
11980     thread. There is no specified ordering of these two events
11981     with respect to each other.
11982     &lt;p/&gt;
11983     Co-located events can be triggered during the processing of some other
11984     event by the agent at the same location in the same thread.
11985     If such an event, of type &lt;i&gt;y&lt;/i&gt;, is triggered during the processing of
11986     an event of type &lt;i&gt;x&lt;/i&gt;, and if &lt;i&gt;x&lt;/i&gt;
11987     precedes &lt;i&gt;y&lt;/i&gt; in the ordering specified above, the co-located event
11988     &lt;i&gt;y&lt;/i&gt; is reported for the current thread and location. If &lt;i&gt;x&lt;/i&gt; does not precede
11989     &lt;i&gt;y&lt;/i&gt;, &lt;i&gt;y&lt;/i&gt; is not reported for the current thread and location.
11990     For example, if a breakpoint is set at the current location
11991     during the processing of &lt;eventlink id=&quot;SingleStep&quot;&gt;&lt;/eventlink&gt;,
11992     that breakpoint will be reported before the thread moves off the current
11993     location.
11994     &lt;p/&gt;The following events are never considered to be co-located with
11995     other events.
11996     &lt;ul&gt;
11997       &lt;li&gt;&lt;eventlink id=&quot;VMStart&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
11998       &lt;li&gt;&lt;eventlink id=&quot;VMInit&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
11999       &lt;li&gt;&lt;eventlink id=&quot;VMDeath&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
12000       &lt;li&gt;&lt;eventlink id=&quot;ThreadStart&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
12001       &lt;li&gt;&lt;eventlink id=&quot;ThreadEnd&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
12002       &lt;li&gt;&lt;eventlink id=&quot;ClassLoad&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
12003       &lt;li&gt;&lt;eventlink id=&quot;ClassPrepare&quot;&gt;&lt;/eventlink&gt;&lt;/li&gt;
12004     &lt;/ul&gt;
12005   &lt;/intro&gt;
12006 
12007   &lt;intro label=&quot;Event Callbacks&quot; id=&quot;jvmtiEventCallbacks&quot;&gt;
12008       The event callback structure below is used to specify the handler function
12009       for events.  It is set with the
12010       &lt;functionlink id=&quot;SetEventCallbacks&quot;&gt;&lt;/functionlink&gt; function.
12011   &lt;/intro&gt;
12012 
12013   &lt;event label=&quot;Single Step&quot;
12014          id=&quot;SingleStep&quot; const=&quot;JVMTI_EVENT_SINGLE_STEP&quot; filtered=&quot;thread&quot; num=&quot;60&quot;&gt;
12015     &lt;description&gt;
12016       Single step events allow the agent to trace thread execution
12017       at the finest granularity allowed by the VM. A single step event is
12018       generated whenever a thread reaches a new location.
12019       Typically, single step events represent the completion of one VM
12020       instruction as defined in &lt;vmspec/&gt;. However, some implementations
12021       may define locations differently. In any case the
12022       &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12023       parameters  uniquely identify the current location and allow
12024       the mapping to source file and line number when that information is
12025       available.
12026       &lt;p/&gt;
12027       No single step events are generated from within native methods.
12028     &lt;/description&gt;
12029     &lt;origin&gt;jvmdi&lt;/origin&gt;
12030     &lt;capabilities&gt;
12031       &lt;required id=&quot;can_generate_single_step_events&quot;&gt;&lt;/required&gt;
12032     &lt;/capabilities&gt;
12033     &lt;parameters&gt;
12034       &lt;param id=&quot;jni_env&quot;&gt;
12035         &lt;outptr&gt;
12036           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12037         &lt;/outptr&gt;
12038           &lt;description&gt;
12039             The JNI environment of the event (current) thread
12040           &lt;/description&gt;
12041       &lt;/param&gt;
12042       &lt;param id=&quot;thread&quot;&gt;
12043         &lt;jthread/&gt;
12044           &lt;description&gt;
12045             Thread about to execution a new instruction
12046           &lt;/description&gt;
12047       &lt;/param&gt;
12048       &lt;param id=&quot;klass&quot;&gt;
12049         &lt;jclass method=&quot;method&quot;/&gt;
12050           &lt;description&gt;
12051             Class of the method about to execute a new instruction
12052           &lt;/description&gt;
12053       &lt;/param&gt;
12054       &lt;param id=&quot;method&quot;&gt;
12055         &lt;jmethodID class=&quot;klass&quot;/&gt;
12056           &lt;description&gt;
12057             Method about to execute a new instruction
12058           &lt;/description&gt;
12059       &lt;/param&gt;
12060       &lt;param id=&quot;location&quot;&gt;
12061         &lt;jlocation/&gt;
12062         &lt;description&gt;
12063           Location of the new instruction
12064         &lt;/description&gt;
12065       &lt;/param&gt;
12066     &lt;/parameters&gt;
12067   &lt;/event&gt;
12068 
12069   &lt;event label=&quot;Breakpoint&quot;
12070          id=&quot;Breakpoint&quot; const=&quot;JVMTI_EVENT_BREAKPOINT&quot; filtered=&quot;thread&quot; num=&quot;62&quot;&gt;
12071     &lt;description&gt;
12072       Breakpoint events are generated whenever a thread reaches a location
12073       designated as a breakpoint with &lt;functionlink id=&quot;SetBreakpoint&quot;&gt;&lt;/functionlink&gt;.
12074       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12075       parameters uniquely identify the current location and allow
12076       the mapping to source file and line number when that information is
12077       available.
12078     &lt;/description&gt;
12079     &lt;origin&gt;jvmdi&lt;/origin&gt;
12080     &lt;capabilities&gt;
12081       &lt;required id=&quot;can_generate_breakpoint_events&quot;&gt;&lt;/required&gt;
12082     &lt;/capabilities&gt;
12083     &lt;parameters&gt;
12084       &lt;param id=&quot;jni_env&quot;&gt;
12085         &lt;outptr&gt;
12086           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12087         &lt;/outptr&gt;
12088           &lt;description&gt;
12089             The JNI environment of the event (current) thread.
12090           &lt;/description&gt;
12091       &lt;/param&gt;
12092       &lt;param id=&quot;thread&quot;&gt;
12093         &lt;jthread/&gt;
12094           &lt;description&gt;
12095             Thread that hit the breakpoint
12096           &lt;/description&gt;
12097       &lt;/param&gt;
12098       &lt;param id=&quot;klass&quot;&gt;
12099         &lt;jclass method=&quot;method&quot;/&gt;
12100           &lt;description&gt;
12101             Class of the method that hit the breakpoint
12102           &lt;/description&gt;
12103       &lt;/param&gt;
12104       &lt;param id=&quot;method&quot;&gt;
12105         &lt;jmethodID class=&quot;klass&quot;/&gt;
12106           &lt;description&gt;
12107             Method that hit the breakpoint
12108           &lt;/description&gt;
12109       &lt;/param&gt;
12110       &lt;param id=&quot;location&quot;&gt;
12111         &lt;jlocation/&gt;
12112         &lt;description&gt;
12113           location of the breakpoint
12114         &lt;/description&gt;
12115       &lt;/param&gt;
12116     &lt;/parameters&gt;
12117   &lt;/event&gt;
12118 
12119   &lt;event label=&quot;Field Access&quot;
12120          id=&quot;FieldAccess&quot; const=&quot;JVMTI_EVENT_FIELD_ACCESS&quot; filtered=&quot;thread&quot; num=&quot;63&quot;&gt;
12121     &lt;description&gt;
12122       Field access events are generated whenever a thread accesses
12123       a field that was designated as a watchpoint
12124       with &lt;functionlink id=&quot;SetFieldAccessWatch&quot;&gt;&lt;/functionlink&gt;.
12125       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12126       parameters uniquely identify the current location and allow
12127       the mapping to source file and line number when that information is
12128       available.
12129     &lt;/description&gt;
12130     &lt;origin&gt;jvmdi&lt;/origin&gt;
12131     &lt;capabilities&gt;
12132       &lt;required id=&quot;can_generate_field_access_events&quot;&gt;&lt;/required&gt;
12133     &lt;/capabilities&gt;
12134     &lt;parameters&gt;
12135       &lt;param id=&quot;jni_env&quot;&gt;
12136         &lt;outptr&gt;
12137           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12138         &lt;/outptr&gt;
12139           &lt;description&gt;
12140             The JNI environment of the event (current) thread
12141           &lt;/description&gt;
12142       &lt;/param&gt;
12143       &lt;param id=&quot;thread&quot;&gt;
12144         &lt;jthread/&gt;
12145           &lt;description&gt;
12146             Thread accessing the field
12147           &lt;/description&gt;
12148       &lt;/param&gt;
12149       &lt;param id=&quot;klass&quot;&gt;
12150         &lt;jclass method=&quot;method&quot;/&gt;
12151           &lt;description&gt;
12152             Class of the method where the access is occurring
12153           &lt;/description&gt;
12154       &lt;/param&gt;
12155       &lt;param id=&quot;method&quot;&gt;
12156         &lt;jmethodID class=&quot;klass&quot;/&gt;
12157           &lt;description&gt;
12158             Method where the access is occurring
12159           &lt;/description&gt;
12160       &lt;/param&gt;
12161       &lt;param id=&quot;location&quot;&gt;
12162         &lt;jlocation/&gt;
12163         &lt;description&gt;
12164           Location where the access is occurring
12165         &lt;/description&gt;
12166       &lt;/param&gt;
12167       &lt;param id=&quot;field_klass&quot;&gt;
12168         &lt;jclass field=&quot;field&quot;/&gt;
12169           &lt;description&gt;
12170             Class of the field being accessed
12171           &lt;/description&gt;
12172       &lt;/param&gt;
12173       &lt;param id=&quot;object&quot;&gt;
12174         &lt;jobject/&gt;
12175           &lt;description&gt;
12176             Object with the field being accessed if the field is an
12177             instance field; &lt;code&gt;NULL&lt;/code&gt; otherwise
12178           &lt;/description&gt;
12179       &lt;/param&gt;
12180       &lt;param id=&quot;field&quot;&gt;
12181         &lt;jfieldID class=&quot;field_klass&quot;/&gt;
12182           &lt;description&gt;
12183             Field being accessed
12184           &lt;/description&gt;
12185       &lt;/param&gt;
12186     &lt;/parameters&gt;
12187   &lt;/event&gt;
12188 
12189   &lt;event label=&quot;Field Modification&quot;
12190          id=&quot;FieldModification&quot; const=&quot;JVMTI_EVENT_FIELD_MODIFICATION&quot; filtered=&quot;thread&quot; num=&quot;64&quot;&gt;
12191     &lt;description&gt;
12192       Field modification events are generated whenever a thread modifies
12193       a field that was designated as a watchpoint
12194       with &lt;functionlink id=&quot;SetFieldModificationWatch&quot;&gt;&lt;/functionlink&gt;.
12195       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12196       parameters uniquely identify the current location and allow
12197       the mapping to source file and line number when that information is
12198       available.
12199     &lt;/description&gt;
12200     &lt;origin&gt;jvmdi&lt;/origin&gt;
12201     &lt;capabilities&gt;
12202       &lt;required id=&quot;can_generate_field_modification_events&quot;&gt;&lt;/required&gt;
12203     &lt;/capabilities&gt;
12204     &lt;parameters&gt;
12205       &lt;param id=&quot;jni_env&quot;&gt;
12206         &lt;outptr&gt;
12207           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12208         &lt;/outptr&gt;
12209           &lt;description&gt;
12210             The JNI environment of the event (current) thread
12211           &lt;/description&gt;
12212       &lt;/param&gt;
12213       &lt;param id=&quot;thread&quot;&gt;
12214         &lt;jthread/&gt;
12215           &lt;description&gt;
12216             Thread modifying the field
12217           &lt;/description&gt;
12218       &lt;/param&gt;
12219       &lt;param id=&quot;klass&quot;&gt;
12220         &lt;jclass method=&quot;method&quot;/&gt;
12221           &lt;description&gt;
12222             Class of the method where the modification is occurring
12223           &lt;/description&gt;
12224       &lt;/param&gt;
12225       &lt;param id=&quot;method&quot;&gt;
12226         &lt;jmethodID class=&quot;klass&quot;/&gt;
12227           &lt;description&gt;
12228             Method where the modification is occurring
12229           &lt;/description&gt;
12230       &lt;/param&gt;
12231       &lt;param id=&quot;location&quot;&gt;
12232         &lt;jlocation/&gt;
12233         &lt;description&gt;
12234           Location where the modification is occurring
12235         &lt;/description&gt;
12236       &lt;/param&gt;
12237       &lt;param id=&quot;field_klass&quot;&gt;
12238         &lt;jclass field=&quot;field&quot;/&gt;
12239           &lt;description&gt;
12240             Class of the field being modified
12241           &lt;/description&gt;
12242       &lt;/param&gt;
12243       &lt;param id=&quot;object&quot;&gt;
12244         &lt;jobject/&gt;
12245           &lt;description&gt;
12246             Object with the field being modified if the field is an
12247             instance field; &lt;code&gt;NULL&lt;/code&gt; otherwise
12248           &lt;/description&gt;
12249       &lt;/param&gt;
12250       &lt;param id=&quot;field&quot;&gt;
12251         &lt;jfieldID class=&quot;field_klass&quot;/&gt;
12252           &lt;description&gt;
12253             Field being modified
12254           &lt;/description&gt;
12255       &lt;/param&gt;
12256       &lt;param id=&quot;signature_type&quot;&gt;
12257         &lt;char/&gt;
12258         &lt;description&gt;
12259           Signature type of the new value
12260         &lt;/description&gt;
12261       &lt;/param&gt;
12262       &lt;param id=&quot;new_value&quot;&gt;
12263         &lt;jvalue/&gt;
12264         &lt;description&gt;
12265           The new value
12266         &lt;/description&gt;
12267       &lt;/param&gt;
12268     &lt;/parameters&gt;
12269   &lt;/event&gt;
12270 
12271   &lt;event label=&quot;Frame Pop&quot;
12272          id=&quot;FramePop&quot; const=&quot;JVMTI_EVENT_FRAME_POP&quot; filtered=&quot;thread&quot; num=&quot;61&quot;&gt;
12273     &lt;description&gt;
12274       Frame pop events are generated upon exit from a single method
12275       in a single frame as specified
12276       in a call to &lt;functionlink id=&quot;NotifyFramePop&quot;&gt;&lt;/functionlink&gt;.
12277       This is true whether termination is caused by
12278       executing its return instruction
12279       or by throwing an exception to its caller
12280       (see &lt;paramlink id=&quot;was_popped_by_exception&quot;&gt;&lt;/paramlink&gt;).
12281       However, frame pops caused by the &lt;functionlink id=&quot;PopFrame&quot;/&gt;
12282       function are not reported.
12283       &lt;p/&gt;
12284       The location reported by &lt;functionlink id=&quot;GetFrameLocation&quot;&gt;&lt;/functionlink&gt;
12285       identifies the executable location in the returning method,
12286       immediately prior to the return.
12287     &lt;/description&gt;
12288     &lt;origin&gt;jvmdi&lt;/origin&gt;
12289     &lt;capabilities&gt;
12290       &lt;required id=&quot;can_generate_frame_pop_events&quot;&gt;&lt;/required&gt;
12291     &lt;/capabilities&gt;
12292     &lt;parameters&gt;
12293       &lt;param id=&quot;jni_env&quot;&gt;
12294         &lt;outptr&gt;
12295           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12296         &lt;/outptr&gt;
12297           &lt;description&gt;
12298             The JNI environment of the event (current) thread
12299           &lt;/description&gt;
12300       &lt;/param&gt;
12301       &lt;param id=&quot;thread&quot;&gt;
12302         &lt;jthread/&gt;
12303           &lt;description&gt;
12304             Thread that is popping the frame
12305           &lt;/description&gt;
12306       &lt;/param&gt;
12307       &lt;param id=&quot;klass&quot;&gt;
12308         &lt;jclass method=&quot;method&quot;/&gt;
12309           &lt;description&gt;
12310             Class of the method being popped
12311           &lt;/description&gt;
12312       &lt;/param&gt;
12313       &lt;param id=&quot;method&quot;&gt;
12314         &lt;jmethodID class=&quot;klass&quot;/&gt;
12315           &lt;description&gt;
12316             Method being popped
12317           &lt;/description&gt;
12318       &lt;/param&gt;
12319       &lt;param id=&quot;was_popped_by_exception&quot;&gt;
12320         &lt;jboolean/&gt;
12321         &lt;description&gt;
12322           True if frame was popped by a thrown exception.
12323           False if method exited through its return instruction.
12324         &lt;/description&gt;
12325       &lt;/param&gt;
12326     &lt;/parameters&gt;
12327   &lt;/event&gt;
12328 
12329   &lt;event label=&quot;Method Entry&quot;
12330          id=&quot;MethodEntry&quot; const=&quot;JVMTI_EVENT_METHOD_ENTRY&quot; filtered=&quot;thread&quot; num=&quot;65&quot;&gt;
12331     &lt;description&gt;
12332       Method entry events are generated upon entry of Java
12333       programming language methods (including native methods).
12334       &lt;p/&gt;
12335       The location reported by &lt;functionlink id=&quot;GetFrameLocation&quot;&gt;&lt;/functionlink&gt;
12336       identifies the initial executable location in
12337       the method.
12338       &lt;p/&gt;
12339       Enabling method
12340       entry or exit events will significantly degrade performance on many platforms and is thus
12341       not advised for performance critical usage (such as profiling).
12342       &lt;internallink id=&quot;bci&quot;&gt;Bytecode instrumentation&lt;/internallink&gt; should be
12343       used in these cases.
12344     &lt;/description&gt;
12345     &lt;origin&gt;jvmdi&lt;/origin&gt;
12346     &lt;capabilities&gt;
12347       &lt;required id=&quot;can_generate_method_entry_events&quot;&gt;&lt;/required&gt;
12348     &lt;/capabilities&gt;
12349     &lt;parameters&gt;
12350       &lt;param id=&quot;jni_env&quot;&gt;
12351         &lt;outptr&gt;
12352           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12353         &lt;/outptr&gt;
12354           &lt;description&gt;
12355             The JNI environment of the event (current) thread
12356           &lt;/description&gt;
12357       &lt;/param&gt;
12358       &lt;param id=&quot;thread&quot;&gt;
12359         &lt;jthread/&gt;
12360           &lt;description&gt;
12361             Thread entering the method
12362           &lt;/description&gt;
12363       &lt;/param&gt;
12364       &lt;param id=&quot;klass&quot;&gt;
12365         &lt;jclass method=&quot;method&quot;/&gt;
12366           &lt;description&gt;
12367             Class of the method being entered
12368           &lt;/description&gt;
12369       &lt;/param&gt;
12370       &lt;param id=&quot;method&quot;&gt;
12371         &lt;jmethodID class=&quot;klass&quot;/&gt;
12372           &lt;description&gt;
12373             Method being entered
12374           &lt;/description&gt;
12375       &lt;/param&gt;
12376     &lt;/parameters&gt;
12377   &lt;/event&gt;
12378 
12379   &lt;event label=&quot;Method Exit&quot;
12380          id=&quot;MethodExit&quot; const=&quot;JVMTI_EVENT_METHOD_EXIT&quot; filtered=&quot;thread&quot; num=&quot;66&quot;&gt;
12381     &lt;description&gt;
12382       Method exit events are generated upon exit from Java
12383       programming language methods (including native methods).
12384       This is true whether termination is caused by
12385       executing its return instruction
12386       or by throwing an exception to its caller
12387       (see &lt;paramlink id=&quot;was_popped_by_exception&quot;&gt;&lt;/paramlink&gt;).
12388       &lt;p/&gt;
12389       The &lt;code&gt;method&lt;/code&gt; field uniquely identifies the
12390       method being entered or exited. The &lt;code&gt;frame&lt;/code&gt; field provides
12391       access to the stack frame for the method.
12392       &lt;p/&gt;
12393       The location reported by &lt;functionlink id=&quot;GetFrameLocation&quot;&gt;&lt;/functionlink&gt;
12394       identifies the executable location in the returning method
12395       immediately prior to the return.
12396       &lt;p/&gt;
12397         Enabling method
12398         entry or exit events will significantly degrade performance on many platforms and is thus
12399         not advised for performance critical usage (such as profiling).
12400         &lt;internallink id=&quot;bci&quot;&gt;Bytecode instrumentation&lt;/internallink&gt; should be
12401         used in these cases.
12402     &lt;/description&gt;
12403     &lt;origin&gt;jvmdi&lt;/origin&gt;
12404     &lt;capabilities&gt;
12405       &lt;required id=&quot;can_generate_method_exit_events&quot;&gt;&lt;/required&gt;
12406     &lt;/capabilities&gt;
12407     &lt;parameters&gt;
12408       &lt;param id=&quot;jni_env&quot;&gt;
12409         &lt;outptr&gt;
12410           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12411         &lt;/outptr&gt;
12412           &lt;description&gt;
12413             The JNI environment of the event (current) thread
12414           &lt;/description&gt;
12415       &lt;/param&gt;
12416       &lt;param id=&quot;thread&quot;&gt;
12417         &lt;jthread/&gt;
12418           &lt;description&gt;
12419             Thread exiting the method
12420           &lt;/description&gt;
12421       &lt;/param&gt;
12422       &lt;param id=&quot;klass&quot;&gt;
12423         &lt;jclass method=&quot;method&quot;/&gt;
12424           &lt;description&gt;
12425             Class of the method being exited
12426           &lt;/description&gt;
12427       &lt;/param&gt;
12428       &lt;param id=&quot;method&quot;&gt;
12429         &lt;jmethodID class=&quot;klass&quot;/&gt;
12430           &lt;description&gt;
12431             Method being exited
12432           &lt;/description&gt;
12433       &lt;/param&gt;
12434       &lt;param id=&quot;was_popped_by_exception&quot;&gt;
12435         &lt;jboolean/&gt;
12436         &lt;description&gt;
12437           True if frame was popped by a thrown exception.
12438           False if method exited through its return instruction.
12439         &lt;/description&gt;
12440       &lt;/param&gt;
12441       &lt;param id=&quot;return_value&quot;&gt;
12442         &lt;jvalue/&gt;
12443         &lt;description&gt;
12444           The return value of the method being exited.
12445           Undefined and should not be used if
12446           &lt;paramlink id=&quot;was_popped_by_exception&quot;&gt;&lt;/paramlink&gt;
12447           is true.
12448         &lt;/description&gt;
12449       &lt;/param&gt;
12450     &lt;/parameters&gt;
12451   &lt;/event&gt;
12452 
12453   &lt;event label=&quot;Native Method Bind&quot; phase=&quot;any&quot;
12454          id=&quot;NativeMethodBind&quot; const=&quot;JVMTI_EVENT_NATIVE_METHOD_BIND&quot; num=&quot;67&quot;&gt;
12455     &lt;description&gt;
12456       A Native Method Bind event is sent when a VM binds a
12457       Java programming language native method
12458       to the address of a function that implements the native method.
12459       This will occur when the native method is called for the first time
12460       and also occurs when the JNI function &lt;code&gt;RegisterNatives&lt;/code&gt; is called.
12461       This event allows the bind to be redirected to an agent-specified
12462       proxy function.
12463       This event is not sent when the native method is unbound.
12464       Typically, this proxy function will need to be specific to a
12465       particular method or, to handle the general case, automatically
12466       generated assembly code, since after instrumentation code is
12467       executed the function at the original binding
12468       address will usually be invoked.
12469       The original binding can be restored or the redirection changed
12470       by use of the JNI function &lt;code&gt;RegisterNatives&lt;/code&gt;.
12471       Some events may be sent during the primordial phase, JNI and
12472       most of &lt;jvmti/&gt; cannot be used at this time but the method and
12473       address can be saved for use later.
12474     &lt;/description&gt;
12475     &lt;origin&gt;new&lt;/origin&gt;
12476     &lt;capabilities&gt;
12477       &lt;required id=&quot;can_generate_native_method_bind_events&quot;&gt;&lt;/required&gt;
12478     &lt;/capabilities&gt;
12479     &lt;parameters&gt;
12480       &lt;param id=&quot;jni_env&quot;&gt;
12481         &lt;outptr&gt;
12482           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12483         &lt;/outptr&gt;
12484           &lt;description&gt;
12485             The JNI environment of the event (current) thread
12486             Will be &lt;code&gt;NULL&lt;/code&gt; if sent during the primordial
12487             &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;.
12488           &lt;/description&gt;
12489       &lt;/param&gt;
12490       &lt;param id=&quot;thread&quot;&gt;
12491         &lt;jthread/&gt;
12492           &lt;description&gt;
12493             Thread requesting the bind
12494           &lt;/description&gt;
12495       &lt;/param&gt;
12496       &lt;param id=&quot;klass&quot;&gt;
12497         &lt;jclass method=&quot;method&quot;/&gt;
12498           &lt;description&gt;
12499             Class of the method being bound
12500           &lt;/description&gt;
12501       &lt;/param&gt;
12502       &lt;param id=&quot;method&quot;&gt;
12503         &lt;jmethodID class=&quot;klass&quot;/&gt;
12504           &lt;description&gt;
12505             Native method being bound
12506           &lt;/description&gt;
12507       &lt;/param&gt;
12508       &lt;param id=&quot;address&quot;&gt;
12509         &lt;outptr&gt;&lt;void/&gt;&lt;/outptr&gt;
12510         &lt;description&gt;
12511           The address the VM is about to bind to--that is, the
12512           address of the implementation of the native method
12513         &lt;/description&gt;
12514       &lt;/param&gt;
12515       &lt;param id=&quot;new_address_ptr&quot;&gt;
12516         &lt;agentbuf&gt;&lt;void/&gt;&lt;/agentbuf&gt;
12517         &lt;description&gt;
12518           if the referenced address is changed (that is, if
12519           &lt;code&gt;*new_address_ptr&lt;/code&gt; is set), the binding
12520           will instead be made to the supplied address.
12521         &lt;/description&gt;
12522       &lt;/param&gt;
12523     &lt;/parameters&gt;
12524   &lt;/event&gt;
12525 
12526   &lt;event label=&quot;Exception&quot;
12527          id=&quot;Exception&quot; const=&quot;JVMTI_EVENT_EXCEPTION&quot; filtered=&quot;thread&quot; num=&quot;58&quot;&gt;
12528     &lt;description&gt;
12529       Exception events are generated whenever an exception is first detected
12530       in a Java programming language method.
12531       Where &quot;exception&quot; means any &lt;code&gt;java.lang.Throwable&lt;/code&gt;.
12532       The exception may have been thrown by a Java programming language or native
12533       method, but in the case of native methods, the event is not generated
12534       until the exception is first seen by a Java programming language method. If an exception is
12535       set and cleared in a native method (and thus is never visible to Java programming language code),
12536       no exception event is generated.
12537       &lt;p/&gt;
12538       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12539       parameters  uniquely identify the current location
12540       (where the exception was detected) and allow
12541       the mapping to source file and line number when that information is
12542       available. The &lt;code&gt;exception&lt;/code&gt; field identifies the thrown
12543       exception object. The &lt;code&gt;catch_method&lt;/code&gt;
12544       and &lt;code&gt;catch_location&lt;/code&gt; identify the location of the catch clause,
12545       if any, that handles the thrown exception. If there is no such catch clause,
12546       each field is set to 0. There is no guarantee that the thread will ever
12547       reach this catch clause. If there are native methods on the call stack
12548       between the throw location and the catch clause, the exception may
12549       be reset by one of those native methods.
12550       Similarly, exceptions that are reported as uncaught (&lt;code&gt;catch_klass&lt;/code&gt;
12551       et al. set to 0) may in fact be caught by native code.
12552       Agents can check for these occurrences by monitoring
12553       &lt;eventlink id=&quot;ExceptionCatch&quot;&gt;&lt;/eventlink&gt; events.
12554       Note that finally clauses are implemented as catch and re-throw. Therefore they
12555       will be reported in the catch location.
12556     &lt;/description&gt;
12557     &lt;origin&gt;jvmdi&lt;/origin&gt;
12558     &lt;capabilities&gt;
12559       &lt;required id=&quot;can_generate_exception_events&quot;&gt;&lt;/required&gt;
12560     &lt;/capabilities&gt;
12561     &lt;parameters&gt;
12562       &lt;param id=&quot;jni_env&quot;&gt;
12563         &lt;outptr&gt;
12564           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12565         &lt;/outptr&gt;
12566           &lt;description&gt;
12567             The JNI environment of the event (current) thread
12568           &lt;/description&gt;
12569       &lt;/param&gt;
12570       &lt;param id=&quot;thread&quot;&gt;
12571         &lt;jthread/&gt;
12572           &lt;description&gt;
12573             Thread generating the exception
12574           &lt;/description&gt;
12575       &lt;/param&gt;
12576       &lt;param id=&quot;klass&quot;&gt;
12577         &lt;jclass method=&quot;method&quot;/&gt;
12578           &lt;description&gt;
12579             Class generating the exception
12580           &lt;/description&gt;
12581       &lt;/param&gt;
12582       &lt;param id=&quot;method&quot;&gt;
12583         &lt;jmethodID class=&quot;klass&quot;/&gt;
12584           &lt;description&gt;
12585             Method generating the exception
12586           &lt;/description&gt;
12587       &lt;/param&gt;
12588       &lt;param id=&quot;location&quot;&gt;
12589         &lt;jlocation/&gt;
12590         &lt;description&gt;
12591           Location where exception occurred
12592         &lt;/description&gt;
12593       &lt;/param&gt;
12594       &lt;param id=&quot;exception&quot;&gt;
12595         &lt;jobject/&gt;
12596           &lt;description&gt;
12597             The exception being thrown
12598           &lt;/description&gt;
12599       &lt;/param&gt;
12600       &lt;param id=&quot;catch_klass&quot;&gt;
12601         &lt;jclass method=&quot;catch_method&quot;/&gt;
12602           &lt;description&gt;
12603             Class that will catch the exception, or &lt;code&gt;NULL&lt;/code&gt; if no known catch
12604           &lt;/description&gt;
12605       &lt;/param&gt;
12606       &lt;param id=&quot;catch_method&quot;&gt;
12607         &lt;jmethodID class=&quot;catch_klass&quot;/&gt;
12608           &lt;description&gt;
12609             Method that will catch the exception, or &lt;code&gt;NULL&lt;/code&gt; if no known catch
12610           &lt;/description&gt;
12611       &lt;/param&gt;
12612       &lt;param id=&quot;catch_location&quot;&gt;
12613         &lt;jlocation/&gt;
12614         &lt;description&gt;
12615           location which will catch the exception or zero if no known catch
12616         &lt;/description&gt;
12617       &lt;/param&gt;
12618     &lt;/parameters&gt;
12619   &lt;/event&gt;
12620 
12621   &lt;event label=&quot;Exception Catch&quot;
12622          id=&quot;ExceptionCatch&quot; const=&quot;JVMTI_EVENT_EXCEPTION_CATCH&quot; filtered=&quot;thread&quot; num=&quot;59&quot;&gt;
12623     &lt;description&gt;
12624       Exception catch events are generated whenever a thrown exception is caught.
12625       Where &quot;exception&quot; means any &lt;code&gt;java.lang.Throwable&lt;/code&gt;.
12626       If the exception is caught in a Java programming language method, the event is generated
12627       when the catch clause is reached. If the exception is caught in a native
12628       method, the event is generated as soon as control is returned to a Java programming language
12629       method. Exception catch events are generated for any exception for which
12630       a throw was detected in a Java programming language method.
12631       Note that finally clauses are implemented as catch and re-throw. Therefore they
12632       will generate exception catch events.
12633       &lt;p/&gt;
12634       The &lt;code&gt;method&lt;/code&gt; and &lt;code&gt;location&lt;/code&gt;
12635       parameters uniquely identify the current location
12636       and allow the mapping to source file and line number when that information is
12637       available. For exceptions caught in a Java programming language method, the
12638       &lt;code&gt;exception&lt;/code&gt; object identifies the exception object. Exceptions
12639       caught in native methods are not necessarily available by the time the
12640       exception catch is reported, so the &lt;code&gt;exception&lt;/code&gt; field is set
12641       to &lt;code&gt;NULL&lt;/code&gt;.
12642     &lt;/description&gt;
12643     &lt;origin&gt;jvmdi&lt;/origin&gt;
12644     &lt;capabilities&gt;
12645       &lt;required id=&quot;can_generate_exception_events&quot;&gt;&lt;/required&gt;
12646     &lt;/capabilities&gt;
12647     &lt;parameters&gt;
12648       &lt;param id=&quot;jni_env&quot;&gt;
12649         &lt;outptr&gt;
12650           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12651         &lt;/outptr&gt;
12652           &lt;description&gt;
12653             The JNI environment of the event (current) thread
12654           &lt;/description&gt;
12655       &lt;/param&gt;
12656       &lt;param id=&quot;thread&quot;&gt;
12657         &lt;jthread/&gt;
12658           &lt;description&gt;
12659             Thread catching the exception
12660           &lt;/description&gt;
12661       &lt;/param&gt;
12662       &lt;param id=&quot;klass&quot;&gt;
12663         &lt;jclass method=&quot;method&quot;/&gt;
12664           &lt;description&gt;
12665             Class catching the exception
12666           &lt;/description&gt;
12667       &lt;/param&gt;
12668       &lt;param id=&quot;method&quot;&gt;
12669         &lt;jmethodID class=&quot;klass&quot;/&gt;
12670           &lt;description&gt;
12671             Method catching the exception
12672           &lt;/description&gt;
12673       &lt;/param&gt;
12674       &lt;param id=&quot;location&quot;&gt;
12675         &lt;jlocation/&gt;
12676         &lt;description&gt;
12677           Location where exception is being caught
12678         &lt;/description&gt;
12679       &lt;/param&gt;
12680       &lt;param id=&quot;exception&quot;&gt;
12681         &lt;jobject/&gt;
12682           &lt;description&gt;
12683             Exception being caught
12684           &lt;/description&gt;
12685       &lt;/param&gt;
12686     &lt;/parameters&gt;
12687   &lt;/event&gt;
12688 
12689   &lt;event label=&quot;Thread Start&quot;
12690          id=&quot;ThreadStart&quot; const=&quot;JVMTI_EVENT_THREAD_START&quot; num=&quot;52&quot; phase=&quot;start&quot;&gt;
12691     &lt;description&gt;
12692       Thread start events are generated by a new thread before its initial
12693       method executes.
12694       &lt;p/&gt;
12695       A thread may be listed in the array returned by
12696       &lt;functionlink id=&quot;GetAllThreads&quot;&gt;&lt;/functionlink&gt;
12697       before its thread start event is generated.
12698       It is possible for other events to be generated
12699       on a thread before its thread start event.
12700       &lt;p/&gt;
12701       The event is sent on the newly started &lt;paramlink id=&quot;thread&quot;&gt;&lt;/paramlink&gt;.
12702     &lt;/description&gt;
12703     &lt;origin&gt;jvmdi&lt;/origin&gt;
12704     &lt;capabilities&gt;
12705     &lt;/capabilities&gt;
12706     &lt;parameters&gt;
12707       &lt;param id=&quot;jni_env&quot;&gt;
12708         &lt;outptr&gt;
12709           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12710         &lt;/outptr&gt;
12711           &lt;description&gt;
12712             The JNI environment of the event (current) thread.
12713           &lt;/description&gt;
12714       &lt;/param&gt;
12715       &lt;param id=&quot;thread&quot;&gt;
12716         &lt;jthread/&gt;
12717           &lt;description&gt;
12718             Thread starting
12719           &lt;/description&gt;
12720       &lt;/param&gt;
12721     &lt;/parameters&gt;
12722   &lt;/event&gt;
12723 
12724   &lt;event label=&quot;Thread End&quot;
12725          id=&quot;ThreadEnd&quot; const=&quot;JVMTI_EVENT_THREAD_END&quot; filtered=&quot;thread&quot; num=&quot;53&quot; phase=&quot;start&quot;&gt;
12726     &lt;description&gt;
12727       Thread end events are generated by a terminating thread
12728       after its initial method has finished execution.
12729       &lt;p/&gt;
12730       A thread may be listed in the array returned by
12731       &lt;functionlink id=&quot;GetAllThreads&quot;&gt;&lt;/functionlink&gt;
12732       after its thread end event is generated.
12733       No events are generated on a thread
12734       after its thread end event.
12735       &lt;p/&gt;
12736       The event is sent on the dying &lt;paramlink id=&quot;thread&quot;&gt;&lt;/paramlink&gt;.
12737     &lt;/description&gt;
12738     &lt;origin&gt;jvmdi&lt;/origin&gt;
12739     &lt;capabilities&gt;
12740     &lt;/capabilities&gt;
12741     &lt;parameters&gt;
12742       &lt;param id=&quot;jni_env&quot;&gt;
12743         &lt;outptr&gt;
12744           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12745         &lt;/outptr&gt;
12746           &lt;description&gt;
12747             The JNI environment of the event (current) thread.
12748           &lt;/description&gt;
12749       &lt;/param&gt;
12750       &lt;param id=&quot;thread&quot;&gt;
12751         &lt;jthread/&gt;
12752           &lt;description&gt;
12753             Thread ending
12754           &lt;/description&gt;
12755       &lt;/param&gt;
12756     &lt;/parameters&gt;
12757   &lt;/event&gt;
12758 
12759   &lt;event label=&quot;Class Load&quot;
12760          id=&quot;ClassLoad&quot; const=&quot;JVMTI_EVENT_CLASS_LOAD&quot; filtered=&quot;thread&quot; phase=&quot;start&quot; num=&quot;55&quot;&gt;
12761     &lt;description&gt;
12762       A class load event is generated
12763       &lt;functionlink id=&quot;GetLoadedClasses&quot;&gt;when a class or interface is created.&lt;/functionlink&gt;.
12764       &lt;p/&gt;
12765       Array class creation does not generate a class load event.
12766       The creation of a primitive class (for example, java.lang.Integer.TYPE)
12767       does not generate a class load event.
12768       &lt;p/&gt;
12769       The order of class load events generated by a particular thread is guaranteed
12770       to match the order of class loading within that thread.
12771       &lt;p/&gt;
12772       This event is sent at an early stage in loading the class. As
12773       a result the class should be used carefully.  Note, for example,
12774       that methods and fields are not yet loaded, so queries for methods,
12775       fields, subclasses, and so on will not give correct results.
12776       See &quot;Loading of Classes and Interfaces&quot; in the &lt;i&gt;Java Language
12777       Specification&lt;/i&gt;.  For most
12778       purposes the &lt;eventlink id=&quot;ClassPrepare&quot;&gt;&lt;/eventlink&gt; event will
12779       be more useful.
12780     &lt;/description&gt;
12781     &lt;origin&gt;jvmdi&lt;/origin&gt;
12782     &lt;capabilities&gt;
12783     &lt;/capabilities&gt;
12784     &lt;parameters&gt;
12785       &lt;param id=&quot;jni_env&quot;&gt;
12786         &lt;outptr&gt;
12787           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12788         &lt;/outptr&gt;
12789           &lt;description&gt;
12790             The JNI environment of the event (current) thread
12791           &lt;/description&gt;
12792       &lt;/param&gt;
12793       &lt;param id=&quot;thread&quot;&gt;
12794         &lt;jthread/&gt;
12795           &lt;description&gt;
12796             Thread loading the class
12797           &lt;/description&gt;
12798       &lt;/param&gt;
12799       &lt;param id=&quot;klass&quot;&gt;
12800         &lt;jclass/&gt;
12801           &lt;description&gt;
12802             Class being loaded
12803           &lt;/description&gt;
12804       &lt;/param&gt;
12805     &lt;/parameters&gt;
12806   &lt;/event&gt;
12807 
12808   &lt;elide&gt;
12809   &lt;event label=&quot;Class Unload&quot;
12810          id=&quot;ClassUnload&quot; const=&quot;JVMTI_EVENT_CLASS_UNLOAD&quot; num=&quot;57&quot;&gt;
12811     &lt;description&gt;
12812       A class unload event is generated when the class is about to be unloaded.
12813       Class unload events take place during garbage collection and must be
12814       handled extremely carefully. The garbage collector holds many locks
12815       and has suspended all other threads, so the event handler cannot depend
12816       on the ability to acquire any locks. The class unload event handler should
12817       do as little as possible, perhaps by queuing information to be processed
12818       later.  In particular, the &lt;code&gt;jclass&lt;/code&gt; should be used only in
12819       the JNI function &lt;code&gt;isSameObject&lt;/code&gt; or in the following &lt;jvmti/&gt; functions:
12820       &lt;ul&gt;
12821         &lt;li&gt;&lt;functionlink id=&quot;GetClassSignature&quot;&gt;&lt;/functionlink&gt;&lt;/li&gt;
12822         &lt;li&gt;&lt;functionlink id=&quot;GetSourceFileName&quot;&gt;&lt;/functionlink&gt;&lt;/li&gt;
12823         &lt;li&gt;&lt;functionlink id=&quot;IsInterface&quot;&gt;&lt;/functionlink&gt;&lt;/li&gt;
12824         &lt;li&gt;&lt;functionlink id=&quot;IsArrayClass&quot;&gt;&lt;/functionlink&gt;&lt;/li&gt;
12825       &lt;/ul&gt;
12826     &lt;/description&gt;
12827     &lt;origin&gt;jvmdi&lt;/origin&gt;
12828     &lt;capabilities&gt;
12829     &lt;/capabilities&gt;
12830     &lt;parameters&gt;
12831       &lt;param id=&quot;jni_env&quot;&gt;
12832         &lt;outptr&gt;
12833           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12834         &lt;/outptr&gt;
12835           &lt;description&gt;
12836             The JNI environment of the event (current) thread
12837           &lt;/description&gt;
12838       &lt;/param&gt;
12839       &lt;param id=&quot;thread&quot;&gt;
12840         &lt;jthread/&gt;
12841           &lt;description&gt;
12842             Thread generating the class unload
12843           &lt;/description&gt;
12844       &lt;/param&gt;
12845       &lt;param id=&quot;klass&quot;&gt;
12846         &lt;jclass/&gt;
12847           &lt;description&gt;
12848             Class being unloaded
12849           &lt;/description&gt;
12850       &lt;/param&gt;
12851     &lt;/parameters&gt;
12852   &lt;/event&gt;
12853   &lt;/elide&gt;
12854 
12855   &lt;event label=&quot;Class Prepare&quot;
12856          id=&quot;ClassPrepare&quot; const=&quot;JVMTI_EVENT_CLASS_PREPARE&quot; filtered=&quot;thread&quot; phase=&quot;start&quot; num=&quot;56&quot;&gt;
12857     &lt;description&gt;
12858       A class prepare event is generated when class preparation is complete.
12859       At this point, class fields, methods, and implemented interfaces are
12860       available, and no code from the class has been executed. Since array
12861       classes never have fields or methods, class prepare events are not
12862       generated for them. Class prepare events are not generated for
12863       primitive classes (for example, &lt;code&gt;java.lang.Integer.TYPE&lt;/code&gt;).
12864     &lt;/description&gt;
12865     &lt;origin&gt;jvmdi&lt;/origin&gt;
12866     &lt;capabilities&gt;
12867     &lt;/capabilities&gt;
12868     &lt;parameters&gt;
12869       &lt;param id=&quot;jni_env&quot;&gt;
12870         &lt;outptr&gt;
12871           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12872         &lt;/outptr&gt;
12873           &lt;description&gt;
12874             The JNI environment of the event (current) thread
12875           &lt;/description&gt;
12876       &lt;/param&gt;
12877       &lt;param id=&quot;thread&quot;&gt;
12878         &lt;jthread/&gt;
12879           &lt;description&gt;
12880             Thread generating the class prepare
12881           &lt;/description&gt;
12882       &lt;/param&gt;
12883       &lt;param id=&quot;klass&quot;&gt;
12884         &lt;jclass/&gt;
12885           &lt;description&gt;
12886             Class being prepared
12887           &lt;/description&gt;
12888       &lt;/param&gt;
12889     &lt;/parameters&gt;
12890   &lt;/event&gt;
12891 
12892   &lt;event label=&quot;Class File Load Hook&quot; phase=&quot;any&quot;
12893          id=&quot;ClassFileLoadHook&quot; const=&quot;JVMTI_EVENT_CLASS_FILE_LOAD_HOOK&quot; num=&quot;54&quot;&gt;
12894     &lt;description&gt;
12895       This event is sent when the VM obtains class file data,
12896       but before it constructs
12897       the in-memory representation for that class.
12898       This event is also sent when the class is being modified by the
12899       &lt;functionlink id=&quot;RetransformClasses&quot;/&gt; function or
12900       the &lt;functionlink id=&quot;RedefineClasses&quot;/&gt; function,
12901       called in any &lt;jvmti/&gt; environment.
12902       The agent can instrument
12903       the existing class file data sent by the VM to include profiling/debugging hooks.
12904       See the description of
12905       &lt;internallink id=&quot;bci&quot;&gt;bytecode instrumentation&lt;/internallink&gt;
12906       for usage information.
12907       &lt;p/&gt;
12908     When the capabilities
12909     &lt;internallink id=&quot;jvmtiCapabilities.can_generate_early_class_hook_events&quot;&gt;
12910     &lt;code&gt;can_generate_early_class_hook_events&lt;/code&gt;&lt;/internallink&gt; and
12911     &lt;internallink id=&quot;jvmtiCapabilities.can_generate_all_class_hook_events&quot;&gt;
12912     &lt;code&gt;can_generate_all_class_hook_events&lt;/code&gt;&lt;/internallink&gt;
12913     are enabled then this event may be sent in the primordial phase.
12914     Otherwise, this event may be sent before the VM is initialized (the start
12915     &lt;functionlink id=&quot;GetPhase&quot;&gt;phase&lt;/functionlink&gt;).
12916     Some classes might not be compatible
12917     with the function (eg. ROMized classes or implementation defined classes) and this event will
12918     not be generated for these classes.
12919     &lt;p/&gt;
12920     The agent must allocate the space for the modified
12921     class file data buffer
12922     using the memory allocation function
12923     &lt;functionlink id=&quot;Allocate&quot;&gt;&lt;/functionlink&gt; because the
12924     VM is responsible for freeing the new class file data buffer
12925     using &lt;functionlink id=&quot;Deallocate&quot;&gt;&lt;/functionlink&gt;.
12926     &lt;p/&gt;
12927     If the agent wishes to modify the class file, it must set
12928     &lt;code&gt;new_class_data&lt;/code&gt; to point
12929     to the newly instrumented class file data buffer and set
12930     &lt;code&gt;new_class_data_len&lt;/code&gt; to the length of that
12931     buffer before returning
12932     from this call.  If no modification is desired, the agent simply
12933     does not set &lt;code&gt;new_class_data&lt;/code&gt;.  If multiple agents
12934     have enabled this event the results are chained. That is, if
12935     &lt;code&gt;new_class_data&lt;/code&gt; has been set, it becomes the
12936     &lt;code&gt;class_data&lt;/code&gt; for the next agent.
12937     &lt;p/&gt;
12938     When handling a class load in the live phase, then the
12939     &lt;functionlink id=&quot;GetNamedModule&quot;&gt;&lt;/functionlink&gt;
12940     function can be used to map class loader and a package name to a module.
12941     When a class is being redefined or retransformed then
12942     &lt;code&gt;class_being_redefined&lt;/code&gt; is non &lt;code&gt;NULL&lt;/code&gt; and so
12943     the JNI &lt;code&gt;GetModule&lt;/code&gt; function can also be used
12944     to obtain the Module.
12945     &lt;p/&gt;
12946     The order that this event is sent to each environment differs
12947     from other events.
12948     This event is sent to environments in the following order:
12949     &lt;ul&gt;
12950       &lt;li&gt;&lt;fieldlink id=&quot;can_retransform_classes&quot;
12951                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
12952                                                 incapable&lt;/fieldlink&gt;
12953           environments, in the
12954           order in which they were created
12955       &lt;/li&gt;
12956       &lt;li&gt;&lt;fieldlink id=&quot;can_retransform_classes&quot;
12957                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
12958                                                 capable&lt;/fieldlink&gt;
12959           environments, in the
12960           order in which they were created
12961       &lt;/li&gt;
12962     &lt;/ul&gt;
12963     When triggered by &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;,
12964     this event is sent only to &lt;fieldlink id=&quot;can_retransform_classes&quot;
12965                      struct=&quot;jvmtiCapabilities&quot;&gt;retransformation
12966                                                 capable&lt;/fieldlink&gt;
12967     environments.
12968   &lt;/description&gt;
12969   &lt;origin&gt;jvmpi&lt;/origin&gt;
12970     &lt;capabilities&gt;
12971       &lt;capability id=&quot;can_generate_all_class_hook_events&quot;&gt;&lt;/capability&gt;
12972       &lt;capability id=&quot;can_generate_early_class_hook_events&quot;&gt;&lt;/capability&gt;
12973     &lt;/capabilities&gt;
12974     &lt;parameters&gt;
12975       &lt;param id=&quot;jni_env&quot;&gt;
12976         &lt;outptr&gt;
12977           &lt;struct&gt;JNIEnv&lt;/struct&gt;
12978         &lt;/outptr&gt;
12979           &lt;description&gt;
12980             The JNI environment of the event (current) thread.
12981           &lt;/description&gt;
12982       &lt;/param&gt;
12983       &lt;param id=&quot;class_being_redefined&quot;&gt;
12984         &lt;jclass/&gt;
12985         &lt;description&gt;
12986           The class being
12987           &lt;functionlink id=&quot;RedefineClasses&quot;&gt;redefined&lt;/functionlink&gt; or
12988           &lt;functionlink id=&quot;RetransformClasses&quot;&gt;retransformed&lt;/functionlink&gt;.
12989           &lt;code&gt;NULL&lt;/code&gt; if sent by class load.
12990         &lt;/description&gt;
12991       &lt;/param&gt;
12992       &lt;param id=&quot;loader&quot;&gt;
12993         &lt;jobject/&gt;
12994           &lt;description&gt;
12995             The class loader loading the class.
12996             &lt;code&gt;NULL&lt;/code&gt; if the bootstrap class loader.
12997           &lt;/description&gt;
12998       &lt;/param&gt;
12999       &lt;param id=&quot;name&quot;&gt;
13000         &lt;vmbuf&gt;&lt;char/&gt;&lt;/vmbuf&gt;
13001         &lt;description&gt;
13002             Name of class being loaded as a VM internal qualified name
13003             (for example, &quot;java/util/List&quot;), encoded as a
13004             &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
13005             Note: if the class is defined with a &lt;code&gt;NULL&lt;/code&gt; name or
13006             without a name specified, &lt;code&gt;name&lt;/code&gt; will be &lt;code&gt;NULL&lt;/code&gt;.
13007         &lt;/description&gt;
13008       &lt;/param&gt;
13009       &lt;param id=&quot;protection_domain&quot;&gt;
13010         &lt;jobject/&gt;
13011         &lt;description&gt;
13012           The &lt;code&gt;ProtectionDomain&lt;/code&gt; of the class.
13013         &lt;/description&gt;
13014       &lt;/param&gt;
13015       &lt;param id=&quot;class_data_len&quot;&gt;
13016         &lt;jint/&gt;
13017         &lt;description&gt;
13018           Length of current class file data buffer.
13019         &lt;/description&gt;
13020       &lt;/param&gt;
13021       &lt;param id=&quot;class_data&quot;&gt;
13022         &lt;vmbuf&gt;&lt;uchar/&gt;&lt;/vmbuf&gt;
13023         &lt;description&gt;
13024           Pointer to the current class file data buffer.
13025         &lt;/description&gt;
13026       &lt;/param&gt;
13027       &lt;param id=&quot;new_class_data_len&quot;&gt;
13028         &lt;outptr&gt;&lt;jint/&gt;&lt;/outptr&gt;
13029         &lt;description&gt;
13030           Pointer to the length of the new class file data buffer.
13031         &lt;/description&gt;
13032       &lt;/param&gt;
13033       &lt;param id=&quot;new_class_data&quot;&gt;
13034         &lt;agentbuf incount=&quot;new_class_data_len&quot;&gt;&lt;uchar/&gt;&lt;/agentbuf&gt;
13035         &lt;description&gt;
13036           Pointer to the pointer to the instrumented class file data buffer.
13037         &lt;/description&gt;
13038       &lt;/param&gt;
13039     &lt;/parameters&gt;
13040   &lt;/event&gt;
13041 
13042   &lt;event label=&quot;VM Start Event&quot;
13043          id=&quot;VMStart&quot; const=&quot;JVMTI_EVENT_VM_START&quot; num=&quot;57&quot; phase=&quot;start&quot;&gt;
13044     &lt;description&gt;
13045       The VM start event signals the start of the VM.
13046       At this time JNI is live but the VM is not yet fully initialized.
13047       Once this event is generated, the agent is free to call any JNI function.
13048       This event signals the beginning of the start phase,
13049       &lt;jvmti/&gt; functions permitted in the start phase may be called.
13050       &lt;p/&gt;
13051       The timing of this event may depend on whether the agent has added the
13052       &lt;internallink id=&quot;jvmtiCapabilities.can_generate_early_vmstart&quot;&gt;
13053       &lt;code&gt;can_generate_early_vmstart&lt;/code&gt;&lt;/internallink&gt; capability or not.
13054       If the capability has been added then the VM posts the event as early
13055       as possible. The VM is capable of executing bytecode but it may not have
13056       initialized to the point where it can load classes in modules other than
13057       &lt;code&gt;java.base&lt;/code&gt;, or even arbitrary classes in &lt;code&gt;java.base&lt;/code&gt;.
13058       Agents that do load-time instrumentation in this
13059       phase must take great care when instrumenting code that potentially
13060       executes in this phase. Extreme care should also be taken with JNI
13061       &lt;code&gt;FindClass&lt;/code&gt; as it may not be possible to load classes and attempts
13062       to do so may result in unpredictable behavior, maybe even stability issues
13063       on some VM implementations.
13064       If the capability has not been added then the VM delays posting this
13065       event until it is capable of loading classes in modules other than
13066       &lt;code&gt;java.base&lt;/code&gt; or the VM has completed its initialization.
13067       Agents that create more than one JVM TI environment, where the
13068       capability is added to some but not all environments, may observe the
13069       start phase beginning earlier in the JVM TI environments that possess
13070       the capability.
13071       &lt;p/&gt;
13072       In the case of VM start-up failure, this event will not be sent.
13073     &lt;/description&gt;
13074     &lt;origin&gt;jvmdi&lt;/origin&gt;
13075     &lt;capabilities&gt;
13076     &lt;/capabilities&gt;
13077     &lt;parameters&gt;
13078       &lt;param id=&quot;jni_env&quot;&gt;
13079         &lt;outptr&gt;
13080           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13081         &lt;/outptr&gt;
13082           &lt;description&gt;
13083             The JNI environment of the event (current) thread.
13084           &lt;/description&gt;
13085       &lt;/param&gt;
13086     &lt;/parameters&gt;
13087   &lt;/event&gt;
13088 
13089   &lt;event label=&quot;VM Initialization Event&quot;
13090          id=&quot;VMInit&quot; const=&quot;JVMTI_EVENT_VM_INIT&quot; num=&quot;50&quot;&gt;
13091     &lt;description&gt;
13092       The VM initialization event signals the completion of VM initialization. Once
13093       this event is generated, the agent is free to call any JNI or &lt;jvmti/&gt;
13094       function. The VM initialization event can be preceded by or can be concurrent
13095       with other events, but
13096       the preceding events should be handled carefully, if at all, because the
13097       VM has not completed its initialization. The thread start event for the
13098       main application thread is guaranteed not to occur until after the
13099       handler for the VM initialization event returns.
13100       &lt;p/&gt;
13101       In the case of VM start-up failure, this event will not be sent.
13102     &lt;/description&gt;
13103     &lt;origin&gt;jvmdi&lt;/origin&gt;
13104     &lt;capabilities&gt;
13105     &lt;/capabilities&gt;
13106     &lt;parameters&gt;
13107       &lt;param id=&quot;jni_env&quot;&gt;
13108         &lt;outptr&gt;
13109           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13110         &lt;/outptr&gt;
13111           &lt;description&gt;
13112             The JNI environment of the event (current) thread.
13113           &lt;/description&gt;
13114       &lt;/param&gt;
13115       &lt;param id=&quot;thread&quot;&gt;
13116         &lt;jthread/&gt;
13117           &lt;description&gt;
13118             The initial thread
13119           &lt;/description&gt;
13120       &lt;/param&gt;
13121     &lt;/parameters&gt;
13122   &lt;/event&gt;
13123 
13124   &lt;event label=&quot;VM Death Event&quot;
13125          id=&quot;VMDeath&quot; const=&quot;JVMTI_EVENT_VM_DEATH&quot; num=&quot;51&quot;&gt;
13126     &lt;description&gt;
13127       The VM death event notifies the agent of the termination of the VM.
13128       No events will occur after the VMDeath event.
13129       &lt;p/&gt;
13130       In the case of VM start-up failure, this event will not be sent.
13131       Note that &lt;internallink id=&quot;onunload&quot;&gt;Agent_OnUnload&lt;/internallink&gt;
13132       will still be called in these cases.
13133     &lt;/description&gt;
13134     &lt;origin&gt;jvmdi&lt;/origin&gt;
13135     &lt;capabilities&gt;
13136     &lt;/capabilities&gt;
13137     &lt;parameters&gt;
13138       &lt;param id=&quot;jni_env&quot;&gt;
13139         &lt;outptr&gt;
13140           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13141         &lt;/outptr&gt;
13142           &lt;description&gt;
13143             The JNI environment of the event (current) thread
13144           &lt;/description&gt;
13145       &lt;/param&gt;
13146     &lt;/parameters&gt;
13147   &lt;/event&gt;
13148 
13149   &lt;event label=&quot;Compiled Method Load&quot; phase=&quot;start&quot;
13150          id=&quot;CompiledMethodLoad&quot; const=&quot;JVMTI_EVENT_COMPILED_METHOD_LOAD&quot; num=&quot;68&quot;&gt;
13151     &lt;description&gt;
13152       Sent when a method is compiled and loaded into memory by the VM.
13153       If it is unloaded, the &lt;eventlink id=&quot;CompiledMethodUnload&quot;/&gt; event is sent.
13154       If it is moved, the &lt;eventlink id=&quot;CompiledMethodUnload&quot;/&gt; event is sent,
13155       followed by a new &lt;code&gt;CompiledMethodLoad&lt;/code&gt; event.
13156       Note that a single method may have multiple compiled forms, and that
13157       this event will be sent for each form.
13158       Note also that several methods may be inlined into a single
13159       address range, and that this event will be sent for each method.
13160       &lt;p/&gt;
13161       These events can be sent after their initial occurrence with
13162       &lt;functionlink id=&quot;GenerateEvents&quot;&gt;&lt;/functionlink&gt;.
13163     &lt;/description&gt;
13164     &lt;origin&gt;jvmpi&lt;/origin&gt;
13165     &lt;typedef id=&quot;jvmtiAddrLocationMap&quot; label=&quot;Native address to location entry&quot;&gt;
13166       &lt;field id=&quot;start_address&quot;&gt;
13167         &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13168         &lt;description&gt;
13169           Starting native address of code corresponding to a location
13170         &lt;/description&gt;
13171       &lt;/field&gt;
13172       &lt;field id=&quot;location&quot;&gt;
13173         &lt;jlocation/&gt;
13174         &lt;description&gt;
13175           Corresponding location. See
13176           &lt;functionlink id=&quot;GetJLocationFormat&quot;&gt;&lt;/functionlink&gt;
13177           for the meaning of location.
13178         &lt;/description&gt;
13179       &lt;/field&gt;
13180     &lt;/typedef&gt;
13181     &lt;capabilities&gt;
13182       &lt;required id=&quot;can_generate_compiled_method_load_events&quot;&gt;&lt;/required&gt;
13183     &lt;/capabilities&gt;
13184     &lt;parameters&gt;
13185       &lt;param id=&quot;klass&quot;&gt;
13186         &lt;jclass method=&quot;method&quot;/&gt;
13187           &lt;description&gt;
13188             Class of the method being compiled and loaded
13189           &lt;/description&gt;
13190       &lt;/param&gt;
13191       &lt;param id=&quot;method&quot;&gt;
13192         &lt;jmethodID class=&quot;klass&quot;/&gt;
13193           &lt;description&gt;
13194             Method being compiled and loaded
13195           &lt;/description&gt;
13196       &lt;/param&gt;
13197       &lt;param id=&quot;code_size&quot;&gt;
13198         &lt;jint/&gt;
13199         &lt;description&gt;
13200           Size of compiled code
13201         &lt;/description&gt;
13202       &lt;/param&gt;
13203       &lt;param id=&quot;code_addr&quot;&gt;
13204         &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13205         &lt;description&gt;
13206           Address where compiled method code is loaded
13207         &lt;/description&gt;
13208       &lt;/param&gt;
13209       &lt;param id=&quot;map_length&quot;&gt;
13210         &lt;jint/&gt;
13211         &lt;description&gt;
13212           Number of &lt;typelink id=&quot;jvmtiAddrLocationMap&quot;&gt;&lt;/typelink&gt;
13213           entries in the address map.
13214           Zero if mapping information cannot be supplied.
13215         &lt;/description&gt;
13216       &lt;/param&gt;
13217       &lt;param id=&quot;map&quot;&gt;
13218         &lt;vmbuf&gt;&lt;struct&gt;jvmtiAddrLocationMap&lt;/struct&gt;&lt;/vmbuf&gt;
13219         &lt;description&gt;
13220           Map from native addresses to location.
13221           The native address range of each entry is from
13222           &lt;fieldlink id=&quot;start_address&quot; struct=&quot;jvmtiAddrLocationMap&quot;&gt;&lt;/fieldlink&gt;
13223           to &lt;code&gt;start_address-1&lt;/code&gt; of the next entry.
13224           &lt;code&gt;NULL&lt;/code&gt; if mapping information cannot be supplied.
13225         &lt;/description&gt;
13226       &lt;/param&gt;
13227       &lt;param id=&quot;compile_info&quot;&gt;
13228         &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13229         &lt;description&gt;
13230           VM-specific compilation information.
13231           The referenced compile information is managed by the VM
13232           and must not depend on the agent for collection.
13233           A VM implementation defines the content and lifetime
13234           of the information.
13235         &lt;/description&gt;
13236       &lt;/param&gt;
13237     &lt;/parameters&gt;
13238   &lt;/event&gt;
13239 
13240   &lt;event label=&quot;Compiled Method Unload&quot; phase=&quot;start&quot;
13241          id=&quot;CompiledMethodUnload&quot; const=&quot;JVMTI_EVENT_COMPILED_METHOD_UNLOAD&quot; num=&quot;69&quot;&gt;
13242     &lt;description&gt;
13243       Sent when a compiled method is unloaded from memory.
13244       This event might not be sent on the thread which performed the unload.
13245       This event may be sent sometime after the unload occurs, but
13246       will be sent before the memory is reused
13247       by a newly generated compiled method. This event may be sent after
13248       the class is unloaded.
13249     &lt;/description&gt;
13250     &lt;origin&gt;jvmpi&lt;/origin&gt;
13251     &lt;capabilities&gt;
13252       &lt;required id=&quot;can_generate_compiled_method_load_events&quot;&gt;&lt;/required&gt;
13253     &lt;/capabilities&gt;
13254     &lt;parameters&gt;
13255       &lt;param id=&quot;klass&quot;&gt;
13256         &lt;jclass method=&quot;method&quot;/&gt;
13257           &lt;description&gt;
13258             Class of the compiled method being unloaded.
13259           &lt;/description&gt;
13260       &lt;/param&gt;
13261       &lt;param id=&quot;method&quot;&gt;
13262         &lt;jmethodID class=&quot;klass&quot;/&gt;
13263           &lt;description&gt;
13264             Compiled method being unloaded.
13265             For identification of the compiled method only -- the class
13266             may be unloaded and therefore the method should not be used
13267             as an argument to further JNI or &lt;jvmti/&gt; functions.
13268           &lt;/description&gt;
13269       &lt;/param&gt;
13270       &lt;param id=&quot;code_addr&quot;&gt;
13271         &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13272         &lt;description&gt;
13273           Address where compiled method code was loaded.
13274           For identification of the compiled method only --
13275           the space may have been reclaimed.
13276         &lt;/description&gt;
13277       &lt;/param&gt;
13278     &lt;/parameters&gt;
13279   &lt;/event&gt;
13280 
13281   &lt;event label=&quot;Dynamic Code Generated&quot; phase=&quot;any&quot;
13282          id=&quot;DynamicCodeGenerated&quot; const=&quot;JVMTI_EVENT_DYNAMIC_CODE_GENERATED&quot; num=&quot;70&quot;&gt;
13283     &lt;description&gt;
13284       Sent when a component of the virtual machine is generated dynamically.
13285       This does not correspond to Java programming language code that is
13286       compiled--see &lt;eventlink id=&quot;CompiledMethodLoad&quot;&gt;&lt;/eventlink&gt;.
13287       This is for native code--for example, an interpreter that is generated
13288       differently depending on command-line options.
13289       &lt;p/&gt;
13290       Note that this event has no controlling capability.
13291       If a VM cannot generate these events, it simply does not send any.
13292       &lt;p/&gt;
13293       These events can be sent after their initial occurrence with
13294       &lt;functionlink id=&quot;GenerateEvents&quot;&gt;&lt;/functionlink&gt;.
13295     &lt;/description&gt;
13296     &lt;origin&gt;jvmpi&lt;/origin&gt;
13297     &lt;capabilities&gt;
13298     &lt;/capabilities&gt;
13299     &lt;parameters&gt;
13300       &lt;param id=&quot;name&quot;&gt;
13301         &lt;vmbuf&gt;&lt;char/&gt;&lt;/vmbuf&gt;
13302         &lt;description&gt;
13303           Name of the code, encoded as a
13304           &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
13305           Intended for display to an end-user.
13306           The name might not be unique.
13307         &lt;/description&gt;
13308       &lt;/param&gt;
13309       &lt;param id=&quot;address&quot;&gt;
13310         &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13311         &lt;description&gt;
13312           Native address of the code
13313         &lt;/description&gt;
13314       &lt;/param&gt;
13315       &lt;param id=&quot;length&quot;&gt;
13316         &lt;jint/&gt;
13317         &lt;description&gt;
13318           Length in bytes of the code
13319         &lt;/description&gt;
13320       &lt;/param&gt;
13321     &lt;/parameters&gt;
13322   &lt;/event&gt;
13323 
13324   &lt;event label=&quot;Data Dump Request&quot;
13325          id=&quot;DataDumpRequest&quot; const=&quot;JVMTI_EVENT_DATA_DUMP_REQUEST&quot; num=&quot;71&quot;&gt;
13326     &lt;description&gt;
13327       Sent by the VM to request the agent to dump its data.  This
13328       is just a hint and the agent need not react to this event.
13329       This is useful for processing command-line signals from users.  For
<a name="3" id="anc3"></a><span class="line-modified">13330       example, in the Java 2 SDK a CTRL-Break on Win32 and a CTRL-\ on Solaris</span>
13331       causes the VM to send this event to the agent.
13332     &lt;/description&gt;
13333     &lt;origin&gt;jvmpi&lt;/origin&gt;
13334     &lt;capabilities&gt;
13335     &lt;/capabilities&gt;
13336     &lt;parameters&gt;
13337     &lt;/parameters&gt;
13338   &lt;/event&gt;
13339 
13340   &lt;event label=&quot;Monitor Contended Enter&quot;
13341          id=&quot;MonitorContendedEnter&quot; const=&quot;JVMTI_EVENT_MONITOR_CONTENDED_ENTER&quot; filtered=&quot;thread&quot; num=&quot;75&quot;&gt;
13342     &lt;description&gt;
13343       Sent when a thread is attempting to enter a Java programming language
13344       monitor already acquired by another thread.
13345     &lt;/description&gt;
13346     &lt;origin&gt;jvmpi&lt;/origin&gt;
13347     &lt;capabilities&gt;
13348       &lt;required id=&quot;can_generate_monitor_events&quot;&gt;&lt;/required&gt;
13349     &lt;/capabilities&gt;
13350     &lt;parameters&gt;
13351       &lt;param id=&quot;jni_env&quot;&gt;
13352         &lt;outptr&gt;
13353           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13354         &lt;/outptr&gt;
13355           &lt;description&gt;
13356             The JNI environment of the event (current) thread
13357           &lt;/description&gt;
13358       &lt;/param&gt;
13359       &lt;param id=&quot;thread&quot;&gt;
13360         &lt;jthread/&gt;
13361           &lt;description&gt;
13362             JNI local reference to the thread
13363             attempting to enter the monitor
13364           &lt;/description&gt;
13365       &lt;/param&gt;
13366       &lt;param id=&quot;object&quot;&gt;
13367         &lt;jobject/&gt;
13368           &lt;description&gt;
13369             JNI local reference to the monitor
13370           &lt;/description&gt;
13371       &lt;/param&gt;
13372     &lt;/parameters&gt;
13373   &lt;/event&gt;
13374 
13375   &lt;event label=&quot;Monitor Contended Entered&quot;
13376          id=&quot;MonitorContendedEntered&quot; const=&quot;JVMTI_EVENT_MONITOR_CONTENDED_ENTERED&quot; filtered=&quot;thread&quot; num=&quot;76&quot;&gt;
13377     &lt;description&gt;
13378       Sent when a thread enters a Java programming language
13379       monitor after waiting for it to be released by another thread.
13380     &lt;/description&gt;
13381     &lt;origin&gt;jvmpi&lt;/origin&gt;
13382     &lt;capabilities&gt;
13383       &lt;required id=&quot;can_generate_monitor_events&quot;&gt;&lt;/required&gt;
13384     &lt;/capabilities&gt;
13385     &lt;parameters&gt;
13386       &lt;param id=&quot;jni_env&quot;&gt;
13387         &lt;outptr&gt;
13388           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13389         &lt;/outptr&gt;
13390           &lt;description&gt;
13391             The JNI environment of the event (current) thread
13392           &lt;/description&gt;
13393       &lt;/param&gt;
13394       &lt;param id=&quot;thread&quot;&gt;
13395         &lt;jthread/&gt;
13396           &lt;description&gt;
13397             JNI local reference to the thread entering
13398             the monitor
13399           &lt;/description&gt;
13400       &lt;/param&gt;
13401       &lt;param id=&quot;object&quot;&gt;
13402         &lt;jobject/&gt;
13403           &lt;description&gt;
13404             JNI local reference to the monitor
13405           &lt;/description&gt;
13406       &lt;/param&gt;
13407     &lt;/parameters&gt;
13408   &lt;/event&gt;
13409 
13410   &lt;event label=&quot;Monitor Wait&quot;
13411          id=&quot;MonitorWait&quot; const=&quot;JVMTI_EVENT_MONITOR_WAIT&quot; filtered=&quot;thread&quot; num=&quot;73&quot;&gt;
13412     &lt;description&gt;
13413       Sent when a thread is about to wait on an object.
13414     &lt;/description&gt;
13415     &lt;origin&gt;jvmpi&lt;/origin&gt;
13416     &lt;capabilities&gt;
13417       &lt;required id=&quot;can_generate_monitor_events&quot;&gt;&lt;/required&gt;
13418     &lt;/capabilities&gt;
13419     &lt;parameters&gt;
13420       &lt;param id=&quot;jni_env&quot;&gt;
13421         &lt;outptr&gt;
13422           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13423         &lt;/outptr&gt;
13424           &lt;description&gt;
13425             The JNI environment of the event (current) thread
13426           &lt;/description&gt;
13427       &lt;/param&gt;
13428       &lt;param id=&quot;thread&quot;&gt;
13429         &lt;jthread/&gt;
13430           &lt;description&gt;
13431             JNI local reference to the thread about to wait
13432           &lt;/description&gt;
13433       &lt;/param&gt;
13434       &lt;param id=&quot;object&quot;&gt;
13435         &lt;jobject/&gt;
13436           &lt;description&gt;
13437             JNI local reference to the monitor
13438           &lt;/description&gt;
13439       &lt;/param&gt;
13440       &lt;param id=&quot;timeout&quot;&gt;
13441         &lt;jlong/&gt;
13442         &lt;description&gt;
13443           The number of milliseconds the thread will wait
13444         &lt;/description&gt;
13445       &lt;/param&gt;
13446     &lt;/parameters&gt;
13447   &lt;/event&gt;
13448 
13449   &lt;event label=&quot;Monitor Waited&quot;
13450          id=&quot;MonitorWaited&quot; const=&quot;JVMTI_EVENT_MONITOR_WAITED&quot; filtered=&quot;thread&quot; num=&quot;74&quot;&gt;
13451     &lt;description&gt;
13452       Sent when a thread finishes waiting on an object.
13453     &lt;/description&gt;
13454     &lt;origin&gt;jvmpi&lt;/origin&gt;
13455     &lt;capabilities&gt;
13456       &lt;required id=&quot;can_generate_monitor_events&quot;&gt;&lt;/required&gt;
13457     &lt;/capabilities&gt;
13458     &lt;parameters&gt;
13459       &lt;param id=&quot;jni_env&quot;&gt;
13460         &lt;outptr&gt;
13461           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13462         &lt;/outptr&gt;
13463           &lt;description&gt;
13464             The JNI environment of the event (current) thread
13465           &lt;/description&gt;
13466       &lt;/param&gt;
13467       &lt;param id=&quot;thread&quot;&gt;
13468         &lt;jthread/&gt;
13469           &lt;description&gt;
13470             JNI local reference to the thread that was finished waiting
13471           &lt;/description&gt;
13472       &lt;/param&gt;
13473       &lt;param id=&quot;object&quot;&gt;
13474         &lt;jobject/&gt;
13475           &lt;description&gt;
13476             JNI local reference to the monitor.
13477           &lt;/description&gt;
13478       &lt;/param&gt;
13479       &lt;param id=&quot;timed_out&quot;&gt;
13480         &lt;jboolean/&gt;
13481         &lt;description&gt;
13482           True if the monitor timed out
13483         &lt;/description&gt;
13484       &lt;/param&gt;
13485     &lt;/parameters&gt;
13486   &lt;/event&gt;
13487 
13488   &lt;event label=&quot;Resource Exhausted&quot;
13489          id=&quot;ResourceExhausted&quot; const=&quot;JVMTI_EVENT_RESOURCE_EXHAUSTED&quot; num=&quot;80&quot;
13490          since=&quot;1.1&quot;&gt;
13491     &lt;description&gt;
13492       Sent when a VM resource needed by a running application has been exhausted.
13493       Except as required by the optional capabilities, the set of resources
13494       which report exhaustion is implementation dependent.
13495       &lt;p/&gt;
13496       The following bit flags define the properties of the resource exhaustion:
13497       &lt;constants id=&quot;jvmtiResourceExhaustionFlags&quot;
13498                  label=&quot;Resource Exhaustion Flags&quot;
13499                  kind=&quot;bits&quot;
13500                  since=&quot;1.1&quot;&gt;
13501         &lt;constant id=&quot;JVMTI_RESOURCE_EXHAUSTED_OOM_ERROR&quot; num=&quot;0x0001&quot;&gt;
13502           After this event returns, the VM will throw a
13503           &lt;code&gt;java.lang.OutOfMemoryError&lt;/code&gt;.
13504         &lt;/constant&gt;
13505         &lt;constant id=&quot;JVMTI_RESOURCE_EXHAUSTED_JAVA_HEAP&quot; num=&quot;0x0002&quot;&gt;
13506           The VM was unable to allocate memory from the &lt;tm&gt;Java&lt;/tm&gt;
13507           platform &lt;i&gt;heap&lt;/i&gt;.
13508           The &lt;i&gt;heap&lt;/i&gt; is the runtime
13509           data area from which memory for all class instances and
13510           arrays are allocated.
13511         &lt;/constant&gt;
13512         &lt;constant id=&quot;JVMTI_RESOURCE_EXHAUSTED_THREADS&quot; num=&quot;0x0004&quot;&gt;
13513           The VM was unable to create a thread.
13514         &lt;/constant&gt;
13515       &lt;/constants&gt;
13516     &lt;/description&gt;
13517     &lt;origin&gt;new&lt;/origin&gt;
13518     &lt;capabilities&gt;
13519       &lt;capability id=&quot;can_generate_resource_exhaustion_heap_events&quot;&gt;
13520         Can generate events when the VM is unable to allocate memory from the
13521         &lt;internallink id=&quot;JVMTI_RESOURCE_EXHAUSTED_JAVA_HEAP&quot;&gt;heap&lt;/internallink&gt;.
13522       &lt;/capability&gt;
13523       &lt;capability id=&quot;can_generate_resource_exhaustion_threads_events&quot;&gt;
13524         Can generate events when the VM is unable to
13525         &lt;internallink id=&quot;JVMTI_RESOURCE_EXHAUSTED_THREADS&quot;&gt;create
13526         a thread&lt;/internallink&gt;.
13527       &lt;/capability&gt;
13528     &lt;/capabilities&gt;
13529     &lt;parameters&gt;
13530       &lt;param id=&quot;jni_env&quot;&gt;
13531         &lt;outptr&gt;
13532           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13533         &lt;/outptr&gt;
13534           &lt;description&gt;
13535             The JNI environment of the event (current) thread
13536           &lt;/description&gt;
13537       &lt;/param&gt;
13538       &lt;param id=&quot;flags&quot;&gt;
13539         &lt;jint/&gt;
13540         &lt;description&gt;
13541           Flags defining the properties of the of resource exhaustion
13542           as specified by the
13543           &lt;internallink id=&quot;jvmtiResourceExhaustionFlags&quot;&gt;Resource
13544           Exhaustion Flags&lt;/internallink&gt;.
13545           &lt;/description&gt;
13546         &lt;/param&gt;
13547       &lt;param id=&quot;reserved&quot;&gt;
13548         &lt;vmbuf&gt;&lt;void/&gt;&lt;/vmbuf&gt;
13549         &lt;description&gt;
13550           Reserved.
13551         &lt;/description&gt;
13552       &lt;/param&gt;
13553       &lt;param id=&quot;description&quot;&gt;
13554         &lt;vmbuf&gt;&lt;char/&gt;&lt;/vmbuf&gt;
13555         &lt;description&gt;
13556           Description of the resource exhaustion, encoded as a
13557           &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
13558         &lt;/description&gt;
13559       &lt;/param&gt;
13560     &lt;/parameters&gt;
13561   &lt;/event&gt;
13562 
13563   &lt;event label=&quot;VM Object Allocation&quot;
13564          id=&quot;VMObjectAlloc&quot; const=&quot;JVMTI_EVENT_VM_OBJECT_ALLOC&quot; num=&quot;84&quot;&gt;
13565     &lt;description&gt;
13566       Sent when a method causes the virtual machine to directly allocate an
13567       Object visible to Java programming language code.
13568       Generally object allocation should be detected by instrumenting
13569       the bytecodes of allocating methods.
13570       Object allocation generated in native code by JNI function
13571       calls should be detected using
13572       &lt;internallink id=&quot;jniIntercept&quot;&gt;JNI function interception&lt;/internallink&gt;.
13573       Some methods might not have associated bytecodes and are not
13574       native methods, they instead are executed directly by the
13575       VM. These methods should send this event.
13576       Virtual machines which are incapable of bytecode instrumentation
13577       for some or all of their methods can send this event.
13578 
13579       Note that the &lt;internallink
13580       id=&quot;SampledObjectAlloc&quot;&gt;SampledObjectAlloc&lt;/internallink&gt;
13581       event is triggered on all Java object allocations, including those
13582       caused by bytecode method execution, JNI method execution, and
13583       directly by VM methods.
13584       &lt;p/&gt;
13585       Typical examples where this event might be sent:
13586       &lt;ul&gt;
13587         &lt;li&gt;Reflection -- for example, &lt;code&gt;java.lang.Class.newInstance()&lt;/code&gt;&lt;/li&gt;
13588         &lt;li&gt;Methods not represented by bytecodes -- for example, VM intrinsics and
13589             J2ME preloaded classes&lt;/li&gt;
13590       &lt;/ul&gt;
13591       Cases where this event would not be generated:
13592       &lt;ul&gt;
13593         &lt;li&gt;Allocation due to bytecodes -- for example, the &lt;code&gt;new&lt;/code&gt;
13594             and &lt;code&gt;newarray&lt;/code&gt; VM instructions&lt;/li&gt;
13595         &lt;li&gt;Allocation due to JNI function calls -- for example,
13596             &lt;code&gt;AllocObject&lt;/code&gt;&lt;/li&gt;
13597         &lt;li&gt;Allocations during VM initialization&lt;/li&gt;
13598         &lt;li&gt;VM internal objects&lt;/li&gt;
13599       &lt;/ul&gt;
13600     &lt;/description&gt;
13601     &lt;origin&gt;new&lt;/origin&gt;
13602     &lt;capabilities&gt;
13603       &lt;required id=&quot;can_generate_vm_object_alloc_events&quot;&gt;&lt;/required&gt;
13604     &lt;/capabilities&gt;
13605     &lt;parameters&gt;
13606       &lt;param id=&quot;jni_env&quot;&gt;
13607         &lt;outptr&gt;
13608           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13609         &lt;/outptr&gt;
13610           &lt;description&gt;
13611             The JNI environment of the event (current) thread
13612           &lt;/description&gt;
13613       &lt;/param&gt;
13614       &lt;param id=&quot;thread&quot;&gt;
13615         &lt;jthread/&gt;
13616           &lt;description&gt;
13617             Thread allocating the object.
13618           &lt;/description&gt;
13619       &lt;/param&gt;
13620       &lt;param id=&quot;object&quot;&gt;
13621         &lt;jobject/&gt;
13622           &lt;description&gt;
13623             JNI local reference to the object that was allocated.
13624           &lt;/description&gt;
13625       &lt;/param&gt;
13626       &lt;param id=&quot;object_klass&quot;&gt;
13627         &lt;jclass/&gt;
13628           &lt;description&gt;
13629             JNI local reference to the class of the object.
13630           &lt;/description&gt;
13631       &lt;/param&gt;
13632       &lt;param id=&quot;size&quot;&gt;
13633         &lt;jlong/&gt;
13634         &lt;description&gt;
13635             Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
13636         &lt;/description&gt;
13637       &lt;/param&gt;
13638     &lt;/parameters&gt;
13639   &lt;/event&gt;
13640 
13641   &lt;event label=&quot;Sampled Object Allocation&quot;
13642     id=&quot;SampledObjectAlloc&quot; const=&quot;JVMTI_EVENT_SAMPLED_OBJECT_ALLOC&quot; filtered=&quot;thread&quot; num=&quot;86&quot; since=&quot;11&quot;&gt;
13643     &lt;description&gt;
13644       Sent when an allocated object is sampled.
13645       By default, the sampling interval is set to 512KB. The sampling is semi-random to avoid
13646       pattern-based bias and provides an approximate overall average interval over long periods of
13647       sampling.
13648       &lt;p/&gt;
13649       Each thread tracks how many bytes it has allocated since it sent the last event.
13650       When the number of bytes exceeds the sampling interval, it will send another event.
13651       This implies that, on average, one object will be sampled every time a thread has
13652       allocated 512KB bytes since the last sample.
13653       &lt;p/&gt;
13654       Note that the sampler is pseudo-random: it will not sample every 512KB precisely.
13655       The goal of this is to ensure high quality sampling even if allocation is
13656       happening in a fixed pattern (i.e., the same set of objects are being allocated
13657       every 512KB).
13658       &lt;p/&gt;
13659       If another sampling interval is required, the user can call
13660       &lt;functionlink id=&quot;SetHeapSamplingInterval&quot;&gt;&lt;/functionlink&gt; with a strictly positive integer value,
13661       representing the new sampling interval.
13662       &lt;p/&gt;
13663       This event is sent once the sampled allocation has been performed.  It provides the object, stack trace
13664       of the allocation, the thread allocating, the size of allocation, and the object&#39;s class.
13665       &lt;p/&gt;
13666       A typical use case of this system is to determine where heap allocations originate.
13667       In conjunction with weak references and the function
13668       &lt;functionlink id=&quot;GetStackTrace&quot;&gt;&lt;/functionlink&gt;, a user can track which objects were allocated from which
13669       stack trace, and which are still live during the execution of the program.
13670     &lt;/description&gt;
13671     &lt;origin&gt;new&lt;/origin&gt;
13672     &lt;capabilities&gt;
13673       &lt;required id=&quot;can_generate_sampled_object_alloc_events&quot;&gt;&lt;/required&gt;
13674     &lt;/capabilities&gt;
13675     &lt;parameters&gt;
13676       &lt;param id=&quot;jni_env&quot;&gt;
13677         &lt;outptr&gt;
13678           &lt;struct&gt;JNIEnv&lt;/struct&gt;
13679         &lt;/outptr&gt;
13680         &lt;description&gt;
13681           The JNI environment of the event (current) thread.
13682         &lt;/description&gt;
13683       &lt;/param&gt;
13684       &lt;param id=&quot;thread&quot;&gt;
13685         &lt;jthread/&gt;
13686         &lt;description&gt;
13687           Thread allocating the object.
13688         &lt;/description&gt;
13689       &lt;/param&gt;
13690       &lt;param id=&quot;object&quot;&gt;
13691         &lt;jobject/&gt;
13692         &lt;description&gt;
13693           JNI local reference to the object that was allocated.
13694         &lt;/description&gt;
13695       &lt;/param&gt;
13696       &lt;param id=&quot;object_klass&quot;&gt;
13697         &lt;jclass/&gt;
13698         &lt;description&gt;
13699           JNI local reference to the class of the object
13700         &lt;/description&gt;
13701       &lt;/param&gt;
13702       &lt;param id=&quot;size&quot;&gt;
13703         &lt;jlong/&gt;
13704         &lt;description&gt;
13705           Size of the object (in bytes). See &lt;functionlink id=&quot;GetObjectSize&quot;/&gt;.
13706         &lt;/description&gt;
13707       &lt;/param&gt;
13708     &lt;/parameters&gt;
13709   &lt;/event&gt;
13710 
13711   &lt;event label=&quot;Object Free&quot;
13712         id=&quot;ObjectFree&quot; const=&quot;JVMTI_EVENT_OBJECT_FREE&quot; num=&quot;83&quot;&gt;
13713     &lt;description&gt;
13714       An Object Free event is sent when the garbage collector frees an object.
13715       Events are only sent for tagged objects--see
13716       &lt;internallink id=&quot;Heap&quot;&gt;heap functions&lt;/internallink&gt;.
13717       &lt;p/&gt;
13718       The event handler must not use JNI functions and
13719       must not use &lt;jvmti/&gt; functions except those which
13720       specifically allow such use (see the raw monitor, memory management,
13721       and environment local storage functions).
13722     &lt;/description&gt;
13723     &lt;origin&gt;new&lt;/origin&gt;
13724     &lt;capabilities&gt;
13725       &lt;required id=&quot;can_generate_object_free_events&quot;&gt;&lt;/required&gt;
13726     &lt;/capabilities&gt;
13727     &lt;parameters&gt;
13728       &lt;param id=&quot;tag&quot;&gt;
13729         &lt;jlong/&gt;
13730         &lt;description&gt;
13731           The freed object&#39;s tag
13732         &lt;/description&gt;
13733       &lt;/param&gt;
13734     &lt;/parameters&gt;
13735   &lt;/event&gt;
13736 
13737   &lt;event label=&quot;Garbage Collection Start&quot;
13738          id=&quot;GarbageCollectionStart&quot; const=&quot;JVMTI_EVENT_GARBAGE_COLLECTION_START&quot; num=&quot;81&quot;&gt;
13739     &lt;description&gt;
13740       A Garbage Collection Start event is sent when a
13741       garbage collection pause begins.
13742       Only stop-the-world collections are reported--that is, collections during
13743       which all threads cease to modify the state of the Java virtual machine.
13744       This means that some collectors will never generate these events.
13745       This event is sent while the VM is still stopped, thus
13746       the event handler must not use JNI functions and
13747       must not use &lt;jvmti/&gt; functions except those which
13748       specifically allow such use (see the raw monitor, memory management,
13749       and environment local storage functions).
13750       &lt;p/&gt;
13751       This event is always sent as a matched pair with
13752       &lt;eventlink id=&quot;GarbageCollectionFinish&quot;/&gt;
13753       (assuming both events are enabled) and no garbage collection
13754       events will occur between them.
13755     &lt;/description&gt;
13756     &lt;origin&gt;new&lt;/origin&gt;
13757     &lt;capabilities&gt;
13758       &lt;required id=&quot;can_generate_garbage_collection_events&quot;&gt;&lt;/required&gt;
13759     &lt;/capabilities&gt;
13760     &lt;parameters&gt;
13761     &lt;/parameters&gt;
13762   &lt;/event&gt;
13763 
13764   &lt;event label=&quot;Garbage Collection Finish&quot;
13765          id=&quot;GarbageCollectionFinish&quot; const=&quot;JVMTI_EVENT_GARBAGE_COLLECTION_FINISH&quot; num=&quot;82&quot;&gt;
13766     &lt;description&gt;
13767       A Garbage Collection Finish event is sent when a
13768       garbage collection pause ends.
13769       This event is sent while the VM is still stopped, thus
13770       the event handler must not use JNI functions and
13771       must not use &lt;jvmti/&gt; functions except those which
13772       specifically allow such use (see the raw monitor, memory management,
13773       and environment local storage functions).
13774       &lt;p/&gt;
13775       Some agents may need to do post garbage collection operations that
13776       require the use of the disallowed &lt;jvmti/&gt; or JNI functions. For these
13777       cases an agent thread can be created which waits on a raw monitor,
13778       and the handler for the Garbage Collection Finish event simply
13779       notifies the raw monitor
13780       &lt;p/&gt;
13781       This event is always sent as a matched pair with
13782       &lt;eventlink id=&quot;GarbageCollectionStart&quot;/&gt; (assuming both events are enabled).
13783       &lt;issue&gt;
13784         The most important use of this event is to provide timing information,
13785         and thus additional information is not required.  However,
13786         information about the collection which is &quot;free&quot; should be included -
13787         what that information is needs to be determined.
13788       &lt;/issue&gt;
13789     &lt;/description&gt;
13790     &lt;origin&gt;new&lt;/origin&gt;
13791     &lt;capabilities&gt;
13792       &lt;required id=&quot;can_generate_garbage_collection_events&quot;&gt;&lt;/required&gt;
13793     &lt;/capabilities&gt;
13794     &lt;parameters&gt;
13795     &lt;/parameters&gt;
13796   &lt;/event&gt;
13797 
13798   &lt;elide&gt;
13799   &lt;event label=&quot;Verbose Output&quot; phase=&quot;any&quot;
13800          id=&quot;VerboseOutput&quot; const=&quot;JVMTI_EVENT_VERBOSE_OUTPUT&quot; num=&quot;85&quot;&gt;
13801     &lt;description&gt;
13802       Send verbose messages as strings.
13803         &lt;issue&gt;
13804           This format is extremely fragile, as it can change with each
13805           platform, collector and version.  Alternatives include:
13806           &lt;ul&gt;
13807             &lt;li&gt;building off Java programming language M and M APIs&lt;/li&gt;
13808             &lt;li&gt;XML&lt;/li&gt;
13809             &lt;li&gt;key/value pairs&lt;/li&gt;
13810             &lt;li&gt;removing it&lt;/li&gt;
13811           &lt;/ul&gt;
13812         &lt;/issue&gt;
13813         &lt;issue&gt;
13814           Though this seemed trivial to implement.
13815           In the RI it appears this will be quite complex.
13816         &lt;/issue&gt;
13817     &lt;/description&gt;
13818     &lt;origin&gt;new&lt;/origin&gt;
13819     &lt;capabilities&gt;
13820     &lt;/capabilities&gt;
13821     &lt;parameters&gt;
13822       &lt;param id=&quot;flag&quot;&gt;
13823         &lt;enum&gt;jvmtiVerboseFlag&lt;/enum&gt;
13824         &lt;description&gt;
13825           Which verbose output is being sent.
13826         &lt;/description&gt;
13827       &lt;/param&gt;
13828       &lt;param id=&quot;message&quot;&gt;
13829         &lt;vmbuf&gt;&lt;char/&gt;&lt;/vmbuf&gt;
13830         &lt;description&gt;
13831           Message text, encoded as a
13832           &lt;internallink id=&quot;mUTF&quot;&gt;modified UTF-8&lt;/internallink&gt; string.
13833         &lt;/description&gt;
13834       &lt;/param&gt;
13835     &lt;/parameters&gt;
13836   &lt;/event&gt;
13837   &lt;/elide&gt;
13838 
13839 &lt;/eventsection&gt;
13840 
13841 &lt;datasection&gt;
13842   &lt;intro&gt;
13843     &lt;jvmti/&gt; extends the data types defined by JNI.
13844   &lt;/intro&gt;
13845   &lt;basetypes id=&quot;jniTypes&quot; label=&quot;JNI Types Used in the JVM Tool Interface&quot;&gt;
13846     &lt;basetype id=&quot;jboolean&quot;&gt;
13847       &lt;description&gt;
13848         Holds a Java programming language &lt;code&gt;boolean&lt;/code&gt;.
13849         Unsigned 8 bits.
13850       &lt;/description&gt;
13851     &lt;/basetype&gt;
13852     &lt;basetype id=&quot;jchar&quot;&gt;
13853       &lt;description&gt;
13854         Holds a Java programming language &lt;code&gt;char&lt;/code&gt;.
13855         Unsigned 16 bits.
13856       &lt;/description&gt;
13857     &lt;/basetype&gt;
13858     &lt;basetype id=&quot;jint&quot;&gt;
13859       &lt;description&gt;
13860         Holds a Java programming language &lt;code&gt;int&lt;/code&gt;.
13861         Signed 32 bits.
13862       &lt;/description&gt;
13863     &lt;/basetype&gt;
13864     &lt;basetype id=&quot;jlong&quot;&gt;
13865       &lt;description&gt;
13866         Holds a Java programming language &lt;code&gt;long&lt;/code&gt;.
13867         Signed 64 bits.
13868       &lt;/description&gt;
13869     &lt;/basetype&gt;
13870     &lt;basetype id=&quot;jfloat&quot;&gt;
13871       &lt;description&gt;
13872         Holds a Java programming language &lt;code&gt;float&lt;/code&gt;.
13873         32 bits.
13874       &lt;/description&gt;
13875     &lt;/basetype&gt;
13876     &lt;basetype id=&quot;jdouble&quot;&gt;
13877       &lt;description&gt;
13878         Holds a Java programming language &lt;code&gt;double&lt;/code&gt;.
13879         64 bits.
13880       &lt;/description&gt;
13881     &lt;/basetype&gt;
13882     &lt;basetype id=&quot;jobject&quot;&gt;
13883       &lt;description&gt;
13884         Holds a Java programming language object.
13885       &lt;/description&gt;
13886     &lt;/basetype&gt;
13887     &lt;basetype id=&quot;jclass&quot;&gt;
13888       &lt;description&gt;
13889         Holds a Java programming language class.
13890       &lt;/description&gt;
13891     &lt;/basetype&gt;
13892     &lt;basetype id=&quot;jvalue&quot;&gt;
13893       &lt;description&gt;
13894         Is a union of all primitive types and &lt;code&gt;jobject&lt;/code&gt;.  Thus, holds any Java
13895         programming language value.
13896       &lt;/description&gt;
13897     &lt;/basetype&gt;
13898     &lt;basetype id=&quot;jfieldID&quot;&gt;
13899       &lt;description&gt;
13900         Identifies a Java programming language field.
13901         &lt;code&gt;jfieldID&lt;/code&gt;s returned by &lt;jvmti/&gt; functions and events may be
13902         safely stored.
13903       &lt;/description&gt;
13904     &lt;/basetype&gt;
13905     &lt;basetype id=&quot;jmethodID&quot;&gt;
13906       &lt;description&gt;
13907         Identifies a Java programming language method, initializer, or constructor.
13908         &lt;code&gt;jmethodID&lt;/code&gt;s returned by &lt;jvmti/&gt; functions and events may be
13909         safely stored.  However, if the class is unloaded, they become invalid
13910         and must not be used.
13911       &lt;/description&gt;
13912     &lt;/basetype&gt;
13913     &lt;basetype id=&quot;JNIEnv&quot;&gt;
13914       &lt;description&gt;
13915         Pointer to the JNI function table.  Pointer to this (&lt;code&gt;JNIEnv *&lt;/code&gt;)
13916         is a JNI environment.
13917       &lt;/description&gt;
13918     &lt;/basetype&gt;
13919   &lt;/basetypes&gt;
13920 
13921   &lt;basetypes id=&quot;jvmtiTypes&quot; label=&quot;JVM Tool Interface Base Types&quot;&gt;
13922     &lt;basetype id=&quot;jvmtiEnv&quot;&gt;
13923       &lt;description&gt;
13924         The &lt;jvmti/&gt; &lt;internallink id=&quot;environments&quot;&gt;environment&lt;/internallink&gt; pointer.
13925         See the &lt;internallink id=&quot;FunctionSection&quot;&gt;Function Section&lt;/internallink&gt;.
13926         &lt;code&gt;jvmtiEnv&lt;/code&gt; points to the
13927         &lt;internallink id=&quot;FunctionTable&quot;&gt;function table&lt;/internallink&gt; pointer.
13928       &lt;/description&gt;
13929     &lt;/basetype&gt;
13930     &lt;basetype id=&quot;jthread&quot;&gt;
13931       &lt;definition&gt;typedef jobject jthread;&lt;/definition&gt;
13932       &lt;description&gt;
13933         Subtype of &lt;datalink id=&quot;jobject&quot;&gt;&lt;/datalink&gt; that holds a thread.
13934       &lt;/description&gt;
13935     &lt;/basetype&gt;
13936     &lt;basetype id=&quot;jthreadGroup&quot;&gt;
13937       &lt;definition&gt;typedef jobject jthreadGroup;&lt;/definition&gt;
13938       &lt;description&gt;
13939         Subtype of &lt;datalink id=&quot;jobject&quot;&gt;&lt;/datalink&gt; that holds a thread group.
13940       &lt;/description&gt;
13941     &lt;/basetype&gt;
13942     &lt;basetype id=&quot;jlocation&quot;&gt;
13943       &lt;definition&gt;typedef jlong jlocation;&lt;/definition&gt;
13944       &lt;description&gt;
13945         A 64 bit value, representing a monotonically increasing
13946         executable position within a method.
13947         &lt;code&gt;-1&lt;/code&gt; indicates a native method.
13948         See &lt;functionlink id=&quot;GetJLocationFormat&quot;&gt;&lt;/functionlink&gt; for the format on a
13949         given VM.
13950       &lt;/description&gt;
13951     &lt;/basetype&gt;
13952     &lt;basetype id=&quot;jrawMonitorID&quot;&gt;
13953       &lt;definition&gt;struct _jrawMonitorID;
13954 typedef struct _jrawMonitorID *jrawMonitorID;&lt;/definition&gt;
13955       &lt;description&gt;
13956         A raw monitor.
13957       &lt;/description&gt;
13958     &lt;/basetype&gt;
13959     &lt;basetype id=&quot;jvmtiError&quot;&gt;
13960       &lt;description&gt;
13961         Holds an error return code.
13962         See the &lt;internallink id=&quot;ErrorSection&quot;&gt;Error section&lt;/internallink&gt; for possible values.
13963         &lt;example&gt;
13964 typedef enum {
13965     JVMTI_ERROR_NONE = 0,
13966     JVMTI_ERROR_INVALID_THREAD = 10,
13967       ...
13968 } jvmtiError;
13969 &lt;/example&gt;
13970       &lt;/description&gt;
13971     &lt;/basetype&gt;
13972     &lt;basetype id=&quot;jvmtiEvent&quot;&gt;
13973       &lt;description&gt;
13974         An identifier for an event type.
13975         See the &lt;internallink id=&quot;EventSection&quot;&gt;Event section&lt;/internallink&gt; for possible values.
13976         It is guaranteed that future versions of this specification will
13977         never assign zero as an event type identifier.
13978 &lt;example&gt;
13979 typedef enum {
13980     JVMTI_EVENT_SINGLE_STEP = 1,
13981     JVMTI_EVENT_BREAKPOINT = 2,
13982       ...
13983 } jvmtiEvent;
13984 &lt;/example&gt;
13985       &lt;/description&gt;
13986     &lt;/basetype&gt;
13987     &lt;basetype id=&quot;jvmtiEventCallbacks&quot; name=&quot;eventCallbacks&quot;&gt;
13988       &lt;description&gt;
13989         The callbacks used for events.
13990 &lt;example&gt;
13991 typedef struct {
13992     jvmtiEventVMInit VMInit;
13993     jvmtiEventVMDeath VMDeath;
13994       ...
13995 } jvmtiEventCallbacks;
13996 &lt;/example&gt;
13997         See &lt;internallink id=&quot;jvmtiEventCallbacks&quot;&gt;event callbacks&lt;/internallink&gt;
13998         for the complete structure.
13999         &lt;p/&gt;
14000         Where, for example, the VM initialization callback is defined:
14001 &lt;example&gt;
14002 typedef void (JNICALL *jvmtiEventVMInit)
14003     (jvmtiEnv *jvmti_env,
14004      JNIEnv* jni_env,
14005      jthread thread);
14006 &lt;/example&gt;
14007         See the individual events for the callback function definition.
14008       &lt;/description&gt;
14009     &lt;/basetype&gt;
14010     &lt;basetype id=&quot;jniNativeInterface&quot;&gt;
14011       &lt;definition&gt;typedef struct JNINativeInterface_ jniNativeInterface;&lt;/definition&gt;
14012       &lt;description&gt;
14013         Typedef for the JNI function table &lt;code&gt;JNINativeInterface&lt;/code&gt;
14014         defined in the
14015         &lt;externallink id=&quot;jni/functions.html#interface-function-table&quot;&gt;
14016           JNI Specification&lt;/externallink&gt;.
14017         The JNI reference implementation defines this with an underscore.
14018       &lt;/description&gt;
14019     &lt;/basetype&gt;
14020   &lt;/basetypes&gt;
14021 
14022 &lt;/datasection&gt;
14023 
14024 &lt;issuessection label=&quot;Issues&quot;&gt;
14025   &lt;intro id=&quot;suspendRequired&quot; label=&quot;Resolved Issue: Suspend - Required or Automatic&quot;&gt;
14026     JVMDI requires that the agent suspend threads before calling
14027     certain sensitive functions.  JVMPI requires garbage collection to be
14028     disabled before calling certain sensitive functions.
14029     It was suggested that rather than have this requirement, that
14030     VM place itself in a suitable state before performing an
14031     operation.  This makes considerable sense since each VM
14032     knows its requirements and can most easily arrange a
14033     safe state.
14034     &lt;p/&gt;
14035     The ability to externally suspend/resume threads will, of
14036     course, remain.  The ability to enable/disable garbage collection will not.
14037     &lt;p/&gt;
14038     This issue is resolved--suspend will not
14039     be required.  The spec has been updated to reflect this.
14040   &lt;/intro&gt;
14041 
14042   &lt;intro id=&quot;stackSampling&quot; label=&quot;Resolved Issue: Call Stack Sampling&quot;&gt;
14043     There are a variety of approaches to sampling call stacks.
14044     The biggest bifurcation is between VM controlled and agent
14045     controlled.
14046     &lt;p/&gt;
14047     This issue is resolved--agent controlled
14048     sampling will be the approach.
14049   &lt;/intro&gt;
14050 
14051   &lt;intro id=&quot;threadRepresentation&quot; label=&quot;Resolved Issue: Thread Representation&quot;&gt;
14052     JVMDI represents threads as jthread.  JVMPI primarily
14053     uses JNIEnv* to represent threads.
14054     &lt;p/&gt;
14055     The Expert Group has chosen jthread as the representation
14056     for threads in &lt;jvmti/&gt;.
14057     JNIEnv* is sent by
14058     events since it is needed to JNI functions.  JNIEnv, per the
14059     JNI spec, are not supposed to be used outside their thread.
14060   &lt;/intro&gt;
14061 
14062   &lt;intro id=&quot;design&quot; label=&quot;Resolved Issue: Method Representation&quot;&gt;
14063     The JNI spec allows an implementation to depend on jclass/jmethodID
14064     pairs, rather than simply a jmethodID, to reference a method.
14065     JVMDI, for consistency, choose the same representation.
14066     JVMPI, however, specifies that a jmethodID alone maps to a
14067     method.  Both of the Sun &lt;tm&gt;J2SE&lt;/tm&gt; virtual machines (Classic and &lt;tm&gt;HotSpot&lt;/tm&gt;) store
14068     pointers in jmethodIDs, and as a result, a jmethodID is sufficient.
14069     In fact, any JVM implementation that supports JVMPI must have
14070     such a representation.
14071     &lt;jvmti/&gt; will use jmethodID as a unique representation of a method
14072     (no jclass is used).
14073     There should be efficiency gains, particularly in
14074     functionality like stack dumping, to this representation.
14075     &lt;p/&gt;
14076     Note that fields were not used in JVMPI and that the access profile
14077     of fields differs from methods--for implementation efficiency
14078     reasons, a jclass/jfieldID pair will still be needed for field
14079     reference.
14080   &lt;/intro&gt;
14081 
14082   &lt;intro id=&quot;localReferenceIssue&quot; label=&quot;Resolved Issue: Local References&quot;&gt;
14083     Functions return local references.
14084   &lt;/intro&gt;
14085 
14086   &lt;intro id=&quot;frameRep&quot; label=&quot;Resolved Issue: Representation of frames&quot;&gt;
14087     In JVMDI, a frame ID is used to represent a frame.  Problem with this
14088     is that a VM must track when a frame becomes invalid, a far better
14089     approach, and the one used in &lt;jvmti/&gt;, is to reference frames by depth.
14090   &lt;/intro&gt;
14091 
14092   &lt;intro id=&quot;requiredCapabilities&quot; label=&quot;Issue: Required Capabilities&quot;&gt;
14093     Currently, having a required capabilities means that the functionality
14094     is optional.   Capabilities are useful even for required functionality
14095     since they can inform the VM is needed set-up.  Thus, there should be
14096     a set of capabilities that a conformant implementation must provide
14097     (if requested during Agent_OnLoad).
14098   &lt;/intro&gt;
14099 
14100   &lt;intro id=&quot;taghint&quot; label=&quot;Proposal: add tag hint function&quot;&gt;
14101     A hint of the percentage of objects that will be tagged would
14102     help the VM pick a good implementation.
14103   &lt;/intro&gt;
14104 
14105   &lt;intro id=&quot;moreMonitorQueries&quot; label=&quot;Request: More Monitor Quires&quot;&gt;
14106   How difficult or easy would be to extend the monitor_info category to include
14107     &lt;pre&gt;
14108   - current number of monitors
14109   - enumeration of monitors
14110   - enumeration of threads waiting on a given monitor
14111     &lt;/pre&gt;
14112   The reason for my question is the fact that current get_monitor_info support
14113   requires the agent to specify a given thread to get the info which is probably
14114   OK in the profiling/debugging space, while in the monitoring space the agent
14115   could be watching the monitor list and then decide which thread to ask for
14116   the info. You might ask why is this important for monitoring .... I think it
14117   can aid in the detection/prediction of application contention caused by hot-locks.
14118   &lt;/intro&gt;
14119 &lt;/issuessection&gt;
14120 
14121 &lt;changehistory id=&quot;ChangeHistory&quot; update=&quot;09/05/07&quot;&gt;
14122   &lt;intro&gt;
14123     The &lt;jvmti/&gt; specification is an evolving document with major, minor,
14124     and micro version numbers.
14125     A released version of the specification is uniquely identified
14126     by its major and minor version.
14127     The functions, events, and capabilities in this specification
14128     indicate a &quot;Since&quot; value which is the major and minor version in
14129     which it was introduced.
14130     The version of the specification implemented by the VM can
14131     be retrieved at runtime with the &lt;functionlink id=&quot;GetVersionNumber&quot;/&gt;
14132     function.
14133   &lt;/intro&gt;
14134   &lt;change date=&quot;14 Nov 2002&quot;&gt;
14135     Converted to XML document.
14136   &lt;/change&gt;
14137   &lt;change date=&quot;14 Nov 2002&quot;&gt;
14138     Elided heap dump functions (for now) since what was there
14139     was wrong.
14140   &lt;/change&gt;
14141   &lt;change date=&quot;18 Nov 2002&quot;&gt;
14142     Added detail throughout.
14143   &lt;/change&gt;
14144   &lt;change date=&quot;18 Nov 2002&quot;&gt;
14145     Changed JVMTI_THREAD_STATUS_RUNNING to JVMTI_THREAD_STATUS_RUNNABLE.
14146   &lt;/change&gt;
14147   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14148     Added AsyncGetStackTrace.
14149   &lt;/change&gt;
14150   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14151     Added jframeID return to GetStackTrace.
14152   &lt;/change&gt;
14153   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14154     Elided GetCurrentFrame and GetCallingFrame functions (for now) since what was there
14155     since they are redundant with GetStackTrace.
14156   &lt;/change&gt;
14157   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14158     Elided ClearAllBreakpoints since it has always been redundant.
14159   &lt;/change&gt;
14160   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14161     Added GetSystemProperties.
14162   &lt;/change&gt;
14163   &lt;change date=&quot;19 Nov 2002&quot;&gt;
14164     Changed the thread local storage functions to use jthread.
14165   &lt;/change&gt;
14166   &lt;change date=&quot;20 Nov 2002&quot;&gt;
14167     Added GetJLocationFormat.
14168   &lt;/change&gt;
14169   &lt;change date=&quot;22 Nov 2002&quot;&gt;
14170     Added events and introductory text.
14171   &lt;/change&gt;
14172   &lt;change date=&quot;22 Nov 2002&quot;&gt;
14173     Cross reference type and constant definitions.
14174   &lt;/change&gt;
14175   &lt;change date=&quot;24 Nov 2002&quot;&gt;
14176     Added DTD.
14177   &lt;/change&gt;
14178   &lt;change date=&quot;24 Nov 2002&quot;&gt;
14179     Added capabilities function section.
14180   &lt;/change&gt;
14181   &lt;change date=&quot;29 Nov 2002&quot;&gt;
14182     Assign capabilities to each function and event.
14183   &lt;/change&gt;
14184   &lt;change date=&quot;29 Nov 2002&quot;&gt;
14185     Add &lt;internallink id=&quot;jniIntercept&quot;&gt;JNI interception functions&lt;/internallink&gt;.
14186   &lt;/change&gt;
14187   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14188     Auto generate SetEventNotificationMode capabilities.
14189   &lt;/change&gt;
14190   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14191     Add &lt;eventlink id=&quot;VMObjectAlloc&quot;&gt;&lt;/eventlink&gt; event.
14192   &lt;/change&gt;
14193   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14194     Add &lt;eventlink id=&quot;DynamicCodeGenerated&quot;&gt;&lt;/eventlink&gt; event.
14195   &lt;/change&gt;
14196   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14197     Add const to declarations.
14198   &lt;/change&gt;
14199   &lt;change date=&quot;30 Nov 2002&quot;&gt;
14200     Change method exit and frame pop to send on exception.
14201   &lt;/change&gt;
14202   &lt;change date=&quot;1 Dec 2002&quot;&gt;
14203     Add ForceGarbageCollection.
14204   &lt;/change&gt;
14205   &lt;change date=&quot;2 Dec 2002&quot;&gt;
14206     Redo Xrun section; clarify GetStackTrace and add example;
14207     Fix width problems; use &quot;agent&quot; consistently.
14208   &lt;/change&gt;
14209   &lt;change date=&quot;8 Dec 2002&quot;&gt;
14210     Remove previous start-up intro.
14211     Add &lt;internallink id=&quot;environments&quot;&gt;&lt;jvmti/&gt; Environments&lt;/internallink&gt;
14212     section.
14213   &lt;/change&gt;
14214   &lt;change date=&quot;8 Dec 2002&quot;&gt;
14215     Add &lt;functionlink id=&quot;DisposeEnvironment&quot;&gt;&lt;/functionlink&gt;.
14216   &lt;/change&gt;
14217   &lt;change date=&quot;9 Dec 2002&quot;&gt;
14218     Numerous minor updates.
14219   &lt;/change&gt;
14220   &lt;change date=&quot;15 Dec 2002&quot;&gt;
14221     Add heap profiling functions added:
14222     get/set annotation, iterate live objects/heap.
14223     Add heap profiling functions place holder added:
14224     heap roots.
14225     Heap profiling event added: object free.
14226     Heap profiling event redesigned: vm object allocation.
14227     Heap profiling event placeholders added: garbage collection start/finish.
14228     Native method bind event added.
14229   &lt;/change&gt;
14230   &lt;change date=&quot;19 Dec 2002&quot;&gt;
14231     Revamp suspend/resume functions.
14232     Add origin information with jvmdi tag.
14233     Misc fixes.
14234   &lt;/change&gt;
14235   &lt;change date=&quot;24 Dec 2002&quot;&gt;
14236     Add semantics to types.
14237   &lt;/change&gt;
14238   &lt;change date=&quot;27 Dec 2002&quot;&gt;
14239     Add local reference section.
14240     Autogenerate parameter descriptions from types.
14241   &lt;/change&gt;
14242   &lt;change date=&quot;28 Dec 2002&quot;&gt;
14243     Document that RunAgentThread sends threadStart.
14244   &lt;/change&gt;
14245   &lt;change date=&quot;29 Dec 2002&quot;&gt;
14246     Remove redundant local ref and dealloc warning.
14247     Convert GetRawMonitorName to allocated buffer.
14248     Add GenerateEvents.
14249   &lt;/change&gt;
14250   &lt;change date=&quot;30 Dec 2002&quot;&gt;
14251     Make raw monitors a type and rename to &quot;jrawMonitorID&quot;.
14252   &lt;/change&gt;
14253   &lt;change date=&quot;1 Jan 2003&quot;&gt;
14254     Include origin information.
14255     Clean-up JVMDI issue references.
14256     Remove Deallocate warnings which are now automatically generated.
14257   &lt;/change&gt;
14258   &lt;change date=&quot;2 Jan 2003&quot;&gt;
14259     Fix representation issues for jthread.
14260   &lt;/change&gt;
14261   &lt;change date=&quot;3 Jan 2003&quot;&gt;
14262     Make capabilities buffered out to 64 bits - and do it automatically.
14263   &lt;/change&gt;
14264   &lt;change date=&quot;4 Jan 2003&quot;&gt;
14265     Make constants which are enumeration into enum types.
14266     Parameters now of enum type.
14267     Clean-up and index type section.
14268     Replace remaining datadef entities with callback.
14269   &lt;/change&gt;
14270   &lt;change date=&quot;7 Jan 2003&quot;&gt;
14271     Correct GenerateEvents description.
14272     More internal semantics work.
14273   &lt;/change&gt;
14274   &lt;change date=&quot;9 Jan 2003&quot;&gt;
14275     Replace previous GetSystemProperties with two functions
14276     which use allocated information instead fixed.
14277     Add SetSystemProperty.
14278     More internal semantics work.
14279   &lt;/change&gt;
14280   &lt;change date=&quot;12 Jan 2003&quot;&gt;
14281     Add varargs to end of SetEventNotificationMode.
14282   &lt;/change&gt;
14283   &lt;change date=&quot;20 Jan 2003&quot;&gt;
14284     Finish fixing spec to reflect that alloc sizes are jlong.
14285   &lt;/change&gt;
14286   &lt;change date=&quot;22 Jan 2003&quot;&gt;
14287     Allow NULL as RunAgentThread arg.
14288   &lt;/change&gt;
14289   &lt;change date=&quot;22 Jan 2003&quot;&gt;
14290     Fixed names to standardized naming convention
14291     Removed AsyncGetStackTrace.
14292   &lt;/change&gt;
14293   &lt;change date=&quot;29 Jan 2003&quot;&gt;
14294     Since we are using jthread, removed GetThread.
14295   &lt;/change&gt;
14296   &lt;change date=&quot;31 Jan 2003&quot;&gt;
14297     Change GetFieldName to allow NULLs like GetMethodName.
14298   &lt;/change&gt;
14299   &lt;change date=&quot;29 Feb 2003&quot; version=&quot;v40&quot;&gt;
14300       Rewrite the introductory text, adding sections on
14301       start-up, environments and bytecode instrumentation.
14302       Change the command line arguments per EG discussions.
14303       Add an introduction to the capabilities section.
14304       Add the extension mechanism category and functions.
14305       Mark for deletion, but clarified anyhow, SuspendAllThreads.
14306       Rename IterateOverLiveObjects to IterateOverReachableObjects and
14307       change the text accordingly.
14308       Clarify IterateOverHeap.
14309       Clarify CompiledMethodLoad.
14310       Discuss prerequisite state for Calling Functions.
14311       Clarify SetAllocationHooks.
14312       Added issues (&quot;To be resolved:&quot;) through-out.
14313       And so on...
14314   &lt;/change&gt;
14315   &lt;change date=&quot;6 Mar 2003&quot; version=&quot;v41&quot;&gt;
14316       Remove struct from the call to GetOwnedMonitorInfo.
14317       Automatically generate most error documentation, remove
14318       (rather broken) hand written error doc.
14319       Better describe capability use (empty initial set).
14320       Add min value to jint params.
14321       Remove the capability can_access_thread_local_storage.
14322       Rename error JVMTI_ERROR_NOT_IMPLEMENTED to JVMTI_ERROR_MUST_POSSESS_CAPABILITY;
14323       same for *NOT_IMPLEMENTED.
14324       Description fixes.
14325   &lt;/change&gt;
14326   &lt;change date=&quot;8 Mar 2003&quot; version=&quot;v42&quot;&gt;
14327       Rename GetClassSignature to GetClassName.
14328       Rename IterateOverClassObjects to IterateOverInstancesOfClass.
14329       Remove GetMaxStack (operand stack isn&#39;t used in &lt;jvmti/&gt;).
14330       Description fixes: define launch-time, remove native frame pop
14331       from PopFrame, and assorted clarifications.
14332   &lt;/change&gt;
14333   &lt;change date=&quot;8 Mar 2003&quot; version=&quot;v43&quot;&gt;
14334       Fix minor editing problem.
14335   &lt;/change&gt;
14336   &lt;change date=&quot;10 Mar 2003&quot; version=&quot;v44&quot;&gt;
14337       Add phase information.
14338       Remap (compact) event numbers.
14339   &lt;/change&gt;
14340   &lt;change date=&quot;11 Mar 2003&quot; version=&quot;v45&quot;&gt;
14341       More phase information - allow &quot;any&quot;.
14342       Elide raw monitor queries and events.
14343       Minor description fixes.
14344   &lt;/change&gt;
14345   &lt;change date=&quot;12 Mar 2003&quot; version=&quot;v46&quot;&gt;
14346       Add GetPhase.
14347       Use &quot;phase&quot; through document.
14348       Elide GetRawMonitorName.
14349       Elide GetObjectMonitors.
14350   &lt;/change&gt;
14351   &lt;change date=&quot;12 Mar 2003&quot; version=&quot;v47&quot;&gt;
14352       Fixes from link, XML, and spell checking.
14353       Auto-generate the callback structure.
14354   &lt;/change&gt;
14355   &lt;change date=&quot;13 Mar 2003&quot; version=&quot;v48&quot;&gt;
14356       One character XML fix.
14357   &lt;/change&gt;
14358   &lt;change date=&quot;13 Mar 2003&quot; version=&quot;v49&quot;&gt;
14359       Change function parameter names to be consistent with
14360       event parameters (fooBarBaz becomes foo_bar_baz).
14361   &lt;/change&gt;
14362   &lt;change date=&quot;14 Mar 2003&quot; version=&quot;v50&quot;&gt;
14363       Fix broken link.  Fix thread markers.
14364   &lt;/change&gt;
14365   &lt;change date=&quot;14 Mar 2003&quot; version=&quot;v51&quot;&gt;
14366       Change constants so they are under 128 to workaround
14367       compiler problems.
14368   &lt;/change&gt;
14369   &lt;change date=&quot;23 Mar 2003&quot; version=&quot;v52&quot;&gt;
14370       Overhaul capabilities.  Separate GetStackTrace into
14371       GetStackTrace and GetStackFrames.
14372   &lt;/change&gt;
14373   &lt;change date=&quot;8 Apr 2003&quot; version=&quot;v54&quot;&gt;
14374       Use depth instead of jframeID to reference frames.
14375       Remove the now irrelevant GetCurrentFrame, GetCallerFrame and GetStackFrames.
14376       Remove frame arg from events.
14377   &lt;/change&gt;
14378   &lt;change date=&quot;9 Apr 2003&quot; version=&quot;v55&quot;&gt;
14379       Remove GetObjectWithAnnotation since tests show bufferred approach more efficient.
14380       Add missing annotation_count to GetObjectsWithAnnotations
14381   &lt;/change&gt;
14382   &lt;change date=&quot;10 Apr 2003&quot; version=&quot;v56&quot;&gt;
14383       Remove confusing parenthetical statement in GetObjectsWithAnnotations
14384   &lt;/change&gt;
14385   &lt;change date=&quot;13 Apr 2003&quot; version=&quot;v58&quot;&gt;
14386       Replace jclass/jmethodID representation of method with simply jmethodID;
14387       Pass JvmtiEnv* as first arg of every event; remove JNIEnv* where inappropriate.
14388       Replace can_access_frames with can_access_local_variables; remove from purely stack access.
14389       Use can_get_synthetic_attribute; fix description.
14390       Clarify that zero length arrays must be deallocated.
14391       Clarify RelinquishCapabilities.
14392       Generalize JVMTI_ERROR_VM_DEAD to JVMTI_ERROR_WRONG_PHASE.
14393   &lt;/change&gt;
14394   &lt;change date=&quot;27 Apr 2003&quot; version=&quot;v59&quot;&gt;
14395       Remove lingering indirect references to OBSOLETE_METHOD_ID.
14396   &lt;/change&gt;
14397   &lt;change date=&quot;4 May 2003&quot; version=&quot;v60&quot;&gt;
14398       Allow DestroyRawMonitor during OnLoad.
14399   &lt;/change&gt;
14400   &lt;change date=&quot;7 May 2003&quot; version=&quot;v61&quot;&gt;
14401       Added not monitor owner error return to DestroyRawMonitor.
14402   &lt;/change&gt;
14403   &lt;change date=&quot;13 May 2003&quot; version=&quot;v62&quot;&gt;
14404       Clarify semantics of raw monitors.
14405       Change flags on &lt;code&gt;GetThreadStatus&lt;/code&gt;.
14406       &lt;code&gt;GetClassLoader&lt;/code&gt; return NULL for the bootstrap class loader.
14407       Add &lt;code&gt;GetClassName&lt;/code&gt; issue.
14408       Define local variable signature.
14409       Disallow zero in annotations array of &lt;code&gt;GetObjectsWithAnnotations&lt;/code&gt;.
14410       Remove over specification in &lt;code&gt;GetObjectsWithAnnotations&lt;/code&gt;.
14411       Elide &lt;code&gt;SetAllocationHooks&lt;/code&gt;.
14412       Elide &lt;code&gt;SuspendAllThreads&lt;/code&gt;.
14413   &lt;/change&gt;
14414   &lt;change date=&quot;14 May 2003&quot; version=&quot;v63&quot;&gt;
14415       Define the data type &lt;code&gt;jvmtiEventCallbacks&lt;/code&gt;.
14416       Zero length allocations return NULL.
14417       Keep SetAllocationHooks in JVMDI, but remove from &lt;jvmti/&gt;.
14418       Add JVMTI_THREAD_STATUS_FLAG_INTERRUPTED.
14419   &lt;/change&gt;
14420   &lt;change date=&quot;15 May 2003&quot; version=&quot;v64&quot;&gt;
14421       Better wording, per review.
14422   &lt;/change&gt;
14423   &lt;change date=&quot;15 May 2003&quot; version=&quot;v65&quot;&gt;
14424       First Alpha.
14425       Make jmethodID and jfieldID unique, jclass not used.
14426   &lt;/change&gt;
14427   &lt;change date=&quot;27 May 2003&quot; version=&quot;v66&quot;&gt;
14428       Fix minor XSLT errors.
14429   &lt;/change&gt;
14430   &lt;change date=&quot;13 June 2003&quot; version=&quot;v67&quot;&gt;
14431       Undo making jfieldID unique (jmethodID still is).
14432   &lt;/change&gt;
14433   &lt;change date=&quot;17 June 2003&quot; version=&quot;v68&quot;&gt;
14434       Changes per June 11th Expert Group meeting --
14435       Overhaul Heap functionality: single callback,
14436       remove GetHeapRoots, add reachable iterators,
14437       and rename &quot;annotation&quot; to &quot;tag&quot;.
14438       NULL thread parameter on most functions is current
14439       thread.
14440       Add timers.
14441       Remove ForceExit.
14442       Add GetEnvironmentLocalStorage.
14443       Add verbose flag and event.
14444       Add AddToBootstrapClassLoaderSearch.
14445       Update ClassFileLoadHook.
14446   &lt;/change&gt;
14447   &lt;change date=&quot;18 June 2003&quot; version=&quot;v69&quot;&gt;
14448       Clean up issues sections.
14449       Rename GetClassName back to GetClassSignature and
14450       fix description.
14451       Add generic signature to GetClassSignature,
14452       GetFieldSignature, GetMethodSignature, and
14453       GetLocalVariableTable.
14454       Elide EstimateCostOfCapabilities.
14455       Clarify that the system property functions operate
14456       on the VM view of system properties.
14457       Clarify Agent_OnLoad.
14458       Remove &quot;const&quot; from JNIEnv* in events.
14459       Add metadata accessors.
14460   &lt;/change&gt;
14461   &lt;change date=&quot;18 June 2003&quot; version=&quot;v70&quot;&gt;
14462       Add start_depth to GetStackTrace.
14463       Move system properties to a new category.
14464       Add GetObjectSize.
14465       Remove &quot;X&quot; from command line flags.
14466       XML, HTML, and spell check corrections.
14467   &lt;/change&gt;
14468   &lt;change date=&quot;19 June 2003&quot; version=&quot;v71&quot;&gt;
14469       Fix JVMTI_HEAP_ROOT_THREAD to be 6.
14470       Make each synopsis match the function name.
14471       Fix unclear wording.
14472   &lt;/change&gt;
14473   &lt;change date=&quot;26 June 2003&quot; version=&quot;v72&quot;&gt;
14474       SetThreadLocalStorage and SetEnvironmentLocalStorage should allow value
14475       to be set to NULL.
14476       NotifyFramePop, GetFrameLocationm and all the local variable operations
14477       needed to have their wording about frames fixed.
14478       Grammar and clarity need to be fixed throughout.
14479       Capitalization and puntuation need to be consistent.
14480       Need micro version number and masks for accessing major, minor, and micro.
14481       The error code lists should indicate which must be returned by
14482       an implementation.
14483       The command line properties should be visible in the properties functions.
14484       Disallow popping from the current thread.
14485       Allow implementations to return opaque frame error when they cannot pop.
14486       The NativeMethodBind event should be sent during any phase.
14487       The DynamicCodeGenerated event should be sent during any phase.
14488       The following functions should be allowed to operate before VMInit:
14489         Set/GetEnvironmentLocalStorage
14490         GetMethodDeclaringClass
14491         GetClassSignature
14492         GetClassModifiers
14493         IsInterface
14494         IsArrayClass
14495         GetMethodName
14496         GetMethodModifiers
14497         GetMaxLocals
14498         GetArgumentsSize
14499         GetLineNumberTable
14500         GetMethodLocation
14501         IsMethodNative
14502         IsMethodSynthetic.
14503       Other changes (to XSL):
14504       Argument description should show asterisk after not before pointers.
14505       NotifyFramePop, GetFrameLocationm and all the local variable operations
14506       should hsve the NO_MORE_FRAMES error added.
14507       Not alive threads should have a different error return than invalid thread.
14508   &lt;/change&gt;
14509   &lt;change date=&quot;7 July 2003&quot; version=&quot;v73&quot;&gt;
14510       VerboseOutput event was missing message parameter.
14511       Minor fix-ups.
14512   &lt;/change&gt;
14513   &lt;change date=&quot;14 July 2003&quot; version=&quot;v74&quot;&gt;
14514       Technical Publications Department corrections.
14515       Allow thread and environment local storage to be set to NULL.
14516   &lt;/change&gt;
14517   &lt;change date=&quot;23 July 2003&quot; version=&quot;v75&quot;&gt;
14518       Use new Agent_OnLoad rather than overloaded JVM_OnLoad.
14519       Add JNICALL to callbacks (XSL).
14520       Document JNICALL requirement for both events and callbacks (XSL).
14521       Restrict RedefineClasses to methods and attributes.
14522       Elide the VerboseOutput event.
14523       VMObjectAlloc: restrict when event is sent and remove method parameter.
14524       Finish loose ends from Tech Pubs edit.
14525   &lt;/change&gt;
14526   &lt;change date=&quot;24 July 2003&quot; version=&quot;v76&quot;&gt;
14527       Change ClassFileLoadHook event to send the class instead of a boolean of redefine.
14528   &lt;/change&gt;
14529   &lt;change date=&quot;24 July 2003&quot; version=&quot;v77&quot;&gt;
14530       XML fixes.
14531       Minor text clarifications and corrections.
14532   &lt;/change&gt;
14533   &lt;change date=&quot;24 July 2003&quot; version=&quot;v78&quot;&gt;
14534       Remove GetExceptionHandlerTable and GetThrownExceptions from &lt;jvmti/&gt;.
14535       Clarify that stack frames are JVM Spec frames.
14536       Split can_get_source_info into can_get_source_file_name, can_get_line_numbers,
14537       and can_get_source_debug_extension.
14538       PopFrame cannot have a native calling method.
14539       Removed incorrect statement in GetClassloaderClasses
14540       (see &lt;vmspec chapter=&quot;4.4&quot;/&gt;).
14541   &lt;/change&gt;
14542   &lt;change date=&quot;24 July 2003&quot; version=&quot;v79&quot;&gt;
14543       XML and text fixes.
14544       Move stack frame description into Stack Frame category.
14545   &lt;/change&gt;
14546   &lt;change date=&quot;26 July 2003&quot; version=&quot;v80&quot;&gt;
14547       Allow NULL (means bootstrap loader) for GetClassloaderClasses.
14548       Add new heap reference kinds for references from classes.
14549       Add timer information struct and query functions.
14550       Add AvailableProcessors.
14551       Rename GetOtherThreadCpuTime to GetThreadCpuTime.
14552       Explicitly add JVMTI_ERROR_INVALID_THREAD and JVMTI_ERROR_THREAD_NOT_ALIVE
14553       to SetEventNotification mode.
14554       Add initial thread to the VM_INIT event.
14555       Remove platform assumptions from AddToBootstrapClassLoaderSearch.
14556   &lt;/change&gt;
14557   &lt;change date=&quot;26 July 2003&quot; version=&quot;v81&quot;&gt;
14558       Grammar and clarity changes per review.
14559   &lt;/change&gt;
14560   &lt;change date=&quot;27 July 2003&quot; version=&quot;v82&quot;&gt;
14561       More grammar and clarity changes per review.
14562       Add Agent_OnUnload.
14563   &lt;/change&gt;
14564   &lt;change date=&quot;28 July 2003&quot; version=&quot;v83&quot;&gt;
14565       Change return type of Agent_OnUnload to void.
14566   &lt;/change&gt;
14567   &lt;change date=&quot;28 July 2003&quot; version=&quot;v84&quot;&gt;
14568       Rename JVMTI_REFERENCE_ARRAY to JVMTI_REFERENCE_ARRAY_ELEMENT.
14569   &lt;/change&gt;
14570   &lt;change date=&quot;28 July 2003&quot; version=&quot;v85&quot;&gt;
14571       Steal java.lang.Runtime.availableProcessors() wording for
14572       AvailableProcessors().
14573       Guarantee that zero will never be an event ID.
14574       Remove some issues which are no longer issues.
14575       Per review, rename and more completely document the timer
14576       information functions.
14577   &lt;/change&gt;
14578   &lt;change date=&quot;29 July 2003&quot; version=&quot;v86&quot;&gt;
14579       Non-spec visible change to XML controlled implementation:
14580         SetThreadLocalStorage must run in VM mode.
14581   &lt;/change&gt;
14582   &lt;change date=&quot;5 August 2003&quot; version=&quot;0.1.87&quot;&gt;
14583       Add GetErrorName.
14584       Add varargs warning to jvmtiExtensionEvent.
14585       Remove &quot;const&quot; on the jvmtiEnv* of jvmtiExtensionEvent.
14586       Remove unused can_get_exception_info capability.
14587       Pass jvmtiEnv* and JNIEnv* to the jvmtiStartFunction.
14588       Fix jvmtiExtensionFunctionInfo.func declared type.
14589       Extension function returns error code.
14590       Use new version numbering.
14591   &lt;/change&gt;
14592   &lt;change date=&quot;5 August 2003&quot; version=&quot;0.2.88&quot;&gt;
14593       Remove the ClassUnload event.
14594   &lt;/change&gt;
14595   &lt;change date=&quot;8 August 2003&quot; version=&quot;0.2.89&quot;&gt;
14596       Heap reference iterator callbacks return an enum that
14597       allows outgoing object references to be ignored.
14598       Allow JNIEnv as a param type to extension events/functions.
14599   &lt;/change&gt;
14600   &lt;change date=&quot;15 August 2003&quot; version=&quot;0.2.90&quot;&gt;
14601       Fix a typo.
14602   &lt;/change&gt;
14603   &lt;change date=&quot;2 September 2003&quot; version=&quot;0.2.91&quot;&gt;
14604       Remove all metadata functions: GetClassMetadata,
14605       GetFieldMetadata, and GetMethodMetadata.
14606   &lt;/change&gt;
14607   &lt;change date=&quot;1 October 2003&quot; version=&quot;0.2.92&quot;&gt;
14608       Mark the functions Allocate. Deallocate, RawMonitor*,
14609       SetEnvironmentLocalStorage, and GetEnvironmentLocalStorage
14610       as safe for use in heap callbacks and GC events.
14611   &lt;/change&gt;
14612   &lt;change date=&quot;24 November 2003&quot; version=&quot;0.2.93&quot;&gt;
14613       Add pass through opaque user data pointer to heap iterate
14614       functions and callbacks.
14615       In the CompiledMethodUnload event, send the code address.
14616       Add GarbageCollectionOccurred event.
14617       Add constant pool reference kind.
14618       Mark the functions CreateRawMonitor and DestroyRawMonitor
14619       as safe for use in heap callbacks and GC events.
14620       Clarify: VMDeath, GetCurrentThreadCpuTimerInfo,
14621       GetThreadCpuTimerInfo, IterateOverReachableObjects,
14622       IterateOverObjectsReachableFromObject, GetTime and
14623       JVMTI_ERROR_NULL_POINTER.
14624       Add missing errors to: GenerateEvents and
14625       AddToBootstrapClassLoaderSearch.
14626       Fix description of ClassFileLoadHook name parameter.
14627       In heap callbacks and GC/ObjectFree events, specify
14628       that only explicitly allowed functions can be called.
14629       Allow GetCurrentThreadCpuTimerInfo, GetCurrentThreadCpuTime,
14630       GetTimerInfo, and GetTime during callback.
14631       Allow calling SetTag/GetTag during the onload phase.
14632       SetEventNotificationMode, add: error attempted inappropriate
14633       thread level control.
14634       Remove jvmtiExceptionHandlerEntry.
14635       Fix handling of native methods on the stack --
14636       location_ptr param of GetFrameLocation, remove
14637       JVMTI_ERROR_OPAQUE_FRAME from GetFrameLocation,
14638       jvmtiFrameInfo.location, and jlocation.
14639       Remove typo (from JVMPI) implying that the MonitorWaited
14640       event is sent on sleep.
14641   &lt;/change&gt;
14642   &lt;change date=&quot;25 November 2003&quot; version=&quot;0.2.94&quot;&gt;
14643       Clarifications and typos.
14644   &lt;/change&gt;
14645   &lt;change date=&quot;3 December 2003&quot; version=&quot;0.2.95&quot;&gt;
14646       Allow NULL user_data in heap iterators.
14647   &lt;/change&gt;
14648   &lt;change date=&quot;28 January 2004&quot; version=&quot;0.2.97&quot;&gt;
14649       Add GetThreadState, deprecate GetThreadStatus.
14650   &lt;/change&gt;
14651   &lt;change date=&quot;29 January 2004&quot; version=&quot;0.2.98&quot;&gt;
14652       INVALID_SLOT and TYPE_MISMATCH errors should be optional.
14653   &lt;/change&gt;
14654   &lt;change date=&quot;12 February 2004&quot; version=&quot;0.2.102&quot;&gt;
14655       Remove MonitorContendedExit.
14656       Added JNIEnv parameter to VMObjectAlloc.
14657       Clarified definition of class_tag and referrer_index
14658       parameters to heap callbacks.
14659   &lt;/change&gt;
14660   &lt;change date=&quot;16 Febuary 2004&quot; version=&quot;0.2.103&quot;&gt;
14661       Document JAVA_TOOL_OPTIONS.
14662   &lt;/change&gt;
14663   &lt;change date=&quot;17 Febuary 2004&quot; version=&quot;0.2.105&quot;&gt;
14664       Divide start phase into primordial and start.
14665       Add VMStart event
14666       Change phase associations of functions and events.
14667   &lt;/change&gt;
14668   &lt;change date=&quot;18 Febuary 2004&quot; version=&quot;0.3.6&quot;&gt;
14669       Elide deprecated GetThreadStatus.
14670       Bump minor version, subtract 100 from micro version
14671   &lt;/change&gt;
14672   &lt;change date=&quot;18 Febuary 2004&quot; version=&quot;0.3.7&quot;&gt;
14673       Document that timer nanosecond values are unsigned.
14674       Clarify text having to do with native methods.
14675   &lt;/change&gt;
14676   &lt;change date=&quot;19 Febuary 2004&quot; version=&quot;0.3.8&quot;&gt;
14677       Fix typos.
14678       Remove elided deprecated GetThreadStatus.
14679   &lt;/change&gt;
14680   &lt;change date=&quot;23 Febuary 2004&quot; version=&quot;0.3.9&quot;&gt;
14681       Require NotifyFramePop to act on suspended threads.
14682   &lt;/change&gt;
14683   &lt;change date=&quot;24 Febuary 2004&quot; version=&quot;0.3.10&quot;&gt;
14684       Add capabilities
14685         (&lt;internallink id=&quot;jvmtiCapabilities.can_redefine_any_class&quot;
14686          &gt;&lt;code&gt;can_redefine_any_class&lt;/code&gt;&lt;/internallink&gt;
14687       and
14688          &lt;internallink id=&quot;jvmtiCapabilities.can_generate_all_class_hook_events&quot;
14689          &gt;&lt;code&gt;can_generate_all_class_hook_events&lt;/code&gt;&lt;/internallink&gt;)
14690       and an error (&lt;errorlink id=&quot;JVMTI_ERROR_UNMODIFIABLE_CLASS&quot;&gt;&lt;/errorlink&gt;)
14691       which allow some classes to be unmodifiable.
14692   &lt;/change&gt;
14693   &lt;change date=&quot;28 Febuary 2004&quot; version=&quot;0.3.11&quot;&gt;
14694       Add JVMTI_ERROR_MUST_POSSESS_CAPABILITY to SetEventNotificationMode.
14695   &lt;/change&gt;
14696   &lt;change date=&quot;8 March 2004&quot; version=&quot;0.3.12&quot;&gt;
14697       Clarified CompiledMethodUnload so that it is clear the event
14698       may be posted after the class has been unloaded.
14699   &lt;/change&gt;
14700   &lt;change date=&quot;5 March 2004&quot; version=&quot;0.3.13&quot;&gt;
14701       Change the size parameter of VMObjectAlloc to jlong to match GetObjectSize.
14702   &lt;/change&gt;
14703   &lt;change date=&quot;13 March 2004&quot; version=&quot;0.3.14&quot;&gt;
14704       Added guideline for the use of the JNI FindClass function in event
14705       callback functions.
14706   &lt;/change&gt;
14707   &lt;change date=&quot;15 March 2004&quot; version=&quot;0.3.15&quot;&gt;
14708       Add GetAllStackTraces and GetThreadListStackTraces.
14709   &lt;/change&gt;
14710   &lt;change date=&quot;19 March 2004&quot; version=&quot;0.3.16&quot;&gt;
14711       ClassLoad and ClassPrepare events can be posted during start phase.
14712   &lt;/change&gt;
14713   &lt;change date=&quot;25 March 2004&quot; version=&quot;0.3.17&quot;&gt;
14714       Add JVMTI_ERROR_NATIVE_METHOD to GetLineNumberTable, GetLocalVariableTable,
14715       GetMaxLocals, GetArgumentsSize, GetMethodLocation, GetBytecodes.
14716   &lt;/change&gt;
14717   &lt;change date=&quot;29 March 2004&quot; version=&quot;0.3.18&quot;&gt;
14718       Return the timer kind in the timer information structure.
14719   &lt;/change&gt;
14720   &lt;change date=&quot;31 March 2004&quot; version=&quot;0.3.19&quot;&gt;
14721       Spec clarifications:
14722       JVMTI_THREAD_STATE_IN_NATIVE might not include JNI or &lt;jvmti/&gt;.
14723       ForceGarbageCollection does not run finalizers.
14724       The context of the specification is the Java platform.
14725       Warn about early instrumentation.
14726   &lt;/change&gt;
14727   &lt;change date=&quot;1 April 2004&quot; version=&quot;0.3.20&quot;&gt;
14728       Refinements to the above clarifications and
14729       Clarify that an error returned by Agent_OnLoad terminates the VM.
14730   &lt;/change&gt;
14731   &lt;change date=&quot;1 April 2004&quot; version=&quot;0.3.21&quot;&gt;
14732       Array class creation does not generate a class load event.
14733   &lt;/change&gt;
14734   &lt;change date=&quot;7 April 2004&quot; version=&quot;0.3.22&quot;&gt;
14735       Align thread state hierarchy more closely with java.lang.Thread.State.
14736   &lt;/change&gt;
14737   &lt;change date=&quot;12 April 2004&quot; version=&quot;0.3.23&quot;&gt;
14738       Clarify the documentation of thread state.
14739   &lt;/change&gt;
14740   &lt;change date=&quot;19 April 2004&quot; version=&quot;0.3.24&quot;&gt;
14741       Remove GarbageCollectionOccurred event -- can be done by agent.
14742   &lt;/change&gt;
14743   &lt;change date=&quot;22 April 2004&quot; version=&quot;0.3.25&quot;&gt;
14744       Define &quot;command-line option&quot;.
14745   &lt;/change&gt;
14746   &lt;change date=&quot;29 April 2004&quot; version=&quot;0.3.26&quot;&gt;
14747       Describe the intended use of bytecode instrumentation.
14748       Fix description of extension event first parameter.
14749   &lt;/change&gt;
14750   &lt;change date=&quot;30 April 2004&quot; version=&quot;0.3.27&quot;&gt;
14751       Clarification and typos.
14752   &lt;/change&gt;
14753   &lt;change date=&quot;18 May 2004&quot; version=&quot;0.3.28&quot;&gt;
14754       Remove DataDumpRequest event.
14755   &lt;/change&gt;
14756   &lt;change date=&quot;18 May 2004&quot; version=&quot;0.3.29&quot;&gt;
14757       Clarify RawMonitorWait with zero timeout.
14758       Clarify thread state after RunAgentThread.
14759   &lt;/change&gt;
14760   &lt;change date=&quot;24 May 2004&quot; version=&quot;0.3.30&quot;&gt;
14761       Clean-up: fix bad/old links, etc.
14762   &lt;/change&gt;
14763   &lt;change date=&quot;30 May 2004&quot; version=&quot;0.3.31&quot;&gt;
14764       Clarifications including:
14765       All character strings are modified UTF-8.
14766       Agent thread visibiity.
14767       Meaning of obsolete method version.
14768       Thread invoking heap callbacks,
14769   &lt;/change&gt;
14770   &lt;change date=&quot;1 June 2004&quot; version=&quot;1.0.32&quot;&gt;
14771       Bump major.minor version numbers to &quot;1.0&quot;.
14772   &lt;/change&gt;
14773   &lt;change date=&quot;2 June 2004&quot; version=&quot;1.0.33&quot;&gt;
14774       Clarify interaction between ForceGarbageCollection
14775       and ObjectFree.
14776   &lt;/change&gt;
14777   &lt;change date=&quot;6 June 2004&quot; version=&quot;1.0.34&quot;&gt;
14778       Restrict AddToBootstrapClassLoaderSearch and
14779       SetSystemProperty to the OnLoad phase only.
14780   &lt;/change&gt;
14781   &lt;change date=&quot;11 June 2004&quot; version=&quot;1.0.35&quot;&gt;
14782       Fix typo in SetTag.
14783   &lt;/change&gt;
14784   &lt;change date=&quot;18 June 2004&quot; version=&quot;1.0.36&quot;&gt;
14785       Fix trademarks.
14786       Add missing parameter in example GetThreadState usage.
14787   &lt;/change&gt;
14788   &lt;change date=&quot;4 August 2004&quot; version=&quot;1.0.37&quot;&gt;
14789       Copyright updates.
14790   &lt;/change&gt;
14791   &lt;change date=&quot;5 November 2004&quot; version=&quot;1.0.38&quot;&gt;
14792       Add missing function table layout.
14793       Add missing description of C++ member function format of functions.
14794       Clarify that name in CFLH can be NULL.
14795       Released as part of &lt;tm&gt;J2SE&lt;/tm&gt; 5.0.
14796   &lt;/change&gt;
14797   &lt;change date=&quot;24 April 2005&quot; version=&quot;1.1.47&quot;&gt;
14798       Bump major.minor version numbers to &quot;1.1&quot;.
14799       Add ForceEarlyReturn* functions.
14800       Add GetOwnedMonitorStackDepthInfo function.
14801       Add GetCurrentThread function.
14802       Add &quot;since&quot; version marker.
14803       Add AddToSystemClassLoaderSearch.
14804       Allow AddToBootstrapClassLoaderSearch be used in live phase.
14805       Fix historic rubbish in the descriptions of the heap_object_callback
14806       parameter of IterateOverHeap and IterateOverInstancesOfClass functions;
14807       disallow NULL for this parameter.
14808       Clarify, correct and make consistent: wording about current thread,
14809       opaque frames and insufficient number of frames in PopFrame.
14810       Consistently use &quot;current frame&quot; rather than &quot;topmost&quot;.
14811       Clarify the JVMTI_ERROR_TYPE_MISMATCH errors in GetLocal* and SetLocal*
14812       by making them compatible with those in ForceEarlyReturn*.
14813       Many other clarifications and wording clean ups.
14814   &lt;/change&gt;
14815   &lt;change date=&quot;25 April 2005&quot; version=&quot;1.1.48&quot;&gt;
14816       Add GetConstantPool.
14817       Switch references to the first edition of the VM Spec, to the seconds edition.
14818   &lt;/change&gt;
14819   &lt;change date=&quot;26 April 2005&quot; version=&quot;1.1.49&quot;&gt;
14820       Clarify minor/major version order in GetConstantPool.
14821   &lt;/change&gt;
14822   &lt;change date=&quot;26 April 2005&quot; version=&quot;1.1.50&quot;&gt;
14823       Add SetNativeMethodPrefix and SetNativeMethodPrefixes.
14824       Reassign GetOwnedMonitorStackDepthInfo to position 153.
14825       Break out Class Loader Search in its own documentation category.
14826       Deal with overly long lines in XML source.
14827   &lt;/change&gt;
14828   &lt;change date=&quot;29 April 2005&quot; version=&quot;1.1.51&quot;&gt;
14829       Allow agents be started in the live phase.
14830       Added paragraph about deploying agents.
14831   &lt;/change&gt;
14832   &lt;change date=&quot;30 April 2005&quot; version=&quot;1.1.52&quot;&gt;
14833       Add specification description to SetNativeMethodPrefix(es).
14834       Better define the conditions on GetConstantPool.
14835   &lt;/change&gt;
14836   &lt;change date=&quot;30 April 2005&quot; version=&quot;1.1.53&quot;&gt;
14837       Break out the GetClassVersionNumber function from GetConstantPool.
14838       Clean-up the references to the VM Spec.
14839   &lt;/change&gt;
14840   &lt;change date=&quot;1 May 2005&quot; version=&quot;1.1.54&quot;&gt;
14841       Allow SetNativeMethodPrefix(es) in any phase.
14842       Add clarifications about the impact of redefinition on GetConstantPool.
14843   &lt;/change&gt;
14844   &lt;change date=&quot;2 May 2005&quot; version=&quot;1.1.56&quot;&gt;
14845       Various clarifications to SetNativeMethodPrefix(es).
14846   &lt;/change&gt;
14847   &lt;change date=&quot;2 May 2005&quot; version=&quot;1.1.57&quot;&gt;
14848       Add missing performance warning to the method entry event.
14849   &lt;/change&gt;
14850   &lt;change date=&quot;5 May 2005&quot; version=&quot;1.1.58&quot;&gt;
14851       Remove internal JVMDI support.
14852   &lt;/change&gt;
14853   &lt;change date=&quot;8 May 2005&quot; version=&quot;1.1.59&quot;&gt;
14854       Add &lt;functionlink id=&quot;RetransformClasses&quot;/&gt;.
14855       Revamp the bytecode instrumentation documentation.
14856       Change &lt;functionlink id=&quot;IsMethodObsolete&quot;/&gt; to no longer
14857       require the can_redefine_classes capability.
14858   &lt;/change&gt;
14859   &lt;change date=&quot;11 May 2005&quot; version=&quot;1.1.63&quot;&gt;
14860       Clarifications for retransformation.
14861   &lt;/change&gt;
14862   &lt;change date=&quot;11 May 2005&quot; version=&quot;1.1.64&quot;&gt;
14863       Clarifications for retransformation, per review.
14864       Lock &quot;retransformation (in)capable&quot; at class load enable time.
14865   &lt;/change&gt;
14866   &lt;change date=&quot;4 June 2005&quot; version=&quot;1.1.67&quot;&gt;
14867       Add new heap functionity which supports reporting primitive values,
14868       allows setting the referrer tag, and has more powerful filtering:
14869       FollowReferences, IterateThroughHeap, and their associated
14870       callbacks, structs, enums, and constants.
14871   &lt;/change&gt;
14872   &lt;change date=&quot;4 June 2005&quot; version=&quot;1.1.68&quot;&gt;
14873       Clarification.
14874   &lt;/change&gt;
14875   &lt;change date=&quot;6 June 2005&quot; version=&quot;1.1.69&quot;&gt;
14876       FollowReferences, IterateThroughHeap: Put callbacks in a struct;
14877       Add missing error codes; reduce bits in the visit control flags.
14878   &lt;/change&gt;
14879   &lt;change date=&quot;14 June 2005&quot; version=&quot;1.1.70&quot;&gt;
14880       More on new heap functionity: spec clean-up per review.
14881   &lt;/change&gt;
14882   &lt;change date=&quot;15 June 2005&quot; version=&quot;1.1.71&quot;&gt;
14883       More on new heap functionity: Rename old heap section to Heap (1.0).
14884   &lt;/change&gt;
14885   &lt;change date=&quot;21 June 2005&quot; version=&quot;1.1.72&quot;&gt;
14886       Fix typos.
14887   &lt;/change&gt;
14888   &lt;change date=&quot;27 June 2005&quot; version=&quot;1.1.73&quot;&gt;
14889       Make referrer info structure a union.
14890   &lt;/change&gt;
14891   &lt;change date=&quot;9 September 2005&quot; version=&quot;1.1.74&quot;&gt;
14892       In new heap functions:
14893       Add missing superclass reference kind.
14894       Use a single scheme for computing field indexes.
14895       Remove outdated references to struct based referrer info.
14896   &lt;/change&gt;
14897   &lt;change date=&quot;12 September 2005&quot; version=&quot;1.1.75&quot;&gt;
14898       Don&#39;t callback during FollowReferences on frivolous java.lang.Object superclass.
14899   &lt;/change&gt;
14900   &lt;change date=&quot;13 September 2005&quot; version=&quot;1.1.76&quot;&gt;
14901       In string primitive callback, length now Unicode length.
14902       In array and string primitive callbacks, value now &quot;const&quot;.
14903       Note possible compiler impacts on setting JNI function table.
14904   &lt;/change&gt;
14905   &lt;change date=&quot;13 September 2005&quot; version=&quot;1.1.77&quot;&gt;
14906       GetClassVersionNumbers() and GetConstantPool() should return
14907       error on array or primitive class.
14908   &lt;/change&gt;
14909   &lt;change date=&quot;14 September 2005&quot; version=&quot;1.1.78&quot;&gt;
14910       Grammar fixes.
14911   &lt;/change&gt;
14912   &lt;change date=&quot;26 September 2005&quot; version=&quot;1.1.79&quot;&gt;
14913       Add IsModifiableClass query.
14914   &lt;/change&gt;
14915   &lt;change date=&quot;9 February 2006&quot; version=&quot;1.1.81&quot;&gt;
14916       Add referrer_class_tag parameter to jvmtiHeapReferenceCallback.
14917   &lt;/change&gt;
14918   &lt;change date=&quot;13 February 2006&quot; version=&quot;1.1.82&quot;&gt;
14919       Doc fixes: update can_redefine_any_class to include retransform.
14920       Clarify that exception events cover all Throwables.
14921       In GetStackTrace, no test is done for start_depth too big if start_depth is zero,
14922       Clarify fields reported in Primitive Field Callback -- static vs instance.
14923       Repair confusing names of heap types, including callback names.
14924       Require consistent usage of stack depth in the face of thread launch methods.
14925       Note incompatibility of &lt;jvmti/&gt; memory management with other systems.
14926   &lt;/change&gt;
14927   &lt;change date=&quot;14 February 2006&quot; version=&quot;1.1.85&quot;&gt;
14928       Fix typos and missing renames.
14929   &lt;/change&gt;
14930   &lt;change date=&quot;13 March 2006&quot; version=&quot;1.1.86&quot;&gt;
14931       Clarify that jmethodIDs and jfieldIDs can be saved.
14932       Clarify that Iterate Over Instances Of Class includes subclasses.
14933   &lt;/change&gt;
14934   &lt;change date=&quot;14 March 2006&quot; version=&quot;1.1.87&quot;&gt;
14935       Better phrasing.
14936   &lt;/change&gt;
14937   &lt;change date=&quot;16 March 2006&quot; version=&quot;1.1.88&quot;&gt;
14938       Match the referrer_index for static fields in Object Reference Callback
14939       with the Reference Implementation (and all other known implementations);
14940       that is, make it match the definition for instance fields.
14941       In GetThreadListStackTraces, add JVMTI_ERROR_INVALID_THREAD to cover
14942       an invalid thread in the list; and specify that not started threads
14943       return empty stacks.
14944   &lt;/change&gt;
14945   &lt;change date=&quot;17 March 2006&quot; version=&quot;1.1.89&quot;&gt;
14946       Typo.
14947   &lt;/change&gt;
14948   &lt;change date=&quot;25 March 2006&quot; version=&quot;1.1.90&quot;&gt;
14949       Typo.
14950   &lt;/change&gt;
14951   &lt;change date=&quot;6 April 2006&quot; version=&quot;1.1.91&quot;&gt;
14952       Remove restrictions on AddToBootstrapClassLoaderSearch and
14953       AddToSystemClassLoaderSearch.
14954   &lt;/change&gt;
14955   &lt;change date=&quot;1 May 2006&quot; version=&quot;1.1.93&quot;&gt;
14956       Changed spec to return -1 for monitor stack depth for the
14957       implementation which can not determine stack depth.
14958   &lt;/change&gt;
14959   &lt;change date=&quot;3 May 2006&quot; version=&quot;1.1.94&quot;&gt;
14960       Corrections for readability and accuracy courtesy of Alan Pratt of IBM.
14961       List the object relationships reported in FollowReferences.
14962   &lt;/change&gt;
14963   &lt;change date=&quot;5 May 2006&quot; version=&quot;1.1.95&quot;&gt;
14964       Clarify the object relationships reported in FollowReferences.
14965   &lt;/change&gt;
14966   &lt;change date=&quot;28 June 2006&quot; version=&quot;1.1.98&quot;&gt;
14967       Clarify DisposeEnvironment; add warning.
14968       Fix typos in SetLocalXXX &quot;retrieve&quot; =&gt; &quot;set&quot;.
14969       Clarify that native method prefixes must remain set while used.
14970       Clarify that exactly one Agent_OnXXX is called per agent.
14971       Clarify that library loading is independent from start-up.
14972       Remove ambiguous reference to Agent_OnLoad in the Agent_OnUnload spec.
14973   &lt;/change&gt;
14974   &lt;change date=&quot;31 July 2006&quot; version=&quot;1.1.99&quot;&gt;
14975       Clarify the interaction between functions and exceptions.
14976       Clarify and give examples of field indices.
14977       Remove confusing &quot;That is&quot; sentence from MonitorWait and MonitorWaited events.
14978       Update links to point to Java 6.
14979   &lt;/change&gt;
14980   &lt;change date=&quot;6 August 2006&quot; version=&quot;1.1.102&quot;&gt;
14981       Add ResourceExhaustedEvent.
14982   &lt;/change&gt;
14983   &lt;change date=&quot;11 October 2012&quot; version=&quot;1.2.2&quot;&gt;
14984       Fixed the &quot;HTTP&quot; and &quot;Missing Anchor&quot; errors reported by the LinkCheck tool.
14985   &lt;/change&gt;
14986   &lt;change date=&quot;19 June 2013&quot; version=&quot;1.2.3&quot;&gt;
14987       Added support for statically linked agents.
14988   &lt;/change&gt;
14989   &lt;change date=&quot;13 October 2016&quot; version=&quot;9.0.0&quot;&gt;
14990       Support for modules:
14991        - The majorversion is 9 now
14992        - The ClassFileLoadHook events are not sent during the primordial phase anymore.
14993        - Allow CompiledMethodLoad events at start phase
14994        - Add new capabilities:
14995           - can_generate_early_vmstart
14996           - can_generate_early_class_hook_events
14997        - Add new functions:
14998           - GetAllModules
14999           - AddModuleReads, AddModuleExports, AddModuleOpens, AddModuleUses, AddModuleProvides
15000           - IsModifiableModule
15001       Clarified can_redefine_any_classes, can_retransform_any_classes and IsModifiableClass API to
15002       disallow some implementation defined classes.
15003   &lt;/change&gt;
15004   &lt;change date=&quot;12 February 2017&quot; version=&quot;9.0.0&quot;&gt;
15005       Minor update for GetCurrentThread function:
15006        - The function may return NULL in the start phase if the
15007          can_generate_early_vmstart capability is enabled.
15008   &lt;/change&gt;
15009   &lt;change date=&quot;7 February 2018&quot; version=&quot;11.0.0&quot;&gt;
15010       Minor update for new class file NestHost and NestMembers attributes:
15011         - Specify that RedefineClasses and RetransformClasses are not allowed
15012           to change the class file NestHost and NestMembers attributes.
15013         - Add new error JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_ATTRIBUTE_CHANGED
15014           that can be returned by RedefineClasses and RetransformClasses.
15015   &lt;/change&gt;
15016   &lt;change date=&quot;20 May 2019&quot; version=&quot;13.0.0&quot;&gt;
15017       Minor spec update for the capability &quot;can_redefine_any_class&quot;.
15018       It now says:
15019        &quot;RedefineClasses can be called on any modifiable class. See IsModifiableClass.
15020        (can_redefine_classes must also be set)&quot;
15021   &lt;/change&gt;
15022   &lt;change date=&quot;5 June 2019&quot; version=&quot;13.0.0&quot;&gt;
15023       Minor PopFrame spec update:
15024         - The specified thread must be suspended or must be the current thread.
15025           (It was not allowed to be the current thread before.)
15026   &lt;/change&gt;
15027   &lt;change date=&quot;10 October 2019&quot; version=&quot;14.0.0&quot;&gt;
15028       Minor update for new class file Record attribute:
15029         - Specify that RedefineClasses and RetransformClasses are not allowed
15030           to change the class file Record attribute.
15031   &lt;/change&gt;
15032 &lt;/changehistory&gt;
15033 
15034 &lt;/specification&gt;
15035 &lt;!-- Keep this comment at the end of the file
15036 Local variables:
15037 mode: sgml
15038 sgml-omittag:t
15039 sgml-shorttag:t
15040 sgml-namecase-general:t
15041 sgml-general-insert-case:lower
15042 sgml-minimize-attributes:nil
15043 sgml-always-quote-attributes:t
15044 sgml-indent-step:2
15045 sgml-indent-data:t
15046 sgml-parent-document:nil
15047 sgml-exposed-tags:nil
15048 sgml-local-catalogs:nil
15049 sgml-local-ecat-files:nil
15050 End:
15051 --&gt;
<a name="4" id="anc4"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="4" type="hidden" />
</body>
</html>