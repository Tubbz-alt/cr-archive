<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/share/utilities/vmError.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="ostream.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../../../java.base/share/classes/sun/net/sdp/SdpSupport.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/utilities/vmError.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 80,11 ***</span>
  const char *env_list[] = {
    // All platforms
    &quot;JAVA_HOME&quot;, &quot;JAVA_TOOL_OPTIONS&quot;, &quot;_JAVA_OPTIONS&quot;, &quot;CLASSPATH&quot;,
    &quot;PATH&quot;, &quot;USERNAME&quot;,
  
<span class="line-modified">!   // Env variables that are defined on Solaris/Linux/BSD</span>
    &quot;LD_LIBRARY_PATH&quot;, &quot;LD_PRELOAD&quot;, &quot;SHELL&quot;, &quot;DISPLAY&quot;,
    &quot;HOSTTYPE&quot;, &quot;OSTYPE&quot;, &quot;ARCH&quot;, &quot;MACHTYPE&quot;,
    &quot;LANG&quot;, &quot;LC_ALL&quot;, &quot;LC_CTYPE&quot;, &quot;TZ&quot;,
  
    // defined on AIX
<span class="line-new-header">--- 80,11 ---</span>
  const char *env_list[] = {
    // All platforms
    &quot;JAVA_HOME&quot;, &quot;JAVA_TOOL_OPTIONS&quot;, &quot;_JAVA_OPTIONS&quot;, &quot;CLASSPATH&quot;,
    &quot;PATH&quot;, &quot;USERNAME&quot;,
  
<span class="line-modified">!   // Env variables that are defined on Linux/BSD</span>
    &quot;LD_LIBRARY_PATH&quot;, &quot;LD_PRELOAD&quot;, &quot;SHELL&quot;, &quot;DISPLAY&quot;,
    &quot;HOSTTYPE&quot;, &quot;OSTYPE&quot;, &quot;ARCH&quot;, &quot;MACHTYPE&quot;,
    &quot;LANG&quot;, &quot;LC_ALL&quot;, &quot;LC_CTYPE&quot;, &quot;TZ&quot;,
  
    // defined on AIX
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1587,12 ***</span>
      const char* ptr = OnError;
      while ((cmd = next_OnError_command(buffer, sizeof(buffer), &amp;ptr)) != NULL){
        out.print_raw   (&quot;#   Executing &quot;);
  #if defined(LINUX) || defined(_ALLBSD_SOURCE)
        out.print_raw   (&quot;/bin/sh -c &quot;);
<span class="line-removed">- #elif defined(SOLARIS)</span>
<span class="line-removed">-       out.print_raw   (&quot;/usr/bin/sh -c &quot;);</span>
  #elif defined(_WINDOWS)
        out.print_raw   (&quot;cmd /C &quot;);
  #endif
        out.print_raw   (&quot;\&quot;&quot;);
        out.print_raw   (cmd);
<span class="line-new-header">--- 1587,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1650,12 ***</span>
    const char* ptr = OnOutOfMemoryError;
    while ((cmd = next_OnError_command(buffer, sizeof(buffer), &amp;ptr)) != NULL){
      tty-&gt;print(&quot;#   Executing &quot;);
  #if defined(LINUX)
      tty-&gt;print  (&quot;/bin/sh -c &quot;);
<span class="line-removed">- #elif defined(SOLARIS)</span>
<span class="line-removed">-     tty-&gt;print  (&quot;/usr/bin/sh -c &quot;);</span>
  #endif
      tty-&gt;print_cr(&quot;\&quot;%s\&quot;...&quot;, cmd);
  
      if (os::fork_and_exec(cmd, true) &lt; 0) {
        tty-&gt;print_cr(&quot;os::fork_and_exec failed: %s (%s=%d)&quot;,
<span class="line-new-header">--- 1648,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1729,13 ***</span>
    return false;
  
  }
  
  #ifndef PRODUCT
<span class="line-removed">- #if defined(__SUNPRO_CC) &amp;&amp; __SUNPRO_CC &gt;= 0x5140</span>
<span class="line-removed">- #pragma error_messages(off, SEC_NULL_PTR_DEREF)</span>
<span class="line-removed">- #endif</span>
  typedef void (*voidfun_t)();
  // Crash with an authentic sigfpe
  static void crash_with_sigfpe() {
    // generate a native synchronous SIGFPE where possible;
    // if that did not cause a signal (e.g. on ppc), just
<span class="line-new-header">--- 1725,10 ---</span>
</pre>
<center><a href="ostream.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../../../java.base/share/classes/sun/net/sdp/SdpSupport.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>