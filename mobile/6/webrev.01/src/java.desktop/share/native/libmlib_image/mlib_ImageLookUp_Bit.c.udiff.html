<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.desktop/share/native/libmlib_image/mlib_ImageLookUp_Bit.c</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="mlib_ImageLookUp_64.c.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="mlib_ImageScanPoly.c.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/native/libmlib_image/mlib_ImageLookUp_Bit.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 2003, 2018, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 2003, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -162,20 +162,14 @@</span>
    for (i = 0; i &lt; 16; i++) {
      mlib_u32 v, mask = mlib_bit_mask[i];
  
      v = (val0 &amp;~ mask) | (val1 &amp; mask);
  
<span class="udiff-line-removed">- #ifdef __SUNPRO_C</span>
<span class="udiff-line-removed">- #pragma pipeloop(0)</span>
<span class="udiff-line-removed">- #endif /* __SUNPRO_C */</span>
      for (j = 0; j &lt; 16; j++) {
        p_dd[2*(16*i + j)] = v;
      }
  
<span class="udiff-line-removed">- #ifdef __SUNPRO_C</span>
<span class="udiff-line-removed">- #pragma pipeloop(0)</span>
<span class="udiff-line-removed">- #endif /* __SUNPRO_C */</span>
      for (j = 0; j &lt; 16; j++) {
        p_dd[2*(i + 16*j) + 1] = v;
      }
    }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -221,13 +215,10 @@</span>
      if ((mlib_addr)sa &amp; 1 &amp;&amp; size &gt;= 8) {
        *da++ = dd_array[*sa++];
        i += 8;
      }
  
<span class="udiff-line-removed">- #ifdef __SUNPRO_C</span>
<span class="udiff-line-removed">- #pragma pipeloop(0)</span>
<span class="udiff-line-removed">- #endif /* __SUNPRO_C */</span>
      for (; i &lt;= (size - 16); i += 16) {
        s0 = *(mlib_u16*)sa;
  #ifdef _LITTLE_ENDIAN
        *da++ = dd_array[s0 &amp; 0xFF];
        *da++ = dd_array[s0 &gt;&gt; 8];
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -359,13 +350,10 @@</span>
      }
  
      sa = (mlib_u8*)sp;
      da = (DTYPE*)dp;
  
<span class="udiff-line-removed">- #ifdef __SUNPRO_C</span>
<span class="udiff-line-removed">- #pragma pipeloop(0)</span>
<span class="udiff-line-removed">- #endif /* __SUNPRO_C */</span>
      for (i = 0; i &lt;= (size - 16); i += 16) {
        s0 = *sa++;
        *da++ = dd_array[s0 &gt;&gt; 4];
        *da++ = dd_array[s0 &amp; 0xF];
      }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -477,13 +465,10 @@</span>
    l2 = (l1 &lt;&lt; 8); l2 |= (l2 &gt;&gt; 24);
    h2 = (h1 &lt;&lt; 8); h2 |= (h2 &gt;&gt; 24);
  #endif /* _LITTLE_ENDIAN */
  
    /* calculate lookup table */
<span class="udiff-line-removed">- #ifdef __SUNPRO_C</span>
<span class="udiff-line-removed">- #pragma pipeloop(0)</span>
<span class="udiff-line-removed">- #endif /* __SUNPRO_C */</span>
    for (i = 0; i &lt; 16; i++) {
      mlib_u32 mask0 = mlib_bit_mask_3[i &gt;&gt; 2];
      mlib_u32 mask1 = mlib_bit_mask_3[4 + ((i &gt;&gt; 1) &amp; 3)];
      mlib_u32 mask2 = mlib_bit_mask_3[8 + (i &amp; 3)];
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -511,13 +496,10 @@</span>
      }
  
      sa = (mlib_u8*)sp;
      da = (mlib_u32*)dp;
  
<span class="udiff-line-removed">- #ifdef __SUNPRO_C</span>
<span class="udiff-line-removed">- #pragma pipeloop(0)</span>
<span class="udiff-line-removed">- #endif /* __SUNPRO_C */</span>
      for (i = 0; i &lt;= (size - 24); i += 24) {
        d64_2_f32 dd;
        s0 = *sa++;
  
        ((TYPE_64BIT*)da)[0] = *(d_array01 + (s0 &gt;&gt; 4));
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -656,13 +638,10 @@</span>
      }
  
      sa = (mlib_u8*)sp;
      da = (DTYPE*)dp;
  
<span class="udiff-line-removed">- #ifdef __SUNPRO_C</span>
<span class="udiff-line-removed">- #pragma pipeloop(0)</span>
<span class="udiff-line-removed">- #endif /* __SUNPRO_C */</span>
      for (i = 0; i &lt;= (size - 32); i += 32) {
        s0 = *sa++;
        *da++ = dd_array0[s0 &gt;&gt; 4];
        *da++ = dd_array1[s0 &gt;&gt; 4];
        *da++ = dd_array0[s0 &amp; 0xF];
</pre>
<center><a href="mlib_ImageLookUp_64.c.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="mlib_ImageScanPoly.c.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>