<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/unix/native/libawt_xawt/awt/awt_GraphicsEnv.c</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../../common/java2d/opengl/GLXGraphicsConfig.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="awt_InputMethod.c.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/unix/native/libawt_xawt/awt/awt_GraphicsEnv.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 392          * been reset, so we need to recreate the default config here.
 393          */
 394         screenDataPtr-&gt;defaultConfig = makeDefaultConfig(env, screen);
 395     }
 396 
 397     defaultConfig = screenDataPtr-&gt;defaultConfig;
 398     graphicsConfigs[0] = defaultConfig;
 399     nConfig = 1; /* reserve index 0 for default config */
 400 
 401     // Only use the RENDER extension if it is available on the X server
 402     if (XQueryExtension(awt_display, &quot;RENDER&quot;,
 403                         &amp;major_opcode, &amp;first_event, &amp;first_error))
 404     {
 405         DTRACE_PRINTLN(&quot;RENDER extension available&quot;);
 406         xrenderLibHandle = dlopen(&quot;libXrender.so.1&quot;, RTLD_LAZY | RTLD_GLOBAL);
 407 
 408         if (xrenderLibHandle == NULL) {
 409             xrenderLibHandle = dlopen(&quot;libXrender.so&quot;, RTLD_LAZY | RTLD_GLOBAL);
 410         }
 411 
<span class="line-modified"> 412 #if defined(__solaris__)</span>
<span class="line-removed"> 413         if (xrenderLibHandle == NULL) {</span>
<span class="line-removed"> 414             xrenderLibHandle = dlopen(&quot;/usr/lib/libXrender.so.1&quot;,</span>
<span class="line-removed"> 415                                       RTLD_LAZY | RTLD_GLOBAL);</span>
<span class="line-removed"> 416         }</span>
<span class="line-removed"> 417 #elif defined(_AIX)</span>
 418         if (xrenderLibHandle == NULL) {
 419             xrenderLibHandle = dlopen(&quot;libXrender.a(libXrender.so.0)&quot;,
 420                                       RTLD_MEMBER | RTLD_LAZY | RTLD_GLOBAL);
 421         }
 422 #endif
 423         if (xrenderLibHandle != NULL) {
 424             DTRACE_PRINTLN(&quot;Loaded libXrender&quot;);
 425             xrenderFindVisualFormat =
 426                 (XRenderFindVisualFormatFunc*)dlsym(xrenderLibHandle,
 427                                                     &quot;XRenderFindVisualFormat&quot;);
 428             if (xrenderFindVisualFormat == NULL) {
 429                 DTRACE_PRINTLN1(&quot;Can&#39;t find &#39;XRenderFindVisualFormat&#39; in libXrender (%s)&quot;, dlerror());
 430             }
 431         } else {
 432             DTRACE_PRINTLN1(&quot;Can&#39;t load libXrender (%s)&quot;, dlerror());
 433         }
 434     } else {
 435         DTRACE_PRINTLN(&quot;RENDER extension NOT available&quot;);
 436     }
 437 
</pre>
</td>
<td>
<hr />
<pre>
 392          * been reset, so we need to recreate the default config here.
 393          */
 394         screenDataPtr-&gt;defaultConfig = makeDefaultConfig(env, screen);
 395     }
 396 
 397     defaultConfig = screenDataPtr-&gt;defaultConfig;
 398     graphicsConfigs[0] = defaultConfig;
 399     nConfig = 1; /* reserve index 0 for default config */
 400 
 401     // Only use the RENDER extension if it is available on the X server
 402     if (XQueryExtension(awt_display, &quot;RENDER&quot;,
 403                         &amp;major_opcode, &amp;first_event, &amp;first_error))
 404     {
 405         DTRACE_PRINTLN(&quot;RENDER extension available&quot;);
 406         xrenderLibHandle = dlopen(&quot;libXrender.so.1&quot;, RTLD_LAZY | RTLD_GLOBAL);
 407 
 408         if (xrenderLibHandle == NULL) {
 409             xrenderLibHandle = dlopen(&quot;libXrender.so&quot;, RTLD_LAZY | RTLD_GLOBAL);
 410         }
 411 
<span class="line-modified"> 412 #if defined(_AIX)</span>





 413         if (xrenderLibHandle == NULL) {
 414             xrenderLibHandle = dlopen(&quot;libXrender.a(libXrender.so.0)&quot;,
 415                                       RTLD_MEMBER | RTLD_LAZY | RTLD_GLOBAL);
 416         }
 417 #endif
 418         if (xrenderLibHandle != NULL) {
 419             DTRACE_PRINTLN(&quot;Loaded libXrender&quot;);
 420             xrenderFindVisualFormat =
 421                 (XRenderFindVisualFormatFunc*)dlsym(xrenderLibHandle,
 422                                                     &quot;XRenderFindVisualFormat&quot;);
 423             if (xrenderFindVisualFormat == NULL) {
 424                 DTRACE_PRINTLN1(&quot;Can&#39;t find &#39;XRenderFindVisualFormat&#39; in libXrender (%s)&quot;, dlerror());
 425             }
 426         } else {
 427             DTRACE_PRINTLN1(&quot;Can&#39;t load libXrender (%s)&quot;, dlerror());
 428         }
 429     } else {
 430         DTRACE_PRINTLN(&quot;RENDER extension NOT available&quot;);
 431     }
 432 
</pre>
</td>
</tr>
</table>
<center><a href="../../common/java2d/opengl/GLXGraphicsConfig.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="awt_InputMethod.c.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>