<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.security.jgss/share/classes/sun/security/krb5/Config.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../jgss/wrapper/SunNativeProvider.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="internal/rcache/DflCache.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.security.jgss/share/classes/sun/security/krb5/Config.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 910                     }
 911                     if (fileExists(path)) {
 912                         name = path;
 913                     }
 914                 }
 915                 if (name == null) {
 916                     path = getWindowsDirectory(true);
 917                     if (path != null) {
 918                         if (path.endsWith(&quot;\\&quot;)) {
 919                             path = path + &quot;krb5.ini&quot;;
 920                         } else {
 921                             path = path + &quot;\\krb5.ini&quot;;
 922                         }
 923                         name = path;
 924                     }
 925                 }
 926             }
 927             if (name == null) {
 928                 name = &quot;c:\\winnt\\krb5.ini&quot;;
 929             }
<span class="line-removed"> 930         } else if (osname.startsWith(&quot;SunOS&quot;)) {</span>
<span class="line-removed"> 931             name =  &quot;/etc/krb5/krb5.conf&quot;;</span>
 932         } else if (osname.contains(&quot;OS X&quot;)) {
 933             name = findMacosConfigFile();
 934         } else {
 935             name =  &quot;/etc/krb5.conf&quot;;
 936         }
 937         if (DEBUG) {
 938             System.out.println(&quot;Native config name: &quot; + name);
 939         }
 940         return name;
 941     }
 942 
 943     private String findMacosConfigFile() {
 944         String userHome = GetPropertyAction.privilegedGetProperty(&quot;user.home&quot;);
 945         final String PREF_FILE = &quot;/Library/Preferences/edu.mit.Kerberos&quot;;
 946         String userPrefs = userHome + PREF_FILE;
 947 
 948         if (fileExists(userPrefs)) {
 949             return userPrefs;
 950         }
 951 
</pre>
</td>
<td>
<hr />
<pre>
 910                     }
 911                     if (fileExists(path)) {
 912                         name = path;
 913                     }
 914                 }
 915                 if (name == null) {
 916                     path = getWindowsDirectory(true);
 917                     if (path != null) {
 918                         if (path.endsWith(&quot;\\&quot;)) {
 919                             path = path + &quot;krb5.ini&quot;;
 920                         } else {
 921                             path = path + &quot;\\krb5.ini&quot;;
 922                         }
 923                         name = path;
 924                     }
 925                 }
 926             }
 927             if (name == null) {
 928                 name = &quot;c:\\winnt\\krb5.ini&quot;;
 929             }


 930         } else if (osname.contains(&quot;OS X&quot;)) {
 931             name = findMacosConfigFile();
 932         } else {
 933             name =  &quot;/etc/krb5.conf&quot;;
 934         }
 935         if (DEBUG) {
 936             System.out.println(&quot;Native config name: &quot; + name);
 937         }
 938         return name;
 939     }
 940 
 941     private String findMacosConfigFile() {
 942         String userHome = GetPropertyAction.privilegedGetProperty(&quot;user.home&quot;);
 943         final String PREF_FILE = &quot;/Library/Preferences/edu.mit.Kerberos&quot;;
 944         String userPrefs = userHome + PREF_FILE;
 945 
 946         if (fileExists(userPrefs)) {
 947             return userPrefs;
 948         }
 949 
</pre>
</td>
</tr>
</table>
<center><a href="../jgss/wrapper/SunNativeProvider.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="internal/rcache/DflCache.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>