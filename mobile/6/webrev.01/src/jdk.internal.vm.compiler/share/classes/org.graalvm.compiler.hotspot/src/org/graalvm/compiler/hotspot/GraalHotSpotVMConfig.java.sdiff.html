<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.internal.vm.compiler/share/classes/org.graalvm.compiler.hotspot/src/org/graalvm/compiler/hotspot/GraalHotSpotVMConfig.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../org.graalvm.compiler.hotspot.test/src/org/graalvm/compiler/hotspot/test/CheckGraalIntrinsics.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="GraalHotSpotVMConfigBase.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.internal.vm.compiler/share/classes/org.graalvm.compiler.hotspot/src/org/graalvm/compiler/hotspot/GraalHotSpotVMConfig.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
397         }
398         if (offset == -1) {
399             throw new JVMCIError(&quot;cannot get offset of field &quot; + name + &quot; with type long or jlong&quot;);
400         }
401         pendingFailedSpeculationOffset = offset;
402     }
403 
404     public int threadLastJavaSpOffset() {
405         return javaThreadAnchorOffset + javaFrameAnchorLastJavaSpOffset;
406     }
407 
408     public int threadLastJavaPcOffset() {
409         return javaThreadAnchorOffset + javaFrameAnchorLastJavaPcOffset;
410     }
411 
412     public int threadLastJavaFpOffset() {
413         assert osArch.equals(&quot;aarch64&quot;) || osArch.equals(&quot;amd64&quot;);
414         return javaThreadAnchorOffset + getFieldOffset(&quot;JavaFrameAnchor::_last_Java_fp&quot;, Integer.class, &quot;intptr_t*&quot;);
415     }
416 
<span class="line-removed">417     public int threadJavaFrameAnchorFlagsOffset() {</span>
<span class="line-removed">418         assert osArch.equals(&quot;sparc&quot;);</span>
<span class="line-removed">419         return javaThreadAnchorOffset + getFieldOffset(&quot;JavaFrameAnchor::_flags&quot;, Integer.class, &quot;int&quot;);</span>
<span class="line-removed">420     }</span>
<span class="line-removed">421 </span>
422     public final int runtimeCallStackSize = getConstant(&quot;frame::arg_reg_save_area_bytes&quot;, Integer.class, intRequiredOnAMD64);
423     public final int frameInterpreterFrameSenderSpOffset = getConstant(&quot;frame::interpreter_frame_sender_sp_offset&quot;, Integer.class, intRequiredOnAMD64);
424     public final int frameInterpreterFrameLastSpOffset = getConstant(&quot;frame::interpreter_frame_last_sp_offset&quot;, Integer.class, intRequiredOnAMD64);
425 
426     public final int osThreadInterruptedOffset = getFieldOffset(&quot;OSThread::_interrupted&quot;, Integer.class, &quot;jint&quot;, Integer.MAX_VALUE);
427 
428     public final long markWordHashShift = getConstant(markWordField(&quot;hash_shift&quot;), Long.class);
429 
430     public final int biasedLockMaskInPlace = getConstant(markWordField(&quot;biased_lock_mask_in_place&quot;), Integer.class);
431     public final int ageMaskInPlace = getConstant(markWordField(&quot;age_mask_in_place&quot;), Integer.class);
432     public final int epochMaskInPlace = getConstant(markWordField(&quot;epoch_mask_in_place&quot;), Integer.class);
433     public final long markWordHashMask = getConstant(markWordField(&quot;hash_mask&quot;), Long.class);
434     public final long markWordHashMaskInPlace = getConstant(markWordField(&quot;hash_mask_in_place&quot;), Long.class);
435 
436     public final int unlockedMask = getConstant(markWordField(&quot;unlocked_value&quot;), Integer.class);
437     public final int monitorMask = getConstant(markWordField(&quot;monitor_value&quot;), Integer.class, -1);
438     public final int biasedLockPattern = getConstant(markWordField(&quot;biased_lock_pattern&quot;), Integer.class);
439 
440     // This field has no type in vmStructs.cpp
441     public final int objectMonitorOwner = getFieldOffset(&quot;ObjectMonitor::_owner&quot;, Integer.class, null, -1);
</pre>
</td>
<td>
<hr />
<pre>
397         }
398         if (offset == -1) {
399             throw new JVMCIError(&quot;cannot get offset of field &quot; + name + &quot; with type long or jlong&quot;);
400         }
401         pendingFailedSpeculationOffset = offset;
402     }
403 
404     public int threadLastJavaSpOffset() {
405         return javaThreadAnchorOffset + javaFrameAnchorLastJavaSpOffset;
406     }
407 
408     public int threadLastJavaPcOffset() {
409         return javaThreadAnchorOffset + javaFrameAnchorLastJavaPcOffset;
410     }
411 
412     public int threadLastJavaFpOffset() {
413         assert osArch.equals(&quot;aarch64&quot;) || osArch.equals(&quot;amd64&quot;);
414         return javaThreadAnchorOffset + getFieldOffset(&quot;JavaFrameAnchor::_last_Java_fp&quot;, Integer.class, &quot;intptr_t*&quot;);
415     }
416 





417     public final int runtimeCallStackSize = getConstant(&quot;frame::arg_reg_save_area_bytes&quot;, Integer.class, intRequiredOnAMD64);
418     public final int frameInterpreterFrameSenderSpOffset = getConstant(&quot;frame::interpreter_frame_sender_sp_offset&quot;, Integer.class, intRequiredOnAMD64);
419     public final int frameInterpreterFrameLastSpOffset = getConstant(&quot;frame::interpreter_frame_last_sp_offset&quot;, Integer.class, intRequiredOnAMD64);
420 
421     public final int osThreadInterruptedOffset = getFieldOffset(&quot;OSThread::_interrupted&quot;, Integer.class, &quot;jint&quot;, Integer.MAX_VALUE);
422 
423     public final long markWordHashShift = getConstant(markWordField(&quot;hash_shift&quot;), Long.class);
424 
425     public final int biasedLockMaskInPlace = getConstant(markWordField(&quot;biased_lock_mask_in_place&quot;), Integer.class);
426     public final int ageMaskInPlace = getConstant(markWordField(&quot;age_mask_in_place&quot;), Integer.class);
427     public final int epochMaskInPlace = getConstant(markWordField(&quot;epoch_mask_in_place&quot;), Integer.class);
428     public final long markWordHashMask = getConstant(markWordField(&quot;hash_mask&quot;), Long.class);
429     public final long markWordHashMaskInPlace = getConstant(markWordField(&quot;hash_mask_in_place&quot;), Long.class);
430 
431     public final int unlockedMask = getConstant(markWordField(&quot;unlocked_value&quot;), Integer.class);
432     public final int monitorMask = getConstant(markWordField(&quot;monitor_value&quot;), Integer.class, -1);
433     public final int biasedLockPattern = getConstant(markWordField(&quot;biased_lock_pattern&quot;), Integer.class);
434 
435     // This field has no type in vmStructs.cpp
436     public final int objectMonitorOwner = getFieldOffset(&quot;ObjectMonitor::_owner&quot;, Integer.class, null, -1);
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../org.graalvm.compiler.hotspot.test/src/org/graalvm/compiler/hotspot/test/CheckGraalIntrinsics.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="GraalHotSpotVMConfigBase.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>