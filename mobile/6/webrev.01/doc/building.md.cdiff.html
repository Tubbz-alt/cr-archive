<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff doc/building.md</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center><a href="building.html.cdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="testing.html.cdiff.html" target="_top">next &gt;</a></center>    <h2>doc/building.md</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 107,23 ***</span>
  
  ### Building on x86
  
  At a minimum, a machine with 2-4 cores is advisable, as well as 2-4 GB of RAM.
  (The more cores to use, the more memory you need.) At least 6 GB of free disk
<span class="line-modified">! space is required (8 GB minimum for building on Solaris).</span>
  
  Even for 32-bit builds, it is recommended to use a 64-bit build machine, and
  instead create a 32-bit target using `--with-target-bits=32`.
  
<span class="line-removed">- ### Building on sparc</span>
<span class="line-removed">- </span>
<span class="line-removed">- At a minimum, a machine with 4 cores is advisable, as well as 4 GB of RAM. (The</span>
<span class="line-removed">- more cores to use, the more memory you need.) At least 8 GB of free disk space</span>
<span class="line-removed">- is required.</span>
<span class="line-removed">- </span>
<span class="line-removed">- Note: The sparc port is deprecated.</span>
<span class="line-removed">- </span>
  ### Building on aarch64
  
  At a minimum, a machine with 8 cores is advisable, as well as 8 GB of RAM.
  (The more cores to use, the more memory you need.) At least 6 GB of free disk
  space is required.
<span class="line-new-header">--- 107,15 ---</span>
  
  ### Building on x86
  
  At a minimum, a machine with 2-4 cores is advisable, as well as 2-4 GB of RAM.
  (The more cores to use, the more memory you need.) At least 6 GB of free disk
<span class="line-modified">! space is required.</span>
  
  Even for 32-bit builds, it is recommended to use a 64-bit build machine, and
  instead create a 32-bit target using `--with-target-bits=32`.
  
  ### Building on aarch64
  
  At a minimum, a machine with 8 cores is advisable, as well as 8 GB of RAM.
  (The more cores to use, the more memory you need.) At least 6 GB of free disk
  space is required.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 136,11 ***</span>
  This is not recommended. Instead, see the section on [Cross-compiling](
  #cross-compiling).
  
  ## Operating System Requirements
  
<span class="line-modified">! The mainline JDK project supports Linux, Solaris, macOS, AIX and Windows.</span>
  Support for other operating system, e.g. BSD, exists in separate &quot;port&quot;
  projects.
  
  In general, the JDK can be built on a wide range of versions of these operating
  systems, but the further you deviate from what is tested on a daily basis, the
<span class="line-new-header">--- 128,11 ---</span>
  This is not recommended. Instead, see the section on [Cross-compiling](
  #cross-compiling).
  
  ## Operating System Requirements
  
<span class="line-modified">! The mainline JDK project supports Linux, macOS, AIX and Windows.</span>
  Support for other operating system, e.g. BSD, exists in separate &quot;port&quot;
  projects.
  
  In general, the JDK can be built on a wide range of versions of these operating
  systems, but the further you deviate from what is tested on a daily basis, the
</pre>
<hr />
<pre>
<span class="line-old-header">*** 151,15 ***</span>
  time of writing.
  
   Operating system   Vendor/version used
   -----------------  -------------------------------------------------------
   Linux              Oracle Enterprise Linux 6.4 / 7.6
<span class="line-removed">-  Solaris            Solaris 11.3 SRU 20</span>
   macOS              Mac OS X 10.13 (High Sierra)
   Windows            Windows Server 2012 R2
  
<span class="line-modified">! The double version numbers for Linux and Solaris are due to the hybrid model</span>
  used at Oracle, where header files and external libraries from an older version
  are used when building on a more modern version of the OS.
  
  The Build Group has a wiki page with [Supported Build Platforms](
  https://wiki.openjdk.java.net/display/Build/Supported+Build+Platforms). From
<span class="line-new-header">--- 143,14 ---</span>
  time of writing.
  
   Operating system   Vendor/version used
   -----------------  -------------------------------------------------------
   Linux              Oracle Enterprise Linux 6.4 / 7.6
   macOS              Mac OS X 10.13 (High Sierra)
   Windows            Windows Server 2012 R2
  
<span class="line-modified">! The double version numbers for Linux are due to the hybrid model</span>
  used at Oracle, where header files and external libraries from an older version
  are used when building on a more modern version of the OS.
  
  The Build Group has a wiki page with [Supported Build Platforms](
  https://wiki.openjdk.java.net/display/Build/Supported+Build+Platforms). From
</pre>
<hr />
<pre>
<span class="line-old-header">*** 245,25 ***</span>
  options.
  
  Note that while it&#39;s possible to build on WSL, testing is still not fully
  supported.
  
<span class="line-removed">- ### Solaris</span>
<span class="line-removed">- </span>
<span class="line-removed">- See `make/devkit/solaris11.1-package-list.txt` for a list of recommended</span>
<span class="line-removed">- packages to install when building on Solaris. The versions specified in this</span>
<span class="line-removed">- list is the versions used by the daily builds at Oracle, and is likely to work</span>
<span class="line-removed">- properly.</span>
<span class="line-removed">- </span>
<span class="line-removed">- Older versions of Solaris shipped a broken version of `objcopy`. At least</span>
<span class="line-removed">- version 2.21.1 is needed, which is provided by Solaris 11 Update 1. Objcopy is</span>
<span class="line-removed">- needed if you want to have external debug symbols. Please make sure you are</span>
<span class="line-removed">- using at least version 2.21.1 of objcopy, or that you disable external debug</span>
<span class="line-removed">- symbols.</span>
<span class="line-removed">- </span>
<span class="line-removed">- Note: The Solaris port is deprecated.</span>
<span class="line-removed">- </span>
  ### macOS
  
  Apple is using a quite aggressive scheme of pushing OS updates, and coupling
  these updates with required updates of Xcode. Unfortunately, this makes it
  difficult for a project such as the JDK to keep pace with a continuously updated
<span class="line-new-header">--- 236,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 312,11 ***</span>
  
   Operating system   Supported toolchain
   ------------------ -------------------------
   Linux              gcc, clang
   macOS              Apple Xcode (using clang)
<span class="line-removed">-  Solaris            Oracle Solaris Studio</span>
   AIX                IBM XL C/C++
   Windows            Microsoft Visual Studio
  
  Please see the individual sections on the toolchains for version
  recommendations. As a reference, these versions of the toolchains are used, at
<span class="line-new-header">--- 288,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 327,11 ***</span>
  
   Operating system   Toolchain version
   ------------------ -------------------------------------------------------
   Linux              gcc 9.2.0
   macOS              Apple Xcode 10.1 (using clang 10.0.0)
<span class="line-removed">-  Solaris            Oracle Solaris Studio 12.6 (with compiler version 5.15)</span>
   Windows            Microsoft Visual Studio 2019 update 16.5.3
  
  All compilers are expected to be able to compile to the C99 language standard,
  as some C99 features are used in the source code. Microsoft Visual Studio
  doesn&#39;t fully support C99 so in practice shared code is limited to using C99
<span class="line-new-header">--- 302,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 377,40 ***</span>
  the JDK can no longer be built, please see the section on [Problems with the
  Build Environment](#problems-with-the-build-environment), and [Getting
  Help](#getting-help) to find out if there are any recent, non-merged patches
  available for this update.
  
<span class="line-removed">- ### Oracle Solaris Studio</span>
<span class="line-removed">- </span>
<span class="line-removed">- The minimum accepted version of the Solaris Studio compilers is 5.13</span>
<span class="line-removed">- (corresponding to Solaris Studio 12.4). Older versions will not be accepted by</span>
<span class="line-removed">- configure.</span>
<span class="line-removed">- </span>
<span class="line-removed">- The Solaris Studio installation should contain at least these packages:</span>
<span class="line-removed">- </span>
<span class="line-removed">-  Package                                            Version</span>
<span class="line-removed">-  -------------------------------------------------- -------------</span>
<span class="line-removed">-  developer/solarisstudio-124/backend                12.4-1.0.6.0</span>
<span class="line-removed">-  developer/solarisstudio-124/c++                    12.4-1.0.10.0</span>
<span class="line-removed">-  developer/solarisstudio-124/cc                     12.4-1.0.4.0</span>
<span class="line-removed">-  developer/solarisstudio-124/library/c++-libs       12.4-1.0.10.0</span>
<span class="line-removed">-  developer/solarisstudio-124/library/math-libs      12.4-1.0.0.1</span>
<span class="line-removed">-  developer/solarisstudio-124/library/studio-gccrt   12.4-1.0.0.1</span>
<span class="line-removed">-  developer/solarisstudio-124/studio-common          12.4-1.0.0.1</span>
<span class="line-removed">-  developer/solarisstudio-124/studio-ja              12.4-1.0.0.1</span>
<span class="line-removed">-  developer/solarisstudio-124/studio-legal           12.4-1.0.0.1</span>
<span class="line-removed">-  developer/solarisstudio-124/studio-zhCN            12.4-1.0.0.1</span>
<span class="line-removed">- </span>
<span class="line-removed">- Compiling with Solaris Studio can sometimes be finicky. This is the exact</span>
<span class="line-removed">- version used by Oracle, which worked correctly at the time of writing:</span>
<span class="line-removed">- ```</span>
<span class="line-removed">- $ cc -V</span>
<span class="line-removed">- cc: Sun C 5.13 SunOS_i386 2014/10/20</span>
<span class="line-removed">- $ CC -V</span>
<span class="line-removed">- CC: Sun C++ 5.13 SunOS_i386 151846-10 2015/10/30</span>
<span class="line-removed">- ```</span>
<span class="line-removed">- </span>
  ### Microsoft Visual Studio
  
  The minimum accepted version of Visual Studio is 2010. Older versions will not
  be accepted by `configure`. The maximum accepted version of Visual Studio is
  2019. Versions older than 2017 are unlikely to continue working for long.
<span class="line-new-header">--- 351,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 492,11 ***</span>
  
    * To install on an apt-based Linux, try running `sudo apt-get install
      libfreetype6-dev`.
    * To install on an rpm-based Linux, try running `sudo yum install
      freetype-devel`.
<span class="line-removed">-   * To install on Solaris, try running `pkg install system/library/freetype-2`.</span>
  
  Use `--with-freetype-include=&lt;path&gt;` and `--with-freetype-lib=&lt;path&gt;`
  if `configure` does not automatically locate the platform FreeType files.
  
  ### CUPS
<span class="line-new-header">--- 436,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 507,30 ***</span>
  
    * To install on an apt-based Linux, try running `sudo apt-get install
      libcups2-dev`.
    * To install on an rpm-based Linux, try running `sudo yum install
      cups-devel`.
<span class="line-removed">-   * To install on Solaris, try running `pkg install print/cups`.</span>
  
  Use `--with-cups=&lt;path&gt;` if `configure` does not properly locate your CUPS
  files.
  
  ### X11
  
  Certain [X11](http://www.x.org/) libraries and include files are required on
<span class="line-modified">! Linux and Solaris.</span>
  
    * To install on an apt-based Linux, try running `sudo apt-get install
      libx11-dev libxext-dev libxrender-dev libxrandr-dev libxtst-dev libxt-dev`.
    * To install on an rpm-based Linux, try running `sudo yum install
      libXtst-devel libXt-devel libXrender-devel libXrandr-devel libXi-devel`.
<span class="line-removed">-   * To install on Solaris, try running `pkg install x11/header/x11-protocols</span>
<span class="line-removed">-     x11/library/libice x11/library/libpthread-stubs x11/library/libsm</span>
<span class="line-removed">-     x11/library/libx11 x11/library/libxau x11/library/libxcb</span>
<span class="line-removed">-     x11/library/libxdmcp x11/library/libxevie x11/library/libxext</span>
<span class="line-removed">-     x11/library/libxrender x11/library/libxrandr x11/library/libxscrnsaver</span>
<span class="line-removed">-     x11/library/libxtst x11/library/toolkit/libxt`.</span>
  
  Use `--with-x=&lt;path&gt;` if `configure` does not properly locate your X11 files.
  
  ### ALSA
  
<span class="line-new-header">--- 450,23 ---</span>
  
    * To install on an apt-based Linux, try running `sudo apt-get install
      libcups2-dev`.
    * To install on an rpm-based Linux, try running `sudo yum install
      cups-devel`.
  
  Use `--with-cups=&lt;path&gt;` if `configure` does not properly locate your CUPS
  files.
  
  ### X11
  
  Certain [X11](http://www.x.org/) libraries and include files are required on
<span class="line-modified">! Linux.</span>
  
    * To install on an apt-based Linux, try running `sudo apt-get install
      libx11-dev libxext-dev libxrender-dev libxrandr-dev libxtst-dev libxt-dev`.
    * To install on an rpm-based Linux, try running `sudo yum install
      libXtst-devel libXt-devel libXrender-devel libXrandr-devel libXi-devel`.
  
  Use `--with-x=&lt;path&gt;` if `configure` does not properly locate your X11 files.
  
  ### ALSA
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 601,12 ***</span>
  `make` in your path, this might cause issues.
  
  If you want to override the default make found by `configure`, use the `MAKE`
  configure variable, e.g. `configure MAKE=/opt/gnu/make`.
  
<span class="line-removed">- On Solaris, it is common to call the GNU version of make by using `gmake`.</span>
<span class="line-removed">- </span>
  ### GNU Bash
  
  The JDK requires [GNU Bash](http://www.gnu.org/software/bash). No other shells
  are supported.
  
<span class="line-new-header">--- 537,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1458,16 ***</span>
  If you see these warnings, reset the clock on the build machine, run `make
  clean` and restart the build.
  
  #### Out of Memory Errors
  
<span class="line-removed">- On Solaris, you might get an error message like this:</span>
<span class="line-removed">- ```</span>
<span class="line-removed">- Trouble writing out table to disk</span>
<span class="line-removed">- ```</span>
<span class="line-removed">- To solve this, increase the amount of swap space on your build machine.</span>
<span class="line-removed">- </span>
  On Windows, you might get error messages like this:
  ```
  fatal error - couldn&#39;t allocate heap
  cannot create ... Permission denied
  spawn failed
<span class="line-new-header">--- 1392,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1602,12 ***</span>
  module, by giving it as make target: `make jdk.jdwp.agent`. If the specified
  module depends on other modules (e.g. `java.base`), those modules will be built
  first.
  
  You can also specify a set of modules, just as you can always specify a set of
<span class="line-modified">! make targets: `make jdk.crypto.cryptoki jdk.crypto.ec jdk.crypto.mscapi</span>
<span class="line-removed">- jdk.crypto.ucrypto`</span>
  
  #### Building Individual Module Phases
  
  The build process for each module is divided into separate phases. Not all
  modules need all phases. Which are needed depends on what kind of source code
<span class="line-new-header">--- 1530,11 ---</span>
  module, by giving it as make target: `make jdk.jdwp.agent`. If the specified
  module depends on other modules (e.g. `java.base`), those modules will be built
  first.
  
  You can also specify a set of modules, just as you can always specify a set of
<span class="line-modified">! make targets: `make jdk.crypto.cryptoki jdk.crypto.ec jdk.crypto.mscapi`</span>
  
  #### Building Individual Module Phases
  
  The build process for each module is divided into separate phases. Not all
  modules need all phases. Which are needed depends on what kind of source code
</pre>
<center><a href="building.html.cdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="testing.html.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>