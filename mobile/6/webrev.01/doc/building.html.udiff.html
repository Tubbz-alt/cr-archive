<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff doc/building.html</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center><a href="../bin/unshuffle_list.txt.udiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="building.md.udiff.html" target="_top">next &gt;</a></center>    <h2>doc/building.html</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -28,26 +28,23 @@</span>
  &lt;li&gt;&lt;a href=&quot;#getting-the-source-code&quot;&gt;Getting the Source Code&lt;/a&gt;&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#special-considerations&quot;&gt;Special Considerations&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#build-hardware-requirements&quot;&gt;Build Hardware Requirements&lt;/a&gt;&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#building-on-x86&quot;&gt;Building on x86&lt;/a&gt;&lt;/li&gt;
<span class="udiff-line-removed">- &lt;li&gt;&lt;a href=&quot;#building-on-sparc&quot;&gt;Building on sparc&lt;/a&gt;&lt;/li&gt;</span>
  &lt;li&gt;&lt;a href=&quot;#building-on-aarch64&quot;&gt;Building on aarch64&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#building-on-32-bit-arm&quot;&gt;Building on 32-bit arm&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#operating-system-requirements&quot;&gt;Operating System Requirements&lt;/a&gt;&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#windows&quot;&gt;Windows&lt;/a&gt;&lt;/li&gt;
<span class="udiff-line-removed">- &lt;li&gt;&lt;a href=&quot;#solaris&quot;&gt;Solaris&lt;/a&gt;&lt;/li&gt;</span>
  &lt;li&gt;&lt;a href=&quot;#macos&quot;&gt;macOS&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#linux&quot;&gt;Linux&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#aix&quot;&gt;AIX&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#native-compiler-toolchain-requirements&quot;&gt;Native Compiler (Toolchain) Requirements&lt;/a&gt;&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#gcc&quot;&gt;gcc&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#clang&quot;&gt;clang&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#apple-xcode&quot;&gt;Apple Xcode&lt;/a&gt;&lt;/li&gt;
<span class="udiff-line-removed">- &lt;li&gt;&lt;a href=&quot;#oracle-solaris-studio&quot;&gt;Oracle Solaris Studio&lt;/a&gt;&lt;/li&gt;</span>
  &lt;li&gt;&lt;a href=&quot;#microsoft-visual-studio&quot;&gt;Microsoft Visual Studio&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ibm-xl-cc&quot;&gt;IBM XL C/C++&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#boot-jdk-requirements&quot;&gt;Boot JDK Requirements&lt;/a&gt;&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#getting-jdk-binaries&quot;&gt;Getting JDK binaries&lt;/a&gt;&lt;/li&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -155,22 +152,19 @@</span>
  &lt;/ul&gt;
  &lt;h2 id=&quot;build-hardware-requirements&quot;&gt;Build Hardware Requirements&lt;/h2&gt;
  &lt;p&gt;The JDK is a massive project, and require machines ranging from decent to powerful to be able to build in a reasonable amount of time, or to be able to complete a build at all.&lt;/p&gt;
  &lt;p&gt;We &lt;em&gt;strongly&lt;/em&gt; recommend usage of an SSD disk for the build, since disk speed is one of the limiting factors for build performance.&lt;/p&gt;
  &lt;h3 id=&quot;building-on-x86&quot;&gt;Building on x86&lt;/h3&gt;
<span class="udiff-line-modified-removed">- &lt;p&gt;At a minimum, a machine with 2-4 cores is advisable, as well as 2-4 GB of RAM. (The more cores to use, the more memory you need.) At least 6 GB of free disk space is required (8 GB minimum for building on Solaris).&lt;/p&gt;</span>
<span class="udiff-line-modified-added">+ &lt;p&gt;At a minimum, a machine with 2-4 cores is advisable, as well as 2-4 GB of RAM. (The more cores to use, the more memory you need.) At least 6 GB of free disk space is required.&lt;/p&gt;</span>
  &lt;p&gt;Even for 32-bit builds, it is recommended to use a 64-bit build machine, and instead create a 32-bit target using &lt;code&gt;--with-target-bits=32&lt;/code&gt;.&lt;/p&gt;
<span class="udiff-line-removed">- &lt;h3 id=&quot;building-on-sparc&quot;&gt;Building on sparc&lt;/h3&gt;</span>
<span class="udiff-line-removed">- &lt;p&gt;At a minimum, a machine with 4 cores is advisable, as well as 4 GB of RAM. (The more cores to use, the more memory you need.) At least 8 GB of free disk space is required.&lt;/p&gt;</span>
<span class="udiff-line-removed">- &lt;p&gt;Note: The sparc port is deprecated.&lt;/p&gt;</span>
  &lt;h3 id=&quot;building-on-aarch64&quot;&gt;Building on aarch64&lt;/h3&gt;
  &lt;p&gt;At a minimum, a machine with 8 cores is advisable, as well as 8 GB of RAM. (The more cores to use, the more memory you need.) At least 6 GB of free disk space is required.&lt;/p&gt;
  &lt;p&gt;If you do not have access to sufficiently powerful hardware, it is also possible to use &lt;a href=&quot;#cross-compiling&quot;&gt;cross-compiling&lt;/a&gt;.&lt;/p&gt;
  &lt;h3 id=&quot;building-on-32-bit-arm&quot;&gt;Building on 32-bit arm&lt;/h3&gt;
  &lt;p&gt;This is not recommended. Instead, see the section on &lt;a href=&quot;#cross-compiling&quot;&gt;Cross-compiling&lt;/a&gt;.&lt;/p&gt;
  &lt;h2 id=&quot;operating-system-requirements&quot;&gt;Operating System Requirements&lt;/h2&gt;
<span class="udiff-line-modified-removed">- &lt;p&gt;The mainline JDK project supports Linux, Solaris, macOS, AIX and Windows. Support for other operating system, e.g. BSD, exists in separate &amp;quot;port&amp;quot; projects.&lt;/p&gt;</span>
<span class="udiff-line-modified-added">+ &lt;p&gt;The mainline JDK project supports Linux, macOS, AIX and Windows. Support for other operating system, e.g. BSD, exists in separate &amp;quot;port&amp;quot; projects.&lt;/p&gt;</span>
  &lt;p&gt;In general, the JDK can be built on a wide range of versions of these operating systems, but the further you deviate from what is tested on a daily basis, the more likely you are to run into problems.&lt;/p&gt;
  &lt;p&gt;This table lists the OS versions used by Oracle when building the JDK. Such information is always subject to change, but this table is up to date at the time of writing.&lt;/p&gt;
  &lt;table&gt;
  &lt;thead&gt;
  &lt;tr class=&quot;header&quot;&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -182,24 +176,20 @@</span>
  &lt;tr class=&quot;odd&quot;&gt;
  &lt;td style=&quot;text-align: left;&quot;&gt;Linux&lt;/td&gt;
  &lt;td style=&quot;text-align: left;&quot;&gt;Oracle Enterprise Linux 6.4 / 7.6&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr class=&quot;even&quot;&gt;
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;Solaris&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;Solaris 11.3 SRU 20&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;/tr&gt;</span>
<span class="udiff-line-removed">- &lt;tr class=&quot;odd&quot;&gt;</span>
  &lt;td style=&quot;text-align: left;&quot;&gt;macOS&lt;/td&gt;
  &lt;td style=&quot;text-align: left;&quot;&gt;Mac OS X 10.13 (High Sierra)&lt;/td&gt;
  &lt;/tr&gt;
<span class="udiff-line-modified-removed">- &lt;tr class=&quot;even&quot;&gt;</span>
<span class="udiff-line-modified-added">+ &lt;tr class=&quot;odd&quot;&gt;</span>
  &lt;td style=&quot;text-align: left;&quot;&gt;Windows&lt;/td&gt;
  &lt;td style=&quot;text-align: left;&quot;&gt;Windows Server 2012 R2&lt;/td&gt;
  &lt;/tr&gt;
  &lt;/tbody&gt;
  &lt;/table&gt;
<span class="udiff-line-modified-removed">- &lt;p&gt;The double version numbers for Linux and Solaris are due to the hybrid model used at Oracle, where header files and external libraries from an older version are used when building on a more modern version of the OS.&lt;/p&gt;</span>
<span class="udiff-line-modified-added">+ &lt;p&gt;The double version numbers for Linux are due to the hybrid model used at Oracle, where header files and external libraries from an older version are used when building on a more modern version of the OS.&lt;/p&gt;</span>
  &lt;p&gt;The Build Group has a wiki page with &lt;a href=&quot;https://wiki.openjdk.java.net/display/Build/Supported+Build+Platforms&quot;&gt;Supported Build Platforms&lt;/a&gt;. From time to time, this is updated by contributors to list successes or failures of building on different platforms.&lt;/p&gt;
  &lt;h3 id=&quot;windows&quot;&gt;Windows&lt;/h3&gt;
  &lt;p&gt;Windows XP is not a supported platform, but all newer Windows should be able to build the JDK.&lt;/p&gt;
  &lt;p&gt;On Windows, it is important that you pay attention to the instructions in the &lt;a href=&quot;#special-considerations&quot;&gt;Special Considerations&lt;/a&gt;.&lt;/p&gt;
  &lt;p&gt;Windows is the only non-POSIX OS supported by the JDK, and as such, requires some extra care. A POSIX support layer is required to build on Windows. Currently, the only supported such layers are Cygwin and Windows Subsystem for Linux (WSL). (Msys is no longer supported due to a too old bash; msys2 would likely be possible to support in a future version but that would require effort to implement.)&lt;/p&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -221,14 +211,10 @@</span>
  &lt;h4 id=&quot;windows-subsystem-for-linux-wsl&quot;&gt;Windows Subsystem for Linux (WSL)&lt;/h4&gt;
  &lt;p&gt;Windows 10 1809 or newer is supported due to a dependency on the wslpath utility and support for environment variable sharing through WSLENV. Version 1803 can work but intermittent build failures have been observed.&lt;/p&gt;
  &lt;p&gt;It&#39;s possible to build both Windows and Linux binaries from WSL. To build Windows binaries, you must use a Windows boot JDK (located in a Windows-accessible directory). To build Linux binaries, you must use a Linux boot JDK. The default behavior is to build for Windows. To build for Linux, pass &lt;code&gt;--build=x86_64-unknown-linux-gnu --host=x86_64-unknown-linux-gnu&lt;/code&gt; to &lt;code&gt;configure&lt;/code&gt;.&lt;/p&gt;
  &lt;p&gt;If building Windows binaries, the source code must be located in a Windows- accessible directory. This is because Windows executables (such as Visual Studio and the boot JDK) must be able to access the source code. Also, the drive where the source is stored must be mounted as case-insensitive by changing either /etc/fstab or /etc/wsl.conf in WSL. Individual directories may be corrected using the fsutil tool in case the source was cloned before changing the mount options.&lt;/p&gt;
  &lt;p&gt;Note that while it&#39;s possible to build on WSL, testing is still not fully supported.&lt;/p&gt;
<span class="udiff-line-removed">- &lt;h3 id=&quot;solaris&quot;&gt;Solaris&lt;/h3&gt;</span>
<span class="udiff-line-removed">- &lt;p&gt;See &lt;code&gt;make/devkit/solaris11.1-package-list.txt&lt;/code&gt; for a list of recommended packages to install when building on Solaris. The versions specified in this list is the versions used by the daily builds at Oracle, and is likely to work properly.&lt;/p&gt;</span>
<span class="udiff-line-removed">- &lt;p&gt;Older versions of Solaris shipped a broken version of &lt;code&gt;objcopy&lt;/code&gt;. At least version 2.21.1 is needed, which is provided by Solaris 11 Update 1. Objcopy is needed if you want to have external debug symbols. Please make sure you are using at least version 2.21.1 of objcopy, or that you disable external debug symbols.&lt;/p&gt;</span>
<span class="udiff-line-removed">- &lt;p&gt;Note: The Solaris port is deprecated.&lt;/p&gt;</span>
  &lt;h3 id=&quot;macos&quot;&gt;macOS&lt;/h3&gt;
  &lt;p&gt;Apple is using a quite aggressive scheme of pushing OS updates, and coupling these updates with required updates of Xcode. Unfortunately, this makes it difficult for a project such as the JDK to keep pace with a continuously updated machine running macOS. See the section on &lt;a href=&quot;#apple-xcode&quot;&gt;Apple Xcode&lt;/a&gt; on some strategies to deal with this.&lt;/p&gt;
  &lt;p&gt;It is recommended that you use at least Mac OS X 10.13 (High Sierra). At the time of writing, the JDK has been successfully compiled on macOS 10.12 (Sierra).&lt;/p&gt;
  &lt;p&gt;The standard macOS environment contains the basic tooling needed to build, but for external libraries a package manager is recommended. The JDK uses &lt;a href=&quot;https://brew.sh/&quot;&gt;homebrew&lt;/a&gt; in the examples, but feel free to use whatever manager you want (or none).&lt;/p&gt;
  &lt;h3 id=&quot;linux&quot;&gt;Linux&lt;/h3&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -257,18 +243,14 @@</span>
  &lt;tr class=&quot;even&quot;&gt;
  &lt;td style=&quot;text-align: left;&quot;&gt;macOS&lt;/td&gt;
  &lt;td style=&quot;text-align: left;&quot;&gt;Apple Xcode (using clang)&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr class=&quot;odd&quot;&gt;
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;Solaris&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;Oracle Solaris Studio&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;/tr&gt;</span>
<span class="udiff-line-removed">- &lt;tr class=&quot;even&quot;&gt;</span>
  &lt;td style=&quot;text-align: left;&quot;&gt;AIX&lt;/td&gt;
  &lt;td style=&quot;text-align: left;&quot;&gt;IBM XL C/C++&lt;/td&gt;
  &lt;/tr&gt;
<span class="udiff-line-modified-removed">- &lt;tr class=&quot;odd&quot;&gt;</span>
<span class="udiff-line-modified-added">+ &lt;tr class=&quot;even&quot;&gt;</span>
  &lt;td style=&quot;text-align: left;&quot;&gt;Windows&lt;/td&gt;
  &lt;td style=&quot;text-align: left;&quot;&gt;Microsoft Visual Studio&lt;/td&gt;
  &lt;/tr&gt;
  &lt;/tbody&gt;
  &lt;/table&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -288,14 +270,10 @@</span>
  &lt;tr class=&quot;even&quot;&gt;
  &lt;td style=&quot;text-align: left;&quot;&gt;macOS&lt;/td&gt;
  &lt;td style=&quot;text-align: left;&quot;&gt;Apple Xcode 10.1 (using clang 10.0.0)&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr class=&quot;odd&quot;&gt;
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;Solaris&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;Oracle Solaris Studio 12.6 (with compiler version 5.15)&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;/tr&gt;</span>
<span class="udiff-line-removed">- &lt;tr class=&quot;even&quot;&gt;</span>
  &lt;td style=&quot;text-align: left;&quot;&gt;Windows&lt;/td&gt;
  &lt;td style=&quot;text-align: left;&quot;&gt;Microsoft Visual Studio 2019 update 16.5.3&lt;/td&gt;
  &lt;/tr&gt;
  &lt;/tbody&gt;
  &lt;/table&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -311,68 +289,10 @@</span>
  &lt;p&gt;The oldest supported version of Xcode is 8.&lt;/p&gt;
  &lt;p&gt;You will need the Xcode command lines developers tools to be able to build the JDK. (Actually, &lt;em&gt;only&lt;/em&gt; the command lines tools are needed, not the IDE.) The simplest way to install these is to run:&lt;/p&gt;
  &lt;pre&gt;&lt;code&gt;xcode-select --install&lt;/code&gt;&lt;/pre&gt;
  &lt;p&gt;It is advisable to keep an older version of Xcode for building the JDK when updating Xcode. This &lt;a href=&quot;http://iosdevelopertips.com/xcode/install-multiple-versions-of-xcode.html&quot;&gt;blog page&lt;/a&gt; has good suggestions on managing multiple Xcode versions. To use a specific version of Xcode, use &lt;code&gt;xcode-select -s&lt;/code&gt; before running &lt;code&gt;configure&lt;/code&gt;, or use &lt;code&gt;--with-toolchain-path&lt;/code&gt; to point to the version of Xcode to use, e.g. &lt;code&gt;configure --with-toolchain-path=/Applications/Xcode8.app/Contents/Developer/usr/bin&lt;/code&gt;&lt;/p&gt;
  &lt;p&gt;If you have recently (inadvertently) updated your OS and/or Xcode version, and the JDK can no longer be built, please see the section on &lt;a href=&quot;#problems-with-the-build-environment&quot;&gt;Problems with the Build Environment&lt;/a&gt;, and &lt;a href=&quot;#getting-help&quot;&gt;Getting Help&lt;/a&gt; to find out if there are any recent, non-merged patches available for this update.&lt;/p&gt;
<span class="udiff-line-removed">- &lt;h3 id=&quot;oracle-solaris-studio&quot;&gt;Oracle Solaris Studio&lt;/h3&gt;</span>
<span class="udiff-line-removed">- &lt;p&gt;The minimum accepted version of the Solaris Studio compilers is 5.13 (corresponding to Solaris Studio 12.4). Older versions will not be accepted by configure.&lt;/p&gt;</span>
<span class="udiff-line-removed">- &lt;p&gt;The Solaris Studio installation should contain at least these packages:&lt;/p&gt;</span>
<span class="udiff-line-removed">- &lt;table&gt;</span>
<span class="udiff-line-removed">- &lt;thead&gt;</span>
<span class="udiff-line-removed">- &lt;tr class=&quot;header&quot;&gt;</span>
<span class="udiff-line-removed">- &lt;th style=&quot;text-align: left;&quot;&gt;Package&lt;/th&gt;</span>
<span class="udiff-line-removed">- &lt;th style=&quot;text-align: left;&quot;&gt;Version&lt;/th&gt;</span>
<span class="udiff-line-removed">- &lt;/tr&gt;</span>
<span class="udiff-line-removed">- &lt;/thead&gt;</span>
<span class="udiff-line-removed">- &lt;tbody&gt;</span>
<span class="udiff-line-removed">- &lt;tr class=&quot;odd&quot;&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;developer/solarisstudio-124/backend&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;12.4-1.0.6.0&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;/tr&gt;</span>
<span class="udiff-line-removed">- &lt;tr class=&quot;even&quot;&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;developer/solarisstudio-124/c++&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;12.4-1.0.10.0&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;/tr&gt;</span>
<span class="udiff-line-removed">- &lt;tr class=&quot;odd&quot;&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;developer/solarisstudio-124/cc&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;12.4-1.0.4.0&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;/tr&gt;</span>
<span class="udiff-line-removed">- &lt;tr class=&quot;even&quot;&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;developer/solarisstudio-124/library/c++-libs&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;12.4-1.0.10.0&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;/tr&gt;</span>
<span class="udiff-line-removed">- &lt;tr class=&quot;odd&quot;&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;developer/solarisstudio-124/library/math-libs&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;12.4-1.0.0.1&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;/tr&gt;</span>
<span class="udiff-line-removed">- &lt;tr class=&quot;even&quot;&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;developer/solarisstudio-124/library/studio-gccrt&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;12.4-1.0.0.1&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;/tr&gt;</span>
<span class="udiff-line-removed">- &lt;tr class=&quot;odd&quot;&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;developer/solarisstudio-124/studio-common&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;12.4-1.0.0.1&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;/tr&gt;</span>
<span class="udiff-line-removed">- &lt;tr class=&quot;even&quot;&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;developer/solarisstudio-124/studio-ja&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;12.4-1.0.0.1&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;/tr&gt;</span>
<span class="udiff-line-removed">- &lt;tr class=&quot;odd&quot;&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;developer/solarisstudio-124/studio-legal&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;12.4-1.0.0.1&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;/tr&gt;</span>
<span class="udiff-line-removed">- &lt;tr class=&quot;even&quot;&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;developer/solarisstudio-124/studio-zhCN&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;td style=&quot;text-align: left;&quot;&gt;12.4-1.0.0.1&lt;/td&gt;</span>
<span class="udiff-line-removed">- &lt;/tr&gt;</span>
<span class="udiff-line-removed">- &lt;/tbody&gt;</span>
<span class="udiff-line-removed">- &lt;/table&gt;</span>
<span class="udiff-line-removed">- &lt;p&gt;Compiling with Solaris Studio can sometimes be finicky. This is the exact version used by Oracle, which worked correctly at the time of writing:&lt;/p&gt;</span>
<span class="udiff-line-removed">- &lt;pre&gt;&lt;code&gt;$ cc -V</span>
<span class="udiff-line-removed">- cc: Sun C 5.13 SunOS_i386 2014/10/20</span>
<span class="udiff-line-removed">- $ CC -V</span>
<span class="udiff-line-removed">- CC: Sun C++ 5.13 SunOS_i386 151846-10 2015/10/30&lt;/code&gt;&lt;/pre&gt;</span>
  &lt;h3 id=&quot;microsoft-visual-studio&quot;&gt;Microsoft Visual Studio&lt;/h3&gt;
  &lt;p&gt;The minimum accepted version of Visual Studio is 2010. Older versions will not be accepted by &lt;code&gt;configure&lt;/code&gt;. The maximum accepted version of Visual Studio is 2019. Versions older than 2017 are unlikely to continue working for long.&lt;/p&gt;
  &lt;p&gt;If you have multiple versions of Visual Studio installed, &lt;code&gt;configure&lt;/code&gt; will by default pick the latest. You can request a specific version to be used by setting &lt;code&gt;--with-toolchain-version&lt;/code&gt;, e.g. &lt;code&gt;--with-toolchain-version=2015&lt;/code&gt;.&lt;/p&gt;
  &lt;p&gt;If you get &lt;code&gt;LINK: fatal error LNK1123: failure during conversion to COFF: file invalid&lt;/code&gt; when building using Visual Studio 2010, you have encountered &lt;a href=&quot;http://support.microsoft.com/kb/2757355&quot;&gt;KB2757355&lt;/a&gt;, a bug triggered by a specific installation order. However, the solution suggested by the KB article does not always resolve the problem. See &lt;a href=&quot;https://stackoverflow.com/questions/10888391&quot;&gt;this stackoverflow discussion&lt;/a&gt; for other suggestions.&lt;/p&gt;
  &lt;h3 id=&quot;ibm-xl-cc&quot;&gt;IBM XL C/C++&lt;/h3&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -392,27 +312,24 @@</span>
  &lt;h3 id=&quot;freetype&quot;&gt;FreeType&lt;/h3&gt;
  &lt;p&gt;FreeType2 from &lt;a href=&quot;http://www.freetype.org/&quot;&gt;The FreeType Project&lt;/a&gt; is not required on any platform. The exception is on Unix-based platforms when configuring such that the build artifacts will reference a system installed library, rather than bundling the JDK&#39;s own copy.&lt;/p&gt;
  &lt;ul&gt;
  &lt;li&gt;To install on an apt-based Linux, try running &lt;code&gt;sudo apt-get install libfreetype6-dev&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;To install on an rpm-based Linux, try running &lt;code&gt;sudo yum install freetype-devel&lt;/code&gt;.&lt;/li&gt;
<span class="udiff-line-removed">- &lt;li&gt;To install on Solaris, try running &lt;code&gt;pkg install system/library/freetype-2&lt;/code&gt;.&lt;/li&gt;</span>
  &lt;/ul&gt;
  &lt;p&gt;Use &lt;code&gt;--with-freetype-include=&amp;lt;path&amp;gt;&lt;/code&gt; and &lt;code&gt;--with-freetype-lib=&amp;lt;path&amp;gt;&lt;/code&gt; if &lt;code&gt;configure&lt;/code&gt; does not automatically locate the platform FreeType files.&lt;/p&gt;
  &lt;h3 id=&quot;cups&quot;&gt;CUPS&lt;/h3&gt;
  &lt;p&gt;CUPS, &lt;a href=&quot;http://www.cups.org&quot;&gt;Common UNIX Printing System&lt;/a&gt; header files are required on all platforms, except Windows. Often these files are provided by your operating system.&lt;/p&gt;
  &lt;ul&gt;
  &lt;li&gt;To install on an apt-based Linux, try running &lt;code&gt;sudo apt-get install libcups2-dev&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;To install on an rpm-based Linux, try running &lt;code&gt;sudo yum install cups-devel&lt;/code&gt;.&lt;/li&gt;
<span class="udiff-line-removed">- &lt;li&gt;To install on Solaris, try running &lt;code&gt;pkg install print/cups&lt;/code&gt;.&lt;/li&gt;</span>
  &lt;/ul&gt;
  &lt;p&gt;Use &lt;code&gt;--with-cups=&amp;lt;path&amp;gt;&lt;/code&gt; if &lt;code&gt;configure&lt;/code&gt; does not properly locate your CUPS files.&lt;/p&gt;
  &lt;h3 id=&quot;x11&quot;&gt;X11&lt;/h3&gt;
<span class="udiff-line-modified-removed">- &lt;p&gt;Certain &lt;a href=&quot;http://www.x.org/&quot;&gt;X11&lt;/a&gt; libraries and include files are required on Linux and Solaris.&lt;/p&gt;</span>
<span class="udiff-line-modified-added">+ &lt;p&gt;Certain &lt;a href=&quot;http://www.x.org/&quot;&gt;X11&lt;/a&gt; libraries and include files are required on Linux.&lt;/p&gt;</span>
  &lt;ul&gt;
  &lt;li&gt;To install on an apt-based Linux, try running &lt;code&gt;sudo apt-get install libx11-dev libxext-dev libxrender-dev libxrandr-dev libxtst-dev libxt-dev&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;To install on an rpm-based Linux, try running &lt;code&gt;sudo yum install libXtst-devel libXt-devel libXrender-devel libXrandr-devel libXi-devel&lt;/code&gt;.&lt;/li&gt;
<span class="udiff-line-removed">- &lt;li&gt;To install on Solaris, try running &lt;code&gt;pkg install x11/header/x11-protocols x11/library/libice x11/library/libpthread-stubs x11/library/libsm x11/library/libx11 x11/library/libxau x11/library/libxcb x11/library/libxdmcp x11/library/libxevie x11/library/libxext x11/library/libxrender x11/library/libxrandr x11/library/libxscrnsaver x11/library/libxtst x11/library/toolkit/libxt&lt;/code&gt;.&lt;/li&gt;</span>
  &lt;/ul&gt;
  &lt;p&gt;Use &lt;code&gt;--with-x=&amp;lt;path&amp;gt;&lt;/code&gt; if &lt;code&gt;configure&lt;/code&gt; does not properly locate your X11 files.&lt;/p&gt;
  &lt;h3 id=&quot;alsa&quot;&gt;ALSA&lt;/h3&gt;
  &lt;p&gt;ALSA, &lt;a href=&quot;https://www.alsa-project.org/&quot;&gt;Advanced Linux Sound Architecture&lt;/a&gt; is required on Linux. At least version 0.9.1 of ALSA is required.&lt;/p&gt;
  &lt;ul&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -441,11 +358,10 @@</span>
  &lt;h3 id=&quot;gnu-make&quot;&gt;GNU Make&lt;/h3&gt;
  &lt;p&gt;The JDK requires &lt;a href=&quot;http://www.gnu.org/software/make&quot;&gt;GNU Make&lt;/a&gt;. No other flavors of make are supported.&lt;/p&gt;
  &lt;p&gt;At least version 3.81 of GNU Make must be used. For distributions supporting GNU Make 4.0 or above, we strongly recommend it. GNU Make 4.0 contains useful functionality to handle parallel building (supported by &lt;code&gt;--with-output-sync&lt;/code&gt;) and speed and stability improvements.&lt;/p&gt;
  &lt;p&gt;Note that &lt;code&gt;configure&lt;/code&gt; locates and verifies a properly functioning version of &lt;code&gt;make&lt;/code&gt; and stores the path to this &lt;code&gt;make&lt;/code&gt; binary in the configuration. If you start a build using &lt;code&gt;make&lt;/code&gt; on the command line, you will be using the version of make found first in your &lt;code&gt;PATH&lt;/code&gt;, and not necessarily the one stored in the configuration. This initial make will be used as &amp;quot;bootstrap make&amp;quot;, and in a second stage, the make located by &lt;code&gt;configure&lt;/code&gt; will be called. Normally, this will present no issues, but if you have a very old &lt;code&gt;make&lt;/code&gt;, or a non-GNU Make &lt;code&gt;make&lt;/code&gt; in your path, this might cause issues.&lt;/p&gt;
  &lt;p&gt;If you want to override the default make found by &lt;code&gt;configure&lt;/code&gt;, use the &lt;code&gt;MAKE&lt;/code&gt; configure variable, e.g. &lt;code&gt;configure MAKE=/opt/gnu/make&lt;/code&gt;.&lt;/p&gt;
<span class="udiff-line-removed">- &lt;p&gt;On Solaris, it is common to call the GNU version of make by using &lt;code&gt;gmake&lt;/code&gt;.&lt;/p&gt;</span>
  &lt;h3 id=&quot;gnu-bash&quot;&gt;GNU Bash&lt;/h3&gt;
  &lt;p&gt;The JDK requires &lt;a href=&quot;http://www.gnu.org/software/bash&quot;&gt;GNU Bash&lt;/a&gt;. No other shells are supported.&lt;/p&gt;
  &lt;p&gt;At least version 3.2 of GNU Bash must be used.&lt;/p&gt;
  &lt;h2 id=&quot;running-configure&quot;&gt;Running Configure&lt;/h2&gt;
  &lt;p&gt;To build the JDK, you need a &amp;quot;configuration&amp;quot;, which consists of a directory where to store the build output, coupled with information about the platform, the specific build machine, and choices that affect how the JDK is built.&lt;/p&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -863,13 +779,10 @@</span>
  &lt;pre&gt;&lt;code&gt;File &amp;#39;xxx&amp;#39; has modification time in the future.
  Clock skew detected. Your build may be incomplete.&lt;/code&gt;&lt;/pre&gt;
  &lt;p&gt;then the clock on your build machine is out of sync with the timestamps on the source files. Other errors, apparently unrelated but in fact caused by the clock skew, can occur along with the clock skew warnings. These secondary errors may tend to obscure the fact that the true root cause of the problem is an out-of-sync clock.&lt;/p&gt;
  &lt;p&gt;If you see these warnings, reset the clock on the build machine, run &lt;code&gt;make clean&lt;/code&gt; and restart the build.&lt;/p&gt;
  &lt;h4 id=&quot;out-of-memory-errors&quot;&gt;Out of Memory Errors&lt;/h4&gt;
<span class="udiff-line-removed">- &lt;p&gt;On Solaris, you might get an error message like this:&lt;/p&gt;</span>
<span class="udiff-line-removed">- &lt;pre&gt;&lt;code&gt;Trouble writing out table to disk&lt;/code&gt;&lt;/pre&gt;</span>
<span class="udiff-line-removed">- &lt;p&gt;To solve this, increase the amount of swap space on your build machine.&lt;/p&gt;</span>
  &lt;p&gt;On Windows, you might get error messages like this:&lt;/p&gt;
  &lt;pre&gt;&lt;code&gt;fatal error - couldn&amp;#39;t allocate heap
  cannot create ... Permission denied
  spawn failed&lt;/code&gt;&lt;/pre&gt;
  &lt;p&gt;This can be a sign of a Cygwin problem. See the information about solving problems in the &lt;a href=&quot;#cygwin&quot;&gt;Cygwin&lt;/a&gt; section. Rebooting the computer might help temporarily.&lt;/p&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -917,11 +830,11 @@</span>
  &lt;h3 id=&quot;using-fine-grained-make-targets&quot;&gt;Using Fine-Grained Make Targets&lt;/h3&gt;
  &lt;p&gt;The default behavior for make is to create consistent and correct output, at the expense of build speed, if necessary.&lt;/p&gt;
  &lt;p&gt;If you are prepared to take some risk of an incorrect build, and know enough of the system to understand how things build and interact, you can speed up the build process considerably by instructing make to only build a portion of the product.&lt;/p&gt;
  &lt;h4 id=&quot;building-individual-modules&quot;&gt;Building Individual Modules&lt;/h4&gt;
  &lt;p&gt;The safe way to use fine-grained make targets is to use the module specific make targets. All source code in the JDK is organized so it belongs to a module, e.g. &lt;code&gt;java.base&lt;/code&gt; or &lt;code&gt;jdk.jdwp.agent&lt;/code&gt;. You can build only a specific module, by giving it as make target: &lt;code&gt;make jdk.jdwp.agent&lt;/code&gt;. If the specified module depends on other modules (e.g. &lt;code&gt;java.base&lt;/code&gt;), those modules will be built first.&lt;/p&gt;
<span class="udiff-line-modified-removed">- &lt;p&gt;You can also specify a set of modules, just as you can always specify a set of make targets: &lt;code&gt;make jdk.crypto.cryptoki jdk.crypto.ec jdk.crypto.mscapi jdk.crypto.ucrypto&lt;/code&gt;&lt;/p&gt;</span>
<span class="udiff-line-modified-added">+ &lt;p&gt;You can also specify a set of modules, just as you can always specify a set of make targets: &lt;code&gt;make jdk.crypto.cryptoki jdk.crypto.ec jdk.crypto.mscapi&lt;/code&gt;&lt;/p&gt;</span>
  &lt;h4 id=&quot;building-individual-module-phases&quot;&gt;Building Individual Module Phases&lt;/h4&gt;
  &lt;p&gt;The build process for each module is divided into separate phases. Not all modules need all phases. Which are needed depends on what kind of source code and other artifact the module consists of. The phases are:&lt;/p&gt;
  &lt;ul&gt;
  &lt;li&gt;&lt;code&gt;gensrc&lt;/code&gt; (Generate source code to compile)&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;gendata&lt;/code&gt; (Generate non-source code artifacts)&lt;/li&gt;
</pre>
<center><a href="../bin/unshuffle_list.txt.udiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="building.md.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>