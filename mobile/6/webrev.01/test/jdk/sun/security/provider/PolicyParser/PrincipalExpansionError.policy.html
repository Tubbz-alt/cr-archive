<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New test/jdk/sun/security/provider/PolicyParser/PrincipalExpansionError.policy</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
  <body>
    <pre>
 1 // granted to jtreg
 2 grant codebase &quot;file:/net/koori.sfbay/-&quot; {
 3     permission java.security.AllPermission;
 4 };
 5 
 6 // granted to the test class
 7 grant codebase &quot;file:${test.classes}/&quot; {
 8     permission javax.security.auth.AuthPermission &quot;modifyPrincipals&quot;;
 9     permission javax.security.auth.AuthPermission &quot;doAs&quot;;
10     permission java.io.FilePermission &quot;/testFile&quot;, &quot;read&quot;;
11 };
12 
13 // granted to the test action
14 // -- the test moves the compiled action into the src directory
15 // -- via the shell script.  this way we can ensure different
16 // -- codebases for the test and the action
17 grant codebase &quot;file:${test.src}/&quot;,
18       principal com.sun.security.auth.UnixPrincipal &quot;TestPrincipal&quot;,
19       principal com.sun.security.auth.UnixPrincipal &quot;${bad.property}&quot; {
20     permission java.io.FilePermission &quot;/testFile&quot;, &quot;read&quot;;
21 };
    </pre>
  </body>
</html>