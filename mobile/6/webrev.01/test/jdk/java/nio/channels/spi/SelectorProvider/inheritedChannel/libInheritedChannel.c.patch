diff a/test/jdk/java/nio/channels/spi/SelectorProvider/inheritedChannel/libInheritedChannel.c b/test/jdk/java/nio/channels/spi/SelectorProvider/inheritedChannel/libInheritedChannel.c
--- a/test/jdk/java/nio/channels/spi/SelectorProvider/inheritedChannel/libInheritedChannel.c
+++ b/test/jdk/java/nio/channels/spi/SelectorProvider/inheritedChannel/libInheritedChannel.c
@@ -133,15 +133,11 @@
 
     /*
      * Launch the program. As this isn't a complete inetd or Runtime.exec
      * implementation we don't have a reaper to pick up child exit status.
      */
-#ifdef __solaris__
-    pid = fork1();
-#else
     pid = fork();
-#endif
     if (pid != 0) {
         if (pid < 0) {
             ThrowException(env, "java/io/IOException", "fork failed");
         }
         return;
