<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/lib/jdk/test/lib/Platform.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="OSVersion.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="util/FileUtils.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/lib/jdk/test/lib/Platform.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 111,14 ***</span>
  
      public static boolean isOSX() {
          return isOs(&quot;mac&quot;);
      }
  
<span class="line-removed">-     public static boolean isSolaris() {</span>
<span class="line-removed">-         return isOs(&quot;sunos&quot;);</span>
<span class="line-removed">-     }</span>
<span class="line-removed">- </span>
      public static boolean isWindows() {
          return isOs(&quot;win&quot;);
      }
  
      private static boolean isOs(String osname) {
<span class="line-new-header">--- 111,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 147,18 ***</span>
      public static String getOsVersion() {
          return osVersion;
      }
  
      // Returns major version number from os.version system property.
<span class="line-modified">!     // E.g. 5 on Solaris 10 and 3 on SLES 11.3 (for the linux kernel version).</span>
      public static int getOsVersionMajor() {
          if (osVersionMajor == -1) init_version();
          return osVersionMajor;
      }
  
      // Returns minor version number from os.version system property.
<span class="line-modified">!     // E.g. 10 on Solaris 10 and 0 on SLES 11.3 (for the linux kernel version).</span>
      public static int getOsVersionMinor() {
          if (osVersionMinor == -1) init_version();
          return osVersionMinor;
      }
  
<span class="line-new-header">--- 143,18 ---</span>
      public static String getOsVersion() {
          return osVersion;
      }
  
      // Returns major version number from os.version system property.
<span class="line-modified">!     // E.g. 3 on SLES 11.3 (for the linux kernel version).</span>
      public static int getOsVersionMajor() {
          if (osVersionMajor == -1) init_version();
          return osVersionMajor;
      }
  
      // Returns minor version number from os.version system property.
<span class="line-modified">!     // E.g. 0 on SLES 11.3 (for the linux kernel version).</span>
      public static int getOsVersionMinor() {
          if (osVersionMinor == -1) init_version();
          return osVersionMinor;
      }
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 193,17 ***</span>
      // Returns true for IBM z System running linux.
      public static boolean isS390x() {
          return isArch(&quot;s390.*&quot;) || isArch(&quot;s/390.*&quot;) || isArch(&quot;zArch_64&quot;);
      }
  
<span class="line-removed">-     // Returns true for sparc and sparcv9.</span>
<span class="line-removed">-     public static boolean isSparc() {</span>
<span class="line-removed">-         return isArch(&quot;sparc.*&quot;);</span>
<span class="line-removed">-     }</span>
<span class="line-removed">- </span>
      public static boolean isX64() {
<span class="line-modified">!         // On OSX it&#39;s &#39;x86_64&#39; and on other (Linux, Windows and Solaris) platforms it&#39;s &#39;amd64&#39;</span>
          return isArch(&quot;(amd64)|(x86_64)&quot;);
      }
  
      public static boolean isX86() {
          // On Linux it&#39;s &#39;i386&#39;, Windows &#39;x86&#39; without &#39;_64&#39; suffix.
<span class="line-new-header">--- 189,12 ---</span>
      // Returns true for IBM z System running linux.
      public static boolean isS390x() {
          return isArch(&quot;s390.*&quot;) || isArch(&quot;s/390.*&quot;) || isArch(&quot;zArch_64&quot;);
      }
  
      public static boolean isX64() {
<span class="line-modified">!         // On OSX it&#39;s &#39;x86_64&#39; and on other (Linux and Windows) platforms it&#39;s &#39;amd64&#39;</span>
          return isArch(&quot;(amd64)|(x86_64)&quot;);
      }
  
      public static boolean isX86() {
          // On Linux it&#39;s &#39;i386&#39;, Windows &#39;x86&#39; without &#39;_64&#39; suffix.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 223,12 ***</span>
       * on this platform.
       */
      public static boolean hasSA() {
          if (isAix()) {
              return false; // SA not implemented.
<span class="line-removed">-         } else if (isSolaris()) {</span>
<span class="line-removed">-             return false; // Testing disabled due to JDK-8193639.</span>
          } else if (isLinux()) {
              if (isS390x() || isARM()) {
                  return false; // SA not implemented.
              }
          }
<span class="line-new-header">--- 214,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 359,11 ***</span>
      public static boolean isDefaultCDSArchiveSupported() {
          return (is64bit()  &amp;&amp;
                  isServer() &amp;&amp;
                  (isLinux()   ||
                   isOSX()     ||
<span class="line-removed">-                  isSolaris() ||</span>
                   isWindows()) &amp;&amp;
                  !isZero()    &amp;&amp;
                  !isMinimal() &amp;&amp;
                  !isAArch64() &amp;&amp;
                  !isARM());
<span class="line-new-header">--- 348,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 371,8 ***</span>
  
      /*
       * This should match the #if condition in ClassListParser::load_class_from_source().
       */
      public static boolean areCustomLoadersSupportedForCDS() {
<span class="line-modified">!         return (is64bit() &amp;&amp; (isLinux() || isSolaris() || isOSX()));</span>
      }
  }
<span class="line-new-header">--- 359,8 ---</span>
  
      /*
       * This should match the #if condition in ClassListParser::load_class_from_source().
       */
      public static boolean areCustomLoadersSupportedForCDS() {
<span class="line-modified">!         return (is64bit() &amp;&amp; (isLinux() || isOSX()));</span>
      }
  }
</pre>
<center><a href="OSVersion.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="util/FileUtils.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>