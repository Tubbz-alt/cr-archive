<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/autoconf/jdk-options.m4</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="hotspot.m4.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="jvm-features.m4.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/autoconf/jdk-options.m4</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
274           if test &quot;x$OPENJDK_TARGET_OS&quot; = xaix; then
275             # AIX doesn&#39;t support &#39;external&#39; so use &#39;internal&#39; as default
276             with_native_debug_symbols=&quot;internal&quot;
277           else
278             with_native_debug_symbols=&quot;external&quot;
279           fi
280         fi
281       ])
282   AC_MSG_RESULT([$with_native_debug_symbols])
283 
284   if test &quot;x$with_native_debug_symbols&quot; = xnone; then
285     COMPILE_WITH_DEBUG_SYMBOLS=false
286     COPY_DEBUG_SYMBOLS=false
287     ZIP_EXTERNAL_DEBUG_SYMBOLS=false
288   elif test &quot;x$with_native_debug_symbols&quot; = xinternal; then
289     COMPILE_WITH_DEBUG_SYMBOLS=true
290     COPY_DEBUG_SYMBOLS=false
291     ZIP_EXTERNAL_DEBUG_SYMBOLS=false
292   elif test &quot;x$with_native_debug_symbols&quot; = xexternal; then
293 
<span class="line-modified">294     if test &quot;x$OPENJDK_TARGET_OS&quot; = xsolaris || test &quot;x$OPENJDK_TARGET_OS&quot; = xlinux; then</span>
295       if test &quot;x$OBJCOPY&quot; = x; then
296         # enabling of enable-debug-symbols and can&#39;t find objcopy
297         # this is an error
298         AC_MSG_ERROR([Unable to find objcopy, cannot enable native debug symbols])
299       fi
300     fi
301 
302     COMPILE_WITH_DEBUG_SYMBOLS=true
303     COPY_DEBUG_SYMBOLS=true
304     ZIP_EXTERNAL_DEBUG_SYMBOLS=false
305   elif test &quot;x$with_native_debug_symbols&quot; = xzipped; then
306 
<span class="line-modified">307     if test &quot;x$OPENJDK_TARGET_OS&quot; = xsolaris || test &quot;x$OPENJDK_TARGET_OS&quot; = xlinux; then</span>
308       if test &quot;x$OBJCOPY&quot; = x; then
309         # enabling of enable-debug-symbols and can&#39;t find objcopy
310         # this is an error
311         AC_MSG_ERROR([Unable to find objcopy, cannot enable native debug symbols])
312       fi
313     fi
314 
315     COMPILE_WITH_DEBUG_SYMBOLS=true
316     COPY_DEBUG_SYMBOLS=true
317     ZIP_EXTERNAL_DEBUG_SYMBOLS=true
318   else
319     AC_MSG_ERROR([Allowed native debug symbols are: none, internal, external, zipped])
320   fi
321 
322   AC_SUBST(COMPILE_WITH_DEBUG_SYMBOLS)
323   AC_SUBST(COPY_DEBUG_SYMBOLS)
324   AC_SUBST(ZIP_EXTERNAL_DEBUG_SYMBOLS)
325 
326   # Should we add external native debug symbols to the shipped bundles?
327   AC_MSG_CHECKING([if we should add external native debug symbols to the shipped bundles])
</pre>
</td>
<td>
<hr />
<pre>
274           if test &quot;x$OPENJDK_TARGET_OS&quot; = xaix; then
275             # AIX doesn&#39;t support &#39;external&#39; so use &#39;internal&#39; as default
276             with_native_debug_symbols=&quot;internal&quot;
277           else
278             with_native_debug_symbols=&quot;external&quot;
279           fi
280         fi
281       ])
282   AC_MSG_RESULT([$with_native_debug_symbols])
283 
284   if test &quot;x$with_native_debug_symbols&quot; = xnone; then
285     COMPILE_WITH_DEBUG_SYMBOLS=false
286     COPY_DEBUG_SYMBOLS=false
287     ZIP_EXTERNAL_DEBUG_SYMBOLS=false
288   elif test &quot;x$with_native_debug_symbols&quot; = xinternal; then
289     COMPILE_WITH_DEBUG_SYMBOLS=true
290     COPY_DEBUG_SYMBOLS=false
291     ZIP_EXTERNAL_DEBUG_SYMBOLS=false
292   elif test &quot;x$with_native_debug_symbols&quot; = xexternal; then
293 
<span class="line-modified">294     if test &quot;x$OPENJDK_TARGET_OS&quot; = xlinux; then</span>
295       if test &quot;x$OBJCOPY&quot; = x; then
296         # enabling of enable-debug-symbols and can&#39;t find objcopy
297         # this is an error
298         AC_MSG_ERROR([Unable to find objcopy, cannot enable native debug symbols])
299       fi
300     fi
301 
302     COMPILE_WITH_DEBUG_SYMBOLS=true
303     COPY_DEBUG_SYMBOLS=true
304     ZIP_EXTERNAL_DEBUG_SYMBOLS=false
305   elif test &quot;x$with_native_debug_symbols&quot; = xzipped; then
306 
<span class="line-modified">307     if test &quot;x$OPENJDK_TARGET_OS&quot; = xlinux; then</span>
308       if test &quot;x$OBJCOPY&quot; = x; then
309         # enabling of enable-debug-symbols and can&#39;t find objcopy
310         # this is an error
311         AC_MSG_ERROR([Unable to find objcopy, cannot enable native debug symbols])
312       fi
313     fi
314 
315     COMPILE_WITH_DEBUG_SYMBOLS=true
316     COPY_DEBUG_SYMBOLS=true
317     ZIP_EXTERNAL_DEBUG_SYMBOLS=true
318   else
319     AC_MSG_ERROR([Allowed native debug symbols are: none, internal, external, zipped])
320   fi
321 
322   AC_SUBST(COMPILE_WITH_DEBUG_SYMBOLS)
323   AC_SUBST(COPY_DEBUG_SYMBOLS)
324   AC_SUBST(ZIP_EXTERNAL_DEBUG_SYMBOLS)
325 
326   # Should we add external native debug symbols to the shipped bundles?
327   AC_MSG_CHECKING([if we should add external native debug symbols to the shipped bundles])
</pre>
</td>
</tr>
</table>
<center><a href="hotspot.m4.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="jvm-features.m4.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>