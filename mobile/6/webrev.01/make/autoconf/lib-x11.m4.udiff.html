<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff make/autoconf/lib-x11.m4</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="lib-std.m4.udiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="libraries.m4.udiff.html" target="_top">next &gt;</a></center>    <h2>make/autoconf/lib-x11.m4</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  #
<span class="udiff-line-modified-removed">- # Copyright (c) 2011, 2018, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+ # Copyright (c) 2011, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  #
  # This code is free software; you can redistribute it and/or modify it
  # under the terms of the GNU General Public License version 2 only, as
  # published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -86,17 +86,10 @@</span>
      if test &quot;x$no_x&quot; = xyes; then
        HELP_MSG_MISSING_DEPENDENCY([x11])
        AC_MSG_ERROR([Could not find X11 libraries. $HELP_MSG])
      fi
  
<span class="udiff-line-removed">-     if test &quot;x$OPENJDK_TARGET_OS&quot; = xsolaris; then</span>
<span class="udiff-line-removed">-       OPENWIN_HOME=&quot;/usr/openwin&quot;</span>
<span class="udiff-line-removed">-       X_CFLAGS=&quot;-I$SYSROOT$OPENWIN_HOME/include -I$SYSROOT$OPENWIN_HOME/include/X11/extensions&quot;</span>
<span class="udiff-line-removed">-       X_LIBS=&quot;-L$SYSROOT$OPENWIN_HOME/lib$OPENJDK_TARGET_CPU_ISADIR \</span>
<span class="udiff-line-removed">-           -R$OPENWIN_HOME/lib$OPENJDK_TARGET_CPU_ISADIR&quot;</span>
<span class="udiff-line-removed">-     fi</span>
<span class="udiff-line-removed">- </span>
      AC_LANG_PUSH(C)
      OLD_CFLAGS=&quot;$CFLAGS&quot;
      CFLAGS=&quot;$CFLAGS $SYSROOT_CFLAGS $X_CFLAGS&quot;
  
      HEADERS_TO_CHECK=&quot;X11/extensions/shape.h X11/extensions/Xrender.h X11/extensions/XTest.h X11/Intrinsic.h&quot;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -120,20 +113,10 @@</span>
      if test &quot;x$X11_HEADERS_OK&quot; = xno; then
        HELP_MSG_MISSING_DEPENDENCY([x11])
        AC_MSG_ERROR([Could not find all X11 headers (shape.h Xrender.h Xrandr.h XTest.h Intrinsic.h). $HELP_MSG])
      fi
  
<span class="udiff-line-removed">-     # If XLinearGradient isn&#39;t available in Xrender.h, signal that it needs to be</span>
<span class="udiff-line-removed">-     # defined in libawt_xawt.</span>
<span class="udiff-line-removed">-     AC_MSG_CHECKING([if XlinearGradient is defined in Xrender.h])</span>
<span class="udiff-line-removed">-     AC_COMPILE_IFELSE(</span>
<span class="udiff-line-removed">-         [AC_LANG_PROGRAM([[#include &lt;X11/extensions/Xrender.h&gt;]],</span>
<span class="udiff-line-removed">-             [[XLinearGradient x;]])],</span>
<span class="udiff-line-removed">-         [AC_MSG_RESULT([yes])],</span>
<span class="udiff-line-removed">-         [AC_MSG_RESULT([no])</span>
<span class="udiff-line-removed">-          X_CFLAGS=&quot;$X_CFLAGS -DSOLARIS10_NO_XRENDER_STRUCTS&quot;])</span>
<span class="udiff-line-removed">- </span>
      CFLAGS=&quot;$OLD_CFLAGS&quot;
      AC_LANG_POP(C)
    fi # NEEDS_LIB_X11
  
    AC_SUBST(X_CFLAGS)
</pre>
<center><a href="lib-std.m4.udiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="libraries.m4.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>