<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/hotspot/lib/JvmFeatures.gmk</title>
    <link rel="stylesheet" href="../../../style.css" />
  </head>
<body>
<center><a href="CompileLibraries.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../../index.html" target="_top">index</a> <a href="JvmMapfile.gmk.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/hotspot/lib/JvmFeatures.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 33   JVM_CFLAGS_FEATURES += -DCOMPILER1
 34 else
 35   JVM_EXCLUDE_PATTERNS += c1_ c1/
 36 endif
 37 
 38 ifeq ($(call check-jvm-feature, compiler2), true)
 39   JVM_CFLAGS_FEATURES += -DCOMPILER2
 40   JVM_SRC_DIRS += $(JVM_VARIANT_OUTPUTDIR)/gensrc/adfiles
 41 else
 42   JVM_EXCLUDES += opto libadt
 43   JVM_EXCLUDE_FILES += bcEscapeAnalyzer.cpp ciTypeFlow.cpp
 44   JVM_EXCLUDE_PATTERNS += c2_ runtime_ /c2/
 45 endif
 46 
 47 ifeq ($(call check-jvm-feature, zero), true)
 48   JVM_CFLAGS_FEATURES += -DZERO -DCC_INTERP -DZERO_LIBARCH=&#39;&quot;$(OPENJDK_TARGET_CPU_LEGACY_LIB)&quot;&#39; $(LIBFFI_CFLAGS)
 49   JVM_LIBS_FEATURES += $(LIBFFI_LIBS)
 50   ifeq ($(ENABLE_LIBFFI_BUNDLING), true)
 51     JVM_LDFLAGS_FEATURES += $(call SET_EXECUTABLE_ORIGIN,/..)
 52   endif
<span class="line-removed"> 53   ifeq ($(call isTargetCpu, sparcv9), true)</span>
<span class="line-removed"> 54     BUILD_LIBJVM_EXTRA_FILES := $(TOPDIR)/src/hotspot/cpu/sparc/memset_with_concurrent_readers_sparc.cpp</span>
<span class="line-removed"> 55   endif</span>
 56 endif
 57 
 58 ifeq ($(JVM_VARIANT), custom)
 59   JVM_CFLAGS_FEATURES += -DVMTYPE=\&quot;Custom\&quot;
 60 endif
 61 
 62 ifeq ($(call check-jvm-feature, minimal), true)
 63   JVM_CFLAGS_FEATURES += -DMINIMAL_JVM -DVMTYPE=\&quot;Minimal\&quot;
 64   ifeq ($(call isTargetOs, linux), true)
 65     # Override the default -g with a more liberal strip policy for the minimal JVM
 66     JVM_STRIPFLAGS := --strip-unneeded
 67   endif
 68 endif
 69 
 70 ifeq ($(call check-jvm-feature, dtrace), true)
 71   JVM_CFLAGS_FEATURES += -DDTRACE_ENABLED
 72 endif
 73 
 74 ifeq ($(call check-jvm-feature, static-build), true)
 75   JVM_CFLAGS_FEATURES += -DSTATIC_BUILD=1
</pre>
</td>
<td>
<hr />
<pre>
 33   JVM_CFLAGS_FEATURES += -DCOMPILER1
 34 else
 35   JVM_EXCLUDE_PATTERNS += c1_ c1/
 36 endif
 37 
 38 ifeq ($(call check-jvm-feature, compiler2), true)
 39   JVM_CFLAGS_FEATURES += -DCOMPILER2
 40   JVM_SRC_DIRS += $(JVM_VARIANT_OUTPUTDIR)/gensrc/adfiles
 41 else
 42   JVM_EXCLUDES += opto libadt
 43   JVM_EXCLUDE_FILES += bcEscapeAnalyzer.cpp ciTypeFlow.cpp
 44   JVM_EXCLUDE_PATTERNS += c2_ runtime_ /c2/
 45 endif
 46 
 47 ifeq ($(call check-jvm-feature, zero), true)
 48   JVM_CFLAGS_FEATURES += -DZERO -DCC_INTERP -DZERO_LIBARCH=&#39;&quot;$(OPENJDK_TARGET_CPU_LEGACY_LIB)&quot;&#39; $(LIBFFI_CFLAGS)
 49   JVM_LIBS_FEATURES += $(LIBFFI_LIBS)
 50   ifeq ($(ENABLE_LIBFFI_BUNDLING), true)
 51     JVM_LDFLAGS_FEATURES += $(call SET_EXECUTABLE_ORIGIN,/..)
 52   endif



 53 endif
 54 
 55 ifeq ($(JVM_VARIANT), custom)
 56   JVM_CFLAGS_FEATURES += -DVMTYPE=\&quot;Custom\&quot;
 57 endif
 58 
 59 ifeq ($(call check-jvm-feature, minimal), true)
 60   JVM_CFLAGS_FEATURES += -DMINIMAL_JVM -DVMTYPE=\&quot;Minimal\&quot;
 61   ifeq ($(call isTargetOs, linux), true)
 62     # Override the default -g with a more liberal strip policy for the minimal JVM
 63     JVM_STRIPFLAGS := --strip-unneeded
 64   endif
 65 endif
 66 
 67 ifeq ($(call check-jvm-feature, dtrace), true)
 68   JVM_CFLAGS_FEATURES += -DDTRACE_ENABLED
 69 endif
 70 
 71 ifeq ($(call check-jvm-feature, static-build), true)
 72   JVM_CFLAGS_FEATURES += -DSTATIC_BUILD=1
</pre>
</td>
</tr>
</table>
<center><a href="CompileLibraries.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../../index.html" target="_top">index</a> <a href="JvmMapfile.gmk.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>