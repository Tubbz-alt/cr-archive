<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New src/demo/share/java2d/RenderPerfTest/Makefile</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
  <body>
    <pre>
 1 #
 2 # Copyright (c) 2019, Oracle and/or its affiliates. All rights reserved.
 3 #
 4 # Redistribution and use in source and binary forms, with or without
 5 # modification, are permitted provided that the following conditions
 6 # are met:
 7 #
 8 #   - Redistributions of source code must retain the above copyright
 9 #     notice, this list of conditions and the following disclaimer.
10 #
11 #   - Redistributions in binary form must reproduce the above copyright
12 #     notice, this list of conditions and the following disclaimer in the
13 #     documentation and/or other materials provided with the distribution.
14 #
15 #   - Neither the name of Oracle nor the names of its
16 #     contributors may be used to endorse or promote products derived
17 #     from this software without specific prior written permission.
18 #
19 # THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS
20 # IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
21 # THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
22 # PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
23 # CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
24 # EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
25 # PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
26 # PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
27 # LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
28 # NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
29 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
30 #
31 
32 SOURCEPATH=src
33 CLASSES=build
34 DIST=dist
35 RESOURCES=resources
36 
37 RENDERPERF_CLASSES = $(CLASSES)/renderperf/RenderPerfTest.class
38 RENDERPERFLCD_CLASSES = $(CLASSES)/renderperf/RenderPerfLCDTest.class
39 RENDERPERF_SOURCES = $(SOURCEPATH)/renderperf/RenderPerfTest.java
40 RENDERPERFLCD_SOURCES = $(SOURCEPATH)/renderperf/RenderPerfLCDTest.java
41 
42 RENDERPERF_RESOURCES = $(CLASSES)/renderperf/images/duke.png 
43 
44 all: mkdirs $(DIST)/RenderPerfTest.jar $(DIST)/RenderPerfLCDTest.jar
45 
46 run: mkdirs $(DIST)/RenderPerfTest.jar
47 	java -jar $(DIST)/RenderPerfTest.jar
48 
49 $(DIST)/RenderPerfTest.jar: \
50 	$(RENDERPERF_CLASSES) $(RENDERPERF_RESOURCES) \
51 	$(CLASSES)/renderperf.manifest
52 	jar cvmf $(CLASSES)/renderperf.manifest $(DIST)/RenderPerfTest.jar -C $(CLASSES) .
53 
54 $(DIST)/RenderPerfLCDTest.jar: \
55 	$(RENDERPERFLCD_CLASSES) $(RENDERPERFLCD_RESOURCES) \
56 	$(CLASSES)/renderperflcd.manifest
57 	jar cvmf $(CLASSES)/renderperflcd.manifest $(DIST)/RenderPerfLCDTest.jar -C $(CLASSES) .
58 
59 $(CLASSES)/renderperf/images/%: $(RESOURCES)/renderperf/images/%
60 	cp -r $&lt; $@
61 
62 
63 $(CLASSES)/renderperf.manifest:
64 	echo &quot;Main-Class: renderperf.RenderPerfTest&quot; &gt; $@
65 
66 $(CLASSES)/renderperflcd.manifest:
67 	echo &quot;Main-Class: renderperf.RenderPerfLCDTest&quot; &gt; $@
68 
69 $(DIST):
70 	mkdir  $(DIST)
71 
72 $(CLASSES):
73 	mkdir $(CLASSES)
74 	mkdir -p $(CLASSES)/renderperf/images
75 
76 mkdirs: $(DIST) $(CLASSES)
77 
78 $(RENDERPERF_CLASSES): $(RENDERPERF_SOURCES)
79 	javac -g:none -d $(CLASSES) -sourcepath $(SOURCEPATH) $&lt;
80 
81 $(RENDERPERFLCD_CLASSES): $(RENDERPERFLCD_SOURCES)
82 	javac -g:none -d $(CLASSES) -sourcepath $(SOURCEPATH) $&lt;
83 
84 clean:
85 	rm -rf $(CLASSES)
86 	rm -rf $(DIST)
    </pre>
  </body>
</html>