<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.desktop/macosx/native/libawt_lwawt/java2d/metal/MTLTextRenderer.m</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>src/java.desktop/macosx/native/libawt_lwawt/java2d/metal/MTLTextRenderer.m</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 891,12 ***</span>
              continue;
          }
  
          J2dTraceLn2(J2D_TRACE_INFO, &quot;Glyph width = %d height = %d&quot;, ginfo-&gt;width, ginfo-&gt;height);
          J2dTraceLn1(J2D_TRACE_INFO, &quot;rowBytes = %d&quot;, ginfo-&gt;rowBytes);
<span class="line-removed">-         //TODO : Right now we have initial texture mapping logic</span>
<span class="line-removed">-         // as we implement LCD, cache usage add new selection condition.</span>
          if (grayscale) {
              // grayscale or monochrome glyph data
              if (ginfo-&gt;width &lt;= MTLTR_CACHE_CELL_WIDTH &amp;&amp;
                  ginfo-&gt;height &lt;= MTLTR_CACHE_CELL_HEIGHT)
              {
<span class="line-new-header">--- 891,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 918,21 ***</span>
                      rowBytesOffset = 3 - frac;
                      x += 1;
                  }
              }
  
<span class="line-removed">-             // TODO: Implement LCD text rendering</span>
              if (rowBytesOffset == 0 &amp;&amp;
                  ginfo-&gt;width &lt;= MTLTR_CACHE_CELL_WIDTH &amp;&amp;
                  ginfo-&gt;height &lt;= MTLTR_CACHE_CELL_HEIGHT)
              {
                  J2dTraceLn(J2D_TRACE_INFO, &quot;MTLTR_DrawGlyphList LCD cache -- :TODO&quot;);
<span class="line-modified">!                 ok = MTLTR_DrawLCDGlyphViaCache(mtlc, dstOps,</span>
<span class="line-modified">!                                                 ginfo, x, y,</span>
<span class="line-modified">!                                                 glyphCounter, totalGlyphs,</span>
<span class="line-modified">!                                                 rgbOrder, lcdContrast,</span>
<span class="line-modified">!                                                 dstTexture);</span>
              } else {
                  J2dTraceLn(J2D_TRACE_INFO, &quot;MTLTR_DrawGlyphList LCD no cache&quot;);
                  ok = MTLTR_DrawLCDGlyphNoCache(mtlc, dstOps,
                                                 ginfo, x, y,
                                                 rowBytesOffset,
<span class="line-new-header">--- 916,22 ---</span>
                      rowBytesOffset = 3 - frac;
                      x += 1;
                  }
              }
  
              if (rowBytesOffset == 0 &amp;&amp;
                  ginfo-&gt;width &lt;= MTLTR_CACHE_CELL_WIDTH &amp;&amp;
                  ginfo-&gt;height &lt;= MTLTR_CACHE_CELL_HEIGHT)
              {
<span class="line-added">+                 // Start using MTLTR_DrawLCDGlyphViaCache() once we have</span>
<span class="line-added">+                 // working glyphCacheLCD</span>
                  J2dTraceLn(J2D_TRACE_INFO, &quot;MTLTR_DrawGlyphList LCD cache -- :TODO&quot;);
<span class="line-modified">!                 ok = MTLTR_DrawLCDGlyphNoCache(mtlc, dstOps,</span>
<span class="line-modified">!                                                ginfo, x, y,</span>
<span class="line-modified">!                                                rowBytesOffset,</span>
<span class="line-modified">!                                                rgbOrder, lcdContrast,</span>
<span class="line-modified">!                                                dstTexture);</span>
              } else {
                  J2dTraceLn(J2D_TRACE_INFO, &quot;MTLTR_DrawGlyphList LCD no cache&quot;);
                  ok = MTLTR_DrawLCDGlyphNoCache(mtlc, dstOps,
                                                 ginfo, x, y,
                                                 rowBytesOffset,
</pre>
<center>&lt; prev <a href="../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>