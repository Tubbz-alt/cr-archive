diff a/src/java.desktop/macosx/native/libawt_lwawt/java2d/metal/MTLComposite.h b/src/java.desktop/macosx/native/libawt_lwawt/java2d/metal/MTLComposite.h
--- a/src/java.desktop/macosx/native/libawt_lwawt/java2d/metal/MTLComposite.h
+++ b/src/java.desktop/macosx/native/libawt_lwawt/java2d/metal/MTLComposite.h
@@ -3,10 +3,14 @@
 
 #import <Metal/Metal.h>
 
 #include <jni.h>
 
+#define FLT_ACCURACY (0.99f)
+#define FLT_LT(x,y) ((x) < (y) - FLT_ACCURACY)
+#define FLT_GE(x,y) ((x) >= (y) - FLT_ACCURACY)
+
 /**
  * The MTLComposite class represents composite mode
  * */
 
 @interface MTLComposite : NSObject
@@ -23,10 +27,11 @@
 
 
 - (jint)getCompositeState;
 - (jint)getRule;
 - (jint)getXorColor;
+- (jfloat)getExtraAlpha;
 
 - (jboolean)isBlendingDisabled:(jboolean) isSrcOpaque;
 - (NSString *)getDescription; // creates autorelease string
 @end
 
