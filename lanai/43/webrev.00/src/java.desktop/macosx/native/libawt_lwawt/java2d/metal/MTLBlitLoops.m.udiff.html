<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.desktop/macosx/native/libawt_lwawt/java2d/metal/MTLBlitLoops.m</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../index.html" target="_top">index</a> <a href="MTLContext.m.udiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/macosx/native/libawt_lwawt/java2d/metal/MTLBlitLoops.m</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -39,12 +39,14 @@</span>
  #include &lt;string.h&gt; // memcpy
  #include &quot;IntArgbPre.h&quot;
  
  #import &lt;Accelerate/Accelerate.h&gt;
  
<span class="udiff-line-modified-removed">- //#define TRACE_ISOBLIT</span>
<span class="udiff-line-modified-removed">- //#define TRACE_BLIT</span>
<span class="udiff-line-modified-added">+ #ifdef DEBUG</span>
<span class="udiff-line-modified-added">+ #define TRACE_ISOBLIT</span>
<span class="udiff-line-added">+ #define TRACE_BLIT</span>
<span class="udiff-line-added">+ #endif //DEBUG</span>
  //#define DEBUG_ISOBLIT
  //#define DEBUG_BLIT
  
  typedef struct {
      MTLPixelFormat   format;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -345,10 +347,12 @@</span>
              dcy1 = dcy2;
          }
      }
      if (*dx2 &lt;= dcx1 || *dx1 &gt;= dcx2 || *dy2 &lt;= dcy1 || *dy1 &gt;= dcy2) {
          J2dTraceLn(J2D_TRACE_INFO, &quot;\tclipDestCoords: dest rect doesn&#39;t intersect clip area&quot;);
<span class="udiff-line-added">+         J2dTraceLn4(J2D_TRACE_INFO, &quot;\tdx2=%1.4f &lt;= dcx1=%1.4f || *dx1=%1.4f &gt;= dcx2=%1.4f&quot;, *dx2, dcx1, *dx1, dcx2);</span>
<span class="udiff-line-added">+         J2dTraceLn4(J2D_TRACE_INFO, &quot;\t*dy2=%1.4f &lt;= dcy1=%1.4f || *dy1=%1.4f &gt;= dcy2=%1.4f&quot;, *dy2, dcy1, *dy1, dcy2);</span>
          return JNI_FALSE;
      }
      if (*dx1 &lt; dcx1) {
          J2dTraceLn2(J2D_TRACE_VERBOSE, &quot;\t\tdx1=%1.2f, will be clipped to %1.2f&quot;, *dx1, dcx1);
          *sx1 += (jint)((dcx1 - *dx1) * (sw/dw));
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -417,11 +421,11 @@</span>
  #endif // DEBUG_ISOBLIT
  
      clipDestCoords(
              &amp;dx1, &amp;dy1, &amp;dx2, &amp;dy2,
              &amp;sx1, &amp;sy1, &amp;sx2, &amp;sy2,
<span class="udiff-line-modified-removed">-             dstTex.width, dstTex.height, [mtlc.clip getRect]</span>
<span class="udiff-line-modified-added">+             dstTex.width, dstTex.height, texture ? NULL : [mtlc.clip getRect]</span>
      );
  
      SurfaceDataBounds bounds;
      bounds.x1 = sx1;
      bounds.y1 = sy1;
</pre>
<center>&lt; prev <a href="../../../../../../../index.html" target="_top">index</a> <a href="MTLContext.m.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>