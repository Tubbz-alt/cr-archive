<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/IndexRedirectWriter.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="HtmlSerialMethodWriter.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="LinkFactoryImpl.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/IndexRedirectWriter.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 29,11 ***</span>
  
  import jdk.javadoc.internal.doclets.formats.html.markup.Head;
  import jdk.javadoc.internal.doclets.formats.html.markup.ContentBuilder;
  import jdk.javadoc.internal.doclets.formats.html.markup.HtmlAttr;
  import jdk.javadoc.internal.doclets.formats.html.markup.HtmlDocument;
<span class="line-modified">! import jdk.javadoc.internal.doclets.formats.html.markup.HtmlTag;</span>
  import jdk.javadoc.internal.doclets.formats.html.markup.HtmlTree;
  import jdk.javadoc.internal.doclets.formats.html.markup.Script;
  import jdk.javadoc.internal.doclets.formats.html.markup.StringContent;
  import jdk.javadoc.internal.doclets.toolkit.Content;
  import jdk.javadoc.internal.doclets.toolkit.util.DocFile;
<span class="line-new-header">--- 29,11 ---</span>
  
  import jdk.javadoc.internal.doclets.formats.html.markup.Head;
  import jdk.javadoc.internal.doclets.formats.html.markup.ContentBuilder;
  import jdk.javadoc.internal.doclets.formats.html.markup.HtmlAttr;
  import jdk.javadoc.internal.doclets.formats.html.markup.HtmlDocument;
<span class="line-modified">! import jdk.javadoc.internal.doclets.formats.html.markup.TagName;</span>
  import jdk.javadoc.internal.doclets.formats.html.markup.HtmlTree;
  import jdk.javadoc.internal.doclets.formats.html.markup.Script;
  import jdk.javadoc.internal.doclets.formats.html.markup.StringContent;
  import jdk.javadoc.internal.doclets.toolkit.Content;
  import jdk.javadoc.internal.doclets.toolkit.util.DocFile;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 91,26 ***</span>
  
          String targetPath = target.getPath();
          Script script = new Script(&quot;window.location.replace(&quot;)
                  .appendStringLiteral(targetPath, &#39;\&#39;&#39;)
                  .append(&quot;)&quot;);
<span class="line-modified">!         HtmlTree metaRefresh = new HtmlTree(HtmlTag.META)</span>
                  .put(HtmlAttr.HTTP_EQUIV, &quot;Refresh&quot;)
                  .put(HtmlAttr.CONTENT, &quot;0;&quot; + targetPath);
          head.addContent(script.asContent(), HtmlTree.NOSCRIPT(metaRefresh));
  
          ContentBuilder bodyContent = new ContentBuilder();
          bodyContent.add(HtmlTree.NOSCRIPT(
                  HtmlTree.P(contents.getContent(&quot;doclet.No_Script_Message&quot;))));
  
          bodyContent.add(HtmlTree.P(HtmlTree.A(targetPath, new StringContent(targetPath))));
  
<span class="line-modified">!         Content body = new HtmlTree(HtmlTag.BODY)</span>
                  .put(HtmlAttr.CLASS, &quot;index-redirect&quot;);
          HtmlTree main = HtmlTree.MAIN(bodyContent);
          body.add(main);
  
<span class="line-modified">!         Content htmlTree = HtmlTree.HTML(configuration.getLocale().getLanguage(), head.toContent(), body);</span>
          HtmlDocument htmlDocument = new HtmlDocument(htmlComment, htmlTree);
          htmlDocument.write(DocFile.createFileForOutput(configuration, path));
      }
  }
<span class="line-new-header">--- 91,26 ---</span>
  
          String targetPath = target.getPath();
          Script script = new Script(&quot;window.location.replace(&quot;)
                  .appendStringLiteral(targetPath, &#39;\&#39;&#39;)
                  .append(&quot;)&quot;);
<span class="line-modified">!         HtmlTree metaRefresh = new HtmlTree(TagName.META)</span>
                  .put(HtmlAttr.HTTP_EQUIV, &quot;Refresh&quot;)
                  .put(HtmlAttr.CONTENT, &quot;0;&quot; + targetPath);
          head.addContent(script.asContent(), HtmlTree.NOSCRIPT(metaRefresh));
  
          ContentBuilder bodyContent = new ContentBuilder();
          bodyContent.add(HtmlTree.NOSCRIPT(
                  HtmlTree.P(contents.getContent(&quot;doclet.No_Script_Message&quot;))));
  
          bodyContent.add(HtmlTree.P(HtmlTree.A(targetPath, new StringContent(targetPath))));
  
<span class="line-modified">!         Content body = new HtmlTree(TagName.BODY)</span>
                  .put(HtmlAttr.CLASS, &quot;index-redirect&quot;);
          HtmlTree main = HtmlTree.MAIN(bodyContent);
          body.add(main);
  
<span class="line-modified">!         Content htmlTree = HtmlTree.HTML(configuration.getLocale().getLanguage(), head, body);</span>
          HtmlDocument htmlDocument = new HtmlDocument(htmlComment, htmlTree);
          htmlDocument.write(DocFile.createFileForOutput(configuration, path));
      }
  }
</pre>
<center><a href="HtmlSerialMethodWriter.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="LinkFactoryImpl.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>