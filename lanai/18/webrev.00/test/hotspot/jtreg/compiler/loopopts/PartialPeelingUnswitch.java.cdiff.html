<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/hotspot/jtreg/compiler/loopopts/PartialPeelingUnswitch.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../jvmci/jdk.vm.ci.hotspot.test/src/jdk/vm/ci/hotspot/test/TestTranslatedException.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="superword/SumRedAbsNeg_Float.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/compiler/loopopts/PartialPeelingUnswitch.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 2020, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 21,27 ***</span>
   * questions.
   */
  
  /*
   * @test
<span class="line-modified">!  * @bug 8233033 8235984</span>
   * @summary Tests if partially peeled statements are not executed before the loop predicates by bailing out of loop unswitching.
   *
   * @run main/othervm -Xbatch
   *      -XX:CompileCommand=compileonly,compiler.loopopts.PartialPeelingUnswitch::test*
<span class="line-modified">!  *      -XX:CompileCommand=dontinline,compiler.loopopts.PartialPeelingUnswitch::dontInline</span>
   *      compiler.loopopts.PartialPeelingUnswitch
   */
  
  package compiler.loopopts;
  
  public class PartialPeelingUnswitch {
  
      public static int iFld;
      public static int x = 42;
      public static int y = 31;
      public static int z = 22;
      public static int[] iArr = new int[10];
  
      public int test() {
          /*
           * The inner loop of this test is first partially peeled and then unswitched. An uncommon trap is hit in one
<span class="line-new-header">--- 21,51 ---</span>
   * questions.
   */
  
  /*
   * @test
<span class="line-modified">!  * @bug 8233033 8235984 8240227</span>
   * @summary Tests if partially peeled statements are not executed before the loop predicates by bailing out of loop unswitching.
   *
<span class="line-added">+  * @run main/othervm -Xbatch -XX:LoopStripMiningIter=0</span>
<span class="line-added">+  *      -XX:CompileCommand=compileonly,compiler.loopopts.PartialPeelingUnswitch::test*</span>
<span class="line-added">+  *      -XX:CompileCommand=dontinline,compiler.loopopts.PartialPeelingUnswitch::dontInline*</span>
<span class="line-added">+  *      compiler.loopopts.PartialPeelingUnswitch</span>
<span class="line-added">+  * @run main/othervm -Xbatch -Xcomp -XX:LoopStripMiningIter=0</span>
<span class="line-added">+  *      -XX:CompileCommand=compileonly,compiler.loopopts.PartialPeelingUnswitch::test*</span>
<span class="line-added">+  *      -XX:CompileCommand=dontinline,compiler.loopopts.PartialPeelingUnswitch::dontInline*</span>
<span class="line-added">+  *      compiler.loopopts.PartialPeelingUnswitch</span>
   * @run main/othervm -Xbatch
   *      -XX:CompileCommand=compileonly,compiler.loopopts.PartialPeelingUnswitch::test*
<span class="line-modified">!  *      -XX:CompileCommand=dontinline,compiler.loopopts.PartialPeelingUnswitch::dontInline*</span>
<span class="line-added">+  *      compiler.loopopts.PartialPeelingUnswitch</span>
<span class="line-added">+  * @run main/othervm -Xbatch -Xcomp</span>
<span class="line-added">+  *      -XX:CompileCommand=compileonly,compiler.loopopts.PartialPeelingUnswitch::test*</span>
<span class="line-added">+  *      -XX:CompileCommand=dontinline,compiler.loopopts.PartialPeelingUnswitch::dontInline*</span>
<span class="line-added">+  *      compiler.loopopts.PartialPeelingUnswitch</span>
<span class="line-added">+  * @run main/othervm -Xbatch</span>
<span class="line-added">+  *      -XX:CompileCommand=compileonly,compiler.loopopts.PartialPeelingUnswitch::*</span>
<span class="line-added">+  *      -XX:CompileCommand=dontinline,compiler.loopopts.PartialPeelingUnswitch::dontInline*</span>
<span class="line-added">+  *      compiler.loopopts.PartialPeelingUnswitch</span>
<span class="line-added">+  * @run main/othervm -Xbatch -Xcomp</span>
<span class="line-added">+  *      -XX:CompileCommand=compileonly,compiler.loopopts.PartialPeelingUnswitch::*</span>
<span class="line-added">+  *      -XX:CompileCommand=dontinline,compiler.loopopts.PartialPeelingUnswitch::dontInline*</span>
   *      compiler.loopopts.PartialPeelingUnswitch
   */
  
  package compiler.loopopts;
  
  public class PartialPeelingUnswitch {
  
      public static int iFld;
<span class="line-added">+     public static int w = 88;</span>
      public static int x = 42;
      public static int y = 31;
      public static int z = 22;
<span class="line-added">+     public static int val = 34;</span>
<span class="line-added">+     public static final int iCon = 20;</span>
<span class="line-added">+ </span>
      public static int[] iArr = new int[10];
  
      public int test() {
          /*
           * The inner loop of this test is first partially peeled and then unswitched. An uncommon trap is hit in one
</pre>
<hr />
<pre>
<span class="line-old-header">*** 250,57 ***</span>
              }
          }
          return iFld;
      }
  
<span class="line-modified">!     public static void main(String[] strArr) {</span>
<span class="line-modified">!         PartialPeelingUnswitch _instance = new PartialPeelingUnswitch();</span>
<span class="line-modified">!         for (int i = 0; i &lt; 2000; i++) {</span>
<span class="line-modified">!             int result = _instance.test();</span>
<span class="line-modified">!             if (result != -7) {</span>
<span class="line-modified">!                 throw new RuntimeException(&quot;Result should always be -7 but was &quot; + result);</span>
              }
          }
  
<span class="line-removed">-         for (int i = 0; i &lt; 2000; i++) {</span>
<span class="line-removed">-             int result = _instance.test2();</span>
<span class="line-removed">-             check(-1, result);</span>
<span class="line-removed">-             check(-7, iFld);</span>
<span class="line-removed">-             check(-9, x);</span>
<span class="line-removed">-             check(5, y);</span>
<span class="line-removed">-             check(5, iArr[5]);</span>
<span class="line-removed">-             check(149, iArr[6]);</span>
<span class="line-removed">-             check(183, iArr[7]);</span>
  
<span class="line-modified">!             // Reset fields</span>
<span class="line-modified">!             for (int j = 0; j &lt; 10; j++) {</span>
<span class="line-modified">!                 iArr[j] = 0;</span>
              }
<span class="line-removed">-             x = 42;</span>
<span class="line-removed">-             y = 31;</span>
          }
  
<span class="line-modified">!         for (int i = 0; i &lt; 2000; i++) {</span>
<span class="line-modified">!             _instance.test3();</span>
<span class="line-modified">!             _instance.test4();</span>
<span class="line-modified">!             _instance.test5();</span>
<span class="line-modified">!             _instance.test6();</span>
<span class="line-modified">!             _instance.test7();</span>
          }
  
<span class="line-modified">!         for (int i = 0; i &lt; 2000; i++) {</span>
<span class="line-modified">!             if (i % 2 == 0) {</span>
<span class="line-modified">!                 z = 23;</span>
              }
<span class="line-removed">-             _instance.test3();</span>
<span class="line-removed">-             _instance.test4();</span>
          }
      }
  
<span class="line-modified">!     public static void check(int expected, int actual) {</span>
<span class="line-modified">!         if (expected != actual) {</span>
<span class="line-modified">!             throw new RuntimeException(&quot;Wrong result, expected: &quot; + expected + &quot;, actual: &quot; + actual);</span>
          }
      }
  
<span class="line-modified">!     public void dontInline(int i) { }</span>
  }
<span class="line-new-header">--- 274,1589 ---</span>
              }
          }
          return iFld;
      }
  
<span class="line-modified">!     public int test8() {</span>
<span class="line-modified">! </span>
<span class="line-modified">!         iFld = 13;</span>
<span class="line-modified">!         for (int i = 0; i &lt; 8; i++) {</span>
<span class="line-modified">!             int j = 50;</span>
<span class="line-modified">!             while (--j &gt; 0) {</span>
<span class="line-added">+                 // All statements before the switch expression are partially peeled</span>
<span class="line-added">+                 iFld += -7;</span>
<span class="line-added">+                 x = y + iFld;</span>
<span class="line-added">+                 y = iArr[5];</span>
<span class="line-added">+                 iArr[5] = 5;</span>
<span class="line-added">+                 iArr[6] += 23;</span>
<span class="line-added">+                 iArr[7] = iArr[8] + iArr[6];</span>
<span class="line-added">+                 switch ((val * 5) + 102) {</span>
<span class="line-added">+                 case 120:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 103:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 116:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 default:</span>
<span class="line-added">+                     iFld &gt;&gt;= 1;</span>
<span class="line-added">+                 }</span>
              }
          }
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
  
  
<span class="line-modified">!     public int test9() {</span>
<span class="line-modified">!         iFld = 13;</span>
<span class="line-modified">!         for (int i = 0; i &lt; 8; i++) {</span>
<span class="line-added">+             int j = 10;</span>
<span class="line-added">+             while (--j &gt; 0) {</span>
<span class="line-added">+                 iFld += -7;</span>
<span class="line-added">+                 iArr[4] = 8;</span>
<span class="line-added">+                 x = iArr[5];</span>
<span class="line-added">+                 switch ((i * 5) + 102) {</span>
<span class="line-added">+                 case 120:</span>
<span class="line-added">+                     return iFld + 1;</span>
<span class="line-added">+                 case 103:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 116:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 default:</span>
<span class="line-added">+                     iFld &gt;&gt;= 1;</span>
<span class="line-added">+                 }</span>
              }
          }
  
<span class="line-modified">!         return iFld;</span>
<span class="line-modified">!     }</span>
<span class="line-modified">! </span>
<span class="line-modified">!    public int test10() {</span>
<span class="line-modified">!         if (z &lt; 34) {</span>
<span class="line-modified">!             z = 34;</span>
          }
  
<span class="line-modified">!         iFld = 13;</span>
<span class="line-modified">!         for (int i = 0; i &lt; 80; i++) {</span>
<span class="line-modified">!             int j = 50;</span>
<span class="line-added">+             while (--j &gt; 0) {</span>
<span class="line-added">+                 iFld += -7;</span>
<span class="line-added">+                 iArr[4] = 8;</span>
<span class="line-added">+                 x = iArr[5];</span>
<span class="line-added">+                 switch ((i * 5) + 102) {</span>
<span class="line-added">+                 case 120:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 103:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 116:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 default:</span>
<span class="line-added">+                     iFld &gt;&gt;= 1;</span>
<span class="line-added">+                 }</span>
              }
          }
<span class="line-added">+         if (z == 34) {</span>
<span class="line-added">+             x = iArr[6];</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
      }
  
<span class="line-modified">! </span>
<span class="line-modified">!     public int test11Xcomp() {</span>
<span class="line-modified">!         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         for (int i = 0; i &lt; 80; i++) {</span>
<span class="line-added">+             int j = 50;</span>
<span class="line-added">+             while (--j &gt; 0) {</span>
<span class="line-added">+                 iFld += -7;</span>
<span class="line-added">+                 iArr[4] = 8;</span>
<span class="line-added">+                 x = iArr[5];</span>
<span class="line-added">+                 switch ((i * 5) + 102) {</span>
<span class="line-added">+                 case 120:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 103:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 116:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 default:</span>
<span class="line-added">+                     iFld &gt;&gt;= 1;</span>
<span class="line-added">+                 }</span>
<span class="line-added">+                 if (z == 34) {</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 }</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         if (z == 34) {</span>
<span class="line-added">+             x = iArr[6];</span>
          }
<span class="line-added">+         return iFld;</span>
      }
  
<span class="line-modified">!     // Phi with multiple inputs from same peeled node</span>
<span class="line-added">+     public int test12Xcomp() {</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         for (int i = 0; i &lt; 80; i++) {</span>
<span class="line-added">+             int j = 50;</span>
<span class="line-added">+             while (--j &gt; 0) {</span>
<span class="line-added">+                 iFld += -7;</span>
<span class="line-added">+                 iArr[4] = 8;</span>
<span class="line-added">+                 x = iArr[5];</span>
<span class="line-added">+                 switch ((i * 5) + 102) {</span>
<span class="line-added">+                 case 120:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 103:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 116:</span>
<span class="line-added">+                     return z;</span>
<span class="line-added">+                 case 106:</span>
<span class="line-added">+                     return y;</span>
<span class="line-added">+                 case 111:</span>
<span class="line-added">+                     return x;</span>
<span class="line-added">+                 default:</span>
<span class="line-added">+                     iFld &gt;&gt;= 1;</span>
<span class="line-added">+                 }</span>
<span class="line-added">+                 w = 45;</span>
<span class="line-added">+             }</span>
<span class="line-added">+ </span>
<span class="line-added">+         }</span>
<span class="line-added">+         if (z == 34) {</span>
<span class="line-added">+             x = iArr[6];</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     public int test13Xcomp() {</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         for (int i = 0; i &lt; 80; i++) {</span>
<span class="line-added">+             int j = 50;</span>
<span class="line-added">+             while (--j &gt; 0) {</span>
<span class="line-added">+                 iFld += -7;</span>
<span class="line-added">+                 iArr[4] = 8;</span>
<span class="line-added">+                 x = iArr[5];</span>
<span class="line-added">+                 switch ((i * 5) + 102) {</span>
<span class="line-added">+                 case 120:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 103:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 116:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 default:</span>
<span class="line-added">+                     iFld &gt;&gt;= 1;</span>
<span class="line-added">+                 }</span>
<span class="line-added">+                 w = 45;</span>
<span class="line-added">+             }</span>
<span class="line-added">+ </span>
<span class="line-added">+         }</span>
<span class="line-added">+         if (z == 34) {</span>
<span class="line-added">+             x = iArr[6];</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     // Triggers after peeling with Xcomp</span>
<span class="line-added">+     public int test14Peel() {</span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         for (int i = 0; i &lt; 8; i++) {</span>
<span class="line-added">+             int j = 10;</span>
<span class="line-added">+             while (--j &gt; 0) {</span>
<span class="line-added">+                 iFld += -7;</span>
<span class="line-added">+                 iArr[4] = 8;</span>
<span class="line-added">+                 x = iArr[5];</span>
<span class="line-added">+                 switch ((i * 5) + 102) {</span>
<span class="line-added">+                 case 120:</span>
<span class="line-added">+                     return iFld;</span>
<span class="line-added">+                 case 103:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 116:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 default:</span>
<span class="line-added">+                     iFld &gt;&gt;= 1;</span>
<span class="line-added">+                 }</span>
<span class="line-added">+                 iFld = 3;</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         y = iArr[4];</span>
<span class="line-added">+         x = iArr[6];</span>
<span class="line-added">+ </span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+ </span>
<span class="line-added">+     public int test15earlyCtrl() {</span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         for (int i = 0; i &lt; 8; i++) {</span>
<span class="line-added">+             int j = 10;</span>
<span class="line-added">+             while (--j &gt; 0) {</span>
<span class="line-added">+                 iFld += -7;</span>
<span class="line-added">+                 iArr[5] = 8;</span>
<span class="line-added">+                 x = iArr[6];</span>
<span class="line-added">+                 y = x;</span>
<span class="line-added">+                 x = iArr[7];</span>
<span class="line-added">+                 switch ((i * 5) + 102) {</span>
<span class="line-added">+                 case 120:</span>
<span class="line-added">+                     return iFld;</span>
<span class="line-added">+                 case 103:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 116:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 default:</span>
<span class="line-added">+                     if (iFld == -7) {</span>
<span class="line-added">+                         return iFld;</span>
<span class="line-added">+                     }</span>
<span class="line-added">+                     z = iArr[5];</span>
<span class="line-added">+                     iFld &gt;&gt;= 1;</span>
<span class="line-added">+                 }</span>
<span class="line-added">+             }</span>
<span class="line-added">+             if (iFld == 7) {</span>
<span class="line-added">+                 iArr[3] = 3;</span>
<span class="line-added">+             }</span>
<span class="line-added">+             dontInline(7);</span>
<span class="line-added">+             iArr[5] = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     // Load after loop -&gt; LoadI after loop from peeled StoreI</span>
<span class="line-added">+     public int test16() {</span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         for (int i = 0; i &lt; 8; i++) {</span>
<span class="line-added">+             int j = 60;</span>
<span class="line-added">+             while (--j &gt; 0) {</span>
<span class="line-added">+                 iFld += -7;</span>
<span class="line-added">+                 y += iFld + 1;</span>
<span class="line-added">+ </span>
<span class="line-added">+                 iArr[5] = 8;</span>
<span class="line-added">+                 x = iArr[6];</span>
<span class="line-added">+                 x = iArr[7];</span>
<span class="line-added">+                 switch ((i * 5) + 102) {</span>
<span class="line-added">+                 case 120:</span>
<span class="line-added">+                     return iFld;</span>
<span class="line-added">+                 case 103:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 116:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 default:</span>
<span class="line-added">+                     if (iFld == -7) {</span>
<span class="line-added">+                         return iFld;</span>
<span class="line-added">+                     }</span>
<span class="line-added">+                     z = iArr[5];</span>
<span class="line-added">+                     iFld &gt;&gt;= 1;</span>
<span class="line-added">+                 }</span>
<span class="line-added">+             }</span>
<span class="line-added">+             w = iArr[9];</span>
<span class="line-added">+             if (iFld == 7) {</span>
<span class="line-added">+                 iArr[3] = 3;</span>
<span class="line-added">+             }</span>
<span class="line-added">+             dontInline(7);</span>
<span class="line-added">+             iArr[5] = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     // Region 13 before return, which region to choose for MergeMem?</span>
<span class="line-added">+     public int test17Xcomp() {</span>
<span class="line-added">+         A p = dontInlineGetA();</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         for (int i = 0; i &lt; 80; i++) {</span>
<span class="line-added">+             int j = 50;</span>
<span class="line-added">+             while (--j &gt; 0) {</span>
<span class="line-added">+                 iFld += -7;</span>
<span class="line-added">+                 iArr[4] = 8;</span>
<span class="line-added">+                 x = iArr[5];</span>
<span class="line-added">+                 y = p.i;</span>
<span class="line-added">+                 switch ((i * 5) + 102) {</span>
<span class="line-added">+                 case 120:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 103:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 116:</span>
<span class="line-added">+                     return z;</span>
<span class="line-added">+                 case 106:</span>
<span class="line-added">+                     return y;</span>
<span class="line-added">+                 case 111:</span>
<span class="line-added">+                     return x;</span>
<span class="line-added">+                 default:</span>
<span class="line-added">+                     iFld &gt;&gt;= 1;</span>
<span class="line-added">+                 }</span>
<span class="line-added">+                 w = 45;</span>
<span class="line-added">+             }</span>
<span class="line-added">+ </span>
<span class="line-added">+         }</span>
<span class="line-added">+         if (z == 34) {</span>
<span class="line-added">+             x = iArr[6];</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     // Region 13 before return, which region to choose for MergeMem?</span>
<span class="line-added">+     public int test18Xcomp() {</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         for (int i = 0; i &lt; 80; i++) {</span>
<span class="line-added">+             int j = 50;</span>
<span class="line-added">+             while (--j &gt; 0) {</span>
<span class="line-added">+                 iFld += -7;</span>
<span class="line-added">+                 iArr[4] = 8;</span>
<span class="line-added">+                 x = iArr[5];</span>
<span class="line-added">+                 y = 85;</span>
<span class="line-added">+                 switch ((i * 5) + 102) {</span>
<span class="line-added">+                 case 120:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 103:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 116:</span>
<span class="line-added">+                     return z;</span>
<span class="line-added">+                 case 106:</span>
<span class="line-added">+                     if (z == 34) {</span>
<span class="line-added">+                         x = iArr[7];</span>
<span class="line-added">+                     }</span>
<span class="line-added">+                     return y;</span>
<span class="line-added">+                 case 111:</span>
<span class="line-added">+                     return x;</span>
<span class="line-added">+                 default:</span>
<span class="line-added">+                     iFld &gt;&gt;= 1;</span>
<span class="line-added">+                 }</span>
<span class="line-added">+                 w = 45;</span>
<span class="line-added">+             }</span>
<span class="line-added">+ </span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         if (z == 34) {</span>
<span class="line-added">+             x = iArr[6];</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     public int test19Xcomp() {</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         for (int i = 0; i &lt; 80; i++) {</span>
<span class="line-added">+             int j = 50;</span>
<span class="line-added">+             while (--j &gt; 0) {</span>
<span class="line-added">+                 iFld += -7;</span>
<span class="line-added">+                 iArr[4] = 8;</span>
<span class="line-added">+                 x = iArr[5]+ iArr[6];</span>
<span class="line-added">+                 y = 85;</span>
<span class="line-added">+                 switch ((i * 5) + 102) {</span>
<span class="line-added">+                 case 120:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 103:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 116:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 106:</span>
<span class="line-added">+                     if (z == 34) {</span>
<span class="line-added">+                         x = iArr[7];</span>
<span class="line-added">+                     }</span>
<span class="line-added">+                     return y;</span>
<span class="line-added">+                 case 111:</span>
<span class="line-added">+                     return x;</span>
<span class="line-added">+                 default:</span>
<span class="line-added">+                     iFld &gt;&gt;= 1;</span>
<span class="line-added">+                 }</span>
<span class="line-added">+                 w = 45;</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         if (z == 34) {</span>
<span class="line-added">+             iArr[7] = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     public int test20() {</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         for (int i = 0; i &lt; 80; i++) {</span>
<span class="line-added">+             int j = 50;</span>
<span class="line-added">+             while (--j &gt; 0) {</span>
<span class="line-added">+                 iFld += -7;</span>
<span class="line-added">+                 iArr[4] = 8;</span>
<span class="line-added">+                 x = iArr[5];</span>
<span class="line-added">+                 switch ((i * 5) + 102) {</span>
<span class="line-added">+                 case 120:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 103:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 116:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 default:</span>
<span class="line-added">+                     iFld &gt;&gt;= 1;</span>
<span class="line-added">+                 }</span>
<span class="line-added">+             }</span>
<span class="line-added">+             x = iArr[6];</span>
<span class="line-added">+         }</span>
<span class="line-added">+         if (z == 34) {</span>
<span class="line-added">+             x = iArr[7];</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+ </span>
<span class="line-added">+     public int test21() {</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         for (int i = 0; i &lt; 80; i++) {</span>
<span class="line-added">+             int j = 50;</span>
<span class="line-added">+             while (--j &gt; 0) {</span>
<span class="line-added">+                 iFld += -7;</span>
<span class="line-added">+                 iArr[4] = 8;</span>
<span class="line-added">+                 x = iArr[5];</span>
<span class="line-added">+                 switch ((i * 5) + 102) {</span>
<span class="line-added">+                 case 120:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 103:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 case 116:</span>
<span class="line-added">+                     break;</span>
<span class="line-added">+                 default:</span>
<span class="line-added">+                     iFld &gt;&gt;= 1;</span>
<span class="line-added">+                 }</span>
<span class="line-added">+             }</span>
<span class="line-added">+             x = iArr[6];</span>
<span class="line-added">+         }</span>
<span class="line-added">+         if (z == 34) {</span>
<span class="line-added">+             y = iArr[7];</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     public int testNoOuter() {</span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         int j = 10;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     public int test2NoOuter() {</span>
<span class="line-added">+         /*</span>
<span class="line-added">+          * Same nested loop structure as in test() but with more statements that are partially peeled from the inner loop.</span>
<span class="line-added">+          * Afterwards the inner loop is unswitched.</span>
<span class="line-added">+          */</span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         int k = 0;</span>
<span class="line-added">+         int j = 10;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             // All statements before the switch expression are partially peeled</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             x = y + iFld;</span>
<span class="line-added">+             y = iArr[5];</span>
<span class="line-added">+             k = 6;</span>
<span class="line-added">+             iArr[5] = 5;</span>
<span class="line-added">+             iArr[6] += 23;</span>
<span class="line-added">+             iArr[7] = iArr[8] + iArr[6];</span>
<span class="line-added">+             iArr[j] = 34;</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld + k;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     public int test3NoOuter() {</span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         int j = 10;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             iArr[5] = 8;</span>
<span class="line-added">+             x = iArr[6];</span>
<span class="line-added">+             y = x;</span>
<span class="line-added">+             for (int k = 50; k &lt; 51; k++) {</span>
<span class="line-added">+                 x = iArr[7];</span>
<span class="line-added">+             }</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 return iFld;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 if (iFld == -7) {</span>
<span class="line-added">+                     return iFld;</span>
<span class="line-added">+                 }</span>
<span class="line-added">+                 z = iArr[5];</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         iArr[5] = 34;</span>
<span class="line-added">+         dontInline(iArr[5]);</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     public int test4NoOuter() {</span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         int j = 10;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             iArr[5] = 8;</span>
<span class="line-added">+             x = iArr[6];</span>
<span class="line-added">+             y = x;</span>
<span class="line-added">+             for (int k = 50; k &lt; 51; k++) {</span>
<span class="line-added">+                 x = iArr[7];</span>
<span class="line-added">+             }</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 return iFld;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 if (iFld == -7) {</span>
<span class="line-added">+                     return iFld;</span>
<span class="line-added">+                 }</span>
<span class="line-added">+                 z = iArr[5];</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         iArr[5] = 34;</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     public int test5NoOuter() {</span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         int j = 10;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             iArr[5] = 8;</span>
<span class="line-added">+             x = iArr[6];</span>
<span class="line-added">+             y = x;</span>
<span class="line-added">+             for (int k = 50; k &lt; 51; k++) {</span>
<span class="line-added">+                 x = iArr[7];</span>
<span class="line-added">+             }</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 return iFld;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     public int test6NoOuter() {</span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         int j = 10;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             iArr[5] = 8;</span>
<span class="line-added">+             x = iArr[6];</span>
<span class="line-added">+             y = x;</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 return iFld;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     public int test7NoOuter() {</span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         int j = 10;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             iArr[5] = 8;</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 return iFld;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     public int test8NoOuter() {</span>
<span class="line-added">+ </span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         int j = 50;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             // All statements before the switch expression are partially peeled</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             x = y + iFld;</span>
<span class="line-added">+             y = iArr[5];</span>
<span class="line-added">+             iArr[5] = 5;</span>
<span class="line-added">+             iArr[6] += 23;</span>
<span class="line-added">+             iArr[7] = iArr[8] + iArr[6];</span>
<span class="line-added">+             switch ((val * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+ </span>
<span class="line-added">+     public int test9NoOuter() {</span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         int j = 10;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             iArr[4] = 8;</span>
<span class="line-added">+             x = iArr[5];</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 return iFld + 1;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+    public int test10NoOuter() {</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         int j = 50;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             iArr[4] = 8;</span>
<span class="line-added">+             x = iArr[5];</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         if (z == 34) {</span>
<span class="line-added">+             x = iArr[6];</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+ </span>
<span class="line-added">+     public int test11XcompNoOuter() {</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         int j = 50;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             iArr[4] = 8;</span>
<span class="line-added">+             x = iArr[5];</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+             if (z == 34) {</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         if (z == 34) {</span>
<span class="line-added">+             x = iArr[6];</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     // Phi with multiple inputs from same peeled node</span>
<span class="line-added">+     public int test12XcompNoOuter() {</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         int j = 50;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             iArr[4] = 8;</span>
<span class="line-added">+             x = iArr[5];</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 return z;</span>
<span class="line-added">+             case 106:</span>
<span class="line-added">+                 return y;</span>
<span class="line-added">+             case 111:</span>
<span class="line-added">+                 return x;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+             w = 45;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         if (z == 34) {</span>
<span class="line-added">+             x = iArr[6];</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     public int test13XcompNoOuter() {</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         int j = 50;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             iArr[4] = 8;</span>
<span class="line-added">+             x = iArr[5];</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+             w = 45;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         if (z == 34) {</span>
<span class="line-added">+             x = iArr[6];</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     // Triggers after peeling with Xcomp</span>
<span class="line-added">+     public int test14PeelNoOuter() {</span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         int j = 10;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             iArr[4] = 8;</span>
<span class="line-added">+             x = iArr[5];</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 return iFld;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+             iFld = 3;</span>
<span class="line-added">+         }</span>
<span class="line-added">+         y = iArr[4];</span>
<span class="line-added">+         x = iArr[6];</span>
<span class="line-added">+ </span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+ </span>
<span class="line-added">+     public int test15earlyCtrlNoOuter() {</span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         int j = 10;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             iArr[5] = 8;</span>
<span class="line-added">+             x = iArr[6];</span>
<span class="line-added">+             y = x;</span>
<span class="line-added">+             x = iArr[7];</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 return iFld;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 if (iFld == -7) {</span>
<span class="line-added">+                     return iFld;</span>
<span class="line-added">+                 }</span>
<span class="line-added">+                 z = iArr[5];</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         if (iFld == 7) {</span>
<span class="line-added">+             iArr[3] = 3;</span>
<span class="line-added">+         }</span>
<span class="line-added">+         dontInline(7);</span>
<span class="line-added">+         iArr[5] = 34;</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     // Load after loop -&gt; LoadI after loop from peeled StoreI</span>
<span class="line-added">+     public int test16NoOuter() {</span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         int j = 60;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             y += iFld + 1;</span>
<span class="line-added">+ </span>
<span class="line-added">+             iArr[5] = 8;</span>
<span class="line-added">+             x = iArr[6];</span>
<span class="line-added">+             x = iArr[7];</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 return iFld;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 if (iFld == -7) {</span>
<span class="line-added">+                     return iFld;</span>
<span class="line-added">+                 }</span>
<span class="line-added">+                 z = iArr[5];</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         w = iArr[9];</span>
<span class="line-added">+         if (iFld == 7) {</span>
<span class="line-added">+             iArr[3] = 3;</span>
<span class="line-added">+         }</span>
<span class="line-added">+         dontInline(7);</span>
<span class="line-added">+         iArr[5] = 34;</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     // Region 13 before return, which region to choose for MergeMem?</span>
<span class="line-added">+     public int test17XcompNoOuter() {</span>
<span class="line-added">+         A p = dontInlineGetA();</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         int j = 50;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             iArr[4] = 8;</span>
<span class="line-added">+             x = iArr[5];</span>
<span class="line-added">+             y = p.i;</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 return z;</span>
<span class="line-added">+             case 106:</span>
<span class="line-added">+                 return y;</span>
<span class="line-added">+             case 111:</span>
<span class="line-added">+                 return x;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+             w = 45;</span>
<span class="line-added">+         }</span>
<span class="line-added">+         if (z == 34) {</span>
<span class="line-added">+             x = iArr[6];</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     // Region 13 before return, which region to choose for MergeMem?</span>
<span class="line-added">+     public int test18XcompNoOuter() {</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         int j = 50;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             iArr[4] = 8;</span>
<span class="line-added">+             x = iArr[5];</span>
<span class="line-added">+             y = 85;</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 return z;</span>
<span class="line-added">+             case 106:</span>
<span class="line-added">+                 if (z == 34) {</span>
<span class="line-added">+                     x = iArr[7];</span>
<span class="line-added">+                 }</span>
<span class="line-added">+                 return y;</span>
<span class="line-added">+             case 111:</span>
<span class="line-added">+                 return x;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+             w = 45;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         if (z == 34) {</span>
<span class="line-added">+             x = iArr[6];</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     public int test19XcompNoOuter() {</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         int j = 50;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             iArr[4] = 8;</span>
<span class="line-added">+             x = iArr[5]+ iArr[6];</span>
<span class="line-added">+             y = 85;</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 106:</span>
<span class="line-added">+                 if (z == 34) {</span>
<span class="line-added">+                     x = iArr[7];</span>
<span class="line-added">+                 }</span>
<span class="line-added">+                 return y;</span>
<span class="line-added">+             case 111:</span>
<span class="line-added">+                 return x;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+             w = 45;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         if (z == 34) {</span>
<span class="line-added">+             iArr[7] = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+ </span>
<span class="line-added">+     public int test20NoOuter() {</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         int j = 50;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             iArr[4] = 8;</span>
<span class="line-added">+             x = iArr[5];</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         x = iArr[6];</span>
<span class="line-added">+         if (z == 34) {</span>
<span class="line-added">+             x = iArr[7];</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     public int test21NoOuter() {</span>
<span class="line-added">+         if (z &lt; 34) {</span>
<span class="line-added">+             z = 34;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         iFld = 13;</span>
<span class="line-added">+         int j = 50;</span>
<span class="line-added">+         while (--j &gt; 0) {</span>
<span class="line-added">+             iFld += -7;</span>
<span class="line-added">+             iArr[4] = 8;</span>
<span class="line-added">+             x = iArr[5];</span>
<span class="line-added">+             switch ((iCon * 5) + 102) {</span>
<span class="line-added">+             case 120:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 103:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             case 116:</span>
<span class="line-added">+                 break;</span>
<span class="line-added">+             default:</span>
<span class="line-added">+                 iFld &gt;&gt;= 1;</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+         x = iArr[6];</span>
<span class="line-added">+         if (z == 34) {</span>
<span class="line-added">+             y = iArr[7];</span>
<span class="line-added">+         }</span>
<span class="line-added">+         return iFld;</span>
<span class="line-added">+     }</span>
<span class="line-added">+     public static void main(String[] strArr) {</span>
<span class="line-added">+         BookKeeper[] bookKeeper = new BookKeeper[22];</span>
<span class="line-added">+         for (int i = 0; i &lt; 22; i++) {</span>
<span class="line-added">+             bookKeeper[i] = new BookKeeper();</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         PartialPeelingUnswitch _instance = new PartialPeelingUnswitch();</span>
<span class="line-added">+         for (int i = 0; i &lt; 2000; i++) {</span>
<span class="line-added">+             int result = _instance.test();</span>
<span class="line-added">+             if (result != -7) {</span>
<span class="line-added">+                 throw new RuntimeException(&quot;Result should always be -7 but was &quot; + result);</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         for (int i = 0; i &lt; 2000; i++) {</span>
<span class="line-added">+             int result = _instance.test2();</span>
<span class="line-added">+             check(-1, result);</span>
<span class="line-added">+             check(-7, iFld);</span>
<span class="line-added">+             check(-9, x);</span>
<span class="line-added">+             check(5, y);</span>
<span class="line-added">+             check(5, iArr[5]);</span>
<span class="line-added">+             check(149, iArr[6]);</span>
<span class="line-added">+             check(183, iArr[7]);</span>
<span class="line-added">+ </span>
<span class="line-added">+             // Reset fields</span>
<span class="line-added">+             for (int j = 0; j &lt; 10; j++) {</span>
<span class="line-added">+                 iArr[j] = 0;</span>
<span class="line-added">+             }</span>
<span class="line-added">+             x = 42;</span>
<span class="line-added">+             y = 31;</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         for (int i = 0; i &lt; 2000; i++) {</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test3();</span>
<span class="line-added">+             bookKeeper[3].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test4();</span>
<span class="line-added">+             bookKeeper[4].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test5();</span>
<span class="line-added">+             bookKeeper[5].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test6();</span>
<span class="line-added">+             bookKeeper[6].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test7();</span>
<span class="line-added">+             bookKeeper[7].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test8();</span>
<span class="line-added">+             bookKeeper[8].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test9();</span>
<span class="line-added">+             bookKeeper[9].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test10();</span>
<span class="line-added">+             bookKeeper[10].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test11Xcomp();</span>
<span class="line-added">+             bookKeeper[11].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test12Xcomp();</span>
<span class="line-added">+             bookKeeper[12].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test13Xcomp();</span>
<span class="line-added">+             bookKeeper[13].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test14Peel();</span>
<span class="line-added">+             bookKeeper[14].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test15earlyCtrl();</span>
<span class="line-added">+             bookKeeper[15].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test16();</span>
<span class="line-added">+             bookKeeper[16].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test17Xcomp();</span>
<span class="line-added">+             bookKeeper[17].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test18Xcomp();</span>
<span class="line-added">+             bookKeeper[18].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test19Xcomp();</span>
<span class="line-added">+             bookKeeper[19].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test20();</span>
<span class="line-added">+             bookKeeper[20].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test21();</span>
<span class="line-added">+             bookKeeper[21].compare();</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         for (int i = 0; i &lt; 22; i++) {</span>
<span class="line-added">+             bookKeeper[i] = new BookKeeper();</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         for (int i = 0; i &lt; 2000; i++) {</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.testNoOuter();</span>
<span class="line-added">+             bookKeeper[1].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test2NoOuter();</span>
<span class="line-added">+             bookKeeper[2].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test3NoOuter();</span>
<span class="line-added">+             bookKeeper[3].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test4NoOuter();</span>
<span class="line-added">+             bookKeeper[4].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test5NoOuter();</span>
<span class="line-added">+             bookKeeper[5].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test6NoOuter();</span>
<span class="line-added">+             bookKeeper[6].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test7NoOuter();</span>
<span class="line-added">+             bookKeeper[7].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test8NoOuter();</span>
<span class="line-added">+             bookKeeper[8].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test9NoOuter();</span>
<span class="line-added">+             bookKeeper[9].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test10NoOuter();</span>
<span class="line-added">+             bookKeeper[10].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test11XcompNoOuter();</span>
<span class="line-added">+             bookKeeper[11].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test12XcompNoOuter();</span>
<span class="line-added">+             bookKeeper[12].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test13XcompNoOuter();</span>
<span class="line-added">+             bookKeeper[13].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test14PeelNoOuter();</span>
<span class="line-added">+             bookKeeper[14].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test15earlyCtrlNoOuter();</span>
<span class="line-added">+             bookKeeper[15].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test16NoOuter();</span>
<span class="line-added">+             bookKeeper[16].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test17XcompNoOuter();</span>
<span class="line-added">+             bookKeeper[17].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test18XcompNoOuter();</span>
<span class="line-added">+             bookKeeper[18].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test19XcompNoOuter();</span>
<span class="line-added">+             bookKeeper[19].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test20NoOuter();</span>
<span class="line-added">+             bookKeeper[20].compare();</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test21NoOuter();</span>
<span class="line-added">+             bookKeeper[21].compare();</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         for (int i = 0; i &lt; 22; i++) {</span>
<span class="line-added">+             bookKeeper[i] = new BookKeeper();</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         for (int i = 0; i &lt; 2000; i++) {</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test3();</span>
<span class="line-added">+             bookKeeper[3].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test4();</span>
<span class="line-added">+             bookKeeper[4].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test5();</span>
<span class="line-added">+             bookKeeper[5].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test6();</span>
<span class="line-added">+             bookKeeper[6].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test7();</span>
<span class="line-added">+             bookKeeper[7].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test8();</span>
<span class="line-added">+             bookKeeper[8].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test9();</span>
<span class="line-added">+             bookKeeper[9].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test10();</span>
<span class="line-added">+             bookKeeper[10].compare(i);</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test11Xcomp();</span>
<span class="line-added">+             bookKeeper[11].compare(i);</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test12Xcomp();</span>
<span class="line-added">+             bookKeeper[12].compare(i);</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test13Xcomp();</span>
<span class="line-added">+             bookKeeper[13].compare(i);</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test14Peel();</span>
<span class="line-added">+             bookKeeper[14].compare(i);</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test15earlyCtrl();</span>
<span class="line-added">+             bookKeeper[15].compare(i);</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test16();</span>
<span class="line-added">+             bookKeeper[16].compare(i);</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test17Xcomp();</span>
<span class="line-added">+             bookKeeper[17].compare(i);</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test18Xcomp();</span>
<span class="line-added">+             bookKeeper[18].compare(i);</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test19Xcomp();</span>
<span class="line-added">+             bookKeeper[19].compare(i);</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test20();</span>
<span class="line-added">+             bookKeeper[20].compare(i);</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             _instance.test21();</span>
<span class="line-added">+             bookKeeper[21].compare(i);</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         for (int i = 0; i &lt; 22; i++) {</span>
<span class="line-added">+             bookKeeper[i] = new BookKeeper();</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         for (int i = 0; i &lt; 2000; i++) {</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.testNoOuter();</span>
<span class="line-added">+             bookKeeper[1].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test2NoOuter();</span>
<span class="line-added">+             bookKeeper[2].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test3NoOuter();</span>
<span class="line-added">+             bookKeeper[3].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test4NoOuter();</span>
<span class="line-added">+             bookKeeper[4].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test5NoOuter();</span>
<span class="line-added">+             bookKeeper[5].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test6NoOuter();</span>
<span class="line-added">+             bookKeeper[6].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test7NoOuter();</span>
<span class="line-added">+             bookKeeper[7].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test8NoOuter();</span>
<span class="line-added">+             bookKeeper[8].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test9NoOuter();</span>
<span class="line-added">+             bookKeeper[9].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test10NoOuter();</span>
<span class="line-added">+             bookKeeper[10].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test11XcompNoOuter();</span>
<span class="line-added">+             bookKeeper[11].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test12XcompNoOuter();</span>
<span class="line-added">+             bookKeeper[12].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test13XcompNoOuter();</span>
<span class="line-added">+             bookKeeper[13].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test14PeelNoOuter();</span>
<span class="line-added">+             bookKeeper[14].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test15earlyCtrlNoOuter();</span>
<span class="line-added">+             bookKeeper[15].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test16NoOuter();</span>
<span class="line-added">+             bookKeeper[16].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test17XcompNoOuter();</span>
<span class="line-added">+             bookKeeper[17].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test18XcompNoOuter();</span>
<span class="line-added">+             bookKeeper[18].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test19XcompNoOuter();</span>
<span class="line-added">+             bookKeeper[19].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test20NoOuter();</span>
<span class="line-added">+             bookKeeper[20].compare(i);</span>
<span class="line-added">+             BookKeeper.setup();</span>
<span class="line-added">+             setZ(i);</span>
<span class="line-added">+             _instance.test21NoOuter();</span>
<span class="line-added">+             bookKeeper[21].compare(i);</span>
<span class="line-added">+         }</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     public static void setZ(int i) {</span>
<span class="line-added">+         if (i % 2 == 0) {</span>
<span class="line-added">+             z = 23;</span>
<span class="line-added">+         } else {</span>
<span class="line-added">+             z = 35;</span>
<span class="line-added">+         }</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     public static void check(int expected, int actual) {</span>
<span class="line-added">+         if (expected != actual) {</span>
<span class="line-added">+             throw new RuntimeException(&quot;Wrong result, expected: &quot; + expected + &quot;, actual: &quot; + actual);</span>
<span class="line-added">+         }</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     public void dontInline(int i) { }</span>
<span class="line-added">+ </span>
<span class="line-added">+     class A {</span>
<span class="line-added">+         int i = 3;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     A dontInlineGetA() {</span>
<span class="line-added">+         return new A();</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     static class BookKeeper {</span>
<span class="line-added">+         public int iFld;</span>
<span class="line-added">+         public int w;</span>
<span class="line-added">+         public int x;</span>
<span class="line-added">+         public int y;</span>
<span class="line-added">+         public int z;</span>
<span class="line-added">+         public int val;</span>
<span class="line-added">+         public int[] iArr;</span>
<span class="line-added">+ </span>
<span class="line-added">+         public int iFld2;</span>
<span class="line-added">+         public int w2;</span>
<span class="line-added">+         public int x2;</span>
<span class="line-added">+         public int y2;</span>
<span class="line-added">+         public int z2;</span>
<span class="line-added">+         public int val2;</span>
<span class="line-added">+         public int[] iArr2;</span>
<span class="line-added">+ </span>
<span class="line-added">+         public void compare() {</span>
<span class="line-added">+             if (iArr == null) {</span>
<span class="line-added">+                 // First compare, initialize values</span>
<span class="line-added">+                 this.iFld = PartialPeelingUnswitch.iFld;</span>
<span class="line-added">+                 this.w = PartialPeelingUnswitch.w;</span>
<span class="line-added">+                 this.x = PartialPeelingUnswitch.x;</span>
<span class="line-added">+                 this.y = PartialPeelingUnswitch.y;</span>
<span class="line-added">+                 this.z = PartialPeelingUnswitch.z;</span>
<span class="line-added">+                 this.val = PartialPeelingUnswitch.val;</span>
<span class="line-added">+                 this.iArr = new int[10];</span>
<span class="line-added">+                 System.arraycopy(PartialPeelingUnswitch.iArr, 0, this.iArr, 0, 10);</span>
<span class="line-added">+             } else {</span>
<span class="line-added">+ </span>
<span class="line-added">+                 // Do comparison</span>
<span class="line-added">+                 boolean check = PartialPeelingUnswitch.iFld == this.iFld</span>
<span class="line-added">+                                 &amp;&amp; this.w == PartialPeelingUnswitch.w</span>
<span class="line-added">+                                 &amp;&amp; this.x == PartialPeelingUnswitch.x</span>
<span class="line-added">+                                 &amp;&amp; this.y == PartialPeelingUnswitch.y</span>
<span class="line-added">+                                 &amp;&amp; this.z == PartialPeelingUnswitch.z</span>
<span class="line-added">+                                 &amp;&amp; this.val == PartialPeelingUnswitch.val;</span>
<span class="line-added">+                 for (int i = 0; i &lt; 10; i++) {</span>
<span class="line-added">+                     check = check &amp;&amp; this.iArr[i] == PartialPeelingUnswitch.iArr[i];</span>
<span class="line-added">+                 }</span>
<span class="line-added">+ </span>
<span class="line-added">+                 if (!check) {</span>
<span class="line-added">+                     throw new RuntimeException(&quot;Failed comparison&quot;);</span>
<span class="line-added">+                 }</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         public void compare(int i) {</span>
<span class="line-added">+             if (i % 2 == 0 &amp;&amp; iArr == null) {</span>
<span class="line-added">+                 // First compare, initialize values</span>
<span class="line-added">+                 this.iFld = PartialPeelingUnswitch.iFld;</span>
<span class="line-added">+                 this.w = PartialPeelingUnswitch.w;</span>
<span class="line-added">+                 this.x = PartialPeelingUnswitch.x;</span>
<span class="line-added">+                 this.y = PartialPeelingUnswitch.y;</span>
<span class="line-added">+                 this.z = PartialPeelingUnswitch.z;</span>
<span class="line-added">+                 this.val = PartialPeelingUnswitch.val;</span>
<span class="line-added">+                 this.iArr = new int[10];</span>
<span class="line-added">+                 System.arraycopy(PartialPeelingUnswitch.iArr, 0, this.iArr, 0, 10);</span>
<span class="line-added">+             } else if (i % 2 != 0 &amp;&amp; iArr2 == null) {</span>
<span class="line-added">+                 // First compare, initialize values</span>
<span class="line-added">+                 this.iFld2 = PartialPeelingUnswitch.iFld;</span>
<span class="line-added">+                 this.w2 = PartialPeelingUnswitch.w;</span>
<span class="line-added">+                 this.x2 = PartialPeelingUnswitch.x;</span>
<span class="line-added">+                 this.y2 = PartialPeelingUnswitch.y;</span>
<span class="line-added">+                 this.z2 = PartialPeelingUnswitch.z;</span>
<span class="line-added">+                 this.val2 = PartialPeelingUnswitch.val;</span>
<span class="line-added">+                 this.iArr2 = new int[10];</span>
<span class="line-added">+                 System.arraycopy(PartialPeelingUnswitch.iArr, 0, this.iArr2, 0, 10);</span>
<span class="line-added">+             } else if (i % 2 == 0) {</span>
<span class="line-added">+                 // Do comparison</span>
<span class="line-added">+                 boolean check = PartialPeelingUnswitch.iFld == this.iFld</span>
<span class="line-added">+                                 &amp;&amp; this.w == PartialPeelingUnswitch.w</span>
<span class="line-added">+                                 &amp;&amp; this.x == PartialPeelingUnswitch.x</span>
<span class="line-added">+                                 &amp;&amp; this.y == PartialPeelingUnswitch.y</span>
<span class="line-added">+                                 &amp;&amp; this.z == PartialPeelingUnswitch.z</span>
<span class="line-added">+                                 &amp;&amp; this.val == PartialPeelingUnswitch.val;</span>
<span class="line-added">+                 for (int j = 0; j &lt; 10; j++) {</span>
<span class="line-added">+                     check = check &amp;&amp; this.iArr[j] == PartialPeelingUnswitch.iArr[j];</span>
<span class="line-added">+                 }</span>
<span class="line-added">+ </span>
<span class="line-added">+                 if (!check) {</span>
<span class="line-added">+                     throw new RuntimeException(&quot;Failed comparison&quot;);</span>
<span class="line-added">+                 }</span>
<span class="line-added">+             } else {</span>
<span class="line-added">+                 // Do comparison</span>
<span class="line-added">+                 boolean check = PartialPeelingUnswitch.iFld == this.iFld2</span>
<span class="line-added">+                                 &amp;&amp; this.w2 == PartialPeelingUnswitch.w</span>
<span class="line-added">+                                 &amp;&amp; this.x2 == PartialPeelingUnswitch.x</span>
<span class="line-added">+                                 &amp;&amp; this.y2 == PartialPeelingUnswitch.y</span>
<span class="line-added">+                                 &amp;&amp; this.z2 == PartialPeelingUnswitch.z</span>
<span class="line-added">+                                 &amp;&amp; this.val2 == PartialPeelingUnswitch.val;</span>
<span class="line-added">+                 for (int j = 0; j &lt; 10; j++) {</span>
<span class="line-added">+                     check = check &amp;&amp; this.iArr2[j] == PartialPeelingUnswitch.iArr[j];</span>
<span class="line-added">+                 }</span>
<span class="line-added">+ </span>
<span class="line-added">+                 if (!check) {</span>
<span class="line-added">+                     throw new RuntimeException(&quot;Failed comparison&quot;);</span>
<span class="line-added">+                 }</span>
<span class="line-added">+             }</span>
<span class="line-added">+         }</span>
<span class="line-added">+ </span>
<span class="line-added">+         public static void setup() {</span>
<span class="line-added">+             PartialPeelingUnswitch.iFld = 0;</span>
<span class="line-added">+             PartialPeelingUnswitch.w = 88;</span>
<span class="line-added">+             PartialPeelingUnswitch.x = 42;</span>
<span class="line-added">+             PartialPeelingUnswitch.y = 31;</span>
<span class="line-added">+             PartialPeelingUnswitch.z = 22;</span>
<span class="line-added">+             PartialPeelingUnswitch.val = 34;</span>
<span class="line-added">+             PartialPeelingUnswitch.iArr = new int[10];</span>
<span class="line-added">+         }</span>
<span class="line-added">+     }</span>
  }
</pre>
<center><a href="../jvmci/jdk.vm.ci.hotspot.test/src/jdk/vm/ci/hotspot/test/TestTranslatedException.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="superword/SumRedAbsNeg_Float.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>