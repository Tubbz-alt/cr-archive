<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/langtools/jdk/javadoc/doclet/testHtmlDocument/TestHtmlDocument.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../testHtmlDefinitionListTag/TestHtmlDefinitionListTag.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../testHtmlLandmarkRegions/TestHtmlLandmarkRegions.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/langtools/jdk/javadoc/doclet/testHtmlDocument/TestHtmlDocument.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 53     }
 54 
 55     @Test
 56     public void test() {
 57         checking(&quot;markup&quot;);
 58         // Check whether the generated markup is same as the existing markup.
 59         String expected = readFile(testSrc, &quot;testMarkup.html&quot;).replace(&quot;\n&quot;, NL);
 60         String actual = generateHtmlTree();
 61         if (actual.equals(expected)) {
 62             passed(&quot;&quot;);
 63         } else {
 64             failed(&quot;expected content in &quot; + testSrc(&quot;testMarkup.html&quot;) + &quot;\n&quot;
 65                 + &quot;Actual output:\n&quot;
 66                 + actual);
 67         }
 68     }
 69 
 70     // Generate the HTML output using the HTML document generation within doclet.
 71     public static String generateHtmlTree() {
 72         // Document type for the HTML document
<span class="line-modified"> 73         HtmlTree html = new HtmlTree(HtmlTag.HTML);</span>
<span class="line-modified"> 74         HtmlTree head = new HtmlTree(HtmlTag.HEAD);</span>
<span class="line-modified"> 75         HtmlTree title = new HtmlTree(HtmlTag.TITLE);</span>
 76         // String content within the document
 77         StringContent titleContent = new StringContent(&quot;Markup test&quot;);
 78         title.add(titleContent);
 79         head.add(title);
 80         // Test META tag
<span class="line-modified"> 81         HtmlTree meta = new HtmlTree(HtmlTag.META);</span>
 82         meta.put(HtmlAttr.NAME, &quot;keywords&quot;);
 83         meta.put(HtmlAttr.CONTENT, &quot;testContent&quot;);
 84         head.add(meta);
 85         // Test invalid META tag
<span class="line-modified"> 86         HtmlTree invmeta = new HtmlTree(HtmlTag.META);</span>
 87         head.add(invmeta);
 88         // Test LINK tag
<span class="line-modified"> 89         HtmlTree link = new HtmlTree(HtmlTag.LINK);</span>
 90         link.put(HtmlAttr.REL, &quot;testRel&quot;);
 91         link.put(HtmlAttr.HREF, &quot;testLink.html&quot;);
 92         head.add(link);
 93         // Test invalid LINK tag
<span class="line-modified"> 94         HtmlTree invlink = new HtmlTree(HtmlTag.LINK);</span>
 95         head.add(invlink);
 96         html.add(head);
 97         // Comment within the document
 98         Comment bodyMarker = new Comment(&quot;======== START OF BODY ========&quot;);
 99         html.add(bodyMarker);
<span class="line-modified">100         HtmlTree body = new HtmlTree(HtmlTag.BODY);</span>
101         Comment pMarker = new Comment(&quot;======== START OF PARAGRAPH ========&quot;);
102         body.add(pMarker);
<span class="line-modified">103         HtmlTree p = new HtmlTree(HtmlTag.P);</span>
104         StringContent bodyContent = new StringContent(
105                 &quot;This document is generated from sample source code and HTML &quot; +
106                 &quot;files with examples of a wide variety of Java language constructs: packages, &quot; +
107                 &quot;subclasses, subinterfaces, nested classes, nested interfaces,&quot; +
108                 &quot;inheriting from other packages, constructors, fields,&quot; +
109                 &quot;methods, and so forth. &quot;);
110         p.add(bodyContent);
111         StringContent anchorContent = new StringContent(&quot;Click Here&quot;);
112         p.add(HtmlTree.A(&quot;testLink.html&quot;, anchorContent));
113         StringContent pContent = new StringContent(&quot; to &lt;test&gt; out a link.&quot;);
114         p.add(pContent);
115         body.add(p);
<span class="line-modified">116         HtmlTree p1 = new HtmlTree(HtmlTag.P);</span>
117         // Test another version of A tag.
<span class="line-modified">118         HtmlTree anchor = new HtmlTree(HtmlTag.A);</span>
119         anchor.put(HtmlAttr.HREF, &quot;testLink.html&quot;);
120         anchor.put(HtmlAttr.ID, &quot;Another version of a tag&quot;);
121         p1.add(anchor);
122         body.add(p1);
123         // Test for empty tags.
<span class="line-modified">124         HtmlTree dl = new HtmlTree(HtmlTag.DL);</span>
125         html.add(dl);
126         // Test for empty nested tags.
<span class="line-modified">127         HtmlTree dlTree = new HtmlTree(HtmlTag.DL);</span>
<span class="line-modified">128         dlTree.add(new HtmlTree(HtmlTag.DT));</span>
<span class="line-modified">129         dlTree.add(new HtmlTree (HtmlTag.DD));</span>
130         html.add(dlTree);
<span class="line-modified">131         HtmlTree dlDisplay = new HtmlTree(HtmlTag.DL);</span>
<span class="line-modified">132         dlDisplay.add(new HtmlTree(HtmlTag.DT));</span>
<span class="line-modified">133         HtmlTree dd = new HtmlTree (HtmlTag.DD);</span>
134         StringContent ddContent = new StringContent(&quot;Test DD&quot;);
135         dd.add(ddContent);
136         dlDisplay.add(dd);
137         body.add(dlDisplay);
138         StringContent emptyString = new StringContent(&quot;&quot;);
139         body.add(emptyString);
140         Comment emptyComment = new Comment(&quot;&quot;);
141         body.add(emptyComment);
<span class="line-modified">142         HtmlTree hr = new HtmlTree(HtmlTag.HR);</span>
143         body.add(hr);
144         html.add(body);
145         HtmlDocument htmlDoc = new HtmlDocument(html);
146         return htmlDoc.toString();
147     }
148 }
</pre>
</td>
<td>
<hr />
<pre>
 53     }
 54 
 55     @Test
 56     public void test() {
 57         checking(&quot;markup&quot;);
 58         // Check whether the generated markup is same as the existing markup.
 59         String expected = readFile(testSrc, &quot;testMarkup.html&quot;).replace(&quot;\n&quot;, NL);
 60         String actual = generateHtmlTree();
 61         if (actual.equals(expected)) {
 62             passed(&quot;&quot;);
 63         } else {
 64             failed(&quot;expected content in &quot; + testSrc(&quot;testMarkup.html&quot;) + &quot;\n&quot;
 65                 + &quot;Actual output:\n&quot;
 66                 + actual);
 67         }
 68     }
 69 
 70     // Generate the HTML output using the HTML document generation within doclet.
 71     public static String generateHtmlTree() {
 72         // Document type for the HTML document
<span class="line-modified"> 73         HtmlTree html = new HtmlTree(TagName.HTML);</span>
<span class="line-modified"> 74         HtmlTree head = new HtmlTree(TagName.HEAD);</span>
<span class="line-modified"> 75         HtmlTree title = new HtmlTree(TagName.TITLE);</span>
 76         // String content within the document
 77         StringContent titleContent = new StringContent(&quot;Markup test&quot;);
 78         title.add(titleContent);
 79         head.add(title);
 80         // Test META tag
<span class="line-modified"> 81         HtmlTree meta = new HtmlTree(TagName.META);</span>
 82         meta.put(HtmlAttr.NAME, &quot;keywords&quot;);
 83         meta.put(HtmlAttr.CONTENT, &quot;testContent&quot;);
 84         head.add(meta);
 85         // Test invalid META tag
<span class="line-modified"> 86         HtmlTree invmeta = new HtmlTree(TagName.META);</span>
 87         head.add(invmeta);
 88         // Test LINK tag
<span class="line-modified"> 89         HtmlTree link = new HtmlTree(TagName.LINK);</span>
 90         link.put(HtmlAttr.REL, &quot;testRel&quot;);
 91         link.put(HtmlAttr.HREF, &quot;testLink.html&quot;);
 92         head.add(link);
 93         // Test invalid LINK tag
<span class="line-modified"> 94         HtmlTree invlink = new HtmlTree(TagName.LINK);</span>
 95         head.add(invlink);
 96         html.add(head);
 97         // Comment within the document
 98         Comment bodyMarker = new Comment(&quot;======== START OF BODY ========&quot;);
 99         html.add(bodyMarker);
<span class="line-modified">100         HtmlTree body = new HtmlTree(TagName.BODY);</span>
101         Comment pMarker = new Comment(&quot;======== START OF PARAGRAPH ========&quot;);
102         body.add(pMarker);
<span class="line-modified">103         HtmlTree p = new HtmlTree(TagName.P);</span>
104         StringContent bodyContent = new StringContent(
105                 &quot;This document is generated from sample source code and HTML &quot; +
106                 &quot;files with examples of a wide variety of Java language constructs: packages, &quot; +
107                 &quot;subclasses, subinterfaces, nested classes, nested interfaces,&quot; +
108                 &quot;inheriting from other packages, constructors, fields,&quot; +
109                 &quot;methods, and so forth. &quot;);
110         p.add(bodyContent);
111         StringContent anchorContent = new StringContent(&quot;Click Here&quot;);
112         p.add(HtmlTree.A(&quot;testLink.html&quot;, anchorContent));
113         StringContent pContent = new StringContent(&quot; to &lt;test&gt; out a link.&quot;);
114         p.add(pContent);
115         body.add(p);
<span class="line-modified">116         HtmlTree p1 = new HtmlTree(TagName.P);</span>
117         // Test another version of A tag.
<span class="line-modified">118         HtmlTree anchor = new HtmlTree(TagName.A);</span>
119         anchor.put(HtmlAttr.HREF, &quot;testLink.html&quot;);
120         anchor.put(HtmlAttr.ID, &quot;Another version of a tag&quot;);
121         p1.add(anchor);
122         body.add(p1);
123         // Test for empty tags.
<span class="line-modified">124         HtmlTree dl = new HtmlTree(TagName.DL);</span>
125         html.add(dl);
126         // Test for empty nested tags.
<span class="line-modified">127         HtmlTree dlTree = new HtmlTree(TagName.DL);</span>
<span class="line-modified">128         dlTree.add(new HtmlTree(TagName.DT));</span>
<span class="line-modified">129         dlTree.add(new HtmlTree (TagName.DD));</span>
130         html.add(dlTree);
<span class="line-modified">131         HtmlTree dlDisplay = new HtmlTree(TagName.DL);</span>
<span class="line-modified">132         dlDisplay.add(new HtmlTree(TagName.DT));</span>
<span class="line-modified">133         HtmlTree dd = new HtmlTree (TagName.DD);</span>
134         StringContent ddContent = new StringContent(&quot;Test DD&quot;);
135         dd.add(ddContent);
136         dlDisplay.add(dd);
137         body.add(dlDisplay);
138         StringContent emptyString = new StringContent(&quot;&quot;);
139         body.add(emptyString);
140         Comment emptyComment = new Comment(&quot;&quot;);
141         body.add(emptyComment);
<span class="line-modified">142         HtmlTree hr = new HtmlTree(TagName.HR);</span>
143         body.add(hr);
144         html.add(body);
145         HtmlDocument htmlDoc = new HtmlDocument(html);
146         return htmlDoc.toString();
147     }
148 }
</pre>
</td>
</tr>
</table>
<center><a href="../testHtmlDefinitionListTag/TestHtmlDefinitionListTag.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../testHtmlLandmarkRegions/TestHtmlLandmarkRegions.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>