<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff doc/testing.html</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center><a href="building.md.udiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="testing.md.udiff.html" target="_top">next &gt;</a></center>    <h2>doc/testing.html</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -125,10 +125,13 @@</span>
  &lt;h4 id=&quot;jcov&quot;&gt;JCOV&lt;/h4&gt;
  &lt;p&gt;This keywords applies globally to the test runner system. If set to &lt;code&gt;true&lt;/code&gt;, it enables JCov coverage reporting for all tests run. To be useful, the JDK under test must be run with a JDK built with JCov instrumentation (&lt;code&gt;configure --with-jcov=&amp;lt;path to directory containing lib/jcov.jar&amp;gt;&lt;/code&gt;, &lt;code&gt;make jcov-image&lt;/code&gt;).&lt;/p&gt;
  &lt;p&gt;The simplest way to run tests with JCov coverage report is to use the special target &lt;code&gt;jcov-test&lt;/code&gt; instead of &lt;code&gt;test&lt;/code&gt;, e.g. &lt;code&gt;make jcov-test TEST=jdk_lang&lt;/code&gt;. This will make sure the JCov image is built, and that JCov reporting is enabled.&lt;/p&gt;
  &lt;p&gt;The JCov report is stored in &lt;code&gt;build/$BUILD/test-results/jcov-output&lt;/code&gt;.&lt;/p&gt;
  &lt;p&gt;Please note that running with JCov reporting can be very memory intensive.&lt;/p&gt;
<span class="udiff-line-added">+ &lt;h4 id=&quot;jcov_diff_changeset&quot;&gt;JCOV_DIFF_CHANGESET&lt;/h4&gt;</span>
<span class="udiff-line-added">+ &lt;p&gt;While collecting code coverage with JCov, it is also possible to find coverage for only recently changed code. JCOV_DIFF_CHANGESET specifies a source revision. A textual report will be generated showing coverage of the diff between the specified revision and the repository tip.&lt;/p&gt;</span>
<span class="udiff-line-added">+ &lt;p&gt;The report is stored in &lt;code&gt;build/$BUILD/test-results/jcov-output/diff_coverage_report&lt;/code&gt; file.&lt;/p&gt;</span>
  &lt;h3 id=&quot;jtreg-keywords&quot;&gt;JTReg keywords&lt;/h3&gt;
  &lt;h4 id=&quot;jobs-1&quot;&gt;JOBS&lt;/h4&gt;
  &lt;p&gt;The test concurrency (&lt;code&gt;-concurrency&lt;/code&gt;).&lt;/p&gt;
  &lt;p&gt;Defaults to TEST_JOBS (if set by &lt;code&gt;--with-test-jobs=&lt;/code&gt;), otherwise it defaults to JOBS, except for Hotspot, where the default is &lt;em&gt;number of CPU cores/2&lt;/em&gt; (for sparc, if more than 16 cpus, then &lt;em&gt;number of CPU cores/5&lt;/em&gt;, otherwise &lt;em&gt;number of CPU cores/4&lt;/em&gt;), but never more than &lt;em&gt;memory size in GB/2&lt;/em&gt;.&lt;/p&gt;
  &lt;h4 id=&quot;timeout_factor-1&quot;&gt;TIMEOUT_FACTOR&lt;/h4&gt;
</pre>
<center><a href="building.md.udiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="testing.md.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>