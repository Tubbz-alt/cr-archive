<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/autoconf/source-dirs.m4</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="platform.m4.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="spec.gmk.in.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/autoconf/source-dirs.m4</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
29   AC_SUBST(OUTPUTDIR)
30   JDK_OUTPUTDIR=&quot;$OUTPUTDIR/jdk&quot;
31 
32   # Where are the sources.
33   AC_SUBST(TOPDIR)
34 ])
35 
36 ################################################################################
37 # Define a mechanism for importing extra prebuilt modules
38 #
39 
40 AC_DEFUN_ONCE([SRCDIRS_SETUP_IMPORT_MODULES],
41 [
42   AC_ARG_WITH(import-modules, [AS_HELP_STRING([--with-import-modules],
43       [import a set of prebuilt modules either as a zip file or an exploded directory])])
44 
45   if test &quot;x$with_import_modules&quot; != x \
46       &amp;&amp; test &quot;x$with_import_modules&quot; != &quot;xno&quot;; then
47     if test -d &quot;$with_import_modules&quot;; then
48       IMPORT_MODULES_TOPDIR=&quot;$with_import_modules&quot;
<span class="line-modified">49       BASIC_FIXUP_PATH([IMPORT_MODULES_TOPDIR])</span>
50     elif test -e &quot;$with_import_modules&quot;; then
51       IMPORT_MODULES_TOPDIR=&quot;$CONFIGURESUPPORT_OUTPUTDIR/import-modules&quot;
52       $RM -rf &quot;$IMPORT_MODULES_TOPDIR&quot;
53       $MKDIR -p &quot;$IMPORT_MODULES_TOPDIR&quot;
54       if ! $UNZIP -q &quot;$with_import_modules&quot; -d &quot;$IMPORT_MODULES_TOPDIR&quot;; then
55         AC_MSG_ERROR([--with-import-modules=&quot;$with_import_modules&quot; must point to a dir or a zip file])
56       fi
57     else
58       AC_MSG_ERROR([--with-import-modules=&quot;$with_import_modules&quot; must point to a dir or a zip file])
59     fi
60   fi
61 
62   if test -d &quot;$IMPORT_MODULES_TOPDIR/modules&quot;; then
63     IMPORT_MODULES_CLASSES=&quot;$IMPORT_MODULES_TOPDIR/modules&quot;
64   fi
65   if test -d &quot;$IMPORT_MODULES_TOPDIR/modules_cmds&quot;; then
66     IMPORT_MODULES_CMDS=&quot;$IMPORT_MODULES_TOPDIR/modules_cmds&quot;
67   fi
68   if test -d &quot;$IMPORT_MODULES_TOPDIR/modules_libs&quot;; then
69     IMPORT_MODULES_LIBS=&quot;$IMPORT_MODULES_TOPDIR/modules_libs&quot;
</pre>
</td>
<td>
<hr />
<pre>
29   AC_SUBST(OUTPUTDIR)
30   JDK_OUTPUTDIR=&quot;$OUTPUTDIR/jdk&quot;
31 
32   # Where are the sources.
33   AC_SUBST(TOPDIR)
34 ])
35 
36 ################################################################################
37 # Define a mechanism for importing extra prebuilt modules
38 #
39 
40 AC_DEFUN_ONCE([SRCDIRS_SETUP_IMPORT_MODULES],
41 [
42   AC_ARG_WITH(import-modules, [AS_HELP_STRING([--with-import-modules],
43       [import a set of prebuilt modules either as a zip file or an exploded directory])])
44 
45   if test &quot;x$with_import_modules&quot; != x \
46       &amp;&amp; test &quot;x$with_import_modules&quot; != &quot;xno&quot;; then
47     if test -d &quot;$with_import_modules&quot;; then
48       IMPORT_MODULES_TOPDIR=&quot;$with_import_modules&quot;
<span class="line-modified">49       UTIL_FIXUP_PATH([IMPORT_MODULES_TOPDIR])</span>
50     elif test -e &quot;$with_import_modules&quot;; then
51       IMPORT_MODULES_TOPDIR=&quot;$CONFIGURESUPPORT_OUTPUTDIR/import-modules&quot;
52       $RM -rf &quot;$IMPORT_MODULES_TOPDIR&quot;
53       $MKDIR -p &quot;$IMPORT_MODULES_TOPDIR&quot;
54       if ! $UNZIP -q &quot;$with_import_modules&quot; -d &quot;$IMPORT_MODULES_TOPDIR&quot;; then
55         AC_MSG_ERROR([--with-import-modules=&quot;$with_import_modules&quot; must point to a dir or a zip file])
56       fi
57     else
58       AC_MSG_ERROR([--with-import-modules=&quot;$with_import_modules&quot; must point to a dir or a zip file])
59     fi
60   fi
61 
62   if test -d &quot;$IMPORT_MODULES_TOPDIR/modules&quot;; then
63     IMPORT_MODULES_CLASSES=&quot;$IMPORT_MODULES_TOPDIR/modules&quot;
64   fi
65   if test -d &quot;$IMPORT_MODULES_TOPDIR/modules_cmds&quot;; then
66     IMPORT_MODULES_CMDS=&quot;$IMPORT_MODULES_TOPDIR/modules_cmds&quot;
67   fi
68   if test -d &quot;$IMPORT_MODULES_TOPDIR/modules_libs&quot;; then
69     IMPORT_MODULES_LIBS=&quot;$IMPORT_MODULES_TOPDIR/modules_libs&quot;
</pre>
</td>
</tr>
</table>
<center><a href="platform.m4.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="spec.gmk.in.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>