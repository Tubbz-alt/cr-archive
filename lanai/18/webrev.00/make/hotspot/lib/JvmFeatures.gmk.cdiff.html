<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff make/hotspot/lib/JvmFeatures.gmk</title>
    <link rel="stylesheet" href="../../../style.css" />
  </head>
<body>
<center><a href="../ide/CreateVSProject.gmk.cdiff.html" target="_top">&lt; prev</a> <a href="../../../index.html" target="_top">index</a> <a href="../src/native/dtrace/generateJvmOffsets.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>make/hotspot/lib/JvmFeatures.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 184,97 ***</span>
    JVM_OPTIMIZATION :=
    JVM_CFLAGS_FEATURES += -O3 -flto
    JVM_LDFLAGS_FEATURES += -O3 -flto -fuse-linker-plugin -fno-strict-aliasing
  endif
  
<span class="line-modified">! ifeq ($(call check-jvm-feature, minimal), true)</span>
<span class="line-modified">!   ifeq ($(call check-jvm-feature, link-time-opt), false)</span>
<span class="line-modified">!     JVM_OPTIMIZATION := SIZE</span>
<span class="line-modified">!     OPT_SPEED_SRC := \</span>
<span class="line-modified">!         allocation.cpp \</span>
<span class="line-modified">!         assembler.cpp \</span>
<span class="line-modified">!         barrierSet.cpp \</span>
<span class="line-modified">!         basicLock.cpp \</span>
<span class="line-modified">!         biasedLocking.cpp \</span>
<span class="line-modified">!         bytecode.cpp \</span>
<span class="line-modified">!         bytecodeInterpreter.cpp \</span>
<span class="line-modified">!         c1_Compilation.cpp \</span>
<span class="line-modified">!         c1_Compiler.cpp \</span>
<span class="line-modified">!         c1_GraphBuilder.cpp \</span>
<span class="line-modified">!         c1_LinearScan.cpp \</span>
<span class="line-modified">!         c1_LIR.cpp \</span>
<span class="line-modified">!         ciEnv.cpp \</span>
<span class="line-modified">!         ciObjectFactory.cpp \</span>
<span class="line-modified">!         codeBlob.cpp \</span>
<span class="line-modified">!         constantPool.cpp \</span>
<span class="line-modified">!         constMethod.cpp \</span>
<span class="line-modified">!         classLoader.cpp \</span>
<span class="line-modified">!         classLoaderData.cpp \</span>
<span class="line-modified">!         classFileParser.cpp \</span>
<span class="line-modified">!         classFileStream.cpp \</span>
<span class="line-modified">!         cpCache.cpp \</span>
<span class="line-modified">!         defNewGeneration.cpp \</span>
<span class="line-modified">!         frame_arm.cpp \</span>
<span class="line-modified">!         frame_aarch64.cpp \</span>
<span class="line-modified">!         frame_ppc.cpp \</span>
<span class="line-modified">!         frame_s390.cpp \</span>
<span class="line-modified">!         frame_x86.cpp \</span>
<span class="line-modified">!         genCollectedHeap.cpp \</span>
<span class="line-modified">!         generation.cpp \</span>
<span class="line-modified">!         genMarkSweep.cpp \</span>
<span class="line-modified">!         growableArray.cpp \</span>
<span class="line-modified">!         handles.cpp \</span>
<span class="line-modified">!         hashtable.cpp \</span>
<span class="line-modified">!         heap.cpp \</span>
<span class="line-modified">!         icache.cpp \</span>
<span class="line-modified">!         icache_arm.cpp \</span>
<span class="line-modified">!         icache_aarch64.cpp \</span>
<span class="line-modified">!         icache_ppc.cpp \</span>
<span class="line-modified">!         icache_s390.cpp \</span>
<span class="line-modified">!         icache_x86.cpp \</span>
<span class="line-modified">!         instanceKlass.cpp \</span>
<span class="line-modified">!         invocationCounter.cpp \</span>
<span class="line-modified">!         iterator.cpp \</span>
<span class="line-modified">!         javaCalls.cpp \</span>
<span class="line-modified">!         javaClasses.cpp \</span>
<span class="line-modified">!         jniFastGetField_arm.cpp \</span>
<span class="line-modified">!         jvm.cpp \</span>
<span class="line-modified">!         linkResolver.cpp \</span>
<span class="line-modified">!         klass.cpp \</span>
<span class="line-modified">!         klassVtable.cpp \</span>
<span class="line-modified">!         markSweep.cpp \</span>
<span class="line-modified">!         memRegion.cpp \</span>
<span class="line-modified">!         memoryPool.cpp \</span>
<span class="line-modified">!         method.cpp \</span>
<span class="line-modified">!         methodHandles.cpp \</span>
<span class="line-modified">!         methodHandles_arm.cpp \</span>
<span class="line-modified">!         methodLiveness.cpp \</span>
<span class="line-modified">!         metaspace.cpp \</span>
<span class="line-modified">!         mutex.cpp \</span>
<span class="line-modified">!         mutexLocker.cpp \</span>
<span class="line-modified">!         nativeLookup.cpp \</span>
<span class="line-modified">!         objArrayKlass.cpp \</span>
<span class="line-modified">!         os_linux.cpp \</span>
<span class="line-modified">!         os_linux_arm.cpp \</span>
<span class="line-modified">!         resourceArea.cpp \</span>
<span class="line-modified">!         rewriter.cpp \</span>
<span class="line-modified">!         sharedRuntime.cpp \</span>
<span class="line-modified">!         signature.cpp \</span>
<span class="line-modified">!         space.cpp \</span>
<span class="line-modified">!         stackMapTable.cpp \</span>
<span class="line-modified">!         symbolTable.cpp \</span>
<span class="line-modified">!         systemDictionary.cpp \</span>
<span class="line-modified">!         symbol.cpp \</span>
<span class="line-modified">!         synchronizer.cpp \</span>
<span class="line-modified">!         timer.cpp \</span>
<span class="line-modified">!         typeArrayKlass.cpp \</span>
<span class="line-modified">!         unsafe.cpp \</span>
<span class="line-modified">!         utf8.cpp \</span>
<span class="line-modified">!         vmSymbols.cpp \</span>
<span class="line-removed">-         #</span>
  
<span class="line-modified">!     $(foreach s, $(OPT_SPEED_SRC), \</span>
<span class="line-modified">!         $(eval BUILD_LIBJVM_$s_OPTIMIZATION := HIGHEST_JVM))</span>
  
      BUILD_LIBJVM_systemDictionary.cpp_CXXFLAGS := -fno-optimize-sibling-calls
    endif
  endif
<span class="line-new-header">--- 184,97 ---</span>
    JVM_OPTIMIZATION :=
    JVM_CFLAGS_FEATURES += -O3 -flto
    JVM_LDFLAGS_FEATURES += -O3 -flto -fuse-linker-plugin -fno-strict-aliasing
  endif
  
<span class="line-modified">! ifeq ($(call check-jvm-feature, opt-size), true)</span>
<span class="line-modified">!   JVM_OPTIMIZATION := SIZE</span>
<span class="line-modified">!   OPT_SPEED_SRC := \</span>
<span class="line-modified">!       allocation.cpp \</span>
<span class="line-modified">!       assembler.cpp \</span>
<span class="line-modified">!       barrierSet.cpp \</span>
<span class="line-modified">!       basicLock.cpp \</span>
<span class="line-modified">!       biasedLocking.cpp \</span>
<span class="line-modified">!       bytecode.cpp \</span>
<span class="line-modified">!       bytecodeInterpreter.cpp \</span>
<span class="line-modified">!       c1_Compilation.cpp \</span>
<span class="line-modified">!       c1_Compiler.cpp \</span>
<span class="line-modified">!       c1_GraphBuilder.cpp \</span>
<span class="line-modified">!       c1_LinearScan.cpp \</span>
<span class="line-modified">!       c1_LIR.cpp \</span>
<span class="line-modified">!       ciEnv.cpp \</span>
<span class="line-modified">!       ciObjectFactory.cpp \</span>
<span class="line-modified">!       codeBlob.cpp \</span>
<span class="line-modified">!       constantPool.cpp \</span>
<span class="line-modified">!       constMethod.cpp \</span>
<span class="line-modified">!       classLoader.cpp \</span>
<span class="line-modified">!       classLoaderData.cpp \</span>
<span class="line-modified">!       classFileParser.cpp \</span>
<span class="line-modified">!       classFileStream.cpp \</span>
<span class="line-modified">!       cpCache.cpp \</span>
<span class="line-modified">!       defNewGeneration.cpp \</span>
<span class="line-modified">!       frame_arm.cpp \</span>
<span class="line-modified">!       frame_aarch64.cpp \</span>
<span class="line-modified">!       frame_ppc.cpp \</span>
<span class="line-modified">!       frame_s390.cpp \</span>
<span class="line-modified">!       frame_x86.cpp \</span>
<span class="line-modified">!       genCollectedHeap.cpp \</span>
<span class="line-modified">!       generation.cpp \</span>
<span class="line-modified">!       genMarkSweep.cpp \</span>
<span class="line-modified">!       growableArray.cpp \</span>
<span class="line-modified">!       handles.cpp \</span>
<span class="line-modified">!       hashtable.cpp \</span>
<span class="line-modified">!       heap.cpp \</span>
<span class="line-modified">!       icache.cpp \</span>
<span class="line-modified">!       icache_arm.cpp \</span>
<span class="line-modified">!       icache_aarch64.cpp \</span>
<span class="line-modified">!       icache_ppc.cpp \</span>
<span class="line-modified">!       icache_s390.cpp \</span>
<span class="line-modified">!       icache_x86.cpp \</span>
<span class="line-modified">!       instanceKlass.cpp \</span>
<span class="line-modified">!       invocationCounter.cpp \</span>
<span class="line-modified">!       iterator.cpp \</span>
<span class="line-modified">!       javaCalls.cpp \</span>
<span class="line-modified">!       javaClasses.cpp \</span>
<span class="line-modified">!       jniFastGetField_arm.cpp \</span>
<span class="line-modified">!       jvm.cpp \</span>
<span class="line-modified">!       linkResolver.cpp \</span>
<span class="line-modified">!       klass.cpp \</span>
<span class="line-modified">!       klassVtable.cpp \</span>
<span class="line-modified">!       markSweep.cpp \</span>
<span class="line-modified">!       memRegion.cpp \</span>
<span class="line-modified">!       memoryPool.cpp \</span>
<span class="line-modified">!       method.cpp \</span>
<span class="line-modified">!       methodHandles.cpp \</span>
<span class="line-modified">!       methodHandles_arm.cpp \</span>
<span class="line-modified">!       methodLiveness.cpp \</span>
<span class="line-modified">!       metaspace.cpp \</span>
<span class="line-modified">!       mutex.cpp \</span>
<span class="line-modified">!       mutexLocker.cpp \</span>
<span class="line-modified">!       nativeLookup.cpp \</span>
<span class="line-modified">!       objArrayKlass.cpp \</span>
<span class="line-modified">!       os_linux.cpp \</span>
<span class="line-modified">!       os_linux_arm.cpp \</span>
<span class="line-modified">!       resourceArea.cpp \</span>
<span class="line-modified">!       rewriter.cpp \</span>
<span class="line-modified">!       sharedRuntime.cpp \</span>
<span class="line-modified">!       signature.cpp \</span>
<span class="line-modified">!       space.cpp \</span>
<span class="line-modified">!       stackMapTable.cpp \</span>
<span class="line-modified">!       symbolTable.cpp \</span>
<span class="line-modified">!       systemDictionary.cpp \</span>
<span class="line-modified">!       symbol.cpp \</span>
<span class="line-modified">!       synchronizer.cpp \</span>
<span class="line-modified">!       timer.cpp \</span>
<span class="line-modified">!       typeArrayKlass.cpp \</span>
<span class="line-modified">!       unsafe.cpp \</span>
<span class="line-modified">!       utf8.cpp \</span>
<span class="line-modified">!       vmSymbols.cpp \</span>
<span class="line-modified">!       #</span>
  
<span class="line-modified">!   $(foreach s, $(OPT_SPEED_SRC), \</span>
<span class="line-modified">!       $(eval BUILD_LIBJVM_$s_OPTIMIZATION := HIGHEST_JVM))</span>
  
<span class="line-added">+   ifneq ($(filter $(TOOLCHAIN_TYPE), gcc clang), )</span>
      BUILD_LIBJVM_systemDictionary.cpp_CXXFLAGS := -fno-optimize-sibling-calls
    endif
  endif
</pre>
<center><a href="../ide/CreateVSProject.gmk.cdiff.html" target="_top">&lt; prev</a> <a href="../../../index.html" target="_top">index</a> <a href="../src/native/dtrace/generateJvmOffsets.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>