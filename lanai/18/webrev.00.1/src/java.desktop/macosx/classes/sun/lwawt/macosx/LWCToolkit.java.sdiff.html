<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/macosx/classes/sun/lwawt/macosx/LWCToolkit.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../java2d/opengl/CGLGraphicsConfig.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>src/java.desktop/macosx/classes/sun/lwawt/macosx/LWCToolkit.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  91 import java.security.PrivilegedAction;
  92 import java.util.HashMap;
  93 import java.util.Locale;
  94 import java.util.Map;
  95 import java.util.MissingResourceException;
  96 import java.util.Objects;
  97 import java.util.ResourceBundle;
  98 import java.util.concurrent.Callable;
  99 
 100 import javax.swing.UIManager;
 101 
 102 import com.apple.laf.AquaMenuBarUI;
 103 import sun.awt.AWTAccessor;
 104 import sun.awt.AppContext;
 105 import sun.awt.CGraphicsDevice;
 106 import sun.awt.LightweightFrame;
 107 import sun.awt.PlatformGraphicsInfo;
 108 import sun.awt.SunToolkit;
 109 import sun.awt.datatransfer.DataTransferer;
 110 import sun.awt.util.ThreadGroupUtils;


 111 import sun.java2d.opengl.OGLRenderQueue;
 112 import sun.lwawt.LWComponentPeer;
 113 import sun.lwawt.LWCursorManager;
 114 import sun.lwawt.LWToolkit;
 115 import sun.lwawt.LWWindowPeer;
 116 import sun.lwawt.LWWindowPeer.PeerType;
 117 import sun.lwawt.PlatformComponent;
 118 import sun.lwawt.PlatformDropTarget;
 119 import sun.lwawt.PlatformWindow;
 120 import sun.lwawt.SecurityWarningWindow;
 121 
 122 @SuppressWarnings(&quot;serial&quot;) // JDK implementation class
 123 final class NamedCursor extends Cursor {
 124     NamedCursor(String name) {
 125         super(name);
 126     }
 127 }
 128 
 129 /**
 130  * Mac OS X Cocoa-based AWT Toolkit.
</pre>
<hr />
<pre>
 471 
 472     @Override
 473     public int getScreenResolution() throws HeadlessException {
 474         return (int) ((CGraphicsDevice) GraphicsEnvironment
 475                 .getLocalGraphicsEnvironment().getDefaultScreenDevice())
 476                 .getXResolution();
 477     }
 478 
 479     @Override
 480     public Insets getScreenInsets(final GraphicsConfiguration gc) {
 481         GraphicsDevice gd = gc.getDevice();
 482         if (!(gd instanceof CGraphicsDevice)) {
 483             return super.getScreenInsets(gc);
 484         }
 485         return ((CGraphicsDevice)gd).getScreenInsets();
 486     }
 487 
 488     @Override
 489     public void sync() {
 490         // flush the OGL pipeline (this is a no-op if OGL is not enabled)
<span class="line-modified"> 491         OGLRenderQueue.sync();</span>




 492         // setNeedsDisplay() selector was sent to the appropriate CALayer so now
 493         // we have to flush the native selectors queue.
 494         flushNativeSelectors();
 495     }
 496 
 497     @Override
 498     public RobotPeer createRobot(GraphicsDevice screen) throws AWTException {
 499         if (screen instanceof CGraphicsDevice) {
 500             return new CRobot((CGraphicsDevice) screen);
 501         }
 502         return super.createRobot(screen);
 503     }
 504 
 505     private native boolean isCapsLockOn();
 506 
 507     /*
 508      * NOTE: Among the keys this method is supposed to check,
 509      * only Caps Lock works as a true locking key with OS X.
 510      * There is no Scroll Lock key on modern Apple keyboards,
 511      * and with a PC keyboard plugged in Scroll Lock is simply
</pre>
</td>
<td>
<hr />
<pre>
  91 import java.security.PrivilegedAction;
  92 import java.util.HashMap;
  93 import java.util.Locale;
  94 import java.util.Map;
  95 import java.util.MissingResourceException;
  96 import java.util.Objects;
  97 import java.util.ResourceBundle;
  98 import java.util.concurrent.Callable;
  99 
 100 import javax.swing.UIManager;
 101 
 102 import com.apple.laf.AquaMenuBarUI;
 103 import sun.awt.AWTAccessor;
 104 import sun.awt.AppContext;
 105 import sun.awt.CGraphicsDevice;
 106 import sun.awt.LightweightFrame;
 107 import sun.awt.PlatformGraphicsInfo;
 108 import sun.awt.SunToolkit;
 109 import sun.awt.datatransfer.DataTransferer;
 110 import sun.awt.util.ThreadGroupUtils;
<span class="line-added"> 111 import sun.java2d.macos.MacOSFlags;</span>
<span class="line-added"> 112 import sun.java2d.metal.MTLRenderQueue;</span>
 113 import sun.java2d.opengl.OGLRenderQueue;
 114 import sun.lwawt.LWComponentPeer;
 115 import sun.lwawt.LWCursorManager;
 116 import sun.lwawt.LWToolkit;
 117 import sun.lwawt.LWWindowPeer;
 118 import sun.lwawt.LWWindowPeer.PeerType;
 119 import sun.lwawt.PlatformComponent;
 120 import sun.lwawt.PlatformDropTarget;
 121 import sun.lwawt.PlatformWindow;
 122 import sun.lwawt.SecurityWarningWindow;
 123 
 124 @SuppressWarnings(&quot;serial&quot;) // JDK implementation class
 125 final class NamedCursor extends Cursor {
 126     NamedCursor(String name) {
 127         super(name);
 128     }
 129 }
 130 
 131 /**
 132  * Mac OS X Cocoa-based AWT Toolkit.
</pre>
<hr />
<pre>
 473 
 474     @Override
 475     public int getScreenResolution() throws HeadlessException {
 476         return (int) ((CGraphicsDevice) GraphicsEnvironment
 477                 .getLocalGraphicsEnvironment().getDefaultScreenDevice())
 478                 .getXResolution();
 479     }
 480 
 481     @Override
 482     public Insets getScreenInsets(final GraphicsConfiguration gc) {
 483         GraphicsDevice gd = gc.getDevice();
 484         if (!(gd instanceof CGraphicsDevice)) {
 485             return super.getScreenInsets(gc);
 486         }
 487         return ((CGraphicsDevice)gd).getScreenInsets();
 488     }
 489 
 490     @Override
 491     public void sync() {
 492         // flush the OGL pipeline (this is a no-op if OGL is not enabled)
<span class="line-modified"> 493         if (MacOSFlags.isMetalEnabled()) {</span>
<span class="line-added"> 494             MTLRenderQueue.sync();</span>
<span class="line-added"> 495         } else {</span>
<span class="line-added"> 496             OGLRenderQueue.sync();</span>
<span class="line-added"> 497         }</span>
 498         // setNeedsDisplay() selector was sent to the appropriate CALayer so now
 499         // we have to flush the native selectors queue.
 500         flushNativeSelectors();
 501     }
 502 
 503     @Override
 504     public RobotPeer createRobot(GraphicsDevice screen) throws AWTException {
 505         if (screen instanceof CGraphicsDevice) {
 506             return new CRobot((CGraphicsDevice) screen);
 507         }
 508         return super.createRobot(screen);
 509     }
 510 
 511     private native boolean isCapsLockOn();
 512 
 513     /*
 514      * NOTE: Among the keys this method is supposed to check,
 515      * only Caps Lock works as a true locking key with OS X.
 516      * There is no Scroll Lock key on modern Apple keyboards,
 517      * and with a PC keyboard plugged in Scroll Lock is simply
</pre>
</td>
</tr>
</table>
<center><a href="../../java2d/opengl/CGLGraphicsConfig.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>