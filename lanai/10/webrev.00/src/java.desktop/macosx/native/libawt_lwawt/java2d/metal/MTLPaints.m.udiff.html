<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/java.desktop/macosx/native/libawt_lwawt/java2d/metal/MTLPaints.m</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../awt/shaders.metal.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>src/java.desktop/macosx/native/libawt_lwawt/java2d/metal/MTLPaints.m</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -316,10 +316,25 @@</span>
          struct TxtFrameUniforms uf = {RGBA_TO_V4(0), 0, srcFlags-&gt;isOpaque,
                                        dstFlags-&gt;isOpaque};
          [encoder setFragmentBytes:&amp;uf length:sizeof(uf)
                            atIndex:FrameUniformBuffer];
  
<span class="udiff-line-added">+       } else if (_paintState == sun_java2d_SunGraphics2D_PAINT_GRADIENT) {</span>
<span class="udiff-line-added">+         pipelineState = [pipelineStateStorage getPipelineState:templateTexturePipelineDesc</span>
<span class="udiff-line-added">+                                                 vertexShaderId:@&quot;vert_txt_grad&quot;</span>
<span class="udiff-line-added">+                                               fragmentShaderId:@&quot;frag_txt_grad&quot;</span>
<span class="udiff-line-added">+                                                  compositeRule:[composite getRule]</span>
<span class="udiff-line-added">+                                                           isAA:JNI_FALSE</span>
<span class="udiff-line-added">+                                                       srcFlags:srcFlags</span>
<span class="udiff-line-added">+                                                       dstFlags:dstFlags</span>
<span class="udiff-line-added">+                                                  stencilNeeded:stencil];</span>
<span class="udiff-line-added">+         struct GradFrameUniforms uf = {</span>
<span class="udiff-line-added">+             {_p0, _p1, _p3},</span>
<span class="udiff-line-added">+             RGBA_TO_V4(_pixel1),</span>
<span class="udiff-line-added">+             RGBA_TO_V4(_pixel2)};</span>
<span class="udiff-line-added">+         [encoder setFragmentBytes: &amp;uf length:sizeof(uf) atIndex:0];</span>
<span class="udiff-line-added">+ </span>
        } else {
          if (isAA) {
            pipelineState = [pipelineStateStorage
                getPipelineState:templateAATexturePipelineDesc
                  vertexShaderId:@&quot;vert_txt&quot;
</pre>
<center><a href="../../awt/shaders.metal.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>