<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.desktop/macosx/classes/sun/java2d/metal/MTLBlitLoops.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>src/java.desktop/macosx/classes/sun/java2d/metal/MTLBlitLoops.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 83,22 ***</span>
                          MTLSurfaceData.PF_INT_RGBX),
                  new MTLSwToSurfaceBlit(SurfaceType.IntBgr,
                          MTLSurfaceData.PF_INT_BGR),
                  new MTLSwToSurfaceBlit(SurfaceType.IntBgrx,
                          MTLSurfaceData.PF_INT_BGRX),
<span class="line-modified">!                 new MTLSwToSurfaceBlit(SurfaceType.ThreeByteBgr,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_3BYTE_BGR),</span>
<span class="line-modified">!                 new MTLSwToSurfaceBlit(SurfaceType.Ushort565Rgb,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_USHORT_565_RGB),</span>
<span class="line-modified">!                 new MTLSwToSurfaceBlit(SurfaceType.Ushort555Rgb,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_USHORT_555_RGB),</span>
<span class="line-modified">!                 new MTLSwToSurfaceBlit(SurfaceType.Ushort555Rgbx,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_USHORT_555_RGBX),</span>
<span class="line-modified">!                 new MTLSwToSurfaceBlit(SurfaceType.ByteGray,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_BYTE_GRAY),</span>
<span class="line-modified">!                 new MTLSwToSurfaceBlit(SurfaceType.UshortGray,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_USHORT_GRAY),</span>
                  new MTLGeneralBlit(MTLSurfaceData.MTLSurface,
                          CompositeType.AnyAlpha,
                          blitIntArgbPreToSurface),
  
                  new MTLAnyCompositeBlit(MTLSurfaceData.MTLSurface,
<span class="line-new-header">--- 83,25 ---</span>
                          MTLSurfaceData.PF_INT_RGBX),
                  new MTLSwToSurfaceBlit(SurfaceType.IntBgr,
                          MTLSurfaceData.PF_INT_BGR),
                  new MTLSwToSurfaceBlit(SurfaceType.IntBgrx,
                          MTLSurfaceData.PF_INT_BGRX),
<span class="line-modified">! // TODO: Provide native implementation</span>
<span class="line-modified">! // It may not be effective/possible. For example, there is no direct</span>
<span class="line-modified">! // support in Metal for SurfaceType.ThreeByteBgr</span>
<span class="line-modified">! //                new MTLSwToSurfaceBlit(SurfaceType.ThreeByteBgr,</span>
<span class="line-modified">! //                        MTLSurfaceData.PF_3BYTE_BGR),</span>
<span class="line-modified">! //                new MTLSwToSurfaceBlit(SurfaceType.Ushort565Rgb,</span>
<span class="line-modified">! //                        MTLSurfaceData.PF_USHORT_565_RGB),</span>
<span class="line-modified">! //                new MTLSwToSurfaceBlit(SurfaceType.Ushort555Rgb,</span>
<span class="line-modified">! //                        MTLSurfaceData.PF_USHORT_555_RGB),</span>
<span class="line-modified">! //                new MTLSwToSurfaceBlit(SurfaceType.Ushort555Rgbx,</span>
<span class="line-modified">! //                        MTLSurfaceData.PF_USHORT_555_RGBX),</span>
<span class="line-modified">! //                 new MTLSwToSurfaceBlit(SurfaceType.ByteGray,</span>
<span class="line-added">+ //                         MTLSurfaceData.PF_BYTE_GRAY),</span>
<span class="line-added">+ //                 new MTLSwToSurfaceBlit(SurfaceType.UshortGray,</span>
<span class="line-added">+ //                         MTLSurfaceData.PF_USHORT_GRAY),</span>
                  new MTLGeneralBlit(MTLSurfaceData.MTLSurface,
                          CompositeType.AnyAlpha,
                          blitIntArgbPreToSurface),
  
                  new MTLAnyCompositeBlit(MTLSurfaceData.MTLSurface,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 116,22 ***</span>
                          MTLSurfaceData.PF_INT_RGBX),
                  new MTLSwToSurfaceScale(SurfaceType.IntBgr,
                          MTLSurfaceData.PF_INT_BGR),
                  new MTLSwToSurfaceScale(SurfaceType.IntBgrx,
                          MTLSurfaceData.PF_INT_BGRX),
<span class="line-modified">!                 new MTLSwToSurfaceScale(SurfaceType.ThreeByteBgr,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_3BYTE_BGR),</span>
<span class="line-modified">!                 new MTLSwToSurfaceScale(SurfaceType.Ushort565Rgb,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_USHORT_565_RGB),</span>
<span class="line-modified">!                 new MTLSwToSurfaceScale(SurfaceType.Ushort555Rgb,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_USHORT_555_RGB),</span>
<span class="line-modified">!                 new MTLSwToSurfaceScale(SurfaceType.Ushort555Rgbx,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_USHORT_555_RGBX),</span>
<span class="line-modified">!                 new MTLSwToSurfaceScale(SurfaceType.ByteGray,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_BYTE_GRAY),</span>
<span class="line-modified">!                 new MTLSwToSurfaceScale(SurfaceType.UshortGray,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_USHORT_GRAY),</span>
                  new MTLSwToSurfaceScale(SurfaceType.IntArgbPre,
                          MTLSurfaceData.PF_INT_ARGB_PRE),
  
                  new MTLSwToSurfaceTransform(SurfaceType.IntRgb,
                          MTLSurfaceData.PF_INT_RGB),
<span class="line-new-header">--- 119,23 ---</span>
                          MTLSurfaceData.PF_INT_RGBX),
                  new MTLSwToSurfaceScale(SurfaceType.IntBgr,
                          MTLSurfaceData.PF_INT_BGR),
                  new MTLSwToSurfaceScale(SurfaceType.IntBgrx,
                          MTLSurfaceData.PF_INT_BGRX),
<span class="line-modified">! // TODO: Provide native implementation</span>
<span class="line-modified">! //                new MTLSwToSurfaceScale(SurfaceType.ThreeByteBgr,</span>
<span class="line-modified">! //                        MTLSurfaceData.PF_3BYTE_BGR),</span>
<span class="line-modified">! //                new MTLSwToSurfaceScale(SurfaceType.Ushort565Rgb,</span>
<span class="line-modified">! //                        MTLSurfaceData.PF_USHORT_565_RGB),</span>
<span class="line-modified">! //                new MTLSwToSurfaceScale(SurfaceType.Ushort555Rgb,</span>
<span class="line-modified">! //                        MTLSurfaceData.PF_USHORT_555_RGB),</span>
<span class="line-modified">! //                new MTLSwToSurfaceScale(SurfaceType.Ushort555Rgbx,</span>
<span class="line-modified">! //                        MTLSurfaceData.PF_USHORT_555_RGBX),</span>
<span class="line-modified">! //                 new MTLSwToSurfaceScale(SurfaceType.ByteGray,</span>
<span class="line-modified">! //                         MTLSurfaceData.PF_BYTE_GRAY),</span>
<span class="line-modified">! //                 new MTLSwToSurfaceScale(SurfaceType.UshortGray,</span>
<span class="line-added">+ //                         MTLSurfaceData.PF_USHORT_GRAY),</span>
                  new MTLSwToSurfaceScale(SurfaceType.IntArgbPre,
                          MTLSurfaceData.PF_INT_ARGB_PRE),
  
                  new MTLSwToSurfaceTransform(SurfaceType.IntRgb,
                          MTLSurfaceData.PF_INT_RGB),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 139,22 ***</span>
                          MTLSurfaceData.PF_INT_RGBX),
                  new MTLSwToSurfaceTransform(SurfaceType.IntBgr,
                          MTLSurfaceData.PF_INT_BGR),
                  new MTLSwToSurfaceTransform(SurfaceType.IntBgrx,
                          MTLSurfaceData.PF_INT_BGRX),
<span class="line-modified">!                 new MTLSwToSurfaceTransform(SurfaceType.ThreeByteBgr,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_3BYTE_BGR),</span>
<span class="line-modified">!                 new MTLSwToSurfaceTransform(SurfaceType.Ushort565Rgb,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_USHORT_565_RGB),</span>
<span class="line-modified">!                 new MTLSwToSurfaceTransform(SurfaceType.Ushort555Rgb,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_USHORT_555_RGB),</span>
<span class="line-modified">!                 new MTLSwToSurfaceTransform(SurfaceType.Ushort555Rgbx,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_USHORT_555_RGBX),</span>
<span class="line-modified">!                 new MTLSwToSurfaceTransform(SurfaceType.ByteGray,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_BYTE_GRAY),</span>
<span class="line-modified">!                 new MTLSwToSurfaceTransform(SurfaceType.UshortGray,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_USHORT_GRAY),</span>
                  transformBlitIntArgbPreToSurface,
  
                  new MTLGeneralTransformedBlit(transformBlitIntArgbPreToSurface),
  
                  // texture-&gt;surface ops
<span class="line-new-header">--- 143,23 ---</span>
                          MTLSurfaceData.PF_INT_RGBX),
                  new MTLSwToSurfaceTransform(SurfaceType.IntBgr,
                          MTLSurfaceData.PF_INT_BGR),
                  new MTLSwToSurfaceTransform(SurfaceType.IntBgrx,
                          MTLSurfaceData.PF_INT_BGRX),
<span class="line-modified">! // TODO: Provide native implementation</span>
<span class="line-modified">! //                new MTLSwToSurfaceTransform(SurfaceType.ThreeByteBgr,</span>
<span class="line-modified">! //                        MTLSurfaceData.PF_3BYTE_BGR),</span>
<span class="line-modified">! //                new MTLSwToSurfaceTransform(SurfaceType.Ushort565Rgb,</span>
<span class="line-modified">! //                        MTLSurfaceData.PF_USHORT_565_RGB),</span>
<span class="line-modified">! //                new MTLSwToSurfaceTransform(SurfaceType.Ushort555Rgb,</span>
<span class="line-modified">! //                        MTLSurfaceData.PF_USHORT_555_RGB),</span>
<span class="line-modified">! //                new MTLSwToSurfaceTransform(SurfaceType.Ushort555Rgbx,</span>
<span class="line-modified">! //                        MTLSurfaceData.PF_USHORT_555_RGBX),</span>
<span class="line-modified">! //                 new MTLSwToSurfaceTransform(SurfaceType.ByteGray,</span>
<span class="line-modified">! //                         MTLSurfaceData.PF_BYTE_GRAY),</span>
<span class="line-modified">! //                 new MTLSwToSurfaceTransform(SurfaceType.UshortGray,</span>
<span class="line-added">+ //                         MTLSurfaceData.PF_USHORT_GRAY),</span>
                  transformBlitIntArgbPreToSurface,
  
                  new MTLGeneralTransformedBlit(transformBlitIntArgbPreToSurface),
  
                  // texture-&gt;surface ops
</pre>
<hr />
<pre>
<span class="line-old-header">*** 170,22 ***</span>
                          MTLSurfaceData.PF_INT_RGBX),
                  new MTLSwToTextureBlit(SurfaceType.IntBgr,
                          MTLSurfaceData.PF_INT_BGR),
                  new MTLSwToTextureBlit(SurfaceType.IntBgrx,
                          MTLSurfaceData.PF_INT_BGRX),
<span class="line-modified">!                 new MTLSwToTextureBlit(SurfaceType.ThreeByteBgr,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_3BYTE_BGR),</span>
<span class="line-modified">!                 new MTLSwToTextureBlit(SurfaceType.Ushort565Rgb,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_USHORT_565_RGB),</span>
<span class="line-modified">!                 new MTLSwToTextureBlit(SurfaceType.Ushort555Rgb,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_USHORT_555_RGB),</span>
<span class="line-modified">!                 new MTLSwToTextureBlit(SurfaceType.Ushort555Rgbx,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_USHORT_555_RGBX),</span>
<span class="line-modified">!                 new MTLSwToTextureBlit(SurfaceType.ByteGray,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_BYTE_GRAY),</span>
<span class="line-modified">!                 new MTLSwToTextureBlit(SurfaceType.UshortGray,</span>
<span class="line-modified">!                         MTLSurfaceData.PF_USHORT_GRAY),</span>
                  new MTLGeneralBlit(MTLSurfaceData.MTLTexture,
                          CompositeType.SrcNoEa,
                          blitIntArgbPreToTexture),
          };
          GraphicsPrimitiveMgr.register(primitives);
<span class="line-new-header">--- 175,23 ---</span>
                          MTLSurfaceData.PF_INT_RGBX),
                  new MTLSwToTextureBlit(SurfaceType.IntBgr,
                          MTLSurfaceData.PF_INT_BGR),
                  new MTLSwToTextureBlit(SurfaceType.IntBgrx,
                          MTLSurfaceData.PF_INT_BGRX),
<span class="line-modified">! // TODO: Provide native implementation</span>
<span class="line-modified">! //                new MTLSwToTextureBlit(SurfaceType.ThreeByteBgr,</span>
<span class="line-modified">! //                        MTLSurfaceData.PF_3BYTE_BGR),</span>
<span class="line-modified">! //                new MTLSwToTextureBlit(SurfaceType.Ushort565Rgb,</span>
<span class="line-modified">! //                        MTLSurfaceData.PF_USHORT_565_RGB),</span>
<span class="line-modified">! //                new MTLSwToTextureBlit(SurfaceType.Ushort555Rgb,</span>
<span class="line-modified">! //                        MTLSurfaceData.PF_USHORT_555_RGB),</span>
<span class="line-modified">! //                new MTLSwToTextureBlit(SurfaceType.Ushort555Rgbx,</span>
<span class="line-modified">! //                        MTLSurfaceData.PF_USHORT_555_RGBX),</span>
<span class="line-modified">! //                 new MTLSwToTextureBlit(SurfaceType.ByteGray,</span>
<span class="line-modified">! //                         MTLSurfaceData.PF_BYTE_GRAY),</span>
<span class="line-modified">! //                 new MTLSwToTextureBlit(SurfaceType.UshortGray,</span>
<span class="line-added">+ //                         MTLSurfaceData.PF_USHORT_GRAY),</span>
                  new MTLGeneralBlit(MTLSurfaceData.MTLTexture,
                          CompositeType.SrcNoEa,
                          blitIntArgbPreToTexture),
          };
          GraphicsPrimitiveMgr.register(primitives);
</pre>
<center>&lt; prev <a href="../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>