<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/macosx/native/libawt_lwawt/java2d/metal/MTLContext.h</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="MTLClip.m.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="MTLContext.m.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/macosx/native/libawt_lwawt/java2d/metal/MTLContext.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 53 @end
 54 
 55 /**
 56  * The MTLContext class contains cached state relevant to the native
 57  * MTL context stored within the native ctxInfo field.  Each Java-level
 58  * MTLContext object is associated with a native-level MTLContext class.
 59  * */
 60 @interface MTLContext : NSObject
 61 @property (readonly) MTLComposite * composite;
 62 @property (readonly) MTLPaint * paint;
 63 @property (readonly) MTLTransform * transform;
 64 @property (readonly) MTLClip * clip;
 65 
 66 @property jint          textureFunction;
 67 @property jboolean      vertexCacheEnabled;
 68 @property jboolean      aaEnabled;
 69 
 70 @property (readonly, strong)   id&lt;MTLDevice&gt;   device;
 71 @property (strong) id&lt;MTLLibrary&gt;              library;
 72 @property (strong) id&lt;MTLCommandQueue&gt;         commandQueue;

 73 @property (strong) id&lt;MTLBuffer&gt;               vertexBuffer;
 74 
 75 @property (readonly) EncoderManager * encoderManager;
 76 
 77 @property (strong)MTLPipelineStatesStorage*   pipelineStateStorage;
 78 @property (strong)MTLTexturePool*             texturePool;
 79 
 80 - (MTLCommandBufferWrapper *) getCommandBufferWrapper; // creates command buffer wrapper (when doesn&#39;t exist)
 81 - (MTLCommandBufferWrapper *) pullCommandBufferWrapper; // returns current buffer wrapper with loosing object ownership
 82 
 83 /**
 84  * Fetches the MTLContext associated with the given destination surface,
 85  * makes the context current for those surfaces, updates the destination
 86  * viewport, and then returns a pointer to the MTLContext.
 87  */
 88 + (MTLContext*) setSurfacesEnv:(JNIEnv*)env src:(jlong)pSrc dst:(jlong)pDst;
 89 
 90 - (id)initWithDevice:(id&lt;MTLDevice&gt;)d shadersLib:(NSString*)shadersLib;
 91 - (void)dealloc;
 92 
</pre>
<hr />
<pre>
236                 fractions:(void *)fractions
237                    pixels:(void *)pixels;
238 - (void)setTexturePaint:(jboolean)useMask
239            pSrcOps:(jlong)pSrcOps
240             filter:(jboolean)filter
241                xp0:(jdouble)xp0
242                xp1:(jdouble)xp1
243                xp3:(jdouble)xp3
244                yp0:(jdouble)yp0
245                yp1:(jdouble)yp1
246                yp3:(jdouble)yp3;
247 
248 // Sets current image conversion operation (instance of MTLConvolveOp, MTLRescaleOp, MTLLookupOp).
249 // Used only in MTLIsoBlit (to blit image with some conversion). Pattern of usage: enableOp -&gt; IsoBlit -&gt; disableOp.
250 // TODO: Need to remove it from MTLContext and pass it as an argument for IsoBlit (because it&#39;s more
251 // simple and clear)
252 -(void)setBufImgOp:(NSObject*)bufImgOp;
253 
254 -(NSObject*)getBufImgOp;
255 

256 - (id&lt;MTLCommandBuffer&gt;)createBlitCommandBuffer;
257 @end
258 
259 /**
260  * See BufferedContext.java for more on these flags...
261  */
262 #define MTLC_NO_CONTEXT_FLAGS \
263     sun_java2d_pipe_BufferedContext_NO_CONTEXT_FLAGS
264 #define MTLC_SRC_IS_OPAQUE    \
265     sun_java2d_pipe_BufferedContext_SRC_IS_OPAQUE
266 #define MTLC_USE_MASK         \
267     sun_java2d_pipe_BufferedContext_USE_MASK
268 
269 #endif /* MTLContext_h_Included */
</pre>
</td>
<td>
<hr />
<pre>
 53 @end
 54 
 55 /**
 56  * The MTLContext class contains cached state relevant to the native
 57  * MTL context stored within the native ctxInfo field.  Each Java-level
 58  * MTLContext object is associated with a native-level MTLContext class.
 59  * */
 60 @interface MTLContext : NSObject
 61 @property (readonly) MTLComposite * composite;
 62 @property (readonly) MTLPaint * paint;
 63 @property (readonly) MTLTransform * transform;
 64 @property (readonly) MTLClip * clip;
 65 
 66 @property jint          textureFunction;
 67 @property jboolean      vertexCacheEnabled;
 68 @property jboolean      aaEnabled;
 69 
 70 @property (readonly, strong)   id&lt;MTLDevice&gt;   device;
 71 @property (strong) id&lt;MTLLibrary&gt;              library;
 72 @property (strong) id&lt;MTLCommandQueue&gt;         commandQueue;
<span class="line-added"> 73 @property (strong) id&lt;MTLCommandQueue&gt;         blitCommandQueue;</span>
 74 @property (strong) id&lt;MTLBuffer&gt;               vertexBuffer;
 75 
 76 @property (readonly) EncoderManager * encoderManager;
 77 
 78 @property (strong)MTLPipelineStatesStorage*   pipelineStateStorage;
 79 @property (strong)MTLTexturePool*             texturePool;
 80 
 81 - (MTLCommandBufferWrapper *) getCommandBufferWrapper; // creates command buffer wrapper (when doesn&#39;t exist)
 82 - (MTLCommandBufferWrapper *) pullCommandBufferWrapper; // returns current buffer wrapper with loosing object ownership
 83 
 84 /**
 85  * Fetches the MTLContext associated with the given destination surface,
 86  * makes the context current for those surfaces, updates the destination
 87  * viewport, and then returns a pointer to the MTLContext.
 88  */
 89 + (MTLContext*) setSurfacesEnv:(JNIEnv*)env src:(jlong)pSrc dst:(jlong)pDst;
 90 
 91 - (id)initWithDevice:(id&lt;MTLDevice&gt;)d shadersLib:(NSString*)shadersLib;
 92 - (void)dealloc;
 93 
</pre>
<hr />
<pre>
237                 fractions:(void *)fractions
238                    pixels:(void *)pixels;
239 - (void)setTexturePaint:(jboolean)useMask
240            pSrcOps:(jlong)pSrcOps
241             filter:(jboolean)filter
242                xp0:(jdouble)xp0
243                xp1:(jdouble)xp1
244                xp3:(jdouble)xp3
245                yp0:(jdouble)yp0
246                yp1:(jdouble)yp1
247                yp3:(jdouble)yp3;
248 
249 // Sets current image conversion operation (instance of MTLConvolveOp, MTLRescaleOp, MTLLookupOp).
250 // Used only in MTLIsoBlit (to blit image with some conversion). Pattern of usage: enableOp -&gt; IsoBlit -&gt; disableOp.
251 // TODO: Need to remove it from MTLContext and pass it as an argument for IsoBlit (because it&#39;s more
252 // simple and clear)
253 -(void)setBufImgOp:(NSObject*)bufImgOp;
254 
255 -(NSObject*)getBufImgOp;
256 
<span class="line-added">257 - (id&lt;MTLCommandBuffer&gt;)createCommandBuffer;</span>
258 - (id&lt;MTLCommandBuffer&gt;)createBlitCommandBuffer;
259 @end
260 
261 /**
262  * See BufferedContext.java for more on these flags...
263  */
264 #define MTLC_NO_CONTEXT_FLAGS \
265     sun_java2d_pipe_BufferedContext_NO_CONTEXT_FLAGS
266 #define MTLC_SRC_IS_OPAQUE    \
267     sun_java2d_pipe_BufferedContext_SRC_IS_OPAQUE
268 #define MTLC_USE_MASK         \
269     sun_java2d_pipe_BufferedContext_USE_MASK
270 
271 #endif /* MTLContext_h_Included */
</pre>
</td>
</tr>
</table>
<center><a href="MTLClip.m.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="MTLContext.m.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>