<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/langtools/jdk/javadoc/tool/testLocaleOption/TestLocaleOption.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../modules/Modules.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../../jshell/CompletionSuggestionTest.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/langtools/jdk/javadoc/tool/testLocaleOption/TestLocaleOption.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
159                 .writeAll()
160                 .getOutput(Task.OutputKind.STDOUT);
161 
162         // check console messages
163         if (Objects.equals(defaultLocale, ALLCAPS)) {
164             checkContains(stdOut,
165                     &quot;LOADING SOURCE FILES FOR PACKAGE p...\n&quot;
166                             + &quot;CONSTRUCTING JAVADOC INFORMATION...&quot;);
167         } else {
168             checkContains(stdOut,
169                     &quot;Loading source files for package p...\n&quot;
170                             + &quot;Constructing Javadoc information...&quot;);
171         }
172 
173         // check generated files
174         String hw = Files.readString(apiDir.resolve(&quot;p/HelloWorld.html&quot;));
175         Locale docLocale = localeOption != null ? localeOption : defaultLocale;
176         if (Objects.equals(docLocale, ALLCAPS)) {
177             checkContains(hw,
178                     &quot;&lt;h2&gt;METHOD SUMMARY&lt;/h2&gt;&quot;,
<span class="line-modified">179                     &quot;&lt;th class=\&quot;colFirst\&quot; scope=\&quot;col\&quot;&gt;MODIFIER AND TYPE&lt;/th&gt;&quot;,</span>
<span class="line-modified">180                     &quot;&lt;th class=\&quot;colSecond\&quot; scope=\&quot;col\&quot;&gt;METHOD&lt;/th&gt;&quot;,</span>
<span class="line-modified">181                     &quot;&lt;th class=\&quot;colLast\&quot; scope=\&quot;col\&quot;&gt;DESCRIPTION&lt;/th&gt;&quot;);</span>
182         } else {
183             checkContains(hw,
184                     &quot;&lt;h2&gt;Method Summary&lt;/h2&gt;&quot;,
<span class="line-modified">185                     &quot;&lt;th class=\&quot;colFirst\&quot; scope=\&quot;col\&quot;&gt;Modifier and Type&lt;/th&gt;&quot;,</span>
<span class="line-modified">186                     &quot;&lt;th class=\&quot;colSecond\&quot; scope=\&quot;col\&quot;&gt;Method&lt;/th&gt;&quot;,</span>
<span class="line-modified">187                     &quot;&lt;th class=\&quot;colLast\&quot; scope=\&quot;col\&quot;&gt;Description&lt;/th&gt;&quot;);</span>
188         }
189     }
190 
191     /**
192      * Generates a copy of a resource bundle, with the values converted to uppercase.
193      *
194      * @param dir  the root directory in which to write the bundle
195      * @param name the name of the bundle
196      * @throws Exception if an error occurs
197      */
198     private void generateBundle(Path dir, String name) throws Exception {
199         Module m = Main.class.getModule();
200         ResourceBundle rb = ResourceBundle.getBundle(name, m);
201         Properties p = new Properties();
202         Enumeration&lt;String&gt; e = rb.getKeys();
203         while (e.hasMoreElements()) {
204             String key = e.nextElement();
205             String value = rb.getString(key);
206             p.put(key, value.toUpperCase(Locale.US));
207         }
</pre>
</td>
<td>
<hr />
<pre>
159                 .writeAll()
160                 .getOutput(Task.OutputKind.STDOUT);
161 
162         // check console messages
163         if (Objects.equals(defaultLocale, ALLCAPS)) {
164             checkContains(stdOut,
165                     &quot;LOADING SOURCE FILES FOR PACKAGE p...\n&quot;
166                             + &quot;CONSTRUCTING JAVADOC INFORMATION...&quot;);
167         } else {
168             checkContains(stdOut,
169                     &quot;Loading source files for package p...\n&quot;
170                             + &quot;Constructing Javadoc information...&quot;);
171         }
172 
173         // check generated files
174         String hw = Files.readString(apiDir.resolve(&quot;p/HelloWorld.html&quot;));
175         Locale docLocale = localeOption != null ? localeOption : defaultLocale;
176         if (Objects.equals(docLocale, ALLCAPS)) {
177             checkContains(hw,
178                     &quot;&lt;h2&gt;METHOD SUMMARY&lt;/h2&gt;&quot;,
<span class="line-modified">179                     &quot;&lt;th class=\&quot;col-first\&quot; scope=\&quot;col\&quot;&gt;MODIFIER AND TYPE&lt;/th&gt;&quot;,</span>
<span class="line-modified">180                     &quot;&lt;th class=\&quot;col-second\&quot; scope=\&quot;col\&quot;&gt;METHOD&lt;/th&gt;&quot;,</span>
<span class="line-modified">181                     &quot;&lt;th class=\&quot;col-last\&quot; scope=\&quot;col\&quot;&gt;DESCRIPTION&lt;/th&gt;&quot;);</span>
182         } else {
183             checkContains(hw,
184                     &quot;&lt;h2&gt;Method Summary&lt;/h2&gt;&quot;,
<span class="line-modified">185                     &quot;&lt;th class=\&quot;col-first\&quot; scope=\&quot;col\&quot;&gt;Modifier and Type&lt;/th&gt;&quot;,</span>
<span class="line-modified">186                     &quot;&lt;th class=\&quot;col-second\&quot; scope=\&quot;col\&quot;&gt;Method&lt;/th&gt;&quot;,</span>
<span class="line-modified">187                     &quot;&lt;th class=\&quot;col-last\&quot; scope=\&quot;col\&quot;&gt;Description&lt;/th&gt;&quot;);</span>
188         }
189     }
190 
191     /**
192      * Generates a copy of a resource bundle, with the values converted to uppercase.
193      *
194      * @param dir  the root directory in which to write the bundle
195      * @param name the name of the bundle
196      * @throws Exception if an error occurs
197      */
198     private void generateBundle(Path dir, String name) throws Exception {
199         Module m = Main.class.getModule();
200         ResourceBundle rb = ResourceBundle.getBundle(name, m);
201         Properties p = new Properties();
202         Enumeration&lt;String&gt; e = rb.getKeys();
203         while (e.hasMoreElements()) {
204             String key = e.nextElement();
205             String value = rb.getString(key);
206             p.put(key, value.toUpperCase(Locale.US));
207         }
</pre>
</td>
</tr>
</table>
<center><a href="../modules/Modules.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../../jshell/CompletionSuggestionTest.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>