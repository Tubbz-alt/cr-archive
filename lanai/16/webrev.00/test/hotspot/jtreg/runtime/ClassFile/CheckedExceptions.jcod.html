<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New test/hotspot/jtreg/runtime/ClassFile/CheckedExceptions.jcod</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (c) 2020, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  *
 23  */
 24 
 25 // In this test, method main() in class CheckedExceptions declares that it
 26 // throws I, where I is an interface.  This should not cause an assert nor an
 27 // exception because JVMS 4.7.5 says that type checks of the classes listed
 28 // in the Exceptions attributes are only enforced at compile time.  (Note that
 29 // the types in a method&#39;s throws clause are passed to the JVM using the
 30 // Exceptions attribute.)
 31 
 32 // interface I { }
 33 file &quot;I.class&quot; {
 34   0xCAFEBABE;
 35   0; // minor version
 36   59; // version
 37   [7] { // Constant Pool
 38     ; // first element is empty
 39     class #2; // #1     at 0x0A
 40     Utf8 &quot;I&quot;; // #2     at 0x0D
 41     class #4; // #3     at 0x11
 42     Utf8 &quot;java/lang/Object&quot;; // #4     at 0x14
 43     Utf8 &quot;SourceFile&quot;; // #5     at 0x27
 44     Utf8 &quot;CheckedExceptions.java&quot;; // #6     at 0x34
 45   } // Constant Pool
 46 
 47   0x0600; // access [ ACC_INTERFACE ]
 48   #1;// this_cpx
 49   #3;// super_cpx
 50 
 51   [0] { // Interfaces
 52   } // Interfaces
 53 
 54   [0] { // fields
 55   } // fields
 56 
 57   [0] { // methods
 58   } // methods
 59 
 60   [1] { // Attributes
 61     Attr(#5, 2) { // SourceFile at 0x5B
 62       #6;
 63     } // end SourceFile
 64   } // Attributes
 65 } // end class I
 66 
 67 
 68 // public class CheckedExceptions {
 69 //     public static void main(String argv[]) throws I {
 70 //         System.out.println(&quot;Hello&quot;);
 71 //     }
 72 // }
 73 class CheckedExceptions {
 74   0xCAFEBABE;
 75   0; // minor version
 76   59; // version
 77   [32] { // Constant Pool
 78     ; // first element is empty
 79     Method #2 #3; // #1     at 0x0A
 80     class #4; // #2     at 0x0F
 81     NameAndType #5 #6; // #3     at 0x12
 82     Utf8 &quot;java/lang/Object&quot;; // #4     at 0x17
 83     Utf8 &quot;&lt;init&gt;&quot;; // #5     at 0x2A
 84     Utf8 &quot;()V&quot;; // #6     at 0x33
 85     Field #8 #9; // #7     at 0x39
 86     class #10; // #8     at 0x3E
 87     NameAndType #11 #12; // #9     at 0x41
 88     Utf8 &quot;java/lang/System&quot;; // #10     at 0x46
 89     Utf8 &quot;out&quot;; // #11     at 0x59
 90     Utf8 &quot;Ljava/io/PrintStream;&quot;; // #12     at 0x5F
 91     String #14; // #13     at 0x77
 92     Utf8 &quot;Hello&quot;; // #14     at 0x7A
 93     Method #16 #17; // #15     at 0x82
 94     class #18; // #16     at 0x87
 95     NameAndType #19 #20; // #17     at 0x8A
 96     Utf8 &quot;java/io/PrintStream&quot;; // #18     at 0x8F
 97     Utf8 &quot;println&quot;; // #19     at 0xA5
 98     Utf8 &quot;(Ljava/lang/String;)V&quot;; // #20     at 0xAF
 99     class #22; // #21     at 0xC7
100     Utf8 &quot;CheckedExceptions&quot;; // #22     at 0xCA
101     Utf8 &quot;Code&quot;; // #23     at 0xDE
102     Utf8 &quot;LineNumberTable&quot;; // #24     at 0xE5
103     Utf8 &quot;main&quot;; // #25     at 0xF7
104     Utf8 &quot;([Ljava/lang/String;)V&quot;; // #26     at 0xFE
105     Utf8 &quot;Exceptions&quot;; // #27     at 0x0117
106     class #29; // #28     at 0x0124
107     Utf8 &quot;I&quot;; // #29     at 0x0127
108     Utf8 &quot;SourceFile&quot;; // #30     at 0x0148
109     Utf8 &quot;CheckedExceptions.java&quot;; // #31     at 0x0155
110   } // Constant Pool
111 
112   0x0021; // access [ ACC_PUBLIC ACC_SUPER ]
113   #21;// this_cpx
114   #2;// super_cpx
115 
116   [0] { // Interfaces
117   } // Interfaces
118 
119   [0] { // fields
120   } // fields
121 
122   [2] { // methods
123     { // Member at 0x017A
124       0x0001; // access
125       #5; // name_cpx
126       #6; // sig_cpx
127       [1] { // Attributes
128         Attr(#23, 29) { // Code at 0x0182
129           1; // max_stack
130           1; // max_locals
131           Bytes[5]{
132             0x2AB70001B1;
133           }
134           [0] { // Traps
135           } // end Traps
136           [1] { // Attributes
137             Attr(#24, 6) { // LineNumberTable at 0x0199
138               [1] { // LineNumberTable
139                 0  3; //  at 0x01A5
140               }
141             } // end LineNumberTable
142           } // Attributes
143         } // end Code
144       } // Attributes
145     } // Member
146     ;
147     { // Member at 0x01A5
148       0x0009; // access
149       #25; // name_cpx
150       #26; // sig_cpx
151       [2] { // Attributes
152         Attr(#23, 37) { // Code at 0x01AD
153           2; // max_stack
154           1; // max_locals
155           Bytes[9]{
156             0xB20007120DB6000F;
157             0xB1;
158           }
159           [0] { // Traps
160           } // end Traps
161           [1] { // Attributes
162             Attr(#24, 10) { // LineNumberTable at 0x01C8
163               [2] { // LineNumberTable
164                 0  6; //  at 0x01D4
165                 8  7; //  at 0x01D8
166               }
167             } // end LineNumberTable
168           } // Attributes
169         } // end Code
170         ;
171         Attr(#27, 4) { // Exceptions at 0x01D8
172           [1] { // Exceptions
173             #28; //  at 0x01E2
174           }
175         } // end Exceptions
176       } // Attributes
177     } // Member
178   } // methods
179 
180   [1] { // Attributes
181     Attr(#30, 2) { // SourceFile at 0x01E4
182       #31;
183     } // end SourceFile
184   } // Attributes
185 } // end class CheckedExceptions
    </pre>
  </body>
</html>