<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New test/hotspot/jtreg/compiler/jvmci/errors/TestInvalidTieredStopAtLevel.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
  <body>
    <pre>
 1 /*
 2  * Copyright (C) 2020 THL A29 Limited, a Tencent company. All rights reserved.
 3  * DO NOT ALTER OR REMOVE NOTICES OR THIS FILE HEADER.
 4  *
 5  * This code is free software; you can redistribute it and/or modify
 6  * it under the terms of the GNU General Public License version 2 as
 7  * published by the Free Software Foundation. THL A29 Limited designates
 8  * this particular file as subject to the &quot;Classpath&quot; exception as provided
 9  * by Oracle in the LICENSE file that accompanied this code.
10  *
11  * This code is distributed in the hope that it will be useful,
12  * but WITHOUT ANY WARRANTY; without even the implied warranty of
13  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
14  * GNU General Public License version 2 for more details.
15  *
16  * You should have received a copy of the GNU General Public License along
17  * with this program; if not, write to the Free Software Foundation, Inc.,
18  * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
19  */
20 
21 /**
22  * @test
23  * @bug 8241232
24  * @requires vm.jvmci
25  * @library /test/lib
26  * @build TestInvalidTieredStopAtLevel jdk.test.lib.process.*
27  * @run main TestInvalidTieredStopAtLevel
28  */
29 
30 import jdk.test.lib.process.ProcessTools;
31 
32 public class TestInvalidTieredStopAtLevel {
33     public static void main(String... args) throws Exception {
34         ProcessTools.executeTestJava(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
35                                      &quot;-XX:+UseJVMCICompiler&quot;,
36                                      &quot;-XX:+BootstrapJVMCI&quot;,
37                                      &quot;-XX:TieredStopAtLevel=1&quot;,
38                                      &quot;-Xcomp&quot;)
39                 .outputTo(System.out)
40                 .errorTo(System.out)
41                 .stdoutShouldNotContain(&quot;hs_err&quot;);
42     }
43 }
    </pre>
  </body>
</html>