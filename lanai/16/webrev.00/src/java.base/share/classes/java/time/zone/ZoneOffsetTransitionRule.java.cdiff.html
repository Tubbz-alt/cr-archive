<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/java/time/zone/ZoneOffsetTransitionRule.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../temporal/ValueRange.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ZoneRules.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/time/zone/ZoneOffsetTransitionRule.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 2012, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 2012, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 158,11 ***</span>
       *  day or later, negative if the week is that day or earlier, counting from the last day of the month,
       *  from -28 to 31 excluding 0
       * @param dayOfWeek  the required day-of-week, null if the month-day should not be changed
       * @param time  the cutover time in the &#39;before&#39; offset, not null
       * @param timeEndOfDay  whether the time is midnight at the end of day
<span class="line-modified">!      * @param timeDefnition  how to interpret the cutover</span>
       * @param standardOffset  the standard offset in force at the cutover, not null
       * @param offsetBefore  the offset before the cutover, not null
       * @param offsetAfter  the offset after the cutover, not null
       * @return the rule, not null
       * @throws IllegalArgumentException if the day of month indicator is invalid
<span class="line-new-header">--- 158,11 ---</span>
       *  day or later, negative if the week is that day or earlier, counting from the last day of the month,
       *  from -28 to 31 excluding 0
       * @param dayOfWeek  the required day-of-week, null if the month-day should not be changed
       * @param time  the cutover time in the &#39;before&#39; offset, not null
       * @param timeEndOfDay  whether the time is midnight at the end of day
<span class="line-modified">!      * @param timeDefinition  how to interpret the cutover</span>
       * @param standardOffset  the standard offset in force at the cutover, not null
       * @param offsetBefore  the offset before the cutover, not null
       * @param offsetAfter  the offset after the cutover, not null
       * @return the rule, not null
       * @throws IllegalArgumentException if the day of month indicator is invalid
</pre>
<hr />
<pre>
<span class="line-old-header">*** 173,17 ***</span>
              Month month,
              int dayOfMonthIndicator,
              DayOfWeek dayOfWeek,
              LocalTime time,
              boolean timeEndOfDay,
<span class="line-modified">!             TimeDefinition timeDefnition,</span>
              ZoneOffset standardOffset,
              ZoneOffset offsetBefore,
              ZoneOffset offsetAfter) {
          Objects.requireNonNull(month, &quot;month&quot;);
          Objects.requireNonNull(time, &quot;time&quot;);
<span class="line-modified">!         Objects.requireNonNull(timeDefnition, &quot;timeDefnition&quot;);</span>
          Objects.requireNonNull(standardOffset, &quot;standardOffset&quot;);
          Objects.requireNonNull(offsetBefore, &quot;offsetBefore&quot;);
          Objects.requireNonNull(offsetAfter, &quot;offsetAfter&quot;);
          if (dayOfMonthIndicator &lt; -28 || dayOfMonthIndicator &gt; 31 || dayOfMonthIndicator == 0) {
              throw new IllegalArgumentException(&quot;Day of month indicator must be between -28 and 31 inclusive excluding zero&quot;);
<span class="line-new-header">--- 173,17 ---</span>
              Month month,
              int dayOfMonthIndicator,
              DayOfWeek dayOfWeek,
              LocalTime time,
              boolean timeEndOfDay,
<span class="line-modified">!             TimeDefinition timeDefinition,</span>
              ZoneOffset standardOffset,
              ZoneOffset offsetBefore,
              ZoneOffset offsetAfter) {
          Objects.requireNonNull(month, &quot;month&quot;);
          Objects.requireNonNull(time, &quot;time&quot;);
<span class="line-modified">!         Objects.requireNonNull(timeDefinition, &quot;timeDefinition&quot;);</span>
          Objects.requireNonNull(standardOffset, &quot;standardOffset&quot;);
          Objects.requireNonNull(offsetBefore, &quot;offsetBefore&quot;);
          Objects.requireNonNull(offsetAfter, &quot;offsetAfter&quot;);
          if (dayOfMonthIndicator &lt; -28 || dayOfMonthIndicator &gt; 31 || dayOfMonthIndicator == 0) {
              throw new IllegalArgumentException(&quot;Day of month indicator must be between -28 and 31 inclusive excluding zero&quot;);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 192,11 ***</span>
              throw new IllegalArgumentException(&quot;Time must be midnight when end of day flag is true&quot;);
          }
          if (time.getNano() != 0) {
              throw new IllegalArgumentException(&quot;Time&#39;s nano-of-second must be zero&quot;);
          }
<span class="line-modified">!         return new ZoneOffsetTransitionRule(month, dayOfMonthIndicator, dayOfWeek, time, timeEndOfDay, timeDefnition, standardOffset, offsetBefore, offsetAfter);</span>
      }
  
      /**
       * Creates an instance defining the yearly rule to create transitions between two offsets.
       *
<span class="line-new-header">--- 192,11 ---</span>
              throw new IllegalArgumentException(&quot;Time must be midnight when end of day flag is true&quot;);
          }
          if (time.getNano() != 0) {
              throw new IllegalArgumentException(&quot;Time&#39;s nano-of-second must be zero&quot;);
          }
<span class="line-modified">!         return new ZoneOffsetTransitionRule(month, dayOfMonthIndicator, dayOfWeek, time, timeEndOfDay, timeDefinition, standardOffset, offsetBefore, offsetAfter);</span>
      }
  
      /**
       * Creates an instance defining the yearly rule to create transitions between two offsets.
       *
</pre>
<hr />
<pre>
<span class="line-old-header">*** 205,11 ***</span>
       *  day or later, negative if the week is that day or earlier, counting from the last day of the month,
       *  from -28 to 31 excluding 0
       * @param dayOfWeek  the required day-of-week, null if the month-day should not be changed
       * @param time  the cutover time in the &#39;before&#39; offset, not null
       * @param timeEndOfDay  whether the time is midnight at the end of day
<span class="line-modified">!      * @param timeDefnition  how to interpret the cutover</span>
       * @param standardOffset  the standard offset in force at the cutover, not null
       * @param offsetBefore  the offset before the cutover, not null
       * @param offsetAfter  the offset after the cutover, not null
       * @throws IllegalArgumentException if the day of month indicator is invalid
       * @throws IllegalArgumentException if the end of day flag is true when the time is not midnight
<span class="line-new-header">--- 205,11 ---</span>
       *  day or later, negative if the week is that day or earlier, counting from the last day of the month,
       *  from -28 to 31 excluding 0
       * @param dayOfWeek  the required day-of-week, null if the month-day should not be changed
       * @param time  the cutover time in the &#39;before&#39; offset, not null
       * @param timeEndOfDay  whether the time is midnight at the end of day
<span class="line-modified">!      * @param timeDefinition  how to interpret the cutover</span>
       * @param standardOffset  the standard offset in force at the cutover, not null
       * @param offsetBefore  the offset before the cutover, not null
       * @param offsetAfter  the offset after the cutover, not null
       * @throws IllegalArgumentException if the day of month indicator is invalid
       * @throws IllegalArgumentException if the end of day flag is true when the time is not midnight
</pre>
<hr />
<pre>
<span class="line-old-header">*** 218,21 ***</span>
              Month month,
              int dayOfMonthIndicator,
              DayOfWeek dayOfWeek,
              LocalTime time,
              boolean timeEndOfDay,
<span class="line-modified">!             TimeDefinition timeDefnition,</span>
              ZoneOffset standardOffset,
              ZoneOffset offsetBefore,
              ZoneOffset offsetAfter) {
          assert time.getNano() == 0;
          this.month = month;
          this.dom = (byte) dayOfMonthIndicator;
          this.dow = dayOfWeek;
          this.time = time;
          this.timeEndOfDay = timeEndOfDay;
<span class="line-modified">!         this.timeDefinition = timeDefnition;</span>
          this.standardOffset = standardOffset;
          this.offsetBefore = offsetBefore;
          this.offsetAfter = offsetAfter;
      }
  
<span class="line-new-header">--- 218,21 ---</span>
              Month month,
              int dayOfMonthIndicator,
              DayOfWeek dayOfWeek,
              LocalTime time,
              boolean timeEndOfDay,
<span class="line-modified">!             TimeDefinition timeDefinition,</span>
              ZoneOffset standardOffset,
              ZoneOffset offsetBefore,
              ZoneOffset offsetAfter) {
          assert time.getNano() == 0;
          this.month = month;
          this.dom = (byte) dayOfMonthIndicator;
          this.dow = dayOfWeek;
          this.time = time;
          this.timeEndOfDay = timeEndOfDay;
<span class="line-modified">!         this.timeDefinition = timeDefinition;</span>
          this.standardOffset = standardOffset;
          this.offsetBefore = offsetBefore;
          this.offsetAfter = offsetAfter;
      }
  
</pre>
<center><a href="../temporal/ValueRange.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ZoneRules.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>