<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/c1/c1_LIRAssembler.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="c1_Instruction.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="c1_LIRGenerator.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/c1/c1_LIRAssembler.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
761       break;
762 
763     case lir_xadd:
764     case lir_xchg:
765       atomic_op(op-&gt;code(), op-&gt;in_opr1(), op-&gt;in_opr2(), op-&gt;result_opr(), op-&gt;tmp1_opr());
766       break;
767 
768     default:
769       Unimplemented();
770       break;
771   }
772 }
773 
774 
775 void LIR_Assembler::build_frame() {
776   _masm-&gt;build_frame(initial_frame_size_in_bytes(), bang_size_in_bytes());
777 }
778 
779 
780 void LIR_Assembler::roundfp_op(LIR_Opr src, LIR_Opr tmp, LIR_Opr dest, bool pop_fpu_stack) {

781   assert((src-&gt;is_single_fpu() &amp;&amp; dest-&gt;is_single_stack()) ||
782          (src-&gt;is_double_fpu() &amp;&amp; dest-&gt;is_double_stack()),
783          &quot;round_fp: rounds register -&gt; stack location&quot;);
784 
785   reg2stack (src, dest, src-&gt;type(), pop_fpu_stack);
786 }
787 
788 
789 void LIR_Assembler::move_op(LIR_Opr src, LIR_Opr dest, BasicType type, LIR_PatchCode patch_code, CodeEmitInfo* info, bool pop_fpu_stack, bool unaligned, bool wide) {
790   if (src-&gt;is_register()) {
791     if (dest-&gt;is_register()) {
792       assert(patch_code == lir_patch_none &amp;&amp; info == NULL, &quot;no patching and info allowed here&quot;);
793       reg2reg(src,  dest);
794     } else if (dest-&gt;is_stack()) {
795       assert(patch_code == lir_patch_none &amp;&amp; info == NULL, &quot;no patching and info allowed here&quot;);
796       reg2stack(src, dest, type, pop_fpu_stack);
797     } else if (dest-&gt;is_address()) {
798       reg2mem(src, dest, type, patch_code, info, pop_fpu_stack, wide, unaligned);
799     } else {
800       ShouldNotReachHere();
</pre>
</td>
<td>
<hr />
<pre>
761       break;
762 
763     case lir_xadd:
764     case lir_xchg:
765       atomic_op(op-&gt;code(), op-&gt;in_opr1(), op-&gt;in_opr2(), op-&gt;result_opr(), op-&gt;tmp1_opr());
766       break;
767 
768     default:
769       Unimplemented();
770       break;
771   }
772 }
773 
774 
775 void LIR_Assembler::build_frame() {
776   _masm-&gt;build_frame(initial_frame_size_in_bytes(), bang_size_in_bytes());
777 }
778 
779 
780 void LIR_Assembler::roundfp_op(LIR_Opr src, LIR_Opr tmp, LIR_Opr dest, bool pop_fpu_stack) {
<span class="line-added">781   assert(strict_fp_requires_explicit_rounding, &quot;not required&quot;);</span>
782   assert((src-&gt;is_single_fpu() &amp;&amp; dest-&gt;is_single_stack()) ||
783          (src-&gt;is_double_fpu() &amp;&amp; dest-&gt;is_double_stack()),
784          &quot;round_fp: rounds register -&gt; stack location&quot;);
785 
786   reg2stack (src, dest, src-&gt;type(), pop_fpu_stack);
787 }
788 
789 
790 void LIR_Assembler::move_op(LIR_Opr src, LIR_Opr dest, BasicType type, LIR_PatchCode patch_code, CodeEmitInfo* info, bool pop_fpu_stack, bool unaligned, bool wide) {
791   if (src-&gt;is_register()) {
792     if (dest-&gt;is_register()) {
793       assert(patch_code == lir_patch_none &amp;&amp; info == NULL, &quot;no patching and info allowed here&quot;);
794       reg2reg(src,  dest);
795     } else if (dest-&gt;is_stack()) {
796       assert(patch_code == lir_patch_none &amp;&amp; info == NULL, &quot;no patching and info allowed here&quot;);
797       reg2stack(src, dest, type, pop_fpu_stack);
798     } else if (dest-&gt;is_address()) {
799       reg2mem(src, dest, type, patch_code, info, pop_fpu_stack, wide, unaligned);
800     } else {
801       ShouldNotReachHere();
</pre>
</td>
</tr>
</table>
<center><a href="c1_Instruction.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="c1_LIRGenerator.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>