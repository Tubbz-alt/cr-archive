<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/java/lang/invoke/GenerateJLIClassesHelper.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../System.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="InnerClassLambdaMetafactory.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/lang/invoke/GenerateJLIClassesHelper.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 92,20 ***</span>
          for (Wrapper wrapper : Wrapper.values()) {
              if (wrapper == Wrapper.VOID) {
                  continue;
              }
              for (byte b = DirectMethodHandle.AF_GETFIELD; b &lt; DirectMethodHandle.AF_LIMIT; b++) {
<span class="line-modified">!                 int ftype = DirectMethodHandle.ftypeKind(wrapper.primitiveType());</span>
                  LambdaForm form = DirectMethodHandle
<span class="line-modified">!                         .makePreparedFieldLambdaForm(b, /*isVolatile*/false, ftype);</span>
                  if (form.kind != LambdaForm.Kind.GENERIC) {
                      forms.add(form);
                      names.add(form.kind.defaultLambdaName);
                  }
                  // volatile
                  form = DirectMethodHandle
<span class="line-modified">!                         .makePreparedFieldLambdaForm(b, /*isVolatile*/true, ftype);</span>
                  if (form.kind != LambdaForm.Kind.GENERIC) {
                      forms.add(form);
                      names.add(form.kind.defaultLambdaName);
                  }
              }
<span class="line-new-header">--- 92,20 ---</span>
          for (Wrapper wrapper : Wrapper.values()) {
              if (wrapper == Wrapper.VOID) {
                  continue;
              }
              for (byte b = DirectMethodHandle.AF_GETFIELD; b &lt; DirectMethodHandle.AF_LIMIT; b++) {
<span class="line-modified">!                 int ftype = DirectMethodHandle.ftypeKind(wrapper.primitiveType(), true);</span>
                  LambdaForm form = DirectMethodHandle
<span class="line-modified">!                         .makePreparedFieldLambdaForm(b, false /*isVolatile*/, ftype);</span>
                  if (form.kind != LambdaForm.Kind.GENERIC) {
                      forms.add(form);
                      names.add(form.kind.defaultLambdaName);
                  }
                  // volatile
                  form = DirectMethodHandle
<span class="line-modified">!                         .makePreparedFieldLambdaForm(b, true /*isVolatile*/, ftype);</span>
                  if (form.kind != LambdaForm.Kind.GENERIC) {
                      forms.add(form);
                      names.add(form.kind.defaultLambdaName);
                  }
              }
</pre>
<center><a href="../System.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="InnerClassLambdaMetafactory.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>