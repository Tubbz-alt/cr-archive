<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/jdk/internal/org/objectweb/asm/Frame.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Constants.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="Opcodes.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/jdk/internal/org/objectweb/asm/Frame.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 343       */
 344     private static int getAbstractTypeFromDescriptor(
 345             final SymbolTable symbolTable, final String buffer, final int offset) {
 346         String internalName;
 347         switch (buffer.charAt(offset)) {
 348             case &#39;V&#39;:
 349                 return 0;
 350             case &#39;Z&#39;:
 351             case &#39;C&#39;:
 352             case &#39;B&#39;:
 353             case &#39;S&#39;:
 354             case &#39;I&#39;:
 355                 return INTEGER;
 356             case &#39;F&#39;:
 357                 return FLOAT;
 358             case &#39;J&#39;:
 359                 return LONG;
 360             case &#39;D&#39;:
 361                 return DOUBLE;
 362             case &#39;L&#39;:

 363                 internalName = buffer.substring(offset + 1, buffer.length() - 1);
 364                 return REFERENCE_KIND | symbolTable.addType(internalName);
 365             case &#39;[&#39;:
 366                 int elementDescriptorOffset = offset + 1;
 367                 while (buffer.charAt(elementDescriptorOffset) == &#39;[&#39;) {
 368                     ++elementDescriptorOffset;
 369                 }
 370                 int typeValue;
 371                 switch (buffer.charAt(elementDescriptorOffset)) {
 372                     case &#39;Z&#39;:
 373                         typeValue = BOOLEAN;
 374                         break;
 375                     case &#39;C&#39;:
 376                         typeValue = CHAR;
 377                         break;
 378                     case &#39;B&#39;:
 379                         typeValue = BYTE;
 380                         break;
 381                     case &#39;S&#39;:
 382                         typeValue = SHORT;
 383                         break;
 384                     case &#39;I&#39;:
 385                         typeValue = INTEGER;
 386                         break;
 387                     case &#39;F&#39;:
 388                         typeValue = FLOAT;
 389                         break;
 390                     case &#39;J&#39;:
 391                         typeValue = LONG;
 392                         break;
 393                     case &#39;D&#39;:
 394                         typeValue = DOUBLE;
 395                         break;
 396                     case &#39;L&#39;:

 397                         internalName = buffer.substring(elementDescriptorOffset + 1, buffer.length() - 1);
 398                         typeValue = REFERENCE_KIND | symbolTable.addType(internalName);
 399                         break;
 400                     default:
 401                         throw new IllegalArgumentException();
 402                 }
 403                 return ((elementDescriptorOffset - offset) &lt;&lt; DIM_SHIFT) | typeValue;
 404             default:
 405                 throw new IllegalArgumentException();
 406         }
 407     }
 408 
 409     // -----------------------------------------------------------------------------------------------
 410     // Methods related to the input frame
 411     // -----------------------------------------------------------------------------------------------
 412 
 413     /**
 414       * Sets the input frame from the given method description. This method is used to initialize the
 415       * first frame of a method, which is implicit (i.e. not stored explicitly in the StackMapTable
 416       * attribute).
</pre>
</td>
<td>
<hr />
<pre>
 343       */
 344     private static int getAbstractTypeFromDescriptor(
 345             final SymbolTable symbolTable, final String buffer, final int offset) {
 346         String internalName;
 347         switch (buffer.charAt(offset)) {
 348             case &#39;V&#39;:
 349                 return 0;
 350             case &#39;Z&#39;:
 351             case &#39;C&#39;:
 352             case &#39;B&#39;:
 353             case &#39;S&#39;:
 354             case &#39;I&#39;:
 355                 return INTEGER;
 356             case &#39;F&#39;:
 357                 return FLOAT;
 358             case &#39;J&#39;:
 359                 return LONG;
 360             case &#39;D&#39;:
 361                 return DOUBLE;
 362             case &#39;L&#39;:
<span class="line-added"> 363             case &#39;Q&#39;:</span>
 364                 internalName = buffer.substring(offset + 1, buffer.length() - 1);
 365                 return REFERENCE_KIND | symbolTable.addType(internalName);
 366             case &#39;[&#39;:
 367                 int elementDescriptorOffset = offset + 1;
 368                 while (buffer.charAt(elementDescriptorOffset) == &#39;[&#39;) {
 369                     ++elementDescriptorOffset;
 370                 }
 371                 int typeValue;
 372                 switch (buffer.charAt(elementDescriptorOffset)) {
 373                     case &#39;Z&#39;:
 374                         typeValue = BOOLEAN;
 375                         break;
 376                     case &#39;C&#39;:
 377                         typeValue = CHAR;
 378                         break;
 379                     case &#39;B&#39;:
 380                         typeValue = BYTE;
 381                         break;
 382                     case &#39;S&#39;:
 383                         typeValue = SHORT;
 384                         break;
 385                     case &#39;I&#39;:
 386                         typeValue = INTEGER;
 387                         break;
 388                     case &#39;F&#39;:
 389                         typeValue = FLOAT;
 390                         break;
 391                     case &#39;J&#39;:
 392                         typeValue = LONG;
 393                         break;
 394                     case &#39;D&#39;:
 395                         typeValue = DOUBLE;
 396                         break;
 397                     case &#39;L&#39;:
<span class="line-added"> 398                     case &#39;Q&#39;:</span>
 399                         internalName = buffer.substring(elementDescriptorOffset + 1, buffer.length() - 1);
 400                         typeValue = REFERENCE_KIND | symbolTable.addType(internalName);
 401                         break;
 402                     default:
 403                         throw new IllegalArgumentException();
 404                 }
 405                 return ((elementDescriptorOffset - offset) &lt;&lt; DIM_SHIFT) | typeValue;
 406             default:
 407                 throw new IllegalArgumentException();
 408         }
 409     }
 410 
 411     // -----------------------------------------------------------------------------------------------
 412     // Methods related to the input frame
 413     // -----------------------------------------------------------------------------------------------
 414 
 415     /**
 416       * Sets the input frame from the given method description. This method is used to initialize the
 417       * first frame of a method, which is implicit (i.e. not stored explicitly in the StackMapTable
 418       * attribute).
</pre>
</td>
</tr>
</table>
<center><a href="Constants.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="Opcodes.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>