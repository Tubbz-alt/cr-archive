<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/classfile/vmSymbols.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="vmSymbols.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../compiler/compileBroker.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/classfile/vmSymbols.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  37 //
  38 // Sample usage:
  39 //
  40 //   Symbol* obj       = vmSymbols::java_lang_Object();
  41 
  42 
  43 // Useful sub-macros exported by this header file:
  44 
  45 #define VM_SYMBOL_ENUM_NAME(name)    name##_enum
  46 #define VM_INTRINSIC_IGNORE(id, class, name, sig, flags) /*ignored*/
  47 #define VM_SYMBOL_IGNORE(id, name)                       /*ignored*/
  48 #define VM_ALIAS_IGNORE(id, id2)                         /*ignored*/
  49 
  50 // Mapping function names to values. New entries should be added below.
  51 
  52 #define VM_SYMBOLS_DO(template, do_alias)                                                         \
  53   /* commonly used class, package, module names */                                                \
  54   template(java_base,                                 &quot;java.base&quot;)                                \
  55   template(java_lang_System,                          &quot;java/lang/System&quot;)                         \
  56   template(java_lang_Object,                          &quot;java/lang/Object&quot;)                         \

  57   template(java_lang_Class,                           &quot;java/lang/Class&quot;)                          \
  58   template(java_lang_Package,                         &quot;java/lang/Package&quot;)                        \
  59   template(java_lang_Module,                          &quot;java/lang/Module&quot;)                         \
  60   template(java_lang_String,                          &quot;java/lang/String&quot;)                         \
  61   template(java_lang_StringLatin1,                    &quot;java/lang/StringLatin1&quot;)                   \
  62   template(java_lang_StringUTF16,                     &quot;java/lang/StringUTF16&quot;)                    \
  63   template(java_lang_Thread,                          &quot;java/lang/Thread&quot;)                         \
  64   template(java_lang_ThreadGroup,                     &quot;java/lang/ThreadGroup&quot;)                    \
  65   template(java_lang_Cloneable,                       &quot;java/lang/Cloneable&quot;)                      \

  66   template(java_lang_Throwable,                       &quot;java/lang/Throwable&quot;)                      \
  67   template(java_lang_ClassLoader,                     &quot;java/lang/ClassLoader&quot;)                    \
  68   template(java_lang_ThreadDeath,                     &quot;java/lang/ThreadDeath&quot;)                    \
  69   template(java_lang_Boolean,                         &quot;java/lang/Boolean&quot;)                        \
  70   template(java_lang_Character,                       &quot;java/lang/Character&quot;)                      \
  71   template(java_lang_Character_CharacterCache,        &quot;java/lang/Character$CharacterCache&quot;)       \
  72   template(java_lang_CharacterDataLatin1,             &quot;java/lang/CharacterDataLatin1&quot;)            \
  73   template(java_lang_Float,                           &quot;java/lang/Float&quot;)                          \
  74   template(java_lang_Double,                          &quot;java/lang/Double&quot;)                         \
  75   template(java_lang_Byte,                            &quot;java/lang/Byte&quot;)                           \
  76   template(java_lang_Byte_ByteCache,                  &quot;java/lang/Byte$ByteCache&quot;)                 \
  77   template(java_lang_Short,                           &quot;java/lang/Short&quot;)                          \
  78   template(java_lang_Short_ShortCache,                &quot;java/lang/Short$ShortCache&quot;)               \
  79   template(java_lang_Integer,                         &quot;java/lang/Integer&quot;)                        \
  80   template(java_lang_Integer_IntegerCache,            &quot;java/lang/Integer$IntegerCache&quot;)           \
  81   template(java_lang_Long,                            &quot;java/lang/Long&quot;)                           \
  82   template(java_lang_Long_LongCache,                  &quot;java/lang/Long$LongCache&quot;)                 \
  83   template(java_lang_Shutdown,                        &quot;java/lang/Shutdown&quot;)                       \
  84   template(java_lang_ref_Reference,                   &quot;java/lang/ref/Reference&quot;)                  \
  85   template(java_lang_ref_SoftReference,               &quot;java/lang/ref/SoftReference&quot;)              \
</pre>
<hr />
<pre>
 310   template(java_lang_invoke_LambdaForm_Compiled_signature, &quot;Ljava/lang/invoke/LambdaForm$Compiled;&quot;) \
 311   template(java_lang_invoke_MethodHandleNatives_CallSiteContext_signature, &quot;Ljava/lang/invoke/MethodHandleNatives$CallSiteContext;&quot;) \
 312   /* internal up-calls made only by the JVM, via class sun.invoke.MethodHandleNatives: */         \
 313   template(findMethodHandleType_name,                 &quot;findMethodHandleType&quot;)                     \
 314   template(findMethodHandleType_signature,       &quot;(Ljava/lang/Class;[Ljava/lang/Class;)Ljava/lang/invoke/MethodType;&quot;) \
 315   template(invokeExact_name,                          &quot;invokeExact&quot;)                              \
 316   template(linkMethodHandleConstant_name,             &quot;linkMethodHandleConstant&quot;)                 \
 317   template(linkMethodHandleConstant_signature, &quot;(Ljava/lang/Class;ILjava/lang/Class;Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/invoke/MethodHandle;&quot;) \
 318   template(linkMethod_name,                           &quot;linkMethod&quot;)                               \
 319   template(linkMethod_signature, &quot;(Ljava/lang/Class;ILjava/lang/Class;Ljava/lang/String;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/invoke/MemberName;&quot;) \
 320   template(linkDynamicConstant_name,                  &quot;linkDynamicConstant&quot;)                      \
 321   template(linkDynamicConstant_signature, &quot;(Ljava/lang/Object;ILjava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;&quot;) \
 322   template(linkCallSite_name,                         &quot;linkCallSite&quot;)                             \
 323   template(linkCallSite_signature, &quot;(Ljava/lang/Object;ILjava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/invoke/MemberName;&quot;) \
 324   template(setTargetNormal_name,                      &quot;setTargetNormal&quot;)                          \
 325   template(setTargetVolatile_name,                    &quot;setTargetVolatile&quot;)                        \
 326   template(setTarget_signature,                       &quot;(Ljava/lang/invoke/MethodHandle;)V&quot;)       \
 327   template(DEFAULT_CONTEXT_name,                      &quot;DEFAULT_CONTEXT&quot;)                          \
 328   NOT_LP64(  do_alias(intptr_signature,               int_signature)  )                           \
 329   LP64_ONLY( do_alias(intptr_signature,               long_signature) )                           \
<span class="line-modified"> 330                                                                                                                                       \</span>
<span class="line-modified"> 331   /* Support for JVMCI */                                                                                                             \</span>

 332   JVMCI_VM_SYMBOLS_DO(template, do_alias)                                                         \
 333                                                                                                   \
 334   template(java_lang_StackWalker,                     &quot;java/lang/StackWalker&quot;)                    \
 335   template(java_lang_StackFrameInfo,                  &quot;java/lang/StackFrameInfo&quot;)                 \
 336   template(java_lang_LiveStackFrameInfo,              &quot;java/lang/LiveStackFrameInfo&quot;)             \
 337   template(java_lang_StackStreamFactory_AbstractStackWalker, &quot;java/lang/StackStreamFactory$AbstractStackWalker&quot;) \
 338   template(doStackWalk_signature,                     &quot;(JIIII)Ljava/lang/Object;&quot;)                \
 339   template(asPrimitive_name,                          &quot;asPrimitive&quot;)                              \
 340   template(asPrimitive_int_signature,                 &quot;(I)Ljava/lang/LiveStackFrame$PrimitiveSlot;&quot;) \
 341   template(asPrimitive_long_signature,                &quot;(J)Ljava/lang/LiveStackFrame$PrimitiveSlot;&quot;) \
 342                                                                                                   \
 343   /* common method and field names */                                                             \
 344   template(object_initializer_name,                   &quot;&lt;init&gt;&quot;)                                   \
 345   template(class_initializer_name,                    &quot;&lt;clinit&gt;&quot;)                                 \
 346   template(println_name,                              &quot;println&quot;)                                  \
 347   template(printStackTrace_name,                      &quot;printStackTrace&quot;)                          \
 348   template(main_name,                                 &quot;main&quot;)                                     \
 349   template(name_name,                                 &quot;name&quot;)                                     \
 350   template(priority_name,                             &quot;priority&quot;)                                 \
 351   template(stillborn_name,                            &quot;stillborn&quot;)                                \
</pre>
<hr />
<pre>
 437   template(print_stream_signature,                    &quot;Ljava/io/PrintStream;&quot;)                    \
 438   template(security_manager_signature,                &quot;Ljava/lang/SecurityManager;&quot;)              \
 439   template(definePackage_name,                        &quot;definePackage&quot;)                            \
 440   template(definePackage_signature,                   &quot;(Ljava/lang/String;Ljava/lang/Module;)Ljava/lang/Package;&quot;) \
 441   template(defineOrCheckPackage_name,                 &quot;defineOrCheckPackage&quot;)                     \
 442   template(defineOrCheckPackage_signature,            &quot;(Ljava/lang/String;Ljava/util/jar/Manifest;Ljava/net/URL;)Ljava/lang/Package;&quot;) \
 443   template(fileToEncodedURL_name,                     &quot;fileToEncodedURL&quot;)                         \
 444   template(fileToEncodedURL_signature,                &quot;(Ljava/io/File;)Ljava/net/URL;&quot;)           \
 445   template(getProtectionDomain_name,                  &quot;getProtectionDomain&quot;)                      \
 446   template(getProtectionDomain_signature,             &quot;(Ljava/security/CodeSource;)Ljava/security/ProtectionDomain;&quot;) \
 447   template(java_lang_Integer_array_signature,         &quot;[Ljava/lang/Integer;&quot;)                     \
 448   template(java_lang_Long_array_signature,            &quot;[Ljava/lang/Long;&quot;)                        \
 449   template(java_lang_Character_array_signature,       &quot;[Ljava/lang/Character;&quot;)                   \
 450   template(java_lang_Short_array_signature,           &quot;[Ljava/lang/Short;&quot;)                       \
 451   template(java_lang_Byte_array_signature,            &quot;[Ljava/lang/Byte;&quot;)                        \
 452   template(java_lang_Boolean_signature,               &quot;Ljava/lang/Boolean;&quot;)                      \
 453   template(url_code_signer_array_void_signature,      &quot;(Ljava/net/URL;[Ljava/security/CodeSigner;)V&quot;) \
 454   template(module_entry_name,                         &quot;module_entry&quot;)                             \
 455   template(resolved_references_name,                  &quot;&lt;resolved_references&gt;&quot;)                    \
 456   template(init_lock_name,                            &quot;&lt;init_lock&gt;&quot;)                              \


 457   template(address_size_name,                         &quot;ADDRESS_SIZE0&quot;)                            \
 458   template(page_size_name,                            &quot;PAGE_SIZE&quot;)                                \
 459   template(big_endian_name,                           &quot;BIG_ENDIAN&quot;)                               \
 460   template(use_unaligned_access_name,                 &quot;UNALIGNED_ACCESS&quot;)                         \
 461   template(data_cache_line_flush_size_name,           &quot;DATA_CACHE_LINE_FLUSH_SIZE&quot;)               \
 462                                                                                                   \
 463   /* name symbols needed by intrinsics */                                                         \
 464   VM_INTRINSICS_DO(VM_INTRINSIC_IGNORE, VM_SYMBOL_IGNORE, template, VM_SYMBOL_IGNORE, VM_ALIAS_IGNORE) \
 465                                                                                                   \
 466   /* common signatures names */                                                                   \
 467   template(void_method_signature,                     &quot;()V&quot;)                                      \
 468   template(void_boolean_signature,                    &quot;()Z&quot;)                                      \
 469   template(void_byte_signature,                       &quot;()B&quot;)                                      \
 470   template(void_char_signature,                       &quot;()C&quot;)                                      \
 471   template(void_short_signature,                      &quot;()S&quot;)                                      \
 472   template(void_int_signature,                        &quot;()I&quot;)                                      \
 473   template(void_long_signature,                       &quot;()J&quot;)                                      \
 474   template(void_float_signature,                      &quot;()F&quot;)                                      \
 475   template(void_double_signature,                     &quot;()D&quot;)                                      \
 476   template(bool_void_signature,                       &quot;(Z)V&quot;)                                     \
</pre>
<hr />
<pre>
 506   template(object_boolean_signature,                  &quot;(Ljava/lang/Object;)Z&quot;)                    \
 507   template(object_object_signature,                   &quot;(Ljava/lang/Object;)Ljava/lang/Object;&quot;)   \
 508   template(string_void_signature,                     &quot;(Ljava/lang/String;)V&quot;)                    \
 509   template(string_int_signature,                      &quot;(Ljava/lang/String;)I&quot;)                    \
 510   template(throwable_void_signature,                  &quot;(Ljava/lang/Throwable;)V&quot;)                 \
 511   template(void_throwable_signature,                  &quot;()Ljava/lang/Throwable;&quot;)                  \
 512   template(throwable_throwable_signature,             &quot;(Ljava/lang/Throwable;)Ljava/lang/Throwable;&quot;)             \
 513   template(class_void_signature,                      &quot;(Ljava/lang/Class;)V&quot;)                     \
 514   template(class_int_signature,                       &quot;(Ljava/lang/Class;)I&quot;)                     \
 515   template(class_long_signature,                      &quot;(Ljava/lang/Class;)J&quot;)                     \
 516   template(class_boolean_signature,                   &quot;(Ljava/lang/Class;)Z&quot;)                     \
 517   template(throwable_string_void_signature,           &quot;(Ljava/lang/Throwable;Ljava/lang/String;)V&quot;)               \
 518   template(string_array_void_signature,               &quot;([Ljava/lang/String;)V&quot;)                                   \
 519   template(string_array_string_array_void_signature,  &quot;([Ljava/lang/String;[Ljava/lang/String;)V&quot;)                \
 520   template(thread_throwable_void_signature,           &quot;(Ljava/lang/Thread;Ljava/lang/Throwable;)V&quot;)               \
 521   template(thread_void_signature,                     &quot;(Ljava/lang/Thread;)V&quot;)                                    \
 522   template(threadgroup_runnable_void_signature,       &quot;(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;)V&quot;)           \
 523   template(threadgroup_string_void_signature,         &quot;(Ljava/lang/ThreadGroup;Ljava/lang/String;)V&quot;)             \
 524   template(string_class_signature,                    &quot;(Ljava/lang/String;)Ljava/lang/Class;&quot;)                    \
 525   template(object_object_object_signature,            &quot;(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;&quot;) \

 526   template(string_string_string_signature,            &quot;(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;&quot;) \
 527   template(string_string_signature,                   &quot;(Ljava/lang/String;)Ljava/lang/String;&quot;)                   \
 528   template(classloader_string_long_signature,         &quot;(Ljava/lang/ClassLoader;Ljava/lang/String;)J&quot;)             \
 529   template(byte_array_void_signature,                 &quot;([B)V&quot;)                                                    \
 530   template(char_array_void_signature,                 &quot;([C)V&quot;)                                                    \
 531   template(int_int_void_signature,                    &quot;(II)V&quot;)                                                    \
 532   template(long_long_void_signature,                  &quot;(JJ)V&quot;)                                                    \
 533   template(void_classloader_signature,                &quot;()Ljava/lang/ClassLoader;&quot;)                                \
 534   template(void_object_signature,                     &quot;()Ljava/lang/Object;&quot;)                                     \
 535   template(void_class_signature,                      &quot;()Ljava/lang/Class;&quot;)                                      \
 536   template(void_class_array_signature,                &quot;()[Ljava/lang/Class;&quot;)                                     \
 537   template(void_string_signature,                     &quot;()Ljava/lang/String;&quot;)                                     \
 538   template(void_module_signature,                     &quot;()Ljava/lang/Module;&quot;)                                     \
 539   template(object_array_object_signature,             &quot;([Ljava/lang/Object;)Ljava/lang/Object;&quot;)                  \
 540   template(object_object_array_object_signature,      &quot;(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;&quot;)\
 541   template(exception_void_signature,                  &quot;(Ljava/lang/Exception;)V&quot;)                                 \
 542   template(protectiondomain_signature,                &quot;[Ljava/security/ProtectionDomain;&quot;)                        \
 543   template(accesscontrolcontext_signature,            &quot;Ljava/security/AccessControlContext;&quot;)                     \
 544   template(class_protectiondomain_signature,          &quot;(Ljava/lang/Class;Ljava/security/ProtectionDomain;)V&quot;)     \
 545   template(thread_signature,                          &quot;Ljava/lang/Thread;&quot;)                                       \
</pre>
<hr />
<pre>
 656   do_alias(appendToClassPathForInstrumentation_signature, string_void_signature)                                  \
 657   template(serializePropertiesToByteArray_name,        &quot;serializePropertiesToByteArray&quot;)                          \
 658   template(serializePropertiesToByteArray_signature,   &quot;()[B&quot;)                                                    \
 659   template(serializeAgentPropertiesToByteArray_name,   &quot;serializeAgentPropertiesToByteArray&quot;)                     \
 660   template(classRedefinedCount_name,                   &quot;classRedefinedCount&quot;)                                     \
 661   template(classLoader_name,                           &quot;classLoader&quot;)                                             \
 662   template(componentType_name,                         &quot;componentType&quot;)                                           \
 663                                                                                                                   \
 664   /* forEachRemaining support */                                                                                  \
 665   template(java_util_stream_StreamsRangeIntSpliterator,          &quot;java/util/stream/Streams$RangeIntSpliterator&quot;)  \
 666                                                                                                                   \
 667   /* jfr signatures */                                                                                            \
 668   JFR_TEMPLATES(template)                                                                                         \
 669                                                                                                                   \
 670   /* cds */                                                                                                       \
 671   template(jdk_internal_loader_ClassLoaders,       &quot;jdk/internal/loader/ClassLoaders&quot;)                            \
 672   template(toFileURL_name,                         &quot;toFileURL&quot;)                                                   \
 673   template(toFileURL_signature,                    &quot;(Ljava/lang/String;)Ljava/net/URL;&quot;)                          \
 674   template(url_void_signature,                     &quot;(Ljava/net/URL;)V&quot;)                                           \
 675                                                                                                                   \




 676   /*end*/
 677 
 678 // Here are all the intrinsics known to the runtime and the CI.
 679 // Each intrinsic consists of a public enum name (like _hashCode),
 680 // followed by a specification of its klass, name, and signature:
 681 //    template(&lt;id&gt;,  &lt;klass&gt;,  &lt;name&gt;, &lt;sig&gt;, &lt;FCODE&gt;)
 682 //
 683 // If you add an intrinsic here, you must also define its name
 684 // and signature as members of the VM symbols.  The VM symbols for
 685 // the intrinsic name and signature may be defined above.
 686 //
 687 // Because the VM_SYMBOLS_DO macro makes reference to VM_INTRINSICS_DO,
 688 // you can also define an intrinsic&#39;s name and/or signature locally to the
 689 // intrinsic, if this makes sense.  (It often does make sense.)
 690 //
 691 // For example:
 692 //    do_intrinsic(_foo,  java_lang_Object,  foo_name, foo_signature, F_xx)
 693 //     do_name(     foo_name, &quot;foo&quot;)
 694 //     do_signature(foo_signature, &quot;()F&quot;)
 695 // klass      = vmSymbols::java_lang_Object()
</pre>
<hr />
<pre>
1147                                                                                                                         \
1148   /* unsafe memory references (there are a lot of them...) */                                                           \
1149   do_signature(getReference_signature,    &quot;(Ljava/lang/Object;J)Ljava/lang/Object;&quot;)                                    \
1150   do_signature(putReference_signature,    &quot;(Ljava/lang/Object;JLjava/lang/Object;)V&quot;)                                   \
1151   do_signature(getBoolean_signature,      &quot;(Ljava/lang/Object;J)Z&quot;)                                                     \
1152   do_signature(putBoolean_signature,      &quot;(Ljava/lang/Object;JZ)V&quot;)                                                    \
1153   do_signature(getByte_signature,         &quot;(Ljava/lang/Object;J)B&quot;)                                                     \
1154   do_signature(putByte_signature,         &quot;(Ljava/lang/Object;JB)V&quot;)                                                    \
1155   do_signature(getShort_signature,        &quot;(Ljava/lang/Object;J)S&quot;)                                                     \
1156   do_signature(putShort_signature,        &quot;(Ljava/lang/Object;JS)V&quot;)                                                    \
1157   do_signature(getChar_signature,         &quot;(Ljava/lang/Object;J)C&quot;)                                                     \
1158   do_signature(putChar_signature,         &quot;(Ljava/lang/Object;JC)V&quot;)                                                    \
1159   do_signature(getInt_signature,          &quot;(Ljava/lang/Object;J)I&quot;)                                                     \
1160   do_signature(putInt_signature,          &quot;(Ljava/lang/Object;JI)V&quot;)                                                    \
1161   do_signature(getLong_signature,         &quot;(Ljava/lang/Object;J)J&quot;)                                                     \
1162   do_signature(putLong_signature,         &quot;(Ljava/lang/Object;JJ)V&quot;)                                                    \
1163   do_signature(getFloat_signature,        &quot;(Ljava/lang/Object;J)F&quot;)                                                     \
1164   do_signature(putFloat_signature,        &quot;(Ljava/lang/Object;JF)V&quot;)                                                    \
1165   do_signature(getDouble_signature,       &quot;(Ljava/lang/Object;J)D&quot;)                                                     \
1166   do_signature(putDouble_signature,       &quot;(Ljava/lang/Object;JD)V&quot;)                                                    \


1167                                                                                                                         \
1168   do_name(getReference_name,&quot;getReference&quot;)     do_name(putReference_name,&quot;putReference&quot;)                               \
1169   do_name(getBoolean_name,&quot;getBoolean&quot;)         do_name(putBoolean_name,&quot;putBoolean&quot;)                                   \
1170   do_name(getByte_name,&quot;getByte&quot;)               do_name(putByte_name,&quot;putByte&quot;)                                         \
1171   do_name(getShort_name,&quot;getShort&quot;)             do_name(putShort_name,&quot;putShort&quot;)                                       \
1172   do_name(getChar_name,&quot;getChar&quot;)               do_name(putChar_name,&quot;putChar&quot;)                                         \
1173   do_name(getInt_name,&quot;getInt&quot;)                 do_name(putInt_name,&quot;putInt&quot;)                                           \
1174   do_name(getLong_name,&quot;getLong&quot;)               do_name(putLong_name,&quot;putLong&quot;)                                         \
1175   do_name(getFloat_name,&quot;getFloat&quot;)             do_name(putFloat_name,&quot;putFloat&quot;)                                       \
1176   do_name(getDouble_name,&quot;getDouble&quot;)           do_name(putDouble_name,&quot;putDouble&quot;)                                     \



1177                                                                                                                         \
1178   do_intrinsic(_getReference,       jdk_internal_misc_Unsafe,     getReference_name, getReference_signature,     F_RN)  \
1179   do_intrinsic(_getBoolean,         jdk_internal_misc_Unsafe,     getBoolean_name, getBoolean_signature,         F_RN)  \
1180   do_intrinsic(_getByte,            jdk_internal_misc_Unsafe,     getByte_name, getByte_signature,               F_RN)  \
1181   do_intrinsic(_getShort,           jdk_internal_misc_Unsafe,     getShort_name, getShort_signature,             F_RN)  \
1182   do_intrinsic(_getChar,            jdk_internal_misc_Unsafe,     getChar_name, getChar_signature,               F_RN)  \
1183   do_intrinsic(_getInt,             jdk_internal_misc_Unsafe,     getInt_name, getInt_signature,                 F_RN)  \
1184   do_intrinsic(_getLong,            jdk_internal_misc_Unsafe,     getLong_name, getLong_signature,               F_RN)  \
1185   do_intrinsic(_getFloat,           jdk_internal_misc_Unsafe,     getFloat_name, getFloat_signature,             F_RN)  \
1186   do_intrinsic(_getDouble,          jdk_internal_misc_Unsafe,     getDouble_name, getDouble_signature,           F_RN)  \

1187   do_intrinsic(_putReference,       jdk_internal_misc_Unsafe,     putReference_name, putReference_signature,     F_RN)  \
1188   do_intrinsic(_putBoolean,         jdk_internal_misc_Unsafe,     putBoolean_name, putBoolean_signature,         F_RN)  \
1189   do_intrinsic(_putByte,            jdk_internal_misc_Unsafe,     putByte_name, putByte_signature,               F_RN)  \
1190   do_intrinsic(_putShort,           jdk_internal_misc_Unsafe,     putShort_name, putShort_signature,             F_RN)  \
1191   do_intrinsic(_putChar,            jdk_internal_misc_Unsafe,     putChar_name, putChar_signature,               F_RN)  \
1192   do_intrinsic(_putInt,             jdk_internal_misc_Unsafe,     putInt_name, putInt_signature,                 F_RN)  \
1193   do_intrinsic(_putLong,            jdk_internal_misc_Unsafe,     putLong_name, putLong_signature,               F_RN)  \
1194   do_intrinsic(_putFloat,           jdk_internal_misc_Unsafe,     putFloat_name, putFloat_signature,             F_RN)  \
1195   do_intrinsic(_putDouble,          jdk_internal_misc_Unsafe,     putDouble_name, putDouble_signature,           F_RN)  \




1196                                                                                                                         \
1197   do_name(getReferenceVolatile_name,&quot;getReferenceVolatile&quot;)   do_name(putReferenceVolatile_name,&quot;putReferenceVolatile&quot;) \
1198   do_name(getBooleanVolatile_name,&quot;getBooleanVolatile&quot;)       do_name(putBooleanVolatile_name,&quot;putBooleanVolatile&quot;)     \
1199   do_name(getByteVolatile_name,&quot;getByteVolatile&quot;)             do_name(putByteVolatile_name,&quot;putByteVolatile&quot;)           \
1200   do_name(getShortVolatile_name,&quot;getShortVolatile&quot;)           do_name(putShortVolatile_name,&quot;putShortVolatile&quot;)         \
1201   do_name(getCharVolatile_name,&quot;getCharVolatile&quot;)             do_name(putCharVolatile_name,&quot;putCharVolatile&quot;)           \
1202   do_name(getIntVolatile_name,&quot;getIntVolatile&quot;)               do_name(putIntVolatile_name,&quot;putIntVolatile&quot;)             \
1203   do_name(getLongVolatile_name,&quot;getLongVolatile&quot;)             do_name(putLongVolatile_name,&quot;putLongVolatile&quot;)           \
1204   do_name(getFloatVolatile_name,&quot;getFloatVolatile&quot;)           do_name(putFloatVolatile_name,&quot;putFloatVolatile&quot;)         \
1205   do_name(getDoubleVolatile_name,&quot;getDoubleVolatile&quot;)         do_name(putDoubleVolatile_name,&quot;putDoubleVolatile&quot;)       \
1206                                                                                                                         \
1207   do_intrinsic(_getReferenceVolatile,     jdk_internal_misc_Unsafe,     getReferenceVolatile_name, getReference_signature, F_RN)  \
1208   do_intrinsic(_getBooleanVolatile,       jdk_internal_misc_Unsafe,     getBooleanVolatile_name, getBoolean_signature,     F_RN)  \
1209   do_intrinsic(_getByteVolatile,          jdk_internal_misc_Unsafe,     getByteVolatile_name, getByte_signature,           F_RN)  \
1210   do_intrinsic(_getShortVolatile,         jdk_internal_misc_Unsafe,     getShortVolatile_name, getShort_signature,         F_RN)  \
1211   do_intrinsic(_getCharVolatile,          jdk_internal_misc_Unsafe,     getCharVolatile_name, getChar_signature,           F_RN)  \
1212   do_intrinsic(_getIntVolatile,           jdk_internal_misc_Unsafe,     getIntVolatile_name, getInt_signature,             F_RN)  \
1213   do_intrinsic(_getLongVolatile,          jdk_internal_misc_Unsafe,     getLongVolatile_name, getLong_signature,           F_RN)  \
1214   do_intrinsic(_getFloatVolatile,         jdk_internal_misc_Unsafe,     getFloatVolatile_name, getFloat_signature,         F_RN)  \
1215   do_intrinsic(_getDoubleVolatile,        jdk_internal_misc_Unsafe,     getDoubleVolatile_name, getDouble_signature,       F_RN)  \
</pre>
<hr />
<pre>
1520   friend class VMStructs;
1521   friend class JVMCIVMStructs;
1522  public:
1523   // enum for figuring positions and size of array holding Symbol*s
1524   enum SID {
1525     NO_SID = 0,
1526 
1527     #define VM_SYMBOL_ENUM(name, string) VM_SYMBOL_ENUM_NAME(name),
1528     VM_SYMBOLS_DO(VM_SYMBOL_ENUM, VM_ALIAS_IGNORE)
1529     #undef VM_SYMBOL_ENUM
1530 
1531     SID_LIMIT,
1532 
1533     #define VM_ALIAS_ENUM(name, def) VM_SYMBOL_ENUM_NAME(name) = VM_SYMBOL_ENUM_NAME(def),
1534     VM_SYMBOLS_DO(VM_SYMBOL_IGNORE, VM_ALIAS_ENUM)
1535     #undef VM_ALIAS_ENUM
1536 
1537     FIRST_SID = NO_SID + 1
1538   };
1539   enum {
<span class="line-modified">1540     log2_SID_LIMIT = 10         // checked by an assert at start-up</span>
1541   };
1542 
1543  private:
1544   // The symbol array
1545   static Symbol* _symbols[];
1546 
1547   // Field signatures indexed by BasicType.
1548   static Symbol* _type_signatures[T_VOID+1];
1549 
1550  public:
1551   // Initialization
1552   static void initialize(TRAPS);
1553   // Accessing
1554   #define VM_SYMBOL_DECLARE(name, ignore)                 \
1555     static Symbol* name() {                               \
1556       return _symbols[VM_SYMBOL_ENUM_NAME(name)];         \
1557     }
1558   VM_SYMBOLS_DO(VM_SYMBOL_DECLARE, VM_SYMBOL_DECLARE)
1559   #undef VM_SYMBOL_DECLARE
1560 
</pre>
</td>
<td>
<hr />
<pre>
  37 //
  38 // Sample usage:
  39 //
  40 //   Symbol* obj       = vmSymbols::java_lang_Object();
  41 
  42 
  43 // Useful sub-macros exported by this header file:
  44 
  45 #define VM_SYMBOL_ENUM_NAME(name)    name##_enum
  46 #define VM_INTRINSIC_IGNORE(id, class, name, sig, flags) /*ignored*/
  47 #define VM_SYMBOL_IGNORE(id, name)                       /*ignored*/
  48 #define VM_ALIAS_IGNORE(id, id2)                         /*ignored*/
  49 
  50 // Mapping function names to values. New entries should be added below.
  51 
  52 #define VM_SYMBOLS_DO(template, do_alias)                                                         \
  53   /* commonly used class, package, module names */                                                \
  54   template(java_base,                                 &quot;java.base&quot;)                                \
  55   template(java_lang_System,                          &quot;java/lang/System&quot;)                         \
  56   template(java_lang_Object,                          &quot;java/lang/Object&quot;)                         \
<span class="line-added">  57   template(java_lang_IdentityObject,                  &quot;java/lang/IdentityObject&quot;)                 \</span>
  58   template(java_lang_Class,                           &quot;java/lang/Class&quot;)                          \
  59   template(java_lang_Package,                         &quot;java/lang/Package&quot;)                        \
  60   template(java_lang_Module,                          &quot;java/lang/Module&quot;)                         \
  61   template(java_lang_String,                          &quot;java/lang/String&quot;)                         \
  62   template(java_lang_StringLatin1,                    &quot;java/lang/StringLatin1&quot;)                   \
  63   template(java_lang_StringUTF16,                     &quot;java/lang/StringUTF16&quot;)                    \
  64   template(java_lang_Thread,                          &quot;java/lang/Thread&quot;)                         \
  65   template(java_lang_ThreadGroup,                     &quot;java/lang/ThreadGroup&quot;)                    \
  66   template(java_lang_Cloneable,                       &quot;java/lang/Cloneable&quot;)                      \
<span class="line-added">  67   template(java_lang_NonTearable,                     &quot;java/lang/NonTearable&quot;)                    \</span>
  68   template(java_lang_Throwable,                       &quot;java/lang/Throwable&quot;)                      \
  69   template(java_lang_ClassLoader,                     &quot;java/lang/ClassLoader&quot;)                    \
  70   template(java_lang_ThreadDeath,                     &quot;java/lang/ThreadDeath&quot;)                    \
  71   template(java_lang_Boolean,                         &quot;java/lang/Boolean&quot;)                        \
  72   template(java_lang_Character,                       &quot;java/lang/Character&quot;)                      \
  73   template(java_lang_Character_CharacterCache,        &quot;java/lang/Character$CharacterCache&quot;)       \
  74   template(java_lang_CharacterDataLatin1,             &quot;java/lang/CharacterDataLatin1&quot;)            \
  75   template(java_lang_Float,                           &quot;java/lang/Float&quot;)                          \
  76   template(java_lang_Double,                          &quot;java/lang/Double&quot;)                         \
  77   template(java_lang_Byte,                            &quot;java/lang/Byte&quot;)                           \
  78   template(java_lang_Byte_ByteCache,                  &quot;java/lang/Byte$ByteCache&quot;)                 \
  79   template(java_lang_Short,                           &quot;java/lang/Short&quot;)                          \
  80   template(java_lang_Short_ShortCache,                &quot;java/lang/Short$ShortCache&quot;)               \
  81   template(java_lang_Integer,                         &quot;java/lang/Integer&quot;)                        \
  82   template(java_lang_Integer_IntegerCache,            &quot;java/lang/Integer$IntegerCache&quot;)           \
  83   template(java_lang_Long,                            &quot;java/lang/Long&quot;)                           \
  84   template(java_lang_Long_LongCache,                  &quot;java/lang/Long$LongCache&quot;)                 \
  85   template(java_lang_Shutdown,                        &quot;java/lang/Shutdown&quot;)                       \
  86   template(java_lang_ref_Reference,                   &quot;java/lang/ref/Reference&quot;)                  \
  87   template(java_lang_ref_SoftReference,               &quot;java/lang/ref/SoftReference&quot;)              \
</pre>
<hr />
<pre>
 312   template(java_lang_invoke_LambdaForm_Compiled_signature, &quot;Ljava/lang/invoke/LambdaForm$Compiled;&quot;) \
 313   template(java_lang_invoke_MethodHandleNatives_CallSiteContext_signature, &quot;Ljava/lang/invoke/MethodHandleNatives$CallSiteContext;&quot;) \
 314   /* internal up-calls made only by the JVM, via class sun.invoke.MethodHandleNatives: */         \
 315   template(findMethodHandleType_name,                 &quot;findMethodHandleType&quot;)                     \
 316   template(findMethodHandleType_signature,       &quot;(Ljava/lang/Class;[Ljava/lang/Class;)Ljava/lang/invoke/MethodType;&quot;) \
 317   template(invokeExact_name,                          &quot;invokeExact&quot;)                              \
 318   template(linkMethodHandleConstant_name,             &quot;linkMethodHandleConstant&quot;)                 \
 319   template(linkMethodHandleConstant_signature, &quot;(Ljava/lang/Class;ILjava/lang/Class;Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/invoke/MethodHandle;&quot;) \
 320   template(linkMethod_name,                           &quot;linkMethod&quot;)                               \
 321   template(linkMethod_signature, &quot;(Ljava/lang/Class;ILjava/lang/Class;Ljava/lang/String;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/invoke/MemberName;&quot;) \
 322   template(linkDynamicConstant_name,                  &quot;linkDynamicConstant&quot;)                      \
 323   template(linkDynamicConstant_signature, &quot;(Ljava/lang/Object;ILjava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;&quot;) \
 324   template(linkCallSite_name,                         &quot;linkCallSite&quot;)                             \
 325   template(linkCallSite_signature, &quot;(Ljava/lang/Object;ILjava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/invoke/MemberName;&quot;) \
 326   template(setTargetNormal_name,                      &quot;setTargetNormal&quot;)                          \
 327   template(setTargetVolatile_name,                    &quot;setTargetVolatile&quot;)                        \
 328   template(setTarget_signature,                       &quot;(Ljava/lang/invoke/MethodHandle;)V&quot;)       \
 329   template(DEFAULT_CONTEXT_name,                      &quot;DEFAULT_CONTEXT&quot;)                          \
 330   NOT_LP64(  do_alias(intptr_signature,               int_signature)  )                           \
 331   LP64_ONLY( do_alias(intptr_signature,               long_signature) )                           \
<span class="line-modified"> 332                                                                                                   \</span>
<span class="line-modified"> 333                                                                                                   \</span>
<span class="line-added"> 334   /* Support for JVMCI */                                                                         \</span>
 335   JVMCI_VM_SYMBOLS_DO(template, do_alias)                                                         \
 336                                                                                                   \
 337   template(java_lang_StackWalker,                     &quot;java/lang/StackWalker&quot;)                    \
 338   template(java_lang_StackFrameInfo,                  &quot;java/lang/StackFrameInfo&quot;)                 \
 339   template(java_lang_LiveStackFrameInfo,              &quot;java/lang/LiveStackFrameInfo&quot;)             \
 340   template(java_lang_StackStreamFactory_AbstractStackWalker, &quot;java/lang/StackStreamFactory$AbstractStackWalker&quot;) \
 341   template(doStackWalk_signature,                     &quot;(JIIII)Ljava/lang/Object;&quot;)                \
 342   template(asPrimitive_name,                          &quot;asPrimitive&quot;)                              \
 343   template(asPrimitive_int_signature,                 &quot;(I)Ljava/lang/LiveStackFrame$PrimitiveSlot;&quot;) \
 344   template(asPrimitive_long_signature,                &quot;(J)Ljava/lang/LiveStackFrame$PrimitiveSlot;&quot;) \
 345                                                                                                   \
 346   /* common method and field names */                                                             \
 347   template(object_initializer_name,                   &quot;&lt;init&gt;&quot;)                                   \
 348   template(class_initializer_name,                    &quot;&lt;clinit&gt;&quot;)                                 \
 349   template(println_name,                              &quot;println&quot;)                                  \
 350   template(printStackTrace_name,                      &quot;printStackTrace&quot;)                          \
 351   template(main_name,                                 &quot;main&quot;)                                     \
 352   template(name_name,                                 &quot;name&quot;)                                     \
 353   template(priority_name,                             &quot;priority&quot;)                                 \
 354   template(stillborn_name,                            &quot;stillborn&quot;)                                \
</pre>
<hr />
<pre>
 440   template(print_stream_signature,                    &quot;Ljava/io/PrintStream;&quot;)                    \
 441   template(security_manager_signature,                &quot;Ljava/lang/SecurityManager;&quot;)              \
 442   template(definePackage_name,                        &quot;definePackage&quot;)                            \
 443   template(definePackage_signature,                   &quot;(Ljava/lang/String;Ljava/lang/Module;)Ljava/lang/Package;&quot;) \
 444   template(defineOrCheckPackage_name,                 &quot;defineOrCheckPackage&quot;)                     \
 445   template(defineOrCheckPackage_signature,            &quot;(Ljava/lang/String;Ljava/util/jar/Manifest;Ljava/net/URL;)Ljava/lang/Package;&quot;) \
 446   template(fileToEncodedURL_name,                     &quot;fileToEncodedURL&quot;)                         \
 447   template(fileToEncodedURL_signature,                &quot;(Ljava/io/File;)Ljava/net/URL;&quot;)           \
 448   template(getProtectionDomain_name,                  &quot;getProtectionDomain&quot;)                      \
 449   template(getProtectionDomain_signature,             &quot;(Ljava/security/CodeSource;)Ljava/security/ProtectionDomain;&quot;) \
 450   template(java_lang_Integer_array_signature,         &quot;[Ljava/lang/Integer;&quot;)                     \
 451   template(java_lang_Long_array_signature,            &quot;[Ljava/lang/Long;&quot;)                        \
 452   template(java_lang_Character_array_signature,       &quot;[Ljava/lang/Character;&quot;)                   \
 453   template(java_lang_Short_array_signature,           &quot;[Ljava/lang/Short;&quot;)                       \
 454   template(java_lang_Byte_array_signature,            &quot;[Ljava/lang/Byte;&quot;)                        \
 455   template(java_lang_Boolean_signature,               &quot;Ljava/lang/Boolean;&quot;)                      \
 456   template(url_code_signer_array_void_signature,      &quot;(Ljava/net/URL;[Ljava/security/CodeSigner;)V&quot;) \
 457   template(module_entry_name,                         &quot;module_entry&quot;)                             \
 458   template(resolved_references_name,                  &quot;&lt;resolved_references&gt;&quot;)                    \
 459   template(init_lock_name,                            &quot;&lt;init_lock&gt;&quot;)                              \
<span class="line-added"> 460   template(default_value_name,                        &quot;.default&quot;)                                 \</span>
<span class="line-added"> 461   template(empty_marker_name,                         &quot;.empty&quot;)                                   \</span>
 462   template(address_size_name,                         &quot;ADDRESS_SIZE0&quot;)                            \
 463   template(page_size_name,                            &quot;PAGE_SIZE&quot;)                                \
 464   template(big_endian_name,                           &quot;BIG_ENDIAN&quot;)                               \
 465   template(use_unaligned_access_name,                 &quot;UNALIGNED_ACCESS&quot;)                         \
 466   template(data_cache_line_flush_size_name,           &quot;DATA_CACHE_LINE_FLUSH_SIZE&quot;)               \
 467                                                                                                   \
 468   /* name symbols needed by intrinsics */                                                         \
 469   VM_INTRINSICS_DO(VM_INTRINSIC_IGNORE, VM_SYMBOL_IGNORE, template, VM_SYMBOL_IGNORE, VM_ALIAS_IGNORE) \
 470                                                                                                   \
 471   /* common signatures names */                                                                   \
 472   template(void_method_signature,                     &quot;()V&quot;)                                      \
 473   template(void_boolean_signature,                    &quot;()Z&quot;)                                      \
 474   template(void_byte_signature,                       &quot;()B&quot;)                                      \
 475   template(void_char_signature,                       &quot;()C&quot;)                                      \
 476   template(void_short_signature,                      &quot;()S&quot;)                                      \
 477   template(void_int_signature,                        &quot;()I&quot;)                                      \
 478   template(void_long_signature,                       &quot;()J&quot;)                                      \
 479   template(void_float_signature,                      &quot;()F&quot;)                                      \
 480   template(void_double_signature,                     &quot;()D&quot;)                                      \
 481   template(bool_void_signature,                       &quot;(Z)V&quot;)                                     \
</pre>
<hr />
<pre>
 511   template(object_boolean_signature,                  &quot;(Ljava/lang/Object;)Z&quot;)                    \
 512   template(object_object_signature,                   &quot;(Ljava/lang/Object;)Ljava/lang/Object;&quot;)   \
 513   template(string_void_signature,                     &quot;(Ljava/lang/String;)V&quot;)                    \
 514   template(string_int_signature,                      &quot;(Ljava/lang/String;)I&quot;)                    \
 515   template(throwable_void_signature,                  &quot;(Ljava/lang/Throwable;)V&quot;)                 \
 516   template(void_throwable_signature,                  &quot;()Ljava/lang/Throwable;&quot;)                  \
 517   template(throwable_throwable_signature,             &quot;(Ljava/lang/Throwable;)Ljava/lang/Throwable;&quot;)             \
 518   template(class_void_signature,                      &quot;(Ljava/lang/Class;)V&quot;)                     \
 519   template(class_int_signature,                       &quot;(Ljava/lang/Class;)I&quot;)                     \
 520   template(class_long_signature,                      &quot;(Ljava/lang/Class;)J&quot;)                     \
 521   template(class_boolean_signature,                   &quot;(Ljava/lang/Class;)Z&quot;)                     \
 522   template(throwable_string_void_signature,           &quot;(Ljava/lang/Throwable;Ljava/lang/String;)V&quot;)               \
 523   template(string_array_void_signature,               &quot;([Ljava/lang/String;)V&quot;)                                   \
 524   template(string_array_string_array_void_signature,  &quot;([Ljava/lang/String;[Ljava/lang/String;)V&quot;)                \
 525   template(thread_throwable_void_signature,           &quot;(Ljava/lang/Thread;Ljava/lang/Throwable;)V&quot;)               \
 526   template(thread_void_signature,                     &quot;(Ljava/lang/Thread;)V&quot;)                                    \
 527   template(threadgroup_runnable_void_signature,       &quot;(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;)V&quot;)           \
 528   template(threadgroup_string_void_signature,         &quot;(Ljava/lang/ThreadGroup;Ljava/lang/String;)V&quot;)             \
 529   template(string_class_signature,                    &quot;(Ljava/lang/String;)Ljava/lang/Class;&quot;)                    \
 530   template(object_object_object_signature,            &quot;(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;&quot;) \
<span class="line-added"> 531   template(object_object_boolean_signature,           &quot;(Ljava/lang/Object;Ljava/lang/Object;)Z&quot;) \</span>
 532   template(string_string_string_signature,            &quot;(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;&quot;) \
 533   template(string_string_signature,                   &quot;(Ljava/lang/String;)Ljava/lang/String;&quot;)                   \
 534   template(classloader_string_long_signature,         &quot;(Ljava/lang/ClassLoader;Ljava/lang/String;)J&quot;)             \
 535   template(byte_array_void_signature,                 &quot;([B)V&quot;)                                                    \
 536   template(char_array_void_signature,                 &quot;([C)V&quot;)                                                    \
 537   template(int_int_void_signature,                    &quot;(II)V&quot;)                                                    \
 538   template(long_long_void_signature,                  &quot;(JJ)V&quot;)                                                    \
 539   template(void_classloader_signature,                &quot;()Ljava/lang/ClassLoader;&quot;)                                \
 540   template(void_object_signature,                     &quot;()Ljava/lang/Object;&quot;)                                     \
 541   template(void_class_signature,                      &quot;()Ljava/lang/Class;&quot;)                                      \
 542   template(void_class_array_signature,                &quot;()[Ljava/lang/Class;&quot;)                                     \
 543   template(void_string_signature,                     &quot;()Ljava/lang/String;&quot;)                                     \
 544   template(void_module_signature,                     &quot;()Ljava/lang/Module;&quot;)                                     \
 545   template(object_array_object_signature,             &quot;([Ljava/lang/Object;)Ljava/lang/Object;&quot;)                  \
 546   template(object_object_array_object_signature,      &quot;(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;&quot;)\
 547   template(exception_void_signature,                  &quot;(Ljava/lang/Exception;)V&quot;)                                 \
 548   template(protectiondomain_signature,                &quot;[Ljava/security/ProtectionDomain;&quot;)                        \
 549   template(accesscontrolcontext_signature,            &quot;Ljava/security/AccessControlContext;&quot;)                     \
 550   template(class_protectiondomain_signature,          &quot;(Ljava/lang/Class;Ljava/security/ProtectionDomain;)V&quot;)     \
 551   template(thread_signature,                          &quot;Ljava/lang/Thread;&quot;)                                       \
</pre>
<hr />
<pre>
 662   do_alias(appendToClassPathForInstrumentation_signature, string_void_signature)                                  \
 663   template(serializePropertiesToByteArray_name,        &quot;serializePropertiesToByteArray&quot;)                          \
 664   template(serializePropertiesToByteArray_signature,   &quot;()[B&quot;)                                                    \
 665   template(serializeAgentPropertiesToByteArray_name,   &quot;serializeAgentPropertiesToByteArray&quot;)                     \
 666   template(classRedefinedCount_name,                   &quot;classRedefinedCount&quot;)                                     \
 667   template(classLoader_name,                           &quot;classLoader&quot;)                                             \
 668   template(componentType_name,                         &quot;componentType&quot;)                                           \
 669                                                                                                                   \
 670   /* forEachRemaining support */                                                                                  \
 671   template(java_util_stream_StreamsRangeIntSpliterator,          &quot;java/util/stream/Streams$RangeIntSpliterator&quot;)  \
 672                                                                                                                   \
 673   /* jfr signatures */                                                                                            \
 674   JFR_TEMPLATES(template)                                                                                         \
 675                                                                                                                   \
 676   /* cds */                                                                                                       \
 677   template(jdk_internal_loader_ClassLoaders,       &quot;jdk/internal/loader/ClassLoaders&quot;)                            \
 678   template(toFileURL_name,                         &quot;toFileURL&quot;)                                                   \
 679   template(toFileURL_signature,                    &quot;(Ljava/lang/String;)Ljava/net/URL;&quot;)                          \
 680   template(url_void_signature,                     &quot;(Ljava/net/URL;)V&quot;)                                           \
 681                                                                                                                   \
<span class="line-added"> 682   template(java_lang_invoke_ValueBootstrapMethods, &quot;java/lang/invoke/ValueBootstrapMethods&quot;)                      \</span>
<span class="line-added"> 683   template(isSubstitutable_name,                   &quot;isSubstitutable0&quot;)                                            \</span>
<span class="line-added"> 684                                                                                                                   \</span>
<span class="line-added"> 685   template(jdk_internal_vm_jni_SubElementSelector, &quot;jdk/internal/vm/jni/SubElementSelector&quot;)                      \</span>
 686   /*end*/
 687 
 688 // Here are all the intrinsics known to the runtime and the CI.
 689 // Each intrinsic consists of a public enum name (like _hashCode),
 690 // followed by a specification of its klass, name, and signature:
 691 //    template(&lt;id&gt;,  &lt;klass&gt;,  &lt;name&gt;, &lt;sig&gt;, &lt;FCODE&gt;)
 692 //
 693 // If you add an intrinsic here, you must also define its name
 694 // and signature as members of the VM symbols.  The VM symbols for
 695 // the intrinsic name and signature may be defined above.
 696 //
 697 // Because the VM_SYMBOLS_DO macro makes reference to VM_INTRINSICS_DO,
 698 // you can also define an intrinsic&#39;s name and/or signature locally to the
 699 // intrinsic, if this makes sense.  (It often does make sense.)
 700 //
 701 // For example:
 702 //    do_intrinsic(_foo,  java_lang_Object,  foo_name, foo_signature, F_xx)
 703 //     do_name(     foo_name, &quot;foo&quot;)
 704 //     do_signature(foo_signature, &quot;()F&quot;)
 705 // klass      = vmSymbols::java_lang_Object()
</pre>
<hr />
<pre>
1157                                                                                                                         \
1158   /* unsafe memory references (there are a lot of them...) */                                                           \
1159   do_signature(getReference_signature,    &quot;(Ljava/lang/Object;J)Ljava/lang/Object;&quot;)                                    \
1160   do_signature(putReference_signature,    &quot;(Ljava/lang/Object;JLjava/lang/Object;)V&quot;)                                   \
1161   do_signature(getBoolean_signature,      &quot;(Ljava/lang/Object;J)Z&quot;)                                                     \
1162   do_signature(putBoolean_signature,      &quot;(Ljava/lang/Object;JZ)V&quot;)                                                    \
1163   do_signature(getByte_signature,         &quot;(Ljava/lang/Object;J)B&quot;)                                                     \
1164   do_signature(putByte_signature,         &quot;(Ljava/lang/Object;JB)V&quot;)                                                    \
1165   do_signature(getShort_signature,        &quot;(Ljava/lang/Object;J)S&quot;)                                                     \
1166   do_signature(putShort_signature,        &quot;(Ljava/lang/Object;JS)V&quot;)                                                    \
1167   do_signature(getChar_signature,         &quot;(Ljava/lang/Object;J)C&quot;)                                                     \
1168   do_signature(putChar_signature,         &quot;(Ljava/lang/Object;JC)V&quot;)                                                    \
1169   do_signature(getInt_signature,          &quot;(Ljava/lang/Object;J)I&quot;)                                                     \
1170   do_signature(putInt_signature,          &quot;(Ljava/lang/Object;JI)V&quot;)                                                    \
1171   do_signature(getLong_signature,         &quot;(Ljava/lang/Object;J)J&quot;)                                                     \
1172   do_signature(putLong_signature,         &quot;(Ljava/lang/Object;JJ)V&quot;)                                                    \
1173   do_signature(getFloat_signature,        &quot;(Ljava/lang/Object;J)F&quot;)                                                     \
1174   do_signature(putFloat_signature,        &quot;(Ljava/lang/Object;JF)V&quot;)                                                    \
1175   do_signature(getDouble_signature,       &quot;(Ljava/lang/Object;J)D&quot;)                                                     \
1176   do_signature(putDouble_signature,       &quot;(Ljava/lang/Object;JD)V&quot;)                                                    \
<span class="line-added">1177   do_signature(getValue_signature,        &quot;(Ljava/lang/Object;JLjava/lang/Class;)Ljava/lang/Object;&quot;)                   \</span>
<span class="line-added">1178   do_signature(putValue_signature,        &quot;(Ljava/lang/Object;JLjava/lang/Class;Ljava/lang/Object;)V&quot;)                  \</span>
1179                                                                                                                         \
1180   do_name(getReference_name,&quot;getReference&quot;)     do_name(putReference_name,&quot;putReference&quot;)                               \
1181   do_name(getBoolean_name,&quot;getBoolean&quot;)         do_name(putBoolean_name,&quot;putBoolean&quot;)                                   \
1182   do_name(getByte_name,&quot;getByte&quot;)               do_name(putByte_name,&quot;putByte&quot;)                                         \
1183   do_name(getShort_name,&quot;getShort&quot;)             do_name(putShort_name,&quot;putShort&quot;)                                       \
1184   do_name(getChar_name,&quot;getChar&quot;)               do_name(putChar_name,&quot;putChar&quot;)                                         \
1185   do_name(getInt_name,&quot;getInt&quot;)                 do_name(putInt_name,&quot;putInt&quot;)                                           \
1186   do_name(getLong_name,&quot;getLong&quot;)               do_name(putLong_name,&quot;putLong&quot;)                                         \
1187   do_name(getFloat_name,&quot;getFloat&quot;)             do_name(putFloat_name,&quot;putFloat&quot;)                                       \
1188   do_name(getDouble_name,&quot;getDouble&quot;)           do_name(putDouble_name,&quot;putDouble&quot;)                                     \
<span class="line-added">1189   do_name(getValue_name,&quot;getValue&quot;)             do_name(putValue_name,&quot;putValue&quot;)                                       \</span>
<span class="line-added">1190   do_name(makePrivateBuffer_name,&quot;makePrivateBuffer&quot;)                                                                   \</span>
<span class="line-added">1191   do_name(finishPrivateBuffer_name,&quot;finishPrivateBuffer&quot;)                                                               \</span>
1192                                                                                                                         \
1193   do_intrinsic(_getReference,       jdk_internal_misc_Unsafe,     getReference_name, getReference_signature,     F_RN)  \
1194   do_intrinsic(_getBoolean,         jdk_internal_misc_Unsafe,     getBoolean_name, getBoolean_signature,         F_RN)  \
1195   do_intrinsic(_getByte,            jdk_internal_misc_Unsafe,     getByte_name, getByte_signature,               F_RN)  \
1196   do_intrinsic(_getShort,           jdk_internal_misc_Unsafe,     getShort_name, getShort_signature,             F_RN)  \
1197   do_intrinsic(_getChar,            jdk_internal_misc_Unsafe,     getChar_name, getChar_signature,               F_RN)  \
1198   do_intrinsic(_getInt,             jdk_internal_misc_Unsafe,     getInt_name, getInt_signature,                 F_RN)  \
1199   do_intrinsic(_getLong,            jdk_internal_misc_Unsafe,     getLong_name, getLong_signature,               F_RN)  \
1200   do_intrinsic(_getFloat,           jdk_internal_misc_Unsafe,     getFloat_name, getFloat_signature,             F_RN)  \
1201   do_intrinsic(_getDouble,          jdk_internal_misc_Unsafe,     getDouble_name, getDouble_signature,           F_RN)  \
<span class="line-added">1202   do_intrinsic(_getValue,           jdk_internal_misc_Unsafe,     getValue_name, getValue_signature,             F_RN)  \</span>
1203   do_intrinsic(_putReference,       jdk_internal_misc_Unsafe,     putReference_name, putReference_signature,     F_RN)  \
1204   do_intrinsic(_putBoolean,         jdk_internal_misc_Unsafe,     putBoolean_name, putBoolean_signature,         F_RN)  \
1205   do_intrinsic(_putByte,            jdk_internal_misc_Unsafe,     putByte_name, putByte_signature,               F_RN)  \
1206   do_intrinsic(_putShort,           jdk_internal_misc_Unsafe,     putShort_name, putShort_signature,             F_RN)  \
1207   do_intrinsic(_putChar,            jdk_internal_misc_Unsafe,     putChar_name, putChar_signature,               F_RN)  \
1208   do_intrinsic(_putInt,             jdk_internal_misc_Unsafe,     putInt_name, putInt_signature,                 F_RN)  \
1209   do_intrinsic(_putLong,            jdk_internal_misc_Unsafe,     putLong_name, putLong_signature,               F_RN)  \
1210   do_intrinsic(_putFloat,           jdk_internal_misc_Unsafe,     putFloat_name, putFloat_signature,             F_RN)  \
1211   do_intrinsic(_putDouble,          jdk_internal_misc_Unsafe,     putDouble_name, putDouble_signature,           F_RN)  \
<span class="line-added">1212   do_intrinsic(_putValue,           jdk_internal_misc_Unsafe,     putValue_name, putValue_signature,             F_RN)  \</span>
<span class="line-added">1213                                                                                                                         \</span>
<span class="line-added">1214   do_intrinsic(_makePrivateBuffer,  jdk_internal_misc_Unsafe,     makePrivateBuffer_name, object_object_signature, F_RN)   \</span>
<span class="line-added">1215   do_intrinsic(_finishPrivateBuffer,  jdk_internal_misc_Unsafe,   finishPrivateBuffer_name, object_object_signature, F_RN) \</span>
1216                                                                                                                         \
1217   do_name(getReferenceVolatile_name,&quot;getReferenceVolatile&quot;)   do_name(putReferenceVolatile_name,&quot;putReferenceVolatile&quot;) \
1218   do_name(getBooleanVolatile_name,&quot;getBooleanVolatile&quot;)       do_name(putBooleanVolatile_name,&quot;putBooleanVolatile&quot;)     \
1219   do_name(getByteVolatile_name,&quot;getByteVolatile&quot;)             do_name(putByteVolatile_name,&quot;putByteVolatile&quot;)           \
1220   do_name(getShortVolatile_name,&quot;getShortVolatile&quot;)           do_name(putShortVolatile_name,&quot;putShortVolatile&quot;)         \
1221   do_name(getCharVolatile_name,&quot;getCharVolatile&quot;)             do_name(putCharVolatile_name,&quot;putCharVolatile&quot;)           \
1222   do_name(getIntVolatile_name,&quot;getIntVolatile&quot;)               do_name(putIntVolatile_name,&quot;putIntVolatile&quot;)             \
1223   do_name(getLongVolatile_name,&quot;getLongVolatile&quot;)             do_name(putLongVolatile_name,&quot;putLongVolatile&quot;)           \
1224   do_name(getFloatVolatile_name,&quot;getFloatVolatile&quot;)           do_name(putFloatVolatile_name,&quot;putFloatVolatile&quot;)         \
1225   do_name(getDoubleVolatile_name,&quot;getDoubleVolatile&quot;)         do_name(putDoubleVolatile_name,&quot;putDoubleVolatile&quot;)       \
1226                                                                                                                         \
1227   do_intrinsic(_getReferenceVolatile,     jdk_internal_misc_Unsafe,     getReferenceVolatile_name, getReference_signature, F_RN)  \
1228   do_intrinsic(_getBooleanVolatile,       jdk_internal_misc_Unsafe,     getBooleanVolatile_name, getBoolean_signature,     F_RN)  \
1229   do_intrinsic(_getByteVolatile,          jdk_internal_misc_Unsafe,     getByteVolatile_name, getByte_signature,           F_RN)  \
1230   do_intrinsic(_getShortVolatile,         jdk_internal_misc_Unsafe,     getShortVolatile_name, getShort_signature,         F_RN)  \
1231   do_intrinsic(_getCharVolatile,          jdk_internal_misc_Unsafe,     getCharVolatile_name, getChar_signature,           F_RN)  \
1232   do_intrinsic(_getIntVolatile,           jdk_internal_misc_Unsafe,     getIntVolatile_name, getInt_signature,             F_RN)  \
1233   do_intrinsic(_getLongVolatile,          jdk_internal_misc_Unsafe,     getLongVolatile_name, getLong_signature,           F_RN)  \
1234   do_intrinsic(_getFloatVolatile,         jdk_internal_misc_Unsafe,     getFloatVolatile_name, getFloat_signature,         F_RN)  \
1235   do_intrinsic(_getDoubleVolatile,        jdk_internal_misc_Unsafe,     getDoubleVolatile_name, getDouble_signature,       F_RN)  \
</pre>
<hr />
<pre>
1540   friend class VMStructs;
1541   friend class JVMCIVMStructs;
1542  public:
1543   // enum for figuring positions and size of array holding Symbol*s
1544   enum SID {
1545     NO_SID = 0,
1546 
1547     #define VM_SYMBOL_ENUM(name, string) VM_SYMBOL_ENUM_NAME(name),
1548     VM_SYMBOLS_DO(VM_SYMBOL_ENUM, VM_ALIAS_IGNORE)
1549     #undef VM_SYMBOL_ENUM
1550 
1551     SID_LIMIT,
1552 
1553     #define VM_ALIAS_ENUM(name, def) VM_SYMBOL_ENUM_NAME(name) = VM_SYMBOL_ENUM_NAME(def),
1554     VM_SYMBOLS_DO(VM_SYMBOL_IGNORE, VM_ALIAS_ENUM)
1555     #undef VM_ALIAS_ENUM
1556 
1557     FIRST_SID = NO_SID + 1
1558   };
1559   enum {
<span class="line-modified">1560     log2_SID_LIMIT = 11         // checked by an assert at start-up</span>
1561   };
1562 
1563  private:
1564   // The symbol array
1565   static Symbol* _symbols[];
1566 
1567   // Field signatures indexed by BasicType.
1568   static Symbol* _type_signatures[T_VOID+1];
1569 
1570  public:
1571   // Initialization
1572   static void initialize(TRAPS);
1573   // Accessing
1574   #define VM_SYMBOL_DECLARE(name, ignore)                 \
1575     static Symbol* name() {                               \
1576       return _symbols[VM_SYMBOL_ENUM_NAME(name)];         \
1577     }
1578   VM_SYMBOLS_DO(VM_SYMBOL_DECLARE, VM_SYMBOL_DECLARE)
1579   #undef VM_SYMBOL_DECLARE
1580 
</pre>
</td>
</tr>
</table>
<center><a href="vmSymbols.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../compiler/compileBroker.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>