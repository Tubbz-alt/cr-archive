<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/runtime/vmOperations.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="thread.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="vmStructs.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/runtime/vmOperations.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
104   template(ShenandoahDegeneratedGC)               \
105   template(Exit)                                  \
106   template(LinuxDllLoad)                          \
107   template(RotateGCLog)                           \
108   template(WhiteBoxOperation)                     \
109   template(JVMCIResizeCounters)                   \
110   template(ClassLoaderStatsOperation)             \
111   template(ClassLoaderHierarchyOperation)         \
112   template(DumpHashtable)                         \
113   template(DumpTouchedMethods)                    \
114   template(MarkActiveNMethods)                    \
115   template(PrintCompileQueue)                     \
116   template(PrintClassHierarchy)                   \
117   template(ThreadSuspend)                         \
118   template(ThreadsSuspendJVMTI)                   \
119   template(ICBufferFull)                          \
120   template(ScavengeMonitors)                      \
121   template(PrintMetadata)                         \
122   template(GTestExecuteAtSafepoint)               \
123   template(JFROldObject)                          \

124 
125 class VM_Operation : public StackObj {
126  public:
127   enum VMOp_Type {
128     VM_OPS_DO(VM_OP_ENUM)
129     VMOp_Terminating
130   };
131 
132  private:
133   Thread*         _calling_thread;
134   uint64_t        _timestamp;
135   VM_Operation*   _next;
136   VM_Operation*   _prev;
137 
138   // The VM operation name array
139   static const char* _names[];
140 
141  public:
142   VM_Operation() : _calling_thread(NULL), _timestamp(0),  _next(NULL), _prev(NULL) {}
143 
</pre>
<hr />
<pre>
416   static Thread * shutdown_thread()            { return _shutdown_thread; }
417   static void block_if_vm_exited() {
418     if (_vm_exited) {
419       wait_if_vm_exited();
420     }
421   }
422   VMOp_Type type() const { return VMOp_Exit; }
423   void doit();
424 };
425 
426 class VM_PrintCompileQueue: public VM_Operation {
427  private:
428   outputStream* _out;
429 
430  public:
431   VM_PrintCompileQueue(outputStream* st) : _out(st) {}
432   VMOp_Type type() const { return VMOp_PrintCompileQueue; }
433   void doit();
434 };
435 










436 #if INCLUDE_SERVICES
437 class VM_PrintClassHierarchy: public VM_Operation {
438  private:
439   outputStream* _out;
440   bool _print_interfaces;
441   bool _print_subclasses;
442   char* _classname;
443 
444  public:
445   VM_PrintClassHierarchy(outputStream* st, bool print_interfaces, bool print_subclasses, char* classname) :
446     _out(st), _print_interfaces(print_interfaces), _print_subclasses(print_subclasses),
447     _classname(classname) {}
448   VMOp_Type type() const { return VMOp_PrintClassHierarchy; }
449   void doit();
450 };
451 #endif // INCLUDE_SERVICES
452 
453 #endif // SHARE_RUNTIME_VMOPERATIONS_HPP
</pre>
</td>
<td>
<hr />
<pre>
104   template(ShenandoahDegeneratedGC)               \
105   template(Exit)                                  \
106   template(LinuxDllLoad)                          \
107   template(RotateGCLog)                           \
108   template(WhiteBoxOperation)                     \
109   template(JVMCIResizeCounters)                   \
110   template(ClassLoaderStatsOperation)             \
111   template(ClassLoaderHierarchyOperation)         \
112   template(DumpHashtable)                         \
113   template(DumpTouchedMethods)                    \
114   template(MarkActiveNMethods)                    \
115   template(PrintCompileQueue)                     \
116   template(PrintClassHierarchy)                   \
117   template(ThreadSuspend)                         \
118   template(ThreadsSuspendJVMTI)                   \
119   template(ICBufferFull)                          \
120   template(ScavengeMonitors)                      \
121   template(PrintMetadata)                         \
122   template(GTestExecuteAtSafepoint)               \
123   template(JFROldObject)                          \
<span class="line-added">124   template(ClassPrintLayout)                      \</span>
125 
126 class VM_Operation : public StackObj {
127  public:
128   enum VMOp_Type {
129     VM_OPS_DO(VM_OP_ENUM)
130     VMOp_Terminating
131   };
132 
133  private:
134   Thread*         _calling_thread;
135   uint64_t        _timestamp;
136   VM_Operation*   _next;
137   VM_Operation*   _prev;
138 
139   // The VM operation name array
140   static const char* _names[];
141 
142  public:
143   VM_Operation() : _calling_thread(NULL), _timestamp(0),  _next(NULL), _prev(NULL) {}
144 
</pre>
<hr />
<pre>
417   static Thread * shutdown_thread()            { return _shutdown_thread; }
418   static void block_if_vm_exited() {
419     if (_vm_exited) {
420       wait_if_vm_exited();
421     }
422   }
423   VMOp_Type type() const { return VMOp_Exit; }
424   void doit();
425 };
426 
427 class VM_PrintCompileQueue: public VM_Operation {
428  private:
429   outputStream* _out;
430 
431  public:
432   VM_PrintCompileQueue(outputStream* st) : _out(st) {}
433   VMOp_Type type() const { return VMOp_PrintCompileQueue; }
434   void doit();
435 };
436 
<span class="line-added">437 class VM_PrintClassLayout: public VM_Operation {</span>
<span class="line-added">438  private:</span>
<span class="line-added">439   outputStream* _out;</span>
<span class="line-added">440   char* _class_name;</span>
<span class="line-added">441  public:</span>
<span class="line-added">442   VM_PrintClassLayout(outputStream* st, char* class_name): _out(st), _class_name(class_name) {}</span>
<span class="line-added">443   VMOp_Type type() const { return VMOp_PrintClassHierarchy; }</span>
<span class="line-added">444   void doit();</span>
<span class="line-added">445 };</span>
<span class="line-added">446 </span>
447 #if INCLUDE_SERVICES
448 class VM_PrintClassHierarchy: public VM_Operation {
449  private:
450   outputStream* _out;
451   bool _print_interfaces;
452   bool _print_subclasses;
453   char* _classname;
454 
455  public:
456   VM_PrintClassHierarchy(outputStream* st, bool print_interfaces, bool print_subclasses, char* classname) :
457     _out(st), _print_interfaces(print_interfaces), _print_subclasses(print_subclasses),
458     _classname(classname) {}
459   VMOp_Type type() const { return VMOp_PrintClassHierarchy; }
460   void doit();
461 };
462 #endif // INCLUDE_SERVICES
463 
464 #endif // SHARE_RUNTIME_VMOPERATIONS_HPP
</pre>
</td>
</tr>
</table>
<center><a href="thread.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="vmStructs.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>