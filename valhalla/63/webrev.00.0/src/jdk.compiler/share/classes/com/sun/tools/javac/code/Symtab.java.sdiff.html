<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.compiler/share/classes/com/sun/tools/javac/code/Symtab.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Symbol.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../comp/Attr.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.compiler/share/classes/com/sun/tools/javac/code/Symtab.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
387         type.supertype_field = annotationType;
388         type.interfaces_field = List.nil();
389         return type;
390     }
391 
392     /** Constructor; enters all predefined identifiers and operators
393      *  into symbol table.
394      */
395     protected Symtab(Context context) throws CompletionFailure {
396         context.put(symtabKey, this);
397 
398         names = Names.instance(context);
399 
400         // Create the unknown type
401         unknownType = new UnknownType();
402 
403         messages = JavacMessages.instance(context);
404 
405         MissingInfoHandler missingInfoHandler = MissingInfoHandler.instance(context);
406 
<span class="line-modified">407         rootPackage = new RootPackageSymbol(names.empty, null, missingInfoHandler);</span>



408 
409         // create the basic builtin symbols
410         unnamedModule = new ModuleSymbol(names.empty, null) {
411                 {
412                     directives = List.nil();
413                     exports = List.nil();
414                     provides = List.nil();
415                     uses = List.nil();
416                     ModuleSymbol java_base = enterModule(names.java_base);
417                     com.sun.tools.javac.code.Directive.RequiresDirective d =
418                             new com.sun.tools.javac.code.Directive.RequiresDirective(java_base,
419                                     EnumSet.of(com.sun.tools.javac.code.Directive.RequiresFlag.MANDATED));
420                     requires = List.of(d);
421                 }
422                 @Override
423                 public String toString() {
424                     return messages.getLocalizedString(&quot;compiler.misc.unnamed.module&quot;);
425                 }
426             };
427         addRootPackageFor(unnamedModule);
</pre>
</td>
<td>
<hr />
<pre>
387         type.supertype_field = annotationType;
388         type.interfaces_field = List.nil();
389         return type;
390     }
391 
392     /** Constructor; enters all predefined identifiers and operators
393      *  into symbol table.
394      */
395     protected Symtab(Context context) throws CompletionFailure {
396         context.put(symtabKey, this);
397 
398         names = Names.instance(context);
399 
400         // Create the unknown type
401         unknownType = new UnknownType();
402 
403         messages = JavacMessages.instance(context);
404 
405         MissingInfoHandler missingInfoHandler = MissingInfoHandler.instance(context);
406 
<span class="line-modified">407         Target target = Target.instance(context);</span>
<span class="line-added">408         rootPackage = new RootPackageSymbol(names.empty, null,</span>
<span class="line-added">409                                             missingInfoHandler,</span>
<span class="line-added">410                                             target.runtimeUseNestAccess());</span>
411 
412         // create the basic builtin symbols
413         unnamedModule = new ModuleSymbol(names.empty, null) {
414                 {
415                     directives = List.nil();
416                     exports = List.nil();
417                     provides = List.nil();
418                     uses = List.nil();
419                     ModuleSymbol java_base = enterModule(names.java_base);
420                     com.sun.tools.javac.code.Directive.RequiresDirective d =
421                             new com.sun.tools.javac.code.Directive.RequiresDirective(java_base,
422                                     EnumSet.of(com.sun.tools.javac.code.Directive.RequiresFlag.MANDATED));
423                     requires = List.of(d);
424                 }
425                 @Override
426                 public String toString() {
427                     return messages.getLocalizedString(&quot;compiler.misc.unnamed.module&quot;);
428                 }
429             };
430         addRootPackageFor(unnamedModule);
</pre>
</td>
</tr>
</table>
<center><a href="Symbol.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../comp/Attr.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>