<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/cpu/x86/x86_64.ad</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="x86_32.ad.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../../share/c1/c1_LinearScan.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/cpu/x86/x86_64.ad</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 7535 %{
 7536   match(Set dst (CastPP dst));
 7537 
 7538   size(0);
 7539   format %{ &quot;# castPP of $dst&quot; %}
 7540   ins_encode(/* empty encoding */);
 7541   ins_pipe(empty);
 7542 %}
 7543 
 7544 instruct castII(rRegI dst)
 7545 %{
 7546   match(Set dst (CastII dst));
 7547 
 7548   size(0);
 7549   format %{ &quot;# castII of $dst&quot; %}
 7550   ins_encode(/* empty encoding */);
 7551   ins_cost(0);
 7552   ins_pipe(empty);
 7553 %}
 7554 
<span class="line-removed"> 7555 instruct castLL(rRegL dst)</span>
<span class="line-removed"> 7556 %{</span>
<span class="line-removed"> 7557   match(Set dst (CastLL dst));</span>
<span class="line-removed"> 7558 </span>
<span class="line-removed"> 7559   size(0);</span>
<span class="line-removed"> 7560   format %{ &quot;# castLL of $dst&quot; %}</span>
<span class="line-removed"> 7561   ins_encode(/* empty encoding */);</span>
<span class="line-removed"> 7562   ins_cost(0);</span>
<span class="line-removed"> 7563   ins_pipe(empty);</span>
<span class="line-removed"> 7564 %}</span>
<span class="line-removed"> 7565 </span>
 7566 // LoadP-locked same as a regular LoadP when used with compare-swap
 7567 instruct loadPLocked(rRegP dst, memory mem)
 7568 %{
 7569   match(Set dst (LoadPLocked mem));
 7570 
 7571   ins_cost(125); // XXX
 7572   format %{ &quot;movq    $dst, $mem\t# ptr locked&quot; %}
 7573   opcode(0x8B);
 7574   ins_encode(REX_reg_mem_wide(dst, mem), OpcP, reg_mem(dst, mem));
 7575   ins_pipe(ialu_reg_mem); // XXX
 7576 %}
 7577 
 7578 // Conditional-store of the updated heap-top.
 7579 // Used during allocation of the shared heap.
 7580 // Sets flags (EQ) on success.  Implemented with a CMPXCHG on Intel.
 7581 
 7582 instruct storePConditional(memory heap_top_ptr,
 7583                            rax_RegP oldval, rRegP newval,
 7584                            rFlagsReg cr)
 7585 %{
</pre>
</td>
<td>
<hr />
<pre>
 7535 %{
 7536   match(Set dst (CastPP dst));
 7537 
 7538   size(0);
 7539   format %{ &quot;# castPP of $dst&quot; %}
 7540   ins_encode(/* empty encoding */);
 7541   ins_pipe(empty);
 7542 %}
 7543 
 7544 instruct castII(rRegI dst)
 7545 %{
 7546   match(Set dst (CastII dst));
 7547 
 7548   size(0);
 7549   format %{ &quot;# castII of $dst&quot; %}
 7550   ins_encode(/* empty encoding */);
 7551   ins_cost(0);
 7552   ins_pipe(empty);
 7553 %}
 7554 











 7555 // LoadP-locked same as a regular LoadP when used with compare-swap
 7556 instruct loadPLocked(rRegP dst, memory mem)
 7557 %{
 7558   match(Set dst (LoadPLocked mem));
 7559 
 7560   ins_cost(125); // XXX
 7561   format %{ &quot;movq    $dst, $mem\t# ptr locked&quot; %}
 7562   opcode(0x8B);
 7563   ins_encode(REX_reg_mem_wide(dst, mem), OpcP, reg_mem(dst, mem));
 7564   ins_pipe(ialu_reg_mem); // XXX
 7565 %}
 7566 
 7567 // Conditional-store of the updated heap-top.
 7568 // Used during allocation of the shared heap.
 7569 // Sets flags (EQ) on success.  Implemented with a CMPXCHG on Intel.
 7570 
 7571 instruct storePConditional(memory heap_top_ptr,
 7572                            rax_RegP oldval, rRegP newval,
 7573                            rFlagsReg cr)
 7574 %{
</pre>
</td>
</tr>
</table>
<center><a href="x86_32.ad.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../../share/c1/c1_LinearScan.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>