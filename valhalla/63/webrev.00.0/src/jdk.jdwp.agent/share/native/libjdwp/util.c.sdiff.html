<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.jdwp.agent/share/native/libjdwp/util.c</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../jdk.jdi/share/classes/com/sun/tools/jdi/JNITypeParser.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../../../jdk.unsupported/share/classes/sun/misc/Unsafe.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.jdwp.agent/share/native/libjdwp/util.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 978 {
 979     return JVMTI_FUNC_PTR(gdata-&gt;jvmti,GetSourceDebugExtension)
 980                 (gdata-&gt;jvmti, clazz, extensionPtr);
 981 }
 982 
 983 /*
 984  * Convert the signature &quot;Ljava/lang/Foo;&quot; to a
 985  * classname &quot;java.lang.Foo&quot; compatible with the pattern.
 986  * Signature is overwritten in-place.
 987  */
 988 void
 989 convertSignatureToClassname(char *convert)
 990 {
 991     char *p;
 992 
 993     p = convert + 1;
 994     while ((*p != &#39;;&#39;) &amp;&amp; (*p != &#39;\0&#39;)) {
 995         char c = *p;
 996         if (c == &#39;/&#39;) {
 997             *(p-1) = &#39;.&#39;;




 998         } else {
 999             *(p-1) = c;
1000         }
1001         p++;
1002     }
1003     *(p-1) = &#39;\0&#39;;
1004 }
1005 
1006 static void
1007 handleInterrupt(void)
1008 {
1009     /*
1010      * An interrupt is handled:
1011      *
1012      * 1) for running application threads by deferring the interrupt
1013      * until the current event handler has concluded.
1014      *
1015      * 2) for debugger threads by ignoring the interrupt; this is the
1016      * most robust solution since debugger threads don&#39;t use interrupts
1017      * to signal any condition.
</pre>
</td>
<td>
<hr />
<pre>
 978 {
 979     return JVMTI_FUNC_PTR(gdata-&gt;jvmti,GetSourceDebugExtension)
 980                 (gdata-&gt;jvmti, clazz, extensionPtr);
 981 }
 982 
 983 /*
 984  * Convert the signature &quot;Ljava/lang/Foo;&quot; to a
 985  * classname &quot;java.lang.Foo&quot; compatible with the pattern.
 986  * Signature is overwritten in-place.
 987  */
 988 void
 989 convertSignatureToClassname(char *convert)
 990 {
 991     char *p;
 992 
 993     p = convert + 1;
 994     while ((*p != &#39;;&#39;) &amp;&amp; (*p != &#39;\0&#39;)) {
 995         char c = *p;
 996         if (c == &#39;/&#39;) {
 997             *(p-1) = &#39;.&#39;;
<span class="line-added"> 998         } else if (c == &#39;.&#39;) {</span>
<span class="line-added"> 999             // class signature of a hidden class is &quot;Ljava/lang/Foo.1234;&quot;</span>
<span class="line-added">1000             // map to &quot;java.lang.Foo/1234&quot;</span>
<span class="line-added">1001             *(p-1) = &#39;/&#39;;</span>
1002         } else {
1003             *(p-1) = c;
1004         }
1005         p++;
1006     }
1007     *(p-1) = &#39;\0&#39;;
1008 }
1009 
1010 static void
1011 handleInterrupt(void)
1012 {
1013     /*
1014      * An interrupt is handled:
1015      *
1016      * 1) for running application threads by deferring the interrupt
1017      * until the current event handler has concluded.
1018      *
1019      * 2) for debugger threads by ignoring the interrupt; this is the
1020      * most robust solution since debugger threads don&#39;t use interrupts
1021      * to signal any condition.
</pre>
</td>
</tr>
</table>
<center><a href="../../../../jdk.jdi/share/classes/com/sun/tools/jdi/JNITypeParser.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../../../jdk.unsupported/share/classes/sun/misc/Unsafe.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>