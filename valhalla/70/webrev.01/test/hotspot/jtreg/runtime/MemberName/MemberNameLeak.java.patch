diff a/test/hotspot/jtreg/runtime/MemberName/MemberNameLeak.java b/test/hotspot/jtreg/runtime/MemberName/MemberNameLeak.java
--- a/test/hotspot/jtreg/runtime/MemberName/MemberNameLeak.java
+++ b/test/hotspot/jtreg/runtime/MemberName/MemberNameLeak.java
@@ -101,11 +101,11 @@
         while (true) {
           if (cnt++ % 30 == 0) {
             System.gc();  // make mh unused
           }
 
-          if (after != wb.resolvedMethodItemsCount()) {
+          if (after > wb.resolvedMethodItemsCount() + 50) {
             // Entries have been removed.
             break;
           }
 
           Thread.sleep(100);
