<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/jdk/sun/security/util/math/TestIntegerModuloP.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../Oid/S11N.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../x509/AVA/AVAEqualsHashCode.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/sun/security/util/math/TestIntegerModuloP.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 2018, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 2018, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 34,10 ***</span>
<span class="line-new-header">--- 34,12 ---</span>
   * @run main TestIntegerModuloP sun.security.util.math.intpoly.IntegerPolynomialP384 48 6
   * @run main TestIntegerModuloP sun.security.util.math.intpoly.IntegerPolynomialP521 66 7
   * @run main TestIntegerModuloP sun.security.util.math.intpoly.P256OrderField 32 8
   * @run main TestIntegerModuloP sun.security.util.math.intpoly.P384OrderField 48 9
   * @run main TestIntegerModuloP sun.security.util.math.intpoly.P521OrderField 66 10
<span class="line-added">+  * @run main TestIntegerModuloP sun.security.util.math.intpoly.Curve25519OrderField 32 11</span>
<span class="line-added">+  * @run main TestIntegerModuloP sun.security.util.math.intpoly.Curve448OrderField 56 12</span>
   */
  
  import sun.security.util.math.*;
  import sun.security.util.math.intpoly.*;
  import java.util.function.*;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 102,12 ***</span>
          // set functions are setValue with various argument types
          SET_FUNCTIONS.add((a, b, c) -&gt; a.setValue(b));
          SET_FUNCTIONS.add((a, b, c) -&gt;
              a.setValue(c, 0, c.length, (byte) 0));
          SET_FUNCTIONS.add((a, b, c) -&gt;
<span class="line-modified">!             a.setValue(ByteBuffer.wrap(c, 0, c.length).order(ByteOrder.LITTLE_ENDIAN),</span>
<span class="line-modified">!             c.length, highByte));</span>
  
          // array functions return the (possibly modified) value as byte array
          ARRAY_FUNCTIONS.add((a, b ) -&gt; a.asByteArray(length));
          ARRAY_FUNCTIONS.add((a, b) -&gt; a.addModPowerTwo(b, length));
      }
<span class="line-new-header">--- 104,14 ---</span>
          // set functions are setValue with various argument types
          SET_FUNCTIONS.add((a, b, c) -&gt; a.setValue(b));
          SET_FUNCTIONS.add((a, b, c) -&gt;
              a.setValue(c, 0, c.length, (byte) 0));
          SET_FUNCTIONS.add((a, b, c) -&gt;
<span class="line-modified">!             a.setValue(c, 0, c.length / 2, (byte) 0));</span>
<span class="line-modified">!         SET_FUNCTIONS.add((a, b, c) -&gt;</span>
<span class="line-added">+             a.setValue(ByteBuffer.wrap(c, 0, c.length / 2).order(ByteOrder.LITTLE_ENDIAN),</span>
<span class="line-added">+             c.length / 2, highByte));</span>
  
          // array functions return the (possibly modified) value as byte array
          ARRAY_FUNCTIONS.add((a, b ) -&gt; a.asByteArray(length));
          ARRAY_FUNCTIONS.add((a, b) -&gt; a.addModPowerTwo(b, length));
      }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 326,11 ***</span>
              int swap = random.nextInt(2);
              cswapAndCheck(swap, left, multResult);
  
              ElemSetFunction setFunc =
                  SET_FUNCTIONS.get(random.nextInt(SET_FUNCTIONS.size()));
<span class="line-modified">!             byte[] valueArr = new byte[length];</span>
              random.nextBytes(valueArr);
              setAndCheck(setFunc, result1, result2, valueArr);
  
              // left could have been modified, so to turn it back into a summand
              applyAndCheckMutable((a, b) -&gt; a.setSquare(), left, right);
<span class="line-new-header">--- 330,11 ---</span>
              int swap = random.nextInt(2);
              cswapAndCheck(swap, left, multResult);
  
              ElemSetFunction setFunc =
                  SET_FUNCTIONS.get(random.nextInt(SET_FUNCTIONS.size()));
<span class="line-modified">!             byte[] valueArr = new byte[2 * length];</span>
              random.nextBytes(valueArr);
              setAndCheck(setFunc, result1, result2, valueArr);
  
              // left could have been modified, so to turn it back into a summand
              applyAndCheckMutable((a, b) -&gt; a.setSquare(), left, right);
</pre>
<center><a href="../Oid/S11N.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../x509/AVA/AVAEqualsHashCode.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>