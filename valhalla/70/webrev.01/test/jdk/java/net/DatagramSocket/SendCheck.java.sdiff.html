<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/java/net/DatagramSocket/SendCheck.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="ReuseAddressTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="SendPortZero.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/java/net/DatagramSocket/SendCheck.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 30 import java.net.SocketException;
 31 import java.nio.ByteBuffer;
 32 import java.nio.channels.DatagramChannel;
 33 import java.util.ArrayList;
 34 import java.util.List;
 35 
 36 import org.testng.annotations.AfterTest;
 37 import org.testng.annotations.BeforeTest;
 38 import org.testng.annotations.Test;
 39 import org.testng.annotations.DataProvider;
 40 
 41 import static org.testng.Assert.expectThrows;
 42 
 43 /*
 44  * @test
 45  * @bug 8236105
 46  * @summary Check that DatagramSocket, MulticastSocket,
 47  *          DatagramSocketAdaptor and DatagramChannel all
 48  *          throw expected Execption when passed a DatagramPacket
 49  *          with invalid details
<span class="line-modified"> 50  * @run testng/othervm SendCheck</span>

 51  */
 52 
 53 public class SendCheck {
 54     private InetAddress loopbackAddr, wildcardAddr;
 55     static final Class&lt;IOException&gt; IOE = IOException.class;
 56     static final Class&lt;SocketException&gt; SE = SocketException.class;
 57 
 58     static final byte[] buf = {0, 1, 2};
 59     static DatagramSocket socket;
 60 
 61     @BeforeTest
 62     public void setUp() {
 63         try {
 64             socket = new DatagramSocket();
 65         } catch (Exception e) {
 66             throw new ExceptionInInitializerError(e);
 67         }
 68     }
 69 
 70     @AfterTest
</pre>
</td>
<td>
<hr />
<pre>
 30 import java.net.SocketException;
 31 import java.nio.ByteBuffer;
 32 import java.nio.channels.DatagramChannel;
 33 import java.util.ArrayList;
 34 import java.util.List;
 35 
 36 import org.testng.annotations.AfterTest;
 37 import org.testng.annotations.BeforeTest;
 38 import org.testng.annotations.Test;
 39 import org.testng.annotations.DataProvider;
 40 
 41 import static org.testng.Assert.expectThrows;
 42 
 43 /*
 44  * @test
 45  * @bug 8236105
 46  * @summary Check that DatagramSocket, MulticastSocket,
 47  *          DatagramSocketAdaptor and DatagramChannel all
 48  *          throw expected Execption when passed a DatagramPacket
 49  *          with invalid details
<span class="line-modified"> 50  * @run testng SendCheck</span>
<span class="line-added"> 51  * @run testng/othervm -Djdk.net.usePlainDatagramSocketImpl SendCheck</span>
 52  */
 53 
 54 public class SendCheck {
 55     private InetAddress loopbackAddr, wildcardAddr;
 56     static final Class&lt;IOException&gt; IOE = IOException.class;
 57     static final Class&lt;SocketException&gt; SE = SocketException.class;
 58 
 59     static final byte[] buf = {0, 1, 2};
 60     static DatagramSocket socket;
 61 
 62     @BeforeTest
 63     public void setUp() {
 64         try {
 65             socket = new DatagramSocket();
 66         } catch (Exception e) {
 67             throw new ExceptionInInitializerError(e);
 68         }
 69     }
 70 
 71     @AfterTest
</pre>
</td>
</tr>
</table>
<center><a href="ReuseAddressTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="SendPortZero.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>