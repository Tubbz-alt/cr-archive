diff a/test/jdk/java/net/DatagramSocket/TestAfterClose.java b/test/jdk/java/net/DatagramSocket/TestAfterClose.java
--- a/test/jdk/java/net/DatagramSocket/TestAfterClose.java
+++ b/test/jdk/java/net/DatagramSocket/TestAfterClose.java
@@ -23,10 +23,12 @@
 
 /*
  * @test
  * @bug 6505016
  * @summary Socket spec should clarify what getInetAddress/getPort/etc return after the Socket is closed
+ * @run main TestAfterClose
+ * @run main/othervm -Djdk.net.usePlainDatagramSocketImpl TestAfterClose
  */
 
 import java.net.*;
 import java.io.*;
 
