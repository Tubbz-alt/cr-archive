diff a/test/jdk/java/net/MulticastSocket/SetTTLAndGetTTL.java b/test/jdk/java/net/MulticastSocket/SetTTLAndGetTTL.java
--- a/test/jdk/java/net/MulticastSocket/SetTTLAndGetTTL.java
+++ b/test/jdk/java/net/MulticastSocket/SetTTLAndGetTTL.java
@@ -22,10 +22,12 @@
  */
 
 /* @test
  * @bug 4189640
  * @summary Make setTTL/getTTL works
+ * @run main SetTTLAndGetTTL
+ * @run main/othervm -Djdk.net.usePlainDatagramSocketImpl SetTTLAndGetTTL
  */
 
 import java.net.*;
 
 public class SetTTLAndGetTTL {
