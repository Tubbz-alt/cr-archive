diff a/test/jdk/java/net/MulticastSocket/SetTTLTo0.java b/test/jdk/java/net/MulticastSocket/SetTTLTo0.java
--- a/test/jdk/java/net/MulticastSocket/SetTTLTo0.java
+++ b/test/jdk/java/net/MulticastSocket/SetTTLTo0.java
@@ -22,10 +22,12 @@
  */
 
 /* @test
  * @bug 4148757
  * @summary Make sure TTL can be set to 0
+ * @run main SetTTLTo0
+ * @run main/othervm -Djdk.net.usePlainDatagramSocketImpl SetTTLTo0
  */
 
 import java.net.*;
 
 public class SetTTLTo0 {
