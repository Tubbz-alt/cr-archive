diff a/test/jdk/java/net/MulticastSocket/SetLoopbackMode.java b/test/jdk/java/net/MulticastSocket/SetLoopbackMode.java
--- a/test/jdk/java/net/MulticastSocket/SetLoopbackMode.java
+++ b/test/jdk/java/net/MulticastSocket/SetLoopbackMode.java
@@ -28,10 +28,11 @@
  * @library /test/lib
  * @modules java.base/java.net:+open
  * @build jdk.test.lib.NetworkConfiguration
  *        jdk.test.lib.Platform
  * @run main/othervm SetLoopbackMode
+ * @run main/othervm -Djdk.net.usePlainDatagramSocketImpl SetLoopbackMode
  */
 
 import java.lang.reflect.Method;
 import java.lang.reflect.UndeclaredThrowableException;
 import java.net.*;
@@ -51,10 +52,12 @@
             System.out.println("Loopback mode is disabled.");
         } else {
             System.out.println("Loopback mode is enabled.");
         }
 
+        System.out.println(mc.getLocalSocketAddress());
+
         byte b[] = "hello".getBytes();
         DatagramPacket p = new DatagramPacket(b, b.length, grp,
                                 mc.getLocalPort());
         mc.send(p);
 
