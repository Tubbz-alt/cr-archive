<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/java/security/testlibrary/SimpleOCSPServer.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="CertificateBuilder.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../text/Normalizer/ConformanceTest.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/java/security/testlibrary/SimpleOCSPServer.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  28 import java.io.*;
  29 import java.net.*;
  30 import java.security.*;
  31 import java.security.cert.CRLReason;
  32 import java.security.cert.X509Certificate;
  33 import java.security.cert.Extension;
  34 import java.security.cert.CertificateException;
  35 import java.security.cert.CertificateEncodingException;
  36 import java.security.Signature;
  37 import java.util.*;
  38 import java.util.concurrent.*;
  39 import java.text.SimpleDateFormat;
  40 import java.math.BigInteger;
  41 
  42 import sun.security.x509.*;
  43 import sun.security.x509.PKIXExtensions;
  44 import sun.security.provider.certpath.ResponderId;
  45 import sun.security.provider.certpath.CertId;
  46 import sun.security.provider.certpath.OCSPResponse;
  47 import sun.security.provider.certpath.OCSPResponse.ResponseStatus;
<span class="line-modified">  48 import sun.security.util.Debug;</span>
<span class="line-removed">  49 import sun.security.util.DerInputStream;</span>
<span class="line-removed">  50 import sun.security.util.DerOutputStream;</span>
<span class="line-removed">  51 import sun.security.util.DerValue;</span>
<span class="line-removed">  52 import sun.security.util.ObjectIdentifier;</span>
  53 
  54 
  55 /**
  56  * This is a simple OCSP server designed to listen and respond to incoming
  57  * requests.
  58  */
  59 public class SimpleOCSPServer {
  60     private final Debug debug = Debug.getInstance(&quot;oserv&quot;);
  61     private static final ObjectIdentifier OCSP_BASIC_RESPONSE_OID =
<span class="line-modified">  62             ObjectIdentifier.of(&quot;1.3.6.1.5.5.7.48.1.1&quot;);</span>

  63     private static final SimpleDateFormat utcDateFmt =
  64             new SimpleDateFormat(&quot;MMM dd yyyy, HH:mm:ss z&quot;);
  65 
  66     static final int FREE_PORT = 0;
  67 
  68     // CertStatus values
  69     public static enum CertStatus {
  70         CERT_STATUS_GOOD,
  71         CERT_STATUS_REVOKED,
  72         CERT_STATUS_UNKNOWN,
  73     }
  74 
  75     // Fields used for the networking portion of the responder
  76     private ServerSocket servSocket;
  77     private InetAddress listenAddress;
  78     private int listenPort;
  79 
  80     // Keystore information (certs, keys, etc.)
  81     private KeyStore keystore;
  82     private X509Certificate issuerCert;
</pre>
</td>
<td>
<hr />
<pre>
  28 import java.io.*;
  29 import java.net.*;
  30 import java.security.*;
  31 import java.security.cert.CRLReason;
  32 import java.security.cert.X509Certificate;
  33 import java.security.cert.Extension;
  34 import java.security.cert.CertificateException;
  35 import java.security.cert.CertificateEncodingException;
  36 import java.security.Signature;
  37 import java.util.*;
  38 import java.util.concurrent.*;
  39 import java.text.SimpleDateFormat;
  40 import java.math.BigInteger;
  41 
  42 import sun.security.x509.*;
  43 import sun.security.x509.PKIXExtensions;
  44 import sun.security.provider.certpath.ResponderId;
  45 import sun.security.provider.certpath.CertId;
  46 import sun.security.provider.certpath.OCSPResponse;
  47 import sun.security.provider.certpath.OCSPResponse.ResponseStatus;
<span class="line-modified">  48 import sun.security.util.*;</span>




  49 
  50 
  51 /**
  52  * This is a simple OCSP server designed to listen and respond to incoming
  53  * requests.
  54  */
  55 public class SimpleOCSPServer {
  56     private final Debug debug = Debug.getInstance(&quot;oserv&quot;);
  57     private static final ObjectIdentifier OCSP_BASIC_RESPONSE_OID =
<span class="line-modified">  58             ObjectIdentifier.of(KnownOIDs.OCSPBasicResponse);</span>
<span class="line-added">  59 </span>
  60     private static final SimpleDateFormat utcDateFmt =
  61             new SimpleDateFormat(&quot;MMM dd yyyy, HH:mm:ss z&quot;);
  62 
  63     static final int FREE_PORT = 0;
  64 
  65     // CertStatus values
  66     public static enum CertStatus {
  67         CERT_STATUS_GOOD,
  68         CERT_STATUS_REVOKED,
  69         CERT_STATUS_UNKNOWN,
  70     }
  71 
  72     // Fields used for the networking portion of the responder
  73     private ServerSocket servSocket;
  74     private InetAddress listenAddress;
  75     private int listenPort;
  76 
  77     // Keystore information (certs, keys, etc.)
  78     private KeyStore keystore;
  79     private X509Certificate issuerCert;
</pre>
</td>
</tr>
</table>
<center><a href="CertificateBuilder.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../text/Normalizer/ConformanceTest.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>