<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff test/langtools/tools/javac/platform/CanHandleClassFilesTest.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../main/EnvVariableTest.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../processing/model/element/CheckingTypeAnnotationsOnRecords.java.udiff.html" target="_top">next &gt;</a></center>    <h2>test/langtools/tools/javac/platform/CanHandleClassFilesTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -38,10 +38,11 @@</span>
  import java.io.Writer;
  import java.nio.file.Files;
  import java.nio.file.Path;
  import java.nio.file.Paths;
  import java.util.stream.Stream;
<span class="udiff-line-added">+ import javax.lang.model.SourceVersion;</span>
  
  import javax.tools.StandardLocation;
  
  import toolbox.JavacTask;
  import toolbox.ToolBox;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -106,23 +107,28 @@</span>
                      .forEach(p -&gt; open(p, targetModule));
  
              var createSymbolsClass = Class.forName(&quot;build.tools.symbolgenerator.CreateSymbols&quot;, false, cl);
              var main = createSymbolsClass.getMethod(&quot;main&quot;, String[].class);
              var symbols = targetDir.resolve(&quot;symbols&quot;);
<span class="udiff-line-added">+             var systemModules = targetDir.resolve(&quot;system-modules&quot;);</span>
  
              try (Writer w = Files.newBufferedWriter(symbols)) {}
<span class="udiff-line-added">+             try (Writer w = Files.newBufferedWriter(systemModules)) {}</span>
  
              main.invoke(null,
                          (Object) new String[] {&quot;build-description-incremental&quot;,
                                                 symbols.toAbsolutePath().toString(),
                                                 includeList.toAbsolutePath().toString()});
  
              main.invoke(null,
                          (Object) new String[] {&quot;build-ctsym&quot;,
                                                 &quot;does-not-exist&quot;,
                                                 symbols.toAbsolutePath().toString(),
<span class="udiff-line-modified-removed">-                                                targetDir.resolve(&quot;ct.sym&quot;).toAbsolutePath().toString()});</span>
<span class="udiff-line-modified-added">+                                                targetDir.resolve(&quot;ct.sym&quot;).toAbsolutePath().toString(),</span>
<span class="udiff-line-added">+                                                Long.toString(System.currentTimeMillis() / 1000),</span>
<span class="udiff-line-added">+                                                &quot;&quot; + SourceVersion.latest().ordinal(),</span>
<span class="udiff-line-added">+                                                systemModules.toAbsolutePath().toString()});</span>
          }
      }
  
      void open(String moduleAndPackage, Module target) {
          String[] s = moduleAndPackage.split(&quot;/&quot;);
</pre>
<center><a href="../main/EnvVariableTest.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../processing/model/element/CheckingTypeAnnotationsOnRecords.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>