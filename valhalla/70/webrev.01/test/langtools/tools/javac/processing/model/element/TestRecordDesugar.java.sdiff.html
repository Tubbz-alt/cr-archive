<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/langtools/tools/javac/processing/model/element/TestRecordDesugar.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="CheckingTypeAnnotationsOnRecords.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../../records/RecordCompilationTests.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/langtools/tools/javac/processing/model/element/TestRecordDesugar.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2010, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
</pre>
<hr />
<pre>
241                                    modifiers = {Modifier.PRIVATE, Modifier.FINAL},
242                                    name = &quot;r&quot;,
243                                    type = TypeKind.DOUBLE,
244                                    origin = Elements.Origin.EXPLICIT),
245 
246                       @ElementInfo(kind = ElementKind.RECORD_COMPONENT,
247                                    modifiers = {Modifier.PUBLIC},
248                                    name = &quot;theta&quot;,
249                                    type = TypeKind.DOUBLE),
250 
251                       @ElementInfo(kind = ElementKind.FIELD,
252                                    modifiers = {Modifier.PRIVATE, Modifier.FINAL},
253                                    name = &quot;theta&quot;,
254                                    type = TypeKind.DOUBLE,
255                                    origin = Elements.Origin.EXPLICIT),
256 
257                       @ElementInfo(modifiers = {Modifier.PUBLIC},
258                                    name = &quot;modulus&quot;,
259                                    type = TypeKind.DOUBLE),
260 
<span class="line-modified">261                       @ElementInfo(modifiers = {Modifier.PUBLIC},</span>
262                                    name = &quot;toString&quot;,
263                                    type = TypeKind.DECLARED,
264                                    origin = Elements.Origin.EXPLICIT),
265 
266                       @ElementInfo(modifiers = {Modifier.PUBLIC, Modifier.FINAL},
267                                    name = &quot;hashCode&quot;,
268                                    type = TypeKind.INT,
269                                    origin = Elements.Origin.EXPLICIT),
270 
271                       @ElementInfo(modifiers = {Modifier.PUBLIC, Modifier.FINAL},
272                                    name = &quot;equals&quot;,
273                                    type = TypeKind.BOOLEAN,
274                                    origin = Elements.Origin.EXPLICIT),
275 
276                       @ElementInfo(modifiers = {Modifier.PUBLIC},
277                                    name = &quot;r&quot;,
278                                    type = TypeKind.DOUBLE,
279                                    origin = Elements.Origin.EXPLICIT),
280 
281                       @ElementInfo(modifiers = {Modifier.PUBLIC},
282                                    name = &quot;theta&quot;,
283                                    type = TypeKind.DOUBLE,
284                                    origin = Elements.Origin.EXPLICIT),
285 
286                       @ElementInfo(kind = ElementKind.CONSTRUCTOR,
<span class="line-modified">287                                    modifiers = {Modifier.PUBLIC},</span>
288                                    name = &quot;&lt;init&gt;&quot;,
289                                    type = TypeKind.VOID,
290                                    origin = Elements.Origin.MANDATED),
291                              })
292    record ComplexPolar(double r, double theta) implements ComplexNumber {
293         @Override
294         public double modulus() {
295             return r;
296         }
297     }
298 
299     // Override equals in cartesian complex number record to allow
300     // testing of origin information.
301 
302     /**
303      * Cartesian coordinate complex number.
304      */
305     @TypeElementInfo(elements =
306                      {@ElementInfo(kind = ElementKind.RECORD_COMPONENT,
307                                    modifiers = {Modifier.PUBLIC},
</pre>
<hr />
<pre>
312                                    modifiers = {Modifier.PRIVATE, Modifier.FINAL},
313                                    name = &quot;real&quot;,
314                                    type = TypeKind.DOUBLE,
315                                    origin = Elements.Origin.EXPLICIT),
316 
317                       @ElementInfo(kind = ElementKind.RECORD_COMPONENT,
318                                    modifiers = {Modifier.PUBLIC},
319                                    name = &quot;imag&quot;,
320                                    type = TypeKind.DOUBLE),
321 
322                       @ElementInfo(kind = ElementKind.FIELD,
323                                    modifiers = {Modifier.PRIVATE, Modifier.FINAL},
324                                    name = &quot;imag&quot;,
325                                    type = TypeKind.DOUBLE,
326                                    origin = Elements.Origin.EXPLICIT),
327 
328                       @ElementInfo(modifiers = {Modifier.PUBLIC},
329                                    name = &quot;modulus&quot;,
330                                    type = TypeKind.DOUBLE),
331 
<span class="line-modified">332                       @ElementInfo(modifiers = {Modifier.PUBLIC},</span>
333                                    name = &quot;toString&quot;,
334                                    type = TypeKind.DECLARED,
335                                    origin = Elements.Origin.EXPLICIT),
336 
337                       @ElementInfo(modifiers = {Modifier.PUBLIC, Modifier.FINAL},
338                                    name = &quot;hashCode&quot;,
339                                    type = TypeKind.INT,
340                                    origin = Elements.Origin.EXPLICIT),
341 
342                       @ElementInfo(modifiers = {Modifier.PUBLIC},
343                                    name = &quot;equals&quot;,
344                                    type = TypeKind.BOOLEAN),
345 
346                       @ElementInfo(modifiers = {Modifier.PUBLIC},
347                                    name = &quot;real&quot;,
348                                    type = TypeKind.DOUBLE,
349                                    origin = Elements.Origin.EXPLICIT),
350 
351                       @ElementInfo(modifiers = {Modifier.PUBLIC},
352                                    name = &quot;imag&quot;,
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2010, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
</pre>
<hr />
<pre>
241                                    modifiers = {Modifier.PRIVATE, Modifier.FINAL},
242                                    name = &quot;r&quot;,
243                                    type = TypeKind.DOUBLE,
244                                    origin = Elements.Origin.EXPLICIT),
245 
246                       @ElementInfo(kind = ElementKind.RECORD_COMPONENT,
247                                    modifiers = {Modifier.PUBLIC},
248                                    name = &quot;theta&quot;,
249                                    type = TypeKind.DOUBLE),
250 
251                       @ElementInfo(kind = ElementKind.FIELD,
252                                    modifiers = {Modifier.PRIVATE, Modifier.FINAL},
253                                    name = &quot;theta&quot;,
254                                    type = TypeKind.DOUBLE,
255                                    origin = Elements.Origin.EXPLICIT),
256 
257                       @ElementInfo(modifiers = {Modifier.PUBLIC},
258                                    name = &quot;modulus&quot;,
259                                    type = TypeKind.DOUBLE),
260 
<span class="line-modified">261                       @ElementInfo(modifiers = {Modifier.PUBLIC, Modifier.FINAL},</span>
262                                    name = &quot;toString&quot;,
263                                    type = TypeKind.DECLARED,
264                                    origin = Elements.Origin.EXPLICIT),
265 
266                       @ElementInfo(modifiers = {Modifier.PUBLIC, Modifier.FINAL},
267                                    name = &quot;hashCode&quot;,
268                                    type = TypeKind.INT,
269                                    origin = Elements.Origin.EXPLICIT),
270 
271                       @ElementInfo(modifiers = {Modifier.PUBLIC, Modifier.FINAL},
272                                    name = &quot;equals&quot;,
273                                    type = TypeKind.BOOLEAN,
274                                    origin = Elements.Origin.EXPLICIT),
275 
276                       @ElementInfo(modifiers = {Modifier.PUBLIC},
277                                    name = &quot;r&quot;,
278                                    type = TypeKind.DOUBLE,
279                                    origin = Elements.Origin.EXPLICIT),
280 
281                       @ElementInfo(modifiers = {Modifier.PUBLIC},
282                                    name = &quot;theta&quot;,
283                                    type = TypeKind.DOUBLE,
284                                    origin = Elements.Origin.EXPLICIT),
285 
286                       @ElementInfo(kind = ElementKind.CONSTRUCTOR,
<span class="line-modified">287                                    modifiers = {},</span>
288                                    name = &quot;&lt;init&gt;&quot;,
289                                    type = TypeKind.VOID,
290                                    origin = Elements.Origin.MANDATED),
291                              })
292    record ComplexPolar(double r, double theta) implements ComplexNumber {
293         @Override
294         public double modulus() {
295             return r;
296         }
297     }
298 
299     // Override equals in cartesian complex number record to allow
300     // testing of origin information.
301 
302     /**
303      * Cartesian coordinate complex number.
304      */
305     @TypeElementInfo(elements =
306                      {@ElementInfo(kind = ElementKind.RECORD_COMPONENT,
307                                    modifiers = {Modifier.PUBLIC},
</pre>
<hr />
<pre>
312                                    modifiers = {Modifier.PRIVATE, Modifier.FINAL},
313                                    name = &quot;real&quot;,
314                                    type = TypeKind.DOUBLE,
315                                    origin = Elements.Origin.EXPLICIT),
316 
317                       @ElementInfo(kind = ElementKind.RECORD_COMPONENT,
318                                    modifiers = {Modifier.PUBLIC},
319                                    name = &quot;imag&quot;,
320                                    type = TypeKind.DOUBLE),
321 
322                       @ElementInfo(kind = ElementKind.FIELD,
323                                    modifiers = {Modifier.PRIVATE, Modifier.FINAL},
324                                    name = &quot;imag&quot;,
325                                    type = TypeKind.DOUBLE,
326                                    origin = Elements.Origin.EXPLICIT),
327 
328                       @ElementInfo(modifiers = {Modifier.PUBLIC},
329                                    name = &quot;modulus&quot;,
330                                    type = TypeKind.DOUBLE),
331 
<span class="line-modified">332                       @ElementInfo(modifiers = {Modifier.PUBLIC, Modifier.FINAL},</span>
333                                    name = &quot;toString&quot;,
334                                    type = TypeKind.DECLARED,
335                                    origin = Elements.Origin.EXPLICIT),
336 
337                       @ElementInfo(modifiers = {Modifier.PUBLIC, Modifier.FINAL},
338                                    name = &quot;hashCode&quot;,
339                                    type = TypeKind.INT,
340                                    origin = Elements.Origin.EXPLICIT),
341 
342                       @ElementInfo(modifiers = {Modifier.PUBLIC},
343                                    name = &quot;equals&quot;,
344                                    type = TypeKind.BOOLEAN),
345 
346                       @ElementInfo(modifiers = {Modifier.PUBLIC},
347                                    name = &quot;real&quot;,
348                                    type = TypeKind.DOUBLE,
349                                    origin = Elements.Origin.EXPLICIT),
350 
351                       @ElementInfo(modifiers = {Modifier.PUBLIC},
352                                    name = &quot;imag&quot;,
</pre>
</td>
</tr>
</table>
<center><a href="CheckingTypeAnnotationsOnRecords.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../../records/RecordCompilationTests.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>