diff a/test/langtools/lib/combo/tools/javac/combo/JavacTemplateTestBase.java b/test/langtools/lib/combo/tools/javac/combo/JavacTemplateTestBase.java
--- a/test/langtools/lib/combo/tools/javac/combo/JavacTemplateTestBase.java
+++ b/test/langtools/lib/combo/tools/javac/combo/JavacTemplateTestBase.java
@@ -179,12 +179,13 @@
 
     /** Assert that all previous calls to compile() succeeded */
     protected void assertCompileSucceededWithWarning(String warning) {
         if (diags.errorsFound())
             fail("Expected successful compilation");
-        if (!diags.containsWarningKey(warning))
-            fail("Expected compilation warning " + warning);
+        if (!diags.containsWarningKey(warning)) {
+            fail(String.format("Expected compilation warning with %s, found %s", warning, diags.keys()));
+        }
     }
 
     /**
      * If the provided boolean is true, assert all previous compiles succeeded,
      * otherwise assert that a compile failed.
