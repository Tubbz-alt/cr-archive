<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/langtools/lib/combo/tools/javac/combo/CompilationTestCase.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../jdk/javadoc/doclet/testModules/TestModules.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="Diagnostics.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/langtools/lib/combo/tools/javac/combo/CompilationTestCase.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 25,11 ***</span>
<span class="line-new-header">--- 25,13 ---</span>
  package tools.javac.combo;
  
  import java.io.File;
  import java.io.IOException;
  
<span class="line-added">+ import java.util.Arrays;</span>
  import java.util.function.Consumer;
<span class="line-added">+ import java.util.stream.IntStream;</span>
  
  import javax.tools.Diagnostic;
  
  import org.testng.ITestResult;
  import org.testng.annotations.AfterMethod;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 61,10 ***</span>
<span class="line-new-header">--- 63,30 ---</span>
  
      protected void setCompileOptions(String... options) {
          compileOptions = options.clone();
      }
  
<span class="line-added">+     protected void appendCompileOptions(String... additionalOptions) {</span>
<span class="line-added">+         String[] moreOptions = additionalOptions.clone();</span>
<span class="line-added">+         String[] newCompileOptions = Arrays.copyOf(compileOptions, compileOptions.length + additionalOptions.length);</span>
<span class="line-added">+         IntStream.range(0, additionalOptions.length).forEach(i -&gt; {</span>
<span class="line-added">+             newCompileOptions[newCompileOptions.length - additionalOptions.length + i] = additionalOptions[i];</span>
<span class="line-added">+         });</span>
<span class="line-added">+         compileOptions = newCompileOptions;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     protected void removeLastCompileOptions(int i) {</span>
<span class="line-added">+         if (i &lt; 0) {</span>
<span class="line-added">+             throw new AssertionError(&quot;unexpected negative value &quot; + i);</span>
<span class="line-added">+         }</span>
<span class="line-added">+         if (i &gt;= compileOptions.length) {</span>
<span class="line-added">+             compileOptions = new String[] {};</span>
<span class="line-added">+         } else {</span>
<span class="line-added">+             compileOptions = Arrays.copyOf(compileOptions, compileOptions.length - i);</span>
<span class="line-added">+         }</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
      protected void setDefaultFilename(String name) {
          defaultFileName = name;
      }
  
      protected String expandMarkers(String... constructs) {
</pre>
<center><a href="../../../../../jdk/javadoc/doclet/testModules/TestModules.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="Diagnostics.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>