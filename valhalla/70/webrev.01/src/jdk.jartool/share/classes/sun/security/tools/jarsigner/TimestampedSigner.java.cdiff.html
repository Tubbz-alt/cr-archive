<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/jdk.jartool/share/classes/sun/security/tools/jarsigner/TimestampedSigner.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Resources.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/ModuleWriterImpl.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.jartool/share/classes/sun/security/tools/jarsigner/TimestampedSigner.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 46,29 ***</span>
   * @author Vincent Ryan
   */
  @SuppressWarnings(&quot;removal&quot;)
  public final class TimestampedSigner extends ContentSigner {
  
<span class="line-removed">-     /*</span>
<span class="line-removed">-      * Object identifier for the subject information access X.509 certificate</span>
<span class="line-removed">-      * extension.</span>
<span class="line-removed">-      */</span>
<span class="line-removed">-     private static final String SUBJECT_INFO_ACCESS_OID = &quot;1.3.6.1.5.5.7.1.11&quot;;</span>
<span class="line-removed">- </span>
      /*
       * Object identifier for the timestamping access descriptors.
       */
<span class="line-modified">!     private static final ObjectIdentifier AD_TIMESTAMPING_Id;</span>
<span class="line-modified">!     static {</span>
<span class="line-removed">-         ObjectIdentifier tmp = null;</span>
<span class="line-removed">-         try {</span>
<span class="line-removed">-             tmp = new ObjectIdentifier(&quot;1.3.6.1.5.5.7.48.3&quot;);</span>
<span class="line-removed">-         } catch (IOException e) {</span>
<span class="line-removed">-             // ignore</span>
<span class="line-removed">-         }</span>
<span class="line-removed">-         AD_TIMESTAMPING_Id = tmp;</span>
<span class="line-removed">-     }</span>
  
      /**
       * Instantiates a content signer that supports timestamped signatures.
       */
      public TimestampedSigner() {
<span class="line-new-header">--- 46,15 ---</span>
   * @author Vincent Ryan
   */
  @SuppressWarnings(&quot;removal&quot;)
  public final class TimestampedSigner extends ContentSigner {
  
      /*
       * Object identifier for the timestamping access descriptors.
       */
<span class="line-modified">!     private static final ObjectIdentifier AD_TIMESTAMPING_Id =</span>
<span class="line-modified">!             ObjectIdentifier.of(KnownOIDs.AD_TimeStamping);</span>
  
      /**
       * Instantiates a content signer that supports timestamped signatures.
       */
      public TimestampedSigner() {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 153,12 ***</span>
          if (tsaCertificate == null) {
              return null;
          }
          // Parse the extensions
          try {
<span class="line-modified">!             byte[] extensionValue =</span>
<span class="line-modified">!                 tsaCertificate.getExtensionValue(SUBJECT_INFO_ACCESS_OID);</span>
              if (extensionValue == null) {
                  return null;
              }
              DerInputStream der = new DerInputStream(extensionValue);
              der = new DerInputStream(der.getOctetString());
<span class="line-new-header">--- 139,12 ---</span>
          if (tsaCertificate == null) {
              return null;
          }
          // Parse the extensions
          try {
<span class="line-modified">!             byte[] extensionValue = tsaCertificate.getExtensionValue</span>
<span class="line-modified">!                     (KnownOIDs.SubjectInfoAccess.value());</span>
              if (extensionValue == null) {
                  return null;
              }
              DerInputStream der = new DerInputStream(extensionValue);
              der = new DerInputStream(der.getOctetString());
</pre>
<center><a href="Resources.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/ModuleWriterImpl.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>