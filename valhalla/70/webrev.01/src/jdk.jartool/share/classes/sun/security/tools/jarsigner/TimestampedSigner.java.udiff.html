<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/jdk.jartool/share/classes/sun/security/tools/jarsigner/TimestampedSigner.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Resources.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/ModuleWriterImpl.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.jartool/share/classes/sun/security/tools/jarsigner/TimestampedSigner.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -46,29 +46,15 @@</span>
   * @author Vincent Ryan
   */
  @SuppressWarnings(&quot;removal&quot;)
  public final class TimestampedSigner extends ContentSigner {
  
<span class="udiff-line-removed">-     /*</span>
<span class="udiff-line-removed">-      * Object identifier for the subject information access X.509 certificate</span>
<span class="udiff-line-removed">-      * extension.</span>
<span class="udiff-line-removed">-      */</span>
<span class="udiff-line-removed">-     private static final String SUBJECT_INFO_ACCESS_OID = &quot;1.3.6.1.5.5.7.1.11&quot;;</span>
<span class="udiff-line-removed">- </span>
      /*
       * Object identifier for the timestamping access descriptors.
       */
<span class="udiff-line-modified-removed">-     private static final ObjectIdentifier AD_TIMESTAMPING_Id;</span>
<span class="udiff-line-modified-removed">-     static {</span>
<span class="udiff-line-removed">-         ObjectIdentifier tmp = null;</span>
<span class="udiff-line-removed">-         try {</span>
<span class="udiff-line-removed">-             tmp = new ObjectIdentifier(&quot;1.3.6.1.5.5.7.48.3&quot;);</span>
<span class="udiff-line-removed">-         } catch (IOException e) {</span>
<span class="udiff-line-removed">-             // ignore</span>
<span class="udiff-line-removed">-         }</span>
<span class="udiff-line-removed">-         AD_TIMESTAMPING_Id = tmp;</span>
<span class="udiff-line-removed">-     }</span>
<span class="udiff-line-modified-added">+     private static final ObjectIdentifier AD_TIMESTAMPING_Id =</span>
<span class="udiff-line-modified-added">+             ObjectIdentifier.of(KnownOIDs.AD_TimeStamping);</span>
  
      /**
       * Instantiates a content signer that supports timestamped signatures.
       */
      public TimestampedSigner() {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -153,12 +139,12 @@</span>
          if (tsaCertificate == null) {
              return null;
          }
          // Parse the extensions
          try {
<span class="udiff-line-modified-removed">-             byte[] extensionValue =</span>
<span class="udiff-line-modified-removed">-                 tsaCertificate.getExtensionValue(SUBJECT_INFO_ACCESS_OID);</span>
<span class="udiff-line-modified-added">+             byte[] extensionValue = tsaCertificate.getExtensionValue</span>
<span class="udiff-line-modified-added">+                     (KnownOIDs.SubjectInfoAccess.value());</span>
              if (extensionValue == null) {
                  return null;
              }
              DerInputStream der = new DerInputStream(extensionValue);
              der = new DerInputStream(der.getOctetString());
</pre>
<center><a href="Resources.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/ModuleWriterImpl.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>