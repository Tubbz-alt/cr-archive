<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/jdk.compiler/share/classes/com/sun/tools/javac/main/CommandLine.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Arguments.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="Main.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.compiler/share/classes/com/sun/tools/javac/main/CommandLine.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -54,14 +54,14 @@</span>
       * the sequence &#39;@@&#39;.
       * @param args the arguments that may contain @files
       * @return the arguments, with @files expanded
       * @throws IOException if there is a problem reading any of the @files
       */
<span class="udiff-line-modified-removed">-     public static String[] parse(String[] args) throws IOException {</span>
<span class="udiff-line-modified-added">+     public static List&lt;String&gt; parse(List&lt;String&gt; args) throws IOException {</span>
          List&lt;String&gt; newArgs = new ArrayList&lt;&gt;();
<span class="udiff-line-modified-removed">-         appendParsedCommandArgs(newArgs, Arrays.asList(args));</span>
<span class="udiff-line-modified-removed">-         return newArgs.toArray(new String[newArgs.size()]);</span>
<span class="udiff-line-modified-added">+         appendParsedCommandArgs(newArgs, args);</span>
<span class="udiff-line-modified-added">+         return newArgs;</span>
      }
  
      private static void appendParsedCommandArgs(List&lt;String&gt; newArgs, List&lt;String&gt; args) throws IOException {
          for (String arg : args) {
              if (arg.length() &gt; 1 &amp;&amp; arg.charAt(0) == &#39;@&#39;) {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -102,31 +102,10 @@</span>
          List&lt;String&gt; newArgs = new ArrayList&lt;&gt;();
          appendParsedCommandArgs(newArgs, inArgs);
          return newArgs;
      }
  
<span class="udiff-line-removed">-     /**</span>
<span class="udiff-line-removed">-      * Process the given environment variable and appends any Win32-style</span>
<span class="udiff-line-removed">-      * command files for the specified command line arguments and return</span>
<span class="udiff-line-removed">-      * the resulting arguments. A command file argument</span>
<span class="udiff-line-removed">-      * is of the form &#39;@file&#39; where &#39;file&#39; is the name of the file whose</span>
<span class="udiff-line-removed">-      * contents are to be parsed for additional arguments. The contents of</span>
<span class="udiff-line-removed">-      * the command file are parsed using StreamTokenizer and the original</span>
<span class="udiff-line-removed">-      * &#39;@file&#39; argument replaced with the resulting tokens. Recursive command</span>
<span class="udiff-line-removed">-      * files are not supported. The &#39;@&#39; character itself can be quoted with</span>
<span class="udiff-line-removed">-      * the sequence &#39;@@&#39;.</span>
<span class="udiff-line-removed">-      * @param envVariable the env variable to process</span>
<span class="udiff-line-removed">-      * @param args the arguments that may contain @files</span>
<span class="udiff-line-removed">-      * @return the arguments, with environment variable&#39;s content and expansion of @files</span>
<span class="udiff-line-removed">-      * @throws IOException if there is a problem reading any of the @files</span>
<span class="udiff-line-removed">-      * @throws com.sun.tools.javac.main.CommandLine.UnmatchedQuote</span>
<span class="udiff-line-removed">-      */</span>
<span class="udiff-line-removed">-     public static String[] parse(String envVariable, String[] args) throws IOException, UnmatchedQuote {</span>
<span class="udiff-line-removed">-         List&lt;String&gt; out = parse(envVariable, Arrays.asList(args));</span>
<span class="udiff-line-removed">-         return out.toArray(new String[out.size()]);</span>
<span class="udiff-line-removed">-     }</span>
<span class="udiff-line-removed">- </span>
      private static void loadCmdFile(String name, List&lt;String&gt; args) throws IOException {
          try (Reader r = Files.newBufferedReader(Paths.get(name), Charset.defaultCharset())) {
              Tokenizer t = new Tokenizer(r);
              String s;
              while ((s = t.nextToken()) != null) {
</pre>
<center><a href="Arguments.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="Main.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>