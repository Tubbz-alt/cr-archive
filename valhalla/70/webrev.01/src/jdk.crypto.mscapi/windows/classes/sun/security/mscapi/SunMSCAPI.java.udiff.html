<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/jdk.crypto.mscapi/windows/classes/sun/security/mscapi/SunMSCAPI.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../jdk.crypto.ec/share/classes/sun/security/ec/point/ProjectivePoint.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../jdk.crypto.ucrypto/solaris/classes/com/oracle/security/ucrypto/LibMDMech.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.crypto.mscapi/windows/classes/sun/security/mscapi/SunMSCAPI.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 2005, 2018, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 2005, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -30,13 +30,14 @@</span>
  import java.security.Provider;
  import java.security.NoSuchAlgorithmException;
  import java.security.InvalidParameterException;
  import java.security.ProviderException;
  import java.util.HashMap;
<span class="udiff-line-modified-removed">- import java.util.Arrays;</span>
<span class="udiff-line-modified-added">+ import java.util.List;</span>
  
  import static sun.security.util.SecurityConstants.PROVIDER_VER;
<span class="udiff-line-added">+ import static sun.security.util.SecurityProviderConstants.getAliases;</span>
  
  /**
   * A Cryptographic Service Provider for the Microsoft Crypto API.
   *
   * @since 1.6
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -54,20 +55,25 @@</span>
                  System.loadLibrary(&quot;sunmscapi&quot;);
                  return null;
              }
          });
      }
<span class="udiff-line-added">+     private static class ProviderServiceA extends ProviderService {</span>
<span class="udiff-line-added">+         ProviderServiceA(Provider p, String type, String algo, String cn,</span>
<span class="udiff-line-added">+                 HashMap&lt;String, String&gt; attrs) {</span>
<span class="udiff-line-added">+             super(p, type, algo, cn, getAliases(algo), attrs);</span>
<span class="udiff-line-added">+         }</span>
<span class="udiff-line-added">+     }</span>
  
<span class="udiff-line-modified-removed">-     private static final class ProviderService extends Provider.Service {</span>
<span class="udiff-line-modified-added">+     private static class ProviderService extends Provider.Service {</span>
          ProviderService(Provider p, String type, String algo, String cn) {
              super(p, type, algo, cn, null, null);
          }
  
          ProviderService(Provider p, String type, String algo, String cn,
<span class="udiff-line-modified-removed">-             String[] aliases, HashMap&lt;String, String&gt; attrs) {</span>
<span class="udiff-line-modified-removed">-             super(p, type, algo, cn,</span>
<span class="udiff-line-removed">-                   (aliases == null? null : Arrays.asList(aliases)), attrs);</span>
<span class="udiff-line-modified-added">+             List&lt;String&gt; aliases, HashMap&lt;String, String&gt; attrs) {</span>
<span class="udiff-line-modified-added">+             super(p, type, algo, cn, aliases, attrs);</span>
          }
  
          @Override
          public Object newInstance(Object ctrParamObj)
              throws NoSuchAlgorithmException {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -174,52 +180,51 @@</span>
                             &quot;NONEwithRSA&quot;, &quot;sun.security.mscapi.CSignature$NONEwithRSA&quot;,
                             null, attrs));
                  putService(new ProviderService(p, &quot;Signature&quot;,
                             &quot;SHA1withRSA&quot;, &quot;sun.security.mscapi.CSignature$SHA1withRSA&quot;,
                             null, attrs));
<span class="udiff-line-modified-removed">-                 putService(new ProviderService(p, &quot;Signature&quot;,</span>
<span class="udiff-line-modified-removed">-                            &quot;SHA256withRSA&quot;, &quot;sun.security.mscapi.CSignature$SHA256withRSA&quot;,</span>
<span class="udiff-line-modified-removed">-                            new String[] { &quot;1.2.840.113549.1.1.11&quot;, &quot;OID.1.2.840.113549.1.1.11&quot; },</span>
<span class="udiff-line-modified-added">+                 putService(new ProviderServiceA(p, &quot;Signature&quot;,</span>
<span class="udiff-line-modified-added">+                            &quot;SHA256withRSA&quot;,</span>
<span class="udiff-line-modified-added">+                            &quot;sun.security.mscapi.CSignature$SHA256withRSA&quot;,</span>
                             attrs));
<span class="udiff-line-modified-removed">-                 putService(new ProviderService(p, &quot;Signature&quot;,</span>
<span class="udiff-line-modified-removed">-                            &quot;SHA384withRSA&quot;, &quot;sun.security.mscapi.CSignature$SHA384withRSA&quot;,</span>
<span class="udiff-line-modified-removed">-                            new String[] { &quot;1.2.840.113549.1.1.12&quot;, &quot;OID.1.2.840.113549.1.1.12&quot; },</span>
<span class="udiff-line-modified-added">+                 putService(new ProviderServiceA(p, &quot;Signature&quot;,</span>
<span class="udiff-line-modified-added">+                            &quot;SHA384withRSA&quot;,</span>
<span class="udiff-line-modified-added">+                            &quot;sun.security.mscapi.CSignature$SHA384withRSA&quot;,</span>
                             attrs));
<span class="udiff-line-modified-removed">-                 putService(new ProviderService(p, &quot;Signature&quot;,</span>
<span class="udiff-line-modified-removed">-                            &quot;SHA512withRSA&quot;, &quot;sun.security.mscapi.CSignature$SHA512withRSA&quot;,</span>
<span class="udiff-line-modified-removed">-                            new String[] { &quot;1.2.840.113549.1.1.13&quot;, &quot;OID.1.2.840.113549.1.1.13&quot; },</span>
<span class="udiff-line-modified-added">+                 putService(new ProviderServiceA(p, &quot;Signature&quot;,</span>
<span class="udiff-line-modified-added">+                            &quot;SHA512withRSA&quot;,</span>
<span class="udiff-line-modified-added">+                            &quot;sun.security.mscapi.CSignature$SHA512withRSA&quot;,</span>
<span class="udiff-line-added">+                            attrs));</span>
<span class="udiff-line-added">+                 putService(new ProviderServiceA(p, &quot;Signature&quot;,</span>
<span class="udiff-line-added">+                            &quot;RSASSA-PSS&quot;, &quot;sun.security.mscapi.CSignature$PSS&quot;,</span>
                             attrs));
<span class="udiff-line-removed">-                 putService(new ProviderService(p, &quot;Signature&quot;,</span>
<span class="udiff-line-removed">-                         &quot;RSASSA-PSS&quot;, &quot;sun.security.mscapi.CSignature$PSS&quot;,</span>
<span class="udiff-line-removed">-                         new String[] { &quot;1.2.840.113549.1.1.10&quot;, &quot;OID.1.2.840.113549.1.1.10&quot; },</span>
<span class="udiff-line-removed">-                         attrs));</span>
                  putService(new ProviderService(p, &quot;Signature&quot;,
                             &quot;MD5withRSA&quot;, &quot;sun.security.mscapi.CSignature$MD5withRSA&quot;,
                             null, attrs));
                  putService(new ProviderService(p, &quot;Signature&quot;,
                             &quot;MD2withRSA&quot;, &quot;sun.security.mscapi.CSignature$MD2withRSA&quot;,
                             null, attrs));
<span class="udiff-line-modified-removed">-                 putService(new ProviderService(p, &quot;Signature&quot;,</span>
<span class="udiff-line-modified-removed">-                         &quot;SHA1withECDSA&quot;, &quot;sun.security.mscapi.CSignature$SHA1withECDSA&quot;,</span>
<span class="udiff-line-modified-removed">-                         new String[] { &quot;1.2.840.10045.4.1&quot;, &quot;OID.1.2.840.10045.4.1&quot; },</span>
<span class="udiff-line-modified-removed">-                         attrs));</span>
<span class="udiff-line-modified-removed">-                 putService(new ProviderService(p, &quot;Signature&quot;,</span>
<span class="udiff-line-modified-removed">-                         &quot;SHA224withECDSA&quot;, &quot;sun.security.mscapi.CSignature$SHA224withECDSA&quot;,</span>
<span class="udiff-line-modified-removed">-                         new String[] { &quot;1.2.840.10045.4.3.1&quot;, &quot;OID.1.2.840.10045.4.3.1&quot;},</span>
<span class="udiff-line-modified-removed">-                         attrs));</span>
<span class="udiff-line-modified-removed">-                 putService(new ProviderService(p, &quot;Signature&quot;,</span>
<span class="udiff-line-modified-removed">-                         &quot;SHA256withECDSA&quot;, &quot;sun.security.mscapi.CSignature$SHA256withECDSA&quot;,</span>
<span class="udiff-line-modified-removed">-                         new String[] { &quot;1.2.840.10045.4.3.2&quot;, &quot;OID.1.2.840.10045.4.3.2&quot;},</span>
<span class="udiff-line-modified-removed">-                         attrs));</span>
<span class="udiff-line-modified-removed">-                 putService(new ProviderService(p, &quot;Signature&quot;,</span>
<span class="udiff-line-modified-removed">-                         &quot;SHA384withECDSA&quot;, &quot;sun.security.mscapi.CSignature$SHA384withECDSA&quot;,</span>
<span class="udiff-line-modified-removed">-                         new String[] { &quot;1.2.840.10045.4.3.3&quot;, &quot;OID.1.2.840.10045.4.3.3&quot;},</span>
<span class="udiff-line-modified-removed">-                         attrs));</span>
<span class="udiff-line-modified-removed">-                 putService(new ProviderService(p, &quot;Signature&quot;,</span>
<span class="udiff-line-modified-removed">-                         &quot;SHA512withECDSA&quot;, &quot;sun.security.mscapi.CSignature$SHA512withECDSA&quot;,</span>
<span class="udiff-line-modified-removed">-                         new String[] { &quot;1.2.840.10045.4.3.4&quot;, &quot;OID.1.2.840.10045.4.3.4&quot;},</span>
<span class="udiff-line-modified-removed">-                         attrs));</span>
<span class="udiff-line-modified-added">+                 putService(new ProviderServiceA(p, &quot;Signature&quot;,</span>
<span class="udiff-line-modified-added">+                            &quot;SHA1withECDSA&quot;,</span>
<span class="udiff-line-modified-added">+                            &quot;sun.security.mscapi.CSignature$SHA1withECDSA&quot;,</span>
<span class="udiff-line-modified-added">+                            attrs));</span>
<span class="udiff-line-modified-added">+                 putService(new ProviderServiceA(p, &quot;Signature&quot;,</span>
<span class="udiff-line-modified-added">+                            &quot;SHA224withECDSA&quot;,</span>
<span class="udiff-line-modified-added">+                            &quot;sun.security.mscapi.CSignature$SHA224withECDSA&quot;,</span>
<span class="udiff-line-modified-added">+                            attrs));</span>
<span class="udiff-line-modified-added">+                 putService(new ProviderServiceA(p, &quot;Signature&quot;,</span>
<span class="udiff-line-modified-added">+                            &quot;SHA256withECDSA&quot;,</span>
<span class="udiff-line-modified-added">+                            &quot;sun.security.mscapi.CSignature$SHA256withECDSA&quot;,</span>
<span class="udiff-line-modified-added">+                            attrs));</span>
<span class="udiff-line-modified-added">+                 putService(new ProviderServiceA(p, &quot;Signature&quot;,</span>
<span class="udiff-line-modified-added">+                            &quot;SHA384withECDSA&quot;,</span>
<span class="udiff-line-modified-added">+                            &quot;sun.security.mscapi.CSignature$SHA384withECDSA&quot;,</span>
<span class="udiff-line-modified-added">+                            attrs));</span>
<span class="udiff-line-modified-added">+                 putService(new ProviderServiceA(p, &quot;Signature&quot;,</span>
<span class="udiff-line-modified-added">+                            &quot;SHA512withECDSA&quot;,</span>
<span class="udiff-line-modified-added">+                            &quot;sun.security.mscapi.CSignature$SHA512withECDSA&quot;,</span>
<span class="udiff-line-modified-added">+                            attrs));</span>
                  /*
                   * Key Pair Generator engines
                   */
                  attrs.clear();
                  attrs.put(&quot;KeySize&quot;, &quot;16384&quot;);
</pre>
<center><a href="../../../../../../jdk.crypto.ec/share/classes/sun/security/ec/point/ProjectivePoint.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../jdk.crypto.ucrypto/solaris/classes/com/oracle/security/ucrypto/LibMDMech.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>