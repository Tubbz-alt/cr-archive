<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.jdi/share/classes/com/sun/tools/jdi/EventSetImpl.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ArrayTypeImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="JNITypeParser.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.jdi/share/classes/com/sun/tools/jdi/EventSetImpl.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
408         }
409 
410         public ReferenceType referenceType() {
411             return referenceType;
412         }
413 
414         String eventName() {
415             return &quot;ClassPrepareEvent&quot;;
416         }
417     }
418 
419     class ClassUnloadEventImpl extends EventImpl implements ClassUnloadEvent {
420         private String classSignature;
421 
422         ClassUnloadEventImpl(JDWP.Event.Composite.Events.ClassUnload evt) {
423             super(evt, evt.requestID);
424             this.classSignature = evt.signature;
425         }
426 
427         public String className() {
<span class="line-modified">428             assert classSignature.startsWith(&quot;L&quot;) &amp;&amp; classSignature.endsWith(&quot;;&quot;);</span>
<span class="line-removed">429 </span>
<span class="line-removed">430             // trim leading &quot;L&quot; and trailing &quot;;&quot;</span>
<span class="line-removed">431             String name = classSignature.substring(1, classSignature.length() - 1);</span>
<span class="line-removed">432             int index = name.indexOf(&quot;.&quot;);  // check if it is a hidden class</span>
<span class="line-removed">433             if (index &lt; 0) {</span>
<span class="line-removed">434                 return name.replace(&#39;/&#39;, &#39;.&#39;);</span>
<span class="line-removed">435             }  else {</span>
<span class="line-removed">436                 // map the type descriptor from: &quot;L&quot; + N + &quot;.&quot; + &lt;suffix&gt; + &quot;;&quot;</span>
<span class="line-removed">437                 // to class name: N.replace(&#39;/&#39;, &#39;.&#39;) + &quot;/&quot; + &lt;suffix&gt;</span>
<span class="line-removed">438                 return name.substring(0, index).replace(&#39;/&#39;, &#39;.&#39;)</span>
<span class="line-removed">439                         + &quot;/&quot; + name.substring(index + 1);</span>
<span class="line-removed">440             }</span>
441         }
442 
443         public String classSignature() {
444             return classSignature;
445         }
446 
447         String eventName() {
448             return &quot;ClassUnloadEvent&quot;;
449         }
450     }
451 
452     class ExceptionEventImpl extends LocatableEventImpl
453                                              implements ExceptionEvent {
454         private ObjectReference exception;
455         private Location catchLocation;
456 
457         ExceptionEventImpl(JDWP.Event.Composite.Events.Exception evt) {
458             super(evt, evt.requestID, evt.thread, evt.location);
459             this.exception = evt.exception;
460             this.catchLocation = evt.catchLocation;
</pre>
</td>
<td>
<hr />
<pre>
408         }
409 
410         public ReferenceType referenceType() {
411             return referenceType;
412         }
413 
414         String eventName() {
415             return &quot;ClassPrepareEvent&quot;;
416         }
417     }
418 
419     class ClassUnloadEventImpl extends EventImpl implements ClassUnloadEvent {
420         private String classSignature;
421 
422         ClassUnloadEventImpl(JDWP.Event.Composite.Events.ClassUnload evt) {
423             super(evt, evt.requestID);
424             this.classSignature = evt.signature;
425         }
426 
427         public String className() {
<span class="line-modified">428             return JNITypeParser.convertSignatureToClassname(classSignature);</span>












429         }
430 
431         public String classSignature() {
432             return classSignature;
433         }
434 
435         String eventName() {
436             return &quot;ClassUnloadEvent&quot;;
437         }
438     }
439 
440     class ExceptionEventImpl extends LocatableEventImpl
441                                              implements ExceptionEvent {
442         private ObjectReference exception;
443         private Location catchLocation;
444 
445         ExceptionEventImpl(JDWP.Event.Composite.Events.Exception evt) {
446             super(evt, evt.requestID, evt.thread, evt.location);
447             this.exception = evt.exception;
448             this.catchLocation = evt.catchLocation;
</pre>
</td>
</tr>
</table>
<center><a href="ArrayTypeImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="JNITypeParser.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>