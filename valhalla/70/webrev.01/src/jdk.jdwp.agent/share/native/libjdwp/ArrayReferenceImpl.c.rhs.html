<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/jdk.jdwp.agent/share/native/libjdwp/ArrayReferenceImpl.c</title>
    <link rel="stylesheet" href="../../../../../style.css" />
    <script type="text/javascript" src="../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /*
  2  * Copyright (c) 1998, 2020, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 #include &quot;util.h&quot;
 27 #include &quot;ArrayReferenceImpl.h&quot;
 28 #include &quot;inStream.h&quot;
 29 #include &quot;outStream.h&quot;
<a name="1" id="anc1"></a><span class="line-added"> 30 #include &quot;signature.h&quot;</span>
 31 
 32 static jboolean
 33 length(PacketInputStream *in, PacketOutputStream *out)
 34 {
 35     JNIEnv *env = getEnv();
 36     jsize arrayLength;
 37 
 38     jarray  array = inStream_readArrayRef(env, in);
 39     if (inStream_error(in)) {
 40         return JNI_TRUE;
 41     }
 42 
 43     arrayLength = JNI_FUNC_PTR(env,GetArrayLength)(env, array);
 44     (void)outStream_writeInt(out, arrayLength);
 45     return JNI_TRUE;
 46 }
 47 
 48 static void *
 49 newComponents(PacketOutputStream *out, jint length, size_t nbytes)
 50 {
 51     void *ptr = NULL;
 52 
 53     if ( length &gt; 0 ) {
 54         ptr = jvmtiAllocate(length*((jint)nbytes));
 55         if ( ptr == NULL ) {
 56             outStream_setError(out, JDWP_ERROR(OUT_OF_MEMORY));
 57         } else {
 58             (void)memset(ptr, 0, length*nbytes);
 59         }
 60     }
 61     return ptr;
 62 }
 63 
 64 static void
 65 deleteComponents(void *ptr)
 66 {
 67     jvmtiDeallocate(ptr);
 68 }
 69 
 70 static void
 71 writeBooleanComponents(JNIEnv *env, PacketOutputStream *out,
 72                     jarray array, jint index, jint length)
 73 {
 74     jboolean *components;
 75 
 76     components = newComponents(out, length, sizeof(jboolean));
 77     if (components != NULL) {
 78         jint i;
 79         JNI_FUNC_PTR(env,GetBooleanArrayRegion)(env, array, index, length, components);
 80         for (i = 0; i &lt; length; i++) {
 81             (void)outStream_writeBoolean(out, components[i]);
 82         }
 83         deleteComponents(components);
 84     }
 85 }
 86 
 87 static void
 88 writeByteComponents(JNIEnv *env, PacketOutputStream *out,
 89                     jarray array, jint index, jint length)
 90 {
 91     jbyte *components;
 92 
 93     components = newComponents(out, length, sizeof(jbyte));
 94     if (components != NULL) {
 95         jint i;
 96         JNI_FUNC_PTR(env,GetByteArrayRegion)(env, array, index, length, components);
 97         for (i = 0; i &lt; length; i++) {
 98             (void)outStream_writeByte(out, components[i]);
 99         }
100         deleteComponents(components);
101     }
102 }
103 
104 static void
105 writeCharComponents(JNIEnv *env, PacketOutputStream *out,
106                     jarray array, jint index, jint length)
107 {
108     jchar *components;
109 
110     components = newComponents(out, length, sizeof(jchar));
111     if (components != NULL) {
112         jint i;
113         JNI_FUNC_PTR(env,GetCharArrayRegion)(env, array, index, length, components);
114         for (i = 0; i &lt; length; i++) {
115             (void)outStream_writeChar(out, components[i]);
116         }
117         deleteComponents(components);
118     }
119 }
120 
121 static void
122 writeShortComponents(JNIEnv *env, PacketOutputStream *out,
123                     jarray array, jint index, jint length)
124 {
125     jshort *components;
126 
127     components = newComponents(out, length, sizeof(jshort));
128     if (components != NULL) {
129         jint i;
130         JNI_FUNC_PTR(env,GetShortArrayRegion)(env, array, index, length, components);
131         for (i = 0; i &lt; length; i++) {
132             (void)outStream_writeShort(out, components[i]);
133         }
134         deleteComponents(components);
135     }
136 }
137 
138 static void
139 writeIntComponents(JNIEnv *env, PacketOutputStream *out,
140                     jarray array, jint index, jint length)
141 {
142     jint *components;
143 
144     components = newComponents(out, length, sizeof(jint));
145     if (components != NULL) {
146         jint i;
147         JNI_FUNC_PTR(env,GetIntArrayRegion)(env, array, index, length, components);
148         for (i = 0; i &lt; length; i++) {
149             (void)outStream_writeInt(out, components[i]);
150         }
151         deleteComponents(components);
152     }
153 }
154 
155 static void
156 writeLongComponents(JNIEnv *env, PacketOutputStream *out,
157                     jarray array, jint index, jint length)
158 {
159     jlong *components;
160 
161     components = newComponents(out, length, sizeof(jlong));
162     if (components != NULL) {
163         jint i;
164         JNI_FUNC_PTR(env,GetLongArrayRegion)(env, array, index, length, components);
165         for (i = 0; i &lt; length; i++) {
166             (void)outStream_writeLong(out, components[i]);
167         }
168         deleteComponents(components);
169     }
170 }
171 
172 static void
173 writeFloatComponents(JNIEnv *env, PacketOutputStream *out,
174                     jarray array, jint index, jint length)
175 {
176     jfloat *components;
177 
178     components = newComponents(out, length, sizeof(jfloat));
179     if (components != NULL) {
180         jint i;
181         JNI_FUNC_PTR(env,GetFloatArrayRegion)(env, array, index, length, components);
182         for (i = 0; i &lt; length; i++) {
183             (void)outStream_writeFloat(out, components[i]);
184         }
185         deleteComponents(components);
186     }
187 }
188 
189 static void
190 writeDoubleComponents(JNIEnv *env, PacketOutputStream *out,
191                     jarray array, jint index, jint length)
192 {
193     jdouble *components;
194 
195     components = newComponents(out, length, sizeof(jdouble));
196     if (components != NULL) {
197         jint i;
198         JNI_FUNC_PTR(env,GetDoubleArrayRegion)(env, array, index, length, components);
199         for (i = 0; i &lt; length; i++) {
200             (void)outStream_writeDouble(out, components[i]);
201         }
202         deleteComponents(components);
203     }
204 }
205 
206 static void
207 writeObjectComponents(JNIEnv *env, PacketOutputStream *out,
<a name="2" id="anc2"></a><span class="line-modified">208                       jarray array, jint index, jint length)</span>
209 {
210 
211     WITH_LOCAL_REFS(env, length) {
212 
213         int i;
214         jobject component;
215 
216         for (i = 0; i &lt; length; i++) {
217             component = JNI_FUNC_PTR(env,GetObjectArrayElement)(env, array, index + i);
218             if (JNI_FUNC_PTR(env,ExceptionOccurred)(env)) {
219                 /* cleared by caller */
220                 break;
221             }
222             (void)outStream_writeByte(out, specificTypeKey(env, component));
223             (void)outStream_writeObjectRef(env, out, component);
224         }
225 
226     } END_WITH_LOCAL_REFS(env);
227 }
228 
<a name="3" id="anc3"></a><span class="line-added">229 static void writeComponents(JNIEnv *env, PacketOutputStream *out, char *signature,</span>
<span class="line-added">230                             jarray array, jint index, jint length);</span>
<span class="line-added">231 </span>
232 static jboolean
233 getValues(PacketInputStream *in, PacketOutputStream *out)
234 {
235     JNIEnv *env = getEnv();
236     jint arrayLength;
237     jarray array;
238     jint index;
239     jint length;
240 
241     array = inStream_readArrayRef(env, in);
242     if (inStream_error(in)) {
243         return JNI_TRUE;
244     }
245     index = inStream_readInt(in);
246     if (inStream_error(in)) {
247         return JNI_TRUE;
248     }
249     length = inStream_readInt(in);
250     if (inStream_error(in)) {
251         return JNI_TRUE;
252     }
253 
254     arrayLength = JNI_FUNC_PTR(env,GetArrayLength)(env, array);
255 
256     if (length == -1) {
257         length = arrayLength - index;
258     }
259 
260     if ((index &lt; 0) || (index &gt; arrayLength - 1)) {
261         outStream_setError(out, JDWP_ERROR(INVALID_INDEX));
262         return JNI_TRUE;
263     }
264 
265     if ((length &lt; 0) || (length + index &gt; arrayLength)) {
266         outStream_setError(out, JDWP_ERROR(INVALID_LENGTH));
267         return JNI_TRUE;
268     }
269 
270     WITH_LOCAL_REFS(env, 1) {
271 
<a name="4" id="anc4"></a>
272         char *signature = NULL;
<a name="5" id="anc5"></a>










273 
<a name="6" id="anc6"></a><span class="line-modified">274         jclass arrayClass = JNI_FUNC_PTR(env,GetObjectClass)(env, array);</span>
<span class="line-modified">275         jvmtiError error = classSignature(arrayClass, &amp;signature, NULL);</span>
<span class="line-modified">276         if (error == JVMTI_ERROR_NONE) {</span>
<span class="line-modified">277             writeComponents(env, out, signature, array, index, length);</span>
<span class="line-modified">278             jvmtiDeallocate(signature);</span>






































279         }
280 
<a name="7" id="anc7"></a>



281     } END_WITH_LOCAL_REFS(env);
282 
283     if (JNI_FUNC_PTR(env,ExceptionOccurred)(env)) {
284         outStream_setError(out, JDWP_ERROR(INTERNAL));
285         JNI_FUNC_PTR(env,ExceptionClear)(env);
286     }
287 
288     return JNI_TRUE;
289 }
290 
<a name="8" id="anc8"></a><span class="line-added">291 static void writeComponents(JNIEnv *env, PacketOutputStream *out, char *signature,</span>
<span class="line-added">292                             jarray array, jint index, jint length) {</span>
<span class="line-added">293 </span>
<span class="line-added">294     char * componentSignature = componentTypeSignature(signature);</span>
<span class="line-added">295     jbyte typeKey = jdwpTag(componentSignature);</span>
<span class="line-added">296 </span>
<span class="line-added">297     (void)outStream_writeByte(out, typeKey);</span>
<span class="line-added">298     (void)outStream_writeInt(out, length);</span>
<span class="line-added">299 </span>
<span class="line-added">300     if (isReferenceTag(typeKey)) {</span>
<span class="line-added">301         writeObjectComponents(env, out, array, index, length);</span>
<span class="line-added">302         return;</span>
<span class="line-added">303     }</span>
<span class="line-added">304     switch (typeKey) {</span>
<span class="line-added">305         case JDWP_TAG(BYTE):</span>
<span class="line-added">306             writeByteComponents(env, out, array, index, length);</span>
<span class="line-added">307             break;</span>
<span class="line-added">308 </span>
<span class="line-added">309         case JDWP_TAG(CHAR):</span>
<span class="line-added">310             writeCharComponents(env, out, array, index, length);</span>
<span class="line-added">311             break;</span>
<span class="line-added">312 </span>
<span class="line-added">313         case JDWP_TAG(FLOAT):</span>
<span class="line-added">314             writeFloatComponents(env, out, array, index, length);</span>
<span class="line-added">315             break;</span>
<span class="line-added">316 </span>
<span class="line-added">317         case JDWP_TAG(DOUBLE):</span>
<span class="line-added">318             writeDoubleComponents(env, out, array, index, length);</span>
<span class="line-added">319             break;</span>
<span class="line-added">320 </span>
<span class="line-added">321         case JDWP_TAG(INT):</span>
<span class="line-added">322             writeIntComponents(env, out, array, index, length);</span>
<span class="line-added">323             break;</span>
<span class="line-added">324 </span>
<span class="line-added">325         case JDWP_TAG(LONG):</span>
<span class="line-added">326             writeLongComponents(env, out, array, index, length);</span>
<span class="line-added">327             break;</span>
<span class="line-added">328 </span>
<span class="line-added">329         case JDWP_TAG(SHORT):</span>
<span class="line-added">330             writeShortComponents(env, out, array, index, length);</span>
<span class="line-added">331             break;</span>
<span class="line-added">332 </span>
<span class="line-added">333         case JDWP_TAG(BOOLEAN):</span>
<span class="line-added">334             writeBooleanComponents(env, out, array, index, length);</span>
<span class="line-added">335             break;</span>
<span class="line-added">336 </span>
<span class="line-added">337         default:</span>
<span class="line-added">338             outStream_setError(out, JDWP_ERROR(INVALID_TAG));</span>
<span class="line-added">339             break;</span>
<span class="line-added">340     }</span>
<span class="line-added">341 }</span>
<span class="line-added">342 </span>
343 static jdwpError
344 readBooleanComponents(JNIEnv *env, PacketInputStream *in,
345                    jarray array, int index, int length)
346 {
347     int i;
348     jboolean component;
349 
350     for (i = 0; (i &lt; length) &amp;&amp; !inStream_error(in); i++) {
351         component = inStream_readBoolean(in);
352         JNI_FUNC_PTR(env,SetBooleanArrayRegion)(env, array, index + i, 1, &amp;component);
353     }
354     return inStream_error(in);
355 }
356 
357 static jdwpError
358 readByteComponents(JNIEnv *env, PacketInputStream *in,
359                    jarray array, int index, int length)
360 {
361     int i;
362     jbyte component;
363 
364     for (i = 0; (i &lt; length) &amp;&amp; !inStream_error(in); i++) {
365         component = inStream_readByte(in);
366         JNI_FUNC_PTR(env,SetByteArrayRegion)(env, array, index + i, 1, &amp;component);
367     }
368     return inStream_error(in);
369 }
370 
371 static jdwpError
372 readCharComponents(JNIEnv *env, PacketInputStream *in,
373                    jarray array, int index, int length)
374 {
375     int i;
376     jchar component;
377 
378     for (i = 0; (i &lt; length) &amp;&amp; !inStream_error(in); i++) {
379         component = inStream_readChar(in);
380         JNI_FUNC_PTR(env,SetCharArrayRegion)(env, array, index + i, 1, &amp;component);
381     }
382     return inStream_error(in);
383 }
384 
385 static jdwpError
386 readShortComponents(JNIEnv *env, PacketInputStream *in,
387                    jarray array, int index, int length)
388 {
389     int i;
390     jshort component;
391 
392     for (i = 0; (i &lt; length) &amp;&amp; !inStream_error(in); i++) {
393         component = inStream_readShort(in);
394         JNI_FUNC_PTR(env,SetShortArrayRegion)(env, array, index + i, 1, &amp;component);
395     }
396     return inStream_error(in);
397 }
398 
399 static jdwpError
400 readIntComponents(JNIEnv *env, PacketInputStream *in,
401                    jarray array, int index, int length)
402 {
403     int i;
404     jint component;
405 
406     for (i = 0; (i &lt; length) &amp;&amp; !inStream_error(in); i++) {
407         component = inStream_readInt(in);
408         JNI_FUNC_PTR(env,SetIntArrayRegion)(env, array, index + i, 1, &amp;component);
409     }
410     return inStream_error(in);
411 }
412 
413 static jdwpError
414 readLongComponents(JNIEnv *env, PacketInputStream *in,
415                    jarray array, int index, int length)
416 {
417     int i;
418 #if defined (_WIN32) &amp;&amp; defined (_MSC_VER)
419     __declspec(align(8))
420 #endif
421     jlong component;
422 
423     for (i = 0; (i &lt; length) &amp;&amp; !inStream_error(in); i++) {
424         component = inStream_readLong(in);
425         JNI_FUNC_PTR(env,SetLongArrayRegion)(env, array, index + i, 1, &amp;component);
426     }
427     return inStream_error(in);
428 }
429 
430 static jdwpError
431 readFloatComponents(JNIEnv *env, PacketInputStream *in,
432                    jarray array, int index, int length)
433 {
434     int i;
435     jfloat component;
436 
437     for (i = 0; (i &lt; length) &amp;&amp; !inStream_error(in); i++) {
438         component = inStream_readFloat(in);
439         JNI_FUNC_PTR(env,SetFloatArrayRegion)(env, array, index + i, 1, &amp;component);
440     }
441     return inStream_error(in);
442 }
443 
444 static jdwpError
445 readDoubleComponents(JNIEnv *env, PacketInputStream *in,
446                    jarray array, int index, int length)
447 {
448     int i;
449 #if defined (_WIN32) &amp;&amp; defined (_MSC_VER)
450     __declspec(align(8))
451 #endif
452     jdouble component;
453 
454     for (i = 0; (i &lt; length) &amp;&amp; !inStream_error(in); i++) {
455         component = inStream_readDouble(in);
456         JNI_FUNC_PTR(env,SetDoubleArrayRegion)(env, array, index + i, 1, &amp;component);
457     }
458     return inStream_error(in);
459 }
460 
461 
462 static jdwpError
463 readObjectComponents(JNIEnv *env, PacketInputStream *in,
464                    jarray array, int index, int length)
465                    /* char *componentSignature) */
466 {
467     int i;
468 
469     for (i = 0; i &lt; length; i++) {
470         jobject object = inStream_readObjectRef(env, in);
471 
472         JNI_FUNC_PTR(env,SetObjectArrayElement)(env, array, index + i, object);
473         if (JNI_FUNC_PTR(env,ExceptionOccurred)(env)) {
474             /* caller will clear */
475             break;
476         }
477     }
478 
479     return JDWP_ERROR(NONE);
480 }
481 
<a name="9" id="anc9"></a><span class="line-added">482 static jdwpError readComponents(JNIEnv *env, PacketInputStream *in, char *signature,</span>
<span class="line-added">483                                 jarray array, jint index, jint length);</span>
484 
485 static jboolean
486 setValues(PacketInputStream *in, PacketOutputStream *out)
487 {
488     JNIEnv *env = getEnv();
489     jdwpError serror = JDWP_ERROR(NONE);
490     int arrayLength;
491     jarray array;
492     jint index;
493     jint length;
494 
495     array = inStream_readArrayRef(env, in);
496     if (inStream_error(in)) {
497         return JNI_TRUE;
498     }
499     index = inStream_readInt(in);
500     if (inStream_error(in)) {
501         return JNI_TRUE;
502     }
503     length = inStream_readInt(in);
504     if (inStream_error(in)) {
505         return JNI_TRUE;
506     }
507 
508     arrayLength = JNI_FUNC_PTR(env,GetArrayLength)(env, array);
509 
510     if ((index &lt; 0) || (index &gt; arrayLength - 1)) {
511         outStream_setError(out, JDWP_ERROR(INVALID_INDEX));
512         return JNI_TRUE;
513     }
514 
515     if ((length &lt; 0) || (length + index &gt; arrayLength)) {
516         outStream_setError(out, JDWP_ERROR(INVALID_LENGTH));
517         return JNI_TRUE;
518     }
519 
520     WITH_LOCAL_REFS(env, 1)  {
521 
<a name="10" id="anc10"></a>
522         char *signature = NULL;
<a name="11" id="anc11"></a>

523 
<a name="12" id="anc12"></a><span class="line-modified">524         jclass arrayClass = JNI_FUNC_PTR(env,GetObjectClass)(env, array);</span>
<span class="line-modified">525         jvmtiError error = classSignature(arrayClass, &amp;signature, NULL);</span>
<span class="line-modified">526         if (error == JVMTI_ERROR_NONE) {</span>
<span class="line-modified">527             serror = readComponents(env, in, signature, array, index, length);</span>
<span class="line-added">528             jvmtiDeallocate(signature);</span>
529         }
<a name="13" id="anc13"></a><span class="line-modified">530     } END_WITH_LOCAL_REFS(env);</span>











531 
<a name="14" id="anc14"></a><span class="line-modified">532     if (JNI_FUNC_PTR(env,ExceptionOccurred)(env)) {</span>
<span class="line-modified">533         /*</span>
<span class="line-modified">534          * TO DO: Check exception type</span>
<span class="line-added">535          */</span>
<span class="line-added">536         serror = JDWP_ERROR(TYPE_MISMATCH);</span>
<span class="line-added">537         JNI_FUNC_PTR(env,ExceptionClear)(env);</span>
<span class="line-added">538     }</span>
539 
<a name="15" id="anc15"></a><span class="line-modified">540     outStream_setError(out, serror);</span>
<span class="line-modified">541     return JNI_TRUE;</span>
<span class="line-modified">542 }</span>
543 
<a name="16" id="anc16"></a><span class="line-modified">544 static jdwpError readComponents(JNIEnv *env, PacketInputStream *in, char *signature,</span>
<span class="line-modified">545 jarray array, jint index, jint length) {</span>
<span class="line-modified">546     jdwpError serror = JDWP_ERROR(NONE);</span>
547 
<a name="17" id="anc17"></a><span class="line-modified">548     char *componentSignature = componentTypeSignature(signature);</span>
<span class="line-modified">549     jbyte typeKey = jdwpTag(componentSignature);</span>
<span class="line-modified">550     if (isReferenceTag(typeKey)) {</span>
<span class="line-added">551         serror = readObjectComponents(env, in, array, index, length);</span>
<span class="line-added">552         return serror;</span>
<span class="line-added">553     }</span>
<span class="line-added">554     switch (typeKey) {</span>
<span class="line-added">555         case JDWP_TAG(BYTE):</span>
<span class="line-added">556             serror = readByteComponents(env, in, array, index, length);</span>
<span class="line-added">557             break;</span>
558 
<a name="18" id="anc18"></a><span class="line-modified">559         case JDWP_TAG(CHAR):</span>
<span class="line-modified">560             serror = readCharComponents(env, in, array, index, length);</span>
<span class="line-modified">561             break;</span>
562 
<a name="19" id="anc19"></a><span class="line-modified">563         case JDWP_TAG(FLOAT):</span>
<span class="line-modified">564             serror = readFloatComponents(env, in, array, index, length);</span>
<span class="line-modified">565             break;</span>
566 
<a name="20" id="anc20"></a><span class="line-modified">567         case JDWP_TAG(DOUBLE):</span>
<span class="line-modified">568             serror = readDoubleComponents(env, in, array, index, length);</span>
<span class="line-modified">569             break;</span>
570 
<a name="21" id="anc21"></a><span class="line-modified">571         case JDWP_TAG(INT):</span>
<span class="line-modified">572             serror = readIntComponents(env, in, array, index, length);</span>
<span class="line-modified">573             break;</span>





574 
<a name="22" id="anc22"></a><span class="line-modified">575         case JDWP_TAG(LONG):</span>
<span class="line-added">576             serror = readLongComponents(env, in, array, index, length);</span>
<span class="line-added">577             break;</span>
578 
<a name="23" id="anc23"></a><span class="line-modified">579         case JDWP_TAG(SHORT):</span>
<span class="line-added">580             serror = readShortComponents(env, in, array, index, length);</span>
<span class="line-added">581             break;</span>
582 
<a name="24" id="anc24"></a><span class="line-modified">583         case JDWP_TAG(BOOLEAN):</span>
<span class="line-added">584             serror = readBooleanComponents(env, in, array, index, length);</span>
<span class="line-added">585             break;</span>
586 
<a name="25" id="anc25"></a><span class="line-modified">587         default:</span>
<span class="line-modified">588             {</span>
<span class="line-modified">589                 ERROR_MESSAGE((&quot;Invalid array component signature: %s&quot;,</span>
<span class="line-modified">590                                     componentSignature));</span>
<span class="line-modified">591                 EXIT_ERROR(AGENT_ERROR_INVALID_OBJECT,NULL);</span>
<span class="line-modified">592             }</span>
<span class="line-added">593             break;</span>
594     }
595 
<a name="26" id="anc26"></a><span class="line-modified">596     return serror;</span>

597 }
598 
599 Command ArrayReference_Commands[] = {
600     {length, &quot;Length&quot;},
601     {getValues, &quot;GetValues&quot;},
602     {setValues, &quot;SetValues&quot;}
603 };
604 
605 DEBUG_DISPATCH_DEFINE_CMDSET(ArrayReference)
<a name="27" id="anc27"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="27" type="hidden" />
</body>
</html>