<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.javadoc/share/classes/jdk/javadoc/internal/tool/ToolOptions.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Start.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="resources/javadoc.properties.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.javadoc/share/classes/jdk/javadoc/internal/tool/ToolOptions.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  49  * the source level, and path options to locate the files to be
  50  * documented.
  51  *
  52  * &lt;p&gt;Some of the methods used to access the values of options
  53  * have names that begin with a verb, such as {@link #expandRequires}
  54  * or {@link #ignoreSourceErrors}. Unless otherwise stated,
  55  * these methods should all be taken as just accessing the value
  56  * of the associated option.
  57  *
  58  *  &lt;p&gt;&lt;b&gt;This is NOT part of any supported API.
  59  *  If you write code that depends on this, you do so at your own risk.
  60  *  This code and its internal interfaces are subject to change or
  61  *  deletion without notice.&lt;/b&gt;
  62  */
  63 public class ToolOptions {
  64     // The following are the names of options handled in the first pass of option decoding,
  65     // in Start.preprocess.
  66     static final String DOCLET = &quot;-doclet&quot;;
  67     static final String DOCLET_PATH = &quot;-docletpath&quot;;
  68     static final String DUMP_ON_ERROR = &quot;--dump-on-error&quot;;

  69     static final String J = &quot;-J&quot;;
  70     static final String LOCALE = &quot;-locale&quot;;
  71 
  72     /**
  73      * Argument for command-line option {@code -breakiterator}.
  74      */
  75     private boolean breakIterator = false;
  76 
  77     /**
  78      * Argument for command-line option {@code --dump-on-error}.
  79      * Dump stack traces for debugging etc.
  80      * Similar to javac {@code -doe}.
  81      */
  82     private boolean dumpOnError = false;
  83 
  84     /**
  85      * Argument for command-line option {@code -exclude}.
  86      */
  87     private List&lt;String&gt; excludes = new ArrayList&lt;&gt;();
  88 
</pre>
<hr />
<pre>
 570                 }
 571             },
 572 
 573             new ToolOption(&quot;--help-extra -X&quot;, STANDARD) {
 574                 @Override
 575                 public void process() throws OptionException {
 576                     throw new OptionException(OK, showHelper::Xusage);
 577                 }
 578             },
 579 
 580             // This option exists so that it is documented in the command-line help.
 581             // It is actually implemented by the launcher, and can only be used when
 582             // invoking javadoc from the launcher.
 583             new ToolOption(J, STANDARD, true) {
 584                 @Override
 585                 public void process() {
 586                     throw new AssertionError(&quot;the -J flag should be caught by the launcher.&quot;);
 587                 }
 588             },
 589 











 590             new ToolOption(&quot;--version&quot;, STANDARD) {
 591                 @Override
 592                 public void process() throws OptionException {
 593                     throw new OptionException(OK, showHelper::version);
 594                 }
 595             },
 596 
 597             new ToolOption(&quot;--full-version&quot;, HIDDEN) {
 598                 @Override
 599                 public void process() throws OptionException {
 600                     throw new OptionException(OK, showHelper::fullVersion);
 601                 }
 602             });
 603 
 604     /**
 605      * Base class for all supported tool options.
 606      */
 607     static class ToolOption {
 608         enum Kind { STANDARD, EXTENDED, HIDDEN }
 609 
</pre>
<hr />
<pre>
 631         void process() throws OptionException, Option.InvalidValueException { }
 632 
 633         List&lt;String&gt; getNames() {
 634             return names;
 635         }
 636 
 637         String getParameters(Messager messager) {
 638             return (hasArg || primaryName.endsWith(&quot;:&quot;))
 639                     ? messager.getText(getKey(primaryName, &quot;.arg&quot;))
 640                     : null;
 641         }
 642 
 643         String getDescription(Messager messager) {
 644             return messager.getText(getKey(primaryName, &quot;.desc&quot;));
 645         }
 646 
 647         private String getKey(String optionName, String suffix) {
 648             return &quot;main.opt.&quot;
 649                     + optionName
 650                         .replaceAll(&quot;^-*&quot;, &quot;&quot;)              // remove leading &#39;-&#39;

 651                         .replaceAll(&quot;[^A-Za-z0-9]+$&quot;, &quot;&quot;)   // remove trailing non-alphanumeric
 652                         .replaceAll(&quot;[^A-Za-z0-9]&quot;, &quot;.&quot;)    // replace internal non-alphanumeric
 653                     + suffix;
 654         }
 655     }
 656 
 657     interface ShowHelper {
 658         /**
 659          * Show command-line help for the standard options, as requested by
 660          * the {@code --help} option and its aliases.
 661          */
 662         void usage();
 663 
 664         /**
 665          * Show command-line help for the extended options, as requested by
 666          * the {@code --help-extended} option and its aliases.
 667          */
 668         void Xusage();
 669 
 670         /**
</pre>
</td>
<td>
<hr />
<pre>
  49  * the source level, and path options to locate the files to be
  50  * documented.
  51  *
  52  * &lt;p&gt;Some of the methods used to access the values of options
  53  * have names that begin with a verb, such as {@link #expandRequires}
  54  * or {@link #ignoreSourceErrors}. Unless otherwise stated,
  55  * these methods should all be taken as just accessing the value
  56  * of the associated option.
  57  *
  58  *  &lt;p&gt;&lt;b&gt;This is NOT part of any supported API.
  59  *  If you write code that depends on this, you do so at your own risk.
  60  *  This code and its internal interfaces are subject to change or
  61  *  deletion without notice.&lt;/b&gt;
  62  */
  63 public class ToolOptions {
  64     // The following are the names of options handled in the first pass of option decoding,
  65     // in Start.preprocess.
  66     static final String DOCLET = &quot;-doclet&quot;;
  67     static final String DOCLET_PATH = &quot;-docletpath&quot;;
  68     static final String DUMP_ON_ERROR = &quot;--dump-on-error&quot;;
<span class="line-added">  69     static final String AT = &quot;@&quot;;</span>
  70     static final String J = &quot;-J&quot;;
  71     static final String LOCALE = &quot;-locale&quot;;
  72 
  73     /**
  74      * Argument for command-line option {@code -breakiterator}.
  75      */
  76     private boolean breakIterator = false;
  77 
  78     /**
  79      * Argument for command-line option {@code --dump-on-error}.
  80      * Dump stack traces for debugging etc.
  81      * Similar to javac {@code -doe}.
  82      */
  83     private boolean dumpOnError = false;
  84 
  85     /**
  86      * Argument for command-line option {@code -exclude}.
  87      */
  88     private List&lt;String&gt; excludes = new ArrayList&lt;&gt;();
  89 
</pre>
<hr />
<pre>
 571                 }
 572             },
 573 
 574             new ToolOption(&quot;--help-extra -X&quot;, STANDARD) {
 575                 @Override
 576                 public void process() throws OptionException {
 577                     throw new OptionException(OK, showHelper::Xusage);
 578                 }
 579             },
 580 
 581             // This option exists so that it is documented in the command-line help.
 582             // It is actually implemented by the launcher, and can only be used when
 583             // invoking javadoc from the launcher.
 584             new ToolOption(J, STANDARD, true) {
 585                 @Override
 586                 public void process() {
 587                     throw new AssertionError(&quot;the -J flag should be caught by the launcher.&quot;);
 588                 }
 589             },
 590 
<span class="line-added"> 591             // This option exists so that it is documented in the command-line help.</span>
<span class="line-added"> 592             // It is actually implemented by expanding argv early on during execution,</span>
<span class="line-added"> 593             // and can only be used when using the command-line and related interfaces</span>
<span class="line-added"> 594             // (i.e. not the javax.tools API).</span>
<span class="line-added"> 595             new ToolOption(AT, STANDARD, true) {</span>
<span class="line-added"> 596                 @Override</span>
<span class="line-added"> 597                 public void process() {</span>
<span class="line-added"> 598                     throw new AssertionError(&quot;the @ option is handled separately&quot;);</span>
<span class="line-added"> 599                 }</span>
<span class="line-added"> 600             },</span>
<span class="line-added"> 601 </span>
 602             new ToolOption(&quot;--version&quot;, STANDARD) {
 603                 @Override
 604                 public void process() throws OptionException {
 605                     throw new OptionException(OK, showHelper::version);
 606                 }
 607             },
 608 
 609             new ToolOption(&quot;--full-version&quot;, HIDDEN) {
 610                 @Override
 611                 public void process() throws OptionException {
 612                     throw new OptionException(OK, showHelper::fullVersion);
 613                 }
 614             });
 615 
 616     /**
 617      * Base class for all supported tool options.
 618      */
 619     static class ToolOption {
 620         enum Kind { STANDARD, EXTENDED, HIDDEN }
 621 
</pre>
<hr />
<pre>
 643         void process() throws OptionException, Option.InvalidValueException { }
 644 
 645         List&lt;String&gt; getNames() {
 646             return names;
 647         }
 648 
 649         String getParameters(Messager messager) {
 650             return (hasArg || primaryName.endsWith(&quot;:&quot;))
 651                     ? messager.getText(getKey(primaryName, &quot;.arg&quot;))
 652                     : null;
 653         }
 654 
 655         String getDescription(Messager messager) {
 656             return messager.getText(getKey(primaryName, &quot;.desc&quot;));
 657         }
 658 
 659         private String getKey(String optionName, String suffix) {
 660             return &quot;main.opt.&quot;
 661                     + optionName
 662                         .replaceAll(&quot;^-*&quot;, &quot;&quot;)              // remove leading &#39;-&#39;
<span class="line-added"> 663                         .replaceAll(&quot;^@&quot;, &quot;at&quot;)             // handle &#39;@&#39;</span>
 664                         .replaceAll(&quot;[^A-Za-z0-9]+$&quot;, &quot;&quot;)   // remove trailing non-alphanumeric
 665                         .replaceAll(&quot;[^A-Za-z0-9]&quot;, &quot;.&quot;)    // replace internal non-alphanumeric
 666                     + suffix;
 667         }
 668     }
 669 
 670     interface ShowHelper {
 671         /**
 672          * Show command-line help for the standard options, as requested by
 673          * the {@code --help} option and its aliases.
 674          */
 675         void usage();
 676 
 677         /**
 678          * Show command-line help for the extended options, as requested by
 679          * the {@code --help-extended} option and its aliases.
 680          */
 681         void Xusage();
 682 
 683         /**
</pre>
</td>
</tr>
</table>
<center><a href="Start.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="resources/javadoc.properties.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>