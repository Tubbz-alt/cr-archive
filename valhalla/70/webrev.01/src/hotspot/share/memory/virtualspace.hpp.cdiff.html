<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/share/memory/virtualspace.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="virtualspace.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../oops/access.hpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/memory/virtualspace.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 73,17 ***</span>
    size_t noaccess_prefix() const { return _noaccess_prefix;   }
    bool is_reserved()       const { return _base != NULL; }
    void release();
  
    // Splitting
<span class="line-modified">!   ReservedSpace first_part(size_t partition_size, size_t alignment,</span>
<span class="line-modified">!                            bool split = false, bool realloc = true);</span>
    ReservedSpace last_part (size_t partition_size, size_t alignment);
  
    // These simply call the above using the default alignment.
<span class="line-modified">!   inline ReservedSpace first_part(size_t partition_size,</span>
<span class="line-removed">-                                   bool split = false, bool realloc = true);</span>
    inline ReservedSpace last_part (size_t partition_size);
  
    // Alignment
    static size_t page_align_size_up(size_t size);
    static size_t page_align_size_down(size_t size);
<span class="line-new-header">--- 73,20 ---</span>
    size_t noaccess_prefix() const { return _noaccess_prefix;   }
    bool is_reserved()       const { return _base != NULL; }
    void release();
  
    // Splitting
<span class="line-modified">!   // This splits the space into two spaces, the first part of which will be returned.</span>
<span class="line-modified">!   // If split==true, the resulting two spaces can be released independently from each other.</span>
<span class="line-added">+   //  This may cause the original space to loose its content.</span>
<span class="line-added">+   // If split==false, the resulting space will be just a hotspot-internal representation</span>
<span class="line-added">+   //  of a sub section of the underlying mapping.</span>
<span class="line-added">+   ReservedSpace first_part(size_t partition_size, size_t alignment, bool split = false);</span>
    ReservedSpace last_part (size_t partition_size, size_t alignment);
  
    // These simply call the above using the default alignment.
<span class="line-modified">!   inline ReservedSpace first_part(size_t partition_size, bool split = false);</span>
    inline ReservedSpace last_part (size_t partition_size);
  
    // Alignment
    static size_t page_align_size_up(size_t size);
    static size_t page_align_size_down(size_t size);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 92,13 ***</span>
      return (base() &lt;= ((char*)p)) &amp;&amp; (((char*)p) &lt; (base() + size()));
    }
  };
  
  ReservedSpace
<span class="line-modified">! ReservedSpace::first_part(size_t partition_size, bool split, bool realloc)</span>
  {
<span class="line-modified">!   return first_part(partition_size, alignment(), split, realloc);</span>
  }
  
  ReservedSpace ReservedSpace::last_part(size_t partition_size)
  {
    return last_part(partition_size, alignment());
<span class="line-new-header">--- 95,13 ---</span>
      return (base() &lt;= ((char*)p)) &amp;&amp; (((char*)p) &lt; (base() + size()));
    }
  };
  
  ReservedSpace
<span class="line-modified">! ReservedSpace::first_part(size_t partition_size, bool split)</span>
  {
<span class="line-modified">!   return first_part(partition_size, alignment(), split);</span>
  }
  
  ReservedSpace ReservedSpace::last_part(size_t partition_size)
  {
    return last_part(partition_size, alignment());
</pre>
<center><a href="virtualspace.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../oops/access.hpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>