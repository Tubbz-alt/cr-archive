<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/gc/shenandoah/shenandoahAsserts.hpp</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="mode/shenandoahSATBMode.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="shenandoahClosures.hpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/gc/shenandoah/shenandoahAsserts.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 58 
 59   static void assert_correct(void* interior_loc, oop obj, const char* file, int line);
 60   static void assert_forwarded(void* interior_loc, oop obj, const char* file, int line);
 61   static void assert_not_forwarded(void* interior_loc, oop obj, const char* file, int line);
 62   static void assert_marked(void* interior_loc, oop obj, const char* file, int line);
 63   static void assert_in_cset(void* interior_loc, oop obj, const char* file, int line);
 64   static void assert_not_in_cset(void* interior_loc, oop obj, const char* file, int line);
 65   static void assert_not_in_cset_loc(void* interior_loc, const char* file, int line);
 66 
 67   static void assert_rp_isalive_not_installed(const char *file, int line);
 68   static void assert_rp_isalive_installed(const char *file, int line);
 69 
 70   static void assert_locked_or_shenandoah_safepoint(Mutex* lock, const char* file, int line);
 71 
 72   static void assert_heaplocked(const char* file, int line);
 73   static void assert_not_heaplocked(const char* file, int line);
 74   static void assert_heaplocked_or_safepoint(const char* file, int line);
 75 
 76 #ifdef ASSERT
 77 #define shenandoah_assert_in_heap(interior_loc, obj) \
<span class="line-modified"> 78                     ShenandoahAsserts::assert_in_heap(interior_loc, obj, __FILE__, __LINE__);</span>
 79 #define shenandoah_assert_in_correct_region(interior_loc, obj) \
<span class="line-modified"> 80                     ShenandoahAsserts::assert_in_correct_region(interior_loc, obj, __FILE__, __LINE__);</span>
 81 
 82 #define shenandoah_assert_correct_if(interior_loc, obj, condition) \
<span class="line-modified"> 83   if (condition)    ShenandoahAsserts::assert_correct(interior_loc, obj, __FILE__, __LINE__);</span>
 84 #define shenandoah_assert_correct_except(interior_loc, obj, exception) \
<span class="line-modified"> 85   if (!(exception)) ShenandoahAsserts::assert_correct(interior_loc, obj, __FILE__, __LINE__);</span>
 86 #define shenandoah_assert_correct(interior_loc, obj) \
<span class="line-modified"> 87                     ShenandoahAsserts::assert_correct(interior_loc, obj, __FILE__, __LINE__);</span>
 88 
 89 #define shenandoah_assert_forwarded_if(interior_loc, obj, condition) \
<span class="line-modified"> 90   if (condition)    ShenandoahAsserts::assert_forwarded(interior_loc, obj, __FILE__, __LINE__);</span>
 91 #define shenandoah_assert_forwarded_except(interior_loc, obj, exception) \
<span class="line-modified"> 92   if (!(exception)) ShenandoahAsserts::assert_forwarded(interior_loc, obj, __FILE__, __LINE__);</span>
 93 #define shenandoah_assert_forwarded(interior_loc, obj) \
<span class="line-modified"> 94                     ShenandoahAsserts::assert_forwarded(interior_loc, obj, __FILE__, __LINE__);</span>
 95 
 96 #define shenandoah_assert_not_forwarded_if(interior_loc, obj, condition) \
<span class="line-modified"> 97   if (condition)    ShenandoahAsserts::assert_not_forwarded(interior_loc, obj, __FILE__, __LINE__);</span>
 98 #define shenandoah_assert_not_forwarded_except(interior_loc, obj, exception) \
<span class="line-modified"> 99   if (!(exception)) ShenandoahAsserts::assert_not_forwarded(interior_loc, obj, __FILE__, __LINE__);</span>
100 #define shenandoah_assert_not_forwarded(interior_loc, obj) \
<span class="line-modified">101                     ShenandoahAsserts::assert_not_forwarded(interior_loc, obj, __FILE__, __LINE__);</span>
102 
103 #define shenandoah_assert_marked_if(interior_loc, obj, condition) \
<span class="line-modified">104   if (condition)    ShenandoahAsserts::assert_marked(interior_loc, obj, __FILE__, __LINE__);</span>
105 #define shenandoah_assert_marked_except(interior_loc, obj, exception) \
<span class="line-modified">106   if (!(exception)) ShenandoahAsserts::assert_marked(interior_loc, obj, __FILE__, __LINE__);</span>
107 #define shenandoah_assert_marked(interior_loc, obj) \
<span class="line-modified">108                     ShenandoahAsserts::assert_marked(interior_loc, obj, __FILE__, __LINE__);</span>
109 
110 #define shenandoah_assert_in_cset_if(interior_loc, obj, condition) \
<span class="line-modified">111   if (condition)    ShenandoahAsserts::assert_in_cset(interior_loc, obj, __FILE__, __LINE__);</span>
112 #define shenandoah_assert_in_cset_except(interior_loc, obj, exception) \
<span class="line-modified">113   if (!(exception)) ShenandoahAsserts::assert_in_cset(interior_loc, obj, __FILE__, __LINE__);</span>
114 #define shenandoah_assert_in_cset(interior_loc, obj) \
<span class="line-modified">115                     ShenandoahAsserts::assert_in_cset(interior_loc, obj, __FILE__, __LINE__);</span>
116 
117 #define shenandoah_assert_not_in_cset_if(interior_loc, obj, condition) \
<span class="line-modified">118   if (condition)    ShenandoahAsserts::assert_not_in_cset(interior_loc, obj, __FILE__, __LINE__);</span>
119 #define shenandoah_assert_not_in_cset_except(interior_loc, obj, exception) \
<span class="line-modified">120   if (!(exception)) ShenandoahAsserts::assert_not_in_cset(interior_loc, obj, __FILE__, __LINE__);</span>
121 #define shenandoah_assert_not_in_cset(interior_loc, obj) \
<span class="line-modified">122                     ShenandoahAsserts::assert_not_in_cset(interior_loc, obj, __FILE__, __LINE__);</span>
123 
124 #define shenandoah_assert_not_in_cset_loc_if(interior_loc, condition) \
<span class="line-modified">125   if (condition)    ShenandoahAsserts::assert_not_in_cset_loc(interior_loc, __FILE__, __LINE__);</span>
126 #define shenandoah_assert_not_in_cset_loc_except(interior_loc, exception) \
<span class="line-modified">127   if (!(exception)) ShenandoahAsserts::assert_not_in_cset_loc(interior_loc, __FILE__, __LINE__);</span>
128 #define shenandoah_assert_not_in_cset_loc(interior_loc) \
<span class="line-modified">129                     ShenandoahAsserts::assert_not_in_cset_loc(interior_loc, __FILE__, __LINE__);</span>
130 
131 #define shenandoah_assert_rp_isalive_installed() \
<span class="line-modified">132                     ShenandoahAsserts::assert_rp_isalive_installed(__FILE__, __LINE__);</span>
133 #define shenandoah_assert_rp_isalive_not_installed() \
<span class="line-modified">134                     ShenandoahAsserts::assert_rp_isalive_not_installed(__FILE__, __LINE__);</span>
135 
136 #define shenandoah_assert_safepoint() \
<span class="line-modified">137                     assert(ShenandoahSafepoint::is_at_shenandoah_safepoint(), &quot;Should be at Shenandoah Safepoints&quot;);</span>
138 
139 #define shenandoah_assert_locked_or_safepoint(lock) \
<span class="line-modified">140                     ShenandoahAsserts::assert_locked_or_shenandoah_safepoint(lock, __FILE__, __LINE__);</span>
141 
142 #define shenandoah_assert_heaplocked() \
143                     ShenandoahAsserts::assert_heaplocked(__FILE__, __LINE__)
144 
145 #define shenandoah_assert_not_heaplocked() \
146                     ShenandoahAsserts::assert_not_heaplocked(__FILE__, __LINE__)
147 
148 #define shenandoah_assert_heaplocked_or_safepoint() \
149                     ShenandoahAsserts::assert_heaplocked_or_safepoint(__FILE__, __LINE__)
150 #else
151 #define shenandoah_assert_in_heap(interior_loc, obj)
152 #define shenandoah_assert_in_correct_region(interior_loc, obj)
153 
154 #define shenandoah_assert_correct_if(interior_loc, obj, condition)
155 #define shenandoah_assert_correct_except(interior_loc, obj, exception)
156 #define shenandoah_assert_correct(interior_loc, obj)
157 
158 #define shenandoah_assert_forwarded_if(interior_loc, obj, condition)
159 #define shenandoah_assert_forwarded_except(interior_loc, obj, exception)
160 #define shenandoah_assert_forwarded(interior_loc, obj)
</pre>
</td>
<td>
<hr />
<pre>
 58 
 59   static void assert_correct(void* interior_loc, oop obj, const char* file, int line);
 60   static void assert_forwarded(void* interior_loc, oop obj, const char* file, int line);
 61   static void assert_not_forwarded(void* interior_loc, oop obj, const char* file, int line);
 62   static void assert_marked(void* interior_loc, oop obj, const char* file, int line);
 63   static void assert_in_cset(void* interior_loc, oop obj, const char* file, int line);
 64   static void assert_not_in_cset(void* interior_loc, oop obj, const char* file, int line);
 65   static void assert_not_in_cset_loc(void* interior_loc, const char* file, int line);
 66 
 67   static void assert_rp_isalive_not_installed(const char *file, int line);
 68   static void assert_rp_isalive_installed(const char *file, int line);
 69 
 70   static void assert_locked_or_shenandoah_safepoint(Mutex* lock, const char* file, int line);
 71 
 72   static void assert_heaplocked(const char* file, int line);
 73   static void assert_not_heaplocked(const char* file, int line);
 74   static void assert_heaplocked_or_safepoint(const char* file, int line);
 75 
 76 #ifdef ASSERT
 77 #define shenandoah_assert_in_heap(interior_loc, obj) \
<span class="line-modified"> 78                     ShenandoahAsserts::assert_in_heap(interior_loc, obj, __FILE__, __LINE__)</span>
 79 #define shenandoah_assert_in_correct_region(interior_loc, obj) \
<span class="line-modified"> 80                     ShenandoahAsserts::assert_in_correct_region(interior_loc, obj, __FILE__, __LINE__)</span>
 81 
 82 #define shenandoah_assert_correct_if(interior_loc, obj, condition) \
<span class="line-modified"> 83   if (condition)    ShenandoahAsserts::assert_correct(interior_loc, obj, __FILE__, __LINE__)</span>
 84 #define shenandoah_assert_correct_except(interior_loc, obj, exception) \
<span class="line-modified"> 85   if (!(exception)) ShenandoahAsserts::assert_correct(interior_loc, obj, __FILE__, __LINE__)</span>
 86 #define shenandoah_assert_correct(interior_loc, obj) \
<span class="line-modified"> 87                     ShenandoahAsserts::assert_correct(interior_loc, obj, __FILE__, __LINE__)</span>
 88 
 89 #define shenandoah_assert_forwarded_if(interior_loc, obj, condition) \
<span class="line-modified"> 90   if (condition)    ShenandoahAsserts::assert_forwarded(interior_loc, obj, __FILE__, __LINE__)</span>
 91 #define shenandoah_assert_forwarded_except(interior_loc, obj, exception) \
<span class="line-modified"> 92   if (!(exception)) ShenandoahAsserts::assert_forwarded(interior_loc, obj, __FILE__, __LINE__)</span>
 93 #define shenandoah_assert_forwarded(interior_loc, obj) \
<span class="line-modified"> 94                     ShenandoahAsserts::assert_forwarded(interior_loc, obj, __FILE__, __LINE__)</span>
 95 
 96 #define shenandoah_assert_not_forwarded_if(interior_loc, obj, condition) \
<span class="line-modified"> 97   if (condition)    ShenandoahAsserts::assert_not_forwarded(interior_loc, obj, __FILE__, __LINE__)</span>
 98 #define shenandoah_assert_not_forwarded_except(interior_loc, obj, exception) \
<span class="line-modified"> 99   if (!(exception)) ShenandoahAsserts::assert_not_forwarded(interior_loc, obj, __FILE__, __LINE__)</span>
100 #define shenandoah_assert_not_forwarded(interior_loc, obj) \
<span class="line-modified">101                     ShenandoahAsserts::assert_not_forwarded(interior_loc, obj, __FILE__, __LINE__)</span>
102 
103 #define shenandoah_assert_marked_if(interior_loc, obj, condition) \
<span class="line-modified">104   if (condition)    ShenandoahAsserts::assert_marked(interior_loc, obj, __FILE__, __LINE__)</span>
105 #define shenandoah_assert_marked_except(interior_loc, obj, exception) \
<span class="line-modified">106   if (!(exception)) ShenandoahAsserts::assert_marked(interior_loc, obj, __FILE__, __LINE__)</span>
107 #define shenandoah_assert_marked(interior_loc, obj) \
<span class="line-modified">108                     ShenandoahAsserts::assert_marked(interior_loc, obj, __FILE__, __LINE__)</span>
109 
110 #define shenandoah_assert_in_cset_if(interior_loc, obj, condition) \
<span class="line-modified">111   if (condition)    ShenandoahAsserts::assert_in_cset(interior_loc, obj, __FILE__, __LINE__)</span>
112 #define shenandoah_assert_in_cset_except(interior_loc, obj, exception) \
<span class="line-modified">113   if (!(exception)) ShenandoahAsserts::assert_in_cset(interior_loc, obj, __FILE__, __LINE__)</span>
114 #define shenandoah_assert_in_cset(interior_loc, obj) \
<span class="line-modified">115                     ShenandoahAsserts::assert_in_cset(interior_loc, obj, __FILE__, __LINE__)</span>
116 
117 #define shenandoah_assert_not_in_cset_if(interior_loc, obj, condition) \
<span class="line-modified">118   if (condition)    ShenandoahAsserts::assert_not_in_cset(interior_loc, obj, __FILE__, __LINE__)</span>
119 #define shenandoah_assert_not_in_cset_except(interior_loc, obj, exception) \
<span class="line-modified">120   if (!(exception)) ShenandoahAsserts::assert_not_in_cset(interior_loc, obj, __FILE__, __LINE__)</span>
121 #define shenandoah_assert_not_in_cset(interior_loc, obj) \
<span class="line-modified">122                     ShenandoahAsserts::assert_not_in_cset(interior_loc, obj, __FILE__, __LINE__)</span>
123 
124 #define shenandoah_assert_not_in_cset_loc_if(interior_loc, condition) \
<span class="line-modified">125   if (condition)    ShenandoahAsserts::assert_not_in_cset_loc(interior_loc, __FILE__, __LINE__)</span>
126 #define shenandoah_assert_not_in_cset_loc_except(interior_loc, exception) \
<span class="line-modified">127   if (!(exception)) ShenandoahAsserts::assert_not_in_cset_loc(interior_loc, __FILE__, __LINE__)</span>
128 #define shenandoah_assert_not_in_cset_loc(interior_loc) \
<span class="line-modified">129                     ShenandoahAsserts::assert_not_in_cset_loc(interior_loc, __FILE__, __LINE__)</span>
130 
131 #define shenandoah_assert_rp_isalive_installed() \
<span class="line-modified">132                     ShenandoahAsserts::assert_rp_isalive_installed(__FILE__, __LINE__)</span>
133 #define shenandoah_assert_rp_isalive_not_installed() \
<span class="line-modified">134                     ShenandoahAsserts::assert_rp_isalive_not_installed(__FILE__, __LINE__)</span>
135 
136 #define shenandoah_assert_safepoint() \
<span class="line-modified">137                     assert(ShenandoahSafepoint::is_at_shenandoah_safepoint(), &quot;Should be at Shenandoah Safepoints&quot;)</span>
138 
139 #define shenandoah_assert_locked_or_safepoint(lock) \
<span class="line-modified">140                     ShenandoahAsserts::assert_locked_or_shenandoah_safepoint(lock, __FILE__, __LINE__)</span>
141 
142 #define shenandoah_assert_heaplocked() \
143                     ShenandoahAsserts::assert_heaplocked(__FILE__, __LINE__)
144 
145 #define shenandoah_assert_not_heaplocked() \
146                     ShenandoahAsserts::assert_not_heaplocked(__FILE__, __LINE__)
147 
148 #define shenandoah_assert_heaplocked_or_safepoint() \
149                     ShenandoahAsserts::assert_heaplocked_or_safepoint(__FILE__, __LINE__)
150 #else
151 #define shenandoah_assert_in_heap(interior_loc, obj)
152 #define shenandoah_assert_in_correct_region(interior_loc, obj)
153 
154 #define shenandoah_assert_correct_if(interior_loc, obj, condition)
155 #define shenandoah_assert_correct_except(interior_loc, obj, exception)
156 #define shenandoah_assert_correct(interior_loc, obj)
157 
158 #define shenandoah_assert_forwarded_if(interior_loc, obj, condition)
159 #define shenandoah_assert_forwarded_except(interior_loc, obj, exception)
160 #define shenandoah_assert_forwarded(interior_loc, obj)
</pre>
</td>
</tr>
</table>
<center><a href="mode/shenandoahSATBMode.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="shenandoahClosures.hpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>