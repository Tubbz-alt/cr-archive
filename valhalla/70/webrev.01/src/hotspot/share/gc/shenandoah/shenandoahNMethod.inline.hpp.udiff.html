<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/hotspot/share/gc/shenandoah/shenandoahNMethod.inline.hpp</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="shenandoahNMethod.hpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="shenandoahPhaseTimings.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/gc/shenandoah/shenandoahNMethod.inline.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -52,10 +52,33 @@</span>
  
  bool ShenandoahNMethod::is_unregistered() const {
    return _unregistered;
  }
  
<span class="udiff-line-added">+ void ShenandoahNMethod::oops_do(OopClosure* oops, bool fix_relocations) {</span>
<span class="udiff-line-added">+   for (int c = 0; c &lt; _oops_count; c ++) {</span>
<span class="udiff-line-added">+     oops-&gt;do_oop(_oops[c]);</span>
<span class="udiff-line-added">+   }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+   oop* const begin = _nm-&gt;oops_begin();</span>
<span class="udiff-line-added">+   oop* const end = _nm-&gt;oops_end();</span>
<span class="udiff-line-added">+   for (oop* p = begin; p &lt; end; p++) {</span>
<span class="udiff-line-added">+     if (*p != Universe::non_oop_word()) {</span>
<span class="udiff-line-added">+       oops-&gt;do_oop(p);</span>
<span class="udiff-line-added">+     }</span>
<span class="udiff-line-added">+   }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+   if (fix_relocations &amp;&amp; _has_non_immed_oops) {</span>
<span class="udiff-line-added">+     _nm-&gt;fix_oop_relocations();</span>
<span class="udiff-line-added">+   }</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ void ShenandoahNMethod::heal_nmethod_metadata(ShenandoahNMethod* nmethod_data) {</span>
<span class="udiff-line-added">+   ShenandoahEvacuateUpdateRootsClosure&lt;&gt; cl;</span>
<span class="udiff-line-added">+   nmethod_data-&gt;oops_do(&amp;cl, true /*fix relocation*/);</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
  void ShenandoahNMethod::disarm_nmethod(nmethod* nm) {
    if (!ShenandoahConcurrentRoots::can_do_concurrent_class_unloading()) {
      return;
    }
  
</pre>
<center><a href="shenandoahNMethod.hpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="shenandoahPhaseTimings.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>