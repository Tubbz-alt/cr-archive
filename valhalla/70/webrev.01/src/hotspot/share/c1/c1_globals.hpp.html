<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New src/hotspot/share/c1/c1_globals.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  *
 23  */
 24 
 25 #ifndef SHARE_C1_C1_GLOBALS_HPP
 26 #define SHARE_C1_C1_GLOBALS_HPP
 27 
 28 #include &quot;runtime/globals_shared.hpp&quot;
 29 #include &quot;utilities/macros.hpp&quot;
 30 
 31 #include CPU_HEADER(c1_globals)
 32 #include OS_HEADER(c1_globals)
 33 
 34 //
 35 // Defines all global flags used by the client compiler.
 36 //
 37 #define C1_FLAGS(develop, \
 38                  develop_pd, \
 39                  product, \
 40                  product_pd, \
 41                  diagnostic, \
 42                  diagnostic_pd, \
 43                  notproduct, \
 44                  range, \
 45                  constraint) \
 46                                                                             \
 47   /* Printing */                                                            \
 48   notproduct(bool, PrintC1Statistics, false,                                \
 49           &quot;Print Compiler1 statistics&quot; )                                    \
 50                                                                             \
 51   notproduct(bool, PrintInitialBlockList, false,                            \
 52           &quot;Print block list of BlockListBuilder&quot;)                           \
 53                                                                             \
 54   notproduct(bool, PrintCFG, false,                                         \
 55           &quot;Print control flow graph after each change&quot;)                     \
 56                                                                             \
 57   notproduct(bool, PrintCFG0, false,                                        \
 58           &quot;Print control flow graph after construction&quot;)                    \
 59                                                                             \
 60   notproduct(bool, PrintCFG1, false,                                        \
 61           &quot;Print control flow graph after optimizations&quot;)                   \
 62                                                                             \
 63   notproduct(bool, PrintCFG2, false,                                        \
 64           &quot;Print control flow graph before code generation&quot;)                \
 65                                                                             \
 66   notproduct(bool, PrintIRDuringConstruction, false,                        \
 67           &quot;Print IR as it&#39;s being constructed (helpful for debugging frontend)&quot;)\
 68                                                                             \
 69   notproduct(bool, PrintPhiFunctions, false,                                \
 70           &quot;Print phi functions when they are created and simplified&quot;)       \
 71                                                                             \
 72   notproduct(bool, PrintIR, false,                                          \
 73           &quot;Print full intermediate representation after each change&quot;)       \
 74                                                                             \
 75   notproduct(bool, PrintIR0, false,                                         \
 76           &quot;Print full intermediate representation after construction&quot;)      \
 77                                                                             \
 78   notproduct(bool, PrintIR1, false,                                         \
 79           &quot;Print full intermediate representation after optimizations&quot;)     \
 80                                                                             \
 81   notproduct(bool, PrintIR2, false,                                         \
 82           &quot;Print full intermediate representation before code generation&quot;)  \
 83                                                                             \
 84   notproduct(bool, PrintSimpleStubs, false,                                 \
 85           &quot;Print SimpleStubs&quot;)                                              \
 86                                                                             \
 87   /* C1 optimizations */                                                    \
 88                                                                             \
 89   develop(bool, UseC1Optimizations, true,                                   \
 90           &quot;Turn on C1 optimizations&quot;)                                       \
 91                                                                             \
 92   develop(bool, SelectivePhiFunctions, true,                                \
 93           &quot;create phi functions at loop headers only when necessary&quot;)       \
 94                                                                             \
 95   develop(bool, OptimizeIfOps, true,                                        \
 96           &quot;Optimize multiple IfOps&quot;)                                        \
 97                                                                             \
 98   develop(bool, DoCEE, true,                                                \
 99           &quot;Do Conditional Expression Elimination to simplify CFG&quot;)          \
100                                                                             \
101   develop(bool, PrintCEE, false,                                            \
102           &quot;Print Conditional Expression Elimination&quot;)                       \
103                                                                             \
104   develop(bool, UseLocalValueNumbering, true,                               \
105           &quot;Use Local Value Numbering (embedded in GraphBuilder)&quot;)           \
106                                                                             \
107   develop(bool, UseGlobalValueNumbering, true,                              \
108           &quot;Use Global Value Numbering (separate phase)&quot;)                    \
109                                                                             \
110   product(bool, UseLoopInvariantCodeMotion, true,                           \
111           &quot;Simple loop invariant code motion for short loops during GVN&quot;)   \
112                                                                             \
113   develop(bool, TracePredicateFailedTraps, false,                           \
114           &quot;trace runtime traps caused by predicate failure&quot;)                \
115                                                                             \
116   develop(bool, StressLoopInvariantCodeMotion, false,                       \
117           &quot;stress loop invariant code motion&quot;)                              \
118                                                                             \
119   develop(bool, TraceRangeCheckElimination, false,                          \
120           &quot;Trace Range Check Elimination&quot;)                                  \
121                                                                             \
122   develop(bool, AssertRangeCheckElimination, false,                         \
123           &quot;Assert Range Check Elimination&quot;)                                 \
124                                                                             \
125   develop(bool, StressRangeCheckElimination, false,                         \
126           &quot;stress Range Check Elimination&quot;)                                 \
127                                                                             \
128   develop(bool, PrintValueNumbering, false,                                 \
129           &quot;Print Value Numbering&quot;)                                          \
130                                                                             \
131   product(intx, ValueMapInitialSize, 11,                                    \
132           &quot;Initial size of a value map&quot;)                                    \
133           range(1, NOT_LP64(1*K) LP64_ONLY(32*K))                           \
134                                                                             \
135   product(intx, ValueMapMaxLoopSize, 8,                                     \
136           &quot;maximum size of a loop optimized by global value numbering&quot;)     \
137           range(0, 128)                                                     \
138                                                                             \
139   develop(bool, EliminateBlocks, true,                                      \
140           &quot;Eliminate unneccessary basic blocks&quot;)                            \
141                                                                             \
142   develop(bool, PrintBlockElimination, false,                               \
143           &quot;Print basic block elimination&quot;)                                  \
144                                                                             \
145   develop(bool, EliminateNullChecks, true,                                  \
146           &quot;Eliminate unneccessary null checks&quot;)                             \
147                                                                             \
148   develop(bool, PrintNullCheckElimination, false,                           \
149           &quot;Print null check elimination&quot;)                                   \
150                                                                             \
151   develop(bool, EliminateFieldAccess, true,                                 \
152           &quot;Optimize field loads and stores&quot;)                                \
153                                                                             \
154   develop(bool, InlineMethodsWithExceptionHandlers, true,                   \
155           &quot;Inline methods containing exception handlers &quot;                   \
156           &quot;(NOTE: does not work with current backend)&quot;)                     \
157                                                                             \
158   product(bool, InlineSynchronizedMethods, true,                            \
159           &quot;Inline synchronized methods&quot;)                                    \
160                                                                             \
161   diagnostic(bool, InlineNIOCheckIndex, true,                               \
162           &quot;Intrinsify java.nio.Buffer.checkIndex&quot;)                          \
163                                                                             \
164   develop(bool, CanonicalizeNodes, true,                                    \
165           &quot;Canonicalize graph nodes&quot;)                                       \
166                                                                             \
167   develop(bool, PrintCanonicalization, false,                               \
168           &quot;Print graph node canonicalization&quot;)                              \
169                                                                             \
170   develop(bool, UseTableRanges, true,                                       \
171           &quot;Faster versions of lookup table using ranges&quot;)                   \
172                                                                             \
173   product(intx, C1MaxInlineSize, 35,                                        \
174           &quot;The maximum bytecode size of a method to be inlined by C1&quot;)      \
175           range(0, max_jint)                                                \
176                                                                             \
177   product(intx, C1MaxTrivialSize, 6,                                        \
178           &quot;The maximum bytecode size of a trivial method to be inlined by &quot; \
179           &quot;C1&quot;)                                                             \
180           range(0, max_jint)                                                \
181                                                                             \
182   product(intx, C1MaxInlineLevel, 9,                                        \
183           &quot;The maximum number of nested calls that are inlined by C1&quot;)      \
184           range(0, max_jint)                                                \
185                                                                             \
186   product(intx, C1MaxRecursiveInlineLevel, 1,                               \
187           &quot;maximum number of nested recursive calls that are inlined by C1&quot;)\
188           range(0, max_jint)                                                \
189                                                                             \
190   product(intx, C1InlineStackLimit, 10,                                     \
191           &quot;inlining only allowed for methods which don&#39;t exceed this &quot;      \
192           &quot;number of expression stack and local slots&quot;)                     \
193           range(0, max_jint)                                                \
194                                                                             \
195   develop(intx, NestedInliningSizeRatio, 90,                                \
196           &quot;Percentage of prev. allowed inline size in recursive inlining&quot;)  \
197           range(0, 100)                                                     \
198                                                                             \
199   notproduct(bool, PrintIRWithLIR, false,                                   \
200           &quot;Print IR instructions with generated LIR&quot;)                       \
201                                                                             \
202   notproduct(bool, PrintLIRWithAssembly, false,                             \
203           &quot;Show LIR instruction with generated assembly&quot;)                   \
204                                                                             \
205   develop(bool, CommentedAssembly, trueInDebug,                             \
206           &quot;Show extra info in PrintNMethods output&quot;)                        \
207                                                                             \
208   develop(bool, LIRTracePeephole, false,                                    \
209           &quot;Trace peephole optimizer&quot;)                                       \
210                                                                             \
211   develop(bool, LIRTraceExecution, false,                                   \
212           &quot;add LIR code which logs the execution of blocks&quot;)                \
213                                                                             \
214   product_pd(bool, LIRFillDelaySlots,                                       \
215              &quot;fill delays on on SPARC with LIR&quot;)                            \
216                                                                             \
217   develop_pd(bool, CSEArrayLength,                                          \
218           &quot;Create separate nodes for length in array accesses&quot;)             \
219                                                                             \
220   develop_pd(bool, TwoOperandLIRForm,                                       \
221           &quot;true if LIR requires src1 and dst to match in binary LIR ops&quot;)   \
222                                                                             \
223   develop(intx, TraceLinearScanLevel, 0,                                    \
224           &quot;Debug levels for the linear scan allocator&quot;)                     \
225           range(0, 4)                                                       \
226                                                                             \
227   develop(bool, StressLinearScan, false,                                    \
228           &quot;scramble block order used by LinearScan (stress test)&quot;)          \
229                                                                             \
230   product(bool, TimeLinearScan, false,                                      \
231           &quot;detailed timing of LinearScan phases&quot;)                           \
232                                                                             \
233   develop(bool, TimeEachLinearScan, false,                                  \
234           &quot;print detailed timing of each LinearScan run&quot;)                   \
235                                                                             \
236   develop(bool, CountLinearScan, false,                                     \
237           &quot;collect statistic counters during LinearScan&quot;)                   \
238                                                                             \
239   /* C1 variable */                                                         \
240                                                                             \
241   develop(bool, C1Breakpoint, false,                                        \
242           &quot;Sets a breakpoint at entry of each compiled method&quot;)             \
243                                                                             \
244   develop(bool, ImplicitDiv0Checks, true,                                   \
245           &quot;Use implicit division by zero checks&quot;)                           \
246                                                                             \
247   develop(bool, PinAllInstructions, false,                                  \
248           &quot;All instructions are pinned&quot;)                                    \
249                                                                             \
250   develop(bool, UseFastNewInstance, true,                                   \
251           &quot;Use fast inlined instance allocation&quot;)                           \
252                                                                             \
253   develop(bool, UseFastNewTypeArray, true,                                  \
254           &quot;Use fast inlined type array allocation&quot;)                         \
255                                                                             \
256   develop(bool, UseFastNewObjectArray, true,                                \
257           &quot;Use fast inlined object array allocation&quot;)                       \
258                                                                             \
259   develop(bool, UseFastLocking, true,                                       \
260           &quot;Use fast inlined locking code&quot;)                                  \
261                                                                             \
262   develop(bool, UseSlowPath, false,                                         \
263           &quot;For debugging: test slow cases by always using them&quot;)            \
264                                                                             \
265   develop(bool, GenerateArrayStoreCheck, true,                              \
266           &quot;Generates code for array store checks&quot;)                          \
267                                                                             \
268   develop(bool, DeoptC1, true,                                              \
269           &quot;Use deoptimization in C1&quot;)                                       \
270                                                                             \
271   develop(bool, PrintBailouts, false,                                       \
272           &quot;Print bailout and its reason&quot;)                                   \
273                                                                             \
274   develop(bool, TracePatching, false,                                       \
275          &quot;Trace patching of field access on uninitialized classes&quot;)         \
276                                                                             \
277   develop(bool, PatchALot, false,                                           \
278           &quot;Marks all fields as having unloaded classes&quot;)                    \
279                                                                             \
280   develop(bool, PrintNotLoaded, false,                                      \
281           &quot;Prints where classes are not loaded during code generation&quot;)     \
282                                                                             \
283   develop(bool, PrintLIR, false,                                            \
284           &quot;print low-level IR&quot;)                                             \
285                                                                             \
286   develop(bool, BailoutAfterHIR, false,                                     \
287           &quot;bailout of compilation after building of HIR&quot;)                   \
288                                                                             \
289   develop(bool, BailoutAfterLIR, false,                                     \
290           &quot;bailout of compilation after building of LIR&quot;)                   \
291                                                                             \
292   develop(bool, BailoutOnExceptionHandlers, false,                          \
293           &quot;bailout of compilation for methods with exception handlers&quot;)     \
294                                                                             \
295   develop(bool, InstallMethods, true,                                       \
296           &quot;Install methods at the end of successful compilations&quot;)          \
297                                                                             \
298   develop(intx, NMethodSizeLimit, (64*K)*wordSize,                          \
299           &quot;Maximum size of a compiled method.&quot;)                             \
300           range(0, max_jint)                                                \
301                                                                             \
302   develop(bool, TraceFPUStack, false,                                       \
303           &quot;Trace emulation of the FPU stack (intel only)&quot;)                  \
304                                                                             \
305   develop(bool, TraceFPURegisterUsage, false,                               \
306           &quot;Trace usage of FPU registers at start of blocks (intel only)&quot;)   \
307                                                                             \
308   develop(bool, OptimizeUnsafes, true,                                      \
309           &quot;Optimize raw unsafe ops&quot;)                                        \
310                                                                             \
311   develop(bool, PrintUnsafeOptimization, false,                             \
312           &quot;Print optimization of raw unsafe ops&quot;)                           \
313                                                                             \
314   develop(intx, InstructionCountCutoff, 37000,                              \
315           &quot;If GraphBuilder adds this many instructions, bails out&quot;)         \
316           range(0, max_jint)                                                \
317                                                                             \
318   develop(bool, ComputeExactFPURegisterUsage, true,                         \
319           &quot;Compute additional live set for fpu registers to simplify fpu stack merge (Intel only)&quot;) \
320                                                                             \
321   product(bool, C1ProfileCalls, true,                                       \
322           &quot;Profile calls when generating code for updating MDOs&quot;)           \
323                                                                             \
324   product(bool, C1ProfileVirtualCalls, true,                                \
325           &quot;Profile virtual calls when generating code for updating MDOs&quot;)   \
326                                                                             \
327   product(bool, C1ProfileInlinedCalls, true,                                \
328           &quot;Profile inlined calls when generating code for updating MDOs&quot;)   \
329                                                                             \
330   product(bool, C1ProfileBranches, true,                                    \
331           &quot;Profile branches when generating code for updating MDOs&quot;)        \
332                                                                             \
333   product(bool, C1ProfileCheckcasts, true,                                  \
334           &quot;Profile checkcasts when generating code for updating MDOs&quot;)      \
335                                                                             \
336   product(bool, C1OptimizeVirtualCallProfiling, true,                       \
337           &quot;Use CHA and exact type results at call sites when updating MDOs&quot;)\
338                                                                             \
339   product(bool, C1UpdateMethodData, trueInTiered,                           \
340           &quot;Update MethodData*s in Tier1-generated code&quot;)                    \
341                                                                             \
342   develop(bool, PrintCFGToFile, false,                                      \
343           &quot;print control flow graph to a separate file during compilation&quot;) \
344                                                                             \
345 
346 #endif // SHARE_C1_C1_GLOBALS_HPP
    </pre>
  </body>
</html>