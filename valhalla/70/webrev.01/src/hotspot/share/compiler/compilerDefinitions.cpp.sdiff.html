<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/compiler/compilerDefinitions.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="compileBroker.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="compilerEvent.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/compiler/compilerDefinitions.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
261       FLAG_SET_ERGO(Tier40CompileThreshold, scaled_compile_threshold(Tier40CompileThreshold));
262       FLAG_SET_ERGO(Tier40BackEdgeThreshold, scaled_compile_threshold(Tier40BackEdgeThreshold));
263     }
264 
265 #if INCLUDE_AOT
266     if (UseAOT) {
267       FLAG_SET_ERGO(Tier3AOTInvocationThreshold, scaled_compile_threshold(Tier3AOTInvocationThreshold));
268       FLAG_SET_ERGO(Tier3AOTMinInvocationThreshold, scaled_compile_threshold(Tier3AOTMinInvocationThreshold));
269       FLAG_SET_ERGO(Tier3AOTCompileThreshold, scaled_compile_threshold(Tier3AOTCompileThreshold));
270       FLAG_SET_ERGO(Tier3AOTBackEdgeThreshold, scaled_compile_threshold(Tier3AOTBackEdgeThreshold));
271 
272       if (CompilationModeFlag::disable_intermediate()) {
273         FLAG_SET_ERGO(Tier0AOTInvocationThreshold, scaled_compile_threshold(Tier0AOTInvocationThreshold));
274         FLAG_SET_ERGO(Tier0AOTMinInvocationThreshold, scaled_compile_threshold(Tier0AOTMinInvocationThreshold));
275         FLAG_SET_ERGO(Tier0AOTCompileThreshold, scaled_compile_threshold(Tier0AOTCompileThreshold));
276         FLAG_SET_ERGO(Tier0AOTBackEdgeThreshold, scaled_compile_threshold(Tier0AOTBackEdgeThreshold));
277       }
278     }
279 #endif // INCLUDE_AOT
280   }







281 }
282 
283 #endif // TIERED
284 
285 #if INCLUDE_JVMCI
286 void set_jvmci_specific_flags() {
287   if (UseJVMCICompiler) {
288     Compilation_mode = CompMode_server;
289 
290     if (FLAG_IS_DEFAULT(TypeProfileWidth)) {
291       FLAG_SET_DEFAULT(TypeProfileWidth, 8);
292     }
293     if (FLAG_IS_DEFAULT(TypeProfileLevel)) {
294       FLAG_SET_DEFAULT(TypeProfileLevel, 0);
295     }
296 
297     if (UseJVMCINativeLibrary) {
298       // SVM compiled code requires more stack space
299       if (FLAG_IS_DEFAULT(CompilerThreadStackSize)) {
300         // Duplicate logic in the implementations of os::create_thread
</pre>
</td>
<td>
<hr />
<pre>
261       FLAG_SET_ERGO(Tier40CompileThreshold, scaled_compile_threshold(Tier40CompileThreshold));
262       FLAG_SET_ERGO(Tier40BackEdgeThreshold, scaled_compile_threshold(Tier40BackEdgeThreshold));
263     }
264 
265 #if INCLUDE_AOT
266     if (UseAOT) {
267       FLAG_SET_ERGO(Tier3AOTInvocationThreshold, scaled_compile_threshold(Tier3AOTInvocationThreshold));
268       FLAG_SET_ERGO(Tier3AOTMinInvocationThreshold, scaled_compile_threshold(Tier3AOTMinInvocationThreshold));
269       FLAG_SET_ERGO(Tier3AOTCompileThreshold, scaled_compile_threshold(Tier3AOTCompileThreshold));
270       FLAG_SET_ERGO(Tier3AOTBackEdgeThreshold, scaled_compile_threshold(Tier3AOTBackEdgeThreshold));
271 
272       if (CompilationModeFlag::disable_intermediate()) {
273         FLAG_SET_ERGO(Tier0AOTInvocationThreshold, scaled_compile_threshold(Tier0AOTInvocationThreshold));
274         FLAG_SET_ERGO(Tier0AOTMinInvocationThreshold, scaled_compile_threshold(Tier0AOTMinInvocationThreshold));
275         FLAG_SET_ERGO(Tier0AOTCompileThreshold, scaled_compile_threshold(Tier0AOTCompileThreshold));
276         FLAG_SET_ERGO(Tier0AOTBackEdgeThreshold, scaled_compile_threshold(Tier0AOTBackEdgeThreshold));
277       }
278     }
279 #endif // INCLUDE_AOT
280   }
<span class="line-added">281 </span>
<span class="line-added">282   // Reduce stack usage due to inlining of methods which require much stack.</span>
<span class="line-added">283   // (High tier compiler can inline better based on profiling information.)</span>
<span class="line-added">284   if (FLAG_IS_DEFAULT(C1InlineStackLimit) &amp;&amp;</span>
<span class="line-added">285       TieredStopAtLevel == CompLevel_full_optimization &amp;&amp; !CompilationModeFlag::quick_only()) {</span>
<span class="line-added">286     FLAG_SET_DEFAULT(C1InlineStackLimit, 5);</span>
<span class="line-added">287   }</span>
288 }
289 
290 #endif // TIERED
291 
292 #if INCLUDE_JVMCI
293 void set_jvmci_specific_flags() {
294   if (UseJVMCICompiler) {
295     Compilation_mode = CompMode_server;
296 
297     if (FLAG_IS_DEFAULT(TypeProfileWidth)) {
298       FLAG_SET_DEFAULT(TypeProfileWidth, 8);
299     }
300     if (FLAG_IS_DEFAULT(TypeProfileLevel)) {
301       FLAG_SET_DEFAULT(TypeProfileLevel, 0);
302     }
303 
304     if (UseJVMCINativeLibrary) {
305       // SVM compiled code requires more stack space
306       if (FLAG_IS_DEFAULT(CompilerThreadStackSize)) {
307         // Duplicate logic in the implementations of os::create_thread
</pre>
</td>
</tr>
</table>
<center><a href="compileBroker.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="compilerEvent.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>