<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/hotspot/cpu/x86/methodHandles_x86.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="macroAssembler_x86.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="stubGenerator_x86_32.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/cpu/x86/methodHandles_x86.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -509,11 +509,21 @@</span>
      tty-&gt;print_cr(&quot;Registers:&quot;);
      const int saved_regs_count = RegisterImpl::number_of_registers;
      for (int i = 0; i &lt; saved_regs_count; i++) {
        Register r = as_Register(i);
        // The registers are stored in reverse order on the stack (by pusha).
<span class="udiff-line-added">+ #ifdef AMD64</span>
<span class="udiff-line-added">+       assert(RegisterImpl::number_of_registers == 16, &quot;sanity&quot;);</span>
<span class="udiff-line-added">+       if (r == rsp) {</span>
<span class="udiff-line-added">+         // rsp is actually not stored by pusha(), compute the old rsp from saved_regs (rsp after pusha): saved_regs + 16 = old rsp</span>
<span class="udiff-line-added">+         tty-&gt;print(&quot;%3s=&quot; PTR_FORMAT, r-&gt;name(), (intptr_t)(&amp;saved_regs[16]));</span>
<span class="udiff-line-added">+       } else {</span>
<span class="udiff-line-added">+         tty-&gt;print(&quot;%3s=&quot; PTR_FORMAT, r-&gt;name(), saved_regs[((saved_regs_count - 1) - i)]);</span>
<span class="udiff-line-added">+       }</span>
<span class="udiff-line-added">+ #else</span>
        tty-&gt;print(&quot;%3s=&quot; PTR_FORMAT, r-&gt;name(), saved_regs[((saved_regs_count - 1) - i)]);
<span class="udiff-line-added">+ #endif</span>
        if ((i + 1) % 4 == 0) {
          tty-&gt;cr();
        } else {
          tty-&gt;print(&quot;, &quot;);
        }
</pre>
<center><a href="macroAssembler_x86.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="stubGenerator_x86_32.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>