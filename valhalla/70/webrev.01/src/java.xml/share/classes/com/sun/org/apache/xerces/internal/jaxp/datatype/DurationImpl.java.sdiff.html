<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.xml/share/classes/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../xalan/internal/xsltc/trax/TemplatesImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../xpath/internal/axes/LocPathIterator.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.xml/share/classes/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 2017, 2018, Oracle and/or its affiliates. All rights reserved.</span>
   3  */
   4 /*
   5  * Licensed to the Apache Software Foundation (ASF) under one or more
   6  * contributor license agreements.  See the NOTICE file distributed with
   7  * this work for additional information regarding copyright ownership.
   8  * The ASF licenses this file to You under the Apache License, Version 2.0
   9  * (the &quot;License&quot;); you may not use this file except in compliance with
  10  * the License.  You may obtain a copy of the License at
  11  *
  12  *      http://www.apache.org/licenses/LICENSE-2.0
  13  *
  14  * Unless required by applicable law or agreed to in writing, software
  15  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
  16  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  17  * See the License for the specific language governing permissions and
  18  * limitations under the License.
  19  */
  20 
  21 package com.sun.org.apache.xerces.internal.jaxp.datatype;
  22 
</pre>
<hr />
<pre>
  81  * &lt;p&gt;Also, division of a duration by a number is not provided because
  82  * the {@link Duration} class can only deal with finite precision
  83  * decimal numbers. For example, one cannot represent 1 sec divided by 3.&lt;/p&gt;
  84  *
  85  * &lt;p&gt;However, you could substitute a division by 3 with multiplying
  86  * by numbers such as 0.3 or 0.333.&lt;/p&gt;
  87  *
  88  *
  89  *
  90  * &lt;h2&gt;Range of allowed values&lt;/h2&gt;
  91  * &lt;p&gt;
  92  * Because some operations of {@link Duration} rely on {@link Calendar}
  93  * even though {@link Duration} can hold very large or very small values,
  94  * some of the methods may not work correctly on such {@link Duration}s.
  95  * The impacted methods document their dependency on {@link Calendar}.
  96  *
  97  *
  98  * @author Kohsuke Kawaguchi
  99  * @author Joseph Fialli
 100  * @see XMLGregorianCalendar#add(Duration)
<span class="line-modified"> 101  * @LastModified: June 2018</span>
 102  */
 103 class DurationImpl
 104         extends Duration
 105         implements Serializable {
 106 
 107 
 108     /**
 109      * &lt;p&gt;Internal array of value Fields.&lt;/p&gt;
 110      */
 111     private static final DatatypeConstants.Field[] FIELDS = new DatatypeConstants.Field[]{
 112         DatatypeConstants.YEARS,
 113         DatatypeConstants.MONTHS,
 114         DatatypeConstants.DAYS,
 115         DatatypeConstants.HOURS,
 116         DatatypeConstants.MINUTES,
 117         DatatypeConstants.SECONDS
 118     };
 119 
 120 
 121     /**
</pre>
<hr />
<pre>
1840      */
1841     private static long getCalendarTimeInMillis(Calendar cal) {
1842         return cal.getTimeInMillis();
1843     }
1844 
1845     /**
1846      * &lt;p&gt;Stream Unique Identifier.&lt;/p&gt;
1847      *
1848      * &lt;p&gt;Serialization uses the lexical form returned by toString().&lt;/p&gt;
1849      */
1850     private static final long serialVersionUID = 1L;
1851 
1852     /**
1853      * Writes {@link Duration} as a lexical representation
1854      * for maximum future compatibility.
1855      *
1856      * @return
1857      *      An object that encapsulates the string
1858      *      returned by &lt;code&gt;this.toString()&lt;/code&gt;.
1859      */
<span class="line-modified">1860     private Object writeReplace() throws IOException {</span>
1861         return new DurationStream(this.toString());
1862     }
1863 
1864     /**
1865      * Representation of {@link Duration} in the object stream.
1866      *
1867      * @author Kohsuke Kawaguchi
1868      */
1869     private static class DurationStream implements Serializable {
1870         private final String lexical;
1871 
1872         private DurationStream(String _lexical) {
1873             this.lexical = _lexical;
1874         }
1875 
1876         private Object readResolve() throws ObjectStreamException {
1877             return new DurationImpl(lexical);
1878         }
1879 
1880         private static final long serialVersionUID = 1L;
</pre>
</td>
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 2017, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   3  */
   4 /*
   5  * Licensed to the Apache Software Foundation (ASF) under one or more
   6  * contributor license agreements.  See the NOTICE file distributed with
   7  * this work for additional information regarding copyright ownership.
   8  * The ASF licenses this file to You under the Apache License, Version 2.0
   9  * (the &quot;License&quot;); you may not use this file except in compliance with
  10  * the License.  You may obtain a copy of the License at
  11  *
  12  *      http://www.apache.org/licenses/LICENSE-2.0
  13  *
  14  * Unless required by applicable law or agreed to in writing, software
  15  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
  16  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  17  * See the License for the specific language governing permissions and
  18  * limitations under the License.
  19  */
  20 
  21 package com.sun.org.apache.xerces.internal.jaxp.datatype;
  22 
</pre>
<hr />
<pre>
  81  * &lt;p&gt;Also, division of a duration by a number is not provided because
  82  * the {@link Duration} class can only deal with finite precision
  83  * decimal numbers. For example, one cannot represent 1 sec divided by 3.&lt;/p&gt;
  84  *
  85  * &lt;p&gt;However, you could substitute a division by 3 with multiplying
  86  * by numbers such as 0.3 or 0.333.&lt;/p&gt;
  87  *
  88  *
  89  *
  90  * &lt;h2&gt;Range of allowed values&lt;/h2&gt;
  91  * &lt;p&gt;
  92  * Because some operations of {@link Duration} rely on {@link Calendar}
  93  * even though {@link Duration} can hold very large or very small values,
  94  * some of the methods may not work correctly on such {@link Duration}s.
  95  * The impacted methods document their dependency on {@link Calendar}.
  96  *
  97  *
  98  * @author Kohsuke Kawaguchi
  99  * @author Joseph Fialli
 100  * @see XMLGregorianCalendar#add(Duration)
<span class="line-modified"> 101  * @LastModified: May 2020</span>
 102  */
 103 class DurationImpl
 104         extends Duration
 105         implements Serializable {
 106 
 107 
 108     /**
 109      * &lt;p&gt;Internal array of value Fields.&lt;/p&gt;
 110      */
 111     private static final DatatypeConstants.Field[] FIELDS = new DatatypeConstants.Field[]{
 112         DatatypeConstants.YEARS,
 113         DatatypeConstants.MONTHS,
 114         DatatypeConstants.DAYS,
 115         DatatypeConstants.HOURS,
 116         DatatypeConstants.MINUTES,
 117         DatatypeConstants.SECONDS
 118     };
 119 
 120 
 121     /**
</pre>
<hr />
<pre>
1840      */
1841     private static long getCalendarTimeInMillis(Calendar cal) {
1842         return cal.getTimeInMillis();
1843     }
1844 
1845     /**
1846      * &lt;p&gt;Stream Unique Identifier.&lt;/p&gt;
1847      *
1848      * &lt;p&gt;Serialization uses the lexical form returned by toString().&lt;/p&gt;
1849      */
1850     private static final long serialVersionUID = 1L;
1851 
1852     /**
1853      * Writes {@link Duration} as a lexical representation
1854      * for maximum future compatibility.
1855      *
1856      * @return
1857      *      An object that encapsulates the string
1858      *      returned by &lt;code&gt;this.toString()&lt;/code&gt;.
1859      */
<span class="line-modified">1860     private Object writeReplace() {</span>
1861         return new DurationStream(this.toString());
1862     }
1863 
1864     /**
1865      * Representation of {@link Duration} in the object stream.
1866      *
1867      * @author Kohsuke Kawaguchi
1868      */
1869     private static class DurationStream implements Serializable {
1870         private final String lexical;
1871 
1872         private DurationStream(String _lexical) {
1873             this.lexical = _lexical;
1874         }
1875 
1876         private Object readResolve() throws ObjectStreamException {
1877             return new DurationImpl(lexical);
1878         }
1879 
1880         private static final long serialVersionUID = 1L;
</pre>
</td>
</tr>
</table>
<center><a href="../../../../xalan/internal/xsltc/trax/TemplatesImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../xpath/internal/axes/LocPathIterator.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>