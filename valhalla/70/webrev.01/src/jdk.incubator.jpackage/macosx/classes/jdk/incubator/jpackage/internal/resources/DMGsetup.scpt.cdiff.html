<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/jdk.incubator.jpackage/macosx/classes/jdk/incubator/jpackage/internal/resources/DMGsetup.scpt</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../MacPkgBundler.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../share/classes/jdk/incubator/jpackage/internal/OverridableResource.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.incubator.jpackage/macosx/classes/jdk/incubator/jpackage/internal/resources/DMGsetup.scpt</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 6,33 ***</span>
  
    set current view of theWindow to icon view
    set toolbar visible of theWindow to false
    set statusbar visible of theWindow to false
  
<span class="line-modified">!   -- size of window should match size of background</span>
<span class="line-modified">!   set the bounds of theWindow to {400, 100, 917, 380}</span>
  
    set theViewOptions to a reference to the icon view options of theWindow
    set arrangement of theViewOptions to not arranged
    set icon size of theViewOptions to 128
    set background picture of theViewOptions to POSIX file &quot;DEPLOY_BG_FILE&quot;
  
    -- Create alias for install location
<span class="line-modified">!   make new alias file at POSIX file &quot;DEPLOY_VOLUME_PATH&quot; to POSIX file &quot;DEPLOY_INSTALL_LOCATION&quot; with properties {name:&quot;DEPLOY_INSTALL_NAME&quot;}</span>
  
    set allTheFiles to the name of every item of theWindow
    repeat with theFile in allTheFiles
      set theFilePath to POSIX path of theFile
<span class="line-modified">!     if theFilePath is &quot;/DEPLOY_APPLICATION_NAME.app&quot; then</span>
<span class="line-removed">-       -- Position application location</span>
<span class="line-removed">-       set position of item theFile of theWindow to {120, 130}</span>
<span class="line-removed">-     else if theFilePath is &quot;DEPLOY_INSTALL_NAME&quot; then</span>
        -- Position install location
        set position of item theFile of theWindow to {390, 130}
      else
<span class="line-modified">!       -- Move all other files far enough to be not visible if user has &quot;show hidden files&quot; option set</span>
<span class="line-modified">!       set position of item theFile of theWindow to {1000, 130}</span>
      end if
    end repeat
  
    update theDisk without registering applications
    delay 5
<span class="line-new-header">--- 6,30 ---</span>
  
    set current view of theWindow to icon view
    set toolbar visible of theWindow to false
    set statusbar visible of theWindow to false
  
<span class="line-modified">!   -- size of window should fit the size of background</span>
<span class="line-modified">!   set the bounds of theWindow to {400, 100, 920, 440}</span>
  
    set theViewOptions to a reference to the icon view options of theWindow
    set arrangement of theViewOptions to not arranged
    set icon size of theViewOptions to 128
    set background picture of theViewOptions to POSIX file &quot;DEPLOY_BG_FILE&quot;
  
    -- Create alias for install location
<span class="line-modified">!   make new alias file at POSIX file &quot;DEPLOY_VOLUME_PATH&quot; to POSIX file &quot;DEPLOY_INSTALL_LOCATION&quot; with properties {name:&quot;DEPLOY_INSTALL_LOCATION&quot;}</span>
  
    set allTheFiles to the name of every item of theWindow
    repeat with theFile in allTheFiles
      set theFilePath to POSIX path of theFile
<span class="line-modified">!     if theFilePath is &quot;DEPLOY_INSTALL_LOCATION&quot; then</span>
        -- Position install location
        set position of item theFile of theWindow to {390, 130}
      else
<span class="line-modified">!       -- Position application or runtime</span>
<span class="line-modified">!       set position of item theFile of theWindow to {120, 130}</span>
      end if
    end repeat
  
    update theDisk without registering applications
    delay 5
</pre>
<center><a href="../MacPkgBundler.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../share/classes/jdk/incubator/jpackage/internal/OverridableResource.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>