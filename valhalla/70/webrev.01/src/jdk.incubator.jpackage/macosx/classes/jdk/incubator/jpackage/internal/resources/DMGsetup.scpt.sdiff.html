<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.incubator.jpackage/macosx/classes/jdk/incubator/jpackage/internal/resources/DMGsetup.scpt</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../MacPkgBundler.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../share/classes/jdk/incubator/jpackage/internal/OverridableResource.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.incubator.jpackage/macosx/classes/jdk/incubator/jpackage/internal/resources/DMGsetup.scpt</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 1 tell application &quot;Finder&quot;
 2   set theDisk to a reference to (disks whose URL = &quot;DEPLOY_VOLUME_URL&quot;)
 3   open theDisk
 4 
 5   set theWindow to a reference to (container window of disks whose URL = &quot;DEPLOY_VOLUME_URL&quot;)
 6 
 7   set current view of theWindow to icon view
 8   set toolbar visible of theWindow to false
 9   set statusbar visible of theWindow to false
10 
<span class="line-modified">11   -- size of window should match size of background</span>
<span class="line-modified">12   set the bounds of theWindow to {400, 100, 917, 380}</span>
13 
14   set theViewOptions to a reference to the icon view options of theWindow
15   set arrangement of theViewOptions to not arranged
16   set icon size of theViewOptions to 128
17   set background picture of theViewOptions to POSIX file &quot;DEPLOY_BG_FILE&quot;
18 
19   -- Create alias for install location
<span class="line-modified">20   make new alias file at POSIX file &quot;DEPLOY_VOLUME_PATH&quot; to POSIX file &quot;DEPLOY_INSTALL_LOCATION&quot; with properties {name:&quot;DEPLOY_INSTALL_NAME&quot;}</span>
21 
22   set allTheFiles to the name of every item of theWindow
23   repeat with theFile in allTheFiles
24     set theFilePath to POSIX path of theFile
<span class="line-modified">25     if theFilePath is &quot;/DEPLOY_APPLICATION_NAME.app&quot; then</span>
<span class="line-removed">26       -- Position application location</span>
<span class="line-removed">27       set position of item theFile of theWindow to {120, 130}</span>
<span class="line-removed">28     else if theFilePath is &quot;DEPLOY_INSTALL_NAME&quot; then</span>
29       -- Position install location
30       set position of item theFile of theWindow to {390, 130}
31     else
<span class="line-modified">32       -- Move all other files far enough to be not visible if user has &quot;show hidden files&quot; option set</span>
<span class="line-modified">33       set position of item theFile of theWindow to {1000, 130}</span>
34     end if
35   end repeat
36 
37   update theDisk without registering applications
38   delay 5
39   close (get window of theDisk)
40 end tell
</pre>
</td>
<td>
<hr />
<pre>
 1 tell application &quot;Finder&quot;
 2   set theDisk to a reference to (disks whose URL = &quot;DEPLOY_VOLUME_URL&quot;)
 3   open theDisk
 4 
 5   set theWindow to a reference to (container window of disks whose URL = &quot;DEPLOY_VOLUME_URL&quot;)
 6 
 7   set current view of theWindow to icon view
 8   set toolbar visible of theWindow to false
 9   set statusbar visible of theWindow to false
10 
<span class="line-modified">11   -- size of window should fit the size of background</span>
<span class="line-modified">12   set the bounds of theWindow to {400, 100, 920, 440}</span>
13 
14   set theViewOptions to a reference to the icon view options of theWindow
15   set arrangement of theViewOptions to not arranged
16   set icon size of theViewOptions to 128
17   set background picture of theViewOptions to POSIX file &quot;DEPLOY_BG_FILE&quot;
18 
19   -- Create alias for install location
<span class="line-modified">20   make new alias file at POSIX file &quot;DEPLOY_VOLUME_PATH&quot; to POSIX file &quot;DEPLOY_INSTALL_LOCATION&quot; with properties {name:&quot;DEPLOY_INSTALL_LOCATION&quot;}</span>
21 
22   set allTheFiles to the name of every item of theWindow
23   repeat with theFile in allTheFiles
24     set theFilePath to POSIX path of theFile
<span class="line-modified">25     if theFilePath is &quot;DEPLOY_INSTALL_LOCATION&quot; then</span>



26       -- Position install location
27       set position of item theFile of theWindow to {390, 130}
28     else
<span class="line-modified">29       -- Position application or runtime</span>
<span class="line-modified">30       set position of item theFile of theWindow to {120, 130}</span>
31     end if
32   end repeat
33 
34   update theDisk without registering applications
35   delay 5
36   close (get window of theDisk)
37 end tell
</pre>
</td>
</tr>
</table>
<center><a href="../MacPkgBundler.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../share/classes/jdk/incubator/jpackage/internal/OverridableResource.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>