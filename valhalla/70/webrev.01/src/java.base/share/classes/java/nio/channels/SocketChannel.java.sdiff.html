<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/nio/channels/SocketChannel.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="ServerSocketChannel.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="spi/SelectorProvider.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/nio/channels/SocketChannel.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 package java.nio.channels;
 27 
 28 import java.io.IOException;

 29 import java.net.Socket;
 30 import java.net.SocketOption;
 31 import java.net.SocketAddress;
 32 import java.nio.ByteBuffer;
 33 import java.nio.channels.spi.AbstractSelectableChannel;
 34 import java.nio.channels.spi.SelectorProvider;

 35 
 36 /**
 37  * A selectable channel for stream-oriented connecting sockets.
 38  *
 39  * &lt;p&gt; A socket channel is created by invoking one of the {@link #open open}
 40  * methods of this class.  It is not possible to create a channel for an arbitrary,
 41  * pre-existing socket. A newly-created socket channel is open but not yet
 42  * connected.  An attempt to invoke an I/O operation upon an unconnected
 43  * channel will cause a {@link NotYetConnectedException} to be thrown.  A
 44  * socket channel can be connected by invoking its {@link #connect connect}
 45  * method; once connected, a socket channel remains connected until it is
 46  * closed.  Whether or not a socket channel is connected may be determined by
 47  * invoking its {@link #isConnected isConnected} method.
 48  *
 49  * &lt;p&gt; Socket channels support &lt;i&gt;non-blocking connection:&lt;/i&gt;&amp;nbsp;A socket
 50  * channel may be created and the process of establishing the link to the
 51  * remote socket may be initiated via the {@link #connect connect} method for
 52  * later completion by the {@link #finishConnect finishConnect} method.
 53  * Whether or not a connection operation is in progress may be determined by
 54  * invoking the {@link #isConnectionPending isConnectionPending} method.
</pre>
<hr />
<pre>
133         super(provider);
134     }
135 
136     /**
137      * Opens a socket channel.
138      *
139      * &lt;p&gt; The new channel is created by invoking the {@link
140      * java.nio.channels.spi.SelectorProvider#openSocketChannel
141      * openSocketChannel} method of the system-wide default {@link
142      * java.nio.channels.spi.SelectorProvider} object.  &lt;/p&gt;
143      *
144      * @return  A new socket channel
145      *
146      * @throws  IOException
147      *          If an I/O error occurs
148      */
149     public static SocketChannel open() throws IOException {
150         return SelectorProvider.provider().openSocketChannel();
151     }
152 




























153     /**
154      * Opens a socket channel and connects it to a remote address.
155      *
156      * &lt;p&gt; This convenience method works as if by invoking the {@link #open()}
157      * method, invoking the {@link #connect(SocketAddress) connect} method upon
158      * the resulting socket channel, passing it {@code remote}, and then
159      * returning that channel.  &lt;/p&gt;
160      *
161      * @param  remote
162      *         The remote address to which the new channel is to be connected
163      *
164      * @return  A new, and connected, socket channel
165      *
166      * @throws  AsynchronousCloseException
167      *          If another thread closes this channel
168      *          while the connect operation is in progress
169      *
170      * @throws  ClosedByInterruptException
171      *          If another thread interrupts the current thread
172      *          while the connect operation is in progress, thereby
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 package java.nio.channels;
 27 
 28 import java.io.IOException;
<span class="line-added"> 29 import java.net.ProtocolFamily;</span>
 30 import java.net.Socket;
 31 import java.net.SocketOption;
 32 import java.net.SocketAddress;
 33 import java.nio.ByteBuffer;
 34 import java.nio.channels.spi.AbstractSelectableChannel;
 35 import java.nio.channels.spi.SelectorProvider;
<span class="line-added"> 36 import static java.util.Objects.requireNonNull;</span>
 37 
 38 /**
 39  * A selectable channel for stream-oriented connecting sockets.
 40  *
 41  * &lt;p&gt; A socket channel is created by invoking one of the {@link #open open}
 42  * methods of this class.  It is not possible to create a channel for an arbitrary,
 43  * pre-existing socket. A newly-created socket channel is open but not yet
 44  * connected.  An attempt to invoke an I/O operation upon an unconnected
 45  * channel will cause a {@link NotYetConnectedException} to be thrown.  A
 46  * socket channel can be connected by invoking its {@link #connect connect}
 47  * method; once connected, a socket channel remains connected until it is
 48  * closed.  Whether or not a socket channel is connected may be determined by
 49  * invoking its {@link #isConnected isConnected} method.
 50  *
 51  * &lt;p&gt; Socket channels support &lt;i&gt;non-blocking connection:&lt;/i&gt;&amp;nbsp;A socket
 52  * channel may be created and the process of establishing the link to the
 53  * remote socket may be initiated via the {@link #connect connect} method for
 54  * later completion by the {@link #finishConnect finishConnect} method.
 55  * Whether or not a connection operation is in progress may be determined by
 56  * invoking the {@link #isConnectionPending isConnectionPending} method.
</pre>
<hr />
<pre>
135         super(provider);
136     }
137 
138     /**
139      * Opens a socket channel.
140      *
141      * &lt;p&gt; The new channel is created by invoking the {@link
142      * java.nio.channels.spi.SelectorProvider#openSocketChannel
143      * openSocketChannel} method of the system-wide default {@link
144      * java.nio.channels.spi.SelectorProvider} object.  &lt;/p&gt;
145      *
146      * @return  A new socket channel
147      *
148      * @throws  IOException
149      *          If an I/O error occurs
150      */
151     public static SocketChannel open() throws IOException {
152         return SelectorProvider.provider().openSocketChannel();
153     }
154 
<span class="line-added">155     /**</span>
<span class="line-added">156      * Opens a socket channel. The {@code family} parameter specifies the</span>
<span class="line-added">157      * {@link ProtocolFamily protocol family} of the channel&#39;s socket.</span>
<span class="line-added">158      *</span>
<span class="line-added">159      * &lt;p&gt; The new channel is created by invoking the {@link</span>
<span class="line-added">160      * java.nio.channels.spi.SelectorProvider#openSocketChannel(ProtocolFamily)</span>
<span class="line-added">161      * openSocketChannel(ProtocolFamily)} method of the system-wide default.</span>
<span class="line-added">162      * {@link java.nio.channels.spi.SelectorProvider} object.&lt;/p&gt;</span>
<span class="line-added">163      *</span>
<span class="line-added">164      * @param   family</span>
<span class="line-added">165      *          The protocol family</span>
<span class="line-added">166      *</span>
<span class="line-added">167      * @return  A new socket channel</span>
<span class="line-added">168      *</span>
<span class="line-added">169      * @throws  UnsupportedOperationException</span>
<span class="line-added">170      *          If the specified protocol family is not supported. For example,</span>
<span class="line-added">171      *          suppose the parameter is specified as {@link</span>
<span class="line-added">172      *          java.net.StandardProtocolFamily#INET6 StandardProtocolFamily.INET6}</span>
<span class="line-added">173      *          but IPv6 is not enabled on the platform.</span>
<span class="line-added">174      * @throws  IOException</span>
<span class="line-added">175      *          If an I/O error occurs</span>
<span class="line-added">176      *</span>
<span class="line-added">177      * @since 15</span>
<span class="line-added">178      */</span>
<span class="line-added">179     public static SocketChannel open(ProtocolFamily family) throws IOException {</span>
<span class="line-added">180         return SelectorProvider.provider().openSocketChannel(requireNonNull(family));</span>
<span class="line-added">181     }</span>
<span class="line-added">182 </span>
183     /**
184      * Opens a socket channel and connects it to a remote address.
185      *
186      * &lt;p&gt; This convenience method works as if by invoking the {@link #open()}
187      * method, invoking the {@link #connect(SocketAddress) connect} method upon
188      * the resulting socket channel, passing it {@code remote}, and then
189      * returning that channel.  &lt;/p&gt;
190      *
191      * @param  remote
192      *         The remote address to which the new channel is to be connected
193      *
194      * @return  A new, and connected, socket channel
195      *
196      * @throws  AsynchronousCloseException
197      *          If another thread closes this channel
198      *          while the connect operation is in progress
199      *
200      * @throws  ClosedByInterruptException
201      *          If another thread interrupts the current thread
202      *          while the connect operation is in progress, thereby
</pre>
</td>
</tr>
</table>
<center><a href="ServerSocketChannel.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="spi/SelectorProvider.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>