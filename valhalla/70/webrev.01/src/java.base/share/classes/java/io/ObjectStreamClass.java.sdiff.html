<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/io/ObjectStreamClass.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../../com/sun/crypto/provider/SunJCE.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../lang/Character.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/io/ObjectStreamClass.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
1572      * superclass, or null if none found.  Access checks are disabled on the
1573      * returned constructor (if any).
1574      */
1575     private static Constructor&lt;?&gt; getSerializableConstructor(Class&lt;?&gt; cl) {
1576         return reflFactory.newConstructorForSerialization(cl);
1577     }
1578 
1579     /**
1580      * Returns the canonical constructor for the given record class, or null if
1581      * the not found ( which should never happen for correctly generated record
1582      * classes ).
1583      */
1584     @SuppressWarnings(&quot;preview&quot;)
1585     private static MethodHandle canonicalRecordCtr(Class&lt;?&gt; cls) {
1586         assert isRecord(cls) : &quot;Expected record, got: &quot; + cls;
1587         PrivilegedAction&lt;MethodHandle&gt; pa = () -&gt; {
1588             Class&lt;?&gt;[] paramTypes = Arrays.stream(cls.getRecordComponents())
1589                                           .map(RecordComponent::getType)
1590                                           .toArray(Class&lt;?&gt;[]::new);
1591             try {
<span class="line-modified">1592                 Constructor&lt;?&gt; ctr = cls.getConstructor(paramTypes);</span>
1593                 ctr.setAccessible(true);
1594                 return MethodHandles.lookup().unreflectConstructor(ctr);
1595             } catch (IllegalAccessException | NoSuchMethodException e) {
1596                 return null;
1597             }
1598         };
1599         return AccessController.doPrivileged(pa);
1600     }
1601 
1602     /**
1603      * Returns the canonical constructor, if the local class equivalent of this
1604      * stream class descriptor is a record class, otherwise null.
1605      */
1606     MethodHandle getRecordConstructor() {
1607         return canonicalCtr;
1608     }
1609 
1610     /**
1611      * Returns non-static, non-abstract method with given signature provided it
1612      * is defined by or accessible (via inheritance) by the given class, or
</pre>
</td>
<td>
<hr />
<pre>
1572      * superclass, or null if none found.  Access checks are disabled on the
1573      * returned constructor (if any).
1574      */
1575     private static Constructor&lt;?&gt; getSerializableConstructor(Class&lt;?&gt; cl) {
1576         return reflFactory.newConstructorForSerialization(cl);
1577     }
1578 
1579     /**
1580      * Returns the canonical constructor for the given record class, or null if
1581      * the not found ( which should never happen for correctly generated record
1582      * classes ).
1583      */
1584     @SuppressWarnings(&quot;preview&quot;)
1585     private static MethodHandle canonicalRecordCtr(Class&lt;?&gt; cls) {
1586         assert isRecord(cls) : &quot;Expected record, got: &quot; + cls;
1587         PrivilegedAction&lt;MethodHandle&gt; pa = () -&gt; {
1588             Class&lt;?&gt;[] paramTypes = Arrays.stream(cls.getRecordComponents())
1589                                           .map(RecordComponent::getType)
1590                                           .toArray(Class&lt;?&gt;[]::new);
1591             try {
<span class="line-modified">1592                 Constructor&lt;?&gt; ctr = cls.getDeclaredConstructor(paramTypes);</span>
1593                 ctr.setAccessible(true);
1594                 return MethodHandles.lookup().unreflectConstructor(ctr);
1595             } catch (IllegalAccessException | NoSuchMethodException e) {
1596                 return null;
1597             }
1598         };
1599         return AccessController.doPrivileged(pa);
1600     }
1601 
1602     /**
1603      * Returns the canonical constructor, if the local class equivalent of this
1604      * stream class descriptor is a record class, otherwise null.
1605      */
1606     MethodHandle getRecordConstructor() {
1607         return canonicalCtr;
1608     }
1609 
1610     /**
1611      * Returns non-static, non-abstract method with given signature provided it
1612      * is defined by or accessible (via inheritance) by the given class, or
</pre>
</td>
</tr>
</table>
<center><a href="../../com/sun/crypto/provider/SunJCE.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../lang/Character.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>