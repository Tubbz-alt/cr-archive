<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/sun/security/ssl/X509KeyManagerImpl.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="SunJSSE.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../timestamp/TSRequest.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/sun/security/ssl/X509KeyManagerImpl.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 2004, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 2004, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 41,10 ***</span>
<span class="line-new-header">--- 41,11 ---</span>
  import java.util.*;
  import java.util.concurrent.atomic.AtomicLong;
  import javax.net.ssl.*;
  import sun.security.provider.certpath.AlgorithmChecker;
  import sun.security.validator.Validator;
<span class="line-added">+ import sun.security.util.KnownOIDs;</span>
  
  /**
   * The new X509 key manager implementation. The main differences to the
   * old SunX509 key manager are:
   *  . it is based around the KeyStore.Builder API. This allows it to use
</pre>
<hr />
<pre>
<span class="line-old-header">*** 520,18 ***</span>
          // enum constant for &quot;no check&quot; (currently not used)
          NONE(Collections.&lt;String&gt;emptySet()),
  
          // enum constant for &quot;tls client&quot; check
          // valid EKU for TLS client: any, tls_client
<span class="line-modified">!         CLIENT(new HashSet&lt;String&gt;(Arrays.asList(new String[] {</span>
<span class="line-modified">!             &quot;2.5.29.37.0&quot;, &quot;1.3.6.1.5.5.7.3.2&quot; }))),</span>
  
          // enum constant for &quot;tls server&quot; check
          // valid EKU for TLS server: any, tls_server, ns_sgc, ms_sgc
<span class="line-modified">!         SERVER(new HashSet&lt;String&gt;(Arrays.asList(new String[] {</span>
<span class="line-modified">!             &quot;2.5.29.37.0&quot;, &quot;1.3.6.1.5.5.7.3.1&quot;, &quot;2.16.840.1.113730.4.1&quot;,</span>
<span class="line-modified">!             &quot;1.3.6.1.4.1.311.10.3.3&quot; })));</span>
  
          // set of valid EKU values for this type
          final Set&lt;String&gt; validEku;
  
          CheckType(Set&lt;String&gt; validEku) {
<span class="line-new-header">--- 521,23 ---</span>
          // enum constant for &quot;no check&quot; (currently not used)
          NONE(Collections.&lt;String&gt;emptySet()),
  
          // enum constant for &quot;tls client&quot; check
          // valid EKU for TLS client: any, tls_client
<span class="line-modified">!         CLIENT(new HashSet&lt;String&gt;(List.of(</span>
<span class="line-modified">!             KnownOIDs.anyExtendedKeyUsage.value(),</span>
<span class="line-added">+             KnownOIDs.clientAuth.value()</span>
<span class="line-added">+         ))),</span>
  
          // enum constant for &quot;tls server&quot; check
          // valid EKU for TLS server: any, tls_server, ns_sgc, ms_sgc
<span class="line-modified">!         SERVER(new HashSet&lt;String&gt;(List.of(</span>
<span class="line-modified">!             KnownOIDs.anyExtendedKeyUsage.value(),</span>
<span class="line-modified">!             KnownOIDs.serverAuth.value(),</span>
<span class="line-added">+             KnownOIDs.NETSCAPE_ExportApproved.value(),</span>
<span class="line-added">+             KnownOIDs.MICROSOFT_ExportApproved.value()</span>
<span class="line-added">+         )));</span>
  
          // set of valid EKU values for this type
          final Set&lt;String&gt; validEku;
  
          CheckType(Set&lt;String&gt; validEku) {
</pre>
<center><a href="SunJSSE.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../timestamp/TSRequest.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>