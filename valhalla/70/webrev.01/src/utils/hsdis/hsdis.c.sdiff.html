<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/utils/hsdis/hsdis.c</title>
    <link rel="stylesheet" href="../../../style.css" />
  </head>
<body>
<center><a href="../../jdk.net/solaris/native/libextnet/SolarisSocketOptions.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../index.html" target="_top">index</a> <a href="../../../test/hotspot/gtest/oops/test_markWord.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/utils/hsdis/hsdis.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2008, 2018, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * The Universal Permissive License (UPL), Version 1.0
  6  *
  7  * Subject to the condition set forth below, permission is hereby granted to
  8  * any person obtaining a copy of this software, associated documentation
  9  * and/or data (collectively the &quot;Software&quot;), free of charge and under any
 10  * and all copyright rights in the Software, and any and all patent rights
 11  * owned or freely licensable by each licensor hereunder covering either (i)
 12  * the unmodified Software as contributed to or provided by such licensor,
 13  * or (ii) the Larger Works (as defined below), to deal in both
 14  *
 15  * (a) the Software, and
 16  *
 17  * (b) any piece of software and/or hardware listed in the lrgrwrks.txt file
 18  * if one is included with the Software (each a &quot;Larger Work&quot; to which the
 19  * Software is contributed by such licensors),
 20  *
 21  * without restriction, including without limitation the rights to copy,
 22  * create derivative works of, display, perform, and distribute the Software
</pre>
<hr />
<pre>
551   dinfo-&gt;read_memory_func = &amp;read_zero_data_only;
552   dinfo-&gt;fprintf_func     = &amp;print_to_dev_null;
553   (*dfn)(0, dinfo);
554 
555   /* put it back */
556   dinfo-&gt;read_memory_func = read_memory_func;
557   dinfo-&gt;fprintf_func     = fprintf_func;
558 }
559 
560 static void init_disassemble_info_from_bfd(struct disassemble_info* dinfo,
561                                            void *stream,
562                                            fprintf_ftype fprintf_func,
563                                            bfd* abfd,
564                                            char* disassembler_options) {
565   init_disassemble_info(dinfo, stream, fprintf_func);
566 
567   dinfo-&gt;flavour = bfd_get_flavour(abfd);
568   dinfo-&gt;arch = bfd_get_arch(abfd);
569   dinfo-&gt;mach = bfd_get_mach(abfd);
570   dinfo-&gt;disassembler_options = disassembler_options;




571   dinfo-&gt;octets_per_byte = bfd_octets_per_byte (abfd);

572   dinfo-&gt;skip_zeroes = sizeof(void*) * 2;
573   dinfo-&gt;skip_zeroes_at_end = sizeof(void*)-1;
574   dinfo-&gt;disassembler_needs_relocs = FALSE;
575 
576   if (bfd_big_endian(abfd))
577     dinfo-&gt;display_endian = dinfo-&gt;endian = BFD_ENDIAN_BIG;
578   else if (bfd_little_endian(abfd))
579     dinfo-&gt;display_endian = dinfo-&gt;endian = BFD_ENDIAN_LITTLE;
580   else
581     dinfo-&gt;endian = native_endian();
582 
583   disassemble_init_for_target(dinfo);
584 }
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2008, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * The Universal Permissive License (UPL), Version 1.0
  6  *
  7  * Subject to the condition set forth below, permission is hereby granted to
  8  * any person obtaining a copy of this software, associated documentation
  9  * and/or data (collectively the &quot;Software&quot;), free of charge and under any
 10  * and all copyright rights in the Software, and any and all patent rights
 11  * owned or freely licensable by each licensor hereunder covering either (i)
 12  * the unmodified Software as contributed to or provided by such licensor,
 13  * or (ii) the Larger Works (as defined below), to deal in both
 14  *
 15  * (a) the Software, and
 16  *
 17  * (b) any piece of software and/or hardware listed in the lrgrwrks.txt file
 18  * if one is included with the Software (each a &quot;Larger Work&quot; to which the
 19  * Software is contributed by such licensors),
 20  *
 21  * without restriction, including without limitation the rights to copy,
 22  * create derivative works of, display, perform, and distribute the Software
</pre>
<hr />
<pre>
551   dinfo-&gt;read_memory_func = &amp;read_zero_data_only;
552   dinfo-&gt;fprintf_func     = &amp;print_to_dev_null;
553   (*dfn)(0, dinfo);
554 
555   /* put it back */
556   dinfo-&gt;read_memory_func = read_memory_func;
557   dinfo-&gt;fprintf_func     = fprintf_func;
558 }
559 
560 static void init_disassemble_info_from_bfd(struct disassemble_info* dinfo,
561                                            void *stream,
562                                            fprintf_ftype fprintf_func,
563                                            bfd* abfd,
564                                            char* disassembler_options) {
565   init_disassemble_info(dinfo, stream, fprintf_func);
566 
567   dinfo-&gt;flavour = bfd_get_flavour(abfd);
568   dinfo-&gt;arch = bfd_get_arch(abfd);
569   dinfo-&gt;mach = bfd_get_mach(abfd);
570   dinfo-&gt;disassembler_options = disassembler_options;
<span class="line-added">571 #if BFD_VERSION &gt;= 234000000</span>
<span class="line-added">572   /* bfd_octets_per_byte() has 2 args since binutils 2.34 */</span>
<span class="line-added">573   dinfo-&gt;octets_per_byte = bfd_octets_per_byte (abfd, NULL);</span>
<span class="line-added">574 #else</span>
575   dinfo-&gt;octets_per_byte = bfd_octets_per_byte (abfd);
<span class="line-added">576 #endif</span>
577   dinfo-&gt;skip_zeroes = sizeof(void*) * 2;
578   dinfo-&gt;skip_zeroes_at_end = sizeof(void*)-1;
579   dinfo-&gt;disassembler_needs_relocs = FALSE;
580 
581   if (bfd_big_endian(abfd))
582     dinfo-&gt;display_endian = dinfo-&gt;endian = BFD_ENDIAN_BIG;
583   else if (bfd_little_endian(abfd))
584     dinfo-&gt;display_endian = dinfo-&gt;endian = BFD_ENDIAN_LITTLE;
585   else
586     dinfo-&gt;endian = native_endian();
587 
588   disassemble_init_for_target(dinfo);
589 }
</pre>
</td>
</tr>
</table>
<center><a href="../../jdk.net/solaris/native/libextnet/SolarisSocketOptions.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../index.html" target="_top">index</a> <a href="../../../test/hotspot/gtest/oops/test_markWord.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>