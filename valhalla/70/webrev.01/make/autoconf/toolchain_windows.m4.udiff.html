<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff make/autoconf/toolchain_windows.m4</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="toolchain.m4.udiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="util.m4.udiff.html" target="_top">next &gt;</a></center>    <h2>make/autoconf/toolchain_windows.m4</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  #
<span class="udiff-line-modified-removed">- # Copyright (c) 2011, 2019, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+ # Copyright (c) 2011, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  #
  # This code is free software; you can redistribute it and/or modify it
  # under the terms of the GNU General Public License version 2 only, as
  # published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -23,11 +23,11 @@</span>
  # questions.
  #
  
  ################################################################################
  # The order of these defines the priority by which we try to find them.
<span class="udiff-line-modified-removed">- VALID_VS_VERSIONS=&quot;2017 2019 2013 2015 2012 2010&quot;</span>
<span class="udiff-line-modified-added">+ VALID_VS_VERSIONS=&quot;2019 2017 2013 2015 2012 2010&quot;</span>
  
  VS_DESCRIPTION_2010=&quot;Microsoft Visual Studio 2010&quot;
  VS_VERSION_INTERNAL_2010=100
  VS_MSVCR_2010=msvcr100.dll
  # We don&#39;t use msvcp on Visual Studio 2010
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -99,12 +99,12 @@</span>
  VS_VS_INSTALLDIR_2019=&quot;Microsoft Visual Studio/2019&quot;
  VS_EDITIONS_2019=&quot;BuildTools Community Professional Enterprise&quot;
  VS_SDK_INSTALLDIR_2019=
  VS_VS_PLATFORM_NAME_2019=&quot;v142&quot;
  VS_SDK_PLATFORM_NAME_2019=
<span class="udiff-line-modified-removed">- VS_SUPPORTED_2019=false</span>
<span class="udiff-line-modified-removed">- VS_TOOLSET_SUPPORTED_2019=false</span>
<span class="udiff-line-modified-added">+ VS_SUPPORTED_2019=true</span>
<span class="udiff-line-modified-added">+ VS_TOOLSET_SUPPORTED_2019=true</span>
  
  ################################################################################
  
  AC_DEFUN([TOOLCHAIN_CHECK_POSSIBLE_VISUAL_STUDIO_ROOT],
  [
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -483,14 +483,13 @@</span>
          $ECHO &quot;$WINPATH_BASH -c &#39;echo WINDOWSSDKDIR=&quot;&#39;\&quot;$WINDOWSSDKDIR \&quot; &gt;&gt; set-vs-env.sh&#39; \
              &gt;&gt; $EXTRACT_VC_ENV_BAT_FILE
        fi
  
        # Now execute the newly created bat file.
<span class="udiff-line-removed">-       # The | cat is to stop SetEnv.Cmd to mess with system colors on msys.</span>
        # Change directory so we don&#39;t need to mess with Windows paths in redirects.
        cd $VS_ENV_TMP_DIR
<span class="udiff-line-modified-removed">-       $CMD /c extract-vs-env.bat | $CAT</span>
<span class="udiff-line-modified-added">+       $CMD /c extract-vs-env.bat &gt; extract-vs-env.log 2&gt;&amp;1</span>
        cd $CONFIGURE_START_DIR
  
        if test ! -s $VS_ENV_TMP_DIR/set-vs-env.sh; then
          AC_MSG_NOTICE([Could not succesfully extract the environment variables needed for the VS setup.])
          AC_MSG_NOTICE([Try setting --with-tools-dir to the VC/bin directory within the VS installation])
</pre>
<center><a href="toolchain.m4.udiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="util.m4.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>