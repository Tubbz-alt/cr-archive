<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/autoconf/basic_tools.m4</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="basic.m4.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="basic_windows.m4.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/autoconf/basic_tools.m4</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 80   UTIL_REQUIRE_SPECIAL(GREP, [AC_PROG_GREP])
 81   UTIL_REQUIRE_SPECIAL(EGREP, [AC_PROG_EGREP])
 82   UTIL_REQUIRE_SPECIAL(FGREP, [AC_PROG_FGREP])
 83   UTIL_REQUIRE_SPECIAL(SED, [AC_PROG_SED])
 84 
 85   # Always force rm.
 86   RM=&quot;$RM -f&quot;
 87 
 88   # pwd behaves differently on various platforms and some don&#39;t support the -L flag.
 89   # Always use the bash builtin pwd to get uniform behavior.
 90   THEPWDCMD=pwd
 91 
 92   # These are not required on all platforms
 93   UTIL_PATH_PROGS(CYGPATH, cygpath)
 94   UTIL_PATH_PROGS(WSLPATH, wslpath)
 95   UTIL_PATH_PROGS(DF, df)
 96   UTIL_PATH_PROGS(CPIO, [cpio bsdcpio])
 97   UTIL_PATH_PROGS(NICE, nice)
 98 
 99   UTIL_PATH_PROGS(LSB_RELEASE, lsb_release)
<span class="line-modified">100   UTIL_PATH_PROGS(CMD, [cmd.exe /mnt/c/Windows/System32/cmd.exe])</span>
101 ])
102 
103 ###############################################################################
104 # Check if we have found a usable version of make
105 # $1: the path to a potential make binary (or empty)
106 # $2: the description on how we found this
107 AC_DEFUN([BASIC_CHECK_MAKE_VERSION],
108 [
109   MAKE_CANDIDATE=&quot;$1&quot;
110   DESCRIPTION=&quot;$2&quot;
111 
112   # On Cygwin, we require a newer version of make than on other platforms
113   if test &quot;x$OPENJDK_BUILD_OS_ENV&quot; = &quot;xwindows.cygwin&quot;; then
114     MAKE_VERSION_EXPR=&quot;-e 4\.&quot;
115     MAKE_REQUIRED_VERSION=&quot;4.0&quot;
116    else
117     MAKE_VERSION_EXPR=&quot;-e 3\.8[[12]] -e 4\.&quot;
118     MAKE_REQUIRED_VERSION=&quot;3.81&quot;
119   fi
120 
</pre>
</td>
<td>
<hr />
<pre>
 80   UTIL_REQUIRE_SPECIAL(GREP, [AC_PROG_GREP])
 81   UTIL_REQUIRE_SPECIAL(EGREP, [AC_PROG_EGREP])
 82   UTIL_REQUIRE_SPECIAL(FGREP, [AC_PROG_FGREP])
 83   UTIL_REQUIRE_SPECIAL(SED, [AC_PROG_SED])
 84 
 85   # Always force rm.
 86   RM=&quot;$RM -f&quot;
 87 
 88   # pwd behaves differently on various platforms and some don&#39;t support the -L flag.
 89   # Always use the bash builtin pwd to get uniform behavior.
 90   THEPWDCMD=pwd
 91 
 92   # These are not required on all platforms
 93   UTIL_PATH_PROGS(CYGPATH, cygpath)
 94   UTIL_PATH_PROGS(WSLPATH, wslpath)
 95   UTIL_PATH_PROGS(DF, df)
 96   UTIL_PATH_PROGS(CPIO, [cpio bsdcpio])
 97   UTIL_PATH_PROGS(NICE, nice)
 98 
 99   UTIL_PATH_PROGS(LSB_RELEASE, lsb_release)
<span class="line-modified">100   UTIL_PATH_PROGS(CMD, cmd.exe, $PATH /cygdrive/c/Windows/System32 /mnt/c/Windows/System32)</span>
101 ])
102 
103 ###############################################################################
104 # Check if we have found a usable version of make
105 # $1: the path to a potential make binary (or empty)
106 # $2: the description on how we found this
107 AC_DEFUN([BASIC_CHECK_MAKE_VERSION],
108 [
109   MAKE_CANDIDATE=&quot;$1&quot;
110   DESCRIPTION=&quot;$2&quot;
111 
112   # On Cygwin, we require a newer version of make than on other platforms
113   if test &quot;x$OPENJDK_BUILD_OS_ENV&quot; = &quot;xwindows.cygwin&quot;; then
114     MAKE_VERSION_EXPR=&quot;-e 4\.&quot;
115     MAKE_REQUIRED_VERSION=&quot;4.0&quot;
116    else
117     MAKE_VERSION_EXPR=&quot;-e 3\.8[[12]] -e 4\.&quot;
118     MAKE_REQUIRED_VERSION=&quot;3.81&quot;
119   fi
120 
</pre>
</td>
</tr>
</table>
<center><a href="basic.m4.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="basic_windows.m4.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>