<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames make/ide/visualstudio/hotspot/src/classes/build/tools/projectcreator/ProjectCreator.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /*
  2  * Copyright (c) 1999, 2016, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  *
 23  */
 24 
 25 package build.tools.projectcreator;
 26 
 27 public class ProjectCreator {
 28 
 29    public static void usage() {
 30       System.out.println(&quot;ProjectCreator options:&quot;);
 31       System.err.println(&quot;WinGammaPlatform platform-specific options:&quot;);
 32       System.err.println(&quot;  -sourceBase &lt;path to directory (workspace) &quot;
 33             + &quot;containing source files; no trailing slash&gt;&quot;);
 34       System.err.println(&quot;  -dspFileName &lt;full pathname to which .dsp file &quot;
 35             + &quot;will be written; all parent directories must &quot;
 36             + &quot;already exist&gt;&quot;);
 37       System.err.println(&quot;  -envVar &lt;environment variable to be inserted &quot;
 38             + &quot;into .dsp file, substituting for path given in &quot;
 39             + &quot;-sourceBase. Example: HotSpotWorkSpace&gt;&quot;);
 40       System.err.println(&quot;  -dllLoc &lt;path to directory in which to put &quot;
 41             + &quot;jvm.dll; no trailing slash&gt;&quot;);
 42       System.err.println(&quot;  If any of the above are specified, &quot;
 43             + &quot;they must all be.&quot;);
 44       System.err.println(&quot;  Note: if &#39;-altRelativeInclude&#39; option below is &quot;
 45             + &quot;used, then the &#39;-relativeAltSrcInclude&#39; option must be used &quot;
 46             + &quot;to specify the alternate source dir, e.g., &#39;src\\closed&#39;&quot;);
 47       System.err.println(&quot;  Additional, optional arguments, which can be &quot;
 48             + &quot;specified multiple times:&quot;);
 49       System.err.println(&quot;    -absoluteInclude &lt;string containing absolute &quot;
 50             + &quot;path to include directory&gt;&quot;);
 51       System.err.println(&quot;    -altRelativeInclude &lt;string containing &quot;
 52             + &quot;alternate include directory relative to -envVar&gt;&quot;);
 53       System.err.println(&quot;    -relativeInclude &lt;string containing include &quot;
 54             + &quot;directory relative to -envVar&gt;&quot;);
 55       System.err.println(&quot;    -define &lt;preprocessor flag to be #defined &quot;
 56             + &quot;(note: doesn&#39;t yet support &quot; + &quot;#define (flag) (value))&gt;&quot;);
 57       System.err.println(&quot;    -perFileLine &lt;file&gt; &lt;line&gt;&quot;);
 58       System.err.println(&quot;    -conditionalPerFileLine &lt;file&gt; &lt;line for &quot;
 59             + &quot;release build&gt; &lt;line for debug build&gt;&quot;);
 60       System.err.println(&quot;  (NOTE: To work around a bug in nmake, where &quot;
 61             + &quot;you can&#39;t have a &#39;#&#39; character in a quoted &quot;
 62             + &quot;string, all of the lines outputted have \&quot;#\&quot;&quot; + &quot;prepended)&quot;);
 63       System.err.println(&quot;    -startAt &lt;subdir of sourceBase&gt;&quot;);
 64       System.err.println(&quot;    -ignoreFile &lt;file which won&#39;t be able to be &quot;
 65             + &quot;found in the sourceBase because it&#39;s generated &quot; + &quot;later&gt;&quot;);
 66       System.err.println(&quot;    -additionalFile &lt;file not in database but &quot;
 67             + &quot;which should show up in .dsp file&gt;&quot;);
 68       System.err
 69             .println(&quot;    -additionalGeneratedFile &lt;environment variable of &quot;
 70                   + &quot;generated file&#39;s location&gt; &lt;relative path to &quot;
 71                   + &quot;directory containing file; no trailing slash&gt; &quot;
 72                   + &quot;&lt;name of file generated later in the build process&gt;&quot;);
 73       System.err.println(&quot;    -prelink &lt;build&gt; &lt;desc&gt; &lt;cmds&gt;:&quot;);
 74       System.err
 75             .println(&quot; Generate a set of prelink commands for the given BUILD&quot;);
 76       System.err
 77             .println(&quot; (\&quot;Debug\&quot; or \&quot;Release\&quot;). The prelink description and commands&quot;);
 78       System.err.println(&quot; are both quoted strings.&quot;);
 79       System.err.println(&quot;    Default includes: \&quot;.\&quot;&quot;);
 80       System.err
 81             .println(&quot;    Default defines: WIN32, _WINDOWS, \&quot;HOTSPOT_BUILD_USER=$(USERNAME)\&quot;&quot;);
 82    }
 83 
 84    public static void main(String[] args) {
 85       try {
 86          if (args.length &lt; 3) {
 87             usage();
 88             System.exit(1);
 89          }
 90 
 91          String platformName = args[0];
 92          Class platformClass = Class.forName(platformName);
 93          WinGammaPlatform platform = (WinGammaPlatform) platformClass
 94                .newInstance();
 95 
 96          String[] platformArgs = new String[args.length - 1];
 97          System.arraycopy(args, 1, platformArgs, 0, platformArgs.length);
 98 
 99          // Allow the platform to write platform-specific files
100          platform.createVcproj(platformArgs);
101       } catch (Exception e) {
102          e.printStackTrace();
103          System.exit(1);
104       }
105    }
106 }
<a name="1" id="anc1"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="1" type="hidden" />
</body>
</html>