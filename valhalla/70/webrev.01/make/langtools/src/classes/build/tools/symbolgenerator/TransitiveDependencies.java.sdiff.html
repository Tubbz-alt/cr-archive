<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/langtools/src/classes/build/tools/symbolgenerator/TransitiveDependencies.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="CreateSymbols.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../modules/java.base/Gensrc.gmk.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/langtools/src/classes/build/tools/symbolgenerator/TransitiveDependencies.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 91             if (!allModules.add(current))
 92                 continue;
 93 
 94             ModuleSymbol mod = (ModuleSymbol) elements.getModuleElement(current);
 95 
 96             if (mod == null) {
 97                 throw new IllegalStateException(&quot;Missing: &quot; + current);
 98             }
 99 
100              //use the internal structure to avoid unnecesarily completing the symbol using the UsesProvidesVisitor:
101             for (RequiresDirective rd : mod.requires) {
102                 if (rd.isTransitive()) {
103                     todo.offerLast(rd.getDependency().getQualifiedName().toString());
104                 }
105             }
106         }
107 
108         allModules.add(&quot;java.base&quot;);
109         allModules.add(&quot;jdk.unsupported&quot;);
110 
<span class="line-modified">111         String version =</span>
<span class="line-removed">112                 Integer.toString(Integer.parseInt(Source.DEFAULT.name), Character.MAX_RADIX);</span>
<span class="line-removed">113         version = version.toUpperCase(Locale.ROOT);</span>
<span class="line-removed">114 </span>
<span class="line-removed">115         Path targetFile = Paths.get(args[0]).resolve(version).resolve(&quot;system-modules&quot;);</span>
116 
117         Files.createDirectories(targetFile.getParent());
118 
119         try (Writer w = Files.newBufferedWriter(targetFile);
120              PrintWriter out = new PrintWriter(w)) {
121             allModules.stream()
122                       .sorted()
123                       .forEach(out::println);
124         }
125     }
126 
127 }
</pre>
</td>
<td>
<hr />
<pre>
 91             if (!allModules.add(current))
 92                 continue;
 93 
 94             ModuleSymbol mod = (ModuleSymbol) elements.getModuleElement(current);
 95 
 96             if (mod == null) {
 97                 throw new IllegalStateException(&quot;Missing: &quot; + current);
 98             }
 99 
100              //use the internal structure to avoid unnecesarily completing the symbol using the UsesProvidesVisitor:
101             for (RequiresDirective rd : mod.requires) {
102                 if (rd.isTransitive()) {
103                     todo.offerLast(rd.getDependency().getQualifiedName().toString());
104                 }
105             }
106         }
107 
108         allModules.add(&quot;java.base&quot;);
109         allModules.add(&quot;jdk.unsupported&quot;);
110 
<span class="line-modified">111         Path targetFile = Paths.get(args[0]);</span>




112 
113         Files.createDirectories(targetFile.getParent());
114 
115         try (Writer w = Files.newBufferedWriter(targetFile);
116              PrintWriter out = new PrintWriter(w)) {
117             allModules.stream()
118                       .sorted()
119                       .forEach(out::println);
120         }
121     }
122 
123 }
</pre>
</td>
</tr>
</table>
<center><a href="CreateSymbols.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../modules/java.base/Gensrc.gmk.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>