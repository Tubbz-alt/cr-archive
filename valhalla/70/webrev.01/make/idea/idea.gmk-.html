<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old make/idea/idea.gmk</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
  <body>
    <pre>
 1 include Makefile
 2 include make/MainSupport.gmk
 3 
 4 .PHONY: idea
 5 
 6 ifeq ($(SPEC),)
 7   ifneq ($(words $(SPECS)),1)
 8 	@echo &quot;Error: Multiple build specification files found. Please select one explicitly.&quot;
 9 	@exit 2
10   endif
11   idea:
12 	@cd $(topdir)
13 	@$(MAKE) $(MFLAGS) $(MAKE_LOG_FLAGS) -r -R -j 1 -f $(topdir)/make/idea/idea.gmk SPEC=$(SPECS) HAS_SPEC=true ACTUAL_TOPDIR=$(topdir) MODULES=&quot;$(MODULES)&quot; idea
14 else #with SPEC
15   include make/common/Modules.gmk
16 
17   ifeq ($(MODULES),)
18     SEL_MODULES := $(call FindAllModules)
19   else
20     SEL_MODULES := $(MODULES)
21   endif
22 
23   idea:
24 	$(ECHO) &quot;SUPPORT=$(SUPPORT_OUTPUTDIR)&quot; &gt;&gt; $(OUT)
25 	$(ECHO) &quot;MODULE_ROOTS=\&quot;$(foreach mod, $(SEL_MODULES), $(call FindModuleSrcDirs,$(mod)))\&quot;&quot; &gt;&gt; $(OUT)
26 	$(ECHO) &quot;MODULE_NAMES=\&quot;$(strip $(foreach mod, $(SEL_MODULES), $(mod)))\&quot;&quot; &gt;&gt; $(OUT)
27 	$(ECHO) &quot;SEL_MODULES=\&quot;$(SEL_MODULES)\&quot;&quot; &gt;&gt; $(OUT)
28 	$(ECHO) &quot;BOOT_JDK=\&quot;$(BOOT_JDK)\&quot;&quot; &gt;&gt; $(OUT)
29 	$(ECHO) &quot;CYGPATH=\&quot;$(CYGPATH)\&quot;&quot; &gt;&gt; $(OUT)
30 	$(ECHO) &quot;SPEC=\&quot;$(SPEC)\&quot;&quot; &gt;&gt; $(OUT)
31 	$(ECHO) &quot;JT_HOME=\&quot;$(JT_HOME)\&quot;&quot; &gt;&gt; $(OUT)
32 
33 endif
    </pre>
  </body>
</html>