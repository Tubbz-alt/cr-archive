<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff make/MainSupport.gmk</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center><a href="Main.gmk.udiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="TestImage.gmk.udiff.html" target="_top">next &gt;</a></center>    <h2>make/MainSupport.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -146,27 +146,16 @@</span>
  # $module-$suffix
  # Param 1: Name of list to add targets to
  # Param 2: Module name
  define DeclareRecipeForModuleMakefile
    $2-$$($1_TARGET_SUFFIX):
<span class="udiff-line-modified-removed">-         ifeq ($$($1_USE_WRAPPER), true)</span>
<span class="udiff-line-modified-removed">- 	  +($(CD) $(TOPDIR)/make &amp;&amp; $(MAKE) $(MAKE_ARGS) \</span>
<span class="udiff-line-modified-removed">- 	      -f ModuleWrapper.gmk -I $$(TOPDIR)/make/common/modules  \</span>
<span class="udiff-line-modified-removed">- 	      $$(addprefix -I, $$(PHASE_MAKEDIRS) \</span>
<span class="udiff-line-modified-removed">- 	          $$(addsuffix /modules/$2, $$(PHASE_MAKEDIRS)) \</span>
<span class="udiff-line-modified-removed">- 	      ) \</span>
<span class="udiff-line-removed">- 	      MODULE=$2 MAKEFILE_PREFIX=$$($1_FILE_PREFIX) $$($1_EXTRA_ARGS))</span>
<span class="udiff-line-removed">-         else</span>
<span class="udiff-line-removed">- 	  +($(CD) $$(TOPDIR)/make \</span>
<span class="udiff-line-removed">- 	  &amp;&amp; $(MAKE) $(MAKE_ARGS) \</span>
<span class="udiff-line-removed">- 	      -f modules/$2/$$($1_FILE_PREFIX).gmk -I $$(TOPDIR)/make/common/modules \</span>
<span class="udiff-line-removed">- 	      $$(addprefix -I, $$(PHASE_MAKEDIRS) \</span>
<span class="udiff-line-removed">- 	          $$(addsuffix /modules/$2, $$(PHASE_MAKEDIRS)) \</span>
<span class="udiff-line-removed">- 	      ) \</span>
<span class="udiff-line-removed">- 	      MODULE=$2 $$($1_EXTRA_ARGS) \</span>
<span class="udiff-line-removed">- 	  )</span>
<span class="udiff-line-removed">-         endif</span>
<span class="udiff-line-modified-added">+ 	+($(CD) $(TOPDIR)/make &amp;&amp; $(MAKE) $(MAKE_ARGS) \</span>
<span class="udiff-line-modified-added">+ 	    -f ModuleWrapper.gmk -I $$(TOPDIR)/make/common/modules  \</span>
<span class="udiff-line-modified-added">+ 	    $$(addprefix -I, $$(PHASE_MAKEDIRS) \</span>
<span class="udiff-line-modified-added">+ 	        $$(addsuffix /modules/$2, $$(PHASE_MAKEDIRS)) \</span>
<span class="udiff-line-modified-added">+ 	    ) \</span>
<span class="udiff-line-modified-added">+ 	    MODULE=$2 MAKEFILE_PREFIX=$$($1_FILE_PREFIX) $$($1_EXTRA_ARGS))</span>
  
  endef
  
  # Helper macro for DeclareRecipesForPhase
  # Param 1: Name of list to add targets to
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -196,11 +185,10 @@</span>
  # Param 1: Name of list to add targets to
  # Named params:
  # TARGET_SUFFIX : Suffix of target to create for recipe
  # MAKE_SUBDIR : Subdir for this build phase
  # FILE_PREFIX : File prefix for this build phase
<span class="udiff-line-removed">- # USE_WRAPPER : Set to true to use ModuleWrapper.gmk</span>
  # CHECK_MODULES : List of modules to try
  # MULTIPLE_MAKEFILES : Set to true to handle makefiles for the same module and
  #                      phase in multiple repos
  # EXTRA_ARGS : Add extra make args to each makefile call
  # Exported variables:
</pre>
<center><a href="Main.gmk.udiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="TestImage.gmk.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>