<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old make/jdk/netbeans/client_sanity/nbproject/build-impl.xml</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
  <body>
    <pre>
   1 &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
   2 &lt;!--
   3 *** GENERATED FROM project.xml - DO NOT EDIT  ***
   4 ***         EDIT ../build.xml INSTEAD         ***
   5 
   6 For the purpose of easier reading the script
   7 is divided into following sections:
   8 
   9   - initialization
  10   - compilation
  11   - jar
  12   - execution
  13   - debugging
  14   - javadoc
  15   - test compilation
  16   - test execution
  17   - test debugging
  18   - applet
  19   - cleanup
  20 
  21         --&gt;
  22 &lt;project xmlns:j2seproject1=&quot;http://www.netbeans.org/ns/j2se-project/1&quot; xmlns:j2seproject3=&quot;http://www.netbeans.org/ns/j2se-project/3&quot; xmlns:jaxrpc=&quot;http://www.netbeans.org/ns/j2se-project/jax-rpc&quot; basedir=&quot;..&quot; default=&quot;default&quot; name=&quot;SanityTests-impl&quot;&gt;
  23     &lt;fail message=&quot;Please build using Ant 1.8.0 or higher.&quot;&gt;
  24         &lt;condition&gt;
  25             &lt;not&gt;
  26                 &lt;antversion atleast=&quot;1.8.0&quot;/&gt;
  27             &lt;/not&gt;
  28         &lt;/condition&gt;
  29     &lt;/fail&gt;
  30     &lt;target depends=&quot;test,jar,javadoc&quot; description=&quot;Build and test whole project.&quot; name=&quot;default&quot;/&gt;
  31     &lt;!-- 
  32                 ======================
  33                 INITIALIZATION SECTION 
  34                 ======================
  35             --&gt;
  36     &lt;target name=&quot;-pre-init&quot;&gt;
  37         &lt;!-- Empty placeholder for easier customization. --&gt;
  38         &lt;!-- You can override this target in the ../build.xml file. --&gt;
  39     &lt;/target&gt;
  40     &lt;target depends=&quot;-pre-init&quot; name=&quot;-init-private&quot;&gt;
  41         &lt;property file=&quot;nbproject/private/config.properties&quot;/&gt;
  42         &lt;property file=&quot;nbproject/private/configs/${config}.properties&quot;/&gt;
  43         &lt;property file=&quot;nbproject/private/private.properties&quot;/&gt;
  44     &lt;/target&gt;
  45     &lt;target depends=&quot;-pre-init,-init-private&quot; name=&quot;-init-user&quot;&gt;
  46         &lt;property file=&quot;${user.properties.file}&quot;/&gt;
  47         &lt;!-- The two properties below are usually overridden --&gt;
  48         &lt;!-- by the active platform. Just a fallback. --&gt;
  49         &lt;property name=&quot;default.javac.source&quot; value=&quot;1.4&quot;/&gt;
  50         &lt;property name=&quot;default.javac.target&quot; value=&quot;1.4&quot;/&gt;
  51     &lt;/target&gt;
  52     &lt;target depends=&quot;-pre-init,-init-private,-init-user&quot; name=&quot;-init-project&quot;&gt;
  53         &lt;property file=&quot;nbproject/configs/${config}.properties&quot;/&gt;
  54         &lt;property file=&quot;nbproject/project.properties&quot;/&gt;
  55     &lt;/target&gt;
  56     &lt;target depends=&quot;-pre-init,-init-private,-init-user,-init-project,-init-macrodef-property&quot; name=&quot;-do-init&quot;&gt;
  57         &lt;property name=&quot;platform.java&quot; value=&quot;${java.home}/bin/java&quot;/&gt;
  58         &lt;available file=&quot;${manifest.file}&quot; property=&quot;manifest.available&quot;/&gt;
  59         &lt;condition property=&quot;splashscreen.available&quot;&gt;
  60             &lt;and&gt;
  61                 &lt;not&gt;
  62                     &lt;equals arg1=&quot;${application.splash}&quot; arg2=&quot;&quot; trim=&quot;true&quot;/&gt;
  63                 &lt;/not&gt;
  64                 &lt;available file=&quot;${application.splash}&quot;/&gt;
  65             &lt;/and&gt;
  66         &lt;/condition&gt;
  67         &lt;condition property=&quot;main.class.available&quot;&gt;
  68             &lt;and&gt;
  69                 &lt;isset property=&quot;main.class&quot;/&gt;
  70                 &lt;not&gt;
  71                     &lt;equals arg1=&quot;${main.class}&quot; arg2=&quot;&quot; trim=&quot;true&quot;/&gt;
  72                 &lt;/not&gt;
  73             &lt;/and&gt;
  74         &lt;/condition&gt;
  75         &lt;condition property=&quot;profile.available&quot;&gt;
  76             &lt;and&gt;
  77                 &lt;isset property=&quot;javac.profile&quot;/&gt;
  78                 &lt;length length=&quot;0&quot; string=&quot;${javac.profile}&quot; when=&quot;greater&quot;/&gt;
  79                 &lt;matches pattern=&quot;1\.[89](\..*)?&quot; string=&quot;${javac.source}&quot;/&gt;
  80             &lt;/and&gt;
  81         &lt;/condition&gt;
  82         &lt;condition property=&quot;do.archive&quot;&gt;
  83             &lt;or&gt;
  84                 &lt;not&gt;
  85                     &lt;istrue value=&quot;${jar.archive.disabled}&quot;/&gt;
  86                 &lt;/not&gt;
  87                 &lt;istrue value=&quot;${not.archive.disabled}&quot;/&gt;
  88             &lt;/or&gt;
  89         &lt;/condition&gt;
  90         &lt;condition property=&quot;do.mkdist&quot;&gt;
  91             &lt;and&gt;
  92                 &lt;isset property=&quot;do.archive&quot;/&gt;
  93                 &lt;isset property=&quot;libs.CopyLibs.classpath&quot;/&gt;
  94                 &lt;not&gt;
  95                     &lt;istrue value=&quot;${mkdist.disabled}&quot;/&gt;
  96                 &lt;/not&gt;
  97             &lt;/and&gt;
  98         &lt;/condition&gt;
  99         &lt;condition property=&quot;do.archive+manifest.available&quot;&gt;
 100             &lt;and&gt;
 101                 &lt;isset property=&quot;manifest.available&quot;/&gt;
 102                 &lt;istrue value=&quot;${do.archive}&quot;/&gt;
 103             &lt;/and&gt;
 104         &lt;/condition&gt;
 105         &lt;condition property=&quot;do.archive+main.class.available&quot;&gt;
 106             &lt;and&gt;
 107                 &lt;isset property=&quot;main.class.available&quot;/&gt;
 108                 &lt;istrue value=&quot;${do.archive}&quot;/&gt;
 109             &lt;/and&gt;
 110         &lt;/condition&gt;
 111         &lt;condition property=&quot;do.archive+splashscreen.available&quot;&gt;
 112             &lt;and&gt;
 113                 &lt;isset property=&quot;splashscreen.available&quot;/&gt;
 114                 &lt;istrue value=&quot;${do.archive}&quot;/&gt;
 115             &lt;/and&gt;
 116         &lt;/condition&gt;
 117         &lt;condition property=&quot;do.archive+profile.available&quot;&gt;
 118             &lt;and&gt;
 119                 &lt;isset property=&quot;profile.available&quot;/&gt;
 120                 &lt;istrue value=&quot;${do.archive}&quot;/&gt;
 121             &lt;/and&gt;
 122         &lt;/condition&gt;
 123         &lt;condition property=&quot;have.tests&quot;&gt;
 124             &lt;or/&gt;
 125         &lt;/condition&gt;
 126         &lt;condition property=&quot;have.sources&quot;&gt;
 127             &lt;or&gt;
 128                 &lt;available file=&quot;${src.src3.dir}&quot;/&gt;
 129                 &lt;available file=&quot;${src.src4.dir}&quot;/&gt;
 130                 &lt;available file=&quot;${src.src2.dir}&quot;/&gt;
 131                 &lt;available file=&quot;${src.src.dir}&quot;/&gt;
 132             &lt;/or&gt;
 133         &lt;/condition&gt;
 134         &lt;condition property=&quot;netbeans.home+have.tests&quot;&gt;
 135             &lt;and&gt;
 136                 &lt;isset property=&quot;netbeans.home&quot;/&gt;
 137                 &lt;isset property=&quot;have.tests&quot;/&gt;
 138             &lt;/and&gt;
 139         &lt;/condition&gt;
 140         &lt;condition property=&quot;no.javadoc.preview&quot;&gt;
 141             &lt;and&gt;
 142                 &lt;isset property=&quot;javadoc.preview&quot;/&gt;
 143                 &lt;isfalse value=&quot;${javadoc.preview}&quot;/&gt;
 144             &lt;/and&gt;
 145         &lt;/condition&gt;
 146         &lt;property name=&quot;run.jvmargs&quot; value=&quot;&quot;/&gt;
 147         &lt;property name=&quot;run.jvmargs.ide&quot; value=&quot;&quot;/&gt;
 148         &lt;property name=&quot;javac.compilerargs&quot; value=&quot;&quot;/&gt;
 149         &lt;property name=&quot;work.dir&quot; value=&quot;${basedir}&quot;/&gt;
 150         &lt;condition property=&quot;no.deps&quot;&gt;
 151             &lt;and&gt;
 152                 &lt;istrue value=&quot;${no.dependencies}&quot;/&gt;
 153             &lt;/and&gt;
 154         &lt;/condition&gt;
 155         &lt;property name=&quot;javac.debug&quot; value=&quot;true&quot;/&gt;
 156         &lt;property name=&quot;javadoc.preview&quot; value=&quot;true&quot;/&gt;
 157         &lt;property name=&quot;application.args&quot; value=&quot;&quot;/&gt;
 158         &lt;property name=&quot;source.encoding&quot; value=&quot;${file.encoding}&quot;/&gt;
 159         &lt;property name=&quot;runtime.encoding&quot; value=&quot;${source.encoding}&quot;/&gt;
 160         &lt;condition property=&quot;javadoc.encoding.used&quot; value=&quot;${javadoc.encoding}&quot;&gt;
 161             &lt;and&gt;
 162                 &lt;isset property=&quot;javadoc.encoding&quot;/&gt;
 163                 &lt;not&gt;
 164                     &lt;equals arg1=&quot;${javadoc.encoding}&quot; arg2=&quot;&quot;/&gt;
 165                 &lt;/not&gt;
 166             &lt;/and&gt;
 167         &lt;/condition&gt;
 168         &lt;property name=&quot;javadoc.encoding.used&quot; value=&quot;${source.encoding}&quot;/&gt;
 169         &lt;property name=&quot;includes&quot; value=&quot;**&quot;/&gt;
 170         &lt;property name=&quot;excludes&quot; value=&quot;&quot;/&gt;
 171         &lt;property name=&quot;do.depend&quot; value=&quot;false&quot;/&gt;
 172         &lt;condition property=&quot;do.depend.true&quot;&gt;
 173             &lt;istrue value=&quot;${do.depend}&quot;/&gt;
 174         &lt;/condition&gt;
 175         &lt;path id=&quot;endorsed.classpath.path&quot; path=&quot;${endorsed.classpath}&quot;/&gt;
 176         &lt;condition else=&quot;&quot; property=&quot;endorsed.classpath.cmd.line.arg&quot; value=&quot;-Xbootclasspath/p:&#39;${toString:endorsed.classpath.path}&#39;&quot;&gt;
 177             &lt;and&gt;
 178                 &lt;isset property=&quot;endorsed.classpath&quot;/&gt;
 179                 &lt;not&gt;
 180                     &lt;equals arg1=&quot;${endorsed.classpath}&quot; arg2=&quot;&quot; trim=&quot;true&quot;/&gt;
 181                 &lt;/not&gt;
 182             &lt;/and&gt;
 183         &lt;/condition&gt;
 184         &lt;condition else=&quot;&quot; property=&quot;javac.profile.cmd.line.arg&quot; value=&quot;-profile ${javac.profile}&quot;&gt;
 185             &lt;isset property=&quot;profile.available&quot;/&gt;
 186         &lt;/condition&gt;
 187         &lt;condition else=&quot;false&quot; property=&quot;jdkBug6558476&quot;&gt;
 188             &lt;and&gt;
 189                 &lt;matches pattern=&quot;1\.[56]&quot; string=&quot;${java.specification.version}&quot;/&gt;
 190                 &lt;not&gt;
 191                     &lt;os family=&quot;unix&quot;/&gt;
 192                 &lt;/not&gt;
 193             &lt;/and&gt;
 194         &lt;/condition&gt;
 195         &lt;condition else=&quot;false&quot; property=&quot;javac.fork&quot;&gt;
 196             &lt;or&gt;
 197                 &lt;istrue value=&quot;${jdkBug6558476}&quot;/&gt;
 198                 &lt;istrue value=&quot;${javac.external.vm}&quot;/&gt;
 199             &lt;/or&gt;
 200         &lt;/condition&gt;
 201         &lt;property name=&quot;jar.index&quot; value=&quot;false&quot;/&gt;
 202         &lt;property name=&quot;jar.index.metainf&quot; value=&quot;${jar.index}&quot;/&gt;
 203         &lt;property name=&quot;copylibs.rebase&quot; value=&quot;true&quot;/&gt;
 204         &lt;available file=&quot;${meta.inf.dir}/persistence.xml&quot; property=&quot;has.persistence.xml&quot;/&gt;
 205         &lt;condition property=&quot;junit.available&quot;&gt;
 206             &lt;or&gt;
 207                 &lt;available classname=&quot;org.junit.Test&quot; classpath=&quot;${run.test.classpath}&quot;/&gt;
 208                 &lt;available classname=&quot;junit.framework.Test&quot; classpath=&quot;${run.test.classpath}&quot;/&gt;
 209             &lt;/or&gt;
 210         &lt;/condition&gt;
 211         &lt;condition property=&quot;testng.available&quot;&gt;
 212             &lt;available classname=&quot;org.testng.annotations.Test&quot; classpath=&quot;${run.test.classpath}&quot;/&gt;
 213         &lt;/condition&gt;
 214         &lt;condition property=&quot;junit+testng.available&quot;&gt;
 215             &lt;and&gt;
 216                 &lt;istrue value=&quot;${junit.available}&quot;/&gt;
 217                 &lt;istrue value=&quot;${testng.available}&quot;/&gt;
 218             &lt;/and&gt;
 219         &lt;/condition&gt;
 220         &lt;condition else=&quot;testng&quot; property=&quot;testng.mode&quot; value=&quot;mixed&quot;&gt;
 221             &lt;istrue value=&quot;${junit+testng.available}&quot;/&gt;
 222         &lt;/condition&gt;
 223         &lt;condition else=&quot;&quot; property=&quot;testng.debug.mode&quot; value=&quot;-mixed&quot;&gt;
 224             &lt;istrue value=&quot;${junit+testng.available}&quot;/&gt;
 225         &lt;/condition&gt;
 226         &lt;property name=&quot;java.failonerror&quot; value=&quot;true&quot;/&gt;
 227     &lt;/target&gt;
 228     &lt;target name=&quot;-post-init&quot;&gt;
 229         &lt;!-- Empty placeholder for easier customization. --&gt;
 230         &lt;!-- You can override this target in the ../build.xml file. --&gt;
 231     &lt;/target&gt;
 232     &lt;target depends=&quot;-pre-init,-init-private,-init-user,-init-project,-do-init&quot; name=&quot;-init-check&quot;&gt;
 233         &lt;fail unless=&quot;src.src3.dir&quot;&gt;Must set src.src3.dir&lt;/fail&gt;
 234         &lt;fail unless=&quot;src.src4.dir&quot;&gt;Must set src.src4.dir&lt;/fail&gt;
 235         &lt;fail unless=&quot;src.src2.dir&quot;&gt;Must set src.src2.dir&lt;/fail&gt;
 236         &lt;fail unless=&quot;src.src.dir&quot;&gt;Must set src.src.dir&lt;/fail&gt;
 237         &lt;fail unless=&quot;build.dir&quot;&gt;Must set build.dir&lt;/fail&gt;
 238         &lt;fail unless=&quot;dist.dir&quot;&gt;Must set dist.dir&lt;/fail&gt;
 239         &lt;fail unless=&quot;build.classes.dir&quot;&gt;Must set build.classes.dir&lt;/fail&gt;
 240         &lt;fail unless=&quot;dist.javadoc.dir&quot;&gt;Must set dist.javadoc.dir&lt;/fail&gt;
 241         &lt;fail unless=&quot;build.test.classes.dir&quot;&gt;Must set build.test.classes.dir&lt;/fail&gt;
 242         &lt;fail unless=&quot;build.test.results.dir&quot;&gt;Must set build.test.results.dir&lt;/fail&gt;
 243         &lt;fail unless=&quot;build.classes.excludes&quot;&gt;Must set build.classes.excludes&lt;/fail&gt;
 244         &lt;fail unless=&quot;dist.jar&quot;&gt;Must set dist.jar&lt;/fail&gt;
 245     &lt;/target&gt;
 246     &lt;target name=&quot;-init-macrodef-property&quot;&gt;
 247         &lt;macrodef name=&quot;property&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/1&quot;&gt;
 248             &lt;attribute name=&quot;name&quot;/&gt;
 249             &lt;attribute name=&quot;value&quot;/&gt;
 250             &lt;sequential&gt;
 251                 &lt;property name=&quot;@{name}&quot; value=&quot;${@{value}}&quot;/&gt;
 252             &lt;/sequential&gt;
 253         &lt;/macrodef&gt;
 254     &lt;/target&gt;
 255     &lt;target depends=&quot;-init-ap-cmdline-properties&quot; if=&quot;ap.supported.internal&quot; name=&quot;-init-macrodef-javac-with-processors&quot;&gt;
 256         &lt;macrodef name=&quot;javac&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 257             &lt;attribute default=&quot;${src.src3.dir}:${src.src4.dir}:${src.src2.dir}:${src.src.dir}&quot; name=&quot;srcdir&quot;/&gt;
 258             &lt;attribute default=&quot;${build.classes.dir}&quot; name=&quot;destdir&quot;/&gt;
 259             &lt;attribute default=&quot;${javac.classpath}&quot; name=&quot;classpath&quot;/&gt;
 260             &lt;attribute default=&quot;${javac.processorpath}&quot; name=&quot;processorpath&quot;/&gt;
 261             &lt;attribute default=&quot;${build.generated.sources.dir}/ap-source-output&quot; name=&quot;apgeneratedsrcdir&quot;/&gt;
 262             &lt;attribute default=&quot;${includes}&quot; name=&quot;includes&quot;/&gt;
 263             &lt;attribute default=&quot;${excludes}&quot; name=&quot;excludes&quot;/&gt;
 264             &lt;attribute default=&quot;${javac.debug}&quot; name=&quot;debug&quot;/&gt;
 265             &lt;attribute default=&quot;${empty.dir}&quot; name=&quot;sourcepath&quot;/&gt;
 266             &lt;attribute default=&quot;${empty.dir}&quot; name=&quot;gensrcdir&quot;/&gt;
 267             &lt;element name=&quot;customize&quot; optional=&quot;true&quot;/&gt;
 268             &lt;sequential&gt;
 269                 &lt;property location=&quot;${build.dir}/empty&quot; name=&quot;empty.dir&quot;/&gt;
 270                 &lt;mkdir dir=&quot;${empty.dir}&quot;/&gt;
 271                 &lt;mkdir dir=&quot;@{apgeneratedsrcdir}&quot;/&gt;
 272                 &lt;javac debug=&quot;@{debug}&quot; deprecation=&quot;${javac.deprecation}&quot; destdir=&quot;@{destdir}&quot; encoding=&quot;${source.encoding}&quot; excludes=&quot;@{excludes}&quot; fork=&quot;${javac.fork}&quot; includeantruntime=&quot;false&quot; includes=&quot;@{includes}&quot; source=&quot;${javac.source}&quot; sourcepath=&quot;@{sourcepath}&quot; srcdir=&quot;@{srcdir}&quot; target=&quot;${javac.target}&quot; tempdir=&quot;${java.io.tmpdir}&quot;&gt;
 273                     &lt;src&gt;
 274                         &lt;dirset dir=&quot;@{gensrcdir}&quot; erroronmissingdir=&quot;false&quot;&gt;
 275                             &lt;include name=&quot;*&quot;/&gt;
 276                         &lt;/dirset&gt;
 277                     &lt;/src&gt;
 278                     &lt;classpath&gt;
 279                         &lt;path path=&quot;@{classpath}&quot;/&gt;
 280                     &lt;/classpath&gt;
 281                     &lt;compilerarg line=&quot;${endorsed.classpath.cmd.line.arg}&quot;/&gt;
 282                     &lt;compilerarg line=&quot;${javac.profile.cmd.line.arg}&quot;/&gt;
 283                     &lt;compilerarg line=&quot;${javac.compilerargs}&quot;/&gt;
 284                     &lt;compilerarg value=&quot;-processorpath&quot;/&gt;
 285                     &lt;compilerarg path=&quot;@{processorpath}:${empty.dir}&quot;/&gt;
 286                     &lt;compilerarg line=&quot;${ap.processors.internal}&quot;/&gt;
 287                     &lt;compilerarg line=&quot;${annotation.processing.processor.options}&quot;/&gt;
 288                     &lt;compilerarg value=&quot;-s&quot;/&gt;
 289                     &lt;compilerarg path=&quot;@{apgeneratedsrcdir}&quot;/&gt;
 290                     &lt;compilerarg line=&quot;${ap.proc.none.internal}&quot;/&gt;
 291                     &lt;customize/&gt;
 292                 &lt;/javac&gt;
 293             &lt;/sequential&gt;
 294         &lt;/macrodef&gt;
 295     &lt;/target&gt;
 296     &lt;target depends=&quot;-init-ap-cmdline-properties&quot; name=&quot;-init-macrodef-javac-without-processors&quot; unless=&quot;ap.supported.internal&quot;&gt;
 297         &lt;macrodef name=&quot;javac&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 298             &lt;attribute default=&quot;${src.src3.dir}:${src.src4.dir}:${src.src2.dir}:${src.src.dir}&quot; name=&quot;srcdir&quot;/&gt;
 299             &lt;attribute default=&quot;${build.classes.dir}&quot; name=&quot;destdir&quot;/&gt;
 300             &lt;attribute default=&quot;${javac.classpath}&quot; name=&quot;classpath&quot;/&gt;
 301             &lt;attribute default=&quot;${javac.processorpath}&quot; name=&quot;processorpath&quot;/&gt;
 302             &lt;attribute default=&quot;${build.generated.sources.dir}/ap-source-output&quot; name=&quot;apgeneratedsrcdir&quot;/&gt;
 303             &lt;attribute default=&quot;${includes}&quot; name=&quot;includes&quot;/&gt;
 304             &lt;attribute default=&quot;${excludes}&quot; name=&quot;excludes&quot;/&gt;
 305             &lt;attribute default=&quot;${javac.debug}&quot; name=&quot;debug&quot;/&gt;
 306             &lt;attribute default=&quot;${empty.dir}&quot; name=&quot;sourcepath&quot;/&gt;
 307             &lt;attribute default=&quot;${empty.dir}&quot; name=&quot;gensrcdir&quot;/&gt;
 308             &lt;element name=&quot;customize&quot; optional=&quot;true&quot;/&gt;
 309             &lt;sequential&gt;
 310                 &lt;property location=&quot;${build.dir}/empty&quot; name=&quot;empty.dir&quot;/&gt;
 311                 &lt;mkdir dir=&quot;${empty.dir}&quot;/&gt;
 312                 &lt;javac debug=&quot;@{debug}&quot; deprecation=&quot;${javac.deprecation}&quot; destdir=&quot;@{destdir}&quot; encoding=&quot;${source.encoding}&quot; excludes=&quot;@{excludes}&quot; fork=&quot;${javac.fork}&quot; includeantruntime=&quot;false&quot; includes=&quot;@{includes}&quot; source=&quot;${javac.source}&quot; sourcepath=&quot;@{sourcepath}&quot; srcdir=&quot;@{srcdir}&quot; target=&quot;${javac.target}&quot; tempdir=&quot;${java.io.tmpdir}&quot;&gt;
 313                     &lt;src&gt;
 314                         &lt;dirset dir=&quot;@{gensrcdir}&quot; erroronmissingdir=&quot;false&quot;&gt;
 315                             &lt;include name=&quot;*&quot;/&gt;
 316                         &lt;/dirset&gt;
 317                     &lt;/src&gt;
 318                     &lt;classpath&gt;
 319                         &lt;path path=&quot;@{classpath}&quot;/&gt;
 320                     &lt;/classpath&gt;
 321                     &lt;compilerarg line=&quot;${endorsed.classpath.cmd.line.arg}&quot;/&gt;
 322                     &lt;compilerarg line=&quot;${javac.profile.cmd.line.arg}&quot;/&gt;
 323                     &lt;compilerarg line=&quot;${javac.compilerargs}&quot;/&gt;
 324                     &lt;customize/&gt;
 325                 &lt;/javac&gt;
 326             &lt;/sequential&gt;
 327         &lt;/macrodef&gt;
 328     &lt;/target&gt;
 329     &lt;target depends=&quot;-init-macrodef-javac-with-processors,-init-macrodef-javac-without-processors&quot; name=&quot;-init-macrodef-javac&quot;&gt;
 330         &lt;macrodef name=&quot;depend&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 331             &lt;attribute default=&quot;${src.src3.dir}:${src.src4.dir}:${src.src2.dir}:${src.src.dir}&quot; name=&quot;srcdir&quot;/&gt;
 332             &lt;attribute default=&quot;${build.classes.dir}&quot; name=&quot;destdir&quot;/&gt;
 333             &lt;attribute default=&quot;${javac.classpath}&quot; name=&quot;classpath&quot;/&gt;
 334             &lt;sequential&gt;
 335                 &lt;depend cache=&quot;${build.dir}/depcache&quot; destdir=&quot;@{destdir}&quot; excludes=&quot;${excludes}&quot; includes=&quot;${includes}&quot; srcdir=&quot;@{srcdir}&quot;&gt;
 336                     &lt;classpath&gt;
 337                         &lt;path path=&quot;@{classpath}&quot;/&gt;
 338                     &lt;/classpath&gt;
 339                 &lt;/depend&gt;
 340             &lt;/sequential&gt;
 341         &lt;/macrodef&gt;
 342         &lt;macrodef name=&quot;force-recompile&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 343             &lt;attribute default=&quot;${build.classes.dir}&quot; name=&quot;destdir&quot;/&gt;
 344             &lt;sequential&gt;
 345                 &lt;fail unless=&quot;javac.includes&quot;&gt;Must set javac.includes&lt;/fail&gt;
 346                 &lt;pathconvert pathsep=&quot;${line.separator}&quot; property=&quot;javac.includes.binary&quot;&gt;
 347                     &lt;path&gt;
 348                         &lt;filelist dir=&quot;@{destdir}&quot; files=&quot;${javac.includes}&quot;/&gt;
 349                     &lt;/path&gt;
 350                     &lt;globmapper from=&quot;*.java&quot; to=&quot;*.class&quot;/&gt;
 351                 &lt;/pathconvert&gt;
 352                 &lt;tempfile deleteonexit=&quot;true&quot; property=&quot;javac.includesfile.binary&quot;/&gt;
 353                 &lt;echo file=&quot;${javac.includesfile.binary}&quot; message=&quot;${javac.includes.binary}&quot;/&gt;
 354                 &lt;delete&gt;
 355                     &lt;files includesfile=&quot;${javac.includesfile.binary}&quot;/&gt;
 356                 &lt;/delete&gt;
 357                 &lt;delete&gt;
 358                     &lt;fileset file=&quot;${javac.includesfile.binary}&quot;/&gt;
 359                 &lt;/delete&gt;
 360             &lt;/sequential&gt;
 361         &lt;/macrodef&gt;
 362     &lt;/target&gt;
 363     &lt;target if=&quot;${junit.available}&quot; name=&quot;-init-macrodef-junit-init&quot;&gt;
 364         &lt;condition else=&quot;false&quot; property=&quot;nb.junit.batch&quot; value=&quot;true&quot;&gt;
 365             &lt;and&gt;
 366                 &lt;istrue value=&quot;${junit.available}&quot;/&gt;
 367                 &lt;not&gt;
 368                     &lt;isset property=&quot;test.method&quot;/&gt;
 369                 &lt;/not&gt;
 370             &lt;/and&gt;
 371         &lt;/condition&gt;
 372         &lt;condition else=&quot;false&quot; property=&quot;nb.junit.single&quot; value=&quot;true&quot;&gt;
 373             &lt;and&gt;
 374                 &lt;istrue value=&quot;${junit.available}&quot;/&gt;
 375                 &lt;isset property=&quot;test.method&quot;/&gt;
 376             &lt;/and&gt;
 377         &lt;/condition&gt;
 378     &lt;/target&gt;
 379     &lt;target name=&quot;-init-test-properties&quot;&gt;
 380         &lt;property name=&quot;test.binaryincludes&quot; value=&quot;&amp;lt;nothing&amp;gt;&quot;/&gt;
 381         &lt;property name=&quot;test.binarytestincludes&quot; value=&quot;&quot;/&gt;
 382         &lt;property name=&quot;test.binaryexcludes&quot; value=&quot;&quot;/&gt;
 383     &lt;/target&gt;
 384     &lt;target if=&quot;${nb.junit.single}&quot; name=&quot;-init-macrodef-junit-single&quot; unless=&quot;${nb.junit.batch}&quot;&gt;
 385         &lt;macrodef name=&quot;junit&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 386             &lt;attribute default=&quot;${includes}&quot; name=&quot;includes&quot;/&gt;
 387             &lt;attribute default=&quot;${excludes}&quot; name=&quot;excludes&quot;/&gt;
 388             &lt;attribute default=&quot;**&quot; name=&quot;testincludes&quot;/&gt;
 389             &lt;attribute default=&quot;&quot; name=&quot;testmethods&quot;/&gt;
 390             &lt;element name=&quot;customize&quot; optional=&quot;true&quot;/&gt;
 391             &lt;sequential&gt;
 392                 &lt;property name=&quot;junit.forkmode&quot; value=&quot;perTest&quot;/&gt;
 393                 &lt;junit dir=&quot;${work.dir}&quot; errorproperty=&quot;tests.failed&quot; failureproperty=&quot;tests.failed&quot; fork=&quot;true&quot; forkmode=&quot;${junit.forkmode}&quot; showoutput=&quot;true&quot; tempdir=&quot;${build.dir}&quot;&gt;
 394                     &lt;test methods=&quot;@{testmethods}&quot; name=&quot;@{testincludes}&quot; todir=&quot;${build.test.results.dir}&quot;/&gt;
 395                     &lt;syspropertyset&gt;
 396                         &lt;propertyref prefix=&quot;test-sys-prop.&quot;/&gt;
 397                         &lt;mapper from=&quot;test-sys-prop.*&quot; to=&quot;*&quot; type=&quot;glob&quot;/&gt;
 398                     &lt;/syspropertyset&gt;
 399                     &lt;formatter type=&quot;brief&quot; usefile=&quot;false&quot;/&gt;
 400                     &lt;formatter type=&quot;xml&quot;/&gt;
 401                     &lt;jvmarg value=&quot;-ea&quot;/&gt;
 402                     &lt;customize/&gt;
 403                 &lt;/junit&gt;
 404             &lt;/sequential&gt;
 405         &lt;/macrodef&gt;
 406     &lt;/target&gt;
 407     &lt;target depends=&quot;-init-test-properties&quot; if=&quot;${nb.junit.batch}&quot; name=&quot;-init-macrodef-junit-batch&quot; unless=&quot;${nb.junit.single}&quot;&gt;
 408         &lt;macrodef name=&quot;junit&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 409             &lt;attribute default=&quot;${includes}&quot; name=&quot;includes&quot;/&gt;
 410             &lt;attribute default=&quot;${excludes}&quot; name=&quot;excludes&quot;/&gt;
 411             &lt;attribute default=&quot;**&quot; name=&quot;testincludes&quot;/&gt;
 412             &lt;attribute default=&quot;&quot; name=&quot;testmethods&quot;/&gt;
 413             &lt;element name=&quot;customize&quot; optional=&quot;true&quot;/&gt;
 414             &lt;sequential&gt;
 415                 &lt;property name=&quot;junit.forkmode&quot; value=&quot;perTest&quot;/&gt;
 416                 &lt;junit dir=&quot;${work.dir}&quot; errorproperty=&quot;tests.failed&quot; failureproperty=&quot;tests.failed&quot; fork=&quot;true&quot; forkmode=&quot;${junit.forkmode}&quot; showoutput=&quot;true&quot; tempdir=&quot;${build.dir}&quot;&gt;
 417                     &lt;batchtest todir=&quot;${build.test.results.dir}&quot;&gt;
 418                         &lt;fileset dir=&quot;${build.test.classes.dir}&quot; excludes=&quot;@{excludes},${excludes},${test.binaryexcludes}&quot; includes=&quot;${test.binaryincludes}&quot;&gt;
 419                             &lt;filename name=&quot;${test.binarytestincludes}&quot;/&gt;
 420                         &lt;/fileset&gt;
 421                     &lt;/batchtest&gt;
 422                     &lt;syspropertyset&gt;
 423                         &lt;propertyref prefix=&quot;test-sys-prop.&quot;/&gt;
 424                         &lt;mapper from=&quot;test-sys-prop.*&quot; to=&quot;*&quot; type=&quot;glob&quot;/&gt;
 425                     &lt;/syspropertyset&gt;
 426                     &lt;formatter type=&quot;brief&quot; usefile=&quot;false&quot;/&gt;
 427                     &lt;formatter type=&quot;xml&quot;/&gt;
 428                     &lt;jvmarg value=&quot;-ea&quot;/&gt;
 429                     &lt;customize/&gt;
 430                 &lt;/junit&gt;
 431             &lt;/sequential&gt;
 432         &lt;/macrodef&gt;
 433     &lt;/target&gt;
 434     &lt;target depends=&quot;-init-macrodef-junit-init,-init-macrodef-junit-single, -init-macrodef-junit-batch&quot; if=&quot;${junit.available}&quot; name=&quot;-init-macrodef-junit&quot;/&gt;
 435     &lt;target if=&quot;${testng.available}&quot; name=&quot;-init-macrodef-testng&quot;&gt;
 436         &lt;macrodef name=&quot;testng&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 437             &lt;attribute default=&quot;${includes}&quot; name=&quot;includes&quot;/&gt;
 438             &lt;attribute default=&quot;${excludes}&quot; name=&quot;excludes&quot;/&gt;
 439             &lt;attribute default=&quot;**&quot; name=&quot;testincludes&quot;/&gt;
 440             &lt;attribute default=&quot;&quot; name=&quot;testmethods&quot;/&gt;
 441             &lt;element name=&quot;customize&quot; optional=&quot;true&quot;/&gt;
 442             &lt;sequential&gt;
 443                 &lt;condition else=&quot;&quot; property=&quot;testng.methods.arg&quot; value=&quot;@{testincludes}.@{testmethods}&quot;&gt;
 444                     &lt;isset property=&quot;test.method&quot;/&gt;
 445                 &lt;/condition&gt;
 446                 &lt;union id=&quot;test.set&quot;/&gt;
 447                 &lt;taskdef classname=&quot;org.testng.TestNGAntTask&quot; classpath=&quot;${run.test.classpath}&quot; name=&quot;testng&quot;/&gt;
 448                 &lt;testng classfilesetref=&quot;test.set&quot; failureProperty=&quot;tests.failed&quot; listeners=&quot;org.testng.reporters.VerboseReporter&quot; methods=&quot;${testng.methods.arg}&quot; mode=&quot;${testng.mode}&quot; outputdir=&quot;${build.test.results.dir}&quot; suitename=&quot;SanityTests&quot; testname=&quot;TestNG tests&quot; workingDir=&quot;${work.dir}&quot;&gt;
 449                     &lt;xmlfileset dir=&quot;${build.test.classes.dir}&quot; includes=&quot;@{testincludes}&quot;/&gt;
 450                     &lt;propertyset&gt;
 451                         &lt;propertyref prefix=&quot;test-sys-prop.&quot;/&gt;
 452                         &lt;mapper from=&quot;test-sys-prop.*&quot; to=&quot;*&quot; type=&quot;glob&quot;/&gt;
 453                     &lt;/propertyset&gt;
 454                     &lt;customize/&gt;
 455                 &lt;/testng&gt;
 456             &lt;/sequential&gt;
 457         &lt;/macrodef&gt;
 458     &lt;/target&gt;
 459     &lt;target name=&quot;-init-macrodef-test-impl&quot;&gt;
 460         &lt;macrodef name=&quot;test-impl&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 461             &lt;attribute default=&quot;${includes}&quot; name=&quot;includes&quot;/&gt;
 462             &lt;attribute default=&quot;${excludes}&quot; name=&quot;excludes&quot;/&gt;
 463             &lt;attribute default=&quot;**&quot; name=&quot;testincludes&quot;/&gt;
 464             &lt;attribute default=&quot;&quot; name=&quot;testmethods&quot;/&gt;
 465             &lt;element implicit=&quot;true&quot; name=&quot;customize&quot; optional=&quot;true&quot;/&gt;
 466             &lt;sequential&gt;
 467                 &lt;echo&gt;No tests executed.&lt;/echo&gt;
 468             &lt;/sequential&gt;
 469         &lt;/macrodef&gt;
 470     &lt;/target&gt;
 471     &lt;target depends=&quot;-init-macrodef-junit&quot; if=&quot;${junit.available}&quot; name=&quot;-init-macrodef-junit-impl&quot;&gt;
 472         &lt;macrodef name=&quot;test-impl&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 473             &lt;attribute default=&quot;${includes}&quot; name=&quot;includes&quot;/&gt;
 474             &lt;attribute default=&quot;${excludes}&quot; name=&quot;excludes&quot;/&gt;
 475             &lt;attribute default=&quot;**&quot; name=&quot;testincludes&quot;/&gt;
 476             &lt;attribute default=&quot;&quot; name=&quot;testmethods&quot;/&gt;
 477             &lt;element implicit=&quot;true&quot; name=&quot;customize&quot; optional=&quot;true&quot;/&gt;
 478             &lt;sequential&gt;
 479                 &lt;j2seproject3:junit excludes=&quot;@{excludes}&quot; includes=&quot;@{includes}&quot; testincludes=&quot;@{testincludes}&quot; testmethods=&quot;@{testmethods}&quot;&gt;
 480                     &lt;customize/&gt;
 481                 &lt;/j2seproject3:junit&gt;
 482             &lt;/sequential&gt;
 483         &lt;/macrodef&gt;
 484     &lt;/target&gt;
 485     &lt;target depends=&quot;-init-macrodef-testng&quot; if=&quot;${testng.available}&quot; name=&quot;-init-macrodef-testng-impl&quot;&gt;
 486         &lt;macrodef name=&quot;test-impl&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 487             &lt;attribute default=&quot;${includes}&quot; name=&quot;includes&quot;/&gt;
 488             &lt;attribute default=&quot;${excludes}&quot; name=&quot;excludes&quot;/&gt;
 489             &lt;attribute default=&quot;**&quot; name=&quot;testincludes&quot;/&gt;
 490             &lt;attribute default=&quot;&quot; name=&quot;testmethods&quot;/&gt;
 491             &lt;element implicit=&quot;true&quot; name=&quot;customize&quot; optional=&quot;true&quot;/&gt;
 492             &lt;sequential&gt;
 493                 &lt;j2seproject3:testng excludes=&quot;@{excludes}&quot; includes=&quot;@{includes}&quot; testincludes=&quot;@{testincludes}&quot; testmethods=&quot;@{testmethods}&quot;&gt;
 494                     &lt;customize/&gt;
 495                 &lt;/j2seproject3:testng&gt;
 496             &lt;/sequential&gt;
 497         &lt;/macrodef&gt;
 498     &lt;/target&gt;
 499     &lt;target depends=&quot;-init-macrodef-test-impl,-init-macrodef-junit-impl,-init-macrodef-testng-impl&quot; name=&quot;-init-macrodef-test&quot;&gt;
 500         &lt;macrodef name=&quot;test&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 501             &lt;attribute default=&quot;${includes}&quot; name=&quot;includes&quot;/&gt;
 502             &lt;attribute default=&quot;${excludes}&quot; name=&quot;excludes&quot;/&gt;
 503             &lt;attribute default=&quot;**&quot; name=&quot;testincludes&quot;/&gt;
 504             &lt;attribute default=&quot;&quot; name=&quot;testmethods&quot;/&gt;
 505             &lt;sequential&gt;
 506                 &lt;j2seproject3:test-impl excludes=&quot;@{excludes}&quot; includes=&quot;@{includes}&quot; testincludes=&quot;@{testincludes}&quot; testmethods=&quot;@{testmethods}&quot;&gt;
 507                     &lt;customize&gt;
 508                         &lt;classpath&gt;
 509                             &lt;path path=&quot;${run.test.classpath}&quot;/&gt;
 510                         &lt;/classpath&gt;
 511                         &lt;jvmarg line=&quot;${endorsed.classpath.cmd.line.arg}&quot;/&gt;
 512                         &lt;jvmarg line=&quot;${run.jvmargs}&quot;/&gt;
 513                         &lt;jvmarg line=&quot;${run.jvmargs.ide}&quot;/&gt;
 514                     &lt;/customize&gt;
 515                 &lt;/j2seproject3:test-impl&gt;
 516             &lt;/sequential&gt;
 517         &lt;/macrodef&gt;
 518     &lt;/target&gt;
 519     &lt;target if=&quot;${junit.available}&quot; name=&quot;-init-macrodef-junit-debug&quot; unless=&quot;${nb.junit.batch}&quot;&gt;
 520         &lt;macrodef name=&quot;junit-debug&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 521             &lt;attribute default=&quot;${includes}&quot; name=&quot;includes&quot;/&gt;
 522             &lt;attribute default=&quot;${excludes}&quot; name=&quot;excludes&quot;/&gt;
 523             &lt;attribute default=&quot;**&quot; name=&quot;testincludes&quot;/&gt;
 524             &lt;attribute default=&quot;&quot; name=&quot;testmethods&quot;/&gt;
 525             &lt;element name=&quot;customize&quot; optional=&quot;true&quot;/&gt;
 526             &lt;sequential&gt;
 527                 &lt;property name=&quot;junit.forkmode&quot; value=&quot;perTest&quot;/&gt;
 528                 &lt;junit dir=&quot;${work.dir}&quot; errorproperty=&quot;tests.failed&quot; failureproperty=&quot;tests.failed&quot; fork=&quot;true&quot; forkmode=&quot;${junit.forkmode}&quot; showoutput=&quot;true&quot; tempdir=&quot;${build.dir}&quot;&gt;
 529                     &lt;test methods=&quot;@{testmethods}&quot; name=&quot;@{testincludes}&quot; todir=&quot;${build.test.results.dir}&quot;/&gt;
 530                     &lt;syspropertyset&gt;
 531                         &lt;propertyref prefix=&quot;test-sys-prop.&quot;/&gt;
 532                         &lt;mapper from=&quot;test-sys-prop.*&quot; to=&quot;*&quot; type=&quot;glob&quot;/&gt;
 533                     &lt;/syspropertyset&gt;
 534                     &lt;formatter type=&quot;brief&quot; usefile=&quot;false&quot;/&gt;
 535                     &lt;formatter type=&quot;xml&quot;/&gt;
 536                     &lt;jvmarg value=&quot;-ea&quot;/&gt;
 537                     &lt;jvmarg line=&quot;${debug-args-line}&quot;/&gt;
 538                     &lt;jvmarg value=&quot;-Xrunjdwp:transport=${debug-transport},address=${jpda.address}&quot;/&gt;
 539                     &lt;customize/&gt;
 540                 &lt;/junit&gt;
 541             &lt;/sequential&gt;
 542         &lt;/macrodef&gt;
 543     &lt;/target&gt;
 544     &lt;target depends=&quot;-init-test-properties&quot; if=&quot;${nb.junit.batch}&quot; name=&quot;-init-macrodef-junit-debug-batch&quot;&gt;
 545         &lt;macrodef name=&quot;junit-debug&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 546             &lt;attribute default=&quot;${includes}&quot; name=&quot;includes&quot;/&gt;
 547             &lt;attribute default=&quot;${excludes}&quot; name=&quot;excludes&quot;/&gt;
 548             &lt;attribute default=&quot;**&quot; name=&quot;testincludes&quot;/&gt;
 549             &lt;attribute default=&quot;&quot; name=&quot;testmethods&quot;/&gt;
 550             &lt;element name=&quot;customize&quot; optional=&quot;true&quot;/&gt;
 551             &lt;sequential&gt;
 552                 &lt;property name=&quot;junit.forkmode&quot; value=&quot;perTest&quot;/&gt;
 553                 &lt;junit dir=&quot;${work.dir}&quot; errorproperty=&quot;tests.failed&quot; failureproperty=&quot;tests.failed&quot; fork=&quot;true&quot; forkmode=&quot;${junit.forkmode}&quot; showoutput=&quot;true&quot; tempdir=&quot;${build.dir}&quot;&gt;
 554                     &lt;batchtest todir=&quot;${build.test.results.dir}&quot;&gt;
 555                         &lt;fileset dir=&quot;${build.test.classes.dir}&quot; excludes=&quot;@{excludes},${excludes},${test.binaryexcludes}&quot; includes=&quot;${test.binaryincludes}&quot;&gt;
 556                             &lt;filename name=&quot;${test.binarytestincludes}&quot;/&gt;
 557                         &lt;/fileset&gt;
 558                     &lt;/batchtest&gt;
 559                     &lt;syspropertyset&gt;
 560                         &lt;propertyref prefix=&quot;test-sys-prop.&quot;/&gt;
 561                         &lt;mapper from=&quot;test-sys-prop.*&quot; to=&quot;*&quot; type=&quot;glob&quot;/&gt;
 562                     &lt;/syspropertyset&gt;
 563                     &lt;formatter type=&quot;brief&quot; usefile=&quot;false&quot;/&gt;
 564                     &lt;formatter type=&quot;xml&quot;/&gt;
 565                     &lt;jvmarg value=&quot;-ea&quot;/&gt;
 566                     &lt;jvmarg line=&quot;${debug-args-line}&quot;/&gt;
 567                     &lt;jvmarg value=&quot;-Xrunjdwp:transport=${debug-transport},address=${jpda.address}&quot;/&gt;
 568                     &lt;customize/&gt;
 569                 &lt;/junit&gt;
 570             &lt;/sequential&gt;
 571         &lt;/macrodef&gt;
 572     &lt;/target&gt;
 573     &lt;target depends=&quot;-init-macrodef-junit-debug,-init-macrodef-junit-debug-batch&quot; if=&quot;${junit.available}&quot; name=&quot;-init-macrodef-junit-debug-impl&quot;&gt;
 574         &lt;macrodef name=&quot;test-debug-impl&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 575             &lt;attribute default=&quot;${includes}&quot; name=&quot;includes&quot;/&gt;
 576             &lt;attribute default=&quot;${excludes}&quot; name=&quot;excludes&quot;/&gt;
 577             &lt;attribute default=&quot;**&quot; name=&quot;testincludes&quot;/&gt;
 578             &lt;attribute default=&quot;&quot; name=&quot;testmethods&quot;/&gt;
 579             &lt;element implicit=&quot;true&quot; name=&quot;customize&quot; optional=&quot;true&quot;/&gt;
 580             &lt;sequential&gt;
 581                 &lt;j2seproject3:junit-debug excludes=&quot;@{excludes}&quot; includes=&quot;@{includes}&quot; testincludes=&quot;@{testincludes}&quot; testmethods=&quot;@{testmethods}&quot;&gt;
 582                     &lt;customize/&gt;
 583                 &lt;/j2seproject3:junit-debug&gt;
 584             &lt;/sequential&gt;
 585         &lt;/macrodef&gt;
 586     &lt;/target&gt;
 587     &lt;target if=&quot;${testng.available}&quot; name=&quot;-init-macrodef-testng-debug&quot;&gt;
 588         &lt;macrodef name=&quot;testng-debug&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 589             &lt;attribute default=&quot;${main.class}&quot; name=&quot;testClass&quot;/&gt;
 590             &lt;attribute default=&quot;&quot; name=&quot;testMethod&quot;/&gt;
 591             &lt;element name=&quot;customize2&quot; optional=&quot;true&quot;/&gt;
 592             &lt;sequential&gt;
 593                 &lt;condition else=&quot;-testclass @{testClass}&quot; property=&quot;test.class.or.method&quot; value=&quot;-methods @{testClass}.@{testMethod}&quot;&gt;
 594                     &lt;isset property=&quot;test.method&quot;/&gt;
 595                 &lt;/condition&gt;
 596                 &lt;condition else=&quot;-suitename SanityTests -testname @{testClass} ${test.class.or.method}&quot; property=&quot;testng.cmd.args&quot; value=&quot;@{testClass}&quot;&gt;
 597                     &lt;matches pattern=&quot;.*\.xml&quot; string=&quot;@{testClass}&quot;/&gt;
 598                 &lt;/condition&gt;
 599                 &lt;delete dir=&quot;${build.test.results.dir}&quot; quiet=&quot;true&quot;/&gt;
 600                 &lt;mkdir dir=&quot;${build.test.results.dir}&quot;/&gt;
 601                 &lt;j2seproject3:debug classname=&quot;org.testng.TestNG&quot; classpath=&quot;${debug.test.classpath}&quot;&gt;
 602                     &lt;customize&gt;
 603                         &lt;customize2/&gt;
 604                         &lt;jvmarg value=&quot;-ea&quot;/&gt;
 605                         &lt;arg line=&quot;${testng.debug.mode}&quot;/&gt;
 606                         &lt;arg line=&quot;-d ${build.test.results.dir}&quot;/&gt;
 607                         &lt;arg line=&quot;-listener org.testng.reporters.VerboseReporter&quot;/&gt;
 608                         &lt;arg line=&quot;${testng.cmd.args}&quot;/&gt;
 609                     &lt;/customize&gt;
 610                 &lt;/j2seproject3:debug&gt;
 611             &lt;/sequential&gt;
 612         &lt;/macrodef&gt;
 613     &lt;/target&gt;
 614     &lt;target depends=&quot;-init-macrodef-testng-debug&quot; if=&quot;${testng.available}&quot; name=&quot;-init-macrodef-testng-debug-impl&quot;&gt;
 615         &lt;macrodef name=&quot;testng-debug-impl&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 616             &lt;attribute default=&quot;${main.class}&quot; name=&quot;testClass&quot;/&gt;
 617             &lt;attribute default=&quot;&quot; name=&quot;testMethod&quot;/&gt;
 618             &lt;element implicit=&quot;true&quot; name=&quot;customize2&quot; optional=&quot;true&quot;/&gt;
 619             &lt;sequential&gt;
 620                 &lt;j2seproject3:testng-debug testClass=&quot;@{testClass}&quot; testMethod=&quot;@{testMethod}&quot;&gt;
 621                     &lt;customize2/&gt;
 622                 &lt;/j2seproject3:testng-debug&gt;
 623             &lt;/sequential&gt;
 624         &lt;/macrodef&gt;
 625     &lt;/target&gt;
 626     &lt;target depends=&quot;-init-macrodef-junit-debug-impl&quot; if=&quot;${junit.available}&quot; name=&quot;-init-macrodef-test-debug-junit&quot;&gt;
 627         &lt;macrodef name=&quot;test-debug&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 628             &lt;attribute default=&quot;${includes}&quot; name=&quot;includes&quot;/&gt;
 629             &lt;attribute default=&quot;${excludes}&quot; name=&quot;excludes&quot;/&gt;
 630             &lt;attribute default=&quot;**&quot; name=&quot;testincludes&quot;/&gt;
 631             &lt;attribute default=&quot;&quot; name=&quot;testmethods&quot;/&gt;
 632             &lt;attribute default=&quot;${main.class}&quot; name=&quot;testClass&quot;/&gt;
 633             &lt;attribute default=&quot;&quot; name=&quot;testMethod&quot;/&gt;
 634             &lt;sequential&gt;
 635                 &lt;j2seproject3:test-debug-impl excludes=&quot;@{excludes}&quot; includes=&quot;@{includes}&quot; testincludes=&quot;@{testincludes}&quot; testmethods=&quot;@{testmethods}&quot;&gt;
 636                     &lt;customize&gt;
 637                         &lt;classpath&gt;
 638                             &lt;path path=&quot;${run.test.classpath}&quot;/&gt;
 639                         &lt;/classpath&gt;
 640                         &lt;jvmarg line=&quot;${endorsed.classpath.cmd.line.arg}&quot;/&gt;
 641                         &lt;jvmarg line=&quot;${run.jvmargs}&quot;/&gt;
 642                         &lt;jvmarg line=&quot;${run.jvmargs.ide}&quot;/&gt;
 643                     &lt;/customize&gt;
 644                 &lt;/j2seproject3:test-debug-impl&gt;
 645             &lt;/sequential&gt;
 646         &lt;/macrodef&gt;
 647     &lt;/target&gt;
 648     &lt;target depends=&quot;-init-macrodef-testng-debug-impl&quot; if=&quot;${testng.available}&quot; name=&quot;-init-macrodef-test-debug-testng&quot;&gt;
 649         &lt;macrodef name=&quot;test-debug&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 650             &lt;attribute default=&quot;${includes}&quot; name=&quot;includes&quot;/&gt;
 651             &lt;attribute default=&quot;${excludes}&quot; name=&quot;excludes&quot;/&gt;
 652             &lt;attribute default=&quot;**&quot; name=&quot;testincludes&quot;/&gt;
 653             &lt;attribute default=&quot;&quot; name=&quot;testmethods&quot;/&gt;
 654             &lt;attribute default=&quot;${main.class}&quot; name=&quot;testClass&quot;/&gt;
 655             &lt;attribute default=&quot;&quot; name=&quot;testMethod&quot;/&gt;
 656             &lt;sequential&gt;
 657                 &lt;j2seproject3:testng-debug-impl testClass=&quot;@{testClass}&quot; testMethod=&quot;@{testMethod}&quot;&gt;
 658                     &lt;customize2&gt;
 659                         &lt;syspropertyset&gt;
 660                             &lt;propertyref prefix=&quot;test-sys-prop.&quot;/&gt;
 661                             &lt;mapper from=&quot;test-sys-prop.*&quot; to=&quot;*&quot; type=&quot;glob&quot;/&gt;
 662                         &lt;/syspropertyset&gt;
 663                     &lt;/customize2&gt;
 664                 &lt;/j2seproject3:testng-debug-impl&gt;
 665             &lt;/sequential&gt;
 666         &lt;/macrodef&gt;
 667     &lt;/target&gt;
 668     &lt;target depends=&quot;-init-macrodef-test-debug-junit,-init-macrodef-test-debug-testng&quot; name=&quot;-init-macrodef-test-debug&quot;/&gt;
 669     &lt;!--
 670                 pre NB7.2 profiling section; consider it deprecated
 671             --&gt;
 672     &lt;target depends=&quot;-profile-pre-init, init, -profile-post-init, -profile-init-macrodef-profile, -profile-init-check&quot; if=&quot;profiler.info.jvmargs.agent&quot; name=&quot;profile-init&quot;/&gt;
 673     &lt;target if=&quot;profiler.info.jvmargs.agent&quot; name=&quot;-profile-pre-init&quot;&gt;
 674         &lt;!-- Empty placeholder for easier customization. --&gt;
 675         &lt;!-- You can override this target in the ../build.xml file. --&gt;
 676     &lt;/target&gt;
 677     &lt;target if=&quot;profiler.info.jvmargs.agent&quot; name=&quot;-profile-post-init&quot;&gt;
 678         &lt;!-- Empty placeholder for easier customization. --&gt;
 679         &lt;!-- You can override this target in the ../build.xml file. --&gt;
 680     &lt;/target&gt;
 681     &lt;target if=&quot;profiler.info.jvmargs.agent&quot; name=&quot;-profile-init-macrodef-profile&quot;&gt;
 682         &lt;macrodef name=&quot;resolve&quot;&gt;
 683             &lt;attribute name=&quot;name&quot;/&gt;
 684             &lt;attribute name=&quot;value&quot;/&gt;
 685             &lt;sequential&gt;
 686                 &lt;property name=&quot;@{name}&quot; value=&quot;${env.@{value}}&quot;/&gt;
 687             &lt;/sequential&gt;
 688         &lt;/macrodef&gt;
 689         &lt;macrodef name=&quot;profile&quot;&gt;
 690             &lt;attribute default=&quot;${main.class}&quot; name=&quot;classname&quot;/&gt;
 691             &lt;element name=&quot;customize&quot; optional=&quot;true&quot;/&gt;
 692             &lt;sequential&gt;
 693                 &lt;property environment=&quot;env&quot;/&gt;
 694                 &lt;resolve name=&quot;profiler.current.path&quot; value=&quot;${profiler.info.pathvar}&quot;/&gt;
 695                 &lt;java classname=&quot;@{classname}&quot; dir=&quot;${profiler.info.dir}&quot; failonerror=&quot;${java.failonerror}&quot; fork=&quot;true&quot; jvm=&quot;${profiler.info.jvm}&quot;&gt;
 696                     &lt;jvmarg line=&quot;${endorsed.classpath.cmd.line.arg}&quot;/&gt;
 697                     &lt;jvmarg value=&quot;${profiler.info.jvmargs.agent}&quot;/&gt;
 698                     &lt;jvmarg line=&quot;${profiler.info.jvmargs}&quot;/&gt;
 699                     &lt;env key=&quot;${profiler.info.pathvar}&quot; path=&quot;${profiler.info.agentpath}:${profiler.current.path}&quot;/&gt;
 700                     &lt;arg line=&quot;${application.args}&quot;/&gt;
 701                     &lt;classpath&gt;
 702                         &lt;path path=&quot;${run.classpath}&quot;/&gt;
 703                     &lt;/classpath&gt;
 704                     &lt;syspropertyset&gt;
 705                         &lt;propertyref prefix=&quot;run-sys-prop.&quot;/&gt;
 706                         &lt;mapper from=&quot;run-sys-prop.*&quot; to=&quot;*&quot; type=&quot;glob&quot;/&gt;
 707                     &lt;/syspropertyset&gt;
 708                     &lt;customize/&gt;
 709                 &lt;/java&gt;
 710             &lt;/sequential&gt;
 711         &lt;/macrodef&gt;
 712     &lt;/target&gt;
 713     &lt;target depends=&quot;-profile-pre-init, init, -profile-post-init, -profile-init-macrodef-profile&quot; if=&quot;profiler.info.jvmargs.agent&quot; name=&quot;-profile-init-check&quot;&gt;
 714         &lt;fail unless=&quot;profiler.info.jvm&quot;&gt;Must set JVM to use for profiling in profiler.info.jvm&lt;/fail&gt;
 715         &lt;fail unless=&quot;profiler.info.jvmargs.agent&quot;&gt;Must set profiler agent JVM arguments in profiler.info.jvmargs.agent&lt;/fail&gt;
 716     &lt;/target&gt;
 717     &lt;!--
 718                 end of pre NB7.2 profiling section
 719             --&gt;
 720     &lt;target depends=&quot;-init-debug-args&quot; name=&quot;-init-macrodef-nbjpda&quot;&gt;
 721         &lt;macrodef name=&quot;nbjpdastart&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/1&quot;&gt;
 722             &lt;attribute default=&quot;${main.class}&quot; name=&quot;name&quot;/&gt;
 723             &lt;attribute default=&quot;${debug.classpath}&quot; name=&quot;classpath&quot;/&gt;
 724             &lt;attribute default=&quot;&quot; name=&quot;stopclassname&quot;/&gt;
 725             &lt;sequential&gt;
 726                 &lt;nbjpdastart addressproperty=&quot;jpda.address&quot; name=&quot;@{name}&quot; stopclassname=&quot;@{stopclassname}&quot; transport=&quot;${debug-transport}&quot;&gt;
 727                     &lt;classpath&gt;
 728                         &lt;path path=&quot;@{classpath}&quot;/&gt;
 729                     &lt;/classpath&gt;
 730                 &lt;/nbjpdastart&gt;
 731             &lt;/sequential&gt;
 732         &lt;/macrodef&gt;
 733         &lt;macrodef name=&quot;nbjpdareload&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/1&quot;&gt;
 734             &lt;attribute default=&quot;${build.classes.dir}&quot; name=&quot;dir&quot;/&gt;
 735             &lt;sequential&gt;
 736                 &lt;nbjpdareload&gt;
 737                     &lt;fileset dir=&quot;@{dir}&quot; includes=&quot;${fix.classes}&quot;&gt;
 738                         &lt;include name=&quot;${fix.includes}*.class&quot;/&gt;
 739                     &lt;/fileset&gt;
 740                 &lt;/nbjpdareload&gt;
 741             &lt;/sequential&gt;
 742         &lt;/macrodef&gt;
 743     &lt;/target&gt;
 744     &lt;target name=&quot;-init-debug-args&quot;&gt;
 745         &lt;property name=&quot;version-output&quot; value=&quot;java version &amp;quot;${ant.java.version}&quot;/&gt;
 746         &lt;condition property=&quot;have-jdk-older-than-1.4&quot;&gt;
 747             &lt;or&gt;
 748                 &lt;contains string=&quot;${version-output}&quot; substring=&quot;java version &amp;quot;1.0&quot;/&gt;
 749                 &lt;contains string=&quot;${version-output}&quot; substring=&quot;java version &amp;quot;1.1&quot;/&gt;
 750                 &lt;contains string=&quot;${version-output}&quot; substring=&quot;java version &amp;quot;1.2&quot;/&gt;
 751                 &lt;contains string=&quot;${version-output}&quot; substring=&quot;java version &amp;quot;1.3&quot;/&gt;
 752             &lt;/or&gt;
 753         &lt;/condition&gt;
 754         &lt;condition else=&quot;-Xdebug&quot; property=&quot;debug-args-line&quot; value=&quot;-Xdebug -Xnoagent -Djava.compiler=none&quot;&gt;
 755             &lt;istrue value=&quot;${have-jdk-older-than-1.4}&quot;/&gt;
 756         &lt;/condition&gt;
 757         &lt;condition else=&quot;dt_socket&quot; property=&quot;debug-transport-by-os&quot; value=&quot;dt_shmem&quot;&gt;
 758             &lt;os family=&quot;windows&quot;/&gt;
 759         &lt;/condition&gt;
 760         &lt;condition else=&quot;${debug-transport-by-os}&quot; property=&quot;debug-transport&quot; value=&quot;${debug.transport}&quot;&gt;
 761             &lt;isset property=&quot;debug.transport&quot;/&gt;
 762         &lt;/condition&gt;
 763     &lt;/target&gt;
 764     &lt;target depends=&quot;-init-debug-args&quot; name=&quot;-init-macrodef-debug&quot;&gt;
 765         &lt;macrodef name=&quot;debug&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 766             &lt;attribute default=&quot;${main.class}&quot; name=&quot;classname&quot;/&gt;
 767             &lt;attribute default=&quot;${debug.classpath}&quot; name=&quot;classpath&quot;/&gt;
 768             &lt;element name=&quot;customize&quot; optional=&quot;true&quot;/&gt;
 769             &lt;sequential&gt;
 770                 &lt;java classname=&quot;@{classname}&quot; dir=&quot;${work.dir}&quot; failonerror=&quot;${java.failonerror}&quot; fork=&quot;true&quot;&gt;
 771                     &lt;jvmarg line=&quot;${endorsed.classpath.cmd.line.arg}&quot;/&gt;
 772                     &lt;jvmarg line=&quot;${debug-args-line}&quot;/&gt;
 773                     &lt;jvmarg value=&quot;-Xrunjdwp:transport=${debug-transport},address=${jpda.address}&quot;/&gt;
 774                     &lt;jvmarg value=&quot;-Dfile.encoding=${runtime.encoding}&quot;/&gt;
 775                     &lt;redirector errorencoding=&quot;${runtime.encoding}&quot; inputencoding=&quot;${runtime.encoding}&quot; outputencoding=&quot;${runtime.encoding}&quot;/&gt;
 776                     &lt;jvmarg line=&quot;${run.jvmargs}&quot;/&gt;
 777                     &lt;jvmarg line=&quot;${run.jvmargs.ide}&quot;/&gt;
 778                     &lt;classpath&gt;
 779                         &lt;path path=&quot;@{classpath}&quot;/&gt;
 780                     &lt;/classpath&gt;
 781                     &lt;syspropertyset&gt;
 782                         &lt;propertyref prefix=&quot;run-sys-prop.&quot;/&gt;
 783                         &lt;mapper from=&quot;run-sys-prop.*&quot; to=&quot;*&quot; type=&quot;glob&quot;/&gt;
 784                     &lt;/syspropertyset&gt;
 785                     &lt;customize/&gt;
 786                 &lt;/java&gt;
 787             &lt;/sequential&gt;
 788         &lt;/macrodef&gt;
 789     &lt;/target&gt;
 790     &lt;target name=&quot;-init-macrodef-java&quot;&gt;
 791         &lt;macrodef name=&quot;java&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/1&quot;&gt;
 792             &lt;attribute default=&quot;${main.class}&quot; name=&quot;classname&quot;/&gt;
 793             &lt;attribute default=&quot;${run.classpath}&quot; name=&quot;classpath&quot;/&gt;
 794             &lt;attribute default=&quot;jvm&quot; name=&quot;jvm&quot;/&gt;
 795             &lt;element name=&quot;customize&quot; optional=&quot;true&quot;/&gt;
 796             &lt;sequential&gt;
 797                 &lt;java classname=&quot;@{classname}&quot; dir=&quot;${work.dir}&quot; failonerror=&quot;${java.failonerror}&quot; fork=&quot;true&quot;&gt;
 798                     &lt;jvmarg line=&quot;${endorsed.classpath.cmd.line.arg}&quot;/&gt;
 799                     &lt;jvmarg value=&quot;-Dfile.encoding=${runtime.encoding}&quot;/&gt;
 800                     &lt;redirector errorencoding=&quot;${runtime.encoding}&quot; inputencoding=&quot;${runtime.encoding}&quot; outputencoding=&quot;${runtime.encoding}&quot;/&gt;
 801                     &lt;jvmarg line=&quot;${run.jvmargs}&quot;/&gt;
 802                     &lt;jvmarg line=&quot;${run.jvmargs.ide}&quot;/&gt;
 803                     &lt;classpath&gt;
 804                         &lt;path path=&quot;@{classpath}&quot;/&gt;
 805                     &lt;/classpath&gt;
 806                     &lt;syspropertyset&gt;
 807                         &lt;propertyref prefix=&quot;run-sys-prop.&quot;/&gt;
 808                         &lt;mapper from=&quot;run-sys-prop.*&quot; to=&quot;*&quot; type=&quot;glob&quot;/&gt;
 809                     &lt;/syspropertyset&gt;
 810                     &lt;customize/&gt;
 811                 &lt;/java&gt;
 812             &lt;/sequential&gt;
 813         &lt;/macrodef&gt;
 814     &lt;/target&gt;
 815     &lt;target name=&quot;-init-macrodef-copylibs&quot;&gt;
 816         &lt;macrodef name=&quot;copylibs&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/3&quot;&gt;
 817             &lt;attribute default=&quot;${manifest.file}&quot; name=&quot;manifest&quot;/&gt;
 818             &lt;element name=&quot;customize&quot; optional=&quot;true&quot;/&gt;
 819             &lt;sequential&gt;
 820                 &lt;property location=&quot;${build.classes.dir}&quot; name=&quot;build.classes.dir.resolved&quot;/&gt;
 821                 &lt;pathconvert property=&quot;run.classpath.without.build.classes.dir&quot;&gt;
 822                     &lt;path path=&quot;${run.classpath}&quot;/&gt;
 823                     &lt;map from=&quot;${build.classes.dir.resolved}&quot; to=&quot;&quot;/&gt;
 824                 &lt;/pathconvert&gt;
 825                 &lt;pathconvert pathsep=&quot; &quot; property=&quot;jar.classpath&quot;&gt;
 826                     &lt;path path=&quot;${run.classpath.without.build.classes.dir}&quot;/&gt;
 827                     &lt;chainedmapper&gt;
 828                         &lt;flattenmapper/&gt;
 829                         &lt;filtermapper&gt;
 830                             &lt;replacestring from=&quot; &quot; to=&quot;%20&quot;/&gt;
 831                         &lt;/filtermapper&gt;
 832                         &lt;globmapper from=&quot;*&quot; to=&quot;lib/*&quot;/&gt;
 833                     &lt;/chainedmapper&gt;
 834                 &lt;/pathconvert&gt;
 835                 &lt;taskdef classname=&quot;org.netbeans.modules.java.j2seproject.copylibstask.CopyLibs&quot; classpath=&quot;${libs.CopyLibs.classpath}&quot; name=&quot;copylibs&quot;/&gt;
 836                 &lt;copylibs compress=&quot;${jar.compress}&quot; excludeFromCopy=&quot;${copylibs.excludes}&quot; index=&quot;${jar.index}&quot; indexMetaInf=&quot;${jar.index.metainf}&quot; jarfile=&quot;${dist.jar}&quot; manifest=&quot;@{manifest}&quot; rebase=&quot;${copylibs.rebase}&quot; runtimeclasspath=&quot;${run.classpath.without.build.classes.dir}&quot;&gt;
 837                     &lt;fileset dir=&quot;${build.classes.dir}&quot; excludes=&quot;${dist.archive.excludes}&quot;/&gt;
 838                     &lt;manifest&gt;
 839                         &lt;attribute name=&quot;Class-Path&quot; value=&quot;${jar.classpath}&quot;/&gt;
 840                         &lt;customize/&gt;
 841                     &lt;/manifest&gt;
 842                 &lt;/copylibs&gt;
 843             &lt;/sequential&gt;
 844         &lt;/macrodef&gt;
 845     &lt;/target&gt;
 846     &lt;target name=&quot;-init-presetdef-jar&quot;&gt;
 847         &lt;presetdef name=&quot;jar&quot; uri=&quot;http://www.netbeans.org/ns/j2se-project/1&quot;&gt;
 848             &lt;jar compress=&quot;${jar.compress}&quot; index=&quot;${jar.index}&quot; jarfile=&quot;${dist.jar}&quot;&gt;
 849                 &lt;j2seproject1:fileset dir=&quot;${build.classes.dir}&quot; excludes=&quot;${dist.archive.excludes}&quot;/&gt;
 850             &lt;/jar&gt;
 851         &lt;/presetdef&gt;
 852     &lt;/target&gt;
 853     &lt;target name=&quot;-init-ap-cmdline-properties&quot;&gt;
 854         &lt;property name=&quot;annotation.processing.enabled&quot; value=&quot;true&quot;/&gt;
 855         &lt;property name=&quot;annotation.processing.processors.list&quot; value=&quot;&quot;/&gt;
 856         &lt;property name=&quot;annotation.processing.processor.options&quot; value=&quot;&quot;/&gt;
 857         &lt;property name=&quot;annotation.processing.run.all.processors&quot; value=&quot;true&quot;/&gt;
 858         &lt;property name=&quot;javac.processorpath&quot; value=&quot;${javac.classpath}&quot;/&gt;
 859         &lt;property name=&quot;javac.test.processorpath&quot; value=&quot;${javac.test.classpath}&quot;/&gt;
 860         &lt;condition property=&quot;ap.supported.internal&quot; value=&quot;true&quot;&gt;
 861             &lt;not&gt;
 862                 &lt;matches pattern=&quot;1\.[0-5](\..*)?&quot; string=&quot;${javac.source}&quot;/&gt;
 863             &lt;/not&gt;
 864         &lt;/condition&gt;
 865     &lt;/target&gt;
 866     &lt;target depends=&quot;-init-ap-cmdline-properties&quot; if=&quot;ap.supported.internal&quot; name=&quot;-init-ap-cmdline-supported&quot;&gt;
 867         &lt;condition else=&quot;&quot; property=&quot;ap.processors.internal&quot; value=&quot;-processor ${annotation.processing.processors.list}&quot;&gt;
 868             &lt;isfalse value=&quot;${annotation.processing.run.all.processors}&quot;/&gt;
 869         &lt;/condition&gt;
 870         &lt;condition else=&quot;&quot; property=&quot;ap.proc.none.internal&quot; value=&quot;-proc:none&quot;&gt;
 871             &lt;isfalse value=&quot;${annotation.processing.enabled}&quot;/&gt;
 872         &lt;/condition&gt;
 873     &lt;/target&gt;
 874     &lt;target depends=&quot;-init-ap-cmdline-properties,-init-ap-cmdline-supported&quot; name=&quot;-init-ap-cmdline&quot;&gt;
 875         &lt;property name=&quot;ap.cmd.line.internal&quot; value=&quot;&quot;/&gt;
 876     &lt;/target&gt;
 877     &lt;target depends=&quot;-pre-init,-init-private,-init-user,-init-project,-do-init,-post-init,-init-check,-init-macrodef-property,-init-macrodef-javac,-init-macrodef-test,-init-macrodef-test-debug,-init-macrodef-nbjpda,-init-macrodef-debug,-init-macrodef-java,-init-presetdef-jar,-init-ap-cmdline&quot; name=&quot;init&quot;/&gt;
 878     &lt;!--
 879                 ===================
 880                 COMPILATION SECTION
 881                 ===================
 882             --&gt;
 883     &lt;target name=&quot;-deps-jar-init&quot; unless=&quot;built-jar.properties&quot;&gt;
 884         &lt;property location=&quot;${build.dir}/built-jar.properties&quot; name=&quot;built-jar.properties&quot;/&gt;
 885         &lt;delete file=&quot;${built-jar.properties}&quot; quiet=&quot;true&quot;/&gt;
 886     &lt;/target&gt;
 887     &lt;target if=&quot;already.built.jar.${basedir}&quot; name=&quot;-warn-already-built-jar&quot;&gt;
 888         &lt;echo level=&quot;warn&quot; message=&quot;Cycle detected: SanityTests was already built&quot;/&gt;
 889     &lt;/target&gt;
 890     &lt;target depends=&quot;init,-deps-jar-init&quot; name=&quot;deps-jar&quot; unless=&quot;no.deps&quot;&gt;
 891         &lt;mkdir dir=&quot;${build.dir}&quot;/&gt;
 892         &lt;touch file=&quot;${built-jar.properties}&quot; verbose=&quot;false&quot;/&gt;
 893         &lt;property file=&quot;${built-jar.properties}&quot; prefix=&quot;already.built.jar.&quot;/&gt;
 894         &lt;antcall target=&quot;-warn-already-built-jar&quot;/&gt;
 895         &lt;propertyfile file=&quot;${built-jar.properties}&quot;&gt;
 896             &lt;entry key=&quot;${basedir}&quot; value=&quot;&quot;/&gt;
 897         &lt;/propertyfile&gt;
 898     &lt;/target&gt;
 899     &lt;target depends=&quot;init,-check-automatic-build,-clean-after-automatic-build&quot; name=&quot;-verify-automatic-build&quot;/&gt;
 900     &lt;target depends=&quot;init&quot; name=&quot;-check-automatic-build&quot;&gt;
 901         &lt;available file=&quot;${build.classes.dir}/.netbeans_automatic_build&quot; property=&quot;netbeans.automatic.build&quot;/&gt;
 902     &lt;/target&gt;
 903     &lt;target depends=&quot;init&quot; if=&quot;netbeans.automatic.build&quot; name=&quot;-clean-after-automatic-build&quot;&gt;
 904         &lt;antcall target=&quot;clean&quot;/&gt;
 905     &lt;/target&gt;
 906     &lt;target depends=&quot;init,deps-jar&quot; name=&quot;-pre-pre-compile&quot;&gt;
 907         &lt;mkdir dir=&quot;${build.classes.dir}&quot;/&gt;
 908     &lt;/target&gt;
 909     &lt;target name=&quot;-pre-compile&quot;&gt;
 910         &lt;!-- Empty placeholder for easier customization. --&gt;
 911         &lt;!-- You can override this target in the ../build.xml file. --&gt;
 912     &lt;/target&gt;
 913     &lt;target if=&quot;do.depend.true&quot; name=&quot;-compile-depend&quot;&gt;
 914         &lt;pathconvert property=&quot;build.generated.subdirs&quot;&gt;
 915             &lt;dirset dir=&quot;${build.generated.sources.dir}&quot; erroronmissingdir=&quot;false&quot;&gt;
 916                 &lt;include name=&quot;*&quot;/&gt;
 917             &lt;/dirset&gt;
 918         &lt;/pathconvert&gt;
 919         &lt;j2seproject3:depend srcdir=&quot;${src.src3.dir}:${src.src4.dir}:${src.src2.dir}:${src.src.dir}:${build.generated.subdirs}&quot;/&gt;
 920     &lt;/target&gt;
 921     &lt;target depends=&quot;init,deps-jar,-pre-pre-compile,-pre-compile, -copy-persistence-xml,-compile-depend&quot; if=&quot;have.sources&quot; name=&quot;-do-compile&quot;&gt;
 922         &lt;j2seproject3:javac gensrcdir=&quot;${build.generated.sources.dir}&quot;/&gt;
 923         &lt;copy todir=&quot;${build.classes.dir}&quot;&gt;
 924             &lt;fileset dir=&quot;${src.src3.dir}&quot; excludes=&quot;${build.classes.excludes},${excludes}&quot; includes=&quot;${includes}&quot;/&gt;
 925             &lt;fileset dir=&quot;${src.src4.dir}&quot; excludes=&quot;${build.classes.excludes},${excludes}&quot; includes=&quot;${includes}&quot;/&gt;
 926             &lt;fileset dir=&quot;${src.src2.dir}&quot; excludes=&quot;${build.classes.excludes},${excludes}&quot; includes=&quot;${includes}&quot;/&gt;
 927             &lt;fileset dir=&quot;${src.src.dir}&quot; excludes=&quot;${build.classes.excludes},${excludes}&quot; includes=&quot;${includes}&quot;/&gt;
 928         &lt;/copy&gt;
 929     &lt;/target&gt;
 930     &lt;target if=&quot;has.persistence.xml&quot; name=&quot;-copy-persistence-xml&quot;&gt;
 931         &lt;mkdir dir=&quot;${build.classes.dir}/META-INF&quot;/&gt;
 932         &lt;copy todir=&quot;${build.classes.dir}/META-INF&quot;&gt;
 933             &lt;fileset dir=&quot;${meta.inf.dir}&quot; includes=&quot;persistence.xml orm.xml&quot;/&gt;
 934         &lt;/copy&gt;
 935     &lt;/target&gt;
 936     &lt;target name=&quot;-post-compile&quot;&gt;
 937         &lt;!-- Empty placeholder for easier customization. --&gt;
 938         &lt;!-- You can override this target in the ../build.xml file. --&gt;
 939     &lt;/target&gt;
 940     &lt;target depends=&quot;init,deps-jar,-verify-automatic-build,-pre-pre-compile,-pre-compile,-do-compile,-post-compile&quot; description=&quot;Compile project.&quot; name=&quot;compile&quot;/&gt;
 941     &lt;target name=&quot;-pre-compile-single&quot;&gt;
 942         &lt;!-- Empty placeholder for easier customization. --&gt;
 943         &lt;!-- You can override this target in the ../build.xml file. --&gt;
 944     &lt;/target&gt;
 945     &lt;target depends=&quot;init,deps-jar,-pre-pre-compile&quot; name=&quot;-do-compile-single&quot;&gt;
 946         &lt;fail unless=&quot;javac.includes&quot;&gt;Must select some files in the IDE or set javac.includes&lt;/fail&gt;
 947         &lt;j2seproject3:force-recompile/&gt;
 948         &lt;j2seproject3:javac excludes=&quot;&quot; gensrcdir=&quot;${build.generated.sources.dir}&quot; includes=&quot;${javac.includes}&quot; sourcepath=&quot;${src.src3.dir}:${src.src4.dir}:${src.src2.dir}:${src.src.dir}&quot;/&gt;
 949     &lt;/target&gt;
 950     &lt;target name=&quot;-post-compile-single&quot;&gt;
 951         &lt;!-- Empty placeholder for easier customization. --&gt;
 952         &lt;!-- You can override this target in the ../build.xml file. --&gt;
 953     &lt;/target&gt;
 954     &lt;target depends=&quot;init,deps-jar,-verify-automatic-build,-pre-pre-compile,-pre-compile-single,-do-compile-single,-post-compile-single&quot; name=&quot;compile-single&quot;/&gt;
 955     &lt;!--
 956                 ====================
 957                 JAR BUILDING SECTION
 958                 ====================
 959             --&gt;
 960     &lt;target depends=&quot;init&quot; name=&quot;-pre-pre-jar&quot;&gt;
 961         &lt;dirname file=&quot;${dist.jar}&quot; property=&quot;dist.jar.dir&quot;/&gt;
 962         &lt;mkdir dir=&quot;${dist.jar.dir}&quot;/&gt;
 963     &lt;/target&gt;
 964     &lt;target name=&quot;-pre-jar&quot;&gt;
 965         &lt;!-- Empty placeholder for easier customization. --&gt;
 966         &lt;!-- You can override this target in the ../build.xml file. --&gt;
 967     &lt;/target&gt;
 968     &lt;target depends=&quot;init&quot; if=&quot;do.archive&quot; name=&quot;-do-jar-create-manifest&quot; unless=&quot;manifest.available&quot;&gt;
 969         &lt;tempfile deleteonexit=&quot;true&quot; destdir=&quot;${build.dir}&quot; property=&quot;tmp.manifest.file&quot;/&gt;
 970         &lt;touch file=&quot;${tmp.manifest.file}&quot; verbose=&quot;false&quot;/&gt;
 971     &lt;/target&gt;
 972     &lt;target depends=&quot;init&quot; if=&quot;do.archive+manifest.available&quot; name=&quot;-do-jar-copy-manifest&quot;&gt;
 973         &lt;tempfile deleteonexit=&quot;true&quot; destdir=&quot;${build.dir}&quot; property=&quot;tmp.manifest.file&quot;/&gt;
 974         &lt;copy file=&quot;${manifest.file}&quot; tofile=&quot;${tmp.manifest.file}&quot;/&gt;
 975     &lt;/target&gt;
 976     &lt;target depends=&quot;init,-do-jar-create-manifest,-do-jar-copy-manifest&quot; if=&quot;do.archive+main.class.available&quot; name=&quot;-do-jar-set-mainclass&quot;&gt;
 977         &lt;manifest file=&quot;${tmp.manifest.file}&quot; mode=&quot;update&quot;&gt;
 978             &lt;attribute name=&quot;Main-Class&quot; value=&quot;${main.class}&quot;/&gt;
 979         &lt;/manifest&gt;
 980     &lt;/target&gt;
 981     &lt;target depends=&quot;init,-do-jar-create-manifest,-do-jar-copy-manifest&quot; if=&quot;do.archive+profile.available&quot; name=&quot;-do-jar-set-profile&quot;&gt;
 982         &lt;manifest file=&quot;${tmp.manifest.file}&quot; mode=&quot;update&quot;&gt;
 983             &lt;attribute name=&quot;Profile&quot; value=&quot;${javac.profile}&quot;/&gt;
 984         &lt;/manifest&gt;
 985     &lt;/target&gt;
 986     &lt;target depends=&quot;init,-do-jar-create-manifest,-do-jar-copy-manifest&quot; if=&quot;do.archive+splashscreen.available&quot; name=&quot;-do-jar-set-splashscreen&quot;&gt;
 987         &lt;basename file=&quot;${application.splash}&quot; property=&quot;splashscreen.basename&quot;/&gt;
 988         &lt;mkdir dir=&quot;${build.classes.dir}/META-INF&quot;/&gt;
 989         &lt;copy failonerror=&quot;false&quot; file=&quot;${application.splash}&quot; todir=&quot;${build.classes.dir}/META-INF&quot;/&gt;
 990         &lt;manifest file=&quot;${tmp.manifest.file}&quot; mode=&quot;update&quot;&gt;
 991             &lt;attribute name=&quot;SplashScreen-Image&quot; value=&quot;META-INF/${splashscreen.basename}&quot;/&gt;
 992         &lt;/manifest&gt;
 993     &lt;/target&gt;
 994     &lt;target depends=&quot;init,-init-macrodef-copylibs,compile,-pre-pre-jar,-pre-jar,-do-jar-create-manifest,-do-jar-copy-manifest,-do-jar-set-mainclass,-do-jar-set-profile,-do-jar-set-splashscreen&quot; if=&quot;do.mkdist&quot; name=&quot;-do-jar-copylibs&quot;&gt;
 995         &lt;j2seproject3:copylibs manifest=&quot;${tmp.manifest.file}&quot;/&gt;
 996         &lt;echo level=&quot;info&quot;&gt;To run this application from the command line without Ant, try:&lt;/echo&gt;
 997         &lt;property location=&quot;${dist.jar}&quot; name=&quot;dist.jar.resolved&quot;/&gt;
 998         &lt;echo level=&quot;info&quot;&gt;java -jar &quot;${dist.jar.resolved}&quot;&lt;/echo&gt;
 999     &lt;/target&gt;
1000     &lt;target depends=&quot;init,compile,-pre-pre-jar,-pre-jar,-do-jar-create-manifest,-do-jar-copy-manifest,-do-jar-set-mainclass,-do-jar-set-profile,-do-jar-set-splashscreen&quot; if=&quot;do.archive&quot; name=&quot;-do-jar-jar&quot; unless=&quot;do.mkdist&quot;&gt;
1001         &lt;j2seproject1:jar manifest=&quot;${tmp.manifest.file}&quot;/&gt;
1002         &lt;property location=&quot;${build.classes.dir}&quot; name=&quot;build.classes.dir.resolved&quot;/&gt;
1003         &lt;property location=&quot;${dist.jar}&quot; name=&quot;dist.jar.resolved&quot;/&gt;
1004         &lt;pathconvert property=&quot;run.classpath.with.dist.jar&quot;&gt;
1005             &lt;path path=&quot;${run.classpath}&quot;/&gt;
1006             &lt;map from=&quot;${build.classes.dir.resolved}&quot; to=&quot;${dist.jar.resolved}&quot;/&gt;
1007         &lt;/pathconvert&gt;
1008         &lt;condition else=&quot;&quot; property=&quot;jar.usage.message&quot; value=&quot;To run this application from the command line without Ant, try:${line.separator}${platform.java} -cp ${run.classpath.with.dist.jar} ${main.class}&quot;&gt;
1009             &lt;isset property=&quot;main.class.available&quot;/&gt;
1010         &lt;/condition&gt;
1011         &lt;condition else=&quot;debug&quot; property=&quot;jar.usage.level&quot; value=&quot;info&quot;&gt;
1012             &lt;isset property=&quot;main.class.available&quot;/&gt;
1013         &lt;/condition&gt;
1014         &lt;echo level=&quot;${jar.usage.level}&quot; message=&quot;${jar.usage.message}&quot;/&gt;
1015     &lt;/target&gt;
1016     &lt;target depends=&quot;-do-jar-copylibs&quot; if=&quot;do.archive&quot; name=&quot;-do-jar-delete-manifest&quot;&gt;
1017         &lt;delete&gt;
1018             &lt;fileset file=&quot;${tmp.manifest.file}&quot;/&gt;
1019         &lt;/delete&gt;
1020     &lt;/target&gt;
1021     &lt;target depends=&quot;init,compile,-pre-pre-jar,-pre-jar,-do-jar-create-manifest,-do-jar-copy-manifest,-do-jar-set-mainclass,-do-jar-set-profile,-do-jar-set-splashscreen,-do-jar-jar,-do-jar-delete-manifest&quot; name=&quot;-do-jar-without-libraries&quot;/&gt;
1022     &lt;target depends=&quot;init,compile,-pre-pre-jar,-pre-jar,-do-jar-create-manifest,-do-jar-copy-manifest,-do-jar-set-mainclass,-do-jar-set-profile,-do-jar-set-splashscreen,-do-jar-copylibs,-do-jar-delete-manifest&quot; name=&quot;-do-jar-with-libraries&quot;/&gt;
1023     &lt;target name=&quot;-post-jar&quot;&gt;
1024         &lt;!-- Empty placeholder for easier customization. --&gt;
1025         &lt;!-- You can override this target in the ../build.xml file. --&gt;
1026     &lt;/target&gt;
1027     &lt;target depends=&quot;init,compile,-pre-jar,-do-jar-without-libraries,-do-jar-with-libraries,-post-jar&quot; name=&quot;-do-jar&quot;/&gt;
1028     &lt;target depends=&quot;init,compile,-pre-jar,-do-jar,-post-jar&quot; description=&quot;Build JAR.&quot; name=&quot;jar&quot;/&gt;
1029     &lt;!--
1030                 =================
1031                 EXECUTION SECTION
1032                 =================
1033             --&gt;
1034     &lt;target depends=&quot;init,compile&quot; description=&quot;Run a main class.&quot; name=&quot;run&quot;&gt;
1035         &lt;j2seproject1:java&gt;
1036             &lt;customize&gt;
1037                 &lt;arg line=&quot;${application.args}&quot;/&gt;
1038             &lt;/customize&gt;
1039         &lt;/j2seproject1:java&gt;
1040     &lt;/target&gt;
1041     &lt;target name=&quot;-do-not-recompile&quot;&gt;
1042         &lt;property name=&quot;javac.includes.binary&quot; value=&quot;&quot;/&gt;
1043     &lt;/target&gt;
1044     &lt;target depends=&quot;init,compile-single&quot; name=&quot;run-single&quot;&gt;
1045         &lt;fail unless=&quot;run.class&quot;&gt;Must select one file in the IDE or set run.class&lt;/fail&gt;
1046         &lt;j2seproject1:java classname=&quot;${run.class}&quot;/&gt;
1047     &lt;/target&gt;
1048     &lt;target depends=&quot;init,compile-test-single&quot; name=&quot;run-test-with-main&quot;&gt;
1049         &lt;fail unless=&quot;run.class&quot;&gt;Must select one file in the IDE or set run.class&lt;/fail&gt;
1050         &lt;j2seproject1:java classname=&quot;${run.class}&quot; classpath=&quot;${run.test.classpath}&quot;/&gt;
1051     &lt;/target&gt;
1052     &lt;!--
1053                 =================
1054                 DEBUGGING SECTION
1055                 =================
1056             --&gt;
1057     &lt;target depends=&quot;init&quot; if=&quot;netbeans.home&quot; name=&quot;-debug-start-debugger&quot;&gt;
1058         &lt;j2seproject1:nbjpdastart name=&quot;${debug.class}&quot;/&gt;
1059     &lt;/target&gt;
1060     &lt;target depends=&quot;init&quot; if=&quot;netbeans.home&quot; name=&quot;-debug-start-debugger-main-test&quot;&gt;
1061         &lt;j2seproject1:nbjpdastart classpath=&quot;${debug.test.classpath}&quot; name=&quot;${debug.class}&quot;/&gt;
1062     &lt;/target&gt;
1063     &lt;target depends=&quot;init,compile&quot; name=&quot;-debug-start-debuggee&quot;&gt;
1064         &lt;j2seproject3:debug&gt;
1065             &lt;customize&gt;
1066                 &lt;arg line=&quot;${application.args}&quot;/&gt;
1067             &lt;/customize&gt;
1068         &lt;/j2seproject3:debug&gt;
1069     &lt;/target&gt;
1070     &lt;target depends=&quot;init,compile,-debug-start-debugger,-debug-start-debuggee&quot; description=&quot;Debug project in IDE.&quot; if=&quot;netbeans.home&quot; name=&quot;debug&quot;/&gt;
1071     &lt;target depends=&quot;init&quot; if=&quot;netbeans.home&quot; name=&quot;-debug-start-debugger-stepinto&quot;&gt;
1072         &lt;j2seproject1:nbjpdastart stopclassname=&quot;${main.class}&quot;/&gt;
1073     &lt;/target&gt;
1074     &lt;target depends=&quot;init,compile,-debug-start-debugger-stepinto,-debug-start-debuggee&quot; if=&quot;netbeans.home&quot; name=&quot;debug-stepinto&quot;/&gt;
1075     &lt;target depends=&quot;init,compile-single&quot; if=&quot;netbeans.home&quot; name=&quot;-debug-start-debuggee-single&quot;&gt;
1076         &lt;fail unless=&quot;debug.class&quot;&gt;Must select one file in the IDE or set debug.class&lt;/fail&gt;
1077         &lt;j2seproject3:debug classname=&quot;${debug.class}&quot;/&gt;
1078     &lt;/target&gt;
1079     &lt;target depends=&quot;init,compile-single,-debug-start-debugger,-debug-start-debuggee-single&quot; if=&quot;netbeans.home&quot; name=&quot;debug-single&quot;/&gt;
1080     &lt;target depends=&quot;init,compile-test-single&quot; if=&quot;netbeans.home&quot; name=&quot;-debug-start-debuggee-main-test&quot;&gt;
1081         &lt;fail unless=&quot;debug.class&quot;&gt;Must select one file in the IDE or set debug.class&lt;/fail&gt;
1082         &lt;j2seproject3:debug classname=&quot;${debug.class}&quot; classpath=&quot;${debug.test.classpath}&quot;/&gt;
1083     &lt;/target&gt;
1084     &lt;target depends=&quot;init,compile-test-single,-debug-start-debugger-main-test,-debug-start-debuggee-main-test&quot; if=&quot;netbeans.home&quot; name=&quot;debug-test-with-main&quot;/&gt;
1085     &lt;target depends=&quot;init&quot; name=&quot;-pre-debug-fix&quot;&gt;
1086         &lt;fail unless=&quot;fix.includes&quot;&gt;Must set fix.includes&lt;/fail&gt;
1087         &lt;property name=&quot;javac.includes&quot; value=&quot;${fix.includes}.java&quot;/&gt;
1088     &lt;/target&gt;
1089     &lt;target depends=&quot;init,-pre-debug-fix,compile-single&quot; if=&quot;netbeans.home&quot; name=&quot;-do-debug-fix&quot;&gt;
1090         &lt;j2seproject1:nbjpdareload/&gt;
1091     &lt;/target&gt;
1092     &lt;target depends=&quot;init,-pre-debug-fix,-do-debug-fix&quot; if=&quot;netbeans.home&quot; name=&quot;debug-fix&quot;/&gt;
1093     &lt;!--
1094                 =================
1095                 PROFILING SECTION
1096                 =================
1097             --&gt;
1098     &lt;!--
1099                 pre NB7.2 profiler integration
1100             --&gt;
1101     &lt;target depends=&quot;profile-init,compile&quot; description=&quot;Profile a project in the IDE.&quot; if=&quot;profiler.info.jvmargs.agent&quot; name=&quot;-profile-pre72&quot;&gt;
1102         &lt;fail unless=&quot;netbeans.home&quot;&gt;This target only works when run from inside the NetBeans IDE.&lt;/fail&gt;
1103         &lt;nbprofiledirect&gt;
1104             &lt;classpath&gt;
1105                 &lt;path path=&quot;${run.classpath}&quot;/&gt;
1106             &lt;/classpath&gt;
1107         &lt;/nbprofiledirect&gt;
1108         &lt;profile/&gt;
1109     &lt;/target&gt;
1110     &lt;target depends=&quot;profile-init,compile-single&quot; description=&quot;Profile a selected class in the IDE.&quot; if=&quot;profiler.info.jvmargs.agent&quot; name=&quot;-profile-single-pre72&quot;&gt;
1111         &lt;fail unless=&quot;profile.class&quot;&gt;Must select one file in the IDE or set profile.class&lt;/fail&gt;
1112         &lt;fail unless=&quot;netbeans.home&quot;&gt;This target only works when run from inside the NetBeans IDE.&lt;/fail&gt;
1113         &lt;nbprofiledirect&gt;
1114             &lt;classpath&gt;
1115                 &lt;path path=&quot;${run.classpath}&quot;/&gt;
1116             &lt;/classpath&gt;
1117         &lt;/nbprofiledirect&gt;
1118         &lt;profile classname=&quot;${profile.class}&quot;/&gt;
1119     &lt;/target&gt;
1120     &lt;target depends=&quot;profile-init,compile-single&quot; if=&quot;profiler.info.jvmargs.agent&quot; name=&quot;-profile-applet-pre72&quot;&gt;
1121         &lt;fail unless=&quot;netbeans.home&quot;&gt;This target only works when run from inside the NetBeans IDE.&lt;/fail&gt;
1122         &lt;nbprofiledirect&gt;
1123             &lt;classpath&gt;
1124                 &lt;path path=&quot;${run.classpath}&quot;/&gt;
1125             &lt;/classpath&gt;
1126         &lt;/nbprofiledirect&gt;
1127         &lt;profile classname=&quot;sun.applet.AppletViewer&quot;&gt;
1128             &lt;customize&gt;
1129                 &lt;arg value=&quot;${applet.url}&quot;/&gt;
1130             &lt;/customize&gt;
1131         &lt;/profile&gt;
1132     &lt;/target&gt;
1133     &lt;target depends=&quot;profile-init,compile-test-single&quot; if=&quot;profiler.info.jvmargs.agent&quot; name=&quot;-profile-test-single-pre72&quot;&gt;
1134         &lt;fail unless=&quot;netbeans.home&quot;&gt;This target only works when run from inside the NetBeans IDE.&lt;/fail&gt;
1135         &lt;nbprofiledirect&gt;
1136             &lt;classpath&gt;
1137                 &lt;path path=&quot;${run.test.classpath}&quot;/&gt;
1138             &lt;/classpath&gt;
1139         &lt;/nbprofiledirect&gt;
1140         &lt;junit dir=&quot;${profiler.info.dir}&quot; errorproperty=&quot;tests.failed&quot; failureproperty=&quot;tests.failed&quot; fork=&quot;true&quot; jvm=&quot;${profiler.info.jvm}&quot; showoutput=&quot;true&quot;&gt;
1141             &lt;env key=&quot;${profiler.info.pathvar}&quot; path=&quot;${profiler.info.agentpath}:${profiler.current.path}&quot;/&gt;
1142             &lt;jvmarg value=&quot;${profiler.info.jvmargs.agent}&quot;/&gt;
1143             &lt;jvmarg line=&quot;${profiler.info.jvmargs}&quot;/&gt;
1144             &lt;test name=&quot;${profile.class}&quot;/&gt;
1145             &lt;classpath&gt;
1146                 &lt;path path=&quot;${run.test.classpath}&quot;/&gt;
1147             &lt;/classpath&gt;
1148             &lt;syspropertyset&gt;
1149                 &lt;propertyref prefix=&quot;test-sys-prop.&quot;/&gt;
1150                 &lt;mapper from=&quot;test-sys-prop.*&quot; to=&quot;*&quot; type=&quot;glob&quot;/&gt;
1151             &lt;/syspropertyset&gt;
1152             &lt;formatter type=&quot;brief&quot; usefile=&quot;false&quot;/&gt;
1153             &lt;formatter type=&quot;xml&quot;/&gt;
1154         &lt;/junit&gt;
1155     &lt;/target&gt;
1156     &lt;!--
1157                 end of pre NB72 profiling section
1158             --&gt;
1159     &lt;target if=&quot;netbeans.home&quot; name=&quot;-profile-check&quot;&gt;
1160         &lt;condition property=&quot;profiler.configured&quot;&gt;
1161             &lt;or&gt;
1162                 &lt;contains casesensitive=&quot;true&quot; string=&quot;${run.jvmargs.ide}&quot; substring=&quot;-agentpath:&quot;/&gt;
1163                 &lt;contains casesensitive=&quot;true&quot; string=&quot;${run.jvmargs.ide}&quot; substring=&quot;-javaagent:&quot;/&gt;
1164             &lt;/or&gt;
1165         &lt;/condition&gt;
1166     &lt;/target&gt;
1167     &lt;target depends=&quot;-profile-check,-profile-pre72&quot; description=&quot;Profile a project in the IDE.&quot; if=&quot;profiler.configured&quot; name=&quot;profile&quot; unless=&quot;profiler.info.jvmargs.agent&quot;&gt;
1168         &lt;startprofiler/&gt;
1169         &lt;antcall target=&quot;run&quot;/&gt;
1170     &lt;/target&gt;
1171     &lt;target depends=&quot;-profile-check,-profile-single-pre72&quot; description=&quot;Profile a selected class in the IDE.&quot; if=&quot;profiler.configured&quot; name=&quot;profile-single&quot; unless=&quot;profiler.info.jvmargs.agent&quot;&gt;
1172         &lt;fail unless=&quot;run.class&quot;&gt;Must select one file in the IDE or set run.class&lt;/fail&gt;
1173         &lt;startprofiler/&gt;
1174         &lt;antcall target=&quot;run-single&quot;/&gt;
1175     &lt;/target&gt;
1176     &lt;target depends=&quot;-profile-test-single-pre72&quot; description=&quot;Profile a selected test in the IDE.&quot; name=&quot;profile-test-single&quot;/&gt;
1177     &lt;target depends=&quot;-profile-check&quot; description=&quot;Profile a selected test in the IDE.&quot; if=&quot;profiler.configured&quot; name=&quot;profile-test&quot; unless=&quot;profiler.info.jvmargs&quot;&gt;
1178         &lt;fail unless=&quot;test.includes&quot;&gt;Must select some files in the IDE or set test.includes&lt;/fail&gt;
1179         &lt;startprofiler/&gt;
1180         &lt;antcall target=&quot;test-single&quot;/&gt;
1181     &lt;/target&gt;
1182     &lt;target depends=&quot;-profile-check&quot; description=&quot;Profile a selected class in the IDE.&quot; if=&quot;profiler.configured&quot; name=&quot;profile-test-with-main&quot;&gt;
1183         &lt;fail unless=&quot;run.class&quot;&gt;Must select one file in the IDE or set run.class&lt;/fail&gt;
1184         &lt;startprofiler/&gt;
1185         &lt;antcal target=&quot;run-test-with-main&quot;/&gt;
1186     &lt;/target&gt;
1187     &lt;target depends=&quot;-profile-check,-profile-applet-pre72&quot; if=&quot;profiler.configured&quot; name=&quot;profile-applet&quot; unless=&quot;profiler.info.jvmargs.agent&quot;&gt;
1188         &lt;fail unless=&quot;applet.url&quot;&gt;Must select one file in the IDE or set applet.url&lt;/fail&gt;
1189         &lt;startprofiler/&gt;
1190         &lt;antcall target=&quot;run-applet&quot;/&gt;
1191     &lt;/target&gt;
1192     &lt;!--
1193                 ===============
1194                 JAVADOC SECTION
1195                 ===============
1196             --&gt;
1197     &lt;target depends=&quot;init&quot; if=&quot;have.sources&quot; name=&quot;-javadoc-build&quot;&gt;
1198         &lt;mkdir dir=&quot;${dist.javadoc.dir}&quot;/&gt;
1199         &lt;condition else=&quot;&quot; property=&quot;javadoc.endorsed.classpath.cmd.line.arg&quot; value=&quot;-J${endorsed.classpath.cmd.line.arg}&quot;&gt;
1200             &lt;and&gt;
1201                 &lt;isset property=&quot;endorsed.classpath.cmd.line.arg&quot;/&gt;
1202                 &lt;not&gt;
1203                     &lt;equals arg1=&quot;${endorsed.classpath.cmd.line.arg}&quot; arg2=&quot;&quot;/&gt;
1204                 &lt;/not&gt;
1205             &lt;/and&gt;
1206         &lt;/condition&gt;
1207         &lt;condition else=&quot;&quot; property=&quot;bug5101868workaround&quot; value=&quot;*.java&quot;&gt;
1208             &lt;matches pattern=&quot;1\.[56](\..*)?&quot; string=&quot;${java.version}&quot;/&gt;
1209         &lt;/condition&gt;
1210         &lt;javadoc additionalparam=&quot;-J-Dfile.encoding=${file.encoding} ${javadoc.additionalparam}&quot; author=&quot;${javadoc.author}&quot; charset=&quot;UTF-8&quot; destdir=&quot;${dist.javadoc.dir}&quot; docencoding=&quot;UTF-8&quot; encoding=&quot;${javadoc.encoding.used}&quot; failonerror=&quot;true&quot; noindex=&quot;${javadoc.noindex}&quot; nonavbar=&quot;${javadoc.nonavbar}&quot; notree=&quot;${javadoc.notree}&quot; private=&quot;${javadoc.private}&quot; source=&quot;${javac.source}&quot; splitindex=&quot;${javadoc.splitindex}&quot; use=&quot;${javadoc.use}&quot; useexternalfile=&quot;true&quot; version=&quot;${javadoc.version}&quot; windowtitle=&quot;${javadoc.windowtitle}&quot;&gt;
1211             &lt;classpath&gt;
1212                 &lt;path path=&quot;${javac.classpath}&quot;/&gt;
1213             &lt;/classpath&gt;
1214             &lt;fileset dir=&quot;${src.src3.dir}&quot; excludes=&quot;${bug5101868workaround},${excludes}&quot; includes=&quot;${includes}&quot;&gt;
1215                 &lt;filename name=&quot;**/*.java&quot;/&gt;
1216             &lt;/fileset&gt;
1217             &lt;fileset dir=&quot;${src.src4.dir}&quot; excludes=&quot;${bug5101868workaround},${excludes}&quot; includes=&quot;${includes}&quot;&gt;
1218                 &lt;filename name=&quot;**/*.java&quot;/&gt;
1219             &lt;/fileset&gt;
1220             &lt;fileset dir=&quot;${src.src2.dir}&quot; excludes=&quot;${bug5101868workaround},${excludes}&quot; includes=&quot;${includes}&quot;&gt;
1221                 &lt;filename name=&quot;**/*.java&quot;/&gt;
1222             &lt;/fileset&gt;
1223             &lt;fileset dir=&quot;${src.src.dir}&quot; excludes=&quot;${bug5101868workaround},${excludes}&quot; includes=&quot;${includes}&quot;&gt;
1224                 &lt;filename name=&quot;**/*.java&quot;/&gt;
1225             &lt;/fileset&gt;
1226             &lt;fileset dir=&quot;${build.generated.sources.dir}&quot; erroronmissingdir=&quot;false&quot;&gt;
1227                 &lt;include name=&quot;**/*.java&quot;/&gt;
1228                 &lt;exclude name=&quot;*.java&quot;/&gt;
1229             &lt;/fileset&gt;
1230             &lt;arg line=&quot;${javadoc.endorsed.classpath.cmd.line.arg}&quot;/&gt;
1231         &lt;/javadoc&gt;
1232         &lt;copy todir=&quot;${dist.javadoc.dir}&quot;&gt;
1233             &lt;fileset dir=&quot;${src.src3.dir}&quot; excludes=&quot;${excludes}&quot; includes=&quot;${includes}&quot;&gt;
1234                 &lt;filename name=&quot;**/doc-files/**&quot;/&gt;
1235             &lt;/fileset&gt;
1236             &lt;fileset dir=&quot;${src.src4.dir}&quot; excludes=&quot;${excludes}&quot; includes=&quot;${includes}&quot;&gt;
1237                 &lt;filename name=&quot;**/doc-files/**&quot;/&gt;
1238             &lt;/fileset&gt;
1239             &lt;fileset dir=&quot;${src.src2.dir}&quot; excludes=&quot;${excludes}&quot; includes=&quot;${includes}&quot;&gt;
1240                 &lt;filename name=&quot;**/doc-files/**&quot;/&gt;
1241             &lt;/fileset&gt;
1242             &lt;fileset dir=&quot;${src.src.dir}&quot; excludes=&quot;${excludes}&quot; includes=&quot;${includes}&quot;&gt;
1243                 &lt;filename name=&quot;**/doc-files/**&quot;/&gt;
1244             &lt;/fileset&gt;
1245             &lt;fileset dir=&quot;${build.generated.sources.dir}&quot; erroronmissingdir=&quot;false&quot;&gt;
1246                 &lt;include name=&quot;**/doc-files/**&quot;/&gt;
1247             &lt;/fileset&gt;
1248         &lt;/copy&gt;
1249     &lt;/target&gt;
1250     &lt;target depends=&quot;init,-javadoc-build&quot; if=&quot;netbeans.home&quot; name=&quot;-javadoc-browse&quot; unless=&quot;no.javadoc.preview&quot;&gt;
1251         &lt;nbbrowse file=&quot;${dist.javadoc.dir}/index.html&quot;/&gt;
1252     &lt;/target&gt;
1253     &lt;target depends=&quot;init,-javadoc-build,-javadoc-browse&quot; description=&quot;Build Javadoc.&quot; name=&quot;javadoc&quot;/&gt;
1254     &lt;!--
1255                 =========================
1256                 TEST COMPILATION SECTION
1257                 =========================
1258             --&gt;
1259     &lt;target depends=&quot;init,compile&quot; if=&quot;have.tests&quot; name=&quot;-pre-pre-compile-test&quot;&gt;
1260         &lt;mkdir dir=&quot;${build.test.classes.dir}&quot;/&gt;
1261     &lt;/target&gt;
1262     &lt;target name=&quot;-pre-compile-test&quot;&gt;
1263         &lt;!-- Empty placeholder for easier customization. --&gt;
1264         &lt;!-- You can override this target in the ../build.xml file. --&gt;
1265     &lt;/target&gt;
1266     &lt;target if=&quot;do.depend.true&quot; name=&quot;-compile-test-depend&quot;&gt;
1267         &lt;j2seproject3:depend classpath=&quot;${javac.test.classpath}&quot; destdir=&quot;${build.test.classes.dir}&quot; srcdir=&quot;&quot;/&gt;
1268     &lt;/target&gt;
1269     &lt;target depends=&quot;init,deps-jar,compile,-pre-pre-compile-test,-pre-compile-test,-compile-test-depend&quot; if=&quot;have.tests&quot; name=&quot;-do-compile-test&quot;&gt;
1270         &lt;j2seproject3:javac apgeneratedsrcdir=&quot;${build.test.classes.dir}&quot; classpath=&quot;${javac.test.classpath}&quot; debug=&quot;true&quot; destdir=&quot;${build.test.classes.dir}&quot; processorpath=&quot;${javac.test.processorpath}&quot; srcdir=&quot;&quot;/&gt;
1271         &lt;copy todir=&quot;${build.test.classes.dir}&quot;/&gt;
1272     &lt;/target&gt;
1273     &lt;target name=&quot;-post-compile-test&quot;&gt;
1274         &lt;!-- Empty placeholder for easier customization. --&gt;
1275         &lt;!-- You can override this target in the ../build.xml file. --&gt;
1276     &lt;/target&gt;
1277     &lt;target depends=&quot;init,compile,-pre-pre-compile-test,-pre-compile-test,-do-compile-test,-post-compile-test&quot; name=&quot;compile-test&quot;/&gt;
1278     &lt;target name=&quot;-pre-compile-test-single&quot;&gt;
1279         &lt;!-- Empty placeholder for easier customization. --&gt;
1280         &lt;!-- You can override this target in the ../build.xml file. --&gt;
1281     &lt;/target&gt;
1282     &lt;target depends=&quot;init,deps-jar,compile,-pre-pre-compile-test,-pre-compile-test-single&quot; if=&quot;have.tests&quot; name=&quot;-do-compile-test-single&quot;&gt;
1283         &lt;fail unless=&quot;javac.includes&quot;&gt;Must select some files in the IDE or set javac.includes&lt;/fail&gt;
1284         &lt;j2seproject3:force-recompile destdir=&quot;${build.test.classes.dir}&quot;/&gt;
1285         &lt;j2seproject3:javac apgeneratedsrcdir=&quot;${build.test.classes.dir}&quot; classpath=&quot;${javac.test.classpath}&quot; debug=&quot;true&quot; destdir=&quot;${build.test.classes.dir}&quot; excludes=&quot;&quot; includes=&quot;${javac.includes}&quot; processorpath=&quot;${javac.test.processorpath}&quot; sourcepath=&quot;&quot; srcdir=&quot;&quot;/&gt;
1286         &lt;copy todir=&quot;${build.test.classes.dir}&quot;/&gt;
1287     &lt;/target&gt;
1288     &lt;target name=&quot;-post-compile-test-single&quot;&gt;
1289         &lt;!-- Empty placeholder for easier customization. --&gt;
1290         &lt;!-- You can override this target in the ../build.xml file. --&gt;
1291     &lt;/target&gt;
1292     &lt;target depends=&quot;init,compile,-pre-pre-compile-test,-pre-compile-test-single,-do-compile-test-single,-post-compile-test-single&quot; name=&quot;compile-test-single&quot;/&gt;
1293     &lt;!--
1294                 =======================
1295                 TEST EXECUTION SECTION
1296                 =======================
1297             --&gt;
1298     &lt;target depends=&quot;init&quot; if=&quot;have.tests&quot; name=&quot;-pre-test-run&quot;&gt;
1299         &lt;mkdir dir=&quot;${build.test.results.dir}&quot;/&gt;
1300     &lt;/target&gt;
1301     &lt;target depends=&quot;init,compile-test,-pre-test-run&quot; if=&quot;have.tests&quot; name=&quot;-do-test-run&quot;&gt;
1302         &lt;j2seproject3:test includes=&quot;${includes}&quot; testincludes=&quot;**/*Test.java&quot;/&gt;
1303     &lt;/target&gt;
1304     &lt;target depends=&quot;init,compile-test,-pre-test-run,-do-test-run&quot; if=&quot;have.tests&quot; name=&quot;-post-test-run&quot;&gt;
1305         &lt;fail if=&quot;tests.failed&quot; unless=&quot;ignore.failing.tests&quot;&gt;Some tests failed; see details above.&lt;/fail&gt;
1306     &lt;/target&gt;
1307     &lt;target depends=&quot;init&quot; if=&quot;have.tests&quot; name=&quot;test-report&quot;/&gt;
1308     &lt;target depends=&quot;init&quot; if=&quot;netbeans.home+have.tests&quot; name=&quot;-test-browse&quot;/&gt;
1309     &lt;target depends=&quot;init,compile-test,-pre-test-run,-do-test-run,test-report,-post-test-run,-test-browse&quot; description=&quot;Run unit tests.&quot; name=&quot;test&quot;/&gt;
1310     &lt;target depends=&quot;init&quot; if=&quot;have.tests&quot; name=&quot;-pre-test-run-single&quot;&gt;
1311         &lt;mkdir dir=&quot;${build.test.results.dir}&quot;/&gt;
1312     &lt;/target&gt;
1313     &lt;target depends=&quot;init,compile-test-single,-pre-test-run-single&quot; if=&quot;have.tests&quot; name=&quot;-do-test-run-single&quot;&gt;
1314         &lt;fail unless=&quot;test.includes&quot;&gt;Must select some files in the IDE or set test.includes&lt;/fail&gt;
1315         &lt;j2seproject3:test excludes=&quot;&quot; includes=&quot;${test.includes}&quot; testincludes=&quot;${test.includes}&quot;/&gt;
1316     &lt;/target&gt;
1317     &lt;target depends=&quot;init,compile-test-single,-pre-test-run-single,-do-test-run-single&quot; if=&quot;have.tests&quot; name=&quot;-post-test-run-single&quot;&gt;
1318         &lt;fail if=&quot;tests.failed&quot; unless=&quot;ignore.failing.tests&quot;&gt;Some tests failed; see details above.&lt;/fail&gt;
1319     &lt;/target&gt;
1320     &lt;target depends=&quot;init,compile-test-single,-pre-test-run-single,-do-test-run-single,-post-test-run-single&quot; description=&quot;Run single unit test.&quot; name=&quot;test-single&quot;/&gt;
1321     &lt;target depends=&quot;init,compile-test-single,-pre-test-run-single&quot; if=&quot;have.tests&quot; name=&quot;-do-test-run-single-method&quot;&gt;
1322         &lt;fail unless=&quot;test.class&quot;&gt;Must select some files in the IDE or set test.class&lt;/fail&gt;
1323         &lt;fail unless=&quot;test.method&quot;&gt;Must select some method in the IDE or set test.method&lt;/fail&gt;
1324         &lt;j2seproject3:test excludes=&quot;&quot; includes=&quot;${javac.includes}&quot; testincludes=&quot;${test.class}&quot; testmethods=&quot;${test.method}&quot;/&gt;
1325     &lt;/target&gt;
1326     &lt;target depends=&quot;init,compile-test-single,-pre-test-run-single,-do-test-run-single-method&quot; if=&quot;have.tests&quot; name=&quot;-post-test-run-single-method&quot;&gt;
1327         &lt;fail if=&quot;tests.failed&quot; unless=&quot;ignore.failing.tests&quot;&gt;Some tests failed; see details above.&lt;/fail&gt;
1328     &lt;/target&gt;
1329     &lt;target depends=&quot;init,compile-test-single,-pre-test-run-single,-do-test-run-single-method,-post-test-run-single-method&quot; description=&quot;Run single unit test.&quot; name=&quot;test-single-method&quot;/&gt;
1330     &lt;!--
1331                 =======================
1332                 TEST DEBUGGING SECTION
1333                 =======================
1334             --&gt;
1335     &lt;target depends=&quot;init,compile-test-single,-pre-test-run-single&quot; if=&quot;have.tests&quot; name=&quot;-debug-start-debuggee-test&quot;&gt;
1336         &lt;fail unless=&quot;test.class&quot;&gt;Must select one file in the IDE or set test.class&lt;/fail&gt;
1337         &lt;j2seproject3:test-debug excludes=&quot;&quot; includes=&quot;${javac.includes}&quot; testClass=&quot;${test.class}&quot; testincludes=&quot;${javac.includes}&quot;/&gt;
1338     &lt;/target&gt;
1339     &lt;target depends=&quot;init,compile-test-single,-pre-test-run-single&quot; if=&quot;have.tests&quot; name=&quot;-debug-start-debuggee-test-method&quot;&gt;
1340         &lt;fail unless=&quot;test.class&quot;&gt;Must select one file in the IDE or set test.class&lt;/fail&gt;
1341         &lt;fail unless=&quot;test.method&quot;&gt;Must select some method in the IDE or set test.method&lt;/fail&gt;
1342         &lt;j2seproject3:test-debug excludes=&quot;&quot; includes=&quot;${javac.includes}&quot; testClass=&quot;${test.class}&quot; testMethod=&quot;${test.method}&quot; testincludes=&quot;${test.class}&quot; testmethods=&quot;${test.method}&quot;/&gt;
1343     &lt;/target&gt;
1344     &lt;target depends=&quot;init,compile-test&quot; if=&quot;netbeans.home+have.tests&quot; name=&quot;-debug-start-debugger-test&quot;&gt;
1345         &lt;j2seproject1:nbjpdastart classpath=&quot;${debug.test.classpath}&quot; name=&quot;${test.class}&quot;/&gt;
1346     &lt;/target&gt;
1347     &lt;target depends=&quot;init,compile-test-single,-debug-start-debugger-test,-debug-start-debuggee-test&quot; name=&quot;debug-test&quot;/&gt;
1348     &lt;target depends=&quot;init,compile-test-single,-debug-start-debugger-test,-debug-start-debuggee-test-method&quot; name=&quot;debug-test-method&quot;/&gt;
1349     &lt;target depends=&quot;init,-pre-debug-fix,compile-test-single&quot; if=&quot;netbeans.home&quot; name=&quot;-do-debug-fix-test&quot;&gt;
1350         &lt;j2seproject1:nbjpdareload dir=&quot;${build.test.classes.dir}&quot;/&gt;
1351     &lt;/target&gt;
1352     &lt;target depends=&quot;init,-pre-debug-fix,-do-debug-fix-test&quot; if=&quot;netbeans.home&quot; name=&quot;debug-fix-test&quot;/&gt;
1353     &lt;!--
1354                 =========================
1355                 APPLET EXECUTION SECTION
1356                 =========================
1357             --&gt;
1358     &lt;target depends=&quot;init,compile-single&quot; name=&quot;run-applet&quot;&gt;
1359         &lt;fail unless=&quot;applet.url&quot;&gt;Must select one file in the IDE or set applet.url&lt;/fail&gt;
1360         &lt;j2seproject1:java classname=&quot;sun.applet.AppletViewer&quot;&gt;
1361             &lt;customize&gt;
1362                 &lt;arg value=&quot;${applet.url}&quot;/&gt;
1363             &lt;/customize&gt;
1364         &lt;/j2seproject1:java&gt;
1365     &lt;/target&gt;
1366     &lt;!--
1367                 =========================
1368                 APPLET DEBUGGING  SECTION
1369                 =========================
1370             --&gt;
1371     &lt;target depends=&quot;init,compile-single&quot; if=&quot;netbeans.home&quot; name=&quot;-debug-start-debuggee-applet&quot;&gt;
1372         &lt;fail unless=&quot;applet.url&quot;&gt;Must select one file in the IDE or set applet.url&lt;/fail&gt;
1373         &lt;j2seproject3:debug classname=&quot;sun.applet.AppletViewer&quot;&gt;
1374             &lt;customize&gt;
1375                 &lt;arg value=&quot;${applet.url}&quot;/&gt;
1376             &lt;/customize&gt;
1377         &lt;/j2seproject3:debug&gt;
1378     &lt;/target&gt;
1379     &lt;target depends=&quot;init,compile-single,-debug-start-debugger,-debug-start-debuggee-applet&quot; if=&quot;netbeans.home&quot; name=&quot;debug-applet&quot;/&gt;
1380     &lt;!--
1381                 ===============
1382                 CLEANUP SECTION
1383                 ===============
1384             --&gt;
1385     &lt;target name=&quot;-deps-clean-init&quot; unless=&quot;built-clean.properties&quot;&gt;
1386         &lt;property location=&quot;${build.dir}/built-clean.properties&quot; name=&quot;built-clean.properties&quot;/&gt;
1387         &lt;delete file=&quot;${built-clean.properties}&quot; quiet=&quot;true&quot;/&gt;
1388     &lt;/target&gt;
1389     &lt;target if=&quot;already.built.clean.${basedir}&quot; name=&quot;-warn-already-built-clean&quot;&gt;
1390         &lt;echo level=&quot;warn&quot; message=&quot;Cycle detected: SanityTests was already built&quot;/&gt;
1391     &lt;/target&gt;
1392     &lt;target depends=&quot;init,-deps-clean-init&quot; name=&quot;deps-clean&quot; unless=&quot;no.deps&quot;&gt;
1393         &lt;mkdir dir=&quot;${build.dir}&quot;/&gt;
1394         &lt;touch file=&quot;${built-clean.properties}&quot; verbose=&quot;false&quot;/&gt;
1395         &lt;property file=&quot;${built-clean.properties}&quot; prefix=&quot;already.built.clean.&quot;/&gt;
1396         &lt;antcall target=&quot;-warn-already-built-clean&quot;/&gt;
1397         &lt;propertyfile file=&quot;${built-clean.properties}&quot;&gt;
1398             &lt;entry key=&quot;${basedir}&quot; value=&quot;&quot;/&gt;
1399         &lt;/propertyfile&gt;
1400     &lt;/target&gt;
1401     &lt;target depends=&quot;init&quot; name=&quot;-do-clean&quot;&gt;
1402         &lt;delete dir=&quot;${build.dir}&quot;/&gt;
1403         &lt;delete dir=&quot;${dist.dir}&quot; followsymlinks=&quot;false&quot; includeemptydirs=&quot;true&quot;/&gt;
1404     &lt;/target&gt;
1405     &lt;target name=&quot;-post-clean&quot;&gt;
1406         &lt;!-- Empty placeholder for easier customization. --&gt;
1407         &lt;!-- You can override this target in the ../build.xml file. --&gt;
1408     &lt;/target&gt;
1409     &lt;target depends=&quot;init,deps-clean,-do-clean,-post-clean&quot; description=&quot;Clean build products.&quot; name=&quot;clean&quot;/&gt;
1410     &lt;target name=&quot;-check-call-dep&quot;&gt;
1411         &lt;property file=&quot;${call.built.properties}&quot; prefix=&quot;already.built.&quot;/&gt;
1412         &lt;condition property=&quot;should.call.dep&quot;&gt;
1413             &lt;and&gt;
1414                 &lt;not&gt;
1415                     &lt;isset property=&quot;already.built.${call.subproject}&quot;/&gt;
1416                 &lt;/not&gt;
1417                 &lt;available file=&quot;${call.script}&quot;/&gt;
1418             &lt;/and&gt;
1419         &lt;/condition&gt;
1420     &lt;/target&gt;
1421     &lt;target depends=&quot;-check-call-dep&quot; if=&quot;should.call.dep&quot; name=&quot;-maybe-call-dep&quot;&gt;
1422         &lt;ant antfile=&quot;${call.script}&quot; inheritall=&quot;false&quot; target=&quot;${call.target}&quot;&gt;
1423             &lt;propertyset&gt;
1424                 &lt;propertyref prefix=&quot;transfer.&quot;/&gt;
1425                 &lt;mapper from=&quot;transfer.*&quot; to=&quot;*&quot; type=&quot;glob&quot;/&gt;
1426             &lt;/propertyset&gt;
1427         &lt;/ant&gt;
1428     &lt;/target&gt;
1429 &lt;/project&gt;
    </pre>
  </body>
</html>