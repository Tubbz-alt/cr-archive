<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old make/jdk/netbeans/client_sanity/build.xml</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
  <body>
    <pre>
 1 &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
 2 &lt;!-- You may freely edit this file. See commented blocks below for --&gt;
 3 &lt;!-- some examples of how to customize the build. --&gt;
 4 &lt;!-- (If you delete it and reopen the project it will be recreated.) --&gt;
 5 &lt;!-- By default, only the Clean and Build commands use this build script. --&gt;
 6 &lt;!-- Commands such as Run, Debug, and Test only use this build script if --&gt;
 7 &lt;!-- the Compile on Save feature is turned off for the project. --&gt;
 8 &lt;!-- You can turn off the Compile on Save (or Deploy on Save) setting --&gt;
 9 &lt;!-- in the project&#39;s Project Properties dialog box.--&gt;
10 &lt;project name=&quot;SanityTests&quot; default=&quot;default&quot; basedir=&quot;.&quot;&gt;
11     &lt;description&gt;Builds, tests, and runs the project SanityTests.&lt;/description&gt;
12     &lt;import file=&quot;nbproject/build-impl.xml&quot;/&gt;
13     &lt;!--
14 
15     There exist several targets which are by default empty and which can be 
16     used for execution of your tasks. These targets are usually executed 
17     before and after some main targets. They are: 
18 
19       -pre-init:                 called before initialization of project properties
20       -post-init:                called after initialization of project properties
21       -pre-compile:              called before javac compilation
22       -post-compile:             called after javac compilation
23       -pre-compile-single:       called before javac compilation of single file
24       -post-compile-single:      called after javac compilation of single file
25       -pre-compile-test:         called before javac compilation of JUnit tests
26       -post-compile-test:        called after javac compilation of JUnit tests
27       -pre-compile-test-single:  called before javac compilation of single JUnit test
28       -post-compile-test-single: called after javac compilation of single JUunit test
29       -pre-jar:                  called before JAR building
30       -post-jar:                 called after JAR building
31       -post-clean:               called after cleaning build products
32 
33     (Targets beginning with &#39;-&#39; are not intended to be called on their own.)
34 
35     Example of inserting an obfuscator after compilation could look like this:
36 
37         &lt;target name=&quot;-post-compile&quot;&gt;
38             &lt;obfuscate&gt;
39                 &lt;fileset dir=&quot;${build.classes.dir}&quot;/&gt;
40             &lt;/obfuscate&gt;
41         &lt;/target&gt;
42 
43     For list of available properties check the imported 
44     nbproject/build-impl.xml file. 
45 
46 
47     Another way to customize the build is by overriding existing main targets.
48     The targets of interest are: 
49 
50       -init-macrodef-javac:     defines macro for javac compilation
51       -init-macrodef-junit:     defines macro for junit execution
52       -init-macrodef-debug:     defines macro for class debugging
53       -init-macrodef-java:      defines macro for class execution
54       -do-jar:                  JAR building
55       run:                      execution of project 
56       -javadoc-build:           Javadoc generation
57       test-report:              JUnit report generation
58 
59     An example of overriding the target for project execution could look like this:
60 
61         &lt;target name=&quot;run&quot; depends=&quot;SanityTests-impl.jar&quot;&gt;
62             &lt;exec dir=&quot;bin&quot; executable=&quot;launcher.exe&quot;&gt;
63                 &lt;arg file=&quot;${dist.jar}&quot;/&gt;
64             &lt;/exec&gt;
65         &lt;/target&gt;
66 
67     Notice that the overridden target depends on the jar target and not only on 
68     the compile target as the regular run target does. Again, for a list of available 
69     properties which you can use, check the target you are overriding in the
70     nbproject/build-impl.xml file. 
71 
72     --&gt;
73     
74     &lt;target name=&quot;prepare-bundle&quot; depends=&quot;init&quot;&gt;
75         &lt;zip zipfile=&quot;${dist.dir}/sanity.zip&quot;&gt;
76             &lt;fileset dir=&quot;../../../test&quot; includes=&quot;sanity/client/SwingSet/**&quot;/&gt;
77             &lt;fileset dir=&quot;../../../test&quot; includes=&quot;sanity/client/lib/**&quot;/&gt;
78             &lt;fileset dir=&quot;../../../test&quot; includes=&quot;sanity/client/ReadMe.txt&quot;/&gt;
79             &lt;fileset dir=&quot;../../../test&quot; includes=&quot;sanity/client/TEST.properties&quot;/&gt;            
80             &lt;mappedresources&gt;
81                 &lt;fileset dir=&quot;../../../test/sanity/client&quot; includes=&quot;TEST.ROOT.template&quot;/&gt;
82                 &lt;globmapper from=&quot;TEST.ROOT.template&quot; to=&quot;TEST.ROOT&quot; /&gt;
83             &lt;/mappedresources&gt;            
84         &lt;/zip&gt;
85     &lt;/target&gt;
86     
87     &lt;target name=&quot;run-jemmy-browser&quot; depends=&quot;init&quot;&gt;
88         &lt;java 
89             classpath=&quot;${run.classpath}&quot;
90             classname=&quot;org.netbeans.jemmy.explorer.GUIBrowser&quot; 
91             args=&quot;com.sun.swingset3.demos.button.ButtonDemo&quot;/&gt;
92     &lt;/target&gt;
93     
94 &lt;/project&gt;
    </pre>
  </body>
</html>