<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old make/jdk/netbeans/common/shared.xml</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
  <body>
    <pre>
  1 &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  2 
  3 &lt;!--
  4  Copyright (c) 2007, 2013, Oracle and/or its affiliates. All rights reserved.
  5 
  6  Redistribution and use in source and binary forms, with or without
  7  modification, are permitted provided that the following conditions
  8  are met:
  9 
 10    - Redistributions of source code must retain the above copyright
 11      notice, this list of conditions and the following disclaimer.
 12 
 13    - Redistributions in binary form must reproduce the above copyright
 14      notice, this list of conditions and the following disclaimer in the
 15      documentation and/or other materials provided with the distribution.
 16 
 17    - Neither the name of Oracle nor the names of its
 18      contributors may be used to endorse or promote products derived
 19      from this software without specific prior written permission.
 20 
 21  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS
 22  IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
 23  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 24  PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 25  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 26  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 27  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 28  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 29  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 30  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 31  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 32 --&gt;
 33 
 34 &lt;project name=&quot;shared&quot; basedir=&quot;..&quot;&gt;
 35 
 36     &lt;import file=&quot;make.xml&quot;/&gt;
 37 
 38     &lt;target name=&quot;-tstamp&quot;&gt;
 39         &lt;tstamp&gt;
 40             &lt;format property=&quot;build.time&quot; pattern=&quot;MM/dd/yyyy hh:mm aa&quot;/&gt;
 41             &lt;format property=&quot;build.fullversion.time&quot; pattern=&quot;MM/dd/yyyy_HH_mm&quot;/&gt;
 42         &lt;/tstamp&gt;
 43     &lt;/target&gt;
 44 
 45     &lt;target name=&quot;-first-init&quot; depends=&quot;-tstamp&quot;&gt;
 46         &lt;mkdir dir=&quot;${user.home}/.openjdk&quot;/&gt;
 47         &lt;property name=&quot;workspace-user-build.properties&quot; location=&quot;nbproject/private/build.properties&quot;/&gt;
 48         &lt;property file=&quot;${workspace-user-build.properties}&quot;/&gt;
 49         &lt;property file=&quot;${user.home}/.openjdk/${ant.project.name}-build.properties&quot;/&gt;
 50         &lt;property name=&quot;user-build.properties&quot; location=&quot;${user.home}/.openjdk/build.properties&quot;/&gt;
 51         &lt;property file=&quot;${user-build.properties}&quot;/&gt;
 52         &lt;property file=&quot;${basedir}/build.properties&quot;/&gt;
 53         &lt;property environment=&quot;env.&quot;/&gt;
 54     &lt;/target&gt;
 55     &lt;target name=&quot;-warn-about-bootstrap.jdk&quot; depends=&quot;-first-init&quot; unless=&quot;bootstrap.jdk&quot;&gt;
 56         &lt;property name=&quot;fallback.jdk&quot; location=&quot;${java.home}/..&quot;/&gt;
 57         &lt;echo level=&quot;warning&quot;&gt;Warning: falling back to building against ${fallback.jdk}&lt;/echo&gt;
 58         &lt;echo level=&quot;warning&quot;&gt;Please define bootstrap.jdk=.../recent/jdk7/snapshot in ${user-build.properties} or ${workspace-user-build.properties}&lt;/echo&gt;
 59     &lt;/target&gt;
 60     &lt;target name=&quot;-pre-init&quot;&gt;
 61         &lt;!-- Invoked before -first-init. --&gt;
 62         &lt;!-- Empty placeholder for easier customization. --&gt;
 63         &lt;!-- You can override this target in the ../build.xml file. --&gt;
 64     &lt;/target&gt;
 65     &lt;target name=&quot;-post-init&quot;&gt;
 66         &lt;!-- Invoked after -project-init. --&gt;
 67         &lt;!-- Empty placeholder for easier customization. --&gt;
 68         &lt;!-- You can override this target in the ../build.xml file. --&gt;
 69     &lt;/target&gt;
 70     &lt;target name=&quot;-init&quot; description=&quot;Initial configuration used by everything else.&quot; depends=&quot;-pre-init,-first-init,-project-init,-post-init&quot;/&gt;
 71     &lt;target name=&quot;-project-init&quot; depends=&quot;-warn-about-bootstrap.jdk&quot;&gt;
 72         &lt;property name=&quot;root&quot; location=&quot;../../..&quot;/&gt;
 73         &lt;property file=&quot;../common/architectures/name-${os.name}.properties&quot;/&gt;
 74         &lt;property name=&quot;platform&quot; value=&quot;windows&quot;/&gt;
 75         &lt;property file=&quot;../common/architectures/arch-${os.arch}.properties&quot;/&gt;
 76         &lt;property name=&quot;arch&quot; value=&quot;${os.arch}&quot;/&gt;
 77         &lt;echo level=&quot;verbose&quot;&gt;System configuration claims architecture is ${platform}-${arch}&lt;/echo&gt;
 78         &lt;property name=&quot;build.dir&quot; location=&quot;${root}/build/${platform}-${arch}&quot;/&gt;
 79         &lt;property name=&quot;bin.dir&quot; location=&quot;${build.dir}/bin&quot;/&gt;
 80         &lt;property name=&quot;make.dir&quot; location=&quot;${root}/make&quot;/&gt; &lt;!-- this is old build make files! --&gt;
 81         &lt;property name=&quot;gensrc.dir&quot; location=&quot;${build.dir}/gensrc&quot;/&gt;
 82         &lt;property name=&quot;classes.dir&quot; location=&quot;${build.dir}/classes&quot;/&gt;
 83         &lt;property name=&quot;jtreg.dir&quot; location=&quot;${build.dir}/jtreg/${ant.project.name}&quot;/&gt;
 84         &lt;property name=&quot;dist.dir&quot; value=&quot;${root}/dist&quot;/&gt;
 85         &lt;property name=&quot;includes&quot; value=&quot;(nothing)&quot;/&gt;
 86         &lt;property name=&quot;excludes&quot; value=&quot;&quot;/&gt;
 87         &lt;property name=&quot;javadoc.dir&quot; location=&quot;${build.dir}/javadoc/${ant.project.name}&quot;/&gt;
 88         &lt;condition property=&quot;os.macosx&quot;&gt;
 89             &lt;os family=&quot;mac&quot;/&gt;
 90         &lt;/condition&gt;
 91         &lt;condition property=&quot;os.linux&quot;&gt;
 92             &lt;os name=&quot;linux&quot;/&gt;
 93         &lt;/condition&gt;
 94         &lt;condition property=&quot;os.solaris&quot;&gt;
 95             &lt;os name=&quot;SunOS&quot;/&gt;
 96         &lt;/condition&gt;
 97         &lt;condition property=&quot;osfamily.unix&quot;&gt;
 98             &lt;os family=&quot;unix&quot;/&gt;
 99         &lt;/condition&gt;
100         &lt;condition property=&quot;os.windows&quot;&gt;
101             &lt;os family=&quot;windows&quot;/&gt;
102         &lt;/condition&gt;
103         &lt;condition property=&quot;platform.src.dir&quot; value=&quot;${root}/src/solaris/classes&quot;&gt;
104             &lt;os family=&quot;unix&quot;/&gt;
105         &lt;/condition&gt;
106         &lt;condition property=&quot;platform.src.dir&quot; value=&quot;${root}/src/windows/classes&quot;&gt;
107             &lt;os family=&quot;windows&quot;/&gt;
108         &lt;/condition&gt;
109         &lt;property name=&quot;share.src.dir&quot; value=&quot;${root}/src/share/classes&quot;/&gt;
110         &lt;property name=&quot;bootstrap.jdk&quot; location=&quot;${fallback.jdk}&quot;/&gt;
111         &lt;!-- XXX ensure that bootstrap.jdk meets some minimum version requirements (TBD) --&gt;
112         &lt;condition property=&quot;bootstrap.javac&quot; value=&quot;${bootstrap.jdk}/bin/javac&quot;&gt;
113             &lt;available file=&quot;${bootstrap.jdk}/bin/javac&quot;/&gt;
114         &lt;/condition&gt;
115         &lt;condition property=&quot;bootstrap.javac&quot; value=&quot;${bootstrap.jdk}\bin\javac.exe&quot;&gt;
116             &lt;available file=&quot;${bootstrap.jdk}\bin\javac.exe&quot;/&gt;
117         &lt;/condition&gt;
118         &lt;fail unless=&quot;bootstrap.javac&quot;&gt;${bootstrap.jdk} does not appear to be a functional JDK; no javac found.&lt;/fail&gt;
119         &lt;property name=&quot;javac.options&quot; value=&quot;-Xlint&quot;/&gt; &lt;!-- default, can be overridden per user or per project --&gt;
120         &lt;property name=&quot;javac.debug&quot; value=&quot;true&quot;/&gt;  &lt;!-- default, can be overridden per user or per project --&gt;
121         &lt;property name=&quot;javac.debuglevel&quot; value=&quot;lines,vars,source&quot;/&gt;  &lt;!-- default, can be overridden per user or per project --&gt;
122         &lt;macrodef name=&quot;jdk-javac&quot;&gt;
123             &lt;attribute name=&quot;srcdir&quot;/&gt;
124             &lt;attribute name=&quot;includes&quot; default=&quot;${includes}&quot;/&gt;
125             &lt;attribute name=&quot;excludes&quot; default=&quot;${excludes}&quot;/&gt;
126             &lt;attribute name=&quot;classesdir&quot; default=&quot;${classes.dir}&quot;/&gt;
127             &lt;sequential&gt;
128                 &lt;mkdir dir=&quot;@{classesdir}&quot;/&gt;
129                 &lt;javac srcdir=&quot;@{srcdir}&quot; includes=&quot;@{includes}&quot; excludes=&quot;@{excludes}&quot; sourcepath=&quot;&quot;
130                     destdir=&quot;@{classesdir}&quot; fork=&quot;true&quot; executable=&quot;${bootstrap.javac}&quot;
131                     debug=&quot;${javac.debug}&quot; debuglevel=&quot;${javac.debuglevel}&quot;&gt;
132                     &lt;!-- Mandatory for compiling partial JDK sources against a snapshot; should NEVER be used for any other purpose: --&gt;
133                     &lt;compilerarg value=&quot;-XDignore.symbol.file=true&quot;/&gt;
134                     &lt;compilerarg line=&quot;${javac.options}&quot;/&gt;
135                 &lt;/javac&gt;
136             &lt;/sequential&gt;
137         &lt;/macrodef&gt;
138         &lt;available property=&quot;have.closed.src&quot; file=&quot;${root}/src/closed/share/classes&quot; type=&quot;dir&quot;/&gt;
139     &lt;/target&gt;
140 
141     &lt;target name=&quot;-pre-compile&quot;&gt;
142         &lt;!-- Empty placeholder for easier customization. --&gt;
143         &lt;!-- You can override this target in the ../build.xml file. --&gt;
144     &lt;/target&gt;
145     &lt;target name=&quot;-post-compile&quot;&gt;
146         &lt;!-- Empty placeholder for easier customization. --&gt;
147         &lt;!-- You can override this target in the ../build.xml file. --&gt;
148     &lt;/target&gt;
149 
150     &lt;target name=&quot;build&quot; depends=&quot;-init,-pre-compile,-build-ant,-build-make,-post-compile&quot; description=&quot;Build sources.&quot;/&gt;
151     &lt;target name=&quot;-do-build-ant&quot;&gt;
152         &lt;depend srcdir=&quot;${share.src.dir}:${platform.src.dir}:${root}/src/closed/share/classes:${gensrc.dir}&quot; destdir=&quot;${classes.dir}&quot; cache=&quot;${build.dir}/depcache&quot; includes=&quot;${includes}&quot; excludes=&quot;${excludes}&quot;/&gt;
153         &lt;mkdir dir=&quot;${gensrc.dir}&quot;/&gt;
154         &lt;jdk-javac srcdir=&quot;${share.src.dir}:${platform.src.dir}:${gensrc.dir}&quot;/&gt;
155         &lt;property name=&quot;copy.excludes&quot; value=&quot;**/*.java,**/package.html,**/doc-files/&quot;/&gt;
156         &lt;copy todir=&quot;${classes.dir}&quot;&gt;
157             &lt;fileset dir=&quot;${share.src.dir}&quot; includes=&quot;${includes}&quot; excludes=&quot;${excludes},${copy.excludes}&quot;/&gt;
158             &lt;fileset dir=&quot;${platform.src.dir}&quot; includes=&quot;${includes}&quot; excludes=&quot;${excludes},${copy.excludes}&quot;/&gt;
159         &lt;/copy&gt;
160         &lt;antcall target=&quot;-maybe-do-build-ant-closed&quot;/&gt;
161     &lt;/target&gt;
162     &lt;target name=&quot;-maybe-do-build-ant-closed&quot; if=&quot;have.closed.src&quot;&gt;
163         &lt;jdk-javac srcdir=&quot;${root}/src/closed/share/classes&quot;/&gt;
164         &lt;copy todir=&quot;${classes.dir}&quot;&gt;
165             &lt;fileset dir=&quot;${root}/src/closed/share/classes&quot; includes=&quot;${includes}&quot; excludes=&quot;${excludes},${copy.excludes}&quot;/&gt;
166         &lt;/copy&gt;
167     &lt;/target&gt;
168     &lt;target name=&quot;-build-ant&quot; depends=&quot;-init&quot; unless=&quot;use.make&quot;&gt;
169         &lt;antcall target=&quot;-do-build-ant&quot;/&gt;
170     &lt;/target&gt;
171     &lt;target name=&quot;-build-make&quot; depends=&quot;-init&quot; if=&quot;use.make&quot;&gt; &lt;!-- override me to call &lt;make-run&gt; --&gt;
172         &lt;echo level=&quot;info&quot;&gt;No make target defined for this project; falling back to simple Java build&lt;/echo&gt;
173         &lt;antcall target=&quot;-do-build-ant&quot;/&gt;
174     &lt;/target&gt;
175 
176     &lt;target name=&quot;clean&quot; depends=&quot;-init,-clean-docs-tests,-clean-ant,-clean-make&quot; description=&quot;Clean build products.&quot;/&gt;
177     &lt;target name=&quot;-do-clean-ant&quot;&gt;
178         &lt;!-- XXX first s/\.java/.class/g in includes and excludes! --&gt;
179         &lt;delete dir=&quot;${classes.dir}&quot; includes=&quot;${includes}&quot; excludes=&quot;${excludes}&quot; includeemptydirs=&quot;true&quot;/&gt;
180         &lt;delete dir=&quot;${gensrc.dir}&quot; includes=&quot;${includes}&quot; excludes=&quot;${excludes}&quot; includeemptydirs=&quot;true&quot;/&gt;
181         &lt;delete dir=&quot;${build.dir}/depcache&quot;/&gt;
182     &lt;/target&gt;
183     &lt;target name=&quot;-clean-docs-tests&quot;&gt;
184         &lt;delete dir=&quot;${javadoc.dir}&quot; includeemptydirs=&quot;true&quot;/&gt;
185         &lt;delete dir=&quot;${jtreg.dir}&quot; includeemptydirs=&quot;true&quot;/&gt;
186     &lt;/target&gt;
187     &lt;target name=&quot;-clean-ant&quot; depends=&quot;-init&quot; unless=&quot;use.make&quot;&gt;
188         &lt;antcall target=&quot;-do-clean-ant&quot;/&gt;
189     &lt;/target&gt;
190     &lt;target name=&quot;-clean-make&quot; depends=&quot;-init&quot; if=&quot;use.make&quot;&gt; &lt;!-- override me to call &lt;make-run&gt; --&gt;
191         &lt;echo level=&quot;info&quot;&gt;No make clean target defined for this project; falling back to simple Java clean&lt;/echo&gt;
192         &lt;antcall target=&quot;-do-clean-ant&quot;/&gt;
193     &lt;/target&gt;
194 
195     &lt;target name=&quot;compile-single&quot; depends=&quot;-init&quot;&gt;
196         &lt;fail unless=&quot;srcdir&quot;&gt;Must set property &#39;srcdir&#39;&lt;/fail&gt;
197         &lt;fail unless=&quot;includes&quot;&gt;Must set property &#39;includes&#39;&lt;/fail&gt;
198         &lt;jdk-javac srcdir=&quot;${srcdir}&quot; includes=&quot;${includes}&quot; excludes=&quot;&quot;/&gt;
199     &lt;/target&gt;
200     &lt;target name=&quot;debug-fix&quot; depends=&quot;-init&quot; if=&quot;netbeans.home&quot;&gt;
201         &lt;fail unless=&quot;class&quot;&gt;Must set property &#39;class&#39;&lt;/fail&gt;
202         &lt;antcall target=&quot;compile-single&quot;&gt;
203             &lt;param name=&quot;includes&quot; value=&quot;${class}.java&quot;/&gt;
204         &lt;/antcall&gt;
205         &lt;nbjpdareload&gt;
206             &lt;fileset dir=&quot;${classes.dir}&quot;&gt;
207                 &lt;include name=&quot;${class}.class&quot;/&gt;
208             &lt;/fileset&gt;
209         &lt;/nbjpdareload&gt;
210     &lt;/target&gt;
211 
212     &lt;target name=&quot;-taskdef-jtreg&quot; depends=&quot;-init&quot; unless=&quot;jtreg.defined&quot;&gt;
213         &lt;fail message=&quot;Cannot locate jtreg: please set jtreg.home to its location&quot;&gt;
214             &lt;condition&gt;
215                 &lt;not&gt;
216                     &lt;isset property=&quot;jtreg.home&quot;/&gt;
217                 &lt;/not&gt;
218             &lt;/condition&gt;
219         &lt;/fail&gt;
220         &lt;fail message=&quot;jtreg is not installed in ${jtreg.home}&quot;&gt;
221             &lt;condition&gt;
222                 &lt;not&gt;
223                     &lt;and&gt;
224                         &lt;available file=&quot;${jtreg.home}/lib/jtreg.jar&quot;/&gt;
225                         &lt;available file=&quot;${jtreg.home}/lib/javatest.jar&quot;/&gt;
226                     &lt;/and&gt;
227                 &lt;/not&gt;
228             &lt;/condition&gt;
229         &lt;/fail&gt;
230         &lt;taskdef name=&quot;jtreg&quot; classname=&quot;com.sun.javatest.regtest.Main$$Ant&quot;&gt;
231             &lt;classpath&gt;
232                 &lt;pathelement location=&quot;${jtreg.home}/lib/jtreg.jar&quot;/&gt;
233                 &lt;pathelement location=&quot;${jtreg.home}/lib/javatest.jar&quot;/&gt;
234             &lt;/classpath&gt;
235         &lt;/taskdef&gt;
236         &lt;property name=&quot;jtreg.defined&quot; value=&quot;true&quot;/&gt;
237     &lt;/target&gt;
238     &lt;target name=&quot;-check-tests-defined&quot; unless=&quot;jtreg.tests&quot;&gt;
239         &lt;fail&gt;You must define jtreg.tests to select some tests to run.&lt;/fail&gt;
240     &lt;/target&gt;
241     &lt;target name=&quot;-jtreg-setup&quot;&gt;
242         &lt;property name=&quot;jtreg.vm.options&quot; value=&quot;&quot;/&gt; &lt;!-- default, can be overridden per user or per project --&gt;
243         &lt;property name=&quot;jtreg.options&quot; value=&quot;&quot;/&gt; &lt;!-- default, can be overridden per user or per project --&gt;
244         &lt;property name=&quot;jtreg.samevm&quot; value=&quot;false&quot;/&gt;  &lt;!-- default, can be overridden per user or per project --&gt;
245     &lt;/target&gt;
246     &lt;target name=&quot;-jtreg-ant&quot; unless=&quot;use.make&quot;&gt;
247         &lt;jtreg dir=&quot;${root}/test&quot; samevm=&quot;${jtreg.samevm}&quot; verbose=&quot;summary&quot;
248                jdk=&quot;${bootstrap.jdk}&quot;
249                failonerror=&quot;false&quot; resultproperty=&quot;jtreg.result&quot;
250                javacoptions=&quot;-g&quot;
251                vmoptions=&quot;-Xbootclasspath/p:${classes.dir} ${jtreg.vm.options}&quot;
252                reportDir=&quot;${jtreg.dir}/JTreport&quot;
253                workDir=&quot;${jtreg.dir}/JTwork&quot;
254                includes=&quot;${jtreg.tests}&quot;&gt;
255             &lt;arg line=&quot;${jtreg.options}&quot;/&gt;
256         &lt;/jtreg&gt;
257     &lt;/target&gt;
258     &lt;target name=&quot;-jtreg-make&quot; if=&quot;use.make&quot;&gt;
259         &lt;jtreg dir=&quot;${root}/test&quot; samevm=&quot;${jtreg.samevm}&quot; verbose=&quot;summary&quot;
260                failonerror=&quot;false&quot; resultproperty=&quot;jtreg.result&quot;
261                jdk=&quot;${build.dir}&quot;
262                vmoptions=&quot;${jtreg.vm.options}&quot;
263                javacoptions=&quot;-g&quot;
264                reportDir=&quot;${jtreg.dir}/JTreport&quot;
265                workDir=&quot;${jtreg.dir}/JTwork&quot;
266                includes=&quot;${jtreg.tests}&quot;&gt;
267             &lt;arg line=&quot;${jtreg.options}&quot;/&gt;
268         &lt;/jtreg&gt;
269     &lt;/target&gt;
270     &lt;target name=&quot;-pre-jtreg&quot;&gt;
271         &lt;!-- Empty placeholder for easier customization. --&gt;
272         &lt;!-- You can override this target in the ../build.xml file. --&gt;
273     &lt;/target&gt;
274     &lt;target name=&quot;-post-jtreg&quot;&gt;
275         &lt;!-- Empty placeholder for easier customization. --&gt;
276         &lt;!-- You can override this target in the ../build.xml file. --&gt;
277     &lt;/target&gt;
278     &lt;target name=&quot;-jtreg&quot; depends=&quot;-init,-pre-jtreg,-taskdef-jtreg,-check-tests-defined,-jtreg-setup,-jtreg-make,-jtreg-ant,-post-jtreg&quot;&gt;
279         &lt;property name=&quot;jtreg.report&quot; location=&quot;${jtreg.dir}/JTreport/html/report.html&quot;/&gt;
280         &lt;condition property=&quot;jtreg.passed&quot;&gt;
281             &lt;equals arg1=&quot;${jtreg.result}&quot; arg2=&quot;0&quot;/&gt;
282         &lt;/condition&gt;
283     &lt;/target&gt;
284     &lt;target name=&quot;test&quot; depends=&quot;jtreg&quot;/&gt; &lt;!-- Allow use of existing finger muscle memory from command line. --&gt;
285     &lt;target name=&quot;jtreg&quot; depends=&quot;-jtreg&quot; description=&quot;Run jtreg-based tests.&quot; unless=&quot;jtreg.passed&quot;&gt;
286         &lt;fail&gt;${jtreg.report}: some tests failed.&lt;/fail&gt;
287     &lt;/target&gt;
288     &lt;target name=&quot;jtreg-nb&quot; depends=&quot;-jtreg&quot; if=&quot;netbeans.home&quot; unless=&quot;jtreg.passed&quot;&gt;
289         &lt;makeurl file=&quot;${jtreg.report}&quot; property=&quot;jtreg.report.url&quot;/&gt;
290         &lt;nbbrowse url=&quot;${jtreg.report.url}#Results&quot;/&gt;
291         &lt;fail&gt;Some tests failed; see report for details.&lt;/fail&gt;
292     &lt;/target&gt;
293     &lt;target name=&quot;jtreg-debug-nb&quot; depends=&quot;-init&quot; if=&quot;netbeans.home&quot;&gt;
294         &lt;!-- No package decls -&gt; &quot;source root&quot; is immediately containing dir --&gt;
295         &lt;dirname file=&quot;${root}/test/${jtreg.tests}&quot; property=&quot;test.dir&quot;/&gt;
296         &lt;nbjpdastart addressproperty=&quot;jpda.address&quot; name=&quot;${ant.project.name}&quot; transport=&quot;dt_socket&quot;&gt;
297             &lt;bootclasspath&gt;
298                 &lt;pathelement location=&quot;${classes.dir}&quot;/&gt;
299                 &lt;pathelement location=&quot;${bootstrap.jdk}/jre/lib/rt.jar&quot;/&gt;
300             &lt;/bootclasspath&gt;
301             &lt;classpath&gt;
302                 &lt;pathelement location=&quot;${jtreg.dir}/JTwork/classes&quot;/&gt;
303             &lt;/classpath&gt;
304             &lt;sourcepath&gt;
305                 &lt;pathelement location=&quot;${share.src.dir}&quot;/&gt;
306                 &lt;pathelement location=&quot;${platform.src.dir}&quot;/&gt;
307                 &lt;pathelement location=&quot;${root}/src/closed/share/classes&quot;/&gt;
308                 &lt;pathelement location=&quot;${test.dir}&quot;/&gt;
309             &lt;/sourcepath&gt;
310         &lt;/nbjpdastart&gt;
311         &lt;antcall target=&quot;-jtreg&quot;&gt;
312             &lt;param name=&quot;jtreg.vm.options&quot; value=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,address=${jpda.address}&quot;/&gt;
313         &lt;/antcall&gt;
314     &lt;/target&gt;
315 
316     &lt;target name=&quot;debug&quot; depends=&quot;-init&quot; if=&quot;netbeans.home&quot;&gt;
317         &lt;!-- No package decls -&gt; &quot;source root&quot; is immediately containing dir --&gt;
318         &lt;dirname file=&quot;${root}/test/${jtreg.tests}&quot; property=&quot;test.dir&quot;/&gt;
319         &lt;nbjpdastart addressproperty=&quot;jpda.address&quot; name=&quot;${ant.project.name}&quot; transport=&quot;dt_socket&quot;&gt;
320             &lt;bootclasspath&gt;
321                 &lt;pathelement location=&quot;${classes.dir}&quot;/&gt;
322                 &lt;pathelement location=&quot;${bootstrap.jdk}/jre/lib/rt.jar&quot;/&gt;
323             &lt;/bootclasspath&gt;
324             &lt;sourcepath&gt;
325                 &lt;pathelement location=&quot;${share.src.dir}&quot;/&gt;
326                 &lt;pathelement location=&quot;${platform.src.dir}&quot;/&gt;
327                 &lt;pathelement location=&quot;${root}/src/closed/share/classes&quot;/&gt;
328                 &lt;pathelement location=&quot;${test.dir}&quot;/&gt;
329             &lt;/sourcepath&gt;
330         &lt;/nbjpdastart&gt;
331         &lt;antcall target=&quot;run&quot;&gt;
332             &lt;param name=&quot;jvm.args&quot; value=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,address=${jpda.address}&quot;/&gt;
333         &lt;/antcall&gt;
334     &lt;/target&gt;
335 
336     &lt;target name=&quot;javadoc&quot; depends=&quot;-init&quot; description=&quot;Build basic Javadoc for public packages.&quot;&gt;
337         &lt;property name=&quot;javadoc.options&quot; value=&quot;&quot;/&gt; &lt;!-- default, can be overridden per user or per project --&gt;
338         &lt;!-- Note: even with this default value, includes/excludes
339          from share.src.dir get javadoc&#39;d; see packageset below --&gt;
340         &lt;property name=&quot;javadoc.packagenames&quot; value=&quot;none&quot;/&gt; &lt;!-- default, can be overridden per user or per project --&gt;
341         &lt;javadoc destdir=&quot;${javadoc.dir}&quot; source=&quot;1.8&quot;
342             windowtitle=&quot;UNOFFICIAL&quot; failonerror=&quot;true&quot; use=&quot;true&quot;
343             author=&quot;false&quot; version=&quot;false&quot;
344             packagenames=&quot;${javadoc.packagenames}&quot;&gt;
345             &lt;header&gt;&lt;![CDATA[&lt;strong&gt;Unofficial Javadoc&lt;/strong&gt; generated from developer sources for preview purposes only]]&gt;&lt;/header&gt;
346             &lt;arg line=&quot;${javadoc.options}&quot;/&gt;
347             &lt;bootclasspath&gt;
348                 &lt;path location=&quot;${bootstrap.jdk}/jre/lib/rt.jar&quot;/&gt;
349                 &lt;path location=&quot;${classes.dir}&quot;/&gt;
350             &lt;/bootclasspath&gt;
351             &lt;sourcepath&gt;
352                 &lt;pathelement location=&quot;${share.src.dir}&quot;/&gt;
353                 &lt;pathelement location=&quot;${platform.src.dir}&quot;/&gt;
354                 &lt;pathelement location=&quot;${root}/src/closed/share/classes&quot;/&gt;
355                 &lt;pathelement location=&quot;${root}/src/share/doc/stub&quot;/&gt;
356             &lt;/sourcepath&gt;
357             &lt;!-- XXX just &lt;fileset&gt; (restricted further to **/*.java) and no &lt;packageset&gt; --&gt;
358             &lt;!-- means that {@link some.package} will not work, which is no good. --&gt;
359             &lt;!-- (It correctly skips excluded single classes, but not if packageset is also included, --&gt;
360             &lt;!-- which also causes duplicates in the class index for included files.) --&gt;
361             &lt;packageset dir=&quot;${share.src.dir}&quot; includes=&quot;${includes}&quot; excludes=&quot;${excludes}&quot;&gt;
362                 &lt;or&gt;
363                     &lt;filename name=&quot;java/&quot;/&gt;
364                     &lt;filename name=&quot;javax/&quot;/&gt;
365                     &lt;filename name=&quot;org/ietf/jgss/&quot;/&gt;
366                     &lt;filename name=&quot;org/omg/&quot;/&gt;
367                     &lt;filename name=&quot;org/w3c/&quot;/&gt;
368                     &lt;filename name=&quot;org/xml/sax/&quot;/&gt;
369                 &lt;/or&gt;
370             &lt;/packageset&gt;
371         &lt;/javadoc&gt;
372     &lt;/target&gt;
373     &lt;target name=&quot;javadoc-nb&quot; depends=&quot;javadoc&quot; if=&quot;netbeans.home&quot;&gt;
374         &lt;nbbrowse file=&quot;${javadoc.dir}/index.html&quot;/&gt;
375     &lt;/target&gt;
376 
377 &lt;/project&gt;
    </pre>
  </body>
</html>