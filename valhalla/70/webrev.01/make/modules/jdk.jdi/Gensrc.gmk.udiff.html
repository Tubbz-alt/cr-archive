<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff make/modules/jdk.jdi/Gensrc.gmk</title>
    <link rel="stylesheet" href="../../../style.css" />
  </head>
<body>
<center><a href="../jdk.jdeps/Gensrc.gmk.udiff.html" target="_top">&lt; prev</a> <a href="../../../index.html" target="_top">index</a> <a href="../jdk.jlink/Gensrc.gmk.udiff.html" target="_top">next &gt;</a></center>    <h2>make/modules/jdk.jdi/Gensrc.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  #
<span class="udiff-line-modified-removed">- # Copyright (c) 2011, 2016, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+ # Copyright (c) 2011, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  #
  # This code is free software; you can redistribute it and/or modify it
  # under the terms of the GNU General Public License version 2 only, as
  # published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -30,10 +30,11 @@</span>
  # and a JDWPCommands.h C-header file.
  
  JDWP_SPEC_FILE := $(TOPDIR)/make/data/jdwp/jdwp.spec
  HEADER_FILE := $(SUPPORT_OUTPUTDIR)/headers/jdk.jdwp.agent/JDWPCommands.h
  JAVA_FILE := $(SUPPORT_OUTPUTDIR)/gensrc/jdk.jdi/com/sun/tools/jdi/JDWP.java
<span class="udiff-line-added">+ HTML_FILE := $(SUPPORT_OUTPUTDIR)/gensrc/jdk.jdi/jdwp-protocol.html</span>
  
  # Both the header and java file are created using the same recipe. By declaring
  # this rule and adding header file to dependencies for java file, both are
  # rebuilt if either is missing
  $(HEADER_FILE): $(JDWP_SPEC_FILE) $(BUILD_TOOLS_JDK)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -45,35 +46,24 @@</span>
  	$(RM) $@ $(SUPPORT_OUTPUTDIR)/headers/jdk.jdwp.agent/JDWPCommands.h
  	$(TOOL_JDWPGEN) $&lt; -jdi $@ -include \
  	    $(SUPPORT_OUTPUTDIR)/headers/jdk.jdwp.agent/JDWPCommands.h
  	$(TOUCH) $@
  
<span class="udiff-line-modified-removed">- $(SUPPORT_OUTPUTDIR)/gensrc/jdk.jdi/jdwp-protocol.html: $(JDWP_SPEC_FILE) \</span>
<span class="udiff-line-modified-added">+ $(HTML_FILE): $(JDWP_SPEC_FILE) \</span>
      $(BUILD_TOOLS_JDK)
  	$(call LogInfo, Creating $(@F) from jdwp.spec)
  	$(call MakeDir, $(@D))
  	$(RM) $@
  	$(TOOL_JDWPGEN) $&lt; -doc $@
  
<span class="udiff-line-modified-removed">- GENSRC_JDWP := $(SUPPORT_OUTPUTDIR)/gensrc/jdk.jdi/com/sun/tools/jdi/JDWP.java \</span>
<span class="udiff-line-removed">-     $(SUPPORT_OUTPUTDIR)/headers/jdk.jdwp.agent/JDWPCommands.h \</span>
<span class="udiff-line-removed">-     $(SUPPORT_OUTPUTDIR)/gensrc/jdk.jdi/jdwp-protocol.html</span>
<span class="udiff-line-removed">- GENSRC_JDK_JDI += $(GENSRC_JDWP)</span>
<span class="udiff-line-modified-added">+ TARGETS += $(JAVA_FILE) $(HEADER_FILE) $(HTML_FILE)</span>
  
  ################################################################################
  
  include GensrcProperties.gmk
  
  $(eval $(call SetupCompileProperties, COMPILE_PROPERTIES, \
      SRC_DIRS := $(TOPDIR)/src/jdk.jdi/share/classes/com/sun/tools/jdi/resources, \
      CLASS := ListResourceBundle, \
  ))
  
<span class="udiff-line-modified-removed">- GENSRC_JDK_JDI += $(COMPILE_PROPERTIES)</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- ################################################################################</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- jdk.jdi: $(GENSRC_JDK_JDI)</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- all: jdk.jdi</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- .PHONY: all jdk.jdi</span>
<span class="udiff-line-modified-added">+ TARGETS += $(COMPILE_PROPERTIES)</span>
</pre>
<center><a href="../jdk.jdeps/Gensrc.gmk.udiff.html" target="_top">&lt; prev</a> <a href="../../../index.html" target="_top">index</a> <a href="../jdk.jlink/Gensrc.gmk.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>