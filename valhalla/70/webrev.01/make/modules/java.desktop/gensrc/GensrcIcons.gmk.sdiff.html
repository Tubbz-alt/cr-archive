<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/modules/java.desktop/gensrc/GensrcIcons.gmk</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../Gensrc.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="GensrcSwing.gmk.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/modules/java.desktop/gensrc/GensrcIcons.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 85 	$(CAT) $$&lt; | $(TOOL_AWT_TOBIN) &gt;&gt; $$@.tmp
 86 	$(ECHO) &quot;}; }&quot; &gt;&gt; $$@.tmp
 87 	$(MV) $$@.tmp $$@
 88 
 89   GENSRC_AWT_ICONS += $$($1_TARGET32)
 90 
 91   $$($1_TARGET64): $2/$1 $(GENSRC_AWT_ICONS_TMP)/_the.icons.dir $(BUILD_TOOLS_JDK)
 92 	$(RM) $$@ $$@.tmp
 93 	$(ECHO) &quot;package sun.awt;&quot; &gt; $$@.tmp
 94 	$(ECHO) &quot;public class $$($1_NAME64) {&quot; &gt;&gt; $$@.tmp
 95 	$(ECHO) &quot;public static long[] $$($1_SHORTNAME) = { &quot; &gt;&gt; $$@.tmp
 96 	$(CAT) $$&lt; | $(TOOL_AWT_TOBIN) &gt;&gt; $$@.tmp
 97 	$(ECHO) &quot;}; }&quot; &gt;&gt; $$@.tmp
 98 	$(MV) $$@.tmp $$@
 99 
100   GENSRC_AWT_ICONS += $$($1_TARGET64)
101 endef
102 
103 $(foreach I, $(GENSRC_AWT_ICONS_SRC), $(eval $(call SetupGensrcAWTIcon,$(notdir $(I)),$(dir $(I)))))
104 
<span class="line-modified">105 GENSRC_JAVA_DESKTOP += $(GENSRC_AWT_ICONS)</span>
106 
107 ################################################################################
108 
109 ifeq ($(call isTargetOs, macosx), true)
110 
111   GENSRC_OSX_ICONS_DST := $(SUPPORT_OUTPUTDIR)/headers/java.desktop
112   GENSRC_OSX_ICONS := $(GENSRC_OSX_ICONS_DST)/AWTIconData.h
113 
114   GENSRC_OSX_ICONS_SRC ?= $(TOPDIR)/make/data/macosxicons/JavaApp.icns
115 
116 
117   $(GENSRC_OSX_ICONS): $(GENSRC_OSX_ICONS_SRC) $(BUILD_TOOLS_JDK)
118 	$(call LogInfo, Generating $(patsubst $(OUTPUTDIR)/%, %, $@))
119 	$(call MakeDir, $(@D))
120 	$(RM) $@ $@.tmp
121 	$(ECHO) &quot;static unsigned char sAWTIconData[] = { &quot; &gt;&gt; $@.tmp
122 	$(CAT) $&lt; | $(TOOL_OSX_TOBIN) &gt;&gt; $@.tmp
123 	$(ECHO) &quot;};&quot; &gt;&gt; $@.tmp
124 	$(MV) $@.tmp $@
125 
<span class="line-modified">126   GENSRC_JAVA_DESKTOP += $(GENSRC_OSX_ICONS)</span>
127 endif
</pre>
</td>
<td>
<hr />
<pre>
 85 	$(CAT) $$&lt; | $(TOOL_AWT_TOBIN) &gt;&gt; $$@.tmp
 86 	$(ECHO) &quot;}; }&quot; &gt;&gt; $$@.tmp
 87 	$(MV) $$@.tmp $$@
 88 
 89   GENSRC_AWT_ICONS += $$($1_TARGET32)
 90 
 91   $$($1_TARGET64): $2/$1 $(GENSRC_AWT_ICONS_TMP)/_the.icons.dir $(BUILD_TOOLS_JDK)
 92 	$(RM) $$@ $$@.tmp
 93 	$(ECHO) &quot;package sun.awt;&quot; &gt; $$@.tmp
 94 	$(ECHO) &quot;public class $$($1_NAME64) {&quot; &gt;&gt; $$@.tmp
 95 	$(ECHO) &quot;public static long[] $$($1_SHORTNAME) = { &quot; &gt;&gt; $$@.tmp
 96 	$(CAT) $$&lt; | $(TOOL_AWT_TOBIN) &gt;&gt; $$@.tmp
 97 	$(ECHO) &quot;}; }&quot; &gt;&gt; $$@.tmp
 98 	$(MV) $$@.tmp $$@
 99 
100   GENSRC_AWT_ICONS += $$($1_TARGET64)
101 endef
102 
103 $(foreach I, $(GENSRC_AWT_ICONS_SRC), $(eval $(call SetupGensrcAWTIcon,$(notdir $(I)),$(dir $(I)))))
104 
<span class="line-modified">105 TARGETS += $(GENSRC_AWT_ICONS)</span>
106 
107 ################################################################################
108 
109 ifeq ($(call isTargetOs, macosx), true)
110 
111   GENSRC_OSX_ICONS_DST := $(SUPPORT_OUTPUTDIR)/headers/java.desktop
112   GENSRC_OSX_ICONS := $(GENSRC_OSX_ICONS_DST)/AWTIconData.h
113 
114   GENSRC_OSX_ICONS_SRC ?= $(TOPDIR)/make/data/macosxicons/JavaApp.icns
115 
116 
117   $(GENSRC_OSX_ICONS): $(GENSRC_OSX_ICONS_SRC) $(BUILD_TOOLS_JDK)
118 	$(call LogInfo, Generating $(patsubst $(OUTPUTDIR)/%, %, $@))
119 	$(call MakeDir, $(@D))
120 	$(RM) $@ $@.tmp
121 	$(ECHO) &quot;static unsigned char sAWTIconData[] = { &quot; &gt;&gt; $@.tmp
122 	$(CAT) $&lt; | $(TOOL_OSX_TOBIN) &gt;&gt; $@.tmp
123 	$(ECHO) &quot;};&quot; &gt;&gt; $@.tmp
124 	$(MV) $@.tmp $@
125 
<span class="line-modified">126   TARGETS += $(GENSRC_OSX_ICONS)</span>
127 endif
</pre>
</td>
</tr>
</table>
<center><a href="../Gensrc.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="GensrcSwing.gmk.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>