<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/hotspot/share/ci/ciType.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="ciStreams.hpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="ciTypeFlow.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/ci/ciType.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -33,11 +33,10 @@</span>
  
  class ciType : public ciMetadata {
    CI_PACKAGE_ACCESS
    friend class ciKlass;
    friend class ciReturnAddress;
<span class="udiff-line-removed">-   friend class ciWrapper;</span>
  
  private:
    BasicType _basic_type;
  
    ciType(BasicType t);     // for primitive and unloaded types
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -76,13 +75,10 @@</span>
  
    // What kind of ciObject is this?
    bool is_type() const                      { return true; }
    bool is_classless() const                 { return is_primitive_type(); }
  
<span class="udiff-line-removed">-   virtual ciType*     unwrap()              { return this; }</span>
<span class="udiff-line-removed">-   virtual bool is_never_null() const        { return false; }</span>
<span class="udiff-line-removed">- </span>
    const char* name();
    virtual void print_name_on(outputStream* st);
    void print_name() {
      print_name_on(tty);
    }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -114,34 +110,6 @@</span>
    int  bci() { return _bci; }
  
    static ciReturnAddress* make(int bci);
  };
  
<span class="udiff-line-removed">- // ciWrapper</span>
<span class="udiff-line-removed">- //</span>
<span class="udiff-line-removed">- // This class wraps another type to carry additional information like nullability.</span>
<span class="udiff-line-removed">- // Should only be instantiated and used by ciTypeFlow and ciSignature.</span>
<span class="udiff-line-removed">- class ciWrapper : public ciType {</span>
<span class="udiff-line-removed">-   CI_PACKAGE_ACCESS</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- private:</span>
<span class="udiff-line-removed">-   ciType* _type;</span>
<span class="udiff-line-removed">-   bool _never_null;</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-   ciWrapper(ciType* type, bool never_null) : ciType(type-&gt;basic_type()) {</span>
<span class="udiff-line-removed">-     assert(type-&gt;is_valuetype(), &quot;should only be used for value types&quot;);</span>
<span class="udiff-line-removed">-     _type = type;</span>
<span class="udiff-line-removed">-     _never_null = never_null;</span>
<span class="udiff-line-removed">-   }</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-   const char* type_string() { return &quot;ciWrapper&quot;; }</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-   void print_impl(outputStream* st) { _type-&gt;print_impl(st); }</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- public:</span>
<span class="udiff-line-removed">-   bool    is_wrapper() const { return true; }</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-   ciType*     unwrap()       { return _type; }</span>
<span class="udiff-line-removed">-   bool is_never_null() const { return _never_null; }</span>
<span class="udiff-line-removed">- };</span>
<span class="udiff-line-removed">- </span>
  #endif // SHARE_CI_CITYPE_HPP
</pre>
<center><a href="ciStreams.hpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="ciTypeFlow.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>