<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/oops/instanceKlass.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../classfile/classFileParser.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="method.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/oops/instanceKlass.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 277     _misc_rewritten                           = 1 &lt;&lt; 3,  // methods rewritten.
 278     _misc_has_nonstatic_fields                = 1 &lt;&lt; 4,  // for sizing with UseCompressedOops
 279     _misc_should_verify_class                 = 1 &lt;&lt; 5,  // allow caching of preverification
 280     _misc_is_unsafe_anonymous                 = 1 &lt;&lt; 6,  // has embedded _unsafe_anonymous_host field
 281     _misc_is_contended                        = 1 &lt;&lt; 7,  // marked with contended annotation
 282     _misc_has_nonstatic_concrete_methods      = 1 &lt;&lt; 8,  // class/superclass/implemented interfaces has non-static, concrete methods
 283     _misc_declares_nonstatic_concrete_methods = 1 &lt;&lt; 9,  // directly declares non-static, concrete methods
 284     _misc_has_been_redefined                  = 1 &lt;&lt; 10,  // class has been redefined
 285     _misc_has_passed_fingerprint_check        = 1 &lt;&lt; 11, // when this class was loaded, the fingerprint computed from its
 286                                                          // code source was found to be matching the value recorded by AOT.
 287     _misc_is_scratch_class                    = 1 &lt;&lt; 12, // class is the redefined scratch class
 288     _misc_is_shared_boot_class                = 1 &lt;&lt; 13, // defining class loader is boot class loader
 289     _misc_is_shared_platform_class            = 1 &lt;&lt; 14, // defining class loader is platform class loader
 290     _misc_is_shared_app_class                 = 1 &lt;&lt; 15, // defining class loader is app class loader
 291     _misc_has_resolved_methods                = 1 &lt;&lt; 16, // resolved methods table entries added for this class
 292     _misc_is_being_redefined                  = 1 &lt;&lt; 17, // used for locking redefinition
 293     _misc_has_contended_annotations           = 1 &lt;&lt; 18, // has @Contended annotation
 294     _misc_has_value_fields                    = 1 &lt;&lt; 19, // has value fields and related embedded section is not empty
 295     _misc_is_empty_value                      = 1 &lt;&lt; 20, // empty value type
 296     _misc_is_naturally_atomic                 = 1 &lt;&lt; 21, // loaded/stored in one instruction
<span class="line-modified"> 297     _misc_is_declared_atomic                  = 1 &lt;&lt; 22  // implements jl.NonTearable</span>


 298   };
 299   u2 shared_loader_type_bits() const {
 300     return _misc_is_shared_boot_class|_misc_is_shared_platform_class|_misc_is_shared_app_class;
 301   }
 302   u4              _misc_flags;
 303   u2              _minor_version;        // minor version number of class file
 304   u2              _major_version;        // major version number of class file
 305   Thread*         _init_thread;          // Pointer to current thread doing initialization (to handle recursive initialization)
 306   OopMapCache*    volatile _oop_map_cache;   // OopMapCache for all methods in the klass (allocated lazily)
 307   JNIid*          _jni_ids;              // First JNI identifier for static fields in this class
 308   jmethodID*      volatile _methods_jmethod_ids;  // jmethodIDs corresponding to method_idnum, or NULL if none
 309   nmethodBucket*  volatile _dep_context;          // packed DependencyContext structure
 310   uint64_t        volatile _dep_context_last_cleaned;
 311   nmethod*        _osr_nmethods_head;    // Head of list of on-stack replacement nmethods for this class
 312 #if INCLUDE_JVMTI
 313   BreakpointInfo* _breakpoints;          // bpt lists, managed by Method*
 314   // Linked instanceKlasses of previous versions
 315   InstanceKlass* _previous_versions;
 316   // JVMTI fields can be moved to their own structure - see 6315920
 317   // JVMTI: cached class file, before retransformable agent modified it in CFLH
</pre>
<hr />
<pre>
 445     return (_misc_flags &amp; _misc_is_naturally_atomic) != 0;
 446   }
 447   // Initialized in the class file parser, not changed later.
 448   void set_is_naturally_atomic() {
 449     _misc_flags |= _misc_is_naturally_atomic;
 450   }
 451 
 452   // Query if this class implements jl.NonTearable or was
 453   // mentioned in the JVM option AlwaysAtomicValueTypes.
 454   // This bit can occur anywhere, but is only significant
 455   // for inline classes *and* their super types.
 456   // It inherits from supers along with NonTearable.
 457   bool is_declared_atomic() const {
 458     return (_misc_flags &amp; _misc_is_declared_atomic) != 0;
 459   }
 460   // Initialized in the class file parser, not changed later.
 461   void set_is_declared_atomic() {
 462     _misc_flags |= _misc_is_declared_atomic;
 463   }
 464 

















 465   // field sizes
 466   int nonstatic_field_size() const         { return _nonstatic_field_size; }
 467   void set_nonstatic_field_size(int size)  { _nonstatic_field_size = size; }
 468 
 469   int static_field_size() const            { return _static_field_size; }
 470   void set_static_field_size(int size)     { _static_field_size = size; }
 471 
 472   int static_oop_field_count() const       { return (int)_static_oop_field_count; }
 473   void set_static_oop_field_count(u2 size) { _static_oop_field_count = size; }
 474 
 475   // Java itable
 476   int  itable_length() const               { return _itable_len; }
 477   void set_itable_length(int len)          { _itable_len = len; }
 478 
 479   // array klasses
 480   Klass* array_klasses() const             { return _array_klasses; }
 481   inline Klass* array_klasses_acquire() const; // load with acquire semantics
 482   void set_array_klasses(Klass* k)         { _array_klasses = k; }
 483   inline void release_set_array_klasses(Klass* k); // store with release semantics
 484 
</pre>
</td>
<td>
<hr />
<pre>
 277     _misc_rewritten                           = 1 &lt;&lt; 3,  // methods rewritten.
 278     _misc_has_nonstatic_fields                = 1 &lt;&lt; 4,  // for sizing with UseCompressedOops
 279     _misc_should_verify_class                 = 1 &lt;&lt; 5,  // allow caching of preverification
 280     _misc_is_unsafe_anonymous                 = 1 &lt;&lt; 6,  // has embedded _unsafe_anonymous_host field
 281     _misc_is_contended                        = 1 &lt;&lt; 7,  // marked with contended annotation
 282     _misc_has_nonstatic_concrete_methods      = 1 &lt;&lt; 8,  // class/superclass/implemented interfaces has non-static, concrete methods
 283     _misc_declares_nonstatic_concrete_methods = 1 &lt;&lt; 9,  // directly declares non-static, concrete methods
 284     _misc_has_been_redefined                  = 1 &lt;&lt; 10,  // class has been redefined
 285     _misc_has_passed_fingerprint_check        = 1 &lt;&lt; 11, // when this class was loaded, the fingerprint computed from its
 286                                                          // code source was found to be matching the value recorded by AOT.
 287     _misc_is_scratch_class                    = 1 &lt;&lt; 12, // class is the redefined scratch class
 288     _misc_is_shared_boot_class                = 1 &lt;&lt; 13, // defining class loader is boot class loader
 289     _misc_is_shared_platform_class            = 1 &lt;&lt; 14, // defining class loader is platform class loader
 290     _misc_is_shared_app_class                 = 1 &lt;&lt; 15, // defining class loader is app class loader
 291     _misc_has_resolved_methods                = 1 &lt;&lt; 16, // resolved methods table entries added for this class
 292     _misc_is_being_redefined                  = 1 &lt;&lt; 17, // used for locking redefinition
 293     _misc_has_contended_annotations           = 1 &lt;&lt; 18, // has @Contended annotation
 294     _misc_has_value_fields                    = 1 &lt;&lt; 19, // has value fields and related embedded section is not empty
 295     _misc_is_empty_value                      = 1 &lt;&lt; 20, // empty value type
 296     _misc_is_naturally_atomic                 = 1 &lt;&lt; 21, // loaded/stored in one instruction
<span class="line-modified"> 297     _misc_is_declared_atomic                  = 1 &lt;&lt; 22, // implements jl.NonTearable</span>
<span class="line-added"> 298     _misc_invalid_inline_super                = 1 &lt;&lt; 23, // invalid super type for an inline type</span>
<span class="line-added"> 299     _misc_invalid_identity_super              = 1 &lt;&lt; 24  // invalid super type for an identity type</span>
 300   };
 301   u2 shared_loader_type_bits() const {
 302     return _misc_is_shared_boot_class|_misc_is_shared_platform_class|_misc_is_shared_app_class;
 303   }
 304   u4              _misc_flags;
 305   u2              _minor_version;        // minor version number of class file
 306   u2              _major_version;        // major version number of class file
 307   Thread*         _init_thread;          // Pointer to current thread doing initialization (to handle recursive initialization)
 308   OopMapCache*    volatile _oop_map_cache;   // OopMapCache for all methods in the klass (allocated lazily)
 309   JNIid*          _jni_ids;              // First JNI identifier for static fields in this class
 310   jmethodID*      volatile _methods_jmethod_ids;  // jmethodIDs corresponding to method_idnum, or NULL if none
 311   nmethodBucket*  volatile _dep_context;          // packed DependencyContext structure
 312   uint64_t        volatile _dep_context_last_cleaned;
 313   nmethod*        _osr_nmethods_head;    // Head of list of on-stack replacement nmethods for this class
 314 #if INCLUDE_JVMTI
 315   BreakpointInfo* _breakpoints;          // bpt lists, managed by Method*
 316   // Linked instanceKlasses of previous versions
 317   InstanceKlass* _previous_versions;
 318   // JVMTI fields can be moved to their own structure - see 6315920
 319   // JVMTI: cached class file, before retransformable agent modified it in CFLH
</pre>
<hr />
<pre>
 447     return (_misc_flags &amp; _misc_is_naturally_atomic) != 0;
 448   }
 449   // Initialized in the class file parser, not changed later.
 450   void set_is_naturally_atomic() {
 451     _misc_flags |= _misc_is_naturally_atomic;
 452   }
 453 
 454   // Query if this class implements jl.NonTearable or was
 455   // mentioned in the JVM option AlwaysAtomicValueTypes.
 456   // This bit can occur anywhere, but is only significant
 457   // for inline classes *and* their super types.
 458   // It inherits from supers along with NonTearable.
 459   bool is_declared_atomic() const {
 460     return (_misc_flags &amp; _misc_is_declared_atomic) != 0;
 461   }
 462   // Initialized in the class file parser, not changed later.
 463   void set_is_declared_atomic() {
 464     _misc_flags |= _misc_is_declared_atomic;
 465   }
 466 
<span class="line-added"> 467   // Query if class is an invalid super class for an inline type.</span>
<span class="line-added"> 468   bool invalid_inline_super() const {</span>
<span class="line-added"> 469     return (_misc_flags &amp; _misc_invalid_inline_super) != 0;</span>
<span class="line-added"> 470   }</span>
<span class="line-added"> 471   // Initialized in the class file parser, not changed later.</span>
<span class="line-added"> 472   void set_invalid_inline_super() {</span>
<span class="line-added"> 473     _misc_flags |= _misc_invalid_inline_super;</span>
<span class="line-added"> 474   }</span>
<span class="line-added"> 475   // Query if class is an invalid super class for an identity type.</span>
<span class="line-added"> 476   bool invalid_identity_super() const {</span>
<span class="line-added"> 477     return (_misc_flags &amp; _misc_invalid_identity_super) != 0;</span>
<span class="line-added"> 478   }</span>
<span class="line-added"> 479   // Initialized in the class file parser, not changed later.</span>
<span class="line-added"> 480   void set_invalid_identity_super() {</span>
<span class="line-added"> 481     _misc_flags |= _misc_invalid_identity_super;</span>
<span class="line-added"> 482   }</span>
<span class="line-added"> 483 </span>
 484   // field sizes
 485   int nonstatic_field_size() const         { return _nonstatic_field_size; }
 486   void set_nonstatic_field_size(int size)  { _nonstatic_field_size = size; }
 487 
 488   int static_field_size() const            { return _static_field_size; }
 489   void set_static_field_size(int size)     { _static_field_size = size; }
 490 
 491   int static_oop_field_count() const       { return (int)_static_oop_field_count; }
 492   void set_static_oop_field_count(u2 size) { _static_oop_field_count = size; }
 493 
 494   // Java itable
 495   int  itable_length() const               { return _itable_len; }
 496   void set_itable_length(int len)          { _itable_len = len; }
 497 
 498   // array klasses
 499   Klass* array_klasses() const             { return _array_klasses; }
 500   inline Klass* array_klasses_acquire() const; // load with acquire semantics
 501   void set_array_klasses(Klass* k)         { _array_klasses = k; }
 502   inline void release_set_array_klasses(Klass* k); // store with release semantics
 503 
</pre>
</td>
</tr>
</table>
<center><a href="../classfile/classFileParser.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="method.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>