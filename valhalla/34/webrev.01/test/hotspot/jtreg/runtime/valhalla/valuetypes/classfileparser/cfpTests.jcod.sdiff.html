<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/hotspot/jtreg/runtime/valhalla/valuetypes/classfileparser/cfpTests.jcod</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="BadValueTypes.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>test/hotspot/jtreg/runtime/valhalla/valuetypes/classfileparser/cfpTests.jcod</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 823     Attr(#41, 10) { // InnerClasses at 0x03E0
 824       [1] { // InnerClasses
 825         #39 #43 #40 25; //  at 0x03F0
 826       }
 827     } // end InnerClasses
 828     ;
 829     Attr(#25, 6) { // BootstrapMethods at 0x03F0
 830       [1] { // bootstrap_methods
 831         {  //  bootstrap_method
 832           #26; // bootstrap_method_ref
 833           [0] { // bootstrap_arguments
 834           }  //  bootstrap_arguments
 835         }  //  bootstrap_method
 836       }
 837     } // end BootstrapMethods
 838   } // Attributes
 839 } // end class ValueMethodSynch
 840 
 841 //////////////////////////////////////////////////////////////////////
 842 
<span class="line-removed"> 843 // Test that an inline type&#39;s super class must be java.lang.Object.</span>
<span class="line-removed"> 844 //</span>
<span class="line-removed"> 845 // final inline class ValueSuperClass {</span>
<span class="line-removed"> 846 //     final int int_v;</span>
<span class="line-removed"> 847 //</span>
<span class="line-removed"> 848 //     ValueSuperClass() { int_v = 1; }</span>
<span class="line-removed"> 849 // }</span>
<span class="line-removed"> 850 </span>
<span class="line-removed"> 851 class ValueSuperClass {</span>
<span class="line-removed"> 852   0xCAFEBABE;</span>
<span class="line-removed"> 853   0; // minor version</span>
<span class="line-removed"> 854   59; // version</span>
<span class="line-removed"> 855   [44] { // Constant Pool</span>
<span class="line-removed"> 856     ; // first element is empty</span>
<span class="line-removed"> 857     class #21; // #1     at 0x0A</span>
<span class="line-removed"> 858     Field #1 #22; // #2     at 0x0D</span>
<span class="line-removed"> 859     InvokeDynamic 0s #25; // #3     at 0x12</span>
<span class="line-removed"> 860     InvokeDynamic 0s #26; // #4     at 0x17</span>
<span class="line-removed"> 861     InvokeDynamic 0s #27; // #5     at 0x1C</span>
<span class="line-removed"> 862     class #28; // #6     at 0x21</span>
<span class="line-removed"> 863     Utf8 &quot;int_v&quot;; // #7     at 0x24</span>
<span class="line-removed"> 864     Utf8 &quot;I&quot;; // #8     at 0x2C</span>
<span class="line-removed"> 865     Utf8 &quot;hashCode&quot;; // #9     at 0x30</span>
<span class="line-removed"> 866     Utf8 &quot;()I&quot;; // #10     at 0x3B</span>
<span class="line-removed"> 867     Utf8 &quot;Code&quot;; // #11     at 0x41</span>
<span class="line-removed"> 868     Utf8 &quot;LineNumberTable&quot;; // #12     at 0x48</span>
<span class="line-removed"> 869     Utf8 &quot;equals&quot;; // #13     at 0x5A</span>
<span class="line-removed"> 870     Utf8 &quot;(Ljava/lang/Object;)Z&quot;; // #14     at 0x63</span>
<span class="line-removed"> 871     Utf8 &quot;toString&quot;; // #15     at 0x7B</span>
<span class="line-removed"> 872     Utf8 &quot;()Ljava/lang/String;&quot;; // #16     at 0x86</span>
<span class="line-removed"> 873     Utf8 &quot;&lt;init&gt;&quot;; // #17     at 0x9D</span>
<span class="line-removed"> 874     Utf8 &quot;()QValueSuperClass;&quot;; // #18     at 0xA6</span>
<span class="line-removed"> 875     Utf8 &quot;SourceFile&quot;; // #19     at 0xBC</span>
<span class="line-removed"> 876     Utf8 &quot;ValueSuperClass.java&quot;; // #20     at 0xC9</span>
<span class="line-removed"> 877     Utf8 &quot;ValueSuperClass&quot;; // #21     at 0xE0</span>
<span class="line-removed"> 878     NameAndType #7 #8; // #22     at 0xF2</span>
<span class="line-removed"> 879     Utf8 &quot;BootstrapMethods&quot;; // #23     at 0xF7</span>
<span class="line-removed"> 880     MethodHandle 6b #29; // #24     at 0x010A</span>
<span class="line-removed"> 881     NameAndType #9 #30; // #25     at 0x010E</span>
<span class="line-removed"> 882     NameAndType #13 #31; // #26     at 0x0113</span>
<span class="line-removed"> 883     NameAndType #15 #32; // #27     at 0x0118</span>
<span class="line-removed"> 884     Utf8 &quot;java/lang/Object&quot;; // #28     at 0x011D</span>
<span class="line-removed"> 885     Method #33 #34; // #29     at 0x0130</span>
<span class="line-removed"> 886     Utf8 &quot;(QValueSuperClass;)I&quot;; // #30     at 0x0135</span>
<span class="line-removed"> 887     Utf8 &quot;(QValueSuperClass;Ljava/lang/Object;)Z&quot;; // #31     at 0x014C</span>
<span class="line-removed"> 888     Utf8 &quot;(QValueSuperClass;)Ljava/lang/String;&quot;; // #32     at 0x0175</span>
<span class="line-removed"> 889     class #35; // #33     at 0x019D</span>
<span class="line-removed"> 890     NameAndType #36 #40; // #34     at 0x01A0</span>
<span class="line-removed"> 891     Utf8 &quot;java/lang/invoke/ValueBootstrapMethods&quot;; // #35     at 0x01A5</span>
<span class="line-removed"> 892     Utf8 &quot;makeBootstrapMethod&quot;; // #36     at 0x01CE</span>
<span class="line-removed"> 893     class #42; // #37     at 0x01E4</span>
<span class="line-removed"> 894     Utf8 &quot;Lookup&quot;; // #38     at 0x01E7</span>
<span class="line-removed"> 895     Utf8 &quot;InnerClasses&quot;; // #39     at 0x01F0</span>
<span class="line-removed"> 896     Utf8 &quot;(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;&quot;; // #40     at 0x01FF</span>
<span class="line-removed"> 897     class #43; // #41     at 0x0275</span>
<span class="line-removed"> 898     Utf8 &quot;java/lang/invoke/MethodHandles$Lookup&quot;; // #42     at 0x0278</span>
<span class="line-removed"> 899     Utf8 &quot;java/lang/invoke/MethodHandles&quot;; // #43     at 0x02A0</span>
<span class="line-removed"> 900   } // Constant Pool</span>
<span class="line-removed"> 901 </span>
<span class="line-removed"> 902   0x0130; // access [ ACC_SUPER ACC_FINAL ]</span>
<span class="line-removed"> 903   #1;// this_cpx</span>
<span class="line-removed"> 904   #37;// super_cpx // bad: was #6</span>
<span class="line-removed"> 905 </span>
<span class="line-removed"> 906   [0] { // Interfaces</span>
<span class="line-removed"> 907   } // Interfaces</span>
<span class="line-removed"> 908 </span>
<span class="line-removed"> 909   [1] { // fields</span>
<span class="line-removed"> 910     { // Member at 0x02CB</span>
<span class="line-removed"> 911       0x0010; // access</span>
<span class="line-removed"> 912       #7; // name_cpx</span>
<span class="line-removed"> 913       #8; // sig_cpx</span>
<span class="line-removed"> 914       [0] { // Attributes</span>
<span class="line-removed"> 915       } // Attributes</span>
<span class="line-removed"> 916     } // Member</span>
<span class="line-removed"> 917   } // fields</span>
<span class="line-removed"> 918 </span>
<span class="line-removed"> 919   [4] { // methods</span>
<span class="line-removed"> 920     { // Member at 0x02D5</span>
<span class="line-removed"> 921       0x0011; // access</span>
<span class="line-removed"> 922       #9; // name_cpx</span>
<span class="line-removed"> 923       #10; // sig_cpx</span>
<span class="line-removed"> 924       [1] { // Attributes</span>
<span class="line-removed"> 925         Attr(#11, 31) { // Code at 0x02DD</span>
<span class="line-removed"> 926           1; // max_stack</span>
<span class="line-removed"> 927           1; // max_locals</span>
<span class="line-removed"> 928           Bytes[7]{</span>
<span class="line-removed"> 929             0x2ABA00030000AC;</span>
<span class="line-removed"> 930           };</span>
<span class="line-removed"> 931           [0] { // Traps</span>
<span class="line-removed"> 932           } // end Traps</span>
<span class="line-removed"> 933           [1] { // Attributes</span>
<span class="line-removed"> 934             Attr(#12, 6) { // LineNumberTable at 0x02F6</span>
<span class="line-removed"> 935               [1] { // LineNumberTable</span>
<span class="line-removed"> 936                 0  1; //  at 0x0302</span>
<span class="line-removed"> 937               }</span>
<span class="line-removed"> 938             } // end LineNumberTable</span>
<span class="line-removed"> 939           } // Attributes</span>
<span class="line-removed"> 940         } // end Code</span>
<span class="line-removed"> 941       } // Attributes</span>
<span class="line-removed"> 942     } // Member</span>
<span class="line-removed"> 943     ;</span>
<span class="line-removed"> 944     { // Member at 0x0302</span>
<span class="line-removed"> 945       0x0011; // access</span>
<span class="line-removed"> 946       #13; // name_cpx</span>
<span class="line-removed"> 947       #14; // sig_cpx</span>
<span class="line-removed"> 948       [1] { // Attributes</span>
<span class="line-removed"> 949         Attr(#11, 32) { // Code at 0x030A</span>
<span class="line-removed"> 950           2; // max_stack</span>
<span class="line-removed"> 951           2; // max_locals</span>
<span class="line-removed"> 952           Bytes[8]{</span>
<span class="line-removed"> 953             0x2A2BBA00040000AC;</span>
<span class="line-removed"> 954           };</span>
<span class="line-removed"> 955           [0] { // Traps</span>
<span class="line-removed"> 956           } // end Traps</span>
<span class="line-removed"> 957           [1] { // Attributes</span>
<span class="line-removed"> 958             Attr(#12, 6) { // LineNumberTable at 0x0324</span>
<span class="line-removed"> 959               [1] { // LineNumberTable</span>
<span class="line-removed"> 960                 0  1; //  at 0x0330</span>
<span class="line-removed"> 961               }</span>
<span class="line-removed"> 962             } // end LineNumberTable</span>
<span class="line-removed"> 963           } // Attributes</span>
<span class="line-removed"> 964         } // end Code</span>
<span class="line-removed"> 965       } // Attributes</span>
<span class="line-removed"> 966     } // Member</span>
<span class="line-removed"> 967     ;</span>
<span class="line-removed"> 968     { // Member at 0x0330</span>
<span class="line-removed"> 969       0x0011; // access</span>
<span class="line-removed"> 970       #15; // name_cpx</span>
<span class="line-removed"> 971       #16; // sig_cpx</span>
<span class="line-removed"> 972       [1] { // Attributes</span>
<span class="line-removed"> 973         Attr(#11, 31) { // Code at 0x0338</span>
<span class="line-removed"> 974           1; // max_stack</span>
<span class="line-removed"> 975           1; // max_locals</span>
<span class="line-removed"> 976           Bytes[7]{</span>
<span class="line-removed"> 977             0x2ABA00050000B0;</span>
<span class="line-removed"> 978           };</span>
<span class="line-removed"> 979           [0] { // Traps</span>
<span class="line-removed"> 980           } // end Traps</span>
<span class="line-removed"> 981           [1] { // Attributes</span>
<span class="line-removed"> 982             Attr(#12, 6) { // LineNumberTable at 0x0351</span>
<span class="line-removed"> 983               [1] { // LineNumberTable</span>
<span class="line-removed"> 984                 0  1; //  at 0x035D</span>
<span class="line-removed"> 985               }</span>
<span class="line-removed"> 986             } // end LineNumberTable</span>
<span class="line-removed"> 987           } // Attributes</span>
<span class="line-removed"> 988         } // end Code</span>
<span class="line-removed"> 989       } // Attributes</span>
<span class="line-removed"> 990     } // Member</span>
<span class="line-removed"> 991     ;</span>
<span class="line-removed"> 992     { // Member at 0x035D</span>
<span class="line-removed"> 993       0x0008; // access</span>
<span class="line-removed"> 994       #17; // name_cpx</span>
<span class="line-removed"> 995       #18; // sig_cpx</span>
<span class="line-removed"> 996       [1] { // Attributes</span>
<span class="line-removed"> 997         Attr(#11, 37) { // Code at 0x0365</span>
<span class="line-removed"> 998           2; // max_stack</span>
<span class="line-removed"> 999           1; // max_locals</span>
<span class="line-removed">1000           Bytes[13]{</span>
<span class="line-removed">1001             0xCB00014B042A5FCC;</span>
<span class="line-removed">1002             0x00024B2AB0;</span>
<span class="line-removed">1003           };</span>
<span class="line-removed">1004           [0] { // Traps</span>
<span class="line-removed">1005           } // end Traps</span>
<span class="line-removed">1006           [1] { // Attributes</span>
<span class="line-removed">1007             Attr(#12, 6) { // LineNumberTable at 0x0384</span>
<span class="line-removed">1008               [1] { // LineNumberTable</span>
<span class="line-removed">1009                 0  4; //  at 0x0390</span>
<span class="line-removed">1010               }</span>
<span class="line-removed">1011             } // end LineNumberTable</span>
<span class="line-removed">1012           } // Attributes</span>
<span class="line-removed">1013         } // end Code</span>
<span class="line-removed">1014       } // Attributes</span>
<span class="line-removed">1015     } // Member</span>
<span class="line-removed">1016   } // methods</span>
<span class="line-removed">1017 </span>
<span class="line-removed">1018   [3] { // Attributes</span>
<span class="line-removed">1019     Attr(#19, 2) { // SourceFile at 0x0392</span>
<span class="line-removed">1020       #20;</span>
<span class="line-removed">1021     } // end SourceFile</span>
<span class="line-removed">1022     ;</span>
<span class="line-removed">1023     Attr(#39, 10) { // InnerClasses at 0x039A</span>
<span class="line-removed">1024       [1] { // InnerClasses</span>
<span class="line-removed">1025         #37 #41 #38 25; //  at 0x03AA</span>
<span class="line-removed">1026       }</span>
<span class="line-removed">1027     } // end InnerClasses</span>
<span class="line-removed">1028     ;</span>
<span class="line-removed">1029     Attr(#23, 6) { // BootstrapMethods at 0x03AA</span>
<span class="line-removed">1030       [1] { // bootstrap_methods</span>
<span class="line-removed">1031         {  //  bootstrap_method</span>
<span class="line-removed">1032           #24; // bootstrap_method_ref</span>
<span class="line-removed">1033           [0] { // bootstrap_arguments</span>
<span class="line-removed">1034           }  //  bootstrap_arguments</span>
<span class="line-removed">1035         }  //  bootstrap_method</span>
<span class="line-removed">1036       }</span>
<span class="line-removed">1037     } // end BootstrapMethods</span>
<span class="line-removed">1038   } // Attributes</span>
<span class="line-removed">1039 } // end class ValueSuperClass</span>
<span class="line-removed">1040 </span>
<span class="line-removed">1041 //////////////////////////////////////////////////////////////////////</span>
<span class="line-removed">1042 </span>
1043 // Value types Circ and Circ2 have fields of each other&#39;s type.  This should
1044 // cause a ClassCircularityError exception when one of them is being loaded.
1045 //
1046 // The inline types are based on these two Java classes:
1047 //
1048 // final inline class Circ {
1049 //     static final Circ VT = makeCirc(0x01234567);
1050 //     final int int_v;
1051 //     final Circ2 v2;
1052 //     Circ() {
1053 //         int_v = 1;
1054 //         v2 = Circ2.default;
1055 //     }
1056 //     static Circ makeCirc(int x) {
1057 //         Circ v = Circ.default;
1058 //         v = __WithField(v.int_v, x);
1059 //         return v;
1060 //     }
1061 // }
1062 //----------------------------------------------------------------
</pre>
</td>
<td>
<hr />
<pre>
 823     Attr(#41, 10) { // InnerClasses at 0x03E0
 824       [1] { // InnerClasses
 825         #39 #43 #40 25; //  at 0x03F0
 826       }
 827     } // end InnerClasses
 828     ;
 829     Attr(#25, 6) { // BootstrapMethods at 0x03F0
 830       [1] { // bootstrap_methods
 831         {  //  bootstrap_method
 832           #26; // bootstrap_method_ref
 833           [0] { // bootstrap_arguments
 834           }  //  bootstrap_arguments
 835         }  //  bootstrap_method
 836       }
 837     } // end BootstrapMethods
 838   } // Attributes
 839 } // end class ValueMethodSynch
 840 
 841 //////////////////////////////////////////////////////////////////////
 842 








































































































































































































 843 // Value types Circ and Circ2 have fields of each other&#39;s type.  This should
 844 // cause a ClassCircularityError exception when one of them is being loaded.
 845 //
 846 // The inline types are based on these two Java classes:
 847 //
 848 // final inline class Circ {
 849 //     static final Circ VT = makeCirc(0x01234567);
 850 //     final int int_v;
 851 //     final Circ2 v2;
 852 //     Circ() {
 853 //         int_v = 1;
 854 //         v2 = Circ2.default;
 855 //     }
 856 //     static Circ makeCirc(int x) {
 857 //         Circ v = Circ.default;
 858 //         v = __WithField(v.int_v, x);
 859 //         return v;
 860 //     }
 861 // }
 862 //----------------------------------------------------------------
</pre>
</td>
</tr>
</table>
<center><a href="BadValueTypes.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>