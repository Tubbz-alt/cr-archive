<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/lang/reflect/AccessibleObject.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../Class.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="Constructor.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/lang/reflect/AccessibleObject.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 1997, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
505      * Constructor: only used by the Java Virtual Machine.
506      */
507     protected AccessibleObject() {}
508 
509     // Indicates whether language-level access checks are overridden
510     // by this object. Initializes to &quot;false&quot;. This field is used by
511     // Field, Method, and Constructor.
512     //
513     // NOTE: for security purposes, this field must not be visible
514     // outside this package.
515     boolean override;
516 
517     // Reflection factory used by subclasses for creating field,
518     // method, and constructor accessors. Note that this is called
519     // very early in the bootstrapping process.
520     static final ReflectionFactory reflectionFactory =
521         AccessController.doPrivileged(
522             new ReflectionFactory.GetReflectionFactoryAction());
523 
524     /**





525      * @throws NullPointerException {@inheritDoc}
526      * @since 1.5
527      */

528     public &lt;T extends Annotation&gt; T getAnnotation(Class&lt;T&gt; annotationClass) {
529         throw new AssertionError(&quot;All subclasses should override this method&quot;);
530     }
531 
532     /**
533      * {@inheritDoc}

534      * @throws NullPointerException {@inheritDoc}
535      * @since 1.5
536      */
537     @Override
538     public boolean isAnnotationPresent(Class&lt;? extends Annotation&gt; annotationClass) {
539         return AnnotatedElement.super.isAnnotationPresent(annotationClass);
540     }
541 
542     /**





543      * @throws NullPointerException {@inheritDoc}
544      * @since 1.8
545      */
546     @Override
547     public &lt;T extends Annotation&gt; T[] getAnnotationsByType(Class&lt;T&gt; annotationClass) {
548         throw new AssertionError(&quot;All subclasses should override this method&quot;);
549     }
550 
551     /**





552      * @since 1.5
553      */

554     public Annotation[] getAnnotations() {
555         return getDeclaredAnnotations();
556     }
557 
558     /**





559      * @throws NullPointerException {@inheritDoc}
560      * @since 1.8
561      */
562     @Override
563     public &lt;T extends Annotation&gt; T getDeclaredAnnotation(Class&lt;T&gt; annotationClass) {
564         // Only annotations on classes are inherited, for all other
565         // objects getDeclaredAnnotation is the same as
566         // getAnnotation.
567         return getAnnotation(annotationClass);
568     }
569 
570     /**





571      * @throws NullPointerException {@inheritDoc}
572      * @since 1.8
573      */
574     @Override
575     public &lt;T extends Annotation&gt; T[] getDeclaredAnnotationsByType(Class&lt;T&gt; annotationClass) {
576         // Only annotations on classes are inherited, for all other
577         // objects getDeclaredAnnotationsByType is the same as
578         // getAnnotationsByType.
579         return getAnnotationsByType(annotationClass);
580     }
581 
582     /**





583      * @since 1.5
584      */

585     public Annotation[] getDeclaredAnnotations()  {
586         throw new AssertionError(&quot;All subclasses should override this method&quot;);
587     }
588 
589     // Shared access checking logic.
590 
591     // For non-public members or members in package-private classes,
592     // it is necessary to perform somewhat expensive access checks.
593     // If the access check succeeds for a given class, it will
594     // always succeed (it is not affected by the granting or revoking
595     // of permissions); we speed up the check in the common case by
596     // remembering the last Class for which the check succeeded.
597     //
598     // The simple access check for Constructor is to see if
599     // the caller has already been seen, verified, and cached.
600     //
601     // A more complicated access check cache is needed for Method and Field
602     // The cache can be either null (empty cache), {caller,targetClass} pair,
603     // or a caller (with targetClass implicitly equal to memberClass).
604     // In the {caller,targetClass} case, the targetClass is always different
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 1997, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
505      * Constructor: only used by the Java Virtual Machine.
506      */
507     protected AccessibleObject() {}
508 
509     // Indicates whether language-level access checks are overridden
510     // by this object. Initializes to &quot;false&quot;. This field is used by
511     // Field, Method, and Constructor.
512     //
513     // NOTE: for security purposes, this field must not be visible
514     // outside this package.
515     boolean override;
516 
517     // Reflection factory used by subclasses for creating field,
518     // method, and constructor accessors. Note that this is called
519     // very early in the bootstrapping process.
520     static final ReflectionFactory reflectionFactory =
521         AccessController.doPrivileged(
522             new ReflectionFactory.GetReflectionFactoryAction());
523 
524     /**
<span class="line-added">525      * {@inheritDoc}</span>
<span class="line-added">526      *</span>
<span class="line-added">527      * &lt;p&gt; Note that any annotation returned by this method is a</span>
<span class="line-added">528      * declaration annotation.</span>
<span class="line-added">529      *</span>
530      * @throws NullPointerException {@inheritDoc}
531      * @since 1.5
532      */
<span class="line-added">533     @Override</span>
534     public &lt;T extends Annotation&gt; T getAnnotation(Class&lt;T&gt; annotationClass) {
535         throw new AssertionError(&quot;All subclasses should override this method&quot;);
536     }
537 
538     /**
539      * {@inheritDoc}
<span class="line-added">540      *</span>
541      * @throws NullPointerException {@inheritDoc}
542      * @since 1.5
543      */
544     @Override
545     public boolean isAnnotationPresent(Class&lt;? extends Annotation&gt; annotationClass) {
546         return AnnotatedElement.super.isAnnotationPresent(annotationClass);
547     }
548 
549     /**
<span class="line-added">550      * {@inheritDoc}</span>
<span class="line-added">551      *</span>
<span class="line-added">552      * &lt;p&gt; Note that any annotations returned by this method are</span>
<span class="line-added">553      * declaration annotations.</span>
<span class="line-added">554      *</span>
555      * @throws NullPointerException {@inheritDoc}
556      * @since 1.8
557      */
558     @Override
559     public &lt;T extends Annotation&gt; T[] getAnnotationsByType(Class&lt;T&gt; annotationClass) {
560         throw new AssertionError(&quot;All subclasses should override this method&quot;);
561     }
562 
563     /**
<span class="line-added">564      * {@inheritDoc}</span>
<span class="line-added">565      *</span>
<span class="line-added">566      * &lt;p&gt; Note that any annotations returned by this method are</span>
<span class="line-added">567      * declaration annotations.</span>
<span class="line-added">568      *</span>
569      * @since 1.5
570      */
<span class="line-added">571     @Override</span>
572     public Annotation[] getAnnotations() {
573         return getDeclaredAnnotations();
574     }
575 
576     /**
<span class="line-added">577      * {@inheritDoc}</span>
<span class="line-added">578      *</span>
<span class="line-added">579      * &lt;p&gt; Note that any annotation returned by this method is a</span>
<span class="line-added">580      * declaration annotation.</span>
<span class="line-added">581      *</span>
582      * @throws NullPointerException {@inheritDoc}
583      * @since 1.8
584      */
585     @Override
586     public &lt;T extends Annotation&gt; T getDeclaredAnnotation(Class&lt;T&gt; annotationClass) {
587         // Only annotations on classes are inherited, for all other
588         // objects getDeclaredAnnotation is the same as
589         // getAnnotation.
590         return getAnnotation(annotationClass);
591     }
592 
593     /**
<span class="line-added">594      * {@inheritDoc}</span>
<span class="line-added">595      *</span>
<span class="line-added">596      * &lt;p&gt; Note that any annotations returned by this method are</span>
<span class="line-added">597      * declaration annotations.</span>
<span class="line-added">598      *</span>
599      * @throws NullPointerException {@inheritDoc}
600      * @since 1.8
601      */
602     @Override
603     public &lt;T extends Annotation&gt; T[] getDeclaredAnnotationsByType(Class&lt;T&gt; annotationClass) {
604         // Only annotations on classes are inherited, for all other
605         // objects getDeclaredAnnotationsByType is the same as
606         // getAnnotationsByType.
607         return getAnnotationsByType(annotationClass);
608     }
609 
610     /**
<span class="line-added">611      * {@inheritDoc}</span>
<span class="line-added">612      *</span>
<span class="line-added">613      * &lt;p&gt; Note that any annotations returned by this method are</span>
<span class="line-added">614      * declaration annotations.</span>
<span class="line-added">615      *</span>
616      * @since 1.5
617      */
<span class="line-added">618     @Override</span>
619     public Annotation[] getDeclaredAnnotations()  {
620         throw new AssertionError(&quot;All subclasses should override this method&quot;);
621     }
622 
623     // Shared access checking logic.
624 
625     // For non-public members or members in package-private classes,
626     // it is necessary to perform somewhat expensive access checks.
627     // If the access check succeeds for a given class, it will
628     // always succeed (it is not affected by the granting or revoking
629     // of permissions); we speed up the check in the common case by
630     // remembering the last Class for which the check succeeded.
631     //
632     // The simple access check for Constructor is to see if
633     // the caller has already been seen, verified, and cached.
634     //
635     // A more complicated access check cache is needed for Method and Field
636     // The cache can be either null (empty cache), {caller,targetClass} pair,
637     // or a caller (with targetClass implicitly equal to memberClass).
638     // In the {caller,targetClass} case, the targetClass is always different
</pre>
</td>
</tr>
</table>
<center><a href="../Class.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="Constructor.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>